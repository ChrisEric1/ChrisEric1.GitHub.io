"use strict";(this.webpackChunkdiscord_developers=this.webpackChunkdiscord_developers||[]).push([[3386],{46287:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=T;var n,o=_(r(67294)),a=D(r(94184)),i=r(96486),u=r(36211),l=r(30887),f=D(r(6118)),c=_(r(56117)),d=_(r(84455)),p=r(19290),s=D(r(41908)),v=D(r(31055)),y=D(r(86750)),g=D(r(86460)),m=D(r(69245)),O=D(r(31536)),b=D(r(64197)),h=r(34596),M=D(r(51628));function D(e){return e&&e.__esModule?e:{default:e}}function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(w=function(e){return e?r:t})(e)}function _(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=w(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null
;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=e[a]}n.default=e;r&&r.set(e,n);return n}function P(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;t||0===i||(t={children:void 0});if(1===i)t.children=o;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&a)for(var f in a)void 0===t[f]&&(t[f]=a[f]);else t||(t=a||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function S(e,t,r,n,o,a,i){try{var u=e[a](i),l=u.value}catch(e){r(e);return}u.done?t(l):Promise.resolve(l).then(n,o)}function E(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){S(a,n,o,i,u,"next",e)}function u(e){S(a,n,o,i,u,"throw",e)}i(void 0)}))}}function j(){return(j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]
;for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var N,I={prefix:"/",target:"",id:(0,i.uniqueId)()};!function(e){e[e.UNSUBMITTED=0]="UNSUBMITTED";e[e.SUBMITTING=1]="SUBMITTING";e[e.SUBMITTED=2]="SUBMITTED"}(N||(N={}));function T(e){var t,r=e.applicationId,n=(0,u.useStateFromStores)([f.default],(function(){return f.default.getApplicationProxyConfig(r)})),D=o.useMemo((function(){return function(e){var t;if(null==e||0===e.length)return[[],j({},I)];var r=e.map((function(e){return j({},e,{id:(0,i.uniqueId)()})})),n=null!==(t=r.pop())&&void 0!==t?t:j({},I);return[r,n]}(n)}),[n]),w=D[0],_=D[1],S=o.useState(N.UNSUBMITTED),T=S[0],A=S[1],R=o.useState(null),k=R[0],x=R[1],C=o.useState([].concat(w)),U=C[0],G=C[1],B=o.useState(j({},_)),W=B[0],L=B[1];o.useEffect((function(){G([].concat(w));L(j({},_))}),[w,_]);function F(){return $.apply(this,arguments)}function $(){return($=E(regeneratorRuntime.mark((function e(){var t
;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:A(N.SUBMITTING);(t=U.map((function(e){return{prefix:e.prefix,target:e.target}}))).push({prefix:W.prefix,target:W.target});e.prev=3;e.next=6;return(0,l.updateApplicationProxyConfig)(r,t);case 6:e.next=11;break;case 8:e.prev=8;e.t0=e.catch(3);x((0,p.getMessageFromAPIError)(e.t0,h.Messages.Errors.ERROR_SUBMITTING_FORM.format()));case 11:A(N.SUBMITTED);case 12:case"end":return e.stop()}}),e,null,[[3,8]])})))).apply(this,arguments)}return P(y.default,{},void 0,P(s.default,{onSubmit:F},void 0,P(g.default,{},void 0,h.Messages.EmbeddedApplication.URL_MAPPINGS),null!=k?P(v.default,{type:v.default.Types.ERROR},void 0,k):T===N.SUBMITTED?P(v.default,{type:v.default.Types.SUCCESS},void 0,h.Messages.Alerts.SUCCESS_CHANGES_SAVED):null,P(d.default,{},void 0,P(O.default,{getId:function(e){return e.id},onMove:G,onDelete:function(e){var t=U.filter((function(t){return t.id!==e.id}));G(t)},data:[].concat(U),
renderRow:function(e){var t=e.item,r=t.prefix,n=t.target,o=t.id;return P(b.default,{prefix:r,target:n,onChange:function(e,t){return function(e,t,r){var n,o=U.findIndex((function(e){return e.id===t})),a=U[o];if(null!=a&&null!=r){var i=j({},a,((n={})[r]=e,n)),u=[].concat(U);u[o]=i;G(u)}}(e,o,t)}},o)},className:M.default.draggableList}),P(b.default,{prefix:W.prefix,target:W.target,onChange:function(e){L(j({},W,{target:e}))},canChangePrefix:!1,className:(0,a.default)(M.default.baseURLMappingSection,(t={},t[M.default.divider]=U.length>0,t))},"base"),P(d.GridSection,{},void 0,P(d.GridChild,{columnSpread:12},void 0,P(c.default,{height:c.ButtonHeight.MEDIUM,onClick:function(){var e=[{id:(0,i.uniqueId)(),prefix:"",target:""}].concat(U);G(e)},disabled:""===W.target||null!=U.find((function(e){return""===e.prefix||""===e.target}))},void 0,h.Messages.EmbeddedApplication.ADD_ANOTHER))))),P(m.default,{isVisible:!(0,i.isEqual)(w,U)||!(0,i.isEqual)(_,W),onReset:function(){L(j({},_));G([]);x(null)
;A(N.UNSUBMITTED)},submitting:T===N.SUBMITTING,onSave:F}))}T.displayName="EmbeddedApplicationProxyConfigForm"},92837:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.match,r=a.useState(o.LOADING),n=r[0],f=r[1];a.useEffect((function(){function e(){return(e=O(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0;e.next=3;return(0,i.getApplicationProxyConfig)(t.params.id);case 3:f(o.LOADED);e.next=9;break;case 6:e.prev=6;e.t0=e.catch(0);f(o.ERROR);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]);return a.createElement(a.Fragment,null,g(c.default,{},void 0,g(l.default,{},void 0,s.Messages.EmbeddedApplication.EMBEDDED_APPLICATION_SETTINGS_HEADING),g(d.default,{isFlush:!0},void 0,s.Messages.EmbeddedApplication.EMBEDDED_APPLICATION_SETTINGS_SUBHEADING),n===o.ERROR&&g(u.default,{type:u.default.Types.ERROR
},void 0,s.Messages.Errors.ERROR_LOADING_PROXY_CONFIG)),n===o.LOADING?b:g(p.default,{applicationId:t.params.id}))};var n,o,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=y(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=e[a]}n.default=e;r&&r.set(e,n);return n}(r(67294)),i=r(30887),u=v(r(31055)),l=v(r(81061)),f=v(r(91464)),c=v(r(86750)),d=v(r(58350)),p=v(r(46287)),s=r(34596);function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(y=function(e){return e?r:t})(e)}function g(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var a=e&&e.defaultProps,i=arguments.length-3;t||0===i||(t={children:void 0});if(1===i)t.children=o;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&a)for(var f in a)void 0===t[f]&&(t[f]=a[f]);else t||(t=a||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function m(e,t,r,n,o,a,i){try{var u=e[a](i),l=u.value}catch(e){r(e);return}u.done?t(l):Promise.resolve(l).then(n,o)}function O(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){m(a,n,o,i,u,"next",e)}function u(e){m(a,n,o,i,u,"throw",e)}i(void 0)}))}}!function(e){e[e.LOADING=0]="LOADING";e[e.LOADED=1]="LOADED";e[e.ERROR=2]="ERROR"}(o||(o={}));var b=g(f.default,{})},64197:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e)
;var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=e[a]}n.default=e;r&&r.set(e,n)}(r(67294));var n,o=f(r(94184)),a=f(r(79950)),i=f(r(92974)),u=r(34596),l=f(r(68992));function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}function d(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;t||0===i||(t={children:void 0});if(1===i)t.children=o;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&a)for(var f in a)void 0===t[f]&&(t[f]=a[f]);else t||(t=a||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function p(e){
var t=e.prefix,r=e.target,n=e.onChange,f=e.canChangePrefix,c=void 0===f||f,p=e.className;return d("div",{className:(0,o.default)(l.default.urlMappingSection,p)},void 0,d("div",{className:l.default.urlMappingField},void 0,d(i.default,{},void 0,u.Messages.EmbeddedApplication.PREFIX),d(a.default,{onChange:n,name:"prefix",placeholder:"/blorp",value:t,disabled:!c})),d("div",{className:l.default.urlMappingField},void 0,d(i.default,{},void 0,u.Messages.EmbeddedApplication.TARGET),d(a.default,{onChange:n,name:"target",placeholder:"tomato-town-refugees.gov",value:r})))}p.displayName="ProxyURLMappingSection";var s=p;t.default=s},31536:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n,o=s(r(67294)),a=d(r(94184)),i=r(99383),u=r(96843),l=s(r(9378)),f=d(r(89417)),c=d(r(47713));function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(p=function(e){return e?r:t})(e)}function s(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=p(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=e[a]}n.default=e;r&&r.set(e,n);return n}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e})(e,t)}function y(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;t||0===i||(t={children:void 0});if(1===i)t.children=o;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&a)for(var f in a)void 0===t[f]&&(t[f]=a[f]);else t||(t=a||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var g="row";function m(e,t){return{
connectDropTarget:e.dropTarget(),isDraggedOver:t.isOver()}}var O,b,h=(O=(0,i.DragSource)(g,{canDrag:function(e){return e.isDraggable},beginDrag:function(e){var t=e.index;return{id:e.id,index:t}}},(function(e,t){return{connectDragSource:e.dragSource(),isDragging:t.isDragging()}}))((function(e){var t,r=e.connectDragSource,n=e.connectDropTarget,o=e.item,i=e.renderRow,u=e.index,d=e.isDraggedOver,p=e.isDragging,s=e.onDelete,v=e.isDraggable;return n(y("div",{className:(0,a.default)(c.default.rowWrapper,(t={},t[c.default.rowDragging]=p,t[c.default.rowDraggedOver]=d,t))},void 0,r(y("div",{className:c.default.row},void 0,y("div",{className:c.default.flexCenter},void 0,v?y(l.default,{name:l.IconNames.DRAG_HANDLE,className:c.default.dragHandle}):null,i({item:o,index:u,isDragging:p,isDraggedOver:d})),null!=s?y(f.default,{onClick:function(){return s(o)}}):null))))})),b=-1,(0,i.DropTarget)(g,{drop:function(){b=-1},hover:function(e,t){var r=t.getItem().index,n=e.index,o=b>-1?b:r;if(o!==n){
e.onMove(o,n);b=n}}},m)(O)),M=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;v(e,t)}(t,e);function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];(t=e.call.apply(e,[this].concat(n))||this).handleMove=function(e,r){var n=t.props,o=n.onMove,a=n.data,i=[].concat(a),u=i[e];i.splice(e,1);i.splice(r,0,u);if(null==o)throw new Error("Must provide onMove when list is draggable");o(i,u)};return t}t.prototype.render=function(){var e=this,t=this.props,r=t.data,n=t.getId,o=t.renderRow,a=t.className,l=t.onMove,f=t.onDelete;return y(i.DndProvider,{backend:u.HTML5Backend},void 0,y("div",{className:null!=a?a:void 0},void 0,r.map((function(t,r){var a=n(t);return y(h,{id:a,index:r,item:t,renderRow:o,isDraggable:null!=l,onMove:e.handleMove,onDelete:f},a)}))))};return t}(o.Component);M.displayName="DraggableList";var D=M;t.default=D},31055:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var n=c(r(67294)),o=l(r(94184)),a=c(r(34704)),i=l(r(88002)),u=["className"];function l(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(f=function(e){return e?r:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=e[a]}n.default=e;r&&r.set(e,n);return n}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e})(e,t)}
var s=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;p(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.render=function(){var e=this.props,t=e.className,r=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++){r=a[n];t.indexOf(r)>=0||(o[r]=e[r])}return o}(e,u);return n.createElement(a.default,d({},r,{className:(0,o.default)(i.default.formStatusAlert,t)}))};return t}(n.Component);t.default=s;s.displayName="FormStatusAlert";s.Types=a.AlertTypes},89417:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=l(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null
;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=e[a]}n.default=e;r&&r.set(e,n)}(r(67294));var n,o=u(r(94184)),a=u(r(9378)),i=u(r(84991));function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(l=function(e){return e?r:t})(e)}function f(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;t||0===i||(t={children:void 0});if(1===i)t.children=o;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&a)for(var f in a)void 0===t[f]&&(t[f]=a[f]);else t||(t=a||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var c=function(e){var t=e.className,r=e.onClick;return f("button",{className:(0,o.default)(i.default.removeButton,t),onClick:r,type:"button"},void 0,f(a.default,{className:i.default.removeIcon,name:a.default.Names.CLOSE,height:24,width:24}))}
;c.displayName="RemoveButton";var d=c;t.default=d}}]);
//# sourceMappingURL=774ea5ae61d6bfa5ada7.js.map