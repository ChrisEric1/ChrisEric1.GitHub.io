(window.webpackJsonp=window.webpackJsonp||[]).push([[191],{1487:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=h();if(t&&t.has(e))return t.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var o=r?Object.getOwnPropertyDescriptor(e,n):null;o&&(o.get||o.set)?Object.defineProperty(a,n,o):a[n]=e[n]}a.default=e,t&&t.set(e,a);return a}(a(1)),o=v(a(5)),i=v(a(1479)),s=a(135),l=v(a(1548)),u=v(a(423)),d=v(a(182)),f=a(74),c=a(18),p=v(a(1301));function v(e){return e&&e.__esModule?e:{default:e}}function h(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return h=function(){return e},e}function g(e,t,a,n){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===a?null:""+a,ref:null,props:t,_owner:null}}var m={CIRCLE:p.default.circle,SQUARE:p.default.square},y=function(e){var t,a;function r(){for(var t,a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return(t=e.call.apply(e,[this].concat(r))||this).state={error:null},t.handleFileChange=function(e){e.stopPropagation(),e.preventDefault();var a=e.target.files[0],r=t.props,n=r.size,o=r.minSize,i=r.onChange,s=r.fieldName;if(null!=a){var u=new FileReader;u.onload=function(e){var a=new Image;a.src=e.target.result,a.onload=function(){if(null!=o&&(a.width<o||a.height<o))t.setState({error:c.Messages.AvatarUploader.MINIMUM_SIZE.format({size:o})});else{null!=t.state.error&&t.setState({error:null});var e=document.createElement("canvas");e.width=a.width,e.height=a.height,e.getContext("2d").drawImage(a,0,0,e.width,e.height);var r=a.width<a.height?a.width/n:a.height/n,u=document.createElement("canvas");u.width=a.width/r,u.height=a.height/r,l.default.resizeCanvas(e,u,{alpha:!0},function(){var e=document.createElement("canvas");e.width=n,e.height=n;var t=(u.width-e.width)/-2,a=(u.height-e.height)/-2;e.getContext("2d").drawImage(u,t,a,u.width,u.height),i(e.toDataURL("image/png"),s)})}}},u.readAsDataURL(a)}},t.handleRemove=function(){var e=t.props,a=e.fieldName;(0,e.onChange)(null,a)},t}a=e,(t=r).prototype=Object.create(a.prototype),t.prototype.constructor=t,t.__proto__=a;var n=r.prototype;return n.renderRemoveButton=function(){var e=this.props,t=e.disableRemoveAction,a=e.disabled,r=e.size,n=e.avatar,o=this.state.error;return t?null:a?g("small",{className:p.default.removeButtonSmall},void 0,c.Messages.AvatarUploader.SIZE.format({size:r})):null!=o?g("small",{className:p.default.removeButtonSmallError},void 0,o):null!=n?g(u.default,{className:p.default.removeButton,onClick:this.handleRemove},void 0,c.Messages.AvatarUploader.REMOVE):g("small",{className:(0,f.getClass)(p.default,"removeButtonSmall",null!=o?"Error":null)},void 0,c.Messages.AvatarUploader.SIZE.format({size:r}))},n.render=function(){var e,t,a,r,n=this.props,l=n.avatar,u=n.hint,f=n.name,v=n.makeURL,h=n.hasBorder,m=n.shape;return(t=null!=l&&/^data:/.test(l)?l:v(l))?a='url("'+t+'")':r=g("div",{className:p.default.acronym},void 0,(0,s.getAcronym)(f)),g("div",{className:(0,o.default)(p.default.avatarUploader,(e={},e[p.default.border]=h,e))},void 0,g("div",{className:(0,o.default)(p.default.avatarUploaderInner,m),style:{backgroundImage:a}},void 0,g("div",{className:p.default.addPhotoWrapper},void 0,g(d.default,{className:p.default.addPhotoIcon,name:d.default.Names.ADD_PHOTO})),r,g("div",{className:p.default.hint},void 0,u),g(i.default,{onChange:this.handleFileChange,filters:[{name:c.Messages.AvatarUploader.IMAGES,extensions:["jpg","jpeg","png"]}]})),this.renderRemoveButton())},r}(n.PureComponent);t.default=y,y.displayName="AvatarUploader",y.Shape=m,y.defaultProps={disableRemoveAction:!1,name:"",size:64,makeURL:function(e){return e},hint:c.Messages.AvatarUploader.SELECT_IMAGE,disabled:!1,hasBorder:!1,shape:m.CIRCLE}},1694:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,n=C(a(1)),o=M(a(12)),i=C(a(129)),s=M(a(128)),l=C(a(127)),u=M(a(184)),d=a(130),f=M(a(58)),c=M(a(1695)),p=M(a(417)),v=M(a(414)),h=M(a(412)),g=M(a(410)),m=M(a(415)),y=M(a(1425)),S=M(a(413)),A=M(a(416)),_=M(a(2247)),I=a(3),E=a(18);function M(e){return e&&e.__esModule?e:{default:e}}function b(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return b=function(){return e},e}function C(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=b();if(t&&t.has(e))return t.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var o=r?Object.getOwnPropertyDescriptor(e,n):null;o&&(o.get||o.set)?Object.defineProperty(a,n,o):a[n]=e[n]}return a.default=e,t&&t.set(e,a),a}function P(e,t,a,n){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===a?null:""+a,ref:null,props:t,_owner:null}}var R=P(u.default,{}),O=function(e){var t,r;function o(){for(var t,a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).assetManagerRef=n.createRef(),t.inviteImageRef=n.createRef(),t.state={errorMessage:null,hasLoadedRemoteAssets:!1,hasUnsavedChanges:!1,inviteImageData:null,isSubmitting:!1},t.deleteAsset=function(e){return i.deleteAsset(t.props.applicationDetails.id,e)},t.getAssetUri=function(e){return(0,d.getAssetImage)(t.props.applicationDetails.id,e.id)},t.handleAssetsFormChange=function(){t.state.hasUnsavedChanges||t.setState({hasUnsavedChanges:!0})},t.handleAssetsFormSubmit=function(e){t.setState({isSubmitting:!0});var a=t.state.inviteImageData,r=[];null!=t.assetManagerRef.current&&r.push(t.assetManagerRef.current.uploadAllAssets()),null!=a&&r.push(i.updateApplication(t.props.applicationDetails.id,{cover_image:e.coverImage}).then(function(){t.setState({inviteImageData:null})})),Promise.all(r).then(function(){t.setState({errorMessage:null,hasUnsavedChanges:!1,isSubmitting:!1})}).catch(function(e){t.setState({errorMessage:e.message,isSubmitting:!1})})},t.handleInviteImageChange=function(e){t.setState({hasUnsavedChanges:!0,inviteImageData:e})},t.handleReset=function(){null!=t.assetManagerRef.current&&t.assetManagerRef.current.resetAssets(),null!=t.inviteImageRef.current&&t.inviteImageRef.current.resetImage(),t.setState({hasUnsavedChanges:!1})},t.uploadAsset=function(e){var a=t.props.applicationDetails;return null!=e.data?i.createAsset(a.id,{name:e.name,image:e.data,type:"1"}):Promise.resolve()},t}r=e,(t=o).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var s=o.prototype;return s.componentDidMount=function(){var e=this,t=this.props.applicationDetails;i.fetchApplicationAssets(t.id).then(function(){e.setState({errorMessage:null,hasLoadedRemoteAssets:!0})}).catch(function(t){e.setState({errorMessage:t.message,hasLoadedRemoteAssets:!0})})},s.renderAssetsHeading=function(e){return E.Messages.RichPresence.ASSETS_MANAGER_HEADING.format({count:e})},s.renderAssetManager=function(){var e=this.props,t=e.applicationDetails,a=e.assets;return this.state.hasLoadedRemoteAssets?n.createElement(c.default,{actionCopy:E.Messages.RichPresence.ASSETS_ADD_IMAGES,application:t,assetLabel:E.Messages.RichPresence.ASSETS_IMAGES,assetsHeadingRenderer:this.renderAssetsHeading,assets:a,getAssetUri:this.getAssetUri,uploadAsset:this.uploadAsset,deleteAsset:this.deleteAsset,emptyState:this.renderEmptyAssetState(),fileTypeDescription:E.Messages.RichPresence.ASSETS_ACCEPTED_FILE_TYPES.format({minSize:I.MINIMUM_ASSET_IMAGE_SIZE,recommendedSize:I.RECOMMENDED_ASSET_IMAGE_SIZE}),minAssetSize:I.MINIMUM_ASSET_IMAGE_SIZE,ref:this.assetManagerRef,supportedExtensions:["jpg","jpeg","png"]}):R},s.renderEmptyAssetState=function(){return P(p.default,{},void 0,P("img",{alt:E.Messages.RichPresence.NO_ASSETS_UPLOADED,src:a(1696)}))},s.render=function(){var e=this.props.applicationDetails,t=this.state,a=t.hasUnsavedChanges,r=t.isSubmitting;return P(v.default,{onChange:this.handleAssetsFormChange,onSubmit:this.handleAssetsFormSubmit},void 0,P(g.default,{},void 0,P(h.default,{},void 0,E.Messages.RichPresence.ASSETS_HEADING),P(S.default,{},void 0,E.Messages.RichPresence.ASSETS_SUBHEADING),P("p",{},void 0,E.Messages.RichPresence.ASSETS_SUBHEADING_LINK.format({link:f.default.prependBasename(I.Routes.DOCS_RICH_PRESENCE_BEST_PRACTICES)}))),P(g.default,{},void 0,P(m.default,{},void 0,E.Messages.RichPresence.INVITE_IMAGE_HEADING),P(y.default,{},void 0,E.Messages.RichPresence.INVITE_IMAGE_SUBHEADING),n.createElement(_.default,{application:e,onCoverImageChange:this.handleInviteImageChange,ref:this.inviteImageRef})),P(g.default,{isFlush:!0},void 0,P(m.default,{},void 0,E.Messages.RichPresence.ASSETS_SECTION_HEADING),P(y.default,{},void 0,E.Messages.RichPresence.ASSETS_SECTION_SUBHEADING),P(l.default,{type:l.AlertTypes.WARNING},void 0,E.Messages.RichPresence.ASSET_CACHING_WARNING),this.renderAssetManager()),P(A.default,{isVisible:a,onReset:this.handleReset,submitting:r}))},o}(n.Component);O.displayName="RichPresence";var w=o.default.connectStores([s.default],function(e){var t=e.match.params.id;return{applicationDetails:s.default.getApplication(t),assets:s.default.getApplicationAssets(t)}})(O);t.default=w},2247:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,n=p(a(1)),o=p(a(408)),i=f(a(409)),s=f(a(2248)),l=f(a(2249)),u=a(18),d=f(a(1355));function f(e){return e&&e.__esModule?e:{default:e}}function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function p(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var o=r?Object.getOwnPropertyDescriptor(e,n):null;o&&(o.get||o.set)?Object.defineProperty(a,n,o):a[n]=e[n]}return a.default=e,t&&t.set(e,a),a}function v(e,t,a,n){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===a?null:""+a,ref:null,props:t,_owner:null}}var h=function(e){return{coverImage:e.application.coverImage}},g=function(e){var t,a;function r(){for(var t,a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return(t=e.call.apply(e,[this].concat(r))||this).state=h(t.props),t.handleCoverImageChange=function(e){var a=t.props.onCoverImageChange;t.setState({coverImage:e}),a&&a(e)},t.resetImage=function(){t.setState(h(t.props))},t}return a=e,(t=r).prototype=Object.create(a.prototype),t.prototype.constructor=t,t.__proto__=a,r.prototype.render=function(){var e=this.state.coverImage,t=this.props.application;return v(o.default,{},void 0,v(o.GridSection,{},void 0,v(o.GridChild,{columnSpread:3,className:d.default.inviteImage},void 0,v(l.default,{coverImage:this.state.coverImage,onCoverImageChange:this.handleCoverImageChange})),v(o.GridChild,{columnSpread:8,columnSpreadExtraSmall:12,columnSpreadSmall:12,grow:1,shrink:1},void 0,v(i.default,{},void 0,u.Messages.RichPresence.IRL_INVITE_IMAGE_EXAMPLE),v(s.default,{coverImage:e,name:t.name}))))},r}(n.Component);t.default=g,g.displayName="RichPresenceInviteImage"},2248:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=d();if(t&&t.has(e))return t.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var o=r?Object.getOwnPropertyDescriptor(e,n):null;o&&(o.get||o.set)?Object.defineProperty(a,n,o):a[n]=e[n]}a.default=e,t&&t.set(e,a);return a}(a(1)),o=u(a(5)),i=u(a(56)),s=u(a(40)),l=u(a(1354));function u(e){return e&&e.__esModule?e:{default:e}}function d(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return d=function(){return e},e}function f(e,t,a,n){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===a?null:""+a,ref:null,props:t,_owner:null}}var c=function(e){var t,a=e.displayPlaceholderAvatar;return f("div",{className:(0,o.default)(l.default.partyAvatar,(t={},t[l.default.partyAvatarPlaceholder]=a,t))})};c.displayName="UserAvatar";var p=function(e){var t,a;function r(){return e.apply(this,arguments)||this}a=e,(t=r).prototype=Object.create(a.prototype),t.prototype.constructor=t,t.__proto__=a;var n=r.prototype;return n.renderParty=function(){for(var e=[],t=0;t<6;t++)e.push(f(c,{displayPlaceholderAvatar:t<3},t));return f("div",{className:l.default.partyMembers},void 0,e)},n.render=function(){var e=this.props,t=e.name,a=e.coverImage;return f("div",{className:l.default.invite},void 0,f("div",{className:l.default.coverImageWrapper},void 0,f("div",{className:l.default.coverImageActionable,style:{backgroundImage:null!=a?"url('"+a+"')":null}})),f(s.default,{className:l.default.fullHeight},void 0,f(s.default,{direction:s.default.Direction.VERTICAL},void 0,f("div",{className:l.default.header},void 0,"Invite to join group"),f(s.default.Child,{className:l.default.partyStatus},void 0,"3 open slots"),f(s.default,{align:s.default.Align.END,wrap:s.default.Wrap.NO_WRAP},void 0,f(s.default.Child,{grow:0,shrink:0},void 0,f(s.default,{align:s.default.Align.CENTER,className:l.default.actionAndParty,wrap:s.default.Wrap.NO_WRAP},void 0,f(s.default.Child,{grow:0,shrink:0,wrap:!0},void 0,f(i.default,{className:l.default.actionButton,color:i.default.Color.GREEN,height:i.default.Height.SHORT},void 0,"Join")),f(s.default.Child,{grow:0,shrink:0,wrap:!0},void 0,this.renderParty()))),f(s.default.Child,{grow:1,shrink:1},void 0,f("div",{className:l.default.name},void 0,t))))))},r}(n.Component);t.default=p,p.displayName="InviteEmbedExample"},2249:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var o=r?Object.getOwnPropertyDescriptor(e,n):null;o&&(o.get||o.set)?Object.defineProperty(a,n,o):a[n]=e[n]}a.default=e,t&&t.set(e,a);return a}(a(1)),o=d(a(1429)),i=d(a(1487)),s=d(a(409)),l=a(3),u=a(18);function d(e){return e&&e.__esModule?e:{default:e}}function f(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function c(e,t,a,n){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===a?null:""+a,ref:null,props:t,_owner:null}}var p=function(e){var t,a;function r(){for(var t,a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return(t=e.call.apply(e,[this].concat(r))||this).handleCoverImageChange=function(e){var a=t.props.onCoverImageChange;a&&a(e)},t}return a=e,(t=r).prototype=Object.create(a.prototype),t.prototype.constructor=t,t.__proto__=a,r.prototype.render=function(){var e=this.props.coverImage;return c(n.Fragment,{},void 0,c(s.default,{},void 0,u.Messages.RichPresence.COVER_IMAGE),c(o.default,{},void 0,c("input",{type:"hidden",name:"coverImage",value:e||""}),c(i.default,{avatar:e,onChange:this.handleCoverImageChange,shape:i.default.Shape.SQUARE,size:l.COVER_IMAGE_UPLOAD_SIZE,minSize:l.MINIMUM_COVER_IMAGE_SIZE})))},r}(n.Component);t.default=p,p.displayName="CoverImageUploader"}}]);
//# sourceMappingURL=9710fdb236211eda40e4.js.map