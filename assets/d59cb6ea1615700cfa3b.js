(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[91352],{698242:(e,r,n)=>{e.exports=n.p+"f3767d455e70dcdd1c8a3102e42c6d34.svg"},634737:(e,r,n)=>{e.exports=n.p+"8d224aa39e763dff664f330fdadeda3e.svg"},395951:(e,r,n)=>{"use strict";n.d(r,{FD:()=>_,Zy:()=>v,ss:()=>b,S2:()=>y,Mn:()=>A,ol:()=>M,V3:()=>g,I5:()=>T,OZ:()=>C,cV:()=>R,b9:()=>S,si:()=>j,W3:()=>x,P6:()=>F,_V:()=>w});var t=n(675860),o=n(444450),i=n(338093),s=n(173436),a=n(655695),l=n(932847),u=n(917870),c=n(301513),d=n(742269),f=n(461061),I=n(959797);function p(e,r,n,t,o,i,s){try{var a=e[i](s),l=a.value}catch(e){n(e);return}a.done?r(l):Promise.resolve(l).then(t,o)}function E(e){return function(){var r=this,n=arguments;return new Promise((function(t,o){var i=e.apply(r,n);function s(e){p(i,t,o,s,a,"next",e)}function a(e){p(i,t,o,s,a,"throw",e)}s(void 0)}))}}function m(e,r,n){r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n;return e}function O(e){
for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));t.forEach((function(r){m(e,r,n[r])}))}return e}var h=function(e,r){var n,t,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,t&&(o=2&i[0]?t.return:i[0]?t.throw||((o=t.return)&&o.call(t),0):t.next)&&!(o=o.call(t,i[1])).done)return o;(t=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:s.label++;return{value:i[1],done:!1};case 5:s.label++;t=i[1];i=[0];continue;case 7:i=s.ops.pop();s.trys.pop();continue;default:if(!(o=s.trys,
o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1];o=i;break}if(o&&s.label<o[2]){s.label=o[2];s.ops.push(i);break}o[2]&&s.ops.pop();s.trys.pop();continue}i=r.call(e,s)}catch(e){i=[6,e];t=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};function _(){s.Z.dispatch({type:"USER_SETTINGS_ACCOUNT_INIT"})}function v(){s.Z.dispatch({type:"USER_SETTINGS_ACCOUNT_CLOSE"})}function b(e,r){var n=r?I.Z.Messages.DELETE_ACCOUNT:I.Z.Messages.DISABLE_ACCOUNT,o=r?f.ANM.DELETE_ACCOUNT:f.ANM.DISABLE_ACCOUNT;return(0,c.Z)((function(r){return t.Z.post({url:o,body:O({password:e},r),oldFormErrors:!0})}),{modalProps:{title:n},checkEnabled:!1}).then((function(){s.Z.dispatch({type:"LOGOUT"});(0,a.uL)(f.Z5c.DEFAULT_LOGGED_OUT)}))}function y(e){return N.apply(this,arguments)}function N(){return(N=E((function(e){var r,n,o;return h(this,(function(i){switch(i.label){
case 0:return[4,t.Z.patch({url:f.ANM.ME,body:e,oldFormErrors:!0})];case 1:r=i.sent();if((n=r.body).token){o=n.token;delete n.token;s.Z.dispatch({type:"UPDATE_TOKEN",token:o,userId:n.id});null!=(null==e?void 0:e.password)&&null!=(null==e?void 0:e.new_password)&&s.Z.dispatch({type:"PASSWORD_UPDATED",userId:n.id})}s.Z.dispatch({type:"CURRENT_USER_UPDATE",user:n});return[2,r]}}))}))).apply(this,arguments)}function A(e){var r=e.username,n=e.discriminator,t=e.email,i=e.emailToken,a=e.password,p=e.avatar,E=e.avatarDecoration,m=e.newPassword,h=e.displayName;s.Z.dispatch({type:"USER_SETTINGS_ACCOUNT_SUBMIT"});return(0,c.Z)((function(e){var s=O({username:r,email:t,email_token:i,password:a,avatar:p,discriminator:n,display_name:h,new_password:m},e);void 0!==E&&(null==E?s.avatar_decoration_preset=null:E.isCustom?s.avatar_decoration=E.data:s.avatar_decoration_preset=E.name);var l=o.Z.get(f.JkL),u=(0,d.xJ)();if(null!=u&&null!=l){s.push_provider=u;s.push_token=l}var c=o.Z.get(f.scU)
;if(null!=f.mvA&&null!=c){s.push_voip_provider=f.mvA;s.push_voip_token=c}return y(s)}),{checkEnabled:!1,modalProps:{title:I.Z.Messages.TWO_FA_CHANGE_ACCOUNT},hooks:{onEarlyClose:function(){return s.Z.dispatch({type:"USER_SETTINGS_ACCOUNT_SUBMIT_FAILURE",errors:{}})}}}).then((function(e){var r=e.body;l.default.track(f.rMx.USER_AVATAR_UPDATED,{animated:(0,u.xR)(r.avatar)});s.Z.dispatch({type:"USER_SETTINGS_ACCOUNT_SUBMIT_SUCCESS"});return e}),(function(e){s.Z.dispatch({type:"USER_SETTINGS_ACCOUNT_SUBMIT_FAILURE",errors:e.body});return e}))}function M(){return t.Z.get({url:f.ANM.USER_HARVEST,oldFormErrors:!0})}function g(){return t.Z.post({url:f.ANM.USER_HARVEST,oldFormErrors:!0})}function T(e){s.Z.dispatch({type:"USER_SETTINGS_ACCOUNT_SET_PENDING_AVATAR",avatar:e});null==e?i.uv.announce(I.Z.Messages.A11Y_ANNOUNCEMENT_AVATAR_NONE):i.uv.announce(I.Z.Messages.A11Y_ANNOUNCEMENT_AVATAR_CHANGED)}function C(e){s.Z.dispatch({type:"USER_SETTINGS_ACCOUNT_SET_PENDING_DISPLAY_NAME",displayName:e})}
function R(e){s.Z.dispatch({type:"USER_SETTINGS_ACCOUNT_SET_PENDING_AVATAR_DECORATION",avatarDecoration:e})}function S(){s.Z.dispatch({type:"USER_SETTINGS_CLEAR_ERRORS"})}function j(){s.Z.dispatch({type:"USER_SETTINGS_RESET_PENDING_ACCOUNT_CHANGES"})}function x(){s.Z.dispatch({type:"USER_SETTINGS_RESET_ALL_PENDING"})}function F(){s.Z.dispatch({type:"USER_SETTINGS_ACCOUNT_RESET_AND_CLOSE_FORM"})}function w(e){s.Z.dispatch({type:"USER_SETTINGS_ACCOUNT_SET_DISABLE_SUBMIT",disable:e})}},291352:(e,r,n)=>{"use strict";n.d(r,{Z:()=>He});var t=n(785893),o=n(667294),i=n(294184),s=n.n(i),a=n(363010),l=n(331535),u=n(822567),c=n(395951),d=n(730189),f=n(40188),I=n(989232),p=n(392115),E=n(95350),m=n(212218),O=n(653772),h=n(859023),_=n(487502),v=n(969225),b=n(304546),y=n(757987),N=n(67416),A=n(932847),M=n(917870),g=n(377305),T=n(448536),C=n(124264),R=n(570239),S=n(830426),j=n(123113),x=n(461061);function F(e){var r=e.guildId,n=(0,a.e7)([T.Z],(function(){return T.Z.get(r)})),t=null==n?void 0:n.guild
;return(0,a.e7)([O.Z],(function(){var e,n=null===(e=O.Z.getGuild(r))||void 0===e?void 0:e.verificationLevel,o=null==t?void 0:t.verification_level;return(null!=n?n:o)===x.sFg.VERY_HIGH}),[r,t])}var w=n(855209),P=n(847072),Z=n(959797),L=n(732231),U=n.n(L);function V(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function D(e,r,n,t,o,i,s){try{var a=e[i](s),l=a.value}catch(e){n(e);return}a.done?r(l):Promise.resolve(l).then(t,o)}function k(e,r,n){r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n;return e}function B(e,r){r=null!=r?r:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):function(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})));n.push.apply(n,t)}return n}(Object(r)).forEach((function(n){
Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}));return e}function G(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var t,o,i=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(t=n.next()).done);s=!0){i.push(t.value);if(r&&i.length===r)break}}catch(e){a=!0;o=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,r)||function(e,r){if(!e)return;if("string"==typeof e)return V(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var z=function(e,r){var n,t,o,i,s={label:0,
sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,t&&(o=2&i[0]?t.return:i[0]?t.throw||((o=t.return)&&o.call(t),0):t.next)&&!(o=o.call(t,i[1])).done)return o;(t=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:s.label++;return{value:i[1],done:!1};case 5:s.label++;t=i[1];i=[0];continue;case 7:i=s.ops.pop();s.trys.pop();continue;default:if(!(o=s.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1];o=i;break}if(o&&s.label<o[2]){s.label=o[2];s.ops.push(i);break}o[2]&&s.ops.pop();s.trys.pop();continue}i=r.call(e,s)}catch(e){i=[6,e];t=0}finally{n=o=0}if(5&i[0])throw i[1];return{
value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};function H(){var e=G(o.useState(!1),2),r=e[0],n=e[1],i=G(o.useState(!1),2),s=i[0],a=i[1],c=G(o.useState(!1),2),d=c[0],f=c[1];o.useEffect((function(){var e;s&&(e=setTimeout((function(){a(!1)}),2e3));return function(){null!=e&&clearTimeout(e)}}),[s]);var I,p,E=(p=(I=function(){return z(this,(function(e){switch(e.label){case 0:if(r)return[2];n(!0);e.label=1;case 1:e.trys.push([1,3,4,5]);return[4,u.Z.verifyResend()];case 2:e.sent();a(!0);f(!0);return[3,5];case 3:e.sent();return[3,5];case 4:n(!1);return[7];case 5:return[2]}}))},function(){var e=this,r=arguments;return new Promise((function(n,t){var o=I.apply(e,r);function i(e){D(o,n,t,i,s,"next",e)}function s(e){D(o,n,t,i,s,"throw",e)}i(void 0)}))}),function(){return p.apply(this,arguments)});return s?(0,t.jsx)(l.xv,{className:U().verifyConfirmText,variant:"text-sm/normal",color:"text-positive",children:Z.Z.Messages.MEMBER_VERIFICATION_EMAIL_VERIFICATION_EMAIL_SENT}):(0,t.jsx)(l.zx,{
size:l.zx.Sizes.SMALL,submitting:r,onClick:E,children:d?Z.Z.Messages.RESEND_EMAIL_SHORT:Z.Z.Messages.VERIFY})}function Y(){return(0,t.jsx)(P.PU,{icon:w.Z,text:Z.Z.Messages.MEMBER_VERIFICATION_FORM_ITEM_EMAIL_VERIFICATION_LABEL,footnote:Z.Z.Messages.MEMBER_VERIFICATION_MODAL_PRIVACY_DESCRIPTION,meetsRequirement:!1,children:(0,t.jsx)(y.ZP,{text:Z.Z.Messages.MEMBER_VERIFICATION_VERIFICATION_FIELD_SETTINGS_TOOLTIP,children:function(e){return(0,t.jsx)(l.zx,B(function(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));t.forEach((function(r){k(e,r,n[r])}))}return e}({},e),{size:l.zx.Sizes.SMALL,disabled:!0,children:Z.Z.Messages.VERIFY}))}})})}function J(e){
var r=e.isUserVerified,n=r?Z.Z.Messages.MEMBER_VERIFICATION_EMAIL_VERIFIED:Z.Z.Messages.MEMBER_VERIFICATION_FORM_ITEM_EMAIL_VERIFICATION_LABEL;return(0,t.jsx)(P.PU,{icon:w.Z,text:n,footnote:Z.Z.Messages.MEMBER_VERIFICATION_MODAL_PRIVACY_DESCRIPTION,meetsRequirement:r,children:(0,t.jsx)(H,{})})}var X=n(464497),Q=n(928575),W=n(828917),q=n(526066),K=n(897576),$=n(330665);function ee(e,r,n,t,o,i,s){try{var a=e[i](s),l=a.value}catch(e){n(e);return}a.done?r(l):Promise.resolve(l).then(t,o)}function re(e){return function(){var r=this,n=arguments;return new Promise((function(t,o){var i=e.apply(r,n);function s(e){ee(i,t,o,s,a,"next",e)}function a(e){ee(i,t,o,s,a,"throw",e)}s(void 0)}))}}function ne(e,r,n){r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n;return e}function te(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));t.forEach((function(r){ne(e,r,n[r])}))}return e}function oe(e,r){r=null!=r?r:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):function(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})));n.push.apply(n,t)}return n}(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}));return e}var ie=function(e,r){var n,t,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){
if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,t&&(o=2&i[0]?t.return:i[0]?t.throw||((o=t.return)&&o.call(t),0):t.next)&&!(o=o.call(t,i[1])).done)return o;(t=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:s.label++;return{value:i[1],done:!1};case 5:s.label++;t=i[1];i=[0];continue;case 7:i=s.ops.pop();s.trys.pop();continue;default:if(!(o=s.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1];o=i;break}if(o&&s.label<o[2]){s.label=o[2];s.ops.push(i);break}o[2]&&s.ops.pop();s.trys.pop();continue}i=r.call(e,s)}catch(e){i=[6,e];t=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};function se(){return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(P.PU,{icon:q.Z,text:Z.Z.Messages.MEMBER_VERIFICATION_FORM_ITEM_PHONE_VERIFICATION_LABEL,
footnote:Z.Z.Messages.MEMBER_VERIFICATION_MODAL_PRIVACY_DESCRIPTION,meetsRequirement:!1,children:(0,t.jsx)(y.ZP,{text:Z.Z.Messages.MEMBER_VERIFICATION_VERIFICATION_FIELD_SETTINGS_TOOLTIP,children:function(e){return(0,t.jsx)(l.zx,oe(te({},e),{size:l.zx.Sizes.SMALL,disabled:!0,children:Z.Z.Messages.VERIFY}))}})})})}function ae(e){var r=e.isUserVerified,o=r?Z.Z.Messages.MEMBER_VERIFICATION_PHONE_VERIFIED:Z.Z.Messages.MEMBER_VERIFICATION_FORM_ITEM_PHONE_VERIFICATION_LABEL;return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(P.PU,{icon:q.Z,text:o,footnote:Z.Z.Messages.MEMBER_VERIFICATION_MODAL_PRIVACY_DESCRIPTION,meetsRequirement:r,children:(0,t.jsx)(l.zx,{size:l.zx.Sizes.SMALL,onClick:function(){(0,K.ZD)(re((function(){var e,r;return ie(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(97846),n.e(57712)]).then(n.bind(n,997846))];case 1:e=o.sent(),r=e.default;return[2,function(e){return(0,t.jsx)(r,te({reason:W.L.GUILD_PHONE_REQUIRED},e))}]}}))})),{modalKey:$.M})},
children:Z.Z.Messages.VERIFY})})})}var le=n(678050),ue=n(404102);function ce(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function de(e,r,n){r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n;return e}function fe(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));t.forEach((function(r){de(e,r,n[r])}))}return e}function Ie(e,r){r=null!=r?r:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):function(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})));n.push.apply(n,t)}return n
}(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}));return e}function pe(e){return function(e){if(Array.isArray(e))return ce(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,r){if(!e)return;if("string"==typeof e)return ce(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ce(e,r)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ee(e){var r=e.guildId,n=e.formFields,o=e.updateFormFields,i=(0,a.e7)([O.Z],(function(){var e;return null===(e=O.Z.getGuild(r))||void 0===e?void 0:e.rulesChannelId})),s=function(e,r){var t=n[e]
;o(pe(n.slice(0,e)).concat([Ie(fe({},t),{response:r})],pe(n.slice(e+1))))},l=function(e,r){switch(e.field_type){case R.QJ.TERMS:return(0,t.jsx)(le.dd,{channelId:i,formField:e,onChange:function(e,t){return function(e,r){var t=n[e];o(pe(n.slice(0,e)).concat([Ie(fe({},t),{response:r})],pe(n.slice(e+1))))}(r,t)}},r);case R.QJ.TEXT_INPUT:return(0,t.jsx)(ue.zY,{formField:e,onChange:function(e){return s(r,e)}},r);case R.QJ.PARAGRAPH:return(0,t.jsx)(Q.lX,{formField:e,onChange:function(e){return s(r,e)}},r);case R.QJ.MULTIPLE_CHOICE:return(0,t.jsx)(X.sp,{formField:e,onChange:function(e){return function(e,r){var t=r.value,i=n[e];o(pe(n.slice(0,e)).concat([Ie(fe({},i),{response:t})],pe(n.slice(e+1))))}(r,e)}},r)}};return(0,t.jsx)(t.Fragment,{children:n.map((function(e,r){return l(e,r)}))})}function me(e){var r=e.guildId,n=e.formFields,o=e.updateFormFields,i=(0,a.e7)([h.default],(function(){return h.default.getCurrentUser()})),s=F({guildId:r})?se:Y;return null==i?null:(0,t.jsxs)(t.Fragment,{
children:[(0,t.jsx)(s,{}),(0,t.jsx)(Ee,{guildId:r,formFields:n,updateFormFields:o})]})}function Oe(e){var r=e.guildId,n=e.formFields,i=e.updateFormFields,s=(0,a.e7)([h.default],(function(){return h.default.getCurrentUser()})),l=function(e){var r=e.guildId,n=(0,a.e7)([h.default],(function(){return h.default.getCurrentUser()})),t=F({guildId:r}),o=(null==n?void 0:n.isPhoneVerified())||(null==n?void 0:n.isStaff()),i=(null==n?void 0:n.verified)||o;return{isPhoneVerificationLevel:t,isCurrentUserVerified:!!(t?o:i)}}({guildId:r}),u=l.isPhoneVerificationLevel,c=l.isCurrentUserVerified,d=o.useRef(c),f=u?ae:J;return null==s?null:(0,t.jsxs)(t.Fragment,{children:[!d.current&&(0,t.jsx)(f,{isUserVerified:c}),(0,t.jsx)(Ee,{guildId:r,formFields:n,updateFormFields:i})]})}var he=n(580946),_e=n(133766),ve=n.n(_e),be=n(698242),ye=n.n(be),Ne=n(483683),Ae=n.n(Ne),Me=n(63685),ge=n.n(Me),Te=n(634737),Ce=n.n(Te);function Re(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n]
;return t}function Se(e,r,n,t,o,i,s){try{var a=e[i](s),l=a.value}catch(e){n(e);return}a.done?r(l):Promise.resolve(l).then(t,o)}function je(e){return function(){var r=this,n=arguments;return new Promise((function(t,o){var i=e.apply(r,n);function s(e){Se(i,t,o,s,a,"next",e)}function a(e){Se(i,t,o,s,a,"throw",e)}s(void 0)}))}}function xe(e,r,n){r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n;return e}function Fe(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));t.forEach((function(r){xe(e,r,n[r])}))}return e}function we(e,r){r=null!=r?r:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):function(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){
var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})));n.push.apply(n,t)}return n}(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}));return e}function Pe(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var t,o,i=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(t=n.next()).done);s=!0){i.push(t.value);if(r&&i.length===r)break}}catch(e){a=!0;o=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,r)||Le(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ze(e){return function(e){if(Array.isArray(e))return Re(e)}(e)||function(e){
if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Le(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Le(e,r){if(e){if("string"==typeof e)return Re(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Re(e,r):void 0}}var Ue,Ve=function(e,r){var n,t,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,t&&(o=2&i[0]?t.return:i[0]?t.throw||((o=t.return)&&o.call(t),
0):t.next)&&!(o=o.call(t,i[1])).done)return o;(t=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:s.label++;return{value:i[1],done:!1};case 5:s.label++;t=i[1];i=[0];continue;case 7:i=s.ops.pop();s.trys.pop();continue;default:if(!(o=s.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1];o=i;break}if(o&&s.label<o[2]){s.label=o[2];s.ops.push(i);break}o[2]&&s.ops.pop();s.trys.pop();continue}i=r.call(e,s)}catch(e){i=[6,e];t=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};!function(e){e[e.CLAIM_ACCOUNT=0]="CLAIM_ACCOUNT";e[e.EMAIL_CONFIRMATION=1]="EMAIL_CONFIRMATION";e[e.VERIFICATION_FORM=2]="VERIFICATION_FORM"}(Ue||(Ue={}));var De=function(e){var r=e.headerId,n=e.email,o=e.password,i=e.setEmail,s=e.setPassword,a=e.emailError,u=e.passwordError;return(0,t.jsxs)("div",{className:ve().content,children:[(0,t.jsx)("img",{
alt:Z.Z.Messages.MEMBER_VERIFICATION_CLAIM_ACCOUNT_ICON,src:ye(),className:ve().applicationIcon}),(0,t.jsx)(l.X6,{id:r,variant:"heading-xl/semibold",className:ve().header,children:Z.Z.Messages.MEMBER_VERIFICATION_CLAIM_ACCOUNT_TITLE}),(0,t.jsx)(l.xv,{variant:"text-sm/normal",color:"header-secondary",children:Z.Z.Messages.MEMBER_VERIFICATION_CLAIM_ACCOUNT_SUBTITLE}),(0,t.jsx)("hr",{className:ve().divider}),(0,t.jsx)(l.xJ,{title:Z.Z.Messages.FORM_LABEL_EMAIL,className:ve().formItem,children:(0,t.jsx)(l.oi,{value:n,error:a,onChange:i,autoFocus:!0})}),(0,t.jsx)(l.xJ,{title:Z.Z.Messages.FORM_LABEL_PASSWORD,className:ve().formItem,children:(0,t.jsx)(l.oi,{type:"password",value:o,error:u,onChange:s})})]})},ke=function(e){var r=e.headerId,n=e.email;return(0,t.jsxs)("div",{className:ve().content,children:[(0,t.jsx)("img",{alt:Z.Z.Messages.MEMBER_VERIFICATION_VERIFY_EMAIL_ICON,src:Ce(),className:ve().applicationIcon}),(0,t.jsx)(l.X6,{id:r,variant:"heading-xl/semibold",className:ve().header,
children:Z.Z.Messages.MEMBER_VERIFICATION_EMAIL_CONFIRMATION_TITLE.format({email:n})}),(0,t.jsx)(l.xv,{variant:"text-sm/normal",color:"header-secondary",children:Z.Z.Messages.MEMBER_VERIFICATION_EMAIL_CONFIRMATION_SUBTITLE}),(0,t.jsx)(l.zx,{className:ve().resendButton,size:l.zx.Sizes.NONE,look:l.zx.Looks.LINK,onClick:function(){return u.Z.verifyResend()},children:Z.Z.Messages.MEMBER_VERIFICATION_EMAIL_RESEND})]})},Be=function(e){var r,n=e.guildId,o=e.formState,i=e.updateFormState,s=e.isPreview,l=void 0!==s&&s,u=(0,a.e7)([T.Z],(function(){return T.Z.get(n)}));if(null==u)return null;var c=null!==(r=null!=o?o:null==u?void 0:u.formFields)&&void 0!==r?r:[],d=l?me:Oe;return(0,t.jsx)(d,{guildId:n,formFields:c,updateFormFields:i})},Ge=function(){return n.e(61029).then(n.t.bind(n,640002,19)).then((function(e){return e.default}))},ze=function(e){var r=e.headerId,n=e.guildId,o=e.formState,i=e.updateFormState,a=e.useReducedMotion,u=e.isPreview,c=void 0!==u&&u;return(0,t.jsxs)("div",{
className:ve().content,children:[(0,t.jsxs)("div",{className:ve().animationAndSparklesContainer,children:[(0,t.jsx)("img",{alt:Z.Z.Messages.MEMBER_VERIFICATION_VERIFICATION_ICON,src:ge(),className:s()(ve().sparkleIcon,ve().sparkleBottom)}),(0,t.jsx)(b.Z,{importData:Ge,shouldAnimate:!a,className:ve().animation}),(0,t.jsx)("img",{alt:Z.Z.Messages.MEMBER_VERIFICATION_VERIFICATION_ICON,src:Ae(),className:s()(ve().sparkleIcon,ve().sparkleTop)})]}),(0,t.jsx)(l.X6,{id:r,variant:"heading-xl/semibold",className:ve().header,children:Z.Z.Messages.MEMBER_VERIFICATION_MODAL_TITLE}),(0,t.jsx)(l.xv,{variant:"text-sm/normal",color:"header-secondary",className:ve().subheader,children:Z.Z.Messages.MEMBER_VERIFICATION_MODAL_SUBTITLE}),(0,t.jsx)("hr",{className:ve().divider}),(0,t.jsx)(Be,{guildId:n,formState:o,updateFormState:i,isPreview:c})]})};const He=function(e){var r,n=e.headerId,i=e.guildId,u=e.onClose,b=e.onComplete,F=e.inviteCode,w=e.isPreview,P=void 0!==w&&w,L=(0,j.rb)((function(e){
return e.hasUnsubmittedChanges})),U=(0,a.e7)([O.Z],(function(){return O.Z.getGuild(i)})),V=(0,a.e7)([T.Z],(function(){return T.Z.get(i)})),D=(0,a.e7)([h.default],(function(){return h.default.getCurrentUser()})),k=!(null==D?void 0:D.isClaimed()),B=null==D?void 0:D.verified,G=null==D?void 0:D.isPhoneVerified(),z=(0,a.e7)([p.Z],(function(){return p.Z.getGuildEmoji(i)})),H=(0,a.cj)([E.Z],(function(){return{storeMemberCount:E.Z.getMemberCount(i),storeOnlineCount:E.Z.getOnlineCount(i)}})),Y=H.storeMemberCount,J=H.storeOnlineCount,X=Pe(o.useState(null!==(r=null==V?void 0:V.formFields)&&void 0!==r?r:[]),2),Q=X[0],W=X[1],q=Pe(o.useState(!1),2),K=q[0],$=q[1],ee=Pe(o.useState(null),2),re=ee[0],ne=ee[1],te=Pe(o.useState(k?Ue.CLAIM_ACCOUNT:Ue.VERIFICATION_FORM),2),oe=te[0],ie=te[1],se=Pe(o.useState(""),2),ae=se[0],le=se[1],ue=Pe(o.useState(""),2),ce=ue[0],de=ue[1],fe=Pe(o.useState(null),2),Ie=fe[0],pe=fe[1],Ee=Pe(o.useState(null),2),me=Ee[0],Oe=Ee[1],_e=(0,
C.e)(i),be=null==V?void 0:V.guild,ye=o.useMemo((function(){return null!=U?U:null!=be?new I.Z(be):null}),[U,be]),Ne=o.useMemo((function(){var e,r=Ze(null!==(e=0===z.length?null==be?void 0:be.emojis:z)&&void 0!==e?e:[]).reverse(),n=0,t=r.length;if(t>12&&null!=r){r=r.slice(0,11);n=Math.min(t-r.length,99)}return{emojisToRender:r,remainingEmojis:n,numGuildEmoji:t}}),[be,z]),Ae=Ne.emojisToRender,Me=Ne.remainingEmojis,ge=Ne.numGuildEmoji,Te=null!=Y?Y:null==be?void 0:be.approximate_member_count,Ce=null!=J?J:null==be?void 0:be.approximate_presence_count;o.useEffect((function(){(0,j.a5)(!1);return function(){(0,j.a5)(!1)}}),[]);o.useEffect((function(){g.Z.fetchVerificationForm(i,F)}),[i,F]);o.useEffect((function(){null!=V&&W(V.formFields)}),[V]);o.useEffect((function(){null!=D&&D.isClaimed()&&ie(Ue.VERIFICATION_FORM)}),[D]);o.useEffect((function(){oe===Ue.EMAIL_CONFIRMATION&&B&&ie(Ue.VERIFICATION_FORM)}),[oe,B]);o.useEffect((function(){null!=i&&A.default.track(x.rMx.OPEN_MODAL,{type:he.N4,
guild_id:i})}),[i]);o.useEffect((function(){var e=Q.some((function(e){return e.field_type!==R.QJ.TERMS&&(0,S.OA)(e)}));e&&!L?(0,j.a5)(!0):!e&&L&&(0,j.a5)(!1)}),[Q,L]);var Re=o.useMemo((function(){return!(((null==ye?void 0:ye.verificationLevel)!==x.sFg.VERY_HIGH||(null==D?void 0:D.isStaff()))&&B||G)||Q.some((function(e){return!(0,S.OA)(e)}))}),[Q,ye,G,B,D]),Se=(0,a.e7)([d.Z],(function(){return d.Z.useReducedMotion}));if(null==ye)return null;var Le,Be=(Le=je((function(){var e,r,n;return Ve(this,(function(t){switch(t.label){case 0:$(!0);pe(null);Oe(null);t.label=1;case 1:t.trys.push([1,3,4,5]);return[4,(0,c.S2)({email:ae,password:ce})];case 2:t.sent();$(!1);ie(Ue.EMAIL_CONFIRMATION);return[3,5];case 3:e=t.sent();pe(null==e||null===(r=e.body)||void 0===r?void 0:r.email);Oe(null==e||null===(n=e.body)||void 0===n?void 0:n.password);return[3,5];case 4:$(!1);return[7];case 5:return[2]}}))})),function(){return Le.apply(this,arguments)}),Ge=function(){var e=je((function(){var e,r,n,t,o
;return Ve(this,(function(s){switch(s.label){case 0:$(!0);ne(null);if(null!=(e=null!=D?m.ZP.getMember(i,D.id):null)&&!e.isPending){null==u||u(!0);return[2]}s.label=1;case 1:s.trys.push([1,3,,4]);return[4,null==b?void 0:b(we(Fe({},null!=V?V:T.t),{formFields:Q}))];case 2:s.sent();null==u||u(!0);return[3,4];case 3:r=s.sent();null!=(null==(o=null==r?void 0:r.body)||null===(n=o.errors)||void 0===n?void 0:n.version)||null!=(null==o||null===(t=o.errors)||void 0===t?void 0:t.form_fields)?ne(Z.Z.Messages.MEMBER_VERIFICATION_VERSION_MISMATCH_ERROR):ne(null==o?void 0:o.message);$(!1);return[3,4];case 4:return[2]}}))}));return function(){return e.apply(this,arguments)}}();return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(_.Z,{direction:_.Z.Direction.VERTICAL,justify:_.Z.Justify.BETWEEN,className:ve().guildSidebar,shrink:0,children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(v.Z,{guild:ye,active:!0,className:s()(ve().guildIcon,xe({},ve().guildIconNoIcon,null==ye.icon))}),(0,t.jsx)(l.X6,{
variant:"heading-lg/semibold",className:ve().guildName,children:null==ye?void 0:ye.name}),(0,t.jsx)(l.xv,{className:ve().guildDescription,variant:"text-sm/normal",color:"header-secondary",children:null==V?void 0:V.description}),null!=Ae&&Ae.length>0?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("hr",{className:ve().divider}),(0,t.jsx)(l.vw,{children:Z.Z.Messages.MEMBER_VERIFICATION_NUM_EMOJIS.format({emojis:ge})}),(0,t.jsxs)("div",{className:ve().emojisContainer,children:[Ae.map((function(e){var r=M.ZP.getEmojiURL({id:e.id,animated:!1,size:24});return(0,t.jsx)(y.ZP,{text:":".concat(e.name,":"),children:function(e){return(0,t.jsx)("img",we(Fe({},e),{width:24,height:24,src:r,className:ve().emoji,alt:""}))}},e.id)})),null!=Me&&Me>0?(0,t.jsx)(l.X6,{variant:"heading-deprecated-12/semibold",className:ve().emoji,color:"header-secondary",children:"+".concat(Me)}):null]})]}):null]}),(0,t.jsxs)("div",{children:[null!=Ce&&(0,t.jsxs)(_.Z,{align:_.Z.Align.CENTER,className:ve().onlineCount,
children:[(0,t.jsx)("div",{className:ve().dotOnline}),(0,t.jsx)(l.xv,{variant:"text-sm/normal",children:Z.Z.Messages.MEMBER_VERIFICATION_NUM_ONLINE.format({membersOnline:Ce})})]}),null!=Te&&(0,t.jsxs)(_.Z,{align:_.Z.Align.CENTER,children:[(0,t.jsx)("div",{className:ve().dotMembers}),(0,t.jsx)(l.xv,{variant:"text-sm/normal",children:Z.Z.Messages.MEMBER_VERIFICATION_NUM_MEMBERS.format({members:Te})})]})]})]}),(0,t.jsxs)("div",{className:ve().modal,children:[(0,t.jsx)(N.hz,{className:ve().modalContent,children:(0,t.jsx)(f.Z,{className:s()(ve().sequencer,xe({},ve().centerContent,oe!==Ue.VERIFICATION_FORM)),steps:[Ue.CLAIM_ACCOUNT,Ue.EMAIL_CONFIRMATION,Ue.VERIFICATION_FORM],step:oe,children:function(){switch(oe){case Ue.CLAIM_ACCOUNT:return(0,t.jsx)(De,{headerId:n,email:ae,password:ce,setEmail:le,setPassword:de,emailError:Ie,passwordError:me});case Ue.EMAIL_CONFIRMATION:return(0,t.jsx)(ke,{headerId:n,email:ae});case Ue.VERIFICATION_FORM:return(0,t.jsx)(ze,{headerId:n,guildId:i,formState:Q,
updateFormState:W,isPreview:P,useReducedMotion:Se})}}()})}),function(){switch(oe){case Ue.CLAIM_ACCOUNT:return(0,t.jsxs)(N.mz,{className:ve().footer,children:[(0,t.jsx)(l.zx,{className:ve().submitButton,type:"submit",submitting:K,onClick:Be,disabled:0===ae.length||0===ce.length,children:Z.Z.Messages.NEXT}),(0,t.jsx)(l.xv,{variant:"text-xs/normal",color:"header-secondary",children:Z.Z.Messages.MEMBER_VERIFICATION_CLAIM_ACCOUNT_INFO})]});case Ue.EMAIL_CONFIRMATION:return null;case Ue.VERIFICATION_FORM:return(0,t.jsxs)(N.mz,{className:ve().footer,children:[(0,t.jsx)(l.zx,{className:ve().submitButton,type:"submit",submitting:K,onClick:Ge,color:l.zx.Colors.GREEN,disabled:null==b||Re,children:Z.Z.Messages.SUBMIT}),null!=re&&(0,t.jsx)(l.xv,{variant:"text-xs/normal",color:"text-danger",children:re}),null==re&&_e&&(0,t.jsx)(l.xv,{color:"header-secondary",variant:"text-xs/normal",children:Z.Z.Messages.MEMBER_VERIFICATION_WARNING})]})}}()]})]})}}}]);
//# sourceMappingURL=d59cb6ea1615700cfa3b.js.map