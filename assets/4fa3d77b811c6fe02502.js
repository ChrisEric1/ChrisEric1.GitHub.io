(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[58299,84237],{296228:(e,t,n)=>{e.exports=n.p+"31e9104ec280e397857c57635dac2352.jpg"},309038:(e,t,n)=>{e.exports=n.p+"1cee7187f0916a9cce015c404de4e717.jpg"},211117:(e,t,n)=>{e.exports=n.p+"62cbd27914f81784edf17c7ecf65315e.png"},823653:(e,t,n)=>{e.exports=n.p+"861ab526aa1fabb04c6b7da8074e3e21.png"},278435:(e,t,n)=>{e.exports=n.p+"2b161f52b9b84596354ac9579510d6dd.svg"},313106:(e,t,n)=>{e.exports=n.p+"3faf617f2b0829505a37a3bf84d22939.svg"},699426:(e,t,n)=>{e.exports=n.p+"b22c24eaa3dc943933753254734ed38d.svg"},502101:(e,t,n)=>{e.exports=n.p+"894e2832a1bed82af291dba37fc0e3b7.svg"},403058:(e,t,n)=>{e.exports=n.p+"f0adef6f99ba5d66953de12662a754c1.svg"},102552:(e,t,n)=>{e.exports=n.p+"33945de473a35f3cda1136c730b3dbf2.svg"},566240:(e,t,n)=>{e.exports=n.p+"29873d798f326fb07e2d8e768b14f2d3.svg"},43009:(e,t,n)=>{e.exports=n.p+"1b6864562222718532fdda8198fc359b.svg"},640846:(e,t,n)=>{
e.exports=n.p+"985195b3d11f0b5de20e75e83c8dc3ff.svg"},613651:(e,t,n)=>{e.exports=n.p+"e5804f259532f5e18407b29c48bd4d28.svg"},25300:(e,t,n)=>{e.exports=n.p+"5e4c2460f3706ab8ebabe787fb2e3bc6.svg"},572149:(e,t,n)=>{e.exports=n.p+"41d04ee94a1e4407994284c320729101.svg"},615306:(e,t,n)=>{e.exports=n.p+"973c782b732fbf67089956115691ba16.svg"},479467:(e,t,n)=>{e.exports=n.p+"19cf92849be2284eb401172e435265d9.svg"},704923:(e,t,n)=>{e.exports=n.p+"1b16169ee6f3b942ef7cc96718144bfa.svg"},786522:(e,t,n)=>{"use strict";n.d(t,{c4:()=>o,mJ:()=>i,N5:()=>a,lc:()=>u});var r=n(744564);function o(e){r.Z.dispatch({type:"CATEGORY_COLLAPSE",id:e})}function i(e){r.Z.dispatch({type:"CATEGORY_EXPAND",id:e})}function a(e){r.Z.dispatch({type:"CATEGORY_COLLAPSE_ALL",guildId:e})}function u(e){r.Z.dispatch({type:"CATEGORY_EXPAND_ALL",guildId:e})}},361610:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(744564);const o={toggleMembersSection:function(){r.Z.dispatch({type:"CHANNEL_TOGGLE_MEMBERS_SECTION"})},
toggleProfilePanelSection:function(){r.Z.dispatch({type:"PROFILE_PANEL_TOGGLE_SECTION"})},toggleSummariesSection:function(){r.Z.dispatch({type:"CHANNEL_TOGGLE_SUMMARIES_SECTION"})}}},790405:(e,t,n)=>{"use strict";n.d(t,{yC:()=>d,Nz:()=>p,m$:()=>h,jn:()=>E,oO:()=>y,QQ:()=>b,j8:()=>O,qt:()=>S,u$:()=>_,QY:()=>m});var r=n(744564),o=n(396043),i=n(747126),a=n(733300),u=n(473903),l=n(2590);function s(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){s(e,t,n[t])}))}return e}function f(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e)
;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function d(e,t,n){if(i.Z.didAgree(e)){var s=u.default.getCurrentUser();if(null==s)return;t.include_nsfw=null==s.nsfwAllowed||s.nsfwAllowed}var c=Object.keys(t);o.ZP.trackWithMetadata(l.rMx.SEARCH_STARTED,{search_type:a.Z.getSearchType(),prev_search_id:a.Z.getAnalyticsId(e),num_modifiers:c.length,modifiers:c.reduce((function(e,n){var r=t[n];e[n]=Array.isArray(r)?r.length:1;return e}),{})});r.Z.dispatch({type:"SEARCH_START",query:t,searchId:e,queryString:n})}function p(e,t){var n=a.Z.getQuery(e),r=function(e){switch(e){case l.QIO.MOST_RELEVANT:return{sort_by:"relevance",sort_order:"desc"};case l.QIO.OLDEST:return{sort_by:"timestamp",sort_order:"asc"};case l.QIO.NEWEST:default:return{
sort_by:"timestamp",sort_order:"desc"}}}(t);return d(e,f(c({},n,r),{offset:0}))}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.vpv;return g(e,t)}function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.vpv;return g(e,-t)}function y(e,t){return v(e,t*l.vpv)}function g(e,t){return v(e,a.Z.getOffset(e)+t)}function v(e,t){var n=a.Z.getQuery(e),r=a.Z.getTotalResults(e);if(!(t<0||t>r))return d(e,f(c({},n),{offset:t}))}function b(e){r.Z.dispatch({type:"SEARCH_CLEAR_HISTORY",searchId:e})}function O(e,t){null!=e&&r.Z.dispatch({type:"SEARCH_EDITOR_STATE_CHANGE",searchId:e,editorState:t})}function S(e){o.ZP.trackWithMetadata(l.rMx.SEARCH_CLOSED,{search_id:a.Z.getAnalyticsId(e)});r.Z.wait((function(){return r.Z.dispatch({type:"SEARCH_EDITOR_STATE_CLEAR",searchId:e})}))}function _(e,t,n){null!=e&&r.Z.dispatch({type:"SEARCH_AUTOCOMPLETE_QUERY_UPDATE",searchId:e,tokens:t,cursorScope:n})}function m(e,t){r.Z.dispatch({
type:"SEARCH_SET_SHOW_BLOCKED_RESULTS",searchId:e,showBlocked:t})}},481117:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(281110),o=n(744564),i=n(2590);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){u=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var l="".concat(i.dGm,"/api/v2/scheduled-maintenances"),s="".concat(i.dGm,"/api/v2/incidents/unresolved.json");const c={checkIncidents:function(){Promise.all([r.Z.get("".concat(l,"/active.json")),r.Z.get(s)]).then((function(e){var t=u(e,2),n=t[0],r=t[1],i=u(n.body.scheduled_maintenances,1)[0],a=u(r.body.incidents,1)[0];o.Z.dispatch({type:"STATUS_PAGE_INCIDENT",incident:a||i})}))},checkScheduledMaintenances:function(){r.Z.get("".concat(l,"/upcoming.json")).then((function(e){var t=u(e.body.scheduled_maintenances,1)[0];o.Z.dispatch({type:"STATUS_PAGE_SCHEDULED_MAINTENANCE",maintenance:t})}))},ackScheduledMaintenance:function(){o.Z.dispatch({type:"STATUS_PAGE_SCHEDULED_MAINTENANCE_ACK"})}}},762572:(e,t,n)=>{"use strict";n.d(t,{Xq:()=>s,hZ:()=>c,wk:()=>f});var r=n(999357),o=n(165695),i=n(744564),a=n(652591),u=n(801809),l=n(2590)
;function s(e){i.Z.dispatch({type:"SURVEY_OVERRIDE",id:e})}function c(e,t){i.Z.dispatch({type:"SURVEY_HIDE",key:e});t?a.default.track(l.rMx.APP_NOTICE_CLOSED,{notice_type:l.kVF.SURVEY,survey_id:e,dismissed:t}):a.default.track(l.rMx.APP_NOTICE_PRIMARY_CTA_OPENED,{notice_type:l.kVF.SURVEY})}function f(e){var t={};null!=e&&(t.survey_override=e);return u.Z.get({url:l.ANM.USER_SURVEY,query:t,trackedActionData:{event:r.a9.USER_SURVEY_FETCH,properties:function(e){var t,n=null==e||null===(t=e.body)||void 0===t?void 0:t.survey;return(0,o.iG)({key:null==n?void 0:n.key})}}}).then((function(e){var t;i.Z.dispatch({type:"SURVEY_FETCHED",survey:null==e||null===(t=e.body)||void 0===t?void 0:t.survey})}),(function(){i.Z.dispatch({type:"SURVEY_FETCHED",survey:null})}))}},531304:(e,t,n)=>{"use strict";n.d(t,{Z:()=>be});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),u=n(496486),l=n.n(u),s=n(730381),c=n.n(s),f=n(853158),d=n(547308),p=n(202351),h=n(336194),E=n(945460),y=n(744564),g=n(652591),v=n(2590)
;const b=function(e){y.Z.dispatch({type:"ACTIVITY_INVITE_EDUCATION_DISMISS",key:e,value:!0});g.default.track(v.rMx.CLOSE_TUTORIAL,{tutorial:"activity-invite-nux-inline",application_id:e,acknowledged:!0})};var O=n(661123),S=n(545580);var _=n(627342),m=n(44616),I=n(795470),C=n(673383),T=n(809433),A=n(473708),N=n(148956),P=n.n(N);function R(e){var t=e.channelId,n=(0,T.Z)(t);if(!(null!=n&&(n.value>0||(null==n?void 0:n.multiplier)>1)))return null;var o=n.multiplier,i=(0,C.yz)(o).color;return(0,r.jsxs)("div",{className:P().container,children:[(0,r.jsx)(E.Text,{variant:"text-xs/normal",children:A.Z.Messages.POGGERMODE_COMBO_BAR}),(0,r.jsx)(E.Progress,{foregroundColor:(0,I.Lq)(i),className:P().progress,size:E.Progress.Sizes.LARGE,percent:100*(0,C.nc)(n),animate:!0})]})}function L(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e){w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return w(e)}
function j(e,t){return!t||"object"!==M(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function D(e,t){D=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return D(e,t)}var M=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var o=w(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return j(this,n)}}var U={};var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{
constructor:{value:e,writable:!0,configurable:!0}});t&&D(e,t)}(n,e);var t=Z(n);function n(){L(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(e){Object.assign(U,e)};r.getState=function(){return U};r.shouldShowEducation=function(e){return!0!==U[e]};r.__getLocalVars=function(){return{state:U}};return n}(p.ZP.PersistedStore);x.displayName="ActivityInviteEducationStore";x.persistKey="ActivityInviteEducationExperimentStore";const k=new x(y.Z,{ACTIVITY_INVITE_EDUCATION_DISMISS:function(e){U[e.key]=e.value;return!0}});var F=n(736818),G=n(959207),B=n(567403),H=n(682776),V=n(840922),Y=n(436154),K=n(539273),z=n(788169),W=n(473903),Q=n(901654),q=n(570662),X=n(930948),J=n(72580),$=n(773148),ee=n(567622),te=n.n(ee);function ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function re(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oe(e,t,n){t in e?Object.defineProperty(e,t,{
value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ie(e){ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return ie(e)}function ae(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&fe(e,t)}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){oe(e,t,n[t])}))}return e}function le(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
;t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function se(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function ce(e,t){return!t||"object"!==pe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function fe(e,t){fe=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return fe(e,t)}function de(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){u=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ne(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ne(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var pe=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function he(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1
;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=ie(e);if(t){var o=ie(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ce(this,n)}}var Ee=[],ye=function(e){ae(n,e);var t=he(n);function n(){re(this,n);var e;(e=t.apply(this,arguments)).state={fadeIn:!1};e.timeout=null;e.handleDismissInviteEducation=function(){var t=e.props.activity;null!=t&&null!=t.application_id&&b(t.application_id)};return e}var o=n.prototype;o.componentDidMount=function(){var e=this;this.timeout=setTimeout((function(){e.setState({fadeIn:!0});e.timeout=null;e.logShownEventIfNeeded()}),100)};o.componentDidUpdate=function(){this.logShownEventIfNeeded()};o.logShownEventIfNeeded=function(){var e=this.props.activity.application_id;if(null!=e&&-1===Ee.indexOf(e)){g.default.track(v.rMx.SHOW_TUTORIAL,{
tutorial:"activity-invite-nux-inline",application_id:e});Ee.push(e)}};o.componentWillUnmount=function(){null!==this.timeout&&clearTimeout(this.timeout)};o.render=function(){var e=this.props.activity;return(0,r.jsxs)("div",{className:a()(te().activityInviteEducation,oe({},te().activityInviteEducationFadeIn,this.state.fadeIn)),children:[(0,r.jsx)("div",{className:te().activityInviteEducationArrow}),(0,r.jsx)("span",{children:A.Z.Messages.USER_ACTIVITY_CHAT_INVITE_EDUCATION.format({game:e.name,dismissOnClick:this.handleDismissInviteEducation})})]})};return n}(o.PureComponent);function ge(e){e.channel,e.guild;return(0,r.jsx)(_.Z,{contentTypes:[],children:function(e){e.visibleContent,e.markAsDismissed;return null}})}var ve=function(e){ae(n,e);var t=he(n);function n(){re(this,n);var e;(e=t.apply(this,arguments)).state={color:new f.Z.Value(0)};e.emphasizeSlowmodeCooldown=function(){var t=e.state.color;f.Z.sequence([f.Z.timing(t,{toValue:1,duration:100,easing:f.Z.Easing.quad}),f.Z.timing(t,{
delay:250,toValue:0,duration:100,easing:f.Z.Easing.quad})]).start()};return e}var o=n.prototype;o.componentDidMount=function(){X.S.subscribe(v.CkL.EMPHASIZE_SLOWMODE_COOLDOWN,this.emphasizeSlowmodeCooldown)};o.componentWillUnmount=function(){X.S.unsubscribe(v.CkL.EMPHASIZE_SLOWMODE_COOLDOWN,this.emphasizeSlowmodeCooldown)};o.getCooldownTextStyle=function(){var e=this.state.color,t=this.props,n=t.baseTextColor,r=t.activeTextColor;return{color:e.interpolate({inputRange:[0,1],outputRange:[n,(0,d.wK)(r,.9)]})}};o.render=function(){var e=this,t=this.props,n=t.guildId,o=t.activity,i=t.showInviteEducation,u=t.isFocused,s=t.typingUsers,d=t.className,p=t.slowmodeCooldownGuess,h=t.isBypassSlowmode,y=t.channel,g=t.isThreadCreation,b=t.renderDots,O=t.poggermodeEnabled,S=t.isComboing,_=y.rateLimitPerUser,m=W.default.getCurrentUser(),I=B.Z.getGuild(n),C=_>0,T=g?[]:l()(s).keys().filter((function(e){return e!==(null==m?void 0:m.id)})).reject(V.Z.isBlocked).map((function(e){return W.default.getUser(e)
})).filter(J.lm).map((function(t){return $.Z.getName(n,e.props.channel.id,t)})).value();if(0===T.length&&!C&&!S)return i&&null!=o?(0,r.jsx)(ye,{activity:o,isFocused:u}):(0,r.jsx)(ge,{channel:y,guild:I});var N="",P=null,L="";if(C){P=(0,r.jsx)(q.Z,{className:te().slowModeIcon});if(_>=v.UF9.HOUR){var w=Math.floor(_/v.UF9.HOUR),j=Math.floor((_-w*v.UF9.HOUR)/v.UF9.MINUTE),D=_-w*v.UF9.HOUR-j*v.UF9.MINUTE;L=A.Z.Messages.CHANNEL_SLOWMODE_DESC_HOURS.format({hours:w,minutes:j,seconds:D})}else if(_>=60){var M=Math.floor(_/60),Z=_-60*M;L=A.Z.Messages.CHANNEL_SLOWMODE_DESC_MINUTES.format({minutes:M,seconds:Z})}else L=A.Z.Messages.CHANNEL_SLOWMODE_DESC.format({seconds:_});if(!h&&p>0){var U=c().duration(p);if(p>1e3*v.UF9.HOUR){var x="".concat(U.minutes()).padStart(2,"0"),k="".concat(U.seconds()).padStart(2,"0");N="".concat(U.hours(),":").concat(x,":").concat(k)}else{var F="".concat(U.seconds()).padStart(2,"0");N="".concat(U.minutes(),":").concat(F)}
}else 0===T.length&&(N=h?A.Z.Messages.CHANNEL_SLOWMODE_DESC_IMMUNE:A.Z.Messages.CHANNEL_SLOWMODE_DESC_SHORT)}var G,H=de(T,3),Y=H[0],K=H[1],z=H[2];G=0===T.length?"":1===T.length?A.Z.Messages.ONE_USER_TYPING.format({a:Y}):2===T.length?A.Z.Messages.TWO_USERS_TYPING.format({a:Y,b:K}):3===T.length?A.Z.Messages.THREE_USERS_TYPING.format({a:Y,b:K,c:z}):A.Z.Messages.SEVERAL_USERS_TYPING;return(0,r.jsxs)("div",{className:a()(te().typing,oe({"stop-animation":!u},te().isComboing,O&&S),d),children:[(0,r.jsxs)("div",{className:te().typingDots,children:[T.length>0&&!1!==b&&(0,r.jsx)(E.Dots,{className:te().ellipsis,dotRadius:3.5,themed:!0}),(0,r.jsx)("span",{className:te().text,"aria-live":"polite","aria-atomic":!0,children:G})]}),C&&(0,r.jsx)(E.Tooltip,{text:L,children:function(t){return(0,r.jsxs)(f.Z.div,le(ue({style:e.getCooldownTextStyle(),className:te().cooldownWrapper},t),{children:[N,P]}))}}),O&&S&&(0,r.jsx)(R,{channelId:y.id})]})};return n}(o.PureComponent);function be(e){
var t=e.channel,n=e.isThreadCreation,o=void 0!==n&&n,i=se(e,["channel","isThreadCreation"]),a=(0,p.e7)([Y.Z],(function(){return Y.Z.findActivity((function(e){return null!=e.application_id}))})),u=(0,p.e7)([m.ZP,F.default],(function(){return m.ZP.getUserCombo(F.default.getId(),t.id)})),l=(0,p.e7)([k,G.Z],(function(){return function(e,t,n,r){var o=null==t?void 0:t.application_id;if(null==e||null==t||!(0,S.Z)(t,v.xjy.JOIN)||null==o)return!1;var i=r.getGame(o);return null!=i&&!(0,O.yE)(i.flags,v.udG.EMBEDDED)&&n.shouldShowEducation(o)}(t,a,k,G.Z)})),s=(0,p.e7)([K.Z],(function(){return K.Z.getSlowmodeCooldownGuess(t.id,o?K.S.CreateThread:K.S.SendMessage)})),c=(0,p.e7)([H.Z],(function(){return o?H.Z.can(v.Plq.MANAGE_THREADS,t):H.Z.can(v.Plq.MANAGE_CHANNELS,t)||H.Z.can(v.Plq.MANAGE_MESSAGES,t)})),f=le(ue({},i),{baseTextColor:(0,E.useToken)(h.Z.colors.INTERACTIVE_NORMAL).hex(),activeTextColor:(0,E.useToken)(h.Z.colors.INTERACTIVE_NORMAL).hex(),showInviteEducation:l,activity:a,typingUsers:(0,
p.e7)([z.Z],(function(){return z.Z.getTypingUsers(t.id)})),isFocused:(0,p.e7)([Q.Z],(function(){return Q.Z.isFocused()})),guildId:t.guild_id,slowmodeCooldownGuess:s,isComboing:null!=u,isBypassSlowmode:c,channel:t,isThreadCreation:o});return(0,r.jsx)(ve,ue({},f))}},813357:(e,t,n)=>{"use strict";n.d(t,{h4:()=>H,nH:()=>V,QV:()=>z,ZP:()=>W});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),u=n(496486),l=n.n(u),s=n(457217),c=n(202351),f=n(945460),d=n(105783),p=n(336334),h=n(914964),E=n(487868),y=n(784426),g=n(64234),v=n(61209),b=n(352980),O=n(682776),S=n(88818),_=n(901654),m=n(700223),I=n(189865),C=n(652591),T=n(930948),A=n(2590),N=n(473708),P=n(127919),R=n.n(P);function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function D(e){
D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return D(e)}function M(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Z(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function U(e,t){
return!t||"object"!==F(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function x(e,t){x=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return x(e,t)}function k(e){return function(e){if(Array.isArray(e))return L(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var F=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function G(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=D(e);if(t){var o=D(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return U(this,n)}}function B(e){e.stopPropagation()}var H=function(e){var t=e.title,n=e.children,o=e.className;return(0,r.jsxs)("div",{className:a()(o,R().header),children:[null==t?null:(0,r.jsx)(f.Heading,{variant:"heading-md/medium",children:t}),n]})},V=function(e){var t=e.msg,n=e.image;return(0,r.jsxs)("div",{className:R().emptyPlaceholder,children:[(0,r.jsx)("div",{className:R().image,style:{backgroundImage:"url(".concat(n,")")}}),(0,r.jsx)("div",{className:R().body,children:t})]})},Y=function(e){
!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&x(e,t)}(n,e);var t=G(n);function n(){w(this,n);var e;(e=t.apply(this,arguments)).handleClickJump=function(t){var n=e.props;(0,n.jumpTo)(n.message,t)};e.handleClickClose=function(t){var n=e.props,r=n.onCloseMessage,o=n.message;null!=r&&r(o,t)};return e}var o=n.prototype;o.renderJumpButton=function(){var e=this.props.jumping;return(0,r.jsxs)(f.Clickable,{className:R().jumpButton,onClick:this.handleClickJump,children:[(0,r.jsx)("div",{className:a()(R().text,{hidden:e}),children:N.Z.Messages.JUMP}),(0,r.jsx)(f.Spinner,{type:f.Spinner.Type.PULSING_ELLIPSIS,className:a()(R().loading,j({},R().visible,e))})]})};o.renderCloseButton=function(){var e=this.props,t=e.onCloseMessage,n=e.canCloseAllMessages,o=e.canManageMessages,i=e.channel
;return null==t?null:n||o||null!=i&&i.isPrivate()?(0,r.jsx)(f.Button,{look:f.Button.Looks.BLANK,size:f.Button.Sizes.NONE,onClick:this.handleClickClose,children:(0,r.jsx)(I.Z,{className:R().closeIcon})}):null};o.render=function(){return(0,r.jsxs)("div",{className:R().actionButtons,children:[this.renderJumpButton(),this.renderCloseButton()]})};return n}(o.PureComponent),K=c.ZP.connectStores([O.Z],(function(e){var t=e.channel;return{canManageMessages:null!=t&&O.Z.can(A.Plq.MANAGE_MESSAGES,t)}}))(Y);function z(e){var t=e.analyticsName,n=e.items,i=e.hasMore,u=e.loading,d=e.loadMore,p=e.renderHeader,E=e.renderEmptyState,y=e.renderItem,v=e.getProTip,b=e.scrollerClassName,O=e.className,I=e.listName,P=o.useRef(null),L=(0,h.Z)(I,P),w=(0,c.e7)([S.Z],(function(){return S.Z.hasNotice()})),D=(0,c.e7)([_.Z],(function(){return _.Z.windowSize()}));o.useEffect((function(){C.default.track(A.rMx.OPEN_POPOUT,{type:t})}),[t]);o.useEffect((function(){var e=function(){var e
;null===(e=P.current)||void 0===e||e.scrollPageUp({animate:!0})},t=function(){var e;null===(e=P.current)||void 0===e||e.scrollPageDown({animate:!0})};T.S.subscribe(A.CkL.SCROLL_PAGE_DOWN,t);T.S.subscribe(A.CkL.SCROLL_PAGE_UP,e);return function(){T.S.unsubscribe(A.CkL.SCROLL_PAGE_DOWN,t);T.S.unsubscribe(A.CkL.SCROLL_PAGE_UP,e)}}),[]);var U=o.useCallback((function(){var e,t=null===(e=P.current)||void 0===e?void 0:e.getScrollerState();null!=t&&t.scrollHeight===t.scrollTop+t.offsetHeight&&i&&!u&&(null==d||d())}),[i,d,u]),x=[],F=!0;if(null==n)x=[(0,r.jsx)("div",{className:a()(R().emptyPlaceholder,R().loadingPlaceholder),children:(0,r.jsx)(f.Spinner,{})},"spinner")];else if(0===n.length)x.push((0,r.jsx)(o.Fragment,{children:E(g.Z.theme)},"empty-state"));else{F=!1;x=[];l().each(n,(function(e){var t;(t=x).push.apply(t,k(y(e)))}))}var G=null;null!=n&&n.length>0&&null!=d&&(G=u?(0,r.jsx)("div",{className:R().loadingMore,children:(0,r.jsx)(f.Spinner,{})},"loading-more-after"):i?(0,r.jsx)("div",{
className:R().hasMore,children:(0,r.jsx)(f.Button,{look:f.Button.Looks.FILLED,color:f.Button.Colors.PRIMARY,size:f.Button.Sizes.MAX,onClick:d,children:N.Z.Messages.LOAD_MORE_MESSAGES})}):(0,r.jsx)("div",{className:R().scrollingFooterWrap,children:E(g.Z.theme)}));var H=null==v?void 0:v(),V=F&&null!=H?(0,r.jsx)("div",{className:R().footer,children:(0,r.jsx)(m.Z,{style:{width:"100%",paddingTop:10},children:H})}):null,Y={maxHeight:D.height-43-25};w&&(Y.maxHeight-=40);var K=null!=d&&i;return(0,r.jsx)("div",{className:a()(O,R().messagesPopoutWrap),style:Y,onClick:B,onDoubleClick:B,"aria-label":e["aria-label"],children:(0,r.jsxs)(f.HeadingLevel,{component:p(),children:[(0,r.jsxs)(f.AdvancedScroller,{className:a()(R().messagesPopout,b),onScroll:K?U:void 0,ref:P,children:[(0,r.jsx)(s.bG,{navigator:L,children:(0,r.jsx)(s.SJ,{children:function(e){var t=e.ref,n=Z(e,["ref"]);return(0,r.jsx)("div",M(function(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){j(e,t,n[t])}))}return e}({ref:t},n),{children:x}))}})}),G]}),V]})})}function W(e){var t=function(e,t){var r=e.id,o=e.blocked,i=e.author,a=e.channel_id;if(o)d.Z.show({title:N.Z.Messages.UNBLOCK_TO_JUMP_TITLE,body:N.Z.Messages.UNBLOCK_TO_JUMP_BODY.format({name:i.username}),confirmText:N.Z.Messages.OKAY});else if(!w){var u=v.Z.getChannel(a);if(null!=u){p.Z.trackJump(a,r,n);(0,y.uL)(A.Z5c.CHANNEL(u.getGuildId(),a,r))}null==h||h(t)}},n=e.analyticsName,i=e.onFetch,a=e.channel,u=e.messages,l=e.hasMore,s=e.loading,f=e.loadMore,h=e.onJump,g=e.canCloseAllMessages,O=void 0!==g&&g,S=e.renderHeader,_=e.renderEmptyState,m=e.renderMessage,I=e.getProTip,C=e.scrollerClassName,T=e.className,P=e.onCloseMessage,L=e.listName,w=(0,c.e7)([b.Z],(function(){
var e=null!=a?b.Z.getMessages(a.id):null;return null!=e&&null!=e.jumpTargetId&&(e.loadingMore&&null==e.get(e.jumpTargetId))}));o.useEffect((function(){i(a)}),[a,i]);var j=o.useMemo((function(){return null==u?void 0:u.map((function(e){return{message:e,channel:a}}))}),[u,a]);return(0,r.jsx)(z,{className:T,scrollerClassName:C,items:j,loading:s,analyticsName:n,renderEmptyState:_,renderHeader:S,hasMore:l,loadMore:f,getProTip:I,renderItem:function(e){var n=e.message,o=e.channel;if(null==n)return[];if(null!=m)return m(n,(function(e){return t(n,e)}));var i=[];if(null==o)return[];i.push((0,r.jsxs)("div",{className:R().messageGroupWrapper,children:[(0,r.jsx)(E.Z,{className:R().messageGroupCozy,message:n,channel:o}),(0,r.jsx)(K,{channel:a,message:n,jumping:w,canCloseAllMessages:O,jumpTo:t,onCloseMessage:P})]},n.id));return i},listName:L,"aria-label":e["aria-label"]})}},73407:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(283151),o=n(70145),i=n(667294),a=n(441143),u=n.n(a);function l(e,t){
var n=(0,i.useRef)(e);(0,i.useEffect)((function(){n.current=e}),[e]);(0,i.useEffect)((function(){var e=setInterval((function(){u()(null!=n.current,"Missing callback");n.current()}),t);return function(){return clearInterval(e)}}),[t])}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>2?arguments[2]:void 0,i=(0,r.Z)();l((function(){i();null!=n&&n()}),t);return(0,o.TD)(Date.now(),e)}},400394:(e,t,n)=>{"use strict";n.d(t,{IL:()=>i,FI:()=>a});var r=n(930948),o=n(2590),i={binds:["mod+return"],comboKeysBindGlobal:!0,action:function(){if(r.S.hasSubscribers(o.CkL.CALL_ACCEPT)){r.S.dispatch(o.CkL.CALL_ACCEPT);return!1}}},a={binds:["ctrl+'","ctrl+shift+'"],comboKeysBindGlobal:!0,action:function(e){if(r.S.hasSubscribers(o.CkL.CALL_START)){r.S.dispatch(o.CkL.CALL_START,e);return!1}}}},941248:(e,t,n)=>{"use strict";n.d(t,{tQ:()=>w,x5:()=>j,Nx:()=>M,On:()=>Z,$c:()=>D})
;var r=n(131795),o=n.n(r),i=n(487517),a=n(433932),u=n(848465),l=n(996344),s=n(628486),c=n(968449),f=n(761814),d=n(7114),p=n(796909),h=n(72580),E=n(535156),y=n(2590),g=n(897196);function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var O=function(){
return[y.Z5c.FRIENDS,f.Z.hasLibraryApplication()&&!c.bm.getSetting()?y.Z5c.APPLICATION_LIBRARY:null,y.Z5c.APPLICATION_STORE,l.Z.getMessageRequestsCount()>0?y.Z5c.MESSAGE_REQUESTS:null].filter(h.lm)};function S(e,t){(0,E.K)(e,t)}function _(e){var t,n=s.Z.getState(),r=n.channelId,o=n.path,i=n.basePath,a=p.Z.getPrivateChannelIds(),u=__OVERLAY__?a:b(O()).concat(b(a)),l=(null==r?(t=null!=o?o:i,O().findIndex((function(e){return t.startsWith(e)}))):null!=r?u.indexOf(r):0)+e;l>=u.length?l=0:l<0&&(l=u.length-1);var c,f,h=u[l];O().includes(h)?(c=h,f=d.Z.getCurrentRoute(),c===y.Z5c.APPLICATION_STORE&&null!=f?(0,E.z)(f):(0,E.z)(c)):S(y.ME,h)}function m(e,t){var n=s.Z.getState().channelId,r=(0,i.Z)(t).map((function(e){return e.id}));((0,a.YM)(t)||(0,u.s)(t))&&r.unshift(g.oC.GUILD_HOME);var o,l,c=null!=n?r.indexOf(n):-1;S(t,r[(o=c+e,l=r.length,o<0?l-1:o>=l?0:o)])}function I(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=s.Z.getState().guildId;null==t?_(e):m(e,t)}
var C,T,A=n(784426),N=n(934870),P=n(715107),R=n(464187),L=/Darwin|OS X/.test(null!==(T=null===(C=o().os)||void 0===C?void 0:C.family)&&void 0!==T?T:""),w={binds:["alt+down"],comboKeysBindGlobal:!0,action:function(){I();return!1}},j={binds:["alt+up"],comboKeysBindGlobal:!0,action:function(){I(-1);return!1}},D={binds:["mod+alt+right"],comboKeysBindGlobal:!0,action:function(){var e;if(null!=R.Z.getGuildId())e=y.ME;else{var t=R.Z.getLastSelectedGuildId();if(null!=t){e=t;(0,E.K)(t,P.Z.getChannelId(t))}}null!=e&&(0,N.X)(e);return!1}},M={binds:L?["mod+["]:["alt+left"],comboKeysBindGlobal:!0,action:function(){(0,A.op)();return!1}},Z={binds:L?["mod+]"]:["alt+right"],comboKeysBindGlobal:!0,action:function(){(0,A.eH)();return!1}}},847294:(e,t,n)=>{"use strict";n.d(t,{f:()=>T})
;var r=n(809784),o=n(247250),i=n(336334),a=n(496916),u=n(26468),l=n(566706),s=n(28862),c=n(798808),f=n(190624),d=n(841800),p=n(852077),h=n(840598),E=n(804185),y=n(284610),g=n(481056),v=n(352980),b=n(717091),O=n(715107),S=n(464187),_=n(881532),m=n(901654),I=n(930948),C=n(2590),T={binds:["esc","shift+pagedown"],comboKeysBindGlobal:!0,action:function(e){if(m.Z.isElementFullScreen())return!1;if(I.S.hasSubscribers(C.CkL.CALL_DECLINE)){I.S.dispatch(C.CkL.CALL_DECLINE);return!1}if(_.Z.close())return!1;if(I.S.hasSubscribers(C.CkL.MEDIA_MODAL_CLOSE)){I.S.dispatch(C.CkL.MEDIA_MODAL_CLOSE);return!1}if((0,r.k)(e.target)){var t=(0,u.J5)(e.target);if(null==t?void 0:t.hasSubscribers(C.CkL.POPOUT_CLOSE)){t.dispatch(C.CkL.POPOUT_CLOSE);return!1}}if(I.S.hasSubscribers(C.CkL.CLOSE_GIF_PICKER)){I.S.dispatch(C.CkL.CLOSE_GIF_PICKER);return!1}if(I.S.hasSubscribers(C.CkL.MODAL_CLOSE)){I.S.dispatch(C.CkL.MODAL_CLOSE);return!1}if(I.S.hasSubscribers(C.CkL.SEARCH_RESULTS_CLOSE)){
I.S.dispatch(C.CkL.SEARCH_RESULTS_CLOSE);return!1}var n=S.Z.getGuildId(),i=O.Z.getChannelId(n),a=E.ZP.getSection(i)===C.ULH.SIDEBAR_CHAT?E.ZP.getSidebarState(i):null,s=(null==a?void 0:a.type)===d.t.VIEW_THREAD||(null==a?void 0:a.type)===d.t.VIEW_CHANNEL?a.channelId:null;if(!1===A(i))return!1;if(!1===A(s))return!1;if(null!=i&&(null==a?void 0:a.type)===d.t.CREATE_THREAD){f.Z.closeChannelSidebar(i);return!1}var c=N(i),p=N(s);if(null!=i&&!c&&!p&&null!=a){f.Z.closeChannelSidebar(i);return!1}if(null!=i&&!c&&l.Z.getChatOpen(i)){o.Z.updateChatOpen(i,!1);return!1}I.S.dispatch(C.CkL.SCROLLTO_PRESENT);return!1}};function A(e){if(null!=e){if(g.Z.isEditingAny(e)){i.Z.endEditMessage(e);return!1}if(null!=c.Z.getPendingReply(e)){(0,s.A6)(e);return!1}if(null!=p.Z.getStickerPreview(e,y.d.ChannelMessage)){(0,h.qB)(e,y.d.ChannelMessage);return!1}}}function N(e){if(null==e)return!1;var t=!1;if(v.Z.getMessages(e).hasMoreAfter){i.Z.jumpToPresent(e,C.AQB);t=!0}if(b.ZP.hasUnread(e)){(0,a.In)(e);t=!0}(0,
a.iV)(e);return t}},512566:(e,t,n)=>{"use strict";n.d(t,{l:()=>f});var r=n(336334),o=n(33014),i=n(813869),a=n(352980),u=n(715107),l=n(464187),s=n(930948),c=n(2590),f={binds:["shift+esc"],comboKeysBindGlobal:!0,action:function(){var e=l.Z.getGuildId();if(null!=e&&i.Z.getGuildHasUnreadIgnoreMuted(e)){(0,o.Z)([e]);var t=u.Z.getChannelId(e);if(null!=t){a.Z.getMessages(t).hasMoreAfter?r.Z.jumpToPresent(t,c.AQB):s.S.dispatch(c.CkL.SCROLLTO_PRESENT)}}}}},196444:(e,t,n)=>{"use strict";n.d(t,{O:()=>a});var r=n(336334),o=n(717091),i=n(715107),a={binds:["shift+pageup"],comboKeysBindGlobal:!0,action:function(){var e=i.Z.getChannelId();if(null!=e){var t=o.ZP.ackMessageId(e);null!=t&&o.ZP.getOldestUnreadTimestamp(e)>0&&r.Z.jumpToMessage({channelId:e,messageId:t,offset:1,context:"Keyboard Shortcut"})}return!1}}},327203:(e,t,n)=>{"use strict";n.d(t,{$:()=>i});var r=n(956485),o=n(50433),i={binds:["mod+k","mod+t"],comboKeysBindGlobal:!0,action:function(){o.Z.hasLayers()||(0,r.$Z)();return!1}}},
153080:(e,t,n)=>{"use strict";n.d(t,{F:()=>l});var r=n(216151),o=n(535156),i=n(69085),a=n(715107),u=n(2590),l={binds:["mod+alt+left"],comboKeysBindGlobal:!0,action:function(){if(!i.Z.isConnected())return!1;var e,t=null!==(e=i.Z.getGuildId())&&void 0!==e?e:u.ME,n=a.Z.getChannelId(t);(0,o.K)(t,n);r.Z.channelListScrollTo(t,i.Z.getChannelId());return!1}}},469471:(e,t,n)=>{"use strict";n.d(t,{B2:()=>i,gN:()=>a});var r=n(930948),o=n(2590),i={binds:["pageup"],comboKeysBindGlobal:!0,action:function(){r.S.dispatchToLastSubscribed(o.CkL.SCROLL_PAGE_UP);return!1}},a={binds:["pagedown"],comboKeysBindGlobal:!0,action:function(){r.S.dispatchToLastSubscribed(o.CkL.SCROLL_PAGE_DOWN);return!1}}},678483:(e,t,n)=>{"use strict";n.d(t,{S:()=>i});var r=n(930948),o=n(2590),i={binds:["mod+e"],comboKeysBindGlobal:!0,action:function(){r.S.dispatchToLastSubscribed(o.CkL.TOGGLE_EMOJI_POPOUT);return!1}}},520522:(e,t,n)=>{"use strict";n.d(t,{nq:()=>g,X3:()=>v})
;var r=n(496486),o=n.n(r),i=n(419051),a=n(825252),u=n(628486),l=n(61209),s=n(682776),c=n(715107),f=n(107218),d=n(493221),p=n(535156),h=n(2590);function E(e){var t=u.Z.getState().guildId;if(null==t)return-2;if(t===h.I_8)return-1;var n=e.indexOf(t);return-1===n?-2:n}const y=o().throttle((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=f.Z.getFlattenedGuildIds(),n=E(t);-1!==(n+=e)||(0,a.z)(i.Z,l.Z,s.Z)||(n+=e);-3===n&&(n=t.length-1);if(n>=t.length||-2===n)(0,p.z)(d.Z.getHomeLink());else{var r=-1===n?h.I_8:t[n],o=c.Z.getChannelId(r);(0,p.K)(r,o===r?null:o,!1)}}),h.aZC);var g={binds:["mod+alt+down","mod+shift+]","ctrl+tab"],comboKeysBindGlobal:!0,action:function(e){e.preventDefault();e.stopPropagation();y();return!1}},v={binds:["mod+alt+up","mod+shift+[","ctrl+shift+tab"],comboKeysBindGlobal:!0,action:function(e){e.preventDefault();e.stopPropagation();y(-1);return!1}}},877944:(e,t,n)=>{"use strict";n.d(t,{z:()=>a});var r=n(316878),o=n(930948),i=n(2590),a={
binds:["return"],action:function(){if(!r.Z.keyboardModeEnabled&&o.S.hasSubscribers(i.CkL.MODAL_SUBMIT)){o.S.dispatch(i.CkL.MODAL_SUBMIT);return!1}}}},735892:(e,t,n)=>{"use strict";n.d(t,{U:()=>y})
;var r=n(112268),o=n(316878),i=n(50433),a=n(604945),u=n(69085),l=n(930948),s=n(763993),c=n(79251),f=n(2590),d=new Set(["PageDown","PageUp","Home","End","ArrowUp","ArrowDown","ArrowLeft","ArrowRight"]),p=new Set(["Alt","AltGraph","CapsLock","Control","Fn","FnLock","Hyper","Meta","NumLock","OS","ScrollLock","Shift","Super","Symbol","SymbolLock"]),h=new Set(["F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12","F13","F14","F15","F16","F17","F18","F19","F20","Accept","ContextMenu","Find","ZoomIn","ZoomOut"]),E=new Set(["ChannelDown","ChannelUp","MediaFastForward","MediaPause","MediaPlay","MediaPlayPause","MediaRecord","MediaRewind","MediaStop","MediaTrackNext","MediaTrackPrevious","AudioBalanceLeft","AudioBalanceRight","AudioBassDown","AudioBassBoostDown","AudioBassBoostToggle","AudioBassBoostUp","AudioBassUp","AudioFaderFront","AudioFaderReader","AudioSurroundModeNext","AudioTrebleDown","AudioTreblUp","AudioVolumeDown","AudioVolumeMute","AudioVolumeUp","VolumeUp","VolumeDown","VolumeMute"]),y={
binds:["any-character"],keydown:function(e,t){var n,y=null===(n=(0,s.uB)(e))||void 0===n?void 0:n.activeElement;if((0,s.VG)(y))return!1;if(r.fC.isActive())return!1;if(p.has(t))return!1;if(h.has(t))return!1;if(E.has(t))return!1;var g=null!=y&&"BODY"===y.tagName;if(o.Z.keyboardModeEnabled&&!g&&!/^[a-zA-Z0-9]$/.test(t))return!1;if(l.S.hasSubscribers(f.CkL.MODAL_CLOSE))return!1;if(i.Z.hasLayers())return!1;if("Tab"===t&&l.S.hasSubscribers(f.CkL.TEXTAREA_FOCUS)&&null!=document.querySelector('[data-can-focus="true"]')){e.preventDefault();l.S.dispatch(f.CkL.TEXTAREA_FOCUS);return!1}if(u.Z.isConnected()&&a.Z.getMode()===f.pM4.PUSH_TO_TALK&&!a.Z.isSelfMute()&&Object.values(a.Z.getShortcuts()).map(c.d2).some((function(t){return t.map((function(e){return e.keyCode})).includes(e.keyCode)})))return!1;e.metaKey||e.ctrlKey||d.has(t)||l.S.dispatchToLastSubscribed(f.CkL.TEXTAREA_FOCUS)}}},436703:(e,t,n)=>{"use strict";n.d(t,{iN:()=>o,oV:()=>i});var r=n(656645),o={binds:["mod+shift+m"],
comboKeysBindGlobal:!0,action:function(){r.Z.toggleSelfMute();return!1}},i={binds:["mod+shift+d"],comboKeysBindGlobal:!0,action:function(){r.Z.toggleSelfDeaf();return!1}}},886076:(e,t,n)=>{"use strict";n.d(t,{u:()=>l});var r=n(786522),o=n(968968),i=n(5544),a=n(464187),u=n(2590),l={binds:["mod+shift+a"],comboKeysBindGlobal:!0,action:function(){var e=a.Z.getGuildId();if(null==e)return!1;i.ZP.getChannels(e)[u.d4z.GUILD_CATEGORY].some((function(e){var t=e.channel;return"null"!==t.id&&!o.Z.isCollapsed(t.id)}))?(0,r.N5)(e):(0,r.lc)(e);return!1}}},452006:(e,t,n)=>{"use strict";n.d(t,{_:()=>a});var r=n(945460),o=n(744564);var i=n(162341),a={binds:["mod+/","mod+shift+/"],comboKeysBindGlobal:!0,action:function(){(0,r.hasModalOpen)(i.J)?o.Z.dispatch({type:"HIDE_KEYBOARD_SHORTCUTS"}):o.Z.dispatch({type:"SHOW_KEYBOARD_SHORTCUTS"});return!1}}},805181:(e,t,n)=>{"use strict";n.d(t,{Nv:()=>Z,uX:()=>U,pd:()=>j,wk:()=>D});var r=n(785893),o=(n(667294),
n(496486)),i=n.n(o),a=n(945460),u=n(487517),l=n(628486),s=n(5544),c=n(464187),f=n(107218),d=n(796909),p=n(930948),h=n(535156),E=n(2590),y=n(290679);function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t,n,r,o,i,a){try{var u=e[i](a),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,o)}function b(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){v(i,r,o,a,u,"next",e)}function u(e){v(i,r,o,a,u,"throw",e)}a(void 0)}))}}function O(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){O(e,t,n[t])
}))}return e}function _(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function m(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e)||function(){
throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var I=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){
a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};function C(e,t){return[{resourceId:e,type:y.W.GUILD_EVENT}].concat(m(function(e,t){return e===E.ME?d.Z.getPrivateChannelIds():(0,u.Z)(e,t).map((function(e){return e.id}))}(e,t)))}const T=i().throttle((function(e,t){for(var o,i,u=t.channelPredicate,d=void 0===u?function(e,t){return!0}:u,y=t.guildPredicate,g=void 0===y?function(e){return!0}:y,v=t.guildFeaturePredicate,O=void 0===v?function(e,t){return!1}:v,T=t.withVoiceChannels,A=void 0!==T&&T,N=null!==(o=l.Z.getState().guildId)&&void 0!==o?o:E.ME,P=l.Z.getState().channelId,R=function(e,t){var n=[E.ME].concat(m(f.Z.getFlattenedGuildIds())),r=n.indexOf(e);if(t>0)return n.slice(r).concat(n.slice(0,r),e);n.splice(r,0,e);return n.slice(r+1).concat(n.slice(0,r+1))
}(N,e),L=e>0?0:R.length-1,w=C(N,A),j=w.indexOf(P)+e;null!=N&&""!==N;){i=w[j];if(g(N))for(;null!=i&&""!==i;){if("string"==typeof i){if(d(N,i))return(0,h.K)(N,i,!1,A)}else if("object"==typeof i&&O(i.resourceId,i.type)){if(N!==c.Z.getGuildId()){var D;(0,h.K)(N,null===(D=s.ZP.getDefaultChannel(N))||void 0===D?void 0:D.id)}return(0,a.openModalLazy)(b((function(){var e,t;return I(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(40706),n.e(26945),n.e(89853),n.e(70273)]).then(n.bind(n,389853))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,_(S({},e),{guildId:N}))}]}}))})))}i=w[j+=e]}if(null==(N=R[L+=e])||""===N)break;w=C(N,A);j=e<0?w.length-1:0}p.S.dispatch(E.CkL.SHAKE_APP,{duration:200,intensity:2})}),E.aZC);var A=n(382060),N=n(61209),P=n(717091),R=n(9430),L=function(e,t){var n=N.Z.getChannel(t);return null!=n&&((0,A.hv)(n.type)?Boolean(P.ZP.getMentionCount(t)):(!R.Z.isChannelMuted(e,t)||P.ZP.getMentionCount(t)>0)&&P.ZP.hasRelevantUnread(n))
},w=function(e,t){return t===y.W.GUILD_EVENT?!R.Z.isMuteScheduledEventsEnabled(e)&&P.ZP.hasUnread(e,t):P.ZP.hasUnread(e,t)},j={binds:["alt+shift+down"],comboKeysBindGlobal:!0,action:function(){var e,t=null!==(e=l.Z.getState().guildId)&&void 0!==e?e:E.ME;T(1,{channelPredicate:L,guildPredicate:function(e){return e===t||!R.Z.isMuted(e)},guildFeaturePredicate:w});return!1}},D={binds:["alt+shift+up"],comboKeysBindGlobal:!0,action:function(){var e,t=null!==(e=l.Z.getState().guildId)&&void 0!==e?e:E.ME;T(-1,{channelPredicate:L,guildPredicate:function(e){return e===t||!R.Z.isMuted(e)},guildFeaturePredicate:w});return!1}},M=function(e,t){return P.ZP.getMentionCount(t)>0},Z={binds:["mod+shift+alt+down"],comboKeysBindGlobal:!0,action:function(){T(1,{channelPredicate:M,withVoiceChannels:!0});return!1}},U={binds:["mod+shift+alt+up"],comboKeysBindGlobal:!0,action:function(){T(-1,{channelPredicate:M,withVoiceChannels:!0});return!1}}},288457:(e,t,n)=>{"use strict";n.d(t,{UF:()=>u,RC:()=>l,MY:()=>s,
ZP:()=>c});var r=n(770272),o=n(316878),i=n(2590);function a(e){return i.yqN.ZOOM_SCALES[Math.max(0,Math.min(i.yqN.ZOOM_SCALES.indexOf(o.Z.zoom)+e,i.yqN.ZOOM_SCALES.length-1))]}var u={binds:["mod+plus"],comboKeysBindGlobal:!0,action:function(){(0,r.cq)(a(1));return!1}},l={binds:["mod+minus"],comboKeysBindGlobal:!0,action:function(){(0,r.cq)(a(-1));return!1}},s={binds:["mod+0"],comboKeysBindGlobal:!0,action:function(){(0,r.cq)(i.yqN.ZOOM_DEFAULT);return!1}};const c={ZOOM_IN:u,ZOOM_OUT:l,ZOOM_RESET:s}},344524:(e,t,n)=>{"use strict";n.d(t,{oT:()=>se,Q2:()=>te,ZP:()=>fe,Rv:()=>ce,U6:()=>ue,UD:()=>ae});var r=n(400394),o=n(941248),i=n(535156),a=n(464187),u=n(930948),l=n(2590),s={binds:["mod+shift+t"],comboKeysBindGlobal:!0,action:function(){null!=a.Z.getGuildId()&&(0,i.K)(l.ME);u.S.safeDispatch(l.CkL.TOGGLE_DM_CREATE);return!1}};var c=n(945460),f=n(454011),d=n(416625),p={binds:["mod+shift+n"],comboKeysBindGlobal:!0,action:function(){(0,c.hasModalOpen)(d.P)?f.Z.updateCreateGuildModal({
slide:d._.JOIN_GUILD,location:"Keyboard Shortcut"}):f.Z.openCreateGuildModal({location:"Keyboard Shortcut"})}};var h=n(120415),E={binds:["mod+alt+i"],comboKeysBindGlobal:!0,action:function(e){if((0,h.$L)()&&"discord.com"===location.host){e.preventDefault();e.stopPropagation();return!1}}},y={binds:["mod+f"],comboKeysBindGlobal:!0,action:function(e){e.preventDefault();e.stopPropagation();u.S.dispatch(l.CkL.FOCUS_SEARCH,{prefillCurrentChannel:!0})}},g=n(69085),v={binds:["mod+shift+alt+v"],comboKeysBindGlobal:!0,action:function(e){e.preventDefault();e.stopPropagation();var t=g.Z.getGuildId(),n=g.Z.getChannelId();null!=n&&(0,i.K)(null!=t?t:l.ME,n);return!1}},b=n(484524),O=n(847294),S=n(512566),_=n(196444),m=n(177179),I={binds:["mod+ctrl+a"],comboKeysBindGlobal:!0,action:function(){var e,t=null!==(e=a.Z.getGuildId())&&void 0!==e?e:void 0;(0,m.goToAppDirectory)({guildId:t,entrypoint:"Keyboard Shortcut"})}};var C=n(327203),T=n(153080),A=n(469471),N=n(678483),P={binds:["mod+g"],
comboKeysBindGlobal:!0,action:function(){u.S.dispatchToLastSubscribed(l.CkL.TOGGLE_GIF_PICKER);return!1}};var R={binds:["mod+s"],comboKeysBindGlobal:!0,action:function(){u.S.dispatchToLastSubscribed(l.CkL.TOGGLE_STICKER_PICKER);return!1}};var L=n(520522),w=n(877944),j=n(735892),D=n(436703),M=n(886076),Z={binds:["mod+p"],comboKeysBindGlobal:!0,action:function(){u.S.dispatch(l.CkL.TOGGLE_CHANNEL_PINS);return!1}};var U=n(348592),x={binds:["mod+shift+h","f1"],comboKeysBindGlobal:!0,action:function(){window.open(U.w);return!1}};var k=n(452006),F=n(496486),G={binds:["mod+i"],comboKeysBindGlobal:!0,action:function(){u.S.dispatch(l.CkL.TOGGLE_INBOX_UNREADS_TAB);return!1}},B={binds:["mod+shift+e"],comboKeysBindGlobal:!0,action:n.n(F)().debounce((function(){if(u.S.hasSubscribers(l.CkL.MARK_TOP_INBOX_CHANNEL_READ)){u.S.dispatch(l.CkL.MARK_TOP_INBOX_CHANNEL_READ);return!1}}),100,{leading:!0})
},H=n(210595),V=n(247250),Y=n(361610),K=n(566706),z=n(679741),W=n(188558),Q=n(804185),q=n(61209),X=n(715107),J={binds:["mod+u"],comboKeysBindGlobal:!0,action:function(){var e=a.Z.getGuildId(),t=X.Z.getChannelId(e),n=q.Z.getChannel(t);if(null!=t&&null!=n&&n.type===H.d.GUILD_VOICE){V.Z.updateChatOpen(t,!K.Z.getChatOpen(t));return!1}if(null!=t&&null!=n&&n.type===H.d.DM){var r=Q.ZP.getSection(n.id),o=(0,z.O)(n.getRecipientId()),i=r===l.ULH.PROFILE;(0,W.a)(o,!i);Y.Z.toggleProfilePanelSection();return!1}Y.Z.toggleMembersSection();return!1}};var $=n(805181),ee={binds:["mod+shift+u"],comboKeysBindGlobal:!0,action:function(){var e=q.Z.getChannel(X.Z.getChannelId());null==e||e.isManaged()||u.S.dispatch(l.CkL.UPLOAD_FILE);return!1}};var te,ne,re=n(288457),oe=n(473708);function ie(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}!function(e){e.NAVIGATION="NAVIGATION";e.CHAT="CHAT";e.VOICE_AND_VIDEO="VOICE_AND_VIDEO"
;e.MISCELLANEOUS="MISCELLANEOUS";e.MESSAGE="MESSAGE";e.DND="DND"}(te||(te={}));function ae(e){switch(e){case te.NAVIGATION:return oe.Z.Messages.USER_SETTINGS_KEYBINDS_NAVIGATION_SECTION_TITLE;case te.VOICE_AND_VIDEO:return oe.Z.Messages.USER_SETTINGS_KEYBINDS_VOICE_AND_VIDEO_SECTION_TITLE;case te.CHAT:return oe.Z.Messages.USER_SETTINGS_KEYBINDS_CHAT_SECTION_TITLE;case te.MISCELLANEOUS:return oe.Z.Messages.USER_SETTINGS_KEYBINDS_MISCELLANEOUS_SECTION_TITLE;case te.MESSAGE:return oe.Z.Messages.USER_SETTINGS_KEYBINDS_MESSAGE_SECTION_TITLE;case te.DND:return oe.Z.Messages.USER_SETTINGS_KEYBINDS_DND_SECTION_TITLE}}function ue(e){switch(e){case te.MESSAGE:return oe.Z.Messages.USER_SETTINGS_KEYBINDS_MESSAGE_DESCRIPTION;case te.DND:return oe.Z.Messages.USER_SETTINGS_KEYBINDS_DND_DESCRIPTION;default:return null}}function le(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.map((function(e){var t=se[e]
;if(null==t)throw new Error("getBindsFor(...): No bind for ".concat(t));return t.binds[0]}))}var se=(ie(ne={},l.EkH.SERVER_NEXT,L.nq),ie(ne,l.EkH.SERVER_PREV,L.X3),ie(ne,l.EkH.CHANNEL_NEXT,o.tQ),ie(ne,l.EkH.CHANNEL_PREV,o.x5),ie(ne,l.EkH.NAVIGATE_BACK,o.Nx),ie(ne,l.EkH.NAVIGATE_FORWARD,o.On),ie(ne,l.EkH.UNREAD_NEXT,$.pd),ie(ne,l.EkH.UNREAD_PREV,$.wk),ie(ne,l.EkH.MENTION_CHANNEL_NEXT,$.Nv),ie(ne,l.EkH.MENTION_CHANNEL_PREV,$.uX),ie(ne,l.EkH.TOGGLE_PREVIOUS_GUILD,o.$c),ie(ne,l.EkH.JUMP_TO_GUILD,b.u),ie(ne,l.EkH.SUBMIT,w.z),ie(ne,l.EkH.TEXTAREA_FOCUS,j.U),ie(ne,l.EkH.MARK_CHANNEL_READ,O.f),ie(ne,l.EkH.MARK_SERVER_READ,S.l),ie(ne,l.EkH.TOGGLE_CHANNEL_PINS,Z),ie(ne,l.EkH.TOGGLE_INBOX_UNREADS_TAB,G),ie(ne,l.EkH.MARK_TOP_INBOX_CHANNEL_READ,B),ie(ne,l.EkH.TOGGLE_USERS,J),ie(ne,l.EkH.TOGGLE_HELP,x),ie(ne,l.EkH.TOGGLE_MUTE,D.iN),ie(ne,l.EkH.TOGGLE_DEAFEN,D.oV),ie(ne,l.EkH.TOGGLE_CATEGORY_COLLAPSED,M.u),ie(ne,l.EkH.SCROLL_UP,A.B2),ie(ne,l.EkH.SCROLL_DOWN,A.gN),ie(ne,l.EkH.QUICKSWITCHER_SHOW,C.$),
ie(ne,l.EkH.CREATE_DM_GROUP,s),ie(ne,l.EkH.SEARCH_EMOJIS,N.S),ie(ne,l.EkH.SEARCH_GIFS,P),ie(ne,l.EkH.SEARCH_STICKERS,R),ie(ne,l.EkH.TOGGLE_HOTKEYS,k._),ie(ne,l.EkH.JUMP_TO_FIRST_UNREAD,_.O),ie(ne,l.EkH.CREATE_GUILD,p),ie(ne,l.EkH.UPLOAD_FILE,ee),ie(ne,l.EkH.RETURN_TO_AUDIO_CHANNEL,T.F),ie(ne,l.EkH.CALL_ACCEPT,r.IL),ie(ne,l.EkH.CALL_START,r.FI),ie(ne,l.EkH.FOCUS_SEARCH,y),ie(ne,l.EkH.JUMP_TO_CURRENT_CALL,v),ie(ne,l.EkH.ZOOM_IN,re.UF),ie(ne,l.EkH.ZOOM_OUT,re.RC),ie(ne,l.EkH.ZOOM_RESET,re.MY),ie(ne,l.EkH.OPEN_APP_DIRECTORY,I),ie(ne,l.EkH.BROWSER_DEVTOOLS,E),ne);function ce(){return[{description:oe.Z.Messages.KEYBIND_DESCRIPTION_MODAL_NAVIGATE_SERVERS,binds:le(l.EkH.SERVER_PREV,l.EkH.SERVER_NEXT),group:te.NAVIGATION},{description:oe.Z.Messages.KEYBIND_DESCRIPTION_MODAL_NAVIGATE_CHANNELS,binds:le(l.EkH.CHANNEL_PREV,l.EkH.CHANNEL_NEXT),group:te.NAVIGATION},{description:oe.Z.Messages.KEYBIND_DESCRIPTION_MODAL_NAVIGATE_BACK_FORWARD,binds:le(l.EkH.NAVIGATE_BACK,l.EkH.NAVIGATE_FORWARD),
group:te.NAVIGATION},{description:oe.Z.Messages.KEYBIND_DESCRIPTION_MODAL_UNREAD_CHANNELS,binds:le(l.EkH.UNREAD_PREV,l.EkH.UNREAD_NEXT),group:te.NAVIGATION},{description:oe.Z.Messages.KEYBIND_DESCRIPTION_MODAL_UNREAD_MENTION_CHANNELS,binds:le(l.EkH.MENTION_CHANNEL_PREV,l.EkH.MENTION_CHANNEL_NEXT),group:te.NAVIGATION},{description:oe.Z.Messages.KEYBIND_DESCRIPTION_MODAL_NAVIGATE_TO_CALL,binds:le(l.EkH.JUMP_TO_CURRENT_CALL),group:te.NAVIGATION},{description:oe.Z.Messages.KEYBIND_DESCRIPTION_MODAL_TOGGLE_PREVIOUS_GUILD,binds:le(l.EkH.TOGGLE_PREVIOUS_GUILD),group:te.NAVIGATION},{description:oe.Z.Messages.KEYBIND_DESCRIPTION_MODAL_QUICKSWITCHER,binds:le(l.EkH.QUICKSWITCHER_SHOW),group:te.NAVIGATION},{description:oe.Z.Messages.KEYBIND_DESCRIPTION_MODAL_CREATE_GUILD,binds:le(l.EkH.CREATE_GUILD),group:te.NAVIGATION,groupEnd:!0},{description:oe.Z.Messages.DND_OPERATION_LABEL_START,binds:["mod+d"],group:te.DND},{description:oe.Z.Messages.DND_OPERATION_LABEL_MOVE,binds:["up","down"],group:te.DND
},{description:oe.Z.Messages.DND_OPERATION_LABEL_DROP,binds:["spacebar","enter"],group:te.DND},{description:oe.Z.Messages.DND_OPERATION_LABEL_CANCEL,binds:["esc"],group:te.DND,groupEnd:!0},{description:oe.Z.Messages.KEYBIND_DESCRIPTION_MODAL_MARK_SERVER_READ,binds:le(l.EkH.MARK_SERVER_READ),group:te.CHAT},{description:oe.Z.Messages.KEYBIND_DESCRIPTION_MODAL_MARK_CHANNEL_READ,binds:le(l.EkH.MARK_CHANNEL_READ),group:te.CHAT},{description:oe.Z.Messages.KEYBIND_DESCRIPTION_MODAL_CREATE_DM_GROUP,binds:le(l.EkH.CREATE_DM_GROUP),group:te.CHAT},{description:oe.Z.Messages.KEYBIND_DESCRIPTION_MODAL_TOGGLE_PINS,binds:le(l.EkH.TOGGLE_CHANNEL_PINS),group:te.CHAT},{description:oe.Z.Messages.KEYBIND_DESCRIPTION_MODAL_TOGGLE_INBOX,binds:le(l.EkH.TOGGLE_INBOX_UNREADS_TAB),group:te.CHAT},{description:oe.Z.Messages.KEYBIND_DESCRIPTION_MODAL_MARK_TOP_INBOX_CHANNEL_READ,binds:le(l.EkH.MARK_TOP_INBOX_CHANNEL_READ),group:te.CHAT},{description:oe.Z.Messages.KEYBIND_DESCRIPTION_MODAL_TOGGLE_USERS,
binds:le(l.EkH.TOGGLE_USERS),group:te.CHAT},{description:oe.Z.Messages.KEYBIND_DESCRIPTION_MODAL_SEARCH_EMOJIS,binds:le(l.EkH.SEARCH_EMOJIS),group:te.CHAT},{description:oe.Z.Messages.KEYBIND_DESCRIPTION_MODAL_SEARCH_GIFS,binds:le(l.EkH.SEARCH_GIFS),group:te.CHAT},{description:oe.Z.Messages.KEYBIND_DESCRIPTION_MODAL_SEARCH_STICKERS,binds:le(l.EkH.SEARCH_STICKERS),group:te.CHAT},{description:oe.Z.Messages.KEYBIND_DESCRIPTION_MODAL_SCROLL_CHAT,binds:le(l.EkH.SCROLL_UP,l.EkH.SCROLL_DOWN),group:te.CHAT},{description:oe.Z.Messages.KEYBIND_DESCRIPTION_MODAL_JUMP_TO_FIRST_UNREAD,binds:le(l.EkH.JUMP_TO_FIRST_UNREAD),group:te.CHAT},{description:oe.Z.Messages.KEYBIND_DESCRIPTION_MODAL_FOCUS_TEXT_AREA,binds:le(l.EkH.TEXTAREA_FOCUS),group:te.CHAT},{description:oe.Z.Messages.KEYBIND_DESCRIPTION_MODAL_UPLOAD_FILE,binds:le(l.EkH.UPLOAD_FILE),group:te.CHAT,groupEnd:!0},{description:oe.Z.Messages.KEYBIND_DESCRIPTION_MODAL_TOGGLE_MUTE,binds:le(l.EkH.TOGGLE_MUTE),group:te.VOICE_AND_VIDEO},{
description:oe.Z.Messages.KEYBIND_DESCRIPTION_MODAL_TOGGLE_DEAFEN,binds:le(l.EkH.TOGGLE_DEAFEN),group:te.VOICE_AND_VIDEO},{description:oe.Z.Messages.KEYBIND_DESCRIPTION_MODAL_CALL_ACCEPT,binds:le(l.EkH.CALL_ACCEPT),group:te.VOICE_AND_VIDEO},{description:oe.Z.Messages.KEYBIND_DESCRIPTION_MODAL_CALL_DECLINE,binds:le(l.EkH.MARK_CHANNEL_READ),group:te.VOICE_AND_VIDEO},{description:oe.Z.Messages.KEYBIND_DESCRIPTION_MODAL_CALL_START,binds:le(l.EkH.CALL_START),group:te.VOICE_AND_VIDEO,groupEnd:!0},{description:oe.Z.Messages.KEYBIND_DESCRIPTION_MODAL_TOGGLE_HELP,binds:le(l.EkH.TOGGLE_HELP),group:te.MISCELLANEOUS},{description:oe.Z.Messages.KEYBIND_DESCRIPTION_MODAL_SEARCH,binds:le(l.EkH.FOCUS_SEARCH),group:te.MISCELLANEOUS},{description:oe.Z.Messages.KEYBIND_DESCRIPTION_MODAL_EASTER_EGG,binds:["h+h+right+n+k"],group:te.MISCELLANEOUS,groupEnd:!0},{description:oe.Z.Messages.EDIT_MESSAGE,binds:["e"],group:te.MESSAGE},{description:oe.Z.Messages.DELETE_MESSAGE,binds:["backspace"],group:te.MESSAGE
},{description:oe.Z.Messages.PIN_MESSAGE,binds:["p"],group:te.MESSAGE},{description:oe.Z.Messages.ADD_REACTION,binds:["plus"],group:te.MESSAGE},{description:oe.Z.Messages.MESSAGE_ACTION_REPLY,binds:["r"],group:te.MESSAGE},{description:oe.Z.Messages.COPY_TEXT,binds:["mod+c"],group:te.MESSAGE},{description:oe.Z.Messages.MARK_UNREAD,binds:["alt+enter"],group:te.MESSAGE},{description:oe.Z.Messages.KEYBIND_DESCRIPTION_MODAL_FOCUS_TEXT_AREA,binds:["escape"],group:te.MESSAGE,groupEnd:!0}]}const fe=se},840474:(e,t,n)=>{"use strict";n.d(t,{nC:()=>p});var r=n(496486),o=n.n(r),i=n(470661),a=n.n(i),u=new Set(["a","an","and","are","as","at","be","but","by","for","if","in","into","is","it","no","not","of","on","or","such","that","the","their","then","there","these","they","this","to","was","will","with"]);function l(e){return e.replace(/('|\u2019|\uFF07)(s|S)$/,"")}function s(e){return e.toLowerCase()}function c(e){return u.has(e)}function f(e){return 0===e.length}function d(e,t){
if(Array.isArray(e))e.forEach((function(e){return d(e,t)}));else if("string"==typeof e.content&&"codeBlock"!==e.type){var n=[],r="";e.content.split(/(\W+)/g).forEach((function(e){if(function(e,t){return!f(e=s(l(e)))&&!c(e)&&t.has(a()(e))}(e,t)){r.length>0&&n.push({type:"text",content:r});n.push({type:"highlight",content:e});r=""}else r+=e}));if(n.length>0){r.length>0&&n.push({type:"text",content:r});"text"===e.type?e.content=n:e.content=[{type:"text",content:n}]}}else null!=e.content&&d(e.content,t);return e}function p(e){var t,n=new Set((t=e,o()(t.split(/\W+/)).map(l).reject(f).map(s).reject(c).map(a()).value()));return function(e){return d(e,n)}}},570814:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n(667294).createContext(void 0)},914964:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(667294),o=n(798159),i=n(202351),a=n(316878);function u(e,t,n){var u=(0,i.e7)([a.Z],(function(){return a.Z.keyboardModeEnabled})),l=r.useCallback((function(e){
var n=document.querySelector(e),r=t.current;if(null!=n&&null!=r){n.focus();r.scrollIntoViewNode({node:n,padding:80})}}),[t]),s=r.useCallback((function(){return new Promise((function(e){var n=t.current;if(null==n)return e();n.scrollTo({to:0,callback:function(){return requestAnimationFrame((function(){return e()}))}})}))}),[t]),c=r.useCallback((function(){return new Promise((function(e){var n=t.current;if(null==n)return e();n.scrollTo({to:Number.MAX_SAFE_INTEGER,callback:function(){return requestAnimationFrame((function(){return e()}))}})}))}),[t]);return(0,o.ZP)({id:e,isEnabled:u,setFocus:l,scrollToStart:s,scrollToEnd:c,orientation:null==n?void 0:n.orientation})}},487517:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d,T:()=>p});var r=n(667294),o=n(202351),i=n(978868),a=n(4207),u=n(382060),l=n(968968),s=n(813869),c=n(2590),f=n(485911);function d(e,t,n){return h(e===f._||e===c.I_8?(0,a.t)():i.Z.getGuildWithoutChangingCommunityRows(e).guildChannels,t,n)}function p(e,t,n,i,a){var u=(0,
o.e7)([s.Z],(function(){return s.Z.getGuildChangeSentinel(e)})),c=(0,o.e7)([l.Z],(function(){return l.Z.version}));return(0,r.useMemo)((function(){return h(t,i,a).map((function(e){return e.id}))}),[t,n,u,c])}function h(e,t,n){var r=[];e.forEachShownChannel((function(e){((0,u.r8)(e.type)||t&&(0,u.bw)(e.type))&&r.push(e)}),n);return r}},380477:(e,t,n)=>{"use strict";n.d(t,{k:()=>v,ZP:()=>b});var r=n(785893),o=(n(667294),n(730381)),i=n.n(o),a=n(202351),u=n(945460),l=n(786522),s=n(201459),c=n(70983),f=n(9430),d=n(773011),p=n(2590),h=n(247530),E=n(473708);function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){u=!0;o=e}finally{try{
a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var v=function(){return[{value:h.Oe.MINUTES_15,label:E.Z.Messages.MUTE_DURATION_15_MINUTES},{value:h.Oe.HOURS_1,label:E.Z.Messages.MUTE_DURATION_1_HOUR},{value:h.Oe.HOURS_3,label:E.Z.Messages.MUTE_DURATION_3_HOURS},{value:h.Oe.HOURS_8,label:E.Z.Messages.MUTE_DURATION_8_HOURS},{value:h.Oe.HOURS_24,label:E.Z.Messages.MUTE_DURATION_24_HOURS},{value:h.Oe.ALWAYS,label:E.Z.Messages.MUTE_DURATION_ALWAYS}]};function b(e,t){var n=function(n){
e.type===p.d4z.GUILD_CATEGORY&&(0,l.c4)(e.id);var r=function(e){return{muted:!0,mute_config:{selected_time_window:e,end_time:e>0?i()().add(e,"second").toISOString():null}}}(n);s.Z.updateChannelOverrideSettings(e.guild_id,e.id,r,t)},o=function(t){t&&e.type===p.d4z.GUILD_CATEGORY&&(0,l.c4)(e.id);s.Z.updateChannelOverrideSettings(e.guild_id,e.id,{muted:t})},h=g((0,a.Wu)([f.Z],(function(){return[f.Z.isChannelMuted(e.guild_id,e.id),f.Z.getChannelMuteConfig(e.guild_id,e.id)]})),2),y=h[0],b=h[1],O=(0,c.U)(b),S=(0,d.ZP)(e,!0),_=E.Z.Messages.MUTE_CHANNEL_GENERIC,m=E.Z.Messages.UNMUTE_CHANNEL_GENERIC;switch(e.type){case p.d4z.GUILD_CATEGORY:_=E.Z.Messages.MUTE_CATEGORY;m=E.Z.Messages.UNMUTE_CATEGORY;break;case p.d4z.GROUP_DM:_=E.Z.Messages.MUTE_CONVERSATION;m=E.Z.Messages.UNMUTE_CONVERSATION;break;case p.d4z.DM:_=E.Z.Messages.MUTE_CHANNEL.format({name:S});m=E.Z.Messages.UNMUTE_CHANNEL.format({name:S});break;default:_=E.Z.Messages.MUTE_CHANNEL_GENERIC;m=E.Z.Messages.UNMUTE_CHANNEL_GENERIC}
return y?(0,r.jsx)(u.MenuItem,{id:"unmute-channel",label:m,subtext:O,action:function(){return o(!1)}}):(0,r.jsx)(u.MenuItem,{id:"mute-channel",label:_,action:function(){return o(!0)},children:v().map((function(e){var t=e.value,o=e.label;return(0,r.jsx)(u.MenuItem,{id:"".concat(t),label:o,action:function(){return n(t)}},t)}))})}},221921:(e,t,n)=>{"use strict";n.d(t,{c:()=>d,Z:()=>p});var r=n(785893),o=(n(667294),n(202351)),i=n(945460),a=n(201459),u=n(9430),l=n(2590),s=n(473708);function c(e){switch(e.type){case l.d4z.GUILD_VOICE:return null;case l.d4z.GUILD_STAGE_VOICE:return function(e){return[{setting:l.bL.NULL,label:null!=e.parent_id?s.Z.Messages.FORM_LABEL_DEFAULT_CATEGORY:s.Z.Messages.FORM_LABEL_DEFAULT},{setting:l.bL.ONLY_MENTIONS,label:s.Z.Messages.FORM_LABEL_LIVE_STAGES_ONLY},{setting:l.bL.NO_MESSAGES,label:s.Z.Messages.FORM_LABEL_NOTHING}]}(e);default:return function(e){return[{setting:l.bL.NULL,
label:null!=e.parent_id?s.Z.Messages.FORM_LABEL_DEFAULT_CATEGORY:s.Z.Messages.FORM_LABEL_DEFAULT},{setting:l.bL.ALL_MESSAGES,label:s.Z.Messages.FORM_LABEL_ALL_MESSAGES},{setting:l.bL.ONLY_MENTIONS,label:s.Z.Messages.FORM_LABEL_ONLY_MENTIONS.format()},{setting:l.bL.NO_MESSAGES,label:s.Z.Messages.FORM_LABEL_NOTHING}]}(e)}}function f(e){switch(e){case l.bL.ALL_MESSAGES:return s.Z.Messages.FORM_LABEL_ALL_MESSAGES;case l.bL.ONLY_MENTIONS:return s.Z.Messages.FORM_LABEL_ONLY_MENTIONS.format();case l.bL.NO_MESSAGES:return s.Z.Messages.FORM_LABEL_NOTHING;case l.bL.NULL:default:return}}function d(e){var t=e.getGuildId(),n=e.id,d=(0,o.e7)([u.Z],(function(){return u.Z.getChannelOverrides(t)[n]}),[t,n]),p=(0,o.e7)([u.Z],(function(){var n=l.bL.NULL;null!=e.parent_id&&(n=u.Z.getChannelMessageNotifications(t,e.parent_id));return n!==l.bL.NULL?n:u.Z.getMessageNotifications(t)}),[t,e.parent_id]),h=(0,o.e7)([u.Z],(function(){return u.Z.getNewForumThreadsCreated(e)
})),E=null==d?l.bL.NULL:d.message_notifications,y=c(e);return null==y?null:(0,r.jsxs)(r.Fragment,{children:[e.isForumLikeChannel()?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.MenuCheckboxItem,{id:"new-forum-threads-created",label:s.Z.Messages.FORUM_NEW_POSTS_CREATED,checked:h,action:function(){return a.Z.setForumThreadsCreated(e,!h)}}),(0,r.jsx)(i.MenuSeparator,{})]}):null,y.map((function(e){var o=e.setting,u=e.label;return(0,r.jsx)(i.MenuRadioItem,{group:"channel-notifications",id:"".concat(o),label:u,subtext:o===l.bL.NULL?f(p):void 0,action:function(){return function(e){null!=t&&a.Z.updateChannelOverrideSettings(t,n,{message_notifications:e})}(o)},checked:o===E},o)}))]})}function p(e){var t,n,a=d(e),f=(0,o.e7)([u.Z],(function(){return u.Z.resolvedMessageNotifications(e)}),[e]),p=(0,o.e7)([u.Z],(function(){return u.Z.getChannelOverrides(e.guild_id)[e.id]
}),[e.guild_id,e.id]),h=(null==p?l.bL.NULL:p.message_notifications)===l.bL.NULL&&e.isGuildStageVoice()?s.Z.Messages.FORM_LABEL_ONLY_MENTIONS.format():null===(n=null===(t=c(e))||void 0===t?void 0:t.find((function(e){return e.setting===f})))||void 0===n?void 0:n.label;return null!=a?(0,r.jsx)(i.MenuItem,{id:"channel-notifications",label:s.Z.Messages.NOTIFICATION_SETTINGS,subtext:h,children:a}):null}},874710:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(785893),o=(n(667294),n(202351)),i=n(945460),a=n(487685),u=n(671293),l=n(473708);function s(e,t){return(0,o.e7)([a.Z],(function(){return a.Z.hasJoined(e.id)}))?(0,r.jsx)(i.MenuItem,{id:"leave-thread",label:e.isForumPost()?l.Z.Messages.LEAVE_FORUM_POST:l.Z.Messages.LEAVE_THREAD,action:function(){return u.Z.leaveThread(e,t)}}):(0,r.jsx)(i.MenuItem,{id:"join-thread",label:e.isForumPost()?l.Z.Messages.JOIN_FORUM_POST:l.Z.Messages.JOIN_THREAD,action:function(){return u.Z.joinThread(e,t)}})}},218318:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E})
;var r=n(785893),o=(n(667294),n(730381)),i=n.n(o),a=n(202351),u=n(945460),l=n(70983),s=n(487685),c=n(671293),f=n(380477),d=n(473708);function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){u=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e){var t=function(t){c.Z.setNotificationSettings(e,{muted:t})},n=h((0,a.Wu)([s.Z],(function(){return[s.Z.isMuted(e.id),s.Z.getMuteConfig(e.id),s.Z.hasJoined(e.id)]})),3),o=n[0],p=n[1],E=n[2],y=(0,l.U)(p);return E?o?(0,r.jsx)(u.MenuItem,{id:"unmute-channel",label:e.isForumPost()?d.Z.Messages.UNMUTE_FORUM_POST:d.Z.Messages.UNMUTE_THREAD,subtext:y,action:function(){return t(!1)}}):(0,r.jsx)(u.MenuItem,{id:"mute-channel",label:e.isForumPost()?d.Z.Messages.MUTE_FORUM_POST:d.Z.Messages.MUTE_THREAD,action:function(){return t(!0)},children:(0,f.k)().map((function(t){var n=t.value,o=t.label;return(0,r.jsx)(u.MenuItem,{id:"".concat(n),label:o,action:function(){return r={muted:!0,mute_config:{selected_time_window:t=n,end_time:t>0?i()().add(t,"second").toISOString():null}},void c.Z.setNotificationSettings(e,r);var t,r}},n)
}))}):(0,r.jsx)(u.MenuItem,{id:"mute-disabled",label:e.isForumPost()?d.Z.Messages.MUTE_FORUM_POST:d.Z.Messages.MUTE_THREAD,disabled:!0})}},454011:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={openCreateGuildModal:function(e){Promise.all([n.e(40532),n.e(95599),n.e(20995),n.e(87947)]).then(n.bind(n,638657)).then((function(t){return(0,t.openCreateGuildModal)(e)}))},updateCreateGuildModal:function(e){Promise.all([n.e(40532),n.e(95599),n.e(20995),n.e(87947)]).then(n.bind(n,638657)).then((function(t){return(0,t.updateCreateGuildModal)(e)}))}}},416625:(e,t,n)=>{"use strict";n.d(t,{_:()=>r,P:()=>o});var r;!function(e){e.GUILD_TEMPLATES="guild-templates";e.CUSTOMIZE_GUILD="customize-guild";e.CHANNEL_PROMPT="channel-prompt";e.JOIN_GUILD="join-guild";e.CREATION_INTENT="creation-intent"}(r||(r={}));var o="create-guild"},683323:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(202351),o=n(744564);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}
function a(e){a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return a(e)}function u(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var s=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=a(e);if(t){var o=a(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}var f=[];var d=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&l(e,t)}(n,e);var t=c(n);function n(){i(this,n);return t.apply(this,arguments)}var r=n.prototype;r.getEligibleGuildsForNagActivate=function(){return f};r.__getLocalVars=function(){return{eligibleGuildsForNagActivate:f}};return n}(r.ZP.Store);d.displayName="CreatorMonetizationMarketingStore";const p=new d(o.Z,{CREATOR_MONETIZATION_NAG_ACTIVATE_ELIGIBLITY_FETCH_SUCCESS:function(e){var t=e.eligibleGuilds;f=t}})},385983:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=(0,n(260561).B)({kind:"user",id:"2021-12_inferno_spam_redaction",label:"Inferno Spam Redaction",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Allow guild channel messages from spammers to be collapsed",config:{enabled:!0}}]})},618887:(e,t,n)=>{"use strict";n.d(t,{Vt:()=>f,dN:()=>d,Nw:()=>p,R5:()=>h,VT:()=>E,BE:()=>y,
RJ:()=>g,m0:()=>v,Vb:()=>b});var r=n(281110),o=n(744564),i=n(177570),a=n(2590);function u(e,t,n,r,o,i,a){try{var u=e[i](a),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,o)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){u(i,r,o,a,l,"next",e)}function l(e){u(i,r,o,a,l,"throw",e)}a(void 0)}))}}var s,c=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0]
;continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},f=(s=l((function(e){var t,n;return c(this,(function(i){switch(i.label){case 0:t=!1;i.label=1;case 1:i.trys.push([1,3,,4]);return[4,r.Z.get({url:a.ANM.DROPS_ELIGIBILITY,query:{drops_quest_id:e}})];case 2:n=i.sent();t=n.body.eligible;return[3,4];case 3:i.sent();t=!1;return[3,4];case 4:o.Z.dispatch({type:"DROPS_ELIGIBILITY_FETCH_SUCCESS",isEligible:t,dropsQuestId:e});return[2]}}))})),function(e){return s.apply(this,arguments)}),d=(function(){var e=l((function(){var e;return c(this,(function(t){switch(t.label){case 0:return[4,r.Z.get({
url:a.ANM.DROPS_REWARD_CODE})];case 1:e=t.sent();o.Z.dispatch({type:"DROPS_REWARD_CODE_FETCH_SUCCESS",rewardCode:e.body});return[2]}}))}))}(),function(){var e=l((function(e){var t,n;return c(this,(function(i){switch(i.label){case 0:t=[];i.label=1;case 1:i.trys.push([1,3,,4]);return[4,r.Z.get({url:a.ANM.DROPS_PLATFORM_AVAILABILITY,query:{drops_quest_id:e}})];case 2:n=i.sent();t=n.body.available_platforms;return[3,4];case 3:i.sent();t=[];return[3,4];case 4:o.Z.dispatch({type:"DROPS_PLATFORM_AVAILABILITY_SUCCESS",availablePlatforms:t});return[2]}}))}));return function(t){return e.apply(this,arguments)}}()),p=function(){var e=l((function(e,t){var n;return c(this,(function(i){switch(i.label){case 0:i.trys.push([0,2,,3]);return[4,r.Z.post({url:a.ANM.DROPS_CLAIM_REWARD_CODE,query:{drops_quest_id:e,platform:t}})];case 1:n=i.sent();o.Z.dispatch({type:"DROPS_REWARD_CODE_CLAIM_SUCCESS",rewardCode:n.body.code});return[2,n.body.code];case 2:throw i.sent();case 3:return[2]}}))}))
;return function(t,n){return e.apply(this,arguments)}}(),h=function(){var e=l((function(){var e;return c(this,(function(t){switch(t.label){case 0:t.trys.push([0,2,,3]);return[4,r.Z.get({url:a.ANM.DROPS_USER_STATUS})];case 1:e=t.sent();o.Z.dispatch({type:"DROPS_USER_STATUS_FETCH_SUCCESS",codes:e.body});return[3,3];case 2:t.sent();o.Z.dispatch({type:"DROPS_USER_STATUS_FETCH_FAILURE"});return[3,3];case 3:return[2]}}))}));return function(){return e.apply(this,arguments)}}(),E=function(){var e=l((function(e){return c(this,(function(t){switch(t.label){case 0:return[4,r.Z.delete({url:a.ANM.DROPS_ENROLL_USER,query:{drops_quest_id:e}})];case 1:t.sent();o.Z.dispatch({type:"DROPS_UNENROLL_USER",dropsQuestId:e});return[4,h()];case 2:t.sent();return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=l((function(e){var t;return c(this,(function(n){switch(n.label){case 0:return[4,r.Z.get({url:a.ANM.DROPS_ENROLL_USER,query:{drops_quest_id:e}})];case 1:t=n.sent()
;return[4,o.Z.dispatch({type:"DROPS_ENROLLED_USER_FETCH_SUCCESS",enrolledUser:t.body.user,isEnrolled:t.body.enrolled,dropsQuestId:e})];case 2:n.sent();return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=l((function(e){return c(this,(function(t){switch(t.label){case 0:return[4,r.Z.post({url:a.ANM.DROPS_ENROLL_USER,query:{drops_quest_id:e}})];case 1:t.sent();o.Z.dispatch({type:"DROPS_ENROLL_SUCCESS"});return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=l((function(e,t,n){var u,l,s;return c(this,(function(c){switch(c.label){case 0:u=i.Z.getViewerIds(t);c.label=1;case 1:c.trys.push([1,3,,4]);return[4,r.Z.post({url:a.ANM.DROPS_HEARTBEAT(e),query:{stream_key:t,application_id:n,viewer_count:u.length},retries:2})];case 2:l=c.sent();o.Z.dispatch({type:"DROPS_HEARTBEAT_SUCCESS",dropsQuestId:e,completed:l.body.completed,progress:l.body.progress});return[3,4];case 3:s=c.sent();o.Z.dispatch({type:"DROPS_HEARTBEAT_FAILURE",
dropsQuestId:e,statusCode:null==s?void 0:s.status});return[3,4];case 4:return[2]}}))}));return function(t,n,r){return e.apply(this,arguments)}}(),b=function(){var e=l((function(e){var t;return c(this,(function(n){switch(n.label){case 0:n.trys.push([0,2,,3]);return[4,r.Z.get({url:a.ANM.DROPS_PROGRESS(e)})];case 1:t=n.sent();o.Z.dispatch({type:"DROPS_FETCH_PROGRESS_SUCCESS",dropsQuestId:e,completed:t.body.completed,progress:t.body.progress});return[3,3];case 2:n.sent();o.Z.dispatch({type:"DROPS_FETCH_PROGRESS_FAILURE",dropsQuestId:e});return[3,3];case 3:return[2]}}))}));return function(t){return e.apply(this,arguments)}}()},483255:(e,t,n)=>{"use strict";n.d(t,{El:()=>o,kS:()=>i,n4:()=>a,X2:()=>u,_e:()=>l,RN:()=>s,fS:()=>c,oL:()=>f,Zv:()=>d});var r=n(473708);var o=["XBOX","PLAYSTATION","SWITCH","PC"],i=2592e4,a="https://support.discord.com/hc/en-us/articles/9146392276375",u={FORTNITE:"FORTNITE"},l={STREAM_CTA:"STREAM_CTA",LOADING_INITIAL_PROGRESS:"LOADING_INITIAL_PROGRESS",
TRACK_PROGRESS:"TRACK_PROGRESS",QUEST_COMPLETION:"QUEST_COMPLETION"},s={FORTNITE:["Fortnite"]},c="YYYY-MM-DD HH:mm",f="1022633972510752774",d=function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({},u.FORTNITE,{title:"Fortnite",gameSearchTerm:s[u.FORTNITE],assets:{iconSrc:n(309038),tooltipSrc:n(211117),rewardSrc:n(296228)},dropsQuestId:f,dropsGameId:"432980957394370572",endDate:"2023-05-22 23:59",finalClaimDate:"2023-5-29 08:00",dropsNoticeBannerDurationDays:3,articleUrl:a,messages:{claimTip:function(){return r.Z.Messages.FORTNITE_REDEMPTION_TIP.format({learnMoreUrl:"https://discord.com/blog/fortnite-quest"})},giftInfo:function(){return r.Z.Messages.FORTNITE_GIFT_INVENTORY_INFO.format({guardOutfitName:r.Z.Messages.FORNITE_GUARD_OUTPUT,rewardName:r.Z.Messages.FORTNITE_REWARD_NAME})},enrollmentTooltip:function(e){return r.Z.Messages.FORTNITE_DROPS_ELIGIBILITY_ENROLLMENT_TOOLTIP.format({
rewardName:r.Z.Messages.FORTNITE_REWARD_NAME,streamLengthRequirement:e})},completionTooltip:function(e){return r.Z.Messages.FORTNITE_DROPS_COMPLETION_TOOLTIP.format({rewardName:r.Z.Messages.FORTNITE_REWARD_NAME,streamLengthRequirement:e})}}})},622816:(e,t,n)=>{"use strict";n.d(t,{a:()=>r});var r=(0,n(260561).B)({kind:"user",id:"2023-05_go_live_quest_fortnite",label:"Fortnite: Go Live Quest",defaultConfig:{dropsEnabled:!1,streamLengthRequirement:0,viewerCountRequirement:0,autoEnrollment:!1,showUnenroll:!1},treatments:[{id:1,label:"15 min stream req + auto enrollment",config:{dropsEnabled:!0,streamLengthRequirement:15,viewerCountRequirement:1,autoEnrollment:!0,showUnenroll:!1}},{id:99,label:"2 minute stream req + auto enrollment",config:{dropsEnabled:!0,streamLengthRequirement:2,viewerCountRequirement:1,autoEnrollment:!0,showUnenroll:!0}}]})},99827:(e,t,n)=>{"use strict";n.d(t,{Z:()=>z})
;var r=n(730381),o=n.n(r),i=n(202351),a=n(513328),u=n(744564),l=n(306263),s=n(736818),c=n(671723),f=n(618887),d=n(293078),p=n(483255);function h(e,t,n,r,o,i,a){try{var u=e[i](a),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,o)}function E(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){h(i,r,o,a,u,"next",e)}function u(e){h(i,r,o,a,u,"throw",e)}a(void 0)}))}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function v(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function b(e){b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return b(e)}function O(e){
for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){v(e,t,n[t])}))}return e}function S(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e,t){_=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _(e,t)}var m=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){
var n,r=b(e);if(t){var o=b(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return S(this,n)}}var C=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}
if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},T=null,A=null,N={},P={},R=p._e.LOADING_INITIAL_PROGRESS,L=new a.V7,w={completed:!1,initialProgressFetched:!1,interrupted:!1,retries:0},j=function(e){var t=w.dropsQuestId,n=w.streamKey,r=w.game,o=w.completed,i=w.gameTitle;null==t||null==i||o||null==r||null==n||L.isStarted()||(e?(0,f.m0)(t,n,r.pid):L.start(6e4,(function(){(0,f.m0)(t,n,r.pid)})))},D=function(e){w.retries=0;w.completed=e.completed;w.initialProgressFetched=!0;w.progress=e.progress;w.lastCheckedAt=o().now();R=w.completed?p._e.QUEST_COMPLETION:p._e.TRACK_PROGRESS},M=function(e){if(!w.initialProgressFetched){w.initialProgressFetched=!0;R=p._e.STREAM_CTA}},Z=function(e){D(e);N[e.dropsQuestId]=!0;j()},U=function(e){var t=e.dropsQuestId,n=e.statusCode;w.completed=!1;w.initialProgressFetched=!0;w.lastCheckedAt=o().now()
;if(429!==n||0!==w.retries){R=p._e.STREAM_CTA;403===n?N[t]=!1:w.interrupted=!0}else{w.retries=w.retries+1;j()}},x=function(){w.completed&&(R=p._e.QUEST_COMPLETION);w.interrupted=!1;w.retries=0;L.stop()},k=function(e,t,n){if(!w.completed||e.dropsQuestId!==w.dropsQuestId){w.game=t;w.dropsQuestId=e.dropsQuestId;w.gameTitle=e.title;w.completed=!1;w.interrupted=!1;w.streamKey=n;w.retries=0;w.lastCheckedAt=o().now();L.start(5e3,(function(){return j(!0)}))}};var F=function(e){N[e.dropsQuestId]=e.isEligible},G=function(e){T=e.availablePlatforms.filter((function(e){return p.El.includes(e)}))},B=function(e){var t;A=null!==(t=e.codes)&&void 0!==t?t:{}},H=function(e){A={}},V=function(e){P[e.dropsQuestId]={isEnrolled:e.isEnrolled,enrolledUser:e.enrolledUser}},Y=function(e){A=null;delete(N=O({},N))[e.dropsQuestId];delete(P=O({},P))[e.dropsQuestId];w.dropsQuestId===e.dropsQuestId&&(w={completed:!1,initialProgressFetched:!1,interrupted:!1,retries:0})};var K=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&_(e,t)}(n,e);var t=I(n);function n(){y(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(c.ZP)};r.getActivityPanelTooltipAction=function(){return R};r.getIsPartnerGameQuestComplete=function(e){var t,n=(0,d.BS)(e);if(null==n||null==A)return!1;var r=Boolean(null===(t=A[n.dropsQuestId])||void 0===t?void 0:t.completed_at);return w.completed&&w.gameTitle===n.title||r};r.__getLocalVars=function(){return{availablePlatforms:T,userStatus:A,serverEligibleByQuestIds:N,enrolledDropsByQuestId:P,activityPanelTooltipAction:R,heartbeatTimer:L,questProgress:w,heartbeat:j,handleDropsProgressSuccess:D,handleDropsProgressFailure:M,handleDropsHeartbeatSuccess:Z,handleDropsHeartbeatFailure:U,handleStreamClose:x,initiateHeartbeat:k,handleDropsEligibilityFetch:F,
handleDropsPlatformAvailabilityFetch:G,handleUserStatusFetch:B,handleUserStatusFetchFailure:H,handleDropsEnrolledUser:V,handleDropsUnenrollUser:Y}};!function(e,t,n){t&&g(e.prototype,t);n&&g(e,n)}(n,[{key:"serverEligibleByQuestIds",get:function(){return N}},{key:"platformAvailability",get:function(){return T}},{key:"userStatus",get:function(){return A}},{key:"activityPanelTooltipAction",get:function(){return R}},{key:"enrolledDropsByQuestId",get:function(){return P}},{key:"hasInitialProgressFetched",get:function(){return w.initialProgressFetched}},{key:"isCurrentQuestCompleted",get:function(){return w.completed}},{key:"isCurrentQuestInterrupted",get:function(){return w.interrupted}},{key:"currentDropQuestGameTitle",get:function(){return w.gameTitle}},{key:"currentDropQuestStreamProgress",get:function(){var e=w.progress;if(null==e||null==e.steps||0===e.steps.length)return 0;var t=e.steps.find((function(e){return"stream_length"===e.name}));return null==t?0:t.percent}}]);return n
}(i.ZP.Store);K.displayName="DropsStore";const z=new K(u.Z,{DROPS_ELIGIBILITY_FETCH_SUCCESS:F,DROPS_PLATFORM_AVAILABILITY_SUCCESS:G,DROPS_USER_STATUS_FETCH_SUCCESS:B,DROPS_USER_STATUS_FETCH_FAILURE:H,DROPS_ENROLLED_USER_FETCH_SUCCESS:V,DROPS_FETCH_PROGRESS_SUCCESS:D,DROPS_FETCH_PROGRESS_FAILURE:M,DROPS_HEARTBEAT_SUCCESS:Z,DROPS_HEARTBEAT_FAILURE:U,DROPS_UNENROLL_USER:Y,STREAM_CLOSE:x,STREAM_START:function(e){var t,n=e.streamType,r=e.guildId,o=e.channelId,i=e.pid,a=(0,l.V9)({streamType:n,guildId:r,channelId:o,ownerId:s.default.getId()});if(null!=i){var h=c.ZP.getGameForPID(i);if(null!=h){var y=Object.values(p.Zv).find((function(e){return e.gameSearchTerm.find((function(e){var t;return e.toLowerCase()===(null===(t=h.name)||void 0===t?void 0:t.toLowerCase())}))}));if(null!=y&&!(0,d.hM)(y)){var g=null===(t=(0,d.j7)(y))||void 0===t?void 0:t.getCurrentConfig({},{autoTrackExposure:!1});if(null!=g&&g.dropsEnabled){var v=g.autoEnrollment
;null!=P[y.dropsQuestId]&&P[y.dropsQuestId].isEnrolled||v?k(y,h,a):u.Z.wait(E((function(){var e;return C(this,(function(t){switch(t.label){case 0:return[4,(0,f.BE)(y.dropsQuestId)];case 1:t.sent();if(!(null===(e=P[y.dropsQuestId])||void 0===e?void 0:e.isEnrolled))return[2];k(y,h,a);return[2]}}))})))}}}}},LOGOUT:function(){N={};P={};A={};L.stop()}})},293078:(e,t,n)=>{"use strict";n.d(t,{A5:()=>f,j7:()=>d,wj:()=>p,R9:()=>h,YK:()=>E,Xt:()=>y,Tn:()=>v,FL:()=>b,hM:()=>O,BS:()=>S,EW:()=>_,x8:()=>m,Un:()=>I});var r=n(730381),o=n.n(r),i=n(968449),a=n(959207),u=n(671723),l=n(622816),s=n(483255),c=n(473708);function f(e){var t=S(e);return null==t?null:d(t)}function d(e){return e.dropsQuestId===s.oL?l.a:null}function p(e,t){if(null==e)return!1;var n=a.Z.getGameByName(e);return!(null==n||!t.some((function(e){var t;return e.toLowerCase()===(null==n||null===(t=n.name)||void 0===t?void 0:t.toLowerCase())})))}function h(){return Math.floor(Date.now()/1e3)-s.kS}function E(e,t,n){if(null==S(e))return!1
;var r=function(e,t){var n;return null!==(n=e.find((function(e){return p(e.name,t)})))&&void 0!==n?n:null}(t,s.RN[e]);if(null!=r){var o,i=null!==(o=null==r?void 0:r.lastLaunched)&&void 0!==o?o:0;return n<=r.lastFocused||1e3*n<=i}return!1}function y(e){return E(e,u.ZP.getGamesSeen(!1),h())}function g(e,t){var n=e.endDate,r=o()(),i=o()(n,s.fS),a=o()(r.clone().add(e.dropsNoticeBannerDurationDays,"days").format(s.fS)),u=i.isSameOrBefore(a),l=i.isBefore(r,"minute");return u&&(t&&!l||!t&&l)}function v(e){var t,n=S(e);if(null==n)return!1;if(!(null===(t=f(e))||void 0===t?void 0:t.getCurrentConfig({},{autoTrackExposure:!1}).dropsEnabled))return!1;var r=i.bh.getSetting(),o=g(n,!0);return!r&&o}function b(e){var t,n,r=S(e);if(null==r)return!1;if(!(null===(n=null===(t=f(e))||void 0===t?void 0:t.getCurrentConfig({},{autoTrackExposure:!1}))||void 0===n?void 0:n.dropsEnabled))return!1;var o=i.bh.getSetting(),a=g(r,!1);return O(r)&&!o&&a}function O(e){var t=e.endDate,n=o()(t,"YYYY-MM-DD HH:mm")
;return o()()>n}function S(e){return s.Zv[e]}function _(e){return Object.values(s.Zv).find((function(t){return t.dropsQuestId===e}))}function m(e){return Object.keys(s.Zv).find((function(t){return s.Zv[t].dropsQuestId===e}))}function I(e){switch(e){case"SWITCH":return c.Z.Messages.DROPS_PLATFORM_SWITCH;case"PC":return c.Z.Messages.DROPS_PLATFORM_PC;case"PLAYSTATION":return c.Z.Messages.DROPS_PLATFORM_PLAYSTATION;case"XBOX":return c.Z.Messages.DROPS_PLATFORM_XBOX;default:return""}}},621862:(e,t,n)=>{"use strict";n.d(t,{H:()=>g,v:()=>v});var r=n(441143),o=n.n(r),i=n(38736),a=n(797186),u=n(920883),l=n(202351),s=n(61209),c=n(583507);function f(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){f(e,t,n[t])}))}return e}var p=new Set,h={layoutType:a.X.LIST,sortOrder:u.z.CREATION_DATE,tagFilter:p,scrollPosition:0},E=function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);this.set=t;this.get=n;this.channelStates={};this.setChannelState=function(e,t){var n=r.get(),o=r.getChannelState(e),i=d({},n.channelStates);i[e]=d({},o,t);r.set({channelStates:i})};this.getChannelState=function(e){if(null==e)return h;var t=r.get().channelStates[e];if(null==t){var n=s.Z.getChannel(e);o()(null!=n,"[Forum Channel Store] The channel should not be missing.");t={layoutType:n.getDefaultLayout(),sortOrder:n.getDefaultSortOrder(),tagFilter:p,scrollPosition:0}}return t};this.toggleTagFilter=function(e,t){var n=r.getChannelState(e),o=new Set(n.tagFilter);o.has(t)?o.delete(t):o.add(t);r.setTagFilter(e,o)};this.setTagFilter=function(e,t){
r.setChannelState(e,{tagFilter:t});c.Z.setFilterTagIds(t)};this.setSortOrder=function(e,t){r.setChannelState(e,{sortOrder:t});c.Z.setSortOrder(t)};this.setLayoutType=function(e,t){r.setChannelState(e,{layoutType:t});c.Z.setLayout(t)};this.setScrollPosition=function(e,t){r.setChannelState(e,{scrollPosition:t})}},y=(0,i.Z)((function(e,t){return new E(e,t)})),g=function(e){var t=y();return null==(0,l.e7)([s.Z],(function(){return s.Z.getChannel(e)}))?h:t.getChannelState(e)},v=function(){return y}},219785:(e,t,n)=>{"use strict";n.d(t,{kZ:()=>ve,og:()=>Se,Lp:()=>se,TJ:()=>ce,m9:()=>ge,au:()=>be,ZP:()=>fe,NN:()=>pe})
;var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),u=n(441143),l=n.n(u),s=n(730381),c=n.n(s),f=n(457217),d=n(202351),p=n(336194),h=n(945460),E=n(531304),y=n(677681),g=n(840474),v=n(841150),b=n(916286),O=n(804808),S=n(30778),_=n(386364),m=n(203244),I=n(968449),C=n(804185),T=n(61209),A=n(682776),N=n(840922),P=n(901654),R=n(579722),L=n(439610),w=n(507488),j=n(921122),D=n(413297),M=n(763536),Z=n(531441),U=n(96606),x=n(70145),k=n(621862),F=n(358969),G=n(234798),B=n(572615),H=n(524600),V=n(503871),Y=n(16896),K=n(589519),z=n(661076);function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){u=!0;o=e}finally{try{a||null==n.return||n.return()}finally{
if(u)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return W(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var q=n(630097),X=n(2590),J=n(493254),$=n(939198),ee=n(473708),te=n(384803),ne=n.n(te),re=n(913198),oe=n.n(re);function ie(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ie(e,t,n[t])}))}return e}function ue(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function le(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}var se=72,ce=72;const fe=o.memo((function(e){
var t=e.threadId,n=e.goToThread,i=e.observePostVisibilityAnalytics,u=e.overrideMedia,s=e.className,c=e.containerWidth,p=function(e){var t=e.threadId,n=e.overrideMedia,r=(0,d.e7)([T.Z],(function(){return T.Z.getChannel(t)}));l()(null!=r,"the thread should not be null here, a store must have missed an update");var o=(0,d.e7)([C.ZP],(function(){return C.ZP.getCurrentSidebarChannelId(r.parent_id)===r.id})),i=(0,G.cl)(r).firstMessage,a=(0,F.mX)({firstMessage:i}),u=a.content,s=a.firstMedia,c=null!=n?n:s,f=(0,F.nP)(r).messageCountText;return{channel:r,isOpen:o,messageCount:f,firstMessage:i,content:u,media:c}}({threadId:t,overrideMedia:u}),E=p.channel,g=p.isOpen,v=p.messageCount,b=p.firstMessage,O=p.content,S=p.media,_=(0,y.Z)(),m=_.ref,I=_.height,A=(0,V.xH)((function(e){return e.setCardHeight}));o.useEffect((function(){null!=I&&A(t,I)}),[I,A,t]);o.useEffect((function(){null==i||i(m.current,t)}),[m,i,t]);var N=o.useRef(null),P=(0,q.Z)({facepileRef:N,goToThread:n,channel:E
}),R=P.handleLeftClick,L=P.handleRightClick,w=(0,f.JA)(t),j=(w.role,w.onFocus),D=le(w,["role","onFocus"]),M=(0,z.Z)(j),Z=M.isFocused,U=M.handleFocus,x=M.handleBlur;return(0,r.jsxs)("div",{ref:m,"data-item-id":t,onClick:R,onContextMenu:L,className:a()(ne().container,s,ie({},ne().isOpen,g)),children:[(0,r.jsx)(h.Clickable,ae({onClick:R,focusProps:{ringTarget:m},onContextMenu:L,"aria-label":ee.Z.Messages.FORUM_POST_ARIA_LABEL.format({title:E.name,count:v}),className:ne().focusTarget,onFocus:U,onBlur:x},D)),(0,r.jsxs)("div",{className:ne().left,children:[(0,r.jsx)(h.HeadingLevel,{children:(0,r.jsx)(de,{channel:E,firstMessage:b,content:O,hasMediaAttachment:null!=S,containerWidth:c})}),(0,r.jsx)(h.FocusBlock,{enabled:!Z,children:(0,r.jsx)(ye,{channel:E,firstMessage:b,facepileRef:N})})]}),(null==b?void 0:b.blocked)||null==S?null:(0,r.jsx)(_e,{channel:E,firstMedia:S})]})}));function de(e){var t=e.channel,n=e.firstMessage,i=e.content,u=e.hasMediaAttachment,l=e.containerWidth,s=(0,
F.J$)(t),c=s.isNew,f=s.hasUnreads,d=pe(t),E=function(e,t,n){var r=o.useRef(null),i=Q(o.useState(!1),2),a=i[0],u=i[1],l=o.useCallback((function(){if(e&&null!==r.current){var n;u((null===(n=r.current)||void 0===n?void 0:n.offsetHeight)>2.5*t)}}),[u,e,t]);o.useLayoutEffect((function(){l()}),[l,e,n]);return{postTitleRef:r,isNewBadgeOverflow:a}}(c,24,l),y=E.postTitleRef,g=E.isNewBadgeOverflow;return(0,r.jsxs)("div",{className:ne().body,children:[(0,r.jsx)(K.ZP,{channel:t}),(0,r.jsx)("div",{className:a()(ne().header,ie({},ne().withNewBadgeOverflow,g)),children:(0,r.jsxs)("div",{className:ne().headerText,children:[(0,r.jsx)(h.Heading,{variant:"heading-lg/semibold",color:f?"header-primary":"text-muted",lineClamp:2,className:ne().postTitleText,children:(0,r.jsxs)("span",{ref:y,children:[d,c&&(0,r.jsx)("span",{className:ne().newBadgeWrapper,children:(0,r.jsx)(Z.IG,{className:ne().newBadge,color:p.Z.unsafe_rawColors.BRAND_260.css,text:ee.Z.Messages.NEW})})]})}),c&&g&&(0,r.jsx)(Z.IG,{
className:ne().newBadge,color:p.Z.unsafe_rawColors.BRAND_260.css,text:ee.Z.Messages.NEW})]})}),(0,r.jsx)("div",{className:ne().message,children:(0,r.jsx)(Ee,{channel:t,message:n,content:i,hasMediaAttachment:u,hasUnreads:f})})]})}function pe(e){var t=(0,d.e7)([H.Z],(function(){return H.Z.getHasSearchResults()})),n=(0,d.e7)([H.Z],(function(){return H.Z.getSearchQuery(e.parent_id)})),r=o.useMemo((function(){return(0,g.nC)(t&&null!=n?n:"")}),[t,n]);return o.useMemo((function(){return(0,O.ZP)({content:e.name,embeds:[]},{postProcessor:r}).content}),[e.name,r])}function he(e){var t=e.message,n=e.channel,o=e.content,i=e.hasMediaAttachment,u=e.hasUnreads,l=(0,d.e7)([N.Z],(function(){return null!=t&&N.Z.isBlocked(t.author.id)})),s=(0,d.e7)([B.Z],(function(){return B.Z.isLoading(n.id)})),c=(0,d.e7)([A.Z],(function(){return A.Z.can(X.Plq.MANAGE_MESSAGES,n)})),f=I.cC.useSetting(),p=null;if(l)p=(0,r.jsx)(h.Text,{className:ne().blockedMessage,variant:"text-sm/medium",color:"text-muted",
children:ee.Z.Messages.FORUM_POST_BLOCKED_FIRST_MESSAGE});else{var E=null==t?{contentPlaceholder:null,renderedContent:null}:(0,M.f)(t,o,l,a()(ne().messageContent,oe().inlineFormat,oe().smallFontSize),{iconClass:ne().messageContentIcon,iconSize:$.WW}),y=E.contentPlaceholder,g=E.renderedContent;p=null!=g?(0,r.jsx)(h.Text,{variant:"text-sm/semibold",color:u?"header-secondary":"text-muted",children:g}):i?null:(0,r.jsx)(h.Text,{tag:"span",variant:"text-sm/medium",color:u?"header-secondary":"text-muted",className:ne().messageContent,children:null==t?s?null:ee.Z.Messages.REPLY_QUOTE_MESSAGE_DELETED:y})}return(0,r.jsxs)(w.a.Provider,{value:(0,b.Z)(f,c),children:[!l&&(0,r.jsx)(Y.Z,{channel:n,message:t,renderColon:null!=p,hasUnreads:u}),(0,r.jsx)(h.FocusBlock,{className:ne().messageFocusBlock,children:p})]})}var Ee=o.memo(he);function ye(e){var t=e.channel,n=e.facepileRef,o=e.firstMessage,i=(0,F.Q)(t),a=null!=(null==o?void 0:o.reactions)&&o.reactions.length>0;return(0,r.jsxs)("div",{
className:ne().footer,children:[a||null==o?null:(0,r.jsx)(ve,{firstMessage:o,channel:t}),null==o?null:(0,r.jsx)(be,{firstMessage:o,channel:t}),(0,r.jsx)(ge,{channel:t,iconSize:14}),(0,r.jsx)("span",{className:ne().bullet,children:""}),i.length>0?(0,r.jsxs)("div",{className:ne().typing,children:[(0,r.jsx)(Se,{channel:t,userIds:i,facepileRef:n}),(0,r.jsx)("div",{className:ne().dots,children:(0,r.jsx)(h.Dots,{themed:!0,dotRadius:2})}),(0,r.jsx)(E.Z,{channel:t,className:ne().typingUsers,renderDots:!1})]}):(0,r.jsx)(Oe,{channel:t})]})}function ge(e){var t=e.channel,n=e.iconSize,o=e.showReadState,i=void 0!==o&&o,u=(0,F.nP)(t),l=u.messageCountText,s=u.unreadCount,c=i&&null==s;return(0,r.jsxs)("div",{className:a()(ne().messageCountBox,ie({},ne().hasRead,c)),children:[(0,r.jsx)("span",{className:ne().messageCountIcon,children:(0,r.jsx)(j.Z,{width:n,height:n})}),"number"==typeof l?(0,r.jsx)(R.Z,{value:l,digitWidth:9,className:ne().messageCountText}):(0,r.jsx)("div",{
className:ne().messageCountText,children:l}),null==s?null:(0,r.jsxs)(h.Text,{className:ne().newMessageCount,variant:"text-sm/semibold",color:"text-brand",children:["(",ee.Z.Messages.FORUM_POST_MESSAGE_COUNT_SHORT.format({count:s}),")"]})]})}function ve(e){var t=e.firstMessage,n=e.channel,o=(0,d.e7)([T.Z],(function(){return T.Z.getChannel(n.parent_id)})),i=(0,F.Bs)(o),a=(0,S.Z)(n),u=a.disableReactionCreates,l=a.isLurking,s=a.isPendingMember;return null==i||u?null:(0,r.jsx)(m.le,{className:ne().updateReactionButton,message:t,readOnly:n.isArchivedLockedThread(),useChatFontScaling:!1,isLurking:l,isPendingMember:s,emoji:i,hideCount:!0,count:0,burst_count:0,me:!1,me_burst:!1,type:v.O.NORMAL,emojiSize:"reaction"})}function be(e){var t,n=e.firstMessage,o=e.channel,i=(0,F.IN)(n),a=(0,S.Z)(o),u=a.disableReactionUpdates,l=a.isLurking,s=a.isPendingMember;return null==i?null:(0,r.jsx)(m.le,ae({className:ne().updateReactionButton,message:n,readOnly:u||o.isArchivedLockedThread(),isLurking:l,
isPendingMember:s,useChatFontScaling:!1,type:i.burst_count>=i.count?v.O.BURST:v.O.NORMAL,emojiSize:"reaction"},i),"".concat(null!==(t=i.emoji.id)&&void 0!==t?t:0,":").concat(i.emoji.name))}function Oe(e){var t,n=e.channel,o=(0,k.H)(n.parent_id).sortOrder,i=(0,F.xw)(n,o),a=null===(t=n.threadMetadata)||void 0===t?void 0:t.createTimestamp,u=null==a?null:ee.Z.Messages.FORUM_POST_CREATED_AT_TOOLTIP.format({timestamp:(0,x.vc)(c()(a),"LLLL")});return(0,r.jsx)(h.Tooltip,{text:u,tooltipClassName:ne().timestampTooltip,children:function(e){return(0,r.jsx)(h.Text,ue(ae({className:ne().activityText,variant:"text-sm/normal",color:"header-secondary"},e),{children:i}))}})}function Se(e){var t=e.channel,n=e.userIds,o=e.facepileRef,i=(0,F.iM)(t,n);return(0,r.jsx)("div",{ref:o,children:(0,r.jsx)(U.Z,{className:ne().facepile,showDefaultAvatarsForNullUsers:!0,guildId:t.guild_id,users:i,max:5,size:16,hideMoreUsers:!0,showUserPopout:!0})})}function _e(e){var t,n,o,i=e.channel,u=e.firstMedia,l=(0,
d.e7)([P.Z],(function(){return P.Z.isFocused()})),s=(0,d.e7)([A.Z],(function(){return A.Z.can(X.Plq.MANAGE_MESSAGES,i)})),c=J.LR.test(u.src),f=I.QK.useSetting(),p=I.cC.useSetting(),E=u.src,y=u.width,g=u.height,v=u.spoiler,O=u.alt,S=v&&!(0,b.Z)(p,s);g>y?n=ce:t=se;return(0,r.jsx)(h.FocusBlock,{enabled:!0,children:(0,r.jsxs)("div",{className:ne().bodyMedia,onClick:function(e){return e.stopPropagation()},children:[E.startsWith("data:")?(0,r.jsx)(L.Z,{src:E,maxHeight:t,maxWidth:n,width:y,height:g,alt:null!=O&&S?ee.Z.Messages.SPOILER_HIDDEN_A11Y_LABEL:O,className:ne().thumbnailContainer,imageClassName:a()((o={},ie(o,ne().spoiler,S),ie(o,ne().thumbnailOverride,!0),o))}):(0,_.Yi)({src:E,maxHeight:t,maxWidth:n,width:y,height:g,alt:null!=O&&S?ee.Z.Messages.SPOILER_HIDDEN_A11Y_LABEL:O,autoPlay:f,animated:c&&!S&&l,containerClassName:ne().thumbnailContainer,imageClassName:a()(ie({},ne().spoiler,S))}),S&&(0,r.jsx)(D.Z,{className:ne().spoilerTag})]})})}},503871:(e,t,n)=>{"use strict";n.d(t,{oL:()=>p,
xH:()=>h,AF:()=>E,NU:()=>y});var r=n(38736),o=n(652286),i=n(943469),a=n(855483),u=n(61209),l=n(284610),s=n(372518),c=n(854602);var f=function e(t,n,r){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);this.channelId=t;this.set=n;this.get=r;this.editorHeight=64;this.editorAdditionRowHeight=0;this.listViewCardHeights={};this.cardHeightVersion=0;this.nameError=null;this.messageError=null;this.appliedTags=new Set;this.popoutOpen=!1;this.guidelinesOpen=!1;this.onboardingExpanded=!1;this.submitting=!1;this.formOpen=!1;this.name="";this.textAreaState=(0,a.eK)("");this.hasClickedForm=!1;this.titleFocused=!1;this.bodyFocused=!1;this.setEditorHeight=function(e){o.set({editorHeight:e})};this.setEditorAdditionRowHeight=function(e){o.set({editorAdditionRowHeight:e})};this.setCardHeight=function(e,t){var n=o.get(),r=n.listViewCardHeights,i=n.cardHeightVersion;if(r[e]!==t){r[e]=t;o.set({cardHeightVersion:i+1})}}
;this.setNameError=function(e){o.set({nameError:e})};this.setMessageError=function(e){o.set({messageError:e})};this.toggleAppliedTag=function(e){var t=o.get().appliedTags;(t=new Set(t)).has(e)?t.delete(e):t.add(e);o.set({appliedTags:t});i.Z.changeThreadSettings(o.channelId,{appliedTags:t})};this.setPopoutOpen=function(e){o.set({popoutOpen:e})};this.setGuidelinesOpen=function(e){o.set({guidelinesOpen:e})};this.setSubmitting=function(e){o.set({submitting:e})};this.setFormOpen=function(e){o.set({formOpen:e});s.Z.clearForumSearch(o.channelId)};this.setOnboardingExpanded=function(e){o.set({onboardingExpanded:e})};this.setTitleFocused=function(e){o.set({titleFocused:e})};this.setBodyFocused=function(e){o.set({bodyFocused:e})};this.setName=function(e){o.set({name:e});i.Z.changeThreadSettings(o.channelId,{name:e})};this.setTextAreaState=function(e){o.set({textAreaState:e});i.Z.saveDraft(o.channelId,e.textValue,l.d.FirstThreadMessage)};this.setHasClickedForm=function(e){o.set({hasClickedForm:e
})};this.resetFormState=function(){var e=u.Z.getChannel(o.channelId),t=null==e||null==e.template?"":e.template.trim();o.set({name:"",textAreaState:(0,a.eK)(t),appliedTags:new Set,hasClickedForm:!1});s.Z.clearForumSearch(o.channelId)};this.setFormOpenFromUserAction=function(){if(!o.hasClickedForm){var e=u.Z.getChannel(o.channelId);null!=e&&(0,c.HR)({guildId:e.guild_id,channelId:o.channelId});o.set({hasClickedForm:!0,formOpen:!0});s.Z.clearForumSearch(o.channelId)}};var f=u.Z.getChannel(t);if(null!=f){var d,p,h,E=null!==(d=l.Z.getThreadSettings(f.id))&&void 0!==d?d:{},y=null==f.template?"":f.template.trim(),g=l.Z.getDraft(f.id,l.d.FirstThreadMessage),v=(0,a.eK)(null!=g&&""!==g.trim()?g:y);this.name=null!==(p=E.name)&&void 0!==p?p:"";this.appliedTags=null!==(h=new Set(E.appliedTags))&&void 0!==h?h:new Set;this.formOpen=this.name.length>0;this.textAreaState=v}},d=(0,o.Z)(),p=d.Provider,h=d.useStore,E=d.useStoreApi;function y(e){return(0,r.Z)((function(t,n){return new f(e.id,t,n)}))}},
727081:(e,t,n)=>{"use strict";n.d(t,{f7:()=>m,yJ:()=>I,ZP:()=>C,fz:()=>T});var r,o=n(785893),i=n(667294),a=n(294184),u=n.n(a),l=n(457217),s=n(202351),c=n(945460),f=n(77413),d=n(316878),p=n(489617),h=n(189865),E=n(473708),y=n(174233),g=n.n(y);function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){b(e,t,n[t])}))}return e}function S(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){
var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){u=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}!function(e){e[e.SMALL=0]="SMALL";e[e.MEDIUM=1]="MEDIUM"}(r||(r={}));function m(e){var t,n=e.tag,a=e.size,y=void 0===a?r.MEDIUM:a,v=e.disabled,m=e.className,I=e.onClick,C=e.onRemove,T=e.selected,A=e.ariaLabel,N=n.name,P=n.emojiId,R=n.emojiName,L=null!=C,w=_(i.useState(!1),2),j=w[0],D=w[1],M=(0,s.e7)([p.Z],(function(){return null!=P?p.Z.getUsableCustomEmojiById(P):null})),Z=L||null!=I,U=!(L&&j||null==P&&null==R),x=y===r.SMALL,k=i.useRef(null),F=(0,s.e7)([d.Z],(function(){return d.Z.keyboardModeEnabled})),G=(0,o.jsxs)(o.Fragment,{children:[U?(0,o.jsx)(f.Z,{className:u()(g().emoji,b({},g().small,x)),emojiId:P,emojiName:R,animated:Boolean(null==M?void 0:M.animated),size:"reaction",alt:""}):null,j&&L&&(0,o.jsx)("div",{className:g().closeCircle,children:(0,o.jsx)(h.Z,{className:g().close})}),(0,o.jsx)(c.Text,{
className:g().increasedActivityText,variant:"text-xs/medium",lineClamp:1,children:N})]}),B={key:n.id,className:u()(g().pill,g().increasedActivityPill,(t={},b(t,g().disabled,v),b(t,g().clickable,Z),b(t,g().increasedActivitySmall,x),b(t,g().selected,T),t),m),onClick:function(e){null==I||I(e);null==C||C(n);F||null==k.current||k.current.blur()},onMouseEnter:function(){return L&&D(!0)},onMouseLeave:function(){return L&&D(!1)}},H=(0,l.JA)("forum-tag-".concat(n.id));return Z?(0,o.jsx)(c.Clickable,S(O(S(O({},H),{innerRef:k,focusProps:{ringTarget:k},"aria-label":null!=A?A:E.Z.Messages.FORUM_TAG_A11Y_FILTER_BY_TAG.format({tagName:N}),role:"button","aria-pressed":T}),B),{children:G})):(0,o.jsx)("div",S(O({"aria-label":null!=A?A:E.Z.Messages.FORUM_TAG_A11Y_TAG_BY.format({tagName:N})},B),{children:G}))}function I(e){var t=e.tags,n=e.count,i=e.size,a=(void 0===i?r.MEDIUM:i)===r.SMALL;return(0,o.jsx)(c.Tooltip,{"aria-label":E.Z.Messages.FORUM_TAGS,text:(0,o.jsx)(o.Fragment,{
children:t.map((function(e){return(0,o.jsx)(C,{tag:e,className:g().tooltipPill,size:C.Sizes.SMALL},e.id)}))}),children:function(e){return(0,o.jsx)("div",S(O({},e),{className:u()(g().pill,g().increasedActivityPill,b({},g().increasedActivitySmall,a)),children:(0,o.jsxs)(c.Text,{className:g().increasedActivityText,variant:a?"text-xs/medium":"text-sm/medium",children:["+",n]})}))}})}function C(e){var t,n=e.tag,a=e.size,y=void 0===a?r.MEDIUM:a,v=e.disabled,m=e.className,I=e.onClick,C=e.onRemove,T=e.selected,A=e.ariaLabel,N=n.name,P=n.emojiId,R=n.emojiName,L=null!=C,w=_(i.useState(!1),2),j=w[0],D=w[1],M=(0,s.e7)([p.Z],(function(){return null!=P?p.Z.getUsableCustomEmojiById(P):null})),Z=L||null!=I,U=!(L&&j||null==P&&null==R),x=y===r.SMALL,k=i.useRef(null),F=(0,s.e7)([d.Z],(function(){return d.Z.keyboardModeEnabled})),G=(0,o.jsxs)(o.Fragment,{children:[U?(0,o.jsx)(f.Z,{className:u()(g().emoji,b({},g().small,x)),emojiId:P,emojiName:R,animated:Boolean(null==M?void 0:M.animated),size:"reaction"
}):null,j&&L&&(0,o.jsx)("div",{className:g().closeCircle,children:(0,o.jsx)(h.Z,{className:g().close})}),(0,o.jsx)(c.Text,{variant:x?"text-xs/semibold":"text-sm/semibold",lineClamp:1,children:N})]}),B={key:n.id,className:u()(g().pill,(t={},b(t,g().disabled,v),b(t,g().clickable,Z),b(t,g().small,x),b(t,g().selected,T),t),m),onClick:function(e){null==I||I(e);null==C||C(n);F||null==k.current||k.current.blur()},onMouseEnter:function(){return L&&D(!0)},onMouseLeave:function(){return L&&D(!1)}},H=(0,l.JA)("forum-tag-".concat(n.id));return Z?(0,o.jsx)(c.Clickable,S(O(S(O({},H),{innerRef:k,focusProps:{ringTarget:k},"aria-label":null!=A?A:E.Z.Messages.FORUM_TAG_A11Y_FILTER_BY_TAG.format({tagName:N}),role:"button","aria-pressed":T}),B),{children:G})):(0,o.jsx)("div",S(O({},B),{children:G}))}function T(e){var t=e.tags,n=e.count,i=e.size,a=(void 0===i?r.MEDIUM:i)===r.SMALL;return(0,o.jsx)(c.Tooltip,{"aria-label":E.Z.Messages.FORUM_TAGS,text:(0,o.jsx)(o.Fragment,{children:t.map((function(e){
return(0,o.jsx)(C,{tag:e,className:g().tooltipPill,size:C.Sizes.SMALL},e.id)}))}),children:function(e){return(0,o.jsx)("div",S(O({},e),{className:u()(g().pill,b({},g().small,a)),children:(0,o.jsxs)(c.Text,{variant:a?"text-xs/semibold":"text-sm/semibold",children:["+",n]})}))}})}C.Sizes=r},16896:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(785893),o=(n(667294),n(294184)),i=n.n(o),a=n(945460),u=n(952273),l=n(358969),s=n(473708),c=n(569495),f=n.n(c);function d(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}const p=function(e){var t,n,o=e.message,c=e.channel,p=e.renderColon,h=e.hasUnreads,E=(0,l.AJ)(c),y=E.user,g=E.author,v=null!==(n=null!==(t=null==g?void 0:g.nick)&&void 0!==t?t:null==y?void 0:y.username)&&void 0!==n?n:"",b=(0,u.l)(null==o?void 0:o.author,c.id,c.guild_id,!0,s.Z.Messages.FORUM_POST_AUTHOR_A11Y_LABEL.format({name:v}))(null!=g?g:void 0)((0,r.jsx)(r.Fragment,{children:v}),c.id);return(0,r.jsxs)(a.Text,{
tag:"span",className:i()(f().author,d({},f().hasUnreads,h)),variant:"text-sm/semibold",children:[b,!0===p?": ":null]})}},589519:(e,t,n)=>{"use strict";n.d(t,{qS:()=>T,DM:()=>A,f6:()=>N,ZP:()=>P});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),u=n(336194),l=n(945460),s=n(258985),c=n(715173),f=n(531441),d=n(621862),p=n(358969),h=n(727081),E=n(897196),y=n(473708),g=n(384803),v=n.n(g),b=n(531179),O=n.n(b),S=n(971196),_=n.n(S);function m(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){m(e,t,n[t])}))}return e}function C(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var T=16;function A(e){var t=e.channel,n=e.isNew,r=(0,p.eV)(t),o=(0,p.kn)(t,r),i=o.slice(void 0,3),a=o.slice(3),u=o.length>3?o.length-3:0,l=t.hasFlag(E.zZ.PINNED);return{shownTags:i,remainingTags:a,moreTagsCount:u,isPinned:l,shouldRenderTagsRow:i.length>0||l||n,forumPostContainsTags:o.length>0}}function N(e){var t=e.channel,n=e.isNew,i=e.tagsClassName,u=e.className,f=A({channel:t,isNew:n}),p=f.shownTags,E=f.remainingTags,g=f.moreTagsCount,v=f.isPinned,b=f.shouldRenderTagsRow,S=(0,d.H)(t.id).tagFilter;return b?(0,r.jsxs)("div",{
className:a()(_().increasedActivityTags,u),children:[v&&(0,r.jsx)("div",{className:O().pinIcon,children:(0,r.jsx)(l.Tooltip,{text:y.Z.Messages.PINNED_POST,children:function(e){return(0,r.jsx)(c.Z,C(I({},e),{width:T,height:T,color:"white"}))}})}),p.map((function(e,t){return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(h.f7,{tag:e,size:h.ZP.Sizes.SMALL,className:a()(i,m({},_().tagFiltered,S.has(e.id)))}),(t<p.length-1||g>0)&&(0,r.jsx)(s.Z,{height:4,width:4,"aria-hidden":"true",className:_().increasedActivityDotIcon},e.id.concat(t.toString()))]},e.id)})),g>0?(0,r.jsx)(h.yJ,{tags:E,count:g,size:h.ZP.Sizes.SMALL}):null]}):null}function P(e){var t=e.channel,n=e.isNew,o=e.tagsClassName,i=e.className,s=A({channel:t,isNew:n}),p=s.shownTags,E=s.remainingTags,g=s.moreTagsCount,b=s.isPinned,O=s.shouldRenderTagsRow,S=(0,d.H)(t.id).tagFilter;return O?(0,r.jsxs)("div",{className:a()(_().tags,i),children:[n?(0,r.jsx)(f.IG,{className:a()(v().newBadge,v().inTagsRow),
color:u.Z.unsafe_rawColors.BRAND_260.css,text:y.Z.Messages.NEW}):null,b&&(0,r.jsx)("div",{className:_().pinIcon,children:(0,r.jsx)(l.Tooltip,{text:y.Z.Messages.PINNED_POST,children:function(e){return(0,r.jsx)(c.Z,C(I({},e),{width:T,height:T,color:"white"}))}})}),p.map((function(e){return(0,r.jsx)(h.ZP,{tag:e,size:h.ZP.Sizes.SMALL,className:a()(o,m({},_().tagFiltered,S.has(e.id)))},e.id)})),g>0?(0,r.jsx)(h.fz,{tags:E,count:g,size:h.ZP.Sizes.SMALL}):null]}):null}},661076:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(667294);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){u=!0;o=e}finally{try{a||null==n.return||n.return()}finally{
if(u)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const a=function(e){var t=i(r.useState(!1),2),n=t[0],o=t[1];return{isFocused:n,handleFocus:r.useCallback((function(t){e(t);o(!0)}),[e,o]),handleBlur:function(){o(!1)}}}},630097:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(785893),o=(n(667294),n(809784)),i=n(971402);function a(e,t,n,r,o,i,a){try{var u=e[i](a),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,o)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){
var i=e.apply(t,n);function u(e){a(i,r,o,u,l,"next",e)}function l(e){a(i,r,o,u,l,"throw",e)}u(void 0)}))}}function l(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function s(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var c=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){
if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};const f=function(e){var t=e.facepileRef,a=e.goToThread,f=e.channel;return{handleLeftClick:function(e){var n;(0,o.k)(e.target)&&(null===(n=t.current)||void 0===n?void 0:n.contains(e.target))||a(f,e.shiftKey)},
handleRightClick:function(e){return(0,i.jW)(e,u((function(){var e,t;return c(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(75409),n.e(15814)]).then(n.bind(n,881580))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,s(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){l(e,t,n[t])}))}return e}({},e),{channel:f}))}]}}))})))}}}},33014:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var r=n(496486),o=n.n(r),i=n(496916),a=n(404741),u=n(18882),l=n(5544),s=n(717091),c=n(652591),f=n(2590),d=n(290679);function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){
if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){var n=o().flatMap(e,(function(e){var t=l.ZP.getSelectableChannelIds(e),n=l.ZP.getVocalChannelIds(e),r=h(t).concat(h(n)),o=u.Z.getActiveJoinedThreadsForGuild(e),i=!0,a=!1,s=void 0;try{for(var c,f=t[Symbol.iterator]();!(i=(c=f.next()).done);i=!0){var d,p=null!==(d=o[c.value])&&void 0!==d?d:{};for(var E in p)r.push(E)}}catch(e){a=!0;s=e}finally{try{i||null==f.return||f.return()}finally{if(a)throw s}}
return r})).map((function(e){return{channelId:e,readStateType:d.W.CHANNEL,messageId:s.ZP.lastMessageId(e)}}));e.forEach((function(e){n.push({channelId:e,readStateType:d.W.GUILD_EVENT,messageId:s.ZP.lastMessageId(e,d.W.GUILD_EVENT)});n.push({channelId:e,readStateType:d.W.GUILD_ONBOARDING_QUESTION,messageId:a.Z.ackIdForGuild(e)})}));c.default.track(f.rMx.MARK_AS_READ,{source:t,type:"guild"});return(0,i.y5)(n)}},440997:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(785893),o=(n(667294),n(730381)),i=n.n(o),a=n(202351),u=n(945460),l=n(201459),s=n(380477),c=n(70983),f=n(9430),d=n(473708);function p(e,t){var n=null==e?void 0:e.id,o=(0,a.cj)([f.Z],(function(){return{muted:null!=n?f.Z.isMuted(n):void 0,muteConfig:null!=n?f.Z.getMuteConfig(n):void 0}}),[n]),p=o.muted,h=o.muteConfig,E=(0,c.U)(h);return null==n?null:p?(0,r.jsx)(u.MenuItem,{id:"unmute-guild",label:d.Z.Messages.UNMUTE_SERVER,subtext:E,action:function(){return l.Z.updateGuildNotificationSettings(n,{muted:!1})}}):(0,
r.jsx)(u.MenuItem,{id:"mute-guild",label:d.Z.Messages.MUTE_SERVER,action:function(){return l.Z.updateGuildNotificationSettings(n,{muted:!0})},children:(0,s.k)().map((function(e){var o=e.value,a=e.label;return(0,r.jsx)(u.MenuItem,{id:"".concat(o),label:a,action:function(){return function(e){if(null!=n){var r=e>0?i()().add(e,"second").toISOString():null;l.Z.updateGuildNotificationSettings(n,{muted:!0,mute_config:{selected_time_window:e,end_time:r}},t)}}(o)}},o)}))})}},827289:(e,t,n)=>{"use strict";n.d(t,{zH:()=>h,mI:()=>y,g:()=>g});var r=n(940060),o=n(318715),i=n(567403),a=n(682776),u=n(473903),l=n(563135),s=n(980813),c=n(922763),f=n(46396),d=n(982358),p=n(2590);function h(){var e=(0,o.ZP)([u.default],(function(){return u.default.getCurrentUser()})),t=(0,o.ZP)([f.Z],(function(){return f.Z.getIncidentsByGuild()})),n=(0,o.ZP)([i.Z],(function(){return Object.keys(t).map((function(e){return i.Z.getGuild(e)}))})),a=!0,s=!1,p=void 0;try{
for(var h,E=n[Symbol.iterator]();!(a=(h=E.next()).done);a=!0){var y=h.value;if(null!=y){var g=t[y.id];if(null!=g&&((0,c.i9)(g)||(0,c.ur)(g))){if(r.Z.hasAny(l.ZP.computePermissions({user:e,context:y,checkElevated:!1}),d.cv))return y.id}}}}catch(e){s=!0;p=e}finally{try{a||null==E.return||E.return()}finally{if(s)throw p}}return null}function E(){var e=u.default.getCurrentUser(),t=f.Z.getIncidentsByGuild(),n=Object.keys(t).map((function(e){return i.Z.getGuild(e)})),o=!0,a=!1,s=void 0;try{for(var p,h=n[Symbol.iterator]();!(o=(p=h.next()).done);o=!0){var E=p.value;if(null!=E){var y=t[E.id];if(null!=y&&((0,c.i9)(y)||(0,c.ur)(y))){if(r.Z.hasAny(l.ZP.computePermissions({user:e,context:E,checkElevated:!1}),d.cv))return E.id}}}}catch(e){a=!0;s=e}finally{try{o||null==h.return||h.return()}finally{if(a)throw s}}return null}function y(e){var t=s.Z.useExperiment({guildId:null!=e?e:"0"}).showAlertMode,n=(0,o.ZP)([i.Z,a.Z],(function(){return null!=e&&a.Z.can(p.Plq.MANAGE_GUILD,i.Z.getGuild(e))})),r=(0,
o.ZP)([f.Z],(function(){return null!=e?f.Z.getGuildIncident(e):null})),u=null!=r&&(0,c.ur)(r);return{shouldShowIncidentActions:null!=r&&((0,c.i9)(r)||u)&&n&&t,incidentData:r,isUnderLockdown:u}}function g(){var e=E(),t=s.Z.getCurrentConfig({guildId:null!=e?e:"0"}).showAlertMode;return{show:null!=e&&t,guildId:e}}},489684:(e,t,n)=>{"use strict";n.d(t,{H7:()=>d,o3:()=>h,n7:()=>c,Ac:()=>E,ky:()=>f,au:()=>p,mZ:()=>y,fh:()=>g});var r=n(260561),o=(0,r.B)({kind:"guild",id:"2022-11_automod_non_community_guilds_release",label:"Automod Non-Community Guilds Release",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Automod Non-Community Guilds Release",config:{enabled:!0}}]}),i=(0,r.B)({kind:"guild",id:"2022-12_mention_raid_limit",label:"Automod Mention Raid Limit",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Automod Mention Raid Limit",config:{enabled:!0}}]}),a=(0,r.B)({kind:"guild",id:"2023-01_mention_raid_notice",label:"Automod Mention Raid Notice",defaultConfig:{enabled:!1},
treatments:[{id:1,label:"Automod Mention Raid Notice",config:{enabled:!0}}]}),u=(0,r.B)({kind:"guild",id:"2023-02_automod_custom_message",label:"Automod Custom Message",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Automod Custom Message",config:{enabled:!0}}]}),l=(0,r.B)({kind:"guild",id:"2023-02_free_form",label:"Automod Server Policy",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Automod Server Policy",config:{enabled:!0}},{id:10,label:"Automod Server Policy Rules Summarization",config:{enabled:!0}}]}),s=(0,r.B)({kind:"guild",id:"2023-05_automod_user_profile_ab",label:"Automod on User Profile A/B",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Automod on User Profile enabled",config:{enabled:!0}}]});function c(e){return o.getCurrentConfig({guildId:e}).enabled}function f(e){return o.useExperiment({guildId:e},{autoTrackExposure:!0}).enabled}function d(e){return i.getCurrentConfig({guildId:e}).enabled}function p(e){
var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=i.useExperiment({guildId:e},{autoTrackExposure:t}).enabled;return n}function h(e){return null!=e&&a.getCurrentConfig({guildId:e}).enabled}function E(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=u.useExperiment({guildId:e},{autoTrackExposure:t}).enabled;return n}function y(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=l.useExperiment({guildId:e},{autoTrackExposure:t}).enabled;return n}function g(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=s.useExperiment({guildId:e},{autoTrackExposure:t}).enabled;return n}},883650:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(202351),o=n(744564),i=n(769915),a=n(352980),u=n(201891),l=n(2590);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e){c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return c(e)}
function f(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e,t){d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return d(e,t)}var p=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}var E={},y=0,g={},v=function(e,t){var n=(0,i.hc)(e),r={id:n,isBlockedEdit:(0,i.Bz)(e),messageData:e,errorMessage:(0,u.uF)(e,t)};E[n]=r;y++},b=function(e){return E[e]},O=function(e){
null!=E[e]&&delete E[e];y++};function S(e){var t=e.messageData,n=e.errorResponseBody;v(t,n);return!0}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&d(e,t)}(n,e);var t=h(n);function n(){s(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(a.Z)};r.getMessage=function(e){return null==e?null:null!==(t=b(e))&&void 0!==t?t:null;var t};r.getMessagesVersion=function(){return y};r.getMentionRaidDetected=function(e){var t;return null!==(t=g[e])&&void 0!==t?t:null};r.__getLocalVars=function(){return{automodFailedMessages:E,automodFailedMessagesVersion:y,mentionRaidDetectionByGuild:g,setFailedMessage:v,getFailedMessage:b,removeFailedMessage:O}};return n}(r.ZP.Store);_.displayName="GuildAutomodMessageStore";const m=new _(o.Z,{CONNECTION_OPEN:function(e){E={};y++
;return!0},MESSAGE_SEND_FAILED_AUTOMOD:S,MESSAGE_EDIT_FAILED_AUTOMOD:S,REMOVE_AUTOMOD_MESSAGE_NOTICE:function(e){var t=e.messageId;O(t);return!0},MESSAGE_END_EDIT:function(e){var t=e.response;if(null==(null==t?void 0:t.body))return!1;if(t.body.code===l.evJ.AUTOMOD_MESSAGE_BLOCKED)return!1;var n=t.body.id;if(null==n)return!1;O(n)},AUTO_MODERATION_MENTION_RAID_DETECTION:function(e){var t=e.guildId,n=e.decisionId,r=e.suspiciousMentionActivityUntil;g[t]={guildId:t,decisionId:n,suspiciousMentionActivityUntil:r};return!0},AUTO_MODERATION_MENTION_RAID_NOTICE_DISMISS:function(e){var t=e.guildId;delete g[t];return!0}})},576122:(e,t,n)=>{"use strict";n.d(t,{VR:()=>Ue,zm:()=>Ae,p2:()=>Ne,wF:()=>Re,wd:()=>Pe,Bz:()=>We,zR:()=>Qe,ZP:()=>we});var r=n(441143),o=n.n(r),i=n(496486),a=n.n(i),u=n(258104),l=n(747820),s=n(848465),c=n(269300),f=n(861426),d=n(942973),p=n(62277),h=n(202351),E=n(744564),y=n(61209),g=n(715107),v=n(9430);function b(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e){O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return O(e)}function S(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e,t){_=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _(e,t)}var m=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var o=O(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments)
;return S(this,n)}}var C={},T={},A={};function N(){var e=g.Z.getChannelId();if(null!=e){var t=y.Z.getChannel(e);if(null!=t&&null!=t.guild_id){var n=t.guild_id;null==A[e]&&(A[e]=0);if(t.isThread()||v.Z.isOptInEnabled(n)&&!v.Z.isChannelOrParentOptedIn(n,t.id)){delete A[e];null!=C[n]&&C[n].delete(e)}else{A[e]++;null==C[n]&&(C[n]=new Set);if(v.Z.isFavorite(n,e))C[n].delete(e);else if((null==T[n]||!T[n].has(e))&&A[e]>50){C[n].add(e);return!0}}}}}var P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&_(e,t)}(n,e);var t=I(n);function n(){b(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(e){this.syncWith([g.Z],N);if(null!=e){var t=e.suggestedChannels,n=e.dismissedSuggestions,r=e.channelOpensByChannelId;if(null!=t)for(var o in t){var i
;C[o]=null!==(i=new Set(t[o]))&&void 0!==i?i:new Set}if(null!=n)for(var a in n){var u;T[a]=null!==(u=new Set(n[a]))&&void 0!==u?u:new Set}A=null!=r?r:{}}};r.getSuggestedChannelId=function(e){return null};r.getState=function(){return{suggestedChannels:{},dismissedSuggestions:{},channelOpensByChannelId:{}}};r.__getLocalVars=function(){return{MINIMUM_OPEN_COUNT:50,suggestedChannels:C,dismissedSuggestions:T,channelOpensByChannelId:A}};return n}(h.ZP.PersistedStore);P.displayName="FavoritesSuggestionStore";P.persistKey="FavoritesSuggestionStore";const R=new P(E.Z,{DISMISS_FAVORITE_SUGGESTION:function(e){var t=e.guildId,n=e.channelId;null==T[t]&&(T[t]=new Set);T[t].add(n);C[t].delete(n);return!0}});function L(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e){w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return w(e)}function j(e,t){
return!t||"object"!==M(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function D(e,t){D=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return D(e,t)}var M=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var o=w(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return j(this,n)}}var U=new Set;var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{
value:e,writable:!0,configurable:!0}});t&&D(e,t)}(n,e);var t=Z(n);function n(){L(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(e){U.clear();null==e||e.guilds.forEach((function(e){return U.add(e)}))};r.isCollapsed=function(e){return U.has(e)};r.getState=function(){return{guilds:U}};r.__getLocalVars=function(){return{guilds:U}};return n}(h.ZP.PersistedStore);x.displayName="RecentlyActiveCollapseStore";x.persistKey="RecentlyActiveCollapseStore";const k=new x(E.Z,{SET_RECENTLY_ACTIVE_COLLAPSED:function(e){var t=e.guildId;e.collapsed?U.add(t):U.delete(t)}});var F=n(364269),G=n(289716),B=n(18882),H=n(487685),V=n(382060),Y=n(968968),K=n(996077),z=n(959207),W=n(567403),Q=n(682776),q=n(717091),X=n(407561),J=n(602397),$=n(72580),ee=n(102921),te=n(913302),ne=n(627001),re=n(966554),oe=n(2590),ie=n(897196),ae=n(520453);function ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function le(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function se(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function fe(e,t,n){t&&ce(e.prototype,t);n&&ce(e,n);return e}function de(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function pe(e,t,n){pe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=he(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}};return pe(e,t,n||e)}function he(e){he=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return he(e)}
function Ee(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&be(e,t)}function ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){de(e,t,n[t])}))}return e}function ge(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){
Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function ve(e,t){return!t||"object"!==_e(t)&&"function"!=typeof t?le(e):t}function be(e,t){be=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return be(e,t)}function Oe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){u=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||me(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Se(e){return function(e){if(Array.isArray(e))return ue(e)}(e)||function(e){
if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||me(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var _e=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function me(e,t){if(e){if("string"==typeof e)return ue(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ue(e,t):void 0}}function Ie(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=he(e);if(t){
var o=he(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ve(this,n)}}var Ce,Te="placeholder-channel-id";!function(e){e[e.CannotShow=1]="CannotShow";e[e.DoNotShow=2]="DoNotShow";e[e.WouldShowIfUncollapsed=3]="WouldShowIfUncollapsed";e[e.Show=4]="Show"}(Ce||(Ce={}));var Ae=0,Ne=1,Pe=3,Re=4,Le=new Set([String(re.f.GUILD_DIRECTORY)]),we=function(){function e(){se(this,e);this.guilds={}}var t=e.prototype;t.getGuild=function(e,t){var n;e in this.guilds&&a().isEqual(null===(n=this.guilds[e])||void 0===n?void 0:n.getCommunitySection().getRows().filter((function(e){return!Le.has(e)})),t)||(this.guilds[e]=new je(e,t));return this.guilds[e]};t.getGuildWithoutCommunityRows=function(e){e in this.guilds||(this.guilds[e]=new je(e,[]));return this.guilds[e]};t.clear=function(){this.guilds={}};t.clearGuildId=function(e){if(null!=e&&e in this.guilds){delete this.guilds[e];return!0}return!1};t.updateRecentsCategory=function(e){if(null!=e&&e in this.guilds){
var t,n;return null!==(n=null===(t=this.guilds[e])||void 0===t?void 0:t.updateRecentsCategory())&&void 0!==n&&n}return!1};t.nonPositionalChannelIdUpdate=function(e){var t=y.Z.getBasicChannel(e);return null!=t&&(null!=t.guild_id&&(null!=this.guilds[t.guild_id]&&((t instanceof V.Sf||null!=(t=y.Z.getChannel(e)))&&this.nonPositionalChannelUpdate(t))))};t.nonPositionalChannelUpdate=function(e){if(null==e.guild_id)return!1;var t=this.guilds[e.guild_id];if(null==t)return!1;var n=!1;e.isThread()&&(n=this.nonPositionalChannelIdUpdate(e.parent_id));return t.nonPositionalChannelUpdate(e)||n};t.updateSubtitles=function(e,t){(null==e?Object.values(this.guilds):e in this.guilds?[this.guilds[e]]:[]).forEach((function(e){return e.updateSubtitles(t)}))};return e}(),je=function(){function e(t,n){se(this,e);this.id=t;this.sortedNamedCategories=null;this.sections=null;this.rows=null;this.firstVoiceChannel=void 0;this.allChannelsById=null;this.version=0;this.hideMutedChannels=v.Z.isGuildCollapsed(this.id)
;this.mutedChannelIds=v.Z.getMutedChannels(this.id);var r,i;this.optedInChannels=null!==(r=v.Z.getOptedInChannelsWithPendingUpdates(this.id))&&void 0!==r?r:v.Z.getOptedInChannels(this.id);this.optInEnabled=(0,F.r1)(this.id);this.hideResourceChannels=(0,s.s)(this.id);this.favoriteChannelIds=new Set(null!==(i=v.Z.getGuildFavorites(this.id))&&void 0!==i?i:[]);this.suggestedFavoriteChannelId=R.getSuggestedChannelId(this.id);this.collapsedCategoryIds=Y.Z.getCollapsedCategories();var u=y.Z.getMutableGuildChannelsForGuild(this.id),l=W.Z.getGuild(this.id),c={},f=[],p={};for(var h in u){var E=u[h];if(E.type===oe.d4z.GUILD_CATEGORY){c[E.id]=E;p[E.id]=[]}}var g=[],b=[],O=[],S=this.initializationData;for(var _ in u){var m=u[_];if(m.type!==oe.d4z.GUILD_CATEGORY)if(m.type!==oe.d4z.GUILD_DIRECTORY){if(Je(this,m,S))g.push(m);else if(m.type===oe.d4z.GUILD_VOICE||m.type===oe.d4z.GUILD_STAGE_VOICE){null!=m.parent_id&&null!=c[m.parent_id]&&b.push(c[m.parent_id]);b.push(m)}
null!=m.parent_id&&m.parent_id in p?p[m.parent_id].push(m):f.push(m)}else null==l||l.hasFeature(oe.oNc.HUB)||O.push(m)}this.categories={};for(var I in p)this.categories[I]=new Ze(this,c[I],p[I],S);this.recentsSectionNumber=2;this.favoritesSectionNumber=Ne;this.noParentCategory=new Me(this,f,S);this.favoritesCategory=new Ue(this,S);this.recentsCategory=(0,d.gL)()?new xe(this,u,S):new ke(this,g,S);this.voiceChannelsCategory=new Fe(this,b,c,S);this.communitySection=new Ge(n,O.length>0);o()(!("null"in this.categories),"somehow a null got into categories");this.voiceChannelsSectionNumber=Re+a().size(this.categories)}var t=e.prototype;t.invalidate=function(){this.sections=null;this.rows=null;this.sortedNamedCategories=null;this.firstVoiceChannel=void 0;this.version++};t.getSortedNamedCategories=function(){null==this.sortedNamedCategories&&this.getRows();return this.sortedNamedCategories};t.getSortedCategories=function(){
return[this.favoritesCategory,this.recentsCategory,this.noParentCategory].concat(Se(this.getSortedNamedCategories()),[this.voiceChannelsCategory])};t.getSections=function(){null==this.sections&&(this.sections=this.getRows().map((function(e){return e.length})));return Se(this.sections)};t.getRows=function(){if(null==this.rows){this.sortedNamedCategories=a().sortBy(Object.values(this.categories),(function(e){return e.record.position}));this.rows=[this.communitySection,this.favoritesCategory,this.recentsCategory,this.noParentCategory].concat(Se(this.sortedNamedCategories),[this.voiceChannelsCategory]).map((function(e){return e.getRows()}));var e=0,t=!0,n=!1,r=void 0;try{for(var o,i=[this.noParentCategory].concat(Se(this.sortedNamedCategories))[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var u=o.value;u.position=++e;var l=!0,s=!1,c=void 0;try{for(var f,d=u.getShownChannelIds()[Symbol.iterator]();!(l=(f=d.next()).done);l=!0){var p=f.value;u.channels[p].position=++e}}catch(e){s=!0;c=e
}finally{try{l||null==d.return||d.return()}finally{if(s)throw c}}}}catch(e){n=!0;r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}}return this.rows};t.getCategoryFromSection=function(e){switch(e){case Ae:throw Error("Invalid section. Use getCommunitySection instead");case Ne:return this.favoritesCategory;case Pe:return this.noParentCategory;case this.recentsSectionNumber:return this.recentsCategory;case this.voiceChannelsSectionNumber:return this.voiceChannelsCategory;default:return this.getSortedNamedCategories()[e-Re]}};t.getNamedCategoryFromSection=function(e){e-=Re;o()(e>=0&&e<this.getSortedNamedCategories().length,"invalid section index ".concat(e));return this.getSortedNamedCategories()[e]};t.getCommunitySection=function(){return this.communitySection};t.getChannelFromSectionRow=function(e,t){var n=this.getCategoryFromSection(e);if(null==n)return null;var r=n.channels[n.getShownChannelIds()[t]];return null==r?null:{category:n,channel:r}}
;t.isPlaceholderRow=function(e,t){o()(e>Ae,"Invalid section");return e!==this.recentsSectionNumber&&this.getRows()[e][t]===Te};t.getFirstVoiceChannel=function(e){if(void 0===this.firstVoiceChannel){this.firstVoiceChannel=this.favoritesCategory.getFirstVoiceChannel(e);if(null!=this.firstVoiceChannel)return this.firstVoiceChannel;this.firstVoiceChannel=this.noParentCategory.getFirstVoiceChannel(e);if(null!=this.firstVoiceChannel)return this.firstVoiceChannel;var t=!0,n=!1,r=void 0;try{for(var o,i=this.getSortedNamedCategories()[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;if(null!=a.getFirstVoiceChannel(e)){this.firstVoiceChannel=a.getFirstVoiceChannel(e);break}}}catch(e){n=!0;r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}}return this.firstVoiceChannel};t.getSectionRowsFromChannel=function(e){if(function(e){if(null==e)return!1;return $e.has(e)}(e)){return[{row:this.getCommunitySection().getRows().indexOf(e),section:Ae}]}var t=[],n=y.Z.getChannel(e)
;if(null==n||null==e)return t;var r=n.isThread();r&&(n=y.Z.getChannel(n.parent_id));if(null==n)return t;var o=this.favoritesCategory.getShownChannelIds().indexOf(n.id);o>=0&&t.push({section:Ne,row:o});var i=this.recentsCategory.getShownChannelIds().indexOf(n.id);i>=0&&t.push({section:this.recentsSectionNumber,row:i});if(n.type===oe.d4z.GUILD_CATEGORY){var u=a().findIndex(this.getSortedNamedCategories(),(function(e){return e.id===(null==n?void 0:n.id)}));return[{section:u+Re}]}var l=this.getCategory(n),s=l instanceof Me?Pe:this.getSortedNamedCategories().indexOf(l)+Re,c=l.getShownChannelIds().indexOf(n.id);if(s>=0&&c>=0){var f=r?l.channels[n.id].threadIds.indexOf(e):0;t.push({section:s,row:c,threadOffset:f})}var d=this.voiceChannelsCategory.getShownChannelIds().indexOf(n.id);d>=0&&t.push({section:this.voiceChannelsSectionNumber,row:d});return t};t.getCategory=function(e){return null!=e.parent_id&&e.parent_id in this.categories?this.categories[e.parent_id]:this.noParentCategory}
;t.updateRecentsCategory=function(){var e=this.recentsCategory.updateAllChannels(this.initializationData);e&&this.invalidate();return e};t.nonPositionalChannelUpdate=function(e){var t=this.initializationData,n=this.getCategory(e).updateChannel(e,t);this.favoritesCategory.updateChannel(e,t)&&(n=!0);this.recentsCategory.updateChannel(e,t)&&(n=!0);this.voiceChannelsCategory.updateChannel(e,t)&&(n=!0);n&&this.invalidate();return n};t.getSlicedChannels=function(e,t){o()(e.length>0,"must have at least one channel in the slice");var n=e[0],r=e[e.length-1],i=!0,a=!1,u=[],l=[],s=!0,c=!1,f=void 0;try{for(var d,p=this.getSortedCategories()[Symbol.iterator]();!(s=(d=p.next()).done);s=!0){var h=d.value,E=(null==t?void 0:t.ignoreRecents)&&h===this.recentsCategory,y=!0,g=!1,v=void 0;try{for(var b,O=h.getShownChannelIds()[Symbol.iterator]();!(y=(b=O.next()).done);y=!0){var S=b.value,_=h.channels[S];i&&(_.id===n.id?i=!1:E||u.push(_));a&&!E&&l.push(_);i||a||_.id===r.id&&(a=!0)}}catch(e){g=!0;v=e
}finally{try{y||null==O.return||O.return()}finally{if(g)throw v}}}}catch(e){c=!0;f=e}finally{try{s||null==p.return||p.return()}finally{if(c)throw f}}return[u,e,l]};t.getChannels=function(e){var t=[];if(null==this.allChannelsById){this.allChannelsById={};var n=!0,r=!1,o=void 0;try{for(var i,a=this.getSortedCategories()[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value;for(var l in u.channels)this.allChannelsById[l]=u.channels[l]}}catch(e){r=!0;o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}}var s=!0,c=!1,f=void 0;try{for(var d,p=e[Symbol.iterator]();!(s=(d=p.next()).done);s=!0){var h=d.value;null!=this.allChannelsById[h]&&t.push(this.allChannelsById[h])}}catch(e){c=!0;f=e}finally{try{s||null==p.return||p.return()}finally{if(c)throw f}}return t};t.updateSubtitles=function(e){var t=[];if(null!=e){var n=y.Z.getChannel(e)
;if(null!=n)if(n.id in this.favoritesCategory.channels)t=[this.favoritesCategory.channels[n.id]];else if(n.id in this.recentsCategory.channels)t=[this.recentsCategory.channels[n.id]];else{var r=this.getCategory(n);null!=r&&null!=r.channels[e]&&(t=[r.channels[e]])}}else t=a()(this.getSortedCategories()).map((function(e){return Object.values(e.channels)})).flatten().value();var o=!1;t.forEach((function(e){e.updateSubtitle()&&(o=!0)}));o&&this.version++;return o};t.forEachShownChannel=function(e,t){var n=!0,r=!1,o=void 0;try{for(var i,a=this.getSortedCategories()[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value;if(!(null==t?void 0:t.ignoreRecents)||u!==this.recentsCategory){var l=!0,s=!1,c=void 0;try{for(var f,d=u.getShownChannelIds()[Symbol.iterator]();!(l=(f=d.next()).done);l=!0){var p=f.value,h=u.channels[p];e(h.record);var E=!0,g=!1,v=void 0;try{for(var b,O=h.threadIds[Symbol.iterator]();!(E=(b=O.next()).done);E=!0){var S=b.value,_=y.Z.getChannel(S);null!=_&&e(_)}
}catch(e){g=!0;v=e}finally{try{E||null==O.return||O.return()}finally{if(g)throw v}}}}catch(e){s=!0;c=e}finally{try{l||null==d.return||d.return()}finally{if(s)throw c}}}}}catch(e){r=!0;o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}};t.forEachChannel=function(e,t){var n=!0,r=!1,o=void 0;try{for(var i,a=this.getSortedCategories()[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value;if(!(null==t?void 0:t.ignoreRecents)||u!==this.recentsCategory){var l=!0,s=!1,c=void 0;try{for(var f,d=u.getChannelRecords()[Symbol.iterator]();!(l=(f=d.next()).done);l=!0){e(f.value)}}catch(e){s=!0;c=e}finally{try{l||null==d.return||d.return()}finally{if(s)throw c}}}}}catch(e){r=!0;o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}};fe(e,[{key:"initializationData",get:function(){return{selectedChannel:y.Z.getChannel(g.Z.getChannelId()),selectedVoiceChannelId:g.Z.getVoiceChannelId(),activeJoinedRelevantThreads:B.Z.getActiveJoinedRelevantThreadsForGuild(this.id),
activeJoinedUnreadThreads:B.Z.getActiveJoinedUnreadThreadsForGuild(this.id)}}}]);return e}(),De=function(){function e(t){se(this,e);this.guild=t;this.isMuted=!1;this.isCollapsed=!1;this.position=-1;this.channels={};this.shownChannelIds=null}var t=e.prototype;t.updateChannel=function(e,t){if(e.id in this.channels&&this.channels[e.id].updateChannel(e,t)){this.invalidate();return!0}return!1};t.invalidate=function(){this.shownChannelIds=null};t.getRows=function(){var e=this.getShownChannelIds();return 0===e.length&&this.shouldShowEmptyCategory()?[Te]:e};t.shouldShowEmptyCategory=function(){return a().some(this.channels,(function(e){return e.renderLevel>=Ce.WouldShowIfUncollapsed}))};t.getShownChannelIds=function(){null==this.shownChannelIds&&(this.shownChannelIds=a()(this.channels).values().filter((function(e){return e.renderLevel===Ce.Show})).sortBy((function(e){var t=e.record;return t.isGuildVocal()?t.position+1e4:t.position})).map((function(e){return e.id})).value())
;return this.shownChannelIds};t.getShownChannelAndThreadIds=function(){var e=a()(this.channels).values().flatMap((function(e){return e.threadIds})).value();return this.getShownChannelIds().concat(e)};t.isEmpty=function(){return 0===this.getShownChannelIds().length};t.getChannelRecords=function(){return a()(this.channels).values().filter((function(e){return e.renderLevel>Ce.CannotShow})).map((function(e){return e.record})).value()};t.getFirstVoiceChannel=function(e){var t=!0,n=!1,r=void 0;try{for(var o,i=this.getShownChannelIds()[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;if(e&&this.channels[a].record.isGuildStageVoice())return this.channels[a];if(!e&&this.channels[a].record.isGuildVocal())return this.channels[a]}}catch(e){n=!0;r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return null};return e}(),Me=function(e){Ee(n,e);var t=Ie(n);function n(e,r,o){se(this,n);var i;(i=t.call(this,e)).channels=a()(r).map((function(e){return new He(i,e,o)
})).keyBy((function(e){return e.id})).value();return i}return n}(De),Ze=function(e){Ee(n,e);var t=Ie(n);function n(e,r,o,i){se(this,n);var a;(a=t.call(this,e)).record=r;a.id=r.id;a.isCollapsed=!0===e.collapsedCategoryIds[r.id];a.isMuted=e.mutedChannelIds.has(r.id);a.channels={};var u=!0,l=!1,s=void 0;try{for(var c,f=o[Symbol.iterator]();!(u=(c=f.next()).done);u=!0){var d=c.value;a.channels[d.id]=new He(le(a),d,i)}}catch(e){l=!0;s=e}finally{try{u||null==f.return||f.return()}finally{if(l)throw s}}return a}n.prototype.shouldShowEmptyCategory=function(){return!!pe(he(n.prototype),"shouldShowEmptyCategory",this).call(this)||!(!(Q.Z.can(ae.Pl.MANAGE_CHANNELS,this.record)&&Q.Z.can(ae.Pl.VIEW_CHANNEL,this.record)&&a().isEmpty(this.channels))||this.guild.optInEnabled&&!this.guild.optedInChannels.has(this.id))};return n}(De),Ue=function(e){Ee(n,e);var t=Ie(n);function n(e,r){se(this,n);var o,i;o=t.call(this,e);if(!e.optInEnabled)return ve(o)
;o.channels=a()(null!==(i=v.Z.getGuildFavorites(e.id))&&void 0!==i?i:[]).map((function(e){return y.Z.getChannel(e)})).filter($.lm).map((function(e){return new Ve(o,e,r)})).keyBy((function(e){return e.id})).value();var u=R.getSuggestedChannelId(e.id),l=y.Z.getChannel(u);null!=l&&null!=u&&(o.channels[u]=new Ve(le(o),l,ge(ye({},r),{activeJoinedRelevantThreads:{},activeJoinedUnreadThreads:{}})));return o}var r=n.prototype;r.updateChannel=function(e,t){var n=e.id in this.channels&&v.Z.isFavorite(e.guild_id,e.id),r=R.getSuggestedChannelId(e.guild_id);e.id===r&&!n&&(t=ge(ye({},t),{activeJoinedRelevantThreads:{},activeJoinedUnreadThreads:{}}));if(e.id in this.channels&&this.channels[e.id].updateChannel(e,t)){this.invalidate();return!0}if(e.id in this.channels&&e.id!==r&&!n){delete this.channels[e.id];this.invalidate();return!0}return!1};r.getFirstVoiceChannel=function(e){return null};return n}(De),xe=function(e){Ee(n,e);var t=Ie(n);function n(e,r,o){se(this,n);var i
;(i=t.call(this,e)).enabled=!1;i.isCollapsed=k.isCollapsed(e.id);i.enabled=!1;if(i.enabled){var a=!0,u=!1,l=void 0;try{for(var s,c=Object.values(r)[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var f=s.value;(0,V.vc)(f.type)&&!(0,V.Q5)(f.type)&&(i.channels[f.id]=new Ke(le(i),f,o))}}catch(e){u=!0;l=e}finally{try{a||null==c.return||c.return()}finally{if(u)throw l}}}return i}var r=n.prototype;r.shouldShowEmptyCategory=function(){return this.enabled&&this.isCollapsed&&pe(he(n.prototype),"shouldShowEmptyCategory",this).call(this)};r.updateAllChannels=function(e){var t=this;return Object.values(this.channels).reduce((function(n,r){return t.updateChannel(r.record,e)||n}),!1)};r.updateChannel=function(e,t){if(!this.enabled)return!1;if((0,V.Q5)(e.type)){var r=this.channels[e.parent_id];return null!=r&&this.updateShownChannelIds(r)}if(!(0,V.vc)(e.type))return!1;var o=pe(he(n.prototype),"updateChannel",this).call(this,e,t),i=this.channels[e.id];if(null==i){i=new Ke(this,e,t)
;this.channels[e.id]=i;this.invalidate();return!0}return this.updateShownChannelIds(i)||o};r.getFirstVoiceChannel=function(e){return null};r.getShownChannelIds=function(){if(null==this.shownChannelIds){var e=this.isCollapsed?Ce.Show:Ce.WouldShowIfUncollapsed;this.shownChannelIds=this.enabled?a()(this.channels).filter((function(t){return t.renderLevel>=e})).map((function(e){return[e.id,e.lastMessageTimestamp,e.renderLevel]})).filter((function(e){var t=Oe(e,3),r=t[1];return t[2]===Ce.Show||r>0&&Date.now()-r<n.MAX_TIMESTAMP_DELTA})).sortBy((function(e){var t=Oe(e,3);return-(t[1]-(t[2]===Ce.Show?0:ee.c))})).take(n.MAX_RECENT_CHANNELS).sortBy((function(e){return-Oe(e,2)[1]})).map((function(e){return Oe(e,1)[0]})).value():[]}return this.shownChannelIds};r.updateShownChannelIds=function(e){var t,r=this.isCollapsed?Ce.Show:Ce.WouldShowIfUncollapsed;if(null==this.shownChannelIds||e.renderLevel<r)return!1
;if(e.lastMessageTimestamp>(null===(t=this.channels[this.shownChannelIds[0]])||void 0===t?void 0:t.lastMessageTimestamp)){var o=this.shownChannelIds.indexOf(e.id);o>-1&&this.shownChannelIds.splice(o,1);this.shownChannelIds.splice(0,0,e.id);this.shownChannelIds.length>n.MAX_RECENT_CHANNELS&&(this.shownChannelIds=this.shownChannelIds.slice(0,n.MAX_RECENT_CHANNELS));return!0}return!1};return n}(De);xe.MIN_READABLE_CHANNELS=7;xe.MAX_RECENT_CHANNELS=10;xe.MAX_TIMESTAMP_DELTA=6048e5;var ke=function(e){Ee(n,e);var t=Ie(n);function n(e,r,o){se(this,n);var i;i=t.call(this,e);if(!e.optInEnabled)return ve(i);if(f.Z.isFullServerPreview(e.id))return ve(i);i.isCollapsed=!1;i.isMuted=!1;i.channels=a()(r).map((function(e){return new Ye(i,e,o)})).keyBy((function(e){return e.id})).value();return i}var r=n.prototype;r.updateAllChannels=function(e){var t=this,n=!1;Object.keys(this.channels).forEach((function(r){t.updateChannel(t.channels[r].record,e)&&(n=!0)}));return n};r.updateChannel=function(e,t){
var r=pe(he(n.prototype),"updateChannel",this).call(this,e,t);if(this.guild.optInEnabled){var o=this.channels[e.id],i=Je(this.guild,e,t);if(i&&null==o){this.channels[e.id]=new Ye(this,e,t);this.invalidate();return!0}if(!i&&null!=o){delete this.channels[e.id];this.invalidate();return!0}}return r};r.getFirstVoiceChannel=function(e){return null};r.getShownChannelIds=function(){if(null==this.shownChannelIds){var e=a()(this.channels).values().filter((function(e){return e.renderLevel===Ce.Show||e.renderLevel===Ce.WouldShowIfUncollapsed})).filter((function(e){return!e.record.isGuildVocal()})),t=e.sortBy((function(e){return e.record.position})).take(5).value(),n=e.filter((function(e){return e.renderLevel===Ce.Show})).value(),r=new Set(Se(n).concat(Se(t)));this.shownChannelIds=a()(Se(r)).sortBy((function(e){return e.record.position})).map((function(e){return e.id})).value()}return this.shownChannelIds};return n}(De);var Fe=function(e){Ee(n,e);var t=Ie(n);function n(e,r,o,i){se(this,n);var u
;(u=t.call(this,e)).categoriesById=o;u.hiddenChannelIds=null;if(!e.optInEnabled)return ve(u);u.isCollapsed=ne.Z.isVoiceCategoryCollapsed(e.id);u.isMuted=!1;u.categoriesById=o;u.channels=a()(r).map((function(e){return new ze(u,e,i)})).keyBy((function(e){return e.id})).value();return u}var r=n.prototype;r.invalidate=function(){pe(he(n.prototype),"invalidate",this).call(this);this.hiddenChannelIds=null};r.getHiddenChannelIds=function(){if(!this.guild.optInEnabled)return[];if(null==this.hiddenChannelIds){var e=a()(this.channels).filter((function(e){return e.renderLevel===Ce.WouldShowIfUncollapsed})).value();if(e.every((function(e){return e.record.isCategory()}))){this.hiddenChannelIds=[];return this.hiddenChannelIds}this.hiddenChannelIds=e.map((function(e){return e.id}))}return this.hiddenChannelIds};r.getRows=function(){if(!this.guild.optInEnabled)return[];var e=this.getShownChannelIds();return 0===e.length&&this.getHiddenChannelIds().length>0?[Te]:e};r.getShownChannelIds=function(){
var e=this;if(!this.guild.optInEnabled)return[];if(null==this.shownChannelIds){var t=a()(this.channels).filter((function(e){return e.renderLevel===Ce.Show})).orderBy([function(t){return function(e,t){if(e.record.type===oe.d4z.GUILD_CATEGORY)return e.record.position;if(null!=e.record.parent_id){var n,r;return null!==(r=null===(n=t[e.record.parent_id])||void 0===n?void 0:n.position)&&void 0!==r?r:-1}return-1}(t,e.categoriesById)},function(e){return e.record.type===oe.d4z.GUILD_CATEGORY?-1:e.record.position}],["asc","asc"]).value();this.shownChannelIds=[];for(var n=0;n<t.length;n++){var r,o=t[n];n<t.length-1&&o.record.type===oe.d4z.GUILD_CATEGORY&&(null===(r=t[n+1])||void 0===r?void 0:r.record.type)===oe.d4z.GUILD_CATEGORY||(n===t.length-1&&o.record.type===oe.d4z.GUILD_CATEGORY||this.shownChannelIds.push(o.id))}}return this.shownChannelIds};r.getFirstVoiceChannel=function(e){return null};return n}(De),Ge=function(){function e(t,n){se(this,e);this.communityRows=t.map(String)
;n&&this.communityRows.push(String(re.f.GUILD_DIRECTORY))}var t=e.prototype;t.isEmpty=function(){return 0===this.communityRows.length};t.getRows=function(){return this.communityRows};t.getRow=function(e){return this.communityRows[e]};return e}(),Be=function(){function e(t,n,r){se(this,e);this.category=t;this.record=n;this.position=-1;this.threadIds=[];this.threadCount=0;this.subtitle=null;this.renderLevel=Ce.CannotShow;this.id=n.id;var o=this.computeState(r),i=o.renderLevel,u=o.threadIds;this.renderLevel=i;this.threadCount=a().size(u);this.threadIds=u;i===Ce.Show&&(this.subtitle=this.computeSubtitle())}var t=e.prototype;t.updateChannel=function(e,t){var n=!1;if(null!=e&&e!==this.record){this.record=e;n=!0}var r=this.computeState(t);if(r.renderLevel!==this.renderLevel||!a().isEqual(r.threadIds,this.threadIds)){this.renderLevel=r.renderLevel;this.threadIds=r.threadIds;this.threadCount=a().size(r.threadIds);n=!0}this.renderLevel===Ce.Show&&this.updateSubtitle()&&(n=!0);return n}
;t.updateSubtitle=function(){var e=this.computeSubtitle();if(a().isEqual(this.subtitle,e))return!1;this.subtitle=e;return!0};t.computeSubtitle=function(){return We(this.record,this.isCollapsed||this.category.isCollapsed,this.category.guild.optInEnabled)};fe(e,[{key:"isMuted",get:function(){return this.category.guild.mutedChannelIds.has(this.id)}},{key:"isCollapsed",get:function(){return K.Z.isCollapsed(this.id)}},{key:"isFirstVoiceChannel",get:function(){return this.category.getFirstVoiceChannel()===this}},{key:"lastMessageTimestamp",get:function(){var e;return(e=Math).max.apply(e,[q.ZP.lastMessageTimestamp(this.id)].concat(Se(this.threadIds.map(q.ZP.lastMessageTimestamp))))}}]);return e}(),He=function(e){Ee(n,e);var t=Ie(n);function n(){se(this,n);return t.apply(this,arguments)}n.prototype.computeState=function(e){var t=e.selectedChannel,n=e.selectedVoiceChannelId,r=e.activeJoinedRelevantThreads,o=e.activeJoinedUnreadThreads,i=[];if(!Q.Z.can(ae.Pl.VIEW_CHANNEL,this.record)){
if(this.id===n)return{renderLevel:Ce.Show,threadIds:i};if(!l.Z.isChannelGatedAndVisible(this.record.guild_id,this.record.id))return{renderLevel:Ce.CannotShow,threadIds:i}}var u=this.record.parent_id,s=this.category.guild;if(qe(s,this.record))return{renderLevel:Ce.CannotShow,threadIds:i};var c,f=(null==t?void 0:t.id)===this.id||n===this.id,d=null!=t&&t.isThread()&&t.parent_id===this.id,p=null!==(c=f||d||!this.category.isCollapsed&&!this.isMuted?r[this.id]:o[this.id])&&void 0!==c?c:{};i=Qe(this.record,p,t,n,s.hideMutedChannels);if(s.optInEnabled&&s.hideResourceChannels&&this.record.hasFlag(ie.zZ.IS_GUILD_RESOURCE_CHANNEL))return{renderLevel:f?Ce.Show:Ce.CannotShow,threadIds:i};if(s.optInEnabled&&!s.optedInChannels.has(this.id)&&(null==u||!s.optedInChannels.has(u)))return{renderLevel:Ce.DoNotShow,threadIds:i};if(f||d||!a().isEmpty(i)||q.ZP.getMentionCount(this.id)>0)return{renderLevel:Ce.Show,threadIds:i};if(s.hideMutedChannels&&s.mutedChannelIds.has(this.id))return{
renderLevel:Ce.DoNotShow,threadIds:i};if(this.category.isCollapsed){if(s.mutedChannelIds.has(this.id)||null!=u&&s.mutedChannelIds.has(u))return{renderLevel:Ce.WouldShowIfUncollapsed,threadIds:i};if(this.record.isGuildVocal()||this.record.type===oe.d4z.GUILD_STORE)return{renderLevel:Ce.WouldShowIfUncollapsed,threadIds:i};if((0,V.vc)(this.record.type)&&!1===q.ZP.hasRelevantUnread(this.record))return{renderLevel:Ce.WouldShowIfUncollapsed,threadIds:i}}return{renderLevel:Ce.Show,threadIds:i}};return n}(Be),Ve=function(e){Ee(n,e);var t=Ie(n);function n(){se(this,n);return t.apply(this,arguments)}n.prototype.computeState=function(e){var t,n=e.selectedChannel,r=e.selectedVoiceChannelId,o=e.activeJoinedRelevantThreads;return Q.Z.can(ae.Pl.VIEW_CHANNEL,this.record)?{renderLevel:Ce.Show,threadIds:Qe(this.record,null!==(t=o[this.id])&&void 0!==t?t:{},n,r,!1)}:{renderLevel:Ce.CannotShow,threadIds:[]}};return n}(Be),Ye=function(e){Ee(n,e);var t=Ie(n);function n(){se(this,n)
;return t.apply(this,arguments)}n.prototype.computeState=function(e){var t,n=e.selectedChannel,r=e.selectedVoiceChannelId,o=e.activeJoinedRelevantThreads;return Q.Z.can(ae.Pl.VIEW_CHANNEL,this.record)?{renderLevel:Xe(this,e)?Ce.Show:Ce.WouldShowIfUncollapsed,threadIds:Qe(this.record,null!==(t=o[this.id])&&void 0!==t?t:{},n,r,!1)}:{renderLevel:Ce.CannotShow,threadIds:[]}};return n}(Be),Ke=function(e){Ee(n,e);var t=Ie(n);function n(){se(this,n);return t.apply(this,arguments)}n.prototype.computeState=function(e){var t=pe(he(n.prototype),"computeState",this).call(this,e),r=t.renderLevel,o=t.threadIds;if(r>Ce.CannotShow){var i=this.record.parent_id,u=this.category.guild;u.mutedChannelIds.has(this.id)||null!=i&&u.mutedChannelIds.has(i)?r=Ce.DoNotShow:(r===Ce.Show||r===Ce.DoNotShow&&Je(this.category.guild,this.record,e))&&(r=Ce.WouldShowIfUncollapsed);r===Ce.WouldShowIfUncollapsed&&Xe(this,e)&&(r=Ce.Show);o=a().sortBy(o,(function(e){return-q.ZP.lastMessageTimestamp(e)}))}return{renderLevel:r,
threadIds:o}};return n}(He),ze=function(e){Ee(n,e);var t=Ie(n);function n(){se(this,n);return t.apply(this,arguments)}var r=n.prototype;r.getRenderLevel=function(e){var t=this.category.guild;return Q.Z.can(ae.Pl.VIEW_CHANNEL,this.record)?e===Ce.Show||e===Ce.WouldShowIfUncollapsed||qe(t,this.record)?Ce.CannotShow:this.category.isCollapsed?a().some(X.Z.getVoiceStatesForChannel(this.record.id))?Ce.Show:Ce.WouldShowIfUncollapsed:Ce.Show:Ce.CannotShow};r.computeState=function(e){var t=pe(he(n.prototype),"computeState",this).call(this,e),r=this.getRenderLevel(t.renderLevel);r===Ce.Show&&(this.subtitle=We(this.record,this.isCollapsed||this.category.isCollapsed,this.category.guild.optInEnabled));return{threadIds:[],renderLevel:r}};return n}(He);function We(e,t,n){if(e.type===oe.d4z.GUILD_VOICE){var r=c.ZP.getActiveEventByChannel(e.id);if(null!=r)return{type:"event",name:r.name};var o=J.ZP.getVoiceStatesForChannel(e);if(n&&t&&(0,te.a)(o))return{type:"go-live"}
;var i=u.ZP.getEmbeddedActivitiesForChannel(e.id),a=(null!=i?i:[]).map((function(e){var t;return null===(t=z.Z.getGame(e.application_id))||void 0===t?void 0:t.name})).filter($.lm);return a.length>0?{type:"embedded-activities",name:a.join(", ")}:""!==e.topic?{type:"voice",text:e.topic}:null}return null}function Qe(e,t,n,r,o){var i=null!=n&&(n.id===e.id||r===e.id),u=null!=n&&n.isThread()&&n.parent_id===e.id;if(V.uC.has(e.type)){var l=a().sortBy(Object.values(t),(function(e){return-e.joinTimestamp})).map((function(e){return e.channel.id}));if(i)return l;if(u){n.id in t||l.unshift(n.id);return l}return o?l.filter((function(e){return!H.Z.isMuted(e)})):l}return[]}function qe(e,t){return e.favoriteChannelIds.has(t.id)&&(e.optInEnabled||!1)}function Xe(e,t){var n=t.selectedChannel,r=t.activeJoinedRelevantThreads;if(q.ZP.getMentionCount(e.id)>0)return!0;for(var o in r[e.id])if(q.ZP.getMentionCount(o)>0)return!0;if(null!=n){if(n.id===e.id)return!0;if(n.isThread()&&n.parent_id===e.id)return!0}
var i=G.Z.getNewChannelIds(e.category.guild.id);return!(i.size>2)&&!!i.has(e.id)}function Je(e,t,n){var r=n.selectedChannel,o=n.activeJoinedRelevantThreads;if(t.type===oe.d4z.GUILD_DIRECTORY)return!1;if(!e.optInEnabled)return!1;if(t.isGuildVocal())return!1;if(e.optedInChannels.has(t.id))return!1;if(t.isThread())return!1;if(null!=t.parent_id&&e.optedInChannels.has(t.parent_id))return!1;if(e.hideResourceChannels&&t.hasFlag(ie.zZ.IS_GUILD_RESOURCE_CHANNEL))return!1;if(null!=r&&!(0,p.cn)()){if(r.id===t.id)return!0;if(r.isThread()&&r.parent_id===t.id)return!0}if(q.ZP.getMentionCount(t.id)>0)return!0;var i=G.Z.getNewChannelIds(e.id);if(i.has(t.id)&&i.size<=2)return!0;for(var a in o[t.id]){if(q.ZP.getMentionCount(a)>0)return!0;if(q.ZP.hasUnread(a))return!0;if(q.ZP.hasRecentlyVisitedAndRead(a))return!0}return!(e.mutedChannelIds.has(t.id)||null!=t.parent_id&&e.mutedChannelIds.has(t.parent_id))&&!!q.ZP.hasRecentlyVisitedAndRead(t.id)}var $e=new Set(Object.values(re.f))},978868:(e,t,n)=>{
"use strict";n.d(t,{Z:()=>W});var r=n(496486),o=n.n(r),i=n(202351),a=n(744564),u=n(258104),l=n(747820),s=n(269300),c=n(18882),f=n(487685),d=n(473419),p=n(736818),h=n(968968),E=n(61209),y=n(996077),g=n(959207),v=n(682776),b=n(717091),O=n(715107),S=n(9430),_=n(72580),m=n(576122),I=n(131559);function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e){T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return T(e)}function A(e,t){return!t||"object"!==P(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function N(e,t){N=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return N(e,t)}var P=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1
;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=T(e);if(t){var o=T(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return A(this,n)}}var L=null,w=null,j=new m.ZP;function D(){var e=O.Z.getChannelId(),t=O.Z.getVoiceChannelId();L=e;w=t;return j.clear()}function M(e){var t=e.guild.id;return j.clearGuildId(t)}function Z(e){var t=e.channel.guild_id;return j.clearGuildId(t)}function U(e){var t=e.guildId;return j.clearGuildId(t)}function x(e){var t=e.channelId;return j.nonPositionalChannelIdUpdate(t)}function k(){return null!=L&&j.nonPositionalChannelIdUpdate(L)}function F(e){var t=e.channel;return j.nonPositionalChannelIdUpdate(t.id)}function G(e){var t=e.id;return j.nonPositionalChannelIdUpdate(t)}function B(){var e=O.Z.getChannelId(),t=O.Z.getVoiceChannelId(),n=L!==e||w!==t;if(!n)return!1
;o()([L,w,e,t]).uniq().forEach((function(e){null!=e&&j.nonPositionalChannelIdUpdate(e)&&(n=!0)}));L=e;w=t;return!0}function H(e){var t=e.id,n=E.Z.getChannel(t);return null==n?j.clearGuildId(t):j.clearGuildId(n.guild_id)}function V(e){var t=e.guildId;return j.clearGuildId(t)}function Y(){return j.updateSubtitles()}function K(e){var t=e.guildScheduledEvent;return j.updateSubtitles(t.guild_id)}var z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&N(e,t)}(n,e);var t=R(n);function n(){C(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(c.Z,p.default,h.Z,E.Z,y.Z,u.ZP,g.Z,l.Z,s.ZP,f.Z,v.Z,b.ZP,O.Z,S.Z,d.Z)};r.getGuild=function(e,t){var n=j.getGuild(e,t);return{guildChannelsVersion:n.version,guildChannels:n}};r.getGuildWithoutChangingCommunityRows=function(e){
var t=j.getGuildWithoutCommunityRows(e);return{guildChannelsVersion:t.version,guildChannels:t}};r.recentsChannelCount=function(e){if(null==e)return 0;var t=j.getGuildWithoutCommunityRows(e);return t.getCategoryFromSection(t.recentsSectionNumber).getShownChannelIds().length};r.__getLocalVars=function(){return{lastSelectedChannelId:L,lastSelectedVoiceChannelId:w,state:j}};return n}(i.ZP.Store);z.displayName="ChannelListStore";const W=new z(a.Z,{APPLICATION_FETCH_FAIL:Y,APPLICATION_FETCH_SUCCESS:Y,APPLICATION_FETCH:Y,APPLICATIONS_FETCH_FAIL:Y,APPLICATIONS_FETCH_SUCCESS:Y,APPLICATIONS_FETCH:Y,BACKGROUND_SYNC:D,BULK_ACK:function(e){var t=e.channels,n=!1;o()(t).map((function(e){var t;return null===(t=E.Z.getChannel(e.channelId))||void 0===t?void 0:t.guild_id})).filter(_.lm).uniq().forEach((function(e){j.clearGuildId(e)&&(n=!0)}));return n},CACHE_LOADED_LAZY:D,CATEGORY_COLLAPSE_ALL:U,CATEGORY_COLLAPSE:H,CATEGORY_EXPAND_ALL:U,CATEGORY_EXPAND:H,CHANNEL_ACK:x,CHANNEL_CREATE:Z,
CHANNEL_COLLAPSE:function(e){var t,n=e.channelId;return j.clearGuildId(null===(t=E.Z.getChannel(n))||void 0===t?void 0:t.guild_id)},CHANNEL_DELETE:Z,CHANNEL_LOCAL_ACK:x,CHANNEL_RTC_UPDATE_CHAT_OPEN:x,CHANNEL_SELECT:B,CHANNEL_UPDATES:function(e){var t=e.channels,n=!1;o()(t).map((function(e){return e.guild_id})).uniq().forEach((function(e){j.clearGuildId(e)&&(n=!0)}));return n},CONNECTION_OPEN_SUPPLEMENTAL:Y,CONNECTION_OPEN:D,CURRENT_USER_UPDATE:D,DECAY_READ_STATES:D,DEV_TOOLS_DESIGN_TOGGLE_SET:D,DISABLE_AUTOMATIC_ACK:x,DRAWER_CLOSE:k,DRAWER_OPEN:k,EMBEDDED_ACTIVITY_INBOUND_UPDATE:function(e){var t=e.guildId,n=e.channelId;return j.updateSubtitles(t,n)},EMBEDDED_ACTIVITY_LAUNCH_SUCCESS:Y,EMBEDDED_ACTIVITY_LAUNCH_START:Y,ENABLE_AUTOMATIC_ACK:x,FETCH_GUILD_EVENTS_FOR_GUILD:function(e){var t=e.guildId;return j.updateSubtitles(t)},GAMES_DATABASE_FETCH_FAIL:Y,GAMES_DATABASE_FETCH:Y,GAMES_DATABASE_UPDATE:Y,GUILD_APPLICATIONS_FETCH_SUCCESS:Y,GUILD_CREATE:M,GUILD_DELETE:M,
GUILD_MEMBER_UPDATE:function(e){var t=e.guildId,n=e.user;return p.default.getId()===n.id&&j.clearGuildId(t)},GUILD_ROLE_CREATE:U,GUILD_ROLE_DELETE:U,GUILD_ROLE_UPDATE:U,GUILD_SCHEDULED_EVENT_CREATE:K,GUILD_SCHEDULED_EVENT_DELETE:K,GUILD_SCHEDULED_EVENT_UPDATE:K,GUILD_TOGGLE_COLLAPSE_MUTED:U,GUILD_UPDATE:M,GUILD_FEED_FETCH_SUCCESS:Y,LOAD_MESSAGES_SUCCESS:x,MESSAGE_ACK:x,MESSAGE_CREATE:function(e){var t=e.channelId;return j.nonPositionalChannelIdUpdate(t)},MESSAGE_DELETE_BULK:x,MESSAGE_DELETE:x,OVERLAY_INITIALIZE:D,PASSIVE_UPDATE_V1:function(e){if(null!=e.channels){j.clearGuildId(e.guildId);return!0}return!1},RESORT_THREADS:x,THREAD_CREATE:F,THREAD_DELETE:function(e){var t=e.channel;return j.nonPositionalChannelUpdate(t)},THREAD_LIST_SYNC:U,THREAD_MEMBER_UPDATE:G,THREAD_MEMBERS_UPDATE:G,THREAD_UPDATE:F,UPDATE_CHANNEL_DIMENSIONS:x,USER_GUILD_SETTINGS_CHANNEL_UPDATE:U,USER_GUILD_SETTINGS_CHANNEL_UPDATE_BULK:U,USER_GUILD_SETTINGS_FULL_UPDATE:function(e){
e.userGuildSettings.forEach((function(e){var t=e.guild_id;return j.clearGuildId(t)}))},USER_GUILD_SETTINGS_GUILD_UPDATE:U,USER_GUILD_SETTINGS_GUILD_AND_CHANNELS_UPDATE:U,IMPERSONATE_STOP:U,IMPERSONATE_UPDATE:U,VOICE_CATEGORY_COLLAPSE:V,VOICE_CATEGORY_EXPAND:V,VOICE_CHANNEL_SELECT:B,VOICE_STATE_UPDATES:function(e){var t=e.voiceStates,n=B(),r=new Set,o=!0,i=!1,a=void 0;try{for(var u,l=t[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var s=u.value,c=s.channelId,f=s.oldChannelId;if(null!=f&&!r.has(f)){j.nonPositionalChannelIdUpdate(f)&&(n=!0);r.add(f)}if(null!=c&&!r.has(c)){j.nonPositionalChannelIdUpdate(c)&&(n=!0);r.add(c)}}}catch(e){i=!0;a=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}return n},WINDOW_FOCUS:k,DISMISS_FAVORITE_SUGGESTION:function(e){var t=e.channelId;return j.nonPositionalChannelIdUpdate(t)},SET_RECENTLY_ACTIVE_COLLAPSED:D,BULK_CLEAR_RECENTS:U,USER_SETTINGS_PROTO_UPDATE:function(e){var t,n=e.settings;if(n.type!==I.yP.PRELOADED_USER_SETTINGS)return!1
;var r=null===(t=n.proto.guilds)||void 0===t?void 0:t.guilds,o=!1;null!=r&&Object.keys(r).forEach((function(e){null!=r[e].guildRecentsDismissedAt&&(o=j.updateRecentsCategory(e)||o)}));return o},GUILD_ROLE_SUBSCRIPTIONS_FETCH_RESTRICTIONS_SUCCESS:U,GUILD_ROLE_SUBSCRIPTIONS_FETCH_RESTRICTIONS_FAILURE:U})},627001:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(202351),o=n(744564);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return a(e)}function u(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var s=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function c(e){
var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=a(e);if(t){var o=a(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}var f={};function d(e){var t=e.guildId;e.expand?f[t]=!0:delete f[t]}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&l(e,t)}(n,e);var t=c(n);function n(){i(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(e){f=null!=e?e:{}};r.isVoiceCategoryExpanded=function(e){var t;return null!==(t=null!=e&&f[e])&&void 0!==t&&t};r.isVoiceCategoryCollapsed=function(e){
return!this.isVoiceCategoryExpanded(e)};r.getState=function(){return f};r.__getLocalVars=function(){return{expandedVoiceCategories:f}};return n}(r.ZP.PersistedStore);p.displayName="ChannelListVoiceCategoryStore";p.persistKey="ChannelListVoiceCategoryStore";const h=new p(o.Z,{VOICE_CATEGORY_COLLAPSE:d,VOICE_CATEGORY_EXPAND:d})},4207:(e,t,n)=>{"use strict";n.d(t,{o:()=>L,t:()=>w});var r=n(667294),o=n(496486),i=n.n(o),a=n(418705),u=n(258104),l=n(419051),s=n(962584),c=n(269300),f=n(18882),d=n(487685),p=n(382060),h=n(968968),E=n(61209),y=n(996077),g=n(959207),v=n(682776),b=n(717091),O=n(715107),S=n(9430),_=n(72580),m=n(576122),I=n(485911),C=n(520453);function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{
for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){u=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||P(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e){return function(e){if(Array.isArray(e))return T(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||P(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){if(e){if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?T(e,t):void 0}}var R=[u.ZP,l.Z,c.ZP,f.Z,d.Z,h.Z,E.Z,g.Z,v.Z,b.ZP,O.Z,S.Z];function L(){var e=A(r.useState((function(){return w()})),2),t=e[0],n=e[1];r.useEffect((function(){var e=i().throttle((function(){return n(w())}),100);R.forEach((function(t){return t.addChangeListener(e)}));return function(){return R.forEach((function(t){return t.removeChangeListener(e)}))}}),[]);return t}function w(){var e=function(e,r){var a=r.isCollapsed,l=r.isMuted;return i()(e).map((function(e){if(!e.isPrivate()&&!v.Z.can(C.Pl.VIEW_CHANNEL,e))return null;var s,c=null!=o&&(o.id===e.id||u===e.id),d=null!=o&&o.isThread()&&o.parent_id===e.id,h=null!==(s=c||d||!a?f.Z.getActiveJoinedRelevantThreadsForParent(e.guild_id,e.id):f.Z.getActiveJoinedUnreadThreadsForParent(e.guild_id,e.id))&&void 0!==s?s:{},E=(0,m.zR)(e,h,o,u,n),g=y.Z.isCollapsed(e.id),O=S.Z.isChannelMuted(e.guild_id,e.id),_={id:e.id,record:e,
category:r,position:t[e.id].order,threadIds:E,threadCount:i().size(E),isCollapsed:g,isMuted:O,isFirstVoiceChannel:!1,subtitle:(0,m.Bz)(e,g,!1)};if(c||d||b.ZP.getMentionCount(e.id)>0)return _;if(n&&O)return null;if(a){if(O||l)return null;if((0,p.vc)(e.type)&&!1===b.ZP.hasRelevantUnread(e))return null}return _})).filter(_.lm).sortBy((function(e){var t=e.record;return t.isGuildVocal()?t.position+1e4:t.position})).value()},t=l.Z.getFavoriteChannels(),n=S.Z.isGuildCollapsed(I._),r=O.Z.getChannelId(),o=E.Z.getChannel(r),u=O.Z.getVoiceChannelId(),c=[],d={};for(var g in t){var T=t[g],A=E.Z.getChannel(T.id);if(null!=A&&T.type!==a.Dd.CATEGORY){var P=(0,s.r)(t,T,A);if(null!=T.parentId&&T.parentId in t){T.parentId in d||(d[T.parentId]=[]);d[T.parentId].push(P)}else c.push(P)}}var R=null,L={isMuted:!1,isCollapsed:!1,position:0,getChannelRecords:function(){return c},getShownChannelIds:function(){return c.map((function(e){return e.id}))},getShownChannelAndThreadIds:function(){
return c.map((function(e){return e.id}))},isEmpty:function(){return 0===c.length},get channelList(){null==R&&(R=e(c,this));return R}},w=i()(t).values().filter((function(e){return e.type===a.Dd.CATEGORY})).sortBy((function(e){return e.order})).map((function(t){var n,r=t.id,o=t.order,i=l.Z.getCategoryRecord(r),a=null!==(n=d[r])&&void 0!==n?n:[],u=S.Z.isChannelMuted(I._,r),s=h.Z.isCollapsed(r),c=null;return{isMuted:u,isCollapsed:s,record:i,id:r,position:o,getChannelRecords:function(){return a},getShownChannelIds:function(){return a.map((function(e){return e.id}))},getShownChannelAndThreadIds:function(){return a.map((function(e){return e.id}))},isEmpty:function(){return 0===a.length},get channelList(){null==c&&(c=e(a,this));return c}}})).value(),j={isEmpty:function(){return!0},getRows:function(){return[]},getRow:function(){return null}},D={id:I._,hideMutedChannels:n,favoritesSectionNumber:1,recentsSectionNumber:2,voiceChannelsSectionNumber:-999,getSections:function(){
return[0,0,0,L.channelList.length].concat(N(w.map((function(e){return Math.max(1,e.channelList.length)}))))},isPlaceholderRow:function(e,t){return!(e<m.wF||0!==t)&&0===w[e-m.wF].channelList.length},getCategoryFromSection:function(e){return e===m.wd?L:w[e-m.wF]},getNamedCategoryFromSection:function(e){return w[e-m.wF]},getChannelFromSectionRow:function(e,t){var n=this.getCategoryFromSection(e);return null==n||null==n.channelList[t]?null:{category:n,channel:n.channelList[t]}},getCommunitySection:function(){return j},getFirstVoiceChannel:function(){return null},getSectionRowsFromChannel:function(e){for(var t=[L].concat(N(w)),n=0;n<t.length;n++)for(var r=0;r<t[n].channelList.length;r++)if(t[n].channelList[r].id===e)return[{section:n+m.wd,row:r}];return[]},forEachShownChannel:function(e){var t=[L].concat(N(w)),n=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value,l=!0,s=!1,c=void 0;try{
for(var f,d=u.channelList[Symbol.iterator]();!(l=(f=d.next()).done);l=!0){var p=f.value;e(p.record);var h=!0,y=!1,g=void 0;try{for(var v,b=p.threadIds[Symbol.iterator]();!(h=(v=b.next()).done);h=!0){var O=v.value,S=E.Z.getChannel(O);null!=S&&e(S)}}catch(e){y=!0;g=e}finally{try{h||null==b.return||b.return()}finally{if(y)throw g}}}}catch(e){s=!0;c=e}finally{try{l||null==d.return||d.return()}finally{if(s)throw c}}}}catch(e){r=!0;o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}},getSlicedChannels:function(e){return[[],e,[]]},getChannels:function(){return[]}};return D}},966554:(e,t,n)=>{"use strict";n.d(t,{f:()=>r});var r;!function(e){e.GUILD_PREMIUM_PROGRESS_BAR="guild-premium-progress-bar";e.GUILD_SCHEDULED_EVENTS="guild-scheduled-events";e.GUILD_HUB_HEADER_OPTIONS="guild-hub-header-options";e.GUILD_FAVORITES="favorites";e.GUILD_CHANNEL_LIST_OPT_IN_NOTICE="guild-channel-list-opt-in-notice";e.GUILD_ROLE_SUBSCRIPTIONS="role-subscriptions"
;e.GUILD_MEMBER_APPLICATIONS="member-applications";e.GUILD_HOME="@home";e.CHANNELS_AND_ROLES="channels-and-roles";e.BROWSE_CHANNELS="browse-channels";e.GUILD_DIRECTORY="guild-directory";e.GUILD_NEW_MEMBER_ACTIONS_PROGRESS_BAR="guild-new-member-actions-progress-bar";e.GUILD_MOD_DASH_MEMBER_SAFETY="guild-mod-dash-member-safety"}(r||(r={}))},832748:(e,t,n)=>{"use strict";n.d(t,{Z:()=>A});var r=n(202351),o=n(630631),i=n(744564),a=n(52317),u=n(27851),l=n(567403),s=n(9430),c=n(661123),f=n(873936),d=n(998918),p=n(2590),h=n(131559);function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e){y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return y(e)}function g(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e,t){v=Object.setPrototypeOf||function(e,t){
e.__proto__=t;return e};return v(e,t)}var b=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}var S="guildUnreadsOverridesStorageKey",_="guildUnreadsEnabledStorageKey",m="guildUnreadsLastClearedStorageKey",I={guildUnreadsLastCleared:{}},C=I;var T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&v(e,t)}(n,e);var t=O(n);function n(){E(this,n)
;return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(e){this.waitFor(u.Z);C=null!=e?e:I;!function(){o.Z.remove(S);var e,t,n,r=null!==(e=C.guildUnreadsEnabled)&&void 0!==e?e:{},i=null!==(t=o.Z.get(_))&&void 0!==t?t:new Set;i.size>0&&i.forEach((function(e){r[e]=!0}));o.Z.remove(_);C.guildUnreadsLastCleared=null!==(n=o.Z.get(m))&&void 0!==n?n:{};o.Z.remove(m);var u={};Object.keys(r).map((function(e){var t=!0===r[e],n=s.Z.getGuildFlags(e);n=(0,c.mB)(n,h.vc.UNREADS_MENTIONS_AND_HIGHLIGHTS,t);n=(0,c.mB)(n,h.vc.UNREADS_ALL_MESSAGES,!t);u[e]={flags:n}}));Object.keys(u).length>0&&a.Z.saveUserGuildSettingsBulk(u);delete C.guildUnreadsEnabled}()};r.getState=function(){return C};r.getGuildUnreadsLastCleared=function(e){return C.guildUnreadsLastCleared[e]};r.__getLocalVars=function(){return{GUILD_UNREADS_OVERRIDES_STORAGE_KEY:S,GUILD_UNREADS_ENABLED_STORAGE_KEY:_,GUILD_UNREADS_LAST_CLEARED_STORAGE_KEY:m,initialState:I,state:C}};return n}(r.ZP.PersistedStore)
;T.displayName="GuildUnreadSettingsStore";T.persistKey="GuildUnreadSettingsStore";const A=new T(i.Z,{CONNECTION_OPEN:function(){if((0,d.kC)()){var e=l.Z.getGuilds(),t=u.Z.getMemberCounts();Object.values(e).map((function(e){var n=s.Z.getGuildFlags(e.id),r=(0,c.yE)(n,h.vc.UNREADS_MENTIONS_AND_HIGHLIGHTS),o=(0,c.yE)(n,h.vc.UNREADS_ALL_MESSAGES);if(!e.hasFeature(p.oNc.COMMUNITY)&&t[e.id]<200)r&&(0,f.EQ)(e.id,!1);else if(!r&&!o){s.Z.getMessageNotifications(e.id)===p.bL.ALL_MESSAGES&&e.defaultMessageNotifications!==p.bL.ALL_MESSAGES||(0,f.EQ)(e.id,!0)}}))}},GUILD_UNREADS_SET_LAST_CLEARED:function(e){var t=e.guildId;s.Z.isGuildUnreadSettingEnabled(t)&&(C.guildUnreadsLastCleared[t]=Date.now())}})},873936:(e,t,n)=>{"use strict";n.d(t,{MR:()=>s,EQ:()=>c,B1:()=>f});var r=n(744564),o=n(201459),i=n(9430),a=n(661123),u=n(736401),l=n(131559);function s(e,t,n){var r=i.Z.getGuildChannelFlags(e,t);r=(0,a.mB)(r,l.ic.UNREADS_ALL_MESSAGES,n===u.N.ALL_MESSAGES);r=(0,
a.mB)(r,l.ic.UNREADS_MENTIONS_AND_HIGHLIGHTS,n===u.N.MENTIONS_AND_HIGHLIGHTS);o.Z.updateChannelOverrideSettings(e,t,{flags:r})}function c(e,t){var n=i.Z.getGuildFlags(e);n=(0,a.mB)(n,l.vc.UNREADS_MENTIONS_AND_HIGHLIGHTS,t);n=(0,a.mB)(n,l.vc.UNREADS_ALL_MESSAGES,!t);o.Z.updateGuildNotificationSettings(e,{flags:n})}function f(e){r.Z.dispatch({type:"GUILD_UNREADS_SET_LAST_CLEARED",guildId:e})}},140567:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(785893),o=(n(667294),n(202351)),i=n(945460),a=n(380477),u=n(221921),l=n(440997),s=n(567403);function c(e){var t=e.channel,n=e.closePopout,c=e.onSelect,f=e.navId,d=e.label,p=e.location,h=e.includeGuildMute,E=(0,o.e7)([s.Z],(function(){return s.Z.getGuild(t.guild_id)})),y=(0,l.Z)(E);return(0,r.jsxs)(i.Menu,{navId:f,onClose:n,"aria-label":d,onSelect:c,children:[(0,r.jsx)(i.MenuGroup,{children:(0,a.ZP)(t,p)}),h?(0,r.jsx)(i.MenuGroup,{children:y}):null,(0,r.jsx)(i.MenuGroup,{children:(0,u.c)(t)})]})}},283099:(e,t,n)=>{"use strict";n.d(t,{Z:()=>ur,
O:()=>nr});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),u=n(289283),l=n(202351),s=n(153686),c=n(19585),f=n(739849),d=n(37163),p=n(823493),h=n.n(p),E=n(945460),y=n(790405),g=n(650332),v=n(347149),b=n(92150),O=n(770272),S=n(316878),_=n(396043),m=n(61209),I=n(5544),C=n(733300),T=n(715107),A=n(443812),N=n(930948),P=n(372185),R=n(206823),L=n(485486),w=n.n(L);function j(e,t){var n=e.children;return(0,r.jsx)("span",{className:t,children:n})}var D,M=n(2590);function Z(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var U=(Z(D={},b.Qe.FILTER,(function(e){return j(e,w().searchFilter)})),Z(D,b.Qe.ANSWER,(function(e){return j(e,w().searchAnswer)})),D);function x(e,t,n,r){t.findEntityRanges((function(t){var n=t.getEntity();return null!==n&&e.getEntity(n).getType()===r}),n)}function k(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[];Object.keys(e).forEach((function(n){var r=e[n];t.push({strategy:function(e,t,r){
return x(r,e,t,n)},component:U[r.componentType]})}));return t}var F=n(441143),G=n.n(F),B=n(496486),H=n.n(B),V=n(730381),Y=n.n(V),K=n(182569),z=n(473708),W=n(756002),Q=n.n(W);function q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function X(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function J(e){J=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return J(e)}function $(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function ee(e,t){
return!t||"object"!==ne(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function te(e,t){te=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return te(e,t)}var ne=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function re(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=J(e);if(t){var o=J(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ee(this,n)}}function oe(e){e.stopPropagation();e.preventDefault()}function ie(e,t,n){return{id:"".concat(e,"-").concat(t),role:"option",tabIndex:-1,"aria-selected":n}}var ae=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&te(e,t)}(n,e);var t=re(n);function n(){q(this,n);return t.apply(this,arguments)}var o=n.prototype;o.renderQuery=function(e){var t=this.props,n=t.query,o=t.navId,i=t.focusedIndex,u=t.onSelectQuery,l=t.onHighlightQuery,s=t.hideQuery;if(e||s)return null;var c=-1===i;return(0,r.jsxs)(E.Clickable,$(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){X(e,t,n[t])}))}return e}({className:a()(Q().queryContainer,X({},Q().focused,c))},ie(o,-1,c)),{onMouseEnter:l,onClick:u,children:[(0,r.jsx)("div",{className:Q().queryText,
children:z.Z.Messages.SEARCH_FOR_VALUE.format({value:n})}),(0,r.jsx)("div",{className:Q().queryShortcut,"aria-hidden":!0,children:(0,r.jsx)(E.KeyCombo,{shortcut:"return",dim:!0,className:Q().keyCombo})})]}))};o.renderResults=function(e){var t=this.props,n=t.numResults,r=t.renderNoResults,o=t.renderInitialState,i=t.renderResult,a=t.renderCustomResults;if(e)return o();if(0===n)return r();if(null!=i)return Array.from({length:n}).map((function(e,t){return i(t)}));if(null!=a)return a();throw new Error("SearchResultsPopout.renderResults: Flow should never allow this...")};o.render=function(){var e=this.props,t=e.query,n=e.focusedIndex,o=e.navId,i=e.width,a=""===t.trim();return(0,r.jsxs)("div",{className:Q().container,style:{width:i},onMouseDown:oe,role:"listbox",id:o,tabIndex:-1,"aria-activedescendant":"".concat(o,"-").concat(n),children:[this.renderQuery(a),this.renderResults(a)]})};return n}(o.PureComponent);ae.defaultProps={renderInitialState:function(){return null},hideQuery:!1,width:320
};const ue=ae;var le=n(773011),se=n(239813),ce=n(21372),fe=n(840922),de=n(744564),pe=n(456837),he=n(232334),Ee=n(504275),ye=n(607556),ge=n(749565),ve=n(793461),be=n(473903);function Oe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Se(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function _e(e){_e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return _e(e)}function me(e,t){return!t||"object"!==Ce(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ie(e,t){Ie=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Ie(e,t)}var Ce=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Te(e){var t=function(){
if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=_e(e);if(t){var o=_e(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return me(this,n)}}var Ae=new Set([M.aib.DMS]),Ne={},Pe={},Re=10;function Le(e){var t=e.searchId,n=e.query,r=e.mode,o=e.tokens,i=e.cursorScope,a=e.autocompletes,u=Pe[t];if(null==u){u={results:[],context:pe.Z.getSearchContext(we.bind(null,t))};Pe[t]=u}return{query:null!=n?n:"",mode:null!=r?r:{type:M.Sap.EMPTY,filter:null,token:null},tokens:null!=o?o:[],cursorScope:null!=i?i:null,autocompletes:null!=a?a:[]}}function we(e,t){var n=t.results,r=Pe[e],o=Ne[e];if(null!=r&&null!=o){var i=o.mode,a=i.type,u=i.filter;if(a!==M.Sap.EMPTY&&(a!==M.Sap.FILTER||u===M.dCx.FILTER_FROM||u===M.dCx.FILTER_MENTIONS)){var l=3
;o.mode.type===M.Sap.FILTER&&(l=Re);r.results=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Re;(e=e.reduce((function(e,t){var n=be.default.getUser(t.id);if(null==n)return e;e.push({id:n.id,text:ge.ZP.getUserTag(n),user:n});return e}),[])).length>t&&(e.length=t);return e}(n,l);var s=o.query,c=o.mode,f=o.tokens,d=o.cursorScope,p=o.autocompletes;p=Ze(e,c);Ne[e]=Le({searchId:e,query:s,mode:c,tokens:f,cursorScope:d,autocompletes:p});Ge.emitChange()}}}function je(e,t,n){var r,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Re;if(null==e||""===e)return null;var i=C.Z.getSearchType(n);if(i!==M.aib.GUILD||e!==M.dCx.FILTER_FROM&&e!==M.dCx.FILTER_MENTIONS){var a,u=null===(a=b.ZP[e])||void 0===a?void 0:a.getAutocompletions,l=(null!=t?t.getFullMatch():"").trim();r=null!=u?u(l,n,null!=o?o:Re):[]}else{var s=Pe[n];if(null==s)r=null;else{null!=t&&0!==t.getFullMatch().trim().length||(s.results=Ee.ZP.getRecentlyTalked(n,Re).map((function(e){var t=e.record;return{
user:t,text:ge.ZP.getUserTag(t)}})));r=s.results}}return null==r||0===r.length?null:{group:e,results:r}}function De(e){var t=(null!=e?e.getFullMatch():"").trim(),n=function(){var e,t=C.Z.getSearchType(),n=null!=t&&Ae.has(t),r=he.Z.get("enable_new_search")&&n;return Se(e={},M.dCx.FILTER_FROM,!ve.Z.hidePersonalInformation),Se(e,M.dCx.FILTER_MENTIONS,!ve.Z.hidePersonalInformation),Se(e,M.dCx.FILTER_HAS,!0),Se(e,M.dCx.FILTER_BEFORE,!0),Se(e,M.dCx.FILTER_AFTER,!0),Se(e,M.dCx.FILTER_ON,!0),Se(e,M.dCx.FILTER_IN,C.Z.getSearchType()===M.aib.GUILD),Se(e,M.dCx.FILTER_PINNED,!r),e}(),r=(0,b.nB)(t).filter((function(e){return n[e.token]}));return{group:M.rtL.SEARCH_OPTIONS,results:r}}function Me(e,t){var n=(null!=e?e.getFullMatch():"").trim(),r=[];if(null!=n&&""!==n){(function(e){var t=C.Z.getSearchType(e),n=[M.dCx.FILTER_HAS];if(!ve.Z.hidePersonalInformation){n.push(M.dCx.FILTER_FROM);n.push(M.dCx.FILTER_MENTIONS)}t===M.aib.GUILD&&n.push(M.dCx.FILTER_IN);return n})(t).forEach((function(n){
if(null!=n){var o=je(n,e,t,3);null!=o&&r.push(o)}}));r.push(function(e,t){var n=(null!=e?e.getFullMatch():"").trim();if(null!=n&&""!==n){var r,o,i,a=null===(r=b.ZP[M.dCx.FILTER_BEFORE])||void 0===r?void 0:r.getAutocompletions(n,t,1)[0],u=null===(o=b.ZP[M.dCx.FILTER_ON])||void 0===o?void 0:o.getAutocompletions(n,t,1)[0],l=null===(i=b.ZP[M.dCx.FILTER_AFTER])||void 0===i?void 0:i.getAutocompletions(n,t,1)[0];if(null==a)return null;var s=[a,u,l];return{group:M.rtL.DATES,results:s}}}(e,t))}(0,R.BU)(r)<5&&r.push(De(e));return r}function Ze(e,t){var n=[];if(t.type===M.Sap.FILTER)n.push(je(t.filter,t.token,e,Re));else if(t.type===M.Sap.FILTER_ALL)n=Me(t.token,e);else if(t.type===M.Sap.EMPTY){n.push(De(t.token));var r=C.Z.getSearchType(),o=null!=r&&Ae.has(r);he.Z.get("enable_new_search")&&o||n.push(function(e){if(ve.Z.hidePersonalInformation)return null;var t=C.Z.getHistory(e);return null==t?null:{group:M.rtL.HISTORY,results:t.map((function(e){return{text:e}}))}}(e))}return n}function Ue(){(0,
R.WU)()}function xe(e){var t=Ne[e];if(null!=t){var n=t.query,r=t.mode,o=t.tokens,i=t.cursorScope,a=t.autocompletes;Ne[e]=Le({searchId:e,query:n,mode:r,tokens:o,cursorScope:i,autocompletes:a.map((function(e){return(null==e?void 0:e.group)===M.rtL.HISTORY?null:e}))})}}function ke(){var e=C.Z.getCurrentSearchId();if(null!=e&&null!=Ne[e]){var t=Ne[e],n=t.query,r=t.mode,o=t.tokens,i=t.cursorScope;Ne[e]=Le({searchId:e,query:n,mode:r,tokens:o,cursorScope:i,autocompletes:Ze(e,r)})}}var Fe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Ie(e,t)}(n,e);var t=Te(n);function n(){Oe(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(ce.ZP,ve.Z)};r.getState=function(e){var t;return null!==(t=Ne[e])&&void 0!==t?t:Le({searchId:e})};r.__getLocalVars=function(){return{
SUPPORTS_NEW_SEARCH:Ae,results:Ne,userSearchContexts:Pe,MAX_FILTER_RESULTS:Re,MAX_GENERAL_RESULTS:3,instance:Ge}};return n}(l.ZP.Store);Fe.displayName="SearchAutocompleteStore";var Ge=new Fe(de.Z,{SEARCH_AUTOCOMPLETE_QUERY_UPDATE:function(e){var t,n,r=e.searchId,o=e.tokens,i=e.cursorScope,a=(0,R.cl)(o),u=(0,R.qc)(i,o),l=null!==(t=Ne[r])&&void 0!==t?t:{},s=Pe[r],c=!0;if(a!==l.query||null!=l.mode&&l.mode.filter!==u.filter){if(u.type===M.Sap.EMPTY||u.type===M.Sap.FILTER&&u.filter!==M.dCx.FILTER_FROM&&u.filter!==M.dCx.FILTER_MENTIONS){if(null!=s){s.context.clearQuery();s.results=[]}n=Ze(r,u)}else if(null!=s){var f=u.token;if(null!=f&&f.getFullMatch().trim().length>0){ye.Z.requestMembers(r,f.getFullMatch(),Re);s.context.setQuery(f.getFullMatch().trim(),{guild:r});n=l.autocompletes;c=!1}else{s.context.clearQuery();n=Ze(r,u)}}}else{n=l.autocompletes;c=!1}Ne[r]=Le({searchId:r,query:a,mode:u,tokens:o,cursorScope:i,autocompletes:n});return c},SEARCH_EDITOR_STATE_CLEAR:function(e){
var t=e.searchId,n=Pe[t];if(null!=n){n.context.destroy();n.results=[];delete Pe[t]}delete Ne[t]},CHANNEL_CREATE:Ue,CHANNEL_DELETE:Ue,STREAMER_MODE_UPDATE:ke,SEARCH_MODAL_OPEN:ke,SEARCH_SCREEN_OPEN:ke,SEARCH_CLEAR_HISTORY:function(e){var t=e.searchId;null!=t?xe(t):Object.keys(Ne).forEach(xe)},LOGOUT:function(){Object.keys(Ne).forEach(xe)}});const Be=Ge;var He=n(464187),Ve=n(771966),Ye=n(795909),Ke=n(813749),ze=n(348592),We=n(630701),Qe=n.n(We);function qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Xe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Je(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function $e(e){$e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return $e(e)}function et(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Je(e,t,n[t])}))}return e}function tt(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function nt(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e)
;for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function rt(e,t){return!t||"object"!==at(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ot(e,t){ot=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return ot(e,t)}function it(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){u=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return qe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var at=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function ut(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=$e(e);if(t){var o=$e(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return rt(this,n)}}var lt=Y()("2015-05-15").local(),st=(0,K.Un)({createPromise:function(){return Promise.resolve().then(n.bind(n,754065))},webpackId:754065});function ct(e){
var t=!0,n=e.trim();H()(b.ZP).forOwn((function(e){""!==e.key&&null!=e.key&&n===e.key&&(t=!1)}));return t}var ft,dt=function(e,t,n){var o=n.user,i=n.text;if(null==o)return(0,r.jsx)("strong",{children:i});var a,u,l,s=be.default.getUser(o.id),c=m.Z.getChannel(e),f=(null==c?void 0:c.isPrivate())?fe.Z.getNickname(o.id):null,d=null!==(u=null!==(a=ce.ZP.getNick(e,o.id))&&void 0!==a?a:f)&&void 0!==u?u:ge.ZP.getName(o),p=null!==(l=null==s?void 0:s.getAvatarURL(e,20))&&void 0!==l?l:o.getAvatarURL(null==c?void 0:c.guild_id,20);return[(0,r.jsx)("img",{alt:"",className:Qe().displayAvatar,src:p},"avatar-".concat(t,"-").concat(o.id)),(0,r.jsx)("span",{className:Qe().displayedNick,children:d},"display-nick-".concat(t,"-").concat(o.id)),(0,r.jsx)("span",{className:Qe().displayUsername,children:ge.ZP.getUserTag(o,{identifiable:ve.Z.enabled&&ve.Z.hidePersonalInformation?"never":"always"})},"display-username-".concat(t,"-").concat(o.id))]},pt=function(e,t,n){var o=n.channel,i=n.text;if(null==o)return(0,
r.jsx)("strong",{children:i});var a=m.Z.getChannel(o.parent_id),u=(0,se.KS)(o);return(0,r.jsxs)("div",{className:Qe().resultChannel,children:[null!=u?(0,r.jsx)(u,{className:Qe().searchResultChannelIcon}):null,(0,r.jsx)("strong",{children:(0,le.F6)(o,be.default,fe.Z)}),null!=a?(0,r.jsx)("span",{className:Qe().searchResultChannelCategory,children:(0,le.F6)(a,be.default,fe.Z)}):null]})},ht=function(e){var t,n,o=e.id,i=e.searchId,u=e.result,l=e.group,s=e.className,c=e.role,f=e.tabIndex,d=e["aria-selected"],p=e.onSelect,h=e.onFocus,y=e.showFilter,g=e.renderResult;if(y){var v,O;t=(0,r.jsx)("span",{className:Qe().filter,children:null!==(O=null===(v=b.ZP[l])||void 0===v?void 0:v.key)&&void 0!==O?O:"addme:"})}n=null!=g?g(i,l,u):(0,r.jsx)("strong",{children:u.text});return(0,r.jsxs)(E.Clickable,{tag:"li",className:a()(Qe().option,s),onClick:p,onFocus:h,id:o,role:c,tabIndex:f,"aria-selected":d,children:[t,n,(0,r.jsx)(Ye.Z,{className:Qe().plusIcon})]})},Et=function(e){return(0,
r.jsx)(ht,tt(et({},e),{className:Qe().user,renderResult:dt}))};var yt=(Je(ft={},M.dCx.FILTER_FROM,{titleText:function(){return z.Z.Messages.SEARCH_GROUP_HEADER_FROM},component:Et}),Je(ft,M.dCx.FILTER_MENTIONS,{titleText:function(){return z.Z.Messages.SEARCH_GROUP_HEADER_MENTIONS},component:Et}),Je(ft,M.dCx.FILTER_HAS,{titleText:function(){return z.Z.Messages.SEARCH_GROUP_HEADER_HAS}}),Je(ft,M.dCx.FILTER_FILE_TYPE,{titleText:function(){return z.Z.Messages.SEARCH_GROUP_HEADER_FILE_TYPE}}),Je(ft,M.dCx.FILTER_IN,{titleText:function(){return z.Z.Messages.SEARCH_GROUP_HEADER_CHANNELS},component:function(e){return(0,r.jsx)(ht,tt(et({},e),{renderResult:pt}))}}),Je(ft,M.rtL.DATES,{titleText:function(){return z.Z.Messages.SEARCH_GROUP_HEADER_DATES}}),Je(ft,M.rtL.HISTORY,{titleText:function(){return z.Z.Messages.SEARCH_GROUP_HEADER_HISTORY},groupTip:function(e){var t=e.searchId;return(0,r.jsx)(E.Tooltip,{text:z.Z.Messages.SEARCH_CLEAR_HISTORY,position:"left",children:function(e){
var n=e.onMouseEnter,o=e.onMouseLeave;return(0,r.jsx)(E.Clickable,{onClick:function(){return(0,y.QQ)(t)},onMouseEnter:n,onMouseLeave:o,className:Qe().searchClearHistory,title:z.Z.Messages.SEARCH_CLEAR_HISTORY,"aria-label":z.Z.Messages.SEARCH_CLEAR_HISTORY,children:(0,r.jsx)(Ke.Z,{})})}})},component:function(e){var t=e.onSelect,n=e.onFocus,i=e.result,u=(e.showFilter,e.searchId,e.renderResult,e.group,nt(e,["onSelect","onFocus","result","showFilter","searchId","renderResult","group"])),l="",s=o.useMemo((function(){return e=i.text,R.kG(e).map((function(e,t,n){return R.Fr(e,n[t+1])?e:new v.WU(e.getFullMatch(),v.Xe)}));var e}),[i.text]).map((function(e){var t=e.getFullMatch();if(""===t.trim())return null;var n,o=M.TNx.test(e.type),i=M.KA4.test(e.type),u=!o&&!i;l+=t;return(0,r.jsx)("span",{className:a()((n={},Je(n,Qe().filter,o),Je(n,Qe().answer,i),Je(n,Qe().nonText,u),n)),children:t},e.type+t)}));return(0,r.jsxs)(E.Clickable,tt(et({className:a()(Qe().option,Qe().history),onClick:t,onFocus:n
},u),{"aria-label":z.Z.Messages.SEARCH_FROM_SUGGESTIONS.format({suggestion:l}),children:[s,(0,r.jsx)(Ye.Z,{className:Qe().plusIcon})]}))}}),Je(ft,M.rtL.SEARCH_OPTIONS,{titleText:function(){return z.Z.Messages.SEARCH_GROUP_HEADER_SEARCH_OPTIONS},groupTip:function(){return(0,r.jsx)(E.Tooltip,{text:z.Z.Messages.LEARN_MORE,position:"left",children:function(e){return(0,r.jsx)("div",tt(et({className:Qe().searchLearnMore},e),{children:(0,r.jsx)(E.Anchor,{href:ze.Z.getArticleURL(M.BhN.USING_SEARCH),title:z.Z.Messages.LEARN_MORE,children:(0,r.jsx)(Ve.Z,{})})}))}})},component:function(e){var t,n=e.result,o=e.onSelect,i=e.onFocus,u=(e.showFilter,e.searchId,nt(e,["result","onSelect","onFocus","showFilter","searchId"])),l=R.Ko(null!==(t=n.token)&&void 0!==t?t:"");return(0,r.jsxs)(E.Clickable,tt(et({className:a()(Qe().option,Qe().searchOption),onClick:o,onFocus:i},u),{children:[(0,r.jsx)("span",{className:Qe().filter,children:n.text}),(0,r.jsx)("span",{className:a()(Je({},Qe().answer,l)),children:l
}),(0,r.jsx)(Ye.Z,{className:Qe().plusIcon})]}))}}),ft),gt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&ot(e,t)}(n,e);var t=ut(n);function n(){Xe(this,n);var e;(e=t.apply(this,arguments)).state={dateHint:(0,b.Pr)(),selectedIndex:-1};e.handleDateChange=function(t){e.setSearchQuery(t.format(M.b2L)+" ",!0)};e.keepCurrentOptionSelected=function(t,n){var r=e.state.selectedIndex,o=e.props,i=o.resultsState,a=o.totalResults,u=i.mode,l=i.autocompletes,s=t.resultsState;if(u.type!==s.mode.type)e.setSelectedIndex(-1);else if(n.selectedIndex>=0&&(n.selectedIndex===r||s.autocompletes.length!==l.length)){var c=R.zV(s.autocompletes,s.mode.type)[n.selectedIndex-1],f=R.zV(l,u.type).indexOf(c);-1!==f?e.setSelectedIndex(f):n.selectedIndex>=a&&e.setSelectedIndex(a-1)}};e.focusNextOption=function(){e.focusOtherOption(1)}
;e.focusPreviousOption=function(){e.focusOtherOption(-1)};e.focusOtherOption=function(t){var n=e.state.selectedIndex,r=e.props.resultsState;R.Fz(r.mode.filter)||e.focusOption(n+t)};e.focusOption=function(t){var n=t,r=e.props.resultsState.autocompletes,o=e.shouldShowSearchQuery();n<-1||!o&&n<0?n=R.BU(r)-1:o&&n>=R.BU(r)?n=-1:!o&&n>=R.BU(r)&&(n=0);e.setSelectedIndex(n)};e.selectOption=function(t){var n=t;null==n&&(n=e.state.selectedIndex);if(n<0)return!1;var r=e.props.resultsState,o=r.autocompletes,i=r.mode;if(!R.Fz(i.filter)){var a=R.zV(o,i.type);if(n>=a.length)return!1;var u=a[n],l=ct(u);e.setSearchQuery(u,l);return!0}};e.setSearchQuery=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.props.resultsState,o=r.mode,i=r.cursorScope,a=0;null!=o.token?a=o.token.start:null!=(null==i?void 0:i.currentToken)&&(a=i.currentToken.end);var u=null!=o.token?o.token.end:a;N.S.dispatch(M.CkL.SET_SEARCH_QUERY,{query:t,anchor:a,focus:u,performSearch:n});e.setSelectedIndex(-1)}
;e.shouldShowSearchQuery=function(){var t=e.props.resultsState.mode;return t.type!==M.Sap.FILTER&&t.type!==M.Sap.EMPTY&&!R.Fz(t.filter)};e.renderDatePicker=function(){return(0,r.jsxs)("div",{className:Qe().datePicker,children:[(0,r.jsx)(st,{onSelect:e.handleDateChange,maxDate:Y()().local(),minDate:lt}),(0,r.jsxs)("div",{className:Qe().datePickerHint,children:[(0,r.jsxs)("span",{className:Qe().hint,children:[z.Z.Messages.SEARCH_DATE_PICKER_HINT,""]}),(0,r.jsx)(E.Clickable,{tag:"span",className:Qe().hintValue,onClick:e.handleHintClick,children:e.state.dateHint})]})]})};e.handleHintClick=function(){e.setSearchQuery(e.state.dateHint,!0)};e.performSearch=function(){N.S.dispatch(M.CkL.PERFORM_SEARCH)};e.renderAutocompletes=function(){var t=e.state.selectedIndex,n=e.props,o=n.navId,i=n.searchId,a=e.props.resultsState,u=a.autocompletes,l=a.mode;if(R.Fz(l.filter))return e.renderDatePicker();var s=-1;return u.map((function(n){if(null==n||0===n.results.length)return null
;var a,u,c,f,d=null!==(a=yt[n.group])&&void 0!==a?a:{};if(null!=d.titleText){c="".concat(n.group,"-header");u=(0,r.jsx)("div",{id:c,className:Qe().header,children:d.titleText()})}var p,h=null!==(f=d.groupTip)&&void 0!==f?f:null,E=null!=h?(0,r.jsx)(h,{searchId:i}):null,y=null!==(p=d.component)&&void 0!==p?p:ht,g=l.type===M.Sap.FILTER_ALL||!1;return(0,r.jsxs)("ul",{role:"group","aria-labelledby":c,className:Qe().resultsGroup,children:[u,E,n.results.map((function(a){if(null==a||null==n)return null;var u,l,c=t===(s+=1);return(0,r.jsx)(y,et({searchId:i,group:null!==(u=a.group)&&void 0!==u?u:n.group,result:a,showFilter:g,onSelect:e.selectOption.bind(null,s),onFocus:e.focusOption.bind(null,s)},ie(o,s,c)),"".concat(n.group,"-").concat(a.text,"-").concat(null!==(l=a.key)&&void 0!==l?l:""))}))]},n.group)}))};return e}var o=n.prototype;o.componentDidUpdate=function(e,t){var n=this.props,r=n.resultsState,o=n.totalResults,i=r.mode,a=e.resultsState
;null!=i.filter&&null==a.mode.filter&&o>0?this.setSelectedIndex(0):i.type===M.Sap.FILTER_ALL&&a.mode.type!==i.type?this.setSelectedIndex(-1):this.keepCurrentOptionSelected(e,t)};o.setSelectedIndex=function(e){var t=this;this.setState({selectedIndex:e},(function(){return t.props.onSelectedIndexChanged(e)}))};o.render=function(){var e=this,t=this.state.selectedIndex,n=this.props,o=n.navId,i=n.resultsState,a=n.totalResults;return(0,r.jsx)(ue,{numResults:a,query:i.query,navId:o,hideQuery:!this.shouldShowSearchQuery(),focusedIndex:t,renderCustomResults:this.renderAutocompletes,renderInitialState:this.renderAutocompletes,onHighlightQuery:function(){return e.focusOption(-1)},onSelectQuery:this.performSearch,renderNoResults:function(){return null}})};return n}(o.PureComponent);const vt=o.forwardRef((function(e,t){var n=it((0,l.Wu)([He.Z,T.Z,Be],(function(){var e=He.Z.getGuildId(),t=T.Z.getChannelId(),n=null!=e?e:t;G()(null!=n,"SearchPopout.getStateFromStores - invalid searchId")
;var r=Be.getState(n);return[n,r,R.BU(r.autocompletes)]})),3),o=n[0],i=n[1],a=n[2];return(0,r.jsx)(gt,tt(et({},e),{searchId:o,resultsState:i,totalResults:a,ref:t}))}));var bt=n(966805),Ot=n.n(bt);n(517364);function St(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _t(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function mt(e){mt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return mt(e)}function It(e,t){return!t||"object"!==Tt(t)&&"function"!=typeof t?St(e):t}function Ct(e,t){Ct=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Ct(e,t)}var Tt=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function At(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1
;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=mt(e);if(t){var o=mt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return It(this,n)}}var Nt=512,Pt=(0,A.hQ)(),Rt=h()(y.yC,500),Lt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Ct(e,t)}(n,e);var t=At(n);function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var i;(i=t.call(this,e)).state={focused:!1,selectedIndex:void 0};i._searchBarRef=o.createRef();i._searchPopoutRef=o.createRef();i.handleSetSearchQuery=function(e){var t=e.query,n=e.anchor,r=e.focus,o=e.performSearch,a=e.replace,u=i.props.editorState,l=P.Sq(u)
;" "!==t.charAt(t.length-1)&&(t+=" ");null!=n&&0!==n&&" "!==l.charAt(n-1)&&" "!==t.charAt(0)&&(t=" "+t);if(a){u=P.c2(t,u);n=0}else u=P.x0(t,u,n,r);u=P.Hl(u,Nt);u=i.tokenize(u);var s=Number(n)+t.length;u=P.iK(s,u);i.setEditorState(u);o&&i.search(P.Sq(u))};i.handleSelectedIndexChanged=function(e){var t,n;null===(t=i._editorRef)||void 0===t||null===(n=t.editor)||void 0===n||n.setAttribute("aria-activedescendant",null!=e?"".concat(Pt,"-").concat(e):void 0);i.setState({selectedIndex:e})};i.renderPopout=function(){return(0,r.jsx)(vt,{ref:i._searchPopoutRef,navId:Pt,onSelectedIndexChanged:i.handleSelectedIndexChanged})};i.search=function(e){var t=i.props,n=t.searchId,r=t.isSearching;if(null==e||""===e){var o=i.props.editorState;e=P.Sq(o)}if(null!=n&&!r){for(var a=R.kG(e),u=R.$G(a),l=0;l<a.length;l++)R.Fr(a[l],a[l+1])||(e=e.substring(0,a[l].start)+e.substring(a[l].end));if(0===a.length||0===Object.keys(u).length)return!1;Rt(n,u,e);i.onBlur()}return!0};i.handleClearSearch=function(e){
var t=i.props.editorState,n=i.state.focused;e.preventDefault();e.stopPropagation();if(""!==P.Sq(t)){t=P.Hl(t,0);i.setEditorState(t);n||Promise.resolve().then((function(){return i.blurEditor()}))}else i.focusEditor()};i.handleFocusSearch=function(e){if(e.prefillCurrentChannel){var t=T.Z.getChannelId(),n=m.Z.getChannel(t);(null==n?void 0:n.isThread())&&(n=m.Z.getChannel(null==n?void 0:n.parent_id));if(null==n||n.isPrivate())i.focusEditor();else{var r=I.ZP.getTextChannelNameDisambiguations(n.getGuildId())[n.id],o=null!=r?r.name:n.name;i.handleSetSearchQuery({query:b.ZP[M.dCx.FILTER_IN].key+"#".concat(o," "),replace:!0})}}else i.focusEditor()};i.focusEditor=function(){var e=St(i)._editorRef;null!=e&&Promise.resolve().then((function(){return e.focus()}))};i.blurEditor=function(){var e;null===(e=i._editorRef)||void 0===e||e.blur()};i.setEditorRef=function(e){i._editorRef=e};i.onFocus=function(){var e=i.props.searchType;_.ZP.trackWithMetadata(M.rMx.SEARCH_OPENED,{search_type:e});i.setState({
focused:!0})};i.onBlur=function(){i.setState({focused:!1},(function(){P.xb(i.props.editorState)&&i.clearSearch()}))};i.handleReturn=function(e){e.preventDefault();var t=i._searchPopoutRef.current;null!=t&&t.selectOption()||i.search();return!0};i.handleBeforeInput=function(e){var t=i.props.editorState,n=i.state.focused;if(P.Sq(t).length>=Nt)return!0;t=P.x0(e,t);t=P.Hl(t,Nt);t=i.tokenize(t);i.setEditorState(t);n||i.setState({focused:!0});return!0};i.handleKeyCommand=function(e){var t=i.props.editorState,n=i.state.focused;switch(e){case"backspace":case"backspace-word":case"backspace-to-start-of-line":case"delete":case"delete-word":t=P.yd(e,t);t=i.tokenize(t);i.setEditorState(t);n||i.setState({focused:!0});return!0;case"transpose-characters":case"move-selection-to-start-of-block":case"move-selection-to-end-of-block":t=P.Zn(e,t);t=i.tokenize(t);i.setEditorState(t);return!0;case"split-block":case"underline":case"bold":case"italic":return!0}};i.handlePastedText=function(e){
var t=i.props.editorState,n=i.state.focused;e=null!=e?e.replace(/\n/g,""):"";t=P.x0(e,t);t=P.Hl(t,Nt);t=i.tokenize(t);n||i.setState({focused:!0});i.setEditorState(t);return!0};i.setEditorState=function(e){var t=i.props.searchId;y.j8(t,e)};i.handleKeyBind=function(e){var t=e.key,n=e.metaKey,r=e.shiftKey,o=i.props,a=o.editorState,u=o.searchId,l=o.keyboardModeEnabled;e.stopPropagation();if("Escape"===t){e.preventDefault();if(P.xb(a))i.blurEditor();else{var s=P.FZ(a);y.j8(u,s);i.setState({focused:!0})}return!0}if("ArrowUp"===t){e.preventDefault();var c=i._searchPopoutRef.current;null!=c&&c.focusPreviousOption();return!0}if("ArrowDown"===t){e.preventDefault();var f=i._searchPopoutRef.current;null!=f&&f.focusNextOption();return!0}if("Tab"===t){if(l)return;(0,O.Qj)();return!0}if("Home"===t||"ArrowLeft"===t&&n){e.preventDefault();a=r?P.R8(a):P.eE(a);i.setEditorState(a);return!0}if("End"===t||"ArrowRight"===t&&n){e.preventDefault();a=r?P.Wg(a):P.NJ(a);i.setEditorState(a);return!0}
if(("Delete"===t||"Backspace"===t)&&n){var d=P.FZ(a);i.setEditorState(d);return!0}return P.q0(e)};R.WU();return i}var i=n.prototype;i.componentDidMount=function(){var e,t;N.S.subscribe(M.CkL.PERFORM_SEARCH,this.search);N.S.subscribe(M.CkL.SET_SEARCH_QUERY,this.handleSetSearchQuery);N.S.subscribe(M.CkL.FOCUS_SEARCH,this.handleFocusSearch);null===(e=this._editorRef)||void 0===e||null===(t=e.editor)||void 0===t||t.setAttribute("aria-haspopup","listbox")};i.componentDidUpdate=function(e){var t=this.props,n=t.editorState,r=t.searchId;if(n!==e.editorState){var o=R.kG(P.Sq(n)),i=function(e,t){var n=t.getSelection(),r=n.focusOffset,o=n.anchorOffset;return(0,R.g9)(e,r,o)}(o,n);y.u$(r,o,i);null!=this._editorRef&&P.iE(this._editorRef.editor)}};i.componentWillUnmount=function(){N.S.unsubscribe(M.CkL.PERFORM_SEARCH,this.search);N.S.unsubscribe(M.CkL.SET_SEARCH_QUERY,this.handleSetSearchQuery);N.S.unsubscribe(M.CkL.FOCUS_SEARCH,this.handleFocusSearch)};i.tokenize=function(e){
var t=R.kG(P.Sq(e)).filter((function(e){return e.type!==v.ZP.NON_TOKEN_TYPE}));return P.lv(t,e,b.ZP)};i.clearSearch=function(){var e=this.props.searchId;null!=e&&y.qt(e)};i.handlePastedFiles=function(){return!0};i.handleDroppedFiles=function(){return!0};i.handleDrop=function(){return!0};i.renderInput=function(e){var t=this.props.editorState;return(0,r.jsx)(d.Editor,{autoCorrect:"off",ref:this.setEditorRef,onBlur:this.onBlur,onFocus:this.onFocus,handleReturn:this.handleReturn,handleBeforeInput:this.handleBeforeInput,handleKeyCommand:this.handleKeyCommand,handlePastedText:this.handlePastedText,handlePastedFiles:this.handlePastedFiles,handleDroppedFiles:this.handleDroppedFiles,handleDrop:this.handleDrop,keyBindingFn:this.handleKeyBind,placeholder:z.Z.Messages.SEARCH,editorState:t,onChange:this.setEditorState,role:"combobox",ariaExpanded:e,ariaControls:e?Pt:void 0,ariaLabel:z.Z.Messages.SEARCH,ariaAutocomplete:"list"})};i.render=function(){
var e=this,t=this.props,n=t.searchId,o=t.editorState,i=t.hasResults,u=t.className,l=this.state.focused,s=P.Sq(o).length>0;return null==n?null:(0,r.jsx)(E.Popout,{renderPopout:this.renderPopout,position:"bottom",animation:E.Popout.Animation.NONE,shouldShow:l,autoInvert:!1,children:function(t,o){var c,f,d=o.isShown;return(0,r.jsx)("div",{className:u,children:(0,r.jsx)("div",{className:a()(Ot().search,(f={},_t(f,Ot().open,s||l),_t(f,Ot().focused,l),f)),children:(0,r.jsx)(E.FocusRing,{focusTarget:{current:null===(c=e._editorRef)||void 0===c?void 0:c.editor},ringTarget:e._searchBarRef,children:(0,r.jsxs)("div",{className:Ot().searchBar,ref:e._searchBarRef,children:[e.renderInput(d),(0,r.jsx)(g.BK,{onClear:e.handleClearSearch,hasContent:s||i,className:Ot().icon})]},n)})})})}})};return n}(o.PureComponent);const wt=l.ZP.connectStores([S.Z,C.Z],(function(){
var e,t=C.Z.getCurrentSearchId(),n=C.Z.getSearchType(),r=null!=t&&C.Z.isSearching(t),o=null!=t&&null!==(e=C.Z.getEditorState(t))&&void 0!==e?e:P.nR(k(b.ZP)),i=S.Z.keyboardModeEnabled;return{searchId:t,searchType:n,isSearching:r,editorState:o,hasResults:C.Z.hasResults(t),keyboardModeEnabled:i}}))(Lt);var jt=n(373438),Dt=n(120415),Mt=n(310126),Zt=n(336194),Ut=n(384411),xt=n(652591),kt=new Set(["ko","ja"]);function Ft(){var e=(0,l.e7)([be.default],(function(){return be.default.getCurrentUser()})),t=(0,l.e7)([Ut.default],(function(){return Ut.default.locale})),n=(0,ge.EO)(e);return(0,r.jsx)(E.Anchor,{href:ze.w,target:"_blank",tabIndex:-1,children:(0,r.jsx)(jt.JO,{color:n?Zt.Z.unsafe_rawColors.GREEN_360.css:"currentColor",onClick:function(){return xt.default.track(M.rMx.HELP_CLICKED,{highlighted:n})},icon:Ve.Z,tooltipPosition:kt.has(t)?"left":void 0,tooltip:z.Z.Messages.HELP})})}var Gt=n(320142),Bt=n(762308),Ht=n(84841),Vt=n(562545),Yt=n(154232),Kt=n(824456);function zt(e,t){
(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wt(e,t,n,r,o,i,a){try{var u=e[i](a),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,o)}function Qt(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Wt(i,r,o,a,u,"next",e)}function u(e){Wt(i,r,o,a,u,"throw",e)}a(void 0)}))}}function qt(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Xt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){qt(e,t,n[t])}))}return e}function Jt(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){
var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function $t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){u=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return zt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var en=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,
o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};function tn(){var e=(0,l.e7)([Ht.Z],(function(){return Ht.Z.devToolsEnabled})),t=$t(o.useState(!1),2),i=t[0],a=t[1],u=$t(o.useState(0),2),s=u[0],c=u[1],f=function(e){clearTimeout(s);c(setTimeout((function(){a(e)}),100))};return(0,r.jsx)("div",{onMouseEnter:function(){return f(!0)},onMouseLeave:function(){return f(!1)},children:(0,r.jsx)(E.Popout,{shouldShow:i,animation:E.Popout.Animation.NONE,position:"bottom",align:"right",autoInvert:!1,onRequestOpen:function(){return a(!0)},onRequestClose:function(){return a(!1)},renderPopout:function(){return function(e){var t=e.onClose,o=e.devToolsEnabled;return(0,
r.jsx)(E.Menu,{onSelect:function(){},navId:"staff-help-popout",variant:"fixed",onClose:t,"aria-label":z.Z.Messages.GUILD_ACTIONS_MENU_LABEL,children:(0,r.jsxs)(E.MenuGroup,{children:[(0,r.jsx)(E.MenuItem,{id:"staff-help-bug-reporter",label:z.Z.Messages.BUG_REPORT_TITLE,icon:Vt.Z,action:function(){return(0,E.openModalLazy)(Qt((function(){var e,t;return en(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(33353),n.e(38826)]).then(n.bind(n,938826))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Xt({},e))}]}}))})))}}),o&&(0,r.jsx)(E.MenuItem,{id:"staff-devtools",label:"Toggle DevTools",icon:Yt.Z,action:function(){return(0,Bt.SO)()}}),(0,r.jsx)(E.MenuItem,{id:"staff-help-center",label:"Go to Help Center",icon:Kt.Z,action:function(){return(0,Gt.Z)(ze.w)}})]})})}({onClose:function(){return a(!1)},devToolsEnabled:e})},children:function(e,t){var n=t.isShown;return(0,r.jsx)(jt.JO,Jt(Xt({},e),{icon:Vt.Z,"aria-label":z.Z.Messages.HELP,selected:n
}))}})})}var nn=n(105783),rn=n(908056);function on(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function an(e){an=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return an(e)}function un(e,t){return!t||"object"!==sn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ln(e,t){ln=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return ln(e,t)}var sn=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function cn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=an(e);if(t){var o=an(this).constructor
;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return un(this,n)}}var fn="UPDATE_NOT_AVAILABLE";function dn(e){fn=e.type}var pn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&ln(e,t)}(n,e);var t=cn(n);function n(){on(this,n);return t.apply(this,arguments)}var r=n.prototype;r.getState=function(){return fn};r.__getLocalVars=function(){return{state:fn}};return n}(l.ZP.Store);pn.displayName="AutoUpdateStore";const hn=new pn(de.Z,{CHECKING_FOR_UPDATES:dn,UPDATE_NOT_AVAILABLE:dn,UPDATE_AVAILABLE:dn,UPDATE_MANUALLY:dn,UPDATE_ERROR:dn,UPDATE_DOWNLOADED:dn});var En=n(69085),yn=n(898652),gn=n(633878);function vn(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function bn(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function On(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function Sn(e){
var t=e.width,n=void 0===t?24:t,o=e.height,i=void 0===o?24:o,a=e.color,u=void 0===a?"currentColor":a,l=e.foreground,s=e.background,c=On(e,["width","height","color","foreground","background"]);return(0,r.jsxs)("svg",bn(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){vn(e,t,n[t])}))}return e}({},(0,gn.Z)(c)),{width:n,height:i,viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{className:s,fill:u,fillRule:"evenodd",clipRule:"evenodd",
d:"M13 0C16.5198 0 19.4422 2.61306 19.9288 6.00063C19.9525 6.00021 19.9762 6 20 6C22.2091 6 24 7.79086 24 10C24 10.7708 23.782 11.4907 23.4043 12.1013C21.9807 10.7964 20.0834 10 18 10C15.0389 10 12.4535 11.6088 11.0703 14H5C2.243 14 0 11.757 0 9C0 6.243 2.243 4 5 4C6.393 4 7.678 4.454 9.175 6.58L9.992 6.004C9.018 4.62 7.987 3.815 7.022 3.357C8.26 1.31 10.49 0 13 0Z"}),(0,r.jsx)("path",{className:l,fill:u,d:"M21.293 17.292L19 19.585V13.999H17V19.585L14.707 17.292L13.293 18.706L18 23.413L22.707 18.706L21.293 17.292Z"})]}))}var _n=n(281110),mn=n(630631),In=n(940007),Cn=n(296602),Tn=n(22176);function An(e,t,n,r,o,i,a){try{var u=e[i](a),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,o)}function Nn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Pn=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},
"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}
},Rn=36e5,Ln=6048e5,wn=864e5,jn=mn.Z.get("lastNonRequiredUpdateShown",Date.now()),Dn=new Cn.Z("AutoUpdateManager"),Mn=new(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rn,n=this;Nn(this,e);this.updateAvailable=!1;this.hasNativeUpdate=!1;this._callbacks=[];this._bootstrapper=null;this.checkForUpdates=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e||!n.hasNativeUpdate)if(Dt.FB){var t="win32"===(0,Dt.y8)()&&Mt.default.canBootstrapNewUpdater;t?n._requestNewUpdaterBootstrap():Mt.default.send("CHECK_FOR_UPDATES")}else n._handleNativeUpdateNotAvailable();return new Promise((function(e){n.updateAvailable?e(!0):n._callbacks.push(e)}))};this._handleCheckingForUpdates=function(){de.Z.dispatch({type:"CHECKING_FOR_UPDATES"})};this._handleNativeUpdateNotAvailable=function(){n._handleCheckingForUpdates();_n.Z.get({
url:"".concat(location.protocol,"//").concat(location.host).concat("/assets/","version.").concat(window.GLOBAL_ENV.RELEASE_CHANNEL,".json"),query:{_:Date.now()/1e3/60/5|0},oldFormErrors:!0}).then((function(e){if(null==e.body||"78f82ba4bb7325d4bc3856b37eae79ac1deb0ee1"===e.body.hash)return n._handleUpdateNotAvailable();if(e.body.required||(0,In.fD)())return n._handleUpdateDownloaded(!1);var t="stable"===window.GLOBAL_ENV.RELEASE_CHANNEL?Ln:wn;if(Date.now()-jn>t){mn.Z.set("lastNonRequiredUpdateShown",Date.now());return n._handleUpdateDownloaded(!1)}}),(function(){return n._handleUpdateError()}))};this._handleUpdateNotAvailable=function(){de.Z.dispatch({type:"UPDATE_NOT_AVAILABLE"});n._emitCallbacks()};this._handleUpdateAvailable=function(e){n.updateAvailable=!0;n.hasNativeUpdate=e;de.Z.dispatch({type:"UPDATE_AVAILABLE"})};this._handleUpdateManually=function(){n.updateAvailable=!0;n.hasNativeUpdate=!0;de.Z.dispatch({type:"UPDATE_MANUALLY"})};this._handleUpdateError=function(e){
n.updateAvailable=!1;de.Z.dispatch({type:"UPDATE_ERROR",message:e})};this._handleUpdateDownloaded=function(e,t,r,o,i){n._handleUpdateAvailable(e);de.Z.dispatch({type:"UPDATE_DOWNLOADED",releaseNotes:t,releaseName:r,releaseDate:o,updateURL:i});n._emitCallbacks()};if(Dt.FB){Mt.default.on("CHECKING_FOR_UPDATES",this._handleCheckingForUpdates);Mt.default.on("UPDATE_NOT_AVAILABLE",this._handleNativeUpdateNotAvailable);Mt.default.on("UPDATE_AVAILABLE",(function(){return n._handleUpdateAvailable(!0)}));Mt.default.on("UPDATE_ERROR",this._handleUpdateError);Mt.default.on("UPDATE_DOWNLOADED",(function(){return n._handleUpdateDownloaded(!0)}));Mt.default.on("UPDATE_MANUALLY",this._handleUpdateManually)}de.Z.wait((function(){n.checkForUpdates()}));this._checkInterval=setInterval(this.checkForUpdates,t)}var t=e.prototype;t.destroy=function(){clearInterval(this._checkInterval)};t.quitAndInstall=function(){
this.updateAvailable&&(this.hasNativeUpdate?null!=this._bootstrapper?this._bootstrapper.finishBootstrap():Mt.default.send("QUIT_AND_INSTALL"):location.reload(!0))};t._requestNewUpdaterBootstrap=function(){var e,t=this;return(e=function(){var e,n;return Pn(this,(function(r){switch(r.label){case 0:Dn.log("Bootstrapping new updater host...");r.label=1;case 1:r.trys.push([1,3,,4]);return[4,Mt.default.ensureModule("discord_updater_bootstrap")];case 2:r.sent();e=Mt.default.requireModule("discord_updater_bootstrap");t._bootstrapper=e;return[3,4];case 3:r.sent();t._handleNativeUpdateNotAvailable();return[2];case 4:r.trys.push([4,6,,7]);t._handleCheckingForUpdates();return[4,e.bootstrap(Mt.default.releaseChannel,"win")];case 5:r.sent();t.updateAvailable=!0;t.hasNativeUpdate=!0;t._handleUpdateDownloaded(!0);return[3,7];case 6:n=r.sent();Dn.log("Failed to bootstrap new updater:",n);t._handleNativeUpdateNotAvailable();Tn.Z.captureException(n);return[3,7];case 7:return[2]}}))},function(){
var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){An(i,r,o,a,u,"next",e)}function u(e){An(i,r,o,a,u,"throw",e)}a(void 0)}))})()};t._emitCallbacks=function(){var e=this;this._callbacks.forEach((function(t){return t(e.updateAvailable)}));this._callbacks=[]};return e}());function Zn(){Mn.quitAndInstall()}var Un=n(43429),xn=n.n(Un);function kn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fn(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Gn(e){Gn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Gn(e)}function Bn(e,t){return!t||"object"!==Vn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Hn(e,t){Hn=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e}
;return Hn(e,t)}var Vn=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Yn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Gn(e);if(t){var o=Gn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Bn(this,n)}}var Kn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Hn(e,t)}(n,e);var t=Yn(n);function n(){kn(this,n);var e;(e=t.apply(this,arguments)).state={memoizedMode:e.props.mode,clicked:!1};e.handleInstallDownload=function(){En.Z.isConnected()?nn.Z.show({
title:z.Z.Messages.UPDATE_DURING_CALL_TITLE,body:z.Z.Messages.UPDATE_DURING_CALL_BODY,onConfirm:e.doUpdate,cancelText:z.Z.Messages.CANCEL,confirmText:z.Z.Messages.UPDATE_DURING_CALL_CONTINUE}):e.doUpdate()};e.doUpdate=function(){if(!e.state.clicked){e.setState({clicked:!0});Zn()}};return e}var o=n.prototype;o.handleDownloadApps=function(){(0,E.openModal)((function(e){return(0,r.jsx)(rn.default,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Fn(e,t,n[t])}))}return e}({source:"Links"},e))}))};o.render=function(){switch(this.props.mode){case"UPDATE_AVAILABLE":return(0,r.jsx)(jt.JO,{hideOnClick:!1,tooltip:z.Z.Messages.UPDATE_AVAILABLE,foreground:xn().downloadArrow,background:xn().cloud,icon:Sn});case"UPDATE_MANUALLY":
case"UPDATE_DOWNLOADED":return(0,r.jsx)(jt.JO,{tooltip:z.Z.Messages.UPDATE_DOWNLOADED,foreground:xn().updateIconForeground,onClick:this.handleInstallDownload,icon:yn.Z});default:return null}};n.getDerivedStateFromProps=function(e,t){return e.mode!==t.memoizedMode?{memoizedMode:e.mode,clicked:!1}:null};return n}(o.PureComponent);const zn=l.ZP.connectStores([hn],(function(){return{mode:hn.getState()}}))(Kn);var Wn=n(897196);function Qn(e,t,n,r,o,i,a){try{var u=e[i](a),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,o)}function qn(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Qn(i,r,o,a,u,"next",e)}function u(e){Qn(i,r,o,a,u,"throw",e)}a(void 0)}))}}function Xn(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Jn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Xn(e,t,n[t])}))}return e}function $n(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function er(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r]
;t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}var tr=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}
o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};function nr(){return rr.apply(this,arguments)}function rr(){return(rr=qn((function(){var e,t,n,r;return tr(this,(function(o){switch(o.label){case 0:return(0,Dt.id)()&&Dt.FB?[4,null===(t=(e=window.DiscordNative.remoteApp).getDefaultDoubleClickAction)||void 0===t?void 0:t.call(e)]:[3,2];case 1:"Minimize"===(r=null!==(n=o.sent())&&void 0!==n?n:"Maximize")?Mt.default.minimize():"Maximize"===r&&Mt.default.maximize();o.label=2;case 2:return[2]}}))}))).apply(this,arguments)}function or(e){var t=e.children,n=e.className,o=e.channelId,i=e.guildId,a=e.innerClassname,s=e.transparent,c=void 0!==s&&s,d=e.toolbar,p=e.mobileToolbar,h=e["aria-label"],E=e["aria-labelledby"],y=e.scrollable,g=e.role,v=e.hideSearch,b=(0,l.e7)([be.default],(function(){return be.default.getCurrentUser()
})),O=(null==b?void 0:b.isStaff())||(null==b?void 0:b.isStaffPersonal())||!1;return(0,r.jsx)(jt.ZP,{className:n,innerClassName:a,toolbar:function(){if(null==d)return null;var e=null!=o&&!v;return u.tq?p:(0,r.jsxs)(r.Fragment,{children:[d,e?(0,r.jsx)(wt,{className:xn().search},null!=i?i:o):null,(0,r.jsx)(zn,{}),(0,r.jsx)(f.Z,{}),O?(0,r.jsx)(tn,{}):(0,r.jsx)(Ft,{})]})}(),transparent:c,onDoubleClick:nr,"aria-label":h,"aria-labelledby":E,role:g,scrollable:y,children:t})}function ir(e){var t=e.children,n=e.className,o=e["aria-label"],i=e["aria-labelledby"],a=e.role;return(0,r.jsx)(jt.ZP,{className:n,onDoubleClick:nr,"aria-label":o,"aria-labelledby":i,role:a,children:t})}function ar(e){var t=e.isAuthenticated,n=void 0===t||t,o=er(e,["isAuthenticated"]),i=(0,c.Z)(s.Z.HEADER_BAR).AnalyticsLocationProvider,u=a()(o.className,Xn({},xn().forumOrHome,null!=o.channelType&&M.TPd.GUILD_THREADS_ONLY.has(o.channelType)||o.channelId===Wn.oC.GUILD_HOME));return(0,r.jsx)(i,{children:n?(0,
r.jsx)(or,$n(Jn({},o),{className:u})):(0,r.jsx)(ir,$n(Jn({},o),{className:u}))})}ar.Title=jt.ZP.Title;ar.Icon=jt.ZP.Icon;ar.Divider=jt.ZP.Divider;ar.Caret=jt.ZP.Caret;const ur=ar},162341:(e,t,n)=>{"use strict";n.d(t,{J:()=>r});var r="KEYBOARD_SHORTCUT_MODAL_KEY"},916286:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(2590);function o(e,t){switch(e){case r.A2N.ALWAYS:return!0;case r.A2N.IF_MODERATOR:return t;case r.A2N.ON_CLICK:default:return!1}}},249132:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s,J:()=>l});var r=n(70145),o=n(661123),i=n(2590);const a=function(e){return!(null==e||null==e.attachments||e.attachments.length<1)&&e.attachments.some((function(e){return null!=e.flags&&(0,o.yE)(e.flags,i.J0y.IS_REMIX)}))};var u=n(791707);function l(e,t,n){return null==t||(t.type===i.ys_.MESSAGE&&t.content.id===t.content.channel_id||(t.type!==i.ys_.MESSAGE&&t.type!==i.ys_.THREAD_STARTER_MESSAGE||s(e,t.content,n)))}function s(e,t,n){
return!(!n.hasFlag(i.iLy.HAS_THREAD)&&!n.isCommandType())||(n.type>i.uaV.DEFAULT?!(0,u.Z)(t)||n.type===i.uaV.REPLY:!!(0,u.Z)(t)||(t.author.id!==n.author.id||(t.hasFlag(i.iLy.EPHEMERAL)!==n.hasFlag(i.iLy.EPHEMERAL)||(null!=n.webhookId&&t.author.username!==n.author.username||(!(!(null==e?void 0:e.isForumPost())||t.id!==e.id)||(!(0,r._w)(t.timestamp,n.timestamp,42e4)||(!(!n.hasFlag(i.iLy.SUPPRESS_NOTIFICATIONS)||t.hasFlag(i.iLy.SUPPRESS_NOTIFICATIONS))||(!(!t.hasFlag(i.iLy.SUPPRESS_NOTIFICATIONS)||n.hasFlag(i.iLy.SUPPRESS_NOTIFICATIONS)||!(n.mentions.length>0||n.mentionRoles.length>0||n.mentionEveryone))||!!a(n)))))))))}},349658:(e,t,n)=>{"use strict";n.d(t,{P1:()=>i,DQ:()=>a});var r=n(473903),o=n(2590);function i(e){return void 0!==e&&e.type!==o.d4z.DM}function a(e){return t=e.author.id,null!==(i=null===(n=r.default.getUser(t))||void 0===n?void 0:n.hasFlag(o.xW$.SPAMMER))&&void 0!==i&&i;var t,n,i}},30778:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y})
;var r=n(202351),o=n(872017),i=n(944522),a=n(225386),u=n(21372),l=n(746477),s=n(682776),c=n(728521),f=n(2590);function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function h(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{
for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){u=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e){var t=(0,r.e7)([l.Z],(function(){return null==(null==e?void 0:e.guild_id)||l.Z.canChatInGuild(e.guild_id)}),[e]),n=(0,r.e7)([i.Z],(function(){return null!=(null==e?void 0:e.guild_id)&&i.Z.isLurking(e.guild_id)}),[e]),d=(0,r.e7)([u.ZP],(function(){
return null!=(null==e?void 0:e.guild_id)&&u.ZP.isCurrentUserGuest(e.guild_id)}),[e]),y=(0,r.e7)([s.Z],(function(){return t&&s.Z.can(f.Plq.ADD_REACTIONS,e)}),[t,e]),g=E((0,o.AB)(null==e?void 0:e.guild_id),2)[1],v=(0,a.$R)(e);return null==e?{disableReactionReads:!0,disableReactionCreates:!0,disableReactionUpdates:!0,isLurking:!1,isGuest:!1,isPendingMember:!1}:h(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){p(e,t,n[t])}))}return e}({},(0,c.Z)({channel:e,canChat:t,renderReactions:!0,canAddNewReactions:y,isLurking:n,isGuest:d,communicationDisabled:g,isActiveChannelOrUnarchivableThread:v})),{isLurking:n,isGuest:d,isPendingMember:!1})}},343557:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(667294);function o(e,t){
(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){u=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var a=!1,u=new Set
;window.addEventListener("keydown",(function(e){l(e.shiftKey)}));window.addEventListener("keyup",(function(e){l(e.shiftKey)}));window.addEventListener("mousemove",(function(e){l(e.shiftKey)}));window.addEventListener("blur",(function(){l(!1)}));function l(e){if(e!==a){a=e;u.forEach((function(e){return e(a)}))}}function s(){var e=i(r.useState(a),2),t=e[0],n=e[1];r.useEffect((function(){var e=function(e){n(e)};u.add(e);return function(){u.delete(e)}}),[]);return t}},753557:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(785893),o=(n(667294),n(945460));function i(e,t,n,r,o,i,a){try{var u=e[i](a),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,o)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function u(e){i(a,r,o,u,l,"next",e)}function l(e){i(a,r,o,u,l,"throw",e)}u(void 0)}))}}function u(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}
function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){u(e,t,n[t])}))}return e}function s(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function c(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t)
;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}var f=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}
if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};function d(e){var t=e.initialPlanId,i=e.activeSubscription,u=e.trialId,d=e.trialFooterMessageOverride,p=e.onClose,h=e.analyticsObject,E=e.analyticsLocation,y=e.analyticsLocations,g=e.analyticsSubscriptionType,v=e.renderHeader,b=e.renderPurchaseConfirmation,O=e.planGroup,S=e.reviewWarningMessage,_=e.skuId;(0,o.openModalLazy)(a((function(){var e,o,a;return f(this,(function(f){switch(f.label){case 0:return[4,Promise.resolve().then(n.bind(n,782786))];case 1:e=f.sent().PaymentContextProvider;return[4,Promise.all([n.e(40532),n.e(30689),n.e(1162),n.e(86611)]).then(n.bind(n,586611))];case 2:o=f.sent().PaymentModal
;return[4,Promise.all([n.e(40532),n.e(92224),n.e(30689),n.e(38039),n.e(66885),n.e(44485),n.e(27059),n.e(1162),n.e(5683),n.e(51934),n.e(37983),n.e(31947),n.e(50368)]).then(n.bind(n,768253))];case 3:a=f.sent().STEPS;return[2,function(n){var f=n.onClose,m=c(n,["onClose"]);return(0,r.jsx)(e,{activeSubscription:i,stepConfigs:a,skuIDs:[_],children:(0,r.jsx)(o,s(l({},m),{initialPlanId:t,onClose:function(e){f();null==p||p(e)},analyticsLocations:y,analyticsObject:h,analyticsLocation:E,analyticsSubscriptionType:g,skuId:_,renderHeader:v,renderPurchaseConfirmation:b,planGroup:O,trialId:u,trialFooterMessageOverride:d,reviewWarningMessage:S}))})}]}}))})),{onCloseCallback:function(){null==p||p(!1)}})}},809433:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(202351),o=n(736818),i=n(785085),a=n(44616);function u(e,t){
return e===t||(null==e?void 0:e.channelId)===(null==t?void 0:t.channelId)&&((null==e?void 0:e.value)===(null==t?void 0:t.value)&&(null==e?void 0:e.multiplier)===(null==t?void 0:t.multiplier))}function l(e){var t=(0,r.e7)([i.Z],(function(){return!!i.Z.isEnabled()&&i.Z.combosEnabled}));return(0,r.e7)([a.ZP,o.default],(function(){return t?a.ZP.getUserCombo(o.default.getId(),e):void 0}),[e,t],u)}},50034:(e,t,n)=>{"use strict";n.d(t,{e:()=>a,b:()=>u});var r=n(318715),o=n(473903),i=n(704512),a=function(){return l(o.default.getCurrentUser(),(0,i.JH)())},u=function(){return l((0,r.ZP)([o.default],(function(){return o.default.getCurrentUser()})),(0,i.o9)())};function l(e,t){return null!=e&&!e.isPomelo()&&(!!e.hasVerifiedEmailOrPhone()&&!!t)}},289716:(e,t,n)=>{"use strict";n.d(t,{Z:()=>w});var r=n(842227),o=n(202351),i=n(744564),a=n(496916),u=n(841800),l=n(473419),s=n(736818),c=n(61209),f=n(5544),d=n(21372),p=n(717091),h=n(9430),E=n(53452);const y=(0,n(260561).B)({kind:"guild",
id:"2023-04_fast_new_channels",label:"Fast New Channels",defaultConfig:{showNewChannelsQuickly:!1},treatments:[{id:1,label:"On",config:{showNewChannelsQuickly:!0}}]});function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e){b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return b(e)}function O(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function S(e,t){S=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return S(e,t)}function _(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return
;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var m=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var o=b(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O(this,n)}}var C=new Set,T={},A={}
;function N(e,t){var n=T[e];if(null!=n&&null!=t&&n.has(t)){var o;h.Z.isOptInEnabled(e)&&!(null===(o=c.Z.getChannel(t))||void 0===o?void 0:o.isThread())&&null==p.ZP.ackMessageId(t)&&i.Z.wait((function(){return(0,a.In)(t,!0,!0,r.default.atPreviousMillisecond(t))}))}}function P(e){var t;if(null==T[e]){var n=f.ZP.getChannels(e)[f.sH].map((function(e){return e.channel.id})),o=null===(t=d.ZP.getMember(e,s.default.getId()))||void 0===t?void 0:t.joinedAt;if(null!=o){T[e]=new Set;var i=new Date(o).getTime();if(0!==n.length){T[e]=new Set(n.filter((function(t){var n=r.default.extractTimestamp(t);return null==p.ZP.getTrackedAckMessageId(t)&&n>Date.now()-E.Z.Millis.WEEK&&n>l.Z.getGuildRecentsDismissedAt(e)&&n>i&&!h.Z.isChannelOrParentOptedIn(e,t)})));A[e]=Date.now()}}}}function R(){Object.keys(T).forEach((function(e){var t=T[e];T[e]=new Set(_(t).filter((function(t){return!h.Z.isChannelOrParentOptedIn(e,t)})))}))}var L=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&S(e,t)}(n,e);var t=I(n);function n(){v(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(f.ZP,s.default,d.ZP,h.Z,p.ZP,l.Z);this.syncWith([h.Z],R)};r.getNewChannelIds=function(e){null!=e&&null==T[e]&&P(e);var t;return null!=e&&null!==(t=T[e])&&void 0!==t?t:C};r.shouldIndicateNewChannel=function(e,t){var n;if(null==e)return!1;null!=e&&null==T[e]&&P(e);return(null===(n=T[e])||void 0===n?void 0:n.has(t))&&null==p.ZP.getTrackedAckMessageId(t)};r.__getLocalVars=function(){return{EMPTY_SET:C,newChannels:T,guildLastCheckedForNewChannels:A}};return n}(o.ZP.Store);L.displayName="NewChannelsStore";const w=new L(i.Z,{BULK_CLEAR_RECENTS:function(e){var t=e.guildId,n=e.channelIds;if(null==T[t])return!1;n.forEach((function(e){return T[t].delete(e)}))
;0===T[t].size&&delete T[t]},CHANNEL_ACK:function(){return!0},CHANNEL_SELECT:function(e){var t=e.guildId,n=e.channelId;if(null==t)return!1;if(null==T[t]||A[t]<Date.now()-E.Z.Millis.HOUR){P(t);return!0}null!=n&&N(t,n);return!1},SIDEBAR_VIEW_CHANNEL:function(e){var t=e.guildId,n=e.channelId,r=e.sidebarType;if(null==t||r!==u.t.VIEW_CHANNEL)return!1;N(t,n);return!1},GUILD_DELETE:function(e){var t=e.guild;delete T[t.id]},CHANNEL_CREATE:function(e){var t=e.channel;if(y.getCurrentConfig({guildId:t.guild_id}).showNewChannelsQuickly&&!t.isVocal()){var n;T[t.guild_id]=null!==(n=T[t.guild_id])&&void 0!==n?n:new Set;T[t.guild_id].add(t.id)}}})},523649:(e,t,n)=>{"use strict";n.d(t,{Z:()=>q});var r=n(496486),o=n.n(r),i=n(202351),a=n(630631),u=n(242715),l=n(744564),s=n(649536),c=n(435949),f=n(791707),d=n(384411),p=n(4798),h=n(736818),E=n(61209),y=n(352980),g=n(717091),v=n(840922),b=n(464187),O=n(9430),S=n(473903),_=n(2590);function m(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function C(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function T(e){T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return T(e)}function A(e,t){return!t||"object"!==P(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function N(e,t){N=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return N(e,t)}var P=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1
;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=T(e);if(t){var o=T(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return A(this,n)}}var L="recentMentionFilterSettings",w=[],j={},D=!1,M=!0,Z=a.Z.get(L,{guildFilter:_.NgX.ALL_SERVERS,everyoneFilter:!0,roleFilter:!0}),U=!1,x=0,k=!1,F=!1;function G(e){if(e instanceof p.Z)return e;var t=y.Z.getMessage(e.channel_id,e.id);return null!=t?t:(0,s.e5)(e)}function B(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if((0,f.Z)(e))return null;null==t&&(t=e.channel_id);var n=E.Z.getChannel(t);if(null==n||n.type===_.d4z.DM)return null;if(Z.guildFilter===_.NgX.THIS_SERVER&&n.getGuildId()!==b.Z.getGuildId())return null;var r=e.author.id,o=h.default.getId();if(v.Z.isBlocked(r)||r===o)return null;e=G(e)
;var i=!Z.everyoneFilter,a=!Z.roleFilter;if(!(0,c.ZP)({message:e,userId:o,suppressEveryone:i,suppressRoles:a}))return null;F&&g.ZP.ackMessageId(n.id)!==e.id&&(0,c.ZP)({message:e,userId:o,suppressEveryone:O.Z.isSuppressEveryoneEnabled(n.getGuildId()),suppressRoles:O.Z.isSuppressRolesEnabled(n.getGuildId())})&&(F=!1);return e}function H(e){if(null==j[e])return!1;delete j[e];w=o().filter(w,(function(t){return t.id!==e}))}function V(e){return H(e.id)}function Y(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){C(e,t,n[t])}))}return e}({},Z);Z=o().defaults(o().pick(e,["guildFilter","roleFilter","everyoneFilter"]),Z);a.Z.set(L,Z);var n=function(e,n){return t[e]!==Z[e]&&Z[e]===n
},r=n("guildFilter",_.NgX.THIS_SERVER)||n("everyoneFilter",!1)||n("roleFilter",!1);j={};var i=[];r&&w.forEach((function(e){var t=B(e);if(null!=t){i.push(t);j[t.id]=!0}}));0===(w=i).length&&(U=!1)}function K(){o().forEach(w,(function(e){e.timestamp.locale(d.default.locale)}))}function z(){w=w.filter((function(e){return!v.Z.isBlocked(e.author.id)}))}function W(e){var t=e.channel;w=o().filter(w,(function(e){if(e.channel_id===t.id){delete j[e.id];return!1}return!0}))}var Q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&N(e,t)}(n,e);var t=R(n);function n(){m(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(S.default,E.Z,y.Z,g.ZP)};r.isOpen=function(){return k};r.getMentions=function(){return U||w.length>0?w:null};r.hasMention=function(e){return j[e]}
;r.__getLocalVars=function(){return{STORAGE_SETTINGS_KEY:L,mentions:w,map:j,loading:D,hasMore:M,filterSettings:Z,hasLoadedEver:U,lastLoaded:x,mentionModalOpen:k,mentionsAreStale:F}};!function(e,t,n){t&&I(e.prototype,t);n&&I(e,n)}(n,[{key:"hasLoadedEver",get:function(){return U}},{key:"lastLoaded",get:function(){return x}},{key:"loading",get:function(){return D}},{key:"hasMore",get:function(){return M}},{key:"guildFilter",get:function(){return Z.guildFilter}},{key:"everyoneFilter",get:function(){return Z.everyoneFilter}},{key:"roleFilter",get:function(){return Z.roleFilter}},{key:"mentionsAreStale",get:function(){return F}}]);return n}(i.ZP.Store);Q.displayName="RecentMentionsStore";const q=new Q(l.Z,{LOAD_RECENT_MENTIONS:function(e){var t=e.guildId;D=!0;null==t&&Z.guildFilter===_.NgX.THIS_SERVER&&Y({guildFilter:_.NgX.ALL_SERVERS})},LOAD_RECENT_MENTIONS_SUCCESS:function(e){var t=e.hasMoreAfter,n=e.messages,r=e.isAfter,i=o().map(n,G);if(r)w=w.concat(i);else{w=i;j={}}
o().forEach(i,(function(e){j[e.id]=!0}));D=!1;M=t;x=(0,u.zO)();U=!0},LOAD_RECENT_MENTIONS_FAILURE:function(){D=!1},SET_RECENT_MENTIONS_FILTER:Y,TRUNCATE_MENTIONS:function(e){for(var t=e.size,n=t;n<w.length;++n)delete j[w[n].id];w.length>(w=w.slice(0,t)).length&&(M=!0)},CHANNEL_SELECT:function(){if(Z.guildFilter!==_.NgX.THIS_SERVER)return!1;U=!1},CONNECTION_OPEN:function(){w=[];j={};U=!1;F=!1},GUILD_DELETE:function(e){var t=e.guild;w=o().filter(w,(function(e){var n=E.Z.getChannel(e.channel_id);if(null==n||n.getGuildId()===t.id){delete j[e.id];return!1}return!0}))},MESSAGE_CREATE:function(e){var t=e.channelId,n=e.message,r=S.default.getCurrentUser();if(null==r||!(0,c.Hl)({rawMessage:n,userId:r.id,suppressRoles:!1,suppressEveryone:!1}))return!1;var o=B(n,t);if(null==o)return!1;(w=w.slice()).unshift(o);j[o.id]=!0},MESSAGE_UPDATE:function(e){var t=e.message.id;if(null==j[String(t)])return!1;var n=o().findIndex(w,(function(e){return e.id===t})),r=(w=w.slice())[n];null!=r&&(w[n]=(0,
s.wi)(r,e.message))},MESSAGE_DELETE:V,RECENT_MENTION_DELETE:V,MESSAGE_DELETE_BULK:function(e){var t=e.ids;o().forEach(t,H)},USER_SETTINGS_PROTO_UPDATE:K,I18N_LOAD_SUCCESS:K,CHANNEL_DELETE:W,THREAD_DELETE:W,RELATIONSHIP_ADD:z,RELATIONSHIP_REMOVE:z,MENTION_MODAL_OPEN:function(){k=!0},MENTION_MODAL_CLOSE:function(){k=!1},SET_RECENT_MENTIONS_STALE:function(e){F=!0}})},739849:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Ba});var r=n(785893),o=n(667294),i=n(202351),a=n(725105),u=n(717091),l=n(473903),s=n(633878);function c(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function f(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n
}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function d(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function p(e){var t=e.width,n=void 0===t?24:t,o=e.height,i=void 0===o?24:o,a=e.color,u=void 0===a?"currentColor":a,l=e.foreground,p=d(e,["width","height","color","foreground"]);return(0,r.jsx)("svg",f(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){c(e,t,n[t])
}))}return e}({},(0,s.Z)(p)),{width:n,height:i,viewBox:"0 0 24 24",fill:"none",children:(0,r.jsx)("path",{d:"M19 3H4.99C3.88 3 3.01 3.89 3.01 5L3 19C3 20.1 3.88 21 4.99 21H19C20.1 21 21 20.1 21 19V5C21 3.89 20.1 3 19 3ZM19 15H15C15 16.66 13.65 18 12 18C10.35 18 9 16.66 9 15H4.99V5H19V15Z",fill:u,className:l})}))}var h=n(373438),E=n(294184),y=n.n(E),g=n(853158),v=n(318715),b=n(316878),O=n(229633),S=n(489981),_=n(956827),m=n.n(_);function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e){C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return C(e)}function T(e,t){return!t||"object"!==N(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function A(e,t){A=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return A(e,t)}var N=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=C(e);if(t){var o=C(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return T(this,n)}}var R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&A(e,t)}(n,e);var t=P(n);function n(){I(this,n);var e;(e=t.apply(this,arguments)).animationScale=new g.Z.Value(1);return e}var o=n.prototype;o.componentDidUpdate=function(e){
e.count<this.props.count&&!this.props.reducedMotion&&g.Z.sequence([g.Z.timing(this.animationScale,{toValue:1.8,duration:300}),g.Z.timing(this.animationScale,{toValue:1,duration:200})]).start()};o.render=function(){var e=this.props,t=e.count,n=e.className;return 0===t?null:(0,r.jsx)(g.Z.div,{className:y()(m().badge,n),style:{transform:[{scale:this.animationScale}]},children:t})};return n}(o.PureComponent);function L(e){var t=e.className,n=O.Z.useExperiment({},{autoTrackExposure:!1}).showReminders,o=(0,v.ZP)([S.Z],(function(){return n?S.Z.getOverdueMessageReminderCount():0}),[n]),i=(0,v.ZP)([b.Z],(function(){return b.Z.useReducedMotion}));return n?(0,r.jsx)(R,{count:o,className:t,reducedMotion:i}):null}var w=n(418705),j=n(945460),D=n(917019),M=n(473419),Z=n(930948),U=n(842227),x=n(858311),k=n(369710),F=n(106673),G=n(496486),B=n.n(G),H=n(496916);const V=function(){var e=o.useRef(!0);o.useEffect((function(){return function(){e.current=!1}}),[]);return o.useCallback((function(){
return e.current}),[])};var Y=n(999357),K=n(281110),z=n(165695),W=n(744564),Q=n(968449),q=n(801809),X=n(2590);function J(e,t,n,r,o,i,a){try{var u=e[i](a),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,o)}function $(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){J(i,r,o,a,u,"next",e)}function u(e){J(i,r,o,a,u,"throw",e)}a(void 0)}))}}function ee(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ee(e,t,n[t])}))}return e}var ne=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={
next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};function re(e){W.Z.dispatch({
type:"NOTIFICATION_CENTER_SET_ACTIVE",active:e})}function oe(e){return ie.apply(this,arguments)}function ie(){return(ie=$((function(e){var t,n;return ne(this,(function(r){switch(r.label){case 0:W.Z.dispatch({type:"LOAD_NOTIFICATION_CENTER_ITEMS"});t=Math.ceil(x.Z.items.length/e.limit);r.label=1;case 1:r.trys.push([1,3,,4]);return[4,q.Z.get({url:X.ANM.NOTIF_CENTER_ITEMS(),trackedActionData:{event:Y.a9.NOTIFICATION_CENTER_PAGE_FETCH,properties:function(e){var n,r=((null===(n=e.body)||void 0===n?void 0:n.items)||[]).map((function(e){return e.type}));return(0,z.iG)({page:t,items:r,item_count:r.length})}},query:te({},e)})];case 2:n=r.sent();W.Z.dispatch({type:"LOAD_NOTIFICATION_CENTER_ITEMS_SUCCESS",items:n.body.items,cursor:n.body.cursor,hasMore:n.body.has_more});return[3,4];case 3:r.sent();W.Z.dispatch({type:"LOAD_NOTIFICATION_CENTER_ITEMS_FAILURE"});return[3,4];case 4:return[2]}}))}))).apply(this,arguments)}function ae(e){null!=e.local_id?(n=[e.local_id],W.Z.dispatch({
type:"NOTIFICATION_CENTER_ITEMS_LOCAL_ACK",localIds:n})):e.type===k.DY.RECENT_MENTION||e.type===k.DY.REPLY_MENTION?(t=e.id,W.Z.dispatch({type:"NOTIFICATION_CENTER_ITEMS_ACK",optimistic:!0,ids:[t]})):function(e){ue.apply(this,arguments)}(e.id);var t,n}function ue(){return(ue=$((function(e){return ne(this,(function(t){switch(t.label){case 0:t.trys.push([0,2,,3]);W.Z.dispatch({type:"NOTIFICATION_CENTER_ITEMS_ACK",optimistic:!0,ids:[e]});return[4,K.Z.post({url:X.ANM.NOTIF_CENTER_ITEMS_ACK(e)})];case 1:t.sent();return[3,3];case 2:t.sent();W.Z.dispatch({type:"NOTIFICATION_CENTER_ITEMS_ACK_FAILURE",ids:[e]});return[3,3];case 3:return[2]}}))}))).apply(this,arguments)}function le(e){return se.apply(this,arguments)}function se(){return(se=$((function(e){var t,n;return ne(this,(function(r){switch(r.label){case 0:t=Q.d$.getSetting();r.label=1;case 1:r.trys.push([1,3,,4]);W.Z.dispatch({type:"NOTIFICATION_CENTER_ITEM_DELETE",id:e.id});return[4,q.Z.delete({url:X.ANM.NOTIF_CENTER_ITEMS(e.id),
trackedActionData:{event:Y.a9.NOTIFICATION_CENTER_ITEM_DELETE,properties:{notification_center_id:e.id,acked:(0,F.r)(e,t),item_type:e.type}}})];case 2:r.sent();return[3,4];case 3:n=r.sent();W.Z.dispatch({type:"NOTIFICATION_CENTER_ITEM_DELETE_FAILURE",item:e});throw n;case 4:return[2]}}))}))).apply(this,arguments)}var ce=n(202958),fe=n(523649);function de(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function he(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Ee(e){Ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Ee(e)}function ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){he(e,t,n[t])}))}return e}function ge(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function ve(e,t){return!t||"object"!==Se(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function be(e,t){be=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return be(e,t)}function Oe(e,t){
return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){u=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return de(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return de(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Se=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function _e(e){var t=function(){
if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Ee(e);if(t){var o=Ee(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ve(this,n)}}var me=7776e6,Ie={tab:null,localItemAcks:{},isDataStale:!1,isRefreshing:!1};var Ce=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&be(e,t)}(n,e);var t=_e(n);function n(){pe(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(e){this.waitFor(fe.Z);if(null!=e){var t;(Ie=e).localItemAcks=function(e){var t={},n=!0,r=!1,o=void 0;try{
for(var i,a=Object.entries(e)[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=Oe(i.value,2),l=u[0],s=u[1];Date.now()-s<me&&(t[l]=s)}}catch(e){r=!0;o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return t}(null!==(t=Ie.localItemAcks)&&void 0!==t?t:{})}};r.getState=function(){return Ie};r.getTab=function(){var e;return null!==(e=Ie.tab)&&void 0!==e?e:k.b1.ForYou};r.isLocalItemAcked=function(e){return null!=Ie.localItemAcks[e]};r.isDataStale=function(){return Ie.isDataStale};r.isRefreshing=function(){return Ie.isRefreshing};r.shouldReload=function(){return Ie.isDataStale||Ie.isRefreshing};r.__getLocalVars=function(){return{NINETY_DAYS_MS:me,state:Ie}};return n}(i.ZP.PersistedStore);Ce.displayName="NotificationCenterStore";Ce.persistKey="NotificationCenterStore";function Te(){Ie.isDataStale=!1;Ie.isRefreshing=!1}const Ae=new Ce(W.Z,{MESSAGE_CREATE:function(e){var t=e.message;(0,ce.bY)()&&fe.Z.hasMention(t.id)&&(Ie.isDataStale=!0)},
NOTIFICATION_CENTER_SET_TAB:function(e){Ie=ge(ye({},Ie),{tab:e.tab})},NOTIFICATION_CENTER_ITEMS_LOCAL_ACK:function(e){e.localIds.forEach((function(e){Ie=ge(ye({},Ie),{localItemAcks:ge(ye({},Ie.localItemAcks),he({},e,Date.now()))})}))},NOTIFICATION_CENTER_REFRESH:function(){Ie.isRefreshing=!0},LOAD_NOTIFICATION_CENTER_ITEMS_FAILURE:Te,LOAD_NOTIFICATION_CENTER_ITEMS_SUCCESS:Te});var Ne=n(290679);function Pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Re(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){u=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Pe(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Le,we=B().throttle((function(e,t){return oe({limit:t?8:20,after:e,with_mentions:t})}),500,{leading:!0,trailing:!1}),je=function(e){var t=e.isFocused,n=e.withMentions,r=void 0!==n&&n,a=(0,i.e7)([Ae],(function(){return Ae.shouldReload()})),u=Re(o.useState(!1),2),l=u[0],s=u[1],c=(0,i.cj)([x.Z],(function(){return{initialized:x.Z.initialized,loading:x.Z.loading,items:x.Z.items,hasMore:x.Z.hasMore,cursor:x.Z.cursor,errored:x.Z.errored}})),f=c.initialized,d=c.loading,p=c.items,h=c.hasMore,E=c.cursor,y=c.errored;o.useEffect((function(){re(!0);return function(){return re(!1)}
}),[]);o.useEffect((function(){f&&t&&(0,H.FT)(Ne.W.NOTIFICATION_CENTER)}),[t,f]);var g=V();o.useEffect((function(){return function(){g()||(y||p.length>100)&&W.Z.dispatch({type:"RESET_NOTIFICATION_CENTER"})}}),[g,y,p]);o.useEffect((function(){d||f&&!(a&&t)||oe({limit:r?8:20,with_mentions:r})}),[f,d,a,t,r]);var v=o.useCallback((function(){if(f&&!d&&h&&null!=E&&!y){s(!0);we(E,r).finally((function(){s(!1)}))}}),[f,d,h,E,y,r]);return{initialized:f,loading:d,items:p,hasMore:h,loadMore:v,loadingMore:l,setReadNotifItemToAcked:function(e){e.acked||(e.acked=!0)}}},De=n(457217),Me=n(914964),Ze=n(674748),Ue=n(473708),xe=n(59574),ke=n.n(xe),Fe=n(502101),Ge=n.n(Fe),Be=function(){return(0,r.jsxs)("div",{className:ke().container,children:[(0,r.jsx)("img",{className:ke().image,alt:"",src:Ge()}),(0,r.jsx)("div",{className:ke().title,children:Ue.Z.Messages.FOR_YOU_EMPTY_TITLE}),(0,r.jsx)("div",{className:ke().body,children:Ue.Z.Messages.FOR_YOU_EMPTY_BODY})]})
},He=n(385028),Ve=n(426089),Ye=n(883064),Ke=n(924417),ze=n(722406),We=n(652591),Qe=n(585622),qe=n(211482),Xe=n(336194),Je=n(278435),$e=n.n(Je),et=n(313106),tt=n.n(et),nt=n(699426),rt=n.n(nt),ot=n(403058),it=n.n(ot),at=n(102552),ut=n.n(at),lt=n(566240),st=n.n(lt),ct=n(43009),ft=n.n(ct),dt=n(640846),pt=n.n(dt),ht=n(613651),Et=n.n(ht),yt=n(615306),gt=n.n(yt),vt=n(479467),bt=n.n(vt),Ot=n(704923),St=n.n(Ot);!function(e){e.CHECKED="CHECKED";e.FRIENDS="FRIENDS";e.SHARE_SCREEN="SHARE_SCREEN";e.NEW_MESSAGE="NEW_MESSAGE"}(Le||(Le={}));var _t,mt={CHECKED:rt(),FRIENDS:ut(),SHARE_SCREEN:bt(),NEW_MESSAGE:Et()};!function(e){e.MISSED_MESSAGES="MISSED_MESSAGES";e.FRIEND_REQUEST_REMINDER="FRIEND_REQUEST_REMINDER";e.SCHEDULED_GUILD_EVENT="SCHEDULED_GUILD_EVENT";e.TOP_MESSAGES="TOP_MESSAGES";e.NOTIFICATION_CENTER="NOTIFICATION_CENTER";e.UPDATE_PROFILE="UPDATE_PROFILE";e.FIND_FRIENDS="FIND_FRIENDS";e.ADD_FRIEND="ADD_FRIEND";e.FIRST_MESSAGE="FIRST_MESSAGE"}(_t||(_t={}));var It={MISSED_MESSAGES:pt(),
FRIEND_REQUEST_REMINDER:st(),SCHEDULED_GUILD_EVENT:it(),TOP_MESSAGES:ft(),NOTIFICATION_CENTER:tt(),UPDATE_PROFILE:St(),FIND_FRIENDS:$e(),ADD_FRIEND:$e(),FIRST_MESSAGE:gt()},Ct=function(e){switch(e.type){case"lifecycle_item":return function(e){switch(e.item_enum){case k.AM.ADD_FRIEND:return _t.ADD_FRIEND;case k.AM.FIND_FRIENDS:return _t.FIND_FRIENDS;case k.AM.FIRST_MESSAGE:return _t.FIRST_MESSAGE;case k.AM.UPDATE_PROFILE:return _t.UPDATE_PROFILE;default:return _t.NOTIFICATION_CENTER}}(e);case"missed_messages":return _t.MISSED_MESSAGES;case"friend_request_reminder":return _t.FRIEND_REQUEST_REMINDER;case"scheduled_guild_event_started":return _t.SCHEDULED_GUILD_EVENT;case"top_messages":return _t.TOP_MESSAGES;default:return _t.NOTIFICATION_CENTER}},Tt=function(e){switch(e.item_enum){case k.AM.UPDATE_PROFILE:return"#83DDC5";case k.AM.ADD_FRIEND:case k.AM.FIND_FRIENDS:return"#F47FFF";case k.AM.FIRST_MESSAGE:return"#FFDE4D";default:return Xe.Z.unsafe_rawColors.BRAND_500.css}
},At=n(399910),Nt=n.n(At),Pt=function(e){var t=e.mask;return null==t?null:(0,r.jsx)("div",{className:Nt().maskBackground,style:{backgroundColor:t.color.css},children:(0,r.jsx)("img",{className:Nt().maskIcon,alt:"",src:t.icon})})},Rt=o.memo((function(e){var t,n=e.item,o=null,i=!1;if(null!=n.icon_name)o=(0,r.jsx)("img",{alt:"",src:It[(t=n.icon_name,"icHighlight"===t?_t.TOP_MESSAGES:_t.NOTIFICATION_CENTER)]});else if(null!=n.other_user){var a=n.other_user instanceof ze.Z?n.other_user:new ze.Z(n.other_user);o=(0,r.jsx)("img",{alt:"",className:Nt().avatar,src:a.getAvatarURL(void 0,40)});i=!0}else o=null!=n.icon_url?(0,r.jsx)("img",{alt:"",src:n.icon_url}):(0,r.jsx)("img",{alt:"",src:It[Ct(n)]});var u=function(e){switch(e){case k.DY.GO_LIVE_PUSH:return{icon:mt.SHARE_SCREEN,color:Xe.Z.colors.BACKGROUND_ACCENT};case k.DY.FRIEND_REQUEST_ACCEPTED:return{icon:mt.CHECKED,color:Xe.Z.colors.STATUS_POSITIVE_BACKGROUND};case k.DY.FRIEND_REQUEST_PENDING:case k.DY.FRIEND_SUGGESTION_CREATED:return{
icon:mt.FRIENDS,color:Xe.Z.colors.BACKGROUND_ACCENT};case k.DY.DM_FRIEND_NUDGE:return{icon:mt.NEW_MESSAGE,color:Xe.Z.colors.BACKGROUND_ACCENT};case k.O7.INCOMING_FRIEND_REQUESTS:case k.O7.INCOMING_FRIEND_REQUESTS_ACCEPTED:return{icon:mt.FRIENDS,color:Xe.Z.colors.BACKGROUND_ACCENT};default:return null}}(n.type);return(0,r.jsxs)(qe.ZP,{mask:null==u?qe.QS.AVATAR_DEFAULT:qe.QS.AVATAR_STATUS_ROUND_16,width:40,height:40,rightOverhang:3,bottomOverhang:3,className:Nt().mask,children:[(0,r.jsx)("div",{className:Nt().container,style:i?void 0:{backgroundColor:Tt(n)},children:o}),(0,r.jsx)(Pt,{mask:u})]})})),Lt=n(560923),wt=n(252132),jt=n.n(wt);function Dt(e){var t=e.userId,n=o.useCallback((function(e){e.stopPropagation();Lt.Z.cancelFriendRequest(t)}),[t]),i=o.useCallback((function(e){e.stopPropagation();Lt.Z.addRelationship({userId:t})}),[t]);return(0,r.jsxs)("div",{className:jt().friendRequestContainer,children:[(0,r.jsx)(j.Button,{className:jt().acceptButton,look:j.Button.Looks.FILLED,
color:j.Button.Colors.GREEN,size:j.Button.Sizes.NONE,onClick:i,children:(0,r.jsx)(j.Text,{variant:"text-sm/medium",color:"always-white",children:Ue.Z.Messages.FRIEND_REQUEST_ACCEPT})}),(0,r.jsx)(j.Button,{className:jt().ignoreButton,look:j.Button.Looks.FILLED,color:j.Button.Colors.PRIMARY,size:j.Button.Sizes.NONE,onClick:n,children:(0,r.jsx)(j.Text,{variant:"text-sm/medium",color:"always-white",children:Ue.Z.Messages.FRIEND_REQUEST_IGNORE})})]})}var Mt=n(839184),Zt=n(186440),Ut=n(813749);function xt(e,t,n,r,o,i,a){try{var u=e[i](a),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,o)}function kt(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){xt(i,r,o,a,u,"next",e)}function u(e){xt(i,r,o,a,u,"throw",e)}a(void 0)}))}}function Ft(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Gt(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var Bt=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],
done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},Ht=function(e){var t=e.item,n=e.closePopout;return(0,r.jsx)(j.Menu,{navId:"notification-actions",onClose:n,onSelect:n,"aria-label":Ue.Z.Messages.RECENTS_NOTIFICATIONS_MENU_LABEL,children:(0,r.jsx)(j.MenuItem,{id:"delete",label:Ue.Z.Messages.DELETE,icon:Ut.Z,action:kt((function(){return Bt(this,(function(e){switch(e.label){case 0:return[4,le(t)];case 1:e.sent();return[2]}}))}))})})},Vt=o.memo((function(e){var t=e.item;return(0,r.jsx)(j.Popout,{renderPopout:function(e){return(0,
r.jsx)(Ht,Gt(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Ft(e,t,n[t])}))}return e}({},e),{item:t}))},position:"bottom",align:"right",animation:j.Popout.Animation.NONE,children:function(e){var t=e.onClick;return(0,r.jsx)(Mt.ZP,{tooltip:Ue.Z.Messages.MORE,color:Mt.YX.TERTIARY,icon:(0,r.jsx)(Zt.Z,{height:16,width:16}),onClick:function(e){e.stopPropagation();t(e)},"aria-haspopup":"menu"})}})})),Yt=n(25300),Kt=n.n(Yt),zt=n(572149),Wt=n.n(zt);function Qt(e,t,n,r,o,i,a){try{var u=e[i](a),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,o)}function qt(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Qt(i,r,o,a,u,"next",e)}function u(e){Qt(i,r,o,a,u,"throw",e)}
a(void 0)}))}}function Xt(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var Jt=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}
if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};function $t(e){var t,n,o=e.item;if(null==o.message_content)return(0,r.jsx)("div",{children:" "});var i=null!==(n=l.default.getUser(null===(t=o.other_user)||void 0===t?void 0:t.id))&&void 0!==n?n:new ze.Z(o.other_user),a=Ye.Z.parse(o.message_content);return(0,r.jsxs)("div",{className:jt().messagePreviewContainer,children:[(0,r.jsx)(He.Z,{user:i,size:j.AvatarSizes.SIZE_24}),(0,r.jsx)(j.Text,{className:jt().messagePreviewText,variant:"text-sm/normal",lineClamp:2,children:a})]})}function en(e){var t=e.item,n=Wt(),o=Ue.Z.Messages.NOTIFICATION_CENTER_TODO;if(t.completed){n=Kt();o=Ue.Z.Messages.NOTIFICATION_CENTER_DONE}return(0,r.jsxs)("div",{className:jt().lifecycleContainer,children:[(0,r.jsx)("img",{className:jt().checkbox,alt:"",src:n}),(0,r.jsx)(j.Text,{
className:jt().lifecycleText,variant:"text-xs/bold",color:"header-secondary",children:o})]})}var tn=o.memo((function(e){var t=e.item,a=e.ackedBeforeId,u=function(e,t){return(0,i.e7)([Ae],(function(){return null!=e.local_id&&Ae.isLocalItemAcked(e.local_id)}))||(0,F.r)(e,t)}(t,a),l=o.useCallback(qt((function(){var e,o,i,a;return Jt(this,(function(l){switch(l.label){case 0:u||ae(t);if(null!=t.item_enum&&t.item_enum===k.AM.FIND_FRIENDS){(0,j.openModalLazy)(qt((function(){var e,t;return Jt(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(41666)]).then(n.bind(n,241666))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Xt(e,t,n[t])}))}return e}({
source:"Notification Center"},e))}]}}))})));return[2]}if(null==t.deeplink)return[3,4];if(null==(e=Qe.Z.safeParseWithQuery(t.deeplink)))return[2];o=e.hostname;i=e.path;if(null==o||null==i)return[2];if(!Qe.Z.isDiscordHostname(o))return[3,3];if(null==(a=i.match("^/users/(\\d+)"))||2!==a.length)return[3,1];(0,Ke.m)({userId:a[1],analyticsLocation:{section:X.jXE.NOTIFICATION_CENTER}});return[3,3];case 1:return[4,(0,Ve.Z)(i)];case 2:l.sent();l.label=3;case 3:We.default.track(X.rMx.NOTIFICATION_CENTER_ACTION,{action_type:k.ud.CLICKED,notification_center_id:t.id,item_type:t.type,acked:u});l.label=4;case 4:return[2]}}))})),[t,u]),s=null;t.type===k.O7.INCOMING_FRIEND_REQUESTS&&null!=t.other_user&&(s=(0,r.jsx)(Dt,{userId:t.other_user.id}));var c=null!=t.local_id;return(0,r.jsxs)("div",{className:jt().row,children:[(0,r.jsxs)(j.ClickableContainer,{className:jt().rowContent,focusProps:{offset:4},"aria-label":t.body,onClick:l,children:[u?null:(0,r.jsx)("div",{className:jt().unread}),(0,r.jsx)(Rt,{
item:t}),(0,r.jsxs)("div",{className:jt().body,children:["lifecycle_item"===t.type&&null!=t.item_enum&&(0,r.jsx)(en,{item:t}),(0,r.jsx)(j.Text,{variant:"text-md/normal",color:u?"text-muted":"text-normal",children:Ye.Z.parse(t.body)}),null!=t.message_content?(0,r.jsx)($t,{item:t}):null,(0,r.jsx)(j.Text,{variant:"text-xs/medium",color:u?"text-muted":"header-secondary",children:(0,F.a3)(U.default.extractTimestamp(t.id))}),s]})]}),c?null:(0,r.jsx)(Vt,{item:t})]})})),nn=o.memo((function(e){var t=e.items,n=Q.d$.useSetting();return(0,r.jsx)(r.Fragment,{children:t.map((function(e){return(0,r.jsx)(tn,{item:e,ackedBeforeId:n},e.id)}))})})),rn=n(427440),on=n.n(rn);function an(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function un(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){
var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function ln(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function sn(e){var t=e.initialized,n=e.items,i=e.loading,a=e.loadMore,u=o.useRef(null),l=(0,Me.Z)("for-you",u);(0,Ze.Z)({type:Y.nv.VIEW,name:Y.zs.NOTIFICATION_CENTER_LANDING,properties:{empty:0===n.length}},{disableTrack:!t},[t]);var s=function(){var e,t=null===(e=u.current)||void 0===e?void 0:e.getScrollerState();if(null!=t){
t.scrollHeight-t.scrollTop-t.offsetHeight<1500&&a()}};return t?0===n.length?(0,r.jsx)(Be,{}):(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(De.bG,{navigator:l,children:(0,r.jsx)(De.SJ,{children:function(e){var t=e.ref,o=ln(e,["ref"]);return(0,r.jsxs)(j.AdvancedScroller,un(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){an(e,t,n[t])}))}return e}({className:on().container,ref:function(e){u.current=e;var n;t.current=null!==(n=null==e?void 0:e.getScrollerNode())&&void 0!==n?n:null}},o),{onScroll:s,children:[(0,r.jsx)(nn,{items:n}),i?(0,r.jsx)(j.Spinner,{className:on().spinner}):null]}))}})})}):(0,r.jsx)(j.Spinner,{className:on().loadingPlaceholder})}function cn(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,
writable:!0}):e[t]=n;return e}function fn(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function dn(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function pn(e){
var t=e.width,n=void 0===t?16:t,o=e.height,i=void 0===o?16:o,a=e.color,u=void 0===a?"currentColor":a,l=e.foreground,c=dn(e,["width","height","color","foreground"]);return(0,r.jsx)("svg",fn(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){cn(e,t,n[t])}))}return e}({},(0,s.Z)(c)),{width:n,height:i,viewBox:"0 0 16 16",fill:"none",children:(0,r.jsx)("path",{d:"M12 4.66668L11.06 3.72668L6.83332 7.95335L7.77332 8.89335L12 4.66668ZM14.8266 3.72668L7.77332 10.78L4.98665 8.00002L4.04665 8.94002L7.77332 12.6667L15.7733 4.66668L14.8266 3.72668ZM0.273315 8.94002L3.99998 12.6667L4.93998 11.7267L1.21998 8.00002L0.273315 8.94002Z",fill:u,className:l})}))}
var hn=n(813357),En=n(87931),yn=n(531441),gn=n(299192),vn=n(784426),bn=n(840922),On=n(491275),Sn=n(551890),_n=n.n(Sn);function mn(e){var t=e.closePopout,n=(0,i.e7)([bn.Z],(function(){return bn.Z.getPendingCount()}));return(0,r.jsx)(j.TooltipContainer,{text:Ue.Z.Messages.VIEW_FRIEND_REQUESTS,children:(0,r.jsxs)(j.Clickable,{className:_n().friendRequestsButton,onClick:function(){We.default.track(X.rMx.NOTIFICATION_CENTER_ACTION,{action_type:k.ud.FRIEND_REQUESTS_BUTTON_CLICK});(0,vn.uL)(X.Z5c.FRIENDS);gn.Z.setSection(X.pJs.PENDING);t()},children:[(0,r.jsx)(On.Z,{}),(0,r.jsx)(yn.mA,{count:n,color:En.Z.BACKGROUND_ACCENT})]})})}var In=n(286385),Cn=n.n(In);function Tn(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function An(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Tn(e,t,n[t])}))}return e}function Nn(e){return(0,a.sv)()?(0,r.jsx)(Pn,An({},e)):(0,r.jsx)(Rn,An({},e))}function Pn(e){var t=e.tab,n=e.setTab,o=e.children,i=e.badgeState,a=e.closePopout,u=O.Z.useExperiment({},{autoTrackExposure:!1}).showReminders,l=(0,v.ZP)([S.Z],(function(){return S.Z.getMessageReminders()})).length;return(0,r.jsxs)(hn.h4,{className:y()(Cn().header,Cn().expanded),children:[(0,r.jsxs)("div",{className:y()(Cn().expandedInboxHeader),children:[(0,r.jsx)(p,{className:Cn().inboxIcon}),(0,r.jsx)(j.Text,{className:Cn().inboxTitle,variant:"text-lg/semibold",children:Ue.Z.Messages.INBOX}),(0,r.jsx)(mn,{closePopout:a})]}),(0,r.jsxs)("div",{className:y()(Cn().expandedTabSection),children:[(0,r.jsxs)(j.TabBar,{selectedItem:t,type:"top-pill",onItemSelect:n,children:[(0,
r.jsxs)(j.TabBar.Item,{id:w.X.FOR_YOU,"aria-label":Ue.Z.Messages.FOR_YOU,className:y()(Cn().tab,Cn().expanded,Tn({},Cn().active,t===w.X.FOR_YOU)),children:[Ue.Z.Messages.FOR_YOU,(null==i?void 0:i.badgeForYou)?(0,r.jsx)(yn.fW,{color:En.Z.STATUS_DANGER,className:y()(Cn().iconBadge)}):null]}),(0,r.jsx)(j.TabBar.Item,{id:w.X.UNREADS,className:y()(Cn().tab,Cn().expanded,Tn({},Cn().active,t===w.X.UNREADS)),children:Ue.Z.Messages.UNREADS_TAB_LABEL}),(0,r.jsx)(j.TabBar.Item,{"aria-label":Ue.Z.Messages.MENTIONS,id:w.X.MENTIONS,className:y()(Cn().tab,Cn().expanded,Tn({},Cn().active,t===w.X.MENTIONS)),children:Ue.Z.Messages.MENTIONS}),u?(0,r.jsxs)(j.TabBar.Item,{"aria-label":"todos",id:w.X.TODOS,className:y()(Cn().tab,Cn().expanded,Tn({},Cn().active,t===w.X.TODOS)),children:[Ue.Z.Messages.MESSAGE_REMINDERS_HEADER,l>0?(0,r.jsx)(yn.fW,{color:En.Z.STATUS_DANGER,className:y()(Cn().iconBadge)}):null]}):null]}),(0,r.jsx)("div",{className:Cn().controls,children:o})]})]})}function Rn(e){
var t=e.tab,n=e.setTab,o=e.children,i=O.Z.useExperiment({},{autoTrackExposure:!1}).showReminders,u=(0,a.sv)();return(0,r.jsxs)(hn.h4,{className:Cn().header,children:[(0,r.jsxs)(j.TabBar,{selectedItem:t,type:"top-pill",onItemSelect:n,className:Cn().tabBar,children:[u?(0,r.jsx)(j.TabBar.Item,{id:w.X.FOR_YOU,className:y()(Cn().tab,Tn({},Cn().active,t===w.X.FOR_YOU)),children:Ue.Z.Messages.FOR_YOU}):null,(0,r.jsx)(j.TabBar.Item,{id:w.X.MENTIONS,className:y()(Cn().tab,Tn({},Cn().active,t===w.X.MENTIONS)),children:Ue.Z.Messages.MENTIONS}),(0,r.jsx)(j.TabBar.Item,{id:w.X.UNREADS,className:y()(Cn().tab,Tn({},Cn().active,t===w.X.UNREADS)),children:Ue.Z.Messages.UNREADS_TAB_LABEL}),i?(0,r.jsx)(j.TabBar.Item,{id:w.X.TODOS,className:y()(Cn().tab,Tn({},Cn().active,t===w.X.TODOS)),children:Ue.Z.Messages.MESSAGE_REMINDERS_HEADER}):null]}),(0,r.jsx)("div",{className:Cn().controls,children:o})]})}var Ln=n(31129),wn=n.n(Ln);function jn(e,t){(null==t||t>e.length)&&(t=e.length)
;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Dn(e){return function(e){if(Array.isArray(e))return jn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return jn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jn(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mn(e){var t=e.onClick;return(0,r.jsx)(Mt.ZP,{tooltip:Ue.Z.Messages.MARK_ALL_AS_READ,color:Mt.YX.SECONDARY,icon:(0,r.jsx)(pn,{}),onClick:t})}function Zn(e){var t=e.setTab,n=e.badgeState,a=e.closePopout,u=function(){var e=je({isFocused:!0
}),t=e.initialized,n=e.loading,r=e.items,o=e.hasMore,i=e.loadMore;return{initialized:t,loading:n,items:r.filter((function(e){return"notification-center-item"===e.kind})),hasMore:o,loadMore:i}}(),l=u.initialized,s=u.items,c=u.loading,f=u.loadMore,d=(0,i.e7)([x.Z],(function(){return x.Z.localItems})),p=o.useMemo((function(){return Dn(Dn(s).concat(Dn(d)).sort((function(e,t){return-1*U.default.compare(e.id,t.id)})))}),[s,d]),h=s.length>0?s[0]:null,E=Q.d$.useSetting(),y=o.useMemo((function(){if(null!=h&&U.default.compare(h.id,E)<=0)return!1;var e=!0,t=!1,n=void 0;try{for(var r,o=p[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var i=r.value;if(U.default.compare(i.id,E)<=0)break;if(!(0,F.r)(i,E))return!0}}catch(e){t=!0;n=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}return!1}),[h,E,p]);return(0,r.jsxs)("div",{className:wn().container,children:[(0,r.jsx)(Nn,{tab:w.X.FOR_YOU,setTab:t,badgeState:n,closePopout:a,children:y?(0,r.jsx)(Mn,{onClick:function(){if(null!=h){
Q.d$.updateSetting(h.id);We.default.track(X.rMx.NOTIFICATION_CENTER_ACTION,{action_type:k.ud.MARK_ALL_READ})}}}):null}),(0,r.jsx)(sn,{initialized:l,items:p,loading:c,loadMore:f})]})}var Un=n(441143),xn=n.n(Un),kn=n(730381),Fn=n.n(kn),Gn=n(971402),Bn=n(336334),Hn=n(621647),Vn=n(773011),Yn=n(931893),Kn=n(343318),zn=n(61209),Wn=n(352980);function Qn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){u=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Qn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Xn=n(210595),Jn=n(382060),$n=n(4798);var er=n(487868),tr=n(567403),nr=n(124251),rr=n(457997);function or(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ir(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){
Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function ar(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function ur(e){var t=e.width,n=void 0===t?16:t,o=e.height,i=void 0===o?16:o,a=e.color,u=void 0===a?"currentColor":a,l=e.foreground,c=ar(e,["width","height","color","foreground"]);return(0,r.jsx)("svg",ir(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){or(e,t,n[t])}))}return e}({},(0,s.Z)(c)),{
width:n,height:i,viewBox:"0 0 16 16",children:(0,r.jsx)("path",{className:l,fill:u,d:"M6.11111111,3.88888889 L6.11111111,0.833333333 L9.16666667,3.88888889 L6.11111111,3.88888889 Z M1.11111111,0 C0.494444444,0 0,0.494444444 0,1.11111111 L0,8.88888889 C0,9.50253861 0.497461389,10 1.11111111,10 L8.88888889,10 C9.50253861,10 10,9.50253861 10,8.88888889 L10,3.33333333 L6.66666667,0 L1.11111111,0 Z",transform:"translate(3 3)"})}))}var lr=n(465637),sr=n(277380),cr=n.n(sr);function fr(e){var t=e.Icon,n=e.header,o=e.tip;return(0,r.jsxs)("div",{className:cr().container,children:[(0,r.jsxs)("div",{className:cr().iconContainer,children:[(0,r.jsx)(t,{className:cr().icon,width:36,height:36}),(0,r.jsx)(lr.Z,{className:cr().stars})]}),(0,r.jsx)(j.Heading,{className:cr().header,variant:"heading-xl/semibold",children:n}),(0,r.jsxs)(j.Text,{color:"header-secondary",variant:"text-xs/normal",children:[(0,r.jsxs)(j.Text,{tag:"span",className:cr().protip,variant:"text-xs/bold",color:"text-positive",
children:[Ue.Z.Messages.FORM_LABEL_ROLES_PRO_TIP,":"," "]}),o]})]})}var dr=n(695972),pr=n.n(dr),hr=n(161101),Er=n.n(hr);function yr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gr(e,t,n,r,o,i,a){try{var u=e[i](a),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,o)}function vr(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){gr(i,r,o,a,u,"next",e)}function u(e){gr(i,r,o,a,u,"throw",e)}a(void 0)}))}}function br(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Or(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})))
;n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Sr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){u=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return yr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yr(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var _r=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){
a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},mr={offset:{left:4,right:-12}};function Ir(e){var t=e.setTab,n=e.closePopout,a=(0,i.e7)([S.Z],(function(){return S.Z.getMessageReminders()}));o.useEffect((function(){return function(){(0,Yn.Mf)()}}),[]);var u=Sr(o.useState(!1),2),l=u[0],s=u[1],c=o.useMemo((function(){return a.filter((function(e){return null==e.dueAt||e.dueAt<new Date}))}),[a]),f=l?a:c;!function(e){var t=(0,i.Wu)([zn.Z,Wn.Z],(function(){return e.filter((function(e){return null!=zn.Z.getChannel(e.channelId)})).map((function(e){return Wn.Z.getMessage(e.channelId,e.messageId)})).filter((function(e){return null!=e}))})),n=e.filter((function(e){return null==Wn.Z.getMessage(e.channelId,e.messageId)})),r=qn(o.useState(0===n.length),2),a=r[0],u=r[1];o.useEffect((function(){(0,Yn.sE)()}),[])
;o.useEffect((function(){if(!a){n.forEach((function(e){try{Bn.Z.fetchMessages({channelId:e.channelId,limit:1,jump:{messageId:e.messageId,flash:!1,offset:1}})}catch(e){}}));u(!0)}}),[n,a])}(f.filter((function(e){return!(0,Kn.uX)(e)})));return(0,r.jsxs)("div",{className:pr().container,children:[(0,r.jsx)(Nn,{tab:w.X.TODOS,setTab:t,closePopout:n}),(0,r.jsxs)("div",{className:pr().headerText,children:[(0,r.jsx)(j.Heading,{variant:"heading-lg/bold",children:l?Ue.Z.Messages.MESSAGE_REMINDERS_HEADER_ALL:Ue.Z.Messages.MESSAGE_REMINDERS_HEADER_OVERDUE}),(0,r.jsx)(j.Anchor,{onClick:function(){return s(!l)},children:(0,r.jsx)(j.Text,{variant:"text-sm/normal",color:"text-link",children:l?Ue.Z.Messages.MESSAGE_REMINDERS_HEADER_SHOW_OVERDUE.format({count:c.length}):Ue.Z.Messages.MESSAGE_REMINDERS_HEADER_SHOW_ALL.format({count:a.length})})})]}),0===f.length?(0,r.jsx)(Tr,{}):null,(0,r.jsx)(j.AdvancedScrollerThin,{children:f.map((function(e){return t=e,[(0,r.jsx)(Cr,{messageId:t.messageId
},t.messageId)];var t}))})]})}function Cr(e){var t=e.messageId,o=(0,i.e7)([S.Z],(function(){return S.Z.getMessageReminders().find((function(e){return e.messageId===t}))}));xn()(null!=o,"should not be rendering a to-do message without a to-do message");var a=o.complete,u=(0,i.e7)([Wn.Z],(function(){return Wn.Z.getMessage(o.channelId,o.messageId)})),s=function(e){var t,n,r,o=Wn.Z.getMessage(e.channelId,e.messageId),i=l.default.getUser(e.authorId),a=zn.Z.getChannel(e.channelId),u=null!=i?i:new ze.Z({id:e.authorId,username:e.authorSummary}),s=new $n.Z({id:e.messageId,channel_id:e.channelId,author:u,content:e.messageSummary}),c=null==e.guildId?new Jn.cE({id:e.channelId,type:Xn.d.DM,name:null!==(t=e.channelSummary)&&void 0!==t?t:"",guild_id:"",recipients:[null!==(n=e.authorId)&&void 0!==n?n:""]}):new Jn.DA({id:e.channelId,type:null==e.guildId?Xn.d.DM:Xn.d.GUILD_TEXT,name:null!==(r=e.channelSummary)&&void 0!==r?r:"",guild_id:e.guildId});return{channel:null!=a?a:c,message:null!=o?o:s}
}(o),c=s.message,f=s.channel,d=zn.Z.getChannel(f.id),p=(0,Vn.ZP)(d,!0),h=null!=p?p:f.name,E=(0,i.e7)([tr.Z],(function(){return tr.Z.getGuild(null==f?void 0:f.guild_id)})),g=null!=f?(0,Hn.x)(f):null,v=null,b=void 0;if(null!=o.dueAt)if(o.dueAt>new Date){b="text-muted";v=Ue.Z.Messages.MESSAGE_REMINDERS_DUE_IN.format({duration:Fn().duration(o.dueAt.getTime()-Date.now(),"millisecond").humanize()})}else{b="text-danger";v=Ue.Z.Messages.MESSAGE_REMINDERS_OVERDUE.format({duration:Fn().duration(Date.now()-o.dueAt.getTime(),"millisecond").humanize()})}return(0,r.jsxs)("div",{className:Er().container,children:[(0,r.jsxs)("div",{className:pr().messageHeader,children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:pr().messageInfo,children:[null!=E?(0,r.jsx)(nr.Z,{className:pr().guildIcon,guild:E,size:nr.Z.Sizes.SMALL,active:!0}):(0,r.jsx)(j.Avatar,{"aria-hidden":!0,src:null!=g?g:n(823653),size:j.AvatarSizes.SIZE_32}),(0,r.jsx)(j.Text,{variant:"text-md/medium",color:"header-primary",
selectable:!0,children:h})]}),null!=o.notes&&o.notes.length>0?(0,r.jsxs)(j.Text,{variant:"text-sm/normal",color:"text-muted",className:pr().notes,selectable:!0,children:[(0,r.jsx)(ur,{width:12,height:12}),o.notes]}):null,null!=v?(0,r.jsx)(j.Text,{variant:"text-sm/medium",color:b,style:{marginTop:4},children:v}):null]}),(0,r.jsxs)("div",{className:pr().reminderActions,children:[(0,r.jsx)(j.TooltipContainer,{text:Ue.Z.Messages.MESSAGE_REMINDERS_SNOOZE,children:(0,r.jsx)(j.Clickable,{onClick:function(e){return(0,Gn.jW)(e,vr((function(){var e,t;return _r(this,(function(o){switch(o.label){case 0:return[4,n.e(3404).then(n.bind(n,903404))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Or(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))))
;r.forEach((function(t){br(e,t,n[t])}))}return e}({},e),{message:c}))}]}}))})))},className:pr().clock,children:(0,r.jsx)(rr.Z,{})})}),(0,r.jsx)(j.Checkbox,{type:j.Checkbox.Types.INVERTED,value:a,onChange:function(e,t){(0,Yn.Y_)(o.messageId,t)}})]})]}),(0,r.jsxs)("div",{className:y()(Er().messageContainer,pr().unloadedMessage,br({},pr().disabledMessage,a)),children:[(0,r.jsx)(er.Z,{message:c,channel:f,className:Er().message,compact:Q.jU.getSetting(),animateAvatar:!1,focusProps:mr},c.id),(0,r.jsxs)("div",{className:pr().actions,children:[null==u?(0,r.jsx)(j.Button,{onClick:function(){Bn.Z.fetchMessages({channelId:o.channelId,limit:1,jump:{messageId:o.messageId,flash:!1,offset:1}})},size:j.Button.Sizes.MIN,color:j.Button.Colors.TRANSPARENT,className:pr().loadButton,children:(0,r.jsx)(j.Text,{variant:"text-xs/normal",children:"Load"})}):null,(0,r.jsx)(j.Button,{onClick:function(){(0,vn.uL)(X.Z5c.CHANNEL(null==f?void 0:f.getGuildId(),o.channelId,o.messageId))},size:j.Button.Sizes.MIN,
color:j.Button.Colors.TRANSPARENT,className:pr().loadButton,children:(0,r.jsx)(j.Text,{variant:"text-xs/normal",children:Ue.Z.Messages.JUMP})})]})]})]})}function Tr(){return(0,i.e7)([S.Z],(function(){return S.Z.getMessageReminders().length>0}))?null:(0,r.jsx)(fr,{Icon:pn,header:Ue.Z.Messages.MESSAGE_REMINDERS_EMPTY,tip:Ue.Z.Messages.MESSAGE_REMINDERS_EMPTY_TIP})}const Ar=function(e){var t=e.guildFilter,n=e.roleFilter,r=e.everyoneFilter;W.Z.dispatch({type:"SET_RECENT_MENTIONS_FILTER",guildFilter:t,roleFilter:n,everyoneFilter:r})},Nr=function(e){W.Z.dispatch({type:"TRUNCATE_MENTIONS",size:e})},Pr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:X.DJj,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];W.Z.dispatch({type:"LOAD_RECENT_MENTIONS",guildId:n});K.Z.get({url:X.ANM.MENTIONS,query:{before:e,limit:t,guild_id:n,roles:r,everyone:o
},retries:2,oldFormErrors:!0}).then((function(t){var n=t.body;W.Z.dispatch({type:"LOAD_RECENT_MENTIONS_SUCCESS",messages:n,isAfter:null!=e,hasMoreAfter:n.length>=X.DJj})}),(function(){W.Z.dispatch({type:"LOAD_RECENT_MENTIONS_FAILURE"})}))},Rr=function(e){K.Z.delete({url:X.ANM.MENTIONS_MESSAGE_ID(e),retries:2,oldFormErrors:!0});W.Z.dispatch({type:"RECENT_MENTION_DELETE",id:e})};var Lr=n(634698),wr=n(715107),jr=n(749131),Dr=n(189865),Mr=n(399185),Zr=n.n(Mr);function Ur(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){u=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(!e)return
;if("string"==typeof e)return Ur(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ur(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kr(e){var t=e.className,n=e.onJump,i=xr(o.useState(!1),2),a=i[0],u=i[1];return(0,r.jsx)(j.Clickable,{className:y()(Zr().jumpButton,t),onClick:function(e){u(!0);n(e)},children:a?(0,r.jsx)(j.Spinner,{type:j.Spinner.Type.PULSING_ELLIPSIS}):(0,r.jsx)(j.Text,{variant:"text-xs/normal",className:Zr().text,children:Ue.Z.Messages.JUMP})})}function Fr(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Gr(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Br(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function Hr(e){var t=e.width,n=void 0===t?16:t,o=e.height,i=void 0===o?16:o,a=e.color,u=void 0===a?"currentColor":a,l=e.foreground,c=Br(e,["width","height","color","foreground"]);return(0,
r.jsx)("svg",Gr(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Fr(e,t,n[t])}))}return e}({},(0,s.Z)(c)),{width:n,height:i,fill:"none",children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",
d:"M4.33331 1.33331C3.78103 1.33331 3.33331 1.78103 3.33331 2.33331V9.99998H2.33331C1.78103 9.99998 1.33331 10.4477 1.33331 11C1.33331 11.5523 1.78103 12 2.33331 12H3.33331V13.6666C3.33331 14.2189 3.78103 14.6666 4.33331 14.6666C4.8856 14.6666 5.33331 14.2189 5.33331 13.6666V12H6.33331C6.8856 12 7.33331 11.5523 7.33331 11C7.33331 10.4477 6.8856 9.99998 6.33331 9.99998H5.33331V2.33331C5.33331 1.78103 4.8856 1.33331 4.33331 1.33331ZM10.6666 2.33331C10.6666 1.78103 11.1144 1.33331 11.6666 1.33331C12.2189 1.33331 12.6666 1.78103 12.6666 2.33331V3.99998H13.6666C14.2189 3.99998 14.6666 4.44769 14.6666 4.99998C14.6666 5.55226 14.2189 5.99998 13.6666 5.99998H12.6666V13.6666C12.6666 14.2189 12.2189 14.6666 11.6666 14.6666C11.1144 14.6666 10.6666 14.2189 10.6666 13.6666V5.99998H9.66665C9.11436 5.99998 8.66665 5.55226 8.66665 4.99998C8.66665 4.44769 9.11436 3.99998 9.66665 3.99998H10.6666V2.33331Z",fill:u,className:l})}))}var Vr=n(358125),Yr=n.n(Vr),Kr=function(e){
var t=e.text,n=e.icon,o=e.onClick,i=n;return(0,r.jsxs)(j.Button,{className:Yr().button,innerClassName:Yr().buttonInner,onClick:o,children:[(0,r.jsx)(i,{}),(0,r.jsx)(j.Text,{variant:"text-md/semibold",color:"none",children:t})]})};function zr(e){var t=e.closePopout,n=e.onSelect,o=(0,i.e7)([zn.Z,wr.Z],(function(){return zn.Z.getChannel(wr.Z.getChannelId())})),a=(0,i.cj)([fe.Z],(function(){return{everyoneFilter:fe.Z.everyoneFilter,roleFilter:fe.Z.roleFilter,guildFilter:fe.Z.guildFilter}})),u=a.everyoneFilter,l=a.roleFilter,s=a.guildFilter;return(0,r.jsxs)(j.Menu,{navId:"mentions-filter","aria-label":Ue.Z.Messages.FILTER,onClose:t,onSelect:n,children:[(0,r.jsx)(j.MenuCheckboxItem,{id:"Everyone",label:Ue.Z.Messages.RECENT_MENTIONS_FILTER_EVERYONE,action:function(){Ar({everyoneFilter:!u})},checked:u}),(0,r.jsx)(j.MenuCheckboxItem,{id:"Roles",label:Ue.Z.Messages.RECENT_MENTIONS_FILTER_ROLES,action:function(){Ar({roleFilter:!l})},checked:l}),null==o||o.isPrivate()?null:(0,
r.jsx)(j.MenuCheckboxItem,{id:"All Servers",label:Ue.Z.Messages.RECENT_MENTIONS_FILTER_ALL_SERVERS,action:function(){Ar({guildFilter:s===X.NgX.THIS_SERVER?X.NgX.ALL_SERVERS:X.NgX.THIS_SERVER})},checked:s===X.NgX.ALL_SERVERS})]})}function Wr(){return(0,r.jsx)(j.Popout,{align:"right",animation:j.Popout.Animation.NONE,position:"bottom",renderPopout:function(e){var t=e.closePopout;return(0,r.jsx)(zr,{closePopout:t})},children:function(e){var t=e.onClick;return(0,r.jsx)(Mt.ZP,{tooltip:Ue.Z.Messages.FILTER,color:Mt.YX.SECONDARY,icon:(0,r.jsx)(Hr,{}),onClick:t})}})}var Qr=n(106555),qr=n(239813),Xr=n(177570),Jr=n(491260),$r=n(901165),eo=n(443812),to=n(164973),no=n.n(to);function ro(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function oo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ro(e,t,n[t])}))}return e}function io(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var ao={top:8,bottom:8,left:-4,right:-4};function uo(e){var t=e.channel,n=e.children,o=e.gotoChannel,i=e.mentionCount,a=e.channelState,u=e.toggleCollapsed,l=(0,De.JA)("recents-header-".concat(t.id,"-").concat((0,eo.Dt)()));return(0,r.jsx)(j.FocusRing,{offset:ao,children:(0,r.jsxs)("div",io(oo({
className:no().channelHeader},l),{tabIndex:0,"data-recents-channel":t.id,onKeyDown:function(e){null!=u&&null!=a&&("ArrowRight"===e.key&&a.collapsed||"ArrowLeft"===e.key&&!a.collapsed)&&(null==u||u(a))},children:[(0,r.jsx)(lo,{channel:t,gotoChannel:o}),(0,r.jsx)(fo,{channel:t,gotoChannel:o,mentionCount:i}),n]}))})}function lo(e){var t=e.channel,n=e.gotoChannel;return t.isPrivate()?(0,r.jsx)(so,{channel:t,gotoChannel:n}):(0,r.jsx)(co,{channel:t,gotoChannel:n})}function so(e){var t=e.channel,n=e.gotoChannel,o=(0,i.e7)([l.default],(function(){return t.isDM()?l.default.getUser(t.getRecipientId()):null})),a=null==o?(0,Hn.x)(t):o.getAvatarURL(void 0,40);return(0,r.jsx)(j.Clickable,{onClick:n,tabIndex:-1,children:(0,r.jsx)("img",{className:no().dmIcon,src:a,alt:"","aria-hidden":!0})})}function co(e){var t=e.channel,n=e.gotoChannel,o=(0,i.e7)([tr.Z],(function(){return tr.Z.getGuild(t.guild_id)}));return null==o?null:(0,r.jsx)(nr.Z,{"aria-hidden":!0,className:no().guildIcon,guild:o,
size:nr.Z.Sizes.MEDIUM,active:!0,onClick:n,tabIndex:-1})}function fo(e){var t=e.channel,n=e.gotoChannel,o=e.mentionCount,a=(0,i.e7)([tr.Z],(function(){return tr.Z.getGuild(t.guild_id)})),u=(0,i.e7)([zn.Z],(function(){return zn.Z.getChannel(t.parent_id)})),l=(0,qr.KS)(t,a),s=(0,Vn.ZP)(t,!1),c=null==u?null==a?void 0:a.name:"".concat(null==a?void 0:a.name,"  ").concat(u.name),f=t.isMultiUserDM()?Ue.Z.Messages.MEMBERS_HEADER.format({members:t.recipients.length+1}):t.isPrivate()?(0,r.jsx)(po,{channel:t}):(0,r.jsx)(j.Clickable,{className:y()(no().subtext,no().guildName),onClick:n,children:c});return(0,r.jsxs)("div",{className:no().channelNameSection,children:[(0,r.jsx)(j.Heading,{variant:"heading-md/semibold",className:no().channelNameHeader,children:(0,r.jsxs)(j.Clickable,{className:no().channelName,onClick:n,children:[t.isThread()||t.isGroupDM()||null==l?null:(0,r.jsx)(l,{className:t.isForumLikeChannel()?no().forumIcon:void 0,width:18,height:18}),(0,r.jsx)("span",{
className:no().channelNameSpan,children:s}),null!=o&&o>0?(0,r.jsx)($r.Z,{value:o,className:no().badge}):null]})}),(0,r.jsx)(j.Text,{color:"header-secondary",variant:"text-xs/normal",className:no().subtextContainer,children:f})]})}function po(e){var t=e.channel,n=(0,i.cj)([l.default,Jr.Z,Xr.Z],(function(){var e=l.default.getUser(t.getRecipientId());return{activities:null!=e?Jr.Z.getActivities(e.id):null,applicationStream:null!=e?Xr.Z.getAnyStreamForUser(e.id):null}})),o=n.activities,a=n.applicationStream;return null==o?null:(0,r.jsx)(Qr.Z,{className:no().activityStatus,emojiClassName:no().activityEmoji,activities:o,applicationStream:a,hideTooltip:!0})}var ho={offset:{left:4,right:-12}};function Eo(e,t,n){var r=t?fe.Z.guildFilter:null,o=t?fe.Z.roleFilter:null,i=t?fe.Z.everyoneFilter:null,a=null;null!=e&&null!=r&&(a=r===X.NgX.ALL_SERVERS?null:e.getGuildId());Pr(n,X.DJj,a,o,i)}function yo(e){var t=e.setTab,n=e.onJump,a=e.badgeState,u=e.closePopout,l=(0,i.e7)([zn.Z,wr.Z],(function(){
return zn.Z.getChannel(wr.Z.getChannelId())})),s=(0,i.cj)([fe.Z],(function(){return{messages:fe.Z.getMentions(),hasMore:fe.Z.hasMore,loading:fe.Z.loading,guildFilter:fe.Z.guildFilter,roleFilter:fe.Z.roleFilter,everyoneFilter:fe.Z.everyoneFilter}})),c=s.messages,f=s.hasMore,d=s.loading,p=s.guildFilter,h=s.roleFilter,E=s.everyoneFilter,y=!0,g=(0,Lr.Z)(p),v=(0,Lr.Z)(h),b=(0,Lr.Z)(E);o.useEffect((function(){fe.Z.hasLoadedEver?y&&(null!=g&&p!==g||null!=v&&h!==v||null!=b&&E!==b)&&Eo(l,y):Eo(l,y)}),[g,p,v,h,b,E,l,y]);o.useEffect((function(){return function(){Nr(X.DJj)}}),[]);var O=o.useCallback((function(){return(0,r.jsx)(Nn,{tab:w.X.MENTIONS,setTab:t,badgeState:a,closePopout:u,children:y?(0,r.jsx)(Wr,{}):null})}),[y,t,a,u]);return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(hn.ZP,{className:Er().recentMentionsPopout,scrollerClassName:Er().scroller,onFetch:function(){return null},onJump:n,onCloseMessage:function(e){Rr(e.id)},channel:l,messages:c,loading:d,hasMore:f,
analyticsName:"Recent Mentions",loadMore:function(){var e=null!=c&&c.length>0?c[c.length-1].id:null;Eo(l,y,e)},canCloseAllMessages:!0,renderHeader:O,renderEmptyState:Oo,renderMessage:y?vo:go,"aria-label":Ue.Z.Messages.RECENT_MENTIONS,listName:"recents"})})}function go(e,t){return[(0,r.jsx)(bo,{message:e,gotoMessage:t},e.id)]}function vo(e,t){return[(0,r.jsx)(bo,{message:e,gotoMessage:t,dismissible:!0},e.id)]}function bo(e){var t=e.message,n=e.gotoMessage,o=e.dismissible;if(null==t)return null;var i=zn.Z.getChannel(t.channel_id);return null==i?null:(0,r.jsxs)("div",{className:Er().container,children:[(0,r.jsx)(uo,{channel:i,gotoChannel:n,children:null!=o?(0,r.jsx)(Mt.ZP,{className:Er().closeButton,tooltip:Ue.Z.Messages.CLOSE,color:Mt.YX.TERTIARY,icon:(0,r.jsx)(Dr.Z,{width:16,height:16}),onClick:function(){return Rr(t.id)}}):null}),(0,r.jsxs)("div",{className:Er().messageContainer,children:[(0,r.jsx)(kr,{className:Er().jumpButton,onJump:n}),(0,r.jsx)(er.Z,{message:t,channel:i,
className:Er().message,compact:Q.jU.getSetting(),animateAvatar:!1,focusProps:ho},t.id)]})]})}function Oo(e){return(0,r.jsx)(fr,{Icon:jr.Z,header:Ue.Z.Messages.RECENT_MENTIONS_EMPTY_STATE_HEADER,tip:Ue.Z.Messages.RECENT_MENTIONS_EMPTY_STATE_TIP})}var So=n(131795),_o=n.n(So);function mo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Io(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){u=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return mo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Co(e){var t=e.type,n=e.onClick,i=Io(o.useState(!1),2),u=i[0],l=i[1],s=(0,a.sv)(),c=function(){n();We.default.track(X.rMx.INBOX_CHANNEL_ACKED,{marked_all_channels_as_read:!0,num_unread_channels_remaining:0})},f=function(e){e.shiftKey?c():l(!0)};return(0,r.jsxs)(r.Fragment,{children:[u?(0,r.jsx)(To,{confirm:c,cancel:function(){return l(!1)}}):null,"bottom-floating"===t?(0,r.jsx)(Kr,{text:Ue.Z.Messages.MARK_ALL_AS_READ,icon:pn,onClick:f}):(0,r.jsx)(Mt.ZP,{tooltip:s?Ue.Z.Messages.MARK_ALL_AS_READ:Ue.Z.Messages.UNREADS_MARK_READ,color:Mt.YX.SECONDARY,icon:(0,r.jsx)(pn,{}),onClick:f})]})}function To(e){var t=e.cancel,n=e.confirm;return(0,r.jsx)(j.DeclarativeConfirmModal,{dismissable:!0,
header:Ue.Z.Messages.UNREADS_CONFIRM_MARK_ALL_READ_HEADER,confirmText:Ue.Z.Messages.MARK_AS_READ,cancelText:Ue.Z.Messages.CANCEL,confirmButtonColor:j.Button.Colors.BRAND,onCancel:t,onConfirm:n,children:(0,r.jsx)(j.Text,{color:"text-normal",variant:"text-sm/normal",children:Ue.Z.Messages.UNREADS_CONFIRM_MARK_ALL_READ_DESCRIPTION})})}var Ao=n(34225),No=n(248088),Po=n(396043),Ro=n(343557),Lo=n(718831),wo=n(621329),jo=n(140567),Do=n(551856),Mo=n(312682);function Zo(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Uo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Zo(e,t,n[t])}))}return e}function xo(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function ko(e){var t=e.channel;return(0,r.jsx)(j.Popout,{align:"right",animation:j.Popout.Animation.NONE,position:"bottom",renderPopout:function(e){return t.isThread()?(0,r.jsx)(Do.Z,xo(Uo({},e),{channel:t,navId:"recents-thread-notifications",label:Ue.Z.Messages.RECENTS_NOTIFICATIONS_MENU_LABEL})):(0,r.jsx)(jo.Z,xo(Uo({},e),{channel:t,navId:"recents-notifications",label:Ue.Z.Messages.RECENTS_NOTIFICATIONS_MENU_LABEL,location:{section:X.jXE.INBOX},includeGuildMute:!0}))},children:function(e){var t=e.onClick;return(0,r.jsx)(Mt.ZP,{
tooltip:Ue.Z.Messages.NOTIFICATION_SETTINGS,color:Mt.YX.TERTIARY,icon:(0,r.jsx)(Mo.Z,{width:16,height:16}),onClick:t})}})}var Fo=n(219785),Go=n(503871),Bo=n(536945),Ho=n(367406),Vo=n(72580),Yo=n(379364),Ko=n(242857),zo=n.n(Ko);function Wo(e){var t=e.channel,n=e.channelRecord,a=e.deleteChannel,u=(0,i.Wu)([Bo.Z,zn.Z],(function(){return B()(Bo.Z.getThreadsForParent(n.guild_id,n.id)).values().filter((function(e){var n=e.id;return U.default.compare(n,t.oldestReadMessageId)>0})).map((function(e){var t=e.id;return zn.Z.getChannel(t)})).filter(Vo.lm).sort((function(e,t){return U.default.compare(e.id,t.id)})).value()}),[]),l=o.useCallback((function(e,t){(0,Ho.ok)(e,t,Yo.on.INBOX)}),[]);o.useEffect((function(){null==n||!t.isFullyLoaded||t.hasError||t.collapsed||0!==u.length||W.Z.wait((function(){(0,H.In)(t.channelId,!0);a(t.channelId)}))}));return(0,r.jsx)("div",{className:zo().container,children:u.map((function(e){return(0,r.jsx)(Go.oL,{createStore:function(){return(0,Go.NU)(n)},children:(0,
r.jsx)(Fo.ZP,{className:zo().forumPost,threadId:e.id,goToThread:l})},e.id)}))})}var Qo=n(385983),qo=n(321705),Xo=n(249132),Jo=n(349658),$o=n(4361),ei=n(490355),ti=n(508754),ni=n(732827),ri=n(661123),oi=n(791707),ii=n(550131),ai=n(271643),ui=n(283285),li=n(323725),si=n(545516),ci=n(442053),fi=n(649252),di=n(714357),pi=n(326763),hi=n.n(pi),Ei=n(13489),yi=n.n(Ei);function gi(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function vi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){gi(e,t,n[t])}))}return e}function bi(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e)
;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Oi(e){var t,n,o,a=e.channel,u=e.message,l=e.compact,s=void 0!==l&&l,c=e.className,f=e.onContextMenu,d=e.onClick,p=e.disableInteraction,h=void 0!==p&&p,E=e.hasThread,g=e.treatSpam,v=X.OBS.has(u.type)?u.messageReference:void 0,b=(0,i.e7)([ei.Z],(function(){return ei.Z.getMessageByReference(v)})),O=(0,i.e7)([zn.Z],(function(){return u.type===X.uaV.THREAD_STARTER_MESSAGE&&b.state===ei.Y.LOADED?zn.Z.getChannel(b.message.channel_id):null})),S=Q.x4.useSetting(),_=Q.RS.useSetting(),m=Q.NA.useSetting()&&!u.author.isClyde(),I=Q.QK.useSetting(),C=(0,$o.dj)(u.id),T=(0,$o.tu)(null!==(t=null==a?void 0:a.guild_id)&&void 0!==t?t:"",u.id),A=(0,ui.Z)(u,{hideSimpleEmbedContent:_&&m,
allowList:C.showListsAndHeaders||T.showListsAndHeaders,allowHeading:C.showListsAndHeaders||T.showListsAndHeaders,allowLinks:C.showMaskedLinks||T.showMaskedLinks,previewLinkTarget:C.showMaskedLinks||T.showMaskedLinks}),N=A.content,P=A.hasSpoilerEmbeds,R=(0,ii.ZP)(u),L=(0,i.e7)([zn.Z],(function(){return u.hasFlag(X.iLy.HAS_THREAD)&&zn.Z.getChannel(u.id)}));if(u.type===X.uaV.THREAD_STARTER_MESSAGE&&b.state===ei.Y.LOADED&&null!=O)return(0,r.jsx)(Oi,bi(vi({},e),{message:b.message,channel:O,hasThread:!1}));bn.Z.isBlocked(u.author.id)?n=Ue.Z.Messages.BLOCKED_MESSAGE_COUNT:(0,Jo.DQ)(u)&&g&&(n=Ue.Z.Messages.HIDDEN_SPAM_MESSAGE_COUNT);return void 0!==n?(0,r.jsx)(_i,{className:c,compact:s,count:1,collapsedReason:n}):(0,r.jsx)(ti.Z,{compact:s,className:y()(c,(o={},gi(o,yi().ephemeral,(0,ri.yE)(u.flags,X.iLy.EPHEMERAL)),gi(o,yi().disableInteraction,h),gi(o,yi().groupStart,e.isGroupStart),o)),childrenRepliedMessage:(0,di.Z)(u,a,v,b,s),childrenHeader:(0,si.Z)(bi(vi({},e),{author:R,guildId:a.guild_id
})),childrenAccessories:(0,r.jsx)(ai.BB,{channel:a,message:u,hasSpoilerEmbeds:P,compact:s,canSuppressEmbeds:!1,canDeleteAttachments:!1,disableReactionReads:!1,disableReactionCreates:!1,disableReactionUpdates:!1,renderThreadAccessory:E,renderComponentAccessory:!1,inlineAttachmentMedia:S,inlineEmbedMedia:_,renderEmbeds:m,gifAutoPlay:I,showListsAndHeaders:C.showListsAndHeaders||T.showListsAndHeaders,showMaskedLinks:C.showMaskedLinks||T.showMaskedLinks}),childrenExecutedCommand:(0,fi.Z)(u,a,s),childrenMessageContent:(0,li.Z)(e,N),childrenSystemMessage:(0,ci.Z)(e),onContextMenu:f,onClick:d,hasThread:!1!==E&&null!=L&&u.hasFlag(X.iLy.HAS_THREAD),hasReply:u.type===X.uaV.REPLY,isSystemMessage:(0,oi.Z)(u)})}const Si=o.memo(Oi);function _i(e){var t=e.className,n=e.count,o=e.compact,i=e.collapsedReason;return(0,r.jsx)(ti.Z,{className:t,compact:o,role:"group",childrenMessageContent:(0,r.jsx)(ni.Z,{compact:o,className:hi().blockedSystemMessage,iconNode:(0,r.jsx)(Dr.Z,{className:hi().blockedIcon}),
children:(0,r.jsx)("div",{className:hi().blockedMessageText,children:i.format({count:n})})})})}var mi=n(736818),Ii=n(682776),Ci=n(70145),Ti=n(717187),Ai=n.n(Ti),Ni=n(419051),Pi=n(33014),Ri=n(18882),Li=n(487685),wi=n(665783),ji=n(5544),Di=n(747126),Mi=n(107218),Zi=n(9430),Ui=n(102921);function xi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ki(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Fi(e){Fi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Fi(e)}function Gi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ki(e,t,n[t])}))}return e}function Bi(e,t){
t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Hi(e,t){return!t||"object"!==Wi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Vi(e,t){Vi=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Vi(e,t)}function Yi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value)
;if(t&&i.length===t)break}}catch(e){u=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return xi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xi(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ki,zi,Wi=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Qi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}()
;return function(){var n,r=Fi(e);if(t){var o=Fi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Hi(this,n)}}!function(e){e[e.Favorite=0]="Favorite";e[e.PrivateChannel=1]="PrivateChannel";e[e.Mentioned=2]="Mentioned";e[e.AllMessagesNotifications=3]="AllMessagesNotifications";e[e.GuildChannel=4]="GuildChannel";e[e.OldChannel=5]="OldChannel";e[e.NoNotifications=6]="NoNotifications";e[e.ReallyOldChannel=7]="ReallyOldChannel"}(Ki||(Ki={}));!function(e){e.Loading="loading";e.Loaded="loaded";e.Done="done"}(zi||(zi={}));var qi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Vi(e,t)}(n,e);var t=Qi(n);function n(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var o;(o=t.call(this)).state=e;o.scrollerRef=r
;o.maybeLoadMore=function(){var e,t=null===(e=o.scrollerRef.current)||void 0===e?void 0:e.getScrollerState();if(null!=t){t.scrollHeight-t.scrollTop-t.offsetHeight<2e3&&o.loadMore()}};o.reloadMessages=function(){o.setState({channels:o.state.channels.map((function(e){return"messages"===e.type&&e.hasLoadedAnything?Xi(e,!1,!0):e}))})};o.getNumUnreadChannels=function(){return o.state.channels.length};o.markChannelRead=function(e){var t=e.channelId,n=e.newestUnreadMessageId;W.Z.wait((function(){return H.In(t,!0,void 0,n,{section:X.jXE.INBOX})}));if(1!==o.state.channels.length){o.setState({channels:o.updateChannel(t,(function(e){return Bi(Gi({},e),{deleted:!0})}))});b.Z.useReducedMotion&&o.deleteChannel(t);o.maybeLoadMore()}else o.deleteChannel(t)};o.markGuildRead=function(e){W.Z.wait((function(){return(0,Pi.Z)([e],X.jXE.INBOX)}));o.setState({channels:o.state.channels.filter((function(t){return t.guildId!==e}))});o.maybeLoadMore()};o.deleteChannel=function(e){o.setState({
scrollToChannelIndex:B().findIndex(o.state.channels,(function(t){return t.channelId===e})),channels:o.state.channels.filter((function(t){return t.channelId!==e}))});o.maybeLoadMore()};o.markAllRead=function(){H.y5(o.state.channels.map((function(e){return{channelId:e.channelId,messageId:e.newestUnreadMessageId}})));o.setState({channels:[]})};o.toggle=function(e){var t=e.channelId,n=e.guildId,r=o.state,i=r.channels,a=r.collapsedChannels,u=r.loadState,l=B().findIndex(i,(function(e){return e.channelId===t})),s=i[l],c=!s.collapsed;a[t]=c;(0,D.BU)(n,t,(function(e){e.collapsedInInbox=c}),D.fy.FREQUENT_USER_ACTION);o.setState({scrollToChannelIndex:l,collapsedChannels:a,loadState:u!==zi.Done||c||s.isFullyLoaded?u:zi.Loaded,channels:o.updateChannel(t,(function(e){return Bi(Gi({},e),{collapsed:c})}))});s.collapsed?s.isFullyLoaded||o.loadMore():o.maybeLoadMore()};o.handleUserGuildSettingsStoreChange=function(){var e=o.state.channels.filter((function(e){
return!Zi.Z.isGuildOrCategoryOrChannelMuted(e.guildId,e.channelId)}));e.length!==o.state.channels.length&&o.setState({channels:e})};o.handleJoinedThreadsStoreChange=function(){var e=o.state.channels.filter((function(e){return!Li.Z.isMuted(e.channelId)}));e.length!==o.state.channels.length&&o.setState({channels:e})};o.handleActiveThreadsStoreChange=function(){var e=o.state.channels.map((function(e){if("forum"===e.type){var t=Bo.Z.hasLoaded(e.guildId);return Bi(Gi({},e),{isFullyLoaded:t,hasLoadedAnything:t})}return e}));o.setState({channels:e})};return o}var r=n.prototype;r.loadMore=function(){var e=this,t=this.state,n=t.loadState,r=t.channels;if(n===zi.Loaded){var o=!1,i=r.map((function(t){if(t.isFullyLoaded||t.deleted||o)return t;if(t.collapsed)return t.hasLoadedAnything?t:Bi(Gi({},t),{hasLoadedAnything:!0});if((t=e.populateInitialStateFromStore(t)).isFullyLoaded)return t;xn()("nsfw"!==t.type,"this channel should already be loaded");"messages"===t.type&&e.loadChannelMessages(t)&&(o=!0)
;return t}));o&&!i.some((function(e,t){return e!==r[t]}))||this.setState({channels:i,loadState:o?this.state.loadState:zi.Done})}};r.populateInitialStateFromStore=function(e){if("messages"===e.type)return Xi(e,!1);if("nsfw"===e.type)return Bi(Gi({},e),{isFullyLoaded:!0,hasLoadedAnything:!0});if("forum"===e.type){var t=Bo.Z.hasLoaded(e.guildId);return Bi(Gi({},e),{isFullyLoaded:t,hasLoadedAnything:t})}(0,Vo.vE)(e)};r.clearScrollToChannelIndex=function(){this.setState({scrollToChannelIndex:null})};r.loadChannelMessages=function(e){var t=this;Bn.Z.clearChannel(e.channelId);var n=Bn.Z.fetchMessages({channelId:e.channelId,limit:X.AQB,jump:{messageId:e.oldestReadMessageId,flash:!0}});if(null==n||!1===n)return!1;this.setState({loadState:zi.Loading});n.then((function(n){t.setState({loadState:zi.Loaded,channels:t.updateChannel(e.channelId,(function(e){xn()("messages"===e.type,"channel cannot change type");var t=Xi(e,!0)
;0!==t.messages.length&&t.messages.length!==e.messages.length||(t=Bi(Gi({},t),{hasLoadedAnything:!0,isFullyLoaded:!0,hasError:!n}));return t}))})}),(function(){t.setState({loadState:zi.Loaded,channels:t.updateChannel(e.channelId,(function(e){var t;xn()("messages"===e.type,"channel cannot change type");return Bi(Gi({},Xi(e,!0)),{isFullyLoaded:!0,hasError:!0,hasLoadedAnything:!0,newestUnreadMessageId:null===(t=e.messages[e.messages.length-1])||void 0===t?void 0:t.id})}))})}));return!0};r.updateChannel=function(e,t){return this.state.channels.map((function(n){return n.channelId===e?t(n):n}))};r.setState=function(e){for(var t in e)if(e[t]!==this.state[t]){this.state=Gi({},this.state,e);this.emit("change",this.state);return}};return n}(Ai());function Xi(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=Wn.Z.getMessages(e.channelId),i=o.toArray().filter((function(t){return Ui.Z.compare(t.id,e.oldestReadMessageId)>0&&Ui.Z.compare(t.id,e.newestUnreadMessageId)<=0
})),a=i.length===e.messages.length&&i.every((function(t,n){return e.messages[n]===t}));if(a&&r)return e;var u=null!=o.getAfter(e.oldestReadMessageId)||(null===(n=i[0])||void 0===n?void 0:n.id)===e.oldestUnreadMessageId,l=i[i.length-1],s=Ui.Z.compare(null==l?void 0:l.id,e.newestUnreadMessageId)>=0||i.length>=25;return Bi(Gi({},e),{messages:i,hasLoadedAnything:e.hasLoadedAnything||u||t,hasLoadedFirst:e.hasLoadedFirst||u||t,isFullyLoaded:e.isFullyLoaded||u&&s||t&&!o.hasMoreAfter})}function Ji(){var e=function(){var e,t,n={},r=null!==(t=null===(e=M.Z.settings.guilds)||void 0===e?void 0:e.guilds)&&void 0!==t?t:{};for(var o in r)for(var i in r[o].channels){var a=zn.Z.getChannel(i);i in n&&(null==a?void 0:a.guild_id)!==o||(n[i]=r[o].channels[i].collapsedInInbox)}return n}(),t=function(e){var t=[];zn.Z.getSortedPrivateChannels().forEach((function(n){return $i(e,t,null,n.id)}));Mi.Z.getFlattenedGuildIds().forEach((function(n){if(null!=n){
var r=ji.ZP.getSelectableChannelIds(n),o=Ri.Z.getActiveJoinedUnreadThreadsForGuild(n);r.forEach((function(r){$i(e,t,n,r);var i,a=null!==(i=o[r])&&void 0!==i?i:{};for(var u in a)$i(e,t,n,u)}))}}));return B().sortBy(t,(function(e){return e.sortOrder}))}(e),n=B().uniq(t.map((function(e){return e.guildId})));W.Z.dispatch({type:"INBOX_OPEN",guildIds:n});return{collapsedChannels:e,loadState:zi.Loaded,channels:t,scrollToChannelIndex:null}}function $i(e,t,n,r){if(null!=r){var o=zn.Z.getChannel(r);if(null!=o){if(Jn.Ec.has(o.type)||!Zi.Z.isGuildOrCategoryOrChannelMuted(n,o.id)){if(o.isPrivate()){if(0===u.ZP.getMentionCount(r))return}else if(!u.ZP.hasRelevantUnread(o)&&0===u.ZP.getMentionCount(r))return;if(o.isPrivate()||Ii.Z.can(X.Plq.READ_MESSAGE_HISTORY,o)){var i=u.ZP.ackMessageId(r);if(null==i){var a=tr.Z.getGuild(o.guild_id);if(null==a||null==a.joinedAt)return;i=Ui.Z.fromTimestamp(a.joinedAt.getTime())}
var l=u.ZP.getOldestUnreadMessageId(r),s=u.ZP.lastMessageId(r),c=u.ZP.getMentionCount(r),f=c>0||o.isPrivate();if(null!=s&&!(Ui.Z.compare(i,s)>=0)){var d={guildId:n,channelId:r,oldestReadMessageId:i,oldestUnreadMessageId:l,newestUnreadMessageId:s,collapsed:!0===e[r],hasLoadedAnything:!1,hasLoadedFirst:!1,isFullyLoaded:!1,hasError:!1,hasMentionsOrUnreads:f,mentionCount:c,sortOrder:ea(n,r,l)};o.isNSFW()&&Di.Z.didAgree(o.guild_id)?t.push(Bi(Gi({},d),{type:"nsfw"})):o.isForumLikeChannel()?t.push(Bi(Gi({},d),{type:"forum"})):t.push(Bi(Gi({},d),{type:"messages",messages:[]}))}}}}}}function ea(e,t,n){var r=zn.Z.getChannel(t);if(Ni.Z.isFavorite(t))return Ki.Favorite;if(r.isPrivate())return Ki.PrivateChannel;if(u.ZP.getMentionCount(t)>0)return Ki.Mentioned;if(null!=n){var o=Ui.Z.extractTimestamp(n);if(Date.now()-o>864e6)return Ki.ReallyOldChannel;if(Date.now()-o>1728e5)return Ki.OldChannel}if(r.isThread()){var i=(0,wi.J)(r)
;return i===Yo.iN.ALL_MESSAGES?Ki.AllMessagesNotifications:i===Yo.iN.NO_MESSAGES?Ki.NoNotifications:Ki.GuildChannel}var a=Zi.Z.getChannelMessageNotifications(e,t),l=a===X.bL.NULL?Zi.Z.getMessageNotifications(e):a;return l===X.bL.ALL_MESSAGES?Ki.AllMessagesNotifications:l===X.bL.NO_MESSAGES?Ki.NoNotifications:Ki.GuildChannel}var ta=n(464977),na=n.n(ta);function ra(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function oa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ra(e,t,n[t])}))}return e}function ia(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e)
;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var aa={left:4,right:-12};function ua(e){var t,n=e.channel,i=e.message,a=e.compact,u=e.isGroupStart,l=e.treatSpam,s=e.gotoChannel,c=(0,De.JA)(null!==(t=i.id)&&void 0!==t?t:""),f=o.useCallback((function(e){if("ArrowLeft"===e.key){var t;null===(t=document.querySelector('[data-recents-channel="'.concat(n.id,'"]')))||void 0===t||t.focus()}}),[n.id]);return(0,r.jsx)(j.FocusRing,{offset:aa,children:(0,r.jsxs)("div",ia(oa({className:na().messageContainer,onKeyDown:f},c),{children:[(0,r.jsx)(kr,{className:na().jumpButton,onJump:function(e){return s(e,i.id)}}),(0,r.jsx)(Si,{id:i.id,message:i,channel:n,className:na().message,compact:a,animateAvatar:!1,isGroupStart:u,onKeyDown:f,treatSpam:l})]}),i.id)})}
function la(e){var t,n,o=e.channel,a=e.channelRecord,u=e.gotoChannel,s=Qo.Z.useExperiment({},{autoTrackExposure:!1}).enabled,c=Q.jU.useSetting(),f=(0,i.e7)([Ii.Z],(function(){return Ii.Z.can(X.Plq.CREATE_INSTANT_INVITE,a)})),d=(0,Jo.P1)(a),p=!1,h=0===o.messages.length||o.messages[0].timestamp.isSame(Fn()(),"day"),E=null!==(n=null===(t=l.default.getUser(mi.default.getId()))||void 0===t?void 0:t.hasFlag(X.xW$.SPAMMER))&&void 0!==n&&n,y=[];if(!o.collapsed){var g=null,v=null,b=o.messages.slice(0,25);b.forEach((function(e){if(!(0,qo.Z)(e,f)){if(!(h||null!=g&&g.isSame(e.timestamp,"day"))){var t=(0,Ci.vc)(e.timestamp,"LL");y.push((0,r.jsx)(Ao.Z,{className:na().divider,children:t},t));g=e.timestamp}var n=null==v||(0,Xo.Z)(a,v,e);v=e;p=p||(0,Jo.DQ)(e);y.push((0,r.jsx)(ua,{channel:a,message:e,compact:c,isGroupStart:n,treatSpam:!E&&s&&(0,Jo.DQ)(e)&&d,gotoChannel:u},e.id))}}));o.messages.length>=25&&y.push((0,r.jsxs)(j.Button,{color:j.Button.Colors.LINK,look:j.Button.Looks.LINK,
onClick:function(e){return u(e,b[b.length-1].id)},children:[Ue.Z.Messages.UNREADS_VIEW_CHANNEL," "]},"view-all"));0===y.length&&(y=[(0,r.jsx)(j.Spinner,{},"spinner")])}p&&d&&Qo.Z.trackExposure({});return(0,r.jsx)("div",{className:na().messages,children:y})}var sa=n(679005),ca=n.n(sa);function fa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function da(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function pa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){da(e,t,n[t])}))}return e}function ha(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){
var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Ea(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){u=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return fa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fa(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ya(e){var t=e.channel,n=e.deleteChannel,i=o.useRef(null),a=Ea(o.useState([0,0]),2),u=Ea(a[0],2),l=u[0],s=u[1],c=a[1],f=t.deleted&&l>0;if(t.deleted&&0===l&&null!=i.current){var d=i.current.offsetHeight,p=i.current.offsetTop,h=i.current.parentElement.scrollTop;c([d,d-(h>p?d-(h-p):d)])}var E=(0,No.useSpring)({config:{clamp:!0,friction:18,tension:200},opacity:f?0:1,size:f?0:1,onRest:function(){n(t.channelId)}}),y={opacity:E.opacity,height:E.size.to((function(e){return f?function(e,t,n){return t+(e-t)*n}(l,s,e):"auto"}))};return(0,r.jsx)(No.animated.div,{ref:i,style:y,children:(0,r.jsx)(ba,pa({},e))})}const ga=o.memo(ya);function va(e){var t=e.channel,n=e.onJump,a=e.deleteChannel,u=e.toggle,l=(0,
i.e7)([zn.Z],(function(){return zn.Z.getChannel(t.channelId)}));o.useEffect((function(){null==l||!t.isFullyLoaded||t.hasError||t.collapsed||"messages"!==t.type||0!==t.messages.length||W.Z.wait((function(){(0,H.In)(t.channelId,!0);a(t.channelId)}))}));if(null==l)return null;if(!t.hasLoadedAnything)return null;var s=function(e,r){(0,Po.yw)(X.rMx.INBOX_CHANNEL_CLICKED,{channel_id:t.channelId,guild_id:t.guildId});var o=null!=r?r:t.oldestUnreadMessageId;(0,vn.uL)(X.Z5c.CHANNEL(t.guildId,t.channelId,"forum"===t.type?null:o));n(e)};return(0,r.jsx)("div",{className:ca().channel,children:(0,r.jsx)(j.HeadingLevel,{component:(0,r.jsxs)(uo,{channel:l,gotoChannel:s,mentionCount:t.mentionCount,toggleCollapsed:u,channelState:t,children:[(0,r.jsx)(ko,{channel:l}),(0,r.jsx)(Oa,pa({},e)),"nsfw"===t.type?null:(0,r.jsx)(Sa,pa({},e))]}),children:t.collapsed?null:"messages"===t.type?(0,r.jsx)(la,{channel:t,channelRecord:l,gotoChannel:s}):"forum"===t.type?(0,r.jsx)(Wo,{channel:t,channelRecord:l,
deleteChannel:a}):null})})}var ba=o.memo(va);function Oa(e){var t=e.channel,n=e.markChannelRead,o=e.markGuildRead,i=e.getNumUnreadChannels,a=(0,Ro.Z)()&&null!=t.guildId;return(0,r.jsx)(Mt.ZP,{className:ca().markReadButton,tooltip:a?Ue.Z.Messages.MARK_GUILD_AS_READ:Ue.Z.Messages.MARK_AS_READ,color:Mt.YX.TERTIARY,icon:a?(0,r.jsx)(pn,{width:16,height:16}):(0,r.jsx)(wo.Z,{width:16,height:16}),onClick:function(){a&&null!=t.guildId?o(t.guildId):n(t);(0,Po.yw)(X.rMx.INBOX_CHANNEL_ACKED,{channel_id:t.channelId,guild_id:t.guildId,marked_all_channels_as_read:!1,num_unread_channels_remaining:i()-1})}})}function Sa(e){var t=e.channel,n=e.toggle,o=e.getNumUnreadChannels,i=function(){n(t);(0,Po.yw)(X.rMx.INBOX_CHANNEL_COLLAPSED,{channel_id:t.channelId,guild_id:t.guildId,num_unread_channels_remaining:o(),is_now_collapsed:!t.collapsed})};return(0,r.jsx)(j.Tooltip,{text:Ue.Z.Messages.COLLAPSE,children:function(e){return(0,r.jsx)(j.Clickable,ha(pa({},e),{
className:y()(ca().collapseButton,da({},ca().collapsed,t.collapsed)),onClick:i,children:(0,r.jsx)(Lo.Z,{width:16,height:16})}))}})}var _a=n(194504),ma=n.n(_a);function Ia(e,t,n){var o=t.markChannelRead,i=t.markGuildRead,a=t.deleteChannel,u=t.toggle,l=t.getNumUnreadChannels,s=null;return B().flatMap(e,(function(e){var t=e.sortOrder!==s;s=e.sortOrder;var c=[];t&&(e.hasLoadedAnything&&e.sortOrder===Ki.ReallyOldChannel?c.push((0,r.jsx)(Ao.Z,{className:ma().divider,contentClassName:ma().dividerContent,children:Ue.Z.Messages.UNREADS_OLD_CHANNELS_DIVIDER},"old-divider")):e.hasLoadedAnything&&e.sortOrder===Ki.NoNotifications&&c.push((0,r.jsx)(Ao.Z,{className:ma().divider,contentClassName:ma().dividerContent,children:Ue.Z.Messages.UNREADS_NO_NOTIFICATIONS_DIVIDER},"disabled-divider")));c.push((0,r.jsx)(ga,{channel:e,markChannelRead:o,markGuildRead:i,toggle:u,deleteChannel:a,onJump:n,getNumUnreadChannels:l},e.channelId));return c}))}var Ca=n(377565),Ta=n.n(Ca);function Aa(e,t){
(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Na(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Pa(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Ra(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r]
;t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function La(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){u=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Aa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Aa(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wa(e){
var t=e.setTab,n=e.onJump,a=e.showTutorial,u=e.setSeenTutorial,l=e.closePopout,s=e.badgeState,c=o.useRef(null),f=La(function(e){var t=Yi(o.useState((function(){return new qi(Ji(),e)})),2),n=t[0],r=t[1],i=Yi(o.useState(!1),2),a=i[0],u=i[1],l=o.useRef(Date.now()),s=Yi(o.useState((function(){return Ji()})),2),c=s[0],f=s[1];o.useEffect((function(){var e=function(e){return f(e)};n.on("change",e);f(n.state);return function(){n.off("change",e)}}),[n]);o.useEffect((function(){if(!(null==c||c.channels.length>0||a)){var t=Date.now(),n=Ji();if(0===n.channels.length||t-l.current<1e4)u(!0);else{l.current=Date.now();r(new qi(n,e))}}}),[c,a,e]);o.useLayoutEffect(n.maybeLoadMore,[null==c?void 0:c.channels,null==c?void 0:c.loadState]);o.useEffect((function(){Wn.Z.addChangeListener(n.reloadMessages);return function(){return Wn.Z.removeChangeListener(n.reloadMessages)}}),[n.reloadMessages]);o.useEffect((function(){Zi.Z.addChangeListener(n.handleUserGuildSettingsStoreChange);return function(){
return Zi.Z.removeChangeListener(n.handleUserGuildSettingsStoreChange)}}),[n]);o.useEffect((function(){Li.Z.addChangeListener(n.handleJoinedThreadsStoreChange);return function(){return Li.Z.removeChangeListener(n.handleJoinedThreadsStoreChange)}}),[n]);o.useEffect((function(){Bo.Z.addChangeListener(n.handleActiveThreadsStoreChange);return function(){return Bo.Z.removeChangeListener(n.handleActiveThreadsStoreChange)}}),[n]);return[c,n]}(c),2),d=f[0],h=f[1],E=d.loadState,g=d.channels,v=h.maybeLoadMore,O=h.markAllRead;!function(e,t,n){o.useLayoutEffect((function(){var r,o=t.scrollToChannelIndex;n.clearScrollToChannelIndex();var i=e.current;if(null!=i&&null!=o){var a=null===(r=i.getScrollerNode())||void 0===r?void 0:r.children;if(null!=a){var u=a[o];if(null!=u){var l=i.getScrollerState(),s=l.scrollTop,c=s+l.scrollHeight;(u.offsetTop<s||u.offsetTop>c)&&i.scrollTo({to:u.offsetTop})}}}}))}(c,d,h);!function(e,t){o.useEffect((function(){var n=function(){var n=e.channels.find((function(e){
return!e.collapsed}));null!=n&&t.markChannelRead(n)};Z.S.subscribe(X.CkL.MARK_TOP_INBOX_CHANNEL_READ,n);return function(){Z.S.unsubscribe(X.CkL.MARK_TOP_INBOX_CHANNEL_READ,n)}}),[t,e.channels])}(d,h);o.useEffect((function(){We.default.track(X.rMx.OPEN_POPOUT,{type:"Inbox"})}),[]);o.useEffect((function(){W.Z.subscribe("CONNECTION_OPEN",l);return function(){W.Z.unsubscribe("CONNECTION_OPEN",l)}}),[l]);var S=(0,i.e7)([b.Z],(function(){return b.Z.messageGroupSpacing})),_=(0,Me.Z)("unreads",c);if(0===g.length){var m;return(0,r.jsxs)("div",{className:Ta().container,children:[(0,r.jsx)(Nn,{tab:w.X.UNREADS,setTab:t,badgeState:s,closePopout:l}),(0,r.jsx)(fr,{Icon:p,header:Ue.Z.Messages.UNREADS_EMPTY_STATE_HEADER,tip:"OS X"===(null===(m=_o().os)||void 0===m?void 0:m.family)?Ue.Z.Messages.UNREADS_EMPTY_STATE_TIP_MAC:Ue.Z.Messages.UNREADS_EMPTY_STATE_TIP})]})}return(0,r.jsxs)("div",{className:y()(Ta().container,"group-spacing-".concat(S)),"aria-label":Ue.Z.Messages.UNREADS_TAB_LABEL,children:[(0,
r.jsx)(Nn,{tab:w.X.UNREADS,setTab:t,badgeState:s,closePopout:l,children:(0,r.jsx)(Co,{type:"top-header",onClick:O})}),(0,r.jsx)(De.bG,{navigator:_,children:(0,r.jsx)(De.SJ,{children:function(e){var t=e.ref,o=Ra(e,["ref"]);return(0,r.jsxs)(j.AdvancedScrollerThin,Pa(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Na(e,t,n[t])}))}return e}({ref:function(e){c.current=e;var n;t.current=null!==(n=null==e?void 0:e.getScrollerNode())&&void 0!==n?n:null}},o),{onScroll:E===zi.Done?void 0:v,className:Ta().scroller,children:[a?(0,r.jsx)(ja,{setSeenTutorial:u}):null,Ia(g,h,n),E===zi.Done?null:(0,r.jsx)(j.Spinner,{className:Ta().spinner})]}))}})})]})}function ja(e){var t=e.setSeenTutorial;return(0,r.jsxs)("div",{className:Ta().tutorial,children:[(0,
r.jsx)("div",{className:Ta().tutorialIcon,children:(0,r.jsx)(p,{width:24,height:24})}),(0,r.jsxs)("div",{children:[(0,r.jsx)(j.Heading,{className:Ta().tutorialHeader,variant:"heading-md/semibold",children:Ue.Z.Messages.UNREADS_TUTORIAL_HEADER}),(0,r.jsx)(j.Text,{color:"header-secondary",variant:"text-sm/normal",children:Ue.Z.Messages.UNREADS_TUTORIAL_BODY}),(0,r.jsx)(j.Button,{className:Ta().tutorialButton,onClick:t,size:j.Button.Sizes.SMALL,children:Ue.Z.Messages.TUTORIAL_CLOSE})]})]})}function Da(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ma(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){u=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}
}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Da(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Da(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Za(e){var t=e.onOpen,n=e.onClose,u=e.children,l=e.badgeState,s=e.popoutPosition,c=e.popoutAlign,f=Ma(o.useState(!1),2),d=f[0],p=f[1],h=Ma(function(){var e,t=(0,i.e7)([M.Z],(function(){var t;return null!==(e=null===(t=M.Z.settings.inbox)||void 0===t?void 0:t.currentTab)&&void 0!==e?e:w.X.UNREADS})),n=o.useCallback((function(e){D.hW.updateAsync("inbox",(function(t){if(t.currentTab===e)return!1;t.currentTab=e}),D.fy.FREQUENT_USER_ACTION)}),[]);return[t,n]}(),2),E=h[0],y=h[1],g=function(e){
var t,n=(0,i.e7)([M.Z],(function(){var e;return null!==(t=null===(e=M.Z.settings.inbox)||void 0===e?void 0:e.viewedTutorial)&&void 0!==t&&t})),r=o.useCallback((function(){D.hW.updateAsync("inbox",(function(e){e.viewedTutorial=!0}),D.fy.INFREQUENT_USER_ACTION)}),[]);return{showTutorial:!n&&e===w.X.UNREADS,setSeenTutorial:r}}(E),v=g.showTutorial,b=g.setSeenTutorial,S=o.useCallback((function(){p(!1);d&&(null==n||n())}),[n,d]),_=o.useCallback((function(){p(!d);d?null==n||n():null==t||t()}),[n,t,d]),m=o.useCallback((function(){_();y(w.X.UNREADS)}),[y,_]);o.useEffect((function(){Z.S.subscribe(X.CkL.TOGGLE_INBOX_UNREADS_TAB,m);return function(){Z.S.unsubscribe(X.CkL.TOGGLE_INBOX_UNREADS_TAB,m)}}),[m]);var I=O.Z.useExperiment({},{autoTrackExposure:!1}).showReminders,C=(0,a.sv)();o.useEffect((function(){I||E!==w.X.TODOS||y(w.X.MENTIONS)}));var T=o.useCallback((function(e){e.shiftKey||S()}),[S]);return(0,r.jsx)(j.Popout,{animation:j.Popout.Animation.NONE,position:s,align:c,autoInvert:!1,
shouldShow:d,onRequestClose:S,renderPopout:function(){return(0,r.jsx)(j.Dialog,{"aria-label":Ue.Z.Messages.INBOX,children:E===w.X.FOR_YOU&&C?(0,r.jsx)(Zn,{setTab:y,badgeState:l,closePopout:S}):E===w.X.MENTIONS?(0,r.jsx)(yo,{setTab:y,onJump:T,badgeState:l,closePopout:S}):I&&E===w.X.TODOS?(0,r.jsx)(Ir,{setTab:y,onJump:T,closePopout:S}):(0,r.jsx)(wa,{setTab:y,onJump:T,showTutorial:v,setSeenTutorial:b,closePopout:S,badgeState:l})})},ignoreModalClicks:!0,children:function(e,t){var n=t.isShown;return u(_,n,e)}})}var Ua=n(930674),xa=n.n(Ua);function ka(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Fa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ka(e,t,n[t])}))}return e}
function Ga(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Ba(e){var t=e.onOpen,n=e.onClose,o=e.className,s=(0,a.sv)(),c=(0,i.e7)([l.default],(function(){return l.default.getCurrentUser()})),f=(0,i.e7)([u.ZP],(function(){return!(!s||null==(null==c?void 0:c.id))&&u.ZP.getMentionCount(c.id,Ne.W.NOTIFICATION_CENTER)>0}));return(0,r.jsx)(Za,{onOpen:t,onClose:n,badgeState:{badgeForYou:f},popoutPosition:"bottom",popoutAlign:"right",children:function(e,t,n){return(0,r.jsx)("div",{className:xa().recentsIcon,children:(0,r.jsx)(h.JO,Ga(Fa({},n),{className:o,onClick:e,icon:p,
"aria-label":Ue.Z.Messages.INBOX,tooltip:t?null:Ue.Z.Messages.INBOX,selected:t,showBadge:f,children:(0,r.jsx)(L,{className:xa().todoBadge})}))})}})}},822816:(e,t,n)=>{"use strict";n.d(t,{SI:()=>s,hZ:()=>f});var r=n(730381),o=n.n(r),i=n(82375),a=n(917019),u=n(473419),l=(0,n(260561).B)({kind:"user",id:"2023-05_safety_user_sentiment",label:"Safety User Sentiment Feedback Eligible",defaultConfig:{isEligible:!1},treatments:[{id:1,label:"Eligible",config:{isEligible:!0}}]}),s=function(e){var t;if(!c(e))return!1;var n=null===(t=u.Z.settings.userContent)||void 0===t?void 0:t.safetyUserSentimentNoticeDismissedAt,r=null!=n?i.E.toDate(n):void 0,a=null!=r?o()().diff(r,"days"):null;return(null==n||null!=a&&a>30)&&l.getCurrentConfig({},{autoTrackExposure:!0}).isEligible},c=function(e){return null!=e&&Date.now()-e.createdAt.getTime()>2592e6},f=function(){var e=i.E.now();a.hW.updateAsync("userContent",(function(t){t.safetyUserSentimentNoticeDismissedAt=e}),a.fy.INFREQUENT_USER_ACTION)}},
190624:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(744564),o=n(336334),i=n(828439),a=n(347005),u=n(316743),l=n(841800),s=n(897196);const c={openPrivateChannelAsSidebar:function(e){var t=e.channelId,n=e.messageId,i=e.baseChannelId,a=e.hasSingleMessageRequest;r.Z.dispatch({type:"SIDEBAR_VIEW_CHANNEL",sidebarType:l.t.VIEW_MESSAGE_REQUEST,baseChannelId:i,channelId:t,details:{type:l.F.MESSAGE_REQUEST,hasSingleMessageRequest:a}});null!=n?o.Z.jumpToMessage({channelId:t,messageId:n,flash:!0}):u.Z.fetchMessages({channelId:t})},openChannelAsSidebar:function(e){var t=e.guildId,n=e.channelId,a=e.baseChannelId,s=e.flash,c=void 0===s||s,f=e.details;r.Z.dispatch({type:"SIDEBAR_VIEW_CHANNEL",sidebarType:l.t.VIEW_CHANNEL,guildId:t,baseChannelId:a,channelId:n,details:f});var d=null==f?void 0:f.initialMessageId;null!=d?o.Z.jumpToMessage({channelId:n,messageId:d,flash:c,jumpType:i.S.INSTANT}):u.Z.fetchMessages({guildId:t,channelId:n})},openResourceChannelAsSidebar:function(e){
var t=e.guildId,n=e.channelId;if(null!=t){(0,a.C3)(t,n,!1);r.Z.dispatch({type:"SIDEBAR_VIEW_CHANNEL",sidebarType:l.t.VIEW_CHANNEL,guildId:t,baseChannelId:s.oC.GUILD_HOME,channelId:n})}},openThreadAsSidebar:function(e){var t=e.guildId,n=e.baseChannelId,a=e.channelId,s=e.flash,c=void 0===s||s,f=e.details;r.Z.dispatch({type:"SIDEBAR_VIEW_CHANNEL",sidebarType:l.t.VIEW_THREAD,baseChannelId:n,channelId:a,details:f});null!=(null==f?void 0:f.initialMessageId)?o.Z.jumpToMessage({channelId:a,messageId:f.initialMessageId,flash:c,jumpType:i.S.INSTANT}):u.Z.fetchMessages({guildId:t,channelId:a})},closeChannelSidebar:function(e){r.Z.dispatch({type:"SIDEBAR_CLOSE",baseChannelId:e})}}},35909:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=(0,n(260561).B)({kind:"user",id:"2023-04_soundboard_nitro",label:"Soundboard Nitro",defaultConfig:{isPremiumFeature:!1},treatments:[{id:1,label:"Include Soundboard as a Nitro feature",config:{isPremiumFeature:!0}}]})},665783:(e,t,n)=>{"use strict";n.d(t,{J:()=>f,
B:()=>d});var r=n(202351),o=n(656793),i=n(61209),a=n(9430),u=n(661123),l=n(487685),s=n(379364),c=n(2590);function f(e){var t=l.Z.flags(e.id);if(null==t)return s.iN.NO_MESSAGES;if((0,o.c)()&&l.Z.isMuted(e.id))return s.iN.NO_MESSAGES;if((0,u.yE)(t,s.iN.ALL_MESSAGES))return s.iN.ALL_MESSAGES;if((0,u.yE)(t,s.iN.ONLY_MENTIONS))return s.iN.ONLY_MENTIONS;if((0,u.yE)(t,s.iN.NO_MESSAGES))return s.iN.NO_MESSAGES;var n=i.Z.getChannel(e.parent_id);if(null==n)return s.iN.NO_MESSAGES;if(a.Z.isGuildOrCategoryOrChannelMuted(n.guild_id,n.id))return s.iN.NO_MESSAGES;var r=a.Z.resolvedMessageNotifications(n);return r===c.bL.NO_MESSAGES?s.iN.NO_MESSAGES:r===c.bL.ONLY_MENTIONS?s.iN.ONLY_MENTIONS:s.iN.ALL_MESSAGES}function d(e){return(0,r.e7)([l.Z,a.Z,i.Z],(function(){return f(e)}),[e])}},551856:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(785893),o=(n(667294),n(945460)),i=n(874710),a=n(218318),u=n(671293),l=n(665783),s=n(379364);function c(e){
var t=e.channel,n=e.closePopout,c=e.onSelect,f=e.navId,d=e.label,p=(0,i.Z)(t,"Notifications Bell"),h=(0,a.Z)(t),E=(0,l.B)(t);return(0,r.jsxs)(o.Menu,{navId:f,onClose:n,"aria-label":d,onSelect:c,children:[(0,r.jsxs)(o.MenuGroup,{children:[t.isForumPost()?p:null,h]}),(0,r.jsx)(o.MenuGroup,{children:(0,s.zb)().map((function(e){var n=e.setting,i=e.label;return(0,r.jsx)(o.MenuRadioItem,{group:"thread-notifications",id:"".concat(n),label:i,action:function(){return u.Z.setNotificationSettings(t,{flags:n})},checked:n===E},n)}))})]})}},686874:(e,t,n)=>{"use strict";n.d(t,{e:()=>d});var r=n(468811),o=n.n(r),i=n(306472),a=n(652591),u=n(2590);function l(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function s(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
;t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);this.loadId=o().v4();this.appUIViewed=!1}var t=e.prototype;t.trackEvent=function(e,t){var n=this,r=Date.now();requestIdleCallback((function(){a.default.track(e,s(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){l(e,t,n[t])}))}return e}({},function(){
var e,t,n,r="--campaign-id=",o=null!==(n=null===i.Z||void 0===i.Z||null===(e=i.Z.processUtils)||void 0===e||null===(t=e.getMainArgvSync)||void 0===t?void 0:t.call(e))&&void 0!==n?n:[],a=!0,u=!1,l=void 0;try{for(var s,c=o[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var f=s.value;if(f.startsWith(r))return{referrer:f.substr(r.length)}}}catch(e){u=!0;l=e}finally{try{a||null==c.return||c.return()}finally{if(u)throw l}}return{}}(),function(){var e=!1,t={total_compressed_byte_size:0,total_uncompressed_byte_size:0,total_transfer_byte_size:0,js_compressed_byte_size:0,js_uncompressed_byte_size:0,js_transfer_byte_size:0,css_compressed_byte_size:0,css_uncompressed_byte_size:0,css_transfer_byte_size:0};null!=window.performance&&null!=window.performance.getEntries&&window.performance.getEntries().forEach((function(n){var r=null!=n.encodedBodySize?n.encodedBodySize:n.decodedBodySize,o=null!=n.decodedBodySize?n.decodedBodySize:n.encodedBodySize,i=n.transferSize;if(null!=o&&null!=r){e=!0
;t.total_compressed_byte_size+=r;t.total_uncompressed_byte_size+=o;null!=i&&(t.total_uncompressed_byte_size+=i);if("resource"===n.entryType){if("script"===n.initiatorType&&null!=n.name&&null!=n.name.match(/\.js/)){t.js_compressed_byte_size+=r;t.js_uncompressed_byte_size+=o;null!=i&&(t.js_uncompressed_byte_size+=i)}if("link"===n.initiatorType&&null!=n.name&&null!=n.name.match(/\.css/)){t.css_compressed_byte_size+=r;t.css_uncompressed_byte_size+=o;null!=i&&(t.css_uncompressed_byte_size+=i)}}}}));return e?t:{}}()),{load_id:n.loadId,screen_name:t,duration_ms_since_app_opened:r-window.GLOBAL_ENV.HTML_TIMESTAMP}))}))};t.trackAppUIViewed=function(e){if(!this.appUIViewed){this.trackEvent(u.rMx.APP_UI_VIEWED,e);this.appUIViewed=!0}};return e}(),f=new c;function d(e){f.trackAppUIViewed(e)}},188558:(e,t,n)=>{"use strict";n.d(t,{U:()=>c,a:()=>f});var r=n(177570),o=n(491260),i=n(840922),a=n(652591),u=n(2590);function l(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,
writable:!0}):e[t]=n;return e}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){l(e,t,n[t])}))}return e}var c=function(e){var t=e.displayProfile,n=e.isMobile,r=e.loadDurationMs,o=e.activity,i=e.customStatusActivity,l=e.status;a.default.track(u.rMx.DM_PROFILE_VIEWED,s({has_mobile_indicator:n,has_activity:null!=o&&(null==o?void 0:o.type)!==u.IIU.CUSTOM_STATUS,has_game_activity:(null==o?void 0:o.type)===u.IIU.PLAYING,load_duration_ms:r,profile_user_status:l,has_custom_status:null!=i},d(t)))},f=function(e,t){a.default.track(u.rMx.DM_PROFILE_TOGGLED,s({is_profile_open:t},d(e)))},d=function(e){if(null==e)return{};var t,n=e.userId,a=null!=r.Z.getAnyStreamForUser(n),l=o.Z.findActivity(n,(function(e){var t=e.type
;return a?t===u.IIU.PLAYING:t!==u.IIU.CUSTOM_STATUS})),s=null==l?void 0:l.assets,c=i.Z.isFriend(n);return{has_images:Boolean(null!==(t=null==s?void 0:s.large_image)&&void 0!==t?t:null==s?void 0:s.small_image),is_friend:c,viewed_profile_user_id:n,profile_has_nitro_customization:e.hasPremiumCustomization(),profile_has_theme_color_customized:e.hasThemeColors(),profile_has_theme_animation:null!=e.popoutAnimationParticleType,profile_has_theme_emoji:null!=e.emoji}}},13066:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r=n(202351),o=n(744564),i=n(61209),a=n(476020),u=n(352980);function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e){s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return s(e)}function c(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}
function f(e,t){f=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return f(e,t)}var d=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}var h=null;var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&f(e,t)}(n,e);var t=p(n);function n(){l(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){
this.waitFor(i.Z,a.Z,u.Z)};r.getApps=function(){return h};r.__getLocalVars=function(){return{apps:h}};return n}(r.ZP.Store);E.displayName="AuthorizedAppsStore";const y=new E(o.Z,{USER_AUTHORIZED_APPS_UPDATE:function(e){h=e.apps}})},996077:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(202351),o=n(744564),i=n(61209);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function l(e){l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return l(e)}function s(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e,t){c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c(e,t)}var f=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}var p={},h=p;function E(){Object.keys(h).forEach((function(e){null==i.Z.getChannel(e)&&delete h[e]}))}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&c(e,t)}(n,e);var t=d(n);function n(){a(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(e){this.waitFor(i.Z);h=null!=e?e:p}
;r.getState=function(){return h};r.getCollapsed=function(){return h};r.isCollapsed=function(e){return h[e]||!1};r.__getLocalVars=function(){return{initialState:p,channels:h}};return n}(r.ZP.PersistedStore);y.displayName="CollapsedVoiceChannelStore";y.persistKey="collapsedChannels";const g=new y(o.Z,{CONNECTION_OPEN:E,OVERLAY_INITIALIZE:E,CHANNEL_COLLAPSE:function(e){var t=e.channelId;h[t]?delete h[t]:h[t]=!0;h=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){u(e,t,n[t])}))}return e}({},h)}})},536038:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var r=n(202351),o=n(630631),i=n(744564),a=n(2590);function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n]
;r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function s(e){s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return s(e)}function c(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e,t){f=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return f(e,t)}var d=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)
}else n=r.apply(this,arguments);return c(this,n)}}var h={lastViewedPath:null,lastViewedNonVoicePath:null},E=h,y="LAST_VIEWED_PATH";var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&f(e,t)}(n,e);var t=p(n);function n(){u(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;E=null!=e?e:h};r.getState=function(){return E};r.__getLocalVars=function(){return{initialState:h,state:E,LEGACY_STORAGE_KEY:y}};!function(e,t,n){t&&l(e.prototype,t);n&&l(e,n)}(n,[{key:"defaultRoute",get:function(){return a.Z5c.ME}},{key:"lastNonVoiceRoute",get:function(){var e;return null!==(e=E.lastViewedNonVoicePath)&&void 0!==e?e:a.Z5c.ME}},{key:"fallbackRoute",get:function(){return a.Z5c.ME}}]);return n}(r.ZP.PersistedStore)
;g.displayName="DefaultRouteStore";g.persistKey="DefaultRouteStore";g.migrations=[function(){var e=o.Z.get(y,null);o.Z.remove(y);return{lastViewedPath:e}}];const v=new g(i.Z,{SAVE_LAST_ROUTE:function(e){var t=e.path;E.lastViewedPath=t;return!0},SAVE_LAST_NON_VOICE_ROUTE:function(e){var t=e.path;E.lastViewedNonVoicePath=t;return!0}})},813869:(e,t,n)=>{"use strict";n.d(t,{Z:()=>we});var r=n(496486),o=n.n(r),i=n(842227),a=n(873936),u=n(998918),l=n(995278),s=n(439683),c=n(364269),f=n(9430),d=n(473903),p=n(832748),h=n(2590),E=36e5,y=108e5;var g=n(858311),v=n(202958),b=n(656793),O=n(18882),S=n(487685),_=n(113566),m=n(382060),I=n(736818),C=n(61209),T=n(682776),A=n(717091),N=n(715107),P=n(637493),R=n(897196),L=n(290679);function w(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function j(e){j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return j(e)}function D(e){
for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){w(e,t,n[t])}))}return e}function M(e,t){return!t||"object"!==U(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Z(e,t){Z=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Z(e,t)}var U=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){
var n,r=j(e);if(t){var o=j(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return M(this,n)}}var k="null",F={},G=new Set,B=0;function H(e){var t,n=F[null!=e?e:k];return{unread:!1,unreadByType:{},unreadChannelId:null,mentionCount:0,mentionCounts:{},ncMentionCount:0,sentinel:null!==(t=null==n?void 0:n.sentinel)&&void 0!==t?t:0}}function V(e){var t;return F[null!=e?e:k]=null!==(t=F[null!=e?e:k])&&void 0!==t?t:H(e)}function Y(e){V(e).sentinel++;B++}function K(e,t,n){return null!=e.guild_id&&(n&&!((0,m.Q5)(e.type)||f.Z.isChannelRecordOrParentOptedIn(e))&&0===t)}function z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(null==e)return!1;if(e.isGuildVocal()&&0===t)return!1;if(e.hasFlag(R.zZ.IS_GUILD_RESOURCE_CHANNEL))return!1;if(0===t){var n=e.isThread()?S.Z.isMuted(e.id):f.Z.isGuildOrCategoryOrChannelMuted(e.guild_id,e.id);if(n)return!1}if(!e.isPrivate()){if(K(e,t,(0,c.r1)(e.guild_id)))return!1
;if(!T.Z.can(e.accessPermissions,e))return!1}return t>0||f.Z.isChannelRelevant(e)}function W(e,t,n,r){return(!(0,m.bw)(e.type)||0!==t)&&(!!T.Z.canBasicChannel((0,m.Gz)(e.type),e)&&(!K(e,t,r)&&((!function(e){return"flags"in e}(e)||!e.hasFlag(R.zZ.IS_GUILD_RESOURCE_CHANNEL))&&(t>0||!n||(0,m.Q5)(e.type)||f.Z.resolvedMessageNotifications(e)===h.bL.ALL_MESSAGES))))}function Q(e){switch(e){case k:case null:case void 0:return null;default:return e}}function q(e,t){var n=e.guild_id,r=e.id;return!f.Z.isGuildOrCategoryOrChannelMuted(n,r)&&(!K(e,A.ZP.getMentionCount(r),t)&&A.ZP.hasNotableUnread(e.id))}function X(e,t){var n=A.ZP.hasUnread(e,t);return t===L.W.GUILD_EVENT?!f.Z.isMuted(e)&&(!f.Z.isMuteScheduledEventsEnabled(e)&&n):n}function J(e,t){var n=H(e);n.mentionCounts=D({},t.mentionCounts);n.unreadByType=D({},t.unreadByType);return n}function $(e){e.unread=Object.values(e.unreadByType).some((function(e){return e}));return e}function ee(e,t){if((0,v.bY)()&&!g.Z.tabFocused){var n,r=te(e)-te(t)
;e.ncMentionCount=Math.max((null!==(n=null==t?void 0:t.ncMentionCount)&&void 0!==n?n:0)+r,0)}}function te(e){var t=0,n=function(){var e=d.default.getCurrentUser();if(null==e)return null;return A.ZP.getNotifCenterReadState(e.id)}();if(null==e||null==n)return t;Object.keys(e.mentionCounts).forEach((function(r){var o=A.ZP.lastMessageId(r),a=n._ackMessageId;i.default.compare(o,a)>0&&(t+=e.mentionCounts[r])}));return t}function ne(e,t,n){$(t);t.mentionCount=o()(t.mentionCounts).values().sum();if(t.unread!==n.unread||t.mentionCount!==n.mentionCount){F[null!=e?e:k]=t;null!=e&&(t.unread?G.add(e):G.delete(e));B++;Y(null!=e?e:k);ee(t,n);return!0}return!1}function re(e,t){var n=Q(e),r=V(n),o=J(n,r),i=(0,c.r1)(n),a=!1;t.forEach((function(e){var t=C.Z.getChannel(e);if(null!=t){if(t.getGuildId()===n){var r=A.ZP.getMentionCount(e);if(null!==n&&!a&&q(t,i)&&z(t,r)){a=!0;o.unreadChannelId=t.id}r>0&&z(t,r)?o.mentionCounts[t.id]=r:delete o.mentionCounts[t.id]}}else delete o.mentionCounts[e]}))
;o.unreadByType[L.W.CHANNEL]=a;if(o.unreadByType[L.W.CHANNEL]!==r.unreadByType[L.W.CHANNEL]&&!o.unreadByType[L.W.CHANNEL]){var u=C.Z.getChannel(r.unreadChannelId);if(null==u||t.includes(u.id)||!q(u,i)||!z(u))return ie(n);null!=n&&G.add(n);o.unreadByType[L.W.CHANNEL]=!0}return ne(n,o,r)}function oe(e,t){if(null!=e){var n=V(e),r=J(e,n);r.unreadByType[L.W.GUILD_EVENT]=X(e,t);return ne(e,r,n)}}function ie(e,t){var n=Q(e),r=H(n),o=(0,b.c)();if(null==n){var i=C.Z.getMutablePrivateChannels();for(var l in i){var s=i[l],d=A.ZP.getMentionCount(l);if(d>0&&z(s,d)){r.mentionCount+=d;r.mentionCounts[s.id]=d}}}else{var p=f.Z.isMuted(n);if(p&&!1===t)return!1;var h=f.Z.getMutedChannels(n),E=f.Z.getChannelOverrides(n),y=(0,c.r1)(n),g=(0,u.kC)(),v=C.Z.getMutableBasicGuildChannelsForGuild(n);for(var _ in v){var m=v[_],I=p||h.has(_)||null!=m.parent_id&&h.has(m.parent_id),T=r.unreadByType[L.W.CHANNEL],N=A.ZP.getGuildChannelUnreadState(m,y,g,E,I,T),P=N.mentionCount,R=N.hasNotableUnread,w=P>0;if(w||!I){
var j=!T&&(!I||w)&&R;if(j||w){if(W(m,P,o,y)){if(j){r.unreadByType[L.W.CHANNEL]=!0;r.unreadChannelId=_}if(w){r.mentionCount+=P;r.mentionCounts[m.id]=P}}}}}var D=O.Z.getActiveJoinedThreadsForGuild(n);for(var M in D)for(var Z in D[M]){if(!r.unreadByType[L.W.CHANNEL]&&A.ZP.hasNotableUnread(Z)&&!S.Z.isMuted(Z)&&!p){r.unreadByType[L.W.CHANNEL]=!0;r.unreadChannelId=Z}var U=A.ZP.getMentionCount(Z);if(U>0){r.mentionCount+=U;r.mentionCounts[Z]=U}}!r.unreadByType[L.W.GUILD_EVENT]&&X(n,L.W.GUILD_EVENT)&&(r.unreadByType[L.W.GUILD_EVENT]=!0)}$(r);var x=V(n);if(r.unread!==x.unread||r.mentionCount!==x.mentionCount){F[null!=n?n:k]=r;if(null!=n)if(r.unread)G.add(n);else{G.delete(n);(0,a.B1)(n)}B++;Y(null!=n?n:k);ee(r,x);return!0}return!1}function ae(e){var t=e.guilds;F={};B=0;G=new Set;ie(null);for(var n=t.length,r=0;r<n;r++){var o=t[r];null!=o&&ie(o.id)}}function ue(e){var t=e.guilds,n=e.readState;F={};B=0;G=new Set;var r=n.entries.length<500,o=new Set;r&&n.entries.forEach((function(e){
if(null!=e.mention_count&&e.mention_count>0)if(null==e.read_state_type||e.read_state_type===L.W.CHANNEL){var t;o.add(null===(t=C.Z.getChannel(e.id))||void 0===t?void 0:t.guild_id)}else o.add(e.id)}));ie(null);var i=!0,a=!1,u=void 0;try{for(var l,s=t[Symbol.iterator]();!(i=(l=s.next()).done);i=!0){var c=l.value;ie(c.id,r?o.has(c.id):void 0)}}catch(e){a=!0;u=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw u}}}function le(e){return ie(e.guild.id)}function se(e){var t=e.guild;if(null==F[t.id])return!1;delete F[t.id];G.delete(t.id);B++;return!0}function ce(e){var t=e.channel,n=t.id;return re(t.guild_id,[n])}function fe(){var e=C.Z.getChannel(N.Z.getChannelId());return null!=e&&re(e.getGuildId(),[e.id])}function de(e){var t=e.user,n=e.guildId;return t.id===I.default.getId()&&ie(n)}function pe(e){var t=e.channelId,n=C.Z.getChannel(t);return null!=n&&re(n.getGuildId(),[n.id])}function he(e){var t=e.channelId,n=C.Z.getChannel(t);if(null==n)return!1;if(null!=n.guild_id){
var r=V(n.guild_id);if(((n.isThread()?!S.Z.hasJoined(n.id)||S.Z.isMuted(n.id):f.Z.isGuildOrCategoryOrChannelMuted(n.guild_id,n.id))||r.unreadByType[L.W.CHANNEL])&&0===A.ZP.getMentionCount(t))return!1}return re(n.getGuildId(),[n.id])}function Ee(e){var t=e.channelId,n=e.guildId;return n!==h.I_8&&(null!=t&&re(n,[t]))}function ye(e){var t=e.channel;return re(t.getGuildId(),[t.id])}function ge(e){var t=e.channels;return o()(t).groupBy((function(e){return e.getGuildId()})).reduce((function(e,t,n){return re(n,t.map((function(e){return e.id})))||e}),!1)}function ve(e){var t=e.channels;return o()(t).map((function(e){return e.channelId})).filter((function(e){return null!=C.Z.getChannel(e)})).groupBy((function(e){var t;return null===(t=C.Z.getChannel(e))||void 0===t?void 0:t.getGuildId()})).reduce((function(e,t,n){return re(n,t)||e}),!1)}function be(e){var t=e.channel;return re(t.getGuildId(),[t.id,t.parent_id])}function Oe(e){return oe(e.guildScheduledEvent.guild_id,L.W.GUILD_EVENT)}
function Se(e){return oe(e.id,e.ackType)}function _e(e){var t=e.id;return re(e.guildId,[t])}function me(e){return(0,_.s)(e)&&re(e.guildId,[e.id])}function Ie(e){var t=e.threads;return re(e.guildId,t.filter((function(e){return S.Z.hasJoined(e.id)})).map((function(e){return e.id})))}function Ce(e){return null!=e.channels&&re(e.guildId,e.channels.map((function(e){return e.id})))}function Te(e){return ie(e.guildId)}function Ae(e){return ie(e.guildId)}function Ne(e){var t,n=e.userGuildSettings,r=new Set(n.map((function(e){return null!==(t=e.guild_id)&&void 0!==t?t:k})));return Object.keys(F).reduce((function(e,t){return r.has(t)&&ie(t)||e}),!1)}function Pe(){for(var e in F){F[e].ncMentionCount=0}}function Re(e){return ie(e.guildId)}var Le=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Z(e,t)}(n,e);var t=x(n)
;function n(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var e;(e=t.call(this)).loadCache=function(){var t=e.readSnapshot(n.LATEST_SNAPSHOT_VERSION);if(null!=t){F=t.guilds;G=new Set(t.unreadGuilds)}};e.registerActionHandlers({CONNECTION_OPEN:ue,OVERLAY_INITIALIZE:ae,CACHE_LOADED_LAZY:e.loadCache,GUILD_CREATE:le,GUILD_DELETE:se,MESSAGE_CREATE:he,MESSAGE_ACK:pe,BULK_ACK:ve,UPDATE_CHANNEL_DIMENSIONS:pe,CHANNEL_SELECT:Ee,CHANNEL_DELETE:ce,WINDOW_FOCUS:fe,GUILD_ACK:Te,GUILD_ROLE_CREATE:Ae,GUILD_ROLE_DELETE:Ae,GUILD_ROLE_UPDATE:Ae,CHANNEL_CREATE:ye,CHANNEL_UPDATES:ge,THREAD_CREATE:be,THREAD_UPDATE:be,THREAD_DELETE:be,THREAD_LIST_SYNC:Ie,THREAD_MEMBER_UPDATE:_e,THREAD_MEMBERS_UPDATE:me,PASSIVE_UPDATE_V1:Ce,GUILD_MEMBER_UPDATE:de,USER_GUILD_SETTINGS_FULL_UPDATE:Ne,USER_GUILD_SETTINGS_CHANNEL_UPDATE:Re,USER_GUILD_SETTINGS_CHANNEL_UPDATE_BULK:Re,USER_GUILD_SETTINGS_GUILD_UPDATE:Re,USER_GUILD_SETTINGS_GUILD_AND_CHANNELS_UPDATE:Re,
GUILD_FEATURE_ACK:Se,GUILD_SCHEDULED_EVENT_CREATE:Oe,GUILD_SCHEDULED_EVENT_UPDATE:Oe,GUILD_SCHEDULED_EVENT_DELETE:Oe,CHANNEL_RTC_UPDATE_CHAT_OPEN:pe,LOAD_MESSAGES_SUCCESS:pe,CHANNEL_ACK:pe,CHANNEL_LOCAL_ACK:pe,VOICE_CHANNEL_SELECT:pe,ENABLE_AUTOMATIC_ACK:pe,RESORT_THREADS:pe,NOTIFICATION_CENTER_CLEAR_GUILD_MENTIONS:Pe});e.waitFor(C.Z,N.Z,A.ZP,T.Z,I.default,d.default,f.Z,O.Z,S.Z);return e}var r=n.prototype;r.takeSnapshot=function(){return{version:n.LATEST_SNAPSHOT_VERSION,data:{guilds:F,unreadGuilds:Array.from(G)}}};r.hasAnyUnread=function(){return G.size>0};r.getStoreChangeSentinel=function(){return B};r.getMutableUnreadGuilds=function(){return G};r.getMutableGuildStates=function(){return F};r.hasUnread=function(e){return G.has(e)||function(e){var t=d.default.getCurrentUser(),n=(0,u.kC)(),r=f.Z.isGuildUnreadSettingEnabled(e),o=p.Z.getGuildUnreadsLastCleared(e),i=s.Z.getLastFetchedMillis(e),a=Date.now(),g=(0,c.m7)(e),v=f.Z.getNotifyHighlights(e),b=v===h.gLR.ENABLED||v===h.gLR.NULL
;if(!(n&&r&&g&&b))return!1;if(null==t?void 0:t.isStaff()){(null==i||null!=i&&a-i>E)&&l.Z.maybeLoadFeedForGuild(e);return!1}return null==i||a-i>y&&a-o>y}(e)};r.getMentionCount=function(e){return V(e).mentionCount};r.getMutableGuildReadState=function(e){return V(e)};r.getGuildHasUnreadIgnoreMuted=function(e){var t=C.Z.getMutableGuildChannelsForGuild(e);for(var n in t){var r=t[n];if(null!=r&&((!r.isGuildVocal()||0!==A.ZP.getMentionCount(n))&&T.Z.can(r.accessPermissions,r)&&A.ZP.hasUnread(n)))return!0}var o=O.Z.getActiveJoinedThreadsForGuild(e);for(var i in o){var a=C.Z.getChannel(i);if(null!=a&&z(a))for(var u in o[i])if(A.ZP.hasUnread(u))return!0}return!!A.ZP.hasUnread(e,L.W.GUILD_EVENT)};r.getTotalMentionCount=function(e){var t=0;for(var n in F){var r=F[n];!0===e&&n===k||(t+=r.mentionCount)}return t};r.getTotalNotificationsMentionCount=function(e){var t=0;for(var n in F){var r=F[n];!0===e&&n===k||(t+=r.ncMentionCount)}return t};r.getPrivateChannelMentionCount=function(){var e,t=F.null
;return null!==(e=null==t?void 0:t.mentionCount)&&void 0!==e?e:0};r.getMentionCountForChannels=function(e,t){var n=0,r=F[e];if(null==r)return 0;t.forEach((function(e){var t=r.mentionCounts[e];n+=null!=t?t:0}));return n};r.getGuildChangeSentinel=function(e){return V(e).sentinel};r.__getLocalVars=function(){return{PRIVATE_CHANNELS_ID:k,guilds:F,unreadGuilds:G,storeChangeSentinel:B}};return n}(P.Z);Le.displayName="GuildReadStateStore";Le.LATEST_SNAPSHOT_VERSION=1;const we=new Le},40134:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(202351),o=n(744564),i=n(102921),a=n(736818),u=n(840922);function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e){s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return s(e)}function c(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e
}(e):t}function f(e,t){f=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return f(e,t)}var d=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}var h=15552e6,E=!1;var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&f(e,t)}(n,e);var t=p(n);function n(){l(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){
this.waitFor(u.Z,a.default)};r.isEligible=function(){return E};r.__getLocalVars=function(){return{MINIMUM_FRIENDS:10,MINIMUM_AGE:h,isEligible:E}};return n}(r.ZP.Store);y.displayName="PremiumPromoStore";const g=new y(o.Z,{CONNECTION_OPEN:function(){return E!==(E=u.Z.getFriendIDs().length>=10&&i.Z.extractTimestamp(a.default.getId())<Date.now()-h)}})},219264:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var r=n(202351),o=n(630631),i=n(744564),a=n(481117);function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e){l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return l(e)}function s(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e,t){c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c(e,t)}var f=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}var p="MaintenanceStore",h=null,E=null,y=null;var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&c(e,t)}(n,e);var t=d(n);function n(){u(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){y=o.Z.get(p)};r.getIncident=function(){return h};r.getScheduledMaintenance=function(){
return null!=E&&E.id!==y?E:null};r.__getLocalVars=function(){return{MAINTENANCE_KEY:p,incident:h,scheduledMaintenance:E,scheduledMaintenanceAck:y}};return n}(r.ZP.Store);g.displayName="MaintenanceStore";const v=new g(i.Z,{CONNECTION_OPEN:function(){h=null;a.Z.checkScheduledMaintenances()},STATUS_PAGE_INCIDENT:function(e){h=e.incident},STATUS_PAGE_SCHEDULED_MAINTENANCE:function(e){E=e.maintenance},STATUS_PAGE_SCHEDULED_MAINTENANCE_ACK:function(){if(null==E)return!1;y=E.id;o.Z.set(p,y)}})},688013:(e,t,n)=>{"use strict";n.d(t,{Z:()=>R});n(730381);var r=n(940060),o=n(202351),i=n(630631),a=n(744564),u=n(762572),l=n(27851),s=n(567403),c=n(682776),f=n(464187),d=n(473903),p=n(2590);function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e){E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return E(e)}function y(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?function(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e,t){g=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return g(e,t)}var v,b=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=E(e);if(t){var o=E(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}var S,_={hiddenSurveys:{},validSurveys:{},currentSurvey:null,surveyOverride:null,iosIsPushNotificationClicked:!1,iosIsInviteShown:!1,iosFirstRunDate:null!==(v=i.Z.get(p.z7k))&&void 0!==v?v:null,lastFetched:null},m=_,I=864e5;!function(e){e.IS_OWNER="is_owner"
;e.IS_ADMIN="is_admin";e.IS_COMMUNITY="is_community";e.GUILD_SIZE="guild_size";e.IS_HUB="is_hub";e.IS_VIEWING="is_viewing";e.GUILD_PERMISSIONS="guild_permissions";e.GUILD_SIZE_ALL="guild_size_all"}(S||(S={}));var C=new Set(Object.values(S));function T(e){var t=e.guild_requirements,n=void 0===t?[]:t,o=e.guild_size,i=void 0===o?[null,null]:o,a=e.guild_permissions,u=void 0===a?[]:a;if(0===n.length)return!0;var h=!0,E=!1,y=void 0;try{for(var g,v=n[Symbol.iterator]();!(h=(g=v.next()).done);h=!0){var b=g.value;if(!C.has(b))return!1}}catch(e){E=!0;y=e}finally{try{h||null==v.return||v.return()}finally{if(E)throw y}}var O=n.includes(S.GUILD_SIZE_ALL),_=!0,I=Object.values(s.Z.getGuilds()),T=!0,A=!1,N=void 0;try{for(var P,R=I[Symbol.iterator]();!(T=(P=R.next()).done);T=!0){var L=P.value;if(O||n.includes(S.GUILD_SIZE)){var w=l.Z.getMemberCount(L.id);if(null==w){_=!1;continue}if(null!=i[0]&&w<i[0]){_=!1;continue}if(null!=i[1]&&w>i[1]){_=!1;continue}}
if((!n.includes(S.IS_COMMUNITY)||L.hasFeature(p.oNc.COMMUNITY))&&(!n.includes(S.IS_HUB)||L.hasFeature(p.oNc.HUB))){if(n.includes(S.GUILD_PERMISSIONS)){if(0===u.length)continue;var j=!1,D=!0,M=!1,Z=void 0;try{for(var U,x=u[Symbol.iterator]();!(D=(U=x.next()).done);D=!0){var k=U.value;try{var F=r.Z.deserialize(k);if(c.Z.can(F,L)){j=!0;break}}catch(e){}}}catch(e){M=!0;Z=e}finally{try{D||null==x.return||x.return()}finally{if(M)throw Z}}if(!j)continue}var G=d.default.getCurrentUser(),B=(null==G?void 0:G.id)===L.ownerId,H=c.Z.can(p.Plq.ADMINISTRATOR,L);if((!n.includes(S.IS_OWNER)||B)&&(!n.includes(S.IS_ADMIN)||H)){var V;m.validSurveys=null!==(V=m.validSurveys)&&void 0!==V?V:{};null==m.validSurveys[e.key]&&(m.validSurveys[e.key]=e);var Y=f.Z.getGuildId(),K=null!=Y&&Y===L.id;if((!n.includes(S.IS_VIEWING)||K)&&!O)return!0}}}}catch(e){A=!0;N=e}finally{try{T||null==R.return||R.return()}finally{if(A)throw N}}return!(!O||!_)}function A(e){var t=e.survey,n=m.hiddenSurveys
;m.iosIsPushNotificationClicked,m.iosIsInviteShown;m.lastFetched=Date.now();if(null!=t&&null==n[t.key]){if(!T(t))return;0;m.currentSurvey=t}}function N(){if(null!=m.currentSurvey&&function(e){if(T(e))return!0;m.currentSurvey=null;return!1}(m.currentSurvey))return!1;!function(){var e;m.validSurveys=null!==(e=m.validSurveys)&&void 0!==e?e:{};var t=Object.values(m.validSurveys)[0];if(null!=t&&T(t))A({type:"SURVEY_FETCHED",survey:t});else{if(null==m.currentSurvey)return!1;m.currentSurvey=null}}()}var P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&g(e,t)}(n,e);var t=O(n);function n(){h(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(e){m=null!=e?e:_;this.syncWith([f.Z],N)};r.getState=function(){return m};r.getCurrentSurvey=function(){return m.currentSurvey}
;r.getSurveyOverride=function(){return m.surveyOverride};r.__getLocalVars=function(){return{initialState:_,state:m,REFETCH_INTERVAL:I,MINIMUM_INSTALL_DAYS:7,GuildRequirements:S,IMPLEMENTED_GUILD_REQUIREMENTS:C}};return n}(o.ZP.PersistedStore);P.displayName="SurveyStore";P.persistKey="SurveyStore";const R=new P(a.Z,{CONNECTION_OPEN:function(){var e;null!=m.lastFetched&&Date.now()-(null!==(e=m.lastFetched)&&void 0!==e?e:0)<I&&null==m.surveyOverride||(0,u.wk)(m.surveyOverride)},SURVEY_FETCHED:A,SURVEY_HIDE:function(e){var t,n=e.key;m.hiddenSurveys[n]=!0;m.currentSurvey=null;m.validSurveys=null!==(t=m.validSurveys)&&void 0!==t?t:{};delete m.validSurveys[n]},SURVEY_OVERRIDE:function(e){var t=e.id;m.surveyOverride=t;null!=t&&delete m.hiddenSurveys[t];(0,u.wk)(m.surveyOverride)},PUSH_NOTIFICATION_CLICK:function(){m.iosIsPushNotificationClicked=!0},DISPLAYED_INVITE_SHOW:function(){m.iosIsInviteShown=!0},LOGOUT:function(){m.hiddenSurveys={}}})},984237:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h})
;var r=n(202351),o=n(744564);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return a(e)}function u(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var s=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=a(e);if(t){var o=a(this).constructor
;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}var f=null,d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&l(e,t)}(n,e);var t=c(n);function n(){i(this,n);return t.apply(this,arguments)}var r=n.prototype;r.hasAction=function(){return null!=f};r.getAction=function(){return f};r.__getLocalVars=function(){return{requiredAction:f}};return n}(r.ZP.Store);d.displayName="UserRequiredActionStore";function p(e){f=e.requiredAction}const h=new d(o.Z,{CONNECTION_OPEN:p,USER_REQUIRED_ACTION_UPDATE:p})},7114:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(202351),o=n(744564);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n
;return e}function u(e){u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return u(e)}function l(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e,t){s=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return s(e,t)}var c=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}var d=null;var p=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&s(e,t)}(n,e);var t=f(n);function n(){i(this,n);return t.apply(this,arguments)}var r=n.prototype;r.getCurrentPath=function(){return null!=d?d.pathname:null};r.getCurrentRoute=function(){return function(e){var t=null!=e&&null!=e.search?e.search:"";return null!=e?"".concat(e.pathname).concat(t):null}(d)};r.reset=function(){throw new Error("Should not reset the store this way outside of a test environment")};r.__getLocalVars=function(){return{current:d}};return n}(r.ZP.Store);p.displayName="ApplicationStoreLocationStore";const h=new p(o.Z,{APPLICATION_STORE_LOCATION_CHANGE:function(e){var t=e.location;d=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){a(e,t,n[t])}))}return e}({},t)},APPLICATION_STORE_RESET_NAVIGATION:function(){d=null}})},493221:(e,t,n)=>{"use strict";n.d(t,{Z:()=>_});var r=n(202351),o=n(744564),i=n(61209),a=n(536038),u=n(567403),l=n(715107),s=n(796909),c=n(2590);function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e){d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return d(e)}function p(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e,t){h=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return h(e,t)}var E,y,g=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}var b=(null!==(y=null===window||void 0===window||null===(E=window.location)||void 0===E?void 0:E.pathname)&&void 0!==y?y:"").startsWith(c.Z5c.ACTIVITIES)?c.Z5c.ACTIVITIES:null;function O(e){var t=e.link;b=t}var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&h(e,t)}(n,e);var t=v(n);function n(){f(this,n)
;return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(a.Z,s.Z,l.Z,u.Z,i.Z)};r.getHomeLink=function(){return null!=b?b:a.Z.fallbackRoute};r.__getLocalVars=function(){return{homeLink:b}};return n}(r.ZP.Store);S.displayName="AppViewStore";const _=new S(o.Z,{OVERLAY_INITIALIZE:function(){var e=s.Z.getPrivateChannelIds(),t=l.Z.getChannelId(c.ME);null==t&&null==e[0]||(b=c.Z5c.CHANNEL(c.ME,null!=t?t:e[0]))},APP_VIEW_SET_HOME_LINK:O,APPLICATION_STORE_LOCATION_CHANGE:function(e){O({link:e.location.pathname,type:"APP_VIEW_SET_HOME_LINK"})},APPLICATION_STORE_RESET_NAVIGATION:function(){if(null==b||!b.startsWith(c.Z5c.APPLICATION_STORE))return!1;b=c.Z5c.APPLICATION_STORE},CHANNEL_SELECT:function(e){var t=e.guildId,n=e.channelId;if(null==t&&null!=n){var r=c.Z5c.CHANNEL(c.ME,n);if(r!==b){b=r;return!0}}return!1},CHANNEL_DELETE:function(e){var t=e.channel;null==t.guild_id&&null!=t.id&&null!=b&&b===c.Z5c.CHANNEL(c.ME,t.id)&&(b=null)}})},796909:(e,t,n)=>{"use strict"
;n.d(t,{Z:()=>M});var r=n(730381),o=n.n(r),i=n(202351),a=n(575626),u=n(744564),l=n(62277),s=n(996344),c=n(382060),f=n(61209),d=n(567403),p=n(717091),h=n(9430),E=n(473903),y=n(102921),g=n(897196);function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e){b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return b(e)}function O(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function S(e,t){S=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return S(e,t)}var _,m=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{
Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var o=b(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O(this,n)}}!function(e){e.DEFAULT="DEFAULT";e.FAVORITE="FAVORITE"}(_||(_={}));var C=new a.Z((function(e){var t=e.isRequest,n=e.isFavorite;return t?[]:[n?_.FAVORITE:_.DEFAULT]}),(function(e){return-e.lastMessageId}));function T(e){var t,n,r=null!==(n=null!==(t=p.ZP.lastMessageId(e.id))&&void 0!==t?t:e.lastMessageId)&&void 0!==n?n:e.id,i=e.isMessageRequestTimestamp;if(null!=i){var a=o()(i).valueOf(),u=y.Z.fromTimestamp(a);return y.Z.compare(r,u)>0?r:u}return r}function A(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:T(e);return{channelId:e.id,lastMessageId:t,isFavorite:h.Z.isMessagesFavorite(e.id)&&(0,l.cn)(),isRequest:s.Z.isMessageRequest(e.id)}}function N(){C.clear()
;Object.values(f.Z.getMutablePrivateChannels()).forEach((function(e){C.set(e.id,A(e))}));(0,l.cn)()&&h.Z.getAddedToMessages().forEach((function(e){var t=f.Z.getChannel(e);null!=t&&(0,c.zi)(t.type)&&C.set(t.id,A(t))}))}function P(){var e=f.Z.getMutablePrivateChannels();for(var t in e)C.set(t,A(e[t]))}var R,L,w,j=(R=[],L=[],w=[],function(){var e=C.values(_.FAVORITE),t=C.values(_.DEFAULT);if(R!==e||L!==t){w=[];e.forEach((function(e){var t=e.channelId;return w.push(t)}));R=e;t.forEach((function(e){var t=e.channelId;return w.push(t)}));L=t}return w}),D=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&S(e,t)}(n,e);var t=I(n);function n(){v(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(f.Z,d.Z,E.default,s.Z,h.Z);this.syncWith([h.Z,s.Z],N)}
;r.getPrivateChannelIds=function(){return j()};r.getSortedChannels=function(){return[C.values(_.FAVORITE),C.values(_.DEFAULT)]};r.serializeForOverlay=function(){var e={};C.values().forEach((function(t){var n=t.channelId,r=t.lastMessageId;e[n]=r}));return e};r.__getLocalVars=function(){return{SortedChannelType:_,data:C,getPrivateChannelIds:j}};return n}(i.ZP.Store);D.displayName="PrivateChannelSortStore";const M=new D(u.Z,{CONNECTION_OPEN:N,CONNECTION_OPEN_SUPPLEMENTAL:N,OVERLAY_INITIALIZE:N,CACHE_LOADED:P,CACHE_LOADED_LAZY:P,CHANNEL_UPDATES:function(e){e.channels.forEach((function(e){((0,c.hv)(e.type)||C.has(e.id))&&C.set(e.id,A(e))}))},CHANNEL_CREATE:function(e){var t=e.channel;if(!(0,c.hv)(t.type))return!1;if(t.id===g.V)return!1;C.set(t.id,A(t))},CHANNEL_DELETE:function(e){var t=e.channel;return C.delete(t.id)},MESSAGE_CREATE:function(e){var t=e.channelId,n=e.message;if(!C.has(t))return!1;var r=f.Z.getChannel(t);return null!=r&&C.set(t,A(r,n.id))},GUILD_CREATE:function(e){
var t=e.guild.id;return C.delete(t)}})},364581:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r=n(202351),o=n(744564),i=n(2590);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e){u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return u(e)}function l(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e,t){s=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return s(e,t)}var c=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){
return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}var d=null,p=[i.ff_.REDISTRIBUTABLE_INSTALL_FAILED,i.ff_.POST_INSTALL_FAILED,i.ff_.POST_INSTALL_CANCELLED],h=[i.ff_.APPLICATION_NOT_FOUND,i.ff_.APPLICATION_LOAD_FAILED,i.ff_.INTERRUPTED,i.ff_.DESERIALIZATION_FAILED];var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&s(e,t)}(n,e);var t=f(n);function n(){a(this,n);return t.apply(this,arguments)}var r=n.prototype;r.getLastError=function(){return d};r.__getLocalVars=function(){return{lastError:d,LAUNCH_SETUP_ERROR_CODES:p,IGNORABLE_ERROR_CODES:h}};return n}(r.ZP.Store);E.displayName="DispatchApplicationErrorStore";const y=new E(o.Z,{DISPATCH_APPLICATION_LAUNCH_SETUP_START:function(){
null!=d&&null!=d.code&&p.includes(d.code)&&(d=null)},DISPATCH_APPLICATION_ERROR:function(e){var t=e.error;d=null!=t.code&&h.includes(t.code)?null:t}})},88818:(e,t,n)=>{"use strict";n.d(t,{Z:()=>St,m:()=>ot});var r=n(730381),o=n.n(r),i=n(202351),a=n(780964),u=n(418705),l=n(630631),s=n(744564),c=n(265688),f=n(603927),d=n(683323),p=n(351330),h=n(99827),E=n(293078),y=n(264076),g=n(652555),v=n(827289),b=n(46396),O=n(36058),S=n(489684),_=n(883650),m=n(688891),I=n(861426),C=n(944522),T=n(50034),A=n(54709),N=n(473903),P=n(850841);function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L(e){L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return L(e)}function w(e,t){return!t||"object"!==D(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function j(e,t){j=Object.setPrototypeOf||function(e,t){
e.__proto__=t;return e};return j(e,t)}var D=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=L(e);if(t){var o=L(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w(this,n)}}var Z=!1;var U=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&j(e,t)}(n,e);var t=M(n);function n(){R(this,n);return t.apply(this,arguments)}var r=n.prototype;r.shouldShowReactivateNotice=function(){var e=N.default.getCurrentUser();return!(0,P.I5)(e)&&Z}
;r.__getLocalVars=function(){return{shouldShowPostChurnNotice:Z}};return n}(i.ZP.Store);U.displayName="SubscriptionRemindersStore";const x=new U(s.Z,{BILLING_MOST_RECENT_SUBSCRIPTION_FETCH_SUCCESS:function(e){var t=e.subscription;if(null!=t){var n,r=A.Z.createFromServer(t);if(null==(0,P.Af)(r)||null==(null===(n=r.metadata)||void 0===n?void 0:n.ended_at))return;var i=o()(r.metadata.ended_at);o()().isBetween(i.clone().add(4,"days"),i.clone().add(11,"days"))&&(Z=!0)}}});var k=n(803548),F=n(188435),G=n(822816),B=n(73727),H=n(525261),V=n(473419),Y=n(736818),K=n(13066),z=n(912735),W=n(61209),Q=n(629223),q=n(496486),X=n.n(q),J=n(595138),$=n(875700),ee=n(315804),te=n(959207),ne=n(671723),re=n(151367),oe=n(746974),ie=n(2590);function ae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ue(e){ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return ue(e)}function le(e,t){
return!t||"object"!==ce(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function se(e,t){se=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return se(e,t)}var ce=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function fe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=ue(e);if(t){var o=ue(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return le(this,n)}}var de="DetectedOffPlatformPremiumPerksStore",pe={},he={},Ee=[];function ye(){var e=!1,t=!0,n=!1,r=void 0;try{for(var o,i=X().values(he)[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){
var a=o.value,u=a.skuId,l=a.applicationId;if(!Ee.includes(u)){var s=te.Z.getGame(l);if(null!=s){var c=oe.Z.get(u);if(null!=c)if(re.Z.applicationIdsFetching.has(s.id)||re.Z.isEntitledToSku(N.default.getCurrentUser(),u,s.id,s.id)||!c.available){if(null!=pe[u]){delete pe[u];e=!0}}else{pe[u]={skuId:u,applicationId:l};e=!0}else oe.Z.isFetching(u)||oe.Z.didFetchingSkuFail(u)||ee.jU(s.id,u)}else te.Z.isFetching(l)||te.Z.didFetchingFail(l)||$.Z.fetchApplication(l)}}}catch(e){n=!0;r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return e}var ge=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&se(e,t)}(n,e);var t=fe(n);function n(){ae(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(ne.ZP,oe.Z,re.Z);var e;Ee=null!==(e=l.Z.get(de))&&void 0!==e?e:Ee}
;r.getDetectedOffPlatformPremiumPerks=function(){return X().values(pe)};r.__getLocalVars=function(){return{STORAGE_KEY:de,detectedOffPlatformPremiumPerks:pe,seenOffPlatformPerks:he,dismissedOffPlatformPremiumPerkSKUs:Ee}};return n}(i.ZP.Store);ge.displayName="DetectedOffPlatformPremiumPerksStore";const ve=new ge(s.Z,{LOGOUT:function(){pe={};he={}},SKU_FETCH_SUCCESS:ye,ENTITLEMENT_FETCH_APPLICATION_SUCCESS:ye,ENTITLEMENT_CREATE:ye,APPLICATION_FETCH_SUCCESS:ye,DETECTED_OFF_PLATFORM_PREMIUM_PERKS_DISMISS:function(e){var t=e.skuId;delete pe[t];if(Ee.includes(t))return!1;Ee.push(t);l.Z.set(de,Ee)},RUNNING_GAMES_CHANGE:function(){var e=!1,t=!0,n=!1,r=void 0;try{for(var o,i=ne.ZP.getRunningGames()[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value,u=a.id,l=a.distributor;if(null!=u&&l!==ie.GQo.DISCORD){var s=!0,c=!1,f=void 0;try{for(var d,p=ie.Lg6[Symbol.iterator]();!(s=(d=p.next()).done);s=!0){var h=d.value,E=h.skuId,y=h.applicationId;if(y===u&&(!Ee.includes(E)&&null==he[E])){
re.Z.applicationIdsFetched.has(y)||re.Z.applicationIdsFetching.has(y)||null!=re.Z.getForSku(E)||J.yD(y);he[E]={skuId:E,applicationId:y};e=!0}}}catch(e){c=!0;f=e}finally{try{s||null==p.return||p.return()}finally{if(c)throw f}}}}}catch(e){n=!0;r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}e&&ye();return e}});var be=n(21372),Oe=n(567403),Se=n(604945),_e=n(288263),me=n(682776),Ie=n(40134),Ce=n(69085),Te=n(715107),Ae=n(464187),Ne=n(219264),Pe=n(793461),Re=n(688013),Le=n(984237),we=n(407561),je=n(615796),De=n(711531),Me=n(536392),Ze=n(432065),Ue=n(325213),xe=n(120415),ke=n(364581),Fe=n(448200),Ge=n(454708),Be=n(199790),He=n(483255),Ve=n(203600),Ye=n(520453),Ke=n(36256);function ze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function We(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Qe(e){Qe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){
return e.__proto__||Object.getPrototypeOf(e)};return Qe(e)}function qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){We(e,t,n[t])}))}return e}function Xe(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Je(e,t){return!t||"object"!==tt(t)&&"function"!=typeof t?function(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $e(e,t){$e=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return $e(e,t)}var et,tt=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function nt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Qe(e);if(t){var o=Qe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Je(this,n)}}var rt,ot=(We(et={},ie.kVF.LOCALIZED_PRICING,u.z$.NAGBAR_NOTICE_LOCALIZED_PRICING),We(et,ie.kVF.DOWNLOAD_NAG,u.z$.NAGBAR_NOTICE_DOWNLOAD),We(et,ie.kVF.CONNECT_SPOTIFY,u.z$.NAGBAR_NOTICE_CONNECT_SPOTIFY),
We(et,ie.kVF.CONNECT_PLAYSTATION,u.z$.NAGBAR_NOTICE_CONNECT_PLAYSTATION),We(et,ie.kVF.MFA_SMS_BACKUP,u.z$.NAGBAR_NOTICE_MFA_SMS_BACKUP),We(et,ie.kVF.PREMIUM_TIER_2_TRIAL_ENDING,u.z$.NAGBAR_NOTICE_PREMIUM_TIER_TWO_TRIAL_ENDING),We(et,ie.kVF.PREMIUM_REACTIVATE,u.z$.NAGBAR_NOTICE_PREMIUM_REACTIVATE),We(et,ie.kVF.DROPS_GO_LIVE_BANNER,u.z$.QUEST_2_GO_LIVE_BANNER),We(et,ie.kVF.DROPS_ENDED_INCOMPLETE,u.z$.QUEST_2_ENDED_INCOMPLETE),We(et,ie.kVF.BOUNCED_EMAIL_DETECTED,u.z$.NAGBAR_BOUNCED_EMAIL_NOTICE),We(et,ie.kVF.ACTIVATE_SERVER_SUBSCRIPTION,u.z$.NAGBAR_ACTIVATE_SERVER_SUBSCRIPTION),We(et,ie.kVF.PREMIUM_TIER_0_TRIAL_ENDING,u.z$.NAGBAR_NOTICE_PREMIUM_TIER_0_TRIAL_ENDING),We(et,ie.kVF.GUILD_ONBOARDING_UPSELL_NAGBAR,u.z$.GUILD_ONBOARDING_UPSELL_NAGBAR),We(et,ie.kVF.POMELO_ELIGIBLE,u.z$.NAGBAR_NOTICE_POMELO),et),it=(We(rt={},ie.kVF.DETECTED_OFF_PLATFORM_PREMIUM_PERK_UPSELL,"hideDetectedOffPlatformPremiumPerkUpsell"),We(rt,ie.kVF.PREMIUM_UNCANCEL,"hideUncancelReminder"),
We(rt,ie.kVF.PREMIUM_MISSING_PAYMENT,"hideMissingPaymentReminder"),We(rt,ie.kVF.PREMIUM_PAST_DUE_MISSING_PAYMENT,"hidePastDueMissingPaymentReminder"),We(rt,ie.kVF.PREMIUM_PAST_DUE_INVALID_PAYMENT,"hidePastDueInvalidPaymentReminder"),We(rt,ie.kVF.PREMIUM_PAST_DUE_ONE_TIME_PAYMENT,"hidePastDueOneTimePaymentReminder"),We(rt,ie.kVF.AUTO_MODERATION_MENTION_RAID_DETECTION,"hideAutoModerationMentionRaidDetectionNotice"),We(rt,ie.kVF.GUILD_RAID_NOTIFICATION,"hideGuildRaidDetectionNotice"),rt),at=new Set([ie.kVF.NO_INPUT_DETECTED,ie.kVF.STREAMER_MODE,ie.kVF.VIDEO_UNSUPPORTED_BROWSER,ie.kVF.SPOTIFY_AUTO_PAUSED,ie.kVF.DISPATCH_ERROR,ie.kVF.DISPATCH_ERROR,ie.kVF.DISPATCH_INSTALL_SCRIPT_PROGRESS]),ut={},lt=Object.freeze({id:null,message:null,buttonText:null,callback:void 0,metadata:null}),st=null;function ct(e){return it[e]+"-untilAtLeast"}function ft(e,t,n){if(null!=e){var r=it[e];null==r||t||l.Z.set(r,!0);at.has(e)&&(ut[e]=!0);null!=n&&null!=r?function(e,t){
l.Z.set(ct(e),t.format("YYYY-MM-DDTHH:mm:ss.SSSZ"))}(e,n):function(e){l.Z.remove(ct(e))}(e)}}function dt(e){if(null==e)return!1;var t=ot[e];if(null!=t)return(0,p.un)(t);var n=it[e];if(null!=n){var r=function(e){var t=l.Z.get(ct(e));return null!=t?o()(t):null}(e);if(null!=r)return null==r?void 0:r.isAfter(o()())}var i=ut[e];return!!i||(null!=n&&""!==n?l.Z.get(n):!!at.has(e)&&i)}
var pt,ht,Et=[ie.kVF.QUARANTINED,ie.kVF.AUTOMOD_QUARANTINED_USER_PROFILE,ie.kVF.VIEWING_ROLES,ie.kVF.INVITED_TO_SPEAK,ie.kVF.LURKING_GUILD,ie.kVF.VOICE_DISABLED,ie.kVF.NO_INPUT_DETECTED,ie.kVF.HARDWARE_MUTE,ie.kVF.H264_DISABLED,ie.kVF.DISPATCH_ERROR,ie.kVF.DISPATCH_INSTALL_SCRIPT_PROGRESS,ie.kVF.SPOTIFY_AUTO_PAUSED,ie.kVF.DROPS_PROGRESS_INTERRUPTION,ie.kVF.AUTO_MODERATION_MENTION_RAID_DETECTION,ie.kVF.GUILD_RAID_NOTIFICATION,ie.kVF.UNCLAIMED_ACCOUNT,ie.kVF.POMELO_ELIGIBLE,ie.kVF.PENDING_MEMBER,ie.kVF.OUTBOUND_PROMOTION,ie.kVF.CORRUPT_INSTALLATION,ie.kVF.VIDEO_UNSUPPORTED_BROWSER,ie.kVF.DETECTED_OFF_PLATFORM_PREMIUM_PERK,ie.kVF.DETECTED_OFF_PLATFORM_PREMIUM_PERK_UPSELL,ie.kVF.STREAMER_MODE,ie.kVF.SCHEDULED_MAINTENANCE,ie.kVF.BOUNCED_EMAIL_DETECTED,ie.kVF.UNVERIFIED_ACCOUNT,ie.kVF.PREMIUM_TIER_2_TRIAL_ENDING,ie.kVF.PREMIUM_TIER_0_TRIAL_ENDING,ie.kVF.PREMIUM_UNCANCEL,ie.kVF.PREMIUM_MISSING_PAYMENT,ie.kVF.PREMIUM_PAST_DUE_INVALID_PAYMENT,ie.kVF.PREMIUM_PAST_DUE_MISSING_PAYMENT,ie.kVF.PREMIUM_PAST_DUE_ONE_TIME_PAYMENT,ie.kVF.PREMIUM_REACTIVATE,ie.kVF.ACTIVATE_SERVER_SUBSCRIPTION,ie.kVF.MFA_SMS_BACKUP,ie.kVF.APPLICATION_TEST_MODE,ie.kVF.LOCALIZED_PRICING,ie.kVF.DOWNLOAD_NAG,ie.kVF.CONNECT_SPOTIFY,ie.kVF.CONNECT_PLAYSTATION,ie.kVF.SURVEY,ie.kVF.SAFETY_USER_SENTIMENT_NAGBAR,ie.kVF.DROPS_GO_LIVE_BANNER,ie.kVF.DROPS_ENDED_INCOMPLETE,ie.kVF.GUILD_ONBOARDING_UPSELL_NAGBAR],yt=[ie.kVF.QUARANTINED,ie.kVF.AUTOMOD_QUARANTINED_USER_PROFILE,ie.kVF.VIEWING_ROLES,ie.kVF.INVITED_TO_SPEAK,ie.kVF.LURKING_GUILD,ie.kVF.VOICE_DISABLED,ie.kVF.NO_INPUT_DETECTED,ie.kVF.HARDWARE_MUTE,ie.kVF.H264_DISABLED,ie.kVF.DISPATCH_ERROR,ie.kVF.DISPATCH_INSTALL_SCRIPT_PROGRESS,ie.kVF.SPOTIFY_AUTO_PAUSED,ie.kVF.PENDING_MEMBER,ie.kVF.STREAMER_MODE,ie.kVF.SCHEDULED_MAINTENANCE],gt=(We(ht={},ie.kVF.GUILD_RAID_NOTIFICATION,{
predicate:function(){return(0,v.g)().show&&!dt(ie.kVF.GUILD_RAID_NOTIFICATION)},metadata:function(){return{dismissUntil:o()().add(3,"hours").toDate()}}}),We(ht,ie.kVF.AUTOMOD_QUARANTINED_USER_PROFILE,{predicate:function(e){var t=e.currentUser,n=e.selectedGuildId;if(null==n)return!1;var r=be.ZP.getMember(n,t.id);return null!=r&&!r.isPending&&(0,O.EY)(r)}}),We(ht,ie.kVF.QUARANTINED,{predicate:function(e){return e.currentUser.hasFlag(ie.xW$.QUARANTINED)}}),We(ht,ie.kVF.VIEWING_ROLES,{predicate:function(e){var t=e.selectedGuildId;return I.Z.isViewingRoles(t)}}),We(ht,ie.kVF.INVITED_TO_SPEAK,{predicate:function(e){var t=e.voiceState;return(0,H.gf)(t)===H.xO.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK}}),We(ht,ie.kVF.LURKING_GUILD,{predicate:function(e){var t=e.selectedGuildId;return null!=t&&C.Z.isLurking(t)}}),We(ht,ie.kVF.VOICE_DISABLED,{predicate:function(){return null!=Ce.Z.getRemoteDisconnectVoiceChannelId()}}),We(ht,ie.kVF.NO_INPUT_DETECTED,{predicate:function(e){
var t=e.voiceChannelId,n=e.voiceState,r=W.Z.getChannel(t),o=(null==r?void 0:r.isGuildStageVoice())&&(null==n?void 0:n.suppress);return!1===Se.Z.getInputDetected()&&!o}}),We(ht,ie.kVF.H264_DISABLED,{predicate:function(e){var t=e.voiceChannelId,n=W.Z.getChannel(t);return!Se.Z.getOpenH264()&&null!=t&&we.Z.hasVideo(t)&&null!=n&&n.isGuildStageVoice()}}),We(ht,ie.kVF.HARDWARE_MUTE,{predicate:function(){return Ce.Z.isConnected()&&Se.Z.isHardwareMute()},metadata:function(){var e=Se.Z.getInputDeviceId(),t=z.Z.getVendor(e),n=z.Z.getModel(e);if(null!=t&&null!=n)return{vendor:t,model:n}}}),We(ht,ie.kVF.DISPATCH_ERROR,{predicate:function(){return null!=ke.Z.getLastError()},metadata:function(){return{error:ke.Z.getLastError()}}}),We(ht,ie.kVF.DISPATCH_INSTALL_SCRIPT_PROGRESS,{predicate:function(){return null!=Fe.Z.getLastProgress()},metadata:function(){return Fe.Z.getLastProgress()}}),We(ht,ie.kVF.SPOTIFY_AUTO_PAUSED,{predicate:function(){return B.Z.wasAutoPaused()}}),
We(ht,ie.kVF.UNCLAIMED_ACCOUNT,{predicate:function(e){var t=e.currentUser;return null!=t&&!t.isClaimed()}}),We(ht,ie.kVF.PENDING_MEMBER,{predicate:function(e){var t,n,r=e.selectedGuildId,o=e.currentUser;return null!==(pt=null!=r&&null!=o&&!(null===(t=Oe.Z.getGuild(r))||void 0===t?void 0:t.hasFeature(ie.oNc.GUILD_ONBOARDING))&&(null===(n=be.ZP.getMember(r,o.id))||void 0===n?void 0:n.isPending))&&void 0!==pt&&pt}}),We(ht,ie.kVF.OUTBOUND_PROMOTION,{predicate:function(){return(0,k.tq)()}}),We(ht,ie.kVF.CORRUPT_INSTALLATION,{predicate:function(){return xe.FB&&(!a.Z.supported()||Ge.Z.isCorruptInstallation())}}),We(ht,ie.kVF.VIDEO_UNSUPPORTED_BROWSER,{predicate:function(e){var t=e.voiceChannelId;return null!=t&&we.Z.hasVideo(t)&&!Se.Z.supports(Ke.AN.VIDEO)&&!dt(ie.kVF.VIDEO_UNSUPPORTED_BROWSER)}}),We(ht,ie.kVF.DETECTED_OFF_PLATFORM_PREMIUM_PERK,{predicate:function(e){var t=e.currentUser;return P.ZP.canRedeemPremiumPerks(t)&&ve.getDetectedOffPlatformPremiumPerks().length>0},
metadata:function(){return ve.getDetectedOffPlatformPremiumPerks()[0]}}),We(ht,ie.kVF.DETECTED_OFF_PLATFORM_PREMIUM_PERK_UPSELL,{predicate:function(){return!dt(ie.kVF.DETECTED_OFF_PLATFORM_PREMIUM_PERK_UPSELL)&&ve.getDetectedOffPlatformPremiumPerks().length>0},metadata:function(){return ve.getDetectedOffPlatformPremiumPerks()[0]}}),We(ht,ie.kVF.STREAMER_MODE,{predicate:function(){return Pe.Z.enabled}}),We(ht,ie.kVF.DOWNLOAD_NAG,{predicate:function(){return!xe.FB&&!dt(ie.kVF.DOWNLOAD_NAG)}}),We(ht,ie.kVF.SCHEDULED_MAINTENANCE,{predicate:function(){return null!=Ne.Z.getScheduledMaintenance()},metadata:function(){var e=Ne.Z.getScheduledMaintenance();if(null!=e)return{id:e.id,start:new Date(e.scheduled_for),end:new Date(e.scheduled_until)}}}),We(ht,ie.kVF.SURVEY,{predicate:function(){return null!=Re.Z.getCurrentSurvey()},metadata:function(){return Re.Z.getCurrentSurvey()}}),We(ht,ie.kVF.UNVERIFIED_ACCOUNT,{predicate:function(e){var t=e.currentUser
;return null!=(null==t?void 0:t.email)&&!t.verified}}),We(ht,ie.kVF.BOUNCED_EMAIL_DETECTED,{predicate:function(e){var t=e.currentUser;return null==t?void 0:t.hasBouncedEmail}}),We(ht,ie.kVF.CONNECT_SPOTIFY,{predicate:function(){return!B.Z.hasConnectedAccount()&&ne.ZP.isObservedAppRunning(c.Z.get(ie.ABu.SPOTIFY).name)&&!dt(ie.kVF.CONNECT_SPOTIFY)}}),We(ht,ie.kVF.CONNECT_PLAYSTATION,{predicate:function(){return Q.Z.isSuggestedAccountType(ie.ABu.PLAYSTATION)&&null==Q.Z.getAccount(null,ie.ABu.PLAYSTATION)&&!dt(ie.kVF.CONNECT_PLAYSTATION)}}),We(ht,ie.kVF.PREMIUM_TIER_2_TRIAL_ENDING,{predicate:function(){for(var e in Ve.nG){var t,n=Ze.Z.getUserTrialOffer(Ve.nG[e].id);if(null!=n&&(null===(t=n.subscription_trial)||void 0===t?void 0:t.sku_id)===Ve.Si.TIER_2&&null!=n.expires_at&&Date.parse(n.expires_at)<Date.now()+Ve.ff&&!dt(ie.kVF.PREMIUM_TIER_2_TRIAL_ENDING))return!0}return!1}}),We(ht,ie.kVF.PREMIUM_TIER_0_TRIAL_ENDING,{predicate:function(){for(var e in Ve.nG){
var t,n=Ze.Z.getUserTrialOffer(Ve.nG[e].id);if(null!=n&&(null===(t=n.subscription_trial)||void 0===t?void 0:t.sku_id)===Ve.Si.TIER_0&&null!=n.expires_at&&Date.parse(n.expires_at)<Date.now()+Ve.ff&&!dt(ie.kVF.PREMIUM_TIER_0_TRIAL_ENDING))return!0}return!1}}),We(ht,ie.kVF.PREMIUM_UNCANCEL,{predicate:function(e){var t=e.premiumSubscription,n=e.currentUser,r=null!=t?o()(t.currentPeriodEnd).diff(o()().startOf("day"),"days"):0,i=null!=(null==t?void 0:t.canceledAt)&&(null==t?void 0:t.status)===ie.O0b.CANCELED&&o()().diff(o()(t.canceledAt),"days")<=1,a=null!=t&&o()(t.currentPeriodEnd).isBefore(o()()),u=null!=t&&t.status===ie.O0b.CANCELED&&!a&&r<=7&&r>=0&&(0,P.M5)(n,Ve.p9.TIER_2)&&!i&&!n.hasFreePremium()&&!t.isPurchasedExternally;return!dt(ie.kVF.PREMIUM_UNCANCEL)&&u},metadata:function(e){var t,n=e.premiumSubscription,r=null!=n?o()(n.currentPeriodEnd).diff(o()().startOf("day"),"days"):0,i=null!=n?null===(t=(0,P.Af)(n))||void 0===t?void 0:t.planId:null;return{daysLeft:r,
premiumType:null!=i?P.ZP.getPremiumType(i):null,premiumSubscription:n}}}),We(ht,ie.kVF.PREMIUM_MISSING_PAYMENT,{predicate:function(e){var t=e.premiumSubscription,n=e.currentUser,r=null!=t?o()(t.currentPeriodEnd).diff(o()().startOf("day"),"days"):0,i=(null!=t?o()(t.currentPeriodEnd).diff(o()(t.currentPeriodStart).startOf("day"),"days"):0)>14?7:2,a=null!=t&&o()(t.currentPeriodEnd).isBefore(o()()),u=re.Z.applicationIdsFetched.has(Ve.RQ),l=re.Z.getForApplication(Ve.RQ),s=null!=t?(0,P.Af)(t):null,c=null!=s?P.ZP.getSkuIdForPlan(s.planId):null,f=null!=l&&null!=s&&Array.from(l).filter((function(e){var t=e.skuId;return!e.consumed&&t===c})).length>0,d=null!=t&&r<=i&&r>=0&&t.status!==ie.O0b.PAST_DUE&&!a&&u&&!f&&null===t.paymentSourceId&&!n.hasFreePremium()&&!t.isPurchasedExternally;return!dt(ie.kVF.PREMIUM_MISSING_PAYMENT)&&d},metadata:function(e){var t,n=e.premiumSubscription,r=null!=n?o()(n.currentPeriodEnd).diff(o()().startOf("day"),"days"):0,i=null!=n?null===(t=(0,
P.Af)(n))||void 0===t?void 0:t.planId:null;return{daysLeft:r,premiumType:null!=i?P.ZP.getPremiumType(i):null,premiumSubscription:n}}}),We(ht,ie.kVF.PREMIUM_PAST_DUE_INVALID_PAYMENT,{predicate:function(e){var t=e.premiumSubscription,n=e.currentUser,r=null!=t&&null!=t.paymentSourceId?De.Z.getPaymentSource(t.paymentSourceId):null,i=null!=t&&o()(t.currentPeriodEnd).isBefore(o()()),a=null!=t&&t.status===ie.O0b.PAST_DUE&&!i&&null!=r&&r.invalid&&!n.hasFreePremium()&&!t.isPurchasedExternally;return!dt(ie.kVF.PREMIUM_PAST_DUE_INVALID_PAYMENT)&&a},metadata:function(e){return{premiumSubscription:e.premiumSubscription}}}),We(ht,ie.kVF.PREMIUM_PAST_DUE_MISSING_PAYMENT,{predicate:function(e){var t=e.premiumSubscription,n=e.currentUser,r=null!=t&&o()(t.currentPeriodEnd).isBefore(o()()),i=null!=t&&t.status===ie.O0b.PAST_DUE&&!r&&null===t.paymentSourceId&&!n.hasFreePremium()&&!t.isPurchasedExternally;return!dt(ie.kVF.PREMIUM_PAST_DUE_MISSING_PAYMENT)&&i},metadata:function(e){return{
premiumSubscription:e.premiumSubscription}}}),We(ht,ie.kVF.MFA_SMS_BACKUP,{predicate:function(e){var t=e.currentUser;return null!=t&&t.mfaEnabled&&!t.hasFlag(ie.xW$.MFA_SMS)&&!t.hasFlag(ie.xW$.STAFF)&&!t.hasFlag(ie.xW$.PARTNER)&&!dt(ie.kVF.MFA_SMS_BACKUP)}}),We(ht,ie.kVF.APPLICATION_TEST_MODE,{predicate:function(){return null!=Ue.Z.testModeApplicationId},metadata:function(){if(null==Ue.Z.testModeApplicationId)return{};var e=Ue.Z.testModeApplicationId,t=te.Z.getGame(e);return{applicationName:null!=t?t.name:e,applicationId:e}}}),We(ht,ie.kVF.PREMIUM_REACTIVATE,{predicate:function(){return!dt(ie.kVF.PREMIUM_REACTIVATE)&&x.shouldShowReactivateNotice()}}),We(ht,ie.kVF.LOCALIZED_PRICING,{predicate:function(e){var t=e.isLocalizedPromoEnabled;return!dt(ie.kVF.LOCALIZED_PRICING)&&t},metadata:function(e){return{premiumSubscription:e.premiumSubscription}}}),We(ht,ie.kVF.PREMIUM_PAST_DUE_ONE_TIME_PAYMENT,{predicate:function(e){
var t=e.premiumSubscription,n=e.currentUser,r=null!=t&&o()(t.currentPeriodEnd).isBefore(o()()),i=null!=t&&null!=t.paymentSourceId?De.Z.getPaymentSource(t.paymentSourceId):null,a=null!=i&&Ye.Uk.has(i.type),u=null!=t&&t.status===ie.O0b.PAST_DUE&&!r&&a&&!n.hasFreePremium()&&!t.isPurchasedExternally;return!dt(ie.kVF.PREMIUM_PAST_DUE_ONE_TIME_PAYMENT)&&u},metadata:function(e){var t=e.premiumSubscription;return{daysPastDue:(null==t?void 0:t.status)===ie.O0b.PAST_DUE?o()().diff(o()(t.currentPeriodStart),"days"):0,dismissUntil:o()(null==t?void 0:t.currentPeriodStart).add((0,P.lU)(t),"days").toDate()}}}),We(ht,ie.kVF.DROPS_GO_LIVE_BANNER,{predicate:function(){return!dt(ie.kVF.DROPS_GO_LIVE_BANNER)&&(0,p.un)(u.z$.QUEST_2_ENROLLMENT_TOOLTIP)&&!(0,p.un)(u.z$.QUEST_2_COMPLETION_TOOLTIP)&&(0,E.Tn)(He.X2.FORTNITE)},metadata:function(){return{partnerGame:He.X2.FORTNITE}}}),We(ht,ie.kVF.DROPS_PROGRESS_INTERRUPTION,{predicate:function(){
return h.Z.isCurrentQuestInterrupted&&null!=h.Z.currentDropQuestGameTitle},metadata:function(){return{gameTitle:h.Z.currentDropQuestGameTitle,reloadCallback:function(){return window.location.reload(!0)}}}}),We(ht,ie.kVF.POMELO_ELIGIBLE,{predicate:function(){return(0,T.e)()&&!dt(ie.kVF.POMELO_ELIGIBLE)}}),We(ht,ie.kVF.DROPS_ENDED_INCOMPLETE,{predicate:function(){return!dt(ie.kVF.DROPS_ENDED_INCOMPLETE)&&(0,p.un)(u.z$.QUEST_2_ENROLLMENT_TOOLTIP)&&!(0,p.un)(u.z$.QUEST_2_COMPLETION_TOOLTIP)&&(0,E.FL)(He.X2.FORTNITE)},metadata:function(){return{partnerGame:He.X2.FORTNITE}}}),We(ht,ie.kVF.AUTO_MODERATION_MENTION_RAID_DETECTION,{predicate:function(e){var t=e.selectedGuildId;return null!=t&&null!=_.Z.getMentionRaidDetected(t)&&(0,S.o3)(t)&&!dt(ie.kVF.AUTO_MODERATION_MENTION_RAID_DETECTION)},metadata:function(e){var t=e.selectedGuildId,n={dismissUntil:o()().add(2,"hours").toDate()};if(null!=t){var r=_.Z.getMentionRaidDetected(t);null!=r&&(n.decisionId=r.decisionId)}return n}}),
We(ht,ie.kVF.ACTIVATE_SERVER_SUBSCRIPTION,{predicate:function(){return!dt(ie.kVF.ACTIVATE_SERVER_SUBSCRIPTION)&&0!==d.Z.getEligibleGuildsForNagActivate().length&&(0,f.Lm)()}}),We(ht,ie.kVF.GUILD_ONBOARDING_UPSELL_NAGBAR,{predicate:function(e){var t=e.selectedGuildId;return!dt(ie.kVF.GUILD_ONBOARDING_UPSELL_NAGBAR)&&null!=t&&(0,m.S)(t,u.z$.GUILD_ONBOARDING_UPSELL_NAGBAR)}}),We(ht,ie.kVF.SAFETY_USER_SENTIMENT_NAGBAR,{predicate:function(e){var t=e.currentUser;return G.SI(t)}}),ht);function vt(){if(!g.Z.isConnected())return!1;st=null;var e=N.default.getCurrentUser();if(null==e)return!1;var t=Me.Z.getPremiumSubscription(),n=je.Z.isLocalizedPromoEnabled,r=Ae.Z.getGuildId(),o=Te.Z.getVoiceChannelId(),i=null!=o?we.Z.getVoiceStateForChannel(o):null,a=Be.a?yt:Et,u=!0,l=!1,s=void 0;try{for(var c,f=a[Symbol.iterator]();!(u=(c=f.next()).done);u=!0){var d=c.value;if(null!=gt[d]){if(gt[d].predicate({selectedGuildId:r,voiceChannelId:o,voiceState:i,currentUser:e,premiumSubscription:t,
isLocalizedPromoEnabled:n})){var p,h,E=null===(h=(p=gt[d]).metadata)||void 0===h?void 0:h.call(p,{currentUser:e,premiumSubscription:t,selectedGuildId:r});st=Xe(qe({},lt),{type:d,metadata:E});break}}else 0}}catch(e){l=!0;s=e}finally{try{u||null==f.return||f.return()}finally{if(l)throw s}}null!=st&&dt(st.type)&&(st=null)}function bt(){Pe.Z.enabled||delete ut[ie.kVF.STREAMER_MODE];return vt()}var Ot=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&$e(e,t)}(n,e);var t=nt(n);function n(){ze(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.syncWith([Re.Z,Ie.Z,ve,Ae.Z,F.Z,Ze.Z,K.Z,Q.Z,V.Z,b.Z],vt);this.waitFor(N.default,Ne.Z,Oe.Z,be.ZP,Ce.Z,Se.Z,Pe.Z,y.Z,Ae.Z,Le.Z,B.Z,ne.ZP,Ie.Z,ke.Z,Fe.Z,Ue.Z,_e.Z,Me.Z,Ge.Z,ve,De.Z,me.Z,F.Z,re.Z,Ze.Z,Q.Z,C.Z,h.Z,d.Z)};r.hasNotice=function(){
return null!=st&&null!=st.type};r.getNotice=function(){return null==Le.Z.getAction()?st:null};r.isNoticeDismissed=function(e){return dt(e)};r.__getLocalVars=function(){return{typeToStorageKeys:it,typeToTemporaryKeys:at,temporaryDismisses:ut,DEFAULT_NOTICE_SETTINGS:lt,notice:st,NoticeOrder:Et,ConferenceNoticeOrder:yt,NoticeDefinition:gt}};return n}(i.ZP.Store);Ot.displayName="NoticeStore";const St=new Ot(s.Z,{CURRENT_USER_UPDATE:vt,MEDIA_ENGINE_SET_AUDIO_ENABLED:vt,CLEAR_REMOTE_DISCONNECT_VOICE_CHANNEL_ID:vt,STATUS_PAGE_SCHEDULED_MAINTENANCE:vt,STATUS_PAGE_SCHEDULED_MAINTENANCE_ACK:vt,GUILD_CREATE:vt,GUILD_DELETE:vt,AUDIO_INPUT_DETECTED:vt,AUDIO_SET_DISPLAY_SILENCE_WARNING:vt,CERTIFIED_DEVICES_SET:vt,AUDIO_SET_INPUT_DEVICE:vt,AUDIO_SET_OUTPUT_DEVICE:vt,MEDIA_ENGINE_DEVICES:vt,RTC_CONNECTION_STATE:vt,RPC_APP_AUTHENTICATED:vt,RPC_APP_DISCONNECTED:vt,USER_CONNECTIONS_UPDATE:vt,WINDOW_FOCUS:vt,INSTANT_INVITE_CREATE:vt,INSTANT_INVITE_REVOKE_SUCCESS:vt,SPOTIFY_PLAYER_PAUSE:vt,
RUNNING_GAMES_CHANGE:vt,EXPERIMENTS_FETCH_SUCCESS:vt,PREMIUM_PAYMENT_SUBSCRIBE_SUCCESS:vt,DEVELOPER_TEST_MODE_AUTHORIZATION_SUCCESS:vt,DEVELOPER_TEST_MODE_AUTHORIZATION_FAIL:vt,DEVELOPER_TEST_MODE_RESET:vt,BILLING_SUBSCRIPTION_FETCH_SUCCESS:vt,DISPATCH_APPLICATION_INSTALL:vt,IMPERSONATE_STOP:vt,IMPERSONATE_UPDATE:vt,GUILD_MEMBER_ADD:function(e){return e.user.id===Y.default.getId()&&vt()},GUILD_MEMBER_UPDATE:vt,SURVEY_FETCHED:vt,ENTITLEMENT_FETCH_APPLICATION_SUCCESS:vt,BILLING_PAYMENT_SOURCE_REMOVE_SUCCESS:vt,BILLING_SUBSCRIPTION_UPDATE_SUCCESS:vt,BILLING_MOST_RECENT_SUBSCRIPTION_FETCH_SUCCESS:vt,VOICE_STATE_UPDATES:function(e){return e.voiceStates.some((function(e){return e.userId!==Y.default.getId()}))&&vt()},STREAMER_MODE_UPDATE:bt,RUNNING_STREAMER_TOOLS_CHANGE:bt,DISPATCH_APPLICATION_ERROR:function(){delete ut[ie.kVF.DISPATCH_ERROR];return vt()},DISPATCH_APPLICATION_LAUNCH_SETUP_START:function(){delete ut[ie.kVF.DISPATCH_INSTALL_SCRIPT_PROGRESS];return vt()},
DISPATCH_APPLICATION_INSTALL_SCRIPTS_PROGRESS_UPDATE:function(){return vt()},DISPATCH_APPLICATION_LAUNCH_SETUP_COMPLETE:function(){return vt()},NOTICE_SHOW:function(e){st=e.notice},NOTICE_DISMISS:function(e){if(null==st)return!1;if(null!=e.id&&e.id!==st.id)return!1;ft(st.type,e.isTemporary,e.untilAtLeast);return vt()},NOTICE_DISABLE:function(e){ft(e.noticeType);return vt()},LOGOUT:function(){ut={};st=null},SUBSCRIPTION_PLANS_FETCH_SUCCESS:vt,AUTO_MODERATION_MENTION_RAID_DETECTION:vt,CREATOR_MONETIZATION_NAG_ACTIVATE_ELIGIBLITY_FETCH_SUCCESS:vt})},993137:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(785893),o=(n(667294),n(294184)),i=n.n(o),a=n(831222),u=n.n(a);function l(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){l(e,t,n[t])}))}return e}const c=function(e){var t=e.aspectRatio,n=e.style,o=e.className,a=e.children;return(0,r.jsx)("div",{className:i()(u().outer,o),style:s({paddingTop:"".concat(1/t*100,"%")},n),children:(0,r.jsx)("div",{className:u().inner,children:a})})}},901165:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(785893),o=(n(667294),n(294184)),i=n.n(o),a=n(336513),u=n.n(a);function l(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){
l(e,t,n[t])}))}return e}function c(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function f(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}const d=function(e){var t=e.value,n=void 0===t?0:t,o=e.text,a=e.className,l=f(e,["value","text","className"]);return null!=o?(0,
r.jsx)("div",c(s({className:i()(u().wrapper,a)},l),{children:o})):n>0?(0,r.jsx)("div",c(s({className:i()(u().wrapper,a)},l),{children:n})):null}},839184:(e,t,n)=>{"use strict";n.d(t,{YX:()=>d,tT:()=>p,ZP:()=>h});var r=n(785893),o=(n(667294),n(294184)),i=n.n(o),a=n(945460),u=n(787498),l=n.n(u);function s(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function c(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function f(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e)
;for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}var d={TERTIARY:l().tertiary,SECONDARY:l().secondary,PRIMARY:l().primary},p={SIZE_24:l().size24,SIZE_32:l().size32,SIZE_36:l().size36};function h(e){var t=e.className,n=e.tooltip,o=e.color,u=e.size,d=void 0===u?p.SIZE_32:u,h=e.icon,E=e.onClick,y=e.disabled,g=e.focusProps;return(0,r.jsx)(a.Tooltip,{text:n,shouldShow:!y,children:function(e){var u=e.onClick,p=f(e,["onClick"]);return(0,r.jsx)(a.Clickable,c(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){s(e,t,n[t])}))}return e
}({},p),{"aria-label":n,"aria-disabled":y,className:i()(t,l().button,o,d,s({},l().disabled,y)),onClick:function(e){null==u||u();E(e)},focusProps:g,children:h}))}})}},554904:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),u=n(945460),l=n(107364),s=n(479477),c=n.n(s),f=n(518280),d=n.n(f);function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e){h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return h(e)}function E(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e,t){y=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return y(e,t)}var g=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function v(e){var t=function(){
if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return E(this,n)}}const b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&y(e,t)}(n,e);var t=v(n);function n(){p(this,n);return t.apply(this,arguments)}n.prototype.render=function(){var e=this.props,t=e.title,n=e.description,o=e.agreement,i=e.disagreement,s=e.onAgree,f=e.onDisagree,p=e.imageClassName;return(0,r.jsxs)(l.Z,{className:c().gatedContent,justify:l.Z.Justify.CENTER,align:l.Z.Align.CENTER,direction:l.Z.Direction.VERTICAL,
children:[(0,r.jsx)("div",{className:a()(c().image,p)}),(0,r.jsx)("div",{className:a()(c().title,d().marginBottom8),children:t}),(0,r.jsx)("div",{className:a()(c().description,d().marginBottom20),children:n}),(0,r.jsxs)(l.Z,{justify:l.Z.Justify.CENTER,align:l.Z.Align.CENTER,grow:0,children:[null!=i?(0,r.jsx)(u.Button,{className:c().action,size:u.ButtonSizes.LARGE,color:u.ButtonColors.PRIMARY,onClick:f,children:i}):null,null!=o?(0,r.jsx)(u.Button,{className:c().action,color:u.Button.Colors.RED,size:u.ButtonSizes.LARGE,onClick:s,children:o}):null]})]})};return n}(o.PureComponent)},562545:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(785893),o=(n(667294),n(633878));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){
var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function u(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function l(e){var t=e.width,n=void 0===t?32:t,l=e.height,s=void 0===l?32:l,c=e.color,f=void 0===c?"currentColor":c,d=u(e,["width","height","color"]);return(0,r.jsxs)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({},(0,o.Z)(d)),{width:n,height:s,viewBox:"0 0 24 24",fill:"none",children:[(0,r.jsxs)("g",{clipPath:"url(#clip0)",children:[(0,r.jsx)("path",{d:"M17.5053 1.76605C17.5053 1.76605 26.7154 8.05195 23.2155 16.8783C19.7157 25.7047 12.7544 23.2563 15.3562 20.6775C17.9581 18.0986 12.2862 16.3487 8.65588 13.0024L17.4976 1.76605",fill:f,fillOpacity:"0.6"}),(0,r.jsx)("path",{
d:"M16.945 10.4082C15.0032 12.8796 12.2632 14.1153 10.1449 13.6701L2.75381 23.0875C2.62942 23.2463 2.47493 23.3791 2.29918 23.4782C2.12343 23.5774 1.92987 23.6408 1.72956 23.6651C1.52925 23.6893 1.32613 23.6738 1.13181 23.6195C0.937493 23.5652 0.755794 23.473 0.597107 23.3484C0.436561 23.2245 0.302154 23.0701 0.201652 22.8939C0.101149 22.7178 0.0365434 22.5235 0.011566 22.3222C-0.0134115 22.121 0.00173486 21.9168 0.0561299 21.7214C0.110525 21.5261 0.203091 21.3434 0.328479 21.184L7.68121 11.7821C6.70648 9.83259 7.24373 6.84698 9.21623 4.35258C11.6646 1.25185 15.3563 0.0929071 17.4977 1.76608C19.639 3.43925 19.378 7.30749 16.945 10.4082Z",fill:f})]}),(0,r.jsx)("defs",{children:(0,r.jsx)("clipPath",{id:"clip0",children:(0,r.jsx)("rect",{width:n,height:s,fill:f})})})]}))}},119141:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(785893),o=(n(667294),n(633878));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}
function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function u(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function l(e){
var t=e.width,n=void 0===t?16:t,l=e.height,s=void 0===l?16:l,c=e.color,f=void 0===c?"currentColor":c,d=e.foreground,p=u(e,["width","height","color","foreground"]);return(0,r.jsx)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({},(0,o.Z)(p)),{width:n,height:s,viewBox:"0 0 24 24",children:(0,r.jsx)("path",{className:d,fill:f,d:"M15 7.5V2H9v5.5l3 3 3-3zM7.5 9H2v6h5.5l3-3-3-3zM9 16.5V22h6v-5.5l-3-3-3 3zM16.5 9l-3 3 3 3H22V9h-5.5z"})}))}},154232:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(785893),o=(n(667294),n(633878));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function u(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function l(e){var t=e.width,n=void 0===t?16:t,l=e.height,s=void 0===l?16:l,c=e.color,f=void 0===c?"currentColor":c,d=e.foreground,p=u(e,["width","height","color","foreground"]);return(0,
r.jsx)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({},(0,o.Z)(p)),{width:n,height:s,viewBox:"0 0 22 23",children:(0,r.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,r.jsx)("path",{className:d,fill:f,d:"M4.3231,4.4332 C4.3231,4.4332 4.5811,4.0472 4.6881,3.8762 C4.7951,3.7052 4.4111,3.3012 4.2621,3.1732 C4.1131,3.0452 3.8781,3.1092 3.8781,3.1092 C2.0031,3.9402 1.0651,5.6452 0.9371,5.9862 C0.8091,6.3272 1.2631,6.6992 1.5981,6.8812 C1.7521,6.9652 1.9971,6.7792 2.1481,6.6412 L2.1991,6.5892 L2.2781,6.5092 L2.2791,6.5082 L7.3801,11.5892 L8.0771,10.8922 L9.3581,9.6112 L4.3161,4.4402 L4.3231,4.4332 Z"}),(0,r.jsx)("path",{className:d,fill:f,
d:"M16.3738,9.7931 L16.6428,9.5371 L19.0598,11.9311 C19.0768,11.9461 19.0948,11.9521 19.1108,11.9521 C19.1568,11.9521 19.1948,11.9101 19.1948,11.9101 C19.1948,11.9101 21.8708,9.2551 21.8798,9.2461 C21.9588,9.1681 21.8798,9.1251 21.8798,9.1251 L19.8158,7.0471 L19.8128,7.0501 L19.5298,6.7731 L19.6878,6.6211 L20.0258,6.6601 L19.9618,6.2121 L20.0468,6.1261 L19.9198,5.4801 C19.4788,4.8551 18.2708,3.8541 18.2708,3.8541 L17.6388,3.7401 L17.5748,3.8251 L17.0988,3.7541 L17.1448,4.1601 L17.1748,4.1901 L17.0338,4.3321 L16.2538,3.5691 C16.2538,3.5691 11.7278,1.1111 11.4868,0.9971 C11.3508,0.9341 11.2508,0.8921 11.1548,0.8921 C11.0808,0.8921 11.0088,0.9171 10.9258,0.9761 C10.7338,1.1111 10.8468,1.3831 10.8468,1.3831 L13.6608,6.5831 L14.2238,7.1411 L14.0478,7.3171 L14.0478,7.3171 L13.9828,7.3821 L13.5328,7.3201 L13.6018,7.7661 L13.4718,7.8961 L13.4488,7.8731 C13.4278,7.8521 13.3988,7.8411 13.3708,7.8411 C13.3428,7.8411 13.3148,7.8521 13.2928,7.8731 C13.2498,7.9161 13.2498,7.9861 13.2928,8.0291 L13.3158,8.0521 L13.2538,8.1151 L13.2378,8.0981 C13.2158,8.0771 13.1878,8.0661 13.1598,8.0661 C13.1308,8.0661 13.1028,8.0771 13.0818,8.0981 C13.0388,8.1411 13.0388,8.2111 13.0818,8.2541 L13.0988,8.2711 L11.9148,9.4611 L11.8878,9.4341 C11.8658,9.4131 11.8378,9.4021 11.8098,9.4021 C11.7818,9.4021 11.7538,9.4131 11.7318,9.4341 C11.6888,9.4771 11.6888,9.5471 11.7318,9.5901 L11.7598,9.6171 L11.6968,9.6801 L11.6758,9.6601 C11.6548,9.6381 11.6258,9.6271 11.5988,9.6271 C11.5698,9.6271 11.5418,9.6381 11.5198,9.6601 C11.4778,9.7031 11.4778,9.7721 11.5198,9.8151 L11.5408,9.8361 L11.3868,9.9921 L11.3658,10.1901 L11.4468,10.2731 L11.4448,10.2741 L11.3468,10.3741 L4.9578,16.7621 L4.8748,16.6931 L4.6098,16.7311 L4.4598,16.8831 L4.4498,16.8731 C4.4278,16.8511 4.3998,16.8401 4.3718,16.8401 C4.3438,16.8401 4.3148,16.8511 4.2938,16.8731 C4.2508,16.9161 4.2508,16.9851 4.2938,17.0281 L4.3058,17.0401 L4.2438,17.1041 L4.2378,17.0981 C4.2168,17.0761 4.1878,17.0651 4.1598,17.0651 C4.1318,17.0651 4.1038,17.0761 4.0818,17.0981 C4.0398,17.1411 4.0398,17.2101 4.0818,17.2531 L4.0888,17.2611 L2.9198,18.4501 L2.8958,18.4261 C2.8738,18.4041 2.8468,18.3941 2.8178,18.3941 C2.7898,18.3941 2.7618,18.4041 2.7398,18.4261 C2.6968,18.4691 2.6968,18.5391 2.7398,18.5821 L2.7658,18.6071 L2.7038,18.6701 L2.6848,18.6511 C2.6628,18.6301 2.6348,18.6191 2.6058,18.6191 C2.5788,18.6191 2.5498,18.6301 2.5288,18.6511 C2.4858,18.6941 2.4858,18.7641 2.5288,18.8071 L2.5488,18.8281 L2.4618,18.9171 L2.0088,18.8361 L2.0428,19.3421 L1.8998,19.4881 L2.0238,20.1701 C2.0238,20.1701 2.2138,20.7641 2.6048,21.1581 C2.9838,21.5401 3.5618,21.7231 3.5868,21.7421 L4.2398,21.8561 L4.4008,21.6981 L4.8508,21.7711 L4.7768,21.3261 L4.9138,21.1921 L4.9768,21.2551 C4.9978,21.2761 5.0258,21.2871 5.0538,21.2871 C5.0818,21.2871 5.1108,21.2761 5.1318,21.2551 C5.1748,21.2111 5.1748,21.1421 5.1318,21.0991 L5.0698,21.0371 L5.1338,20.9751 L5.1878,21.0291 C5.2088,21.0511 5.2378,21.0621 5.2658,21.0621 C5.2938,21.0621 5.3218,21.0511 5.3438,21.0291 C5.3868,20.9861 5.3868,20.9171 5.3438,20.8741 L5.2908,20.8201 L6.4778,19.6491 L6.5298,19.7011 C6.5508,19.7231 6.5798,19.7331 6.6078,19.7331 C6.6358,19.7331 6.6638,19.7231 6.6858,19.7011 C6.7278,19.6581 6.7278,19.5881 6.6858,19.5451 L6.6348,19.4951 L6.6978,19.4321 L6.7418,19.4761 C6.7628,19.4971 6.7908,19.5081 6.8188,19.5081 C6.8478,19.5081 6.8758,19.4971 6.8968,19.4761 C6.9398,19.4331 6.9398,19.3631 6.8968,19.3201 L6.8538,19.2771 L6.9868,19.1471 L7.0348,18.8621 L6.9638,18.7911 L6.9648,18.7901 L7.0938,18.6621 L13.4398,12.3141 L13.4368,12.3081 L13.5608,12.4361 L13.7598,12.4141 L13.9388,12.2341 L13.9678,12.2631 C13.9898,12.2841 14.0178,12.2951 14.0458,12.2951 C14.0738,12.2951 14.1028,12.2841 14.1238,12.2631 C14.1668,12.2201 14.1668,12.1501 14.1238,12.1071 L14.0948,12.0781 L14.1578,12.0161 L14.1798,12.0381 C14.2008,12.0591 14.2288,12.0701 14.2578,12.0701 C14.2858,12.0701 14.3138,12.0591 14.3348,12.0381 C14.3778,11.9951 14.3778,11.9251 14.3348,11.8821 L14.3128,11.8591 L15.4988,10.6711 L15.5298,10.7021 C15.5508,10.7231 15.5788,10.7341 15.6068,10.7341 C15.6358,10.7341 15.6638,10.7231 15.6848,10.7021 C15.7278,10.6591 15.7278,10.5891 15.6848,10.5461 L15.6538,10.5151 L15.7168,10.4521 L15.7408,10.4771 C15.7628,10.4981 15.7908,10.5091 15.8188,10.5091 C15.8468,10.5091 15.8748,10.4981 15.8968,10.4771 C15.9398,10.4331 15.9398,10.3641 15.8968,10.3211 L15.8728,10.2961 L16.0048,10.1641 L16.4458,10.2331 L16.3738,9.7931 Z"
}),(0,r.jsx)("polygon",{className:d,fill:f,points:"17.255 16.968 14.442 14.836 13.941 14.32 12 16.261 12.488 16.727 14.321 19.476 16.793 22.183 19.642 19.525"})]})}))}},771966:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(785893),o=(n(667294),n(633878));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function u(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r]
;t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function l(e){var t=e.width,n=void 0===t?24:t,l=e.height,s=void 0===l?24:l,c=e.color,f=void 0===c?"currentColor":c,d=e.foreground,p=u(e,["width","height","color","foreground"]);return(0,r.jsx)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({},(0,o.Z)(p)),{width:n,height:s,viewBox:"0 0 24 24",children:(0,r.jsx)("path",{className:d,fill:f,
d:"M12 2C6.486 2 2 6.487 2 12C2 17.515 6.486 22 12 22C17.514 22 22 17.515 22 12C22 6.487 17.514 2 12 2ZM12 18.25C11.31 18.25 10.75 17.691 10.75 17C10.75 16.31 11.31 15.75 12 15.75C12.69 15.75 13.25 16.31 13.25 17C13.25 17.691 12.69 18.25 12 18.25ZM13 13.875V15H11V12H12C13.104 12 14 11.103 14 10C14 8.896 13.104 8 12 8C10.896 8 10 8.896 10 10H8C8 7.795 9.795 6 12 6C14.205 6 16 7.795 16 10C16 11.861 14.723 13.429 13 13.875Z"})}))}},715173:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(785893),o=(n(667294),n(633878));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n
}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function u(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function l(e){var t=e.width,n=void 0===t?24:t,l=e.height,s=void 0===l?24:l,c=e.color,f=void 0===c?"currentColor":c,d=e.foreground,p=u(e,["width","height","color","foreground"]);return(0,r.jsx)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])
}))}return e}({},(0,o.Z)(p)),{width:n,height:s,viewBox:"0 0 24 24",children:(0,r.jsx)("path",{className:d,fill:f,d:"M22 12L12.101 2.10101L10.686 3.51401L12.101 4.92901L7.15096 9.87801V9.88001L5.73596 8.46501L4.32196 9.88001L8.56496 14.122L2.90796 19.778L4.32196 21.192L9.97896 15.536L14.222 19.778L15.636 18.364L14.222 16.95L19.171 12H19.172L20.586 13.414L22 12Z"})}))}},795909:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(785893),o=(n(667294),n(633878));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){
Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function u(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function l(e){var t=e.width,n=void 0===t?18:t,l=e.height,s=void 0===l?18:l,c=e.color,f=void 0===c?"currentColor":c,d=e.foreground,p=u(e,["width","height","color","foreground"]);return(0,r.jsx)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({},(0,o.Z)(p)),{
width:n,height:s,viewBox:"0 0 18 18",children:(0,r.jsx)("polygon",{fillRule:"nonzero",className:d,fill:f,points:"15 10 10 10 10 15 8 15 8 10 3 10 3 8 8 8 8 3 10 3 10 8 15 8"})}))}},940547:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(785893),o=(n(667294),n(633878));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function u(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r]
;t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function l(e){var t=e.width,n=void 0===t?16:t,l=e.height,s=void 0===l?16:l,c=e.color,f=void 0===c?"currentColor":c,d=e.foreground,p=e.background,h=u(e,["width","height","color","foreground","background"]);return(0,r.jsx)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({},(0,o.Z)(h)),{width:n,height:s,viewBox:"0 0 24 24",children:(0,r.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,r.jsx)("path",{className:p,fill:f,fillRule:"nonzero",
d:"M22.031 12.665c-.923-.4338-1.9384-.665-2.9778-.665-.695 0-1.3663.1013-2 .29V11h-4V7h-2v4h-4v2h4v4h1.29c-.1887.6337-.29 1.305-.29 2 0 1.0394.2312 2.055.665 2.978-.2207.0146-.4424.022-.665.022-2.6522 0-5.1957-1.0536-7.071-2.929C3.1067 17.1958 2.053 14.6523 2.053 12c0-5.5228 4.4772-10 10-10 2.6522 0 5.1957 1.0536 7.071 2.929 1.8754 1.8753 2.929 4.4188 2.929 7.071 0 .2225-.0074.4443-.022.665zM15.4457 13c-.9793.59-1.8023 1.413-2.3924 2.3924V13h2.3924z"}),(0,r.jsx)("path",{className:d,fill:f,d:"M19.0532 14c1.326 0 2.598.5268 3.5355 1.4645.9377.9376 1.4645 2.2094 1.4645 3.5355 0 1.326-.5268 2.598-1.4645 3.5355C21.651 23.4732 20.3793 24 19.0532 24c-1.326 0-2.5978-.5268-3.5355-1.4645C14.58 21.598 14.0532 20.326 14.0532 19c0-2.7614 2.2386-5 5-5zm-1 7l3-2-3-2v4z"})]})}))}},413297:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(785893),o=(n(667294),n(633878));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){
t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function u(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function l(e){var t=e.width,n=void 0===t?24:t,l=e.height,s=void 0===l?24:l,c=e.color,f=void 0===c?"currentColor":c,d=e.foreground,p=u(e,["width","height","color","foreground"])
;return(0,r.jsxs)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({viewBox:"0 0 24 24"},(0,o.Z)(p)),{width:n,height:s,children:[(0,r.jsx)("path",{fill:f,className:d,d:"M9.09091 12C9.09091 13.5786 10.3935 14.8571 12 14.8571C13.6065 14.8571 14.9091 13.5786 14.9091 12C14.9091 10.4214 13.6065 9.14286 12 9.14286C10.3935 9.14286 9.09091 10.4214 9.09091 12ZM13.3402 12C13.3402 12.789 12.689 13.4286 11.8857 13.4286C11.0823 13.4286 10.4311 12.789 10.4311 12C10.4311 11.211 11.0823 10.5714 11.8857 10.5714C12.689 10.5714 13.3402 11.211 13.3402 12Z"}),(0,r.jsx)("path",{fill:f,className:d,
d:"M4 2C2.89543 2 2 2.89543 2 4V20C2 21.1046 2.89543 22 4 22H20C21.1046 22 22 21.1046 22 20V4C22 2.89543 21.1046 2 20 2H4ZM4 12C4 12 7.38036 7 12 7C16.6196 7 20 12 20 12C20 12 16.6196 17 12 17C7.38036 17 4 12 4 12Z"})]}))}},570662:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(785893),o=(n(667294),n(633878));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function u(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e)
;for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function l(e){var t=e.width,n=void 0===t?16:t,l=e.height,s=void 0===l?16:l,c=e.color,f=void 0===c?"currentColor":c,d=e.foreground,p=u(e,["width","height","color","foreground"]);return(0,r.jsx)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({},(0,o.Z)(p)),{width:n,height:s,viewBox:"0 0 24 24",children:(0,r.jsx)("g",{fill:"none",fillRule:"evenodd",children:(0,r.jsx)("path",{className:d,fill:f,fillRule:"nonzero",
d:"M15 1H9v2h6V1zm-4 13h2V8h-2v6zm8.03-6.61l1.42-1.42c-.43-.51-.9-.99-1.41-1.41l-1.42 1.42C16.07 4.74 14.12 4 12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9 9-4.03 9-9c0-2.12-.74-4.07-1.97-5.61zM12 20c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"})})}))}},34225:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),u=n(633878);function l(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function s(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function c(e,t){if(null==e)return{};var n,r,o=function(e,t){
if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function f(e){var t=e.width,n=void 0===t?8:t,o=e.height,i=void 0===o?13:o,a=e.color,f=void 0===a?"currentColor":a,d=e.foreground,p=c(e,["width","height","color","foreground"]);return(0,r.jsx)("svg",s(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){l(e,t,n[t])}))}return e}({},(0,u.Z)(p)),{width:n,height:i,viewBox:"0 0 8 13",children:(0,r.jsx)("path",{className:null!=d?d:void 0,stroke:f,fill:"transparent",
d:"M8.16639 0.5H9C10.933 0.5 12.5 2.067 12.5 4V9C12.5 10.933 10.933 12.5 9 12.5H8.16639C7.23921 12.5 6.34992 12.1321 5.69373 11.4771L0.707739 6.5L5.69373 1.52292C6.34992 0.86789 7.23921 0.5 8.16639 0.5Z"})}))}var d=n(473708),p=n(192834),h=n.n(p);function E(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}const y=o.forwardRef((function(e,t){var n,o=e.className,i=e.contentClassName,u=e.isUnread,l=e.children,s=e.id,c=e.role,p=e["aria-label"];return(0,r.jsxs)("div",{className:a()(o,(n={},E(n,h().divider,!0),E(n,h().isUnread,u),E(n,h().hasContent,null!=l),n)),ref:t,id:s,role:c,"aria-label":p,children:[null!=l?(0,r.jsx)("span",{className:a()(h().content,i),children:l}):null,u?(0,r.jsxs)("span",{className:h().unreadPill,children:[(0,r.jsx)(f,{foreground:h().unreadPillCapStroke,className:h().unreadPillCap}),d.Z.Messages.NEW]}):null]})}))},373438:(e,t,n)=>{"use strict";n.d(t,{JO:()=>g,iz:()=>v,ZP:()=>O})
;var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),u=n(108717),l=n(289283),s=n(945460),c=n(570814),f=n(249697),d=n(136317),p=n(211482),h=n(25327),E=n.n(h);function y(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var g=function(e){var t=e.className,n=e.iconClassName,o=e.children,i=e.selected,u=void 0!==i&&i,l=e.disabled,c=void 0!==l&&l,f=e.showBadge,d=void 0!==f&&f,h=e.color,g=e.foreground,v=e.background,b=e.icon,O=e.onClick,S=e.onContextMenu,_=e.tooltip,m=void 0===_?null:_,I=e.tooltipColor,C=e.tooltipPosition,T=void 0===C?"bottom":C,A=e.hideOnClick,N=void 0===A||A,P=e.role,R=e["aria-label"],L=e["aria-hidden"],w=e["aria-checked"],j=e["aria-expanded"],D=e["aria-haspopup"],M=(0,r.jsx)(b,{x:0,y:0,width:24,height:24,className:a()(n,E().icon),foreground:null!=g?g:void 0,background:null!=v?v:void 0,color:h}),Z=R;null==Z&&"string"==typeof m&&(Z=m);return(0,r.jsx)(s.Tooltip,{text:m,color:I,position:T,hideOnClick:N,
children:function(e){var i,l=e.onMouseEnter,f=e.onMouseLeave,_=e.onFocus,m=e.onBlur;return null==O?(0,r.jsx)("div",{className:a()(t,[E().iconWrapper]),children:(0,r.jsx)(b,{x:0,y:0,width:24,height:24,className:a()(n,E().icon),foreground:null!=g?g:void 0,background:null!=v?v:void 0,color:h,"aria-hidden":L,onMouseEnter:l,onMouseLeave:f,onFocus:_,onBlur:m})}):(0,r.jsxs)(s.Clickable,{tag:"div",onClick:c?void 0:O,onContextMenu:c?void 0:S,onMouseEnter:l,onMouseLeave:f,onFocus:_,onBlur:m,className:a()(t,(i={},y(i,E().iconWrapper,!0),y(i,E().clickable,!c&&null!=O),y(i,E().selected,u),i)),role:P,"aria-label":Z,"aria-hidden":L,"aria-checked":w,"aria-haspopup":D,"aria-expanded":j,tabIndex:c||null==O?-1:0,children:[d?(0,r.jsx)(p.ZP,{mask:p.ZP.Masks.HEADER_BAR_BADGE,children:M}):M,d?(0,r.jsx)("span",{className:E().iconBadge}):null,o]})}})},v=function(e){var t=e.className;return(0,r.jsx)("div",{className:a()(E().divider,t)})};var b=function(e){
var t,n=e.className,i=e.innerClassName,f=e.children,d=e.toolbar,p=e.onDoubleClick,h=e["aria-label"],g=e["aria-labelledby"],v=e.role,b=e.scrollable,O=e.transparent,S=void 0!==O&&O,_=o.useRef(null),m=o.useContext(c.Z);return(0,r.jsx)("section",{className:a()(n,E().container,(t={},y(t,E().themed,!S),y(t,E().transparent,S),y(t,E().themedMobile,l.tq),t)),"aria-label":h,"aria-labelledby":g,role:v,ref:_,children:(0,r.jsxs)(s.FocusRingScope,{containerRef:_,children:[(0,r.jsxs)("div",{className:a()(E().children,i,y({},E().scrollable,b)),onDoubleClick:p,children:[l.tq&&null!=m?(0,r.jsx)(u.Z,{onClick:m,className:E().hamburger}):null,f]}),null!=d?(0,r.jsx)("div",{className:E().toolbar,children:d}):null]})})};b.Icon=g;b.Title=function(e){var t=e.className,n=e.wrapperClassName,o=e.children,i=e.onContextMenu,u=e.onClick,l=e.id,c=e.muted,f=void 0!==c&&c,d=e.level,p=void 0===d?1:d,h=(0,r.jsx)(s.HeadingLevel,{forceLevel:p,children:(0,r.jsx)(s.Heading,{variant:"heading-md/semibold",
color:f?"header-secondary":void 0,className:a()(t,E().title),id:l,children:o})});return null!=u?(0,r.jsx)(s.Clickable,{onClick:u,onContextMenu:i,className:a()(n,E().titleWrapper),children:h}):(0,r.jsx)("div",{className:a()(n,E().titleWrapper),onContextMenu:i,children:h})};b.Divider=v;b.Caret=function(e){var t=e.direction;return"right"===(void 0===t?"right":t)?(0,r.jsx)(d.Z,{className:E().caret}):(0,r.jsx)(f.Z,{className:E().caret})};const O=b},372185:(e,t,n)=>{"use strict";n.d(t,{q0:()=>i.a,x0:()=>A,yd:()=>N,Zn:()=>P,Sq:()=>R,lv:()=>L,nR:()=>w,FZ:()=>j,c2:()=>D,iK:()=>M,NJ:()=>Z,eE:()=>U,R8:()=>x,Wg:()=>k,Hl:()=>F,iE:()=>G,xb:()=>B});var r=n(37163),o=n(441714),i=n.n(o),a=n(42128),u=n.n(a),l=n(649779),s=n.n(l),c=n(751050),f=n.n(c),d=n(313767),p=n.n(d),h=n(867217),E=n.n(h),y=n(808425),g=n.n(y),v=n(662800),b=n.n(v),O=n(113998),S=n.n(O),_=n(753318),m=n.n(_);function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e){
return function(e){if(Array.isArray(e))return I(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t,n,o){var i=o.getCurrentContent(),a=null;if(null!=e){var u;a=(i=(u=i).createEntity.apply(u,C(e))).getLastCreatedEntityKey()}var l=i.getFirstBlock(),s=new r.SelectionState({anchorKey:l.getKey(),anchorOffset:t,focusKey:l.getKey(),focusOffset:n});i=r.Modifier.applyEntity(i,s,a);return r.EditorState.set(o,{currentContent:i})}
function A(e,t,n,o){var i,a=t.getCurrentContent(),l=a.getFirstBlock(),s=l.getText();if("number"==typeof n){n>s.length&&(n=s.length);null!=o&&o>s.length&&(o=s.length);i=new r.SelectionState({anchorKey:l.getKey(),anchorOffset:n,focusKey:l.getKey(),focusOffset:null!=o&&0!==o?o:n})}else i=t.getSelection();var c,f=t.getCurrentInlineStyle(),d=u()(a,i);if(i.isCollapsed()){a=r.Modifier.insertText(a,i,e,f,d);c="insert-characters"}else{a=r.Modifier.replaceText(a,i,e,f,d);c="replace-characters"}return r.EditorState.push(t,a,c)}function N(e,t){switch(e){case"delete":return S()(t);case"delete-word":return p()(t);case"backspace":return b()(t);case"backspace-word":return f()(t);case"backspace-to-start-of-line":return s()(t);default:return t}}function P(e,t){switch(e){case"transpose-characters":return m()(t);case"move-selection-to-start-of-block":return g()(t);case"move-selection-to-end-of-block":return E()(t);default:return t}}function R(e){return e.getCurrentContent().getFirstBlock().getText()}
function L(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.getCurrentContent(),o=r.getFirstBlock(),i=o.getText(),a=[];o.findEntityRanges((function(e){return null!==e.getEntity()}),(function(e,t){var n=r.getEntity(o.getEntityAt(e)).getType(),u=i.substring(e,t);a.push({processed:!1,type:n,start:e,end:t,text:u})}));e.forEach((function(e){var r=!1;a.forEach((function(n){var o=e.type,i=e.start,a=e.end,u=e.getFullMatch();if(!n.processed)if(n.type===o&&n.start===i&&n.text===u){n.processed=!0;r=!0}else if(i>=n.start&&i<n.end||a>n.start&&a<=n.end){n.processed=!0;t=T(null,n.start,n.end,t)}}));if(!r){var o=n[e.type];t=T([e.type,null!=o&&o.mutable?"MUTABLE":"IMMUTABLE",{token:e}],e.start,e.end,t)}}));a.forEach((function(e){e.processed||(t=T(null,e.start,e.end,t))}));return t}function w(e){return r.EditorState.createEmpty(new r.CompositeDecorator(e))}function j(e){var t=r.EditorState.push(e,r.ContentState.createFromText("")),n=e.getSelection()
;null!=n&&n.hasFocus&&(t=r.EditorState.moveFocusToEnd(t));return t}function D(e,t){return A(e,t,0,R(t).length)}function M(e,t){var n=t.getSelection();n=(n=n.set("focusOffset",e)).set("anchorOffset",e);return r.EditorState.forceSelection(t,n)}function Z(e){return M(e.getCurrentContent().getFirstBlock().getText().length,e)}function U(e){return M(0,e)}function x(e){var t=e.getSelection();t=(t=t.set("focusOffset",0)).set("isBackward",!0);return r.EditorState.forceSelection(e,t)}function k(e){var t=R(e),n=e.getSelection();n=(n=n.set("focusOffset",t.length)).set("isBackward",!1);return r.EditorState.forceSelection(e,n)}function F(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:512,n=R(e);if(n.length>t){var o=e.getSelection();e=A("",e,t,n.length);o.getAnchorOffset()>t&&(o=o.set("anchorOffset",t));o.getFocusOffset()>t&&(o=o.set("focusOffset",t));e=r.EditorState.forceSelection(e,o)}return e}function G(e){var t=window.getSelection();if(null!=t&&"Caret"===t.type&&null!=e){
var n=t.getRangeAt(0);if(function(e,t){for(;null!=e;){if(e===t)return!0;e=e.parentNode}return!1}(n.commonAncestorContainer,e)){var r=n.getClientRects()[0],o=e.getClientRects()[0];if(null!=r&&null!=o){var i=r.left-o.left+e.scrollLeft;i<e.scrollLeft?e.scrollLeft=i-10:i>e.scrollLeft+e.offsetWidth&&(e.scrollLeft=i-e.offsetWidth+3)}}}}function B(e){return 0===R(e).length}}}]);
//# sourceMappingURL=4fa3d77b811c6fe02502.js.map