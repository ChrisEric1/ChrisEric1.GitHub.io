"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[83709,14022],{751826:(e,t,r)=>{r.r(t);r.d(t,{default:()=>l});var n,a=["bottom","height","left","right","top","width"],o=new Map,i=function e(){o.forEach((function(e){if(e.hasRectChanged){e.callbacks.forEach((function(t){return t(e.rect)}));e.hasRectChanged=!1}}));window.setTimeout((function(){o.forEach((function(e,t){var r=t.getBoundingClientRect();if(function(e,t){void 0===e&&(e={});void 0===t&&(t={});return a.some((function(r){return e[r]!==t[r]}))}(r,e.rect)){e.hasRectChanged=!0;e.rect=r}}))}),0);n=window.requestAnimationFrame(e)};const l=function(e,t){return{observe:function(){var r=0===o.size;o.has(e)?o.get(e).callbacks.push(t):o.set(e,{rect:void 0,hasRectChanged:!1,callbacks:[t]});r&&i()},unobserve:function(){var r=o.get(e);if(r){var a=r.callbacks.indexOf(t);a>=0&&r.callbacks.splice(a,1);r.callbacks.length||o.delete(e);o.size||cancelAnimationFrame(n)}}}}},314022:(e,t,r)=>{
Object.defineProperty(t,"__esModule",{value:!0});t.fetchUserAffinities=function(e){void 0===e&&(e=!0);if(o.default.needsRefresh()){a.default.dirtyDispatch({type:i.ActionTypes.LOAD_USER_AFFINITIES});return n.default.get({url:i.Endpoints.USER_AFFINITIES,retries:e?3:0,oldFormErrors:!0}).then((function(e){var t=e.body;a.default.dispatch({type:i.ActionTypes.LOAD_USER_AFFINITIES_SUCCESS,affinities:t})}),(function(){a.default.dispatch({type:i.ActionTypes.LOAD_USER_AFFINITIES_FAILURE})}))}return Promise.resolve()};var n=l(r(118915)),a=l(r(636602)),o=l(r(538983)),i=r(770348);function l(e){return e&&e.__esModule?e:{default:e}}},183132:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.awaitingPurchaseTokenAuthStep=S;t.default=function(e){var t=e.className,r=(0,o.usePaymentContext)(),n=r.steps,i=r.step,l=r.paymentError;(0,a.default)(i,"step should be set");(0,a.default)(n,"step should be set");return S({steps:n,currentStep:i,paymentError:l,className:t})};!function(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e;r&&r.set(e,n)}(r(667294));var n,a=d(r(441143)),o=r(378833),i=d(r(693316)),l=r(772575),u=r(645758),s=d(r(247001)),c=d(r(547656));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(f=function(e){return e?r:t})(e)}function p(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var m=p("br",{});function S(e){var t=e.steps,r=e.currentStep,n=e.paymentError,a=e.className;return p(i.default,{steps:t,currentStep:r,paymentError:n,body:p("div",{className:a},void 0,p("div",{className:c.default.awaitingWrapper},void 0,p(l.Heading,{variant:"heading-xl/medium",level:3},void 0,s.default.Messages.PAYMENT_WAITING_FOR_PURCHASE_TOKEN_AUTHORIZATION_MODAL_HEADER),p("p",{},void 0,p(u.Text,{variant:"text-md/normal"},void 0,s.default.Messages.PAYMENT_WAITING_FOR_PURCHASE_TOKEN_AUTHORIZATION_MODAL),m,p(u.Text,{variant:"text-md/normal"},void 0,s.default.Messages.PAYMENT_WAITING_FOR_PURCHASE_TOKEN_AUTHORIZATION_MODAL_INSTRUCTIONS)))),footer:null})}S.displayName="awaitingPurchaseTokenAuthStep"},562341:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=l(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e;r&&r.set(e,n)}(r(667294));var n,a=i(r(294184)),o=i(r(913225));function i(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(l=function(e){return e?r:t})(e)}function u(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:n,type:e,
key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var s=u("g",{fill:"none",fillRule:"evenodd"},void 0,u("path",{d:"M0 0h18v18H0"}),u("path",{stroke:"currentColor",d:"M4.5 4.5l9 9",strokeLinecap:"round"}),u("path",{stroke:"currentColor",d:"M13.5 4.5l-9 9",strokeLinecap:"round"})),c=function(e){var t,r=e.open,n=e.className;return u("svg",{width:"18",height:"18",className:(0,a.default)(o.default.button,n,(t={},t[o.default.open]=r,t))},void 0,s)};c.displayName="DropdownButton";var d=c;t.default=d},233169:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=(0,a.useRef)(e);(0,a.useEffect)((function(){t.current=e}),[e]);(0,a.useEffect)((function(){if(__OVERLAY__){var e=function(e){e.locked&&t.current()};o.default.subscribe(i.ActionTypes.OVERLAY_SET_INPUT_LOCKED,e);return function(){o.default.unsubscribe(i.ActionTypes.OVERLAY_SET_INPUT_LOCKED,e)}}}),[])};var n,a=r(667294),o=(n=r(636602))&&n.__esModule?n:{default:n},i=r(770348)},361673:(e,t,r)=>{
Object.defineProperty(t,"__esModule",{value:!0});t.Step=t.COLLAPSED_PAYMENT_BREADCRUMB_STEPS=void 0;t.errorToStep=function(e){if(null!=e){if(!(e instanceof a.BillingError)){d.error(e);throw new Error("Unexpected error type")}if(e.hasCardError())return c.CREDIT_CARD_INFORMATION;if(e.hasAddressError())return c.ADDRESS}return null};t.getLabelForStep=function(e){switch(e){case c.PLAN_SELECT:return l.default.Messages.BILLING_STEP_SELECT_PLAN;case c.PAYMENT_TYPE:return l.default.Messages.BILLING_STEP_PAYMENT;case c.AWAITING_PURCHASE_TOKEN_AUTH:case c.REVIEW:return l.default.Messages.BILLING_STEP_REVIEW;case c.SHOP:return l.default.Messages.BILLING_STEP_SHOP;case c.ADD_PAYMENT_STEPS:return l.default.Messages.BILLING_STEP_PAYMENT;case c.PAYMENT_REQUEST_INFORMATION:return l.default.Messages.BILLING_STEP_PAYMENT_INFO;case c.CREDIT_CARD_INFORMATION:return l.default.Messages.PAYMENT_SOURCE_INFORMATION;case c.ADDRESS:return l.default.Messages.BILLING_ADDRESS;case c.PAYPAL_INFORMATION:
return l.default.Messages.PAYMENT_SOURCE_PAYPAL_DETAILS;case c.SOFORT_INFORMATION:return l.default.Messages.PAYMENT_SOURCE_SOFORT_INFO;case c.PRZELEWY24_INFORMATION:return l.default.Messages.PAYMENT_SOURCE_PRZELEWY24_INFO}throw new Error("Unexpected step: "+e)};t.usePurchaseStateForStep=function(e,t,r){n.useEffect((function(){null!=e&&e!==c.REVIEW&&t!==i.PurchaseState.WAITING&&t!==i.PurchaseState.COMPLETED&&r(i.PurchaseState.WAITING)}),[e,t,r])};var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e;r&&r.set(e,n);return n}(r(667294)),a=r(327269),o=u(r(791548)),i=r(534564),l=u(r(247001));function u(e){
return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}var c,d=new o.default("PaymentSteps");t.Step=c;!function(e){e.PAYMENT_TYPE="payment_type";e.CREDIT_CARD_INFORMATION="credit_card_information";e.PAYPAL_INFORMATION="paypal_information";e.SOFORT_INFORMATION="sofort_information";e.PRZELEWY24_INFORMATION="przelewy24_information";e.PAYMENT_REQUEST_INFORMATION="payment_request_information";e.ADDRESS="address";e.AWAITING_AUTHENTICATION="awaiting_authentication";e.SKU_SELECT="sku_select";e.PLAN_SELECT="plan_select";e.PREMIUM_UPSELL="premium_upsell";e.PREMIUM_GUILD_UPSELL="premium_guild_upsell";e.REVIEW="review";e.CONFIRM="confirm";e.CLAIM_FREE_SKU="claim_free_sku";e.SKU_PREVIEW="sku_preview";e.LOADING_PAYMENT_SOURCES="loading_payment_sources";e.SHOP="shop";e.PROMOTION_INFO="promotion_info";e.AWAITING_PURCHASE_TOKEN_AUTH="awaiting_purchase_token_auth"
;e.ADD_PAYMENT_STEPS="add_payment_steps"}(c||(t.Step=c={}));var f=new Set([c.CREDIT_CARD_INFORMATION,c.PAYMENT_REQUEST_INFORMATION,c.PAYPAL_INFORMATION,c.ADDRESS,c.CLAIM_FREE_SKU,c.SKU_PREVIEW,c.PREMIUM_UPSELL,c.SOFORT_INFORMATION,c.PRZELEWY24_INFORMATION]);t.COLLAPSED_PAYMENT_BREADCRUMB_STEPS=f},534564:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});t.PurchaseState=void 0;var r;t.PurchaseState=r;!function(e){e.WAITING="WAITING";e.PURCHASING="PURCHASING";e.FAIL="FAIL";e.COMPLETED="COMPLETED"}(r||(t.PurchaseState=r={}))},929743:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=(0,r(373505).createExperiment)({kind:"user",id:"2022-04_payment_modal_refactor",label:"Payment Modal Refactor",defaultConfig:{newModal:!1},treatments:[{id:1,label:"Use refactored modal.",config:{newModal:!0}}]});t.default=n},476442:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.PremiumPaymentAddPaymentStep=function(e){
var t=e.analyticsData,r=e.initialPlanId,c=e.breadcrumbSteps,f=e.handleStepChange,p=(0,l.usePaymentContext)(),m=p.contextMetadata,S=p.step,y=p.paymentSources,v=p.paymentSourceId,P=p.setPaymentSourceId,E=p.purchaseError,I=p.setPurchaseError,_=p.purchaseErrorBlockRef,h=p.paymentAuthenticationState,T=d({},(0,o.useSharedPaymentModal)(),{paymentSources:y,paymentSourceId:v,setPaymentSourceId:P,purchaseError:E,setPurchaseError:I,purchaseErrorBlockRef:_,paymentAuthenticationState:h});(0,n.default)(S,"Step should be set here");var b=(0,a.useStableMemo)((function(){return Date.now()}),[S]);return(0,o.AddPaymentFlow)({paymentModalArgs:T,initialStep:u.Step.PAYMENT_TYPE,completionStep:u.Step.REVIEW,prependSteps:[u.Step.PROMOTION_INFO],appendSteps:[u.Step.REVIEW,u.Step.CONFIRM],breadcrumpSteps:c,currentBreadcrumpStep:S,usePaymentModalStep:!0,onReturn:function(){var e=Object.values(y).length<1&&null==r?u.Step.PLAN_SELECT:u.Step.REVIEW;f(e,u.Step.PAYMENT_TYPE)},onComplete:function(e){f(u.Step.REVIEW,e)
},onStepChange:function(e){var r=e.currentStep,n=e.toStep,a=Date.now();i.default.track(s.AnalyticEvents.PAYMENT_FLOW_STEP,d({},t,{from_step:r,to_step:n,step_duration_ms:a-b,flow_duration_ms:a-m.startTime}))}})};var n=c(r(441143)),a=r(143544),o=r(585190),i=c(r(308920)),l=r(378833),u=r(361673),s=r(770348);function c(e){return e&&e.__esModule?e:{default:e}}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};return d.apply(this,arguments)}},989837:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.OldPremiumPaymentModal=_e;t.PremiumPaymentModal=De;t.STEPS=void 0;t.default=Ue
;var n,a=fe(r(667294)),o=ce(r(441143)),i=r(143544),l=ce(r(468811)),u=r(536211),s=ce(r(636602)),c=r(832635),d=r(851792),f=r(856259),p=ce(r(363317)),m=r(412626),S=fe(r(183132)),y=ce(r(551081)),v=ce(r(954140)),P=ce(r(37039)),E=r(547855),I=r(421748),_=ce(r(233169)),h=fe(r(625936)),T=r(271014),b=r(897106),M=ce(r(693316)),O=r(585190),g=r(222607),A=ce(r(684062)),N=ce(r(936923)),C=r(296975),R=fe(r(532002)),L=ce(r(413409)),w=ce(r(633789)),k=ce(r(989445)),G=ce(r(728429)),D=ce(r(909584)),U=ce(r(146771)),F=ce(r(47969)),B=ce(r(530250)),H=ce(r(413542)),W=ce(r(80828)),x=r(354479),j=r(688388),Y=ce(r(447522)),K=r(3400),V=ce(r(308920)),X=r(838583),Z=r(298104),$=r(156849),J=r(378833),z=r(361673),Q=r(534564),q=ce(r(912861)),ee=fe(r(312852)),te=ce(r(929743)),re=r(476442),ne=ce(r(67776)),ae=r(770348),oe=r(265517),ie=r(478036),le=ce(r(247001)),ue=ce(r(968071)),se=ce(r(727202));function ce(e){return e&&e.__esModule?e:{default:e}}function de(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,r=new WeakMap;return(de=function(e){return e?r:t})(e)}function fe(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=de(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e;r&&r.set(e,n);return n}function pe(){pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};return pe.apply(this,arguments)}function me(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done);i=!0){
o.push(n.value);if(t&&o.length===t)break}}catch(e){l=!0;a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Se(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Se(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Se(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ye(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3]
;t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var ve=[z.Step.PLAN_SELECT,z.Step.ADD_PAYMENT_STEPS,z.Step.REVIEW,z.Step.CONFIRM];function Pe(e,t){return e in t}function Ee(e){var t=e.selectSku,r=e.onClose,n=e.priceOptions;return a.createElement(a.Fragment,null,ye(K.ModalHeader,{separator:!1},void 0,ye(j.FormTitle,{tag:j.FormTitleTags.H4},void 0,le.default.Messages.BILLING_STEP_SELECT_PLAN),ye(K.ModalCloseButton,{onClick:r})),ye(A.default,{onSelectSku:t,priceOptions:n}))}var Ie=ye(I.BlockedPaymentsContentModal,{});function _e(e){
var t,r=e.isGift,n=void 0!==r&&r,p=e.giftMessage,v=e.subscriptionTier,I=e.initialPlanId,A=e.followupSKUInfo,j=e.transitionState,Y=e.onClose,q=e.onComplete,ee=e.onSubscriptionConfirmation,te=e.analyticsObject,re=e.analyticsLocation,ne=e.analyticsSourceLocation,ce=e.analyticsSubscriptionType,de=void 0===ce?ae.SubscriptionTypes.PREMIUM:ce,fe=e.trialId,Se=e.trialFooterMessageOverride,_e=e.postSuccessGuild,he=e.renderHeader,Te=e.renderPurchaseConfirmation,be=e.planGroup,Me=void 0===be?oe.ORDERED_PREMIUM_SUBSCRIPTION_PLANS:be,Oe=e.reviewWarningMessage,ge=e.openInvoiceId,Ae=e.applicationId,Ne=(0,J.usePaymentContext)(),Ce=Ne.activeSubscription,Re=Ne.blockedPayments,Le=(0,u.useStateFromStores)([G.default],(function(){return G.default.getCurrentUser()})),we=(0,P.default)().analyticsLocations,ke=(0,u.useStateFromStores)([U.default],(function(){return U.default.hasFetchedSubscriptions()})),Ge=(0,u.useStateFromStores)([D.default],(function(){return D.default.isFetchingForPremiumSKUs()
})),De=ve,Ue=me(a.useState((function(){return null!=I?z.Step.REVIEW:null!=v?z.Step.PLAN_SELECT:z.Step.SKU_SELECT})),2),Fe=Ue[0],Be=Ue[1],He=me(a.useState((function(){var e,t=null!=I?null===(e=D.default.get(I))||void 0===e?void 0:e.skuId:null;return null!=t?t:v})),2),We=He[0],xe=He[1],je=me(a.useState(I),2),Ye=je[0],Ke=je[1],Ve=(0,u.useStateFromStores)([D.default],(function(){return null!=Ye?D.default.get(Ye):null})),Xe=(0,u.useStateFromStores)([F.default],(function(){return F.default.applicationIdsFetched.has(ae.PREMIUM_SUBSCRIPTION_APPLICATION)})),Ze=a.useMemo((function(){var e,t=null==Ve||Object.values(ae.PremiumSubscriptionSKUs).includes(null==Ve?void 0:Ve.skuId);if(t)e=Object.values(ae.PremiumSubscriptionSKUs);else{e=[Ve.skuId];null!=Ce&&(0,$.getSubscriptionSKUs)(Ce).forEach((function(t){e.includes(t)||e.push(t)}))}return{skuIDs:e,isPremiumSKU:t}}),[Ce,Ve]),$e=(0,
E.useSubscriptionPlansLoaded)(Ze.skuIDs),Je=me(a.useState(Q.PurchaseState.WAITING),2),ze=Je[0],Qe=Je[1],qe=me(a.useState(!1),2),et=qe[0],tt=qe[1],rt=me(a.useState(null),2),nt=rt[0],at=rt[1],ot=a.useRef(null),it=me((0,y.default)(!1,500),2),lt=it[0],ut=it[1];(0,C.useUnsupportedExternalSubscriptionModalHandler)(Ce,(function(){return Y(!1)}),n);var st=a.useRef(null!=Ce?Ce.planId:null);a.useEffect((function(){null==st.current&&null!=Ce&&(st.current=Ce.planId)}),[Ce]);var ct=me((0,i.useLazyValue)((function(){return[l.default.v4(),Date.now()]})),2),dt=ct[0],ft=ct[1],pt=null==fe||Ze.isPremiumSKU&&!ae.SubscriptionTrials[fe].skus.includes(We)?null:fe,mt={load_id:dt,payment_type:"subscription",location:null!=re?re:te,source:ne,subscription_type:de,subscription_plan_id:null==Ve?void 0:Ve.id,price:null==Ve?void 0:Ve.price,regular_price:null==Ve?void 0:Ve.price,currency:null==Ve?void 0:Ve.currency,is_gift:n,eligible_for_trial:null!=fe,application_id:Ae,location_stack:we};a.useEffect((function(){
ke||(0,c.fetchSubscriptions)()}),[ke]);a.useEffect((function(){Xe||(0,d.fetchUserEntitlementsForApplication)(ae.PREMIUM_SUBSCRIPTION_APPLICATION);Ze.isPremiumSKU&&s.default.wait((function(){return(0,f.fetchPremiumSubscriptionPlans)()}));V.default.track(ae.AnalyticEvents.PAYMENT_FLOW_STARTED,mt)}),[]);var St=(0,O.useSharedPaymentModal)(n||null==Ce?void 0:Ce.paymentSourceId),yt=St.paymentSourceId,vt=St.paymentSources,Pt=St.setPurchaseError,Et=St.paymentAuthenticationState,It=St.setPaymentSourceId,_t=St.paymentError,ht=St.purchaseError,Tt=St.purchaseErrorBlockRef,bt=St.purchaseTokenAuthState,Mt=(0,x.useUID)(),Ot=a.useRef(yt),gt=null!=vt&&null!=yt?null===(t=vt[yt])||void 0===t?void 0:t.country:null,At=a.useRef(gt);a.useEffect((function(){if(!(0,X.inPriceDeterminationExperiment)()){var e,t=null!=yt?null===(e=vt[yt])||void 0===e?void 0:e.country:"",r=At.current!==t&&Ot.current!==yt;Ze.isPremiumSKU&&(!$e&&!Ge||r)&&s.default.wait((function(){return(0,f.fetchPremiumSubscriptionPlans)(void 0,yt)
}));Ot.current=yt;At.current=t}}),[Xe,$e,yt,vt,Ge,Ze.isPremiumSKU]);var Nt=(0,i.useStableMemo)((function(){return Date.now()}),[Fe]),Ct=function(e,t){e===z.Step.CONFIRM&&(null==q||q());Be(e);Pt(null);var r=Date.now();V.default.track(ae.AnalyticEvents.PAYMENT_FLOW_STEP,pe({},mt,{from_step:null!=t?t:Fe,to_step:e===z.Step.ADD_PAYMENT_STEPS?z.Step.PAYMENT_TYPE:e,step_duration_ms:r-Nt,flow_duration_ms:r-ft}))};(0,T.usePaymentStepForAuthentication)(Fe,Et,Ct);(0,z.usePurchaseStateForStep)(Fe,ze,Qe);(0,b.usePurchaseTokenAuthStep)(Fe,bt,Ct);var Rt=function(){null==Y||Y(ze===Q.PurchaseState.COMPLETED)};(0,_.default)(Rt);var Lt,wt=me(a.useState(),2),kt=wt[0],Gt=wt[1],Dt=null!=Ve?Ve:D.default.get(ae.SubscriptionPlans.PREMIUM_MONTH_TIER_2),Ut=[];null!=Dt&&(Ut=(0,Z.getCurrencies)(Dt.id,yt,n));Lt=null!=Ce&&Ut.includes(Ce.currency)?Ce.currency:Ut.length>0?Ut[0]:ie.CurrencyCodes.USD;var Ft,Bt=(0,
Z.useCurrencyWithPaymentSourceChange)(Lt,null==Dt?void 0:Dt.id,yt,n,Ze.skuIDs),Ht=Bt.priceOptions,Wt=Bt.setCurrency,xt=Bt.currencyLoading,jt=(0,O.AddPaymentFlow)({paymentModalArgs:St,initialStep:z.Step.PAYMENT_TYPE,completionStep:z.Step.REVIEW,prependSteps:[z.Step.PLAN_SELECT],appendSteps:[z.Step.REVIEW,z.Step.CONFIRM],breadcrumpSteps:De,currentBreadcrumpStep:Fe,onReturn:function(){var e=Object.values(vt).length<1&&null==I?z.Step.PLAN_SELECT:z.Step.REVIEW;Ct(e,z.Step.PAYMENT_TYPE)},onComplete:function(e){Ct(z.Step.REVIEW,e)},onStepChange:function(e){var t=e.currentStep,r=e.toStep,n=Date.now();V.default.track(ae.AnalyticEvents.PAYMENT_FLOW_STEP,pe({},mt,{from_step:t,to_step:r,step_duration_ms:n-Nt,flow_duration_ms:n-ft}))}}),Yt=h.default.useExperiment({}).newPlans,Kt=null!=yt?vt[yt]:null,Vt=!n&&null!=We&&We===ae.PremiumSubscriptionSKUs.TIER_2&&null!=Le&&Le.hasHadPremium()&&ke&&null==Ce&&(0,h.isPaymentSourceEligibleForMultiMonthPlans)(Kt),Xt=a.useMemo((function(){
return null!=We&&Ze.isPremiumSKU?(0,X.getPremiumPlanOptions)(We,Vt?Yt:[],Ce):[]}),[Yt,We,Ce,Ze.isPremiumSKU,Vt]),Zt=null!=Ye&&ae.MULTI_MONTH_PLANS.has(Ye)&&null!=Kt&&!(0,h.isPaymentSourceEligibleForMultiMonthPlans)(Kt)?new Error(le.default.Messages.BILLING_ERROR_INVALID_PLAN_FOR_PAYMENT_SOURCE):null;if(Re)Ft=Ie;else if(ze===Q.PurchaseState.PURCHASING||ke&&$e&&!xt){null==yt&&null!=Ce&&null!=Ce.paymentSourceId&&It(Ce.paymentSourceId);switch(Fe){case z.Step.SKU_SELECT:Ft=ye(Ee,{selectSku:function(e){xe(e);Ct(z.Step.PLAN_SELECT)},onClose:Rt,priceOptions:Ht});break;case z.Step.PLAN_SELECT:(0,o.default)(null!=We,"Expected planId");Ft=ye(M.default,{steps:De,isGift:n,giftMessage:p,currentStep:Fe,paymentError:_t,body:ye(g.PremiumSwitchPlanSelectBody,{premiumSubscription:null!=Ce?Ce:null,skuId:We,selectedPlanId:Ye,setSelectedPlanId:Ke,isGift:n,selectedGiftStyle:kt,setSelectedGiftStyle:Gt,priceOptions:Ht,planOptions:Xt,eligibleForMultiMonthPlans:Vt}),footer:ye(K.ModalFooter,{
justify:B.default.Justify.BETWEEN,align:B.default.Align.CENTER},void 0,ye(g.PremiumSwitchPlanSelectFooter,{paymentSources:vt,onStepChange:Ct,selectedPlanId:Ye,isGift:n,onBackClick:function(){return Ct(z.Step.SKU_SELECT)},showBackButton:null==I&&null==v,planOptions:Xt}))});break;case z.Step.ADD_PAYMENT_STEPS:Ft=jt;break;case z.Step.AWAITING_PURCHASE_TOKEN_AUTH:Ft=(0,S.awaitingPurchaseTokenAuthStep)({steps:De,currentStep:Fe,paymentError:St.paymentError,className:se.default.body});break;case z.Step.AWAITING_AUTHENTICATION:Ft=ye(m.AwaitingAuthenticationStep,{steps:De,currentStep:Fe,paymentError:St.paymentError,className:ue.default.awaitingAuthenticationStep});break;case z.Step.REVIEW:(0,o.default)(null!=Ye,"Expected planId");Ft=ye(M.default,{steps:De,currentStep:Fe,paymentError:_t,purchaseError:ht,purchaseErrorBlockRef:Tt,planError:Zt,hideBreadcrumbs:!1,hasCurrencies:Ut.length>1,body:null==Ce||n?ye(L.default,{selectedPlanId:Ye,isGift:n,paymentSources:vt,onPaymentSourceChange:function(e){
return It(null!=e?e.id:null)},priceOptions:Ht,currencies:Ut,onCurrencyChange:function(e){return Wt(e)},handlePaymentSourceAdd:function(){return Ct(z.Step.ADD_PAYMENT_STEPS)},setHasAcceptedTerms:tt,legalTermsNodeRef:ot,hasLegalTermsFlash:lt,trialId:pt,trialFooterMessageOverride:Se,reviewWarningMessage:Oe}):ye(k.default,{premiumSubscription:Ce,paymentSources:vt,priceOptions:Ht,onPaymentSourceChange:function(e){It(null!=e?e.id:null)},onPaymentSourceAdd:function(){Ct(z.Step.ADD_PAYMENT_STEPS);It(null)},planId:Ye,setHasAcceptedTerms:tt,legalTermsNodeRef:ot,hasLegalTermsFlash:lt,onInvoiceError:function(e){return at(e)},planGroup:Me,currencies:Ut,onCurrencyChange:function(e){return Wt(e)},hasOpenInvoice:null!=ge}),footer:ye(w.default,{premiumSubscription:null!=Ce?Ce:null,planId:Ye,setHasAcceptedTerms:tt,hasAcceptedTerms:et,priceOptions:Ht,setPurchaseState:Qe,onBack:function(){return Ct(z.Step.PLAN_SELECT)},onNext:function(){return Ct(z.Step.CONFIRM)},onPurchaseError:function(e){return Pt(e)},
legalTermsNodeRef:ot,flashLegalTerms:function(){return ut(!0)},invoiceError:nt,planError:Zt,analyticsLocation:re,baseAnalyticsData:mt,flowStartTime:ft,isGift:n,giftStyle:kt,trialId:pt,planGroup:Me,purchaseTokenAuthState:bt,openInvoiceId:ge})});break;case z.Step.CONFIRM:(0,o.default)(null!=Ye,"Expected planId");(0,o.default)(null!=We,"Expected selectedSkuId");(0,o.default)(null!=Ve,"Expected subscriptionPlan");var $t,Jt=function(){Rt();null==ee||ee()};if(null!=Te)$t=Te(Ve,Jt);else if(n)$t=ye(R.PremiumSubscriptionGiftPurchaseConfirmation,{planId:Ye,selectedGiftStyle:kt,onClose:Jt});else if(st.current===Ye){var zt;$t=ye(R.default,{planId:Ye,postSuccessGuild:_e,onClose:Jt,paymentSourceType:null===(zt=vt[null!=yt?yt:""])||void 0===zt?void 0:zt.type})}else{var Qt;$t=ye(R.default,{followupSKUInfo:A,startingPremiumSubscriptionPlanId:st.current,planId:Ye,onClose:Jt,isDowngrade:null!=Ce&&(0,$.subscriptionCanDowngrade)(Ce,Ye,Me),
paymentSourceType:null===(Qt=vt[null!=yt?yt:""])||void 0===Qt?void 0:Qt.type})}Ft=ye(M.default,{steps:De,currentStep:Fe,body:$t,hideBreadcrumbs:!0});break;default:throw new Error("Unexpected step "+Fe)}}else Ft=ye(W.default,{className:ue.default.spinner});var qt=null==Ye||(0,X.isPremiumSubscriptionPlan)(Ye),er=null;if(Re)er=null;else if(null!=he){(0,o.default)(null!=Ve,"Expected subscriptionPlan");er=he(Ve,Rt,Fe)}else if(Fe!==z.Step.SKU_SELECT&&null!=We){(0,o.default)(Pe(We,ae.PremiumSubscriptionSKUToPremiumType),"invalid sku id: "+We);er=ye(N.default,{currentStep:Fe,purchaseState:ze,headerId:Mt,premiumType:ae.PremiumSubscriptionSKUToPremiumType[We],onClose:Rt})}return ye(H.default,{className:ue.default.shaker,isShaking:qt&&ze===Q.PurchaseState.PURCHASING,intensity:2},void 0,ye(K.ModalRoot,{className:ue.default.root,transitionState:j,"aria-labelledby":Mt},void 0,er,ye("div",{className:ue.default.contents},void 0,Ft)))}_e.displayName="OldPremiumPaymentModal";function he(e){
var t=e.analyticsLocation,r=e.analyticsObject,n=e.analyticsSourceLocation,l=e.analyticsSubscriptionType,u=void 0===l?ae.SubscriptionTypes.PREMIUM:l,s=e.onComplete,c=e.transitionState,d=e.initialPlanId,f=e.giftMessage,p=e.subscriptionTier,m=e.onClose,S=e.trialId,y=e.isGift,v=void 0!==y&&y,E=e.trialFooterMessageOverride,I=e.reviewWarningMessage,h=e.planGroup,M=void 0===h?oe.ORDERED_PREMIUM_SUBSCRIPTION_PLANS:h,O=e.openInvoiceId,g=e.onSubscriptionConfirmation,A=e.renderPurchaseConfirmation,R=e.postSuccessGuild,L=e.followupSKUInfo,w=e.renderHeader,k=(0,J.usePaymentContext)(),G=k.purchaseState,D=k.setPurchaseState,U=k.headerId,F=k.selectedSkuId,B=k.selectedPlan,W=k.setStep,x=k.setPurchaseError,j=k.paymentAuthenticationState,Y=k.step,Z=k.contextMetadata,$=k.purchaseTokenAuthState,q=k.activeSubscription,te=(0,P.default)().analyticsLocations,re=me(a.useState({load_id:Z.loadId,payment_type:"subscription",location:null!=t?t:r,source:n,subscription_type:u,is_gift:v,eligible_for_trial:null!=S,
location_stack:te}),2),ne=re[0],ie=re[1],le=a.useMemo((function(){return null==B||(0,X.isPremiumSubscriptionPlan)(B.id)}),[B]),se=me(a.useState(),2),ce=se[0],de=se[1],fe=(0,i.useStableMemo)((function(){return Date.now()}),[Y]),Se=function(e,t){e===z.Step.CONFIRM&&(null==s||s());W(e);x(null);var r=Date.now();V.default.track(ae.AnalyticEvents.PAYMENT_FLOW_STEP,pe({},ne,{from_step:null!=t?t:Y,to_step:e===z.Step.ADD_PAYMENT_STEPS?z.Step.PAYMENT_TYPE:e,step_duration_ms:r-fe,flow_duration_ms:r-Z.startTime}))},ve=a.useMemo((function(){return function(){return null==m?void 0:m(G===Q.PurchaseState.COMPLETED)}}),[m,G]);(0,T.usePaymentStepForAuthentication)(Y,j,Se);(0,z.usePurchaseStateForStep)(Y,G,D);(0,b.usePurchaseTokenAuthStep)(Y,$,Se);(0,_.default)(ve);(0,C.useUnsupportedExternalSubscriptionModalHandler)(q,(function(){return m(!1)}),v);var Ee=a.useRef(null!=q?q.planId:null);a.useEffect((function(){null==Ee.current&&null!=q&&(Ee.current=q.planId)}),[q]);var Ie={initialPlanId:d,isPremium:le,
giftMessage:f,selectedGiftStyle:ce,setSelectedGiftStyle:de,subscriptionTier:p,handleStepChange:Se,handleClose:ve,analyticsData:ne,setAnalyticsData:ie,trialId:S,trialFooterMessageOverride:E,reviewWarningMessage:I,planGroup:M,openInvoiceId:O,analyticsLocation:t,onSubscriptionConfirmation:g,renderPurchaseConfirmation:A,postSuccessGuild:R,followupSKUInfo:L,startingPremiumSubscriptionPlanIdRef:Ee},_e=a.useMemo((function(){var e=null;if(null!=w&&null!=B&&null!=Y)e=w(B,ve,Y);else if(Y!==z.Step.SKU_SELECT&&null!=F){(0,o.default)(Pe(F,ae.PremiumSubscriptionSKUToPremiumType),"invalid sku id: "+F);e=ye(N.default,{currentStep:null!=Y?Y:void 0,purchaseState:G,headerId:U,premiumType:ae.PremiumSubscriptionSKUToPremiumType[F],onClose:ve})}return e}),[ve,U,G,w,B,F,Y]);return ye(H.default,{className:ue.default.shaker,isShaking:le&&G===Q.PurchaseState.PURCHASING,intensity:2},void 0,ye(K.ModalRoot,{className:ue.default.root,transitionState:c,"aria-labelledby":U},void 0,a.createElement(ee.default,pe({
header:_e},Ie))))}he.displayName="NewPremiumPaymentModal";var Te=[{key:null,renderStep:function(e){return a.createElement(Me,e)}},{key:z.Step.SKU_SELECT,renderStep:function(e){return a.createElement(Oe,e)},options:{renderHeader:!1,hideSlider:!0}},{key:z.Step.PLAN_SELECT,renderStep:function(e){return a.createElement(Ce,e)},options:{renderHeader:!0,breadcrumb:function(){return le.default.Messages.BILLING_STEP_SELECT_PLAN}}},{key:z.Step.ADD_PAYMENT_STEPS,renderStep:function(e){return ye(ee.PaymentPortalBody,{},void 0,a.createElement(re.PremiumPaymentAddPaymentStep,pe({},e,{breadcrumbSteps:ve})))},options:{renderHeader:!0,breadcrumb:function(){return le.default.Messages.BILLING_STEP_PAYMENT}}},{key:z.Step.AWAITING_PURCHASE_TOKEN_AUTH,renderStep:function(){return ye(S.default,{className:se.default.body})}},{key:z.Step.AWAITING_AUTHENTICATION,renderStep:function(){return ye(m.AwaitingAuthenticationStep,{className:ue.default.awaitingAuthenticationStep})}},{key:z.Step.REVIEW,
renderStep:function(e){return a.createElement(we,e)},options:{renderHeader:!0,breadcrumb:function(){return le.default.Messages.BILLING_STEP_REVIEW}}},{key:z.Step.CONFIRM,renderStep:function(e){return a.createElement(Ge,e)}}];t.STEPS=Te;var be=ye(I.BlockedPaymentsContentModal,{});function Me(e){var t=e.subscriptionTier,r=e.initialPlanId,n=e.setAnalyticsData,o=(0,J.usePaymentContext)(),i=o.blockedPayments,l=o.setStep,s=o.hasFetchedSubscriptions,c=o.hasFetchedSubscriptionPlans,f=o.currencyLoading,p=o.selectedSkuId,m=o.setSelectedSkuId,S=o.selectedPlan,y=o.setSelectedPlanId,v=o.priceOptions,P=o.isGift,E=me(a.useState(!s||!c||f),2),I=E[0],_=E[1],h=(0,u.useStateFromStores)([F.default],(function(){return F.default.applicationIdsFetched.has(ae.PREMIUM_SUBSCRIPTION_APPLICATION)}));a.useEffect((function(){_(!s||!c||f)}),[f,c,s]);a.useEffect((function(){y(r);h||(0,d.fetchUserEntitlementsForApplication)(ae.PREMIUM_SUBSCRIPTION_APPLICATION);if(!I&&!i){n((function(e){var t=null!=S?(0,
X.getPrice)(S.id,!1,P,v):void 0,r=pe({},e,{subscription_plan_id:null==S?void 0:S.id,price:null==t?void 0:t.amount,regular_price:null==S?void 0:S.price,currency:v.currency});V.default.track(ae.AnalyticEvents.PAYMENT_FLOW_STARTED,r);return r}));if(null!=r){var e;m(null===(e=D.default.get(r))||void 0===e?void 0:e.skuId);l(z.Step.REVIEW)}else if(null!=t){m(t);l(z.Step.PLAN_SELECT)}else l(z.Step.SKU_SELECT)}}),[i,h,r,P,I,v,S,p,n,y,m,l,t]);return I?ye(W.default,{className:ue.default.loader}):i?be:null}function Oe(e){var t=e.handleStepChange,r=e.handleClose,n=(0,J.usePaymentContext)(),a=n.priceOptions,o=n.setSelectedSkuId;return ye(Ee,{selectSku:function(e){o(e);t(z.Step.PLAN_SELECT)},onClose:r,priceOptions:a})}Oe.displayName="PremiumPaymentSKUSelectStep";function ge(e){var t=e.giftMessage,r=void 0===t?le.default.Messages.PREMIUM_PAYMENT_IS_GIFT:t;return!1===(0,J.usePaymentContext)().isGift?null:ye(p.default,{className:ue.default.paymentNote,iconSize:p.default.Sizes.SMALL,icon:Y.default,
color:null==r?p.default.Colors.PRIMARY:p.default.Colors.SECONDARY},void 0,r)}ge.displayName="GiftNote";var Ae=ye(q.default,{}),Ne=ye(ne.default,{});function Ce(e){var t=e.giftMessage,r=e.selectedGiftStyle,n=e.setSelectedGiftStyle,i=e.handleStepChange,l=e.isPremium,s=e.initialPlanId,c=e.subscriptionTier,d=(0,J.usePaymentContext)(),f=d.activeSubscription,p=d.hasFetchedSubscriptions,m=d.isGift,S=d.paymentSourceId,y=d.paymentSources,v=d.selectedSkuId,P=d.step,E=null!=S?y[S]:null,I=h.default.useExperiment({}).newPlans,_=(0,u.useStateFromStores)([G.default],(function(){return G.default.getCurrentUser()})),T=!m&&null!=v&&v===ae.PremiumSubscriptionSKUs.TIER_2&&null!=_&&_.hasHadPremium()&&p&&null==f&&(0,h.isPaymentSourceEligibleForMultiMonthPlans)(E),b=a.useMemo((function(){return null!=v&&l?(0,X.getPremiumPlanOptions)(v,T?I:[],f):[]}),[v,l,I,f,T]),M=null==s&&null==c;(0,o.default)(null!=P,"Step should be set");return a.createElement(a.Fragment,null,ye(ge,{giftMessage:t
}),Ae,ye(ee.PaymentPortalBody,{},void 0,Ne,ye(g.PremiumSwitchPlanSelectBody,{isGift:m,selectedGiftStyle:r,setSelectedGiftStyle:n,planOptions:b,eligibleForMultiMonthPlans:T})),ye(ee.PaymentPortalFooter,{},void 0,ye(K.ModalFooter,{justify:B.default.Justify.BETWEEN,align:B.default.Align.CENTER},void 0,ye(g.PremiumSwitchPlanSelectFooter,{onStepChange:i,isGift:m,onBackClick:function(){return i(z.Step.SKU_SELECT)},showBackButton:M,planOptions:b}))))}var Re=ye(q.default,{}),Le=ye(ne.default,{});function we(e){var t=e.handleStepChange,r=e.trialId,n=e.trialFooterMessageOverride,i=e.reviewWarningMessage,l=e.planGroup,u=e.openInvoiceId,s=e.analyticsData,c=e.selectedGiftStyle,d=e.analyticsLocation,f=e.isPremium,p=e.giftMessage,m=(0,
J.usePaymentContext)(),S=m.activeSubscription,v=m.contextMetadata,P=m.currencies,E=m.isGift,I=m.paymentSourceId,_=m.paymentSources,T=m.priceOptions,b=m.purchaseError,M=m.purchaseTokenAuthState,O=m.selectedPlan,g=m.selectedSkuId,A=m.setCurrency,N=m.setPaymentSourceId,C=m.setPurchaseState,R=m.setPurchaseError,G=m.step;(0,o.default)(null!=O,"Expected plan to be selected");(0,o.default)(null!=G,"Step should be set");var D=a.useRef(null),U=me((0,y.default)(!1,500),2),F=U[0],B=U[1],H=me(a.useState(!1),2),W=H[0],x=H[1],j=null==r||f&&!ae.SubscriptionTrials[r].skus.includes(g)?null:r;a.useEffect((function(){null!=b&&null!=D.current&&D.current.scrollIntoView({behavior:"smooth"})}),[b]);var Y=null!=I?_[I]:null,K=null!=O&&ae.MULTI_MONTH_PLANS.has(O.id)&&null!=Y&&!(0,h.isPaymentSourceEligibleForMultiMonthPlans)(Y)?new Error(le.default.Messages.BILLING_ERROR_INVALID_PLAN_FOR_PAYMENT_SOURCE):null,V=a.useRef(null),X=me(a.useState(null),2),Z=X[0],$=X[1];return a.createElement(a.Fragment,null,ye(ge,{
giftMessage:p}),Re,ye(ee.PaymentPortalBody,{},void 0,Le,null==S||E?ye(L.default,{selectedPlanId:O.id,isGift:E,paymentSources:_,onPaymentSourceChange:function(e){return N(null!=e?e.id:null)},priceOptions:T,currencies:P,onCurrencyChange:function(e){return A(e)},handlePaymentSourceAdd:function(){return t(z.Step.ADD_PAYMENT_STEPS)},setHasAcceptedTerms:x,legalTermsNodeRef:V,hasLegalTermsFlash:F,trialId:j,trialFooterMessageOverride:n,reviewWarningMessage:i}):ye(k.default,{premiumSubscription:S,paymentSources:_,priceOptions:T,onPaymentSourceChange:function(e){N(null!=e?e.id:null)},onPaymentSourceAdd:function(){t(z.Step.ADD_PAYMENT_STEPS);N(null)},planId:O.id,setHasAcceptedTerms:x,legalTermsNodeRef:V,hasLegalTermsFlash:F,onInvoiceError:function(e){return $(e)},planGroup:l,currencies:P,onCurrencyChange:function(e){return A(e)},hasOpenInvoice:null!=u})),ye(ee.PaymentPortalFooter,{},void 0,ye(w.default,{premiumSubscription:null!=S?S:null,planId:O.id,setHasAcceptedTerms:x,hasAcceptedTerms:W,
priceOptions:T,setPurchaseState:C,onBack:function(){return t(z.Step.PLAN_SELECT)},onNext:function(){return t(z.Step.CONFIRM)},onPurchaseError:function(e){return R(e)},legalTermsNodeRef:V,flashLegalTerms:function(){return B(!0)},invoiceError:Z,planError:K,analyticsLocation:d,baseAnalyticsData:s,flowStartTime:v.startTime,isGift:E,giftStyle:c,trialId:j,planGroup:l,purchaseTokenAuthState:M,openInvoiceId:u})))}var ke=ye(ne.default,{});function Ge(e){var t,r=e.handleClose,n=e.planGroup,i=e.selectedGiftStyle,l=e.onSubscriptionConfirmation,u=e.renderPurchaseConfirmation,s=e.startingPremiumSubscriptionPlanIdRef,c=e.postSuccessGuild,d=e.followupSKUInfo,f=(0,J.usePaymentContext)(),p=f.activeSubscription,m=f.isGift,S=f.paymentSources,y=f.paymentSourceId,v=f.selectedPlan,P=f.selectedSkuId,E=f.step;(0,o.default)(null!=v,"Expected plan to selected");(0,o.default)(null!=P,"Expected selectedSkuId");(0,o.default)(null!=E,"Step should be set");var I=function(){r();null==l||l()}
;if(null!=u)t=u(v,I);else if(m)t=ye(R.PremiumSubscriptionGiftPurchaseConfirmation,{planId:v.id,selectedGiftStyle:i,onClose:I});else if(s.current===v.id){var _;t=ye(R.default,{planId:v.id,postSuccessGuild:c,onClose:I,paymentSourceType:null===(_=S[null!=y?y:""])||void 0===_?void 0:_.type})}else{var h;t=ye(R.default,{followupSKUInfo:d,startingPremiumSubscriptionPlanId:s.current,planId:v.id,onClose:I,isDowngrade:null!=p&&(0,$.subscriptionCanDowngrade)(p,v.id,n),paymentSourceType:null===(h=S[null!=y?y:""])||void 0===h?void 0:h.type})}return a.createElement(a.Fragment,null,ye(ee.PaymentPortalBody,{},void 0,ke,t))}function De(e){return te.default.useExperiment({}).newModal?he(e):_e(e)}function Ue(e){var t=(0,u.useStateFromStores)([U.default],(function(){return U.default.getPremiumTypeSubscription()})),r=(0,P.default)(e.analyticsLocations,v.default.PREMIUM_PAYMENT_MODAL).AnalyticsLocationProvider,n=e.subscriptionTier,o=e.isGift
;if(null!=n&&!Object.values(ae.PremiumSubscriptionSKUs).includes(n))throw new Error("subscriptionTier must be a premium subscription");return ye(r,{},void 0,ye(J.PaymentContextProvider,{activeSubscription:t,stepConfigs:Te,skuIDs:oe.ACTIVE_PREMIUM_SKUS,isGift:o},void 0,a.createElement(De,e)))}Ue.displayName="PremiumPaymentModalConnected"},67776:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=v;var n,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=S(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e;r&&r.set(e,n);return n}(r(667294)),o=r(327269),i=r(400922),l=r(815992),u=m(r(682473)),s=r(378833),c=r(361673),d=r(770348),f=m(r(247001)),p=m(r(476024))
;function m(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(S=function(e){return e?r:t})(e)}function y(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function v(e){var t=e.planError,r=e.purchaseErrorBlockRef,n=(0,s.usePaymentContext)(),m=n.currencies,S=n.paymentError,v=n.purchaseError,P=null;null!=S&&null==(0,c.errorToStep)(S)?P=S:null!=v?P=v:null!=t&&(P=t);var E=m.length>1,I=l.MultiCurrencyExperiment.getCurrentConfig({}).enabled,_=null!=P?P.message:"";if(null!=P&&P instanceof o.BillingError){
P.code===i.ErrorCodes.CARD_DECLINED&&E&&I&&(_+=" "+f.default.Messages.BILLING_ERROR_TRY_ANOTHER);P.code===i.ErrorCodes.INVALID_GIFT_REDEMPTION_SMITE_REJECTED&&(_=f.default.Messages.GIFT_CODE_SMITE_REJECT_HELP_TEXT);P.code===d.AbortCodes.BILLING_NON_REFUNDABLE_PAYMENT_SOURCE&&(_=f.default.Messages.GIFT_CODE_PAYMENT_SOURCE_INVALID)}return null==P?null:y("div",{className:p.default.errorBlockWrapper},void 0,a.createElement(u.default,{ref:r},_))}v.displayName="PremiumPaymentModalError"},625936:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=t.ELIGIBLE_MUTLI_MONTH_PLAN_PAYMENT_SOURCE_COUNTRIES=void 0;t.isPaymentSourceEligibleForMultiMonthPlans=function(e){return null==e||l.has(e.country)};var n=r(793786),a=r(373505),o=r(770348),i=(0,a.createExperiment)({kind:"user",id:"2022-02_multi_month_plans",label:"Multi Month Plans",defaultConfig:{newPlans:[]},treatments:[{id:1,label:"3 and 6 Month Plans",config:{
newPlans:[o.SubscriptionPlans.PREMIUM_6_MONTH_TIER_2,o.SubscriptionPlans.PREMIUM_3_MONTH_TIER_2]}},{id:2,label:"3 Month Plan Only",config:{newPlans:[o.SubscriptionPlans.PREMIUM_3_MONTH_TIER_2]}}]});t.default=i;var l=new Set([n.CountryCodes.US,n.CountryCodes.CA]);t.ELIGIBLE_MUTLI_MONTH_PLAN_PAYMENT_SOURCE_COUNTRIES=l},897106:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.usePurchaseTokenAuthStep=function(e,t,r){n.useEffect((function(){null!=e&&e!==a.Step.AWAITING_PURCHASE_TOKEN_AUTH&&t===o.PurchaseTokenAuthState.PENDING?r(a.Step.AWAITING_PURCHASE_TOKEN_AUTH):e===a.Step.AWAITING_PURCHASE_TOKEN_AUTH&&t===o.PurchaseTokenAuthState.SUCCESS&&r(a.Step.REVIEW)}),[e,t,r])};var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var l=a?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(n,o,l):n[o]=e[o]}n.default=e;r&&r.set(e,n);return n}(r(667294)),a=r(361673),o=r(160660);function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}},504725:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e;r&&r.set(e,n)}(r(667294));var n,a=l(r(151097)),o=l(r(247001)),i=l(r(241387));function l(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}function s(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var c=function(e){var t=e.onClick;return s(a.default,{onClick:t,className:i.default.link},void 0,o.default.Messages.BACK)};c.displayName="PaymentModalBackButton";var d=c;t.default=d},222607:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.PremiumSwitchPlanSelectBody=x;t.PremiumSwitchPlanSelectFooter=function(e){var t,r,n=e.onStepChange,o=e.selectedPlanId,i=e.isGift,l=e.paymentSources,s=e.onBackClick,c=e.showBackButton,d=e.planOptions,p=(0,
u.usePaymentContext)(),m=p.paymentSources,S=p.selectedPlan;l=null!==(t=l)&&void 0!==t?t:m;var y=null!=(o=null!==(r=o)&&void 0!==r?r:null==S?void 0:S.id)&&d.includes(o);return a.createElement(a.Fragment,null,y&&null!=o?D(j,{paymentSources:l,onStepChange:n,selectedPlanId:o,isGift:i}):D(f.default,{disabled:!0},void 0,R.default.Messages.SELECT),c?D(f.default,{color:f.default.Colors.WHITE,look:f.default.Looks.LINK,size:f.default.Sizes.MIN,onClick:s},void 0,R.default.Messages.BACK):null)};var n,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=k(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e;r&&r.set(e,n);return n
}(r(667294)),o=w(r(441143)),i=r(536211),l=w(r(729504)),u=r(378833),s=r(361673),c=w(r(909584)),d=w(r(146771)),f=w(r(956117)),p=w(r(16941)),m=r(772575),S=r(26172),y=w(r(730977)),v=w(r(700113)),P=w(r(550270)),E=r(838583),I=w(r(625936)),_=r(761144),h=r(972832),T=r(152960),b=r(833571),M=w(r(894763)),O=r(296975),g=w(r(36235)),A=w(r(819660)),N=r(265517),C=r(770348),R=w(r(247001)),L=w(r(710431));function w(e){return e&&e.__esModule?e:{default:e}}function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(k=function(e){return e?r:t})(e)}function G(){G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};return G.apply(this,arguments)}function D(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done);i=!0){o.push(n.value);if(t&&o.length===t)break}}catch(e){l=!0;a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return F(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return F(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var B=[C.PremiumSubscriptionSKUs.LEGACY,C.PremiumSubscriptionSKUs.TIER_1,C.PremiumSubscriptionSKUs.TIER_2];function H(e,t){var r,n,a=(r=e.skuId,n=t,B.indexOf(n)-B.indexOf(r));return a>0?R.default.Messages.BILLING_SWITCH_PLAN_UPGRADE_BODY_TIER_2:a<0?R.default.Messages.BILLING_SWITCH_PLAN_DOWNGRADE_BODY_TIER_1:e.interval===C.SubscriptionIntervalTypes.MONTH?t===C.PremiumSubscriptionSKUs.TIER_2?R.default.Messages.BILLING_SWITCH_PLAN_UPGRADE_BODY_TIER_2_YEAR.format({numFreeGuildSubscriptions:N.NUM_FREE_GUILD_BOOSTS_WITH_PREMIUM}):R.default.Messages.BILLING_SWITCH_PLAN_UPGRADE_BODY_TIER_1_YEAR:R.default.Messages.BILLING_SWITCH_PLAN_DOWNGRADE_BODY_MONTH}function W(e){
var t,r=e.isSelected,n=e.giftStyle,o=e.setSelectedGiftStyle,i=U(a.useState(!1),2),l=i[0],u=i[1];switch(n){case _.PremiumGiftStyles.SNOWGLOBE:t=R.default.Messages.SEASONAL_GIFTING_OPTION_SNOWGLOBE;break;case _.PremiumGiftStyles.BOX:t=R.default.Messages.SEASONAL_GIFTING_OPTION_BOX;break;case _.PremiumGiftStyles.CUP:t=R.default.Messages.SEASONAL_GIFTING_OPTION_CUP;break;default:t=R.default.Messages.SEASONAL_GIFTING_CUSTOMIZE_YOUR_GIFT_BOX}var s=(0,S.useRadioItem)({isSelected:r,label:t});return a.createElement(p.default,G({className:L.default.clickable,onClick:function(){return o(n)}},s,{onMouseEnter:function(){return u(!0)},onMouseLeave:function(){return u(!1)}}),D(A.default,{giftStyle:n,className:r?L.default.seasonalGiftBoxHighlighted:L.default.seasonalGiftBox,shouldAnimate:l||r}))}W.displayName="GiftBoxSelectOption";function x(e){
var t,r,n=e.premiumSubscription,s=e.skuId,d=e.selectedPlanId,f=e.setSelectedPlanId,O=e.isGift,A=void 0!==O&&O,N=e.isSeasonalGift,w=void 0!==N&&N,k=e.selectedGiftStyle,F=e.setSelectedGiftStyle,B=e.priceOptions,x=e.planOptions,j=e.eligibleForMultiMonthPlans,Y=(0,u.usePaymentContext)(),K=Y.activeSubscription,V=Y.setSelectedPlanId,X=Y.selectedSkuId,Z=Y.selectedPlan,$=Y.priceOptions;s=null!==(t=s)&&void 0!==t?t:X;n=null!==(r=n)&&void 0!==r?r:K;(0,o.default)(void 0!==n,"should not be undefined");var J=U((0,i.useStateFromStoresArray)([c.default],(function(){return[null!=n?c.default.get(n.planId):null,null!=d?c.default.get(d):null]})),2),z=J[0],Q=J[1],q=(0,T.usePremiumTrialOffer)(),ee=null!=Q?Q:Z,te=a.useCallback((function(e){null!=f?f(e):V(e)}),[f,V]),re=null!=B?B:$;(0,o.default)(null!=re,"Price option has to be set");var ne=null!=q&&C.SubscriptionTrials[q.trial_id].skus.includes(s);a.useEffect((function(){j&&I.default.trackExposure({})}),[j])
;var ae=null!=(null==ee?void 0:ee.id)&&x.includes(ee.id);a.useEffect((function(){if(!ae)if(null==z||A)te(x[0]);else if(null!=z){var e=x.find((function(e){return e!==z.id}));null!=e&&te(e)}}),[ae,A,x,z,te]);var oe=(A||!ne)&&ae,ie=(0,S.useRadioGroup)(),le=(0,h.useLocalizedPricing)(),ue=null!=(null==ee?void 0:ee.id)?(0,E.getPrice)(ee.id,!1,A,re):void 0,se=(0,S.useRadioGroup)({orientation:"horizontal"}),ce=(0,E.isPrepaidPaymentSource)(re.paymentSourceId);return D("div",{className:L.default.stepBody},void 0,w?D("div",{},void 0,D("div",{className:L.default.seasonalGiftBoxHeaderContainer},void 0,D(m.Heading,{variant:"heading-sm/medium",className:L.default.seasonalGiftBoxHeaderText,level:3},void 0,R.default.Messages.SEASONAL_GIFTING_CUSTOMIZE_YOUR_GIFT_BOX),D(y.default,{text:R.default.Messages.SEASONAL_GIFTING_INFO_TOOLTIP,position:y.default.Positions.TOP},void 0,(function(e){return a.createElement(p.default,G({},e,{className:L.default.infoIconContainer,
"aria-label":R.default.Messages.SEASONAL_GIFTING_INFO_TOOLTIP}),D(v.default,{className:L.default.infoIcon}))}))),a.createElement("div",G({className:L.default.seasonalGiftBoxOptionContainer,"aria-label":R.default.Messages.SEASONAL_GIFTING_CUSTOMIZE_YOUR_GIFT_BOX},se),D(W,{isSelected:k===_.PremiumGiftStyles.BOX,giftStyle:_.PremiumGiftStyles.BOX,setSelectedGiftStyle:F}),D(W,{isSelected:k===_.PremiumGiftStyles.SNOWGLOBE,giftStyle:_.PremiumGiftStyles.SNOWGLOBE,setSelectedGiftStyle:F}),D(W,{isSelected:k===_.PremiumGiftStyles.CUP,giftStyle:_.PremiumGiftStyles.CUP,setSelectedGiftStyle:F})),D("div",{className:L.default.selectPlanDivider})):null,null==z||A?null:D("div",{className:L.default.bodyText},void 0,H(z,s)),D("div",{className:L.default.selectPlanChooseTitle},void 0,R.default.Messages.BILLING_SWITCH_PLAN_CHOOSE_ONE),ne&&!A?D("div",{className:L.default.selectPlanChooseSubtitle
},void 0,R.default.Messages.BILLING_SWITCH_PLAN_CHOOSE_ONE_TRIAL_SUBTITLE.format()):null,a.createElement("div",ie,x.map((function(e){var t;return D(g.default,{planId:e,isGift:A,premiumSubscription:A?null:null!==(t=n)&&void 0!==t?t:null,selectPlan:te,selected:(null==ee?void 0:ee.id)===e,priceOptions:re},e)}))),D("div",{},void 0,oe&&null!=ee&&null!=ue?D("div",{},void 0,D("div",{className:L.default.selectPlanDivider}),D(b.PremiumInvoiceTableTotalRow,{label:R.default.Messages.BILLING_PAYMENT_BREAKDOWN_TOTAL,value:D(M.default,{price:ue.amount,currency:ue.currency,intervalType:A?null:ee.interval,intervalCount:ee.intervalCount,isPrepaidPaymentSource:ce}),className:L.default.selectPlanTotalRow})):null),le&&!A&&D(l.default,{message:R.default.Messages.BILLING_FINAL_PRICE_MAY_CHANGE.format({documentationLink:P.default.getArticleURL(C.HelpdeskArticles.LOCALIZED_PRICING)})}))}x.displayName="PremiumSwitchPlanSelectBody";function j(e){
var t=e.onStepChange,r=e.selectedPlanId,n=e.isGift,a=e.paymentSources,o=(0,i.useStateFromStores)([d.default],(function(){return d.default.getPremiumTypeSubscription()})),l=(0,O.useSubscriptionEntitlements)(r,n).hasEntitlements;return D(f.default,{onClick:function(){null!=o&&null!=o.paymentSourceId||Object.keys(a).length>0||l?t(s.Step.REVIEW):t(s.Step.ADD_PAYMENT_STEPS)}},void 0,R.default.Messages.SELECT)}j.displayName="PlanSelectFooterButton"},684062:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=E(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e;r&&r.set(e,n)}(r(667294))
;var n,a=P(r(294184)),o=P(r(441143)),i=P(r(909584)),l=P(r(16941)),u=P(r(394726)),s=P(r(259643)),c=P(r(600624)),d=r(582945),f=r(838583),p=P(r(894763)),m=r(265517),S=r(770348),y=P(r(247001)),v=P(r(904729));function P(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(E=function(e){return e?r:t})(e)}function I(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function _(e,t){return null!=t.paymentSourceId?(0,f.getPrice)(e.id,!1,!1,t):(0,f.getDefaultPrice)(e.id)}function h(e){
var t=e.onClick,r=e.priceOptions,n=i.default.getForSkuAndInterval(S.PremiumSubscriptionSKUs.TIER_2,S.SubscriptionIntervalTypes.MONTH),s=i.default.getForSkuAndInterval(S.PremiumSubscriptionSKUs.TIER_2,S.SubscriptionIntervalTypes.YEAR);(0,o.default)(null!=n&&null!=s,"monthlyPlan and yearlyPlan must be preloaded");var c=_(n,r),d=_(s,r);return I(l.default,{onClick:t,className:(0,a.default)(v.default.button,v.default.tier2),focusProps:{offset:8}},void 0,I("div",{className:v.default.tier2Image}),I("div",{className:v.default.description},void 0,I(u.default,{className:(0,a.default)(v.default.tierTitle)}),I("div",{className:v.default.text},void 0,y.default.Messages.BILLING_SWITCH_PLAN_TIER_2_DESCRIPTION.format({numFreeGuildSubscriptions:m.NUM_FREE_GUILD_BOOSTS_WITH_PREMIUM}))),I("div",{className:v.default.priceWrapper},void 0,I(p.default,{price:c.amount,currency:c.currency,intervalType:n.interval,className:v.default.price}),I(p.default,{price:d.amount,currency:d.currency,
intervalType:s.interval,className:v.default.price})))}h.displayName="PremiumTier2Button";var T=I("div",{},void 0,I(s.default,{}));function b(e){var t=e.onClick,r=e.priceOptions,n=i.default.getForSkuAndInterval(S.PremiumSubscriptionSKUs.TIER_1,S.SubscriptionIntervalTypes.MONTH),u=i.default.getForSkuAndInterval(S.PremiumSubscriptionSKUs.TIER_1,S.SubscriptionIntervalTypes.YEAR);(0,o.default)(null!=n&&null!=u,"monthlyPlan and yearlyPlan must be preloaded");var s=_(n,r),d=_(u,r);return I(l.default,{onClick:t,className:(0,a.default)(v.default.button,v.default.tier1),focusProps:{offset:4}},void 0,I("div",{className:v.default.tier1Image}),I("div",{className:v.default.description},void 0,T,I(c.default,{className:(0,a.default)(v.default.tierTitle)}),I("div",{className:v.default.text},void 0,y.default.Messages.BILLING_SWITCH_PLAN_TIER_1_DESCRIPTION)),I("div",{className:v.default.priceWrapper},void 0,I(p.default,{price:s.amount,currency:s.currency,intervalType:n.interval,className:v.default.price
}),I(p.default,{price:d.amount,currency:d.currency,intervalType:u.interval,className:v.default.price})))}b.displayName="PremiumTier1Button";function M(e){var t=e.onSelectSku,r=e.priceOptions;return I(d.ScrollerThin,{className:v.default.skuButtons},void 0,I(h,{priceOptions:r,onClick:function(){return t(S.PremiumSubscriptionSKUs.TIER_2)}}),I(b,{priceOptions:r,onClick:function(){return t(S.PremiumSubscriptionSKUs.TIER_1)}}))}M.displayName="PremiumSelectPlanOptions";var O=M;t.default=O},296975:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.useSubscriptionEntitlements=function(e,t){var r=(0,a.useStateFromStores)([i.default],(function(){return i.default.get(e)})),o=(0,a.useStateFromStores)([l.default],(function(){var e;return null!=r&&null!==(e=l.default.getForSku(r.skuId))&&void 0!==e?e:m})),s=n.useMemo((function(){return Array.from(o).filter((function(e){var t=e.parentId,r=e.consumed;return null!=t&&!r}))}),[o]);return{
hasEntitlements:!t&&null!=r&&null!=s&&s.length>=u.default.getIntervalMonths(r.interval,r.intervalCount),entitlements:s}};t.useUnsupportedExternalSubscriptionModalHandler=function(e,t,r){n.useEffect((function(){if(null!=e&&e.isPurchasedExternally&&null!=e.paymentGateway&&!r){o.default.show({title:c.default.Messages.BILLING_EXTERNAL_HEADER.format({paymentGatewayName:s.PaymentGatewayToFriendlyName[e.paymentGateway]}),body:c.default.Messages.BILLING_EXTERNAL_MANAGE_ELSEWHERE.format({paymentGatewayName:s.PaymentGatewayToFriendlyName[e.paymentGateway],subscriptionManagementLink:(0,u.getExternalSubscriptionMethodUrl)(e.paymentGateway,"SUBSCRIPTION_MANAGEMENT")}),confirmText:c.default.Messages.OKAY});t()}}),[e])};var n=p(r(667294)),a=r(536211),o=d(r(190040)),i=d(r(909584)),l=d(r(47969)),u=p(r(838583)),s=r(478036),c=d(r(247001));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(f=function(e){
return e?r:t})(e)}function p(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e;r&&r.set(e,n);return n}var m=[]},36235:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=_;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=P(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e;r&&r.set(e,n)}(r(667294))
;var n,a,o=v(r(294184)),i=v(r(441143)),l=r(536211),u=v(r(871778)),s=v(r(909584)),c=v(r(789446)),d=v(r(16941)),f=r(838583),p=r(243277),m=r(770348),S=v(r(247001)),y=v(r(736101));function v(e){return e&&e.__esModule?e:{default:e}}function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(P=function(e){return e?r:t})(e)}function E(e,t,r,n){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=n;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var I=((n={})[m.SubscriptionPlans.PREMIUM_YEAR_TIER_1]=m.PREMIUM_YEARLY_DISCOUNT_PERCENT,n[m.SubscriptionPlans.PREMIUM_YEAR_TIER_2]=m.PREMIUM_YEARLY_DISCOUNT_PERCENT,
n[m.SubscriptionPlans.PREMIUM_6_MONTH_TIER_2]=m.PREMIUM_6_MONTH_DISCOUNT_PERCENT,n[m.SubscriptionPlans.PREMIUM_3_MONTH_TIER_2]=m.PREMIUM_3_MONTH_DISCOUNT_PERCENT,n);function _(e){var t,r,n,a=e.premiumSubscription,v=e.planId,P=e.selectPlan,_=e.selected,h=e.isGift,T=e.priceOptions,b=(0,l.useStateFromStores)([u.default],(function(){return u.default.locale})),M=(0,l.useStateFromStores)([s.default],(function(){return s.default.get(v)}));(0,i.default)(null!=M,"Missing subscriptionPlan");var O=null!=a&&a.planId===v,g=O||v===m.SubscriptionPlans.PREMIUM_MONTH_TIER_2&&null!=a&&a.planId===m.SubscriptionPlans.PREMIUM_YEAR_TIER_1,A=I[v],N=(0,f.getPrice)(v,!1,h,T),C=(0,f.isPrepaidPaymentSource)(T.paymentSourceId);return E(d.default,{role:"radio","aria-checked":_,tabIndex:_?0:-1,focusProps:{offset:{left:-4,right:-4,top:0,bottom:0}},onClick:g?void 0:function(){return P(v)},className:(0,o.default)(y.default.planOption,(t={},t[y.default.planOptionDisabled]=g,t))},void 0,E("div",{
className:y.default.planOptionClickable},void 0,E(c.default,{readOnly:!0,displayOnly:!0,value:_,shape:c.default.Shapes.ROUND,color:m.Colors.BRAND,type:c.default.Types.INVERTED,className:y.default.planOptionCheckbox}),E("div",{className:(0,o.default)(y.default.planOptionInterval,(r={},r[y.default.optionSelected]=_,r))},void 0,(0,f.getIntervalString)(M.interval,h,C,M.intervalCount)),O?E("span",{className:y.default.planOptionCurrentPlan},void 0,"(",S.default.Messages.BILLING_SWITCH_PLAN_CURRENT_PLAN,")"):null,M.interval===m.SubscriptionIntervalTypes.YEAR&&null!=a?E("span",{className:y.default.planOptionMonthsFree},void 0,"(",S.default.Messages.BILLING_SWITCH_PLAN_YEARLY_FREE_MONTHS,")"):null==A||O?null:E("span",{className:y.default.planOptionDiscount},void 0,S.default.Messages.BILLING_PLAN_SELECTION_DISCOUNT.format({discount:(0,p.formatPercent)(b,A/100)}))),E("div",{className:(0,o.default)((n={},n[y.default.optionSelected]=_,n))},void 0,(0,p.formatPrice)(N.amount,N.currency)))}
_.displayName="PremiumSwitchPlanSelectOption"},413409:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=F;var n,a=w(r(667294)),o=R(r(441143)),i=r(793786),l=r(536211),u=w(r(225585)),s=R(r(732620)),c=R(r(779111)),d=R(r(175098)),f=R(r(663303)),p=R(r(697952)),m=R(r(909584)),S=R(r(682473)),y=R(r(80828)),v=r(645758),P=r(688388),E=R(r(700113)),I=w(r(838583)),_=r(243277),h=r(511217),T=r(833571),b=R(r(345265)),M=r(301323),O=r(296975),g=r(770348),A=r(478036),N=R(r(247001)),C=R(r(968071));function R(e){return e&&e.__esModule?e:{default:e}}function L(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(L=function(e){return e?r:t})(e)}function w(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=L(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e;r&&r.set(e,n);return n}function k(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done);i=!0){o.push(n.value);if(t&&o.length===t)break}}catch(e){l=!0;a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return
;if("string"==typeof e)return D(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var U=k(y.default,{});function F(e){var t,r=e.selectedPlanId,n=e.paymentSources,y=e.priceOptions,R=e.currencies,L=e.onCurrencyChange,w=e.isGift,D=void 0!==w&&w,F=e.onPaymentSourceChange,B=e.handlePaymentSourceAdd,H=e.setHasAcceptedTerms,W=e.legalTermsNodeRef,x=e.hasLegalTermsFlash,j=e.trialId,Y=e.trialFooterMessageOverride,K=e.reviewWarningMessage,V=(0,l.useStateFromStores)([m.default],(function(){return m.default.get(r)})),X=null!=j;(0,
o.default)(null!=V,"Missing plan");var Z,$,J=[{planId:V.id,quantity:1}],z=G((0,h.useSubscriptionInvoicePreview)({items:J,renewal:!1,preventFetch:D,applyEntitlements:!0,paymentSourceId:y.paymentSourceId,currency:y.currency,trialId:j}),2),Q=z[0],q=z[1],ee=G((0,h.useSubscriptionInvoicePreview)({items:J,renewal:!0,preventFetch:D,paymentSourceId:y.paymentSourceId,currency:y.currency}),2),te=ee[0],re=ee[1],ne=null!=q?q:re,ae=(0,l.useStateFromStores)([f.default],(function(){return f.default.enabled})),oe=y.paymentSourceId,ie=(0,O.useSubscriptionEntitlements)(V.id,D),le=ie.hasEntitlements,ue=ie.entitlements,se=(0,I.isPrepaidPaymentSource)(y.paymentSourceId);if(null!=ne)return k(S.default,{},void 0,ne.message);if(D)$=k(M.SubscriptionInvoiceGift,{paymentSourceId:y.paymentSourceId,plan:V,className:C.default.invoice,isPrepaidPaymentSource:se});else{if(null==Q||null==te)return U;X&&Q.subscriptionPeriodEnd!==te.subscriptionPeriodEnd&&(Z=Q.subscriptionPeriodEnd);$=k(T.PremiumInvoiceTable,{
className:C.default.invoice},void 0,k(T.PremiumInvoiceTableHeader,{},void 0,N.default.Messages.BILLING_SWITCH_PLAN_PURCHASE_DETAILS),k(M.PremiumSubscriptionChangePlanInvoiceRows,{invoice:Q,newPlan:V,isPrepaidPaymentSource:se}),se?null:k(M.SubscriptionInvoiceFooter,{renewalInvoice:te,isTrial:X,priceOptions:y,overrideRenewalDate:Z,trialFooterMessageOverride:Y}))}var ce=i.CountryCodesSets.EEA_COUNTRIES.has(p.default.ipCountryCodeWithFallback),de=function(e,t,r){var n=null,a=null,o=null;if(e&&null!=t){var i=I.default.getIntervalForInvoice(t),l=i.intervalType,u=i.intervalCount,s=(0,_.formatRate)((0,_.formatPrice)(t.total,t.currency),l,u),c=null!=r?r:t.subscriptionPeriodEnd;n=N.default.Messages.BILLING_LEGAL_MUMBO_JUMBO_TRIAL_TERMS_LABEL.format({termsURL:g.MarketingURLs.TERMS,paidURL:g.MarketingURLs.PAID_TERMS,rate:s,renewalDate:c});a=C.default.trialCheckbox;o=C.default.trialCheckboxLabel}return{checkboxLabel:n,checkboxClassname:a,checkboxLabelClassname:o}
}(X,te,Z),fe=de.checkboxLabel,pe=de.checkboxClassname,me=de.checkboxLabelClassname,Se=N.default.Messages.BILLING_SELECT_PLAN_GUILD_SUBSCRIPTION.format({planName:V.name});D?Se=N.default.Messages.PAYMENT_MODAL_SUBTITLE_PREMIUM_GIFT:(0,I.isPremiumSubscriptionPlan)(V.id)&&(Se=I.default.getBillingReviewSubheader(null,V));return k("div",{className:C.default.stepBody},void 0,null!=K&&k("div",{className:C.default.reviewWarningMessageContainer},void 0,k(E.default,{color:g.Colors.STATUS_YELLOW,width:20,height:20}),k(v.Text,{className:C.default.reviewWarningMessage,variant:"text-sm/normal"},void 0,K)),k(P.FormTitle,{tag:P.FormTitleTags.H5},void 0,Se),$,k("div",{className:C.default.paymentSourceWrapper},void 0,k(P.FormTitle,{tag:P.FormTitleTags.H5},void 0,N.default.Messages.PAYMENT_SOURCE_PAYMENT_REQUEST_INFO_TITLE),k(c.default,{paymentSources:Object.values(n),selectedPaymentSourceId:oe,prependOption:le?{label:N.default.Messages.ATTACH_PAYMENT_SOURCE_PROMPT_OPTION_OPTIONAL,value:null}:null,
onChange:F,onPaymentSourceAdd:B,hidePersonalInformation:ae}),le&&null==oe?k("div",{className:C.default.paymentSourceOptionalWarning},void 0,N.default.Messages.ATTACH_PAYMENT_SOURCE_OPTIONAL_WITH_ENTITLEMENTS_WARNING.format({months:ue.length})):null,k(u.CurrencyWrapper,{currencies:R,className:C.default.currencyWrapper},void 0,k(P.FormTitle,{tag:P.FormTitleTags.H5},void 0,N.default.Messages.PAYMENT_CURRENCY),k(u.default,{selectedCurrency:y.currency,currencies:R,onChange:L}))),a.createElement(b.default,{isActive:x,ref:W},k(d.default,{onChange:H,forceShow:!0,checkboxLabel:fe,checkboxClassname:pe,checkboxLabelClassname:me,finePrint:k(s.default,{hide:X,subscriptionPlan:V,isGift:D,paymentSourceType:null===(t=n[null!=oe?oe:""])||void 0===t?void 0:t.type}),showPricingLink:V.currency!==A.CurrencyCodes.USD,showWithdrawalWaiver:ce&&se})))}F.displayName="PremiumSubscriptionReview"},633789:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=B;var n,a=function(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=L(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e;r&&r.set(e,n);return n}(r(667294)),o=R(r(441143)),i=r(536211),l=R(r(636602)),u=r(832635),s=r(653906),c=r(304836),d=r(723420),f=R(r(37039)),p=r(534564),m=R(r(180887)),S=R(r(748826)),y=r(160660),v=R(r(909584)),P=R(r(956117)),E=R(r(530250)),I=R(r(730977)),_=r(3400),h=R(r(308920)),T=r(838583),b=r(156849),M=r(653311),O=R(r(504725)),g=r(296975),A=r(770348),N=r(478036),C=R(r(247001));function R(e){return e&&e.__esModule?e:{default:e}}function L(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(L=function(e){return e?r:t})(e)}function w(e,t,r,a){
n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function k(){k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};return k.apply(this,arguments)}function G(e,t,r,n,a,o,i){try{var l=e[o](i),u=l.value}catch(e){r(e);return}l.done?t(u):Promise.resolve(u).then(n,a)}function D(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){G(o,n,a,i,l,"next",e)}function l(e){G(o,n,a,i,l,"throw",e)}i(void 0)}))}}function U(e,t){return function(e){if(Array.isArray(e))return e
}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done);i=!0){o.push(n.value);if(t&&o.length===t)break}}catch(e){l=!0;a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return F(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return F(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function B(e){
var t=e.premiumSubscription,r=e.planId,n=e.setPurchaseState,R=e.setHasAcceptedTerms,L=e.hasAcceptedTerms,G=e.priceOptions,F=e.onBack,B=e.onNext,H=e.legalTermsNodeRef,W=e.flashLegalTerms,x=e.invoiceError,j=e.planError,Y=e.onPurchaseError,K=e.baseAnalyticsData,V=e.flowStartTime,X=e.isGift,Z=void 0!==X&&X,$=e.giftStyle,J=e.trialId,z=e.planGroup,Q=e.analyticsLocation,q=e.purchaseTokenAuthState,ee=e.openInvoiceId,te=(0,i.useStateFromStores)([v.default],(function(){return v.default.get(r)})),re=(0,i.useStateFromStores)([m.default],(function(){return m.default.popupCallbackCalled})),ne=(0,f.default)().analyticsLocations;(0,o.default)(null!=te,"Missing subscriptionPlan");var ae=G.paymentSourceId,oe=(0,i.useStateFromStores)([S.default],(function(){return null!=ae?S.default.getPaymentSource(ae):null})),ie=U(a.useState(!1),2),le=ie[0],ue=ie[1],se=(0,g.useSubscriptionEntitlements)(r,Z).hasEntitlements,ce=(0,T.isPrepaidPaymentSource)(G.paymentSourceId),de=function(e,t,r,n,a){
return r?C.default.Messages.PAYMENT_MODAL_BUTTON_PREMIUM_GIFT:a?C.default.Messages.BILLING_SELECT_PLAN:null!=t?(0,b.subscriptionCanSwitchImmediately)(t,e.id,n)?C.default.Messages.BILLING_SWITCH_PLAN_UPGRADE:C.default.Messages.BILLING_SWITCH_PLAN_CHANGE:(0,T.isPremiumSubscriptionPlan)(e.id)?(0,T.getBillingReviewSubheader)(null,e):C.default.Messages.BILLING_SELECT_PLAN_GUILD_SUBSCRIPTION.format({planName:e.name})}(te,t,Z,z,ce),fe=(0,T.isPremiumSubscriptionPlan)(r);a.useEffect((function(){var e=function(){var e=D(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==re){e.next=21;break}e.prev=1;if(null!=m.default.redirectedPaymentId){e.next=4;break}return e.abrupt("return");case 4:e.next=6;return(0,u.redirectedPaymentSucceeded)(m.default.redirectedPaymentId);case 6:n(p.PurchaseState.COMPLETED);B();e.next=15;break;case 10:e.prev=10;e.t0=e.catch(1);n(p.PurchaseState.FAIL);Y(e.t0)
;h.default.track(A.AnalyticEvents.PAYMENT_FLOW_FAILED,k({},K,{payment_source_id:ae,duration_ms:Date.now()-V}));case 15:e.prev=15;ue(!1);(0,u.resetPaymentIntentId)();return e.finish(15);case 19:e.next=24;break;case 21:if(q!==y.PurchaseTokenAuthState.SUCCESS){e.next=24;break}e.next=24;return Se();case 24:case"end":return e.stop()}}),e,null,[[1,10,15,19]])})));return function(){return e.apply(this,arguments)}}();e()}),[re]);var pe,me=(0,M.useIsPrepaidPaymentPastDue)(),Se=function(){var e=D(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:R(!0);ue(!0);l.default.wait(s.clearError);Y(null);n(p.PurchaseState.PURCHASING);e.prev=5;(0,o.default)(null!=oe||se,"Missing paymentSource");h.default.track(A.AnalyticEvents.PAYMENT_FLOW_COMPLETED,k({},K,{duration_ms:Date.now()-V}));if(!Z){e.next=17;break}a=(0,T.getPrice)(te.id,!1,!0,G);e.next=12;return(0,d.purchaseSKU)(A.PREMIUM_SUBSCRIPTION_APPLICATION,te.skuId,{
expectedAmount:a.amount,expectedCurrency:a.currency,paymentSource:oe,subscriptionPlanId:r,isGift:!0,giftStyle:$});case 12:if(!e.sent.redirectConfirmation){e.next=15;break}return e.abrupt("return");case 15:e.next=45;break;case 17:if(!me||null==ee||null==oe||null==t){e.next=32;break}if(!N.PREPAID_PAYMENT_SOURCES.has(oe.type)){e.next=24;break}e.next=21;return(0,u.payInvoiceManually)(t,ee,oe,G.currency);case 21:e.t0=e.sent;e.next=27;break;case 24:e.next=26;return(0,u.updateSubscription)(t,{paymentSource:oe,currency:G.currency},ne,Q);case 26:e.t0=e.sent;case 27:if(!e.t0.redirectConfirmation){e.next=30;break}return e.abrupt("return");case 30:e.next=45;break;case 32:if(null==t){e.next=40;break}e.next=35;return(0,u.updateSubscription)(t,{items:(0,T.getItemsWithUpsertedPlanIdForGroup)(t,r,1,new Set(z)),paymentSource:oe,currency:G.currency},ne,Q);case 35:if(!e.sent.redirectConfirmation){e.next=38;break}return e.abrupt("return");case 38:e.next=45;break;case 40:e.next=42;return(0,
c.subscribe)(r,G.currency,oe,J);case 42:if(!e.sent.redirectConfirmation){e.next=45;break}return e.abrupt("return");case 45:n(p.PurchaseState.COMPLETED);B();e.next=54;break;case 49:e.prev=49;e.t1=e.catch(5);n(p.PurchaseState.FAIL);Y(e.t1);h.default.track(A.AnalyticEvents.PAYMENT_FLOW_FAILED,k({},K,{payment_source_id:ae,duration_ms:Date.now()-V}));case 54:e.prev=54;ue(!1);return e.finish(54);case 57:case"end":return e.stop()}}),e,null,[[5,49,54,57]])})));return function(){return e.apply(this,arguments)}}();function ye(){if(null!=H.current){H.current.scrollIntoView({behavior:"smooth"});W()}}pe=null!=x||null!=j?w(P.default,{color:P.default.Colors.GREEN,disabled:!0},void 0,de):L?w(P.default,{"data-testid":"purchase",onClick:Se,color:P.default.Colors.GREEN,submitting:le,disabled:null==ae&&!se},void 0,de):w(I.default,{text:C.default.Messages.BILLING_ACCEPT_TERMS_PAID_SERVICES_TOOLTIP},void 0,(function(e){return a.createElement(P.default,k({},e,{color:P.default.Colors.GREEN,type:"submit",
onClick:ye}),de)}));var ve=null!=ee;return w(_.ModalFooter,{justify:E.default.Justify.BETWEEN,align:E.default.Align.CENTER},void 0,pe,fe&&!ve?w(O.default,{onClick:F}):null)}B.displayName="PremiumSubscriptionReviewFooter"},989445:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=k;var n,a=C(r(667294)),o=A(r(441143)),i=r(793786),l=r(536211),u=C(r(225585)),s=A(r(732620)),c=A(r(779111)),d=A(r(175098)),f=A(r(663303)),p=A(r(697952)),m=A(r(909584)),S=A(r(682473)),y=A(r(80828)),v=r(688388),P=r(838583),E=r(156849),I=r(511217),_=r(833571),h=A(r(345265)),T=r(301323),b=r(770348),M=A(r(247001)),O=A(r(231492)),g=A(r(968071));function A(e){return e&&e.__esModule?e:{default:e}}function N(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(N=function(e){return e?r:t})(e)}function C(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=N(t);if(r&&r.has(e))return r.get(e)
;var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e;r&&r.set(e,n);return n}function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done);i=!0){o.push(n.value);if(t&&o.length===t)break}}catch(e){l=!0;a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return L(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return L(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function w(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function k(e){
var t,r=e.premiumSubscription,n=e.paymentSources,S=e.priceOptions,y=e.onPaymentSourceChange,I=e.onPaymentSourceAdd,_=e.planId,T=e.setHasAcceptedTerms,O=e.legalTermsNodeRef,A=e.hasLegalTermsFlash,N=e.onInvoiceError,C=e.planGroup,R=e.currencies,L=e.onCurrencyChange,k=e.hasOpenInvoice,G=S.paymentSourceId,F=(0,l.useStateFromStores)([m.default],(function(){return m.default.get(_)}));(0,o.default)(null!=F,"Missing newPlan");var B,W=(0,l.useStateFromStores)([f.default],(function(){return f.default.hidePersonalInformation}));B=k?M.default.Messages.BILLING_PURCHASE_DETAILS_HEADER:(0,P.isPremiumSubscriptionPlan)(_)?(0,P.getBillingReviewSubheader)(r,F):M.default.Messages.BILLING_SELECT_PLAN_GUILD_SUBSCRIPTION.format({planName:F.name});var x=i.CountryCodesSets.EEA_COUNTRIES.has(p.default.ipCountryCodeWithFallback),j=(0,P.isPrepaidPaymentSource)(S.paymentSourceId);return w("div",{className:g.default.stepBody},void 0,w(v.FormTitle,{tag:v.FormTitleTags.H5},void 0,B),null!=r?k?w(D,{
premiumSubscription:r,onInvoiceError:N,priceOptions:S,preventFetch:!k}):(0,E.subscriptionCanSwitchImmediately)(r,_,C)?w(U,{premiumSubscription:r,newPlan:F,onInvoiceError:N,planGroup:C,priceOptions:S}):w(H,{premiumSubscription:r,newPlan:F,planGroup:C,priceOptions:S}):null,w("div",{className:g.default.paymentSourceWrapper},void 0,w(v.FormTitle,{tag:v.FormTitleTags.H5},void 0,M.default.Messages.PAYMENT_SOURCE_PAYMENT_REQUEST_INFO_TITLE),w(c.default,{paymentSources:Object.values(n),selectedPaymentSourceId:G,onChange:y,onPaymentSourceAdd:I,hidePersonalInformation:W})),w(u.CurrencyWrapper,{currencies:R,className:g.default.currencyWrapper},void 0,w(v.FormTitle,{tag:v.FormTitleTags.H5},void 0,M.default.Messages.PAYMENT_CURRENCY),w(u.default,{selectedCurrency:S.currency,currencies:R,onChange:L})),a.createElement(h.default,{isActive:A,ref:O},w(d.default,{onChange:T,finePrint:w(s.default,{subscriptionPlan:F,paymentSourceType:null===(t=n[null!=G?G:""])||void 0===t?void 0:t.type}),forceShow:!0,
showPricingLink:F.currency!==b.CurrencyCodes.USD,showWithdrawalWaiver:x&&j})))}k.displayName="PremiumSwitchPlanReviewBody";var G=w(y.default,{});function D(e){var t=e.premiumSubscription,r=e.onInvoiceError,n=e.priceOptions,o=e.preventFetch,i=R((0,I.useGetSubscriptionInvoice)({subscriptionId:t.id,preventFetch:o}),2),l=i[0],u=i[1];a.useEffect((function(){r(u)}),[r,u]);var s=(0,P.isPrepaidPaymentSource)(n.paymentSourceId);return null!=l?w(_.PremiumInvoiceTable,{className:O.default.invoice},void 0,w(T.PremiumSubscriptionCurrentInvoiceRows,{invoice:l,isPrepaidPaymentSource:s}),w(T.SubscriptionInvoiceFooter,{premiumSubscription:t,renewalInvoice:l,isUpdate:!0,isPrepaidPaymentSource:s})):G}D.displayName="PremiumExtendPlanImmediate";function U(e){var t=e.premiumSubscription,r=e.newPlan,n=e.onInvoiceError,o=e.planGroup,i=e.priceOptions,l=(0,P.getItemsWithUpsertedPlanIdForGroup)(t,r.id,1,new Set(o)),u=R((0,I.useSubscriptionInvoicePreview)({subscriptionId:t.id,items:l,renewal:!1,
applyEntitlements:!0,paymentSourceId:i.paymentSourceId,currency:i.currency}),2),s=u[0],c=u[1],d=R((0,I.useSubscriptionInvoicePreview)({subscriptionId:t.id,items:l,renewal:!0,paymentSourceId:i.paymentSourceId,currency:i.currency}),2),f=d[0],p=d[1],m=null!=c?c:p;a.useEffect((function(){n(m)}),[n,m]);if(null!=m)return w(S.default,{},void 0,m.message);if(null==s||null==f)return w(y.default,{className:g.default.spinner});var v=(0,P.isPrepaidPaymentSource)(i.paymentSourceId);return a.createElement(a.Fragment,null,w(T.SubscriptionPeriodResetNotice,{proratedInvoice:s,renewalInvoice:f}),w(_.PremiumInvoiceTable,{className:g.default.invoice},void 0,w(_.PremiumInvoiceTableHeader,{},void 0,M.default.Messages.BILLING_SWITCH_PLAN_PURCHASE_DETAILS),w(T.PremiumSubscriptionChangePlanInvoiceRows,{invoice:s,newPlan:r,isPrepaidPaymentSource:v}),w(T.SubscriptionInvoiceFooter,{premiumSubscription:t,proratedInvoice:s,renewalInvoice:f,isUpdate:!0,isPrepaidPaymentSource:v})))}
var F=w("div",{},void 0,w(y.default,{})),B=w(_.PremiumInvoiceTableDivider,{});function H(e){var t,r=e.premiumSubscription,n=e.newPlan,a=e.planGroup,o=e.priceOptions,i=R((0,I.useSubscriptionInvoicePreview)({subscriptionId:r.id,items:(0,P.getItemsWithUpsertedPlanIdForGroup)(r,n.id,1,new Set(a)),renewal:!0,applyEntitlements:!1,paymentSourceId:o.paymentSourceId,currency:o.currency}),2),l=i[0],u=i[1];if(null!=u)return w(S.default,{},void 0,u.message);if(null==l)return F;t=r.type===b.SubscriptionTypes.PREMIUM?(0,P.getDisplayName)(n.id):n.name;var s=(0,P.isPrepaidPaymentSource)(o.paymentSourceId);return w("div",{className:g.default.bodyText},void 0,w("div",{className:O.default.renewalInvoiceDate},void 0,M.default.Messages.BILLING_SWITCH_PLAN_CHANGE_DATE.format({renewalDate:l.subscriptionPeriodStart})),w(_.PremiumInvoiceTable,{className:g.default.invoice},void 0,w(_.PremiumInvoiceTableHeader,{},void 0,M.default.Messages.PREMIUM_SUBSCRIPTION_UPDATES),w(_.PremiumInvoiceTableRow,{label:t,
value:(0,P.getFormattedRateForPlan)(n,o)}),B,w(T.SubscriptionInvoiceFooter,{premiumSubscription:r,renewalInvoice:l,isUpdate:!0,isPrepaidPaymentSource:s})))}H.displayName="PremiumSwitchPlanRenewalMutation"},268660:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e;r&&r.set(e,n);return n}(r(667294)),i=d(r(294184)),l=d(r(74854)),u=d(r(550024)),s=r(836233),c=d(r(913165));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(f=function(e){return e?r:t
})(e)}function p(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function m(){m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};return m.apply(this,arguments)}function S(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;y(e,t)}function y(e,t){y=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return y(e,t)}!function(e){e[e.ENTERING=0]="ENTERING";e[e.LEAVING=1]="LEAVING";e[e.APPEARING=2]="APPEARING";e[e.STATIC=3]="STATIC"}(a||(a={}));var v=function(e){S(t,e);function t(){
for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];(t=e.call.apply(e,[this].concat(n))||this).state={animationProgress:new l.default.Value(0),targetHeight:0,baseHeight:0,animationState:null};t.direction=t.props.getDirection();t._measureRef=o.createRef();return t}var r=t.prototype;r.componentDidMount=function(){if(null!=this._measureRef.current){var e=this._measureRef.current.getBoundingClientRect().height;this.setState({targetHeight:e,baseHeight:this.props.getBaseHeight()})}};r.componentDidUpdate=function(e,t){t.targetHeight!==this.state.targetHeight&&this.props.setHeight(this.state.targetHeight)};r.componentWillAppear=function(e){this.setState({animationState:a.APPEARING});e()};r.componentDidAppear=function(){var e=this.state,t=e.animationProgress,r=e.targetHeight;t.setValue(2);this.setState({animationState:a.STATIC,baseHeight:r})};r.componentWillEnter=function(e){var t=this.props.duration,r=this.state.animationProgress;this.setState({animationState:a.ENTERING})
;this.props.setHeight(this.state.targetHeight);l.default.timing(r,{toValue:2,duration:t,delay:t/2}).start(e)};r.componentDidEnter=function(){this.setState({animationState:a.STATIC})};r.componentWillLeave=function(e){var t=this.state.animationProgress,r=this.props,n=r.duration,o=r.getDirection;this.direction=o();this.setState({animationState:a.LEAVING});l.default.timing(t,{toValue:0,duration:n}).start(e)};r.componentDidLeave=function(){this.setState({animationState:a.STATIC})};r.getAnimatedStyle=function(){var e,t,r=this.context.reducedMotion,n=this.props.fillParent,o=this.state,i=o.animationProgress,u=o.animationState,s=o.baseHeight,c=o.targetHeight,d=null!==(e=this.props.sideMargin)&&void 0!==e?e:0,f=null!==(t=this.props.verticalMargin)&&void 0!==t?t:0,p=u===a.LEAVING,S=u===a.ENTERING,y=(p?-1:1)*this.direction,v={overflow:S||p?"hidden":"visible",position:p?"absolute":void 0,top:p?f:void 0,left:p?d:void 0,right:p?d:void 0,bottom:p?f:void 0},P={transform:[{translateX:i.interpolate({
inputRange:[0,2],outputRange:[150*y+"%","0%"],extrapolate:"clamp",easing:l.default.Easing.inOut(l.default.Easing.ease)})}]};return m({},v,{},r.enabled?null:P,{opacity:i.interpolate({inputRange:[0,2],outputRange:[0,1],extrapolate:"clamp",easing:l.default.Easing.inOut(l.default.Easing.ease)}),height:S?i.interpolate({inputRange:[0,1],outputRange:[s,c],extrapolate:"clamp",easing:l.default.Easing.inOut(l.default.Easing.ease)}):n?"100%":"auto"})};r.render=function(){var e,t=this.props,r=t.fillParent,n=t.className,u=t.animatedNodeClassName,s=t.staticClassName,d=this.state.animationState;return r?o.createElement("div",{ref:this._measureRef,className:(0,i.default)(c.default.measurementFill,n,(e={},e[(0,i.default)(c.default.measurementFillStatic,s)]=d===a.STATIC,e))},p(l.default.div,{className:(0,i.default)(c.default.animatedNode,u),style:this.getAnimatedStyle()},void 0,this.props.children)):o.createElement("div",{ref:this._measureRef,className:(0,i.default)(c.default.measurement,n)
},p(l.default.div,{className:(0,i.default)(c.default.animatedNode,u),style:this.getAnimatedStyle()},void 0,this.props.children))};return t}(o.PureComponent);v.displayName="SequenceAnimation";v.contextType=s.AccessibilityPreferencesContext;v.defaultProps={duration:300};var P=function(e){S(t,e);function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];(t=e.call.apply(e,[this].concat(n))||this).stepHeights={};t.prevStep=null;t.prevSteps=[];t.getBaseHeight=function(){return null!=t.prevStep&&null!=t.stepHeights[t.prevStep]?t.stepHeights[t.prevStep]:0};t.getDirection=function(){var e=t.props,r=e.steps,n=e.step,a=null!=t.prevStep?r.indexOf(t.prevStep):-1,o=-1===a&&null!=t.prevStep?t.prevSteps.indexOf(t.prevStep):-1;return Math.max(a,o)>r.indexOf(n)?-1:1};t.setHeight=function(e){var r=t.props.step;t.stepHeights[r]=e};return t}var r=t.prototype;r.componentDidMount=function(){this.setPrevSteps()};r.componentDidUpdate=function(){this.setPrevSteps()}
;r.setPrevSteps=function(){var e=this.props,t=e.step,r=e.steps;this.prevStep=t;this.prevSteps=r};r.render=function(){var e=this.props,t=e.step,r=e.className,n=e.innerClassName,a=e.animatedNodeClassName,o=e.staticClassName,l=e.sideMargin,s=e.verticalMargin,d=e.children,f=e.fillParent;return p(u.default,{component:"div",className:(0,i.default)(c.default.transitionGroup,r)},void 0,p(v,{fillParent:f,sideMargin:l,verticalMargin:s,getDirection:this.getDirection,getBaseHeight:this.getBaseHeight,className:n,animatedNodeClassName:a,staticClassName:o,setHeight:this.setHeight},""+t,d))};return t}(o.Component);t.default=P;P.displayName="Sequencer";P.defaultProps={fillParent:!1}},242881:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=t.CopyInputModes=void 0;var n,a=S(r(667294)),o=p(r(294184)),i=p(r(314234)),l=r(773336),u=S(r(956117)),s=p(r(530250)),c=r(865229),d=p(r(247001)),f=p(r(716523));function p(e){return e&&e.__esModule?e:{default:e}}function m(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(m=function(e){return e?r:t})(e)}function S(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=m(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e;r&&r.set(e,n);return n}function y(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}
function v(e,t){v=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return v(e,t)}var P={DEFAULT:"default",SUCCESS:"success",ERROR:"error"};t.CopyInputModes=P;var E=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;v(e,t)}(t,e);function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];(t=e.call.apply(e,[this].concat(n))||this).inputRef=a.createRef();t.containerRef=a.createRef();t.handleButtonClick=function(){t.select();var e=t.props;(0,e.onCopy)(e.value)};t.handleInputClick=function(){t.select()};return t}var r=t.prototype;r.select=function(){var e;null===(e=this.inputRef.current)||void 0===e||e.select()};r.renderInput=function(e){var t,r,n=this.props,i=n.value,u=n.mode,s=null===(t=this.context)||void 0===t?void 0:t.titleId;return a.createElement("input",{className:(0,o.default)((0,l.getClass)(f.default,"input",u),(r={},r[f.default.inputHidden]=e,r)),ref:this.inputRef,type:"text",value:i,
onClick:this.handleInputClick,readOnly:!0,"aria-labelledby":s})};r.render=function(){var e,t=this.props,r=t.text,n=void 0===r?d.default.Messages.COPY:r,c=t.mode,p=t.hideMessage,m=t.className,S=t.buttonLook,v=null!=p;switch(c){case P.SUCCESS:e=u.ButtonColors.GREEN;break;case P.ERROR:e=u.ButtonColors.RED;break;default:e=this.props.buttonColor}return y(i.default,{focusTarget:this.inputRef,ringTarget:this.containerRef},void 0,a.createElement("div",{className:(0,o.default)((0,l.getClass)(f.default,"copyInput",c),m),ref:this.containerRef},y(s.default,{className:f.default.layout},void 0,y(s.default,{className:f.default.inputWrapper},void 0,this.renderInput(v),v?y("div",{className:f.default.hiddenMessage},void 0,p):null),y(s.default,{shrink:1,grow:0,style:{margin:0}},void 0,y(u.default,{className:f.default.button,onClick:this.handleButtonClick,size:u.ButtonSizes.MIN,color:e,look:S},void 0,n)))))};return t}(a.PureComponent);E.displayName="CopyInput";E.contextType=c.FormContext;E.defaultProps={
supportsCopy:!0,buttonColor:u.ButtonColors.PRIMARY,buttonLook:u.ButtonLooks.FILLED,mode:P.DEFAULT};E.Modes=P;E.ButtonColors=u.ButtonColors;E.ButtonLooks=u.ButtonLooks;var I=E;t.default=I},26172:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=O;t.useRadioGroup=M;t.useRadioItem=function(e){var t=e.isSelected,r=e.label;return{role:"radio",tabIndex:t?0:-1,"aria-label":r,"aria-checked":t}};var n,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=y(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e;r&&r.set(e,n);return n
}(r(667294)),o=S(r(294184)),i=r(528610),l=S(r(16941)),u=r(645758),s=S(r(730977)),c=r(865229),d=S(r(674)),f=S(r(677165)),p=r(770348),m=S(r(780122));function S(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(y=function(e){return e?r:t})(e)}function v(e,t,r,n,a,o,i){try{var l=e[o](i),u=l.value}catch(e){r(e);return}l.done?t(u):Promise.resolve(u).then(n,a)}function P(){P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};return P.apply(this,arguments)}function E(e,t){E=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return E(e,t)}function I(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var _={NOT_SET:"",NONE:"0",SMALL:"7px 10px",MEDIUM:"10px"},h=I(d.default,{});function T(e){var t,r,n=e.disabled,a=e.checked,i=e.option,s=e.size,c=e.onClick,d=e.infoClassName,p=e.titleClassName,S=e.radioItemClassName,y=e.radioItemIconClassName,v=e.radioBarClassName,P=e.hasSelection,E=e.icon,_=e.withTransparentBackground,T=null!==(t=i.color)&&void 0!==t?t:"",b=E,M=a||!P;return I(l.default,{role:"radio","aria-checked":a,onClick:n?void 0:c,tabIndex:!n&&M?0:-1,className:(0,o.default)(m.default.item,(r={},r[m.default.disabled]=n,r[m.default.itemFilled]=!_,r),S)},void 0,I("div",{style:{"--radio-bar-accent-color":T,padding:s},className:(0,o.default)(m.default.radioBar,v)},void 0,I("div",{className:y},void 0,a?I(f.default,{foreground:m.default.radioIconForeground}):h,null!=b&&I(b,{
className:m.default.icon,width:24,height:24})),I("div",{className:(0,o.default)(m.default.info,d)},void 0,I(u.Text,{variant:"text-md/medium",className:p,color:"none"},void 0,i.name),null!=i.desc&&""!==i.desc?I(u.Text,{color:"none",variant:"text-sm/normal"},void 0,i.desc):null)))}T.displayName="RadioBar";var b=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;E(e,t)}(t,e);function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];(t=e.call.apply(e,[this].concat(n))||this).handleClick=function(e){e.preventDefault();var r=t.props,n=r.onClick,a=r.option;return null==n?void 0:n(a)};return t}t.prototype.render=function(){var e=this.props,t=e.checked,r=e.disabled,n=e.option,o=e.size,i=e.infoClassName,l=e.hasSelection,u=e.titleClassName,c=e.radioItemClassName,d=e.radioItemIconClassName,f=e.radioBarClassName,p=e.withTransparentBackground,S=r||n.disabled,y=n.tooltipText,v=n.tooltipPosition,E=n.icon,_=I(T,{disabled:!!S,
checked:t,hasSelection:l,option:n,onClick:this.handleClick,size:o,infoClassName:i,titleClassName:u,radioItemClassName:c,radioItemIconClassName:d,radioBarClassName:f,icon:E,withTransparentBackground:p});return null!=y?I(s.default,{text:y,position:null!=v?v:s.default.Positions.TOP},void 0,(function(e){return a.createElement("div",P({},e,{className:m.default.tooltipWrapper}),_)})):_};return t}(a.PureComponent);b.displayName="RadioItem";b.defaultProps={withTransparentBackground:!1};function M(e){var t=void 0===e?{}:e,r=t.orientation,n=void 0===r?"vertical":r,o=t.isDisabled,l=void 0!==o&&o,u=t.labelledBy,s=a.useRef(null),c=a.useMemo((function(){return(0,i.createFocusManager)({getFocusableElements:function(){var e=s.current;if(null!=e){var t=e.querySelectorAll('[role="radio"]');return Array.from(t)}return[]},getActiveElement:function(){var e;return null===(e=s.current)||void 0===e?void 0:e.ownerDocument.activeElement}})}),[]),d=a.useCallback(function(){
var e,t=(e=regeneratorRuntime.mark((function e(t){var r,a,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=s.current){e.next=3;break}return e.abrupt("return");case 3:r="vertical"===n?p.KeyboardKeys.ARROW_UP:p.KeyboardKeys.ARROW_LEFT;a="vertical"===n?p.KeyboardKeys.ARROW_DOWN:p.KeyboardKeys.ARROW_RIGHT;e.t0=t.which;e.next=e.t0===a?8:e.t0===r?14:20;break;case 8:t.stopPropagation();t.preventDefault();e.next=12;return c.getNextFocusableElement({wrap:!0});case 12:o=e.sent;return e.abrupt("return",null==o?void 0:o.focus());case 14:t.stopPropagation();t.preventDefault();e.next=18;return c.getPreviousFocusableElement({wrap:!0});case 18:i=e.sent;return e.abrupt("return",null==i?void 0:i.focus());case 20:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){v(o,n,a,i,l,"next",e)}function l(e){v(o,n,a,i,l,"throw",e)}i(void 0)}))});return function(e){
return t.apply(this,arguments)}}(),[c,n]);return{role:"radiogroup",onKeyDown:d,ref:s,"aria-labelledby":u,"aria-orientation":n,"aria-disabled":l}}function O(e){var t=e.itemInfoClassName,r=e.itemTitleClassName,n=e.radioItemClassName,o=e.className,i=e.value,l=void 0===i?null:i,u=e.size,s=void 0===u?_.MEDIUM:u,d=e.onChange,f=void 0===d?p.NOOP:d,m=e.disabled,S=void 0!==m&&m,y=e.options,v=void 0===y?[]:y,E=e["aria-labelledby"],h=e.orientation,T=e.withTransparentBackground,O=(0,c.useFormContext)(),g=M({labelledBy:null!=E?E:O.titleId,orientation:h,isDisabled:S}),A=v.some((function(e){return e.value===l}));return a.createElement("div",P({},g,{className:o}),v.map((function(e){return I(b,{hasSelection:A,disabled:S,checked:l===e.value,option:e,onClick:f,size:s,infoClassName:t,titleClassName:r,radioItemClassName:n,radioItemIconClassName:e.radioItemIconClassName,radioBarClassName:e.radioBarClassName,withTransparentBackground:T},e.value)})))}O.displayName="RadioGroup";O.Sizes=_},474257:(e,t,r)=>{
Object.defineProperty(t,"__esModule",{value:!0});t.default=t.LIGHT_THEME_COLORS=t.DEFAULT_SELECT_STYLES=t.DARK_THEME_COLORS=void 0;var n,a,o=v(r(667294)),i=S(r(294184)),l=v(r(392224)),u=S(r(314234)),s=r(925182),c=S(r(594050)),d=r(770348),f=S(r(247001)),p=S(r(932440)),m=["className","error","valueRenderer","optionRenderer","multiValueRenderer","options","value","autofocus","disabled","clearable","searchable","styleOverrides","lightThemeColorOverrides","darkThemeColorOverrides","isMulti"];function S(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(y=function(e){return e?r:t})(e)}function v(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=y(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e;r&&r.set(e,n);return n}function P(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function E(e,t){E=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return E(e,t)}function I(){I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};return I.apply(this,arguments)}!function(e){e.TOP="top";e.BOTTOM="bottom"}(a||(a={}));var _={container:function(e,t){return I({},e,{
cursor:t.isDisabled?"not-allowed":null,pointerEvents:null})},control:function(e,t){var r=t.isDisabled,n=t.isFocused,a=t.menuIsOpen,o=t.theme.colors;return I({},e,{borderColor:r?o.neutral10:n?o.primary:o.neutral20,boxShadow:null,borderRadius:a?"4px 4px 0 0":"4px",minHeight:40,transition:"border 0.15s ease",cursor:r?"not-allowed":null,pointerEvents:r?"none":null,":hover":{borderColor:r?o.neutral10:o.primary}})},singleValue:function(e,t){var r=t.isDisabled;return I({},e,{color:t.theme.colors.text,opacity:r?.5:1})},input:function(e,t){return I({},e,{color:t.theme.colors.text})},menu:function(e,t){var r=t.theme.colors;return I({},e,{backgroundColor:r.menuBackground,border:"1px solid "+r.menuBorder,borderRadius:"0 0 4px 4px",boxShadow:"0 1px 5px 0 "+r.neutral20,color:r.text,marginTop:-1,marginBottom:-1})},clearIndicator:function(e,t){var r=t.isDisabled,n=t.theme.colors;return I({},e,{color:n.text,cursor:r?null:"pointer",opacity:.3,padding:"8px 0",transform:"scale(0.8)",":hover":{
color:n.danger,opacity:1}})},indicatorsContainer:function(e){return I({},e,{alignItems:"flex-start"})},dropdownIndicator:function(e,t){var r=t.isDisabled,n=t.theme.colors;return I({},e,{color:n.interactive,cursor:r?null:"pointer",opacity:r?.3:1,padding:"8px 8px 8px 0",":hover":{color:n.interactiveHover,opacity:r?.3:1}})},menuList:function(e,t){return I({},e,{padding:0,"&::-webkit-scrollbar":{width:8},"&::-webkit-scrollbar-thumb":{backgroundColor:t.theme.colors.scrollBarThumb,borderColor:"transparent",backgroundClip:"padding-box",borderRadius:4},"&::-webkit-scrollbar-track-piece":{backgroundColor:"transparent",borderColor:"transparent"}})},option:function(e,t){var r=t.isSelected,n=t.isFocused,a=t.theme.colors;return I({},e,{backgroundColor:r?a.selectedOptionBackground:n?a.primary25:"transparent",color:a.text,cursor:"pointer",display:"flex",alignItems:"center",minHeight:40})},placeholder:function(e,t){return I({},e,{color:t.theme.colors.placeholder})}};t.DEFAULT_SELECT_STYLES=_;var h={
neutral0:(0,s.hexOpacityToRgba)(d.HEXColors.PRIMARY_DARK_500,.02),neutral5:(0,s.hexOpacityToRgba)(d.HEXColors.PRIMARY_DARK_500,.02),neutral10:(0,s.hexOpacityToRgba)(d.HEXColors.PRIMARY_DARK_500,.1),neutral20:(0,s.hexOpacityToRgba)(d.HEXColors.PRIMARY_DARK_500,.3),neutral30:(0,s.hexOpacityToRgba)(d.HEXColors.PRIMARY_DARK_500,.3),primary:d.HEXColors.PRIMARY_DARK_300,primary25:d.HEXColors.PRIMARY_DARK_100,primary50:d.HEXColors.PRIMARY_DARK_100,selectedOptionBackground:d.HEXColors.PRIMARY_DARK_200,text:d.HEXColors.PRIMARY_LIGHT_700,placeholder:d.HEXColors.PRIMARY_LIGHT,menuBackground:d.HEXColors.WHITE,menuBorder:d.HEXColors.PRIMARY_DARK_300,scrollBarThumb:(0,s.hexOpacityToRgba)(d.HEXColors.BLACK,.4),multiOptionBackground:d.HEXColors.PRIMARY_LIGHT_200,interactive:d.HEXColors.PRIMARY_LIGHT_600,interactiveHover:d.HEXColors.PRIMARY_LIGHT_700};t.LIGHT_THEME_COLORS=h;var T={neutral0:(0,s.hexOpacityToRgba)(d.HEXColors.BLACK,.1),neutral5:(0,s.hexOpacityToRgba)(d.HEXColors.BLACK,.1),neutral10:(0,
s.hexOpacityToRgba)(d.HEXColors.BLACK,.1),neutral20:(0,s.hexOpacityToRgba)(d.HEXColors.PRIMARY_DARK_700,.5),neutral30:(0,s.hexOpacityToRgba)(d.HEXColors.PRIMARY_DARK_700,.5),primary:(0,s.hexOpacityToRgba)(d.HEXColors.BLACK,.6),primary25:(0,s.hexOpacityToRgba)(d.HEXColors.BLACK,.1),primary50:(0,s.hexOpacityToRgba)(d.HEXColors.BLACK,.1),selectedOptionBackground:(0,s.hexOpacityToRgba)(d.HEXColors.BLACK,.2),text:d.HEXColors.PRIMARY_DARK_200,placeholder:d.HEXColors.PRIMARY_DARK_400,menuBackground:d.HEXColors.PRIMARY_DARK_630,menuBorder:d.HEXColors.PRIMARY_DARK_700,scrollBarThumb:(0,s.hexOpacityToRgba)(d.HEXColors.BLACK,.4),multiOptionBackground:d.HEXColors.PRIMARY_DARK_500,interactive:d.HEXColors.PRIMARY_DARK_300,interactiveHover:d.HEXColors.PRIMARY_DARK_200};t.DARK_THEME_COLORS=T;var b=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;E(e,t)}(t,e);function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a]
;(t=e.call.apply(e,[this].concat(n))||this)._selectRef=o.createRef();t._containerRef=o.createRef();t.state={isFocused:!1,isOpen:!1};t.handleFocus=function(e){var r,n;t.setState({isFocused:!0});null===(r=(n=t.props).onFocus)||void 0===r||r.call(n,e)};t.handleBlur=function(e){var r,n;t.setState({isFocused:!1});null===(r=(n=t.props).onBlur)||void 0===r||r.call(n,e)};t.handleKeyDown=function(e){e.which===d.KeyboardKeys.ESCAPE&&t.state.isOpen&&e.stopPropagation()};t.handleMenuOpen=function(){t.setState({isOpen:!0})};t.handleMenuClose=function(){t.setState({isOpen:!1})};return t}var r=t.prototype;r.focus=function(){var e;null===(e=this._selectRef.current)||void 0===e||e.focus()};r.render=function(){var e,t=this,r=this.props,n=r.className,a=r.error,s=r.valueRenderer,S=r.optionRenderer,y=r.multiValueRenderer,v=r.options,E=r.value,b=r.autofocus,M=r.disabled,O=r.clearable,g=r.searchable,A=r.styleOverrides,N=r.lightThemeColorOverrides,C=r.darkThemeColorOverrides,R=r.isMulti,L=I({},function(e,t){
if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++){r=o[n];t.indexOf(r)>=0||(a[r]=e[r])}return a}(r,m));null!=b&&(L.autoFocus=b);null!=M&&(L.isDisabled=M);null!=O&&(L.isClearable=O);null!=g&&(L.isSearchable=g);var w={IndicatorSeparator:function(){return null}};null!=S&&(w.Option=function(e){return o.createElement(l.components.Option,e,S(e.data))});null!=s&&(w.SingleValue=function(e){return o.createElement(l.components.SingleValue,e,s(e.data))});null!=y&&(w.MultiValue=function(e){return y(e.data)});var k,G=null!=A?A:_,D=null!=N?N:h,U=null!=C?C:T;if(R&&Array.isArray(E)){var F={};v.forEach((function(e){F[String(e.value)]=e}));k=E.map((function(e){return F[String(e)]}))}else k=null!=E?v.find((function(e){return e.value===E})):null;return P(u.default,{focused:this.state.isFocused&&!this.state.isOpen,ringTarget:this._containerRef},void 0,o.createElement("div",{className:(0,i.default)(p.default.select,n,(e={},e[p.default.error]=null!=a,e)),ref:this._containerRef
},P(c.default.Consumer,{},void 0,(function(e){return o.createElement(l.default,I({},L,{ref:t._selectRef,isMulti:R,components:w,options:v,styles:G,onFocus:t.handleFocus,onBlur:t.handleBlur,onMenuOpen:t.handleMenuOpen,onMenuClose:t.handleMenuClose,value:k,onKeyDown:t.handleKeyDown,placeholder:f.default.Messages.SELECT,noOptionsMessage:function(){return f.default.Messages.NO_RESULTS_FOUND},theme:function(t){return I({},t,{colors:I({},t.colors,{},e===d.ThemeTypes.LIGHT?D:U)})}}))})),null!=a?P("div",{className:p.default.errorMessage},void 0,a):null))};return t}(o.Component);t.default=b;b.displayName="SelectTempWrapper";b.MenuPlacements=a},477537:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.Slide=function(e){return null};t.Slides=I;t.springConfig=void 0;var n,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=S(t);if(r&&r.has(e))return r.get(e)
;var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e;r&&r.set(e,n);return n}(r(667294)),o=r(248088),i=r(47354),l=r(171236),u=m(r(345034)),s=r(836233),c=m(r(888558)),d=m(r(942575)),f=m(r(170823)),p=["contentDisplay"];function m(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(S=function(e){return e?r:t})(e)}function y(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:n,type:e,
key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function v(){v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};return v.apply(this,arguments)}var P={mass:1,tension:300,friction:28,clamp:!0};t.springConfig=P;function E(e,t){return function(r){if(0===r)return"auto";var n="forwards"===t.current,a=r>0,o=!1;a&&n&&"left"===e&&(o=!0);a&&!n&&"right"===e&&(o=!0);!a&&n&&"right"===e&&(o=!0);a||n||"left"!==e||(o=!0);return o?100*Math.abs(r)+"%":"auto"}}function I(e){var t,r=e.contentDisplay,n=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++){r=o[n];t.indexOf(r)>=0||(a[r]=e[r])}return a}(e,p),m={};a.Children.forEach(n.children,(function(e,t){m[e.props.id]={children:e.props.children,impressionName:e.props.impressionName,impressionProperties:e.props.impressionProperties,index:t}}));var S,I,_=n.activeSlide,h=(0,
u.default)(n.activeSlide),T=(S=null!=h?m[h]:null,I=m[_],null==S?null:S.index>I.index?"backwards":S.index<I.index?"forwards":null),b=a.useContext(s.AccessibilityPreferencesContext).reducedMotion,M=a.useContext(c.default),O=m[_].impressionName,g=m[_].impressionProperties;M({type:i.ImpressionTypes.MODAL,name:O,properties:g,_stackContext:{isSlide:!0}});var A=a.useRef(null),N=(0,f.default)(A,!0,[_]),C=v({},P,{},n.springConfig,{},b.enabled?{clamp:!0}:null),R=(0,o.useSpring)({immediate:null==h||null!=N&&N.observed,width:null!==(t=n.width)&&void 0!==t?t:null!=N?N.width:0,height:null!=N?N.height:0,config:C}),L=(0,o.useTransition)(_,{immediate:null==h,value:0,from:{value:1},enter:{value:0},leave:{value:-1},config:C,onRest:function(e,t){var r=t.item;r===_&&null!=n.onSlideReady&&n.onSlideReady(r)}}),w=(0,d.default)(T),k=n.width,G=n.centered,D=void 0===G||G,U=l.isMobile?"100%":R.width.to((function(e){return Math.round(e)})),F=l.isMobile?"100%":R.height.to((function(e){return Math.round(e)
})),B=l.isMobile?{}:D?{transform:"translate3d(0, -50%, 0) scale(1.0, 1.0)",top:"50%"}:{transform:"scale(1.0, 1.0)"},H=l.isMobile?{}:{overflow:"hidden"};return y(o.animated.div,{style:v({position:"relative",width:U,height:F},H)},void 0,L((function(e,t,n){var i=n.key;return a.createElement(o.animated.div,{ref:t===_?A:null,key:i,style:v({position:"absolute",display:r,flexDirection:"column",backfaceVisibility:"hidden",width:l.isMobile?"100%":k},B,{},b.enabled?{opacity:e.value.to((function(e){return 1-Math.abs(e)}))}:{left:e.value.to(E("left",w)),right:e.value.to(E("right",w))})},m[t].children)})))}I.displayName="Slides"},170823:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,r){var n=(p=(0,a.useState)(null),m=2,function(e){if(Array.isArray(e))return e}(p)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done);i=!0){o.push(n.value)
;if(t&&o.length===t)break}}catch(e){l=!0;a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}}(p,m)||i(p,m)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=n[0],d=n[1],f=(0,a.useRef)(null);var p,m;function S(e){d((function(t){return null!==t&&s(t,e)?t:e}))}(0,a.useLayoutEffect)((function(){!function(e,t){requestAnimationFrame((function(){null!=e.current&&t(e.current.getBoundingClientRect())}))}(e,(function(e){S(u(e,!1))}));if(t&&null!=e.current){var r=e.current;f.current=(0,o.default)(e.current,(function(t){e.current===r&&S(u(t,!0))}));f.current.observe()}return function(){f.current&&f.current.unobserve()}}),[e.current,t].concat(function(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||i(e)||function(){
throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(r)));return c};t.isSameSize=s;var n,a=r(667294),o=(n=r(751826))&&n.__esModule?n:{default:n};function i(e,t){if(e){if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);return"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u(e,t){return{width:e.width,height:e.height,observed:t}}function s(e,t){return e.width===t.width&&e.height===t.height}},793786:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});t.CountryCodesSets=t.CountryCodes=void 0;var r;t.CountryCodes=r;!function(e){e.AC="AC";e.AD="AD";e.AE="AE";e.AF="AF";e.AG="AG";e.AI="AI";e.AL="AL";e.AM="AM"
;e.AN="AN";e.AO="AO";e.AR="AR";e.AS="AS";e.AT="AT";e.AU="AU";e.AW="AW";e.AX="AX";e.AZ="AZ";e.BA="BA";e.BB="BB";e.BD="BD";e.BE="BE";e.BF="BF";e.BG="BG";e.BH="BH";e.BI="BI";e.BJ="BJ";e.BM="BM";e.BN="BN";e.BO="BO";e.BR="BR";e.BS="BS";e.BT="BT";e.BW="BW";e.BY="BY";e.BZ="BZ";e.CA="CA";e.CC="CC";e.CD="CD";e.CF="CF";e.CG="CG";e.CH="CH";e.CI="CI";e.CK="CK";e.CL="CL";e.CM="CM";e.CN="CN";e.CO="CO";e.CR="CR";e.CU="CU";e.CV="CV";e.CW="CW";e.CX="CX";e.CY="CY";e.CZ="CZ";e.DE="DE";e.DG="DG";e.DJ="DJ";e.DK="DK";e.DM="DM";e.DO="DO";e.DZ="DZ";e.EC="EC";e.EE="EE";e.EG="EG";e.EL="EL";e.ER="ER";e.ES="ES";e.ET="ET";e.FI="FI";e.FJ="FJ";e.FK="FK";e.FM="FM";e.FO="FO";e.FR="FR";e.GA="GA";e.GB="GB";e.GD="GD";e.GE="GE";e.GF="GF";e.GG="GG";e.GH="GH";e.GI="GI";e.GL="GL";e.GM="GM";e.GN="GN";e.GP="GP";e.GQ="GQ";e.GR="GR";e.GS="GS";e.GT="GT";e.GU="GU";e.GW="GW";e.GY="GY";e.HK="HK";e.HM="HM";e.HN="HN";e.HR="HR";e.HT="HT";e.HU="HU";e.IC="IC";e.ID="ID";e.IE="IE";e.IL="IL";e.IM="IM";e.IN="IN";e.IO="IO";e.IQ="IQ";e.IR="IR"
;e.IS="IS";e.IT="IT";e.JE="JE";e.JM="JM";e.JO="JO";e.JP="JP";e.KE="KE";e.KG="KG";e.KH="KH";e.KI="KI";e.KM="KM";e.KN="KN";e.KP="KP";e.KR="KR";e.KW="KW";e.KY="KY";e.KZ="KZ";e.LA="LA";e.LB="LB";e.LI="LI";e.LK="LK";e.LR="LR";e.LS="LS";e.LT="LT";e.LU="LU";e.LV="LV";e.LY="LY";e.MA="MA";e.MC="MC";e.MD="MD";e.ME="ME";e.MG="MG";e.MH="MH";e.MI="MI";e.MK="MK";e.ML="ML";e.MM="MM";e.MN="MN";e.MO="MO";e.MP="MP";e.MQ="MQ";e.MR="MR";e.MS="MS";e.MT="MT";e.MU="MU";e.MV="MV";e.MW="MW";e.MX="MX";e.MY="MY";e.MZ="MZ";e.NA="NA";e.NC="NC";e.NE="NE";e.NF="NF";e.NG="NG";e.NI="NI";e.NL="NL";e.NO="NO";e.NP="NP";e.NR="NR";e.NU="NU";e.NZ="NZ";e.OM="OM";e.PA="PA";e.PE="PE";e.PF="PF";e.PG="PG";e.PH="PH";e.PK="PK";e.PL="PL";e.PM="PM";e.PR="PR";e.PS="PS";e.PT="PT";e.PW="PW";e.PY="PY";e.QA="QA";e.RE="RE";e.RO="RO";e.RS="RS";e.RU="RU";e.RW="RW";e.SA="SA";e.SB="SB";e.SC="SC";e.SD="SD";e.SE="SE";e.SG="SG";e.SI="SI";e.SJ="SJ";e.SK="SK";e.SL="SL";e.SM="SM";e.SN="SN";e.SO="SO";e.SR="SR";e.SS="SS";e.SV="SV";e.SX="SX";e.SY="SY"
;e.SZ="SZ";e.TC="TC";e.TD="TD";e.TG="TG";e.TH="TH";e.TJ="TJ";e.TK="TK";e.TL="TL";e.TM="TM";e.TN="TN";e.TO="TO";e.TP="TP";e.TR="TR";e.TT="TT";e.TV="TV";e.TW="TW";e.TZ="TZ";e.UA="UA";e.UG="UG";e.UK="UK";e.US="US";e.UY="UY";e.UZ="UZ";e.VA="VA";e.VE="VE";e.VG="VG";e.VI="VI";e.VN="VN";e.VU="VU";e.WF="WF";e.WK="WK";e.WS="WS";e.XK="XK";e.YE="YE";e.YT="YT";e.ZA="ZA";e.ZM="ZM";e.ZW="ZW";e.ST="ST";e.BQ="BQ";e.TF="TF"}(r||(t.CountryCodes=r={}));var n={VAT_EU_COUNTRIES:new Set(["AT","BE","BG","CY","CZ","DE","DK","EE","EL","ES","FI","FR","GR","HR","HU","IE","IT","LT","LU","LV","MT","NL","PL","PT","RO","SE","SI","SK"]),EU_COUNTRIES:new Set(["AD","AL","AT","AX","BA","BE","BG","BY","CH","CY","CZ","DE","DK","EE","EL","ES","FI","FO","FR","GG","GR","HR","HU","IC","IE","IM","IT","JE","LI","LT","LU","LV","MC","MD","MK","MT","NL","NO","PL","PT","RO","RU","SE","SI","SJ","SK","SM","UA","VA"]),
EEA_COUNTRIES:new Set(["AT","BE","BG","CY","CZ","DE","DK","EE","EL","ES","FI","FR","GR","HR","HU","IE","IS","IT","LI","LT","LU","LV","MT","NL","NO","PL","PT","RO","SE","SI","SK"])};t.CountryCodesSets=n}}]);
//# sourceMappingURL=2cd22f9e894c483c91ba.js.map