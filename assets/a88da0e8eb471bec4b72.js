(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[57521],{577660:(e,t,n)=>{e.exports=n.p+"5e7d050aa74c846659708b2d59c72a05.svg"},657539:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(785893),i=n(667294),o=n(945460),u=n(908741);function a(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function c(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(i[n]=e[n])}return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}}return i}function l(e,t,n,r){return e.getAvatarURL(r,t,n)}const s=i.memo((function(e){
var t=e.user,n=e.size,s=void 0===n?o.AvatarSizes.SIZE_32:n,f=e.animate,d=void 0!==f&&f,p=e["aria-hidden"],y=void 0!==p&&p,h=c(e,["user","size","animate","aria-hidden"]),b=i.useContext(u.Z);return(0,r.jsx)(o.Avatar,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){a(e,t,n[t])}))}return e}({src:l(t,(0,o.getAvatarSize)(s),d,b),size:s,"aria-label":y?void 0:t.username,"aria-hidden":y},h))}))},898302:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(667294),i=n(989824),o=n(513328);function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],u=!0,a=!1;try{for(n=n.call(e);!(u=(r=n.next()).done);u=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){a=!0;i=e}finally{try{u||null==n.return||n.return()}finally{if(a)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){var n=a((0,r.useState)(e),2),u=n[0],c=n[1],l=(0,i.Z)((function(){return new o.V7}));(0,r.useEffect)((function(){return function(){return l.stop()}}),[l]);return[u,(0,r.useCallback)((function(n){
c(n);n!==e&&l.start(t,(function(){return c(e)}))}),[t,e,l])]}},79522:(e,t,n)=>{"use strict";n.d(t,{TT:()=>u,AN:()=>a,LK:()=>c});var r=n(940060),i=n(227202),o=n(2590),u=o.Plq.VIEW_CHANNEL,a=r.Z.combine(u,o.Plq.CONNECT),c=r.Z.combine(u,i.yP)},700183:(e,t,n)=>{"use strict";n.d(t,{n5:()=>E,h4:()=>C,sG:()=>P,Ww:()=>_,q5:()=>w});var r=n(667294),i=n(940060),o=n(202351),u=n(327499),a=n(848285),c=n(27851),l=n(682776),s=n(473903),f=n(795552),d=(0,n(260561).B)({kind:"guild",id:"2023-05_ugc_notifications",label:"Notifications for UGC changes",defaultConfig:{showUGCNotifications:!1},treatments:[{id:1,label:"Show Notifications",config:{showUGCNotifications:!0}}]}),p=n(2590),y=n(79522),h=n(520453);function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],u=!0,a=!1
;try{for(n=n.call(e);!(u=(r=n.next()).done);u=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){a=!0;i=e}finally{try{u||null==n.return||n.return()}finally{if(a)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var m=i.Z.combine(h.Pl.CREATE_GUILD_EXPRESSIONS,h.Pl.CREATE_EVENTS),g={canCreateExpressions:!1,canCreateGuildEvent:!1,canManageAllExpressions:!1,canManageAllEvents:!1,canManageGuildExpression:function(){return!1},canManageGuildEvent:function(){return!1}},E=new Date(2023,5,30),S=function(e){
return null==e?"":e instanceof a.Z?e.id:e.guild_id},O=function(e,t,n,r,i){if(null==e)return!1;if(n)return!0;if(i){if("creator_id"in e)return r&&null!=t&&e.creator_id===t.id;if("userId"in e)return r&&null!=t&&e.userId===t.id;if("user"in e){var o;return r&&null!=t&&(null===(o=e.user)||void 0===o?void 0:o.id)===t.id}}return!1},I=function(e){if(null==e)return[h.Pl.CREATE_EVENTS,h.Pl.MANAGE_EVENTS];var t=y.TT;e.isGuildStageVoice()?t=y.LK:e.isGuildVoice()&&(t=y.AN);return[i.Z.combine(t,h.Pl.CREATE_EVENTS),i.Z.combine(t,h.Pl.MANAGE_EVENTS)]},w=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=v(e instanceof a.Z?[h.Pl.CREATE_EVENTS,h.Pl.MANAGE_EVENTS]:I(e),2),i=n[0],u=n[1],c=S(e),d=f.B.useExperiment({guildId:c},{autoTrackExposure:t}).isUsingV2Permission,p=v((0,o.Wu)([l.Z],(function(){return[l.Z.can(h.Pl.CREATE_GUILD_EXPRESSIONS,e),l.Z.can(h.Pl.MANAGE_GUILD_EXPRESSIONS,e),l.Z.can(i,e),l.Z.can(u,e)]})),4),y=p[0],b=p[1],m=p[2],E=p[3],w=(0,
o.e7)([s.default],(function(){return s.default.getCurrentUser()})),C=r.useCallback((function(e){return O(e,w,b,y,d)}),[y,b,w,d]),P=r.useCallback((function(e){return O(e,w,E,m,d)}),[E,m,w,d]);return null==e?g:{canCreateExpressions:d?y:b,canCreateGuildEvent:d?m:E,canManageAllExpressions:b,canManageAllEvents:E,canManageGuildExpression:C,canManageGuildEvent:P}},C=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=v(e instanceof a.Z?[h.Pl.CREATE_EVENTS,h.Pl.MANAGE_EVENTS]:I(e),2),r=n[0],i=n[1],o=S(e),u=f.B.getCurrentConfig({guildId:o},{autoTrackExposure:t}).isUsingV2Permission,c=l.Z.can(h.Pl.CREATE_GUILD_EXPRESSIONS,e),d=l.Z.can(h.Pl.MANAGE_GUILD_EXPRESSIONS,e),p=l.Z.can(r,e),y=l.Z.can(i,e),b=s.default.getCurrentUser();return null==e?g:{canCreateExpressions:u?c:d,canCreateGuildEvent:u?p:y,canManageAllExpressions:d,canManageAllEvents:y,canManageGuildExpression:function(e){return O(e,b,d,c,u)},canManageGuildEvent:function(e){return O(e,b,y,p,u)}}},P=function(e){
var t=e.roles[e.id],n=i.Z.remove(t.permissions,m);return u.Z.updateRolePermissions(e.id,e.id,n)},_=function(e){var t,n=(0,o.e7)([l.Z],(function(){return l.Z.can(h.Pl.MANAGE_ROLES,e)})),r=(0,o.e7)([c.Z],(function(){return c.Z.getMemberCount(null==e?void 0:e.id)})),i=n&&null!=e&&!e.hasFeature(p.oNc.COMMUNITY)&&null!=r&&r<50,u=d.useExperiment({guildId:null!==(t=null==e?void 0:e.id)&&void 0!==t?t:""},{autoTrackExposure:i}).showUGCNotifications;return i&&u}},770050:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(785893),i=(n(667294),n(202351)),o=n(316878),u=n(776009),a=n(69427);function c(e){var t,c=e.giftStyle,l=e.className,s=e.shouldAnimate,f=void 0===s||s,d=(0,i.e7)([o.Z],(function(){return o.Z.useReducedMotion}));if(null==c)return null;switch(c){case a.Cj.SNOWGLOBE:t=function(){return n.e(529).then(n.t.bind(n,400529,19)).then((function(e){return e.default}))};break;case a.Cj.BOX:t=function(){return n.e(12773).then(n.t.bind(n,512773,19)).then((function(e){return e.default}))};break
;case a.Cj.CUP:t=function(){return n.e(45684).then(n.t.bind(n,45684,19)).then((function(e){return e.default}))};break;default:throw new Error("Unexpected giftStyle ".concat(c))}return(0,r.jsx)(u.Z,{importData:t,shouldAnimate:!d&&f,className:l})}},840598:(e,t,n)=>{"use strict";n.d(t,{FQ:()=>P,$p:()=>_,Il:()=>k,pk:()=>j,Um:()=>x,lY:()=>A,Jf:()=>R,eu:()=>T,qB:()=>Z,SA:()=>M,hW:()=>U});var r=n(496486),i=n.n(r),o=n(281110),u=n(744564),a=n(105783),c=n(652555),l=n(384411),s=n(917019),f=n(722406),d=n(837067),p=n(473903),y=n(534681),h=n(78551),b=n(2590),v=n(131559),m=n(473708);function g(e,t,n,r,i,o,u){try{var a=e[o](u),c=a.value}catch(e){n(e);return}a.done?t(c):Promise.resolve(c).then(r,i)}function E(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function u(e){g(o,r,i,u,a,"next",e)}function a(e){g(o,r,i,u,a,"throw",e)}u(void 0)}))}}function S(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n
;return e}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){S(e,t,n[t])}))}return e}function I(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var w,C=function(e,t){var n,r,i,o,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},
"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;(r=0,i)&&(o=[2&o[0],i.value]);switch(o[0]){case 0:case 1:i=o;break;case 4:u.label++;return{value:o[1],done:!1};case 5:u.label++;r=o[1];o=[0];continue;case 7:o=u.ops.pop();u.trys.pop();continue;default:if(!(i=u.trys,i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){u=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){u.label=o[1];break}if(6===o[0]&&u.label<i[1]){u.label=i[1];i=o;break}if(i&&u.label<i[2]){u.label=i[2];u.ops.push(o);break}i[2]&&u.ops.pop();u.trys.pop();continue}o=t.call(e,u)}catch(e){o=[6,e];r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},P=(w=E((function(e,t){var n,r;return C(this,(function(i){switch(i.label){case 0:
return[4,(0,y.Kb)(b.ANM.STICKER_PACK(e))];case 1:n=i.sent(),r=n.body;u.Z.dispatch({type:"STICKER_PACK_FETCH_SUCCESS",packId:e,pack:r,ingestStickers:t});return[2,r]}}))})),function(e,t){return w.apply(this,arguments)}),_=function(){var e=E((function(){var e,t,n,r,i,o,a=arguments;return C(this,(function(c){switch(c.label){case 0:e=a.length>0&&void 0!==a[0]?a[0]:{},t=e.locale,n=void 0===t?l.default.locale:t;if(h.Z.isFetchingStickerPacks||h.Z.hasLoadedStickerPacks)return[2];u.Z.wait((function(){u.Z.dispatch({type:"STICKER_PACKS_FETCH_START"})}));return[4,(0,y.Kb)({url:b.ANM.STICKER_PACKS,query:{locale:n}})];case 1:r=c.sent(),i=r.body,o=i.sticker_packs;u.Z.dispatch({type:"STICKER_PACKS_FETCH_SUCCESS",packs:o});return[2]}}))}));return function(){return e.apply(this,arguments)}}(),k=function(){var e=E((function(e){var t,n;return C(this,(function(r){switch(r.label){case 0:return[4,o.Z.get({url:b.ANM.STICKER(e)})];case 1:t=r.sent(),n=t.body;u.Z.dispatch({type:"STICKER_FETCH_SUCCESS",sticker:n})
;return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=E((function(e){var t,n;return C(this,(function(r){switch(r.label){case 0:return[4,o.Z.get({url:b.ANM.GUILD_STICKER_PACKS(e)})];case 1:t=r.sent(),n=t.body;u.Z.dispatch({type:"GUILD_STICKERS_FETCH_SUCCESS",guildId:e,stickers:n.map((function(e){return null!=e.user?I(O({},e),{user:new f.Z(e.user)}):e}))});return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=E((function(e){return C(this,(function(t){switch(t.label){case 0:return[4,o.Z.delete({url:b.ANM.GUILD_STICKER(e.guild_id,e.id)})];case 1:t.sent();return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=E((function(e,t){var n;return C(this,(function(r){switch(r.label){case 0:return[4,o.Z.post({url:b.ANM.GUILD_STICKER_PACKS(e),body:t})];case 1:n=r.sent();u.Z.dispatch({type:"GUILD_STICKERS_CREATE_SUCCESS",guildId:e,sticker:I(O({},n.body),{user:p.default.getCurrentUser()})})
;return[2,n.body]}}))}));return function(t,n){return e.apply(this,arguments)}}(),R=function(){var e=E((function(e,t,n){return C(this,(function(r){switch(r.label){case 0:return[4,o.Z.patch({url:b.ANM.GUILD_STICKER(e,t),body:n})];case 1:return[2,r.sent().body]}}))}));return function(t,n,r){return e.apply(this,arguments)}}();function T(e,t,n){u.Z.dispatch({type:"ADD_STICKER_PREVIEW",channelId:e,sticker:t,draftType:n})}function Z(e,t){u.Z.dispatch({type:"CLEAR_STICKER_PREVIEW",channelId:e,draftType:t})}function N(e){return d.Z.totalUnavailableGuilds>0?e:c.Z.isConnected()?e.filter((function(e){return null!=h.Z.getStickerById(e)})):e}function M(e){s.DZ.updateAsync("favoriteStickers",(function(t){if(i().size(t.stickerIds)>=v.oX){a.Z.show({title:m.Z.Messages.FAVORITES_LIMIT_REACHED_TITLE,body:m.Z.Messages.FAVORITES_LIMIT_REACHED_BODY.format({count:v.oX})});return!1}if(t.stickerIds.includes(e))return!1;t.stickerIds.push(e);t.stickerIds=N(t.stickerIds)}),v.fy.INFREQUENT_USER_ACTION)}
function U(e){s.DZ.updateAsync("favoriteStickers",(function(t){t.stickerIds=t.stickerIds.filter((function(t){return t!==e}));t.stickerIds=N(t.stickerIds)}),v.fy.INFREQUENT_USER_ACTION)}},217544:(e,t,n)=>{"use strict";n.d(t,{Pq:()=>A,t$:()=>R,el:()=>T,fQ:()=>Z,fP:()=>N,Go:()=>U,RJ:()=>D,LZ:()=>L,XW:()=>F,Sd:()=>W});var r=n(667294),i=n(202351),o=n(700183),u=n(968449),a=n(245233),c=n(567403),l=n(464187),s=n(107218),f=n(473903),d=n(930865),p=n(563135),y=n(850841),h=n(842715),b=n(748755),v=n(840598),m=n(166232),g=n(78551),E=n(514351),S=n(513586),O=n(2590),I=n(473708);function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e,t,n,r,i,o,u){try{var a=e[o](u),c=a.value}catch(e){n(e);return}a.done?t(c):Promise.resolve(c).then(r,i)}function P(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function u(e){C(o,r,i,u,a,"next",e)}function a(e){C(o,r,i,u,a,"throw",e)}u(void 0)}))}}
function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],u=!0,a=!1;try{for(n=n.call(e);!(u=(r=n.next()).done);u=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){a=!0;i=e}finally{try{u||null==n.return||n.return()}finally{if(a)throw i}}return o}}(e,t)||j(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e){return function(e){if(Array.isArray(e))return w(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||j(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){if(e){if("string"==typeof e)return w(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0}}var x=function(e,t){var n,r,i,o,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;(r=0,i)&&(o=[2&o[0],i.value]);switch(o[0]){case 0:case 1:i=o;break;case 4:u.label++;return{value:o[1],done:!1};case 5:u.label++;r=o[1];o=[0];continue;case 7:o=u.ops.pop();u.trys.pop();continue;default:if(!(i=u.trys,i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){u=0;continue}
if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){u.label=o[1];break}if(6===o[0]&&u.label<i[1]){u.label=i[1];i=o;break}if(i&&u.label<i[2]){u.label=i[2];u.ops.push(o);break}i[2]&&u.ops.pop();u.trys.pop();continue}o=t.call(e,u)}catch(e){o=[6,e];r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},A=function(e){N();var t=(0,i.e7)([g.Z],(function(){return g.Z.hasLoadedStickerPacks}));r.useEffect((function(){t&&null==g.Z.getStickerPack(e)&&(0,v.FQ)(e)}),[e,t])},R=function(e){var t=u.Wp.useSetting();return(0,S.WD)(t,e)},T=function(e){var t=e.collapsedStickersCategories,n=e.filteredStickers,i=e.listPaddingRight,u=void 0===i?0:i,a=e.listWidth,s=void 0===a?0:a,f=e.stickerNodeMargin,p=void 0===f?0:f,y=e.stickerNodeWidth,h=e.stickersCategories;return r.useMemo((function(){var e=Math.floor((s-u+p)/(y+p)),r=Math.floor(Math.max(p,(s-u-y*e)/(e-1))),i=[],a=[],f=[],b=0,v=0,m=0;if(0!==s){var g=function(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=(0,
S.J8)(t[0])?c.Z.getGuild(t[0].guild_id):void 0,s=(0,o.h4)(u).canCreateExpressions,p=l.Z.getGuildId(),y=h.findIndex((function(e){return e.type===E.Ih.FAVORITE})),g=h.findIndex((function(e){return e.type===E.Ih.RECENT})),O=t.length;null!=u&&p===u.id&&s&&t.length<(0,d.A3)(u.premiumTier)&&O++;var w=Math.ceil(O/e);a[v]=r?0:w;for(var C=0;C<w;C++){var P=C*e,_=P+e,k=t.slice(P,_).map((function(e,t){return{type:E.al.STICKER,sticker:e,packId:(0,S.jl)(e)?e.pack_id:"TODO - fix",gridSectionIndex:v,rowIndex:b,columnIndex:t,visibleRowIndex:m,category:n}}));v>g&&v>y&&null!=u&&O>t.length&&k.push({type:E.al.CREATE_STICKER,guild_id:u.id,name:I.Z.Messages.STICKER_PICKER_CREATE_STICKER_TITLE,gridSectionIndex:v,rowIndex:b,columnIndex:k.length,visibleRowIndex:m});if(!r){m++;f.push(k);i.push(k.length)}b++}v++};if(null==n){var O=!0,w=!1,C=void 0;try{for(var P,_=h[Symbol.iterator]();!(O=(P=_.next()).done);O=!0){var k=P.value;if(k.stickers.length>0){b++;g(k.stickers,k.type,!0===(null==t?void 0:t.has(k.id)))
}else if(k.type===E.Ih.EMPTY_GUILD_UPSELL){a[v]=0;v++}}}catch(e){w=!0;C=e}finally{try{O||null==_.return||_.return()}finally{if(w)throw C}}}else{n.sendable.length>0&&g(n.sendable,E.Ih.SEARCH_RESULTS);n.sendableWithPremium.length>0&&g(n.sendableWithPremium,E.Ih.SEARCH_RESULTS)}}return{rowCount:b,rowCountBySection:a,stickersGrid:f,gutterWidth:r,columnCounts:i}}),[t,n,u,s,p,y,h])},Z=function(e){var t=(0,i.e7)([f.default],(function(){return f.default.getCurrentUser()}));return(0,i.e7)([g.Z],(function(){var n=g.Z.getAllStickersIterator(),r=!0,i=!1,o=void 0;try{for(var u,a=n[Symbol.iterator]();!(r=(u=a.next()).done);r=!0){var c=u.value;if((0,b.kl)(c,t,e))return!0}}catch(e){i=!0;o=e}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return!1}),[t,e])},N=function(){r.useEffect((function(){(0,v.$p)()}),[])},M=[];function U(){var e,t;return null!==(t=null===(e=(0,a.D)().favoriteStickers)||void 0===e?void 0:e.stickerIds)&&void 0!==t?t:M}function D(){var e=U();return(0,
i.Wu)([g.Z],(function(){return e.map((function(e){return g.Z.getStickerById(e)})).filter((function(e){return void 0!==e}))}),[e])}function L(){var e=function(){var e,t=(0,a.D)(),n=M;if(null!=(null==t||null===(e=t.stickerFrecency)||void 0===e?void 0:e.stickers)){var r;n=Object.keys(null==t||null===(r=t.stickerFrecency)||void 0===r?void 0:r.stickers)}return n}();return(0,i.Wu)([g.Z],(function(){return e.map((function(e){return g.Z.getStickerById(e)})).filter((function(e){return void 0!==e}))}),[e])}var G=function(e){var t=D(),n=U(),u=(0,i.cj)([g.Z,m.Z],(function(){return{packs:g.Z.getPremiumPacks(),frequentlyUsedStickers:m.Z.stickerFrecencyWithoutFetchingLatest.frequently}}),[n]),a=u.packs,l=u.frequentlyUsedStickers,d=(0,i.e7)([f.default],(function(){return f.default.getCurrentUser()})),v=y.ZP.canUseStickersEverywhere(d),w=h.Z.useExperiment({},{autoTrackExposure:!1}).freeStickersEnabled,C=function(e){var t=(0,i.e7)([g.Z],(function(){return g.Z.getAllGuildStickers()})),n=(0,
i.Wu)([s.Z,c.Z],(function(){var e=s.Z.getFlattenedGuildIds(),t=[];e.forEach((function(e){var n=c.Z.getGuild(e);null!=n&&t.push(n)}));return t})),u=(0,i.e7)([f.default],(function(){return f.default.getCurrentUser()}));return r.useMemo((function(){var r=[],i=!0,a=!1,l=void 0;try{for(var s,f=n[Symbol.iterator]();!(i=(s=f.next()).done);i=!0){var d=s.value,y=d.name,h=d.id,b=t.get(h);null!=b&&0!==b.length&&r.push({type:E.Ih.GUILD,id:h,name:y,stickers:b})}}catch(e){a=!0;l=e}finally{try{i||null==f.return||f.return()}finally{if(a)throw l}}if(null!=(null==e?void 0:e.getGuildId())){var v=c.Z.getGuild(e.getGuildId()),m=(0,o.h4)(v).canManageAllExpressions,g=r.findIndex((function(t){return t.id===e.getGuildId()}));g>=1?r.unshift(r.splice(g,1)[0]):-1===g&&null!=v&&m&&r.unshift({type:E.Ih.EMPTY_GUILD_UPSELL,id:v.id,name:v.name,stickers:[]});null==u||p.ZP.can({permission:O.Plq.USE_EXTERNAL_EMOJIS,user:u,context:e})||(r=r.filter((function(t){return t.id===e.getGuildId()})))}return r}),[t,n,u,e])}(e)
;return r.useMemo((function(){var n,r=a.map(S.z);return[{type:E.Ih.FAVORITE,id:E.Ih.FAVORITE,name:I.Z.Messages.CATEGORY_FAVORITE,stickers:t},{type:E.Ih.RECENT,id:E.Ih.RECENT,name:I.Z.Messages.STICKER_CATEGORY_RECENT,stickers:null!==(n=null==l?void 0:l.filter((function(t){if((0,S.J8)(t)){var n,r;return null!==(r=null===(n=g.Z.getStickersByGuildId(t.guild_id))||void 0===n?void 0:n.some((function(e){return e.id===t.id})))&&void 0!==r&&r&&(0,b.cO)(t,d,e)!==b.eb.NONSENDABLE}if((0,S.jl)(t))return a.some((function(e){return e.id===t.pack_id}))})))&&void 0!==n?n:[]}].concat(k(C),k(v||w||C.length>0?r:[]))}),[a,t,l,C,v,d,e,w])},F=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,i.e7)([g.Z],(function(){return g.Z.getStickerById(e.id)})),o=_(r.useState(!0),2),u=o[0],a=o[1],c=_(r.useState(!1),2),l=c[0],s=c[1],f=(0,S.J8)(e)||(0,S.jl)(e);r.useEffect((function(){var r,i=(r=P((function(){return x(this,(function(r){switch(r.label){case 0:if(!t||f||null!=n||!u||l)return[3,5]
;a(!1);r.label=1;case 1:r.trys.push([1,3,,4]);return[4,(0,v.Il)(e.id)];case 2:case 3:r.sent();return[3,4];case 4:s(!0);r.label=5;case 5:return[2]}}))})),function(){return r.apply(this,arguments)});i()}),[t]);return f?[e,l]:[null!=n?n:null,l]},W=function(e){var t=G(e);return r.useMemo((function(){return t.filter((function(e){return e.type===E.Ih.EMPTY_GUILD_UPSELL||e.stickers.length>0}),[])}),[t])}},600277:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>K,Co:()=>U});var r=n(785893),i=n(667294),o=n(294184),u=n.n(o),a=n(441143),c=n.n(a),l=n(248088),s=n(202351),f=n(935576),d=n(945460),p=n(316878),y=n(874049),h=n(633878);function b(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function v(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function m(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(i[n]=e[n])}return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}}return i}function g(e){var t=e.width,n=void 0===t?20:t,i=e.height,o=void 0===i?20:i,u=e.color,a=void 0===u?"currentColor":u,c=m(e,["width","height","color"]);return(0,r.jsx)("svg",v(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){b(e,t,n[t])}))}return e}({width:n,height:o},(0,h.Z)(c)),{viewBox:"0 0 20 20",children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 .663v4.739A2.594 2.594 0 0014.6 8h4.74a.656.656 0 00.466-1.12L13.121.196A.654.654 0 0012 .663zm2.576 9.365A4.608 4.608 0 019.97 5.422V.058H1.994A2 2 0 000 2.052v15.952a2 2 0 001.994 1.994h15.952a2 2 0 001.994-1.994v-7.976h-5.364zM8 15.553a2 2 0 113.999 0h1.333a3.333 3.333 0 10-6.666 0h1.334zM2.716 13.5L2 12.784 2.784 12l.716.716.716-.716.784.784-.716.716.716.716-.784.784-.716-.716-.716.716L2 14.216l.716-.716zM15 12.784l.716.716-.716.716.784.784.716-.716.716.716.784-.784-.716-.716.716-.716-.784-.784-.716.716-.716-.716-.784.784z",fill:a})}))}var E=n(329543),S=n(771333),O=n(217544),I=n(514351),w=n(513586),C=n(473708),P=n(58860),_=n.n(P);function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}
function j(e,t,n,r,i,o,u){try{var a=e[o](u),c=a.value}catch(e){n(e);return}a.done?t(c):Promise.resolve(c).then(r,i)}function x(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],u=!0,a=!1;try{for(n=n.call(e);!(u=(r=n.next()).done);u=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){a=!0;i=e}finally{try{u||null==n.return||n.return()}finally{if(a)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var R=function(e,t){var n,r,i,o,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;(r=0,i)&&(o=[2&o[0],i.value]);switch(o[0]){case 0:case 1:i=o;break;case 4:u.label++;return{value:o[1],done:!1};case 5:u.label++;r=o[1];o=[0];continue;case 7:o=u.ops.pop();u.trys.pop();continue;default:if(!(i=u.trys,i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){u=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){u.label=o[1];break}if(6===o[0]&&u.label<i[1]){
u.label=i[1];i=o;break}if(i&&u.label<i[2]){u.label=i[2];u.ops.push(o);break}i[2]&&u.ops.pop();u.trys.pop();continue}o=t.call(e,u)}catch(e){o=[6,e];r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},T=function(e){return e.preventDefault()},Z={tension:1100,friction:40},N={tension:1600,friction:60};function M(e,t){return i.cloneElement(e,{"data-type":"sticker","data-id":t})}function U(e){var t="description"in e&&null!=e.description?"".concat(e.name,", ").concat(e.description):e.name;return C.Z.Messages.STICKER_A11Y_LABEL.format({stickerName:t})}var D=function(e){var t=e.children,n=e.hasError,i=e.isLoading,o=e.maskAsset,a=e.size,c=e.withLoadingIndicator,l=void 0===c||c,s=a>=33;return(0,r.jsxs)("div",{className:u()(_().assetWrapper,x({},_().assetWrapperMasked,n||o)),style:{height:a,width:a},children:[n?(0,r.jsxs)("div",{className:_().error,children:[(0,r.jsx)(g,{className:_().errorIcon}),s&&(0,r.jsx)(d.Text,{className:_().errorText,
color:"header-secondary",variant:"text-sm/normal",children:C.Z.Messages.STICKER_ASSET_LOAD_ERROR})]}):t,l&&i&&(0,r.jsx)("div",{className:_().loadingIndicator})]})},L=function(e){var t=e.shouldAnimate,o=e.size,u=e.sticker,a=e.fileUri,l=e.assetData,s=e.isFocused,f=e.className,d=e.maskAsset,p=e.positionRef,h=e.withLoadingIndicator,b=e.onError,v=i.useRef(null),m=i.useRef(null),g=A(i.useState(!0),2),E=g[0],S=g[1],O=A(i.useState(!1),2),I=O[0],P=O[1],k=i.useRef(!1);k.current=t&&s;var x=null==a?(0,w.Q6)(u):a;c()(null!=x,"Unable to determine sticker asset URL. Sticker ID: ".concat(u.id));i.useEffect((function(){if(null!=v.current&&null!=x){var e=Math.min(2,(0,y.x_)());v.current.width=o*e;v.current.height=o*e;var t,r,i=!1,a=(r=(t=function(){var e,t;return R(this,(function(r){switch(r.label){case 0:return[4,n.e(20554).then(n.bind(n,20554))];case 1:e=r.sent(),t=e.default;if(null==v.current)return[2];m.current=new t({canvas:v.current,animationId:u.id,assetUrl:x,assetData:l,onInitialDraw:function(){
i||S(!1)},onError:function(){if(!i){S(!1);P(!0);null==b||b()}}});k.current&&m.current.setState(!0);return[2]}}))},function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function u(e){j(o,r,i,u,a,"next",e)}function a(e){j(o,r,i,u,a,"throw",e)}u(void 0)}))}),function(){return r.apply(this,arguments)});a();return function(){var e;null===(e=m.current)||void 0===e||e.drop();m.current=null;i=!0}}}),[x,o,u.id,l,b]);i.useEffect((function(){var e,n;t||(n=0);null===(e=m.current)||void 0===e||e.setState(t&&s,n)}),[u,t,s]);return null==x?null:(0,r.jsx)("div",{role:"img",className:f,"aria-label":I?C.Z.Messages.ERROR_LOADING_STICKER:U(u),ref:p,children:(0,r.jsx)(D,{hasError:I,isLoading:E,maskAsset:d,size:o,withLoadingIndicator:h,children:M((0,r.jsx)("canvas",{className:_().lottieCanvas,ref:v}),u.id)})})},G=function(e){
var t=e.shouldAnimate,n=e.sticker,o=e.isFocused,a=e.size,c=e.className,l=e.maskAsset,s=e.positionRef,d=e.withLoadingIndicator,p=e.fileUri,y=A(i.useState(!1),2),h=y[0],b=y[1],v=A(i.useState(!0),2),m=v[0],g=v[1],E=A(i.useState(!1),2),S=E[0],O=E[1],I=i.useRef(null),C=i.useRef(null),P=null!=p?p:(0,w.Q6)(n,{isPreview:!t||!h||!o,size:a}),k=i.useCallback((function(){g(!1)}),[]),j=i.useCallback((function(){O(!0)}),[]);i.useEffect((function(){if(null!=I.current){var e=I.current.isVisible;b(e)}}),[]);i.useLayoutEffect((function(){var e;!0===(null===(e=C.current)||void 0===e?void 0:e.complete)&&g(!1)}),[]);return null==P?null:(0,r.jsx)(f.$,{ref:I,onChange:b,threshold:.7,children:(0,r.jsx)("div",{className:u()(c,_().pngImageWrapper),ref:s,children:(0,r.jsx)(D,{hasError:S,isLoading:m,maskAsset:l,size:a,withLoadingIndicator:d,children:M((0,r.jsx)("img",{className:_().pngImage,alt:U(n),src:P,draggable:!1,onError:j,onLoad:k,onContextMenu:T,ref:C}),n.id)})})})},F=function(e){
var t=e.disableAnimation,n=e.enlargeScaleFactor,o=e.enlargeWithName,u=e.isInteracting,a=e.positionRef,c=e.size,f=e.sticker,y=(0,s.e7)([p.Z],(function(){return p.Z.useReducedMotion})),h=i.useRef(null),b={transform:"scale(".concat(y?1:1/n,")"),opacity:0},v=(0,l.useTransition)(u,{ref:h,from:b,enter:{transform:"scale(1)",opacity:1},leave:b,config:Z}),m=i.useRef(null),g=(0,l.useSpring)({ref:m,transform:u||y?"translateY(0)":"translateY(-25px)",opacity:u?1:0,config:N});(0,l.useChain)(u?[h,m]:[m,h],u?[0,.0625]:[0,0]);return v((function(e,i){return i&&(0,r.jsx)(E.W5,{className:_().positionedLayer,fixed:!0,align:"center",position:"center",reference:a,children:function(){return(0,r.jsxs)("div",{className:_().overlayWrapper,children:[(0,r.jsx)(l.animated.div,{className:_().overlayStickerWrapper,style:e,children:(0,r.jsx)(W,{className:_().overlaySticker,disableAnimation:t,enlargeOnInteraction:!1,isInteracting:u,maskAsset:!1,sticker:f,size:Math.round(c*n),withLoadingIndicator:!1})}),o&&(0,
r.jsx)(l.animated.div,{className:_().overlayLabelWrapper,style:g,children:(0,r.jsx)(d.Text,{variant:"text-sm/medium",className:_().overlayLabel,children:f.name})})]})}})}))},W=function(e){var t=e.isInteracting,n=void 0!==t&&t,o=e.disableAnimation,u=void 0!==o&&o,a=e.enlargeOnInteraction,c=void 0!==a&&a,l=e.enlargeWithName,s=void 0===l||l,f=e.enlargeScaleFactor,d=void 0===f?1.55:f,p=e.maskAsset,y=void 0!==p&&p,h=e.size,b=e.sticker,v=e.className,m=e.withLoadingIndicator,g=e.assetData,E=e.fileUri,w=e.onError,C=(0,S.n)(),P=(0,O.t$)(n)&&!u,_=i.useRef(null);if(null==b)return null;var k=b.format_type===I.u3.LOTTIE?L:G;return(0,r.jsxs)(i.Fragment,{children:[(0,r.jsx)(k,{shouldAnimate:P,isFocused:C,size:h,sticker:b,className:v,maskAsset:y,positionRef:_,withLoadingIndicator:m,assetData:g,fileUri:E,onError:w}),c&&(0,r.jsx)(F,{disableAnimation:u,enlargeScaleFactor:d,enlargeWithName:s,isInteracting:n,positionRef:_,size:h,sticker:b})]},"".concat(b.id,",").concat(h))};const K=W},245233:(e,t,n)=>{
"use strict";n.d(t,{D:()=>a});var r=n(667294),i=n(202351),o=n(917019),u=n(473419);function a(){r.useEffect((function(){o.DZ.loadIfNecessary()}),[]);return(0,i.e7)([u.Z],(function(){return u.Z.frecencyWithoutFetchingLatest}))}},543976:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var r=n(730381),i=n.n(r),o=n(169376),u=n(661123),a=n(800336),c=n(203600);function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function s(e){s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return s(e)}function f(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e,t){d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return d(e,t)}var p=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var i=s(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f(this,n)}}var h=Object.freeze({PAYMENT_SOURCE_REQUIRED:1,EXISTING_PREMIUM_SUBSCRIPTION_DISALLOWED:2,NOT_SELF_REDEEMABLE:4}),b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&d(e,t)}(n,e);var t=y(n);function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r
;(r=t.call(this)).userId=e.userId;r.code=e.code;r.skuId=e.skuId;r.uses=e.uses;r.maxUses=e.maxUses;r.expiresAt=e.expiresAt;r.redeemed=e.redeemed;r.storeListingId=e.storeListingId;r.subscriptionPlanId=e.subscriptionPlanId;r.subscriptionPlan=e.subscriptionPlan;r.revoked=e.revoked;r.entitlementBranches=e.entitlementBranches;r.flags=e.flags;r.subscriptionTrial=e.subscriptionTrial;r.promotion=e.promotion;r.giftStyle=e.giftStyle;return r}var r=n.prototype;r.isExpired=function(){var e=this.expiresAt;return null!=e&&i()().isAfter(e)};r.toString=function(){return this.code};n.createFromServer=function(e){return new n({userId:null!=e.user?e.user.id:null,code:e.code,skuId:e.sku_id,uses:e.uses,maxUses:e.max_uses,storeListingId:null!=e.store_listing?e.store_listing.id:null,expiresAt:null!=e.expires_at?i()(e.expires_at):null,redeemed:e.redeemed,subscriptionPlanId:null!=e.subscription_plan?e.subscription_plan.id:e.subscription_plan_id,
subscriptionPlan:null!=e.subscription_plan?a.Z.createFromServer(e.subscription_plan):null,revoked:!1,entitlementBranches:null!=e.entitlement_branches?e.entitlement_branches:null,flags:null!=e.flags?e.flags:0,giftStyle:e.gift_style,subscriptionTrial:null!=e.subscription_trial?{id:e.subscription_trial.id,interval:e.subscription_trial.interval,intervalCount:e.subscription_trial.interval_count,skuId:e.subscription_trial.sku_id}:null,promotion:null!=e.promotion?{id:e.promotion.id,startDate:e.promotion.start_date,endDate:e.promotion.end_date,inboundHeaderText:e.promotion.inbound_header_text,inboundBodyText:e.promotion.inbound_body_text,inboundHelpCenterLink:e.promotion.inbound_help_center_link}:null})};!function(e,t,n){t&&l(e.prototype,t);n&&l(e,n)}(n,[{key:"hasMultipleCopies",get:function(){return this.maxUses>1}},{key:"isClaimed",get:function(){return this.uses>=this.maxUses}},{key:"remainingUses",get:function(){return this.maxUses-this.uses}},{key:"isSubscription",get:function(){
return null!=this.subscriptionPlanId}},{key:"premiumSubscriptionType",get:function(){return this.isSubscription&&c.y7[this.skuId]||null}},{key:"isSelfRedeemable",get:function(){return!(0,u.yE)(this.flags,h.NOT_SELF_REDEEMABLE)}},{key:"isExistingPremiumSubscriptionDisallowed",get:function(){return(0,u.yE)(this.flags,h.EXISTING_PREMIUM_SUBSCRIPTION_DISALLOWED)}},{key:"analyticsData",get:function(){return{gift_code:this.code,gift_code_max_uses:this.maxUses}}}]);return n}(o.Z)},311865:(e,t,n)=>{"use strict";n.d(t,{Z:()=>P});var r=n(785893),i=n(667294),o=n(294184),u=n.n(o),a=n(202351),c=n(316878),l=n(901654),s=n(248080),f=n.n(s);function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t,n,r,i,o,u){try{var a=e[o](u),c=a.value}catch(e){n(e);return}a.done?t(c):Promise.resolve(c).then(r,i)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t,n){t in e?Object.defineProperty(e,t,{
value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function b(e){b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return b(e)}function v(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function m(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(i[n]=e[n])}return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++){n=o[r]
;t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}}return i}function g(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function E(e,t){E=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return E(e,t)}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],u=!0,a=!1;try{for(n=n.call(e);!(u=(r=n.next()).done);u=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){a=!0;i=e}finally{try{u||null==n.return||n.return()}finally{if(a)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var O=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var i=b(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g(this,n)}}var w=function(e,t){var n,r,i,o,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){
return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;(r=0,i)&&(o=[2&o[0],i.value]);switch(o[0]){case 0:case 1:i=o;break;case 4:u.label++;return{value:o[1],done:!1};case 5:u.label++;r=o[1];o=[0];continue;case 7:o=u.ops.pop();u.trys.pop();continue;default:if(!(i=u.trys,i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){u=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){u.label=o[1];break}if(6===o[0]&&u.label<i[1]){u.label=i[1];i=o;break}if(i&&u.label<i[2]){u.label=i[2];u.ops.push(o);break}i[2]&&u.ops.pop();u.trys.pop();continue}o=t.call(e,u)}catch(e){o=[6,e];r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function")
;e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&E(e,t)}(i,e);var t=I(i);function i(){y(this,i);var e;(e=t.apply(this,arguments)).animationRef=null;e.currentScene=e.props.nextScene;e.isUnmounted=!1;e.handleLoopComplete=function(){var t=e.props,n=t.onSceneComplete,r=t.nextScene;null!=n&&n(e.currentScene);e.playScene(r)};e.handleComplete=function(){var t=e.props.onSceneComplete;null!=t&&t(e.currentScene)};e.handleSetRef=function(t){e.animationRef=t;var n=e.props.animationRef;null!=n&&n(t)};return e}var o=i.prototype;o.componentDidMount=function(){var e,t=this;return(e=function(){var e,r,i,o,u,a,c,l,s,f,d;return w(this,(function(p){switch(p.label){case 0:e=t.props,r=e.importData,i=e.nextScene,o=e.pauseWhileUnfocused,u=e.pause,a=e.isWindowFocused,c=e.useReducedMotion;return[4,Promise.all([r(),n.e(11248).then(n.t.bind(n,211248,23))])];case 1:l=S.apply(void 0,[p.sent(),2]),s=l[0],f=l[1],d=f.default;if(null==t.animationRef)return[2]
;t.animation=d.loadAnimation({container:t.animationRef,renderer:"svg",loop:!0,autoplay:!0,animationData:s});t.animation.addEventListener("loopComplete",t.handleLoopComplete);t.animation.addEventListener("complete",t.handleComplete);t.playScene(i);(o&&!a||u||c)&&t.animation.pause();return[2]}}))},function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function u(e){p(o,r,i,u,a,"next",e)}function a(e){p(o,r,i,u,a,"throw",e)}u(void 0)}))})()};o.componentWillUnmount=function(){this.isUnmounted=!0;if(null!=this.animation){this.animation.destroy();this.animation=void 0}};o.componentDidUpdate=function(e){var t=this.props,n=t.nextScene,r=t.pauseWhileUnfocused,i=t.pause,o=t.isWindowFocused,u=t.useReducedMotion;n!==this.currentScene&&this.shouldForcePlayAfter()&&!i&&this.playScene(n);null!=this.animation&&(r&&!e.isWindowFocused&&o&&!u&&!0!==i?this.animation.play():(u||r&&e.isWindowFocused&&!o)&&this.animation.pause());if(!e.pause&&i){var a
;null===(a=this.animation)||void 0===a||a.pause()}else if(e.pause&&!i&&!u){var c;null===(c=this.animation)||void 0===c||c.play()}if(e.nextScene!==n&&i){var l;this.playScene(n);null===(l=this.animation)||void 0===l||l.pause()}};o.shouldForcePlayAfter=function(){return!0===this.props.sceneSegments[this.currentScene].shouldForcePlayAfter};o.playScene=function(e){if(!this.isUnmounted){var t=this.props,n=t.onScenePlay,r=t.sceneSegments,i=t.useReducedMotion,o=r[e],u=r[this.currentScene];null==this.animation||e!==this.currentScene&&o.BEG===u.BEG&&o.END===u.END||this.animation.playSegments([o.BEG,o.END],!0);this.currentScene=e;null!=n&&n(this.currentScene);if(i){var a;null===(a=this.animation)||void 0===a||a.pause()}}};o.render=function(){return(0,r.jsx)("div",{ref:this.handleSetRef,className:u()(this.props.className,f().wrapper)})};return i}(i.PureComponent);C.defaultProps={pauseWhileUnfocused:!0,pause:!1};const P=function(e){var t=e.componentRef,n=m(e,["componentRef"]),i=(0,
a.e7)([l.Z],(function(){return l.Z.isFocused()})),o=(0,a.e7)([c.Z],(function(){return c.Z.useReducedMotion}));return(0,r.jsx)(C,v(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){h(e,t,n[t])}))}return e}({},n),{isWindowFocused:i,useReducedMotion:o,ref:t}))}},799944:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(785893),i=(n(667294),n(633878));function o(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function u(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function a(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(i[n]=e[n])}return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}}return i}function c(e){var t=e.width,n=void 0===t?18:t,c=e.height,l=void 0===c?18:c,s=e.color,f=void 0===s?"currentColor":s,d=a(e,["width","height","color"]);return(0,r.jsx)("svg",u(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){o(e,t,n[t])}))}return e}({},(0,i.Z)(d)),{width:n,height:l,viewBox:"0 0 24 24",children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",
d:"M23 12C23 15.4588 21.244 18.5074 18.575 20.303C16.9546 21.4361 14.9961 22.0511 12.9077 21.9996C11.5234 21.9871 10.2063 21.6933 9.01083 21.1726L8.93992 21.1486C7.24876 20.5765 5.54476 20 3.77041 20H3.5C2.67157 20 2 19.3284 2 18.5C2 17.6716 2.67157 17 3.5 17C4.03814 17 4.40201 16.7197 4.57202 16.3248C4.83747 15.7082 4.79971 14.5414 3.86441 14.1934C3.41676 14.0268 2.72587 14 2.39244 14H1.5C0.671573 14 0 13.3284 0 12.5C0 11.6716 0.671573 11 1.5 11C2.16507 11 2.69887 10.6988 3.10938 10.1953C3.46698 9.75673 3.46834 9.09578 3.27805 8.62811C3.11182 8.21955 2.77674 7.83979 2.44976 7.55367C2.17543 7.31362 2 6.96873 2 6.50001C2 5.67158 2.67157 5.00001 3.5 5.00001C4.79441 5.00001 6.01593 4.51851 7.15231 3.88709C8.79678 2.6997 10.8167 2 13 2C18.5228 2 23 6.47715 23 12ZM15.2781 13.6032C15.7366 13.7241 16.1174 14.026 16.3144 14.4105C16.5162 14.8043 16.5223 15.2869 16.2154 15.7057C15.2355 17.0432 13.4838 17.7164 11.7684 17.264C10.0529 16.8115 8.87791 15.3665 8.70867 13.726C8.65566 13.2122 8.90615 12.7973 9.28089 12.5555C9.64684 12.3195 10.13 12.2455 10.5885 12.3664L15.2781 13.6032ZM9.20943 8.1998C8.65483 8.05353 8.08712 8.27952 7.78185 8.72337C7.56782 9.03455 7.13921 9.34399 6.64391 9.21336C6.18769 9.09304 5.83028 8.58879 6.08468 8.08437C6.72953 6.80575 8.21942 6.10768 9.6745 6.49143C11.1296 6.87519 12.0653 8.21295 11.9742 9.63762C11.9382 10.1997 11.3726 10.4605 10.9163 10.3401C10.4211 10.2095 10.2071 9.73061 10.1798 9.35578C10.1409 8.82116 9.76403 8.34606 9.20943 8.1998ZM17.6296 11.3621C17.9348 10.9182 18.5026 10.6922 19.0571 10.8385C19.6117 10.9848 19.9886 11.4599 20.0275 11.9945C20.0548 12.3693 20.2688 12.8482 20.7641 12.9788C21.2203 13.0992 21.786 12.8384 21.8219 12.2763C21.913 10.8517 20.9773 9.51389 19.5222 9.13014C18.0671 8.74638 16.5772 9.44445 15.9324 10.7231C15.678 11.2275 16.0354 11.7317 16.4916 11.8521C16.9869 11.9827 17.4155 11.6733 17.6296 11.3621Z",
fill:f})}))}},507965:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(785893),i=n(667294),o=n(652411);function u(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var c=[n(577660)],l=["#FFFFFF"],s={velocity:{type:"static-random",minValue:{x:0,y:1},maxValue:{x:3,y:3}},rotation:{type:"linear-random",minValue:{x:0,y:0,z:0},maxValue:{x:0,y:0,z:360},minAddValue:{x:0,y:0,z:-5},maxAddValue:{x:0,y:0,z:5}},size:{type:"static-random",minValue:2,maxValue:6},dragCoefficient:{type:"static",
value:{x:.05,y:.05}},opacity:{type:"static",value:.3}};function f(e){var t=e.className,n=e.firing,f=void 0===n||n,d=e.wind,p=void 0===d?2:d,y=i.useRef(null),h=i.useRef(null),b=(0,o.uR)(h,y),v=new o.qA({wind:p}),m=i.useCallback((function(){var e,t=null===(e=h.current)||void 0===e?void 0:e.getCanvas();if(null!=t){var n=t.getBoundingClientRect();b.createConfetti(a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){u(e,t,n[t])}))}return e}({},s),{position:{type:"static-random",minValue:{x:-n.width/2,y:-6},maxValue:{x:n.width,y:-6}}}))}}),[b]);i.useEffect((function(){var e=f?setInterval(m,16.666666666666668):null;return function(){return clearInterval(e)}}),[f,m]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.O_,{ref:h,className:t,
environment:v}),(0,r.jsx)(o.Ji,{ref:y,colors:l,sprites:c,spriteWidth:6,spriteHeight:6})]})}},530562:(e,t,n)=>{"use strict";n.d(t,{yb:()=>l,R4:()=>s,GY:()=>f,oE:()=>d});var r=n(441143),i=n.n(r),o=n(810978),u=n(551778),a=n(2590),c=n(203600);function l(e){return function(e){return e.items.map((function(e){var t=u.Z.get(e.planId);i()(null!=t,"Unable to fetch plan");return t}))}(e).map((function(e){return e.skuId}))}function s(e,t,n){var r=e.getCurrentSubscriptionPlanIdForGroup(n);if(e.type===a.NYc.PREMIUM&&null==r)return!0;i()(null!=r,"Current subscription has no plan in group");i()(!(r===c.Xh.PREMIUM_YEAR_TIER_1&&t===c.Xh.PREMIUM_MONTH_TIER_2),"Unexpected plan switch");return n.indexOf(r)<n.indexOf(t)}function f(e,t,n){return!s(e,t,n)}function d(e,t){var n=u.Z.get(e);if(null==n){var r=c.GP[e];i()(null!=r,"Missing hardcoded subscriptionPlan: ".concat(e));var a=r.skuId;u.Z.isFetchingForSKU(a)||(0,o.GZ)(a,t)}return n}}}]);
//# sourceMappingURL=a88da0e8eb471bec4b72.js.map