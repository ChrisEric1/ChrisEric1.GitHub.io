"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[401,73214],{970001:(e,n,i)=>{i.d(n,{_:()=>a,S:()=>l});var a="Guild Welcome Screen",l="hasClickedWelcomeEmojiPicker"},873214:(e,n,i)=>{i.r(n);i.d(n,{default:()=>O});var a=i(785893),l=i(667294),s=i(363010),o=i(331535),c=i(152163),t=i(725616),r=i(808525),d=i(655695),u=i(356004),m=i(392115),h=i(653772),j=i(940712),E=i(709990),x=i(969225),_=i(757987),N=i(272729),p=i(414597),f=i(976703),C=i(67416),g=i(440455),Z=i(932847),v=i(700982),k=i(94181),I=i(970001),S=i(461061),L=i(375650),M=i(959797),P=i(876917),w=i.n(P),R=function(e){var n,i=e.channelData,l=e.onClose,h=e.trackOptionClick,E=(0,s.e7)([u.Z],(function(){return u.Z.getChannel(i.channel_id)})),x=(0,s.e7)([j.Z],(function(){return null!=E&&j.Z.can(L.Pl.VIEW_CHANNEL,E)})),_=(0,s.e7)([m.Z],(function(){return null!=i.emoji_id?m.Z.getCustomEmojiById(i.emoji_id):null
}),[i.emoji_id]),N=null!=i.emoji_name?t.ZP.getByName(t.ZP.convertSurrogateToName(i.emoji_name,!1)):null,C=null!==(n=(0,r.KS)(E))&&void 0!==n?n:f.Z;return null!=E&&x?(0,a.jsxs)(o.P3,{className:w().optionContainer,onClick:function(){h();l();(0,d.XU)(E.guild_id,E.id)},children:[null!=_||null!=N?(0,a.jsx)(c.Z,{emojiName:null!=i.emoji_id?null==_?void 0:_.name:i.emoji_name,animated:null!=_&&_.animated,emojiId:null==_?void 0:_.id,autoplay:!0,className:w().optionEmoji}):(0,a.jsx)(C,{className:w().channelIcon}),(0,a.jsxs)("div",{className:w().optionTextContainer,children:[(0,a.jsx)(o.xv,{variant:"text-md/normal",className:w().channelDescription,children:i.description}),(0,a.jsxs)(o.xv,{variant:"text-xs/normal",color:"header-secondary",children:[(0,a.jsx)(C,{className:w().channelTitleIcon,height:12,width:12}),(0,a.jsx)("span",{children:E.name})]})]}),(0,a.jsx)(p.Z,{direction:p.Z.Directions.RIGHT,className:w().optionArrow})]}):null};const O=function(e){
var n,i=e.onClose,c=e.transitionState,t=e.guildId,r=e.isPreview,d=(0,s.e7)([h.Z],(function(){return h.Z.getGuild(t)})),u=(0,s.cj)([k.Z],(function(){return{welcomeScreen:k.Z.get(t),fetching:k.Z.isFetching(),hasError:k.Z.hasError()}})),m=u.welcomeScreen,j=u.fetching,p=u.hasError,f=(0,N.Dt)();l.useEffect((function(){null==m&&(0,v.RM)(t)}),[t,m]);l.useEffect((function(){!1===j&&!0===p&&null==m&&i()}),[j,p,i,m]);l.useEffect((function(){m===k.a&&!1===j&&i()}),[i,m,j]);l.useEffect((function(){!0!==r&&Z.default.track(S.rMx.OPEN_MODAL,{type:I._,guild_id:t})}),[t,r]);var L=l.useCallback((function(e){var n;if(null!=m&&!0!==r){var i=[],a=[],l=!1;null===(n=m.welcome_channels)||void 0===n||n.forEach((function(e){i.push(e.description);a.push(e.channel_id);null!=e.emoji_id&&(l=!0)}));Z.default.track(S.rMx.GUILD_WELCOME_SCREEN_OPTION_SELECTED,{index:e,guild_id:t,options:i,options_channel_ids:a,guild_description:m.description,has_custom_emojis:l})}}),[t,r,m]);return null==d?null:null==m?(0,a.jsx)(C.Y0,{
transitionState:c,className:w().main,"aria-label":M.Z.Messages.LOADING,children:(0,a.jsx)(o.$j,{type:o.$j.Type.SPINNING_CIRCLE})}):(0,a.jsxs)(C.Y0,{transitionState:c,className:w().main,"aria-labelledby":f,children:[(0,a.jsx)(C.ol,{onClick:i,className:w().close}),(0,a.jsx)(g.ZP,{mask:g.ZP.Masks.SQUIRCLE,width:64,height:64,className:w().guildIcon,children:(0,a.jsx)(x.Z,{size:x.Z.Sizes.LARGER,guild:d,active:!0,animate:!0,tabIndex:-1})}),(0,a.jsx)(o.X6,{variant:"heading-xl/semibold",className:w().header,id:f,children:M.Z.Messages.WELCOME_SCREEN_TITLE.format({guildName:d.name,guildNameHook:function(e,n){return(0,a.jsxs)("span",{children:[(0,a.jsx)(E.Z,{guild:d,className:w().headerGuildBadge,flowerStarClassName:w().flowerStar,tooltipColor:_.ZP.Colors.PRIMARY}),(0,a.jsx)("strong",{className:w().headerGuildName,children:e})]},n)}})}),null!=m.description?(0,a.jsx)(o.xv,{variant:"text-sm/normal",color:"header-secondary",className:w().guildDescription,children:m.description}):null,(0,
a.jsx)(o.vw,{className:w().choiceHeader,children:M.Z.Messages.WELCOME_SCREEN_CHOICE_HEADER}),(0,a.jsx)("div",{className:w().options,children:null===(n=m.welcome_channels)||void 0===n?void 0:n.map((function(e,n){return(0,a.jsx)(R,{channelData:e,trackOptionClick:function(){return L(n)},onClose:i},"".concat(e.channel_id,"-").concat(n))}))}),(0,a.jsx)(o.zx,{look:o.zx.Looks.LINK,color:w().skipColor,className:w().skip,onClick:i,children:M.Z.Messages.WELCOME_SCREEN_SKIP})]})}}}]);
//# sourceMappingURL=427e4e8275f654c8e1af.js.map