"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[29434,96043],{735885:(e,t,n)=>{n.d(t,{jN:()=>i,xf:()=>o,Ou:()=>u});var r=n(744564);function i(e){r.Z.dispatch({type:"LAYER_PUSH",component:e})}function o(){r.Z.dispatch({type:"LAYER_POP"})}function u(){r.Z.dispatch({type:"LAYER_POP_ALL"})}},810978:(e,t,n)=>{n.d(t,{GZ:()=>y,Gn:()=>h,Y2:()=>S,mE:()=>b});var r=n(281110),i=n(744564),o=n(973889),u=n(615796),l=n(264628),c=n(850841),a=n(534681),s=n(673679),f=n(2590),d=n(203600);function p(e,t,n,r,i,o,u){try{var l=e[o](u),c=l.value}catch(e){n(e);return}l.done?t(c):Promise.resolve(c).then(r,i)}function O(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function u(e){p(o,r,i,u,l,"next",e)}function l(e){p(o,r,i,u,l,"throw",e)}u(void 0)}))}}var _=function(e,t){var n,r,i,o,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},
"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;(r=0,i)&&(o=[2&o[0],i.value]);switch(o[0]){case 0:case 1:i=o;break;case 4:u.label++;return{value:o[1],done:!1};case 5:u.label++;r=o[1];o=[0];continue;case 7:o=u.ops.pop();u.trys.pop();continue;default:if(!(i=u.trys,i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){u=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){u.label=o[1];break}if(6===o[0]&&u.label<i[1]){u.label=i[1];i=o;break}if(i&&u.label<i[2]){u.label=i[2];u.ops.push(o);break}i[2]&&u.ops.pop();u.trys.pop();continue}o=t.call(e,u)}catch(e){o=[6,e];r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}};function y(e,t,n,r,i){return E.apply(this,arguments)}function E(){
return(E=O((function(e,t,n,d,p){var O,y,E,h;return _(this,(function(_){switch(_.label){case 0:i.Z.dispatch({type:"SUBSCRIPTION_PLANS_FETCH",skuId:e});_.label=1;case 1:_.trys.push([1,5,,6]);O={url:f.ANM.STORE_PUBLISHED_LISTINGS_SUBSCRIPTION_PLANS(e),oldFormErrors:!0};y={};null!=t&&(y.country_code=t);null!=n&&(y.payment_source_id=n);null!=d&&(y.include_unpublished=d);null!=p&&(y.revenue_surface=p);O.query=y;return!(0,c.Z8)()||u.Z.ipCountryCodeLoaded?[3,3]:[4,(0,s.GE)()];case 2:_.sent();_.label=3;case 3:return[4,((0,c.Z8)()?r.Z.get:a.Kb)(O)];case 4:E=_.sent();i.Z.dispatch({type:"SUBSCRIPTION_PLANS_FETCH_SUCCESS",skuId:e,subscriptionPlans:E.body});return[3,6];case 5:h=_.sent();i.Z.dispatch({type:"SUBSCRIPTION_PLANS_FETCH_FAILURE",skuId:e});(0,l.q2)(h);throw new o.Z(h);case 6:return[2]}}))}))).apply(this,arguments)}function h(e,t){return Promise.all(e.filter((function(e){return e!==d.Si.NONE})).map((function(e){return y(e,t)})))}function S(e,t,n){return Promise.all(d.YQ.filter((function(e){
return e!==d.Si.NONE})).map((function(r){return y(r,e,t,void 0,n)})))}function b(){i.Z.dispatch({type:"SUBSCRIPTION_PLANS_RESET"})}},973889:(e,t,n)=>{n.d(t,{Z:()=>f});var r=n(281110),i=n(2590),o=n(473708);function u(e){u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return u(e)}function l(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e,t){c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c(e,t)}var a=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}()
;return function(){var n,r=u(e);if(t){var i=u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l(this,n)}}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&c(e,t)}(n,e);var t=s(n);function n(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);return t.call(this,e,r,o.Z.Messages.FORM_ERROR_GENERIC.format({statusPageURL:i.yXt.STATUS}))}return n}(r.Z.V6OrEarlierAPIError)},83797:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(2590);function i(e){return null!=e&&e.type!==r.IIU.CUSTOM_STATUS&&(null!=e.details||null!=e.assets&&(null!=e.assets.large_image||null!=e.assets.small_text)||null!=e.party||null!=e.secrets||null!=e.state)}},396043:(e,t,n)=>{n.d(t,{v_:()=>C,JS:()=>A,hH:()=>R,AB:()=>U,ZP:()=>D,oG:()=>M,kO:()=>j,yw:()=>F
});var r=n(496486),i=n.n(r),o=n(940060),u=n(382060),l=n(736818),c=n(61209),a=n(5544),s=n(27851),f=n(21372),d=n(567403),p=n(604945),O=n(682776),_=n(491260),y=n(69085),E=n(715107),h=n(464187),S=n(407561),b=n(652591),m=n(563135),v=n(671723);var g=n(2590),I=n(897196);function w(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){w(e,t,n[t])}))}return e}function T(e){var t=0;for(var n in e)t+=1;return t}function R(e){if(null==e)return null;var t=d.Z.getGuild(e);if(null==t)return null;var n,r=l.default.getId(),i=f.ZP.getMember(e,r),o=a.ZP.getChannels(e),u=o[a.sH].length,c=o[a.Zb].length,p=S.Z.getVoiceStates(e);return{guild_id:t.id,
guild_size_total:s.Z.getMemberCount(e),guild_num_channels:u+c,guild_num_text_channels:u,guild_num_voice_channels:c,guild_num_roles:T(t.roles),guild_member_num_roles:null!=i?i.roles.length:0,guild_member_perms:String(null!==(n=O.Z.getGuildPermissions(t))&&void 0!==n?n:m.ZP.NONE),guild_is_vip:t.hasFeature(g.oNc.VIP_REGIONS),is_member:null!=i,num_voice_channels_active:T(p)}}function N(e,t){return{channel_static_route:t,channel_hidden:!1}}function A(e){if(null==e)return null;var t=c.Z.getChannel(e);return null==t?null:C(t)}function C(e){if(null==e)return null;var t,n=!1,r=e.getGuildId();if(null!=r){var i=function(e){if(null==e)return!1;var t=e.permissionOverwrites[r];return null!=t&&o.Z.has(t.deny,g.Plq.VIEW_CHANNEL)};n=u.Ec.has(e.type)&&null!=e.parent_id?i(c.Z.getChannel(e.parent_id)):i(e)}return{channel_id:e.id,channel_type:e.type,channel_size_total:e.isPrivate()?e.recipients.length:0,channel_member_perms:String(null!=r&&null!==(t=O.Z.getChannelPermissions(e))&&void 0!==t?t:m.ZP.NONE),
channel_hidden:n}}function U(e){if(null==e)return null;var t=c.Z.getChannel(e);if(null==t)return null;var n,r=p.Z.isVideoEnabled(),i=y.Z.getMediaSessionId();return P({channel_id:t.id,channel_type:t.type,guild_id:t.getGuildId(),media_session_id:i},j(t.getGuildId(),t.id,r),{game_name:null!=(n=v.ZP.getCurrentGame())?n.name:null,game_id:null!=n?n.id:null})}function L(e,t){return null==e?null!=t?t:null:e.isPrivate()?null:null!==(r=null!==(n=e.getGuildId())&&void 0!==n?n:t)&&void 0!==r?r:null;var n,r}function F(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!b.default.isThrottled(e)){var r=!("location"in t)||t.location!==g.Sbl.GUILD_CREATE_INVITE_SUGGESTION,i="guild_id"in t?t.guild_id:r?h.Z.getGuildId():null,o="channel_id"in t?t.channel_id:r?E.Z.getChannelId(i):null,u=c.Z.getChannel(o),l=L(u,i),a=P({},t,R(l),null!=i&&null!=o&&(0,I.AB)(o)?N(0,o):C(u));b.default.track(e,a,{flush:n})}}function j(e,t,n){var r={
voice_state_count:0,video_stream_count:0,video_enabled:n};i()(S.Z.getVoiceStates(e)).filter((function(e){return e.channelId===t})).filter((function(e){return e.userId!==l.default.getId()})).forEach((function(e){r.voice_state_count++;(e.selfVideo||e.selfStream)&&r.video_stream_count++}));return r}function M(e,t){var n={custom_status_count:0};i()(S.Z.getVoiceStates(e)).forEach((function(e){e.channelId===t&&null!=_.Z.findActivity(e.userId,(function(e){return e.type===g.IIU.CUSTOM_STATUS}))&&n.custom_status_count++}));return n}const D={trackWithMetadata:F,getVoiceStateMetadata:j}},127624:(e,t,n)=>{n.d(t,{WO:()=>u,Lu:()=>l,ak:()=>c,bi:()=>r,tn:()=>a,hz:()=>s,sZ:()=>f,oQ:()=>d,_n:()=>p,Vd:()=>O,lr:()=>_,Mn:()=>y,al:()=>E});var r,i=n(73904),o=n(473708),u="True",l="False",c=[{name:u,displayName:u,value:"true"},{name:l,displayName:l,value:"false"}];!function(e){e.BUILT_IN="-1";e.FRECENCY="-2"}(r||(r={}));var a=10,s=5,f=25,d="\0",p=100,O=3,_=10,y=1;function E(e){
if(null!=e.choices)return o.Z.Messages.COMMAND_VALIDATION_CHOICE_ERROR;switch(e.type){case i.jw.BOOLEAN:return o.Z.Messages.COMMAND_VALIDATION_BOOLEAN_ERROR;case i.jw.CHANNEL:return o.Z.Messages.COMMAND_VALIDATION_CHANNEL_ERROR;case i.jw.INTEGER:return o.Z.Messages.COMMAND_VALIDATION_INTEGER_ERROR;case i.jw.NUMBER:return o.Z.Messages.COMMAND_VALIDATION_NUMBER_ERROR;case i.jw.ROLE:return o.Z.Messages.COMMAND_VALIDATION_ROLE_ERROR;case i.jw.USER:return o.Z.Messages.COMMAND_VALIDATION_USER_ERROR;case i.jw.MENTIONABLE:return o.Z.Messages.COMMAND_VALIDATION_MENTIONABLE_ERROR;default:return o.Z.Messages.COMMAND_VALIDATION_GENERAL_ERROR}}},571690:(e,t,n)=>{n.r(t);n.d(t,{CaptchaError:()=>r,extractCaptchaPropsFromResponseBody:()=>i,withCaptchaInterceptor:()=>o});var r;!function(e){e.CANCEL="cancel";e.ERROR="error";e.EXPIRED="expired"}(r||(r={}));function i(e){return{captchaService:e.captcha_service,sitekey:e.captcha_sitekey,options:{rqdata:e.captcha_rqdata,rqtoken:e.captcha_rqtoken}}}
function o(e){return new Promise((function(t,r){e().then(t,(function(o){if(400===(u=o).status&&null!=(null===(l=u.body)||void 0===l?void 0:l.captcha_key)){var u,l;n.e(72519).then(n.bind(n,972519)).then((function(n){var u=i(o.body);return n.default.showCaptchaAsync(u).then((function(n){return e(n).then(t,r)}),r)}),r)}else r(o)}))}))}},165586:(e,t,n)=>{n.d(t,{LY:()=>r,aW:()=>f,ws:()=>i,tI:()=>o,L9:()=>d,no:()=>p,ND:()=>O,WC:()=>y,km:()=>h,k0:()=>S,af:()=>b});var r,i,o,u,l=n(2590),c=n(203600),a=n(473708);function s(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}!function(e){e[e.RESOLUTION_480=480]="RESOLUTION_480";e[e.RESOLUTION_720=720]="RESOLUTION_720";e[e.RESOLUTION_1080=1080]="RESOLUTION_1080";e[e.RESOLUTION_1440=1440]="RESOLUTION_1440";e[e.RESOLUTION_SOURCE=0]="RESOLUTION_SOURCE"}(r||(r={}));function f(e){switch(e){case r.RESOLUTION_480:return r.RESOLUTION_480;case r.RESOLUTION_720:return r.RESOLUTION_720
;case r.RESOLUTION_1080:return r.RESOLUTION_1080;case r.RESOLUTION_SOURCE:return r.RESOLUTION_SOURCE;default:throw new Error("Unknown resolution: ".concat(e))}}!function(e){e[e.FPS_5=5]="FPS_5";e[e.FPS_15=15]="FPS_15";e[e.FPS_30=30]="FPS_30";e[e.FPS_60=60]="FPS_60"}(i||(i={}));!function(e){e[e.PRESET_VIDEO=1]="PRESET_VIDEO";e[e.PRESET_DOCUMENTS=2]="PRESET_DOCUMENTS";e[e.PRESET_CUSTOM=3]="PRESET_CUSTOM"}(o||(o={}));function d(e){switch(e){case i.FPS_5:return i.FPS_5;case i.FPS_15:return i.FPS_15;case i.FPS_30:return i.FPS_30;case i.FPS_60:return i.FPS_60;default:throw new Error("Unknown frame rate: ".concat(e))}}var p=(s(u={},o.PRESET_DOCUMENTS,[{resolution:r.RESOLUTION_SOURCE,fps:i.FPS_15},{resolution:r.RESOLUTION_SOURCE,fps:i.FPS_5}]),s(u,o.PRESET_VIDEO,[{resolution:r.RESOLUTION_1440,fps:i.FPS_60},{resolution:r.RESOLUTION_1080,fps:i.FPS_60},{resolution:r.RESOLUTION_720,fps:i.FPS_60},{resolution:r.RESOLUTION_720,fps:i.FPS_30}]),s(u,o.PRESET_CUSTOM,[]),u),O=[{
resolution:r.RESOLUTION_SOURCE,fps:i.FPS_60,quality:c.ys.HIGH_STREAMING_QUALITY},{resolution:r.RESOLUTION_SOURCE,fps:i.FPS_30,quality:c.ys.HIGH_STREAMING_QUALITY},{resolution:r.RESOLUTION_SOURCE,fps:i.FPS_15,quality:c.ys.HIGH_STREAMING_QUALITY},{resolution:r.RESOLUTION_SOURCE,fps:i.FPS_5,preset:o.PRESET_DOCUMENTS},{resolution:r.RESOLUTION_1440,fps:i.FPS_60,guildPremiumTier:l.Eu4.TIER_2,quality:c.ys.MID_STREAMING_QUALITY},{resolution:r.RESOLUTION_1440,fps:i.FPS_30,guildPremiumTier:l.Eu4.TIER_2,quality:c.ys.MID_STREAMING_QUALITY},{resolution:r.RESOLUTION_1440,fps:i.FPS_15,guildPremiumTier:l.Eu4.TIER_2,quality:c.ys.MID_STREAMING_QUALITY},{resolution:r.RESOLUTION_1080,fps:i.FPS_60,guildPremiumTier:l.Eu4.TIER_2,quality:c.ys.MID_STREAMING_QUALITY},{resolution:r.RESOLUTION_1080,fps:i.FPS_30,guildPremiumTier:l.Eu4.TIER_2,quality:c.ys.MID_STREAMING_QUALITY},{resolution:r.RESOLUTION_1080,fps:i.FPS_15,guildPremiumTier:l.Eu4.TIER_2,quality:c.ys.MID_STREAMING_QUALITY},{resolution:r.RESOLUTION_720,
fps:i.FPS_60,guildPremiumTier:l.Eu4.TIER_1,quality:c.ys.MID_STREAMING_QUALITY},{resolution:r.RESOLUTION_720,fps:i.FPS_30},{resolution:r.RESOLUTION_720,fps:i.FPS_15},{resolution:r.RESOLUTION_720,fps:i.FPS_5},{resolution:r.RESOLUTION_480,fps:i.FPS_60,guildPremiumTier:l.Eu4.TIER_1,quality:c.ys.MID_STREAMING_QUALITY},{resolution:r.RESOLUTION_480,fps:i.FPS_30},{resolution:r.RESOLUTION_480,fps:i.FPS_15},{resolution:r.RESOLUTION_480,fps:i.FPS_5}];function _(e,t){return{value:e,get label(){return null!=t?t():e}}}var y=[_(r.RESOLUTION_720),_(r.RESOLUTION_1080),_(r.RESOLUTION_1440),_(r.RESOLUTION_SOURCE,(function(){return a.Z.Messages.SCREENSHARE_SOURCE}))],E=function(e){return"".concat(e,"p")},h=[_(r.RESOLUTION_480,(function(){return E(r.RESOLUTION_480)})),_(r.RESOLUTION_720,(function(){return E(r.RESOLUTION_720)})),_(r.RESOLUTION_1080,(function(){return E(r.RESOLUTION_1080)})),_(r.RESOLUTION_1440,(function(){return E(r.RESOLUTION_1440)})),_(r.RESOLUTION_SOURCE,(function(){
return a.Z.Messages.SCREENSHARE_SOURCE}))],S=[_(i.FPS_15),_(i.FPS_30),_(i.FPS_60)],b=[_(i.FPS_15,(function(){return a.Z.Messages.STREAM_FPS_OPTION.format({value:i.FPS_15})})),_(i.FPS_30,(function(){return a.Z.Messages.STREAM_FPS_OPTION.format({value:i.FPS_30})})),_(i.FPS_60,(function(){return a.Z.Messages.STREAM_FPS_OPTION.format({value:i.FPS_60})}))]},433932:(e,t,n)=>{n.d(t,{jD:()=>b,Dx:()=>S,bO:()=>m,fV:()=>g,Xp:()=>v,YM:()=>h,N2:()=>E});var r=n(667294),i=n(202351),o=n(747820),u=n(260561);const l=(0,u.B)({kind:"guild",id:"2022-10_communities_multi",label:"A multi-arm guild experiment that segments all eligible guilds to test different combinations of the Communities 2.0 experience",defaultConfig:{enableGuildHome:!1,forceEnableGuildHome:!1},treatments:[{id:0,label:"Holdout",config:{enableGuildHome:!1,forceEnableGuildHome:!1}},{id:1,label:"NMX Core",config:{enableGuildHome:!1,forceEnableGuildHome:!1}},{id:2,label:"NMX Core + Home",config:{enableGuildHome:!1,forceEnableGuildHome:!1}},{
id:3,label:"NMX Core + Highlights",config:{enableGuildHome:!1,forceEnableGuildHome:!1}},{id:4,label:"Home",config:{enableGuildHome:!0,forceEnableGuildHome:!1}}]});var c=n(62277),a=n(5544),s=n(567403),f=n(682776),d=n(473903),p=n(2590);function O(e,t,n){return t.getChannels(e)[a.sH].filter((function(t){var r=t.channel;return!n.isChannelGated(e,r.id)})).length>5}var _=(0,u.B)({kind:"guild",id:"2022-01_home_tab_guild",label:"Home Tab Guild",defaultConfig:{showGuildHome:!1},treatments:[{id:1,label:"Check User as well",config:{showGuildHome:!0}},{id:2,label:"Force on",config:{showGuildHome:!0,force:!0}}]}),y=(0,u.B)({kind:"user",id:"2022-01_home_tab_user",label:"Home Tab User",defaultConfig:{showGuildHome:!1},treatments:[{id:1,label:"Show Home Tab",config:{showGuildHome:!0}},{id:2,label:"Force on",config:{showGuildHome:!0,force:!0}},{id:3,label:"Overflow",config:{showGuildHome:!0}}]});function E(e){var t,n,u=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],c=(0,
i.e7)([d.default],(function(){return d.default.getCurrentUser()})),s=_.useExperiment({guildId:null!==(t=null==e?void 0:e.id)&&void 0!==t?t:""},{autoTrackExposure:!1}),E=s.showGuildHome,h=s.force,S=y.useExperiment({},{autoTrackExposure:!1}),b=S.showGuildHome,m=S.force,v=l.useExperiment({guildId:null!==(n=null==e?void 0:e.id)&&void 0!==n?n:""},{autoTrackExposure:!1}),g=v.enableGuildHome,I=v.forceEnableGuildHome,w=E||g,P=h||I,T=(0,i.e7)([a.ZP,o.Z],(function(){return null!=e&&O(e.id,a.ZP,o.Z)})),R=(0,i.e7)([f.Z],(function(){return f.Z.can(p.Plq.MANAGE_MESSAGES,e)}));r.useEffect((function(){if(u&&!__OVERLAY__&&null!=(null==e?void 0:e.id)){l.trackExposure({guildId:e.id});y.trackExposure({});T&&(R||_.trackExposure({guildId:e.id}))}}),[null==e?void 0:e.id,u,c,h,R,E,T]);return!__OVERLAY__&&(!!T&&(!(!m&&!P)||!!w&&(!!R||b)))}function h(e){if(__OVERLAY__)return!1;if(e===p.ME||e===p.I_8)return!1;if((0,c.cn)())return!1;var t=s.Z.getGuild(e);if(null!=t&&!O(e,a.ZP,o.Z))return!1
;var n=_.getCurrentConfig({guildId:e}),r=n.showGuildHome,i=n.force,u=y.getCurrentConfig({},{autoTrackExposure:!1}),d=u.showGuildHome,E=u.force,h=l.getCurrentConfig({guildId:e}),S=h.enableGuildHome,b=h.forceEnableGuildHome;return!!(E||(i||b))||!(!r&&!S)&&(!!f.Z.can(p.Plq.MANAGE_MESSAGES,t)||d)}var S=(0,u.B)({kind:"user",id:"2022-01_home_feed_toggle",label:"Show Guild Feed Sorting Selector",defaultConfig:{showSelector:!1},treatments:[{id:1,label:"Yes Selector",config:{showSelector:!0}}]}),b=(0,u.B)({kind:"user",id:"2022-06_home_refresh_button",label:"Show refresh button",defaultConfig:{showRefreshButton:!1},treatments:[{id:1,label:"Yes button",config:{showRefreshButton:!0}}]}),m=(0,u.B)({kind:"user",id:"2022-08_home_badge",label:"Show badge on home channel",defaultConfig:{showBadge:!1},treatments:[{id:1,label:"show badge",config:{showBadge:!0}}]}),v=((0,u.B)({kind:"user",id:"2022-08_home_drawer_autoclose",label:"Auto close home drawer",defaultConfig:{autoCloseDrawer:!1,animation:!1,
delay:null},treatments:[{id:1,label:"normal animation",config:{autoCloseDrawer:!0,animation:!0,delay:null}},{id:2,label:"no animate",config:{autoCloseDrawer:!0,animation:!1,delay:null}},{id:3,label:"150 delayed animation",config:{autoCloseDrawer:!0,animation:!0,delay:150}},{id:4,label:"250 delayed animation",config:{autoCloseDrawer:!0,animation:!0,delay:250}},{id:5,label:"500 delayed animation",config:{autoCloseDrawer:!0,animation:!0,delay:500}}]}),(0,u.B)({kind:"user",id:"2022-09_welcome_header",label:"Show welcome header for home",defaultConfig:{showWelcomeHeader:!1},treatments:[{id:1,label:"show welcome header",config:{showWelcomeHeader:!0}}]}),(0,u.B)({kind:"user",id:"2022-12_home_feedback_ux",label:"Show post feedback for home",defaultConfig:{showFeedback:!1},treatments:[{id:100,label:"show feedback",config:{showFeedback:!0}}]})),g=(0,u.B)({kind:"guild",id:"2023-03_home_deprecation",label:"Home Deprecation",defaultConfig:{showDeprecationNotice:!1},treatments:[{id:1,
label:"Show notice",config:{showDeprecationNotice:!0}}]})},189651:(e,t,n)=>{n.d(t,{iD:()=>g,Zm:()=>I,mL:()=>w,zS:()=>T,og:()=>R,aq:()=>N});var r=n(744564),i=n(396043),o=n(784426),u=n(61209),l=n(5544),c=n(21372),a=n(567403),s=n(682776),f=n(715107),d=n(9430),p=n(652591),O=n(861426),_=n(557177),y=n(2590),E=n(897196);function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){S(e,t,n[t])}))}return e}function m(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function v(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e)||function(){
throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){p.default.track(y.rMx.VIEW_AS_ROLES_SELECTED,m(b({num_roles:Object.keys(t.roles).length},(0,i.hH)(e)),{is_viewing_as_member:t.type===_.z.NEW_MEMBER}));r.Z.dispatch({type:"IMPERSONATE_UPDATE",guildId:e,data:t});P(e)}function I(e,t){var n=O.Z.getData(e);if(null!=n&&n.type===t.type){p.default.track(y.rMx.VIEW_AS_ROLES_SELECTED,m(b({num_roles:Object.keys(n.roles).length},(0,i.hH)(e)),{is_viewing_as_member:n.type===_.z.NEW_MEMBER}));r.Z.dispatch({type:"IMPERSONATE_UPDATE",guildId:e,data:b({},n,t)});P(e)}}function w(e){r.Z.dispatch({type:"IMPERSONATE_STOP",guildId:e})}function P(e){var t=f.Z.getChannelId(e),n=u.Z.getChannel(t);if(!(null!=t&&(0,E.AB)(t))&&!s.Z.can(y.Plq.VIEW_CHANNEL,n)){var r=l.ZP.getDefaultChannel(e);null!=r&&(0,o.uL)(y.Z5c.CHANNEL(e,r.id))}}function T(e,t,n){var r=new Set(d.Z.getOptedInChannels(e))
;t.forEach((function(e){return r.add(e)}));n.forEach((function(e){return r.delete(e)}));I(e,{type:_.z.NEW_MEMBER,optInChannels:r})}function R(e,t){var n=a.Z.getGuild(e);if(null!=n){!function(e,t){var n=v(l.ZP.getSelectableChannelIds(e)).concat(v(l.ZP.getVocalChannelIds(e))),r=Array.from(t);l.ZP.addConditionalChangeListener((function(){var t=c.ZP.getSelfMember(e);if(null==t)return!1;if(r.some((function(e){return!t.roles.includes(e)})))return!0;var i=v(l.ZP.getSelectableChannelIds(e)).concat(v(l.ZP.getVocalChannelIds(e))).filter((function(e){return!n.includes(e)}));i.length>0&&T(e,i,[]);return!1}))}(e,t);var r={};t.forEach((function(e){return r[e]=n.roles[e]}));I(e,{type:_.z.NEW_MEMBER,roles:r})}}function N(e,t){I(e,b({type:_.z.NEW_MEMBER},t))}},833589:(e,t,n)=>{n.d(t,{Z:()=>w});var r=n(202351),i=n(281110),o=n(744564),u=n(2590);function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n]
;r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function a(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function s(e){s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return s(e)}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){a(e,t,n[t])}))}return e}function d(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e,t){p=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return p(e,t)}var O=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var i=s(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d(this,n)}}var y=Object.freeze({burstCredits:0,wasReplenishedToday:!1,isReactionPickerBurstToggled:null,emojiReactionForCoachmark:null,guildBurstPreviews:{}}),E=f({},y),h=function(e){var t=e.amount,n=e.wasReplenishedToday;E.burstCredits=t;E.wasReplenishedToday=n},S=function(){i.Z.get({url:u.ANM.BURST_CREDIT_BALANCE}).then((function(e){o.Z.dispatch({type:"BURST_CREDITS_SET",amount:e.body.amount,wasReplenishedToday:e.body.replenished_today})})).catch((function(){}))},b=function(e){var t=e.value
;E.isReactionPickerBurstToggled=t},m=function(e){var t=e.emoji;E.emojiReactionForCoachmark=null!=t?t:null},v=function(e){var t=e.guildId,n=e.channelId,r=e.messageId,i=e.emoji;E.guildBurstPreviews[t]={channelId:n,messageId:r,emoji:i}},g=function(e){var t=e.guildId;delete E.guildBurstPreviews[t]},I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&p(e,t)}(n,e);var t=_(n);function n(){l(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(e){E=null!=e?e:f({},y)};r.getBurstedPreviewData=function(e){var t;return null!==(t=E.guildBurstPreviews[e])&&void 0!==t?t:void 0};r.getState=function(){return E};r.__getLocalVars=function(){return{initialState:y,state:E,handleSetCreditBalance:h,handleFetchFromAPI:S,handleEmojiPickerBurstToggle:b,handleShowFreeUserSentPopout:m,handleGuildPreviewSet:v,
handleGuildPreviewClear:g}};!function(e,t,n){t&&c(e.prototype,t);n&&c(e,n)}(n,[{key:"remainingBurstCurrency",get:function(){return E.burstCredits}},{key:"hasAvailableBurstCurrency",get:function(){return this.remainingBurstCurrency>0}},{key:"wasReplenishedToday",get:function(){return E.wasReplenishedToday}},{key:"isReactionPickerBurstToggled",get:function(){return null!=E.isReactionPickerBurstToggled&&E.isReactionPickerBurstToggled}},{key:"emojiReactionToTargetForCoachmark",get:function(){return E.emojiReactionForCoachmark}}]);return n}(r.ZP.PersistedStore);I.displayName="BurstReactionStore";I.persistKey="BurstReactionStore33";const w=new I(o.Z,{BURST_CREDITS_SET:h,POST_CONNECTION_OPEN:S,BURST_REACTION_PICKER_TOGGLE:b,BURST_REACTION_SHOW_FREE_USER_SENT_POPOUT:m,BURST_GUILD_PREVIEW_SET:v,BURST_GUILD_PREVIEW_CLEAR:g})},232806:(e,t,n)=>{n.d(t,{xV:()=>o,dp:()=>u,X7:()=>l,E1:()=>c,f7:()=>a,HE:()=>s,SJ:()=>f});function r(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,
configurable:!0,writable:!0}):e[t]=n;return e}function i(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var o,u;!function(e){e[e.BACKGROUND=0]="BACKGROUND"}(o||(o={}));!function(e){e[e.OPTION_1=0]="OPTION_1";e[e.OPTION_2=1]="OPTION_2";e[e.OPTION_3=2]="OPTION_3";e[e.OPTION_4=3]="OPTION_4";e[e.OPTION_7=7]="OPTION_7";e[e.OPTION_8=8]="OPTION_8";e[e.OPTION_9=9]="OPTION_9";e[e.OPTION_10=10]="OPTION_10"}(u||(u={}));var l=[u.OPTION_7,u.OPTION_8,u.OPTION_9,u.OPTION_10],c=[u.OPTION_7,u.OPTION_8,u.OPTION_9,u.OPTION_10,u.OPTION_1,u.OPTION_2,u.OPTION_3,u.OPTION_4].reduce((function(e,t,n){
return i(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));i.forEach((function(t){r(e,t,n[t])}))}return e}({},e),r({},t,n))}),{}),a="blur",s={width:1280,height:720},f=10485760},205294:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(169376);function i(e){i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return i(e)}function o(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e,t){u=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return u(e,t)}var l=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function c(e){var t=function(){
if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=i(e);if(t){var u=i(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return o(this,n)}}const a=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&u(e,t)}(n,e);var t=c(n);function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r;(r=t.call(this)).id=e.id;r.subscriptionId=e.subscriptionId;r.premiumGuildSubscription=e.premiumGuildSubscription;r.canceled=e.canceled;r.cooldownEndsAt=e.cooldownEndsAt;r.subscription=e.subscription;return r}
var r=n.prototype;r.isOnCooldown=function(){return null!=this.cooldownEndsAt&&new Date(this.cooldownEndsAt).getTime()>=Date.now()};r.isAvailable=function(){return null==this.premiumGuildSubscription&&!this.isOnCooldown()};n.createFromServer=function(e,t){return new n({id:e.id,subscriptionId:e.subscription_id,premiumGuildSubscription:null!=e.premium_guild_subscription?{id:e.premium_guild_subscription.id,guildId:e.premium_guild_subscription.guild_id}:null,canceled:e.canceled,cooldownEndsAt:e.cooldown_ends_at,subscription:t})};return n}(r.Z)},424158:(e,t,n)=>{n.d(t,{Z:()=>p});var r=n(730381),i=n.n(r),o=n(169376);function u(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function l(e){l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return l(e)}function c(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function a(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e,t){s=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return s(e,t)}var f=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{
Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var i=l(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return a(this,n)}}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&s(e,t)}(n,e);var t=d(n);function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r;(r=t.call(this)).code=e.code||"";r.temporary=e.temporary||!1;r.revoked=e.revoked||!1;r.uses=e.uses||0;r.maxUses=e.maxUses||0;r.maxAge=e.maxAge||0;r.createdAt=e.createdAt||new Date;r.channel=e.channel;r.guild=e.guild;r.inviter=e.inviter||null;r.targetType=e.targetType||null;r.targetUser=e.targetUser||null;r.targetApplication=e.targetApplication||null
;r.type=e.type||null;r.flags=e.flags||0;return r}var r=n.prototype;r.isExpired=function(){var e=this.maxAge;if(e>0){if(i()(this.createdAt).add(e,"seconds").isBefore(Date.now()))return!0}return!1};r.getExpiresAt=function(){if(this.maxAge>0){return i()(this.createdAt).add(this.maxAge,"seconds").toDate()}return 1/0};r.toString=function(){return this.code};n.createFromServer=function(e){var t;return new n(c(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){u(e,t,n[t])}))}return e}({},e),{maxUses:e.max_uses,maxAge:e.max_age,createdAt:i()(null!==(t=e.created_at)&&void 0!==t?t:void 0),targetType:e.target_type,targetUser:e.target_user,targetApplication:e.target_application}))};return n}(o.Z)},491260:(e,t,n)=>{n.d(t,{Z:()=>B})
;var r=n(110251),i=n.n(r),o=n(496486),u=n.n(o),l=n(202351),c=n(744564),a=n(83797),s=n(736818),f=n(473903),d=n(2590);function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function y(e){y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return y(e)}function E(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e,t){h=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return h(e,t)}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],u=!0,l=!1;try{for(n=n.call(e);!(u=(r=n.next()).done);u=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){l=!0;i=e}finally{try{u||null==n.return||n.return()}finally{if(l)throw i}}return o}}(e,t)||v(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||v(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var m=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function v(e,t){if(e){
if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var i=y(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return E(this,n)}}var I=Object.freeze([]),w={},P={},T={},R={},N={};function A(e,t){var n=w[e];return null!=n?n[t]:null}var C=function(e){switch(e.type){case d.IIU.CUSTOM_STATUS:return 4;case d.IIU.COMPETING:return 3;case d.IIU.STREAMING:return 2;case d.IIU.PLAYING:return 1;default:return 0}};var U=function(e){return(0,a.Z)(e)?1:0}
;function L(e,t){return function(e,t){return C(t)-C(e)}(e,t)||function(e,t){return U(t)-U(e)}(e,t)||function(e,t){var n,r;return(null!==(n=t.created_at)&&void 0!==n?n:0)-(null!==(r=e.created_at)&&void 0!==r?r:0)}(e,t)}function F(e){delete P[e];delete T[e];delete R[e];if(null!=w[e]){var t=S(u().sortBy(w[e],(function(e){return-e.timestamp})),1),n=t[0];if(n.status!==d.Skl.OFFLINE){P[e]=n.status;T[e]=n.activities;null!=n.clientStatus&&(R[e]=n.clientStatus)}else u().every(w[e],(function(e){return e.status===d.Skl.OFFLINE}))&&delete w[e]}}function j(e){var t=w[e];if(null!=t){var n=u().maxBy(Object.values(t),(function(e){return e.timestamp}));if(n.status!==d.Skl.OFFLINE){P[e]=n.status;T[e]=n.activities;null!=n.clientStatus&&(R[e]=n.clientStatus)}}}function M(e){var t=e.guildId,n=e.userId,r=e.status,o=e.clientStatus,u=e.activities;if(n===s.default.getId())return!1;var l=w[n];if(null==l){if(r===d.Skl.OFFLINE)return!1;l=w[n]={}}if(r===d.Skl.OFFLINE)l[t]={status:r,clientStatus:o,activities:I,
timestamp:Date.now()};else{var c=u.length>1?b(u).sort(L):u,a=l[t];u=null!=a&&i()(a.activities,c)?a.activities:c;l[t]={status:r,clientStatus:o,activities:u,timestamp:Date.now()}}delete N[n];F(n);return!0}function D(e){var t=e.guildId,n=e.userId,r=e.status,i=e.clientStatus,o=e.activities,u=e.timestamp;if(n!==s.default.getId()){var l=w[n];if(null==l){if(r===d.Skl.OFFLINE)return;l=w[n]={}}if(r===d.Skl.OFFLINE)l[t]={status:r,clientStatus:i,activities:I,timestamp:Date.now()};else{var c=o.length>1?b(o).sort(L):o;l[t]={status:r,clientStatus:i,activities:c,timestamp:u}}}}function k(e,t){if(t===s.default.getId())return!1;var n=w[t];if(null==n||null==n[e])return!1;delete n[e];0===Object.keys(n).length&&delete w[t];F(t)}function Z(e){var t=!0,n=!1,r=void 0;try{for(var i,o=Object.keys(w)[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){k(e,i.value)}}catch(e){n=!0;r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}}var G=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&h(e,t)}(n,e);var t=g(n);function n(){O(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(s.default)};r.setCurrentUserOnConnectionOpen=function(e,t){P[s.default.getId()]=e;T[s.default.getId()]=t};r.getStatus=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d.Skl.OFFLINE,r=f.default.getUser(e);null!=r&&r.hasFlag(d.xW$.BOT_HTTP_INTERACTIONS)&&(n=d.Skl.UNKNOWN);if(null==r?void 0:r.isClyde())return d.Skl.ONLINE;if(null==t){var i;return null!==(i=P[e])&&void 0!==i?i:n}var o,u=A(e,t);return null!==(o=null==u?void 0:u.status)&&void 0!==o?o:n};r.getActivities=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null==t){var n
;return null!==(n=T[e])&&void 0!==n?n:I}var r=A(e,t);return null==r||null==r.activities?I:r.activities};r.getPrimaryActivity=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.getActivities(e,t);return n[0]};r.getAllApplicationActivities=function(e){var t=[],n=!0,r=!1,i=void 0;try{for(var o,u=Object.keys(T)[Symbol.iterator]();!(n=(o=u.next()).done);n=!0){var l=o.value,c=T[l],a=!0,s=!1,f=void 0;try{for(var d,p=c[Symbol.iterator]();!(a=(d=p.next()).done);a=!0){var O=d.value;O.application_id===e&&t.push({userId:l,activity:O})}}catch(e){s=!0;f=e}finally{try{a||null==p.return||p.return()}finally{if(s)throw f}}}}catch(e){r=!0;i=e}finally{try{n||null==u.return||u.return()}finally{if(r)throw i}}return t};r.getApplicationActivity=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this.findActivity(e,(function(e){return e.application_id===t}),n)};r.findActivity=function(e,t){
var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this.getActivities(e,n).find(t)};r.getActivityMetadata=function(e){return N[e]};r.getUserIds=function(){return Object.keys(T)};r.isMobileOnline=function(e){var t=R[e];return null!=t&&t[d.X5t.MOBILE]===d.Skl.ONLINE&&t[d.X5t.DESKTOP]!==d.Skl.ONLINE};r.getState=function(){return{presencesForGuilds:w,statuses:P,activities:T,activityMetadata:N,clientStatuses:R}};r.__getLocalVars=function(){return{NO_ACTIVITIES:I,presencesForGuilds:w,statuses:P,activities:T,clientStatuses:R,activityMetadata:N,typeScore:C,richnessScore:U}};return n}(l.ZP.Store);G.displayName="PresenceStore";const B=new G(c.Z,{CONNECTION_OPEN:function(){return!0},CONNECTION_OPEN_SUPPLEMENTAL:function(e){var t=e.guilds,n=e.presences,r=s.default.getId();w={};N={};P=_({},r,P[r]);T=_({},r,T[r]);R=_({},r,{});var i=new Set,o=Date.now();t.forEach((function(e){e.presences.forEach((function(t){var n=t.user,r=t.status,u=t.clientStatus,l=t.activities;D({
guildId:e.id,userId:n.id,status:r,clientStatus:u,activities:l,timestamp:o});i.add(n.id)}))}));n.forEach((function(e){var t=e.user,n=e.status,r=e.clientStatus,u=e.activities;if(null!=t){D({guildId:d.ME,userId:t.id,status:n,clientStatus:r,activities:u,timestamp:o});i.add(t.id)}}));i.delete(r);i.forEach(j)},OVERLAY_INITIALIZE:function(e){var t=e.presences;w=t.presencesForGuilds;P=t.statuses;T=t.activities;N=t.activityMetadata},GUILD_CREATE:function(e){var t=e.guild;t.presences.forEach((function(e){var n=e.user,r=e.status,i=e.clientStatus,o=e.activities;M({guildId:t.id,userId:n.id,status:r,clientStatus:i,activities:o})}))},GUILD_DELETE:function(e){Z(e.guild.id)},GUILD_MEMBER_REMOVE:function(e){return k(e.guildId,e.user.id)},PRESENCE_UPDATES:function(e){return e.updates.map((function(e){var t=e.guildId,n=e.user,r=e.status,i=e.clientStatus,o=e.activities;return M({guildId:null!=t?t:d.ME,userId:n.id,status:r,clientStatus:i,activities:o})})).some((function(e){return e}))},
PRESENCES_REPLACE:function(e){var t=e.presences;Z(d.ME);t.forEach((function(e){var t=e.user,n=e.status,r=e.clientStatus,i=e.activities;null!=t&&M({guildId:d.ME,userId:t.id,status:n,clientStatus:r,activities:i})}))},ACTIVITY_METADATA_UPDATE:function(e){var t=e.userId,n=e.metadata;N[t]=n;return!1},THREAD_MEMBER_LIST_UPDATE:function(e){var t=e.guildId;e.members.forEach((function(e){null!=e.presence&&M({guildId:t,userId:e.user_id,status:e.presence.status,clientStatus:e.presence.clientStatus,activities:e.presence.activities})}))},THREAD_MEMBERS_UPDATE:function(e){var t=e.guildId,n=e.addedMembers;null==n||n.forEach((function(e){null!=e.presence&&M({guildId:t,userId:e.userId,status:e.presence.status,clientStatus:e.presence.clientStatus,activities:e.presence.activities})}))},SELF_PRESENCE_STORE_UPDATE:function(e){var t=s.default.getId();if(P[t]===e.status&&T[t]===e.activities)return!1;P[t]=e.status;T[t]=e.activities;delete N[t]}})},901654:(e,t,n)=>{n.d(t,{Z:()=>b})
;var r=n(441143),i=n.n(r),o=n(202351),u=n(744564),l=n(575978);function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function s(e){s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return s(e)}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){a(e,t,n[t])}))}return e}function d(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function p(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function O(e,t){O=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return O(e,t)}var _=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var i=s(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p(this,n)}}
var E=new Map;function h(e){var t=E.get(e);if(null==t){console.warn("Window state not initialized",e);return{isElementFullscreen:!1,focused:!1,windowSize:{width:0,height:0}}}return t}var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&O(e,t)}(n,e);var t=y(n);function n(){c(this,n);return t.apply(this,arguments)}var r=n.prototype;r.isFocused=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,l.UU)();return h(e).focused};r.isElementFullScreen=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,l.UU)();return h(e).isElementFullscreen};r.windowSize=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,l.UU)();return h(e).windowSize};r.__getLocalVars=function(){return{windowStates:E}};return n}(o.ZP.Store);S.displayName="WindowStore"
;const b=new S(u.Z,{WINDOW_INIT:function(e){i()(!E.has(e.windowId),"Window initialized multiple times");var t=e.width,n=e.height,r=e.isElementFullscreen,o=e.focused;E.set(e.windowId,{windowSize:{width:t,height:n},isElementFullscreen:r,focused:o});return!0},WINDOW_FULLSCREEN_CHANGE:function(e){var t=h(e.windowId);if(t.isElementFullscreen===e.isElementFullscreen)return!1;E.set(e.windowId,d(f({},t),{isElementFullscreen:e.isElementFullscreen}));return!0},WINDOW_FOCUS:function(e){var t=h(e.windowId);if(t.focused===e.focused)return!1;E.set(e.windowId,d(f({},t),{focused:e.focused}));return!0},WINDOW_RESIZED:function(e){var t=h(e.windowId);if(t.windowSize.width===e.width&&t.windowSize.height===e.height)return!1;E.set(e.windowId,d(f({},t),{windowSize:{width:e.width,height:e.height}}));return!0},WINDOW_UNLOAD:function(e){E.delete(e.windowId);return!0}})},615457:(e,t,n)=>{n.d(t,{A:()=>i,P:()=>o});var r=50;function i(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100
;if(0===e)return 0;t=e>n?(e-n)/n*6:e/n*r-r;return n*Math.pow(10,t/20)}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;if(0===e)return 0;var n=20*Math.log10(e/t);return t*(n>0?n/6+1:(r+n)/r)}},202181:(e,t,n)=>{n.d(t,{fn:()=>i,Dj:()=>u,Pr:()=>l,rB:()=>c,NO:()=>a,uF:()=>s});var r=n(296602);function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.find((function(e){return null!=e&&o(e)}))}function o(e){return null!=e.requestFullscreen||null!=e.webkitRequestFullscreen||e.webkitSupportsFullscreen||null!=e.mozRequestFullScreen||null!=e.msRequestFullscreen}function u(e){
"function"==typeof e.requestFullscreen?e.requestFullscreen():"function"==typeof e.webkitRequestFullscreen?e.webkitRequestFullscreen():"function"==typeof e.webkitEnterFullscreen?e.webkitEnterFullscreen():"function"==typeof e.mozRequestFullScreen?e.mozRequestFullScreen():"function"==typeof e.msRequestFullscreen?e.msRequestFullscreen():new r.Z("FullScreenUtils").warn("Fullscreen API is not supported.")}function l(e,t){var n=null!=t?t:document;c(null,n)&&("function"==typeof n.exitFullscreen?n.exitFullscreen():"function"==typeof n.webkitExitFullscreen?n.webkitExitFullscreen():"function"==typeof e.webkitExitFullscreen?e.webkitExitFullscreen():"function"==typeof n.mozCancelFullScreen?n.mozCancelFullScreen():"function"==typeof n.msExitFullscreen?n.msExitFullscreen():new r.Z("FullScreenUtils").warn("Fullscreen API is not supported."))}function c(e,t){var n=null!=t?t:document
;return Boolean(null!=n.fullscreenElement||null!=n.mozFullScreenElement||null!=n.webkitFullscreenElement||null!=n.msFullscreenElement||null!=e&&e.webkitDisplayingFullscreen)}var a=function(){if("undefined"!=typeof document){var e=document.createElement("video");if("function"==typeof e.requestFullscreen)return"fullscreenchange";if("function"==typeof e.webkitRequestFullscreen)return"webkitfullscreenchange";if("function"==typeof e.webkitEnterFullscreen)return"webkitendfullscreen";if("function"==typeof e.mozRequestFullScreen)return"mozfullscreenchange";if("function"==typeof e.msRequestFullscreen)return"msfullscreenchange"}else console.warn("FullScreenUtils has been imported in a non-web environment");return"fullscreenchange"}();function s(e,t){e.addEventListener(a,t);e.addEventListener("webkitfullscreenchange",t);return function(){e.removeEventListener(a,t);e.removeEventListener("webkitfullscreenchange",t)}}}}]);
//# sourceMappingURL=17e7adc5f084a61704c9.js.map