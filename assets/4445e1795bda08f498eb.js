"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[64045],{164045:(t,e,n)=>{n.d(e,{Z:()=>rt});var r=n(785893),o=n(667294),i=n(427537),u=n.n(i),c=n(717187),a=n.n(c),l=n(120415),s=n(310126),f=n(79251),p=n(2590);function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y(t){y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)};return y(t)}function b(t,e){return!e||"object"!==R(e)&&"function"!=typeof e?h(t):e}function m(t,e){m=Object.setPrototypeOf||function(t,e){t.__proto__=e;return t};return m(t,e)}function v(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],u=!0,c=!1;try{
for(n=n.call(t);!(u=(r=n.next()).done);u=!0){i.push(r.value);if(e&&i.length===e)break}}catch(t){c=!0;o=t}finally{try{u||null==n.return||n.return()}finally{if(c)throw o}}return i}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var R=function(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};function g(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{
Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(t){return!1}}();return function(){var n,r=y(t);if(e){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b(this,n)}}var O=[],_=function(t,e,n){var r=(0,l.ED)()?0:1;t===p.MoX.MOUSE_BUTTON&&n===r||O.forEach((function(r){return r._handleEvent(t,e,n)}))},C=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}});e&&m(t,e)}(n,t);var e=g(n);function n(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var t;(t=e.call(this)).combo=[];O.push(h(t));1===O.length&&s.default.setOnInputEventCallback(_);return t}var r=n.prototype;r.destroy=function(){var t=this;this.removeAllListeners();0===(O=O.filter((function(e){return e!==t
}))).length&&s.default.setOnInputEventCallback(null)};r.toString=function(){return(0,f.BB)(this.combo)};r._handleEvent=function(t,e,n){if(0===e)this.combo=this.combo.filter((function(e){var r=v(e,2),o=r[0],i=r[1];return!(o===t&&i===n)}));else{this.combo.push([t,n,(0,f.dU)()]);this.emit("change",this)}};return n}(a()),E=n(294184),w=n.n(E),S=n(238736),D=n.n(S),j=n(496486),T=n.n(j),N=n(945460),I=n(107364),U=n(473708),A=n(666499),B=n.n(A);function k(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function M(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n;return t}function P(t){P=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)};return P(t)}function x(t,e){return!e||"object"!==Z(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function F(t,e){
F=Object.setPrototypeOf||function(t,e){t.__proto__=e;return t};return F(t,e)}var G,L,Z=function(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};function K(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(t){return!1}}();return function(){var n,r=P(t);if(e){var o=P(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x(this,n)}}!function(t){t.DEFAULT="DEFAULT";t.RECORDING="RECORDING"}(G||(G={}));var W=(M(L={},G.DEFAULT,B().default),M(L,G.RECORDING,B().recording),L),V=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}});e&&F(t,e)}(n,t);var e=K(n)
;function n(){k(this,n);var t;(t=e.apply(this,arguments))._inputId=T().uniqueId("key-recorder-");t._unregisterNativeRecorder=null;t._mousedownMode=null;t._inputRef=o.createRef();t._containerRef=o.createRef();t.setInputRef=function(e){var n,r,o=t.props,i=o.registerNativeRecorder,u=o.onChange;t._inputRef.current=e;null===(r=(n=t)._unregisterNativeRecorder)||void 0===r||r.call(n);if(null!=e)if(null!=i&&null!=u)t._unregisterNativeRecorder=i(e.id,u);else if(null!=u){new(D())(e).handleKey=u}};t.handleClick=function(e){e.stopPropagation();e.preventDefault();var n=t.props,r=n.onClick;n.disableOnClickWhileRecording&&t._mousedownMode===G.RECORDING||r()};t.handleMouseDown=function(){t._mousedownMode=t.props.mode};return t}var i=n.prototype;i.componentWillUnmount=function(){null!=this._unregisterNativeRecorder&&this._unregisterNativeRecorder()};i.componentDidUpdate=function(t){var e=this.props.mode;if(t.mode!==e){var n=this._inputRef;if(null!=n.current){var r=document.activeElement
;e===G.DEFAULT&&n.current===r&&n.current.blur();e===G.RECORDING&&n.current!==r&&n.current.focus()}}};i.render=function(){var t,e=this,n=this.props,o=n.mode,i=n.value,u=n.disabled,c=(0,f.BB)(i,!0);t=o===G.RECORDING?U.Z.Messages.SHORTCUT_RECORDER_BUTTON_RECORDING:0===i.length?U.Z.Messages.SHORTCUT_RECORDER_BUTTON:U.Z.Messages.SHORTCUT_RECORDER_BUTTON_EDIT;var a,l=o===G.DEFAULT&&i.length>0;return(0,r.jsx)(N.FocusRing,{focusTarget:this._inputRef,ringTarget:this._containerRef,children:(0,r.jsx)("div",{onClick:this.handleClick,onMouseDown:this.handleMouseDown,ref:this._containerRef,className:w()(B().container,W[o],(a={},M(a,B().hasValue,l),M(a,B().disabled,u),a)),children:(0,r.jsxs)(I.Z,{className:B().layout,children:[(0,r.jsx)(I.Z.Child,{className:B().input,children:(0,r.jsx)("input",{id:this._inputId,placeholder:U.Z.Messages.SHORTCUT_RECORDER_NO_BIND,type:"text",ref:this.setInputRef,readOnly:!0,value:c,disabled:this.props.mode!==G.RECORDING||u})}),(0,r.jsx)(I.Z,{shrink:1,grow:0,style:{
margin:0},children:(0,r.jsxs)(N.Button,{className:B().button,disabled:u,onClick:function(t){t.stopPropagation();t.preventDefault();e.handleClick(t)},size:N.Button.Sizes.MIN,color:N.ButtonColors.PRIMARY,children:[(0,r.jsx)("span",{className:B().text,children:t}),(0,r.jsx)("span",{className:B().editIcon})]})})]})})})};return n}(o.PureComponent);const Y=V;function H(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function X(t){X=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)};return X(t)}function z(t,e){return!e||"object"!==Q(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function $(t,e){$=Object.setPrototypeOf||function(t,e){t.__proto__=e;return t};return $(t,e)}function q(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){
var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],u=!0,c=!1;try{for(n=n.call(t);!(u=(r=n.next()).done);u=!0){i.push(r.value);if(e&&i.length===e)break}}catch(t){c=!0;o=t}finally{try{u||null==n.return||n.return()}finally{if(c)throw o}}return i}}(t,e)||tt(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(t){return function(t){if(Array.isArray(t))return H(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||tt(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Q=function(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};function tt(t,e){if(t){
if("string"==typeof t)return H(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?H(t,e):void 0}}function et(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(t){return!1}}();return function(){var n,r=X(t);if(e){var o=X(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return z(this,n)}}var nt=l.FB&&null!=s.default.getDiscordUtils().inputCaptureRegisterElement;const rt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}})
;e&&$(t,e)}(n,t);var e=et(n);function n(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var r;(r=e.call(this,t))._mounted=!1;r.recordStart=function(){if(l.FB&&!nt){r.gs=new C;r.gs.on("change",r.handleGSChange)}r.setState({mode:G.RECORDING})};r.recordEnd=function(){r.cleanUp();r.setState({mode:G.DEFAULT})};r.toggleRecordMode=function(){r.state.mode===G.DEFAULT?r.recordStart():r.recordEnd()};r.handleComboKeys=function(t,e,n){n.preventDefault();if("keydown"===n.type){var o=e.map((function(t){return[p.MoX.KEYBOARD_KEY,u()(t),p.CgE.BROWSER]})),i=n.keyCode;null==o.find((function(t){var e=q(t,2)[1];return i===e}))&&o.push([p.MoX.KEYBOARD_KEY,i,p.CgE.BROWSER]);r.handleComboChange(o)}};r.handleGSChange=function(t){if(!1!==r._mounted){var e=J(t.combo);r.handleComboChange(e)}};r.handleNativeChange=function(t){t.length>0&&r.handleComboChange(t);r.recordEnd()};var o=t.defaultValue;r.state={codes:o,mode:G.DEFAULT};return r}var o=n.prototype
;o.componentDidMount=function(){this._mounted=!0};o.componentWillUnmount=function(){this._mounted=!1;this.cleanUp()};o.componentDidUpdate=function(t){this.props.defaultValue!==t.defaultValue&&this.setState({codes:this.props.defaultValue})};o.cleanUp=function(){if(l.FB&&null!=this.gs){this.gs.destroy();this.gs=null}};o.handleComboChange=function(t){var e=this.state.mode,n=this.props.onChange;if(e===G.RECORDING){null!=n&&n(t);this.setState({codes:t})}};o.render=function(){var t,e,n=this.state,o=n.codes,i=n.mode,u=this.props.disabled;if(nt){e=s.default.getDiscordUtils().inputCaptureRegisterElement;t=this.handleNativeChange}else l.FB||(t=this.handleComboKeys);return(0,r.jsx)(Y,{disabled:u,value:o,mode:i,onClick:this.toggleRecordMode,onChange:t,registerNativeRecorder:e,disableOnClickWhileRecording:nt})};return n}(o.PureComponent)}}]);
//# sourceMappingURL=4445e1795bda08f498eb.js.map