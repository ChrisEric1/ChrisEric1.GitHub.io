"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[61953],{997244:(e,t,n)=>{n.d(t,{Z:()=>h});var r=n(281110),o=n(744564),i=n(610773),u=n(840922),a=n(473903),l=n(652591),c=n(105783),s=n(560923),f=n(116404),d=n(2590),p=n(473708);const h={call:function(e,t,n,o,i){var h=this,E=function(n){f.default.selectVoiceChannel(e,t);n&&h.ring(e);null==i||i(e)};if(null!=o){if(u.Z.isBlocked(o))return;var _=a.default.getUser(o);r.Z.get({url:d.ANM.CALL(e),oldFormErrors:!0}).then((function(e){E(n&&e.body.ringable)}),(function(){l.default.track(d.rMx.OPEN_POPOUT,{type:"Not Friend",source:"Call"});c.Z.show({title:p.Z.Messages.START_CALL,body:p.Z.Messages.CALL_INVITE_NOT_FRIENDS.format({username:null!=_?_.username:""}),confirmText:p.Z.Messages.ADD_FRIEND_BUTTON,cancelText:p.Z.Messages.OKAY,onConfirm:function(){s.Z.addRelationship({userId:o,context:{location:"Call"}})}})}))}else E(n)},ring:function(e,t){var n=i.Z.getCall(e)
;null==n||null==n.messageId||i.Z.isCallUnavailable(e)?o.Z.dispatch({type:"CALL_ENQUEUE_RING",channelId:e,recipients:t}):r.Z.post({url:d.ANM.CALL_RING(e),body:{recipients:t},oldFormErrors:!0})},stopRinging:function(e,t){return r.Z.post({url:d.ANM.CALL_STOP_RINGING(e),body:{recipients:t},oldFormErrors:!0})}}},761953:(e,t,n)=>{n.d(t,{Z:()=>A});var r=n(281110),o=n(575945),i=n(744564),u=n(10390),a=n(62277),l=n(3930),c=n(784426),s=n(382060),f=n(61209),d=n(534681),p=n(997244),h=n(116404),E=n(2590),_=n(473708);function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t,n,r,o,i,u){try{var a=e[i](u),l=a.value}catch(e){n(e);return}a.done?t(l):Promise.resolve(l).then(r,o)}function b(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function u(e){v(i,r,o,u,a,"next",e)}function a(e){v(i,r,o,u,a,"throw",e)}u(void 0)}))}}function O(e,t){return function(e){if(Array.isArray(e))return e
}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],u=!0,a=!1;try{for(n=n.call(e);!(u=(r=n.next()).done);u=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){a=!0;o=e}finally{try{u||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var N=function(e,t){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},
"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:u.label++;return{value:i[1],done:!1};case 5:u.label++;r=i[1];i=[0];continue;case 7:i=u.ops.pop();u.trys.pop();continue;default:if(!(o=u.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1];o=i;break}if(o&&u.label<o[2]){u.label=o[2];u.ops.push(i);break}o[2]&&u.ops.pop();u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};const A={openPrivateChannel:function(e){
var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;return b((function(){var u,a,c,s,f,d,h,_,y;return N(this,(function(v){switch(v.label){case 0:u=this._getRecipients(e);a=function(e){t&&p.Z.call(e.id,n,!0,e.isDM()?e.getRecipientId():null)};if(1===u.length){c=O(u,1),s=c[0];if(null!=(f=this._openCachedDMChannel(s,i))){a(f);return[2,Promise.resolve(f.id)]}}v.label=1;case 1:v.trys.push([1,3,,4]);return[4,r.Z.post({url:E.ANM.USER_CHANNELS,body:{recipients:u},context:{location:o},oldFormErrors:!0})];case 2:d=v.sent();null==i||i();h=this._openPrivateChannel(d.body);a(h);return[2,d.body.id];case 3:(null==(_=v.sent())||null===(y=_.body)||void 0===y?void 0:y.code)===E.evJ.QUARANTINED&&(0,l.default)();throw _;case 4:return[2]}}))})).apply(this)},createBroadcastPrivateChannel:function(){return b((function(){var e,t,n,o;return N(this,(function(i){
switch(i.label){case 0:i.trys.push([0,2,,3]);return[4,r.Z.post({url:E.ANM.BROADCAST_PRIVATE_CHANNEL})];case 1:e=i.sent();t=this._openPrivateChannel(e.body);p.Z.call(t.id,!1,!1,null);return[2,e.body.id];case 2:(null==(n=i.sent())||null===(o=n.body)||void 0===o?void 0:o.code)===E.evJ.QUARANTINED&&(0,l.default)();throw n;case 3:return[2]}}))})).apply(this)},_openCachedDMChannel:function(e,t){var n=f.Z.getDMFromUserId(e),r=null!=n?f.Z.getChannel(n):null;if(null!=r){null==t||t();null!=(0,a.PP)()?(0,c.uL)(E.Z5c.CHANNEL(E.ME,r.id),{navigationReplace:!0}):h.default.selectPrivateChannel(r.id);return r}return null},ensurePrivateChannel:function(e){return b((function(){var t,n,o;return N(this,(function(u){switch(u.label){case 0:t=this._getRecipients(e);return[4,r.Z.post({url:E.ANM.USER_CHANNELS,body:{recipients:t},oldFormErrors:!0})];case 1:n=u.sent();o=(0,s.q_)(n.body);i.Z.dispatch({type:"CHANNEL_CREATE",channel:o});return[2,o.id]}}))})).apply(this)},getOrEnsurePrivateChannel:function(e){
return b((function(){var t;return N(this,(function(n){switch(n.label){case 0:return null!=(t=f.Z.getDMFromUserId(e))?[2,t]:[4,this.ensurePrivateChannel(e)];case 1:return[2,n.sent()]}}))})).apply(this)},getDMChannel:function(e){return b((function(){var t,n;return N(this,(function(o){switch(o.label){case 0:return[4,r.Z.get(E.ANM.DM_CHANNEL(e))];case 1:t=o.sent();n=(0,s.q_)(t.body);i.Z.dispatch({type:"CHANNEL_CREATE",channel:n});return[2,n.id]}}))}))()},_getRecipients:function(e){return null!=e?Array.isArray(e)?e:[e]:[]},_openPrivateChannel:function(e){var t=(0,s.q_)(e);i.Z.dispatch({type:"CHANNEL_CREATE",channel:t});null!=(0,a.PP)()?(0,c.uL)(E.Z5c.CHANNEL(E.ME,t.id),{navigationReplace:!0}):h.default.selectPrivateChannel(t.id);return t},closePrivateChannel:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];i.Z.dispatch({type:"CHANNEL_DELETE",channel:{id:e,guild_id:null,parent_id:null},silent:n})
;t&&!__OVERLAY__&&(0,c.uL)(E.Z5c.FRIENDS);return r.Z.delete({url:E.ANM.CHANNEL(e),query:{silent:n},oldFormErrors:!0}).then((function(){o.uv.announce(_.Z.Messages.A11Y_ANNOUNCEMENT_DM_CLOSED)})).catch((function(){o.uv.announce(_.Z.Messages.A11Y_ANNOUNCEMENT_DM_CLOSED_FAILED)}))},updatePermissionOverwrite:function(e,t){return r.Z.put({url:E.ANM.CHANNEL_PERMISSIONS_OVERWRITE(e,t.id),body:t,oldFormErrors:!0})},clearPermissionOverwrite:function(e,t){return r.Z.delete({url:E.ANM.CHANNEL_PERMISSIONS_OVERWRITE(e,t),oldFormErrors:!0})},addRecipient:function(e,t,n,i){var u=this;return r.Z.put({url:E.ANM.CHANNEL_RECIPIENT(e,t),context:{location:n},oldFormErrors:!0}).then((function(t){o.uv.announce(_.Z.Messages.A11Y_ANNOUNCEMENT_USER_ADDED_TO_GROUP_DM);null==i||i();return 201===t.status?u._openPrivateChannel(t.body).id:e})).catch((function(){o.uv.announce(_.Z.Messages.A11Y_ANNOUNCEMENT_USER_ADDED_TO_GROUP_DM_FAILED);return e}))},addRecipients:function(e,t,n,r){var o=this
;return this.addRecipient(e,t[0],n,r).then((function(e){return Promise.all(t.slice(1).map((function(t){return o.addRecipient(e,t,n)}))).then((function(){return e}))}))},removeRecipient:function(e,t){return r.Z.delete({url:E.ANM.CHANNEL_RECIPIENT(e,t),oldFormErrors:!0})},setDMOwner:function(e,t){return r.Z.patch({url:E.ANM.CHANNEL(e),body:{owner:t},oldFormErrors:!0})},setName:function(e,t){return b((function(){var n,o,i;return N(this,(function(a){switch(a.label){case 0:n=f.Z.getChannel(e);return[4,r.Z.patch({url:E.ANM.CHANNEL(e),body:{name:t},oldFormErrors:!0})];case 1:o=a.sent();null==(i=null==n?void 0:n.getGuildId())||(null==n?void 0:n.isThread())||u.Z.checkGuildTemplateDirty(i);return[2,o]}}))}))()},setIcon:function(e,t){var n=f.Z.getChannel(e);r.Z.patch({url:E.ANM.CHANNEL(e),body:{icon:t},oldFormErrors:!0}).then((function(){var e=null==n?void 0:n.getGuildId();null==e||(null==n?void 0:n.isThread())||u.Z.checkGuildTemplateDirty(e)}))},convertToGuild:function(e){return r.Z.post({
url:E.ANM.CHANNEL_CONVERT(e),oldFormErrors:!0})},preload:function(e,t,n){i.Z.dispatch({type:"CHANNEL_PRELOAD",guildId:e===E.ME?null:e,channelId:t,isHighlight:n,context:E.e3s})},fetchChannelStoreListing:function(e,t){var n=null!=t?E.ANM.CHANNEL_STORE_LISTING_SKU(e,t):E.ANM.CHANNEL_STORE_LISTING(e);return(0,d.Kb)(n).then((function(t){i.Z.dispatch({type:"STORE_LISTING_FETCH_SUCCESS",channelId:e,storeListing:t.body})}))},createTextChannel:function(e,t,n,o){return b((function(){var i,a;return N(this,(function(l){switch(l.label){case 0:i={type:E.d4z.GUILD_TEXT,name:t,permission_overwrites:[]};null!=n&&(i.parent_id=n);null!=o&&(i.topic=o);return[4,r.Z.post({url:E.ANM.GUILD_CHANNELS(e),body:i,oldFormErrors:!0})];case 1:a=l.sent();u.Z.checkGuildTemplateDirty(e);return[2,a]}}))}))()}}},87127:(e,t,n)=>{n.d(t,{S1:()=>p,xv:()=>h,zc:()=>E,pW:()=>_,wk:()=>y,zz:()=>b,ZP:()=>O});var r=n(281110),o=n(744564),i=n(10390),u=n(671293),a=n(61209),l=n(735885),c=n(2590);function s(e,t,n,r,o,i,u){try{
var a=e[i](u),l=a.value}catch(e){n(e);return}a.done?t(l):Promise.resolve(l).then(r,o)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function u(e){s(i,r,o,u,a,"next",e)}function a(e){s(i,r,o,u,a,"throw",e)}u(void 0)}))}}var d=function(e,t){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:u.label++;return{value:i[1],done:!1};case 5:u.label++;r=i[1];i=[0];continue;case 7:i=u.ops.pop();u.trys.pop();continue;default:if(!(o=u.trys,
o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1];o=i;break}if(o&&u.label<o[2]){u.label=o[2];u.ops.push(i);break}o[2]&&u.ops.pop();u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};function p(e,t,n){o.Z.dispatch({type:"CHANNEL_SETTINGS_INIT",channelId:e,location:t,subsection:n})}function h(){o.Z.dispatch({type:"CHANNEL_SETTINGS_CLOSE"})}function E(e){o.Z.dispatch({type:"CHANNEL_SETTINGS_SET_SECTION",section:e})}function _(e){
var t=e.name,n=e.type,r=e.topic,i=e.bitrate,u=e.userLimit,a=e.nsfw,l=e.flags,c=e.rateLimitPerUser,s=e.defaultThreadRateLimitPerUser,f=e.defaultAutoArchiveDuration,d=e.template,p=e.defaultReactionEmoji,h=e.rtcRegion,E=e.videoQualityMode,_=e.autoArchiveDuration,y=e.locked,v=e.invitable,b=e.availableTags,O=e.defaultSortOrder,N=e.defaultForumLayout,A=e.iconEmoji,m=e.themeColor;o.Z.dispatch({type:"CHANNEL_SETTINGS_UPDATE",name:t,channelType:n,topic:r,bitrate:i,userLimit:u,nsfw:a,flags:l,rateLimitPerUser:c,defaultThreadRateLimitPerUser:s,defaultAutoArchiveDuration:f,template:d,defaultReactionEmoji:p,rtcRegion:h,videoQualityMode:E,autoArchiveDuration:_,locked:y,invitable:v,availableTags:b,defaultSortOrder:O,defaultForumLayout:N,iconEmoji:A,themeColor:m})}function y(e,t){return v.apply(this,arguments)}function v(){return(v=f((function(e,t){var n,l,s,f,p,h,E,_,y,v,b,O,N,A,m,g,I,C,S,T,R,D,Z,w,P;return d(this,(function(d){switch(d.label){case 0:n=t.name,l=t.type,s=t.position,f=t.topic,
p=t.bitrate,h=t.userLimit,E=t.nsfw,_=t.flags,y=t.permissionOverwrites,v=t.rateLimitPerUser,b=t.defaultThreadRateLimitPerUser,O=t.defaultAutoArchiveDuration,N=t.template,A=t.defaultReactionEmoji,m=t.rtcRegion,g=t.videoQualityMode,I=t.autoArchiveDuration,C=t.locked,S=t.invitable,T=t.availableTags,R=t.defaultSortOrder,D=t.defaultForumLayout,Z=t.iconEmoji,w=t.themeColor;P=a.Z.getChannel(e);o.Z.dispatch({type:"CHANNEL_SETTINGS_SUBMIT"});return[4,u.Z.unarchiveThreadIfNecessary(e)];case 1:d.sent();return[2,r.Z.patch({url:c.ANM.CHANNEL(e),body:{name:n,type:l,position:s,topic:f,bitrate:p,user_limit:h,nsfw:E,flags:_,permission_overwrites:y,rate_limit_per_user:v,default_thread_rate_limit_per_user:b,default_auto_archive_duration:O,template:N,rtc_region:m,video_quality_mode:g,auto_archive_duration:I,locked:C,invitable:S,default_reaction_emoji:null!=A?{emoji_id:null==A?void 0:A.emojiId,emoji_name:null==A?void 0:A.emojiName}:null===A?null:void 0,available_tags:null==T?void 0:T.map((function(e){
return{id:e.id,name:e.name,emoji_id:e.emojiId,emoji_name:e.emojiName,moderated:e.moderated}})),default_sort_order:R,default_forum_layout:D,icon_emoji:null!=Z?{id:Z.id,name:Z.name}:null===Z?null:void 0,theme_color:w},oldFormErrors:!0}).then((function(t){o.Z.dispatch({type:"CHANNEL_SETTINGS_SUBMIT_SUCCESS",channelId:e});var n=null==P?void 0:P.getGuildId();null==n||(null==P?void 0:P.isThread())||i.Z.checkGuildTemplateDirty(n);return t}),(function(e){o.Z.dispatch({type:"CHANNEL_SETTINGS_SUBMIT_FAILURE",errors:e.body});return e}))]}}))}))).apply(this,arguments)}function b(e){var t=a.Z.getChannel(e);r.Z.delete({url:c.ANM.CHANNEL(e),oldFormErrors:!0}).then((function(){var e=null==t?void 0:t.getGuildId();null==e||(null==t?void 0:t.isThread())||i.Z.checkGuildTemplateDirty(e);h()}))}const O={init:p,open:function(e,t,n){p(e,t,n);(0,l.jN)(c.S9g.CHANNEL_SETTINGS)},close:h,setSection:E,selectPermissionOverwrite:function(e){o.Z.dispatch({type:"CHANNEL_SETTINGS_OVERWRITE_SELECT",overwriteId:e})},
updateChannel:_,saveChannel:y,deleteChannel:b}},560923:(e,t,n)=>{n.d(t,{Z:()=>S});var r=n(281110),o=n(575945),i=n(744564),u=n(571690),a=n(852626);var l=n(792708),c=n(3930),s=n(473903),f=n(908478),d=n(749565),p=n(105783),h=n(971402),E=n(2590),_=n(473708);function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t,n,r,o,i,u){try{var a=e[i](u),l=a.value}catch(e){n(e);return}a.done?t(l):Promise.resolve(l).then(r,o)}function b(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function u(e){v(i,r,o,u,a,"next",e)}function a(e){v(i,r,o,u,a,"throw",e)}u(void 0)}))}}function O(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){O(e,t,n[t])}))}return e}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],u=!0,a=!1;try{for(n=n.call(e);!(u=(r=n.next()).done);u=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){a=!0;o=e}finally{try{u||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var m=function(e,t){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:u.label++;return{value:i[1],done:!1};case 5:u.label++;r=i[1];i=[0];continue;case 7:i=u.ops.pop();u.trys.pop();continue;default:if(!(o=u.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){
u.label=o[1];o=i;break}if(o&&u.label<o[2]){u.label=o[2];u.ops.push(i);break}o[2]&&u.ops.pop();u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};function g(e){(0,h.Zy)();p.Z.show(e)}function I(e,t){var n=e.status,r=e.body,o=r&&r.code;switch(n){case 429:g({title:_.Z.Messages.FRIEND_REQUEST_RATE_LIMITED_HEADER,body:_.Z.Messages.FRIEND_REQUEST_RATE_LIMITED_BODY,confirmText:_.Z.Messages.FRIEND_REQUEST_RATE_LIMITED_BUTTON});break;case 403:if(o===E.evJ.EMAIL_VERIFICATION_REQUIRED){g({title:_.Z.Messages.FRIEND_REQUEST_REQUIRES_EMAIL_VALIDATION_HEADER,body:_.Z.Messages.FRIEND_REQUEST_REQUIRES_EMAIL_VALIDATION_BODY,confirmText:_.Z.Messages.FRIEND_REQUEST_REQUIRES_EMAIL_VALIDATION_BUTTON,onConfirm:function(){a.j()}});break}default:if(o===E.evJ.USER_QUARANTINED)!function(){(0,h.Zy)();(0,c.default)()}();else{var i=(0,
l.$)()?_.Z.Messages.POMELO_ADD_FRIEND_ERROR:_.Z.Messages.ADD_FRIEND_ERROR_OTHER,u=null!=t?(0,f.N)(o||0,t,(0,l.$)()):i;g({title:_.Z.Messages.FRIEND_REQUEST_FAILED_HEADER,body:u,confirmText:_.Z.Messages.OKAY})}}throw e}var C={sendRequest:function(e,t,o){var i,a=A(e.split("#"),2),l=a[0],c=a[1];return r.Z.post({url:E.ANM.USER_RELATIONSHIPS(),body:N({username:l,discriminator:parseInt(c)},o),context:t,oldFormErrors:!0}).catch((i=b((function(r){return m(this,(function(i){switch(i.label){case 0:return null==r.body||null==r.body.captcha_key||null!=o?[3,2]:[4,n.e(72519).then(n.bind(n,972519))];case 1:i.sent().default.showCaptchaAsync((0,u.extractCaptchaPropsFromResponseBody)(r.body)).then((function(n){C.sendRequest(e,t,n)}));return[3,3];case 2:I(r,e);i.label=3;case 3:return[2]}}))})),function(e){return i.apply(this,arguments)}))},addRelationship:function(e,t){var o,i=e.userId,a=e.context,l=e.type,c=e.friendToken,f=e.fromFriendSuggestion,p=e.captchaPayload,h=s.default.getUser(i);return r.Z.put({
url:E.ANM.USER_RELATIONSHIP(i),body:N({type:l,friend_token:c,from_friend_suggestion:f},p),context:a,oldFormErrors:!0}).then((function(){null==t||t()})).catch((o=b((function(e){return m(this,(function(t){switch(t.label){case 0:return null==e.body.captcha_key||null!=p?[3,2]:[4,n.e(72519).then(n.bind(n,972519))];case 1:t.sent().default.showCaptchaAsync((0,u.extractCaptchaPropsFromResponseBody)(e.body)).then((function(e){C.addRelationship({userId:i,context:a,type:l,friendToken:c,fromFriendSuggestion:f,captchaPayload:e})}));return[3,3];case 2:I(e,d.ZP.getUserTag(h));t.label=3;case 3:return[2]}}))})),function(e){return o.apply(this,arguments)}))},acceptFriendRequest:function(e){return C.addRelationship(e,(function(){o.uv.announce(_.Z.Messages.A11Y_ANNOUNCEMENT_FRIEND_ACCEPT_REQUEST)}))},cancelFriendRequest:function(e,t){return C.removeRelationship(e,t,(function(){o.uv.announce(_.Z.Messages.A11Y_ANNOUNCEMENT_FRIEND_CANCEL_REQUEST)}))},removeFriend:function(e,t){
C.removeRelationship(e,t,(function(){o.uv.announce(_.Z.Messages.A11Y_ANNOUNCEMENT_FRIEND_REMOVED)}))},unblockUser:function(e,t){C.removeRelationship(e,t,(function(){o.uv.announce(_.Z.Messages.A11Y_ANNOUNCEMENT_USER_UNBLOCKED)}))},removeRelationship:function(e,t,n){return r.Z.delete({url:E.ANM.USER_RELATIONSHIP(e),context:t,oldFormErrors:!0}).then((function(){null==n||n()})).catch((function(){o.uv.announce(_.Z.Messages.A11Y_ANNOUNCEMENT_GENERIC_FAIL)}))},updateRelationship:function(e,t){return r.Z.patch({url:E.ANM.USER_RELATIONSHIP(e),body:{nickname:t}})},fetchRelationships:function(){r.Z.get({url:E.ANM.USER_RELATIONSHIPS(),oldFormErrors:!0}).then((function(e){return i.Z.dispatch({type:"LOAD_RELATIONSHIPS_SUCCESS",relationships:e.body})}),(function(){return i.Z.dispatch({type:"LOAD_RELATIONSHIPS_FAILURE"})}))},confirmClearPendingRelationships:function(e){!function(e){(0,n(577657).Z)(e)}(e)},clearPendingRelationships:function(){return r.Z.delete({url:E.ANM.USER_RELATIONSHIPS(),query:{
relationship_type:E.OGo.PENDING_INCOMING}}).then((function(){i.Z.dispatch({type:"RELATIONSHIP_PENDING_INCOMING_REMOVED"})})).catch((function(){o.uv.announce(_.Z.Messages.A11Y_ANNOUNCEMENT_GENERIC_FAIL)}))}};const S=C},116404:(e,t,n)=>{n.r(t);n.d(t,{default:()=>B});var r=n(744564),o=n(502653),i=n(520436),u=n(409125),a=n(15338),l=n(784426),c=n(980617),s=n(166302),f=n(61209),d=n(747126),p=n(604945),h=n(69085),E=n(715107),_=n(464187),y=n(436154),v=n(473903),b=n(602397),O=n(176758),N=n(87127),A=n(264817),m=n(716371),g=n(162723),I=n(713717),C=n(359721),S=n(396043),T=n(535312),R=n(492886),D=n(296872);function Z(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable
}))));r.forEach((function(t){Z(e,t,n[t])}))}return e}function P(e,t,n,o){var i,u,a=E.Z.getVoiceChannelId(),l=f.Z.getChannel(a);if(null==t&&null!=a&&null!=l){var c=function(e,t){return w({channel_id:e.id,channel_type:e.type,guild_id:e.getGuildId(),rtc_connection_id:h.Z.getRTCConnectionId(),duration:h.Z.getDuration(),media_session_id:h.Z.getMediaSessionId()},(0,S.kO)(h.Z.getGuildId(),h.Z.getChannelId(),t))}(l,o);e();if(R.Z.hasUsedBackgroundInCall){var s=w({},c,(u=(0,T.P)(v.default.getCurrentUser()),{video_device_name:null===(i=p.Z.getVideoDevices()[p.Z.getVideoDeviceId()])||void 0===i?void 0:i.name,video_hardware_scaling_enabled:p.Z.getHardwareH264(),video_effect_type:(0,D.TA)(u),video_effect_detail:(0,D.V$)(u)}));r.Z.dispatch({type:"VIDEO_BACKGROUND_SHOW_FEEDBACK",analyticsData:s})}else r.Z.dispatch({type:"VOICE_CHANNEL_SHOW_FEEDBACK",analyticsData:c})}else e()}var L=n(567403),M=n(746477),U=n(407561);function j(e,t,n,r,o,i,u){try{var a=e[i](u),l=a.value}catch(e){n(e);return}
a.done?t(l):Promise.resolve(l).then(r,o)}function F(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function u(e){j(i,r,o,u,a,"next",e)}function a(e){j(i,r,o,u,a,"throw",e)}u(void 0)}))}}function G(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){G(e,t,n[t])}))}return e}var x=function(e,t){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){
if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:u.label++;return{value:i[1],done:!1};case 5:u.label++;r=i[1];i=[0];continue;case 7:i=u.ops.pop();u.trys.pop();continue;default:if(!(o=u.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1];o=i;break}if(o&&u.label<o[2]){u.label=o[2];u.ops.push(i);break}o[2]&&u.ops.pop();u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},H=function(e,t){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],u=function(){r.Z.dispatch({type:"VOICE_CHANNEL_SELECT",guildId:t,
channelId:e,currentVoiceChannelId:E.Z.getVoiceChannelId(),video:o,stream:i})},a=f.Z.getChannel(e),l=U.Z.getCurrentClientVoiceChannelId(null!=t?t:null)===e,c=null!=a?M.Z.getCheck(a.guild_id):null,s=null!=t&&(0,m.n)(t);if(!s&&(null==c||c.canChat||(0,g.jU)(a))){if(null!=a&&!l){var d=(0,O.rY)(a,U.Z,L.Z);if(d&&a.isGuildStageVoice()&&(0,I.xJ)(a.id)){(0,A.ZD)(F((function(){var e,t;return x(this,(function(r){switch(r.label){case 0:return[4,Promise.all([n.e(40532),n.e(40056),n.e(19887),n.e(11372),n.e(24251),n.e(6254),n.e(94302),n.e(91406),n.e(67165)]).then(n.bind(n,518197))];case 1:e=r.sent(),t=e.default;return[2,function(e){return t(k({channel:a},e))}]}}))})));return}if(d){(0,A.ZD)(F((function(){var e,t;return x(this,(function(r){switch(r.label){case 0:return[4,Promise.all([n.e(40532),n.e(51395)]).then(n.bind(n,851395))];case 1:e=r.sent(),t=e.default;return[2,function(e){return t(e)}]}}))})));return}}o&&(0,C.eH)();P(u,e,0,o)}},V=n(2590);const B={selectChannel:function(e){
var t=e.guildId,n=e.channelId,o=e.messageId,i=e.jumpType,u=e.preserveDrawerState,a=e.source;r.Z.dispatch({type:"CHANNEL_SELECT",guildId:t===V.ME?null:t,channelId:n,messageId:o,jumpType:i,preserveDrawerState:u,source:a})},selectPrivateChannel:function(e){(0,l.uL)(V.Z5c.CHANNEL(V.ME,e))},selectVoiceChannel:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=f.Z.getChannel(e),u=null==i?void 0:i.getGuildId(),a=y.Z.getBroadcast();null!=a&&a.channelId!==e&&(0,o.b)();if(!((null==i?void 0:i.isGuildVoice())||(null==i?void 0:i.isGuildStageVoice())&&(0,c.Og)(u))||!(null==i?void 0:i.isNSFW())||(null===(t=v.default.getCurrentUser())||void 0===t?void 0:t.nsfwAllowed)&&d.Z.didAgree(u)){if(p.Z.isSupported()){null!=e&&p.Z.getMediaEngine().interact();H(e,u,n,r)}}else(0,l.uL)(V.Z5c.CHANNEL(u,e))},maybeClearChannelTopic:function(){var e=h.Z.getChannelId(),t=f.Z.getChannel(e)
;(null==t?void 0:t.isGuildVoice())&&1===b.ZP.countVoiceStatesForChannel(null==t?void 0:t.id)&&0!==(null==t?void 0:t.topic.length)&&N.ZP.saveChannel(null==t?void 0:t.id,{topic:""})},disconnect:function(){var e=u.Z.getRemoteSessionId();null!=e&&i._(e);if((0,s.ur)())this.selectVoiceChannel(null);else{this.maybeClearChannelTopic();var t=f.Z.getChannel(E.Z.getChannelId()),n=E.Z.getChannelId()===E.Z.getVoiceChannelId()&&!0===(null==t?void 0:t.isThread());this.selectVoiceChannel(null);a.xv(V.KJ3.CHANNEL_CALL_POPOUT);if(n){var r=_.Z.getGuildId();null!=r&&(0,l.uL)((0,O.LY)(r))}}}}},502653:(e,t,n)=>{n.d(t,{F:()=>u,b:()=>a});var r=n(744564),o=n(736818),i=n(436154);function u(e){var t=o.default.getId(),n=o.default.getSessionId();null!=t&&null!=n&&r.Z.dispatch({type:"BROADCAST_START",broadcast:e})}function a(){null!=i.Z.getBroadcast()&&r.Z.dispatch({type:"BROADCAST_STOP"})}},852626:(e,t,n)=>{n.d(t,{i:()=>d,j:()=>p});var r=n(785893),o=(n(667294),n(264817)),i=n(561210),u=n(520453)
;function a(e,t,n,r,o,i,u){try{var a=e[i](u),l=a.value}catch(e){n(e);return}a.done?t(l):Promise.resolve(l).then(r,o)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function u(e){a(i,r,o,u,l,"next",e)}function l(e){a(i,r,o,u,l,"throw",e)}u(void 0)}))}}function c(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){c(e,t,n[t])}))}return e}var f=function(e,t){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i
;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:u.label++;return{value:i[1],done:!1};case 5:u.label++;r=i[1];i=[0];continue;case 7:i=u.ops.pop();u.trys.pop();continue;default:if(!(o=u.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1];o=i;break}if(o&&u.label<o[2]){u.label=o[2];u.ops.push(i);break}o[2]&&u.ops.pop();u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};function d(e){(0,o.ZD)(l((function(){var e,t;return f(this,(function(o){switch(o.label){case 0:
return[4,Promise.all([n.e(40532),n.e(92224),n.e(21859),n.e(84856)]).then(n.bind(n,321859))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,s({},e))}]}}))})),{modalKey:i.$$,onCloseRequest:u.dG,onCloseCallback:e})}function p(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;(0,o.ZD)(l((function(){var t,o;return f(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(88110),n.e(73496)]).then(n.bind(n,854104))];case 1:t=i.sent(),o=t.default;return[2,function(t){return(0,r.jsx)(o,s({claimRequired:e},t))}]}}))})),{onCloseRequest:e?u.dG:null,onCloseCallback:t})}},82443:(e,t,n)=>{n.d(t,{Z:()=>h});var r=n(202351),o=n(744564);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e){u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return u(e)}function a(e,t){
return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var c=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}var f=new Set,d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{
value:e,writable:!0,configurable:!0}});t&&l(e,t)}(n,e);var t=s(n);function n(){i(this,n);return t.apply(this,arguments)}var r=n.prototype;r.isDisclosed=function(e){return f.has(e)};r.__getLocalVars=function(){return{disclosures:f}};return n}(r.ZP.Store);d.displayName="DisclosureStore";function p(){f.clear()}const h=new d(o.Z,{LOGOUT:p,CONNECTION_OPEN:p,DISCLOSE_UPDATE:function(e){e.disclose.forEach((function(e){return f.add(e)}))}})},520436:(e,t,n)=>{n.d(t,{s6:()=>g,ef:()=>C,Vv:()=>S,_:()=>T,On:()=>R,LO:()=>P,bp:()=>M,sh:()=>k});var r=n(284157),o=n(349139),i=n(281110),u=n(744564),a=n(105783),l=n(704560),c=n(69085),s=n(679450),f=n(652591),d=n(22176),p=n(412491),h=n(409125),E=n(919694),_=n(2590),y=n(473708);function v(e,t,n,r,o,i,u){try{var a=e[i](u),l=a.value}catch(e){n(e);return}a.done?t(l):Promise.resolve(l).then(r,o)}function b(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function u(e){v(i,r,o,u,a,"next",e)}function a(e){
v(i,r,o,u,a,"throw",e)}u(void 0)}))}}function O(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){O(e,t,n[t])}))}return e}var A=function(e,t){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:
case 1:o=i;break;case 4:u.label++;return{value:i[1],done:!1};case 5:u.label++;r=i[1];i=[0];continue;case 7:i=u.ops.pop();u.trys.pop();continue;default:if(!(o=u.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1];o=i;break}if(o&&u.label<o[2]){u.label=o[2];u.ops.push(i);break}o[2]&&u.ops.pop();u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};function m(e,t){var n,r;f.default.track(_.rMx.REMOTE_COMMAND_SENT,{command_type:e,remote_platform:null===(n=s.Z.getSessionById(t))||void 0===n||null===(r=n.clientInfo)||void 0===r?void 0:r.os})}function g(){return I.apply(this,arguments)}function I(){return(I=b((function(){var e,t,n;return A(this,(function(r){switch(r.label){case 0:e=h.Z.getAwaitingRemoteSessionInfo();t=null==e?void 0:e.nonce;u.Z.dispatch({type:"REMOTE_SESSION_DISCONNECT"})
;n=[];(null==e?void 0:e.type)!==_.ABu.PLAYSTATION&&(null==e?void 0:e.type)!==_.ABu.PLAYSTATION_STAGING||null==(null==e?void 0:e.commandId)||null==(null==e?void 0:e.deviceId)||n.push(F(e.type,e.deviceId,e.commandId));null!=t&&n.push(w(t));r.label=1;case 1:r.trys.push([1,3,,4]);return[4,Promise.all(n)];case 2:r.sent();return[3,4];case 3:r.sent();a.Z.show({title:y.Z.Messages.CANCEL_TRANSFER_VOICE_FAILED_TITLE,body:y.Z.Messages.CANCEL_TRANSFER_VOICE_FAILED_BODY});return[3,4];case 4:return[2]}}))}))).apply(this,arguments)}function C(e){u.Z.dispatch({type:"REMOTE_SESSION_CONNECT",sessionId:e})}function S(e,t){var n=t.selfMute,r=t.selfDeaf;u.Z.dispatch({type:"REMOTE_COMMAND",sessionId:e,payload:{type:"VOICE_STATE_UPDATE",self_mute:n,self_deaf:r}});m("VOICE_STATE_UPDATE",e)}function T(e){u.Z.dispatch({type:"REMOTE_COMMAND",sessionId:e,payload:{type:"DISCONNECT"}});m("DISCONNECT",e);g()}function R(e,t,n,r){var o=(0,l.z)(n);if(null!=o){u.Z.dispatch({type:"REMOTE_COMMAND",sessionId:e,payload:N({
type:"AUDIO_SETTINGS_UPDATE",context:o,id:t},r)});m("AUDIO_SETTINGS_UPDATE",e)}}function D(){return Z.apply(this,arguments)}function Z(){return(Z=b((function(){var e,t,n,r;return A(this,(function(u){switch(u.label){case 0:u.trys.push([0,2,,3]);t=null!=c.Z.getRTCConnectionId()?o.o.TRANSFER_EXISTING_CALL:o.o.CREATE_NEW_CALL;return[4,i.Z.post({url:_.ANM.CONNECT_REQUEST_CREATE,body:{analytics_properties:{handoff_type:t}}})];case 1:n=u.sent();e=n.body.nonce;return[3,3];case 2:r=u.sent();d.Z.captureException(r);return[3,3];case 3:return[2,e]}}))}))).apply(this,arguments)}function w(e){return i.Z.delete({url:_.ANM.CONNECT_REQUEST(e)})}function P(e){return L.apply(this,arguments)}function L(){return(L=b((function(e){var t,n,r;return A(this,(function(o){switch(o.label){case 0:u.Z.dispatch({type:"GAME_CONSOLE_FETCH_DEVICES_START",platform:e});o.label=1;case 1:o.trys.push([1,3,,4]);return[4,i.Z.get({url:_.ANM.CONSOLES_DEVICES(e)})];case 2:t=o.sent();return[3,4];case 3:n=o.sent();u.Z.dispatch({
type:"GAME_CONSOLE_FETCH_DEVICES_FAIL",platform:e,error:n});throw n;case 4:r=t.body.devices;u.Z.dispatch({type:"GAME_CONSOLE_FETCH_DEVICES_SUCCESS",platform:e,devices:r});return[2,r]}}))}))).apply(this,arguments)}function M(e,t){u.Z.dispatch({type:"GAME_CONSOLE_SELECT_DEVICE",platform:e,deviceId:t})}function U(e,t,n,r){return j.apply(this,arguments)}function j(){return(j=b((function(e,t,n,o){var a,l,c;return A(this,(function(s){switch(s.label){case 0:u.Z.dispatch({type:"GAME_CONSOLE_DEVICE_SEND_COMMAND_START",platform:e});s.label=1;case 1:s.trys.push([1,3,,4]);return[4,i.Z.post({url:_.ANM.CONSOLES_DEVICES_COMMANDS(e,t),body:{command:r.n.CONNECT_VOICE,channel_id:n.id,guild_id:n.guild_id,nonce:o}})];case 2:a=s.sent();return[3,4];case 3:l=s.sent();u.Z.dispatch({type:"GAME_CONSOLE_DEVICE_SEND_COMMAND_FAIL",platform:e,error:l});throw l;case 4:c=a.body.id;u.Z.dispatch({type:"WAIT_FOR_REMOTE_SESSION",sessionType:e,nonce:o,channelId:n.id,deviceId:t,commandId:c});return[2,c]}}))
}))).apply(this,arguments)}function F(e,t,n){return G.apply(this,arguments)}function G(){return(G=b((function(e,t,n){var r;return A(this,(function(o){switch(o.label){case 0:u.Z.dispatch({type:"GAME_CONSOLE_DEVICE_CANCEL_COMMAND_START",platform:e,deviceId:t,commandId:n});o.label=1;case 1:o.trys.push([1,3,,4]);return[4,i.Z.delete({url:_.ANM.CONSOLES_DEVICES_COMMAND(e,t,n)})];case 2:o.sent();return[3,4];case 3:r=o.sent();u.Z.dispatch({type:"GAME_CONSOLE_DEVICE_CANCEL_COMMAND_FAIL",platform:e,deviceId:t,commandId:n,error:r});throw r;case 4:u.Z.dispatch({type:"GAME_CONSOLE_DEVICE_CANCEL_COMMAND_SUCCESS",platform:e,deviceId:t,commandId:n});return[2]}}))}))).apply(this,arguments)}function k(e,t,n){return x.apply(this,arguments)}function x(){return(x=b((function(e,t,n){var r;return A(this,(function(o){switch(o.label){case 0:return[4,p.Z.maybeShowPTTAlert(e)];case 1:o.sent();return[4,g()];case 2:o.sent();return[4,D()];case 3:r=o.sent();return[4,U(e,t,n,r)];case 4:o.sent();(0,E.Z)(n.id,e)
;return[2]}}))}))).apply(this,arguments)}},412491:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n(913413).Z},919694:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(61209),o=n(69085),i=n(679450),u=n(652591),a=n(2590);function l(e,t,n){var l,c;u.default.track(a.rMx.VOICE_CALL_TRANSFER,{source_platform:null!=n?null===(l=i.Z.getSessionById(n))||void 0===l?void 0:l.clientInfo.os:"discord_client",guild_id:null===(c=r.Z.getChannel(e))||void 0===c?void 0:c.guild_id,channel_id:e,rtc_connection_id:o.Z.getRTCConnectionId(),target_platform:t})}},913413:(e,t,n)=>{n.d(t,{Z:()=>g});var r=n(785893),o=n(667294),i=n(418705),u=n(264817),a=n(895303),l=n(351330),c=n(604945),s=n(202351),f=n(409125),d=n(127442),p=n.n(d);function h(e){var t=e.body,n=e.dismissCallback,i=e.errorCodeMessage,u=(0,s.e7)([f.Z],(function(){return f.Z.getRemoteSessionId()}));o.useEffect((function(){null!=u&&n()}),[u,n]);return null==i?(0,r.jsx)(r.Fragment,{children:t}):(0,r.jsxs)(r.Fragment,{children:[t,(0,r.jsx)("div",{className:p().errorCodeMessage,
children:i})]})}var E=n(2590),_=n(473708),y=n(811339),v=n.n(y);function b(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){b(e,t,n[t])}))}return e}function N(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}
var A="game_console_alert_modal",m="game_console_ptt_alert_modal";const g={maybeShowPTTAlert:function(e){if(c.Z.getMode()!==E.pM4.PUSH_TO_TALK||(0,l.un)(i.z$.CONSOLE_PTT_DISABLE_ALERT))return Promise.resolve();var t,n=(b(t={},E.ABu.XBOX,_.Z.Messages.PTT_NOT_SUPPORTED_XBOX),b(t,E.ABu.PLAYSTATION,_.Z.Messages.PTT_NOT_SUPPORTED_PLAYSTATION),b(t,E.ABu.PLAYSTATION_STAGING,_.Z.Messages.PTT_NOT_SUPPORTED_PLAYSTATION),t)[e];return null==n?Promise.resolve():new Promise((function(e){var t=function(){(0,l.EW)(i.z$.CONSOLE_PTT_DISABLE_ALERT);e()},o=function(e){return(0,r.jsx)(a.default,N(O({},e),{title:n,body:_.Z.Messages.PTT_NOT_SUPPORTED_ALERT_BODY,onConfirm:t,titleClassName:v().title}))};(0,u.nf)(m)?(0,u.o)(m,o):(0,u.h7)(o,{modalKey:m})}))},showSelfDismissableAlert:function(e){var t=e.title,n=e.body,o=e.errorCodeMessage,i=(0,r.jsx)(h,{body:n,errorCodeMessage:o,dismissCallback:function(){return(0,u.Mr)(A)}}),l=function(e){return(0,r.jsx)(a.default,N(O({},e),{title:t,body:i}))};(0,u.nf)(A)?(0,
u.o)(A,l):(0,u.h7)(l,{modalKey:A})}}},716371:(e,t,n)=>{n.d(t,{n:()=>s,J:()=>f});var r=n(202351),o=n(21372),i=n(567403),u=n(746477),a=n(473903);function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],u=!0,a=!1;try{for(n=n.call(e);!(u=(r=n.next()).done);u=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){a=!0;o=e}finally{try{u||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e){var t=c(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[i.Z,u.Z,a.default,o.ZP],4),n=t[0],r=t[1],l=t[2],s=t[3];if(null==e)return!1;var f=n.getGuild(e),d=r.getCheck(e).notClaimed,p=l.getCurrentUser(),h=!1;if(null!=p){var E,_;h=null!==(_=null===(E=s.getMember(e,p.id))||void 0===E?void 0:E.isPending)&&void 0!==_&&_}var y=h||d;return y&&!!(null==f?void 0:f.hasVerificationGate())}function f(e){return(0,r.e7)([i.Z,u.Z,a.default,o.ZP],(function(){return null!=e&&s(e,[i.Z,u.Z,a.default,o.ZP])}),[e])}},577657:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(785893),o=(n(667294),n(264817));function i(e,t,n,r,o,i,u){try{var a=e[i](u),l=a.value}catch(e){n(e);return}a.done?t(l):Promise.resolve(l).then(r,o)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var u=e.apply(t,n);function a(e){
i(u,r,o,a,l,"next",e)}function l(e){i(u,r,o,a,l,"throw",e)}a(void 0)}))}}function a(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function l(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var c=function(e,t){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{
if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:u.label++;return{value:i[1],done:!1};case 5:u.label++;r=i[1];i=[0];continue;case 7:i=u.ops.pop();u.trys.pop();continue;default:if(!(o=u.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1];o=i;break}if(o&&u.label<o[2]){u.label=o[2];u.ops.push(i);break}o[2]&&u.ops.pop();u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};function s(e){(0,o.ZD)(u((function(){var t,o;return c(this,(function(i){switch(i.label){case 0:return[4,n.e(72591).then(n.bind(n,672591))];case 1:t=i.sent(),o=t.default;return[2,function(t){return(0,r.jsx)(o,l(function(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){a(e,t,n[t])}))}return e}({},t),{incomingRequestCount:e}))}]}}))})))}},792708:(e,t,n)=>{n.d(t,{y:()=>i,$:()=>u});var r=n(82443),o=(0,n(260561).B)({kind:"user",label:"Pomelo Compatibility",id:"2023-03_pomelo_compatible_ux",defaultConfig:{enabled:!1},treatments:[{id:1,label:"enabled",config:{enabled:!0}}]}),i=function(){var e=o.useExperiment({},{autoTrackExposure:!1}).enabled;return r.Z.isDisclosed("pomelo")&&e},u=function(){var e=o.getCurrentConfig({},{autoTrackExposure:!1}).enabled;return r.Z.isDisclosed("pomelo")&&e}},15338:(e,t,n)=>{n.d(t,{bA:()=>a,hP:()=>l,xv:()=>c,hY:()=>s});var r=n(744564);function o(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function i(e){
for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){o(e,t,n[t])}))}return e}var u={menubar:!1,toolbar:!1,location:!1,directories:!1};function a(e,t,n){r.Z.dispatch({type:"POPOUT_WINDOW_OPEN",key:e,features:i({},u,n),render:t})}function l(e){r.Z.dispatch({type:"CHANNEL_CALL_POPOUT_WINDOW_OPEN",channel:e})}function c(e){r.Z.dispatch({type:"POPOUT_WINDOW_CLOSE",key:e})}function s(e,t){r.Z.dispatch({type:"POPOUT_WINDOW_SET_ALWAYS_ON_TOP",alwaysOnTop:t,key:e})}},162723:(e,t,n)=>{n.d(t,{_L:()=>p,Os:()=>h,nG:()=>E,B:()=>_,jU:()=>y});var r=n(940060),o=n(202351),i=n(944522),u=(n(736818),n(61209)),a=n(567403),l=n(682776),c=n(563135),s=n(227202),f=n(766496),d=n(2590);function p(e,t,n){var o,i,u=null==n?void 0:n.permissionOverwrites[e];return{id:e,type:t,
deny:null!==(o=null==u?void 0:u.deny)&&void 0!==o?o:c.ZP.NONE,allow:r.Z.remove(null!==(i=null==u?void 0:u.allow)&&void 0!==i?i:c.ZP.NONE,s.yP)}}function h(e){var t=e.allow,n=e.deny;return r.Z.equals(t,c.ZP.NONE)&&r.Z.equals(n,c.ZP.NONE)}function E(e){return(0,o.e7)([l.Z,a.Z,u.Z],(function(){var t=u.Z.getChannel(e),n=a.Z.getGuild(null==t?void 0:t.getGuildId());return!(!l.Z.can(d.Plq.ADMINISTRATOR,n)&&!l.Z.can(d.Plq.MANAGE_ROLES,t,void 0,void 0,!0))||!!l.Z.can(s.N,t)}),[e])}function _(e){return(0,o.e7)([u.Z,l.Z],(function(){return null!=e&&l.Z.can(d.Plq.MUTE_MEMBERS,u.Z.getChannel(e))}),[e])}function y(e){return!(null==e||!e.isGuildStageVoice())&&(!!i.Z.isLurking(e.guild_id)&&(!!f.Z.isPublic(e.id)&&l.Z.can(s.gl,e)))}},980617:(e,t,n)=>{n.d(t,{Og:()=>a,Vy:()=>l});var r=n(202351),o=n(567403),i=(n(473903),n(407561),(0,n(260561).B)({kind:"guild",id:"2022-10_text_in_stage",label:"Text-In-Stage",defaultConfig:{isEnabled:!1},treatments:[{id:1,label:"Enable Text-In-Stage",config:{isEnabled:!0}}]
})),u=n(2590);function a(e){var t=o.Z.getGuild(e);if(null==t)return!1;var n,r=null==t?void 0:t.hasFeature(u.oNc.TEXT_IN_STAGE_ENABLED),a=i.getCurrentConfig({guildId:null!==(n=t.id)&&void 0!==n?n:""}).isEnabled;return r||a}function l(e){var t=(0,r.e7)([o.Z],(function(){var t;return null===(t=o.Z.getGuild(e))||void 0===t?void 0:t.hasFeature(u.oNc.TEXT_IN_STAGE_ENABLED)}),[e]),n=i.useExperiment({guildId:null!=e?e:""},{autoTrackExposure:!0}).isEnabled;return t||n}},166302:(e,t,n)=>{n.d(t,{ur:()=>r});function r(){return!1}},747126:(e,t,n)=>{n.d(t,{Z:()=>E});var r=n(202351),o=n(630631),i=n(744564);function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return a(e)}function l(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
;return e}(e):t}function c(e,t){c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c(e,t)}var s=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=a(e);if(t){var o=a(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}var d="GuildNSFWAgreeStore",p={};var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&c(e,t)}(n,e);var t=f(n);function n(){u(this,n);return t.apply(this,arguments)}var r=n.prototype
;r.initialize=function(){var e;p=null!==(e=o.Z.get(d))&&void 0!==e?e:p};r.didAgree=function(e){return null!=e&&(p[e]||!1)};r.__getLocalVars=function(){return{STORAGE_KEY:d,guilds:p}};return n}(r.ZP.Store);h.displayName="GuildNSFWAgreeStore";const E=new h(i.Z,{GUILD_NSFW_AGREE:function(e){var t=e.guildId;p[t]=!0;o.Z.set(d,p)}})},746477:(e,t,n)=>{n.d(t,{Z:()=>C});var r=n(202351),o=n(744564),i=n(661123),u=n(21372),a=n(567403),l=n(473903),c=n(2590),s=n(589677);function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e){p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return p(e)}function h(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function E(e,t){
E=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return E(e,t)}function _(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var y=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0
;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}var b={notClaimed:!1,notEmailVerified:!1,notPhoneVerified:!1,newAccount:!1,newMember:!1,canChat:!0},O=new Set,N={};function A(e){m(e);O.add(e);var t=a.Z.getGuild(e),n=l.default.getCurrentUser();if(null!=t&&t.verificationLevel!==c.sFg.NONE&&null!=n&&!t.isOwner(n)&&!n.isPhoneVerified()){var r=u.ZP.getMember(t.id,n.id);if(null!=r){var f;if((0,i.yE)(null!==(f=r.flags)&&void 0!==f?f:0,s.q.BYPASSES_VERIFICATION))return;var d=new Set,p=!0,h=!1,E=void 0;try{for(var y,v=r.roles[Symbol.iterator]();!(p=(y=v.next()).done);p=!0){var b=y.value,A=t.getRole(b);null==A||A.managed||d.add(b)}}catch(e){h=!0;E=e}finally{try{p||null==v.return||v.return()}finally{if(h)throw E}}
var g=new Date("2022-12-02 00:00:00"),I=null==r.joinedAt||new Date(r.joinedAt)<g;if(!(t.hasFeature(c.oNc.GUILD_ONBOARDING_EVER_ENABLED)&&!I)&&d.size>0)return}var C=+n.createdAt+6e4*c.fDV.ACCOUNT_AGE-Date.now(),S=+t.joinedAt+6e4*c.fDV.MEMBER_AGE-Date.now(),T=t.verificationLevel>=c.sFg.LOW&&!n.isClaimed(),R=!1,D=!1,Z=!1,w=!1;if(!n.isPhoneVerified()&&!n.isStaff()){R=t.verificationLevel>=c.sFg.LOW&&!n.verified;D=t.verificationLevel>=c.sFg.VERY_HIGH;Z=t.verificationLevel>=c.sFg.MEDIUM&&C>0;w=t.verificationLevel>=c.sFg.HIGH&&S>0}var P,L=[];w&&L.push(S);Z&&L.push(C);if(L.length>0){var M;P=setTimeout((function(){return o.Z.dispatch({type:"GUILD_VERIFICATION_CHECK",guildId:e})}),(M=Math).max.apply(M,_(L)))}N[e]={notClaimed:T,notEmailVerified:R,notPhoneVerified:D,newAccount:Z,newMember:w,canChat:!(T||R||D||Z||w),accountDeadline:new Date(Date.now()+C),memberDeadline:new Date(Date.now()+S),timeoutRef:P}}}function m(e){var t=N[e];null!=t&&clearTimeout(t.timeoutRef);delete N[e]}function g(e){
O.delete(e.guild.id);A(e.guild.id)}var I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&E(e,t)}(n,e);var t=v(n);function n(){d(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(a.Z,l.default)};r.getCheck=function(e){O.has(e)||A(e);var t;return null!==(t=N[e])&&void 0!==t?t:b};r.canChatInGuild=function(e){return this.getCheck(e).canChat};r.__getLocalVars=function(){return{DEFAULT_CHECK:b,guildIdsComputed:O,checks:N}};return n}(r.ZP.Store);I.displayName="GuildVerificationStore";const C=new I(o.Z,{CONNECTION_OPEN:function(){O.clear();for(var e in N)m(e)},CONNECTION_CLOSED:function(){Object.keys(N).forEach(m)},CURRENT_USER_UPDATE:function(){O.clear()},GUILD_CREATE:g,GUILD_UPDATE:g,GUILD_DELETE:function(e){m(e.guild.id)},GUILD_MEMBER_UPDATE:function(e){
var t,n=e.guildId;if(e.user.id!==(null===(t=l.default.getCurrentUser())||void 0===t?void 0:t.id))return!1;O.delete(n)},GUILD_VERIFICATION_CHECK:function(e){A(e.guildId)}})},908478:(e,t,n)=>{n.d(t,{Z:()=>d,N:()=>p});var r=n(652591),o=n(322500),i=n(2590),u=n(473708);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],u=!0,a=!1;try{for(n=n.call(e);!(u=(r=n.next()).done);u=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){a=!0;o=e}finally{try{u||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var c=/^\d+$/,s=/^(.+?@.+?\..+?|.+?#\d{4})$/,f=/^[a-zA-Z0-9_\\.]+$/;function d(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t){if(f.test(e))return null;if(e.includes("#")&&s.test(e))return null;h(e);return u.Z.Messages.POMELO_ADD_FRIEND_ERROR}if(s.test(e))return null;h(e);return/^DiscordTag/i.test(e)?u.Z.Messages.ADD_FRIEND_ERROR_DISCORD_TAG_USERNAME:c.test(e)?u.Z.Messages.ADD_FRIEND_ERROR_NUMBERS_ONLY:e.length>0&&-1===e.indexOf("#")?u.Z.Messages.ADD_FRIEND_ERROR_USERNAME_ONLY.format({username:e}):u.Z.Messages.ADD_FRIEND_ERROR_OTHER}function p(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];switch(e){case i.evJ.RELATIONSHIP_INCOMING_DISABLED:
return u.Z.Messages.ADD_FRIEND_ERROR_INVALID_DISCORD_TAG.format({discordTag:t});case i.evJ.TOO_MANY_FRIENDS:return u.Z.Messages.ADD_FRIEND_ERROR_TOO_MANY_FRIENDS;case i.evJ.RELATIONSHIP_ALREADY_FRIENDS:return u.Z.Messages.ADD_FRIEND_ERROR_ALREADY_FRIENDS;case i.evJ.USER_QUARANTINED:return u.Z.Messages.LIMITED_ACCESS_INFO_MODAL_HEADING;case i.evJ.TOO_MANY_BLOCKED_USERS:return u.Z.Messages.BLOCK_USER_ERROR_TOO_MANY_BLOCKED_USERS;case i.evJ.RELATIONSHIP_INCOMING_BLOCKED:case i.evJ.RELATIONSHIP_INVALID_SELF:case i.evJ.RELATIONSHIP_INVALUD_USER_BOT:case i.evJ.RELATIONSHIP_INVALID_DISCORD_TAG:default:return n?u.Z.Messages.POMELO_ADD_FRIEND_ERROR:u.Z.Messages.ADD_FRIEND_ERROR_OTHER}}function h(e){var t=l(e.split("#"),2),n=t[0],u=t[1];r.default.track(i.rMx.FRIEND_REQUEST_FAILED,{reason:"Invalid Username",query:e,discrim_len:(null!=u?u:"").length,username_len:n.length,is_email_like:o.Z.isEmail(e),is_invite_like:o.Z.isInvite(e),is_num_only:c.test(e)})}}}]);
//# sourceMappingURL=b44ea71f4bea48c3cc73.js.map