"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[97846,44133],{444133:(e,t,n)=>{n.r(t);n.d(t,{default:()=>v});var r=n(785893),o=n(667294),i=n(331535),c=n(67416),a=n(959797),u=n(691838),s=n.n(u);function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e){f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return f(e)}function p(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e,t){h=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return h(e,t)}var y=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0
;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&h(e,t)}(n,e);var t=d(n);function n(){l(this,n);var e;(e=t.apply(this,arguments)).state={value:"",error:null,isLoading:!1};e.handleSubmit=function(t){t.preventDefault();var n=e.state.value,r=e.props,o=r.handleSubmit,i=r.onClose,c=r.onError;e.setState({isLoading:!0});o(n).then((function(e){return i(null!=e?e:void 0)}),(function(t){if(null!=t.body){null==c||c(t.body);t.body.password?e.setState({error:t.body.password,isLoading:!1}):t.body.message&&e.setState({error:t.body.message,isLoading:!1})}}))}
;e.handleCancel=function(){(0,e.props.onClose)()};e.handlePasswordChange=function(t){var n=e.props.onPasswordChange;null==n||n(t);e.setState({value:t})};return e}n.prototype.render=function(){var e=this.props,t=e.title,n=e.actionText,u=e.children,l=e.transitionState,f=this.state,p=f.error,h=f.isLoading,y=f.value,d=o.Children.count(u)>0?(0,r.jsx)(i.Zb,{type:i.Zb.Types.WARNING,className:s().card,children:(0,r.jsx)(i.xv,{className:s().warning,variant:"text-md/normal",children:u})}):null;return(0,r.jsx)(c.Y0,{transitionState:l,children:(0,r.jsxs)("form",{onSubmit:this.handleSubmit,children:[(0,r.jsx)(c.xB,{separator:!1,children:(0,r.jsx)(i.X6,{variant:"heading-lg/semibold",children:t})}),(0,r.jsxs)(c.hz,{children:[d,(0,r.jsxs)(i.xJ,{title:a.Z.Messages.FORM_LABEL_PASSWORD,className:s().spacing,children:[(0,r.jsx)(i.oi,{type:"password",autoComplete:"off",autoFocus:!0,value:y,onChange:this.handlePasswordChange}),null!=p&&""!==p?(0,r.jsxs)(i.xv,{variant:"text-xs/normal",color:"text-danger",
className:s().error,children:[" ",p," "]}):null]})]}),(0,r.jsxs)(c.mz,{children:[(0,r.jsx)(i.zx,{type:"submit",disabled:h||0===y.length,children:null!=n?n:a.Z.Messages.CONFIRM}),(0,r.jsx)(i.zx,{onClick:this.handleCancel,look:i.zx.Looks.LINK,color:i.zx.Colors.PRIMARY,children:a.Z.Messages.CANCEL})]})]})})};return n}(o.PureComponent);b.key=function(){return"password-confirm-modal"};const v=b},997846:(e,t,n)=>{n.r(t);n.d(t,{default:()=>ae});var r=n(785893),o=n(667294),i=n(363010),c=n(444133),a=n(55690),u=n(828917),s=n(71190),l=n(57712),f=n(859023),p=n(294184),h=n.n(p),y=n(468811),d=n.n(y),b=n(506884),v=n(331535),m=n(796667),E=n(774481),O=n(487502),g=n(45692),R=n(552795),_=n(414597),P=n(959797),C=n(803114),I=n.n(C),j=n(480798),w=n.n(j),S=n(380203),N=n.n(S);function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A(e){A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return A(e)}
function T(e,t){return!t||"object"!==D(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function k(e,t){k=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return k(e,t)}function Z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],c=!0,a=!1;try{for(n=n.call(e);!(c=(r=n.next()).done);c=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){a=!0;o=e}finally{try{c||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var D=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=A(e);if(t){var o=A(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return T(this,n)}}const F=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&k(e,t)}(n,e);var t=L(n);function n(e){!function(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r;(r=t.call(this,e)).handleChange=function(e){r.closePopout();r.setState({phone:e.currentTarget.value})};r.handleKeyPress=function(e){r.closePopout();if(13===e.which){e.preventDefault();r.handleSubmit()}};r.handleSubmit=function(){var e=r.props,t=e.onSubmit,n=e.submitting,o=r.state,i=o.countryCode,c=o.phone;n||null==t||t("".concat(i).concat(c))};r.handleTogglePopout=function(){r.setState({open:!r.state.open})};r.handleClick=function(e){var t=Z(e.code.split(" "),2),n=t[0],o=t[1];r.setState({open:!1,countryCode:n,phone:null!=o?o:""})};var o=Z(g.Z.find((function(e){return"United States"===e.name})).phoneCountryCode.split(" "),2),i=o[0],c=o[1];r.state={countryCode:i,phone:null!=c?c:"",open:!1};return r}var o=n.prototype;o.render=function(){var e=this.state,t=e.countryCode,n=e.phone,o=e.open,i=this.props,c=i.className,a=i.submitting,u=Z(t.split("+"),2)[1];return(0,r.jsxs)(O.Z,{
className:h()(I().phoneField,w().elevationLow,c),align:O.Z.Align.CENTER,grow:0,children:[(0,r.jsxs)(v.zx,{size:v.Ph.SMALL,className:I().countryButton,color:v.Tt.PRIMARY,innerClassName:I().countryButtonInner,onClick:this.handleTogglePopout,children:[(0,r.jsxs)(O.Z,{className:h()(I().countryCodeContainer,N().marginReset),justify:O.Z.Justify.CENTER,children:[(0,r.jsx)("div",{className:I().plusSign,children:"+"}),(0,r.jsx)("div",{className:I().countryCode,children:u})]}),(0,r.jsx)(_.Z,{foreground:I().phoneFieldExpand,expanded:o,width:16,height:16})]}),(0,r.jsx)("input",{"aria-label":P.Z.Messages.PHONE_VERIFICATION_PHONE_LABEL,className:I().inputField,value:n,onChange:this.handleChange,onKeyPress:this.handleKeyPress,autoFocus:!0}),(0,r.jsx)(v.zx,{className:I().sendButton,size:v.Ph.SMALL,submitting:a,onClick:this.handleSubmit,children:P.Z.Messages.SEND}),o?(0,r.jsx)(R.Z,{onClick:this.handleClick}):null]})};o.closePopout=function(){this.state.open&&this.setState({open:!1})};return n
}(o.PureComponent);var M=n(67416),B=n(540637),V=n.n(B),U=n(3066),H=n.n(U);function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function K(e,t,n,r,o,i,c){try{var a=e[i](c),u=a.value}catch(e){n(e);return}a.done?t(u):Promise.resolve(u).then(r,o)}function z(e){z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return z(e)}function q(e,t){return!t||"object"!==W(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Y(e,t){Y=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Y(e,t)}function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],c=!0,a=!1;try{for(n=n.call(e);!(c=(r=n.next()).done);c=!0){i.push(r.value);if(t&&i.length===t)break
}}catch(e){a=!0;o=e}finally{try{c||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var W=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function J(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=z(e);if(t){
var o=z(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return q(this,n)}}var X=function(e,t){var n,r,o,i,c={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:c.label++;return{value:i[1],done:!1};case 5:c.label++;r=i[1];i=[0];continue;case 7:i=c.ops.pop();c.trys.pop();continue;default:if(!(o=c.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){c=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){c.label=i[1];break}if(6===i[0]&&c.label<o[1]){c.label=o[1];o=i;break}if(o&&c.label<o[2]){c.label=o[2]
;c.ops.push(i);break}o[2]&&c.ops.pop();c.trys.pop();continue}i=t.call(e,c)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};const $=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Y(e,t)}(o,e);var t=J(o);function o(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var n;(n=t.call(this,e))._animItem=null;n.headerId=d().v4();n.setLottieRef=function(e){n._lottieRef=e};n.handleAddPhone=function(e){if(n.state.animated||null==n._animItem)n.setState({phone:e});else{n._animItem.play();n.setState({animated:!0,phone:e})}var t=n.props.onAddPhone;null==t||t(e)};n.handleVerifyCaptcha=function(e){var t=n.state.phone,r=n.props.onVerifyCaptcha;null==r||r(t,e)};n.handleVerifyPhone=function(e){
var t=n.props.onVerifyPhone;null==t||t(e)};n.handleResendCode=function(){var e=n.props.onAddPhone;null==e||e(n.state.phone)};n.state={animated:!1,phone:""};return n}var i=o.prototype;i.componentDidMount=function(){var e,t=this;return(e=function(){var e,r,o,i;return X(this,(function(c){switch(c.label){case 0:return[4,Promise.all([n.e(20907).then(n.t.bind(n,320907,19)),n.e(11248).then(n.t.bind(n,211248,23))])];case 1:e=G.apply(void 0,[c.sent(),2]),r=e[0],o=e[1],i=o.default;t._animItem=i.loadAnimation({container:t._lottieRef,renderer:"svg",loop:!0,autoplay:!1,animationData:r});return[2]}}))},function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function c(e){K(i,r,o,c,a,"next",e)}function a(e){K(i,r,o,c,a,"throw",e)}c(void 0)}))})()};i.componentWillUnmount=function(){if(null!=this._animItem){this._animItem.destroy();this._animItem=void 0}};i.render=function(){
var e,t,n,o=this.props,i=o.error,c=o.working,a=o.transitionState,u=o.validPhone,s=o.captchaService,l=o.captchaSitekey;e=null!=s?(0,r.jsx)("div",{className:h()(V().description,N().marginBottom20),children:P.Z.Messages.GUILD_JOIN_CAPTCHA_DESCRIPTION}):null!=i&&""!==i?(0,r.jsx)("div",{className:h()(V().description,V().error,N().marginBottom20),children:i}):u?(0,r.jsx)("div",{className:h()(V().description,N().marginBottom20),children:P.Z.Messages.VERIFICATION_PHONE_DESCRIPTION}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:h()(V().description,N().marginBottom20),children:P.Z.Messages.ENTER_PHONE_DESCRIPTION}),(0,r.jsx)("div",{className:h()(V().description,N().marginBottom20),children:P.Z.Messages.ENTER_PHONE_DESCRIPTION_NOTE.format()})]});t=u?(0,r.jsxs)(O.Z,{className:V().field,direction:O.Z.Direction.VERTICAL,align:O.Z.Align.CENTER,children:[(0,r.jsx)(E.Z,{onSubmit:this.handleVerifyPhone}),(0,r.jsx)(v.zx,{className:N().marginTop8,size:v.Ph.SMALL,look:v.iL.LINK,
color:v.Tt.PRIMARY,onClick:this.handleResendCode,children:P.Z.Messages.RESEND_CODE})]}):null!=s?(0,r.jsx)(m.Z,{captchaService:s,sitekey:l,onVerify:this.handleVerifyCaptcha}):(0,r.jsx)(F,{className:V().field,onSubmit:this.handleAddPhone,submitting:c});n=null!=s?P.Z.Messages.GUILD_JOIN_CAPTCHA_HEADER:u?P.Z.Messages.VERIFICATION_PHONE_TITLE:P.Z.Messages.ENTER_PHONE_TITLE;return(0,r.jsxs)(M.Y0,{impressionName:b.zs.USER_VERIFY_PHONE,transitionState:a,className:h()(V().phoneVerificationModal,H().vertical,H().alignCenter,H().justifyCenter,N().marginTop60),"aria-labelledby":this.headerId,children:[(0,r.jsx)("div",{className:V().animationContainer,ref:this.setLottieRef}),(0,r.jsx)("div",{className:h()(V().title,N().marginBottom8),id:this.headerId,children:n}),e,t]})};return o}(o.PureComponent);var ee=n(560221);function te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ne(e,t,n,r,o,i,c){try{var a=e[i](c),u=a.value}catch(e){n(e);return}
a.done?t(u):Promise.resolve(u).then(r,o)}function re(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function c(e){ne(i,r,o,c,a,"next",e)}function a(e){ne(i,r,o,c,a,"throw",e)}c(void 0)}))}}function oe(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],c=!0,a=!1;try{for(n=n.call(e);!(c=(r=n.next()).done);c=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){a=!0;o=e}finally{try{c||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return te(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ce=function(e,t){var n,r,o,i,c={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:c.label++;return{value:i[1],done:!1};case 5:c.label++;r=i[1];i=[0];continue;case 7:i=c.ops.pop();c.trys.pop();continue;default:if(!(o=c.trys,
o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){c=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){c.label=i[1];break}if(6===i[0]&&c.label<o[1]){c.label=o[1];o=i;break}if(o&&c.label<o[2]){c.label=o[2];c.ops.push(i);break}o[2]&&c.ops.pop();c.trys.pop();continue}i=t.call(e,c)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};const ae=o.forwardRef((function(e,t){var n=e.onAddedPhone,p=e.onClose,h=e.transitionState,y=e.reason,d=(0,i.e7)([f.default],(function(){return f.default.getCurrentUser()})),b=(0,i.e7)([l.Z],(function(){return l.Z.getAction()})),v=ie(o.useState(null),2),m=v[0],E=v[1],O=ie(o.useState(null),2),g=O[0],R=O[1],_=ie(o.useState(null),2),C=_[0],I=_[1],j=ie(o.useState(!1),2),w=j[0],S=j[1],N=o.useCallback(function(){var e=re((function(e){var t;return ce(this,(function(n){switch(n.label){case 0:S(!0);n.label=1;case 1:n.trys.push([1,6,,7]);return s.Z.isPhoneReverification(d,b)?[4,u.Z.beginReverifyPhone(e,y)]:[3,3]
;case 2:n.sent();return[3,5];case 3:return[4,u.Z.beginAddPhone(e,y)];case 4:n.sent();n.label=5;case 5:I(null);E(e);return[3,7];case 6:t=n.sent();I(new a.Z(t));return[3,7];case 7:S(!1);return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),[d,y,b]),x=o.useCallback(function(){var e=re((function(e,t){var n;return ce(this,(function(r){switch(r.label){case 0:S(!0);r.label=1;case 1:r.trys.push([1,6,,7]);return s.Z.isPhoneReverification(d,b)?[4,u.Z.beginReverifyPhone(e,y,t)]:[3,3];case 2:r.sent();return[3,5];case 3:return[4,u.Z.beginAddPhone(e,y,t)];case 4:r.sent();r.label=5;case 5:I(null);E(e);return[3,7];case 6:n=r.sent();I(new a.Z(n));return[3,7];case 7:S(!1);return[2]}}))}));return function(t,n){return e.apply(this,arguments)}}(),[d,y,b]),A=o.useCallback(function(){var e=re((function(e){var t,n;return ce(this,(function(r){switch(r.label){case 0:if(null==m||null==d)return[2];S(!0);r.label=1;case 1:r.trys.push([1,3,,4]);return[4,u.Z.verifyPhone(m,e)];case 2:t=r.sent().token
;I(null);R(t);return[3,4];case 3:n=r.sent();I(new a.Z(n));return[3,4];case 4:S(!1);return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),[d,m]),T=o.useCallback(function(){var e=re((function(e){return ce(this,(function(t){switch(t.label){case 0:return null==g?[2]:s.Z.isPhoneReverification(d,b)?[4,u.Z.reverifyPhone(g,e,y)]:[3,2];case 1:t.sent();return[3,4];case 2:return[4,u.Z.addPhone(g,e,y)];case 3:t.sent();t.label=4;case 4:null==n||n();p();return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),[n,p,g,y,d,b]);if(null!=g)return(0,r.jsx)(c.default,{onClose:p,transitionState:h,title:P.Z.Messages.USER_SETTINGS_EDIT_ACCOUNT_PASSWORD_LABEL,handleSubmit:T});var k={};if(null!=C&&Object.keys(C.captchaFields).length>0){var Z=C.captchaFields;k.captchaService=(0,ee.B)(Z.captcha_service);k.captchaSitekey=Z.captcha_sitekey}return(0,r.jsx)($,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){oe(e,t,n[t])}))}return e}({onClose:p,transitionState:h,error:null==C?void 0:C.getAnyErrorMessage(),working:w,validPhone:null!=m,onAddPhone:N,onVerifyPhone:A,onVerifyCaptcha:x},k))}))},552795:(e,t,n)=>{n.d(t,{Z:()=>fe});var r=n(785893),o=n(667294),i=n(294184),c=n.n(i),a=n(824390),u=n.n(a),s=n(496486),l=n.n(s),f=n(45692),p=n(388337),h=n(487502),y=n(331535),d=n(31165),b=n(647446),v=n(316921),m=n(832010),E=n(983067),O=n(461061),g=n(672908),R=n.n(g),_=n(380203),P=n.n(_);function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function j(e){j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)}
;return j(e)}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){I(e,t,n[t])}))}return e}function S(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function N(e,t){return!t||"object"!==A(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function x(e,t){x=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return x(e,t)}
var A=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=j(e);if(t){var o=j(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return N(this,n)}}var k=l().memoize((function(e){var t=!1;if(null!=e&&(0,v.FX)(e)){var n=(0,v._i)(e);null!=n&&(t=(0,v.Bd)(n)<.2)}return t?(0,m.Lq)(O.Ilk.BLACK_500):(0,m.Lq)(O.Ilk.WHITE_500)})),Z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&x(e,t)}(n,e);var t=T(n);function n(){C(this,n);var e
;(e=t.apply(this,arguments)).state={color:k(e.props.color)};e.handleKeyUp=function(t){if(t.which===O.yXg.ENTER||t.which===O.yXg.SPACE){var n=e.props;(0,n.onClick)(S(n,["onClick"]))}};e.handleClick=function(){var t=e.props;(0,t.onClick)(S(t,["onClick"]))};return e}n.prototype.render=function(){var e,t=this.props,n=t.selected,o=t.color,i=t.className,a=t.children,u=k(o);n?e={color:u,background:null!=o?o:(0,m.Lq)(O.Ilk.BRAND_500)}:null!=o&&(e={color:o});return(0,r.jsx)(b.tE,{offset:{left:4},children:(0,r.jsxs)(h.Z,{className:c()(R().selectableItem,i,I({},R().selected,n)),onClick:this.handleClick,onKeyUp:this.handleKeyUp,align:h.Z.Align.CENTER,style:w({},e,this.props.style),role:"button",tabIndex:0,children:[(0,r.jsx)(h.Z,{align:h.Z.Align.CENTER,className:R().selectableItemLabel,shrink:1,children:a}),n&&(0,r.jsx)(h.Z,{wrap:h.Z.Wrap.WRAP,className:P().marginReset,grow:0,shrink:0,children:(0,r.jsx)(E.Z,{color:u})})]})})};return n}(o.PureComponent);const D=Z;var L=n(622677),F=n.n(L)
;function M(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function V(e){V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return V(e)}function U(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&z(e,t)}function H(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){
Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Q(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function K(e,t){return!t||"object"!==q(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function z(e,t){z=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return z(e,t)}var q=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{
Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=V(e);if(t){var o=V(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return K(this,n)}}var G=function(e){U(n,e);var t=Y(n);function n(){M(this,n);return t.apply(this,arguments)}n.prototype.render=function(){var e=this.props,t=e.className,n=Q(e,["className"]);return(0,r.jsx)(d.Z,H(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){B(e,t,n[t])}))}return e}({},n),{className:c()(F().popoutListInput,t)}))};return n}(o.PureComponent);G.defaultProps={autoFocus:!0};var W=function(e){U(n,e);var t=Y(n);function n(){M(this,n);return t.apply(this,arguments)}
n.prototype.render=function(){var e=this.props,t=e.className,n=e.children;return(0,r.jsx)(y.Vq,{className:c()(F().popoutList,t),"aria-label":this.props["aria-label"],children:n})};return n}(o.PureComponent);W.SearchBar=G;W.Item=D;W.Divider=function(){return(0,r.jsx)(y.$i,{className:F().divider})};W.Empty=function(e){var t=e.children;return(0,r.jsx)("div",{className:F().popoutListEmpty,children:t})};const J=W;var X=n(725002),$=n(959797),ee=n(886995),te=n.n(ee),ne=n(480798),re=n.n(ne);function oe(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ie(e){ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return ie(e)}function ce(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
;t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function ae(e,t){return!t||"object"!==se(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ue(e,t){ue=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return ue(e,t)}var se=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function le(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=ie(e);if(t){var o=ie(this).constructor;n=Reflect.construct(r,arguments,o)
}else n=r.apply(this,arguments);return ae(this,n)}}var fe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&ue(e,t)}(n,e);var t=le(n);function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r;(r=t.call(this,e)).onChangeQuery=function(e){r.setState({query:e})};r.onClearQuery=function(){r.setState({query:""})};r.onClick=function(e){var t,n;null===(n=(t=r.props).onClick)||void 0===n||n.call(t,e)};r.state={query:""};return r}var i=n.prototype;i.renderItems=function(){var e=this,t=this.state.query,n=f.Z.flatMap((function(e,t){var n=e.alpha2,o=e.phoneCountryCodes,i=e.name,c=(0,p.q9)(n);return o.map((function(e){return{key:"".concat(t,"-").concat(e),name:i,translatedName:c,countryData:{name:i,alpha2:n,code:e},children:(0,r.jsxs)(h.Z,{
className:te().countryItem,justify:h.Z.Justify.CENTER,align:h.Z.Align.CENTER,children:[(0,r.jsx)(h.Z.Child,{className:te().countryName,children:c}),(0,r.jsx)(h.Z.Child,{className:te().countryCode,grow:0,shrink:0,children:e})]})}}))})),i=l()(n).filter((function(e){return 0===t.length||u()(t.toLowerCase(),e.name.toLowerCase())||u()(t.toLowerCase(),e.translatedName.toLowerCase())})).map((function(t){return(0,o.createElement)(J.Item,ce(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){oe(e,t,n[t])}))}return e}({},t),{key:t.key,onClick:function(){return e.onClick(t.countryData)}}))})).value();return 0===i.length?(0,r.jsx)(J.Empty,{children:$.Z.Messages.NONE}):(0,r.jsx)(X.w0,{className:te().phoneFieldScroller,children:i})};i.render=function(){
var e=this.props.className;return(0,r.jsxs)(J,{className:c()(te().phoneFieldPopout,re().elevationBorderLow,e),children:[(0,r.jsx)(J.SearchBar,{query:this.state.query,placeholder:$.Z.Messages.SEARCH_COUNTRY,onChange:this.onChangeQuery,onClear:this.onClearQuery,autoComplete:"off"}),(0,r.jsx)(J.Divider,{}),this.renderItems()]})};return n}(o.PureComponent)},71190:(e,t,n)=>{n.d(t,{Z:()=>d});var r=n(496486),o=n.n(r),i=n(461061),c=n(959797);function a(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var u,s=i.PUi.CAPTCHA,l=i.PUi.EMAIL,f=i.PUi.PHONE,p=i.PUi.REVERIFY_EMAIL,h=i.PUi.REVERIFY_PHONE,y=(a(u={},i.c2C.REQUIRE_VERIFIED_EMAIL,[l]),a(u,i.c2C.REQUIRE_VERIFIED_PHONE,[f]),a(u,i.c2C.REQUIRE_REVERIFIED_EMAIL,[p]),a(u,i.c2C.REQUIRE_REVERIFIED_PHONE,[h]),a(u,i.c2C.REQUIRE_VERIFIED_EMAIL_OR_VERIFIED_PHONE,[l,f]),a(u,i.c2C.REQUIRE_REVERIFIED_EMAIL_OR_VERIFIED_PHONE,[f,p]),a(u,i.c2C.REQUIRE_VERIFIED_EMAIL_OR_REVERIFIED_PHONE,[l,h]),
a(u,i.c2C.REQUIRE_REVERIFIED_EMAIL_OR_REVERIFIED_PHONE,[p,h]),a(u,i.c2C.REQUIRE_CAPTCHA,[s]),a(u,i.c2C.AGREEMENTS,[]),a(u,i.c2C.TOS_UPDATE_ACKNOWLEDGMENT,[]),u);const d={isPhoneReverification:function(e,t){return void 0!==e&&e.isPhoneVerified()&&(t===i.c2C.REQUIRE_REVERIFIED_PHONE||t===i.c2C.REQUIRE_REVERIFIED_EMAIL_OR_REVERIFIED_PHONE||t===i.c2C.REQUIRE_VERIFIED_EMAIL_OR_REVERIFIED_PHONE)},isEmailReverification:function(e){return e===i.c2C.REQUIRE_REVERIFIED_EMAIL||e===i.c2C.REQUIRE_REVERIFIED_EMAIL_OR_REVERIFIED_PHONE||e===i.c2C.REQUIRE_REVERIFIED_EMAIL_OR_VERIFIED_PHONE},getVerificationTypes:function(e){return null==e||"symbol"==(void 0===e?"undefined":(t=e)&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t)?[]:y[e];var t},getButtonTitle:function(e){switch(e){case i.PUi.EMAIL:return c.Z.Messages.VERIFY_BY_EMAIL;case i.PUi.PHONE:return c.Z.Messages.START_PHONE_VERIFICATION_BUTTON;case i.PUi.REVERIFY_EMAIL:return c.Z.Messages.START_EMAIL_REVERIFICATION_BUTTON
;case i.PUi.REVERIFY_PHONE:return c.Z.Messages.START_PHONE_REVERIFICATION_BUTTON;default:return c.Z.Messages.START_VERIFICATION_BUTTON}},areVerificationTypesEqual:function(e,t){return o().isEqual(e,t)}}},774481:(e,t,n)=>{n.d(t,{Z:()=>E});var r=n(785893),o=n(667294),i=n(294184),c=n.n(i),a=n(487502),u=n(69850),s=n.n(u);function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e){f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return f(e)}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&y(e,t)}function h(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e,t){
y=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return y(e,t)}var d=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}var v=function(e){p(n,e);var t=b(n);function n(){l(this,n);var e;(e=t.apply(this,arguments)).setCodeBlockRef=function(t){e._codeBlockRef=t};e.handleKeyDown=function(t){var n=8===t.which||37===t.which||39===t.which,r=t.which>=48&&t.which<=57||t.keyCode>=96&&t.keyCode<=105;n||r||t.preventDefault();var o=e.props.onKeyDown;null==o||o(t)};e.handleChange=function(t){var n=e.props.onChange
;null==n||n(t.currentTarget.value)};return e}var o=n.prototype;o.render=function(){var e=this.props.className;return(0,r.jsx)("input",{ref:this.setCodeBlockRef,className:c()(s().input,e),maxLength:1,value:null!=this.props.code?this.props.code:void 0,autoFocus:this.props.autoFocus,onKeyDown:this.handleKeyDown,onChange:this.handleChange})};o.focus=function(){var e;null===(e=this._codeBlockRef)||void 0===e||e.focus()};o.blur=function(){var e;null===(e=this._codeBlockRef)||void 0===e||e.blur()};return n}(o.PureComponent);v.defaultProps={autoFocus:!1};var m=function(e){p(n,e);var t=b(n);function n(e){l(this,n);var r;(r=t.call(this,e))._codeBlockRefs=new Array(r.props.count);r.state={codes:new Array(e.count)};return r}var o=n.prototype;o.render=function(){for(var e=function(e){e===c.length/2&&u.push((0,r.jsx)("div",{className:s().spacer},"spacer"));u.push((0,r.jsx)(v,{ref:function(n){return t.setCodeBlockRef(e,n)},code:c[e],autoFocus:0===e,onChange:function(n){return t.handleChange(e,n)},
onKeyDown:function(n){return t.handleKeyDown(e,n)},className:i},e))},t=this,n=this.props,o=n.className,i=n.inputClassName,c=this.state.codes,u=[],l=0;l<c.length;l++)e(l);return(0,r.jsx)(a.Z,{align:a.Z.Align.CENTER,justify:a.Z.Justify.CENTER,className:o,children:u})};o.setCodeBlockRef=function(e,t){this._codeBlockRefs[e]=t};o.handleChange=function(e,t){this.state.codes[e]=t;var n=this.getCodeOrFirstEmptyIndex();if("string"==typeof n)this.submit(n);else{var r=this._codeBlockRefs[n];null==r||r.focus()}};o.handleKeyDown=function(e,t){var n=this.state.codes;if(8===t.which&&e>0&&(null==n[e]||0===n[e].length)){var r=e-1;n[r]="";var o=this._codeBlockRefs[r];null==o||o.focus()}};o.getCodeOrFirstEmptyIndex=function(){for(var e=this.state.codes,t="",n=0;n<e.length;n++){if(isNaN(parseInt(e[n])))return n;t+=e[n]}return t};o.submit=function(e){var t=this.props.onSubmit;null==t||t(e)};return n}(o.PureComponent);m.defaultProps={count:6};const E=m}}]);
//# sourceMappingURL=f6fa5ff452231bc21dc5.js.map