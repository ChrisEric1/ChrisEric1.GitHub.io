"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[86955],{839924:(e,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0});n.getGuildIdentitySettingsPatch=function(e){var n=e.pendingAvatar,t=e.pendingNickname,r=e.pendingBanner,i=e.pendingBio,a=e.pendingPronouns,o={};void 0!==n&&(o.avatar=n);void 0!==r&&(o.banner=r);null!=i&&(o.bio=i);null!=a&&(o.pronouns=a);void 0!==t&&(o.nick=t);return o};n.setNewPendingGuildIdentityBio=function(e,n){(0,r.setPendingBio)(e===n?void 0:e)};n.setNewPendingGuildIdentityPronouns=function(e,n){(0,r.setPendingPronouns)(e===n?void 0:e)};n.setNewPendingNickname=function(e,n){(0,r.setPendingNickname)(e===n?void 0:e)};var r=t(799393)},862976:(e,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0});n.default=E;var r,i=function(e,n){if(!n&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=f(n);if(t&&t.has(e))return t.get(e)
;var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}r.default=e;t&&t.set(e,r);return r}(t(667294)),a=t(536211),o=c(t(669879)),l=c(t(871778)),u=t(799393),s=c(t(350957)),d=t(839924);function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var n=new WeakMap,t=new WeakMap;return(f=function(e){return e?t:n})(e)}function p(e,n,t,i){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,o=arguments.length-3;if(n||0===o||(n={children:void 0}),1===o)n.children=i;else if(o>1){for(var l=new Array(o),u=0;u<o;u++)l[u]=arguments[u+3];n.children=l}if(n&&a)for(var s in a)void 0===n[s]&&(n[s]=a[s]);else n||(n=a||{});return{$$typeof:r,type:e,key:void 0===t?null:""+t,ref:null,props:n,_owner:null}}
function g(e,n,t,r,i,a,o){try{var l=e[a](o),u=l.value}catch(e){t(e);return}l.done?n(u):Promise.resolve(u).then(r,i)}function v(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var a=e.apply(n,t);function o(e){g(a,r,i,o,l,"next",e)}function l(e){g(a,r,i,o,l,"throw",e)}o(void 0)}))}}function m(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var r,i,a=[],o=!0,l=!1;try{for(t=t.call(e);!(o=(r=t.next()).done);o=!0){a.push(r.value);if(n&&a.length===n)break}}catch(e){l=!0;i=e}finally{try{o||null==t.return||t.return()}finally{if(l)throw i}}return a}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return y(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e)
;if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return y(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function E(){var e=(0,a.useStateFromStores)([l.default],(function(){return l.default.theme})),n=(0,a.useStateFromStores)([s.default],(function(){return s.default.getIsDisableSubmit()})),t=(0,a.useStateFromStores)([s.default],(function(){return s.default.getGuild()})),r=m(i.useState(!1),2),c=r[0],f=r[1],g=i.useCallback(v(regeneratorRuntime.mark((function e(){var n,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f(!0);n=s.default.getAllPending();r=(0,d.getGuildIdentitySettingsPatch)(n);if(0!==Object.keys(r).length){e.next=5;break}return e.abrupt("return");case 5:e.next=7;return(0,
u.saveGuildIdentityChanges)(null==t?void 0:t.id,r);case 7:(null==(i=e.sent)?void 0:i.ok)&&(0,u.resetAllPending)();f(!1);case 10:case"end":return e.stop()}}),e)}))),[null==t?void 0:t.id]),y=i.useCallback((function(){(0,u.resetAllPending)()}),[]);return p(o.default,{theme:e,submitting:c,onSave:g,onReset:y,disabled:n})}E.displayName="GuildIdentitySettingsNotice"},799017:(e,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0});n.default=re
;var r,i=K(t(667294)),a=z(t(441143)),o=t(235234),l=t(536211),u=z(t(636602)),s=z(t(226800)),d=z(t(898361)),c=z(t(135631)),f=z(t(954140)),p=z(t(844784)),g=z(t(37039)),v=K(t(125478)),m=t(939425),y=z(t(468532)),E=z(t(845176)),I=z(t(482117)),_=z(t(498163)),P=z(t(561511)),N=z(t(777018)),S=z(t(876874)),b=z(t(871778)),O=z(t(728429)),h=z(t(956117)),M=z(t(380439)),T=z(t(60097)),A=t(645758),C=z(t(730977)),R=z(t(41024)),k=z(t(417184)),w=t(194322),L=z(t(308920)),G=z(t(838583)),U=t(799393),B=z(t(350957)),D=t(839924),j=z(t(862976)),F=z(t(65139)),x=t(770348),W=t(265517),H=z(t(247001)),Y=z(t(923247));function z(e){return e&&e.__esModule?e:{default:e}}function $(e){if("function"!=typeof WeakMap)return null;var n=new WeakMap,t=new WeakMap;return($=function(e){return e?t:n})(e)}function K(e,n){if(!n&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=$(n);if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}r.default=e;t&&t.set(e,r);return r}function V(e,n,t,i){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,o=arguments.length-3;if(n||0===o||(n={children:void 0}),1===o)n.children=i;else if(o>1){for(var l=new Array(o),u=0;u<o;u++)l[u]=arguments[u+3];n.children=l}if(n&&a)for(var s in a)void 0===n[s]&&(n[s]=a[s]);else n||(n=a||{});return{$$typeof:r,type:e,key:void 0===t?null:""+t,ref:null,props:n,_owner:null}}function Z(){Z=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e};return Z.apply(this,arguments)}function X(e,n,t,r,i,a,o){try{var l=e[a](o),u=l.value}catch(e){t(e);return}l.done?n(u):Promise.resolve(u).then(r,i)}function q(e){
return function(){var n=this,t=arguments;return new Promise((function(r,i){var a=e.apply(n,t);function o(e){X(a,r,i,o,l,"next",e)}function l(e){X(a,r,i,o,l,"throw",e)}o(void 0)}))}}function J(){L.default.track(x.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location_page:x.AnalyticsPages.GUILD_MEMBER_PROFILE_SETTINGS,location_object:x.AnalyticsObjects.BADGE});(0,U.closeGuildIdentitySettings)();s.default.open(x.UserSettingsSections.PREMIUM)}function Q(e){(0,w.openModalLazy)(q(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:n.next=2;return t.e(83084).then(t.bind(t,858023));case 2:r=n.sent;a=r.default;return n.abrupt("return",(function(n){return i.createElement(a,Z({source:Z({},e,{page:x.AnalyticsPages.GUILD_MEMBER_PROFILE_SETTINGS})},n))}));case 5:case"end":return n.stop()}}),n)}))))}function ee(e){var n=e.onUpsellClick,t=(0,m.useCTATextExperimentButtonText)(),r=(0,g.default)().analyticsLocations
;i.useEffect((function(){L.default.track(x.AnalyticEvents.PREMIUM_UPSELL_VIEWED,{type:W.PremiumUpsellTypes.PREMIUM_GUILD_MEMBER_PROFILE_UPSELL_INLINE,location:{page:x.AnalyticsPages.GUILD_CHANNEL,section:x.AnalyticsSections.PREMIUM_GUILD_MEMBER_PROFILE},location_stack:r})}),[r]);return V("div",{className:Y.default.upsellContainer},void 0,V(A.Text,{variant:"text-sm/normal"},void 0,H.default.Messages.GUILD_IDENTITY_SETTINGS_UPSELL_NO_LINK),V(T.default,{size:h.default.Sizes.SMALL,onClick:n,color:h.default.Colors.GREEN,className:Y.default.upsellButton,innerClassName:Y.default.upsellButtonInner},void 0,V(R.default,{className:Y.default.premiumIconButton}),null!=t?t:H.default.Messages.CHANGE_IDENTITY_UPSELL))}ee.displayName="InlineUpsell";var ne="GUILD_IDENTITY_SETTINGS_PAGE";function te(){var e,n,t,r,d=(0,l.useStateFromStores)([O.default],(function(){var e=O.default.getCurrentUser();(0,a.default)(null!=e,"GuildIdentitySettingsPage: user cannot be undefined");return e})),f=(0,
l.useStateFromStoresObject)([B.default],(function(){var e=B.default.getAllPending(),n=e.pendingAvatar,t=e.pendingNickname,r=e.pendingBio,i=e.pendingPronouns;return{pendingAvatar:n,pendingNickname:t,pendingBanner:e.pendingBanner,pendingBio:r,pendingPronouns:i,errors:B.default.getErrors(),guild:B.default.getGuild(),source:B.default.getSource()}})),g=f.pendingAvatar,m=f.pendingNickname,b=f.pendingBanner,h=f.pendingBio,T=f.pendingPronouns,w=f.errors,L=f.guild,j=f.source,W=(0,l.useStateFromStores)([S.default],(function(){return null==L?null:S.default.getMember(L.id,d.id)}));i.useEffect((function(){return function(){return u.default.wait(U.resetAllPending)}}),[]);i.useEffect((function(){null!=j&&p.default.trackWithMetadata(x.AnalyticEvents.SETTINGS_PANE_VIEWED,{settings_type:"guild",destination_pane:x.AnalyticsSections.SETTINGS_CUSTOMIZE_PROFILE,source:j})}),[j]);var z=void 0===g?d.getAvatarURL(null==L?void 0:L.id,80,!0):g,$=null!==(e=(0,o.hex2int)((0,
v.default)(z,x.Colors.PRIMARY_DARK_530,v.ColorFormats.HEX)))&&void 0!==e?e:0,K=G.default.canUsePremiumProfileCustomization(d),X=void 0===g?null!=(null==W?void 0:W.avatar):null!=g,q=void 0===b?null!=(null==W?void 0:W.banner):null!=b,ne=null!==(n=null==W?void 0:W.bio)&&void 0!==n?n:"",te=null!==(t=null==W?void 0:W.pronouns)&&void 0!==t?t:"",re=c.default.useExperiment({}).showPronouns;return null==L?null:i.createElement(i.Fragment,null,V("div",{className:Y.default.notice},void 0,V(k.default,{className:Y.default.warningCircleIcon}),V(A.Text,{variant:"text-sm/normal"},void 0,H.default.Messages.CHANGE_IDENTITY_USER_PROFILE_HELP.format({onUserProfileClick:function(){(0,U.closeGuildIdentitySettings)();s.default.open(x.UserSettingsSections.PROFILE_CUSTOMIZATION)}}))),V(y.default,{title:V("span",{className:Y.default.title},void 0,H.default.Messages.CHANGE_IDENTITY_SERVER_PROFILE),description:V(A.Text,{className:Y.default.guildInfo,variant:"text-sm/normal"},void 0,V(M.default,{
className:Y.default.guildIconInline,guild:L,size:M.default.Sizes.MINI},"guild-icon"),V("span",{},void 0,L.name)),previewTitle:H.default.Messages.CHANGE_IDENTITY_PREVIEW,customizationSections:[V(F.default,{username:d.toString(),pendingNick:m,currentNick:null==W?void 0:W.nick,guild:L},"nick"),K?null:V(ee,{onUpsellClick:function(){return Q({object:x.AnalyticsObjects.BUTTON_CTA})}}),V(_.default,{sectionTitle:i.createElement(i.Fragment,null,H.default.Messages.USER_SETTINGS_AVATAR,V(C.default,{text:H.default.Messages.PROFILE_CUSTOMIZATION_NITRO_ICON_TOOLTIP},void 0,(function(e){return i.createElement(R.default,Z({},e,{className:Y.default.nitroWheel}))}))),showRemoveAvatarButton:X,onAvatarChange:U.setPendingAvatar,errors:w.avatar,guildId:L.id,disabled:!K},"avatar"),V(P.default,{sectionTitle:H.default.Messages.USER_SETTINGS_PROFILE_BANNER,canUsePremiumCustomization:K,showRemoveBannerButton:q,errors:w.banner,upsellButton:null,onBannerChange:U.setPendingBanner,guildId:null==L?void 0:L.id,
disabled:!K},"banner"),re&&V(N.default,{sectionTitle:H.default.Messages.USER_SETTINGS_PRONOUNS,errors:w.pronouns,onPronounsChange:function(e){(0,D.setNewPendingGuildIdentityPronouns)(e,te)},pendingPronouns:T,currentPronouns:te},"pronouns"),V(I.default,{placeholder:H.default.Messages.CHANGE_IDENTITY_BIO_PLACEHOLDER,sectionTitle:i.createElement(i.Fragment,null,H.default.Messages.USER_PROFILE_ABOUT_ME,V(C.default,{text:H.default.Messages.PROFILE_CUSTOMIZATION_NITRO_ICON_TOOLTIP},void 0,(function(e){return i.createElement(R.default,Z({},e,{className:Y.default.nitroWheel}))}))),onBioChange:function(e){(0,D.setNewPendingGuildIdentityBio)(e,ne);(0,U.setDisableSubmit)(null!=e&&e.length>x.BIO_MAX_LENGTH)},errors:w.bio,pendingBio:h,currentBio:ne,disabled:!K},"about")],profilePreview:V(E.default,{user:d,guild:L,canUsePremiumCustomization:K,bannerColor:null!==(r=d.accentColor)&&void 0!==r?r:$,onAvatarChange:U.setPendingAvatar,onBannerChange:U.setPendingBanner,onUpsellClick:Q,pendingBanner:b,
pendingBio:h,pendingPronouns:T,pendingAvatar:g,pendingNickname:m,activityName:H.default.Messages.CHANGE_IDENTITY_SERVER_PROFILE,activityCharacter:"phibi",openPremiumSettings:J})}))}function re(){var e=(0,l.useStateFromStores)([b.default],(function(){return b.default.theme}));return V((0,g.default)(f.default.GUILD_PROFILE).AnalyticsLocationProvider,{},void 0,V(d.default,{theme:e,section:ne,sections:[{section:ne,label:null,element:te,notice:{store:B.default,element:j.default}}],onClose:U.closeGuildIdentitySettings,hideSidebar:!0}))}re.displayName="GuildIdentitySettings"},65139:(e,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0});n.default=m;!function(e,n){if(!n&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=g(n);if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){
var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}r.default=e;t&&t.set(e,r)}(t(667294));var r,i=t(536211),a=p(t(456701)),o=p(t(689389)),l=p(t(279950)),u=t(688388),s=t(839924),d=t(770348),c=p(t(247001)),f=p(t(514049));function p(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var n=new WeakMap,t=new WeakMap;return(g=function(e){return e?t:n})(e)}function v(e,n,t,i){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,o=arguments.length-3;if(n||0===o||(n={children:void 0}),1===o)n.children=i;else if(o>1){for(var l=new Array(o),u=0;u<o;u++)l[u]=arguments[u+3];n.children=l}if(n&&a)for(var s in a)void 0===n[s]&&(n[s]=a[s]);else n||(n=a||{});return{$$typeof:r,type:e,key:void 0===t?null:""+t,ref:null,props:n,_owner:null}}function m(e){var n=e.errors,t=e.pendingNick,r=e.currentNick,p=e.username,g=e.guild,m=null!=t?t:r,y=(0,
i.useStateFromStores)([o.default],(function(){return o.default.can(d.Permissions.CHANGE_NICKNAME,g)||o.default.can(d.Permissions.MANAGE_NICKNAMES,g)}));return v(a.default,{title:c.default.Messages.NICKNAME,errors:n},void 0,v(l.default,{value:null!=m?m:"",placeholder:p,maxLength:d.USERNAME_MAX_LENGTH,onChange:function(e){(0,s.setNewPendingNickname)(e,r)},disabled:!y}),!y&&v(u.FormText,{className:f.default.nicknameDisabled,type:u.FormText.Types.DESCRIPTION},void 0,c.default.Messages.CHANGE_IDENTITY_NICKNAME_PERMISSIONS_DISABLED))}m.displayName="NicknameSection"}}]);
//# sourceMappingURL=2da3295378dfb8fc0a6a.js.map