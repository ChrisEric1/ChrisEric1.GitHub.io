"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[45410],{390980:(t,e,n)=>{n.d(e,{Z:()=>_});var r=n(363010),o=n(173436),i=n(981760),u=n(932847),c=n(461061);function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t){l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)};return l(t)}function s(t,e){return!e||"object"!==p(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t,e){f=Object.setPrototypeOf||function(t,e){t.__proto__=e;return t};return f(t,e)}var p=function(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{
Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}var y=[],h=null,O=new Set,b="",v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}});e&&f(t,e)}(r,t);var e=d(r);function r(){a(this,r);return e.apply(this,arguments)}var o=r.prototype;o.initialize=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y;h=t;b=""};o.getUserAgnosticState=function(){return null!=h?h:Array.from(O)};o.getCurrentFileHash=function(){return b};o.isBlockedDomain=function(t){var e=n(181757);null!=h&&(O=new Set(h));var r=(0,i.F)(t),o=new e.hash.sha256,a=e.codec.hex.fromBits(o.update(r).finalize()),l="";O.has(a)&&(l=r)
;for(var s=r.indexOf(".");-1!==s&&""===l;){r=r.substring(s+1);o.reset();a=e.codec.hex.fromBits(o.update(r).finalize());O.has(a)&&(l=r);s=r.indexOf(".")}if(""!==l){u.default.track(c.rMx.LINK_SECURITY_CHECK_BLOCKED,{blocked_domain:l});return l}return null};o.__getLocalVars=function(){return{initialState:y,rawBlockedDomainHashes:h,blockedDomainHashes:O,fileHash:b}};return r}(r.ZP.OfflineCacheStore);v.displayName="BlockedDomainStore";v.persistKey="BlockedDomainStore";const _=new v(o.Z,{BLOCKED_DOMAIN_LIST_FETCHED:function(t){var e=t.list,n=t.hash;h=e;O=new Set;b=n}})},323523:(t,e,n)=>{n.d(e,{zy:()=>f,o:()=>p,zt:()=>y,_b:()=>h});var r=n(725616),o=n(769002),i=n(917870),u=n(742269),c=n(461061),a="".concat(location.protocol,"//").concat(window.GLOBAL_ENV.CDN_HOST,"/role-icons"),l="".concat(location.protocol).concat(window.GLOBAL_ENV.API_ENDPOINT),s=(0,u.Dt)(),f=function(t,e){if(null==t)return null;var n=null!=t.unicodeEmoji?r.ZP.getByName(r.ZP.convertSurrogateToName(t.unicodeEmoji,!1)):void 0
;return{customIconSrc:d(t,e),unicodeEmoji:null!=n?n:void 0}},p=function(t,e){return t.replace(/size=[0-9]+/g,"size=".concat((0,o.oO)(e*(0,o.x_)())))},d=function(t,e){var n=t.id,r=t.icon;if(null!=r){if(r.startsWith("data:"))return r;var u=i.$k?"webp":"png",f="",p="quality=lossless";if(null!=e){f="size="+(0,o.oO)(e*(0,o.x_)());p=s?"":"&"+p}return null!=window.GLOBAL_ENV.CDN_HOST?"".concat(a,"/").concat(n,"/").concat(r,".").concat(u,"?").concat(f).concat(p):"".concat(l).concat(c.ANM.ROLE_ICON(n,r),"?").concat(f)}},y=function(t){return t.startsWith(a)||t.startsWith("".concat(l,"/roles"))&&t.includes("/icons/")},h=function(t,e){var n;return null!=(null==e||null===(n=e.tags)||void 0===n?void 0:n.subscription_listing_id)||t.features.has(c.oNc.ROLE_ICONS)}},734754:(t,e,n)=>{n.d(e,{y:()=>p,Z:()=>d});var r=n(74971),o=n.n(r),i=n(120053),u=n.n(i),c=n(608575);function a(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n;return t}function l(t){
for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))));r.forEach((function(e){a(t,e,n[e])}))}return t}function s(t,e){e=null!=e?e:{};Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):function(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})));n.push.apply(n,r)}return n}(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}));return t}var f=["file:","javascript:","vbscript:","data:"];function p(t){try{var e,n=c.parse(t),r=null!==(e=n.protocol)&&void 0!==e?e:"";if(f.includes(r.toLowerCase()))throw new Error("bad protocol")
;if(null==n.hostname||0===n.hostname.length)throw new Error("no hostname");n.hostname=o().toASCII(n.hostname);return{displayTarget:c.format(s(l({},n),{auth:void 0})),target:c.format(n)}}catch(t){return null}}const d=s(l({},u().defaultRules.link),{match:function(t,e,n){return e.allowLinks?u().defaultRules.link.match(t,e,n):null},parse:function(t,e,n){var r=u().unescapeUrl(t[2]);if(!/^https?:\/\//i.test(r))return e(t[1],n);var o=p(r);if(null==o)return{type:"text",content:r};var i=o.target;return{content:e(t[1],n),target:i,title:t[3]}}})},670512:(t,e,n)=>{n.d(e,{v:()=>i});var r=n(379822),o=n(35236);function i(){var t,e=null!==(t=r.Z.getCurrentlySelectedChannelId())&&void 0!==t?t:void 0;return null!=e&&(0,o.AB)(e)?{channel_static_route:e}:{channel_id:e}}},145410:(t,e,n)=>{n.r(e);n.d(e,{default:()=>l});var r=n(785893),o=(n(667294),n(281081)),i=n(769672),u=n(742269),c=n(636640),a=n(959797);function l(t){var e=t.href,n=t.textContent,l=t.onSelect,s=(0,c.Z)(e,n);return u.FB?null==s?null:(0,
r.jsx)(i.ZP,{navId:"image-context",onClose:o.Zy,"aria-label":a.Z.Messages.IMAGE_ACTIONS_MENU_LABEL,onSelect:l,children:(0,r.jsx)(i.kS,{children:s})}):null}},636640:(t,e,n)=>{n.d(e,{Z:()=>b});var r=n(785893),o=(n(667294),n(323523)),i=n(769672),u=n(673973),c=n(981760),a=n(932847),l=n(850622),s=n(742269),f=n(588641),p=n(670512),d=n(461061),y=n(959797);function h(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n;return t}function O(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))));r.forEach((function(e){h(t,e,n[e])}))}return t}function b(t,e){if(!s.FB||null==t||""===t)return null;if(null!=t&&null!=(0,u.B0)(t))return null;if(null!=t&&(0,o.zt)(t))return null;var n=(0,c.F)(t);return[(0,r.jsx)(i.sN,{id:"copy-native-link",
label:y.Z.Messages.COPY_LINK,action:function(){a.default.track(d.rMx.CONTEXT_MENU_LINK_COPIED,O({hostname:n},(0,p.v)()));f.default.copy(t)}},"copy-native-link"),(0,r.jsx)(i.sN,{id:"open-native-link",label:y.Z.Messages.OPEN_LINK,action:function(r){return function(r){a.default.track(d.rMx.CONTEXT_MENU_LINK_OPENED,O({hostname:n},(0,p.v)()));(0,l.q)({href:t,trusted:(0,l.r)(t,e),shouldConfirm:!0},r)}(r)}},"open-native-link")]}},981760:(t,e,n)=>{n.d(e,{F:()=>r,E:()=>o});function r(t){var e=document.createElement("a");e.href=t;return e.hostname}function o(t){var e=document.createElement("a");e.href=t;return e.protocol}},850622:(t,e,n)=>{n.d(e,{q:()=>Q,r:()=>J});var r=n(120053),o=n.n(r),i=n(992497),u=n(173436);function c(t){u.Z.dispatch({type:"MASKED_LINK_ADD_TRUSTED_DOMAIN",url:t})}function a(t){u.Z.dispatch({type:"MASKED_LINK_ADD_TRUSTED_PROTOCOL",url:t})}var l=n(7096),s=n(785893),f=(n(667294),n(897576));function p(t,e,n,r,o,i,u){try{var c=t[i](u),a=c.value}catch(t){n(t);return}
c.done?e(a):Promise.resolve(a).then(r,o)}function d(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function u(t){p(i,r,o,u,c,"next",t)}function c(t){p(i,r,o,u,c,"throw",t)}u(void 0)}))}}function y(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n;return t}function h(t,e){e=null!=e?e:{};Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):function(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})));n.push.apply(n,r)}return n}(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}));return t}var O=function(t,e){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},
"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:u.label++;return{value:i[1],done:!1};case 5:u.label++;r=i[1];i=[0];continue;case 7:i=u.ops.pop();u.trys.pop();continue;default:if(!(o=u.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1];o=i;break}if(o&&u.label<o[2]){u.label=o[2];u.ops.push(i);break}o[2]&&u.ops.pop();u.trys.pop();continue}i=e.call(t,u)}catch(t){i=[6,t];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}};const b=function(t){(0,f.ZD)(d((function(){var e,r;return O(this,(function(o){
switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(77939)]).then(n.bind(n,877939))];case 1:e=o.sent(),r=e.default;return[2,function(e){return(0,s.jsx)(r,h(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))));r.forEach((function(e){y(t,e,n[e])}))}return t}({},e),{domain:t}))}]}}))})))};var v=n(390980);var _=n(734754),m=n(801165),w=n(72171),g=n(356004),D=n(653772),E=n(363010),S=n(444450),P=n(86124),L=n(981760),N=n(64027);function T(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function j(t){j=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)};return j(t)}function C(t,e){return!e||"object"!==M(e)&&"function"!=typeof e?function(t){
if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function I(t,e){I=Object.setPrototypeOf||function(t,e){t.__proto__=e;return t};return I(t,e)}var A,M=function(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};function Z(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(t){return!1}}();return function(){var n,r=j(t);if(e){var o=j(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return C(this,n)}}var k="MaskedLinkStore",x=new Set,K=new Set,R=null===(A=window.GLOBAL_ENV.MEDIA_PROXY_ENDPOINT)||void 0===A?void 0:A.replace("//","");function B(t){var e=(0,L.F)(t);switch(e){case window.GLOBAL_ENV.CDN_HOST:case window.GLOBAL_ENV.INVITE_HOST:
case window.GLOBAL_ENV.GIFT_CODE_HOST:case window.GLOBAL_ENV.GUILD_TEMPLATE_HOST:case R:case location.hostname:return!0;default:return N.SD.includes(e)||P.Z.isDiscordHostname(e)||x.has(e)}}function H(t){var e=(0,L.E)(t);return K.has(e)}var U=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}});e&&I(t,e)}(n,t);var e=Z(n);function n(){T(this,n);return e.apply(this,arguments)}var r=n.prototype;r.initialize=function(){var t,e=null!==(t=S.Z.get(k))&&void 0!==t?t:{};if(Array.isArray(e)){x=new Set(null!=e?Array.from(e):null);K=new Set}else{var n=e.trustedDomains,r=e.trustedProtocols;x=new Set(null!=n?Array.from(n):null);K=new Set(null!=r?Array.from(r):null)}};r.isTrustedDomain=function(t){return B(t)};r.isTrustedProtocol=function(t){return H(t)};r.__getLocalVars=function(){return{STORAGE_KEY:k,trustedDomains:x,
trustedProtocols:K,MEDIA_PROXY_HOST:R}};return n}(E.ZP.Store);U.displayName="MaskedLinkStore";const F=new U(u.Z,{MASKED_LINK_ADD_TRUSTED_DOMAIN:function(t){var e=t.url;if(B(e))return!1;x.add((0,L.F)(e));S.Z.set(k,{trustedDomains:x,trustedProtocols:K})},MASKED_LINK_ADD_TRUSTED_PROTOCOL:function(t){var e=t.url;if(H(e))return!1;K.add((0,L.E)(e));S.Z.set(k,{trustedDomains:x,trustedProtocols:K})}});var G=n(105405),z=n(379822),V=n(932847),Y=n(461061),X=n(959797);function q(t,e,n,r,o,i,u){try{var c=t[i](u),a=c.value}catch(t){n(t);return}c.done?e(a):Promise.resolve(a).then(r,o)}function W(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function u(t){q(i,r,o,u,c,"next",t)}function c(t){q(i,r,o,u,c,"throw",t)}u(void 0)}))}}var $=function(t,e){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i
;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:u.label++;return{value:i[1],done:!1};case 5:u.label++;r=i[1];i=[0];continue;case 7:i=u.ops.pop();u.trys.pop();continue;default:if(!(o=u.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1];o=i;break}if(o&&u.label<o[2]){u.label=o[2];u.ops.push(i);break}o[2]&&u.ops.pop();u.trys.pop();continue}i=e.call(t,u)}catch(t){i=[6,t];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}};function J(t,e){var n,r=g.Z.getChannel(z.Z.getChannelId())
;return!(null!=r&&r.type===Y.d4z.DM&&!G.Z.isFriend(null!==(n=r.getRecipientId())&&void 0!==n?n:""))&&t===e}function Q(t,e){return tt.apply(this,arguments)}function tt(){tt=W((function(t,e){var r,u,s,f,p,d,y,h,O,E,S,P,N,T,j,C,I,A,M,Z=arguments;return $(this,(function(k){switch(k.label){case 0:r=Z.length>2&&void 0!==Z[2]?Z[2]:[];u=t.trusted,s=t.onClick,f=t.onConfirm,p=t.shouldConfirm;if(null==(d=o().sanitizeUrl(t.href))){null!=e&&e.preventDefault();i.Z.show({title:X.Z.Messages.HOLD_UP,body:X.Z.Messages.MALFORMED_LINK_BODY.format({url:t.href}),isDismissable:!0});return[2]}y=g.Z.getChannel(z.Z.getChannelId());h=D.Z.getGuild(null==y?void 0:y.getGuildId());null!=y&&null!=h&&h.hasFeature(Y.oNc.DISCOVERABLE)&&V.default.track(Y.rMx.URL_CLICKED,{url_domain:(0,L.F)(d),guild_id:h.id,channel_id:y.id});return null==s?[3,1]:s(e)?[2]:[3,3];case 1:return[4,Promise.resolve().then(n.bind(n,145337))];case 2:O=k.sent(),E=O.default;if(null!=(S=E(d,void 0,r))&&S(e))return[2];k.label=3;case 3:P=function(){
null==f?(0,l.Z)(d):f()};if(null!==(N=v.Z.isBlockedDomain(d))){null==e||e.preventDefault();b(N);return[2]}if(null!=(0,w.v)(d)){null==e||e.preventDefault();m.Z.show(d);return[2]}0;T="function"==typeof u?u():u;j=(0,L.E)(d);if(!(C=!("http:"===j||"https:"===j))&&(T||F.isTrustedDomain(d))||C&&F.isTrustedProtocol(d)){(null==e||null!=p&&p)&&P();return[2]}null!=e&&e.preventDefault();if(C)i.Z.show({title:X.Z.Messages.HOLD_UP,body:X.Z.Messages.MASKED_PROTOCOL_LINK_BODY.format({url:d}),cancelText:X.Z.Messages.MASKED_LINK_CANCEL,confirmText:X.Z.Messages.MASKED_LINK_CONFIRM,onConfirm:P,secondaryConfirmText:X.Z.Messages.MASKED_LINK_TRUST_THIS_PROTOCOL,onConfirmSecondary:function(){a(d);P()}});else{I=(0,_.y)(d);A=null!=I?I.displayTarget:d;M=512;A.length>M&&(A=A.substring(0,M)+"...");i.Z.show({title:X.Z.Messages.HOLD_UP,body:X.Z.Messages.MASKED_LINK_BODY.format({url:A}),cancelText:X.Z.Messages.MASKED_LINK_CANCEL,confirmText:X.Z.Messages.MASKED_LINK_CONFIRM,onConfirm:P,
secondaryConfirmText:X.Z.Messages.MASKED_LINK_TRUST_THIS_DOMAIN,onConfirmSecondary:function(){c(d);P()},isDismissable:!0})}return[2]}}))}));return tt.apply(this,arguments)}}}]);
//# sourceMappingURL=5ae117f65be7996ce55b.js.map