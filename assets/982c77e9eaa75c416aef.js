"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[81640],{383950:(e,n,t)=>{t.d(n,{N8:()=>d,BT:()=>s,MR:()=>c,WR:()=>f});var r=t(667294),o=t(202351),a=t(489684),l=t(682776),i=t(743219),u=t(2590);function d(e){var n,t=null!==(n=null==e?void 0:e.id)&&void 0!==n?n:"",a=i.r.useExperiment({guildId:t},{autoTrackExposure:!1}).enableRaidReporting,d=(0,o.e7)([l.Z],(function(){return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.Z;return n.can(u.Plq.BAN_MEMBERS,e)||n.can(u.Plq.KICK_MEMBERS,e)||n.can(u.Plq.MANAGE_GUILD,e)}(e,l.Z)}),[e]);r.useEffect((function(){d&&i.r.trackExposure({guildId:t})}),[d,t]);return d&&a}function s(e){var n,t=null!==(n=null==e?void 0:e.id)&&void 0!==n?n:"",r=(0,o.e7)([l.Z],(function(){return function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.Z).can(u.Plq.MANAGE_GUILD,e)}(e,l.Z)}),[e]),a=i.l.useExperiment({guildId:t},{autoTrackExposure:r}).enableRaidAlerts;return r&&a}function c(e){
var n=s(e),t=!0===(null==e?void 0:e.hasFeature(u.oNc.RAID_ALERTS_DISABLED));return n&&t}function f(e){var n,t=(0,o.e7)([l.Z],(function(){return function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.Z).can(u.Plq.MANAGE_GUILD,e)}(e,l.Z)}),[e]);return(0,a.au)(null!==(n=null==e?void 0:e.id)&&void 0!==n?n:"",!1)&&t}},181640:(e,n,t)=>{t.r(n);t.d(n,{default:()=>R});var r=t(785893),o=t(667294),a=t(210595),l=t(202351),i=t(945460),u=t(396043),d=t(773011),s=t(65162),c=t(703790),f=t(5544),m=t(567403),b=t(840922),A=t(473903),_=t(557233),h=t(383950),g=t(2590),E=t(473708),v=t(604721),I=t.n(v);function p(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function y(e,n,t,r,o,a,l){try{var i=e[a](l),u=i.value}catch(e){t(e);return}i.done?n(u):Promise.resolve(u).then(r,o)}function T(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]
;if(null!=t){var r,o,a=[],l=!0,i=!1;try{for(t=t.call(e);!(l=(r=t.next()).done);l=!0){a.push(r.value);if(n&&a.length===n)break}}catch(e){i=!0;o=e}finally{try{l||null==t.return||t.return()}finally{if(i)throw o}}return a}}(e,n)||x(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||x(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,n){if(e){if("string"==typeof e)return p(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name)
;return"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?p(e,n):void 0}}var C=function(e,n){var t,r,o,a,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;l;)try{if(t=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;(r=0,o)&&(a=[2&a[0],o.value]);switch(a[0]){case 0:case 1:o=a;break;case 4:l.label++;return{value:a[1],done:!1};case 5:l.label++;r=a[1];a=[0];continue;case 7:a=l.ops.pop();l.trys.pop();continue;default:if(!(o=l.trys,o=o.length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){l=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){l.label=a[1];break}if(6===a[0]&&l.label<o[1]){l.label=o[1];o=a;break}if(o&&l.label<o[2]){
l.label=o[2];l.ops.push(a);break}o[2]&&l.ops.pop();l.trys.pop();continue}a=n.call(e,l)}catch(e){a=[6,e];r=0}finally{t=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}};function R(e){var n,t,v,p,x=e.guildId,R=e.transitionState,N=e.onClose,L=(0,l.e7)([m.Z],(function(){return m.Z.getGuild(x)}),[x]),D=null!==(n=null==L?void 0:L.safetyAlertsChannelId)&&void 0!==n?n:null,M=T(o.useState(!!(null==L?void 0:L.hasFeature(g.oNc.RAID_ALERTS_DISABLED))),2),k=M[0],Z=M[1],U=(0,h.BT)(L),w=T(o.useState(null!=D?D:null!==(t=null==L?void 0:L.publicUpdatesChannelId)&&void 0!==t?t:null),2),P=w[0],B=w[1],G=T(o.useState(!1),2),j=G[0],F=G[1],O=(0,l.Wu)([f.ZP,A.default,b.Z],(function(){var e=f.ZP.getChannels(x)[f.sH].filter((function(e){return e.channel.type===a.d.GUILD_TEXT})).map((function(e){var n=e.channel;return{value:n.id,label:(0,d.F6)(n,A.default,b.Z,!0)}}));return null!=D?e:S(e)}),[x,D]),H=(p=(v=function(){var e,n;return C(this,(function(t){switch(t.label){case 0:if(null==L){(0,
i.showToast)((0,i.createToast)(E.Z.Messages.GUILD_ANTIRAID_SAFETY_SETUP_ERROR,i.ToastType.FAILURE));return[2]}t.label=1;case 1:t.trys.push([1,6,7,8]);F(!0);return k===L.hasFeature(g.oNc.RAID_ALERTS_DISABLED)?[3,3]:[4,(0,_.f6)(L,k)];case 2:t.sent();t.label=3;case 3:return P===D?[3,5]:[4,c.Z.saveGuild(x,{safetyAlertsChannelId:P},{throwErr:!0})];case 4:t.sent();c.Z.updateGuild({safetyAlertsChannelId:P});t.label=5;case 5:if(null!=(e=null!=P?P:D)){n={raid_alert_type:s.wR.JOIN_RAID,enabled:k,raid_alert_channel_id:e,guild_id:x,channel_id:e};(0,u.yw)(g.rMx.GUILD_RAID_ALERTS_SETUP,n)}N();return[3,8];case 6:t.sent();(0,i.showToast)((0,i.createToast)(E.Z.Messages.GUILD_ANTIRAID_SAFETY_SETUP_ERROR,i.ToastType.FAILURE));return[3,8];case 7:F(!1);return[7];case 8:return[2]}}))},function(){var e=this,n=arguments;return new Promise((function(t,r){var o=v.apply(e,n);function a(e){y(o,t,r,a,l,"next",e)}function l(e){y(o,t,r,a,l,"throw",e)}a(void 0)}))}),function(){return p.apply(this,arguments)})
;return(0,r.jsxs)(i.ModalRoot,{transitionState:R,size:i.ModalSize.SMALL,children:[(0,r.jsx)(i.ModalHeader,{separator:!1,children:(0,r.jsx)(i.Heading,{color:"header-primary",variant:"heading-md/semibold",children:E.Z.Messages.GUILD_ANTIRAID_SAFETY_SETUP_CHANNEL_MODAL_TITLE})}),(0,r.jsxs)(i.ModalContent,{children:[(0,r.jsx)(i.Text,{variant:"text-sm/normal",color:"header-secondary",children:E.Z.Messages.GUILD_ANTIRAID_SAFETY_SETUP_CHANNEL_MODAL_DESCRIPTION}),(0,r.jsx)("div",{className:I().mainChannelContainer,children:(0,r.jsxs)(i.Clickable,{className:I().enableAlertsContainer,onClick:function(){U&&Z(!k)},children:[(0,r.jsx)(i.Text,{variant:"text-md/medium",color:"text-normal",children:E.Z.Messages.GUILD_ANTIRAID_SAFETY_SETUP_CHANNEL_MODAL_ENABLE_ALERTS}),(0,r.jsx)(i.Checkbox,{value:!k,className:I().enabledAlertsCheckbox,type:i.Checkbox.Types.INVERTED,disabled:!U})]})}),(0,r.jsxs)("div",{className:I().mainChannelContainer,children:[(0,r.jsx)(i.Text,{variant:"eyebrow",color:"text-muted",
children:E.Z.Messages.GUILD_ANTIRAID_SAFETY_CHANNEL_TITLE}),(0,r.jsx)(i.SearchableSelect,{options:O,onChange:function(e){B(e)},value:P,className:I().channelSelect,maxVisibleItems:4}),(0,r.jsx)(i.Text,{variant:"text-xs/normal",color:"text-muted",children:E.Z.Messages.GUILD_ANTIRAID_SAFETY_SETUP_CHANNEL_MODAL_CHANNEL_PERMISSIONS_NOTICE})]})]}),(0,r.jsxs)(i.ModalFooter,{children:[(0,r.jsx)(i.Button,{onClick:H,color:i.Button.Colors.BRAND_NEW,look:i.Button.Looks.FILLED,submitting:j,children:E.Z.Messages.SAVE}),(0,r.jsx)(i.Button,{onClick:N,color:i.Button.Colors.PRIMARY,look:i.Button.Looks.LINK,disabled:j,children:E.Z.Messages.CANCEL})]})]})}},489684:(e,n,t)=>{t.d(n,{H7:()=>f,o3:()=>b,n7:()=>s,Ac:()=>A,ky:()=>c,au:()=>m,mZ:()=>_,fh:()=>h});var r=t(260561),o=(0,r.B)({kind:"guild",id:"2022-11_automod_non_community_guilds_release",label:"Automod Non-Community Guilds Release",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Automod Non-Community Guilds Release",config:{enabled:!0}}]}),a=(0,
r.B)({kind:"guild",id:"2022-12_mention_raid_limit",label:"Automod Mention Raid Limit",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Automod Mention Raid Limit",config:{enabled:!0}}]}),l=(0,r.B)({kind:"guild",id:"2023-01_mention_raid_notice",label:"Automod Mention Raid Notice",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Automod Mention Raid Notice",config:{enabled:!0}}]}),i=(0,r.B)({kind:"guild",id:"2023-02_automod_custom_message",label:"Automod Custom Message",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Automod Custom Message",config:{enabled:!0}}]}),u=(0,r.B)({kind:"guild",id:"2023-02_free_form",label:"Automod Server Policy",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Automod Server Policy",config:{enabled:!0}},{id:10,label:"Automod Server Policy Rules Summarization",config:{enabled:!0}}]}),d=(0,r.B)({kind:"guild",id:"2023-05_automod_user_profile_ab",label:"Automod on User Profile A/B",defaultConfig:{enabled:!1},treatments:[{id:1,
label:"Automod on User Profile enabled",config:{enabled:!0}}]});function s(e){return o.getCurrentConfig({guildId:e}).enabled}function c(e){return o.useExperiment({guildId:e},{autoTrackExposure:!0}).enabled}function f(e){return a.getCurrentConfig({guildId:e}).enabled}function m(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=a.useExperiment({guildId:e},{autoTrackExposure:n}).enabled;return t}function b(e){return null!=e&&l.getCurrentConfig({guildId:e}).enabled}function A(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=i.useExperiment({guildId:e},{autoTrackExposure:n}).enabled;return t}function _(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=u.useExperiment({guildId:e},{autoTrackExposure:n}).enabled;return t}function h(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=d.useExperiment({guildId:e},{autoTrackExposure:n}).enabled;return t}}}]);
//# sourceMappingURL=982c77e9eaa75c416aef.js.map