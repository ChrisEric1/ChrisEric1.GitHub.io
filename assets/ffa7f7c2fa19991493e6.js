"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[33735],{266715:(e,t,n)=>{n.r(t);n.d(t,{default:()=>v});var r=n(785893),s=n(667294),o=n(675860),c=n(823911),i=n(487502),a=n(173879),u=n(932847),l=n(461061),f=n(959797),d=n(159914),p=n.n(d),h=n(511742),g=n.n(h),N=n(482311),y=n.n(N),_=n(803551),C=n.n(_);function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e){O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return O(e)}function B(e,t){return!t||"object"!==j(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function x(e,t){x=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return x(e,t)}var j=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function b(e){var t=function(){
if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var s=O(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return B(this,n)}}const v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&x(e,t)}(n,e);var t=b(n);function n(){m(this,n);var e;(e=t.apply(this,arguments)).state={errorMessage:null};return e}var s=n.prototype;s.componentDidMount=function(){u.default.track(l.rMx.ACCOUNT_LINK_STEP,{previous_step:null,current_step:"landing page",platform_type:l.ABu.XBOX})};s.handleLinkAccountPressed=function(){var e=this;o.Z.get({
url:l.ANM.CONNECTIONS_AUTHORIZE_CONTINUATION(l.ABu.XBOX),oldFormErrors:!0}).then((function(e){window.location.href=e.body.url})).catch((function(t){var n;try{n=t.body.message}catch(e){n=String(t)}u.default.track(l.rMx.ACCOUNT_LINK_FAILED,{error_message:n,status_code:t.status,link_method:"pin",current_step:"landing page",platform_type:l.ABu.XBOX});e.setState({errorMessage:n})}))};s.goBack=function(){window.location=l.Z5c.CONNECTIONS(l.ABu.XBOX)};s.renderXboxButtons=function(){return(0,r.jsxs)("div",{className:g().xboxButtonContainer,children:[(0,r.jsx)(c.Z.Button,{type:c.Z.Button.A,text:f.Z.Messages.XBOX_LINK,style:g().gamepadButton,onClick:this.handleLinkAccountPressed}),(0,r.jsx)(c.Z.Button,{type:c.Z.Button.B,text:f.Z.Messages.CANCEL,style:g().gamepadButton,onClick:this.goBack}),this.renderErrorMessage()]})};s.renderErrorMessage=function(){var e=this.state.errorMessage;return null==e?null:(0,r.jsxs)("div",{className:g().errorMessageContainer,children:[(0,r.jsx)(a.Z,{
className:g().errorMessageIcon}),(0,r.jsx)("div",{className:g().errorMessage,children:e})]})};s.renderContent=function(){return(0,r.jsxs)("div",{className:g().pageWrapper,children:[(0,r.jsx)("img",{alt:"Discord",className:g().logo,src:y()}),(0,r.jsxs)(i.Z,{className:g().container,justify:i.Z.Justify.CENTER,align:i.Z.Align.CENTER,children:[(0,r.jsxs)(i.Z.Child,{className:p().leftPanel,children:[(0,r.jsx)("div",{className:p().sectionTitle,children:f.Z.Messages.DISCORD_RICH_PRESENCE}),(0,r.jsx)("div",{className:p().sectionSubtitle,children:f.Z.Messages.LINK_YOUR_XBOX_ACCOUNT_1}),(0,r.jsx)("div",{className:p().sectionSubtitle,children:f.Z.Messages.LINK_YOUR_XBOX_ACCOUNT_2}),this.renderXboxButtons()]}),(0,r.jsx)(i.Z,{className:g().rightPanel,justify:i.Z.Justify.END,align:i.Z.Align.CENTER,children:(0,r.jsx)("img",{alt:"",className:g().image,src:C()})})]})]})};s.render=function(){return(0,r.jsx)(c.Z,{onAPressed:this.handleLinkAccountPressed,onBPressed:this.goBack,children:this.renderContent()
})};return n}(s.PureComponent)}}]);
//# sourceMappingURL=ffa7f7c2fa19991493e6.js.map