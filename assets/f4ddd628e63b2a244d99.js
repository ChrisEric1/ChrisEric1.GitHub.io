"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[69836],{629438:(e,t,n)=>{n.d(t,{B:()=>o});var r=n(496486),a=n.n(r),o=function(e,t){var n=a().shuffle(e),r=n.findIndex((function(e){return e.value===t}));if(r>-1){var o=n[r];n.splice(r,1);n.push(o)}return n}},517454:(e,t,n)=>{n.d(t,{L:()=>j,Z:()=>T});var r=n(785893),a=n(667294),o=n(294184),l=n.n(o),i=n(496486),s=n.n(i),c=n(945460),u=n(634698),d=n(441093),f=n(107364),m=n(443812),h=n(843133),b=n(348592),g=n(629438),p=n(494579),y=n(473708),x=n(424529),v=n.n(x);function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done);l=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){i=!0;a=e}finally{try{
l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var N=[{className:v().emojiSad,rating:p.aZ.BAD,classNameSelected:v().selected},{className:v().emojiNeutral,rating:p.aZ.NEUTRAL,classNameSelected:v().selected},{className:v().emojiHappy,rating:p.aZ.GOOD,classNameSelected:v().selected}];function j(e){var t=e.className,n=e.selectedRating,a=e.ratingConfigs,o=e.onChangeRating;return(0,r.jsx)(f.Z,{justify:f.Z.Justify.BETWEEN,align:f.Z.Align.CENTER,className:l()(v().ratingsSelector,t),
children:(null!=a?a:N).map((function(e){var t=e.rating,a=e.className,i=e.classNameSelected;return(0,r.jsx)(c.Clickable,{onClick:function(){return o(t)},"aria-label":t,children:(0,r.jsx)("div",{className:l()(a,n===t?i:null)})},t)}))})}function C(){return(0,r.jsx)(c.Text,{className:v().helpdeskLink,variant:"text-xs/normal",color:"text-muted",children:y.Z.Messages.FEEDBACK_NEED_MORE_HELP.format({helpdeskURL:b.Z.getSubmitRequestURL()})})}function T(e){var t=e.header,n=e.body,o=e.problemTitle,i=e.problems,b=e.transitionState,x=e.ratingConfigs,S=e.feedbackProblems,N=void 0===S?[]:S,T=e.otherKey,A=e.ratingsSelectorClassName,M=e.hideDontShowCheckbox,Z=e.startRating,R=void 0===Z?null:Z,k=e.onSubmit,O=e.onClose,_=(0,u.Z)(i),I=E(a.useState(!1),2),w=I[0],B=I[1],D=E(a.useState(R),2),F=D[0],L=D[1],U=E(a.useState(null),2),P=U[0],H=U[1],K=E(a.useState(s().shuffle(i)),2),Y=K[0],G=K[1],z=E(a.useState(""),2),q=z[0],W=z[1],$=(0,m.Dt)(),J=(0,h.Z)(F),V=(0,h.Z)(w),Q=(0,h.Z)(P),X=(0,h.Z)(k),ee=(0,
h.Z)(q),te=null!=P&&N.includes(P),ne=te||!M;a.useEffect((function(){s().isEqual(_,i)||G((0,g.B)(i,T))}),[i,_,T]);a.useEffect((function(){return function(){X.current({rating:J.current,problem:Q.current,dontShowAgain:V.current,feedback:ee.current})}}),[]);return(0,r.jsxs)(c.ModalRoot,{transitionState:b,className:v().modalRoot,"aria-labelledby":$,children:[(0,r.jsxs)(c.ModalHeader,{separator:!1,className:v().headerContainer,children:[(0,r.jsx)(c.Heading,{id:$,variant:"heading-xl/extrabold",color:"none",children:t}),(0,r.jsx)(c.Text,{variant:"text-md/normal",color:"none",className:v().ratingBody,children:n}),te?null:(0,r.jsx)(j,{className:l()(v().emojis,A),selectedRating:F,onChangeRating:function(e){L(e);e===p.aZ.GOOD&&O()},ratingConfigs:x})]}),(0,r.jsxs)(c.ModalContent,{className:v().content,children:[null==F||F===p.aZ.GOOD||te?null:(0,r.jsx)(c.FormItem,{title:o,className:v().problemInfo,children:(0,r.jsx)(d.Z,{options:Y,onClick:function(e){var t=e.value;H(t);N.includes(t)||O()},
hideCaret:function(e){var t=e.value;return!N.includes(t)}})}),te?(0,r.jsxs)(c.FormItem,{title:y.Z.Messages.FEEDBACK_DESCRIBE_ISSUE,className:v().problemInfo,children:[(0,r.jsx)(c.TextArea,{value:q,maxLength:p.iF,onChange:W}),(0,r.jsx)(C,{})]}):null]}),ne&&(0,r.jsx)(c.ModalFooter,{className:v().footer,direction:f.Z.Direction.HORIZONTAL,children:te?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.Button,{size:c.Button.Sizes.SMALL,look:c.Button.Looks.LINK,color:c.Button.Colors.PRIMARY,onClick:function(){H(null);W("")},children:y.Z.Messages.BACK}),(0,r.jsx)(c.Button,{size:c.Button.Sizes.SMALL,onClick:O,children:y.Z.Messages.SUBMIT})]}):(0,r.jsx)(c.Checkbox,{type:c.Checkbox.Types.INVERTED,size:18,value:w,onChange:function(){return B(!w)},children:(0,r.jsx)(c.Text,{variant:"text-sm/normal",children:y.Z.Messages.DONT_SHOW_AGAIN})})})]})}},69836:(e,t,n)=>{n.r(t);n.d(t,{default:()=>S});var r=n(785893),a=n(667294),o=n(945460),l=n(517454),i=n(443812),s=n(652591),c=n(2590)
;var u=n(494579),d=n(473708),f=n(972537),m=n.n(f);function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t,n,r,a,o,l){try{var i=e[o](l),s=i.value}catch(e){n(e);return}i.done?t(s):Promise.resolve(s).then(r,a)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function l(e){b(o,r,a,l,i,"next",e)}function i(e){b(o,r,a,l,i,"throw",e)}l(void 0)}))}}function p(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done);l=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){i=!0;a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){
if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var x=function(e,t){var n,r,a,o,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;(r=0,a)&&(o=[2&o[0],a.value]);switch(o[0]){case 0:case 1:a=o;break
;case 4:l.label++;return{value:o[1],done:!1};case 5:l.label++;r=o[1];o=[0];continue;case 7:o=l.ops.pop();l.trys.pop();continue;default:if(!(a=l.trys,a=a.length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){l.label=o[1];break}if(6===o[0]&&l.label<a[1]){l.label=a[1];a=o;break}if(a&&l.label<a[2]){l.label=a[2];l.ops.push(o);break}a[2]&&l.ops.pop();l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e];r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},v=[{className:m().emojiThumbsUp,rating:u.aZ.GOOD,classNameSelected:m().selected},{className:m().emojiThumbsDown,rating:u.aZ.BAD,classNameSelected:m().selected}];function S(e){var t=function(t){if(null!=t){!function(e){var t=e.rating,n=void 0===t?null:t;s.default.track(c.rMx.SAFETY_USER_SENTIMENT_FEEDBACK_SUBMITTED,{rating:n})}({rating:t});e.onClose();(0,o.openModalLazy)(g((function(){var e,t;return x(this,(function(a){switch(a.label){case 0:
return[4,Promise.all([n.e(40532),n.e(21786)]).then(n.bind(n,521786))];case 1:e=a.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){p(e,t,n[t])}))}return e}({body:d.Z.Messages.SAFETY_USER_SENTIMENT_FEEDBACK_CONFIRMATION},e))}]}}))})))}},u=y(a.useState(null),2),f=u[0],h=u[1],b=(0,i.Dt)();return(0,r.jsxs)(o.ModalRoot,{transitionState:e.transitionState,"aria-labelledby":b,children:[(0,r.jsxs)(o.ModalHeader,{separator:!1,className:m().headerContainer,children:[(0,r.jsx)(o.Heading,{id:b,variant:"heading-xl/extrabold",color:"none",children:d.Z.Messages.SAFETY_USER_SENTIMENT_FEEDBACK_PROMPT}),(0,r.jsx)(o.Text,{variant:"text-md/normal",className:m().ratingBody,
children:d.Z.Messages.SAFETY_USER_SENTIMENT_FEEDBACK_SUBHEADER})]}),(0,r.jsx)(o.ModalContent,{className:m().modalBody,children:(0,r.jsx)(l.L,{ratingConfigs:v,className:m().ratingsSelector,selectedRating:f,onChangeRating:function(e){h(e);t(e)}})}),(0,r.jsx)(o.ModalFooter,{className:m().ratingsFooter,children:(0,r.jsx)(o.Text,{variant:"text-md/normal",children:d.Z.Messages.SAFETY_USER_SENTIMENT_FOOTER.format({safetyCenterUrl:c.EYA.SAFETY_CENTER})})})]})}},441093:(e,t,n)=>{n.d(t,{Z:()=>u});var r=n(785893),a=(n(667294),n(294184)),o=n.n(a),l=n(945460),i=n(718831),s=n(613067),c=n.n(s);function u(e){var t=e.options,n=e.onClick,a=e.className,s=e.optionClassName,u=e.hideCaret;return(0,r.jsx)("div",{className:o()(c().root,a),children:t.map((function(e,t){return(0,r.jsxs)(l.Clickable,{onClick:function(){return n(e)},className:o()(c().option,s),children:[(0,r.jsx)(l.Text,{className:c().text,color:"none",variant:"text-md/normal",children:e.label}),!(null==u?void 0:u(e))&&(0,r.jsx)(i.Z,{
className:c().caret,direction:i.Z.Directions.RIGHT})]},t)}))})}}}]);
//# sourceMappingURL=f4ddd628e63b2a244d99.js.map