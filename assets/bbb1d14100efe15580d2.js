"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[87812],{887812:(e,t,n)=>{n.r(t);n.d(t,{default:()=>O});var a=n(785893),r=n(667294),o=n(945460),i=n(744564);var s=n(107364),c=n(652591),E=n(2590),l=n(473708),d=n(844112),u=n.n(d);function T(e){T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return T(e)}function D(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function N(e,t){N=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return N(e,t)}var _,f=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{
Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,a=T(e);if(t){var r=T(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return D(this,n)}}function p(e){switch(e){case E.QyF.INPUT:return E.aVf.INPUT;case E.QyF.OUTPUT:return E.aVf.OUTPUT;case E.QyF.INPUT_AND_OUTPUT:return E.aVf.INPUT_AND_OUTPUT;default:return null}}!function(e){e.CERTIFIED="New Audio Device Detected - Certified";e.NOT_CERTIFIED="New Audio Device Detected - Not Certified"}(_||(_={}));var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&N(e,t)}(n,e);var t=C(n);function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var a;(a=t.call(this,e)).confirm=function(){
var e=a.props,t=e.device,n=e.onClose,r=a.state.devicePreference;if(null!=r){o=t.displayName,s=r,c="New Audio Device Detected Modal",i.Z.dispatch({type:"CONNECTED_DEVICE_SET",displayName:o,connectedDevicePreference:s,location:c});var o,s,c;n()}};a.cancel=function(){var e,t=a.props,n=t.device,r=t.onClose;e=n.displayName,i.Z.dispatch({type:"CONNECTED_DEVICE_IGNORE",displayName:e});r()};a.neverShow=function(){var e=a.props,t=e.certifiedDeviceMetadata,n=e.onClose;i.Z.dispatch({type:"CONNECTED_DEVICE_NEVER_SHOW_MODAL"});n();c.default.track(E.rMx.MODAL_DISMISSED,{type:null!=t?_.CERTIFIED:_.NOT_CERTIFIED,dismiss_type:"permanent"})};a.handleConnectedDeviceType=function(e){var t=e.value;a.setState({devicePreference:t})};a.state={devicePreference:null!=e.device?p(e.device.type):null};return a}var d=n.prototype;d.track=function(){var e=this.props,t=e.certifiedDeviceMetadata,n=e.device;c.default.track(E.rMx.OPEN_MODAL,{type:null!=t?_.CERTIFIED:_.NOT_CERTIFIED,
device_name:null!=t?"".concat(t.vendor.name," ").concat(t.model.name):n.displayName})};d.componentDidMount=function(){this.track()};d.componentDidUpdate=function(e){this.props.device.displayName!==e.device.displayName&&this.track()};d.renderBody=function(){var e,t=this.props,n=t.device,i=t.certifiedDeviceMetadata,s=this.state.devicePreference;switch(n.type){case E.QyF.INPUT:e=null!=i?l.Z.Messages.CERTIFIED_DEVICE_RECOMMENDATION_AUDIO_INPUT_BODY.format({vendorName:i.vendor.name,modelName:i.model.name}):l.Z.Messages.CONNECTED_DEVICE_DETECTED_INPUT_BODY.format({name:n.displayName});break;case E.QyF.OUTPUT:e=null!=i?l.Z.Messages.CERTIFIED_DEVICE_RECOMMENDATION_AUDIO_OUTPUT_BODY.format({vendorName:i.vendor.name,modelName:i.model.name}):l.Z.Messages.CONNECTED_DEVICE_DETECTED_OUTPUT_BODY.format({name:n.displayName});break;default:e=(0,a.jsxs)(r.Fragment,{children:[null!=i?l.Z.Messages.CERTIFIED_DEVICE_RECOMMENDATION_AUDIO_INPUT_AND_OUTPUT_BODY.format({vendorName:i.vendor.name,
modelName:i.model.name}):l.Z.Messages.CONNECTED_DEVICE_DETECTED_INPUT_AND_OUTPUT_BODY.format({name:n.displayName}),(0,a.jsx)(o.RadioGroup,{value:s,className:u().options,onChange:this.handleConnectedDeviceType,options:[{name:l.Z.Messages.CONNECTED_DEVICE_DETECTED_OPTION_INPUT_AND_OUTPUT,value:E.QyF.INPUT_AND_OUTPUT},{name:l.Z.Messages.CONNECTED_DEVICE_DETECTED_OPTION_INPUT,value:E.QyF.INPUT},{name:l.Z.Messages.CONNECTED_DEVICE_DETECTED_OPTION_OUTPUT,value:E.QyF.OUTPUT}]})]})}return(0,a.jsxs)(r.Fragment,{children:[e,(0,a.jsx)(o.Button,{className:u().neverShow,look:o.Button.Looks.LINK,color:o.Button.Colors.LINK,onClick:this.neverShow,children:l.Z.Messages.DONT_SHOW_AGAIN})]},n.displayName)};d.render=function(){var e=this.props,t=e.certifiedDeviceMetadata,n=e.transitionState,r=null!=t?l.Z.Messages.CERTIFIED_DEVICE_RECOMMENDATION_TITLE:l.Z.Messages.CONNECTED_DEVICE_DETECTED_TITLE;return(0,a.jsxs)(o.ModalRoot,{transitionState:n,"aria-label":r,children:[(0,a.jsx)(o.ModalHeader,{separator:!1,
children:(0,a.jsx)(o.Heading,{variant:"heading-lg/semibold",children:r})}),(0,a.jsx)(o.ModalContent,{children:(0,a.jsx)(o.Text,{variant:"text-md/normal",children:this.renderBody()})}),(0,a.jsx)(o.ModalFooter,{children:(0,a.jsxs)(s.Z,{justify:s.Z.Justify.END,children:[(0,a.jsx)(o.Button,{color:o.Button.Colors.PRIMARY,onClick:this.cancel,className:u().cancelButton,children:l.Z.Messages.CONNECTED_DEVICE_DETECTED_CANCEL_BUTTON}),(0,a.jsx)(o.Button,{onClick:this.confirm,children:l.Z.Messages.CONNECTED_DEVICE_DETECTED_CONFIRM_BUTTON})]})})]})};return n}(r.Component)}}]);
//# sourceMappingURL=bbb1d14100efe15580d2.js.map