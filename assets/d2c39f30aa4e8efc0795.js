"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[1764],{130962:(e,n,t)=>{t.d(n,{c:()=>r});var r=(0,t(260561).B)({kind:"user",id:"2022-08_churro_experiment",label:"PS5 Voice Experiment",defaultConfig:{allowPlayStationStaging:!1},treatments:[{id:3,label:"PS Experiment + upsells + Staging",config:{allowPlayStationStaging:!0}}]})},1764:(e,n,t)=>{t.r(n);t.d(n,{default:()=>en});var r=t(785893),o=t(667294),s=t(202351),i=t(945460),a=t(213276),l=t(357088),c=t(503370),u=t(153686),d=t(19585),f=t(177570),p=t(736818),m=t(491260),h=t(473903),S=t(90459),y=t(679741),O=t(347928),v=t(485552),b=t(616679),j=t(2590),g=t(890045),E=t.n(g),I=t(120133),x=t.n(I);function N(e){var n=e.user,t=(0,s.e7)([f.Z],(function(){return null!=f.Z.getAnyStreamForUser(n.id)})),a=(0,s.e7)([m.Z],(function(){return m.Z.getActivities(n.id)})),l=o.useMemo((function(){return a.filter((function(e){return e.type!==j.IIU.CUSTOM_STATUS}))}),[a]),c=o.useMemo((function(){return t?l.find((function(e){
return e.type===j.IIU.PLAYING})):null}),[l,t]),u=o.useMemo((function(){return l.filter((function(e){return e!==c}))}),[c,l]);return(0,r.jsxs)(i.ScrollerThin,{className:x().listScroller,fade:!0,children:[t?(0,r.jsx)(b.Z,{type:b.P.PROFILE_V2,user:n,source:"Profile Modal",className:E().userProfileActivity,activity:c,actionColor:E().actionColor}):null,u.map((function(e){return(0,r.jsx)(b.Z,{type:b.P.PROFILE_V2,activity:e,user:n,useStoreStream:!1,source:"Profile Modal",className:E().userProfileActivity,actionColor:E().actionColor},"".concat(e.application_id,"-").concat(e.session_id,"-").concat(e.name))}))]})}var T=t(712125),A=t(473708),C=t(804798),_=t.n(C);function P(e){var n=e.content,t=e.heading;return(0,r.jsxs)("div",{className:_().row,children:[null!=t?(0,r.jsx)(i.Heading,{className:_().heading,variant:"text-sm/normal",children:t}):null,(0,r.jsx)(i.Text,{variant:"text-sm/normal",color:"header-secondary",children:n})]})}function Z(e){var n=e.flags,t=e.listScrollerStyle,o=(0,T.w)({flags:n
}),s=o.hasMessageContent,a=o.hasGuildPresences,l=o.hasGuildMembers;if(null==n)return null;var c=[];s&&c.push((0,r.jsx)(P,{heading:A.Z.Messages.BOTS_DATA_ACCESS_MESSAGE_CONTENT_HEADER,content:A.Z.Messages.BOTS_DATA_ACCESS_MESSAGE_CONTENT_BODY}));a&&c.push((0,r.jsx)(P,{heading:A.Z.Messages.BOTS_DATA_ACCESS_GUILD_PRESENCES_HEADER,content:A.Z.Messages.BOTS_DATA_ACCESS_GUILD_PRESENCES_BODY}));l&&c.push((0,r.jsx)(P,{heading:A.Z.Messages.BOTS_DATA_ACCESS_GUILD_MEMBERS_HEADER,content:A.Z.Messages.BOTS_DATA_ACCESS_GUILD_MEMBERS_BODY}));c.length>0&&c.push((0,r.jsx)("div",{className:_().divider,children:(0,r.jsx)(i.FormDivider,{})}));c.push((0,r.jsx)(P,{content:A.Z.Messages.BOTS_DATA_ACCESS_BASELINE.format({helpCenterUrl:"https://support.discord.com/hc/articles/7933951485975"})}));return(0,r.jsx)(i.ScrollerThin,{className:t,children:c})}function U(e){var n,t=e.user,o=null===(n=(0,s.e7)([S.Z],(function(){return S.Z.getUserProfile(t.id)})))||void 0===n?void 0:n.application;return(0,r.jsx)(Z,{
flags:null==o?void 0:o.flags,listScrollerStyle:x().listScroller})}var D=t(523615),M=t(265688),R=t(60694),w=t(793461),B=t(340651),L=t(835575),F=t(505536),k=t(967783);function G(){return(0,r.jsxs)("div",{className:x().empty,children:[(0,r.jsx)("div",{className:x().emptyIconStreamerMode}),(0,r.jsx)("div",{className:x().emptyText,children:A.Z.Messages.STREAMER_MODE_ENABLED})]})}var V=t(140311),H=t.n(V);function Y(e){var n,t,a=e.user,l=e.displayProfile,c=e.autoFocusNote,u=void 0!==c&&c,d=e.scrollToConnections,f=void 0!==d&&d,p=(0,R.X)(!0),m=(0,s.e7)([S.Z],(function(){var e;return null!==(n=null===(e=S.Z.getUserProfile(a.id))||void 0===e?void 0:e.connectedAccounts)&&void 0!==n?n:[]})),h=(0,s.e7)([w.Z],(function(){return w.Z.hidePersonalInformation})),y=(0,B.Z)(a,l).profileTheme,O=o.useMemo((function(){return m.filter((function(e){return p(M.Z.get(e.type))}))}),[m,p]),v=o.useRef(null);o.useLayoutEffect((function(){if(f){var e;null==v||null===(e=v.current)||void 0===e||e.scrollIntoView()}
}),[f]);return h?(0,r.jsx)(G,{}):(0,r.jsxs)(i.ScrollerThin,{fade:!0,className:H().infoScroller,children:[(0,r.jsxs)("div",{className:H().userInfoSection,children:[null!=(null==l?void 0:l.bio)&&""!==(null==l?void 0:l.bio)&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.Heading,{variant:"eyebrow",className:H().userInfoSectionHeader,children:A.Z.Messages.USER_PROFILE_ABOUT_ME}),(0,r.jsx)(L.Z,{className:H().userInfoText,userBio:null!==(t=null==l?void 0:l.bio)&&void 0!==t?t:""})]}),(0,r.jsx)(F.Z,{userId:a.id,headingClassName:H().userInfoSectionHeader,textClassName:H().userInfoText}),(0,r.jsx)(i.Heading,{variant:"eyebrow",className:H().userInfoSectionHeader,children:A.Z.Messages.NOTE}),(0,r.jsx)(D.Z,{userId:a.id,autoFocus:u,className:H().note})]}),(0,r.jsx)(k.OA,{ref:v,connectedAccounts:O,theme:y,className:H().userInfoSection,userId:a.id})]})}var z=t(233623),W=t(857241),X=t(960412);function q(e){var n=e.displayProfile,t=e.user,o=e.selectedSection,s=e.autoFocusNote,i=e.onClose;switch(o){
case X.oh.ACTIVITY:return(0,r.jsx)(N,{user:t});case X.oh.MUTUAL_GUILDS:return(0,r.jsx)(W.Z,{user:t,onClose:i});case X.oh.MUTUAL_FRIENDS:return(0,r.jsx)(z.Z,{user:t,onClose:i});case X.oh.BOT_DATA_ACCESS:return(0,r.jsx)(U,{user:t});case X.oh.USER_INFO_CONNECTIONS:case X.oh.USER_INFO:default:return(0,r.jsx)(Y,{displayProfile:n,autoFocusNote:s,user:t,scrollToConnections:o===X.oh.USER_INFO_CONNECTIONS})}}var K=t(336194),Q=t(761953),$=t(971402),J=t(735885),ee=t(560923),ne=t(841379),te=t(995141),re=t(916675),oe=t(61209),se=t(840922),ie=t(715107),ae=t(824456),le=t(693622),ce=t(265367),ue=t(585622),de=t(787215),fe=t(310126),pe=t(89836),me=t(76834),he=t(728374),Se=t(548625),ye=t(294184),Oe=t.n(ye),ve=t(737331),be=t(260957),je=t.n(be);function ge(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t;return e}function Ee(e,n){n=null!=n?n:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){
var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})));t.push.apply(t,r)}return t}(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}));return e}function Ie(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},s=Object.keys(e);for(r=0;r<s.length;r++){t=s[r];n.indexOf(t)>=0||(o[t]=e[t])}return o}(e,n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++){t=s[r];n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}}return o}function xe(e){var n=e.className,t=Ie(e,["className"]);return(0,r.jsx)(i.Button,Ee(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){
return Object.getOwnPropertyDescriptor(t,e).enumerable}))));r.forEach((function(n){ge(e,n,t[n])}))}return e}({},t),{look:i.Button.Looks.FILLED,size:i.Button.Sizes.SMALL,className:Oe()(je().actionButton,n)}))}function Ne(e){var n=e.isCurrentUser,t=e.user,o=e.relationshipType,s=e.onAddFriend,a=e.onIgnoreFriend,l=e.onSendMessage,c=(0,ve.R8)();return n||o===j.OGo.BLOCKED||t.isClyde()&&!c?null:o===j.OGo.FRIEND||t.bot||t.isClyde()?(0,r.jsx)(xe,{color:i.Button.Colors.GREEN,onClick:l,children:A.Z.Messages.SEND_MESSAGE}):o===j.OGo.PENDING_OUTGOING?(0,r.jsx)(xe,{color:i.Button.Colors.GREEN,disabled:!0,children:A.Z.Messages.ADD_FRIEND_BUTTON_AFTER}):o===j.OGo.PENDING_INCOMING?(0,r.jsxs)("div",{className:je().pendingIncoming,children:[(0,r.jsx)(xe,{color:i.Button.Colors.GREEN,onClick:s,children:A.Z.Messages.FRIEND_REQUEST_ACCEPT}),(0,r.jsx)(xe,{color:i.Button.Colors.PRIMARY,onClick:a,className:je().actionRightButton,children:A.Z.Messages.FRIEND_REQUEST_IGNORE})]}):(0,r.jsx)(xe,{
color:i.Button.Colors.GREEN,onClick:s,children:A.Z.Messages.ADD_FRIEND_BUTTON})}var Te=t(520453),Ae=t(928878),Ce=t.n(Ae);function _e(e,n,t,r,o,s,i){try{var a=e[s](i),l=a.value}catch(e){t(e);return}a.done?n(l):Promise.resolve(l).then(r,o)}function Pe(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var s=e.apply(n,t);function i(e){_e(s,r,o,i,a,"next",e)}function a(e){_e(s,r,o,i,a,"throw",e)}i(void 0)}))}}function Ze(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t;return e}function Ue(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))));r.forEach((function(n){Ze(e,n,t[n])}))}return e}function De(e,n){n=null!=n?n:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})));t.push.apply(t,r)}return t}(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}));return e}var Me=function(e,n){var t,r,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(t)throw new TypeError("Generator is already executing.");for(;i;)try{if(t=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;(r=0,o)&&(s=[2&s[0],o.value]);switch(s[0]){case 0:case 1:o=s;break;case 4:i.label++;return{value:s[1],
done:!1};case 5:i.label++;r=s[1];s=[0];continue;case 7:s=i.ops.pop();i.trys.pop();continue;default:if(!(o=i.trys,o=o.length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1];o=s;break}if(o&&i.label<o[2]){i.label=o[2];i.ops.push(s);break}o[2]&&i.ops.pop();i.trys.pop();continue}s=n.call(e,i)}catch(e){s=[6,e];r=0}finally{t=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},Re=i.AvatarSizes.SIZE_120,we=fe.default.getEnableHardwareAcceleration()?i.AnimatedAvatar:i.Avatar;function Be(e){var n,o=e.displayProfile,a=e.user,l=e.guildId,c=e.friendToken,u=e.isStreaming,d=e.onClose,f=function(){d();(0,J.xf)()},h=function(){ee.Z.removeFriend(a.id,{location:"User Profile"})},y=function(){Q.Z.openPrivateChannel(a.id);f()},O=function(){try{ee.Z.addRelationship({userId:a.id,context:{location:"User Profile"},type:j.OGo.BLOCKED})}catch(e){f()}},v=(0,pe.w)({user:a,size:120
}),b=v.avatarSrc,g=v.eventHandlers,E=v.isAvatarAnimating,I=(0,s.e7)([se.Z],(function(){return se.Z.getRelationshipType(a.id)})),x=(0,s.e7)([m.Z],(function(){return m.Z.isMobileOnline(a.id)})),N=(0,s.e7)([m.Z],(function(){return m.Z.getStatus(a.id)})),T=(0,s.e7)([S.Z],(function(){return S.Z.getUserProfile(a.id)})),C=(0,s.e7)([p.default],(function(){return p.default.getId()===a.id})),_=(0,B.Z)(a,o).profileTheme,P=oe.Z.getChannel(ie.Z.getChannelId()),Z=(0,re.j)({channelId:null!==(n=null==P?void 0:P.id)&&void 0!==n?n:""}),U=Z.appsInGDMEnabled,D=Z.availableApplications,M=(0,ne.Z)({user:a,size:(0,te.y)(Re),canAnimate:E}),R=null==T?void 0:T.application,w=U&&void 0!==D.find((function(e){return e.id===(null==R?void 0:R.id)}));return(0,r.jsxs)("header",{children:[(0,r.jsx)(me.Z,{displayProfile:o,onClose:f,user:a,profileType:X.y0.MODAL}),(0,r.jsxs)("div",{className:Ce().header,children:[(0,r.jsx)("div",De(Ue({},g),{children:(0,r.jsx)(we,{src:b,avatarDecoration:M,size:Re,className:Ce().avatar,
status:u?Te.Sk.STREAMING:N,statusBackdropColor:(0,i.getStatusBackdropColor)(_),isMobile:x,statusTooltip:!0,"aria-label":a.username})})),(0,r.jsxs)("div",{className:Ce().headerTop,children:[(null==T?void 0:T.profileFetchFailed)&&!a.isClyde()?(0,r.jsx)(i.Tooltip,{text:A.Z.Messages.USER_PROFILE_LOAD_ERROR,spacing:20,children:function(e){return(0,r.jsx)(ce.Z,De(Ue({},e),{className:Ce().warningCircleIcon,color:K.Z.unsafe_rawColors.YELLOW_300.css}))}}):(0,r.jsx)(Se.Z,{user:a,className:Ce().badgeList,guildId:l,size:Se.V.SIZE_24,shrinkAtCount:8,shrinkToSize:Se.V.SIZE_18}),(0,r.jsxs)("div",{className:Ce().relationshipButtons,children:[null!=R&&(0,de.E)(R.id,R.customInstallUrl,R.installParams)?(0,r.jsx)(i.Button,{look:i.Button.Looks.FILLED,size:i.Button.Sizes.SMALL,onContextMenu:function(e){return(0,$.vq)(e,(function(e){return(0,r.jsx)(he.Z,De(Ue({},e),{application:R}))}))},onClick:function(){return(0,de.L)({applicationId:R.id,customInstallUrl:R.customInstallUrl,installParams:w?{
scopes:[j.xVR.APPLICATIONS_COMMANDS],permissions:null}:R.installParams,channelId:null==P?void 0:P.id,disableGuildSelect:!0})},className:Ce().applicationInstallButton,children:(0,r.jsxs)("div",{className:Ce().applicationInstallButtonContent,children:[(0,r.jsx)("span",{className:Ce().applicationInstallButtonText,children:w?A.Z.Messages.ADD:A.Z.Messages.APPLICATION_ADD_TO_SERVER}),null==R.customInstallUrl||ue.Z.isDiscordUrl(R.customInstallUrl)?null:(0,r.jsx)(ae.Z,{className:Ce().launchIcon,width:16,height:16})]})}):null,(0,r.jsx)(Ne,{user:a,isCurrentUser:C,relationshipType:I,onAddFriend:function(){try{ee.Z.addRelationship({userId:a.id,context:{location:"User Profile"},type:void 0,friendToken:c})}catch(e){f()}},onIgnoreFriend:function(){ee.Z.cancelFriendRequest(a.id,{location:"User Profile"})},onSendMessage:y}),C||a.isNonUserBot()?null:(0,r.jsx)(i.Clickable,{focusProps:{offset:{left:8}},onClick:function(e){(0,$.jW)(e,Pe((function(){var e,n;return Me(this,(function(o){switch(o.label){
case 0:return[4,t.e(13301).then(t.bind(t,513301))];case 1:e=o.sent(),n=e.default;return[2,function(e){return(0,r.jsx)(n,De(Ue({},e),{relationshipType:I,onRemoveFriend:h,onBlock:O,onMessage:y,user:a}))}]}}))})))},children:(0,r.jsx)(le.Z,{className:Ce().additionalActionsIcon})})]})]})]})]})}var Le=t(334835),Fe=t(411592),ke=t(876759),Ge=t(784686),Ve=t(749565),He=t(562891),Ye=t.n(He);function ze(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t;return e}function We(e,n){n=null!=n?n:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})));t.push.apply(t,r)}return t}(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}));return e}function Xe(e){
var n=e.user,t=e.displayProfile,o=(0,Ge.rW)(),a=(0,s.e7)([m.Z],(function(){return m.Z.findActivity(n.id,(function(e){return e.type===j.IIU.CUSTOM_STATUS}))})),l=o?Ve.ZP.getName(n):Ve.ZP.getGlobalName(n),c=Fe.Z.useExperiment({},{autoTrackExposure:!1}).showPronouns;return(0,r.jsxs)("div",{className:Ye().container,children:[null==l&&(0,r.jsx)(Le.Z,{user:n,className:Ye().nameTag,usernameClass:Ye().username,discriminatorClass:Ye().discriminator}),null!=l&&(0,r.jsxs)("div",{children:[(0,r.jsx)(i.Text,{variant:"text-lg/semibold",style:{marginRight:"12px"},children:l}),(0,r.jsx)(Le.Z,{user:n,forceUsername:!0,usernameClass:Ye().discriminator,discriminatorClass:Ye().discriminator,className:Oe()(Ye().nameTag,Ye().nameTagSmall)})]}),c&&null!=(null==t?void 0:t.pronouns)&&""!==(null==t?void 0:t.pronouns)&&(0,r.jsx)(i.Tooltip,{text:A.Z.Messages.USER_PROFILE_PRONOUNS,children:function(e){return(0,r.jsx)(i.Text,We(function(e){for(var n=1;n<arguments.length;n++){
var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))));r.forEach((function(n){ze(e,n,t[n])}))}return e}({},e),{variant:"text-sm/normal",className:Oe()(Ye().pronouns,Ye().nameTagSmall),children:t.pronouns}))}}),null!=a?(0,r.jsx)("div",{className:Ye().customStatusActivity,children:(0,r.jsx)(i.Text,{variant:"text-sm/normal",color:"header-secondary",className:Ye().customStatusText,children:(0,r.jsx)(ke.Z,{activity:a,className:Ye().customStatus,emojiClassName:Ye().customStatusEmoji,soloEmojiClassName:Ye().customStatusSoloEmoji})})}):null]})}var qe=t(619531),Ke=t.n(qe);function Qe(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function $e(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){
var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,s=[],i=!0,a=!1;try{for(t=t.call(e);!(i=(r=t.next()).done);i=!0){s.push(r.value);if(n&&s.length===n)break}}catch(e){a=!0;o=e}finally{try{i||null==t.return||t.return()}finally{if(a)throw o}}return s}}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return Qe(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Qe(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Je(e){var n=e.user,t=e.isCurrentUser,o=e.section,a=e.setSection,l=e.hasActivity,c=(0,s.e7)([S.Z],(function(){var e,t
;return null!=(null===(e=S.Z.getUserProfile(n.id))||void 0===e||null===(t=e.application)||void 0===t?void 0:t.id)}));return(0,r.jsx)("div",{className:Ke().tabBarContainer,children:(0,r.jsxs)(i.TabBar,{selectedItem:o,type:"top",onItemSelect:a,className:Ke().tabBar,children:[!n.isNonUserBot()||n.isClyde()?(0,r.jsx)(i.TabBar.Item,{className:Ke().tabBarItem,id:X.oh.USER_INFO,children:A.Z.Messages.USER_INFO}):null,!n.bot&&l?(0,r.jsx)(i.TabBar.Item,{className:Ke().tabBarItem,id:X.oh.ACTIVITY,children:A.Z.Messages.USER_PROFILE_ACTIVITY}):null,t||n.isClyde()?null:(0,r.jsx)(i.TabBar.Item,{className:Ke().tabBarItem,id:X.oh.MUTUAL_GUILDS,children:A.Z.Messages.MUTUAL_GUILDS}),n.bot||t?null:(0,r.jsx)(i.TabBar.Item,{className:Ke().tabBarItem,id:X.oh.MUTUAL_FRIENDS,children:A.Z.Messages.MUTUAL_FRIENDS}),n.bot&&c?(0,r.jsx)(i.TabBar.Item,{className:Ke().tabBarItem,id:X.oh.BOT_DATA_ACCESS,children:A.Z.Messages.BOTS_DATA_ACCESS_TAB}):null]})})}function en(e){
var n,t,S=e.user,b=e.guildId,g=e.friendToken,E=e.autoFocusNote,I=e.initialSection,x=void 0===I?X.oh.USER_INFO:I,N=e.transitionState,T=e.onClose,C=(0,d.Z)(u.Z.PROFILE_MODAL).AnalyticsLocationProvider,_=null!==(n=(0,s.e7)([h.default],(function(){return h.default.getUser(S.id)})))&&void 0!==n?n:S,P=(0,y.Z)(null!==(t=null==_?void 0:_.id)&&void 0!==t?t:"");(0,l.$)(function(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t;return e}({},b,[_.id]));var Z=(0,s.e7)([f.Z],(function(){return null!=f.Z.getAnyStreamForUser(_.id)})),U=(0,s.e7)([m.Z],(function(){return m.Z.findActivity(_.id,(function(e){return e.type!==j.IIU.CUSTOM_STATUS}))})),D=$e(o.useState(!1),2),M=D[0],R=D[1],w=$e(o.useState(_.isNonUserBot()&&!_.isClyde()?X.oh.MUTUAL_GUILDS:x),2),B=w[0],L=w[1],F=(0,s.e7)([p.default],(function(){return p.default.getId()===_.id})),k=null!=U||Z,G=!F||k;k||B!==X.oh.ACTIVITY||L(X.oh.USER_INFO);var V=o.useCallback((function(e){R(!0);L(e)}),[]);return(0,
r.jsx)(C,{children:(0,r.jsx)(a.Z,{section:j.jXE.PROFILE_MODAL,children:(0,r.jsx)(i.ModalRoot,{transitionState:N,className:Ke().root,"aria-label":A.Z.Messages.USER_PROFILE_MODAL,children:(0,r.jsxs)(v.Z,{user:_,profileType:X.y0.MODAL,children:[(0,r.jsx)("div",{className:Ke().topSection,children:(0,r.jsx)(Be,{displayProfile:P,user:_,friendToken:g,onClose:T,isStreaming:(0,c.Z)(U),guildId:b})}),(0,r.jsxs)(v.Z.Inner,{children:[N===i.ModalTransitionState.ENTERED&&(0,r.jsx)(O.Z,{onTooltipClose:T}),(0,r.jsxs)("div",{className:Ke().body,children:[(0,r.jsx)(Xe,{user:_,displayProfile:P}),G?(0,r.jsx)(Je,{user:_,section:B===X.oh.USER_INFO_CONNECTIONS?X.oh.USER_INFO:B,setSection:V,hasActivity:k,isCurrentUser:F}):(0,r.jsx)("div",{className:Ke().divider}),(0,r.jsx)(q,{displayProfile:P,user:_,autoFocusNote:E&&!M,selectedSection:B,onClose:T})]})]})]})})})})}},60694:(e,n,t)=>{t.d(n,{X:()=>l});var r=t(202351),o=t(53645),s=t(130962),i=t(473903),a=t(2590),l=function(){
var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=s.c.useExperiment({},{autoTrackExposure:!1}).allowPlayStationStaging,t=(0,r.e7)([i.default],(function(){return i.default.getCurrentUser()}));return function(r){var s;return r.type===a.ABu.PLAYSTATION_STAGING?n:!(void 0===t||!(null===(s=o.bO[r.type])||void 0===s?void 0:s.includes(t.id)))||(!!e||r.enabled)}}}}]);
//# sourceMappingURL=d2c39f30aa4e8efc0795.js.map