(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[19068,32841],{211086:(e,t,n)=>{e.exports=n.p+"9a31e0f65d520cc12d7f42374d59a2d1.svg"},79033:(e,t,n)=>{e.exports=n.p+"feaff2557c548146aad83669db695e0b.svg"},358623:(e,t,n)=>{"use strict";n.d(t,{yD:()=>s,p0:()=>f,Qv:()=>p});var r=n(675860),o=n(173436),i=n(935406),a=n(461061);function u(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){n(e);return}u.done?t(c):Promise.resolve(c).then(r,o)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){u(i,r,o,a,c,"next",e)}function c(e){u(i,r,o,a,c,"throw",e)}a(void 0)}))}}var l=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.")
;for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};function s(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];o.Z.wait((function(){o.Z.dispatch({type:"ENTITLEMENT_FETCH_APPLICATION_START",applicationId:e})}));return r.Z.get({url:a.ANM.ENTITLEMENTS_FOR_APPLICATION(e),oldFormErrors:!0,query:{
exclude_consumed:t}}).then((function(t){o.Z.dispatch({type:"ENTITLEMENT_FETCH_APPLICATION_SUCCESS",applicationId:e,entitlements:t.body});return t.body})).catch((function(){o.Z.dispatch({type:"ENTITLEMENT_FETCH_APPLICATION_FAIL",applicationId:e})}))}function f(e){return d.apply(this,arguments)}function d(){return(d=c((function(e){var t,n,i,u,c,s;return l(this,(function(l){switch(l.label){case 0:t=e.withSku,n=void 0!==t&&t,i=e.withApplication,u=void 0!==i&&i,c=e.entitlementType;o.Z.dispatch({type:"ENTITLEMENTS_FETCH_FOR_USER_START"});l.label=1;case 1:l.trys.push([1,3,,4]);return[4,r.Z.get({url:a.ANM.ENTITLEMENTS_FOR_USER,query:{with_sku:n,with_application:u,entitlement_type:c}})];case 2:s=l.sent();o.Z.dispatch({type:"ENTITLEMENTS_FETCH_FOR_USER_SUCCESS",entitlements:s.body});return[3,4];case 3:l.sent();o.Z.dispatch({type:"ENTITLEMENTS_FETCH_FOR_USER_FAIL"});return[3,4];case 4:return[2]}}))}))).apply(this,arguments)}function p(){return y.apply(this,arguments)}function y(){
return(y=c((function(){var e;return l(this,(function(t){switch(t.label){case 0:o.Z.dispatch({type:"ENTITLEMENTS_GIFTABLE_FETCH"});t.label=1;case 1:t.trys.push([1,3,,4]);return[4,(0,i.Kb)({url:a.ANM.ENTITLEMENTS_GIFTABLE})];case 2:e=t.sent();o.Z.dispatch({type:"ENTITLEMENTS_GIFTABLE_FETCH_SUCCESS",entitlements:e.body});return[3,4];case 3:t.sent();o.Z.dispatch({type:"ENTITLEMENTS_GIFTABLE_FETCH_FAIL"});return[3,4];case 4:return[2]}}))}))).apply(this,arguments)}},549425:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Oe});var r=n(606076),o=n(675860),i=n(338093),a=n(173436),u=n(935790),c=n(923463),l=n(23816),s=n(538796),f=n(53211),d=n(789105),p=n(175505),y=n(692706),E=n(832691),h=n(573643),m=n(617509),g=n(722792),v=n(46323),_=n(108268);const O=function(e,t){};var b=n(790948),I=n(110606);const S=function(e){},A=function(e){}
;var T=n(513073),M=n(282004),R=n(114193),P=n(778667),L=n(876679),C=n(178675),w=n(682684),D=n(410127),N=n(18416),j=n(631134),Z=n(356004),U=n(172762),x=n(653772),k=n(142583),G=n(171447),B=n(940712),F=n(962564),H=n(283369),V=n(105405),q=n(379822),Y=n(971738),W=n(429753),J=n(859023),K=n(932847),z=n(418674),X=n(202036),Q=n(95467),$=n(74030),ee=n(346529),te=n(992497),ne=n(461061),re=n(517845),oe=n(959797);function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ae(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){n(e);return}u.done?t(c):Promise.resolve(c).then(r,o)}function ue(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ae(i,r,o,a,u,"next",e)}function u(e){ae(i,r,o,a,u,"throw",e)}a(void 0)}))}}function ce(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function le(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ce(e,t,n[t])}))}return e}function se(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function fe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){
i.push(r.value);if(t&&i.length===t)break}}catch(e){u=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||pe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function de(e){return function(e){if(Array.isArray(e))return ie(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||pe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pe(e,t){if(e){if("string"==typeof e)return ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ie(e,t):void 0}}
var ye,Ee=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0
}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},he=new E.Z("MessageActionCreators"),me=!1;function ge(e){var t=e.inviteKey,n=e.channelId,r=e.messageId,o=e.location,i=e.suggested,a=void 0===i?null:i,u=e.overrideProperties,c=void 0===u?{}:u,s=(0,v.fU)(t),f=Z.Z.getChannel(n);if(null!=f){var d=null;f.isMultiUserDM()?d=ne.dAT.GDM_INVITE:f.isPrivate()||(d=ne.dAT.SERVER_INVITE);var p={},y=k.Z.getInvite(t);if(null!=y&&y.state===ne.r2o.RESOLVED&&null!=y.channel){var E,m=y.channel;p.invite_channel_id=m.id;p.invite_guild_id=null===(E=y.guild)||void 0===E?void 0:E.id;p.invite_channel_type=m.type;null!=y.inviter&&(p.invite_inviter_id=y.inviter.id);var g=N.Z.getLastActiveStream();if(null!=g&&g.channelId===m.id){d=ne.dAT.STREAM;p.destination_user_id=g.ownerId;var _=(0,h.L2)(g,F.Z);p.application_id=null!=_?_.id:null}}if(null!=a){p.is_suggested=a.isAffinitySuggestion;p.row_num=a.rowNum;p.num_total=a.numTotal;p.num_affinity_connections=a.numAffinityConnections
;p.is_filtered=a.isFiltered}p=le(se(le({},p),{location:o,invite_type:d,invite_code:s.baseCode,guild_id:f.getGuildId(),channel_id:f.id,message_id:r,send_type:ne.a5g.DIRECT_MESSAGE,invite_guild_scheduled_event_id:s.guildScheduledEventId}),c);l.ZP.trackWithMetadata(ne.rMx.INVITE_SENT,p)}else{var O={},b=k.Z.getInvite(t);if(null!=b&&b.state===ne.r2o.RESOLVED&&null!=b.inviter){O.invite_inviter_id=b.inviter.id;O=le(se(le({},O),{location:o,invite_type:ne.dAT.FRIEND_INVITE,invite_code:s.baseCode,message_id:r,send_type:ne.a5g.DIRECT_MESSAGE,invite_guild_scheduled_event_id:s.guildScheduledEventId}),c);l.ZP.trackWithMetadata(ne.rMx.INVITE_SENT,O)}}}var ve=(ce(ye={},ne.evJ.EMAIL_VERIFICATION_REQUIRED,{messageName:"BOT_REQUIRES_EMAIL_VERIFICATION",messageGetter:function(){return oe.Z.Messages.BOT_REQUIRES_EMAIL_VERIFICATION}}),ce(ye,ne.evJ.INVALID_MESSAGE_SEND_USER,{messageName:"BOT_DM_SEND_FAILED_WITH_HELP_LINK",messageGetter:function(){
return oe.Z.Messages.BOT_DM_SEND_FAILED_WITH_HELP_LINK.format({helpUrl:Q.Z.getArticleURL(ne.BhN.DM_COULD_NOT_BE_DELIVERED)})}}),ce(ye,ne.evJ.RATE_LIMIT_DM_OPEN,{messageName:"BOT_DM_RATE_LIMITED",messageGetter:function(){return oe.Z.Messages.BOT_DM_RATE_LIMITED}}),ce(ye,ne.evJ.SEND_MESSAGE_TEMPORARILY_DISABLED,{messageName:"BOT_DM_SEND_MESSAGE_TEMPORARILY_DISABLED",messageGetter:function(){return oe.Z.Messages.BOT_DM_SEND_MESSAGE_TEMPORARILY_DISABLED}}),ce(ye,ne.evJ.SLOWMODE_RATE_LIMITED,{messageName:"BOT_DM_SEND_MESSAGE_TEMPORARILY_DISABLED",messageGetter:function(){return oe.Z.Messages.BOT_DM_SEND_MESSAGE_TEMPORARILY_DISABLED}}),ye),_e={receiveMessage:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};a.Z.dispatch({type:"MESSAGE_CREATE",channelId:e,message:t,optimistic:n,sendMessageOptions:r,isPushNotification:!1})},sendBotMessage:function(e,t,n){
null!=n&&l.ZP.trackWithMetadata(ne.rMx.AUTOMATED_MESSAGE_RECEIVED,{message_author:"Clyde",message_name:n});_e.receiveMessage(e,(0,b.cs)({channelId:e,content:t,loggingName:n}))},sendClydeError:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Z.Z.getChannel(e);if(null!=n){var r,o;if(t===ne.evJ.EXPLICIT_CONTENT)if(n.isDM()){r=oe.Z.Messages.BOT_DM_EXPLICIT_CONTENT.format({name:(0,f.F6)(n,J.default,V.Z)});o="BOT_DM_EXPLICIT_CONTENT"}else if(n.isMultiUserDM()){r=oe.Z.Messages.BOT_GDM_EXPLICIT_CONTENT.format({name:(0,f.F6)(n,J.default,V.Z)});o="BOT_GDM_EXPLICIT_CONTENT"}else{var i=x.Z.getGuild(n.getGuildId());if(null==i)return;r=oe.Z.Messages.BOT_GUILD_EXPLICIT_CONTENT.format({name:i.toString()});o="BOT_GUILD_EXPLICIT_CONTENT"}else if(t===ne.evJ.SLOWMODE_RATE_LIMITED){r=oe.Z.Messages.CHANNEL_SLOWMODE_DESC.format({seconds:n.rateLimitPerUser});o="SLOWMODE_RATE_LIMITED"}else if(t===ne.evJ.INVALID_MESSAGE_SEND_USER){
r=oe.Z.Messages.BOT_DM_SEND_FAILED_WITH_HELP_LINK.format({helpUrl:Q.Z.getArticleURL(ne.BhN.DM_COULD_NOT_BE_DELIVERED)});o="INVALID_MESSAGE_SEND_USER"}else if(t===ne.evJ.TOO_MANY_THREADS){var a=n.isForumChannel()||n.isForumPost();r=a?oe.Z.Messages.BOT_DM_TOO_MANY_POSTS:oe.Z.Messages.BOT_DM_TOO_MANY_THREADS;o="TOO_MANY_THREADS"}else if(t===ne.evJ.TOO_MANY_ANNOUNCEMENT_THREADS){r=oe.Z.Messages.BOT_DM_TOO_MANY_ANNOUNCEMENT_THREADS;o="TOO_MANY_ANNOUNCEMENT_THREADS"}else if(t===ne.evJ.HARMFUL_LINK_MESSAGE_BLOCKED){r=oe.Z.Messages.HARMFUL_LINK_MESSAGE_BLOCKED_ERROR.format({helpUrl:ne.EYA.HARMFUL_LINKS});o="HARMFUL_LINK_MESSAGE_BLOCKED"}else if(t in ve){o=ve[t].messageName;r=ve[t].messageGetter()}else{r=oe.Z.Messages.BOT_DM_SEND_FAILED_WITH_HELP_LINK.format({helpUrl:Q.Z.getArticleURL(ne.BhN.DM_COULD_NOT_BE_DELIVERED)});o="SEND_FAILED (".concat(t,")")}_e.sendBotMessage(e,r,o)}},truncateMessages:function(e,t,n){a.Z.dispatch({type:"TRUNCATE_MESSAGES",channelId:e,truncateBottom:t,truncateTop:n})},
clearChannel:function(e){a.Z.dispatch({type:"CLEAR_MESSAGES",channelId:e})},jumpToPresent:function(e,t){_e.trackJump(e,null,"Present");var n={present:!0};G.Z.hasPresent(e)?a.Z.dispatch({type:"LOAD_MESSAGES_SUCCESS_CACHED",jump:n,channelId:e,limit:t}):_e.fetchMessages({channelId:e,limit:t,jump:n})},trackJump:function(e,t,n,r){l.ZP.trackWithMetadata(ne.rMx.JUMP,le({context:n,channel_id:e,message_id:t},r))},jumpToMessage:function(e){var t=e.channelId,n=e.messageId,r=e.flash,o=void 0!==r&&r,i=e.offset,a=e.context,u=e.extraProperties,c=void 0===u?null:u,l=e.isPreload,s=e.returnMessageId,f=e.jumpType;"string"==typeof a&&_e.trackJump(t,n,a,c);return _e.fetchMessages({channelId:t,limit:ne.Z8P,jump:{messageId:n,flash:o,offset:i,returnMessageId:s,jumpType:f},isPreload:l})},focusMessage:function(e){var t=e.channelId,n=e.messageId;_e.fetchMessages({channelId:t,limit:ne.Z8P,focus:{messageId:n}})},fetchMessages:function(e){
var t=e.channelId,n=e.before,r=e.after,i=e.limit,c=e.jump,l=e.focus,s=e.isPreload,f=e.truncate,p=Z.Z.getChannel(t),y=U.Z.isConnectedOrOverlay(),E=Date.now();if(null!=p&&p.type===ne.d4z.GUILD_STORE)return!1;he.log("Fetching messages for ".concat(t," between ").concat(n," and ").concat(r,". jump=").concat(JSON.stringify(c)));if(!_e._tryFetchMessagesCached({channelId:t,before:n,after:r,limit:i,jump:c,focus:l,truncate:f})){D.Z.fetchMessages.recordStart();var h=null!=c?c:void 0;null==h&&null!=l&&(h=le({},l));var m=u.Z.getOrCreate(t).loadStart(h);u.Z.commit(m);a.Z.dispatch({type:"LOAD_MESSAGES"});var g=null==h?void 0:h.messageId;S(t);return o.Z.get({url:ne.ANM.MESSAGES(t),query:{before:n,after:r,limit:i,around:g,preload:s},retries:2,oldFormErrors:!0}).then((function(e){D.Z.fetchMessages.recordEnd();D.Z.dispatchMessages.measure((function(){var o,u=e.body,l=null!=n,s=null!=r,h=null==n&&null==r,m=null!=g||u.length===i&&(l||h),v=null!=g||s&&u.length===i;if(null!=g){
var _=Math.floor(i/2),O=[g].concat(de(u.map((function(e){return e.id})))).filter((function(e,t,n){return n.indexOf(e)===t})).sort(ee.Z.compare),b=O.indexOf(g);b<_&&(m=!1);u.length-b<_&&(v=!1);if(v&&u.length>0){var I=H.ZP.lastMessageId(t);u[0].id===I&&(v=!1)}}he.log("Fetched ".concat(u.length," messages for ").concat(t," isBefore:").concat(l," isAfter:").concat(s));A(t);if((0,T.m7)(null!==(o=null==p?void 0:p.guild_id)&&void 0!==o?o:"")&&(null==c?void 0:c.isHighlight)){var S=(0,d.HK)(t,H.ZP.ackMessageId(t));if(S.length>=0){var M=S[0];if(null==u.find((function(e){return e.id===M}))){_e.jumpToMessage({channelId:t,messageId:M,flash:null==c?void 0:c.flash,jumpType:null==c?void 0:c.jumpType});return!0}}}a.Z.dispatch({type:"LOAD_MESSAGES_SUCCESS",channelId:t,messages:u,isBefore:l,isAfter:s,hasMoreBefore:m,hasMoreAfter:v,limit:i,jump:c,isStale:!y||U.Z.lastTimeConnectedChanged()>=E,truncate:f})}));return!0}),(function(){he.log("Failed to fetch messages for ".concat(t));a.Z.dispatch({
type:"LOAD_MESSAGES_FAILURE",channelId:t});return!1}))}},_tryFetchMessagesCached:function(e){var t=e.channelId,n=e.before,r=e.after,o=e.limit,i=e.jump,u=e.focus,c=e.truncate,l=G.Z.getMessages(t);if(l.cached||!l.ready)return!1;if(null!=(null==i?void 0:i.messageId)||null!=(null==u?void 0:u.messageId)){if(null!=(null==i?void 0:i.messageId)&&l.has(i.messageId,!1)){a.Z.dispatch({type:"LOAD_MESSAGES_SUCCESS_CACHED",channelId:t,jump:i,limit:o,truncate:c});return!0}if(null!=(null==u?void 0:u.messageId)){if(l.has(u.messageId,!1)){a.Z.dispatch({type:"LOAD_MESSAGES_SUCCESS_CACHED",channelId:t,focus:u,limit:o,truncate:c});return!0}i=le({},u)}var s=null!=(null==i?void 0:i.messageId)?ee.Z.extractTimestamp(null==i?void 0:i.messageId):0,f=l.first(),d=l.last();if(!l.hasMoreBefore&&null!=f&&ee.Z.extractTimestamp(f.id)>=s||!l.hasMoreAfter&&null!=d&&ee.Z.extractTimestamp(d.id)<=s){a.Z.dispatch({type:"LOAD_MESSAGES_SUCCESS_CACHED",channelId:t,jump:i,limit:ne.Z8P});return!0}
if(null!=f&&null!=d&&ee.Z.extractTimestamp(f.id)<s&&ee.Z.extractTimestamp(d.id)>s){a.Z.dispatch({type:"LOAD_MESSAGES_SUCCESS_CACHED",channelId:t,jump:i,limit:ne.Z8P});return!0}return!1}if(null!=n&&l.hasBeforeCached(n)){a.Z.dispatch({type:"LOAD_MESSAGES_SUCCESS_CACHED",channelId:t,before:n,limit:o,truncate:c});return!0}if(null!=r&&l.hasAfterCached(r)){a.Z.dispatch({type:"LOAD_MESSAGES_SUCCESS_CACHED",channelId:t,after:r,limit:o,truncate:c});return!0}return!1},sendMessage:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(t.reaction)return Promise.resolve();var o=function(){return _e._sendMessage(e,t,r)};return n?new Promise((function(t,n){G.Z.whenReady(e,(function(){return o().then(t,n)}))})):o()},getSendMessageOptionsForReply:function(e){return null==e?{}:{messageReference:{guild_id:null!==(t=e.channel.getGuildId())&&void 0!==t?t:void 0,channel_id:e.channel.id,message_id:e.message.id},
allowedMentions:e.shouldMention?void 0:{parse:Object.values(ne.hCA),replied_user:!1}};var t},sendInvite:function(e,t,n,r){return _e._sendMessage(e,{content:(0,_.Z)(t),tts:!1,validNonShortcutEmojis:[],invalidEmojis:[]},{location:n,suggestedInvite:null!=r?r:void 0})},sendStickers:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return _e._sendMessage(e,{content:n,invalidEmojis:[],validNonShortcutEmojis:[],tts:o},se(le({},r),{stickerIds:t}))},sendGreetMessage:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.messageReference,u=r.allowedMentions,c=r.captchaPayload;return o.Z.post({url:ne.ANM.MESSAGES_GREET(e),body:{sticker_ids:[t],allowed_mentions:u,message_reference:i,captcha_key:null==c?void 0:c.captcha_key,captcha_rqtoken:null==c?void 0:c.captcha_rqtoken},oldFormErrors:!0}).then((function(n){O(n.body.content,e)
;_e.receiveMessage(e,n.body);a.Z.dispatch({type:"STICKER_TRACK_USAGE",stickerIds:[t]});return n}),(function(o){429!==o.status&&(null!=o.body.captcha_key&&null==(null==r?void 0:r.captchaPayload)?n.e(41704).then(n.bind(n,141704)).then((function(n){n.default.showCaptchaAsync((0,s.z)(o.body)).then((function(n){_e.sendGreetMessage(e,t,se(le({},r),{captchaPayload:n}))}))})):_e.sendClydeError(e,o.body.code));a.Z.dispatch({type:"MESSAGE_SEND_FAILED",messageId:o.body.id,channelId:e});throw o}))},_sendMessage:function(e,t,o){var i=t.content,u=t.invalidEmojis,f=t.validNonShortcutEmojis,d=t.tts,E=void 0!==d&&d,h=o.activityAction,v=o.location,_=o.suggestedInvite,I=o.stickerIds,S=o.messageReference,A=o.allowedMentions,T=o.captchaPayload,P=0,w=fe((0,C.ZP)(i),2),D=w[0],N=w[1];if(D){i=N;P=(0,z.pj)(P,ne.iLy.SUPPRESS_NOTIFICATIONS)}if(""===i&&null==h&&null==I)return Promise.reject(new Error("not sending empty message"));var U=null!=S?ne.uaV.REPLY:ne.uaV.DEFAULT,x=(0,b.rv)(),k=x;if(!1!==o.eagerDispatch){
var G,F=(0,b.ZP)({channelId:e,content:i,tts:E,type:U,messageReference:S,allowedMentions:A,flags:0!==P?P:void 0});F.nonce=null!==(G=o.nonce)&&void 0!==G?G:F.id;x=F.nonce;k=F.id;(0,M.EL)(e,F.id);null!=I&&(F.sticker_items=I.map((function(e){return L.Z.getStickerById(e)})).filter((function(e){return null!=e})));_e.receiveMessage(e,F,!0,o)}if(!me&&null!=u&&u.length>0){me=!0;var H,V,Q=J.default.getCurrentUser();if(u.some((function(e){return e.animated}))&&!$.ZP.canUseAnimatedEmojis(Q)){H=oe.Z.Messages.INVALID_ANIMATED_EMOJI_BODY_UPGRADE;V="INVALID_ANIMATED_EMOJI_BODY"}else if(B.Z.canWithPartialContext(ne.Plq.USE_EXTERNAL_EMOJIS,{channelId:e})){H=oe.Z.Messages.INVALID_EXTERNAL_EMOJI_BODY_UPGRADE;V="INVALID_EXTERNAL_EMOJI_BODY_UPGRADE"}else{H=oe.Z.Messages.INVALID_EXTERNAL_EMOJI_BODY;V="INVALID_EXTERNAL_EMOJI_BODY"}_e.sendBotMessage(e,H,V)}var ee={type:c.$V.SEND,message:{channelId:e,content:i,nonce:x,tts:E,message_reference:S,allowed_mentions:A,captcha_key:null==T?void 0:T.captcha_key,
captcha_rqtoken:null==T?void 0:T.captcha_rqtoken,flags:P}};if(null!=h){var te=h.type===ne.mFx.JOIN_REQUEST?null==h?void 0:h.activity.session_id:j.default.getSessionId();if(null!=te){var ie={type:h.type,session_id:te},ae=h.activity;null!=ae.party&&null!=ae.party.id&&(ie.party_id=ae.party.id);ee.message.application_id=ae.application_id;ee.message.activity=ie}}null!=I&&(ee.message.sticker_ids=I);R.Z.isEnabled()&&(ee.message.has_poggermode_enabled=!0);return new Promise((function(u,d){c.ZP.enqueue(ee,(E=ue((function(c){var E,h;return Ee(this,(function(b){switch(b.label){case 0:if(!c.ok)return[3,1];O(i,e);_e.receiveMessage(e,c.body,!0);a.Z.dispatch({type:"SLOWMODE_RESET_COOLDOWN",slowmodeType:W.S.SendMessage,channelId:e});a.Z.dispatch({type:"EMOJI_TRACK_USAGE",emojiUsed:f});a.Z.dispatch({type:"STICKER_TRACK_USAGE",stickerIds:I});!function(e){var t=e.content,n=e.channelId,o=e.messageId,i=e.location,a=e.suggested,u=void 0===a?null:a,c=e.overrideProperties,s=void 0===c?{}:c;(0,
y.Z)(t).forEach((function(e){var t=e.type,a=e.code;if(t===p.g.INVITE)ge({inviteKey:a,channelId:n,messageId:o,location:i,suggested:u,overrideProperties:s});else if(t===p.g.TEMPLATE){var c=g.Z.getGuildTemplate(a);if(null==c||c.state===re.Rj.RESOLVING)return;l.ZP.trackWithMetadata(ne.rMx.GUILD_TEMPLATE_LINK_SENT,{guild_template_code:a,guild_template_name:c.name,guild_template_description:c.description,guild_template_guild_id:c.sourceGuildId})}else if(t===p.g.BUILD_OVERRIDE);else if(t===p.g.EVENT);else if(t===p.g.CHANNEL_LINK);else{if(t!==p.g.APP_DIRECTORY_PROFILE)throw Error("Unknown coded link type: ".concat(t));K.default.track(ne.rMx.APP_DIRECTORY_PROFILE_EMBED_SENT,{application_id:a,device_platform:r.tq?"mobile_web":"desktop_web",guild_id:Y.Z.getGuildId(),channel_id:q.Z.getChannelId()})}}))}({content:i,channelId:e,messageId:c.body.id,location:null!=v?v:"chat_input",suggested:_});!function(e,t,n,r,o){(0,X.Q_)(e).forEach((function(e){var i=Z.Z.getChannel(t)
;null!=i&&l.ZP.trackWithMetadata(ne.rMx.GIFT_CODE_SENT,{location:r,gift_code:e,guild_id:i.getGuildId(),channel_id:i.id,channel_type:i.type,message_id:n,automatic_send:o})}))}(i,e,c.body.id,null!=v?v:"chat_input",!!o.isGiftLinkSentOnBehalfOfUser);u(c);return[3,8];case 1:E=!1;if(c.hasErr)return[3,6];if(!(c.status>=400&&c.status<500&&c.body))return[3,5];if(c.body.code!==ne.evJ.SLOWMODE_RATE_LIMITED)return[3,2];null!=(h=c.body.retry_after)&&h>0&&a.Z.dispatch({type:"SLOWMODE_SET_COOLDOWN",channelId:e,slowmodeType:W.S.SendMessage,cooldownMs:1e3*h});return[3,5];case 2:return null==c.body.captcha_key||null!=(null==o?void 0:o.captchaPayload)?[3,4]:[4,n.e(41704).then(n.bind(n,141704))];case 3:b.sent().default.showCaptchaAsync((0,s.z)(c.body)).then((function(n){_e.deleteMessage(e,k,!0);_e._sendMessage(e,t,se(le({},o),{captchaPayload:n}))}));return[3,5];case 4:m.U8.has(c.body.code)?a.Z.dispatch({type:"MESSAGE_SEND_FAILED_AUTOMOD",messageData:ee,errorResponseBody:{code:c.body.code,
message:c.body.message}}):c.body.code===ne.evJ.POGGERMODE_TEMPORARILY_DISABLED?a.Z.dispatch({type:"POGGERMODE_TEMPORARILY_DISABLED"}):_e.sendClydeError(e,c.body.code);b.label=5;case 5:return[3,7];case 6:"ABORTED"===c.err.code&&(E=!0);b.label=7;case 7:E?_e.deleteMessage(e,k,!0):a.Z.dispatch({type:"MESSAGE_SEND_FAILED",messageId:k,channelId:e});d(c);b.label=8;case 8:return[2]}}))})),function(e){return E.apply(this,arguments)}));var E}))},startEditMessage:function(e,t,n){a.Z.dispatch({type:"MESSAGE_START_EDIT",channelId:e,messageId:t,content:n})},updateEditMessage:function(e,t,n){a.Z.dispatch({type:"MESSAGE_UPDATE_EDIT",channelId:e,textValue:t,richValue:n})},endEditMessage:function(e,t){a.Z.dispatch({type:"MESSAGE_END_EDIT",channelId:e,response:t})},editMessage:function(e,t,n){var r=n.content;return ue((function(){var n,o;return Ee(this,(function(u){switch(u.label){case 0:return[4,w.Z.unarchiveThreadIfNecessary(e)];case 1:u.sent();n=function(e,t){var n=G.Z.getMessage(e,t)
;if(null!=n&&n.type===ne.uaV.REPLY){var r=P.Z.getMessageByReference(n.messageReference);if(r.state===P.Y.LOADED&&!n.mentions.includes(r.message.author.id))return{parse:Object.values(ne.hCA),replied_user:!1}}}(e,t);o={channelId:e,messageId:t,content:r,allowed_mentions:n};c.ZP.enqueue({type:c.$V.EDIT,message:o},(function(n){var r=!n.hasErr&&m.U8.has(n.body.code);if(r){var u={type:c.$V.EDIT,message:o};a.Z.dispatch({type:"MESSAGE_EDIT_FAILED_AUTOMOD",messageData:u,errorResponseBody:{code:n.body.code,message:n.body.message}})}n.hasErr?i.uv.announce(oe.Z.Messages.A11Y_ANNOUNCEMENT_MESSAGE_EDITED_FAILED):r?i.uv.announce(oe.Z.Messages.A11Y_ANNOUNCEMENT_MESSAGE_EDITED_AUTOMOD_BLOCKED):i.uv.announce(oe.Z.Messages.A11Y_ANNOUNCEMENT_MESSAGE_EDITED);_e.endEditMessage(e,n.hasErr?void 0:n);_e.focusMessage({channelId:e,messageId:t})}));return[2]}}))}))()},suppressEmbeds:function(e,t){return ue((function(){return Ee(this,(function(n){switch(n.label){case 0:return[4,w.Z.unarchiveThreadIfNecessary(e)]
;case 1:n.sent();o.Z.patch({url:ne.ANM.MESSAGE(e,t),body:{flags:ne.iLy.SUPPRESS_EMBEDS},oldFormErrors:!0});return[2]}}))}))()},patchMessageAttachments:function(e,t,n){return ue((function(){return Ee(this,(function(r){switch(r.label){case 0:return[4,w.Z.unarchiveThreadIfNecessary(e)];case 1:r.sent();o.Z.patch({url:ne.ANM.MESSAGE(e,t),body:{attachments:n},oldFormErrors:!0});return[2]}}))}))()},deleteMessage:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return ue((function(){var r,u;return Ee(this,(function(c){switch(c.label){case 0:r=function(){a.Z.dispatch({type:"MESSAGE_DELETE",id:t,channelId:e}).then((function(){i.uv.announce(oe.Z.Messages.A11Y_ANNOUNCEMENT_MESSAGE_DELETED)}))};if(!n)return[3,1];r();return[3,3];case 1:return[4,w.Z.unarchiveThreadIfNecessary(e)];case 2:c.sent();o.Z.delete({url:ne.ANM.MESSAGE(e,t),oldFormErrors:!0}).then((function(){r()}));c.label=3;case 3:(null==(u=G.Z.getMessage(e,t))?void 0:u.type)===ne.uaV.GUILD_INVITE_REMINDER&&(0,
I.O)();return[2]}}))}))()},dismissAutomatedMessage:function(e){null!=e.loggingName&&l.ZP.trackWithMetadata(ne.rMx.AUTOMATED_MESSAGE_DISMISSED,{message_name:e.loggingName,message_author:e.author.username});this.deleteMessage(e.channel_id,e.id,!0)},revealMessage:function(e,t){a.Z.dispatch({type:"MESSAGE_REVEAL",channelId:e,messageId:t})},crosspostMessage:function(e,t){return o.Z.post({url:ne.ANM.MESSAGE_CROSSPOST(e,t),oldFormErrors:!0}).catch((function(e){var t;t=429===e.status?oe.Z.Messages.PUBLISH_FOLLOWED_NEWS_FAIL_BODY.format({retryAfter:Math.floor(e.body.retry_after/60)}):oe.Z.Messages.PUBLISH_FOLLOWED_NEWS_GENERIC_BODY;te.Z.show({title:oe.Z.Messages.PUBLISH_FOLLOWED_NEWS_FAIL_TITLE,body:t,confirmText:oe.Z.Messages.OKAY})}))},trackInvite:ge};const Oe=_e},923463:(e,t,n)=>{"use strict";n.d(t,{$V:()=>T,ZN:()=>R,Bz:()=>P,ZP:()=>C});var r=n(441143),o=n.n(r),i=n(681178),a=n(675860),u=n(780921),c=n(832691),l=n(631134),s=n(337823),f=n(897268),d=n(561388),p=n(896840),y=n(461061)
;function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function g(e){g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return g(e)}function v(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function _(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{}
;var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function O(e,t){return!t||"object"!==S(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e,t){b=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return b(e,t)}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){u=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(!e)return
;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var S=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O(this,n)}}var T,M=null
;__OVERLAY__&&(M=n(300327).Z);!function(e){e[e.SEND=0]="SEND";e[e.EDIT=1]="EDIT";e[e.COMMAND=2]="COMMAND"}(T||(T={}));var R=function(e){return e.type===T.SEND},P=function(e){return e.type===T.EDIT},L=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&b(e,t)}(n,e);var t=A(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;h(this,n);(e=t.call(this,new c.Z("MessageQueue"))).maxSize=r;e.requests=new Map;return e}var r=n.prototype;r.isFull=function(){return this.queue.length>=this.maxSize};r.drain=function(e,t){switch(e.type){case T.SEND:this.handleSend(e.message,t);break;case T.EDIT:this.handleEdit(e.message,t);break;case T.COMMAND:this.handleCommand(e.message,t)}};r.cancelRequest=function(e){var t;null===(t=this.requests.get(e))||void 0===t||t.abort();this.requests.delete(e)}
;r.createResponseHandler=function(e,t){var n=this;return function(r){null!=e&&n.requests.has(e)&&n.requests.delete(e);if(r.hasErr)return t(null,r);(null==r.body||r.body.code!==y.evJ.SLOWMODE_RATE_LIMITED&&r.body.code!==y.evJ.CHANNEL_FOLLOWING_EDIT_RATE_LIMITED)&&429===r.status?t({retryAfter:1e3*r.body.retry_after}):t(null,r)}};r.handleSend=function(e,t){var n,r=this,o=e.channelId,u=e.file,c=e.filename,l=_(e,["channelId","file","filename"]);null!=M&&(M.isInstanceUILocked()?n={location:y.ADE.OVERLAY_LOCKED_ACTIVATED}:M.isInstanceUILocked()||(n=M.isPinned(y.Odu.TEXT)?{location:y.ADE.OVERLAY_UNLOCKED_PINNED}:{location:y.ADE.OVERLAY_UNLOCKED}));var s=this.createResponseHandler(e.nonce,t),f=new AbortController;if(null!=u&&null!=c&&""!==c)a.Z.post({url:y.ANM.MESSAGES(o),fields:Object.entries(l).map((function(e){var t=I(e,2);return{name:t[0],value:t[1]}})),attachments:[{name:"file",file:u,filename:c}],context:n,oldFormErrors:!0,signal:f.signal,onRequestCreated:function(){
null!=e.nonce&&r.requests.set(e.nonce,f)}},s);else{var d={timeout:6e4,retries:3,backoff:new i.Z};0;a.Z.post(v(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){m(e,t,n[t])}))}return e}({url:y.ANM.MESSAGES(o),body:l,context:n,oldFormErrors:!0},d),{signal:f.signal,onRequestCreated:function(){null!=e.nonce&&r.requests.set(e.nonce,f)}}),s)}};r.handleEdit=function(e,t){var n=this,r=e.channelId,o=e.messageId,i=_(e,["channelId","messageId"]),u=new AbortController;a.Z.patch({url:y.ANM.MESSAGE(r,o),body:i,retries:1,oldFormErrors:!0,signal:u.signal,onRequestCreated:function(){n.requests.set(o,u)}},this.createResponseHandler(o,t))};r.handleCommand=function(e,t){
var n,r=e.applicationId,i=e.guildId,c=e.channelId,f=e.data,E=e.nonce,h=e.attachments,m=e.maxSizeCallback,g=this,v={type:u.B8.APPLICATION_COMMAND,application_id:r,guild_id:i,channel_id:c,session_id:l.default.getSessionId(),data:f,nonce:E};if(null!=h){v.data.attachments=[];n=[];var _=h;v.data.attachments=_.map((function(e,t){o()(e.status===p.m.COMPLETED,"Uploads must be staged before trying to send a message");return(0,d.B)(e,t)}))}var O=new AbortController;a.Z.post({url:y.ANM.INTERACTIONS,fields:[{name:"payload_json",value:JSON.stringify(v)}],attachments:n,signal:O.signal,onRequestCreated:function(e){g.requests.set(E,O);e.on("progress",(function(e){var t=e.total,n=(0,s.dg)(i);if(null!=t&&t>n){g.cancelRequest(E);null==m||m(n)}}))}},this.createResponseHandler(E,t))};return n}(f.Z);const C=new L},769888:(e,t,n)=>{"use strict";n.d(t,{Z0:()=>i,fy:()=>a,Mb:()=>u,r5:()=>c,d1:()=>l});var r=n(272729),o=n(959797),i=(0,r.hQ)(),a=(0,r.hQ)(),u=(0,r.hQ)(),c=(0,r.hQ)();function l(){[{id:i,text:","},{
id:a,text:","},{id:u,text:o.Z.Messages.REACTIONS},{id:c,text:o.Z.Messages.OPEN_ORIGIANL_IMAGE_BUTTON_A11Y_DESCRIPTION}].forEach((function(e){var t=e.id,n=e.text,r=document.getElementById(t);if(null==r){(r=document.createElement("div")).setAttribute("id",t);r.innerText=n;r.style.display="none";document.body.appendChild(r)}}))}},544934:(e,t,n)=>{"use strict";n.d(t,{WO:()=>a,Lu:()=>u,ak:()=>c,bi:()=>r,tn:()=>l,hz:()=>s,sZ:()=>f,oQ:()=>d,_n:()=>p,Vd:()=>y,lr:()=>E,Mn:()=>h,al:()=>m});var r,o=n(780921),i=n(959797),a="True",u="False",c=[{name:a,displayName:a,value:"true"},{name:u,displayName:u,value:"false"}];!function(e){e.BUILT_IN="-1";e.FRECENCY="-2"}(r||(r={}));var l=10,s=5,f=25,d="\0",p=100,y=3,E=10,h=1;function m(e){if(null!=e.choices)return i.Z.Messages.COMMAND_VALIDATION_CHOICE_ERROR;switch(e.type){case o.jw.BOOLEAN:return i.Z.Messages.COMMAND_VALIDATION_BOOLEAN_ERROR;case o.jw.CHANNEL:return i.Z.Messages.COMMAND_VALIDATION_CHANNEL_ERROR;case o.jw.INTEGER:
return i.Z.Messages.COMMAND_VALIDATION_INTEGER_ERROR;case o.jw.NUMBER:return i.Z.Messages.COMMAND_VALIDATION_NUMBER_ERROR;case o.jw.ROLE:return i.Z.Messages.COMMAND_VALIDATION_ROLE_ERROR;case o.jw.USER:return i.Z.Messages.COMMAND_VALIDATION_USER_ERROR;case o.jw.MENTIONABLE:return i.Z.Messages.COMMAND_VALIDATION_MENTIONABLE_ERROR;default:return i.Z.Messages.COMMAND_VALIDATION_GENERAL_ERROR}}},560891:(e,t,n)=>{"use strict";n.d(t,{X5:()=>a,a8:()=>u,h8:()=>o,xQ:()=>i});var r=n(213192);var o,i,a=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);this.id=t;this.text=t},u=n.n(r)()({UP:null,DOWN:null});!function(e){e.GUILD="GUILD";e.TEXT_CHANNEL="TEXT_CHANNEL";e.GROUP_DM="GROUP_DM";e.VOICE_CHANNEL="VOICE_CHANNEL";e.USER="USER";e.HEADER="HEADER";e.APPLICATION="APPLICATION";e.SKU="SKU";e.LINK="LINK"}(o||(o={}));!function(e){e.USER="@";e.TEXT_CHANNEL="#";e.VOICE_CHANNEL="!";e.GUILD="*";e.APPLICATION="$"}(i||(i={}))},
839146:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});function r(e,t){if(e.score===t.score){var n,r,o,i,a,u,c=null!==(i=null!==(o=e.sortable)&&void 0!==o?o:null===(n=e.comparator)||void 0===n?void 0:n.toLocaleLowerCase())&&void 0!==i?i:"",l=null!==(u=null!==(a=e.sortable)&&void 0!==a?a:null===(r=t.comparator)||void 0===r?void 0:r.toLocaleLowerCase())&&void 0!==u?u:"";if(c<l)return-1;if(c>l)return 1}return t.score-e.score}},573269:(e,t,n)=>{"use strict";n.d(t,{SR:()=>O,vM:()=>b,ZP:()=>T,Cf:()=>M});var r=n(667294),o=n(717621),i=n.n(o),a=n(185253),u=n(363010),c=n(730189),l=n(959011),s=n(894827);function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){n(e);return}u.done?t(c):Promise.resolve(c).then(r,o)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){d(i,r,o,a,u,"next",e)}function u(e){d(i,r,o,a,u,"throw",e)}
a(void 0)}))}}function y(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){y(e,t,n[t])}))}return e}function h(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function m(e,t){return function(e){if(Array.isArray(e))return e
}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){u=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||v(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||v(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}var _=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}
if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},O=(0,a.Z)((function(){return{palette:{},fetching:{}}}));function b(e){return I.apply(this,arguments)}function I(){return(I=p((function(e){return _(this,(function(t){switch(t.label){case 0:return null!=O.getState().palette[e]?[2]:[4,S(e)];case 1:t.sent();return[2]}}))}))).apply(this,arguments)}function S(e){return A.apply(this,arguments)}function A(){return(A=p((function(e){var t,n;return _(this,(function(r){switch(r.label){case 0:if(O.getState().fetching[e])return[2];O.setState((function(t){return{fetching:h(E({},t.fetching),y({},e,!0))}}));r.label=1;case 1:r.trys.push([1,3,,4]);return[4,(0,s.OF)(e)];case 2:t=r.sent();n=(0,l.WY)(t[0]);O.setState((function(r){return{fetching:h(E({},r.fetching),y({},e,!1)),
palette:h(E({},r.palette),y({},e,g(t.slice(0,2)).concat(g(n))))}}));return[3,4];case 3:r.sent();O.setState((function(t){return{fetching:h(E({},t.fetching),y({},e,!1))}}));return[3,4];case 4:return[2]}}))}))).apply(this,arguments)}function T(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=m(M(e,t,n),1),o=r[0];return o}function M(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=O((function(t){return null==e?void 0:t.palette[e]})),a=(0,u.e7)([c.Z],(function(){return n&&c.Z.desaturateUserColors?c.Z.saturation:1}));r.useEffect((function(){null!=e&&null==o&&S(e)}),[e,o]);var l=r.useMemo((function(){return null==o?void 0:o.map((function(e){var t=m(e,3),n=t[0],r=t[1],o=t[2],u=i()({r:n,g:r,b:o}).toHsl(),c=u.h,l=u.s,s=u.l;return i()({h:c,s:l*a,l:s}).toHexString()}))}),[o,a]);return null!=l?l:[t,t]}},232841:(e,t,n)=>{"use strict";n.d(t,{d3:()=>B,s5:()=>F,VS:()=>$,IP:()=>X,Y1:()=>G,QJ:()=>Q,J1:()=>x,Gn:()=>Z,to:()=>j,jA:()=>D,y$:()=>N,PC:()=>w,
fe:()=>U,A3:()=>C,kI:()=>L,MZ:()=>W,DV:()=>H,NJ:()=>q,wC:()=>V,C1:()=>Y,_m:()=>K,a2:()=>z});var r=n(667294),o=n(496486),i=n.n(o),a=n(363010),u=n(23816),c=n(182634),l=n(739388),s=n(180918),f=n(356004),d=n(392115),p=n(653772),y=n(379822),E=n(784238),h=n(932847),m=n(331478);const g=(0,n(553494).B)({kind:"user",id:"2023-01_emoji_discovery_backfill",label:"Emoji Hotrail Backfill",defaultConfig:{shouldBackfillEmojis:!1},treatments:[{id:1,label:"Backfills Hotrail With Emojis",config:{shouldBackfillEmojis:!0}}]});var v=n(630725),_=n(175453),O=n(461061),b=n(706594),I=n(298716),S=n(959797);function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function T(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){
var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){u=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||P(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e){return function(e){if(Array.isArray(e))return A(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||P(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){if(e){if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A(e,t):void 0}}var L=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null==t?void 0:t.getGuildId();(0,c.O)(n);var o=B(e),u=V(n,e),l=q(n),s=K(n,e),f=s.topEmojis,y=s.newlyAddedEmojis,h=s.backfillEmojis,g=Q(f,y,h),v=(0,a.e7)([d.Z],(function(){return d.Z.getDisambiguatedEmojiContext(n)})),O=(0,a.e7)([p.Z],(function(){var e;return null===(e=p.Z.getGuild(n))||void 0===e?void 0:e.name})),b=r.useMemo((function(){var r=E.Z.getFlattenedGuilds(),a=v.getGroupedCustomEmoji(),c=[];i().each(r,(function(r){var o=null==a?void 0:a[r.id];if(!(null==o||0===o.length||null!=t&&o.every((function(n){return m.ZP.isEmojiFiltered(n,t,e)})))){var i={type:_.En.GUILD,guild:r};r.id!==n?c.push(i):c.unshift(i)}}));return d.Z.categories.reduce((function(t,r){if(r===_.UX.TOP_GUILD_EMOJI){if(0===g.length)return t;t.push({type:_.En.TOP_GUILD_EMOJI,id:r,
name:S.Z.Messages.EMOJI_CATEGORY_TOP_GUILD_EMOJI.format({guildName:O})})}else if(r===_.UX.RECENT){if(0===u.length)return t;t.push({type:_.En.RECENT,id:r,name:S.Z.Messages.EMOJI_CATEGORY_RECENT})}else if(r===_.UX.FAVORITES){if(0===l.length)return t;t.push({type:_.En.FAVORITES,id:r,name:S.Z.Messages.CATEGORY_FAVORITE})}else if(r===_.UX.CUSTOM){var i,a=c;o||(a=c.filter((function(e){return e.guild.id===n})));(i=t).push.apply(i,R(a))}else F(e)&&t.push({type:_.En.UNICODE,id:r,name:r});return t}),[])}),[v,t,n,e,g.length,O,u.length,l.length,o]);return b},C=function(e){var t=null!=(null==e?void 0:e.getGuildId());h.default.track(O.rMx.PREMIUM_PROMOTION_OPENED,{location_page:t?O.ZY5.GUILD_CHANNEL:O.ZY5.DM_CHANNEL,location_section:null!=e?O.jXE.EMOJI_PICKER_POPOUT:O.jXE.CUSTOM_STATUS_MODAL})},w=function(e,t){u.ZP.trackWithMetadata(O.rMx.SEARCH_STARTED,{search_type:null!=t&&t===O.HzX.REACTION?O.aib.EMOJI_REACTION:O.aib.EMOJI,location:e})},D=function(e,t,n,r){
u.ZP.trackWithMetadata(O.rMx.SEARCH_RESULT_VIEWED,{search_type:null!=r&&r===O.HzX.REACTION?O.aib.EMOJI_REACTION:O.aib.EMOJI,total_results:e,num_results_locked:t,location:n})},N=function(e,t,n){var r,o=null!==(r=e.uniqueName)&&void 0!==r?r:e.name;u.ZP.trackWithMetadata(O.rMx.SEARCH_RESULT_SELECTED,{search_type:null!=n&&n===O.HzX.REACTION?O.aib.EMOJI_REACTION:O.aib.EMOJI,location:t,expression_guild_id:e.guildId,emoji_id:e.id,emoji_name:o,is_custom:null!=e.id,is_animated:e.animated})},j=function(e){u.ZP.trackWithMetadata(O.rMx.SEARCH_RESULT_EMPTY,{search_type:O.aib.EMOJI,location:e})},Z=function(e){var t=e.emoji,n=e.subCategory,r=e.position,o=e.backfillEmoji,i=e.newlyAddedHighlight;u.ZP.trackWithMetadata(O.rMx.EXPRESSION_PICKER_EXPRESSION_FOCUS,{expression_section:null==n?void 0:n.toString(),newly_added_highlight:i,emoji_id:t.id,emoji_name:t.name,emoji_animated:t.animated,emoji_backfilled:o,emoji_position:r})},U=function(e){
var t,n,r=e.emoji,o=e.location,i=e.pickerIntention,a=e.category,c=e.subCategory,l=void 0===c?_.t0.NONE:c,s=e.position,f=e.backfillEmoji,d=e.newlyAddedHighlight,p=e.isBurstReaction;switch(i){case O.HzX.REACTION:t=p?I.cd.EMOJI_PICKER_SUPER_REACTION_EMOJI_CLICKED:I.cd.EMOJI_PICKER_REACTION_EMOJI_CLICKED;break;case O.HzX.STATUS:t=I.cd.EMOJI_PICKER_STATUS_EMOJI_CLICKED;break;default:t=I.cd.EMOJI_PICKER_EMOJI_CLICKED}var y=null!==(n=r.uniqueName)&&void 0!==n?n:r.name;u.ZP.trackWithMetadata(O.rMx.EXPRESSION_PICKER_EXPRESSION_SELECTED,{type:t,location:o,expression_id:r.id,expression_name:y,expression_guild_id:r.guildId,is_custom:null!=r.id,is_animated:r.animated,expression_picker_section:a,expression_section:null==l?void 0:l.toString(),emoji_position:s,emoji_backfilled:f,newly_added_highlight:d,is_burst:p})},x=function(e){var t,n=e.emoji,r=e.location,o=null!==(t=n.uniqueName)&&void 0!==t?t:n.name;u.ZP.trackWithMetadata(O.rMx.EXPRESSION_FAVORITED,{location:r,expression_type:b.X1.EMOJI,
expression_id:n.id,expression_name:o,expression_guild_id:n.guildId,is_custom:null!=n.id,is_animated:n.animated})},k=function(e){var t=e.containerWidth,n=e.favoriteEmojis,r=e.frequentlyUsedEmoji,o=e.guildEmoji,i=e.emojisTotal,a=e.topEmojis,c=e.newlyAddedEmojis,s=e.backfillEmojis,f=e.pickerIntention,d=e.isBurstReaction,p=void 0!==d&&d,y=e.analyticsObject,E=l.Z.remainingBurstCurrency;u.ZP.trackWithMetadata(f===O.HzX.REACTION?O.rMx.REACTION_PICKER_OPENED:O.rMx.EXPRESSION_PICKER_OPENED,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){T(e,t,n[t])}))}return e}({width:t,tab:b.X1.EMOJI,badged:!1,num_expressions_favorites:n.length,num_animated_expressions_favorites:n.filter((function(e){return null==e?void 0:e.animated})).length,
num_custom_expressions_favorites:n.filter((function(e){return null!=e.guildId})).length,num_standard_expressions_favorites:n.filter((function(e){return null==e.id})).length,num_expressions_frecent:r.length,num_animated_expressions_frecent:r.filter((function(e){return null==e?void 0:e.animated})).length,num_custom_expressions_frecent:r.filter((function(e){return null!=e.guildId})).length,num_standard_expressions_frecent:r.filter((function(e){return null==e.id})).length,num_current_guild_expressions:o.length,num_custom_expressions_total:i,num_expressions_top_server:a.length,num_animated_expressions_top_server:a.filter((function(e){return e.animated})).length,num_expressions_newly_added:c.length,num_animated_expressions_newly_added:c.filter((function(e){return e.animated})).length,num_expressions_backfilled:s.length,num_animated_expressions_backfilled:s.filter((function(e){return e.animated})).length},f===O.HzX.REACTION&&{is_burst:p,burst_reaction_balance:E},null!=y&&{location_object:y}))
},G=function(e,t){switch(e){case _.UX.TOP_GUILD_EMOJI:return S.Z.Messages.EMOJI_CATEGORY_TOP_GUILD_EMOJI.format({guildName:t});case _.UX.RECENT:return S.Z.Messages.EMOJI_CATEGORY_RECENT;case _.UX.FAVORITES:return S.Z.Messages.CATEGORY_FAVORITE;case _.UX.ACTIVITY:return S.Z.Messages.EMOJI_CATEGORY_ACTIVITY;case _.UX.FLAGS:return S.Z.Messages.EMOJI_CATEGORY_FLAGS;case _.UX.FOOD:return S.Z.Messages.EMOJI_CATEGORY_FOOD;case _.UX.NATURE:return S.Z.Messages.EMOJI_CATEGORY_NATURE;case _.UX.OBJECTS:return S.Z.Messages.EMOJI_CATEGORY_OBJECTS;case _.UX.PEOPLE:return S.Z.Messages.EMOJI_CATEGORY_PEOPLE;case _.UX.SYMBOLS:return S.Z.Messages.EMOJI_CATEGORY_SYMBOLS;case _.UX.TRAVEL:return S.Z.Messages.EMOJI_CATEGORY_TRAVEL;case _.UX.PREMIUM_UPSELL:return S.Z.Messages.EMOJI_CATEGORY_PREMIUM_UPSELL;default:return null!=t?t:e}},B=function(e){
return e!==O.HzX.COMMUNITY_CONTENT&&e!==O.HzX.COMMUNITY_CONTENT_ONLY&&e!==O.HzX.GUILD_STICKER_RELATED_EMOJI&&e!==O.HzX.GUILD_ROLE_BENEFIT_EMOJI&&e!==O.HzX.SOUNDBOARD},F=function(e){return e!==O.HzX.COMMUNITY_CONTENT_ONLY};function H(e,t,n){r.useEffect((function(){s.DZ.loadIfNecessary()}),[]);var o=B(n);return(0,a.e7)([d.Z],(function(){var r=e.replace(/^:/,"").replace(/:$/,"");return""===r?null:d.Z.searchWithoutFetchingLatest({channel:t,query:r,count:0,intention:n,includeExternalGuilds:o})}),[t,n,e,o],a.pF)}function V(e,t){r.useEffect((function(){t!==O.HzX.SOUNDBOARD&&s.DZ.loadIfNecessary()}),[t]);return(0,a.Wu)([d.Z],(function(){return t!==O.HzX.SOUNDBOARD?d.Z.getDisambiguatedEmojiContext(e).getFrequentlyUsedEmojisWithoutFetchingLatest():[]}))}function q(e){r.useEffect((function(){s.DZ.loadIfNecessary()}),[]);return(0,a.Wu)([d.Z],(function(){return d.Z.getDisambiguatedEmojiContext(e).favoriteEmojisWithoutFetchingLatest}))}function Y(e,t){r.useEffect((function(){s.DZ.loadIfNecessary()
}),[]);return(0,a.e7)([d.Z],(function(){return null!=t&&d.Z.getDisambiguatedEmojiContext(e).isFavoriteEmojiWithoutFetchingLatest(t)}))}function W(e){r.useEffect((function(){s.DZ.loadIfNecessary()}),[]);return(0,a.Wu)([d.Z],(function(){return d.Z.getDisambiguatedEmojiContext(e).getEmojiInPriorityOrderWithoutFetchingLatest()}))}var J=[];function K(e,t){var n=M((0,a.Wu)([d.Z],(function(){return[d.Z.getTopEmoji(e),d.Z.getNewlyAddedEmoji(e),d.Z.getBackfillTopEmojis(e)]})),3),r=n[0],o=n[1],i=n[2],u=(0,v.R)(!0),c=u.shouldSeeNewlyAddedEmoji,l=u.shouldSeeTopEmojiBar,s=g.useExperiment({}).shouldBackfillEmojis;return t===O.HzX.REACTION?{topEmojis:J,newlyAddedEmojis:J,backfillEmojis:J}:{topEmojis:l?r:J,newlyAddedEmojis:c?o:J,backfillEmojis:l&&s?i:J}}function z(e,t,n){var o=(0,a.Wu)([d.Z],(function(){return d.Z.emojiFrecencyWithoutFetchingLatest.frequently.slice()})),i=(0,a.e7)([d.Z],(function(){return d.Z.emojiFrecencyWithoutFetchingLatest.numFrequentlyItems})),u=(0,a.e7)([f.Z,y.Z],(function(){
return f.Z.getChannel(y.Z.getChannelId())})),c=(0,a.Wu)([d.Z],(function(){return null!=u?d.Z.getDisambiguatedEmojiContext(u.getGuildId()).favoriteEmojisWithoutFetchingLatest:[]})),l=o.slice(0,i),s=(0,a.cj)([d.Z],(function(){var e;return null!==(e=d.Z.getDisambiguatedEmojiContext(null==u?void 0:u.getGuildId()).groupedCustomEmojis)&&void 0!==e?e:{}})),p=r.useMemo((function(){var e=null==u?void 0:u.getGuildId();return null!=e?d.Z.getGuildEmoji(e):[]}),[u]),E=Object.values(s).reduce((function(e,t){return e+=t.length}),0),h=K(null==u?void 0:u.getGuildId(),e),m=h.topEmojis,g=h.newlyAddedEmojis,v=h.backfillEmojis,_=r.useCallback((function(){k({favoriteEmojis:c,frequentlyUsedEmoji:l,guildEmoji:p,emojisTotal:E,backfillEmojis:v,topEmojis:m,newlyAddedEmojis:g,pickerIntention:e,isBurstReaction:t,analyticsObject:n})}),[c,l,p,E,v,m,g,e,t,n]);r.useEffect((function(){e===O.HzX.REACTION&&_()}),[]);return{trackOnPickerOpen:_}}function X(e,t,n){if(null==n)return _.t0.NONE;var r,o,i=e.map((function(e){
return null!==(o=null!==(r=e.id)&&void 0!==r?r:e.uniqueName)&&void 0!==o?o:e.name})),a=t.map((function(e){return e.id}));return i.includes(n)?_.t0.TOP_GUILD_EMOJI:a.includes(n)?_.t0.NEWLY_ADDED_EMOJI:_.t0.NONE}function Q(e,t,n){var r,o=e.slice(0,9-t.length);if(o.length+t.length<9){var i,a=n.slice(0,9-e.length-t.length);(i=o).push.apply(i,R(a))}(r=o).push.apply(r,R(t));return o}function $(e){var t=new Set;return e.filter((function(e){if(null==e.uniqueName)return!0;if(!t.has(e.optionallyDiverseSequence)){t.add(e.optionallyDiverseSequence);return!0}}))}},195041:(e,t,n)=>{"use strict";n.d(t,{pj:()=>a,pr:()=>u,Zg:()=>c});var r=n(675860),o=n(173436),i=n(461061);function a(e){o.Z.dispatch({type:"TOP_EMOJIS_FETCH",guildId:e});r.Z.get({url:i.ANM.TOP_EMOJIS_FOR_GUILD(e),oldFormErrors:!0}).then((function(t){return o.Z.dispatch({type:"TOP_EMOJIS_FETCH_SUCCESS",guildId:e,topEmojisMetadata:t.body.items.map((function(e){return{emojiId:e.emoji_id,rank:e.emoji_rank}})).sort((function(e,t){
return e.rank-t.rank}))})}),(function(){return o.Z.dispatch({type:"TOP_EMOJIS_FETCH_FAILURE",guildId:e})}))}function u(e,t){o.Z.dispatch({type:"NEWLY_ADDED_EMOJI_SEEN_UPDATED"});null!=e&&null!=t&&o.Z.dispatch({type:"NEWLY_ADDED_EMOJI_SEEN_PENDING",guildId:e,emojiId:t})}function c(e,t){null!=e&&null!=t&&o.Z.dispatch({type:"NEWLY_ADDED_EMOJI_SEEN_ACKNOWLEDGED",guildId:e,emojiId:t})}},182634:(e,t,n)=>{"use strict";n.d(t,{O:()=>c});var r=n(630725),o=n(392115),i=n(859023),a=n(562717),u=n(195041);function c(e){if(null!=e){if(null!=i.default.getCurrentUser()){if((0,r.Y)().shouldSeeTopEmojiBar){var t=o.Z.getTopEmojisMetadata(e);if(null!=t){var n=t.topEmojisTTL;if(null==n||Date.now()<n)return}a.Z.getIsFetching(e)||(0,u.pj)(e)}}}}},109247:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(363010),o=n(173436);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1
;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function u(e){u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return u(e)}function c(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var s=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments)
;return c(this,n)}}var d=new Set,p={};function y(e){var t=e.applicationId;d.add(t)}function E(e){var t=e.applicationId;d.delete(t)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&l(e,t)}(n,e);var t=f(n);function n(){i(this,n);return t.apply(this,arguments)}var r=n.prototype;r.isLaunchable=function(e){if(null!=p[e])return p[e];p[e]=!1;o.Z.dispatch({type:"CHECK_LAUNCHABLE_GAME",gameId:e});return!1};r.__getLocalVars=function(){return{launchingGames:d,launchableGames:p}};!function(e,t,n){t&&a(e.prototype,t);n&&a(e,n)}(n,[{key:"launchingGames",get:function(){return d}},{key:"launchableGames",get:function(){return p}}]);return n}(r.ZP.Store);h.displayName="LaunchableGameStore";const m=new h(o.Z,{GAME_LAUNCHABLE_UPDATE:function(e){var t=e.gameId,n=e.isLaunchable;p[t]=n},GAME_CLOUD_SYNC_START:y,
GAME_LAUNCH_START:y,GAME_LAUNCH_SUCCESS:E,GAME_LAUNCH_FAIL:E,GAME_CLOUD_SYNC_CONFLICT:E,GAME_CLOUD_SYNC_ERROR:E,GAME_CLOUD_SYNC_COMPLETE:E})},617509:(e,t,n)=>{"use strict";n.d(t,{V6:()=>m,uS:()=>g,U8:()=>v,$q:()=>_,uF:()=>O});var r=n(923463),o=n(356004),i=n(461061),a=n(959797);function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return!0}catch(e){return!1}}function l(e,t,n){l=c()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));n&&p(o,n.prototype);return o};return l.apply(null,arguments)}function s(e){s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return s(e)}function f(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&p(e,t)}function d(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e,t){p=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return p(e,t)}var y=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function E(e){var t="function"==typeof Map?new Map:void 0;E=function(e){if(null===e||!(n=e,-1!==Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return l(e,arguments,s(this).constructor)}
r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}});return p(r,e)};return E(e)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}var m=function(e){f(n,e);var t=h(n);function n(){u(this,n);return t.apply(this,arguments)}return n}(E(Error)),g=function(e){f(n,e);var t=h(n);function n(){u(this,n);return t.apply(this,arguments)}return n}(E(Error)),v=new Set([i.evJ.AUTOMOD_MESSAGE_BLOCKED,i.evJ.AUTOMOD_TITLE_BLOCKED,i.evJ.AUTOMOD_INVALID_RUST_SERVICE_RESPONSE]);function _(e,t){if(null==e)return null;var n=e.code,r=e.message;if(!v.has(n))return null;if(null!=r)return r
;if(null==t)return null;var u=o.Z.getChannel(t);if(null==u?void 0:u.isThread())return a.Z.Messages.THREAD_AUTOMOD_ERROR;if((null==u?void 0:u.isForumPost())||(null==u?void 0:u.isForumChannel())){if(n===i.evJ.AUTOMOD_TITLE_BLOCKED)return a.Z.Messages.FORUM_POST_AUTOMOD_ERROR;if(n===i.evJ.AUTOMOD_MESSAGE_BLOCKED)return a.Z.Messages.FORUM_POST_AUTOMOD_ERROR}return null}function O(e,t){var n=_(t);return null!=n?n:null==e?a.Z.Messages.GUILD_AUTOMOD_BLOCKED_MESSAGE_SEND_NOTICE:function(e){var t=o.Z.getChannel(e.message.channelId);return(0,r.Bz)(e)?a.Z.Messages.GUILD_AUTOMOD_BLOCKED_MESSAGE_EDIT_NOTICE:(null==t?void 0:t.isThread())?a.Z.Messages.THREAD_AUTOMOD_ERROR:(null==t?void 0:t.isForumPost())||(null==t?void 0:t.isForumChannel())?a.Z.Messages.FORUM_POST_AUTOMOD_ERROR:a.Z.Messages.GUILD_AUTOMOD_BLOCKED_MESSAGE_SEND_NOTICE}(e)}},153445:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a,t:()=>u});var r=n(363010),o=n(33055),i=n(461061);function a(e){return(0,r.e7)([o.Z],(function(){
if(null==(null==e?void 0:e.id))return!1;var t=o.Z.isFullServerPreview(e.id),n=o.Z.isOnboardingEnabled(e.id);return t&&n}))||(null==e?void 0:e.hasFeature(i.oNc.GUILD_ONBOARDING_HAS_PROMPTS))}function u(e){if(null==e)return!1;var t=o.Z.isFullServerPreview(e.id),n=o.Z.isOnboardingEnabled(e.id);return t&&n||e.hasFeature(i.oNc.GUILD_ONBOARDING_HAS_PROMPTS)}},722792:(e,t,n)=>{"use strict";n.d(t,{Z:()=>I});var r=n(363010),o=n(173436),i=n(568369),a=n(517845);function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function l(e){l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return l(e)}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){c(e,t,n[t])}))}return e}function f(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function d(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e,t){p=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return p(e,t)}var y=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}var h={},m=null;function g(e,t){var n,r=null!==(n=h[e])&&void 0!==n?n:{code:e,state:a.Rj.RESOLVING};t(r=s({},r));h=f(s({},h),c({},e,r))}function v(e){_(e.guildTemplate)}function _(e){return g(e.code,(function(t){var n=(0,i.Z)(e);for(var r in n)t[r]=n[r]}))}function O(e){return g(e.code,(function(e){e.state=a.Rj.EXPIRED}))}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function")
;e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&p(e,t)}(n,e);var t=E(n);function n(){u(this,n);return t.apply(this,arguments)}var r=n.prototype;r.getGuildTemplate=function(e){return null!=e?h[e]:null};r.getGuildTemplates=function(){return h};r.getForGuild=function(e){for(var t in h){var n=h[t];if("sourceGuildId"in n&&n.sourceGuildId===e&&n.state!==a.Rj.EXPIRED)return n}};r.getDisplayedGuildTemplateCode=function(){return m};r.__getLocalVars=function(){return{guildTemplates:h,displayedGuildTemplateCode:m}};return n}(r.ZP.Store);b.displayName="GuildTemplateStore";const I=new b(o.Z,{GUILD_TEMPLATE_RESOLVE:function(e){var t=e.code;h=f(s({},h),c({},t,{code:t,state:a.Rj.RESOLVING}))},GUILD_TEMPLATE_CREATE_SUCCESS:v,GUILD_TEMPLATE_SYNC_SUCCESS:v,GUILD_TEMPLATE_RESOLVE_SUCCESS:v,GUILD_TEMPLATE_LOAD_FOR_GUILD_SUCCESS:function(e){e.guildTemplates.forEach((function(e){return _(e)}))},GUILD_TEMPLATE_RESOLVE_FAILURE:O,GUILD_TEMPLATE_DELETE_SUCCESS:O,
GUILD_TEMPLATE_ACCEPT:function(e){return g(e.code,(function(e){e.state=a.Rj.ACCEPTING}))},GUILD_TEMPLATE_ACCEPT_SUCCESS:function(e){return g(e.code,(function(e){e.state=a.Rj.ACCEPTED;var t;e.usageCount=(null!==(t=e.usageCount)&&void 0!==t?t:0)+1}))},GUILD_TEMPLATE_ACCEPT_FAILURE:function(e){return g(e.code,(function(e){e.state=a.Rj.RESOLVED}))},GUILD_TEMPLATE_MODAL_SHOW:function(e){m=e.code},GUILD_TEMPLATE_MODAL_HIDE:function(e){m=null}})},108268:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});function r(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=window.GLOBAL_ENV.INVITE_HOST;if(null!=r)e="/".concat(t);else{r=location.host;e="/invite/".concat(t)}return"".concat(n?"".concat(location.protocol,"//"):"").concat(r).concat(e)}},734754:(e,t,n)=>{"use strict";n.d(t,{y:()=>d,Z:()=>p});var r=n(74971),o=n.n(r),i=n(120053),a=n.n(i),u=n(608575);function c(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,
configurable:!0,writable:!0}):e[t]=n;return e}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){c(e,t,n[t])}))}return e}function s(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var f=["file:","javascript:","vbscript:","data:"];function d(e){try{var t,n=u.parse(e),r=null!==(t=n.protocol)&&void 0!==t?t:""
;if(f.includes(r.toLowerCase()))throw new Error("bad protocol");if(null==n.hostname||0===n.hostname.length)throw new Error("no hostname");n.hostname=o().toASCII(n.hostname);return{displayTarget:u.format(s(l({},n),{auth:void 0})),target:u.format(n)}}catch(e){return null}}const p=s(l({},a().defaultRules.link),{match:function(e,t,n){return t.allowLinks?a().defaultRules.link.match(e,t,n):null},parse:function(e,t,n){var r=a().unescapeUrl(e[2]);if(!/^https?:\/\//i.test(r))return t(e[1],n);var o=d(r);if(null==o)return{type:"text",content:r};var i=o.target;return{content:t(e[1],n),target:i,title:e[3]}}})},957201:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Ue});var r=n(496486),o=n.n(r),a=n(120053),u=n.n(a),c=n(725616),l=n(356004),s=n(653772),f=n(859023),d=n(570992),p=n(964199);const y=(0,n(553494).B)({kind:"user",id:"2023-02_discord_embeds",label:"Discord embeds",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enables fancy embedded links instead of raw Discord links",config:{enabled:!0}}]})
;var E=n(53211),h=n(8551),m=n(53551),g=n(105405),v=n(917870),_=n(268333),O=n(330717),b=n(461061),I=n(959797);function S(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){S(e,t,n[t])}))}return e}function T(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))
}));return e}var M=function(e){var t=l.Z.getChannel(e);return null==t?void 0:t.getGuildId()};function R(e){return{type:"guild",guildId:e.id,content:e.name,icon:v.ZP.getGuildIconURL({id:e.id,icon:e.icon,size:40})}}function P(e){return{type:"channel",content:e.name,channelType:e.type,iconType:e.iconType}}function L(e,t,n){return{type:"channelMention",guildId:e,channelId:t,messageId:n,inContent:null,content:[{type:"channel",content:I.Z.Messages.NO_ACCESS,channelType:b.d4z.UNKNOWN,iconType:"locked"}]}}function C(e){return{type:"channel",content:"",iconType:e?"post":"message"}}function w(e,t){var n,r,o=l.Z.getChannel(e),i=null!==(n=(0,_.wl)(o))&&void 0!==n?n:"text";if(null!=t){var a=t.find((function(t){return t.id===e}));if(null!=a)return{type:a.type,id:a.id,guildId:a.guild_id,name:a.name,isDm:null!=o&&o.isPrivate(),isForumPost:null!=o&&o.isForumPost(),isMentionable:!0,canViewChannel:!0,iconType:i,parentId:null==o?void 0:o.parent_id}}return null!=o?{type:o.type,id:o.id,guildId:o.guild_id,
name:(0,E.F6)(o,f.default,g.Z),isDm:o.isPrivate(),isForumPost:o.isForumPost(),isMentionable:(r=o.type,(0,m.r8)(r)||(0,m.bw)(r)),canViewChannel:(0,h.YO)(o),iconType:i,parentId:o.parent_id}:null}function D(e){return{type:"link",content:[{type:"text",content:e}],target:e,title:void 0}}function N(e){return{type:"text",content:e}}function j(e,t,n,r){if(!e.canViewChannel)return L(e.guildId,e.id,t);if(!e.isMentionable)return N("#".concat(e.name));var o={type:"channelMention",channelId:e.id,guildId:e.guildId,messageId:t},i=s.Z.getGuild(e.guildId);return null==i?e.isDm?T(A({},o),{inContent:[P(e)],content:[C(!1)]}):function(e){return null!=e?D(e):N("#".concat(I.Z.Messages.UNKNOWN_CHANNEL_PLACEHOLDER))}(r):A({},o,function(e,t,n,r){var o=R(e),i=P(t),a=C(t.isForumPost);if(n&&r){if(t.isForumPost){var u=l.Z.getChannel(t.parentId);if(null!=u){var c;return{inContent:[P({name:u.name,type:u.type,iconType:null!==(c=(0,_.wl)(u))&&void 0!==c?c:"forum"})],content:[i]}}}return{inContent:[i],content:[a]}}
return n&&!r?{inContent:null,content:[i]}:!n&&r?{inContent:[o],content:[t.isForumPost?i:a]}:n||r?void 0:{inContent:[o],content:[i]}}(i,e,e.guildId===n,null!=t))}const Z={channelMention:{order:O.ZP.order,match:function(e){return/^<#(\d+)>/.exec(e)},parse:function(e,t,n){var r=e[1];if(n.returnMentionIds)return{type:"channelMention",id:r};var o=y.getCurrentConfig({}).enabled,i=w(r,n.mentionChannels);return o?null==i?L(null,r,null):j(i,null,M(n.channelId)):null!=i&&i.canViewChannel&&i.isMentionable?{type:"channelMention",channelId:i.id,guildId:i.guildId,messageId:void 0,inContent:null,content:[{type:"channel",content:i.name,channelType:i.type,iconType:i.type===b.d4z.GUILD_VOICE?"voice":"text"}]}:{type:"text",content:"#".concat(null!=i?i.name:I.Z.Messages.DELETED_CHANNEL_PLACEHOLDER)}}},channelOrMessageUrl:{order:u().defaultRules.url.order-.5,match:function(e){var t=h.Jv.exec(e);if(null!=t){if(!y.getCurrentConfig({}).enabled)return null}return t},parse:function(e,t,n){
var r=e[0],o=e[1],i=e[2],a=e[3];if(null==i)return D(r);var u=w(i,null);return null==u?function(e,t,n,r){var o=s.Z.getGuild(e),i=(null==o?void 0:o.id)===r;return{type:"channelMention",guildId:e,channelId:t,messageId:n,inContent:null==o||i?null:[R(o)],content:[P({name:I.Z.Messages.UNKNOWN_CHANNEL,type:b.d4z.UNKNOWN,iconType:"text"})]}}(o,i,a,M(n.channelId)):j(u,a,M(n.channelId),r)}}};function U(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var x=/\n$/,k=function(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}(function(e){
for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){U(e,t,n[t])}))}return e}({},u().defaultRules.heading),{match:function(e,t,n){return t.allowHeading&&(null==n||""===n||null!=n.match(x))?(0,a.anyScopeRegex)(/^ *(#{1,3})(?:\s+)((?![#]+)[^\n]+?)#*\s*(?:\n|$)/)(e,t,n):null}});const G=k;var B=n(734754),F=n(441143),H=n.n(F);function V(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}
var q=/\n{2,}$/,Y=/(?:^|\n)( *)$/,W="( *)((?:[*-]|\\d+\\.)) +",J=new RegExp("^"+W),K=new RegExp(W+"[^\\n]*(?:\\n(?!\\1"+"(?:[*-]|\\d+\\.) )[^\\n]*)*(\n|$)","gm"),z=/ *\n$/,X=new RegExp("^( *)((?:[*-]|\\d+\\.)) [\\s\\S]+?(?:\\n(?! )(?!\\1(?:[*-]|\\d+\\.) )|$)"),Q=/^[ \t\v\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+$/,$=function(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){V(e,t,n[t])}))}return e}({},u().defaultRules.list),{match:function(e,t){if(!t.allowList)return null;var n=null==t.prevCapture?"":t.prevCapture[0],r=Y.exec(n);return null==r||Q.test(r[0])?null:X.exec(e)},parse:function(e,t,n){var r=e[2],o=r.length>1,i=o?+r:void 0,a=e[0].replace(q,"\n").match(K);H()(null!=a,"markup list items can not be parsed.");var u=!1;return{ordered:o,start:i,items:a.map((function(e,r){var o=J.exec(e),i=null!=o?o[0].length:0,c=new RegExp("^ {1,"+i+"}","gm"),l=e.replace(c,"").replace(J,""),s=r===a.length-1,f=-1!==l.indexOf("\n\n")||s&&u;u=f;var d,p=n.inline,y=n._list;n._list=!0;if(f){n.inline=!1;d=l.replace(z,"\n\n")}else{n.inline=!0;d=l.replace(z,"")}var E=t(d,n).map((function(e){"text"===e.type&&(e.content=e.content.replace(/\n+\s*$/,""));return e}));n.inline=p;n._list=y
;return E}))}}});const ee=$;var te=n(392115),ne=n(331478);function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function oe(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){u=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return re(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ae={s:{match:u().inlineRegex(/^~~([\s\S]+?)~~(?!_)/)},highlight:{order:O.ZP.order,match:function(){return null}},emoji:{order:O.ZP.order,match:function(e){var t=c.ZP.EMOJI_NAME_AND_DIVERSITY_RE.exec(e);return null!=t&&""!==c.ZP.convertNameToSurrogate(t[1])?t:null},parse:function(e){var t=ie(e,2),n=t[0],r=t[1],o=c.ZP.convertNameToSurrogate(r);return null==o||""===o?{type:"text",content:n}:{name:":".concat(r,":"),surrogate:o,src:ne.ZP.getURL(o)}}},customEmoji:{order:u().defaultRules.codeBlock.order,match:function(e){return/^<(a)?:(\w+):(\d+)>/.exec(e)},parse:function(e,t,n){var r=ie(e,4),o=(r[0],r[1]),i=r[2],a=r[3],u=n.guildId,c=te.Z.getDisambiguatedEmojiContext(u).getById(a),l=null==c||c.require_colons;null!=c&&(i=c.name);return{emojiId:a,name:l?":".concat(i,":"):i,animated:"a"===o}}},text:{parse:function(e){
var t=c.ZP.findInlineEmojisFromSurrogates(e[0]),n=0;return t.map((function(e){if("text"===e.type){var t={index:n,0:e.text};n+=e.text.length;return{type:"text",content:e.text,originalMatch:t}}var r={index:n,0:e.surrogate};n+=e.surrogate.length;return{type:"emoji",name:e.emojiName,surrogate:e.surrogate,src:ne.ZP.getURL(e.surrogate),originalMatch:r}}))}},looseEm:function(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){oe(e,t,n[t])}))}return e}({},u().defaultRules.em),{match:u().inlineRegex(new RegExp("^\\*(?=\\S)((?:\\*\\*|\\\\[\\s\\S]|\\s+(?:\\\\[\\s\\S]|[^\\s\\*\\\\]|\\*\\*)|[^\\s\\*\\\\])+?) {1,2}\\*(?!\\*)")),parse:function(e,t,n){return{type:"em",content:t(e[1],n),originalMatch:e}}})};const ue=ae;var ce=n(909009),le=n(60334),se=n(544934);function fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function de(e){if(Array.isArray(e))return e}function pe(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ye(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Ee(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function he(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){pe(e,t,n[t])}))}return e}function me(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function ge(e,t){return de(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){u=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||_e(e,t)||Ee()}function ve(e){return function(e){if(Array.isArray(e))return fe(e)}(e)||ye(e)||_e(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _e(e,t){if(e){if("string"==typeof e)return fe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fe(e,t):void 0}}var Oe=/^( *>>> +([\s\S]*))|^( *>(?!>>) +[^\n]*(\n *>(?!>>) +[^\n]*)*\n?)/,be=/^$|\n *$/,Ie=/^ *>>> ?/,Se=/^ *> ?/gm;function Ae(e){
var t=(0,B.y)(e[1]);return null==t?{type:"text",content:e[1]}:{type:"link",content:[{type:"text",content:t.displayTarget}],target:t.target,title:void 0}}var Te=function(e){var t=l.Z.getChannel(e);return null==t?void 0:t.getGuildId()},Me={newline:u().defaultRules.newline,paragraph:u().defaultRules.paragraph,escape:u().defaultRules.escape,blockQuote:me(he({},u().defaultRules.blockQuote),{match:function(e,t){var n=t.prevCapture,r=t.inQuote,o=t.nested;return!be.test(null!=n?n[0]:"")||r||o?null:Oe.exec(e)},parse:function(e,t,n){var r=e[0],o=Boolean(Ie.exec(r)),i=o?Ie:Se,a=r.replace(i,""),u=n.inQuote||!1,c=n.inline||!1;n.inQuote=!0;o||(n.inline=!0);var l=t(a,n);n.inQuote=u;n.inline=c;0===l.length&&l.push({type:"text",content:" "});return{content:l,type:"blockQuote"}}}),link:B.Z,autolink:me(he({},u().defaultRules.autolink),{parse:Ae}),url:me(he({},u().defaultRules.url),{match:function(e,t){if(!t.inline)return null;var n=/^((?:https?|steam):\/\/[^\s<]+[^<.,:;"'\]\s])/.exec(e);if(null!=n){
for(var r=0,o=n[0],i=o.length-1;i>=0&&")"===o[i];i--){var a=o.indexOf("(",r);if(-1===a){o=o.slice(0,o.length-1);break}r=a+1}n[0]=n[1]=o}return n},parse:Ae}),strong:u().defaultRules.strong,em:u().defaultRules.em,u:u().defaultRules.u,br:u().defaultRules.br,text:O.ZP,inlineCode:u().defaultRules.inlineCode,emoticon:{order:O.ZP.order,match:function(e){return/^(\\_\(\)_\/)/.exec(e)},parse:function(e){return{type:"text",content:e[1]}}},codeBlock:{order:u().defaultRules.codeBlock.order,match:function(e){return/^```(?:([a-z0-9_+\-.]+?)\n)?\n*([^\n][^]*?)\n*```/i.exec(e)},parse:function(e,t,n){var r,o;return{lang:null!==(r=e[1])&&void 0!==r?r:"",content:null!==(o=e[2])&&void 0!==o?o:"",inQuote:n.inQuote||!1}}},roleMention:{order:O.ZP.order,match:function(e){return/^<@&(\d+)>/.exec(e)},parse:function(e,t,n){var r=ge(e,2),o=(r[0],r[1]);if(n.returnMentionIds)return{type:"roleMention",id:o};var i=function(e){
return null!=e.guildId?s.Z.getGuild(e.guildId):null!=e.channelId?s.Z.getGuild(Te(e.channelId)):null}(n),a=null!=i?i.roles[o]:null;return null==a?{type:"text",content:"@".concat(I.Z.Messages.DELETED_ROLE_PLACEHOLDER)}:{type:"mention",channelId:n.channelId,guildId:null!=i?i.id:null,roleId:o,roleColor:a.color,color:a.color,colorString:a.colorString,content:[{type:"text",content:"@".concat(a.name)}]}}},mention:{order:O.ZP.order,match:function(e){return/^<@!?(\d+)>|^(@(?:everyone|here))/.exec(e)},parse:function(e,t,n){if(n.returnMentionIds)return null==e[1]?{type:"mention",text:e[0]}:{type:"mention",id:e[1]};var r,o,i=f.default.getUser(e[1]),a=l.Z.getChannel(n.channelId);if(null!=i){o=i.id;r=i.toString();if(null!=a){var u;r=null!==(u=d.Z.getNickname(a.getGuildId(),n.channelId,i))&&void 0!==u?u:p.ZP.getName(i)}}return{userId:o,channelId:n.channelId,guildId:null==a?void 0:a.getGuildId(),roleName:e[2],content:[{type:"text",content:null!=r?"@".concat(r):e[0]}]}}},
channelMention:Z.channelMention,channelOrMessageUrl:Z.channelOrMessageUrl,commandMention:{order:u().defaultRules.text.order,match:function(e){return RegExp("^<\\/((?:[-_\\p{Letter}\\p{Number}\\p{sc=Deva}\\p{sc=Thai}]{1,32})(?: [-_\\p{Letter}\\p{Number}\\p{sc=Deva}\\p{sc=Thai}]{1,32})?(?: [-_\\p{Letter}\\p{Number}\\p{sc=Deva}\\p{sc=Thai}]{1,32})?):(\\d+)>","u").exec(e)},parse:function(e,t,n){if(n.returnMentionIds)return{type:"commandMention",id:e[2]};var r,o=(de(r=e[1].split(" "))||ye(r)||_e(r,i)||Ee()).slice(1),a="".concat(e[2]).concat(ve(o).map((function(e){return"".concat(se.oQ).concat(e)})).join(""));return{channelId:n.channelId,commandId:e[2],commandName:e[1],commandKey:a,content:[{type:"text",content:"".concat(e[1])}]}}},emoji:{order:O.ZP.order,match:function(e){var t=c.ZP.EMOJI_NAME_RE.exec(e);return null!=t&&""!==c.ZP.convertNameToSurrogate(t[1])?t:null},parse:function(e){var t=c.ZP.convertNameToSurrogate(e[1]);return{type:"text",content:null==t||""===t?":".concat(e[1],":"):t}}
},customEmoji:{order:O.ZP.order,match:function(e){return/^<a?:(\w+):(\d+)>/.exec(e)},parse:function(e){return{type:"text",content:":".concat(e[1],":")}}},timestamp:{order:O.ZP.order-1,match:function(e){return ce.Ay.exec(e)},parse:function(e){var t=ge(e,3),n=t[1],r=t[2];return(0,ce.ZB)(n,r)}},s:{order:u().defaultRules.u.order,match:u().inlineRegex(/^~~([\s\S]+?)~~(?!_)/),parse:u().defaultRules.u.parse},spoiler:{order:O.ZP.order,match:function(e){return b.$92.exec(e)},parse:function(e,t,n){return{content:t(e[1],n),channelId:n.channelId}}},staticRouteLink:{order:O.ZP.order,match:function(e){return b.PEY.exec(e)},parse:function(e,t,n){return{content:[{type:"text",content:{home:I.Z.Messages.GUILD_HOME,browse:I.Z.Messages.CHANNEL_BROWSER_TITLE,customize:I.Z.Messages.CUSTOMIZE_COMMUNITY_TITLE}[e[1]]}],channelId:e[1],guildId:Te(n.channelId),id:e[1]}}},heading:G,list:ee},Re=(0,
le.Z)([Me,ue]),Pe=o().omit(Re,["inlineCode","codeBlock","br","blockQuote"]),Le=o().omit(Re,["codeBlock","br","mention","channel","roleMention"]),Ce=o().omit((0,le.Z)([Re,{inlineCode:{match:function(e,t,n){var r=Re.codeBlock.match(e,t,n);if(null!=r)return r;var o=Re.inlineCode.match(e,t,n);return null!=o?o:void 0}}}]),["blockQuote","codeBlock","br"]),we=o().omit(Re,["codeBlock","br","blockQuote"]),De=o().omit(Re,["codeBlock","br","mention","roleMention","channel","paragraph","newline"]),Ne=o().omit(Re,["codeBlock","blockQuote","br","channelOrMessageUrl"]);function je(e,t){return 0===e.length||(0===t||""===e.charAt(t-1).trim())}var Ze=(0,le.Z)([{highlightWord:{order:-1,match:function(e,t){if(null==t.highlightWord)return null;var n=e.indexOf(t.highlightWord);if(-1===n)return null;var r=!je(e,n);if(r)do{n=e.indexOf(t.highlightWord,n+1);r=!je(e,n)}while(r&&-1!==n);if(-1===n)return null;var o=e.substring(0,n),i=e.substring(n+t.highlightWord.length);return[e,t.highlightWord,o,i]},
parse:function(e,t,n){var r=t(e[2],n),o=t(e[3],n);return ve(r).concat([{type:"highlight",content:e[1]}],ve(o))}}},o().omit(Re,["url"])]);const Ue={RULES:Re,CHANNEL_TOPIC_RULES:Pe,EMBED_TITLE_RULES:Le,INLINE_REPLY_RULES:Ce,GUILD_VERIFICATION_FORM_RULES:we,GUILD_EVENT_RULES:Ne,PROFILE_BIO_RULES:De,AUTO_MODERATION_SYSTEM_MESSAGE_RULES:Ze}},330717:(e,t,n)=>{"use strict";n.d(t,{T9:()=>i,ZP:()=>u});var r=n(120053);function o(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var i=function(e){return new RegExp("^[\\s\\S]+?(?=".concat(e,"|[^0-9A-Za-z\\s\\u00ff-\\uffff]|\\n\\n| {2,}\\n|\\w+:\\S|[0-9]+\\.|$)"))},a=function(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})))
;n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){o(e,t,n[t])}))}return e}({},n.n(r)().defaultRules.text),{match:(0,r.anyScopeRegex)(/^[\s\S]+?(?=[^0-9A-Za-z\s\u00c0-\uffff]|\n\n| {2,}\n|\w+:\S|[0-9]+\.|$)/)});const u=a},909009:(e,t,n)=>{"use strict";n.d(t,{Qh:()=>a,K_:()=>u,Ay:()=>l,ZB:()=>s,He:()=>f});var r=n(730381),o=n.n(r),i=n(493316),a={t:function(e){return(0,i.vc)(e,"LT")},T:function(e){return(0,i.vc)(e,"LTS")},d:function(e){return(0,i.vc)(e,"L")},D:function(e){return(0,i.vc)(e,"LL")},f:function(e){return(0,i.vc)(e,"LLL")},F:function(e){return(0,i.vc)(e,"LLLL")},R:function(e){
var t=o().relativeTimeThreshold("s");o().relativeTimeThreshold("s",60);var n=o().relativeTimeThreshold("ss");o().relativeTimeThreshold("ss",-1);var r=o().relativeTimeThreshold("m");o().relativeTimeThreshold("m",60);var i=o()(e.toDate()).fromNow();o().relativeTimeThreshold("s",t);o().relativeTimeThreshold("ss",n);o().relativeTimeThreshold("m",r);return i}},u="f";Object.setPrototypeOf(a,null);var c=Object.keys(a).join("|"),l=new RegExp("^<t:(-?\\d{1,17})(?::(".concat(c,"))?>"));function s(e,t){var n=o()(1e3*Number(e));return{timestamp:e,format:t,parsed:n,full:a.F(n),formatted:(null!=t&&a[t]||a[u])(n)}}function f(e,t){return null!=t?"<t:".concat(e,":").concat(t,">"):"<t:".concat(e,">")}},60334:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});function r(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));o.forEach((function(t){r(e,t,n[t])}))}return e}function i(e){var t={},n=!0,r=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var c=a.value;for(var l in c)t[l]=l in t?o({},t[l],c[l]):o({},c[l])}}catch(e){r=!0;i=e}finally{try{n||null==u.return||u.return()}finally{if(r)throw i}}return t}},739388:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(363010),o=n(675860),i=n(173436),a=n(461061);function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function l(e){l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return l(e)}function s(e,t){
return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e,t){f=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return f(e,t)}var d=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}var y={burstCredits:0},E=function(e){var t=e.amount;y.burstCredits=t},h=function(){o.Z.get({url:a.ANM.BURST_CREDIT_BALANCE}).then((function(e){i.Z.dispatch({type:"BURST_CREDITS_SET",amount:e.body.amount})
})).catch((function(){}))},m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&f(e,t)}(n,e);var t=p(n);function n(){u(this,n);return t.apply(this,arguments)}var r=n.prototype;r.getState=function(){return y};r.__getLocalVars=function(){return{state:y,handleSetCreditBalance:E,handleFetchFromAPI:h}};!function(e,t,n){t&&c(e.prototype,t);n&&c(e,n)}(n,[{key:"remainingBurstCurrency",get:function(){return y.burstCredits}},{key:"hasAvailableBurstCurrency",get:function(){return this.remainingBurstCurrency>0}}]);return n}(r.ZP.Store);m.displayName="BurstReactionStore";m.persistKey="BurstReactionStore";const g=new m(i.Z,{BURST_CREDITS_SET:E,POST_CONNECTION_OPEN:h})},640753:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>Q})
;var r=n(496486),o=n.n(r),i=n(120053),a=n.n(i),u=n(725616),c=n(53211),l=n(957201),s=n(330717),f=n(178675),d=n(577028),p=n(409271),y=n(356004),E=n(392115),h=n(1812),m=n(212218),g=n(653772),v=n(940712),_=n(105405),O=n(893321),b=n(859023),I=n(774581),S=n(331478),A=n(461061),T=n(959797);function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function R(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){R(e,t,n[t])}))}return e}function L(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e)
;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){u=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||D(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e){return function(e){if(Array.isArray(e))return M(e)}(e)||function(e){
if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||D(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){if(e){if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?M(e,t):void 0}}function N(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(t[0]!==e)return null;var o=t.substr(e.length);return n.sortBy((function(e){return-e.text.length})).filter((function(e){var n=e.text;return 1===t.toLowerCase().indexOf(n.toLowerCase())})).sortBy((function(e){return e.text===o?0:1})).map((function(t){var n=t.id,o=t.text;return[e+o,n,r]})).first()}function j(e){return{order:e.order,match:e.match,
parse:function(t){return{type:e.type,content:t[0]}}}}function Z(e){return{match:a().anyScopeRegex(e),parse:function(e){return{type:"text",content:e[0]}}}}var U=l.Z.RULES,x=s.ZP,k=/^<@!?(\d+)>/,G=/^<@&(\d+)>/,B=/^<#(\d+)>/,F=/^<a?:(\w+):(\d+)>/,H=/(@everyone|@here)\b/,V={link:j(a().defaultRules.link),autolink:j(a().defaultRules.autolink),url:j(a().defaultRules.url),inlineCode:j(U.inlineCode),codeBlock:j(U.codeBlock),rawUserMention:Z(k),rawRoleMention:Z(G),rawChannelMention:Z(B),rawEmoji:Z(F),mention:{match:function(e,t,n){var r=n.split(" ").pop()+e;if(/^[^ ]+@[^ ]+\.[^ .]+/.test(r))return null;var o=N("@",e,t.users,"mention");if(o)return o;if(o=N("@",e,t.mentionableRoles,"roleMention"))return o;if(!(o=N("@",e,t.users.map((function(e){return L(P({},e),{text:e.text.split("#")[0]})})),"mention")))return null;var i=H.exec(e);if(null!=i&&o[0].length<=i[0].length)return null;if(""===n&&(0,f.BH)()){var a=f.vD.exec(e);if(null!=a&&o[0].length<=a[0].length)return null}return o},parse:function(e){
var t=C(e,3),n=t[1],r=t[2],o="@";"roleMention"===r&&(o+="&");return{type:r,content:"<".concat(o).concat(n,">")}}},channel:{match:function(e,t){return function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(t[0]!==e)return null;if('"'!==t[1])return N(e,t,n,r);for(var o=2;o<t.length;o++)if("\\"!==t[o]){if('"'===t[o])break}else o++;var i=t.substring(0,o+1),a=(0,c.mA)(t.substring(2,o));return n.sortBy((function(e){return-e.text.length})).filter((function(e){var t=e.text;return a===t})).map((function(e){var t=e.id;return[i,t,r]})).first()}("#",e,t.channels)},parse:function(e){return{type:"text",content:"<#".concat(e[1],">")}}},emoticon:{match:function(e,t,n){if(!p.ev.getSetting())return null;if(0!==n.length&&!/\s$/.test(n))return null;var r=u.ZP.EMOJI_SHORTCUT_RE.exec(e);return null==r||r[0].length!==e.length&&" "!==e[r[0].length]&&"\n"!==e[r[0].length]?null:r},parse:function(e){return{type:"emoticon",content:u.ZP.convertShortcutToName(e[1]),isShortcut:!0}}},
emoji:{order:U.emoji.order,match:function(e){return u.ZP.EMOJI_NAME_RE.exec(e)},parse:function(e,t,n){var r=C(e,2),o=r[0],i=r[1],a=n.customEmoji,u=Object.prototype.hasOwnProperty.call(a,i)?a[i]:null;if(null!=u){var c;return{type:"customEmoticon",content:"<".concat(!0===u.animated?"a":"",":").concat(null!==(c=u.originalName)&&void 0!==c?c:u.name,":").concat(u.id,">"),emoji:u}}return{type:"text",content:o}}},customEmoticons:{match:function(e,t){var n,r;return null!==(r=null===(n=t.customEmoticonsRegex)||void 0===n?void 0:n.exec(e))&&void 0!==r?r:null},parse:function(e,t,n){var r=C(e,2),o=r[0],i=r[1],a=n.emojiContext.getEmoticonByName(i);return null!=a?{type:"customEmoticon",content:"<".concat(!0===a.animated?"a":"",":").concat(a.name,":").concat(a.id,">"),emoji:a}:{type:"text",content:o}}},text:L(P({},x),{match:function(e,t){return"string"==typeof t.textExclusions&&""!==t.textExclusions?(0,s.T9)(t.textExclusions).exec(e):null!=x.match?x.match(e,t,""):null}})},q={
inlineCode:j(U.inlineCode),codeBlock:j(U.codeBlock),mention:{match:a().anyScopeRegex(k),parse:function(e,t,n){var r=n.isNotification,o=b.default.getUser(e[1]),i=r&&O.Z.enabled||null==o?"":"#".concat(o.discriminator);return{content:null==o?e[0]:"@".concat(o.username).concat(i)}}},roleMention:{match:a().anyScopeRegex(G),parse:function(e,t,n){var r=n.guild;if(null!=r){var o=r.roles[e[1]];if(null!=o)return{content:"@".concat(o.name)}}return{content:e[0]}}},channel:{match:a().anyScopeRegex(B),parse:function(e){var t=y.Z.getChannel(e[1]);return{content:null==t?e[0]:(0,c.F6)(t,b.default,_.Z,!0,!0)}}},emoji:{match:a().anyScopeRegex(F),parse:function(e,t,n){var r=C(e,3),o=(r[0],r[1]),i=r[2],a=n.guild,u=E.Z.getDisambiguatedEmojiContext(a?a.id:null).getById(i),c=null!=u?u.name:o;return{content:":".concat(c,":")}}},spoiler:{match:a().anyScopeRegex(A.$92),parse:function(){return{content:"<".concat(T.Z.Messages.SPOILER.toLowerCase(),">")}}},staticRouteLink:{match:a().anyScopeRegex(A.PEY),
parse:function(e){return{content:"<id:".concat(e[1],">")}}},timestamp:L(P({},U.timestamp),{parse:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,o=(r=U.timestamp).parse.apply(r,w(t));return{content:o.formatted}}}),text:P({},x)};[V,q].forEach((function(e){Object.keys(e).forEach((function(t,n){e[t].order=n}))}));var Y=a().parserFor(V),W=/(?:<a?:\w+:(\d+)>)|:(?:([^\s:]+?)(?:::skin-tone-\d)?:)/g;function J(e,t,n,r){var o="";e.forEach((function(e){!function(e,t,n){if(null!=n){"customEmoticon"===t.type&&n(t.emoji,!1);if("emoticon"===t.type||"text"===t.type)for(var r,o=u.ZP.translateSurrogatesToInlineEmoji(t.content);null!==(r=W.exec(o));){var i=void 0;null!=r[1]&&""!==r[1]?e.emojiContext&&(i=e.emojiContext.getById(r[1])):i=u.ZP.getByName(r[2]);i&&n(i,t.isShortcut||!1)}}}(t,e,r);if("string"==typeof e.content)switch(e.type){case"codeBlock":case"inlineCode":case"mention":case"roleMention":case"channel":case"emoji":o+=e.content;break;default:
o+=n(e.content)}else e.content.constructor===Array?o+=J(e.content,t,n,r):console.warn("Unknown message item type: ",e)}));return o}function K(e,t,n){return J(Y(e,t),t,u.ZP.translateInlineEmojiToSurrogates,n)}function z(e){var t,n=null==e?void 0:e.getGuildId(),r=null!=n?g.Z.getGuild(n):null,i=v.Z.can(A.Plq.MENTION_EVERYONE,e);t=(null==e?void 0:e.isPrivate())?e.recipients.map((function(e){return{userId:e,nick:null}})):null!=n?m.ZP.getMembers(n).map((function(e){return{userId:e.userId,nick:e.nick}})):[];var a=o()(t.reduce((function(e,t){var n=t.userId,r=b.default.getUser(n);if(null==r)return e;e.push({id:n,text:"".concat(r.username,"#").concat(r.discriminator)});return e}),[])),u=o()(null!=r?r.roles:{}).values().filter((function(e){var t=e.mentionable;return i||t})).map((function(e){return{id:e.id,text:e.name}})),c=o()(h.ZP.getTextChannelNameDisambiguations(n)).map((function(e){return{id:e.id,text:e.name}})),l=null!=n?o()(I.k1).filter((function(e){return e!==h.sH})).flatMap((function(e){
return h.ZP.getChannels(n)[e].map((function(e){return{id:e.channel.id,text:e.channel.name}}))})).value():[],s=d.Z.computeAllActiveJoinedThreads(n).map((function(e){return{id:e.id,text:e.name}})),f=E.Z.getDisambiguatedEmojiContext(n),p=f.getEscapedCustomEmoticonNames(),y=f.getCustomEmoji(),_=f.getCustomEmoticonRegex();return{inline:!0,mentionableRoles:u,guild:r,users:a,channels:c.concat(l).concat(s),emojiContext:f,customEmoticonsRegex:_,customEmoji:y,textExclusions:p,disableErrorGuards:!0}}function X(e){return e}const Q={parse:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=null!=n?n:z(e),o={content:t,tts:!1,invalidEmojis:[],validNonShortcutEmojis:[]};o.content=K(o.content,r,(function(t,n){S.ZP.isEmojiPremiumLocked(t,e,A.HzX.CHAT)?o.invalidEmojis.push(t):n||o.validNonShortcutEmojis.push(t)}));return o},parsePreprocessor:function(e,t){var n=z(e);return Y(t,n)},unparse:function(e,t,n){
var r=y.Z.getChannel(t),i=null!=r?r.getGuildId():null,c=null!=i?g.Z.getGuild(i):null,l=n?q:o().omit(q,["spoiler","timestamp"]),s=n?X:u.ZP.translateSurrogatesToInlineEmoji,f={inline:!0,guild:c,isNotification:n};return J(a().parserFor(l)(e,f),f,s)}}},790948:(e,t,n)=>{"use strict";n.d(t,{rv:()=>s,pe:()=>f,ZP:()=>d,cs:()=>p});var r=n(441143),o=n.n(r),i=n(778667),a=n(775041),u=n(859023),c=n(346529),l=n(461061);function s(){return c.Z.fromTimestamp(Date.now())}function f(e){return{id:e.id,username:e.username,avatar:e.avatar,discriminator:e.discriminator,bot:e.bot}}function d(e){var t=e.channelId,n=e.content,r=e.tts,c=void 0!==r&&r,d=e.type,p=void 0===d?l.uaV.DEFAULT:d,y=e.messageReference,E=e.allowedMentions,h=e.author,m=e.flags,g=[];if(p===l.uaV.REPLY){o()(null!=y,"Replies must have a message reference");if(null==E||E.replied_user){var v=i.Z.getMessageByReference(y);(null==v?void 0:v.state)===i.Y.LOADED&&g.push(f(v.message.author))}}null==h&&(h=u.default.getCurrentUser())
;h instanceof a.Z&&(h=f(h));o()(null!=h,"createMessage: author cannot be undefined");return{id:s(),type:p,content:n,channel_id:t,author:h,attachments:[],embeds:[],pinned:!1,mentions:g,mention_channels:[],mention_roles:[],mention_everyone:!1,timestamp:(new Date).toISOString(),state:l.yb.SENDING,tts:c,message_reference:y,flags:m}}function p(e){var t=e.channelId,n=e.content,r=e.embeds,o=e.loggingName;return{id:s(),type:l.uaV.DEFAULT,flags:l.iLy.EPHEMERAL,content:n,channel_id:t,author:{id:l.LAt,username:"Clyde",discriminator:l.fo$,avatar:"clyde",bot:!0},attachments:[],embeds:null!=r?r:[],pinned:!1,mentions:[],mention_channels:[],mention_roles:[],mention_everyone:!1,timestamp:(new Date).toISOString(),state:l.yb.SENT,tts:!1,loggingName:o}}},110606:(e,t,n)=>{"use strict";n.d(t,{w:()=>i,O:()=>a});var r=n(23816),o=n(461061);function i(){r.ZP.trackWithMetadata(o.rMx.NOTIFICATION_CTA_CLICKED,{notification_type:o.j_x.REMINDER_NOTIFICATION,action:o.N4o.GUILD_INVITE,dismissed:!1})}function a(){
r.ZP.trackWithMetadata(o.rMx.NOTIFICATION_CTA_CLICKED,{notification_type:o.j_x.REMINDER_NOTIFICATION,action:o.N4o.GUILD_INVITE,dismissed:!0})}},551198:(e,t,n)=>{"use strict";n.d(t,{g:()=>r,Z:()=>m});var r,o=n(785893),i=(n(667294),n(331535)),a=n(487502),u=n(889373),c=n(757987),l=n(67416),s=n(959797),f=n(624513),d=n.n(f);function p(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){p(e,t,n[t])}))}return e}function E(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){
var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}!function(e){e[e.CONTINUE=0]="CONTINUE";e[e.UPGRADE=1]="UPGRADE";e[e.PURCHASE=2]="PURCHASE"}(r||(r={}));var h=function(e){var t=e.onBack,n=e.backText,f=e.primaryIcon,p=e.primaryCTA,h=e.primaryType,m=e.primaryText,g=e.primaryTooltip,v=e.primaryDisabled,_=e.primarySubmitting,O=e.onPrimary,b=e.secondaryText,I=e.onSecondary;return(0,o.jsxs)(l.mz,{justify:a.Z.Justify.BETWEEN,align:a.Z.Align.CENTER,children:[function(){if(null==p||null==m)return null;var e=p===r.PURCHASE?u.C:i.zx,t={innerClassName:d().button,type:h,disabled:v,submitting:_,color:p===r.CONTINUE?i.zx.Colors.BRAND:i.zx.Colors.GREEN,onClick:O};return null!=g?(0,o.jsx)(c.ZP,{text:g,children:function(n){return(0,o.jsxs)(e,E(y({},n,t),{children:[null==f?null:(0,o.jsx)(f,{
className:d().primaryIcon}),m]}))}}):(0,o.jsxs)(e,E(y({},t),{children:[null==f?null:(0,o.jsx)(f,{className:d().primaryIcon}),m]}))}(),null==b?null:(0,o.jsx)(i.zx,{color:i.zx.Colors.PRIMARY,look:i.zx.Looks.LINK,onClick:I,children:b}),null==t?null:(0,o.jsx)(i.zx,{className:d().back,color:i.zx.Colors.PRIMARY,look:i.zx.Looks.LINK,onClick:t,children:null!=n?n:s.Z.Messages.BACK})]})};h.CTAType=r;const m=h},282004:(e,t,n)=>{"use strict";n.d(t,{ew:()=>I,SE:()=>b,EL:()=>S,AI:()=>O});var r=n(173436),o=n(631134),i=n(114193),a=n(959154),u=n(496486),c=n.n(u),l=n(932847),s=n(452689),f=n(461061);function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){u=!0
;o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e){switch(e){case s.oZ.CHAT_INPUT:return"chat_input";case s.oZ.MENTION:return"mention";case s.oZ.VOICE_USER:return"voice_user"}}function E(e){switch(e){case s.Hn.CHAT_INPUT:return"chat_input";case s.Hn.MEMBER_USER:return"member_user";case s.Hn.REACTION:return"reaction";case s.Hn.CALL_TILE:return"call_tile"}}function h(e,t){return Object.entries(e).filter((function(e){var t=p(e,2);t[0];return t[1]})).map((function(e){
var n=p(e,1)[0];return t(Number.parseInt(n))}))}const m=c().throttle((function(e){var t=e.enabled,n=e.combosEnabled,r=e.combosRequiredCount,o=e.screenshakeEnabled,i=e.shakeIntensity,a=e.screenshakeEnabledLocations,u=e.confettiEnabled,c=e.confettiSize,s=e.confettiCount,d=e.confettiEnabledLocations;l.default.track(f.rMx.POGGERMODE_SETTINGS_UPDATED,{enabled:t,combos_enabled:n,combos_required_count:r,screenshake_enabled:o,shake_intensity:i,screenshake_enabled_locations:h(a,y),confetti_enabled:u,confetti_size:c,confetti_count:s,confetti_enabled_locations:h(d,E)})}),5e3);function g(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){
g(e,t,n[t])}))}return e}function _(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function O(e){r.Z.dispatch({type:"POGGERMODE_SETTINGS_UPDATE",settings:e});var t=v({},i.Z.getState(),e);m(t)}function b(e){r.Z.dispatch(v({type:"POGGERMODE_UPDATE_COMBO"},e))}function I(e){r.Z.dispatch({type:"POGGERMODE_UPDATE_MESSAGE_COMBO",comboMessage:_(v({},e),{displayed:!0})})}function S(e,t){var n,i=o.default.getId(),u=a.ZP.getUserCombo(i,e);null!=u&&r.Z.dispatch({type:"POGGERMODE_UPDATE_MESSAGE_COMBO",comboMessage:{combo:u,channelId:e,messageId:t,displayed:!1}})
;var c=null!=u&&(null==u?void 0:u.value)>0?(null!==(n=null==u?void 0:u.multiplier)&&void 0!==n?n:0)+1:1;r.Z.dispatch({type:"POGGERMODE_UPDATE_COMBO",channelId:e,userId:i,multiplier:c,value:0})}},452689:(e,t,n)=>{"use strict";n.d(t,{Hn:()=>c,oZ:()=>l,qi:()=>s,JR:()=>E,u4:()=>h});function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){o(e,t,n[t])}))}return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e)
;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){u=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)
}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var c,l,s,f;!function(e){e[e.CHAT_INPUT=0]="CHAT_INPUT";e[e.REACTION=1]="REACTION";e[e.MEMBER_USER=2]="MEMBER_USER";e[e.CALL_TILE=3]="CALL_TILE"}(c||(c={}));!function(e){e[e.CHAT_INPUT=0]="CHAT_INPUT";e[e.VOICE_USER=1]="VOICE_USER";e[e.MENTION=2]="MENTION"}(l||(l={}));!function(e){e[e.LEVEL_1=0]="LEVEL_1";e[e.LEVEL_2=1]="LEVEL_2";e[e.LEVEL_3=2]="LEVEL_3";e[e.LEVEL_4=3]="LEVEL_4";e[e.LEVEL_5=4]="LEVEL_5"}(s||(s={}));var d,p,y=(o(f={},s.LEVEL_1,[[1,1e-4],[25,.05],[50,.1],[100,.5],[250,1],[500,2],[1e3,3],[9001,4]]),o(f,s.LEVEL_2,[[1,1e-4],[25,.25],[50,.5],[100,1],[250,2.5],[500,5],[1e3,7.5],[9001,10]]),o(f,s.LEVEL_3,[[1,.001],[25,.5],[50,1],[100,2],[250,4],[500,8],[1e3,12],[9001,16]]),o(f,s.LEVEL_4,[[1,.25],[25,.75],[50,1],[100,2],[250,4],[500,8],[1e3,20],[9001,50]]),
o(f,s.LEVEL_5,[[1,.001],[25,.5],[50,1],[100,2],[250,5],[500,10],[1e3,100],[9001,1e4]]),f),E=Object.keys(y).reduce((function(e,t){return a(i({},e),o({},t,y[t].map((function(e){return u(e,1)[0]}))))}),(o(d={},s.LEVEL_1,[]),o(d,s.LEVEL_2,[]),o(d,s.LEVEL_3,[]),o(d,s.LEVEL_4,[]),o(d,s.LEVEL_5,[]),d)),h=Object.keys(y).reduce((function(e,t){return a(i({},e),o({},t,y[t].map((function(e){var t=u(e,2);t[0];return t[1]}))))}),(o(p={},s.LEVEL_1,[]),o(p,s.LEVEL_2,[]),o(p,s.LEVEL_3,[]),o(p,s.LEVEL_4,[]),o(p,s.LEVEL_5,[]),p))},114193:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var r=n(496486),o=n(363010),i=n(173436),a=n(452689);function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function l(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}
function s(e){s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return s(e)}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){l(e,t,n[t])}))}return e}function d(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e,t){p=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return p(e,t)}var y=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1
;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}var h,m,g=!1,v={settingsVisible:!1,enabled:!1,combosEnabled:!0,combosRequiredCount:5,comboSoundsEnabled:!0,screenshakeEnabled:!0,screenshakeEnabledLocations:(h={},l(h,a.oZ.CHAT_INPUT,!0),l(h,a.oZ.VOICE_USER,!1),l(h,a.oZ.MENTION,!1),h),shakeIntensity:1,confettiEnabled:!0,confettiEnabledLocations:(m={},l(m,a.Hn.CHAT_INPUT,!0),l(m,a.Hn.REACTION,!0),l(m,a.Hn.MEMBER_USER,!0),l(m,a.Hn.CALL_TILE,!0),m),confettiSize:16,confettiCount:5,warningSeen:!1},_=(0,r.cloneDeep)(v);var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}})
;t&&p(e,t)}(n,e);var t=E(n);function n(){u(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(e){_=f({},_,e)};r.getUserAgnosticState=function(){return _};r.isEnabled=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.confettiLocation,n=e.shakeLocation,r=null==t||_.confettiEnabled&&_.confettiEnabledLocations[t],o=null==n||_.screenshakeEnabled&&_.screenshakeEnabledLocations[n];return this.settingsVisible&&!g&&_.enabled&&r&&o};r.__getLocalVars=function(){return{temporarilyDisabled:g,state:_}};!function(e,t,n){t&&c(e.prototype,t);n&&c(e,n)}(n,[{key:"settingsVisible",get:function(){return _.settingsVisible}},{key:"shakeIntensity",get:function(){return this.isEnabled()?_.shakeIntensity:0}},{key:"combosRequiredCount",get:function(){return this.isEnabled()?_.combosRequiredCount:0}},{key:"screenshakeEnabled",get:function(){return _.screenshakeEnabled}},{key:"screenshakeEnabledLocations",get:function(){return _.screenshakeEnabledLocations}
},{key:"combosEnabled",get:function(){return _.combosEnabled}},{key:"comboSoundsEnabled",get:function(){return _.comboSoundsEnabled}}]);return n}(o.ZP.DeviceSettingsStore);O.displayName="PoggermodeSettingsStore";O.persistKey="PoggermodeSettingsStore";const b=new O(i.Z,{POGGERMODE_SETTINGS_UPDATE:function(e){var t=e.settings;_=f({},_,t)},POGGERMODE_TEMPORARILY_DISABLED:function(){g=!0}})},959154:(e,t,n)=>{"use strict";n.d(t,{wU:()=>L,ZP:()=>D});var r=n(363010),o=n(105994),i=n(365523),a=n(173436),u=n(631134),c=n(379822),l=n(882699),s=n(114193),f=n(447086),d=n(452689),p=n(461061);function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function h(e){h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return h(e)}function m(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){E(e,t,n[t])}))}return e}function g(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function v(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e)
;for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function _(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function O(e,t){O=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return O(e,t)}var b=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _(this,n)}}var S=1e3,A=new Set,T=new o.Z((function(e){return[e.userId,e.channelId]
}),(function(e){var t=e.userId,n=e.channelId;return"".concat(n,"-").concat(t)}));var M=new o.Z((function(e){return[e.messageId,e.channelId,e.combo.userId]}),(function(e){var t=e.messageId,n=e.channelId,r=e.combo.userId;return"".concat(n,"-").concat(r,"-").concat(t)})),R=function(e){var t=e.userId,n=e.channelId;return"".concat(t,"-").concat(n)};function P(e){var t,n,r,o,a,u=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],c=T.get(R(e)),l=g(m({},c,e),{value:null!==(n=null!==(t=e.value)&&void 0!==t?t:null==c?void 0:c.value)&&void 0!==n?n:0,multiplier:Math.min(null!==(o=null!==(r=e.multiplier)&&void 0!==r?r:null==c?void 0:c.multiplier)&&void 0!==o?o:1,7),decayInterval:null!==(a=null==c?void 0:c.decayInterval)&&void 0!==a?a:new i.Xp});T.set(R(e),l);if(u){var s;null===(s=l.decayInterval)||void 0===s||s.start(S,(function(){var e=T.get(R(l));if(null!=e){var t=l.multiplier!==e.multiplier&&l.value!==e.value;if(e.value<=0||t){var n;null===(n=e.decayInterval)||void 0===n||n.stop()
;if(e.value<=0){P(g(m({},e),{value:0,multiplier:1}));w.emitChange()}}else{P(g(m({},e),{value:e.value-1}));w.emitChange()}}}))}}function L(e,t,n,r){if(e!==t)return!1;if(null==n||r.has(n))return!1;r.add(n);return!0}var C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&O(e,t)}(n,e);var t=I(n);function n(){y(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(u.default,c.Z)};r.getComboScore=function(e,t){var n=T.get(R({userId:e,channelId:t}));return null==n?0:(0,f.Eo)(n)};r.getUserCombo=function(e,t){return T.get(R({userId:e,channelId:t}))};r.isComboing=function(e,t){var n=this.getUserCombo(e,t);return null!=n&&n.value>=s.Z.combosRequiredCount&&function(e){return null!=e&&(e.value>0||(null==e?void 0:e.multiplier)>1)}(n)};r.getMessageCombo=function(e){var t,n=M.get(e)
;return null!==(t=null==n?void 0:n.combo)&&void 0!==t?t:void 0};r.getMostRecentMessageCombo=function(e){var t=M.values(e);return t[t.length-1]};r.getUserComboShakeIntensity=function(e,t,n,r){var o=this.getUserCombo(e,t);return null!=o?(0,f.KH)(o,r)*n:0};r.__getLocalVars=function(){return{MAX_MULTIPLIER:7,DECAY_DELAY:S,trackedMessageNonces:A,comboStore:T,messageComboStore:M,store:w}};return n}(r.ZP.Store);C.displayName="PoggermodeStore";var w=new C(a.Z,{POGGERMODE_UPDATE_COMBO:function(e){e.type;var t=v(e,["type"]);if(!s.Z.isEnabled())return!1;P(t)},POGGERMODE_UPDATE_MESSAGE_COMBO:function(e){var t,n=e.comboMessage;if(!s.Z.isEnabled())return!1;t=n,M.set(t.messageId,t)},MESSAGE_CREATE:function(e){var t=e.channelId,n=e.message,r=n.mentions,o=n.author,i=n.nonce;if(!s.Z.isEnabled())return!1;var a=u.default.getId();if(!L(o.id,a,i,A))return!1;var c=T.get(R({userId:o.id,channelId:t}));if(s.Z.screenshakeEnabled&&s.Z.screenshakeEnabledLocations[d.oZ.MENTION]&&null!=r&&null!=r.find((function(e){
return e.id===a}))){var y,E=null!=c?null!==(y=(0,f.KH)(c,d.qi.LEVEL_4))&&void 0!==y?y:.001:4*Math.random();l.S.dispatch(p.CkL.SHAKE_APP,{duration:1e3,intensity:E});return!0}return!1}});const D=w},447086:(e,t,n)=>{"use strict";n.d(t,{KH:()=>c,nc:()=>d,yz:()=>p,Eo:()=>y});var r=n(452689),o=n(461061);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){u=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var u=function(e,t){var n=e.multiplier,r=e.value,o=a(t,2),i=o[0],u=o[1],c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,l=r*n;if(l<=0)return 0;var s=i.reduce((function(e,t,n){if(l>t){var r=u[n];if(n+1===i.length)return u[n];var o=i[n+1],a=u[n+1];return(l-t)/(o-t)*(a-r)+r}return l===t?u[n]:e}),0);return Math.min(c,s)},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.qi.LEVEL_3;return u(e,[r.JR[t],r.u4[t]],1e5)},l=[[1,.001],[25,.3],[100,.5],[250,.8],[500,.9],[2500,.95],[9001,1]],s=l.map((function(e){return a(e,1)[0]})),f=l.map((function(e){var t=a(e,2);t[0];return t[1]})),d=function(e){return u(e,[s,f],1)},p=function(e){return 1===e?{
color:o.Ilk.BRAND_500}:2===e||3===e?{color:o.Ilk.GREEN_360}:4===e||5===e?{color:o.Ilk.YELLOW_300,square:!0}:6===e?{color:o.Ilk.RED_400,square:!0}:{color:o.Ilk.ORANGE_345,flair:!0}};function y(e){var t;return e.value*(null!==(t=e.multiplier)&&void 0!==t?t:1)}},778667:(e,t,n)=>{"use strict";n.d(t,{Y:()=>g,Z:()=>N});var r=n(5387),o=n.n(r),i=n(363010),a=n(173436),u=n(353098),c=n(819525),l=n(356004),s=n(171447),f=n(461061);function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e){y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return y(e)}function E(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e,t){h=Object.setPrototypeOf||function(e,t){
e.__proto__=t;return e};return h(e,t)}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){u=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var g,v=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return E(this,n)}}!function(e){e[e.LOADED=0]="LOADED";e[e.NOT_LOADED=1]="NOT_LOADED";e[e.DELETED=2]="DELETED"}(g||(g={}));var O=Object.freeze({state:g.NOT_LOADED}),b=new Set,I=function(){function e(){var t=this;p(this,e);this._cachedMessages=new(o())({max:100,dispose:function(e,n){return t.handleCacheDisposed(e,n)}});this._cachedMessageIds=new Set}var t=e.prototype;t.handleCacheDisposed=function(e,t){if(this._cachedMessageIds.has(e)){this._cachedMessageIds=new Set(this._cachedMessageIds)
;this._cachedMessageIds.delete(e)}};t.set=function(e,t){this._cachedMessages.set(e,t);if(!this._cachedMessageIds.has(e)){this._cachedMessageIds=new Set(this._cachedMessageIds);this._cachedMessageIds.add(e)}};t.has=function(e){return this._cachedMessageIds.has(e)};t.get=function(e){return this._cachedMessages.get(e)};t.getCachedMessageIds=function(){return this._cachedMessageIds};return e}(),S=new(function(){function e(){p(this,e);this._channelCaches=new Map}var t=e.prototype;t.has=function(e,t){var n,r;return null!==(r=null===(n=this._channelCaches.get(e))||void 0===n?void 0:n.has(t))&&void 0!==r&&r};t.get=function(e,t){var n;return null===(n=this._channelCaches.get(e))||void 0===n?void 0:n.get(t)};t.set=function(e,t,n){var r=this._channelCaches.get(e);if(null==r){r=new I;this._channelCaches.set(e,r)}r.set(t,n)};t.updateExistingMessageIfCached=function(e){var t=this._channelCaches.get(e.channel_id);if(null==t)return!1;if(!t.has(e.id))return!1;t.set(e.id,{state:g.LOADED,message:(0,
c.e5)(e)});return!0};t.deleteChannelCache=function(e){return this._channelCaches.delete(e)};t.retainWhere=function(e){var t=[],n=!0,r=!1,o=void 0;try{for(var i,a=this._channelCaches[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=m(i.value,1)[0];e(u)||t.push(u)}}catch(e){r=!0;o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}var c=!0,l=!1,s=void 0;try{for(var f,d=t[Symbol.iterator]();!(c=(f=d.next()).done);c=!0){var p=f.value;this.deleteChannelCache(p)}}catch(e){l=!0;s=e}finally{try{c||null==d.return||d.return()}finally{if(l)throw s}}return t.length};t.getCachedMessageIdsForChannel=function(e){var t=this._channelCaches.get(e);return null==t?null:t.getCachedMessageIds()};t.clear=function(){this._channelCaches.clear()};return e}());function A(e){var t=!1;S.updateExistingMessageIfCached(e)&&(t=!0);if(f.OBS.has(e.type)){var n=e.message_reference;if(null==n)return t;var r=n.message_id;if(null==r)return t;if("referenced_message"in e){var o=e.referenced_message
;if(null!=o){S.set(o.channel_id,o.id,{state:g.LOADED,message:(0,c.e5)(o)});e.type===f.uaV.THREAD_STARTER_MESSAGE&&A(o)}else S.set(e.channel_id,r,{state:g.DELETED})}else{var i=s.Z.getMessage(n.channel_id,r);null!=i?S.set(n.channel_id,r,{state:g.LOADED,message:i}):S.set(n.channel_id,r,O)}t=!0}return t}function T(e,t){var n=!1,r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){n=!1!==t(a.value)||n}}catch(e){o=!0;i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}function M(e){return T(e.messages,(function(e){return A(e)}))}function R(e){return S.deleteChannelCache(e.channel.id)}function P(e,t){if(!S.has(e,t))return!1;S.set(e,t,{state:g.DELETED})}function L(){S.clear()}function C(e){var t=e.firstMessages;return null!=t&&T(t,(function(e){return A(e)}))}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function")
;e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&h(e,t)}(n,e);var t=_(n);function n(){p(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(s.Z,l.Z)};r.getMessageByReference=function(e){var t;null!=e&&(t=S.get(e.channel_id,e.message_id));return null!=t?t:O};r.getMessage=function(e,t){var n;return null!==(n=S.get(e,t))&&void 0!==n?n:O};r.getReplyIdsForChannel=function(e){var t;null!=e&&(t=S.getCachedMessageIdsForChannel(e));return null!=t?t:b};r.__getLocalVars=function(){return{NOT_LOADED:O,NO_IDS:b,referencedMessageCache:S,instance:D}};return n}(i.ZP.Store);w.displayName="ReferencedMessageStore";var D=new w(a.Z,{CACHE_LOADED:function(e){var t=e.messages;return T(Object.values(t),(function(e){return T(Object.values(e),(function(e){return A(e)}))}))},LOAD_MESSAGES_SUCCESS:M,LOAD_MESSAGES_AROUND_SUCCESS:M,SEARCH_FINISH:function(e){return T(e.messages,(function(e){return T(e,(function(e){return A(e)
}))}))},GUILD_FEED_FETCH_SUCCESS:function(e){var t=e.data;return T((0,u._)(t),(function(e){return A(e)}))},LOAD_THREADS_SUCCESS:C,LOAD_ARCHIVED_THREADS_SUCCESS:C,LOAD_FORUM_POSTS:function(e){var t=e.threads;return T(Object.values(t),(function(e){var t=e.first_message;return null!=t&&A(t)}))},MESSAGE_CREATE:function(e){var t=e.message;return!!s.Z.getMessages(t.channel_id).ready&&A(t)},MESSAGE_UPDATE:function(e){var t=e.message,n=t.id,r=t.channel_id;if(!S.has(r,n))return!1;var o=S.get(r,n);if(null==o||o.state!==g.LOADED)return!1;S.set(r,n,{state:g.LOADED,message:(0,c.wi)(o.message,t)})},MESSAGE_DELETE:function(e){var t=e.id;return P(e.channelId,t)},MESSAGE_DELETE_BULK:function(e){var t=e.ids,n=e.channelId;return T(t,(function(e){return P(n,e)}))},CREATE_PENDING_REPLY:function(e){var t=e.message;S.set(t.channel_id,t.id,{state:g.LOADED,message:t})},CHANNEL_DELETE:R,THREAD_DELETE:R,GUILD_DELETE:function(){if(0===S.retainWhere((function(e){return null!=l.Z.getChannel(e)})))return!1},
CONNECTION_OPEN:L,LOGOUT:L});const N=D},661311:(e,t,n)=>{"use strict";n.d(t,{eb:()=>r,cO:()=>c,kl:()=>l});var r,o=n(890889),i=n(74030),a=n(673973),u=n(461061);!function(e){e[e.SENDABLE=0]="SENDABLE";e[e.SENDABLE_WITH_PREMIUM=1]="SENDABLE_WITH_PREMIUM";e[e.NONSENDABLE=2]="NONSENDABLE";e[e.SENDABLE_WITH_BOOSTED_GUILD=3]="SENDABLE_WITH_BOOSTED_GUILD"}(r||(r={}));var c=function(e,t,n){if(null==t)return r.NONSENDABLE;var c=i.ZP.canUseStickersEverywhere(t);return(0,a.jl)(e)?c?r.SENDABLE:r.SENDABLE_WITH_PREMIUM:(0,a.J8)(e)&&null!=n?e.available?null!=n.guild_id&&""!==n.guild_id&&n.guild_id===e.guild_id?r.SENDABLE:null==n.guild_id||o.ZP.can({permission:u.Plq.USE_EXTERNAL_STICKERS,user:t,context:n})?c?r.SENDABLE:r.SENDABLE_WITH_PREMIUM:r.NONSENDABLE:r.SENDABLE_WITH_BOOSTED_GUILD:r.NONSENDABLE},l=function(e,t,n){return c(e,t,n)===r.SENDABLE}},464216:(e,t,n)=>{"use strict";n.d(t,{Z:()=>M});var r=n(496486),o=n.n(r),i=n(363010),a=n(173436),u=n(528275),c=n(537127),l=n(876679),s=n(461061),f=n(228031)
;function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function y(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function E(e){E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return E(e)}function h(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function m(e,t){
return!t||"object"!==v(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e,t){g=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return g(e,t)}var v=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=E(e);if(t){var o=E(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m(this,n)}}var O={pendingUsages:[]},b=(s.UF9.DAY,new u.Z({computeBonus:function(){return 100},computeWeight:function(e){var t=0;e<=3?t=100:e<=15?t=70:e<=30?t=50:e<=45?t=30:e<=80&&(t=10);return t},lookupKey:function(e){
return l.Z.getStickerById(e)},afterCompute:function(){},numFrequentlyItems:20})),I=function(e){var t=e.stickerIds;null==t||t.forEach((function(e){b.track(e);O.pendingUsages.push({key:e,timestamp:Date.now()})}));b.compute()},S=function(){b.compute()};function A(){var e,t=null===(e=c.Z.frecencyWithoutFetchingLatest.stickerFrecency)||void 0===e?void 0:e.stickers;if(null==t)return!1;b.overwriteHistory(o().mapValues(t,(function(e){return h(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){y(e,t,n[t])}))}return e}({},e),{recentUses:e.recentUses.map(Number).filter((function(e){return e>0}))})})),O.pendingUsages)}var T=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&g(e,t)}(n,e);var t=_(n);function n(){d(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(e){this.waitFor(l.Z);null!=e&&(O=e);this.syncWith([l.Z],S);this.syncWith([c.Z],A)};r.getState=function(){return O};r.hasPendingUsage=function(){return O.pendingUsages.length>0};r.__getLocalVars=function(){return{state:O,NUM_FREQUENTLY_USED_STICKERS:20,stickerFrecency:b,handleStickersUsage:I,handleStickersStoreUpdate:S}};!function(e,t,n){t&&p(e.prototype,t);n&&p(e,n)}(n,[{key:"stickerFrecencyWithoutFetchingLatest",get:function(){return b}}]);return n}(i.ZP.PersistedStore);T.displayName="StickersPersistedStore";T.persistKey="StickersPersistedStoreV2";const M=new T(a.Z,{STICKER_TRACK_USAGE:I,USER_SETTINGS_PROTO_UPDATE:function(e){var t=e.settings.type,n=e.wasSaved
;if(t!==f.yP.FRECENCY_AND_FAVORITES_SETTINGS||!n)return!1;O.pendingUsages=[]}})},178675:(e,t,n)=>{"use strict";n.d(t,{vD:()=>i,BH:()=>a,ZP:()=>u});var r=(0,n(553494).B)({kind:"user",id:"2023-01_silent_messages",label:"Silent Messages",defaultConfig:{allowSending:!1},treatments:[{id:1,label:"Allow sending @silent messages",config:{allowSending:!0}}]}),o="@silent",i=new RegExp("^".concat(o,"(\\s|$)"));function a(){return r.getCurrentConfig({}).allowSending}function u(e){return a()?null==e.match(i)?[!1,e]:[!0,e.substring(o.length).trim()]:[!1,e]}},218786:(e,t,n)=>{"use strict";n.d(t,{Z:()=>ne});var r=n(824390),o=n.n(r),i=n(496486),a=n.n(i),u=n(730381),c=n.n(u),l=n(363010),s=n(173436),f=n(109247),d=n(817513),p=n(258698),y=n(367124),E=n(800539),h=n(73462),m=n(893321),g=n(277499),v=n(977449),_=n(134734),O=n(937689),b=n(604860),I=n(90816),S=n(57203),A=n(742269),T=n(588641),M=n(564379),R=n(286283),P=n(461061);function L(e,t){(null==t||t>e.length)&&(t=e.length)
;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function D(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function N(e){N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return N(e)}function j(e,t){return!t||"object"!==x(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Z(e,t){Z=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Z(e,t)}function U(e){return function(e){if(Array.isArray(e))return L(e)}(e)||function(e){
if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var x=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=N(e);if(t){
var o=N(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return j(this,n)}}var G,B=c()().subtract(1,"week"),F=[],H="",V=!1;function q(e,t){return e.application.name.localeCompare(t.application.name,d.default.locale,{sensitivity:"base"})}function Y(e,t){return null!=e&&(c()(e.createdAt).isAfter(B)&&0===t)}var W=(D(G={},P.iEv.NAME,q),D(G,P.iEv.PLATFORM,(function(e,t,n){var r=e.libraryApplication.getDistributor(),o=t.libraryApplication.getDistributor();return r===o?(n===P.sHY.DESCENDING?-1:1)*q(e,t):null==r?1:null==o?-1:r.localeCompare(o)})),D(G,P.iEv.LAST_PLAYED,(function(e,t){return e.isNew&&!t.isNew?-1:!e.isNew&&t.isNew?1:e.lastPlayed===t.lastPlayed?0:e.lastPlayed>t.lastPlayed?-1:1})),D(G,P.iEv.ACTIONS,null),G),J=(0,b.oH)((function(e){return e.filter((function(e){return null!=e.libraryApplication&&e.shouldShowInLibrary}))})),K=(0,b.oH)((function(e){return e.filter((function(e){
return null!=e.libraryApplication&&_.Z.isLaunchable(e.libraryApplication.id,e.libraryApplication.branchId)}))})),z=(0,b.oH)((function(e,t){return e.filter((function(e){return o()(t.toLowerCase(),e.application.name.toLowerCase())}))})),X=(0,b.oH)((function(e,t,n,r){var o=W[t];if(null==o)return e;var i=U(e).sort(o);return n===P.sHY.DESCENDING?i.reverse():i})),Q=(0,b.oH)((function(e){return e.filter((function(e){return null!=e.libraryApplication&&e.libraryApplication.isHidden()}))}));function $(e,t){var n=g.Z.getCurrentUserStatisticsForApplication(e.id);if(null!=n)return new Date(n.last_played_at).getTime();var r=t[e.id];return null!=r?r:0}function ee(){var e=new Set(h.ZP.getRunningVerifiedApplicationIds()),t={},n=new Set,r=h.ZP.getGamesSeen(!1,!1).map((function(e){var n=y.Z.getGameByGameData(e);if(null!=n){t[n.id]=1e3*e.lastFocused;return n.id}return null})),o=Object.values(E.Z.getAllLibraryApplications()).map((function(r){return function(e,t,n,r,o){if(!o&&t.has(e.id))return null
;var i=y.Z.getGame(e.id);if(null==i)return null;var a=$(i,n);t.add(e.id);return(0,S.Je)(e)||_.Z.isInstalled(e.id,e.branchId)?{key:"".concat(e.id,"-").concat(e.branchId),application:i,libraryApplication:e,lastPlayed:a,supportsCloudSync:null!=e&&_.Z.supportsCloudSync(e.id,e.branchId),isNew:Y(e,a),isLaunching:f.Z.launchingGames.has(e.id),isRunning:r.has(e.id),isLaunchable:(0,M.t)({LibraryApplicationStore:E.Z,LaunchableGameStore:f.Z,DispatchApplicationStore:_.Z,ConnectedAppsStore:p.Z,applicationId:e.id,branchId:e.branchId}),isUpdatingFlags:E.Z.isUpdatingFlags(e.id,e.branchId),shouldShowInLibrary:(0,S.d0)(i,e,m.Z),defaultAction:(0,R.i)(e,_.Z,O.Z)}:null}(r,n,t,e,!0)})).filter(I.lm),i=r.map((function(r){return function(e,t,n,r){var o=null!=e?y.Z.getGame(e):null;if(null==o||null==e||t.has(e))return null;var i=$(o,n);t.add(e);return{key:e,application:o,lastPlayed:i,supportsCloudSync:!1,isNew:!1,isLaunching:f.Z.launchingGames.has(e),isRunning:r.has(e),isLaunchable:(0,M.t)({
LibraryApplicationStore:E.Z,LaunchableGameStore:f.Z,DispatchApplicationStore:_.Z,ConnectedAppsStore:p.Z,applicationId:e,branchId:null}),isUpdatingFlags:!1,shouldShowInLibrary:!1,libraryApplication:null,defaultAction:null}}(r,n,t,e)})).filter(I.lm),u=U(i).concat(U(o)).sort((function(e,t){return e.lastPlayed===t.lastPlayed?0:e.lastPlayed>t.lastPlayed?-1:1}));V=null!=y.Z.lastFetched&&E.Z.fetched;if(a().isEqual(u,F))return!1;F=u;A.FB&&T.default.setSystemTrayApplications(K(F).map((function(e){return e.application})).slice(0,5));return!0}var te=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Z(e,t)}(n,e);var t=k(n);function n(){C(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.syncWith([y.Z,f.Z,h.ZP,_.Z,O.Z,E.Z,g.Z,m.Z,p.Z],ee,200);this.syncWith([v.Z,d.default],(function(){
return!0}))};r.__getLocalVars=function(){return{MAX_SYSTEM_TRAY_ITEMS:5,NEW_GAME_THRESHOLD:B,applicationViewItems:F,applicationFilterQuery:H,hasFetchedApplications:V,SORT_FUNCTIONS:W,getLibraryApplicationViewItems:J,getLaunchableApplicationViewItems:K,getFilteredLibraryApplicationViewItems:z,getSortedFilteredLibraryApplicationViewItems:X,getHiddenLibraryApplicationViewItems:Q}};!function(e,t,n){t&&w(e.prototype,t);n&&w(e,n)}(n,[{key:"applicationFilterQuery",get:function(){return H}},{key:"applicationViewItems",get:function(){return F}},{key:"launchableApplicationViewItems",get:function(){return K(F)}},{key:"libraryApplicationViewItems",get:function(){return J(F)}},{key:"filteredLibraryApplicationViewItems",get:function(){return z(this.libraryApplicationViewItems,H)}},{key:"sortedFilteredLibraryApplicationViewItems",get:function(){return X(this.filteredLibraryApplicationViewItems,v.Z.sortKey,v.Z.sortDirection,d.default.locale)}},{key:"hiddenLibraryApplicationViewItems",get:function(){
return Q(F)}},{key:"hasFetchedApplications",get:function(){return V}}]);return n}(l.ZP.Store);te.displayName="ApplicationViewStore";const ne=new te(s.Z,{LIBRARY_APPLICATION_FILTER_UPDATE:function(e){var t=e.query;H=t}})},286283:(e,t,n)=>{"use strict";n.d(t,{i:()=>i});var r=n(564379),o=n(461061);function i(e,t,n){var i=t.getState(e.id,e.branchId),a=n.getQueuePosition(e.id,e.branchId),u=n.paused;if(null!=i){if(null==a||-1===a)switch(i.type){case o.vxO.INSTALLING:return o.apO.INSTALL;case o.vxO.UPDATING:case o.vxO.UPDATE_REQUIRED:return o.apO.UPDATE}switch(i.type){case o.vxO.INSTALLING:case o.vxO.UPDATING:case o.vxO.UPDATE_REQUIRED:case o.vxO.REPAIRING:return a>0?o.apO.MOVE_UP:u?o.apO.RESUME:o.apO.PAUSE;case o.vxO.UP_TO_DATE:return o.apO.PLAY;case o.vxO.UNINSTALLING:return null}}return null!=a&&a>0?o.apO.MOVE_UP:(0,r.Q)()?o.apO.INSTALL:null}},977449:(e,t,n)=>{"use strict";n.d(t,{Z:()=>S});var r=n(496486),o=n.n(r),i=n(363010),a=n(444450),u=n(173436),c=n(461061);function l(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function f(e){f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return f(e)}function d(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e,t){p=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return p(e,t)}var y=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))
;return!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}var h,m="GameLibraryViewStore",g=c.sHY.ASCENDING,v=c.iEv.LAST_PLAYED,_=!1,O=o().debounce((function(){_=!1;I.emitChange()}),200);var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&p(e,t)}(n,e);var t=E(n);function n(){l(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){var e,t=null!==(e=a.Z.get(m))&&void 0!==e?e:{};if(null!=t.sortDirection&&null!=t.sortKey){g=t.sortDirection;v=t.sortKey}};r.__getLocalVars=function(){return{STORAGE_KEY:m,DISABLE_MOUSE_TIMEOUT:200,sortDirection:g,sortKey:v,activeRowKey:h,isNavigatingByKeyboard:_,disableKeyboardMode:O,storeInstance:I}};!function(e,t,n){
t&&s(e.prototype,t);n&&s(e,n)}(n,[{key:"sortDirection",get:function(){return g}},{key:"sortKey",get:function(){return v}},{key:"activeRowKey",get:function(){return h}},{key:"isNavigatingByKeyboard",get:function(){return _}}]);return n}(i.ZP.Store);b.displayName="GameLibraryViewStore";var I=new b(u.Z,{LIBRARY_TABLE_SORT_UPDATE:function(e){var t=e.direction,n=e.key;g=t;v=n;a.Z.set(m,{sortDirection:g,sortKey:v})},LIBRARY_TABLE_ACTIVE_ROW_ID_UPDATE:function(e){var t=e.key;if(e.isKeyboardEvent){_=!0;O()}h=t}});const S=I},760253:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(785893),o=(n(667294),n(294184)),i=n.n(o),a=n(173731),u=n.n(a);function c(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){
var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function s(e){var t=e.className,n=l(e,["className"]);return(0,r.jsx)("div",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){c(e,t,n[t])}))}return e}({className:i()(u().gifTag,t)},n))}},420202:(e,t,n)=>{"use strict";n.d(t,{Rj:()=>l,JX:()=>s,ZP:()=>f});var r=n(785893),o=n(667294),i=n(468811),a=n.n(i),u=n(832010),c=n(461061),l=Object.freeze({PREMIUM_TIER_0:a().v4(),PREMIUM_TIER_1:a().v4(),PREMIUM_TIER_2:a().v4(),PREMIUM_GUILD:a().v4(),CREATOR_REVENUE:a().v4(),PREMIUM_TRIAL_TUTORIAL:a().v4()}),s={PREMIUM_TIER_0:"url(#".concat(l.PREMIUM_TIER_0,")"),
PREMIUM_TIER_1:"url(#".concat(l.PREMIUM_TIER_1,")"),PREMIUM_TIER_2:"url(#".concat(l.PREMIUM_TIER_2,")"),PREMIUM_GUILD:"url(#".concat(l.PREMIUM_GUILD,")"),CREATOR_REVENUE:"url(#".concat(l.CREATOR_REVENUE,")"),PREMIUM_TRIAL_TUTORIAL:"url(#".concat(l.PREMIUM_TRIAL_TUTORIAL,")")};const f=o.memo((function(){return(0,r.jsxs)("svg",{viewBox:"0 0 1 1",style:{position:"absolute",pointerEvents:"none",top:-1,left:-1,width:1,height:1},"aria-hidden":!0,children:[(0,r.jsxs)("linearGradient",{id:l.PREMIUM_TIER_0,children:[(0,r.jsx)("stop",{offset:".1762",stopColor:(0,u.Lq)(c.Ilk.PREMIUM_TIER_0_BLUE_FOR_GRADIENTS)}),(0,r.jsx)("stop",{offset:"0.5351",stopColor:(0,u.Lq)(c.Ilk.PREMIUM_TIER_0_BLUE_FOR_GRADIENTS_2)}),(0,r.jsx)("stop",{offset:"1",stopColor:(0,u.Lq)(c.Ilk.PREMIUM_TIER_0_PURPLE_FOR_GRADIENTS)})]}),(0,r.jsxs)("linearGradient",{id:l.PREMIUM_TIER_1,children:[(0,r.jsx)("stop",{stopColor:(0,u.Lq)(c.Ilk.PREMIUM_TIER_1_BLUE)}),(0,r.jsx)("stop",{offset:"1",stopColor:(0,
u.Lq)(c.Ilk.PREMIUM_TIER_1_PURPLE)})]}),(0,r.jsxs)("linearGradient",{id:l.PREMIUM_TIER_2,children:[(0,r.jsx)("stop",{stopColor:(0,u.Lq)(c.Ilk.PREMIUM_TIER_2_PURPLE_FOR_GRADIENTS)}),(0,r.jsx)("stop",{offset:"0.502368",stopColor:(0,u.Lq)(c.Ilk.PREMIUM_TIER_2_PURPLE_FOR_GRADIENTS_2)}),(0,r.jsx)("stop",{offset:"1",stopColor:(0,u.Lq)(c.Ilk.PREMIUM_TIER_2_PINK_FOR_GRADIENTS)})]}),(0,r.jsxs)("linearGradient",{id:l.PREMIUM_GUILD,children:[(0,r.jsx)("stop",{stopColor:(0,u.Lq)(c.Ilk.GUILD_BOOSTING_BLUE)}),(0,r.jsx)("stop",{offset:"1",stopColor:(0,u.Lq)(c.Ilk.GUILD_BOOSTING_PURPLE)})]}),(0,r.jsxs)("linearGradient",{id:l.CREATOR_REVENUE,children:[(0,r.jsx)("stop",{stopColor:(0,u.Lq)(c.Ilk.CREATOR_REVENUE_START)}),(0,r.jsx)("stop",{offset:"1",stopColor:(0,u.Lq)(c.Ilk.CREATOR_REVENUE_END)})]}),(0,r.jsxs)("linearGradient",{id:l.PREMIUM_TRIAL_TUTORIAL,children:[(0,r.jsx)("stop",{stopColor:(0,u.Lq)(c.Ilk.PREMIUM_TIER_2_PURPLE)}),(0,r.jsx)("stop",{offset:"1",stopColor:(0,u.Lq)(c.Ilk.PREMIUM_TIER_2_PINK)
})]})]})}),(function(){return!0}))},966303:(e,t,n)=>{"use strict";n.d(t,{z:()=>N,Z:()=>j});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),u=n(213192),c=n.n(u),l=n(647446),s=n(331535),f=n(952013),d=n(769888),p=n(894827),y=n(364676),E=n(461061),h=n(959797),m=n(137764),g=n.n(m),v=n(211086),_=n.n(v),O=n(79033),b=n.n(O);function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function A(e){A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return A(e)}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){S(e,t,n[t])}))}return e}
function M(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function R(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function P(e,t){return!t||"object"!==C(t)&&"function"!=typeof t?function(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function L(e,t){L=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return L(e,t)}var C=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=A(e);if(t){var o=A(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return P(this,n)}}var D=Object.freeze({display:"block",width:"100%",objectFit:"cover"}),N=c()({LOADING:null,ERROR:null,READY:null}),j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function")
;e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&L(e,t)}(n,e);var t=w(n);function n(){I(this,n);var e;(e=t.apply(this,arguments))._containerRef=o.createRef();e._clickableRef=o.createRef();return e}n.prototype.render=function(){var e=this.props,t=e.className,n=e.imageClassName,o=e.readyState,i=e.src,u=e.alt,c=e.width,f=e.height,y=e.maxWidth,E=void 0===y?c:y,m=e.maxHeight,v=void 0===m?f:m,_=e.minWidth,O=e.minHeight,b=e.mediaLayoutType,I=e.limitResponsiveWidth,A=void 0===I||I,P=e.accessory,L=e.zoomable,C=e.original,w=e.children,D=e.renderItem,j=e.renderAccessory,k=e.onClick,G=e.tabIndex,B=e.useFullWidth,F=void 0!==B&&B,H=R(e,["className","imageClassName","readyState","src","alt","width","height","maxWidth","maxHeight","minWidth","minHeight","mediaLayoutType","limitResponsiveWidth","accessory","zoomable","original","children","renderItem","renderAccessory","onClick","tabIndex","useFullWidth"]);if(1===c&&1===f)return null;var V,q=(0,p.Tj)({
width:c,height:f,maxWidth:E,maxHeight:v,minWidth:_,minHeight:O});if(null!=i&&o===N.READY&&"function"==typeof w)V=null!=D?D():w({src:i,size:q,alt:u,className:n,mediaLayoutType:b});else if(o===N.LOADING){var Y=0!==q.width?q.height/q.width:1;V=null!=i&&""!==i?(0,r.jsxs)("div",{children:[(0,r.jsx)("img",{alt:null!=u?u:h.Z.Messages.IMAGE,title:u,src:i,style:x(q,b)}),(0,r.jsx)("div",{className:g().imagePlaceholderOverlay}),(0,r.jsx)(s.$j,{type:s.RA.WANDERING_CUBES,className:g().placeholderLoadingSpinner})]}):(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{style:{paddingBottom:"".concat(100*Y,"%")},children:(0,r.jsx)("div",{className:g().loadingWrapperInner,children:(0,r.jsx)(s.$j,{type:s.RA.WANDERING_CUBES,className:g().loadingSpinner})})})})}else V=(0,r.jsx)(Z,{size:q,mediaLayoutType:b,alt:u});var W,J=null!=j?j():null;J=null!=J?J:P;return(0,r.jsx)(l.tE,{ringTarget:this._containerRef,focusTarget:this._clickableRef,children:(0,r.jsxs)("div",M(T({className:a()(g().imageWrapper,(W={},
S(W,g().imageZoom,L),S(W,g().imageWrapperBackground,o!==N.READY),S(W,g().clickable,null!=k),W),t),style:U(q,A,F,D,b)},H),{children:[null!=C&&(0,r.jsx)("a",{tabIndex:-1,onClick:k,"aria-hidden":!0,className:g().originalLink,href:C,ref:this._containerRef,"data-role":"img"}),null!=k?(0,r.jsx)(s.P3,{className:g().clickableWrapper,tabIndex:null!=G?G:0,onClick:k,"aria-label":null!=u?u:h.Z.Messages.IMAGE,"aria-describedby":d.r5,innerRef:this._clickableRef,focusProps:{enabled:!1},children:V}):V,null!=J?(0,r.jsx)("div",{className:g().imageAccessory,children:J}):null]}))})};return n}(o.PureComponent);j.defaultProps={readyState:N.READY,zoomable:!0,children:function(e){var t=e.src,n=e.size,o=e.alt,i=e.className,a=e.mediaLayoutType;return(0,r.jsx)("img",{className:null!=i?i:void 0,alt:null!=o?o:h.Z.Messages.IMAGE,src:t,style:x(n,a)})},minWidth:0,minHeight:0};function Z(e){var t=e.size,n=e.mediaLayoutType,o=e.alt,i=(0,f.ZP)();return(0,r.jsx)("div",{className:g().imageErrorWrapper,style:k(t,n),
children:(0,r.jsx)("img",{src:i===E.BRd.LIGHT?b():_(),className:g().imageError,alt:null!=o?o:h.Z.Messages.IMAGE})})}function U(e,t,n,r,o){return o===y.hV.MOSAIC?M(T({},D),{maxHeight:"inherit",margin:"auto",width:!n&&e.width<=y.mT?e.width:"100%",height:"100%"}):null!=r||o===y.hV.RESPONSIVE?{maxWidth:t?e.width:void 0,width:"100%",aspectRatio:"".concat(e.width," / ").concat(e.height)}:e}function x(e,t){switch(t){case y.hV.MOSAIC:return D;case y.hV.RESPONSIVE:return G(e);default:return e}}function k(e,t){switch(t){case y.hV.MOSAIC:return M(T({},D),{height:"100%",aspectRatio:"".concat(e.width," / ").concat(e.height),display:"flex",maxHeight:"inherit"});case y.hV.RESPONSIVE:return M(T({},G(e)),{display:"flex"});default:return e}}function G(e){var t=e.width,n=e.height;return{maxWidth:t,maxHeight:n,width:"100%",display:"block",aspectRatio:"".concat(t," / ").concat(n)}}},364676:(e,t,n)=>{"use strict";n.d(t,{mT:()=>o,Jj:()=>i,OF:()=>a,hV:()=>r,WW:()=>u});var r,o=550,i=350,a=40;!function(e){
e.STATIC="STATIC";e.RESPONSIVE="RESPONSIVE";e.MOSAIC="MOSAIC"}(r||(r={}));var u=20},774581:(e,t,n)=>{"use strict";n.d(t,{k1:()=>ce,ZP:()=>ge});var r=n(824390),o=n.n(r),i=n(496486),a=n.n(i),u=n(839146),c=n(53211),l=n(356004),s=n(461061);function f(e){if(null==e.parent_id)return e.type===s.d4z.GUILD_CATEGORY?1e3*(e.position+1):e.position;var t,n,r=1e3*((null!==(n=null===(t=l.Z.getChannel(e.parent_id))||void 0===t?void 0:t.position)&&void 0!==n?n:0)+1);return e.isGuildVocal()?r+e.position+500:r+e.position}function d(e,t){var n,r;if(e.score!==t.score)return t.score-e.score;var o,i,a=f(e.record),u=f(t.record);if(a!==u)return a-u;var c,l,s=null!==(i=null!==(o=e.sortable)&&void 0!==o?o:null===(n=e.comparator)||void 0===n?void 0:n.toLocaleLowerCase())&&void 0!==i?i:"",d=null!==(l=null!==(c=e.sortable)&&void 0!==c?c:null===(r=t.comparator)||void 0===r?void 0:r.toLocaleLowerCase())&&void 0!==l?l:"";return s<d?-1:s>d?1:0}
var p=n(832691),y=n(449024),E=n(153445),h=n(513073),m=n(661311),g=n(464216),v=n(876679),_=n(893264),O=n(577028),b=n(180918),I=n(53551),S=n(775041),A=n(392115),T=n(1812),M=n(212218),R=n(653772),P=n(171447),L=n(940712),C=n(962564),w=n(105405),D=n(379822),N=n(971738),j=n(859023),Z=n(512238),U=n(90816),x=n(462020),k=n(890889),G=n(763611),B=n(912551),F=n(964199),H=n(560891),V=n(35236),q=n(959797);function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function W(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function J(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n
}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function K(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){u=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||X(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e){return function(e){if(Array.isArray(e))return Y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||X(e)||function(){
throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(e,t){if(e){if("string"==typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Y(e,t):void 0}}var Q,$=new p.Z("AutocompleteUtils"),ee=10,te=function(){return!0},ne=/(\t|\s)/,re=[],oe=(Q=n(300629).Z).MENTION_EVERYONE,ie=Q.MENTION_HERE,ae=Q.LAUNCHABLE_APPLICATIONS;function ue(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return 1e3*e*(null!=t?t:1)}var ce=[T.sH,T.Zb,s.d4z.GUILD_CATEGORY];function le(e,t){return e.split(/(?:,| )+/).every((function(e){return new RegExp(G.Z.escape(e),"i").test(t)}))}function se(e,t){
var n=t.exactQuery,r=t.containQuery,i=t.queryLower,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];try{if(n.test(e))return e.toLocaleLowerCase()===i?ee:7;if(r.test(e))return 5;if(le(i,e))return 3;if(a&&o()(i,e))return 1}catch(e){$.error(e)}return 0}function fe(e){return null!=(null==e?void 0:e.joinedAt)&&!e.isPending}function de(e){for(var t=e.query,n=e.members,r=e.limit,i=e.filter,a=j.default.getUsers(),c=N.Z.getGuildId(),l=t.toLocaleLowerCase(),s=(0,B.Fv)(l),f=[],d=[],p=n.length,y=0,E=0;y<p;){var h=n[y],m=void 0,g=void 0;if(h instanceof S.Z){var v;g=h;m=null===(v=M.ZP.getNick(c,g.id))||void 0===v?void 0:v.toLocaleLowerCase()}else{var _;m=null===(_=h.nick)||void 0===_?void 0:_.toLocaleLowerCase();g=a[h.userId]}var O=F.ZP.getDisplayName(g);if(null==i||i(g)){var b=g.username.toLocaleLowerCase(),I=(0,B._I)(b),A=(0,B.Fv)(I),T=null!=m?(0,B._I)(m):null,R=null!=T?(0,B.Fv)(T):null,P=null!=O?(0,B._I)(O):null,L=null!=P?(0,B.Fv)(P):null
;if(b.substring(0,l.length)===l||I.substring(0,l.length)===l||(null==m?void 0:m.substring(0,l.length))===l||(null==T?void 0:T.substring(0,l.length))===l||(null==O?void 0:O.substring(0,l.length))===l||(null==P?void 0:P.substring(0,l.length))===l)f.push({type:H.h8.USER,record:g,comparator:null!=m?m:b,score:ee,sortable:null!=T?T:I});else if(A.substring(0,s.length)===s||(null==R?void 0:R.substring(0,s.length))===s||(null==L?void 0:L.substring(0,s.length))===s)f.push({type:H.h8.USER,record:g,comparator:null!=m?m:b,score:1,sortable:null!=T?T:I});else if(E<50&&(o()(l,I)||o()(s,A)||null!=T&&o()(l,T)||null!=R&&o()(s,R)||null!=P&&o()(l,P)||null!=L&&o()(s,L))){d.push({type:H.h8.USER,record:g,score:1,comparator:null!=m?m:b,sortable:null!=T?T:I});E+=1}}y+=1}f.sort(u.Z);if(f.length<r){d.sort(u.Z);f=f.concat(d.slice(0,Math.max(0,r-f.length)))}f.length>r&&(f.length=r);return f}function pe(e){switch(e){case _.MO.STICKER_NAME:return 11;case _.MO.CORRELATED_EMOJI:return 6;case _.MO.TAG:return 1
;case _.MO.GUILD_NAME:case _.MO.PACK_NAME:return 8;default:return 1}}function ye(e,t,n){var r=0,o=null,i=!0,a=!1,u=void 0;try{for(var c,l=t[Symbol.iterator]();!(i=(c=l.next()).done);i=!0){var s=c.value,f=se(e,s,n);if(f>r){r=f;o=s}}}catch(e){a=!0;u=e}finally{try{i||null==l.return||l.return()}finally{if(a)throw u}}null!=o&&(o.isFullMatch?t.length=0:t.splice(t.indexOf(o),1));return r}function Ee(e,t){if(null!=e.guild_id){var n=t[e.guild_id];if(null==n){var r;n=t[e.guild_id]=null===(r=R.Z.getGuild(e.guild_id))||void 0===r?void 0:r.toString().toLocaleLowerCase()}return n}}function he(e,t){if(null!=e.parent_id){var n=t[e.parent_id];if(null==n){var r;n=t[e.parent_id]=null===(r=l.Z.getChannel(e.parent_id))||void 0===r?void 0:r.name.toLocaleLowerCase()}return n}}function me(e,t){var n=l.Z.getChannel(e);return null==e||null==n?[]:a()(P.Z.getMessages(e).toArray()).reverse().map((function(e){return e.author})).reject((function(e){return e.isNonUserBot()})).uniqBy((function(e){return e.id
})).filter((function(e){var t=n.getGuildId();return null==t||fe(M.ZP.getMember(t,e.id))})).map((function(e){var t,r=n.getGuildId(),o=null!=r?M.ZP.getMember(r,e.id):null;return{type:H.h8.USER,record:e,score:0,comparator:null!==(t=null==o?void 0:o.nick)&&void 0!==t?t:e.username}})).take(t).value()}const ge={queryFriends:function(e){var t=e.query,n=e.limit,r=void 0===n?10:n,o=(e._fuzzy,e.filter);return de({query:t,members:w.Z.getFriendIDs().map((function(e){return j.default.getUser(e)})).filter(U.lm),limit:r,filter:o})},queryDMUsers:function(e){var t=e.query,n=e.limit,r=void 0===n?10:n,o=e.filter;return de({query:t,members:l.Z.getDMUserIds().map((function(e){return j.default.getUser(e)})).filter(U.lm),limit:r,filter:o})},queryChannelUsers:function(e){var t=e.channelId,n=e.query,r=e.limit,o=void 0===r?10:r,i=e.request,a=void 0===i||i,u=e.checkRecentlyTalkedOnEmptyQuery,c=void 0===u||u,f=l.Z.getChannel(t);if(null==f)return[]
;var d,p=f.isThread()?l.Z.getChannel(f.parent_id):null,y=null!=p?p:f;if(null==y)return[];if(y.isPrivate()){var E;d=y.recipients.map((function(e){return{userId:e,nick:null!==(E=w.Z.getNickname(e))&&void 0!==E?E:null}}));var h=j.default.getCurrentUser();null!=h&&d.push({userId:h.id,nick:null})}else{if(0===n.length&&c){var m=me(f.id,o);if(m.length>0)return m}d=M.ZP.getMembers(y.guild_id).filter(fe);a&&x.Z.requestMembers(y.guild_id,n,o)}return de({query:n,members:d,limit:o,filter:function(e){return y.isPrivate()||k.ZP.can({permission:s.Plq.VIEW_CHANNEL,user:e,context:y})}})},queryGuildUsers:function(e){var t=e.guildId,n=e.query,r=e.limit,o=void 0===r?10:r,i=e.request,a=void 0===i||i,u=e.checkRecentlyTalkedOnEmptyQuery,c=void 0===u||u,l=e.filter;if(null==R.Z.getGuild(t))return[];if(0===n.length&&c){var s=me(D.Z.getChannelId(t),o);if(s.length>0)return s}var f=M.ZP.getMembers(t).filter(fe);a&&n.length>0&&x.Z.requestMembers(t,n,o);return de({query:n,members:f,limit:o,filter:l})},
queryUsers:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=arguments.length>4?arguments[4]:void 0;n&&e.length>0&&x.Z.requestMembers(null,e,t);return de({query:e,members:a()(j.default.getUsers()).values().value(),limit:t,filter:r})},queryChannels:function(e){var t,n=e.query,r=e.guildId,o=e.limit,i=void 0===o?s.rnv:o,f=e.fuzzy,d=void 0===f||f,p=e.filter,y=void 0===p?te:p,E=e.type,h=void 0===E?T.sH:E,m=e.allowEmptyQueries,g=void 0!==m&&m,v=e.requireVocalConnectAccess,_=void 0===v||v,b=e.boosters,S=void 0===b?{}:b,A=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.split(" ").filter((function(e){return""!==e||t})).map((function(e){var t=e.toLocaleLowerCase();return{queryLower:t,exactQuery:new RegExp("^".concat(G.Z.escape(t)),"i"),containQuery:new RegExp(G.Z.escape(t),"i"),isFullMatch:!1}}));if(e.includes(" ")){var r=e.toLocaleLowerCase();n.unshift({queryLower:r,
exactQuery:new RegExp("^".concat(G.Z.escape(r).replace(" ","( |-)")),"i"),containQuery:new RegExp(G.Z.escape(r).replace(" ","( |-)"),"i"),isFullMatch:!0})}return n}(n,g);t=null!=r?a()(T.ZP.getChannels(r)[h]).map((function(e){return e.channel})).concat(O.Z.computeAllActiveJoinedThreads(r)).value():a()(l.Z.loadAllGuildAndPrivateChannelsFromDisk()).values().concat(O.Z.computeAllActiveJoinedThreads()).value();var M,R,P,C={},D=[],N=!0,Z=!1,U=void 0;try{for(var x,k=t[Symbol.iterator]();!(N=(x=k.next()).done);N=!0){var B=x.value;if((M=h,R=B.type,P=null!=r,M===R||(P||(0,I.Km)(R))&&(M===T.sH?(0,I.r8)(R):M===T.Zb&&(0,I.bw)(R)))&&(!(0,I.Km)(B.type)||L.Z.can(_?B.accessPermissions:s.Plq.VIEW_CHANNEL,B))&&y(B)){var F=z(A),V=B.name.toLocaleLowerCase(),q=ye(V,F,d);if(0!==q){if(F.length>0){for(var Y=0,W=[Ee(B,C),he(B,C)];Y<W.length;Y++){var J=W[Y];if(null!=J&&""!==J){var K=ye(J,F,!1);0!==K&&(q+=.5*K)}}q=Math.min(9,q)}0===q||F.length>1||1===F.length&&!F[0].isFullMatch||D.push({type:(0,
I.bw)(B.type)?H.h8.VOICE_CHANNEL:H.h8.TEXT_CHANNEL,record:B,score:ue(q,S[B.id]),comparator:(0,c.F6)(B,j.default,w.Z),sortable:V})}}}}catch(e){Z=!0;U=e}finally{try{N||null==k.return||k.return()}finally{if(Z)throw U}}D.sort(u.Z);D.length>i&&(D.length=i);return D},queryGuilds:function(e){var t=e.query,n=e.limit,r=void 0===n?10:n,o=e.fuzzy,i=void 0===o||o,c=e.filter,l=void 0===c?te:c,s=e.boosters,f=void 0===s?{}:s,d=""===t?"":t.toLocaleLowerCase(),p={exactQuery:new RegExp("^".concat(G.Z.escape(d)),"i"),containQuery:new RegExp(G.Z.escape(d),"i"),queryLower:d},y=[],E=a()(R.Z.getGuilds()).values().value(),h=!0,m=!1,g=void 0;try{for(var v,_=E[Symbol.iterator]();!(h=(v=_.next()).done);h=!0){var O=v.value;if(l(O)){var b=O.name.toLocaleLowerCase(),I=se(b,p,i);I>0&&y.push({type:H.h8.GUILD,record:O,score:ue(I,f[O.id]),comparator:O.toString(),sortable:b})}}}catch(e){m=!0;g=e}finally{try{h||null==_.return||_.return()}finally{if(m)throw g}}y.sort(u.Z);y.length>r&&(y.length=r);return y},
queryGroupDMs:function(e){var t=e.query,n=e.limit,r=void 0===n?10:n,o=e.fuzzy,i=void 0===o||o,s=e.filter,f=void 0===s?te:s,d=e.boosters,p=void 0===d?{}:d,y=t.toLocaleLowerCase(),E={exactQuery:new RegExp("^".concat(G.Z.escape(y)),"i"),containQuery:new RegExp(G.Z.escape(y),"i"),queryLower:y},h=a()(l.Z.getMutablePrivateChannels()).values().value(),m=[],g=!0,v=!1,_=void 0;try{for(var O,b=h[Symbol.iterator]();!(g=(O=b.next()).done);g=!0){var I=O.value;if(I.isMultiUserDM()&&f(I)){var S=(0,c.F6)(I,j.default,w.Z).toLocaleLowerCase(),A=se(S,E,i);A>0&&m.push({type:H.h8.GROUP_DM,record:I,score:ue(A,p[I.id]),comparator:(0,c.F6)(I,j.default,w.Z),sortable:S})}}}catch(e){v=!0;_=e}finally{try{g||null==b.return||b.return()}finally{if(v)throw _}}m.sort(u.Z);m.length>r&&(m.length=r);return m},queryApplications:function(e){var t=e.query,n=e.limit,r=void 0===n?10:n,o=e.fuzzy,i=void 0===o||o,a=e.filter,c=void 0===a?te:a,l=t.toLocaleLowerCase(),s={exactQuery:new RegExp("^".concat(G.Z.escape(l)),"i"),
containQuery:new RegExp(G.Z.escape(l),"i"),queryLower:l},f=ae(),d=[],p=!0,y=!1,E=void 0;try{for(var h,m=f[Symbol.iterator]();!(p=(h=m.next()).done);p=!0){var g=h.value.application;if(c(g)){var v=g.name.toLocaleLowerCase(),_=se(v,s,i);_>0&&d.push({type:H.h8.APPLICATION,record:g,score:_,comparator:g.name,sortable:v})}}}catch(e){y=!0;E=e}finally{try{p||null==m.return||m.return()}finally{if(y)throw E}}d.sort(u.Z);d.length>r&&(d.length=r);return d},querySKUs:function(e){var t=e.query,n=e.limit,r=void 0===n?10:n,o=e.fuzzy,i=void 0===o||o,c=e.filter,l=void 0===c?te:c,f=t.toLocaleLowerCase(),d={exactQuery:new RegExp("^".concat(G.Z.escape(f)),"i"),containQuery:new RegExp(G.Z.escape(f),"i"),queryLower:f},p=a()(Z.Z.getSKUs()).values().value(),y=[],E=!0,h=!1,m=void 0;try{for(var g,v=p[Symbol.iterator]();!(E=(g=v.next()).done);E=!0){var _=g.value;if(_.type===s.epS.DURABLE_PRIMARY&&l(_)){var O=_.name.toLocaleLowerCase(),b=se(O,d,i);b>0&&y.push({type:H.h8.SKU,record:_,score:b,comparator:_.name,
sortable:O})}}}catch(e){h=!0;m=e}finally{try{E||null==v.return||v.return()}finally{if(h)throw m}}y.sort(u.Z);y.length>r&&(y.length=r);return y},getRecentlyTalked:me,queryMentionResults:function(e){var t=e.query,n=e.channel,r=e.canMentionEveryone,i=void 0!==r&&r,u=e.canMentionHere,c=void 0===u||u,l=e.canMentionUsers,f=void 0===l||l,d=e.canMentionRoles,p=void 0===d||d,y=e.includeAllGuildUsers,E=void 0!==y&&y,h=e.includeNonMentionableRoles,m=void 0!==h&&h,g=e.checkRecentlyTalkedOnEmptyQuery,v=void 0===g||g,_=e.limit,O=void 0===_?s.rnv:_,b=e.request,I=f?(E&&null!=n.guild_id?this.queryGuildUsers({guildId:n.guild_id,query:t,limit:O,checkRecentlyTalkedOnEmptyQuery:v,request:b}):this.queryChannelUsers({channelId:n.id,query:t,limit:O,checkRecentlyTalkedOnEmptyQuery:v})).map((function(e){var t=e.record;return{user:t,score:e.score,comparator:e.comparator,nick:M.ZP.getNick(n.guild_id,t.id),status:C.Z.getStatus(t.id)}})):[],S=I.length,A=t.toLowerCase(),T=[];if(S<O&&p){
var P=n.getGuildId(),L=R.Z.getGuild(P);if(null!=L){a()(L.roles).filter((function(e){var t=e.mentionable,n=e.name,r=e.id;return(t||i||m)&&o()(A,n.toLowerCase())&&r!==P})).take(O-S).forEach((function(e){T.push(e)}));S+=T.length}}var w=[];if(!n.isPrivate()&&i&&p){if(S<O&&o()(A,oe().test)){w.push(oe());S+=1}c&&S<O&&o()(A,ie().test)&&w.push(ie())}return{users:I,globals:w,roles:T}},queryGuildMentionResults:function(e){var t=e.query,n=e.guildId,r=e.canMentionEveryone,i=void 0!==r&&r,u=e.canMentionUsers,c=void 0===u||u,l=e.canMentionRoles,f=void 0===l||l,d=e.canMentionNonMentionableRoles,p=void 0!==d&&d,y=c?this.queryGuildUsers({guildId:n,query:t}).map((function(e){return J(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){W(e,t,n[t])}))}return e
}({},e),{status:C.Z.getStatus(e.record.id)})})):[],E=y.length,h=t.toLowerCase(),m=[];if(E<s.rnv&&f){var g=R.Z.getGuild(n);if(null!=g){a()(g.roles).filter((function(e){var t=e.mentionable,r=e.name,a=e.id;return(t||i||p)&&o()(h,r.toLowerCase())&&a!==n})).take(s.rnv-E).forEach((function(e){m.push(e)}));E+=m.length}}var v=[];if(i&&f){if(E<s.rnv&&o()(h,oe().test)){v.push(oe());E+=1}E<s.rnv&&o()(h,ie().test)&&v.push(ie())}return{users:y,globals:v,roles:m}},queryChoice:function(e){var t=e.query,n=e.choices,r=e.limit,o=void 0===r?10:r,i=e.fuzzy,u=void 0===i||i,c=t.toLocaleLowerCase(),l=new RegExp("^".concat(G.Z.escape(c)),"i"),s=new RegExp(G.Z.escape(c),"i"),f=a()(n).map((function(e){var t=se(e.displayName.toLocaleLowerCase(),{exactQuery:l,containQuery:s,queryLower:c},u);return t>0?{choice:e,score:t}:null})).filter(U.lm).sortBy((function(e){return-1*e.score}));null!==o&&(f=f.take(o));return f.value()},queryStaticRouteChannels:function(e){var t=e.query,n=e.guild,r=t.toLocaleLowerCase(),o={
exactQuery:new RegExp("^".concat(G.Z.escape(r)),"i"),containQuery:new RegExp(G.Z.escape(r),"i"),queryLower:r},i=(0,y.YM)(n.id)&&!n.hasFeature(s.oNc.HUB),a=(0,h.tU)(n.id)&&n.hasFeature(s.oNc.COMMUNITY),u=(0,E.t)(n)&&n.hasFeature(s.oNc.COMMUNITY),c=[{id:V.HY.GUILD_HOME,name:q.Z.Messages.GUILD_HOME},{id:V.HY.CHANNEL_BROWSER,name:q.Z.Messages.CHANNEL_BROWSER_TITLE},{id:V.HY.CUSTOMIZE_COMMUNITY,name:q.Z.Messages.CUSTOMIZE_COMMUNITY_TITLE}],l=[],f=!0,d=!1,p=void 0;try{for(var m,g=c[Symbol.iterator]();!(f=(m=g.next()).done);f=!0){var v=m.value;if(!(v.id===V.HY.GUILD_HOME&&!i||v.id===V.HY.CHANNEL_BROWSER&&!a||v.id===V.HY.CUSTOMIZE_COMMUNITY&&!u)){se(v.name.toLocaleLowerCase(),o,!1)>0&&l.push(new I.nl({id:v.id,name:v.name,type:s.d4z.UNKNOWN,guild_id:n.id}))}}}catch(e){d=!0;p=e}finally{try{f||null==g.return||g.return()}finally{if(d)throw p}}return l},queryChannelResults:function(e){var t=e.query,n=e.channel,r=e.type,o=void 0===r?T.sH:r,i=e.channelTypes;return{channels:this.queryChannels({
query:t,guildId:n.getGuildId(),limit:void 0,fuzzy:void 0,filter:function(e){return null==i||i.includes(e.type)},type:o,allowEmptyQueries:!0}).map((function(e){return e.record}))}},queryApplicationCommandChannelResults:function(e){var t=e.query,n=e.channel,r=e.channelTypes,o=e.limit,i=void 0===o?s.rnv:o;if(null==n.guild_id){var a=[];(null==r||r.includes(n.type))&&a.push(n);return{channels:a}}var u=[],c=!0,l=!1,f=void 0;try{for(var p,y=ce[Symbol.iterator]();!(c=(p=y.next()).done);c=!0){var E=p.value;u=u.concat(this.queryChannels({query:t,guildId:n.guild_id,limit:i,fuzzy:!0,filter:function(e){return null==r||r.includes(e.type)},type:E,allowEmptyQueries:!0,requireVocalConnectAccess:!1}))}}catch(e){l=!0;f=e}finally{try{c||null==y.return||y.return()}finally{if(l)throw f}}u=u.filter((function(e){return"null"!==e.record.id})).sort(d);u.length>i&&(u=u.slice(0,i));return{channels:u.map((function(e){return e.record}))}},queryChoiceResults:function(e){var t=e.query,n=e.choices;return{
choices:this.queryChoice({query:t,choices:n,limit:null}).map((function(e){return e.choice}))}},queryEmojiResults:function(e){var t=e.query,n=e.channel,r=e.intention,o=e.matchComparator;b.DZ.loadIfNecessary();return{emojis:A.Z.searchWithoutFetchingLatest({channel:n,query:t,count:s.rnv,intention:r,matchComparator:o})}},queryStickers:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=K(arguments.length>2&&void 0!==arguments[2]?arguments[2]:[null,te],2),r=n[0],o=n[1],i=v.Z.stickerMetadata,u=j.default.getCurrentUser(),c=new Set,l=[];b.DZ.loadIfNecessary();var s=!0,f=!1,d=void 0;try{for(var p,y=function(){var e=p.value;if(""===e)return"continue";var n=e.toLocaleLowerCase(),a=(0,B._I)(n),s=new RegExp("^".concat(G.Z.escape(a)),"i"),f=new RegExp("".concat(G.Z.escape(a)),"i");i.forEach((function(e,i){var a=0,d=null,p=v.Z.getStickerById(i);if(null!=p&&o(p,(0,m.cO)(p,u,r))){var y=!0,E=!1,h=void 0;try{for(var O,b=e[Symbol.iterator]();!(y=(O=b.next()).done);y=!0){
var I=O.value,S=I.type,A=I.value,T=pe(S),M=0;if(t)A===n?M=ee*T:s.test(A)?M=7*T:S!==_.MO.GUILD_NAME&&S!==_.MO.PACK_NAME&&S!==_.MO.STICKER_NAME||!f.test(A)||(M=5*T);else if(A===n){M=ee*T;d=A}if(M>a){a=M;d=A}}}catch(e){E=!0;h=e}finally{try{y||null==b.return||b.return()}finally{if(E)throw h}}var R=g.Z.stickerFrecencyWithoutFetchingLatest.getScore(i);null!=R&&(a*=R/100);if(a>0&&null!=d&&!c.has(p.id)){c.add(p.id);l.push({sticker:p,comparator:d,score:a})}}}))},E=e[Symbol.iterator]();!(s=(p=E.next()).done);s=!0)y()}catch(e){f=!0;d=e}finally{try{s||null==E.return||E.return()}finally{if(f)throw d}}0===(l=a()(l).sortBy((function(e){return-1*e.score})).value()).length&&(l=re);return l},matchSentinel:function(e,t,n){return!ne.test(t)&&e===n}}},726283:(e,t,n)=>{"use strict";n.d(t,{wS:()=>a,JG:()=>u});var r=n(776319),o=n(742269),i=n(588641),a=function(){if(o.FB)return null!=i.default.copy;try{return document.queryCommandEnabled("copy")||document.queryCommandSupported("copy")}catch(e){return!1}}()
;function u(e){if(!a)return!1;if(o.FB){i.default.copy(e);return!0}return r.J(e)}},897268:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(667237),o=n.n(r);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=new(n(832691).Z)("Queue"),u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;i(this,e);this.logger=t;this.defaultRetryAfter=n;this.queue=new(o());this.timeout=null;this.draining=!1}var t=e.prototype;t.enqueue=function(e,t){this.queue.push({message:e,success:t});this._drainIfNecessary()};t._drainIfNecessary=function(){var e=this;if(null===this.timeout&&0!==this.queue.length&&!0!==this.draining){this.draining=!0;var t=this.queue.shift(),n=t.message,r=t.success;this.drain(n,(function(n,o){e.draining=!1;if(null==n){setImmediate((function(){return e._drainIfNecessary()}));try{r(o)}catch(t){e.logger.error("",t)}}else{
var i,a=null!==(i=n.retryAfter)&&void 0!==i?i:e.defaultRetryAfter;e.logger.info("Rate limited. Delaying draining of queue for ".concat(a," ms."));e.timeout=setTimeout((function(){e.queue.unshift(t);e.timeout=null;e._drainIfNecessary()}),a)}}))}};return e}()},300629:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(218786),o=n(959797);const i={MENTION_EVERYONE:function(){return{test:"everyone",text:"@everyone",description:o.Z.Messages.MENTION_EVERYONE_AUTOCOMPLETE_DESCRIPTION}},MENTION_HERE:function(){return{test:"here",text:"@here",description:o.Z.Messages.MENTION_HERE_AUTOCOMPLETE_DESCRIPTION}},LAUNCHABLE_APPLICATIONS:function(){return r.Z.launchableApplicationViewItems}}},155205:(e,t,n)=>{"use strict";n.d(t,{n:()=>u});var r=n(667294),o=n(363010),i=n(35599),a=n(426217);function u(){var e=r.useContext(i.ZP).windowId;return(0,o.e7)([a.Z],(function(){return a.Z.isFocused(e)}),[e])}}}]);
//# sourceMappingURL=91063bca8578ee2d151d.js.map