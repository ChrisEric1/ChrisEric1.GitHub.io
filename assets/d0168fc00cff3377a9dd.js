(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[75034],{761869:(e,t,n)=>{e.exports=n.p+"481f8332b80859990fb464dbe288295e.svg"},884217:(e,t,n)=>{e.exports=n.p+"c19657ec8ccb7b12e610ab71d457bfd6.png"},921912:(e,t,n)=>{e.exports=n.p+"350e1c6739823620f031d023a48ac9d4.svg"},964766:(e,t,n)=>{e.exports=n.p+"3123277eb2e7083fde983985dcd209a6.svg"},3874:(e,t,n)=>{e.exports=n.p+"c115d59ca13c0f942965a82a0f05bf01.svg"},302255:(e,t,n)=>{e.exports=n.p+"ad530d02033b87bb89752f915c2fbe3c.svg"},117399:(e,t,n)=>{e.exports=n.p+"f1e026332f1d6e902bcbbc07892bc849.svg"},408056:(e,t,n)=>{e.exports=n.p+"fd65da49c3073002049383baeb24e658.svg"},498913:(e,t,n)=>{e.exports=n.p+"beec347635d7597215747fcaf461e569.svg"},598150:(e,t,n)=>{e.exports=n.p+"9581653a5a4d0b7b56187044a9db301a.svg"},656470:(e,t,n)=>{e.exports=n.p+"12d9bda733d6432d605e8011c22c3e56.svg"},789885:(e,t,n)=>{e.exports=n.p+"8de4b17bb44ad5ef9f21f2f6f16aa8d1.svg"},709804:(e,t,n)=>{e.exports=n.p+"37cf72199c4e106407223a1edaf34460.svg"},
392544:(e,t,n)=>{e.exports=n.p+"55b367aaef0b83c837ac6c3bfe01da4c.svg"},350672:(e,t,n)=>{e.exports=n.p+"6e97f6643e7df29b26571d96430e92f4.svg"},24264:(e,t,n)=>{e.exports=n.p+"55b941d7bba0d84f06c05db34b7c9aab.svg"},874638:(e,t,n)=>{e.exports=n.p+"187bc0709ea0cecffe622a50993d012c.svg"},956863:(e,t,n)=>{e.exports=n.p+"c096c74c5685ce049b779f7ce3591bab.svg"},903049:(e,t,n)=>{e.exports=n.p+"d5d75eacea4086ed5f38048b74851f43.svg"},188374:(e,t,n)=>{e.exports=n.p+"42b60052f80abd9c2bdd8fc24cf97988.svg"},789621:(e,t,n)=>{e.exports=n.p+"9167182d6b74446a1c818615c135c289.svg"},273361:(e,t,n)=>{e.exports=n.p+"67430d140a79af95585a19d304731dc5.svg"},129428:(e,t,n)=>{e.exports=n.p+"d6779172ed9209b5ad49df923ea7820c.svg"},566300:(e,t,n)=>{e.exports=n.p+"c11b69c74029b5deaca9ca7ce1e987b1.svg"},235920:(e,t,n)=>{e.exports=n.p+"23e073eb0ee21f94de11e5d0a7eec50e.svg"},200824:(e,t,n)=>{e.exports=n.p+"f69210154879227d0ede0308465cf388.svg"},761434:(e,t,n)=>{e.exports=n.p+"f88737ca3655b964bfdbbff8585f1d41.png"},
88094:(e,t,n)=>{e.exports=n.p+"7dfe055a88781818b8368d1f9f2049da.png"},680664:(e,t,n)=>{e.exports=n.p+"41a1814ec63404eb722ce88d1c28b4f4.png"},396448:(e,t,n)=>{e.exports=n.p+"8e5a6ee1fce31ef5c5800b7646a94d98.png"},50682:(e,t,n)=>{e.exports=n.p+"7786c98742fafc1347e5fedaa1c67ea9.svg"},806565:(e,t,n)=>{e.exports=n.p+"6cea06c5021a06df6dc13df83ddab024.svg"},152605:(e,t,n)=>{e.exports=n.p+"dcd4a5d862acdfdfc9a45c7d124c3232.svg"},652951:(e,t,n)=>{e.exports=n.p+"fd49d24049e28b740a0a1e08d15158b3.png"},207357:(e,t,n)=>{e.exports=n.p+"e06697bc1bf89b08d1e767aa21334ae0.png"},970298:(e,t,n)=>{e.exports=n.p+"07de3733e48397a3e9086e37a9cb0dac.svg"},20278:(e,t,n)=>{e.exports=n.p+"eb47171e918604c7f7e861e94708f19f.svg"},524268:(e,t,n)=>{e.exports=n.p+"2e16625f6f55b96572f79cc35682266f.png"},950737:(e,t,n)=>{e.exports=n.p+"3be860e37bf5f2df40ad15d2de5cee0e.png"},276727:(e,t,n)=>{e.exports=n.p+"97ac61a0b98fd6f01b4de370c9ccdb56.png"},798870:(e,t,n)=>{e.exports=n.p+"baa36c258ccf78ab3239596fc876e337.svg"},
453141:(e,t,n)=>{e.exports=n.p+"adbef191115fc5f2ae3fc3e7b8d7fb55.svg"},625259:(e,t,n)=>{e.exports=n.p+"7c5ca7115623208e6b920a2020e6cfc8.svg"},271777:(e,t,n)=>{e.exports=n.p+"2de52bcd3f6aa083f2c9b93c69207f98.png"},291186:(e,t,n)=>{e.exports=n.p+"d8e344c2ef277c03d9a25207788ea608.gif"},908594:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r,o=n(281110),i=n(744564),s=n(347365),a=n(2590);function l(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var c=(l(r={},a.gkr.HOUSE_1,1),l(r,a.gkr.HOUSE_2,2),l(r,a.gkr.HOUSE_3,3),r);const u={joinHypeSquadOnline:function(e){return o.Z.post({url:a.ANM.HYPESQUAD_ONLINE,body:{house_id:c[e.houseID]},oldFormErrors:!0}).then((function(){return i.Z.dispatch({type:"HYPESQUAD_ONLINE_MEMBERSHIP_JOIN_SUCCESS",houseID:e.houseID})})).catch((function(e){throw new s.yZ(e)}))},leaveHypeSquadOnline:function(){return o.Z.delete({url:a.ANM.HYPESQUAD_ONLINE,oldFormErrors:!0}).then((function(){return i.Z.dispatch({
type:"HYPESQUAD_ONLINE_MEMBERSHIP_LEAVE_SUCCESS"})})).catch((function(e){throw new s.yZ(e)}))}}},731503:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(744564);const o={addKeybind:function(e){r.Z.dispatch({type:"KEYBINDS_ADD_KEYBIND",keybind:e})},setKeybind:function(e){r.Z.dispatch({type:"KEYBINDS_SET_KEYBIND",keybind:e})},deleteKeybind:function(e){r.Z.dispatch({type:"KEYBINDS_DELETE_KEYBIND",id:e})},enableAll:function(e){r.Z.dispatch({type:"KEYBINDS_ENABLE_ALL_KEYBINDS",enable:e})}}},219402:(e,t,n)=>{"use strict";n.d(t,{HZ:()=>r,d$:()=>o,Of:()=>i});var r,o,i;!function(e){e[e.OTHER=0]="OTHER";e[e.GIFTING_REFUND=1]="GIFTING_REFUND";e[e.BUYERS_REMORSE=2]="BUYERS_REMORSE";e[e.WRONG_PURCHASE=3]="WRONG_PURCHASE";e[e.FORGOT_TO_CANCEL=4]="FORGOT_TO_CANCEL";e[e.SERVER_BOOSTING_COOLDOWN=5]="SERVER_BOOSTING_COOLDOWN";e[e.USER_CONFUSION=6]="USER_CONFUSION";e[e.WANT_TO_SWITCH_TIERS=7]="WANT_TO_SWITCH_TIERS";e[e.DONT_NEED=8]="DONT_NEED"}(r||(r={}));!function(e){e[e.OTHER=0]="OTHER"
;e[e.ALREADY_REFUNDED=1]="ALREADY_REFUNDED";e[e.NOT_USER_REFUNDABLE_TYPE=2]="NOT_USER_REFUNDABLE_TYPE";e[e.PAST_REFUNDABLE_DATE=3]="PAST_REFUNDABLE_DATE";e[e.ENTITLEMENT_ALREADY_CONSUMED=4]="ENTITLEMENT_ALREADY_CONSUMED";e[e.ALREADY_REFUNDED_PREMIUM=5]="ALREADY_REFUNDED_PREMIUM";e[e.ALREADY_REFUNDED_PREMIUM_GUILD=6]="ALREADY_REFUNDED_PREMIUM_GUILD"}(o||(o={}));!function(e){e.Authorised="Authorised";e.Error="Error"}(i||(i={}))},794249:(e,t,n)=>{"use strict";n.d(t,{Z:()=>I});var r=n(785893),o=n(667294),i=n(294184),s=n.n(i),a=n(945460),l=n(283124),c=n(370521),u=n(107364),d=n(926696),f=n(264628),p=n(421281),m=n(473708),h=n(348909),E=n.n(h);function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function _(e){_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){
return e.__proto__||Object.getPrototypeOf(e)};return _(e)}function T(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function O(e,t){O=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return O(e,t)}var b=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var o=_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return T(this,n)}}var I=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&O(e,t)}(n,e);var t=y(n);function n(){S(this,n);return t.apply(this,arguments)}var o=n.prototype;o.getLabel=function(e){return e instanceof c.dm?m.Z.Messages.PAYMENT_SOURCE_CARD_ENDING.format({brand:(0,p.De)(e.brand),last_4:e.last4
}):e instanceof c.qo?m.Z.Messages.PAYMENT_SOURCE_PAYPAL:e instanceof c.Sf?m.Z.Messages.PAYMENT_SOURCE_SOFORT:e instanceof c.fv?m.Z.Messages.PAYMENT_SOURCE_GIROPAY:e instanceof c.Vg?m.Z.Messages.PAYMENT_SOURCE_PRZELEWY24:e instanceof c.sn?m.Z.Messages.PAYMENT_SOURCE_PAYSAFE_CARD:e instanceof c.o_?m.Z.Messages.PAYMENT_SOURCE_GCASH:e instanceof c.kX?m.Z.Messages.PAYMENT_SOURCE_GRABPAY:e instanceof c.z?m.Z.Messages.PAYMENT_SOURCE_MOMO_WALLET:e instanceof c.Xc?m.Z.Messages.PAYMENT_SOURCE_VENMO:e instanceof c.Om?m.Z.Messages.PAYMENT_SOURCE_KAKAOPAY:e instanceof c.JC?m.Z.Messages.PAYMENT_SOURCE_GOPAY_WALLET:e instanceof c.U4?m.Z.Messages.PAYMENT_SOURCE_BANCONTACT:e instanceof c.jc?m.Z.Messages.PAYMENT_SOURCE_IDEAL_WITH_BANK.format({bank:(0,l.YE)(e.bank)}):e instanceof c.D0?m.Z.Messages.PAYMENT_SOURCE_EPS_WITH_BANK.format({bank:(0,l.Ul)(e.bank)}):m.Z.Messages.PAYMENT_SOURCE_UNKNOWN};o.renderDescription=function(){var e=this.props,t=e.paymentSource,n=e.descriptionClassName;return(0,
r.jsx)(a.Text,{className:s()(E().description,n),variant:"text-md/semibold",children:this.getLabel(t)})};o.renderSubText=function(){var e=this.props,t=e.paymentSource,n=e.locale,r=null;t instanceof c.dm?r=m.Z.Messages.PAYMENT_SOURCE_CARD_EXPIRES.format({month:(0,f.E2)(t.expiresMonth,n),year:t.expiresYear}):t instanceof c.qo||t instanceof c.Sf||t instanceof c.Vg?r=t.email:t instanceof c.Xc&&(r="@"+t.username);return r};o.render=function(){var e=this.props,t=e.isDefault,n=e.paymentSource,o=e.showSubtext,i=e.isForSubscription,s=this.renderSubText();return(0,r.jsxs)(u.Z,{children:[(0,r.jsx)(d.ZP,{type:this.typeString}),(0,r.jsxs)(u.Z,{direction:u.Z.Direction.VERTICAL,className:E().descriptionWrapper,children:[(0,r.jsxs)(u.Z,{align:u.Z.Align.CENTER,children:[this.renderDescription(),t?(0,r.jsx)("div",{className:E().defaultIndicator,children:m.Z.Messages.DEFAULT}):null,i?(0,r.jsx)("div",{className:E().premiumIndicator,children:m.Z.Messages.PAYMENT_SOURCE_SUBSCRIPTION}):null,n.invalid?(0,
r.jsx)("div",{className:E().invalidIndicator,children:m.Z.Messages.PAYMENT_SOURCE_INVALID}):null]}),o&&null!=s?(0,r.jsx)("div",{className:E().subText,children:s}):null]})]})};!function(e,t,n){t&&g(e.prototype,t);n&&g(e,n)}(n,[{key:"typeString",get:function(){var e=this.props.paymentSource;return e instanceof c.qo?d.ZP.Types.PAYPAL:e instanceof c.Sf?d.ZP.Types.SOFORT:e instanceof c.dm?d.ZP.getType(e.brand):e instanceof c.fv?d.ZP.Types.GIROPAY:e instanceof c.Vg?d.ZP.Types.PRZELEWY24:e instanceof c.sn?d.ZP.Types.PAYSAFECARD:e instanceof c.o_?d.ZP.Types.GCASH:e instanceof c.kX?d.ZP.Types.GRABPAY:e instanceof c.z?d.ZP.Types.MOMO_WALLET:e instanceof c.Xc?d.ZP.Types.VENMO:e instanceof c.Om?d.ZP.Types.KAKAOPAY:e instanceof c.JC?d.ZP.Types.GOPAY_WALLET:e instanceof c.U4?d.ZP.Types.BANCONTACT:e instanceof c.D0?d.ZP.Types.EPS:e instanceof c.jc?d.ZP.Types.IDEAL:d.ZP.Types.UNKNOWN}}]);return n}(o.PureComponent);I.defaultProps={isForSubscription:!1,isDefault:!1,showSubtext:!1}},487683:(e,t,n)=>{
"use strict";n.d(t,{Z:()=>ht});var r=n(785893),o=n(667294),i=n(294184),s=n.n(i),a=n(441143),l=n.n(a),c=n(457217),u=n(202351),d=n(945460),f=n(744564),p=n(673679),m=n(458922),h=n(810978),E=n(914964),S=n(169376),g=n(661123),_=n(370521),T=n(177774),O=n(54709),b=n(2590),y=n(203600);function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function v(e){v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return v(e)}function N(e,t){return!t||"object"!==j(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function A(e,t){A=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return A(e,t)}var C,j=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function x(e){var t=function(){
if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var o=v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return N(this,n)}}!function(e){e[e.GIFT=1]="GIFT";e[e.PREORDER=8]="PREORDER"}(C||(C={}));var P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&A(e,t)}(n,e);var t=x(n);function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r;(r=t.call(this)).id=e.id;r.amount=e.amount;r.amountRefunded=e.amountRefunded;r.createdAt=e.createdAt;r.currency=e.currency;r.description=e.description
;r.paymentSource=e.paymentSource;r.status=e.status;r.tax=e.tax;r.taxInclusive=e.taxInclusive;r.subscription=e.subscription;r.skuId=e.skuId;r.skuPrice=e.skuPrice;r.sku=e.sku;r.flags=e.flags;r.downloadableInvoice=e.downloadableInvoice;r.downloadableRefundInvoices=e.downloadableRefundInvoices;r.premiumRefundDisqualificationReasons=e.premiumRefundDisqualificationReasons;return r}n.createFromServer=function(e){var t=null!=e.payment_source?_.ZP.createFromServer(e.payment_source):null,r=null!=e.sku?T.Z.createFromServer(e.sku):null,o=null!=e.subscription?O.Z.createFromServer(e.subscription):null;return new n({id:e.id,createdAt:new Date(e.created_at),currency:e.currency,tax:e.tax,taxInclusive:e.tax_inclusive,amount:e.amount,amountRefunded:e.amount_refunded,status:e.status,metadata:e.metadata,description:e.description,paymentSource:t,paymentGateway:e.payment_gateway,paymentGatewayPaymentId:e.payment_gateway_payment_id,flags:e.flags,subscription:o,skuId:e.sku_id,skuPrice:e.sku_price,sku:r,
downloadableInvoice:e.downloadable_invoice,downloadableRefundInvoices:e.downloadable_refund_invoices,premiumRefundDisqualificationReasons:e.premium_refund_disqualification_reasons})};!function(e,t,n){t&&I(e.prototype,t);n&&I(e,n)}(n,[{key:"isPurchasedViaApple",get:function(){return this.paymentGateway===b.gg$.APPLE}},{key:"isPurchasedViaGoogle",get:function(){return this.paymentGateway===b.gg$.GOOGLE}},{key:"isPurchasedExternally",get:function(){return this.isPurchasedViaApple||this.isPurchasedViaGoogle}},{key:"isSubscription",get:function(){return null!=this.subscription}},{key:"isPremiumSubscription",get:function(){return null!=this.subscription&&y.dJ.has(this.subscription.planId)}},{key:"isPremiumGuildSubscription",get:function(){return null!=this.subscription&&null!=this.subscription.additionalPlans.find((function(e){var t=e.planId;return y.Z1.has(t)}))}},{key:"isGift",get:function(){return g.yE(this.flags,C.GIFT)}},{key:"isPremiumGift",get:function(){
return this.isGift&&Object.values(y.Si).includes(this.skuId)}},{key:"isPreorder",get:function(){return g.yE(this.flags,C.PREORDER)}}]);return n}(S.Z);function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function M(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D(e){D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return D(e)}function L(e,t){return!t||"object"!==U(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Z(e,t){Z=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Z(e,t)}function w(e){return function(e){if(Array.isArray(e))return R(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return
;if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var U=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function B(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=D(e);if(t){var o=D(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return L(this,n)}}var G=[];function k(e){
var t=e.payment,n=P.createFromServer(t),r=G.findIndex((function(e){return e.id===t.id}));if(-1===r){G.push(n);G.sort((function(e,t){return t.createdAt.getTime()-e.createdAt.getTime()}))}else G[r]=n;G=w(G)}var F=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Z(e,t)}(n,e);var t=B(n);function n(){M(this,n);return t.apply(this,arguments)}var r=n.prototype;r.getPayment=function(e){return G.find((function(t){return t.id===e}))};r.getPayments=function(){return G};r.__getLocalVars=function(){return{payments:G}};return n}(u.ZP.Store);F.displayName="PaymentStore";const H=new F(f.Z,{BILLING_PAYMENTS_FETCH_SUCCESS:function(e){var t=e.payments,n=!0,r=!1,o=void 0;try{for(var i,s=function(){var e=i.value,t=P.createFromServer(e),n=G.findIndex((function(t){return t.id===e.id}));-1!==n?G[n]=t:G.push(t)
},a=t[Symbol.iterator]();!(n=(i=a.next()).done);n=!0)s()}catch(e){r=!0;o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}G.sort((function(e,t){return t.createdAt.getTime()-e.createdAt.getTime()}));G=w(G)},PAYMENT_UPDATE:k,BILLING_PAYMENT_FETCH_SUCCESS:k,LOGOUT:function(){G=[]}});var Y=n(551778),V=n(536392),W=n(107364),z=n(249697),K=n(136317),Q=n(473708),q=n(857425),X=n.n(q);function $(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function J(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function ee(e,t){
if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}const te=o.forwardRef((function(e,t){var n=e.currentPageIndex,o=e.numPages,i=e.onChangePage,a=e.children,l=e.className,c=e.showPageCount,u=void 0===c||c,f=ee(e,["currentPageIndex","numPages","onChangePage","children","className","showPageCount"]),p=n<=0,m=n>=o-1;return(0,r.jsxs)("div",J(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){$(e,t,n[t])}))}return e}({
className:s()(X().paginator,l),ref:t},f),{children:[a,(0,r.jsxs)("div",{className:X().pageActions,children:[(0,r.jsx)(d.Clickable,{className:s()(X().pageButtonPrev,$({},X().disabled,p)),tabIndex:p?-1:0,onClick:p?void 0:function(){return i(n-1)},children:(0,r.jsx)(z.Z,{className:X().pageButtonIcon,"aria-label":Q.Z.Messages.PAGINATION_PREVIOUS})}),u?(0,r.jsx)("div",{className:X().pageIndicator,children:Q.Z.Messages.PAGINATOR_OF_PAGES.format({currentPage:n+1,numPages:o})}):(0,r.jsx)("div",{className:X().pageIndicator,children:Q.Z.Messages.PAGINATOR_CURRENT_PAGE.format({currentPage:n+1})}),(0,r.jsx)(d.Clickable,{className:s()(X().pageButtonNext,$({},X().disabled,m)),tabIndex:m?-1:0,onClick:m?void 0:function(){return i(n+1)},children:(0,r.jsx)(K.Z,{className:X().pageButtonIcon,"aria-label":Q.Z.Messages.PAGINATION_NEXT})})]})]}))}))
;var ne=n(850841),re=n(730381),oe=n.n(re),ie=n(410111),se=n(333398),ae=n(513586),le=n(600277),ce=n(959207),ue=n(711531),de=n(575136),fe=n(641277),pe=n(926696),me=n(718831),he=n(621329),Ee=n(189865),Se=n(799043),ge=n(95891),_e=n(70145),Te=n(249052),Oe=n(794249),be=(0,n(260561).B)({id:"2021-08_user_initiated_refunds",label:"User Initiated Refunds",kind:"user",defaultConfig:{enabled:!1},treatments:[{id:0,label:"Control",config:{enabled:!1}},{id:1,label:"Can refund",config:{enabled:!0}}]});function ye(){var e=be.getCurrentConfig({},{autoTrackExposure:!1}).enabled;be.trackExposure({});return e}var Ie=n(219402),ve=n(520453),Ne=n(100321),Ae=n.n(Ne);function Ce(e,t,n,r,o,i,s){try{var a=e[i](s),l=a.value}catch(e){n(e);return}a.done?t(l):Promise.resolve(l).then(r,o)}function je(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){Ce(i,r,o,s,a,"next",e)}function a(e){Ce(i,r,o,s,a,"throw",e)}s(void 0)}))}}function xe(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function Re(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Me(e){Me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Me(e)}function De(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Re(e,t,n[t])}))}return e}function Le(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e)
;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Ze(e,t){return!t||"object"!==Ue(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function we(e,t){we=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return we(e,t)}var Ue=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Be(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Me(e);if(t){
var o=Me(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ze(this,n)}}var Ge,ke=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:s.label++;return{value:i[1],done:!1};case 5:s.label++;r=i[1];i=[0];continue;case 7:i=s.ops.pop();s.trys.pop();continue;default:if(!(o=s.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1];o=i;break}if(o&&s.label<o[2]){
s.label=o[2];s.ops.push(i);break}o[2]&&s.ops.pop();s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},Fe=function(e){return"https://".concat(b.xr4,"/hc/").concat(e.toLowerCase(),"/requests/new?ticket_form_id=360000118612")},He=[b.epS.DURABLE_PRIMARY,b.epS.DURABLE,b.epS.CONSUMABLE];!function(e){e.TIME_PLAYED="TIME_PLAYED";e.PURCHASE_DATE="PURCHASE_DATE";e.SKU_TYPE="SKU_TYPE";e.ALREADY_REFUNDED="ALREADY_REFUNDED";e.PAYMENT_STATUS="PAYMENT_STATUS";e.PAYMENT_GATEWAY="PAYMENT_GATEWAY";e.SKU_STICKER_PACK="SKU_STICKER_PACK";e.SUBSCRIPTION_TYPE="SUBSCRIPTION_TYPE"}(Ge||(Ge={}));function Ye(e){switch(e){case Ie.d$.ALREADY_REFUNDED_PREMIUM:return Q.Z.Messages.BILLING_REFUND_ALREADY_REFUNDED_PREMIUM_REASON;case Ie.d$.ALREADY_REFUNDED_PREMIUM_GUILD:return Q.Z.Messages.BILLING_REFUND_ALREADY_REFUNDED_PREMIUM_GUILD_REASON;case Ie.d$.ENTITLEMENT_ALREADY_CONSUMED:
return Q.Z.Messages.BILLING_REFUND_ALREADY_CONSUMED_REASON;default:return Q.Z.Messages.BILLING_REFUND_GENERIC_REASON}}var Ve=[b.PyE.FAILED,b.PyE.REVERSED,b.PyE.CANCELED],We=[ve.gg.APPLE],ze=function(e){var t=e.description,n=e.cost;return(0,r.jsx)("li",{className:Ae().paymentDetail,children:(0,r.jsxs)(W.Z,{justify:W.Z.Justify.BETWEEN,children:[(0,r.jsx)("div",{children:t}),(0,r.jsx)("div",{children:n})]})})},Ke=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&we(e,t)}(i,e);var t=Be(i);function i(){xe(this,i);var e;(e=t.apply(this,arguments)).state={expanded:!1};e.refundRules=[{rule:Ge.TIME_PLAYED,canRefund:function(){if(e.isSkuPreorder)return!0;var t=e.timePlayed;return null==t||t.asMilliseconds()<oe().duration(2,"hours").asMilliseconds()}},{rule:Ge.PURCHASE_DATE,canRefund:function(){var t=e.props.payment
;if(e.isSkuPreorder)return!0;var n=t.isPremiumSubscription||t.isPremiumGuildSubscription||t.isPremiumGift?5:14;return e.daysSincePurchase<=n}},{rule:Ge.SKU_TYPE,canRefund:function(){var t=e.props.payment;return null==t.sku||t.sku.type!==b.epS.CONSUMABLE}},{rule:Ge.ALREADY_REFUNDED,canRefund:function(){var t=e.props.payment;return t.amountRefunded<t.amount}},{rule:Ge.PAYMENT_STATUS,canRefund:function(){var t=e.props.payment;return!Ve.includes(t.status)}},{rule:Ge.PAYMENT_GATEWAY,canRefund:function(){var t=e.props.payment;return null==t.paymentGateway||!We.includes(t.paymentGateway)}},{rule:Ge.SKU_STICKER_PACK,canRefund:function(){var t=e.props.payment;return null==t.sku||!(0,g.yE)(t.sku.flags,b.l4R.STICKER_PACK)}},{rule:Ge.SUBSCRIPTION_TYPE,canRefund:function(){var t,n,r=e.props.payment;return(null===(t=r.subscription)||void 0===t?void 0:t.type)!==b.NYc.GUILD&&(null===(n=r.subscription)||void 0===n?void 0:n.type)!==b.NYc.APPLICATION}}];e.handleExpandInfo=function(){e.setState({
expanded:!e.state.expanded})};return e}var a=i.prototype;a.validateRefundRules=function(){return this.refundRules.filter((function(e){return!(0,e.canRefund)()})).map((function(e){return e.rule}))};a.renderStatus=function(){var e=this.props.payment;switch(e.status){case b.PyE.PENDING:return(0,r.jsx)("span",{className:Ae().statusTagGrey,children:Q.Z.Messages.BILLING_TAG_PENDING});case b.PyE.FAILED:return(0,r.jsx)("span",{className:Ae().statusTagRed,children:Q.Z.Messages.BILLING_TAG_FAILED});case b.PyE.REFUNDED:return e.amountRefunded!==e.amount?(0,r.jsx)("span",{className:Ae().statusTagGreen,children:Q.Z.Messages.BILLING_TAG_PARTIALLY_REFUNDED}):(0,r.jsx)("span",{className:Ae().statusTagGreen,children:Q.Z.Messages.BILLING_TAG_REFUNDED});case b.PyE.REVERSED:return(0,r.jsx)("span",{className:Ae().statusTagRed,children:Q.Z.Messages.BILLING_TAG_REVERSED});case b.PyE.CANCELED:return(0,r.jsx)("span",{className:Ae().statusTagRed,children:Q.Z.Messages.BILLING_TAG_CANCELED});default:return null}}
;a.renderPrice=function(){var e=this.props.payment,t=e.amount-e.amountRefunded;return(0,r.jsx)("span",{className:Ae().price,children:(0,Te.T4)(t,e.currency)})};a.renderPaymentBreakdown=function(){var e=this.props,t=e.payment,n=e.locale,i=t.taxInclusive,a=t.tax,l=t.amount,c=t.amountRefunded,u=t.currency;return(0,r.jsxs)("div",{className:s()(Ae().paymentText,Ae().paymentBreakdown),children:[null!=t.paymentSource?(0,r.jsx)(Oe.Z,{paymentSource:t.paymentSource,locale:n,descriptionClassName:Ae().paymentText}):null,(0,r.jsxs)("ul",{children:[!i&&a>0?(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(ze,{description:t.description,cost:(0,Te.T4)(l-a,u)}),(0,r.jsx)(ze,{description:Q.Z.Messages.BILLING_PAYMENT_BREAKDOWN_TAXES,cost:(0,Te.T4)(a,u)})]}):null,(0,r.jsx)(ze,{description:Q.Z.Messages.BILLING_PAYMENT_BREAKDOWN_TOTAL,cost:(0,Te.T4)(l,u)}),c>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ze,{description:Q.Z.Messages.BILLING_PAYMENT_BREAKDOWN_REFUNDED,cost:(0,Te.T4)(c,u)}),(0,r.jsx)(ze,{
description:Q.Z.Messages.BILLING_PAYMENT_BREAKDOWN_NET,cost:(0,Te.T4)(l-c,u)})]})]})]})};a.renderInvoiceDownload=function(){var e=this.props.payment;return null==e.downloadableInvoice||""===e.downloadableInvoice?null:(0,r.jsxs)("div",{className:Ae().downloadInvoice,children:[(0,r.jsx)(d.Anchor,{href:e.downloadableInvoice,children:Q.Z.Messages.BILLING_DOWNLOAD_INVOICE}),null!=e.downloadableRefundInvoices?e.downloadableRefundInvoices.map((function(e,t){return(0,r.jsx)(d.Anchor,{className:Ae().downloadRefundInvoice,href:e,children:Q.Z.Messages.BILLING_DOWNLOAD_REFUND_INVOICE},t)})):null]})};a.renderRefundDetails=function(){var e=this.props,t=e.locale,n=e.payment,i=this.validateRefundRules();if(i.includes(Ge.PAYMENT_GATEWAY)||i.includes(Ge.PAYMENT_STATUS)||i.includes(Ge.ALREADY_REFUNDED)||i.includes(Ge.SKU_STICKER_PACK)||i.includes(Ge.SUBSCRIPTION_TYPE))return null;var s,a=0===i.length,l=Fe(t),c=this.isPremium?5:14
;s=i.includes(Ge.SKU_TYPE)?Q.Z.Messages.BILLING_APPLICATION_CONSUMABLE_REFUND_TEXT_UNABLE.format({supportURL:l}):a?n.isPreorder&&this.isSkuPreorder?Q.Z.Messages.BILLING_PREORDER_REFUND_TEXT.format({supportURL:l}):n.isPremiumSubscription||n.isPremiumGuildSubscription?Q.Z.Messages.BILLING_PREMIUM_REFUND_TEXT.format({dateLimit:c,supportURL:l}):n.isGift?Q.Z.Messages.BILLING_GIFT_REFUND_TEXT.format({dateLimit:c,supportURL:l}):Q.Z.Messages.BILLING_APPLICATION_REFUND_TEXT.format({dateLimit:c,playtimeLimit:2,supportURL:l}):n.isGift?Q.Z.Messages.BILLING_GIFT_REFUND_TEXT_UNABLE.format({dateLimit:c}):n.isPremiumSubscription||n.isPremiumGuildSubscription?Q.Z.Messages.BILLING_PREMIUM_REFUND_TEXT_UNABLE.format({dateLimit:c}):Q.Z.Messages.BILLING_APPLICATION_REFUND_TEXT_UNABLE.format({dateLimit:c,playtimeLimit:2});this.isPremium&&ye()&&(s=null);return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(d.H,{className:Ae().paymentHeader,children:Q.Z.Messages.BILLING_REFUND_HEADER}),(0,r.jsxs)("div",{
className:Ae().paymentText,children:[(0,r.jsx)("div",{children:s}),this.renderRefundActions(i)]})]})};a.renderRefundCriteria=function(e,t,n,o){return(0,r.jsxs)("div",{className:Ae().refundCriteria,children:[(0,r.jsx)(d.H,{className:Ae().refundSubHeader,children:e}),(0,r.jsxs)("div",{className:Ae().refundIconContainer,children:[(0,r.jsx)(t,{className:Ae().refundCriteriaIcon}),null!=n&&(0,r.jsx)("div",{children:n})]})]},o)};a.renderRefundActions=function(e){var t,o=this.props,i=o.locale,s=o.payment;if(this.isSkuPreorder||e.includes(Ge.SKU_TYPE))return null;var a,l=e.includes(Ge.PURCHASE_DATE)?Ee.Z:he.Z,c=e.includes(Ge.TIME_PLAYED)||(null===(t=s.premiumRefundDisqualificationReasons)||void 0===t?void 0:t.includes(Ie.d$.PAST_REFUNDABLE_DATE))?Ee.Z:he.Z;if(!this.isPremium||!ye())return(0,r.jsxs)("div",{className:Ae().refundActions,children:[(0,r.jsxs)("div",{className:Ae().refundRules,
children:[this.renderRefundCriteria(s.isPreorder?Q.Z.Messages.BILLING_REFUND_RELEASE_DATE_SUBHEADER:Q.Z.Messages.BILLING_REFUND_PURCHASE_DATE_SUBHEADER,l,Q.Z.Messages.BILLING_REFUND_PURCHASE_DATE.format({daysSincePurchase:this.daysSincePurchase})),s.isSubscription||s.isGift?null:this.renderRefundCriteria(Q.Z.Messages.BILLING_REFUND_PLAY_TIME_SUBHEADER,c,null!=this.timePlayed?this.timePlayed.humanize():Q.Z.Messages.BILLING_REFUND_PLAY_TIME_NEVER_PLAYED)]}),(0,r.jsx)(d.Anchor,{href:Fe(i),children:Q.Z.Messages.BILLING_REFUND_REPORT_A_PROBLEM})]});var u=(null!==(a=s.premiumRefundDisqualificationReasons)&&void 0!==a?a:[Ie.d$.OTHER])[0],f=null!=u||0!==e.length||s.isPurchasedExternally;return(0,r.jsxs)("div",{className:Ae().refundActions,children:[(0,r.jsx)(d.Tooltip,{shouldShow:f,text:Ye(u),children:function(e){return(0,r.jsx)(d.Button,Le(De({},e),{color:d.Button.Colors.PRIMARY,disabled:f,onClick:function(){return(0,d.openModalLazy)(je((function(){var e,t;return ke(this,(function(o){
switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(80099)]).then(n.bind(n,480099))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,De({payment:s,reportProblemUrl:Fe(i)},e))}]}}))})))},children:Q.Z.Messages.BILLING_REFUND_BUTTON_TEXT}))}}),(0,r.jsx)(d.Anchor,{href:Fe(i),children:Q.Z.Messages.BILLING_REFUND_REPORT_A_PROBLEM})]})};a.renderDescription=function(){var e,t,n=this.props,i=n.compactMode,s=n.payment,a=n.application,c=n.stickerPack,u=this.state.expanded,f=s.sku,p=s.subscription,m=null!=s.paymentSource&&b.Uk1.has(s.paymentSource.type);if(null!=p&&0!==p.items.length){var h=[],E=null;if(p.type===b.NYc.PREMIUM)p.items.forEach((function(e){var t=e.planId,n=e.quantity;if((0,ne.uZ)(t)){h.push(ne.ZP.getDisplayName(t,!1,m));E=y.GP[t].skuId}else{h.push("".concat(n>1?"".concat(n,"x "):"").concat(ne.ZP.getDisplayName(t,!1,m)));null==E&&(E=y.GP[t].skuId)}}));else if(p.type===b.NYc.GUILD){var S=Y.Z.get(p.items[0].planId)
;l()(null!=S,"Guild subscription plan should already have been loaded");var g=S.interval===y.rV.YEAR?Q.Z.Messages.YEARLY_GUILD_SUBSCRIPTION:Q.Z.Messages.MONTHLY_GUILD_SUBSCRIPTION;h.push(g.format({planName:S.name}));E=S.skuId}else if(p.type===b.NYc.APPLICATION){var _=Y.Z.get(p.items[0].planId);l()(null!=_,"Application subscription plan should already have been loaded");null!=a?h.push(Q.Z.Messages.MONTHLY_APPLICATION_SUBSCRIPTION_V2.format({tier:null==f?void 0:f.name})):h.push(Q.Z.Messages.APPLICATION_SUBSCRIPTION_FROM_DELETED_APPLICATION);E=_.skuId}t=h.join(", ");e=(0,r.jsx)(fe.Z,{className:Ae().descriptionIcon,game:a,size:fe.Z.Sizes.XSMALL,skuId:E})}else if(null!=f){t=s.isPreorder?Q.Z.Messages.PREORDER_SKU_NAME.format({name:f.name}):f.name;if(null!=c){var T=(0,ae.Zt)(c);e=(0,r.jsx)(le.ZP,{disableAnimation:!u,isInteracting:u,sticker:T,className:Ae().descriptionIcon,size:24})}else e=(0,r.jsx)(fe.Z,{className:Ae().descriptionIcon,game:a,size:fe.Z.Sizes.XSMALL,skuId:f.id})}else{e=(0,
r.jsx)(ge.Z,{className:Ae().descriptionIcon});t=s.description}var O=(0,r.jsx)("div",{className:Ae().date,children:(0,_e.vc)(oe()(s.createdAt),"MM/DD/YYYY")}),I=s.isGift?(0,r.jsx)(d.Tooltip,{text:Q.Z.Messages.BILLING_GIFT_PURCHASE_TOOLTIP,children:function(e){return(0,r.jsx)(Se.Z,De({className:Ae().giftIcon},e))}}):null;return i?(0,r.jsxs)("div",{className:Ae().description,children:[e,(0,r.jsxs)("div",{children:[t,O]}),I]}):(0,r.jsxs)(o.Fragment,{children:[O,(0,r.jsxs)("div",{className:Ae().description,children:[e,(0,r.jsx)("div",{children:t}),I]})]})};a.renderExpandedSection=function(){return(0,r.jsx)(d.Clickable,{onClick:function(e){return e.stopPropagation()},children:(0,r.jsxs)("div",{className:Ae().expandedInfo,children:[(0,r.jsx)(d.H,{className:Ae().paymentHeader,children:Q.Z.Messages.BILLING_PURCHASE_DETAILS_HEADER}),this.renderPaymentBreakdown(),this.renderInvoiceDownload(),this.renderRefundDetails()]})})};a.render=function(){
var e=this,t=this.props,n=t.payment,o=t.className,i=t.compactMode,a=this.state.expanded;return(0,r.jsx)(c.mh,{id:n.id,children:function(t){return(0,r.jsxs)(d.Clickable,Le(De({onClick:e.handleExpandInfo,className:s()(a?Ae().payment:Ae().hoverablePayment,o,Re({},Ae().compact,i)),focusProps:{offset:4}},t),{children:[(0,r.jsxs)(W.Z,{className:Ae().summaryInfo,align:W.Z.Align.CENTER,children:[e.renderDescription(),(0,r.jsxs)("div",{className:Ae().amount,children:[e.renderStatus(),e.renderPrice()]}),(0,r.jsx)(me.Z,{className:Ae().expand,direction:a?me.Z.Directions.UP:me.Z.Directions.DOWN})]}),a?e.renderExpandedSection():null]}))}})};!function(e,t,n){t&&Pe(e.prototype,t);n&&Pe(e,n)}(i,[{key:"timePlayed",get:function(){var e=this.props.applicationStatistics;return null!=e&&null!=e.total_discord_sku_duration?oe().duration(e.total_discord_sku_duration,"seconds"):null}},{key:"daysSincePurchase",get:function(){
var e=this.props.payment,t=null!=e.sku?e.sku.releaseDate:null,n=null!=t&&t.isAfter(e.createdAt)?t:e.createdAt;return oe()().diff(n,"days")}},{key:"isSkuPreorder",get:function(){var e=this.props.payment;return null!=e.sku&&e.sku.isPreorder()}},{key:"isPremium",get:function(){var e=this.props.payment;return e.isPremiumSubscription||e.isPremiumGuildSubscription||e.isPremiumGift}},{key:"typeString",get:function(){var e=this.props.payment.paymentSource;return e instanceof _.qo?pe.ZP.Types.PAYPAL:e instanceof _.dm?pe.ZP.getType(e.brand):pe.ZP.Types.UNKNOWN}}]);return i}(o.PureComponent);Ke.defaultProps={compactMode:!1};function Qe(e){var t,n,i=e.payment,s=e.locale,a=e.compactMode,l=e.className,c=null!=i.sku&&He.includes(i.sku.type)?i.sku.applicationId:null,d=null===(t=i.sku)||void 0===t?void 0:t.applicationId,f=(null===(n=i.subscription)||void 0===n?void 0:n.type)===b.NYc.APPLICATION,p=(0,u.cj)([de.Z,ce.Z,ue.Z],(function(){return{
applicationStatistics:null!=c?de.Z.getCurrentUserStatisticsForApplication(c):null,gameApplication:null!=c?ce.Z.getGame(c):null,paymentSources:ue.Z.paymentSources}})),m=p.applicationStatistics,h=p.gameApplication,E=p.paymentSources,S=(0,u.e7)([se.Z],(function(){return null!=d?se.Z.getApplication(d):null}));o.useEffect((function(){f&&null!=d&&(0,ie.i6)(d)}),[d,f]);return(0,r.jsx)(Ke,{applicationStatistics:m,application:f?S:h,stickerPack:null,paymentSources:E,locale:s,compactMode:a,className:l,payment:i})}var qe=n(288436),Xe=n.n(qe);function $e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Je(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function et(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function tt(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,
writable:!0}):e[t]=n;return e}function nt(e){nt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return nt(e)}function rt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){tt(e,t,n[t])}))}return e}function ot(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function it(e,t){if(null==e)return{}
;var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function st(e,t){return!t||"object"!==ct(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function at(e,t){at=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return at(e,t)}function lt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done);s=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){a=!0;o=e}finally{try{s||null==n.return||n.return()}finally{
if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $e(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $e(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ct=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function ut(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=nt(e);if(t){var o=nt(this).constructor;n=Reflect.construct(r,arguments,o)
}else n=r.apply(this,arguments);return st(this,n)}}var dt=10;function ft(e){var t=e.payments,n=e.locale,i=e.compactMode,a=e.numPages,l=o.useRef(null),u=lt(o.useState(0),2),f=u[0],m=u[1],h=lt(o.useState(null),2),S=h[0],g=h[1],_=t.slice(f*dt,(f+1)*dt);o.useEffect((function(){var e;null===(e=l.current)||void 0===e||e.scrollTo({to:0})}),[f]);var T=o.useCallback((function(e){m(e);var n=t[t.length-1].id;if(e===a-1&&S!==n){(0,p.cQ)(dt,n);g(n)}}),[t,a,S]),O=(0,E.Z)("billing-history",l);return(0,r.jsx)(c.bG,{navigator:O,children:(0,r.jsx)(c.SJ,{children:function(e){var t=e.ref,o=it(e,["ref"]);return(0,r.jsx)(te,ot(rt({className:s()(Xe().verticalFit,Xe().paginator),currentPageIndex:f,onChangePage:T,numPages:a,ref:t},o),{children:(0,r.jsx)(d.AdvancedScroller,{className:Xe().bottomDivider,ref:l,children:_.map((function(e,t){return(0,r.jsx)(Qe,{className:s()(Xe().paymentRow,Xe().bottomDivider),payment:e,locale:n,compactMode:i},t)}))})}))}})})}var pt=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&at(e,t)}(n,e);var t=ut(n);function n(){Je(this,n);var e;(e=t.apply(this,arguments)).scrollerRef=o.createRef();return e}var i=n.prototype;i.componentDidMount=function(){f.Z.wait((function(){(0,m.N)();(0,p.cQ)(20)}))};i.renderPremiumExternalSubscription=function(e){l()(null!=e.paymentGateway,"Expected payment gateway when rendering for external subscription");return(0,r.jsxs)(d.Card,{className:Xe().externalRow,children:[(0,r.jsx)("div",{className:Xe().externalRowHeader,children:Q.Z.Messages.BILLING_EXTERNAL_HEADER.format({paymentGatewayName:ve.Vz[e.paymentGateway]})}),(0,r.jsx)("div",{className:Xe().externalRowBody,children:Q.Z.Messages.BILLING_EXTERNAL_DESCRIPTION.format({paymentGatewayName:ve.Vz[e.paymentGateway],billingHistoryLink:(0,ne.JE)(e.paymentGateway,"BILLING_HISTORY")})})]})}
;i.render=function(){var e=this.props,t=e.compactMode,n=e.payments,o=e.subscription,i=e.locale,a=null!=o&&o.isPurchasedExternally;return 0!==n.length||a?(0,r.jsxs)("div",{className:Xe().verticalFit,children:[null!=o&&a?this.renderPremiumExternalSubscription(o):null,n.length>0?(0,r.jsxs)("div",{className:s()(Xe().paymentPane,Xe().verticalFit),children:[t?null:(0,r.jsx)("div",{className:s()(Xe().paymentRow,Xe().bottomDivider),children:(0,r.jsxs)(W.Z,{className:Xe().paymentRowHeader,children:[(0,r.jsx)("div",{className:Ae().date,children:Q.Z.Messages.BILLING_PAYMENT_TABLE_HEADER_DATE}),(0,r.jsx)("div",{className:Xe().paymentRowHeaderDescription,children:Q.Z.Messages.BILLING_PAYMENT_TABLE_HEADER_DESCRIPTION}),(0,r.jsx)("div",{className:Ae().amount,children:Q.Z.Messages.BILLING_PAYMENT_TABLE_HEADER_AMOUNT})]})}),(0,r.jsx)(ft,{compactMode:t,locale:i,payments:n,numPages:this.numPages})]}):null]}):null};!function(e,t,n){t&&et(e.prototype,t);n&&et(e,n)}(n,[{key:"numPages",get:function(){
return Math.max(Math.ceil(this.props.payments.length/dt),1)}}]);return n}(o.PureComponent);pt.defaultProps={compactMode:!1};function mt(e){var t,n=e.skuId,r=null===(t=e.subscription)||void 0===t?void 0:t.items[0].planId;return!(null==n||null==r||Object.values(y.Si).includes(n)||(0,ne.PV)(r))}function ht(e){var t=(0,u.e7)([H],(function(){return H.getPayments()})),n=(0,u.e7)([V.Z],(function(){return V.Z.getPremiumTypeSubscription()})),i=o.useMemo((function(){return new Set(t.filter(mt).map((function(e){var t=e.subscription;return null==t?void 0:t.items[0].planId})))}),[t]),s=o.useMemo((function(){return new Set(t.filter(mt).map((function(e){return e.skuId})))}),[t]),a=(0,u.Wu)([Y.Z],(function(){return Y.Z.getPlanIdsForSkus(Array.from(s))})),l=o.useCallback((function(){return a.length===i.size}),[a,i]);o.useEffect((function(){l()||f.Z.wait((function(){s.forEach((function(e){return(0,h.GZ)(e,void 0,void 0,!0,void 0)}))}))}),[l,s]);return(0,r.jsx)(pt,ot(rt({},e),{payments:l()?t:[],
subscription:n}))}},176785:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(785893),o=(n(667294),n(294184)),i=n.n(o),s=n(575945),a=n(945460),l=n(74535),c=n(265688),u=n(497842),d=n(652591),f=n(2590),p=n(91019),m=n.n(p);const h=function(e){var t=e.disabled,n=void 0!==t&&t,o=e.type,p=e.className,h=e.innerClassName,E=e.onConnect,S=(0,l.ZP)(),g=c.Z.get(o);return(0,r.jsx)(a.Tooltip,{text:g.name,children:function(e){var t=e.onMouseEnter,l=e.onMouseLeave;return(0,r.jsx)("div",{className:i()(m().wrapper,p),children:(0,r.jsx)(a.FocusRing,{children:(0,r.jsx)("button",{onMouseEnter:t,onMouseLeave:l,className:i()(m().inner,h),type:"button",disabled:n,style:{backgroundImage:"url('".concat((0,s.wj)(S)?g.icon.darkSVG:g.icon.lightSVG,"')")},onClick:null!=E?E:function(){return function(e){var t=c.Z.get(e);(0,u.Z)(t.type,"Friends List");d.default.track(f.rMx.ACCOUNT_LINK_STEP,{previous_step:"desktop connections",current_step:"desktop oauth",platform_type:t.type})}(o)},"aria-label":g.name})})})}})}},
322837:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(667294),o=n(178598),i=n(306472),s=n(120415);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e){l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return l(e)}function c(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e,t){u=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return u(e,t)}var d=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){
var n,r=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&u(e,t)}(n,e);var t=f(n);function n(){a(this,n);var e;(e=t.apply(this,arguments)).handleFileDownload=function(t){t.preventDefault();var n=e.getFileContents(),r=e.props,o=r.fileName,i=r.onDownload;s.FB?e.downloadNative(n,o):e.downloadHtml5(n,o);null==i||i()};return e}var l=n.prototype;l.getFileContents=function(){var e=this.props.fileContents;"function"==typeof e&&(e=e());return e};l.downloadNative=function(e,t){i.Z.fileManager.saveWithDialog(e,t)};l.downloadHtml5=function(e,t){var n=new Blob([e],{type:this.props.contentType});(0,o.saveAs)(n,t)};l.render=function(){var e=this.props.children,t=r.Children.only(e)
;return r.cloneElement(t,{onClick:this.handleFileDownload})};return n}(r.Component)},122012:(e,t,n)=>{"use strict";n.d(t,{d:()=>o,Y$:()=>i,jS:()=>s,tZ:()=>a,a8:()=>l});var r=n(744564);function o(){r.Z.dispatch({type:"DEVELOPER_ACTIVITY_SHELF_TOGGLE_ENABLED"})}function i(){r.Z.dispatch({type:"DEVELOPER_ACTIVITY_SHELF_TOGGLE_USE_ACTIVITY_URL_OVERRIDE"})}function s(e){r.Z.dispatch({type:"DEVELOPER_ACTIVITY_SHELF_SET_ACTIVITY_URL_OVERRIDE",activityUrlOverride:e})}function a(e){r.Z.dispatch({type:"DEVELOPER_ACTIVITY_SHELF_MARK_ACTIVITY_USED",applicationId:e,timestamp:(new Date).getTime()})}function l(e){r.Z.dispatch({type:"DEVELOPER_ACTIVITY_SHELF_UPDATE_FILTER",filter:e})}},793389:(e,t,n)=>{"use strict";n.d(t,{G3:()=>T,SO:()=>g,QV:()=>_});var r=n(281110),o=n(744564),i=n(347365);function s(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){s(e,t,n[t])}))}return e}function l(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function c(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e)
;for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}var u=function(e){return a({nameLocalizations:e.name_localizations,storeListingId:e.store_listing_id},c(e,["name_localizations","store_listing_id"]))},d=function(e){var t=e.description_localizations,n=e.claim_until,r=e.published_at,o=e.sets;return l(a({},c(e,["description_localizations","claim_until","published_at","sets"])),{descriptionLocalizations:t,publishedAt:null!=r?new Date(r):r,claimUntil:new Date(n),sets:o.map(u)})},f=function(e){var t=e.name_localizations,n=e.store_listing_id,r=e.claimed_at;return l(a({},c(e,["name_localizations","store_listing_id","claimed_at"])),{nameLocalizations:t,storeListingId:n,claimedAt:new Date(r)})},p=n(2590);n(479291);function m(e,t,n,r,o,i,s){try{var a=e[i](s),l=a.value}catch(e){n(e);return}a.done?t(l):Promise.resolve(l).then(r,o)}function h(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){
var i=e.apply(t,n);function s(e){m(i,r,o,s,a,"next",e)}function a(e){m(i,r,o,s,a,"throw",e)}s(void 0)}))}}var E,S=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:s.label++;return{value:i[1],done:!1};case 5:s.label++;r=i[1];i=[0];continue;case 7:i=s.ops.pop();s.trys.pop();continue;default:if(!(o=s.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1];o=i;break}if(o&&s.label<o[2]){s.label=o[2]
;s.ops.push(i);break}o[2]&&s.ops.pop();s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},g=(E=h((function(){var e,t;return S(this,(function(n){switch(n.label){case 0:o.Z.dispatch({type:"COLLECTIBLES_FETCH"});n.label=1;case 1:n.trys.push([1,3,,4]);return[4,r.Z.get(p.ANM.COLLECTIBLES)];case 2:e=n.sent();o.Z.dispatch({type:"COLLECTIBLES_FETCH_SUCCESS",storeListings:e.body.map(d)});return[3,4];case 3:t=n.sent();o.Z.dispatch({type:"COLLECTIBLES_FETCH_FAILURE"});throw new i.Hx(t);case 4:return[2]}}))})),function(){return E.apply(this,arguments)}),_=function(){var e=h((function(){var e,t;return S(this,(function(n){switch(n.label){case 0:o.Z.dispatch({type:"USER_COLLECTIBLES_FETCH"});n.label=1;case 1:n.trys.push([1,3,,4]);return[4,r.Z.get(p.ANM.USER_COLLECTIBLES)];case 2:e=n.sent();o.Z.dispatch({type:"USER_COLLECTIBLES_FETCH_SUCCESS",skus:e.body.map(f)});return[3,4];case 3:t=n.sent();o.Z.dispatch({
type:"USER_COLLECTIBLES_FETCH_FAILURE"});throw new i.Hx(t);case 4:return[2]}}))}));return function(){return e.apply(this,arguments)}}(),T=function(){var e=h((function(e){var t,n,s;return S(this,(function(a){switch(a.label){case 0:o.Z.dispatch({type:"USER_COLLECTIBLES_COLLECT",skuId:e});a.label=1;case 1:a.trys.push([1,3,,4]);return[4,r.Z.put({url:p.ANM.USER_COLLECTIBLES,body:{sku_id:e}})];case 2:n=a.sent();o.Z.dispatch({type:"USER_COLLECTIBLES_COLLECT_SUCCESS",skuId:e,skus:null===(t=n.body)||void 0===t?void 0:t.map(f)});return[3,4];case 3:s=a.sent();o.Z.dispatch({type:"USER_COLLECTIBLES_COLLECT_FAILURE",skuId:e});throw new i.Hx(s);case 4:return[2]}}))}));return function(t){return e.apply(this,arguments)}}();!function(){var e=h((function(e){var t,n;return S(this,(function(s){switch(s.label){case 0:o.Z.dispatch({type:"COLLECTIBLES_SKU_STORE_LISTING_FETCH",skuId:e});s.label=1;case 1:s.trys.push([1,3,,4]);return[4,r.Z.get(p.ANM.COLLECTIBLE_STORE_LISTING(e))];case 2:t=s.sent().body
;o.Z.dispatch({type:"COLLECTIBLES_SKU_STORE_LISTING_FETCH_SUCCESS",storeListing:d(t)});return[3,4];case 3:n=s.sent();o.Z.dispatch({type:"COLLECTIBLES_SKU_STORE_LISTING_FETCH_FAILURE",skuId:e});throw new i.Hx(n);case 4:return[2]}}))}))}()},479291:(e,t,n)=>{"use strict";n.d(t,{Z:()=>W});var r,o=n(496486),i=n(202351),s=n(744564);!function(e){e.FETCHING="fetching";e.FAILED="failed"}(r||(r={}));function a(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function l(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var c=function(e){
var t,n=e.storeListing,r=e.userSKUs,i=(0,o.keyBy)(r,"id"),s=(0,o.flatMap)(n.sets,(function(e){return e.items.map((function(n){return l(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){a(e,t,n[t])}))}return e}({},n),{sku:(0,o.omit)(null!==(t=i[e.id])&&void 0!==t?t:e,"items")})}))}));return(0,o.partition)(s,(function(e){var t=e.sku;return null!=i[t.id]}))},u=function(e){return e.sets.reduce((function(t,n){var r=n.id,o=n.name;t[r]={name:o,claimUntil:e.claimUntil};return t}),{})};function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n]
;r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function m(e){m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return m(e)}function h(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function E(e,t){E=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return E(e,t)}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done);s=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){a=!0;o=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var g=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}var T=[],O=[],b={},y=!1,I=void 0,v=void 0,N=void 0,A=O,C=b,j={
collected:T,uncollected:T},x=function(){if(null!=N&&0!==N.sets.length){var e=S(c({storeListing:N,userSKUs:A}),2),t=e[0],n=e[1];j.collected=0===t.length?T:t;j.uncollected=0===n.length?T:n}else{j.collected=T;j.uncollected=T}},P=function(e){y=!0},R=function(e){var t,n;if((0,o.isEqual)(N,null===(t=e.storeListings)||void 0===t?void 0:t[0]))y=!1;else{N=null===(n=e.storeListings)||void 0===n?void 0:n[0];x();y=!1;var r=u(N);Object.keys(r).forEach((function(e){C[e]=r[e]}))}},M=function(e){var t=e.storeListing,n=u(t);Object.keys(n).forEach((function(e){C[e]=n[e]}))},D=function(e){C[e.skuId]=r.FETCHING},L=function(e){C[e.skuId]=r.FAILED},Z=function(e){N=void 0;x();y=!1},w=function(e){if((0,o.isEqual)(A,e.skus))y=!1;else{A=0===e.skus.length?O:e.skus;x();y=!1}},U=function(e){A=O;x();y=!1},B=function(e){I=e.skuId},G=function(e){var t,n;A=0===(null===(t=e.skus)||void 0===t?void 0:t.length)?O:null!==(n=e.skus)&&void 0!==n?n:A;x();I=void 0},k=function(e){I=void 0},F=function(e){v=e.skuId
},H=function(e){v=void 0},Y=function(e){y=!1;I=void 0;v=void 0;N=void 0;A=O;C=b;x()},V=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&E(e,t)}(n,e);var t=_(n);function n(){f(this,n);return t.apply(this,arguments)}var r=n.prototype;r.getInfoForSKU=function(e){return C[e]};r.isUserSKU=function(e){return A.some((function(t){return t.id===e}))};r.__getLocalVars=function(){return{NO_ITEMS:T,NO_USER_SKUS:O,EMPTY_STORE_LISTING_MAP:b,isFetching:y,isCollecting:I,scrollPosition:v,storeListing:N,userSKUs:A,skuToCollectibleInfo:C,items:j,updateItems:x,handleFetch:P,handleFetchSuccess:R,handleFetchSKUStoreListingSuccess:M,handleFetchSKUStoreListingFetching:D,handleFetchSKUStoreListingFailure:L,handleFetchFailure:Z,handleUserFetchSuccess:w,handleUserFetchFailure:U,handleUserCollect:B,handleUserCollectSuccess:G,
handleUserCollectFailure:k,handleSetScrollPosition:F,handleResetScrollPosition:H,handleLogout:Y}};!function(e,t,n){t&&p(e.prototype,t);n&&p(e,n)}(n,[{key:"isFetching",get:function(){return y}},{key:"isCollecting",get:function(){return I}},{key:"storeListing",get:function(){return N}},{key:"items",get:function(){return j}},{key:"userSKUs",get:function(){return A}},{key:"scrollPosition",get:function(){return v}}]);return n}(i.ZP.Store);V.displayName="CollectiblesStore";const W=new V(s.Z,{COLLECTIBLES_FETCH:P,COLLECTIBLES_FETCH_SUCCESS:R,COLLECTIBLES_FETCH_FAILURE:Z,USER_COLLECTIBLES_FETCH:P,USER_COLLECTIBLES_FETCH_SUCCESS:w,USER_COLLECTIBLES_FETCH_FAILURE:U,USER_COLLECTIBLES_COLLECT:B,USER_COLLECTIBLES_COLLECT_SUCCESS:G,USER_COLLECTIBLES_COLLECT_FAILURE:k,COLLECTIBLES_SET_SCROLL_POSITION:F,COLLECTIBLES_RESET_SCROLL_POSITION:H,COLLECTIBLES_SKU_STORE_LISTING_FETCH_SUCCESS:M,COLLECTIBLES_SKU_STORE_LISTING_FETCH:D,COLLECTIBLES_SKU_STORE_LISTING_FETCH_FAILURE:L,LOGOUT:Y})},520330:(e,t,n)=>{
"use strict";n.d(t,{o1:()=>y,L1:()=>I,ZP:()=>v});var r=n(785893),o=n(667294),i=n(202351),s=n(945460),a=n(744564),l=n(320142),c=n(443812),u=n(618887),d=n(99827),f=n(293078),p=n(473708),m=n(232862),h=n.n(m);function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e,t,n,r,o,i,s){try{var a=e[i](s),l=a.value}catch(e){n(e);return}a.done?t(l):Promise.resolve(l).then(r,o)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){S(i,r,o,s,a,"next",e)}function a(e){S(i,r,o,s,a,"throw",e)}s(void 0)}))}}function _(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function T(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
;t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done);s=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){a=!0;o=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var b=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:s.label++;return{value:i[1],done:!1};case 5:s.label++;r=i[1];i=[0];continue;case 7:i=s.ops.pop();s.trys.pop();continue;default:if(!(o=s.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){
s.label=o[1];o=i;break}if(o&&s.label<o[2]){s.label=o[2];s.ops.push(i);break}o[2]&&s.ops.pop();s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};function y(e){var t=e.onClose,n=e.code,o=e.copyInputTitle,i=e.bodyText;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s.ModalHeader,{separator:!1,className:h().headerContainer,children:[(0,r.jsx)("div",{className:h().dropArt}),(0,r.jsx)(s.Heading,{variant:"heading-xl/semibold",children:p.Z.Messages.OUTBOUND_PROMOTION_REDEMPTION_MODAL_TITLE})]}),(0,r.jsxs)(s.ModalContent,{className:h().modalContent,children:[(0,r.jsx)(s.Text,{variant:"text-md/normal",className:h().codeBodyText,children:i}),(0,r.jsx)(s.FormDivider,{className:h().formDivider}),(0,r.jsx)(s.FormSection,{title:o,className:h().formSection,children:(0,r.jsx)(s.Button,{onClick:function(){return(0,l.Z)(n)},color:s.Button.Colors.BRAND,look:s.Button.Looks.FILLED,
children:p.Z.Messages.GIFT_EMBED_BUTTON_CLAIM})})]}),(0,r.jsx)(s.ModalFooter,{className:h().modalFooter,children:(0,r.jsx)(s.Button,{className:h().closeButton,onClick:t,look:s.Button.Looks.LINK,color:h().closeButton,children:p.Z.Messages.CLOSE})})]})}function I(e){var t=e.onClose,n=e.errorCode,o={26e4:p.Z.Messages.DROPS_USER_NOT_ENROLLED_ERROR,260001:p.Z.Messages.DROPS_QUEST_NOT_COMPLETED_ERROR,260002:p.Z.Messages.DROPS_NO_CODE_AVAILABLE_ERROR,260003:p.Z.Messages.DROPS_CODE_ALREADY_CLAIMED_ERROR},i=p.Z.Messages.GENERIC_ERROR_BODY;null!=o[n]&&(i=o[n]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s.ModalHeader,{separator:!1,className:h().errorHeader,children:[(0,r.jsx)("div",{className:h().errorArt}),(0,r.jsx)(s.Heading,{variant:"heading-xl/semibold",children:p.Z.Messages.GENERIC_ERROR_TITLE})]}),(0,r.jsx)(s.ModalContent,{className:h().errorBody,children:(0,r.jsx)(s.Text,{variant:"text-md/normal",className:h().bodyText,children:i})}),(0,r.jsx)(s.ModalFooter,{children:(0,
r.jsx)(s.Button,{color:s.Button.Colors.BRAND,onClick:t,children:p.Z.Messages.CLOSE})})]})}const v=function(e){var t=e.onClose,l=e.code,m=e.drop,E=e.platform,S=e.transitionState,I=(0,c.Dt)(),v=O(o.useState(),2),N=v[0],A=v[1];o.useEffect((function(){null==l&&a.Z.wait(g((function(){return b(this,(function(e){switch(e.label){case 0:return[4,(0,u.dN)(m.dropsQuestId)];case 1:e.sent();return[2]}}))})))}),[m.dropsQuestId,l]);var C=(0,i.e7)([d.Z],(function(){return d.Z.platformAvailability}));return(0,r.jsx)(s.ModalRoot,{transitionState:S,"aria-labelledby":I,children:(0,r.jsx)(r.Fragment,{children:function(){if(null!=l)return(0,r.jsx)(y,{bodyText:m.messages.claimTip(),onClose:t,copyInputTitle:p.Z.Messages.DROPS_REDEMPTION_CODE_PLATFORM_TITLE.format({platform:E}),code:l});if(null===C)return(0,r.jsx)("div",{className:h().spinnerContainer,children:(0,r.jsx)(s.Spinner,{})});var e=C.length>0,o=1===C.length;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s.ModalHeader,{separator:!1,
className:h().headerContainer,children:[(0,r.jsx)("div",{className:h().dropArt}),(0,r.jsx)(s.Heading,{variant:"heading-lg/semibold",children:p.Z.Messages.OUTBOUND_PROMOTION_REDEMPTION_MODAL_TITLE})]}),(0,r.jsxs)(s.ModalContent,{children:[(0,r.jsx)(s.Text,{variant:"text-md/normal",className:h().dropBodyText,children:o?p.Z.Messages.DROPS_MODAL_CHOOSE_SINGLE_PLATFORM.format({platform:(0,f.Un)(C[0])}):p.Z.Messages.DROPS_MODAL_CHOOSE_PLATFORM.format({title:m.title})}),(0,r.jsx)(s.FormDivider,{className:h().formDivider}),(0,r.jsxs)(s.FormSection,{className:h().dropFormSection,children:[(0,r.jsx)(s.SingleSelect,{onChange:A,options:C.map((function(e){return{value:e,label:(0,f.Un)(e)}})),value:o?C[0]:N,isDisabled:!e,className:e?"":h().selectDangerBorder,look:e?s.SelectLooks.FILLED:s.SelectLooks.CUSTOM}),!e&&(0,r.jsx)(s.Text,{variant:"text-sm/medium",color:"text-danger",className:h().errorCodesText,children:p.Z.Messages.DROPS_CODES_RAN_OUT})]})]}),(0,r.jsxs)(s.ModalFooter,{children:[e&&(0,
r.jsx)(s.Button,{color:s.Button.Colors.BRAND,onClick:function(){(0,s.openModalLazy)(g((function(){var e,i;return b(this,(function(s){switch(s.label){case 0:return[4,Promise.all([n.e(40532),n.e(95132)]).then(n.bind(n,195132))];case 1:e=s.sent(),i=e.default;return[2,function(e){return(void 0!==N||o)&&(0,r.jsx)(i,T(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){_(e,t,n[t])}))}return e}({},e),{platform:void 0===N?C[0]:N,code:l,dropsQuestId:m.dropsQuestId,closeParentModal:t,singlePlatformClaim:o}))}]}}))})))},disabled:void 0===N&&!o,children:p.Z.Messages.UNLOCK_CODE}),e?(0,r.jsx)(s.Button,{onClick:t,look:s.Button.Looks.LINK,color:h().maybeLaterButton,children:p.Z.Messages.MAYBE_LATER}):(0,r.jsx)(s.Button,{onClick:t,look:s.Button.Looks.LINK,
color:h().closeButton,children:p.Z.Messages.CLOSE})]})]})}()})})}},130962:(e,t,n)=>{"use strict";n.d(t,{c:()=>r});var r=(0,n(260561).B)({kind:"user",id:"2022-08_churro_experiment",label:"PS5 Voice Experiment",defaultConfig:{allowPlayStationStaging:!1},treatments:[{id:3,label:"PS Experiment + upsells + Staging",config:{allowPlayStationStaging:!0}}]})},392649:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(785893),o=(n(667294),n(945460)),i=n(225416),s=n.n(i);function a(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function l(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){
Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function c(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function u(e){var t=e.children,n=c(e,["children"]);return(0,r.jsx)(o.Button,l(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){a(e,t,n[t])}))}return e}({},n),{size:o.Button.Sizes.SMALL,look:o.Button.Looks.INVERTED,className:s().button,children:t}))}},798564:(e,t,n)=>{"use strict";n.d(t,{
MM:()=>oe,ZP:()=>ie});var r=n(785893),o=n(667294),i=n(294184),s=n.n(i),a=n(441143),l=n.n(a),c=n(730381),u=n.n(c),d=n(202351),f=n(336194),p=n(945460),m=n(734691),h=n(153686),E=n(19585),S=n(845882),g=n(276611),_=n(800336),T=n(473903),O=n(107364),b=n(641277),y=n(265367),I=n(652591),v=n(850841),N=n(447246),A=n(100749),C=n(499171),j=n(392649),x=n(250740),P=n(666800),R=n(575945),M=n(673679),D=n(64234),L=n(551778),Z=n(249052),w=n(473708),U=n(551047),B=n.n(U);function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k(e,t,n,r,o,i,s){try{var a=e[i](s),l=a.value}catch(e){n(e);return}a.done?t(l):Promise.resolve(l).then(r,o)}function F(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){k(i,r,o,s,a,"next",e)}function a(e){k(i,r,o,s,a,"throw",e)}s(void 0)}))}}function H(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done);s=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){a=!0;o=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return G(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Y=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){
return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:s.label++;return{value:i[1],done:!1};case 5:s.label++;r=i[1];i=[0];continue;case 7:i=s.ops.pop();s.trys.pop();continue;default:if(!(o=s.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1];o=i;break}if(o&&s.label<o[2]){s.label=o[2];s.ops.push(i);break}o[2]&&s.ops.pop();s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};function V(e){var t=e.subscription,n=e.renewalMutations,o=e.transitionState,i=e.onClose,s=e.analyticsLocation,a=(0,d.e7)([D.Z],(function(){
return D.Z.theme})),c=(0,E.Z)(h.Z.SUBSCRIPTION_CANCEL_DOWNGRADE_MODAL).analyticsLocations;function u(){return(u=F((function(){return Y(this,(function(e){switch(e.label){case 0:return[4,(0,M.dP)(t,t.planId,c,s)];case 1:e.sent();i();return[2]}}))}))).apply(this,arguments)}var f=L.Z.get(t.planId);l()(null!=f,"Missing subscriptionPlan");var m=(0,v.aS)(t.planId,!1,!1,{paymentSourceId:t.paymentSourceId,currency:t.currency}),S=(0,Z.og)((0,Z.T4)(m.amount,m.currency),f.interval,f.intervalCount);return(0,r.jsxs)(p.ModalRoot,{transitionState:o,"aria-label":w.Z.Messages.PREMIUM_PENDING_PLAN_CHANGE_CANCEL_HEADER,children:[(0,r.jsxs)(p.ModalHeader,{justify:O.Z.Justify.BETWEEN,separator:!1,children:[(0,r.jsx)(p.FormTitle,{tag:p.FormTitleTags.H4,children:w.Z.Messages.PREMIUM_PENDING_PLAN_CHANGE_CANCEL_HEADER}),(0,r.jsx)(p.ModalCloseButton,{onClick:i})]}),(0,r.jsx)(p.ModalContent,{className:B().modalBody,children:(0,
_.Q)(t.planId)?w.Z.Messages.PREMIUM_PENDING_PLAN_CHANGE_CANCEL_BODY_NO_EXISTING_PLAN.format({downgradedPlan:v.ZP.getDisplayName(n.planId),existingRate:S}):w.Z.Messages.PREMIUM_PENDING_PLAN_CHANGE_CANCEL_BODY.format({existingPlan:v.ZP.getDisplayName(t.planId),downgradedPlan:v.ZP.getDisplayName(n.planId),existingRate:S})}),(0,r.jsxs)(p.ModalFooter,{children:[(0,r.jsx)(p.Button,{onClick:function(){return u.apply(this,arguments)},children:w.Z.Messages.PREMIUM_PENDING_PLAN_CHANGE_CANCEL_BUTTON}),(0,r.jsx)(p.Button,{look:p.Button.Looks.LINK,color:(0,R.ap)(a)?p.Button.Colors.PRIMARY:p.Button.Colors.WHITE,onClick:i,children:w.Z.Messages.NEVERMIND})]})]})}function W(e){var t=e.subscription,n=e.renewalMutations,i=e.className,a=e.analyticsLocation,l=H(o.useState(!1),2),c=l[0],u=l[1];return(0,r.jsxs)("div",{className:s()(B().root,i),children:[(0,r.jsx)(y.Z,{className:B().infoIcon}),(0,r.jsx)("div",{className:B().text,children:w.Z.Messages.PREMIUM_PENDING_PLAN_CHANGE_NOTICE.format({
planName:t.hasExternalPlanChange?(0,v.zL)(n):v.ZP.getDisplayName(n.planId),date:t.currentPeriodEnd})}),t.isPurchasedExternally?null:(0,r.jsx)(p.Anchor,{onClick:function(e){u(!0);e.preventDefault()},className:B().cancelLink,children:w.Z.Messages.CANCEL}),c?(0,r.jsx)(p.Modal,{renderModal:function(e){var o=e.transitionState;return(0,r.jsx)(V,{subscription:t,renewalMutations:n,transitionState:o,onClose:function(){return u(!1)},analyticsLocation:a})},onCloseRequest:function(){return u(!1)}}):null]})}var z=n(2590),K=n(349263),Q=n.n(K);function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function X(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function $(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],s=!0,a=!1;try{
for(n=n.call(e);!(s=(r=n.next()).done);s=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){a=!0;o=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e){var t=e.subscription,n=e.renewalInvoicePreview,o=e.fromStandaloneBillingPage,i=void 0===o||o,a=e.className,c=(0,d.e7)([T.default],(function(){var e=T.default.getCurrentUser();l()(null!=e,"GuildBoostingHeader: currentUser cannot be undefined");return e}));if(0===(0,v.uV)(t.additionalPlans))return null
;var u,f=t.status,h=(0,v.v6)(t);u=h?Q().guildBoostingSubscriptionRowCanceled:(0,v.zV)(f)?Q().guildBoostingSubscriptionRowFailedPayment:Q().guildBoostingSubscriptionRowActive;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:s()(u,a),children:[(0,r.jsx)("div",{className:Q().guildBoostingSubscriptionRowBackground}),(0,r.jsx)("div",{className:Q().guildBoostingImage}),(0,r.jsxs)("div",{className:Q().guildBoostingSubscriptionRowBody,children:[(0,r.jsx)("div",{className:s()(Q().guildBoostingWordmark,X({},Q().canceled,h))}),(0,r.jsx)("div",{children:(0,v.bt)({subscription:t,renewalInvoicePreview:n,user:c})})]}),i&&(0,r.jsx)(j.Z,{color:p.Button.Colors.BRAND,onClick:function(){return m.Z.open(z.oAB.GUILD_BOOSTING)},children:w.Z.Messages.PREMIUM_GUILD_PERKS_MODAL_MANAGE_YOUR_SUBSCRIPTIONS})]}),!i&&(0,r.jsx)(p.Text,{className:Q().boostingDesktopAppBlurb,variant:"text-sm/normal",children:w.Z.Messages.GUILD_BOOSTING_MANAGEMENT_OPEN_DESKTOP_APP.format({openAppHook:function(){
return(0,S.Z)("app")}})})]})}function ee(){o.useEffect((function(){I.default.track(z.rMx.TOOLTIP_VIEWED,{type:"subscription_settings_missing_payment_method"})}),[]);return(0,r.jsxs)("div",{className:Q().paymentBanner,children:[(0,r.jsx)(y.Z,{className:Q().paymentBannerIcon,color:f.Z.unsafe_rawColors.YELLOW_260.css}),(0,r.jsx)(p.Text,{className:Q().paymentBannerText,variant:"text-sm/normal",children:w.Z.Messages.MISSING_PAYMENT_METHOD_BANNER})]})}function te(){o.useEffect((function(){I.default.track(z.rMx.TOOLTIP_VIEWED,{type:"subscription_settings_invalid_payment_method"})}),[]);return(0,r.jsxs)("div",{className:Q().paymentBanner,children:[(0,r.jsx)(y.Z,{className:Q().paymentBannerIcon,color:f.Z.unsafe_rawColors.RED_360.css}),(0,r.jsx)(p.Text,{className:Q().paymentBannerText,variant:"text-sm/normal",children:w.Z.Messages.INVALID_PAYMENT_METHOD_BANNER})]})}function ne(e){var t=e.daysPastDue,n=e.subscription,i=e.openInvoiceId,s=(0,
E.Z)(h.Z.PAST_DUE_ONE_TIME_PAYMENT_METHOD_BANNER).analyticsLocations;o.useEffect((function(){I.default.track(z.rMx.TOOLTIP_VIEWED,{type:"subscription_settings_invalid_payment_method"})}),[]);return(0,r.jsxs)("div",{className:Q().paymentBanner,children:[(0,r.jsx)(y.Z,{className:Q().paymentBannerIcon,color:f.Z.unsafe_rawColors.YELLOW_260.css}),(0,r.jsx)(p.Text,{className:Q().paymentBannerText,variant:"text-sm/normal",children:w.Z.Messages.PREMIUM_SUBSCRIPTION_ONE_TIME_PAYMENT_PAST_DUE_SUBSCRIPTION_TEXT.format({daysPastDue:t,paymentModalRedirect:function(){(0,g.Z)({initialPlanId:n.planIdFromItems,openInvoiceId:i,analyticsLocations:s})}})})]})}function re(e){var t=e.subscription,n=e.renewalInvoicePreview,o=e.className;return(0,r.jsxs)("div",{className:s()(Q().billingInformation,o),children:[(0,r.jsx)(p.FormTitle,{tag:"h3",className:Q().detailBlockHeader,children:w.Z.Messages.PREMIUM_SETTINGS_BILLING_INFO}),(0,r.jsx)("div",{children:v.ZP.getBillingInformationString(t,n)})]})}function oe(e){
var t=e.className;return(0,r.jsxs)("div",{className:t,children:[(0,r.jsx)(p.FormTitle,{className:Q().sectionTitle,tag:"h1",children:w.Z.Messages.USER_SETTINGS_SUBSCRIPTIONS_HEADER}),(0,r.jsx)("p",{className:Q().sectionDescription,children:w.Z.Messages.BILLING_PAYMENT_PREMIUM_DESCRIPTION}),(0,r.jsx)(p.Card,{className:Q().noItemsCard,type:p.Card.Types.CUSTOM,children:(0,r.jsxs)(O.Z,{align:O.Z.Align.CENTER,children:[(0,r.jsx)(b.Z,{game:null,size:b.Z.Sizes.SMALL,className:Q().noItemsIcon}),(0,r.jsx)("span",{className:Q().cardText,children:w.Z.Messages.USER_SETTINGS_NO_SUBSCRIPTIONS})]})})]})}function ie(e){var t,n,o=e.subscription,i=e.paymentSource,a=e.busy,l=e.className,c=e.fromStandaloneBillingPage,f=void 0===c||c,m=e.analyticsLocation,h=$((0,A.ED)({subscriptionId:o.id,renewal:!0}),1)[0],E=$((0,A.ED)({subscriptionId:o.id,renewal:!0,applyEntitlements:!0}),1)[0],S=(0,d.e7)([T.default],(function(){var e;return null===(e=T.default.getCurrentUser())||void 0===e?void 0:e.hasFreePremium()
})),g=u()(o.currentPeriodEnd),O=null!=o.paymentSourceId,b=null!==(t=null==E?void 0:E.total)&&void 0!==t?t:0,y=null==i?void 0:i.invalid,I=!O&&b>0&&(g.diff(u()(),"days")<=7||o.status===z.O0b.PAST_DUE)&&!S&&!o.isPurchasedExternally,v=y&&o.status===z.O0b.PAST_DUE&&!S&&!o.isPurchasedExternally,j=(0,C.U)(),R=!S&&j,M=(null==o?void 0:o.status)===z.O0b.PAST_DUE?u()().diff(u()(o.currentPeriodStart),"days"):0,D=$((0,A.Ox)({subscriptionId:o.id,preventFetch:!R}),1)[0];if(null==h||null==E)return(0,r.jsx)(p.Spinner,{});null!=o.renewalMutations&&(o.renewalMutations.planId!==o.planId&&!(0,_.Q)(o.renewalMutations.planId)||o.hasExternalPlanChange)&&(n=(0,r.jsx)(W,{subscription:o,renewalMutations:o.renewalMutations,className:Q().renewalMutationNotice,analyticsLocation:m}));return(0,r.jsx)("div",{className:l,children:(0,r.jsxs)(p.HeadingLevel,{component:(0,r.jsx)(p.FormTitle,{className:Q().sectionTitle,tag:"h1",children:w.Z.Messages.USER_SETTINGS_SUBSCRIPTIONS_HEADER}),children:[I?(0,
r.jsx)(ee,{}):null,v?(0,r.jsx)(te,{}):null,R&&null!=D?(0,r.jsx)(ne,{daysPastDue:M,subscription:o,openInvoiceId:D.id}):null,n,(0,r.jsxs)("div",{className:Q().subscriptionRows,children:[(0,r.jsx)("p",{className:Q().sectionDescription,children:w.Z.Messages.BILLING_PAYMENT_PREMIUM_DESCRIPTION}),(0,r.jsx)(x.Z,{subscription:o,renewalInvoicePreview:h,paymentSource:i,busy:a,analyticsLocation:m}),(0,r.jsx)(J,{subscription:o,renewalInvoicePreview:h,fromStandaloneBillingPage:f,className:Q().guildSubscriptionRow})]}),(0,r.jsx)("div",{children:(0,r.jsx)(p.HeadingLevel,{component:(0,r.jsx)(p.FormTitle,{tag:"h5",children:w.Z.Messages.BILLING_STEP_PAYMENT}),children:(0,r.jsxs)("div",{className:Q().details,children:[(0,r.jsx)(re,{subscription:o,renewalInvoicePreview:E,className:Q().detailsBlock}),(0,r.jsxs)("div",{className:s()(Q().detailsBlock,X({},Q().redBorder,v)),children:[(0,r.jsx)(p.FormTitle,{tag:"h3",className:Q().detailBlockHeader,
children:o.isPurchasedExternally&&null!=o.paymentGateway?w.Z.Messages.BILLING_MANAGED_BY_PAYMENT_GATEWAY.format({paymentGatewayName:z.Vzj[o.paymentGateway]}):w.Z.Messages.BILLING_PAY_FOR_IT_WITH}),(0,r.jsx)(P.Z,{subscription:o,onPaymentSourceAdded:N.i1,highlightAddPaymentMethodButton:I||v,analyticsLocation:m,currentInvoicePreview:h,dropdownClassName:Q().paymentDropdown})]})]})})})]})})}},250740:(e,t,n)=>{"use strict";n.d(t,{R:()=>Z,Z:()=>w});var r=n(785893),o=(n(667294),n(294184)),i=n.n(o),s=n(441143),a=n.n(s),l=n(945460),c=n(665082),u=n(153686),d=n(19585),f=n(296602),p=n(276611),m=n(800336),h=n(551778),E=n(759890),S=n(345392),g=n(850841),_=n(447246),T=n(392649),O=n(203600),b=n(2590),y=n(473708),I=n(812879),v=n.n(I);function N(e,t,n,r,o,i,s){try{var a=e[i](s),l=a.value}catch(e){n(e);return}a.done?t(l):Promise.resolve(l).then(r,o)}function A(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){N(i,r,o,s,a,"next",e)}function a(e){
N(i,r,o,s,a,"throw",e)}s(void 0)}))}}function C(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){C(e,t,n[t])}))}return e}function x(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var P=function(e,t){var n,r,o,i,s={label:0,sent:function(){
if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:s.label++;return{value:i[1],done:!1};case 5:s.label++;r=i[1];i=[0];continue;case 7:i=s.ops.pop();s.trys.pop();continue;default:if(!(o=s.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1];o=i;break}if(o&&s.label<o[2]){s.label=o[2];s.ops.push(i);break}o[2]&&s.ops.pop();s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}
}([i,a])}}},R=new f.Z("SubscriptionHeader.tsx"),M={page:b.ZY5.USER_SETTINGS,section:b.jXE.SETTINGS_PREMIUM,object:b.qAy.CARD};function D(e){var t=e.wordMark,n=e.subscriptionInfo,o=e.buttons,s=e.statusClasses;return(0,r.jsxs)("div",{className:i()(v().banner,s),children:[(0,r.jsx)("div",{className:v().bannerBackgroundImage}),(0,r.jsxs)("div",{className:v().detailsContainer,children:[(0,r.jsx)("div",{className:v().image}),(0,r.jsxs)("div",{className:v().details,children:[t,n]})]}),(0,r.jsx)("div",{className:v().buttons,children:o})]})}function L(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(S.Z,{className:v().discordWordmark,"aria-label":y.Z.Messages.PREMIUM_TIER_1}),(0,r.jsx)("div",{className:v().classicWordmark})]})}function Z(){var e=(0,d.Z)(u.Z.ACCOUNT_CREDIT_BANNER).analyticsLocations;return(0,r.jsx)(D,{wordMark:(0,r.jsx)(L,{}),subscriptionInfo:(0,r.jsx)("div",{className:v().planInfo,children:y.Z.Messages.PREMIUM_TIER_1_ACCOUNT_CREDIT_BANNER_DESCRIPTION}),buttons:(0,r.jsx)(T.Z,{
className:v().toolsButton,onClick:function(){return(0,p.Z)({subscriptionTier:O.Si.TIER_1,analyticsLocations:e,analyticsObject:M})},children:y.Z.Messages.PREMIUM_TIER_1_ACCOUNT_CREDIT_BANNER_CTA}),statusClasses:C({},v().tier1,!0)})}const w=function(e){var t=e.subscription,o=e.renewalInvoicePreview,s=e.paymentSource,f=e.busy,I=e.analyticsLocation,N=(0,d.Z)(u.Z.SUBSCRIPTION_HEADER).analyticsLocations,Z=function(){t.status!==b.O0b.ACTIVE&&t.status!==b.O0b.PAST_DUE||w()},w=function(){(0,l.openModalLazy)(A((function(){var e,o;return P(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(30689),n.e(1162),n.e(35751)]).then(n.bind(n,35751))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,x(j({},e),{premiumSubscription:t,analyticsLocation:I,analyticsLocations:N}))}]}}))})))},U=function(){if(null!=t&&null!=t.planIdFromItems){var e=h.Z.get(t.planIdFromItems);if(null==e){R.info("Plan not fetched for plan id: ".concat(t.planIdFromItems));return}
var n=(0,_.DE)(e,null==s?void 0:s.id,!1),r=n.length>0?n[0]:t.currency,o=!1;1===n.length&&(null==s?void 0:s.id)===t.paymentSourceId&&(0,_.tD)(e.id,r,null==s?void 0:s.id)?o=!0:null==s||(0,g.Z8)()||(o=!0);o?c.O5(t,N):(0,p.Z)({initialPlanId:t.planIdFromItems,analyticsLocations:N,analyticsLocation:I,analyticsObject:M})}},B=g.ZP.getPlanIdFromInvoice(t,o);if((0,m.Q)(B))return null;var G,k=g.ZP.getStatusFromInvoice(t,o),F=g.ZP.getPremiumType(B),H=(C(G={},v().tier0,F===O.p9.TIER_0),C(G,v().tier1,F===O.p9.TIER_1),C(G,v().tier2,F===O.p9.TIER_2),C(G,v().canceled,k===b.O0b.CANCELED),C(G,v().failedPayment,(0,g.zV)(k)),G),Y=null;switch(F){case O.p9.TIER_0:Y=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(S.Z,{className:v().discordWordmark,"aria-label":y.Z.Messages.PREMIUM_TIER_0}),(0,r.jsx)("div",{className:v().basicWordmark})]});break;case O.p9.TIER_1:Y=(0,r.jsx)(L,{});break;case O.p9.TIER_2:Y=(0,r.jsx)(E.Z,{className:v().planName,"aria-label":y.Z.Messages.PREMIUM_TITLE})}return(0,r.jsx)(D,{wordMark:Y,
subscriptionInfo:function(e){a()(null!=o,"Expected renewalInvoicePreview");return(0,r.jsx)("div",{className:v().planInfo,children:(0,g.qV)({planId:e,subscription:t,renewalInvoicePreview:o})})}(B),buttons:function(){var e=t.status;if(t.isPurchasedExternally){var n=(0,g.JE)(t.paymentGateway,"SUBSCRIPTION_MANAGEMENT");return(0,r.jsx)(l.Anchor,{href:n,useDefaultUnderlineStyles:!1,children:(0,r.jsx)(l.Button,{className:i()(v().toolsButton,v().externalButton),size:l.Button.Sizes.SMALL,look:l.ButtonLooks.OUTLINED,color:l.ButtonColors.WHITE,submitting:f,children:y.Z.Messages.BILLING_MANAGE_SUBSCRIPTION})})}if(g.ZP.isBaseSubscriptionCanceled(t))return(0,r.jsx)(l.Button,{className:v().toolsButton,size:l.Button.Sizes.SMALL,look:l.ButtonLooks.INVERTED,color:l.ButtonColors.BRAND,submitting:f,onClick:U,children:y.Z.Messages.RESUBSCRIBE});if(e===b.O0b.ACTIVE||e===b.O0b.PAST_DUE){var o=!1,s=null;if(null!=t.renewalMutations){o=!0
;s=t.renewalMutations.planId!==t.planId?y.Z.Messages.PREMIUM_SWITCH_PLAN_DISABLED_PENDING_MUTATION_PLAN:y.Z.Messages.PREMIUM_SWITCH_PLAN_DISABLED_PENDING_MUTATION_PREMIUM_GUILD_SUBSCRIPTION}if(null!=t.trialEndsAt){o=!0;s=y.Z.Messages.PREMIUM_SWITCH_PLAN_DISABLED_IN_TRIAL}e===b.O0b.PAST_DUE&&(o=!0);return(0,r.jsxs)("div",{className:v().toolsButtons,children:[(0,r.jsx)(l.Button,{className:v().toolsButton,size:l.Button.Sizes.SMALL,look:l.ButtonLooks.LINK,color:l.ButtonColors.WHITE,submitting:f,onClick:Z,children:y.Z.Messages.CANCEL}),(0,r.jsx)(l.Tooltip,{text:s,children:function(e){return(0,r.jsx)(T.Z,x(j({},e),{disabled:o,className:v().toolsButton,onClick:function(){(0,p.Z)({analyticsLocations:N,analyticsLocation:I,analyticsObject:M})},children:y.Z.Messages.PREMIUM_SWITCH_PLANS}))}})]})}}(),statusClasses:H})}},666800:(e,t,n)=>{"use strict";n.d(t,{Z:()=>U})
;var r=n(785893),o=n(667294),i=n(294184),s=n.n(i),a=n(441143),l=n.n(a),c=n(202351),u=n(945460),d=n(933599),f=n(665082),p=n(810978),m=n(415324),h=n(700812),E=n(19585),S=n(266472),g=n(793461),_=n(711531),T=n(551778),O=n(850841),b=n(447246),y=n(530562),I=n(100749),v=n(2590),N=n(473708),A=n(57274),C=n.n(A),j=n(913957),x=n.n(j);function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function R(e,t,n,r,o,i,s){try{var a=e[i](s),l=a.value}catch(e){n(e);return}a.done?t(l):Promise.resolve(l).then(r,o)}function M(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){R(i,r,o,s,a,"next",e)}function a(e){R(i,r,o,s,a,"throw",e)}s(void 0)}))}}function D(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function L(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done);s=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){a=!0;o=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var w=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:s.label++;return{value:i[1],done:!1};case 5:s.label++;r=i[1];i=[0];continue;case 7:i=s.ops.pop();s.trys.pop();continue;default:if(!(o=s.trys,
o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1];o=i;break}if(o&&s.label<o[2]){s.label=o[2];s.ops.push(i);break}o[2]&&s.ops.pop();s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};function U(e){var t,i,a=e.subscription,A=e.onPaymentSourceAdded,j=e.highlightAddPaymentMethodButton,P=e.dropdownClassName,R=e.analyticsLocation,U=e.currentInvoicePreview,B=(0,c.e7)([g.Z],(function(){return g.Z.hidePersonalInformation})),k=Z((0,c.Wu)([_.Z],(function(){return[_.Z.paymentSources,_.Z.hasFetchedPaymentSources]})),2),F=k[0],H=k[1],Y=(0,S.V)((0,y.yb)(a)),V=(0,E.Z)().analyticsLocations,W=o.useMemo((function(){return Object.values(F).filter((function(e){return!e.invalid}))}),[F]),z=Z(o.useState(!1),2),K=z[0],Q=z[1],q=Z(o.useState(a.currency),2),X=q[0],$=q[1],J=(t=M((function(e,t){
return w(this,(function(n){switch(n.label){case 0:if(null==a||null==e&&!(0,O.Z8)())throw Error("missing subscription and paymentSource");return null!=e?[3,2]:[4,f.fG(a,t,V,R)];case 1:n.sent();return[3,4];case 2:return[4,f.tq(a,e,t,V,R)];case 3:n.sent();n.label=4;case 4:Q(!1);$(t);return[2]}}))})),function(e,n){return t.apply(this,arguments)}),ee=function(){var e=M((function(e,t,n){var r;return w(this,(function(o){switch(o.label){case 0:if(null==e&&!(0,O.Z8)())throw Error("PaymentSource required");Q(!0);return[4,(0,I.hz)({subscriptionId:a.id,paymentSourceId:null==e?void 0:e.id,renewal:!0,currency:t})];case 1:r=o.sent();return U.currency!==r.currency||U.currency===r.currency&&U.total!==r.total?[4,G(r,(function(){n(e,t);if(!(0,O.Z8)()){l()(null!=e,"paymentSource required");(0,p.Y2)(e.country,e.id)}}),(function(){Q(!1)}))]:[3,3];case 2:o.sent();return[3,4];case 3:n(e,t);o.label=4;case 4:return[2]}}))}));return function(t,n,r){return e.apply(this,arguments)}}(),te=function(e){
var t=T.Z.get(a.planIdForCurrencies);l()(null!=e,"paymentSource not specified for change");l()(null!=t,"Unable to fetch plan");var n=(0,b.DE)(t.id,e.id,!1);return n.length>0?n[0]:v.pKx.USD},ne=function(e){null!=e&&ee(e,te(e),J)},re=function(e){(0,b.i1)(e.id,(0,y.yb)(a)).then((function(){ee(e,te(e),J)}));"function"==typeof A&&A(e.id)},oe=function(){(0,u.openModalLazy)(M((function(){var e,t;return w(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(38039),n.e(27059),n.e(84501)]).then(n.bind(n,184501))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,L(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){D(e,t,n[t])}))}return e}({},e),{onAddPaymentSource:re,analyticsLocation:R}))}]}}))})),{
onCloseCallback:function(){(0,d.fw)()}})};if(a.isPurchasedExternally)return function(e){l()(null!=e.paymentGateway,"Expected payment gateway when managed externally");var t=(0,O.JE)(e.paymentGateway,"PAYMENT_SOURCE_MANAGEMENT");return(0,r.jsx)(u.Anchor,{href:t,useDefaultUnderlineStyles:!1,className:C().externalLink,children:(0,r.jsx)(u.Button,{fullWidth:!0,look:u.Button.Looks.FILLED,color:u.Button.Colors.PRIMARY,children:N.Z.Messages.BILLING_MANAGE_BILLING})})}(a);if(H&&Y){if(W.length>0){var ie=T.Z.get(a.planIdForCurrencies);l()(null!=ie,"Unable to fetch plan");var se=(0,b.DE)(ie,a.paymentSourceId,!1);return(0,r.jsxs)(r.Fragment,{children:[(i=a.paymentSourceId,(0,r.jsx)(h.Z,{prependOption:null==i?{label:N.Z.Messages.ATTACH_PAYMENT_SOURCE_PROMPT_OPTION,value:null}:null,className:P,paymentSources:W,hidePersonalInformation:B,selectedPaymentSourceId:i,onChange:ne,onPaymentSourceAdd:oe,dropdownLoading:K})),null!=a.paymentSourceId?(0,r.jsx)(m.b,{currencies:se,children:(0,r.jsxs)("div",{
className:s()(C().currency,x().flex,x().alignCenter),children:[(0,r.jsx)("div",{children:N.Z.Messages.PAYMENT_CURRENCY_PAYING_IN}),(0,r.jsx)(m.Z,{className:C().currencyDropdown,selectedCurrency:X,currencies:se,onChange:function(e){ee(void 0,e,J)}})]})}):null]})}return(0,r.jsx)(u.Button,{fullWidth:!0,look:u.Button.Looks.FILLED,color:j?u.Button.Colors.BRAND:u.Button.Colors.PRIMARY,onClick:oe,children:N.Z.Messages.BILLING_ADD_PAYMENT_METHOD})}return(0,r.jsx)(u.Spinner,{})}var B,G=(B=M((function(e,t,o){var i;return w(this,(function(s){switch(s.label){case 0:return[4,(0,u.openModalLazy)(M((function(){var i,s;return w(this,(function(a){switch(a.label){case 0:return[4,n.e(2010).then(n.bind(n,302010))];case 1:i=a.sent(),s=i.default;return[2,function(n){return(0,r.jsx)(s,{newInvoice:e,onConfirm:t,onCancel:o,modalProps:n})}]}}))})),{onCloseRequest:function(){null!=i&&(0,u.closeModal)(i);o()}})];case 1:i=s.sent();return[2]}}))})),function(e,t,n){return B.apply(this,arguments)})},870507:(e,t,n)=>{
"use strict";n.d(t,{Z:()=>u});var r=n(667294),o=n(318715),i=n(734691),s=n(223219),a=n(2590),l=n(131559),c=new Set(Object.values(l.NB));const u=function(){var e=(0,o.ZP)([s.Z],(function(){var e=s.Z.getSubsection();return function(e){return null!=e&&c.has(e)}(e)?e:l.NB.USER_PROFILE})),t=r.useCallback((function(t){e!==t&&i.Z.setSection(a.oAB.PROFILE_CUSTOMIZATION,t)}),[e]);return{subsection:e,setSubsection:t}}},60694:(e,t,n)=>{"use strict";n.d(t,{X:()=>l});var r=n(202351),o=n(53645),i=n(130962),s=n(473903),a=n(2590),l=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=i.c.useExperiment({},{autoTrackExposure:!1}).allowPlayStationStaging,n=(0,r.e7)([s.default],(function(){return s.default.getCurrentUser()}));return function(r){var i;return r.type===a.ABu.PLAYSTATION_STAGING?t:!(void 0===n||!(null===(i=o.bO[r.type])||void 0===i?void 0:i.includes(n.id)))||(!!e||r.enabled)}}},517672:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(785893),o=(n(667294),
n(294184)),i=n.n(o),s=n(945460),a=n(895724),l=n(404576),c=n.n(l);function u(e){var t=e.children,n=e.className;return(0,r.jsxs)("div",{className:i()(c().root,n),children:[(0,r.jsx)(a.Z,{className:c().info}),(0,r.jsx)(s.Text,{className:c().text,variant:"text-sm/medium",color:"text-normal",children:t})]})}},265508:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r=n(785893),o=n(667294),i=n(441143),s=n.n(i),a=n(202351),l=n(945460),c=n(84441),u=n(895303),d=n(473903),f=n(473708);function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function h(e){h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return h(e)}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){m(e,t,n[t])}))}return e}function S(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function g(e,t){return!t||"object"!==T(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e,t){_=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _(e,t)}var T=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&_(e,t)}(n,e);var t=O(n);function n(){p(this,n);var e;(e=t.apply(this,arguments)).state={isSendingVerificationEmail:!1};e.handleResendVerification=function(){var t=e.props,n=t.currentUser,o=t.onClick;null==o||o();e.setState({isSendingVerificationEmail:!0
},(function(){c.Z.verifyResend().then((function(){return(0,l.openModal)((function(e){return(0,r.jsx)(l.ConfirmModal,S(E({header:f.Z.Messages.VERIFICATION_EMAIL_TITLE,confirmText:f.Z.Messages.OKAY,confirmButtonColor:l.Button.Colors.BRAND},e),{children:(0,r.jsx)(l.Text,{variant:"text-md/normal",children:f.Z.Messages.VERIFICATION_EMAIL_BODY.format({email:n.email})})}))}))})).catch((function(e){var t=e.body,n=f.Z.Messages.VERIFICATION_EMAIL_ERROR_BODY;null!=t&&t.email&&(n=t.email);(0,l.openModal)((function(e){return(0,r.jsx)(u.default,E({title:f.Z.Messages.VERIFICATION_EMAIL_ERROR_TITLE,body:n},e))}))})).then((function(){return e.setState({isSendingVerificationEmail:!1})}))}))};return e}n.prototype.render=function(){var e=this.props,t=e.color,n=e.look,o=e.size;return(0,r.jsx)(l.Button,{look:n,size:o,color:t,disabled:this.state.isSendingVerificationEmail,onClick:this.handleResendVerification,children:f.Z.Messages.RESEND_VERIFICATION_EMAIL})};return n}(o.Component);b.defaultProps={
size:l.Button.Sizes.MEDIUM,color:l.Button.Colors.BRAND};const y=a.ZP.connectStores([d.default],(function(){var e=d.default.getCurrentUser();s()(null!=e,"ResendEmailVerificationButton: currentUser cannot be undefined");return{currentUser:e}}))(b)},528562:(e,t,n)=>{"use strict";n.r(t);n.d(t,{default:()=>T});var r=n(785893),o=n(667294),i=n(202351),s=n(945460),a=n(579194),l=n(450383),c=n(98265),u=n(973646),d=n(2590),f=n(473708),p=n(550478),m=n.n(p);function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e,t,n,r,o,i,s){try{var a=e[i](s),l=a.value}catch(e){n(e);return}a.done?t(l):Promise.resolve(l).then(r,o)}function S(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){E(i,r,o,s,a,"next",e)}function a(e){E(i,r,o,s,a,"throw",e)}s(void 0)}))}}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done);s=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){a=!0;o=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var _=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){
return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:s.label++;return{value:i[1],done:!1};case 5:s.label++;r=i[1];i=[0];continue;case 7:i=s.ops.pop();s.trys.pop();continue;default:if(!(o=s.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1];o=i;break}if(o&&s.label<o[2]){s.label=o[2];s.ops.push(i);break}o[2]&&s.ops.pop();s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};function T(e){
var t,n,p,h,E=e.transitionState,T=e.onSuccess,O=e.onClose,b=e.requirementsUpdated,y=e.noSkip,I=void 0!==y&&y,v=g(o.useState(""),2),N=v[0],A=v[1],C=g(o.useState(""),2),j=C[0],x=C[1],P=g(o.useState(""),2),R=P[0],M=P[1],D=g(o.useState(null),2),L=D[0],Z=D[1],w=g(o.useState(null),2),U=w[0],B=w[1],G=(0,i.e7)([l.Z],(function(){return l.Z.getErrors()})),k=(0,i.e7)([l.Z],(function(){return l.Z.getFormState()})),F=o.useRef(null);o.useEffect((function(){if(E===s.ModalTransitionState.ENTERED){var e;null===(e=F.current)||void 0===e||e.focus()}}),[E]);function H(){H=S((function(e){var t,n,r;return _(this,(function(o){switch(o.label){case 0:e.preventDefault();(0,a.b9)();t=!1;if(""===j){Z(f.Z.Messages.PASSWORD_REQUIREMENTS_EMPTY);t=!0}else Z(null);if(j!==R){B(f.Z.Messages.FORM_LABEL_NEW_PASSWORD_MISMATCH);t=!0}else B(null);return t?[2]:[4,(0,a.Mn)({password:N,newPassword:j})];case 1:(null==(n=o.sent())?void 0:n.ok)?T():null!=(null==n||null===(r=n.body)||void 0===r?void 0:r.username)&&(0,u.P)()
;return[2]}}))}));return H.apply(this,arguments)}return(0,r.jsxs)(s.ModalRoot,{transitionState:E,children:[(0,r.jsxs)(s.ModalHeader,{separator:!1,className:m().header,children:[(0,r.jsx)(c.Z,{color:c.Z.Colors.HEADER_PRIMARY,size:c.Z.Sizes.SIZE_24,className:m().title,children:f.Z.Messages.UPDATE_PASSWORD}),(0,r.jsx)(s.Text,{color:"header-secondary",variant:"text-md/normal",className:m().subtitle,children:b?f.Z.Messages.FORCE_PASSWORD_UPDATE_DESCRIPTION:f.Z.Messages.USER_SETTINGS_ACCOUNT_CHANGE_PASSWORD_PROMPT_DESKTOP}),!0!==I&&(0,r.jsx)(s.ModalCloseButton,{onClick:O,className:m().modalCloseButton})]}),(0,r.jsxs)("form",{onSubmit:function(e){return H.apply(this,arguments)},children:[(0,r.jsxs)(s.ModalContent,{className:m().content,children:[(0,r.jsx)(s.FormItem,{title:f.Z.Messages.FORM_LABEL_CURRENT_PASSWORD,error:null==G||null===(t=G.password)||void 0===t?void 0:t[0],children:(0,r.jsx)(s.TextInput,{type:"password",value:N,onChange:A,inputRef:F})}),(0,r.jsx)(s.FormItem,{
className:m().newPassword,title:f.Z.Messages.FORM_LABEL_NEW_PASSWORD,error:null!==(h=null!==(p=null==G||null===(n=G.new_password)||void 0===n?void 0:n[0])&&void 0!==p?p:L)&&void 0!==h?h:void 0,children:(0,r.jsx)(s.TextInput,{type:"password",value:j,onChange:x})}),(0,r.jsx)(s.FormItem,{className:m().newPassword,title:f.Z.Messages.FORM_LABEL_CONFIRM_NEW_PASSWORD,error:null!=U?U:void 0,children:(0,r.jsx)(s.TextInput,{type:"password",value:R,onChange:M})})]}),(0,r.jsxs)(s.ModalFooter,{children:[(0,r.jsx)(s.Button,{type:"submit",color:s.Button.Colors.BRAND,size:s.Button.Sizes.MEDIUM,submitting:k===d.QZA.SUBMITTING,children:f.Z.Messages.DONE}),!0!==I&&(0,r.jsx)(s.Button,{className:m().cancel,look:s.Button.Looks.LINK,color:s.Button.Colors.PRIMARY,onClick:O,children:f.Z.Messages.CANCEL})]})]})]})}},741338:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=(0,n(260561).B)({kind:"user",id:"2023-04_guild_boosting_settings_redesign",label:"Guild Boosting Settings Redesign",defaultConfig:{enabled:!1},
treatments:[{id:1,label:"Variant 1",config:{enabled:!0}},{id:2,label:"Variant 1 international",config:{enabled:!0}}]})},175034:(e,t,n)=>{"use strict";n.d(t,{Z:()=>bR});var r=n(202351),o=n(661985),i=n(277544),s=n(228667),a=n(343862),l=n(499171),c=n(667294),u=n(744564),d=n(473903),f=n(850841),p=n(666870),m=n(803548),h=n(247253),E=n(188435),S=n(203600);function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done);s=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){a=!0;o=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||O(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||O(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}function b(){var e=(0,r.Wu)([E.Z],(function(){return E.Z.outboundPromotions})),t=(0,r.e7)([E.Z],(function(){return E.Z.consumedInboundPromotionId}));return c.useMemo((function(){
return e.filter((function(e){return e.id!==t}))}),[e,t])}var y=n(223219),I=n(785893),v=n(999357),N=n(418705),A=n(336194),C=n(945460),j=n(84441),x=n(579194),P=n(734691),R=n(888312),M=n(604375),D=n(19585),L=n(384411),Z=n(335072),w=n(754693),U=n(294184),B=n.n(U),G=n(476893),k=n.n(G);function F(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){F(e,t,n[t])}))}return e}function Y(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function V(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function W(e){var t=e.title,n=e.note,r=e.children,o=e.className;return(0,I.jsxs)("div",{className:B()(k().inputItem,o),children:[(0,I.jsxs)("div",{className:k().inputItemText,children:[(0,I.jsx)(C.Text,{className:k().inputItemTitle,variant:"text-md/semibold",color:"interactive-active",children:t}),null!=n&&(0,I.jsx)(C.Text,{className:k().note,variant:"text-sm/medium",color:"header-secondary",children:n})]}),r]})}function z(e){
var t=e.options,n=e.value,r=e.select,o=e.selectClassName,i=V(e,["options","value","select","selectClassName"]);return(0,I.jsx)(W,Y(H({},i),{children:(0,I.jsx)(C.Select,{className:B()(k().selectControl,o),options:t,isSelected:function(e){return e===n},select:r,serialize:function(e){return String(e)}})}))}function K(e){var t=e.value,n=e.onChange,r=e.editable,o=e.textInputClassName,i=e.onClick,s=V(e,["value","onChange","editable","textInputClassName","onClick"]);return(0,I.jsx)(W,Y(H({},s),{children:(0,I.jsx)(C.TextInput,{onClick:i,editable:r,className:B()(k().selectControl,o),value:t,onChange:n})}))}var Q=n(453790),q=n(473708),X=n(764147),$=n.n(X);function J(){var e=(0,r.e7)([Z.Z],(function(){return Z.Z.getSettings()})),t=e.viewerClipsEnabled,n=e.viewerConnectivity,o=(0,r.e7)([L.default],(function(){return L.default.locale})),i=c.useMemo((function(){return[{value:Q.dJ.ALL,label:q.Z.Messages.CLIPS_CONNECTIVITY_ALL},{value:Q.dJ.FRIENDS,label:q.Z.Messages.CLIPS_CONNECTIVITY_FRIENDS}]}),[o])
;return(0,I.jsxs)(C.FormSection,{children:[(0,I.jsx)(C.FormSwitch,{className:$().formItem,hideBorder:!0,value:t,note:q.Z.Messages.CLIPS_SETTINGS_ALLOW_VIEWER_CLIPS_HELP,onChange:w.yl,children:q.Z.Messages.CLIPS_SETTINGS_ALLOW_VIEWER_CLIPS}),(0,I.jsx)(z,{className:$().formItem,title:q.Z.Messages.CLIPS_SETTINGS_WHO_CAN_CAPTURE,note:q.Z.Messages.CLIPS_SETTINGS_WHO_CAN_CAPTURE_HELP,value:n,select:w.QM,options:i})]})}var ee=n(441143),te=n.n(ee),ne=n(731503),re=n(164045),oe=n(604945),ie=n(138049),se=n(2590),ae=n(494628),le=n.n(ae),ce=n(102670),ue=n.n(ce);function de(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function fe(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})))
;n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function pe(){var e=(0,r.cj)([Z.Z],(function(){return Z.Z.getSettings()})),t=e.clipsEnabled,n=e.clipsQuality,o=e.clipsLength,i=(0,r.e7)([ie.Z],(function(){return ie.Z.getKeybindForAction(se.kg4.SAVE_CLIP,!0)})),s=(0,r.e7)([oe.Z],(function(){return oe.Z.getHardwareClipEncode()}));te()(null!=i,"Save clip keybind unset");var a=(0,r.e7)([L.default],(function(){return L.default.locale})),l=c.useMemo((function(){return[{value:Q.Rp.DEFAULT,label:q.Z.Messages.CLIPS_QUALITY_DEFAULT}]}),[a]),u=c.useMemo((function(){return[{value:Q.OT.SECONDS_30,label:q.Z.Messages.CLIPS_LENGTH_SECONDS.format({count:30})},{value:Q.OT.MINUTES_1,label:q.Z.Messages.CLIPS_LENGTH_MINUTES.format({count:1})},{value:Q.OT.MINUTES_2,label:q.Z.Messages.CLIPS_LENGTH_MINUTES.format({count:2})}]}),[a]),d=c.useCallback((function(e){ne.Z.setKeybind(fe(function(e){
for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){de(e,t,n[t])}))}return e}({},i),{shortcut:e}))}),[i]);return(0,I.jsxs)(C.FormSection,{children:[(0,I.jsx)(C.FormSwitch,{hideBorder:!0,className:ue().formItem,value:t,note:q.Z.Messages.CLIPS_SETTINGS_ENABLE_CLIPS_HELP,onChange:w.em,children:q.Z.Messages.CLIPS_SETTINGS_ENABLE_CLIPS}),(0,I.jsx)(W,{className:ue().formItem,title:q.Z.Messages.CLIPS_SETTINGS_KEYBIND,note:q.Z.Messages.CLIPS_SETTINGS_KEYBIND_HELP,children:(0,I.jsx)("div",{className:le().keyRecorder,children:(0,I.jsx)(re.Z,{defaultValue:i.shortcut,onChange:d})})}),(0,I.jsx)(z,{className:ue().formItem,select:w.yi,title:q.Z.Messages.CLIPS_SETTINGS_VIDEO_QUALITY,note:q.Z.Messages.CLIPS_SETTINGS_VIDEO_QUALITY_HELP,value:n,options:l}),(0,I.jsx)(z,{
className:ue().formItem,select:w.eU,title:q.Z.Messages.CLIPS_SETTINGS_LENGTH,note:q.Z.Messages.CLIPS_SETTINGS_LENGTH_HELP,value:o,options:u}),(0,I.jsx)(C.FormSwitch,{className:ue().formItem,value:s,onChange:w.A9,note:q.Z.Messages.CLIPS_SETTINGS_ENABLE_HARDWARE_ENCODE_HELP,children:q.Z.Messages.CLIPS_SETTINGS_ENABLE_HARDWARE_ENCODE})]})}var me=n(306472);function he(e,t,n,r,o,i,s){try{var a=e[i](s),l=a.value}catch(e){n(e);return}a.done?t(l):Promise.resolve(l).then(r,o)}function Ee(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){he(i,r,o,s,a,"next",e)}function a(e){he(i,r,o,s,a,"throw",e)}s(void 0)}))}}var Se=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){
if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:s.label++;return{value:i[1],done:!1};case 5:s.label++;r=i[1];i=[0];continue;case 7:i=s.ops.pop();s.trys.pop();continue;default:if(!(o=s.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1];o=i;break}if(o&&s.label<o[2]){s.label=o[2];s.ops.push(i);break}o[2]&&s.ops.pop();s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};function ge(){var e=(0,r.e7)([Z.Z],(function(){return Z.Z.getSettings().storageLocation}));return(0,I.jsx)(C.FormSection,{children:(0,I.jsx)(K,{className:ue().formItem,
title:q.Z.Messages.CLIPS_SETTINGS_STORAGE_LOCATION,note:q.Z.Messages.CLIPS_SETTINGS_STORAGE_LOCATION_HELP,value:e,editable:!1,onClick:Ee((function(){var e;return Se(this,(function(t){switch(t.label){case 0:return[4,me.Z.fileManager.showOpenDialog({properties:["openDirectory"]})];case 1:(e=t.sent()).length>0&&w.T1(e[0]);return[2]}}))})),onChange:se.VqG})})}var _e=n(796631),Te=n.n(_e);function Oe(){var e=(0,D.Z)().AnalyticsLocationProvider;return(0,I.jsx)(e,{children:(0,I.jsxs)(C.HeadingLevel,{component:(0,I.jsx)(C.Heading,{variant:"heading-lg/extrabold",children:q.Z.Messages.CLIPS_CLIPPING}),children:[(0,I.jsx)(C.Text,{className:Te().subHeader,variant:"text-sm/medium",color:"header-secondary",children:q.Z.Messages.CLIPS_SETTINGS_TOP_SUBHEADER}),(0,I.jsxs)("form",{className:Te().form,onSubmit:function(e){return e.preventDefault()},children:[(0,I.jsx)(pe,{}),(0,I.jsx)(C.FormDivider,{className:ue().formItem}),(0,I.jsx)(J,{}),(0,I.jsx)(C.FormDivider,{className:ue().formItem}),(0,
I.jsx)(ge,{})]})]})})}var be=n(87931),ye=n(630631),Ie=n(917019),ve=n(473419),Ne=n(107364),Ae=n(190186),Ce=n(98265),je=n(256764),xe=n(518280),Pe=n.n(xe);function Re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Me(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done);s=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){a=!0;o=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Re(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function De(e){var t=e.contents,n=e.content,r=e.onChange,o=(0,je.jl)(t,N.z$[n]);return(0,I.jsx)(I.Fragment,{children:(0,I.jsx)(C.FormSwitch,{value:o,onChange:function(){r(n);o?(0,Ie.w9)(N.z$[n]):(0,Ie.nm)(N.z$[n])},children:(0,I.jsx)(C.FormText,{size:Ce.Z.Sizes.SIZE_16,className:Pe().marginTop4,children:"".concat(n.toLowerCase()," (").concat(N.z$[n],")")})})})}function Le(e){var t=e.items,n=e.dismissedContents,r=e.handleChange;return(0,I.jsx)(I.Fragment,{children:t.filter((function(e){return isNaN(Number(e))})).map((function(e){return(0,I.jsx)(De,{contents:n,content:e,onChange:r},e)}))})}function Ze(){var e,t=Me(c.useState(""),2),n=t[0],o=t[1],i=null!==(e=(0,r.e7)([ve.Z],(function(){var e;return null===(e=ve.Z.settings.userContent)||void 0===e?void 0:e.dismissedContents})))&&void 0!==e?e:new Uint8Array,s=Me(function(e,t){
var n=Me(c.useState((function(){var n=ye.Z.get(e);return null!=n?n:t})),2),r=n[0],o=n[1];c.useEffect((function(){ye.Z.set(e,r)}),[e,r]);return[r,o]}("RecentDismissibleOverrides",[]),2),a=s[0],l=s[1],u=function(e){l((function(t){var n=new Set(t);n.delete(e);var r=Array.from(n).slice(0,4);r.unshift(e);return r}))},d=a.filter((function(e){return e.toLowerCase().includes(n.toLowerCase())})),f=Object.keys(N.z$).filter((function(e){return!a.includes(e)})).filter((function(e){return e.toLowerCase().includes(n.toLowerCase())})).sort((function(e,t){return e.localeCompare(t)}));return(0,I.jsxs)(C.FormSection,{title:"Dismissible Contents",tag:C.FormTitleTags.H1,children:[(0,I.jsx)(Ae.Z,{className:Pe().marginBottom20,size:Ae.Z.Sizes.LARGE,query:n,onChange:o,onClear:function(){return o("")}}),d.length>0?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("div",{className:Pe().marginBottom20,children:(0,I.jsx)(C.FormTitle,{children:"Recent Overrides"})}),(0,I.jsx)(Le,{items:d,dismissedContents:i,
handleChange:u})]}):null,(0,I.jsx)(Ne.Z,{className:B()(Pe().marginBottom20,Pe().marginTop20),children:(0,I.jsx)(C.FormTitle,{children:"Available Dismissible Contents"})}),(0,I.jsx)(Le,{items:f,dismissedContents:i,handleChange:u}),(0,I.jsx)(C.Button,{look:C.Button.Looks.LINK,onClick:Ie.sr,children:"Clear All Dismissed Contents"})]})}var we=n(270946),Ue=n(482139),Be=n(825781),Ge=n(785085),ke=n(496486),Fe=n.n(ke),He=n(735885),Ye=n(316878),Ve=n(776009),We=n(270307),ze=n(136317),Ke=n(382518),Qe=n(930948),qe=n(716118),Xe=n(998330),$e=n(494425),Je=n(214142),et=n(677483),tt=n(72580),nt=n(896971),rt=n(730381),ot=n.n(rt),it=n(70145),st=n(17229),at=n(807891),lt=n.n(at);function ct(e){var t=e.achievementId,n=e.dateUnlocked,r=(0,$e.oX)(t);if(null==r)return null;var o=null!=n,i=r.name,s=r.description,a=r.hideDescriptionUntilUnlock,l=r.onAction,c=a&&!o,u=o?"header-primary":"text-muted",d=o?"header-secondary":"text-muted",f=ot()(n),p=null!=l&&o,m=p?C.Clickable:"div";return(0,I.jsxs)(m,{
className:B()(lt().container,p&&lt().actionable),onClick:function(){p&&l()},children:[(0,I.jsx)("div",{className:lt().iconContainer,children:(0,I.jsx)(st.Z,{achievementId:t,size:st.Z.Sizes.SIZE_40,unlocked:o})}),(0,I.jsxs)("div",{className:lt().nameContainer,children:[null!=n&&(0,I.jsx)(C.Text,{variant:"text-xxs/semibold",color:"text-muted",className:lt().unlocked,children:(0,it.Y4)(f)}),(0,I.jsx)(C.Text,{variant:"text-md/medium",color:u,children:i()}),(0,I.jsx)(C.Text,{variant:"text-xs/normal",color:d,children:c?"?????":s()})]})]})}var ut=n(184671),dt=n.n(ut);function ft(e){var t=e.onBackClick,n=(0,r.e7)([nt.Z],(function(){return nt.Z.getAllUnlockedAchievements()})),o=c.useMemo((function(){return Object.values(n).sort((function(e,t){return t.dateUnlocked-e.dateUnlocked}))}),[n]),i=c.useMemo((function(){return Object.values($e.LG).filter(tt.lm).filter((function(e){return null==n[e.id]})).sort((function(e,t){return e.rarity-t.rarity}))}),[n]);return(0,I.jsxs)(I.Fragment,{children:[(0,
I.jsx)(C.FormSection,{children:(0,I.jsxs)(C.Clickable,{onClick:t,className:dt().backContainer,children:[(0,I.jsx)(et.Z,{direction:et.Z.Directions.LEFT,className:dt().icon}),(0,I.jsx)(C.Text,{variant:"text-lg/normal",color:"text-normal",children:q.Z.Messages.BACK})]})}),(0,I.jsxs)("div",{className:dt().headerContainer,children:[(0,I.jsxs)("div",{className:dt().headerTextContainer,children:[(0,I.jsx)(C.Heading,{variant:"heading-lg/extrabold",color:"header-primary",children:q.Z.Messages.POGGERMODE_ACHIEVEMENT_TITLE}),(0,I.jsx)(C.Text,{variant:"text-md/normal",color:"header-secondary",children:q.Z.Messages.POGGERMODE_ACHIEVEMENT_DESCRIPTION})]}),(0,I.jsx)("div",{className:dt().headerIcon,children:(0,I.jsx)(Ke.Z,{color:A.Z.unsafe_rawColors.ORANGE_345.css,width:40,height:40})})]}),o.length>0&&(0,I.jsx)(C.FormSection,{className:dt().divider,children:(0,I.jsx)("div",{className:dt().achievementGrid,children:o.map((function(e){var t=e.achievementId,n=e.dateUnlocked;return(0,I.jsx)(ct,{
achievementId:t,dateUnlocked:n},t)}))})}),i.length>0&&(0,I.jsxs)(C.FormSection,{className:dt().divider,children:[(0,I.jsx)("div",{className:dt().headerTextContainer,children:(0,I.jsx)(C.Text,{variant:"text-md/bold",color:"header-secondary",children:q.Z.Messages.POGGERMODE_ACHIEVEMENT_LOCKED_TITLE})}),(0,I.jsx)("div",{className:dt().achievementGrid,children:i.map((function(e){return(0,I.jsx)(ct,{achievementId:e.id},e.id)}))})]}),(0,I.jsx)(C.FormSection,{className:dt().divider,children:(0,I.jsx)("div",{className:dt().bottomPadding})})]})}var pt=n(919031),mt=n(69540),ht=n(631696),Et=n.n(ht);function St(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gt(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function _t(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){gt(e,t,n[t])}))}return e}function Tt(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Ot(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done);s=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){a=!0;o=e}finally{
try{s||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return St(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return St(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var bt,yt,It={enabled:!0,combosEnabled:!0,screenshakeEnabled:!1,confettiEnabled:!1},vt=(0,ke.range)(0,11),Nt=(0,ke.range)(0,2.25,.25),At=(0,ke.range)(1,11),Ct=(0,ke.range)(1,26);!function(e){e[e.CONFETTI=0]="CONFETTI";e[e.SHAKE=1]="SHAKE"}(bt||(bt={}));!function(e){e[e.USER_SETTINGS=0]="USER_SETTINGS";e[e.ACHIEVEMENT_LIST=1]="ACHIEVEMENT_LIST"}(yt||(yt={}));function jt(e){
var t=e.disabled,n=e.locations,r=e.settingsLocations,o=e.onChange,i=n.map((function(e){return(0,I.jsx)(C.FormSwitch,{disabled:t,value:r[e.location],note:e.description,onChange:function(t){return o(Tt(_t({},r),gt({},e.location,t)))},children:e.title},e.location)}));return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(C.FormTitle,{children:q.Z.Messages.POGGERMODE_LOCATIONS}),i]})}function xt(e){var t=e.children;return(0,I.jsx)(C.Text,{className:Et().sliderDescription,variant:"text-sm/normal",color:"header-secondary",children:t})}function Pt(e){var t=e.settings,n=t.enabled,o=t.warningSeen,i=e.updateSettings,s=(0,r.e7)([Ye.Z],(function(){return Ye.Z.useReducedMotion}));return(0,I.jsx)(C.FormSwitch,{value:n,note:q.Z.Messages.POGGERMODE_ENABLE_DESCRIPTION,onChange:function(e){e||(0,Xe.T)($e.hn.DISABLE_POGGERMODE);!e||o&&!s?i({enabled:e}):(0,C.openModal)((function(e){return(0,I.jsx)(C.ConfirmModal,Tt(_t({
header:s?q.Z.Messages.POGGERMODE_WARNING_TITLE_REDUCED_MOTION:q.Z.Messages.POGGERMODE_WARNING_TITLE,confirmText:q.Z.Messages.ENABLE,cancelText:q.Z.Messages.CANCEL,onConfirm:function(){return i(s?It:{enabled:!0,warningSeen:!0})}},e),{children:(0,I.jsx)(C.Text,{variant:"text-md/normal",children:s?q.Z.Messages.POGGERMODE_WARNING_BODY_REDUCED_MOTION:q.Z.Messages.POGGERMODE_WARNING_BODY})}))}))},children:q.Z.Messages.POGGERMODE_ENABLE})}function Rt(e){var t=e.settings,n=t.enabled,r=t.confettiEnabled,o=t.confettiCount,i=t.confettiSize,s=t.confettiEnabledLocations,a=e.updateSettings,l=!n||!r;return(0,I.jsxs)(C.FormSection,{tag:C.FormTitleTags.H1,title:q.Z.Messages.POGGERMODE_CONFETTI_CUSTOMIZATION,children:[(0,I.jsx)(C.FormSwitch,{disabled:!n,value:r,note:q.Z.Messages.POGGERMODE_CONFETTI_ENABLED_DESCRIPTION,onChange:function(e){return a({confettiEnabled:e},bt.CONFETTI)},children:q.Z.Messages.POGGERMODE_CONFETTI_ENABLED}),(0,I.jsxs)(C.FormItem,{disabled:l,
title:q.Z.Messages.POGGERMODE_CONFETTI_COUNT,className:Et().formItem,children:[(0,I.jsx)(xt,{children:q.Z.Messages.POGGERMODE_CONFETTI_COUNT_DESCRIPTION}),(0,I.jsx)(C.Slider,{disabled:l,markers:At,stickToMarkers:!0,minValue:At[0],maxValue:At[At.length-1],initialValue:o,onValueChange:function(e){return a({confettiCount:e},bt.CONFETTI)},onValueRender:function(e){return"".concat(e)}})]}),(0,I.jsxs)(C.FormItem,{disabled:l,title:q.Z.Messages.POGGERMODE_CONFETTI_SIZE,className:Et().formItem,children:[(0,I.jsx)(xt,{children:q.Z.Messages.POGGERMODE_CONFETTI_SIZE_DESCRIPTION}),(0,I.jsx)(C.Slider,{disabled:l,markers:Ct,stickToMarkers:!0,minValue:Ct[0],maxValue:Ct[Ct.length-1],initialValue:i,onValueChange:function(e){return a({confettiSize:e},bt.CONFETTI)},onValueRender:function(e){return"".concat(e)}})]}),(0,I.jsx)(jt,{disabled:l,locations:[{location:mt.Hn.CHAT_INPUT,title:q.Z.Messages.POGGERMODE_CONFETTI_LOCATION_CHAT_INPUT_ENABLED,
description:q.Z.Messages.POGGERMODE_CONFETTI_LOCATION_CHAT_INPUT_ENABLED_DESCRIPTION},{location:mt.Hn.REACTION,title:q.Z.Messages.POGGERMODE_CONFETTI_LOCATION_REACTION_ENABLED,description:q.Z.Messages.POGGERMODE_CONFETTI_LOCATION_REACTION_ENABLED_DESCRIPTION},{location:mt.Hn.MEMBER_USER,title:q.Z.Messages.POGGERMODE_CONFETTI_LOCATION_MEMBER_USER_ENABLED,description:q.Z.Messages.POGGERMODE_CONFETTI_LOCATION_MEMBER_USER_ENABLED_DESCRIPTION},{location:mt.Hn.CALL_TILE,title:q.Z.Messages.POGGERMODE_CONFETTI_LOCATION_CALL_TILE_ENABLED,description:q.Z.Messages.POGGERMODE_CONFETTI_LOCATION_CALL_TILE_ENABLED_DESCRIPTION}],settingsLocations:s,onChange:function(e){return a({confettiEnabledLocations:e},bt.CONFETTI)}})]})}function Mt(e){var t=e.settings,n=t.enabled,r=t.combosEnabled,o=t.comboSoundsEnabled,i=t.combosRequiredCount,s=e.updateSettings,a=!n||!r;return(0,I.jsxs)(C.FormSection,{tag:C.FormTitleTags.H1,title:q.Z.Messages.POGGERMODE_COMBOS_CUSTOMIZATION,children:[(0,I.jsx)(C.FormSwitch,{
disabled:!n,value:r,note:q.Z.Messages.POGGERMODE_COMBOS_ENABLED_DESCRIPTION,onChange:function(e){return s({combosEnabled:e})},children:q.Z.Messages.POGGERMODE_COMBOS_ENABLED}),(0,I.jsx)(C.FormSwitch,{disabled:!n,value:o,note:q.Z.Messages.POGGERMODE_COMBO_SOUNDS_ENABLED_DESCRIPTION,onChange:function(e){return s({comboSoundsEnabled:e})},children:q.Z.Messages.POGGERMODE_COMBO_SOUNDS_ENABLED}),(0,I.jsxs)(C.FormItem,{disabled:a,title:q.Z.Messages.POGGERMODE_COMBOS_REQUIRED,className:Et().formItem,children:[(0,I.jsx)(xt,{children:q.Z.Messages.POGGERMODE_COMBOS_REQUIRED_DESCRIPTION}),(0,I.jsx)(C.Slider,{disabled:a,markers:vt,stickToMarkers:!0,minValue:vt[0],maxValue:vt[vt.length-1],initialValue:i,onValueChange:function(e){return s({combosRequiredCount:e})},onValueRender:function(e){return"".concat(e)}})]}),(0,I.jsx)(C.FormDivider,{className:Et().divider})]})}function Dt(e){
var t=e.settings,n=t.enabled,o=t.screenshakeEnabled,i=t.shakeIntensity,s=t.screenshakeEnabledLocations,a=e.updateSettings,l=(0,r.e7)([Ye.Z],(function(){return Ye.Z.useReducedMotion})),c=!n||!o||l;return(0,I.jsxs)(C.FormSection,{tag:C.FormTitleTags.H1,title:q.Z.Messages.POGGERMODE_SCREENSHAKE_CUSTOMIZATION,children:[(0,I.jsx)(C.FormSwitch,{disabled:!n||l,tooltipNote:l?q.Z.Messages.POGGERMODE_SCREENSHAKE_DISABLED_REDUCED_MOTION:null,value:o&&!l,note:q.Z.Messages.POGGERMODE_SCREENSHAKE_ENABLED_DESCRIPTION,onChange:function(e){return a({screenshakeEnabled:e},bt.SHAKE)},children:q.Z.Messages.POGGERMODE_SCREENSHAKE_ENABLED}),(0,I.jsxs)(C.FormItem,{disabled:c,title:q.Z.Messages.POGGERMODE_SCREENSHAKE,className:Et().formItem,children:[(0,I.jsx)(xt,{children:q.Z.Messages.POGGERMODE_SCREENSHAKE_DESCRIPTION}),(0,I.jsx)(C.Slider,{disabled:c,markers:Nt,equidistant:!0,stickToMarkers:!0,minValue:Nt[0],maxValue:Nt[Nt.length-1],initialValue:i,onValueChange:function(e){return function(e,t){
null!=e.shakeIntensity&&e.shakeIntensity>i&&(0,Xe.T)($e.hn.MORE);a(e,t)}({shakeIntensity:e},bt.SHAKE)},onMarkerRender:function(e){return e===Nt[Nt.length-1]?q.Z.Messages.POGGERMODE_SCREENSHAKE_MAX:"".concat(100*e,"%")}})]}),(0,I.jsx)(jt,{disabled:c,locations:[{location:mt.oZ.CHAT_INPUT,title:q.Z.Messages.POGGERMODE_SCREENSHAKE_LOCATION_CHAT_INPUT_ENABLED,description:q.Z.Messages.POGGERMODE_SCREENSHAKE_LOCATION_CHAT_INPUT_ENABLED_DESCRIPTION},{location:mt.oZ.VOICE_USER,title:q.Z.Messages.POGGERMODE_SCREENSHAKE_LOCATION_VOICE_USER_ENABLED,description:q.Z.Messages.POGGERMODE_SCREENSHAKE_LOCATION_VOICE_USER_ENABLED_DESCRIPTION},{location:mt.oZ.MENTION,title:q.Z.Messages.POGGERMODE_SCREENSHAKE_LOCATION_MENTION_ENABLED,description:q.Z.Messages.POGGERMODE_SCREENSHAKE_LOCATION_MENTION_ENABLED_DESCRIPTION}],settingsLocations:s,onChange:function(e){return a({screenshakeEnabledLocations:e},bt.SHAKE)}})]})}function Lt(e){var t=e.updateSettings;return(0,I.jsx)(C.FormSection,{tag:C.FormTitleTags.H1,
title:q.Z.Messages.POGGERMODE_SETTINGS_CUSTOMIZATION,children:(0,I.jsxs)(C.FormItem,{className:Et().formItem,children:[(0,I.jsx)(C.FormText,{className:Et().formItem,children:q.Z.Messages.POGGERMODE_HIDE_SETTINGS_DESCRIPTION}),(0,I.jsx)(C.Button,{className:Et().hideButton,size:C.Button.Sizes.SMALL,onClick:function(){t({enabled:!1,settingsVisible:!1});(0,He.xf)()},children:q.Z.Messages.POGGERMODE_HIDE_SETTINGS})]})})}function Zt(e){var t=e.onChangePage;return(0,I.jsxs)(C.FormSection,{children:[(0,I.jsxs)(C.Clickable,{onClick:function(){return t(yt.ACHIEVEMENT_LIST)},className:Et().achievementContainer,children:[(0,I.jsx)("div",{className:Et().achievementIconContainer,children:(0,I.jsx)(Ke.Z,{color:A.Z.unsafe_rawColors.ORANGE_345.css})}),(0,I.jsxs)("div",{className:Et().achievementTextContainer,children:[(0,I.jsx)(C.Heading,{variant:"heading-md/semibold",color:"header-primary",children:q.Z.Messages.POGGERMODE_ACHIEVEMENT_TITLE}),(0,I.jsx)(C.Text,{variant:"text-md/normal",
color:"header-secondary",children:q.Z.Messages.POGGERMODE_ACHIEVEMENT_DESCRIPTION})]}),(0,I.jsx)(ze.Z,{width:16,className:Et().rightCaretIcon})]}),(0,I.jsx)(C.FormDivider,{className:Et().divider})]})}var wt=function(){return n.e(37948).then(n.t.bind(n,394198,19)).then((function(e){return e.default}))};function Ut(e){var t=e.onChangePage,n=e.setShowEnableAnimation,o=function(e,t,n,r){return(null!=t?t:e)&&(null!=r?r:n)},i=(0,r.cj)([Ge.Z],(function(){return Ge.Z.getState()})),s=Ot(c.useState({x:0,y:0}),2),a=s[0],l=s[1],u=(0,pt.Z)(),d=function(e,t){!function(e){if(e.enabled&&!1===i.enabled){n(!0);(0,qe.GN)("poggermode_enabled");var t;Qe.S.dispatch(se.CkL.SHAKE_APP,{duration:2e3,intensity:null!==(t=e.shakeIntensity)&&void 0!==t?t:i.shakeIntensity})}}(e);(0,Je.AI)(e);if(null!=t){var r=t===bt.CONFETTI,s=o(i.confettiEnabled,e.confettiEnabled,i.enabled,e.enabled);r&&s&&u.fire(a.x,a.y,{settings:e});var l=t===bt.SHAKE,c=o(i.screenshakeEnabled,e.screenshakeEnabled,i.enabled,e.enabled);if(l&&c){
var d;Qe.S.dispatch(se.CkL.SHAKE_APP,{duration:1e3,intensity:null!==(d=e.shakeIntensity)&&void 0!==d?d:i.shakeIntensity})}}},f=function(e){l({x:e.clientX,y:e.clientY})};c.useEffect((function(){window.addEventListener("mousemove",f);return function(){return window.removeEventListener("mousemove",f)}}),[]);return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(C.Heading,{variant:"heading-lg/semibold",className:Et().title,children:q.Z.Messages.POGGERMODE}),(0,I.jsx)(Pt,{settings:i,updateSettings:d}),(0,I.jsx)(Zt,{onChangePage:t}),(0,I.jsx)(Mt,{settings:i,updateSettings:d}),(0,I.jsx)(Dt,{settings:i,updateSettings:d}),(0,I.jsx)(Rt,{settings:i,updateSettings:d}),(0,I.jsx)(Lt,{updateSettings:d})]})}var Bt=function(e,t,n){var r=function(e){return function(){t(e)}};switch(e){case yt.USER_SETTINGS:return(0,I.jsx)(Ut,{onChangePage:r(yt.ACHIEVEMENT_LIST),setShowEnableAnimation:n});case yt.ACHIEVEMENT_LIST:return(0,I.jsx)(ft,{onBackClick:r(yt.USER_SETTINGS)});default:return null}},Gt=function(e){
return e===yt.USER_SETTINGS?We.n.LEFT:We.n.RIGHT};function kt(){var e=Ot(c.useState(yt.USER_SETTINGS),2),t=e[0],n=e[1],o=Ot(c.useState(Gt(t)),2),i=o[0],s=o[1],a=Ot(c.useState(!1),2),l=a[0],u=a[1],d=(0,r.e7)([Ye.Z],(function(){return Ye.Z.useReducedMotion})),f=l&&!d;c.useEffect((function(){var e=setTimeout((function(){s(Gt(t))}),500);return function(){return clearTimeout(e)}}),[t]);c.useEffect((function(){Math.random()>.99&&(0,Xe.T)($e.hn.VISITOR_100)}),[]);return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(We.Z,{className:Et().slideAnimator,step:t,direction:i,children:Bt(t,n,u)}),(0,I.jsx)("div",{className:f?Et().enableAnimationOverlayVisible:Et().enableAnimationOverlayHidden,children:(0,I.jsx)(Ve.Z,{className:Et().enableAnimation,importData:wt,shouldAnimate:f,autoplay:!1,resetOnPlay:!0,loop:!1,onComplete:function(){return u(!1)}})})]})}
var Ft=n(516249),Ht=n(673679),Yt=n(653224),Vt=n(595138),Wt=n(810978),zt=n(256204),Kt=n(392649),Qt=n(536392),qt=n(223430),Xt=n(655674),$t=n.n(Xt),Jt=n(349263),en=n.n(Jt),tn=n(50682),nn=n.n(tn);function rn(e){var t=e.onClickManageSubscription,n=(0,r.e7)([Qt.Z],(function(){return Qt.Z.getSubscriptions()})),o=c.useMemo((function(){return Object.values(null!=n?n:{}).filter((function(e){return e.type===se.NYc.APPLICATION&&e.status!==se.O0b.ENDED}))}),[n]);return 0===o.length?null:(0,I.jsxs)("div",{className:$t().container,children:[(0,I.jsx)(C.Heading,{variant:"heading-md/semibold",className:$t().sectionTitle,children:q.Z.Messages.APPLICATION_USER_SUBSCRIPTIONS_TITLE}),(0,I.jsx)(qt.Z,{size:4}),(0,I.jsx)(C.Text,{variant:"text-sm/normal",className:$t().sectionDescription,children:q.Z.Messages.APPLICATION_USER_SUBSCRIPTIONS_DESCRIPTION}),(0,I.jsx)(qt.Z,{size:24}),(0,I.jsxs)("div",{className:B()(en().guildBoostingSubscriptionRow,$t().card),children:[(0,I.jsx)("img",{src:nn(),alt:"",
className:$t().bannerImage}),(0,I.jsxs)("div",{className:$t().textContainer,children:[(0,I.jsx)(C.Heading,{variant:"heading-xl/semibold",className:$t().header,children:q.Z.Messages.APPLICATION_USER_SUBSCRIPTIONS_TITLE}),(0,I.jsx)(C.Text,{variant:"text-md/normal",className:$t().description,children:q.Z.Messages.APPLICATION_ACTIVE_USER_SUBSCRIPTIONS_DESCRIPTION.format({numSubscriptions:o.length})})]}),(0,I.jsx)(Kt.Z,{color:C.Button.Colors.BRAND,onClick:t,children:q.Z.Messages.APPLICATION_MANAGE_SUBSCRIPTIONS_BUTTON})]})]})}var on=n(177001),sn=n(301443),an=n(311846),ln=n(407817),cn=n(196142),un=n(100749),dn=n(666800),fn=n(54709),pn=n(711531),mn=n(124251),hn=n(377463),En=n(755556),Sn=n.n(En);const gn=function(e){var t=e.label,n=e.onClick,r=e.submitting;return(0,I.jsx)(C.Clickable,{onClick:r?void 0:n,className:Sn().button,children:(0,I.jsxs)("div",{className:Sn().contentContainer,children:[r?(0,I.jsx)(C.Spinner,{type:C.Spinner.Type.PULSING_ELLIPSIS,className:Sn().spinner}):(0,
I.jsx)(C.Text,{variant:"text-md/medium",className:Sn().label,children:t}),(0,I.jsx)(hn.Z,{className:Sn().arrow})]})})};var _n=n(443812),Tn=n(386991),On=n(531441),bn=n(243763),yn=n(199722),In=n(333398),vn=n(567403),Nn=n(151367),An=n(249052),Cn=n(266909);function jn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done);s=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){a=!0;o=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return jn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pn(e){var t=(0,bn.bZ)(e),n=(0,r.e7)([Cn.Z],(function(){return Cn.Z.getSubscriptionListingForPlan(t)}),[t]),o=(0,r.e7)([Cn.Z],(function(){return null!=n?Cn.Z.getSubscriptionGroupListingForSubscriptionListing(n.id):null}),[n]),i=(0,r.e7)([Nn.Z],(function(){var t=Nn.Z.getForSubscription(e.id);if(null!=t){return xn(Array.from(t),1)[0]}return null}),[e]),s=(0,r.e7)([In.Z],(function(){if(null!=i){var e=In.Z.getApplication(i.applicationId);if(null!=e)return e}}),[i]),a=(0,r.e7)([vn.Z],(function(){if(null!=i)return vn.Z.getGuild(i.guildId)}),[i]),l=xn(c.useState(!1),2),u=l[0],d=l[1],f=null==n?void 0:function(e){var t=e.listing,n=e.subscription,r=n.currentPeriodEnd,o=t.subscription_plans[0],i=(0,
An.T4)(o.price,o.currency),s=n.createdAt,a=n.status===se.O0b.CANCELED,l=n.status===se.O0b.PAST_DUE;return{subscribedSinceDate:s,currentPeriodEndDate:r,currentPeriodEndLabel:ot()().isAfter(n.currentPeriodEnd)?q.Z.Messages.APPLICATION_MANAGE_SUBSCRIPTION_INFO_SUBSCRIPTION_ENDED:q.Z.Messages.APPLICATION_MANAGE_SUBSCRIPTION_INFO_SUBSCRIPTION_ENDS,subscriptionPlanPrice:i,isCancelled:a,isPastDue:l}}({listing:n,subscription:e});return{application:s,guild:a,expanded:u,handleToggleExpanded:function(){return d((function(e){return!e}))},listing:n,groupListing:o,subscriptionInfo:f}}var Rn=n(395283),Mn=n.n(Rn);function Dn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ln(e,t,n,r,o,i,s){try{var a=e[i](s),l=a.value}catch(e){n(e);return}a.done?t(l):Promise.resolve(l).then(r,o)}function Zn(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){Ln(i,r,o,s,a,"next",e)}function a(e){
Ln(i,r,o,s,a,"throw",e)}s(void 0)}))}}function wn(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Un(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){wn(e,t,n[t])}))}return e}function Bn(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Gn(e,t){return function(e){
if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done);s=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){a=!0;o=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Dn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var kn=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},
"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:s.label++;return{value:i[1],done:!1};case 5:s.label++;r=i[1];i=[0];continue;case 7:i=s.ops.pop();s.trys.pop();continue;default:if(!(o=s.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1];o=i;break}if(o&&s.label<o[2]){s.label=o[2];s.ops.push(i);break}o[2]&&s.ops.pop();s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},Fn=function(e){var t=e.label,n=e.value,r=e.showInfoIcon,o=e.infoIconTooltipText
;return(0,I.jsxs)("div",{className:Mn().infoCard,children:[(0,I.jsxs)("div",{className:Mn().infoCardLabelContainer,children:[(0,I.jsx)(C.Heading,{variant:"heading-deprecated-12/semibold",className:Mn().infoCardLabel,children:t}),r&&(0,I.jsx)(C.Tooltip,{text:o,children:function(e){return(0,I.jsx)(Tn.Z,Bn(Un({},e),{className:Mn().infoCardIcon}))}})]}),(0,I.jsx)(C.Heading,{variant:"heading-xl/semibold",className:Mn().infoCardValue,children:n})]})},Hn=function(e){var t=e.subscription,n=Gn((0,un.ED)({subscriptionId:t.id,renewal:!0}),1)[0],o=(0,r.e7)([pn.Z],(function(){return pn.Z.hasFetchedPaymentSources}));return null!=n&&o?(0,I.jsx)(dn.Z,{subscription:t,currentInvoicePreview:n,dropdownClassName:Mn().paymentSourceDropdown}):(0,I.jsx)(C.Spinner,{})},Yn=function(e){var t=e.isCancelled,n=e.onCancelSubscriptionClick,r=e.isResubscribing,o=e.onResubscribeClick;return(0,I.jsxs)("div",{children:[(0,I.jsx)(C.FormTitle,{children:q.Z.Messages.APPLICATION_MANAGE_SUBSCRIPTION_MANAGE_OPTIONS_LABEL}),(0,
I.jsx)("div",{className:Mn().rowButtons,children:t?(0,I.jsx)(C.Button,{onClick:o,submitting:r,children:q.Z.Messages.APPLICATION_MANAGE_SUBSCRIPTION_MANAGE_OPTIONS_RESTART}):(0,I.jsx)(gn,{label:q.Z.Messages.APPLICATION_MANAGE_SUBSCRIPTION_MANAGE_OPTIONS_CANCEL,onClick:n})})]})};const Vn=function(e){var t=e.subscription,r=Pn(t),o=r.listing,i=r.groupListing,s=r.guild,a=r.expanded,l=r.handleToggleExpanded,u=r.subscriptionInfo,d=r.application,f=(0,_n.Dt)(),p=Gn(c.useState(!1),2),m=p[0],h=p[1],E=(0,D.Z)().analyticsLocations;if(null==i||null==o||null==u||null==d)return null;var S,g=function(){(0,C.openModalLazy)(Zn((function(){var e,r;return kn(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(9582)]).then(n.bind(n,509582))];case 1:e=i.sent(),r=e.default;return[2,function(e){return(0,I.jsx)(r,Un({application:d,listing:o,subscription:t,guild:s},e))}]}}))})))},_=(S=Zn((function(){var e,r;return kn(this,(function(i){switch(i.label){case 0:i.trys.push([0,,2,3]);h(!0)
;return[4,Ht.pl(t,E)];case 1:e=i.sent();null!=(r=e.subscription)&&(0,C.openModalLazy)(Zn((function(){var e,t;return kn(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(80547)]).then(n.bind(n,180547))];case 1:e=i.sent(),t=e.default;return[2,function(e){return(0,I.jsx)(t,Un({listing:o,subscription:fn.Z.createFromServer(r)},e))}]}}))})));return[3,3];case 2:h(!1);return[7];case 3:return[2]}}))})),function(){return S.apply(this,arguments)}),T=u.isCancelled,O=u.isPastDue,b=u.subscriptionPlanPrice,y=u.subscribedSinceDate,v=u.currentPeriodEndDate,N=u.currentPeriodEndLabel,A=(0,bn.KW)(o.sku_flags),j=(0,bn.KK)(o.sku_flags),x=o.soft_deleted||null==d||(!j||null==s)&&!A,P=null;if(j){var R;P=(0,I.jsxs)(C.Text,{variant:"text-sm/normal",className:Mn().tierName,children:[q.Z.Messages.APPLICATION_MANAGE_SUBSCRIPTION_CARD_IN_GUILD.format({guildName:null!==(R=null==s?void 0:s.name)&&void 0!==R?R:q.Z.Messages.APPLICATION_MANAGE_SUBSCRIPTION_CARD_GUILD_NAME_UNAVAILABLE
}),null!=s&&(0,I.jsx)(mn.Z,{guild:s,size:mn.Z.Sizes.MINI,className:Mn().guildIcon})]})}else A&&(P=(0,I.jsx)(C.Text,{variant:"text-sm/normal",className:Mn().tierName,children:q.Z.Messages.APPLICATION_MANAGE_SUBSCRIPTION_CARD_PERSONAL_SUBSCRIPTION}));return(0,I.jsxs)("div",{className:Mn().container,children:[(0,I.jsx)(ln.Z,{onClick:l,className:Mn().headerContainer,children:function(e){var t=e.areaRef,n=e.handleStopPropagation;return(0,I.jsxs)(I.Fragment,{children:[null!=d&&(0,I.jsx)(yn.Z,{size:yn.H.SMALL,className:Mn().applicationIcon,application:d,asset:o.image_asset}),(0,I.jsxs)("div",{className:Mn().headerTextContainer,children:[(0,I.jsx)(C.Text,{variant:"text-md/medium",className:Mn().applicationName,children:null!=d?d.name:q.Z.Messages.APPLICATION_MANAGE_SUBSCRIPTION_CARD_APPLICATION_NAME_UNAVAILABLE}),(0,I.jsxs)("div",{className:Mn().headerSubtitleContainer,children:[P,T?(0,I.jsx)(On.IG,{text:q.Z.Messages.APPLICATION_MANAGE_SUBSCRIPTION_CANCELED}):O?(0,I.jsx)(C.Tooltip,{
text:q.Z.Messages.APPLICATION_SUBSCRIPTION_USER_SUBSCRIPTION_PAST_DUE_WARNING,children:function(e){return(0,I.jsx)("div",Bn(Un({},e),{children:(0,I.jsx)(On.IG,{className:Mn().paymentDueBadge,text:q.Z.Messages.APPLICATION_MANAGE_SUBSCRIPTION_PAST_DUE,color:an.Z.YELLOW_300})}))}}):null]})]}),(0,I.jsx)(C.Clickable,{onClick:n(l),"aria-label":q.Z.Messages.APPLICATION_SUBSCRIPTION_TOGGLE_SECTION_LABEL,"aria-controls":f,"aria-expanded":a,focusProps:{ringTarget:t},children:(0,I.jsx)(hn.Z,{className:B()(Mn().arrowIcon,wn({},Mn().arrowIconExpanded,a))})})]})}}),a?(0,I.jsxs)("div",{id:f,children:[(0,I.jsx)("div",{className:Mn().divider}),(0,I.jsx)(cn.Z,{groupListingId:i.id,subscription:t,className:Mn().changePlanNotice}),(0,I.jsxs)("div",{className:Mn().subscriptionInfoCards,children:[(0,I.jsx)(Fn,{label:N,value:q.Z.Messages.APPLICATION_MANAGE_SUBSCRIPTION_INFO_CURRENT_PERIOD_END_DATE.format({timestamp:v.getTime()})}),(0,I.jsx)(Fn,{label:q.Z.Messages.APPLICATION_MANAGE_SUBSCRIPTION_INFO_PRICE,
value:b}),(0,I.jsx)(Fn,{label:q.Z.Messages.APPLICATION_MANAGE_SUBSCRIPTION_INFO_SUBSCRIBED_SINCE,value:q.Z.Messages.APPLICATION_MANAGE_SUBSCRIPTION_INFO_SUBSCRIBED_SINCE_DATE.format({timestamp:y.getTime()})})]}),(0,I.jsx)(qt.Z,{size:16}),!T&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(C.FormTitle,{children:q.Z.Messages.APPLICATION_MANAGE_SUBSCRIPTION_PAYMENT_METHOD_LABEL}),(0,I.jsx)(Hn,{subscription:t})]}),!x&&(0,I.jsx)(Yn,{isCancelled:T,onCancelSubscriptionClick:g,isResubscribing:m,onResubscribeClick:_})]}):null]})};var Wn=n(414611),zn=n.n(Wn);const Kn=function(e){var t,n=e.onGoBack,o=(0,r.e7)([Qt.Z],(function(){return null!==(t=Qt.Z.getActiveApplicationSubscriptions())&&void 0!==t?t:[]})),i=(0,sn.sp)(o).loading,s=(0,sn.qz)().loadState;return i||s!==sn.jd.LOADED?(0,I.jsx)(C.Spinner,{}):0===o.length?null:(0,I.jsxs)("div",{className:zn().container,children:[(0,I.jsxs)(C.Button,{look:C.Button.Looks.BLANK,innerClassName:zn().backButtonContents,onClick:n,children:[(0,I.jsx)(on.Z,{
className:zn().arrowIcon}),q.Z.Messages.APPLICATION_MANAGE_SUBSCRIPTION_PAGE_BACK_CTA]}),(0,I.jsx)(qt.Z,{size:10}),(0,I.jsx)(C.FormTitle,{tag:"h1",children:q.Z.Messages.APPLICATION_MANAGE_SUBSCRIPTION_PAGE_TITLE}),(0,I.jsx)(C.Text,{variant:"text-sm/normal",className:zn().pageDescription,children:q.Z.Messages.APPLICATION_MANAGE_SUBSCRIPTION_PAGE_DESCRIPTION}),(0,I.jsx)("div",{className:zn().subscriptionsContainer,children:o.map((function(e){return(0,I.jsx)(Vn,{subscription:e},e.id)}))})]})};var Qn=n(266472),qn=n(349575),Xn=n.n(qn),$n=n(709804),Jn=n.n($n);function er(e){var t=e.onClickManageSubscription,n=(0,r.e7)([Qt.Z],(function(){return Qt.Z.getSubscriptions()})),o=c.useMemo((function(){return Object.values(null!=n?n:{}).filter((function(e){return e.type===se.NYc.GUILD})).filter((function(e){return e.status!==se.O0b.ENDED}))}),[n]);return 0===o.length?null:(0,I.jsxs)("div",{className:Xn().container,children:[(0,I.jsx)(C.Heading,{variant:"heading-md/semibold",
className:Xn().sectionTitle,children:q.Z.Messages.GUILD_ROLE_SUBSCRIPTIONS_USER_SUBSCRIPTIONS_TITLE}),(0,I.jsx)(qt.Z,{size:4}),(0,I.jsx)(C.Text,{variant:"text-sm/normal",className:Xn().sectionDescription,children:q.Z.Messages.GUILD_ROLE_SUBSCRIPTIONS_USER_SUBSCRIPTIONS_DESCRIPTION}),(0,I.jsx)(qt.Z,{size:24}),(0,I.jsxs)("div",{className:B()(en().guildBoostingSubscriptionRow,Xn().card),children:[(0,I.jsx)("img",{src:Jn(),alt:"",className:Xn().handImage}),(0,I.jsxs)("div",{className:Xn().textContainer,children:[(0,I.jsx)(C.Heading,{variant:"heading-xl/semibold",className:Xn().header,children:q.Z.Messages.GUILD_ROLE_SUBSCRIPTIONS_USER_SUBSCRIPTIONS_TITLE}),(0,I.jsx)(C.Text,{variant:"text-md/normal",className:Xn().description,children:q.Z.Messages.GUILD_ROLE_SUBSCRIPTIONS_ACTIVE_USER_SUBSCRIPTIONS_DESCRIPTION.format({numSubscriptions:o.length})})]}),(0,I.jsx)(Kt.Z,{color:C.Button.Colors.BRAND,onClick:t,children:q.Z.Messages.GUILD_ROLE_SUBSCRIPTIONS_MANAGE_SUBSCRIPTIONS_BUTTON})]})]})}
var tr=n(289283),nr=n(710965),rr=n(547721),or=n(11879),ir=n(856744);function sr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ar(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done);s=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){a=!0;o=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return sr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sr(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lr(){return(0,r.e7)([or.Z],(function(){return function(){var e=ar(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[or.Z],1)[0],t=e.getGuildIdsWithPurchasableRoles(),n=!1;t.forEach((function(t){e.getUserSubscriptionRoles(t).size>0&&(n=!0)}));return n?ir.PY.SUBSCRIBED:0===t.size?ir.PY.NONE:ir.PY.IN_SUBSCRIPTION_SERVER}([or.Z])}))}var cr=[];function ur(e){var t,n=e.ensureFresh,r=e.hasFetched,o=e.hasRoleSubscriptions,i=Qt.Z.getActiveGuildSubscriptions();return!(0!==(null!==(t=null==i?void 0:i.length)&&void 0!==t?t:0)||!o)||(!(!n||r)||!r&&!Qt.Z.hasFetchedSubscriptions())}var dr=n(216421),fr=n(198895),pr=n(784426),mr=n(840249),hr=n(633440);function Er(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Sr(e,t){return function(e){if(Array.isArray(e))return e
}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done);s=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){a=!0;o=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Er(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Er(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gr(e){var t=(0,hr.W)(e),n=(0,r.e7)([mr.Z],(function(){return mr.Z.getSubscriptionListingForPlan(t)})),o=(0,r.e7)([mr.Z],(function(){
return null!=n?mr.Z.getSubscriptionGroupListingForSubscriptionListing(n.id):null})),i=(0,r.e7)([vn.Z],(function(){return vn.Z.getGuild(null==o?void 0:o.guild_id)})),s=Sr(c.useState(!1),2),a=s[0],l=s[1],u=(0,rr.JH)().fetchSubscriptionsSettings;c.useEffect((function(){a&&null!=i&&u(i.id)}),[a,i,u]);var d=null==n?void 0:function(e){var t=e.subscription,n=ot()(t.currentPeriodEnd).format("M/D/YY"),r=null!=t.price?(0,An.T4)(t.price,t.currency):"",o=ot()(t.createdAt).format("M/D/YY"),i=t.status===se.O0b.CANCELED,s=t.status===se.O0b.PAST_DUE,a=null!=t.trialId;return{memberSince:o,nextRenewalDate:n,nextRenewalLabel:i?q.Z.Messages.GUILD_ROLE_MANAGE_SUBSCRIPTION_INFO_MEMBERSHIP_ENDS:q.Z.Messages.GUILD_ROLE_MANAGE_SUBSCRIPTION_INFO_NEXT_RENEWAL,subscriptionPrice:r,isCancelled:i,isPastDue:s,isTrial:a}}({subscription:e});return{guild:i,expanded:a,handleToggleExpanded:function(){return l((function(e){return!e}))},listing:n,groupListing:o,subscriptionInfo:d}}
var _r=n(153686),Tr=n(534681),Or=n(340562),br=n(741312),yr=n.n(br);function Ir(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vr(e,t,n,r,o,i,s){try{var a=e[i](s),l=a.value}catch(e){n(e);return}a.done?t(l):Promise.resolve(l).then(r,o)}function Nr(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){vr(i,r,o,s,a,"next",e)}function a(e){vr(i,r,o,s,a,"throw",e)}s(void 0)}))}}function Ar(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Cr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done);s=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){a=!0;o=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return i}
}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ir(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ir(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var jr=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){
case 0:case 1:o=i;break;case 4:s.label++;return{value:i[1],done:!1};case 5:s.label++;r=i[1];i=[0];continue;case 7:i=s.ops.pop();s.trys.pop();continue;default:if(!(o=s.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1];o=i;break}if(o&&s.label<o[2]){s.label=o[2];s.ops.push(i);break}o[2]&&s.ops.pop();s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},xr=function(e){var t,n,r=e.transitionState,o=e.groupListing,i=e.guildId,s=e.listing,a=e.subscription,l=e.onClose,u=(0,_n.Dt)(),d=(0,rr.YB)(i),f=null!=(null==d||null===(t=d.cover_image_asset)||void 0===t?void 0:t.application_id)?(0,Tr._W)(d.cover_image_asset.application_id,d.cover_image_asset,440):void 0,p=function(e){var t,n=Cr(c.useState(!1),2),r=n[0],o=n[1],i=Cr(c.useState(null),2),s=i[0],a=i[1],l=(t=Nr((function(t){var n
;return jr(this,(function(r){switch(r.label){case 0:r.trys.push([0,2,3,4]);o(!0);return[4,Ht.EO(t,e)];case 1:r.sent();return[2,!0];case 2:n=r.sent();a(n);return[3,4];case 3:o(!1);return[7];case 4:return[2]}}))})),function(e){return t.apply(this,arguments)});return{cancelSubscription:l,error:s,submitting:r}}((0,D.Z)(_r.Z.GUILD_ROLE_SUBSCRIPTION_CANCELLATION_MODAL).analyticsLocations),m=p.cancelSubscription,h=p.error,E=p.submitting,S=(n=Nr((function(){return jr(this,(function(e){switch(e.label){case 0:return[4,m(a.id)];case 1:e.sent()&&l();return[2]}}))})),function(){return n.apply(this,arguments)}),g=s.role_benefits.benefits.filter((function(e){return e.ref_type===ir.Qs.CHANNEL})),_=s.role_benefits.benefits.filter((function(e){return e.ref_type===ir.Qs.INTANGIBLE})),T=ot()(a.currentPeriodEnd).format("MMMM Do, YYYY"),O=q.Z.Messages.GUILD_ROLE_CANCEL_SUBSCRIPTION_MODAL_DESCRIPTION.format({numChannels:g.length,numAdditionalBenefits:_.length,subscriptionEndDate:T});return(0,
I.jsxs)(C.ModalRoot,{transitionState:r,className:yr().modal,"aria-labelledby":u,children:[(0,I.jsxs)("div",{children:[(0,I.jsx)("img",{src:f,alt:"",className:yr().headerImage}),(0,I.jsx)(C.ModalCloseButton,{withCircleBackground:!0,className:yr().closeButton,onClick:l})]}),null!=h?(0,I.jsx)(C.FormErrorBlock,{children:h.message}):null,(0,I.jsxs)(C.ModalContent,{className:yr().content,children:[(0,I.jsx)(C.Heading,{id:u,variant:"text-md/medium",className:yr().title,children:q.Z.Messages.GUILD_ROLE_CANCEL_SUBSCRIPTION_MODAL_TITLE}),(0,I.jsx)(C.Text,{className:yr().description,variant:"text-sm/normal",children:O}),(0,I.jsx)(Or.c,{listingId:s.id,guildId:o.guild_id,className:yr().benefits})]}),(0,I.jsxs)(C.ModalFooter,{className:yr().footer,children:[(0,I.jsx)(C.Button,{color:C.Button.Colors.RED,onClick:S,submitting:E,children:q.Z.Messages.GUILD_ROLE_CANCEL_SUBSCRIPTION_MODAL_CANCEL_CTA}),(0,I.jsx)(C.Button,{look:C.Button.Looks.LINK,color:C.Button.Colors.WHITE,className:yr().goBackButton,
onClick:l,children:q.Z.Messages.GUILD_ROLE_CANCEL_SUBSCRIPTION_MODAL_NEVERMIND_CTA})]})]})},Pr=function(e){(0,C.openModal)((function(t){return(0,I.jsx)(xr,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Ar(e,t,n[t])}))}return e}({},t,e))}))};var Rr=n(263166),Mr=n(124296),Dr=n(897196),Lr=n(131559),Zr=n(165606),wr=n.n(Zr);function Ur(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Br(e,t,n,r,o,i,s){try{var a=e[i](s),l=a.value}catch(e){n(e);return}a.done?t(l):Promise.resolve(l).then(r,o)}function Gr(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function kr(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Gr(e,t,n[t])}))}return e}function Fr(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Hr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done);s=!0){
i.push(r.value);if(t&&i.length===t)break}}catch(e){a=!0;o=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ur(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ur(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Yr=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,
r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:s.label++;return{value:i[1],done:!1};case 5:s.label++;r=i[1];i=[0];continue;case 7:i=s.ops.pop();s.trys.pop();continue;default:if(!(o=s.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1];o=i;break}if(o&&s.label<o[2]){s.label=o[2];s.ops.push(i);break}o[2]&&s.ops.pop();s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},Vr=function(e){var t=e.label,n=e.value,r=e.showInfoIcon,o=e.infoIconTooltipText;return(0,I.jsxs)("div",{className:wr().infoCard,children:[(0,I.jsxs)("div",{className:wr().infoCardLabelContainer,children:[(0,I.jsx)(C.Heading,{variant:"heading-deprecated-12/semibold",
className:wr().infoCardLabel,children:t}),r&&(0,I.jsx)(C.Tooltip,{clickableOnMobile:!0,text:o,children:function(e){return(0,I.jsx)(Tn.Z,Fr(kr({},e),{className:wr().infoCardIcon}))}})]}),(0,I.jsx)(C.Heading,{variant:"heading-xl/semibold",className:wr().infoCardValue,children:n})]})},Wr=function(e){var t=e.subscription,n=Hr((0,un.ED)({subscriptionId:t.id,renewal:!0}),1)[0],o=(0,r.e7)([pn.Z],(function(){return pn.Z.hasFetchedPaymentSources}));return null!=n&&o?(0,I.jsx)(dn.Z,{subscription:t,currentInvoicePreview:n,dropdownClassName:wr().paymentSourceDropdown}):(0,I.jsx)(C.Spinner,{})},zr=function(e){var t=e.isTrial,n=e.isCancelled,r=e.isResubscribing,o=e.shouldHideRoleSubscriptionEntryPoints,i=e.onCancelSubscriptionClick,s=e.onResubscribeClick,a=e.onChangePlanClick;return n&&(t||o)?null:(0,I.jsxs)("div",{children:[(0,I.jsx)(C.FormTitle,{children:q.Z.Messages.GUILD_ROLE_MANAGE_SUBSCRIPTION_MANAGE_OPTIONS_LABEL}),(0,I.jsx)("div",{className:wr().rowButtons,children:n?(0,I.jsx)(C.Button,{
onClick:s,submitting:r,children:q.Z.Messages.GUILD_ROLE_MANAGE_SUBSCRIPTION_MANAGE_OPTIONS_RESTART_SUBSCRIPTION}):(0,I.jsxs)(I.Fragment,{children:[!t&&!o&&(0,I.jsx)(gn,{label:q.Z.Messages.GUILD_ROLE_MANAGE_SUBSCRIPTION_MANAGE_OPTIONS_CHANGE_TIER,onClick:a}),(0,I.jsx)(gn,{label:q.Z.Messages.GUILD_ROLE_MANAGE_SUBSCRIPTION_MANAGE_OPTIONS_CANCEL,onClick:i})]})})]})};const Kr=function(e){var t=e.subscription,n=gr(t),r=n.listing,o=n.groupListing,i=n.guild,s=n.expanded,a=n.handleToggleExpanded,l=n.subscriptionInfo,u=Hr(c.useState(!1),2),d=u[0],f=u[1],p=(0,_n.Dt)(),m=(0,D.Z)().analyticsLocations,h=(0,fr.VV)(null==i?void 0:i.id).shouldHideRoleSubscriptionPurchaseEntryPoints,E=(null==t?void 0:t.paymentGateway)===se.gg$.APPLE_PARTNER;if(null==o||null==r||null==l)return null;var S,g,_=function(){if(null!=i){(0,pr.uL)(se.Z5c.CHANNEL(i.id,Dr.oC.ROLE_SUBSCRIPTIONS));(0,He.xf)()
;dr.Z.show(se.kVF.BACK_TO_PREVIOUS_SCREEN,void 0,q.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_BACK_TO_SUBSCRIPTION_USER_SETTING_CTA,(function(){return P.Z.open(se.oAB.SUBSCRIPTIONS,Lr.cP)}))}},T=function(){null!=i&&Pr({guildId:i.id,groupListing:o,listing:r,subscription:t})},O=(g=(S=function(){return Yr(this,(function(e){switch(e.label){case 0:e.trys.push([0,,2,3]);f(!0);return[4,Ht.pl(t,m)];case 1:e.sent();(0,Rr.B)({title:q.Z.Messages.GUILD_ROLE_SUBSCRIPTION_RESTARTED_TITLE,body:q.Z.Messages.GUILD_ROLE_SUBSCRIPTION_RESTARTED_DESCRIPTION,Icon:Mr.Z});return[3,3];case 2:f(!1);return[7];case 3:return[2]}}))},function(){var e=this,t=arguments;return new Promise((function(n,r){var o=S.apply(e,t);function i(e){Br(o,n,r,i,s,"next",e)}function s(e){Br(o,n,r,i,s,"throw",e)}i(void 0)}))}),function(){return g.apply(this,arguments)}),b=l.isCancelled,y=l.isPastDue,v=l.subscriptionPrice,N=l.memberSince,A=l.nextRenewalDate,j=l.nextRenewalLabel,x=l.isTrial,R=r.soft_deleted||null==i||E;return(0,
I.jsxs)("div",{className:wr().container,children:[(0,I.jsx)(ln.Z,{onClick:a,className:wr().headerContainer,children:function(e){var t=e.areaRef,n=e.handleStopPropagation;return(0,I.jsxs)(I.Fragment,{children:[null!=i&&(0,I.jsx)(mn.Z,{guild:i,active:!0,size:mn.Z.Sizes.MEDIUM}),(0,I.jsxs)("div",{className:wr().headerTextContainer,children:[(0,I.jsx)(C.Text,{variant:"text-md/medium",className:wr().guildName,children:null!=i?i.name:q.Z.Messages.GUILD_ROLE_SUBSCRIPTION_SERVER_NAME_UNAVAILABLE}),(0,I.jsxs)("div",{className:wr().headerSubtitleContainer,children:[(0,I.jsx)(C.Text,{variant:"text-sm/normal",className:wr().tierName,children:r.name}),b?(0,I.jsx)(On.IG,{text:q.Z.Messages.GUILD_ROLE_MANAGE_SUBSCRIPTION_CANCELLED}):x?(0,I.jsx)(On.IG,{text:q.Z.Messages.GUILD_ROLE_SUBSCRIPTION_SETUP_FREE_TRIAL_TITLE,color:an.Z.BRAND_500}):y?(0,I.jsx)(C.Tooltip,{text:q.Z.Messages.GUILD_ROLE_SUBSCRIPTION_USER_SUBSCRIPTION_PAST_DUE_WARNING,children:function(e){return(0,I.jsx)("div",Fr(kr({},e),{
children:(0,I.jsx)(On.IG,{className:wr().paymentDueBadge,text:q.Z.Messages.GUILD_ROLE_MANAGE_SUBSCRIPTION_PAST_DUE,color:an.Z.YELLOW_300})}))}}):null,E?(0,I.jsx)(C.Tooltip,{text:q.Z.Messages.GUILD_ROLE_MANAGE_SUBSCRIPTION_IOS_PLATFORM_TOOLTIP,children:function(e){return(0,I.jsx)("div",Fr(kr({},e),{children:(0,I.jsx)(On.IG,{text:q.Z.Messages.GUILD_ROLE_MANAGE_SUBSCRIPTION_IOS_PLATFORM,color:be.Z.INTERACTIVE_MUTED})}))}}):null]})]}),(0,I.jsx)(C.Clickable,{onClick:n(a),"aria-label":q.Z.Messages.GUILD_ROLE_SUBSCRIPTIONS_TOGGLE_SECTION_LABEL,"aria-controls":p,"aria-expanded":s,focusProps:{ringTarget:t},children:(0,I.jsx)(hn.Z,{className:B()(wr().arrowIcon,Gr({},wr().arrowIconExpanded,s))})})]})}}),s?(0,I.jsxs)("div",{id:p,children:[(0,I.jsx)("div",{className:wr().divider}),(0,I.jsx)(cn.Z,{groupListingId:o.id,subscription:t,className:wr().changePlanNotice}),(0,I.jsxs)("div",{className:wr().subscriptionInfoCards,children:[(0,I.jsx)(Vr,{label:j,value:A}),(0,I.jsx)(Vr,{
label:q.Z.Messages.GUILD_ROLE_MANAGE_SUBSCRIPTION_INFO_PRICE,value:v,showInfoIcon:x,infoIconTooltipText:x?q.Z.Messages.GUILD_ROLE_SUBSCRIPTION_MANAGE_SUBSCRIPTION_PAGE_TRIAL_PRICE_INFO:void 0}),(0,I.jsx)(Vr,{label:q.Z.Messages.GUILD_ROLE_MANAGE_SUBSCRIPTION_INFO_MEMBER_SINCE,value:N})]}),(0,I.jsx)(qt.Z,{size:16}),!b&&!E&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(C.FormTitle,{children:q.Z.Messages.GUILD_ROLE_MANAGE_SUBSCRIPTION_PAYMENT_METHOD_LABEL}),(0,I.jsx)(Wr,{subscription:t})]}),!R&&(0,I.jsx)(zr,{isTrial:x,isCancelled:b,isResubscribing:d,shouldHideRoleSubscriptionEntryPoints:h,onCancelSubscriptionClick:T,onChangePlanClick:_,onResubscribeClick:O})]}):null]})};var Qr=n(228572),qr=n.n(Qr);const Xr=function(e){var t=e.onGoBack,n=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).ensureFresh,t=void 0!==e&&e,n=lr()===ir.PY.SUBSCRIBED,o=(0,r.e7)([Qt.Z],(function(){return Qt.Z.getActiveGuildSubscriptions()})),i=c.useRef(!1);c.useEffect((function(){if(ur({
ensureFresh:t,hasRoleSubscriptions:n,hasFetched:i.current})){i.current=!0;Ht.jg()}}),[t,n]);return null!=o?o:cr}(),o=(0,rr.sp)(n).loading;(0,nr.Z)(tr.tq?"role-subscriptions-user-setting":void 0);return o?(0,I.jsx)(C.Spinner,{}):0===n.length?null:(0,I.jsxs)("div",{className:qr().container,children:[(0,I.jsxs)(C.Button,{look:C.Button.Looks.BLANK,innerClassName:qr().backButtonContents,onClick:t,children:[(0,I.jsx)(on.Z,{className:qr().arrowIcon}),q.Z.Messages.GUILD_ROLE_SUBSCRIPTIONS_MANAGE_SUBSCRIPTIONS_PAGE_BACK_BUTTON_CTA]}),(0,I.jsx)(qt.Z,{size:10}),(0,I.jsx)(C.FormTitle,{tag:"h1",children:q.Z.Messages.GUILD_ROLE_MANAGE_SUBSCRIPTION_PAGE_TITLE}),(0,I.jsx)(C.Text,{variant:"text-sm/normal",className:qr().pageDescription,children:q.Z.Messages.GUILD_ROLE_MANAGE_SUBSCRIPTION_PAGE_DESCRIPTION}),(0,I.jsx)("div",{className:qr().subscriptionsContainer,children:n.map((function(e){return(0,I.jsx)(Kr,{subscription:e},e.id)}))})]})}
;var $r=n(793461),Jr=n(615796),eo=n(641277),to=n(652591),no=n(551778),ro=n(95891),oo=n(250740),io=n(866051),so=n.n(io);function ao(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lo(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function co(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done);s=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){a=!0;o=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ao(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ao(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function uo(e){var t=e.user,n=e.planId,o=e.count,i=e.userPremiumSubscription,s=co((0,r.Wu)([no.Z],(function(){return[no.Z.get(n),null!=i?no.Z.get(i.planId):null]})),2),a=s[0],l=s[1];if(null==a||f.ZP.getInterval(n).intervalType!==S.rV.MONTH)return null;var c,u=null!=l?l.skuId:null,d=a.skuId===u,p=f.ZP.getDisplayName(n);return(0,I.jsxs)("div",{className:so().accountCreditRow,children:[(0,I.jsx)("div",{className:B()((c={},lo(c,so().iconBackgroundTier0,a.skuId===S.Si.TIER_0),lo(c,so().iconBackgroundTier1,a.skuId===S.Si.TIER_1),lo(c,so().iconBackgroundTier2,a.skuId===S.Si.TIER_2),c)),children:(0,I.jsx)(ro.Z,{className:so().icon})}),(0,I.jsxs)("div",{className:so().rowDetails,children:[(0,I.jsx)(C.Heading,{
variant:"heading-md/semibold",children:q.Z.Messages.PREMIUM_SUBSCRIPTION_CREDIT.format({planName:p})}),t.hasFreePremium()?null:(0,I.jsx)(C.Heading,{className:so().rowApplied,variant:"heading-sm/semibold",color:"header-secondary",children:d&&null!=i?q.Z.Messages.PREMIUM_SUBSCRIPTION_CREDIT_APPLIED_ON.format({date:i.currentPeriodEnd}):q.Z.Messages.PREMIUM_SUBSCRIPTION_CREDIT_APPLIED_MISMATCHED_PLAN.format({planName:p})})]}),(0,I.jsx)(C.Text,{className:so().rowCreditCount,variant:"text-md/semibold",children:q.Z.Messages.PREMIUM_SUBSCRIPTION_CREDIT_COUNT_MONTHS.format({count:o})})]})}const fo=function(e){var t=e.className,n=e.entitlements,o=Fe()(Array.from(n)).filter((function(e){var t=e.subscriptionPlanId,n=e.parentId,r=e.consumed;return null!=t&&null!=n&&!r})).groupBy((function(e){return e.subscriptionPlanId})).value(),i=(0,r.e7)([Qt.Z],(function(){return Qt.Z.getPremiumSubscription()})),s=(0,r.e7)([Qt.Z],(function(){return null==Qt.Z.getPremiumTypeSubscription()
})),a=Object.keys(o).some((function(e){return e===S.Xh.PREMIUM_MONTH_TIER_1}))&&s,l=(0,r.e7)([d.default],(function(){return d.default.getCurrentUser()}));return null==l?null:(0,I.jsxs)("div",{children:[(0,I.jsx)("div",{className:B()(t,so().premiumSubscriptionAccountCredit),children:Object.keys(o).map((function(e){return(0,I.jsx)(uo,{planId:e,count:o[e].length,userPremiumSubscription:i,user:l},e)}))}),a&&(0,I.jsxs)("div",{children:[(0,I.jsx)(C.Text,{className:so().tier1AccountCreditHeader,variant:"text-md/normal",children:q.Z.Messages.PREMIUM_TIER_1_ACCOUNT_CREDIT_HEADER}),(0,I.jsx)(oo.R,{})]})]})};var po=n(839799),mo=n.n(po);function ho(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Eo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done);s=!0){
i.push(r.value);if(t&&i.length===t)break}}catch(e){a=!0;o=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ho(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ho(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function So(e){var t=e.subscription,n=e.withOverheadSeparator,r=Eo((0,un.ED)({subscriptionId:t.id,renewal:!0}),1)[0];if(null==r)return null;var o=n?mo().finePrintWithOverheadSeparator:mo().finePrint,i=r.invoiceItems.find((function(e){var t=e.subscriptionPlanId;return(0,f.uZ)(t)}));if(null==i)return null;var s=i.subscriptionPlanId,a=no.Z.get(s);te()(null!=a,"Missing plan")
;var l=(0,An.T4)(r.total,r.currency),c="";a.interval===S.rV.YEAR?c=q.Z.Messages.BILLING_PAYMENT_PREMIUM_TERMS_LEGALESE_YEARLY.format({price:l,termsUrl:se.EYA.TERMS,paidURL:se.EYA.PAID_TERMS,privacyUrl:se.EYA.PRIVACY}):a.interval===S.rV.MONTH&&(c=1===a.intervalCount?q.Z.Messages.BILLING_PAYMENT_PREMIUM_TERMS_LEGALESE_MONTHLY.format({price:l,termsUrl:se.EYA.TERMS,paidURL:se.EYA.PAID_TERMS,privacyUrl:se.EYA.PRIVACY}):q.Z.Messages.BILLING_PAYMENT_PREMIUM_TERMS_LEGALESE_MULTI_MONTH.format({price:l,termsUrl:se.EYA.TERMS,paidURL:se.EYA.PAID_TERMS,privacyUrl:se.EYA.PRIVACY,intervalCount:a.intervalCount}));return(0,I.jsx)(C.Text,{color:"text-muted",className:o,variant:"text-xs/normal",children:c})}function go(e){var t=e.subscription,n=e.withOverheadSeparator;return t.status===se.O0b.CANCELED||t.isPurchasedExternally?null:(0,I.jsx)(So,{subscription:t,withOverheadSeparator:n})}var _o=n(798564),To=n(752151),Oo=n.n(To);function bo(){return(0,I.jsx)(C.Card,{className:Oo().noItemsCard,
type:C.Card.Types.CUSTOM,children:(0,I.jsxs)(Ne.Z,{align:Ne.Z.Align.CENTER,children:[(0,I.jsx)(eo.Z,{game:null,size:eo.Z.Sizes.SMALL,className:Oo().noItemsIcon}),(0,I.jsx)("span",{className:Oo().cardText,children:q.Z.Messages.USER_SETTINGS_NO_SUBSCRIPTION_CREDIT})]})})}function yo(){var e=(0,r.e7)([Nn.Z],(function(){return Nn.Z.getForApplication(S.RQ)}));c.useEffect((function(){(0,Vt.yD)(S.RQ)}),[]);return(0,I.jsxs)("section",{className:Oo().sectionAccountCredit,children:[(0,I.jsx)(C.FormTitle,{className:Oo().accountCreditTitle,tag:C.FormTitleTags.H1,children:q.Z.Messages.BILLING_SUBSCRIPTION_CREDIT}),(0,I.jsx)("p",{className:Oo().accountCreditDescription,children:q.Z.Messages.BILLING_ACCOUNT_CREDIT_DESCRIPTION}),null!=e&&f.ZP.hasAccountCredit(e)?(0,I.jsx)(fo,{className:Oo().accountCredit,entitlements:e}):(0,I.jsx)(bo,{})]})}const Io=function(){var e=(0,r.e7)([Qt.Z],(function(){return Qt.Z.getPremiumTypeSubscription()})),t=(0,r.e7)([pn.Z],(function(){
return null!=e&&null!=e.paymentSourceId?pn.Z.getPaymentSource(e.paymentSourceId):null}),[e]),n=(0,r.e7)([Qt.Z],(function(){return Qt.Z.hasFetchedSubscriptions()})),o=(0,r.e7)([Jr.Z],(function(){return Jr.Z.isBusy})),i=(0,Qn.V)(),s=(0,r.e7)([y.Z],(function(){return y.Z.getSubsection()}));c.useEffect((function(){u.Z.wait((function(){(0,Wt.Y2)();Ht.jg();(0,Yt.X8)();Ht.tZ()}));return function(){P.Z.clearSubsection()}}),[]);return $r.Z.enabled?(0,I.jsx)(zt.Z,{}):n&&i?s===Lr.cP?(0,I.jsx)(Xr,{onGoBack:function(){return P.Z.clearSubsection()}}):s===Lr.XZ?(0,I.jsx)(Kn,{onGoBack:function(){return P.Z.clearSubsection()}}):(0,I.jsx)("div",{className:Oo().container,children:(0,I.jsxs)("div",{className:Oo().content,children:[null!=e?(0,I.jsx)(_o.ZP,{className:Oo().subscriptionDetails,subscription:e,paymentSource:t,busy:o}):(0,I.jsx)(_o.MM,{className:Oo().subscriptionDetails}),(0,I.jsx)(er,{onClickManageSubscription:function(){return P.Z.setSection(se.oAB.SUBSCRIPTIONS,Lr.cP)}}),(0,I.jsx)(rn,{
onClickManageSubscription:function(){P.Z.setSection(se.oAB.SUBSCRIPTIONS,Lr.XZ);to.default.track(se.rMx.PREMIUM_APPLICATION_SUBSCRIPTION_MANAGE_CTA_CLICKED)}}),(0,I.jsx)(yo,{}),null!=e?(0,I.jsx)(go,{subscription:e,withOverheadSeparator:!1}):null]})}):(0,I.jsx)("div",{className:B()(Oo().container,Oo().loading),children:(0,I.jsx)(C.Spinner,{})})};var vo=n(294882);function No(e){var t={};void 0!==e.pendingBanner&&(t.banner=e.pendingBanner);null!=e.pendingBio&&(t.bio=e.pendingBio);null!=e.pendingPronouns&&(t.pronouns=e.pendingPronouns);void 0!==e.pendingAccentColor&&(t.accent_color=e.pendingAccentColor);void 0!==e.pendingThemeColors&&(t.theme_colors=e.pendingThemeColors);return t}var Ao=n(341133);function Co(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jo(e,t,n,r,o,i,s){try{var a=e[i](s),l=a.value}catch(e){n(e);return}a.done?t(l):Promise.resolve(l).then(r,o)}function xo(e){return function(){var t=this,n=arguments
;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){jo(i,r,o,s,a,"next",e)}function a(e){jo(i,r,o,s,a,"throw",e)}s(void 0)}))}}function Po(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done);s=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){a=!0;o=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Co(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Co(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ro=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:s.label++;return{value:i[1],done:!1};case 5:s.label++;r=i[1];i=[0];continue;case 7:i=s.ops.pop();s.trys.pop();continue;default:if(!(o=s.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){
s.label=o[1];o=i;break}if(o&&s.label<o[2]){s.label=o[2];s.ops.push(i);break}o[2]&&s.ops.pop();s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};function Mo(){var e=(0,r.e7)([Be.Z],(function(){return Be.Z.getIsDisableSubmit()})),t=(0,r.e7)([Be.Z],(function(){return Be.Z.getGuild()})),n=(0,r.e7)([Be.Z],(function(){return Be.Z.getErrors()})),o=Po(c.useState(!1),2),i=o[0],s=o[1],a=c.useMemo((function(){return null!=(null==n?void 0:n.message)?null==n?void 0:n.message:Object.keys(null!=n?n:{}).length>0?q.Z.Messages.GUILD_SETTINGS_EDIT_PROFILE_GENERIC_ERROR:null}),[n]),l=c.useCallback(xo((function(){var e,n,r,o,i,a,l,c;return Ro(this,(function(u){switch(u.label){case 0:s(!0);e=Be.Z.getAllPending();n=function(e){var t={};void 0!==e.pendingAvatar&&(t.avatar=e.pendingAvatar);if(void 0!==e.pendingNickname){var n;t.nick=null!==(n=e.pendingNickname)&&void 0!==n?n:""}return t}(e);r=No(e);o=!0
;return Object.keys(n).length>0?[4,(0,Ue.iq)(null==t?void 0:t.id,n)]:[3,2];case 1:i=u.sent();o=o&&null!==(a=null==i?void 0:i.ok)&&void 0!==a&&a;(null==i?void 0:i.ok)&&(0,Ue.IO)();u.label=2;case 2:return Object.keys(r).length>0?[4,(0,Ao.Z)(r,null==t?void 0:t.id)]:[3,4];case 3:l=u.sent();o=o&&null!==(c=null==l?void 0:l.ok)&&void 0!==c&&c;(null==l?void 0:l.ok)&&(0,Ue.pG)();u.label=4;case 4:o&&(0,Ue.b9)();s(!1);return[2]}}))})),[null==t?void 0:t.id]),u=c.useCallback((function(){(0,Ue.W3)()}),[]);return(0,I.jsx)(vo.Z,{submitting:i,onSave:l,onReset:u,disabled:e,errorMessage:null!=a?a:void 0})}var Do=n(450383),Lo=n(973646);function Zo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wo(e,t,n,r,o,i,s){try{var a=e[i](s),l=a.value}catch(e){n(e);return}a.done?t(l):Promise.resolve(l).then(r,o)}function Uo(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){wo(i,r,o,s,a,"next",e)}
function a(e){wo(i,r,o,s,a,"throw",e)}s(void 0)}))}}function Bo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done);s=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){a=!0;o=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Zo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Go=function(e,t){var n,r,o,i,s={label:0,sent:function(){
if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:s.label++;return{value:i[1],done:!1};case 5:s.label++;r=i[1];i=[0];continue;case 7:i=s.ops.pop();s.trys.pop();continue;default:if(!(o=s.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1];o=i;break}if(o&&s.label<o[2]){s.label=o[2];s.ops.push(i);break}o[2]&&s.ops.pop();s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}
}([i,a])}}};function ko(){var e=(0,r.e7)([Do.Z],(function(){return Do.Z.getIsDisableSubmit()})),t=Bo(c.useState(!1),2),n=t[0],o=t[1],i=c.useCallback(Uo((function(){var e,t,n,r,i,s,a,l,c;return Go(this,(function(u){switch(u.label){case 0:o(!0);e=Do.Z.getAllPending();t=function(e){var t={};void 0!==e.pendingGlobalName&&(t.globalName=e.pendingGlobalName);void 0!==e.pendingAvatar&&(t.avatar=e.pendingAvatar);void 0!==e.pendingAvatarDecoration&&(t.avatarDecoration=e.pendingAvatarDecoration);return t}(e);n=No(e);r=!0;return Object.keys(t).length>0?[4,(0,x.Mn)(t)]:[3,2];case 1:s=u.sent();r=r&&null!==(a=null==s?void 0:s.ok)&&void 0!==a&&a;(null==s?void 0:s.ok)?(0,x.si)():null!=(null==s||null===(i=s.body)||void 0===i?void 0:i.username)&&(0,Lo.P)();u.label=2;case 2:return Object.keys(n).length>0?[4,(0,Ao.Z)(n)]:[3,4];case 3:l=u.sent();r=r&&null!==(c=null==l?void 0:l.ok)&&void 0!==c&&c;(null==l?void 0:l.ok)&&(0,Ao.pG)();u.label=4;case 4:r&&(0,x.b9)();o(!1);return[2]}}))
})),[]),s=c.useCallback((function(){(0,x.W3)()}),[]);return(0,I.jsx)(vo.Z,{submitting:n,onSave:i,onReset:s,disabled:e})}function Fo(){return(0,r.e7)([Be.Z],(function(){return Be.Z.showNotice()}))?(0,I.jsx)(Mo,{}):(0,I.jsx)(ko,{})}var Ho=n(19292),Yo=n(793389),Vo=n(479291),Wo=n(611345),zo=n(841379),Ko=n(995141),Qo=n(455706),qo=n(89836),Xo=n(504416),$o=n(775173),Jo=n(310126),ei=n(277441),ti=n.n(ei),ni=n(152605),ri=n.n(ni);function oi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ii(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function si(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n
}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function ai(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done);s=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){a=!0;o=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return oi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oi(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}
var li=Jo.default.getEnableHardwareAcceleration()?C.AnimatedAvatar:C.Avatar,ci=C.AvatarSizes.SIZE_80,ui=function(e){var t=e.user,n=e.sku,o=e.onCollect,i=f.ZP.canUsePremiumProfileCustomization(t),s=(0,r.e7)([Vo.Z],(function(){return Vo.Z.isCollecting})),a=(0,qo.w)({user:t,size:(0,C.getAvatarSize)(ci),showPending:!0,animateOnHover:!0}),l=a.avatarSrc,c=a.isAvatarAnimating,u=a.eventHandlers,d=(0,zo.Z)({user:t,pendingAvatarDecoration:n.items[0],size:(0,Ko.y)(ci),canAnimate:c});return(0,I.jsxs)("article",si(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ii(e,t,n[t])}))}return e}({className:ti().card},u),{children:[(0,I.jsx)("div",{className:ti().banner}),(0,I.jsxs)("div",{className:ti().body,children:[(0,I.jsx)(li,{className:ti().avatar,
src:l,avatarDecoration:d,size:ci,"aria-label":q.Z.Messages.USER_SETTINGS_AVATAR}),(0,I.jsx)("div",{className:ti().headings,children:(0,I.jsx)(C.HeadingLevel,{component:(0,I.jsx)(C.Heading,{variant:"heading-md/bold",children:n.name}),children:(0,I.jsx)(C.Heading,{variant:"text-sm/normal",color:"header-secondary",children:n.items[0].name})})})]}),i?(0,I.jsxs)(C.Button,{className:ti().button,color:C.ButtonColors.BRAND,innerClassName:ti().buttonInner,submitting:s===n.id,submittingStartedLabel:q.Z.Messages.COLLECTIBLES_COLLECTING,submittingFinishedLabel:q.Z.Messages.COLLECTIBLES_COLLECTING_FINISHED,disabled:void 0!==s&&s!==n.id,onClick:o,children:[(0,I.jsx)(ro.Z,{className:ti().buttonIcon}),q.Z.Messages.COLLECTIBLES_SHOP_CARD_CTA_VARIANT_1]}):(0,I.jsx)(Qo.Z,{subscriptionTier:S.Si.TIER_2,buttonText:f.ZP.isPremium(t)?q.Z.Messages.USER_SETTINGS_CUSTOMIZATION_UPGRADE_UPSELL:q.Z.Messages.USER_SETTINGS_CUSTOMIZATION_UPSELL})]}))},di=function(e){var t=e.user,n=e.sku,r=e.onAnimationEnd
;c.useEffect((function(){var e=setTimeout(r,3e3);return function(){return clearTimeout(e)}}),[r]);return(0,I.jsxs)("article",{className:ti().card,children:[(0,I.jsx)("div",{className:ti().banner}),(0,I.jsxs)("div",{className:ti().body,children:[(0,I.jsx)("img",{className:ti().avatarDecoration,src:(0,$o.NZ)({userId:t.id,avatarDecoration:n.items[0].hash,size:(0,C.getAvatarSize)(C.AvatarSizes.SIZE_48)}),alt:n.items[0].name}),(0,I.jsx)("img",{src:ri(),alt:""})]}),(0,I.jsxs)(C.Button,{className:B()(ti().button,ti().animated),color:C.ButtonColors.CUSTOM,innerClassName:ti().buttonInner,disabled:!0,children:[(0,I.jsx)(ro.Z,{className:ti().buttonIcon}),q.Z.Messages.COLLECTIBLES_COLLECTING]})]})},fi=function(e){var t=e.sku,n=e.onUse;return(0,I.jsx)("article",{className:ti().card,children:(0,I.jsxs)("div",{className:B()(ti().body,ti().collected),children:[(0,I.jsx)(Xo.Z,{className:ti().checkmarkHeavy}),(0,I.jsx)("div",{className:ti().headings,children:(0,I.jsx)(C.HeadingLevel,{component:(0,
I.jsx)(C.Heading,{variant:"heading-md/bold",children:t.name}),children:(0,I.jsx)(C.Heading,{variant:"text-sm/normal",color:"header-secondary",children:q.Z.Messages.COLLECTIBLES_COLLECTED_DECORATIONS})})}),(0,I.jsx)(C.Button,{className:ti().button,color:C.ButtonColors.PRIMARY,onClick:n,children:q.Z.Messages.COLLECTIBLES_USE_NOW})]})})};const pi=function(e){var t=e.user,n=e.sku,o=e.onCollect,i=e.onUse,s=(0,r.e7)([Vo.Z],(function(){return Vo.Z.isUserSKU(n.id)})),a=ai(c.useState(s),2),l=a[0],u=a[1];return(0,Wo.EQ)([s,l]).with([!0,!0],(function(){return(0,I.jsx)(fi,{sku:n,onUse:i})})).with([!0,!1],(function(){return(0,I.jsx)(di,{user:t,sku:n,onAnimationEnd:function(){return u(!0)}})})).otherwise((function(){return(0,I.jsx)(ui,{user:t,sku:n,onCollect:o})}))};var mi=n(306888),hi=n.n(mi);function Ei(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}const Si=function(e){var t=e.claimUntil,n=e.publishedAt,r=(0,
it.wY)(t,new Date),o=c.useMemo((function(){if(null==n)return null;var e=(0,it.wY)(t,n);return Math.floor(r/e*10)}),[t,n,r]);return(0,I.jsx)("div",{className:hi().countdown,children:(0,I.jsx)(C.HeadingLevel,{component:(0,I.jsx)(C.Heading,{variant:"heading-lg/bold",children:q.Z.Messages.COLLECTIBLES_SECTION_LATEST_DECORATIONS}),children:(0,I.jsxs)("div",{className:hi().daysRemaining,children:[(0,I.jsx)(C.Heading,{variant:"text-sm/semibold",color:"always-white",children:q.Z.Messages.COLLECTIBLES_DAYS_REMAINING.format({count:r})}),null!=o?(0,I.jsx)("div",{className:hi().timer,children:Array.from({length:10}).map((function(e,t){return(0,I.jsx)("div",{className:B()(hi().timerFill,Ei({},hi().hidden,t+1>o))},t)}))}):null]})})})};var gi=n(439283),_i=n(682223),Ti=n.n(_i),Oi=n(806565),bi=n.n(Oi),yi=function(e){var t=e.onBack;return(0,I.jsxs)(C.Button,{className:Ti().backButton,innerClassName:Ti().backButtonInner,size:C.ButtonSizes.SMALL,look:C.ButtonLooks.LINK,color:C.ButtonColors.WHITE,
onClick:t,children:[(0,I.jsx)(on.Z,{className:Ti().backButtonArrow}),(0,I.jsx)(C.Text,{variant:"text-xs/bold",color:"always-white",children:q.Z.Messages.COLLECTIBLES_BACK_TO_PROFILES})]})};const Ii=function(e){var t=e.claimUntil,n=e.onBack;return(0,I.jsxs)("div",{className:Ti().hero,children:[(0,I.jsx)("img",{className:Ti().background,src:bi(),alt:""}),(0,I.jsx)(yi,{onBack:n}),(0,I.jsx)("div",{className:Ti().headings,children:(0,I.jsxs)(C.HeadingLevel,{component:(0,I.jsxs)(C.Heading,{variant:"heading-lg/bold",color:"always-white",children:[(0,I.jsx)(gi.Z,{className:Ti().logo}),q.Z.Messages.COLLECTIBLES_EXCLUSIVE_SHOP]}),children:[(0,I.jsx)(C.Heading,{variant:"display-md",color:"always-white",children:q.Z.Messages.COLLECTIBLES_SHOP_VARIANT_1_HEADING}),(0,I.jsx)(C.Heading,{variant:"text-md/medium",color:"always-white",children:q.Z.Messages.COLLECTIBLES_SHOP_VARIANT_1_SUBHEADING.format({date:t.toLocaleDateString(void 0,{month:"short",day:"numeric"})})})]})})]})}
;var vi,Ni=n(109721),Ai=n.n(Ni);const Ci=function(e){var t=e.user,n=e.storeListing,r=e.onBack,o=e.onUseSKU;return(0,I.jsxs)("div",{className:Ai().page,children:[(0,I.jsx)(Ii,{claimUntil:n.claimUntil,onBack:r}),(0,I.jsxs)("section",{className:Ai().section,children:[(0,I.jsx)(Si,{claimUntil:n.claimUntil,publishedAt:null!==(vi=n.publishedAt)&&void 0!==vi?vi:new Date((new Date).getTime()-6048e5)}),(0,I.jsx)("div",{className:Ai().grid,children:n.sets.map((function(e){return(0,I.jsx)(pi,{user:t,sku:e,onCollect:function(){return(0,Yo.G3)(e.id)},onUse:function(){return o(e)}},e.id)}))})]})]})};var ji=n(396043),xi=n(248088),Pi=n(229714),Ri=n(981054),Mi=n.n(Ri),Di=n(524268),Li=n.n(Di),Zi=n(950737),wi=n.n(Zi);function Ui(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Bi(e,t,n,r,o,i,s){try{var a=e[i](s),l=a.value}catch(e){n(e);return}a.done?t(l):Promise.resolve(l).then(r,o)}function Gi(e){return function(){var t=this,n=arguments
;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){Bi(i,r,o,s,a,"next",e)}function a(e){Bi(i,r,o,s,a,"throw",e)}s(void 0)}))}}function ki(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Fi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done);s=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){a=!0;o=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ui(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ui(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Hi,Yi,Vi=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:s.label++;return{value:i[1],done:!1};case 5:s.label++;r=i[1];i=[0];continue;case 7:i=s.ops.pop();s.trys.pop();continue;default:if(!(o=s.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}
if(6===i[0]&&s.label<o[1]){s.label=o[1];o=i;break}if(o&&s.label<o[2]){s.label=o[2];s.ops.push(i);break}o[2]&&s.ops.pop();s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};!function(e){e[e.WUMPUS=0]="WUMPUS";e[e.PHIBI=1]="PHIBI"}(Hi||(Hi={}));var Wi=(ki(Yi={},Hi.WUMPUS,Mi().activityCharacterWumpus),ki(Yi,Hi.PHIBI,Mi().activityCharacterPhibi),Yi);const zi=c.memo((function(e){var t=e.activityName,n=e.activityCharacter,r=void 0===n?Hi.WUMPUS:n,o=e.showExampleButton,i=void 0!==o&&o,s=Fi(c.useState(0),2),a=s[0],l=s[1],u=Fi((0,xi.useSpring)((function(){return{from:{rotate:"0deg"},config:{tension:1e3,friction:5}}})),2),d=u[0],f=u[1],p=c.useRef({seconds:a,jitter:Gi((function(){var e;return Vi(this,(function(t){switch(t.label){case 0:0;e=function(e){if(Ye.Z.useReducedMotion)return 0;e-=5399;return Math.min(10,e/300*10)}(p.current.seconds);f({rotate:"-".concat(e,"deg")});return[4,new Promise((function(e){
return setTimeout(e,80)}))];case 1:t.sent();f({rotate:"".concat(e,"deg")});return[4,new Promise((function(e){return setTimeout(e,80)}))];case 2:t.sent();return[3,0];case 3:return[2]}}))}))});c.useEffect((function(){p.current.seconds=a}));c.useEffect((function(){var e=setInterval((function(){l((function(e){5399===e&&p.current.jitter();return++e}))}),1e3);return function(){return clearInterval(e)}}),[]);var m=r===Hi.WUMPUS?wi():Li();return(0,I.jsxs)(Pi.Z,{lastSection:!0,"aria-hidden":!0,children:[(0,I.jsx)(C.Heading,{className:Mi().fakeActivityTitle,variant:"eyebrow",children:q.Z.Messages.USER_SETTINGS_CUSTOMIZE_PROFILE_TITLE}),(0,I.jsxs)("div",{className:Mi().fakeActivityLayout,children:[(0,I.jsx)("div",{className:B()(Mi().fakeActivityIcon,Wi[r]),children:(0,I.jsx)(xi.animated.img,{className:Mi().fakeActivityPencil,src:m,style:d})}),(0,I.jsxs)("div",{className:Mi().fakeActivityContent,children:[(0,I.jsx)(C.Text,{variant:"text-sm/semibold",
children:null!=t?t:q.Z.Messages.USER_SETTINGS_USER_PROFILE}),(0,I.jsx)(C.Text,{variant:"text-sm/normal",children:q.Z.Messages.PROFILE_CUSTOMIZATION_ACTIVITY_TIME.format({renderTimeHook:function(e,t){var n=a%60,r=(a-n)/60;return(0,I.jsxs)("span",{className:Mi().fakeActivityTimeValues,children:[r.toString().padStart(2,"0"),":",n.toString().padStart(2,"0")]},t)}})})]})]}),i&&(0,I.jsx)(C.Button,{className:Mi().button,color:Mi().buttonColor,size:C.Button.Sizes.SMALL,fullWidth:!0,children:q.Z.Messages.USER_SETTINGS_CUSTOMIZE_PROFILE_EXAMPLE_BUTTON})]})}));var Ki=n(547308),Qi=n(74535),qi=n(109206),Xi=n(795470),$i=n(807947),Ji=n(888291),es=n(265022),ts=n(679741),ns=n(295921),rs=n(74188),os=n(485552),is=n(906615),ss=n(239639),as=n(89303),ls=n(945123),cs=n(760028),us=n(184308),ds=n(784686),fs=n(968449),ps=n(21372),ms=n(491260),hs=n(901654),Es=n(258441),Ss=n(749565),gs=n(339822),_s=n(766959),Ts=n(921431),Os=n(960412),bs=n(540798),ys=n.n(bs);function Is(e,t){(null==t||t>e.length)&&(t=e.length)
;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vs(e,t,n,r,o,i,s){try{var a=e[i](s),l=a.value}catch(e){n(e);return}a.done?t(l):Promise.resolve(l).then(r,o)}function Ns(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){vs(i,r,o,s,a,"next",e)}function a(e){vs(i,r,o,s,a,"throw",e)}s(void 0)}))}}function As(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Cs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){As(e,t,n[t])}))}return e}function js(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e)
;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function xs(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done);s=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){a=!0;o=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Is(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Is(e,t)
}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ps=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:s.label++;return{value:i[1],done:!1};case 5:s.label++;r=i[1];i=[0];continue;case 7:i=s.ops.pop();s.trys.pop();continue;default:if(!(o=s.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}
if(6===i[0]&&s.label<o[1]){s.label=o[1];o=i;break}if(o&&s.label<o[2]){s.label=o[2];s.ops.push(i);break}o[2]&&s.ops.pop();s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},Rs=(0,rs.zW)({premiumUserWithBanner:ys().avatarUploaderPremium,premiumUserWithoutBanner:ys().avatarUploaderPremiumNoBanner,default:ys().avatarUploaderNormal});function Ms(e){
var t,o,i,s,a,l,u,d,p=e.user,m=e.guild,h=e.canUsePremiumCustomization,E=e.onUpsellClick,S=e.onAvatarChange,g=e.onBannerChange,_=e.pendingAccentColor,T=e.pendingBanner,O=e.pendingBio,b=e.pendingPronouns,y=e.pendingAvatar,v=e.pendingAvatarDecoration,N=e.pendingNickname,j=e.pendingGlobalName,x=e.pendingThemeColors,P=e.avatarClassName,R=e.activityName,M=e.activityCharacter,D=e.isTryItOutFlow,L=void 0!==D&&D,Z=e.disabledInputs,w=void 0!==Z&&Z,U=e.hideExampleButton,G=void 0!==U&&U,k=e.hideFakeActivity,F=void 0!==k&&k,H=c.useRef(null),Y=xs(c.useState(!1),2),V=Y[0],W=Y[1],z=fs.QK.getSetting(),K=(0,zo.Z)({user:p,pendingAvatarDecoration:v,size:(0,Ko.y)(C.AvatarSizes.SIZE_80),canAnimate:!0}),Q=(0,ts.Z)(p.id,null==m?void 0:m.id),X=(0,r.e7)([Ye.Z],(function(){return Ye.Z.syncProfileThemeWithUserTheme})),$=(0,Qi.ZP)(),J=(0,r.e7)([ps.ZP],(function(){return null==m?null:ps.ZP.getMember(m.id,p.id)})),ee=void 0===y?p.getAvatarURL(void 0,80):y,te=(0,qi.ZP)(ee,(0,
C.useToken)(A.Z.unsafe_rawColors.PRIMARY_530).hsl(),!1),ne=null==Q?void 0:Q.getPreviewThemeColors(x),re=null!==(t=null==ne?void 0:ne[0])&&void 0!==t?t:null==Q?void 0:Q.primaryColor,oe=X?$:(0,es.V3)(re),ie=(0,$i.Z)(null!==(o=null!=_?_:re)&&void 0!==o?o:(0,Ki._i)(te)).hsl,ae=(0,r.e7)([hs.Z],(function(){return hs.Z.isFocused()})),le=(0,ds.rW)(),ce=z?ae:V,ue=null==Q?void 0:Q.getPreviewBanner(T,ce),de=null!=ue,fe=null!==(i=(0,gs.gh)(N,null==J?void 0:J.nick))&&void 0!==i?i:(0,gs.zJ)(j,le?Ss.ZP.getName(p):Ss.ZP.getGlobalName(p)),pe=xs((0,r.Wu)([ms.Z],(function(){return[ms.Z.findActivity(p.id,(function(e){return e.type===se.IIU.CUSTOM_STATUS})),ms.Z.getStatus(p.id)]})),2),me=pe[0],he=pe[1],Ee=(0,r.e7)([$r.Z],(function(){return $r.Z.hidePersonalInformation})),Se=(null==Q?void 0:Q.canUsePremiumProfileCustomization)||h,ge=c.useCallback((function(){var e,t;null===(t=null===(e=H.current)||void 0===e?void 0:e.inputRef.current)||void 0===t||t.activateUploadDialogue()
}),[]),_e=c.useCallback((function(e,t){null==e||null==t?S(null):"image/gif"!==t.type||f.ZP.canUseAnimatedAvatar(p)?(0,C.openModalLazy)(Ns((function(){var r,o;return Ps(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(17363),n.e(38479)]).then(n.bind(n,17363))];case 1:r=i.sent(),o=r.default;return[2,function(n){return(0,I.jsx)(o,Cs({onCrop:S,file:t,imgURI:e,allowSkip:!0},n))}]}}))}))):(0,C.openModalLazy)(Ns((function(){var t,r;return Ps(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(83409)]).then(n.bind(n,383409))];case 1:t=o.sent(),r=t.default;return[2,function(t){return(0,I.jsx)(r,js(Cs({},t),{imgURI:e,onChangeAvatar:function(){t.onClose();ge()}}))}]}}))})))}),[p,ge,S]),Te=function(e,t){if(null==e||null==t)return g(null);(0,C.openModalLazy)(Ns((function(){var r,o;return Ps(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(17363),n.e(38479)]).then(n.bind(n,17363))];case 1:r=i.sent(),o=r.default
;return[2,function(n){return(0,I.jsx)(o,Cs({onCrop:g,uploadType:Ts.pC.BANNER,file:t,imgURI:e,allowSkip:!0},n))}]}}))})))};c.useEffect((function(){if(!z){var e=null==Q?void 0:Q.getBannerURL({canAnimate:!0,size:480});if($o.F8(e)){(new Image).src=null!=e?e:""}}}),[Q,z]);return(0,I.jsx)(os.Z,{forceShowPremium:h,user:p,guildId:null==m?void 0:m.id,profileType:Os.y0.POPOUT,pendingThemeColors:x,className:Se?ys().profileCustomizationPreviewWithTheme:ys().profileCustomizationPreviewWithoutTheme,children:(0,I.jsxs)(C.HeadingLevel,{children:[(0,I.jsx)(ns.Z,{user:p,profileType:Os.y0.POPOUT,hasBanner:de,isPremium:h,hasThemeColors:Se,overrideAvatarDecorationURL:K,children:h?(0,I.jsxs)("div",{onMouseMove:function(){return W(!0)},onMouseLeave:function(){return W(!1)},children:[(0,I.jsx)(Ji.Z,{className:ys().bannerUploader,showRemoveButton:!1,disabled:!h||w,image:ue,makeURL:function(){return ue},onChange:Te,imageStyle:{backgroundColor:ie},
imageClassName:de?ys().bannerUploaderInnerSquare:ys().bannerUploaderInnerSquareEmpty,hint:q.Z.Messages.CHANGE_BANNER,onOpenImageSelectModal:function(){return(0,gs.$r)(Ts.pC.BANNER,null==J?void 0:J.guildId,L)},hideSize:!0,maxFileSizeBytes:_s.B,onFileSizeError:gs.Wf}),!z&&$o.F8(ue)?(0,I.jsx)(Es.Z,{className:ys().gifTag}):null]}):(0,I.jsx)("div",{className:ys().bannerNormal,style:{backgroundColor:ie},children:(0,I.jsx)(C.Clickable,{onClick:function(){return null==E?void 0:E({object:se.qAy.EDIT_PROFILE_BANNER})},className:ys().bannerNitroUpsell,children:(0,I.jsx)(C.Heading,{className:ys().bannerNitroUpsellText,variant:"eyebrow",children:q.Z.Messages.USER_SETTINGS_UNLOCK_BANNER})})})}),(a=(0,gs.SG)(y,J,p),l=null!=J&&!h,u=null!=oe?(0,C.getStatusBackdropColor)(oe):null,d=(0,I.jsxs)("div",{className:Rs({isPremium:h,hasBanner:de}),children:[(0,I.jsx)(Ji.Z,{disabled:w,ref:H,showIcon:null==K,hint:l?q.Z.Messages.UNLOCK_GUILD_MEMBER_AVATAR:q.Z.Messages.CHANGE_AVATAR,showRemoveButton:!1,
imageClassName:B()(P,ys().avatarUploaderInner),image:a,onChange:_e,makeURL:function(){return a},maxFileSizeBytes:_s.B,onFileSizeError:gs.Wf,onOpenImageSelectModal:function(){return(0,gs.$r)(Ts.pC.AVATAR,null==J?void 0:J.guildId,L)}}),null!=K&&(0,I.jsx)("img",{className:ys().avatarDecoration,src:K,alt:" ","aria-hidden":!0}),(0,I.jsxs)("div",{className:ys().status,children:[null!=u&&(null==Q?void 0:Q.canUsePremiumProfileCustomization)&&(0,I.jsx)("div",{className:ys().statusDotBackground,style:{backgroundColor:u,opacity:(0,C.getStatusBackdropOpacity)(he,u)}}),(0,I.jsx)("svg",{className:ys().statusDot,children:(0,I.jsx)("rect",{height:"100%",width:"100%",fill:(0,Xi.Lq)((0,C.getStatusColor)(he)),mask:"url(#".concat((0,C.getStatusMask)(he,!1),")")})})]})]}),l?(0,I.jsx)(C.Clickable,{onClickCapture:function(e){e.stopPropagation();null==E||E({object:se.qAy.AVATAR})},children:d}):d),(0,I.jsx)(ss.Cb,{user:p,guildId:null==m?void 0:m.id,isTryItOutFlow:L}),(s=null==Q?void 0:Q.getPreviewBio(O),(0,
I.jsxs)(os.Z.Inner,{className:ys().body,children:[(0,I.jsx)(us.Z,{isTryItOut:L,user:p,nickname:null!=fe?fe:p.username,pronouns:null!=b?b:null==Q?void 0:Q.pronouns,usernameIcon:function(){if(null!=J&&null!==y&&(null!=J.avatar||null!=y))return(0,I.jsx)(as.Z,{user:p,nickname:fe})}()}),(0,I.jsx)(cs.Z,{customStatusActivity:me}),(0,I.jsx)(is.Z,{}),(0,I.jsx)(ls.Z,{isUsingGuildBio:null==s?void 0:s.isUsingGuildValue,guild:m,bio:null==s?void 0:s.value,hidePersonalInformation:Ee,lastSection:F}),!F&&(0,I.jsx)(zi,{activityName:R,activityCharacter:M,showExampleButton:null==m&&!G})]}))]})})}var Ds,Ls,Zs=n(149258),ws=n(102007),Us=n(483913),Bs=n.n(Us);function Gs(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}!function(e){e.PREMIUM="premium";e.LIMITED="limited";e.BIRTHDAY_2023="birthday_2023"}(Ds||(Ds={}));var ks=(Gs(Ls={},Ds.PREMIUM,{border:Bs().premiumFeatureBorder,background:Bs().premiumBackground}),Gs(Ls,Ds.LIMITED,{
border:Bs().limitedFeatureBorder,background:Bs().limitedBackground}),Gs(Ls,Ds.BIRTHDAY_2023,{border:Bs().birthdayFeatureBorder,background:Bs().birthdayBackground}),Ls);const Fs=c.forwardRef((function(e,t){var n=e.children,r=e.type,o=void 0===r?Ds.PREMIUM:r,i=e.isShown,s=e.hasBackground,a=void 0!==s&&s,l=e.className,c=e.backgroundClassName;if(!i)return(0,I.jsx)(I.Fragment,{children:n});var u=ks[o],d=u.border,f=u.background;return(0,I.jsx)("div",{ref:t,className:B()(d,l),children:(0,I.jsx)("div",{className:B()(a?f:Bs().background,c),children:n})})}));var Hs=n(165667),Ys=n.n(Hs);function Vs(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Ws(e){var t=e.errors;return(0,I.jsx)(I.Fragment,{children:t.map((function(e,t){return(0,I.jsx)(C.Text,{variant:"text-xs/normal",color:"text-danger",className:Ys().errorMessage,children:(n=e,n.replace(/[0-9.,]+ ?kb/g,(function(e){var t=1024*parseInt(e,10);return isNaN(t)?e:(0,Zs.Ng)(t)
})))},t);var n}))})}function zs(e){var t,n=e.title,r=e.titleIcon,o=e.titleId,i=e.description,s=e.children,a=e.className,l=e.errors,c=e.disabled,u=void 0!==c&&c,d=e.hideDivider,f=void 0!==d&&d,p=e.showBorder,m=void 0!==p&&p,h=e.borderType,E=e.hasBackground,S=void 0!==E&&E,g=e.forcedDivider,_=void 0!==g&&g,T=e.showPremiumIcon,O=void 0!==T&&T;return(0,I.jsx)("div",{className:B()(Ys().customizationSection,a,(t={},Vs(t,Ys().disabled,u),Vs(t,Ys().hideDivider,f),Vs(t,Ys().showBorder,m),Vs(t,Ys().withDivider,_),t)),children:(0,I.jsxs)(Fs,{className:Ys().customizationSectionBorder,isShown:m,type:h,hasBackground:S,children:[(0,I.jsxs)(C.FormTitle,{className:Ys().title,id:o,children:[n,O&&(0,I.jsx)(ws.Z,{}),r]}),null!=i?(0,I.jsx)(C.FormText,{type:C.FormText.Types.DESCRIPTION,className:Ys().sectionDescription,children:i}):null,s,null!=l&&(0,I.jsx)(Ws,{errors:l})]})})}var Ks=n(779674),Qs=n.n(Ks);function qs(e){
var t=e.children,n=e.className,r=e.layoutClassName,o=e.profilePreview,i=e.previewTitle,s=function(){return(0,I.jsx)(zs,{title:null!=i?i:q.Z.Messages.PROFILE_CUSTOMIZATION_PREVIEW,className:Qs().preview,children:o})};return(0,I.jsx)("div",{className:n,children:(0,I.jsxs)(C.FormSection,{className:Qs().profileCustomizationSection,children:[tr.tq&&s(),(0,I.jsxs)("div",{className:B()(Qs().baseLayout,r),children:[t,!tr.tq&&s()]})]})})}var Xs=n(90459),$s=n(348592),Js=n(345445),ea=n.n(Js),ta=n(970298),na=n.n(ta);function ra(){return(0,I.jsxs)("div",{className:ea().emptyState,children:[(0,I.jsx)("img",{src:na(),alt:"",className:ea().image}),(0,I.jsx)(C.Heading,{className:ea().topSpacing,variant:"heading-lg/extrabold",children:q.Z.Messages.GUILD_IDENTITY_SETTINGS_EMPTY_STATE_TITLE}),(0,I.jsx)(C.Text,{className:ea().topSpacing,variant:"text-md/normal",children:q.Z.Messages.GUILD_IDENTITY_SETTINGS_EMPTY_STATE_DESCRIPTION}),(0,I.jsx)(C.Button,{className:ea().topSpacing,onClick:function(){(0,
pr.uL)(se.Z5c.GUILD_DISCOVERY);He.xf()},children:q.Z.Messages.GUILD_IDENTITY_SETTINGS_EMPTY_STATE_CTA})]})}var oa=n(614948),ia=n(357920),sa=n(281808),aa=n(855483),la=n(656823),ca=n(382060),ua=n(551173),da=n.n(ua);function fa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done);s=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){a=!0;o=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return fa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fa(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ma=(0,_n.hQ)(),ha=(0,ca.kt)({id:"1",type:se.d4z.DM}),Ea=(0,_n.hQ)();function Sa(e){var t=e.sectionTitle,n=e.errors,r=e.onBioChange,o=e.pendingBio,i=e.placeholder,s=e.currentBio,a=e.disabled,l=void 0!==a&&a,u=pa(c.useState(null!=o?o:s),2),d=u[0],f=u[1],p=pa(c.useState((0,aa.JM)(d)),2),m=p[0],h=p[1],E=c.useRef(!1);c.useEffect((function(){if(void 0===o){var e=(0,aa.JM)(s);f(s);h(e)}}),[o,s]);return(0,I.jsxs)(zs,{title:t,titleId:ma,description:q.Z.Messages.USER_SETTINGS_ABOUT_ME_DETAILS,errors:n,disabled:l,children:[(0,I.jsx)(la.Z,{"aria-describedby":Ea,"aria-labelledby":ma,innerClassName:da().bioTextArea,maxCharacterCount:se.tPV,onChange:function(e,t,n){if(t!==d){f(t);h(n);r(t)}},placeholder:i,channel:ha,textValue:d,
richValue:m,type:sa.I.PROFILE_BIO_INPUT,onBlur:function(){E.current=!1},onFocus:function(){E.current=!0},focused:E.current,onSubmit:function(){return new Promise((function(e){e({shouldClear:!1,shouldRefocus:!0})}))}}),(0,I.jsx)(C.HiddenVisually,{id:Ea,children:q.Z.Messages.MAXIMUM_LENGTH.format({maxLength:se.tPV})})]})}var ga=n(709189),_a=n(221260),Ta=n.n(_a);function Oa(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var ba=[{name:"gif",extensions:["gif"]}];function ya(e){var t=e.showRemoveAvatarButton,n=e.errors,r=e.onAvatarChange,o=e.sectionTitle,i=e.changeAvatarButtonText,s=e.guildId,a=e.className,l=e.disabled,c=void 0!==l&&l,u=e.isTryItOutFlow,d=void 0!==u&&u,f=e.forcedDivider,p=e.withHighlight,m=void 0!==p&&p,h=m?ga.C:C.Button;return(0,I.jsx)(zs,{className:a,title:o,errors:n,disabled:c,forcedDivider:f,children:(0,I.jsxs)("div",{className:Ta().buttonsContainer,children:[(0,I.jsx)(h,{
className:B()(Oa({},Ta().buttonHighlighted,m)),size:C.Button.Sizes.SMALL,onClick:function(){return(0,gs.$r)(Ts.pC.AVATAR,s,d,d?ba:void 0)},children:null!=i?i:q.Z.Messages.USER_SETTINGS_CHANGE_AVATAR}),t&&(0,I.jsx)(C.Button,{className:Ta().removeButton,color:C.Button.Colors.PRIMARY,look:C.Button.Looks.LINK,size:C.Button.Sizes.SMALL,onClick:function(){return r(null)},children:null!=s?q.Z.Messages.USER_SETTINGS_RESET_AVATAR:q.Z.Messages.USER_SETTINGS_REMOVE_AVATAR})]})})}var Ia=n(34598),va=n.n(Ia);function Na(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Aa(e){var t=e.showRemoveBannerButton,n=e.errors,r=e.onBannerChange,o=e.guildId,i=e.className,s=e.disabled,a=void 0!==s&&s,l=e.showPremiumIcon,c=void 0===l||l,u=e.isTryItOutFlow,d=void 0!==u&&u,f=e.forcedDivider,p=e.withHighlight,m=void 0!==p&&p,h=m?ga.C:C.Button;return(0,I.jsx)(zs,{className:i,title:q.Z.Messages.USER_SETTINGS_PROFILE_BANNER,showPremiumIcon:c,errors:n,
disabled:a,forcedDivider:f,children:(0,I.jsxs)("div",{className:va().buttonsContainer,children:[(0,I.jsx)(h,{className:B()(Na({},va().buttonHighlighted,m)),size:C.Button.Sizes.SMALL,onClick:function(){return(0,gs.$r)(Ts.pC.BANNER,o,d)},children:q.Z.Messages.CHANGE_BANNER}),t&&(0,I.jsx)(C.Button,{className:va().removeButton,color:C.Button.Colors.PRIMARY,look:C.Button.Looks.LINK,size:C.Button.Sizes.SMALL,onClick:function(){return r(null)},children:null!=o?q.Z.Messages.USER_SETTINGS_RESET_BANNER:q.Z.Messages.USER_SETTINGS_REMOVE_BANNER})]})})}var Ca=n(618446),ja=n.n(Ca),xa=n(247269),Pa=n(468811),Ra=n.n(Pa),Ma=n(502526),Da=n(577939),La=n(912250),Za=n(799324),wa=n.n(Za);function Ua(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ba(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Ga(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Ba(e,t,n[t])}))}return e}function ka(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Fa(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e)
;for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function Ha(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done);s=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){a=!0;o=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ua(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ua(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}
function Ya(e){var t=e.onChange,n=e.onClose,r=e.color,o=e.suggestedColors,i=e.disabled,s=e.label,a=e.colorPickerMiddle,l=e.colorPickerFooter,u=e.showEyeDropper,d=c.useRef(null),f=(0,C.useToken)(A.Z.colors.BACKGROUND_PRIMARY).hex(),p=A.Z.colors.BACKGROUND_ACCENT.css,m=(0,gs.DP)(r),h=(0,Ki.Rf)(r),E=h===f?p:h,S=(0,Xi.Lq)(m?se.Ilk.WHITE_500:se.Ilk.PRIMARY_530),g=(0,Ma.Z)(a),_=(0,Ma.Z)(l),T=Ha(c.useState(Ra().v4()),2),O=T[0],b=T[1];c.useEffect((function(){g===a&&_===l||b(Ra().v4())}),[l,a,_,g]);return(0,I.jsx)(C.Popout,{positionKey:O,renderPopout:function(e){return(0,I.jsx)(Da.Z$,ka(Ga({},e),{value:r,onChange:t,suggestedColors:o,middle:a,footer:l,showEyeDropper:u}))},onRequestClose:n,children:function(e){var t=e.onClick,n=Fa(e,["onClick"]);return(0,I.jsxs)("div",{ref:d,className:B()(wa().colorSwatch,Ba({},wa().disabled,i)),children:[(0,I.jsx)(C.Clickable,ka(Ga({},n),{tabIndex:i?-1:0,onClick:i?se.dG4:t,style:{backgroundColor:h,borderColor:E},className:wa().swatch,
"aria-label":q.Z.Messages.USER_SETTINGS_PROFILE_COLOR_SELECT_COLOR,focusProps:{ringTarget:d},children:(0,I.jsx)(La.Z,{className:wa().editPencilIcon,width:14,height:14,color:S})})),s]})}})}var Va=n(791431),Wa=n.n(Va);function za(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ka(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done);s=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){a=!0;o=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return za(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return za(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qa(e){var t=e.user,n=e.pendingAvatar,r=e.pendingColors,o=e.onThemeColorsChange,i=e.preventDisabled,s=e.guildId,a=e.className,l=e.showPremiumIcon,c=void 0===l||l,u=e.showResetThemeButton,d=void 0!==u&&u,p=e.forcedDivider,m=(0,ts.Z)(t.id,s),h=Ka((0,xa.Z)(t,m,{pendingThemeColors:r,isPreview:!0}),2),E=h[0],S=h[1],g=f.ZP.canUsePremiumProfileCustomization(t),_=null!=n?n:t.getAvatarURL(s,80),T=(0,C.useToken)(A.Z.unsafe_rawColors.PRIMARY_530).hex(),O=(0,qi.Cf)(_,T,!1);if(null==E||null==S)return null;var b=function(e){var t=ja()(e,null==m?void 0:m.themeColors);o(t?void 0:e)};return(0,I.jsx)(zs,{title:q.Z.Messages.USER_SETTINGS_PROFILE_THEME,disabled:!g&&!i,className:B()(Wa().profileThemesSection,a),showPremiumIcon:c,
forcedDivider:p,children:(0,I.jsxs)("div",{className:Wa().sectionContainer,children:[(0,I.jsx)("div",{className:Wa().sparkleContainer,children:(0,I.jsx)(Ya,{onChange:function(e){return b([e,S])},color:E,suggestedColors:O,showEyeDropper:!0,label:(0,I.jsx)(C.Text,{className:Wa().colorSwatchLabel,color:"header-secondary",variant:"text-xs/normal","aria-hidden":!0,children:q.Z.Messages.USER_SETTINGS_PROFILE_THEME_PRIMARY})})}),(0,I.jsx)("div",{className:Wa().sparkleContainer,children:(0,I.jsx)(Ya,{onChange:function(e){return b([E,e])},color:S,suggestedColors:O,showEyeDropper:!0,label:(0,I.jsx)(C.Text,{className:Wa().colorSwatchLabel,color:"header-secondary",variant:"text-xs/normal","aria-hidden":!0,children:q.Z.Messages.USER_SETTINGS_PROFILE_THEME_ACCENT})})}),d&&null!=s&&(0,I.jsx)(C.Button,{className:Wa().resetButton,color:C.Button.Colors.PRIMARY,look:C.Button.Looks.LINK,size:C.Button.Sizes.SMALL,onClick:function(){return b([null,null])},
children:q.Z.Messages.USER_SETTINGS_RESET_PROFILE_THEME})]})})}var qa=n(411592);function Xa(e){var t=e.sectionTitle,n=e.errors,r=e.onPronounsChange,o=e.pendingPronouns,i=e.placeholder,s=e.currentPronouns,a=e.disabled,l=void 0!==a&&a;return qa.Z.useExperiment({},{autoTrackExposure:!1}).showPronouns?(0,I.jsx)(zs,{title:t,errors:n,disabled:l,children:(0,I.jsx)(C.TextInput,{placeholder:null!=i?i:q.Z.Messages.PROFILE_CUSTOMIZATION_PRONOUNS_PLACEHOLDER,maxLength:40,value:null!=o?o:s,onChange:function(e){r(e===s?void 0:e)},disabled:l})}):null}var $a=n(682776),Ja=n(10577),el=n.n(Ja);function tl(e){var t=e.errors,n=e.pendingNick,o=e.currentNick,i=e.username,s=e.guild,a=null!=n?n:o,l=(0,r.e7)([$a.Z],(function(){return $a.Z.can(se.Plq.CHANGE_NICKNAME,s)||$a.Z.can(se.Plq.MANAGE_NICKNAMES,s)}));return(0,I.jsxs)(zs,{title:q.Z.Messages.SERVER_NICKNAME,errors:t,children:[(0,I.jsx)(C.TextInput,{value:null!=a?a:"",placeholder:i,maxLength:se.l$U,onChange:function(e){t=e,n=o,(0,
Ue.sr)(t===n||""===t&&null===n?void 0:t);var t,n},disabled:!l}),!l&&(0,I.jsx)(C.FormText,{className:el().nicknameDisabled,type:C.FormText.Types.DESCRIPTION,children:q.Z.Messages.CHANGE_IDENTITY_NICKNAME_PERMISSIONS_DISABLED})]})}var nl=n(902322),rl=n.n(nl),ol=n(652951),il=n.n(ol),sl=n(207357),al=n.n(sl);function ll(e){switch(e){case se.BRd.DARK:return il();case se.BRd.LIGHT:return al()}}function cl(e){var t=e.user,n=e.showOverlay,r=e.children,o=(0,Qi.ZP)(),i=(0,D.Z)(_r.Z.PREMIUM_UPSELL_OVERLAY).analyticsLocations;c.useEffect((function(){n&&to.default.track(se.rMx.PREMIUM_UPSELL_VIEWED,{location_stack:i,type:S.cd.PREMIUM_GUILD_MEMBER_PROFILE_UPSELL_INLINE})}),[n,i]);return n?(0,I.jsxs)("div",{className:rl().upsellOverlayContainer,children:[(0,I.jsx)("div",{children:r}),(0,I.jsxs)("div",{className:rl().upsellOverlay,children:[(0,I.jsx)("img",{className:rl().upsellImage,alt:q.Z.Messages.GUILD_IDENTITY_UPSELL_OVERLAY_IMAGE_ALT,src:ll(o)}),(0,I.jsxs)("div",{
className:rl().upsellTextContainer,children:[(0,I.jsx)(C.Text,{variant:"text-lg/semibold",color:"always-white",children:q.Z.Messages.GUILD_IDENTITY_UPSELL_OVERLAY_TITLE}),(0,I.jsx)(C.Text,{variant:"text-sm/normal",color:"always-white",children:q.Z.Messages.GUILD_IDENTITY_UPSELL_OVERLAY_DESCRIPTION_THEMES})]}),(0,I.jsx)(Qo.Z,{size:C.Button.Sizes.LARGE,color:C.Button.Colors.GREEN,buttonText:f.ZP.isPremium(t)?q.Z.Messages.USER_SETTINGS_PROFILE_THEMES_UPSELL_UPGRADE:q.Z.Messages.CHANGE_IDENTITY_UPSELL,subscriptionTier:S.Si.TIER_2})]})]}):(0,I.jsx)(I.Fragment,{children:r})}var ul=n(850297),dl=n.n(ul);function fl(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function pl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable
}))));r.forEach((function(t){fl(e,t,n[t])}))}return e}function ml(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function hl(e){var t=e.guild,n=(0,r.e7)([d.default],(function(){var e=d.default.getCurrentUser();te()(null!=e,"GuildIdentitySettingsPage: user cannot be undefined");return e})),o=(0,r.cj)([Be.Z],(function(){var e=Be.Z.getAllPending(),t=e.pendingAvatar,n=e.pendingNickname,r=e.pendingBio,o=e.pendingPronouns;return{pendingAvatar:t,pendingNickname:n,pendingBanner:e.pendingBanner,pendingBio:r,pendingPronouns:o,pendingThemeColors:e.pendingThemeColors,errors:Be.Z.getErrors(),
guild:Be.Z.getGuild()}})),i=o.pendingAvatar,s=o.pendingNickname,a=o.pendingBanner,l=o.pendingBio,c=o.pendingPronouns,u=o.pendingThemeColors,p=o.errors,m=o.guild,h=null!=t?t:m;te()(null!=h,"guild should not be null");var E,S,g,_,T=(0,oa.gS)(h.id),O=(0,r.e7)([ps.ZP],(function(){return null==h.id?null:ps.ZP.getMember(h.id,n.id)})),b=(0,r.e7)([Xs.Z],(function(){return Xs.Z.getGuildMemberProfile(n.id,h.id)})),y=f.ZP.canUsePremiumProfileCustomization(n),v=(0,ia.gd)(i,null==O?void 0:O.avatar),N=(0,ia.f$)(a,null==b?void 0:b.banner),A=function(e,t){return void 0===e?null!=t:null!=(null==e?void 0:e[0])&&null!=(null==e?void 0:e[1])}(u,null==b?void 0:b.themeColors),j=null!==(E=null==b?void 0:b.bio)&&void 0!==E?E:"",x=null!==(S=null==b?void 0:b.pronouns)&&void 0!==S?S:"",P=function(e,t,n){n(null!=e?e:null!=t?null:void 0)};return(0,I.jsxs)("div",{className:dl().sectionsContainer,children:[(0,I.jsx)(tl,{errors:null!==(g=null==p?void 0:p.nick)&&void 0!==g?g:null==T?void 0:T.nick,
username:Ss.ZP.getName(n),pendingNick:s,currentNick:null==O?void 0:O.nick,guild:h},"nick"),(0,I.jsx)(Xa,{sectionTitle:q.Z.Messages.USER_SETTINGS_PRONOUNS,errors:null==p?void 0:p.pronouns,onPronounsChange:function(e){!function(e,t){(0,Ue.ID)(e===t?void 0:e)}(e,x)},pendingPronouns:c,currentPronouns:x},"pronouns"),(0,I.jsxs)(cl,{user:n,showOverlay:!y,children:[(0,I.jsx)(ya,{sectionTitle:(0,I.jsxs)(I.Fragment,{children:[q.Z.Messages.USER_SETTINGS_AVATAR,(0,I.jsx)(C.Tooltip,{text:q.Z.Messages.PROFILE_CUSTOMIZATION_NITRO_ICON_TOOLTIP,children:function(e){return(0,I.jsx)(ro.Z,ml(pl({},e),{className:dl().nitroWheel}))}})]}),showRemoveAvatarButton:v,onAvatarChange:function(e){return P(e,null==O?void 0:O.avatar,Ue.I5)},errors:null==p?void 0:p.avatar,guildId:h.id,disabled:!y},"avatar"),(0,I.jsx)(Aa,{showRemoveBannerButton:N,errors:null==p?void 0:p.banner,onBannerChange:function(e){return P(e,null==b?void 0:b.banner,Ue.g_)},guildId:null==h?void 0:h.id,disabled:!y},"banner"),(0,I.jsx)(Qa,{user:n,
pendingAvatar:i,pendingColors:u,onThemeColorsChange:function(e){!function(e,t){var n=null==(null==e?void 0:e[0])||null==(null==e?void 0:e[1]);(0,Ue.z5)(n&&null==t?void 0:e)}(e,null==b?void 0:b.themeColors)},guildId:null==h?void 0:h.id,showResetThemeButton:A}),(0,I.jsx)(Sa,{placeholder:q.Z.Messages.CHANGE_IDENTITY_BIO_PLACEHOLDER,sectionTitle:(0,I.jsxs)(I.Fragment,{children:[q.Z.Messages.USER_PROFILE_ABOUT_ME,(0,I.jsx)(C.Tooltip,{text:q.Z.Messages.PROFILE_CUSTOMIZATION_NITRO_ICON_TOOLTIP,children:function(e){return(0,I.jsx)(ro.Z,ml(pl({},e),{className:dl().nitroWheel}))}})]}),onBioChange:function(e){!function(e,t){(0,Ue.Cf)(e===t?void 0:e)}(e,j);(0,Ue._V)(null!=e&&e.length>se.tPV)},errors:null!==(_=null==p?void 0:p.bio)&&void 0!==_?_:null==T?void 0:T.bio,pendingBio:l,currentBio:j,disabled:!y},"about")]})]})}var El=n(455469),Sl=n(107218),gl=n(281728),_l=n.n(gl);function Tl(e){
var t=e.guildId,n=e.className,o=e.globalOptionLabel,i=e.hideDivider,s=void 0!==i&&i,a=e.navigateToUserProfileSettings,l=e.onChange,u=(0,r.e7)([Sl.Z],(function(){return Sl.Z.getFlattenedGuildIds()})),d=(0,r.e7)([vn.Z],(function(){return vn.Z.getGuilds()})),f=(0,r.e7)([Be.Z],(function(){return Be.Z.showNotice()})),p=c.useMemo((function(){var e=u.map((function(e){var t=d[e];te()(null!=t,"guild should not be null");return{label:t.name,value:t.id}}));null!=o&&e.push({label:o,value:""});return e}),[u,d,o]),m=c.useCallback((function(e){return null==e||""===e.value?null:(0,I.jsx)(mn.Z,{className:_l().guildSelectOptionIcon,guild:d[e.value],size:mn.Z.Sizes.SMOL,active:!0})}),[d]),h=function(e){if(""!==e){var t=d[e];null!=t&&l(t)}else l(null)};return(0,I.jsx)(El.$,{substeps:[S.H6.PROFILE_CUSTOMIZATION_GUILD_PROFILES],onBack:function(){return null==a?void 0:a()},children:function(){return(0,I.jsx)(zs,{className:B()(_l().section,n),title:q.Z.Messages.PROFILE_CUSTOMIZATION_GUILD_SELECT_TITLE,
hideDivider:s,forcedDivider:!0,children:(0,I.jsx)(C.SearchableSelect,{isDisabled:f,onChange:h,value:t,options:p,renderOptionPrefix:m,placeholder:q.Z.Messages.PROFILE_CUSTOMIZATION_GUILD_SELECT_PLACEHOLDER})})}})}function Ol(e,t,n,r,o,i,s){try{var a=e[i](s),l=a.value}catch(e){n(e);return}a.done?t(l):Promise.resolve(l).then(r,o)}function bl(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){Ol(i,r,o,s,a,"next",e)}function a(e){Ol(i,r,o,s,a,"throw",e)}s(void 0)}))}}function yl(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Il(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){yl(e,t,n[t])}))}return e}function vl(e,t){
t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var Nl=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:s.label++;return{
value:i[1],done:!1};case 5:s.label++;r=i[1];i=[0];continue;case 7:i=s.ops.pop();s.trys.pop();continue;default:if(!(o=s.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1];o=i;break}if(o&&s.label<o[2]){s.label=o[2];s.ops.push(i);break}o[2]&&s.ops.pop();s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};function Al(){to.default.track(se.rMx.PREMIUM_PROMOTION_OPENED,{location_page:se.ZY5.GUILD_MEMBER_PROFILE_SETTINGS,location_object:se.qAy.BADGE});(0,Ue.jR)();P.Z.open(se.oAB.PREMIUM)}function Cl(e){(0,C.openModalLazy)(bl((function(){var t,r;return Nl(this,(function(o){switch(o.label){case 0:return[4,n.e(47114).then(n.bind(n,247114))];case 1:t=o.sent(),r=t.default;return[2,function(t){return(0,I.jsx)(r,Il({source:vl(Il({},e),{page:se.ZY5.GUILD_MEMBER_PROFILE_SETTINGS})},t))}]}}))})))}
function jl(e){var t=e.selectedGuild,n=e.navigateToUserProfileSettings,o=(0,D.Z)(_r.Z.GUILD_PROFILE).AnalyticsLocationProvider,i=(0,r.e7)([d.default],(function(){var e=d.default.getCurrentUser();te()(null!=e,"GuildIdentitySettingsPage: user cannot be undefined");return e})),s=(0,r.e7)([Xs.Z],(function(){return!Xs.Z.isFetchingProfile(i.id)})),a=(0,r.e7)([$r.Z],(function(){return $r.Z.hidePersonalInformation})),l=(0,r.cj)([Be.Z],(function(){var e=Be.Z.getAllPending(),t=e.pendingAvatar,n=e.pendingNickname,r=e.pendingBio,o=e.pendingPronouns;return{pendingAvatar:t,pendingNickname:n,pendingBanner:e.pendingBanner,pendingBio:r,pendingPronouns:o,pendingThemeColors:e.pendingThemeColors,source:Be.Z.getSource()}})),p=l.pendingAvatar,m=l.pendingNickname,h=l.pendingBanner,E=l.pendingBio,S=l.pendingPronouns,g=l.pendingThemeColors,_=l.source;c.useEffect((function(){return function(){return u.Z.wait(Ue.W3)}}),[]);c.useEffect((function(){null!=_&&ji.ZP.trackWithMetadata(se.rMx.SETTINGS_PANE_VIEWED,{
settings_type:"guild",destination_pane:se.jXE.SETTINGS_CUSTOMIZE_PROFILE,source:_})}),[_]);if(a)return(0,I.jsx)(zt.Z,{});if(!s)return(0,I.jsx)(C.Spinner,{});var T=f.ZP.canUsePremiumProfileCustomization(i),O={user:i,guild:t,canUsePremiumCustomization:T,onAvatarChange:Ue.I5,onBannerChange:Ue.g_,onUpsellClick:Cl,pendingAvatar:p,pendingBanner:h,pendingBio:E,pendingPronouns:S,pendingNickname:m,activityName:q.Z.Messages.CHANGE_IDENTITY_SERVER_PROFILE,activityCharacter:Hi.PHIBI,openPremiumSettings:Al};return(0,I.jsxs)(o,{children:[(0,I.jsx)(C.Text,{variant:"text-sm/normal",children:q.Z.Messages.PROFILE_CUSTOMIZATION_GUILD_HINT.format({helpCenterLink:$s.Z.getArticleURL(se.BhN.GUILD_PROFILES)})}),null!=t?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(Tl,{guildId:t.id,navigateToUserProfileSettings:n,onChange:function(e){null!=e&&(0,Ue.HP)(e)}}),(0,I.jsx)(qs,{previewTitle:q.Z.Messages.CHANGE_IDENTITY_PREVIEW_WITH_GUILD_NAME.format({guildName:null==t?void 0:t.name}),profilePreview:(0,
I.jsx)(Ms,vl(Il({},O),{pendingThemeColors:g})),children:(0,I.jsx)(hl,{})})]}):(0,I.jsx)(ra,{})]})}var xl,Pl=n(964262),Rl=n(736626),Ml=n(351330),Dl=n(30027);function Ll(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var Zl=Object.freeze((Ll(xl={},Lr.KQ.ProfileCustomizationScrollPositions.TRY_IT_OUT,se.oAB.PROFILE_CUSTOMIZATION),Ll(xl,Lr.KQ.AccessibilityScrollPositions.REDUCED_MOTION,se.oAB.ACCESSIBILITY),Ll(xl,Lr.KQ.AccessibilityScrollPositions.SYNC_PROFILE_THEME_WITH_USER_THEME,se.oAB.ACCESSIBILITY),xl));const wl=function(e,t){var n=(0,r.e7)([Ye.Z],(function(){return Ye.Z.useReducedMotion})),o=(0,r.e7)([y.Z],(function(){return y.Z.getScrollPosition()}));(0,c.useEffect)((function(){var r=e.current;if(null!=r&&t===o){var i=requestAnimationFrame((function(){r.scrollIntoView({behavior:n?"auto":"smooth"});P.Z.clearScrollPosition(Zl[t])}));return function(){return cancelAnimationFrame(i)}}}),[e,t,o,n])};var Ul=n(474655),Bl=n.n(Ul)
;function Gl(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function kl(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Fl(e){var t=e.user,o=c.useContext(C.AccessibilityPreferencesContext).reducedMotion,i=f.ZP.isPremium(t),s=(0,r.cj)([Do.Z],(function(){var e=Do.Z.getAllPending(),t=Do.Z.getErrors();return kl(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Gl(e,t,n[t])}))}return e}({},e,Do.Z.getAllTryItOut()),{errors:t})})),a=s.pendingAvatar,l=s.pendingBanner,u=s.pendingThemeColors,d=s.pendingPronouns,p=s.pendingBio,m=s.tryItOutThemeColors,h=s.tryItOutAvatar,E=s.tryItOutBanner,g=c.useRef(null);wl(g,Lr.Y_.TRY_IT_OUT);var _,T=(0,ts.Z)(t.id),O=null==T?void 0:T.getPreviewBio(p),b=(0,D.Z)(_r.Z.USER_SETTINGS_TRY_OUT_PREMIUM),y=b.AnalyticsLocationProvider,v=b.sourceAnalyticsLocations;c.useEffect((function(){to.default.track(se.rMx.PREMIUM_UPSELL_VIEWED,{type:S.cd.PREMIUM_PROFILE_TRY_IT_OUT,location:{page:se.ZY5.USER_SETTINGS},location_stack:v})}),[v,t]);return(0,I.jsx)(y,{children:(0,I.jsx)(Fs,{ref:g,className:Bl().tryItOutSection,type:Ds.PREMIUM,isShown:!0,hasBackground:!0,children:(0,I.jsx)(qs,{layoutClassName:Bl().tryItOutLayout,previewTitle:(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(ro.Z,{className:Bl().premiumIcon
}),q.Z.Messages.USER_SETTINGS_TRY_OUT_PREMIUM_PREVIEW]}),profilePreview:(0,I.jsx)(Ms,{user:t,onAvatarChange:Ao.c_,onBannerChange:Ao.f4,pendingPronouns:d,pendingBio:p,pendingBanner:null!==(_=null!=E?E:l)&&void 0!==_?_:n(276727),pendingAvatar:null!=h?h:a,pendingThemeColors:null!=m?m:u,avatarClassName:null!=h||null!=a||o.enabled?void 0:Bl().spinningAvatar,canUsePremiumCustomization:!0,isTryItOutFlow:!0,hideExampleButton:!0,hideFakeActivity:Boolean(null==O?void 0:O.value)}),children:(0,I.jsxs)("div",{className:Bl().editor,children:[(0,I.jsxs)("div",{children:[(0,I.jsx)(C.Heading,{variant:"heading-xl/extrabold",children:q.Z.Messages.USER_SETTINGS_TRY_OUT_PREMIUM_HEADER}),(0,I.jsx)(C.Text,{className:Bl().description,variant:"text-sm/normal",children:q.Z.Messages.USER_SETTINGS_TRY_OUT_PREMIUM_DESCRIPTION})]}),(0,I.jsx)(Qa,{className:Bl().customizationSection,user:t,pendingAvatar:null!=h?h:a,pendingColors:null!=m?m:u,onThemeColorsChange:Ao.rf,showPremiumIcon:!1,preventDisabled:!0}),(0,
I.jsx)(Aa,{className:Bl().customizationSection,isTryItOutFlow:!0,showRemoveBannerButton:null!=E,onBannerChange:Ao.f4,showPremiumIcon:!1}),(0,I.jsx)(ya,{className:Bl().customizationSection,isTryItOutFlow:!0,onAvatarChange:Ao.c_,showRemoveAvatarButton:!1,changeAvatarButtonText:q.Z.Messages.USER_SETTINGS_ADD_ANIMATED_AVATAR,sectionTitle:q.Z.Messages.PREMIUM_TIER_0_FEATURE_AVATAR}),(0,I.jsx)(C.Text,{variant:"text-sm/normal",className:Bl().premiumPerksListTitle,children:q.Z.Messages.USER_SETTINGS_TRY_OUT_PREMIUM_ALSO_INCLUDES}),(0,I.jsx)(Qo.Z,{onSubscribeModalClose:function(e){if(e){(0,x.I5)(h);(0,Ao.g_)(E);(0,Ao.z5)(m)}},subscriptionTier:S.Si.TIER_2,className:Bl().premiumSubscribeButton,size:C.Button.Sizes.MEDIUM,buttonText:i?q.Z.Messages.USER_SETTINGS_PROFILE_THEMES_UPSELL_UPGRADE:q.Z.Messages.PREMIUM_UPSELL_GET_NITRO})]})})})})}function Hl(e,t,n,r,o,i,s){try{var a=e[i](s),l=a.value}catch(e){n(e);return}a.done?t(l):Promise.resolve(l).then(r,o)}function Yl(e){return function(){
var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){Hl(i,r,o,s,a,"next",e)}function a(e){Hl(i,r,o,s,a,"throw",e)}s(void 0)}))}}function Vl(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Wl(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var zl=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){
return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:s.label++;return{value:i[1],done:!1};case 5:s.label++;r=i[1];i=[0];continue;case 7:i=s.ops.pop();s.trys.pop();continue;default:if(!(o=s.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1];o=i;break}if(o&&s.label<o[2]){s.label=o[2];s.ops.push(i);break}o[2]&&s.ops.pop();s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};function Kl(){(0,C.openModalLazy)(Yl((function(){var e,t;return zl(this,(function(r){switch(r.label){case 0:return[4,n.e(92189).then(n.bind(n,92189))];case 1:e=r.sent(),
t=e.default;return[2,function(e){return(0,I.jsx)(t,Wl(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Vl(e,t,n[t])}))}return e}({},e),{source:{page:se.ZY5.USER_SETTINGS,section:se.jXE.SETTINGS_CUSTOMIZE_PROFILE,object:se.qAy.BUTTON_CTA,type:se.Qqv.BUY}}))}]}}))})))}var Ql=n(305082),ql=n(476389),Xl=n(81359),$l=n(790165),Jl=n(954613),ec=n(699260),tc=n.n(ec);function nc(e,t,n,r,o,i,s){try{var a=e[i](s),l=a.value}catch(e){n(e);return}a.done?t(l):Promise.resolve(l).then(r,o)}function rc(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){nc(i,r,o,s,a,"next",e)}function a(e){nc(i,r,o,s,a,"throw",e)}s(void 0)}))}}function oc(e,t,n){t in e?Object.defineProperty(e,t,{value:n,
enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var ic=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:s.label++;return{value:i[1],done:!1};case 5:s.label++;r=i[1];i=[0];continue;case 7:i=s.ops.pop();s.trys.pop();continue;default:if(!(o=s.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1];o=i;break}if(o&&s.label<o[2]){s.label=o[2];s.ops.push(i);break}o[2]&&s.ops.pop();s.trys.pop()
;continue}i=t.call(e,s)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},sc=function(e){var t=e.canUseCollectibles,r=e.analyticsLocations;(0,C.openModalLazy)(rc((function(){var e,o;return ic(this,(function(i){switch(i.label){case 0:return t?[4,Promise.all([n.e(40532),n.e(60326),n.e(66631)]).then(n.bind(n,66631))]:[3,2];case 1:o=i.sent();return[3,4];case 2:return[4,Promise.all([n.e(40532),n.e(60326),n.e(58442)]).then(n.bind(n,58442))];case 3:o=i.sent();i.label=4;case 4:e=o.default;return[2,function(t){return(0,I.jsx)(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){oc(e,t,n[t])}))}return e}({analyticsLocations:r},t))}]}}))})),{onCloseCallback:ql.q$})};function ac(e){
var t=e.user,n=e.showBorder,o=void 0===n||n,s=e.forcedDivider,a=void 0!==s&&s,l=e.withTutorial,u=void 0!==l&&l,d=f.ZP.canUsePremiumProfileCustomization(t),p=(0,D.Z)().analyticsLocations,m=(0,Jl.W)().canUseCollectibles,h=(0,i.U)().canUseAvatarDecorations,E=(0,$l.L)(),g=function(e){return h?e:void 0},_=(0,r.e7)([Xl.Z],(function(){return Xl.Z.isTryItOut})),T=(0,r.cj)([Do.Z],(function(){return{pendingAvatarDecoration:Do.Z.getPendingAvatarDecoration(),errors:Do.Z.getErrors().avatarDecoration}})),O=T.pendingAvatarDecoration,b=T.errors,y=c.useCallback((function(){return sc({canUseCollectibles:m,analyticsLocations:p})}),[m,p]);c.useEffect((function(){_&&y()}),[_,y]);c.useEffect((function(){E&&!d&&to.default.track(se.rMx.PREMIUM_UPSELL_VIEWED,{type:S.cd.AVATAR_DECORATIONS_INLINE_SETTINGS,location_stack:p})}),[E,d,p]);if(!E)return null;var v=void 0===O?null!=t.avatarDecoration:null!=O,N=u?ga.C:C.Button;return(0,I.jsx)(zs,{showBorder:g(o),forcedDivider:a,borderType:g(Ds.BIRTHDAY_2023),
hasBackground:!0,title:q.Z.Messages.USER_SETTINGS_AVATAR_DECORATION,description:g(d?q.Z.Messages.AVATAR_DECORATIONS_BIRTHDAY_2023_PROFILE_SETTINGS_UPSELL_DESCRIPTION_PREMIUM:q.Z.Messages.AVATAR_DECORATIONS_BIRTHDAY_2023_PROFILE_SETTINGS_UPSELL_DESCRIPTION),showPremiumIcon:!0,titleIcon:g((0,I.jsx)(On.F8,{})),errors:b,children:(0,I.jsxs)("div",{className:tc().buttonsContainer,children:[(0,I.jsx)(N,{size:C.Button.Sizes.SMALL,onClick:y,className:B()(oc({},tc().buttonHighlighted,u)),children:q.Z.Messages.USER_SETTINGS_CHANGE_AVATAR_DECORATION}),v&&(0,I.jsx)(C.Button,{className:tc().removeButton,color:C.Button.Colors.PRIMARY,look:C.Button.Looks.LINK,size:C.Button.Sizes.SMALL,onClick:function(){(0,ia.PO)(null,t.avatarDecoration)},children:q.Z.Messages.USER_SETTINGS_REMOVE_AVATAR_DECORATION})]})})}function lc(e){var t,n;return(0,I.jsx)(zs,{errors:e.errors,disabled:e.disabled,title:q.Z.Messages.DISPLAY_NAME,children:(0,I.jsx)("div",{children:(0,I.jsx)(C.TextInput,{placeholder:e.placeholder,
maxLength:se.JuI,onChange:e.onGlobalNameChange,value:null!==(n=null!==(t=e.pendingGlobalName)&&void 0!==t?t:e.currentGlobalName)&&void 0!==n?n:""})})})}function cc(e){var t=fs.R_.useSetting();return(0,I.jsx)(C.FormSwitch,{hideBorder:!0,value:!t,onChange:function(){return fs.R_.updateSetting(!t)},note:t?null:q.Z.Messages.UNIQUE_USERNAME_TOGGLE_SUBTITLE.format({username:e.legacyUsername}),children:q.Z.Messages.UNIQUE_USERNAME_TOGGLE_TITLE})}function uc(e){var t,n=e.user,r=e.savedUserColor,o=e.pendingColor,i=e.setPendingAccentColor,s=n.getAvatarURL(null,80),a=(0,C.useToken)(A.Z.unsafe_rawColors.PRIMARY_530).hex(),l=(0,qi.Cf)(s,a,!1),c=(0,Ki._i)(l[0]);return(0,I.jsx)(zs,{title:q.Z.Messages.USER_SETTINGS_BANNER_COLOR_TITLE,children:(0,I.jsx)(Ya,{onChange:function(e){return i(e)},color:null!==(t=null!=o?o:r)&&void 0!==t?t:c,suggestedColors:l,showEyeDropper:!0})})}var dc=n(142771),fc=n.n(dc);function pc(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0
}):e[t]=n;return e}function mc(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var hc=function(e){var t=e.user;return(0,I.jsx)(El.$,{substeps:[S.H6.PROFILE_CUSTOMIZATION_AVATAR_DECORATIONS],children:function(e){return(0,I.jsx)(ac,{user:t,showBorder:!1,withTutorial:e,forcedDivider:!0},"decoration")}})};function Ec(e){var t,n,o,s,a,l,c,u,p=(0,r.e7)([d.default],(function(){var e=d.default.getCurrentUser();te()(null!=e,"DefaultCustomizationSections: user cannot be undefined");return e})),m=(0,r.e7)([Xs.Z],(function(){return Xs.Z.getUserProfile(p.id)})),h=(0,r.cj)([Do.Z],(function(){
var e=Do.Z.getAllPending(),t=Do.Z.getErrors();return mc(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){pc(e,t,n[t])}))}return e}({},e),{errors:t})})),E=h.pendingAvatar,g=h.pendingGlobalName,_=h.pendingBanner,T=h.pendingBio,O=h.pendingPronouns,b=h.pendingAccentColor,y=h.pendingThemeColors,v=h.errors,N=(0,oa.gS)(),A=f.ZP.canUsePremiumProfileCustomization(p),C=(0,ia.gd)(E,p.avatar),j=(0,ia.f$)(_,null==m?void 0:m.banner),P=(0,ds.rW)(),R=(0,i.U)().canUseAvatarDecorations,M=(0,Ql.AR)(),D=(0,
ts.Z)(p.id),L=R&&M,Z=null==D?void 0:D.getLegacyUsername(),w=(null!==(o=null===(t=v.global_name)||void 0===t?void 0:t.length)&&void 0!==o?o:0)>0?v.global_name:null!==(s=null==N?void 0:N.nick)&&void 0!==s?s:[],U=(null!==(a=null===(n=v.bio)||void 0===n?void 0:n.length)&&void 0!==a?a:0)>0?v.bio:null!==(l=null==N?void 0:N.bio)&&void 0!==l?l:[];return(0,I.jsxs)("div",{className:fc().sectionsContainer,children:[P&&(0,I.jsx)(lc,{placeholder:p.username,errors:w,currentGlobalName:p.globalName,pendingGlobalName:g,onGlobalNameChange:x.UZ}),(0,I.jsx)(Xa,{sectionTitle:q.Z.Messages.USER_SETTINGS_PRONOUNS,errors:v.pronouns,onPronounsChange:Ao.ID,pendingPronouns:O,currentPronouns:null!==(c=null==m?void 0:m.pronouns)&&void 0!==c?c:""},"pronouns"),(0,I.jsx)(El.$,{substeps:[S.H6.PROFILE_CUSTOMIZATION_AVATAR],children:function(e){return(0,I.jsx)(ya,{onAvatarChange:x.I5,showRemoveAvatarButton:C,errors:v.avatar,sectionTitle:q.Z.Messages.USER_SETTINGS_AVATAR,forcedDivider:!0,withHighlight:e},"avatar")}
}),L?(0,I.jsx)(hc,{user:p}):(0,I.jsx)(ac,{user:p},"decoration"),A&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(El.$,{substeps:[S.H6.PROFILE_CUSTOMIZATION_BANNER],children:function(e){return(0,I.jsx)(Aa,{showRemoveBannerButton:j,errors:v.banner,onBannerChange:Ao.g_,forcedDivider:!0,withHighlight:e},"banner")}}),(0,I.jsx)(El.$,{substeps:[S.H6.PROFILE_CUSTOMIZATION_THEME],onNext:function(){return e.navigateToGuildIdentitySettings()},children:function(){return(0,I.jsx)(Qa,{user:p,pendingAvatar:E,pendingColors:y,onThemeColorsChange:Ao.z5,forcedDivider:!0})}})]}),!A&&(0,I.jsx)(uc,{user:p,savedUserColor:null==m?void 0:m.accentColor,pendingColor:b,setPendingAccentColor:Ao.CM},"color"),(0,I.jsx)(Sa,{sectionTitle:q.Z.Messages.USER_SETTINGS_ABOUT_ME,errors:U,onBioChange:function(e){(0,ia.xQ)(e,null==m?void 0:m.bio);(0,x._V)(null!=e&&e.length>se.tPV)},pendingBio:T,currentBio:null!==(u=null==m?void 0:m.bio)&&void 0!==u?u:""},"bio"),null!=Z&&(0,I.jsx)(cc,{legacyUsername:Z},"legacy_username")]})}
var Sc=n(458947);function gc(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function _c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){gc(e,t,n[t])}))}return e}function Tc(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Oc(e){var t,n,o=(0,r.e7)([d.default],(function(){
var e=d.default.getCurrentUser();te()(null!=e,"UserSettingsProfileCustomization: user cannot be undefined");return e})),s=(0,r.e7)([$r.Z],(function(){return $r.Z.hidePersonalInformation})),a=(0,r.cj)([Do.Z],(function(){var e=Do.Z.getAllPending(),t=Do.Z.getErrors();return Tc(_c({},e),{errors:t})})),l=a.pendingAvatar,p=a.pendingBanner,m=a.pendingBio,h=a.pendingPronouns,E=a.pendingGlobalName,S=a.pendingAccentColor,g=a.pendingAvatarDecoration,_=a.pendingThemeColors,T=fs.dN.useSetting()&&null!=m?Dl.ZP.parse(void 0,m).content:m,O=f.ZP.canUsePremiumProfileCustomization(o);t=(0,i.U)().canUseAvatarDecorations,n=(0,Ml.wE)(N.z$.AVATAR_DECORATIONS_BIRTHDAY_2023_SETTINGS_NEW_BADGE),c.useEffect((function(){t&&!n&&(0,Ml.EW)(N.z$.AVATAR_DECORATIONS_BIRTHDAY_2023_SETTINGS_NEW_BADGE,{dismissAction:Sc.L.AUTO,forceTrack:!0})}),[t,n]);var b=(0,D.Z)(_r.Z.PROFILE).AnalyticsLocationProvider,y={user:o,canUsePremiumCustomization:O,onUpsellClick:Kl,onAvatarChange:x.I5,onBannerChange:Ao.g_,pendingBanner:p,
pendingBio:T,pendingPronouns:h,pendingAvatar:l,pendingGlobalName:E,pendingAvatarDecoration:g};c.useEffect((function(){return function(){return u.Z.wait(x.W3)}}),[]);return s?(0,I.jsx)(zt.Z,{}):(0,I.jsx)(b,{children:(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(qs,{profilePreview:(0,I.jsx)(Ms,Tc(_c({},y),{pendingThemeColors:_,pendingAccentColor:S})),children:(0,I.jsx)(Ec,{navigateToGuildIdentitySettings:e.navigateToGuildIdentitySettings})}),!f.ZP.canUsePremiumProfileCustomization(o)&&(0,I.jsx)(Fl,{user:o})]})})}var bc=n(464187),yc=n(870507),Ic=n(441694),vc=n.n(Ic);function Nc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ac(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done);s=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){a=!0;o=e}finally{try{
s||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Nc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nc(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cc(){var e=function(e){if(p!==e)if(s){Qe.S.dispatch(se.CkL.SHAKE_APP,{duration:300,intensity:Ho.$x});Qe.S.dispatch(se.CkL.EMPHASIZE_NOTICE)}else{e===Lr.NB.GUILD&&null==n&&null!=a&&(0,Ue.Fq)(a,g);m(e)}},t=(0,r.e7)([Sl.Z],(function(){return Sl.Z.getFlattenedGuildIds()})),n=(0,r.e7)([Be.Z],(function(){return Be.Z.getGuild()})),o=(0,r.e7)([bc.Z],(function(){return bc.Z.getGuildId()})),i=(0,r.e7)([vn.Z],(function(){
return vn.Z.getGuild(null!=o?o:t[0])})),s=(0,r.e7)([Be.Z,Do.Z],(function(){return Be.Z.showNotice()||Do.Z.showNotice()})),a=null!=n?n:i,l=(0,r.e7)([d.default],(function(){return d.default.getCurrentUser()})),u=(0,r.e7)([Vo.Z],(function(){return Vo.Z.storeListing})),f=(0,yc.Z)(),p=f.subsection,m=f.setSubsection,h=(0,D.Z)(),E=h.AnalyticsLocationProvider,g=h.analyticsLocations;c.useEffect((function(){null!=l&&(0,Rl.Z)(l.id,l.getAvatarURL(null==a?void 0:a.id,80),{guildId:null==a?void 0:a.id})}),[null==a?void 0:a.id,l]);c.useEffect((function(){return function(){(0,Pl.RI)(S.QD.PROFILE_CUSTOMIZATION)}}),[]);c.useEffect((function(){(0,Yo.SO)()}),[]);return p===Lr.NB.COLLECTIBLES&&null!=l&&null!=u?(0,I.jsx)(E,{children:(0,I.jsx)(Ci,{user:l,storeListing:u,onBack:function(){return m(Lr.NB.USER_PROFILE)},onUseSKU:function(e){var t=Ac(e.items,1)[0];(0,x.cV)(t);m(Lr.NB.USER_PROFILE)}})}):(0,I.jsx)(E,{children:(0,I.jsxs)(C.HeadingLevel,{component:(0,I.jsx)(C.Heading,{variant:"heading-lg/semibold",
children:q.Z.Messages.USER_SETTINGS_PROFILES}),children:[(0,I.jsxs)(C.TabBar,{className:vc().tabBar,type:"top",look:"brand",selectedItem:p,onItemSelect:e,children:[(0,I.jsx)(C.TabBar.Item,{className:vc().tabBarItem,id:Lr.NB.USER_PROFILE,children:q.Z.Messages.EDIT_PROFILE_CATEGORY_USER_PROFILE},Lr.NB.USER_PROFILE),(0,I.jsx)(C.TabBar.Item,{className:vc().tabBarItem,id:Lr.NB.GUILD,children:q.Z.Messages.EDIT_PROFILE_CATEGORY_GUILD_IDENTITY},Lr.NB.GUILD)]}),p===Lr.NB.GUILD?(0,I.jsx)(jl,{selectedGuild:a,navigateToUserProfileSettings:function(){return e(Lr.NB.USER_PROFILE)}}):(0,I.jsx)(Oc,{navigateToGuildIdentitySettings:function(){return e(Lr.NB.GUILD)}})]})})}var jc=n(281110),xc=n(296602),Pc=n(736818),Rc=n(584690),Mc=n(311923),Dc=n(407561);const Lc={startSpeedTest:function(){u.Z.dispatch({type:"RTC_SPEED_TEST_START_TEST"})},stopSpeedTest:function(){u.Z.dispatch({type:"RTC_SPEED_TEST_STOP_TEST"})}}
;var Zc,wc,Uc,Bc,Gc=n(224736),kc=n.n(Gc),Fc=n(717187),Hc=n.n(Fc),Yc=n(608575),Vc=n(575494),Wc=n(539519),zc=n(66359),Kc=n(120415),Qc=n(679742),qc=n(360597);!function(e){e.STARTING_RECEIVER="STARTING_RECEIVER";e.SENDING="SENDING";e.AWAITING_RESULTS="AWAITING_RESULTS";e.COMPLETED="COMPLETED"}(Zc||(Zc={}));!function(e){e.CLIENT_TO_SERVER="CLIENT_TO_SERVER";e.SERVER_TO_CLIENT="SERVER_TO_CLIENT"}(wc||(wc={}));!function(e){e[e.INACTIVE=0]="INACTIVE";e[e.CANCELLED=1]="CANCELLED";e[e.AWAITING_ENDPOINT=2]="AWAITING_ENDPOINT";e[e.CONNECTING=3]="CONNECTING";e[e.PINGING=4]="PINGING";e[e.TESTING=5]="TESTING";e[e.UPLOADING=6]="UPLOADING";e[e.COMPLETED=7]="COMPLETED"}(Uc||(Uc={}));!function(e){e[e.CLIENT_TO_SERVER_START=0]="CLIENT_TO_SERVER_START";e[e.CLIENT_TO_SERVER_END=1]="CLIENT_TO_SERVER_END";e[e.SERVER_TO_CLIENT_START=2]="SERVER_TO_CLIENT_START";e[e.SERVER_TO_CLIENT_END=3]="SERVER_TO_CLIENT_END"}(Bc||(Bc={}));function Xc(e,t){(null==t||t>e.length)&&(t=e.length)
;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $c(e){return function(e){if(Array.isArray(e))return Xc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Xc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xc(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jc(e){return 8*e.clusterSize*1e3/e.clusterIntervalMs}function eu(e){return e.clusterIntervalMs*e.numClusters/1e3}function tu(e){return e.direction===wc.CLIENT_TO_SERVER?"Client -> Server":e.direction===wc.SERVER_TO_CLIENT?"Server -> Client":e.direction}function nu(e){
return 1e3/e.clusterIntervalMs}function ru(e){var t=$c(e);t.sort((function(e,t){return e-t}));var n=t.length;return{count:n,min:t[0],p50:t[Math.floor(n/2)],max:t[n-1]}}function ou(e,t,n){for(var r=Uint8Array.from(Qc.toByteArray(e)),o=new DataView(r.buffer),i=Math.ceil(t.clusterSize/1200),s=t.numClusters*i,a=0,l=0,c=0,u=null,d=null,f=null,p=null,m=null,h=0;h<o.byteLength/16;h++){var E=o.getUint32(4*(4*h+0)),S=o.getUint32(4*(4*h+1)),g=o.getUint32(4*(4*h+2)),_=o.getUint32(4*(4*h+3));a++;l+=S;c+=S+n;null==d&&(d=_);f=_;null==u&&(u=g);null==p&&(p=E);var T=_-(g-u);null==m&&(m=T);T<m&&(m=T)}for(var O=new qc.b,b=null,y=0;y<o.byteLength/16;y++){var I=o.getUint32(4*(4*y+2)),v=(o.getUint32(4*(4*y+3))-(I-u)-m)/1e3;O.addSample(v);null==b&&(b=v);v>b&&(b=v)}var N=null!=d&&null!=f?(f-d)/1e3:0,A=1-a/s,C=8*l/N,j=8*c/N,x=O.getReport([50,95,99]);return{payloadBandwidth:C,networkBandwidth:j,loss:A,iatP50:x.percentiles[50],iatP95:x.percentiles[95],iatP99:x.percentiles[99],iatMax:null!=b?b:0}}
var iu=n(36256),su=n(734155);function au(e){au=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return au(e)}function lu(e,t){return!t||"object"!==du(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function cu(e,t){cu=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return cu(e,t)}var uu,du=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function fu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=au(e);if(t){var o=au(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return lu(this,n)}}
var pu=/^https/.test(null!==(uu=su.env.API_PROTOCOL)&&void 0!==uu?uu:location.protocol)?"wss:":"ws:",mu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&cu(e,t)}(n,e);var t=fu(n);function n(e){var r,o=e.userId,i=e.sessionId,s=e.rtcServerId,a=e.endpoint,l=e.token;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);(r=t.call(this)).reconnect=function(){var e=r._socket;if(null!=e){e.close();e.connect()}};r._rtcConnectionId=Ra().v4();r.logger=new xc.Z("RTCSpeedTestRTCConnection(".concat(s,")"));r.userId=o;r.sessionId=i;r.rtcServerId=s;r.mediaEnginePort=null;r.mediaEngineAddress=null;r._speedTestState=null;r._speedTestDirection=null;r._speedTestParams=null;r.state=se.hes.AWAITING_ENDPOINT;r._socket=null;r.token=l;r._destroyed=!1;r._connection=null
;r._backoff=new Vc.Z(1e3,1e4);a="".concat(pu,"//").concat(a);(0,Kc.Dt)()&&(a=(a=a.replace(".gg",".media")).replace(":80",":443"));var c=Yc.parse(a),u=c.hostname,d=c.port,f=null!=d?parseInt(d):NaN;null==u||80!==f&&443!==f||(a="".concat(pu,"//").concat(u));r._endpoint=a+"/";r.hostname=u;r._networkOverhead=null;return r}var r=n.prototype;r.connect=function(){this._backoff.cancel();var e=this._socket=new zc.Z(this._endpoint);e.on("connecting",this._handleConnecting.bind(this,e));e.on("connect",this._handleConnect.bind(this,e));e.on("disconnect",this._handleDisconnect.bind(this,e));e.on("resuming",this._handleResuming.bind(this,e));e.on("ready",this._handleReady.bind(this,e));e.on("speaking",this._handleSpeaking.bind(this,e));e.on("video",this._handleVideo.bind(this,e));e.on("ping",this._handleControlPing.bind(this));e.on("client-disconnect",this._handleClientDisconnect.bind(this));e.on("codecs",this._handleCodecs.bind(this));e.on("media-session-id",this._handleMediaSessionId.bind(this))
;e.on("media-sink-wants",this._handleMediaSinkWants.bind(this));e.on("voice-backend-version",this._handleCodeVersion.bind(this));e.on("keyframe-interval",this._handleKeyframeInterval.bind(this));e.on("channel-options-update-rtc-log",this._handleUpdateRtcLog.bind(this));e.on("speed-test",this._handleSpeedTest.bind(this));e.setHeartbeatIntervalModifier(2);e.connect()};r.destroy=function(){this._backoff.cancel();this._cleanupSocket();if(null!=this._connection){var e=this._connection;this._connection=null;e.destroy()}this.removeAllListeners();this._destroyed=!0};r._cleanupSocket=function(){var e=this._socket;if(null!=e){e.close();e.removeAllListeners();this._socket=null}};r.setState=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.logger.info("RTC connection state: ".concat(this.state," => ").concat(e));this.state=e;this.emit("state",e,{hostname:this.hostname,channelId:kc()(this.rtcServerId).prev().toString()},t)};r.startClientToServerSpeedTest=function(e){
if(this.state===se.hes.RTC_CONNECTED){this._speedTestParams=e;this._speedTestDirection=wc.CLIENT_TO_SERVER;this._setSpeedTestState(Zc.STARTING_RECEIVER);this._speedTest(Bc.CLIENT_TO_SERVER_START,{})}};r.startServerToClientSpeedTest=function(e){var t=this,n=this._connection;if(this.state===se.hes.RTC_CONNECTED&&null!=n){this._speedTestParams=e;this._speedTestDirection=wc.SERVER_TO_CLIENT;this._setSpeedTestState(Zc.STARTING_RECEIVER);n.startSpeedTestReceiver((function(){var e,n,r;t._setSpeedTestState(Zc.SENDING);t._speedTest(Bc.SERVER_TO_CLIENT_START,{cluster_size:null===(e=t._speedTestParams)||void 0===e?void 0:e.clusterSize,cluster_interval_ms:null===(n=t._speedTestParams)||void 0===n?void 0:n.clusterIntervalMs,num_clusters:null===(r=t._speedTestParams)||void 0===r?void 0:r.numClusters})}),-1)}};r.stopClientToServerSpeedTest=function(){this._speedTest(Bc.CLIENT_TO_SERVER_END,{});null!=this._connection&&this._connection.stopSpeedTestSender()};r.stopServerToClientSpeedTest=function(){
this._speedTest(Bc.SERVER_TO_CLIENT_END,{});null!=this._connection&&this._connection.stopSpeedTestReceiver((function(){}))};r.getNetworkOverhead=function(){return this._networkOverhead};r.setPingInterval=function(e){null!=this._connection&&this._connection.setPingInterval(e)};r._setSpeedTestState=function(e){this._speedTestState=e;this.emit("speed-test-state",e)};r._completeSpeedTests=function(e,t){this._speedTestState=Zc.COMPLETED;this.emit("speed-test-completed",e,t)};r._speedTest=function(e,t){var n=this._socket;null!=n&&n.speedTest(e,t)};r._handleConnecting=function(e){null!=this._endpoint&&this.logger.info("Connecting to RTC server ".concat(this._endpoint,", rtc-connection-id: ").concat(this._rtcConnectionId));this.setState(se.hes.CONNECTING)};r._handleConnect=function(e){var t=this.token;if(null==t)throw new Error("RTCConnection._handleConnect(...): Token is missing.");this.logger.info("Connected to RTC server.");var n=[{rid:"100",type:iu.Tr.TEST,quality:100}];e.identify({
serverId:this.rtcServerId,userId:this.userId,sessionId:this.sessionId,token:t,video:!1,streamParameters:n});this.setState(se.hes.AUTHENTICATING)};r._handleDisconnect=function(e,t,n,r){this.logger.info("Disconnected from RTC server, clean: ".concat(t,", code: ").concat(n,", reason: ").concat(r,", state: ").concat(this.state));var o="Force Close"!==r;if(o){var i=this._backoff.fail(this.reconnect);this.logger.warn("Disconnect was not clean! reason=".concat(r,". Reconnecting in ").concat((i/1e3).toFixed(2)," seconds."))}if(null!=this._connection){var s=this._connection;this._connection=null;s.destroy()}this.setState(se.hes.DISCONNECTED,{willReconnect:o})};r._handleResuming=function(e){this.emit("resuming")};r._handleReady=function(e,t,n,r,o,i,s){this.setState(se.hes.RTC_CONNECTING);this.mediaEnginePort=n;this.mediaEngineAddress=t;var a=oe.Z.getMediaEngine().speedTester({userId:this.userId,channelId:kc()(this.rtcServerId).prev().toString(),guildId:this.rtcServerId},{ssrc:o,address:t,port:n,
modes:r,experiments:[],streamParameters:i,qosEnabled:oe.Z.getQoS()});a.on(Wc.aj.Connected,this._handleMediaEngineConnected.bind(this,e,a));a.on(Wc.aj.Error,this._handleMediaEngineError.bind(this,e,a));a.on(Wc.aj.ConnectionStateChange,this._handleMediaEngineConnectionStateChange.bind(this,e,a));a.on(Wc.aj.Ping,this._handleMediaEnginePing.bind(this,e));a.on(Wc.aj.PingTimeout,this._handleMediaEnginePingTimeout.bind(this,e));this._connection=a};r._handleSpeaking=function(e,t,n,r){};r._handleVideo=function(e,t,n,r,o){};r._handleControlPing=function(e){};r._handleClientDisconnect=function(e){};r._handleCodecs=function(e,t){var n=this._connection;if(null!=n&&null!=this.protocol){n.setCodecs(null!=e&&""!==e?e:iu.ad.OPUS,"TEST");this.emit("ready")}else this.logger.warn("Cannot set codecs on connection with protocol:",this.protocol)};r._handleSpeedTest=function(e,t){var n=this,r=this._connection;if(null!=r&&null!=e){
if(this._speedTestState===Zc.STARTING_RECEIVER&&this._speedTestDirection===wc.CLIENT_TO_SERVER&&e===Bc.CLIENT_TO_SERVER_START){this._setSpeedTestState(Zc.SENDING);r.startSpeedTestSender((function(e,t){n._speedTest(Bc.CLIENT_TO_SERVER_END,{});n._setSpeedTestState(Zc.AWAITING_RESULTS)}),this._speedTestParams.clusterSize,this._speedTestParams.clusterIntervalMs,this._speedTestParams.numClusters)}if(this._speedTestState===Zc.AWAITING_RESULTS&&this._speedTestDirection===wc.CLIENT_TO_SERVER&&e===Bc.CLIENT_TO_SERVER_END){var o,i=t.results,s=ou(i,this._speedTestParams,null!==(o=this._networkOverhead)&&void 0!==o?o:0);this._speedTestDirection=null;this._speedTestParams=null;this._completeSpeedTests(i,s)}if(this._speedTestState===Zc.SENDING&&this._speedTestDirection===wc.SERVER_TO_CLIENT&&e===Bc.SERVER_TO_CLIENT_END){this._setSpeedTestState(Zc.AWAITING_RESULTS);r.stopSpeedTestReceiver((function(e,t){var r,o=ou(t,n._speedTestParams,null!==(r=n._networkOverhead)&&void 0!==r?r:0)
;n._speedTestDirection=null;n._speedTestParams=null;n._completeSpeedTests(t,o)}))}}};r._handleMediaSessionId=function(e){};r._handleMediaSinkWants=function(e){};r._handleCodeVersion=function(e,t){};r._handleKeyframeInterval=function(e){};r._handleUpdateRtcLog=function(e){};r._handleMediaEngineConnected=function(e,t,n,r){var o=this;this.logger.info("RTC connected to media server: ".concat(this.mediaEngineAddress,":").concat(this.mediaEnginePort));if(e===this._socket){this.protocol=n;switch(n){case"udp":this.logger.info("Sending UDP info to RTC server.",r,[]);e.once("encryption",(function(e,n){if(t===o._connection){t.setEncryption(e,n);t.getNetworkOverhead((function(e){return o._networkOverhead=e}))}}));e.selectProtocol(n,this._rtcConnectionId,r,[]);break;case"webrtc":this.logger.info("Sending local SDP to RTC server.");e.once("sdp",this._handleSDP.bind(this));e.selectProtocol(n,this._rtcConnectionId,r);break;default:this.logger.error("Unable to determine protocol.");return}
this._backoff.succeed()}else this.logger.warn("Socket mismatch, disconnecting")};r._handleMediaEngineError=function(e,t,n){e===this._socket&&this.logger.error("Error occurred while connecting to RTC server: ".concat(n))};r._handleMediaEngineConnectionStateChange=function(e,t,n){this.logger.info("RTC media connection state change: ".concat(this.state," => ").concat(n));if(e===this._socket){var r=this.state;switch(n){case iu.$j.DISCONNECTED:this.setState(se.hes.RTC_DISCONNECTED);break;case iu.$j.CONNECTING:this.setState(se.hes.RTC_CONNECTING);break;case iu.$j.CONNECTED:this.setState(se.hes.RTC_CONNECTED);break;case iu.$j.NO_ROUTE:this.setState(se.hes.NO_ROUTE);break;case iu.$j.ICE_CHECKING:this.setState(se.hes.ICE_CHECKING);break;case iu.$j.DTLS_CONNECTING:this.setState(se.hes.DTLS_CONNECTING)}r===se.hes.RTC_CONNECTING&&this.state===se.hes.RTC_DISCONNECTED?this.reconnect():this.state===se.hes.NO_ROUTE&&this._backoff.fail(this.reconnect)}};r._handleMediaEnginePing=function(e,t){
this.emit("ping",t)};r._handleMediaEnginePingTimeout=function(e,t,n){this.emit("ping-timeout",n)};r._handleSDP=function(e){var t=this._connection;null!=t&&null!=this.protocol?t.setSDP(e):this.logger.warn("Cannot set SDP on connection with protocol:",this.protocol)};return n}(Hc());function hu(e,t,n,r,o,i,s){try{var a=e[i](s),l=a.value}catch(e){n(e);return}a.done?t(l):Promise.resolve(l).then(r,o)}function Eu(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){hu(i,r,o,s,a,"next",e)}function a(e){hu(i,r,o,s,a,"throw",e)}s(void 0)}))}}function Su(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gu(e){gu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return gu(e)}function _u(e,t){return!t||"object"!==Ou(t)&&"function"!=typeof t?function(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Tu(e,t){Tu=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Tu(e,t)}var Ou=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function bu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=gu(e);if(t){var o=gu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _u(this,n)}}var yu=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){
return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:s.label++;return{value:i[1],done:!1};case 5:s.label++;r=i[1];i=[0];continue;case 7:i=s.ops.pop();s.trys.pop();continue;default:if(!(o=s.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1];o=i;break}if(o&&s.label<o[2]){s.label=o[2];s.ops.push(i);break}o[2]&&s.ops.pop();s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},Iu=new xc.Z("RTCSpeedTestStore"),vu=[{clusterSize:40,clusterIntervalMs:20,numClusters:1500,direction:wc.CLIENT_TO_SERVER},{clusterSize:40,clusterIntervalMs:20,numClusters:1500,
direction:wc.SERVER_TO_CLIENT},{clusterSize:160,clusterIntervalMs:20,numClusters:1500,direction:wc.CLIENT_TO_SERVER},{clusterSize:160,clusterIntervalMs:20,numClusters:1500,direction:wc.SERVER_TO_CLIENT},{clusterSize:4125,clusterIntervalMs:33,numClusters:455,direction:wc.CLIENT_TO_SERVER},{clusterSize:4125,clusterIntervalMs:33,numClusters:455,direction:wc.SERVER_TO_CLIENT},{clusterSize:17e3,clusterIntervalMs:17,numClusters:295,direction:wc.CLIENT_TO_SERVER},{clusterSize:17e3,clusterIntervalMs:17,numClusters:295,direction:wc.SERVER_TO_CLIENT}],Nu=vu.length,Au={running:!1,region:null,endpoint:null,connection:null,rtcServerId:null,connected:!1,currentTest:null,failed:!1,lifecycle:Uc.INACTIVE,results:[],pings:[],notes:""},Cu=Au;function ju(e,t,n){if(e===se.hes.RTC_CONNECTED)Cu.connected=!0;else if(e===se.hes.DISCONNECTED||e===se.hes.RTC_DISCONNECTED){if(Cu.lifecycle===Uc.TESTING){Cu.failed=!0;Uu();Bu()}Cu.connected=!1}}function xu(){if(Cu.lifecycle===Uc.TESTING){Cu.failed=!0;Uu();Bu()}}
function Pu(){if(Cu.lifecycle===Uc.CONNECTING){var e;Zu(Uc.PINGING);null===(e=Cu.connection)||void 0===e||e.setPingInterval(500);Du()}}function Ru(e,t){if(null!=Cu.currentTest&&!0!==Cu.failed){Cu.currentTest=Cu.currentTest+1;Cu.results.push({payload:e,summary:t});if(Cu.currentTest===Nu){Zu(Uc.UPLOADING);Bu()}else wu()}}function Mu(e){if(void 0!==e&&Cu.pings.length<10){Cu.pings.push(e);Cu.pings.length<10&&Zu(Uc.PINGING);Du()}}function Du(){if(Cu.lifecycle===Uc.PINGING&&10===Cu.pings.length){var e;null===(e=Cu.connection)||void 0===e||e.setPingInterval(5e3);Cu.currentTest=0;wu()}}function Lu(){if(null==Cu.connection)return!1;Cu.connection.destroy();Cu.connection=null}function Zu(e){Cu.lifecycle=e;u.Z.dispatch({type:"RTC_SPEED_TEST_STATE_UPDATE",lifecycle:e})}function wu(){if(null!==Cu.currentTest){if(vu[Cu.currentTest].direction===wc.CLIENT_TO_SERVER){var e;null===(e=Cu.connection)||void 0===e||e.startClientToServerSpeedTest(vu[Cu.currentTest])
}else if(vu[Cu.currentTest].direction===wc.SERVER_TO_CLIENT){var t;null===(t=Cu.connection)||void 0===t||t.startServerToClientSpeedTest(vu[Cu.currentTest])}Zu(Uc.TESTING)}}function Uu(){if(Cu.lifecycle===Uc.TESTING&&null!=Cu.currentTest){if(vu[Cu.currentTest].direction===wc.CLIENT_TO_SERVER){var e;null===(e=Cu.connection)||void 0===e||e.stopClientToServerSpeedTest()}else{var t;null===(t=Cu.connection)||void 0===t||t.stopServerToClientSpeedTest()}}}function Bu(){return Gu.apply(this,arguments)}function Gu(){Gu=Eu((function(){var e,t,n,r,o,i,s,a,l;return yu(this,(function(c){switch(c.label){case 0:t=(new Date).toISOString();r={date:t,endpoint:Cu.endpoint,networkOverhead:null===(e=Cu.connection)||void 0===e?void 0:e.getNetworkOverhead(),networkType:Rc.Z.getType(),networkEffectiveConnectionSpeed:Rc.Z.getEffectiveConnectionSpeed(),networkServiceProvider:null!==(n=Rc.Z.getServiceProvider())&&void 0!==n?n:"unknown",notes:Cu.notes};o={info:r,ping:ru(Cu.pings),tests:[]};i={info:r,
pings:Cu.pings,tests:[]};for(s=0;s<vu.length;s++){l={params:null,results:null};(a={params:null,results:null}).params=vu[s];l.params=vu[s];if(s<Cu.results.length){a.results=Cu.results[s].summary;l.results=Cu.results[s].payload}o.tests.push(a);i.tests.push(l)}return[4,Promise.all([jc.Z.post({url:se.ANM.DEBUG_LOG(se.GU0.SPEED_TEST,"speed_test_summary_".concat(t,".json")),body:JSON.stringify(o,void 0,2),retries:3,headers:{"Content-Type":"text/plain"}}),jc.Z.post({url:se.ANM.DEBUG_LOG(se.GU0.SPEED_TEST,"speed_test_results_".concat(t,".json")),body:JSON.stringify(i,void 0,2),retries:3,headers:{"Content-Type":"text/plain"}})])];case 1:c.sent();Zu(Uc.COMPLETED);Lu();Lc.stopSpeedTest();Cu.running=!1;Cu.notes="";return[2]}}))}));return Gu.apply(this,arguments)}var ku=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}})
;t&&Tu(e,t)}(n,e);var t=bu(n);function n(){Su(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(Pc.default,oe.Z,Mc.Z,Dc.Z)};r.getAvailable=function(){return!Dc.Z.isCurrentClientInVoiceChannel()};r.getActive=function(){return Cu.running};r.getEndpoint=function(){return Cu.endpoint};r.getConnected=function(){var e;return null!==(e=Cu.connected)&&void 0!==e&&e};r.getLifecycle=function(){return Cu.lifecycle};r.getFailed=function(){return Cu.failed};r.getCurrentTest=function(){return Cu.currentTest};r.getTestCases=function(){return vu};r.getTestResults=function(){return Cu.results};r.getPings=function(){return Cu.pings};r.getNotes=function(){return Cu.notes};r.setNotes=function(e){Cu.notes=e};r.isSupported=function(){return oe.Z.supports(iu.AN.SPEED_TEST)};r.__getLocalVars=function(){return{logger:Iu,SpeedTestCases:vu,NUM_TEST_CASES:Nu,MAX_PINGS:10,initialState:Au,state:Cu}};return n}(r.ZP.Store);ku.displayName="RTCSpeedTestStore"
;const Fu=new ku(u.Z,{RTC_SPEED_TEST_START_TEST:function(e){if(!Cu.running){Zu(Uc.AWAITING_ENDPOINT);Cu.running=!0;Cu.currentTest=null;Cu.results=[];Cu.failed=!1;Cu.pings=[];Cu.connected=!1;Lu()}},RTC_SPEED_TEST_STOP_TEST:function(e){Cu.running=!1;Lu();Cu.lifecycle!==Uc.COMPLETED&&Zu(Uc.CANCELLED)},SPEED_TEST_CREATE:function(e){Cu.running?Cu.rtcServerId=e.rtcServerId:Lc.stopSpeedTest()},SPEED_TEST_DELETE:function(e){Lu();Cu.running=!1;Cu.lifecycle!==Uc.COMPLETED&&Zu(Uc.INACTIVE)},SPEED_TEST_SERVER_UPDATE:function(e){Lu();var t;Cu.endpoint=null!==(t=e.endpoint)&&void 0!==t?t:null;Cu.connection=new mu({userId:Pc.default.getId(),sessionId:Pc.default.getSessionId(),rtcServerId:Cu.rtcServerId,endpoint:e.endpoint,token:e.token});Cu.connection.on("state",ju);Cu.connection.on("resuming",xu);Cu.connection.on("ready",Pu);Cu.connection.on("speed-test-completed",Ru);Cu.connection.on("ping",Mu);Cu.connection.on("ping-timeout",Mu);Cu.connection.connect();Zu(Uc.CONNECTING)}})
;var Hu=n(440031),Yu=n(304275),Vu=n(633531),Wu=n(265367),zu=n(260561);const Ku=(0,zu.B)({kind:"user",id:"2022-06_auth_sessions_user_settings",label:"Auth Sessions User Settings",defaultConfig:{showSettings:!1},treatments:[{id:1,label:"Show settings",config:{showSettings:!0}}]}),Qu=(0,zu.B)({kind:"user",id:"2023-05_speed_test",label:"Speed Test User Setting",defaultConfig:{showSettings:!1},treatments:[{id:1,label:"Show speed test",config:{showSettings:!0}}]});var qu=n(131795),Xu=n.n(qu),$u=n(92246),Ju=n.n($u);function ed(){var e,t,n,r=window.GLOBAL_ENV.RELEASE_CHANNEL,o=null===(e="78f82ba4bb7325d4bc3856b37eae79ac1deb0ee1")?void 0:e.substring(0,7),i=null===me.Z||void 0===me.Z?void 0:me.Z.remoteApp.getVersion(),s=null===(t=null===me.Z||void 0===me.Z?void 0:me.Z.remoteApp.getBuildNumber)||void 0===t?void 0:t(),a=null===Xu()||void 0===Xu()||null===(n=Xu().os)||void 0===n?void 0:n.toString(),l=null!=me.Z?"(".concat(me.Z.os.release,")"):null;return(0,I.jsxs)("div",{className:Ju().info,
children:[(0,I.jsxs)(C.Text,{tag:"span",className:Ju().line,variant:"text-xs/normal",color:"text-muted",children:[r," ","204762"," ",(0,I.jsxs)("span",{className:Ju().versionHash,children:["(",o,")"]})]})," ",null!=i?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(C.Text,{tag:"span",className:Ju().line,variant:"text-xs/normal",color:"text-muted",children:["Host ",i," ",null!=s?(0,I.jsxs)("span",{children:["(",s,")"]}):null]})," "]}):null,null!=a?(0,I.jsxs)(C.Text,{tag:"span",className:Ju().line,variant:"text-xs/normal",color:"text-muted",children:[a," ",l]}):null]})}var td=n(422513),nd=n(621329),rd=n(189865),od=n(145187),id=n.n(od);function sd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ad(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done);s=!0){
i.push(r.value);if(t&&i.length===t)break}}catch(e){a=!0;o=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return sd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sd(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ld(e){var t=e.hotspotLocation,n=ad((0,r.Wu)([td.qc],(function(){return[td.qc.hasHotspot(t,!0),td.qc.getHotspotOverride(t)]})),2),o=n[0],i=n[1];return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(C.FormItem,{title:t,className:id().hotspotSwitch,children:[o?(0,I.jsx)(C.TooltipContainer,{className:id().iconContainer,element:"span",text:"Active",children:(0,I.jsx)(nd.Z,{
className:id().checkmark})}):(0,I.jsx)(C.TooltipContainer,{className:id().iconContainer,element:"span",text:"Inactive",children:(0,I.jsx)(rd.Z,{className:id().xmark})}),(0,I.jsx)(C.SingleSelect,{className:id().overrideSelect,value:i,options:[{value:void 0,label:"No Override"},{value:!0,label:"Force Active"},{value:!1,label:"Force Inactive"}],onChange:function(e){return null!=e?(0,td.hv)(t,e):(0,td.Po)(t)}})]}),(0,I.jsx)(C.FormDivider,{})]})}function cd(e){var t=e.className;return(0,I.jsxs)(C.FormSection,{title:"Hotspots",tag:C.FormTitleTags.H1,className:t,children:[(0,I.jsx)(C.Text,{className:id().helpText,tag:"p",variant:"text-sm/normal",children:'All the "hotspots" in app, and their current status. Use the select menu to override them on or off.'}),Object.keys(td.v6).sort((function(e,t){return e.localeCompare(t)})).map((function(e){return(0,I.jsx)(ld,{hotspotLocation:e},e)}))]})}var ud=n(817673),dd=n(691287),fd=n(798999),pd=n(594302),md=n(276611),hd=n(933599),Ed=n(388007)
;function Sd(e,t,n,r,o,i,s){try{var a=e[i](s),l=a.value}catch(e){n(e);return}a.done?t(l):Promise.resolve(l).then(r,o)}function gd(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){Sd(i,r,o,s,a,"next",e)}function a(e){Sd(i,r,o,s,a,"throw",e)}s(void 0)}))}}function _d(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Td(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Od(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{}
;var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}var bd=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:s.label++;return{value:i[1],done:!1};case 5:s.label++;r=i[1];i=[0];continue;case 7:i=s.ops.pop();s.trys.pop();continue;default:if(!(o=s.trys,
o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1];o=i;break}if(o&&s.label<o[2]){s.label=o[2];s.ops.push(i);break}o[2]&&s.ops.pop();s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};function yd(e){var t=e.skuId,r=e.onClose,o=e.onComplete,i=e.analyticsLocations,s=!1;(0,C.openModalLazy)(gd((function(){var e,a,l;return bd(this,(function(c){switch(c.label){case 0:return[4,Promise.all([n.e(40532),n.e(30689),n.e(38039),n.e(44485),n.e(27059),n.e(1162),n.e(51934),n.e(31947),n.e(48643)]).then(n.bind(n,148643))];case 1:e=c.sent(),a=e.default;l=Ra().v4();return[2,function(e){var n=e.onClose,c=Od(e,["onClose"]);return(0,I.jsx)(a,Td(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){_d(e,t,n[t])}))}return e}({},c),{loadId:l,skuId:t,analyticsLocations:i,onClose:function(e){n();null==r||r(e)},onComplete:function(){s=!0;null==o||o()}}))}]}}))})),{onCloseCallback:function(){(0,hd.fw)();(0,Ed.p)();null==r||r(s)}})}var Id=n(436145),vd=n(432065),Nd=n(799990),Ad=n.n(Nd);function Cd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jd(e,t,n,r,o,i,s){try{var a=e[i](s),l=a.value}catch(e){n(e);return}a.done?t(l):Promise.resolve(l).then(r,o)}function xd(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){jd(i,r,o,s,a,"next",e)}function a(e){jd(i,r,o,s,a,"throw",e)}s(void 0)}))}}function Pd(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,
writable:!0}):e[t]=n;return e}function Rd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Pd(e,t,n[t])}))}return e}function Md(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Dd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){
var r,o,i=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done);s=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){a=!0;o=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Cd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cd(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ld=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){
if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:s.label++;return{value:i[1],done:!1};case 5:s.label++;r=i[1];i=[0];continue;case 7:i=s.ops.pop();s.trys.pop();continue;default:if(!(o=s.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1];o=i;break}if(o&&s.label<o[2]){s.label=o[2];s.ops.push(i);break}o[2]&&s.ops.pop();s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};const Zd=function(){var e=Dd(c.useState(S.Si.TIER_2),2),t=e[0],o=e[1],i=Dd(c.useState(null),2),s=i[0],a=i[1],l=Dd((0,r.Wu)([vn.Z],(function(){return[vn.Z.getGuilds()]})),1)[0],u=Dd((0,r.Wu)([Qt.Z],(function(){
return[Qt.Z.getPremiumSubscription()]})),1)[0],d=Object.values(l).map((function(e){return{value:e,label:e.name}})),f=Dd(c.useState(d.length>0?d[0].value:null),2),p=f[0],m=f[1],h=Dd(c.useState(""),2),E=h[0],g=h[1],_=Dd(c.useState({plan_id:S.Xh.PREMIUM_MONTH_TIER_2,gift:"true"}),2),T=_[0],O=_[1],b="true"!==T.gift&&null!=u,y=Dd(c.useState(d.length>0?d[0].value:null),2),v=y[0],A=y[1],j=(0,D.Z)(_r.Z.PAYMENT_FLOW_TEST_PAGE),x=j.AnalyticsLocationProvider,P=j.analyticsLocations;(0,rr.tT)(null==v?void 0:v.id);var R=(0,rr.GG)(null==v?void 0:v.id),M=c.useMemo((function(){return null==v?[]:R.filter((function(e){return null!=e.subscription_listings&&e.subscription_listings.map((function(e){return e.published})).includes(!0)}))}),[R,v]),L=Dd(c.useState(""),2),Z=L[0],w=L[1],U=Dd(c.useState(""),2),B=U[0],G=U[1],k=Dd(c.useState(""),2),F=k[0],H=k[1],Y=(0,r.e7)([vd.Z],(function(){return vd.Z.hasAnyUnexpiredOffer()}));return(0,I.jsx)(x,{children:(0,I.jsxs)(C.FormSection,{title:"Payment Flow Modals",
tag:C.FormTitleTags.H1,children:[(0,I.jsx)(C.FormTitle,{children:"Gift"}),(0,I.jsxs)(C.FormItem,{className:Ad().formItem,children:[(0,I.jsx)(C.SingleSelect,{value:t,options:[{value:S.Si.TIER_2,label:"Nitro"},{value:S.Si.TIER_1,label:"Nitro Classic"},{value:S.Si.TIER_0,label:"Nitro Basic"},{value:null,label:"None"}],onChange:function(e){return o(e)}}),(0,I.jsx)(Qo.Z,{subscriptionTier:t,isGift:!0,premiumModalAnalyticsLocation:{}})]}),(0,I.jsx)(C.FormDivider,{className:Ad().formDivider}),(0,I.jsx)(C.FormTitle,{children:"Premium Select Plan"}),(0,I.jsxs)(C.FormItem,{className:Ad().formItem,children:[(0,I.jsx)(C.SingleSelect,{value:s,options:[{value:S.Si.TIER_2,label:"Nitro"},{value:S.Si.TIER_1,label:"Nitro Classic"},{value:S.Si.TIER_0,label:"Nitro Basic"},{value:null,label:"None"}],onChange:function(e){return a(e)}}),(0,I.jsx)(C.Button,{onClick:function(){return(0,md.Z)({subscriptionTier:s,analyticsLocations:P})},children:"Select Plan"})]}),(0,I.jsx)(C.FormDivider,{
className:Ad().formDivider}),(0,I.jsx)(C.FormTitle,{children:"Boost"}),(0,I.jsxs)(C.FormItem,{className:Ad().formItem,children:[(0,I.jsx)(C.SingleSelect,{value:p,options:d,onChange:function(e){return m(e)}}),null!=p?(0,I.jsx)(pd.Z,{guild:p,analyticsLocation:{}}):(0,I.jsx)("div",{children:"No Guild to boost"})]}),(0,I.jsx)(C.FormDivider,{className:Ad().formDivider}),(0,I.jsxs)(C.FormTitle,{children:[(0,I.jsx)("div",{children:"Standalone: Trial Promotion Redemption"}),(0,I.jsx)(C.Anchor,{href:"https://i.dis.gd/createPromo",children:"How to create promotion"})]}),(0,I.jsxs)(C.FormItem,{className:Ad().formItem,children:[(0,I.jsx)(C.TextInput,{placeholder:"Promotion Code",value:E,onChange:function(e){return g(e)}}),(0,I.jsx)(C.Tooltip,{text:"Need Promotion Code",shouldShow:E.length<1,children:function(e){var t=e.onMouseEnter,n=e.onMouseLeave;return(0,I.jsx)(C.Button,{disabled:E.length<1,onMouseEnter:t,onMouseLeave:n,onClick:function(){window.open(se.Z5c.BILLING_PROMOTION_REDEMPTION(E))},
children:"Open Link"})}})]}),(0,I.jsx)(C.FormDivider,{className:Ad().formDivider}),(0,I.jsx)(C.FormTitle,{children:"Standalone: Gift/Subscription Purchase"}),(0,I.jsxs)(C.FormItem,{className:Ad().formItem,children:[(0,I.jsx)(C.SingleSelect,{value:T.plan_id,options:[{value:S.Xh.PREMIUM_MONTH_TIER_2,label:"Nitro"},{value:S.Xh.PREMIUM_MONTH_TIER_1,label:"Nitro Classic"},{value:S.Xh.PREMIUM_MONTH_TIER_0,label:"Nitro Basic"}],onChange:function(e){return O((function(t){return Md(Rd({},t),{plan_id:e})}))}}),(0,I.jsx)(C.SingleSelect,{value:T.gift,options:[{value:"true",label:"Gift"},{value:"false",label:"Not Gift"}],onChange:function(e){return O((function(t){return Md(Rd({},t),{gift:e})}))}}),(0,I.jsx)(C.Tooltip,{text:"Already subscribed",shouldShow:b,children:function(e){var t=e.onMouseEnter,n=e.onMouseLeave;return(0,I.jsx)(C.Button,{onMouseLeave:n,onMouseEnter:t,disabled:b,onClick:function(){window.open(se.Z5c.BILLING_PREMIUM_SUBSCRIBE+"?"+ud.stringify(Rd({},T)))},children:"Open Link"})}})]
}),(0,I.jsx)(C.FormDivider,{className:Ad().formDivider}),(0,I.jsx)(C.FormTitle,{children:"Creator Revenue"}),(0,I.jsxs)(C.FormItem,{className:Ad().formItem,children:[(0,I.jsx)(C.Text,{className:Ad().guildServerDescription,variant:"text-sm/normal",children:"Premium Server Subscription For"}),(0,I.jsx)(C.SingleSelect,{value:v,options:d,onChange:function(e){return A(e)}})]}),null!=v?(0,I.jsx)("div",{className:Ad().formItem,children:M.map((function(e){return e.subscription_listings_ids.map((function(t){return(0,I.jsx)(Or.Z,{guildId:v.id,groupListingId:e.id,listingId:t},t)}))}))}):null,(0,I.jsx)(C.FormDivider,{className:Ad().formDivider}),(0,I.jsx)(C.FormTitle,{children:"Activities & Application Payment Modals"}),(0,I.jsxs)(C.FormItem,{className:Ad().formItem,children:[(0,I.jsx)(C.TextInput,{placeholder:"Application Id",value:Z,onChange:w}),(0,I.jsx)(C.TextInput,{placeholder:"Sku Id",value:B,onChange:G}),(0,I.jsx)(C.Button,{onClick:function(){return(0,dd.S)({applicationId:Z,skuId:B,
openPremiumPaymentModal:function(){return!0},analyticsLocations:[],analyticsLocation:{page:se.ZY5.IN_APP},context:se.IlC.APP})},children:"Open App Subs Modal for Activity"})]}),(0,I.jsx)(C.FormDivider,{className:Ad().formDivider}),(0,I.jsx)(C.FormTitle,{children:"Standard Payment Modal Test"}),(0,I.jsxs)(C.FormItem,{className:Ad().formItem,children:[(0,I.jsx)(C.TextInput,{placeholder:"SKU ID",value:F,onChange:H}),(0,I.jsx)(C.Button,{onClick:function(){return yd({skuId:F,analyticsLocations:P})},children:"Open Standard Payment Modal for SKU"})]}),(0,I.jsx)(C.FormDivider,{className:Ad().formDivider}),(0,I.jsx)(C.FormTitle,{children:"Helpers"}),(0,I.jsxs)(C.FormItem,{className:Ad().formItem,children:[(0,I.jsx)(C.Button,{onClick:function(){return(0,Wt.mE)()},children:"Reset SubscriptionPlanStore"}),(0,I.jsx)(C.Button,{onClick:function(){return(0,Ht.GM)()},children:"Reset SubscriptionStore"})]}),(0,I.jsx)(C.FormDivider,{className:Ad().formDivider}),(0,I.jsx)(C.FormTitle,{
children:"Premium Tutorial"}),(0,I.jsxs)(C.FormItem,{className:Ad().formItem,children:[(0,I.jsx)(C.Button,{onClick:function(){return(0,Id.Rr)()},children:"Reset PremiumTutorialStore"}),(0,I.jsx)(C.Button,{onClick:function(){(0,Ie.w9)(S.QD.CUSTOM_EMOJI);(0,Ie.w9)(S.QD.BOOSTING);(0,Ie.w9)(S.QD.PROFILE_CUSTOMIZATION);(0,Ie.w9)(N.z$.PREMIUM_TUTORIAL_FILE_UPLOAD_COMPOSER_TOOLTIP);(0,Ie.w9)(N.z$.PREMIUM_TUTORIAL_STICKER_PICKER_COMPOSER_TOOLTIP);(0,Ie.w9)(N.z$.PREMIUM_TUTORIAL_EMOJI_PICKER_COMPOSER_TOOLTIP);(0,Ie.w9)(N.z$.PREMIUM_TUTORIAL_SERVER_MENU_TOOLTIP)},children:"Reset all tutorials"}),(0,I.jsx)(C.Button,{onClick:function(){(0,He.xf)();(0,pr.uL)(se.Z5c.APPLICATION_STORE);(0,Id.HY)(!0);(0,Id.Dd)(!0);Qe.S.dispatch(se.CkL.PREMIUM_SUBSCRIPTION_CREATED)},children:"Toggle Wow Moment"})]}),(0,I.jsx)(C.FormDivider,{className:Ad().formDivider}),(0,I.jsx)(C.FormTitle,{children:"Dismissible Content Framework"}),(0,I.jsx)(C.FormItem,{className:Ad().formItem,children:(0,I.jsx)(C.Button,{
onClick:function(){return(0,fd.E)()},children:"Reset DismissibleContentFrameworkStore"})}),(0,I.jsx)(C.FormDivider,{className:Ad().formDivider}),(0,I.jsx)(C.FormTitle,{children:"Announcement Modal"}),(0,I.jsx)(C.FormItem,{className:Ad().formItem,children:(0,I.jsx)(C.Button,{onClick:function(){(0,He.xf)();(0,C.openModalLazy)(xd((function(){var e,t;return Ld(this,(function(r){switch(r.label){case 0:return[4,Promise.all([n.e(40532),n.e(78951)]).then(n.bind(n,178951))];case 1:e=r.sent(),t=e.default;return[2,function(e){return(0,I.jsx)(t,{hasTrialOffer:Y,renderModalProps:e})}]}}))})))},children:"April Drop"})})]})})};var wd=n(112184),Ud=n(319463),Bd=n(750349),Gd=n(633878);function kd(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Fd(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){
var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Hd(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function Yd(e){var t=e.width,n=void 0===t?24:t,r=e.height,o=void 0===r?24:r,i=e.color,s=void 0===i?"currentColor":i,a=e.className,l=e.foreground,c=Hd(e,["width","height","color","className","foreground"]);return(0,I.jsx)("svg",Fd(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){kd(e,t,n[t])}))}return e}({width:n,height:o,viewBox:"0 0 24 24",className:a},(0,Gd.Z)(c)),{children:(0,I.jsx)("path",{className:l,fill:s,d:"M17.836 6.009A4.794 4.794 0 0 1 15.658 2h-3.439l-.005 13.78a2.892 2.892 0 0 1-2.885 2.782 2.893 2.893 0 0 1-2.89-2.89 2.894 2.894 0 0 1 2.89-2.89c.298 0 .583.048.853.133v-3.51a6.308 6.308 0 0 0-.853-.062A6.336 6.336 0 0 0 3 15.672a6.324 6.324 0 0 0 2.702 5.181A6.29 6.29 0 0 0 9.329 22a6.336 6.336 0 0 0 6.329-6.329V8.683c1.348.968 3 1.539 4.784 1.539V6.783c-.96 0-1.855-.285-2.605-.775v.001Z"})}))}var Vd=n(313197);function Wd(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function zd(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Kd(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function Qd(e){
var t=e.width,n=void 0===t?24:t,r=e.height,o=void 0===r?24:r,i=e.color,s=void 0===i?"currentColor":i,a=e.className,l=e.foreground,c=Kd(e,["width","height","color","className","foreground"]);return(0,I.jsx)("svg",zd(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Wd(e,t,n[t])}))}return e}({width:n,height:o,viewBox:"0 0 24 24",className:a},(0,Gd.Z)(c)),{children:(0,I.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",
d:"M21.3766 4.10479C22.4093 4.38257 23.2225 5.20102 23.4985 6.24038C24 8.12411 24 12.0545 24 12.0545C24 12.0545 24 15.9848 23.4985 17.8688C23.2225 18.908 22.4093 19.7265 21.3766 20.0044C19.505 20.5091 12 20.5091 12 20.5091C12 20.5091 4.49496 20.5091 2.62336 20.0044C1.59082 19.7265 0.777545 18.908 0.501545 17.8688C0 15.9848 0 12.0545 0 12.0545C0 12.0545 0 8.12411 0.501545 6.24038C0.777545 5.20102 1.59082 4.38257 2.62336 4.10479C4.49496 3.59998 12 3.59998 12 3.59998C12 3.59998 19.505 3.59998 21.3766 4.10479ZM15.8182 12.0546L9.54551 15.623V8.48596L15.8182 12.0546Z",fill:s,className:l})}))}var qd=n(474816),Xd=n.n(qd),$d={offset:{top:-8}};function Jd(){return(0,I.jsxs)("div",{className:Xd().socialLinks,children:[(0,I.jsx)(C.Anchor,{target:"_blank",tabIndex:-1,rel:"author",title:"Twitter",href:(0,wd.Z)(se.RK.TWITTER),className:Xd().link,focusProps:$d,children:(0,I.jsx)(Vd.Z,{foreground:Xd().foreground,"aria-hidden":!0})}),(0,I.jsx)(C.Anchor,{target:"_blank",rel:"author",title:"Instagram",
tabIndex:-1,href:se.fK7.INSTAGRAM_URL,className:Xd().link,focusProps:$d,children:(0,I.jsx)(Bd.Z,{foreground:Xd().foreground,"aria-hidden":!0})}),(0,I.jsx)(C.Anchor,{target:"_blank",rel:"author",title:"Facebook",tabIndex:-1,href:se.fK7.FACEBOOK_URL,className:Xd().link,focusProps:$d,children:(0,I.jsx)(Ud.Z,{foreground:Xd().foreground,"aria-hidden":!0})}),(0,I.jsx)(C.Anchor,{target:"_blank",rel:"author",title:"YouTube",tabIndex:-1,href:se.fK7.YOUTUBE_URL,className:Xd().link,focusProps:$d,children:(0,I.jsx)(Qd,{width:16,height:16,foreground:Xd().foreground,"aria-hidden":!0})}),(0,I.jsx)(C.Anchor,{target:"_blank",rel:"author",title:"TikTok",tabIndex:-1,href:se.fK7.TIKTOK_URL,className:Xd().link,focusProps:$d,children:(0,I.jsx)(Yd,{width:16,height:16,foreground:Xd().foreground,"aria-hidden":!0})})]})}function ef(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tf(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nf(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function rf(e){rf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return rf(e)}function of(e,t){return!t||"object"!==lf(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function sf(e,t){sf=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return sf(e,t)}function af(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done);s=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){a=!0;o=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}
return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ef(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ef(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var lf=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function cf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=rf(e);if(t){var o=rf(this).constructor;n=Reflect.construct(r,arguments,o)
}else n=r.apply(this,arguments);return of(this,n)}}var uf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&sf(e,t)}(n,e);var t=cf(n);function n(){tf(this,n);var e;(e=t.apply(this,arguments)).state={notes:e.props.notes};return e}var r=n.prototype;r.renderTestCase=function(e,t,n,r,o){var i=null==t?void 0:t.summary;return(0,I.jsxs)(C.FormText,{className:Pe().marginBottom20,children:[!0===r?"":!0===o?"":!0===n?"":"","speed test, bitrate = ",(Jc(e)/1e3).toFixed(0)," kbps, framerate ="," ",nu(e).toFixed(0)," fps, duration = ",eu(e).toFixed(1),"s, direction ="," ",tu(e),void 0!==i&&(0,I.jsxs)("div",{children:[(0,I.jsxs)("div",{className:B()(Pe().marginTop8,Pe().marginBottom8),
children:["Loss ",100*i.loss.toFixed(2),"%, Payload Bandwidth ",i.payloadBandwidth.toFixed(0)," kbps, Network Bandwidth ",i.networkBandwidth.toFixed(0)," kbps"]}),(0,I.jsxs)("div",{className:B()(Pe().marginTop8,Pe().marginBottom8),children:["IAT p50=",i.iatP50.toFixed(2),"ms, p95=",i.iatP95.toFixed(2),"ms, max=",i.iatMax.toFixed(2),"ms"]})]}),!1===r&&!0===n&&!1===o&&(0,I.jsx)("div",{children:(0,I.jsx)("div",{className:B()(Pe().marginTop8,Pe().marginBottom8),children:"Test in progress. Results will appear when test completes."})}),!1===r&&!0===o&&(0,I.jsx)("div",{children:(0,I.jsx)("div",{className:B()(Pe().marginTop8,Pe().marginBottom8),children:"Test skipped."})})]})};r.renderTestCases=function(e,t,n,r,o){if(!1!==e){var i=[],s=!0,a=!1,l=void 0;try{for(var c,u=n.entries()[Symbol.iterator]();!(s=(c=u.next()).done);s=!0){var d=af(c.value,2),f=d[0],p=d[1],m=f===o,h=null!=o&&f<o;i.push(this.renderTestCase(p,r[f],m,h,t))}}catch(e){a=!0;l=e}finally{try{s||null==u.return||u.return()}finally{
if(a)throw l}}return i}};r.renderPing=function(e,t,n){if(!1!==e){var r=n.length>0?ru(n):null;return(0,I.jsxs)(C.FormText,{className:Pe().marginBottom20,children:[t>Uc.PINGING?"":t===Uc.PINGING?"":"","Ping endpoint",null!==r&&(0,I.jsxs)("div",{className:B()(Pe().marginTop8,Pe().marginBottom8),children:["Pinged ",r.count," time(s), min=",r.min,"ms, p50=",r.p50,"ms, max=",r.max,"ms"]})]})}};r.renderConnect=function(e,t,n){if(!1!==e)return(0,I.jsxs)(C.FormText,{className:Pe().marginBottom20,children:[t>Uc.CONNECTING?"":t===Uc.CONNECTING?"":"","Connect to ",null!=n?n:"endpoint"]})};r.renderNotes=function(){var e=this;return(0,I.jsx)(C.TextArea,{className:Pe().marginBottom20,value:this.state.notes,onChange:function(t){Fu.setNotes(t);e.setState({notes:t})},placeholder:"Anything we should know about this test? Enter any relevant information about location, connection strength, or recent call quality here."})};r.renderAwaitingEndpoint=function(e,t){if(!1!==e)return(0,
I.jsxs)(C.FormText,{className:Pe().marginBottom20,children:[t>Uc.AWAITING_ENDPOINT?"":t===Uc.AWAITING_ENDPOINT?"":"","Select endpoint"]})};r.renderUpload=function(e,t){if(!1!==e)return(0,I.jsxs)(C.FormText,{className:Pe().marginBottom20,children:[t>Uc.UPLOADING?"":t===Uc.UPLOADING?"":"","Upload results"]})};r.renderComplete=function(e,t){if(!1!==e&&t===Uc.COMPLETED)return(0,I.jsx)(C.FormText,{className:Pe().marginBottom20,children:"Your Speed Test is completed and the results have been uploaded. You may safely close this page."})};r.render=function(){var e=this.props.available,t=this.props.active,n=this.props.failed,r=this.props.endpoint,o=this.props.lifecycle,i=this.props.testCases,s=this.props.currentTest,a=this.props.testResults,l=this.props.pings,c=t?"Stop Speed Test":"Start Speed Test",u=t?Lc.stopSpeedTest:Lc.startSpeedTest,d=o>=Uc.AWAITING_ENDPOINT;return!1===e?(0,I.jsx)(C.FormSection,{tag:C.FormTitleTags.H1,title:"Speed Test",children:(0,I.jsx)(C.FormText,{
className:Pe().marginBottom20,children:"Sorry! The Speed Test is not currently available. Disconnect from any existing calls and try again."})}):(0,I.jsxs)(C.FormSection,{tag:C.FormTitleTags.H1,title:"Speed Test",children:[this.renderNotes(),(0,I.jsx)(C.FormItem,{className:Pe().marginBottom20,children:(0,I.jsx)("div",{children:(0,I.jsx)(C.Button,{onClick:function(){return u()},children:c})})}),this.renderAwaitingEndpoint(d,o),this.renderConnect(d,o,r),this.renderPing(d,o,l),this.renderTestCases(d,n,i,a,s),this.renderUpload(d,o),this.renderComplete(d,o)]})};return n}(c.Component);function df(){var e=(0,r.cj)([Fu],(function(){return{available:Fu.getAvailable(),active:Fu.getActive(),failed:Fu.getFailed(),endpoint:Fu.getEndpoint(),lifecycle:Fu.getLifecycle(),testCases:Fu.getTestCases(),testResults:Fu.getTestResults(),currentTest:Fu.getCurrentTest(),pings:Fu.getPings(),notes:Fu.getNotes()}})),t=af(c.useState(0),2),n=t[0],o=t[1],i=c.useCallback((function(e){e=null!==e?e:function(e){throw e
}(new TypeError("Cannot destructure undefined"));o(n+1)}),[n]);c.useEffect((function(){u.Z.subscribe("RTC_SPEED_TEST_STATE_UPDATE",i);return function(){u.Z.unsubscribe("RTC_SPEED_TEST_STATE_UPDATE",i)}}),[i]);return(0,I.jsx)(uf,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){nf(e,t,n[t])}))}return e}({},e))}var ff=n(710432);function pf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done);s=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){a=!0;o=e
}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return pf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pf(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hf(){var e=mf(c.useState(""),2),t=e[0],n=e[1];return(0,I.jsxs)(C.FormSection,{title:"Text components",tag:C.FormTitleTags.H1,children:[(0,I.jsx)(C.TextInput,{placeholder:"Enter custom text...",onChange:function(e){return n(e)}}),(0,I.jsx)(C.FormDivider,{style:{margin:"10px 0"}}),ff.O.map((function(e){return"code"===e?null:(0,I.jsx)(C.Text,{variant:e,children:""!==t?"".concat(t," (").concat(e,")"):e},e)}))]})}var Ef=(0,
zu.B)({kind:"user",id:"2023-03_text_playground_settings_pane",label:"Text Playground",defaultConfig:{showSetting:!1},treatments:[{id:1,label:"Enable settings pane",config:{showSetting:!0}}]});function Sf(){return Ef.getCurrentConfig({},{autoTrackExposure:!0}).showSetting}var gf=n(145800),_f=n(770272),Tf=n(618920),Of=n(649536),bf=n(358624),yf=n(550131),If=n(219369),vf=n(247530);function Nf(e){switch(e){case vf.mX.REDUCED_MOTION:return q.Z.Messages.ACCESSIBILITY_REDUCED_MOTION_SETTINGS_OVERRIDE.format();case vf.mX.REDUCED_MOTION_STICKERS:return q.Z.Messages.STICKERS_AUTO_PLAY_HELP_DISABLED;default:return}}var Af=n(307648),Cf=n(813216),jf=n(222641),xf=n(701190),Pf=n(63011),Rf=n(719833),Mf=n(938058),Df=n(356775),Lf=n.n(Df),Zf=n(603008),wf=n.n(Zf);function Uf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Bf(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Gf(e){
for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Bf(e,t,n[t])}))}return e}function kf(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Ff(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],s=!0,a=!1;try{
for(n=n.call(e);!(s=(r=n.next()).done);s=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){a=!0;o=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Uf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Uf(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Hf=(0,_n.hQ)(),Yf=(0,_n.hQ)(),Vf=(0,_n.hQ)(),Wf=Fe().debounce((function(e){(0,_f.o2)(e)}),250),zf=Fe().debounce((function(e){(0,Af.Ct)(e)}),250);function Kf(e){return(0,I.jsxs)(C.FormSection,{tag:C.FormTitleTags.H1,title:q.Z.Messages.ACCESSIBILITY,children:[(0,I.jsx)(Qf,{}),(0,I.jsx)(qf,{}),(0,I.jsx)(C.FormDivider,{}),(0,
I.jsx)(Xf,{}),(0,I.jsx)($f,{}),(0,I.jsx)(Jf,{}),(0,Tf.b)()?(0,I.jsx)(ep,{}):null,(0,I.jsx)(tp,{}),(0,I.jsx)(np,{}),(0,I.jsx)(rp,{}),(0,I.jsx)(op,{}),(0,I.jsx)(C.FormDivider,{className:Pe().marginBottom20}),(0,I.jsx)(C.Text,{variant:"text-md/normal",children:q.Z.Messages.ACCESSIBILITY_SETTINGS_APPEARANCE_LINK.format({onAppearanceClick:function(){P.Z.open(se.oAB.APPEARANCE)}})})]})}function Qf(){var e=fs.jU.useSetting(),t=Ff(c.useState((function(){var e=(0,Of.e5)(kf(Gf({},(0,bf.ZP)({channelId:"1337",content:q.Z.Messages.ACCESSIBILITY_SETTINGS_SATURATION_LINK_PREVIEW_MESSAGE.format({previewLink:"https://discord.com/accessibility"})})),{state:se.yb.SENT,id:"".concat(0)}));e.colorString="green";return e})),1)[0];return(0,I.jsx)(C.FocusBlock,{children:(0,I.jsxs)(C.Card,{className:Lf().preview,"aria-hidden":!0,children:[(0,I.jsxs)("div",{className:Lf().previewHeader,children:[(0,I.jsx)(C.Button,{size:C.Button.Sizes.SMALL,color:C.Button.Colors.BRAND,
children:q.Z.Messages.ACCESSIBILITY_EXAMPLE_BUTTON_LABEL}),(0,I.jsx)("div",{className:Lf().previewAvatars,children:[se.Skl.ONLINE,se.Skl.DND,se.Skl.IDLE].map((function(e){return(0,I.jsx)(C.AnimatedAvatar,{"aria-label":q.Z.Messages.USER_SETTINGS_AVATAR,src:wf(),size:C.AvatarSizes.SIZE_32,status:e},e)}))})]}),(0,I.jsx)("div",{className:Lf().previewMessage,children:(0,I.jsx)(If.Z,{compact:e,author:kf(Gf({},(0,yf.ZH)(t)),{colorString:"#DD80F4"}),message:t})})]})})}function qf(){var e=(0,r.cj)([Ye.Z],(function(){return{saturation:Ye.Z.saturation,desaturateUserColors:Ye.Z.desaturateUserColors}})),t=e.saturation,n=e.desaturateUserColors;return(0,I.jsxs)(C.FormSection,{className:Pe().marginTop20,children:[(0,I.jsx)(C.FormTitle,{id:Hf,className:Pe().marginBottom8,children:q.Z.Messages.ACCESSIBILITY_SETTINGS_SATURATION_TITLE}),(0,I.jsx)(C.FormText,{id:Yf,type:C.FormText.Types.DESCRIPTION,className:Pe().marginBottom20,children:q.Z.Messages.ACCESSIBILITY_SETTINGS_SATURATION_DESCRIPTION}),(0,
I.jsx)(C.Slider,{"aria-labelledby":Hf,"aria-describedby":Yf,markers:se.yqN.SATURATION_INCREMENTS,equidistant:!0,stickToMarkers:!0,maxValue:1,minValue:0,initialValue:t,onValueChange:Wf,onMarkerRender:function(e){return 100*e%2==0?"".concat(100*e,"%"):void 0}}),(0,I.jsx)(C.FormSwitch,{hideBorder:!0,className:B()(Pe().marginTop8,Pe().marginBottom20),value:n,onChange:_f.f1,note:q.Z.Messages.ACCESSIBILITY_SETTINGS_SATURATION_CUSTOM_COLORS_DESCRIPTION,children:q.Z.Messages.ACCESSIBILITY_SETTINGS_SATURATION_CUSTOM_COLORS_LABEL})]})}function Xf(){var e=(0,r.e7)([Ye.Z],(function(){return Ye.Z.alwaysShowLinkDecorations}));return(0,I.jsx)(C.FormItem,{className:Pe().marginTop20,children:(0,I.jsx)(C.FormSwitch,{note:q.Z.Messages.ACCESSIBILITY_SETTINGS_ALWAYS_SHOW_LINK_DECORATIONS_NOTE,value:e,onChange:function(){(0,_f.gs)(!e)},children:q.Z.Messages.ACCESSIBILITY_SETTINGS_ALWAYS_SHOW_LINK_DECORATIONS_LABEL})})}function $f(){var e=(0,r.e7)([Ye.Z],(function(){return Ye.Z.roleStyle}));return(0,
I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(C.FormItem,{title:q.Z.Messages.ACCESSIBILITY_SETTINGS_ROLE_STYLE_TITLE,className:Pe().marginTop20,children:[(0,I.jsx)(C.FormText,{type:C.FormText.Types.DESCRIPTION,className:Pe().marginBottom8,children:q.Z.Messages.ACCESSIBILITY_SETTINGS_ROLE_STYLE_DESCRIPTION}),(0,I.jsx)(C.RadioGroup,{options:[{name:q.Z.Messages.ACCESSIBILITY_SETTINGS_ROLE_STYLE_USERNAME_LABEL,value:"username"},{name:q.Z.Messages.ACCESSIBILITY_SETTINGS_ROLE_STYLE_DOT_LABEL,value:"dot"},{name:q.Z.Messages.ACCESSIBILITY_SETTINGS_ROLE_STYLE_HIDDEN_LABEL,value:"hidden"}],onChange:function(e){(0,_f.u1)(e.value)},value:e})]}),(0,I.jsx)(C.FormDivider,{className:Pe().marginTop20})]})}function Jf(){var e=(0,r.e7)([Ye.Z],(function(){return Ye.Z.syncProfileThemeWithUserTheme})),t=c.useRef(null);wl(t,Lr.rP.SYNC_PROFILE_THEME_WITH_USER_THEME);return(0,I.jsx)(C.FormItem,{ref:t,title:q.Z.Messages.ACCESSIBILITY_SETTINGS_PROFILE_COLORS_TITLE,
className:B()(Pe().marginTop20,Lf().syncProfileThemeWithUserTheme),children:(0,I.jsx)(C.FormSwitch,{note:q.Z.Messages.ACCESSIBILITY_SETTINGS_PROFILE_THEMES_NOTE.format({onThemeClick:function(){P.Z.open(se.oAB.APPEARANCE)}}),className:Pe().marginTop20,value:e,onChange:_f.Uv,children:q.Z.Messages.ACCESSIBILITY_SETTINGS_PROFILE_THEMES_DESCRIPTION})})}function ep(){var e=Ff((0,r.Wu)([Ye.Z],(function(){return[Ye.Z.syncForcedColors,Ye.Z.systemForcedColors]})),1)[0],t=Ff(c.useState(e),2),n=t[0],o=t[1];c.useEffect((function(){o(e)}),[e]);var i=c.useRef(null);c.useEffect((function(){if(null!=i.current){clearTimeout(i.current);i.current=null}n!==e&&(i.current=setTimeout((function(){return(0,_f.qz)(n)}),150))}),[n,e]);var s=q.Z.Messages.ACCESSIBILITY_SETTINGS_SYNC_FORCED_COLORS_DESCRIPTION.format({learnMoreLink:$s.Z.getArticleURL(se.BhN.FORCED_COLORS)});return(0,I.jsx)(C.FormItem,{title:q.Z.Messages.ACCESSIBILITY_SETTINGS_CONTRAST,className:Pe().marginTop20,children:(0,I.jsx)(C.FormSwitch,{
value:n,note:s,onChange:o,children:q.Z.Messages.ACCESSIBILITY_SETTINGS_SYNC_FORCED_COLORS_LABEL})})}function tp(){var e=fs.QK.useSetting(),t=fs.Yk.useSetting(),n=(0,r.cj)([Ye.Z,Pf.Z],(function(){return{systemPrefersReducedMotion:Ye.Z.systemPrefersReducedMotion,rawPrefersReducedMotion:Ye.Z.rawPrefersReducedMotion,useReducedMotion:Ye.Z.useReducedMotion,gifAutoPlayOverrideReason:Pf.Z.getAppliedOverrideReasonKey("gifAutoPlay"),animateEmojiOverrideReason:Pf.Z.getAppliedOverrideReasonKey("animateEmoji")}})),o=n.useReducedMotion,i=n.rawPrefersReducedMotion,s=n.systemPrefersReducedMotion,a=n.gifAutoPlayOverrideReason,l=n.animateEmojiOverrideReason,u="auto"===i,d=c.useRef(null);wl(d,Lr.rP.REDUCED_MOTION);var f=c.useCallback((function(e,t){(0,_f.Zt)(t?"auto":s)}),[s]),p=c.useCallback((function(e){(0,_f.Zt)(e?"reduce":"no-preference")}),[]);return(0,I.jsxs)(C.FormItem,{ref:d,title:q.Z.Messages.ACCESSIBILITY_PREFERS_REDUCED_MOTION,className:B()(Pe().marginTop20,Lf().reducedMotion),children:[(0,
I.jsx)(C.FormText,{type:C.FormText.Types.DESCRIPTION,className:Pe().marginBottom8,children:q.Z.Messages.ACCESSIBILITY_PREFERS_REDUCED_MOTION_DESCRIPTION.format({helpdeskArticle:$s.Z.getArticleURL(se.BhN.REDUCED_MOTION)})}),(0,I.jsx)(C.Checkbox,{className:Pe().marginTop20,value:u,shape:C.Checkbox.Shapes.BOX,type:C.Checkbox.Types.INVERTED,onChange:f,children:(0,I.jsx)(C.Text,{variant:"text-sm/normal",children:q.Z.Messages.ACCESSIBILITY_PREFERS_REDUCED_MOTION_AUTO})}),(0,I.jsx)(C.FormSwitch,{className:Pe().marginTop20,value:o,onChange:p,children:q.Z.Messages.ACCESSIBILITY_PREFERS_REDUCED_MOTION_ENABLE}),(0,I.jsx)(C.FormSwitch,{className:Pe().marginBottom40,value:e,note:null!=a?Nf(a):void 0,onChange:fs.QK.updateSetting,children:q.Z.Messages.GIF_AUTO_PLAY_LABEL}),(0,I.jsx)(C.FormSwitch,{className:B()(Pe().marginTop8,Pe().marginBottom20),value:t,note:null!=l?Nf(l):void 0,onChange:fs.Yk.updateSetting,children:q.Z.Messages.ANIMATE_EMOJI})]})}function np(){var e=fs.Wp.useSetting(),t=(0,
r.e7)([Pf.Z],(function(){return Pf.Z.getAppliedOverrideReasonKey("animateStickers")})),n=c.useCallback((function(e){fs.Wp.updateSetting(e.value)}),[]);return(0,I.jsxs)(C.FormItem,{className:Pe().marginBottom40,title:q.Z.Messages.STICKERS_AUTO_PLAY_HEADING,children:[(0,I.jsx)(C.FormText,{type:C.FormText.Types.DESCRIPTION,className:Pe().marginBottom8,children:null!=t?Nf(t):q.Z.Messages.STICKERS_AUTO_PLAY_HELP}),(0,I.jsx)(C.RadioGroup,{options:[{name:q.Z.Messages.STICKERS_ALWAYS_ANIMATE,value:Rf.yr.ALWAYS_ANIMATE},{name:q.Z.Messages.STICKERS_ANIMATE_ON_INTERACTION,desc:q.Z.Messages.STICKERS_ANIMATE_ON_INTERACTION_DESCRIPTION,value:Rf.yr.ANIMATE_ON_INTERACTION},{name:q.Z.Messages.STICKERS_NEVER_ANIMATE,value:Rf.yr.NEVER_ANIMATE}],onChange:n,value:e})]})}function rp(){var e=(0,r.e7)([Ye.Z],(function(){return Ye.Z.isSubmitButtonEnabled})),t=fs.dN.useSetting();return(0,I.jsxs)(C.FormItem,{children:[(0,I.jsx)(C.FormTitle,{className:Pe().marginBottom8,
children:q.Z.Messages.FORM_LABEL_ACCESSIBILITY_CHAT_INPUT}),(0,I.jsx)(C.FormSwitch,{className:Pe().marginTop20,value:e,onChange:_f.eN,children:q.Z.Messages.DISPLAY_SUBMIT_BUTTON}),(0,I.jsx)(C.FormSwitch,{className:Pe().marginTop8,value:t,note:q.Z.Messages.LEGACY_CHAT_INPUT_DESCRIPTION,onChange:function(e){to.default.track(se.rMx.LEGACY_CHAT_INPUT_TOGGLED,{enabled:e,location:{section:se.jXE.SETTINGS_ACCESSIBILITY}});fs.dN.updateSetting(e)},children:q.Z.Messages.LEGACY_CHAT_INPUT})]})}function op(){var e=fs.OW.useSetting(),t=(0,r.e7)([Cf.Z],(function(){return Cf.Z.speechRate})),n=Ff(c.useState(!1),2),o=n[0],i=n[1];if(!gf.Zh)return null;return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(C.FormItem,{children:[(0,I.jsx)(C.FormTitle,{className:Pe().marginBottom8,children:q.Z.Messages.FORM_LABEL_TTS}),(0,I.jsx)(C.FormSwitch,{className:Pe().marginTop20,value:e,onChange:fs.OW.updateSetting,children:q.Z.Messages.ALLOW_TTS_COMMAND})]}),(0,I.jsxs)(C.FormItem,{className:Pe().marginBottom20,
children:[(0,I.jsx)(C.FormTitle,{id:Vf,className:Pe().marginBottom20,children:q.Z.Messages.ACCESSIBILITY_SETTINGS_TTS_RATE_LABEL}),(0,I.jsx)("div",{className:Lf().ttsPreviewWrapper,children:(0,I.jsx)(C.Button,{color:C.ButtonColors.BRAND_NEW,onClick:function(){if(o){(0,Af.NB)();i(!1)}else{(0,Af.cP)(q.Z.Messages.ACCESSIBILITY_SETTINGS_TTS_RATE_TEST,!0,void 0,(function(){return i(!0)}),(function(){return i(!1)}));i(!0)}},children:(0,I.jsxs)(Ne.Z,{align:Ne.Z.Align.CENTER,children:[o?(0,I.jsx)(jf.Z,{width:24,height:24}):(0,I.jsx)(xf.Z,{width:24,height:24}),(0,I.jsx)("span",{children:q.Z.Messages.ACCESSIBILITY_SETTINGS_TTS_RATE_PREVIEW}),(0,I.jsx)(C.HiddenVisually,{children:q.Z.Messages.ACCESSIBILITY_SETTINGS_TTS_RATE_LABEL})]})})}),(0,I.jsx)(C.Slider,{markers:Mf.q,initialValue:t,defaultValue:1,stickToMarkers:!0,onValueChange:zf,onValueRender:function(e){return"x".concat(e.toFixed(2))},onMarkerRender:function(e){return 0===e?(0,I.jsx)("span",{className:Lf().ttsSliderMarker,
children:q.Z.Messages.ACCESSIBILITY_SETTINGS_TTS_RATE_SLOWER}):10===e?(0,I.jsx)("span",{className:Lf().ttsSliderMarker,children:q.Z.Messages.ACCESSIBILITY_SETTINGS_TTS_RATE_FASTER}):1===e?(0,I.jsx)("span",{children:"x1.0"}):e%1==0?"":void 0},"aria-labelledby":Vf})]})]})}var ip=n(575945),sp=n(130671),ap=n(975651),lp=(n(561210),n(520453));function cp(e,t,n,r,o,i,s){try{var a=e[i](s),l=a.value}catch(e){n(e);return}a.done?t(l):Promise.resolve(l).then(r,o)}function up(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){cp(i,r,o,s,a,"next",e)}function a(e){cp(i,r,o,s,a,"throw",e)}s(void 0)}))}}function dp(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function fp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){dp(e,t,n[t])}))}return e}var pp=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:s.label++;return{value:i[1],done:!1};case 5:s.label++;r=i[1];i=[0];continue;case 7:i=s.ops.pop();s.trys.pop();continue;default:if(!(o=s.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1];o=i;break}if(o&&s.label<o[2]){s.label=o[2]
;s.ops.push(i);break}o[2]&&s.ops.pop();s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};const mp=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;(0,C.openModalLazy)(up((function(){var t,r;return pp(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(73284)]).then(n.bind(n,854104))];case 1:t=o.sent(),r=t.default;return[2,function(t){return(0,I.jsx)(r,fp({claimRequired:e},t))}]}}))})),{onCloseRequest:e?lp.dG:null,onCloseCallback:t})};var hp=n(50034),Ep=n(895808),Sp=n(694444),gp=n(613677),_p=n(319086),Tp=n(64234),Op=n(265508),bp=n(322837),yp=n(919244),Ip=n(411177),vp=n(426797),Np=n(970112),Ap=n(971402),Cp=n(693622),jp=n(651034);function xp(e,t,n,r,o,i,s){try{var a=e[i](s),l=a.value}catch(e){n(e);return}a.done?t(l):Promise.resolve(l).then(r,o)}function Pp(e){return function(){var t=this,n=arguments
;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){xp(i,r,o,s,a,"next",e)}function a(e){xp(i,r,o,s,a,"throw",e)}s(void 0)}))}}var Rp=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:s.label++;return{value:i[1],done:!1};case 5:s.label++;r=i[1];i=[0];continue;case 7:i=s.ops.pop();s.trys.pop();continue;default:if(!(o=s.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1];o=i;break}
if(o&&s.label<o[2]){s.label=o[2];s.ops.push(i);break}o[2]&&s.ops.pop();s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};function Mp(){return(Mp=Pp((function(){var e,t,n,r;return Rp(this,(function(o){switch(o.label){case 0:return[4,jc.Z.post({url:se.ANM.MFA_WEBAUTHN_CREDENTIALS,body:{}})];case 1:e=o.sent(),t=e.body,n=t.ticket,r=t.challenge;return[2,{ticket:n,challenge:r}]}}))}))).apply(this,arguments)}function Dp(){return(Dp=Pp((function(e,t,n){var r;return Rp(this,(function(o){switch(o.label){case 0:return[4,jc.Z.post({url:se.ANM.MFA_WEBAUTHN_CREDENTIALS,body:{name:e,ticket:t,credential:n}})];case 1:r=o.sent();u.Z.dispatch({type:"MFA_WEBAUTHN_CREDENTIAL_CREATE",credential:r.body});return[2]}}))}))).apply(this,arguments)}const Lp=(0,zu.B)({id:"2022-08_webauthn",label:"WebAuthn",kind:"user",defaultConfig:{enabled:!1},treatments:[{id:0,label:"Control",config:{enabled:!1}},{id:1,label:"Enabled",
config:{enabled:!0}}]});function Zp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Up(e){Up=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Up(e)}function Bp(e,t){return!t||"object"!==Fp(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Gp(e,t){Gp=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Gp(e,t)}function kp(e){return function(e){if(Array.isArray(e))return Zp(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Zp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zp(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Fp=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Hp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Up(e);if(t){var o=Up(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Bp(this,n)}}var Yp=!1,Vp=[];var Wp=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Gp(e,t)}(n,e);var t=Hp(n);function n(){wp(this,n);return t.apply(this,arguments)}var r=n.prototype;r.hasFetchedCredentials=function(){return Yp};r.getCredentials=function(){return Vp};r.__getLocalVars=function(){return{fetchedCredentials:Yp,credentials:Vp}};return n}(r.ZP.Store);Wp.displayName="WebAuthnStore";const zp=new Wp(u.Z,{LOGOUT:function(){Vp=[]},MFA_WEBAUTHN_CREDENTIALS_LOADING:function(){Yp=!0;return!0},MFA_WEBAUTHN_CREDENTIALS_LOADED:function(e){Vp=e.credentials;return!0},MFA_WEBAUTHN_CREDENTIAL_CREATE:function(e){var t=e.credential;Vp=kp(Vp).concat([t]);return!0},MFA_WEBAUTHN_CREDENTIAL_DELETE:function(e){var t=e.credentialId;Vp=Vp.filter((function(e){return e.id!==t}));return!0}});var Kp,Qp=n(441984),qp=n.n(Qp);function Xp(e,t){(null==t||t>e.length)&&(t=e.length)
;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $p(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Jp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){$p(e,t,n[t])}))}return e}function em(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function tm(e,t){return function(e){
if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done);s=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){a=!0;o=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Xp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xp(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}!function(e){e.INIT="INIT";e.REGISTER="REGISTER";e.NAME="NAME"}(Kp||(Kp={}));function nm(e){var t=e.transitionState,r=e.onClose,o=e.ticket,i=e.challenge,s=(0,
_n.Dt)(),a=tm(c.useState(""),2),l=a[0],u=a[1],d=tm(c.useState(!0),2),f=d[0],p=d[1],m=tm(c.useState(Kp.INIT),2),h=m[0],E=m[1],S=tm(c.useState(""),2),g=S[0],_=S[1],T=tm(c.useState(null),2),O=T[0],b=T[1];return(0,I.jsxs)(C.ModalRoot,{transitionState:t,"aria-labelledby":s,children:[(0,I.jsxs)(C.ModalHeader,{className:qp().header,separator:!1,children:[(0,I.jsxs)(C.Heading,{id:s,variant:"heading-lg/semibold",children:[h===Kp.INIT&&q.Z.Messages.TWO_FA_WEBAUTHN_REGISTER,h===Kp.REGISTER&&q.Z.Messages.TWO_FA_WEBAUTHN_INTERACT,h===Kp.NAME&&q.Z.Messages.TWO_FA_WEBAUTHN_NAME]}),(0,I.jsx)(C.ModalCloseButton,{onClick:r,className:qp().modalCloseButton})]}),(0,I.jsxs)(C.Slides,{activeSlide:h,width:440,children:[(0,I.jsxs)(C.Slide,{id:Kp.INIT,children:[(0,I.jsxs)(C.ModalContent,{className:qp().content,children:[(0,I.jsx)("div",{className:qp().icon,children:(0,I.jsx)("img",{alt:"",src:n(761434)})}),(0,I.jsx)("div",{children:null!=O&&(0,I.jsx)(C.Text,{variant:"text-md/normal",color:"status-danger",
children:O})}),(0,I.jsx)("div",{children:(0,I.jsx)(C.Text,{variant:"text-md/normal",children:q.Z.Messages.TWO_FA_WEBAUTHN_REGISTER_INSTRUCTIONS})})]}),(0,I.jsx)(C.ModalFooter,{children:(0,I.jsx)(C.Button,{onClick:function(){E(Kp.REGISTER);Np.Ue(JSON.parse(i)).then((function(e){_(JSON.stringify(e));E(Kp.NAME)})).catch((function(e){e.message.includes("This request has been cancelled by the user.")||e.message.includes("The operation either timed out or was not allowed.")||b(e.message);E(Kp.INIT)}))},children:q.Z.Messages.TWO_FA_WEBAUTHN_REGISTER_CONFIRM})})]}),(0,I.jsxs)(C.Slide,{id:Kp.REGISTER,children:[(0,I.jsxs)(C.ModalContent,{className:qp().content,children:[(0,I.jsx)("div",{className:qp().icon,children:(0,I.jsx)("img",{alt:"",src:n(761434)})}),(0,I.jsx)("div",{children:(0,I.jsx)(C.Text,{variant:"text-md/normal",children:q.Z.Messages.TWO_FA_WEBAUTHN_INTERACT_INSTRUCTIONS})})]}),(0,I.jsx)(C.ModalFooter,{children:(0,I.jsx)(C.Button,{submitting:!0})})]}),(0,I.jsx)(C.Slide,{id:Kp.NAME,
children:(0,I.jsxs)("form",{onSubmit:function(e){e.preventDefault();(function(e,t,n){return Dp.apply(this,arguments)})(l,o,g).then((function(){return r()})).catch((function(){b(q.Z.Messages.ERROR_OCCURRED_TRY_AGAIN);E(Kp.INIT)}))},children:[(0,I.jsxs)(C.ModalContent,{className:qp().content,children:[(0,I.jsx)("div",{className:qp().icon,children:(0,I.jsx)("img",{alt:"",src:n(88094)})}),(0,I.jsxs)("div",{children:[(0,I.jsx)(C.Text,{variant:"text-md/normal",children:q.Z.Messages.TWO_FA_WEBAUTHN_NAME_INSTRUCTIONS}),(0,I.jsx)(C.TextInput,{className:qp().input,value:l,onChange:function(e){u(e);p(0===e.length)},autoFocus:!0,minLength:1})]})]}),(0,I.jsxs)(C.ModalFooter,{className:qp().footer,children:[(0,I.jsx)(C.Button,{type:"submit",disabled:f,children:q.Z.Messages.TWO_FA_WEBAUTHN_REGISTER_FINISH}),(0,I.jsx)(C.Button,{look:C.Button.Looks.LINK,color:C.Button.Colors.PRIMARY,onClick:function(){E(Kp.INIT)},children:q.Z.Messages.BACK})]})]})})]})]})}function rm(e){
var t=e.onSelect,n=e.credentialId;return(0,I.jsx)(C.Menu,{navId:"webauthn-credential-actions",onClose:Ap.Zy,"aria-label":q.Z.Messages.TWO_FA_WEBAUTHN_CREDENTIAL_OPTIONS,onSelect:t,children:(0,I.jsx)(C.MenuItem,{id:"webauthn-delete-credential",label:q.Z.Messages.TWO_FA_WEBAUTHN_DELETE_CREDENTIAL,action:function(){!function(e){jc.Z.delete(se.ANM.MFA_WEBAUTHN_CREDENTIAL(e)).then((function(){u.Z.dispatch({type:"MFA_WEBAUTHN_CREDENTIAL_DELETE",credentialId:e})}))}(n)}})})}function om(){var e=(0,r.cj)([zp],(function(){return{hasFetchedCredentials:zp.hasFetchedCredentials(),credentials:zp.getCredentials()}})),t=e.credentials,n=e.hasFetchedCredentials,o=Lp.getCurrentConfig({},{autoTrackExposure:!1}).enabled;c.useEffect((function(){o&&!n&&function(){u.Z.dispatch({type:"MFA_WEBAUTHN_CREDENTIALS_LOADING"});jc.Z.get(se.ANM.MFA_WEBAUTHN_CREDENTIALS).then((function(e){u.Z.dispatch({type:"MFA_WEBAUTHN_CREDENTIALS_LOADED",credentials:e.body})}))}()}),[o,n]);var i=tm(c.useState(!1),2),s=i[0],a=i[1]
;return o?(0,I.jsxs)(C.FormSection,{title:q.Z.Messages.TWO_FA_WEBAUTHN_TITLE,className:qp().settings,children:[(0,I.jsx)(C.FormText,{type:C.FormText.Types.DESCRIPTION,className:qp().description,children:q.Z.Messages.TWO_FA_WEBAUTHN_DESCRIPTION}),t.length>0&&(0,I.jsx)("div",{className:qp().credentialList,children:t.map((function(e){return(0,I.jsx)(jp.Z,{avatar:null,name:e.name,className:qp().credentialItem,onContextMenu:function(t){(0,Ap.vq)(t,(function(t){return(0,I.jsx)(rm,em(Jp({},t),{credentialId:e.id}))}))},children:(0,I.jsx)(C.Button,{look:C.Button.Looks.BLANK,color:C.Button.Colors.TRANSPARENT,size:C.Button.Sizes.ICON,onClick:function(t){(0,Ap.vq)(t,(function(t){return(0,I.jsx)(rm,em(Jp({},t),{credentialId:e.id}))}))},"aria-label":q.Z.Messages.TWO_FA_WEBAUTHN_CREDENTIAL_OPTIONS,innerClassName:qp().credentialOptions,children:(0,I.jsx)(Cp.Z,{className:qp().overflowIcon,foreground:qp().overflowIconFg,"aria-hidden":!0})})},e.id)}))}),(0,I.jsx)("div",{children:(0,I.jsx)(C.Button,{
onClick:function(){a(!0);(function(){return Mp.apply(this,arguments)})().then((function(e){var t=e.ticket,n=e.challenge;(0,C.openModal)((function(e){return(0,I.jsx)(nm,em(Jp({},e),{ticket:t,challenge:n}))}))})).finally((function(){a(!1)}))},submitting:s,size:C.Button.Sizes.SMALL,children:q.Z.Messages.TWO_FA_WEBAUTHN_REGISTER})})]}):null}var im=n(691797),sm=n(178176);var am=n(751388),lm=n(58118),cm=n(841391),um=n.n(cm);function dm(e,t,n,r,o,i,s){try{var a=e[i](s),l=a.value}catch(e){n(e);return}a.done?t(l):Promise.resolve(l).then(r,o)}function fm(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){dm(i,r,o,s,a,"next",e)}function a(e){dm(i,r,o,s,a,"throw",e)}s(void 0)}))}}function pm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mm(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function hm(e){
hm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return hm(e)}function Em(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){mm(e,t,n[t])}))}return e}function Sm(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function gm(e,t){return!t||"object"!==Tm(t)&&"function"!=typeof t?function(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _m(e,t){_m=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _m(e,t)}var Tm=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Om(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=hm(e);if(t){var o=hm(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return gm(this,n)}}var bm=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){
return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:s.label++;return{value:i[1],done:!1};case 5:s.label++;r=i[1];i=[0];continue;case 7:i=s.ops.pop();s.trys.pop();continue;default:if(!(o=s.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1];o=i;break}if(o&&s.label<o[2]){s.label=o[2];s.ops.push(i);break}o[2]&&s.ops.pop();s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};function ym(e){var t=e.code,n=t.code,r=t.consumed,o="".concat(n.substr(0,4),"-").concat(n.substr(4)),i=c.useRef(null),s=c.useCallback((function(e){if("c"===e.key&&e.metaKey&&im.wS){var t
;e.preventDefault();e.stopPropagation();(0,im.JG)(o);null==i||null===(t=i.current)||void 0===t||t.focus()}}),[o]);return(0,I.jsx)("li",{className:Pe().marginBottom20,children:(0,I.jsx)(C.Clickable,{innerRef:i,className:um().backupCode,onKeyDown:s,children:(0,I.jsx)(C.Checkbox,{displayOnly:!0,readOnly:!0,className:um().codeCheckbox,value:r,children:(0,I.jsx)("span",{className:um().code,children:o})})})})}var Im=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&_m(e,t)}(r,e);var t=Om(r);function r(){pm(this,r);var e;(e=t.apply(this,arguments)).state={revealed:!1,password:""};e.togglePhoneNumberVisibility=function(t){t.preventDefault();e.setState({revealed:!e.state.revealed})};e.handleDisableMFA=function(){sp.Z.disable()};e.generateBackupCodes=fm((function(){var e;return bm(this,(function(t){switch(t.label){
case 0:e=Sp.Z.getVerificationKey();return[4,sp.Z.confirmViewBackupCodes(e,!0)];case 1:t.sent();return[2]}}))}));e.sendMFABackupCodesVerificationKeyEmail=function(){(0,C.openModal)((function(t){return(0,I.jsx)(ap.default,Sm(Em({},t),{handleSubmit:function(t){return sp.Z.sendMFABackupCodesVerificationKeyEmail(t).then((function(){e.viewBackupCodes(t)}))},title:q.Z.Messages.TWO_FA_VIEW_BACKUP_CODES_ENTER_PASSWORD,actionText:q.Z.Messages.TWO_FA_BACKUP_CODES_NEXT_ACTION}))}))};e.viewBackupCodes=function(e){(0,C.openModal)((function(t){return(0,I.jsx)(yp.Z,Sm(Em({},t),{handleSubmit:function(e){return sp.Z.confirmViewBackupCodes(e,!1).then((function(){return t.onClose()}))},maxLength:8,title:q.Z.Messages.TWO_FA_CONFIRM_VIEW_BACKUP_CODES_LABEL,label:q.Z.Messages.TWO_FA_CONFIRM_VIEW_BACKUP_CODES_INPUT_LABEL,forceNoPlaceholder:!0,retryPrompt:q.Z.Messages.TWO_FA_CONFIRM_VIEW_RESEND_EMAIL_PROMPT,retrySuccessMessage:q.Z.Messages.TWO_FA_CONFIRM_VIEW_RESEND_EMAIL_SUCCESS,onRetry:function(){
return sp.Z.sendMFABackupCodesVerificationKeyEmail(e)},actionText:q.Z.Messages.TWO_FA_VIEW_CODES_SUBMIT,helpMessage:q.Z.Messages.TWO_FA_CONFIRM_VIEW_BACKUP_CODES_BODY}))}))};e.getDownloadFileContents=function(){var t=e.props.backupCodes.map((function(e){var t=e.consumed,n=e.code;return"* ".concat(n.substr(0,4),"-").concat(n.substr(4)," ").concat(t?"(used)":"")})).join("\r\n"),n=q.Z.Messages.TWO_FA_DISCORD_BACKUP_CODES.format({email:e.props.currentUser.email});return"".concat(n,"\r\n\r\n").concat(t)};e.handleChangePhoneNumber=function(){e.openPhoneVerificationModal()};e.handleEnableSMS=function(){var t=function(){(0,C.openModal)((function(e){return(0,I.jsx)(ap.default,Sm(Em({},e),{handleSubmit:sp.Z.enableSMS,title:q.Z.Messages.MFA_SMS_ENABLE}))}))};null==e.props.currentUser.phone?e.openPhoneVerificationModal({onAddedPhone:t}):t()};e.handleDisableSMS=function(){(0,C.openModal)((function(e){return(0,I.jsx)(ap.default,Sm(Em({},e),{handleSubmit:sp.Z.disableSMS,
title:q.Z.Messages.MFA_SMS_REMOVE,children:q.Z.Messages._MFA_SMS_CONFIRM_REMOVE_BODY}))}))};return e}var o=r.prototype;o.maskPhoneNumber=function(e){return null==e?"":"".concat("*".repeat(e.length-4)).concat(e.slice(-4))};o.renderMFASMS=function(){var e,t,n=this.state.revealed,r=this.props,o=r.currentUser,i=r.togglingSMS,s=null!=o.phone,a=o.hasFlag(se.xW$.MFA_SMS);if(s||a){var l=n?o.phone:this.maskPhoneNumber(o.phone);t=(0,I.jsxs)(C.FormText,{type:C.FormText.Types.DESCRIPTION,className:Pe().marginBottom8,children:[q.Z.Messages.MFA_SMS_AUTH_CURRENT_PHONE.format({phoneNumber:l}),(0,I.jsx)(C.Anchor,{onClick:this.togglePhoneNumberVisibility,className:um().phoneRevealer,children:n?q.Z.Messages.MFA_SMS_PHONE_NUMBER_HIDE:q.Z.Messages.MFA_SMS_PHONE_NUMBER_REVEAL})]})}if(a)e=(0,I.jsx)(Ne.Z,{className:s?"":Pe().marginTop8,children:(0,I.jsx)(C.Button,{color:C.Button.Colors.RED,look:C.Button.Looks.OUTLINED,size:C.Button.Sizes.SMALL,submitting:i,onClick:this.handleDisableSMS,
children:q.Z.Messages.MFA_SMS_REMOVE})});else{var c=function(e){return e.hasAnyStaffLevel()||e.hasFlag(se.xW$.PARTNER)?q.Z.Messages.MFA_SMS_DISABLED_PARTNER:null==e.email?q.Z.Messages.MFA_SMS_DISABLED_NO_EMAIL:null}(o);e=(0,I.jsxs)(Ne.Z,{className:s?"":Pe().marginTop8,children:[(0,I.jsx)(C.Button,{onClick:this.handleEnableSMS,size:C.Button.Sizes.SMALL,submitting:i,disabled:null!=c,children:null!=c?c:q.Z.Messages.MFA_SMS_ENABLE}),s?(0,I.jsx)(C.Button,{onClick:this.handleChangePhoneNumber,color:C.Button.Colors.PRIMARY,size:C.Button.Sizes.SMALL,look:C.Button.Looks.LINK,children:q.Z.Messages.CHANGE_PHONE_NUMBER}):null]})}return(0,I.jsxs)(C.FormSection,{className:Pe().marginTop40,title:q.Z.Messages.MFA_SMS_AUTH,children:[(0,I.jsx)(C.FormText,{type:C.FormText.Types.DESCRIPTION,children:q.Z.Messages.MFA_SMS_AUTH_SALES_PITCH}),t,e]})};o.renderEnabled=function(){var e,t=this,r=this.props,o=r.isRoleSubscriptionGuildAdmin,i=r.backupCodes,s=(0,I.jsx)(C.Button,{
onClick:this.sendMFABackupCodesVerificationKeyEmail,size:C.Button.Sizes.SMALL,children:q.Z.Messages.TWO_FA_VIEW_BACKUP_CODES});if(i.length>0){s=(0,I.jsx)(bp.Z,{fileContents:this.getDownloadFileContents,contentType:"text/plain",fileName:"discord_backup_codes.txt",children:(0,I.jsx)(C.Button,{size:C.Button.Sizes.SMALL,children:q.Z.Messages.TWO_FA_DOWNLOAD_CODES})});var a=function(e){return e.map((function(e){return(0,I.jsx)(ym,{code:e},e.code)}))};e=(0,I.jsxs)(C.FormSection,{title:q.Z.Messages.TWO_FA_BACKUP_CODES_LABEL,children:[(0,I.jsx)(C.FormText,{type:C.FormText.Types.DESCRIPTION,className:Pe().marginBottom20,children:q.Z.Messages.TWO_FA_BACKUP_CODES_BODY.format()}),(0,I.jsxs)(Ne.Z,{children:[(0,I.jsx)(Ne.Z.Child,{children:(0,I.jsx)("ul",{className:um().checkboxGroup,children:a(i.slice(0,i.length/2))})}),(0,I.jsx)(Ne.Z.Child,{children:(0,I.jsx)("ul",{className:um().checkboxGroup,children:a(i.slice(i.length/2))})})]}),(0,I.jsx)("div",{children:(0,I.jsx)(C.Button,{
onClick:this.generateBackupCodes,look:C.ButtonLooks.LINK,size:C.ButtonSizes.MIN,children:q.Z.Messages.TWO_FA_GENERATE_CODES})}),(0,I.jsx)(C.FormDivider,{className:Pe().marginTop20})]})}return(0,I.jsxs)(C.FormSection,{children:[(0,I.jsxs)(C.FormTitle,{className:B()(um().isEnabled,Pe().marginTop4,Pe().marginBottom8),children:[(0,I.jsx)("img",{alt:"",className:B()(um().lockIcon),src:n(392544)}),q.Z.Messages.TWO_FA_ENABLED]}),(0,I.jsx)(C.FormText,{type:C.FormText.Types.DESCRIPTION,className:Pe().marginBottom20,children:q.Z.Messages.TWO_FA_DESCRIPTION}),(0,I.jsxs)(Ne.Z,{justify:Ne.Z.Justify.START,className:Pe().marginBottom20,children:[(0,I.jsx)(Ne.Z.Child,{wrap:!0,grow:0,children:s}),(0,I.jsx)(Ne.Z.Child,{wrap:!0,children:(0,I.jsx)(C.Tooltip,{text:q.Z.Messages.TWO_FA_DISABLED_FOR_SERVER_SUBSCRIPTION_MOD,hide:!o,children:function(e){return(0,I.jsx)(C.Button,Sm(Em({},e),{onClick:t.handleDisableMFA,size:C.Button.Sizes.SMALL,color:C.ButtonColors.RED,look:C.ButtonLooks.OUTLINED,disabled:o,
children:q.Z.Messages.TWO_FA_REMOVE}))}})})]}),e,this.renderMFASMS(),sm.Ae&&(0,I.jsx)(om,{})]})};o.renderDisabled=function(){return(0,I.jsxs)(C.FormSection,{title:q.Z.Messages.TWO_FA,children:[(0,I.jsx)(C.FormText,{type:C.FormText.Types.DESCRIPTION,className:Pe().marginBottom20,children:q.Z.Messages.TWO_FA_SALES_PITCH}),(0,I.jsx)(C.FormItem,{children:(0,I.jsx)(C.Button,{onClick:am.Z.enableMFA,size:C.ButtonSizes.SMALL,children:q.Z.Messages.TWO_FA_ENABLE})})]})};o.render=function(){var e=this.props.currentUser;return sm.uZ?e.verified?e.mfaEnabled?this.renderEnabled():this.renderDisabled():(0,I.jsx)(C.FormSection,{title:q.Z.Messages.TWO_FA,children:(0,I.jsx)(C.FormText,{type:C.FormText.Types.DESCRIPTION,children:q.Z.Messages.TWO_FA_NOT_VERIFIED})}):(0,I.jsx)(C.FormSection,{title:q.Z.Messages.TWO_FA,children:(0,I.jsx)(C.FormText,{type:C.FormText.Types.DESCRIPTION,children:q.Z.Messages.TWO_FA_USE_DESKTOP_APP})})};o.openPhoneVerificationModal=function(){
var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,C.openModal)((function(t){return(0,I.jsx)(Ip.default,Em({reason:vp.L.USER_SETTINGS_UPDATE},t,e))}),{modalKey:lm.M})};return r}(c.PureComponent);const vm=r.ZP.connectStores([d.default,Sp.Z,vn.Z,$a.Z],(function(){var e=d.default.getCurrentUser(),t=vn.Z.getGuilds(),n=Object.values(t).some((function(e){return e.hasFeature(se.oNc.ROLE_SUBSCRIPTIONS_AVAILABLE_FOR_PURCHASE)&&$a.Z.can(se.Plq.ADMINISTRATOR,e)}));te()(null!=e,"TwoFactorAuth: currentUser cannot be undefined");return{currentUser:e,isRoleSubscriptionGuildAdmin:n,togglingSMS:Sp.Z.togglingSMS}}))(Im);var Nm=n(153837),Am=n.n(Nm);function Cm(e){var t=e.className,n=e.currentUser,r=e.handleDisableAccount,o=e.handleDeleteAccount,i=n.isClaimed();return(0,I.jsxs)(C.FormSection,{className:t,title:q.Z.Messages.USER_SETTINGS_ACCOUNT_REMOVAL_SECTION,children:[(0,I.jsx)(C.FormText,{className:Am().description,type:C.FormText.Types.DESCRIPTION,
children:i?q.Z.Messages.USER_SETTINGS_ACCOUNT_REMOVAL_DESCRIPTION:q.Z.Messages.USER_SETTINGS_ACCOUNT_REMOVAL_DESCRIPTION_UNCLAIMED}),(0,I.jsxs)("div",{className:Am().buttonContainer,children:[i?(0,I.jsx)(C.Button,{className:Am().disableButton,look:C.ButtonLooks.FILLED,color:C.ButtonColors.RED,size:C.ButtonSizes.SMALL,onClick:r,children:q.Z.Messages.DISABLE_ACCOUNT}):null,(0,I.jsx)(C.Button,{look:C.ButtonLooks.OUTLINED,color:C.ButtonColors.RED,size:C.ButtonSizes.SMALL,onClick:o,children:q.Z.Messages.DELETE_ACCOUNT})]})]})}var jm=n(334835),xm=n(112897),Pm=n(704512),Rm=n(76834),Mm=n(548625),Dm=n(186440);function Lm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Zm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done);s=!0){i.push(r.value)
;if(t&&i.length===t)break}}catch(e){a=!0;o=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Lm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lm(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wm(e){return"".concat("*".repeat(e.length-4)).concat(e.slice(-4))}function Um(e){var t=Zm(e.split("@"),2),n=t[0],r=t[1];return"".concat("*".repeat(n.length),"@").concat(r)}var Bm=n(705090),Gm=n(295489),km=n.n(Gm);function Fm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Hm(e,t,n,r,o,i,s){try{var a=e[i](s),l=a.value
}catch(e){n(e);return}a.done?t(l):Promise.resolve(l).then(r,o)}function Ym(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){Hm(i,r,o,s,a,"next",e)}function a(e){Hm(i,r,o,s,a,"throw",e)}s(void 0)}))}}function Vm(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Wm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Vm(e,t,n[t])}))}return e}function zm(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Km(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done);s=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){a=!0;o=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Fm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fm(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Qm=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:s.label++;return{value:i[1],done:!1};case 5:s.label++;r=i[1];i=[0];continue;case 7:i=s.ops.pop();s.trys.pop();continue;default:if(!(o=s.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){
s.label=o[1];o=i;break}if(o&&s.label<o[2]){s.label=o[2];s.ops.push(i);break}o[2]&&s.ops.pop();s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},qm=Jo.default.getEnableHardwareAcceleration()?C.AnimatedAvatar:C.Avatar;function Xm(e){var t,r,o=e.className,i=e.user,s=c.useRef(null),a=(0,Pm.o9)(),l=(0,hp.b)(),u=(0,oa.gS)(),d=null!==(r=null==u||null===(t=u.nick)||void 0===t?void 0:t[0])&&void 0!==r?r:null,f=null!=s.current&&s.current.scrollWidth>s.current.clientWidth,p=a&&!i.isPomelo()&&!i.hasVerifiedEmailOrPhone(),m=p?q.Z.Messages.POMELO_UPDATE_DISABLED_MESSAGE:void 0;return(0,I.jsxs)("div",{className:B()(km().field,o),children:[(0,I.jsx)("div",{className:km().constrainedRow,children:(0,I.jsxs)("div",{className:km().usernameRow,children:[(0,I.jsx)(C.FormTitle,{className:km().fieldTitle,children:q.Z.Messages.USER_SETTINGS_LABEL_USERNAME}),(0,I.jsxs)("div",{className:km().usernameInnerRow,ref:s,
children:[(0,I.jsx)(C.Text,{tag:"span",color:"header-primary",variant:"text-md/normal",children:i.username}),!i.isPomelo()&&(0,I.jsxs)(C.Text,{tag:"span",color:"header-secondary",variant:"text-md/normal",children:["#",i.discriminator]})]})]})}),l&&(0,I.jsx)("div",{className:km().pomeloWarning,children:(0,I.jsx)(C.Tooltip,{text:q.Z.Messages.ACTION_NEEDED,children:function(e){return(0,I.jsx)(Wu.Z,zm(Wm({},e),{color:A.Z.colors.STATUS_WARNING.css}))}})}),null!=d&&(0,I.jsx)("div",{className:km().pomeloWarning,children:(0,I.jsx)(C.Tooltip,{text:d,"aria-label":!1,children:function(e){return(0,I.jsx)(Wu.Z,zm(Wm({},e),{color:A.Z.colors.STATUS_WARNING.css}))}})}),(0,I.jsx)(C.Tooltip,{text:m,children:function(e){return(0,I.jsx)(C.Button,zm(Wm({},e),{disabled:p,size:C.Button.Sizes.SMALL,className:km().fieldButton,color:C.Button.Colors.PRIMARY,"aria-label":q.Z.Messages.USER_SETTINGS_ACCOUNT_EDIT_USERNAME_A11Y_LABEL,onClick:function(){return(0,C.openModalLazy)(Ym((function(){var e,t,r,o
;return Qm(this,(function(i){switch(i.label){case 0:return l?[4,Promise.all([n.e(40532),n.e(76169)]).then(n.bind(n,476169))]:[3,2];case 1:e=i.sent(),t=e.default;return[2,function(e){return(0,I.jsx)(t,Wm({source:Bm.Kq.USER_SETTINGS_EDIT},e))}];case 2:return[4,Promise.all([n.e(40532),n.e(25934)]).then(n.bind(n,425934))];case 3:r=i.sent(),o=r.default;return[2,function(e){return(0,I.jsx)(o,Wm({},e))}];case 4:return[2]}}))})))},children:f?q.Z.Messages.DISAPPROVAL:q.Z.Messages.EDIT}))}})]})}function $m(e){var t,n,r=e.user,o=e.className,i=(0,ds.rW)(),s=(0,oa.gS)();if(!i)return null;var a=null!==(n=null==s||null===(t=s.nick)||void 0===t?void 0:t[0])&&void 0!==n?n:null,l=Ss.ZP.getGlobalName(r);return(0,I.jsxs)("div",{className:B()(km().field,o),children:[(0,I.jsx)("div",{className:km().constrainedRow,children:(0,I.jsxs)("div",{children:[(0,I.jsx)(C.FormTitle,{className:km().fieldTitle,children:q.Z.Messages.DISPLAY_NAME}),(0,I.jsx)("div",{children:(0,I.jsx)(C.Text,{tag:"span",
color:"header-primary",variant:"text-md/normal",children:null==l?q.Z.Messages.USER_SETTINGS_NO_DISPLAYNAME_PLACEHOLDER:l})})]})}),null!=a&&(0,I.jsx)("div",{className:km().pomeloWarning,children:(0,I.jsx)(C.Tooltip,{text:a,"aria-label":!1,children:function(e){return(0,I.jsx)(Wu.Z,zm(Wm({},e),{color:A.Z.colors.STATUS_WARNING.css}))}})}),(0,I.jsx)(C.Button,{className:km().fieldButton,size:C.Button.Sizes.SMALL,color:C.Button.Colors.PRIMARY,"aria-label":q.Z.Messages.USER_SETTINGS_ACCOUNT_EDIT_DISPLAYNAME_A11Y_LABEL,onClick:rh,children:q.Z.Messages.EDIT})]})}function Jm(e){var t=e.text,n=e.censor,r=e.revealLabel,o=e.hideLabel,i=Km(c.useState(!1),2),s=i[0],a=i[1],l=s?t:n(t);return(0,I.jsxs)(I.Fragment,{children:[l,(0,I.jsx)(C.Button,{look:C.Button.Looks.LINK,size:C.Button.Sizes.MIN,color:C.Button.Colors.LINK,"aria-label":s?o:r,onClick:function(){return a(!s)},children:s?q.Z.Messages.HIDE:q.Z.Messages.REVEAL})]})}function eh(e){var t,r=e.className,o=e.user;if(o.isClaimed())if(null==o.email)t={
buttonText:q.Z.Messages.ADD,buttonAriaLabel:q.Z.Messages.USER_SETTINGS_ACCOUNT_ADD_EMAIL_A11Y_LABEL,buttonColor:C.Button.Colors.PRIMARY,valueMessage:q.Z.Messages.USER_SETTINGS_NO_EMAIL_PLACEHOLDER,handleClick:function(){return(0,C.openModalLazy)(Ym((function(){var e,t;return Qm(this,(function(r){switch(r.label){case 0:return[4,Promise.all([n.e(40532),n.e(71379)]).then(n.bind(n,171379))];case 1:e=r.sent(),t=e.default;return[2,function(e){return(0,I.jsx)(t,Wm({},e))}]}}))})))}};else{var i=o.email;t={buttonText:q.Z.Messages.EDIT,buttonAriaLabel:q.Z.Messages.USER_SETTINGS_ACCOUNT_EDIT_EMAIL_A11Y_LABEL,buttonColor:C.Button.Colors.PRIMARY,valueMessage:(0,I.jsx)(Jm,{text:i,censor:Um,revealLabel:q.Z.Messages.USER_SETTINGS_ACCOUNT_REVEAL_EMAIL_A11Y_LABEL,hideLabel:q.Z.Messages.USER_SETTINGS_ACCOUNT_HIDE_EMAIL_A11Y_LABEL}),handleClick:function(){return(0,C.openModalLazy)(Ym((function(){var e,t;return Qm(this,(function(r){switch(r.label){case 0:
return[4,Promise.all([n.e(40532),n.e(71379)]).then(n.bind(n,171379))];case 1:e=r.sent(),t=e.default;return[2,function(e){return(0,I.jsx)(t,Wm({},e))}]}}))})))}}}else t={buttonText:q.Z.Messages.CLAIM_ACCOUNT_SHORT,buttonAriaLabel:q.Z.Messages.CLAIM_ACCOUNT_SHORT,buttonColor:C.Button.Colors.BRAND,valueMessage:q.Z.Messages.USER_SETTINGS_ADD_EMAIL_CLAIM,handleClick:function(){return mp()}};return(0,I.jsxs)("div",{className:B()(km().field,r),children:[(0,I.jsx)("div",{className:km().constrainedRow,children:(0,I.jsxs)("div",{children:[(0,I.jsx)(C.FormTitle,{className:km().fieldTitle,children:q.Z.Messages.USER_SETTINGS_LABEL_EMAIL}),(0,I.jsx)("div",{children:(0,I.jsx)(C.Text,{tag:"span",color:"header-primary",variant:"text-md/normal",children:t.valueMessage})})]})}),(0,I.jsx)(C.Button,{className:km().fieldButton,size:C.Button.Sizes.SMALL,color:C.Button.Colors.PRIMARY,"aria-label":t.buttonAriaLabel,onClick:t.handleClick,children:t.buttonText})]})}function th(e){var t=e.className,r=e.user
;if(!r.isClaimed())return null;var o,i=r.phone,s=null!=i,a=null!=r.email;o=s?(0,I.jsx)(Jm,{text:i,censor:wm,revealLabel:q.Z.Messages.USER_SETTINGS_ACCOUNT_REVEAL_PHONE_A11Y_LABEL,hideLabel:q.Z.Messages.USER_SETTINGS_ACCOUNT_HIDE_PHONE_A11Y_LABEL}):q.Z.Messages.USER_SETTINGS_NO_PHONE_PLACEHOLDER;return(0,I.jsxs)("div",{className:B()(km().field,t),children:[(0,I.jsx)("div",{className:km().constrainedRow,children:(0,I.jsxs)("div",{children:[(0,I.jsx)(C.FormTitle,{className:km().fieldTitle,children:q.Z.Messages.USER_SETTINGS_LABEL_PHONE_NUMBER}),(0,I.jsx)("div",{children:(0,I.jsx)(C.Text,{tag:"span",color:"header-primary",variant:"text-md/normal",children:o})})]})}),(0,I.jsxs)("div",{className:km().fieldButtonList,children:[s&&a?(0,I.jsx)(C.Button,{className:B()(km().fieldButton,km().removeButton),size:C.Button.Sizes.SMALL,look:C.Button.Looks.LINK,color:C.Button.Colors.PRIMARY,"aria-label":q.Z.Messages.USER_SETTINGS_ACCOUNT_REMOVE_PHONE_A11Y_LABEL,onClick:function(){(0,
C.openModal)((function(e){return(0,I.jsx)(ap.default,zm(Wm({},e),{title:q.Z.Messages.USER_SETTINGS_ACCOUNT_REMOVE_PHONE_NUMBER_TITLE,children:r.hasFlag(se.xW$.MFA_SMS)?q.Z.Messages.USER_SETTINGS_ACCOUNT_REMOVE_PHONE_SMS_BACKUP_WARNING:void 0,actionText:q.Z.Messages.REMOVE,handleSubmit:function(e){return vp.Z.removePhone(e,vp.L.USER_SETTINGS_UPDATE)}}))}))},children:q.Z.Messages.REMOVE}):null,(0,I.jsx)(C.Button,{className:km().fieldButton,size:C.Button.Sizes.SMALL,color:C.Button.Colors.PRIMARY,"aria-label":s?q.Z.Messages.USER_SETTINGS_ACCOUNT_EDIT_PHONE_A11Y_LABEL:q.Z.Messages.USER_SETTINGS_ACCOUNT_ADD_PHONE_A11Y_LABEL,onClick:function(){(0,C.openModalLazy)(Ym((function(){var e,t;return Qm(this,(function(r){switch(r.label){case 0:return[4,Promise.resolve().then(n.bind(n,411177))];case 1:e=r.sent(),t=e.default;return[2,function(e){return(0,I.jsx)(t,Wm({reason:vp.L.USER_SETTINGS_UPDATE},e))}]}}))})),{modalKey:lm.M})},children:s?q.Z.Messages.EDIT:q.Z.Messages.ADD})]})]})}function nh(e){
var t=e.user,n=(0,xm.Z)({id:t.id,label:q.Z.Messages.COPY_ID_USER});return fs.Sb.useSetting()&&im.wS?(0,I.jsx)(C.Popout,{renderPopout:function(e){var t=e.closePopout;return(0,I.jsx)(C.Menu,{onClose:t,onSelect:void 0,navId:"copy-id","aria-label":q.Z.Messages.USER_MORE_ACTIONS_MENU_LABEL,children:n})},children:function(e){return(0,I.jsx)(C.Clickable,zm(Wm({},e),{className:km().overflowMenuButton,"aria-label":q.Z.Messages.ACTIONS,children:(0,I.jsx)(Dm.Z,{className:km().overflowMenuIcon,height:24,width:24})}))}}):null}function rh(){P.Z.setSection(se.oAB.PROFILE_CUSTOMIZATION)}function oh(){var e,t=(0,r.e7)([d.default],(function(){var e=d.default.getCurrentUser();te()(null!=e,"UserSettingsAccountProfileCard: currentUser cannot be undefined");return e})),n=(0,ts.Z)(t.id),o=fs.co.useSetting(),i=(0,r.e7)([Do.Z],(function(){return Do.Z.getErrors()})),s=null==i||null===(e=i.avatar)||void 0===e?void 0:e[0],a=(0,zo.Z)({user:t,size:(0,Ko.y)(C.AvatarSizes.SIZE_80),canAnimate:!0});return(0,
I.jsxs)("div",{className:km().accountProfileCard,children:[(0,I.jsx)(Rm.Z,{displayProfile:n,user:t,allowEdit:!1,guildId:void 0,profileType:Os.y0.SETTINGS}),(0,I.jsxs)("div",{className:km().userInfo,children:[(0,I.jsx)(qm,{className:km().avatar,src:t.getAvatarURL(void 0,80,!0),avatarDecoration:a,status:o,size:C.AvatarSizes.SIZE_80,"aria-label":t.username}),(0,I.jsxs)("div",{children:[(0,I.jsxs)("div",{className:km().profileCardUsernameRow,children:[(0,I.jsx)(jm.Z,{user:t,className:km().userTag,discriminatorClass:km().discriminator}),(0,I.jsx)(nh,{user:t})]}),(0,I.jsx)(Mm.Z,{className:km().badgeList,user:t,size:Mm.V.SIZE_22})]}),(0,I.jsx)(C.Button,{onClick:rh,size:C.Button.Sizes.SMALL,children:q.Z.Messages.USER_SETTINGS_EDIT_USER_PROFILE})]}),(0,I.jsxs)("div",{className:km().background,children:[null!=s?(0,I.jsx)(C.Text,{className:km().avatarError,variant:"text-xs/normal",color:"text-danger",children:s}):null,(0,I.jsxs)("div",{className:km().fieldList,children:[(0,I.jsx)($m,{
className:km().fieldSpacerBottom,user:t}),(0,I.jsx)(Xm,{user:t}),(0,I.jsx)(eh,{className:km().fieldSpacer,user:t}),(0,I.jsx)(th,{className:km().fieldSpacer,user:t})]})]})]})}var ih=n(528562);function sh(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ah(e){ah=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return ah(e)}function lh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){sh(e,t,n[t])}))}return e}function ch(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){
var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function uh(e,t){return!t||"object"!==fh(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function dh(e,t){dh=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return dh(e,t)}var fh=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function ph(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=ah(e);if(t){var o=ah(this).constructor
;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return uh(this,n)}}var mh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&dh(e,t)}(r,e);var t=ph(r);function r(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var n;(n=t.call(this,e)).state={disableAccountErrorMessage:null,shouldRenderOwnedGuildsModal:!1,shouldRenderDeleteAccountConfirmModal:!1,shouldRenderDisableAccountErrorModal:!1};return n}var o=r.prototype;o.componentDidMount=function(){var e=this.props.currentUser;(0,Rl.Z)(e.id,e.getAvatarURL(void 0,80))};o.componentWillUnmount=function(){sp.Z.clearBackupCodes();(0,x.Zy)()};o.renderAccountWarning=function(){var e=this.props.currentUser;if(!e.isClaimed()){var t=(0,I.jsxs)("section",{children:[(0,I.jsx)("div",{
className:um().accountWarningBodyText,children:q.Z.Messages.UNCLAIMED_ACCOUNT_BODY_2}),(0,I.jsx)(C.Button,{look:C.ButtonLooks.INVERTED,size:C.ButtonSizes.SMALL,color:C.Button.Colors.RED,onClick:function(){return mp()},children:q.Z.Messages.CLAIM_ACCOUNT_LONG})]});return(0,I.jsx)(C.FormNotice,{type:C.FormNotice.Types.DANGER,className:Pe().marginBottom20,imageData:{src:n(350672),width:60,height:60},title:q.Z.Messages.UNCLAIMED_ACCOUNT_TITLE,body:t})}if(null==e.email)return null;if(!e.verified){var r=(0,I.jsxs)("section",{children:[(0,I.jsx)("div",{className:um().accountWarningBodyText,children:q.Z.Messages.USER_SETTINGS_UNVERIFIED_EMAIL_BODY}),(0,I.jsx)(Op.Z,{size:C.ButtonSizes.SMALL,color:C.Button.Colors.PRIMARY})]});return(0,I.jsx)(C.FormNotice,{type:C.FormNotice.Types.PRIMARY,className:Pe().marginBottom20,imageData:{src:n(24264),width:60,height:60},title:q.Z.Messages.UNVERIFIED_EMAIL_TITLE,body:r})}};o.renderPomeloWarning=function(){return this.props.shouldRenderPomeloWarning?(0,
I.jsxs)(gp.Z,{className:um().accountWarningBodyText,messageType:gp.Q.WARNING,children:[q.Z.Messages.POMELO_ACTION_NEEDED.format()," ","",(0,I.jsx)(_p.Z,{className:um().noticeTextButton,onClick:function(){return(0,Ep.Z)(Bm.Kq.USER_SETTINGS)},children:q.Z.Messages.GET_STARTED})]}):null};o.renderAccountSettings=function(){return(0,I.jsxs)(C.FormSection,{tag:C.FormTitleTags.H1,title:q.Z.Messages.USER_SETTINGS_MY_ACCOUNT,className:um().userSettingsAccount,children:[this.renderPomeloWarning(),this.renderAccountWarning(),(0,I.jsx)(oh,{})]})};o.renderSecuritySettings=function(){var e=this.props,t=e.backupCodes,r=e.currentUser,o=e.theme,i=(0,ip.wj)(o)?n(273361):n(129428);return(0,I.jsxs)(C.FormSection,{className:B()(um().userSettingsSecurity,Pe().marginTop40),title:q.Z.Messages.USER_SETTINGS_ACCOUNT_PASSWORD_AND_AUTHENTICATION,tag:"h1",children:[(0,I.jsx)("div",{children:(0,I.jsx)(C.Button,{size:C.Button.Sizes.SMALL,className:um().changePasswordButton,onClick:function(){return(0,
C.openModal)((function(e){return(0,I.jsx)(ih.default,ch(lh({},e),{onSuccess:e.onClose}))}))},children:q.Z.Messages.CHANGE_PASSWORD})}),(0,I.jsxs)(Ne.Z,{align:Ne.Z.Align.STRETCH,children:[(0,I.jsx)(Ne.Z.Child,{wrap:!0,children:(0,I.jsx)(vm,{backupCodes:t})}),r.mfaEnabled?null:(0,I.jsx)(Ne.Z,{align:Ne.Z.Align.CENTER,basis:"323px",grow:0,children:(0,I.jsx)("img",{src:i,className:um().userSettingsSecurityImage,alt:""})})]})]})};o.renderConfirmModals=function(){var e=this,t=this.state,n=t.shouldRenderOwnedGuildsModal,r=t.shouldRenderDeleteAccountConfirmModal,o=t.shouldRenderDisableAccountErrorModal,i=t.disableAccountErrorMessage;if(n){var s=function(){return e.setState({shouldRenderOwnedGuildsModal:!1})};return(0,I.jsx)(C.DeclarativeConfirmModal,{dismissable:!0,header:q.Z.Messages.DELETE_ACCOUNT_TRANSFER_OWNERSHIP,confirmText:q.Z.Messages.OKAY,confirmButtonColor:C.ButtonColors.BRAND,onCancel:s,onConfirm:s,children:(0,I.jsx)(C.Text,{variant:"text-md/normal",
children:q.Z.Messages.DELETE_ACCOUNT_TRANSFER_OWNERSHIP_BODY})})}if(r){var a=function(){return e.setState({shouldRenderDeleteAccountConfirmModal:!1})};return(0,I.jsx)(C.DeclarativeConfirmModal,{dismissable:!0,header:q.Z.Messages.DELETE_ACCOUNT,confirmText:q.Z.Messages.DELETE_ACCOUNT,cancelText:q.Z.Messages.CANCEL,onCancel:a,onConfirm:function(){return(0,x.ss)("",!0).then(a)},children:(0,I.jsx)(C.Text,{variant:"text-md/normal",children:q.Z.Messages.DELETE_ACCOUNT_BODY})})}if(o){var l=function(){return e.setState({shouldRenderDisableAccountErrorModal:!1,disableAccountErrorMessage:null})};return(0,I.jsx)(C.DeclarativeConfirmModal,{dismissable:!0,header:q.Z.Messages.DELETE_ACCOUNT_ERROR,confirmText:q.Z.Messages.OKAY,confirmButtonColor:C.ButtonColors.BRAND,onCancel:l,onConfirm:l,children:(0,I.jsx)(C.Text,{variant:"text-md/normal",children:i})})}};o.render=function(){var e=this;if(this.props.hide)return(0,I.jsx)(zt.Z,{});var t=this.props.currentUser;return(0,I.jsxs)("div",{
children:[this.renderConfirmModals(),this.renderAccountSettings(),t.isClaimed()?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(C.FormDivider,{className:Pe().marginTop40}),this.renderSecuritySettings(),(0,I.jsx)(C.FormDivider,{className:Pe().marginTop40})]}):null,(0,I.jsx)(Cm,{className:Pe().marginTop40,currentUser:t,handleDisableAccount:function(){return e.handleDisableAccount(!1)},handleDeleteAccount:function(){return e.handleDisableAccount(!0)}})]})};o.handleDisableAccountError=function(e){if(e.body.code===se.evJ.INVALID_PASSWORD)throw e;this.setState({shouldRenderDisableAccountErrorModal:!0,disableAccountErrorMessage:e.body.message})};o.handleSubmitDisableAccount=function(e,t){return(0,x.ss)(e,t).then(se.dG4,this.handleDisableAccountError)};o.handleDisableAccount=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this,n=this.props.currentUser,r=vn.Z.getGuilds(),o=Object.keys(r).filter((function(e){return r[e].ownerId===n.id}));o.length>0?this.setState({
shouldRenderOwnedGuildsModal:!0}):n.isClaimed()?(0,C.openModal)((function(n){return(0,I.jsx)(ap.default,ch(lh({},n),{handleSubmit:function(n){return t.handleSubmitDisableAccount(n,e)},title:e?q.Z.Messages.DELETE_ACCOUNT:q.Z.Messages.DISABLE_ACCOUNT,actionText:e?q.Z.Messages.DELETE_ACCOUNT:q.Z.Messages.DISABLE_ACCOUNT,children:e?q.Z.Messages.DELETE_ACCOUNT_BODY:q.Z.Messages.DISABLE_ACCOUNT_BODY}))})):this.setState({shouldRenderDeleteAccountConfirmModal:!0})};return r}(c.PureComponent);const hh=function(){var e=(0,r.e7)([d.default],(function(){var e=d.default.getCurrentUser();te()(null!=e,"ConnectedUserAccountSettings: currentUser cannot be undefined");return e})),t=(0,r.e7)([Sp.Z],(function(){return Sp.Z.getBackupCodes()})),n=(0,r.e7)([$r.Z],(function(){return $r.Z.hidePersonalInformation})),o=(0,r.e7)([Tp.Z],(function(){return Tp.Z.theme})),i=(0,hp.b)();return(0,I.jsx)(mh,{theme:o,currentUser:e,backupCodes:t,hide:n,shouldRenderPomeloWarning:i})};var Eh=n(907078),Sh=n(415298)
;function gh(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function _h(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Th(e){var t=function(){fs.SE.updateSetting(e?Object.keys(vn.Z.getGuilds()):[])};(0,C.openModal)((function(e){return(0,I.jsx)(C.ConfirmModal,_h(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){gh(e,t,n[t])}))}return e}({header:q.Z.Messages.USER_DM_SETTINGS_TITLE,confirmText:q.Z.Messages.NO_TEXT,cancelText:q.Z.Messages.YES_TEXT,onCancel:t,confirmButtonColor:C.Button.Colors.BRAND},e),{children:(0,I.jsx)(C.Text,{variant:"text-md/normal",children:q.Z.Messages.ACTIVITY_RESTRICTION_MODAL_DESC})}))}))}function Oh(){var e=fs.G6.useSetting(),t=fs.Wz.useSetting(),n=Kc.FB?q.Z.Messages.SHOW_CURRENT_ACTIVITY_DESC_EMBEDDED:q.Z.Messages.SHOW_CURRENT_ACTIVITY_DESC;return(0,I.jsxs)(C.FormSection,{className:Pe().marginBottom40,children:[(0,I.jsx)(C.FormTitle,{tag:C.FormTitleTags.H5,className:Pe().marginBottom8,children:q.Z.Messages.ACTIVITY_STATUS}),(0,I.jsx)(C.FormSwitch,{value:e,onChange:function(e){return fs.G6.updateSetting(e)},note:n,children:q.Z.Messages.SHOW_CURRENT_ACTIVITY}),(0,I.jsx)(C.FormSwitch,{value:!t,note:q.Z.Messages.ACTIVITY_RESTRICTION_DEFAULT_NOTE.format({
helpdeskArticle:$s.Z.getArticleURL(se.BhN.ACTIVITY_STATUS_SETTINGS)}),onChange:function(e){return function(e){fs.Wz.updateSetting(e);Th(e)}(!e)},children:q.Z.Messages.ACTIVITY_RESTRICTION_DEFAULT})]})}function bh(){var e=fs.cP.useSetting(),t=fs.Ou.useSetting();return(0,I.jsxs)(C.FormSection,{className:Pe().marginBottom40,children:[(0,I.jsx)(C.FormTitle,{tag:C.FormTitleTags.H5,className:Pe().marginBottom8,children:q.Z.Messages.ACTIVITY_PARTY_PRIVACY}),(0,I.jsx)(C.FormSwitch,{value:e,note:q.Z.Messages.ACTIVITY_PARTY_PRIVACY_FRIENDS_HELP,onChange:function(e){return fs.cP.updateSetting(e)},children:q.Z.Messages.ACTIVITY_PARTY_PRIVACY_FRIENDS}),(0,I.jsx)(C.FormSwitch,{value:t,note:q.Z.Messages.ACTIVITY_PARTY_PRIVACY_VOICE_CHANNEL_HELP,onChange:function(e){return fs.Ou.updateSetting(e)},children:q.Z.Messages.ACTIVITY_PARTY_PRIVACY_VOICE_CHANNEL})]})}function yh(){return(0,I.jsxs)(C.FormSection,{title:q.Z.Messages.BROADCASTING_SETTINGS,className:Pe().marginBottom40,children:[(0,
I.jsx)(C.FormText,{type:C.FormText.Types.DESCRIPTION,className:Pe().marginBottom20,children:q.Z.Messages.BROADCASTING_SETTINGS_DESCRIPTION}),(0,I.jsx)(C.FormItem,{children:(0,I.jsx)(C.Button,{onClick:function(){return(0,Sh.X)()},size:C.ButtonSizes.SMALL,children:q.Z.Messages.BROADCASTING_SETTINGS_CTA})})]})}function Ih(){return(0,I.jsx)(C.FormSection,{className:Pe().marginBottom40,children:(0,I.jsx)(C.FormNotice,{type:C.FormNotice.Types.PRIMARY,body:q.Z.Messages.USER_SETTINGS_PRIVACY_TERMS.format({termsLink:se.EYA.TERMS,privacyLink:se.EYA.PRIVACY})})})}function vh(){var e=Eh.Z.useExperiment({},{autoTrackExposure:!0}).canBroadcast;return(0,I.jsxs)(C.FormSection,{tag:C.FormTitleTags.H1,title:q.Z.Messages.ACTIVITY_PRIVACY,children:[(0,I.jsx)(Oh,{}),(0,I.jsx)(bh,{}),e&&(0,I.jsx)(yh,{}),(0,I.jsx)(Ih,{})]})}var Nh=n(517716),Ah=n(122012),Ch=n(560213),jh=n(761814),xh=n(325213),Ph=n(84894),Rh=n(464698),Mh=n.n(Rh);function Dh(e,t){(null==t||t>e.length)&&(t=e.length)
;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Lh(e,t,n,r,o,i,s){try{var a=e[i](s),l=a.value}catch(e){n(e);return}a.done?t(l):Promise.resolve(l).then(r,o)}function Zh(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){Lh(i,r,o,s,a,"next",e)}function a(e){Lh(i,r,o,s,a,"throw",e)}s(void 0)}))}}function wh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done);s=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){a=!0;o=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Dh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dh(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Uh,Bh=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:s.label++;return{value:i[1],done:!1};case 5:s.label++;r=i[1];i=[0];continue;case 7:i=s.ops.pop();s.trys.pop();continue;default:if(!(o=s.trys,
o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1];o=i;break}if(o&&s.label<o[2]){s.label=o[2];s.ops.push(i);break}o[2]&&s.ops.pop();s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},Gh=/^\d+$|^$/;!function(e){e.LOCALHOST="localhost";e.PROXY="proxy"}(Uh||(Uh={}));function kh(e,t,n){if(null==e)return null;switch(e){case Uh.LOCALHOST:return"https://localhost:".concat(t);case Uh.PROXY:return(0,Ph.Z)(n)}}function Fh(e){var t=e.onClose,n=e.transitionState,o=(0,r.cj)([xh.Z],(function(){return{authorizedApplicationId:xh.Z.testModeApplicationId,authorizationError:xh.Z.error,authorizing:xh.Z.isFetchingAuthorization}
})),i=o.authorizedApplicationId,s=o.authorizationError,a=o.authorizing,l=wh(c.useState(null!=i?i:""),2),d=l[0],f=l[1],p=wh(c.useState("8080"),2),m=p[0],h=p[1],E=wh(c.useState(Uh.LOCALHOST),2),S=E[0],g=E[1],_=(0,_n.Dt)(),T=Gh.test(d);c.useEffect((function(){return function(){return u.Z.wait((function(){return Nh.q$()}))}}),[]);function O(){return(O=Zh((function(){var e;return Bh(this,(function(n){switch(n.label){case 0:Nh.q$();e=kh(S,m,d);return[4,Nh.Wt(d,e)];case 1:null!=n.sent()&&t();return[2]}}))}))).apply(this,arguments)}var b=null!=i&&i===d,y=b?function(){Nh.mc();f("");g(null)}:function(){return O.apply(this,arguments)};return(0,I.jsxs)(C.ModalRoot,{"aria-labelledby":_,transitionState:n,children:[(0,I.jsxs)(C.ModalHeader,{justify:Ne.Z.Justify.BETWEEN,separator:!1,children:[(0,I.jsx)(C.FormTitle,{id:_,tag:"h1",className:Pe().marginReset,children:q.Z.Messages.DEVELOPER_APPLICATION_TEST_MODE_MODAL_HEADER}),(0,I.jsx)(C.ModalCloseButton,{onClick:t})]}),(0,I.jsxs)(C.ModalContent,{
className:Mh().modalContent,children:[(0,I.jsx)(C.FormText,{className:Pe().marginBottom20,type:C.FormText.Types.DESCRIPTION,children:q.Z.Messages.DEVELOPER_APPLICATION_TEST_MODE_MODAL_BODY}),null==s?null:(0,I.jsx)(C.FormErrorBlock,{className:Pe().marginBottom20,children:s}),(0,I.jsx)("form",{onSubmit:function(e){e.preventDefault();y()},children:(0,I.jsxs)(Ne.Z,{direction:Ne.Z.Direction.VERTICAL,align:Ne.Z.Align.START,children:[(0,I.jsx)(C.FormItem,{className:Mh().inputWrapper,title:q.Z.Messages.DEVELOPER_APPLICATION_TEST_MODE_PLACEHOLDER,required:!0,children:(0,I.jsx)(C.TextInput,{value:d,maxLength:19,error:T?null:q.Z.Messages.DEVELOPER_APPLICATION_TEST_MODE_INVALID,onChange:function(e){f(e)},disabled:a})}),(0,I.jsx)(C.FormItem,{className:Mh().inputWrapper,title:q.Z.Messages.DEVELOPER_APPLICATION_TEST_MODE_ORIGIN_LABEL,children:(0,I.jsx)(C.SingleSelect,{isDisabled:!T||""===d,value:S,options:[{value:Uh.LOCALHOST,label:q.Z.Messages.DEVELOPER_APPLICATION_TEST_MODE_LOCALHOST_OPTION,
key:"localhost"},{value:Uh.PROXY,label:q.Z.Messages.DEVELOPER_APPLICATION_TEST_MODE_PROXY_OPTION,key:"proxy"}],onChange:function(e){g(e)},placeholder:"URL Origin Type"})}),S!==Uh.LOCALHOST?null:(0,I.jsx)(C.FormItem,{className:Mh().inputWrapper,title:q.Z.Messages.DEVELOPER_APPLICATION_TEST_MODE_PORT_NUMBER_LABEL,required:!0,children:(0,I.jsx)(C.TextInput,{value:m,maxLength:5,onChange:function(e){return h(e)},disabled:a})}),(0,I.jsx)(C.Button,{submitting:a,type:"submit",disabled:!T||0===d.length||S===Uh.LOCALHOST&&0===m.length,color:b?C.Button.Colors.RED:C.Button.Colors.GREEN,children:b?q.Z.Messages.DEVELOPER_APPLICATION_TEST_MODE_CLEAR:q.Z.Messages.DEVELOPER_APPLICATION_TEST_MODE_ACTIVATE})]})})]})]})}var Hh=n(867761),Yh=n.n(Hh);function Vh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wh(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function zh(e){
for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Wh(e,t,n[t])}))}return e}function Kh(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Qh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],s=!0,a=!1;try{
for(n=n.call(e);!(s=(r=n.next()).done);s=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){a=!0;o=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Vh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vh(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qh(){var e=(0,r.e7)([Ch.Z],(function(){return Ch.Z.getIsEnabled()}),[]),t=Qh(c.useState((function(){return Jo.default.getEnableHardwareAcceleration()})),1)[0],n=fs.bm.useSetting(),o=fs.Sb.useSetting(),i=fs.xU.useSetting(),s=(0,r.cj)([xh.Z,jh.Z],(function(){return{hasLibraryApplication:jh.Z.hasLibraryApplication(),
testModeApplicationId:xh.Z.testModeApplicationId}})),a=s.hasLibraryApplication,l=s.testModeApplicationId,u=c.useCallback((function(e){fs.bm.updateSetting(!e)}),[]),d=c.useCallback((function(e){e?(0,C.openModal)((function(e){return(0,I.jsx)(Fh,zh({},e))})):Nh.mc()}),[]),f=c.useCallback((function(e){(0,C.openModal)((function(t){return(0,I.jsx)(C.ConfirmModal,Kh(zh({header:q.Z.Messages.SWITCH_HARDWARE_ACCELERATION,confirmText:q.Z.Messages.OKAY,cancelText:q.Z.Messages.CANCEL,onConfirm:function(){return Jo.default.setEnableHardwareAcceleration(e)}},t),{children:(0,I.jsx)(C.Text,{variant:"text-sm/normal",children:q.Z.Messages.SWITCH_HARDWARE_ACCELERATION_BODY})}))}))}),[]),p=c.useCallback((function(e){fs.xU.updateSetting(!e)}),[]);return(0,I.jsxs)(C.FormSection,{tag:C.FormTitleTags.H1,title:q.Z.Messages.SETTINGS_ADVANCED,children:[im.wS&&(0,I.jsx)(C.FormSwitch,{value:o,onChange:fs.Sb.updateSetting,note:q.Z.Messages.DEVELOPER_MODE_HELP_TEXT.format({apiDocsUrl:se.EYA.API_DOCS}),
children:q.Z.Messages.DEVELOPER_MODE}),Kc.FB&&(0,I.jsx)(C.FormSwitch,{value:t,onChange:f,note:q.Z.Messages.HARDWARE_ACCELERATION_HELP_TEXT,children:q.Z.Messages.HARDWARE_ACCELERATION}),a&&(0,I.jsx)(C.FormSwitch,{value:!n,onChange:u,note:q.Z.Messages.USER_SETTINGS_SHOW_LIBRARY_NOTE,children:q.Z.Messages.USER_SETTINGS_SHOW_LIBRARY}),o&&(0,I.jsx)(C.FormSwitch,{value:null!=l,note:q.Z.Messages.DEVELOPER_APPLICATION_TEST_MODE_NOTE,onChange:d,children:q.Z.Messages.DEVELOPER_APPLICATION_TEST_MODE}),o&&(0,I.jsx)(C.FormSwitch,{value:e,note:q.Z.Messages.DEVELOPER_ACTIVITY_SHELF_NOTE,onChange:Ah.d,children:q.Z.Messages.DEVELOPER_ACTIVITY_SHELF}),(0,I.jsx)(C.FormSwitch,{value:!i,note:q.Z.Messages.USER_SETTINGS_HOME_AUTO_NAV_HELP_TEXT.format({helpCenterLink:$s.Z.getArticleURL(se.BhN.GUILD_HOME)}),onChange:p,children:(0,I.jsxs)("div",{className:Yh().badgedItem,children:[q.Z.Messages.USER_SETTINGS_HOME_AUTO_NAV,(0,I.jsx)(On.IG,{text:q.Z.Messages.BETA,color:A.Z.unsafe_rawColors.BRAND_500.css,
className:Yh().betaTag})]})})]})}var Xh=n(944010),$h=n(241166),Jh=n(908259),eE=n(111603),tE=n(379991),nE=n(72725),rE=n(900659),oE=n(777350),iE=n.n(oE),sE=function(){(0,Ml.EW)(N.z$.CLIENT_THEMES_SPARKLE_PREVIEW,{dismissAction:Sc.L.PRIMARY,forceTrack:!0});(0,nE.bM)();(0,He.xf)()},aE=function(){var e=(0,D.Z)(_r.Z.USER_SETTINGS).analyticsLocations,t=(0,r.e7)([Jh.Z],(function(){return Jh.Z.isPreview}));c.useEffect((function(){t&&to.default.track(se.rMx.PREMIUM_UPSELL_VIEWED,{type:S.cd.PREMIUM_CLIENT_THEME_TRY_IT_OUT,location_stack:e})}),[t,e]);return(0,I.jsxs)("div",{children:[(0,I.jsxs)(rE.ZP,{type:rE.yH.SETTINGS,children:[(0,I.jsx)(rE.ZP.Basic,{className:iE().basicThemeSelectors}),(0,I.jsx)(Fs,{className:iE().featureBorder,isShown:t,type:Ds.PREMIUM,children:(0,I.jsx)(rE.ZP.Gradient,{disabled:t,renderCTAButtons:function(){return t?(0,I.jsxs)("div",{className:iE().tryItOutButtons,children:[(0,I.jsx)(C.Button,{color:C.Button.Colors.PRIMARY,onClick:function(){return sE()},
children:q.Z.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_THEME_TITLE}),(0,I.jsx)(Qo.Z,{subscriptionTier:S.Si.TIER_2,buttonText:q.Z.Messages.USER_SETTINGS_CUSTOMIZATION_UPSELL,className:iE().premiumCta})]}):null}})})]}),(0,I.jsx)(C.FormDivider,{className:Pe().marginTop20})]})},lE=function(){return(0,r.e7)([Jh.Z],(function(){return Jh.Z.isPreview}))?null:(0,I.jsx)(C.Button,{size:C.ButtonSizes.SMALL,onClick:function(){return sE()},children:q.Z.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_THEMES_TITLE})},cE=n(493254),uE=n(57373),dE=n(450331),fE=n.n(dE);function pE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mE(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function hE(e){hE=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return hE(e)}function EE(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){mE(e,t,n[t])}))}return e}function SE(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function gE(e,t){return!t||"object"!==TE(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _E(e,t){_E=Object.setPrototypeOf||function(e,t){e.__proto__=t
;return e};return _E(e,t)}var TE=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function OE(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=hE(e);if(t){var o=hE(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return gE(this,n)}}var bE="cozy",yE="compact",IE=(0,_n.hQ)(),vE=(0,_n.hQ)(),NE=(0,_n.hQ)(),AE="1337",CE=function(e){var t=0;return[(0,Of.e5)(SE(EE({},(0,bf.ZP)({channelId:AE,content:q.Z.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_1})),{state:se.yb.SENT,id:"".concat(t++)})),(0,Of.e5)(SE(EE({},(0,bf.ZP)({channelId:AE,content:(0,ip.wj)(e)?q.Z.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_2_DARK:q.Z.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_2_LIGHT
})),{state:se.yb.SENT,id:"".concat(t++)})),(0,Of.e5)(SE(EE({},(0,bf.ZP)({channelId:AE,content:q.Z.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_3})),{state:se.yb.SENT,id:"".concat(t++)})),(0,Of.e5)(SE(EE({},(0,bf.ZP)({channelId:AE,content:q.Z.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_4})),{state:se.yb.SENT,id:"".concat(t++)})),(0,Of.e5)(SE(EE({},(0,bf.ZP)({channelId:AE,content:q.Z.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_5})),{state:se.yb.SENT,id:"".concat(4)}))]},jE=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&_E(e,t)}(n,e);var t=OE(n);function n(){pE(this,n);var e;(e=t.apply(this,arguments)).darkMessages=CE(se.BRd.DARK);e.lightMessages=CE(se.BRd.LIGHT);e.handleDisplayCompactAvatarsChanged=function(e){Xh.ZP.updatedUnsyncedSettings({displayCompactAvatars:e})}
;e.handleMessageDisplayModeChange=function(e){var t=e.value;fs.jU.updateSetting(t===yE);(0,_f.ZZ)()};return e}var r=n.prototype;r.renderZoomSlider=function(){return Kc.FB?(0,I.jsxs)(C.FormItem,{className:Pe().marginTop20,children:[(0,I.jsx)(C.FormTitle,{id:IE,tag:C.FormTitleTags.H5,className:Pe().marginBottom8,children:q.Z.Messages.ACCESSIBILITY_ZOOM_LEVEL_LABEL}),(0,I.jsx)(C.Slider,{className:B()(Pe().marginTop20,Pe().marginBottom4),initialValue:this.props.zoom,defaultValue:se.yqN.ZOOM_DEFAULT,markers:se.yqN.ZOOM_SCALES,stickToMarkers:!0,onValueChange:this.handleZoomChange,onValueRender:this.handleSliderRender,"aria-labelledby":IE}),(0,I.jsx)(C.FormText,{type:C.FormText.Types.DESCRIPTION,children:q.Z.Messages.USER_SETTINGS_APPEARANCE_ZOOM_TIP.format({modKey:$h.Z.modKey})})]}):null};r.renderFontScaleSlider=function(){return(0,I.jsxs)(C.FormItem,{className:Pe().marginTop20,children:[(0,I.jsx)(C.FormTitle,{id:vE,tag:C.FormTitleTags.H5,className:Pe().marginBottom8,
children:q.Z.Messages.ACCESSIBILITY_FONT_SCALING_LABEL}),(0,I.jsx)(Ne.Z,{align:Ne.Z.Align.CENTER,children:(0,I.jsx)(C.Slider,{className:B()(Pe().marginTop20,Pe().marginBottom4),initialValue:this.props.fontSize,defaultValue:se.yqN.FONT_SIZE_DEFAULT,markers:se.yqN.FONT_SIZES,stickToMarkers:!0,onValueChange:this.handleFontSizeChange,onValueRender:this.handleSliderRenderPX,onMarkerRender:this.handleSliderRenderPX,getAriaValueText:this.handleSliderValueText,"aria-labelledby":vE})})]})};r.renderMessageGroupSpacingSlider=function(){var e=this.props,t=e.messageDisplayCompact,n=e.messageGroupSpacing;return(0,I.jsxs)(C.FormItem,{className:Pe().marginTop20,children:[(0,I.jsx)(C.FormTitle,{id:NE,tag:C.FormTitleTags.H5,className:Pe().marginBottom8,children:q.Z.Messages.ACCESSIBILITY_MESSAGE_GROUP_SPACING}),(0,I.jsx)(C.Slider,{className:B()(Pe().marginTop20,Pe().marginBottom4),initialValue:n,defaultValue:t?cE.c8:cE.pq,markers:cE.fP,stickToMarkers:!0,onValueChange:this.handleMessageSpacingChange,
onValueRender:this.handleSliderRenderPX,onMarkerRender:this.handleSliderRenderPX,getAriaValueText:this.handleSliderValueText,"aria-labelledby":NE})]})};r.renderPreview=function(){var e=this.props,t=e.messageDisplayCompact,n=e.theme,r=e.messageGroupSpacing,o=e.hideSimpleEmbedContent,i=(0,ip.wj)(n)?this.darkMessages:this.lightMessages;return(0,I.jsx)(C.FocusBlock,{children:(0,I.jsx)(C.Card,{className:B()(fE().preview,Pe().marginBottom40,t?fE().compactPreview:void 0,"group-spacing-".concat(null!=r?r:t?cE.c8:cE.pq)),outline:!0,"aria-hidden":!0,children:i.map((function(e,n){return(0,I.jsx)(If.Z,{author:(0,yf.ZH)(e),message:e,compact:t,isGroupStart:n%2==0,className:0===n?fE().firstMessage:void 0,hideSimpleEmbedContent:o},e.id)}))})})};r.renderTheme=function(){var e=this.props,t=e.theme,n=e.useForcedColors,r=e.useAMOLEDTheme,o=e.darkSidebar,i=e.gradientPreset,s=eE.Z.getCurrentConfig({},{autoTrackExposure:!1}).enabledAMOLEDThemeOption;return n?(0,I.jsx)(C.FormItem,{
className:B()(Pe().marginTop8,Pe().marginBottom40),title:(0,I.jsx)("div",{className:fE().themeTitle,children:(0,I.jsx)("div",{className:fE().title,children:q.Z.Messages.THEME})}),children:(0,I.jsx)(C.FormText,{type:C.FormText.Types.DEFAULT,className:fE().forcedColorsWarning,children:(0,Tf.b)()?q.Z.Messages.THEME_DISABLED_FOR_CONTRAST_SYNC.format({onClick:function(){P.Z.open(se.oAB.ACCESSIBILITY)}}):q.Z.Messages.THEME_DISABLED_FOR_FORCED_COLORS})}):(0,I.jsxs)(C.FormItem,{className:Pe().marginTop8,title:(0,I.jsxs)("div",{className:fE().themeTitle,children:[(0,I.jsx)("div",{className:fE().title,children:q.Z.Messages.THEME}),(0,I.jsx)(lE,{})]}),children:[(0,I.jsx)(aE,{}),s&&(0,I.jsx)(C.FormSwitch,{value:r===uE.W.ON,onChange:this.handleAMOLEDThemeChange,className:Pe().marginTop20,note:q.Z.Messages.EXPERIMENTAL_AMOLED_MODE_NOTE,children:"AMOLED Mode (Staff Only)"}),(0,I.jsx)(C.FormSwitch,{value:o&&(0,ip.ap)(t)&&!n,disabled:t!==se.BRd.LIGHT||n||null!=i,onChange:this.handleDarkSidebarChecked,
className:Pe().marginTop20,children:q.Z.Messages.ACCESSIBILITY_DARK_SIDEBAR})]})};r.renderDisplayMode=function(){return(0,I.jsxs)(C.FormItem,{title:q.Z.Messages.MESSAGE_DISPLAY_MODE_LABEL,className:Pe().marginTop8,children:[(0,I.jsx)(C.RadioGroup,{options:[{name:q.Z.Messages.COZY_MODE,value:bE},{name:q.Z.Messages.COMPACT_MODE,value:yE}],onChange:this.handleMessageDisplayModeChange,value:this.props.messageDisplayCompact?yE:bE}),(0,I.jsx)(C.FormSwitch,{value:this.props.messageDisplayCompact&&this.props.displayCompactAvatars,disabled:!this.props.messageDisplayCompact,onChange:this.handleDisplayCompactAvatarsChanged,className:Pe().marginTop20,children:q.Z.Messages.DISPLAY_COMPACT_AVATARS})]})};r.handleDarkSidebarChecked=function(){(0,_f.lq)()};r.handleAMOLEDThemeChange=function(e){u.Z.dispatch({type:"UNSYNCED_USER_SETTINGS_UPDATE",settings:{useAMOLEDTheme:e?uE.W.ON:uE.W.OFF}})};r.renderScalingAndSpacing=function(){return(0,I.jsxs)(I.Fragment,{
children:[this.renderFontScaleSlider(),this.renderMessageGroupSpacingSlider(),this.renderZoomSlider(),(0,I.jsx)(C.FormDivider,{className:Pe().marginTop20})]})};r.render=function(){return(0,I.jsxs)(C.FormSection,{tag:C.FormTitleTags.H1,title:q.Z.Messages.APPEARANCE,children:[this.renderPreview(),this.renderTheme(),this.renderDisplayMode(),this.renderScalingAndSpacing(),(0,I.jsx)(C.Text,{variant:"text-md/normal",className:Pe().marginTop20,children:q.Z.Messages.APPEARANCE_SETTINGS_ACCESSIBILITY_LINK.format({onAccessibilityClick:function(){P.Z.open(se.oAB.ACCESSIBILITY)}})})]})};r.handleSliderRender=function(e){return"".concat(e.toFixed(0),"%")};r.handleSliderRenderPX=function(e){return"".concat(e.toFixed(0),"px")};r.handleSliderValueText=function(e){return q.Z.Messages.PIXEL_VALUE_A11Y_TEXT.format({value:e})};r.handleFontSizeChange=function(e){(0,_f.oL)(e)};r.handleMessageSpacingChange=function(e){switch(e){case 0:case 4:case 8:case 16:case 24:(0,_f.ZZ)(e)}}
;r.handleZoomChange=function(e){(0,_f.cq)(e)};return n}(c.Component);function xE(){var e,t=fs.jU.useSetting(),n=fs.RS.useSetting(),o=fs.NA.useSetting(),i=fs.L1.useSetting();c.useEffect((function(){(0,Ml.EW)(N.z$.CLIENT_THEMES_SETTINGS_BADGE,{dismissAction:Sc.L.AUTO,forceTrack:!0})}),[]);var s=(0,r.cj)([Tp.Z,tE.ZP,Ye.Z,d.default,Jh.Z],(function(){var t;return{theme:Tp.Z.theme,useForcedColors:Ye.Z.useForcedColors,useSystemTheme:tE.ZP.useSystemTheme,useAMOLEDTheme:tE.ZP.useAMOLEDTheme,darkSidebar:Tp.Z.darkSidebar,fontSize:Ye.Z.fontSize,zoom:Ye.Z.zoom,messageGroupSpacing:Ye.Z.messageGroupSpacing,displayCompactAvatars:tE.ZP.displayCompactAvatars,isStaff:null!==(e=null===(t=d.default.getCurrentUser())||void 0===t?void 0:t.isStaff)&&void 0!==e&&e,gradientPreset:Jh.Z.gradientPreset}}));return(0,I.jsx)(jE,EE({messageDisplayCompact:t,hideSimpleEmbedContent:n&&o,clientTheme:i},s))}const PE={fetch:function(){jc.Z.get({url:se.ANM.OAUTH2_TOKENS,oldFormErrors:!0}).then((function(e){
return u.Z.dispatch({type:"USER_AUTHORIZED_APPS_UPDATE",apps:e.body})}),(function(){return u.Z.dispatch({type:"USER_AUTHORIZED_APPS_UPDATE",apps:[]})}))},delete:function(e){var t=this;jc.Z.delete({url:se.ANM.OAUTH2_TOKEN(e),oldFormErrors:!0}).then((function(){t.fetch()}))}};var RE=n(895303),ME=n(582762),DE=n(258104),LE=n(234831),ZE=n(13066),wE=n(327860),UE=n(895724),BE=n(254758);function GE(e){return BE.t.XBOX_APPLICATION_ID===e||BE.M.PLAYSTATION_APPLICATION_IDS.has(e)}var kE=n(517672),FE=n(185313),HE=n.n(FE);function YE(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function VE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){YE(e,t,n[t])}))}return e}
var WE=r.ZP.connectStores([Tp.Z],(function(){return{theme:Tp.Z.theme}}))(wE.ZP);function zE(e){var t=e.application;return(0,I.jsxs)("div",{className:HE().twoWayWarning,children:[(0,I.jsx)(UE.Z,{className:HE().twoWayWarningIcon}),(0,I.jsx)(C.Text,{color:"text-normal",variant:"text-sm/medium",children:q.Z.Messages.AUTHORIZED_APP_IS_CONNECTED_ACCOUNT.format({applicationName:t.name,onConnectionPress:function(){return P.Z.setSection(se.jXE.SETTINGS_CONNECTIONS)}})})]})}var KE=function(e){var t,n,r=e.scopes,o=e.application,i=e.onDelete,s=function(){var e=q.Z.Messages.DELETE_APP_CONFIRM_MSG;GE(o.id)&&(e=(0,I.jsxs)(I.Fragment,{children:[e,(0,I.jsx)(kE.Z,{className:HE().infoBox,children:q.Z.Messages.AUTHORIZED_APP_IS_CONNECTED_ACCOUNT_DISCONNECT_WARNING.format({applicationName:o.name})})]}));return(0,C.openModal)((function(t){return(0,I.jsx)(RE.default,VE({title:q.Z.Messages.DEAUTHORIZE_APP,body:e,confirmText:q.Z.Messages.DEAUTHORIZE,cancelText:q.Z.Messages.CANCEL,onConfirm:i},t))}))
},a=GE(o.id);return(0,I.jsx)(C.Card,{className:B()(HE().authedApp,Pe().marginBottom8),outline:!0,children:(0,I.jsxs)(C.HeadingLevel,{component:(t=$o.ZP.getApplicationIconURL({id:o.id,icon:o.icon}),n=null!=t?(0,I.jsx)(Ne.Z.Child,{className:HE().appAvatar,grow:0,children:(0,I.jsx)("img",{src:t,alt:""})}):null,(0,I.jsxs)(Ne.Z,{className:B()(HE().header,Pe().marginBottom20),children:[(0,I.jsxs)(Ne.Z,{className:HE().headerInfo,children:[n,(0,I.jsx)(Ne.Z.Child,{children:(0,I.jsx)(C.Heading,{variant:"text-sm/semibold",children:o.name})})]}),(0,I.jsx)(Ne.Z.Child,{wrap:!0,grow:0,children:(0,I.jsx)(C.Button,{className:HE().deleteApp,color:C.ButtonColors.RED,look:C.ButtonLooks.OUTLINED,size:C.ButtonSizes.SMALL,onClick:s,children:q.Z.Messages.DEAUTHORIZE})})]})),children:[function(){if(null!=o.description&&""!==o.description)return(0,I.jsx)(C.FormItem,{faded:!0,title:q.Z.Messages.ABOUT_THIS_APP,children:(0,I.jsx)(C.FormText,{children:o.description})})}(),function(){var e=r.map((function(e){
return(0,I.jsxs)("li",{className:B()(HE().permission,Pe().marginTop8),children:[(0,I.jsx)("i",{className:HE().permissionCheckmark}),(0,I.jsx)(C.FormText,{children:(0,LE.jW)(e,r)})]},e)}));if(e.length>0)return(0,I.jsx)(C.FormItem,{faded:!0,title:q.Z.Messages.PERMISSIONS,className:Pe().marginTop20,children:(0,I.jsx)("ul",{children:e})})}(),a&&(0,I.jsx)(zE,{application:o})]})})};const QE=function(){var e=(0,r.e7)([$r.Z],(function(){return $r.Z.hidePersonalInformation})),t=(0,r.e7)([ZE.Z],(function(){return ZE.Z.getApps()})),o=(0,r.e7)([DE.ZP],(function(){return DE.ZP.getSelfEmbeddedActivities()}));c.useEffect((function(){PE.fetch()}),[]);return e?(0,I.jsx)(zt.Z,{}):(0,I.jsx)(C.FormSection,{tag:C.FormTitleTags.H1,title:q.Z.Messages.AUTHORIZED_APPS,children:(0,I.jsx)(C.HeadingLevel,{component:(0,I.jsx)(C.FormNotice,{className:Pe().marginBottom40,type:C.CardTypes.PRIMARY,title:q.Z.Messages.APPLICATIONS_AND_CONNECTIONS,body:q.Z.Messages.APPLICATIONS_AND_CONNECTIONS_BODY}),children:null==t?(0,
I.jsx)(C.Spinner,{className:Pe().marginTop20,type:C.Spinner.Type.SPINNING_CIRCLE}):0===t.length?(0,I.jsxs)(WE,{className:HE().marginTop20,children:[(0,I.jsx)(wE.ox,{darkSrc:n(3874),lightSrc:n(302255),width:380,height:282}),(0,I.jsx)(wE.OZ,{note:q.Z.Messages.NO_AUTHORIZED_APPS_NOTE,children:q.Z.Messages.NO_AUTHORIZED_APPS})]}):t.sort((function(e,t){return e.application.name.localeCompare(t.application.name)})).map((function(e){return(0,I.jsx)(KE,VE({onDelete:function(){return function(e){var t=e.id,n=e.application;PE.delete(t);var r=o.get(n.id);null!=r&&(0,ME.mW)({channelId:r.channelId,applicationId:n.id})}(e)}},e),e.id)}))})})};var qE=n(487683),XE=n(842227),$E=n(97990),JE=n(447246),eS=n(370521),tS=n(658025),nS=n(799105),rS=/[^0-9/]/g;function oS(e){var t=e.replace(rS,"").split("/"),n=t[0],r=t[1],o=[];parseInt(n,10)>12&&(n=n.substring(0,1));o.push(n);(parseInt(n,10)>1||2===n.length||null!=r&&""!==r)&&o.push("/");null!=r&&""!==r&&parseInt(r,10)>99&&(r=(r+"").substring(0,2));o.push(r)
;return o.join("")}function iS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sS(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function aS(e){aS=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return aS(e)}function lS(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function cS(e,t){return!t||"object"!==dS(t)&&"function"!=typeof t?function(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function uS(e,t){uS=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return uS(e,t)}var dS=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function fS(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=aS(e);if(t){var o=aS(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return cS(this,n)}}var pS=/[^0-9]/g,mS=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&uS(e,t)
}(n,e);var t=fS(n);function n(){iS(this,n);var e;(e=t.apply(this,arguments)).selectionStart=0;e.setRef=function(t){var n=e.props.inputRef;e._inputRef=t;null!=n&&n(t)};e.handleChange=function(t,n){var r=e.props,o=r.value,i=r.onChange,s=e._inputRef;if(t!==o&&null!=s&&null!=o){var a=oS(t),l=s.selectionStart;a===o&&a.length<=3&&o.includes("/")&&!t.includes("/")?a=a.replace(pS,""):a===o&&t.includes("/")&&!o.includes("/")&&(a+="/");a.length>t.length&&(l+=a.length-t.length);e.selectionStart=l;null!=i&&i(a,n)}};return e}var r=n.prototype;r.componentDidUpdate=function(e){var t=this._inputRef;e.value!==this.props.value&&null!=t&&t.setSelectionRange(this.selectionStart,this.selectionStart)};r.render=function(){return(0,I.jsx)(C.TextInput,lS(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){sS(e,t,n[t])}))}return e}({},this.props),{inputMode:"numeric",onChange:this.handleChange,inputRef:this.setRef}))};return n}(c.PureComponent);const hS=mS;var ES,SS=n(260843),gS=n(566108),_S=n.n(gS);function TS(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function OS(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function bS(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done);s=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){a=!0;o=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return TS(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TS(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}!function(e){e.EXPIRATION_DATE="expirationDate"}(ES||(ES={}));var yS=OS({},ES.EXPIRATION_DATE,{name:ES.EXPIRATION_DATE,id:(0,_n.hQ)(),title:function(){return q.Z.Messages.CREDIT_CARD_EXPIRATION_DATE},autoComplete:"cc-exp",placeholder:function(){return q.Z.Messages.PAYMENT_SOURCE_EXPIRATION_DATE_PLACEHOLDER},pattern:"\\d*",getClassNameForLayout:function(){return _S().width50},renderInput:function(e){return(0,I.jsx)(hS,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){OS(e,t,n[t])}))}return e}({},e))}}),IS=[{fields:[yS[ES.EXPIRATION_DATE]]}];const vS=function(e){var t=e.onCardInfoChange,n=e.className,r=e.expirationDate,o=e.error,i=bS(c.useState(!1),2),s=i[0],a=i[1],l=bS(c.useState(null),2),u=l[0],d=l[1],f=bS(c.useState(r),2),p=f[0],m=f[1];c.useEffect((function(){t({expirationDate:p},null===u)}),[p,t,u]);return(0,I.jsx)(SS.Z,{className:n,form:IS,values:{expirationDate:p},errors:null!=u?{expirationDate:u}:{},formError:o,onFieldChange:function(e){s||""===e||a(!0);s&&""===e||!(0,nS.eH)(e)?d(q.Z.Messages.CREDIT_CARD_ERROR_EXPIRATION):d(null);m(e)}})};var NS=n(794249),AS=n(371944),CS=n.n(AS);function jS(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xS(e,t,n){t in e?Object.defineProperty(e,t,{value:n,
enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function PS(e){PS=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return PS(e)}function RS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){xS(e,t,n[t])}))}return e}function MS(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function DS(e,t){
return!t||"object"!==wS(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function LS(e,t){LS=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return LS(e,t)}function ZS(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done);s=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){a=!0;o=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return jS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jS(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var wS=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function US(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=PS(e);if(t){var o=PS(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return DS(this,n)}}var BS="isDefault",GS=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&LS(e,t)}(n,e);var t=US(n);function n(e){!function(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r;(r=t.call(this,e)).handleSubmit=function(e){e.preventDefault();e.stopPropagation();if(0===Object.values(r.state.dirtyFields).filter(tt.lm).length)r.props.onCancel();else{var t=r.state,n=t.billingAddress,o=t.isDefault,i=t.expiresMonth,s=t.expiresYear;r.props.onSubmit(r.props.paymentSource.id,{billingAddress:n,expiresMonth:i,expiresYear:s,isDefault:o})}};r.handleCancel=function(){r.props.onCancel()};r.handleDelete=function(){var e=r.props;(0,e.onDelete)(e.paymentSource.id)};r.handleAddressUpdate=function(e,t,n){r.setState({billingAddress:e,billingAddressValid:t,dirtyFields:MS(RS({},r.state.dirtyFields),{billingAddress:n})})};r.handleExpirationDateUpdate=function(e,t){var n=e.expirationDate;r.setState({expirationValid:t});if(null!=n&&""!==n){var o=ZS(n.split("/"),2),i=o[0],s=o[1];r.handleFieldChange(Number(i),"expiresMonth")
;r.handleFieldChange(Number("".concat((new Date).getFullYear().toString().slice(0,2)).concat(s)),"expiresYear")}};r.handleFieldChange=function(e,t){if(null!=t){var n;r.setState((xS(n={},t,e),xS(n,"dirtyFields",MS(RS({},r.state.dirtyFields),xS({},t,!0))),n))}};var o,i,s,a,l,c,u,d=e.paymentSource,f=e.isDefault,p=d.billingAddress;r.state={billingAddress:{name:null!==(o=p.name)&&void 0!==o?o:"",line1:null!==(i=p.line1)&&void 0!==i?i:"",line2:null!==(s=p.line2)&&void 0!==s?s:"",country:null!==(a=p.country)&&void 0!==a?a:"",state:null!==(l=p.state)&&void 0!==l?l:"",city:null!==(c=p.city)&&void 0!==c?c:"",postalCode:null!==(u=p.postalCode)&&void 0!==u?u:""},expiresMonth:d instanceof eS.dm?d.expiresMonth:void 0,expiresYear:d instanceof eS.dm?d.expiresYear:void 0,billingAddressValid:!1,isDefault:f,expirationValid:!0,dirtyFields:{}};return r}var r=n.prototype;r.componentWillUnmount=function(){u.Z.wait((function(){(0,Ht._H)();(0,Ht.w7)()}))};r.renderError=function(){
var e=this.props,t=e.updateError,n=e.removeError;return null==t||t.hasCardError()||t.hasAddressError()?null!=n?(0,I.jsx)(C.FormErrorBlock,{className:CS().formError,children:n.message}):null:(0,I.jsx)(C.FormErrorBlock,{className:CS().formError,children:t.message})};r.renderBillingAddressSection=function(){var e=this.state.billingAddress,t=this.props,n=t.updateError,r=function(e){return[se.HeQ.CARD,se.HeQ.VENMO].includes(e.type)&&"US"===e.country?tr.tq?tS.Z.Layouts.SETTINGS_US_MOBILE:tS.Z.Layouts.SETTINGS_US:e.type===se.HeQ.CARD&&"US"!==e.country?tr.tq?tS.Z.Layouts.SETTINGS_INTL_MOBILE:tS.Z.Layouts.SETTINGS_INTL:tr.tq?tS.Z.Layouts.SETTINGS_INTL_NO_NAME_MOBILE:tS.Z.Layouts.SETTINGS_INTL_NO_NAME}(t.paymentSource);return(0,I.jsxs)("div",{className:CS().addressSection,children:[(0,I.jsx)(C.Text,{className:CS().sectionHeader,variant:"text-sm/normal",children:q.Z.Messages.BILLING_ADDRESS}),(0,I.jsx)(tS.Z,MS(RS({},e),{mode:tS.Z.Modes.EDIT,layout:r,
onBillingAddressChange:this.handleAddressUpdate,error:n}))]})};r.renderCardExpirationSection=function(){var e=this.state,t=e.expiresMonth,n=e.expiresYear;if(null==t||null==n)return null;var r="".concat(t.toString().padStart(2,"0"),"/").concat(n.toString().padStart(2,"0").slice(-2));return(0,I.jsxs)("div",{className:CS().addressSection,children:[(0,I.jsx)(C.Text,{className:CS().sectionHeader,variant:"text-sm/normal",children:q.Z.Messages.BILLING_STEP_CREDIT_CARD_INFORMATION}),(0,I.jsx)(vS,{expirationDate:r,onCardInfoChange:this.handleExpirationDateUpdate,error:this.props.updateError})]})};r.renderActions=function(){var e=this.props,t=e.submitting,n=e.removing,r=e.isForSubscription,o=this.state,i=o.billingAddressValid,s=o.expirationValid;return(0,I.jsxs)("div",{className:CS().formActions,children:[(0,I.jsx)("div",{className:CS().leftAlignedButtons,children:(0,I.jsxs)("div",{className:CS().disabledTooltipWrapper,children:[r?(0,I.jsx)(C.Tooltip,{
text:q.Z.Messages.PAYMENT_SOURCE_DELETE_DISABLED_TOOLTIP,children:function(e){return(0,I.jsx)("div",RS({"aria-hidden":!0,className:CS().disabledTooltipTarget},e))}}):null,(0,I.jsx)(C.Button,{type:"button",disabled:r||t,submitting:n,onClick:this.handleDelete,look:C.Button.Looks.OUTLINED,color:C.Button.Colors.RED,size:tr.tq?C.ButtonSizes.SMALL:C.ButtonSizes.MEDIUM,children:tr.tq?q.Z.Messages.DELETE:q.Z.Messages.PAYMENT_SOURCE_DELETE})]})}),(0,I.jsxs)("div",{className:CS().rightAlignedButtons,children:[(0,I.jsx)(C.Button,{type:"button",disabled:t||n,onClick:this.handleCancel,look:C.Button.Looks.LINK,color:C.Button.Colors.PRIMARY,size:tr.tq?C.ButtonSizes.SMALL:C.ButtonSizes.MEDIUM,children:q.Z.Messages.CANCEL}),(0,I.jsx)(C.Button,{submitting:t,disabled:!i||n||!s,type:"submit",color:C.Button.Colors.GREEN,size:tr.tq?C.ButtonSizes.SMALL:C.ButtonSizes.MEDIUM,children:q.Z.Messages.SAVE})]})]})};r.render=function(){
var e=this,t=this.props,n=t.paymentSource,r=t.isDefault,o=t.locale,i=t.className,s=t.isForSubscription,a=this.state.isDefault,l=n instanceof eS.qo;return(0,I.jsx)(C.Card,{editable:!0,className:B()(CS().card,i),children:(0,I.jsxs)("form",{onSubmit:this.handleSubmit,noValidate:!0,children:[this.renderError(),(0,I.jsxs)("div",{className:CS().paymentSection,children:[(0,I.jsx)(NS.Z,{paymentSource:n,isDefault:r,isForSubscription:s,locale:o}),n.invalid?(0,I.jsx)("div",{className:CS().errorSubText,children:q.Z.Messages.PAYMENT_SOURCE_INVALID_HELP}):null,(0,I.jsx)("div",{className:CS().subText,children:l?q.Z.Messages.PAYMENT_SOURCE_EDIT_HELP_PAYPAL.format({paypalURL:"https://www.paypal.com"}):q.Z.Messages.PAYMENT_SOURCE_EDIT_HELP_CARD})]}),this.renderCardExpirationSection(),this.renderBillingAddressSection(),(0,I.jsx)(C.Checkbox,{name:BS,value:a,onChange:function(t,n){return e.handleFieldChange(n,BS)},type:C.Checkbox.Types.INVERTED,className:CS().defaultSection,children:(0,I.jsx)(C.Text,{
className:CS().defaultCheckboxLabel,variant:"text-sm/normal",children:q.Z.Messages.PAYMENT_SOURCE_MAKE_DEFAULT})}),(0,I.jsx)(C.FormDivider,{}),this.renderActions()]})})};return n}(c.PureComponent);GS.defaultProps={onDelete:function(){},onSubmit:function(){},onCancel:function(){}};const kS=r.ZP.connectStores([Jr.Z],(function(){return{updateError:Jr.Z.editSourceError,removeError:Jr.Z.removeSourceError}}))(GS);var FS=n(215276),HS=n.n(FS);function YS(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VS(e,t,n,r,o,i,s){try{var a=e[i](s),l=a.value}catch(e){n(e);return}a.done?t(l):Promise.resolve(l).then(r,o)}function WS(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){VS(i,r,o,s,a,"next",e)}function a(e){VS(i,r,o,s,a,"throw",e)}s(void 0)}))}}function zS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KS(e,t,n){
t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function QS(e){QS=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return QS(e)}function qS(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&eg(e,t)}function XS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){KS(e,t,n[t])}))}return e}function $S(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){
var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function JS(e,t){return!t||"object"!==tg(t)&&"function"!=typeof t?YS(e):t}function eg(e,t){eg=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return eg(e,t)}var tg=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function ng(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=QS(e);if(t){var o=QS(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return JS(this,n)}}var rg=function(e,t){var n,r,o,i,s={label:0,
sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:s.label++;return{value:i[1],done:!1};case 5:s.label++;r=i[1];i=[0];continue;case 7:i=s.ops.pop();s.trys.pop();continue;default:if(!(o=s.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1];o=i;break}if(o&&s.label<o[2]){s.label=o[2];s.ops.push(i);break}o[2]&&s.ops.pop();s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{
value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},og=function(e){qS(n,e);var t=ng(n);function n(){zS(this,n);var e;(e=t.apply(this,arguments)).handleEditClick=function(){e.props.onEditClick(e.props.paymentSource.id)};return e}n.prototype.render=function(){var e=this.props,t=e.paymentSource,n=e.isDefault,r=e.isEditing,o=e.index,i=e.hideDivider,s=e.isForSubscription,a=e.locale,l=e.removing,c=e.submitting,u=e.onSubmit,d=e.onCancel,f=e.onDelete;return r?(0,I.jsx)(kS,{paymentSource:t,isDefault:n,removing:l,submitting:c,locale:a,isForSubscription:s,onSubmit:u,onCancel:d,onDelete:f}):(0,I.jsxs)("div",{className:HS().paymentSourceItem,children:[o>0&&!i?(0,I.jsx)(C.FormDivider,{className:HS().sourceDivider}):null,(0,I.jsxs)(Ne.Z,{align:Ne.Z.Align.CENTER,justify:Ne.Z.Justify.BETWEEN,className:HS().paymentSourceRow,children:[(0,I.jsx)(NS.Z,{paymentSource:t,isDefault:n,isForSubscription:s,locale:a,showSubtext:!0}),r?null:(0,I.jsx)(C.Button,{color:C.Button.Colors.PRIMARY,onClick:this.handleEditClick,
size:C.Button.Sizes.SMALL,children:q.Z.Messages.EDIT})]})]})};return n}(c.PureComponent);og.defaultProps={isEditing:!1,hideDivider:!1,onEditClick:function(){}};var ig=function(e){qS(r,e);var t=ng(r);function r(){zS(this,r);var e;(e=t.apply(this,arguments)).state={editingPayment:null};e.handleEditClick=function(t){e.setState({editingPayment:t})};e.handleCancel=function(){e.setState({editingPayment:null})};var o,i=YS(e);e.handleDelete=(o=WS((function(e){return rg(this,(function(t){switch(t.label){case 0:t.trys.push([0,2,,3]);return[4,Ht.xt(e)];case 1:t.sent();i.setState({editingPayment:null});return[3,3];case 2:t.sent();return[3,3];case 3:return[2]}}))})),function(e){return o.apply(this,arguments)});var s=YS(e);e.handleSubmit=function(){var e=WS((function(e,t){return rg(this,(function(n){switch(n.label){case 0:if(null==e)return[3,4];n.label=1;case 1:n.trys.push([1,3,,4]);return[4,Ht.LI(e,t)];case 2:n.sent();s.setState({editingPayment:null});return[3,4];case 3:n.sent();return[3,4];case 4:
return[2]}}))}));return function(t,n){return e.apply(this,arguments)}}();e.handlePaymentSourceAdded=function(){var e=WS((function(e){return rg(this,(function(t){switch(t.label){case 0:return[4,(0,JE.i1)(e.id)];case 1:t.sent();return[2]}}))}));return function(t){return e.apply(this,arguments)}}();e.handleAddPaymentMethod=function(){var t=YS(e);(0,C.openModalLazy)(WS((function(){var e,r;return rg(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(38039),n.e(27059),n.e(84501)]).then(n.bind(n,184501))];case 1:e=o.sent(),r=e.default;return[2,function(e){return(0,I.jsx)(r,$S(XS({},e),{onAddPaymentSource:t.handlePaymentSourceAdded}))}]}}))})),{onCloseCallback:function(){(0,hd.fw)()}})};return e}var o=r.prototype;o.renderFooter=function(){var e=this.props.paymentSources;return(0,I.jsxs)(Ne.Z,{justify:Ne.Z.Justify.END,className:HS().footer,children:[0===Object.keys(e).length?(0,I.jsxs)(Ne.Z.Child,{children:[(0,I.jsx)(C.Text,{variant:"text-sm/normal",
children:q.Z.Messages.BILLING_NO_PAYMENT_METHOD}),(0,I.jsx)("div",{className:HS().subText,children:q.Z.Messages.BILLING_NO_PAYMENT_METHOD_DESCRIPTION})]}):null,(0,I.jsx)(C.Button,{onClick:this.handleAddPaymentMethod,children:q.Z.Messages.BILLING_ADD_PAYMENT_METHOD})]})};o.render=function(){var e=this,t=this.props,n=t.defaultPaymentSourceId,r=t.paymentSources,o=t.locale,i=t.removing,s=t.submitting,a=t.premiumSubscriptionPaymentSourceId,l=Fe().values(r).sort((function(e,t){return e.id===n?-1:t.id===n?1:XE.default.compare(e.id,t.id)})),c=this.state.editingPayment,u=l.findIndex((function(e){return e.id===c})),d=l.map((function(t,r){return(0,I.jsx)(og,{locale:o,paymentSource:t,isDefault:n===t.id,onCancel:e.handleCancel,onDelete:e.handleDelete,isForSubscription:t.id===a,hideDivider:u===r-1,onSubmit:e.handleSubmit,index:r,submitting:s,removing:i,isEditing:c===t.id,onEditClick:e.handleEditClick},t.id)}));return(0,I.jsxs)("div",{children:[(0,I.jsx)(C.FormTitle,{tag:"h1",children:(0,
I.jsxs)(Ne.Z,{align:Ne.Z.Align.CENTER,children:[(0,I.jsx)(C.Tooltip,{position:"left",text:q.Z.Messages.BILLING_SECURE_TOOLTIP,children:function(e){return(0,I.jsx)($E.Z,XS({className:HS().lockIcon},e))}}),q.Z.Messages.BILLING_PAYMENT_SOURCES]})}),d,u!==l.length-1?(0,I.jsx)(C.FormDivider,{className:HS().sourceDivider}):null,this.renderFooter()]})};return r}(c.PureComponent);const sg=ig;var ag=n(123435),lg=n(569851),cg=n.n(lg);function ug(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dg(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function fg(e){fg=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return fg(e)}function pg(e,t){return!t||"object"!==hg(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function mg(e,t){
mg=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return mg(e,t)}var hg=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Eg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=fg(e);if(t){var o=fg(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pg(this,n)}}var Sg=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&mg(e,t)}(n,e);var t=Eg(n);function n(){ug(this,n);return t.apply(this,arguments)}var r=n.prototype;r.componentDidMount=function(){u.Z.wait((function(){
Ht.tZ();Ht.jg()}))};r.handleRedemptionRedirect=function(){P.Z.setSection(se.oAB.INVENTORY)};r.render=function(){var e=this.props,t=e.syncing,n=e.hide,r=e.paymentSources,o=e.defaultPaymentSourceId,i=e.locale,s=e.premiumSubscription,a=e.isRemovingPaymentSource,l=e.isUpdatingPaymentSource;return n?(0,I.jsx)(zt.Z,{}):(0,I.jsxs)("div",{className:cg().userSettingsBilling,children:[t&&0===Object.keys(r).length?(0,I.jsx)("div",{className:cg().syncing,children:(0,I.jsx)(C.Spinner,{})}):(0,I.jsx)(sg,{paymentSources:r,defaultPaymentSourceId:o,premiumSubscriptionPaymentSourceId:null!=s&&s.status!==se.O0b.CANCELED?s.paymentSourceId:null,locale:i,removing:a,submitting:l}),(0,I.jsx)("div",{className:cg().paymentHistory,children:(0,I.jsxs)(C.HeadingLevel,{component:(0,I.jsx)(C.FormTitle,{tag:"h1",children:q.Z.Messages.BILLING_PAYMENT_HISTORY}),children:[(0,I.jsx)(ag.oQ,{}),(0,I.jsx)(qE.Z,{locale:i})]})}),(0,I.jsx)(C.Card,{className:cg().codeRedemptionRedirect,type:C.Card.Types.CUSTOM,
children:q.Z.Messages.BILLING_CODE_REDEMPTION_REDIRECT.format({onClick:this.handleRedemptionRedirect})})]})};return n}(c.PureComponent);function gg(){var e=(0,r.cj)([L.default,Jr.Z,pn.Z,d.default,$r.Z,Qt.Z],(function(){var e=Qt.Z.getPremiumTypeSubscription(),t=d.default.getCurrentUser();te()(null!=t,"UserSettingsBilling: currentUser cannot be undefined");return{locale:L.default.locale,hide:$r.Z.enabled,isClaimed:t.isClaimed(),isVerified:t.verified,premiumSubscription:e,defaultPaymentSourceId:pn.Z.defaultPaymentSourceId,paymentSources:pn.Z.paymentSources,syncing:Jr.Z.isSyncing,isRemovingPaymentSource:Jr.Z.isRemovingPaymentSource,isUpdatingPaymentSource:Jr.Z.isUpdatingPaymentSource}}));return(0,I.jsx)(Sg,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))))
;r.forEach((function(t){dg(e,t,n[t])}))}return e}({},e))}var _g=n(579344),Tg=n(176785),Og=n(265688),bg=n(53645),yg=n(321485),Ig=n(497842),vg=n(130962),Ng=n(629223),Ag=n(859917),Cg=n(128181),jg=new Set([se.ABu.XBOX,se.ABu.PLAYSTATION,se.ABu.PLAYSTATION_STAGING,se.ABu.CRUNCHYROLL]);var xg=n(60694),Pg=n(627342),Rg=n(903918),Mg=n.n(Rg),Dg=function(e){var t=e.markAsDismissed;c.useEffect((function(){return t}),[t]);return(0,I.jsx)(On.IG,{className:Mg().newBadge,text:q.Z.Messages.NEW})},Lg=function(e){var t=e.title,n=e.body,r=e.img,o=e.newIndicatorDismissibleContent,i=e.onClick;return(0,I.jsxs)("div",{className:Mg().container,children:[r,(0,I.jsxs)("div",{className:Mg().textContainer,children:[(0,I.jsxs)("div",{className:Mg().headerText,children:[(0,I.jsx)(Pg.Z,{contentTypes:[o],children:function(e){var t=e.visibleContent,n=e.markAsDismissed;return t===o?(0,I.jsx)(Dg,{markAsDismissed:n}):null}}),(0,I.jsx)(C.Text,{variant:"text-md/semibold",children:t})]}),(0,I.jsx)(C.Text,{
variant:"text-xs/normal",children:n})]}),(0,I.jsx)(C.Button,{size:C.ButtonSizes.MEDIUM,onClick:i,className:Mg().reconnectButton,children:q.Z.Messages.RECONNECT})]})},Zg=n(761869),wg=n.n(Zg),Ug=function(){var e=$s.Z.getArticleURL(se.BhN.PS_CONNECTION);return(0,I.jsx)(Lg,{title:q.Z.Messages.PS_TWO_WAY_UPSELL_TITLE,body:q.Z.Messages.PS_TWO_WAY_UPSELL_BODY.format({help_article:e}),img:(0,I.jsx)("img",{src:wg(),width:"82",height:"auto",alt:""}),newIndicatorDismissibleContent:N.z$.PS_ONE_WAY_RECONNECT,onClick:function(){return(0,Ig.Z)(se.ABu.PLAYSTATION,"PS two way upsell")}})},Bg=n(884217),Gg=n.n(Bg),kg=function(){var e=$s.Z.getArticleURL(se.BhN.XBOX_CONNECTION);return(0,I.jsx)(Lg,{title:q.Z.Messages.XBOX_TWO_WAY_UPSELL_TITLE,body:q.Z.Messages.XBOX_TWO_WAY_UPSELL_BODY.format({help_article:e}),img:(0,I.jsx)("img",{src:Gg(),width:"auto",height:"45",alt:""}),newIndicatorDismissibleContent:N.z$.XBOX_ONE_WAY_RECONNECT,onClick:function(){return(0,Ig.Z)(se.ABu.XBOX,"Xbox two way upsell")}})
},Fg=n(678005),Hg=n(370708),Yg=n.n(Hg);function Vg(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wg(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function zg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Wg(e,t,n[t])}))}return e}function Kg(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){
Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Qg(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done);s=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){a=!0;o=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Vg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vg(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var qg=function(e){var t,n,o,i=e.integration,s=(0,
r.e7)([Ng.Z],(function(){return Ng.Z.isJoining(i.id)}),[i.id]);null!=(0,r.e7)([vn.Z],(function(){return vn.Z.getGuild(i.guild.id)}),[i.guild.id])||(o=(0,I.jsx)(C.Button,{size:C.ButtonSizes.SMALL,onClick:function(){_g.Z.joinServer(i.id,(function(){}))},disabled:s,children:(0,I.jsx)("span",{children:s?q.Z.Messages.JOINING_GUILD:q.Z.Messages.JOIN_GUILD})}));return(0,I.jsxs)("div",{className:Yg().integration,children:[(0,I.jsx)(mn.Z,{size:mn.Z.Sizes.SMALL,guild:i.guild,className:Yg().guildIcon}),(0,I.jsxs)("div",{className:Yg().integrationInner,children:[(0,I.jsx)(C.Text,{variant:"text-md/semibold",color:"header-primary",children:i.guild.toString()}),(0,I.jsx)(C.Anchor,{href:null===(t=Og.Z.get(i.type))||void 0===t||null===(n=t.getPlatformUserUrl)||void 0===n?void 0:n.call(t,i.account),children:(0,I.jsx)(C.Text,{variant:"text-xs/normal",color:"header-secondary",children:i.account.name})})]}),o]})};function Xg(e){var t=e.onDisconnect,n=e.account,r=e.theme,o=function(){(0,
Ig.Z)(n.type,"User Settings")},i=function(){var e=Og.Z.get(n.type),r=q.Z.Messages.DISCONNECT_ACCOUNT_BODY;(function(e){return jg.has(e.type)&&e.twoWayLink})(n)&&(r=(0,I.jsxs)(I.Fragment,{children:[r,(0,I.jsx)(kE.Z,{className:Yg().infoBox,children:q.Z.Messages.CONNECTED_ACCOUNT_IS_AUTHORIZED_APP_DISCONNECT_WARNING.format({platformName:e.name})})]}));(0,C.openModal)((function(n){return(0,I.jsx)(RE.default,zg({title:q.Z.Messages.DISCONNECT_ACCOUNT_TITLE.format({name:e.name}),body:r,confirmText:q.Z.Messages.DISCONNECT_ACCOUNT,cancelText:q.Z.Messages.CANCEL,onConfirm:t},n))}))},s=function(e){var t=n.verified,r=e?1:0;if(!e||t){E(r);_g.Z.setVisibility(n.type,n.id,r)}else{N(r);(0,Ig.Z)(n.type,"User Settings")}},a=function(e){var t=n.verified,r=e?1:0;if(!e||t){_(r);_g.Z.setMetadataVisibility(n.type,n.id,r)}else{P(r);(0,Ig.Z)(n.type,"User Settings")}},l=function(e){p(e);_g.Z.setFriendSync(n.type,n.id,e)},u=function(e){b(e);_g.Z.setShowActivity(n.type,n.id,e)
},d=Qg(c.useState(n.friendSync),2),f=d[0],p=d[1],m=Qg(c.useState(n.visibility),2),h=m[0],E=m[1],S=Qg(c.useState(n.metadataVisibility),2),g=S[0],_=S[1],T=Qg(c.useState(n.showActivity),2),O=T[0],b=T[1],y=Qg(c.useState(null),2),v=y[0],N=y[1],j=Qg(c.useState(null),2),x=j[0],P=j[1],R=Qg(c.useState(!1),2),M=R[0],D=R[1],L=Qg(c.useState([]),2),Z=L[0],w=L[1],U=Og.Z.get(n.type);c.useEffect((function(){p(n.friendSync);E(n.visibility);_(n.metadataVisibility);b(n.showActivity)}),[n]);c.useEffect((function(){if(!1!==n.verified){if(null!=v){E(v);_g.Z.setVisibility(n.type,n.id,v);N(null)}if(null!=x){_(x);_g.Z.setMetadataVisibility(n.type,n.id,x);P(null)}}}),[n]);return(0,I.jsxs)("div",{className:Yg().connection,children:[function(e){var t,n=Og.Z.get(e.type),o="1"===(null!==(t=e.metadata)&&void 0!==t?t:{})[Fg.PC.TWITTER_VERIFIED],s=null;n.type===se.ABu.TWITTER&&o&&(s=(0,I.jsx)(C.Tooltip,{text:q.Z.Messages.CONNECTION_VERIFIED_ON_TWITTER,children:function(e){return(0,I.jsx)(Ag.Z,Kg(zg({},e),{
className:Yg().connectionAccountLabelVerified,color:A.Z.unsafe_rawColors.TWITTER.css,children:(0,I.jsx)(Cg.Z,{color:A.Z.unsafe_rawColors.WHITE_500.css})}))}}));return(0,I.jsxs)("div",{className:Yg().connectionHeader,children:[(0,I.jsx)("img",{alt:n.name,className:Yg().connectionIcon,src:(0,ip.wj)(r)?n.icon.darkSVG:n.icon.lightSVG}),(0,I.jsxs)("div",{children:[(0,I.jsx)(C.Text,{color:"header-primary",variant:"text-md/semibold",className:Yg().connectionAccountValue,children:(0,I.jsxs)("div",{className:Yg().connectionAccountLabelContainer,children:[e.name,s]})}),(0,I.jsx)(C.Text,{variant:"text-xs/normal",color:"header-secondary",className:Yg().connectionAccountLabel,children:Og.Z.get(e.type).name})]}),(0,I.jsx)(C.Clickable,{className:Yg().connectionDelete,onClick:i,"aria-label":q.Z.Messages.SERVICE_CONNECTIONS_DISCONNECT,focusProps:{offset:{top:-4,left:-4,right:-4}},children:(0,I.jsx)(rd.Z,{width:16,height:16})})]})}(n),function(e){return e.twoWayLink?null:e.type===se.ABu.XBOX?(0,
I.jsx)("div",{className:Yg().upsellWrapper,children:(0,I.jsx)(kg,{})}):e.type===se.ABu.PLAYSTATION?(0,I.jsx)("div",{className:Yg().upsellWrapper,children:(0,I.jsx)(Ug,{})}):null}(n),function(e){var t,n=null!==(t=e.metadata)&&void 0!==t?t:{},r=null,o=(0,yg.FI)(n[Fg.PC.CREATED_AT]);switch(e.type){case se.ABu.REDDIT:r=(0,yg.oP)(n,Yg().metadataItem);break;case se.ABu.STEAM:r=(0,yg.Dq)(n,Yg().metadataItem);break;case se.ABu.TWITTER:r=(0,yg.rJ)(n,Yg().metadataItem);break;case se.ABu.EBAY:r=(0,yg.ul)(n,Yg().metadataItem);break;case se.ABu.PAYPAL:r=(0,yg.li)(n,Yg().metadataItem);break;case se.ABu.TIKTOK:r=(0,yg.hf)(n,Yg().metadataItem)}if(null!==o){null==r&&(r=[]);null==r||r.push((0,I.jsx)(C.Text,{variant:"text-xs/normal",color:"interactive-active",className:Yg().connectedAccountVanityMetadataCreatedAt,children:q.Z.Messages.CONNECTIONS_PROFILE_MEMBER_SINCE.format({date:o})},"member-since"))}var i=Z.includes(e.id),s=q.Z.Messages.REFRESH;if(null==r||0===r.length){
if(!0!==Og.Z.get(e.type).hasMetadata)return null;r=[(0,I.jsx)(On.IG,{className:Yg().connectionMetadataUpsellTag,text:q.Z.Messages.NEW},"badge"),(0,I.jsx)(C.Text,{variant:"text-xs/normal",className:Yg().connectionMetadataUpsellDescription,children:q.Z.Messages.CONNECTED_ACCOUNT_ADD_DETAILS_DESCRIPTION.format({helpdeskUrl:$s.Z.getArticleURL(se.BhN.CONNECTION_DETAILS)})},"label")];s=q.Z.Messages.CONNECTED_ACCOUNT_ADD_DETAILS}i&&(s=q.Z.Messages.DONE);r.push((0,I.jsx)(C.Button,{className:Yg().metadataRefreshButton,color:i?C.Button.Colors.GREEN:C.Button.Colors.BRAND,size:C.Button.Sizes.SMALL,submitting:M,disabled:i,onClick:i?void 0:function(){D(!0);_g.Z.refresh(e.type,e.id).finally((function(){setTimeout((function(){Z.push(e.id);w(Z);D(!1)}),2e3)}))},children:s},"refresh-button"));return(0,I.jsx)("div",{className:Yg().metadataContainer,children:r})}(n),function(e){var t,r,o,i;se.BFP.has(n.type)&&(r=(0,I.jsx)(C.FormSwitch,{className:Yg().connectionOptionSwitch,hideBorder:!0,value:f,
onChange:l,children:(0,I.jsx)(C.Text,{variant:"text-sm/semibold",children:q.Z.Messages.SYNC_FRIENDS})}));se.vbS.has(n.type)&&(o=(0,I.jsx)(C.FormSwitch,{className:Yg().connectionOptionSwitch,hideBorder:!0,value:O,onChange:u,children:(0,I.jsx)(C.Text,{variant:"text-sm/semibold",children:q.Z.Messages.DISPLAY_ACTIVITY.format({platform:e.name})})}));!0===(null===(t=Og.Z.get(n.type))||void 0===t?void 0:t.hasMetadata)&&(i=(0,I.jsx)(C.FormSwitch,{className:Yg().connectionOptionSwitch,hideBorder:!0,value:1===g,onChange:a,disabled:1!==h||null==n.metadata,children:(0,I.jsx)(C.Text,{variant:"text-sm/semibold",children:q.Z.Messages.DISPLAY_DETAILS_ON_PROFILE})}));return(0,I.jsx)("div",{className:Yg().connectionOptionsWrapper,children:(0,I.jsxs)("div",{className:Yg().connectionOptions,children:[(0,I.jsx)(C.FormSwitch,{className:Yg().connectionOptionSwitch,hideBorder:!0,value:1===h,onChange:s,children:(0,I.jsx)(C.Text,{variant:"text-sm/semibold",children:q.Z.Messages.DISPLAY_ON_PROFILE})}),i,o,r]})})
}(U),function(){if(n.revoked||n.integrations.length>0)return(0,I.jsx)(C.FormDivider,{className:Yg().connectedAccountSeparator})}(),n.revoked?(0,I.jsx)(C.FormItem,{className:Yg().integrationsWrapper,children:(0,I.jsx)(C.FormText,{className:Yg().integrationRevoked,children:q.Z.Messages.CONNECTED_ACCOUNT_REVOKED.format({onReconnect:o})})}):n.integrations.length>0?(0,I.jsxs)(C.FormItem,{className:Yg().integrationsWrapper,children:[(0,I.jsx)(C.FormTitle,{tag:C.FormTitleTags.H5,children:(0,I.jsx)(C.Text,{variant:"text-xs/semibold",children:q.Z.Messages.SUB_ENABLED_SERVERS})}),(0,I.jsx)("div",{children:n.integrations.map((function(e){return(0,I.jsx)(qg,{integration:e},e.id)}))})]}):void 0]})}function $g(e){var t=e.alreadyConnectedPlatforms,n=e.excludedPlatformTypes,r=e.includedDisabledPlatformTypes;c.useEffect((function(){return function(){(0,Ml.EW)(N.z$.NEW_CRUNCHYROLL_CONNECTION,{dismissAction:Sc.L.AUTO})}}),[]);return(0,I.jsxs)("div",{className:Yg().connectContainer,children:[(0,
I.jsx)(C.Heading,{variant:"heading-md/bold",color:"interactive-active",className:Yg().connectHeader,children:q.Z.Messages.CONNECTIONS_USER_SETTINGS_CONNECT_ACCOUNTS_HEADER}),(0,I.jsx)(C.Text,{variant:"text-xs/normal",color:"header-secondary",children:q.Z.Messages.CONNECTIONS_USER_SETTINGS_CONNECT_ACCOUNTS_DESCRIPTION.format({privacyPolicyUrl:se.EYA.PRIVACY})}),(0,I.jsx)(Jg,{alreadyConnectedPlatforms:t,excludedPlatformTypes:n,includedDisabledPlatformTypes:r})]})}function Jg(e){var t=e.alreadyConnectedPlatforms,n=e.excludedPlatformTypes,r=e.includedDisabledPlatformTypes,o=function(e){var t=Og.Z.get(e);(0,Ig.Z)(t.type);to.default.track(se.rMx.ACCOUNT_LINK_STEP,{previous_step:"desktop connections",current_step:"desktop oauth",platform_type:t.type})};return(0,I.jsxs)("div",{className:Yg().connectionsContainer,children:[(0,bg.AK)(r,n,t).slice(0,10).map((function(e){return(0,I.jsx)(Tg.Z,{type:e.type,className:Yg().accountButton,innerClassName:Yg().accountButtonInner},e.type)})),(0,
I.jsx)(C.Tooltip,{text:q.Z.Messages.CONNECTIONS_VIEW_MORE,children:function(e){var t=e.onMouseEnter,i=e.onMouseLeave;return(0,I.jsx)("div",{className:B()(Yg().accountAddWrapper,Yg().accountButton),children:(0,I.jsx)(C.FocusRing,{children:(0,I.jsx)("button",{onMouseEnter:t,onMouseLeave:i,className:B()(Yg().accountAddInner,Yg().accountButtonInner),type:"button",onClick:function(){return function(e){u.Z.dispatch({type:"CONNECTIONS_GRID_MODAL_SHOW",onComplete:o,excludedPlatformTypes:e,includedDisabledPlatformTypes:r})}(n)},"aria-label":q.Z.Messages.ADD_NEW_CONNECTION,children:(0,I.jsx)(ze.Z,{height:18,width:18,"aria-label":q.Z.Messages.CONNECTIONS_VIEW_MORE})})})})}})]})}function e_(e){var t,r=e.fetching,o=e.accounts,i=e.theme;t=r?(0,I.jsx)(C.Spinner,{className:Pe().marginTop20,type:C.Spinner.Type.SPINNING_CIRCLE}):0===o.length?(0,I.jsxs)(wE.ZP,{className:Pe().marginTop40,theme:i,children:[(0,I.jsx)(wE.ox,{darkSrc:n(117399),lightSrc:n(408056),width:230,height:220}),(0,I.jsx)(wE.OZ,{
note:q.Z.Messages.CONNECTED_ACCOUNTS_NONE,children:q.Z.Messages.CONNECTED_ACCOUNTS_NONE_TITLE})]}):o.filter((function(e){return Og.Z.isSupported(e.type)})).map((function(e,t){return(0,I.jsx)(Xg,{theme:i,account:e,onDisconnect:function(){return function(e){var t=e.type,n=e.id;_g.Z.disconnect(t,n)}(e)}},t)}));return(0,I.jsx)(C.FormItem,{className:Yg().connectionList,children:t})}const t_=function(){var e=(0,r.e7)([$r.Z],(function(){return $r.Z.hidePersonalInformation})),t=(0,r.e7)([Ng.Z],(function(){return Ng.Z.isFetching()})),n=(0,r.e7)([Ng.Z],(function(){return Ng.Z.getAccounts()})),o=(0,r.e7)([d.default],(function(){return d.default.getCurrentUser()})),i=(0,Qi.ZP)(),s=vg.c.useExperiment({},{autoTrackExposure:!1}).allowPlayStationStaging,a=c.useMemo((function(){var e,t,n=new Set;s&&n.add(se.ABu.PLAYSTATION_STAGING);(null===(e=bg.bO[se.ABu.INSTAGRAM])||void 0===e?void 0:e.includes(null!==(t=null==o?void 0:o.id)&&void 0!==t?t:""))&&n.add(se.ABu.INSTAGRAM);return n
}),[s,null==o?void 0:o.id]),l=((0,r.e7)([Sl.Z],(function(){return Sl.Z.getFlattenedGuildIds()})),(0,xg.X)()),u=c.useMemo((function(){return new Set(Og.Z.filter((function(e){return!l(e)})).map((function(e){return e.type})))}),[l]),f=c.useMemo((function(){var e=new Set;n.forEach((function(t){return e.add(t.type)}));return e}),[n]);c.useEffect((function(){_g.Z.fetch()}),[]);return e?(0,I.jsx)(zt.Z,{}):(0,I.jsxs)(C.FormSection,{className:Yg().connections,tag:C.FormTitleTags.H1,title:q.Z.Messages.CONNECTIONS,children:[(0,I.jsx)($g,{alreadyConnectedPlatforms:f,excludedPlatformTypes:u,includedDisabledPlatformTypes:a}),(0,I.jsx)(e_,{fetching:t,accounts:n,theme:i})]})};var n_=n(12061),r_=n(402391),o_=n(414523),i_=n(762572),s_=n(441394),a_=n(498442),l_=n(998137),c_=n(940007),u_=n(410320),d_=n(734620),f_=n(91174),p_=n(762308),m_=n(84841),h_=n(652555);function E_(e,t,n,r,o,i,s){try{var a=e[i](s),l=a.value}catch(e){n(e);return}a.done?t(l):Promise.resolve(l).then(r,o)}function S_(e){
return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){E_(i,r,o,s,a,"next",e)}function a(e){E_(i,r,o,s,a,"throw",e)}s(void 0)}))}}var g_=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:s.label++;return{value:i[1],done:!1};case 5:s.label++;r=i[1];i=[0];continue;case 7:i=s.ops.pop();s.trys.pop();continue;default:if(!(o=s.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}
if(6===i[0]&&s.label<o[1]){s.label=o[1];o=i;break}if(o&&s.label<o[2]){s.label=o[2];s.ops.push(i);break}o[2]&&s.ops.pop();s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};function __(){__=S_((function(){var e;return g_(this,(function(t){switch(t.label){case 0:return[4,(0,Yu.Y)()];case 1:e=t.sent();me.Z.globalOverlay.openOverlay(e);return[2]}}))}));return __.apply(this,arguments)}var T_=n(118044),O_=n(688013),b_=function(e,t){u.Z.dispatch({type:"SET_PREMIUM_TYPE_OVERRIDE",premiumType:e});u.Z.dispatch({type:"UPDATE_CLIENT_PREMIUM_TYPE",user:t})},y_=n(138255),I_=function(){var e=(0,r.e7)([d.default],(function(){return d.default.getCurrentUser()})),t=(0,r.e7)([y_.Z],(function(){return y_.Z.getPremiumTypeOverride()}));return(0,I.jsxs)("div",{children:[(0,I.jsx)(C.FormSection,{title:"Override Client-Side Premium Type",tag:C.FormTitleTags.H3,children:(0,I.jsx)(C.SingleSelect,{options:S.b6,value:t,
onChange:function(t){b_(t,e)}})}),(0,I.jsx)(C.Button,{look:C.Button.Looks.LINK,style:{padding:"0"},onClick:function(){b_(S.F_,e)},children:"Reset premium type override"})]})},v_=n(948582),N_=n(212098),A_=n.n(N_),C_=n(768864),j_=n.n(C_),x_=n(333286),P_=n.n(x_);function R_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function M_(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D_(e,t,n,r,o,i,s){try{var a=e[i](s),l=a.value}catch(e){n(e);return}a.done?t(l):Promise.resolve(l).then(r,o)}function L_(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){D_(i,r,o,s,a,"next",e)}function a(e){D_(i,r,o,s,a,"throw",e)}s(void 0)}))}}function Z_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w_(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,
writable:!0}):e[t]=n;return e}function U_(e){U_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return U_(e)}function B_(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&H_(e,t)}function G_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){w_(e,t,n[t])}))}return e}function k_(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function F_(e,t){return!t||"object"!==W_(t)&&"function"!=typeof t?M_(e):t}function H_(e,t){H_=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return H_(e,t)}function Y_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done);s=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){a=!0;o=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||z_(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V_(e){return function(e){
if(Array.isArray(e))return R_(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||z_(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var W_=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function z_(e,t){if(e){if("string"==typeof e)return R_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R_(e,t):void 0}}function K_(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}()
;return function(){var n,r=U_(e);if(t){var o=U_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return F_(this,n)}}var Q_=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:s.label++;return{value:i[1],done:!1};case 5:s.label++;r=i[1];i=[0];continue;case 7:i=s.ops.pop();s.trys.pop();continue;default:if(!(o=s.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1];o=i
;break}if(o&&s.label<o[2]){s.label=o[2];s.ops.push(i);break}o[2]&&s.ops.pop();s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},q_=["discord_web","discord_marketing","discord_ios","discord_android"],X_=[{value:"branch",label:"Branch Name"},{value:"id",label:"Build ID"}];function $_(e){return"discord_ios"in e||"discord_android"in e}function J_(e){return new Promise((function(t){(0,C.openModal)((function(n){var r=function(e){n.onClose();t(e)};return(0,I.jsxs)(C.ModalRoot,k_(G_({},n),{"aria-label":"Choose A Project to Override",children:[(0,I.jsx)(C.ModalHeader,{separator:!1,children:(0,I.jsx)(C.Heading,{variant:"heading-lg/semibold",children:"Choose A Project to Override"})}),(0,I.jsx)(C.ModalContent,{children:(0,I.jsx)("div",{className:A_().buildOverrideList,children:e.map((function(e){return(0,I.jsx)(C.Button,{value:e,color:C.Button.Colors.GREEN,onClick:function(){return r(e)},children:e},e)}))
})}),(0,I.jsx)(C.ModalFooter,{children:(0,I.jsx)(C.Button,{color:C.Button.Colors.PRIMARY,look:C.Button.Looks.LINK,onClick:function(){return r(null)},children:"Nevermind"})})]}))}))}))}var eT=function(e){B_(n,e);var t=K_(n);function n(){Z_(this,n);var e;(e=t.apply(this,arguments)).handleRemoveBuildOverride=function(){e.props.onBuildOverrideRemoved(e.props.project)};e.handleOverrideIdChanged=function(t){e.props.onBuildOverrideUpdated(e.props.project,{id:t})};e.handleOverrideTypeChanged=function(t){e.props.onBuildOverrideUpdated(e.props.project,{type:t,id:""})};return e}n.prototype.render=function(){var e=this.props,t=e.project,n=e.overrideType,r=e.overrideId,o=e.disabled,i=e.error,s="branch"===n?"Branch Name":"Build ID";return(0,I.jsxs)(Ne.Z,{direction:Ne.Z.Direction.VERTICAL,className:B()(A_().buildOverrideGroup,Pe().marginBottom20,j_().card,A_().row),children:[(0,I.jsx)(s_.Z,{className:B()(A_().removeBuildOverride,w_({},A_().removeBuildOverrideDisabled,o)),
onClick:o?void 0:this.handleRemoveBuildOverride}),(0,I.jsxs)(Ne.Z,{className:Pe().marginBottom8,children:[(0,I.jsx)(Ne.Z.Child,{basis:"50%",children:(0,I.jsx)(C.FormItem,{title:"Override Type",className:A_().item,children:(0,I.jsx)(C.SingleSelect,{options:X_,onChange:this.handleOverrideTypeChanged,value:n,isDisabled:o})})}),(0,I.jsx)(Ne.Z.Child,{basis:"50%",children:(0,I.jsx)(C.FormItem,{title:s,className:A_().item,children:(0,I.jsx)(C.TextInput,{value:r,onChange:this.handleOverrideIdChanged,disabled:o})})})]}),(0,I.jsxs)(Ne.Z.Child,{children:[null!=i&&""!==i&&(0,I.jsx)(C.FormText,{className:A_().item,style:{color:A.Z.unsafe_rawColors.RED_400.css},type:C.FormText.Types.DESCRIPTION,children:i}),(0,I.jsxs)(C.FormText,{className:A_().item,type:C.FormText.Types.DESCRIPTION,children:["This controls the build that will be served for the ",(0,I.jsx)("code",{children:t})," project."]})]})]})};return n}(c.Component),tT=function(e){B_(r,e);var t=K_(r);function r(){Z_(this,r);var e
;(e=t.apply(this,arguments)).state={loading:!0,buildOverrides:{},loadedBuildOverrides:{},errors:{},saving:!1,didSave:!1};var n=M_(e);e.handleAddBuildOverride=L_((function(){var e,t;return Q_(this,(function(r){switch(r.label){case 0:return[4,J_(n.getAvailableProjects())];case 1:if(null==(e=r.sent()))return[2];t=k_(G_({},n.state.buildOverrides),w_({},e,{type:"branch",id:""}));n.setState({buildOverrides:t});return[2]}}))}));e.handleBuildOverrideUpdated=function(t,n){var r=e.state.buildOverrides,o=G_({},null!=r?r[t]:{},n),i=k_(G_({},e.state.buildOverrides),w_({},t,o));e.setState({buildOverrides:i})};e.handleBuildOverrideRemoved=function(t){var n=G_({},e.state.buildOverrides);delete n[t];e.setState({buildOverrides:n})};e.handleDiscardChanges=function(){e.setState({buildOverrides:Fe().cloneDeep(e.state.loadedBuildOverrides),errors:{},didSave:!1})};var o=M_(e);e.handleSaveChanges=L_((function(){var e,t,n,r;return Q_(this,(function(i){switch(i.label){case 0:
if(null==(e=o.state.buildOverrides))return[2];o.setState({saving:!0});return[4,(0,l_.aD)(e)];case 1:if(200===(t=i.sent()).status){n=t.body;o.setState({buildOverrides:n,loadedBuildOverrides:Fe().cloneDeep(n),errors:{},didSave:!0,saving:!1})}else if(400===t.status){r=t.body;o.setState({errors:r,saving:!1,didSave:!1})}else o.setState({saving:!1,didSave:!1});return[2]}}))}));e.handleLinkGeneration=function(){var t=e.state.buildOverrides;(0,C.openModal)((function(e){return(0,I.jsx)(nT,k_(G_({},e),{buildOverrides:t}))}))};return e}var o=r.prototype;o.refreshBuildOverrides=function(){var e=this;return L_((function(){var t;return Q_(this,(function(n){switch(n.label){case 0:e.setState({loading:!0});return[4,(0,c_.Ce)()];case 1:t=n.sent();e.setState({loading:!1,buildOverrides:t,loadedBuildOverrides:Fe().cloneDeep(t),errors:{}});return[2]}}))}))()};o.isDirty=function(){var e=this.state,t=e.buildOverrides,n=e.loadedBuildOverrides;return!Fe().isEqual(t,n)};o.componentDidMount=function(){
this.refreshBuildOverrides()};o.getAvailableProjects=function(){var e,t=this.state.buildOverrides;if(null==t)return[];var n=Object.keys(t);return(e=Fe()).without.apply(e,[q_].concat(V_(n)))};o.renderEmpty=function(){return(0,I.jsxs)(wE.ZP,{theme:Tp.Z.theme,className:B()(Pe().marginTop40,Pe().marginBottom20),children:[(0,I.jsx)(wE.ox,{darkSrc:n(921912),lightSrc:n(964766),width:294,height:192}),(0,I.jsx)(wE.OZ,{children:"You have no build overrides configured."})]})};o.renderItems=function(){var e=this,t=this.state,n=t.buildOverrides,r=t.saving,o=t.errors;return null==n?null:Fe().map(n,(function(t,n){return(0,I.jsx)(eT,{project:n,overrideType:t.type,overrideId:t.id,disabled:r,error:o[n],onBuildOverrideUpdated:e.handleBuildOverrideUpdated,onBuildOverrideRemoved:e.handleBuildOverrideRemoved},n)}))};o.renderRefreshButton=function(){return!this.state.didSave||this.isDirty()?null:(0,I.jsx)(Ne.Z,{grow:0,direction:Ne.Z.Direction.HORIZONTAL_REVERSE,children:(0,I.jsx)(Ne.Z.Child,{grow:0,
children:(0,I.jsx)(C.Button,{onClick:function(){return location.reload()},color:C.Button.Colors.PRIMARY,children:"Reload App"})})})};o.renderLinkButton=function(){var e=this.state.buildOverrides;return null==e||0===Object.keys(e).length?null:(0,I.jsx)(Ne.Z,{grow:0,direction:Ne.Z.Direction.HORIZONTAL_REVERSE,children:(0,I.jsx)(Ne.Z.Child,{grow:0,children:(0,I.jsx)(C.Button,{onClick:this.handleLinkGeneration,color:C.Button.Colors.BRAND,children:"Generate Public Link"})})})};o.renderSaveButton=function(){if(!this.isDirty())return null;var e=this.state,t=e.saving,n=e.buildOverrides;return(0,I.jsxs)(Ne.Z,{grow:0,direction:Ne.Z.Direction.HORIZONTAL_REVERSE,children:[(0,I.jsx)(Ne.Z.Child,{grow:0,children:(0,I.jsx)(C.Button,{disabled:$_(null!=n?n:{}),onClick:this.handleSaveChanges,submitting:t,color:C.Button.Colors.GREEN,children:"Save Build Overrides"})}),(0,I.jsx)(Ne.Z.Child,{grow:0,children:(0,I.jsx)(C.Button,{onClick:this.handleDiscardChanges,disabled:t,color:C.Button.Colors.RED,
children:"Discard Changes"})})]})};o.render=function(){var e,t=this.state,n=t.loading,r=t.saving,o=t.buildOverrides;e=n?(0,I.jsx)(C.Spinner,{className:Pe().marginTop20}):null!=o&&0===Object.keys(o).length?this.renderEmpty():this.renderItems();var i=!r&&!n&&this.getAvailableProjects().length>0,s=$_(null!=o?o:{})&&"stable"!==window.GLOBAL_ENV.RELEASE_CHANNEL?(0,I.jsx)(C.Text,{color:"text-danger",variant:"text-md/normal",children:"Mobile build overrides must be generated using the desktop/web stable client for now!"}):null;return(0,I.jsxs)(C.FormSection,{className:Pe().marginTop60,children:[(0,I.jsxs)(Ne.Z,{className:Pe().marginBottom20,children:[(0,I.jsx)(Ne.Z.Child,{children:(0,I.jsx)(C.FormTitle,{tag:C.FormTitleTags.H1,children:"Build Overrides"})}),(0,I.jsx)(Ne.Z.Child,{grow:0,children:(0,I.jsx)(C.Button,{size:C.ButtonSizes.SMALL,onClick:this.handleAddBuildOverride,disabled:!i,children:"Add Build Override"})})]}),(0,I.jsx)(C.FormDivider,{}),(0,I.jsxs)(Ne.Z,{
direction:Ne.Z.Direction.VERTICAL,children:[s,e,(0,I.jsxs)(Ne.Z,{grow:0,direction:Ne.Z.Direction.HORIZONTAL_REVERSE,children:[this.renderRefreshButton(),this.renderSaveButton(),this.renderLinkButton()]})]})]})};return r}(c.Component),nT=function(e){B_(r,e);var t=K_(r);function r(){Z_(this,r);var e;(e=t.apply(this,arguments)).state={ttlSeconds:3600,releaseChannel:"all",userIds:new Set,userIdEntry:"",userIdEntryError:null,allowedVersions:[],allowedVersionEntry:"",allowedVersionEntryError:null,publicLink:" ",statusText:null,statusTextColor:Ce.Z.Colors.STATUS_RED,allowLoggedOut:!1};e.setUserEntryError=function(t){e.setState({userIdEntryError:t})};e.setStatusMessage=function(t,n){e.setState({statusText:t,statusTextColor:null!=n?n:Ce.Z.Colors.STATUS_RED})};e.handleUserIDEntry=function(t){if(!/^[\d\s,]*$/.test(t))return e.setUserEntryError("User IDs are numbers!");var n=new Set(t.split(/[,\s]+/).filter(Boolean));e.setState({userIdEntry:t,userIds:n})};e.setAllowedVersionError=function(t){
e.setState({allowedVersionEntryError:t})};e.handleAllowedVersionEntry=function(t){e.setState({allowedVersionEntry:t})};e.handleAllowedVersionEnter=function(t){t.charCode===se.yXg.ENTER&&e.handleAddAllowedVersion()};e.handleAddAllowedVersion=function(){var t=e.state,n=t.allowedVersions,r=t.allowedVersionEntry;if(0===(r=r.trim()).length)return e.setAllowedVersionError("Enter a valid version number!");if(n.indexOf(r)>=0)return e.setAllowedVersionError("You already added that version!");e.setState({allowedVersions:V_(n).concat([r]),allowedVersionEntry:"",allowedVersionEntryError:""})};e.handleRemoveAllowedVersion=function(t){var n=e.state.allowedVersions;n=n.filter((function(e){return e!==t}));e.setState({allowedVersions:n})};e.handleAllowLoggedOut=function(t){e.setState({allowLoggedOut:t})};e.handleExpirationChange=function(t){e.setState({ttlSeconds:t})};e.handleReleaseChannelChange=function(t){e.setState({releaseChannel:t})};e.handleExperiments=function(t){if(0!==t.trim().length){try{
var n=JSON.parse(t);for(var r in n){if(null==r.match(/^[0-9]{4}\-[0-9]{2}_[a-z0-9_]+$/)){e.setState({experimentsError:"".concat(r," is an invalid experiment name")});return}if("number"!=typeof n[r]){e.setState({experimentsError:"".concat(r," has an invalid bucket override")});return}}}catch(t){e.setState({experimentsError:"Unable to parse experiments ".concat(t.message)});return}e.setState({experiments:t,experimentsError:void 0})}else e.setState({experimentsError:void 0})};e.generatePayload=function(){return{overrides:e.props.buildOverrides,meta:{release_channel:"all"===e.state.releaseChannel?null:e.state.releaseChannel,ttl_seconds:e.state.ttlSeconds,user_ids:Array.from(e.state.userIds),allowed_versions:e.isMobile()?e.state.allowedVersions:void 0,allow_logged_out:e.state.allowLoggedOut,experiments:null==e.state.experiments?null:JSON.parse(e.state.experiments)}}};var n=M_(e);e.handleGenerateLink=L_((function(){var e,t;return Q_(this,(function(r){switch(r.label){case 0:
if(n.isMobile()&&0===n.state.allowedVersions.length){n.setAllowedVersionError("You must add at least one allowed version for iOS");return[2]}n.setStatusMessage(null);e=n.generatePayload();return[4,(0,l_.M3)(e)];case 1:if(!1!==(t=r.sent()).error)n.setStatusMessage(JSON.stringify(t.error),Ce.Z.Colors.STATUS_RED);else{n.setState({publicLink:t.url.toString()});0===e.meta.user_ids.length&&n.setStatusMessage("Warning! No users added to the whitelist! This link could be used by anyone to override their build.",Ce.Z.Colors.STATUS_YELLOW)}return[2]}}))}));return e}var o=r.prototype;o.isMobile=function(){var e;return $_(null!==(e=this.props.buildOverrides)&&void 0!==e?e:{})};o.renderSettingsForm=function(){var e=this,t=this.state,n=t.ttlSeconds,r=t.releaseChannel,o=t.userIdEntry,i=t.userIdEntryError,s=t.allowedVersions,a=t.allowedVersionEntry,l=t.allowedVersionEntryError,c=t.allowLoggedOut,u=t.experiments,d=t.experimentsError,f=v_.S6.find((function(e){return e.value===n})),p=s.map((function(e){
return{label:e,value:e}}));return(0,I.jsxs)(Ne.Z.Child,{basis:"70%",children:[(0,I.jsx)(C.FormItem,{title:"Expire After",className:Pe().marginBottom20,children:(0,I.jsx)(C.SingleSelect,{value:null!=f?f.value:null,options:v_.S6,onChange:this.handleExpirationChange})}),this.isMobile()?null:(0,I.jsx)(C.FormItem,{title:"Release Channel",className:Pe().marginBottom20,children:(0,I.jsx)(C.SingleSelect,{value:r,options:v_.F$,onChange:this.handleReleaseChannelChange})}),this.isMobile()?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(C.FormItem,{title:"Add allowed app version (required)",className:Pe().marginBottom20,children:(0,I.jsxs)(Ne.Z,{direction:Ne.Z.Direction.HORIZONTAL,children:[(0,I.jsx)(Ne.Z.Child,{wrap:!0,basis:"90%",children:(0,I.jsx)(C.TextInput,{autoFocus:!0,value:a,onKeyPress:this.handleAllowedVersionEnter,error:l,onChange:this.handleAllowedVersionEntry,placeholder:"Example: 34"})}),(0,I.jsx)(C.Button,{onClick:this.handleAddAllowedVersion,children:"Add"})]})}),(0,I.jsx)(C.FormItem,{
title:"Remove allowed app version",className:Pe().marginBottom20,children:(0,I.jsx)(C.SingleSelect,{value:null,options:p,onChange:this.handleRemoveAllowedVersion,isDisabled:0===s.length})})]}):null,this.isMobile()?null:(0,I.jsx)(I.Fragment,{children:(0,I.jsxs)(C.FormItem,{title:"Limit to User IDs (optional)",className:Pe().marginBottom20,children:[(0,I.jsx)(Ne.Z,{direction:Ne.Z.Direction.HORIZONTAL,children:(0,I.jsx)(Ne.Z.Child,{wrap:!0,basis:"90%",children:(0,I.jsx)(C.TextArea,{value:o,error:i,onBlur:function(){return e.setUserEntryError("")},onChange:this.handleUserIDEntry})})}),(0,I.jsx)(C.Text,{variant:"text-sm/normal",color:"text-muted",className:Pe().marginTop8,children:"User IDs can be separated by whitespace or commas."})]})}),(0,I.jsxs)(C.FormItem,{title:"Client Experiment Override",className:Pe().marginBottom20,children:[(0,I.jsx)(Ne.Z,{direction:Ne.Z.Direction.HORIZONTAL,children:(0,I.jsx)(Ne.Z.Child,{wrap:!0,basis:"90%",children:(0,I.jsx)(C.TextArea,{value:u,error:d,
onChange:this.handleExperiments,placeholder:'{"2022-01_threads":1}'})})}),(0,I.jsx)(C.Text,{variant:"text-sm/normal",color:"text-muted",className:Pe().marginTop8,children:"Locally override the given experiments to the given bucket. This ONLY applies locally and WILL NOT affect the server. When the user clears build override, the experiment override is removed as well."})]}),(0,I.jsx)(C.FormSwitch,{onChange:this.handleAllowLoggedOut,value:c,children:"Allow logged out users"})]})};o.renderPayloadBlock=function(){var e=JSON.stringify(this.generatePayload(),null,2),t=function(){return e},r=(0,I.jsx)(f_.GI,{createPromise:function(){return Promise.resolve().then(n.bind(n,455049))},webpackId:455049,renderFallback:t,render:function(n){var r=n.highlight("json",e,!0);return null==r?t():(0,I.jsx)("code",{className:"hljs scroller ".concat(r.language," ").concat(P_().scrollbarGhost," ").concat(A_().codebox),dangerouslySetInnerHTML:{__html:r.value}})}});return(0,I.jsx)(Ne.Z.Child,{children:(0,
I.jsx)(C.Card,{children:(0,I.jsx)("pre",{children:r})})})};o.renderLinkForm=function(){var e=this.state,t=e.statusTextColor,n=e.statusText,r=e.publicLink;return(0,I.jsxs)("div",{children:[(0,I.jsx)(C.FormItem,{title:"Signed Link",children:(0,I.jsxs)(Ne.Z,{children:[(0,I.jsx)(Ne.Z.Child,{wrap:!0,basis:"75%",children:(0,I.jsx)(a_.Z,{value:r})}),(0,I.jsx)(C.Button,{onClick:this.handleGenerateLink,children:"Generate Link"})]})}),(0,I.jsx)(Ce.Z,{color:t,className:"".concat(Pe().marginBottom8," ").concat(Pe().marginTop8),children:n})]})};o.render=function(){var e=this.props,t=e.onClose,n=e.transitionState;return(0,I.jsxs)(C.ModalRoot,{size:C.ModalSize.LARGE,transitionState:n,"aria-label":"Generate Public Build Override Link",children:[(0,I.jsxs)(C.ModalHeader,{justify:Ne.Z.Justify.BETWEEN,separator:!1,children:[(0,I.jsx)(C.Heading,{variant:"heading-lg/semibold",children:"Generate Public Build Override Link"}),(0,I.jsx)(C.ModalCloseButton,{onClick:t})]}),(0,I.jsxs)(C.ModalContent,{
children:[(0,I.jsxs)(Ne.Z,{children:[this.renderSettingsForm(),this.renderPayloadBlock()]}),this.renderLinkForm()]})]})};return r}(c.Component);function rT(){throw new Error("Send help")}function oT(){var e=Y_(c.useState(!1),2),t=e[0],n=e[1],r=Y_(c.useState(""),2),o=r[0],i=r[1];c.useEffect((function(){L_((function(){var e;return Q_(this,(function(t){switch(t.label){case 0:return[4,(0,Yu.Y)()];case 1:e=t.sent();i(e);return[2]}}))}))()}),[]);return t?{}:(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)("div",{className:[A_().buttonsContainer,Pe().marginBottom20].join(" "),children:[(0,I.jsx)(C.Button,{onClick:function(){return window.open(o,"_blank")},disabled:""===o,children:"Open Overlay"}),(0,I.jsx)(C.Button,{onClick:function(){return function(){return __.apply(this,arguments)}()},disabled:""===o,children:"Global Overlay (PoC)"}),(0,I.jsx)(C.Button,{onClick:function(){h_.Z.getSocket().close();h_.Z.getSocket().connect()},children:"Reset Socket"}),u_.q&&(0,I.jsx)(C.Button,{onClick:function(){
u.Z.dispatch({type:"CLEAR_CACHES"})},children:"Clear Caches"})]}),(0,I.jsx)(C.FormSection,{title:"Crashes",tag:C.FormTitleTags.H1,children:(0,I.jsxs)("div",{className:A_().buttonsContainer,children:[(0,I.jsx)(C.SingleSelect,{value:void 0,options:[{value:void 0,label:"Native libdiscord crash"},{value:0,label:"Abort()"},{value:1,label:"SIGSEGV()"},{value:2,label:"EXCEPTION_ACCESS_VIOLATION"},{value:3,label:"RaiseFailFastException"}],onChange:function(e){return null!=e&&Jo.default.crash(e)}}),(0,I.jsx)(C.SingleSelect,{value:void 0,options:[{value:void 0,label:"Native JS crash"},{value:n_.Xo.RendererProcessDelayed,label:"Delayed exception in renderer process"},{value:n_.Xo.RendererProcess,label:"Exception in renderer process"},{value:n_.Xo.MainProcess,label:"Exception in main process"}],onChange:function(e){return null!=e?(t=e,void Jo.default.triggerJSException(t)):void 0;var t}}),(0,I.jsx)(C.Button,{onClick:function(){return n(!0)},children:"React Crash"}),(0,I.jsx)(C.Button,{onClick:rT,
children:"onClick Throw"})]})})]})}var iT=r.ZP.connectStores([T_.default,m_.Z],(function(){return{isTracingRequests:T_.default.isTracingRequests,isForcedCanary:T_.default.isForcedCanary,isLoggingGatewayEvents:T_.default.isLoggingGatewayEvents,isLoggingOverlayEvents:T_.default.isLoggingOverlayEvents,isLoggingAnalyticsEvents:T_.default.isLoggingAnalyticsEvents,isAxeEnabled:T_.default.isAxeEnabled,isSourceMapsEnabled:T_.default.sourceMapsEnabled,isAnalyticsDebuggerEnabled:T_.default.isAnalyticsDebuggerEnabled,isIdleStatusIndicatorEnabled:T_.default.isIdleStatusIndicatorEnabled,appDirectoryIncludesInactiveCollections:T_.default.appDirectoryIncludesInactiveCollections,isDevToolsEnabled:m_.Z.devToolsEnabled}}))((function(e){var t=e.isTracingRequests,n=e.isForcedCanary,o=e.isLoggingGatewayEvents,i=e.isLoggingOverlayEvents,s=e.isLoggingAnalyticsEvents,a=(e.isAxeEnabled,
e.isSourceMapsEnabled),l=e.isAnalyticsDebuggerEnabled,c=e.isIdleStatusIndicatorEnabled,u=e.appDirectoryIncludesInactiveCollections,f=e.isDevToolsEnabled,p=(0,r.e7)([d.default],(function(){return d.default.getCurrentUser()}));return(0,I.jsxs)(C.FormSection,{title:"Developer Flags",tag:C.FormTitleTags.H1,children:[Hu.Z.isDeveloper&&(0,I.jsx)(C.FormSwitch,{value:f,note:(0,I.jsxs)(I.Fragment,{children:["Enable client DevTools (open via Help menu in top right or with"," ",(0,I.jsx)("kbd",{className:A_().key,children:$h.Z.modKey})," + ",(0,I.jsx)("kbd",{className:A_().key,children:$h.Z.altKey})," ","+ ",(0,I.jsx)("kbd",{className:A_().key,children:"O"}),")."]}),onChange:function(e){return(0,p_.Qh)({devToolsEnabled:e})},children:"Enable DevTools"}),(0,I.jsx)(C.FormSwitch,{value:t,note:"Force trace all client requests with APM",onChange:function(e){return(0,o_.y)({trace:e})},children:"Enable Tracing Requests"}),(0,I.jsx)(C.FormSwitch,{value:n,note:"Force all API requests to canary instances",
onChange:function(e){return(0,o_.y)({canary:e})},children:"Enable Forced Canary"}),(0,I.jsx)(C.FormSwitch,{value:o,note:"Logs all incoming and outgoing gateway events to the developer console, enable verbose logging in the developer console to see!",onChange:function(e){return(0,o_.y)({logGatewayEvents:e})},children:"Enable Logging of Gateway Events to Console"}),(0,I.jsx)(C.FormSwitch,{value:i,note:"Logs all overlay related RPC events. Super noisy if an overlay is connected",onChange:function(e){return(0,o_.y)({logOverlayEvents:e})},children:"Enable Logging of Overlay RPC Events & Commands"}),(0,I.jsx)(C.FormSwitch,{value:s,note:"Logs all analytics events to the developer console",onChange:function(e){return(0,o_.y)({logAnalyticsEvents:e})},children:"Enable Logging of Analytics Events"}),(0,I.jsx)(C.FormSwitch,{value:a,note:"Only enable on devices you trust.",onChange:function(e){return(0,o_.y)({sourceMapsEnabled:e})},children:"Enable source maps to be loaded on this client"}),(0,
I.jsx)(C.FormSwitch,{value:l,note:"Displays a floating debugger with viewed impressions",onChange:function(e){return(0,o_.y)({analyticsDebuggerEnabled:e})},children:"Enable standard analytics debugger view"}),(null==p?void 0:p.isStaff())?(0,I.jsx)(C.FormSwitch,{value:c,note:"Displays a floating idle status indicator",onChange:function(e){return(0,o_.y)({idleStatusIndicatorEnabled:e})},children:"Enable idle status indicator"}):null,null,(null==p?void 0:p.isStaff())?(0,I.jsx)(C.FormSwitch,{value:u,note:"In App Directory, include inactive collections on the homepage. Use this to preview changes to collections before publishing them.",onChange:function(e){return(0,o_.y)({appDirectoryIncludesInactiveCollections:e})},children:"Preview Unpublished Collections on App Directory Homepage"}):null,Hu.Z.isDeveloper?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("div",{className:[A_().buttonsContainer,Pe().marginBottom20].join(" "),children:(0,I.jsx)(I_,{})}),(0,I.jsx)(C.FormDivider,{
className:A_().divider})]}):null]})}));function sT(){var e=(0,r.e7)([O_.Z],(function(){return O_.Z.getSurveyOverride()})),t=Y_(c.useState(null!=e?e:""),2),n=t[0],o=t[1];return(0,I.jsxs)(C.FormSection,{tag:C.FormTitleTags.H1,title:"Survey Override",className:Pe().marginTop60,children:[(0,I.jsx)(C.FormTitle,{children:"Copy the ID of the Survey you want to test:"}),(0,I.jsxs)("form",{className:A_().surveyOverride,onSubmit:function(e){e.preventDefault();n.length>0?i_.Xq(n):i_.Xq(null)},children:[(0,I.jsx)(C.TextInput,{className:A_().surveyOverrideInput,value:n,onChange:o}),(0,I.jsx)(C.Button,{type:"submit",children:"Save Override"})]})]})}function aT(){var e,t=(0,r.e7)([d_.Z],(function(){return d_.Z.overrideId()})),n=Y_(c.useState(null!==(e=d_.Z.overrideId())&&void 0!==e?e:""),2),o=n[0],i=n[1];return(0,I.jsxs)(C.FormSection,{tag:C.FormTitleTags.H1,title:"Changelog Override",className:Pe().marginTop60,children:[(0,I.jsx)(C.FormTitle,{children:"Enter the ID of the changelog you want to test"
}),(0,I.jsxs)("div",{className:A_().surveyOverride,children:[(0,I.jsx)(C.TextInput,{className:A_().surveyOverrideInput,value:o,onChange:i}),(0,I.jsx)(C.Button,{onClick:function(){""===o?r_.Z.setChangelogOverride(null):r_.Z.setChangelogOverride(o)},disabled:t===o,children:"Update Changelog"})]})]})}var lT=function(e){B_(n,e);var t=K_(n);function n(){Z_(this,n);return t.apply(this,arguments)}n.prototype.render=function(){return(0,I.jsxs)(c.Fragment,{children:[(0,I.jsx)(iT,{}),(0,I.jsx)(oT,{}),(0,I.jsx)(sT,{}),(0,I.jsx)(aT,{}),(0,I.jsx)(tT,{})]})};return n}(c.PureComponent);const cT=lT;var uT=n(22158);function dT(){return(0,I.jsx)(uT.M,{})}var fT=n(661123),pT=n(987594);function mT(){var e=fs.xq.useSetting(),t=c.useMemo((function(){return(0,pT.bL)(e)}),[e]);return(0,I.jsx)(C.FormSection,{tag:C.FormTitleTags.H1,title:q.Z.Messages.FRIEND_REQUESTS,children:(0,I.jsxs)(C.FormSection,{title:q.Z.Messages.FRIEND_PERMITTED_SOURCE,className:Pe().marginBottom40,children:[(0,I.jsx)(C.FormSwitch,{
className:B()(Pe().marginTop8,Pe().marginBottom20),value:t.all,onChange:function(e){return fs.xq.updateSetting(e?se.HGf:se.HGf&~se.SOq.NO_RELATION)},children:q.Z.Messages.FRIEND_PERMITTED_SOURCE_ALL}),(0,I.jsx)(C.FormSwitch,{value:t.all||t.mutualFriends,onChange:function(t){return fs.xq.updateSetting(t?fT.pj(e,se.SOq.MUTUAL_FRIENDS):fT.M1(e,se.SOq.MUTUAL_FRIENDS,se.SOq.NO_RELATION))},children:q.Z.Messages.FRIEND_PERMITTED_SOURCE_MUTUAL_FRIENDS}),(0,I.jsx)(C.FormSwitch,{value:t.all||t.mutualGuilds,onChange:function(t){return fs.xq.updateSetting(t?fT.pj(e,se.SOq.MUTUAL_GUILDS):fT.M1(e,se.SOq.MUTUAL_GUILDS,se.SOq.NO_RELATION))},children:q.Z.Messages.FRIEND_PERMITTED_SOURCE_MUTUAL_GUILDS})]})})}var hT=n(875700);function ET(){if(!(0,Kc.nI)())throw new Error("Attempted to stop observing candidate games on a non-desktop platform");Jo.default.clearCandidateGamesCallback();u.Z.dispatch({type:"GAME_DETECTION_WATCH_CANDIDATE_GAMES_STOP"})}
var ST=n(959207),gT=n(671723),_T=n(108106),TT=n(425454),OT=n(416044),bT=n(295652),yT=n(496320),IT=n.n(yT),vT=n(637678),NT=n.n(vT),AT=n(913957),CT=n.n(AT);function jT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xT(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function PT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){xT(e,t,n[t])}))}return e}function RT(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function MT(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done);s=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){a=!0;o=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||LT(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function DT(e){return function(e){if(Array.isArray(e))return jT(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||LT(e)||function(){
throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function LT(e,t){if(e){if("string"==typeof e)return jT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jT(e,t):void 0}}var ZT=r.ZP.connectStores([Tp.Z],(function(){return{theme:Tp.Z.theme}}))(wE.ZP),wT=(0,Kc.ED)();function UT(e){var t=e.onClose,n=(0,r.e7)([gT.ZP],(function(){return gT.ZP.getCandidateGames()})),o=MT(c.useState(null),2),i=o[0],s=o[1],a=n.map((function(e){return{value:e.pid,label:null!=e.name?e.name:""}}));return(0,I.jsxs)(C.Dialog,{className:B()(IT().addGamePopout,NT().elevationBorderHigh),"aria-label":q.Z.Messages.SETTINGS_GAMES_ADD_NEW_GAME,children:[(0,I.jsx)(C.SearchableSelect,{placeholder:q.Z.Messages.SELECT,value:i,options:a,
onChange:function(e){s(e)}}),(0,I.jsx)(C.FormDivider,{className:B()(Pe().marginTop8,Pe().marginBottom8)}),(0,I.jsxs)("div",{className:B()(IT().actions,CT().horizontal),children:[(0,I.jsx)(C.Button,{className:IT().cancelButton,look:C.ButtonLooks.LINK,color:C.ButtonColors.PRIMARY,onClick:t,children:q.Z.Messages.CANCEL}),(0,I.jsx)(C.Button,{disabled:null==i,onClick:function(){if(null!=i){hT.Z.addGame(i);t()}},children:q.Z.Messages.SETTINGS_GAMES_ADD_NEW_GAME})]})]})}function BT(e){var t,n,o=e.rawGame,i=e.nowPlaying,s=void 0!==i&&i,a=e.isOverride,l=function(){hT.Z.deleteEntry(p)},u=function(){p.name!==h&&hT.Z.editName(p,h)},d=function(e){if(13===e.keyCode){e.currentTarget.blur();e.preventDefault()}},f=function(){hT.Z.toggleOverlay(p)},p=(0,r.cj)([ST.Z,gT.ZP,jh.Z],(function(){return(0,gT.FZ)(o)})),m=MT(c.useState(null!==(t=p.name)&&void 0!==t?t:"???"),2),h=m[0],E=m[1],S=B()(CT().flexCenter,(xT(n={},IT().game,!s),xT(n,IT().activeGame,s),xT(n,j_().card,!s),xT(n,IT().nowPlaying,null!=p&&s),n))
;return(0,I.jsxs)("div",{className:S,children:[(0,I.jsxs)("div",{className:B()(IT().gameNameLastPlayed,CT().vertical),children:[p.verified&&!a?(0,I.jsxs)("div",{className:IT().detectedApplication,children:[(0,I.jsx)("div",{className:IT().gameName,children:p.name}),(0,I.jsx)(C.Tooltip,{text:q.Z.Messages.SETTINGS_GAMES_VERIFIED_ICON,children:function(e){return(0,I.jsx)(Ag.Z,RT(PT({className:IT().gameVerifiedIcon,size:18,color:A.Z.unsafe_rawColors.BRAND_500.css},e),{children:(0,I.jsx)(Cg.Z,{width:18,height:18,color:A.Z.unsafe_rawColors.WHITE_500.css})}))}})]}):(0,I.jsx)("input",{className:B()(IT().gameName,IT().gameNameInput),type:"text",maxLength:128,value:h,onBlur:u,onKeyDown:d,onChange:function(e){return E(e.target.value)}}),function(){var e,t=p.played,n=p.exePath;s?e=q.Z.Messages.SETTINGS_GAMES_NOW_PLAYING_STATE:null!=t&&""!==t&&(e=q.Z.Messages.SETTINGS_GAMES_LAST_PLAYED.format({when:t}));return(0,I.jsx)("div",{className:IT().lastPlayed,children:(0,I.jsx)(_T.Z,{
hoverText:null!=n&&""!==n?n.toUpperCase():"",children:e})})}()]}),function(){if(!wT)return null;var e=p.overlay,t=p.overlayWarn,n=e?q.Z.Messages.SETTINGS_GAMES_OVERLAY_ON:q.Z.Messages.SETTINGS_GAMES_OVERLAY_OFF,r=e?(0,I.jsx)(TT.Z,{className:IT().overlayToggleIconOn,foreground:IT().fill}):(0,I.jsx)(OT.Z,{className:IT().overlayToggleIconOff,foreground:IT().fill}),o=t?(0,I.jsx)(C.Tooltip,{text:q.Z.Messages.SETTINGS_GAMES_OVERLAY_WARNING,children:function(e){return(0,I.jsx)("i",PT({className:IT().overlayWarningIcon},e))}}):null;return(0,I.jsxs)("div",{className:B()(CT().flexCenter,CT().noWrap,CT().justifyBetween),children:[o,(0,I.jsx)("div",{className:IT().overlayStatusText,children:n}),(0,I.jsx)(C.Tooltip,{text:q.Z.Messages.SETTINGS_GAMES_TOGGLE_OVERLAY,children:function(e){var t=e.onMouseEnter,n=e.onMouseLeave;return(0,I.jsx)(C.Clickable,{"aria-label":q.Z.Messages.SETTINGS_GAMES_TOGGLE_OVERLAY,className:IT().overlayToggleIcon,onClick:f,onMouseEnter:t,onMouseLeave:n,children:r})}})]})
}(),!s||a?(0,I.jsx)(s_.Z,{className:IT().removeGame,onClick:l}):null]})}function GT(){return(0,I.jsx)("div",{className:B()(CT().flexCenter,IT().notDetected,IT().activeGame),children:(0,I.jsxs)("div",{className:B()(IT().gameNameLastPlayed,CT().vertical),children:[(0,I.jsx)("div",{className:IT().gameName,children:q.Z.Messages.SETTINGS_GAMES_NO_GAME_DETECTED}),(0,I.jsx)("div",{className:IT().lastPlayed,children:q.Z.Messages.SETTINGS_GAMES_NOT_PLAYING})]})})}function kT(e){var t=e.children;return(0,I.jsxs)(ZT,{className:Pe().marginTop40,children:[(0,I.jsx)(wE.ox,{darkSrc:n(498913),lightSrc:n(598150),width:430,height:250}),t]})}var FT=(0,bT.oH)((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Set(t.map((function(e){return e.exePath})))}));const HT=function(){var e=(0,r.Wu)([gT.ZP],(function(){return gT.ZP.getGamesSeen(!0)})),t=(0,r.cj)([gT.ZP],(function(){return{runningGame:gT.ZP.getVisibleGame(),
overrideExePaths:FT.apply(void 0,DT(gT.ZP.getOverrides()))}})),n=t.runningGame,o=t.overrideExePaths;c.useEffect((function(){!function(){if(!(0,Kc.nI)())throw new Error("Attempted to observe candidate games on a non-desktop platform");Jo.default.setCandidateGamesCallback((function(e){u.Z.dispatch({type:"CANDIDATE_GAMES_CHANGE",games:e})}));u.Z.dispatch({type:"GAME_DETECTION_WATCH_CANDIDATE_GAMES_START"})}();return ET}),[]);return(0,I.jsx)(C.FormSection,{tag:"h1",title:q.Z.Messages.REGISTERED_GAMES,children:Kc.FB?(0,I.jsxs)(I.Fragment,{children:[null!=n?(0,I.jsx)(BT,{rawGame:n,isOverride:o.has(n.exePath),nowPlaying:!0},n.exePath):(0,I.jsx)(GT,{}),(0,I.jsxs)("div",{className:B()(IT().nowPlayingAdd,Pe().marginReset,Pe().marginTop8,Pe().marginBottom20),children:[(0,I.jsx)("span",{children:q.Z.Messages.SETTINGS_GAMES_NOT_SEEING_GAME}),(0,I.jsx)(C.Popout,{renderPopout:function(e){var t=e.closePopout;return(0,I.jsx)(UT,{onClose:t})},align:"center",position:"bottom",children:function(e){
return(0,I.jsx)(C.Button,RT(PT({},e),{look:C.ButtonLooks.LINK,size:C.ButtonSizes.MIN,color:C.ButtonColors.LINK,children:q.Z.Messages.SETTINGS_GAMES_ADD_GAME}))}})]}),0===e.length?(0,I.jsx)(kT,{children:(0,I.jsx)(wE.OZ,{children:q.Z.Messages.SETTINGS_GAMES_NO_GAMES_HEADER})}):(0,I.jsxs)(C.FormSection,{className:Pe().marginTop40,children:[(0,I.jsx)(C.FormTitle,{className:Pe().marginBottom4,children:q.Z.Messages.SETTINGS_GAMES_ADDED_GAMES_LABEL}),e.map((function(e){return(0,I.jsx)(BT,{rawGame:e,isOverride:o.has(e.exePath)},e.exePath)}))]})]}):(0,I.jsx)(kT,{})})};var YT=n(108379),VT=n.n(YT);function WT(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function zT(e){var t=e.features;return(0,I.jsx)(I.Fragment,{children:t.map((function(e,t){return(0,I.jsxs)(Ne.Z,{align:Ne.Z.Align.CENTER,className:B()(Pe().marginTop20,VT().feature,WT({},VT().featureBorder,0!==t)),children:[null!=e.icon?(0,I.jsx)("div",{className:B()(VT().icon,e.icon)
}):null,(0,I.jsxs)("div",{children:[null!=e.title?(0,I.jsx)("div",{className:B()(Pe().marginBottom8,VT().title),children:e.title}):null,(0,I.jsx)("div",{className:VT().description,children:e.description})]})]},t)}))})}var KT=n(993137),QT=n(759702),qT=n.n(QT);function XT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $T(e){$T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return $T(e)}function JT(e,t){return!t||"object"!==tO(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function eO(e,t){eO=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return eO(e,t)}var tO=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function nO(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1
;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=$T(e);if(t){var o=$T(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return JT(this,n)}}var rO=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&eO(e,t)}(n,e);var t=nO(n);function n(){XT(this,n);return t.apply(this,arguments)}n.prototype.render=function(){var e=this.props,t=e.className,n=e.videoID,r=e.videoClassName;return(0,I.jsx)(KT.Z,{aspectRatio:16/9,className:B()(t,qT().videoWrapper),children:(0,I.jsx)("iframe",{className:B()(r,qT().video),src:"https://www.youtube.com/embed/".concat(n,"?rel=0&showinfo=0&controls=1&origin=https://").concat(se.$R1),
allowFullScreen:!0,sandbox:"allow-forms allow-modals allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts"})})};return n}(c.Component),oO=n(547026),iO=n.n(oO);function sO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aO(e){aO=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return aO(e)}function lO(e,t){return!t||"object"!==uO(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function cO(e,t){cO=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return cO(e,t)}var uO=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function dO(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{
Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=aO(e);if(t){var o=aO(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return lO(this,n)}}const fO=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&cO(e,t)}(n,e);var t=dO(n);function n(){sO(this,n);return t.apply(this,arguments)}n.prototype.render=function(){return(0,I.jsxs)("div",{className:iO().features,children:[(0,I.jsx)(rO,{className:iO().video,videoID:"SWzB1mx2o5k"}),(0,I.jsx)(C.Heading,{className:iO().perksHeading,variant:"heading-sm/semibold",children:q.Z.Messages.HYPESQUAD_PERKS_HEADING}),(0,I.jsx)(zT,{features:[{icon:iO().perkNewsletter,title:q.Z.Messages.HYPESQUAD_PERK_TITLE_NEWSLETTER,
description:q.Z.Messages.HYPESQUAD_PERK_DESCRIPTION_NEWSLETTER},{icon:iO().perkBadge,title:q.Z.Messages.HYPESQUAD_PERK_TITLE_PROFILE_BADGE,description:q.Z.Messages.HYPESQUAD_PERK_DESCRIPTION_PROFILE_BADGE},{icon:iO().perkChallenges,title:q.Z.Messages.HYPESQUAD_PERK_TITLE_SQUAD_CHALLENGES,description:q.Z.Messages.HYPESQUAD_PERK_DESCRIPTION_SQUAD_CHALLENGES}]})]})};return n}(c.Component);var pO=n(635535),mO=n(653163),hO=n.n(mO);function EO(e,t,n,r,o,i,s){try{var a=e[i](s),l=a.value}catch(e){n(e);return}a.done?t(l):Promise.resolve(l).then(r,o)}function SO(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){EO(i,r,o,s,a,"next",e)}function a(e){EO(i,r,o,s,a,"throw",e)}s(void 0)}))}}function gO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _O(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function TO(e){
TO=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return TO(e)}function OO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){_O(e,t,n[t])}))}return e}function bO(e,t){return!t||"object"!==IO(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function yO(e,t){yO=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return yO(e,t)}var IO=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function vO(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0
;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=TO(e);if(t){var o=TO(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return bO(this,n)}}var NO,AO,CO,jO=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:s.label++;return{value:i[1],done:!1};case 5:s.label++;r=i[1];i=[0];continue;case 7:i=s.ops.pop();s.trys.pop();continue;default:if(!(o=s.trys,
o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1];o=i;break}if(o&&s.label<o[2]){s.label=o[2];s.ops.push(i);break}o[2]&&s.ops.pop();s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},xO=(_O(NO={},se.gkr.HOUSE_1,hO().membershipDialogHouse1),_O(NO,se.gkr.HOUSE_2,hO().membershipDialogHouse2),_O(NO,se.gkr.HOUSE_3,hO().membershipDialogHouse3),NO),PO=(_O(AO={},se.gkr.HOUSE_1,hO().houseLogoHouse1),_O(AO,se.gkr.HOUSE_2,hO().houseLogoHouse2),_O(AO,se.gkr.HOUSE_3,hO().houseLogoHouse3),AO),RO=(_O(CO={},se.gkr.HOUSE_1,n(903049)),_O(CO,se.gkr.HOUSE_2,n(188374)),_O(CO,se.gkr.HOUSE_3,n(789621)),CO),MO=function(e){var t;return(_O(t={},se.gkr.HOUSE_1,q.Z.Messages.HYPESQUAD_DESCRIPTION_HOUSE_1),_O(t,se.gkr.HOUSE_2,q.Z.Messages.HYPESQUAD_DESCRIPTION_HOUSE_2),
_O(t,se.gkr.HOUSE_3,q.Z.Messages.HYPESQUAD_DESCRIPTION_HOUSE_3),t)[e]},DO=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&yO(e,t)}(r,e);var t=vO(r);function r(){gO(this,r);var e;(e=t.apply(this,arguments)).handleJoinHypeSquadClick=function(){(0,C.openModalLazy)(SO((function(){var e,t;return jO(this,(function(r){switch(r.label){case 0:return[4,Promise.all([n.e(40532),n.e(47935)]).then(n.bind(n,347935))];case 1:e=r.sent(),t=e.default;return[2,function(e){return(0,I.jsx)(t,OO({},e))}]}}))})))};return e}r.prototype.render=function(){var e=this.props,t=e.houseMembership,n=e.isClaimed,r=e.isVerified;if(!n||!r)return null;if(null!=t){var o=q.Z.Messages.HYPESQUAD_MEMBERSHIP_HEADING.format({houseName:(0,pO.X8)(t)});return(0,I.jsx)("div",{className:B()(hO().membershipDialog,xO[t]),children:(0,I.jsxs)("div",{
className:hO().membershipDialogContent,children:[(0,I.jsxs)(Ne.Z,{children:[(0,I.jsxs)(Ne.Z.Child,{grow:1,shrink:1,children:[(0,I.jsx)(C.Text,{className:hO().membershipDialogHeading,variant:"text-xs/bold",children:q.Z.Messages.HYPESQUAD_YOUR_HOUSE}),(0,I.jsx)(C.Heading,{className:hO().membershipDialogHouseName,variant:"heading-sm/semibold",children:o}),(0,I.jsx)(C.Text,{className:hO().membershipDialogHouseDescription,variant:"text-md/normal",children:MO(t)})]}),(0,I.jsx)(Ne.Z.Child,{className:hO().houseLogoWrapper,grow:0,shrink:0,wrap:!0,children:(0,I.jsx)("img",{className:B()(hO().houseLogo,PO[t]),src:RO[t],alt:o})})]}),(0,I.jsxs)(C.Text,{className:hO().membershipDialogSwitchHouses,variant:"text-md/normal",children:[q.Z.Messages.HYPESQUAD_SWITCH_HOUSES_PROMPT,(0,I.jsx)(C.Clickable,{className:hO().membershipDialogSwitchHousesAction,onClick:this.handleJoinHypeSquadClick,tag:"span",children:q.Z.Messages.HYPESQUAD_SWITCH_HOUSES_ACTION})]})]})})}return(0,I.jsxs)("div",{
className:hO().joinCTAWrapper,children:[(0,I.jsxs)(Ne.Z,{className:hO().joinCTA,align:Ne.Z.Align.CENTER,justify:Ne.Z.Justify.CENTER,direction:Ne.Z.Direction.HORIZONTAL,children:[(0,I.jsx)(Ne.Z.Child,{grow:0,shrink:0,children:(0,I.jsx)(C.Text,{variant:"text-sm/normal",children:q.Z.Messages.HYPESQUAD_READY_TO_REP})}),(0,I.jsx)(Ne.Z.Child,{grow:0,shrink:0,children:(0,I.jsx)(C.Button,{onClick:this.handleJoinHypeSquadClick,children:q.Z.Messages.HYPESQUAD_JOIN})})]}),(0,I.jsx)(C.Text,{className:hO().newsletterWarning,variant:"text-sm/normal",children:q.Z.Messages.HYPESQUAD_NEWSLETTER_WARNING})]})};return r}(c.Component),LO=n(908594),ZO=n(127858),wO=n.n(ZO);function UO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BO(e){BO=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return BO(e)}function GO(e,t){return!t||"object"!==FO(t)&&"function"!=typeof t?function(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function kO(e,t){kO=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return kO(e,t)}var FO=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function HO(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=BO(e);if(t){var o=BO(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return GO(this,n)}}var YO=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&kO(e,t)}(n,e);var t=HO(n)
;function n(){UO(this,n);var e;(e=t.apply(this,arguments)).state={isRequestPending:!1,hasError:!1};e.handleLeaveHypeSquadError=function(){e.setState({hasError:!0})};e.handleLeaveHypeSquadClick=function(){e.setState({isRequestPending:!0},(function(){LO.Z.leaveHypeSquadOnline().then((function(){e.setState({isRequestPending:!1})})).catch((function(){e.setState({hasError:!0,isRequestPending:!1})}))}))};return e}var r=n.prototype;r.renderErrorMessage=function(){return this.state.hasError?(0,I.jsx)("div",{className:wO().error,children:q.Z.Messages.HYPESQUAD_LEAVE_ERROR}):null};r.render=function(){var e=this.state.isRequestPending;return this.props.isHypeSquadOnlineMember?(0,I.jsxs)("div",{className:wO().leaveActionWrapper,children:[this.renderErrorMessage(),(0,I.jsxs)(C.Text,{variant:"text-sm/normal",children:[q.Z.Messages.HYPESQUAD_LEAVE_PROMPT,(0,I.jsx)(C.Button,{className:wO().leaveButton,color:C.Button.Colors.LINK,look:C.Button.Looks.LINK,onClick:this.handleLeaveHypeSquadClick,
size:C.Button.Sizes.NONE,submitting:e,children:q.Z.Messages.HYPESQUAD_LEAVE_ACTION})]})]}):null};return n}(c.PureComponent),VO=n(470758),WO=n(177248),zO=n.n(WO);function KO(e,t,n,r,o,i,s){try{var a=e[i](s),l=a.value}catch(e){n(e);return}a.done?t(l):Promise.resolve(l).then(r,o)}function QO(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){KO(i,r,o,s,a,"next",e)}function a(e){KO(i,r,o,s,a,"throw",e)}s(void 0)}))}}function qO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XO(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function $O(e){$O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return $O(e)}function JO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){XO(e,t,n[t])}))}return e}function eb(e,t){return!t||"object"!==nb(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function tb(e,t){tb=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return tb(e,t)}var nb=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function rb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=$O(e);if(t){var o=$O(this).constructor;n=Reflect.construct(r,arguments,o)
}else n=r.apply(this,arguments);return eb(this,n)}}var ob=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:s.label++;return{value:i[1],done:!1};case 5:s.label++;r=i[1];i=[0];continue;case 7:i=s.ops.pop();s.trys.pop();continue;default:if(!(o=s.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1];o=i;break}if(o&&s.label<o[2]){s.label=o[2];s.ops.push(i);break}o[2]&&s.ops.pop();s.trys.pop();continue}
i=t.call(e,s)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},ib=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&tb(e,t)}(r,e);var t=rb(r);function r(){qO(this,r);return t.apply(this,arguments)}var o=r.prototype;o.renderNotice=function(){var e=this.props,t=e.isClaimed,n=e.unclaimedNotice,r=e.unverifiedNotice;return t?null!=r?r:q.Z.Messages.NOTICE_UNVERIFIED_ACCOUNT:null!=n?n:q.Z.Messages.NOTICE_UNCLAIMED_ACCOUNT};o.renderPrimaryAction=function(){return this.props.isClaimed?this.props.hasEmail?(0,I.jsx)(Ne.Z.Child,{grow:0,shrink:0,children:(0,I.jsx)(Op.Z,{})}):(0,I.jsx)(C.Button,{size:C.Button.Sizes.MEDIUM,color:C.Button.Colors.BRAND,onClick:this.openChangeEmailModal,children:q.Z.Messages.ADD_EMAIL_SHORT}):(0,I.jsx)(Ne.Z.Child,{grow:0,shrink:0,
children:(0,I.jsx)(C.Button,{size:C.Button.Sizes.MEDIUM,color:C.Button.Colors.BRAND,onClick:this.openClaimAccountModal,children:q.Z.Messages.CLAIM_ACCOUNT})})};o.renderSecondaryAction=function(){return this.props.isClaimed&&this.props.hasEmail?(0,I.jsx)(Ne.Z.Child,{grow:0,shrink:0,children:(0,I.jsx)(C.Button,{color:C.Button.Colors.PRIMARY,look:C.Button.Looks.LINK,onClick:this.openChangeEmailModal,children:q.Z.Messages.CHANGE_EMAIL_SHORT})}):null};o.openClaimAccountModal=function(){(0,C.openModalLazy)(QO((function(){var e,t;return ob(this,(function(r){switch(r.label){case 0:return[4,Promise.all([n.e(40532),n.e(73284)]).then(n.bind(n,854104))];case 1:e=r.sent(),t=e.default;return[2,function(e){return(0,I.jsx)(t,JO({},e))}]}}))})))};o.openChangeEmailModal=function(){(0,C.openModalLazy)(QO((function(){var e,t;return ob(this,(function(r){switch(r.label){case 0:return[4,Promise.all([n.e(40532),n.e(71379)]).then(n.bind(n,171379))];case 1:e=r.sent(),t=e.default;return[2,function(e){return(0,
I.jsx)(t,JO({},e))}]}}))})))};o.render=function(){var e=this.props,t=e.className,n=e.isClaimed,r=e.isVerified;return n&&r?null:(0,I.jsx)(C.Card,{className:B()(zO().wrapper,t),children:(0,I.jsxs)(Ne.Z,{align:Ne.Z.Align.CENTER,children:[(0,I.jsx)(Ne.Z.Child,{className:zO().image,grow:0,shrink:0}),(0,I.jsxs)(Ne.Z.Child,{children:[(0,I.jsx)(C.Text,{variant:"text-sm/normal",children:this.renderNotice()}),(0,I.jsxs)(Ne.Z,{justify:Ne.Z.Justify.CENTER,className:zO().content,children:[this.renderPrimaryAction(),this.renderSecondaryAction()]})]})]})})};return r}(c.Component);const sb=r.ZP.connectStores([d.default],(function(){var e=d.default.getCurrentUser();te()(null!=e,"EmailNotice: currentUser cannot be undefined");return{isClaimed:e.isClaimed(),isVerified:e.verified,hasEmail:null!=e.email}}))(ib);var ab=n(125518),lb=n.n(ab);function cb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ub(e){ub=Object.setPrototypeOf?Object.getPrototypeOf:function(e){
return e.__proto__||Object.getPrototypeOf(e)};return ub(e)}function db(e,t){return!t||"object"!==pb(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function fb(e,t){fb=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return fb(e,t)}var pb=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function mb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=ub(e);if(t){var o=ub(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return db(this,n)}}var hb=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&fb(e,t)}(n,e);var t=mb(n);function n(){cb(this,n);return t.apply(this,arguments)}var r=n.prototype;r.renderIntroHeader=function(){return null==this.props.houseMembership?q.Z.Messages.HYPESQUAD_HEADING:q.Z.Messages.HYPESQUAD_HEADING_EXISTING_MEMBER};r.render=function(){var e=this.props,t=e.houseMembership,n=e.isClaimed,r=e.isVerified;return(0,I.jsxs)(C.HeadingLevel,{component:(0,I.jsxs)("div",{className:lb().intro,children:[(0,I.jsx)(C.Heading,{variant:"heading-xxl/semibold",className:lb().introHeader,children:this.renderIntroHeader()}),(0,I.jsx)(C.Text,{variant:"text-lg/normal",children:q.Z.Messages.HYPESQUAD_SUBHEADING})]}),children:[(0,I.jsx)(sb,{className:lb().verificationNotice,unclaimedNotice:q.Z.Messages.HYPESQUAD_UNCLAIMED_ACCOUNT_NOTICE,
unverifiedNotice:q.Z.Messages.HYPESQUAD_UNVERIFIED_EMAIL_NOTICE}),(0,I.jsx)(DO,{houseMembership:t,isClaimed:n,isVerified:r}),(0,I.jsx)(fO,{}),(0,I.jsx)(YO,{isHypeSquadOnlineMember:null!=t}),(0,I.jsx)(C.Card,{className:lb().attendeeCTA,children:q.Z.Messages.HYPESQUAD_ATTENDEE_CTA.format({url:se.EYA.HYPESQUAD})})]})};return n}(c.PureComponent);const Eb=r.ZP.connectStores([d.default,VO.Z],(function(){var e=d.default.getCurrentUser();te()(null!=e,"UserSettingsHypeSquad: currentUser cannot be undefined");return{houseMembership:VO.Z.getHouseMembership(),isClaimed:e.isClaimed(),isVerified:e.verified}}))(hb);var Sb=n(213276),gb=n(387099),_b=n(563726),Tb=n(639235),Ob=n(644144),bb=n(822723),yb=n.n(bb);function Ib(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vb(e,t,n,r,o,i,s){try{var a=e[i](s),l=a.value}catch(e){n(e);return}a.done?t(l):Promise.resolve(l).then(r,o)}function Nb(e){return function(){var t=this,n=arguments
;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){vb(i,r,o,s,a,"next",e)}function a(e){vb(i,r,o,s,a,"throw",e)}s(void 0)}))}}function Ab(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function jb(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function xb(e){xb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return xb(e)}function Pb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){jb(e,t,n[t])}))}return e}
function Rb(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Mb(e,t){return!t||"object"!==Lb(t)&&"function"!=typeof t?Ib(e):t}function Db(e,t){Db=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Db(e,t)}var Lb=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Zb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}
}();return function(){var n,r=xb(e);if(t){var o=xb(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Mb(this,n)}}var wb=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:s.label++;return{value:i[1],done:!1};case 5:s.label++;r=i[1];i=[0];continue;case 7:i=s.ops.pop();s.trys.pop();continue;default:if(!(o=s.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1]
;o=i;break}if(o&&s.label<o[2]){s.label=o[2];s.ops.push(i);break}o[2]&&s.ops.pop();s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},Ub=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Db(e,t)}(n,e);var t=Zb(n);function n(){Ab(this,n);var e;(e=t.apply(this,arguments)).state={codeInput:"",submitting:!1,hasError:!1,isPromoCode:!1};e.handleChange=function(t){e.setState({codeInput:t,hasError:!1})};var r,o=Ib(e);e.handleSubmit=(r=Nb((function(e){var t,n,r;return wb(this,(function(i){switch(i.label){case 0:e.preventDefault();if(""===(t=o.state.codeInput))return[2];if(null==(n=(0,Ob.JT)(t))){o.setState({hasError:!0});return[2]}o.setState({submitting:!0});i.label=1;case 1:i.trys.push([1,3,4,5])
;return[4,_b.Z.resolveGiftCode(n)];case 2:if(null!=(r=i.sent())&&null!=r.giftCode.promotion){o.setState({isPromoCode:!0});throw new Error("Cannnot redeem promotion code as gift")}to.default.track(se.rMx.OPEN_MODAL,{type:"gift_accept",location:Rb(Pb({},o.analyticsLocation),{object:se.qAy.BUTTON_CTA})});(0,Tb.V)({processedCode:n});o.setState({codeInput:""});return[3,5];case 3:i.sent();o.setState({hasError:!0});return[3,5];case 4:o.setState({submitting:!1});return[7];case 5:return[2]}}))})),function(e){return r.apply(this,arguments)});return e}n.prototype.render=function(){var e=this.props.obscureInput,t=this.state,n=t.codeInput,r=t.submitting,o=t.hasError,i=t.isPromoCode;return(0,I.jsxs)(C.FormSection,{tag:C.FormTitleTags.H1,title:q.Z.Messages.GIFT_INVENTORY_REDEEM_CODES,children:[(0,I.jsx)(C.FormTitle,{children:q.Z.Messages.APPLICATION_ENTITLEMENT_CODE_REDEMPTION_PROMPT}),(0,I.jsx)("form",{onSubmit:this.handleSubmit,children:(0,I.jsxs)(Ne.Z,{children:[(0,I.jsx)(C.TextInput,{
type:e?"password":"text",value:n,onChange:this.handleChange,placeholder:"WUMP-AAAAA-BBBBB-CCCCC",error:!i&&o?q.Z.Messages.APPLICATION_ENTITLEMENT_CODE_REDEMPTION_INVALID:null,className:yb().codeRedemptionInput}),(0,I.jsx)(C.Button,{type:"submit",submitting:r,children:q.Z.Messages.APPLICATION_ENTITLEMENT_CODE_REDEMPTION_REDEEM})]})}),i?(0,I.jsx)(C.Text,{className:yb().errorMessage,variant:"text-sm/normal",children:q.Z.Messages.APPLICATION_ENTITLEMENT_CODE_REDEMPTION_PROMOTION.format({promoLink:function(){window.open("https://discord.com/billing/promotions/".concat(n))}})}):null]})};!function(e,t,n){t&&Cb(e.prototype,t);n&&Cb(e,n)}(n,[{key:"analyticsLocation",get:function(){return Rb(Pb({},this.props.analyticsContext.location),{object:se.qAy.BUTTON_CTA})}}]);return n}(c.Component);function Bb(){var e=c.useContext(to.AnalyticsContext),t=(0,r.e7)([$r.Z],(function(){return $r.Z.enabled}));return(0,I.jsx)(Ub,{analyticsContext:e,obscureInput:t})}
var Gb=n(618887),kb=n(516659),Fb=n(99827),Hb=n(883064),Yb=n(520330),Vb=n(984985),Wb=n.n(Vb);function zb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Kb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done);s=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){a=!0;o=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return zb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zb(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const Qb=function(e){var t=e.onClose,n=e.onClaim,r=e.code,o=e.outboundPromotion,i=e.transitionState,s=Kb(c.useState(null),2),a=s[0],l=s[1],u=(0,_n.Dt)();c.useEffect((function(){null==r&&(0,m.A2)(o.id).then((function(e){return n(e)})).catch((function(e){var t;return l(null==e||null===(t=e.body)||void 0===t?void 0:t.code)}))}),[r,o.id,n]);return(0,I.jsx)(C.ModalRoot,{transitionState:i,"aria-labelledby":u,children:null!=a?(0,I.jsx)(Yb.L1,{onClose:t,errorCode:a}):null==r?(0,I.jsx)(C.ModalContent,{children:(0,I.jsx)(C.Spinner,{className:Wb().loading})}):(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(C.ModalHeader,{separator:!1,className:Wb().headerContainer,children:[(0,I.jsx)("div",{className:Wb().art}),(0,I.jsx)(C.Heading,{variant:"heading-xl/semibold",children:q.Z.Messages.OUTBOUND_PROMOTION_REDEMPTION_MODAL_TITLE})]}),(0,
I.jsxs)(C.ModalContent,{children:[(0,I.jsx)(C.Text,{variant:"text-md/normal",className:Wb().bodyText,children:o.outboundRedemptionModalBody}),(0,I.jsx)(C.FormDivider,{className:Wb().formDivider}),(0,I.jsxs)(C.FormSection,{title:q.Z.Messages.REDEMPTION_CODE,className:Wb().formSection,children:[(0,I.jsx)(a_.Z,{value:r,buttonColor:C.Button.Colors.BRAND,buttonLook:C.Button.Looks.FILLED,delay:1e3,inputClassName:Wb().textInput}),(0,I.jsx)(C.Text,{variant:"text-xs/normal",color:"header-secondary",className:Wb().confirmationText,children:q.Z.Messages.OUTBOUND_PROMOTION_CODE_CONFIRMATION_EMAIL})]})]}),(0,I.jsxs)(C.ModalFooter,{children:[(0,I.jsx)(C.Button,{color:C.Button.Colors.BRAND,onClick:function(){var e=(0,m.BU)(r,o);window.open(e,"_blank")},children:q.Z.Messages.REDEEM}),(0,I.jsx)(C.Button,{onClick:t,look:C.Button.Looks.LINK,color:Wb().maybeLaterButton,children:q.Z.Messages.MAYBE_LATER})]})]})})};var qb=n(513328),Xb=n(770050),$b=n(70321),Jb=n(746974),ey=n(475953),ty=n.n(ey)
;function ny(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ry(e){ry=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return ry(e)}function oy(e,t){return!t||"object"!==sy(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function iy(e,t){iy=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return iy(e,t)}var sy=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function ay(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=ry(e);if(t){var o=ry(this).constructor;n=Reflect.construct(r,arguments,o)
}else n=r.apply(this,arguments);return oy(this,n)}}var ly=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&iy(e,t)}(n,e);var t=ay(n);function n(){ny(this,n);return t.apply(this,arguments)}n.prototype.render=function(){var e=this.props,t=e.children,n=e.className,r=e.onMouseEnter,o=e.onMouseLeave;return(0,I.jsx)("div",{className:B()(ty().card,n),onMouseEnter:r,onMouseLeave:o,children:t})};return n}(c.PureComponent);ly.Header=function(e){var t=e.children,n=e.className,r=e.splashArtURL;return(0,I.jsxs)(Ne.Z,{className:B()(ty().header,n),align:Ne.Z.Align.CENTER,children:[(0,I.jsx)("div",{className:ty().splashArt,style:null!=r?{backgroundImage:"url(".concat(r,")")}:void 0}),t]})};ly.Body=function(e){var t=e.children,n=e.className;return(0,I.jsx)("div",{className:B()(ty().body,n),children:t})};const cy=ly
;var uy=n(459940),dy=n(718831),fy=n(530562),py=n(601633),my=n.n(py);function hy(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ey(e,t,n,r,o,i,s){try{var a=e[i](s),l=a.value}catch(e){n(e);return}a.done?t(l):Promise.resolve(l).then(r,o)}function Sy(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){Ey(i,r,o,s,a,"next",e)}function a(e){Ey(i,r,o,s,a,"throw",e)}s(void 0)}))}}function gy(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function Ty(e){Ty=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Ty(e)}function Oy(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&yy(e,t)}function by(e,t){return!t||"object"!==Iy(t)&&"function"!=typeof t?hy(e):t}function yy(e,t){yy=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return yy(e,t)}var Iy=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function vy(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Ty(e);if(t){var o=Ty(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return by(this,n)}}var Ny=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]
},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:s.label++;return{value:i[1],done:!1};case 5:s.label++;r=i[1];i=[0];continue;case 7:i=s.ops.pop();s.trys.pop();continue;default:if(!(o=s.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1];o=i;break}if(o&&s.label<o[2]){s.label=o[2];s.ops.push(i);break}o[2]&&s.ops.pop();s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};function Ay(e){
var t=e.giftStyle,n=e.shouldAnimate;return(0,I.jsx)(Xb.Z,{giftStyle:t,className:my().seasonalGiftBox,shouldAnimate:n})}var Cy=function(e){Oy(n,e);var t=vy(n);function n(){gy(this,n);var e;(e=t.apply(this,arguments))._copyModeTimeout=new qb.V7;e.state={copyMode:uy.u.DEFAULT};e.handleCopy=function(t){var n=e.props,r=n.giftCode,o=n.sku;(0,Ob.dM)(r,o);try{(0,im.JG)(t);e.setState({copyMode:uy.u.SUCCESS})}catch(t){e.setState({copyMode:uy.u.ERROR})}e._copyModeTimeout.start(1e3,(function(){e.setState({copyMode:uy.u.DEFAULT})}))};return e}var r=n.prototype;r.componentWillUnmount=function(){this._copyModeTimeout.stop()};r.handleRevoke=function(e){_b.Z.revokeGiftCode(e)};r.render=function(){var e=this,t=this.props,n=t.hideCode,r=t.giftCode,o=this.state.copyMode;return(0,I.jsxs)(Ne.Z,{direction:Ne.Z.Direction.VERTICAL,className:my().giftCodeRow,children:[(0,I.jsx)(uy.Z,{className:my().codeText,value:(0,Ob.Nz)(r.code),text:this.copyButtonText,mode:o,supportsCopy:im.wS,
hideMessage:n?q.Z.Messages.GIFT_INVENTORY_HIDDEN:null,onCopy:this.handleCopy,buttonColor:uy.Z.ButtonColors.BRAND,buttonLook:uy.Z.ButtonLooks.FILLED}),(0,I.jsxs)("div",{className:my().subTextRow,children:[null!=r.expiresAt?(0,I.jsxs)(c.Fragment,{children:[q.Z.Messages.GIFT_INVENTORY_EXPIRES_IN.format({hours:r.expiresAt.diff(ot()(),"h")})," ",""]}):null,(0,I.jsx)(C.Clickable,{tag:"a",onClick:function(){return e.handleRevoke(r.code)},children:q.Z.Messages.REVOKE})]})]})};!function(e,t,n){t&&_y(e.prototype,t);n&&_y(e,n)}(n,[{key:"copyButtonText",get:function(){switch(this.state.copyMode){case uy.u.SUCCESS:return q.Z.Messages.BILLING_GIFT_COPIED;case uy.u.ERROR:return q.Z.Messages.FAILED;default:return q.Z.Messages.COPY}}}]);return n}(c.PureComponent),jy=function(e){Oy(n,e);var t=vy(n);function n(){gy(this,n);var e;(e=t.apply(this,arguments))._loadedAt=null;e.state={isOpen:!1,isCreating:!1,isHovered:!1};var r,o=hy(e);e.handleGenerateGiftCode=(r=Sy((function(e){var t,n,r,i
;return Ny(this,(function(s){switch(s.label){case 0:e.stopPropagation();t=o.props,n=t.skuId,r=t.subscriptionPlanId,i=t.giftStyle;o.setState({isCreating:!0});return[4,_b.Z.createGiftCode(n,r,i)];case 1:s.sent();o.setState({isCreating:!1,isOpen:!0});return[2]}}))})),function(e){return r.apply(this,arguments)});e.handleToggleOpen=function(){var t=e.props,n=t.skuId,r=t.subscriptionPlanId,o=t.loadedAt,i=!e.state.isOpen;(null==o||null==e._loadedAt||o<e._loadedAt)&&i&&_b.Z.fetchUserGiftCodesForSKU(n,r);e.setState({isOpen:!e.state.isOpen})};return e}var r=n.prototype;r.componentDidMount=function(){this._loadedAt=Date.now()};r.renderTitle=function(){var e,t=this.props,n=t.sku,r=t.subscriptionPlan,o=t.giftCodeBatchId;e=o===S.m8?q.Z.Messages.BLACK_FRIDAY_PROMOTION_GIFT_INVENTORY_TITLE:o===S.rX&&null!=r?(r.interval===S.rV.MONTH?q.Z.Messages.STICKERS_GIFT_INVENTORY_TITLE_MONTH:q.Z.Messages.STICKERS_GIFT_INVENTORY_TITLE_YEAR).format({skuName:n.name,intervalCount:r.intervalCount
}):null==r?n.name:(r.interval===S.rV.MONTH?q.Z.Messages.GIFT_INVENTORY_SUBSCRIPTION_MONTHS:q.Z.Messages.GIFT_INVENTORY_SUBSCRIPTION_YEARS).format({skuName:n.name,intervalCount:r.intervalCount});return(0,I.jsx)("div",{className:my().gameName,children:e})};r.renderGenerateGiftCodeRow=function(){return(0,I.jsxs)(Ne.Z,{justify:Ne.Z.Justify.BETWEEN,align:Ne.Z.Align.CENTER,className:my().generateCodeRow,children:[(0,I.jsx)("div",{className:my().codeText,children:q.Z.Messages.GIFT_INVENTORY_GENERATE_HELP}),(0,I.jsx)(C.Button,{submitting:this.state.isCreating,size:C.Button.Sizes.SMALL,color:C.Button.Colors.BRAND,onClick:this.handleGenerateGiftCode,children:q.Z.Messages.GIFT_INVENTORY_GENERATE_LINK})]})};r.setIsHovered=function(e){this.setState({isHovered:e})};r.render=function(){var e=this,t=this.props,n=t.entitlements,r=t.application,o=t.giftCodes,i=t.className,s=t.sku,a=t.isFetching,l=t.hideCodes,u=t.giftStyle,d=this.state.isOpen;return(0,I.jsxs)(cy,{className:i,children:[(0,
I.jsx)(C.Clickable,{onClick:this.handleToggleOpen,className:my().card,onMouseEnter:function(){return e.setIsHovered(!0)},onMouseLeave:function(){return e.setIsHovered(!1)},children:(0,I.jsx)(cy.Header,{splashArtURL:r.getSplashURL(512),children:(0,I.jsxs)("div",{className:my().cardHeader,children:[(0,I.jsxs)(Ne.Z,{align:Ne.Z.Align.CENTER,children:[null!=u?(0,I.jsx)(Ay,{giftStyle:u,shouldAnimate:this.state.isHovered}):(0,I.jsx)(eo.Z,{game:r,size:eo.Z.Sizes.MEDIUM,skuId:s.id}),(0,I.jsxs)("div",{className:my().headerText,children:[this.renderTitle(),(0,I.jsx)("div",{className:my().subTextHeader,children:q.Z.Messages.GIFT_INVENTORY_COPIES.format({copies:n.length})})]})]}),(0,I.jsx)(dy.Z,{direction:d?dy.Z.Directions.UP:dy.Z.Directions.DOWN,className:my().expandIcon})]})})}),d?(0,I.jsx)(cy.Body,{children:a?(0,I.jsx)(C.Spinner,{className:my().spinner}):(0,I.jsxs)(c.Fragment,{children:[o.length<n.length?this.renderGenerateGiftCodeRow():null,o.map((function(e){return(0,I.jsx)(Cy,{giftCode:e,
sku:s,hideCode:l},e.code)}))]})}):null]})};return n}(c.PureComponent);const xy=r.ZP.connectStores([Jb.Z,$r.Z,$b.Z,ST.Z,no.Z,Pc.default],(function(e){var t=e.skuId,n=e.subscriptionPlanId,r=e.giftStyle,o=Jb.Z.get(t);if(null==o)throw new Error("SKU was unavailable while rendering gift.");var i=$b.Z.getForGifterSKUAndPlan(Pc.default.getId(),t,n).filter((function(e){return!e.isClaimed})).filter((function(e){return e.giftStyle===r}));return{sku:o,hideCodes:$r.Z.enabled,isFetching:$b.Z.getUserGiftCodesFetchingForSKUAndPlan(t,n),loadedAt:$b.Z.getUserGiftCodesLoadedAtForSKUAndPlan(t,n),application:ST.Z.getGame(o.applicationId),subscriptionPlan:null!=n?(0,fy.oE)(n):null,giftCodes:i}}))(jy);var Py=n(809784),Ry=n(318715),My=n(293078),Dy=n(483255),Ly=n(321941),Zy=n.n(Ly);function wy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Uy(e,t,n,r,o,i,s){try{var a=e[i](s),l=a.value}catch(e){n(e);return}a.done?t(l):Promise.resolve(l).then(r,o)}
function By(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){Uy(i,r,o,s,a,"next",e)}function a(e){Uy(i,r,o,s,a,"throw",e)}s(void 0)}))}}function Gy(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ky(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Gy(e,t,n[t])}))}return e}function Fy(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n
}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Hy(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done);s=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){a=!0;o=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return wy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wy(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}
var Yy=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:s.label++;return{value:i[1],done:!1};case 5:s.label++;r=i[1];i=[0];continue;case 7:i=s.ops.pop();s.trys.pop();continue;default:if(!(o=s.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1];o=i;break}if(o&&s.label<o[2]){s.label=o[2];s.ops.push(i);break}o[2]&&s.ops.pop();s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e];r=0}finally{n=o=0}
if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},Vy="YYYY-MM-DD HH:mm";function Wy(e){var t=e.drop,n=e.enrolled,r=e.completed,o=c.useRef(null),i=function(e){var t=e.target;(0,Py.k)(t,HTMLAnchorElement)&&(0,He.xf)()};(0,c.useEffect)((function(){var e=o.current;null!=e&&e.addEventListener("click",i);return function(){null!=e&&e.removeEventListener("click",i)}}),[]);var s=t.title,a=t.endDate,l=t.dropsQuestId,d=t.assets,f=t.articleUrl,p=(0,My.EW)(l);if(null==p)return null;var m=function(){(0,Gb.RJ)(l).then((function(){u.Z.wait(By((function(){return Yy(this,(function(e){switch(e.label){case 0:return[4,(0,Gb.R5)()];case 1:e.sent();return[2]}}))})))}))};return(0,I.jsxs)("div",{className:Zy().dropContainer,children:[(0,I.jsx)("div",{className:Zy().dropCard,children:(0,I.jsxs)("div",{className:Zy().mainPromotionCardContainer,children:[(0,I.jsxs)("div",{className:Zy().promotionCardLeftContainer,children:[(0,I.jsx)("div",{className:Zy().promotionIcon,children:(0,
I.jsx)("img",{alt:"",src:d.iconSrc,className:Zy().promotionIconImage})}),(0,I.jsxs)("div",{children:[(0,I.jsx)(C.Heading,{variant:"heading-md/semibold",children:s}),(0,I.jsx)(C.Text,{variant:"text-xs/medium",color:"text-normal",className:Zy().availableUntil,children:q.Z.Messages.DROPS_CARD_REDEEM_UNTIL.format({endDate:ot()(a,"YYYY-MM-DD HH:mm").format("MMMM Do, YYYY")})})]})]}),(0,I.jsx)(C.Tooltip,{text:n&&!r?q.Z.Messages.DROPS_GIFT_INVENTORY_REDEMPTION_TOOLTIP:null,tooltipContentClassName:Zy().redeemTooltipContent,children:function(e){return(0,I.jsx)(C.Button,Fy(ky({className:Zy().promotionCardButton,color:C.Button.Colors.BRAND,size:C.Button.Sizes.SMALL,onClick:m,disabled:n&&!r},e),{children:n?q.Z.Messages.REDEEM:q.Z.Messages.DROPS_GIFT_INVENTORY_ENROLL}))}})]})}),(0,I.jsxs)("div",{className:Zy().dropCriteria,children:[(0,I.jsx)("img",{alt:"",src:d.rewardSrc,className:Zy().dropRewardImage}),(0,I.jsx)("div",{ref:o,children:(0,I.jsx)(C.Text,{color:"text-muted",variant:"text-sm/normal",
className:Zy().dropCriteriaText,children:p.messages.giftInfo()})}),(0,I.jsx)(C.Text,{color:"text-muted",variant:"text-sm/normal",className:Zy().dropLearnMore,children:q.Z.Messages.DROPS_LEARN_MORE.format({faqUrl:f})})]})]})}function zy(e){var t=e.drop,n=e.code,r=e.platform,o=Hy(c.useState(!1),2),i=o[0],s=o[1],a=void 0!==n,l=(0,it.vc)(ot()(t.endDate),"LL"),u=q.Z.Messages.DROPS_CARD_REDEEM_UNTIL.format({endDate:l}),d=a?q.Z.Messages.OUTBOUND_PROMOTION_SEE_CODE:q.Z.Messages.PROMOTION_CARD_ACTION_CLAIM,f=c.useCallback((function(){return s(!1)}),[]);return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("div",{className:B()(Zy().skuCard,Zy().promotionCard),children:(0,I.jsxs)("div",{className:Zy().mainPromotionCardContainer,children:[(0,I.jsxs)("div",{className:Zy().promotionCardLeftContainer,children:[(0,I.jsx)("div",{className:Zy().promotionIcon,children:(0,I.jsx)("img",{alt:"",src:t.assets.iconSrc,className:Zy().promotionIconImage})}),(0,I.jsxs)("div",{children:[(0,I.jsx)(C.Heading,{
variant:"heading-md/semibold",children:t.title}),(0,I.jsx)(C.Text,{variant:"text-sm/normal",color:"text-normal",className:Zy().promotionText,children:u})]})]}),(0,I.jsx)(C.Button,{color:C.Button.Colors.BRAND,size:C.Button.Sizes.SMALL,onClick:function(){return s(!0)},children:d})]})}),i&&(0,I.jsx)(C.Modal,{renderModal:function(e){return(0,I.jsx)(Yb.ZP,Fy(ky({},e),{onClose:f,code:n,drop:t,platform:r}))},onCloseRequest:f})]})}const Ky=function(e){var t=e.dropsOptedOut,n=e.dropsStatuses,r=[],o=[],i=(0,Ry.ZP)([d.default],(function(){return d.default.getCurrentUser()})),s=!1;if(null==n)return null;var a=!0,l=!1,c=void 0;try{for(var u,f=Object.keys(n)[Symbol.iterator]();!(a=(u=f.next()).done);a=!0){var p=u.value,m=(0,My.EW)(p);if(null!=m){var h=n[p],E=(0,My.x8)(p);if(null!=E){var S=(0,My.Xt)(E),g=h.eligible&&S,_=(0,My.A5)(E);if(null!=_){g&&_.trackExposure({},{location:"ENTITLEMENT_GIFTS"});var T=Boolean((null==i?void 0:i.isStaff())&&_.getCurrentConfig({},{autoTrackExposure:!1}).showUnenroll)
;if(_.getCurrentConfig({},{autoTrackExposure:!1}).dropsEnabled){s=!0;var O=ot()(m.endDate,Vy),b=ot()();if(g&&null==h.completed_at||null!=h.enrolled_at&&null==h.completed_at&&h.eligible)b<O&&r.push({dropsQuestId:p,dropsStatus:h,showUnenroll:T,experiment:_});else if(null!=h.code||null!=h.completed_at){b<ot()(m.finalClaimDate,Vy)&&o.push({dropsQuestId:p,dropsStatus:h,showUnenroll:T,experiment:_})}}}}}}}catch(e){l=!0;c=e}finally{try{a||null==f.return||f.return()}finally{if(l)throw c}}var y,v=(0,I.jsxs)("div",{className:Zy().dropsHeaderContainer,children:[(0,I.jsx)(C.Heading,{variant:"heading-md/semibold",children:q.Z.Messages.DROPS_GIFT_INVENTORY_TITLE}),(0,I.jsx)(we.Z,{className:Zy().betaTagIcon})]});return s&&0===r.length&&0===o.length&&t?(0,I.jsxs)(C.FormSection,{children:[v,(0,I.jsx)(C.FormDivider,{className:Zy().divider}),(0,I.jsx)("div",{className:Zy().dropsHelpText,children:q.Z.Messages.DROPS_READ_BLOG_TO_ENABLE.format({blogURL:Dy.n4})})]}):0===r.length&&0===o.length?null:(0,
I.jsxs)(C.FormSection,{children:[v,(0,I.jsx)(C.FormDivider,{className:Zy().divider}),r.map((function(e){var t=(0,My.EW)(e.dropsQuestId),n=null!=e.dropsStatus.enrolled_at,r=null!=e.dropsStatus.completed_at;return null!=t?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(Wy,{drop:ky({},t),enrolled:n,completed:r},t.dropsQuestId),e.showUnenroll&&(0,I.jsx)(C.Button,{size:C.Button.Sizes.SMALL,onClick:function(){return(0,Gb.VT)(e.dropsQuestId)},children:"UNENROLL"})]}):null})),o.map((function(e){var t,n,r=(0,My.EW)(e.dropsQuestId);return null!=r?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(zy,{drop:r,code:null!==(t=e.dropsStatus.code)&&void 0!==t?t:void 0,platform:null!==(n=e.dropsStatus.platform)&&void 0!==n?n:void 0},e.dropsQuestId),e.showUnenroll&&(0,I.jsx)(C.Button,{size:C.Button.Sizes.SMALL,onClick:function(){return(0,Gb.VT)(e.dropsQuestId)},children:"UNENROLL"})]}):null})),"string"==typeof(null==i?void 0:i.id)&&o.length>0?(0,I.jsx)("div",{className:Zy().feedback,
children:q.Z.Messages.DROPS_REQUEST_FEEDBACK_SUCCESS.format({feedbackURL:"https://survey.alchemer.com/s3/7043098/Discord-Drops-CSAT?user_id=".concat(null!==(y=null==i?void 0:i.id)&&void 0!==y?y:"")})}):null]})};function Qy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qy(e,t,n,r,o,i,s){try{var a=e[i](s),l=a.value}catch(e){n(e);return}a.done?t(l):Promise.resolve(l).then(r,o)}function Xy(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){qy(i,r,o,s,a,"next",e)}function a(e){qy(i,r,o,s,a,"throw",e)}s(void 0)}))}}function $y(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Jy(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
;t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function eI(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done);s=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){a=!0;o=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Qy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qy(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var tI=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:s.label++;return{value:i[1],done:!1};case 5:s.label++;r=i[1];i=[0];continue;case 7:i=s.ops.pop();s.trys.pop();continue;default:if(!(o=s.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){
s.label=o[1];o=i;break}if(o&&s.label<o[2]){s.label=o[2];s.ops.push(i);break}o[2]&&s.ops.pop();s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};function nI(e){var t,n=e.outboundPromotion,r=e.code,o=e.addClaimedOutboundPromotionCode,i=eI(c.useState(!1),2),s=i[0],a=i[1],l=eI(c.useState(!1),2),u=l[0],d=l[1],f=function(){return a((function(e){return!e}))},p=(0,Qi.ZP)(),h=(0,m.Pz)(n.id,p),E=null!=r,g=E?(0,it.vc)(ot()(n.endDate).add(S.aT),"LL"):(0,it.vc)(ot()(n.endDate),"LL");E&&s?t=q.Z.Messages.OUTBOUND_PROMOTION_CARD_CLAIMED_EXPANDED_BODY.format({endDate:g,onClickDetails:f}):E&&!s?t=q.Z.Messages.OUTBOUND_PROMOTION_CARD_CLAIMED_UNEXPANDED_BODY.format({endDate:g,onClickDetails:f}):!E&&s?t=q.Z.Messages.OUTBOUND_PROMOTION_CARD_UNCLAIMED_EXPANDED_BODY.format({endDate:g,onClickDetails:f}):E||s||(t=q.Z.Messages.OUTBOUND_PROMOTION_CARD_UNCLAIMED_UNEXPANDED_BODY.format({endDate:g,onClickDetails:f}))
;var _=E?q.Z.Messages.OUTBOUND_PROMOTION_SEE_CODE:q.Z.Messages.PROMOTION_CARD_ACTION_CLAIM,T=c.useCallback((function(){return d(!1)}),[]),O=n.outboundTitle,b=n.outboundTermsAndConditions;return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)("div",{className:B()(Zy().skuCard,Zy().promotionCard),children:[(0,I.jsxs)("div",{className:Zy().mainPromotionCardContainer,children:[(0,I.jsxs)("div",{className:Zy().promotionCardLeftContainer,children:[(0,I.jsx)("div",{className:Zy().promotionIcon,children:(0,I.jsx)("img",{alt:"",src:h,className:Zy().promotionIconImage})}),(0,I.jsxs)("div",{children:[(0,I.jsx)(C.Heading,{variant:"heading-md/semibold",children:O}),(0,I.jsx)(C.Text,{variant:"text-sm/normal",color:"text-normal",className:Zy().promotionText,children:t})]})]}),(0,I.jsx)(C.Button,{className:Zy().promotionCardButton,color:C.Button.Colors.BRAND,size:C.Button.Sizes.SMALL,onClick:function(){return d(!0)},children:_})]}),s&&(0,I.jsx)(C.Text,{className:Zy().promotionLegalese,
variant:"text-xs/normal",color:"header-secondary",children:Hb.Z.parse(b,!1,{allowLinks:!0})})]}),u&&(0,I.jsx)(C.Modal,{renderModal:function(e){return(0,I.jsx)(Qb,Jy(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){$y(e,t,n[t])}))}return e}({},e),{onClose:T,onClaim:o,code:r,outboundPromotion:n}))},onCloseRequest:T})]})}const rI=function(){var e=function(){P.Z.open(se.oAB.PREMIUM)},t=(0,r.e7)([ST.Z],(function(){return Boolean(ST.Z.lastFetched)})),n=(0,r.Wu)([Nn.Z],(function(){return Nn.Z.getGiftable()})),o=eI(Fe().partition(n,(function(e){return null==e.giftCodeBatchId})),2),i=o[0],s=o[1],a=Fe().groupBy(i,(function(e){return(0,Ob.Bg)(e.skuId,e.subscriptionPlanId,e.giftStyle)})),l=eI(c.useState(!1),2),g=l[0],O=l[1],y=(0,
r.e7)([Fb.Z],(function(){return Fb.Z.userStatus}));c.useEffect((function(){u.Z.wait((function(){(0,Vt.Qv)().then((function(){return O(!0)}))}))}),[]);var v=(0,kb.dy)();c.useEffect((function(){v&&u.Z.wait(Xy((function(){return tI(this,(function(e){switch(e.label){case 0:return[4,(0,Gb.R5)()];case 1:e.sent();return[2]}}))})))}),[v]);var N=fs.bh.useSetting(),A=null!=y||!v,j=function(){var e=(0,r.e7)([E.Z],(function(){return E.Z.lastFetchedActivePromotions})),t=b(),n=(0,r.e7)([d.default],(function(){return d.default.getCurrentUser()})),o=(0,p._O)(),i=_(c.useState(!1),2),s=i[0],a=i[1],l=_(c.useState([]),2),g=l[0],O=l[1];c.useEffect((function(){null!=e&&u.Z.wait((function(){return h.ZP.markOutboundPromotionsSeen()}))}),[e]);var y=c.useCallback((function(e){O((function(t){return t.some((function(t){return t.promotion.id===e.promotion.id}))?t:T(t).concat([e])}))}),[]),I=(0,f.M5)(n,S.p9.TIER_2);c.useEffect((function(){u.Z.wait((function(){I&&null==e&&h.ZP.fetchActiveOutboundPromotions()}))
}),[e,I]);c.useEffect((function(){u.Z.wait((function(){(0,m.t8)().then((function(e){O(e);a(!0)})).catch((function(){O([]);a(!0)}))}))}),[]);var v={},N=!0,A=!1,C=void 0;try{for(var j,x=g[Symbol.iterator]();!(N=(j=x.next()).done);N=!0){var P=j.value,R=P.code,M=P.promotion;v[M.id]=R}}catch(e){A=!0;C=e}finally{try{N||null==x.return||x.return()}finally{if(A)throw C}}var D=new Set(t.map((function(e){return e.id}))),L=g.filter((function(e){var t=e.promotion;return!D.has(t.id)}));return{promotionsLoaded:s&&(!I||null!=e),activeOutboundPromotions:t.filter((function(e){return(0,m.ZC)(e)&&(!o||(0,m.Qf)(e,v))})),claimedEndedOutboundPromotions:L.filter((function(e){return(0,m.ZC)(e.promotion)})),claimedOutboundPromotionCodeMap:v,addClaimedOutboundPromotionCode:y}}(),x=j.promotionsLoaded,R=j.activeOutboundPromotions,M=j.claimedEndedOutboundPromotions,D=j.claimedOutboundPromotionCodeMap,L=j.addClaimedOutboundPromotionCode;return t&&g&&x&&A?(0,I.jsxs)(I.Fragment,{children:[v?(0,I.jsx)(Ky,{
dropsOptedOut:N,dropsStatuses:y}):null,function(){var e,t=s.find((function(e){return e.giftCodeBatchId===S.m8&&!e.consumed})),n=null!==(e=s.filter((function(e){return e.giftCodeBatchId===S.rX&&!e.consumed})))&&void 0!==e?e:[],r=eI(Fe().partition(n,(function(e){return e.subscriptionPlanId===S.Xh.PREMIUM_YEAR_TIER_2})),2),o=r[0],i=r[1],a=R.length+M.length>0;return(0,I.jsx)(C.FormSection,{children:(0,I.jsxs)(C.HeadingLevel,{component:(0,I.jsx)(C.Heading,{variant:"heading-md/semibold",children:a?q.Z.Messages.GIFT_INVENTORY_YOUR_GIFTS:void 0}),children:[a?(0,I.jsx)(C.FormDivider,{className:Zy().divider}):null,M.map((function(e){var t=e.code,n=e.promotion;return(0,I.jsx)(nI,{outboundPromotion:n,code:t,addClaimedOutboundPromotionCode:L},n.id)})),R.map((function(e){return(0,I.jsx)(nI,{outboundPromotion:e,code:D[e.id],addClaimedOutboundPromotionCode:L},e.id)})),null!=t?(0,I.jsx)(xy,{className:Zy().skuCard,skuId:t.skuId,subscriptionPlanId:t.subscriptionPlanId,entitlements:[t],
giftCodeBatchId:S.m8},(0,Ob.Bg)(t.skuId,t.subscriptionPlanId)):null,o.length>0?(0,I.jsx)(xy,{className:Zy().skuCard,skuId:o[0].skuId,subscriptionPlanId:o[0].subscriptionPlanId,entitlements:o,giftCodeBatchId:S.rX},(0,Ob.Bg)(o[0].skuId,o[0].subscriptionPlanId)):null,i.length>0?(0,I.jsx)(xy,{className:Zy().skuCard,skuId:i[0].skuId,subscriptionPlanId:i[0].subscriptionPlanId,entitlements:i,giftCodeBatchId:S.rX},(0,Ob.Bg)(i[0].skuId,i[0].subscriptionPlanId)):null]})})}(),(0,I.jsx)(C.FormSection,{children:(0,I.jsxs)(C.HeadingLevel,{component:(0,I.jsx)(C.Heading,{variant:"heading-md/semibold",children:q.Z.Messages.GIFT_INVENTORY_GIFTS_YOU_PURCHASED}),children:[(0,I.jsx)(C.FormDivider,{className:Zy().divider}),0===Object.keys(a).length?(0,I.jsxs)("div",{className:Zy().emptyState,children:[(0,I.jsx)("div",{className:Zy().emptyStateImage}),(0,I.jsx)(C.H,{className:Zy().emptyStateHeader,children:q.Z.Messages.GIFT_INVENTORY_NO_GIFTS}),(0,I.jsx)("p",{className:Zy().emptyStateSubtext,
children:q.Z.Messages.GIFT_INVENTORY_NO_GIFTS_SUBTEXT.format({onClick:e})})]}):Fe().keys(a).map((function(e){var t=(0,Ob.Z0)(e),n=t.skuId,r=t.subscriptionPlanId,o=t.giftStyle;return(0,I.jsx)(xy,{className:Zy().skuCard,skuId:n,subscriptionPlanId:r,entitlements:a[e],giftStyle:o},e)}))]})})]}):(0,I.jsx)(C.Spinner,{className:Zy().loading})};var oI=n(607810),iI=n.n(oI);function sI(){return(0,gb.Q)()?(0,I.jsx)(ag.c8,{}):(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(Sb.Z,{section:se.jXE.LIBRARY_INVENTORY_CODE_REDEMPTION,children:(0,I.jsx)(Bb,{})}),(0,I.jsx)(C.FormDivider,{className:iI().divider}),(0,I.jsx)(Sb.Z,{section:se.jXE.LIBRARY_INVENTORY_GIFTS_LIST,children:(0,I.jsx)(rI,{})})]})}var aI=n(452006),lI=n(344524),cI=n(866926),uI=n(79251),dI=n(668785),fI=n(714163),pI=n.n(fI);function mI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0
;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function EI(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function SI(e){SI=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return SI(e)}function gI(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&bI(e,t)}function _I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){EI(e,t,n[t])}))}return e}function TI(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function OI(e,t){return!t||"object"!==yI(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function bI(e,t){bI=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return bI(e,t)}var yI=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function II(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{
Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=SI(e);if(t){var o=SI(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return OI(this,n)}}function vI(e){return(0,e.children)([lI.Q2.MESSAGE,lI.Q2.NAVIGATION,lI.Q2.DND,lI.Q2.CHAT,lI.Q2.VOICE_AND_VIDEO,lI.Q2.MISCELLANEOUS])}var NI=Fe()((0,lI.Rv)()).filter((function(e){return e.description!==q.Z.Messages.KEYBIND_DESCRIPTION_MODAL_EASTER_EGG})).groupBy((function(e){return e.group})).value(),AI=r.ZP.connectStores([Tp.Z],(function(){return{theme:Tp.Z.theme}}))(wE.ZP),CI=function(e){gI(n,e);var t=II(n);function n(){mI(this,n);var e;(e=t.apply(this,arguments)).handleActionChanged=function(t){ne.Z.setKeybind(TI(_I({},e.props.keybind),{action:t}))};e.handleShortcutChange=function(t){ne.Z.setKeybind(TI(_I({},e.props.keybind),{shortcut:t}))};e.handleDeleteKeybind=function(){ne.Z.deleteKeybind(e.props.keybind.id)};return e}
var r=n.prototype;r.renderMessage=function(){var e=this.props.keybind,t=uI.BB(e.shortcut);return $h.Z.hasBind(t)?(0,I.jsx)(C.FormText,{className:pI().keybindMessage,type:C.FormTextTypes.DESCRIPTION,style:{color:A.Z.unsafe_rawColors.RED_400.css},children:q.Z.Messages.KEYBIND_CONFLICT}):dI.Sp.has(t)?(0,I.jsx)(C.FormText,{className:pI().keybindMessage,type:C.FormTextTypes.DESCRIPTION,style:{color:A.Z.unsafe_rawColors.RED_400.css},children:q.Z.Messages.KEYBIND_NAVIGATION_CONFLICT.format({keyboardNavArticle:$s.Z.getArticleURL(se.BhN.KEYBOARD_NAVIGATION)})}):(0,I.jsx)(C.FormText,{className:pI().keybindMessage,type:C.FormTextTypes.DESCRIPTION,children:this.props.keybindDescriptions[e.action]})};r.render=function(){var e=this.props.keybind.managed;return(0,I.jsxs)(Ne.Z,{direction:Ne.Z.Direction.VERTICAL,className:B()(pI().keybindGroup,j_().card),children:[!e&&(0,I.jsx)(s_.Z,{"aria-label":q.Z.Messages.REMOVE_KEYBIND,className:pI().removeKeybind,onClick:this.handleDeleteKeybind,
look:s_.Z.Looks.FILLED}),(0,I.jsxs)(Ne.Z,{className:Pe().marginBottom8,children:[(0,I.jsx)(Ne.Z.Child,{basis:"50%",children:(0,I.jsx)(C.FormItem,{title:q.Z.Messages.USER_SETTINGS_KEYBINDS_ACTION,className:pI().item,children:(0,I.jsx)(C.SingleSelect,{value:this.props.keybind.action,options:this.props.keybindActionTypes,onChange:this.handleActionChanged,isDisabled:e})})}),(0,I.jsx)(Ne.Z.Child,{basis:"50%",children:(0,I.jsx)(C.FormItem,{title:q.Z.Messages.USER_SETTINGS_KEYBINDS_KEYBIND,className:pI().item,children:(0,I.jsx)(re.Z,{defaultValue:this.props.keybind.shortcut,onChange:this.handleShortcutChange})})})]}),(0,I.jsx)(Ne.Z.Child,{children:this.renderMessage()})]})};return n}(c.PureComponent),jI=function(e){gI(r,e);var t=II(r);function r(){mI(this,r);var e;(e=t.apply(this,arguments)).handleAddKeybind=function(){ne.Z.addKeybind()};return e}var o=r.prototype;o.componentDidMount=function(){ne.Z.enableAll(!1)};o.componentWillUnmount=function(){ne.Z.enableAll(!0)}
;o.renderKeybinds=function(e){var t=this;return e.map((function(e){return(0,I.jsx)("div",{className:pI().row,children:(0,I.jsx)(CI,{keybind:e,keybindDescriptions:t.keybindDescriptions,keybindActionTypes:t.keybindActionTypes},e.id)},e.id)}))};o.renderEmpty=function(e){if(0===e.length)return(0,I.jsx)(AI,{className:Pe().marginTop60,children:(0,I.jsx)(wE.ox,{darkSrc:n(656470),lightSrc:n(789885),width:320,height:170})})};o.render=function(){var e=this,t=Fe()(this.props.keybinds).reject((function(e){return e.managed&&e.action!==se.kg4.OVERLAY_ACTIVATE_REGION_TEXT_WIDGET})).reject((function(t){return!e.props.allowSoundboard&&(t.action===se.kg4.SOUNDBOARD||t.action===se.kg4.SOUNDBOARD_HOLD)})).sortBy((function(e){return e.id})).sortBy((function(e){return!0===e.managed?-1:0})).value();return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(C.FormSection,{tag:C.FormTitleTags.H1,title:q.Z.Messages.KEYBINDS,children:Kc.FB?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(Ne.Z,{justify:Ne.Z.Justify.BETWEEN,
className:Pe().marginBottom20,children:[(0,I.jsx)(Ne.Z.Child,{grow:0,children:(0,I.jsx)(gp.Z,{messageType:gp.Q.WARNING,children:q.Z.Messages.ADD_KEYBIND_WARNING})}),(0,I.jsx)(Ne.Z.Child,{wrap:!0,grow:0,children:(0,I.jsx)(C.Button,{size:C.ButtonSizes.LARGE,onClick:this.handleAddKeybind,children:q.Z.Messages.ADD_KEYBIND})})]}),(0,I.jsx)(C.FormDivider,{}),(0,I.jsxs)(C.FormSection,{children:[this.renderKeybinds(t),this.renderEmpty(t)]})]}):(0,I.jsx)(gp.Z,{messageType:gp.Q.INFO,textVariant:"text-lg/medium",className:pI().browserNotice,children:q.Z.Messages.KEYBIND_IN_BROSWER_NOTICE.format({downloadLink:se.EYA.DOWNLOAD})})}),(0,I.jsx)(C.FormDivider,{}),(0,I.jsxs)(C.FormSection,{tag:C.FormTitleTags.H1,title:q.Z.Messages.USER_SETTINGS_KEYBINDS_DEFAULT_KEYBINDS_TITLE,className:Pe().marginTop60,children:[(0,I.jsxs)("div",{className:pI().defaultKeybind,children:[(0,I.jsx)(C.Text,{variant:"text-md/normal",children:q.Z.Messages.USER_SETTINGS_KEYBINDS_SHOW_LIST_TITLE}),(0,I.jsx)("div",{
className:pI().defaultKeybindShortcutGroup,children:(0,I.jsx)(C.KeyCombo,{shortcut:aI._.binds[0],className:pI().defaultKeybindShortcut})})]}),(0,I.jsx)(C.FormDivider,{}),(0,I.jsx)(vI,{children:function(e){return(0,I.jsx)(I.Fragment,{children:e.map((function(e,t){var n=(0,lI.UD)(e),r=(0,lI.U6)(e),o=NI[e];return(0,I.jsxs)("div",{className:pI().defaultKeybindGroup,children:[(0,I.jsx)(C.Heading,{variant:"heading-deprecated-12/semibold",className:B()(pI().defaultKeybindGroupHeader,EI({},pI().defaultKeybindGroupWithDescription,null!=r)),children:n}),null!=r&&(0,I.jsx)(C.Text,{color:"header-secondary",className:pI().defaultKeybindGroupDescription,variant:"text-sm/normal",children:r}),(0,I.jsx)(C.FormDivider,{}),o.map((function(e){return(0,I.jsxs)(c.Fragment,{children:[(0,I.jsxs)("div",{className:pI().defaultKeybind,children:[(0,I.jsx)(C.Text,{variant:"text-md/normal",children:e.description}),(0,I.jsx)("div",{className:pI().defaultKeybindShortcutGroup,children:e.binds.map((function(e){
return(0,I.jsx)(C.KeyCombo,{shortcut:e},e)}))})]}),(0,I.jsx)(C.FormDivider,{})]},e.description)}))]},t)}))})}})]})]})};!function(e,t,n){t&&hI(e.prototype,t);n&&hI(e,n)}(r,[{key:"keybindActionTypes",get:function(){var e=this.props,t=e.overlaySupported,n=e.canGoLive,r=e.allowSoundboard,o=e.enableClips,i=[{value:se.kg4.UNASSIGNED,label:q.Z.Messages.KEYBIND_UNASSIGNED},{value:se.kg4.PUSH_TO_TALK,label:q.Z.Messages.KEYBIND_PUSH_TO_TALK},{value:se.kg4.PUSH_TO_TALK_PRIORITY,label:q.Z.Messages.KEYBIND_PUSH_TO_TALK_PRIORITY},{value:se.kg4.PUSH_TO_MUTE,label:q.Z.Messages.KEYBIND_PUSH_TO_MUTE},{value:se.kg4.TOGGLE_MUTE,label:q.Z.Messages.KEYBIND_TOGGLE_MUTE},{value:se.kg4.TOGGLE_DEAFEN,label:q.Z.Messages.KEYBIND_TOGGLE_DEAFEN},{value:se.kg4.TOGGLE_VOICE_MODE,label:q.Z.Messages.KEYBIND_TOGGLE_VOICE_MODE},{value:se.kg4.TOGGLE_STREAMER_MODE,label:q.Z.Messages.KEYBIND_TOGGLE_STREAM_MODE}];if(t){i.push({value:se.kg4.TOGGLE_OVERLAY,label:q.Z.Messages.KEYBIND_TOGGLE_OVERLAY});i.push({
value:se.kg4.TOGGLE_OVERLAY_INPUT_LOCK,label:q.Z.Messages.KEYBIND_TOGGLE_OVERLAY_INPUT_LOCK});i.push({value:se.kg4.OVERLAY_ACTIVATE_REGION_TEXT_WIDGET,label:q.Z.Messages.KEYBIND_ACTIVATE_OVERLAY_CHAT})}n&&(0,Kc.ED)()&&i.push({value:se.kg4.TOGGLE_GO_LIVE_STREAMING,label:q.Z.Messages.KEYBIND_TOGGLE_GO_LIVE_STREAMING});if((0,Kc.nI)()){i.push({value:se.kg4.NAVIGATE_BACK,label:q.Z.Messages.KEYBIND_NAVIGATE_BACK},{value:se.kg4.NAVIGATE_FORWARD,label:q.Z.Messages.KEYBIND_NAVIGATE_FORWARD});r&&i.push({value:se.kg4.SOUNDBOARD,label:q.Z.Messages.KEYBIND_SOUNDBOARD},{value:se.kg4.SOUNDBOARD_HOLD,label:q.Z.Messages.KEYBIND_SOUNDBOARD_HOLD});o&&i.push({value:se.kg4.SAVE_CLIP,label:q.Z.Messages.CLIPS_SAVE})}return i}},{key:"keybindDescriptions",get:function(){var e,t=this.props,n=t.overlaySupported,r=t.canGoLive,o=t.enableClips,i=(EI(e={},se.kg4.UNASSIGNED,q.Z.Messages.KEYBIND_DESCRIPTION_UNASSIGNED),EI(e,se.kg4.PUSH_TO_MUTE,q.Z.Messages.KEYBIND_DESCRIPTION_PUSH_TO_MUTE),
EI(e,se.kg4.PUSH_TO_TALK,q.Z.Messages.KEYBIND_DESCRIPTION_PUSH_TO_TALK),EI(e,se.kg4.PUSH_TO_TALK_PRIORITY,q.Z.Messages.KEYBIND_DESCRIPTION_PUSH_TO_TALK_PRIORITY),EI(e,se.kg4.TOGGLE_MUTE,q.Z.Messages.KEYBIND_DESCRIPTION_TOGGLE_MUTE),EI(e,se.kg4.TOGGLE_DEAFEN,q.Z.Messages.KEYBIND_DESCRIPTION_TOGGLE_DEAFEN),EI(e,se.kg4.TOGGLE_VOICE_MODE,q.Z.Messages.KEYBIND_DESCRIPTION_TOGGLE_VOICE_MODE),EI(e,se.kg4.TOGGLE_STREAMER_MODE,q.Z.Messages.KEYBIND_DESCRIPTION_TOGGLE_STREAMER_MODE),e);if(n){i[se.kg4.TOGGLE_OVERLAY]=q.Z.Messages.KEYBIND_DESCRIPTION_TOGGLE_OVERLAY;i[se.kg4.TOGGLE_OVERLAY_INPUT_LOCK]=q.Z.Messages.KEYBIND_DESCRIPTION_TOGGLE_OVERLAY_INPUT_LOCK}r&&(0,Kc.ED)()&&(i[se.kg4.TOGGLE_GO_LIVE_STREAMING]=q.Z.Messages.KEYBIND_DESCRIPTION_TOGGLE_GO_LIVE_STREAMING);if((0,Kc.nI)()){i[se.kg4.NAVIGATE_BACK]=q.Z.Messages.KEYBIND_DESCRIPTION_NAVIGATE_BACK;i[se.kg4.NAVIGATE_FORWARD]=q.Z.Messages.KEYBIND_DESCRIPTION_NAVIGATE_FORWARD;i[se.kg4.SOUNDBOARD]=(0,
Kc.ED)()?q.Z.Messages.KEYBIND_DESCRIPTION_SOUNDBOARD_NO_POPOUT_WHEEL_SUPPORT:q.Z.Messages.KEYBIND_DESCRIPTION_SOUNDBOARD;i[se.kg4.SOUNDBOARD_HOLD]=(0,Kc.ED)()?q.Z.Messages.KEYBIND_DESCRIPTION_SOUNDBOARD_HOLD_NO_POPOUT_WHEEL_SUPPORT:q.Z.Messages.KEYBIND_DESCRIPTION_SOUNDBOARD_HOLD;o&&(i[se.kg4.SAVE_CLIP]=q.Z.Messages.CLIPS_KEYBIND_DESCRIPTION)}return i}}]);return r}(c.PureComponent);function xI(){var e=(0,r.e7)([ie.Z],(function(){return ie.Z.getState()})),t=(0,r.e7)([oe.Z],(function(){return(0,cI.Z)(oe.Z)})),n=(0,r.e7)([Yu.Z],(function(){return Yu.Z.isSupported()})),o=(0,s.G)();return(0,I.jsx)(jI,{keybinds:e,canGoLive:t,overlaySupported:n,allowSoundboard:(0,Kc.ED)(),enableClips:o})}var PI=n(488217),RI=n.n(PI),MI=n(734155);function DI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function LI(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ZI(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function wI(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done);s=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){a=!0;o=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return DI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DI(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const UI=r.ZP.connectStores([L.default],(function(){return{currentLocale:L.default.locale}}))((function(e){var t=wI(c.useState(e.currentLocale),2),r=t[0],o=t[1],i=wI(c.useState((function(){return q.Z.getAvailableLocales().map((function(e){var t;try{t=n(357605)("./".concat(e.value,".png"))}catch(e){t=n(223693)}return ZI(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){LI(e,t,n[t])}))}return e}({},e),{name:(0,I.jsxs)("div",{
className:RI().option,children:[(0,I.jsx)("span",{className:RI().localeName,children:e.name}),(0,I.jsx)("span",{className:RI().localizedName,children:e.localizedName}),(0,I.jsx)("div",{className:RI().flag,"aria-hidden":!0,children:(0,I.jsx)("img",{alt:"",src:t,className:RI().flagImage})})]})})}))})),1),s=i[0],a=c.useCallback((function(e){var t=e.value;o(t);MI.nextTick((function(){return Xh.ZP.updateLocale(t)}))}),[]);return(0,I.jsx)(C.FormSection,{tag:C.FormTitleTags.H1,title:q.Z.Messages.LANGUAGE,children:(0,I.jsx)(C.FormSection,{children:(0,I.jsx)(C.FormItem,{title:q.Z.Messages.LANGUAGE_SELECT,children:(0,I.jsx)(C.RadioGroup,{onChange:a,options:s,value:r})})})})}));var BI=n(32162),GI=n(516217),kI=n(903957),FI=n(956206),HI=n(669754);var YI=n(292832);function VI(e){var t=e.className,n=(0,r.e7)([HI.Z],(function(){return HI.Z.getSoundpack()})),o=FI.Z.useExperiment({},{autoTrackExposure:!1}).allowAprilFoolsSoundpack;if(!o)return null;var i=o?(0,YI.Q)():[];return(0,I.jsx)(C.SingleSelect,{
className:t,onChange:function(e){return function(e){to.default.track(se.rMx.SOUNDPACK_UPDATED,{soundpack:e,previous_soundpack:HI.Z.getSoundpack()});u.Z.dispatch({type:"SET_SOUNDPACK",soundpack:e})}(e)},value:n,options:i})}var WI=n(288263),zI=n(796938),KI=n(374092),QI=n(678851),qI=n(96483),XI=n(42261),$I=n(719799),JI=n.n($I);function ev(e){var t=e.label,n=e.onChange,r=e.enabled,o=e.subLabel;return(0,I.jsx)(C.FormSwitch,{value:!!r,onChange:n,note:o,children:t})}function tv(){var e=(0,r.e7)([y.Z],(function(){return y.Z.getSubsection()})),t=c.createRef(),n=(0,r.cj)([qI.Z],(function(){return qI.Z.getEmailSettings()})),o=n.categories,i=n.initialized;c.useEffect((function(){if(null==i)(0,QI.Y7)();else if(e===XI.vG.toUpperCase()){var n;null==t||null===(n=t.current)||void 0===n||n.scrollIntoView(!0)}}),[i,t,e]);var s=XI.M0.reduce((function(e,t){return e||!!o[t]}),!1);return i?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("div",{ref:t}),(0,I.jsxs)(C.FormSection,{className:B()(Pe().marginTop40),
tag:C.FormTitleTags.H1,title:q.Z.Messages.USER_SETTINGS_EMAIL_NOTIFICATIONS,children:[XI.Od.map((function(e){var t=e.category,n=e.label,r=e.subLabel;return(0,I.jsx)(ev,{label:n(),subLabel:r(),enabled:o[t],onChange:function(e){return function(e,t){(0,QI.pR)(e,t)}(t,e)}},n())})),(0,I.jsx)(C.Button,{className:JI().marketingUnsubscribeButton,disabled:!s,look:C.ButtonLooks.LINK,color:C.ButtonColors.LINK,onClick:QI.oc,children:q.Z.Messages.USER_SETTINGS_EMAIL_NOTIFICATIONS_UNSUB_MARKETING}),(0,I.jsx)(C.FormText,{type:C.FormTextTypes.DESCRIPTION,children:q.Z.Messages.USER_SETTINGS_EMAIL_NOTIFICATIONS_UNSUB_MARKETING_DESCRIPTION}),(0,I.jsx)(C.FormDivider,{className:B()(Pe().marginTop40,Pe().marginBottom40)})]})]}):null}var nv=n(966378),rv=n.n(nv);function ov(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function iv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sv(e,t,n){
t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function av(e){av=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return av(e)}function lv(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function cv(e,t){return!t||"object"!==fv(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function uv(e,t){uv=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return uv(e,t)}function dv(e){
return function(e){if(Array.isArray(e))return ov(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ov(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ov(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var fv=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function pv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))
;return!0}catch(e){return!1}}();return function(){var n,r=av(e);if(t){var o=av(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return cv(this,n)}}function mv(e){var t=e.label,n=e.enabled,r=e.disabled,o=e.onPreview,i=e.onChange;return(0,I.jsx)(C.FormSwitch,{className:rv().soundRow,value:n,onChange:i,disabled:r,children:(0,I.jsxs)("div",{className:rv().notificationSound,children:[(0,I.jsx)("div",{className:rv().soundName,children:t}),(0,I.jsx)(C.Clickable,{className:rv().soundIcon,onClick:o,"aria-label":q.Z.Messages.USER_SETTINGS_NOTIFICATIONS_PREVIEW_SOUND,children:(0,I.jsx)(zI.Z,{width:16,height:16,className:rv().icon,"aria-hidden":!0})})]})})}function hv(e){var t=e.disabledSounds,n=e.disableAllSounds,r=e.notifyMessagesInSelectedChannel,o=FI.Z.useExperiment({},{autoTrackExposure:!1}).allowAprilFoolsSoundpack,i=kI.Q.useExperiment({},{autoTrackExposure:!1}).enabled;c.useEffect((function(){FI.Z.trackExposure({})}),[])
;var s=c.useRef(),a=c.useCallback((function(e,t){t.stopPropagation();t.preventDefault();null!=s.current&&s.current.stop();s.current=qe.GN(e)}),[]),l=c.useCallback((function(e,n){var r=t.filter((function(t){return t!==e}));n||r.push(e);BI.default.setDisabledSounds(r)}),[t]);c.useEffect((function(){return function(){var e;null===(e=s.current)||void 0===e||e.stop()}}));var u=[{label:q.Z.Messages.SOUND_MESSAGE,sound:"message1"},{label:q.Z.Messages.SOUND_DEAFEN,sound:"deafen"},{label:q.Z.Messages.SOUND_UNDEAFEN,sound:"undeafen"},{label:q.Z.Messages.MUTE,sound:"mute"},{label:q.Z.Messages.UNMUTE,sound:"unmute"},{label:q.Z.Messages.SOUND_VOICE_DISCONNECTED,sound:"disconnect"},{label:q.Z.Messages.SOUND_PTT_ACTIVATE,sound:"ptt_start"},{label:q.Z.Messages.SOUND_PTT_DEACTIVATE,sound:"ptt_stop"},{label:q.Z.Messages.SOUND_USER_JOIN,sound:"user_join"},{label:q.Z.Messages.SOUND_USER_LEAVE,sound:"user_leave"},{label:q.Z.Messages.SOUND_USER_MOVED,sound:"user_moved"},{
label:q.Z.Messages.SOUND_OUTGOING_RING,sound:"call_calling"},{label:q.Z.Messages.SOUND_INCOMING_RING,sound:"call_ringing"},{label:q.Z.Messages.SOUND_STREAM_STARTED,sound:"stream_started"},{label:q.Z.Messages.SOUND_STREAM_STOPPED,sound:"stream_ended"},{label:q.Z.Messages.SOUND_VIEWER_JOIN,sound:"stream_user_joined"},{label:q.Z.Messages.SOUND_VIEWER_LEAVE,sound:"stream_user_left"}].concat(dv(i?[{label:q.Z.Messages.SOUND_ACTIVITY_START,sound:"activity_launch"},{label:q.Z.Messages.SOUND_ACTIVITY_END,sound:"activity_end"},{label:q.Z.Messages.SOUND_ACTIVITY_USER_JOIN,sound:"activity_user_join"},{label:q.Z.Messages.SOUND_ACTIVITY_USER_LEAVE,sound:"activity_user_left"}]:[]),[{label:q.Z.Messages.SOUND_INVITED_TO_SPEAK,sound:"reconnect"}]);return(0,I.jsxs)(C.FormSection,{tag:C.FormTitleTags.H1,title:q.Z.Messages.SOUNDS,children:[o?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(C.FormTitle,{className:Pe().marginBottom20,children:q.Z.Messages.SOUNDPACK_LABEL}),(0,I.jsx)(VI,{
className:B()(rv().soundpackSelect,Pe().marginBottom40)})]}):null,(0,I.jsx)(C.FormSwitch,{note:q.Z.Messages.USER_SETTINGS_NOTIFICATIONS_NOTIFY_MESSAGES_IN_SELECTED_CHANNEL_NOTE,value:r,onChange:BI.default.setNotifyMessagesInSelectedChannel,children:q.Z.Messages.USER_SETTINGS_NOTIFICATIONS_NOTIFY_MESSAGES_IN_SELECTED_CHANNEL_LABEL}),(0,I.jsx)(C.FormSwitch,{note:q.Z.Messages.SOUND_DISABLE_ALL_NOTE,value:n,onChange:BI.default.toggleDisableAllSounds,children:q.Z.Messages.SOUND_DISABLE_ALL}),u.map((function(e){var r=e.label,o=e.sound;return(0,I.jsx)(mv,{label:r,disabled:n,onChange:function(e){return l(o,e)},onPreview:function(e){return a(o,e)},enabled:!n&&!t.includes(o)},o)}))]})}var Ev=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&uv(e,t)}(n,e);var t=pv(n);function n(){iv(this,n);var e
;(e=t.apply(this,arguments)).handleToggleShowUnreadBadge=function(){BI.default.setDisableUnreadBadge(!e.props.disableUnreadBadge)};e.handleToggleShowFlash=function(){BI.default.setTaskbarFlash(!e.props.taskbarFlash)};e.handleToggleSuperReactionNotifications=function(e){fs.QX.updateSetting(e);to.default.track(se.rMx.SUPER_REACTION_NOTIFICATIONS_ENABLED,{enabled:e})};e.renderTTS=function(){if(!gf.Zh)return null;var t=[{name:q.Z.Messages.TTS_ALLS,value:se.PrB.ALL_CHANNELS},{name:q.Z.Messages.TTS_CURRENT,value:se.PrB.SELECTED_CHANNEL},{name:q.Z.Messages.TTS_NEVER,value:se.PrB.NEVER}];return(0,I.jsxs)(C.FormItem,{title:q.Z.Messages.FORM_LABEL_TTS_NOTIFICATIONS,children:[(0,I.jsx)(C.FormText,{type:C.FormTextTypes.DESCRIPTION,className:Pe().marginBottom8,children:q.Z.Messages.FORM_DESCRIPTION_TTS}),(0,I.jsx)(C.RadioGroup,{options:t,onChange:e.handleTTSChange,value:e.props.ttsType})]})};return e}var r=n.prototype;r.handleDesktopChange=function(e){var t,n=e?se.qrD.ALL:se.qrD.NEVER
;n!==se.qrD.NEVER?(t="UserSettingsModal",KI.Z.requestPermission((function(e){var n=e?se.$Ab.ENABLED:se.$Ab.BLOCKED;BI.default.setPermissionsState(n,t)}))):BI.default.setDesktopType(n)};r.handleTTSChange=function(e){var t=e.value;BI.default.setTTSType(t)};r.render=function(){var e=this.props,t=e.desktopType,n=e.afkTimeout,r=e.disableUnreadBadge,o=e.taskbarFlash,i=e.disabledSounds,s=e.disableAllSounds,a=e.notifyMessagesInSelectedChannel,l=e.enableBurstReactionNotifications,c=Kc.FB&&(0,Kc.ED)(),u=Fe().range(1,11).map((function(e){return{value:60*e,label:q.Z.Messages.DURATION_MINUTES.format({minutes:e})}})),d=GI.yh.getCurrentConfig({},{autoTrackExposure:!1}).hasDesktopNotifications;return(0,I.jsxs)(C.FormSection,{tag:C.FormTitleTags.H1,title:q.Z.Messages.NOTIFICATIONS,children:[(0,I.jsx)(C.FormSwitch,{className:Pe().marginBottom20,value:t!==se.qrD.NEVER,onChange:this.handleDesktopChange,note:q.Z.Messages.DESKTOP_NOTIFICATIONS_ENABLE_BODY,children:q.Z.Messages.DESKTOP_NOTIFICATIONS_ENABLE
}),(0,I.jsx)(C.FormSwitch,{className:c?Pe().marginBottom20:Pe().marginBottom40,value:!r,note:q.Z.Messages.USER_SETTINGS_NOTIFICATIONS_SHOW_BADGE_BODY,onChange:this.handleToggleShowUnreadBadge,children:q.Z.Messages.USER_SETTINGS_NOTIFICATIONS_SHOW_BADGE_LABEL}),d?(0,I.jsx)(C.FormSwitch,{className:c?Pe().marginBottom20:Pe().marginBottom40,value:l,note:q.Z.Messages.USER_SETTING_NOTIFICATIONS_ENABLE_BURST_REACTION_NOTIFICATIONS_BODY,onChange:this.handleToggleSuperReactionNotifications,children:q.Z.Messages.USER_SETTING_NOTIFICATIONS_ENABLE_BURST_REACTION_NOTIFICATIONS_LABEL}):null,c?(0,I.jsx)(C.FormSwitch,{className:Pe().marginBottom40,value:o,note:q.Z.Messages.USER_SETTINGS_NOTIFICATIONS_SHOW_FLASH_BODY,onChange:this.handleToggleShowFlash,children:q.Z.Messages.USER_SETTINGS_NOTIFICATIONS_SHOW_FLASH_LABEL}):null,(0,I.jsxs)(C.FormItem,{title:q.Z.Messages.FORM_LABEL_PUSH_AFK_TIMEOUT,children:[(0,I.jsx)(C.SingleSelect,{value:n,onChange:fs.CM.updateSetting,options:u}),(0,I.jsx)(C.FormText,{
type:C.FormTextTypes.DESCRIPTION,className:Pe().marginTop8,children:q.Z.Messages.FORM_DESCRIPTION_PUSH_AFK_TIMEOUT}),(0,I.jsx)(C.FormDivider,{className:B()(Pe().marginTop40,Pe().marginBottom40)})]}),this.renderTTS(),(0,I.jsx)(C.FormDivider,{className:B()(Pe().marginTop40,Pe().marginBottom40)}),(0,I.jsx)(C.FormItem,{children:(0,I.jsx)(hv,{disabledSounds:i,disableAllSounds:s,notifyMessagesInSelectedChannel:a})}),(0,I.jsx)(tv,{})]})};return n}(c.PureComponent);function Sv(){var e=(0,r.cj)([WI.Z],(function(){return{disableUnreadBadge:WI.Z.getDisableUnreadBadge(),taskbarFlash:WI.Z.taskbarFlash,disabledSounds:WI.Z.getDisabledSounds(),disableAllSounds:WI.Z.getDisableAllSounds(),desktopType:WI.Z.getDesktopType(),ttsType:WI.Z.getTTSType(),notifyMessagesInSelectedChannel:WI.Z.getNotifyMessagesInSelectedChannel()}}));return(0,I.jsx)(Ev,lv(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){sv(e,t,n[t])}))}return e}({},e),{afkTimeout:fs.CM.useSetting(),enableBurstReactionNotifications:fs.QX.useSetting()}))}var gv=n(993754),_v=n(652735),Tv=n(674482),Ov=n(630395),bv=n(725547),yv=n.n(bv);function Iv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vv(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Nv(e){Nv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Nv(e)}function Av(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){vv(e,t,n[t])}))}return e}function Cv(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function jv(e,t){return!t||"object"!==Pv(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function xv(e,t){xv=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return xv(e,t)}var Pv=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Rv(e){var t=function(){
if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Nv(e);if(t){var o=Nv(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return jv(this,n)}}function Mv(){var e=Tv.Z.getNotificationPositionMode(),t=e!==se._vf.DISABLED,n=ie.Z.getOverlayKeybind(),r=ie.Z.getOverlayChatKeybind();to.default.track(se.rMx.OVERLAY_SETTINGS_UPDATED,{enabled:Yu.Z.enabled,notifications_enabled:t,notifications_position:t?e:null,text_notifications_mode:Tv.Z.getTextChatNotificationMode(),hotkey:null!=n?(0,uI.BB)(n.shortcut):null,text_activation_hotkey:null!=r?(0,uI.BB)(r.shortcut):null,text_opacity_slider:Tv.Z.getTextWidgetOpacity()})}var Dv=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&xv(e,t)}(n,e);var t=Rv(n);function n(){Iv(this,n);var e;(e=t.apply(this,arguments)).handleChangeEnabled=function(e){gv.Z.setEnabled(e);Mv();to.default.track(se.rMx.OVERLAY_TOGGLED,{enabled:e,setting_type:"overlay toggled - global"})};e.handleChangeDisplayNameMode=function(e){var t=e.value;gv.Z.setDisplayNameMode(t)};e.handleChangeAvatarSizeMode=function(e){var t=e.value;gv.Z.setAvatarSizeMode(t)};e.handleChangeDisplayUserMode=function(e){var t=e.value;gv.Z.setDisplayUserMode(t)};e.handleChangeTextNotificationMode=function(){var t=se.Ypu.ENABLED,n=se.Ypu.DISABLED,r=e.props.textChatNotificationMode===t?n:t;gv.Z.setTextChatNotificationMode(r);Mv()};e.handleChangeNotificationPositionMode=function(e,t){gv.Z.setNotificationPositionMode(t);Mv()};e.handleInputLockShortcutChange=function(t){
ne.Z.setKeybind(Cv(Av({},e.props.inputLockKeybind),{shortcut:t}));Mv()};return e}var r=n.prototype;r.renderExplanation=function(){return null};r.renderOverlayToggle=function(){var e=this.props,t=e.enabled,n=e.inputLockKeybind,r=(0,_v.$1)();return(0,I.jsxs)(Ne.Z,{className:Pe().marginBottom20,children:[(0,I.jsx)(Ne.Z.Child,{basis:"50%",children:(0,I.jsxs)(C.FormItem,{children:[(0,I.jsx)(C.FormTitle,{tag:C.FormTitleTags.H5,children:q.Z.Messages.SETTINGS_GAMES_ENABLE_OVERLAY_LABEL}),(0,I.jsx)(C.FormSwitch,{className:Pe().marginBottom20,style:{marginTop:16},value:t,disabled:r,note:r?q.Z.Messages.OVERLAY_DISABLED_OLD_CLIENT:null,hideBorder:!0,onChange:this.handleChangeEnabled,children:q.Z.Messages.ENABLE_INGAME_OVERLAY})]})}),(0,I.jsx)(Ne.Z.Child,{basis:"50%",children:(0,I.jsx)(C.FormItem,{title:q.Z.Messages.KEYBIND_TOGGLE_OVERLAY_INPUT_LOCK,children:(0,I.jsx)(re.Z,{disabled:!t,defaultValue:null!=n?n.shortcut:[],onChange:this.handleInputLockShortcutChange})})})]})}
;r.renderAvatarSize=function(){return(0,I.jsx)(Ne.Z,{className:Pe().marginBottom20,children:(0,I.jsx)(Ne.Z.Child,{children:(0,I.jsx)(C.FormItem,{title:q.Z.Messages.FORM_LABEL_AVATAR_SIZE,children:(0,I.jsx)(C.RadioGroup,{options:[{name:q.Z.Messages.AVATAR_SIZE_OPTION_LARGE,value:se.ipw.LARGE},{name:q.Z.Messages.AVATAR_SIZE_OPTION_SMALL,value:se.ipw.SMALL}],onChange:this.handleChangeAvatarSizeMode,value:this.props.avatarSizeMode})})})})};r.renderDisplayNames=function(){return(0,I.jsx)(Ne.Z,{className:Pe().marginBottom20,children:(0,I.jsx)(Ne.Z.Child,{children:(0,I.jsx)(C.FormItem,{title:q.Z.Messages.FORM_LABEL_DISPLAY_NAMES,children:(0,I.jsx)(C.RadioGroup,{options:[{name:q.Z.Messages.DISPLAY_OPTION_ALWAYS,value:se.wC$.ALWAYS},{name:q.Z.Messages.DISPLAY_OPTION_ONLY_WHILE_SPEAKING,value:se.wC$.ONLY_WHILE_SPEAKING},{name:q.Z.Messages.DISPLAY_OPTION_NEVER,value:se.wC$.NEVER}],onChange:this.handleChangeDisplayNameMode,value:this.props.displayNameMode})})})})};r.renderDisplayUsers=function(){
return(0,I.jsx)(Ne.Z,{className:Pe().marginBottom20,children:(0,I.jsx)(Ne.Z.Child,{children:(0,I.jsx)(C.FormItem,{title:q.Z.Messages.FORM_LABEL_DISPLAY_USERS,children:(0,I.jsx)(C.RadioGroup,{options:[{name:q.Z.Messages.DISPLAY_OPTION_ALWAYS,value:se.OYC.ALWAYS},{name:q.Z.Messages.DISPLAY_OPTION_ONLY_WHILE_SPEAKING,value:se.OYC.ONLY_WHILE_SPEAKING}],onChange:this.handleChangeDisplayUserMode,value:this.props.displayUserMode})})})})};r.renderTextNotificationMode=function(){var e=this.props.notificationPositionMode!==se._vf.DISABLED,t=e&&this.props.textChatNotificationMode===se.Ypu.ENABLED;return(0,I.jsx)(Ne.Z,{className:Pe().marginBottom20,children:(0,I.jsx)(Ne.Z.Child,{children:(0,I.jsx)(C.FormItem,{children:(0,I.jsx)(C.FormSwitch,{value:t,disabled:!e,onChange:this.handleChangeTextNotificationMode,hideBorder:!0,children:q.Z.Messages.FORM_LABEL_OVERLAY_TEXT_CHAT_NOTIFICATIONS})})})})};r.renderNotificationPosition=function(){return(0,I.jsx)(Ne.Z,{className:Pe().marginBottom20,children:(0,
I.jsx)(Ne.Z.Child,{children:(0,I.jsx)(C.FormItem,{title:q.Z.Messages.FORM_LABEL_NOTIFICATION_POSITION,children:(0,I.jsx)("div",{className:yv().notificationSettings,children:(0,I.jsx)(Ov.Z,{position:this.props.notificationPositionMode,onChange:this.handleChangeNotificationPositionMode})})})})})};r.render=function(){return(0,I.jsxs)(c.Fragment,{children:[(0,I.jsxs)(C.FormSection,{tag:C.FormTitleTags.H1,title:q.Z.Messages.OVERLAY,children:[this.renderExplanation(),this.renderOverlayToggle(),this.renderAvatarSize(),this.renderDisplayNames(),this.renderDisplayUsers()]}),(0,I.jsxs)(C.FormSection,{tag:C.FormTitleTags.H1,title:q.Z.Messages.OVERLAY_NOTIFICATIONS_SETTINGS,className:Pe().marginTop40,children:[this.renderNotificationPosition(),this.renderTextNotificationMode()]})]})};return n}(c.PureComponent);const Lv=r.ZP.connectStores([Yu.Z,Tv.Z,ie.Z],(function(){return{enabled:Yu.Z.enabled,avatarSizeMode:Tv.Z.getAvatarSizeMode(),displayNameMode:Tv.Z.getDisplayNameMode(),
displayUserMode:Tv.Z.getDisplayUserMode(),notificationPositionMode:Tv.Z.getNotificationPositionMode(),textChatNotificationMode:Tv.Z.getTextChatNotificationMode(),inputLockKeybind:ie.Z.getOverlayKeybind()}}))(Dv);var Zv=n(326786),wv=n(723636),Uv=n(73407),Bv=n(934870),Gv=n(775506),kv=n(930865),Fv=n(414357),Hv=n(81708),Yv=n.n(Hv);function Vv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wv(e){Wv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Wv(e)}function zv(e,t){return!t||"object"!==Qv(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Kv(e,t){Kv=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Kv(e,t)}var Qv=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function qv(e){var t=function(){
if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Wv(e);if(t){var o=Wv(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zv(this,n)}}const Xv=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Kv(e,t)}(n,e);var t=qv(n);function n(){Vv(this,n);return t.apply(this,arguments)}var r=n.prototype;r.renderIcon=function(e){return e===se.Eu4.NONE?(0,I.jsx)(Fv.Z,{tier:se.Eu4.TIER_1,className:Yv().gemWithoutLabel}):(0,I.jsx)(Fv.Z,{tier:e,className:Yv().gemWithLabel})};r.render=function(){var e=this.props,t=e.className,n=e.guildId,r=e.subscriberCount,o=(0,
kv.rF)(r,n),i=(0,kv.Fd)(r,n),s=null!=i?(0,kv.vn)(n)[i]:null,a=null!=s&&s>0?r/s*100:100;return(0,I.jsx)(C.ProgressCircle,{background:Yv().progressBackground,percent:a,strokeSize:C.ProgressCircle.StrokeSizes.SMALL,className:B()(Yv().gemIndicatorProgressCircle,t),children:(0,I.jsxs)("div",{className:Yv().gemIndicatorContainer,children:[this.renderIcon(o),(0,I.jsx)("div",{className:Yv().tierLabel,children:(0,kv.nW)(o)})]})})};return n}(c.Component);var $v=n(217674),Jv=n(102921);function eN(e,t,n,r,o,i,s){try{var a=e[i](s),l=a.value}catch(e){n(e);return}a.done?t(l):Promise.resolve(l).then(r,o)}function tN(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){eN(i,r,o,s,a,"next",e)}function a(e){eN(i,r,o,s,a,"throw",e)}s(void 0)}))}}function nN(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function rN(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){nN(e,t,n[t])}))}return e}function oN(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var iN=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){
return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:s.label++;return{value:i[1],done:!1};case 5:s.label++;r=i[1];i=[0];continue;case 7:i=s.ops.pop();s.trys.pop();continue;default:if(!(o=s.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1];o=i;break}if(o&&s.label<o[2]){s.label=o[2];s.ops.push(i);break}o[2]&&s.ops.pop();s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};function sN(e){var t=e.guildBoostSlot,r=e.onClose,o=e.hasCancelableGuildBoostSlot,i=e.premiumSubscription,s=e.onSelect,a=i.status===se.O0b.PAST_DUE;return(0,I.jsxs)(C.Menu,{onSelect:s,
navId:"subscription-context",variant:"fixed","aria-label":q.Z.Messages.GENERIC_ACTIONS_MENU_LABEL,onClose:r,children:[(0,I.jsx)(C.MenuItem,{id:"apply",label:null!=t.premiumGuildSubscription?q.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_TRANSFER_BUTTON:q.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_SELECT_SERVER_BUTTON,subtext:t.isOnCooldown()?q.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_TRANSFER_BUTTON_DISABLED_TOOLTIP:null,action:function(){(0,C.openModalLazy)(tN((function(){var e,r;return iN(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(30689),n.e(44485),n.e(55052),n.e(47311)]).then(n.bind(n,947311))];case 1:e=o.sent(),r=e.default;return[2,function(e){return(0,I.jsx)(r,oN(rN({},e),{guildBoostSlots:[t],locationSection:se.jXE.SETTINGS_PREMIUM}))}]}}))})))},disabled:t.isOnCooldown()}),(0,kv.tl)(t)?(0,I.jsx)(C.MenuItem,{id:"uncancel",label:q.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_SLOT_UNCANCEL_BUTTON,
subtext:a?q.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_CANCEL_BUTTON_DISABLED_PAST_DUE_TOOLTIP:null,action:function(){(0,C.openModalLazy)(tN((function(){var e,r;return iN(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(46903)]).then(n.bind(n,546903))];case 1:e=o.sent(),r=e.default;return[2,function(e){return(0,I.jsx)(r,oN(rN({},e),{guildBoostSlotId:t.id}))}]}}))})))},disabled:a}):(0,I.jsx)(C.MenuItem,{id:"cancel",label:q.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_SLOT_CANCEL_BUTTON,subtext:o?a?q.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_CANCEL_BUTTON_DISABLED_PAST_DUE_TOOLTIP:null:q.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_CANCEL_BUTTON_DISABLED_TOOLTIP,action:function(){(0,C.openModalLazy)(tN((function(){var e,r;return iN(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(30689),n.e(64991)]).then(n.bind(n,464991))];case 1:e=o.sent(),r=e.default;return[2,function(e){return(0,I.jsx)(r,oN(rN({},e),{guildBoostSlot:t}))}]}}))})))},disabled:!o||a,
color:"danger"})]})}var aN=n(658308),lN=n(832169),cN=n.n(lN);function uN(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function dN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){uN(e,t,n[t])}))}return e}function fN(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var pN="0";function mN(e){
var t=e.deadline,n=(0,Uv.Z)(t,1e3),r=n.days,o=n.hours,i=n.minutes;return(0,I.jsx)(I.Fragment,{children:q.Z.Messages.PREMIUM_GUILD_COOLDOWN_AVAILABLE_COUNTDOWN.format({days:r,hours:o,minutes:i})})}function hN(e){var t=e.guild,n=e.guildBoostSlots,r=e.availableGuildBoostSlots,o=c.useContext(to.AnalyticsContext),i=(0,D.Z)().analyticsLocations,s=t.premiumSubscriberCount,a=n.sort((function(e,t){return Number(null!=e.premiumGuildSubscription?e.premiumGuildSubscription.id:0)-Number(null!=t.premiumGuildSubscription?t.premiumGuildSubscription.id:0)}))[0];if(null==a)return null;var l=null!=a.premiumGuildSubscription?Jv.Z.extractTimestamp(a.premiumGuildSubscription.id):0,u=(0,kv.xf)(l),d=null!=t.banner?$o.ZP.getGuildBannerURL(t):null;return(0,I.jsxs)("div",{className:cN().guildHeader,children:[(0,I.jsx)("div",{className:cN().guildHeaderBackground,style:{backgroundImage:null!=d?"url(".concat(d,")"):void 0}}),(0,I.jsx)(mn.Z,{guild:t,className:cN().guildIcon}),(0,I.jsxs)("div",{
className:cN().guildHeaderContent,children:[(0,I.jsx)(C.Heading,{variant:"heading-md/semibold",className:cN().guildName,children:t.name}),(0,I.jsx)(C.Text,{variant:"text-xs/normal",className:cN().guildSubscriptionDuration,children:q.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_DURATION.format({months:u,date:new Date(l)})}),(0,I.jsxs)(C.Text,{variant:"text-xs/normal",className:cN().guildSubscriberCount,children:[(0,I.jsx)($v.Z,{className:cN().guildSubscriberCountIcon}),(0,I.jsx)("div",{children:q.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_SUBSCRIBER_COUNT_TOOLTIP.format({subscriberCount:n.length})}),0!==r.length?(0,I.jsx)(C.Anchor,{onClick:function(){if(0!==r.length){var e=fN(dN({},o.location),{section:se.jXE.SETTINGS_PREMIUM});(0,aN.u)({analyticsLocations:i,analyticsLocation:e,guild:t})}},className:cN().guildSubscribeButton,children:q.Z.Messages.PREMIUM_GUILD_PERKS_MODAL_BUTTON_SUBSCRIBE_THIS_SERVER}):null]})]}),(0,I.jsx)("div",{className:cN().guildGemIndicatorContainer,children:(0,
I.jsx)(C.Clickable,{onClick:function(){(0,Bv.X)(t.id);(0,He.xf)()},children:(0,I.jsx)(Xv,{className:cN().gemIndicator,subscriberCount:s,guildId:t.id})})})]})}function EN(e){var t=e.guildBoostSlot,n=e.premiumSubscription,r=e.hasCancelableGuildBoostSlot,o=null!=t.cooldownEndsAt?new Date(t.cooldownEndsAt):null,i=null!=o&&o>new Date,s=null!=t.premiumGuildSubscription?new Date(Jv.Z.extractTimestamp(t.premiumGuildSubscription.id)):null,a=(0,kv.tl)(t),l=a?Wu.Z:$v.Z;return(0,I.jsxs)("div",{className:cN().guildSubscriptionSlot,children:[(0,I.jsx)(l,{className:B()(cN().guildSubscriptionSlotIcon,uN({},cN().guildSubscriptionSlotIconCanceled,a))}),(0,I.jsxs)("div",{className:cN().guildSubscriptionSlotContent,children:[(0,I.jsx)(C.Text,{variant:"text-sm/normal",className:cN().guildSubscriptionCreationDate,children:null!=s?q.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_CREATION_DATE.format({date:s}):q.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_UNUSED_SLOT_DESCRIPTION}),(0,I.jsxs)(C.Text,{
variant:"text-xs/normal",color:"text-muted",children:[i&&null!=o?(0,I.jsx)(mN,{deadline:o.getTime()}):null,i&&a?"  ":null,a?q.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_PENDING_CANCELATION.format({date:n.currentPeriodEnd}):null]})]}),(0,I.jsx)(C.Popout,{renderPopout:function(e){var o=e.closePopout;return(0,I.jsx)(sN,{onClose:o,guildBoostSlot:t,premiumSubscription:n,hasCancelableGuildBoostSlot:r})},position:"right",align:"center",children:function(e){return(0,I.jsx)(C.Clickable,fN(dN({},e),{"aria-label":q.Z.Messages.MORE_OPTIONS,className:cN().guildSubscriptionSlotMenuIcon,children:(0,I.jsx)(Cp.Z,{})}))}})]})}function SN(e){var t=e.guildId,n=e.guildBoostSlots,o=e.premiumSubscription,i=e.availableGuildBoostSlots,s=e.hasCancelableGuildBoostSlot,a=(0,r.e7)([vn.Z],(function(){return t!==pN?vn.Z.getGuild(t):null}));return null==a&&t!==pN?null:(0,I.jsxs)("div",{className:cN().guild,children:[null!=a?(0,I.jsx)(hN,{guild:a,guildBoostSlots:n,availableGuildBoostSlots:i}):null,(0,I.jsx)("div",{
className:cN().guildSubscriptionSlots,children:n.map((function(e){return(0,I.jsx)(EN,{guildBoostSlot:e,premiumSubscription:o,hasCancelableGuildBoostSlot:s},e.id)}))})]})}function gN(){var e=(0,r.e7)([Qt.Z],(function(){return Qt.Z.getPremiumTypeSubscription()})),t=(0,r.e7)([Gv.Z],(function(){return Gv.Z.boostSlots})),n=Fe()(t).filter((function(e){return e.isAvailable()})).value(),o=Fe()(t).groupBy((function(e){var t=e.premiumGuildSubscription;return null!=t?t.guildId:pN})).value(),i=o[0],s=Object.keys(o).filter((function(e){return e!==pN}));if(0===s.length&&null==i||null==e)return null;var a=Fe()(t).filter((function(e){return!e.canceled})).value().length>f.ZP.getNumIncludedPremiumGuildSubscriptionSlots(e.planId);return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(C.Text,{variant:"text-sm/normal",className:cN().blurb,children:q.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_SUBTITLE.format({helpdeskArticle:$s.Z.getArticleURL(se.BhN.GUILD_SUBSCRIPTIONS)})}),null!=i?(0,I.jsx)(SN,{guildId:pN,
guildBoostSlots:i,premiumSubscription:e,availableGuildBoostSlots:n,hasCancelableGuildBoostSlot:a}):null,s.length>0?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(C.Heading,{variant:"heading-deprecated-12/semibold",className:cN().subSectionHeader,children:q.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_ACTIVE_TITLE}),s.map((function(t){return(0,I.jsx)(SN,{guildId:t,guildBoostSlots:o[t],premiumSubscription:e,availableGuildBoostSlots:n,hasCancelableGuildBoostSlot:a},t)}))]}):null]})}var _N=n(726544),TN=n.n(_N);function ON(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bN(e){bN=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return bN(e)}function yN(e,t){return!t||"object"!==vN(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function IN(e,t){IN=Object.setPrototypeOf||function(e,t){e.__proto__=t
;return e};return IN(e,t)}var vN=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function NN(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=bN(e);if(t){var o=bN(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return yN(this,n)}}const AN=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&IN(e,t)}(n,e);var t=NN(n);function n(){ON(this,n);var e;(e=t.apply(this,arguments)).renderFeature=function(t,n){return(0,I.jsxs)("div",{className:TN().feature,children:[e.renderIcon(t),(0,I.jsxs)("div",{
children:[null!=t.title?(0,I.jsx)("div",{className:TN().title,children:t.title}):null,(0,I.jsx)("div",{className:null==t.title?TN().descriptionStandalone:TN().description,children:t.description})]})]},n)};return e}var r=n.prototype;r.renderIcon=function(e){if(null!=e.overrideIcon)return e.overrideIcon(TN().icon);if(null!=e.icon&&null!=e.iconClass){var t=e.icon;return(0,I.jsx)(t,{className:B()(TN().icon,e.iconClass)})}throw new Error("Missing overrideIcon or iconName and iconClass")};r.render=function(){return(0,I.jsx)("div",{className:TN().features,style:{gridTemplateColumns:Array(this.props.columns).fill("1fr").join(" ")},children:this.props.features.map(this.renderFeature)})};return n}(c.Component);var CN=n(399370),jN=n(781453);function xN(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function PN(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function RN(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function MN(e){var t=e.width,n=void 0===t?251:t,r=e.height,o=void 0===r?24:r,i=e.color,s=void 0===i?"currentColor":i,a=e.foreground,l=RN(e,["width","height","color","foreground"]);return(0,
I.jsx)("svg",PN(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){xN(e,t,n[t])}))}return e}({},(0,Gd.Z)(l)),{width:n,height:o,viewBox:"0 0 251 24",children:(0,I.jsx)("g",{fill:s,className:a,children:(0,I.jsx)("path",{
d:"M3.494 16.768c.32-.258.794-.187 1.08.107.447.46.993.824 1.638 1.092.898.374 1.796.56 2.694.56.809 0 1.527-.142 2.156-.428.629-.286 1-.736 1.112-1.352.067-.351 0-.66-.202-.923a2.177 2.177 0 0 0-.842-.692 5.764 5.764 0 0 0-1.28-.429c-.472-.132-.944-.23-1.415-.296a9.625 9.625 0 0 1-2.695-.857c-.83-.44-1.55-1-2.156-1.682a6.19 6.19 0 0 1-1.313-2.373C2 8.57 1.967 7.56 2.17 6.462c.224-1.187.64-2.187 1.246-3A7.497 7.497 0 0 1 5.673 1.45 9.23 9.23 0 0 1 8.536.33 15.82 15.82 0 0 1 11.769 0c.719 0 1.426.055 2.123.165.696.11 1.37.308 2.02.593.652.286 1.27.67 1.853 1.154.429.355.839.775 1.231 1.26.241.298.16.73-.16.945L15.55 6.345c-.292.198-.686.146-.954-.083a4.584 4.584 0 0 0-1.41-.822 6.76 6.76 0 0 0-2.123-.429c-.763-.022-1.426.11-1.987.396-.562.285-.876.725-.943 1.318-.09.682.134 1.198.673 1.55.54.33 1.269.593 2.19.79a22.17 22.17 0 0 1 2.998.792c.988.308 1.819.77 2.492 1.385.696.593 1.202 1.373 1.516 2.34.314.945.337 2.143.067 3.594-.224 1.143-.64 2.143-1.246 3a7.925 7.925 0 0 1-2.19 2.11c-.875.571-1.886 1-3.031 1.285A14.575 14.575 0 0 1 7.997 24c-.719 0-1.471-.088-2.257-.264a11.036 11.036 0 0 1-2.257-.79 10.817 10.817 0 0 1-2.054-1.32 7.69 7.69 0 0 1-1.306-1.349c-.209-.277-.143-.66.128-.88l3.243-2.629zM29.31 8.579a.692.692 0 0 0 .694.784h8.053c.426 0 .753.368.695.78l-.547 3.869a.697.697 0 0 1-.695.592h-8.446a.697.697 0 0 0-.695.591l-.307 2.12a.692.692 0 0 0 .695.784h8.897c.426 0 .753.367.696.78l-.584 4.197a.697.697 0 0 1-.695.594H21.884a.692.692 0 0 1-.695-.782L24.328.921a.697.697 0 0 1 .695-.591H40.21c.427 0 .755.37.695.783l-.61 4.198a.697.697 0 0 1-.694.59h-9.292a.697.697 0 0 0-.695.59l-.304 2.088zM50.653 16.57a.706.706 0 0 0-.591-.317h-.082a.697.697 0 0 0-.695.593l-.878 6.231a.697.697 0 0 1-.695.593h-4.678a.692.692 0 0 1-.695-.782L45.477.921a.697.697 0 0 1 .695-.591h8.922c1.235 0 2.358.165 3.369.494 1.033.33 1.897.824 2.593 1.484.719.659 1.235 1.494 1.55 2.505.314 1.011.393 2.198.236 3.56-.158 1.078-.393 2-.708 2.77a7.315 7.315 0 0 1-1.179 1.945 8.12 8.12 0 0 1-1.684 1.418c-.444.27-.925.534-1.443.794a.696.696 0 0 0-.27 1.026l4.477 6.264c.326.455-.007 1.08-.574 1.08h-5.78a.706.706 0 0 1-.592-.316l-4.436-6.785zm2.993-5.394c.943 0 1.673-.275 2.19-.824.516-.572.819-1.198.909-1.88.09-.703-.056-1.318-.438-1.846-.36-.527-.988-.79-1.886-.79h-2.928a.697.697 0 0 0-.695.59l-.575 3.966a.692.692 0 0 0 .695.784h2.728zM81.555.694a.703.703 0 0 1 .637-.397h4.884c.522 0 .861.537.628.993l-11.223 22a.703.703 0 0 1-.628.38h-4.526a.699.699 0 0 1-.685-.539l-4.946-22a.69.69 0 0 1 .685-.834h5.009c.339 0 .63.237.69.563l2.017 10.843.335 5.535a.04.04 0 0 0 .04.037.04.04 0 0 0 .039-.028l1.81-5.51L81.555.693zM95.982 8.579a.692.692 0 0 0 .695.784h8.053c.425 0 .753.368.695.78l-.547 3.869a.697.697 0 0 1-.695.592h-8.447a.697.697 0 0 0-.695.591l-.306 2.12a.692.692 0 0 0 .695.784h8.897c.425 0 .753.367.696.78l-.584 4.197a.696.696 0 0 1-.695.594H88.557a.692.692 0 0 1-.695-.782L91 .921a.697.697 0 0 1 .695-.591h15.187c.427 0 .755.37.695.783l-.609 4.198a.697.697 0 0 1-.695.59h-9.291a.697.697 0 0 0-.695.59l-.305 2.088zM117.326 16.57a.706.706 0 0 0-.591-.317h-.083a.697.697 0 0 0-.695.593l-.877 6.231a.697.697 0 0 1-.695.593h-4.678a.692.692 0 0 1-.695-.782L112.15.921a.697.697 0 0 1 .695-.591h8.922c1.235 0 2.358.165 3.368.494 1.033.33 1.898.824 2.594 1.484.719.659 1.235 1.494 1.549 2.505.315 1.011.393 2.198.236 3.56-.157 1.078-.393 2-.707 2.77a7.295 7.295 0 0 1-1.179 1.945c-.472.527-1.033 1-1.684 1.418-.445.27-.926.534-1.443.794a.697.697 0 0 0-.27 1.026l4.477 6.264c.326.455-.007 1.08-.575 1.08h-5.78a.706.706 0 0 1-.591-.316l-4.436-6.785zm2.993-5.394c.943 0 1.673-.275 2.189-.824.517-.572.82-1.198.91-1.88.089-.703-.057-1.318-.438-1.846-.36-.527-.988-.79-1.887-.79h-2.927a.697.697 0 0 0-.695.59l-.576 3.966a.692.692 0 0 0 .695.784h2.729zM158.699 7.45a3.965 3.965 0 0 1-.303.924 4.234 4.234 0 0 1-.607 1.055c-.247.351-.55.692-.909 1.022l-.049.044c-.428.378-.443 1.14-.013 1.516.232.202.432.419.601.648.404.55.685 1.121.842 1.715a4.66 4.66 0 0 1 .135 1.747 7.08 7.08 0 0 1-.27 1.516c-.584 1.89-1.628 3.374-3.132 4.45-1.482 1.056-3.548 1.583-6.198 1.583h-8.928a.692.692 0 0 1-.695-.782L142.311.921a.697.697 0 0 1 .695-.591h8.956c1.145 0 2.167.165 3.065.494.921.33 1.685.802 2.291 1.418.606.593 1.033 1.33 1.28 2.209.269.879.303 1.879.101 3zm-8.051 2.012c.741 0 1.325-.21 1.752-.627.449-.44.707-.923.775-1.45.09-.528-.023-1-.337-1.418-.292-.44-.82-.66-1.583-.66h-2.895a.696.696 0 0 0-.694.59l-.406 2.78a.691.691 0 0 0 .694.785h2.694zm-1.28 9.032c.899 0 1.606-.241 2.123-.725.538-.505.842-1.055.909-1.648a2.07 2.07 0 0 0-.438-1.648c-.382-.506-1.022-.759-1.92-.759h-2.891a.698.698 0 0 0-.696.593l-.48 3.407c-.058.413.27.78.696.78h2.697zM163.079 8.011c.202-1.34.652-2.505 1.348-3.495a9.593 9.593 0 0 1 2.593-2.505 11.606 11.606 0 0 1 3.369-1.516c1.235-.33 2.47-.495 3.705-.495 1.235 0 2.425.165 3.57.495 1.146.33 2.134.835 2.965 1.516a6.245 6.245 0 0 1 1.886 2.505c.426.99.539 2.154.337 3.495l-1.179 7.978c-.202 1.34-.652 2.517-1.348 3.527a9.329 9.329 0 0 1-2.526 2.506 11.578 11.578 0 0 1-3.368 1.484c-1.235.33-2.504.494-3.807.494-1.235 0-2.425-.165-3.57-.494-1.123-.33-2.1-.825-2.931-1.484a6.56 6.56 0 0 1-1.886-2.505c-.426-1.011-.539-2.187-.337-3.528l1.179-7.978zm4.851 7.978c-.068.418-.011.791.168 1.12.18.309.427.572.741.792.315.198.685.352 1.112.462.449.11.898.165 1.347.165.494 0 .977-.055 1.449-.165.494-.11.943-.275 1.347-.495.404-.22.741-.494 1.01-.824.292-.352.472-.758.539-1.22l1.179-7.813c.068-.44.023-.824-.134-1.154a2.099 2.099 0 0 0-.708-.824 3.38 3.38 0 0 0-1.145-.495 5.526 5.526 0 0 0-1.381-.164c-.494 0-.988.055-1.482.164-.472.11-.91.275-1.314.495-.404.22-.752.494-1.044.824-.27.33-.438.714-.505 1.154l-1.179 7.978zM186.795 8.011c.202-1.34.651-2.505 1.347-3.495a9.597 9.597 0 0 1 2.594-2.505 11.6 11.6 0 0 1 3.368-1.516c1.235-.33 2.47-.495 3.705-.495 1.235 0 2.426.165 3.571.495 1.145.33 2.133.835 2.964 1.516a6.227 6.227 0 0 1 1.886 2.505c.427.99.539 2.154.337 3.495l-1.179 7.978c-.202 1.34-.651 2.517-1.347 3.527a9.357 9.357 0 0 1-2.526 2.506 11.596 11.596 0 0 1-3.369 1.484c-1.235.33-2.504.494-3.806.494a12.85 12.85 0 0 1-3.571-.494c-1.122-.33-2.099-.825-2.93-1.484a6.54 6.54 0 0 1-1.886-2.505c-.427-1.011-.539-2.187-.337-3.528l1.179-7.978zm4.85 7.978c-.067.418-.011.791.169 1.12.179.309.426.572.741.792a3.9 3.9 0 0 0 1.111.462c.449.11.898.165 1.348.165a6.36 6.36 0 0 0 1.448-.165c.494-.11.943-.275 1.347-.495.405-.22.741-.494 1.011-.824.292-.352.471-.758.539-1.22l1.179-7.813c.067-.44.022-.824-.135-1.154a2.096 2.096 0 0 0-.707-.824 3.394 3.394 0 0 0-1.146-.495 5.52 5.52 0 0 0-1.381-.164c-.494 0-.988.055-1.482.164-.471.11-.909.275-1.313.495-.405.22-.753.494-1.045.824a2.35 2.35 0 0 0-.505 1.154l-1.179 7.978zM211.767 16.768c.319-.258.794-.187 1.08.107.448.46.994.824 1.638 1.092.898.374 1.796.56 2.695.56.808 0 1.527-.142 2.155-.428.629-.286 1-.736 1.112-1.352.067-.351 0-.66-.202-.923a2.178 2.178 0 0 0-.842-.692 5.777 5.777 0 0 0-1.28-.429c-.472-.132-.943-.23-1.415-.296a9.636 9.636 0 0 1-2.695-.857 7.63 7.63 0 0 1-2.155-1.682 6.176 6.176 0 0 1-1.314-2.373c-.27-.924-.303-1.935-.101-3.033.224-1.187.64-2.187 1.246-3a7.498 7.498 0 0 1 2.257-2.011A9.23 9.23 0 0 1 216.809.33c1.055-.22 2.133-.33 3.234-.33.718 0 1.426.055 2.122.165.696.11 1.37.308 2.021.593.651.286 1.269.67 1.852 1.154a8.82 8.82 0 0 1 1.231 1.26c.241.298.16.73-.159.945l-3.288 2.228c-.292.198-.686.146-.953-.083a4.582 4.582 0 0 0-1.412-.822 6.756 6.756 0 0 0-2.122-.429c-.763-.022-1.426.11-1.987.396-.561.285-.876.725-.943 1.318-.09.682.135 1.198.674 1.55.538.33 1.268.593 2.189.79 1.033.199 2.032.462 2.998.792.988.308 1.819.77 2.492 1.385.697.593 1.202 1.373 1.516 2.34.315.945.337 2.143.068 3.594-.225 1.143-.64 2.143-1.247 3a7.922 7.922 0 0 1-2.189 2.11c-.876.571-1.886 1-3.032 1.285a14.575 14.575 0 0 1-3.604.429c-.718 0-1.471-.088-2.257-.264a11.068 11.068 0 0 1-2.257-.79 10.823 10.823 0 0 1-2.054-1.32c-.493-.399-.928-.849-1.306-1.349-.208-.277-.143-.66.128-.88l3.243-2.629zM243.571 5.703a.698.698 0 0 0-.696.593l-2.359 16.781a.697.697 0 0 1-.695.593h-4.68a.692.692 0 0 1-.695-.78l2.306-16.406a.692.692 0 0 0-.695-.78h-4.817a.692.692 0 0 1-.694-.787l.603-4.033a.698.698 0 0 1 .695-.587h17.545c.428 0 .756.371.694.786l-.603 4.033a.697.697 0 0 1-.694.587h-5.215z"
})})}))}var DN=n(23727),LN=n(855595),ZN=n(71236);function wN(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function UN(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function BN(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}
return o}function GN(e){var t=e.width,n=void 0===t?24:t,r=e.height,o=void 0===r?24:r,i=e.color,s=void 0===i?"currentColor":i,a=BN(e,["width","height","color"]);return(0,I.jsxs)("svg",UN(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){wN(e,t,n[t])}))}return e}({width:n,height:o},(0,Gd.Z)(a)),{viewBox:"0 0 24 24",children:[(0,I.jsx)("path",{d:"M13.8003 3.59643V7.86267C13.8003 9.15683 14.8448 10.2011 16.1393 10.2011H20.4067C20.9334 10.2011 21.2012 9.56739 20.8263 9.19253L14.8091 3.17694C14.4341 2.80208 13.8003 3.06092 13.8003 3.59643Z",fill:s}),(0,I.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",
d:"M11.9727 7.88073C11.9727 10.1692 13.8304 12.0269 16.1189 12.0269H20.9471V19.2064C20.9471 20.1936 20.1394 21.0013 19.1523 21.0013H4.79318C3.80599 21.0013 2.99829 20.1936 2.99829 19.2064V4.84737C2.99829 3.86019 3.80599 3.05249 4.79318 3.05249H11.9727V7.88073ZM13.8 14C13.8 14.9941 12.9941 15.8 12 15.8C11.0059 15.8 10.2 14.9941 10.2 14H9C9 15.6569 10.3431 17 12 17C13.6569 17 15 15.6569 15 14H13.8ZM7 15C7 15.5523 6.55228 16 6 16C5.44772 16 5 15.5523 5 15C5 14.4477 5.44772 14 6 14C6.55228 14 7 14.4477 7 15ZM18 16C18.5523 16 19 15.5523 19 15C19 14.4477 18.5523 14 18 14C17.4477 14 17 14.4477 17 15C17 15.5523 17.4477 16 18 16Z",fill:s})]}))}var kN=n(890592),FN=n(84670),HN=n(280716),YN=n(260984),VN=n(312608),WN=n(449420);const zN=function(e){var t=e.className,n=e.cooldown,r=(0,Uv.Z)(n);return(0,I.jsx)(C.Text,{className:t,variant:"text-sm/medium",color:"text-muted",children:(0,it.QX)(r,{days:q.Z.Messages.PREMIUM_GUILD_COOLDOWN_AVAILABLE_COUNTDOWN_DAYS,
hours:q.Z.Messages.PREMIUM_GUILD_COOLDOWN_AVAILABLE_COUNTDOWN_HOURS,minutes:q.Z.Messages.PREMIUM_GUILD_COOLDOWN_AVAILABLE_COUNTDOWN_MINUTES})})};var KN=n(817893),QN=n.n(KN);function qN(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}const XN=function(e){var t=e.className,r=e.imageClassName,o=e.boostInCooldown,i=e.useReducedMotion;return(0,I.jsx)("div",{className:B()(QN().imageWrapper,t,qN({},QN().cooldown,o)),children:(0,I.jsx)("img",{className:B()(QN().image,r,qN({},QN().cooldownImage,o)),src:n(o?453141:i?271777:291186),alt:""})})};var $N=n(199761),JN=n.n($N);const eA=function(e){var t=e.className,r=e.hasCooldown,o=e.isCanceled,i=e.useReducedMotion;return(0,I.jsxs)("div",{className:B()(JN().boostIconContainer,t),children:[o?(0,I.jsx)("img",{className:B()(JN().boostIcon,JN().boostIconCanceled),src:n(798870),alt:""}):(0,I.jsx)(XN,{className:JN().boostIcon,boostInCooldown:r,useReducedMotion:i}),!o&&r&&(0,I.jsx)("img",{
className:JN().snowflake,src:n(625259),alt:""})]})};var tA=n(591406),nA=n(864001),rA=n(626608),oA=n(409381),iA=n.n(oA);function sA(e){var t=e.className,n=48,r=18;if(e.extraLongSparkle){n=61;r=22}return(0,I.jsx)("div",{className:B()(iA().sideSparkleContainer,t),style:{height:n},children:(0,I.jsx)(rA.Z,{className:B()(iA().sparkle,iA().sideSparkle),style:{top:r}})})}const aA=function(e){var t=e.className,n=e.guildId,r=e.boostingVariant,o=e.showSparkes,i=(0,Ry.ZP)([vn.Z],(function(){return vn.Z.getGuild(n)}),[n]);return null==i?null:(0,I.jsxs)("div",{className:B()(t,iA().guildContainer),children:[(0,I.jsx)(mn.Z,{className:iA().guildIcon,guild:i,size:mn.Z.Sizes.LARGER}),(0,I.jsxs)("div",{className:iA().guildInfoContainer,children:[(0,I.jsx)(C.Text,{variant:"text-lg/bold",children:i.name}),(0,I.jsxs)("div",{className:iA().guildBoostStatsContainer,children:[(0,I.jsx)($v.Z,{className:iA().guildBoostBadge,width:16,height:16}),(0,I.jsx)(C.Text,{variant:"text-sm/bold",color:"text-muted",
children:q.Z.Messages.PREMIUM_GUILD_PERKS_MODAL_HEADER_SUBSCRIPTION_COUNT.format({subscriptions:i.premiumSubscriberCount})}),(0,I.jsx)("div",{className:iA().separator}),(0,I.jsx)(C.Text,{variant:"text-sm/bold",color:"text-muted",children:(0,kv.nW)(i.premiumTier,{useLevels:!1})})]})]}),r?(0,I.jsx)(pd.Z,{guild:i,analyticsLocation:{page:se.ZY5.GUILD_BOOSTING_USER_SETTINGS,section:se.jXE.GUILD_BOOSTING_RECOMMENDED_SERVER_BOOST_THIS_SERVER_CTA,object:se.qAy.BUTTON_CTA,objectType:se.Qqv.BUY},pauseAnimation:!0,size:C.Button.Sizes.MEDIUM,color:C.Button.Colors.PRIMARY,buttonText:q.Z.Messages.GUILD_BOOSTING_USER_SETTINGS_BOOST_THIS_SERVER}):(0,I.jsx)(C.Button,{color:C.Button.Colors.PRIMARY,onClick:function(){(0,tA.f)({guildId:i.id,location:{section:se.jXE.GUILD_BOOSTING_RECOMMENDED_SERVER_GO_TO_SERVER_CTA}})},size:C.Button.Sizes.MEDIUM,children:q.Z.Messages.NAVIGATE_TO_GUILD}),o&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(sA,{className:iA().sparkle1}),(0,I.jsx)(nA.Z,{
className:B()(iA().sparkle,iA().sparkle2)}),(0,I.jsx)(sA,{className:iA().sparkle3,extraLongSparkle:!0}),(0,I.jsx)(rA.Z,{className:B()(iA().sparkle,iA().sparkle4)})]})]})};var lA=n(228601),cA=n.n(lA);function uA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dA(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function fA(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function pA(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done);s=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){a=!0;o=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return uA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uA(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mA(e){var t=e.guildTier,n=e.guildBoostSlot,r=e.showAltText,o=e.isCanceled,i=e.premiumSubscription,s=c.useMemo((function(){
if(o)return q.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_PENDING_CANCELATION.format({date:i.currentPeriodEnd});var e=null!=n.premiumGuildSubscription?Jv.Z.extractTimestamp(n.premiumGuildSubscription.id):0;return q.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_DURATION_SHORTENED.format({date:new Date(e)})}),[n,o,i]),a=c.useMemo((function(){return function(e){if(e===se.Eu4.NONE)return"";var t=[q.Z.Messages.GUILD_BOOSTING_USER_SETTINGS_PERK_EMOJI_SLOTS.format({numEmojiSlots:S.HO[e].limits.emoji}),q.Z.Messages.GUILD_BOOSTING_USER_SETTINGS_PERK_STICKER_SLOTS.format({numStickerSlots:S.HO[e].limits.stickers}),q.Z.Messages.GUILD_BOOSTING_USER_SETTINGS_PERK_SOUNDBOARD_SLOTS.format({numSoundboardSlots:S.HO[e].limits.soundboardSounds}),q.Z.Messages.GUILD_BOOSTING_USER_SETTINGS_PERK_STREAM_QUALITY.format({resolution:S.HO[e].limits.screenShareQualityResolution,framerate:S.HO[e].limits.screenShareQualityFramerate}),q.Z.Messages.GUILD_BOOSTING_USER_SETTINGS_PERK_AUDIO_QUALITY.format({
bitrate:S.HO[e].limits.bitrate/1e3}),q.Z.Messages.GUILD_BOOSTING_USER_SETTINGS_PERK_UPLOAD_SIZE_LIMIT.format({filesize:S.HO[e].limits.fileSize/1024/1024}),q.Z.Messages.GUILD_BOOSTING_USER_SETTINGS_PERK_VIDEO_STAGE_SEATS.format({numVideoStageSeats:S.HO[e].limits.stageVideoUsers}),q.Z.Messages.GUILD_BOOSTING_USER_SETTINGS_PERK_ANIMATED_GUILD_ICON,q.Z.Messages.GUILD_BOOSTING_USER_SETTINGS_PERK_GUILD_INVITE_BACKGROUND];if(e>=se.Eu4.TIER_2){t.push(q.Z.Messages.GUILD_BOOSTING_USER_SETTINGS_PERK_GUILD_BANNER);t.push(q.Z.Messages.GUILD_BOOSTING_USER_SETTINGS_PERK_CUSTOM_ROLE_ICONS)}e>=se.Eu4.TIER_3&&t.push(q.Z.Messages.GUILD_BOOSTING_USER_SETTINGS_PERK_VANITY_URL);var n=t[Math.floor(Math.random()*t.length)];return q.Z.Messages.GUILD_BOOSTING_USER_SETTINGS_PERK_TEMPLATE.format({perk:n})}(t)}),[t]),l=(0,xi.useTransition)(r,{from:{opacity:0},enter:{opacity:1},leave:{opacity:0}});return o||t===se.Eu4.NONE?(0,I.jsx)("div",{className:cA().boostDescriptionInnerContainer,children:(0,I.jsx)(C.Text,{
variant:"text-sm/medium",color:"text-muted",children:s})}):l((function(e,t){return(0,I.jsx)(xi.animated.div,{style:e,className:cA().boostDescriptionInnerContainer,children:(0,I.jsx)(C.Text,{variant:"text-sm/medium",color:"text-muted",children:t?a:s})})}))}function hA(e){var t=e.guildTier,n=e.guildBoostSlot,r=e.premiumSubscription,o=e.hasCancelableGuildBoostSlot,i=e.showAltText,s=e.isLastGuildBoostSlot,a=(0,Ry.ZP)([Ye.Z],(function(){return Ye.Z.useReducedMotion})),l=c.useMemo((function(){return null!=n.cooldownEndsAt?new Date(n.cooldownEndsAt):null}),[n]),u=c.useMemo((function(){return null!=l&&l>new Date}),[l]),d=(0,kv.tl)(n);return(0,I.jsxs)("div",{className:cA().boostContainer,children:[(0,I.jsxs)("div",{className:cA().boostInnerContainer,children:[(0,I.jsx)(eA,{isCanceled:d,hasCooldown:u,useReducedMotion:a}),(0,I.jsx)("div",{className:cA().boostDescriptionContainer,children:null!=l&&u&&!d?(0,I.jsx)(zN,{className:cA().boostDescriptionInnerContainer,cooldown:l.getTime()}):(0,
I.jsx)(mA,{guildTier:t,guildBoostSlot:n,showAltText:i,isCanceled:d,premiumSubscription:r})}),(0,I.jsx)(C.Popout,{renderPopout:function(e){var t=e.closePopout;return(0,I.jsx)(sN,{onClose:t,guildBoostSlot:n,premiumSubscription:r,hasCancelableGuildBoostSlot:o})},position:"right",align:"center",children:function(e){return(0,I.jsx)(C.Clickable,fA(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){dA(e,t,n[t])}))}return e}({},e),{"aria-label":q.Z.Messages.MORE_OPTIONS,className:cA().boostSlotMenuIcon,children:(0,I.jsx)(Cp.Z,{})}))}})]}),!s&&(0,I.jsx)("div",{className:cA().boostContainerSeparator})]})}function EA(e){var t=e.guildId,n=e.guildBoostSlotRecords,r=e.premiumSubscription,o=e.hasCancelableGuildBoostSlot,i=e.showAltText,s=(0,
Ry.ZP)([vn.Z],(function(){return vn.Z.getGuild(t)}),[t]);return null==s?null:(0,I.jsxs)("div",{className:cA().appliedBoostContainer,children:[(0,I.jsx)(aA,{guildId:s.id,boostingVariant:!1}),n.map((function(e,t){return(0,I.jsx)(hA,{guildTier:s.premiumTier,guildBoostSlot:e,premiumSubscription:r,hasCancelableGuildBoostSlot:o,showAltText:i,isLastGuildBoostSlot:t===n.length-1},e.id)}))]})}function SA(e){var t=e.guildBoostSlots,n=e.premiumSubscription,r=pA(c.useState(!1),2),o=r[0],i=r[1];c.useEffect((function(){var e=-1;null!=n&&(e=setInterval((function(){i((function(e){return!e}))}),3e3));return function(){clearInterval(e)}}),[n]);var s=c.useMemo((function(){var e=0,n={};Object.keys(t).forEach((function(r){var o=t[r];(0,kv.tl)(o)||e++;if(null!=o.premiumGuildSubscription){var i=o.premiumGuildSubscription.guildId;i in n||(n[i]=[]);n[i].push(o)}}));return{boostsByGuildId:n,numActiveGuildBoostSlots:e}}),[t]),a=s.boostsByGuildId,l=s.numActiveGuildBoostSlots
;if(null==n||0===Object.keys(a).length)return null;var u=l>f.ZP.getNumIncludedPremiumGuildSubscriptionSlots(n.planId);return(0,I.jsxs)("div",{className:cA().wrapper,children:[(0,I.jsx)("div",{className:cA().container,children:Object.keys(a).map((function(e){return(0,I.jsx)(EA,{guildId:e,guildBoostSlotRecords:a[e],premiumSubscription:n,hasCancelableGuildBoostSlot:u,showAltText:o},e)}))}),(0,I.jsx)("div",{className:cA().mainSeparator})]})}var gA=n(396825),_A=n.n(gA);function TA(e){var t=e.hasGuildBoostSlots,n=e.hasAppliedGuildBoosts,r=e.isUserPremiumTier2;return t?r&&!n?q.Z.Messages.GUILD_BOOSTING_USER_SETTINGS_HEADING_HAS_UNAPPLIED_FREE_GUILD_BOOSTS.format():q.Z.Messages.GUILD_BOOSTING_USER_SETTINGS_HEADING_YOUR_GUILD_BOOSTS.format():q.Z.Messages.GUILD_BOOSTING_USER_SETTINGS_HEADING_NO_GUILD_BOOSTS}const OA=function(e){var t=e.hasGuildBoostSlots,r=e.hasAppliedGuildBoosts,o=e.isUserPremiumTier2;return(0,I.jsxs)("div",{className:_A().wrapper,children:[(0,I.jsx)("div",{
className:_A().guildBoostGemWrapper,children:(0,I.jsx)("img",{alt:"",className:_A().guildBoostGem,src:n(271777)})}),(0,I.jsxs)("div",{className:_A().gradient,children:[(0,I.jsx)(C.Heading,{variant:"display-md",className:_A().heading,children:TA({hasGuildBoostSlots:t,isUserPremiumTier2:o,hasAppliedGuildBoosts:r})}),(0,I.jsx)("svg",{viewBox:"0 0 660 210",className:_A().wave,children:(0,I.jsx)("path",{d:"M101.3,45.5C57.5,45.9,15.9,82.2,0,99.5V210h660V53.5c-164-137-265.2,32.4-385.8,33.6 C177.7,88.1,158.1,45,101.3,45.5z"})})]})]})};var bA=n(905765),yA=n.n(bA),IA=n(794649),vA=n.n(IA);function NA(){return(0,I.jsxs)("div",{className:yA().wrapper,children:[(0,I.jsx)("img",{className:yA().icon,alt:"",src:vA()}),(0,I.jsxs)("div",{className:yA().info,children:[(0,I.jsx)(C.Text,{variant:"text-lg/bold",children:q.Z.Messages.GUILD_BOOSTING_USER_SETTINGS_PUBLIC_SERVER_TITLE}),(0,I.jsx)(C.Text,{variant:"text-sm/medium",color:"text-muted",
children:q.Z.Messages.GUILD_BOOSTING_USER_SETTINGS_PUBLIC_SERVER_SUBTITLE})]}),(0,I.jsx)(C.Button,{color:C.Button.Colors.PRIMARY,onClick:function(){(0,pr.uL)(se.Z5c.GUILD_DISCOVERY);(0,He.xf)()},size:C.Button.Sizes.LARGE,children:q.Z.Messages.GUILD_BOOSTING_USER_SETTINGS_PUBLIC_SERVER_CTA})]})}var AA=n(631598),CA=n.n(AA);function jA(e,t,n,r,o,i,s){try{var a=e[i](s),l=a.value}catch(e){n(e);return}a.done?t(l):Promise.resolve(l).then(r,o)}function xA(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){jA(i,r,o,s,a,"next",e)}function a(e){jA(i,r,o,s,a,"throw",e)}s(void 0)}))}}function PA(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function RA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){PA(e,t,n[t])}))}return e}function MA(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var DA=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),
0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:s.label++;return{value:i[1],done:!1};case 5:s.label++;r=i[1];i=[0];continue;case 7:i=s.ops.pop();s.trys.pop();continue;default:if(!(o=s.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1];o=i;break}if(o&&s.label<o[2]){s.label=o[2];s.ops.push(i);break}o[2]&&s.ops.pop();s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};const LA=function(){var e=function(e){null!=t.current&&(0,C.closeModal)(t.current);(0,aN.u)({analyticsLocation:{page:se.ZY5.GUILD_BOOSTING_USER_SETTINGS,section:se.jXE.GUILD_BOOSTING_BOOST_ANY_GUILD_CTA,object:se.qAy.BUTTON_CTA,objectType:se.Qqv.BUY},analyticsLocations:r,guild:e})},t=c.useRef(null),r=(0,D.Z)().analyticsLocations;function o(){
return i.apply(this,arguments)}function i(){return(i=xA((function(){return DA(this,(function(r){switch(r.label){case 0:return[4,(0,C.openModalLazy)(xA((function(){var t,r;return DA(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(38657)]).then(n.bind(n,138657))];case 1:t=o.sent(),r=t.default;return[2,function(t){return(0,I.jsx)(r,MA(RA({},t),{onSelectGuild:e}))}]}}))})),{onCloseRequest:function(){null!=t.current&&(0,C.closeModal)(t.current)}})];case 1:t.current=r.sent();return[2]}}))}))).apply(this,arguments)}var s=(0,kv.aq)();return(0,I.jsxs)("div",{className:CA().wrapper,children:[(0,I.jsx)($v.Z,{className:CA().boostIcon,width:16,height:16}),(0,I.jsx)(C.Text,{className:CA().copy,color:"header-secondary",variant:"text-sm/medium",children:q.Z.Messages.GUILD_BOOSTING_USER_SETTINGS_BOOST_ANY_GUILD_CTA.format({boostAnyGuildHook:function(e,t){var n=null!=s,r=(0,I.jsx)(C.Button,{className:CA().cta,disabled:n,color:C.Button.Colors.LINK,look:C.Button.Looks.LINK,
onClick:n?void 0:o,children:e},t);return n?(0,I.jsx)(C.Tooltip,{text:s,children:function(e){return(0,I.jsx)("span",MA(RA({},e),{children:r}))}},t):r}})})]})};var ZA=n(98805),wA=n.n(ZA);const UA=function(e){var t=e.hasAppliedGuildBoosts,n=(0,r.e7)([WN.Z],(function(){return WN.Z.affinities})),o=(0,r.e7)([Sl.Z],(function(){return Sl.Z.getFlattenedGuildIds()})),i=c.useMemo((function(){for(var e=n.slice(0,3).map((function(e){return e.guildId})),t=0;t<o.length&&!(e.length>=3);t++){var r=o[t];e.includes(r)||e.push(r)}return e}),[n,o]);return 0===i.length?null:(0,I.jsxs)("div",{className:wA().wrapper,children:[t&&(0,I.jsx)(C.Heading,{variant:"heading-lg/semibold",className:wA().header,children:q.Z.Messages.GUILD_BOOSTING_USER_SETTINGS_RECOMMENDED_SERVERS_HEADING}),i.map((function(e,t){return(0,I.jsx)(aA,{className:wA().recommendedServerCard,guildId:e,boostingVariant:!0,showSparkes:0===t},e)})),o.length>3&&(0,I.jsx)(LA,{})]})};var BA=n(533345),GA=n.n(BA);const kA=function(e){var t=function(e){
var t=e.hasAppliedGuildBoosts,n=e.isUserPremiumTier2;if(!e.hasGuildAffinitiesOrInGuild)return{subtitle:q.Z.Messages.GUILD_BOOSTING_USER_SETTINGS_NO_JOINED_SERVER_SUBTITLE};if(t)return{subtitle:q.Z.Messages.GUILD_BOOSTING_USER_SETTINGS_SUBTITLE_ACTIVE_BOOSTS,flavor:q.Z.Messages.GUILD_BOOSTING_USER_SETTINGS_SUBTITLE_ACTIVE_BOOSTS_FLAVOR.format({helpdeskArticle:$s.Z.getArticleURL(se.BhN.GUILD_SUBSCRIPTIONS)})};var r=S.GP[S.Xh.PREMIUM_MONTH_GUILD],o=f.ZP.getDefaultPrice(r.id,n),i=(0,An.og)((0,An.T4)(o.amount,o.currency),r.interval,r.intervalCount);return{subtitle:n?q.Z.Messages.GUILD_BOOSTING_USER_SETTINGS_SUBTITLE_SUBBED_NO_ACTIVE_BOOSTS:q.Z.Messages.GUILD_BOOSTING_USER_SETTINGS_SUBTITLE_NO_SUB_NO_ACTIVE_BOOSTS,flavor:q.Z.Messages.GUILD_BOOSTING_USER_SETTINGS_SUBTITLE_NO_ACTIVE_BOOSTS_FLAVOR.format({monthlyGuildBoostPrice:i})}}({hasAppliedGuildBoosts:e.hasAppliedGuildBoosts,isUserPremiumTier2:e.isUserPremiumTier2,hasGuildAffinitiesOrInGuild:e.hasGuildAffinitiesOrInGuild
}),n=t.subtitle,r=t.flavor;return(0,I.jsxs)("div",{className:GA().wrapper,children:[(0,I.jsx)(C.Heading,{variant:"heading-lg/bold",className:GA().subtitle,children:n}),null!=r&&(0,I.jsx)(C.Text,{variant:"text-sm/normal",children:r})]})};var FA=n(593166),HA=n(304429),YA=n.n(HA);function VA(e,t,n,r,o,i,s){try{var a=e[i](s),l=a.value}catch(e){n(e);return}a.done?t(l):Promise.resolve(l).then(r,o)}function WA(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){VA(i,r,o,s,a,"next",e)}function a(e){VA(i,r,o,s,a,"throw",e)}s(void 0)}))}}function zA(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function KA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))))
;r.forEach((function(t){zA(e,t,n[t])}))}return e}function QA(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var qA=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,
o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:s.label++;return{value:i[1],done:!1};case 5:s.label++;r=i[1];i=[0];continue;case 7:i=s.ops.pop();s.trys.pop();continue;default:if(!(o=s.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1];o=i;break}if(o&&s.label<o[2]){s.label=o[2];s.ops.push(i);break}o[2]&&s.ops.pop();s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};function XA(e){var t=e.guildBoostSlot,n=e.isCancellable,r=e.onCancel,o=e.onUncancel,i=e.premiumSubscription,s=e.useReducedMotion,a=c.useMemo((function(){return null!=t.cooldownEndsAt?new Date(t.cooldownEndsAt):null}),[t]),l=(0,kv.tl)(t);return(0,I.jsxs)("li",{className:YA().unappliedGuildBoostSlot,children:[(0,I.jsxs)("div",{className:YA().unappliedGuildBoostSlotContentPrimary,children:[(0,
I.jsx)(eA,{className:YA().unappliedGuildBoostSlotIcon,hasCooldown:t.isOnCooldown(),isCanceled:l,useReducedMotion:s}),l&&null!=i?(0,I.jsx)(C.Text,{color:"text-muted",variant:"text-sm/medium",children:q.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_PENDING_CANCELATION.format({date:i.currentPeriodEnd})}):t.isOnCooldown()&&null!=a?(0,I.jsx)(zN,{cooldown:a.getTime()}):(0,I.jsx)(C.Text,{className:YA().unappliedGuildBoostSlotDescription,color:"text-muted",variant:"text-sm/medium",children:q.Z.Messages.GUILD_BOOSTING_USER_SETTINGS_UNAPPLIED_GUILD_BOOST_DESCRIPTION})]}),(0,I.jsxs)("div",{className:YA().unappliedGuildBoostSlotContentSecondary,children:[n&&!l&&(0,I.jsx)(C.Button,{className:YA().unappliedGuildBoostSlotCta,color:C.Button.Colors.PRIMARY,look:C.Button.Looks.LINK,onClick:function(){return r(t)},size:C.Button.Sizes.NONE,children:q.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_SLOT_CANCEL_BUTTON}),l&&(0,I.jsx)(C.Button,{className:YA().unappliedGuildBoostSlotCta,color:C.Button.Colors.PRIMARY,
look:C.Button.Looks.LINK,onClick:function(){return o(t)},size:C.Button.Sizes.NONE,children:q.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_SLOT_UNCANCEL_BUTTON})]})]},t.id)}function $A(e){(0,C.openModalLazy)(WA((function(){var t,r;return qA(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(30689),n.e(64991)]).then(n.bind(n,464991))];case 1:t=o.sent(),r=t.default;return[2,function(t){return(0,I.jsx)(r,QA(KA({},t),{guildBoostSlot:e}))}]}}))})))}function JA(e){(0,C.openModalLazy)(WA((function(){var t,r;return qA(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(46903)]).then(n.bind(n,546903))];case 1:t=o.sent(),r=t.default;return[2,function(t){return(0,I.jsx)(r,QA(KA({},t),{guildBoostSlotId:e.id}))}]}}))})))}const eC=function(e){var t=e.guildBoostSlots,o=(0,r.e7)([Qt.Z],(function(){return Qt.Z.getPremiumTypeSubscription()})),i=(0,r.e7)([Ye.Z],(function(){return Ye.Z.useReducedMotion})),s=(0,r.e7)([d.default],(function(){
return d.default.getCurrentUser()})),a=c.useMemo((function(){var e=[],n=[],r=0;t.forEach((function(t){(0,kv.tl)(t)||r++;null!=t.premiumGuildSubscription?e.push(t):n.push(t)}));return{appliedGuildBoostSlots:e,unappliedGuildBoostSlots:n,numActiveGuildBoostSlots:r}}),[t]),l=a.appliedGuildBoostSlots,u=a.unappliedGuildBoostSlots,p=a.numActiveGuildBoostSlots,m=null!=o?f.ZP.getNumIncludedPremiumGuildSubscriptionSlots(o.planId):0,h=Math.max(0,m-l.length),E=p>m,S=m===t.length,g=S&&h===m?m:1,_=c.useMemo((function(){for(var e=[],t=0;t<g;t++)e.push((0,I.jsx)(XN,{className:YA().headerBoostGem,useReducedMotion:i},t));return e}),[g,i]),T=c.useMemo((function(){return u.find((function(e){return e.isAvailable()}))}),[u]);if(0===u.length)return null;var O=u.length;return(0,I.jsxs)("div",{className:YA().wrapper,children:[(0,I.jsx)("svg",{className:YA().border,children:(0,I.jsx)("rect",{className:YA().borderRect,height:"100%",width:"100%"})}),(0,I.jsxs)("div",{className:YA().header,children:[(0,
I.jsxs)("div",{className:YA().headerContentPrimary,children:[(0,I.jsx)("div",{className:YA().headerBoostGems,children:_}),(0,I.jsxs)("div",{className:YA().headerCopy,children:[(0,I.jsx)(C.Heading,{className:YA().headerHeading,variant:"heading-lg/bold",children:S?q.Z.Messages.GUILD_BOOSTING_USER_SETTINGS_HEADING_UNAPPLIED_GUILD_BOOST_HEADING_INCLUDED_WITH_SUBSCRIPTION.format({numUnappliedGuildBoostSlots:O}):q.Z.Messages.GUILD_BOOSTING_USER_SETTINGS_HEADING_UNAPPLIED_GUILD_BOOST_HEADING_V2.format({numUnappliedGuildBoostSlots:O})}),(0,I.jsx)(C.Text,{className:YA().headerSubheading,color:"text-muted",variant:"text-sm/normal",children:f.ZP.isPremium(s)?q.Z.Messages.GUILD_BOOSTING_USER_SETTINGS_HEADING_UNAPPLIED_GUILD_BOOST_SUBHEADING_WITH_PREMIUM_SUBSCRIPTION.format({numUnappliedGuildBoostSlots:O,learnMoreHook:function(e,t){return(0,I.jsx)(C.Clickable,{className:YA().headerLearnMoreLink,tag:"span",onClick:function(){(0,FA.z)()},children:e},t)}
}):q.Z.Messages.GUILD_BOOSTING_USER_SETTINGS_HEADING_UNAPPLIED_GUILD_BOOST_SUBHEADING.format({numUnappliedGuildBoostSlots:O})})]})]}),(0,I.jsx)("div",{className:YA().headerContentSecondary,children:(0,I.jsx)(C.Tooltip,{shouldShow:null==T,text:q.Z.Messages.GUILD_BOOSTING_USER_SETTINGS_NO_AVAILABLE_GUILD_BOOST_SLOTS,children:function(e){return(0,I.jsx)(C.Button,QA(KA({},e),{disabled:null==T,onClick:null!=T?function(){return e=T,void(0,C.openModalLazy)(WA((function(){var t,r;return qA(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(30689),n.e(44485),n.e(55052),n.e(47311)]).then(n.bind(n,947311))];case 1:t=o.sent(),r=t.default;return[2,function(t){return(0,I.jsx)(r,QA(KA({},t),{guildBoostSlots:[e],locationSection:se.jXE.SETTINGS_PREMIUM}))}]}}))})));var e}:void 0,children:q.Z.Messages.GUILD_BOOSTING_USER_SETTINGS_BOOST_ANY_SERVER}))}})})]}),!S&&(0,I.jsx)("ul",{className:YA().unappliedBoostSlots,children:u.map((function(e){return(0,I.jsx)(XA,{guildBoostSlot:e,
isCancellable:E,onCancel:$A,onUncancel:JA,premiumSubscription:o,useReducedMotion:i},e.id)}))})]})};var tC=n(223426),nC=n.n(tC);function rC(e){var t=e.premiumSubscription,n=(0,r.e7)([Gv.Z],(function(){return Gv.Z.boostSlots})),o=c.useMemo((function(){return Object.values(n)}),[n]),i=(0,r.e7)([d.default],(function(){return d.default.getCurrentUser()})),s=f.ZP.isPremium(i,S.p9.TIER_2),a=(0,r.e7)([WN.Z],(function(){return WN.Z.affinities})),l=(0,r.e7)([Sl.Z],(function(){return Sl.Z.getFlattenedGuildIds()})),u=a.length>0||l.length>0,p=o.length>0,m=c.useMemo((function(){return o.some((function(e){return null!=e.premiumGuildSubscription}))}),[o]);return(0,I.jsxs)("div",{children:[(0,I.jsx)(ag.oQ,{className:nC().blockedPaymentsWarning}),(0,I.jsx)(OA,{hasGuildBoostSlots:p,hasAppliedGuildBoosts:m,isUserPremiumTier2:s}),(0,I.jsx)(kA,{hasAppliedGuildBoosts:m,isUserPremiumTier2:s,hasGuildAffinitiesOrInGuild:u}),!u&&(0,I.jsx)(NA,{}),(0,I.jsx)(SA,{guildBoostSlots:n,premiumSubscription:t}),(0,
I.jsx)(eC,{guildBoostSlots:o}),(0,I.jsx)(UA,{hasAppliedGuildBoosts:m}),(0,I.jsx)(VN.Z,{className:nC().tierComparisonTable,hideHeading:!0,hideTier0:!0}),(0,I.jsx)(HN.Z,{cardClassName:nC().boosterRecognitionCard}),(0,I.jsx)(YN.Z,{className:nC().faq})]})}var oC=n(741338),iC=n(86124),sC=n.n(iC);function aC(e){var t=e.guildId,n=(0,r.e7)([vn.Z],(function(){return vn.Z.getGuild(t)}));return null==n?null:(0,I.jsx)(C.Clickable,{onClick:function(){(0,Bv.X)(t,{state:{shouldShowSubscribeTooltip:!0}});(0,He.xf)()},className:sC().cardWrapper,children:(0,I.jsxs)(CN.Z,{className:sC().card,children:[(0,I.jsx)(mn.Z,{guild:n,size:mn.Z.Sizes.LARGE,"aria-hidden":!0}),(0,I.jsxs)("div",{className:sC().guildInfo,children:[(0,I.jsx)(C.Text,{variant:"text-md/normal",className:sC().guildName,children:n.name}),(0,I.jsxs)("div",{className:sC().subscriptionInfo,children:[(0,I.jsx)($v.Z,{className:sC().guildBoostingIcon}),(0,I.jsx)(C.Text,{className:sC().subscriberCount,variant:"text-sm/normal",
children:q.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_SUBSCRIBER_COUNT_TOOLTIP.format({subscriberCount:n.premiumSubscriberCount})})]})]}),(0,I.jsx)(Xv,{guildId:n.id,subscriberCount:n.premiumSubscriberCount})]})})}function lC(){var e=(0,r.e7)([Sl.Z],(function(){return Sl.Z.getFlattenedGuildIds()})).slice(0,se.MsY),t=(0,Qn.V)();return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("div",{className:sC().divider}),(0,I.jsxs)("div",{className:sC().marketingLogo,children:[(0,I.jsx)(MN,{className:sC().marketingLogoIcon}),(0,I.jsx)("div",{className:sC().marketingLogoImage})]}),(0,I.jsx)(C.Text,{tag:"p",className:sC().marketingHeader,variant:"heading-lg/semibold",children:q.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_MARKETING_HEADER}),(0,I.jsx)(C.Text,{variant:"text-md/normal",children:q.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_MARKETING_BLURB}),(0,I.jsx)(C.Heading,{className:sC().featureHeaderTop,variant:"heading-lg/semibold",color:"header-secondary",children:q.Z.Messages.PREMIUM_GUILD_USER_FEATURES_HEADER
}),(0,I.jsx)(AN,{features:[{description:q.Z.Messages.PREMIUM_GUILD_USER_FEATURE_MEMBER_BADGE,icon:$v.Z,iconClass:sC().memberBadgeIcon},{description:q.Z.Messages.PREMIUM_GUILD_USER_FEATURE_PROFILE_BADGE,overrideIcon:function(e){return(0,I.jsx)("div",{className:B()(e,sC().profileBadgeIcon)})}},{description:q.Z.Messages.PREMIUM_GUILD_USER_FEATURE_ROLE,icon:LN.Z,iconClass:sC().roleIcon}],columns:3}),(0,I.jsx)(C.Heading,{className:sC().featureHeader,variant:"heading-lg/semibold",color:"header-secondary",children:q.Z.Messages.PREMIUM_GUILD_GUILD_FEATURES_HEADER}),(0,I.jsx)(AN,{features:[{description:q.Z.Messages.PREMIUM_GUILD_GUILD_FEATURE_EMOJI,icon:jN.Z,iconClass:sC().emojiIcon},{description:q.Z.Messages.PREMIUM_GUILD_GUILD_FEATURE_STICKERS,icon:GN,iconClass:sC().stickerIcon},{description:q.Z.Messages.PREMIUM_GUILD_GUILD_FEATURE_AUDIO_QUALITY,icon:DN.Z,iconClass:sC().audioQualityIcon},{description:q.Z.Messages.PREMIUM_GUILD_GUILD_FEATURE_UPLOAD_SIZE,icon:FN.Z,iconClass:sC().uploadSizeIcon
},{description:q.Z.Messages.PREMIUM_GUILD_GUILD_FEATURE_CUSTOMIZATION,icon:ZN.Z,iconClass:sC().customizationIcon},{description:q.Z.Messages.PREMIUM_GUILD_GUILD_FEATURE_THREADS,icon:kN.Z,iconClass:sC().threadIcon}].filter(tt.lm),columns:3}),(0,I.jsx)(C.Text,{className:sC().guildFullFeatures,variant:"text-md/normal",children:q.Z.Messages.PREMIUM_GUILD_FULL_FEATURE_LIST.format({helpdeskArticle:$s.Z.getArticleURL(se.BhN.GUILD_SUBSCRIPTIONS)})}),(0,I.jsxs)("section",{className:sC().guildsSection,children:[t?(0,I.jsx)(wv.Z,{className:sC().guildSubscriptionHeading}):null,0===e.length?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("div",{className:sC().emptyGuilds}),(0,I.jsx)(C.Text,{variant:"text-lg/bold",className:sC().emptyGuildsTitle,children:q.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_MARKETING_GUILDS_EMPTY_DESCRIPTION_TITLE}),(0,I.jsx)(C.Text,{variant:"text-md/normal",className:sC().emptyGuildsText,children:q.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_MARKETING_GUILDS_EMPTY_DESCRIPTION_TEXT})]}):(0,
I.jsxs)(I.Fragment,{children:[(0,I.jsx)(C.Text,{variant:"text-md/normal",className:sC().guildsBlurb,children:q.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_MARKETING_GUILDS_BLURB}),(0,I.jsx)("div",{className:sC().guilds,children:e.map((function(e){return(0,I.jsx)(aC,{guildId:e},e)}))})]})]}),(0,I.jsx)(Zv.Z,{onOpenPremiumClick:function(){to.default.track(se.rMx.PREMIUM_PROMOTION_OPENED,{location:{page:se.ZY5.USER_SETTINGS,section:se.jXE.NITRO_CROSS_PROMO_FROM_BOOSTING,object:se.qAy.BUTTON_CTA}})}})]})}function cC(){c.useEffect((function(){u.Z.wait((function(){Ht.jg();Ht.tZ();(0,Yt.X8)();(0,Wt.Y2)(null,null,se.JjL.DISCOVERY)}))}),[]);var e=(0,r.cj)([Qt.Z],(function(){return{hasFetchedSubscriptions:Qt.Z.hasFetchedSubscriptions(),premiumSubscription:Qt.Z.getPremiumTypeSubscription()}})),t=e.hasFetchedSubscriptions,n=e.premiumSubscription,o=(0,Qn.V)(),i=(0,r.e7)([pn.Z],(function(){return pn.Z.hasFetchedPaymentSources})),s=(0,r.e7)([Gv.Z],(function(){return Gv.Z.boostSlots
})),a=!t||!o||!i,l=oC.Z.useExperiment({},{autoTrackExposure:!a}).enabled;return a?(0,I.jsx)("div",{className:B()(sC().container,sC().loading),children:(0,I.jsx)(C.Spinner,{})}):(0,I.jsxs)("div",{className:sC().container,children:[(0,I.jsx)("div",{className:sC().background}),(0,I.jsx)("div",{className:sC().content,children:l?(0,I.jsx)(rC,{premiumSubscription:n}):(0,I.jsx)(C.HeadingLevel,{component:Object.keys(s).length>0?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(C.FormTitle,{tag:"h1",children:q.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_TITLE}),(0,I.jsx)(ag.oQ,{}),(0,I.jsx)(gN,{})]}):null,children:(0,I.jsx)(lC,{})})})]})}var uC=n(105783),dC=n(546274),fC=n(540825),pC=n(652119),mC=n(31914),hC=n(294303),EC=n(757225),SC=n(665640),gC=n.n(SC);function _C(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function TC(e){TC=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return TC(e)}
function OC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){_C(e,t,n[t])}))}return e}function bC(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function yC(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t)
;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function IC(e,t){return!t||"object"!==NC(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function vC(e,t){vC=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return vC(e,t)}var NC=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function AC(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=TC(e);if(t){var o=TC(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments)
;return IC(this,n)}}function CC(e){var t=e.body,n=yC(e,["body"]);(0,C.openModal)((function(e){return(0,I.jsx)(C.ConfirmModal,bC(OC({},e,n),{children:(0,I.jsx)(C.Text,{variant:"text-md/normal",children:t})}))}))}function jC(e){var t=e.message;CC({header:q.Z.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_FAILURE_TITLE,confirmText:q.Z.Messages.OKAY,body:t})}var xC=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&vC(e,t)}(n,e);var t=AC(n);function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r;(r=t.call(this,e)).handleChangeDefaultGuildsRestricted=function(e){r.setState({defaultGuildsRestricted:!e},(function(){return r.showGuildRestrictionModal(!e)}))};r.handleChangeDropsOptedOut=function(){
r.props.personalization&&fs.bh.updateSetting(!r.props.dropsOptedOut)};r.handleChangeDefaultMessageRequestRestricted=function(e){r.setState({defaultMessageRequestRestricted:!e},(function(){return r.showMessageRequestRestrictionModal(!e)}))};r.handleUsageStatisticsChange=function(){!r.props.usageStatistics?(0,dC.g)([se.pjP.USAGE_STATISTICS],[]).catch(jC):CC({header:q.Z.Messages.USAGE_STATISTICS_DISABLE_MODAL_TITLE,body:q.Z.Messages.USAGE_STATISTICS_DISABLE_MODAL_BODY,confirmText:q.Z.Messages.USAGE_STATISTICS_DISABLE_MODAL_CONFIRM,cancelText:q.Z.Messages.USAGE_STATISTICS_DISABLE_MODAL_CANCEL,onConfirm:function(){return(0,dC.g)([],[se.pjP.USAGE_STATISTICS]).catch(jC)}})};r.handlePersonalizationChange=function(){!r.props.personalization?(0,dC.g)([se.pjP.PERSONALIZATION],[]).catch(jC):CC({header:q.Z.Messages.PERSONALIZATION_DISABLE_MODAL_TITLE,confirmText:q.Z.Messages.PERSONALIZATION_DISABLE_MODAL_CONFIRM,cancelText:q.Z.Messages.PERSONALIZATION_DISABLE_MODAL_CANCEL,onConfirm:function(){(0,
dC.g)([],[se.pjP.PERSONALIZATION]).catch(jC);fs.bh.updateSetting(!0)},body:q.Z.Messages.PERSONALIZATION_DISABLE_MODAL_BODY})};r.handleAccessibilityDetectionChange=function(){fs.dQ.updateSetting(!r.props.allowAccessibilityDetection)};r.handleDataDownloadRequest=function(){CC({header:q.Z.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_MODAL_TITLE,body:q.Z.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_MODAL_NOTE,confirmText:q.Z.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_MODAL_CONFIRM,cancelText:q.Z.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_MODAL_CANCEL,onConfirm:function(){r.setState({requestingHarvest:!0},(function(){(0,x.V3)().then((function(e){if(null!=e&&null!=e.body){r.setState({currentHarvestRequest:e.body});uC.Z.show({body:q.Z.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_MODAL_SUCCESS})}else uC.Z.show({title:q.Z.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_FAILURE_TITLE,body:q.Z.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_FAILURE_BODY})}),(function(){return uC.Z.show({
title:q.Z.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_FAILURE_TITLE,body:q.Z.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_FAILURE_BODY})})).finally((function(){return r.setState({requestingHarvest:!1})}))}))}})};var o=e.defaultGuildsRestricted,i=e.defaultMessageRequestRestricted;r.state={defaultGuildsRestricted:o,defaultMessageRequestRestricted:i,currentHarvestRequest:null,requestingHarvest:!0};return r}var r=n.prototype;r.componentDidMount=function(){var e=this;(0,dC.I)();(0,x.ol)().then((function(t){var n={requestingHarvest:!1,currentHarvestRequest:t.body};e.setState(n)}),(function(){e.setState({requestingHarvest:!1})}))};r.componentDidUpdate=function(e){e.defaultGuildsRestricted!==this.props.defaultGuildsRestricted&&this.setState({defaultGuildsRestricted:this.props.defaultGuildsRestricted})};r.showGuildRestrictionModal=function(e){var t=this;CC({header:q.Z.Messages.USER_DM_SETTINGS_TITLE,body:q.Z.Messages.USER_DM_SETTINGS_DESCRIPTION,confirmText:q.Z.Messages.NO_TEXT,
cancelText:q.Z.Messages.YES_TEXT,confirmButtonColor:C.Button.Colors.BRAND,onConfirm:function(){fs.iG.updateSetting(e);t.trackDefaultDmsUpdated(e,!1)},onCancel:function(){fs.iG.updateSetting(e);fs.h2.updateSetting(e?Object.keys(vn.Z.getGuilds()):[]);t.trackDefaultDmsUpdated(e,!0)}})};r.trackDefaultDmsUpdated=function(e,t){to.default.track(se.rMx.GUILD_DEFAULT_DMS_UPDATED,{default_guilds_restricted:e,applied_to_existing_guilds:t})};r.showMessageRequestRestrictionModal=function(e){var t=this;CC({header:q.Z.Messages.MESSAGE_REQUESTS_SETTING_GENERAL_MODAL_HEADER,body:q.Z.Messages.MESSAGE_REQUESTS_SETTING_GENERAL_MODAL_DESCRIPTION,confirmText:q.Z.Messages.NO_TEXT,cancelText:q.Z.Messages.YES_TEXT,confirmButtonColor:C.Button.Colors.BRAND,onConfirm:function(){fs.mX.updateSetting(e);t.trackDefaultMessageRequestUpdated(e,!1)},onCancel:function(){fs.mX.updateSetting(e);fs.zA.updateSetting(e?Object.keys(vn.Z.getGuilds()):[]);t.trackDefaultMessageRequestUpdated(e,!0)}})}
;r.trackDefaultMessageRequestUpdated=function(e,t){to.default.track(se.rMx.GUILD_DEFAULT_MESSAGE_REQUEST_UPDATED,{default_guilds_restricted:e,applied_to_existing_guilds:t})};r.renderDMSafety=function(){var e=this,t=this.props.isComsUpdateEnabled;if(t){var n=this.props.dmSpamFilter;if(n===N.Xr.DEFAULT_UNSET){var r;n=null!==(r=EC.O7.get(this.props.explicitContentFilter))&&void 0!==r?r:N.Xr.NON_FRIENDS}return(0,I.jsxs)(C.FormSection,{tag:C.FormTitleTags.H5,className:Pe().marginBottom40,title:q.Z.Messages.USER_DIRECT_MESSAGE_FILTERS,children:[(0,I.jsxs)(C.FormItem,{tag:C.FormTitleTags.H3,className:Pe().marginBottom20,title:q.Z.Messages.USER_EXPLICIT_CONTENT_FILTER_V2,children:[(0,I.jsx)(C.FormText,{type:C.FormTextTypes.DESCRIPTION,className:Pe().marginBottom8,children:q.Z.Messages.USER_EXPLICIT_CONTENT_FILTER_HELP_V3.format({appealLink:$s.Z.getArticleURL(se.BhN.SAFE_DIRECT_MESSAGING)})}),(0,I.jsx)(C.RadioGroup,{value:this.props.explicitContentFilter,options:(0,hC.X7)(t),
onChange:function(t){var r=t.value;e.props.dmSpamFilter===N.Xr.DEFAULT_UNSET?fs.Xr.updateSetting(n).then((function(){fs.UP.updateSetting(r)})):fs.UP.updateSetting(r)}})]}),(0,I.jsxs)(C.FormItem,{tag:C.FormTitleTags.H3,className:Pe().marginBottom4,title:q.Z.Messages.USER_DM_SPAM_FILTER,children:[(0,I.jsx)(C.FormText,{type:C.FormTextTypes.DESCRIPTION,className:Pe().marginBottom8,children:q.Z.Messages.USER_DM_SPAM_FILTER_HELP.format({appealLink:$s.Z.getArticleURL(se.BhN.SAFE_DIRECT_MESSAGING)})}),(0,I.jsx)(C.RadioGroup,{value:n,options:(0,hC.c7)(),onChange:function(e){var t=e.value;return fs.Xr.updateSetting(t)}})]})]})}return(0,I.jsx)(C.FormSection,{className:Pe().marginBottom40,children:(0,I.jsxs)(C.FormItem,{tag:C.FormTitleTags.H5,className:Pe().marginBottom4,title:q.Z.Messages.USER_EXPLICIT_CONTENT_FILTER,children:[(0,I.jsx)(C.FormText,{type:C.FormTextTypes.DESCRIPTION,className:Pe().marginBottom8,children:q.Z.Messages.USER_EXPLICIT_CONTENT_FILTER_HELP}),(0,I.jsx)(C.RadioGroup,{
value:this.props.explicitContentFilter,options:(0,hC.X7)(t),onChange:function(e){var t=e.value;return fs.UP.updateSetting(t)}})]})})};r.renderServerPrivacy=function(){var e=this.props,t=e.viewNsfwGuilds,n=e.currentUser,r=e.isStricterMessageRequests,o=e.viewNsfwCommands,i=this.state,s=i.defaultGuildsRestricted,a=i.defaultMessageRequestRestricted,l=!0===n.nsfwAllowed;return(0,I.jsxs)(C.FormSection,{className:Pe().marginBottom40,children:[(0,I.jsx)(C.FormTitle,{tag:C.FormTitleTags.H5,className:Pe().marginBottom8,children:q.Z.Messages.USER_DM_SETTINGS}),(0,I.jsx)(C.FormSwitch,{value:!s,note:q.Z.Messages.USER_DM_SETTINGS_HELP,onChange:this.handleChangeDefaultGuildsRestricted,children:q.Z.Messages.NEW_GUILDS_DM_ALLOWED}),(0,I.jsx)(C.FormSwitch,{value:!!l&&t,note:q.Z.Messages.NSFW_GUILDS_TOGGLE_CAPTION,disabled:!l,onChange:fs.DC.updateSetting,children:q.Z.Messages.NSFW_GUILDS_TOGGLE_HEADER}),!r&&(0,I.jsx)(C.FormSwitch,{value:!a,
note:q.Z.Messages.MESSAGE_REQUESTS_SETTING_GENERAL_CAPTION.format({helpdeskArticle:$s.Z.getArticleURL(se.BhN.MESSAGE_REQUESTS)}),disabled:s,onChange:this.handleChangeDefaultMessageRequestRestricted,children:q.Z.Messages.MESSAGE_REQUESTS_SETTING_GENERAL_HEADER}),(0,I.jsx)(C.FormSwitch,{value:!!l&&o,note:q.Z.Messages.NSFW_DM_COMMANDS_CAPTION,disabled:!l,onChange:fs.xM.updateSetting,children:q.Z.Messages.NSFW_DM_COMMANDS_HEADER})]})};r.renderDataPrivacy=function(){var e=this.props,t=e.usageStatistics,n=e.personalization,r=e.allowAccessibilityDetection,o=e.dropsOptedOut;return(0,I.jsxs)(C.FormSection,{className:Pe().marginBottom40,children:[(0,I.jsx)(C.FormTitle,{tag:C.FormTitleTags.H5,className:Pe().marginBottom8,children:q.Z.Messages.DATA_PRIVACY_CONTROLS}),(0,I.jsx)(C.FormSwitch,{value:t,note:q.Z.Messages.DATA_PRIVACY_CONTROLS_USAGE_STATISTICS_NOTE.format({helpdeskArticle:$s.Z.getArticleURL(se.BhN.DATA_PRIVACY_CONTROLS)}),onChange:this.handleUsageStatisticsChange,
children:q.Z.Messages.DATA_PRIVACY_CONTROLS_USAGE_STATISTICS_TITLE}),(0,I.jsx)(C.FormSwitch,{value:n,note:q.Z.Messages.DATA_PRIVACY_CONTROLS_PERSONALIZATION_NOTE_LEARN_MORE.format({helpdeskArticle:$s.Z.getArticleURL(se.BhN.DATA_PRIVACY_CONTROLS)}),hideBorder:!0,onChange:this.handlePersonalizationChange,children:q.Z.Messages.DATA_PRIVACY_CONTROLS_PERSONALIZATION_TITLE}),(0,I.jsx)(C.FormSwitch,{value:!o&&n,note:(0,I.jsxs)("div",{className:gC().dependentSetting,children:[q.Z.Messages.USER_DROPS_SETTINGS_DROPS_OPTED_OUT_NOTE,o?(0,I.jsx)("div",{className:B()(Pe().marginTop8,gC().feedback),children:q.Z.Messages.DROPS_REQUEST_FEEDBACK_OPT_OUT.format({feedbackURL:"https://survey.alchemer.com/s3/7043738/Discord-Drops-Opt-Out-Survey?user_id=".concat(this.props.currentUser.id)})}):null]}),disabled:!n,onChange:this.handleChangeDropsOptedOut,children:(0,I.jsxs)("div",{className:B()(gC().betaTagContainer,gC().dependentSetting),children:[q.Z.Messages.USER_DROPS_SETTINGS_DROPS_OPTED_OUT,(0,
I.jsx)(we.Z,{className:gC().betaTagIcon})]})}),(0,I.jsx)(C.FormSwitch,{value:r,note:q.Z.Messages.DATA_PRIVACY_CONTROLS_ALLOW_ACCESSIBILITY_DETECTION_NOTE.format({helpdeskArticle:$s.Z.getArticleURL(se.BhN.ACCESSIBILITY_TRACKING)}),onChange:this.handleAccessibilityDetectionChange,children:q.Z.Messages.DATA_PRIVACY_CONTROLS_ALLOW_ACCESSIBILITY_DETECTION_TITLE}),(0,I.jsx)(C.FormTitle,{tag:C.FormTitleTags.H3,className:B()(Pe().marginTop20,Pe().marginBottom8),children:q.Z.Messages.DATA_PRIVACY_CONTROLS_BASIC_SERVICE_TITLE}),(0,I.jsx)(C.FormText,{type:C.FormTextTypes.DESCRIPTION,className:Pe().marginBottom20,children:q.Z.Messages.DATA_PRIVACY_CONTROLS_BASIC_SERVICE_NOTE.format({onClick:function(){P.Z.setSection(se.oAB.ACCOUNT)}})}),this.renderHarvestRequest()]})};r.renderHarvestRequest=function(){var e,t=this,n=this.props.currentUser,r=this.state,o=r.requestingHarvest,i=r.currentHarvestRequest,s=(0,pT.$6)(i,n),a=(0,I.jsx)(C.Tooltip,{
text:n.verified?null:q.Z.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_TOOLTIP,children:function(e){var n=e.onMouseEnter,r=e.onMouseLeave;return(0,I.jsx)(C.Button,{disabled:s,onClick:t.handleDataDownloadRequest,onMouseEnter:n,onMouseLeave:r,look:C.Button.Looks.OUTLINED,color:C.Button.Colors.BRAND,submitting:o,children:q.Z.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_DOWNLOAD})}});if(s&&null!=i){e=(0,I.jsx)(C.Card,{className:gC().card,children:(0,I.jsx)(C.Text,{variant:"text-md/normal",children:q.Z.Messages.DATA_DOWNLOAD_REQUESTED_STATUS_NOTE.format({date:ot()(i.created_at).add(se.eBq,"days").format("MMMM Do YYYY")})})});a=null}null!=a&&(a=(0,I.jsx)(Ne.Z,{children:a}));return(0,I.jsxs)(c.Fragment,{children:[(0,I.jsx)(C.FormDivider,{className:Pe().marginBottom20}),(0,I.jsx)(C.FormTitle,{tag:C.FormTitleTags.H3,children:q.Z.Messages.DATA_PRIVACY_CONTROLS_PERSONAL_DATA_TITLE}),(0,I.jsx)(C.FormText,{type:C.FormTextTypes.DESCRIPTION,className:Pe().marginBottom20,
children:q.Z.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_NOTE.format({helpdeskArticle:$s.Z.getArticleURL(se.BhN.GDPR_REQUEST_DATA)})}),e,a]})};r.renderPrivacyAndTermsNote=function(){return(0,I.jsx)(C.FormSection,{className:Pe().marginBottom40,children:(0,I.jsx)(C.FormNotice,{type:C.FormNotice.Types.PRIMARY,body:q.Z.Messages.USER_SETTINGS_PRIVACY_TERMS.format({termsLink:se.EYA.TERMS,privacyLink:se.EYA.PRIVACY})})})};r.renderStaffOnlySettings=function(){var e=this.props,t=e.currentUser,n=e.nonSpamRetrainingOptIn;return t.isStaff()?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(C.FormDivider,{className:Pe().marginBottom20}),(0,I.jsxs)(C.FormSection,{className:Pe().marginBottom40,children:[(0,I.jsx)(C.FormTitle,{tag:C.FormTitleTags.H5,className:Pe().marginBottom8,children:q.Z.Messages.PRIVACY_SETTINGS_STAFF_ONLY_HEADER}),(0,I.jsxs)(C.FormItem,{tag:C.FormTitleTags.H5,className:Pe().marginBottom4,children:[(0,I.jsx)(C.FormText,{type:C.FormTextTypes.DESCRIPTION,className:Pe().marginBottom8,
children:q.Z.Messages.PRIVACY_SETTINGS_STAFF_ONLY_DESC}),(0,I.jsx)(C.RadioGroup,{options:(0,pT.xH)(),value:null==n?pT.g0.UNDECIDED:n?pT.g0.OPTIN:pT.g0.OPTOUT,onChange:function(e){var t=e.value;return fs.kJ.updateSetting(pT.ac[t])}})]})]})]}):null};r.render=function(){var e=this.props.fetchedConsents;return(0,I.jsxs)(C.FormSection,{tag:C.FormTitleTags.H1,title:q.Z.Messages.PRIVACY_AND_SAFETY,children:[this.renderDMSafety(),this.renderServerPrivacy(),e?this.renderDataPrivacy():null,this.renderPrivacyAndTermsNote(),this.renderStaffOnlySettings()]})};return n}(c.PureComponent);function PC(){var e=(0,fC.n)(),t=(0,r.e7)([d.default],(function(){var e=d.default.getCurrentUser();te()(null!=e,"ConnectedUserSettingsPrivacySafety: currentUser cannot be undefined");return e})),n=(0,r.cj)([mC.Z],(function(){return{fetchedConsents:mC.Z.fetchedConsents,usageStatistics:mC.Z.hasConsented(se.pjP.USAGE_STATISTICS),personalization:mC.Z.hasConsented(se.pjP.PERSONALIZATION)}}));return(0,I.jsx)(xC,OC({
currentUser:t,defaultGuildsRestricted:fs.iG.useSetting(),defaultMessageRequestRestricted:fs.mX.useSetting(),nonSpamRetrainingOptIn:fs.kJ.useSetting(),isStricterMessageRequests:(0,pC.Z)(),isComsUpdateEnabled:e,viewNsfwGuilds:fs.DC.useSetting(),viewNsfwCommands:fs.xM.useSetting(),allowAccessibilityDetection:fs.dQ.useSetting(),explicitContentFilter:fs.UP.useSetting(),dmSpamFilter:fs.Xr.useSetting(),showCurrentGame:fs.G6.useSetting(),dropsOptedOut:fs.bh.useSetting()},n))}var RC=n(488110);function MC(e,t,n,r,o,i,s){try{var a=e[i](s),l=a.value}catch(e){n(e);return}a.done?t(l):Promise.resolve(l).then(r,o)}function DC(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){MC(i,r,o,s,a,"next",e)}function a(e){MC(i,r,o,s,a,"throw",e)}s(void 0)}))}}function LC(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ZC(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function wC(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}var UC=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},
"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:s.label++;return{value:i[1],done:!1};case 5:s.label++;r=i[1];i=[0];continue;case 7:i=s.ops.pop();s.trys.pop();continue;default:if(!(o=s.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1];o=i;break}if(o&&s.label<o[2]){s.label=o[2];s.ops.push(i);break}o[2]&&s.ops.pop();s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};function BC(e,t){var r=e.title,o=e.actionText;return new Promise((function(e){(0,
C.openModalLazy)(DC((function(){var i,s;return UC(this,(function(a){switch(a.label){case 0:return[4,Promise.resolve().then(n.bind(n,975651))];case 1:i=a.sent(),s=i.default;return[2,function(n){var i=n.onClose,a=wC(n,["onClose"]);return(0,I.jsx)(s,ZC(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){LC(e,t,n[t])}))}return e}({},a),{title:r,actionText:o,handleSubmit:function(e){return t(e)},onClose:function(t){i();e(t)}}))}]}}))})))}))}function GC(e,t,n,r,o,i,s){try{var a=e[i](s),l=a.value}catch(e){n(e);return}a.done?t(l):Promise.resolve(l).then(r,o)}function kC(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){GC(i,r,o,s,a,"next",e)}function a(e){GC(i,r,o,s,a,"throw",e)}s(void 0)
}))}}var FC=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:s.label++;return{value:i[1],done:!1};case 5:s.label++;r=i[1];i=[0];continue;case 7:i=s.ops.pop();s.trys.pop();continue;default:if(!(o=s.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1];o=i;break}if(o&&s.label<o[2]){s.label=o[2];s.ops.push(i);break}o[2]&&s.ops.pop();s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e];r=0}finally{
n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};function HC(){return(HC=kC((function(){var e,t;return FC(this,(function(n){switch(n.label){case 0:return[4,jc.Z.get({url:se.ANM.AUTH_SESSIONS})];case 1:(null==(t=n.sent())?void 0:t.ok)&&null!=(null===(e=t.body)||void 0===e?void 0:e.user_sessions)&&u.Z.dispatch({type:"FETCH_AUTH_SESSIONS_SUCCESS",sessions:t.body.user_sessions});return[2,t]}}))}))).apply(this,arguments)}function YC(e){return VC.apply(this,arguments)}function VC(){return(VC=kC((function(e){var t,n,r;return FC(this,(function(o){switch(o.label){case 0:if(Array.isArray(e)){if(0===e.length)return[2];t=q.Z.Messages.AUTH_SESSIONS_LOGOUT_MANY_PASSWORD_MODAL_TITLE.format({sessionCount:e.length});n=q.Z.Messages.AUTH_SESSIONS_LOGOUT_MANY_MFA_MODAL_TITLE.format({sessionCount:e.length})}else{t=q.Z.Messages.AUTH_SESSIONS_LOGOUT_PASSWORD_MODAL_TITLE;n=q.Z.Messages.AUTH_SESSIONS_LOGOUT_MFA_MODAL_TITLE;e=[e]}return[4,WC({passwordTitle:t,mfaTitle:n,
request:function(t,n){return jc.Z.post({url:se.ANM.AUTH_SESSIONS_LOGOUT,body:{session_id_hashes:e,password:t,code:n}})}})];case 1:(null==(r=o.sent())?void 0:r.ok)&&u.Z.dispatch({type:"LOGOUT_AUTH_SESSIONS_SUCCESS",sessionIdHashes:e});return[2,r]}}))}))).apply(this,arguments)}function WC(e){var t=e.passwordTitle,n=e.mfaTitle,r=e.request;return BC({title:t,actionText:q.Z.Messages.NEXT},(function(e){return(0,RC.Z)((function(t){var n=t.code;return r(e,n)}),{modalProps:{title:n,actionText:q.Z.Messages.NEXT,disallowBackupCodes:!0},checkEnabled:!1})}))}function zC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function KC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QC(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function qC(e){qC=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)}
;return qC(e)}function XC(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function $C(e,t){return!t||"object"!==tj(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function JC(e,t){JC=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return JC(e,t)}function ej(e){return function(e){if(Array.isArray(e))return zC(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return
;if("string"==typeof e)return zC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zC(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var tj=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function nj(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=qC(e);if(t){var o=qC(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $C(this,n)}}var rj=[];function oj(){
rj=[]}var ij=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&JC(e,t)}(n,e);var t=nj(n);function n(){KC(this,n);return t.apply(this,arguments)}var r=n.prototype;r.getSessions=function(){return rj};r.__getLocalVars=function(){return{sessions:rj}};return n}(r.ZP.Store);ij.displayName="AuthSessionsStore";const sj=new ij(u.Z,{LOGOUT:oj,LOGIN_SUCCESS:oj,FETCH_AUTH_SESSIONS_SUCCESS:function(e){var t=e.sessions;rj=t.map((function(e){return XC(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){QC(e,t,n[t])}))}return e}({},e),{
approx_last_used_time:new Date(e.approx_last_used_time)})}))},LOGOUT_AUTH_SESSIONS_SUCCESS:function(e){var t=e.sessionIdHashes,n=ej(rj),r=!1,o=!0,i=!1,s=void 0;try{for(var a,l=function(){var e=a.value,t=n.findIndex((function(t){return t.id_hash===e}));if(t>=0){n.splice(t,1);r=!0}},c=t[Symbol.iterator]();!(o=(a=c.next()).done);o=!0)l()}catch(e){i=!0;s=e}finally{try{o||null==c.return||c.return()}finally{if(i)throw s}}if(!r)return!1;rj=n}});function aj(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lj(e){return function(e){if(Array.isArray(e))return aj(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return aj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aj(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var cj=n(3219),uj=n(410068),dj=n(720197),fj=n.n(dj);function pj(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mj(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done);s=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){a=!0;o=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return pj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pj(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hj(){var e,t=(e=(0,r.cj)([sj],(function(){return sj.getSessions()})),c.useMemo((function(){var t=lj(e),n=null,r=Pc.default.getAuthSessionIdHash();if(null!=r){var o=t.findIndex((function(e){return e.id_hash===r}));o>=0&&(n=t.splice(o,1)[0])}t.sort((function(e,t){return t.approx_last_used_time.valueOf()-e.approx_last_used_time.valueOf()}));return{currentSession:n,otherSessions:t}}),[e])),n=t.currentSession,o=t.otherSessions,i=(0,r.e7)([$r.Z],(function(){return $r.Z.hidePersonalInformation})),s=(0,r.e7)([d.default],(function(){return d.default.getCurrentUser()})),a=mj(c.useState(!1),2),l=a[0],f=a[1];c.useEffect((function(){(0,Ml.EW)(N.z$.AUTH_SESSIONS_NEW,{
dismissAction:Sc.L.AUTO});!function(){HC.apply(this,arguments)}();var e=setTimeout((function(){return f(!0)}),500);return function(){clearTimeout(e);u.Z.dispatch({type:"FETCH_AUTH_SESSIONS_SUCCESS",sessions:[]})}}),[]);var p,m=function(){jc.Z.post({url:se.ANM.AUTH_SESSION_NOTIFICATIONS_DEBUG})};if(i)return(0,I.jsx)(zt.Z,{});p=null==n&&0===o.length?l?(0,I.jsx)("div",{className:fj().loading,children:(0,I.jsx)(C.Spinner,{})}):null:(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)("div",{className:fj().sessions,children:[(0,I.jsx)(C.FormSection,{tag:C.FormTitleTags.H5,title:q.Z.Messages.AUTH_SESSIONS_CURRENT,titleClassName:fj().groupTitle,children:null!=n?(0,I.jsx)(Ej,{session:n,current:!0}):null}),o.length>0||!(null==s?void 0:s.mfaEnabled)?(0,I.jsxs)(C.FormSection,{tag:C.FormTitleTags.H5,title:q.Z.Messages.AUTH_SESSIONS_OTHERS,titleClassName:fj().groupTitle,className:fj().otherSessions,children:[o.map((function(e){return(0,I.jsx)(Ej,{session:e},e.id_hash)
})),(null==s?void 0:s.mfaEnabled)?null:(0,I.jsx)(Sj,{})]}):null]}),o.length>0?(0,I.jsxs)(C.FormSection,{tag:C.FormTitleTags.H5,title:q.Z.Messages.AUTH_SESSIONS_OTHERS_LOG_OUT_TITLE,children:[(0,I.jsx)(C.FormText,{type:C.FormTextTypes.DESCRIPTION,children:q.Z.Messages.AUTH_SESSIONS_OTHERS_LOG_OUT_DESCRIPTION}),(0,I.jsx)(C.Button,{look:C.Button.Looks.OUTLINED,color:C.Button.Colors.RED,size:C.Button.Sizes.SMALL,className:fj().logOutAllButton,onClick:function(){return YC(o.map((function(e){return e.id_hash})))},children:q.Z.Messages.AUTH_SESSIONS_OTHERS_LOG_OUT_ACTION})]}):null]});return(0,I.jsxs)(C.FormSection,{tag:C.FormTitleTags.H1,title:q.Z.Messages.AUTH_SESSIONS,children:[(0,I.jsx)(C.FormText,{type:C.FormTextTypes.DESCRIPTION,className:fj().description,children:q.Z.Messages.AUTH_SESSIONS_DESCRIPTION}),(null==s?void 0:s.isStaff())?(0,I.jsxs)("div",{className:fj().tools,children:[(0,I.jsx)(C.Text,{className:fj().toolsTitle,variant:"text-md/bold",children:"DEV TOOLS"}),(0,I.jsx)(C.Text,{
className:fj().toolsTitle,variant:"text-sm/normal",color:"text-danger",children:"These tools are only shown to staff users."}),(0,I.jsx)(C.Tooltip,{text:"Triggers mobile and email suspicious session notifications for the current user",children:function(e){var t=e.onMouseEnter,n=e.onMouseLeave;return(0,I.jsx)(C.Button,{size:C.Button.Sizes.SMALL,color:C.Button.Colors.PRIMARY,onClick:m,onMouseEnter:t,onMouseLeave:n,children:"Trigger Suspicious Sessions Notification"})}})]}):null,p]})}function Ej(e){var t,n,r,o,i,s,a=e.session,l=e.current,c=null!==(i=null===(t=a.client_info)||void 0===t?void 0:t.location)&&void 0!==i?i:null===(n=a.client_info)||void 0===n?void 0:n.ip,u=null===(r=a.client_info)||void 0===r?void 0:r.platform,d=function(e){switch(null==e?void 0:e.toLowerCase().trim()){case null:case void 0:case"":return{text:q.Z.Messages.AUTH_SESSIONS_OS_UNKNOWN,icon:TT.Z};case"ios":case"android":return{text:e,icon:uj.Z};default:return{text:e,icon:TT.Z}}
}(null===(o=a.client_info)||void 0===o?void 0:o.os),f=d.text,p=d.icon,m=l?null:(s=a.approx_last_used_time,(Date.now()-s.valueOf())/1e3/60/60<1?q.Z.Messages.AUTH_SESSIONS_ACTIVE_RECENTLY:ot()(s).fromNow()),h=[f,u].filter(tt.lm),E=[c,m].filter(tt.lm);return(0,I.jsxs)("div",{className:B()(fj().session,l?fj().currentSession:null),children:[(0,I.jsx)("div",{className:fj().sessionIcon,children:(0,I.jsx)(p,{width:"32",height:"32"})}),(0,I.jsxs)("div",{className:fj().sessionInfo,children:[(0,I.jsxs)(C.Text,{variant:"eyebrow",className:fj().sessionInfoRow,children:[(0,I.jsx)("span",{children:h[0]}),h.length>1&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("span",{children:""}),(0,I.jsx)("span",{children:h[1]})]})]}),(0,I.jsxs)(C.Text,{variant:"text-sm/medium",className:fj().sessionInfoRow,children:[(0,I.jsx)("span",{children:E[0]}),E.length>1&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("span",{children:""}),(0,I.jsx)("span",{children:E[1]})]})]})]}),l?null:(0,I.jsx)(C.Clickable,{
className:fj().sessionMoreButton,onClick:function(){return YC(a.id_hash)},"aria-label":q.Z.Messages.AUTH_SESSIONS_SESSION_LOG_OUT,children:(0,I.jsx)(rd.Z,{})})]},a.id_hash)}function Sj(){return(0,I.jsxs)("div",{className:B()(fj().session,fj().legacySession),children:[(0,I.jsx)("div",{className:fj().sessionIcon,children:(0,I.jsx)(cj.Z,{width:"32",height:"32"})}),(0,I.jsxs)("div",{className:fj().sessionInfo,children:[(0,I.jsx)(C.Text,{variant:"eyebrow",className:fj().sessionInfoRow,color:"text-muted",children:(0,I.jsx)("span",{children:q.Z.Messages.AUTH_SESSIONS_UNKNOWN_LEGACY})}),(0,I.jsx)(C.Text,{variant:"text-sm/medium",className:fj().sessionInfoRow,color:"text-muted",children:(0,I.jsx)("span",{children:q.Z.Messages.AUTH_SESSIONS_UNKNOWN_LEGACY_LOG_OUT.format({onClick:function(){return P.Z.setSection(se.oAB.ACCOUNT)}})})})]})]})}var gj=n(929370),_j=n(563145),Tj=n.n(_j);function Oj(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n
;return e}function bj(){var e=(0,r.cj)([$r.Z],(function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Oj(e,t,n[t])}))}return e}({},$r.Z.getSettings())})),t=e.enabled,o=e.autoToggle,i=e.hideInstantInvites,s=e.hidePersonalInformation,a=e.disableSounds,l=e.disableNotifications,c=function(e,t){gj.Z.update(Oj({},e,t))};return(0,I.jsxs)(C.FormSection,{className:Tj().container,tag:C.FormTitleTags.H1,title:q.Z.Messages.STREAMER_MODE,children:[(0,I.jsx)(C.FormNotice,{className:Pe().marginBottom40,iconClassName:Tj().noticeIcon,type:C.FormNoticeTypes.PRIMARY,imageData:{src:n(566300),width:184,height:110,position:C.FormNoticeImagePositions.RIGHT},title:q.Z.Messages.USER_SETTINGS_STREAMER_NOTICE_TITLE,
body:q.Z.Messages.USER_SETTINGS_STREAMER_NOTICE_BODY.format({streamkitURL:se.EYA.STREAMKIT})}),(0,I.jsx)(C.FormSwitch,{value:t,onChange:function(e){return c("enabled",e)},note:q.Z.Messages.ENABLE_STREAMER_MODE_DESCRIPTION.format({onClick:function(){P.Z.setSection(se.oAB.KEYBINDS)}}),children:q.Z.Messages.ENABLE_STREAMER_MODE_LABEL}),function(){if(Kc.FB)return(0,I.jsx)(C.FormSwitch,{value:o,onChange:function(e){return c("autoToggle",e)},note:q.Z.Messages.AUTO_TOGGLE_STREAMER_MODE_DESCRIPTION,children:q.Z.Messages.AUTO_TOGGLE_STREAMER_MODE_LABEL})}(),(0,I.jsx)(C.FormTitle,{className:B()(Pe().marginTop40,Pe().marginBottom8),children:q.Z.Messages.OPTIONS}),(0,I.jsx)(C.FormSwitch,{value:s,onChange:function(e){return c("hidePersonalInformation",e)},note:q.Z.Messages.HIDE_PERSONAL_INFORMATION_DESCRIPTION,children:q.Z.Messages.HIDE_PERSONAL_INFORMATION_LABEL}),(0,I.jsx)(C.FormSwitch,{value:i,onChange:function(e){return c("hideInstantInvites",e)},
note:q.Z.Messages.HIDE_INSTANT_INVITES_DESCRIPTION,children:q.Z.Messages.HIDE_INSTANT_INVITES_LABEL}),(0,I.jsx)(C.FormSwitch,{value:a,onChange:function(e){return c("disableSounds",e)},note:q.Z.Messages.DISABLE_SOUNDS_DESCRIPTION,children:q.Z.Messages.DISABLE_SOUNDS_LABEL}),(0,I.jsx)(C.FormSwitch,{value:l,onChange:function(e){return c("disableNotifications",e)},note:q.Z.Messages.DISABLE_NOTIFICATIONS_DESCRIPTION,children:q.Z.Messages.DISABLE_NOTIFICATIONS_LABEL})]})}function yj(){var e=fs.up.useSetting(),t=fs.R$.useSetting(),n=fs.cC.useSetting(),r=fs.vF.useSetting(),o=fs.H1.useSetting(),i=fs.ev.useSetting(),s=fs.x4.useSetting(),a=fs.RS.useSetting(),l=fs.NA.useSetting(),c=fs.nc.useSetting(),u=(0,D.Z)(_r.Z.TEXT_AND_IMAGES).analyticsLocations;return(0,I.jsxs)(C.FormSection,{tag:C.FormTitleTags.H1,title:q.Z.Messages.TEXT_AND_IMAGES,children:[(0,I.jsx)(C.FormTitle,{className:Pe().marginBottom8,children:q.Z.Messages.INLINE_MEDIA_LABEL}),(0,I.jsx)(C.FormSwitch,{
className:B()(Pe().marginTop8,Pe().marginBottom20),value:a,onChange:fs.RS.updateSetting,children:q.Z.Messages.INLINE_EMBED_MEDIA}),(0,I.jsx)(C.FormSwitch,{className:B()(Pe().marginTop8,Pe().marginBottom20),value:s,note:q.Z.Messages.INLINE_ATTACHMENT_MEDIA_HELP.format({maxSize:10}),onChange:fs.x4.updateSetting,children:q.Z.Messages.INLINE_ATTACHMENT_MEDIA}),(0,I.jsx)(C.FormSwitch,{className:B()(Pe().marginTop8,Pe().marginBottom20),value:o,note:q.Z.Messages.IMAGE_DESCRIPTION_HELP,onChange:fs.H1.updateSetting,children:q.Z.Messages.USER_SETTINGS_WITH_IMAGE_DESCRIPTIONS}),(0,I.jsx)(C.FormTitle,{className:Pe().marginBottom8,children:q.Z.Messages.RENDER_EMBEDS_LABEL}),(0,I.jsx)(C.FormSwitch,{className:B()(Pe().marginTop8,Pe().marginBottom40),value:l,onChange:fs.NA.updateSetting,children:q.Z.Messages.RENDER_EMBEDS}),(0,I.jsx)(C.FormTitle,{className:Pe().marginBottom8,children:q.Z.Messages.EMOJI}),(0,I.jsx)(C.FormSwitch,{className:B()(Pe().marginTop8,Pe().marginBottom20),value:c,
onChange:fs.nc.updateSetting,children:q.Z.Messages.RENDER_REACTIONS}),(0,I.jsx)(C.FormSwitch,{className:Pe().marginBottom40,value:i,note:Hb.Z.parse(q.Z.Messages.CONVERT_EMOTICONS_HELP),onChange:fs.ev.updateSetting,children:q.Z.Messages.CONVERT_EMOTICONS}),(0,I.jsx)(C.FormItem,{className:Pe().marginBottom20,title:q.Z.Messages.STICKERS_AUTO_PLAY_HEADING,children:(0,I.jsx)(C.FormSwitch,{className:B()(Pe().marginTop20,Pe().marginBottom20),value:e,note:q.Z.Messages.AUTO_SUGGEST_STICKERS_DESCRIPTION,onChange:function(t){to.default.track(se.rMx.STICKER_SUGGESTIONS_ENABLED_TOGGLED,{enabled:!e,location:{section:se.jXE.SETTINGS_TEXT_AND_IMAGES},location_stack:u});fs.up.updateSetting(!e)},children:q.Z.Messages.AUTO_SUGGEST_STICKERS})}),(0,I.jsxs)(C.FormSection,{className:Pe().marginBottom8,children:[(0,I.jsx)(C.FormTitle,{className:Pe().marginBottom8,children:q.Z.Messages.FORM_LABEL_USE_RICH_CHAT_BOX}),(0,I.jsx)(C.FormSwitch,{className:Pe().marginTop8,value:t,onChange:function(e){
to.default.track(se.rMx.PREVIEW_MARKDOWN_TOGGLED,{enabled:e,location:{section:se.jXE.SETTINGS_TEXT_AND_IMAGES}});fs.R$.updateSetting(e)},children:q.Z.Messages.PREVIEW_MARKDOWN_DESCRIPTION})]}),(0,I.jsxs)(C.FormSection,{className:Pe().marginBottom40,children:[(0,I.jsx)(C.FormTitle,{className:Pe().marginBottom8,children:q.Z.Messages.THREADS}),(0,I.jsx)(C.FormSwitch,{className:Pe().marginTop8,value:r,onChange:fs.vF.updateSetting,children:q.Z.Messages.USE_THREADS_SIDEBAR_DESCRIPTION})]}),(0,I.jsxs)(C.FormItem,{title:q.Z.Messages.SHOW_SPOILER_CONTENT,children:[(0,I.jsx)(C.FormText,{type:C.FormText.Types.DESCRIPTION,className:Pe().marginBottom8,children:q.Z.Messages.SHOW_SPOILER_CONTENT_HELP}),(0,I.jsx)(C.RadioGroup,{options:[{name:q.Z.Messages.SHOW_SPOILER_ON_CLICK,value:se.A2N.ON_CLICK},{name:q.Z.Messages.SHOW_SPOILER_ON_SERVERS_I_MOD,value:se.A2N.IF_MODERATOR},{name:q.Z.Messages.SHOW_SPOILER_ALWAYS,value:se.A2N.ALWAYS}],onChange:function(e){return fs.cC.updateSetting(e.value)},value:n})]
})]})}var Ij=n(72831),vj=n(585730),Nj=n(608682),Aj=n.n(Nj);function Cj(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jj(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function xj(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done);s=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){a=!0;o=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Cj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cj(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Pj=[{label:"Latin alphabet",value:"aBcDeFgHiJkLmNoPqRsTuVwXyZ"},{label:"Latin pangram",value:"The quick brown fox jumps over the lazy dog"},{label:"Greek alphabet",value:""},{label:"Greek pangram",value:"    ,    "},{label:"Cyrillic alphabet",value:""},{label:"Cyrillic pangram",value:"     ? ,   !"},{label:"Custom",value:"custom"}];function Rj(e,t){var n=xj(c.useState((function(){var n=ye.Z.get(e);return null!=n?n:t})),2),r=n[0],o=n[1];c.useEffect((function(){ye.Z.set(e,r)}),[e,r]);return[r,o]}function Mj(){var e=xj(c.useState(Math.round(window.outerWidth/window.innerWidth*100)),2),t=e[0],n=e[1],o=(0,r.cj)([Tp.Z,Ye.Z],(function(){return{
theme:Tp.Z.theme,platformZoom:Ye.Z.zoom}})),i=o.platformZoom,s=o.theme,a=xj(c.useState(""),2),l=a[0],u=a[1],d=["normal","medium","semibold","bold","extrabold"],f=new Map([["normal",400],["medium",500],["semibold",600],["bold",700],["extrabold",800]]);c.useEffect((function(){Kc.FB||window.addEventListener("resize",(function(){n(Math.round(window.outerWidth/window.innerWidth*100))}))}),[]);var p=Kc.FB?i:t,m=(0,r.e7)([vj.C],(function(){var e,t;return(0,c_.fD)()?null===(e=vj.C.getCurrentBuildOverride())||void 0===e||null===(t=e.overrides)||void 0===t?void 0:t.discord_web:null})),h=xj(Rj("playground-overrideText",null),2),E=h[0],S=h[1],g=xj(Rj("playground-defaultText",Pj[0].value),2),_=g[0],T=g[1],O=c.useCallback((function(e){var t=Pj.find((function(t){return t.value===e}));if(""===e||null==e){T(Pj[0].value);S(null)}else if(null!=t)T(t.value);else{T("custom");S(e)}}),[S,T]);return(0,I.jsx)("div",{className:Aj().fullscreen,style:""!==l?{"--playground-font-family":l}:{},children:(0,
I.jsxs)(C.FormSection,{tag:C.FormTitleTags.H1,children:[(0,I.jsxs)("div",{className:Aj().toolbar,children:[(0,I.jsxs)("div",{children:[(0,I.jsxs)(C.Text,{tag:"div",variant:"heading-lg/bold",style:{display:"inline-block"},children:["Zoom: ",p,"%"]}),null!=m?(0,I.jsxs)(C.Text,{tag:"div",variant:"heading-lg/bold",style:{display:"inline-block",marginLeft:"1em"},color:"header-secondary",children:["(",m.id,")"]}):null]}),(0,I.jsx)(C.FormItem,{children:(0,I.jsx)(C.SingleSelect,{className:Aj().select,options:Pj,onChange:function(e){return O(e)},value:_})}),(0,I.jsx)(C.FormItem,{children:(0,I.jsx)("div",{className:Aj().input,children:(0,I.jsx)(C.TextInput,{placeholder:"Enter custom input...",value:null!=E?E:"",onChange:O})})}),(0,I.jsx)(C.FormItem,{children:(0,I.jsx)("div",{className:Aj().input,children:(0,I.jsx)(C.TextInput,{placeholder:"Font family...",value:l,onChange:u})})}),(0,I.jsx)(C.FormItem,{children:(0,I.jsx)(C.RadioGroup,{withTransparentBackground:!0,className:Aj().theme,
orientation:"horizontal",options:[{name:q.Z.Messages.THEME_DARK,value:se.BRd.DARK},{name:q.Z.Messages.THEME_LIGHT,value:se.BRd.LIGHT}],onChange:function(e){(0,Xh.ZI)({theme:e.value})},value:s})}),(0,I.jsx)(Ij.Z,{closeAction:He.xf,keybind:"ESC"})]}),(0,I.jsxs)("div",{className:Aj().textGrid,children:[(0,I.jsx)("div",{}),d.map((function(e){return(0,I.jsx)("div",{className:Aj().columnHeading,children:(0,I.jsx)(C.Heading,{variant:"eyebrow",children:e})},e)})),[10,12,14,15,16,18,20,24].map((function(e){return(0,I.jsxs)(c.Fragment,{children:[(0,I.jsxs)("div",{className:Aj().fontSize,children:[(0,I.jsxs)(C.Heading,{variant:"eyebrow",children:[e,"px"]}),100!==p?(0,I.jsxs)(C.Heading,{variant:"eyebrow",color:"text-muted",children:["(",e*p/100,")"]}):null]},e),d.map((function(t){var n,r=null!==(n="custom"===_?E:_)&&void 0!==n?n:"";return(0,I.jsx)("div",{children:(0,I.jsxs)("div",{title:"".concat(e,"px at ").concat(t),className:B()(Aj().text,jj({},Aj().breakAnywhere,!r.includes(" "))),style:{
fontSize:e,fontWeight:f.get(t)},children:[(0,I.jsx)("p",{children:r}),(0,I.jsx)("p",{style:{textTransform:"lowercase"},children:r}),(0,I.jsx)("p",{style:{textTransform:"uppercase"},children:r})]})},"".concat(e,"-").concat(t))}))]},e)}))]})]})})}function Dj(e,t,n,r,o,i,s){try{var a=e[i](s),l=a.value}catch(e){n(e);return}a.done?t(l):Promise.resolve(l).then(r,o)}function Lj(e){Lj=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Lj(e)}function Zj(e,t){return!t||"object"!==Uj(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function wj(e,t){wj=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return wj(e,t)}var Uj=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Bj(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1
;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Lj(e);if(t){var o=Lj(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Zj(this,n)}}var Gj=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:s.label++;return{value:i[1],done:!1};case 5:s.label++;r=i[1];i=[0];continue;case 7:i=s.ops.pop();s.trys.pop();continue
;default:if(!(o=s.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1];o=i;break}if(o&&s.label<o[2]){s.label=o[2];s.ops.push(i);break}o[2]&&s.ops.pop();s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},kj=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&wj(e,t)}(n,e);var t=Bj(n);function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r;(r=t.call(this,e)).handleToggleOpenOnStartup=function(){var e=!r.state.openOnStartup;r.setState({openOnStartup:e});Jo.default.send("TOGGLE_OPEN_ON_STARTUP",e)};r.handleToggleStartMinimized=function(){
var e=!r.state.startMinimized;r.setState({startMinimized:e});Jo.default.send("TOGGLE_START_MINIMIZED",e)};r.handleToggleMinimizeToTray=function(){var e=!r.state.minimizeToTray;r.setState({minimizeToTray:e});Jo.default.send("TOGGLE_MINIMIZE_TO_TRAY",e)};r.state={openOnStartup:!0,startMinimized:!1,minimizeToTray:!0};return r}var r=n.prototype;r.componentDidMount=function(){var e,t=this;return(e=function(){var e,n;return Gj(this,(function(r){switch(r.label){case 0:e=t.setState;n={};return[4,Jo.default.getSetting("OPEN_ON_STARTUP",!0)];case 1:n.openOnStartup=r.sent();return[4,Jo.default.getSetting("START_MINIMIZED",!1)];case 2:n.startMinimized=r.sent();return[4,Jo.default.getSetting("MINIMIZE_TO_TRAY",!0)];case 3:e.apply(t,[(n.minimizeToTray=r.sent(),n)]);return[2]}}))},function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){Dj(i,r,o,s,a,"next",e)}function a(e){Dj(i,r,o,s,a,"throw",e)}s(void 0)}))})()};r.render=function(){
var e=this.state,t=e.openOnStartup,n=e.startMinimized,r=e.minimizeToTray,o=(0,Kc.IJ)()?q.Z.Messages.USER_SETTINGS_LINUX_SETTINGS:q.Z.Messages.USER_SETTINGS_WINDOWS_SETTINGS;return(0,I.jsxs)(C.FormSection,{tag:C.FormTitleTags.H1,title:o,children:[(0,I.jsx)(C.FormTitle,{children:q.Z.Messages.USER_SETTINGS_STARTUP_BEHAVIOR}),(0,I.jsx)(C.FormSwitch,{className:Pe().marginBottom20,value:t,note:q.Z.Messages.USER_SETTINGS_OPEN_ON_STARTUP_BODY,onChange:this.handleToggleOpenOnStartup,children:q.Z.Messages.USER_SETTINGS_OPEN_ON_STARTUP_LABEL}),(0,Kc.ED)()?(0,I.jsx)(C.FormSwitch,{disabled:!t,className:B()(Pe().marginTop8,Pe().marginBottom20),value:!!t&&n,note:q.Z.Messages.USER_SETTINGS_START_MINIMIZED_BODY,onChange:this.handleToggleStartMinimized,children:q.Z.Messages.USER_SETTINGS_START_MINIMIZED_LABEL}):null,(0,I.jsx)(C.FormTitle,{className:B()(Pe().marginTop20,Pe().marginBottom8),children:q.Z.Messages.USER_SETTINGS_CLOSE_BUTTON}),(0,I.jsx)(C.FormSwitch,{className:Pe().marginBottom20,value:r,
note:q.Z.Messages.USER_SETTINGS_MINIMIZE_TO_TRAY_BODY,onChange:this.handleToggleMinimizeToTray,children:q.Z.Messages.USER_SETTINGS_MINIMIZE_TO_TRAY_LABEL})]})};return n}(c.PureComponent);const Fj=kj;var Hj=n(113609),Yj=n(821229),Vj=n(555445),Wj=n(385564),zj=n.n(Wj);function Kj(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qj(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done);s=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){a=!0;o=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Kj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kj(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var qj=/^(\d{4}-\d{1,2})/;function Xj(e){var t=qj.exec(e);return null!=t?t[1]:null}function $j(e,t){if(Array.isArray(e)){var n=!0,r=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done);n=!0){if($j(i.value,t))return!0}}catch(e){r=!0;o=e}finally{try{n||null==s.return||s.return()}finally{if(r)throw o}}}else if("object"==typeof e&&null!==e){var a=!0,l=!1,c=void 0;try{for(var u,d=Object.values(e)[Symbol.iterator]();!(a=(u=d.next()).done);a=!0){if($j(u.value,t))return!0}}catch(e){l=!0;c=e}finally{try{a||null==d.return||d.return()}finally{if(l)throw c}}}else if("string"==typeof e&&e.toLowerCase().includes(t.toLowerCase()))return!0;return!1}var Jj=n(978319),ex=n.n(Jj);function tx(e,t){
(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function nx(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done);s=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){a=!0;o=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return tx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tx(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rx(e){
var t,n,r=nx(c.useState(null!=e.descriptor),2),o=r[0],i=r[1],s=c.useCallback((function(){i((function(e){return!e}))}),[]),a=(t=e.experiment.description,Array.isArray(t)?t:[t]),l=Xj(e.experimentId);return(0,I.jsxs)("div",{className:ex().group,children:[(0,I.jsxs)(C.FormSection,{children:[(0,I.jsx)(C.Clickable,{onClick:s,children:(0,I.jsxs)(C.FormTitle,{tag:C.FormTitleTags.H3,className:ex().title,children:[(0,I.jsxs)("div",{children:[(0,I.jsx)("span",{children:e.experiment.title}),(0,I.jsx)(C.Text,{color:"text-muted",variant:"text-sm/normal",children:e.experimentId})]}),(0,I.jsx)("span",{className:ex().experimentDate,children:l})]})}),o?(0,I.jsxs)("div",{children:[(0,I.jsx)(C.FormItem,{title:"Bucket Override",children:(0,I.jsx)(C.SingleSelect,{value:null!=e.descriptor?e.descriptor.bucket:null,clearable:null!=e.descriptor,options:(n=e.experiment.buckets,n.map((function(e){return{label:Vj.Z.getExperimentBucketName(e),value:e}}))),onChange:function(t){(0,Hj.rX)(e.experimentId,t)}})}),(0,
I.jsx)("div",{className:ex().description,children:a.map((function(e,t){return(0,I.jsxs)(C.FormText,{type:C.FormTextTypes.DESCRIPTION,children:[e," "]},t)}))})]}):null]}),(0,I.jsx)(C.FormDivider,{className:ex().divider})]})}function ox(){var e=(0,r.cj)([Yj.Z],(function(){return Yj.Z.getExperimentOverrides()})),t=(0,r.cj)([Yj.Z],(function(){return Yj.Z.getRegisteredExperiments()})),n=nx(c.useState(""),2),o=n[0],i=n[1],s=function(e,t){var n=t.split(/\s+/g).filter((function(e){return""!==e}));if(0===n.length)return e;var r=[],o=!0,i=!1,s=void 0;try{for(var a,l=e[Symbol.iterator]();!(o=(a=l.next()).done);o=!0){var c=a.value,u=0,d=!0,f=!1,p=void 0;try{for(var m,h=n[Symbol.iterator]();!(d=(m=h.next()).done);d=!0)$j(c,m.value)&&(u+=1)}catch(e){f=!0;p=e}finally{try{d||null==h.return||h.return()}finally{if(f)throw p}}if(0!==u){null==r[u]&&(r[u]=[]);r[u].push(c)}}}catch(e){i=!0;s=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw s}}return zj()(r.filter((function(e){return void 0!==e
})).reverse())}(function(e){return e.slice().sort((function(e,t){var n=Xj(e.id),r=Xj(t.id);if(null!=n&&null!=r){var o=r.localeCompare(n);if(0!==o)return o}return e.experiment.title.localeCompare(t.experiment.title)}))}(function(e){return Array.from(Object.entries(e)).map((function(e){var t=Qj(e,2);return{id:t[0],experiment:t[1]}}))}(t)),o);return(0,I.jsxs)(C.FormSection,{tag:C.FormTitleTags.H1,title:"Experiments",children:[(0,I.jsx)(Ae.Z,{size:Ae.Z.Sizes.LARGE,query:o,onChange:i,onClear:function(){return i("")}}),s.length>0?s.map((function(t){return(0,I.jsx)(rx,{experiment:t.experiment,experimentId:t.id,descriptor:e[t.id]},t.id)})):(0,I.jsx)("div",{className:ex().emptyState,children:(0,I.jsx)(C.Heading,{variant:"heading-md/semibold",children:"No Experiments Found"})})]})}var ix=n(656645),sx=(0,zu.B)({kind:"user",id:"2023-06_custom_call_sounds",label:"Custom Call Sounds",defaultConfig:{enabled:!1,entry_sounds_enabled:!1},treatments:[{id:1,label:"Enabled",config:{enabled:!0,
entry_sounds_enabled:!0}}]});var ax=n(77413),lx=n(813749),cx=n(347387),ux=n(16727),dx=n(594125),fx=n(452826),px=n.n(fx);function mx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hx(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Ex(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Sx(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){
var r,o,i=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done);s=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){a=!0;o=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return mx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mx(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gx(e){var t=e.onSelect,n=function(e){i(!1);null==t||t(e)},r=Sx(c.useState(!1),2),o=r[0],i=r[1];return(0,I.jsx)(C.Popout,{shouldShow:o,position:"top",onRequestClose:function(){return i(!1)},renderPopout:function(e){var t=e.closePopout;return(0,I.jsx)(dx.Z,{suppressPlaySound:!0,guildId:null,
channel:null,onClose:t,onSelect:n,analyticsSource:"call sounds edit setting"})},children:function(e){return(0,I.jsx)(ux.h,Ex(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){hx(e,t,n[t])}))}return e}({},e),{onClick:function(){i(!o)},text:q.Z.Messages.CALL_SOUNDS_SETTINGS_JOIN_SOUND_CHANGE,children:(0,I.jsx)(La.Z,{className:px().secondaryIcon})}))}})}function _x(e){var t=e.sound,n=e.onSelect,r=(0,cx.Z)(t,null).previewSound,o=null!=t,i=o?t.name:q.Z.Messages.NONE,s=null==t?void 0:t.emojiId,a=null==t?void 0:t.emojiName,l=o&&(null!=a||null!=s);return(0,I.jsxs)("div",{className:px().soundButtonSettingContainer,children:[(0,I.jsx)(ux.h,{disabled:!o,onClick:function(){null!=t&&r()},text:q.Z.Messages.SOUNDBOARD_SOUND_PREVIEW_SOUND.format({
emojiName:a,soundName:i}),children:(0,I.jsx)(zI.Z,{className:px().secondaryIcon})}),(0,I.jsxs)("div",{className:px().container,children:[l&&(0,I.jsx)(ax.Z,{emojiId:s,emojiName:a,className:px().emoji}),(0,I.jsx)(C.Text,{variant:"text-xs/medium",color:"header-primary",className:px().container,children:i})]}),(0,I.jsxs)("div",{className:px().container,children:[(0,I.jsx)(gx,{onSelect:n}),o?(0,I.jsx)(ux.h,{onClick:function(){return n(null)},text:q.Z.Messages.CALL_SOUNDS_SETTINGS_JOIN_SOUND_REMOVE,children:(0,I.jsx)(lx.Z,{color:A.Z.unsafe_rawColors.RED_400.css,className:px().secondaryIcon})}):null]})]})}var Tx=n(336177),Ox=n(815378),bx=n(615457),yx=n(196028),Ix=n.n(yx),vx=(0,_n.hQ)();function Nx(){var e=(0,Ox.pI)();return(0,I.jsxs)("div",{className:B()(Ix().soundboardRow),children:[(0,I.jsxs)("div",{className:B()(Ix().soundboardColumn,Ix().leftColumn),children:[(0,I.jsx)(C.FormTitle,{tag:C.FormTitleTags.H5,className:Ix().soundboardTitle,children:q.Z.Messages.USER_SETTINGS_SOUNDBOARD}),(0,
I.jsx)(C.Text,{color:"header-secondary",variant:"text-sm/normal",children:q.Z.Messages.USER_SETTINGS_SOUNDBOARD_VOLUME_DESCRIPTION_WITH_LINK.format({helpCenterArticle:$s.Z.getArticleURL(se.BhN.SOUNDBOARD)})})]}),(0,I.jsxs)("div",{className:B()(Ix().soundboardColumn,Ix().rightColumn),children:[(0,I.jsx)(C.FormTitle,{id:vx,tag:C.FormTitleTags.H5,className:Ix().soundboardSubtitle,children:q.Z.Messages.USER_SETTINGS_SOUNDBOARD_VOLUME}),(0,I.jsx)(C.Slider,{initialValue:(0,bx.P)(e),maxValue:100,onValueRender:function(e){return"".concat(e.toFixed(0),"%")},asValueChanges:function(t){e=(0,bx.A)(t);(0,Tx.xz)(e)},"aria-labelledby":vx})]})]})}var Ax=n(272127),Cx=n.n(Ax);function jx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xx(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],s=!0,a=!1;try{
for(n=n.call(e);!(s=(r=n.next()).done);s=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){a=!0;o=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return jx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jx(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Px(){var e=xx(c.useState(""),2),t=e[0],n=e[1],r=xx(c.useState(null),2),o=r[0],i=r[1],s=""!==t;return(0,I.jsxs)(C.FormSection,{tag:C.FormTitleTags.H1,titleClassName:Pe().marginBottom8,title:q.Z.Messages.CALL_SOUNDS_SETTINGS,children:[(0,I.jsx)(Tl,{guildId:t,className:Cx().guildSelector,
globalOptionLabel:q.Z.Messages.CALL_SOUNDS_SETTINGS_GLOBAL_GUILD_SEARCH,onChange:function(e){return n(null==e?"":e.id)},hideDivider:!0}),(0,I.jsx)(C.Text,{variant:"text-sm/medium",color:"header-secondary",className:B()(Pe().marginTop8,Pe().marginBottom8),children:s?q.Z.Messages.CALL_SOUNDS_SETTINGS_GUILD_NOTICE:q.Z.Messages.CALL_SOUNDS_SETTINGS_GLOBAL_NOTICE}),(0,I.jsx)(zs,{className:Pe().marginTop20,title:q.Z.Messages.CALL_SOUNDS_SETTINGS_JOIN_SOUND.format({nitroWheelHook:function(){return(0,I.jsx)(ro.Z,{className:B()(Cx().nitroWheel,Cx().container)})}}),forcedDivider:!0,children:(0,I.jsx)(_x,{sound:o,onSelect:function(e){i(e)}})}),(0,I.jsx)(Nx,{}),(0,I.jsx)(C.FormDivider,{className:Pe().marginBottom40})]})}var Rx=n(396448),Mx=n(680664);function Dx(e){ix.Z.setAV1Enabled(e);to.default.track(se.rMx.VOICE_SETTINGS_CHANGED,{av1_disabled:!e,av1_enabled:e})}function Lx(){var e=(0,r.cj)([oe.Z],(function(){return{experimentalEncoders:oe.Z.getExperimentalEncoders()}})).experimentalEncoders
;return"stable"!==Jo.default.releaseChannel&&oe.Z.isExperimentalEncodersSupported()?(0,I.jsx)(C.FormSwitch,{className:B()(Pe().marginTop8,Pe().marginBottom20),value:e,onChange:function(e){return ix.Z.setExperimentalEncoders(e)},disabled:!1,children:q.Z.Messages.EXPERIMENTAL_ENCODERS}):null}function Zx(){var e=(0,r.e7)([Tp.Z],(function(){return Tp.Z.theme})),t=(0,r.cj)([oe.Z],(function(){return{openH264:oe.Z.getOpenH264(),hardwareH264:oe.Z.getHardwareH264(),supportsOpenH264:oe.Z.supports(iu.AN.OPEN_H264),av1Enabled:oe.Z.getAv1Enabled()}})),n=t.openH264,o=t.hardwareH264,i=t.supportsOpenH264,s=t.av1Enabled;return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(C.FormSection,{className:Pe().marginBottom20,title:q.Z.Messages.USER_SETTINGS_VOICE_CODEC_TITLE,children:(0,I.jsx)(C.FormNotice,{className:Pe().marginBottom20,type:C.FormNoticeTypes.PRIMARY,imageData:{src:(0,ip.ap)(e)?Rx:Mx,width:70,height:40},align:Ne.Z.Align.CENTER,body:q.Z.Messages.USER_SETTINGS_VOICE_CODEC_DESCRIPTION})}),i&&(0,
I.jsxs)(C.FormSection,{className:Pe().marginBottom20,title:q.Z.Messages.USER_SETTINGS_VOICE_VIDEO_CODEC_TITLE,children:[(0,I.jsx)(C.FormSwitch,{className:B()(Pe().marginTop8,Pe().marginBottom20),value:n,onChange:function(e){ix.Z.setOpenH264(e);ix.Z.setHardwareH264(e)},disabled:!1,note:q.Z.Messages.FORM_HELP_OPEN_H264,children:q.Z.Messages.USER_SETTINGS_VOICE_OPEN_H264}),(0,I.jsx)(C.FormSwitch,{className:B()(Pe().marginTop8,Pe().marginBottom20),value:o,onChange:function(e){(0,Kc.ED)()&&ix.Z.setAV1Enabled(e&&s);ix.Z.setHardwareH264(e)},disabled:!n,note:q.Z.Messages.FORM_HELP_HARDWARE_H264,children:q.Z.Messages.USER_SETTINGS_VOICE_HARDWARE_H264}),(0,I.jsx)(C.FormSwitch,{className:B()(Pe().marginTop8,Pe().marginBottom20),value:(0,Kc.ED)()?s&&o:s,onChange:function(e){(0,Kc.ED)()?Dx(e&&o):Dx(e)},note:(0,Kc.ED)()&&q.Z.Messages.FORM_HELP_HARDWARE_AV1,disabled:(0,Kc.ED)()&&!o,children:q.Z.Messages.USER_SETTINGS_VOICE_AV1}),(0,I.jsx)(Lx,{})]})]})}
var wx=n(797364),Ux=n(816251),Bx=n(727785),Gx=n(247162);function kx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Fx(e,t,n,r,o,i,s){try{var a=e[i](s),l=a.value}catch(e){n(e);return}a.done?t(l):Promise.resolve(l).then(r,o)}function Hx(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){Fx(i,r,o,s,a,"next",e)}function a(e){Fx(i,r,o,s,a,"throw",e)}s(void 0)}))}}function Yx(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Vx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Yx(e,t,n[t])}))}return e}function Wx(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function zx(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done);s=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){a=!0;o=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return kx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kx(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Kx=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:s.label++;return{value:i[1],done:!1};case 5:s.label++;r=i[1];i=[0];continue;case 7:i=s.ops.pop();s.trys.pop();continue;default:if(!(o=s.trys,
o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1];o=i;break}if(o&&s.label<o[2]){s.label=o[2];s.ops.push(i);break}o[2]&&s.ops.pop();s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};function Qx(){return qx.apply(this,arguments)}function qx(){return(qx=Hx((function(){var e,t;return Kx(this,(function(n){switch(n.label){case 0:return[4,me.Z.fileManager.getModulePath()];case 1:e=n.sent();t=me.Z.fileManager.join(e,"discord_voice");me.Z.fileManager.showItemInFolder(t);return[2]}}))}))).apply(this,arguments)}function Xx(e){var t=null!=e,n=t?q.Z.Messages.UPLOAD_DEBUG_LOG_FAILURE_HEADER:q.Z.Messages.UPLOAD_DEBUG_LOG_SUCCESS_HEADER,r=t?e:q.Z.Messages.UPLOAD_DEBUG_LOG_SUCCESS;(0,C.openModal)((function(e){return(0,I.jsx)(C.ConfirmModal,Wx(Vx({header:n,confirmButtonColor:C.Button.Colors.BRAND,
confirmText:q.Z.Messages.OKAY},e),{children:(0,I.jsx)(C.Text,{variant:"text-md/normal",children:r})}))}))}function $x(e){(0,C.openModal)((function(t){return(0,I.jsx)(C.ConfirmModal,Wx(Vx({header:q.Z.Messages.SET_DEBUG_LOGGING,confirmText:q.Z.Messages.OKAY,cancelText:q.Z.Messages.CANCEL,onCancel:t.onClose,onConfirm:function(){return ix.Z.setDebugLogging(e)}},t),{children:(0,I.jsx)(C.Text,{variant:"text-md/normal",children:q.Z.Messages.SET_DEBUG_LOGGING_BODY})}))}))}function Jx(){var e,t=zx(c.useState(!1),2),n=t[0],o=t[1],i=(0,r.cj)([oe.Z],(function(){return{aecDumpSupported:oe.Z.isAecDumpSupported(),debugLogging:oe.Z.getDebugLogging(),aecDumpEnabled:oe.Z.getAecDump(),supportsConnectionReplay:oe.Z.supports(iu.AN.CONNECTION_REPLAY)}})),s=i.aecDumpSupported,a=i.debugLogging,l=i.aecDumpEnabled,u=i.supportsConnectionReplay,f=(0,r.e7)([Bx.ZP],(function(){return Bx.ZP.shouldRecordNextConnection()})),p=(0,r.e7)([d.default],(function(){var t
;return null!==(e=null===(t=d.default.getCurrentUser())||void 0===t?void 0:t.isStaff())&&void 0!==e&&e})),m=("canary"===Jo.default.releaseChannel||"development"===Jo.default.releaseChannel)&&p&&u;function h(){return(h=Hx((function(){return Kx(this,(function(e){switch(e.label){case 0:o(!0);e.label=1;case 1:e.trys.push([1,5,,6]);return[4,oe.Z.getMediaEngine().writeAudioDebugState()];case 2:e.sent();return[4,Gx.Z.submitLiveCrashReport({message:{message:"User Live Dump"}})];case 3:e.sent();return[4,(0,Ux.E_)(se.GU0.RTC)];case 4:e.sent();Xx();return[3,6];case 5:Xx(e.sent().displayMessage);return[3,6];case 6:return[2]}}))}))).apply(this,arguments)}return(0,I.jsxs)(C.FormSection,{className:Pe().marginBottom40,title:q.Z.Messages.FORM_LABEL_DEBUG,children:[s&&(0,I.jsx)(C.FormSwitch,{value:l,onChange:function(e){return ix.Z.setAecDump(e)},note:q.Z.Messages.FORM_HELP_AEC_DUMP,children:q.Z.Messages.FORM_CHECKBOX_AEC_DUMP}),m&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(C.FormSwitch,{hideBorder:!0,
value:f,onChange:function(e){return wx.TC(e)},note:q.Z.Messages.FORM_HELP_CONNECTION_LOG,children:q.Z.Messages.FORM_CHECKBOX_CONNECTION_LOG}),(0,I.jsx)(C.FormItem,{children:(0,I.jsx)(Ne.Z,{className:Pe().marginBottom20,children:(0,I.jsx)(Ne.Z.Child,{grow:0,shrink:0,children:(0,I.jsx)(C.Button,{size:C.Button.Sizes.SMALL,onClick:function(){return wx.z4()},children:q.Z.Messages.OPEN_CONNECTION_REPLAY})})})})]}),(0,I.jsx)(C.FormSwitch,{hideBorder:!0,value:a,onChange:$x,note:q.Z.Messages.FORM_HELP_DEBUG_LOGGING,children:q.Z.Messages.FORM_CHECKBOX_DEBUG_LOGGING}),(0,I.jsx)(C.FormItem,{children:(0,I.jsxs)(Ne.Z,{children:[(0,I.jsx)(Ne.Z.Child,{grow:0,shrink:0,children:(0,I.jsx)(C.Button,{disabled:n,size:C.Button.Sizes.SMALL,onClick:function(){return h.apply(this,arguments)},children:q.Z.Messages.UPLOAD})}),(0,I.jsx)(Ne.Z.Child,{grow:0,shrink:0,children:(0,I.jsx)(C.Button,{size:C.Button.Sizes.SMALL,onClick:Qx,children:q.Z.Messages.SHOW_FOLDER})})]})})]})}var eP=n(912735)
;function tP(e,t,n,r,o,i,s){try{var a=e[i](s),l=a.value}catch(e){n(e);return}a.done?t(l):Promise.resolve(l).then(r,o)}function nP(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){tP(i,r,o,s,a,"next",e)}function a(e){tP(i,r,o,s,a,"throw",e)}s(void 0)}))}}function rP(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var oP=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:s.label++;return{
value:i[1],done:!1};case 5:s.label++;r=i[1];i=[0];continue;case 7:i=s.ops.pop();s.trys.pop();continue;default:if(!(o=s.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1];o=i;break}if(o&&s.label<o[2]){s.label=o[2];s.ops.push(i);break}o[2]&&s.ops.pop();s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};function iP(e){(0,C.openModalLazy)(nP((function(){var t,r;return oP(this,(function(o){switch(o.label){case 0:return[4,Promise.resolve().then(n.bind(n,908056))];case 1:t=o.sent(),r=t.default;return[2,function(t){return(0,I.jsx)(r,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){rP(e,t,n[t])}))}return e}({source:e},t))}]}}))})))}var sP=n(913223),aP=n.n(sP);function lP(){var e,t,o=function(e){var t,r=e.label,o=e.value;if(eP.Z.isCertified(o)){var i=(0,ip.ap)(s)?n(956863):n(874638);t=(0,I.jsx)("img",{src:i,alt:"Certified",className:aP().deviceOptionCertified})}return(0,I.jsxs)("span",{className:aP().deviceOption,children:[(0,I.jsx)("span",{className:aP().deviceOptionLabel,children:eP.Z.getCertifiedDeviceName(o,r)}),t]},o)},i=function(e){return o(e[0])},s=(0,r.e7)([Tp.Z],(function(){return Tp.Z.theme})),a=(0,r.cj)([oe.Z],(function(){return{canSetInputDevice:oe.Z.supports(iu.AN.AUDIO_INPUT_DEVICE),canSetOutputDevice:oe.Z.supports(iu.AN.AUDIO_OUTPUT_DEVICE),inputDeviceId:oe.Z.getInputDeviceId(),outputDeviceId:oe.Z.getOutputDeviceId()}})),l=a.canSetInputDevice,c=a.canSetOutputDevice,u=a.inputDeviceId,d=a.outputDeviceId,f=(0,r.e7)([oe.Z],(function(){return oe.Z.getInputDevices()
})),p=(0,r.e7)([oe.Z],(function(){return oe.Z.getOutputDevices()}));l||(e=(0,I.jsx)(C.FormText,{type:C.FormText.Types.DESCRIPTION,className:Pe().marginTop8,children:q.Z.Messages.BROWSER_INPUT_DEVICE_WARNING.format({onDownloadClick:function(){return iP("Help Text Input Devices")}})}));c||(t=(0,I.jsx)(C.FormText,{type:C.FormText.Types.DESCRIPTION,className:Pe().marginTop8,children:q.Z.Messages.BROWSER_OUTPUT_DEVICE_WARNING.format({onDownloadClick:function(){return iP("Help Text Output Devices")}})}));var m=Fe()(f).values().first(),h=null!=m?m.disabled:null!=e,E=Fe()(p).values().first(),S=null!=E?E.disabled:null!=t;return(0,I.jsxs)(Ne.Z,{className:Pe().marginBottom20,children:[(0,I.jsxs)(Ne.Z.Child,{basis:"50%",children:[(0,I.jsx)(C.FormTitle,{tag:C.FormTitleTags.H5,className:Pe().marginBottom8,children:q.Z.Messages.FORM_LABEL_INPUT_DEVICE}),(0,I.jsx)(C.SingleSelect,{value:u,onChange:function(e){return ix.Z.setInputDevice(e,"Settings")},options:Fe().map(f,(function(e){return{value:e.id,
label:e.name}})),isDisabled:h,renderOptionValue:i,renderOptionLabel:o}),e]}),(0,I.jsxs)(Ne.Z.Child,{basis:"50%",children:[(0,I.jsx)(C.FormTitle,{tag:C.FormTitleTags.H5,className:Pe().marginBottom8,children:q.Z.Messages.FORM_LABEL_OUTPUT_DEVICE}),(0,I.jsx)(C.SingleSelect,{value:d,onChange:function(e){return ix.Z.setOutputDevice(e,"Settings")},options:Fe().map(p,(function(e){return{value:e.id,label:e.name}})),isDisabled:S,renderOptionValue:i,renderOptionLabel:o}),t]})]})}var cP=n(741769),uP=n.n(cP);function dP(e,t,n,r,o,i,s){try{var a=e[i](s),l=a.value}catch(e){n(e);return}a.done?t(l):Promise.resolve(l).then(r,o)}function fP(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){dP(i,r,o,s,a,"next",e)}function a(e){dP(i,r,o,s,a,"throw",e)}s(void 0)}))}}function pP(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var mP=function(e,t){var n,r,o,i,s={label:0,sent:function(){
if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:s.label++;return{value:i[1],done:!1};case 5:s.label++;r=i[1];i=[0];continue;case 7:i=s.ops.pop();s.trys.pop();continue;default:if(!(o=s.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1];o=i;break}if(o&&s.label<o[2]){s.label=o[2];s.ops.push(i);break}o[2]&&s.ops.pop();s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}
}([i,a])}}},hP=!Kc.FB,EP=(0,_n.hQ)();function SP(e){var t=e.value;t===se.pM4.PUSH_TO_TALK&&hP&&(0,C.openModalLazy)(fP((function(){var e,t;return mP(this,(function(r){switch(r.label){case 0:return[4,Promise.resolve().then(n.bind(n,895303))];case 1:e=r.sent(),t=e.default;return[2,function(e){return(0,I.jsx)(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){pP(e,t,n[t])}))}return e}({title:q.Z.Messages.PTT_LIMITED_TITLE,confirmText:q.Z.Messages.DOWNLOAD,cancelText:q.Z.Messages.OKAY,onConfirm:function(){return iP("PTT Limited Modal")},body:q.Z.Messages.PTT_LIMITED_BODY},e))}]}}))})));ix.Z.setMode(t)}function gP(e){return e>=1e3?"".concat((e/=1e3).toFixed(2),"s"):"".concat(e.toFixed(0)," ms")}function _P(e){var t,n=e.inputMode,o=(0,
r.cj)([oe.Z],(function(){return oe.Z.getModeOptions()})),i=o.shortcut,s=o.delay;t=Kc.FB||n!==se.pM4.PUSH_TO_TALK?(0,I.jsx)(C.FormText,{type:C.FormText.Types.DESCRIPTION,className:B()(uP().pttToolsMessage,Pe().marginBottom8),children:q.Z.Messages.USER_SETTINGS_VOICE_ADD_MULTIPLE.format({onClick:function(){return P.Z.setSection(se.oAB.KEYBINDS)}})}):(0,I.jsx)(C.FormText,{type:C.FormText.Types.DESCRIPTION,className:B()(uP().pttToolsMessage,uP().pttToolsWarning,Pe().marginBottom8),children:q.Z.Messages.PTT_LIMITED_WARNING.format({onDownloadClick:function(){return iP("Help Text PTT")}})});return(0,I.jsxs)("div",{className:uP().pttTools,children:[(0,I.jsxs)(Ne.Z,{children:[(0,I.jsx)(Ne.Z.Child,{basis:"50%",children:(0,I.jsx)(C.FormItem,{title:q.Z.Messages.FORM_LABEL_SHORTCUT,children:(0,I.jsx)(re.Z,{defaultValue:i,onChange:function(e){return ix.Z.setMode(n,{shortcut:e})}})})}),(0,I.jsx)(Ne.Z.Child,{basis:"50%",children:(0,I.jsxs)(C.FormItem,{children:[(0,I.jsx)(C.FormTitle,{id:EP,
tag:C.FormTitleTags.H5,className:Pe().marginBottom8,children:q.Z.Messages.INPUT_MODE_PTT_RELEASE_DELAY}),(0,I.jsx)(C.Slider,{initialValue:s,onValueChange:function(e){return ix.Z.setMode(n,{delay:e})},onValueRender:gP,maxValue:se.qhL,"aria-labelledby":EP})]})})]}),t]})}function TP(){var e=(0,r.e7)([oe.Z],(function(){return oe.Z.getMode()})),t=[{value:se.pM4.VOICE_ACTIVITY,name:q.Z.Messages.INPUT_MODE_VAD},{value:se.pM4.PUSH_TO_TALK,name:hP?q.Z.Messages.INPUT_MODE_PTT_LIMITED:q.Z.Messages.INPUT_MODE_PTT}];return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(C.FormItem,{title:q.Z.Messages.FORM_LABEL_INPUT_MODE,className:Pe().marginBottom20,children:(0,I.jsx)(C.RadioGroup,{onChange:SP,options:t,value:e})}),e===se.pM4.PUSH_TO_TALK&&(0,I.jsx)(_P,{inputMode:e})]})}var OP=n(946767),bP=n(959132),yP=n.n(bP);function IP(){return(0,Ry.ZP)([oe.Z],(function(){return oe.Z.supports(iu.AN.LOOPBACK)}))?(0,I.jsx)("div",{className:yP().micTest,children:(0,I.jsx)(OP.Z,{
title:q.Z.Messages.USER_SETTINGS_VOICE_MIC_TEST_TITLE,description:q.Z.Messages.USER_SETTINGS_VOICE_MIC_TEST_DESCRIPTION,notchBackground:OP._.GRAY,captionVoice:q.Z.Messages.USER_SETTINGS_VOICE_MIC_TEST_VOICE_CAPTION,captionNoVoice:(0,I.jsxs)(I.Fragment,{children:[q.Z.Messages.USER_SETTINGS_VOICE_MIC_TEST_VOICE_NO_INPUT_NOTICE,(0,I.jsx)(C.Anchor,{className:yP().micTestHelpLink,href:$s.Z.getArticleURL(se.BhN.NO_INPUT_DETECTED),children:q.Z.Messages.NOTICE_NO_INPUT_DETECTED_HELP_LINK_TEXT})]}),buttonTest:q.Z.Messages.USER_SETTINGS_VOICE_MIC_TEST_BUTTON_INACTIVE,buttonStop:q.Z.Messages.USER_SETTINGS_VOICE_MIC_TEST_BUTTON_ACTIVE,buttonClassName:yP().micTestButton,buttonColor:C.Button.Colors.BRAND,location:{page:se.ZY5.USER_SETTINGS,section:se.jXE.SETTINGS_VOICE_AND_VIDEO}})}):null}function vP(e){switch(e){case se.rtk.ENABLING:return q.Z.Messages.USER_SETTINGS_VOICE_SOUNDSHARE_ENABLING_LABEL;case se.rtk.ENABLED:return q.Z.Messages.USER_SETTINGS_VOICE_SOUNDSHARE_ENABLED_LABEL
;case se.rtk.FAILED_TO_ENABLE:return q.Z.Messages.USER_SETTINGS_VOICE_SOUNDSHARE_FAILED_TO_ENABLE_LABEL}return q.Z.Messages.USER_SETTINGS_VOICE_SOUNDSHARE_NOT_ENABLED_LABEL}function NP(){var e=(0,r.cj)([oe.Z],(function(){return{videoHook:oe.Z.getVideoHook(),experimentalSoundshare:oe.Z.getExperimentalSoundshare(),soundshareEnabled:oe.Z.getSoundshareEnabled(),supportsVideoHook:oe.Z.supports(iu.AN.VIDEO_HOOK),supportsExperimentalSoundshare:oe.Z.supportsExperimentalSoundshare(),supportsEnableSoundshare:oe.Z.supportsEnableSoundshare()}})),t=e.videoHook,n=e.experimentalSoundshare,o=e.soundshareEnabled,i=e.supportsVideoHook,s=e.supportsExperimentalSoundshare,a=e.supportsEnableSoundshare;return i||s||a?(0,I.jsxs)(C.FormSection,{className:Pe().marginBottom20,title:q.Z.Messages.FORM_LABEL_SCREENSHARE,children:[i&&(0,I.jsx)(C.FormSwitch,{value:t,onChange:function(e){return ix.Z.setVideoHook(e)},note:q.Z.Messages.FORM_HELP_VIDEO_HOOK,children:q.Z.Messages.USER_SETTINGS_VOICE_VIDEO_HOOK_LABEL
}),s&&(0,I.jsx)(C.FormSwitch,{value:n,onChange:function(e){return ix.Z.setExperimentalSoundshare(e)},children:q.Z.Messages.USER_SETTINGS_VOICE_EXPERIMENTAL_SOUNDSHARE_LABEL}),a&&(0,I.jsxs)(C.FormItem,{children:[(0,I.jsx)(C.FormText,{className:Pe().marginBottom20,children:vP(o).format({helpdeskArticle:$s.Z.getArticleURL(se.BhN.OSX_SOUNDSHARE)})}),(0,I.jsx)(Ne.Z,{children:(0,I.jsx)(Ne.Z.Child,{grow:0,shrink:0,children:(0,I.jsx)(C.Button,{className:Pe().marginBottom20,size:C.Button.Sizes.SMALL,onClick:function(){return ix.Z.enableSoundshare()},disabled:o!==se.rtk.NOT_ENABLED,children:q.Z.Messages.USER_SETTINGS_VOICE_INSTALL_LABEL})})}),(0,I.jsx)(C.FormDivider,{className:Pe().marginBottom20})]})]}):null}var AP=n(579581),CP=n(535312),jP=n(597246),xP=n(359721),PP=n(761012),RP=n(785289),MP=n.n(RP);function DP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function LP(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,
writable:!0}):e[t]=n;return e}function ZP(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function wP(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done);s=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){a=!0;o=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return DP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DP(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var UP=387,BP=218;function GP(e){var t=e.previewEnabled,n=e.onEnablePreview,o=oe.Z.getCameraComponent(),i=wP(c.useState((0,CP.P)(d.default.getCurrentUser())),2),s=i[0],a=i[1],l=c.useRef(!1),f=c.useRef(s),p=(0,AP.O)(),m=(0,r.e7)([oe.Z],(function(){return Object.values(oe.Z.getVideoDevices()).length>0}));c.useEffect((function(){return function(){l.current&&u.Z.wait((function(){return(0,jP.Up)(f.current)}))}}),[]);return(0,I.jsx)(PP.Z,{selectedBackgroundOption:s,onSelectBackgroundOption:function(e){l.current=!0;f.current=e;a(e);(0,xP.wG)(e,{location:p.location}).catch(se.dG4)},renderCamera:function(e){return t?(0,I.jsx)("div",{
className:MP().cameraWrapper,children:(0,I.jsxs)("div",{className:MP().camera,children:[(0,I.jsx)(o,{deviceId:e,width:UP,height:BP,disabled:!t}),(0,I.jsx)(PP.S,{})]})}):(0,I.jsxs)("div",{className:MP().cameraWrapper,children:[(0,I.jsx)("div",{className:MP().previewImage}),(0,I.jsx)(C.Tooltip,{text:m?null:q.Z.Messages.CAMERA_UNAVAILABLE,children:function(e){return(0,I.jsx)(C.Button,ZP(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){LP(e,t,n[t])}))}return e}({},e),{onClick:n,disabled:!m,children:q.Z.Messages.TEST_VIDEO}))}})]})}})}function kP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function FP(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done);s=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){a=!0;o=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return kP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kP(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function HP(){return(0,I.jsx)(C.FormNotice,{type:C.CardTypes.PRIMARY,title:q.Z.Messages.VIDEO_UNSUPPORTED_BROWSER_TITLE,body:q.Z.Messages.VIDEO_UNSUPPORTED_BROWSER_BODY,button:(0,I.jsx)(C.Button,{
size:C.Button.Sizes.SMALL,className:Pe().marginTop20,onClick:function(){return iP("Video unsupported browser")},children:q.Z.Messages.DOWNLOAD_APP})})}function YP(){var e=(0,r.e7)([oe.Z],(function(){return oe.Z.supports(iu.AN.VIDEO)})),t=FP(c.useState(!1),2),n=t[0],o=t[1];return(0,I.jsxs)("div",{children:[(0,I.jsx)(C.HeadingLevel,{component:(0,I.jsx)(C.FormTitle,{tag:C.FormTitleTags.H1,className:Pe().marginBottom20,children:q.Z.Messages.VIDEO_SETTINGS}),children:e?(0,I.jsx)(GP,{previewEnabled:n,onEnablePreview:function(){return o(!0)}}):(0,I.jsx)(HP,{})}),(0,I.jsx)(C.FormDivider,{className:B()(Pe().marginBottom40,Pe().marginTop40)})]})}var VP,WP=n(235920),zP=n(200824),KP=(0,_n.hQ)();!function(e){e[e.NONE=0]="NONE";e[e.STANDARD=1]="STANDARD";e[e.KRISP=2]="KRISP"}(VP||(VP={}));var QP={page:se.ZY5.USER_SETTINGS,section:se.jXE.SETTINGS_VOICE_AND_VIDEO};function qP(e){var t=e.currentTarget;to.default.track(se.rMx.NOISE_CANCELLATION_LINK_CLICKED,{text:t.text,href:t.href,location:{
page:se.ZY5.USER_SETTINGS,section:se.jXE.SETTINGS_VOICE_AND_VIDEO}})}function XP(){var e=(0,r.e7)([Tp.Z],(function(){return Tp.Z.theme})),t=(0,r.cj)([oe.Z],(function(){return{noiseCancellation:oe.Z.getNoiseCancellation(),noiseSuppression:oe.Z.getNoiseSuppression(),noiseSuppressionSupported:oe.Z.isNoiseSuppressionSupported(),noiseCancellationSupported:oe.Z.isNoiseCancellationSupported()}})),n=t.noiseCancellation,o=t.noiseSuppression,i=t.noiseSuppressionSupported,s=t.noiseCancellationSupported;if(!i&&!s)return null;var a=o?VP.STANDARD:VP.NONE,l=n?VP.KRISP:a,c=[];s&&c.push({name:q.Z.Messages.USER_SETTINGS_NOISE_CANCELLATION_KRISP,value:VP.KRISP});i&&c.push({name:q.Z.Messages.USER_SETTINGS_NOISE_CANCELLATION_STANDARD,value:VP.STANDARD});c.push({name:q.Z.Messages.USER_SETTINGS_NOISE_CANCELLATION_DISABLED,value:VP.NONE});return(0,I.jsxs)(C.FormSection,{className:Pe().marginBottom20,children:[(0,I.jsx)(C.FormTitle,{id:KP,tag:C.FormTitleTags.H3,className:Pe().marginBottom8,
children:q.Z.Messages.NOISE_SUPPRESSION}),(0,I.jsx)(C.FormText,{type:C.FormText.Types.DESCRIPTION,className:Pe().marginBottom8,children:q.Z.Messages.USER_SETTINGS_NOISE_CANCELLATION_DESCRIPTION}),(0,I.jsx)(C.RadioGroup,{options:c,onChange:function(e){ix.Z.setNoiseCancellation(e.value===VP.KRISP,QP);ix.Z.setNoiseSuppression(e.value===VP.STANDARD,QP)},value:l}),s&&(0,I.jsx)(C.FormNotice,{className:Pe().marginBottom8,type:C.FormNoticeTypes.PRIMARY,imageData:{src:(0,ip.ap)(e)?WP:zP,width:70,height:40},align:Ne.Z.Align.CENTER,body:(0,I.jsx)(C.Anchor,{href:$s.Z.getArticleURL(se.BhN.NOISE_SUPPRESSION),onClick:qP,children:q.Z.Messages.LEARN_MORE})}),(0,I.jsx)(C.FormDivider,{})]})}function $P(){var e=(0,r.cj)([oe.Z],(function(){return{inputMode:oe.Z.getMode(),inputDeviceId:oe.Z.getInputDeviceId(),echoCancellation:oe.Z.getEchoCancellation(),automaticGainControl:oe.Z.getAutomaticGainControl(),vadAutoThreshold:oe.Z.getModeOptions().autoThreshold,vadUseKrisp:oe.Z.getModeOptions().vadUseKrisp,
advancedVoiceActivitySupported:oe.Z.isAdvancedVoiceActivitySupported(),automaticGainControlSupported:oe.Z.isAutomaticGainControlSupported()}})),t=e.inputMode,n=e.inputDeviceId,o=e.echoCancellation,i=e.automaticGainControl,s=e.vadAutoThreshold,a=e.vadUseKrisp,l=e.advancedVoiceActivitySupported,c=e.automaticGainControlSupported,u=(0,r.cj)([eP.Z],(function(){return{hasEchoCancellation:eP.Z.hasEchoCancellation(n),hasNoiseSuppression:eP.Z.hasNoiseSuppression(n),hasAutomaticGainControl:eP.Z.hasAutomaticGainControl(n)}}),[n]),d=u.hasEchoCancellation,f=u.hasNoiseSuppression,p=u.hasAutomaticGainControl,m=d||f||p,h=t===se.pM4.VOICE_ACTIVITY&&s;return(0,I.jsxs)(C.FormSection,{className:Pe().marginBottom20,title:q.Z.Messages.FORM_LABEL_VOICE_PROCESSING,children:[m&&(0,I.jsx)(C.FormText,{className:Pe().marginBottom20,type:C.FormText.Types.DESCRIPTION,children:q.Z.Messages.FORM_HELP_CERTIFIED_VOICE_PROCESSING}),(0,I.jsx)(C.FormSwitch,{className:B()(Pe().marginTop8,Pe().marginBottom20),value:o,
onChange:function(e){return ix.Z.setEchoCancellation(e,{page:se.ZY5.USER_SETTINGS,section:se.jXE.SETTINGS_VOICE_AND_VIDEO})},disabled:d,children:q.Z.Messages.ECHO_CANCELLATION}),(0,I.jsx)(XP,{}),l&&(0,I.jsx)(C.FormSwitch,{value:a,onChange:function(e){return ix.Z.setMode(t,{vadUseKrisp:e})},note:q.Z.Messages.USER_SETTINGS_DISABLE_ADVANCED_VOICE_ACTIVITY,disabled:!h,children:q.Z.Messages.ADVANCED_VOICE_ACTIVITY}),c&&(0,I.jsx)(C.FormSwitch,{className:"",value:i,onChange:function(e){return ix.Z.setAutomaticGainControl(e,{page:se.ZY5.USER_SETTINGS,section:se.jXE.SETTINGS_VOICE_AND_VIDEO})},disabled:p,children:q.Z.Messages.AUTOMATIC_GAIN_CONTROL})]})}var JP=n(873985),eR=n.n(JP);function tR(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function nR(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function rR(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done);s=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){a=!0;o=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return tR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tR(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var oR=(0,_n.hQ)();function iR(){var e=function(e,t){i(e);l((t&iu.Dg.VOICE)===iu.Dg.VOICE)},t=function(e,t){ix.Z.setMode(m,{threshold:e,autoThreshold:t})
},n=rR(c.useState(-100),2),o=n[0],i=n[1],s=rR(c.useState(!1),2),a=s[0],l=s[1],u=(0,r.cj)([oe.Z],(function(){return oe.Z.getModeOptions()})),d=u.threshold,f=u.autoThreshold,p=(0,r.cj)([oe.Z],(function(){return{inputMode:oe.Z.getMode(),automaticVADSupported:oe.Z.supports(iu.AN.AUTOMATIC_VAD),isEnabled:oe.Z.isEnabled()}})),m=p.inputMode,h=p.automaticVADSupported,E=p.isEnabled;c.useEffect((function(){var t=new qb.V7;t.start(1e3,(function(){oe.Z.getMediaEngine().on(Wc.aB.VoiceActivity,e);t.stop()}));return function(){oe.Z.getMediaEngine().removeListener(Wc.aB.VoiceActivity,e);t.stop()}}),[]);var S=(0,I.jsx)("section",{className:B()(eR().inputSensitivityToggle,eR().manual),children:(0,I.jsx)(C.Slider,{initialValue:d+100,onValueRender:function(e){return"".concat((-1*(100-e)).toFixed(0),"dB")},onValueChange:function(e){return t(-1*(100-e),f)},barStyles:{background:A.Z.unsafe_rawColors.GREEN_360.css},fillStyles:{background:A.Z.unsafe_rawColors.YELLOW_300.css},"aria-labelledby":oR,children:(0,
I.jsxs)("div",{className:B()(eR().sliderBar,eR().microphone,eR().inputSensitivityBar),children:[(0,I.jsx)("div",{className:B()(eR().fill,eR().inputSensitivityBarFill),style:{width:o+100+"%"}}),(0,I.jsx)("div",{className:"grow"})]})})});f&&(S=(0,I.jsxs)("section",{className:eR().inputSensitivityToggle,children:[(0,I.jsx)("div",{className:eR().inputSensitivitySlider,children:(0,I.jsx)("div",{className:B()(eR().inputSensitivityBar,eR().sliderBar,nR({},eR().speaking,a))})}),(0,I.jsx)(C.FormText,{type:C.FormText.Types.DESCRIPTION,className:Pe().marginBottom8,children:q.Z.Messages.FORM_HELP_AUTOMATIC_VAD})]}));return(0,I.jsxs)(C.FormItem,{className:eR().sensitivity,children:[(0,I.jsx)(C.FormTitle,{id:oR,tag:C.FormTitleTags.H5,className:Pe().marginBottom8,children:q.Z.Messages.FORM_LABEL_INPUT_SENSITIVTY}),(0,I.jsxs)("div",{children:[h&&(0,I.jsx)(_n.FG,{children:function(e){return(0,I.jsxs)("div",{className:B()(CT().horizontal,Pe().marginBottom4),children:[(0,I.jsx)(C.FormTitle,{
tag:C.FormTitleTags.H3,className:Pe().marginReset,children:(0,I.jsx)("label",{htmlFor:e,children:q.Z.Messages.FORM_LABEL_AUTOMATIC_VAD})}),(0,I.jsx)(C.Switch,{id:e,checked:f,onChange:function(e){return t(d,e)}})]})}}),S]}),!E&&(0,I.jsx)(C.FormText,{type:C.FormText.Types.DESCRIPTION,className:B()(eR().inputDisabledWarning,Pe().marginBottom8),children:q.Z.Messages.FORM_WARNING_INPUT_SENSITIVTY.format({onEnableClick:ix.Z.enable})})]})}var sR=(0,_n.hQ)(),aR=(0,_n.hQ)();function lR(){var e=(0,r.cj)([oe.Z],(function(){return{inputVolume:oe.Z.getInputVolume(),outputVolume:oe.Z.getOutputVolume()}})),t=e.inputVolume,n=e.outputVolume;return(0,I.jsxs)(Ne.Z,{className:"volume",children:[(0,I.jsxs)(Ne.Z.Child,{basis:"50%",children:[(0,I.jsx)(C.FormTitle,{id:sR,tag:C.FormTitleTags.H5,className:Pe().marginBottom4,children:q.Z.Messages.FORM_LABEL_INPUT_VOLUME}),(0,I.jsx)(C.Slider,{initialValue:(0,bx.P)(t),asValueChanges:function(e){return ix.Z.setInputVolume((0,bx.A)(e))},"aria-labelledby":sR})]}),(0,
I.jsxs)(Ne.Z.Child,{basis:"50%",children:[(0,I.jsx)(C.FormTitle,{id:aR,tag:C.FormTitleTags.H5,className:Pe().marginBottom4,children:q.Z.Messages.FORM_LABEL_OUTPUT_VOLUME}),(0,I.jsx)(C.Slider,{initialValue:(0,bx.P)(n),maxValue:200,onValueRender:function(e){return"".concat(e.toFixed(0),"%")},asValueChanges:function(e){return ix.Z.setOutputVolume((0,bx.A)(e))},"aria-labelledby":aR})]})]})}function cR(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function uR(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var dR=(0,
_n.hQ)(),fR="".concat($s.Z.getArticleURL(se.BhN.VOICE_VIDEO_TROUBLESHOOTING),"?utm_source=discord&utm_medium=blog&utm_campaign=2020-06_help-voice-video&utm_content=--t%3Apm");function pR(e,t){var n=[{value:iu.iA.STANDARD,label:"Standard"}];e&&n.push({value:iu.iA.LEGACY,label:"Legacy"});t&&n.push({value:iu.iA.EXPERIMENTAL,label:"Experimental"});return n}function mR(e,t,n){(0,C.openModal)((function(r){return(0,I.jsx)(C.ConfirmModal,uR(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){cR(e,t,n[t])}))}return e}({header:e,confirmText:q.Z.Messages.OKAY,cancelText:q.Z.Messages.CANCEL,onConfirm:n},r),{children:(0,I.jsx)(C.Text,{variant:"text-md/normal",children:t})}))}))}function hR(){var e,t=(0,r.cj)([oe.Z],(function(){return{
inputMode:oe.Z.getMode(),qosEnabled:oe.Z.getQoS(),attenuation:oe.Z.getAttenuation(),attenuateWhileSpeakingSelf:oe.Z.getAttenuateWhileSpeakingSelf(),attenuateWhileSpeakingOthers:oe.Z.getAttenuateWhileSpeakingOthers(),audioSubsystem:oe.Z.getAudioSubsystem(),silenceWarning:oe.Z.getEnableSilenceWarning(),debugLoggingEnabled:oe.Z.supports(iu.AN.DEBUG_LOGGING),legacyAudioSubsystemSupported:oe.Z.supports(iu.AN.LEGACY_AUDIO_SUBSYSTEM),experimentalAudioSubsystemSupported:oe.Z.supports(iu.AN.EXPERIMENTAL_AUDIO_SUBSYSTEM),qosSupported:oe.Z.supports(iu.AN.QOS),attenuationSupported:oe.Z.supports(iu.AN.ATTENUATION)}})),n=t.inputMode,o=t.qosEnabled,i=t.attenuation,s=t.attenuateWhileSpeakingSelf,a=t.attenuateWhileSpeakingOthers,l=t.audioSubsystem,c=t.silenceWarning,u=t.debugLoggingEnabled,d=t.legacyAudioSubsystemSupported,f=t.experimentalAudioSubsystemSupported,p=t.qosSupported,m=t.attenuationSupported,h=(e=sx.useExperiment({},{autoTrackExposure:!0
})).enabled&&e.entry_sounds_enabled,E=Kc.FB&&u&&null!=me.Z.fileManager.readLogFiles;return(0,I.jsxs)(C.FormSection,{tag:C.FormTitleTags.H1,title:q.Z.Messages.VOICE_SETTINGS,children:[(0,I.jsx)(lP,{}),(0,I.jsx)(lR,{}),(0,I.jsx)(IP,{}),(0,I.jsx)(C.FormText,{className:Pe().marginBottom20,type:C.FormText.Types.DESCRIPTION,children:q.Z.Messages.FORM_HELP_VOICE_VIDEO_TROUBLESHOOTING_GUIDE.format({guideURL:fR})}),(0,I.jsx)(C.FormDivider,{className:B()(Pe().marginBottom20)}),h?null:(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(Nx,{}),(0,I.jsx)(C.FormDivider,{className:B()(Pe().marginBottom40)})]}),(0,I.jsx)(TP,{}),n===iu.pM.VOICE_ACTIVITY&&(0,I.jsx)(iR,{}),(0,I.jsx)(C.FormDivider,{className:Pe().marginBottom40}),h?(0,I.jsx)(Px,{}):null,(0,I.jsx)(YP,{}),(0,I.jsxs)(C.HeadingLevel,{component:(0,I.jsx)(C.FormTitle,{tag:C.FormTitleTags.H1,className:Pe().marginBottom20,children:q.Z.Messages.SETTINGS_ADVANCED}),children:[(0,I.jsx)(Zx,{}),(0,I.jsx)($P,{}),p&&(0,I.jsx)(C.FormSection,{
className:Pe().marginBottom20,title:q.Z.Messages.FORM_LABEL_QOS,children:(0,I.jsx)(C.FormSwitch,{value:o,onChange:function(e){return ix.Z.setQoS(e)},note:q.Z.Messages.FORM_HELP_QOS,children:q.Z.Messages.FORM_CHECKBOX_QOS})}),m&&(0,I.jsxs)(C.FormSection,{className:Pe().marginBottom20,children:[(0,I.jsx)(C.FormTitle,{id:dR,tag:C.FormTitleTags.H5,className:Pe().marginBottom8,children:q.Z.Messages.FORM_LABEL_ATTENUATION}),(0,I.jsx)(C.Slider,{initialValue:i,onValueChange:function(e){ix.Z.setAttenuation(e,s,a)},"aria-labelledby":dR}),(0,I.jsx)(C.FormText,{className:Pe().marginBottom20,type:C.FormText.Types.DESCRIPTION,children:q.Z.Messages.FORM_HELP_ATTENUATION}),(0,I.jsx)(C.FormDivider,{className:Pe().marginBottom20}),(0,I.jsx)(C.FormSwitch,{value:s,onChange:function(e){return ix.Z.setAttenuation(i,e,a)},children:q.Z.Messages.ATTENUATE_WHILE_SPEAKING_SELF}),(0,I.jsx)(C.FormSwitch,{value:a,onChange:function(e){return ix.Z.setAttenuation(i,s,e)},
children:q.Z.Messages.ATTENUATE_WHILE_SPEAKING_OTHERS})]}),(d||f)&&(0,I.jsxs)(C.FormSection,{className:Pe().marginBottom20,title:q.Z.Messages.FORM_LABEL_SUBSYSTEM,children:[(0,I.jsx)(C.SingleSelect,{className:Pe().marginBottom20,value:l,options:pR(d,f),onChange:function(e){mR(q.Z.Messages.SWITCH_SUBSYSTEM,q.Z.Messages.SWITCH_SUBSYSTEM_BODY,(function(){return ix.Z.setAudioSubsystem(e)}))}}),(0,I.jsx)(C.FormDivider,{className:Pe().marginBottom20})]}),Kc.FB&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(NP,{}),(0,I.jsx)(C.FormSection,{className:Pe().marginBottom20,title:q.Z.Messages.FORM_LABEL_VOICE_DIAGNOSTICS,children:(0,I.jsx)(C.FormSwitch,{value:c,onChange:function(e){return ix.Z.setSilenceWarning(e)},children:q.Z.Messages.DISPLAY_SILENCE_WARNING})})]}),E&&(0,I.jsx)(Jx,{}),(0,I.jsx)(C.FormItem,{children:(0,I.jsx)(C.Button,{look:C.Button.Looks.OUTLINED,color:C.Button.Colors.RED,onClick:function(){mR(q.Z.Messages.RESET_VOICE_SETTINGS,q.Z.Messages.RESET_VOICE_SETTINGS_BODY,ix.Z.reset)},
size:C.Button.Sizes.SMALL,children:q.Z.Messages.RESET_VOICE_SETTINGS})})]})]})}var ER=n(143307),SR=n.n(ER);function gR(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function _R(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var TR=Fj;function OR(e){var t=e.unseenGiftCount,r=e.showPrepaidPaymentPastDueWarning,o=e.canUseAvatarDecorations,i=e.impressionSource,s=e.clipsEnabled,a=void 0!==s&&s,l=e.familyCenterExperimentEnabled,c=void 0!==l&&l,d=e.numOfPendingFamilyRequests,f=[{section:R.ID.HEADER,label:q.Z.Messages.USER_SETTINGS},{
section:se.oAB.ACCOUNT,label:q.Z.Messages.USER_SETTINGS_MY_ACCOUNT,ariaLabel:q.Z.Messages.USER_SETTINGS_MY_ACCOUNT,element:hh},{section:se.oAB.PROFILE_CUSTOMIZATION,type:R.bT.WIDE,label:q.Z.Messages.USER_SETTINGS_PROFILES,ariaLabel:q.Z.Messages.USER_SETTINGS_PROFILES,element:Cc,notice:{stores:[Do.Z,Be.Z],element:Fo},onSettingsClose:function(){u.Z.wait((function(){(0,Ue.It)();(0,x.P6)();P.Z.clearSubsection(se.oAB.PROFILE_CUSTOMIZATION)}))},newIndicator:(0,I.jsx)(On.F8,{text:q.Z.Messages.NEW}),newIndicatorDismissibleContentTypes:o?[N.z$.AVATAR_DECORATIONS_BIRTHDAY_2023_SETTINGS_NEW_BADGE]:null},{section:se.oAB.PRIVACY_AND_SAFETY,label:q.Z.Messages.PRIVACY_AND_SAFETY,element:PC},{section:se.oAB.FAMILY_CENTER,label:q.Z.Messages.FAMILY_CENTER_SETTINGS_TITLE,ariaLabel:q.Z.Messages.FAMILY_CENTER_SETTINGS_TITLE,element:dT,predicate:function(){return c},badgeCount:d,newIndicator:(0,I.jsx)(On.IG,{text:q.Z.Messages.NEW,color:be.Z.REDESIGN_BUTTON_PRIMARY_BACKGROUND}),
newIndicatorDismissibleContentTypes:[N.z$.FAMILY_CENTER_NEW_BADGE]},{section:se.oAB.AUTHORIZED_APPS,label:q.Z.Messages.AUTHORIZED_APPS,element:QE},{section:se.oAB.SESSIONS,label:q.Z.Messages.AUTH_SESSIONS,ariaLabel:q.Z.Messages.AUTH_SESSIONS,element:hj,newIndicatorDismissibleContentTypes:[N.z$.AUTH_SESSIONS_NEW],predicate:function(){return Ku.getCurrentConfig({},{autoTrackExposure:!1}).showSettings}},{section:se.oAB.CONNECTIONS,label:q.Z.Messages.CONNECTIONS,ariaLabel:q.Z.Messages.CONNECTIONS,element:t_,impressionName:v.zs.USER_SETTINGS_CONNECTIONS,impressionProperties:{source:i},newIndicatorDismissibleContentTypes:[N.z$.NEW_CRUNCHYROLL_CONNECTION]},{section:se.oAB.CLIPS,label:q.Z.Messages.CLIPS,ariaLabel:q.Z.Messages.CLIPS,icon:(0,I.jsx)(we.Z,{}),element:Oe,predicate:function(){return a}},{section:se.oAB.FRIEND_REQUESTS,label:q.Z.Messages.FRIEND_REQUESTS,element:mT},{section:R.ID.DIVIDER},{section:R.ID.HEADER,label:q.Z.Messages.BILLING_SETTINGS},{section:se.oAB.PREMIUM,
ariaLabel:q.Z.Messages.PREMIUM,label:q.Z.Messages.PREMIUM,element:Ft.Z,className:SR().premiumTab},{section:se.oAB.GUILD_BOOSTING,label:q.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_TITLE,element:cC},{section:se.oAB.SUBSCRIPTIONS,ariaLabel:q.Z.Messages.SUBSCRIPTIONS_TITLE,label:q.Z.Messages.SUBSCRIPTIONS_TITLE,element:Io,icon:r?(0,I.jsx)(Wu.Z,{width:16,height:16,color:A.Z.unsafe_rawColors.YELLOW_300.css}):null},{section:se.oAB.INVENTORY,label:q.Z.Messages.GIFT_INVENTORY,element:sI,ariaLabel:q.Z.Messages.GIFT_INVENTORY,badgeCount:t},{section:se.oAB.BILLING,label:q.Z.Messages.BILLING,element:gg},{section:R.ID.DIVIDER},{section:R.ID.HEADER,label:q.Z.Messages.APP_SETTINGS},{section:se.oAB.APPEARANCE,label:q.Z.Messages.APPEARANCE,ariaLabel:q.Z.Messages.APPEARANCE,element:xE,newIndicatorDismissibleContentTypes:[N.z$.CLIENT_THEMES_SETTINGS_BADGE]},{section:se.oAB.ACCESSIBILITY,label:q.Z.Messages.ACCESSIBILITY,element:Kf},{section:se.oAB.VOICE,label:q.Z.Messages.VOICE_AND_VIDEO,element:hR,
predicate:function(){return oe.Z.isSupported()}},{section:se.oAB.POGGERMODE,label:q.Z.Messages.POGGERMODE,ariaLabel:q.Z.Messages.POGGERMODE,element:kt,predicate:function(){return Ge.Z.settingsVisible},icon:(0,I.jsx)("img",{alt:"",src:n(20278),className:SR().poggermodeIcon})},{section:se.oAB.TEXT,label:q.Z.Messages.TEXT_AND_IMAGES,element:yj},{section:se.oAB.NOTIFICATIONS,label:q.Z.Messages.NOTIFICATIONS,element:Sv},{section:se.oAB.KEYBINDS,label:q.Z.Messages.KEYBINDS,element:xI},{section:se.oAB.LOCALE,label:q.Z.Messages.LANGUAGE,element:UI},{section:se.oAB.WINDOWS,label:q.Z.Messages.USER_SETTINGS_WINDOWS_SETTINGS,element:Fj,predicate:function(){return Kc.FB&&(0,Kc.ED)()}},{section:se.oAB.LINUX,label:q.Z.Messages.USER_SETTINGS_LINUX_SETTINGS,element:TR,predicate:function(){return Kc.FB&&(0,Kc.IJ)()}},{section:se.oAB.STREAMER_MODE,label:q.Z.Messages.STREAMER_MODE,element:bj},{section:se.oAB.SPEED_TEST,label:"Speed Test",element:df,predicate:function(){
return Fu.isSupported()&&Qu.getCurrentConfig({}).showSettings}},{section:se.oAB.ADVANCED,label:q.Z.Messages.SETTINGS_ADVANCED,element:qh},{section:R.ID.DIVIDER},{section:R.ID.HEADER,label:q.Z.Messages.ACTIVITY_SETTINGS},{section:se.oAB.ACTIVITY_PRIVACY,label:q.Z.Messages.ACTIVITY_PRIVACY,element:vh},{section:se.oAB.REGISTERED_GAMES,label:q.Z.Messages.REGISTERED_GAMES,element:HT},{section:se.oAB.OVERLAY,label:q.Z.Messages.OVERLAY,element:Lv,predicate:function(){return Yu.Z.isSupported()||!1}},{section:R.ID.DIVIDER},{section:"changelog",onClick:function(){return(0,M.Z)(!0)},label:q.Z.Messages.WHATS_NEW},{section:se.oAB.HYPESQUAD_ONLINE,label:q.Z.Messages.USER_SETTINGS_HYPESQUAD,element:Eb},{section:se.oAB.EXPERIMENTS,label:"Experiments",element:ox,predicate:function(){return Hu.Z.isDeveloper}},{section:se.oAB.DEVELOPER_OPTIONS,label:"Developer Options",element:cT,predicate:function(){return Hu.Z.isDeveloper}},{section:se.oAB.HOTSPOT_OPTIONS,label:"Hotspot Options",element:cd,
predicate:function(){return Hu.Z.isDeveloper}},{section:se.oAB.DISMISSIBLE_CONTENT_OPTIONS,label:"Dismissible Contents",element:Ze,predicate:function(){return Hu.Z.isDeveloper}},{section:se.oAB.PAYMENT_FLOW_MODAL_TEST_PAGE,label:"Payment Flow Modals",element:Zd,predicate:function(){return Hu.Z.isDeveloper}},{section:se.oAB.TEXT_PLAYGROUND,label:"Text Playground",element:Mj,predicate:function(){return Sf()||Hu.Z.isDeveloper}},{section:se.oAB.TEXT_COMPONENT,label:"Text Components",element:hf,predicate:function(){return Sf()||Hu.Z.isDeveloper}},{section:R.ID.DIVIDER},{section:"logout",onClick:function(){(0,C.openModal)((function(e){return(0,I.jsx)(C.ConfirmModal,_R(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){gR(e,t,n[t])}))}return e}({
header:q.Z.Messages.LOGOUT,confirmText:q.Z.Messages.LOGOUT,cancelText:q.Z.Messages.CANCEL,onCancel:e.onClose,onConfirm:function(){return j.Z.logout()}},e),{children:(0,I.jsx)(C.Text,{variant:"text-md/normal",children:q.Z.Messages.USER_SETTINGS_CONFIRM_LOGOUT})}))}))},label:q.Z.Messages.LOGOUT,ariaLabel:q.Z.Messages.LOGOUT,icon:(0,I.jsx)(Vu.Z,{width:16,height:16})},{section:R.ID.DIVIDER},{section:R.ID.CUSTOM,element:Jd},{section:R.ID.CUSTOM,element:ed}];return f}function bR(){var e,t,n,u=(e=(0,r.e7)([E.Z],(function(){return E.Z.lastSeenOutboundPromotionStartDate})),t=(0,p._O)(),n=b(),c.useMemo((function(){if(null==e)return t?n.filter((function(e){return(0,m.Nw)(e)})):n;var r=n.filter((function(t){var n=t.startDate;return new Date(n)>new Date(e)}));return t?r.filter((function(e){return(0,m.Nw)(e)})):r}),[n,e,t])).length,d=(0,l.U)(),f=(0,i.U)().canUseAvatarDecorations;return OR({unseenGiftCount:u,clipsEnabled:(0,s.G)(),showPrepaidPaymentPastDueWarning:d,canUseAvatarDecorations:f,
impressionSource:(0,r.e7)([y.Z],(function(){return y.Z.getProps().impressionSource})),familyCenterExperimentEnabled:(0,o.R_)(),numOfPendingFamilyRequests:(0,a.TQ)()})}},319463:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(785893),o=(n(667294),n(633878));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function s(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function a(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r]
;t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function l(e){var t=e.width,n=void 0===t?16:t,l=e.height,c=void 0===l?16:l,u=e.color,d=void 0===u?"currentColor":u,f=e.className,p=e.foreground,m=a(e,["width","height","color","className","foreground"]);return(0,r.jsx)("svg",s(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({className:f,width:n,height:c,viewBox:"0 0 16 16"},(0,o.Z)(m)),{children:(0,r.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,r.jsx)("path",{className:p,fill:d,
d:"M0,1.99406028 C0,0.892771196 0.894513756,0 1.99406028,0 L14.0059397,0 C15.1072288,0 16,0.894513756 16,1.99406028 L16,14.0059397 C16,15.1072288 15.1054862,16 14.0059397,16 L1.99406028,16 C0.892771196,16 0,15.1054862 0,14.0059397 L0,1.99406028 Z M8.23182341,16 L10.3991764,16 L10.3991764,9.93141161 L12.5663127,9.93141161 L13,7.76405862 L10.3991764,7.76405862 L10.3246195,6.3468265 C10.3246195,5.66107601 10.5049432,5.17342158 11.4698488,5.17342158 L12.974642,5.17385505 L12.974642,3.12202197 C12.7618079,3.09319618 12.3142495,3 11.4644304,3 C9.69001851,3 8.18500859,4.20353112 8.18500859,6.23043964 L8.23182341,7.76405862 L6.06425368,7.76405862 L6.06425368,9.93141161 L8.23182341,9.93141161 L8.23182341,16 Z"}),(0,r.jsx)("rect",{width:"16",height:"16"})]})}))}},750349:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(785893),o=(n(667294),n(633878));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function s(e,t){
t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function a(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function l(e){
var t=e.width,n=void 0===t?16:t,l=e.height,c=void 0===l?16:l,u=e.color,d=void 0===u?"currentColor":u,f=e.className,p=e.foreground,m=a(e,["width","height","color","className","foreground"]);return(0,r.jsx)("svg",s(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({className:f,xmlns:"http://www.w3.org/2000/svg",width:n,height:c,viewBox:"0 0 16 16"},(0,o.Z)(m)),{children:(0,r.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,r.jsx)("path",{className:p,fill:d,
d:"M4.70012698,0.0531746 C3.84888888,0.092 3.2675238,0.22720635 2.7588254,0.42492063 C2.23292063,0.62926983 1.78692063,0.90273016 1.3422857,1.34733333 C0.89768254,1.79196825 0.62422222,2.23796825 0.41987302,2.76387303 C0.22215872,3.27257143 0.08695238,3.85393651 0.04812698,4.7051746 C0.00920635,5.55819048 0,5.83053968 0,8.00253968 C0,10.1745079 0.00920635,10.4468571 0.04812698,11.299873 C0.08695238,12.1511111 0.22215873,12.7324762 0.41987302,13.2411746 C0.62422222,13.7670794 0.89768254,14.2130794 1.34228572,14.6577143 C1.78692062,15.1023175 2.23292062,15.3757778 2.7588254,15.5801587 C3.2675238,15.7778413 3.8488889,15.9130476 4.70012698,15.951873 C5.55314286,15.9907937 5.82549206,16 7.99749206,16 C10.1694603,16 10.4418095,15.9907937 11.2948254,15.951873 C12.1460635,15.9130476 12.7274286,15.7778413 13.236127,15.5801587 C13.7620317,15.3757778 14.2080317,15.1023175 14.6526667,14.6577143 C15.0972698,14.2130794 15.3707302,13.7670794 15.5751111,13.2411746 C15.7727937,12.7324762 15.908,12.1511111 15.9468254,11.299873 C15.985746,10.4468571 15.9949524,10.1745079 15.9949524,8.00253968 C15.9949524,5.83053968 15.985746,5.55819048 15.9468254,4.7051746 C15.908,3.8539365 15.7727937,3.27257143 15.5751111,2.76387302 C15.3707302,2.23796825 15.0972698,1.79196825 14.6526667,1.34733332 C14.2080317,0.90273016 13.7620317,0.62926984 13.236127,0.42492064 C12.7274286,0.22720634 12.1460635,0.092 11.2948254,0.0531746 C10.4418095,0.01425397 10.1694603,0.00504762 7.99749206,0.00504762 C5.82549206,0.00504762 5.55314286,0.01425397 4.70012698,0.0531746 L4.70012698,0.0531746 Z M8.00001453,2.00504762 C9.95416635,2.00504762 10.185649,2.01251386 10.9573741,2.04772432 C11.6709381,2.08026206 12.0584565,2.19948958 12.3163471,2.29971739 C12.6579641,2.43248289 12.9017646,2.59107525 13.157854,2.84719363 C13.4139723,3.10328295 13.5725647,3.34708347 13.7053302,3.68870053 C13.805558,3.94659105 13.9247856,4.33410953 13.9573233,5.04767346 C13.9925338,5.8193986 14,6.05088127 14,8.00506213 C14,9.95921396 13.9925338,10.1906966 13.9573233,10.9624217 C13.9247856,11.6759857 13.805558,12.0635042 13.7053302,12.3213947 C13.5725647,12.6630117 13.4139723,12.9068123 13.157854,13.1629016 C12.9017646,13.41902 12.6579641,13.5776123 12.3163471,13.7103779 C12.0584565,13.8106057 11.6709381,13.9298332 10.9573741,13.9623709 C10.1857652,13.9975814 9.9543116,14.0050476 8.00001453,14.0050476 C6.04568839,14.0050476 5.81426383,13.9975814 5.04262587,13.9623709 C4.32906195,13.9298332 3.94154347,13.8106057 3.68365294,13.7103779 C3.34203588,13.5776123 3.09823536,13.41902 2.84214604,13.1629016 C2.58605671,12.9068123 2.42743531,12.6630117 2.29466977,12.3213947 C2.19444197,12.0635042 2.07521444,11.6759857 2.04267671,10.9624217 C2.00746628,10.1906966 2,9.95921395 2,8.00506212 C2,6.05088125 2.00746625,5.81939858 2.0426767,5.04767347 C2.07521444,4.33410953 2.19444196,3.94659104 2.29466977,3.68870052 C2.42743531,3.34708346 2.58602767,3.10328294 2.84214604,2.84719362 C3.09823536,2.59107524 3.34203588,2.43248288 3.68365294,2.29971735 C3.94154346,2.19948953 4.32906194,2.08026201 5.04262587,2.04772428 C5.81435097,2.01251381 6.04583365,2.00504758 8.00001453,2.00504758 L8.00001453,2.00504762 Z"
}),(0,r.jsx)("path",{className:p,fill:d,d:"M8.0000119,10 C6.89542535,10 6,9.10457466 6,8.0000119 C6,6.89542535 6.89542534,6 8.0000119,6 C9.10457467,6 10,6.89542534 10,8.0000119 C10,9.10457467 9.10457466,10 8.0000119,10 L8.0000119,10 Z M8.00001546,4 C5.7908468,4 4,5.7908468 4,8.00001546 C4,10.2091532 5.7908468,12 8.00001546,12 C10.2091532,12 12,10.2091532 12,8.00001546 C12,5.7908468 10.2091532,4 8.00001546,4 L8.00001546,4 Z M13,4.00001654 C13,4.55230644 12.5522734,5 11.9999835,5 C11.4477266,5 11,4.55230645 11,4.00001654 C11,3.44772664 11.4477266,3 11.9999835,3 C12.5522734,3 13,3.44772663 13,4.00001654 L13,4.00001654 Z"}),(0,r.jsx)("rect",{width:"16",height:"16"})]})}))}},630395:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var r=n(785893),o=n(667294),i=n(294184),s=n.n(i),a=n(945460),l=n(778613),c=n(2590),u=n(473708),d=n(150814),f=n.n(d),p=n(518280),m=n.n(p);function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e,t,n){
t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done);s=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){a=!0;o=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var g=0,_=function(e){
switch(e){case c._vf.TOP_LEFT:return u.Z.Messages.OVERLAY_NOTIFICATIONS_TOP_LEFT;case c._vf.TOP_RIGHT:return u.Z.Messages.OVERLAY_NOTIFICATIONS_TOP_RIGHT;case c._vf.BOTTOM_LEFT:return u.Z.Messages.OVERLAY_NOTIFICATIONS_BOTTOM_LEFT;case c._vf.BOTTOM_RIGHT:return u.Z.Messages.OVERLAY_NOTIFICATIONS_BOTTOM_RIGHT;default:return u.Z.Messages.OVERLAY_NOTIFICATIONS_DISABLED}},T=[c._vf.DISABLED,c._vf.TOP_LEFT,c._vf.TOP_RIGHT,c._vf.BOTTOM_LEFT,c._vf.BOTTOM_RIGHT];function O(e){var t=e.position,n=e.onChange,i=S(o.useState((function(){return"notification-position-selector-".concat(g++)})),1)[0],d=t===c._vf.DISABLED?u.Z.Messages.OVERLAY_NOTIFICATION_SETTINGS_DISABLED:u.Z.Messages.OVERLAY_NOTIFICATION_SETTINGS_POSITION.format({position:_(t)});return(0,r.jsxs)("div",{children:[(0,r.jsx)(a.FocusRing,{within:!0,offset:-2,children:(0,r.jsx)("div",{className:s()(f().wrapper,E({},f().disabledSelected,t===c._vf.DISABLED)),children:T.map((function(e){var o;return(0,r.jsxs)("label",{className:s()((o={},
E(o,f().selected,e===t),E(o,f().disabled,e===c._vf.DISABLED),E(o,f().topRight,e===c._vf.TOP_RIGHT),E(o,f().topLeft,e===c._vf.TOP_LEFT),E(o,f().bottomRight,e===c._vf.BOTTOM_RIGHT),E(o,f().bottomLeft,e===c._vf.BOTTOM_LEFT),o)),children:[_(e),e===c._vf.DISABLED?(0,r.jsx)(l.Z,{className:f().disabledIcon}):null,(0,r.jsx)("input",{type:"radio",name:i,value:e,onChange:function(t){return n(t,e)},className:f().hiddenInput})]},e)}))})}),(0,r.jsx)(a.FormText,{type:a.FormTextTypes.DESCRIPTION,className:m().marginTop8,children:d})]})}O.Positions=c._vf;const b=O},555445:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(496486),o=n.n(r),i=n(113609),s=n(821229),a=n(749106);function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],s=!0,a=!1;try{
for(n=n.call(e);!(s=(r=n.next()).done);s=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){a=!0;o=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e){var t=!0,n=!1,r=void 0;try{for(var o,i=e[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value,l=s.Z.getEligibleExperiment(a);if(null!=l)return[a,l]}}catch(e){n=!0;r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return null}const d={getFirstEligibleUserExperiment:u,
isInExperimentBucket:function(e,t){return s.Z.getExperimentBucket(e)===t},experimentDescriptorEquals:function(e,t){if(null==e&&null==t)return!0;if(e===t)return!0;if(null==e&&null!=t)return!1;if(null!=e&&null==t)return!1;if(null!=e&&null!=t){if(e.type!==t.type)return!1;if(e.bucket!==t.bucket)return!1;if(e.revision!==t.revision)return!1;if(e.type===a.x.USER&&t.type===a.x.USER)return o().isEqual(e.context,t.context)}return!0},trackExposureToFirstEligibleUserExperiment:function(e){var t=u(e);if(null!=t){var n=c(t,2),r=n[0],o=n[1];(0,i.W9)(r,o);return o}},getExperimentBucketName:function(e){return e===a.N.CONTROL?"Control":e===a.N.NOT_ELIGIBLE?"Not Eligible":"Treatment ".concat(e)}}},635535:(e,t,n)=>{"use strict";n.d(t,{uj:()=>l,tI:()=>c,X8:()=>u});var r=n(441143),o=n.n(r),i=n(2590),s=n(473708);function a(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var l=function(){var e=Object.keys(i.gkr)
;return e[Math.floor(Math.random()*e.length)]},c=function(){
var e=[i.gkr.HOUSE_1,i.gkr.HOUSE_2,i.gkr.HOUSE_3,i.jsM],t=[s.Z.Messages.HYPESQUAD_QUESTION_0_PROMPT,s.Z.Messages.HYPESQUAD_QUESTION_1_PROMPT,s.Z.Messages.HYPESQUAD_QUESTION_2_PROMPT,s.Z.Messages.HYPESQUAD_QUESTION_3_PROMPT,s.Z.Messages.HYPESQUAD_QUESTION_4_PROMPT,s.Z.Messages.HYPESQUAD_QUESTION_5_PROMPT,s.Z.Messages.HYPESQUAD_QUESTION_6_PROMPT,s.Z.Messages.HYPESQUAD_QUESTION_7_PROMPT,s.Z.Messages.HYPESQUAD_QUESTION_8_PROMPT,s.Z.Messages.HYPESQUAD_QUESTION_9_PROMPT,s.Z.Messages.HYPESQUAD_QUESTION_10_PROMPT,s.Z.Messages.HYPESQUAD_QUESTION_11_PROMPT,s.Z.Messages.HYPESQUAD_QUESTION_12_PROMPT,s.Z.Messages.HYPESQUAD_QUESTION_13_PROMPT,s.Z.Messages.HYPESQUAD_QUESTION_14_PROMPT],n=[[s.Z.Messages.HYPESQUAD_QUESTION_0_RESPONSE_A,s.Z.Messages.HYPESQUAD_QUESTION_0_RESPONSE_B,s.Z.Messages.HYPESQUAD_QUESTION_0_RESPONSE_C,s.Z.Messages.HYPESQUAD_QUESTION_0_RESPONSE_D],[s.Z.Messages.HYPESQUAD_QUESTION_1_RESPONSE_A,s.Z.Messages.HYPESQUAD_QUESTION_1_RESPONSE_B,s.Z.Messages.HYPESQUAD_QUESTION_1_RESPONSE_C,s.Z.Messages.HYPESQUAD_QUESTION_1_RESPONSE_D],[s.Z.Messages.HYPESQUAD_QUESTION_2_RESPONSE_A,s.Z.Messages.HYPESQUAD_QUESTION_2_RESPONSE_B,s.Z.Messages.HYPESQUAD_QUESTION_2_RESPONSE_C,s.Z.Messages.HYPESQUAD_QUESTION_2_RESPONSE_D],[s.Z.Messages.HYPESQUAD_QUESTION_3_RESPONSE_A,s.Z.Messages.HYPESQUAD_QUESTION_3_RESPONSE_B,s.Z.Messages.HYPESQUAD_QUESTION_3_RESPONSE_C,s.Z.Messages.HYPESQUAD_QUESTION_3_RESPONSE_D],[s.Z.Messages.HYPESQUAD_QUESTION_4_RESPONSE_A,s.Z.Messages.HYPESQUAD_QUESTION_4_RESPONSE_B,s.Z.Messages.HYPESQUAD_QUESTION_4_RESPONSE_C,s.Z.Messages.HYPESQUAD_QUESTION_4_RESPONSE_D],[s.Z.Messages.HYPESQUAD_QUESTION_5_RESPONSE_A,s.Z.Messages.HYPESQUAD_QUESTION_5_RESPONSE_B,s.Z.Messages.HYPESQUAD_QUESTION_5_RESPONSE_C,s.Z.Messages.HYPESQUAD_QUESTION_5_RESPONSE_D],[s.Z.Messages.HYPESQUAD_QUESTION_6_RESPONSE_A,s.Z.Messages.HYPESQUAD_QUESTION_6_RESPONSE_B,s.Z.Messages.HYPESQUAD_QUESTION_6_RESPONSE_C,s.Z.Messages.HYPESQUAD_QUESTION_6_RESPONSE_D],[s.Z.Messages.HYPESQUAD_QUESTION_7_RESPONSE_A,s.Z.Messages.HYPESQUAD_QUESTION_7_RESPONSE_B,s.Z.Messages.HYPESQUAD_QUESTION_7_RESPONSE_C,s.Z.Messages.HYPESQUAD_QUESTION_7_RESPONSE_D],[s.Z.Messages.HYPESQUAD_QUESTION_8_RESPONSE_A,s.Z.Messages.HYPESQUAD_QUESTION_8_RESPONSE_B,s.Z.Messages.HYPESQUAD_QUESTION_8_RESPONSE_C,s.Z.Messages.HYPESQUAD_QUESTION_8_RESPONSE_D],[s.Z.Messages.HYPESQUAD_QUESTION_9_RESPONSE_A,s.Z.Messages.HYPESQUAD_QUESTION_9_RESPONSE_B,s.Z.Messages.HYPESQUAD_QUESTION_9_RESPONSE_C,s.Z.Messages.HYPESQUAD_QUESTION_9_RESPONSE_D],[s.Z.Messages.HYPESQUAD_QUESTION_10_RESPONSE_A,s.Z.Messages.HYPESQUAD_QUESTION_10_RESPONSE_B,s.Z.Messages.HYPESQUAD_QUESTION_10_RESPONSE_C,s.Z.Messages.HYPESQUAD_QUESTION_10_RESPONSE_D],[s.Z.Messages.HYPESQUAD_QUESTION_11_RESPONSE_A,s.Z.Messages.HYPESQUAD_QUESTION_11_RESPONSE_B,s.Z.Messages.HYPESQUAD_QUESTION_11_RESPONSE_C,s.Z.Messages.HYPESQUAD_QUESTION_11_RESPONSE_D],[s.Z.Messages.HYPESQUAD_QUESTION_12_RESPONSE_A,s.Z.Messages.HYPESQUAD_QUESTION_12_RESPONSE_B,s.Z.Messages.HYPESQUAD_QUESTION_12_RESPONSE_C,s.Z.Messages.HYPESQUAD_QUESTION_12_RESPONSE_D],[s.Z.Messages.HYPESQUAD_QUESTION_13_RESPONSE_A,s.Z.Messages.HYPESQUAD_QUESTION_13_RESPONSE_B,s.Z.Messages.HYPESQUAD_QUESTION_13_RESPONSE_C,s.Z.Messages.HYPESQUAD_QUESTION_13_RESPONSE_D],[s.Z.Messages.HYPESQUAD_QUESTION_14_RESPONSE_A,s.Z.Messages.HYPESQUAD_QUESTION_14_RESPONSE_B,s.Z.Messages.HYPESQUAD_QUESTION_14_RESPONSE_C,s.Z.Messages.HYPESQUAD_QUESTION_14_RESPONSE_D]]
;return function(){for(var e=[];e.length<5;){var t=Math.floor(15*Math.random());e.includes(t)||e.push(t)}return e}().map((function(r){var i=t[r],s=n[r];o()(null!=i&&null!=s,"Invalid HypeSquad quiz question index");return{prompt:i,options:s.map((function(t,n){var r=e[n];o()(null!==r,"Invalid HypeSquad quiz question option index");return{copy:t,house:r}}))}}))},u=function(e){var t;return(a(t={},i.gkr.HOUSE_1,s.Z.Messages.HYPESQUAD_HOUSE_1),a(t,i.gkr.HOUSE_2,s.Z.Messages.HYPESQUAD_HOUSE_2),a(t,i.gkr.HOUSE_3,s.Z.Messages.HYPESQUAD_HOUSE_3),t)[e]}},987594:(e,t,n)=>{"use strict";n.d(t,{YK:()=>f,gl:()=>p,_o:()=>m,rr:()=>h,bL:()=>E,$6:()=>S,g0:()=>c,ac:()=>g,xH:()=>_});var r=n(968449),o=n(837067),i=n(567403),s=(n(652591),n(2590)),a=n(473708);function l(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var c,u,d=864e5*s.eBq;function f(){var e=r.h2.getSetting();0===o.Z.totalUnavailableGuilds&&(e=e.filter((function(e){
return null!=i.Z.getGuild(e)})));return e}function p(){var e=r.zA.getSetting();0===o.Z.totalUnavailableGuilds&&(e=e.filter((function(e){return null!=i.Z.getGuild(e)})));return e}function m(){var e=r.SE.getSetting();0===o.Z.totalUnavailableGuilds&&(e=e.filter((function(e){return null!=i.Z.getGuild(e)})));return e}function h(){var e=r.iH.getSetting();0===o.Z.totalUnavailableGuilds&&(e=e.filter((function(e){return null!=i.Z.getGuild(e)})));return e}function E(e){return(e&s.HGf)===s.HGf?{all:!0,mutualFriends:!0,mutualGuilds:!0}:{all:!1,mutualFriends:(e&s.SOq.MUTUAL_FRIENDS)===s.SOq.MUTUAL_FRIENDS,mutualGuilds:(e&s.SOq.MUTUAL_GUILDS)===s.SOq.MUTUAL_GUILDS}}function S(e,t){return!t.verified||null!=e&&d>Date.now()-new Date(e.created_at).getTime()}!function(e){e[e.UNDECIDED=0]="UNDECIDED";e[e.OPTIN=1]="OPTIN";e[e.OPTOUT=2]="OPTOUT"}(c||(c={}));var g=(l(u={},c.UNDECIDED,void 0),l(u,c.OPTIN,!0),l(u,c.OPTOUT,!1),u);function _(){return[{
name:a.Z.Messages.PRIVACY_SETTINGS_NON_SPAM_RETRAINING_SETTING_OPT_IN_HEADER,desc:a.Z.Messages.PRIVACY_SETTINGS_NON_SPAM_RETRAINING_SETTING_OPT_IN_DESC,value:c.OPTIN},{name:a.Z.Messages.PRIVACY_SETTINGS_NON_SPAM_RETRAINING_SETTING_OPT_OUT_HEADER,desc:a.Z.Messages.PRIVACY_SETTINGS_NON_SPAM_RETRAINING_SETTING_OPT_OUT_DESC,value:c.OPTOUT},{name:a.Z.Messages.PRIVACY_SETTINGS_NON_SPAM_RETRAINING_SETTING_UNSET_HEADER,desc:a.Z.Messages.PRIVACY_SETTINGS_NON_SPAM_RETRAINING_SETTING_UNSET_DESC,value:c.UNDECIDED}]}}}]);
//# sourceMappingURL=d0168fc00cff3377a9dd.js.map