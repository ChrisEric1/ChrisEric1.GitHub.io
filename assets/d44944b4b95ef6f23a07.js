(this.webpackJsonp=this.webpackJsonp||[]).push([[27],{6874:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}r.default=e;n&&n.set(e,r);return r}(n(0)),a=y(n(8)),i=n(324),u=y(n(594)),s=y(n(170)),l=y(n(844)),f=y(n(27)),d=y(n(112)),c=n(1),p=y(n(4)),v=y(n(8460));function y(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function h(e,t,n,o){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var a=e&&e.defaultProps,i=arguments.length-3;t||0===i||(t={children:void 0});if(1===i)t.children=o;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}if(t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e})(e,t)}var N=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;C(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(t=e.call.apply(e,[this].concat(r))||this).state={verifying:!0,verified:!1};t.getType=function(){return t.props.match.params.type};t.isPopout=function(){
return null!=window.opener};t.handleDone=function(){t.isPopout()&&window.close()};return t}var n=t.prototype;n.componentDidMount=function(){var e=this,t=(0,i.parse)(this.props.location.search),n=t.code,r=t.state,o=t.oauth_verifier;if(null==t.loading){null!=o&&(n=o);var a;Object.keys(t).forEach((function(e){if(e.startsWith("openid.")){null==a&&(a={});a[e]=t[e]}}));var s=function(t){var n=t.status;e.setState({verifying:!1,verified:204===n},(function(){return e.state.verified&&e.handleDone()}))},f={code:n,openid_params:a,state:r},d=function(t){return u.default.callback(e.getType(),f,t).then(s,s)};this.isPopout()?d(!1):l.default.request(c.RPCCommands.CONNECTIONS_CALLBACK,g({},f,{providerType:this.getType()})).then(s,(function(e){return d("RPCError"!==e.name)})).then((function(){return l.default.disconnect()}))}};n.render=function(){var e=this.state,t=e.verifying,n=e.verified;if(!s.default.isSupported(this.getType()))return null;var r,o,i=s.default.get(this.getType());r=t?h("div",{
className:v.default.message},void 0,p.default.Messages.CONNECTED_ACCOUNT_VERIFYING.format({name:i.name})):n?h("div",{className:v.default.message},void 0,p.default.Messages.CONNECTED_ACCOUNT_VERIFY_SUCCESS.format({name:i.name})):h("div",{className:(0,a.default)(v.default.message,v.default.error)},void 0,p.default.Messages.CONNECTED_ACCOUNT_VERIFY_FAILURE.format({name:i.name}));(this.isPopout()||t)&&(o=h(f.default,{className:v.default.btn,disabled:t,onClick:this.handleDone},void 0,t?h(d.default,{itemClassName:v.default.spinnerItem}):p.default.Messages.DONE));return h("div",{className:v.default.verifyConnectedAccount},void 0,h("div",{},void 0,h("div",{className:v.default.logos},void 0,h("div",{className:(0,a.default)(v.default.logo,v.default.logoDiscord)}),h("div",{className:v.default.logosDivider}),h("div",{className:v.default.logo,style:{backgroundImage:'url("'+i.icon.whiteSVG+'")'}})),r,o))};return t}(o.Component);N.displayName="VerifyConnectedAccount";var O=N;t.default=O}}]);
//# sourceMappingURL=d44944b4b95ef6f23a07.js.map