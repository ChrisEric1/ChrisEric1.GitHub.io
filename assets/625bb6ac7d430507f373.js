(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{6580:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=m();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(0)),a=y(n(5)),i=n(402),s=y(n(743)),u=y(n(189)),l=y(n(1518)),f=y(n(10)),d=y(n(51)),c=n(1),p=y(n(2)),v=y(n(9633));function y(e){return e&&e.__esModule?e:{default:e}}function m(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return m=function(){return e},e}function h(e,t,n,o){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=o;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}if(t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var C=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={verifying:!0,verified:!1},t.getType=function(){return t.props.match.params.type},t.isPopout=function(){return null!=window.opener},t.handleDone=function(){t.isPopout()&&window.close()},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.componentDidMount=function(){var e=this,t=(0,i.parse)(this.props.location.search),n=t.code,r=t.state,o=t.oauth_verifier;if(null==t.loading){var a;null!=o&&(n=o),Object.keys(t).forEach((function(e){e.startsWith("openid.")&&(null==a&&(a={}),a[e]=t[e])}));var u=function(t){var n=t.status;e.setState({verifying:!1,verified:204===n},(function(){return e.state.verified&&e.handleDone()}))},f={code:n,openid_params:a,state:r},d=function(t){return s.default.callback(e.getType(),f,t).then(u,u)};this.isPopout()?d(!1):l.default.request(c.RPCCommands.CONNECTIONS_CALLBACK,g({},f,{providerType:this.getType()})).then(u,(function(e){return d("RPCError"!==e.name)})).then((function(){return l.default.disconnect()}))}},o.render=function(){var e,t,n=this.state,r=n.verifying,o=n.verified,i=u.default.get(this.getType());return e=r?h("div",{className:v.default.message},void 0,p.default.Messages.CONNECTED_ACCOUNT_VERIFYING.format({name:i.name})):o?h("div",{className:v.default.message},void 0,p.default.Messages.CONNECTED_ACCOUNT_VERIFY_SUCCESS.format({name:i.name})):h("div",{className:(0,a.default)(v.default.message,v.default.error)},void 0,p.default.Messages.CONNECTED_ACCOUNT_VERIFY_FAILURE.format({name:i.name})),(this.isPopout()||r)&&(t=h(f.default,{className:v.default.btn,disabled:r,onClick:this.handleDone},void 0,r?h(d.default,{itemClassName:v.default.spinnerItem}):p.default.Messages.DONE)),h("div",{className:v.default.verifyConnectedAccount},void 0,h("div",{},void 0,h("div",{className:v.default.logos},void 0,h("div",{className:(0,a.default)(v.default.logo,v.default.logoDiscord)}),h("div",{className:v.default.logosDivider}),h("div",{className:v.default.logo,style:{backgroundImage:'url("'+i.icon.white+'")'}})),e,t))},r}(o.Component);C.displayName="VerifyConnectedAccount";var N=C;t.default=N}}]);
//# sourceMappingURL=625bb6ac7d430507f373.js.map