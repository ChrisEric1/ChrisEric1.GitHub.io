"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[64],{683801:(e,n,t)=>{t.d(n,{Av:()=>l,wE:()=>i,hp:()=>c});var r=t(675860),a=t(173436),o=t(643830),s=t(461061);function l(e,n){(0,o.Z)(e,n);return r.Z.patch({url:s.ANM.ME,body:{date_of_birth:e.format("YYYY-MM-DD")},oldFormErrors:!0}).then((function(e){var n=e.body;a.Z.dispatch({type:"CURRENT_USER_UPDATE",user:n})}))}function i(){a.Z.dispatch({type:"AGE_GATE_PREVENT_UNDERAGE_REGISTRATION"})}function c(){a.Z.dispatch({type:"AGE_GATE_LOGOUT_UNDERAGE_NEW_USER"})}},65440:(e,n,t)=>{t.d(n,{Z:()=>A});var r=t(785893),a=t(667294),o=t(294184),s=t.n(o),l=t(730381),i=t.n(l),c=t(331535),u=t(601465),f=t(959797),d=t(108083),m=t.n(d);function h(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function p(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){
var r,a,o=[],s=!0,l=!1;try{for(t=t.call(e);!(s=(r=t.next()).done);s=!0){o.push(r.value);if(n&&o.length===n)break}}catch(e){l=!0;a=e}finally{try{s||null==t.return||t.return()}finally{if(l)throw a}}return o}}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return h(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return h(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var E=i()().localeData().months(),y=Array.from(Array(31).keys()).map((function(e){return{value:e+1,label:"".concat(e+1)}})),v=Array.from(Array(12).keys()).map((function(e){return{value:e+1,label:E[e]}}));var N=/[a-zA-Z0-9]/;function b(e){
var n=e.options,t=e.selectOption,o=e.children,s=p(a.useState(""),2),l=s[0],i=s[1];a.useEffect((function(){if(""!==l){var e=setTimeout((function(){return i("")}),1e3);return function(){return clearTimeout(e)}}}),[l,i]);var c=a.useCallback((function(e){if(N.test(e.key)){var r="".concat(l).concat(e.key.toLowerCase()),a=n.find((function(e){return e.label.toLowerCase().startsWith(r)}));null!=a&&t(a.value);i(r)}}),[t,i,l,n]);return(0,r.jsx)("div",{onKeyDown:c,children:o})}function _(){var e=i()().localeData().longDateFormat("L"),n=e.indexOf("D"),t=e.indexOf("M"),r=e.indexOf("Y");if(-1===n||-1===t||-1===r){n=0;t=1;r=2}return[{index:n,type:"day"},{index:t,type:"month"},{index:r,type:"year"}].sort((function(e,n){return e.index<n.index?-1:1}))}const A=a.forwardRef((function(e,n){var t=function(e){switch(P[e].type){case"day":U.push({key:"day",input:(0,r.jsx)(b,{options:y,selectOption:x,children:(0,r.jsx)(u.Z,{ref:R,className:m().inputDay,"aria-label":f.Z.Messages.AGE_GATE_DOB_DAY,
menuPlacement:u.Z.MenuPlacements.TOP,placeholder:(0,r.jsx)("span",{"aria-hidden":!0,children:f.Z.Messages.AGE_GATE_DOB_DAY}),options:y,value:T,onChange:function(n){var t=n.value;x(t);Z(e+1)},maxMenuHeight:215})})});break;case"month":U.push({key:"month",input:(0,r.jsx)(b,{options:v,selectOption:I,children:(0,r.jsx)(u.Z,{ref:G,className:m().inputMonth,"aria-label":f.Z.Messages.AGE_GATE_DOB_MONTH,menuPlacement:u.Z.MenuPlacements.TOP,placeholder:(0,r.jsx)("span",{"aria-hidden":!0,children:f.Z.Messages.AGE_GATE_DOB_MONTH}),options:v,value:O,onChange:function(n){var t=n.value;I(t);Z(e+1)},maxMenuHeight:215})})});break;case"year":U.push({key:"year",input:(0,r.jsx)(b,{options:S,selectOption:C,children:(0,r.jsx)(u.Z,{ref:L,className:m().inputYear,"aria-label":f.Z.Messages.AGE_GATE_DOB_YEAR,menuPlacement:u.Z.MenuPlacements.TOP,placeholder:(0,r.jsx)("span",{"aria-hidden":!0,children:f.Z.Messages.AGE_GATE_DOB_YEAR}),options:S,value:j,onChange:function(n){var t=n.value;C(t);Z(e+1)},
maxMenuHeight:215})})})}},o=e.value,l=e.wrapperClassName,d=e.onChange,h=e.onPopulated,E=e.error,N=e.autoFocus,A=function(e){var n=null,t=null,r=null;if(null!=e){n=e.date();t=e.month()+1;r=e.year()}var o=p(a.useState(n),2),s=o[0],l=o[1],i=p(a.useState(t),2),c=i[0],u=i[1],f=p(a.useState(r),2);return{day:s,setDay:l,month:c,setMonth:u,year:f[0],setYear:f[1]}}(o),T=A.day,x=A.setDay,O=A.month,I=A.setMonth,j=A.year,C=A.setYear,g=a.useMemo((function(){return null!=T&&null!=O&&null!=j?i()("".concat(T,"/").concat(O,"/").concat(j),"DD/MM/YYYY"):null}),[T,O,j]);a.useEffect((function(){d((null==g?void 0:g.isValid())?g:null)}),[g,d]);var M=E;null==g||g.isValid()||(M=f.Z.Messages.AGE_GATE_INVALID_BIRTHDAY);var S=function(){var e=(new Date).getFullYear(),n=a.useRef(Array.from(Array(150).keys()).map((function(n){return{value:e-n-3,label:"".concat(e-n-3)}})));a.useEffect((function(){n.current=Array.from(Array(150).keys()).map((function(n){return{value:e-n-3,label:"".concat(e-n-3)}}))}),[e])
;return n.current}(),D=p(a.useState(N?0:-1),2),w=D[0],Z=D[1],R=a.useRef(null),G=a.useRef(null),L=a.useRef(null),P=a.useMemo(_,[]),F=a.useCallback((function(){var e;switch(null===(e=P[w])||void 0===e?void 0:e.type){case"day":var n;null===(n=R.current)||void 0===n||n.focus();break;case"month":var t;null===(t=G.current)||void 0===t||t.focus();break;case"year":var r;null===(r=L.current)||void 0===r||r.focus()}}),[w,R,G,L,P]);a.useEffect((function(){setTimeout(F,500)}),[]);a.useEffect((function(){w>=P.length?null==h||h():F()}),[w,F]);for(var U=[],k=0;k<3;k++)t(k);return(0,r.jsxs)("fieldset",{className:s()(m().container,l),children:[(0,r.jsx)(c.vw,{tag:"legend",children:f.Z.Messages.AGE_GATE_DATE_OF_BIRTH}),(0,r.jsx)("div",{className:m().inputs,children:U.map((function(e,n){var t=e.key,a=e.input;return(0,r.jsx)("div",{tabIndex:n+1,className:m()[t],children:a},t)}))}),(0,r.jsx)(c.xv,{className:m().errors,variant:"text-sm/normal",children:M})]})}))},643830:(e,n,t)=>{t.d(n,{Z:()=>l})
;var r=t(730381),a=t.n(r),o=t(932847),s=t(461061);function l(e,n){o.default.track(s.rMx.AGE_GATE_SUBMITTED,{dob:a()().diff(e,"years")<18?e.format("YYYY-MM-DD"):null,dob_day:e.date(),dob_month:e.month()+1,dob_year:e.year(),source:{section:n}})}},64:(e,n,t)=>{t.r(n);t.d(n,{default:()=>Ee});var r=t(785893),a=t(667294),o=t(294184),s=t.n(o),l=t(506884),i=t(363010),c=t(331535),u=t(427546),f=t(91624),d=t(982938),m=t(511504),h=t(859023),p=t(487502),E=t(954766),y=t(272729),v=t(559159),N=t(67416),b=t(932847),_=t(170729),A=t(639472),T=t(441143),x=t.n(T),O=t(683801),I=t(65440),j=t(832010),C=t(956299),g=t(254580),M=t(95467),S=t(461061),D=t(959797),w=t(128905),Z=t.n(w);function R(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function G(e,n,t,r,a,o,s){try{var l=e[o](s),i=l.value}catch(e){t(e);return}l.done?n(i):Promise.resolve(i).then(r,a)}function L(e){return function(){var n=this,t=arguments;return new Promise((function(r,a){var o=e.apply(n,t)
;function s(e){G(o,r,a,s,l,"next",e)}function l(e){G(o,r,a,s,l,"throw",e)}s(void 0)}))}}function P(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,a,o=[],s=!0,l=!1;try{for(t=t.call(e);!(s=(r=t.next()).done);s=!0){o.push(r.value);if(n&&o.length===n)break}}catch(e){l=!0;a=e}finally{try{s||null==t.return||t.return()}finally{if(l)throw a}}return o}}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return R(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return R(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var F=function(e,n){var t,r,a,o,s={
label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(t)throw new TypeError("Generator is already executing.");for(;s;)try{if(t=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;(r=0,a)&&(o=[2&o[0],a.value]);switch(o[0]){case 0:case 1:a=o;break;case 4:s.label++;return{value:o[1],done:!1};case 5:s.label++;r=o[1];o=[0];continue;case 7:o=s.ops.pop();s.trys.pop();continue;default:if(!(a=s.trys,a=a.length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){s.label=o[1];break}if(6===o[0]&&s.label<a[1]){s.label=a[1];a=o;break}if(a&&s.label<a[2]){s.label=a[2];s.ops.push(o);break}a[2]&&s.ops.pop();s.trys.pop();continue}o=n.call(e,s)}catch(e){o=[6,e];r=0}finally{t=a=0}if(5&o[0])throw o[1];return{
value:o[0]?o[1]:void 0,done:!0}}([o,l])}}};function U(e){var n=e.onComplete,t=e.onClose,o=P(a.useState(null),2),s=o[0],l=o[1],u=P(a.useState(null),2),f=u[0],d=u[1],m=P(a.useState(!1),2),p=m[0],E=m[1],y=(0,i.e7)([h.default],(function(){return h.default.getCurrentUser()})),v=a.createRef();a.useEffect((function(){null!=y&&null!=y.nsfwAllowed&&n()}),[y,n]);function N(){N=L((function(e){var r,a;return F(this,(function(o){switch(o.label){case 0:e.preventDefault();x()(null!=s,"Cannot submit null birthday.");E(!0);o.label=1;case 1:o.trys.push([1,3,,4]);return[4,O.Av(s,"NUF")];case 2:o.sent();n();return[3,4];case 3:if(null!=(r=o.sent()).body&&null!=r.body.date_of_birth){O.wE();O.hp();t()}else null!=(null==r||null===(a=r.body)||void 0===a?void 0:a.username)?d(D.Z.Messages.USER_SETTINGS_UPDATE_FAILURE):d(null==r?void 0:r.body.message);return[3,4];case 4:E(!1);return[2]}}))}));return N.apply(this,arguments)}var b=a.useCallback((function(e){l(e)}),[l]),_=a.useCallback((function(){var e
;null===(e=v.current)||void 0===e||e.focus()}),[v]);return null==y?null:(0,r.jsxs)("form",{className:Z().content,onSubmit:function(e){return N.apply(this,arguments)},children:[(0,r.jsx)(g.Z,{width:56,height:40,className:Z().logo,color:(0,j.Lq)(S.Ilk.BRAND_500)}),(0,r.jsx)(c.X6,{className:Z().title,variant:"heading-xl/semibold",children:D.Z.Messages.NUF_JOIN_SERVER_TITLE_2}),(0,r.jsx)(c.xv,{color:"text-normal",className:Z().description,variant:"text-md/normal",children:D.Z.Messages.NUF_AGE_GATE_BODY.format({helpURL:M.Z.getArticleURL(S.BhN.AGE_GATE)})}),(0,r.jsx)(C.Z.Provider,{value:S.BRd.LIGHT,children:(0,r.jsx)(I.Z,{required:!0,autoFocus:!0,wrapperClassName:Z().formItem,label:D.Z.Messages.AGE_GATE_YOUR_BIRTHDAY,name:"birthday",onChange:b,onPopulated:_,error:f,value:s})}),(0,r.jsx)("div",{className:Z().footer,children:(0,r.jsx)("div",{className:Z().buttonWrapper,children:(0,r.jsx)(c.zx,{buttonRef:v,type:"submit",size:c.zx.Sizes.LARGE,submitting:p,disabled:null==s,fullWidth:!0,
children:D.Z.Messages.NEXT})})})]})}var k=t(462428),B=t(464057),z=t.n(B);function Y(e){var n=e.onComplete;return(0,r.jsxs)(c.P3,{className:z().container,onClick:n,children:[(0,r.jsx)(k.Z,{size:k.Z.Sizes.SIZE_24,className:z().title,children:D.Z.Messages.NUF_COMPLETE_TITLE}),(0,r.jsx)(k.Z,{size:k.Z.Sizes.SIZE_24,className:s()(z().title,z().subtitle),children:D.Z.Messages.NUF_COMPLETE_SUBTITLE}),(0,r.jsx)(c.zx,{color:c.zx.Colors.WHITE,onClick:n,children:D.Z.Messages.NUF_COMPLETE_CTA})]})}var H=t(671018),V=t(956345),J=t(323657),K=t(50151),W=t(345719),X=t.n(W);function $(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function q(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t;return e}function Q(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,a,o=[],s=!0,l=!1;try{
for(t=t.call(e);!(s=(r=t.next()).done);s=!0){o.push(r.value);if(n&&o.length===n)break}}catch(e){l=!0;a=e}finally{try{s||null==t.return||t.return()}finally{if(l)throw a}}return o}}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return $(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return $(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ee=function(){var e=window.GLOBAL_ENV.INVITE_HOST,n="";if(null==e){e=location.host;n=S.Z5c.INVITE("")}return"".concat(location.protocol,"//").concat(e).concat(n,"/")}();var ne=t(358188),te=t(304516),re=t.n(te);function ae(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t;return e
}function oe(e){var n=e.step,t=n===ne.F.AGE_GATE,a=n===ne.F.CHOOSE_TEMPLATE||n===ne.F.CREATION_INTENT,o=n===ne.F.CUSTOMIZE_GUILD,l=n===ne.F.CHANNEL_PROMPT||n===ne.F.JOIN_GUILD,i=o||l,c=a||i;return(0,r.jsxs)("div",{className:re().sidebar,children:[(0,r.jsx)("div",{className:s()(re().step1,ae({},re().show,t))}),(0,r.jsx)("div",{className:s()(re().step24Clouds,ae({},re().show,c))}),(0,r.jsx)("div",{className:s()(re().step34Flag,ae({},re().show,i))}),(0,r.jsx)("div",{className:s()(re().step24Base,ae({},re().show,c))}),(0,r.jsx)("div",{className:s()(re().step24Ground,ae({},re().show,c))}),(0,r.jsx)("div",{className:s()(re().step2Base,ae({},re().show,a))}),(0,r.jsx)("div",{className:s()(re().step2Character,ae({},re().show,a))}),(0,r.jsx)("div",{className:s()(re().step34Base,ae({},re().show,i))}),(0,r.jsx)("div",{className:s()(re().step3Character,ae({},re().show,o))}),(0,r.jsx)("div",{className:s()(re().step4Character,ae({},re().show,l))}),(0,r.jsx)("div",{
className:s()(re().step24Foreground,ae({},re().show,c))})]})}var se=t(714392),le=t(913290),ie=t(242943),ce=t.n(ie);function ue(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function fe(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t;return e}function de(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))));r.forEach((function(n){fe(e,n,t[n])}))}return e}function me(e,n){n=null!=n?n:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})))
;t.push.apply(t,r)}return t}(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}));return e}function he(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){t=o[r];n.indexOf(t)>=0||(a[t]=e[t])}return a}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++){t=o[r];n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}}return a}function pe(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,a,o=[],s=!0,l=!1;try{for(t=t.call(e);!(s=(r=t.next()).done);s=!0){o.push(r.value);if(n&&o.length===n)break}}catch(e){l=!0;a=e}finally{try{s||null==t.return||t.return()}finally{if(l)throw a}}return o}}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return ue(e,n)
;var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ue(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ee(e){var n=(0,y.Dt)(),t=e.onSlideChange,o=he(e,["onSlideChange"]),T=o.onClose,x=pe(a.useState(!1),2),O=x[0],I=x[1],j=(0,i.e7)([h.default],(function(){return h.default.getCurrentUser()})),C=null!=j&&null==j.nsfwAllowed,g=pe(a.useState(C?ne.F.AGE_GATE:ne.F.CHOOSE_TEMPLATE),2),M=g[0],w=g[1],Z=pe(a.useState(null),2),R=Z[0],G=Z[1];a.useEffect((function(){t(O?ne.F.COMPLETE:M)}),[t,M,O]);var L,P=pe(a.useState(null),2),F=P[0],B=P[1],z=pe(a.useState(null),2),W=z[0],$=z[1],te=pe(a.useState(!1),2),re=te[0],ae=te[1],ie=(0,i.e7)([A.Z],(function(){
return A.Z.getType()===se.M5.INVITE_UNCLAIMED})),ue=a.useCallback((function(e){$(e);w(ne.F.CREATION_INTENT);b.default.track(S.rMx.GUILD_TEMPLATE_SELECTED,{template_name:e.label,template_code:e.code})}),[$,w]),fe=(0,f.v)({hasFooter:!1,onBack:function(){$(null);w(ne.F.CHOOSE_TEMPLATE)},onCreationIntentChosen:function(e){ae(e);w(ne.F.CUSTOMIZE_GUILD)}}),Ee=fe.content,ye=fe.footer,ve=(0,d.G)({guildTemplate:W,titleClassName:ce().customizeGuildTitle,hasFooter:!1,onGuildCreated:function(e){B(e);(null==W?void 0:W.id)===le.l.CREATE?w(ne.F.CHANNEL_PROMPT):I(!0)},onBack:function(){w(ne.F.CREATION_INTENT)},isSlideReady:R===ne.F.CUSTOMIZE_GUILD,isCommunity:re}),Ne=ve.content,be=ve.footer,_e=(0,u.F)({createdGuildId:F,hasFooter:!1,onChannelPromptCompleted:function(){I(!0)},isSlideReady:R===ne.F.CHANNEL_PROMPT}),Ae=_e.content,Te=_e.footer,xe=function(e){
var n=e.onBack,t=e.onComplete,o=e.onConnect,l=e.isSlideReady,i=Q(a.useState(""),2),u=i[0],f=i[1],d=Q(a.useState(!1),2),m=d[0],h=d[1],E=Q(a.useState(null),2),y=E[0],v=E[1],b=a.useRef(null);a.useEffect((function(){var e;l&&(null===(e=b.current)||void 0===e||e.focus())}),[l]);var _=a.useCallback((function(e){e.preventDefault();var n=u.trim();if(""!==n){v(null);h(!0);var r=n.split("/"),a=r[r.length-1];H.Z.resolveInvite(a,"Join Guild",{inputValue:n}).then((function(e){var n=e.invite;h(!1);if(null!=n){if(null!=n.channel){var r=H.Z.getInviteContext("Join Guild",n);H.Z.acceptInvite({inviteKey:n.code,context:r,callback:function(e){t();H.Z.transitionToInvite(e)}}).catch((function(e){if(e instanceof J.yZ){var n=(0,K.O)(e.code);v(n)}else v(D.Z.Messages.INVITE_MODAL_ERROR_DEFAULT)}))}}else v(D.Z.Messages.INSTANT_INVITE_EXPIRED)}),(function(e){h(!1);var n=new J.yZ(e),t=(0,K.O)(n.code);v(t)}))}else v(D.Z.Messages.INVALID_INVITE_LINK_ERROR)}),[u,h,v,t]);return{content:(0,r.jsxs)(r.Fragment,{
children:[(0,r.jsxs)(N.xB,{className:X().header,direction:p.Z.Direction.VERTICAL,separator:!1,children:[(0,r.jsx)(k.Z,{className:X().title,size:k.Z.Sizes.SIZE_24,color:k.Z.Colors.HEADER_PRIMARY,children:D.Z.Messages.JOIN_SERVER_TITLE}),(0,r.jsx)(c.xv,{variant:"text-md/normal",color:"header-secondary",children:D.Z.Messages.JOIN_SERVER_DESCRIPTION_NUF})]}),(0,r.jsxs)(N.hz,{children:[(0,r.jsx)("form",{onSubmit:_,className:X().inputForm,children:(0,r.jsx)(c.xJ,{title:D.Z.Messages.FORM_LABEL_INVITE_LINK,error:y,titleClassName:s()(X().formTitle,q({},X().error,null!=y)),children:(0,r.jsx)(c.oi,{value:u,onChange:f,className:X().input,inputClassName:X().inputInner,inputRef:b})})}),(0,r.jsx)(c.xv,{color:"header-secondary",variant:"text-xs/normal",children:D.Z.Messages.JOIN_SERVER_EXAMPLES.format({examples:"".concat(ee).concat("cool-people",", ").concat("hTKzmak")})}),(0,r.jsx)(c.xv,{variant:"text-xs/normal",color:"header-secondary",className:X().connectCTA,
children:D.Z.Messages.JOIN_GUILD_CONNECT.format({onClick:function(){o();V.Z.open(S.oAB.CONNECTIONS)}})})]})]}),footer:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.zx,{color:c.zx.Colors.BRAND,onClick:_,disabled:0===u.length,submitting:m,children:D.Z.Messages.JOIN}),(0,r.jsx)(c.zx,{className:X().skipButton,look:c.zx.Looks.BLANK,size:c.zx.Sizes.MIN,onClick:n,children:D.Z.Messages.BACK})]})}}({onBack:function(){return w(ne.F.CHOOSE_TEMPLATE)},onComplete:function(){T()},onConnect:T,isSlideReady:R===ne.F.JOIN_GUILD}),Oe=xe.content,Ie=xe.footer;switch(M){case ne.F.CUSTOMIZE_GUILD:L=be;break;case ne.F.CHANNEL_PROMPT:L=Te;break;case ne.F.JOIN_GUILD:L=Ie;break;case ne.F.CREATION_INTENT:L=ye}var je=a.useRef(null),Ce=(0,v.Z)(je,!0,[M]);if(O)return(0,r.jsx)(N.Y0,me(de({},o),{size:N.Cg.MEDIUM,className:s()(ce().modal,ce().completed),"aria-labelledby":n,children:(0,r.jsx)(Y,{onComplete:T})}));var ge={impression_group:l.AG.GUILD_ADD_NUF};return(0,r.jsxs)(N.Y0,me(de({},o),{size:N.Cg.MEDIUM,
className:ce().modal,"aria-labelledby":n,children:[(0,r.jsx)("div",{className:ce().sidebar,children:(0,r.jsx)(oe,{step:M})}),(0,r.jsxs)("div",{className:s()(ce().content,(0,_.Q)(S.BRd.LIGHT)),ref:je,children:[(0,r.jsx)("div",{className:ce().slidesContainer,children:(0,r.jsxs)(E.My,{activeSlide:M,onSlideReady:function(e){return G(e)},centered:!1,width:null==Ce?void 0:Ce.width,children:[(0,r.jsx)(E.Mi,{id:ne.F.AGE_GATE,children:(0,r.jsx)("div",{className:ce().container,children:(0,r.jsx)(U,{onComplete:function(){ie?T():w(ne.F.CHOOSE_TEMPLATE)},onClose:T})})}),(0,r.jsx)(E.Mi,{id:ne.F.CHOOSE_TEMPLATE,impressionName:l.zs.GUILD_ADD_LANDING,impressionProperties:ge,children:(0,r.jsx)("div",{className:s()(ce().container,ce().shortFooter),children:(0,r.jsx)(m.Z,{className:ce().templates,onChooseTemplate:ue,isNewUser:!0})})}),(0,r.jsx)(E.Mi,{id:ne.F.CREATION_INTENT,impressionName:l.zs.GUILD_ADD_INTENT_SELECTION,impressionProperties:ge,children:(0,r.jsx)("div",{
className:s()(ce().container,ce().standardFooter),children:Ee})}),(0,r.jsx)(E.Mi,{id:ne.F.CUSTOMIZE_GUILD,impressionName:l.zs.GUILD_ADD_CUSTOMIZE,impressionProperties:ge,children:(0,r.jsx)("div",{className:s()(ce().container,ce().standardFooter),children:Ne})}),(0,r.jsx)(E.Mi,{id:ne.F.CHANNEL_PROMPT,impressionName:l.zs.GUILD_ADD_CHANNEL_PROMPT,impressionProperties:ge,children:(0,r.jsx)("div",{className:s()(ce().container,ce().standardFooter),children:Ae})}),(0,r.jsx)(E.Mi,{id:ne.F.JOIN_GUILD,impressionName:l.zs.GUILD_ADD_JOIN,impressionProperties:ge,children:(0,r.jsx)("div",{className:s()(ce().container,ce().standardFooter),children:Oe})})]})}),M!==ne.F.AGE_GATE?(0,r.jsx)(N.ol,{onClick:T,className:ce().closeButton}):null,M===ne.F.CHOOSE_TEMPLATE?(0,r.jsx)(N.mz,{justify:p.Z.Justify.BETWEEN,className:s()(ce().footer,ce().join),children:(0,r.jsx)(c.ee,{className:ce().joinCTA,onClick:function(){w(ne.F.JOIN_GUILD)},children:(0,r.jsxs)(c.xv,{variant:"text-sm/medium",className:ce().joinCTA,
children:[D.Z.Messages.NUF_HAVE_AN_INVITE_ALREADY," ",D.Z.Messages.JOIN_SERVER_BUTTON_CTA]})})}):null,null!=L?(0,r.jsx)(N.mz,{justify:p.Z.Justify.BETWEEN,className:ce().footer,children:L}):null]})]}))}}}]);
//# sourceMappingURL=fdebab942b5fe430c9d9.js.map