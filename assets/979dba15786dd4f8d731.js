"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[86413],{19120:(e,r,t)=>{t.d(r,{Z:()=>N});var n=t(785893),o=t(667294),c=t(294184),i=t.n(c),s=t(107364),a=t(350762),l=t.n(a);function u(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function f(e,r,t){r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t;return e}function d(e){d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return d(e)}function p(e,r){return!r||"object"!==v(r)&&"function"!=typeof r?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):r}function b(e,r){b=Object.setPrototypeOf||function(e,r){e.__proto__=r;return e};return b(e,r)}var m,h,y,v=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function P(e){var r=function(){
if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var t,n=d(e);if(r){var o=d(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return p(this,t)}}!function(e){e.PRIMARY="primary";e.SECONDARY="secondary";e.WARNING="warning";e.ERROR="error"}(m||(m={}));!function(e){e.SMALL="small";e.LARGE="large";e.NONE="none"}(h||(h={}));var O,j=(f(y={},m.PRIMARY,l().colorPrimary),f(y,m.SECONDARY,l().colorSecondary),f(y,m.WARNING,l().colorWarning),f(y,m.ERROR,l().colorError),y),E=(f(O={},h.SMALL,l().small),f(O,h.LARGE,l().large),f(O,h.NONE,null),O),g=function(e){!function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,
configurable:!0}});r&&b(e,r)}(t,e);var r=P(t);function t(){u(this,t);return r.apply(this,arguments)}t.prototype.render=function(){var e=this.props,r=e.icon,t=e.color,o=e.children,c=e.iconSize,a=e.className,u=e.iconClassName;return(0,n.jsxs)(s.Z,{className:i()(l().note,j[t],a),align:s.Z.Align.CENTER,children:[(0,n.jsx)(r,{className:i()(l().icon,E[c],u)}),(0,n.jsx)("div",{children:o})]})};return t}(o.PureComponent);g.Colors=m;g.Sizes=h;const N=g},128059:(e,r,t)=>{t.d(r,{Z:()=>f});var n=t(785893),o=(t(667294),t(294184)),c=t.n(o),i=t(669426),s=t(782786),a=t(83471),l=t(14346),u=t.n(l);function f(e){var r=e.className,t=e.isEligibleForTrial,o=void 0!==t&&t,l=(0,s.usePaymentContext)(),f=l.step,d=l.breadcrumbs,p=l.startedPaymentFlowWithPaymentSourcesRef;if(null==d)return null;var b=d.filter((function(e){var r=e.id!==a.h8.ADD_PAYMENT_STEPS,t=e.id===a.h8.ADD_PAYMENT_STEPS&&!p.current;return!o||o&&(r||t)}));return(0,n.jsx)("div",{className:c()("breadcrumb",u().wrapper,r),children:(0,n.jsx)(i.Z,{
activeId:f,breadcrumbs:b})})}},383861:(e,r,t)=>{t.d(r,{Z:()=>g});var n=t(785893),o=t(667294),c=t(886664),i=t(294184),s=t.n(i),a=t(513328),l=t(945460),u=t(19120),f=t(347365),d=t(414094),p=t(782786),b=t(83471),m=(t(128059),t(149096),t(669426)),h=t(799043),y=t(264628),v=t(2590),P=t(473708),O=t(152221),j=t.n(O),E=new Set([b.h8.SKU_SELECT,b.h8.AWAITING_AUTHENTICATION,b.h8.AWAITING_PURCHASE_TOKEN_AUTH,b.h8.CONFIRM]);function g(e){var r=e.steps,t=e.currentStep,i=e.body,O=e.paymentError,g=e.header,N=e.footer,S=e.isGift,k=void 0!==S&&S,C=e.giftMessage,_=void 0===C?P.Z.Messages.PREMIUM_PAYMENT_IS_GIFT:C,I=e.isSeasonalGift,x=void 0!==I&&I,w=e.hideBreadcrumbs,R=void 0!==w&&w,A=e.isLoading,T=void 0!==A&&A,M=e.purchaseError,D=e.purchaseErrorBlockRef,Z=e.planError,B=e.onScroll,L=e.scrollerClassName,W=e.hasCurrencies,F=void 0!==W&&W,G=null;null!=O&&null==(0,b.ly)(O)?G=O:null!=M?G=M:null!=Z&&(G=Z);var U=null!=G?G.message:"";if(null!=G&&G instanceof f.HF){
G.code===d.SM.CARD_DECLINED&&F&&(U+=" ".concat(P.Z.Messages.BILLING_ERROR_TRY_ANOTHER));G.code===d.SM.INVALID_GIFT_REDEMPTION_FRAUD_REJECTED&&(U=P.Z.Messages.GIFT_CODE_SMITE_REJECT_HELP_TEXT);G.code===v.evJ.BILLING_NON_REFUNDABLE_PAYMENT_SOURCE&&(U=P.Z.Messages.GIFT_CODE_PAYMENT_SOURCE_INVALID)}var Y=(0,p.usePaymentContext)().stripe;T=T||null==Y;var K=o.useRef(new a.V7);o.useEffect((function(){var e=K.current;null!=Y||e.isStarted()?null!=Y&&e.stop():e.start(1e4,(function(){var e=new Error("Stripe took too long to load");(0,y.q2)(e)}));return function(){e.stop()}}),[Y]);var H=r.includes(b.h8.PAYMENT_TYPE)?b.h8.PAYMENT_TYPE:b.h8.ADD_PAYMENT_STEPS;return(0,n.jsxs)(c.Elements,{options:v.OBo,stripe:Y,children:[g,(0,n.jsxs)("div",{className:s()("paymentModalContent",j().content),children:[k&&!x&&t!==b.h8.CONFIRM?(0,n.jsx)(u.Z,{className:j().paymentNote,iconSize:u.Z.Sizes.SMALL,icon:h.Z,color:null==_?u.Z.Colors.PRIMARY:u.Z.Colors.SECONDARY,children:_}):null,R?null:(0,n.jsx)("div",{
className:j().breadcrumbsWrapper,children:(0,n.jsx)(m.Z,{activeId:b.Ck.has(t)?H:t,breadcrumbs:r.filter((function(e){return!b.Ck.has(e)&&!E.has(e)})).map((function(e){return{id:e,label:(0,b.DJ)(e)}}))})}),(0,n.jsxs)("div",{className:j().bodyWrapper,children:[null==G?null:(0,n.jsx)("div",{className:j().errorBlockWrapper,children:(0,n.jsx)(l.FormErrorBlock,{ref:D,children:U})}),T?(0,n.jsx)(l.Spinner,{className:j().loadingBlock}):(0,n.jsx)(l.Sequencer,{className:j().sequencer,staticClassName:j().sequencerStatic,animatedNodeClassName:j().sequencerAnimatedNode,fillParent:!0,step:t,steps:r,sideMargin:20,children:(0,n.jsx)(l.AdvancedScrollerThin,{onScroll:B,className:s()(j().scroller,L),children:i})})]})]}),N]})}},186413:(e,r,t)=>{t.r(r);t.d(r,{StickerPackViewAllModalFooter:()=>ae,default:()=>ue})
;var n=t(785893),o=t(667294),c=t(294184),i=t.n(c),s=t(23279),a=t.n(s),l=t(202351),u=t(945460),f=t(879913),d=t(782786),p=t(83471),b=t(159895),m=t(799066),h=t(383861),y=t(473903),v=t(709189),P=t(95891),O=t(850841),j=t(421281),E=t(842715),g=t(38736),N=Object.freeze({inspectedStickerPosition:{rowIndex:-1,columnIndex:-1}}),S=(0,g.Z)((function(e){return N})),k=S,C=function(e,r,t){S.setState({inspectedStickerPosition:{rowIndex:r,columnIndex:e,source:t}})},_=function(){C(-1,-1)},I=t(217544),x=t(78551),w=t(513586),R=t(965196),A=t(701190),T=t(473708),M=t(781022),D=t.n(M);function Z(e,r,t){r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t;return e}function B(e,r){r=null!=r?r:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):function(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){
return Object.getOwnPropertyDescriptor(e,r).enumerable})));t.push.apply(t,n)}return t}(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}));return e}var L=function(e){var r=e.stickerPack;return(0,n.jsx)("div",{className:D().features,children:(0,w.X_)(r)?(0,n.jsx)(u.Tooltip,{tooltipClassName:D().featuresTooltip,position:"top",text:T.Z.Messages.STICKER_PICKER_PACK_DETAILS_ANIMATED,children:function(e){return(0,n.jsx)(A.Z,B(function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))));n.forEach((function(r){Z(e,r,t[r])}))}return e}({},e),{className:D().featureIcon}))}}):null})},W=function(e){var r=e.className,t=e.stickerPack,o=e.withDescription,c=void 0!==o&&o;return(0,n.jsxs)("div",{className:i()(D().header,r),children:[(0,
n.jsxs)("div",{className:D().title,children:[(0,n.jsx)(u.Heading,{className:D().heading,variant:"heading-sm/semibold",children:t.name}),(0,n.jsx)(L,{stickerPack:t})]}),c&&null!=t.description&&(0,n.jsx)(u.Text,{className:D().description,variant:"text-sm/normal",children:t.description}),(0,n.jsx)("div",{className:D().count,children:T.Z.Messages.STICKER_PACK_STICKER_COUNT.format({numStickers:t.stickers.length})})]})};const F=o.memo(W);var G=t(803961),U=t(2590),Y=t(522411),K=t.n(Y),H=t(419302),V=t.n(H);function z(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function q(e,r,t){r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t;return e}function J(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){
return Object.getOwnPropertyDescriptor(t,e).enumerable}))));n.forEach((function(r){q(e,r,t[r])}))}return e}function X(e,r){r=null!=r?r:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):function(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})));t.push.apply(t,n)}return t}(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}));return e}function $(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t,n,o={},c=Object.keys(e);for(n=0;n<c.length;n++){t=c[n];r.indexOf(t)>=0||(o[t]=e[t])}return o}(e,r);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++){t=c[n];r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}}return o}function Q(e,r){return function(e){
if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,c=[],i=!0,s=!1;try{for(t=t.call(e);!(i=(n=t.next()).done);i=!0){c.push(n.value);if(r&&c.length===r)break}}catch(e){s=!0;o=e}finally{try{i||null==t.return||t.return()}finally{if(s)throw o}}return c}}(e,r)||function(e,r){if(!e)return;if("string"==typeof e)return z(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return z(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ee=(0,j.Mg)(V().stickerPurchasePackPreviewDimensions),re=(0,j.Mg)(V().stickerPurchasePackPreviewPadding),te=(0,
j.Mg)(V().stickerPurchasePackPreviewMargin),ne=ee+2*re,oe=a()(_,250),ce=function(){oe.cancel()},ie=function(e){var r=e.visibleRowIndex,t=e.columnIndex;oe.cancel();C(t,r,f.u.MOUSE_EVENT)},se=function(e){var r=e.stickerPack,t=e.width,c=e.hasHeaderImage,s=e.isScrolling,a=e.onInspect,l=o.useMemo((function(){return[(0,w.z)(r)]}),[r]),u=k((function(e){return e.inspectedStickerPosition})),f=(0,I.el)({stickersCategories:l,stickerNodeMargin:te,stickerNodeWidth:ne,listWidth:t}),d=f.rowCountBySection,p=f.stickersGrid,b=f.gutterWidth;return(0,n.jsxs)("div",{className:i()(K().container,q({},K().containerWithHeader,c)),children:[(0,n.jsx)(F,{className:K().header,stickerPack:r,withDescription:!0},r.id),(0,n.jsx)("div",{onFocus:ce,onBlur:oe,onMouseOver:ce,onMouseOut:oe,children:function(){if(0===d.length)return null;for(var e=[],r=0;r<d[0];r++)e.push((0,n.jsx)(R.Z,{enlargeOnInteraction:!0,preferAnimation:!0,gutterWidth:b,inspectedStickerPosition:u,isScrolling:s,onInspect:a,rowIndex:r,
stickerDescriptors:p[r],stickerPadding:re,stickerSize:ee,isDisplayingIndividualStickers:!0,checkSendability:!1},r));return e}()})]})},ae=function(e){var r=e.onClose,t=e.stickerPack;(0,I.fP)();(0,b.Z$)(m.Z);var o=(0,l.e7)([y.default],(function(){return y.default.getCurrentUser()})),c=(0,l.e7)([x.Z],(function(){return x.Z.isPremiumPack(t.id)})),i=E.Z.useExperiment({},{autoTrackExposure:!1}).freeStickersEnabled;return(0,n.jsxs)(u.ModalFooter,{className:K().footer,children:[(0,n.jsx)(u.Anchor,{onClick:r,className:K().skuPreviewFooterCloseButton,children:T.Z.Messages.CLOSE}),c&&!(O.ZP.canUseStickersEverywhere(o)||i)&&(0,n.jsxs)(v.C,{color:u.Button.Colors.GREEN,type:"submit",innerClassName:K().premiumButtonInner,onClick:function(){r();(0,G.Z)({section:U.jXE.STICKER_PACK_VIEW_ALL})},children:[(0,n.jsx)(P.Z,{className:K().premiumButtonNitroWheel}),T.Z.Messages.STICKER_PACK_AVAILABLE_WITH_PREMIUM]})]})},le=function(e){var r=e.stickerPack,t=e.onClose,o=(0,w.sM)(r,1024);return null==o?null:(0,
n.jsxs)(u.ModalHeader,{className:K().headerWithImage,children:[(0,n.jsx)("div",{role:"image",style:{backgroundImage:"url(".concat(o,")")},className:K().backgroundImage}),(0,n.jsx)(u.ModalCloseButton,{className:K().closeButton,onClick:t})]})};function ue(e){var r=e.onClose,t=e.stickerPack,c=$(e,["onClose","stickerPack"]),i=Q(o.useState(null),2),s=i[0],a=i[1],l=o.useCallback((function(e){null!==e&&a(e.offsetWidth)}),[]);o.useLayoutEffect((function(){_()}),[]);return(0,n.jsx)(d.PaymentContextProvider,{activeSubscription:null,stepConfigs:[],skuIDs:[],children:(0,n.jsx)(u.ModalRoot,X(J({},c),{"aria-labelledby":"sticker-pack-sku-preview-modal",children:(0,n.jsx)(h.Z,{hideBreadcrumbs:!0,body:(0,n.jsx)("div",{ref:l,children:null!=s&&(0,n.jsx)(se,{stickerPack:t,hasHeaderImage:!0,onInspect:ie,width:s})}),footer:(0,n.jsx)(ae,{onClose:r,stickerPack:t}),header:(0,n.jsx)(le,{onClose:r,stickerPack:t}),onScroll:oe,steps:[p.h8.SKU_PREVIEW],currentStep:p.h8.SKU_PREVIEW})}))})}},669426:(e,r,t)=>{t.d(r,{
Z:()=>P});var n=t(785893),o=t(667294),c=t(294184),i=t.n(c),s=t(945460),a=t(107364),l=t(718831),u=t(49032),f=t.n(u);function d(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function p(e,r,t){r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t;return e}function b(e){b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return b(e)}function m(e,r){return!r||"object"!==y(r)&&"function"!=typeof r?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):r}function h(e,r){h=Object.setPrototypeOf||function(e,r){e.__proto__=r;return e};return h(e,r)}var y=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function v(e){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1
;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var t,n=b(e);if(r){var o=b(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return m(this,t)}}const P=function(e){!function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}});r&&h(e,r)}(t,e);var r=v(t);function t(){d(this,t);var e;(e=r.apply(this,arguments)).renderBreadcrumb=function(r,t){var o,c=e.props,a=c.activeId,u=c.onBreadcrumbClick,d=c.breadcrumbs,b=c.renderCustomBreadcrumb,m=c.separatorClassName,h=r.id===a,y=t===d.length-1,v=null!=b?b(r,h):(0,n.jsx)("span",{className:i()(f().breadcrumb,(o={},p(o,f().activeBreadcrumb,h),p(o,f().interactiveBreadcrumb,null!=u),o)),children:r.label});return(0,n.jsxs)("div",{
className:i()(f().breadcrumbWrapper,p({},f().breadcrumbFinalWrapper,y)),children:[null!=u?(0,n.jsx)(s.Clickable,{tag:"span",onClick:function(){return e.handleClick(r)},className:f().breadcrumbClickWrapper,children:v}):v,y?null:(0,n.jsx)(l.Z,{className:i()(f().breadcrumbArrow,m),direction:l.Z.Directions.RIGHT})]},r.id)};return e}var o=t.prototype;o.handleClick=function(e){var r=this.props.onBreadcrumbClick;null!=r&&r(e)};o.render=function(){var e=this.props,r=e.breadcrumbs,t=e.className,o=r.map(this.renderBreadcrumb);return(0,n.jsx)(a.Z,{justify:a.Z.Justify.START,className:i()(f().breadcrumbs,t),children:o})};return t}(o.PureComponent)}}]);
//# sourceMappingURL=979dba15786dd4f8d731.js.map