"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[99106],{199106:(e,n,t)=>{t.r(n);t.d(n,{default:()=>v});var r=t(785893),a=t(667294),i=t(518241),l=t(136481),o=t(897576),s=t(932847),c=t(488839),u=t(959797);var f=t(461061);function d(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t;return e}function T(e){var n=e.problem,t=e.channel,r=e.feedback,a=e.activityApplication,i=e.analyticsData,l=e.location,o=e.rating,c=void 0===o?null:o;s.default.track(f.rMx.ACTIVITY_REPORT_PROBLEM,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))));r.forEach((function(n){d(e,n,t[n])}))}return e}({reason:n,guild_id:t.getGuildId(),channel_id:t.id,application_id:null==a?void 0:a.id,
application_name:null==a?void 0:a.name,location:l,rating:c,feedback:r},i))}var p=t(682881);function m(e,n,t,r,a,i,l){try{var o=e[i](l),s=o.value}catch(e){t(e);return}o.done?n(s):Promise.resolve(s).then(r,a)}function b(e){return function(){var n=this,t=arguments;return new Promise((function(r,a){var i=e.apply(n,t);function l(e){m(i,r,a,l,o,"next",e)}function o(e){m(i,r,a,l,o,"throw",e)}l(void 0)}))}}function I(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t;return e}var h=function(e,n){var t,r,a,i,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(i){return function(o){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;l;)try{if(t=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;(r=0,
a)&&(i=[2&i[0],a.value]);switch(i[0]){case 0:case 1:a=i;break;case 4:l.label++;return{value:i[1],done:!1};case 5:l.label++;r=i[1];i=[0];continue;case 7:i=l.ops.pop();l.trys.pop();continue;default:if(!(a=l.trys,a=a.length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){l=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){l.label=i[1];break}if(6===i[0]&&l.label<a[1]){l.label=a[1];a=i;break}if(a&&l.label<a[2]){l.label=a[2];l.ops.push(i);break}a[2]&&l.ops.pop();l.trys.pop();continue}i=n.call(e,l)}catch(e){i=[6,e];r=0}finally{t=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}},_=[c.K8.OTHER,c.K8.NOT_FUN];function v(e){var n,d=e.channel,m=e.activityApplication,v=e.onClose,g=e.transitionState,O=e.analyticsData;a.useEffect((function(){s.default.track(f.rMx.OPEN_MODAL,{type:"Activity Feedback Modal",application_id:m.id,application_name:m.name,game_id:m.id,source:"Activity End"})}),[m]);return(0,r.jsx)(i.Z,{header:u.Z.Messages.ACTIVITY_REPORT_POST_ACTIVITY_HEADER.format({
applicationName:m.name}),body:u.Z.Messages.ACTIVITY_REPORT_ACTIVITY_BODY,problemTitle:u.Z.Messages.ACTIVITY_REPORT_POST_ACTIVITY_PROBLEM_TITLE,problems:(n=!0,[{value:c.K8.FAILED_LOAD,label:n?u.Z.Messages.ACTIVITY_REPORT_ACTIVITY_END_FAILED_LOAD:u.Z.Messages.ACTIVITY_REPORT_ACTIVITY_FAILED_LOAD},{value:c.K8.LAGGING,label:n?u.Z.Messages.ACTIVITY_REPORT_ACTIVITY_END_LAGGING:u.Z.Messages.ACTIVITY_REPORT_ACTIVITY_LAGGING},{value:c.K8.CONFUSING,label:n?u.Z.Messages.ACTIVITY_REPORT_ACTIVITY_END_CONFUSING:u.Z.Messages.ACTIVITY_REPORT_ACTIVITY_CONFUSING},{value:c.K8.NOT_FUN,label:n?u.Z.Messages.ACTIVITY_REPORT_ACTIVITY_END_NOT_FUN:u.Z.Messages.ACTIVITY_REPORT_ACTIVITY_NOT_FUN},{value:c.K8.OTHER,label:u.Z.Messages.CALL_FEEDBACK_OPTION_OTHER}]),feedbackProblems:_,onSubmit:function(e){var n=e.rating,a=e.problem,i=e.dontShowAgain,c=e.feedback;i&&function(e){var n=e.applicationId,t=e.rating;s.default.track(f.rMx.ACTIVITY_REPORT_DONT_SHOW,{application_id:n,rating:t});(0,
l.Kw)(p.v.POST_ACTIVITY_FEEDBACK)}({rating:n,applicationId:m.id});if(null!=n){T({problem:a,channel:d,feedback:c,activityApplication:m,analyticsData:O,location:"Activity End",rating:n});null!=a&&o.ZD(b((function(){var e,n;return h(this,(function(a){switch(a.label){case 0:return[4,Promise.all([t.e(40532),t.e(76325)]).then(t.bind(t,876325))];case 1:e=a.sent(),n=e.default;return[2,function(e){return(0,r.jsx)(n,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))));r.forEach((function(n){I(e,n,t[n])}))}return e}({body:u.Z.Messages.ACTIVITY_REPORTED_BODY},e))}]}}))})))}},onClose:v,transitionState:g,otherKey:c.K8.OTHER})}},276256:(e,n,t)=>{t.d(n,{B:()=>i});var r=t(496486),a=t.n(r),i=function(e,n){var t=a().shuffle(e),r=t.findIndex((function(e){return e.value===n}))
;if(r>-1){var i=t[r];t.splice(r,1);t.push(i)}return t}},518241:(e,n,t)=>{t.d(n,{Z:()=>N});var r=t(785893),a=t(667294),i=t(294184),l=t.n(i),o=t(496486),s=t.n(o),c=t(331535),u=t(244028),f=t(825611),d=t(487502),T=t(272729),p=t(160036),m=t(67416),b=t(95467),I=t(276256),h=t(76997),_=t(959797),v=t(839319),g=t.n(v);function O(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function y(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,a,i=[],l=!0,o=!1;try{for(t=t.call(e);!(l=(r=t.next()).done);l=!0){i.push(r.value);if(n&&i.length===n)break}}catch(e){o=!0;a=e}finally{try{l||null==t.return||t.return()}finally{if(o)throw a}}return i}}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return O(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name)
;if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return O(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var A=[{className:g().emojiSad,rating:h.aZ.BAD},{className:g().emojiNeutral,rating:h.aZ.NEUTRAL},{className:g().emojiHappy,rating:h.aZ.GOOD}];function E(e){var n=e.className,t=e.selectedRating,a=e.onChangeRating;return(0,r.jsx)(d.Z,{justify:d.Z.Justify.BETWEEN,align:d.Z.Align.CENTER,className:l()(g().ratingsSelector,n),children:A.map((function(e){var n=e.rating,i=e.className;return(0,r.jsx)(c.P3,{onClick:function(){return a(n)},"aria-label":n,children:(0,r.jsx)("div",{className:l()(i,t===n?g().selected:null)})},n)}))})}function x(){return(0,r.jsx)(c.xv,{className:g().helpdeskLink,variant:"text-xs/normal",color:"text-muted",children:_.Z.Messages.FEEDBACK_NEED_MORE_HELP.format({
helpdeskURL:b.Z.getSubmitRequestURL()})})}function N(e){var n=e.header,t=e.body,i=e.problemTitle,l=e.problems,o=e.transitionState,b=e.feedbackProblems,v=void 0===b?[]:b,O=e.otherKey,A=e.onSubmit,N=e.onClose,C=(0,u.Z)(l),R=y(a.useState(!1),2),j=R[0],Z=R[1],S=y(a.useState(null),2),P=S[0],D=S[1],k=y(a.useState(null),2),M=k[0],Y=k[1],L=y(a.useState(s().shuffle(l)),2),w=L[0],V=L[1],G=y(a.useState(""),2),K=G[0],B=G[1],F=(0,T.Dt)(),z=(0,p.Z)(P),U=(0,p.Z)(j),H=(0,p.Z)(M),J=(0,p.Z)(A),W=(0,p.Z)(K),X=null!=M&&v.includes(M);a.useEffect((function(){s().isEqual(C,l)||V((0,I.B)(l,O))}),[l,C,O]);a.useEffect((function(){return function(){J.current({rating:z.current,problem:H.current,dontShowAgain:U.current,feedback:W.current})}}),[]);return(0,r.jsxs)(m.Y0,{transitionState:o,className:g().modalRoot,"aria-labelledby":F,children:[(0,r.jsxs)(m.xB,{separator:!1,className:g().headerContainer,children:[(0,r.jsx)(c.X6,{id:F,variant:"heading-xl/extrabold",color:"none",children:n}),(0,r.jsx)(c.xv,{
variant:"text-md/normal",color:"none",className:g().ratingBody,children:t}),X?null:(0,r.jsx)(E,{className:g().emojis,selectedRating:P,onChangeRating:function(e){D(e);e===h.aZ.GOOD&&N()}})]}),(0,r.jsxs)(m.hz,{className:g().content,children:[null==P||P===h.aZ.GOOD||X?null:(0,r.jsx)(c.xJ,{title:i,className:g().problemInfo,children:(0,r.jsx)(f.Z,{options:w,onClick:function(e){var n=e.value;Y(n);v.includes(n)||N()}})}),X?(0,r.jsxs)(c.xJ,{title:_.Z.Messages.FEEDBACK_DESCRIBE_ISSUE,className:g().problemInfo,children:[(0,r.jsx)(c.Kx,{value:K,maxLength:h.iF,onChange:B}),(0,r.jsx)(x,{})]}):null]}),(0,r.jsx)(m.mz,{className:g().footer,direction:d.Z.Direction.HORIZONTAL,children:X?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.zx,{size:c.zx.Sizes.SMALL,look:c.zx.Looks.LINK,color:c.zx.Colors.PRIMARY,onClick:function(){Y(null);B("")},children:_.Z.Messages.BACK}),(0,r.jsx)(c.zx,{size:c.zx.Sizes.SMALL,onClick:N,children:_.Z.Messages.SUBMIT})]}):(0,r.jsx)(c.XZ,{type:c.XZ.Types.INVERTED,size:18,value:j,
onChange:function(){return Z(!j)},children:(0,r.jsx)(c.xv,{variant:"text-sm/normal",children:_.Z.Messages.DONT_SHOW_AGAIN})})})]})}},825611:(e,n,t)=>{t.d(n,{Z:()=>u});var r=t(785893),a=(t(667294),t(294184)),i=t.n(a),l=t(331535),o=t(414597),s=t(94480),c=t.n(s);function u(e){var n=e.options,t=e.onClick,a=e.className,s=e.optionClassName;return(0,r.jsx)("div",{className:i()(c().root,a),children:n.map((function(e,n){return(0,r.jsxs)(l.P3,{onClick:function(){return t(e)},className:i()(c().option,s),children:[(0,r.jsx)(l.xv,{className:c().text,color:"none",variant:"text-md/normal",children:e.label}),(0,r.jsx)(o.Z,{className:c().caret,direction:o.Z.Directions.RIGHT})]},n)}))})}}}]);
//# sourceMappingURL=417dfdd7413e4959681f.js.map