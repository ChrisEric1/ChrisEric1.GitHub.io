"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[32734],{879605:(e,t,n)=>{n.d(t,{Z:()=>E});var r=n(785893),i=n(667294),o=n(294184),s=n.n(o),c=n(487502),a=n(543151),l=n.n(a);function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function f(e){f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return f(e)}function d(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e,t){h=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return h(e,t)}var m,b,v,y=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function g(e){var t=function(){
if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d(this,n)}}!function(e){e.PRIMARY="primary";e.SECONDARY="secondary";e.WARNING="warning";e.ERROR="error"}(m||(m={}));!function(e){e.SMALL="small";e.LARGE="large";e.NONE="none"}(b||(b={}));var O,P=(p(v={},m.PRIMARY,l().colorPrimary),p(v,m.SECONDARY,l().colorSecondary),p(v,m.WARNING,l().colorWarning),p(v,m.ERROR,l().colorError),v),j=(p(O={},b.SMALL,l().small),p(O,b.LARGE,l().large),p(O,b.NONE,null),O),S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,
configurable:!0}});t&&h(e,t)}(n,e);var t=g(n);function n(){u(this,n);return t.apply(this,arguments)}n.prototype.render=function(){var e=this.props,t=e.icon,n=e.color,i=e.children,o=e.iconSize,a=e.className,u=e.iconClassName;return(0,r.jsxs)(c.Z,{className:s()(l().note,P[n],a),align:c.Z.Align.CENTER,children:[(0,r.jsx)(t,{className:s()(l().icon,j[o],u)}),(0,r.jsx)("div",{children:i})]})};return n}(i.PureComponent);S.Colors=m;S.Sizes=b;const E=S},960136:(e,t,n)=>{n.d(t,{Z:()=>u});var r=n(785893),i=(n(667294),n(294184)),o=n.n(i),s=n(842256),c=n(658350),a=n(441877),l=n.n(a);function u(e){var t=e.className,n=(0,c.usePaymentContext)(),i=n.step,a=n.breadcrumbs;return null==a?null:(0,r.jsx)("div",{className:o()("breadcrumb",l().wrapper,t),children:(0,r.jsx)(s.Z,{activeId:i,breadcrumbs:a})})}},587583:(e,t,n)=>{n.d(t,{Z:()=>N});var r=n(785893),i=n(667294),o=n(886664),s=n(294184),c=n.n(s),a=n(365523),l=n(331535),u=n(879605),p=n(323657),f=n(428455),d=n(658350),h=n(390599),m=(n(960136),n(709947),
n(40188)),b=n(842256),v=n(370678),y=n(318937),g=n(539433),O=n(461061),P=n(959797),j=n(103749),S=n.n(j),E=new Set([h.h8.SKU_SELECT,h.h8.AWAITING_AUTHENTICATION,h.h8.AWAITING_PURCHASE_TOKEN_AUTH,h.h8.CONFIRM]);function N(e){var t=e.steps,n=e.currentStep,s=e.body,j=e.paymentError,N=e.header,k=e.footer,x=e.isGift,w=void 0!==x&&x,I=e.giftMessage,C=void 0===I?P.Z.Messages.PREMIUM_PAYMENT_IS_GIFT:I,R=e.isSeasonalGift,_=void 0!==R&&R,A=e.hideBreadcrumbs,T=void 0!==A&&A,M=e.isLoading,D=void 0!==M&&M,Z=e.purchaseError,H=e.purchaseErrorBlockRef,L=e.planError,B=e.onScroll,G=e.scrollerClassName,W=e.hasCurrencies,K=void 0!==W&&W,U=null;null!=j&&null==(0,h.ly)(j)?U=j:null!=Z?U=Z:null!=L&&(U=L);var F=null!=U?U.message:"";if(null!=U&&U instanceof p.HF){U.code===f.SM.CARD_DECLINED&&K&&(F+=" ".concat(P.Z.Messages.BILLING_ERROR_TRY_ANOTHER));U.code===f.SM.INVALID_GIFT_REDEMPTION_FRAUD_REJECTED&&(F=P.Z.Messages.GIFT_CODE_SMITE_REJECT_HELP_TEXT)
;U.code===O.evJ.BILLING_NON_REFUNDABLE_PAYMENT_SOURCE&&(F=P.Z.Messages.GIFT_CODE_PAYMENT_SOURCE_INVALID)}var V=(0,d.usePaymentContext)().stripe;D=D||null==V;var Y=i.useRef(new a.V7);i.useEffect((function(){var e=Y.current;null!=V||e.isStarted()?null!=V&&e.stop():e.start(1e4,(function(){var e=new Error("Stripe took too long to load");(0,g.q2)(e)}));return function(){e.stop()}}),[V]);var z=t.includes(h.h8.PAYMENT_TYPE)?h.h8.PAYMENT_TYPE:h.h8.ADD_PAYMENT_STEPS;return(0,r.jsxs)(o.Elements,{options:O.OBo,stripe:V,children:[N,(0,r.jsxs)("div",{className:c()("paymentModalContent",S().content),children:[w&&!_&&n!==h.h8.CONFIRM?(0,r.jsx)(u.Z,{className:S().paymentNote,iconSize:u.Z.Sizes.SMALL,icon:v.Z,color:null==C?u.Z.Colors.PRIMARY:u.Z.Colors.SECONDARY,children:C}):null,T?null:(0,r.jsx)("div",{className:S().breadcrumbsWrapper,children:(0,r.jsx)(b.Z,{activeId:h.Ck.has(n)?z:n,breadcrumbs:t.filter((function(e){return!h.Ck.has(e)&&!E.has(e)})).map((function(e){return{id:e,label:(0,h.DJ)(e)}}))})
}),(0,r.jsxs)("div",{className:S().bodyWrapper,children:[null==U?null:(0,r.jsx)("div",{className:S().errorBlockWrapper,children:(0,r.jsx)(l.kz,{ref:H,children:F})}),D?(0,r.jsx)(l.$j,{className:S().loadingBlock}):(0,r.jsx)(m.Z,{className:S().sequencer,staticClassName:S().sequencerStatic,animatedNodeClassName:S().sequencerAnimatedNode,fillParent:!0,step:n,steps:t,sideMargin:20,children:(0,r.jsx)(y.h2,{onScroll:B,className:c()(S().scroller,G),children:s})})]})]}),k]})}},40188:(e,t,n)=>{n.d(t,{Z:()=>S});var r=n(785893),i=n(667294),o=n(294184),s=n.n(o),c=n(738017),a=n(589175),l=n(39802),u=n(913165),p=n.n(u);function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function h(e){h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return h(e)}function m(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&y(e,t)}function b(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function v(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e,t){y=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return y(e,t)}var g,O=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v(this,n)}}!function(e){e[e.ENTERING=0]="ENTERING";e[e.LEAVING=1]="LEAVING";e[e.APPEARING=2]="APPEARING";e[e.STATIC=3]="STATIC"}(g||(g={}));var j=function(e){m(n,e);var t=P(n);function n(){f(this,n);var e;(e=t.apply(this,arguments)).state={animationProgress:new c.Z.Value(0),targetHeight:0,baseHeight:0,animationState:null};e.direction=e.props.getDirection();e._measureRef=i.createRef();return e}var o=n.prototype;o.componentDidMount=function(){if(null!=this._measureRef.current){
var e=this._measureRef.current.getBoundingClientRect().height;this.setState({targetHeight:e,baseHeight:this.props.getBaseHeight()})}};o.componentDidUpdate=function(e,t){t.targetHeight!==this.state.targetHeight&&this.props.setHeight(this.state.targetHeight)};o.componentWillAppear=function(e){this.setState({animationState:g.APPEARING});e()};o.componentDidAppear=function(){var e=this.state,t=e.animationProgress,n=e.targetHeight;t.setValue(2);this.setState({animationState:g.STATIC,baseHeight:n})};o.componentWillEnter=function(e){var t=this.props.duration,n=this.state.animationProgress;this.setState({animationState:g.ENTERING});this.props.setHeight(this.state.targetHeight);c.Z.timing(n,{toValue:2,duration:t,delay:t/2}).start(e)};o.componentDidEnter=function(){this.setState({animationState:g.STATIC})};o.componentWillLeave=function(e){var t=this.state.animationProgress,n=this.props,r=n.duration,i=n.getDirection;this.direction=i();this.setState({animationState:g.LEAVING});c.Z.timing(t,{
toValue:0,duration:r}).start(e)};o.componentDidLeave=function(){this.setState({animationState:g.STATIC})};o.getAnimatedStyle=function(){var e,t,n=this.context.reducedMotion,r=this.props.fillParent,i=this.state,o=i.animationProgress,s=i.animationState,a=i.baseHeight,l=i.targetHeight,u=null!==(e=this.props.sideMargin)&&void 0!==e?e:0,p=null!==(t=this.props.verticalMargin)&&void 0!==t?t:0,f=s===g.LEAVING,h=s===g.ENTERING,m=(f?-1:1)*this.direction,v={overflow:h||f?"hidden":"visible",position:f?"absolute":void 0,top:f?p:void 0,left:f?u:void 0,right:f?u:void 0,bottom:f?p:void 0},y={transform:[{translateX:o.interpolate({inputRange:[0,2],outputRange:["".concat(150*m,"%"),"0%"],extrapolate:"clamp",easing:c.Z.Easing.inOut(c.Z.Easing.ease)})}]};return b(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){d(e,t,n[t])}))}return e}({},v,n.enabled?null:y),{opacity:o.interpolate({inputRange:[0,2],outputRange:[0,1],extrapolate:"clamp",easing:c.Z.Easing.inOut(c.Z.Easing.ease)}),height:h?o.interpolate({inputRange:[0,1],outputRange:[a,l],extrapolate:"clamp",easing:c.Z.Easing.inOut(c.Z.Easing.ease)}):r?"100%":"auto"})};o.render=function(){var e=this.props,t=e.fillParent,n=e.className,i=e.animatedNodeClassName,o=e.staticClassName,a=this.state.animationState;return t?(0,r.jsx)("div",{ref:this._measureRef,className:s()(p().measurementFill,n,d({},s()(p().measurementFillStatic,o),a===g.STATIC)),children:(0,r.jsx)(c.Z.div,{className:s()(p().animatedNode,i),style:this.getAnimatedStyle(),children:this.props.children})}):(0,r.jsx)("div",{ref:this._measureRef,className:s()(p().measurement,n),children:(0,r.jsx)(c.Z.div,{className:s()(p().animatedNode,i),style:this.getAnimatedStyle(),children:this.props.children})})};return n
}(i.PureComponent);j.contextType=l.S;j.defaultProps={duration:300};var S=function(e){m(n,e);var t=P(n);function n(){f(this,n);var e;(e=t.apply(this,arguments)).stepHeights={};e.prevStep=null;e.prevSteps=[];e.getBaseHeight=function(){return null!=e.prevStep&&null!=e.stepHeights[e.prevStep]?e.stepHeights[e.prevStep]:0};e.getDirection=function(){var t=e.props,n=t.steps,r=t.step,i=null!=e.prevStep?n.indexOf(e.prevStep):-1,o=-1===i&&null!=e.prevStep?e.prevSteps.indexOf(e.prevStep):-1;return Math.max(i,o)>n.indexOf(r)?-1:1};e.setHeight=function(t){var n=e.props.step;e.stepHeights[n]=t};return e}var i=n.prototype;i.componentDidMount=function(){this.setPrevSteps()};i.componentDidUpdate=function(){this.setPrevSteps()};i.setPrevSteps=function(){var e=this.props,t=e.step,n=e.steps;this.prevStep=t;this.prevSteps=n};i.render=function(){
var e=this.props,t=e.step,n=e.className,i=e.innerClassName,o=e.animatedNodeClassName,c=e.staticClassName,l=e.sideMargin,u=e.verticalMargin,f=e.children,d=e.fillParent;return(0,r.jsx)(a.Z,{component:"div",className:s()(p().transitionGroup,n),children:(0,r.jsx)(j,{fillParent:d,sideMargin:l,verticalMargin:u,getDirection:this.getDirection,getBaseHeight:this.getBaseHeight,className:i,animatedNodeClassName:o,staticClassName:c,setHeight:this.setHeight,children:f},"".concat(t))})};return n}(i.Component);S.defaultProps={fillParent:!1}},772669:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(785893),i=(n(667294),n(519073)),o=n(440392),s=n.n(o);const c=function(e){var t=e.size;return(0,r.jsx)("div",{className:s().unownedStickerLockContainer,style:{width:t,height:t},children:(0,r.jsx)(i.Z,{width:12,height:12,className:s().unownedStickerLockIcon})})}},132734:(e,t,n)=>{n.r(t);n.d(t,{StickerPackViewAllModalFooter:()=>ce,default:()=>le})
;var r=n(785893),i=n(667294),o=n(294184),s=n.n(o),c=n(23279),a=n.n(c),l=n(363010),u=n(331535),p=n(658350),f=n(390599),d=n(587583),h=n(859023),m=n(889373),b=n(732031),v=n(67416),y=n(74030),g=n(912551),O=n(185253),P=Object.freeze({inspectedStickerPosition:{rowIndex:-1,columnIndex:-1}}),j=(0,O.Z)((function(e){return P})),S=j,E=function(e,t,n){j.setState({inspectedStickerPosition:{rowIndex:t,columnIndex:e,source:n}})},N=function(){E(-1,-1)},k=n(543532),x=n(876679),w=n(673973),I=n(735084),C=n(757987),R=n(10178),_=n(959797),A=n(354826),T=n.n(A);function M(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function D(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})))
;n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var Z=function(e){var t=e.stickerPack;return(0,r.jsx)("div",{className:T().features,children:(0,w.X_)(t)?(0,r.jsx)(C.ZP,{tooltipClassName:T().featuresTooltip,position:C.ZP.Positions.TOP,text:_.Z.Messages.STICKER_PICKER_PACK_DETAILS_ANIMATED,children:function(e){return(0,r.jsx)(R.Z,D(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){M(e,t,n[t])}))}return e}({},e),{className:T().featureIcon}))}}):null})},H=function(e){var t=e.className,n=e.stickerPack,i=e.withDescription,o=void 0!==i&&i;return(0,r.jsxs)("div",{className:s()(T().header,t),children:[(0,r.jsxs)("div",{className:T().title,children:[(0,
r.jsx)(u.X6,{className:T().heading,variant:"heading-sm/semibold",children:n.name}),(0,r.jsx)(Z,{stickerPack:n})]}),o&&null!=n.description&&(0,r.jsx)(u.xv,{className:T().description,variant:"text-sm/normal",children:n.description}),(0,r.jsx)("div",{className:T().count,children:_.Z.Messages.STICKER_PACK_STICKER_COUNT.format({numStickers:n.stickers.length})})]})};const L=i.memo(H);var B=n(6163),G=n(796165),W=n(461061),K=n(925437),U=n.n(K),F=n(718076),V=n.n(F);function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function z(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){
z(e,t,n[t])}))}return e}function J(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function q(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(i[n]=e[n])}return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}}return i}function $(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],s=!0,c=!1;try{for(n=n.call(e);!(s=(r=n.next()).done);s=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){c=!0;i=e}finally{try{s||null==n.return||n.return()}finally{if(c)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Q=(0,g.Mg)(V().stickerPurchasePackPreviewDimensions),ee=(0,g.Mg)(V().stickerPurchasePackPreviewPadding),te=(0,g.Mg)(V().stickerPurchasePackPreviewMargin),ne=Q+2*ee,re=a()(N,250),ie=function(){re.cancel()
},oe=function(e){var t=e.visibleRowIndex,n=e.columnIndex;re.cancel();E(n,t,G.RF.MOUSE_EVENT)},se=function(e){var t=e.stickerPack,n=e.width,o=e.hasHeaderImage,c=e.isScrolling,a=e.onInspect,l=i.useMemo((function(){return[(0,w.z)(t)]}),[t]),u=S((function(e){return e.inspectedStickerPosition})),p=(0,k.el)({stickersCategories:l,stickerNodeMargin:te,stickerNodeWidth:ne,listWidth:n}),f=p.rowCountBySection,d=p.stickersGrid,h=p.gutterWidth;return(0,r.jsxs)("div",{className:s()(U().container,z({},U().containerWithHeader,o)),children:[(0,r.jsx)(L,{className:U().header,stickerPack:t,withDescription:!0},t.id),(0,r.jsx)("div",{onFocus:ie,onBlur:re,onMouseOver:ie,onMouseOut:re,children:function(){if(0===f.length)return null;for(var e=[],t=0;t<f[0];t++)e.push((0,r.jsx)(I.Z,{enlargeOnInteraction:!0,preferAnimation:!0,gutterWidth:h,inspectedStickerPosition:u,isScrolling:c,onInspect:a,rowIndex:t,stickerDescriptors:d[t],stickerPadding:ee,stickerSize:Q,isDisplayingIndividualStickers:!0,checkSendability:!1
},t));return e}()})]})},ce=function(e){var t=e.onClose,n=e.stickerPack;(0,k.fP)();var i=(0,l.e7)([h.default],(function(){return h.default.getCurrentUser()})),o=(0,l.e7)([x.Z],(function(){return x.Z.isPremiumPack(n.id)}));return(0,r.jsxs)(v.mz,{className:U().footer,children:[(0,r.jsx)(u.ee,{onClick:t,className:U().skuPreviewFooterCloseButton,children:_.Z.Messages.CLOSE}),o&&!y.ZP.canUseStickersEverywhere(i)&&(0,r.jsxs)(m.C,{color:u.zx.Colors.GREEN,type:"submit",innerClassName:U().premiumButtonInner,onClick:function(){t();(0,B.Z)({section:W.jXE.STICKER_PACK_VIEW_ALL})},children:[(0,r.jsx)(b.Z,{className:U().premiumButtonNitroWheel}),_.Z.Messages.STICKER_PACK_AVAILABLE_WITH_PREMIUM]})]})},ae=function(e){var t=e.stickerPack,n=e.onClose,i=(0,w.sM)(t,1024);return null==i?null:(0,r.jsxs)(v.xB,{className:U().headerWithImage,children:[(0,r.jsx)("div",{role:"image",style:{backgroundImage:"url(".concat(i,")")},className:U().backgroundImage}),(0,r.jsx)(v.ol,{className:U().closeButton,onClick:n})]
})};function le(e){var t=e.onClose,n=e.stickerPack,o=q(e,["onClose","stickerPack"]),s=$(i.useState(null),2),c=s[0],a=s[1],l=i.useCallback((function(e){null!==e&&a(e.offsetWidth)}),[]);i.useLayoutEffect((function(){N()}),[]);return(0,r.jsx)(p.PaymentContextProvider,{activeSubscription:null,stepConfigs:[],skuIDs:[],children:(0,r.jsx)(v.Y0,J(X({},o),{"aria-labelledby":"sticker-pack-sku-preview-modal",children:(0,r.jsx)(d.Z,{hideBreadcrumbs:!0,body:(0,r.jsx)("div",{ref:l,children:null!=c&&(0,r.jsx)(se,{stickerPack:n,hasHeaderImage:!0,onInspect:oe,width:c})}),footer:(0,r.jsx)(ce,{onClose:t,stickerPack:n}),header:(0,r.jsx)(ae,{onClose:t,stickerPack:n}),onScroll:re,steps:[f.h8.SKU_PREVIEW],currentStep:f.h8.SKU_PREVIEW})}))})}},735084:(e,t,n)=>{n.d(t,{Z:()=>A})
;var r=n(785893),i=n(667294),o=n(294184),s=n.n(o),c=n(496486),a=n(164555),l=n(331535),u=n(281081),p=n(842592),f=n(542448),d=n(897576),h=n(932847),m=n(661311),b=n(893264),v=n(673973),y=n(493266),g=n(772669),O=n(461061),P=n(959797),j=n(692933),S=n.n(j);function E(e,t,n,r,i,o,s){try{var c=e[o](s),a=c.value}catch(e){n(e);return}c.done?t(a):Promise.resolve(a).then(r,i)}function N(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){E(o,r,i,s,c,"next",e)}function c(e){E(o,r,i,s,c,"throw",e)}s(void 0)}))}}function k(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){k(e,t,n[t])}))
}return e}function w(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function I(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(i[n]=e[n])}return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}}return i}var C=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},
"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;(r=0,i)&&(o=[2&o[0],i.value]);switch(o[0]){case 0:case 1:i=o;break;case 4:s.label++;return{value:o[1],done:!1};case 5:s.label++;r=o[1];o=[0];continue;case 7:o=s.ops.pop();s.trys.pop();continue;default:if(!(i=s.trys,i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1];i=o;break}if(i&&s.label<i[2]){s.label=i[2];s.ops.push(o);break}i[2]&&s.ops.pop();s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e];r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}},R=(0,a.Mg)(S().stickerPickerPreviewDimensions),_=(0,
a.Mg)(S().stickerPickerPreviewPadding);const A=i.memo((function(e){var t=e.isDisplayingIndividualStickers,o=void 0!==t&&t,a=e.preferAnimation,j=void 0===a||a,E=e.getStickerItemProps,A=e.getStickerRowProps,T=e.gutterWidth,M=e.inspectedStickerPosition,D=e.isScrolling,Z=e.isUsingKeyboardNavigation,H=e.onInspect,L=e.onSelect,B=e.rowIndex,G=e.stickerClassName,W=e.stickerDescriptors,K=e.stickerPadding,U=void 0===K?_:K,F=e.stickerSize,V=void 0===F?R:F,Y=e.ownedStickerPacks,z=e.enlargeOnInteraction,X=void 0!==z&&z,J=e.channel,q=e.currentUser,$=e.checkSendability,Q=void 0===$||$,ee=(0,p.O)().location,te=V+2*U,ne=i.useMemo((function(){return{gridColumnGap:T,gridTemplateColumns:"repeat(auto-fill, ".concat(te,"px)"),height:te,paddingRight:o?void 0:te}}),[o,T,te]),re=i.useMemo((function(){return{width:V,height:V,padding:U}}),[U,V]);return(0,r.jsx)("div",w(x({className:S().row,style:ne},null==A?void 0:A(B)),{children:W.map((function(e){
var t,a=e.visibleRowIndex===(null==M?void 0:M.rowIndex)&&e.columnIndex===(null==M?void 0:M.columnIndex),p=e.type===b.al.STICKER&&X&&a,R=(0,c.throttle)((function(){!0===(null==D?void 0:D.current)||!0===(null==Z?void 0:Z.current)||a||null==H||H(e)}),250),_=null!==(t=null==E?void 0:E(e.columnIndex,B))&&void 0!==t?t:{},A=_.ref,T=_.tabIndex,W=_.onFocus,K=I(_,["ref","tabIndex","onFocus"]);switch(e.type){case b.al.CREATE_STICKER:return(0,r.jsx)("div",w(x({},K),{children:(0,r.jsxs)(l.P3,{"aria-label":e.name,className:s()(S().createSticker,G,k({},S().createInspected,a)),innerRef:A,tabIndex:T,onFocus:null!=W?W:R,onMouseMove:R,onClick:function(){if(e.type===b.al.CREATE_STICKER){h.default.track(O.rMx.OPEN_MODAL,{type:O.jXE.CREATE_STICKER_MODAL,location:ee});(0,d.ZD)(N((function(){var t,i;return C(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(78521),n.e(69667)]).then(n.bind(n,978521))];case 1:t=o.sent(),i=t.default;return[2,function(t){return(0,r.jsx)(i,x({
guildId:e.guild_id},t))}]}}))})))}},style:re,children:[!X&&(0,r.jsx)("div",{className:S().inspectedIndicator}),(0,r.jsx)("div",{className:S().iconWrapper,children:(0,r.jsx)(f.Z,{className:S().icon})}),(0,r.jsx)(l.xv,{color:"interactive-active",variant:"text-xs/normal",children:P.Z.Messages.STICKER_PICKER_CREATE_STICKER})]})}),e.guild_id);case b.al.STICKER:var U,F=o&&null!=Y&&(0,v.jl)(e.sticker)&&!Y.has(e.sticker.pack_id);return(0,i.createElement)("div",w(x({},K),{key:e.sticker.id}),(0,r.jsxs)(l.P3,{className:s()(S().sticker,G,k({},S().stickerInspected,a)),innerRef:A,tabIndex:T,onFocus:null!=W?W:R,onMouseMove:R,onClick:function(t){!0!==(null==D?void 0:D.current)&&!0!==(null==Z?void 0:Z.current)&&(null==L||L(e,t))},onContextMenu:function(e){(0,u.jW)(e,N((function(){var e,t;return C(this,(function(i){switch(i.label){case 0:return[4,n.e(90794).then(n.bind(n,690794))];case 1:e=i.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,x({},e))}]}}))})))},style:re,"data-type":"sticker",
"data-id":e.sticker.id,children:[(0,r.jsx)(l.nn,{children:(0,y.Co)(e.sticker)}),(0,r.jsxs)("div",{"aria-hidden":!0,children:[!X&&(0,r.jsx)("div",{className:S().inspectedIndicator}),(0,r.jsx)(y.ZP,{className:s()(S().stickerNode,(U={},k(U,S().stickerNodeDimmed,X&&!a&&null!=M&&-1!==M.rowIndex&&-1!==M.columnIndex),k(U,S().stickerNodeHidden,p),k(U,S().stickerUnsendable,Q&&!(0,m.kl)(e.sticker,q,J)),U)),disableAnimation:!a&&!j,enlargeOnInteraction:X,isInteracting:a,maskAsset:a,sticker:e.sticker,size:V}),F?(0,r.jsx)(g.Z,{size:20}):null]})]}))}}))}))}))},842256:(e,t,n)=>{n.d(t,{Z:()=>g});var r=n(785893),i=n(667294),o=n(294184),s=n.n(o),c=n(331535),a=n(487502),l=n(414597),u=n(70821),p=n.n(u);function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function h(e){h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){
return e.__proto__||Object.getPrototypeOf(e)};return h(e)}function m(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e,t){b=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return b(e,t)}var v=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m(this,n)}}const g=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&b(e,t)}(n,e);var t=y(n);function n(){f(this,n);var e;(e=t.apply(this,arguments)).renderBreadcrumb=function(t,n){var i,o=e.props,a=o.activeId,u=o.onBreadcrumbClick,f=o.breadcrumbs,h=o.renderCustomBreadcrumb,m=o.separatorClassName,b=t.id===a,v=n===f.length-1,y=null!=h?h(t,b):(0,r.jsx)("span",{className:s()(p().breadcrumb,(i={},d(i,p().activeBreadcrumb,b),d(i,p().interactiveBreadcrumb,null!=u),i)),children:t.label});return(0,r.jsxs)("div",{className:s()(p().breadcrumbWrapper,d({},p().breadcrumbFinalWrapper,v)),children:[null!=u?(0,r.jsx)(c.P3,{tag:"span",onClick:function(){return e.handleClick(t)},className:p().breadcrumbClickWrapper,children:y}):y,v?null:(0,r.jsx)(l.Z,{className:s()(p().breadcrumbArrow,m),direction:l.Z.Directions.RIGHT})]},t.id)};return e}var i=n.prototype
;i.handleClick=function(e){var t=this.props.onBreadcrumbClick;null!=t&&t(e)};i.render=function(){var e=this.props,t=e.breadcrumbs,n=e.className,i=t.map(this.renderBreadcrumb);return(0,r.jsx)(a.Z,{justify:a.Z.Justify.START,className:s()(p().breadcrumbs,n),children:i})};return n}(i.PureComponent)}}]);
//# sourceMappingURL=9caa063560990b675ed7.js.map