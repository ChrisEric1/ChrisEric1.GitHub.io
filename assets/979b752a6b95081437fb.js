"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[38657],{138657:(e,t,r)=>{r.r(t);r.d(t,{GuildSelectModalHeader:()=>L,GuildSelectModalBody:()=>y,default:()=>G});var n=r(785893),a=r(667294),l=r(824390),s=r.n(l),i=r(202351),o=r(945460),u=r(735885),c=r(784426),d=r(741338),m=r(567403),S=r(107218),I=r(124251),_=r(190186),f=r(930865),M=r(2590),C=r(473708),E=r(721123),h=r.n(E);function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,l=[],s=!0,i=!1;try{for(r=r.call(e);!(s=(n=r.next()).done);s=!0){l.push(n.value);if(t&&l.length===t)break}}catch(e){i=!0;a=e}finally{try{s||null==r.return||r.return()}finally{if(i)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return U(e,t)
;var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return U(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e){var t=e.isTransfer,r=void 0!==t&&t,a=e.setQuery,l=e.query;return(0,n.jsxs)(o.ModalHeader,{className:h().selectHeaderContainer,children:[(0,n.jsx)(o.Heading,{className:h().selectHeader,variant:"heading-md/semibold",children:r?C.Z.Messages.PREMIUM_GUILD_SUBSCRIBE_SELECT_GUILD_TRANSFER_HEADER:C.Z.Messages.PREMIUM_GUILD_SUBSCRIBE_SELECT_GUILD_HEADER}),(0,n.jsx)(_.Z,{size:_.Z.Sizes.MEDIUM,placeholder:C.Z.Messages.PREMIUM_GUILD_SUBSCRIBE_SEARCH_GUILD_PLACEHOLDER,"aria-label":C.Z.Messages.PREMIUM_GUILD_SUBSCRIBE_SEARCH_GUILD_PLACEHOLDER,className:h().selectSearch,
query:l,onChange:a,onClear:function(){return a("")}})]})}function y(e){var t=function(){_();(0,u.xf)();(0,c.uL)(M.Z5c.GUILD_DISCOVERY)},r=e.isTransfer,a=void 0!==r&&r,l=e.selectedSlotGuilds,_=e.onClose,E=e.onSelectGuild,U=e.query,x=(0,i.e7)([S.Z],(function(){return S.Z.getFlattenedGuildIds()})),L=(0,i.Wu)([m.Z],(function(){return x.reduce((function(e,t){var r=m.Z.getGuild(t);if(null==r)return e;if(null!=l&&l.some((function(e){return e.id===t})))return e;(U.length<=0||s()(U.toLowerCase(),null==r?void 0:r.name.toLowerCase()))&&e.push(r);return e}),new Array)})),y=d.Z.useExperiment({},{autoTrackExposure:!0}).enabled;return(0,n.jsxs)(n.Fragment,{children:[0===L.length&&(0,n.jsx)("div",{className:h().emptyStateWrapper,children:(0,n.jsx)(o.Text,{variant:"text-md/normal",children:0===x.length?C.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_APPLY_NON_GUILD_MEMBER.format({publicGuildDirectoryHook:function(e,r){return(0,n.jsx)(o.Clickable,{onClick:t,tag:"a",children:e},r)}
}):C.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_APPLY_GUILD_NOT_FOUND})}),L.map((function(e){return(0,n.jsxs)(o.Clickable,{className:h().selectGuild,onClick:function(){E(e)},children:[(0,n.jsx)(I.Z,{className:h().selectGuildIcon,guild:e,size:I.Z.Sizes.SMALL}),(0,n.jsxs)("div",{className:h().selectGuildCopy,children:[(0,n.jsx)(o.Text,{className:h().selectGuildName,variant:"text-md/normal",children:e.name}),y&&(0,n.jsx)(o.Text,{className:h().selectGuildLevel,color:"text-muted",variant:"text-xs/normal",children:(0,f.nW)(e.premiumTier)})]}),y&&(0,n.jsx)(o.Text,{className:h().selectGuildPseudoCta,color:"always-white",variant:"text-sm/medium",children:a?C.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_TRANSFER_HERE:C.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION})]},e.id)}))]})}function G(e){var t=e.onClose,r=e.onSelectGuild,l=e.transitionState,s=x(a.useState(""),2),i=s[0],u=s[1];return(0,n.jsxs)(o.ModalRoot,{transitionState:l,className:h().modal,size:o.ModalSize.SMALL,children:[(0,n.jsx)(L,{query:i,setQuery:u
}),(0,n.jsx)(o.ModalContent,{className:h().modalContent,children:(0,n.jsx)(y,{onClose:t,onSelectGuild:r,query:i})}),(0,n.jsx)(o.ModalCloseButton,{className:h().modalCloseButton,onClick:t})]})}}}]);
//# sourceMappingURL=979b752a6b95081437fb.js.map