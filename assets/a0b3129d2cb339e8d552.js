/*! For license information please see a0b3129d2cb339e8d552.js.LICENSE.txt */
(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[59859,14022,11315,40856,65984,13557],{478717:(e,t,n)=>{var r={"./2017-11-16.mp4":684795,"./2019-12-17.mp4":662325,"./channel-following.png":15176,"./discovery.jpg":788557,"./discriminator.mp4":22625,"./g250k-cl.mp4":603628,"./header.mp4":879334,"./hypesquad-hack-week/header.png":133650,"./hypesquad-hack-week/paladins-loot.png":631896,"./ko-new-year.jpg":931806,"./league-rp-cl.mp4":425058,"./polish-week.png":428915,"./special-template/desktop-cta.png":561323,"./special-template/desktop-cta.svg":949223,"./special-template/header-left.svg":412466,"./special-template/header-right.svg":226586,"./special-template/mobile-cta.svg":373135,"./special-template/update-badge.svg":361850,"./stickers-launch/2020_PMM_STICKERS_Mrkt_BlogHdr_2500x1000.png":15808,"./stickers-launch/2020_PMM_STICKERS_Mrkt_DesktopHero_Left_180x220.png":227227,"./stickers-launch/2020_PMM_STICKERS_Mrkt_DesktopHero_Right_180x220.png":999455,
"./stickers-launch/2020_PMM_STICKERS_Mrkt_Desktop_Changelog_658X220.png":678811,"./stickers-launch/2020_PMM_STICKERS_Mrkt_Desktop_FooterCTA_238x220.png":236340,"./stickers-launch/2020_PMM_STICKERS_Mrkt_MobileHero_375x190.png":359546,"./stickers-launch/2020_PMM_STICKERS_Mrkt_Mobile_FooterCTA_343x78.png":35448,"./store.jpg":404252};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");t.code="MODULE_NOT_FOUND";throw t}return r[e]}a.keys=function(){return Object.keys(r)};a.resolve=o;e.exports=a;a.id=478717},259477:(e,t,n)=>{"use strict";n(984752);n(303798);n(373265);n(572935);n(970483);n(825724);n(124778);n(86298);n(408643);n(179401);n(962935);n(677520);n(735592);n(84402);n(304242);n(173101);n(943819);n(828339);n(523754);n(816962);n(330321);n(507794);n(930409);n(915574);n(864062);n(523946);n(805799);n(359342);n(86031);n(146411);n(897191);n(258079);n(187360);n(217964);n(82572);n(19566);n(782270);n(612548);n(730451);n(698099)
;n(864061);n(979674);n(282619);n(421010);n(960441);n(737931);n(887328);n(748762);n(607209);n(423046);n(743237);n(27245);n(881454);n(908463);n(493897);n(778548);n(882832);n(484024);n(644263);n(752996);n(917515);n(513266);n(8549);n(776115);n(909243);n(687549);n(433385);n(956704);n(126208);n(330445);n(23535);n(202904);n(528429);n(250650);n(140868);n(517286);n(311492);n(737483);n(876874);n(680804);n(30098);n(832721);n(178504);n(958698);n(729748);n(226720);n(319111);n(361585);n(635014);n(847819);n(201292);n(144050);n(386716);n(950446);n(689389);n(662183);n(186798);n(788739);n(958281);n(220592);n(893160);n(191391);n(290629);n(205982);n(211136);n(790597);n(690445);n(121441);n(887609);n(397228);n(758602);n(359973);n(859024);n(946447);n(563621);n(257867);n(728429);n(189434);n(387692);n(535711);n(735653);n(905505);n(125150);n(417501);n(487372);n(106605);n(432310);n(693399);n(527501);n(81636)},588136:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.setHomeLink=function(e){a.default.dirtyDispatch({type:o.ActionTypes.APP_VIEW_SET_HOME_LINK,link:e})};var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(770348)},360307:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.setCertifiedDevices=function(e,t){a.default.dispatch({type:o.ActionTypes.CERTIFIED_DEVICES_SET,applicationId:e,devices:t})};var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(770348)},241165:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(770348);var i={showChangeLog:function(e){a.default.dispatch({type:o.ActionTypes.CHANGE_LOG_OPEN,query:e})},hideChangeLog:function(){a.default.dispatch({type:o.ActionTypes.CHANGE_LOG_CLOSE})}};t.default=i},55701:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.hideEnablePublicGuildUpsellNotice=function(e){a.default.dispatch({type:o.ActionTypes.PUBLIC_UPSELL_NOTICE_DISMISS,guildId:e})}
;t.hideMaxMemberCountChannelNotice=function(e){a.default.dispatch({type:o.ActionTypes.MAX_MEMBER_COUNT_NOTICE_DISMISS,guildId:e})};t.hidePremiumGuildGracePeriodNotice=function(e){a.default.dispatch({type:o.ActionTypes.BOOSTED_GUILD_GRACE_PERIOD_NOTICE_DISMISS,guildId:e})};var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(770348)},642230:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.fetchConsents=function(){return r.default.get({url:o.Endpoints.SETTINGS_CONSENT,oldFormErrors:!0}).then(s,(function(e){return Promise.reject(new Error(e.body.message))}))};t.setConsents=function(e,t){return r.default.post({url:o.Endpoints.SETTINGS_CONSENT,body:{grant:e,revoke:t},oldFormErrors:!0}).then(s,c)};var r=u(n(118915)),a=u(n(636602)),o=n(770348),i=u(n(247001));function u(e){return e&&e.__esModule?e:{default:e}}function l(){l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return l.apply(this,arguments)}function s(e){null!=e&&null!=e.body&&a.default.dispatch({type:o.ActionTypes.UPDATE_CONSENTS,consents:l({},e.body)});return e.body}function c(e){var t;t=e.status>=500&&e.status<=599?i.default.Messages.DATA_PRIVACY_UPDATE_CONSENTS_FAILED:null!=e&&null!=e.body&&null!=e.body.message?e.body.message:i.default.Messages.DATA_PRIVACY_UPDATE_CONSENTS_FAILED;throw new Error(t)}},319076:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.dismiss=function(e){a.default.dispatch({type:o.ActionTypes.DETECTED_OFF_PLATFORM_PREMIUM_PERKS_DISMISS,skuId:e})};var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(770348)},988754:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.uninstallBranchPrompt=function(e,t,u){!function(e,t){var i=a.default.getGame(e);if(null==i){
new r.default("DispatchUninstallActionCreators").log("Application not found for game "+e);return}(0,o.openModalLazy)(c(regeneratorRuntime.mark((function e(){var r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(78530).then(n.bind(n,478530));case 2:r=e.sent;a=r.default;return e.abrupt("return",(function(e){return a(l({game:i,onConfirmUninstall:t},e))}));case 5:case"end":return e.stop()}}),e)}))))}(e,(function(){return(0,i.uninstallApplication)(e,t,u)}))};var r=u(n(791548)),a=u(n(288356)),o=n(194322),i=n(27555);function u(e){return e&&e.__esModule?e:{default:e}}function l(){l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return l.apply(this,arguments)}function s(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function c(e){return function(){var t=this,n=arguments
;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){s(o,r,a,i,u,"next",e)}function u(e){s(o,r,a,i,u,"throw",e)}i(void 0)}))}}},785460:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.sortList=function(e,t){a.default.dispatch({type:o.ActionTypes.LIBRARY_TABLE_SORT_UPDATE,key:e,direction:t})};t.updateActiveRowKey=function(e,t){void 0===t&&(t=!1);a.default.dispatch({type:o.ActionTypes.LIBRARY_TABLE_ACTIVE_ROW_ID_UPDATE,key:e,isKeyboardEvent:t})};t.updateLibraryFilter=function(e){a.default.dispatch({type:o.ActionTypes.LIBRARY_APPLICATION_FILTER_UPDATE,query:e})};var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(770348)},229474:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.fetchGuildAffinities=void 0;var r=i(n(118915)),a=i(n(636602)),o=n(770348);function i(e){return e&&e.__esModule?e:{default:e}}t.fetchGuildAffinities=function(){return r.default.get({url:o.Endpoints.GUILD_AFFINITIES,oldFormErrors:!0
}).then((function(e){var t=e.body.guild_affinities;a.default.dispatch({type:o.ActionTypes.LOAD_GUILD_AFFINITIES_SUCCESS,guildAffinities:t})}),(function(){a.default.dispatch({type:o.ActionTypes.LOAD_GUILD_AFFINITIES_FAILURE})}))}},72690:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(770348);var i={move:function(e,t){a.default.dispatch({type:o.ActionTypes.INCOMING_CALL_MOVE,x:e,y:t})}};t.default=i},668471:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.addInstallLocation=function(e){a.default.queryDirectory(e,(function(t,n){null==t&&null!=n&&r.default.dispatch({type:o.ActionTypes.INSTALLATION_LOCATION_ADD,path:e,metadata:n})}))};t.fetchMetadata=function(e){for(var t,n={},i=0,l=function(){var u=t.value;if(null==u||"string"!=typeof u)return"continue";a.default.queryDirectory(u,(function(t,a){++i;null==t&&null!=a&&(n[u]=a);i===e.length&&r.default.dirtyDispatch({
type:o.ActionTypes.INSTALLATION_LOCATION_FETCH_METADATA,metadataPayload:n})}))},s=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(e);!(t=s()).done;)l()};t.removeInstallLocation=function(e){r.default.dispatch({type:o.ActionTypes.INSTALLATION_LOCATION_REMOVE,path:e})};t.updateInstallLocation=function(e,t){
var n=t.label,a=t.isDefault;r.default.dispatch({type:o.ActionTypes.INSTALLATION_LOCATION_UPDATE,path:e,label:n,isDefault:a})};var r=i(n(636602)),a=i(n(643868)),o=n(770348);function i(e){return e&&e.__esModule?e:{default:e}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},671694:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.createTestModeLibraryApplications=function(e){return f.apply(this,arguments)};t.fetchLibrary=function(){return d.apply(this,arguments)};t.setActiveLaunchOptionId=function(e,t,n){a.default.dispatch({type:u.ActionTypes.LIBRARY_APPLICATION_ACTIVE_LAUNCH_OPTION_UPDATE,applicationId:e,branchId:t,launchOptionId:n})};var r=l(n(118915)),a=l(n(636602)),o=l(n(329297)),i=n(204785),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function c(e){return function(){
var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){s(o,r,a,i,u,"next",e)}function u(e){s(o,r,a,i,u,"throw",e)}i(void 0)}))}}function d(){return(d=c(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0;e.next=3;return(0,i.httpGetWithCountryCodeQuery)({url:u.Endpoints.LIBRARY,oldFormErrors:!0},!1);case 3:t=e.sent;a.default.dispatch({type:u.ActionTypes.LIBRARY_FETCH_SUCCESS,libraryApplications:t.body});e.next=10;break;case 7:e.prev=7;e.t0=e.catch(0);a.default.dispatch({type:u.ActionTypes.LIBRARY_FETCH_FAIL,error:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function f(){return(f=c(regeneratorRuntime.mark((function e(t){var n,i,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(n=t.primarySkuId)){e.next=3;break}return e.abrupt("return");case 3:e.next=5;return r.default.get({
url:u.Endpoints.APPLICATION_BRANCH_LIST(t.id),oldFormErrors:!0}).then((function(e){return e.body}));case 5:i=e.sent;l=i.map((function(e){return o.default.createForTestMode({id:t.id,skuId:n,branch:e})}));a.default.dispatch({type:u.ActionTypes.LIBRARY_APPLICATIONS_TEST_MODE_ENABLED,libraryApplications:l});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},297279:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.fetchActivityStatistics=function(){return d.apply(this,arguments)};var r=u(n(118915)),a=u(n(636602)),o=u(n(194198)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){l(o,r,a,i,u,"next",e)}function u(e){l(o,r,a,i,u,"throw",e)}i(void 0)}))}}var c=216e5;function d(){
return(d=s(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null!=(t=o.default.lastFetched)&&Date.now()-t<c)){e.next=3;break}return e.abrupt("return");case 3:e.prev=3;e.next=6;return r.default.get({url:i.Endpoints.USER_ACTIVITY_STATISTICS,oldFormErrors:!0});case 6:n=e.sent;a.default.dispatch({type:i.ActionTypes.USER_ACTIVITY_STATISTICS_FETCH_SUCCESS,statistics:n.body});e.next=13;break;case 10:e.prev=10;e.t0=e.catch(3);return e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}},24794:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.connect=l;t.createLobby=function(e,t,n){return r.default.post({url:o.Endpoints.LOBBIES,body:u({application_id:t},n),retries:1,oldFormErrors:!0}).then((function(t){var n=t.body;return l(e,n.id,n.secret)}))};t.deleteLobby=function(e){return r.default.delete({url:o.Endpoints.LOBBY(e),body:{},retries:1,
oldFormErrors:!0}).then(o.NOOP)};t.disconnect=function(e){a.default.dispatch({type:o.ActionTypes.LOBBY_DISCONNECT,lobbyId:e})};t.search=function(e){return r.default.post({url:o.Endpoints.LOBBY_SEARCH,body:e,oldFormErrors:!0}).then((function(e){return e.body}))};t.send=function(e,t){return r.default.post({url:o.Endpoints.LOBBY_SEND(e),body:{data:t},oldFormErrors:!0}).then(o.NOOP)};t.updateLobby=function(e,t){return r.default.patch({url:o.Endpoints.LOBBY(e),body:u({},t),retries:1,oldFormErrors:!0}).then(o.NOOP)};t.updateLobbyMember=function(e,t,n){return r.default.patch({url:o.Endpoints.LOBBY_MEMBER(e,t),body:u({},n),retries:1,oldFormErrors:!0}).then(o.NOOP)};t.voiceConnect=function(e){a.default.dispatch({type:o.ActionTypes.LOBBY_VOICE_CONNECT,lobbyId:e})};t.voiceDisconnect=function(e){a.default.dispatch({type:o.ActionTypes.LOBBY_VOICE_DISCONNECT,lobbyId:e})};var r=i(n(118915)),a=i(n(636602)),o=n(770348);function i(e){return e&&e.__esModule?e:{default:e}}function u(){
u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return u.apply(this,arguments)}function l(e,t,n){return new Promise((function(r,i){a.default.dispatch({type:o.ActionTypes.LOBBY_CONNECT,socketId:e,lobbyId:t,lobbySecret:n,resolve:r,reject:i})}))}},720409:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.close=function(e){a.default.dispatch({type:o.ActionTypes.PICTURE_IN_PICTURE_CLOSE,id:e})};t.hide=function(e){a.default.dispatch({type:o.ActionTypes.PICTURE_IN_PICTURE_HIDE,id:e})};t.moveTo=function(e,t){a.default.dispatch({type:o.ActionTypes.PICTURE_IN_PICTURE_MOVE,id:e,position:t})};t.open=function(e,t,n){void 0===n&&(n={});a.default.dispatch({type:o.ActionTypes.PICTURE_IN_PICTURE_OPEN,id:e,component:t,props:n})};t.show=function(e){a.default.dispatch({type:o.ActionTypes.PICTURE_IN_PICTURE_SHOW,id:e})};t.switchPIPFocus=function(e){a.default.dispatch({
type:o.ActionTypes.PICTURE_IN_PICTURE_UPDATE_SELECTED_WINDOW,id:e})};t.updateRect=function(e,t){a.default.dispatch({type:o.ActionTypes.PICTURE_IN_PICTURE_UPDATE_RECT,id:e,rect:t})};var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(770348)},597362:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(770348);var i={clearRemoteDisconnectVoiceChannelId:function(){a.default.dispatch({type:o.ActionTypes.CLEAR_REMOTE_DISCONNECT_VOICE_CHANNEL_ID})}};t.default=i},221185:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=i(n(118915)),a=i(n(636602)),o=n(770348);function i(e){return e&&e.__esModule?e:{default:e}}var u={fetchRegions:function(e){r.default.get({url:o.Endpoints.REGIONS(e),retries:1,oldFormErrors:!0}).then((function(t){return a.default.dispatch({type:o.ActionTypes.LOAD_REGIONS,regions:t.body,guildId:e})}),(function(){return a.default.dispatch({
type:o.ActionTypes.LOAD_REGIONS,regions:[],guildId:e})}))},changeCallRegion:function(e,t){r.default.patch({url:o.Endpoints.CALL(e),body:{region:t},oldFormErrors:!0})}};t.default=u},105988:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(770348);function i(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}
throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var l={setEnabled:function(e){this.update({enabled:e})},update:function(e){for(var t,n=i(Object.keys(e));!(t=n()).done;){var r=t.value;a.default.dispatch({type:o.ActionTypes.STREAMER_MODE_UPDATE,key:r,value:e[r]})}}};t.default=l},446637:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.authorizeAndSetTestModeApplication=function(e,t){return m.apply(this,arguments)};t.reset=function(){r.default.dispatch({type:d.ActionTypes.DEVELOPER_TEST_MODE_RESET})};t.resetError=function(){r.default.dispatch({type:d.ActionTypes.DEVELOPER_TEST_MODE_RESET_ERROR})};var r=v(n(636602)),a=v(n(331119)),o=v(n(288356)),i=n(685677),u=v(n(608417)),l=v(n(234161)),s=p(n(671694)),c=p(n(723420)),d=n(770348);function f(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function v(e){return e&&e.__esModule?e:{default:e}}function y(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function h(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){y(o,r,a,i,u,"next",e)}function u(e){y(o,r,a,i,u,"throw",e)}i(void 0)}))}}function m(){return(m=h(regeneratorRuntime.mark((function e(t,n){var f,p
;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.default.dispatch({applicationId:t,type:d.ActionTypes.DEVELOPER_TEST_MODE_AUTHORIZATION_START});e.prev=1;e.next=4;return c.fetchSKUsForApplication(t,!1);case 4:if(null!=e.sent){e.next=7;break}throw new Error("Did not get a successful response from endpoint.");case 7:if(null!=(f=o.default.getGame(t))){e.next=14;break}e.t0=a.default;e.next=12;return l.default.fetchApplication(t);case 12:e.t1=e.sent;f=e.t0.createFromServer.call(e.t0,e.t1);case 14:if(!(p=(0,i.hasFlag)(f.flags,d.ApplicationFlags.EMBEDDED))||null!=n&&u.default.URL_REGEX.test(n)){e.next=17;break}throw new Error("Invalid Origin URL for embedded application");case 17:p||s.createTestModeLibraryApplications(f);r.default.dispatch({type:d.ActionTypes.DEVELOPER_TEST_MODE_AUTHORIZATION_SUCCESS,applicationId:t,originURL:p?n:null});return e.abrupt("return",f);case 22:e.prev=22;e.t2=e.catch(1);r.default.dispatch({
type:d.ActionTypes.DEVELOPER_TEST_MODE_AUTHORIZATION_FAIL,applicationId:t,error:e.t2.message});return e.abrupt("return",null);case 26:case"end":return e.stop()}}),e,null,[[1,22]])})))).apply(this,arguments)}},94047:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=i(n(118915)),a=i(n(423046)),o=n(770348);function i(e){return e&&e.__esModule?e:{default:e}}var u={setUserAchievement:function(e,t,n){var i=a.default.getId();return r.default.put({url:o.Endpoints.USER_ACHIEVEMENTS_FOR_USER(i,e,t),body:{percent_complete:n},oldFormErrors:!0})},fetchForApplication:function(e){return r.default.get({url:o.Endpoints.USER_ACHIEVEMENTS(e),retries:1,oldFormErrors:!0}).then((function(e){return e.body}))}};t.default=u},314022:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.fetchUserAffinities=function(e){void 0===e&&(e=!0);if(o.default.needsRefresh()){a.default.dirtyDispatch({type:i.ActionTypes.LOAD_USER_AFFINITIES})
;return r.default.get({url:i.Endpoints.USER_AFFINITIES,retries:e?3:0,oldFormErrors:!0}).then((function(e){var t=e.body;a.default.dispatch({type:i.ActionTypes.LOAD_USER_AFFINITIES_SUCCESS,affinities:t})}),(function(){a.default.dispatch({type:i.ActionTypes.LOAD_USER_AFFINITIES_FAILURE})}))}return Promise.resolve()};var r=u(n(118915)),a=u(n(636602)),o=u(n(538983)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}},306902:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.markView=function(e){a.default.dispatch({type:o.ActionTypes.VIEW_HISTORY_MARK_VIEW,key:e})};var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(770348)},184608:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=N;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=g(n(294184)),i=g(n(441143)),u=g(n(237923)),l=g(n(314234)),s=g(n(956117)),c=g(n(279950)),d=n(354479),f=n(688388),p=n(626863),v=n(770348),y=n(697984),h=g(n(247001)),m=g(n(241618)),_=g(n(380203));function g(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function O(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length)
;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function I(){I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return I.apply(this,arguments)}var C={canSend:!1,hint:null,success:null,error:null},T=(0,d.uid)(),A=T+"-decription",P=T+"-error";function M(e,t){switch(t.type){case"RESET":return C;case"SUCCESS":return I({},C,{success:t.text});case"HINT":return I({},C,{canSend:!0,hint:t.text});case"ERROR":return I({},e,{canSend:!0,error:t.text})}}function N(){var e,t=a.createRef(),n=a.createRef(),r=S(a.useReducer(M,C),2),d=r[0],g=r[1],E=d.canSend,b=d.hint,I=d.success,N=d.error;a.useEffect((function(){if(null!=I){(0,i.default)(null!=t.current,"Input is submitting when not mounted");t.current.value="";t.current.focus()}}),[I,t]);return O("form",{onSubmit:function(e){e.preventDefault();(0,i.default)(null!=t.current,"Input is submitted when not mounted")
;var n=t.current.value.trim(),r=(0,p.validateDiscordTag)(n);null==r?u.default.sendRequest(n,{location:"Add Friend"}).then((function(){return g({type:"SUCCESS",text:h.default.Messages.ADD_FRIEND_SUCCESS.format({discordTag:n})})}),(function(e){return g({type:"ERROR",text:(0,p.humanizeAbortCode)(e.body.code,n)})})):g({type:"ERROR",text:r})},autoComplete:"off"},void 0,O(f.FormText,{id:A,type:f.FormText.Types.DESCRIPTION},void 0,h.default.Messages.ADD_FRIEND_DESCRIPTION),O(l.default,{focusTarget:t,ringTarget:n,ringClassName:m.default.ring},void 0,a.createElement("div",{ref:n,className:(0,o.default)(m.default.addFriendInputWrapper,(e={},e[m.default.success]=I,e[m.default.error]=N,e))},O(c.default,{id:T,inputRef:t,className:m.default.addFriendInput,inputClassName:m.default.input,onKeyPress:function(e){var n=e.currentTarget.value;if(e.key!==y.KeyboardEventKey.Enter&&n.includes("#")){(0,i.default)(null!=t.current,"Input is handling keypress when not mounted")
;var r=n.indexOf("#"),a=t.current.selectionStart,o=e.key===y.KeyboardEventKey.Backspace||e.key===y.KeyboardEventKey.ArrowRight||e.key===y.KeyboardEventKey.ArrowLeft,u=e.which>=48&&e.which<=57;(null!=a&&a>r&&/^(.+?#\d{4})$/.test(n)&&!o||null!=a&&a>r&&!u&&!o)&&e.preventDefault()}},onChange:function(e){if(e.length<=0)g({type:"RESET"});else{var t=S(e.split("#"),2)[1];g({type:"HINT",text:e+v.PLACEHOLDER_TAG.slice(null!=t?t.length+1:0)})}},maxLength:37,autoFocus:!0,autoComplete:"off",name:"add-friend","data-lpignore":!0,placeholder:h.default.Messages.ADD_FRIEND_PLACEHOLDER,"aria-label":h.default.Messages.ADD_FRIEND_PLACEHOLDER,"aria-invalid":null!=N||void 0,"aria-describedby":null!=N?P:A}),null!=b&&O("div",{className:m.default.addFriendHint,"aria-hidden":!0},void 0,b),O(s.default,{size:s.default.Sizes.SMALL,disabled:!E,type:"submit"},void 0,h.default.Messages.ADD_FRIEND_BUTTON))),null!=N&&O(f.FormText,{role:"alert",id:P,type:f.FormText.Types.ERROR,className:_.default.marginTop8
},void 0,N),null!=I&&O(f.FormText,{role:"status",type:f.FormText.Types.SUCCESS,className:_.default.marginTop8},void 0,I))}N.displayName="AddFriendInput"},593878:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=v(n(479049)),o=v(n(131795)),i=v(n(536211)),u=v(n(680804)),l=v(n(919935)),s=v(n(290629)),c=v(n(931411)),d=n(864489),f=v(n(922629)),p=n(770348);function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap
;return(y=function(e){return e?n:t})(e)}function h(e,t){h=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return h(e,t)}var m=new Set(["Blink","Gecko","WebKit"]),_=p.NOOP;if(d.isPlatformEmbedded)_=function(e){return f.default.setBadge(e)};else if(m.has(o.default.layout)){var g=new a.default({animation:"none"});_=function(e){try{g.badge(-1===e?"â€¢":e)}catch(e){}}}var E=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;h(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).cancelBounce=null;return t}var n=t.prototype;n.componentDidMount=function(){this.componentDidUpdate()};n.componentDidUpdate=function(){var e=this.props,t=e.badge,n=e.hasIncomingCalls;_(t);if(n&&null==this.cancelBounce)this.cancelBounce=f.default.bounceDock("critical");else if(!n&&null!=this.cancelBounce){this.cancelBounce();this.cancelBounce=null}}
;n.componentWillUnmount=function(){_(0);if(null!=this.cancelBounce){this.cancelBounce();this.cancelBounce=null}};n.render=function(){return null};return t}(r.PureComponent);E.displayName="AppBadge";var O=function(){return null};_!==p.NOOP&&(O=i.default.connectStores([u.default,c.default,s.default,l.default],(function(){var e=u.default.getTotalMentionCount(),t=s.default.getPendingCount(),n=u.default.hasAnyUnread(),r=l.default.getDisableUnreadBadge(),a=e+t;0===a&&n&&!r&&(a=-1);return{badge:a,hasIncomingCalls:c.default.hasIncomingCalls()}}))(E));var S=O;t.default=S},969940:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=m(n(213192)),o=m(n(536211)),i=m(n(740207)),u=m(n(226800)),l=m(n(680804)),s=m(n(635014)),c=m(n(919935)),d=m(n(893160)),f=m(n(290629)),p=m(n(397228)),v=n(864489),y=m(n(922629)),h=n(770348);function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function g(e,t){g=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return g(e,t)}var E=(0,a.default)({DEFAULT:null,UNREAD:null,CONNECTED:null,SPEAKING:null,MUTED:null,DEAFENED:null}),O=(0,v.isOSX)()?null:E.DEFAULT,S=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;g(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a]
;(t=e.call.apply(e,[this].concat(r))||this).getIcon=function(){var e=t.props,n=e.deafened,r=e.muted,a=e.speaking,o=e.connected,i=e.unread,u=O;if((0,v.isOSX)()&&!o)return u;if((0,v.isLinux)()||!o){i&&(u=E.UNREAD);return u}return u=n?E.DEAFENED:r?E.MUTED:a?E.SPEAKING:E.CONNECTED};return t}var n=t.prototype;n.componentDidMount=function(){y.default.setSystemTrayIcon(this.getIcon())};n.componentDidUpdate=function(){y.default.setSystemTrayIcon(this.getIcon())};n.componentWillUnmount=function(){y.default.setSystemTrayIcon(O)};n.render=function(){return null};return t}(r.PureComponent);S.displayName="AppTray";var b=function(){return null};if(v.isPlatformEmbedded){y.default.on("SYSTEM_TRAY_TOGGLE_MUTE",(function(){return i.default.toggleSelfMute()}));y.default.on("SYSTEM_TRAY_TOGGLE_DEAFEN",(function(){return i.default.toggleSelfDeaf()}));y.default.on("SYSTEM_TRAY_OPEN_VOICE_SETTINGS",(function(){u.default.open(h.UserSettingsSections.VOICE)}))
;b=o.default.connectStores([d.default,s.default,p.default,l.default,f.default,c.default],(function(){var e=l.default.getTotalMentionCount(),t=l.default.hasAnyUnread(),n=f.default.getPendingCount(),r=!c.default.getDisableUnreadBadge()&&!!(t||e+n>0);return{connected:d.default.isConnected(),speaking:p.default.isCurrentUserSpeaking(),muted:s.default.isSelfMute()||s.default.isSelfMutedTemporarily(),deafened:s.default.isSelfDeaf(),unread:r}}))(S)}var I=b;t.default=I},421651:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=(0,c.useStateFromStores)([R.default],(function(){return R.default.hasNotice()})),t=(0,c.useStateFromStores)([p.default],(function(){return p.default.darkSidebar?q.ThemeTypes.DARK:void 0})),n=function(){var e=te(a.useState((function(){return window.location.pathname.startsWith(q.Routes.GUILD_MEMBER_VERIFICATION(""))})),2),t=e[0],n=e[1];a.useEffect((function(){return A.default.addRouteChangeListener((function(e){
n(e.pathname.startsWith(q.Routes.GUILD_MEMBER_VERIFICATION("")))}))}),[]);return t}(),r=function(){var e=te(a.useState((function(){return window.location.pathname.startsWith(q.Routes.GUILD_MEMBER_VERIFICATION_FOR_HUB(""))})),2),t=e[0],n=e[1];a.useEffect((function(){return A.default.addRouteChangeListener((function(e){n(e.pathname.startsWith(q.Routes.GUILD_MEMBER_VERIFICATION_FOR_HUB("")))}))}),[]);return t}(),o=function(){var e,t=(0,u.useLocation)();return!0===(null===(e=(0,i.matchPath)(t.pathname,q.Routes.GUILD_BOOSTING_MARKETING(":guildId")))||void 0===e?void 0:e.isExact)}(),y=n||r||o,m=(0,u.useRouteMatch)([q.Routes.CHANNEL(q.ME,":channelId"),q.Routes.CHANNEL(":guildId",":channelId?",":messageId?")]),_=te(a.useState(!1),2),g=_[0],E=_[1],O=a.useCallback((function(){E(!1)}),[]),b=a.useRef({});a.useEffect((function(){var e;if(s.isMobile){var t=null!==(e=null==m?void 0:m.params)&&void 0!==e?e:{},n=b.current,r=n.guildId!==t.guildId,a=n.channelId!==t.channelId;if(!r&&a){E(!0)
;void 0!==t.channelId&&P.default.getState().isMembersOpen&&d.default.toggleMembersSection()}t.channelId===X.StaticChannelRoute.ROLE_SUBSCRIPTIONS&&E(!0);b.current=t}}),[m]);return a.createElement(a.Fragment,null,Pe,ae("div",{className:Z.default.container},void 0,!g&&ae(S.default,{className:Z.default.guilds,themeOverride:t}),ae(h.default.Provider,{value:(null==m?void 0:m.params.guildId)===q.ME||null==m?void 0:m.params.guildId},void 0,ae("div",{className:Z.default.base},void 0,s.isMobile?null:Me,ae("div",{className:Z.default.content},void 0,a.createElement(Ae,{hasNotice:e,sidebarTheme:t,hideSidebar:g||y}),ae(f.default.Provider,{value:O},void 0,ae(u.Switch,{},void 0,ae(v.default,{path:q.Routes.ACTIVITY,disableTrack:!0},void 0,ae(u.Redirect,{to:q.Routes.ME})),ae(v.default,{path:q.Routes.APPLICATION_LIBRARY,render:he,impressionName:l.ImpressionNames.APPLICATION_LIBRARY,disableTrack:!0}),ae(v.default,{path:q.Routes.APPLICATION_STORE,render:_e,
impressionName:l.ImpressionNames.APPLICATION_STORE,disableTrack:!0}),ae(v.default,{path:q.Routes.ME,exact:!0,render:Ee,impressionName:l.ImpressionNames.FRIENDS,disableTrack:!0}),ae(v.default,{path:[q.Routes.CHANNEL(q.ME,":channelId"),q.Routes.CHANNEL(":guildId",":channelId?",":messageId?")],render:de,impressionName:l.ImpressionNames.GUILD_CHANNEL,disableTrack:!0}),ae(v.default,{path:q.Routes.GUILD_DISCOVERY,render:function(e){var t=e.location;return fe(t.search)},impressionName:l.ImpressionNames.GUILD_DISCOVERY,disableTrack:!0}),ae(v.default,{path:q.Routes.GUILD_MEMBER_VERIFICATION(":guildId",":inviteCode?"),render:pe,impressionName:l.ImpressionNames.GUILD_MEMBER_VERIFICATION,disableTrack:!0}),ae(v.default,{path:q.Routes.GUILD_MEMBER_VERIFICATION_FOR_HUB(":guildId",":inviteCode?"),render:ve,impressionName:l.ImpressionNames.HUB_EMAIL_SIGNUP,impressionProperties:function(e){return{has_invite:void 0!==e.computedMatch.params.inviteCode}}}),ae(v.default,{
path:q.Routes.PREMIUM_MARKETING_SURFACE,render:function(){return null},impressionName:l.ImpressionNames.PREMIUM_MARKETING_SURFACE,disableTrack:!0}),ae(v.default,{path:q.Routes.FEATURE(":feature"),exact:!0,render:Oe,disableTrack:!0})))))),Ne))};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=ee(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=J(n(294184)),i=n(505977),u=n(473727),l=n(47354),s=n(171236),c=n(536211),d=J(n(368767)),f=J(n(837086)),p=J(n(235879)),v=J(n(400225)),y=J(n(825724)),h=J(n(252566)),m=J(n(928205)),_=J(n(545130)),g=J(n(710483)),E=J(n(594807)),O=J(n(14638)),S=J(n(212635)),b=J(n(529295)),I=J(n(249603)),C=J(n(547403)),T=J(n(136798)),A=J(n(329697)),P=J(n(502546)),M=J(n(644263)),N=J(n(211136)),R=J(n(296005)),w=n(71246),D=n(518802),L=J(n(721536)),k=J(n(701391)),j=J(n(41234)),U=J(n(25202)),G=J(n(272356)),F=J(n(284382)),x=J(n(115370)),W=J(n(63818)),B=J(n(629195)),V=J(n(869333)),H=J(n(605807)),Y=J(n(57663)),z=J(n(916205)),K=J(n(52505)),$=J(n(883901)),q=n(770348),X=n(173652),Q=J(n(247001)),Z=J(n(734733));function J(e){return e&&e.__esModule?e:{default:e}}function ee(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(ee=function(e){return e?n:t})(e)}function te(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ne(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ne(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function re(){re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return re.apply(this,arguments)}function ae(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var oe=ae(L.default,{}),ie=function(e){var t=e.match,n=(0,c.useStateFromStores)([M.default,N.default],(function(){var e=N.default.getChannelId();return M.default.getChannel(e)})),r=t.params,a=r.guildId,o=r.channelId;if(null!=a&&null!=o&&(0,X.isStaticChannelRoute)(o))switch(o){case X.StaticChannelRoute.ROLE_SUBSCRIPTIONS:return ae(E.default,{guildId:a});case X.StaticChannelRoute.MEMBER_APPLICATIONS:return ae(g.default,{guildId:a})
;case X.StaticChannelRoute.GUILD_HOME:case X.StaticChannelRoute.POPULAR_CHANNELS:return ae(m.default,{guildId:a});default:(0,w.assertNever)(o)}if((null==n?void 0:n.type)===q.ChannelTypes.GUILD_STORE){var i=t.params.messageId;return ae(k.default,{channel:n,inputSkuId:i},n.id)}return oe};ie.displayName="ChannelRenderer";var ue=ae(V.default,{}),le=ae(G.default,{}),se=a.memo((function(){var e=(0,T.default)(),t=e.guildId,n=e.channelId;return window.location.pathname.startsWith(q.Routes.GUILD_DISCOVERY)?ue:null!=t?ae(O.default,{selectedChannelId:n,guildId:t},t):le}));function ce(e){var t=(0,T.default)((function(e){return e.guildId}));return a.createElement(z.default,re({},e,{guildId:t}))}ce.displayName="ConnectedActivityPanelGameCard";var de=function(e){return a.createElement(ie,e)};de.displayName="renderChannel";var fe=function(e){var t=null!=e&&e.length>0&&e.startsWith("?")?e.split("?")[1]:null;return ae(B.default,{searchRoute:t})};fe.displayName="renderGuildDiscovery";var pe=function(e){
var t=e.match;return null!=t.params.guildId?ae(_.default,{guildId:t.params.guildId,inviteCode:t.params.inviteCode}):null},ve=function(e){var t=e.match;return null!=t.params.guildId?ae(b.default,{guildId:t.params.guildId,inviteCode:t.params.inviteCode}):null},ye=ae(x.default,{}),he=function(){return ye};he.displayName="renderApplicationLibrary";var me=ae(W.default,{}),_e=function(){return me};_e.displayName="renderLazyApplicationStore";var ge=ae(C.default,{}),Ee=function(){return ge};Ee.displayName="renderPeople";var Oe=function(e){switch(e.match.params.feature){case"addFriends":return ae(C.default,{initialSection:q.FriendsSections.ADD_FRIEND});case"pendingFriends":return ae(C.default,{initialSection:q.FriendsSections.PENDING});default:return ae(u.Redirect,{to:q.Routes.ME})}};var Se=ae(se,{}),be=ae(K.default,{}),Ie=ae($.default,{}),Ce=ae(Y.default,{}),Te=ae(j.default,{});function Ae(e){var t,n=e.hasNotice,r=e.sidebarTheme,a=e.hideSidebar,i=(0,
c.useStateFromStores)([y.default],(function(){return y.default.isFullscreenInContext()}));return a?null:ae("div",{className:(0,o.default)(Z.default.sidebar,(0,D.getThemeClass)(r),(t={},t[Z.default.hasNotice]=n,t[Z.default.fullWidth]=s.isMobile,t[Z.default.hidden]=i,t))},void 0,Se,ae("section",{className:Z.default.panels,"aria-label":Q.default.Messages.ACCOUNT_A11Y_LABEL},void 0,be,ae(F.default,{section:q.AnalyticsSections.ACTIVITY_PANEL},void 0,ae(ce,{className:Z.default.activityPanel})),ae(F.default,{section:q.AnalyticsSections.RTC_CONNECTION_PANEL},void 0,Ie),ae(F.default,{section:q.AnalyticsSections.ACCOUNT_PANEL},void 0,Ce)),Te)}Ae.displayName="ChannelSidebar";var Pe=ae(I.default,{}),Me=ae(U.default,{}),Ne=ae(H.default,{})},818685:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=B;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=j(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(536211),o=k(n(234161)),i=k(n(200738)),u=n(844784),l=k(n(504010)),s=n(939027),c=k(n(825724)),d=k(n(791548)),f=k(n(967523)),p=k(n(330321)),v=k(n(217964)),y=k(n(87428)),h=n(894826),m=k(n(644263)),_=k(n(288356)),g=k(n(23535)),E=k(n(876874)),O=k(n(30098)),S=k(n(635014)),b=k(n(689389)),I=k(n(893160)),C=k(n(834162)),T=k(n(211136)),A=k(n(790597)),P=k(n(690445)),M=k(n(728429)),N=k(n(311256)),R=k(n(106605)),w=k(n(308920)),D=n(71246),L=n(770348);function k(e){return e&&e.__esModule?e:{default:e}}function j(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(j=function(e){return e?n:t})(e)}function U(e,t){return function(e){if(Array.isArray(e))return e
}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return G(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function F(){F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){
var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return F.apply(this,arguments)}function x(e,t){x=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return x(e,t)}var W=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;x(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.componentDidMount=function(){var e=this.props,t=e.selectedChannelId,n=e.connected,r=e.isNSFWChannel,a=e.channelParentId,o=e.isTextInVoice,i=e.canSendMessage;if(n&&null!=t){(0,u.trackWithMetadata)(L.AnalyticEvents.CHANNEL_OPENED,{channel_is_nsfw:r,parent_id:a,can_send_message:i});o&&(0,u.trackWithMetadata)(L.AnalyticEvents.TEXT_IN_VOICE_OPENED,{channel_is_nsfw:r})}};n.componentDidUpdate=function(e){
var t=this.props,n=t.voiceChannelId,r=t.voiceChannelIdJoined,a=t.voiceChannelGuildId,i=t.voiceChannelType,f=t.voiceChannelBitrate,g=t.videoEnabled,E=t.isScreenSharing,S=t.runningGame,b=t.runningGamePid,T=t.selectedChannelId,P=t.selectedGuildId,M=t.channelParentId,N=t.connected,R=t.homeLink,k=t.friendsTabSection,j=t.isNSFWChannel,U=t.isMemberPending,G=t.hasPreviewEnabled,x=t.rtcConnectionId,W=t.postableChannelCount,B=t.isTextInVoice,V=t.canSendMessage;if(e.voiceChannelId!==n&&null!=e.voiceChannelId){var H=C.default.getCurrentGame(),Y=null!=H?H.name:"",z=v.default.getStageInstanceByChannel(e.voiceChannelId),K=p.default.getActiveEventByChannel(e.voiceChannelId);w.default.track(L.AnalyticEvents.LEAVE_VOICE_CHANNEL,F({channel_id:e.voiceChannelId,channel_type:e.voiceChannelType,channel_bitrate:e.voiceChannelBitrate,guild_id:e.voiceChannelGuildId,rtc_connection_id:e.rtcConnectionId,game_name:Y,duration:I.default.getDuration(),game_platform:this.props.gamePlatform,game_id:this.props.gameId,
media_session_id:e.mediaSessionId,stage_instance_id:null==z?void 0:z.id,guild_scheduled_event_id:null==K?void 0:K.id},(0,u.getVoiceStateMetadata)(e.voiceChannelGuildId,e.voiceChannelId,e.videoEnabled),{},I.default.getVoiceStateStats(),{},c.default.getSelectedParticipantStats(e.voiceChannelId)))}if(e.voiceChannelIdJoined!==r&&null!=r){var $=C.default.getCurrentGame(),q=null!=$?$.name:"";if(null!=r&&null!=n){var X=v.default.getStageInstanceByChannel(n),Q=p.default.getActiveEventByChannel(n);w.default.track(L.AnalyticEvents.JOIN_VOICE_CHANNEL,F({channel_id:n,channel_type:i,channel_bitrate:f,guild_id:a,rtc_connection_id:x,game_name:q,game_platform:this.props.gamePlatform,game_id:this.props.gameId,stage_instance_id:null==X?void 0:X.id,guild_scheduled_event_id:null==Q?void 0:Q.id},(0,u.getCustomStatusMetadata)(a,n),{},(0,u.getVoiceStateMetadata)(a,n,g)))}}if(e.runningGame!==S&&null!=S&&!S.isLauncher){var Z=_.default.getGameByName(S.name);w.default.track(L.AnalyticEvents.LAUNCH_GAME,{
game:S.name,game_id:null==Z?null:Z.id,verified:null!=Z,elevated:S.elevated,game_platform:L.ActivityGamePlatforms.DESKTOP,distributor:S.distributor});if(null!=S.name&&null!=b&&_.default.shouldReport(S.name)){var J=S.name,ee=b;o.default.identifyGame(ee,J).then((function(e){return o.default.reportUnverifiedGame(e)})).catch((function(e){return new d.default("AutoAnalytics").error("Cannot identify game",e)}))}}if((e.videoEnabled!==g||e.isScreenSharing!==E)&&null!=n){var te="none",ne=[E?"screen":null,g?"camera":null].filter(D.isNotNullish),re=null;if(E){te="screen";re=(0,s.getDesktopSourceMetadata)()}else g&&(te="camera");w.default.track(L.AnalyticEvents.VIDEO_INPUT_TOGGLED,F({video_input_type:te,video_toggle_source:__OVERLAY__?"overlay":"app",enabled_inputs:ne,preview_enabled:h.AlwaysPreviewVideo.getSetting()},re,{},this.getGameMetadata(),{},(0,u.collectVoiceAnalyticsMetadata)(n)))}if(N&&null!=P&&(P!==e.selectedGuildId||!e.connected||U&&!e.isMemberPending)){var ae,oe,ie=F({},U?{
is_pending:U,preview_enabled:G}:{},{postable_channels:W,premium_progress_bar_enabled:null!==(ae=null===(oe=O.default.getGuild(A.default.getGuildId()))||void 0===oe?void 0:oe.premiumProgressBarEnabled)&&void 0!==ae&&ae,viewing_starred:y.default.isGuildCollapsed(P)});(0,u.trackWithMetadata)(L.AnalyticEvents.GUILD_VIEWED,ie)}else!N||null!=P||R!==L.Routes.FRIENDS||e.connected&&k===e.friendsTabSection&&R===e.homeLink||w.default.track(L.AnalyticEvents.FRIENDS_LIST_VIEWED,F({tab_opened:k},(0,l.default)()));if(N&&null!=T&&(!e.connected||T!==e.selectedChannelId||P!==e.selectedGuildId)){var ue=(0,u.collectThreadMetadata)(m.default.getChannel(T),!0);(0,u.trackWithMetadata)(L.AnalyticEvents.CHANNEL_OPENED,F({channel_is_nsfw:j,parent_id:M,can_send_message:V},ue));B&&(0,u.trackWithMetadata)(L.AnalyticEvents.TEXT_IN_VOICE_OPENED,{channel_is_nsfw:j})}};n.getGameMetadata=function(){return{game_platform:this.props.gamePlatform,game_name:this.props.gameName,game_exe_name:this.props.gameExeName,
game_id:this.props.gameId}};n.render=function(){return null};return t}(r.PureComponent);W.displayName="AutoAnalytics";function B(){var e,t=U((0,a.useStateFromStoresArray)([T.default],(function(){return[T.default.getVoiceChannelId(),T.default.getChannelId()]}),[]),2),n=t[0],o=t[1],u=(0,a.useStateFromStores)([m.default],(function(){return m.default.getChannel(o)}),[o]),l=(0,a.useStateFromStores)([c.default],(function(){return null!=(null==u?void 0:u.id)&&c.default.getChatOpen(u.id)}),[u]),s=null==u?void 0:u.nsfw,d=null!==(e=null==u?void 0:u.parent_id)&&void 0!==e?e:void 0,p=(0,a.useStateFromStores)([m.default],(function(){return m.default.getChannel(n)}),[n]),v=(0,a.useStateFromStores)([A.default],(function(){return A.default.getGuildId()}),[]),y=(0,a.useStateFromStores)([O.default],(function(){return O.default.getGuild(v)}),[v]),h=(0,a.useStateFromStores)([M.default],(function(){return M.default.getCurrentUser()}),[]),_=(0,a.useStateFromStores)([E.default],(function(){var e,t
;return null!=h&&null!=v&&(null!==(e=null===(t=E.default.getMember(v,h.id))||void 0===t?void 0:t.isPending)&&void 0!==e&&e)}),[h,v]),w=(0,a.useStateFromStores)([R.default],(function(){return R.default.getState().section}),[]),D=(0,a.useStateFromStores)([N.default],(function(){return N.default.getHomeLink()}),[]),k=(0,a.useStateFromStores)([g.default],(function(){return g.default.isConnected()}),[]),j=U((0,a.useStateFromStoresArray)([S.default],(function(){return[S.default.isVideoEnabled(),S.default.isScreenSharing()]}),[]),2),G=j[0],F=j[1],x=(0,a.useStateFromStores)([I.default],(function(){return I.default.getChannelId()}),[]),B=(0,a.useStateFromStores)([P.default],(function(){return P.default.getPrimaryActivity()}),[]),V=(0,a.useStateFromStores)([C.default],(function(){return C.default.getCurrentGame()}),[]),H=(0,a.useStateFromStores)([I.default],(function(){return I.default.getMediaSessionId()}),[]),Y=(0,a.useStateFromStores)([I.default],(function(){
return I.default.getRTCConnectionId()}),[]),z=(0,f.default)(v),K=(0,a.useStateFromStores)([b.default],(function(){return b.default.can(L.Permissions.SEND_MESSAGES,u)})),$={selectedChannelId:o,channelParentId:d,isNSFWChannel:s,selectedGuildId:v,friendsTabSection:w,homeLink:D,connected:k,videoEnabled:G,isScreenSharing:F,voiceChannelId:null==p?void 0:p.id,voiceChannelIdJoined:x,voiceChannelGuildId:null==p?void 0:p.getGuildId(),voiceChannelType:null==p?void 0:p.type,voiceChannelBitrate:null==p?void 0:p.bitrate,runningGame:V,runningGamePid:null!=V?V.pid:null,gamePlatform:(0,i.default)(B),gameName:null!=B?B.name:null,gameId:null!=B?B.application_id:null,gameExeName:null!=V?V.exeName:null,hasPreviewEnabled:null==y?void 0:y.features.has(L.GuildFeatures.PREVIEW_ENABLED),isMemberPending:_,mediaSessionId:H,rtcConnectionId:Y,postableChannelCount:z,isTextInVoice:l,canSendMessage:K};return r.createElement(W,$)}B.displayName="ConnectedAutoAnalytics"},721536:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=Re(n(667294)),o=Me(n(294184)),i=Me(n(441143)),u=n(370405),l=n(473727),s=n(536211),c=n(378158),d=Me(n(864345)),f=n(854976),p=n(608286),v=Me(n(825724)),y=Me(n(803121)),h=Me(n(678928)),m=n(573285),_=n(329117),g=Me(n(63608)),E=Me(n(324935)),O=Me(n(57697)),S=Me(n(689626)),b=Me(n(141776)),I=Me(n(540330)),C=Me(n(542322)),T=Me(n(818378)),A=Me(n(764423)),P=Me(n(463024)),M=n(451115),N=Me(n(92332)),R=Me(n(992634)),w=Me(n(241813)),D=n(57449),L=Me(n(930409)),k=n(139982),j=n(391869),U=Me(n(225379)),G=n(637356),F=Me(n(551619)),x=Me(n(861370)),W=Me(n(556250)),B=Me(n(73942)),V=Me(n(627900)),H=Me(n(252283)),Y=n(887299),z=n(910992),K=n(518180),$=n(508079),q=Me(n(131629)),X=n(567186),Q=Re(n(502546)),Z=Me(n(644263)),J=n(687549),ee=Me(n(250650)),te=Me(n(137438)),ne=Me(n(30098)),re=Me(n(788739)),ae=Me(n(205982)),oe=Me(n(211136)),ie=Me(n(728429)),ue=Me(n(387692)),le=Me(n(956117)),se=Me(n(80828)),ce=n(194322),de=Me(n(528175)),fe=n(71246),pe=n(518802),ve=Me(n(914789)),ye=Re(n(174851)),he=Me(n(416274)),me=Me(n(448702)),_e=Me(n(43233)),ge=Me(n(200574)),Ee=Me(n(424670)),Oe=Me(n(805918)),Se=Me(n(300399)),be=n(770348),Ie=n(859089),Ce=n(460703),Te=n(808961),Ae=Me(n(247001)),Pe=Me(n(149563))
;function Me(e){return e&&e.__esModule?e:{default:e}}function Ne(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(Ne=function(e){return e?n:t})(e)}function Re(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=Ne(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function we(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{
if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return De(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return De(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function De(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Le(){Le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return Le.apply(this,arguments)}function ke(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function je(e){return function(){
var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){ke(o,r,a,i,u,"next",e)}function u(e){ke(o,r,a,i,u,"throw",e)}i(void 0)}))}}function Ue(e,t){Ue=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Ue(e,t)}function Ge(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var Fe=Ge(se.default,{}),xe=(0,_.makeLazy)({createPromise:function(){return Promise.all([n.e(40532),n.e(46422)]).then(n.bind(n,646422))},webpackId:646422,renderLoader:function(){return Ge("div",{className:Pe.default.loader},void 0,Fe)},name:"ForumChannel"
}),We=new Set([be.ChannelTypes.GUILD_TEXT]),Be=Ge(me.default,{}),Ve=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;Ue(e,t)}(t,e);function t(){for(var t,r=arguments.length,u=new Array(r),l=0;l<r;l++)u[l]=arguments[l];(t=e.call.apply(e,[this].concat(u))||this).state={topicExpanded:!1,threadSidebarWidth:void 0,isThreadSidebarFloating:!1};t.handleTitleParentClick=function(){var e=t.props.parentChannel;null!=e&&(0,j.transitionToChannel)(e.id)};t._handleContextMenu=function(e,n){switch(n.type){case be.ChannelTypes.GUILD_VOICE:case be.ChannelTypes.GUILD_ANNOUNCEMENT:case be.ChannelTypes.GUILD_TEXT:case be.ChannelTypes.GUILD_FORUM:t.openChannelContextMenu(e,n);break;case be.ChannelTypes.ANNOUNCEMENT_THREAD:case be.ChannelTypes.PUBLIC_THREAD:case be.ChannelTypes.PRIVATE_THREAD:t.openThreadContextMenu(e,n);break;case be.ChannelTypes.DM:t.openDMContextMenu(e,n)}};t.handleContextMenu=function(e){(0,
i.default)(null!=t.props.channel,"Missing channel in Channel.handleContextMenu");t._handleContextMenu(e,t.props.channel)};t.handleParentContextMenu=function(e){(0,i.default)(null!=t.props.parentChannel,"Missing parentChannel in Channel.handleParentContextMenu");t._handleContextMenu(e,t.props.parentChannel)};t.handleThreadSidebarResize=function(e,n){t.setState({threadSidebarWidth:e,isThreadSidebarFloating:n})};t.openUserProfile=function(){var e=t.props.channel;(0,i.default)(null!=e,"Missing channel in Channel.openUserProfile");(0,z.openUserProfileModal)({userId:e.getRecipientId(),guildId:e.guild_id,analyticsLocation:{section:be.AnalyticsSections.CHANNEL_HEADER}})};t.renderStreamQualityLiveIndicatorToolbarItem=function(){var e=t.props.selectedParticipant;return(null==e?void 0:e.type)!==Ie.ParticipantTypes.STREAM?null:Ge(O.default,{size:de.default.Sizes.LARGE,participant:e,showQuality:!0},"live-indicator")};t.renderHeaderToolbar=function(){
var e=t.props,n=e.channel,r=e.parentChannel,a=e.isLurking;(0,i.default)(null!=n,"Missing channel in Channel.renderHeaderToolbar");var o=[];if(n.isSystemDM())return o;switch(n.type){case be.ChannelTypes.GUILD_STAGE_VOICE:case be.ChannelTypes.GUILD_VOICE:return o;case be.ChannelTypes.DM:o.push(t.renderStreamQualityLiveIndicatorToolbarItem());o.push(Ge(N.default,{channel:n},"calls"));o.push(Ge(A.default,{channel:n},"pins"));o.push(Ge(R.default,{channel:n,tooltip:Ae.default.Messages.GROUP_DM_ADD_FRIENDS},"invite"));break;case be.ChannelTypes.GROUP_DM:o.push(t.renderStreamQualityLiveIndicatorToolbarItem());o.push(Ge(N.default,{channel:n},"calls"));o.push(Ge(A.default,{channel:n},"pins"));if(!n.isManaged()){var u=Ae.default.Messages.GROUP_DM_ADD_FRIENDS;o.push(Ge(R.default,{channel:n,tooltip:u},"invite"))}o.push(Ge(C.default,{channelId:n.id},"members"));break;case be.ChannelTypes.ANNOUNCEMENT_THREAD:case be.ChannelTypes.PRIVATE_THREAD:case be.ChannelTypes.PUBLIC_THREAD:
null!=r&&(r.isForumChannel()||o.push(Ge(W.default,{channel:r},"browser")));n.isArchivedThread()||o.push(Ge(B.default,{channel:n},"notifications"));o.push(Ge(A.default,{channel:n},"pins"));n.isArchivedThread()||o.push(Ge(C.default,{channelId:n.id},"members"));o.push(Ge(V.default,{channel:n},"threads-overflow"));break;case be.ChannelTypes.GUILD_ANNOUNCEMENT:case be.ChannelTypes.GUILD_TEXT:o.push(Ge(W.default,{channel:n},"browser"));a||o.push(Ge(T.default,{channel:n},"notifications"));o.push(Ge(A.default,{channel:n},"pins"));o.push(Ge(C.default,{channelId:n.id},"members"));break;case be.ChannelTypes.GUILD_FORUM:a||o.push(Ge(T.default,{channel:n},"notifications"));o.push(Ge(C.default,{channelId:n.id},"members"));break;case be.ChannelTypes.GUILD_DIRECTORY:o.push(Ge(C.default,{channelId:n.id},"members"))}return o};t.renderMobileToolbar=function(){var e=t.props.channel;(0,i.default)(null!=e,"Missing channel in Channel.renderHeaderToolbar");var n=[];if(e.isSystemDM())return n;switch(e.type){
case be.ChannelTypes.GUILD_STAGE_VOICE:case be.ChannelTypes.GUILD_VOICE:case be.ChannelTypes.DM:break;case be.ChannelTypes.GROUP_DM:n.push(Ge(C.default,{channelId:e.id},"members"));break;case be.ChannelTypes.ANNOUNCEMENT_THREAD:case be.ChannelTypes.PRIVATE_THREAD:case be.ChannelTypes.PUBLIC_THREAD:e.isArchivedThread()||n.push(Ge(C.default,{channelId:e.id},"members"));break;case be.ChannelTypes.GUILD_ANNOUNCEMENT:case be.ChannelTypes.GUILD_TEXT:case be.ChannelTypes.GUILD_FORUM:case be.ChannelTypes.GUILD_DIRECTORY:n.push(Ge(C.default,{channelId:e.id},"members"))}return n};t.renderFollowButton=function(){var e=t.props,r=e.showFollowButton,o=e.channel;return r?Ge(le.default,{size:le.default.Sizes.MIN,color:le.default.Colors.PRIMARY,className:Pe.default.followButton,onClick:function(){return(0,ce.openModalLazy)(je(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2
;return Promise.all([n.e(40532),n.e(35753)]).then(n.bind(n,735753));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,Le({channel:o},e))}));case 5:case"end":return e.stop()}}),e)}))))}},void 0,Ae.default.Messages.FOLLOW):null};t.renderHeaderBar=function(){var e=t.props,n=e.channel,r=e.channelName,a=e.parentChannel,u=e.guild,l=e.guildId,s=e.showCall,c=e.hasVideo,d=e.isMobile;(0,i.default)(null!=n,"Missing channel in Channel.renderHeaderBar");(0,i.default)(null!=r,"Should not be null if channel is not null.");var f=n.isDM()&&!n.isSystemDM()?t.openUserProfile:void 0,p=null!=(null==a?void 0:a.guild_id)&&null!=(null==a?void 0:a.id)?t.handleTitleParentClick:void 0;return Ge(P.default,{guildId:l,channelId:n.id,hideSearch:n.isDirectory(),toolbar:t.renderHeaderToolbar(),mobileToolbar:t.renderMobileToolbar(),className:(0,o.default)(Pe.default.title,c&&s?(0,pe.getThemeClass)(be.ThemeTypes.DARK):null),transparent:s,
"aria-label":Ae.default.Messages.CHANNEL_HEADER_BAR_A11Y_LABEL},"header-"+n.id,(0,M.renderTitle)({channel:n,channelName:r,parentChannel:a,guild:u,hasVideo:c,isMobile:d,handleContextMenu:t.handleContextMenu,handleParentContextMenu:t.handleParentContextMenu,handleClick:f,handleParentClick:p,renderFollowButton:t.renderFollowButton}),Ge(M.HeaderGuildBreadcrumb,{channel:n,guild:u}),(0,M.renderTopic)(n,u))};return t}var r=t.prototype;r.componentDidMount=function(){(0,Y.trackAppUIViewed)("guild_channel")};r.componentDidUpdate=function(e){null!=this.props.channel&&null!=e.channel&&this.props.channel.id!==e.channel.id&&this.state.topicExpanded&&this.setState({topicExpanded:!1});this.openChannelModal()};r.openChannelContextMenu=function(e,t){var r=this.props.guild;(0,i.default)(null!=t,"Missing channel in Channel.openChannelContextMenu");(0,i.default)(null!=r,"Missing guild in Channel.openChannelContextMenu");(0,c.openContextMenuLazy)(e,je(regeneratorRuntime.mark((function e(){var o,i
;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(14560),n.e(32318)]).then(n.bind(n,532318));case 2:o=e.sent;i=o.default;return e.abrupt("return",(function(e){return a.createElement(i,Le({},e,{channel:t,guild:r}))}));case 5:case"end":return e.stop()}}),e)}))))};r.openThreadContextMenu=function(e,t){(0,i.default)(null!=t,"Missing channel in Channel.openChannelContextMenu");(0,c.openContextMenuLazy)(e,je(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(7699).then(n.bind(n,818228));case 2:r=e.sent;o=r.default;return e.abrupt("return",(function(e){return a.createElement(o,Le({},e,{channel:t}))}));case 5:case"end":return e.stop()}}),e)}))))};r.openDMContextMenu=function(e,t){(0,i.default)(null!=t,"Missing channel in Channel.openDMContextMenu");var r=ie.default.getUser(t.getRecipientId());(0,
i.default)(null!=r,"Missing user in Channel.openDMContextMenu");(0,c.openContextMenuLazy)(e,je(regeneratorRuntime.mark((function e(){var o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(31626),n.e(1759),n.e(48811),n.e(81085)]).then(n.bind(n,81085));case 2:o=e.sent;i=o.default;return e.abrupt("return",(function(e){return a.createElement(i,Le({},e,{user:r,channelSelected:!0,channel:t}))}));case 5:case"end":return e.stop()}}),e)}))))};r.renderCall=function(){var e=this.props,t=e.channel,n=e.showCall,r=e.nsfwAllowed,a=e.nsfwAgree;(0,i.default)(null!=t,"Missing channel in Channel.renderCall");if((null==t?void 0:t.isNSFW())&&(!r||!a))return null;if(!n)return null;switch(t.type){case be.ChannelTypes.GUILD_STAGE_VOICE:return Ge(F.default,{channel:t},t.id);case be.ChannelTypes.GUILD_VOICE:case be.ChannelTypes.DM:case be.ChannelTypes.GROUP_DM:var o=this.props.height-200;return Ge(y.default,{channel:t,
renderExternalHeader:this.renderHeaderBar,maxHeight:o},"call-"+t.id);default:return null}};r.renderChat=function(){var e=this.props,t=e.channel,n=e.nsfwAgree,r=e.guild,a=e.nsfwAllowed,o=e.needSubscriptionToAccess;(0,i.default)(null!=t,"Missing channel in Channel.renderChat");if(o){(0,i.default)(null!=r,"premium channels must exist within a guild");return Ge(I.default,{channelId:t.id,guildId:r.id})}if(t.isNSFW()&&(!a||!n))return Ge(Se.default,{guild:r});if(t.isVocal())return null;if(t.isDirectory()){(0,i.default)(null!=r,"directory channels must exist within a guild");return Ge(g.default,{channel:t,guild:r})}if(t.type===be.ChannelTypes.GUILD_FORUM){(0,i.default)(null!=r,"forum channels must exist within a guild");return Ge(xe,{channel:t,guild:r},t.id)}var u=We.has(t.type)&&this.props.enableChatInputActivityButton?m.ChatInputTypes.NORMAL_WITH_ACTIVITY:m.ChatInputTypes.NORMAL;return Ge(ve.default,{channel:t,guild:r,renderThreadNotice:t.isThread(),chatInputType:u},null!=r?r.id:"home")}
;r.renderSidebar=function(){var e=this.props,t=e.searchId,n=e.channel,r=e.parentChannel,a=e.guild,o=e.needSubscriptionToAccess,u=e.section;(0,i.default)(null!=n,"Missing channel in Channel.renderSidebar");if(o)return null;if(u===be.ChannelSections.MEMBERS)switch(n.type){case be.ChannelTypes.GROUP_DM:return Ge(ge.default,{channel:n},"private-channel-recipients-"+n.id);case be.ChannelTypes.GUILD_DIRECTORY:case be.ChannelTypes.GUILD_FORUM:case be.ChannelTypes.GUILD_ANNOUNCEMENT:case be.ChannelTypes.GUILD_TEXT:return Ge(he.default,{channel:n},"channel-members-"+n.id);case be.ChannelTypes.ANNOUNCEMENT_THREAD:if(null!=r)return Ge(he.default,{channel:r},"channel-members-"+r.id);break;case be.ChannelTypes.PUBLIC_THREAD:case be.ChannelTypes.PRIVATE_THREAD:if(!n.isArchivedThread()&&null!=a)return Ge(Ee.default,{channel:n,guild:a},"channel-members-"+n.id)}else if(u===be.ChannelSections.SEARCH&&null!=t)return Ge(U.default,{searchId:t});return null};r.openChannelModal=function(){
var e=this.props,t=e.channel,r=e.guildId,o=e.hasModalOpen,i=e.showWelcomeModal,u=e.isLurking,l=e.isUnavailable,s=e.showRealNameModal;if(null==t||null==r||l||o)return null;s&&(0,ce.openModalLazy)(je(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(74302)]).then(n.bind(n,474302));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return a.createElement(o,Le({},e,{guildId:r}))}));case 5:case"end":return e.stop()}}),e)}))),{onCloseCallback:function(){return S.default.viewPrompt(Ce.GuildPrompts.REAL_NAME_PROMPT,r)},modalKey:"Guild Hub Real Name Modal"});i&&(0,ce.openModalLazy)(je(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(58095).then(n.bind(n,365760));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return a.createElement(o,Le({},e,{
guildId:r}))}));case 5:case"end":return e.stop()}}),e)}))),{onCloseCallback:function(){return(0,$.welcomeScreenViewed)(r,u)},modalKey:"Guild Welcome Screen Modal"});return null};r.renderThreadSidebar=function(){var e,t=this.props,n=t.channel,r=t.section,a=t.threadSidebarState,o=t.nsfwAgree,i=t.nsfwAllowed,u=t.width;if(r!==be.ChannelSections.SIDEBAR_CHAT||null==a)return null;if((null==n?void 0:n.isNSFW())&&(!i||!o))return null;switch(a.type){case Q.SidebarType.CREATE:if(null==n?void 0:n.isForumChannel())return null;e=Ge(x.default,{parentChannelId:a.parentChannelId,parentMessageId:a.parentMessageId,location:a.location});break;case Q.SidebarType.VIEW_THREAD:e=Ge((null==n?void 0:n.isForumChannel())?E.default:H.default,{channelId:a.channelId});break;case Q.SidebarType.VIEW_CHANNEL:return null;default:(0,fe.assertNever)(a)}var l=(null==n?void 0:n.type)===be.ChannelTypes.GUILD_FORUM?528:450,s=u-be.CHANNEL_SIDEBAR_WIDTH-l;return Ge(ye.default,{
sidebarType:(null==n?void 0:n.type)===be.ChannelTypes.GUILD_FORUM?ye.ChatSidebarType.PostSidebar:ye.ChatSidebarType.ThreadSidebar,maxWidth:s,onWidthChange:this.handleThreadSidebarResize},void 0,e)};r.render=function(){var e,t,n=this.props,r=n.channel,i=n.channelName,l=n.showCall,s=n.isUnavailable,c=n.layout,d=n.section,f=n.textInVoiceEnabled,p=this.state,v=p.threadSidebarWidth,y=p.isThreadSidebarFloating;if(s)return Be;if(null==r)return Ge(_e.default,{channelId:this.props.channelId});var h=d===be.ChannelSections.SIDEBAR_CHAT,m=!r.isForumChannel()&&(!r.isGuildVoice()||f);return a.createElement(a.Fragment,null,Ge(u.Helmet,{title:i}),Ge("div",{className:(0,o.default)(Pe.default.chat,(e={},e[Pe.default.threadSidebarOpen]=h,e[Pe.default.threadSidebarFloating]=h&&y,e))},void 0,m?Ge(Oe.default,{style:{right:h?v:void 0},className:Pe.default.uploadArea,channel:r,draftType:J.DraftType.ChannelMessage}):null,l?null:this.renderHeaderBar(),this.renderCall(),Ge("div",{className:(0,
o.default)(Pe.default.content,(t={},t[Pe.default.noChat]=c===be.ChannelLayouts.NO_CHAT,t))},void 0,this.renderChat(),this.renderSidebar())),this.renderThreadSidebar())};return t}(a.PureComponent);Ve.displayName="Channel";var He=(0,d.default)(Ve),Ye=a.memo((function(){var e,t=we(a.useState(null),2),n=t[0],r=t[1],o=(0,s.useStateFromStores)([oe.default],(function(){return oe.default.getChannelId()})),i=(0,s.useStateFromStores)([oe.default],(function(){return oe.default.getVoiceChannelId()})),u=(0,s.useStateFromStores)([v.default],(function(){return null!=o&&v.default.getParticipants(o).length>0}),[o]),c=(0,s.useStateFromStores)([Z.default],(function(){return Z.default.getChannel(o)}),[o]),d=(0,s.useStateFromStores)([Z.default],(function(){return Z.default.getChannel(i)}),[i]),y=null==c?void 0:c.parent_id,m=(0,s.useStateFromStores)([Z.default],(function(){return Z.default.getChannel(y)}),[y]),_=(0,s.useStateFromStores)([ne.default],(function(){
return ne.default.getGuild(null==c?void 0:c.guild_id)}),[c]),g=(0,b.default)(null!==(e=null==c?void 0:c.id)&&void 0!==e?e:void 0).needSubscriptionToAccess,E=(0,K.useIsTextInVoiceEnabled)(null==c?void 0:c.guild_id),O=(null==c?void 0:c.isVocal())||u,S=(0,l.useLocation)().welcomeModalChannelId,I=(0,s.useStateFromStores)([L.default],(function(){return null!=c&&L.default.isLurking(c.guild_id)}),[c]),C=(0,s.useStateFromStores)([q.default],(function(){return q.default.hasSeen(null==c?void 0:c.guild_id,I)}),[c,I]),T=(0,s.useStateFromStores)([v.default],(function(){return null!=o?v.default.getLayout(o):be.ChannelLayouts.NORMAL}),[o]),A=(0,s.useStateFromStores)([v.default],(function(){return null!=c?v.default.getSelectedParticipant(c.id):null})),P=(0,s.useStateFromStores)([ie.default],(function(){return ie.default.getCurrentUser()})),M=(0,w.default)(_),N=S===o&&null!=c&&c.getGuildId()===(null==_?void 0:_.id)&&(0,
X.isGuildTextChannelType)(c.type)&&(null==_?void 0:_.hasFeature(be.GuildFeatures.WELCOME_SCREEN_ENABLED))&&(null==_?void 0:_.hasFeature(be.GuildFeatures.COMMUNITY)),R=(0,s.useStateFromStoresObject)([Q.default],(function(){return{section:Q.default.getSection(o),threadSidebarState:Q.default.getSidebarState(o)}})),j=R.section,U=R.threadSidebarState,F=(0,h.default)(c),x=null!=c&&i===c.id,W=null!=c&&c.isGuildStageVoice();a.useEffect((function(){var e,t=(0,k.getHistory)();if((null==t||null===(e=t.location)||void 0===e?void 0:e.state)===Te.STAGE_INVITE_STATE_KEY){var n,a,o=(null!==(n=(0,D.tryParseChannelPath)(null==t||null===(a=t.location)||void 0===a?void 0:a.pathname))&&void 0!==n?n:{}).channelId;null!=o&&r(o)}}),[]);a.useEffect((function(){if(null!=n&&null!=c&&W&&c.id===n&&!x){(0,G.connectAndOpen)(c);r(null)}}),[n,W]);var B=(0,f.useChatInputActivityButton)({guildId:null==_?void 0:_.id}),V=(0,p.useNitroChatInputActivityButton)();return a.createElement(He,Le({
guildId:null==c?void 0:c.guild_id,channelId:o,channel:c,channelName:F,parentChannel:m,voiceChannel:d,layout:T,needSubscriptionToAccess:g,isLurking:I,hasModalOpen:(0,ce.hasAnyModalOpen)(),section:j,threadSidebarState:U,guild:_,searchId:(0,s.useStateFromStores)([ae.default],(function(){return ae.default.getCurrentSearchId()})),showCall:!g&&O,nsfwAgree:(0,s.useStateFromStores)([te.default],(function(){return te.default.didAgree(null==c?void 0:c.guild_id)})),isMobile:(0,s.useStateFromStores)([re.default],(function(){return(null==c?void 0:c.type)===be.ChannelTypes.DM&&re.default.isMobileOnline(c.getRecipientId())}),[c]),isUnavailable:(0,s.useStateFromStores)([ee.default],(function(){return null!=(null==c?void 0:c.guild_id)&&ee.default.isUnavailable(c.guild_id)}),[c]),showRealNameModal:M,showWelcomeModal:!C&&N,showFollowButton:(null==c?void 0:c.type)===be.ChannelTypes.GUILD_ANNOUNCEMENT&&(null==_?void 0:_.hasFeature(be.GuildFeatures.NEWS))||!1},(0,
s.useStateFromStoresObject)([ue.default],(function(){return{hasVideo:null!=c&&ue.default.hasVideo(c.id)}}),[c]),{inCall:x,selectedParticipant:A,nsfwAllowed:!0===(null==P?void 0:P.nsfwAllowed),textInVoiceEnabled:E,enableChatInputActivityButton:B||V}))}));t.default=Ye},914789:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=Ce(n(667294)),o=be(n(441143)),i=n(171236),u=n(723360),l=n(536211),s=be(n(186705)),c=be(n(786345)),d=be(n(55189)),f=be(n(413546)),p=be(n(274710)),v=n(354575),y=be(n(235879)),h=be(n(844784)),m=be(n(681407)),_=n(65621),g=be(n(462936)),E=be(n(906682)),O=n(573285),S=n(424527),b=be(n(668339)),I=be(n(440214)),C=be(n(271180)),T=n(78528),A=n(105149),P=n(250916),M=n(457676),N=n(514756),R=n(62017),w=be(n(614293)),D=be(n(803069)),L=n(943725),k=be(n(4590)),j=be(n(429654)),U=be(n(338016)),G=be(n(338591)),F=Ce(n(604966)),x=n(808484),W=n(886090),B=be(n(359342)),V=n(770755),H=be(n(734239)),Y=be(n(527820)),z=be(n(423046)),K=be(n(502546)),$=Ce(n(687549)),q=be(n(409205)),X=be(n(201292)),Q=be(n(689389)),Z=be(n(211136)),J=be(n(680873)),ee=be(n(728429)),te=n(644105),ne=be(n(160629)),re=be(n(413542)),ae=n(221656),oe=n(194322),ie=be(n(308920)),ue=n(993442),le=n(956506),se=n(871382),ce=n(245838),de=n(247726),fe=n(738326),pe=be(n(695519)),ve=be(n(576967)),ye=be(n(756873)),he=be(n(786630)),me=be(n(284382)),_e=be(n(626341)),ge=n(770348),Ee=be(n(247001)),Oe=be(n(149563)),Se=["isSidebar"]
;function be(e){return e&&e.__esModule?e:{default:e}}function Ie(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(Ie=function(e){return e?n:t})(e)}function Ce(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=Ie(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function Te(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{
if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ae(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Pe(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function Me(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function Ne(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Me(o,r,a,i,u,"next",e)}function u(e){Me(o,r,a,i,u,"throw",e)}i(void 0)}))}}function Re(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;we(e,t)}function we(e,t){we=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return we(e,t)}function De(){De=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return De.apply(this,arguments)}function Le(e){e.preventDefault()}var ke=/^\+(?!\w+):?(?!:)(\w+)?:?$/;function je(e){var t=e.isSidebar,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}
return a}(e,Se);return t?a.createElement("section",De({},n,{role:"complementary"})):a.createElement("main",n)}var Ue=function(e){Re(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).isFirstChange=!0;t.state=De({},(0,S.createState)($.default.getDraft(t.props.channel.id,$.DraftType.ChannelMessage)),{contentWarningProps:null});t.draftDidChange=function(e){void 0===e&&(e=t.props);var n=t.state.textValue,r=$.default.getDraft(e.channel.id,$.DraftType.ChannelMessage);n===r||""!==r&&""!==n||t.setState((0,S.createState)(r),(function(){if(n!==r){var e=t.props.onFocus;null==e||e()}}))};t.handleKeyDown=function(e){var n=t.props,r=n.keyboardModeEnabled,a=n.onKeyDown,o=n.channel,i=e.shiftKey||e.altKey||e.ctrlKey||e.metaKey,u=0!==t.state.textValue.length;switch(e.which){case ge.KeyboardKeys.DELETE:case ge.KeyboardKeys.BACKSPACE:t.handleIncrementCombo("",1);return;case ge.KeyboardKeys.ARROW_UP:if(i)return;if(u)return
;e.preventDefault();if(r)J.default.getUploadCount(o.id,$.DraftType.ChannelMessage)>0?le.ComponentDispatch.dispatchToLastSubscribed(ge.ComponentActions.FOCUS_ATTACHMENT_AREA):le.ComponentDispatch.dispatchToLastSubscribed(ge.ComponentActions.FOCUS_MESSAGES,{atEnd:!0});else{var l=t.props.channel,s=X.default.getLastEditableMessage(l.id);if(null!=s){c.default.startEditMessage(l.id,s.id,s.content);h.default.trackWithMetadata(ge.AnalyticEvents.MESSAGE_EDIT_UP_ARROW)}}return;case ge.KeyboardKeys.ESCAPE:if(i)return;if(e.target!==e.currentTarget)return;e.preventDefault();if(r){(0,v.disableKeyboardMode)();return}if(J.default.getUploadCount(o.id,$.DraftType.ChannelMessage)>0){f.default.clearAll(o.id,$.DraftType.ChannelMessage);return}}null==a||a(e,u)};t.handleIncrementCombo=function(e,n){var r;if(t.props.poggermodeEnabled){var a=t.props.channel.id,o=z.default.getId(),i=k.default.getUserCombo(o,a),u=(null!==(r=null==i?void 0:i.value)&&void 0!==r?r:0)+1;(0,L.updateCombo)({channelId:a,userId:o,
value:null!=e?e.length:u,multiplier:n})}};t.handleTextareaChange=function(e,n,r){var a=t.props,o=a.keyboardModeEnabled,i=a.channel.id;s.default.changeDraft(i,n,$.DraftType.ChannelMessage);var u=""!==n&&r!==t.state.richValue,l=u&&!ke.test(n)&&!n.startsWith("/")&&(!t.isFirstChange||n!==t.state.textValue);t.isFirstChange=!1;l&&t.state.textValue.length<n.length&&t.handleIncrementCombo();l?d.default.startTyping(i):""===n&&d.default.stopTyping(i);u&&o&&(0,v.disableKeyboardMode)();t.setState({textValue:n,richValue:r})};t.handleSendMessage=function(){var e=Ne(regeneratorRuntime.mark((function e(n){var r,a,o,i,u,l,s,d,v,y,h,m,E;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.value,a=n.uploads,o=n.stickers,i=n.command,u=n.commandOptionValues,l=n.isGif;if(0!==(r=r.trim()).length||null!=o&&0!==o.length||null!=a&&0!==a.length){e.next=4;break}return e.abrupt("return",Promise.resolve({shouldClear:!1,shouldRefocus:!0}));case 4:s=t.props,d=s.guild,v=s.channel,
y=s.pendingReply,h=s.chatInputType;m=!1;if(null==i){e.next=18;break}if(i.inputType!==_.ApplicationCommandInputType.BUILT_IN_INTEGRATION){e.next=10;break}le.ComponentDispatch.dispatch(ge.ComponentActions.SHAKE_APP,{duration:200,intensity:2});return e.abrupt("return",Promise.resolve({shouldClear:!1,shouldRefocus:!0}));case 10:e.next=12;return(0,g.default)(i,null!=u?u:{},{guild:d,channel:v});case 12:E=e.sent;if(i.inputType!==_.ApplicationCommandInputType.BUILT_IN_TEXT){e.next=17;break}if(null!=E){r=null!=E.content&&""!==E.content?E.content:r;m=!0===E.tts}e.next=18;break;case 17:return e.abrupt("return",Promise.resolve({shouldClear:!0,shouldRefocus:!0}));case 18:return e.abrupt("return",(0,se.applyChatRestrictions)({openWarningPopout:function(e){return t.setState({contentWarningProps:e})},type:t.props.chatInputType,content:r,stickers:o,uploads:a,channel:v}).then((function(e){var n=e.valid,i=e.failureReason;if(!n){if(i===ge.MessageRestrictionTypes.SLOWMODE_COOLDOWN){
le.ComponentDispatch.dispatch(ge.ComponentActions.SHAKE_APP,{duration:200,intensity:2});le.ComponentDispatch.dispatch(ge.ComponentActions.EMPHASIZE_SLOWMODE_COOLDOWN);return{shouldClear:!1,shouldRefocus:!0}}return{shouldClear:!1,shouldRefocus:!1}}var u=c.default.getSendMessageOptionsForReply(y),s=w.default.parse(v,r);s.tts=s.tts||m;if(l){c.default.sendMessage(v.id,s,void 0,u);(0,W.deletePendingReply)(v.id);return{shouldClear:!1,shouldRefocus:!0}}if(null!=a&&a.length>0){var _=(0,fe.getWebUploadFiles)(a);if((0,fe.filesExceedUploadLimits)(_,null==d?void 0:d.id)){(0,de.showUploadFileSizeExceededError)(v,_);return{shouldClear:!1,shouldRefocus:!1}}p.default.uploadFiles({channelId:v.id,uploads:a,draftType:$.DraftType.ChannelMessage,parsedMessage:s,options:De({},u,{stickerIds:o})});f.default.clearAll(v.id,$.DraftType.ChannelMessage)}else null!=o&&o.length>0?""!==r?c.default.sendMessage(v.id,s,void 0,De({},u,{stickerIds:o
})):c.default.sendStickers(v.id,o,r,u,s.tts):c.default.sendMessage(v.id,s,void 0,u);t.setState((0,S.createEmptyState)());(0,W.deletePendingReply)(v.id);(0,V.clearStickerPreview)(v.id,h.drafts.type);return{shouldClear:!0,shouldRefocus:!0}})));case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.renderAttachButton=function(e){return Pe(I.default,{className:e,channel:t.props.channel,draftType:$.DraftType.ChannelMessage,editorTextContent:t.state.textValue,setValue:function(e){return t.handleTextareaChange(null,e,(0,S.toRichValue)(e))}})};t.renderApplicationCommandIcon=function(e,n){var r;return Pe(b.default,{className:n,command:e,channel:t.props.channel,section:null===(r=m.default.getApplicationSections(t.props.channel.id,e.type))||void 0===r?void 0:r.find((function(t){return t.id===e.applicationId}))})};return t}var n=t.prototype;n.componentDidMount=function(){$.default.addChangeListener(this.draftDidChange)}
;n.componentWillUnmount=function(){$.default.removeChangeListener(this.draftDidChange)};n.componentDidUpdate=function(e,t){var n=this.props.channel,r=this.state.textValue;if(e.channel.id===n.id){if(e.hasModalOpen&&!this.props.hasModalOpen){var a=$.default.getDraft(n.id,$.DraftType.ChannelMessage);a!==r&&this.setState((0,S.createState)(a))}t.textValue.length<ge.MAX_MESSAGE_LENGTH&&r.length>=ge.MAX_MESSAGE_LENGTH&&ie.default.track(ge.AnalyticEvents.MESSAGE_LENGTH_LIMIT_REACHED,{})}else this.draftDidChange(this.props)};n.render=function(){var e=this,t=this.props,n=t.channel,r=t.focused,i=t.onResize,u=t.onBlur,l=t.onFocus,s=t.highlighted,c=t.pendingReply,d=t.chatInputType,f=t.placeholder,p=t.shakeIntensity,v=t.poggermodeEnabled,y=this.state.contentWarningProps,h=Pe(C.default,{textValue:this.state.textValue,richValue:this.state.richValue,focused:r,className:Oe.default.channelTextArea,channel:n,placeholder:f,pendingReply:c,type:d,onChange:this.handleTextareaChange,
onSubmit:this.handleSendMessage,onResize:i,onFocus:l,onBlur:u,onKeyDown:this.handleKeyDown,renderAttachButton:this.renderAttachButton,renderApplicationCommandIcon:this.renderApplicationCommandIcon,promptToUpload:de.promptToUpload,highlighted:s});return Pe(ne.default,{position:ne.default.Positions.TOP,onRequestClose:function(){var t;null==y||null===(t=y.onCancel)||void 0===t||t.call(y);e.setState({contentWarningProps:null})},shouldShow:null!=y,renderPopout:function(e){var t=e.closePopout;(0,o.default)(null!=y,"ChannelTextAreaForm > Popout > renderPopout: contentWarningProps cannot be null");return a.createElement(_e.default,De({onClose:t},y))}},void 0,(function(){return v?Pe(re.default,{isShaking:p>0,intensity:p},void 0,h):h}))};return t}(a.PureComponent);Ue.displayName="ChannelTextAreaForm";var Ge=Pe(F.default,{}),Fe=Pe(ae.ChatLayerContainer,{}),xe=function(e){Re(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o]
;(t=e.call.apply(e,[this].concat(r))||this).inputFormRef=a.createRef();t.state={textAreaFocused:!1,textAreaHighlighted:!1,currentChannelId:t.props.channel.id};t.dispatchGroupRef=a.createRef();t.handleRequestFocus=function(e){e.channelId===t.props.channel.id&&t.setState({textAreaFocused:!0})};t.getAnalyticsPage=function(){var e=t.props.channel;if(null==e)return null;switch(e.type){case ge.ChannelTypes.GUILD_ANNOUNCEMENT:case ge.ChannelTypes.GUILD_TEXT:case ge.ChannelTypes.GUILD_FORUM:return me.default.Pages.GUILD_CHANNEL;case ge.ChannelTypes.GROUP_DM:case ge.ChannelTypes.DM:return me.default.Pages.DM_CHANNEL;default:return null}};t.handleInputFocus=function(e){var n;null===(n=t.dispatchGroupRef.current)||void 0===n||n.bumpDispatchPriority();(0,ce.isFullScreen)()||(null!=(null==e?void 0:e.highlight)?t.setState({textAreaFocused:!0,textAreaHighlighted:null==e?void 0:e.highlight}):t.setState({textAreaFocused:!0}))};t.handleInputBlur=function(){
(document.hasFocus()||t.props.hasModalOpen)&&t.setState({textAreaFocused:!1,textAreaHighlighted:!1})};t.handleInputKeyDown=function(e,n){t.state.textAreaHighlighted&&t.setState({textAreaHighlighted:!1});n||t._handleMoveToPane(e)};t.handleKeyDown=function(e){var n;(null===(n=t.inputFormRef.current)||void 0===n?void 0:n.contains(e.target))||t._handleMoveToPane(e)};t._handleMoveToPane=function(e){var n=t.props,r=n.keyboardModeEnabled,a=n.chatInputType,o=n.channel;if(r)switch(e.which){case ge.KeyboardKeys.ARROW_LEFT:a===O.ChatInputTypes.SIDEBAR&&le.ComponentDispatch.dispatch(ge.ComponentActions.FOCUS_CHANNEL_TEXT_AREA,{channelId:Z.default.getChannelId()});return;case ge.KeyboardKeys.ARROW_RIGHT:a===O.ChatInputTypes.NORMAL&&le.ComponentDispatch.dispatch(ge.ComponentActions.FOCUS_CHANNEL_TEXT_AREA,{channelId:K.default.getCurrentSidebarChannelId(o.id)})}};t.handleOpenExpressionPicker=function(e){var n=e.activeView;(0,P.openExpressionPicker)(n,t.props.chatInputType)}
;t.handleChatInteract=function(){var e;null===(e=t.dispatchGroupRef.current)||void 0===e||e.bumpDispatchPriority()};t.renderMessageBanner=function(e,t,n,r,a){if(e.type===ge.ChannelTypes.DM){if(t)return Pe(A.SenderSpammerBanner,{channel:e});if(n)return Ge}return null!=a&&(0,M.isCommunicationDisabled)(a)&&null!=r?Pe(R.CommunicationDisabledBanner,{guild:r,disabledUntil:a}):null};return t}t.getDerivedStateFromProps=function(e,t){var n=e.channel,r=t.currentChannelId;return n.id!==r?{textAreaFocused:null!=n&&(!i.isMobile&&Q.default.can(ge.Permissions.SEND_MESSAGES,n)),currentChannelId:n.id}:null};var n=t.prototype;n.componentDidMount=function(){le.ComponentDispatch.subscribe(ge.ComponentActions.FOCUS_CHANNEL_TEXT_AREA,this.handleRequestFocus)};n.componentDidUpdate=function(e){this.props.isEditing===e.isEditing&&this.props.hasModalOpen===e.hasModalOpen||(this.props.isEditing||this.props.hasModalOpen?this.handleInputBlur():this.handleInputFocus())};n.componentWillUnmount=function(){
le.ComponentDispatch.unsubscribe(ge.ComponentActions.FOCUS_CHANNEL_TEXT_AREA,this.handleRequestFocus)};n.render=function(){var e,t,n=this.props,r=n.channel,o=n.guild,i=n.keyboardModeEnabled,l=n.hasModalOpen,s=n.pendingReply,c=n.chatInputType,d=n.renderThreadNotice,f=n.placeholder,p=n.showQuarantinedUserBanner,v=n.filterAfterTimestamp,y=n.showSpamBanner,h=n.communicationDisabledUntil,m=n.shakeIntensity,_=n.poggermodeEnabled,g=this.state,E=g.textAreaFocused,S=g.textAreaHighlighted,b=r.isPrivate()?ve.default:ye.default,I=c===O.ChatInputTypes.SIDEBAR;t=I&&r.type===ge.ChannelTypes.GUILD_VOICE?Ee.default.Messages.TEXT_IN_VOICE_A11Y_LABEL:u.ChannelTypesSets.THREADS.has(r.type)?Ee.default.Messages.THREAD_A11Y_LABEL:Ee.default.Messages.CHANNEL_A11Y_LABEL;return Pe(me.default,{page:this.getAnalyticsPage()},"messages-"+r.id,Pe(ae.ChatLayerProvider,{},void 0,a.createElement(ue.ComponentDispatchGroupProvider,{ref:this.dispatchGroupRef},Pe(ue.ComponentAction,{
event:ge.ComponentActions.TEXTAREA_FOCUS,handler:this.handleInputFocus}),Pe(ue.ComponentAction,{event:ge.ComponentActions.TEXTAREA_BLUR,handler:this.handleInputBlur}),Pe(ue.ComponentAction,{event:ge.ComponentActions.OPEN_EXPRESSION_PICKER,handler:this.handleOpenExpressionPicker}),Pe(je,{isSidebar:I,className:Oe.default.chatContent,"aria-label":t.format({channelName:r.name}),onMouseDown:this.handleChatInteract,onKeyDown:this.handleKeyDown,onFocus:this.handleChatInteract},void 0,d?Pe(H.default,{channel:r}):null,(0,x.isReadStateStaffExperimentEnabled)()?Pe(pe.default,{guild:o,channel:r}):null,Pe(D.default,{channel:r,filterAfterTimestamp:v,showingSpamBanner:y,showingQuarantineBanner:p}),null!==(e=this.renderMessageBanner(r,y,p,o,h))&&void 0!==e?e:a.createElement("form",{ref:this.inputFormRef,onSubmit:Le,className:Oe.default.form},_&&Pe(U.default,{channelId:r.id}),Pe(b,{channel:r},void 0,Pe(Y.default,{tutorialId:"writing-messages",position:te.PopoutPositions.LEFT,offsetX:75},void 0,Pe(Ue,{
focused:E,highlighted:S,channel:r,guild:o,keyboardModeEnabled:i,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur,onKeyDown:this.handleInputKeyDown,hasModalOpen:l,pendingReply:s,chatInputType:c,placeholder:f,shakeIntensity:m,poggermodeEnabled:_}))),Pe(he.default,{channel:r,poggermodeEnabled:_})),Fe))))};return t}(a.PureComponent);xe.displayName="ChannelChat";var We=a.memo((function(e){var t=e.channel,n=e.guild,r=e.chatInputType,a=e.renderThreadNotice,o=e.filterAfterTimestamp,i=(0,E.default)(t),u=(0,T.useDisplayDMSpamBanner)(t),s=(0,F.useShouldBlockDMInputForQuarantinedUser)(ee.default.getCurrentUser(),t),c=Te((0,N.useCurrentUserCommunicationDisabled)(null==n?void 0:n.id),1)[0],d=(0,j.default)(),f=(0,G.default)(t.id);return Pe(xe,{channel:t,isEditing:null!=(0,l.useStateFromStores)([q.default],(function(){return q.default.getEditingMessageId(t.id)})),hasModalOpen:(0,oe.useModalsStore)(oe.hasAnyModalOpenSelector),guild:n,keyboardModeEnabled:(0,
l.useStateFromStores)([y.default],(function(){return y.default.keyboardModeEnabled})),pendingReply:(0,l.useStateFromStores)([B.default],(function(){return B.default.getPendingReply(t.id)})),chatInputType:r,renderThreadNotice:a,placeholder:i,filterAfterTimestamp:o,showSpamBanner:u,showQuarantinedUserBanner:s,communicationDisabledUntil:c,shakeIntensity:f,poggermodeEnabled:d})}));t.default=We},695519:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=g;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294))
;var r,a=n(536211),o=h(n(770549)),i=h(n(678928)),u=n(567186),l=h(n(644263)),s=h(n(563621)),c=h(n(956117)),d=n(645758),f=h(n(811198)),p=n(770348),v=h(n(247001)),y=h(n(36656));function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(e){var t=e.guild,n=e.channel,r=(0,a.useStateFromStoresObject)([l.default,s.default],(function(){return{category:null!=n.parent_id?l.default.getChannel(n.parent_id):null,
isGuildMuted:s.default.isMuted(n.getGuildId()),isCategoryMuted:null!=n.parent_id&&s.default.isChannelMuted(n.getGuildId(),n.parent_id),isChannelMuted:s.default.isChannelMuted(n.getGuildId(),n.id),messageNotifications:s.default.resolvedMessageNotifications(n)}})),h=r.category,m=r.isGuildMuted,g=r.isCategoryMuted,E=r.isChannelMuted,O=r.messageNotifications,S=(0,i.default)(n,!0);if(!(0,u.isTextChannel)(n.type)||n.isThread())return null;var b,I,C,T=m||g||E;if(T){var A;if(m){var P;A=null!==(P=null==t?void 0:t.name)&&void 0!==P?P:"???";C=function(){return o.default.updateGuildNotificationSettings(n.getGuildId(),{muted:!1})}}else if(g){var M;A=null!==(M=null==h?void 0:h.name)&&void 0!==M?M:"???";C=function(){return o.default.updateChannelOverrideSettings(n.getGuildId(),n.parent_id,{muted:!1})}}else{A=S;C=function(){return o.default.updateChannelOverrideSettings(n.getGuildId(),n.id,{muted:!1})}}b=v.default.Messages.CHANNEL_CHAT_NOTIFICATION_SETTINGS_NOTICE_MUTED.format({name:A})
;I=v.default.Messages.UNMUTE}else{if(O===p.UserNotificationSettings.ALL_MESSAGES)return null;b=v.default.Messages.CHANNEL_CHAT_NOTIFICATION_SETTINGS_NOTICE_ONLY_MENTIONS.format({name:S});I=v.default.Messages.ENABLE_NOTIFICATIONS_TITLECASE;C=function(){return o.default.updateChannelOverrideSettings(n.getGuildId(),n.id,{message_notifications:p.UserNotificationSettings.ALL_MESSAGES})}}return _("div",{className:y.default.chatHeaderBar},void 0,_(f.default,{className:y.default.chatHeaderBarIcon,foreground:T?y.default.chatHeaderBarIconStrikethrough:void 0}),_(d.Text,{className:y.default.chatHeaderBarText,variant:"text-sm/normal",color:"header-secondary"},void 0,b),_(c.default,{size:c.default.Sizes.TINY,color:c.default.Colors.PRIMARY,className:y.default.chatHeaderBarButton,onClick:C},void 0,I))}g.displayName="ChannelChatNotificationSettingsNotice"},174851:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MIN_CHAT_SIDEBAR_WIDTH=t.ChatSidebarType=void 0
;t.default=function(e){var t,n,r=e.sidebarType,l=e.maxWidth,c=e.onWidthChange,f=e.children,p=e.floatingLayer,v=a.useRef(null),O=function(e){switch(e){case _.PostSidebar:return"postSidebarWidth";case _.ThreadSidebar:return"threadSidebarWidth";case _.CallChatSidebar:return"callChatSidebarWidth"}}(r),S=(M=a.useState(s.default[O]),N=2,function(e){if(Array.isArray(e))return e}(M)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}}(M,N)||function(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}
}(M,N)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),b=S[0],I=S[1],C=a.useCallback((function(e){var t;u.default.updatedUnsyncedSettings(((t={})[O]=e,t))}),[O]),T=l<=m,A=(0,i.clamp)(b,m,l),P=T?A:A+g;var M,N;a.useEffect((function(){null==c||c(A,T)}),[A,c,T]);var R=a.createElement(a.Fragment,null,h("div",{className:(0,o.default)(d.default.chatTarget,(t={},t[d.default.floating]=T,t[d.default.notFloating]=!T,t)),style:{width:P}}),!T&&h(E,{maxWidth:l,resizableNode:v,onResize:I,onResizeEnd:C}),a.createElement("div",{ref:v,className:(0,o.default)(d.default.container,(n={},n[d.default.floating]=T,n)),style:{width:A}},f));if(T){return h(null!=p?p:a.Fragment,{},void 0,h("div",{className:d.default.chatLayerWrapper},void 0,R))}return a.createElement(a.Fragment,null,R)}
;var r,a=v(n(667294)),o=f(n(294184)),i=n(496486),u=f(n(929031)),l=v(n(33273)),s=f(n(174508)),c=n(8916),d=f(n(542709));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3
;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var m=450;t.MIN_CHAT_SIDEBAR_WIDTH=m;var _,g=(0,c.cssValueToNumber)(d.default.resizeHandleWidth);t.ChatSidebarType=_;!function(e){e[e.PostSidebar=0]="PostSidebar";e[e.ThreadSidebar=1]="ThreadSidebar";e[e.CallChatSidebar=2]="CallChatSidebar"}(_||(t.ChatSidebarType=_={}));function E(e){var t=e.resizableNode,n=e.onResize,r=e.onResizeEnd,a=e.maxWidth;return h("div",{onMouseDown:(0,l.default)({minDimension:m,maxDimension:a,resizableDomNodeRef:t,onElementResize:n,onElementResizeEnd:r,orientation:l.ResizeOrientation.HORIZONTAL}),className:d.default.resizeHandle})}E.displayName="ResizeHandle"},416274:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=ie
;var r,a=V(n(667294)),o=W(n(294184)),i=W(n(496486)),u=V(n(798628)),l=n(171236),s=n(536211),c=W(n(389726)),d=n(378158),f=n(911574),p=W(n(55189)),v=W(n(235879)),y=W(n(843314)),h=W(n(844784)),m=n(832215),_=n(632123),g=n(75639),E=n(252404),O=W(n(527820)),S=W(n(711195)),b=W(n(414068)),I=V(n(778548)),C=W(n(663303)),T=W(n(946447)),A=W(n(728429)),P=W(n(160629)),M=W(n(325908)),N=W(n(827436)),R=W(n(521358)),w=n(956506),D=n(71246),L=W(n(922629)),k=V(n(810332)),j=n(770348),U=W(n(247001)),G=W(n(645320)),F=["colorString","isOwner","nick","user","currentUser","activities","applicationStream","status","channel","guildId","isTyping","isMobileOnline","premiumSince"],x=["ref","role"];function W(e){return e&&e.__esModule?e:{default:e}}function B(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(B=function(e){return e?n:t})(e)}function V(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=B(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function H(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function z(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function K(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}function $(){$=Object.assign||function(e){
for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return $.apply(this,arguments)}function q(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function X(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){q(o,r,a,i,u,"next",e)}function u(e){q(o,r,a,i,u,"throw",e)}i(void 0)}))}}function Q(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;Z(e,t)}function Z(e,t){Z=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Z(e,t)}var J=L.default.getEnableHardwareAcceleration(),ee={origin:{x:38,y:11},targetWidth:232,targetHeight:40,offset:{x:0,y:0}},te=function(e){Q(t,e);function t(){for(var t,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];(t=e.call.apply(e,[this].concat(o))||this).renderUserContextMenu=function(e){(0,
d.openContextMenuLazy)(e,X(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(31626),n.e(1759),n.e(48811),n.e(50690),n.e(39048),n.e(40100)]).then(n.bind(n,205814));case 2:r=e.sent;o=r.default;return e.abrupt("return",(function(e){return a.createElement(o,$({},e,{user:t.props.user,guildId:t.props.guildId,channelId:t.props.channel.id,showMediaItems:!0}))}));case 5:case"end":return e.stop()}}),e)}))))};t.handleShiftClick=function(){var e=t.props,n=e.user,r=e.channel,a="@"+(C.default.hidePersonalInformation?n.username:n.tag),o="<@!"+n.id+">";w.ComponentDispatch.dispatchToLastSubscribed(j.ComponentActions.INSERT_TEXT,{plainText:a,rawText:o});p.default.startTyping(r.id)};t.openGuildSubscriptionModal=function(e){var n=t.props.guildId;if(null!=n){e.stopPropagation();(0,g.openGuildBoostingMarketingModal)({guildId:n,location:{section:j.AnalyticsSections.MEMBER_LIST,
object:j.AnalyticsObjects.BOOST_GEM_ICON}})}};t.renderUserPopout=function(e){return a.createElement(b.default,$({},e,{userId:t.props.user.id,guildId:t.props.guildId,channelId:t.props.channel.id}))};return t}var r=t.prototype;r.shouldComponentUpdate=function(e){return!(0,c.default)(this.props,e,["channelId"])};r.render=function(){var e=this,t=this.props,n=t.colorString,r=t.isOwner,o=t.nick,i=t.user,u=t.currentUser,s=t.activities,c=t.applicationStream,d=t.status,f=t.channel,p=t.guildId,v=t.isTyping,y=t.isMobileOnline,h=t.premiumSince,m=K(t,F),_=null!=h?new Date(h):null;return z(P.default,{preload:function(){return(0,S.default)(i.id,i.getAvatarURL(p,80),{guildId:p})},renderPopout:this.renderUserPopout,position:l.isMobile?P.default.Positions.WINDOW_CENTER:P.default.Positions.LEFT,spacing:16,onShiftClick:this.handleShiftClick},void 0,(function(t,l){var h=l.isShown;return a.createElement(k.default,$({onContextMenu:e.renderUserContextMenu,shouldAnimateStatus:J,user:i,currentUser:u,nick:o,
status:d,activities:s,applicationStream:c,isOwner:r,premiumSince:_,colorString:n,isTyping:v,channel:f,guildId:p,isMobile:y,onClickPremiumGuildIcon:e.openGuildSubscriptionModal,selected:h,itemProps:m},t))}))};return t}(a.Component);te.displayName="ChannelMember";var ne=a.memo((function(e){var t=e.channel,n=e.user,r=e.index,o=(0,u.useListItem)(""+r),i=(0,s.useStateFromStores)([T.default],(function(){return T.default.isTyping(t.id,n.id)})),l=(0,s.useStateFromStores)([A.default],(function(){return A.default.getCurrentUser()}));return a.createElement(te,$({},e,o,{isTyping:i,currentUser:l}))})),re=a.memo((function(e){var t=e.id,n=e.title,r=e.count,o=e.guildId,i=(0,E.useRoleIcon)({roleId:t,guildId:o,size:16});return t===j.StatusTypes.UNKNOWN?z("div",{className:G.default.membersGroup},void 0,z("div",{className:G.default.memberGroupsPlaceholder})):z(M.default,{className:G.default.membersGroup},void 0,z(y.default,{},void 0,U.default.Messages.CHANNEL_MEMBERS_A11Y_LABEL.format({title:n,count:r
})),z("span",{"aria-hidden":!0},void 0,null!=i?a.createElement(N.default,$({className:G.default.roleIcon},i)):null,n," â€” ",r))}));function ae(e){var t=e.index,n=(0,u.useListItem)(""+t);return z(k.default,{itemProps:n})}ae.displayName="ChannelMemberPlaceholder";var oe=function(e){Q(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(t=e.call.apply(e,[this].concat(r))||this)._list=null;t.setList=function(e){t._list=e;t.props.listRef.current=e};t.getRowHeight=function(){return t.props.canUseAvatarDecorations?44+k.AVATAR_DECORATION_PADDING:44};t.renderSection=function(e){var n=e.section,r=t.props,o=r.groups,i=r.channel,u=o[n];return 0===n?z(O.default,{tutorialId:"whos-online",position:P.default.Positions.LEFT,inlineSpecs:ee},"section-"+n,a.createElement(re,$({},u,{guildId:i.guild_id}))):a.createElement(re,$({},u,{key:"section-"+n,guildId:i.guild_id}))};t.getRowProps=function(e){var n=t.props,r=n.groups,a=n.rows,o=r[e.section];if(null==o)return null
;var i=o.index;return null==i||"row"!==e.type?null:a[i+1+e.row]};t.renderRow=function(e){var n=e.section,r=e.row,a=e.rowIndex,o=t.props.channel,i=t.getRowProps(e);if(null!=i&&i.type===I.MemberListRowTypes.MEMBER&&"user"in i){var u=i.colorString,l=i.user,s=i.status,c=i.isOwner,d=i.isMobileOnline,f=i.nick,p=i.activities,v=i.applicationStream,y=i.premiumSince;return z(ne,{colorString:u,user:l,status:s,isOwner:c,nick:f,activities:p,applicationStream:v,channel:o,guildId:o.guild_id,premiumSince:y,isMobileOnline:d,index:a},"member-"+i.user.id)}return z(ae,{index:a},"placeholder-"+n+":"+r)};t.handleScroll=function(){t.updateSubscription()};t.updateSubscription=i.default.debounce((function(){if(null!=t._list){var e=t.props.channel,n=t.getDimensions(),r=n.rowHeight,a=n.y,o=n.height;(0,f.subscribeChannelDimensions)(e.guild_id,e.id,a,o,r)}}),50);t.trackMemberListViewed=function(){var e;if(t.lastReportedAnalyticsChannel!==t.props.channel.id){
var n=null===(e=t._list)||void 0===e?void 0:e.getItems(),r=t.getDimensions().rowsVisible;if(void 0!==r&&0!==r&&null!=n){var a=n.map((function(e){return t.getRowProps(e)})).slice(0,r+1).filter(D.isNotNullish);if(0!==a.length){var o=a.reduce((function(e,t){if(t.type!==I.MemberListRowTypes.MEMBER)return e;e.num_users_visible++;t.isMobileOnline&&e.num_users_visible_with_mobile_indicator++;if(null!=t.activities&&t.activities.length>0){e.num_users_visible_with_activity++;t.activities.some((function(e){return e.type===j.ActivityTypes.PLAYING}))&&e.num_users_visible_with_game_activity++}return e}),{num_users_visible:0,num_users_visible_with_mobile_indicator:0,num_users_visible_with_game_activity:0,num_users_visible_with_activity:0});t.lastReportedAnalyticsChannel=t.props.channel.id;h.default.trackWithMetadata(j.AnalyticEvents.MEMBER_LIST_VIEWED,$({},o))}}}};return t}var n=t.prototype;n.shouldComponentUpdate=function(e){
return e.channel.id!==this.props.channel.id||e.version!==this.props.version||e.groups.length!==this.props.groups.length};n.componentDidMount=function(){this.updateSubscription();this.trackMemberListViewed()};n.componentDidUpdate=function(e){e.channel.id!==this.props.channel.id&&this.updateSubscription();this.trackMemberListViewed()};n.getDimensions=function(){var e=this._list;if(null==e)return{y:0,height:0,rowHeight:0};var t=e.getScrollerState(),n=t.offsetHeight,r=t.scrollTop,a=Math.floor(n/this.getRowHeight());return{height:n,rowHeight:this.getRowHeight(),rowsVisible:a,y:r}};n.render=function(){var e=this,t=this.props,n=t.groups,r=t.listId,i=t.channel;return z(_.FocusJumpSection,{},void 0,(function(t){return z("aside",{className:(0,o.default)(G.default.membersWrap,G.default.hiddenMembers),"aria-label":U.default.Messages.MEMBERS_LIST_LANDMARK_LABEL.format({channel:i.name})},void 0,z(u.ListNavigatorContainer,{},void 0,(function(i){var u,s=i.ref,c=i.role,d=K(i,x)
;return a.createElement(R.default,$({key:r,innerRole:c,innerAriaLabel:U.default.Messages.MEMBERS,ref:function(t){var n;e._list=t;e.props.listRef.current=t;s.current=null!==(n=null==t?void 0:t.getScrollerNode())&&void 0!==n?n:null},className:(0,o.default)(G.default.members,(u={},u[G.default.fullWidth]=l.isMobile,u)),paddingTop:0,sectionHeight:40,rowHeight:e.getRowHeight,renderSection:e.renderSection,renderRow:e.renderRow,sections:n.map((function(e){return e.count})),onScroll:e.handleScroll,fade:!0},d,t))})))}))};return t}(a.Component);oe.displayName="ChannelMembers";function ie(e){var t=e.channel,n=e.className,r=(0,s.useStateFromStores)([v.default],(function(){return v.default.keyboardModeEnabled})),i=(0,s.useStateFromStoresObject)([I.default],(function(){return I.default.getProps(t.guild_id,t.id)})),l=i.rows,c=i.groups,d=a.useRef(null),f=a.useCallback((function(e,t){var n=d.current;if(null!=n){var r=parseInt(t,10),a=H(n.getSectionRowFromIndex(r),2),o=a[0],i=a[1],u=0===o&&0===i?44:0
;n.scrollToIndex({section:o,row:i,padding:u,callback:function(){requestAnimationFrame((function(){var t;return null===(t=document.querySelector(e))||void 0===t?void 0:t.focus({preventScroll:!0})}))}})}}),[]),p=a.useCallback((function(){return new Promise((function(e){var t=d.current;if(null==t)return e();t.scrollToTop({callback:function(){return requestAnimationFrame((function(){return e()}))}})}))}),[]),y=a.useCallback((function(){return new Promise((function(e){var t=d.current;if(null==t)return e();t.scrollToBottom({callback:function(){requestAnimationFrame((function(){return setTimeout(e,100)}))}})}))}),[]),h=(0,u.default)({id:"members-"+t.id,setFocus:f,isEnabled:r,scrollToStart:p,scrollToEnd:y}),_=(0,m.useGlobalHasAvatarDecorations)().canUseAvatarDecorations;return z("div",{className:(0,o.default)(G.default.container,n)},void 0,z(u.ListNavigatorProvider,{navigator:h},void 0,a.createElement(oe,$({},e,i,{groups:c,rows:l,listRef:d,canUseAvatarDecorations:_}))))}
ie.displayName="ConnectedChannelMembers"},83887:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=E;var r,a=m(n(667294)),o=n(536211),i=y(n(56911)),u=y(n(882832)),l=y(n(191391)),s=y(n(728429)),c=y(n(265851)),d=m(n(80212)),f=y(n(836943)),p=n(770348),v=y(n(247001));function y(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function _(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=[];function E(e){var t=e.channel,r=e.onJump,y=(0,o.useStateFromStoresObject)([u.default],(function(){var e=u.default.getPinnedMessages(t.id),n=null!=e?e.messages:g;return{messages:n,loading:null==n||null!=e&&e.loading}})),h=y.messages,m=y.loading,E=(0,o.useStateFromStores)([l.default],(function(){return l.default.hasUnreadPins(t.id)})),O=(0,o.useStateFromStores)([s.default],(function(){var e=s.default.getUser(t.getRecipientId());return null!=e?e.username:null}));a.useEffect((function(){E&&i.default.ackPins(t.id)}),[E,t.id]);return _(c.default,{
"aria-label":v.default.Messages.PINNED_MESSAGES},void 0,_(d.default,{onFetch:function(){i.default.ackPins(t.id);i.default.fetchPins(t.id)},channel:t,messages:h,loading:m,analyticsName:"Channel Pins",onCloseMessage:function(e,n){null!=e&&(n.shiftKey?i.default.unpinMessage(t,e.id):f.default.confirmUnpin(t,e))},onJump:r,getProTip:function(){return t.isPrivate()?t.type===p.ChannelTypes.DM?v.default.Messages.PINNED_MESSAGES_PRO_TIP_BODY_DM.format({other:O}):v.default.Messages.PINNED_MESSAGES_PRO_TIP_BODY_GROUP_DM:v.default.Messages.PINNED_MESSAGES_PRO_TIP_BODY_CHANNEL},renderHeader:function(){return _(d.Header,{title:v.default.Messages.PINNED_MESSAGES})},renderEmptyState:function(e){var r=v.default.Messages.NO_PINS_IN_CHANNEL;t.isPrivate()&&(r=v.default.Messages.NO_PINS_IN_DM);var a=e===p.ThemeTypes.LIGHT?n(937849):n(772144);return _(d.EmptyStateCenter,{msg:r,image:a},"emptystate")},listName:"pins"}))}E.displayName="ChannelPins"},701391:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(473727),i=h(n(536211)),u=h(n(709403)),l=h(n(864345)),s=n(887299),c=h(n(484024)),d=h(n(284382)),f=n(858267),p=h(n(390491)),v=n(770348),y=h(n(492036));function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(e,t){g=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return g(e,t)}var E=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;g(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).fetchStoreListing=function(e){var n=t.props,r=n.channel,a=n.inputSkuId;return null!=e?u.default.fetchChannelStoreListing(r.id,e):null!=a?u.default.fetchChannelStoreListing(r.id,a):u.default.fetchChannelStoreListing(r.id)};t.renderApplicationListing=function(e){var n=e.location,r=t.props,a=r.channel,o=r.skuId,i=r.width
;return _(p.default,{channel:a,inputSkuId:o,fetchStoreListing:t.fetchStoreListing,location:n,pageSize:(0,f.getPageSize)(i)})};return t}var n=t.prototype;n.componentDidMount=function(){this.fetchStoreListing();(0,s.trackAppUIViewed)("channel_store_listing")};n.render=function(){return null!=this.props.skuId?_(d.default,{page:v.AnalyticsPages.CHANNEL_STORE_LISTING,root:!0},void 0,_("div",{className:y.default.applicationStore},void 0,_(o.Route,{path:"*",render:this.renderApplicationListing}))):null};return t}(a.Component);E.displayName="ChannelStoreListing";var O=(0,l.default)(i.default.connectStores([c.default],(function(e){var t=e.channel,n=e.inputSkuId;return{skuId:null!=n?n:c.default.getSkuIdForChannel(t.id)}}))(E));t.default=O},448702:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=m(n(213847)),u=m(n(844784)),l=m(n(463024)),s=n(645758),c=m(n(562796)),d=m(n(114655)),f=n(770348),p=m(n(247001)),v=m(n(361751)),y=m(n(192941)),h=m(n(232353));function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function g(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var E=((r={})[f.ThemeTypes.DARK]=y.default,r[f.ThemeTypes.LIGHT]=h.default,r),O=g(o.Fragment,{}),S=g(l.default.Icon,{icon:c.default,"aria-hidden":!0}),b=function(){var e=(0,i.default)();o.useEffect((function(){u.default.trackWithMetadata(f.AnalyticEvents.GUILD_OUTAGE_VIEWED,{})}),[]);return g("div",{className:v.default.container},void 0,g(l.default,{toolbar:O},void 0,S,g(l.default.Title,{},void 0,p.default.Messages.GUILD_UNAVAILABLE_HEADER)),g("div",{className:v.default.content},void 0,g("img",{alt:"",className:v.default.splashImage,src:E[e]}),g(d.default,{className:v.default.splashHeader,size:d.default.Sizes.SIZE_24},void 0,p.default.Messages.GUILD_UNAVAILABLE_TITLE),g(s.Text,{className:v.default.splashText,variant:"text-md/normal"},void 0,p.default.Messages.GUILD_UNAVAILABLE_BODY)))};b.displayName="ChannelUnavailable";var I=b;t.default=I
},825469:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=I(n(441143)),i=I(n(294398)),u=I(n(726485)),l=I(n(14096)),s=I(n(235879)),c=I(n(916239)),d=I(n(364172)),f=I(n(949898)),p=n(956506),v=I(n(593878)),y=I(n(969940)),h=I(n(421651)),m=I(n(818685)),_=I(n(323019)),g=I(n(396201)),E=I(n(229108)),O=I(n(742234)),S=n(770348),b=I(n(542729));function I(e){return e&&e.__esModule?e:{default:e}}function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){
return e?n:t})(e)}function T(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var A=T(h.default,{}),P=T(E.default,{}),M=T(v.default,{}),N=T(y.default,{}),R=T(i.default,{}),w=T(m.default,{}),D=T(d.default,{}),L=T(c.default,{}),k=T(_.default,{});function j(){var e=a.useRef(null),t=a.useCallback((function(t){var n=t.duration,r=t.intensity;if(!s.default.useReducedMotion&&f.default.isFocused()){var a=e.current;(0,o.default)(null!=a,"Shakeable is shaken when not mounted");a.shake(n,r)}}),[]);a.useEffect((function(){l.default.setLayout(u.default);l.default.enable();return function(){return l.default.disable()}}),[])
;a.useEffect((function(){p.ComponentDispatch.subscribe(S.ComponentActions.SHAKE_APP,t);return function(){p.ComponentDispatch.unsubscribe(S.ComponentActions.SHAKE_APP,t)}}),[t]);return a.createElement(O.default,{ref:e,className:b.default.app},T(g.default,{className:b.default.layers},void 0,A,P),M,N,R,w,D,L,k)}j.displayName="Chat";var U=a.memo(j);t.default=U},678306:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=P(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=A(n(294184)),i=A(n(496486)),u=A(n(74854)),l=A(n(536211)),s=A(n(972247)),c=A(n(761537)),d=A(n(235879)),f=A(n(749666)),p=A(n(805764)),v=A(n(796608)),y=A(n(23535)),h=A(n(758602)),m=A(n(151097)),_=A(n(934297)),g=A(n(637853)),E=A(n(962314)),O=n(864489),S=n(179379),b=A(n(922629)),I=n(770348),C=A(n(247001)),T=A(n(678114));function A(e){return e&&e.__esModule?e:{default:e}}function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(P=function(e){return e?n:t})(e)}function M(e,t){M=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return M(e,t)}function N(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var R=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;M(e,t)}(t,e);function t(t){var n,r;(n=e.call(this,t)||this).videoRef=null;n._noProblemsTimeout=null;n._problemsTimeout=null;n._connectedSound=n.createSound()
;n._loadingText=(r=[C.default.Messages.LOADING_LINE_1,C.default.Messages.LOADING_LINE_2,C.default.Messages.LOADING_LINE_3,C.default.Messages.LOADING_LINE_4,C.default.Messages.LOADING_LINE_5,C.default.Messages.LOADING_LINE_6,C.default.Messages.LOADING_LINE_7,C.default.Messages.LOADING_LINE_8,C.default.Messages.LOADING_LINE_10,C.default.Messages.LOADING_LINE_11,C.default.Messages.LOADING_LINE_12,C.default.Messages.LOADING_LINE_13,C.default.Messages.LOADING_LINE_14,C.default.Messages.LOADING_LINE_15,C.default.Messages.LOADING_TIP_1,C.default.Messages.LOADING_TIP_2,C.default.Messages.LOADING_TIP_3,C.default.Messages.LOADING_TIP_4,C.default.Messages.LOADING_TIP_5,C.default.Messages.LOADING_TIP_6,C.default.Messages.LOADING_TIP_7,C.default.Messages.LOADING_TIP_8,C.default.Messages.LOADING_TIP_9,C.default.Messages.LOADING_TIP_10,C.default.Messages.LOADING_TIP_11,C.default.Messages.LOADING_TIP_12,C.default.Messages.LOADING_TIP_13,C.default.Messages.LOADING_TIP_14,C.default.Messages.LOADING_TIP_15,C.default.Messages.LOADING_TIP_16,C.default.Messages.LOADING_TIP_17,C.default.Messages.LOADING_TIP_18,C.default.Messages.LOADING_TIP_19,C.default.Messages.LOADING_TIP_20,C.default.Messages.LOADING_TIP_21,C.default.Messages.LOADING_TIP_22,C.default.Messages.LOADING_TIP_23,C.default.Messages.LOADING_TIP_24,C.default.Messages.LOADING_TIP_25,C.default.Messages.LOADING_TIP_26,C.default.Messages.LOADING_TIP_27.format({
asterisks:"**"}),C.default.Messages.LOADING_KEYBIND_TIP_1.format({quickSwitcherHook:function(e,t){return N(f.default,{shortcut:"mod+k",className:T.default.keybind},t)}}),C.default.Messages.LOADING_KEYBIND_TIP_2.format({markUnreadHook:function(e,t){return N(f.default,{shortcut:"alt+click",className:T.default.keybind},t)}}),C.default.Messages.LOADING_KEYBIND_TIP_3.format({markServerUnreadHook:function(e,t){return N(f.default,{shortcut:"shift+esc",className:T.default.keybind},t)}}),C.default.Messages.LOADING_KEYBIND_TIP_4.format({navigateUnreadHook:function(e,t){return N(f.default,{shortcut:"shift+alt+up",className:T.default.keybind},t)},downHook:function(e,t){return N(f.default,{shortcut:"down",className:T.default.keybind},t)}}),C.default.Messages.LOADING_KEYBIND_TIP_5.format({keyboardShortcutsHook:function(e,t){return N(f.default,{shortcut:"mod+/",className:T.default.keybind},t)}}),C.default.Messages.LOADING_KEYBIND_TIP_6.format({messageNewlineHook:function(e,t){return N(f.default,{
shortcut:"shift+return",className:T.default.keybind},t)}}),C.default.Messages.LOADING_KEYBIND_TIP_7.format({shiftHook:function(e,t){return N(f.default,{shortcut:"shift",className:T.default.keybind},t)}}),C.default.Messages.LOADING_KEYBIND_TIP_8.format({upHook:function(e,t){return N(f.default,{shortcut:"up",className:T.default.keybind},t)}})])[i.default.random(r.length-1)];n.handleReady=function(){n.setState({ready:!0});if((0,O.isDesktop)()){b.default.send("UPDATED_QUOTES",["Hold Tight â€” Loading Discord"]);b.default.send("UPDATE_OPEN_ON_STARTUP")}};n.setVideoRef=function(e){n.videoRef=e};n.setProblemsTimeout=function(){null==n._problemsTimeout&&(n._problemsTimeout=setTimeout((function(){return n.setState({problems:!0})}),1e4))};n.clearProblemsTimeout=function(){clearTimeout(n._problemsTimeout);n._problemsTimeout=null};var a=t.connected;n.state={ready:a,hide:a,problems:!1,shouldRender:!a,opacity:new u.default.Value(a?0:1)};n._connectedSound.volume=1;return n}var n=t.prototype
;n.createSound=function(){var e=this.props.soundpack,t=(0,S.createSoundForPack)("discodo",e);t.volume=1;return t};n.componentDidMount=function(){this.setProblemsTimeout()};n.componentDidUpdate=function(e,t){var n=this,r=this.state,a=r.ready,o=r.hide,i=r.problems,l=r.opacity,d=this.props,f=d.connected,p=d.soundpack,v=d.reducedMotion,y=f&&a&&!o&&!i;e.soundpack!==p&&(this._connectedSound=this.createSound());if(e.connected!==f||y)if(f&&null!=this.videoRef){var h=Math.max(Math.ceil(1e3*(this.videoRef.duration-this.videoRef.currentTime)),600);clearTimeout(this._noProblemsTimeout);s.default.get(I.DISCODO_STORAGE_KEY)&&this._connectedSound.play();v?this.setState({problems:!1,hide:f}):this._noProblemsTimeout=setTimeout((function(){n.setState({problems:!1,hide:f})}),h)}else this.setState({problems:!1,hide:f});else if(t.hide!==o){o?this.clearProblemsTimeout():this.setProblemsTimeout();this.setState({shouldRender:!0});u.default.timing(l,{toValue:o?0:1,duration:200}).start((function(){
return n.setState({shouldRender:!o})}))}else t.problems!==i&&i&&c.default.checkIncidents()};n.componentWillUnmount=function(){this.clearProblemsTimeout();clearTimeout(this._noProblemsTimeout)};n.render=function(){if(this.state.shouldRender){var e,t=this._loadingText,n=null;if(null!=this.props.incident){t=this.props.incident.name;n=this.props.incident.incident_updates[0].body}return N(u.default.div,{className:T.default.container,style:{opacity:this.state.opacity}},void 0,N("div",{className:T.default.content},void 0,N(E.default,{autoPlay:!0,loop:!this.props.connected,setRef:this.setVideoRef,onReady:this.handleReady,className:this.state.ready?T.default.ready:""}),N("div",{className:T.default.text},void 0,null!=this.props.incident?null:N("div",{className:T.default.tipTitle},void 0,C.default.Messages.LOADING_DID_YOU_KNOW),N("div",{className:null!=this.props.incident?T.default.title:T.default.tip},void 0,t),N("div",{className:T.default.body},void 0,n))),N("div",{className:(0,
o.default)(T.default.problems,(e={},e[T.default.slideIn]=this.state.problems,e))},void 0,N("div",{className:T.default.problemsText},void 0,C.default.Messages.CONNECTING_PROBLEMS_CTA),N("div",{},void 0,N(m.default,{className:T.default.twitterLink,href:(0,p.default)(I.LocalizedLinks.TWITTER),target:"_blank"},void 0,N(g.default,{className:T.default.icon}),C.default.Messages.TWEET_US),N(m.default,{className:T.default.statusLink,href:I.Links.STATUS,target:"_blank"},void 0,N(_.default,{className:T.default.icon}),C.default.Messages.SERVER_STATUS))))}return null};return t}(a.PureComponent);R.displayName="ConnectingModal";var w=l.default.connectStores([y.default,h.default,v.default,d.default],(function(){return{isTryingToConnect:y.default.isTryingToConnect(),connected:y.default.isConnected(),incident:h.default.getIncident(),soundpack:v.default.getSoundpack(),reducedMotion:d.default.useReducedMotion}}))((function(e){
var t=e.isTryingToConnect,n=e.connected,r=e.incident,a=e.soundpack,o=e.reducedMotion;return t?N(R,{reducedMotion:o,soundpack:a,connected:n,incident:r}):null}));t.default=w},41234:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=f(n(294184)),i=f(n(972247)),u=f(n(16941)),l=f(n(259530)),s=f(n(934297)),c=f(n(247001)),d=f(n(9007));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){
return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var m="isHideDevBanner",_=function(){var e,t=y((0,a.useState)("true"===(null===(e=i.default.get(m,"false"))||void 0===e?void 0:e.toString())),2),n=t[0],r=t[1];if(n)return null;var f=function(){i.default.set(m,!0);r(!0)},p=function(){return v(u.default,{onClick:f,className:d.default.closeButton,"aria-label":c.default.Messages.DISMISS},void 0,v(l.default,{className:d.default.closeIcon}))};0;if("staging"===window.GLOBAL_ENV.RELEASE_CHANNEL){return v("div",{className:(0,o.default)(d.default.devBanner,d.default.staging)
},void 0,v(s.default,{className:d.default.icon}),c.default.Messages.DEV_NOTICE_STAGING.format({buildNumber:"131246"}),v(p,{}))}return null};t.default=_},43233:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=_;var r,a=h(n(667294)),o=n(536211),i=v(n(772145)),u=v(n(790597)),l=v(n(871778)),s=h(n(737705)),c=v(n(80828)),d=n(770348),f=v(n(247001)),p=v(n(591701));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e
;n&&n.set(e,r);return r}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e){var t=e.channelId;a.useEffect((function(){i.default.loadThread(t)}));var r,v=(0,o.useStateFromStores)([u.default],(function(){return u.default.getGuildId()}))===d.FAVORITES,y=(0,o.useStateFromStores)([l.default],(function(){return l.default.theme}));r=v?m(s.EmptyStateText,{note:f.default.Messages.FAVORITES_EMPTY_BODY},void 0,f.default.Messages.FAVORITES_EMPTY_TITLE):null!=t?m(c.default,{type:c.default.Type.SPINNING_CIRCLE}):m(s.EmptyStateText,{note:f.default.Messages.CHANNELS_UNAVAILABLE_BODY
},void 0,f.default.Messages.CHANNELS_UNAVAILABLE_TITLE);return m("div",{className:p.default.noChannel},void 0,m(s.default,{theme:y},void 0,m(s.EmptyStateImage,{darkSrc:n(v?128112:16697),lightSrc:n(v?876406:105045),width:272,height:222}),r))}_.displayName="EmptyChannel"},323019:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=y(n(496486)),o=n(143544),i=n(248088),u=n(536211),l=y(n(297452)),s=y(n(796608)),c=y(n(919935)),d=y(n(663303)),f=y(n(931411)),p=n(179379),v=n(340038);function y(e){
return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(){m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return m.apply(this,arguments)}var _={transform:"scale(0.7)",opacity:0},g={transform:"scale(1)",opacity:1},E=function(){var e=(0,u.useStateFromStoresArray)([f.default],(function(){return f.default.getIncomingCalls()})),t=(0,u.useStateFromStores)([f.default],(function(){return f.default.hasIncomingCalls()})),n=(0,u.useStateFromStores)([c.default],(function(){return c.default.isSoundDisabled("call_ringing")})),y=(0,u.useStateFromStores)([d.default],(function(){return d.default.disableSounds})),h=(0,u.useStateFromStores)([s.default],(function(){return s.default.getSoundpack()})),E=r.useRef(!1),O=(0,o.useStableMemo)((function(){
if(h===v.Soundpacks.CLASSIC){var e=500===a.default.random(1,1e3)?"call_ringing_beat":"call_ringing";return(0,p.createSound)(e,"call_ringing")}return(0,p.createSoundForPack)("call_ringing",h)}),[h]);r.useEffect((function(){return function(){O.stop()}}),[O]);r.useEffect((function(){if(y||n){if(E.current){O.stop();E.current=!1}}else if(t&&!E.current){O.loop();E.current=!0}else if(!t&&E.current){O.stop();E.current=!1}}),[n,y,t,O]);return(0,i.useTransition)(e,{keys:function(e){var t;return null===(t=e.channel)||void 0===t?void 0:t.id},enter:{from:_,to:g},leave:_,config:{mass:1,tension:500,friction:18,clamp:!0}})((function(e,t){return r.createElement(l.default,m({},t,{animatedStyle:e}))}))};t.default=E},396201:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=Y
;var r,a,o=A(n(667294)),i=C(n(294184)),u=C(n(74854)),l=A(n(536211)),s=C(n(550024)),c=n(264720),d=n(246049),f=C(n(14096)),p=n(836233),v=C(n(235879)),y=n(329117),h=C(n(68625)),m=C(n(122913)),_=C(n(728526)),g=n(378444),E=n(956506),O=n(518802),S=n(770348),b=C(n(785535)),I=["mode","children","baseLayer"];function C(e){return e&&e.__esModule?e:{default:e}}function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}function A(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function P(e,t,n,r){
a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function M(){M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return M.apply(this,arguments)}function N(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;R(e,t)}function R(e,t){R=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return R(e,t)}var w=(0,y.makeLazy)({createPromise:function(){return Promise.all([n.e(40532),n.e(62837),n.e(93198),n.e(62467),n.e(72936),n.e(51754),n.e(54313)]).then(n.bind(n,64721))},webpackId:64721,
name:"UserSettings"}),D=(0,y.makeLazy)({createPromise:function(){return Promise.all([n.e(40532),n.e(97621)]).then(n.bind(n,437897))},webpackId:437897,name:"ChannelSettings"}),L=(0,y.makeLazy)({createPromise:function(){return Promise.all([n.e(40532),n.e(51754),n.e(86955)]).then(n.bind(n,799017))},webpackId:799017,name:"GuildIdentitySettingsPage"}),k=P(w,{}),j=P(D,{}),U=P(h.default,{}),G=P(L,{}),F=((r={})[S.Layers.USER_SETTINGS]=function(){return k},r[S.Layers.CHANNEL_SETTINGS]=function(){return j},r[S.Layers.GUILD_SETTINGS]=function(){return U},r[S.Layers.GUILD_IDENTITY_SETTINGS]=function(){return G},r),x="SHOWN",W="HIDDEN",B={friction:10,tension:100},V=function(e){N(t,e);t.getDerivedStateFromProps=function(e,t){return e.mode!==t.mode?{animating:!0,mode:e.mode}:null};function t(t){var n;(n=e.call(this,t)||this).containerRef=o.createRef();var r=1,a=1;if(t.mode===W){r=.93;a=0}n.state={animating:!1,scale:new u.default.Value(r),opacity:new u.default.Value(a),mode:t.mode};return n}
var n=t.prototype;n.componentDidUpdate=function(e){var t=this.props.mode,n=e.mode;if(t!==n)return t===x&&n===W?this.animateIn():t===W&&n===x?this.animateUnder():void 0};n.componentWillEnter=function(e){var t=this,n=this.state,r=n.opacity;n.scale.setValue(1.1);r.setValue(0);e();this.setState({animating:!0},(function(){return t.animateIn()}))};n.componentWillLeave=function(e){var t=this;this.setState({animating:!0},(function(){return t.animateOut(e)}))};n.animateIn=function(e){var t=this;l.default.Store.pauseEmittingChanges(500);var n=this.state,r=n.opacity,a=n.scale;u.default.parallel([u.default.spring(r,M({toValue:1},B)),u.default.spring(a,M({toValue:1},B))]).start((function(){return t.animateComplete(e)}))};n.animateOut=function(e){l.default.Store.pauseEmittingChanges(500);var t=this.state,n=t.opacity,r=t.scale;E.ComponentDispatch.dispatch(S.ComponentActions.LAYER_POP_START);u.default.parallel([u.default.spring(n,M({toValue:0},B)),u.default.spring(r,M({toValue:1.1
},B))]).start((function(){e();E.ComponentDispatch.dispatch(S.ComponentActions.LAYER_POP_COMPLETE)}))};n.animateUnder=function(){var e=this;l.default.Store.pauseEmittingChanges(500);var t=this.state,n=t.opacity,r=t.scale;u.default.parallel([u.default.spring(n,M({toValue:0},B)),u.default.spring(r,M({toValue:.93},B))]).start((function(){return e.animateComplete()}))};n.animateComplete=function(e){this.setState({animating:!1},e)};n.render=function(){var e,t=this,n=this.state.animating,r=this.props,a=r.mode,l=r.children,s=r.baseLayer,c=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(r,I),d=n||a===W?this.getAnimatedStyle():null,f=o.createElement(u.default.div,M({ref:function(e){return t.containerRef.current=null!=e?e.refs.node:void 0},"aria-hidden":a===W,className:(0,i.default)(b.default.layer,(e={},e[b.default.baseLayer]=s,e[b.default.animating]=n,e["stop-animations"]=a===W,e)),style:d},c),l)
;return s?f:P(_.default,{containerRef:this.containerRef},void 0,f)};n.getAnimatedStyle=function(){var e=this.state,t=e.opacity,n=e.scale;return{opacity:t,transform:this.context.reducedMotion.enabled?void 0:[{scale:n},{translateZ:0}]}};return t}(o.PureComponent);V.displayName="Layer";V.defaultProps={baseLayer:!1};V.contextType=p.AccessibilityPreferencesContext;var H=function(e){N(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.componentDidMount=function(){var e=this.props.layers;if(e[e.length-1]===S.Layers.USER_SETTINGS){f.default.enable();f.default.enableTemp(d.SETTINGS_LAYERS_LAYOUT)}E.ComponentDispatch.subscribe(S.ComponentActions.LAYER_POP_ESCAPE_KEY,c.popLayer)};n.componentDidUpdate=function(e){var t=this.props,n=t.layers,r=t.hasFullScreenLayer,a=e.layers.length>0||e.hasFullScreenLayer,o=n.length>0||r;!a&&o||o&&n===e.layers&&n[0]===S.Layers.USER_SETTINGS?f.default.enableTemp(d.SETTINGS_LAYERS_LAYOUT):a&&!o&&f.default.disableTemp()}
;n.componentWillUnmount=function(){E.ComponentDispatch.unsubscribe(S.ComponentActions.LAYER_POP_ESCAPE_KEY,c.popLayer)};n.renderLayers=function(){var e=this,t=this.props,n=t.children,r=t.layers,a=t.hasFullScreenLayer,o=r.length,i=[];i.push(P(V,{mode:0!==o||a?W:x,baseLayer:!0},"layer-base",n));r.forEach((function(t,n){return i.push(e.renderComponent(t,n,o))}));return i};n.renderComponent=function(e,t,n){var r,a=t===n-1;r="string"==typeof e?F[e]():P(e,{});return P(V,{mode:a?x:W},"layer-"+t,r)};n.renderArtisanalHack=function(){return P("div",{className:(0,i.default)(b.default.bg,(0,O.getThemeClass)(this.props.sidebarTheme))})};n.render=function(){return o.createElement(o.Fragment,null,this.renderArtisanalHack(),P(s.default,{component:"div",className:(0,i.default)(b.default.layers,this.props.className)},void 0,this.renderLayers()))};return t}(o.PureComponent);H.displayName="Layers";function Y(e){var t=(0,l.useStateFromStores)([v.default],(function(){return v.default.darkSidebar
}))?S.ThemeTypes.DARK:void 0,n=(0,l.useStateFromStores)([m.default],(function(){return m.default.getLayers()})),r=(0,g.useFullScreenLayerStore)((function(e){return e.fullScreenLayers.length>0}));return o.createElement(H,M({},e,{sidebarTheme:t,layers:n,hasFullScreenLayer:r}))}Y.displayName="ConnectedLayers"},712283:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});Object.defineProperty(t,"NotchBackground",{enumerable:!0,get:function(){return f.NotchBackground}});t.default=void 0;var r,a=b(n(667294)),o=O(n(496486)),i=O(n(536211)),u=n(91817),l=O(n(740207)),s=O(n(635014)),c=O(n(893160)),d=O(n(956117)),f=b(n(358255)),p=O(n(730977)),v=O(n(37241)),y=b(n(662197)),h=O(n(308920)),m=n(770348),_=n(376293),g=O(n(247001)),E=O(n(502258));function O(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function b(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function I(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function C(e,t){C=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return C(e,t)}var T=-100,A=function(e){!function(e,t){e.prototype=Object.create(t.prototype)
;e.prototype.constructor=e;C(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this)._initTimeout=new u.Timeout;t._silenceTimeout=new u.Timeout;t._messageTimeout=new u.Timeout;t.state={volume:T,isMicTesting:!1,isDetectingInput:!0,didDeafenUser:!1};t.setupVoiceActivity=function(){s.default.getMediaEngine().on("voiceactivity",t.handleVoiceActivity)};t.handleVoiceActivity=function(e){if(t.state.isMicTesting&&e<=T){t._silenceTimeout.isStarted()||t._silenceTimeout.start(2e3,(function(){t.setState({isDetectingInput:!1})}));t.setState({volume:T})}else{t._silenceTimeout.stop();t.setState({volume:e,isDetectingInput:!0})}};t.handleToggleMicTest=function(){t.state.isMicTesting?t._micTestStop():t._micTestStart()};return t}var n=t.prototype;n.componentDidMount=function(){this._initTimeout.start(1e3,this.setupVoiceActivity)};n.componentWillUnmount=function(){this._initTimeout.stop();this._silenceTimeout.stop()
;this._micTestStop();s.default.getMediaEngine().removeListener("voiceactivity",this.handleVoiceActivity)};n._micTestStart=function(){var e=this.props,t=e.isVoiceConnected,n=e.inputDeviceName,r=e.inputVolume,a=e.outputDeviceName,o=e.outputVolume,i=e.inputMode,u=e.vadAutoThreshold,s=e.vadThreshold,c=e.location,d=e.isDeafened,f=!1;if(t&&!d){l.default.toggleSelfDeaf(_.MediaEngineContextTypes.DEFAULT);f=!0}l.default.setLoopback(!0);this._micTestStartTime=Date.now();this.setState({isMicTesting:!0,isDetectingInput:!0,didDeafenUser:f});h.default.track(m.AnalyticEvents.MIC_TESTING_STARTED,{input_device_name:n,input_device_volume:r,output_device_name:a,output_device_volume:o,input_mode:i,input_sensitivity_is_automatic:u,input_sensitivity_threshold:Math.round(s),location:c})};n._micTestStop=function(){var e=this.state,t=e.didDeafenUser,n=e.isMicTesting,r=this.props,a=r.isVoiceConnected,o=r.isDeafened;if(n){a&&o&&t&&l.default.toggleSelfDeaf(_.MediaEngineContextTypes.DEFAULT)
;l.default.setLoopback(!1);this.setState({isMicTesting:!1,didDeafenUser:!1});null!=this._micTestStartTime&&h.default.track(m.AnalyticEvents.MIC_TESTING_STOPPED,{testing_duration:Math.round((Date.now()-this._micTestStartTime)/1e3)})}};n.renderCaption=function(){var e=this.props,t=e.captionVoice,n=e.captionNoVoice,r=this.state,a=r.isMicTesting,o=r.isDetectingInput;return I(v.default,{className:E.default.micTestCaption,type:v.default.Types.DESCRIPTION},void 0,a?o?t:n:null)};n.render=function(){var e=this,t=this.props,n=t.isVoiceConnected,r=t.title,a=t.description,o=t.notchBackground,i=t.buttonTest,u=t.buttonStop,l=t.buttonClassName,s=t.buttonColor,c=t.isDeafened,h=this.state,m=h.isMicTesting,_=h.volume,O=n&&!m?g.default.Messages.MIC_TEST_VOICE_CHANNEL_WARNING:null;m&&n&&!c&&this._micTestStop();return I("div",{className:E.default.container},void 0,I(y.default,{tag:y.Tags.H5,className:E.default.title},void 0,r),null!=a&&I(v.default,{type:v.default.Types.DESCRIPTION,
className:E.default.description},void 0,a),I("div",{className:E.default.micTest},void 0,I(p.default,{text:O},void 0,(function(t){var n=t.onMouseEnter,r=t.onMouseLeave;return I(d.default,{grow:!1,onClick:e.handleToggleMicTest,onMouseEnter:n,onMouseLeave:r,size:d.default.Sizes.SMALL,className:l,color:s},void 0,m?u:i)})),I(f.default,{progress:m?_+100:0,notchBackground:o}),this.renderCaption()))};return t}(a.PureComponent);A.displayName="MicTester";var P=i.default.connectStores([c.default,s.default],(function(){var e=s.default.getInputDeviceId(),t=s.default.getInputDevices(),n=o.default.find(t,(function(t){return t.id===e})),r=s.default.getOutputDeviceId(),a=s.default.getOutputDevices(),i=o.default.find(a,(function(e){return e.id===r})),u=s.default.getModeOptions();return{isVoiceConnected:c.default.isConnected(),inputVolume:s.default.getInputVolume(),outputVolume:s.default.getOutputVolume(),inputMode:s.default.getMode(),vadThreshold:u.threshold,isDeafened:s.default.isSelfDeaf(),
vadAutoThreshold:u.autoThreshold,inputDeviceName:null!=n?n.name:"",outputDeviceName:null!=i?i.name:""}}))(A);t.default=P},25202:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=Te
;var r,a=de(n(667294)),o=se(n(730381)),i=n(473727),u=n(536211),l=se(n(190040)),s=se(n(939949)),c=de(n(319076)),d=n(264720),f=se(n(445377)),p=se(n(597362)),v=se(n(136873)),y=se(n(761537)),h=de(n(376543)),m=se(n(105988)),_=n(622349),g=de(n(446637)),E=se(n(226800)),O=se(n(155502)),S=se(n(954140)),b=se(n(37039)),I=de(n(583490)),C=n(802922),T=n(283894),A=se(n(796015)),P=se(n(678875)),M=n(191868),N=se(n(778885)),R=se(n(655205)),w=se(n(745108)),D=se(n(542402)),L=se(n(119152)),k=se(n(644263)),j=se(n(288356)),U=se(n(876874)),G=se(n(30098)),F=se(n(635014)),x=se(n(893160)),W=se(n(790597)),B=se(n(728429)),V=se(n(399561)),H=se(n(424099)),Y=de(n(296005)),z=se(n(151097)),K=se(n(530250)),$=se(n(80828)),q=se(n(41024)),X=n(194322),Q=de(n(177101)),Z=se(n(308920)),J=se(n(550270)),ee=n(42031),te=n(168558),ne=de(n(215850)),re=n(259880),ae=n(770348),oe=n(480826),ie=n(376293),ue=se(n(247001)),le=se(n(202192));function se(e){return e&&e.__esModule?e:{default:e}}function ce(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(ce=function(e){return e?n:t})(e)}function de(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=ce(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function fe(){fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return fe.apply(this,arguments)}function pe(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function ve(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n)
;function i(e){pe(o,r,a,i,u,"next",e)}function u(e){pe(o,r,a,i,u,"throw",e)}i(void 0)}))}}function ye(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var he=function(){return ye(Q.default,{color:Q.NoticeColors.DANGER},void 0,ye(Q.NoticeCloseButton,{onClick:function(){_e();(0,re.open)()}}),ue.default.Messages.NOTICE_NO_INPUT_DETECTED,ye(Q.NoticeButtonAnchor,{href:J.default.getArticleURL(ae.HelpdeskArticles.NO_INPUT_DETECTED)},void 0,ue.default.Messages.NOTICE_NO_INPUT_DETECTED_HELP_LINK_TEXT))};he.displayName="AudioIssueNoticeHelpdesk";var me=function(){return ye(Q.default,{color:Q.NoticeColors.DANGER
},void 0,ye(Q.NoticeCloseButton,{onClick:function(){_e();(0,re.open)()}}),ue.default.Messages.NOTICE_NO_INPUT_DETECTED_SETTINGS,ye(Q.NoticeButton,{onClick:function(){(0,d.pushLayer)(ae.Layers.USER_SETTINGS);E.default.setSection(ae.UserSettingsSections.VOICE)}},void 0,ue.default.Messages.NOTICE_NO_INPUT_DETECTED_SETTINGS_LINK_TEXT))};me.displayName="AudioIssueNoticeMicTester";function _e(e){f.default.dismiss(null!=e?{untilAtLeast:(0,o.default)(e)}:void 0)}var ge=ye(N.default,{}),Ee=ye(A.default,{}),Oe=ye(D.default,{}),Se=ye(he,{}),be=ye(me,{}),Ie=ye(L.default,{}),Ce=ye(a.memo((function(){var e,t,r,o,f,S,A=(0,u.useStateFromStores)([B.default],(function(){return B.default.getCurrentUser()})),N=(0,u.useStateFromStores)([W.default],(function(){return W.default.getGuildId()})),D=(0,u.useStateFromStores)([G.default],(function(){return G.default.getGuild(N)})),L=(0,u.useStateFromStores)([Y.default],(function(){return Y.default.getNotice()})),re=(0,u.useStateFromStores)([U.default],(function(){
var e,t;return null!=N&&null!=A&&(null!==(e=null===(t=U.default.getMember(N,A.id))||void 0===t?void 0:t.isPending)&&void 0!==e&&e)})),se=(0,b.default)().analyticsLocations,ce=null==L?void 0:L.type,de=re&&(null==D?void 0:D.hasVerificationGate());a.useEffect((function(){null!=ce&&function(e){Z.default.track(ae.AnalyticEvents.APP_NOTICE_VIEWED,{notice_type:e})}(ce)}),[ce]);a.useEffect((function(){if(null!=L&&L.type===ae.NoticeTypes.SURVEY&&null!=L.metadata){var e=L.metadata,t=T.ExperimentStore.getUserExperimentDescriptor(e.id);null!=t&&(0,T.trackExposureToExperiment)(e.id,t)}}),[L]);if(null==L)return null;if(ee.ProcessArgs.isDisallowPopupsSet())return null;var pe=Y.typeToDismissibleContent[L.type];if(null!=pe)return ye(C.DismissibleContentNotices,{dismissibleContent:pe,noticeType:L.type});switch(L.type){case ae.NoticeTypes.LURKING_GUILD:return ge;case ae.NoticeTypes.PENDING_MEMBER:return Ee;case ae.NoticeTypes.INVITED_TO_SPEAK:return Oe;case ae.NoticeTypes.GENERIC:return ye(Q.default,{
color:Q.NoticeColors.DEFAULT},void 0,ye(Q.NoticeCloseButton,{onClick:function(){return _e()},noticeType:ae.NoticeTypes.GENERIC}),L.message,null!=L.buttonText?ye(Q.PrimaryCTANoticeButton,{onClick:L.callback,noticeType:ae.NoticeTypes.GENERIC},void 0,L.buttonText):null);case ae.NoticeTypes.LAUNCH_GAME_FAILURE:return ye(Q.default,{color:Q.NoticeColors.DANGER},void 0,ye(Q.NoticeCloseButton,{onClick:function(){return _e()},noticeType:ae.NoticeTypes.LAUNCH_GAME_FAILURE}),L.message,null!=L.buttonText?ye(Q.PrimaryCTANoticeButton,{onClick:L.callback,noticeType:ae.NoticeTypes.LAUNCH_GAME_FAILURE},void 0,L.buttonText):null);case ae.NoticeTypes.VOICE_DISABLED:return ye(Q.default,{color:Q.NoticeColors.WARNING},void 0,ye(Q.NoticeCloseButton,{onClick:function(){p.default.clearRemoteDisconnectVoiceChannelId();_e()},noticeType:ae.NoticeTypes.VOICE_DISABLED}),ue.default.Messages.NOTICE_CONNECTION_CONFLICT,ye(Q.PrimaryCTANoticeButton,{onClick:function(){var e=x.default.getRemoteDisconnectVoiceChannelId()
;if(null!=e){null!=k.default.getChannel(e)&&v.default.selectVoiceChannel(e)}},noticeType:ae.NoticeTypes.VOICE_DISABLED},void 0,ue.default.Messages.RECONNECT));case ae.NoticeTypes.SPOTIFY_AUTO_PAUSED:var he=O.default.get(ae.PlatformTypes.SPOTIFY);return ye(Q.default,{color:Q.NoticeColors.DANGER},void 0,ye(Q.NoticeCloseButton,{onClick:function(){return _e()},noticeType:ae.NoticeTypes.SPOTIFY_AUTO_PAUSED}),ye("img",{alt:"",className:le.default.platformIcon,src:he.icon.whiteSVG}),ue.default.Messages.NOTICE_SPOTIFY_AUTO_PAUSED,ye(Q.PrimaryCTANoticeButton,{onClick:function(){return E.default.open(ae.UserSettingsSections.VOICE)},noticeType:ae.NoticeTypes.SPOTIFY_AUTO_PAUSED},void 0,ue.default.Messages.VOICE_SETTINGS),ye(z.default,{className:le.default.textLinkSmall,href:J.default.getArticleURL(ae.HelpdeskArticles.SPOTIFY_AUTO_PAUSED),target:"_blank"},void 0,ue.default.Messages.NOTICE_WHATS_THIS));case ae.NoticeTypes.UNCLAIMED_ACCOUNT:return ye(Q.default,{color:Q.NoticeColors.DEFAULT
},void 0,ue.default.Messages.NOTICE_UNCLAIMED_ACCOUNT,ye(Q.PrimaryCTANoticeButton,{noticeType:ae.NoticeTypes.UNCLAIMED_ACCOUNT,onClick:function(){return de&&null!=N?(0,P.default)(N):I.openClaimAccountModal()}},void 0,ue.default.Messages.CLAIM_ACCOUNT));case ae.NoticeTypes.UNVERIFIED_ACCOUNT:return ye(Q.default,{color:Q.NoticeColors.DEFAULT},void 0,ue.default.Messages.NOTICE_UNVERIFIED_ACCOUNT,ye(Q.PrimaryCTANoticeButton,{noticeType:ae.NoticeTypes.UNVERIFIED_ACCOUNT,onClick:function(){s.default.verifyResend();l.default.show({title:ue.default.Messages.VERIFICATION_EMAIL_TITLE,body:ue.default.Messages.VERIFICATION_EMAIL_BODY.format({email:null==A?void 0:A.email}),secondaryConfirmText:ue.default.Messages.CHANGE_EMAIL,onConfirmSecondary:I.openClaimAccountModal})}},void 0,ue.default.Messages.RESEND));case ae.NoticeTypes.SCHEDULED_MAINTENANCE:return null==L.metadata?null:ye(Q.default,{color:Q.NoticeColors.DEFAULT},void 0,ye(Q.NoticeCloseButton,{onClick:function(){
return y.default.ackScheduledMaintenance()},noticeType:ae.NoticeTypes.SCHEDULED_MAINTENANCE}),ue.default.Messages.NOTICE_SCHEDULED_MAINTENANCE.format(L.metadata),ye(Q.NoticeButtonAnchor,{href:ae.Links.STATUS+"/incidents/"+L.metadata.id},void 0,ue.default.Messages.LEARN_MORE));case ae.NoticeTypes.NO_INPUT_DETECTED:return F.default.supports(ie.Features.LOOPBACK)?be:Se;case ae.NoticeTypes.HARDWARE_MUTE:if(null==L.metadata)return null;var me=L.metadata,Ce=me.vendor,Te=me.model;return ye(Q.default,{color:Q.NoticeColors.DANGER},void 0,ue.default.Messages.NOTICE_HARDWARE_MUTE.format({vendorName:Ce.name,modelName:Te.name}),ye(Q.NoticeButtonAnchor,{href:Te.url,target:"_blank",rel:"noreferrer noopener"},void 0,ue.default.Messages.SUPPORT));case ae.NoticeTypes.STREAMER_MODE:return ye(Q.default,{color:Q.NoticeColors.STREAMER_MODE},void 0,ye(Q.NoticeCloseButton,{onClick:function(){return _e()},noticeType:ae.NoticeTypes.STREAMER_MODE
}),ue.default.Messages.NOTICE_STREAMER_MODE_TEXT,ye(Q.PrimaryCTANoticeButton,{onClick:function(){return m.default.setEnabled(!1)},noticeType:ae.NoticeTypes.STREAMER_MODE},void 0,ue.default.Messages.DISABLE));case ae.NoticeTypes.H264_DISABLED:return ye(Q.default,{color:Q.NoticeColors.DANGER},void 0,ye(Q.NoticeCloseButton,{onClick:function(){_e()}}),ue.default.Messages.NOTICE_H264_DISABLED_SETTINGS,ye(Q.NoticeButton,{onClick:function(){(0,d.pushLayer)(ae.Layers.USER_SETTINGS);E.default.setSection(ae.UserSettingsSections.VOICE)}},void 0,ue.default.Messages.NOTICE_H264_DISABLED_SETTINGS_LINK_TEXT));case ae.NoticeTypes.DETECTED_OFF_PLATFORM_PREMIUM_PERK:if(null==L.metadata)return null;var Ae=L.metadata,Pe=Ae.skuId,Me=Ae.applicationId,Ne=V.default.get(Pe),Re=j.default.getGame(Me);if(null==Ne||null==Re)return null;var we={page:ae.AnalyticsPages.IN_APP};return ye(Q.default,{color:Q.NoticeColors.PREMIUM_TIER_1},void 0,ye(Q.NoticeCloseButton,{onClick:function(){return c.dismiss(Ne.id)},
noticeType:ae.NoticeTypes.DETECTED_OFF_PLATFORM_PREMIUM_PERK}),ye(q.default,{className:le.default.premiumIcon}),ue.default.Messages.NOTICE_DETECTED_OFF_PLATFORM_PREMIUM_PERK_MESSAGE.format({applicationName:Re.name,skuName:Ne.name}),ye(Q.PrimaryCTANoticeButton,{noticeType:ae.NoticeTypes.DETECTED_OFF_PLATFORM_PREMIUM_PERK,onClick:function(){return(0,te.openIAPPurchaseModal)({applicationId:Re.id,skuId:Ne.id,openPremiumPaymentModal:function(){(0,R.default)({initialPlanId:null,subscriptionTier:ae.PremiumSubscriptionSKUs.TIER_2,analyticsLocations:se,analyticsObject:we})},analyticsLocations:se,analyticsLocation:we,context:__OVERLAY__?ae.AppContext.OVERLAY:ae.AppContext.APP}).then((function(){return c.dismiss(Ne.id)}))}},void 0,ue.default.Messages.NOTICE_DETECTED_OFF_PLATFORM_PREMIUM_PERK_BUTTON));case ae.NoticeTypes.DETECTED_OFF_PLATFORM_PREMIUM_PERK_UPSELL:if(null==L.metadata)return null;var De=L.metadata,Le=De.skuId,ke=De.applicationId,je=V.default.get(Le),Ue=j.default.getGame(ke)
;return null==je||null==Ue?null:ye(Q.default,{color:Q.NoticeColors.PREMIUM_TIER_1},void 0,ye(Q.NoticeCloseButton,{onClick:function(){return _e()},noticeType:ae.NoticeTypes.DETECTED_OFF_PLATFORM_PREMIUM_PERK_UPSELL}),ye(q.default,{className:le.default.premiumIcon}),ue.default.Messages.NOTICE_DETECTED_OFF_PLATFORM_NO_PREMIUM_PERK_MESSAGE.format({applicationName:Ue.name,skuName:je.name}),ye(Q.NoticeButton,{},void 0,ye(i.Link,{onClick:function(){return _e()},to:{pathname:ae.Routes.APPLICATION_STORE_LISTING_SKU(je.id),state:{scrollRestoration:!1}}},void 0,ue.default.Messages.LEARN_MORE)));case ae.NoticeTypes.SURVEY:var Ge=L.metadata;if(null==Ge)return null;var Fe=Ge.key,xe=Ge.prompt,We=Ge.cta,Be=Ge.url;return ye(Q.default,{color:Q.NoticeColors.CUSTOM},void 0,ye(Q.NoticeCloseButton,{noticeType:ae.NoticeTypes.SURVEY,onClick:function(){(0,_.surveyHide)(Fe,!0)}}),xe,ye(Q.PrimaryCTANoticeButton,{noticeType:ae.NoticeTypes.SURVEY,onClick:function(){window.open(Be,"_blank");(0,_.surveyHide)(Fe,!1)}
},void 0,We));case ae.NoticeTypes.CORRUPT_INSTALLATION:return ye(Q.default,{color:Q.NoticeColors.DANGER},void 0,ue.default.Messages.NOTICE_CORRUPT_INSTALLATION,ye(Q.NoticeButtonAnchor,{href:J.default.getArticleURL(ae.HelpdeskArticles.CORRUPT_INSTALLATION),target:"_blank"},void 0,ue.default.Messages.NOTICE_CORRUPT_INSTALLATION_HELP_LINK_TEXT));case ae.NoticeTypes.VIDEO_UNSUPPORTED_BROWSER:return ye(Q.default,{color:Q.NoticeColors.WARNING},void 0,ye(Q.NoticeCloseButton,{onClick:function(){return _e()},noticeType:ae.NoticeTypes.VIDEO_UNSUPPORTED_BROWSER}),ue.default.Messages.VIDEO_UNSUPPORTED_BROWSER_BODY,ye(Q.PrimaryCTANoticeButton,{noticeType:ae.NoticeTypes.VIDEO_UNSUPPORTED_BROWSER,onClick:function(){(0,X.openModalLazy)(ve(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,529600));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){
return a.createElement(r,fe({source:"Video unsupported browser"},e))}));case 5:case"end":return e.stop()}}),e)}))))}},void 0,ue.default.Messages.DOWNLOAD));case ae.NoticeTypes.DISPATCH_ERROR:if(null==L.metadata)return null;var Ve=L.metadata.error;return ye(Q.default,{color:Q.NoticeColors.DANGER},void 0,ye(Q.NoticeCloseButton,{onClick:function(){return _e()},noticeType:ae.NoticeTypes.DISPATCH_ERROR}),null==Ve?void 0:Ve.displayMessage,ye(Q.PrimaryCTANoticeButton,{noticeType:ae.NoticeTypes.DISPATCH_ERROR,onClick:function(){return(0,X.openModalLazy)(ve(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(91965)]).then(n.bind(n,191965));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,e)}));case 5:case"end":return e.stop()}}),e)}))))}},void 0,ue.default.Messages.LEARN_MORE));case ae.NoticeTypes.DISPATCH_INSTALL_SCRIPT_PROGRESS:
if(null==L.metadata)return null;var He=L.metadata,Ye=He.progress,ze=He.total,Ke=He.name;return ye(Q.default,{color:Q.NoticeColors.DEFAULT},void 0,ye(Q.NoticeCloseButton,{onClick:function(){return _e()},noticeType:ae.NoticeTypes.DISPATCH_INSTALL_SCRIPT_PROGRESS}),ye(K.default,{justify:K.default.Justify.CENTER},void 0,null!=Ke?ue.default.Messages.NOTICE_DISPATCH_INSTALL_SCRIPT_PROGRESS_WITH_NAME.format({name:""+Ke,progress:""+Ye,total:""+ze}):ue.default.Messages.NOTICE_DISPATCH_INSTALL_SCRIPT_PROGRESS.format({progress:""+Ye,total:""+ze}),ye($.default,{type:$.default.Type.PULSING_ELLIPSIS,className:le.default.ellipsis})));case ae.NoticeTypes.APPLICATION_TEST_MODE:return null==L.metadata?null:null!=H.default.testModeEmbeddedApplicationId?ye(Q.default,{color:Q.NoticeColors.WARNING},void 0,ye(K.default,{justify:K.default.Justify.CENTER,align:K.default.Align.CENTER},void 0,ye("div",{},void 0,ue.default.Messages.NOTICE_EMBEDDED_APPLICATION_TEST_MODE.format({
applicationName:L.metadata.applicationName})),ye(Q.NoticeCloseButton,{onClick:g.reset,noticeType:ae.NoticeTypes.APPLICATION_TEST_MODE}))):ye(Q.default,{color:Q.NoticeColors.WARNING},void 0,ye(K.default,{justify:K.default.Justify.CENTER,align:K.default.Align.CENTER},void 0,ye("div",{},void 0,ue.default.Messages.NOTICE_APPLICATION_TEST_MODE.format({applicationName:L.metadata.applicationName})),ye(ne.default,{dropdownSize:ne.TestModeSKUButtonEnums.DropdownSizes.SMALL,className:le.default.testModeSKUSelector,color:ne.TestModeSKUButtonEnums.Colors.WHITE,look:ne.TestModeSKUButtonEnums.Looks.OUTLINED,size:ne.TestModeSKUButtonEnums.Sizes.MIN,onSKUSelect:function(e){return h.goToSKUStoreListing(e.id,{analyticsSource:{page:null,section:ae.AnalyticsSections.NOTIFICATION_BAR,object:ae.AnalyticsObjects.NAVIGATION_LINK}})},applicationId:L.metadata.applicationId},void 0,ue.default.Messages.NOTICE_APPLICATION_TEST_MODE_GO_TO_LISTING),ye(Q.NoticeCloseButton,{onClick:g.reset,
noticeType:ae.NoticeTypes.APPLICATION_TEST_MODE})));case ae.NoticeTypes.OUTBOUND_PROMOTION:return ye(Q.default,{color:Q.NoticeColors.PREMIUM_TIER_2},void 0,ye(Q.NoticeCloseButton,{noticeType:ae.NoticeTypes.OUTBOUND_PROMOTION,onClick:function(){w.default.dismissOutboundPromotionNotice()}}),ye(q.default,{className:le.default.premiumIcon}),ue.default.Messages.OUTBOUND_PROMOTION_NOTICE,ye(Q.PrimaryCTANoticeButton,{noticeType:ae.NoticeTypes.OUTBOUND_PROMOTION,onClick:function(){Z.default.track(ae.AnalyticEvents.OUTBOUND_PROMOTION_NOTICE_CLICKED);E.default.open(ae.UserSettingsSections.INVENTORY);w.default.dismissOutboundPromotionNotice()}},void 0,ue.default.Messages.TAKE_ME_THERE));case ae.NoticeTypes.VIEWING_ROLES:return Ie;case ae.NoticeTypes.PREMIUM_UNCANCEL:return ye(Q.default,{color:(null===(e=L.metadata)||void 0===e?void 0:e.premiumType)===ae.PremiumTypes.TIER_1?Q.NoticeColors.PREMIUM_TIER_1:Q.NoticeColors.PREMIUM_TIER_2},void 0,ye(Q.NoticeCloseButton,{
noticeType:ae.NoticeTypes.PREMIUM_UNCANCEL,onClick:function(){var e,t;_e(null===(e=L.metadata)||void 0===e||null===(t=e.premiumSubscription)||void 0===t?void 0:t.currentPeriodEnd)}}),ye(q.default,{className:le.default.premiumIcon}),(null===(t=L.metadata)||void 0===t?void 0:t.premiumType)===ae.PremiumTypes.TIER_1?ue.default.Messages.PREMIUM_SUBSCRIPTION_ENDING_TIER_1_NOTICE_TEXT.format({daysLeft:L.metadata.daysLeft}):ue.default.Messages.PREMIUM_SUBSCRIPTION_ENDING_NOTICE_TEXT.format({daysLeft:L.metadata.daysLeft}),ye(Q.PrimaryCTANoticeButton,{noticeType:ae.NoticeTypes.PREMIUM_UNCANCEL,onClick:function(){var e,t;_e(null===(e=L.metadata)||void 0===e||null===(t=e.premiumSubscription)||void 0===t?void 0:t.currentPeriodEnd);(0,X.openModalLazy)(ve(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(2395),n.e(25306),n.e(82269)]).then(n.bind(n,782287));case 2:t=e.sent
;r=t.default;return e.abrupt("return",(function(e){var t;return a.createElement(r,fe({},e,{daysLeft:L.metadata.daysLeft,premiumType:null===(t=L.metadata)||void 0===t?void 0:t.premiumType,analyticsSource:"Nag Bar",premiumSubscription:L.metadata.premiumSubscription}))}));case 5:case"end":return e.stop()}}),e)}))))}},void 0,(null===(r=L.metadata)||void 0===r?void 0:r.premiumType)===ae.PremiumTypes.TIER_1?ue.default.Messages.PREMIUM_SUBSCRIPTION_ENDING_TIER_1_NOTICE_BUTTON_TEXT:ue.default.Messages.PREMIUM_SUBSCRIPTION_ENDING_NOTICE_BUTTON_TEXT));case ae.NoticeTypes.PREMIUM_PAST_DUE_INVALID_PAYMENT:return ye(Q.default,{color:Q.NoticeColors.DANGER},void 0,ye(Q.NoticeCloseButton,{noticeType:ae.NoticeTypes.PREMIUM_PAST_DUE_INVALID_PAYMENT,onClick:function(){var e,t;_e(null===(e=L.metadata)||void 0===e||null===(t=e.premiumSubscription)||void 0===t?void 0:t.currentPeriodEnd)}}),ue.default.Messages.PREMIUM_SUBSCRIPTION_PAST_DUE_INVALID_PAYMENT_NOTICE_TEXT,ye(Q.PrimaryCTANoticeButton,{
noticeType:ae.NoticeTypes.PREMIUM_PAST_DUE_INVALID_PAYMENT,onClick:function(){var e,t;_e(null===(e=L.metadata)||void 0===e||null===(t=e.premiumSubscription)||void 0===t?void 0:t.currentPeriodEnd);E.default.open(ae.UserSettingsSections.SUBSCRIPTIONS)}},void 0,ue.default.Messages.PREMIUM_SUBSCRIPTION_PAST_DUE_INVALID_PAYMENT_NOTICE_BUTTON_TEXT));case ae.NoticeTypes.PREMIUM_PAST_DUE_MISSING_PAYMENT:return ye(Q.default,{color:Q.NoticeColors.WARNING},void 0,ye(Q.NoticeCloseButton,{noticeType:ae.NoticeTypes.PREMIUM_PAST_DUE_MISSING_PAYMENT,onClick:function(){var e,t;_e(null===(e=L.metadata)||void 0===e||null===(t=e.premiumSubscription)||void 0===t?void 0:t.currentPeriodEnd)}}),ue.default.Messages.PREMIUM_SUBSCRIPTION_PAST_DUE_MISSING_PAYMENT_NOTICE_TEXT,ye(Q.PrimaryCTANoticeButton,{noticeType:ae.NoticeTypes.PREMIUM_PAST_DUE_MISSING_PAYMENT,onClick:function(){var e,t;_e(null===(e=L.metadata)||void 0===e||null===(t=e.premiumSubscription)||void 0===t?void 0:t.currentPeriodEnd)
;E.default.open(ae.UserSettingsSections.SUBSCRIPTIONS)}},void 0,ue.default.Messages.PREMIUM_SUBSCRIPTION_PAST_DUE_MISSING_PAYMENT_NOTICE_BUTTON_TEXT));case ae.NoticeTypes.PREMIUM_MISSING_PAYMENT:return ye(Q.default,{color:Q.NoticeColors.WARNING},void 0,ye(Q.NoticeCloseButton,{noticeType:ae.NoticeTypes.PREMIUM_MISSING_PAYMENT,onClick:function(){var e,t;_e(null===(e=L.metadata)||void 0===e||null===(t=e.premiumSubscription)||void 0===t?void 0:t.currentPeriodEnd)}}),(null===(o=L.metadata)||void 0===o?void 0:o.premiumType)===ae.PremiumTypes.TIER_1?ue.default.Messages.PREMIUM_SUBSCRIPTION_ENDING_MISSING_PAYMENT_TIER_1_NOTICE_TEXT.format({daysLeft:L.metadata.daysLeft}):ue.default.Messages.PREMIUM_SUBSCRIPTION_ENDING_MISSING_PAYMENT_NOTICE_TEXT.format({daysLeft:L.metadata.daysLeft}),ye(Q.PrimaryCTANoticeButton,{noticeType:ae.NoticeTypes.PREMIUM_MISSING_PAYMENT,onClick:function(){var e,t
;_e(null===(e=L.metadata)||void 0===e||null===(t=e.premiumSubscription)||void 0===t?void 0:t.currentPeriodEnd);E.default.open(ae.UserSettingsSections.SUBSCRIPTIONS)}},void 0,(null===(f=L.metadata)||void 0===f?void 0:f.premiumType)===ae.PremiumTypes.TIER_1?ue.default.Messages.PREMIUM_SUBSCRIPTION_ENDING_MISSING_PAYMENT_TIER_1_NOTICE_BUTTON_TEXT:ue.default.Messages.PREMIUM_SUBSCRIPTION_ENDING_MISSING_PAYMENT_NOTICE_BUTTON_TEXT));case ae.NoticeTypes.BACK_TO_PREVIOUS_SCREEN:return ye(M.BackToPreviousScreenNotice,{buttonText:null!==(S=L.buttonText)&&void 0!==S?S:ue.default.Messages.GO_BACK,onGoBack:L.callback,onDismiss:function(){return _e()},showCloseButton:!0});case ae.NoticeTypes.QUARANTINED:return ye(Q.default,{color:Q.NoticeColors.CUSTOM,className:le.default.quarantineNotice},void 0,ue.default.Messages.QUARANTINE_MODE_NOTICE,ye(z.default,{href:J.default.getArticleURL(ae.HelpdeskArticles.QUARANTINE),target:"_blank",className:le.default.quarantineLearnMoreLink
},void 0,ue.default.Messages.LEARN_MORE),ye(Q.NoticeButtonAnchor,{href:oe.QUARANTINE_APPEAL_LINK,target:"_blank"},void 0,ue.default.Messages.APPEAL_QUARANTINE));default:return null}})),{});function Te(){return ye((0,b.default)(S.default.NOTICE).AnalyticsLocationProvider,{},void 0,Ce)}Te.displayName="NoticeWrapper"},229108:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=_(n(667294)),i=h(n(536211)),u=_(n(720409)),l=h(n(321405)),s=h(n(902305)),c=h(n(603218)),d=h(n(218843)),f=h(n(871778)),p=h(n(949898)),v=h(n(365561)),y=n(770348);function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function g(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(e,t){E=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return E(e,t)}var O=((r={})[y.PictureInPictureComponents.VIDEO]=c.default,r[y.PictureInPictureComponents.EMBED_IFRAME]=l.default,r),S=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;E(e,t)}(t,e);function t(){
for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).handleWindowMove=function(e,t){u.moveTo(e,t)};return t}t.prototype.render=function(){var e=this.props,t=e.selectedPIPWindow,n=e.pipWindows,r=e.maxX,a=e.maxY,o=e.theme,i=e.dockedRect,u=e.appContext;return g(v.default,{pictureInPictureComponents:O,selectedPIPWindow:t,pipWindows:n,maxX:r,maxY:a,dockedRect:i,theme:o,onWindowMove:this.handleWindowMove,appContext:u})};return t}(o.PureComponent);S.displayName="PictureInPictureContainer";var b=i.default.connectStores([d.default,s.default,p.default,f.default],(function(e){var t=e.showInPopoutWindow,n=void 0!==t&&t,r=s.default.getWindowOpen(y.PopoutWindowKeys.CHANNEL_CALL_POPOUT),a=p.default.windowSize();if(r){var o=s.default.getWindow(y.PopoutWindowKeys.CHANNEL_CALL_POPOUT);a=null==o?a:{width:o.innerWidth,height:o.innerHeight}}var i=d.default.pipWindows,u=r&&!n?null:d.default.pipWindow;return{selectedPIPWindow:u,pipWindows:i,
maxX:a.width,maxY:a.height,theme:f.default.theme,dockedRect:null!=u?d.default.getDockedRect(u.id):null,appContext:n?y.AppContext.POPOUT:void 0}}))(S);t.default=b},200574:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=U;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=P(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=n(171236),i=n(536211),u=n(378158),l=A(n(55189)),s=A(n(711195)),c=A(n(414068)),d=A(n(788739)),f=A(n(290629)),p=A(n(663303)),v=A(n(946447)),y=A(n(728429)),h=A(n(870461)),m=A(n(160629)),_=A(n(325908)),g=A(n(582945)),E=n(956506),O=n(951530),S=A(n(922629)),b=A(n(810332)),I=n(770348),C=A(n(247001)),T=A(n(645320));function A(e){return e&&e.__esModule?e:{default:e}}function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(P=function(e){return e?n:t})(e)}function M(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n)
;var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function R(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function w(){w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return w.apply(this,arguments)}
function D(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function L(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){D(o,r,a,i,u,"next",e)}function u(e){D(o,r,a,i,u,"throw",e)}i(void 0)}))}}var k=S.default.getEnableHardwareAcceleration();function j(e){var t=e.user,r=e.channel,h=(0,i.useStateFromStoresObject)([f.default,y.default,d.default],(function(){return f.default.isFriend(t.id)||t===y.default.getCurrentUser()?{status:d.default.getStatus(t.id),activities:d.default.getActivities(t.id)}:{}})),_=h.status,g=h.activities,O=(0,i.useStateFromStores)([v.default],(function(){return null!=v.default.getTypingUsers(r.id)[t.id]})),S=(0,i.useStateFromStores)([y.default],(function(){return y.default.getCurrentUser()})),T=(0,i.useStateFromStores)([d.default],(function(){return d.default.isMobileOnline(t.id)})),A=(0,i.useStateFromStores)([f.default],(function(){
return f.default.getNickname(t.id)})),P=function(e){(0,u.openContextMenuLazy)(e,L(regeneratorRuntime.mark((function e(){var o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(31626),n.e(1759),n.e(48811),n.e(66822)]).then(n.bind(n,566822));case 2:o=e.sent;i=o.default;return e.abrupt("return",(function(e){return a.createElement(i,w({},e,{user:t,channel:r}))}));case 5:case"end":return e.stop()}}),e)}))))};return R(m.default,{preload:function(){return(0,s.default)(t.id,t.getAvatarURL(void 0,80))},renderPopout:function(e){return a.createElement(c.default,w({},e,{userId:t.id,channelId:r.id}))},position:o.isMobile?m.default.Positions.WINDOW_CENTER:m.default.Positions.LEFT,spacing:16,onShiftClick:function(){var e="@"+(p.default.hidePersonalInformation?t.username:t.tag),n="<@!"+t.id+">";E.ComponentDispatch.dispatchToLastSubscribed(I.ComponentActions.INSERT_TEXT,{plainText:e,rawText:n});l.default.startTyping(r.id)}
},void 0,(function(e){return a.createElement(b.default,w({key:t.id,user:t,currentUser:S,isOwner:t.id===r.ownerId,ownerTooltipText:C.default.Messages.GROUP_OWNER,shouldAnimateStatus:k,isTyping:O,status:_,activities:g,channel:r,onContextMenu:P,isMobile:T,nick:A},e))}))}j.displayName="PrivateChannelRecipient";function U(e){var t=e.channel,n=y.default.getCurrentUser(),r=null==n?void 0:n.isStaff(),o=(0,i.useStateFromStoresArray)([y.default],(function(){return(0,O.getRecipients)(t.recipients,y.default)}),[t.recipients]);a.useEffect((function(){if(r)for(var e,t=M(o);!(e=t()).done;){var n=e.value;(0,s.default)(n.id,n.getAvatarURL(void 0,80),{dispatchWait:!0})}}),[r,o]);var u=r&&o.every((function(e){return e.isStaff()}));return R("div",{className:T.default.membersWrap},void 0,R(g.default,{className:T.default.members,fade:!0},void 0,R(_.default,{className:T.default.membersGroup},void 0,C.default.Messages.MEMBERS+"â€”"+o.length+" ",u?R(h.default,{className:T.default.decorator,
type:h.default.Types.STAFF_ONLY_DM}):null),o.map((function(e){return R(j,{user:e,channel:t},e.id)}))))}U.displayName="PrivateChannelRecipients"},272356:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=ne;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=H(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=V(n(294184)),i=V(n(193747)),u=n(798628),l=n(536211),s=n(660065),c=n(834013),d=n(933601),f=n(467428),p=V(n(922147)),v=n(835282),y=V(n(136798)),h=V(n(527820)),m=n(894826),_=V(n(191839)),g=V(n(290629)),E=V(n(871778)),O=V(n(728429)),S=V(n(146771)),b=V(n(314355)),I=V(n(840771)),C=V(n(399561)),T=V(n(311256)),A=n(644105),P=V(n(262134)),M=V(n(41024)),N=V(n(652047)),R=n(598671),w=n(838583),D=n(820134),L=n(517880),k=V(n(51079)),j=V(n(983551)),U=n(770348),G=V(n(247001)),F=V(n(177790)),x=["selected"],W=["selected","hideGameUpdateProgressIndicator"],B=["selected","route","locationState"];function V(e){return e&&e.__esModule?e:{default:e}}function H(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(H=function(e){return e?n:t})(e)}function Y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{
for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function K(){K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return K.apply(this,arguments)}function $(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function q(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}var X=function(e){var t=e.selected,n=q(e,x),r=(0,u.useListItem)("friends"),o=(0,l.useStateFromStores)([g.default],(function(){return g.default.getPendingCount()}));return a.createElement(L.LinkButton,K({selected:t,route:U.Routes.FRIENDS,icon:N.default,text:G.default.Messages.FRIENDS},n,r),o>0?$(R.NumberBadge,{count:o}):null)};X.displayName="FriendsButton";var Q=function(e){var t,n=e.selected,r=e.hideGameUpdateProgressIndicator,i=q(e,W),l=(0,
u.useListItem)("library");return a.createElement(L.LinkButton,K({selected:n,route:U.Routes.APPLICATION_LIBRARY,icon:P.default,text:G.default.Messages.LIBRARY},i,l),$(j.default,{className:(0,o.default)(F.default.downloadProgressCircle,(t={},t[F.default.hideGameUpdateProgressIndicator]=r,t))}))};Q.displayName="LibraryButton";var Z=function(e){var t,n=e.selected,r=e.route,o=e.locationState,i=q(e,B),v=(0,u.useListItem)("nitro"),y=Object.keys(U.SubscriptionTrials),h=(0,l.useStateFromStores)([b.default],(function(){return b.default.getUnacknowledgedOffers(y).length})),m=(0,c.useShouldRenderPremiumTrialOfferBadges)(),_=m.shouldRenderUnacknowledgedOffer,g=m.shouldRenderAcknowledgedOffer,E=m.trialOffer,O=_||g,S=(0,d.useIsPromoEnabled)(s.LocalizedPricingPromoEntryPoint.Badge)&&!O&&0===h;O?t=$(p.default,{trialOffer:E,isTabSelected:n}):h>0?t=$(R.NumberBadge,{count:h}):S&&(t=$(f.LocalizedPricingBadgeIcon,{entryPoint:f.BadgeEntryPoint.PrivateMessages}));return a.createElement(L.LinkButton,K({
selected:n,route:r,icon:M.default,text:G.default.Messages.PREMIUM,locationState:o},i,v,{className:S&&!n?F.default.localizeBadge:""}),t)};Z.displayName="NitroButton";var J=function(){return(0,v.show)("DM_SEARCH")};function ee(e){switch(e){case U.Routes.APPLICATION_LIBRARY:return U.AnalyticsPages.LIBRARY;case U.Routes.FRIENDS:return U.AnalyticsPages.FRIENDS_LIST}return e.startsWith(U.Routes.APPLICATION_STORE)?e===U.Routes.APPLICATION_STORE?U.AnalyticsPages.STORE_DIRECTORY_HOME:e.startsWith(U.Routes.APPLICATION_STORE)?U.AnalyticsPages.STORE_DIRECTORY_BROWSE:U.AnalyticsPages.STORE_LISTING:U.AnalyticsPages.DM_CHANNEL}var te=function(e){var t=e.showLibrary,n=e.hasLibraryApplication,r=e.homeLink,o=e.storeLink,u=e.premiumTabSelected,l=e.showNitroTab,s=Y((0,y.default)((function(e){return[e.channelId,e.path]}),i.default),2),c=s[0],d=s[1];return $("nav",{className:F.default.privateChannels,"aria-label":G.default.Messages.PRIVATE_CHANNELS_A11Y_LABEL},void 0,$(h.default,{
tutorialId:"direct-messages",position:A.PopoutPositions.RIGHT,offsetX:-52},void 0,$("div",{className:F.default.searchBar},void 0,$("button",{type:"button",className:F.default.searchBarComponent,onClick:J},void 0,G.default.Messages.DM_SEARCH_PLACEHOLDER))),a.createElement(k.default,K({},e,{version:d,selectedChannelId:c,showDMHeader:!0}),$(X,{selected:null!=d?d===U.Routes.FRIENDS:r===U.Routes.FRIENDS},"friends"),n&&t?$(Q,{selected:null==d?null!=r&&r.startsWith(U.Routes.APPLICATION_LIBRARY):d.startsWith(U.Routes.APPLICATION_LIBRARY),hideGameUpdateProgressIndicator:r===U.Routes.APPLICATION_LIBRARY},"library"):null,l?$(Z,{selected:null==d?u:d.startsWith(U.Routes.APPLICATION_STORE),route:null==o||location.pathname.startsWith(U.Routes.APPLICATION_STORE)?U.Routes.APPLICATION_STORE:o,locationState:{analyticsSource:{page:ee(r),section:U.AnalyticsSections.NAVIGATION,object:U.AnalyticsObjects.NAVIGATION_LINK}}},"premium"):null))};te.displayName="PrivateChannels";function ne(){var e=(0,
l.useStateFromStores)([T.default],(function(){return T.default.getHomeLink()})),t=(0,l.useStateFromStores)([C.default],(function(){if(e===U.Routes.APPLICATION_STORE)return!0;var t=(0,D.getSKUIdFromURL)(e);if(null!=t){var n,r;return null!==(n=null===(r=C.default.get(t))||void 0===r?void 0:r.premium)&&void 0!==n&&n}return!1}),[e]),n=(0,l.useStateFromStores)([O.default],(function(){return O.default.getCurrentUser()})),r=(0,l.useStateFromStores)([S.default],(function(){return S.default.getPremiumTypeSubscription()})),a=Object.keys(U.SubscriptionTrials),o=(0,l.useStateFromStores)([b.default],(function(){return b.default.getUnacknowledgedOffers(a).length>0||b.default.getAcknowledgedOffers(a).length>0})),i=!m.DisableGamesTab.useSetting(),u=(0,l.useStateFromStoresObject)([E.default],(function(){return{theme:E.default.theme}})).theme,s=o||null!=n&&Date.now()-n.createdAt.getTime()>7776e6||(0,w.hasPremiumSubscriptionToDisplay)(n,r),c=(0,l.useStateFromStores)([_.default],(function(){
return _.default.hasLibraryApplication()})),d=(0,l.useStateFromStores)([I.default],(function(){return I.default.getCurrentPath()}));return $(te,{theme:u,showLibrary:i,showNitroTab:s,hasLibraryApplication:c,storeLink:d,homeLink:e,premiumTabSelected:t})}ne.displayName="PrivateChannelsConnected"},989418:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=v(n(294184)),i=v(n(536211)),u=v(n(221185)),l=v(n(534930)),s=v(n(530250)),c=n(160629),d=v(n(358696)),f=v(n(247001)),p=v(n(949391))
;function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;m(e,t)}function m(e,t){m=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return m(e,t)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g={position:c.Positions.BOTTOM,autoInvert:!1},E=function(e){var t=e.region,n=e.className;return _("div",{className:void 0===n?p.default.regionSelectName:n},void 0,t.name.replace(/ \(VIP\)$/,""))}
;E.displayName="RegionName";var O=function(e){h(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.render=function(){var e=this.props,t=e.region,n=e.selected;return _(s.default,{align:s.default.Align.CENTER,className:(0,o.default)({selected:n})},void 0,_(E,{region:t,className:p.default.regionSelectName}),n?_("i",{className:p.default.check}):null)};return t}(a.PureComponent);O.displayName="RegionItem";var S=function(e){h(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).renderOption=function(e,t){return _(O,{region:e.value,selected:t},e.value.id)};t.getSelectedRegion=function(){var e,n=t.props,r=n.regions,a=n.call;return a.regionUpdated&&null!=r&&null!=a.region?null!==(e=r.find((function(e){return e.id===a.region})))&&void 0!==e?e:{name:a.region,id:a.region}:{id:"automatic",name:f.default.Messages.AUTOMATIC_REGION,vip:!1,deprecated:!1,hidden:!1}};t.handleChangeVoiceRegion=function(e){
var n=e.value,r=t.props.call.channelId;u.default.changeCallRegion(r,n.id)};return t}var n=t.prototype;n.componentDidMount=function(){null==this.props.regions&&u.default.fetchRegions(null)};n.render=function(){var e=this.props.regions;if(null==e)return null;var t=this.getSelectedRegion(),n={label:t.name,value:t},r=e.filter((function(e){return!e.deprecated&&!e.hidden})).map((function(e){return{label:e.name,value:e,key:e.id}}));return _(d.default,{label:f.default.Messages.REGION,options:r,value:n,onChange:this.handleChangeVoiceRegion,renderOption:this.renderOption,popoutProps:g,popoutClassName:p.default.regionSelectPopout})};return t}(a.PureComponent);S.displayName="QuickRegionSelect";var b=i.default.connectStores([l.default],(function(){return{regions:l.default.getRegions(null)}}))(S);t.default=b},686923:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=P(n(667294)),o=T(n(294184)),i=n(536211),u=T(n(929031)),l=T(n(257175)),s=T(n(133464)),c=P(n(145122)),d=T(n(241505)),f=n(678620),p=T(n(423086)),v=T(n(871778)),y=T(n(956117)),h=T(n(730977)),m=T(n(930600)),_=T(n(12713)),g=n(194322),E=n(660590),O=T(n(308920)),S=n(873838),b=n(770348),I=T(n(247001)),C=T(n(830332));function T(e){return e&&e.__esModule?e:{default:e}}function A(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(A=function(e){return e?n:t})(e)}function P(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=A(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function M(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value
}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function N(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){M(o,r,a,i,u,"next",e)}function u(e){M(o,r,a,i,u,"throw",e)}i(void 0)}))}}function R(){R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return R.apply(this,arguments)}function w(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function D(e){var t=e.status,n=e.description,r=e.focused;return w("div",{className:C.default.statusItem
},void 0,w(E.Status,{status:t,className:C.default.icon,size:10,color:r?"currentColor":void 0}),w("div",{className:C.default.status},void 0,(0,S.humanizeStatus)(t)),null!=n&&w("div",{className:C.default.description},void 0,n))}D.displayName="StatusMenuItem";function L(e){var t=e.customStatus,n=function(e){e.stopPropagation();u.default.updateRemoteSettings({customStatus:null})};return null!=t?w("div",{"aria-label":I.default.Messages.CUSTOM_STATUS_EDIT_CUSTOM_STATUS_PLACEHOLDER},void 0,w(s.default,{className:null!=t.emoji?C.default.customStatusWithEmoji:C.default.customStatusItem,activity:t,emojiClassName:C.default.customEmoji,textClassName:C.default.customText,placeholderText:I.default.Messages.CUSTOM_STATUS_EDIT_CUSTOM_STATUS_PLACEHOLDER},void 0,w(h.default,{text:I.default.Messages.CUSTOM_STATUS_CLEAR_CUSTOM_STATUS},void 0,(function(e){return a.createElement(y.default,R({},e,{className:C.default.clearStatusButton,onClick:n,look:y.default.Looks.BLANK,size:y.default.Sizes.NONE,
tabIndex:-1,"aria-hidden":!0}),w(m.default,{className:C.default.clearStatusIcon}))})))):w("div",{className:(0,o.default)(C.default.statusItem,C.default.customStatusContentIcon),"aria-label":I.default.Messages.CUSTOM_STATUS_SET_CUSTOM_STATUS},void 0,w("div",{className:C.default.customEmojiPlaceholder}),w("div",{className:C.default.status},void 0,I.default.Messages.CUSTOM_STATUS_SET_CUSTOM_STATUS))}function k(e){var t=e.focused;return w("div",{className:(0,o.default)(C.default.statusItem,C.default.statusItemNoPadding,C.default.customStatusContentIcon,C.default.switchAccountsItem),"aria-label":I.default.Messages.SWITCH_ACCOUNTS_MENU_ITEM_TITLE},void 0,w(_.default,{width:18,height:18,className:C.default.switchAccountsIcon,color:t?b.Colors.WHITE:"currentColor"}),w("div",{className:C.default.status},void 0,I.default.Messages.SWITCH_ACCOUNTS_MENU_ITEM_TITLE))}k.displayName="SwitchAccountsMenuItem";var j=w(c.MenuSeparator,{}),U=w(c.MenuSeparator,{}),G=w(c.MenuSeparator,{}),F=function(e){
var t=e.customStatus,r=e.onClose,o=e.analyticsContext,i=e.onSelect,l=(0,f.useMultiAccountMenuItems)();a.useEffect((function(){O.default.track(b.AnalyticEvents.OPEN_POPOUT,{type:"User Status Menu",has_custom_status:null!=t,location:o.location})}),[]);var s=function(e){u.default.updateRemoteSettings({status:e})},p=w(L,{customStatus:t});return w(c.default,{navId:"status-picker",style:c.MenuStyle.FIXED,"aria-label":I.default.Messages.SET_STATUS,onClose:r,onSelect:i},void 0,w(c.MenuItem,{id:"online",keepItemStyles:!0,render:function(e){var t=e.isFocused;return w(D,{status:E.StatusTypes.ONLINE,focused:t})},action:function(){return s(E.StatusTypes.ONLINE)}}),j,w(c.MenuItem,{id:"idle",keepItemStyles:!0,render:function(e){var t=e.isFocused;return w(D,{status:E.StatusTypes.IDLE,focused:t})},action:function(){return s(E.StatusTypes.IDLE)}}),w(c.MenuItem,{id:"dnd",keepItemStyles:!0,render:function(e){var t=e.isFocused;return w(D,{status:E.StatusTypes.DND,
description:I.default.Messages.STATUS_DND_HELP,focused:t})},action:function(){return s(E.StatusTypes.DND)}}),w(c.MenuItem,{id:"invisible",keepItemStyles:!0,render:function(e){var t=e.isFocused;return w(D,{status:E.StatusTypes.INVISIBLE,description:I.default.Messages.STATUS_INVISIBLE_HELPER,focused:t})},action:function(){return s(E.StatusTypes.INVISIBLE)}}),U,w(c.MenuItem,{id:"custom-status",keepItemStyles:!0,render:function(){return p},action:function(){(0,g.openModalLazy)(N(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(74213)]).then(n.bind(n,793954));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,R({},e,{sourceAnalyticsContext:o}))}));case 5:case"end":return e.stop()}}),e)}))))}}),G,w(c.MenuItem,{id:"switch-account",action:d.default,label:function(e){return w(k,{focused:e.isFocused})}},"switch-account",l))}
;F.displayName="StatusPickerPopout";var x=(0,l.default)((function(e){var t=(0,i.useStateFromStores)([p.default],(function(){return p.default.getCustomStatusActivity()})),n=(0,i.useStateFromStores)([v.default],(function(){return v.default.status}));return a.createElement(F,R({},e,{customStatus:t,status:n}))}));t.default=x},424670:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=oe;var r,a=z(n(667294)),o=H(n(294184)),i=H(n(496486)),u=z(n(798628)),l=n(171236),s=n(536211),c=n(378158),d=H(n(55189)),f=H(n(235879)),p=n(832215),v=n(632123),y=n(75639),h=n(252404),m=n(84902),_=H(n(698099)),g=H(n(711195)),E=H(n(414068)),O=H(n(607209)),S=H(n(876874)),b=H(n(788739)),I=H(n(690445)),C=H(n(663303)),T=H(n(946447)),A=H(n(728429)),P=n(772575),M=H(n(160629)),N=n(645758),R=H(n(571830)),w=H(n(999720)),D=H(n(547282)),L=H(n(325908)),k=H(n(827436)),j=H(n(521358)),U=n(956506),G=H(n(922629)),F=z(n(810332)),x=n(770348),W=H(n(247001)),B=H(n(645320)),V=H(n(160957));function H(e){
return e&&e.__esModule?e:{default:e}}function Y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(Y=function(e){return e?n:t})(e)}function z(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=Y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function K(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o
}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function q(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,
ref:null,props:t,_owner:null}}function X(){X=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return X.apply(this,arguments)}function Q(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function Z(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Q(o,r,a,i,u,"next",e)}function u(e){Q(o,r,a,i,u,"throw",e)}i(void 0)}))}}var J=G.default.getEnableHardwareAcceleration();function ee(e){var t=e.channel,r=e.sectionId,o=e.userId,i=(0,s.useStateFromStores)([T.default],(function(){return T.default.isTyping(t.id,o)})),f=(0,s.useStateFromStores)([S.default],(function(){return S.default.getMember(t.guild_id,o)})),p=(0,s.useStateFromStores)([A.default],(function(){return A.default.getUser(o)})),v=(0,s.useStateFromStores)([A.default],(function(){
return A.default.getCurrentUser()})),h=(null==p?void 0:p.id)===(null==v?void 0:v.id),m=(0,s.useStateFromStores)([b.default,I.default],(function(){return h?I.default.getStatus():b.default.getStatus(o,t.guild_id)})),P=(0,s.useStateFromStores)([b.default],(function(){return b.default.isMobileOnline(o)})),N=(0,s.useStateFromStores)([b.default,I.default],(function(){return h?I.default.getActivities():b.default.getActivities(o,t.guild_id)})),R=(0,s.useStateFromStores)([O.default],(function(){return O.default.getStreamForUser(o)})),w=(0,u.useListItem)(o),D=(0,s.useStateFromStores)([_.default],(function(){return _.default.canUserViewChannel(t.id,r,o)})),L=a.useCallback((function(e){null!=p&&(0,c.openContextMenuLazy)(e,Z(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(31626),n.e(1759),n.e(50690),n.e(46537)]).then(n.bind(n,863893));case 2:r=e.sent;o=r.default
;return e.abrupt("return",(function(e){return a.createElement(o,X({},e,{user:p,guildId:t.guild_id,channelId:t.id}))}));case 5:case"end":return e.stop()}}),e)}))))}),[p,t]),k=a.useCallback((function(){if(null!=p){var e="@"+(C.default.hidePersonalInformation?p.username:p.tag),n="<@!"+p.id+">";U.ComponentDispatch.dispatchToLastSubscribed(x.ComponentActions.INSERT_TEXT,{plainText:e,rawText:n});d.default.startTyping(t.id)}}),[p,t]),j=a.useCallback((function(e){e.stopPropagation();(0,y.openGuildBoostingMarketingModal)({guildId:t.guild_id,location:{section:x.AnalyticsSections.THREAD_MEMBER_LIST,object:x.AnalyticsObjects.BOOST_GEM_ICON}})}),[t.guild_id]);if(null==p)return null;var G=null==f?void 0:f.premiumSince;return q(M.default,{preload:function(){return(0,g.default)(p.id,p.getAvatarURL(t.guild_id,80),{guildId:t.guild_id})},renderPopout:function(e){return a.createElement(E.default,X({},e,{userId:p.id,guildId:t.guild_id,channelId:t.id}))},
position:l.isMobile?M.default.Positions.WINDOW_CENTER:M.default.Positions.LEFT,spacing:16,onShiftClick:k},void 0,(function(e,n){var r=n.isShown;return a.createElement(F.default,X({onContextMenu:L,shouldAnimateStatus:J,user:p,currentUser:v,nick:null==f?void 0:f.nick,status:m,activities:N,colorString:null==f?void 0:f.colorString,isTyping:i,channel:t,guildId:t.guild_id,isMobile:P,selected:r,applicationStream:R,premiumSince:null==G?null:new Date(G),onClickPremiumGuildIcon:j,itemProps:w,lostPermissionTooltipText:D?void 0:W.default.Messages.THREAD_MEMBER_WITHOUT_ACCESS},e))}))}ee.displayName="ThreadMember";var te=q(w.default,{width:12,height:12});var ne=a.memo(ee),re=a.memo((function(e){var t=e.id,n=e.label,r=e.count,o=e.guildId,i=(0,h.useRoleIcon)({roleId:t,guildId:o,size:16});return t===x.StatusTypes.UNKNOWN?q("div",{className:B.default.membersGroup},void 0,q("div",{className:B.default.memberGroupsPlaceholder})):q(L.default,{className:B.default.membersGroup,
"aria-label":W.default.Messages.CHANNEL_MEMBERS_A11Y_LABEL.format({title:n,count:r})},void 0,null!=i?a.createElement(k.default,X({className:B.default.roleIcon},i)):null,q("span",{"aria-hidden":!0},void 0,n," â€” ",r))})),ae=a.memo((function(e){return e.channel.type===x.ChannelTypes.PRIVATE_THREAD?a.createElement(a.Fragment,null,q("div",{className:V.default.divider}),q(N.Text,{variant:"text-xs/normal",color:"header-secondary",className:V.default.private},void 0,te,"Â ",W.default.Messages.THREAD_BROWSER_PRIVATE),q(N.Text,{variant:"text-sm/normal",color:"header-secondary",className:V.default.instructions},void 0,W.default.Messages.MEMBER_LIST_PRIVATE_THREAD_INSTRUCTIONS)):null}));function oe(e){var t=e.channel,n=e.guild,r="members-"+t.id,l=(0,m.useThreadMemberListSections)(t.id,n),c=l.filter((function(e){return e.userIds.length>0})).reverse()[0],d=(0,p.useGlobalHasAvatarDecorations)().canUseAvatarDecorations?44+F.AVATAR_DECORATION_PADDING:44,y=function(e,t){var n=(0,
s.useStateFromStores)([f.default],(function(){return f.default.keyboardModeEnabled})),r=a.useRef(null),o=a.useCallback((function(e,n){var a=r.current;if(null!=a){var o=parseInt(n,10),i=K(a.getSectionRowFromIndex(o),2),u=i[0],l=i[1],s=0===u&&0===l?t:0;a.scrollToIndex({section:u,row:l,padding:s,callback:function(){requestAnimationFrame((function(){var t;return null===(t=document.querySelector(e))||void 0===t?void 0:t.focus({preventScroll:!0})}))}})}}),[t]),i=a.useCallback((function(){return new Promise((function(e){var t=r.current;if(null==t)return e();t.scrollToTop({callback:function(){return requestAnimationFrame((function(){return e()}))}})}))}),[]),l=a.useCallback((function(){return new Promise((function(e){var t=r.current;if(null==t)return e();t.scrollToBottom({callback:function(){requestAnimationFrame((function(){return setTimeout(e,100)}))}})}))}),[]);return{navigator:(0,u.default)({id:e,setFocus:o,isEnabled:n,scrollToStart:i,scrollToEnd:l}),listRef:r}
}(r,d),h=y.navigator,_=y.listRef;if(0===l.length||l.every((function(e){return 0===e.userIds.length})))return q(ue,{channel:t});var g=i.default.omit(h.containerProps,["ref"]),E=q(ae,{channel:t},"footer");return q(u.ListNavigatorProvider,{navigator:h},void 0,q(v.FocusJumpSection,{},void 0,(function(e){return q("div",{className:(0,o.default)(B.default.membersWrap,B.default.hiddenMembers)},void 0,a.createElement(j.default,X({key:r,ref:_,className:B.default.members,paddingTop:0,sectionHeight:40,renderSection:function(e){var t=e.section,r=l[t];return q(re,{id:r.id,label:r.label,count:r.userIds.length,guildId:n.id},r.id)},rowHeight:d,renderRow:function(e){var n=e.section,r=e.row,a=l[n],o=a.userIds,i=a.id;return q(ne,{channel:t,sectionId:i,userId:o[r]},o[r])},footerHeight:function(e){return l[e]===c&&t.type===x.ChannelTypes.PRIVATE_THREAD?80:0},renderFooter:function(e){return l[e.section]===c?E:null},innerAriaLabel:W.default.Messages.MEMBERS,innerTag:"ul",sections:l.map((function(e){
return e.userIds.length})),fade:!0},g,e)))})))}oe.displayName="ThreadMembers";var ie=q(D.default,{width:32,height:32});function ue(e){var t=e.channel;return q("div",{className:(0,o.default)(B.default.membersWrap,B.default.hiddenMembers,B.default.members,V.default.emptyState)},void 0,q(N.Text,{className:V.default.emptyStateHeader,variant:"text-xs/normal",color:"interactive-normal"},void 0,W.default.Messages.MEMBERS),q("div",{className:V.default.emptyStateIconContainer},void 0,q("div",{className:V.default.emptyStateIcon},void 0,ie),q(R.default,{className:V.default.emptyStateStars})),q(P.Heading,{variant:"heading-md/medium",level:3},void 0,t.isForumPost()?W.default.Messages.FORUM_POST_MEMBER_LIST_EMPTY_STATE_HEADER:W.default.Messages.THREAD_MEMBER_LIST_EMPTY_STATE_HEADER),q(N.Text,{className:V.default.emptyStateSubtext,variant:"text-sm/normal",color:"header-secondary"},void 0,W.default.Messages.THREAD_MEMBER_LIST_EMPTY_STATE_SUBTEXT))}ue.displayName="EmptyState"},998872:(e,t,n)=>{
"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=lt(n(667294)),o=n(517563),i=n(505977),u=n(473727),l=it(n(536211)),s=it(n(939949)),c=it(n(241165)),d=n(988754),f=it(n(415275)),p=it(n(737863)),v=it(n(136873)),y=lt(n(446637)),h=it(n(226800)),m=it(n(235879)),_=it(n(178235)),g=it(n(206566)),E=it(n(967160)),O=it(n(697749)),S=it(n(765304)),b=it(n(676817)),I=n(621287),C=it(n(190065)),T=it(n(694450)),A=it(n(316309)),P=it(n(235398)),M=it(n(121791)),N=it(n(200092)),R=it(n(730034)),w=it(n(480519)),D=it(n(697786)),L=it(n(719192)),k=it(n(638534)),j=it(n(344368)),U=it(n(735592)),G=it(n(829392)),F=it(n(519386)),x=it(n(782950)),W=it(n(100223)),B=it(n(873113)),V=it(n(1110)),H=it(n(701593)),Y=n(452453),z=it(n(789620)),K=it(n(218813)),$=it(n(936747)),q=it(n(419523)),X=it(n(476115)),Q=it(n(316200)),Z=it(n(171627)),J=it(n(486030)),ee=n(520310),te=it(n(900996)),ne=it(n(516869)),re=it(n(524439)),ae=it(n(332405)),oe=it(n(885159)),ie=it(n(554147)),ue=it(n(496357)),le=it(n(110210)),se=it(n(231765)),ce=it(n(216920)),de=it(n(764517)),fe=it(n(348612)),pe=it(n(329697)),ve=n(923604),ye=n(139982),he=it(n(804135)),me=it(n(478910)),_e=it(n(394444)),ge=it(n(954500)),Ee=it(n(342716)),Oe=it(n(525339)),Se=it(n(965484)),be=it(n(340877)),Ie=n(910992),Ce=it(n(418968)),Te=it(n(77670)),Ae=it(n(409501)),Pe=it(n(594506)),Me=it(n(859566)),Ne=it(n(474628)),Re=it(n(555325)),we=it(n(350539)),De=it(n(423046)),Le=it(n(908463)),ke=it(n(644263)),je=it(n(544196)),Ue=it(n(23535)),Ge=it(n(30098)),Fe=it(n(122913)),xe=it(n(191839)),We=it(n(211136)),Be=it(n(790597)),Ve=it(n(52694)),He=it(n(474261)),Ye=it(n(424099)),ze=it(n(797512)),Ke=it(n(96978)),$e=it(n(944537)),qe=it(n(432310)),Xe=it(n(853068)),Qe=n(194322),Ze=n(864489),Je=it(n(922629)),et=lt(n(409873)),tt=it(n(825469)),nt=it(n(678306)),rt=n(770348),at=n(173652),ot=n(754949)
;n(259477);n(203855);n(730655);n(101820);n(913955);n(438312);n(455286);n(433512);n(937035);n(399561);n(625424);n(358091);n(359973);n(587840);n(516818);n(816624);n(350957);n(243336);n(491462);n(42398);n(847583);function it(e){return e&&e.__esModule?e:{default:e}}function ut(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(ut=function(e){return e?n:t})(e)}function lt(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=ut(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function st(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n)
;if(Array.isArray(e)||(n=ct(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ct(e,t){if(e){if("string"==typeof e)return dt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dt(e,t):void 0}}function dt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ft(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function pt(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){ft(o,r,a,i,u,"next",e)}function u(e){
ft(o,r,a,i,u,"throw",e)}i(void 0)}))}}function vt(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;yt(e,t)}function yt(e,t){yt=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return yt(e,t)}function ht(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}l.default.initialize();he.default.loadServer();if(Ze.isPlatformEmbedded){Je.default.on("USER_SETTINGS_OPEN",(function(){Fe.default.getLayers().includes(rt.Layers.USER_SETTINGS)||h.default.open(rt.UserSettingsSections.ACCOUNT)}));Je.default.on("LAUNCH_APPLICATION",(function(e,t){var n=xe.default.getActiveLibraryApplication(t)
;et.playApplication(t,n,{analyticsParams:{location:{page:rt.AnalyticsPages.DIRECT,object:rt.AnalyticsObjects.WEB_URL}}})}))}function mt(e){var t=e.match,n=e.location,r=(0,o.parse)(n.search).friend_token,a=t.params.id;p.default.call((function(){return(0,Ie.openUserProfileModal)({userId:a,guildId:rt.ME,friendToken:r,analyticsLocation:{section:rt.AnalyticsSections.DIRECT_ROUTE_ACCESS}})}));return ht(u.Redirect,{to:je.default.defaultRoute})}mt.displayName="renderUserProfileRedirector";function _t(e){var t=e.match.params,n=t.guildId,r=t.guildEventId;p.default.call((function(){(0,Y.openGuildEventDetails)(r)}));return ht(u.Redirect,{to:rt.Routes.CHANNEL(n)})}_t.displayName="renderGuildEventRedirector";function gt(e){var t,n,r=e.match,a=/-/g,o=null===(t=r.params.section)||void 0===t?void 0:t.toUpperCase().replace(a,"_"),i=null===(n=r.params.subsection)||void 0===n?void 0:n.toUpperCase().replace(a,"_")
;rt.UserSettingsSections.hasOwnProperty(o)&&(null==i||""===i||rt.UserSettingsSections.hasOwnProperty(i))&&p.default.call((function(){return h.default.open(rt.UserSettingsSections[o],i)}));return ht(u.Redirect,{to:je.default.defaultRoute})}gt.displayName="renderUserSettingsRedirector";function Et(){p.default.call((function(){return h.default.open(rt.UserSettingsSections.INVENTORY)}));return ht(u.Redirect,{to:je.default.defaultRoute})}Et.displayName="renderGiftInventoryRedirector";function Ot(e){var t=e.match.params.date,n=Le.default.changeLog,r=(0,o.parse)(location.search);if(null!=t&&null!=n){if(new Date(t)>new Date(n.date)){var a=r.utm_campaign_current,i=r.utm_content_current,l=r.utm_medium_current,s=r.utm_source_current,d=r.utm_term_current,f=(0,o.stringify)({utm_campaign_current:a,utm_content_current:i,utm_medium_current:l,utm_source_current:s,utm_term_current:d});window.location=rt.Routes.CHANGELOGS()+"?"+f}}p.default.call((function(){return c.default.showChangeLog(r)}))
;return ht(u.Redirect,{to:je.default.defaultRoute})}Ot.displayName="renderChangeLogRedirector";function St(){p.default.call((function(){return N.default.openCreateGuildModal({location:"External link"})}));return ht(u.Redirect,{to:je.default.defaultRoute})}St.displayName="createGuildModalRedirector";function bt(e){var t=e.match.params,n=t.guildId,r=t.channelId;(0,ee.setNewUser)(ot.NewUserTypes.MARKETING_UNCLAIMED);var a=rt.Routes.CHANNEL(n,r);return ht(u.Redirect,{to:a})}bt.displayName="renderWelcomeRedirector";var It=l.default.connectStores([Ue.default,je.default,De.default],(function(){return{isConnected:Ue.default.isConnected(),defaultRoute:je.default.defaultRoute,defaultRouteFallback:je.default.fallbackRoute,token:De.default.getToken()}}))(function(e){vt(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.render=function(){var e=this.props,t=e.isConnected,n=e.defaultRoute,r=e.token,a=e.defaultRouteFallback;if(null==r)return ht(u.Redirect,{
to:rt.Routes.DEFAULT_LOGGED_OUT});if(t){var o=Lt(n);return null==o||(o.params.guildId===rt.ME||null!=Ge.default.getGuild(o.params.guildId))&&null!=ke.default.getChannel(o.params.channelId)?ht(u.Redirect,{to:n}):ht(u.Redirect,{to:a})}return null};return t}(a.Component));function Ct(e){var t=e.match.params,n=t.gameId,r=t.action;qe.default.whenInitialized((function(){xe.default.whenInitialized((function(){switch(r){case"launch":var e=xe.default.getActiveLibraryApplication(n);if(null==e)return;et.playApplication(e.id,e,{analyticsParams:{location:{page:rt.AnalyticsPages.DIRECT,object:rt.AnalyticsObjects.WEB_URL}}});break;case"test-mode":Ye.default.whenInitialized((function(){return y.authorizeAndSetTestModeApplication(n)}));break;case"uninstall":var t=xe.default.getActiveLibraryApplication(n);if(null==t)return;(0,d.uninstallBranchPrompt)(t.id,t.branchId,rt.AnalyticsLocations.URI_SCHEME)}}))}));return ht(u.Redirect,{to:rt.Routes.APPLICATION_LIBRARY})}
Ct.displayName="gameLibraryActionRedirector";var Tt,At=(0,I.makeAuthenticated)(tt.default,null,{passProps:!1}),Pt=(0,I.makeAuthenticated)((function(e){var t=e.match.params.applicationId;p.default.call(pt(regeneratorRuntime.mark((function e(){var r,a,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,377278));case 2:r=e.sent;a=r.ApplicationDirectoryUserExperiment;if(!(o=a.getCurrentConfig({})).canViewProfile){e.next=11;break}e.next=8;return Promise.resolve().then(n.bind(n,968299));case 8:i=e.sent;(0,i.openApplicationDirectoryModal)(void 0,t,!o.enabled);case 11:case"end":return e.stop()}}),e)}))));return ht(u.Redirect,{to:je.default.defaultRoute})})),Mt=[rt.Routes.GUILD_BOOSTING_MARKETING(":guildId")].concat(function(e){if(Array.isArray(e))return dt(e)}(Tt=at.StaticChannelRoutes.map((function(e){return rt.Routes.CHANNEL(":guildId",e)})))||function(e){
if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(Tt)||ct(Tt)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());var Nt=ht(It,{}),Rt=[{path:[rt.Routes.APP],render:function(){return Nt},isSessionRequired:!0},{path:[rt.Routes.USERS(":id")],render:mt},{path:[rt.Routes.APPLICATION_LIBRARY_ACTION(":gameId",":action")],render:Ct},{path:[rt.Routes.GUILD_CREATE],render:St},{path:[rt.Routes.CHANGELOGS(":date?")],render:Ot,isSessionRequired:!0},{path:[rt.Routes.SETTINGS(":section",":subsection?")],render:gt,isSessionRequired:!0},{path:[rt.Routes.APPLICATION_LIBRARY_INVENTORY],render:Et,isSessionRequired:!0},{path:[rt.Routes.WELCOME(":guildId?",":channelId?")],render:bt,isSessionRequired:!0},{path:[rt.Routes.GUILD_EVENT_DETAILS(":guildId?",":guildEventId")],render:_t,isSessionRequired:!0},{
path:[rt.Routes.CHANNEL(":guildId",":channelId?",":messageId?"),rt.Routes.ACTIVITY,rt.Routes.APPLICATION_LIBRARY,rt.Routes.APPLICATION_STORE,rt.Routes.GUILD_DISCOVERY,rt.Routes.GUILD_MEMBER_VERIFICATION(":guildId",":inviteCode?"),rt.Routes.GUILD_MEMBER_VERIFICATION_FOR_HUB(":guildId",":inviteCode?"),rt.Routes.GUILD_BOOSTING_MARKETING(":guildId"),rt.Routes.FEATURE(":feature")],render:At,isSessionRequired:!0,isChatRoute:!0},{path:[rt.Routes.APPLICATION_DIRECTORY(":applicationId?")],render:Pt,isSessionRequired:!0}];function wt(e){if(!Ue.default.isConnected()&&!Ue.default.isTryingToConnect()){var t=De.default.getToken();if(null!=t){var n=function(e){for(var t,n=st(Rt);!(t=n()).done;){var r=t.value,a=r.path;if(r.isSessionRequired){var o=(0,i.matchPath)(e,{path:a});if(null!=o)return o}}return null}(e);null!=n&&s.default.startSession(t)}}}function Dt(e){var t=Lt(e);if(null!=t){var n=function(e){var t=e.params,n=t.guildId,r=t.channelId,a=void 0===r?null:r,o=t.messageId,i=void 0===o?null:o
;return{guildId:null!=n?n:rt.ME,channelId:a,messageId:i}}(t),r=n.guildId,a=n.channelId,o=n.messageId,u=(0,ve.isValidGuildId)(r),l=(0,ve.isValidChannelId)(a),s=Be.default.getGuildId(),c=s!==r;u&&c&&f.default.selectGuild(r);if(u&&l){var d=We.default.getChannelId(s);(c||d!==a||null!=o)&&v.default.selectChannel(r,a,o)}else(function(e){return Mt.some((function(t){var n;return!0===(null===(n=(0,i.matchPath)(e,t))||void 0===n?void 0:n.isExact)}))})(e)||(0,ye.replaceWith)(je.default.fallbackRoute)}}function Lt(e){for(var t,n=st(Rt);!(t=n()).done;){var r=t.value,a=r.path;if(r.isChatRoute){var o=(0,i.matchPath)(e,{path:a});if(null!=o)return o}}return null}var kt=ht(u.Redirect,{exact:!0,from:"/channels",to:"/"}),jt=ht(u.Redirect,{to:"/"}),Ut=ht(nt.default,{}),Gt=function(e){vt(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).historyUnlisten=function(){};return t}var r=t.prototype;r.componentDidMount=function(){
Je.default.setZoomFactor(m.default.zoom);he.default.init();T.default.initialize();A.default.initialize();M.default.initialize();P.default.initialize();D.default.initialize();ie.default.initialize();U.default.initialize();j.default.initialize();we.default.initialize();G.default.initialize();se.default.initialize();q.default.initialize();J.default.initialize();_.default.init();fe.default.init();me.default.init();x.default.init();He.default.init();F.default.init();Z.default.init();te.default.initialize();b.default.initialize();k.default.initialize();L.default.initialize();_e.default.initialize();ce.default.initialize();Re.default.initialize();S.default.initialize();Ne.default.initialize();oe.default.initialize();O.default.initialize();W.default.init();z.default.init();$e.default.init();Xe.default.init();Q.default.initialize();E.default.initialize();Se.default.init();be.default.init();Ke.default.init();ze.default.init();Te.default.init();Pe.default.init();H.default.initialize()
;Ee.default.initialize();Oe.default.initialize();B.default.initialize();Ce.default.initialize();le.default.initialize();ue.default.initialize();Me.default.init();w.default.initialize();Ae.default.init();$.default.init();g.default.initialize();V.default.initialize();ge.default.initialize();Ve.default.init();C.default.initialize();re.default.initialize();ne.default.initialize();ae.default.initialize();K.default.init({hasModalOpen:Qe.hasAnyModalOpen,openModal:function(){return(0,Qe.openModalLazy)(pt(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,376022));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,e)}));case 5:case"end":return e.stop()}}),e)}))))}});R.default.init();X.default.initialize();de.default.initialize();this.handleHistoryChange(n.g.location)
;this.historyUnlisten=pe.default.addRouteChangeListener(this.handleHistoryChange)};r.componentWillUnmount=function(){U.default.terminate();we.default.terminate();se.default.terminate();ie.default.terminate();J.default.terminate();T.default.terminate();A.default.terminate();M.default.terminate();P.default.terminate();D.default.terminate();Q.default.terminate();S.default.terminate();Ne.default.terminate();O.default.terminate();_e.default.terminate();ce.default.terminate();oe.default.terminate();Ce.default.terminate();E.default.terminate();H.default.terminate();le.default.terminate();ue.default.terminate();w.default.terminate();$.default.terminate();X.default.terminate();g.default.terminate();de.default.terminate();V.default.terminate();ge.default.terminate();C.default.terminate();re.default.terminate();ne.default.terminate();ae.default.terminate()};r.handleHistoryChange=function(e){var t=e.pathname;wt(t);Dt(t)};r.render=function(){
return ht(a.Fragment,{},void 0,ht(u.Switch,{},void 0,kt,Rt.map((function(e){var t=e.path,n=e.render;return ht(u.Route,{path:t,render:n},t[0])})),jt),Ut)};return t}(a.PureComponent);Gt.displayName="ViewsWithMainInterface";var Ft=Gt;t.default=Ft},61689:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=a?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(r,i,u):r[i]=e[i]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(770348);function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}function i(e,t){return function(e){
if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){
l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var s,c,d=Math.pow(3,2);!function(e){e[e.DISABLED=0]="DISABLED";e[e.DEFAULT=1]="DEFAULT";e[e.OFFSET=2]="OFFSET"}(s||(s={}));!function(e){e.TOP="TOP";e.BOTTOM="BOTTOM";e.RIGHT="RIGHT";e.LEFT="LEFT"}(c||(c={}));function f(e,t,n,r,a){var o=e.top,i=e.bottom,u=e.left,l=e.right;if(null==o&&null==i){o=0;i=n-a}else null==o&&null!=i?o=n-(i+a):null!=o&&(i=n-(o+a));if(null==u&&null==l){u=0;l=t-r}else null==u&&null!=l?u=t-(l+r):null==l&&null!=u&&(l=t-(u+r));if(null==o||null==i||null==u||null==l)throw new Error("Logically this can never happen based on our if/else statements");return{top:o,left:u,bottom:i,right:l}}function p(e){return[null==e.bottom?c.TOP:c.BOTTOM,null==e.right?c.LEFT:c.RIGHT]}function v(e){var t=e,n=t.top,r=t.left,a=t.bottom,o=t.right;0===n||n<=a?a=null:n=null;0===r||r<=o?o=null:r=null;return{top:n,left:r,bottom:a,right:o}}function y(e){var t=e.top,n=e.left,r=e.bottom,a=e.right;if(r<0){t+=r;r=0}if(t<0){
r+=t;t=0}if(a<0){n+=a;a=0}if(n<0){a+=n;n=0}return{top:t,left:n,bottom:r,right:a}}function h(e){return null!=e?e+"px":"auto"}var m=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(t){var n;(n=e.call(this,t)||this).draggableRef=r.createRef();n._dragStart={x:0,y:0};n.handleMouseDown=function(e){var t=n.position,r=t.top,o=t.left,i=t.bottom,u=t.right,l=n.props,s=l.dragAnywhere,c=l.selector,d=l.maxX,p=l.maxY,v=e.target,y=n.draggableRef.current;if(null!=y&&e.button===a.MouseButtons.PRIMARY&&(s||null!=v&&null!=c&&""!==c&&null!=v.closest(c))){var h=function(e){var t=e.top;return{x:e.left,y:t}}(f({top:r,left:o,bottom:i,right:u},d,p,y.clientWidth,y.clientHeight)),m=h.x,_=h.y;n._dragStart={x:e.clientX,y:e.clientY};n._offsetX=e.clientX-m;n._offsetY=e.clientY-_;window.addEventListener("mousemove",n.handleMouseMove);window.addEventListener("mouseup",n.handleMouseUp)}};n.handleMouseMove=function(e){e.preventDefault()
;var t=e.clientX,r=e.clientY,a=n.draggableRef.current,o=n.props,i=o.maxX,u=o.maxY,l=o.flipVertical,c=o.flipHorizontal,h=o.onDragStart,m=o.onDrag,_=o.onFlip,g=o.snapOrientation,E=n.state,O=E.dragging,S=E.dragging,b=E.verticalOrientation,I=E.horizontalOrientation,C=!1;if(!(null==a||!O&&(T=n._dragStart,A={x:t,y:r},P=T.x,M=T.y,N=A.x,R=A.y,Math.pow(P-N,2)+Math.pow(M-R,2))<d)){var T,A,P,M,N,R;O=!0;var w=a.clientWidth,D=a.clientHeight,L=y(f({top:r-n._offsetY,left:t-n._offsetX},i,u,w,D));if(g){var k=p(L=v(L));b=k[0];I=k[1]}else L={top:L.top,left:L.left};if(c===s.OFFSET&&I!==n.state.horizontalOrientation){n._offsetX=w-n._offsetX;C=!0}if(l===s.OFFSET&&b!==n.state.verticalOrientation){n._offsetY=D-n._offsetY;C=!0}n.setDOMPositions(L);S||null==h||h(L,a);null==m||m(L,a);C&&(null==_||_([b,I]));n.setState({dragging:O,verticalOrientation:b,horizontalOrientation:I,atTopEdge:0===L.top})}};n.handleMouseUp=function(){window.removeEventListener("mousemove",n.handleMouseMove)
;window.removeEventListener("mouseup",n.handleMouseUp);n.state.dragging&&n.setState({dragging:!1},(function(){var e=n.props.onDragEnd,t=n.draggableRef.current;null!=t&&null!=e&&e(n.position,t)}))};n._checkBoundsRAF=null;n.checkBounds=function(){null!=n._checkBoundsRAF&&cancelAnimationFrame(n._checkBoundsRAF);n._checkBoundsRAF=requestAnimationFrame(n._performCheckBounds)};n._performCheckBounds=function(){var e=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n),t=e.position,r=e.state,a=e.draggableRef.current,o=e.props,i=o.maxX,u=o.maxY,l=o.onRelocated,s=o.snapOrientation,c=n.state,d=c.verticalOrientation,h=c.horizontalOrientation;if(null!=a){var m,_=a.clientHeight,g=f(t,i,u,a.clientWidth,_);g=y(g);if(s){var E=p(m=v(g));d=E[0];h=E[1]}else m={top:g.top,left:g.left,right:null,bottom:null};if(t.left!==m.left||t.right!==m.right||t.top!==m.top||t.bottom!==m.bottom){null==l||l(m,a);n.setDOMPositions(m);var O=0===m.top
;d===r.verticalOrientation&&h===r.horizontalOrientation&&O===r.atTopEdge||n.setState({verticalOrientation:d,horizontalOrientation:h,atTopEdge:O})}}};var o=i(p(t.initialPosition),2),u=o[0],l=o[1];n.position=function(e){var t=e.top,n=e.left,r=e.bottom,a=e.right;null==n&&null==a&&(n=0);null!=n&&null!=a&&(a=null);null==t&&null==r&&(t=0);null!=t&&null!=r&&(r=null);return{top:t,left:n,bottom:r,right:a}}(t.initialPosition);n.state={dragging:!1,verticalOrientation:u,horizontalOrientation:l,atTopEdge:0===n.position.top};return n}var n=t.prototype;n.componentDidMount=function(){this.checkBounds();this.setDOMPositions(this.position)};n.componentDidUpdate=function(e,t){var n=this.state,r=n.verticalOrientation,a=n.horizontalOrientation,o=n.atTopEdge,i=this.props,u=i.maxX,l=i.maxY,s=i.onRelocated,c=i.snapOrientation;(e.maxX!==u||e.maxY!==l||e.onRelocated!==s||e.snapOrientation!==c||t.verticalOrientation!==r||t.horizontalOrientation!==a||t.atTopEdge!==o)&&this.checkBounds()}
;n.componentWillUnmount=function(){window.removeEventListener("mousemove",this.handleMouseMove);window.removeEventListener("mouseup",this.handleMouseUp)};n.setDOMPositions=function(e){var t=e.top,n=e.left,r=e.bottom,a=e.right,o=this.draggableRef.current;this.position={top:t,left:n,bottom:r,right:a};if(null!=o){o.style.top=h(t);o.style.bottom=h(r);o.style.left=h(n);o.style.right=h(a)}};n.render=function(){var e=this.props,t=e.children,n=e.className,a=this.state,o=a.dragging,i=a.verticalOrientation,u=a.horizontalOrientation,l=a.atTopEdge,s=this.position,d=s.top,f=s.left,p=s.right,v={pointerEvents:o?"none":"auto",position:"absolute",top:d,left:f,bottom:s.bottom,right:p};return r.createElement("div",{ref:this.draggableRef,className:n,onMouseDown:this.handleMouseDown,style:v},r.cloneElement(r.Children.only(t),{flipped:u===c.RIGHT,verticalFlipped:i===c.BOTTOM,checkBounds:this.checkBounds,atTopEdge:l}))};return t}(r.PureComponent);t.default=m;m.displayName="Draggable";m.FlipTypes=s
;m.defaultProps={snapOrientation:!1,maxX:0,maxY:0,flipVertical:s.DISABLED,flipHorizontal:s.DISABLED,dragAnywhere:!1}},358696:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=c(n(667294)),o=l(n(16941)),i=l(n(160629)),u=c(n(519390));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e,t){p=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return p(e,t)}var v=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;p(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).renderPopout=function(e){
var n=e.closePopout,r=t.props,a=r.options,o=r.value,i=r.renderOption,l=r.popoutClassName,s=r.scroller;return f(u.QuickSelectPopout,{scroller:Boolean(s),className:l,options:a,value:o,renderOption:i,onChange:function(e){t.handleChange(e);n()}})};t.handleChange=function(e){var n=t.props.onChange;null==n||n(e)};return t}t.prototype.render=function(){var e=this.props,t=e.label,n=e.value,r=e.renderValue,l=e.className,s=e.popoutProps,c=f(u.default,{label:t,value:n,renderValue:r});return a.createElement(i.default,d({},s,{renderPopout:this.renderPopout}),(function(e,t){var n=t.isShown;return a.createElement(o.default,d({},e,{className:l,"aria-haspopup":"listbox","aria-expanded":n}),c)}))};return t}(a.PureComponent);v.displayName="QuickSelectWrapper";var y=v;t.default=y},742234:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e}
;var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=u(n(441143)),o=u(n(496486)),i=["children"];function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function c(e,t){c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c(e,t)}var d=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;c(e,t)}(t,e);function t(t){var n
;(n=e.call(this,t)||this).ref=r.createRef();n._animate=function(){var e=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n).animProps;if(!n.state.shaking||e.progress>e.duration||null==n.ref.current)n._animationComplete();else{var t=Date.now();e.progress+=t-e.last;e.last=t;if(e.frameCount%2!=0){var r=e.lastDirection*e.intensity,i=o.default.random(-e.intensity,e.intensity,!0),u=Math.max(0,Math.cbrt(e.duration-e.progress/1e3));e.intensity*=Math.min(1,u);e.lastDirection*=-1;(0,a.default)(null!=n.ref.current,"Shakeable style set when not mounted");n.ref.current.style.transform="translate3d("+r+"px,"+i+"px,0px)"}e.frameCount+=1;n._animationFrame=requestAnimationFrame(n._animate)}};n._animationCleanup=function(){null!=n.ref.current&&(n.ref.current.style.transform="");cancelAnimationFrame(n._animationFrame)};n.state={shaking:!1};return n}var n=t.prototype;n.getDefaultAnimProps=function(e,t){return{duration:null!=e?e:300,
progress:0,last:Date.now(),intensity:null!=t?t:5,lastDirection:-1,frameCount:0}};n.componentWillUnmount=function(){this._animationCleanup()};n.shake=function(e,t){this.animProps=this.getDefaultAnimProps(e,t);this.state.shaking||this.setState({shaking:!0},this._animate)};n.stop=function(){this.state.shaking&&this.setState({shaking:!1})};n._animationComplete=function(){this.setState({shaking:!1},this._animationCleanup)};n.render=function(){var e=this.props,t=e.children,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,i);return r.createElement("div",s({},n,{ref:this.ref}),t)};return t}(r.Component);d.displayName="Shakeable";var f=d;t.default=f},887140:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=T
;var r,a=O(n(667294)),o=g(n(294184)),i=n(536211),u=g(n(636602)),l=O(n(785460)),s=g(n(122913)),c=g(n(191013)),d=g(n(37679)),f=g(n(665759)),p=n(194322),v=n(310170),y=O(n(409873)),h=n(770348),m=g(n(247001)),_=g(n(517628));function g(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function O(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function S(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3
;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e,t){I=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return I(e,t)}var C=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;I(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).searchBarRef=null;t.state={focused:!1};t.setRef=function(e){t.searchBarRef=e};t.handleKeyDown=function(e){var n,r=t.props,a=r.activeRowKey,o=r.hasModalOpen,i=r.applicationViewItems,u=b(t).searchBarRef;if(!(o||e.ctrlKey||e.altKey||e.metaKey||null==u)){
var l=null===(n=(0,v.eventOwnerDocument)(e))||void 0===n?void 0:n.activeElement;if(l===u.inputRef.current||!(0,v.isInputLikeElement)(l))switch(e.which){case h.KeyboardKeys.ESCAPE:e.target!==u.inputRef.current?t.reset():null!=u.inputRef.current&&u.blur();break;case h.KeyboardKeys.ENTER:if(null!=a){e.preventDefault();var s=i.find((function(e){return e.key===a}));if(null==s)return;var c=s.libraryApplication;y.performDefaultLibraryApplicationAction(c,{analyticsParams:{source:h.AnalyticsLocations.APPLICATION_LIBRARY,location:{page:h.AnalyticsPages.LIBRARY,section:h.AnalyticsSections.LIBRARY_APPLICATION_LIST,object:h.AnalyticsObjects.BUTTON_CTA}}})}break;case h.KeyboardKeys.ARROW_DOWN:case h.KeyboardKeys.ARROW_UP:e.preventDefault();e.stopPropagation();t.updateActiveRow(e.which===h.KeyboardKeys.ARROW_DOWN?1:-1);break;default:null!=u.inputRef.current&&e.target!==u.inputRef.current&&u.focus()}}};return t}var n=t.prototype;n.componentDidMount=function(){
document.addEventListener("keydown",this.handleKeyDown)};n.componentWillUnmount=function(){u.default.wait((function(){return l.updateActiveRowKey(null)}));document.removeEventListener("keydown",this.handleKeyDown)};n.reset=function(){l.updateActiveRowKey(null);l.updateLibraryFilter("")};n.focusInput=function(){var e=this.searchBarRef;null!=e&&e.focus()};n.updateActiveRow=function(e){var t=this.props,n=t.applicationViewItems,r=t.activeRowKey,a=n.findIndex((function(e){return e.key===r})),o=0;a>=0&&(o=(a+e)%n.length)<0&&(o=n.length-1);var i=n[o];l.updateActiveRowKey(null!=i?i.key:null,!0)};n.render=function(){var e,t=this,n=this.props.filterQuery,r=this.state.focused;return S("div",{className:(0,o.default)((e={},e[_.default.libraryFilter]=!0,e[_.default.focused]=r,e))},void 0,a.createElement(f.default,{className:_.default.searchBar,ref:this.setRef,onChange:l.updateLibraryFilter,onFocus:function(){return t.setState({focused:!0})},onBlur:function(){return t.setState({focused:!1})},
name:"filter",onClear:function(){t.reset();t.focusInput()},maxLength:100,query:n,placeholder:m.default.Messages.APPLICATION_LIBRARY_FILTER_PLACEHOLDER}))};return t}(a.Component);C.displayName="ApplicationLibraryFilter";function T(){var e=(0,i.useStateFromStores)([s.default],(function(){return s.default.hasLayers()})),t=(0,p.useModalsStore)(p.hasAnyModalOpenSelector);return S(C,{activeRowKey:(0,i.useStateFromStores)([d.default],(function(){return d.default.activeRowKey})),hasModalOpen:t||e,filterQuery:(0,i.useStateFromStores)([c.default],(function(){return c.default.applicationFilterQuery})),applicationViewItems:(0,i.useStateFromStores)([c.default],(function(){return c.default.sortedFilteredLibraryApplicationViewItems}))})}T.displayName="ApplicationLibraryFilterConnected"},870380:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{
default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=v(n(463024)),i=n(139982),u=v(n(186465)),l=v(n(262134)),s=n(308920),c=n(539331),d=n(770348),f=v(n(247001)),p=v(n(541302));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{})
;return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(){m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return m.apply(this,arguments)}var _=(0,c.isSupportedPlatform)()||!1,g=h(o.default.Icon,{icon:l.default,"aria-hidden":!0}),E=h(o.default.Divider,{});function O(e){var t=e.currentRoute,n=e.renderToolbar,r=a.useContext(s.AnalyticsContext);var l=_||t===d.Routes.APPLICATION_LIBRARY_SETTINGS;return h(o.default,{className:p.default.libraryHeader,toolbar:null==n?void 0:n()},void 0,g,h(o.default.Title,{},void 0,f.default.Messages.LIBRARY),E,h(u.default,{type:u.default.Types.TOP_PILL,selectedItem:t,onItemSelect:function(e){e!==t&&(0,i.transitionTo)(e,{state:{analyticsSource:m({},r.location,{section:d.AnalyticsSections.TABS,object:d.AnalyticsObjects.NAVIGATION_LINK})}})}},void 0,h(u.default.Item,{id:d.Routes.APPLICATION_LIBRARY
},void 0,f.default.Messages.APPLICATION_LIBRARY_MY_GAMES),l?h(u.default.Item,{id:d.Routes.APPLICATION_LIBRARY_SETTINGS},void 0,f.default.Messages.SETTINGS):null))}O.displayName="ApplicationLibraryHeader";var S=a.memo(O);t.default=S},115370:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(370405),i=n(473727),u=v(n(284382)),l=v(n(400225)),s=n(887299),c=v(n(539903)),d=v(n(364527)),f=n(770348),p=v(n(854686));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var m=h(d.default,{}),_=h(c.default,{});function g(){return h(i.Switch,{},void 0,h(l.default,{path:f.Routes.APPLICATION_LIBRARY_SETTINGS,exact:!0},void 0,h(u.default,{page:f.AnalyticsPages.LIBRARY_SETTINGS,root:!0},void 0,m)),h(l.default,{path:f.Routes.APPLICATION_LIBRARY},void 0,h(u.default,{page:f.AnalyticsPages.LIBRARY,root:!0},void 0,_)))}g.displayName="ApplicationLibrarySwitch";var E=h(o.Helmet,{title:"Discord"}),O=h(g,{});function S(){
a.useEffect((function(){(0,s.trackAppUIViewed)("application_library")}),[]);return h("div",{className:p.default.container},void 0,E,O)}S.displayName="ApplicationLibraryPage";var b=a.memo(S);t.default=b},949294:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=h(n(536211)),u=n(91817),l=h(n(223367)),s=h(n(730977)),c=h(n(955310)),d=h(n(989983)),f=h(n(635114)),p=h(n(809898)),v=n(770348),y=h(n(247001));function h(e){return e&&e.__esModule?e:{default:e}}function m(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(){g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return g.apply(this,arguments)}function E(e,t){E=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return E(e,t)}var O=new Set([v.CloudSyncStateTypes.PUSHING,v.CloudSyncStateTypes.PULLING]),S=Object.freeze(((r={})[v.CloudSyncStateTypes.DONE]=c.default,
r[v.CloudSyncStateTypes.PLANNING]=c.default,r[v.CloudSyncStateTypes.PREPARING]=c.default,r[v.CloudSyncStateTypes.PUSHING]=p.default,r[v.CloudSyncStateTypes.PULLING]=f.default,r[v.CloudSyncStateTypes.CONFLICT]=c.default,r[v.CloudSyncStateTypes.ERROR]=c.default,r)),b=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;E(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this)._doneTimer=new u.Timeout;return t}var n=t.prototype;n.componentDidMount=function(){this.getIsRecentlySynced()&&this.setRecentlySyncedTimeout()};n.componentDidUpdate=function(e){null!=this.props.cloudSyncState&&(this.props.cloudSyncState.type!==v.CloudSyncStateTypes.DONE||null==this.props.cloudSyncState.timestamp||null!=e.cloudSyncState&&null!=e.cloudSyncState.timestamp||this.setRecentlySyncedTimeout())};n.componentWillUnmount=function(){this._doneTimer.stop()}
;n.setRecentlySyncedTimeout=function(){var e=this;this._doneTimer.start(2e3,(function(){return e.forceUpdate()}))};n.getIsRecentlySynced=function(){var e=this.props.cloudSyncState;if(null!=e&&e.type===v.CloudSyncStateTypes.DONE){var t=e.timestamp;return null!=t&&Date.now()-t<=2e3}return!1};n.getStop=function(e,t){if(t)return 1;if(e.type===v.CloudSyncStateTypes.PUSHING||e.type===v.CloudSyncStateTypes.PULLING){return e.progress/e.total}return 0};n.getTooltip=function(e,t){switch(e.type){case v.CloudSyncStateTypes.DONE:return t?y.default.Messages.CLOUD_SYNC_ICON_TOOLTIP_DONE:y.default.Messages.CLOUD_SYNC_ICON_TOOLTIP_SUPPORTED;case v.CloudSyncStateTypes.CONFLICT:case v.CloudSyncStateTypes.ERROR:return y.default.Messages.CLOUD_SYNC_ICON_TOOLTIP_SUPPORTED;case v.CloudSyncStateTypes.PLANNING:return y.default.Messages.CLOUD_SYNC_ICON_TOOLTIP_PLANNING;case v.CloudSyncStateTypes.PREPARING:return y.default.Messages.CLOUD_SYNC_ICON_TOOLTIP_PREPARING;case v.CloudSyncStateTypes.PUSHING:
return y.default.Messages.CLOUD_SYNC_ICON_TOOLTIP_PUSHING;case v.CloudSyncStateTypes.PULLING:return y.default.Messages.CLOUD_SYNC_ICON_TOOLTIP_PULLING;default:return null}};n.render=function(){var e=this.props,t=e.cloudSyncState,n=e.libraryApplication,r=e.className,a=null==t?{type:v.CloudSyncStateTypes.DONE}:t,i=this.getIsRecentlySynced(),u={};(O.has(a.type)||i)&&(u.gradientConfig={id:n.id,startColor:"rgba(199, 208, 240, 1)",stopColor:"rgba(114, 137, 218, 1)",stop:this.getStop(a,i)});var l=i?d.default:S[a.type];return _(s.default,{text:this.getTooltip(a,i)},void 0,(function(e){return o.createElement(l,g({className:r},u,e))}))};return t}(o.PureComponent);b.displayName="CloudSyncIcon";var I=i.default.connectStores([l.default],(function(e){var t=e.libraryApplication;return{cloudSyncState:l.default.getState(t.id,t.branchId)}}))(b);t.default=I},328715:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=A(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=T(n(536211)),i=n(668471),u=T(n(979285)),l=T(n(956117)),s=T(n(558402)),c=T(n(789446)),d=T(n(895108)),f=T(n(530250)),p=n(772575),v=T(n(618993)),y=n(645758),h=T(n(279950)),m=n(688388),_=T(n(502197)),g=n(194322),E=n(771855),O=n(864489),S=T(n(922629)),b=T(n(247001)),I=T(n(591523)),C=T(n(380203));function T(e){return e&&e.__esModule?e:{default:e}}function A(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(A=function(e){return e?n:t})(e)}function P(){P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){
var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return P.apply(this,arguments)}function M(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function N(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;R(e,t)}function R(e,t){R=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return R(e,t)}var w=function(e){N(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(t=e.call.apply(e,[this].concat(r))||this).state={label:void 0,isDefault:null};t.handleStartEditing=function(){
var e=t.props,n=e.path,r=e.label,a=e.isDefault;(0,e.onToggleEditing)(n);t.setState({label:r,isDefault:a})};t.handleStopEditing=function(){(0,t.props.onToggleEditing)(null);t.setState({label:void 0,isDefault:null})};t.handleRemoveLocation=function(){(0,g.openModal)((function(e){return a.createElement(_.default,P({},e,{header:b.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_REMOVE,confirmText:b.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_REMOVE,cancelText:b.default.Messages.CANCEL,onConfirm:function(){t.handleStopEditing();(0,i.removeInstallLocation)(t.props.path)}}),M(y.Text,{variant:"text-md/normal"},void 0,b.default.Messages.USER_SETTINGS_GAMES_REMOVE_LOCATION_BODY))}))};t.handleSaveChanges=function(){(0,i.updateInstallLocation)(t.props.path,{label:null!=t.state.label?t.state.label:t.props.label,isDefault:null!=t.state.isDefault?t.state.isDefault:t.props.isDefault});t.handleStopEditing()};t.handleLabelChange=function(e){t.setState({label:e})}
;t.handleToggleDefault=function(){t.setState({isDefault:!t.state.isDefault})};return t}var n=t.prototype;n.renderDiskUsageCircle=function(){var e=this.props.metadata;return null!=e&&null!=e.availableKB&&null!=e.totalKB?M(d.default,{total:e.totalKB,used:e.totalKB-e.availableKB}):null};n.renderViewing=function(){var e,t,n=this.props,r=n.path,a=n.label,o=n.editingPath,i=n.isDefault,s=n.metadata;if(null!=s){e=null!=s.availableKB?(0,E.formatSize)(s.availableKB,{useKibibytes:!0}):null;t=null!=s.totalKB?(0,E.formatSize)(s.totalKB,{useKibibytes:!0}):null}return M(f.default,{className:I.default.installationPath,align:f.default.Align.CENTER},void 0,this.renderDiskUsageCircle(),M(f.default,{direction:f.default.Direction.VERTICAL,className:I.default.descriptionWrapper},void 0,M(f.default,{align:f.default.Align.CENTER},void 0,M(p.Heading,{className:I.default.rowTitle,variant:"heading-md/medium",level:3},void 0,null!=a?a:u.default.getLabelFromPath(r)),i?M("span",{className:I.default.defaultIndicator
},void 0,b.default.Messages.DEFAULT):null),null!=s&&null!=e&&null!=t?M(v.default,{className:I.default.rowBody,hoverText:b.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_SPACE.format({available:e,total:t})},void 0,r):M(y.Text,{className:I.default.rowBody,variant:"text-xs/normal"},void 0,r)),M(l.default,{size:l.default.Sizes.SMALL,disabled:null!=o,color:l.default.Colors.PRIMARY,onClick:this.handleStartEditing},void 0,b.default.Messages.EDIT))};n.renderEditing=function(){var e=this.props,t=e.path,n=e.hasGamesInstalledInPath,r=this.state,a=r.label,o=r.isDefault;return M(s.default,{editable:!0,className:I.default.installationPathEditing},void 0,M(f.default,{},void 0,this.renderDiskUsageCircle(),M(f.default.Child,{},void 0,M(m.FormItem,{title:b.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_NAME},void 0,M(h.default,{value:a,placeholder:u.default.getLabelFromPath(t),onChange:this.handleLabelChange})),M(m.FormItem,{title:b.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION,
className:C.default.marginTop20},void 0,M(h.default,{disabled:!0,value:t})),M(c.default,{type:c.default.Types.INVERTED,value:null!=o?o:this.props.isDefault,disabled:this.props.isDefault,className:I.default.defaultLocationCheckbox,onChange:this.handleToggleDefault},void 0,b.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_MAKE_DEFAULT),M(m.FormDivider,{className:I.default.separator}),M(f.default,{},void 0,M(l.default,{disabled:n||this.props.isDefault,size:l.default.Sizes.SMALL,color:l.default.Colors.RED,look:l.default.Looks.OUTLINED,onClick:this.handleRemoveLocation},void 0,b.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_REMOVE),M(f.default,{justify:f.default.Justify.END},void 0,M(l.default,{size:l.default.Sizes.SMALL,color:l.default.Colors.PRIMARY,look:l.default.Looks.LINK,onClick:this.handleStopEditing},void 0,b.default.Messages.CANCEL),M(l.default,{disabled:t===this.props.path&&a===this.props.label&&o===this.props.isDefault,size:l.default.Sizes.SMALL,
color:l.default.Colors.GREEN,onClick:this.handleSaveChanges},void 0,b.default.Messages.SAVE))))))};n.render=function(){return this.props.editingPath===this.props.path?this.renderEditing():this.renderViewing()};return t}(a.PureComponent);w.displayName="PathItem";var D=function(e){N(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).state={editingPath:null};t.handleAddInstallationLocation=function(){S.default.showOpenDialog(["openDirectory"]).then((function(e){null!=e&&0!==e.length&&null!=e[0]&&"undefined"!==e[0]&&(0,i.addInstallLocation)(e[0])}))};t.handleToggleEditing=function(e){t.setState({editingPath:e})};return t}var n=t.prototype;n.componentDidMount=function(){(0,i.fetchMetadata)(this.props.installationPaths.map((function(e){return e.path})))};n.render=function(){var e=this,t=this.props,n=t.installationPaths,r=t.installationPathsMetadata,a=t.defaultInstallationPath,o=this.state.editingPath
;return M(m.FormSection,{className:I.default.wrapper,title:b.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATIONS},void 0,n.map((function(t){var n=t.path,i=t.label;return M(w,{path:n,label:i,metadata:r[n],isDefault:a===n,editingPath:o,hasGamesInstalledInPath:u.default.hasGamesInstalledInPath(n),onToggleEditing:e.handleToggleEditing},n)})),M("div",{className:I.default.buttonRowWrapper},void 0,M(l.default,{disabled:!O.isPlatformEmbedded,onClick:this.handleAddInstallationLocation,size:l.default.Sizes.SMALL},void 0,b.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_ADD)))};return t}(a.PureComponent);D.displayName="GameInstallLocations";var L=o.default.connectStores([u.default],(function(){return{installationPaths:u.default.installationPaths,installationPathsMetadata:u.default.installationPathsMetadata,defaultInstallationPath:u.default.defaultInstallationPath}}))(D);t.default=L},539903:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=O(n(667294)),o=g(n(294184)),i=g(n(636602)),u=O(n(588136)),l=n(881100),s=n(297279),c=g(n(284382)),d=n(235742),f=n(656710),p=g(n(887140)),v=g(n(870380)),y=g(n(845905)),h=g(n(351345)),m=n(770348),_=g(n(993846));function g(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function O(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function S(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3
;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function b(e,t){b=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return b(e,t)}var I=S(p.default,{}),C=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;b(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(t=e.call.apply(e,[this].concat(r))||this)._scrollerRef=a.createRef();t._scrollToPadding=0;t.state={includeUpdatesInScroller:!1};t.handleHeightTallerThanHalfViewportChange=function(e){t.setState({includeUpdatesInScroller:e})};t.scrollToRow=function(e,n){var r=t._scrollerRef.current;if(null!=r){e.focus();r.scrollIntoViewRect({start:n,end:n});t._scrollToOnMount=null}else{t._scrollToOnMount=e
;t._scrollToPadding=n}};return t}var n=t.prototype;n.componentDidMount=function(){u.setHomeLink(m.Routes.APPLICATION_LIBRARY);(0,f.deepLinkRouteIfLanded)(m.RPCDeepLinks.LIBRARY);i.default.wait((function(){return(0,l.fetchBranches)()}));(0,s.fetchActivityStatistics)();null!=this._scrollToOnMount&&null!=this._scrollerRef.current&&this.scrollToRow(this._scrollToOnMount,this._scrollToPadding)};n.renderToolbar=function(){return I};n.render=function(){var e,t=this.state.includeUpdatesInScroller,n=S("div",{},void 0,S(c.default,{section:m.AnalyticsSections.LIBRARY_INSTALL_MODULE},void 0,S(h.default,{onHeightTallerThanHalfViewportChange:this.handleHeightTallerThanHalfViewportChange})));return S(a.Fragment,{},void 0,S(v.default,{currentRoute:m.Routes.APPLICATION_LIBRARY,renderToolbar:this.renderToolbar}),t?null:n,a.createElement(d.AdvancedScrollerAuto,{className:(0,o.default)(_.default.container,_.default.scroller,(e={},e[_.default.stickyScroller]=!t,e)),ref:this._scrollerRef
},t?n:null,S(c.default,{section:m.AnalyticsSections.LIBRARY_APPLICATION_LIST},void 0,S(y.default,{stickyHeader:!t,scrollToRow:this.scrollToRow}))))};return t}(a.PureComponent);t.default=C;C.displayName="GameLibrary"},364527:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=w;var r,a=C(n(667294)),o=n(536211),i=C(n(252247)),u=n(894826),l=b(n(191013)),s=b(n(16941)),c=b(n(530250)),d=b(n(567668)),f=n(688388),p=b(n(259530)),v=n(582945),y=b(n(308920)),h=C(n(685677)),m=n(539331),_=b(n(870380)),g=b(n(328715)),E=n(770348),O=b(n(247001)),S=b(n(218522));function b(e){return e&&e.__esModule?e:{default:e}}function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}function C(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function T(){T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return T.apply(this,arguments)}function A(e,t){A=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return A(e,t)}function P(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function M(e){
var t=e.applicationViewItems,n=e.restoreApplication;if(0===t.length)return null;var r=t.map((function(e){var t=e.libraryApplication.getDistributor();return P("div",{className:S.default.hiddenLibraryApplication},e.key,P(c.default,{direction:c.default.Direction.VERTICAL,className:S.default.hiddenLibraryApplicationContent},void 0,P("div",{className:S.default.applicationName},void 0,e.libraryApplication.getBranchedName(e.application)),null!=t?P("div",{className:S.default.applicationSubText},void 0,E.DistributorNames[t]):null),P(s.default,{className:S.default.restoreButton,onClick:function(){return n(e.libraryApplication)}},void 0,P(p.default,{className:S.default.restoreIcon})))}));return P(f.FormSection,{className:S.default.hiddenLibraryApplications},void 0,P(f.FormTitle,{className:S.default.hiddenLibraryApplicationsTitle},void 0,O.default.Messages.SETTINGS_GAMES_HIDDEN_LIBRARY_APPLICATIONS_LABEL),r)}M.displayName="HiddenLibraryApplications";var N=P(g.default,{}),R=function(e){
!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;A(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).handleRestoreHiddenLibraryApplication=function(e){var n=h.toggleFlag(e.getFlags(),E.LibraryApplicationFlags.HIDDEN);i.updateFlags(e.id,e.branchId,n);t.trackRestoreApplication(e,h.hasFlag(n,E.LibraryApplicationFlags.HIDDEN))};return t}var n=t.prototype;n.handleToggleShortcutDesktop=function(e){u.InstallShortcutDesktop.updateSetting(e)};n.handleToggleShortcutStartMenu=function(e){u.InstallShortcutStartMenu.updateSetting(e)};n.trackRestoreApplication=function(e,t){y.default.track(E.AnalyticEvents.APPLICATION_SETTINGS_UPDATED,T({hidden_enabled:t},e.getAnalyticsData()))};n.renderBody=function(){var e=this.props,t=e.hiddenLibraryApplicationViewItems,n=e.installShortcutDesktop,r=e.installShortcutStartMenu;return P("div",{className:S.default.body},void 0,(0,
m.isSupportedPlatform)()?P(a.Fragment,{},void 0,P(d.default,{value:n,onChange:this.handleToggleShortcutDesktop,note:O.default.Messages.USER_SETTINGS_GAMES_SHORTCUTS_DESKTOP_NOTE},void 0,O.default.Messages.USER_SETTINGS_GAMES_SHORTCUTS_DESKTOP),P(d.default,{value:r,onChange:this.handleToggleShortcutStartMenu,note:O.default.Messages.USER_SETTINGS_GAMES_SHORTCUTS_START_MENU_NOTE},void 0,O.default.Messages.USER_SETTINGS_GAMES_SHORTCUTS_START_MENU),N):null,P(M,{restoreApplication:this.handleRestoreHiddenLibraryApplication,applicationViewItems:t}))};n.render=function(){return a.createElement(a.Fragment,null,P(_.default,{currentRoute:E.Routes.APPLICATION_LIBRARY_SETTINGS}),P(v.ScrollerAuto,{className:S.default.scroller},void 0,this.renderBody()))};return t}(a.PureComponent);R.displayName="GameLibrarySettings";function w(){var e={installShortcutDesktop:u.InstallShortcutDesktop.useSetting(),installShortcutStartMenu:u.InstallShortcutStartMenu.useSetting(),hiddenLibraryApplicationViewItems:(0,
o.useStateFromStores)([l.default],(function(){return l.default.hiddenLibraryApplicationViewItems}))};return a.createElement(R,e)}w.displayName="ConnectedGameLibrarySettings"},845905:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=Q;var r,a,o=j(n(667294)),i=L(n(294184)),u=n(473727),l=n(536211),s=n(91817),c=L(n(636602)),d=n(378158),f=j(n(785460)),p=L(n(25952)),v=L(n(758269)),y=L(n(191013)),h=L(n(37679)),m=L(n(956117)),_=L(n(530250)),g=L(n(562475)),E=L(n(73393)),O=L(n(425991)),S=L(n(730977)),b=L(n(420303)),I=L(n(41024)),C=L(n(330998)),T=j(n(308920)),A=n(811076),P=n(8916),M=L(n(949294)),N=n(770348),R=L(n(247001)),w=L(n(312935)),D=["item","activeRowKey","highlightedApplicationKey","onMouseEnter","onMouseLeave","onContextMenu","setRef"];function L(e){return e&&e.__esModule?e:{default:e}}function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}function j(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function U(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return G(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}
throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function F(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function x(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){F(o,r,a,i,u,"next",e)}function u(e){F(o,r,a,i,u,"throw",e)}i(void 0)}))}}function W(e,t){W=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return W(e,t)}function B(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function V(){V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return V.apply(this,arguments)}var H=(0,P.cssValueToNumber)(w.default.rowMinHeight),Y=(0,P.cssValueToNumber)(w.default.linkedToGlowDuration),z=Object.freeze(((r={})[N.GameTableListKeys.PLATFORM]="Platform",r[N.GameTableListKeys.LAST_PLAYED]="Last Played",r[N.GameTableListKeys.NAME]="Name",r));var K=function(e){var t=e.flag,n=e.icon,r=e.item,a=e.tooltip,u=r.libraryApplication.hasFlag(t);return B(S.default,{text:a},void 0,(function(e){var t;return o.createElement(n,V({className:(0,i.default)(w.default.settingIcon,(t={},t[w.default.hidden]=!u,t))},e))}))};K.displayName="FlagIcon";var $=[{key:N.GameTableListKeys.NAME,renderHeader:function(){
return R.default.Messages.GAME_LIBRARY_LIST_HEADER_NAME},sort:!0,cellClassName:w.default.nameCell,bodyCellClassName:w.default.nameBodyCell,render:function(e){return B(_.default,{align:_.default.Align.CENTER},void 0,B(g.default,{game:e.application,size:g.default.Sizes.SMALL,className:w.default.gameIcon}),B("div",{className:w.default.nameCellInfo},void 0,B("div",{className:w.default.nameCellText},void 0,e.libraryApplication.getBranchedName(e.application)),e.libraryApplication.hasFlag(N.LibraryApplicationFlags.PREMIUM)?B(S.default,{text:R.default.Messages.PREMIUM_GAME},void 0,(function(e){return o.createElement(I.default,V({className:w.default.nitroIcon},e))})):null))}},{key:N.GameTableListKeys.PLATFORM,renderHeader:function(){return R.default.Messages.GAME_LIBRARY_LIST_HEADER_PLATFORM},sort:!0,cellClassName:w.default.platformCell,bodyCellClassName:w.default.textCell,render:function(e){var t=e.libraryApplication.getDistributor();return B(_.default,{align:_.default.Align.CENTER
},void 0,null!=t?N.DistributorNames[t]:R.default.Messages.GAME_LIBRARY_NOT_APPLICABLE)}},{key:N.GameTableListKeys.LAST_PLAYED,renderHeader:function(){return R.default.Messages.GAME_LIBRARY_LIST_HEADER_LAST_PLAYED},sort:!0,cellClassName:w.default.lastPlayedCell,bodyCellClassName:w.default.textCell,render:function(e){var t,n;n=e.isRunning?R.default.Messages.GAME_LIBRARY_LAST_PLAYED_PLAYING_NOW:e.isNew?R.default.Messages.GAME_LIBRARY_NEW:0!==e.lastPlayed?B(E.default,{end:e.lastPlayed,location:E.default.Locations.GAME_LIBRARY_LAST_PLAYED}):R.default.Messages.GAME_LIBRARY_LAST_PLAYED_NONE;return B(_.default,{align:_.default.Align.CENTER,className:(0,i.default)((t={},t[w.default.lastPlayedCellNew]=e.isNew,t))},void 0,n)}},{key:N.GameTableListKeys.ACTIONS,renderHeader:function(){return null},cellClassName:w.default.actionsCell,render:function(e,t,n){var r;if(null==t)throw new Error("No cell props defined.");var a,u,l=e.key===t.activeRowKey;return B(o.Fragment,{},void 0,B("div",{
className:w.default.settingIcons},void 0,B(K,{flag:N.LibraryApplicationFlags.PRIVATE,item:e,icon:b.default,tooltip:R.default.Messages.GAME_LIBRARY_PRIVATE_TOOLTIP}),B(K,{flag:N.LibraryApplicationFlags.OVERLAY_DISABLED,item:e,icon:C.default,tooltip:R.default.Messages.GAME_LIBRARY_OVERLAY_DISABLED_TOOLTIP}),B(M.default,{className:(0,i.default)(w.default.settingIcon,(r={},r[w.default.hidden]=!e.supportsCloudSync,r)),libraryApplication:e.libraryApplication})),(0,A.isUserEntitledToLibraryApplication)(e.libraryApplication)?B(v.default,{analyticsListSort:(a=t.sortKey,u=t.sortDirection,z[a]+" "+(u===N.TableSortDirections.ASCENDING?"ASC":"DESC")),analyticsListIndex:n,source:N.AnalyticsLocations.APPLICATION_LIBRARY,libraryApplication:e.libraryApplication,color:l?m.default.Colors.GREEN:m.default.Colors.PRIMARY,isPlayShiny:l&&e.defaultAction===N.LibraryApplicationActions.PLAY,size:w.default.actionButtonSize,hideProgress:null!=e.defaultAction,onDropdownOpen:function(){
return null!=t&&t.setActiveRowKey(e)},onDropdownClose:function(){return null!=t&&t.clearActiveRowKey()}}):B(p.default,{skuId:e.libraryApplication.sku.id,applicationId:e.application.id,color:l?m.default.Colors.GREEN:m.default.Colors.PRIMARY,customDisabledColor:m.default.Colors.PRIMARY,size:w.default.actionButtonSize}))}}],q=function(e){var t,n=e.item,r=e.activeRowKey,a=e.highlightedApplicationKey,u=e.onMouseEnter,l=e.onMouseLeave,s=e.onContextMenu,c=e.setRef,d=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,D),f=n.key===r,p=n.key===a;return o.createElement("div",{className:(0,i.default)((t={},t[w.default.rowWrapperActive]=f&&!p,t[w.default.rowWrapperGlow]=p,t[w.default.rowWrapper]=!f&&!p,t[w.default.rowWrapperDim]=!f&&!n.isLaunchable,t)),ref:function(e){function t(t){return e.apply(this,arguments)}t.toString=function(){return e.toString()};return t}((function(e){return c(e,n.key)})),
onMouseEnter:function(){return u(n)},onMouseLeave:l,onContextMenu:function(e){return s(e,n)}},o.createElement("div",d))};q.displayName="Row";var X=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;W(e,t)}(t,e);function t(){for(var t,r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];(t=e.call.apply(e,[this].concat(a))||this)._didUnmount=!1;t._rowRefs={};t.state={overflowMenuRowKey:null,highlightedApplicationKey:null!=t.props.location.state?t.props.location.state.applicationId:null};t.setActiveRowKey=function(e){t.setState({overflowMenuRowKey:e.key})};t.clearActiveRowKey=function(){t._didUnmount||t.setState({overflowMenuRowKey:null})};t.handleRowMouseEnter=function(e){t.props.isNavigatingByKeyboard||f.updateActiveRowKey(e.key)};t.handleRowMouseLeave=function(){t.props.isNavigatingByKeyboard||f.updateActiveRowKey(null)};t.setRowRef=function(e,n){t._rowRefs[n]=e};t.handleApplicationContextMenu=function(e,r){t.setActiveRowKey(r)
;var a=t.props.analyticsContext;(0,d.openContextMenuLazy)(e,x(regeneratorRuntime.mark((function e(){var t,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(66196).then(n.bind(n,266196));case 2:t=e.sent;i=t.default;return e.abrupt("return",(function(e){return o.createElement(i,V({},e,{applicationId:r.libraryApplication.id,branchId:r.libraryApplication.branchId,analyticsContext:a}))}));case 5:case"end":return e.stop()}}),e)}))),{onClose:t.clearActiveRowKey})};return t}var r=t.prototype;r.componentDidMount=function(){if(this.props.fetched){this.handleHighlightedApplicationKey();this.trackViewed()}};r.componentWillUnmount=function(){this._didUnmount=!0};r.componentDidUpdate=function(e){if(!e.fetched&&this.props.fetched){this.handleHighlightedApplicationKey();this.trackViewed()}var t=this.props.activeRowKey;if(null!=t&&e.activeRowKey!==t&&this.props.isNavigatingByKeyboard){var n=this._rowRefs[t];if(null!=n){
c.default.wait(d.closeContextMenu);this.props.scrollToRow(n,H)}}};r.handleHighlightedApplicationKey=function(){var e=this,t=this.state.highlightedApplicationKey;if(null!=t&&null!=this._rowRefs[t]){this.props.scrollToRow(this._rowRefs[t],H);(new s.Timeout).start(Y,(function(){e._didUnmount||e.setState({highlightedApplicationKey:null})}))}};r.trackViewed=function(){for(var e,t={num_applications_total:0,num_applications_discord:0,num_applications_steam:0,num_applications_battlenet:0,num_applications_twitch:0,num_applications_uplay:0,num_applications_origin:0,num_applications_gog:0,num_applications_epic:0},n=this.props,r=n.analyticsContext,a=U(n.applicationViewItems);!(e=a()).done;){switch(e.value.libraryApplication.getDistributor()){case N.Distributors.DISCORD:t.num_applications_discord++;break;case N.Distributors.STEAM:t.num_applications_steam++;break;case N.Distributors.BATTLENET:t.num_applications_battlenet++;break;case N.Distributors.TWITCH:t.num_applications_twitch++;break
;case N.Distributors.UPLAY:t.num_applications_uplay++;break;case N.Distributors.ORIGIN:t.num_applications_origin++;break;case N.Distributors.GOG:t.num_applications_gog++;break;case N.Distributors.EPIC:t.num_applications_epic++}t.num_applications_total++}T.default.track(N.AnalyticEvents.LIBRARY_VIEWED,V({},t,{load_id:r.loadId}))};r.handleSort=function(e,t){f.sortList(e,t)};r.renderImportHelp=function(){var e,t=this.props,n=t.applicationViewItems,r=t.filterQuery,a=n.length>0;if(a)return null;e=""!==r?R.default.Messages.APPLICATION_LIBRARY_EMPTY_SEARCH_DESCRIPTION.format({query:r}):R.default.Messages.APPLICATION_LIBRARY_EMPTY_STATE_DESCRIPTION_NO_IMPORT;return B("div",{className:a?w.default.emptyStateSmall:w.default.emptyStateLarge},void 0,B("div",{className:w.default.emptyWumpus}),B(_.default,{grow:0,shrink:a?1:0,direction:_.default.Direction.VERTICAL},void 0,B("div",{className:w.default.emptyStateText},void 0,B("h5",{className:w.default.emptyStateHeader
},void 0,R.default.Messages.APPLICATION_LIBRARY_EMPTY_STATE_HEADER),B("div",{className:w.default.emptyStateDescription},void 0,e))))};r.render=function(){var e=this.props,t=e.sortKey,n=e.sortDirection,r=e.applicationViewItems,a=e.activeRowKey,i=e.stickyHeader,u=this.state,l=u.overflowMenuRowKey,s=u.highlightedApplicationKey;return B(o.Fragment,{},void 0,r.length>0?B(O.default,{columns:$,data:r,sortData:!1,rowComponent:q,className:w.default.table,headerClassName:i?w.default.stickyHeader:w.default.header,headerCellClassName:w.default.headerCell,sortedHeaderCellClassName:w.default.headerCellSorted,bodyCellClassName:w.default.bodyCell,rowClassName:w.default.row,sortKey:t,sortDirection:n,stickyHeader:i,rowProps:{activeRowKey:null!=l?l:a,highlightedApplicationKey:s,onMouseEnter:this.handleRowMouseEnter,onMouseLeave:this.handleRowMouseLeave,onContextMenu:this.handleApplicationContextMenu,setRef:this.setRowRef},cellProps:{activeRowKey:null!=l?l:a,
onContextMenu:this.handleApplicationContextMenu,setActiveRowKey:this.setActiveRowKey,clearActiveRowKey:this.clearActiveRowKey,sortKey:t,sortDirection:n},onSort:this.handleSort}):null,this.renderImportHelp())};return t}(o.PureComponent);X.displayName="GameList";X.defaultProps={stickyHeader:!1};function Q(e){var t=o.useContext(T.AnalyticsContext),n=(0,u.useLocation)(),r=(0,l.useStateFromStoresObject)([y.default],(function(){return{applicationViewItems:y.default.sortedFilteredLibraryApplicationViewItems,filterQuery:y.default.applicationFilterQuery,fetched:y.default.hasFetchedApplications}})),a=r.applicationViewItems,i=r.filterQuery,s=r.fetched,c=(0,l.useStateFromStoresObject)([h.default],(function(){return{sortKey:h.default.sortKey,sortDirection:h.default.sortDirection,activeRowKey:h.default.activeRowKey,isNavigatingByKeyboard:h.default.isNavigatingByKeyboard}})),d=c.sortKey,f=c.sortDirection,p=c.activeRowKey,v=c.isNavigatingByKeyboard;return o.createElement(X,V({},e,{analyticsContext:t,
location:n,applicationViewItems:a,filterQuery:i,fetched:s,sortKey:d,sortDirection:f,activeRowKey:p,isNavigatingByKeyboard:v}))}Q.displayName="ConnectedGameList"},46059:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=d(n(294184)),i=d(n(530250)),u=d(n(409236)),l=d(n(872705)),s=d(n(247001)),c=d(n(997050));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}
function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(e,t){v=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return v(e,t)}function y(e){return e>1e3?s.default.Messages.FILE_RATE_MB.format({size:Math.round(e/1e3)}):s.default.Messages.FILE_RATE_KB.format({size:Math.round(e)})}var h=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;v(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).renderBody=function(e,n,r){
var a=t.props,l=a.title,s=a.className,d=a.color,f=a.animate,v=a.gradientStopColor;return p("div",{className:(0,o.default)(c.default.monitor,s)},void 0,p(i.default,{align:i.default.Align.CENTER},void 0,p(i.default,{className:c.default.text,direction:i.default.Direction.VERTICAL},void 0,p("div",{className:c.default.title},void 0,l),p("div",{className:c.default.rate},void 0,y(e[e.length-1]/n*1e3))),p("div",{className:c.default.overflowContainer},void 0,p(u.default,{data:e,maxValue:Math.max(Math.max.apply(null,e),1e3),className:c.default.sparkChart,updateInterval:n,color:d,gradientStopColor:v,numUpdatesToShow:r,animate:f,pixelWidth:600,pixelHeight:48,lineWidth:4}))))};return t}t.prototype.render=function(){return p(l.default,{getHistoricalTotalBytes:this.props.getHistoricalTotalBytes},void 0,this.renderBody)};return t}(a.PureComponent);h.displayName="GameUpdateActivityMonitor";var m=h;t.default=m},351345:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.default=void 0;var r,a,o,i,u,l=Y(n(667294)),s=V(n(294184)),c=V(n(496486)),d=V(n(536211)),f=V(n(636602)),p=Y(n(378158)),v=Y(n(27555)),y=V(n(758269)),h=V(n(257175)),m=V(n(864345)),_=V(n(288356)),g=V(n(191839)),E=V(n(871778)),O=V(n(432310)),S=V(n(693399)),b=V(n(949898)),I=V(n(956117)),C=V(n(530250)),T=V(n(562475)),A=n(73393),P=V(n(791931)),M=V(n(961664)),N=V(n(425991)),R=V(n(730977)),w=V(n(495526)),D=V(n(259530)),L=V(n(339759)),k=V(n(118138)),j=n(771855),U=Y(n(811076)),G=V(n(872705)),F=V(n(46059)),x=n(770348),W=V(n(247001)),B=V(n(118343));function V(e){return e&&e.__esModule?e:{default:e}}function H(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(H=function(e){return e?n:t})(e)}function Y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=H(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function z(e){return function(e){if(Array.isArray(e))return K(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $(e,t){
for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function q(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;X(e,t)}function X(e,t){X=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return X(e,t)}function Q(){Q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return Q.apply(this,arguments)}function Z(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function J(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Z(o,r,a,i,u,"next",e)}function u(e){Z(o,r,a,i,u,"throw",e)}i(void 0)}))}}function ee(e,t,n,r){u||(u="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,o=arguments.length-3
;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var i=new Array(o),l=0;l<o;l++)i[l]=arguments[l+3];t.children=i}if(t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});return{$$typeof:u,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var te=function(e){var t=e.className,n=e.children,r=e.onContextMenu,a=e.item;return ee("div",{className:t,onContextMenu:function(e){return r(e,a)}},void 0,n)};te.displayName="Row";var ne=[x.Colors.LINK,"var(--interactive-normal)"],re=function(e){var t=e.tooltip,n=e.onClick,r=e.icon;return ee(R.default,{text:t},void 0,(function(e){var a=e.onMouseEnter,o=e.onMouseLeave;return ee(I.default,{"aria-label":t,className:B.default.actionButton,innerClassName:B.default.actionButtonContents,color:I.default.Colors.PRIMARY,size:I.default.Sizes.ICON,onClick:n,onMouseEnter:a,onMouseLeave:o},void 0,ee(r,{className:B.default.actionIcon}))}))};re.displayName="ActionButton";function ae(e,t){switch(t){
case x.DispatchApplicationStages.POST_INSTALL_SCRIPTS:case x.DispatchApplicationStages.PLANNING:case x.DispatchApplicationStages.FINALIZING:case x.DispatchApplicationStages.ALLOCATING_DISK:return""+e;default:return(0,j.formatSize)(e,{useKibibytes:!0})}}var oe=((i={})[x.LocalDispatchApplicationStates.INSTALLING]=((r={})[A.TimeUnits.NONE]=function(e,t,n,r){return W.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING.format({percent:e,progress:t,total:n})},r[A.TimeUnits.SECONDS]=function(e,t,n,r){return W.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING_SECONDS.format({percent:e,progress:t,total:n,timeRemaining:r})},r[A.TimeUnits.MINUTES]=function(e,t,n,r){return W.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING_MINUTES.format({percent:e,progress:t,total:n,timeRemaining:r})},r[A.TimeUnits.HOURS]=function(e,t,n,r){return W.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING_HOURS.format({percent:e,progress:t,total:n,timeRemaining:r})},r),
i[x.LocalDispatchApplicationStates.UPDATING]=((a={})[A.TimeUnits.NONE]=function(e,t,n,r){return W.default.Messages.GAME_LIBRARY_UPDATES_UPDATING.format({percent:e,progress:t,total:n})},a[A.TimeUnits.SECONDS]=function(e,t,n,r){return W.default.Messages.GAME_LIBRARY_UPDATES_UPDATING_UPDATING_SECONDS.format({percent:e,progress:t,total:n,timeRemaining:r})},a[A.TimeUnits.MINUTES]=function(e,t,n,r){return W.default.Messages.GAME_LIBRARY_UPDATES_UPDATING_UPDATING_MINUTES.format({percent:e,progress:t,total:n,timeRemaining:r})},a[A.TimeUnits.HOURS]=function(e,t,n,r){return W.default.Messages.GAME_LIBRARY_UPDATES_UPDATING_UPDATING_HOURS.format({percent:e,progress:t,total:n,timeRemaining:r})},a),i[x.LocalDispatchApplicationStates.REPAIRING]=((o={})[A.TimeUnits.NONE]=function(e,t,n,r){return W.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING.format({percent:e,progress:t,total:n})},o[A.TimeUnits.SECONDS]=function(e,t,n,r){return W.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING_SECONDS.format({
percent:e,progress:t,total:n,timeRemaining:r})},o[A.TimeUnits.MINUTES]=function(e,t,n,r){return W.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING_MINUTES.format({percent:e,progress:t,total:n,timeRemaining:r})},o[A.TimeUnits.HOURS]=function(e,t,n,r){return W.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING_HOURS.format({percent:e,progress:t,total:n,timeRemaining:r})},o),i);function ie(e,t,n,r,a){var o=null!=e?e/60:null,i=oe[t],u=null!=i?Object.keys(i):[],l=(0,A.getTimeAndUnit)(o,u),s=l.unit,c=l.time;if(null!=i&&null!=s){var d=i[s];return null!=d?d(n,r,a,c):null}return null}function ue(e){var t=e.type,n=e.stage,r=e.percent,a=e.progress,o=e.total,i=e.secondsRemaining,u=ae(o,n),l=ae(a,n);switch(n){case x.DispatchApplicationStages.QUEUED:return 0===a?W.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_WAITING_FOR_ANOTHER_NO_TRANSITION:W.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_WAITING_FOR_ANOTHER.format({percent:r,progress:l,total:u});case x.DispatchApplicationStages.PLANNING:
return W.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_PLANNING.format({percent:r});case x.DispatchApplicationStages.ALLOCATING_DISK:return W.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_ALLOCATING_DISK.format({percent:r});case x.DispatchApplicationStages.PATCHING:return ie(i,t,r,l,u);case x.DispatchApplicationStages.FINALIZING:return W.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_FINALIZING.format({percent:r});case x.DispatchApplicationStages.PAUSING:return W.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_PAUSING.format({percent:r,progress:l,total:u});case x.DispatchApplicationStages.VERIFYING:return W.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_VERIFYING.format({percent:r,progress:l,total:u});case x.DispatchApplicationStages.POST_INSTALL_SCRIPTS:return W.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_POST_INSTALL_SCRIPTS.format({percent:r,progress:l,total:u});case x.DispatchApplicationStages.REPAIRING:
return t===x.LocalDispatchApplicationStates.REPAIRING?ie(i,t,r,l,u):W.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_REPAIRING.format({percent:r,progress:l,total:u})}throw new Error("Invalid Dispatch stage")}var le="name",se="progress",ce="actions",de=function(e){q(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).renderProgressPatchingBody=function(e,n){var r=t.props.item.state;if(null==r)return null;var a=r.stage,o=r.progress,i=r.total,u=r.type,l=r.readerProgress;if(null==o||null==i||null==a)return null;var s=U.calculateProgressPercentage(o,i),c=U.calculateProgressPercentage(null!=l?l:0,i),d=e[e.length-1]/n*1e3,f=i-o,p=0!==d?Math.max(1,f/d):null,v=ue({type:u,stage:a,percent:Math.floor(s),progress:o,total:i,secondsRemaining:p});return t.renderStackedProgress({percents:[s,c],message:v})};return t}var n=t.prototype;n.renderBody=function(e){
var t=e.percent,n=e.foregroundColor,r=e.foregroundGradientColor,a=e.message;return ee(C.default,{direction:C.default.Direction.VERTICAL},void 0,ee(P.default,{percent:t,size:P.default.Sizes.SMALL,foregroundColor:n,foregroundGradientColor:r,animate:this.isFocused}),ee("div",{className:B.default.progressCellText},void 0,null!=a?a:""))};n.renderStackedProgress=function(e){var t=e.percents,n=e.message;return ee(C.default,{direction:C.default.Direction.VERTICAL},void 0,ee(M.default,{percents:t,size:P.default.Sizes.SMALL,foregroundColors:ne,animate:this.isFocused}),ee("div",{className:B.default.progressCellText},void 0,null!=n?n:""))};n.renderFinished=function(){var e=this.props.item;return this.renderBody({message:W.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_FINISHED.format({remove:function(){return v.removeFinished(e.applicationId,e.branchId)}}),foregroundColor:e.theme===x.ThemeTypes.LIGHT?x.Colors.PRIMARY_DARK_300:x.Colors.PRIMARY_DARK,percent:100})};n.renderQueued=function(){
var e,t,n=this.props.item,r=n.state,a=n.theme;if(null!=r){var o=r.progress,i=r.total,u=r.stage;if(null!=o&&null!=i){var l=ae(i,u),s=ae(o,u);t=U.calculateProgressPercentage(o,i);var c=Math.floor(t);e=u===x.DispatchApplicationStages.PAUSING?W.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_PAUSING.format({percent:c,progress:s,total:l}):W.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_QUEUED.format({percent:c,progress:s,total:l})}}if(null==t||null==e){t=0;e=W.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_QUEUED_NO_TRANSITION}return this.renderBody({percent:t,foregroundColor:a===x.ThemeTypes.LIGHT?x.Colors.PRIMARY_DARK_300:x.Colors.PRIMARY_DARK,message:e})};n.renderPaused=function(){var e=this.props.item,t=e.state,n=e.theme;if(null==t)return null;var r=t.progress,a=t.total;if(null==r||null==a)return null
;var o=U.calculateProgressPercentage(r,a),i=Math.floor(o),u=0===r&&1===a?W.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_PAUSED_NO_TRANSITION:W.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_PAUSED.format({percent:i,progress:(0,j.formatSize)(r),total:(0,j.formatSize)(a)});return this.renderBody({message:u,foregroundColor:n===x.ThemeTypes.LIGHT?x.Colors.PRIMARY_DARK_300:x.Colors.PRIMARY_DARK,percent:o})};n.renderProgressPatching=function(){return ee(G.default,{getHistoricalTotalBytes:O.default.getHistoricalTotalBytesWritten,updateInterval:5e3},void 0,this.renderProgressPatchingBody)};n.renderProgressDefault=function(){var e=this.props.item.state;if(null==e)return null;var t=e.total,n=e.progress,r=e.stage,a=e.type;if(null==t||null==n||null==r)return null;var o=U.calculateProgressPercentage(n,t),i=Math.floor(o);return this.renderBody({percent:o,message:ue({type:a,stage:r,percent:i,progress:n,total:t}),foregroundColor:x.Colors.LINK})};n.renderProgress=function(){
var e=this.props.item.state;switch(null!=e?e.stage:null){case x.DispatchApplicationStages.PATCHING:case x.DispatchApplicationStages.REPAIRING:return this.renderProgressPatching();default:return this.renderProgressDefault()}};n.render=function(){var e=this.props,t=e.item,n=e.cellProps;return t.finished?this.renderFinished():t.index>0?this.renderQueued():null==t.state||t.state.type!==x.LocalDispatchApplicationStates.UPDATING&&t.state.type!==x.LocalDispatchApplicationStates.REPAIRING&&t.state.type!==x.LocalDispatchApplicationStates.INSTALLING?null:null!=n&&n.paused?this.renderPaused():this.renderProgress()};!function(e,t,n){t&&$(e.prototype,t);n&&$(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"isFocused",get:function(){var e=this.props.cellProps;return null!=e&&e.isFocused}}]);return t}(l.PureComponent);de.displayName="ProgressCell";var fe=function(){return ee(re,{icon:k.default,tooltip:W.default.Messages.GAME_LIBRARY_UPDATES_ACTION_RESUME,onClick:function(){
return v.resume()}})};fe.displayName="ResumeButton";var pe=function(){return ee(re,{icon:L.default,tooltip:W.default.Messages.GAME_LIBRARY_UPDATES_ACTION_PAUSE,onClick:function(){return v.pause()}})};pe.displayName="PauseButton";var ve=function(e){var t=e.item;return ee(re,{icon:w.default,tooltip:W.default.Messages.GAME_LIBRARY_UPDATES_ACTION_MOVE_UP,onClick:function(){return v.moveUp(t.applicationId,t.branchId)}})};ve.displayName="MoveUpButton";var ye=function(e){var t=e.item;return ee(re,{icon:D.default,tooltip:W.default.Messages.GAME_LIBRARY_UPDATES_ACTION_REMOVE,onClick:function(){return v.cancel(t.applicationId,t.branchId)}})};ye.displayName="CancelButton";var he=ee(fe,{}),me=[{key:le,cellClassName:B.default.nameCell,render:function(e){return ee(C.default,{align:C.default.Align.CENTER},void 0,ee(T.default,{game:e.application,className:B.default.gameIcon,size:T.default.Sizes.SMALL}),ee("div",{className:B.default.nameCellText},void 0,e.application.name))}},{key:se,
cellClassName:B.default.progressCell,headerCellClassName:B.default.progressCellHeader,bodyCellClassName:B.default.progressCellBody,render:function(e,t){return ee(de,{item:e,cellProps:t})}},{key:ce,cellClassName:B.default.actionsCell,render:function(e,t){var n,r;if(e.finished)n=null!=e.libraryApplication?ee(y.default,{libraryApplication:e.libraryApplication,size:I.default.Sizes.SMALL,className:B.default.gameActionButton,source:x.AnalyticsLocations.APPLICATION_LIBRARY_UPDATES}):null;else if(null!=e.state){if(e.state.type!==x.LocalDispatchApplicationStates.UP_TO_DATE){n=e.index>0?ee(ve,{item:e}):null!=t&&t.paused?he:ee(pe,{item:e});r=ee(ye,{item:e})}}else r=ee(ye,{item:e});return ee(C.default,{justify:C.default.Justify.END},void 0,n,r)}}],_e=function(e){q(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).isUnmounted=!1;t.isTallerThanHalfViewport=!1;t.throttledUpdateHeight=c.default.throttle((function(){
if(!t.isUnmounted){var e=t.props,n=e.height,r=e.onHeightTallerThanHalfViewportChange,a=n>window.innerHeight/2;if(t.isTallerThanHalfViewport!==a){t.isTallerThanHalfViewport=a;r(a)}}}),1e3);return t}var r=t.prototype;r.componentDidMount=function(){window.addEventListener("resize",this.throttledUpdateHeight)};r.componentDidUpdate=function(e){this.props.height!==e.height&&this.throttledUpdateHeight()};r.componentWillUnmount=function(){this.props.applications.forEach((function(e){e.finished&&f.default.wait((function(){v.removeFinished(e.applicationId,e.branchId)}))}));window.removeEventListener("resize",this.throttledUpdateHeight);this.isUnmounted=!0};r.render=function(){var e=this.props,t=e.applications,r=e.paused,a=e.isFocused,o=e.theme,i=e.analyticsContext;return 0===t.length?null:ee("div",{className:B.default.gameUpdates},void 0,ee("div",{className:B.default.headerRow},void 0,ee(F.default,{className:(0,s.default)(B.default.headerCell,B.default.networkProgress),
title:W.default.Messages.GAME_LIBRARY_UPDATES_HEADER_NETWORK,getHistoricalTotalBytes:O.default.getHistoricalTotalBytesDownloaded,color:x.Colors.STATUS_GREEN_600,animate:a}),ee(F.default,{className:(0,s.default)(B.default.headerCell,B.default.diskProgress),title:W.default.Messages.GAME_LIBRARY_UPDATES_HEADER_DISK,getHistoricalTotalBytes:O.default.getHistoricalTotalBytesWritten,color:x.Colors.LINK,animate:a})),ee(N.default,{hasHeader:!1,columns:me,data:t,className:B.default.table,rowClassName:B.default.row,rowComponent:te,cellProps:{paused:r,isFocused:a,theme:o},rowProps:{onContextMenu:function(e,t){return function(e,t,r){p.openContextMenuLazy(e,J(regeneratorRuntime.mark((function e(){var a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(66196).then(n.bind(n,266196));case 2:a=e.sent;o=a.default;return e.abrupt("return",(function(e){return l.createElement(o,Q({},e,{applicationId:t.applicationId,branchId:t.branchId,analyticsContext:r}))
}));case 5:case"end":return e.stop()}}),e)}))))}(e,t,i)}},bodyCellClassName:B.default.cell}))};return t}(l.PureComponent);_e.displayName="GameUpdates";function ge(e,t,n,r){return e.reduce((function(e,a,o){var i=a.applicationId,u=a.branchId,l=n.getGame(i),s=r.getState(i,u);null!=l&&e.push({key:i+":"+u,applicationId:i,branchId:u,state:s,application:l,libraryApplication:g.default.getLibraryApplication(i,u),finished:t,index:o});return e}),[])}var Ee=(0,m.default)(d.default.connectStores([S.default,E.default,b.default,_.default,O.default],(function(){var e=ge(S.default.activeItems,!1,_.default,O.default),t=ge(S.default.finishedItems,!0,_.default,O.default);return{applications:[].concat(z(e),z(t)),paused:S.default.paused,isFocused:b.default.isFocused(),theme:E.default.theme}}))((0,h.default)(_e)));t.default=Ee},215850:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.TestModeSKUButtonEnums=void 0
;var r,a=h(n(667294)),o=v(n(536211)),i=h(n(378158)),u=v(n(713257)),l=h(n(145122)),s=v(n(288356)),c=v(n(399561)),d=n(204785),f=v(n(247001)),p=["skus","children","applicationId","primarySKU","onSKUSelect"];function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function m(){m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}
return e};return m.apply(this,arguments)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(e,t){g=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return g(e,t)}var E={DropdownSizes:u.default.DropdownSizes,Sizes:u.default.Sizes,Colors:u.default.Colors,Looks:u.default.Looks};t.TestModeSKUButtonEnums=E;var O=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;g(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).renderContextMenu=function(){
var e=t.props,n=e.skus,r=e.onSKUSelect,a=e.onMenuSelect;return _(l.default,{onSelect:a,navId:"test-skus","aria-label":f.default.Messages.GENERIC_ACTIONS_MENU_LABEL,onClose:i.closeContextMenu},void 0,n.map((function(e){return _(l.MenuItem,{id:""+e.id,label:e.name,action:function(){null==r||r(e)}})})))};t.handleContextMenu=function(e){e.stopPropagation();i.openContextMenu(e,t.renderContextMenu)};t.handleClick=function(){var e=t.props,n=e.onSKUSelect,r=e.primarySKU;null!=r&&(null==n||n(r))};return t}t.prototype.render=function(){var e=this.props,t=e.skus,n=e.children,r=(e.applicationId,e.primarySKU,e.onSKUSelect,function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,p));return a.createElement(u.default,m({onClick:this.handleClick,onDropdownClick:t.length>0?this.handleContextMenu:null,onContextMenu:t.length>0?this.handleContextMenu:void 0},r),n)};return t}(a.PureComponent);O.displayName="TestModeSKUButton"
;var S=o.default.connectStores([c.default,s.default],(function(e){var t,n=e.applicationId,r=(0,d.getPrimarySKUForApplication)(n,s.default,c.default);return{skus:(null!==(t=c.default.getForApplication(n))&&void 0!==t?t:[]).sort((function(e,t){return null!=r&&e.id===r.id?-1:null!=r&&t.id===r.id?1:e.name>=t.name?-1:1})),primarySKU:r}}))(O);t.default=S},629195:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=oe
;var r,a=q(n(667294)),o=K(n(294184)),i=K(n(496486)),u=K(n(817673)),l=n(370405),s=K(n(74854)),c=q(n(536211)),d=K(n(636602)),f=n(598319),p=n(297279),v=n(306902),y=n(328092),h=n(364060),m=n(298756),_=K(n(545721)),g=K(n(734696)),E=q(n(473124)),O=n(473250),S=K(n(768535)),b=n(376153),I=K(n(39365)),C=n(139982),T=n(887299),A=K(n(8549)),P=q(n(199846)),M=K(n(30098)),N=K(n(871778)),R=K(n(728429)),w=K(n(194198)),D=K(n(956117)),L=n(772575),k=K(n(80828)),j=n(645758),U=n(235742),G=q(n(465537)),F=K(n(651386)),x=n(263996),W=n(770348),B=n(227445),V=K(n(247001)),H=K(n(599884)),Y=K(n(80210)),z=K(n(333993));function K(e){return e&&e.__esModule?e:{default:e}}function $(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return($=function(e){return e?n:t})(e)}function q(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=$(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function X(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function Q(){Q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return Q.apply(this,arguments)}function Z(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function J(e){
return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Z(o,r,a,i,u,"next",e)}function u(e){Z(o,r,a,i,u,"throw",e)}i(void 0)}))}}function ee(e,t){ee=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return ee(e,t)}var te=X(k.default,{}),ne=X(l.Helmet,{title:"Discord"}),re=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;ee(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(t=e.call.apply(e,[this].concat(r))||this)._scroller=a.createRef();t._guildIdsSeen=new Set;t.loadId=(0,h.makeAnalyticsID)();t.state={animatedValue:new s.default.Value(0),loadingGuildId:null};t.scrollToTop=function(){null!=t._scroller.current&&t._scroller.current.scrollTo({to:0})};t.handleScroll=function(){var e,n,r=t.state.animatedValue,a=null!==(e=null===(n=t._scroller.current)||void 0===n?void 0:n.getScrollerState().scrollTop)&&void 0!==e?e:0
;r.setValue(Math.min(1,a/200))};t.handleViewGuild=function(){var e=J(regeneratorRuntime.mark((function e(n,r,a,o){var i,u,l,s,c,d,f,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l=t.props.currentCategoryId;s=t.state.loadingGuildId;if(n!==s){e.next=4;break}return e.abrupt("return");case 4:c=null!==(i=null===(u=t._scroller.current)||void 0===u?void 0:u.getScrollerState().scrollTop)&&void 0!==i?i:0;d=(0,C.getHistory)(),f=d.location;(0,C.replaceWith)(Q({},f,{state:c}));t.setState({loadingGuildId:n});p=l!==B.DISCOVERY_ALL_CATEGORIES_ID?l:null;e.prev=9;e.next=12;return G.viewGuild({loadId:null!=o?o:t.loadId,guildId:n,index:r,analyticsContext:a,categoryId:p});case 12:e.next=17;break;case 14:e.prev=14;e.t0=e.catch(9);t.setState({loadingGuildId:null});case 17:case"end":return e.stop()}}),e,null,[[9,14]])})));return function(t,n,r,a){return e.apply(this,arguments)}}();t.handleGuildCardSeen=function(e){t._guildIdsSeen.add(e)};t.handleTagSearch=function(e,n,r){
var a=t.props,o=a.currentCategoryId,i=a.defaultLanguage;if(null!=o){(0,f.getSearchResultsCount)(e);(0,f.doAlgoliaSearch)(e,{categoryId:o,preferredLocale:i.code,offset:0,length:E.MAX_GUILDS_PER_PAGE,filters:{approximate_member_count:G.MINIMUM_MEMBER_COUNT},tag:!0});G.trackTagSearchStarted(t.loadId,o,r,n);t.scrollToTop()}};return t}var n=t.prototype;n.componentDidMount=function(){var e,t,n=this.props,r=n.isFetching,a=n.guilds,o=a.gamesYouPlay,i=a.featured,l=n.searchRoute,s=n.currentCategoryId,c=n.currentHomepageCategoryId,y=n.mostRecentQuery,h=n.usingGameRecommendations,_=n.fetchingRecommendations;(0,p.fetchActivityStatistics)();(0,m.maybeFetchGuildDiscoveryCategories)();null==P.default.getSearchIndex()&&(0,f.createAlgoliaIndex)();d.default.wait((function(){(0,v.markView)(W.ViewHistoryKeys.SERVER_DISCOVERY_BADGE)}));var g=s===B.DISCOVERY_ALL_CATEGORIES_ID;g&&!_&&(0,O.fetchGuildRecommendations)({personalization_disabled:!h});r||0!==y.length||g||G.trackDiscoveryViewed({loadId:this.loadId,
gamesYouPlayGuilds:o.guilds,allGuilds:i.guilds,categoryId:c});if(null!=l){var E=u.default.parse(l),S=E.query,b=E.offset,I=E.limit,A=E.preferredLocale,M=E.categoryId;(0,f.doAlgoliaSearch)(S,{categoryId:parseInt(M,10),preferredLocale:A,offset:parseInt(b,10),filters:{approximate_member_count:G.MINIMUM_MEMBER_COUNT},length:parseInt(I,10)})}else null!=c&&c!==B.DISCOVERY_ALL_CATEGORIES_ID&&d.default.wait((function(){return(0,f.selectCategory)(c)}));var N=null!==(e=null===(t=(0,C.getHistory)().location.state)||void 0===t?void 0:t.scrollTop)&&void 0!==e?e:0;if(N>0){var R;null===(R=this._scroller.current)||void 0===R||R.scrollTo({to:N})}(0,T.trackAppUIViewed)("guild_discovery")};n.componentDidUpdate=function(e){var t=this.props,n=t.guilds,r=n.gamesYouPlay,a=n.featured,o=t.isFetching,i=t.mostRecentQuery,u=t.currentHomepageCategoryId,l=t.currentCategoryId,s=t.usingGameRecommendations,c=t.fetchingRecommendations,d=t.recommendationsGuilds,p=t.recommendationsLoadId
;e.currentCategoryId===l||l!==B.DISCOVERY_ALL_CATEGORIES_ID||c||(0,O.fetchGuildRecommendations)({personalization_disabled:!s});var v=l===B.DISCOVERY_ALL_CATEGORIES_ID;!e.isFetching||o||v||G.trackDiscoveryViewed({loadId:this.loadId,gamesYouPlayGuilds:r.guilds,allGuilds:a.guilds,categoryId:u});if(e.currentCategoryId!==l){var y;null===(y=this._scroller.current)||void 0===y||y.scrollTo({to:0})}if(null!=p&&null!=d){e.fetchingRecommendations&&!c&&l===B.DISCOVERY_ALL_CATEGORIES_ID&&G.trackDiscoveryViewed({loadId:p,gamesYouPlayGuilds:d,allGuilds:[],categoryId:B.DISCOVERY_ALL_CATEGORIES_ID,recommendationsSource:B.RecommendationSources.SERVER_RECOMMENDATIONS});e.currentCategoryId!==l&&(l===B.DISCOVERY_ALL_CATEGORIES_ID?G.trackDiscoveryViewed({loadId:p,gamesYouPlayGuilds:d,allGuilds:[],categoryId:B.DISCOVERY_ALL_CATEGORIES_ID,recommendationsSource:B.RecommendationSources.SERVER_RECOMMENDATIONS}):G.trackDiscoveryExited(p,this.getOrderedGuildIdsSeen(d.map((function(e){return e.id
}))),B.RecommendationSources.SERVER_RECOMMENDATIONS))}e.mostRecentQuery.length>0&&i.length<1&&u!==l&&(0,f.selectCategory)(u)};n.componentWillUnmount=function(){var e=this.props,t=e.currentCategoryId,n=e.recommendationsLoadId,r=e.recommendationsGuilds;t===B.DISCOVERY_ALL_CATEGORIES_ID?null!=r&&null!=n&&G.trackDiscoveryExited(n,this.getOrderedGuildIdsSeen(r.map((function(e){return e.id}))),"Game Recommendations"):G.trackDiscoveryExited(this.loadId,Array.from(this._guildIdsSeen))};n.getOrderedGuildIdsSeen=function(e){var t=this;return e.filter((function(e){return t._guildIdsSeen.has(e)}))};n.renderGamesYouPlay=function(){var e=this.props,t=e.guilds,n=e.mightHaveGamesYouPlay,r=e.theme,a=e.userGuilds,o=Object.keys(a),i=t[W.GuildDiscoverySections.GAMES_YOU_PLAY];i.guilds=i.guilds.filter((function(e){return!o.includes(e.id)}));var u=this.state.loadingGuildId;return n?X(g.default,{loadId:this.loadId,title:V.default.Messages.GUILD_DISCOVERY_HEADER_GAMES_YOU_PLAY,guildsData:i,loadingGuildId:u,
analyticsContext:G.AnalyticsContexts.RECOMMENDED,onViewGuild:this.handleViewGuild,onGuildCardSeen:this.handleGuildCardSeen,fetchGuilds:f.fetchGamesYouPlayGuilds,theme:r}):null};n.renderSearchBar=function(){var e,t,n=this.props,r=n.mostRecentQuery,a=n.guilds.search,o=n.defaultLanguage,i=n.isFetchingSearch,u=n.currentCategoryId,l=n.categories,s=n.currentCategoryName;y.DiscoveryTagsExperiment.trackExposure({});var c=y.DiscoveryTagsExperiment.getCurrentConfig({}).shouldDisplayRecommendedSearchTags?u===B.DISCOVERY_ALL_CATEGORIES_ID?V.default.Messages.GUILD_DISCOVERY_SEARCH_PLACEHOLDER_TAGS:V.default.Messages.GUILD_DISCOVERY_CATEGORY_SEARCH_PLACEHOLDER_TAGS.format({categoryName:s}):u===B.DISCOVERY_ALL_CATEGORIES_ID?V.default.Messages.GUILD_DISCOVERY_SEARCH_PLACEHOLDER:V.default.Messages.GUILD_DISCOVERY_CATEGORY_SEARCH_PLACEHOLDER.format({categoryName:s}),d=null!==(e=null===(t=a[r])||void 0===t?void 0:t[u])&&void 0!==e?e:P.EMPTY_DISCOVERABLE_GUILDS_SECTION;return X(F.default,{
loadId:this.loadId,searchResults:d,mostRecentQuery:r,isFetchingSearch:i,defaultLanguage:o,placeholder:c,currentCategoryId:u,categories:l})};n.renderSearchResults=function(){var e,t,n=this,r=this.props,a=r.mostRecentQuery,o=r.guilds.search,i=r.availableLanguages,u=r.defaultLanguage,l=r.isFetchingSearch,s=r.theme,c=r.currentCategoryId,d=r.currentCategoryName,f=this.state.loadingGuildId,p=c===B.DISCOVERY_ALL_CATEGORIES_ID?V.default.Messages.GUILD_DISCOVERY_SEARCH_PLACEHOLDER:V.default.Messages.GUILD_DISCOVERY_CATEGORY_SEARCH_PLACEHOLDER.format({categoryName:d}),v=null!==(e=null===(t=o[a])||void 0===t?void 0:t[c])&&void 0!==e?e:P.EMPTY_DISCOVERABLE_GUILDS_SECTION;return X(E.default,{loadId:this.loadId,availableLanguages:i,defaultLanguage:u,placeholder:p,isFetchingSearch:l,searchResults:v,mostRecentQuery:a,loadingGuildId:f,currentCategoryId:c,currentCategoryName:d,scroller:this._scroller.current,theme:s,onViewGuild:this.handleViewGuild,onGuildCardSeen:this.handleGuildCardSeen,
onTagClick:function(e,t){return n.handleTagSearch(e,t,G.AnalyticsContexts.SEARCH)}})};n.renderRecommendedGuildsSection=function(){var e,t,n=this,r=this.props,a=r.theme,o=r.usingGameRecommendations,i=r.recommendationsGuilds,u=r.recommendationsLoadId;if(null==u||null==i)return te;var l={guilds:i,total:i.length,offset:0,limit:i.length,loading:!1,isFirstLoad:!1},s=null!==(e=null===(t=R.default.getCurrentUser())||void 0===t?void 0:t.username)&&void 0!==e?e:V.default.Messages.FRIENDS_COLUMN_NAME;return X(g.default,{loadId:u,title:o?V.default.Messages.GUILD_DISCOVERY_RECOMMENDATIONS_TITLE.format({username:s}):V.default.Messages.GUILD_DISCOVERY_FEATURED_HEADER,guildsData:l,analyticsContext:G.AnalyticsContexts.RECOMMENDED,onViewGuild:this.handleViewGuild,onGuildCardSeen:this.handleGuildCardSeen,fetchGuilds:function(){},loadingGuildId:null,theme:a,onTagClick:function(e,t){return n.handleTagSearch(e,t,G.AnalyticsContexts.RECOMMENDED)},showMoreCards:!0})};n.renderPopularGuildsSection=function(){
var e=this,t=this.props,n=t.guilds,r=t.theme,a=t.currentCategoryId,o=this.state.loadingGuildId;return X(g.default,{loadId:this.loadId,title:V.default.Messages.GUILD_DISCOVERY_POPULAR_HEADER,guildsData:n[a],loadingGuildId:o,analyticsContext:G.AnalyticsContexts.POPULAR,onViewGuild:this.handleViewGuild,onGuildCardSeen:this.handleGuildCardSeen,fetchGuilds:function(){return(0,f.fetchPopularGuildsForCategory)(a)},currentCategoryId:a,theme:r,onTagClick:function(t,n){return e.handleTagSearch(t,n,G.AnalyticsContexts.POPULAR)}})};n.render=function(){var e,t,n,r,u=this,l=this.props,s=l.currentCategoryName,c=l.mostRecentQuery,d=l.currentCategoryId,f=l.guilds,p=c.length>0;y.DiscoveryTagsExperiment.trackExposure({});var v=y.DiscoveryTagsExperiment.getCurrentConfig({}).shouldDisplayRecommendedSearchTags,h=d===B.DISCOVERY_ALL_CATEGORIES_ID?null===(e=f[W.GuildDiscoverySections.FEATURED])||void 0===e?void 0:e.guilds:null===(t=f[d])||void 0===t?void 0:t.guilds;return d===B.DISCORD_HUB_ID?X(I.default,{
loadId:this.loadId}):X("div",{className:H.default.pageWrapper},void 0,ne,X("div",{className:(0,o.default)(H.default.dragRegion,H.default.pageHeaderDrag,(n={},n[H.default.searchPageDrag]=p,n))}),a.createElement(U.AdvancedScrollerAuto,{className:H.default.scroller,ref:this._scroller,onScroll:this.handleScroll},X("div",{className:(0,o.default)(H.default.viewWrapper,(r={},r[H.default.searchPage]=p,r))},void 0,p?this.renderSearchResults():a.createElement(a.Fragment,null,X("div",{className:H.default.searchHeader},void 0,X("img",{alt:"",className:H.default.headerImage,src:z.default}),X("div",{className:H.default.headerContentWrapper},void 0,X("div",{className:H.default.headerContent},void 0,X(L.Heading,{variant:"heading-xl/medium",className:H.default.searchTitle,level:3},void 0,d===B.DISCOVERY_ALL_CATEGORIES_ID?V.default.Messages.GUILD_DISCOVERY_HOME_TITLE:V.default.Messages.GUILD_DISCOVERY_CATEGORY_TITLE.format({categoryName:s})),X(j.Text,{variant:"text-md/normal",
className:H.default.searchSubtitle},void 0,d===B.DISCOVERY_ALL_CATEGORIES_ID&&V.default.Messages.GUILD_DISCOVERY_HOME_SUBTITLE),this.renderSearchBar(),v&&X(x.DiscoveryTags,{hideOverflow:!0,section:G.AnalyticsContexts.HEADER,className:H.default.headerTagContainer,discoveryTagStyle:x.DiscoveryTagStyle.LIGHT,onTagClick:function(e){return u.handleTagSearch(e,void 0,G.AnalyticsContexts.HEADER)},tags:i.default.chain(h).flatMap((function(e){return e.keywords})).compact().uniq().sampleSize(10).value()})))),X("div",{className:H.default.featuredBody},void 0,d===B.DISCOVERY_ALL_CATEGORIES_ID?this.renderRecommendedGuildsSection():this.renderPopularGuildsSection()),X("div",{className:H.default.footer},void 0,X("img",{alt:"",src:Y.default,className:H.default.footerImage}),X(L.Heading,{variant:"heading-md/medium",level:3},void 0,V.default.Messages.GUILD_DISCOVERY_CATEGORY_FOOTER_TITLE),X(D.default,{look:D.default.Looks.LINK,color:D.default.Colors.LINK,size:D.default.Sizes.MIN,onClick:this.scrollToTop
},void 0,V.default.Messages.GUILD_DISCOVERY_FOOTER_BODY))))))};return t}(a.PureComponent);re.displayName="GuildDiscovery";var ae=c.default.connectStores([N.default,w.default,A.default,P.default,_.default,M.default],(function(){var e,t=B.LANGUAGE_OPTIONS,n=N.default.locale,r=null!==(e=i.default.find(t,{code:n}))&&void 0!==e?e:t[0],a=w.default.applicationStatistics,o=Object.keys(a),u=A.default.hasConsented(W.Consents.PERSONALIZATION)&&o.length>0,l=P.default.getCurrentCategoryId(),s=P.default.getCurrentHomepageCategoryId();return{isFetching:P.default.isFetching(),isFetchingSearch:P.default.isFetchingSearch(),guilds:P.default.getDiscoverableGuilds(),mostRecentQuery:P.default.getMostRecentQuery(),currentCategoryId:l,currentHomepageCategoryId:s,currentCategoryName:_.default.getCategoryName(l),categories:_.default.getDiscoveryCategories(),userGuilds:M.default.getGuilds(),theme:N.default.theme,mightHaveGamesYouPlay:u,availableLanguages:t,defaultLanguage:r}}))(re);function oe(e){var t=(0,
b.useEligibleForGameRecommendations)(),n=(0,c.useStateFromStoresObject)([S.default],(function(){return{recommendedGuilds:S.default.getRecommendedGuilds(),loadId:S.default.getLoadId(),fetching:S.default.isFetching()}})),r=n.fetching,o=n.loadId,i=n.recommendedGuilds;return a.createElement(ae,Q({},e,{fetchingRecommendations:r,usingGameRecommendations:t,recommendationsGuilds:i,recommendationsLoadId:o}))}oe.displayName="GuildDiscoveryComponent"},869333:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;h(n(667294));var r,a=n(536211),o=n(598319),i=h(n(545721)),u=v(n(332743)),l=n(841354),s=v(n(666895)),c=v(n(199846)),d=v(n(582945)),f=n(227445),p=v(n(247001));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e}
;var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(){_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return _.apply(this,arguments)}var g=function(e){switch(e){case 1:
return f.CategoryIcons.Activity;case 2:return f.CategoryIcons.Music;case 3:return f.CategoryIcons.Television;case 5:return f.CategoryIcons.Science;case 6:return f.CategoryIcons.Education;default:return f.CategoryIcons.Discover}},E=function(){var e=(0,a.useStateFromStoresObject)([c.default],(function(){return{currentCategoryId:c.default.getCurrentCategoryId(),isViewingSearchResults:c.default.getMostRecentQuery().length>0}})),t=e.currentCategoryId,n=e.isViewingSearchResults,r=(0,a.useStateFromStores)([i.default],(function(){return i.default.getDiscoveryCategories()}),[],i.areDiscoveryCategoriesEqual),f=null==r?void 0:r.map((function(e){return _({},e,{icon:g(e.categoryId)})})),v=function(e){(0,o.selectCategory)(e,!0);n&&(0,o.clearSearch)()};return m(d.default,{},void 0,m(l.DiscoverySidebarHeader,{text:p.default.Messages.DISCOVER}),m(u.default,{categories:f,handleCategorySelect:v,currentCategoryId:t,shouldDisplaySelectedCategory:!n}),m(s.default,{handleCategorySelect:v,currentCategoryId:t,
shouldDisplaySelectedCategory:!n}))};E.displayName="GuildDiscoveryCategorySidebar";var O=E;t.default=O},815428:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=l(n(817673)),i=n(139982),u=l(n(668281));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e,t){d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return d(e,t)}var f=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;d(e,t)}(t,e);function t(t){var n;(n=e.call(this,t)||this).handlePageChange=function(e){var t=n.props.onPageChange;n.setState({currentPage:e});null!=t&&t(e)};var r=(0,i.getHistory)().location.search,a=(null!=r&&r.length>0&&r.startsWith("?")?o.default.parse(r):{}).offset,u=null!=a?Math.floor(parseInt(a,10)/t.pageSize)+1:1;n.state={currentPage:u};return n}var n=t.prototype;n.componentDidUpdate=function(e){var t=this.props.resetCurrentPage;!e.resetCurrentPage&&t&&this.setState({
currentPage:1})};n.render=function(){var e=this.props,t=e.totalCount,n=e.pageSize,r=e.maxVisiblePages,a=e.children,o=this.state.currentPage;return a({controller:c(u.default,{totalCount:t,pageSize:n,currentPage:o,maxVisiblePages:r,onPageChange:this.handlePageChange})})};return t}(a.PureComponent);f.displayName="GuildDiscoveryPaginator";var p=f;t.default=p},651386:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=k;var r,a=T(n(667294)),o=I(n(294184)),i=I(n(496486)),u=n(536211),l=T(n(598319)),s=n(466492),c=n(364060),d=T(n(545721)),f=I(n(199846)),p=I(n(16941)),v=I(n(535813)),y=n(645758),h=n(967965),m=n(308920),_=n(956506),g=T(n(465537)),E=n(770348),O=n(227445),S=I(n(247001)),b=I(n(478483));function I(e){return e&&e.__esModule?e:{default:e}}function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}function T(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function A(){A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return A.apply(this,arguments)}function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o
}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function N(e,t){N=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return N(e,t)}function R(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var w=i.default.throttle(g.trackSearchResultsViewed,1e3,{leading:!1,trailing:!0}),D=function(e){var t,n=e.isSelected,r=e.onCategoryChange,a=e.categoryId,i=e.name,u=e.count;return R(p.default,{onClick:function(){return r(a)},className:(0,o.default)(b.default.categoryPill,(t={},t[b.default.selected]=n,t))},void 0,R(y.Text,{className:b.default.categoryLabel,variant:"text-sm/normal"},void 0,null!=u?i+" ("+u+")":i))};D.displayName="Category";var L=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;N(e,t)}(t,e);function t(t){var n;(n=e.call(this,t)||this)._searchRef=a.createRef();n.canSearch=function(e){return e.trim().length>=2&&!(0,s.searchQueryContainsBannedWord)(e)};n.doSearch=function(e,t,r,a){var o,i=n.props,u=i.defaultLanguage,s=i.currentCategoryId,d=n.state,f=d.query,p=d.selectedLanguage
;a&&l.getSearchResultsCount(f);n.setState({searchId:(0,c.makeAnalyticsID)(),queryHasChanged:!1,isSearching:!0});l.doAlgoliaSearch(f,{categoryId:null==r?s:r,preferredLocale:null!==(o=null==p?void 0:p.code)&&void 0!==o?o:u.code,offset:e,length:t,filters:{approximate_member_count:g.MINIMUM_MEMBER_COUNT}})};n.handleSearchBlurred=function(e){var t=n.props.onSearchBlur;n.setState({inputFocused:!1});null==t||t()};n.handleSearchKeyPress=function(e){var t=n.state,r=t.query,a=t.queryHasChanged,o=n.props,i=o.loadId,u=o.currentCategoryId,l=u!==O.DISCOVERY_ALL_CATEGORIES_ID?u:null;if(n.canSearch(r)&&a&&e.charCode===E.KeyboardKeys.ENTER){g.trackSearchStarted(i,l);n.doSearch(0,12,void 0,!0)}else 0===r.length&&e.charCode===E.KeyboardKeys.ENTER&&n.setState({isSearching:!1})};n.handleQueryChanged=function(e){n.setState({query:e,queryHasChanged:!0})};n.handleQueryCleared=function(){n.setState({query:"",queryHasChanged:!0,isSearching:!1})};n.handleLanguageChange=function(e){
var t=n.props,r=t.mostRecentQuery,a=t.availableLanguages,o=null==a?void 0:a.find((function(t){return t.name===e}));n.setState({selectedLanguage:o},(function(){n.canSearch(r)&&n.doSearch(0,12)}))};n.handleCategoryChange=function(e){var t=n.props.mostRecentQuery;l.selectCategory(e);n.canSearch(t)&&n.doSearch(0,12,e)};n.handleFocus=function(){var e=n.props.onSearchFocus;n.setState({inputFocused:!0});null==e||e()};n.focusInput=function(){var e;null===(e=n._searchRef.current)||void 0===e||e.focus()};n.state={searchId:(0,c.makeAnalyticsID)(),query:t.isSearchPage?t.mostRecentQuery:"",queryHasChanged:!1,isSearching:!1,selectedLanguage:t.defaultLanguage,inputFocused:!1,isHandlingTagSearch:t.isTagSearch||!1};return n}var n=t.prototype;n.componentDidMount=function(){var e=this.props,t=e.loadId,n=e.searchResults,r=e.currentCategoryId,a=this.state,o=a.searchId,i=a.query,u=a.isHandlingTagSearch,s=this.context;null==f.default.getSearchIndex()&&l.createAlgoliaIndex()
;_.ComponentDispatch.subscribe(E.ComponentActions.GLOBAL_CLIPBOARD_PASTE,this.focusInput);_.ComponentDispatch.subscribe(E.ComponentActions.TEXTAREA_FOCUS,this.focusInput);if(i.length>0){var c=r!==O.DISCOVERY_ALL_CATEGORIES_ID?r:null;w({loadId:t,searchId:o,query:i,guildResults:n.guilds,analyticsContext:s,categoryId:c,isTagSearch:u})}};n.componentDidUpdate=function(e,t){var n=this.props,r=n.loadId,a=n.isFetchingSearch,o=n.searchResults,i=n.currentCategoryId,u=n.mostRecentQuery,l=this.state,s=l.isSearching,d=l.searchId,f=l.query,p=l.isHandlingTagSearch,v=this.context,y=e.isFetchingSearch&&!a,h=i!==O.DISCOVERY_ALL_CATEGORIES_ID?i:null;if((s||p)&&y){w({loadId:r,searchId:d,query:f,guildResults:o.guilds,analyticsContext:v,categoryId:h,isTagSearch:p});this.setState({isHandlingTagSearch:!1})}!t.isSearching&&s&&g.trackSearchStarted(r,h,v);e.mostRecentQuery!==u&&this.setState({query:u,searchId:(0,c.makeAnalyticsID)(),isHandlingTagSearch:!0})};n.componentWillUnmount=function(){
_.ComponentDispatch.unsubscribe(E.ComponentActions.GLOBAL_CLIPBOARD_PASTE,this.focusInput);_.ComponentDispatch.unsubscribe(E.ComponentActions.TEXTAREA_FOCUS,this.focusInput)};n.renderSearchOptions=function(){var e,t=this.props.availableLanguages,n=this.state.selectedLanguage;if(null==t)return null;var r=t.map((function(e){var t=e.name;return{label:t,value:t}}));return R(h.SingleSelect,{className:b.default.languageSelector,options:r,value:null!==(e=null==n?void 0:n.name)&&void 0!==e?e:"",onChange:this.handleLanguageChange,maxVisibleItems:6})};n.renderCategories=function(){var e=this,t=this.props,n=t.currentCategoryId,r=t.countsByCategory;return R("div",{className:b.default.categories},void 0,null==r?void 0:r.map((function(t){var r=P(t,2),a=r[0],o=r[1];return R(D,{categoryId:a,name:a===O.DISCOVERY_ALL_CATEGORIES_ID?S.default.Messages.GUILD_DISCOVERY_ALL_CATEGORY_FILTER:d.default.getCategoryName(a),onCategoryChange:e.handleCategoryChange,isSelected:n===a,count:o},a)})))}
;n.render=function(){var e,t=this.state,n=t.query,r=t.inputFocused,i=this.props,u=i.placeholder,l=i.isSearchPage;return a.createElement(a.Fragment,null,R("div",{className:(0,o.default)(b.default.container,(e={},e[b.default.searchPage]=l,e))},void 0,R("div",{className:b.default.search},void 0,a.createElement(v.default,{ref:this._searchRef,searchTerm:n,className:l?void 0:b.default.searchBox,inputClassName:l?void 0:b.default.searchBoxInput,closeIconClassName:l?void 0:b.default.closeIcon,searchIconClassName:l?void 0:b.default.searchIcon,label:S.default.Messages.GUILD_DISCOVERY_SEARCH_LABEL,placeholder:u,onChange:this.handleQueryChanged,onClear:this.handleQueryCleared,onFocus:this.handleFocus,onBlur:this.handleSearchBlurred,onKeyPress:this.handleSearchKeyPress,autoFocus:!l,cta:r&&null!=n&&n.length>1?S.default.Messages.GUILD_DISCOVERY_SEARCH_ENTER_CTA:null})),l?this.renderSearchOptions():null),l?this.renderCategories():null)};return t}(a.PureComponent)
;L.displayName="GuildDiscoverySearchBarComponent";L.contextType=m.AnalyticsContext;function k(e){var t=(0,u.useStateFromStores)([d.default],(function(){return d.default.getDiscoveryCategories()}),[],d.areDiscoveryCategoriesEqual),n=(0,u.useStateFromStores)([f.default],(function(){return f.default.getTopCategoryCounts(e.mostRecentQuery)}));return a.createElement(L,A({},e,{categories:t,countsByCategory:n}))}k.displayName="GuildDiscoverySearchBar"},263996:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.DiscoveryTags=t.DiscoveryTagStyle=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e
;n&&n.set(e,r);return r}(n(667294)),o=p(n(294184)),i=p(n(673997)),u=p(n(16941)),l=p(n(265851)),s=p(n(160629)),c=p(n(308920)),d=n(770348),f=p(n(983294));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(){m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return m.apply(this,arguments)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,
_owner:null}}var g=["egirl","egirls","waifu","dating","nsfw","sex","playboy","stupid","harem","playgirl","shitcoin","shitpost","porno","nudes","sexy","horny","fart","tits","balls","cum"],E=function(e){var t,n=e.text,r=e.onClick,a=e.className,i=e.hide;return _("li",{className:(0,o.default)(f.default.tag,a,(t={},t[f.default.hide]=i,t))},void 0,_(u.default,{className:f.default.tagText,onClick:function(e){e.stopPropagation();e.preventDefault();r(e)}},void 0,n))};E.displayName="DiscoveryTag";var O=function(e){var t=e.tags,n=e.onTagClick,r=e.guildId,o=e.section;a.useEffect((function(){c.default.track(d.AnalyticEvents.OPEN_POPOUT,{type:"Discovery Tags Overflow",guild_id:r,location:{page:d.AnalyticsPages.GUILD_DISCOVERY,section:o}})}),[r,o]);return _(l.default,{className:f.default.overflowTagsPopout},void 0,_("ul",{},void 0,t.map((function(e){return _(E,{onClick:function(){return n(e)},className:f.default.tagAlt,text:e},e)}))))};O.displayName="DiscoveryTagsPopout";var S=function(e){
var t=e.className,n=e.count;return _(s.default,{renderPopout:function(){return a.createElement(O,e)},position:s.default.Positions.RIGHT,align:s.default.Align.TOP,closeOnScroll:!0},void 0,(function(e){return a.createElement(E,m({className:t},e,{text:"+"+n}))}))};S.displayName="DiscoveryTagsOverflowButton";var b={DEFAULT:f.default.tagDefault,LIGHT:f.default.tagLight,ALT:f.default.tagAlt};t.DiscoveryTagStyle=b;var I=function(e){var t,n=e.tags,r=e.onTagClick,u=e.className,l=e.discoveryTagStyle,s=void 0===l?b.DEFAULT:l,c=e.hideOverflow,d=void 0!==c&&c,p=e.guildId,v=e.section,h=(0,i.default)(),m=h.ref,O=h.width,I=y(a.useState(null),2),C=I[0],T=I[1],A=n.filter((function(e){return!g.includes(e.toLowerCase())}));a.useLayoutEffect((function(){if(null!=m.current&&null!=O&&0!==O){for(var e=0,t=0,n=O-40-4,r=0;r<A.length;r++){t+=m.current.children[r].clientWidth+4;if(r===A.length-1?t>n+40:t>n)break;e++}T((function(t){return e<=A.length?e:t}))}}),[O,m,A]);return a.createElement("ul",{ref:m,
className:(0,o.default)(f.default.tagContainer,u,(t={},t[f.default.invisible]=null==C,t))},A.map((function(e,t){return _(E,{className:s,onClick:function(){return r(e)},hide:null!=C&&t>=C,text:e},e)})),!d&&null!=C&&C<A.length&&_(S,{className:s,onTagClick:r,tags:A.slice(C),count:A.length-C,guildId:p,section:v}))};t.DiscoveryTags=I;I.displayName="DiscoveryTags"},55027:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=c(n(667294)),i=n(248088),u=c(n(648831)),l=(r=n(599884))&&r.__esModule?r:{default:r};function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){f(o,r,a,i,u,"next",e)}function u(e){f(o,r,a,i,u,"throw",e)}i(void 0)}))}}function v(e,t){v=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return v(e,t)}var y=function(e){
!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;v(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).handleViewGuild=function(){var e=p(regeneratorRuntime.mark((function e(n){var r,a,o,i,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.props,a=r.guilds,o=r.analyticsContext,i=r.onViewGuild;u=a.findIndex((function(e){return e.id===n}));e.next=4;return i(n,u,o);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.renderGuild=function(e,n){var r=t.props,a=r.theme,o=r.onTagClick;return d(u.default,{guild:e,theme:a,onView:t.handleViewGuild,onTagClick:o},n)};return t}var n=t.prototype;n.renderPlaceholders=function(){for(var e=this.props.loadingPlaceholderCount,t=[],n=0;n<e;n++)t.push(d(u.DiscoverSearchResultPlaceholder,{},n));return t};n.render=function(){
var e=this,t=this.props,n=t.guilds,r=t.loading;return d(i.Spring,{from:{opacity:r?0:1},to:{opacity:1},delay:100},void 0,(function(t){return d(i.animated.div,{className:l.default.guildList,style:t},void 0,r||null==n?e.renderPlaceholders():n.map(e.renderGuild))}))};return t}(o.PureComponent);y.displayName="GuildList";y.defaultProps={loadingPlaceholderCount:12};var h=y;t.default=h},605807:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=y(n(667294)),o=n(536211),i=p(n(241165)),u=y(n(908463)),l=p(n(308920)),s=p(n(571028)),c=p(n(221597)),d=p(n(913093)),f=n(770348);function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(){m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return m.apply(this,arguments)}function _(e,t){_=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e}
;return _(e,t)}var g=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;_(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).maxScrolledPercentage=0;t.mountedAt=0;t.handleScroll=function(e){var n=e.getScrollerState(),r=n.offsetHeight,a=n.scrollHeight,o=n.scrollTop/(a-r);t.maxScrolledPercentage=Math.min(Math.max(t.maxScrolledPercentage,o),1)};t.track=function(e,n,r){void 0===n&&(n={});void 0===r&&(r=!1);var a=t.props.changeLog,o=a.id,i=a.date,u=m({change_log_id:(null!=o&&""!==o?o:i)+":"+a.revision},n);r||(u=m({seconds_open:Math.round((Date.now()-t.mountedAt)/1e3),max_scrolled_percentage:100*parseInt(t.maxScrolledPercentage.toPrecision(4),10)},u));l.default.track(e,u)};return t}var n=t.prototype;n.componentDidMount=function(){var e=this.props,t=e.changeLog,n=e.changeLogSource;if(null==t)return this.close();this.mountedAt=Date.now()
;this.maxScrolledPercentage=0;this.joinEligibleExperiment();this.track(f.AnalyticEvents.CHANGE_LOG_OPENED,m({},n),!0)};n.joinEligibleExperiment=function(){var e=this.props.changeLog;null!=e.experiment_names&&s.default.trackExposureToFirstEligibleUserExperiment(e.experiment_names)};n.close=function(){i.default.hideChangeLog()};n.componentWillUnmount=function(){this.track(f.AnalyticEvents.CHANGE_LOG_CLOSED)};n.render=function(){return this.props.changeLog.template===u.ChangeLogTemplate.SPECIAL?a.createElement(c.default,m({},this.props,{onScroll:this.handleScroll,track:this.track})):a.createElement(d.default,m({},this.props,{onScroll:this.handleScroll,track:this.track}))};return t}(a.PureComponent);g.displayName="ChangeLog";var E=function(){var e=(0,o.useStateFromStoresObject)([u.default],(function(){return{changeLog:u.default.changeLog,changeLogSource:u.default.changeLogSource,isOpen:u.default.isOpen()}})),t=e.changeLog,n=e.changeLogSource,r=e.isOpen;return null!=t&&r?h(g,{changeLog:t,
changeLogSource:n}):null};E.displayName="ConnectedChangeLog";var O=a.memo(E);t.default=O},221597:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=P(n(667294)),o=T(n(294184)),i=T(n(730381)),u=n(91817),l=T(n(241165)),s=T(n(268389)),c=n(844867),d=T(n(908463)),f=T(n(151097)),p=P(n(956117)),v=n(374693),y=n(645758),h=n(354479),m=T(n(114655)),_=T(n(865725)),g=T(n(308920)),E=T(n(899984)),O=T(n(550270)),S=T(n(178710)),b=n(770348),I=T(n(247001)),C=T(n(866881));function T(e){return e&&e.__esModule?e:{default:e}}function A(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(A=function(e){return e?n:t})(e)}function P(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=A(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function M(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function N(e,t){N=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return N(e,t)}var R=s.default.reactParserFor(E.default.getSpecialRules(C.default)),w={},D=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;N(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(t=e.call.apply(e,[this].concat(r))||this).headerId=(0,h.uid)()
;t.state={bodyWidth:451,copied:!1};t._unsetCopiedState=new u.DelayedCall(1e3,(function(){return t.setState({copied:!1})}));t.trackLinkClick=function(e){t.props.track(b.AnalyticEvents.CHANGE_LOG_CTA_CLICKED,{cta_type:"inline_link",target:e},!1)};t.scrollerRef=a.createRef();t.handleResize=function(){var e,n,r=null!==(e=null===(n=t._bodyNode)||void 0===n?void 0:n.offsetWidth)&&void 0!==e?e:t.state.bodyWidth;"number"!=typeof r||Number.isNaN(r)||t.setState({bodyWidth:r})};t.setSpecialBodyRef=function(e){t._bodyNode=e;t.handleResize()};t.handleScroll=function(){var e=t.scrollerRef.current;if(null!=e){var n;null===(n=t.props)||void 0===n||n.onScroll(e)}};return t}var r=t.prototype;r.componentDidMount=function(){window.addEventListener("resize",this.handleResize,!0)};r.componentWillUnmount=function(){window.removeEventListener("resize",this.handleResize,!0);this._unsetCopiedState.cancel()};r.close=function(){l.default.hideChangeLog()};r.track=function(e,t,n){this.props.track(e,t,n)}
;r.renderVideo=function(){var e=this,t=this.props.changeLog,r=this.state.bodyWidth,a=r*(9/16),i=t.youtube_video_id,u=t.video,l=t.image;if(null!=i&&""!==i)return M(v.EmbedVideo,{className:(0,o.default)(C.default.video),allowFullScreen:!1,href:"https://youtu.be/"+i,thumbnail:{url:"https://i.ytimg.com/vi/"+i+"/maxresdefault.jpg",width:r,height:a},video:{url:"https://www.youtube.com/embed/"+i+"?vq=large&rel=0&controls=0&showinfo=0",width:r,height:a},maxWidth:r,maxHeight:a,renderVideoComponent:c.renderVideoComponent,renderImageComponent:c.renderImageComponent,renderLinkComponent:c.renderMaskedLinkComponent,onPlay:function(){e.track(b.AnalyticEvents.CHANGE_LOG_VIDEO_INTERACTED,{},!0)}});if(null!=u&&""!==u){var s=u.startsWith("https://")?u:n(478717)("./"+u);return M(_.default,{src:s,poster:l,width:r,height:a,loop:!0,muted:!0,autoPlay:!0,className:C.default.video,onPlay:function(){e.track(b.AnalyticEvents.CHANGE_LOG_VIDEO_INTERACTED,{},!0)}})}if(null!=l&&""!==l){
var d=l.startsWith("https://")?l:n(478717)("./"+l);return M("img",{className:C.default.image,alt:"",src:d,width:r,height:a})}return null};r.render=function(){var e=this.props.changeLog;return M(S.default,{className:(0,o.default)(C.default.container),modalLabeledById:this.headerId,onClose:this.close,onScroll:this.handleScroll,scrollerRef:this.scrollerRef},void 0,M("div",{className:C.default.header,id:this.headerId,tabIndex:0},void 0,M("div",{className:C.default.headerContent},void 0,M(m.default,{size:m.default.Sizes.SIZE_32,className:C.default.headerText},void 0,I.default.Messages.CHANGELOG_STICKERS_HEADER),M(y.Text,{variant:"text-md/normal",className:C.default.dateText},void 0,I.default.Messages.WHATS_NEW_DATE.format({date:null!=e.date&&""!==e.date?(0,i.default)(e.date).toDate():new Date}))),M("div",{className:C.default.headerGraphic})),a.createElement("div",{className:C.default.body,ref:this.setSpecialBodyRef},this.renderVideo(),R(e.body,!1,{changeLog:this,interpolations:w,
onLinkClick:this.trackLinkClick})),M("div",{className:C.default.footer},void 0,M(y.Text,{variant:"text-lg/normal",className:C.default.inviteCTAHeader},void 0,I.default.Messages.CHANGELOG_STICKERS_CTA_TITLE),M(y.Text,{variant:"text-md/normal",className:C.default.inviteCTABody},void 0,I.default.Messages.CHANGELOG_STICKERS_CTA_BODY.format()),M(f.default,{className:(0,o.default)((0,p.getButtonStyle)({size:p.default.Sizes.SMALL,color:p.default.Colors.GREEN}),C.default.ctaAnchor),href:O.default.getArticleURL(b.HelpdeskArticles.STICKERS),onClick:function(){var e,t;g.default.track(b.AnalyticEvents.CHANGE_LOG_CTA_CLICKED,{change_log_id:(null===(e=d.default.changeLog)||void 0===e?void 0:e.date)+":"+(null===(t=d.default.changeLog)||void 0===t?void 0:t.revision),cta_type:"stickers_cta"})}},void 0,I.default.Messages.CHANGELOG_STICKERS_CTA)))};return t}(a.PureComponent);t.default=D;D.displayName="ChangelogSpecialTemplate"},913093:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0
});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=A(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=T(n(294184)),i=T(n(730381)),u=T(n(241165)),l=T(n(805764)),s=T(n(268389)),c=n(844867),d=T(n(151097)),f=n(374693),p=T(n(530250)),v=n(772575),y=n(645758),h=n(354479),m=T(n(877622)),_=T(n(170331)),g=T(n(637853)),E=T(n(865725)),O=T(n(899984)),S=T(n(138158)),b=n(770348),I=T(n(247001)),C=T(n(634427));function T(e){return e&&e.__esModule?e:{default:e}}function A(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(A=function(e){return e?n:t})(e)}function P(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function M(e,t){M=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return M(e,t)}var N=s.default.reactParserFor(O.default.getDefaultRules(C.default)),R={},w=P(g.default,{}),D=P(m.default,{}),L=P(_.default,{}),k=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;M(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).headerId=(0,h.uid)();t.handleScroll=function(e){var n;null===(n=t.props)||void 0===n||n.onScroll(e)};t.trackLinkClick=function(e){
t.props.track(b.AnalyticEvents.CHANGE_LOG_CTA_CLICKED,{cta_type:"inline_link",target:e},!1)};t.renderHeader=function(){var e=t.props.changeLog;return P(p.default.Child,{grow:1,shrink:1},void 0,P(v.Heading,{variant:"heading-lg/medium",level:2},void 0,I.default.Messages.WHATS_NEW),P(y.Text,{variant:"text-xs/normal",className:C.default.date},void 0,I.default.Messages.WHATS_NEW_DATE.format({date:null!=e.date&&""!==e.date?(0,i.default)(e.date).toDate():new Date})))};return t}var r=t.prototype;r.close=function(){u.default.hideChangeLog()};r.track=function(e,t,n){this.props.track(e,t,n)};r.renderFooter=function(){return P("div",{className:C.default.footer},void 0,P(d.default,{"aria-label":I.default.Messages.TWITTER,className:C.default.socialLink,href:(0,l.default)(b.LocalizedLinks.TWITTER),target:"blank"},void 0,w),P(d.default,{"aria-label":I.default.Messages.FACEBOOK,className:C.default.socialLink,href:b.SOCIAL_LINKS.FACEBOOK_URL,target:"blank"},void 0,D),P(d.default,{
"aria-label":I.default.Messages.INSTAGRAM,className:C.default.socialLink,href:b.SOCIAL_LINKS.INSTAGRAM_URL,target:"blank"},void 0,L),P(y.Text,{variant:"text-xs/normal"},void 0,I.default.Messages.FOLLOW_US_FOR_MORE_UPDATES))};r.renderVideo=function(){var e=this,t=this.props.changeLog,r=451,a=254,i=t.youtube_video_id,u=t.video,l=t.image;if(null!=i&&""!==i)return P(f.EmbedVideo,{className:(0,o.default)(C.default.video),allowFullScreen:!1,href:"https://youtu.be/"+i,thumbnail:{url:"https://i.ytimg.com/vi/"+i+"/maxresdefault.jpg",width:r,height:a},video:{url:"https://www.youtube.com/embed/"+i+"?vq=large&rel=0&controls=0&showinfo=0",width:r,height:a},maxWidth:r,maxHeight:a,renderVideoComponent:c.renderVideoComponent,renderImageComponent:c.renderImageComponent,renderLinkComponent:c.renderMaskedLinkComponent,onPlay:function(){e.track(b.AnalyticEvents.CHANGE_LOG_VIDEO_INTERACTED,{},!0)}});if(null!=u&&""!==u){var s=u.startsWith("https://")?u:n(478717)("./"+u);return P(E.default,{src:s,poster:l,
width:r,height:a,loop:!0,muted:!0,autoPlay:!0,className:C.default.video,onPlay:function(){e.track(b.AnalyticEvents.CHANGE_LOG_VIDEO_INTERACTED,{},!0)}})}if(null!=l&&""!==l){var d=l.startsWith("https://")?l:n(478717)("./"+l);return P("img",{className:C.default.image,alt:"",src:d,width:r,height:a})}return null};r.render=function(){var e=this.props.changeLog;return P(S.default,{className:C.default.container,onClose:this.close,renderHeader:this.renderHeader,renderFooter:this.renderFooter,onScroll:this.handleScroll},void 0,P("div",{tabIndex:0,role:"region","aria-label":I.default.Messages.CHANGELOG_CONTENT_LABEL},void 0,this.renderVideo(),N(e.body,!1,{changeLog:this,interpolations:R,onLinkClick:this.trackLinkClick})))};return t}(a.PureComponent);k.displayName="ChangelogStandardTemplate";var j=k;t.default=j},410671:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=_(n(294184)),i=_(n(151097)),u=_(n(956117)),l=_(n(558402)),s=_(n(16941)),c=n(772575),d=n(645758),f=_(n(279950)),p=n(354479),v=_(n(510596)),y=n(3400),h=_(n(247001)),m=_(n(949095));function _(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function O(e,t){O=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return O(e,t)}var S=E("br",{}),b=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;O(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).headerId=(0,p.uid)();t.state={code:"",errorMessage:"",retrySuccess:!1};t.setRef=function(e){t._input=e};t.getLabelText=function(){var e;return null!==(e=t.props.label)&&void 0!==e?e:t.props.disallowBackupCodes?h.default.Messages.TWO_FA_ENTER_TOKEN_NO_BACKUP_LABEL:h.default.Messages.TWO_FA_ENTER_TOKEN_LABEL};t.getSupportedCodeTypes=function(){
return t.props.disallowBackupCodes?h.default.Messages.TWO_FA_AUTH_CODE_NO_BACKUP:h.default.Messages.TWO_FA_AUTH_CODE};t.getPlaceholder=function(){var e;return t.props.forceNoPlaceholder?null:null!==(e=t.props.placeholder)&&void 0!==e?e:t.getSupportedCodeTypes()};t.errorPresent=function(){return null!=t.props.error&&""!==t.props.error||null!=t.state.errorMessage&&""!==t.state.errorMessage};t.handleRetry=function(){var e=t.props.onRetry;null==e||e().then((function(){return t.setState({retrySuccess:!0})}))};t.handleSubmit=function(e){e.preventDefault();var n=t.props,r=n.handleSubmit,a=n.onError;r(t.state.code).catch((function(e){if(null!=e.body){null==a||a(e.body);e.body.message&&t.setState({errorMessage:e.body.message})}}))};t.handleCancel=function(){var e=t.props,n=e.onClose,r=e.handleEarlyClose;n();null==r||r()};t.handleCodeChange=function(e){t.setState({code:e})};return t}t.prototype.render=function(){
var e,t=this.props,n=t.title,r=t.actionText,p=t.children,_=t.error,g=t.isLoading,O=t.maxLength,b=t.transitionState,I=t.helpMessage,C=t.retryPrompt,T=t.retrySuccessMessage,A=this.state,P=A.code,M=A.errorMessage,N=A.retrySuccess,R=a.Children.count(p)>0?E(l.default,{type:l.default.Types.WARNING,className:m.default.card},void 0,E(d.Text,{variant:"text-md/normal"},void 0,p)):null,w=null!=C?E(d.Text,{className:(0,o.default)(m.default.submitText,m.default.spacing),variant:"text-sm/normal"},void 0,S,E(s.default,{className:(0,o.default)(m.default.spacing,m.default.link),onClick:this.handleRetry},void 0,E(i.default,{},void 0,C))):null,D=N?E(l.default,{type:l.default.Types.SUCCESS,className:m.default.card},void 0,E(d.Text,{variant:"text-md/normal"},void 0,T)):null;return E(y.ModalRoot,{transitionState:b,"aria-labelledby":this.headerId},void 0,E("form",{onSubmit:this.handleSubmit},void 0,E(y.ModalHeader,{separator:!1,id:this.headerId},void 0,E(c.Heading,{variant:"heading-lg/medium",level:2
},void 0,n)),E(y.ModalContent,{},void 0,null!=I?E(d.Text,{color:"text-normal",variant:"text-md/normal",className:m.default.spacing},void 0,I):null,R,D,E(v.default,{title:this.getLabelText(),className:m.default.spacing},void 0,E(f.default,{inputRef:this.setRef,onChange:this.handleCodeChange,placeholder:null!==(e=this.getPlaceholder())&&void 0!==e?e:void 0,maxLength:null!=O?O:10,value:P,autoComplete:"one-time-code",autoFocus:!0}),this.errorPresent()?E(d.Text,{color:"text-danger",variant:"text-xs/normal",className:m.default.error},void 0,null!=_?_:M):null,w)),E(y.ModalFooter,{},void 0,E(u.default,{type:"submit",disabled:g},void 0,null!=r?r:h.default.Messages.CONFIRM),E(u.default,{onClick:this.handleCancel,disabled:g,look:u.default.Looks.LINK,color:u.default.Colors.PRIMARY},void 0,h.default.Messages.CANCEL))))};return t}(a.PureComponent);b.displayName="MFAConfirm";b.defaultProps={btnClass:"",isLoading:!1,disallowBackupCodes:!1,error:null,forceNoPlaceholder:!1};var I=b;t.default=I},
178710:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=y(n(667294)),o=p(n(294184)),i=p(n(16941)),u=p(n(259530)),l=p(n(114655)),s=y(n(3400)),c=p(n(247001)),d=p(n(853930)),f=["onClose"];function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function h(){h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return h.apply(this,arguments)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e,t){_=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _(e,t)}var g=m(u.default,{width:24,height:24}),E=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;_(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.render=function(){var e=this.props,t=e.selectable,n=e.className,r=e.modalLabeledById,u=e.onClose,p=e.children,v=e.onScroll,y=e.scrollerRef
;return m(s.default,{onCloseRequest:u,renderModal:function(e){var _,E=e.onClose,O=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,f);return a.createElement(s.ModalRoot,h({className:d.default.modal},O,{"aria-labelledby":r}),m(s.ModalContent,{className:(0,o.default)(n,d.default.content,{selectable:t}),scrollerRef:y,onScroll:v},void 0,p),m(i.default,{className:d.default.closeButton,onClick:function(){null!=u&&u();E()}},void 0,g),m("div",{className:d.default.updateBadge},void 0,m(l.default,{size:(_=c.default.Messages.UPDATE_BADGE_HEADER,_.length>12?l.default.Sizes.SIZE_10:_.length>10?l.default.Sizes.SIZE_12:_.length>8?l.default.Sizes.SIZE_14:l.default.Sizes.SIZE_16),className:d.default.updateBadgeText},void 0,c.default.Messages.UPDATE_BADGE_HEADER)))}})};return t}(a.PureComponent);E.displayName="SpecialMarkdownModal";E.defaultProps={selectable:!1};var O=E;t.default=O},57663:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=Me
;var r,a=Ee(n(667294)),o=_e(n(294184)),i=n(536211),u=n(923387),l=_e(n(972247)),s=n(91817),c=n(378158),d=_e(n(226800)),f=_e(n(686923)),p=_e(n(284382)),v=_e(n(6887)),y=_e(n(77146)),h=n(224179),m=_e(n(915502)),_=_e(n(945926)),g=_e(n(330493)),E=_e(n(590087)),O=_e(n(56200)),S=_e(n(133464)),b=_e(n(305081)),I=_e(n(265328)),C=_e(n(394614)),T=_e(n(907567)),A=_e(n(719637)),P=_e(n(962119)),M=_e(n(105847)),N=_e(n(423405)),R=_e(n(644263)),w=_e(n(513266)),D=_e(n(122913)),L=_e(n(635014)),k=_e(n(893160)),j=_e(n(690445)),U=_e(n(397228)),G=_e(n(663303)),F=_e(n(871778)),x=_e(n(728429)),W=_e(n(146771)),B=_e(n(16941)),V=_e(n(530250)),H=_e(n(618993)),Y=_e(n(160629)),z=_e(n(413542)),K=n(645758),$=Ee(n(730977)),q=_e(n(738133)),X=_e(n(228315)),Q=_e(n(634230)),Z=_e(n(878338)),J=_e(n(324582)),ee=_e(n(347114)),te=_e(n(855480)),ne=_e(n(287317)),re=n(194322),ae=_e(n(139574)),oe=_e(n(902060)),ie=_e(n(683898)),ue=Ee(n(628551)),le=_e(n(308920)),se=n(42031),ce=n(179495),de=_e(n(922629)),fe=_e(n(1483)),pe=n(770348),ve=n(198622),ye=_e(n(247001)),he=_e(n(129609)),me=["onClick","onMouseEnter"]
;function _e(e){return e&&e.__esModule?e:{default:e}}function ge(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(ge=function(e){return e?n:t})(e)}function Ee(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=ge(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function Oe(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,
type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function Se(){Se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return Se.apply(this,arguments)}function be(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function Ie(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){be(o,r,a,i,u,"next",e)}function u(e){be(o,r,a,i,u,"throw",e)}i(void 0)}))}}function Ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function Te(e,t){Te=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Te(e,t)}var Ae=de.default.getEnableHardwareAcceleration()?ue.AnimatedAvatar:ue.default;var Pe=function(e){!function(e,t){
e.prototype=Object.create(t.prototype);e.prototype.constructor=e;Te(e,t)}(t,e);function t(){for(var t,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];(t=e.call.apply(e,[this].concat(o))||this).copiedTimeout=new s.Timeout;t.copiedDecayTimeout=new s.Timeout;t.speakingWhileMutedTooltipTimeout=new s.Timeout;t.state={hovered:!1,copiedStreak:0,shouldShowNametagTooltip:!1,shouldShowCopiedFeedback:!1,shouldShowSpeakingWhileMutedTooltip:!1,hoveringOnMute:!1};t.handleToggleSelfMute=function(){var e=t.props,n=e.serverMute,r=e.suppress;(0,E.default)(n,r)};t.handleToggleSelfDeaf=function(){var e=t.props.serverDeaf;(0,g.default)(e)};t.handleOpenAccountSettings=function(){t.handleOpenSettings()};t.handleOpenSettings=function(e){void 0===e&&(e=pe.UserSettingsSections.ACCOUNT);d.default.open(e)};t.handleOpenSettingsContextMenu=function(e){var r=t.props.currentUser;null!=r&&(0,c.openContextMenuLazy)(e,Ie(regeneratorRuntime.mark((function e(){var o,i
;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(62837),n.e(93198),n.e(62467),n.e(72936),n.e(51754),n.e(54313),n.e(64084)]).then(n.bind(n,964084));case 2:o=e.sent;i=o.default;return e.abrupt("return",(function(e){return a.createElement(i,Se({},e,{user:r,premiumSubscription:t.props.premiumSubscription,webBuildOverride:t.props.webBuildOverride}))}));case 5:case"end":return e.stop()}}),e)}))))};t.handleClearPoggermodeEducationTooltip=function(){};t.handleInputAudioContextMenu=function(e){(0,c.openContextMenuLazy)(e,Ie(regeneratorRuntime.mark((function e(){var t,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,190320));case 2:t=e.sent;r=t.default;a=Oe(r,{onClose:c.closeContextMenu,renderInputDevices:!0,renderInputModes:!0,renderInputVolume:!0});return e.abrupt("return",(function(){return a}));case 6:case"end":return e.stop()}}),e)
}))))};t.handleOutputAudioContextMenu=function(e){(0,c.openContextMenuLazy)(e,Ie(regeneratorRuntime.mark((function e(){var t,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,190320));case 2:t=e.sent;r=t.default;a=Oe(r,{onClose:c.closeContextMenu,renderOutputDevices:!0,renderOutputVolume:!0});return e.abrupt("return",(function(){return a}));case 6:case"end":return e.stop()}}),e)}))))};t.handleMouseEnter=function(){t.setState({hovered:!0})};t.handleMouseLeave=function(){t.setState({hovered:!1})};t.handleMouseEnterMute=function(){t.setState({hoveringOnMute:!0,shouldShowSpeakingWhileMutedTooltip:!1});t.speakingWhileMutedTooltipTimeout.stop()};t.handleMouseLeaveMute=function(){t.setState({hoveringOnMute:!1})};t.handleCopyTag=function(){var e=t.props.currentUser,n=t.state,r=n.shouldShowNametagTooltip,a=n.copiedStreak;if(null!=e){(0,ce.copy)(e.tag);le.default.track(pe.AnalyticEvents.TEXT_COPIED,{type:"User Tag"
});var o={shouldShowCopiedFeedback:!0,shouldShowNametagTooltip:!0};r||(o.copiedStreak=a+1);t.setState(o,(function(){t.copiedTimeout.start(1e3,(function(){return t.setState({shouldShowNametagTooltip:!1})}));t.copiedDecayTimeout.start(2e3,(function(){return t.setState({copiedStreak:0})}))}))}};t.handleOccludedChanged=function(){t.props.occluded&&t.setState({shouldShowNametagTooltip:!1,shouldShowSpeakingWhileMutedTooltip:!1})};t.handleSpeakingWhileMutedChanged=function(){var e=t.props,n=e.selfMute,r=e.serverMute,a=e.suppress,o=e.speakingWhileMuted,i=e.occluded,u=t.state.hoveringOnMute;if(o)u||!n||r||a||i||t.setState({shouldShowSpeakingWhileMutedTooltip:!0},(function(){t.speakingWhileMutedTooltipTimeout.start(2e3,(function(){return t.setState({shouldShowSpeakingWhileMutedTooltip:!1})}))}));else{t.setState({shouldShowSpeakingWhileMutedTooltip:!1});t.speakingWhileMutedTooltipTimeout.stop()}};t.renderStatusPickerPopout=function(e){var n=e.closePopout;if(t.props.showRichProfilePopup){var r
;return Oe(T.default,{userId:null===(r=t.props.currentUser)||void 0===r?void 0:r.id,user:t.props.currentUser,onClose:function(){t.handleMouseLeave();null==n||n()}})}return Oe(f.default,{onClose:function(){t.handleMouseLeave();null==n||n()}})};return t}var r=t.prototype;r.componentDidUpdate=function(e){var t=e.speakingWhileMuted,n=e.occluded,r=this.props,a=r.speakingWhileMuted;r.occluded!==n&&this.handleOccludedChanged();a!==t&&this.handleSpeakingWhileMutedChanged()};r.componentWillUnmount=function(){this.copiedTimeout.stop();this.copiedDecayTimeout.stop();this.speakingWhileMutedTooltipTimeout.stop()};r.renderCopiedSuccess=function(){
var e=this.state.copiedStreak,t=[ye.default.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_1,ye.default.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_2,ye.default.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_3,ye.default.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_4,ye.default.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_5,ye.default.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_6,ye.default.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_7,ye.default.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_8,ye.default.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_9,ye.default.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_10,ye.default.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_11],n=Math.min(Math.max(0,e-1),t.length-1);return Oe(z.default,{isShaking:this.isCopiedStreakGodlike},void 0,t[n])};r.renderNameTag=function(){var e=this.props,t=e.customStatusActivity,n=e.hidePrivateData,r=e.currentUser,o=this.state.hovered;if(null==r)return null;var i=n?null:"#"+r.discriminator,u=null!=t?Oe(H.default,{hoverText:i,forceHover:o},void 0,Oe(S.default,{activity:t,
emojiClassName:he.default.emoji,className:he.default.customStatus})):i;return a.createElement(a.Fragment,null,Oe(K.Text,{className:he.default.usernameContainer,variant:"text-sm/normal"},void 0,Oe(ie.default,{},void 0,r.username)),null!=u?Oe(oe.default,{className:he.default.discriminator},void 0,u):null)};r.renderCopiableNameTag=function(){var e=this,t=this.props.currentUser,n=this.state,r=n.shouldShowNametagTooltip,i=n.shouldShowCopiedFeedback;if(null==t)return null;var u=null,l=$.TooltipColors.PRIMARY;if(ce.SUPPORTS_COPY){u=ye.default.Messages.ACCOUNT_CLICK_TO_COPY;if(i){u=this.renderCopiedSuccess();l=this.isCopiedStreakGodlike?$.TooltipColors.RED:$.TooltipColors.GREEN}}return Oe($.default,{text:u,forceOpen:r,"aria-label":!!ce.SUPPORTS_COPY&&ye.default.Messages.ACCOUNT_CLICK_TO_COPY,color:l,delay:500,onAnimationRest:function(t,n){i&&!r&&n.phase===pe.SpringTransitionPhases.LEAVE&&e.setState({shouldShowCopiedFeedback:!1})}},void 0,(function(t){
var n,r=t.onClick,u=t.onMouseEnter,l=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(t,me);return a.createElement(B.default,Se({},l,{onMouseEnter:function(){if(i){e.copiedTimeout.stop();e.setState({shouldShowNametagTooltip:!1},u)}else null==u||u()},onClick:function(){null==r||r();e.handleCopyTag()},className:(0,o.default)(he.default.nameTag,(n={},n[he.default.canCopy]=ce.SUPPORTS_COPY,n))}),e.renderNameTag())}))};r.renderAvatarWithPopout=function(){var e=this,t=this.props,n=t.speaking,r=t.streaming,i=t.currentUser,u=t.status,l=t.showTagAsButton,s=t.showTaglessAccountPanel;return null==i?null:Oe(p.default,{object:pe.AnalyticsObjects.AVATAR},void 0,Oe(Y.default,{renderPopout:this.renderStatusPickerPopout,position:Y.default.Positions.BOTTOM,align:Y.default.Align.LEFT,animation:Y.default.Animation.FADE,spacing:14,fixed:!0},void 0,(function(t,c){var d,f;return a.createElement(B.default,Se({},t,{
"aria-label":ye.default.Messages.SET_STATUS,className:(0,o.default)(he.default.avatarWrapper,(d={},d[he.default.withTagAsButton]=l,d[he.default.withTagless]=s,d))}),Oe(Ae,{size:ue.Sizes.SIZE_32,src:i.getAvatarURL(void 0,32,!1),"aria-label":i.username,status:r?pe.StatusTypes.STREAMING:u,isSpeaking:n,className:he.default.avatar}),l||s?Oe("div",{className:(0,o.default)(he.default.nameTag,(f={},f[he.default.canCopy]=ce.SUPPORTS_COPY,f))},void 0,s?Oe(ae.default,{tooltipText:null,icon:c.isShown?q.default:X.default,role:"switch","aria-label":ye.default.Messages.SET_STATUS}):e.renderNameTag()):null)})))};r.renderSettingsGear=function(){var e=this.props.webBuildOverride;return Oe(ae.default,{tooltipText:null!=e?ye.default.Messages.USER_SETTINGS_WITH_BUILD_OVERRIDE.format({webBuildOverride:e.id}):ye.default.Messages.USER_SETTINGS,onClick:this.handleOpenAccountSettings,onContextMenu:this.handleOpenSettingsContextMenu,innerClassName:null!=e?he.default.buildOverrideButton:null,icon:Q.default
},void 0,null!=e?Oe(ee.default,{width:9,height:9,className:he.default.hasBuildOverride,"aria-hidden":!0}):null)};r.renderNameZone=function(){var e=this,t=this.props,n=t.currentUser,r=t.dismissibleContents,o=this.props,i=o.showTagAsButton,l=o.showTaglessAccountPanel;return null==n?null:a.createElement(a.Fragment,null,Oe(b.default,{contentTypes:r.avatar},void 0,(function(t){var n=t.visibleContent,r=t.markAsDismissed,a=Oe(A.default,{markAsDismissed:r});return n===u.DismissibleContent.ACCOUNT_MULTIACCOUNT_TOOLTIP?Oe(Y.default,{position:Y.default.Positions.TOP,shouldShow:!0,renderPopout:function(){return a}},void 0,(function(){return e.renderAvatarWithPopout()})):e.renderAvatarWithPopout()})),i||l?null:this.renderCopiableNameTag())};r.render=function(){var e,t,n=this,r=this.props,a=r.currentUser,i=r.selfDeaf,l=r.selfMute,s=r.serverMute,c=r.serverDeaf,d=r.suppress,f=r.dismissibleContents,p=this.state.shouldShowSpeakingWhileMutedTooltip;if(null==a)return null;var v=l||d||s,y=i||c
;return Oe("div",{className:he.default.container,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},void 0,this.renderNameZone(),Oe(V.default,{grow:0},void 0,Oe(ae.default,{tooltipText:p?ye.default.Messages.ACCOUNT_SPEAKING_WHILE_MUTED:(0,_.default)(l,s,d),tooltipColor:p?$.TooltipColors.GREEN:void 0,tooltipForceOpen:p||void 0,onMouseEnter:this.handleMouseEnterMute,onMouseLeave:this.handleMouseLeaveMute,icon:v?ne.default:te.default,iconForeground:v?he.default.strikethrough:null,onClick:this.handleToggleSelfMute,innerClassName:(0,o.default)((e={},e[he.default.redIcon]=s||d,e)),onContextMenu:this.handleInputAudioContextMenu,role:"switch","aria-label":ye.default.Messages.MUTE,"aria-checked":v}),Oe(ae.default,{tooltipText:(0,m.default)(i,c),icon:i?J.default:Z.default,onClick:this.handleToggleSelfDeaf,onContextMenu:this.handleOutputAudioContextMenu,innerClassName:(0,o.default)((t={},t[he.default.redIcon]=c,t)),iconForeground:y?he.default.strikethrough:null,role:"switch",
"aria-label":ye.default.Messages.DEAFEN,"aria-checked":y}),Oe(b.default,{contentTypes:f.settings},void 0,(function(e){var t=e.visibleContent,r=e.markAsDismissed,a=Oe(fe.default,{markAsDismissed:r});switch(t){case u.DismissibleContent.NAGBAR_NOTICE_CONNECT_PLAYSTATION:return Oe(Y.default,{position:Y.default.Positions.TOP,align:Y.default.Align.CENTER,shouldShow:!0,renderPopout:function(){return a}},void 0,(function(){return n.renderSettingsGear()}));case u.DismissibleContent.POGGERMODE_BIRTHDAY_EDUCATION_TOOLTIP:return Oe(Y.default,{position:Y.default.Positions.TOP,align:Y.default.Align.CENTER,shouldShow:!0,renderPopout:function(){return Oe(I.default,{className:he.default.poggermodeFeatureEducation,header:ye.default.Messages.POGGERMODE_TOOLTIP_TITLE,body:ye.default.Messages.POGGERMODE_TOOLTIP_DESCRIPTION,tryItText:ye.default.Messages.POGGERMODE_TOOLTIP_TRY_IT,artClassName:he.default.poggermodeFeatureEducationArt,onTryFeature:function(){
return n.handleOpenSettings(pe.UserSettingsSections.POGGERMODE)},closePopout:r,analyticsName:"Poggermode"})}},void 0,(function(){return n.renderSettingsGear()}));default:return n.renderSettingsGear()}}))))};!function(e,t,n){t&&Ce(e.prototype,t);n&&Ce(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"isCopiedStreakGodlike",get:function(){return this.state.copiedStreak>=10}}]);return t}(a.PureComponent);Pe.displayName="Account";function Me(){var e=(0,i.useStateFromStores)([x.default],(function(){return x.default.getCurrentUser()})),t=null==e?void 0:e.id,n=(0,i.useStateFromStores)([F.default],(function(){return F.default.customStatus})),r=a.useMemo((function(){return null!=n?(0,O.default)(n):null}),[n]),o=(0,i.useStateFromStoresObject)([j.default],(function(){return{streaming:null!=j.default.findActivity((function(e){return e.type===pe.ActivityTypes.STREAMING})),status:j.default.getStatus()}})),s=o.streaming,c=o.status,d=(0,i.useStateFromStores)([U.default],(function(){
return null!=t&&U.default.isSpeaking(t)}),[t]),f=(0,i.useStateFromStores)([G.default],(function(){return G.default.hidePersonalInformation})),p=(0,i.useStateFromStores)([k.default,R.default],(function(){var e=k.default.getChannelId();return null!=e?R.default.getChannel(e):null})),m=(0,N.default)(p),_=m.mute,g=m.selfMute,E=m.suppress,S=(0,M.default)(p),b=S.selfDeaf,I=S.deaf,T=(0,i.useStateFromStores)([y.default],(function(){var e;return(0,h.probablyHasBuildOverride)()?null===(e=y.default.getCurrentBuildOverride().overrides)||void 0===e?void 0:e.discord_web:null})),A=(0,i.useStateFromStores)([W.default],(function(){return W.default.getPremiumTypeSubscription()})),B=(0,i.useStateFromStores)([L.default],(function(){return L.default.getEverSpeakingWhileMuted()})),V=(0,i.useStateFromStores)([w.default],(function(){return null!=w.default.getAccount(null,pe.PlatformTypes.PLAYSTATION)})),H=(0,i.useStateFromStores)([D.default],(function(){return D.default.hasLayers()})),Y=(0,
re.useModalsStore)(re.hasAnyModalOpenSelector)||H||se.ProcessArgs.isDisallowPopupsSet();a.useEffect((function(){C.default.trackExposure({})}));var z=C.default.useExperiment({}),K=z.isPopupEnabled,$=z.isJoinedTagButtonEnabled,q=z.isTaglessAccountPanelEnabled,X=v.default.useExperiment({}).coachMarkEnabled,Q=P.default.useExperiment({}).showFeatureEducation,Z={avatar:[],settings:[]};Y||null!=l.default.get(ve.MULTIACCOUNT_TOOLTIP_SEEN_KEY)||Z.avatar.push(u.DismissibleContent.ACCOUNT_MULTIACCOUNT_TOOLTIP);Y||!X||V||Z.settings.push(u.DismissibleContent.NAGBAR_NOTICE_CONNECT_PLAYSTATION);!Y&&Q&&Z.settings.push(u.DismissibleContent.POGGERMODE_BIRTHDAY_EDUCATION_TOOLTIP);return Oe(Pe,{currentUser:e,customStatusActivity:r,dismissibleContents:Z,hidePrivateData:f,occluded:Y,premiumSubscription:A,selfDeaf:b,selfMute:g,serverDeaf:I,serverMute:_,showRichProfilePopup:K,showTagAsButton:$,showTaglessAccountPanel:q,speaking:d,speakingWhileMuted:B,status:c,streaming:s,suppress:E,webBuildOverride:T})}
Me.displayName="AccountConnected"},1483:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=m;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=p(n(155502)),i=p(n(754416)),u=p(n(956117)),l=n(645758),s=p(n(308920)),c=n(770348),d=p(n(247001)),f=p(n(573438));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e){e();s.default.track(c.AnalyticEvents.UPSELL_CLICKED,{type:"account_connect_playstation_tooltip",action:"dismiss"})}function m(e){var t=e.markAsDismissed;a.useEffect((function(){s.default.track(c.AnalyticEvents.UPSELL_VIEWED,{type:"account_connect_playstation_tooltip"})}),[]);a.useEffect((function(){function e(e){e.keyCode===c.KeyboardKeys.ESCAPE&&h(t)}window.addEventListener("keydown",e);return function(){window.removeEventListener("keydown",e)}}),[t]);var n=a.useCallback((function(){(0,i.default)(c.PlatformTypes.PLAYSTATION,"Playstation Upsell");h(t)}),[t]);return y("div",{className:f.default.container},void 0,y("div",{className:f.default.image
}),y(l.Text,{className:f.default.title,variant:"text-sm/normal"},void 0,d.default.Messages.USER_ACTIVITY_CONNECT_PLATFORM.format({platform:o.default.get(c.PlatformTypes.PLAYSTATION).name})),y(l.Text,{variant:"text-sm/normal",className:f.default.subTitle},void 0,d.default.Messages.PLAYSTATION_CONNECT_DESCRIPTION),y(u.default,{look:u.default.Looks.INVERTED,fullWidth:!0,onClick:n},void 0,d.default.Messages.CONNECT),y(u.default,{color:u.default.Colors.WHITE,look:u.default.Looks.LINK,fullWidth:!0,onClick:function(){return h(t)}},void 0,d.default.Messages.NO_THANKS),y("div",{className:f.default.pointer}))}m.displayName="AccountConnectPlayStationTooltip"},52505:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=_(n(496486)),i=_(n(536211)),u=n(378158),l=_(n(913914)),s=_(n(922340)),c=_(n(146411)),d=_(n(414068)),f=_(n(330445)),p=_(n(290629)),v=_(n(728429)),y=_(n(251689)),h=n(71246),m=_(n(247001));function _(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,
ref:null,props:t,_owner:null}}function O(){O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return O.apply(this,arguments)}function S(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function b(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){S(o,r,a,i,u,"next",e)}function u(e){S(o,r,a,i,u,"throw",e)}i(void 0)}))}}function I(e,t){I=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return I(e,t)}var C=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;I(e,t)}(t,e);function t(){for(var t,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];(t=e.call.apply(e,[this].concat(o))||this).handleUserContextMenu=function(e,t){(0,u.openContextMenuLazy)(e,b(regeneratorRuntime.mark((function e(){var r,o
;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(31626),n.e(1759),n.e(56159)]).then(n.bind(n,856159));case 2:r=e.sent;o=r.default;return e.abrupt("return",(function(e){return a.createElement(o,O({},e,{user:t}))}));case 5:case"end":return e.stop()}}),e)}))))};t.renderOverflowPopout=function(){var e=t.props.party;return E(l.default,{party:e,header:m.default.Messages.SPOTIFY_LISTEN_ALONG_LISTENING_ALONG_COUNT.format({count:e.length})})};return t}var r=t.prototype;r.hasParty=function(e){return e.length>1};r.handleStopListening=function(){(0,s.default)()};r.renderUserPopout=function(e,t){return a.createElement(d.default,O({},e,{userId:t.id}))};r.render=function(){var e=this.props,t=e.currentUser,n=e.host,r=e.party;return this.hasParty(r)&&null!=t?E(y.default,{currentUser:t,host:n,party:r,renderUserPopout:this.renderUserPopout,renderOverflowPopout:this.renderOverflowPopout,onStopListening:this.handleStopListening,
onUserContextMenu:this.handleUserContextMenu}):null};return t}(a.PureComponent);C.displayName="ListeningAlong";var T=i.default.connectStores([c.default,v.default,p.default,f.default],(function(){var e,t,n=c.default.getSyncingWith(),r=c.default.getActivity(),a=v.default.getCurrentUser(),i=[];if(null!=n){e=v.default.getUser(n.userId);t=n.partyId}else if(null!=r&&null!=r.party&&null!=r.party.id){e=a;t=r.party.id}if(null!=t){var u;i=(0,o.default)(Array.from(null!==(u=f.default.getParty(t))&&void 0!==u?u:[])).map((function(e){return v.default.getUser(e)})).filter(h.isNotNullish).orderBy([function(t){return null==e||e.id===t.id},function(e){return p.default.isFriend(e.id)}],["desc","desc"]).value()}return{currentUser:a,host:e,party:i}}))(C);t.default=T},883901:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=We(n(667294)),o=Fe(n(294184)),i=Fe(n(441143)),u=n(473727),l=n(536211),s=Fe(n(740207)),c=n(378158),d=Fe(n(505437)),f=We(n(712283)),p=Fe(n(367734)),v=Fe(n(257175)),y=n(556470),h=n(433383),m=n(678164),_=n(746920),g=We(n(303798)),E=n(186096),O=Fe(n(198016)),S=n(245546),b=Fe(n(151120)),I=Fe(n(954140)),C=Fe(n(37039)),T=Fe(n(932018)),A=n(678928),P=Fe(n(314234)),M=Fe(n(379310)),N=Fe(n(908921)),R=We(n(278352)),w=Fe(n(652566)),D=n(139982),L=Fe(n(915188)),k=Fe(n(610929)),j=n(205809),U=Fe(n(131020)),G=Fe(n(897191)),F=n(921867),x=n(894826),W=Fe(n(373115)),B=Fe(n(431388)),V=Fe(n(770404)),H=We(n(336940)),Y=Fe(n(493051)),z=Fe(n(152803)),K=Fe(n(310261)),$=Fe(n(30269)),q=n(645675),X=Fe(n(686305)),Q=Fe(n(607209)),Z=Fe(n(644263)),J=Fe(n(30098)),ee=Fe(n(122913)),te=Fe(n(635014)),ne=Fe(n(689389)),re=Fe(n(893160)),ae=Fe(n(290629)),oe=Fe(n(728429)),ie=Fe(n(387692)),ue=Fe(n(487372)),le=Fe(n(151097)),se=Fe(n(956117)),ce=Fe(n(530250)),de=n(728526),fe=n(772575),pe=Fe(n(160629)),ve=Fe(n(567668)),ye=n(645758),he=Fe(n(730977)),me=We(n(662197)),_e=Fe(n(79027)),ge=Fe(n(26285)),Ee=Fe(n(400217)),Oe=Fe(n(250003)),Se=Fe(n(952117)),be=Fe(n(139574)),Ie=Fe(n(902060)),Ce=Fe(n(308920)),Te=Fe(n(550270)),Ae=n(873838),Pe=Fe(n(547636)),Me=Fe(n(529025)),Ne=n(770348),Re=n(439142),we=Fe(n(247001)),De=Fe(n(444013)),Le=Fe(n(380203)),ke=["unavailable","active","label","iconComponent"],je=["onClick"],Ue=["onClick"],Ge=["guildId","channelId"]
;function Fe(e){return e&&e.__esModule?e:{default:e}}function xe(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(xe=function(e){return e?n:t})(e)}function We(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=xe(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function Be(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function Ve(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Be(o,r,a,i,u,"next",e)}function u(e){Be(o,r,a,i,u,"throw",e)}i(void 0)}))}}function He(e,t){
He=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return He(e,t)}function Ye(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ze(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ze(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ze(e,t){
(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ke(){Ke=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return Ke.apply(this,arguments)}function $e(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}function qe(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function Xe(e){var t=e.currentTarget;Ce.default.track(Ne.AnalyticEvents.NOISE_CANCELLATION_LINK_CLICKED,{text:t.text,href:t.href,
location:{section:Ne.AnalyticsSections.NOISE_CANCELLATION_POPOUT}})}function Qe(){var e=a.useRef(null);(0,de.useFocusLock)(e);a.useEffect((function(){return Ce.default.track(Ne.AnalyticEvents.OPEN_POPOUT,{type:Ne.AnalyticsSections.NOISE_CANCELLATION_POPOUT})}),[]);var t=(0,l.useStateFromStores)([te.default],(function(){return te.default.getNoiseCancellation()}));return a.createElement("div",{ref:e,className:De.default.noiseCancellationPopout},qe(ve.default,{hideBorder:!0,className:Le.default.marginBottom4,value:t,onChange:function(){return s.default.setNoiseCancellation(!t,{section:Ne.AnalyticsSections.NOISE_CANCELLATION_POPOUT})},note:we.default.Messages.NOISE_CANCELLATION_POPOUT_DESCRIPTION},void 0,we.default.Messages.NOISE_CANCELLATION_POPOUT_HEADER),qe(f.default,{title:we.default.Messages.NOISE_CANCELLATION_POPOUT_MIC_TEST_TITLE,notchBackground:f.NotchBackground.BLACK,buttonTest:we.default.Messages.NOISE_CANCELLATION_POPOUT_TEST,
buttonStop:we.default.Messages.NOISE_CANCELLATION_POPOUT_STOP,buttonClassName:De.default.micTestButton,buttonColor:se.default.Colors.PRIMARY,location:{section:Ne.AnalyticsSections.NOISE_CANCELLATION_POPOUT}}),qe(me.default,{tag:me.Tags.H5,className:(0,o.default)(Le.default.marginBottom8,Le.default.marginTop20)},void 0,we.default.Messages.NOISE_CANCELLATION_POPOUT_FOOTER),qe(ce.default,{justify:ce.default.Justify.BETWEEN,className:De.default.footer},void 0,qe(le.default,{href:Ne.MarketingURLs.KRISP,onClick:function(e){return Xe(e)}},void 0,qe("div",{className:De.default.krispLogo})),qe(le.default,{href:Te.default.getArticleURL(Ne.HelpdeskArticles.NOISE_SUPPRESSION),className:De.default.krispLink,onClick:function(e){return Xe(e)}},void 0,we.default.Messages.LEARN_MORE)))}Qe.displayName="NoiseCancellationPopout";function Ze(e){var t,n=e.channel,r=(0,W.default)(),i=(0,V.default)(n),u=n.getGuildId(),c=(0,O.default)(u),d=(0,l.useStateFromStoresObject)([g.default],(function(){
return null!=g.default.getSelfEmbeddedActivityForChannel(n.id)})),f=L.default.useExperiment({guildId:null!=u?u:""}).allowSoundboard,p=(0,B.default)(n),v=p.reachedLimit,y=p.limit,m=a.useCallback((function(){(0,Y.default)()}),[]),_=(0,h.useAppContext)(),E=a.useCallback((function(e){if(te.default.isVideoEnabled()!==e){var t=function(){var t;s.default.setVideoEnabled(e);e&&(0,D.transitionTo)(Ne.Routes.CHANNEL(null!==(t=n.getGuildId())&&void 0!==t?t:Ne.ME,n.id))};e?(0,$.default)(t,_):t()}}),[n,_]),S=d||c||f,b=qe(_e.default,{className:(0,o.default)(De.default.buttonIcon,(t={},t[De.default.withText]=!S,t))});return a.createElement(q.VideoButtonWrapper,Ke({onChange:E,onCameraUnavailable:m,hasPermission:i,channelLimit:y,channelLimitReached:v},r),(function(e){var t=e.unavailable,n=e.active,r=e.label,i=(e.iconComponent,$e(e,ke));return qe(pe.default,{renderPopout:function(e){var t=e.closePopout;return qe(T.default,{onClose:t})},position:pe.default.Positions.TOP,align:pe.default.Align.CENTER,
animation:pe.default.Animation.FADE},void 0,(function(e,u){var l=u.isShown,s=e.onClick,c=$e(e,je);return qe(he.default,{text:r},void 0,(function(e){var r;return a.createElement(se.default,Ke({},i,e,c,{onClick:function(t){var n;i.onClick(t);null===(n=e.onClick)||void 0===n||n.call(e);l&&s(t)},onContextMenu:function(t){var n;s(t);null===(n=e.onContextMenu)||void 0===n||n.call(e)},size:se.default.Sizes.SMALL,className:(0,o.default)(De.default.button,De.default.buttonColor,(r={},r[De.default.buttonActive]=n,r[De.default.fauxDisabled]=t,r[De.default.disabled]=i.disabled,r)),innerClassName:De.default.buttonContents,wrapperClassName:De.default.button}),S?b:qe(ce.default,{align:ce.default.Align.CENTER},void 0,b,we.default.Messages.VIDEO))}))}))}))}Ze.displayName="ConnectedVideoButton";var Je=qe(S.FreeActivityIndicatorDot,{top:-1,right:-1});function et(e){var t=e.channel,n=(0,h.useAppContext)()===Ne.AppContext.POPOUT,r=t.getGuildId(),i=(0,O.default)(r)&&null!=r;(0,
m.useActivitiesRolloutExperiments)(r);var u=(0,l.useStateFromStores)([ne.default],(function(){return ne.default.can(Ne.Permissions.USE_EMBEDDED_ACTIVITIES,t)}),[t]),s=Ye((0,l.useStateFromStores)([g.default],(function(){return null!=t.id&&""!==t.id?g.default.getEmbeddedActivitiesForChannel(t.id):g.NO_ACTIVITIES})),1)[0],c=(0,l.useStateFromStoresObject)([g.default],(function(){return{userInActivity:null!=g.default.getSelfEmbeddedActivityForChannel(t.id)}})).userInActivity,d=(0,y.useAnalyticsContext)();a.useEffect((function(){null!=r&&(0,_.fetchShelf)(r)}),[r]);var f=(0,E.useFreeActivityIndicator)({guildId:r}).shouldShowFreeIndicator,p=!u,v=u?we.default.Messages.EMBEDDED_ACTIVITIES_START_AN_ACTIVITY:we.default.Messages.EMBEDDED_ACTIVITIES_INVALID_PERMISSIONS;return i?qe(he.default,{text:v},void 0,(function(e){var r;return a.createElement(se.default,Ke({},e,{fullWidth:!0,size:se.default.Sizes.SMALL,onClick:function(){var r;(0,b.default)({channel:t,guildId:t.guild_id,
locationObject:d.location,openInPopout:n});null===(r=e.onClick)||void 0===r||r.call(e)},disabled:p,className:(0,o.default)(De.default.button,De.default.buttonColor,(r={},r[De.default.buttonActive]=c||null!=s,r[De.default.disabled]=p,r)),innerClassName:De.default.buttonContents,wrapperClassName:De.default.button}),f?Je:null,qe(Oe.default,{className:De.default.buttonIcon}))})):null}et.displayName="ConnectedActivityButton";function tt(e){var t,n,r=e.channel,i=e.canGoLive,u=(0,l.useStateFromStores)([oe.default],(function(){return oe.default.getCurrentUser()})),s=(0,l.useStateFromStoresArray)([Q.default],(function(){return Q.default.getAllActiveStreams()})),c=(0,V.default)(r),d=r.getGuildId(),f=(0,O.default)(d),p=(0,l.useStateFromStoresObject)([g.default],(function(){return null!=g.default.getSelfEmbeddedActivityForChannel(r.id)})),v=L.default.useExperiment({guildId:null!=d?d:""}).allowSoundboard,y=a.useCallback((function(){(0,K.default)(d,r.id,Ne.AnalyticsSections.ACTIVITY_PANEL)
}),[d,r.id]),h=s.find((function(e){return e.ownerId===(null==u?void 0:u.id)})),m=(0,H.useOtherStreams)(r,u,s);n=null==h?i?y:z.default:function(){return(0,N.default)(h)};var _=null!=h||m.length>0,E=c?we.default.Messages.SHARE_YOUR_SCREEN:we.default.Messages.ACTIVITY_PANEL_GO_LIVE_TOOLTIP_NO_PERMISSION_IN_VOICE,S=!c,b=p||f||v,I=qe(Se.default,{className:(0,o.default)(De.default.buttonIcon,(t={},t[De.default.withText]=!b,t))});return qe(pe.default,{renderPopout:function(e){var t=e.closePopout;return qe(H.default,{channel:r,currentUser:u,activeStreams:s,onClose:t,handleGoLive:i?y:z.default})},position:pe.default.Positions.TOP,align:pe.default.Align.CENTER,animation:pe.default.Animation.FADE},void 0,(function(e){var t=e.onClick,r=$e(e,Ue);return qe(he.default,{text:E},void 0,(function(e){var i;return a.createElement(se.default,Ke({},e,{size:se.default.Sizes.SMALL,onClick:function(r){var a;_?t(r):n();null===(a=e.onClick)||void 0===a||a.call(e)},disabled:S,className:(0,
o.default)(De.default.button,De.default.buttonColor,(i={},i[De.default.buttonActive]=null!=h,i[De.default.disabled]=S,i))},_?r:null,{innerClassName:De.default.buttonContents,wrapperClassName:De.default.button}),b?I:qe(ce.default,{align:ce.default.Align.CENTER},void 0,I,we.default.Messages.GO_LIVE_SHARE_SCREEN))}))}))}tt.displayName="ConnectedStreamButton";var nt=qe(Qe,{}),rt=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;He(e,t)}(t,e);function t(){for(var t,r=arguments.length,u=new Array(r),l=0;l<r;l++)u[l]=arguments[l];(t=e.call.apply(e,[this].concat(u))||this).canScreenshare=function(){var e=t.props,n=e.channel;return e.canGoLive&&null!=n&&null!=n.getGuildId()};t.handleNoiseCancellationClicked=function(){var e=t.props.noiseCancellationActive;s.default.setNoiseCancellation(!e,{section:Ne.AnalyticsSections.NOISE_CANCELLATION_POPOUT})};t.handleGoLive=function(){var e=t.props,n=e.guild,r=e.channel,a=null!=r?r.getGuildId():null!=n?n.id:null
;null!=a&&(0,K.default)(a,r.id,Ne.AnalyticsLocations.VOICE_PANEL)};t.handleChannelLinkClick=function(e){var n,r=t.props,a=r.guild,o=r.channel;(0,i.default)(null!=o,"Channel is null during navigation click");e.stopPropagation();d.default.channelListScrollTo(null!==(n=null==a?void 0:a.id)&&void 0!==n?n:Ne.ME,o.id)};t.handleChannelLinkContextMenu=function(e){var r=t.props.channel;(0,c.openContextMenuLazy)(e,Ve(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(7771).then(n.bind(n,7771));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return a.createElement(o,Ke({},e,{channel:r}))}));case 5:case"end":return e.stop()}}),e)}))))};t.handleCloseVoicePanelIntroduction=function(){R.hideHotspot(Re.HotspotLocations.VOICE_PANEL_INTRODUCTION)};t.renderVoicePanelIntroduction=function(){return qe("div",{className:(0,o.default)(De.default.voicePanelIntroductionWrapper,"theme-light")
},void 0,qe(fe.Heading,{className:De.default.voicePanelIntroductionHeader,variant:"heading-md/medium",level:3},void 0,we.default.Messages.VOICE_PANEL_INTRODUCTION_HEADER),qe(ye.Text,{className:De.default.voicePanelIntroductionText,variant:"text-sm/normal"},void 0,we.default.Messages.VOICE_PANEL_INTRODUCTION_TEXT),qe(se.default,{className:De.default.voicePanelIntroductionButton,color:se.default.Colors.BRAND,onClick:t.handleCloseVoicePanelIntroduction},void 0,we.default.Messages.VOICE_PANEL_INTRODUCTION_CLOSE))};return t}var r=t.prototype;r.renderConnectionStatus=function(){var e=this.props,t=e.channel,n=e.guild,r=e.rtcConnectionQuality,a=e.rtcConnectionState,o=e.rtcConnectionLastPing,i=e.hasVideo;if(null==t)return null;var l,s=(0,A.computeChannelName)(t,oe.default,ae.default,!0);if(null!=n){l=Ne.Routes.CHANNEL(n.id,t.id);s=s+" / "+n.name}else l=Ne.Routes.CHANNEL(Ne.ME,t.id);return qe(p.default,{statusTextClassName:De.default.statusWithPopout,quality:r,state:a,lastPing:o,hasVideo:i
},void 0,qe(P.default,{},void 0,qe(u.Link,{to:l,onClick:this.handleChannelLinkClick,onContextMenu:this.handleChannelLinkContextMenu},void 0,qe(Ie.default,{className:De.default.channel},void 0,s))))};r.renderNoiseCancellation=function(){var e=this.props,t=e.noiseCancellationActive,n=e.noiseCancellationError;return!e.hasLayers&&n?qe(he.default,{text:we.default.Messages.NOISE_CANCELLATION_CPU_OVERUSE,tooltipClassName:De.default.noiseCancellationTooltip,forceOpen:!0},void 0,(function(e){var t=e["aria-label"];return qe(be.default,{"aria-label":t,tooltipText:null,disabled:!0,icon:Ee.default})})):qe(pe.default,{position:pe.default.Positions.TOP,align:pe.default.Align.CENTER,renderPopout:function(){return nt}},"krisp-popout",(function(e,n){var r=n.isShown;return a.createElement(be.default,Ke({},e,{tooltipClassName:De.default.noiseCancellationTooltip,tooltipText:r?null:we.default.Messages.NOISE_CANCELLATION_TOOLTIP,icon:t?ge.default:Ee.default}))}))};r.renderVoiceStates=function(){
var e=this.props,t=e.channel,n=e.voiceStates,r=e.showVoiceStates;return null!=t&&r&&0!==n.length?qe(Me.default,{voiceStates:n,channel:t,className:De.default.voiceUsers}):null};r.renderChannelButtons=function(){var e=this.props,t=e.channel,n=e.canGoLive,r=e.canUseSoundboard;return null==t||t.type===Ne.ChannelTypes.GUILD_STAGE_VOICE?null:qe("div",{className:De.default.actionButtons},void 0,qe(Ze,{channel:t}),qe(tt,{channel:t,canGoLive:n}),qe(et,{channel:t}),r&&(0,k.default)(t)?qe(U.default,{className:(0,o.default)(De.default.button,De.default.buttonColor),iconClassName:De.default.buttonIcon,channel:t}):null)};r.render=function(){var e=this,t=this.props,n=t.channel,r=t.noiseCancellationSupported,a=t.shouldShowVoicePanelIntroduction;if(null==n)return null;var o=qe(Pe.default,{channel:n});return qe(pe.default,{renderPopout:this.renderVoicePanelIntroduction,position:pe.default.Positions.TOP,align:pe.default.Align.CENTER,animation:pe.default.Animation.TRANSLATE,shouldShow:a
},void 0,(function(){return qe("div",{className:De.default.container},void 0,qe(ce.default,{className:De.default.connection,align:ce.default.Align.CENTER},void 0,qe("div",{className:De.default.inner},void 0,e.renderConnectionStatus()),qe(ce.default,{grow:0,shrink:0},void 0,r?e.renderNoiseCancellation():null,o)),e.renderVoiceStates(),e.renderChannelButtons())}))};return t}(a.PureComponent);rt.displayName="RTCConnection";function at(e){var t=(0,l.useStateFromStores)([oe.default],(function(){return oe.default.getCurrentUser()})),n=(0,l.useStateFromStoresObject)([re.default],(function(){return{guildId:re.default.getGuildId(),channelId:re.default.getChannelId(),rtcConnectionQuality:re.default.getQuality(),rtcConnectionState:re.default.getState(),rtcConnectionLastPing:re.default.getLastPing(),rtcConnectionConnected:re.default.isConnected()}})),r=n.guildId,o=n.channelId,i=$e(n,Ge),u=(0,l.useStateFromStores)([J.default],(function(){return J.default.getGuild(r)}),[r]),s=(0,
l.useStateFromStores)([Z.default],(function(){return Z.default.getChannel(o)}),[o]),c=(0,l.useStateFromStoresObject)([te.default],(function(){return{noiseCancellationSupported:te.default.isNoiseCancellationSupported(),noiseCancellationActive:te.default.getNoiseCancellation(),noiseCancellationError:te.default.isNoiseCancellationError(),canGoLive:(0,M.default)(te.default)}})),d=(0,l.useStateFromStores)([te.default,w.default],(function(){return w.default.hasHotspot(Re.HotspotLocations.VOICE_PANEL_INTRODUCTION)&&(0,Ae.isNewUser)(t)&&!te.default.isInteractionRequired()&&!(null==s?void 0:s.isGuildStageVoice())})),f=(0,l.useStateFromStores)([ie.default],(function(){return null!=o&&ie.default.hasVideo(o)}),[o]),p=(0,l.useStateFromStores)([Q.default],(function(){return null!=t?Q.default.getActiveStreamForUser(t.id):null}),[t]),v=(0,l.useStateFromStores)([ee.default],(function(){return ee.default.hasLayers()})),y=(0,l.useStateFromStores)([X.default],(function(){return X.default.isViewingRoles(r)
})),h=(0,l.useStateFromStores)([ne.default],(function(){return y&&!ne.default.can(Ne.Permissions.VIEW_CHANNEL,s)}),[y,s]),m=x.RtcPanelShowVoiceStates.useSetting(),_=Ye((0,l.useStateFromStoresArray)([ue.default,G.default],(function(){return(null==s?void 0:s.isGuildStageVoice())?[G.default.getMutableParticipants(s.id,F.StageChannelParticipantNamedIndex.SPEAKER),G.default.getParticipantsVersion(s.id),null]:[null,null,null!=s?ue.default.getVoiceStatesForChannel(s):null]}),[s]),3),g=_[0],E=_[1],O=_[2],S=a.useMemo((function(){var e,t;return null!==(e=null!==(t=null==g?void 0:g.map((function(e){return{user:e.user,nick:e.userNick,voiceState:e.voiceState}})))&&void 0!==t?t:O)&&void 0!==e?e:[]}),[g,E,O]),b=Ye(a.useState(!1),2),T=b[0],A=b[1];a.useEffect((function(){(y||h)&&A(!1)}),[y,h,A]);var P=L.default.useExperiment({guildId:null!=r?r:""},{autoTrackExposure:!0}).allowSoundboard,N=(0,j.useIsSoundboardSupported)();return qe((0,
C.default)(I.default.RTC_PANEL).AnalyticsLocationProvider,{},void 0,qe("div",{className:De.default.wrapper},void 0,a.createElement(rt,Ke({},e,c,i,{guild:u,channel:s,hasVideo:f,selfStream:p,hasLayers:v,voiceStates:S,showVoiceStates:m,shouldShowVoicePanelIntroduction:d,canUseSoundboard:P&&N})),!T&&y&&null!=r?qe("div",{className:De.default.viewAsRolesWarning},void 0,qe(ye.Text,{variant:"text-sm/normal",className:De.default.viewAsRolesWarningText},void 0,h?we.default.Messages.VIEW_AS_ROLES_HIDDEN_VC_WARNING:we.default.Messages.VIEW_AS_ROLES_VOICE_WARNING),qe(se.default,{className:De.default.viewAsRolesWarningButton,size:se.default.Sizes.MIN,onClick:function(){A(!0)}},void 0,we.default.Messages.DISMISS)):null))}at.displayName="ConnectedRTCConnection";var ot=(0,v.default)(at);t.default=ot},547636:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.channel;return t.isGuildStageVoice()?h(m,{channel:t}):h(_,{channel:t})};!function(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=v(n(136873)),o=n(695475),i=n(452453),u=v(n(435903)),l=n(559133),s=v(n(913687)),c=v(n(331546)),d=v(n(233121)),f=v(n(139574)),p=v(n(247001));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e){var t=e.channel;return h(f.default,{tooltipText:p.default.Messages.STAGE_CHANNEL_LEAVE_BUTTON,onClick:function(){(0,s.default)(t)?(0,l.openEndStageModal)(t):a.default.disconnect()},icon:d.default})}m.displayName="DisconnectStageButton";function _(e){var t=e.channel,n=(0,o.useWarnLastEligibleHost)({channelId:t.id,shouldDisconnectCall:!0});return h(f.default,{tooltipText:p.default.Messages.DISCONNECT_SELF,onClick:function(){n()||((0,u.default)(t)?(0,i.openEndEventModal)(t):a.default.disconnect())},icon:c.default})}_.displayName="DisconnectVoiceButton"},529025:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=F
;var r,a=A(n(667294)),o=C(n(294184)),i=n(536211),u=n(378158),l=C(n(100205)),s=C(n(711195)),c=C(n(414068)),d=C(n(423046)),f=C(n(397228)),p=A(n(219849)),v=C(n(16941)),y=C(n(160629)),h=C(n(730977)),m=C(n(324582)),_=C(n(287317)),g=C(n(155393)),E=C(n(485308)),O=C(n(582945)),S=n(378542),b=C(n(247001)),I=C(n(270711));function C(e){return e&&e.__esModule?e:{default:e}}function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}function A(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function P(e,t){return function(e){if(Array.isArray(e))return e
}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||M(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){if(e){if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?N(e,t):void 0}}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function R(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function w(){w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return w.apply(this,arguments)}function D(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function L(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){D(o,r,a,i,u,"next",e)}function u(e){D(o,r,a,i,u,"throw",e)}i(void 0)}))}}var k={offset:2},j={serverDeaf:{icon:m.default,colorize:!0,
getStatus:function(){return b.default.Messages.SERVER_DEAFENED}},serverMute:{icon:_.default,colorize:!0,getStatus:function(){return b.default.Messages.SERVER_MUTED}},deaf:{icon:m.default,colorize:!1,getStatus:function(){return b.default.Messages.VOICE_CHANNEL_DEAFENED}},mute:{icon:_.default,colorize:!1,getStatus:function(){return b.default.Messages.VOICE_CHANNEL_MUTED}}};function U(e){var t,r,d=e.channel,p=e.user,m=e.nick,_=e.mute,g=e.deaf,E=e.serverMute,O=e.serverDeaf,C=(0,i.useStateFromStores)([f.default],(function(){return f.default.isSpeaking(p.id)||f.default.isSoundSharing(p.id)}),[p.id]),T=null!==(t=d.getGuildId())&&void 0!==t?t:void 0,A=p.getAvatarURL(d.guild_id,24),P=null!=m?m:p.username,M=null!==(r=O?j.serverDeaf:g?j.deaf:E?j.serverMute:_?j.mute:void 0)&&void 0!==r?r:{},N=M.icon,D=M.colorize,U=M.getStatus,G=null!=U?b.default.Messages.VOICE_PANEL_USER_TOOLTIP.format({userName:P,status:U()}):P;function F(e){null!=T?(0,
u.openContextMenuLazy)(e,L(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(31626),n.e(1759),n.e(48811),n.e(50690),n.e(39048),n.e(40100)]).then(n.bind(n,205814));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,w({},e,{user:p,guildId:T,channelId:d.id,showMediaItems:!0}))}));case 5:case"end":return e.stop()}}),e)})))):(0,u.openContextMenuLazy)(e,L(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(31626),n.e(1759),n.e(56159)]).then(n.bind(n,856159));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,w({},e,{user:p,showMediaItems:!0}))}));case 5:case"end":return e.stop()}}),e)}))))}return R(y.default,{preload:function(){return(0,s.default)(p.id,p.getAvatarURL(T,80),{guildId:T})},
position:y.default.Positions.TOP,renderPopout:function(e){return a.createElement(c.default,w({userId:p.id,guildId:T,channelId:d.id},e))}},void 0,(function(e){return R(h.default,{text:G},void 0,(function(t){var n,r;return a.createElement(v.default,w({},t,e,{className:I.default.avatarContainer,onContextMenu:F,focusProps:k}),R(l.default,{shakeLocation:S.ShakeLocation.VOICE_USER,isShaking:C},void 0,R("div",{className:(0,o.default)(I.default.avatar,(n={},n[I.default.speaking]=C,n)),style:{backgroundImage:"url("+A+")"}},void 0,null!=N?R(N,{className:(0,o.default)(I.default.avatarIconOverlay,(r={},r[I.default.avatarIconRed]=D,r)),width:16,height:16,foreground:I.default.avatarIconRed}):null)))}))}))}U.displayName="User";function G(e,t){for(var n,r=[],a=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=M(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{
done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(e);!(n=a()).done;){var o=n.value;if(o.user.id!==t){if(r.length>=7)return[r,!0];r.push(o)}}return[r,!1]}function F(e){var t=e.voiceStates,n=e.channel,r=e.className,u=P(a.useState(!1),2),l=u[0],s=u[1],c=l?E.default:g.default,f=R(p.default,{className:I.default.expandButton,onClick:function(){return s(!l)},color:p.CircleIconButtonColors.PRIMARY,size:p.CircleIconButtonSizes.SIZE_24,tooltip:l?b.default.Messages.VOICE_PANEL_HIDE_EXTRAS:b.default.Messages.VOICE_PANEL_SHOW_EXTRAS,icon:R(c,{width:16,height:16}),focusProps:k}),v=(0,i.useStateFromStores)([d.default],(function(){return d.default.getId()}),[]),y=P(G(t,v),2),h=y[0],m=y[1],_=m&&l?t:h;return _.length<=0?null:R(O.default,{className:(0,o.default)(I.default.scroller,r),fade:!0},void 0,R("div",{className:I.default.voiceUsers,role:"group",
"aria-label":b.default.Messages.VOICE_PANEL_USERS_A11Y_LABEL},void 0,_.map((function(e){var t=e.user,r=e.nick,a=e.voiceState;return t.id!==v?R(U,{channel:n,user:t,nick:r,mute:a.isVoiceMuted(),deaf:a.isVoiceDeafened(),video:a.selfVideo,serverMute:a.mute,serverDeaf:a.deaf},t.id):null})),m?f:null))}F.displayName="RTCConnectionVoiceUsers"},913914:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(378158),i=d(n(252149)),u=d(n(530250)),l=d(n(628551)),s=d(n(582945)),c=d(n(827955));function d(e){
return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(){v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return v.apply(this,arguments)}function y(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function h(e){return function(){var t=this,n=arguments
;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){y(o,r,a,i,u,"next",e)}function u(e){y(o,r,a,i,u,"throw",e)}i(void 0)}))}}function m(e,t){m=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return m(e,t)}var _=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;m(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;r.handleContextMenu=function(e,t){(0,o.openContextMenuLazy)(e,h(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(31626),n.e(1759),n.e(56159)]).then(n.bind(n,856159));case 2:r=e.sent;o=r.default;return e.abrupt("return",(function(e){return a.createElement(o,v({},e,{user:t}))}));case 5:case"end":return e.stop()}}),e)}))))};r.renderUser=function(e){var t=this;return null==e?null:p(u.default,{className:c.default.user,align:u.default.Align.CENTER,onContextMenu:function(n){
null!=e&&t.handleContextMenu(n,e)}},e.id,p(l.default,{src:e.getAvatarURL(void 0,24),"aria-label":e.username,size:l.default.Sizes.SIZE_24,className:c.default.avatar}),p(i.default,{user:e,className:c.default.tag,usernameClass:c.default.username,discriminatorClass:c.default.discriminator}))};r.render=function(){var e=this,t=this.props,n=t.party,r=t.header,a=n.map((function(t){return e.renderUser(t)}));return p("div",{className:c.default.userList},void 0,p("div",{className:c.default.header},void 0,r),p(s.default,{className:c.default.content,fade:!0},void 0,a))};return t}(a.PureComponent);_.displayName="UserListPopout";var g=_;t.default=g},805918:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=E(n(572935)),u=n(678928),l=n(687549),s=E(n(178504)),c=E(n(122913)),d=E(n(689389)),f=E(n(290629)),p=E(n(728429)),v=n(956506),y=n(247726),h=E(n(40049)),m=n(997988),_=n(770348),g=E(n(247001));function E(e){return e&&e.__esModule?e:{default:e}}function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function S(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){(null==t||t>e.length)&&(t=e.length)
;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e){var t=e.className,n=e.style,r=e.channel,E=e.draftType,O=b(a.useState(!0),2),I=O[0],C=O[1],T=(0,o.useStateFromStores)([c.default],(function(){return c.default.hasLayers()})),A=(0,o.useStateFromStores)([d.default],(function(){return null!=r&&d.default.can(_.Permissions.ATTACH_FILES,r)}),[r]),P=null!=(0,o.useStateFromStores)([i.default],(function(){return i.default.getActiveCommand(r.id)})),M=r.getGuildId(),N=E===l.DraftType.FirstThreadMessage,R=a.useMemo((function(){return!T&&(r.isPrivate()&&!r.isManaged()||null!=M&&A&&s.default.canChatInGuild(M))}),[A,r,M,T]),w=N?g.default.Messages.UPLOAD_TO_NEW_THREAD:I?g.default.Messages.UPLOAD_TO.format({destination:(0,u.computeChannelName)(r,p.default,f.default,!0)}):g.default.Messages.UPLOAD_AREA_TITLE_NO_CONFIRMATION;return P||!R?null:S(h.default,{className:t,style:n,title:w,description:N?g.default.Messages.UPLOAD_AREA_NEW_THREAD_HELP:g.default.Messages.UPLOAD_AREA_HELP,
icons:m.DEFAULT_FILE_UPLOAD_ICONS,onDrop:function(e){if(P)return!1;if(R&&null!=r){(0,y.promptToUpload)(e,r,E,{requireConfirm:I,showLargeMessageDialog:!1});v.ComponentDispatch.dispatch(_.ComponentActions.TEXTAREA_FOCUS)}},onDragClear:function(){return C(!0)},onDragOver:function(e){if(P)return!1;N||e.shiftKey!==I||C(!e.shiftKey)}})}C.displayName="ChannelUploadArea";var T=C;t.default=T},285209:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=v(n(441143)),i=n(536211),u=v(n(939949)),l=n(825185),s=n(914905),c=v(n(816624)),d=v(n(728429)),f=v(n(784241)),p=n(770348);function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){
o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g=function(e){var t=e.transitionState,n=e.onClose,r=(0,i.useStateFromStores)([c.default],(function(){return c.default.getErrors()})),v=(0,i.useStateFromStores)([c.default],(function(){return c.default.getFormState()})),y=(0,i.useStateFromStores)([d.default],(function(){
var e=d.default.getCurrentUser();(0,o.default)(null!=e,"EmailVerificationModal: user cannot be undefined");return e})),_=null!=y.email,g=m(a.useState(!0),2),E=g[0],O=g[1],S=v===p.FormStates.SUBMITTING;function b(e){var t,n;return null!==(t=null==r||null===(n=r[e])||void 0===n?void 0:n[0])&&void 0!==t?t:""}var I=b("email"),C=b("password");return h(f.default,{transitionState:t,email:y.email,emailError:I,passwordError:C,submitting:S,canResend:E&&!S&&_&&0===I.length&&0===C.length,onChangeEmailClick:function(){O(!1)},onVerify:function(e,t){(0,l.saveAccountChanges)({email:e,password:t}).then((function(e){var t;(null==e?void 0:e.ok)||null==(null==e||null===(t=e.body)||void 0===t?void 0:t.username)||(0,s.showInvalidUsernameToast)()}));O(!0)},onResend:function(){u.default.verifyResend()},onClose:n})};g.displayName="EmailVerificationModal";var E=g;t.default=E},403607:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.PHONE_THEN_EMAIL_INTERSTITIAL_MODAL_KEY=t.EMAIL_VERIFICATION_MODAL_KEY=void 0;t.default=U;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=N(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(47354),i=n(536211),u=M(n(118915)),l=M(n(939949)),s=n(264720),c=n(825185),d=M(n(88509)),f=M(n(145371)),p=M(n(14096)),v=M(n(185948)),y=n(947472),h=M(n(257867)),m=M(n(871778)),_=M(n(728429)),g=n(645758),E=M(n(288800)),O=M(n(749033)),S=M(n(502197)),b=n(194322),I=M(n(285209)),C=M(n(54725)),T=n(770348),A=n(52656),P=M(n(247001));function M(e){return e&&e.__esModule?e:{default:e}}function N(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(N=function(e){return e?n:t})(e)}function R(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function w(){w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return w.apply(this,arguments)}function D(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value)
;if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var k="Email Verification";t.EMAIL_VERIFICATION_MODAL_KEY=k;var j="PHONE_THEN_EMAIL_INTERSTITIAL_MODAL_KEY";t.PHONE_THEN_EMAIL_INTERSTITIAL_MODAL_KEY=j;function U(){var e=(0,i.useStateFromStoresObject)([_.default,h.default,m.default],(function(){return{user:_.default.getUser(),
action:h.default.getAction(),theme:m.default.theme}})),t=e.user,n=e.action,r=e.theme,M=null!=t&&null!=t.phone,N=T.VerificationTypes.CAPTCHA;n===T.UserRequiredActions.REQUIRE_VERIFIED_EMAIL&&M?N=T.VerificationTypes.EMAIL:n===T.UserRequiredActions.REQUIRE_VERIFIED_EMAIL?N=T.VerificationTypes.EMAIL_OR_PHONE:n===T.UserRequiredActions.REQUIRE_VERIFIED_PHONE&&(N=T.VerificationTypes.PHONE);var L=D(a.useState(0),2),U=L[0],G=L[1],F=(0,f.default)(N);(0,v.default)({type:o.ImpressionTypes.MODAL,name:o.ImpressionNames.USER_ACTION_REQUIRED,properties:{verification_type:N}},{},[N]);var x=function(){(0,c.accountDetailsInit)();(0,b.openModal)((function(e){return a.createElement(I.default,e)}),{modalKey:k,Layer:O.default})};a.useEffect((function(){p.default.disable();return function(){p.default.enable()}}),[]);a.useEffect((function(){F===T.VerificationTypes.PHONE&&N===T.VerificationTypes.EMAIL&&(0,b.openModal)((function(e){return a.createElement(d.default,w({},e,{
title:P.default.Messages.PHONE_THEN_EMAIL_INTERSTITIAL_TITLE,body:P.default.Messages.PHONE_THEN_EMAIL_INTERSTITIAL_BODY,confirmText:P.default.Messages.PHONE_THEN_EMAIL_INTERSTITIAL_CONFIRM}))}),{modalKey:j,Layer:O.default,onCloseCallback:x})}),[N,F]);return R(E.default,{type:N,captchaKey:U,onCaptchaVerify:function(e){u.default.post({url:T.Endpoints.CAPTCHA,body:{captcha_key:e},oldFormErrors:!0}).then(s.popLayer,(function(){G((function(e){return e+1}))}))},theme:r,onClick:function(e){e===T.VerificationTypes.EMAIL_OR_PHONE||e===T.VerificationTypes.EMAIL?x():(0,b.openModal)((function(e){return a.createElement(C.default,w({reason:y.ChangePhoneReason.USER_ACTION_REQUIRED},e))}),{modalKey:A.PHONE_VERIFICATION_MODAL_KEY,Layer:O.default})},onLogout:function(){return(0,b.openModal)((function(e){return a.createElement(S.default,w({header:P.default.Messages.LOGOUT,confirmText:P.default.Messages.LOGOUT,cancelText:P.default.Messages.CANCEL,onConfirm:function(){return l.default.logout()}
},e),R(g.Text,{variant:"text-md/normal"},void 0,P.default.Messages.USER_SETTINGS_CONFIRM_LOGOUT))}),{Layer:O.default})}})}U.displayName="Verification"},259880:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.close=f;t.open=function(){d=(0,i.openModal)((function(e){return r.createElement(o.default,c({title:u.default.Messages.CONFIRM_DISABLE_SILENCE_TITLE,body:u.default.Messages.CONFIRM_DISABLE_SILENCE_BODY,secondaryConfirmText:u.default.Messages.CONFIRM_DISABLE_SILENCE_DONT_SHOW,onConfirmSecondary:p,onConfirm:f,confirmText:u.default.Messages.OKAY},e))}))};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]
}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=l(n(740207)),o=l(n(88509)),i=n(194322),u=l(n(247001));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return c.apply(this,arguments)}var d=null;function f(){null!==d&&(0,i.closeModal)(d);d=null}function p(){a.default.setSilenceWarning(!1);f()}},294398:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){return a.createElement(a.Fragment,null,D,L,k,j,U,G,F)};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=n(747868),u=n(104144),l=n(567186),s=S(n(607209)),c=S(n(423046)),d=S(n(644263)),f=S(n(30098)),p=S(n(635014)),v=S(n(919935)),y=S(n(893160)),h=S(n(211136)),m=S(n(397228)),_=S(n(387692)),g=S(n(487372)),E=n(179379),O=n(770348);function S(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function I(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{})
;return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function C(e,t,n){a.useEffect((function(){var r=t(),a=new o.BatchedStoreListener(e,(function(){var e=t(),a=n(r,e);null==a||v.default.isSoundDisabled(a)||(0,E.playSound)(a,.4);r=e}));a.attach("useSound");return function(){return a.detach()}}))}function T(){C([p.default],(function(){return{selfMute:p.default.isSelfMute(),selfDeaf:p.default.isSelfDeaf(),audioPermissionReady:p.default.isNativeAudioPermissionReady()}}),(function(e,t){var n=t.selfMute,r=t.selfDeaf,a=t.audioPermissionReady;if(e.audioPermissionReady&&a)return e.selfDeaf!==r?r?"deafen":"undeafen":e.selfMute!==n?n?"mute":"unmute":void 0}));return null}function A(){C([d.default,y.default,h.default],(function(){var e=d.default.getChannel(h.default.getVoiceChannelId());return{channelType:null==e?void 0:e.type,disconnected:y.default.isDisconnected()}}),(function(e,t){var n=t.channelType,r=t.disconnected,a=e.channelType,o=e.disconnected;if(o&&o!==r){
if(null!=n&&l.SILENT_JOIN_LEAVE_CHANNEL_TYPES.has(n))return;return"user_join"}if(!o&&o!==r){if(null!=a&&l.SILENT_JOIN_LEAVE_CHANNEL_TYPES.has(a))return;return"disconnect"}}));return null}function P(){C([m.default],(function(){return m.default.isCurrentUserSpeaking()}),(function(e,t){if(e!==t){var n=p.default.isSelfMute();if(p.default.getMode()===O.InputModes.PUSH_TO_TALK&&!n)return t?"ptt_start":"ptt_stop"}}));return null}function M(){C([p.default],(function(){return p.default.isSelfMutedTemporarily()}),(function(e,t){if(e!==t){var n=p.default.isSelfMute();if(p.default.getMode()===O.InputModes.VOICE_ACTIVITY&&!n)return t?"ptt_stop":"ptt_start"}}));return null}function N(){C([_.default],(function(){return _.default.userHasBeenMovedVersion}),(function(e,t){if(e!==t)return"user_moved"}));return null}function R(){C([h.default,_.default],(function(){var e=h.default.getVoiceChannelId();if(null==e)return u.RequestToSpeakStates.NONE;var t=_.default.getVoiceStateForChannel(e);return(0,
u.getAudienceRequestToSpeakState)(t)}),(function(e,t){if(e!==t&&t===u.RequestToSpeakStates.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK)return"reconnect"}));return null}function w(){C([h.default,s.default,c.default,_.default,d.default],(function(){var e,t,n=h.default.getVoiceChannelId(),r=c.default.getId(),a=0,o=[],u=null,l=0,f=s.default.getAllActiveStreams();if(null!=n){var p=d.default.getChannel(n);if(null!=p){t=p.type;a=g.default.countVoiceStatesForChannel(p.id)-1;o=s.default.getAllApplicationStreamsForChannel(p.id).map((function(e){return e.ownerId}))}}var v=null;(null===(e=v=1===f.length?f[0]:null!=r?s.default.getActiveStreamForUser(r):null)||void 0===e?void 0:e.state)===O.ApplicationStreamStates.CONNECTING&&(v=null);if(null!=v){u=(0,i.encodeStreamKey)(v);l=s.default.getViewerIds(u).filter((function(e){return e!==r})).length}return{channelType:t,voiceChannelId:n,voiceChannelUserCount:a,streamingUserIds:o,singleActiveStreamKey:u,singleActiveStreamViewerCount:l,currentUserId:r,
allActiveStreams:f}}),(function(e,t){var n=t.channelType,r=t.voiceChannelId,a=t.voiceChannelUserCount,o=t.streamingUserIds,i=t.singleActiveStreamKey,u=t.singleActiveStreamViewerCount,s=t.currentUserId;if(e.voiceChannelId===r&&null!=r&&!(function(e){var t=d.default.getChannel(e);if(null==t)return!1;var n=t.getGuildId();if(null==n)return!1;var r=f.default.getGuild(n);return null!=r&&r.afkChannelId===t.id}(r)||null!=n&&l.SILENT_JOIN_LEAVE_CHANNEL_TYPES.has(n))){var c=null!=i&&e.singleActiveStreamKey===i,p=o.some((function(t){return!e.streamingUserIds.includes(t)})),v=e.allActiveStreams.map((function(e){return e.ownerId})),y=e.streamingUserIds.some((function(e){return!o.includes(e)&&(e===s||v.includes(e))}))
;return p?"stream_started":y?"stream_ended":e.singleActiveStreamViewerCount<=25&&c&&u>e.singleActiveStreamViewerCount?"stream_user_joined":e.voiceChannelUserCount<=25&&a>e.voiceChannelUserCount?"user_join":e.voiceChannelUserCount<=25&&a<e.voiceChannelUserCount?"user_leave":e.singleActiveStreamViewerCount<=25&&c&&u<e.singleActiveStreamViewerCount?"stream_user_left":void 0}}));return null}var D=I(T,{}),L=I(A,{}),k=I(P,{}),j=I(M,{}),U=I(N,{}),G=I(w,{}),F=I(R,{})},244165:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=r.useRef(null),n=r.useCallback((function(n){if(null!=e){"function"==typeof e?e(n):e.current=n;t.current=n}}),[e]);return[t,n]};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=o?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(r,i,u):r[i]=e[i]}r.default=e;n&&n.set(e,r);return r}(n(667294));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}},267115:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=(0,l.useModalsStore)((function(e){return t=e,!Object.entries(t).every((function(e){var t=f(e,2);t[0];return 0===t[1].length}));var t})),t=(0,a.useStateFromStores)([u.default],(function(){return u.default.isOpen()})),n=(0,a.useStateFromStores)([i.default],(function(){return i.default.hasLayers()})),c=f(r.useState(!1),2),d=c[0],p=c[1],v=(0,o.useWindowDispatch)();r.useEffect((function(){function e(){p(!0)}function t(){p(!1)}v.subscribe(s.ComponentActions.POPOUT_SHOW,e);v.subscribe(s.ComponentActions.POPOUT_HIDE,t)
;return function(){v.unsubscribe(s.ComponentActions.POPOUT_SHOW,e);v.unsubscribe(s.ComponentActions.POPOUT_HIDE,t)}}),[v]);return e||t||d||n};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(536211),o=n(433383),i=c(n(122913)),u=c(n(433512)),l=n(194322),s=n(770348);function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},876647:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.default=function(e){var t=(i=(0,r.useState)((function(){return window.matchMedia(e).matches})),u=2,function(e){if(Array.isArray(e))return e}(i)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}}(i,u)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(i,u)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),n=t[0],o=t[1];var i,u;(0,r.useEffect)((function(){
var t=window.matchMedia(e);function n(e){var t=e.matches;o(t)}t.addEventListener("change",n);return function(){t.removeEventListener("change",n)}}),[e]);return n};var r=n(667294);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},448549:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.cancelAll=function(){o&&speechSynthesis.cancel()};t.createUtterance=i;t.speak=function(e,t,n){if(o){var r=i(e,n);u(r,t);return r}};t.speakUtterance=u;t.supported=void 0;var r,a=(r=n(91603))&&r.__esModule?r:{default:r};var o=null!=window.speechSynthesis;t.supported=o;function i(e,t){var n=e.replace(/(https?:\/\/[^\s]+)/g,(function(e){var t=e.match(/^https?:\/\/(?:www\.)?([^/?#]+)(?:[/?#]|$)/i);return null!=t?t[1]:""}));null!=t&&n.length>t&&(n=(n=n.substr(0,t)).substr(0,Math.min(n.length,n.lastIndexOf(" "))));var r=new SpeechSynthesisUtterance(n);r.rate=a.default.speechRate;return r}function u(e,t){if(o){e.voice=t
;speechSynthesis.speak(e)}}},697255:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.analyze=d;t.createASTHighlighter=function(e){var t=new Set(d(e));return function(e){return p(e,t)}};t.highlightAST=p;t.shouldHighlight=f;var r=o(n(496486)),a=o(n(470661));function o(e){return e&&e.__esModule?e:{default:e}}var i=new Set(["a","an","and","are","as","at","be","but","by","for","if","in","into","is","it","no","not","of","on","or","such","that","the","their","then","there","these","they","this","to","was","will","with"]);function u(e){return e.replace(/('|\u2019|\uFF07)(s|S)$/,"")}function l(e){return e.toLowerCase()}function s(e){return i.has(e)}function c(e){return 0===e.length}function d(e){return(0,r.default)(e.split(/\W+/)).map(u).reject(c).map(l).reject(s).map(a.default).value()}function f(e,t){return!c(e=l(u(e)))&&!s(e)&&t.has((0,a.default)(e))}function p(e,t){if(Array.isArray(e))e.forEach((function(e){return p(e,t)
}));else if("string"==typeof e.content&&"codeBlock"!==e.type){var n=[],r="";e.content.split(/(\W+)/g).forEach((function(e){if(f(e,t)){r.length>0&&n.push({type:"text",content:r});n.push({type:"highlight",content:e});r=""}else r+=e}));if(n.length>0){r.length>0&&n.push({type:"text",content:r});"text"===e.type?e.content=n:e.content=[{type:"text",content:n}]}}else null!=e.content&&p(e.content,t);return e}},143194:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.fetchActiveChannels=function(e,t){return c.apply(this,arguments)};var r=u(n(118915)),a=u(n(636602)),o=u(n(568681)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){l(o,r,a,i,u,"next",e)}function u(e){l(o,r,a,i,u,"throw",e)}i(void 0)}))}}function c(){
return(c=s(regeneratorRuntime.mark((function e(t,n){var u,l,s,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:void 0===n&&(n=10);a.default.dirtyDispatch({type:i.ActionTypes.ACTIVE_CHANNELS_FETCH_START,guildId:t});e.prev=2;e.next=5;return r.default.get({url:i.Endpoints.ACTIVE_CHANNELS(t),query:{channel_limit:n}});case 5:s=e.sent;c=null!==(u=null===(l=s.body)||void 0===l?void 0:l.channels)&&void 0!==u?u:[];a.default.dispatch({type:i.ActionTypes.ACTIVE_CHANNELS_FETCH_SUCCESS,guildId:t,channels:c});return e.abrupt("return",s);case 11:e.prev=11;e.t0=e.catch(2);a.default.dispatch({type:i.ActionTypes.ACTIVE_CHANNELS_FETCH_FAILURE,guildId:t,error:new o.default(e.t0)});throw e.t0;case 15:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)}},65770:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,n){var s=(0,a.useStateFromStores)([o.default],(function(){
var t=o.default.getActiveChannelsFetchStatus(e);return null!=t&&!t.loading}),[e]);r.useEffect((function(){s&&u.default.track(l.AnalyticEvents.ACTIVE_CHANNELS_LOADED,{guild_id:e,text_channels_shown:t.length,voice_channels_shown:n.length,home_session_id:i.default.getHomeSessionId(e)})}),[e,s])};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(536211),o=s(n(304242)),i=s(n(173101)),u=s(n(308920)),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t
})(e)}},631735:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.activitiesNitroExperimentTreatments=t.activitiesNitroExperimentId=t.ActivitiesNitroExperiment=void 0;var r=n(373505),a="2022-04_activities_nitro";t.activitiesNitroExperimentId=a;var o=[{id:0,label:"Control",config:{enableNitroActivities:!1}},{id:1,label:"Enable Nitro Activities",config:{enableNitroActivities:!0}}];t.activitiesNitroExperimentTreatments=o;var i=(0,r.createExperiment)({kind:"user",id:a,label:"Activities in Nitro",defaultConfig:{enableNitroActivities:!1},treatments:o});t.ActivitiesNitroExperiment=i},678164:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.createRolloutExperiment=void 0;t.useActivitiesRolloutExperiments=function(e){r.useEffect((function(){null!=e&&u.forEach((function(t){t.trackExposure({guildId:e})}))}),[e])};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=a?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(r,i,u):r[i]=e[i]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(373505);function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}var i=function(e,t){return(0,a.createExperiment)({kind:"guild",id:t,label:"Exposure tracking for "+e+" (do not override)",defaultConfig:{},treatments:[]})};t.createRolloutExperiment=i;var u=[i("Watch Together","2021-09_watch_together_rollout")]},608286:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useNitroChatInputActivityButton=t.ChatInputNitroActivityButtonExperiment=void 0;var r,a=n(536211),o=n(373505),i=(r=n(728429))&&r.__esModule?r:{default:r},u=n(631735);var l=(0,o.createExperiment)({
kind:"user",id:"2022-05_nitro_chat_input_activity_button",label:"Nitro chat input activity button",defaultConfig:{enableNitroActivityButton:!1},treatments:[{id:0,label:"Control",config:{enableNitroActivityButton:!1}},{id:1,label:"Enable Nitro chat input activity button - Treatment 1",config:{enableNitroActivityButton:!0}}]});t.ChatInputNitroActivityButtonExperiment=l;t.useNitroChatInputActivityButton=function(){var e,t,n=(0,a.useStateFromStores)([i.default],(function(){return i.default.getCurrentUser()})),r=u.ActivitiesNitroExperiment.useExperiment(null!==(e=null==n?void 0:n.id)&&void 0!==e?e:"").enableNitroActivities,o=l.useExperiment({userId:null!==(t=null==n?void 0:n.id)&&void 0!==t?t:""}).enableNitroActivityButton;if(r){var s;l.trackExposure({userId:null!==(s=null==n?void 0:n.id)&&void 0!==s?s:""})}return r&&o}},698462:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useBeb=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=(r=n(30098))&&r.__esModule?r:{default:r},u=n(929659),l=n(746920),s=n(770348);function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}t.useBeb=function(e){var t=(0,o.useStateFromStores)([i.default],(function(){return i.default.getGuild(e)})),n=u.ActivitiesBebExperiment.useExperiment({guildId:null!=e?e:""}),r=n.enableBeb,c=n.exposedToBeb;a.useEffect((function(){null!=e&&u.ActivitiesBebExperiment.trackExposure({guildId:e})}),[e]);a.useEffect((function(){var e=setTimeout((function(){
c&&null!=t&&!t.features.has(s.GuildFeatures.EXPOSED_TO_ACTIVITIES_WTP_EXPERIMENT)&&(0,l.enableWtpGuildFeature)(t.id)}),1e4+1e4*Math.random());return function(){return clearTimeout(e)}}),[t,c]);return r}},845715:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=a.default.getId(),n=(0,r.useStateFromStoresObject)([o.default],(function(){var n,r=o.default.getSelfEmbeddedActivityForChannel(e.id),a=null===(n=o.default.getEmbeddedActivitiesForChannel(e.id).find((function(e){return e.application_id===(null==r?void 0:r.application_id)})))||void 0===n?void 0:n.connections,i=null==a?void 0:a.has(t);return{userActivity:r,inActivity:null!=i&&i}})),i=n.userActivity,u=n.inActivity;return{userActivity:i,inActivity:u}};var r=n(536211),a=i(n(423046)),o=i(n(303798));function i(e){return e&&e.__esModule?e:{default:e}}},186096:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useFreeActivityIndicator=void 0
;var r=n(536211),a=l(n(30098)),o=n(929659),i=l(n(303798)),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}t.useFreeActivityIndicator=function(e){var t=e.guildId,n=e.appId,l=(0,r.useStateFromStores)([a.default],(function(){return a.default.getGuild(t)})),s=null!=l&&l.premiumTier===u.BoostedGuildTiers.NONE,c=o.ActivitiesBebExperiment.useExperiment({guildId:null!=t?t:""}).hasRotatingActivity,d=(0,r.useStateFromStoresObject)([i.default],(function(){return{shouldShowFreeIndicator:i.default.getState().shouldShowNewActivityIndicator||c&&s&&i.default.shouldShowIndicatorForActivity(n),isRotatingFreeActivity:c&&s&&i.default.getState().currentFreeActivity===n}}));return{shouldShowFreeIndicator:d.shouldShowFreeIndicator,isRotatingFreeActivity:d.isRotatingFreeActivity}}},845260:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,n){void 0===n&&(n=window);var a=(0,o.useStateFromStores)([l.default],(function(){
return l.default.keyboardModeEnabled})),d=(0,i.default)(),f=(_=r.useState(!1),g=2,function(e){if(Array.isArray(e))return e}(_)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}}(_,g)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(_,g)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),y=f[0],h=f[1],m=(0,u.useWindowDispatch)();var _,g;r.useEffect((function(){if(t){
n.addEventListener("blur",e);return function(){return n.removeEventListener("blur",e)}}function e(){if(d){m.dispatch(c.ComponentActions.POPOUT_CLOSE);s.ComponentDispatch.dispatch(c.ComponentActions.CONTEXT_MENU_CLOSE)}}}),[n,d,t,m]);r.useEffect((function(){var r,o;if(!a&&y&&t){var i=d;null===(r=e.current)||void 0===r||r.addEventListener("focusout",l);if("IFRAME"!==(null===(o=n.document.activeElement)||void 0===o?void 0:o.tagName)&&!i){var u;null===(u=e.current)||void 0===u||u.focus()}return function(){var t;null===(t=e.current)||void 0===t||t.removeEventListener("focusout",l);i=!0}}function l(t){var n=t.relatedTarget;setTimeout((function(){null!=n&&"BUTTON"!==n.tagName||i||v(e)}),100)}}),[t,y,a,e,n,d]);return h};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(496486),o=n(536211),i=d(n(267115)),u=n(433383),l=d(n(235879)),s=n(956506),c=n(770348);function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v=(0,a.debounce)((function(e){setTimeout((function(){var t;null===(t=e.current)||void 0===t||t.focus()}),0)}),50)},120021:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useInflatedBundleItem=function(e,t,n){var r,a=h(e,n);return null!==(r=a.find((function(e){return e.application.id===t})))&&void 0!==r?r:null};t.useInflatedBundleItems=h;var r=function(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(536211),o=f(n(469487)),i=f(n(424099)),u=n(71246),l=n(864489),s=f(n(303798)),c=f(n(493040)),d=n(770348);function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){var n=(0,a.useStateFromStores)([i.default],(function(){return i.default.testModeEmbeddedApplicationId})),f=(0,a.useStateFromStoresArray)([s.default],(function(){return s.default.getBundleItems(null!=e?e:"")})),p=r.useMemo((function(){return null==n||""===n?f:[{application_id:n,expires_on:null,premium_tier_level:d.BoostedGuildTiers.NONE,new_until:null,always_free:!1,nitro_requirement:!1}].concat(v(f.filter((function(e){return e.application_id!==n}))))}),[f,n])
;return(0,o.default)(p.map((function(e){return e.application_id}))).filter(u.isNotNullish).map((function(e){return{application:e,bundleItem:p.find((function(t){return t.application_id===e.id}))}})).filter((function(e){var r;return(null!==(r=null!=t?t:e.application.activitySupportedPlatforms)&&void 0!==r?r:[]).includes((0,c.default)((0,l.getOS)()))||e.application.id===n}))}},198016:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){return(0,r.useInflatedBundleItems)(e).length>0};var r=n(120021)},749401:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.channel,n=e.userActivity,o=e.inActivity,i=e.embeddedActivitiesManager,u=e.activityUrl,l=r.useCallback((function(){null!=u&&i.setActivityUrl(u)}),[i,u]);r.useEffect((function(){if(!o){i.initialize();(0,a.launchEmbeddedActivity)(t.id);l()}}),[null==n?void 0:n.application_id,t.id,o,l,i])};var r=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=a?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(r,i,u):r[i]=e[i]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(746920);function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}},645068:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.allowPopups,a=e.allowPointerLock,o=r;t&&(o=[].concat(r,["allow-popups","allow-popups-to-escape-sandbox"]));a&&(o=[].concat(function(e){if(Array.isArray(e))return n(e)}(i=o)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(i)||function(e,t){if(e){
if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);return"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),["allow-pointer-lock"]));var i;return o.join(" ")};function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var r=["allow-scripts","allow-same-origin"]},493040:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){switch(e){case"android":return r.EmbeddedActivitySupportedPlatforms.ANDROID;case"ios":return r.EmbeddedActivitySupportedPlatforms.IOS;default:return r.EmbeddedActivitySupportedPlatforms.WEB}};var r=n(81069)},24803:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.channelId,o=e.applicationId,u=e.shouldDisconnectCall;(0,a.openModalLazy)(l(regeneratorRuntime.mark((function e(){var a,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(12404)]).then(n.bind(n,212404));case 2:a=e.sent;l=a.default;return e.abrupt("return",(function(e){return r.createElement(l,i({applicationId:o,channelId:t,shouldDisconnectCall:u},e))}));case 5:case"end":return e.stop()}}),e)}))))};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=a?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(r,i,u):r[i]=e[i]}r.default=e;n&&n.set(e,r)
;return r}(n(667294)),a=n(194322);function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}function i(){i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return i.apply(this,arguments)}function u(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){u(o,r,a,i,l,"next",e)}function l(e){u(o,r,a,i,l,"throw",e)}i(void 0)}))}}},933577:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.applicationId,n=e.size,o=e.names,l=void 0===o?s:o,c=i(r.useState(null),2),d=c[0],f=c[1],p=i(r.useState(!0),2),v=p[0],y=p[1],h=(0,a.getAssetImage)(t,d,n),m=v?"loading":null!=h?"fetched":"not-found"
;r.useEffect((function(){(0,a.getAssetIds)(t,l).then((function(e){y(!1);for(var t,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=u(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(e);!(t=n()).done;){var r=t.value;if(null!=r&&""!==r){f(r);return}}}))}),[t]);return{url:h,state:m}};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=a?Object.getOwnPropertyDescriptor(e,i):null
;u&&(u.get||u.set)?Object.defineProperty(r,i,u):r[i]=e[i]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(698243);function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||u(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var s=["embedded_cover","embedded_background"]},695475:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useWarnLastEligibleHost=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=s(n(728429)),o=n(71246),i=n(631735),u=s(n(303798)),l=s(n(24803));function s(e){return e&&e.__esModule?e:{default:e}}function c(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}t.useWarnLastEligibleHost=function(e){var t=e.channelId,n=e.shouldDisconnectCall,s=void 0!==n&&n,c=i.ActivitiesNitroExperiment.useExperiment({},{autoTrackExposure:!0}).enableNitroActivities,d=u.default.getSelfEmbeddedActivityForChannel(t),f=a.default.getCurrentUser(),p=null==d?void 0:d.application_id,v=!(null==f||!(0,o.isNotNullish)(p))&&u.default.isLastEligibleHost(f.id,p);return r.useCallback((function(){if(c&&v&&(0,o.isNotNullish)(p)){(0,l.default)({applicationId:p,channelId:t,shouldDisconnectCall:s});return!0}return!1}),[p,t,c,v,s])}},345840:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ACTIVITY_ENCOURAGES_HW_ACCELERATION=void 0;t.default=C;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=_(n(929031)),i=_(n(469487)),u=_(n(956117)),l=_(n(789446)),s=_(n(530250)),c=n(645758),d=n(3400),f=_(n(308920)),p=_(n(922629)),v=n(770348),y=_(n(247001)),h=_(n(131378)),m=["applicationId"];function _(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function E(){E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return E.apply(this,arguments)}function O(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var I="Activity Encourages Hardware Acceleration";t.ACTIVITY_ENCOURAGES_HW_ACCELERATION=I;function C(e){var t,n=e.applicationId,r=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,m),_=S(a.useState(!1),2),g=_[0],b=_[1],C=S((0,i.default)([n]),1)[0],T=null!==(t=null==C?void 0:C.name)&&void 0!==t?t:"This Activity";a.useEffect((function(){f.default.track(v.AnalyticEvents.OPEN_MODAL,{type:I})}),[]);var A=function(){var e="temporary";if(g){e="permanent";o.default.updatedUnsyncedSettings({disableActivityHardwareAccelerationPrompt:!0})}
f.default.track(v.AnalyticEvents.MODAL_DISMISSED,{type:I,dismiss_type:e});r.onClose()};return a.createElement(d.ModalRoot,E({className:h.default.root,"aria-label":y.default.Messages.ACTIVITY_HARDWARE_ACCELERATION_BETTER_TITLE},r),O(d.ModalHeader,{separator:!1},void 0,O(c.Text,{className:h.default.header,variant:"text-lg/normal"},void 0,y.default.Messages.ACTIVITY_HARDWARE_ACCELERATION_BETTER_TITLE),O(d.ModalCloseButton,{onClick:A,className:h.default.closeButton})),O(d.ModalContent,{className:h.default.content},void 0,O(c.Text,{variant:"text-md/normal",className:h.default.ratingBody},void 0,y.default.Messages.ACTIVITY_HARDWARE_ACCELERATION_BETTER_BODY.format({applicationName:T}))),O(d.ModalFooter,{className:h.default.footer,direction:s.default.Direction.HORIZONTAL},void 0,O(l.default,{type:l.default.Types.INVERTED,size:18,value:g,onChange:function(){return b(!g)}},void 0,O(c.Text,{variant:"text-sm/normal"},void 0,y.default.Messages.DONT_SHOW_AGAIN)),O(u.default,{
color:u.default.Colors.PRIMARY,onClick:A},void 0,y.default.Messages.ACTIVITY_HARDWARE_ACCELERATION_NO_THANKS),O(u.default,{color:u.default.Colors.BRAND,onClick:function(){f.default.track(v.AnalyticEvents.ACTIVITY_ENABLE_HARDWARE_ACCELERATION,{application_id:n});p.default.setEnableHardwareAcceleration(!0)}},void 0,y.default.Messages.ACTIVITY_HARDWARE_ACCELERATION_TURN_IT_ON)))}C.displayName="ActivityHardwareAccelerationModal"},71805:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.url,n=e.className,r=e.style,y=e.onLoad,h=e.shouldRefocus,g=e.queryParams,E=e.allowPointerLock,O=void 0!==E&&E,S=e.allowPopups,b=void 0!==S&&S,I=e.referrerPolicy,C=void 0===I?"origin":I,T=(0,u.useStateFromStores)([l.default],(function(){return l.default.getWindow(v.PopoutWindowKeys.CHANNEL_CALL_POPOUT)})),A=(0,o.useMemoOne)((function(){return i.default.v4()}),[t]),P=a.useRef(null),M=(0,d.default)(P,h,null==T?window:T),N=_({},g,{frame_id:A,
platform:p.ActivityPlatform.DESKTOP});a.useEffect((function(){c.ComponentDispatch.dispatch(v.ComponentActions.IFRAME_MOUNT,{id:A});return function(){c.ComponentDispatch.dispatch(v.ComponentActions.IFRAME_UNMOUNT,{id:A})}}),[A]);return null!=t?m("iframe",{style:r,allow:"autoplay",referrerPolicy:C,onLoad:function(e){var n;null==y||y(e.target);P.current=e.target;M(!0);null===(n=e.target.contentWindow)||void 0===n||n.postMessage([s.default.HELLO,N],null!=t?t:"")},sandbox:(0,f.default)({allowPopups:b,allowPointerLock:O}),className:n,src:t+"?"+new URLSearchParams(N)}):null};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}
r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(551163),i=y(n(468811)),u=n(536211),l=y(n(902305)),s=y(n(676606)),c=n(956506),d=y(n(845260)),f=y(n(645068)),p=n(418173),v=n(770348);function y(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(){_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return _.apply(this,arguments)}},
769195:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=p;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(536211),o=c(n(636602)),i=n(720409),u=c(n(902305)),l=n(956506),s=n(770348);function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}var f=function(e,t){return o.default.wait((function(){(0,i.updateRect)(e,t)}))};function p(e){var t,n=e.embedId,o=e.className,i=e.style,c=(0,a.useStateFromStores)([u.default],(function(){
return u.default.getWindow(s.PopoutWindowKeys.CHANNEL_CALL_POPOUT)})),d=null!==(t=null==c?void 0:c.window)&&void 0!==t?t:window,p=r.useRef(null),v=r.useMemo((function(){var e=null;return function(){null==e&&(e=d.requestAnimationFrame((function(){var t,r;f(n,null!==(t=null===(r=p.current)||void 0===r?void 0:r.getBoundingClientRect())&&void 0!==t?t:null);e=null})))}}),[n,d]);r.useEffect((function(){d.addEventListener("resize",v);l.ComponentDispatch.subscribe(s.ComponentActions.REMEASURE_TARGET,v);return function(){d.removeEventListener("resize",v);l.ComponentDispatch.unsubscribe(s.ComponentActions.REMEASURE_TARGET,v)}}),[v,d]);r.useLayoutEffect((function(){var e=p.current;if(null!=e){var t=e.ownerDocument.defaultView;if(null!=t){v();var r=new t.ResizeObserver(v);r.observe(e);return function(){r.disconnect();f(n,null)}}}}),[n,v]);return r.createElement("div",{ref:p,style:i,className:o})}p.displayName="EmbedTarget"},245546:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{
value:!0});t.MaskColor=t.FreeActivityIndicatorDot=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a,o=u(n(294184)),i=u(n(250242));function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3]
;t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}t.MaskColor=a;!function(e){e[e.POPOUT=0]="POPOUT";e[e.SECONDARY=1]="SECONDARY";e[e.BLACK=2]="BLACK"}(a||(t.MaskColor=a={}));var c=function(e){var t,n=e.left,r=void 0===n?void 0:n,u=e.top,l=void 0===u?0:u,c=e.right,d=void 0===c?0:c,f=e.bottom,p=void 0===f?void 0:f,v=e.size,y=void 0===v?8:v,h=e.alert,m=void 0!==h&&h,_=e.maskColor,g=void 0===_?a.SECONDARY:_;return s("span",{className:(0,o.default)(i.default.dot,(t={},t[i.default.alert]=m,t[i.default.maskPopout]=g===a.POPOUT,t[i.default.maskSecondary]=g===a.SECONDARY,t[i.default.maskBlack]=g===a.BLACK,t)),style:{height:y,width:y,left:r,top:l,right:d,bottom:p}})};t.FreeActivityIndicatorDot=c;c.displayName="FreeActivityIndicatorDot"},765304:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=g(n(636602)),o=function(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(720409)),i=g(n(177230)),u=g(n(902305)),l=g(n(644263)),s=g(n(122913)),c=g(n(218843)),d=g(n(893160)),f=g(n(211136)),p=g(n(790597)),v=g(n(387692)),y=g(n(303798)),h=g(n(322946)),m=n(770348);function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function g(e){return e&&e.__esModule?e:{default:e}}function E(e,t){E=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return E(e,t)}function O(){
var e=d.default.getChannelId(),t=y.default.getSelfEmbeddedActivityForChannel(null!=e?e:""),n=l.default.getChannel(e);return null==e||null==n||null==t?function(){var e=r;if(null!=e&&c.default.isOpen(e)){a.default.wait((function(){return o.close(e)}));r=null}}():function(e,t){if(c.default.isOpen(t))return!1;a.default.wait((function(){return o.open(t,m.PictureInPictureComponents.EMBED_IFRAME,{channel:e})}));r=t}(n,(0,h.default)(n.id,t.application_id))}function S(){var e,t=s.default.hasLayers(),n=u.default.getWindowOpen(m.PopoutWindowKeys.CHANNEL_CALL_POPOUT);return t&&!n?void(null!=(e=r)&&c.default.isOpen(e)&&a.default.wait((function(){return o.hide(e)}))):function(){var e=r;null!=e&&c.default.isOpen(e)&&a.default.wait((function(){return o.show(e)}))}()}var b=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;E(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){f.default.addChangeListener(O)
;p.default.addChangeListener(O);d.default.addChangeListener(O);v.default.addChangeListener(O);u.default.addChangeListener(O);y.default.addChangeListener(O);s.default.addChangeListener(S)};n._terminate=function(){f.default.removeChangeListener(O);p.default.removeChangeListener(O);d.default.removeChangeListener(O);v.default.removeChangeListener(O);u.default.removeChangeListener(O);y.default.removeChangeListener(O);s.default.removeChangeListener(S)};return t}(i.default));t.default=b},321405:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=D(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}
r.default=e;n&&n.set(e,r);return r}(n(667294)),o=w(n(294184)),i=n(536211),u=w(n(636602)),l=w(n(229132)),s=w(n(505437)),c=n(264720),d=w(n(825724)),f=w(n(902305)),p=n(139982),v=w(n(611456)),y=n(421622),h=w(n(625905)),m=n(518180),_=w(n(218843)),g=w(n(211136)),E=w(n(949898)),O=w(n(80828)),S=w(n(303798)),b=w(n(71805)),I=n(982784),C=n(648927),T=n(418173),A=n(770348),P=n(859089),M=w(n(544009)),N=w(n(201768)),R=["channel"];function w(e){return e&&e.__esModule?e:{default:e}}function D(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(D=function(e){return e?n:t})(e)}function L(){L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return L.apply(this,arguments)}function k(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return U(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var G=new Set([T.YOUTUBE_APPLICATION_ID,T.WATCH_YOUTUBE_DEV_APP_ID,T.WATCH_YOUTUBE_PROD_APP_ID]),F=new Set([T.PUTT_PARTY_APPLICATION_DEV_ID,T.PUTT_PARTY_APPLICATION_STG_ID,T.PUTT_PARTY_APPLICATION_QA_ID,T.PUTT_PARTY_APPLICATION_ID]),x=new Set([T.WATCH_YOUTUBE_DEV_APP_ID,T.WATCH_YOUTUBE_PROD_APP_ID]);function W(e){var t=e.channel,n=e.isLoading,r=j(a.useState(!1),2),C=r[0],T=r[1],R=(0,i.useStateFromStores)([S.default],(function(){return S.default.getSelfEmbeddedActivityForChannel(t.id)})),w=null==R?void 0:R.activity_id,D=(0,i.useStateFromStores)([g.default],(function(){return g.default.getChannelId()===t.id})),L=(0,i.useStateFromStoresObject)([_.default],(function(){var e=_.default.pipWindow;return{
dockedRect:null!=e?_.default.getDockedRect(e.id):null,isHidden:_.default.isEmbeddedActivityHidden()}})),U=L.dockedRect,W=L.isHidden,B=(0,i.useStateFromStoresObject)([f.default,E.default],(function(){var e=f.default.getWindow(A.PopoutWindowKeys.CHANNEL_CALL_POPOUT);return{popoutWindow:e,windowWidth:f.default.getWindowOpen(A.PopoutWindowKeys.CHANNEL_CALL_POPOUT)&&null!=e?e.innerWidth:E.default.windowSize().width-A.LEFT_PANEL_WIDTH}})),V=B.popoutWindow,H=B.windowWidth,Y=(0,i.useStateFromStoresObject)([d.default],(function(){return{activityParticipant:null!=R?d.default.getParticipant(t.id,R.application_id):null,selectedParticipant:d.default.getSelectedParticipant(t.id),participantsOpen:d.default.getParticipantsOpen(t.id),layout:d.default.getLayout(t.id,A.AppContext.APP)}})),z=Y.activityParticipant,K=Y.selectedParticipant,$=Y.participantsOpen,q=Y.layout,X=(0,
m.useIsTextInVoiceEnabled)(t.guild_id),Q=H<=y.FORCE_HIDE_PARTICIPANTS_WIDTH,Z=D||null!=V,J=Z&&(null==K?void 0:K.type)!==P.ParticipantTypes.ACTIVITY&&null==U,ee=(!Z||J)&&!W,te=!Q&&!X&&![A.ChannelLayouts.MINIMUM,A.ChannelLayouts.NORMAL].includes(q),ne=te&&$;a.useEffect((function(){null!=(null==R?void 0:R.application_id)&&u.default.dirtyDispatch({type:A.ActionTypes.ACTIVITY_PIP_MODE_UPDATE,isPIPMode:ee,applicationId:R.application_id})}),[null==R?void 0:R.application_id,ee]);function re(){var e;null!=R&&l.default.selectParticipant(t.id,R.application_id);if(null==V){(0,c.popAllLayers)();var n=null!==(e=t.getGuildId())&&void 0!==e?e:A.ME;s.default.channelListScrollTo(n,t.id);(0,p.transitionToGuild)(n,t.id)}}function ae(){T(!C)}return null==R||null==w||null==z?null:k(h.default,{timeout:2e3},void 0,(function(e){var r,i,u,l,s,c=e.idle,d=e.onActive;return k(v.default,{className:(0,o.default)(M.default.root,(i={},i[M.default.pipMode]=ee,
i[N.default.idle]=c&&!(null===(r=R.config)||void 0===r?void 0:r.useInteractivePIP),i[M.default.pipModeShort]=ee&&!C,i[M.default.pipModeTall]=ee&&C,i[M.default.hidden]=W,i)),noBorder:!ne&&!ee},void 0,function(e,n){var r;return ee&&null!=R&&(null==z?void 0:z.type)===P.ParticipantTypes.ACTIVITY?(null===(r=R.config)||void 0===r?void 0:r.useInteractivePIP)?k(I.InteractivePIPHeader,{onJumpToChannel:re,applicationId:R.application_id,channel:t,showControls:!n,onMouseMove:e,onMouseEnter:e,onToggleHeight:ae,isExpanded:C}):a.createElement(a.Fragment,null,k("div",{onMouseMove:e,onMouseDown:e,className:M.default.clickShield,onDoubleClick:re}),k(I.PIPOverlay,{idle:n,onJumpToChannel:re,channel:t,applicationId:R.application_id,selectedParticipant:z})):null}(d,c),n?k(O.default,{className:(0,o.default)(M.default.iframe,(u={},u[M.default.pipModeShort]=ee&&!C,u[M.default.pipModeTall]=ee&&C,u))}):k(b.default,{allowPopups:G.has(R.application_id),allowPointerLock:F.has(R.application_id),
referrerPolicy:x.has(R.application_id)?"no-referrer":"origin",url:R.url,queryParams:{instance_id:w,channel_id:t.id,guild_id:t.guild_id},className:(0,o.default)(M.default.iframe,(s={},s[M.default.pipModeShort]=ee&&!C,s[M.default.pipModeTall]=ee&&C,s[M.default.pipNonInteractive]=ee&&!(null===(l=R.config)||void 0===l?void 0:l.useInteractivePIP),s)),shouldRefocus:!ee&&D}),!ee&&k(I.TileOverlay,{participantsOpen:$,showToggleParticipants:te,channelId:t.id}))}))}W.displayName="PersistentIFrame";var B=function(e){var t=e.channel,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,R),r=(0,C.useEmbeddedActivityLifecycle)(t).isLoading;return a.createElement(W,L({channel:t,isLoading:r},n))};B.displayName="PictureInPictureEmbeddedActivity";var V=B;t.default=V},982784:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.InteractivePIPHeader=G;t.PIPOverlay=U;t.TileOverlay=function(e){
var t=e.channelId,n=e.participantsOpen;return e.showToggleParticipants?k(g.default,{channelId:t,isParticipantsOpen:n,className:N.default.participantsButton}):null};var r,a=L(n(667294)),o=w(n(294184)),i=n(536211),u=w(n(740207)),l=n(433383),s=w(n(469487)),c=w(n(310268)),d=L(n(8475)),f=w(n(770404)),p=w(n(493051)),v=w(n(134893)),y=n(244612),h=w(n(143414)),m=w(n(67286)),_=w(n(866219)),g=w(n(715801)),E=w(n(645675)),O=w(n(635014)),S=w(n(530250)),b=w(n(160490)),I=w(n(775803)),C=n(746920),T=w(n(804330)),A=n(770348),P=n(478036),M=w(n(247001)),N=w(n(844203)),R=w(n(201768));function w(e){return e&&e.__esModule?e:{default:e}}function D(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(D=function(e){return e?n:t})(e)}function L(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=D(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function k(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function j(e){var t,n=e.onClick,r=e.isExpanded;return k(h.default,{iconClassName:(0,o.default)(N.default.arrowIcon,(t={},t[N.default.arrowIconExpanded]=r,t)),onClick:n,iconComponent:b.default,label:r?M.default.Messages.PICTURE_IN_PICTURE_COLLAPSE:M.default.Messages.PICTURE_IN_PICTURE_EXPAND})}j.displayName="TogglePIPHeightButton";function U(e){
var t,n,r=e.channel,a=e.applicationId,o=e.onJumpToChannel,h=e.idle,g=e.selectedParticipant,b=(0,l.useAppContext)()===A.AppContext.POPOUT,I=(0,i.useStateFromStores)([O.default],(function(){return O.default.isVideoEnabled()})),M=(0,i.useStateFromStores)([O.default],(function(){return Object.values(O.default.getVideoDevices())[0]})),w=!1===(null===(t=null==M?void 0:M.disabled)||void 0===t||t),D=(0,s.default)([a])[0],L=(0,f.default)(r),j=function(e){u.default.setVideoEnabled(e)};return k("div",{className:R.default.videoControls},void 0,k("div",{className:R.default.topControls},void 0,k(y.PictureInPictureHeader,{idle:h,title:null!==(n=null==D?void 0:D.name)&&void 0!==n?n:r.name,onJumpToChannel:o,preventIdleComponent:v.default})),k("div",{className:R.default.bottomControls},void 0,k(S.default,{grow:0,shrink:1,basis:"50%",align:S.default.Align.CENTER},void 0,k(E.default,{className:N.default.leftPipIcon,enabled:I,cameraUnavailable:!w,hasPermission:L,onChange:j,onCameraUnavailable:function(){
w?j(!0):(0,p.default)()}}),k(v.default,{},void 0,k(c.default,{channelId:r.id,guildId:r.getGuildId(),className:R.default.leftTrayIcon,participant:g,compact:!0}))),k(S.default,{grow:0,shrink:1,justify:S.default.Justify.END,basis:"50%",align:S.default.Align.CENTER},void 0,b?null:k(_.default,{className:N.default.rightPipIcon,popoutOpen:!1,onOpenPopout:function(){(0,T.default)((function(){return d.openChannelCallPopout(r)}))},onClosePopout:P.NOOP_NULL}),k(m.default,{className:N.default.rightPipIcon,onClick:function(){return(0,C.stopEmbeddedActivity)({channelId:r.id,applicationId:a})}}))))}U.displayName="PIPOverlay";function G(e){var t,n,r=e.onMouseMove,i=e.onMouseEnter,u=e.showControls,l=e.applicationId,c=e.channel,d=e.onJumpToChannel,f=e.onToggleHeight,p=e.isExpanded,h=(0,s.default)([l])[0];return k("div",{className:N.default.pipHeader,onMouseMove:r,onMouseEnter:i},void 0,k("div",{className:(0,o.default)(R.default.topControls,N.default.pipHeaderContent,(t={},
t[N.default.pipHeaderContentOpen]=u,t))},void 0,!u&&k(I.default,{className:N.default.menuIcon,width:12,height:12}),u&&a.createElement(a.Fragment,null,k(y.PictureInPictureHeader,{idle:!u,title:null!==(n=null==h?void 0:h.name)&&void 0!==n?n:c.name,onJumpToChannel:d,preventIdleComponent:v.default}),k("div",{className:N.default.pipHeaderButtonsRight},void 0,k(j,{isExpanded:p,onClick:f}),k(m.default,{iconClassName:N.default.leaveActivityIcon,onClick:function(){return(0,C.stopEmbeddedActivity)({channelId:c.id,applicationId:l})}})))))}G.displayName="InteractivePIPHeader"},804330:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){void 0===t&&(t=function(){});var n=function(){a.default.updatedUnsyncedSettings({disableEmbeddedActivityPopOutAlert:!0});e()};i.default.disableEmbeddedActivityPopOutAlert?e():(0,u.openModal)((function(a){return r.createElement(o.default,d({confirmText:l.default.Messages.EMBEDDED_ACTIVITIES_YEP,
secondaryConfirmText:l.default.Messages.DONT_ASK_AGAIN,title:l.default.Messages.EMBEDDED_ACTIVITIES_CAREFUL,cancelText:l.default.Messages.EMBEDDED_ACTIVITIES_NVM,onConfirm:e,onConfirmSecondary:n,onCancel:t,body:l.default.Messages.EMBEDDED_ACTIVITIES_POP_OUT_WARNING},a))}))};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=s(n(929031)),o=s(n(88509)),i=s(n(174508)),u=n(194322),l=s(n(247001));function s(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function d(){
d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}},480831:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t,n=(0,o.hasFlag)(null!==(t=e.flags)&&void 0!==t?t:0,i.ApplicationFlags.EMBEDDED),r=a.default.getWindowOpen(i.PopoutWindowKeys.CHANNEL_CALL_POPOUT);return n&&r};var r,a=(r=n(902305))&&r.__esModule?r:{default:r},o=n(685677),i=n(770348)},322946:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){return"activityembed:"+e+":"+t}},977365:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){a.default.disableActivityHardwareAccelerationPrompt||!u.isPlatformEmbedded||l.default.getEnableHardwareAcceleration()||(0,o.openModalLazy)(y(regeneratorRuntime.mark((function t(){var a,o
;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;return Promise.resolve().then(n.bind(n,345840));case 2:a=t.sent;o=a.default;return t.abrupt("return",(function(t){return r.createElement(o,p({applicationId:e},t))}));case 5:case"end":return t.stop()}}),t)}))),{modalKey:h,onCloseRequest:function(){i.default.track(c.AnalyticEvents.MODAL_DISMISSED,{type:s.ACTIVITY_ENCOURAGES_HW_ACCELERATION});(0,o.closeModal)(h)}})};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),a=d(n(174508)),o=n(194322),i=d(n(308920)),u=n(864489),l=d(n(922629)),s=n(345840),c=n(770348);function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(){p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return p.apply(this,arguments)}function v(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function y(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){v(o,r,a,i,u,"next",e)}function u(e){v(o,r,a,i,u,"throw",e)}i(void 0)}))}}var h="activity-hardware-acceleration-modal"},648927:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useEmbeddedActivityLifecycle=void 0;var r=function(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(746920),o=l(n(845715)),i=l(n(749401)),u=l(n(697749));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}t.useEmbeddedActivityLifecycle=function(e){var t=(0,o.default)(e),n=t.userActivity,l=t.inActivity,s=u.default;(0,i.default)({channel:e,userActivity:n,inActivity:l,embeddedActivitiesManager:s});r.useEffect((function(){return function(){null!=(null==n?void 0:n.application_id)&&(0,
a.disconnectEmbeddedActivity)(e.id,null==n?void 0:n.application_id)}}),[e.id,null==n?void 0:n.application_id]);return{isLoading:!l}}},170328:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){function e(e){var t=e.applicationId;(0,a.openModalLazy)(c(regeneratorRuntime.mark((function e(){var a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(47642)]).then(n.bind(n,925304));case 2:a=e.sent;o=a.default;return e.abrupt("return",(function(e){return r.createElement(o,l({applicationId:t},e))}));case 5:case"end":return e.stop()}}),e)}))))}r.useEffect((function(){o.ComponentDispatch.subscribe(i.ComponentActions.SHOW_NO_ELIGIBLE_HOST_MODAL,e);return function(){o.ComponentDispatch.unsubscribe(i.ComponentActions.SHOW_NO_ELIGIBLE_HOST_MODAL,e)}}),[]);return null};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{
default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(194322),o=n(956506),i=n(770348);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(){l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return l.apply(this,arguments)}function s(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){s(o,r,a,i,u,"next",e)}function u(e){
s(o,r,a,i,u,"throw",e)}i(void 0)}))}}},723220:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.closeAgeGateModal=function(){r.default.wait((function(){return r.default.dispatch({type:i.ActionTypes.AGE_GATE_MODAL_CLOSE})}))};t.closeFailedAgeGate=function(){r.default.dispatch({type:i.ActionTypes.LOGOUT});(0,a.transitionTo)(i.Routes.LOGIN)};t.openAgeGateModal=function(e){o.default.track(i.AnalyticEvents.OPEN_MODAL,{type:"Enter Your Birthday",source:{section:e}});r.default.dispatch({type:i.ActionTypes.AGE_GATE_MODAL_OPEN,source:e})};t.openFailureAgeGateModal=function(e){r.default.wait((function(){r.default.dispatch({type:i.ActionTypes.AGE_GATE_FAILURE_MODAL_OPEN,underageMessage:e})}))};t.openSuccessAgeGateModal=function(){r.default.wait((function(){r.default.dispatch({type:i.ActionTypes.AGE_GATE_SUCCESS_MODAL_OPEN})}))};var r=u(n(636602)),a=n(139982),o=u(n(308920)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}},160866:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.userNeedsAgeGate=function(){var e=r.default.getCurrentUser();return null!=e&&a.default.extractTimestamp(e.id)>i.getTime()&&!e.isClaimed()&&null==e.nsfwAllowed};var r=o(n(728429)),a=o(n(71636));function o(e){return e&&e.__esModule?e:{default:e}}var i=new Date("06/16/2020")},676817:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),a=h(n(636602)),o=h(n(177230)),i=h(n(644263)),u=h(n(211136)),l=h(n(790597)),s=h(n(728429)),c=n(194322),d=n(723220),f=h(n(632062)),p=h(n(242049)),v=n(78330),y=n(770348);function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(){_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return _.apply(this,arguments)}function g(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function E(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){g(o,r,a,i,u,"next",e)}function u(e){g(o,r,a,i,u,"throw",e)}i(void 0)}))}}function O(e,t){O=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return O(e,t)}function S(e,t){var n
;if(null!=e){var r=s.default.getCurrentUser();(null===(n=i.default.getChannel(t))||void 0===n?void 0:n.isNSFW())&&null!=r&&null==r.nsfwAllowed&&(0,d.openAgeGateModal)(v.AgeGateSource.NSFW_CHANNEL)}}var b=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;O(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var o=t.prototype;o._initialize=function(){a.default.subscribe(y.ActionTypes.CONNECTION_OPEN,this.handleConnectionOpen);a.default.subscribe(y.ActionTypes.CHANNEL_SELECT,this.handleChannelSelect);a.default.subscribe(y.ActionTypes.AGE_GATE_MODAL_OPEN,this.handleAgeGateModalOpen);a.default.subscribe(y.ActionTypes.AGE_GATE_MODAL_CLOSE,this.handleAgeGateModalClose);a.default.subscribe(y.ActionTypes.AGE_GATE_SUCCESS_MODAL_OPEN,this.handleAgeGateSuccess);a.default.subscribe(y.ActionTypes.AGE_GATE_FAILURE_MODAL_OPEN,this.handleAgeGateFailure)};o._terminate=function(){
a.default.unsubscribe(y.ActionTypes.CONNECTION_OPEN,this.handleConnectionOpen);a.default.unsubscribe(y.ActionTypes.CHANNEL_SELECT,this.handleChannelSelect);a.default.unsubscribe(y.ActionTypes.AGE_GATE_MODAL_OPEN,this.handleAgeGateModalOpen);a.default.unsubscribe(y.ActionTypes.AGE_GATE_MODAL_CLOSE,this.handleAgeGateModalClose);a.default.unsubscribe(y.ActionTypes.AGE_GATE_SUCCESS_MODAL_OPEN,this.handleAgeGateSuccess);a.default.unsubscribe(y.ActionTypes.AGE_GATE_FAILURE_MODAL_OPEN,this.handleAgeGateFailure)};o.handleChannelSelect=function(e){S(e.guildId,e.channelId)};o.handleConnectionOpen=function(){S(l.default.getGuildId(),u.default.getChannelId())};o.handleAgeGateModalOpen=function(){(0,c.openModalLazy)(E(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(73167)]).then(n.bind(n,273167));case 2:t=e.sent;a=t.default;return e.abrupt("return",(function(e){
return r.createElement(a,e)}));case 5:case"end":return e.stop()}}),e)}))),{modalKey:v.EXISTING_USER_AGE_GATE_MODAL_KEY,onCloseRequest:y.NOOP})};o.handleAgeGateSuccess=function(){(0,c.updateModal)(v.EXISTING_USER_AGE_GATE_MODAL_KEY,(function(e){return r.createElement(p.default,e)}))};o.handleAgeGateFailure=function(e){var t=e.underageMessage;(0,c.updateModal)(v.EXISTING_USER_AGE_GATE_MODAL_KEY,(function(e){return r.createElement(f.default,_({underageMessage:t},e))}))};o.handleAgeGateModalClose=function(){(0,c.closeModal)(v.EXISTING_USER_AGE_GATE_MODAL_KEY)};return t}(o.default));t.default=b},632062:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=O;_(n(667294));var r,a=n(47354),o=n(139982),i=_(n(956117)),u=n(772575),l=n(645758),s=n(354479),c=n(3400),d=h(n(550270)),f=n(723220),p=n(770348),v=h(n(247001)),y=h(n(987953));function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap
;return(m=function(e){return e?n:t})(e)}function _(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(){(0,f.closeAgeGateModal)();(0,o.transitionTo)(p.Routes.LOGIN)}
function O(e){var t=e.underageMessage,r=e.transitionState,o=(0,s.useUID)();return g(c.ModalRoot,{transitionState:r,size:c.ModalSize.SMALL,"aria-labelledby":o,impressionName:a.ImpressionNames.USER_AGE_GATE_UNDERAGE,impressionProperties:{existing_user:!0}},void 0,g(c.ModalContent,{},void 0,g("div",{className:y.default.container},void 0,g("img",{alt:"",src:n(697694),className:y.default.img}),g(u.Heading,{variant:"heading-xl/medium",className:y.default.title,id:o,level:3},void 0,v.default.Messages.AGE_GATE_UNDERAGE_EXISTING_HEADER),g(l.Text,{color:"header-secondary",className:y.default.subtitle,variant:"text-sm/normal"},void 0,v.default.Messages.AGE_GATE_UNDERAGE_BODY.format({underageMessage:null!=t?t:v.default.Messages.AGE_GATE_UNDERAGE_BODY_DEFAULT_REG_MESSAGE,helpURL:d.default.getArticleURL(p.HelpdeskArticles.AGE_GATE)})),g(l.Text,{color:"header-secondary",className:y.default.subtitle,variant:"text-sm/normal"
},void 0,v.default.Messages.AGE_GATE_UNDERAGE_EXISTING_BODY_DELETION_WITH_DAYS.format({days:30})))),g(c.ModalFooter,{},void 0,g(i.default,{size:i.ButtonSizes.SMALL,fullWidth:!0,onClick:E},void 0,v.default.Messages.AGE_GATE_UNDERAGE_BACK_TO_LOGIN)))}O.displayName="ExistingUserAgeGateUnderage"},242049:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=m;y(n(667294));var r,a=n(47354),o=y(n(956117)),i=n(772575),u=n(645758),l=n(354479),s=n(3400),c=n(723220),d=p(n(247001)),f=p(n(206052));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e){var t=e.transitionState,r=(0,l.useUID)();return h(s.ModalRoot,{transitionState:t,size:s.ModalSize.SMALL,"aria-labelledby":r,impressionName:a.ImpressionNames.USER_AGE_GATE,impressionProperties:{existing_user:!0}},void 0,h(s.ModalContent,{},void 0,h("div",{className:f.default.container},void 0,h("img",{alt:"",src:n(145911),className:f.default.img}),h(i.Heading,{variant:"heading-xl/medium",
className:f.default.title,id:r,level:3},void 0,d.default.Messages.AGE_GATE_AGE_VERIFIED),h(u.Text,{color:"header-secondary",className:f.default.subtitle,variant:"text-sm/normal"},void 0,d.default.Messages.AGE_GATE_AGE_VERIFIED_BODY))),h(s.ModalFooter,{},void 0,h(o.default,{size:o.ButtonSizes.SMALL,fullWidth:!0,onClick:function(){(0,c.closeAgeGateModal)()},autoFocus:!0},void 0,d.default.Messages.CLOSE)))}m.displayName="ExistingUserAgeGateVerified"},108101:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.REPORT_MESSAGE_MODAL_KEY=void 0;var r,a=v(n(667294)),o=f(n(598694)),i=f(n(268660)),u=n(3400),l=v(n(174687)),s=f(n(817105)),c=f(n(247001)),d=f(n(50710));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e}
;var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){
h(o,r,a,i,u,"next",e)}function u(e){h(o,r,a,i,u,"throw",e)}i(void 0)}))}}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length)
;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var E;t.REPORT_MESSAGE_MODAL_KEY="REPORT_MESSAGE";!function(e){e[e.REPORT_MESSAGE=0]="REPORT_MESSAGE";e[e.SUCCESS=1]="SUCCESS"}(E||(E={}));var O=[E.REPORT_MESSAGE,E.SUCCESS],S=y(l.ErrorState,{}),b=function(e){var t=e.message,n=e.channel,r=e.onClose,f=e.transitionState,p=_(a.useState(!1),2),v=p[0],h=p[1],g=_(a.useState(null),2),b=g[0],I=g[1],C=_(a.useState(E.REPORT_MESSAGE),2),T=C[0],A=C[1],P=_(a.useState(null),2),M=P[0],N=P[1],R=_(a.useState(null),2),w=R[0],D=R[1];a.useEffect((function(){var e=function(){var e=m(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0;e.next=3;return o.default.tokenizeReportedMessage(n.id,t.id);case 3:r=e.sent;I(r);e.next=10;break;case 7:e.prev=7;e.t0=e.catch(0);h(!0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),r=function(){
var e=m(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return o.default.getOptions();case 2:t=e.sent;n=t.typeOptions;r=t.subTypeOptions;N(n);D(r);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e();v||r()}),[n.id,v,t.id]);var L=y(l.default,{token:b,message:t,channel:n,onClose:r,onSuccess:function(){A(E.SUCCESS)},typeOptions:M,subTypeOptions:w}),k=y(s.default,{message:t,channel:n,onClose:r});return y(u.ModalRoot,{transitionState:f,size:u.ModalSize.DYNAMIC,className:d.default.modal,"aria-label":c.default.Messages.REPORT_MODAL_REPORT_MESSAGE},void 0,v?S:y(i.default,{step:T,steps:O},void 0,T===E.REPORT_MESSAGE?null==M||null==w||null==b?null:L:k))};b.displayName="ReportMessageModal";var I=b;t.default=I},174687:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.REPORT_MESSAGE_MODAL_KEY=t.ErrorState=void 0
;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=O(n(598694)),i=n(483559),u=O(n(844784)),l=O(n(2914)),s=O(n(956117)),c=O(n(682473)),d=n(772575),f=O(n(39118)),p=O(n(279950)),v=n(688388),y=n(3400),h=n(967965),m=O(n(582945)),_=n(770348),g=O(n(247001)),E=O(n(50710));function O(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function b(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function I(e,t){
return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function T(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}t.REPORT_MESSAGE_MODAL_KEY="REPORT_MESSAGE";var A=function(e){var t=e.className;return T(c.default,{className:t},void 0,g.default.Messages.REPORT_MODAL_ERROR.format({tnsReportUrl:"https://dis.gd/request"}))};t.ErrorState=A;A.displayName="ErrorState";var P=function(e){
var t,n,r=e.token,c=e.channel,O=e.message,S=e.typeOptions,C=e.subTypeOptions,P=e.onClose,M=e.onSuccess,N=I(a.useState(null),2),R=N[0],w=N[1],D=I(a.useState(null),2),L=D[0],k=D[1],j=I(a.useState(""),2),U=j[0],G=j[1],F=I(a.useState(""),2),x=F[0],W=F[1],B=I(a.useState(!1),2),V=B[0],H=B[1],Y=I(a.useState(!1),2),z=Y[0],K=Y[1],$=null!=R&&null!=C[R],q=null!=L||!$,X=function(e){if(R!==e){w(e);k(null)}},Q=function(e){L!==e&&k(e)},Z=function(){var e,t=(e=regeneratorRuntime.mark((function e(){var t,n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=R){e.next=2;break}return e.abrupt("return");case 2:H(!0);e.prev=3;e.next=6;return(0,i.fetchProfile)(c.getRecipientId(),{withMutualGuilds:!0});case 6:n=e.sent;a=null==n||null===(t=n.mutual_guilds)||void 0===t?void 0:t.map((function(e){return e.id}));u.default.trackWithMetadata(_.AnalyticEvents.MESSAGE_REPORTED,{report_type:R,report_sub_type:L,subject:U,description:x,location_object:"report_message_modal",
guild_id:c.getGuildId(),channel_id:c.id,message_id:O.id,mutual_guild_ids:a});e.next=11;return o.default.submitReport(r,R,L,U,x);case 11:H(!1);M();e.next=19;break;case 15:e.prev=15;e.t0=e.catch(3);H(!1);K(!0);case 19:case"end":return e.stop()}}),e,null,[[3,15]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){b(o,r,a,i,u,"next",e)}function u(e){b(o,r,a,i,u,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}(),J=T(p.default,{value:U,onChange:G}),ee=T(f.default,{value:x,onChange:W});return a.createElement(a.Fragment,null,T(y.ModalContent,{className:E.default.content},void 0,T(d.Heading,{className:E.default.modalHeader,variant:"heading-xl/medium",level:3},void 0,g.default.Messages.REPORT_MODAL_REPORT_MESSAGE),z&&T(A,{className:E.default.formItem}),T(v.FormItem,{title:g.default.Messages.REPORT_MODAL_MESSAGE_SELECTED,className:E.default.formItem},void 0,T(m.default,{className:E.default.message
},void 0,T(l.default,{channel:c,message:O,animateAvatar:!1,disableInteraction:!0}))),(t=S.find((function(e){return e.value===R})),n=null!=t?t.description:null,a.createElement(a.Fragment,null,T(v.FormItem,{className:E.default.formItem,title:g.default.Messages.REPORT_MODAL_TYPE_TITLE,required:!0},void 0,T(h.SingleSelect,{placeholder:g.default.Messages.REPORT_MODAL_SELECT_ONE,options:S,value:R,onChange:X,maxVisibleItems:6})),T(v.FormText,{type:v.FormText.Types.DESCRIPTION,className:E.default.description},void 0,n))),null!=R&&$?T(v.FormItem,{title:C[R].subTypeQuestion,className:E.default.formItem,required:!0},void 0,T(h.SingleSelect,{placeholder:g.default.Messages.REPORT_MODAL_SELECT_ONE,options:C[R].subTypes,value:L,onChange:Q})):null,null!=R&&q?a.createElement(a.Fragment,null,T(v.FormItem,{title:g.default.Messages.REPORT_MODAL_SUBJECT,className:E.default.formItem,required:!0},void 0,J),T(v.FormItem,{title:g.default.Messages.REPORT_MODAL_DESCRIPTION,className:E.default.formItem,
required:!0},void 0,ee,T(v.FormText,{type:v.FormText.Types.DESCRIPTION,className:E.default.description},void 0,g.default.Messages.REPORT_MODAL_DESCRIPTION_MIN_MAX.format({min:0,max:800})),x.length>800?T(v.FormText,{type:v.FormText.Types.DESCRIPTION,className:E.default.descriptionError},void 0,g.default.Messages.REPORT_MODAL_DESCRIPTION_MAX_EXCEEDED):null)):null),T(y.ModalFooter,{className:E.default.footer},void 0,T(s.default,{color:s.default.Colors.PRIMARY,look:s.default.Looks.LINK,onClick:P},void 0,g.default.Messages.CANCEL),T(s.default,{onClick:Z,disabled:!q||0===U.length||x.length<0||x.length>800,submitting:V},void 0,g.default.Messages.REPORT_MODAL_SUBMIT)))};t.default=P},817105:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=h(n(786345)),i=h(n(237923)),u=h(n(2914)),l=h(n(956117)),s=n(772575),c=n(688388),d=n(3400),f=h(n(582945)),p=n(770348),v=h(n(247001)),y=h(n(50710));function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=function(e){var t=e.onClose,n=e.message,r=e.channel,h=null==r.guild_id,m=h?v.default.Messages.REPORT_MODAL_SHOULD_BLOCK:v.default.Messages.REPORT_MODAL_SHOULD_DELETE,g=h?v.default.Messages.REPORT_MODAL_BLOCK_USER:v.default.Messages.DELETE_MESSAGE;return a.createElement(a.Fragment,null,_(d.ModalContent,{className:y.default.successModalContent},void 0,_(s.Heading,{variant:"heading-xl/medium",level:3},void 0,v.default.Messages.REPORT_MODAL_SUBMITTED),_(c.FormText,{type:c.FormText.Types.DESCRIPTION,className:y.default.successModalText},void 0,v.default.Messages.REPORT_MODAL_SUBMITTED_EMAIL_CONFIRMATION),_(c.FormItem,{className:y.default.messageFormItem,title:m},void 0,_(f.default,{className:y.default.message},void 0,_(u.default,{channel:r,message:n,animateAvatar:!1,disableInteraction:!0})))),_(d.ModalFooter,{className:y.default.footer},void 0,_(l.default,{color:l.default.Colors.PRIMARY,look:l.default.Looks.LINK,onClick:t
},void 0,v.default.Messages.CLOSE),_(l.default,{look:l.default.Looks.FILLED,color:l.default.Colors.RED,onClick:function(){h?i.default.addRelationship({userId:n.author.id,context:{location:"Report Modal"},type:p.RelationshipTypes.BLOCKED}):o.default.deleteMessage(r.id,n.id);t()}},void 0,g)))};t.default=g},504010:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=n(392820).Z;t.default=r},392820:(e,t)=>{"use strict";({value:!0});t.Z=function(){return{}}},970483:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=u(n(536211)),o=u(n(636602)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var s={},c=null,d=null;function f(e,t){null==t?e in s&&delete s[e]:null!=e&&(s[e]=t)}function p(e){var t=e.user;d=t.id}var v=function(e){!function(e,t){e.prototype=Object.create(t.prototype)
;e.prototype.constructor=e;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(e){null!=e&&(s=e)};n.requiredActions=function(e){var t;return null!==(t=s[e])&&void 0!==t?t:null};n.requiredActionsIncludes=function(e,t){var n=this.requiredActions(e);return null!=n&&t.reduce((function(e,t){return e||n.includes(t)}),!1)};n.wasLoginAttemptedInSession=function(e){return c===e};n.getState=function(){return s};return t}(a.default.PersistedStore);v.displayName="LoginRequiredActionStore";v.persistKey="LoginRequiredActionStore";var y=new v(o.default,((r={})[i.ActionTypes.LOGIN_ATTEMPTED]=function(e){var t=e.required_actions,n=e.user_id;f(c=n,t)},r[i.ActionTypes.CONNECTION_OPEN]=p,r[i.ActionTypes.CURRENT_USER_UPDATE]=p,r[i.ActionTypes.LOGOUT]=function(e){e.isSwitchingAccount||null==d||f(d,null)},r[i.ActionTypes.PASSWORD_UPDATED]=function(e){f(e.userId,null)},r[i.ActionTypes.MULTI_ACCOUNT_REMOVE_ACCOUNT]=function(e){f(e.userId,null)},r));t.default=y
},621287:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.makeAuthenticated=function(e,t,n){var r,a,f=p(t,{});void 0===n&&(n={passProps:!0});function v(r){if(!(0,s.isAuthenticated)()&&l.default.getLoginStatus()!==c.LoginStates.LOGGING_IN&&l.default.allowLogoutRedirect()){if(null!=t)return f;var a=location.pathname+location.search,v=d.CONFERENCE_MODE_ENABLED?c.Routes.REGISTER:(0,u.getLoginPath)(a,!1);return p(i.Redirect,{to:v})}return o.createElement(e,n.passProps?r:null)}v.displayName="Authenticated("+(null!==(r=null!==(a=e.displayName)&&void 0!==a?a:e.name)&&void 0!==r?r:"<Unknown>")+")";return v};var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=n(505977),u=n(904312),l=(r=n(423046))&&r.__esModule?r:{default:r},s=n(549186),c=n(770348),d=n(27577);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},190065:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.LOGIN_REQUIRED_ACTIONS_MODAL_KEY=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=p(n(636602)),o=p(n(939949)),i=p(n(177230)),u=n(194322),l=p(n(308920)),s=n(42031),c=p(n(970483)),d=n(770348),f=n(478036);function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function h(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}
u.done?t(l):Promise.resolve(l).then(r,a)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){h(o,r,a,i,u,"next",e)}function u(e){h(o,r,a,i,u,"throw",e)}i(void 0)}))}}function _(e,t){_=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _(e,t)}var g="LOGIN_REQUIRED_ACTIONS_MODAL_KEY";t.LOGIN_REQUIRED_ACTIONS_MODAL_KEY=g;var E=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;_(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var i=t.prototype;i._initialize=function(){a.default.subscribe(d.ActionTypes.CONNECTION_OPEN,this.handleConnectionOpen)};i._terminate=function(){a.default.unsubscribe(d.ActionTypes.CONNECTION_OPEN,this.handleConnectionOpen)};i.handleConnectionOpen=function(e){var t=e.user;if(!s.ProcessArgs.isDisallowPopupsSet()){var a=c.default.requiredActionsIncludes(t.id,[d.LoginRequiredActions.UPDATE_PASSWORD])
;c.default.wasLoginAttemptedInSession(t.id)&&a?(0,u.openModalLazy)(m(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(66272)]).then(n.bind(n,66272));case 2:t=e.sent;a=t.default;return e.abrupt("return",(function(e){return r.createElement(a,y({},e,{onSuccess:function(){l.default.track(d.AnalyticEvents.FORCED_UPDATE_PASSWORD_SUCCEEDED);e.onClose()},onClose:function(){e.onClose();o.default.logout(d.Routes.LOGIN)},requirementsUpdated:!0}))}));case 5:case"end":return e.stop()}}),e)}))),{modalKey:g,onCloseRequest:f.NOOP_NULL,instant:!0}):a&&o.default.logout(d.Routes.LOGIN)}};return t}(i.default));t.default=E},285629:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){return E.apply(this,arguments)};var r=y(n(131795)),a=n(138864),o=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(997359)),i=n(919094),u=n(483559),l=n(139982),s=y(n(423046)),c=y(n(544196)),d=y(n(308920)),f=y(n(924117)),p=n(770348);function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){h(o,r,a,i,u,"next",e)}function u(e){h(o,r,a,i,u,"throw",e)}
i(void 0)}))}}function _(e){return g.apply(this,arguments)}function g(){return(g=m(regeneratorRuntime.mark((function e(t){var n,i,l,c,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Android"!==(i=null===(n=r.default.os)||void 0===n?void 0:n.family)&&"iOS"!==i){e.next=14;break}c=null!==(l=s.default.getFingerprint())&&void 0!==l?l:s.default.getId();d=(0,o.generateAttemptId)();if(null!=c||!s.default.isAuthenticated()){e.next=13;break}e.prev=5;e.next=8;return(0,u.fetchCurrentUser)();case 8:c=s.default.getId();e.next=13;break;case 11:e.prev=11;e.t0=e.catch(5);case 13:return e.abrupt("return",(0,o.default)((0,a.getDefaultDynamicLinkTemplate)(),{utmSource:t,fingerprint:c,attemptId:d}));case 14:return e.abrupt("return","discord://");case 15:case"end":return e.stop()}}),e,null,[[5,11]])})))).apply(this,arguments)}function E(){return(E=m(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){
case 0:e.next=2;return _(t);case 2:n=e.sent;null!=(r=(0,o.parseDynamicLink)(n))&&d.default.track(p.AnalyticEvents.DEEP_LINK_CLICKED,{fingerprint:(0,i.maybeExtractId)(r.fingerprint),attempt_id:r.attemptId,source:r.utmSource});f.default.launch(n,(function(e){e||(0,l.replaceWith)(c.default.fallbackRoute)}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},892057:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.fetchBlockedDomainList=function(){return s.apply(this,arguments)};var r=i(n(118915)),a=i(n(636602)),o=n(770348);function i(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){u(o,r,a,i,l,"next",e)}function l(e){u(o,r,a,i,l,"throw",e)}i(void 0)}))}}function s(){return(s=l(regeneratorRuntime.mark((function e(){var t,n
;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return r.default.get({url:"https://cdn.discordapp.com/bad-domains/hashes.json"});case 2:t=e.sent;n=t.body;a.default.dispatch({type:o.ActionTypes.BLOCKED_DOMAIN_LIST_FETCHED,list:n});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},694450:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=(r=n(177230))&&r.__esModule?r:{default:r},o=n(892057);function i(e,t){i=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return i(e,t)}var u=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;i(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){setTimeout((function(){return(0,o.fetchBlockedDomainList)()}),1e4);this.intervalID=setInterval(o.fetchBlockedDomainList,144e5)};n._terminate=function(){clearInterval(this.intervalID)};return t
}(a.default));t.default=u},322785:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(770348);var i={setCallChatToastsEnabled:function(e,t){a.default.dispatch({type:o.ActionTypes.CALL_CHAT_TOASTS_SET_ENABLED,channelId:e,toastsEnabled:t})}};t.default=i},316309:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=d(n(177230)),a=d(n(796608)),o=d(n(27245)),i=d(n(919935)),u=d(n(663303)),l=d(n(387692)),s=d(n(487372)),c=n(179379);function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){f=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return f(e,t)}var p=(0,c.createSoundForPack)("call_calling",a.default.getSoundpack()),v=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;f(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){
o.default.addChangeListener(this.handleRingUpdate);i.default.addChangeListener(this.handleRingUpdate);u.default.addChangeListener(this.handleRingUpdate);l.default.addChangeListener(this.handleRingUpdate);a.default.addChangeListener(this.handleSoundpackUpdate)};n._terminate=function(){o.default.removeChangeListener(this.handleRingUpdate);i.default.removeChangeListener(this.handleRingUpdate);u.default.removeChangeListener(this.handleRingUpdate);l.default.removeChangeListener(this.handleRingUpdate);a.default.removeChangeListener(this.handleSoundpackUpdate)};n.handleSoundpackUpdate=function(){p.stop();p=(0,c.createSoundForPack)("call_calling",a.default.getSoundpack())};n.handleRingUpdate=function(){var e=o.default.getCalls().filter((function(e){return e.ringing.length>0&&l.default.getCurrentClientVoiceChannelId(null)===e.channelId})),t=l.default.getCurrentClientVoiceChannelId(null)
;!(null!=t&&s.default.countVoiceStatesForChannel(t)>=2)&&e.length>0&&!i.default.isSoundDisabled("call_calling")&&!u.default.disableSounds?p.loop():p.stop()};return t}(r.default));t.default=v},845607:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SelfStreamAndVideoAlertType=void 0;var n;t.SelfStreamAndVideoAlertType=n;!function(e){e[e.STREAM=0]="STREAM";e[e.VIDEO=1]="VIDEO"}(n||(t.SelfStreamAndVideoAlertType=n={}))},235398:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=i(n(177230)),a=i(n(893160)),o=i(n(825724));function i(e){return e&&e.__esModule?e:{default:e}}function u(e,t){u=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return u(e,t)}var l=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;u(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){o.default.addChangeListener(this.handleFocusParticipant)}
;n._terminate=function(){o.default.removeChangeListener(this.handleFocusParticipant)};n.handleFocusParticipant=function(){var e=a.default.getChannelId();if(null!=e){var t,n,r=o.default.getSelectedParticipantId(e),i=o.default.getVideoParticipants(e);null===(t=a.default.getRTCConnection())||void 0===t||t.setSelectedParticipant(null===(n=i.find((function(e){return e.id===r&&!e.localVideoDisabled})))||void 0===n?void 0:n.id)}};return t}(r.default));t.default=l},915502:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){if(t)return a.default.Messages.SERVER_DEAFENED_DIALOG_TITLE;return e?a.default.Messages.UNDEAFEN:a.default.Messages.DEAFEN};var r,a=(r=n(247001))&&r.__esModule?r:{default:r}},945926:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,n){if(n)return a.default.Messages.SUPPRESSED;if(t)return a.default.Messages.SERVER_MUTED_DIALOG_TITLE
;return e?a.default.Messages.UNMUTE:a.default.Messages.MUTE};var r,a=(r=n(247001))&&r.__esModule?r:{default:r}},66384:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){return i[e]};var r,a=n(859089),o=n(376293),i=Object.freeze(((r={})[a.ParticipantTypes.STREAM]=o.MediaEngineContextTypes.STREAM,r[a.ParticipantTypes.HIDDEN_STREAM]=o.MediaEngineContextTypes.STREAM,r[a.ParticipantTypes.USER]=o.MediaEngineContextTypes.DEFAULT,r[a.ParticipantTypes.ACTIVITY]=o.MediaEngineContextTypes.DEFAULT,r))},831566:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var n=(0,r.useStateFromStores)([i.default],(function(){return i.default.getId()})),u=(0,r.useStateFromStores)([o.default],(function(){var t=o.default.getStreamForUser(n);return null!=t&&t.channelId===e}),[e,n]),l=(0,r.useStateFromStores)([o.default],(function(){return o.default.isSelfStreamHidden(e)}),[e]);return[(null==t||t===n)&&u,l,function(t){(0,
a.toggleSelfStreamHidden)(e,t)}]};var r=n(536211),a=n(123516),o=u(n(607209)),i=u(n(423046));function u(e){return e&&e.__esModule?e:{default:e}}},25077:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){void 0===t&&(t=u.MediaEngineContextTypes.DEFAULT);var n=(0,r.useStateFromStores)([o.default],(function(){return o.default.getId()})),l=(0,r.useStateFromStores)([i.default],(function(){return i.default.supports(u.Features.DISABLE_VIDEO)&&i.default.isVideoEnabled()})),s=(0,r.useStateFromStores)([i.default],(function(){return i.default.isLocalVideoDisabled(n,t)}),[n,t]);return[(null==e||e===n)&&(l||s),s,function(e){a.default.setDisableLocalVideo(n,e,t)}]};var r=n(536211),a=l(n(740207)),o=l(n(423046)),i=l(n(635014)),u=n(376293);function l(e){return e&&e.__esModule?e:{default:e}}},190320:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=g;m(n(667294))
;var r,a=y(n(284382)),o=m(n(145122)),i=y(n(989546)),u=y(n(197105)),l=y(n(793963)),s=y(n(441072)),c=y(n(16505)),d=y(n(815267)),f=n(770348),p=y(n(247001)),v=y(n(741937));function y(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(e){var t=e.onClose,n=e.renderOutputDevices,r=void 0!==n&&n,y=e.renderInputDevices,h=void 0!==y&&y,m=e.renderInputModes,g=void 0!==m&&m,E=e.renderInputVolume,O=void 0!==E&&E,S=e.renderOutputVolume,b=void 0!==S&&S,I=e.onSelect,C=(0,d.default)(),T=(0,s.default)(),A=(0,c.default)(),P=(0,i.default)(),M=(0,u.default)(),N=(0,l.default)();return _(a.default,{object:f.AnalyticsObjects.CONTEXT_MENU},void 0,_(o.default,{onSelect:I,className:v.default.menu,onClose:t,navId:"audio-device-context","aria-label":p.default.Messages.AUDIO_DEVICE_ACTIONS},void 0,h?_(o.MenuGroup,{label:p.default.Messages.INPUT_DEVICE},void 0,T):null,r?_(o.MenuGroup,{label:p.default.Messages.OUTPUT_DEVICE},void 0,A):null,g?_(o.MenuGroup,{
label:p.default.Messages.FORM_LABEL_INPUT_MODE},void 0,P):null,_(o.MenuGroup,{},void 0,O?M:null,b?N:null,C)))}g.displayName="AudioDeviceMenu"},803121:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a,o,i=ke(n(667294)),u=De(n(294184)),l=De(n(441143)),s=n(536211),c=n(923387),d=n(91817),f=De(n(636602)),p=De(n(229132)),v=n(378158),y=De(n(136873)),h=n(123516),m=De(n(929031)),_=De(n(989418)),g=De(n(284382)),E=De(n(673997)),O=ke(n(33273)),S=n(433383),b=De(n(303798)),I=De(n(198016)),C=De(n(804330)),T=De(n(170328)),A=De(n(954140)),P=n(844784),M=De(n(37039)),N=n(684769),R=n(747868),w=n(385753),D=ke(n(8475)),L=De(n(902305)),k=n(139982),j=De(n(915188)),U=De(n(610929)),G=n(205809),F=De(n(830900)),x=De(n(174508)),W=De(n(839166)),B=De(n(828839)),V=De(n(531334)),H=De(n(625905)),Y=De(n(134893)),z=De(n(48102)),K=De(n(430251)),$=De(n(116790)),q=n(146529),X=De(n(278851)),Q=De(n(336156)),Z=De(n(866219)),J=De(n(861891)),ee=De(n(561603)),te=n(14219),ne=n(518180),re=De(n(607209)),ae=De(n(423046)),oe=De(n(938199)),ie=De(n(27245)),ue=De(n(30098)),le=De(n(689389)),se=De(n(191391)),ce=De(n(211136)),de=De(n(728429)),fe=De(n(387692)),pe=De(n(530250)),ve=n(248685),ye=n(598671),he=De(n(308920)),me=n(319986),_e=n(956506),ge=n(864489),Ee=n(518802),Oe=De(n(922629)),Se=n(245838),be=De(n(825724)),Ie=De(n(66384)),Ce=ke(n(665597)),Te=De(n(368464)),Ae=De(n(789659)),Pe=De(n(310268)),Me=n(859089),Ne=n(770348),Re=De(n(247001)),we=De(n(661073))
;function De(e){return e&&e.__esModule?e:{default:e}}function Le(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(Le=function(e){return e?n:t})(e)}function ke(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=Le(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function je(){je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return je.apply(this,arguments)}function Ue(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function Ge(e){return function(){
var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Ue(o,r,a,i,u,"next",e)}function u(e){Ue(o,r,a,i,u,"throw",e)}i(void 0)}))}}function Fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function xe(e,t){xe=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return xe(e,t)}function We(e,t,n,r){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function Be(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ve(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ve(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var He=((r={})[Ne.ChannelLayouts.NORMAL]=we.default.normal,
r[Ne.ChannelLayouts.MINIMUM]=we.default.minimum,r[Ne.ChannelLayouts.NO_CHAT]=we.default.noChat,r[Ne.ChannelLayouts.FULL_SCREEN]=we.default.fullScreen,r),Ye=((a={})[Ne.AppContext.POPOUT]=we.default.popout,a[Ne.AppContext.APP]=null,a[Ne.AppContext.OVERLAY]=null,a);function ze(e){var t=e.resizableNode,n=e.onResize,r=e.onResizeEnd,a=e.maxHeight,o=Be(i.useState(null),2),u=o[0],l=o[1];i.useEffect((function(){var e,n;l(null!==(e=null===(n=t.current)||void 0===n?void 0:n.offsetHeight)&&void 0!==e?e:null)}),[t]);return We("div",{onMouseDown:(0,O.default)({initialElementDimension:u,minDimension:200,maxDimension:a,resizableDomNodeRef:t,onElementResize:n,onElementResizeEnd:r,orientation:O.ResizeOrientation.VERTICAL}),className:we.default.resizeHandle})}ze.displayName="ResizeHandle";var Ke=We(ve.AppLayerContainer,{}),$e=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;xe(e,t)}(t,e);function t(){
for(var t,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];(t=e.call.apply(e,[this].concat(a))||this)._prevLayout=Ne.ChannelLayouts.MINIMUM;t._wrapperRef=i.createRef();t._contentRef=i.createRef();t._videoBackgroundTooltipTimeout=new d.Timeout;t._lastIdleProps=null;t.state={resizedHeight:x.default.callHeaderHeight};t.handleFullScreenChange=function(){var e=t.getRootNode();null!=e&&((0,Se.isFullScreen)(e,t.currentDocument)||t.props.layout!==Ne.ChannelLayouts.FULL_SCREEN||t.handleFullScreen())};t.handleFullScreen=function(){var e=t.getRootNode();if(null!=e)if(t.props.layout!==Ne.ChannelLayouts.FULL_SCREEN){t._prevLayout=t.props.layout;t.handleChangeLayout(Ne.ChannelLayouts.FULL_SCREEN);(0,Se.requestFullScreen)(e)}else t.maybeLeaveFullScreen()};t.maybeLeaveFullScreen=function(){var e=t.getRootNode();if(null!=e&&t.props.layout===Ne.ChannelLayouts.FULL_SCREEN){t.handleChangeLayout(t._prevLayout);(0,Se.exitFullScreen)(e,t.currentDocument)}};t.handleToggleLayout=function(){
t.handleChangeLayout(t.props.layout===Ne.ChannelLayouts.NORMAL?Ne.ChannelLayouts.NO_CHAT:Ne.ChannelLayouts.NORMAL)};t.handleChangeLayout=function(e){var n=t.props,r=n.channel,a=n.appContext;if(n.layout!==e){p.default.updateLayout(r.id,e,a);e===Ne.ChannelLayouts.FULL_SCREEN&&r.isPrivate()&&_e.ComponentDispatch.dispatch(Ne.ComponentActions.TEXTAREA_BLUR)}};t.handleDisconnect=function(){t.props.layout===Ne.ChannelLayouts.FULL_SCREEN&&t.handleFullScreen()};t.handleContextMenu=function(e,r){var a,o,u=t.props,s=u.channel,c=u.appContext,d=u.layout,f={onClose:function(){var e;return null===(e=t._lastIdleProps)||void 0===e?void 0:e.onAllowIdle("menu")},context:c};null===(a=t._lastIdleProps)||void 0===a||a.onPreventIdle("menu");null===(o=t._lastIdleProps)||void 0===o||o.onActive();switch(e.type){case Me.ParticipantTypes.HIDDEN_STREAM:case Me.ParticipantTypes.STREAM:(0,v.openContextMenuLazy)(r,Ge(regeneratorRuntime.mark((function r(){var a,o;return regeneratorRuntime.wrap((function(r){
for(;;)switch(r.prev=r.next){case 0:r.next=2;return n.e(96434).then(n.bind(n,596434));case 2:a=r.sent;o=a.default;return r.abrupt("return",(function(n){return i.createElement(o,je({},n,{stream:e.stream,exitFullscreen:t.maybeLeaveFullScreen,appContext:c}))}));case 5:case"end":return r.stop()}}),r)}))),f);return;case Me.ParticipantTypes.USER:var p=de.default.getUser(e.id);if(null!=p)switch(s.type){case Ne.ChannelTypes.DM:return(0,v.openContextMenuLazy)(r,Ge(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(31626),n.e(1759),n.e(48811),n.e(81085)]).then(n.bind(n,81085));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return i.createElement(r,je({},e,{showChannelCallItems:!0,showMediaItems:!0,user:p,channel:s,showModalItems:!0}))}));case 5:case"end":return e.stop()}}),e)}))),f);case Ne.ChannelTypes.GROUP_DM:return(0,
v.openContextMenuLazy)(r,Ge(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(31626),n.e(1759),n.e(48811),n.e(66822)]).then(n.bind(n,566822));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return i.createElement(r,je({},e,{showChannelCallItems:!0,showMediaItems:!0,showChatItems:d===Ne.ChannelLayouts.MINIMUM||d===Ne.ChannelLayouts.NORMAL,user:p,channel:s,showModalItems:!0}))}));case 5:case"end":return e.stop()}}),e)}))),f);case Ne.ChannelTypes.GUILD_VOICE:var y=s.getGuildId();(0,l.default)(null!=y,"GuildID null for guild voice channel");return(0,v.openContextMenuLazy)(r,Ge(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(31626),n.e(1759),n.e(48811),n.e(50690),n.e(39048),n.e(40100)]).then(n.bind(n,205814));case 2:t=e.sent
;r=t.default;return e.abrupt("return",(function(e){return i.createElement(r,je({},e,{showMediaItems:!0,showChannelCallItems:!0,showChatItems:!1,user:p,channelId:s.id,guildId:y,showModalItems:!0}))}));case 5:case"end":return e.stop()}}),e)}))),f)}}};t.handleCallResize=function(e){t.setState({resizedHeight:e})};t.handleSelectParticipant=function(e,n){var r=t.props,a=r.channel,o=r.selectedParticipant,i=r.allActiveStreams,u=r.inCall,l=r.mode;if((0,Me.isStreamParticipant)(e)){y.default.selectVoiceChannel(a.id);if(0===i.filter((function(t){return(0,R.encodeStreamKey)(t)===e.id&&t.state!==Ne.ApplicationStreamStates.ENDED})).length){if(!(0,w.canWatchStream)(a,fe.default,ue.default,le.default))return;(0,h.watchStream)((0,R.decodeStreamKey)(e.id),{forceMultiple:n.shiftKey})}}u&&l===Ne.ChannelModes.VIDEO&&((null==o?void 0:o.id)===e.id?p.default.selectParticipant(a.id,null):p.default.selectParticipant(a.id,e.id))};t.handleOpenPopout=function(){var e=t.props,n=e.channel,r=function(){
var e=n.getGuildId();null!=e&&(0,k.transitionTo)((0,me.previousTextChannelRouteForGuild)(e));D.openChannelCallPopout(n)};e.connectedToEmbeddedActivity?(0,C.default)(r):r()};t.handleStayOnTop=function(e){D.setAlwaysOnTop(Ne.PopoutWindowKeys.CHANNEL_CALL_POPOUT,e)};t.handleClosePopout=function(){D.close(Ne.PopoutWindowKeys.CHANNEL_CALL_POPOUT)};t.handleFullscreenParticipant=function(e,n){var r=t.props,a=r.layout,o=r.selectedParticipant,i=a===Ne.ChannelLayouts.FULL_SCREEN;(!i&&(null==o?void 0:o.id)!==e.id||i&&(null==o?void 0:o.id)===e.id)&&t.handleSelectParticipant(e,n);t.handleFullScreen()};t.renderRegionSelect=function(){var e,n=t.props,r=n.call,a=n.channel,o=n.layout;t.inPopout||o===Ne.ChannelLayouts.FULL_SCREEN||null==r||a.isManaged()||(e=We(_.default,{call:r}));return We(pe.default,{justify:pe.default.Justify.END},void 0,e)};t.renderBottomCenter=function(){var e=t.props,n=e.channel,r=e.mode,a=e.inCall,o=e.layout
;return a||o===Ne.ChannelLayouts.MINIMUM||o===Ne.ChannelLayouts.NORMAL?We(W.default,{exitFullScreen:t.maybeLeaveFullScreen,channel:n,mode:r,onDisconnectCall:t.handleDisconnect}):null};t.renderBottomLeft=function(){var e=t.props,n=e.layout,r=e.mentionCount,a=e.channel,o=e.appContext,u=e.useNewInviteButton,l=e.selectedParticipant,s=e.soundboardEnabled;if(!e.inCall)return null;var c=n===Ne.ChannelLayouts.NO_CHAT?$.default.Directions.UP:$.default.Directions.DOWN,d=[Ne.ChannelLayouts.FULL_SCREEN,Ne.ChannelLayouts.NO_CHAT].includes(n),f=n===Ne.ChannelLayouts.FULL_SCREEN?function(){t._prevLayout=Ne.ChannelLayouts.NORMAL;t.handleFullScreen()}:t.handleToggleLayout,p=t.viewProperties,v=p.canChangeLayout,y=p.canInvite,h=u?We(V.default,{channel:a,stream:(null==l?void 0:l.type)===Me.ParticipantTypes.STREAM?(0,R.decodeStreamKey)(l.id):void 0,applicationId:(null==l?void 0:l.type)===Me.ParticipantTypes.ACTIVITY?l.id:void 0,appContext:o,className:we.default.leftTrayIcon,
exitFullScreen:t.maybeLeaveFullScreen,analyticsLocation:a.type===Ne.ChannelTypes.GUILD_VOICE?Ne.AnalyticsPages.GUILD_CHANNEL:Ne.AnalyticsPages.DM_CHANNEL}):We(Q.default,{channel:a,stream:(null==l?void 0:l.type)===Me.ParticipantTypes.STREAM?(0,R.decodeStreamKey)(l.id):void 0,appContext:o,className:we.default.leftTrayIcon,exitFullScreen:t.maybeLeaveFullScreen,analyticsLocation:a.type===Ne.ChannelTypes.GUILD_VOICE?Ne.AnalyticsPages.GUILD_CHANNEL:Ne.AnalyticsPages.DM_CHANNEL});return i.createElement(i.Fragment,null,s&&o===Ne.AppContext.POPOUT&&(0,U.default)(a)?We(F.default,{className:we.default.leftTrayIcon,channel:a}):null,y?h:null,v?We(pe.default,{className:we.default.iconWrapper,align:pe.default.Align.CENTER,grow:0},void 0,We($.default,{label:d?Re.default.Messages.SHOW_CHAT:Re.default.Messages.HIDE_CHAT,direction:c,className:we.default.leftTrayIcon,onClick:f}),d&&r>0?We(ye.NumberBadge,{className:we.default.badge,count:r
}):null):null,(null==l?void 0:l.type)===Me.ParticipantTypes.STREAM||(null==l?void 0:l.type)===Me.ParticipantTypes.ACTIVITY?We(Y.default,{},void 0,We(Pe.default,{className:we.default.viewersButton,participant:l,maxVisibleUsers:4,guildId:a.getGuildId(),channelId:a.id,disableInteraction:t.inPopout||n===Ne.ChannelLayouts.FULL_SCREEN})):null)};t.renderBottomRight=function(){var e=t.props,n=e.popoutWindow,r=e.popoutWindowAlwaysOnTop,a=e.currentUserId,o=e.selectedParticipant,u=t.viewProperties,l=u.canFullscreen,s=u.canStayOnTop,c=u.canPopout,d=u.useTheme;return i.createElement(i.Fragment,null,null!=o&&o.type!==Me.ParticipantTypes.ACTIVITY&&o.user.id!==a?We(ee.default,{context:(0,Ie.default)(o.type),userId:o.user.id,currentWindow:t.inPopout?null!=n?n:void 0:window,sliderClassName:we.default.volumeSlider}):null,s?We(J.default,{className:we.default.rightTrayIcon,popoutWindowAlwaysOnTop:r,onToggleStayOnTop:t.handleStayOnTop}):null,c?We(Z.default,{themeable:d,popoutOpen:t.popoutOpen,
className:we.default.rightTrayIcon,onOpenPopout:t.handleOpenPopout,onClosePopout:t.handleClosePopout}):null,l?We(X.default,{themeable:d,node:t.getRootNode(),guestWindow:n,className:we.default.rightTrayIcon,onClick:t.handleFullScreen}):null)};t.renderChatButton=function(e){var n=e.className,r=e.showingClassName,a=t.props,o=a.channel,i=a.chatOpen,u=a.inCall,l=a.textInVoiceInPopoutEnabled;return i||t.popoutOpen&&!t.inPopout&&u?null:We(q.ChatButton,{channelId:o.id,className:n,showingClassName:r,disabled:!l&&t.inPopout,inPopout:!l&&t.inPopout})};t.renderChatToasts=function(){var e=t.props,n=e.showChatToasts,r=e.chatOpen,a=e.channel,o=e.inCall;return!n||r||t.popoutOpen&&!t.inPopout&&o?null:We(Ce.default,{},void 0,We(z.default,{className:we.default.chatToasts,channelId:a.id,inPopout:t.inPopout}))};t.renderHeader=function(){
var e=t.props,n=e.renderExternalHeader,r=e.channel,a=e.appContext,o=e.layout,i=e.chatOpen,u=e.inCall,l=t.viewProperties,s=l.useExternalHeader,c=l.canSelectRegion,d=l.renderHeader,f=o===Ne.ChannelLayouts.FULL_SCREEN;return d?We(Y.default,{},void 0,We("div",{className:we.default.headerWrapper},void 0,s?null==n?void 0:n():We(Ae.default,{channel:r,appContext:a,inCall:u,inPopout:t.inPopout,isFullScreen:f,isChatOpen:i||t.popoutOpen&&!t.inPopout&&u,exitFullScreen:t.maybeLeaveFullScreen})),c?t.renderRegionSelect():null):null};return t}var r=t.prototype;r.getRootNode=function(){var e,t;return(null!==(e=null===(t=this.props.popoutWindow)||void 0===t?void 0:t.window)&&void 0!==e?e:window).document.getElementById("app-mount")};r.componentDidMount=function(){var e=this.props,t=e.channel,n=e.layout;this.currentDocument.addEventListener(Se.FULLSCREEN_CHANGE_EVENT,this.handleFullScreenChange);he.default.track(Ne.AnalyticEvents.VIDEO_LAYOUT_TOGGLED,je({video_layout:this.inPopout?"popout":n},(0,
P.collectVoiceAnalyticsMetadata)(t.id)))};r.componentWillUnmount=function(){this._videoBackgroundTooltipTimeout.stop();this.currentDocument.removeEventListener(Se.FULLSCREEN_CHANGE_EVENT,this.handleFullScreenChange);this.inPopout&&(0,ge.isOSX)()||this.maybeLeaveFullScreen()};r.componentDidUpdate=function(e){var t=this,n=this.props,r=n.participantsOpen,a=n.inCall,o=n.mode,i=n.layout,u=this.getRootNode();null!=u&&e.mode===Ne.ChannelModes.VIDEO&&o===Ne.ChannelModes.VOICE&&(0,Se.isFullScreen)(u,this.currentDocument)&&(0,Se.exitFullScreen)(u,this.currentDocument);if(e.participantsOpen!==r||i!==e.layout){var l;null===(l=this._contentRef.current)||void 0===l||l.triggerResize()}e.inCall&&!a&&this.inPopout&&f.default.wait((function(){return t.handleClosePopout()}))};r.renderContent=function(e){
var t=this.props,n=t.selectedParticipant,r=t.inCall,a=t.hasConnectPermission,o=t.mode,u=t.popoutWindow,l=t.participantsOpen,s=t.participants,c=t.filteredParticipants,d=t.participantsVersion,f=t.channel,p=t.guild,v=t.layout,y=t.textInVoiceEnabled,h=t.forceShowControls,m=v===Ne.ChannelLayouts.MINIMUM,_=m||v===Ne.ChannelLayouts.NORMAL,g=r&&o===Ne.ChannelModes.VIDEO,E=f.isGuildVoice()&&y;this._lastIdleProps=e;return i.createElement(K.default,je({renderHeader:this.renderHeader,renderBottomLeft:this.renderBottomLeft,renderBottomCenter:this.renderBottomCenter,renderBottomRight:this.renderBottomRight,renderChatButton:E?this.renderChatButton:void 0,renderChatToasts:E?this.renderChatToasts:void 0},e,{screenMessage:this.screenMessage,disableGradients:m,idle:!h&&r&&!m&&e.idle}),r&&this.popoutOpen&&!this.inPopout?null:i.createElement(B.default,{ref:this._contentRef,inCall:r,paused:this.paused,channel:f,hasConnectPermission:a,guild:p,participants:s,filteredParticipants:c,participantsVersion:d,
selectedParticipant:g?n:null,layout:v,idle:e.idle,mode:o,onSelectParticipant:this.handleSelectParticipant,onContextMenuParticipant:this.handleContextMenu,showParticipants:l&&!_,popoutWindow:this.inPopout?u:null}))};r.render=function(){var e,t,n=this,r=this.props,a=r.layout,o=r.channel,l=r.guild,s=r.mode,c=r.chatOpen,d=r.appContext,f=r.width,p=r.maxHeight,v=r.inCall,y=this.state.resizedHeight,h=s===Ne.ChannelModes.VIDEO,m=f-550,_=a!==Ne.ChannelLayouts.NO_CHAT&&a!==Ne.ChannelLayouts.FULL_SCREEN&&null!=p;return i.createElement("div",{className:(0,u.default)(we.default.wrapper,He[a],Ye[d],(e={},e[we.default.poppedOut]=this.popoutOpen&&!this.inPopout&&a!==Ne.ChannelLayouts.NO_CHAT&&o.isPrivate(),e[we.default.video]=h,e[we.default.chatSidebarOpen]=c,e)),ref:function(e){n._wrapperRef.current=e;n.props.wrapperRef.current=e},style:_&&null!=y?{minHeight:200,maxHeight:p,height:y}:void 0},We("div",{className:(0,u.default)(we.default.callContainer,(t={},t[(0,
Ee.getThemeClass)(Ne.ThemeTypes.DARK)]=h,t))},void 0,We(H.default,{timeout:2e3},void 0,(function(e){return n.viewProperties.usePositionLayer?We(ve.AppLayerProvider,{},void 0,n.renderContent(e),Ke):n.renderContent(e)}))),_&&We(ze,{maxHeight:p,resizableNode:this._wrapperRef,onResize:this.handleCallResize,onResizeEnd:this.props.updateStoredCallHeaderHeight}),c&&(!v||!this.popoutOpen||this.inPopout)&&We(Te.default,{channel:o,guild:l,maxWidth:m}))};!function(e,t,n){t&&Fe(e.prototype,t);n&&Fe(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"nativePopoutSupported",get:function(){return ge.isPlatformEmbedded&&Oe.default.supportsFeature(Ne.NativeFeatures.POPOUT_WINDOWS)}},{key:"popoutSupported",get:function(){return!ge.isPlatformEmbedded||this.nativePopoutSupported}},{key:"popoutOpen",get:function(){var e=this.props.popoutWindow;return null!=e&&!e.closed}},{key:"currentDocument",get:function(){var e=this.props.popoutWindow
;return null!=e&&this.popoutOpen&&this.inPopout?e.document:document}},{key:"screenMessage",get:function(){return this.popoutOpen&&!this.inPopout&&this.props.inCall?{mainText:Re.default.Messages.POPOUT_PLAYER_OPENED}:null}},{key:"paused",get:function(){return this.popoutOpen&&!this.inPopout}},{key:"inPopout",get:function(){return this.props.appContext===Ne.AppContext.POPOUT}},{key:"viewProperties",get:function(){var e=this.props,t=e.layout,n=e.mode,r=e.channel,a=e.inCall,o=n===Ne.ChannelModes.VIDEO&&a&&!(this.popoutOpen&&!this.inPopout),i=n===Ne.ChannelModes.VIDEO&&a&&!this.inPopout&&this.popoutSupported,u=n!==Ne.ChannelModes.VOICE&&r.isPrivate()&&!this.inPopout&&a,l=r.type===Ne.ChannelTypes.GUILD_VOICE,s=t===Ne.ChannelLayouts.MINIMUM||t===Ne.ChannelLayouts.NORMAL,c=this.inPopout&&this.nativePopoutSupported,d={renderHeader:!0,useTheme:!1,usePositionLayer:!1,useExternalHeader:s,canInvite:l,canPopout:i,canFullscreen:o,canSelectRegion:r.isPrivate(),canChangeLayout:u,canStayOnTop:c}
;if(!a)return je({},d,{canFullscreen:o,useTheme:!0});switch(t){case Ne.ChannelLayouts.FULL_SCREEN:return je({},d,{canPopout:!this.inPopout&&this.popoutOpen&&d.canPopout,usePositionLayer:!0});case Ne.ChannelLayouts.MINIMUM:return je({},d,{canPopout:!1});case Ne.ChannelLayouts.NO_CHAT:case Ne.ChannelLayouts.NORMAL:return je({},d)}}}]);return t}(i.PureComponent);$e.displayName="ChannelCall";var qe=We(Ce.ChannelCallChatLayerContainer,{});function Xe(e){var t,n=e.channel,r=e.renderExternalHeader,a=e.maxHeight,o=(0,E.default)(),u=o.width,l=void 0===u?0:u,d=o.ref,f=(0,S.useAppContext)(),p=(0,s.useStateFromStores)([ce.default],(function(){return ce.default.getVoiceChannelId()===n.id})),v=(0,s.useStateFromStoresObject)([be.default],(function(){var e=f===Ne.AppContext.POPOUT,t=be.default.getMode(n.id);e&&(t=Ne.ChannelModes.VIDEO);var r=t===Ne.ChannelModes.VIDEO?be.default.getLayout(n.id,f):Ne.ChannelLayouts.MINIMUM;e&&r!==Ne.ChannelLayouts.FULL_SCREEN&&(r=Ne.ChannelLayouts.NO_CHAT);return{
mode:t,layout:r,selectedParticipant:t!==Ne.ChannelModes.VOICE?be.default.getSelectedParticipant(n.id):null,participants:be.default.getParticipants(n.id),filteredParticipants:be.default.getFilteredParticipants(n.id),participantsOpen:be.default.getParticipantsOpen(n.id),chatOpen:be.default.getChatOpen(n.id),participantsVersion:be.default.getParticipantsVersion(n.id)}}),[n.id,n.type,p]),y=v.participants,h=v.filteredParticipants,_=v.participantsVersion,O=v.mode,C=v.layout,P=v.participantsOpen,R=v.chatOpen,w=v.selectedParticipant,D=(0,s.useStateFromStoresArray)([re.default],(function(){return re.default.getAllActiveStreams()})),k=(0,s.useStateFromStoresObject)([re.default],(function(){return{selectedStream:null!=w?re.default.getActiveStreamForStreamKey(w.id):null}}),[w]).selectedStream,U=(0,s.useStateFromStores)([ue.default],(function(){return ue.default.getGuild(n.getGuildId())})),F=(0,s.useStateFromStores)([ie.default],(function(){return ie.default.getCall(n.id)}),[n.id]),W=(0,
s.useStateFromStores)([se.default],(function(){return se.default.getMentionCount(n.id)}),[n.id]),B=(0,s.useStateFromStores)([ae.default],(function(){return ae.default.getId()})),V=(0,s.useStateFromStoresObject)([L.default],(function(){return{popoutWindow:L.default.getWindow(Ne.PopoutWindowKeys.CHANNEL_CALL_POPOUT),popoutWindowAlwaysOnTop:L.default.getIsAlwaysOnTop(Ne.PopoutWindowKeys.CHANNEL_CALL_POPOUT)}})),H=V.popoutWindow,Y=V.popoutWindowAlwaysOnTop,z=(0,s.useStateFromStores)([le.default],(function(){return le.default.can(Ne.Permissions.CONNECT,n)})),K=(0,s.useStateFromStores)([oe.default],(function(){return oe.default.getToastsEnabled(n.id)})),$=(0,s.useStateFromStores)([x.default],(function(){return x.default.callHeaderHeight})),q=i.useCallback((function(e){m.default.updatedUnsyncedSettings({callHeaderHeight:e})}),[]),X=null!==(t=null==U?void 0:U.id)&&void 0!==t?t:null,Q=(0,I.default)(X),Z=(0,s.useStateFromStores)([b.default],(function(){
return null!=b.default.getSelfEmbeddedActivityForChannel(n.id)}),[n]);(0,T.default)();i.useEffect((function(){var e=!1,t=null,n=function(){var n=Ge(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!p||O!==Ne.ChannelModes.VIDEO){n.next=5;break}n.next=3;return Oe.default.blockDisplaySleep();case 3:t=n.sent;e&&null!=t&&Oe.default.unblockDisplaySleep(t);case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n();return function(){null!=t?Oe.default.unblockDisplaySleep(t):e=!0}}),[p,O]);var J=j.default.useExperiment({guildId:null!=X?X:""},{autoTrackExposure:!0}).allowSoundboard,ee=(0,G.useIsSoundboardSupported)(),de=(0,ne.useIsTextInVoiceEnabled)(X),fe=te.TextInVoiceInPopoutExperiment.useExperiment({guildId:null!=X?X:""}).isEnabled,pe=(0,N.useIsContentShown)(c.DismissibleContent.CALL_CHAT_BUTTON_TEXT_IN_VOICE_COACH_MARK);return We((0,
M.default)(A.default.CHANNEL_CALL).AnalyticsLocationProvider,{},void 0,We(g.default,{page:Ne.AnalyticsPages.CHANNEL_CALL},void 0,We(Ce.ChannelCallChatLayerProvider,{},void 0,We($e,{channel:n,guild:U,hasConnectPermission:z,participantsOpen:P,renderExternalHeader:r,appContext:f,call:F,popoutWindow:H,popoutWindowAlwaysOnTop:Y,mentionCount:W,selectedStream:k,mode:O,inCall:p,participants:y,filteredParticipants:h,participantsVersion:_,layout:C,chatOpen:R,soundboardEnabled:J&&ee,currentUserId:B,selectedParticipant:w,allActiveStreams:D,useNewInviteButton:Q,connectedToEmbeddedActivity:Z,showChatToasts:K,storedCallHeaderHeight:$,updateStoredCallHeaderHeight:q,wrapperRef:d,width:l,maxHeight:a,textInVoiceEnabled:de,textInVoiceInPopoutEnabled:fe,forceShowControls:pe}),qe)))}Xe.displayName="ChannelCallConnected";var Qe=Xe;t.default=Qe},665597:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.ChannelCallChatLayerProvider=t.ChannelCallChatLayerContainer=void 0
;var r=(0,n(933503).createLayer)("ChannelCallChat"),a=r.Layer,o=r.LayerContainer,i=r.LayerProvider,u=o;t.ChannelCallChatLayerContainer=u;var l=i;t.ChannelCallChatLayerProvider=l;var s=a;t.default=s},368464:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=I(n(667294)),o=n(923387),i=S(n(229132)),u=S(n(914789)),l=I(n(174851)),s=S(n(805918)),c=n(573285),d=n(203847),f=n(687549),p=S(n(37985)),v=S(n(259530)),y=S(n(878556)),h=n(956506),m=S(n(665597)),_=n(770348),g=n(583551),E=S(n(247001)),O=S(n(974290));function S(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function I(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function C(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function T(e){var t=e.channel,n=e.guild,r=e.maxWidth;a.useEffect((function(){(0,d.markDismissibleContentAsDismissed)(o.DismissibleContent.CALL_CHAT_BUTTON_TEXT_IN_VOICE_COACH_MARK,{dismissAction:g.ContentDismissActionType.AUTO})}),[]);var S=a.useCallback((function(){i.default.updateChatOpen(t.id,!1)
;h.ComponentDispatch.safeDispatch(_.ComponentActions.FOCUS_CHAT_BUTTON)}),[t.id]),b=C(y.default.Icon,{icon:v.default,tooltip:E.default.Messages.CLOSE,onClick:S});return C(l.default,{sidebarType:l.ChatSidebarType.CallChatSidebar,maxWidth:r,floatingLayer:m.default},void 0,C(s.default,{channel:t,draftType:f.DraftType.ChannelMessage}),C(y.default,{toolbar:b,"aria-label":E.default.Messages.CHANNEL_HEADER_BAR_A11Y_LABEL},void 0,C(y.default.Icon,{icon:p.default,disabled:!0,"aria-label":E.default.Messages.VOICE_CHAT_TEXT_CHANNEL}),C(y.default.Title,{},void 0,t.name)),C("div",{className:O.default.chat},void 0,C(u.default,{channel:t,guild:n,chatInputType:c.ChatInputTypes.SIDEBAR},t.id)))}T.displayName="ChannelCallChatSidebar";var A=T;t.default=A},789659:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=G
;var r,a=P(n(667294)),o=n(536211),i=P(n(538930)),u=T(n(411018)),l=T(n(469487)),s=T(n(678928)),c=T(n(786661)),d=n(902399),f=T(n(891036)),p=T(n(116780)),v=T(n(562475)),y=n(645758),h=T(n(878556)),m=n(864489),_=n(518802),g=T(n(922629)),E=T(n(825724)),O=T(n(156511)),S=n(859089),b=n(478036),I=T(n(247001)),C=T(n(34973));function T(e){return e&&e.__esModule?e:{default:e}}function A(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(A=function(e){return e?n:t})(e)}function P(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=A(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function M(e,t){return function(e){
if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function R(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function w(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function D(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){w(o,r,a,i,u,"next",e)}function u(e){w(o,r,a,i,u,"throw",e)}i(void 0)}))}}function L(){return k.apply(this,arguments)}function k(){return(k=D(regeneratorRuntime.mark((function e(){var t,n,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,m.isOSX)()||!m.isPlatformEmbedded){e.next=14;break}e.next=3
;return null===(n=(r=window.DiscordNative.remoteApp).getDefaultDoubleClickAction)||void 0===n?void 0:n.call(r);case 3:e.t1=t=e.sent;e.t0=null!==e.t1;if(!e.t0){e.next=7;break}e.t0=void 0!==t;case 7:if(!e.t0){e.next=11;break}e.t2=t;e.next=12;break;case 11:e.t2="Maximize";case 12:"Minimize"===(a=e.t2)?g.default.minimize():"Maximize"===a&&g.default.maximize();case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e){var t=e.user,n=e.channel,r=e.stream,o=(0,p.default)(n,t,r);return null==t||null==r?null:a.createElement(a.Fragment,null,R(i.default,{className:C.default.avatar,size:i.Sizes.SIZE_24,user:t,animate:!1}),R(y.Text,{className:C.default.playingText,variant:"text-md/normal",color:"none"},void 0,o))}function U(e){var t,n=e.focusedApplication,r=e.focusedParticipant,o=e.channel,i=(0,d.useActiveEvent)(o.id),l=null!=i;if((null==r?void 0:r.type)===S.ParticipantTypes.ACTIVITY)null!=n&&(t=a.createElement(a.Fragment,null,R(h.default.Divider,{className:C.default.divider
}),R(v.default,{game:n,className:C.default.activityIcon}),R(y.Text,{className:C.default.playingText,variant:"text-md/normal",color:"none"},void 0,(0,u.default)(n.name))));else if((null==r?void 0:r.type)===S.ParticipantTypes.STREAM){var s=r.user,c=r.stream;t=a.createElement(a.Fragment,null,R(h.default.Divider,{className:C.default.divider}),R(j,{user:s,channel:o,stream:c}))}else l&&(t=R(f.default,{guildEvent:i}));return R("div",{className:C.default.container},void 0,t)}U.displayName="ChannelTitle";function G(e){var t=e.channel,n=e.appContext,r=e.inCall,a=e.inPopout,i=e.isFullScreen,u=e.isChatOpen,d=e.exitFullScreen,f=(0,o.useStateFromStoresObject)([E.default],(function(){return{focusedParticipant:E.default.getSelectedParticipant(t.id),participantsOpen:E.default.getParticipantsOpen(t.id)}}),[t.id]).focusedParticipant,p=(0,s.default)(t),v=(0,c.default)(t),y=M((0,l.default)((null==f?void 0:f.type)===S.ParticipantTypes.ACTIVITY?[f.id]:[]),1)[0],m=I.default.Messages.VOICE_CHANNEL
;t.isDM()?m=I.default.Messages.DM:t.isGroupDM()&&(m=I.default.Messages.GROUP_DM);return R(h.default,{onDoubleClick:L,transparent:!0,className:(0,_.getThemeClass)(b.ThemeTypes.DARK),toolbar:R(O.default,{channel:t,appContext:n,inCall:r,inPopout:a,isFullScreen:i,isChatOpen:u,exitFullScreen:d})},void 0,null!=v?R(h.default.Icon,{icon:v,disabled:!0,"aria-label":m}):null,R(h.default.Title,{},void 0,p),R(U,{focusedApplication:y,focusedParticipant:f,channel:t}))}G.displayName="ChannelCallHeader"},156511:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.channel,n=e.appContext,r=e.inCall,o=e.inPopout,i=e.isFullScreen,d=e.isChatOpen,O=e.exitFullScreen,b=t.id,C=(0,u.useStateFromStoresObject)([A.default],(function(){return{selectedParticipant:A.default.getSelectedParticipant(b),voiceParticipantsHidden:A.default.getVoiceParticipantsHidden(b),userParticipantCount:A.default.getUserParticipantCount(b)}
}),[t.id]),R=C.voiceParticipantsHidden,D=C.selectedParticipant,L=C.userParticipantCount,G=(0,E.useIsTextInVoiceEnabled)(t.guild_id),F=(0,p.usePreventIdle)("popup"),x=F.preventIdle,W=F.allowIdle,B=[];R&&B.push(k(U,{channelId:b,guildId:t.guild_id},"current-speaker"));if((null==D?void 0:D.type)===N.ParticipantTypes.STREAM){B.push(k(f.default,{className:w.default.button,participant:D},"warning"));B.push(k(l.default,{size:T.default.Sizes.LARGE,className:w.default.button,participant:D,showQuality:!0},"live-indicator"))}var V=k(v.default,{},void 0,k(M.default,{channel:t}));R&&B.push(k(S.default,{position:S.default.Positions.BOTTOM,renderPopout:function(){return V}},"call-members-popout",(function(e,t){var n=t.isShown;return a.createElement(_.default,j({},e,{active:n,count:L,key:"call-members",className:w.default.button}))})));B.push(k(s.default,{guildId:t.guild_id},"guild-events-browser-button"));r&&B.push(null!=D?k(m.default,{className:w.default.button,channelId:b
},"deselect-participant"):k(g.default,{className:w.default.button,channelId:b,isHorizontal:G},"select-participant"));G&&B.push(k(c.default,{onOpen:x,onClose:W,className:w.default.button},"recents"));B.push(k(S.default,{position:S.default.Positions.BOTTOM,renderPopout:function(e){var t=e.closePopout;return k(v.default,{},void 0,k(P.default,{channelId:b,onClose:t,appContext:n,exitFullScreen:O}))}},"more-options-popout",(function(e,t){var n=t.isShown;return a.createElement(h.default,j({},e,{key:"more-options",active:n,className:w.default.lastButton}))})));if(G){if(!d){B.push(k(I.default.Divider,{className:w.default.divider},"divider"));B.push(k(y.ChatButtonWithNUX,{channelId:t.id,className:w.default.chatButtonSpacer,disabled:!0}))}}else if(!o&&!i){B.push(k(I.default.Divider,{className:w.default.divider},"divider"));B.push(k(c.default,{className:w.default.button,onOpen:x,onClose:W},"recents"))}return a.createElement(a.Fragment,null,B)};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=L(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=D(n(294184)),i=D(n(496486)),u=n(536211),l=D(n(57697)),s=D(n(981706)),c=D(n(386195)),d=D(n(183612)),f=D(n(697252)),p=n(134893),v=D(n(222935)),y=n(146529),h=D(n(928221)),m=D(n(56396)),_=D(n(975577)),g=D(n(727012)),E=n(518180),O=D(n(397228)),S=D(n(160629)),b=D(n(730977)),I=D(n(878556)),C=D(n(528739)),T=D(n(528175)),A=D(n(825724)),P=D(n(948861)),M=D(n(252986)),N=n(859089),R=D(n(247001)),w=D(n(942751));function D(e){return e&&e.__esModule?e:{default:e}}function L(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(L=function(e){return e?n:t})(e)}
function k(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function j(){j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return j.apply(this,arguments)}function U(e){var t=e.channelId,n=e.guildId,r=Date.now(),l=(0,u.useStateFromStores)([O.default,A.default],(function(){return(0,i.default)(O.default.getSpeakers()).map((function(e){return A.default.getParticipant(t,e)})).filter((function(e){return null!=e&&e.type===N.ParticipantTypes.USER&&!(0,d.default)(e)&&e.speaking})).sortBy((function(e){
return-O.default.getSpeakingDuration(e.user.id,r)})).slice(0,3).value()}));return 0===l.length?null:a.createElement(a.Fragment,null,l.map((function(e,t){return k(b.default,{position:b.default.Positions.BOTTOM,color:b.default.Colors.GREY,text:R.default.Messages.CHANNEL_CALL_CURRENT_SPEAKER.format({username:e.user.username})},e.id,(function(r){var i;return a.createElement(C.default,j({},r,{className:(0,o.default)(w.default.speaker,(i={},i[w.default.last]=t===l.length-1,i)),user:e.user,speaking:!0,collapsed:!0,guildId:n}))}))})))}},121791:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=f(n(636602)),a=f(n(740207)),o=f(n(177230)),i=f(n(902305)),u=f(n(635014)),l=f(n(834162)),s=f(n(949898)),c=n(770348),d=n(376293);function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){p=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return p(e,t)}function v(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]
;if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h=new Set,m=new Set,_=null;function g(){for(var e,t=v(h);!(e=t()).done;){var n=e.value;a.default.setDisableLocalVideo(n,!1,d.MediaEngineContextTypes.DEFAULT,!1)}m.clear();h.clear()}var E=new(function(e){!function(e,t){
e.prototype=Object.create(t.prototype);e.prototype.constructor=e;p(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).handleWindowFocus=function(e){e.focused&&g()};t.handleVoiceChannelSelect=function(e){var t=e.channelId;if(t!==_){g();_=t}};t.handlePopoutChange=function(){i.default.getWindowFocused(c.PopoutWindowKeys.CHANNEL_CALL_POPOUT)&&g()};return t}var n=t.prototype;n._initialize=function(){r.default.subscribe(c.ActionTypes.RTC_CONNECTION_VIDEO,this.handleIncomingVideo);r.default.subscribe(c.ActionTypes.AUDIO_SET_LOCAL_VIDEO_DISABLED,this.handleManualLocalVideoToggle);r.default.subscribe(c.ActionTypes.WINDOW_FOCUS,this.handleWindowFocus);r.default.subscribe(c.ActionTypes.VOICE_CHANNEL_SELECT,this.handleVoiceChannelSelect);i.default.addChangeListener(this.handlePopoutChange)};n._terminate=function(){r.default.unsubscribe(c.ActionTypes.RTC_CONNECTION_VIDEO,this.handleIncomingVideo)
;r.default.unsubscribe(c.ActionTypes.AUDIO_SET_LOCAL_VIDEO_DISABLED,this.handleManualLocalVideoToggle);r.default.unsubscribe(c.ActionTypes.WINDOW_FOCUS,this.handleWindowFocus);r.default.unsubscribe(c.ActionTypes.VOICE_CHANNEL_SELECT,this.handleVoiceChannelSelect);i.default.removeChangeListener(this.handlePopoutChange);g();_=null};n.handleIncomingVideo=function(e){var t=e.userId,n=e.context,r=e.streamId;if(n===d.MediaEngineContextTypes.DEFAULT&&null!=r){var o=null!=l.default.getCurrentGame(),f=s.default.isFocused(),p=i.default.getWindowFocused(c.PopoutWindowKeys.CHANNEL_CALL_POPOUT),v=u.default.isLocalVideoDisabled(t,n),y=m.has(t);if(o&&!f&&!p&&!v&&!y){h.add(t);a.default.setDisableLocalVideo(t,!0,n,!1)}}};n.handleManualLocalVideoToggle=function(e){var t=e.userId;if(e.persist){m.add(t);h.delete(t)}};return t}(o.default));t.default=E},948861:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=_;h(n(667294))
;var r,a=n(536211),o=h(n(145122)),i=v(n(825724)),u=v(n(856015)),l=v(n(48712)),s=v(n(845442)),c=v(n(681064)),d=v(n(630601)),f=n(859089),p=v(n(247001));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e){var t=e.channelId,n=e.onClose,r=e.appContext,v=e.exitFullScreen,y=e.onSelect,h=(0,a.useStateFromStores)([i.default],(function(){return i.default.getSelectedParticipant(t)})),_=(null==h?void 0:h.type)===f.ParticipantTypes.STREAM?h.stream:null;return m(o.default,{navId:"channel-call-overflow-popout",style:o.MenuStyle.FLEXIBLE,onClose:n,"aria-label":p.default.Messages.CHANNEL_CALL_OVERFLOW_MENU_LABEL,onSelect:y},void 0,(0,u.default)(t),(0,s.default)(),(0,l.default)(t),(0,d.default)(t),(0,c.default)(_,r,v))}_.displayName="ChannelCallOverflowMenu"},252986:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=y;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=f(n(692244)),i=f(n(487372)),u=n(645758),l=f(n(582945)),s=n(770348),c=f(n(247001)),d=f(n(498082));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e){var t=e.channel,n=(0,a.useStateFromStores)([i.default],(function(){return i.default.getVoiceStatesForChannel(t)}));return v("div",{className:d.default.root},void 0,v(u.Text,{variant:"text-xs/normal",className:d.default.header},void 0,c.default.Messages.CHANNEL_CALL_MEMBERS_POPOUT_HEADER.format({count:n.length})),v(l.default,{className:d.default.scroller},void 0,v(o.default,{allowDragging:!1,allowPreviews:!1,className:d.default.voiceUsers,channel:t,voiceStates:n,collapsed:!1,location:s.AnalyticsLocations.CHANNEL_CALL})))}y.displayName="ChannelCallParticipantsPopout"},297452:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=te;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=V(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=B(n(294184)),i=n(248088),u=n(536211),l=B(n(88500)),s=B(n(72690)),c=B(n(136873)),d=B(n(61689)),f=n(460784),p=B(n(678928)),v=n(139982),y=n(659022),h=n(700192),m=B(n(712594)),_=B(n(373115)),g=B(n(770404)),E=B(n(493051)),O=n(143414),S=B(n(643779)),b=B(n(645675)),I=B(n(635014)),C=B(n(728429)),T=B(n(949898)),A=B(n(956117)),P=B(n(160629)),M=B(n(80828)),N=B(n(259530)),R=B(n(114655)),w=B(n(57754)),D=n(518802),L=B(n(825724)),k=B(n(932018)),j=n(770348),U=n(942675),G=n(376293),F=B(n(247001)),x=B(n(299005)),W=B(n(480798));function B(e){return e&&e.__esModule?e:{default:e}}function V(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(V=function(e){return e?n:t})(e)}function H(){H=Object.assign||function(e){
for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return H.apply(this,arguments)}function Y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function K(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var $={width:232,height:315},q={width:232,height:267},X=475,Q=267,Z=K(M.default,{});function J(e){var t=e.header,n=I.default.getCameraComponent(),r=(0,u.useStateFromStores)([I.default],(function(){return I.default.getVideoDeviceId()})),o=(0,m.default)();a.useEffect((function(){
var e=C.default.getCurrentUser();if(o&&null!=e){var t=(0,y.getLastUsedVideoBackgroundOption)(e);(0,h.applyBackgroundOptionPreview)(t,r,{track:!1}).catch(j.NOOP)}}),[o,r]);return K("div",{className:x.default.previewRoot},void 0,Z,K("div",{className:x.default.preview},void 0,K(n,{disabled:!1,deviceId:r,width:X,height:Q})),K("div",{className:x.default.previewChannelHeader},void 0,t))}J.displayName="CameraPreview";function ee(e){var t=e.canVideo,n=e.channel,r=e.numVideoDevices,a=(0,_.default)(),i=a.cameraUnavailable,u=a.enabled,s=(0,g.default)(n);return K("div",{className:x.default.actions},void 0,K(O.CenterControlButton,{iconComponent:N.default,color:"red",className:x.default.actionButton,label:F.default.Messages.DISMISS,onClick:function(){return l.default.stopRinging(n.id)}}),t&&K(P.default,{renderPopout:function(e){var t=e.closePopout;return K(k.default,{onClose:t})},position:P.default.Positions.TOP,align:P.default.Align.CENTER,animation:P.default.Animation.FADE},void 0,(function(e,t){
var a=e.onClick,o=t.isShown;return K(b.default,{join:!0,enabled:u,color:"green",centerButton:!0,hasPermission:s,cameraUnavailable:i,channel:n,onPopoutClick:r>1?a:null,className:x.default.actionButton,popoutOpen:o,onCameraUnavailable:E.default,onChange:function(){c.default.selectVoiceChannel(n.id,!0);(0,v.transitionToGuild)(j.ME,n.id)}})})),K(S.default,{channel:n,color:"green",centerButton:!0,className:(0,o.default)(x.default.actionButton,x.default.last),onClick:function(){return c.default.selectVoiceChannel(n.id)}}))}ee.displayName="CallActionButtons";function te(e){var t,n=e.animatedStyle,r=e.y,c=e.x,v=e.channel,y=Y(a.useState(!1),2),h=y[0],m=y[1],_=(0,f.getChannelIconURL)(v),g=(0,p.default)(v),E=Y((0,u.useStateFromStoresArray)([I.default],(function(){return[I.default.supports(G.Features.VIDEO),Object.keys(I.default.getVideoDevices()).length]})),2),O=E[0],S=E[1],b=(0,u.useStateFromStores)([T.default],(function(){return T.default.isFocused()})),C=(0,
u.useStateFromStores)([L.default],(function(){return L.default.getMode(v.id)})),P=a.useCallback((function(e){null!=e.top&&null!=e.left&&s.default.move(e.left,e.top)}),[]),M=(0,i.useSpring)({value:h?1:0,config:H({},i.config.stiff,{clamp:!0})});a.useEffect((function(){var e=function(e){e.keyCode===j.KeyboardKeys.ESCAPE&&l.default.stopRinging(v.id)};window.addEventListener("keydown",e);return function(){return window.removeEventListener("keydown",e)}}),[v]);var N=C===j.ChannelModes.VIDEO&&O&&S>0,k=a.createElement(a.Fragment,null,K(w.default,{className:x.default.icon,ringing:b,src:null!=_?_:"",ringingType:w.default.RingingType.INCOMING,size:h?U.Sizes.SIZE_40:U.Sizes.SIZE_80}),K("div",{className:x.default.titleGroup},void 0,K(R.default,{color:R.default.Colors.CUSTOM,className:x.default.title,size:h?R.default.Sizes.SIZE_16:R.default.Sizes.SIZE_20},void 0,g),K(R.default,{color:R.default.Colors.CUSTOM,className:x.default.subtitle,size:h?R.default.Sizes.SIZE_14:R.default.Sizes.SIZE_16
},void 0,C===j.ChannelModes.VOICE?F.default.Messages.INCOMING_CALL_ELLIPSIS:F.default.Messages.INCOMING_VIDEO_CALL_ELLIPSIS))),B=N?$:q;return K(d.default,{className:x.default.wrapper,selector:"."+x.default.root,initialPosition:{left:c,top:r},maxX:window.innerWidth,maxY:window.innerHeight,onDragEnd:P,dragAnywhere:!0},void 0,a.createElement(a.Fragment,null,K(i.animated.div,{className:(0,o.default)(x.default.root,W.default.elevationHigh,(t={},t[x.default.previewCamera]=h,t),h?(0,D.getThemeClass)("dark"):null),style:H({},n,{width:M.value.interpolate([0,1],[B.width,X]),minHeight:M.value.interpolate([0,1],[B.height,Q]),translateX:M.value.interpolate([0,1],[0,-1*Math.abs(X-B.width)/2])})},void 0,h?K(J,{header:k}):K("div",{className:x.default.mainChannelInfo},void 0,k),K(ee,{canVideo:N,channel:v,numVideoDevices:S}),N&&!h?K(A.default,{size:A.default.Sizes.SMALL,fullWidth:!0,look:A.default.Looks.LINK,color:A.default.Colors.PRIMARY,className:x.default.previewButton,onClick:function(){return m(!0)
}},void 0,F.default.Messages.INCOMING_CALL_PREVIEW_CAMERA):null)))}te.displayName="IncomingCallModal"},310268:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=F;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=P(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=A(n(294184)),i=A(n(496486)),u=n(536211),l=n(91817),s=n(378158),c=A(n(762921)),d=A(n(284382)),f=A(n(607209)),p=A(n(728429)),v=A(n(265851)),y=n(772575),h=A(n(160629)),m=n(730977),_=A(n(268478)),g=A(n(628551)),E=A(n(582945)),O=n(71246),S=A(n(29652)),b=n(859089),I=n(770348),C=A(n(247001)),T=A(n(168088));function A(e){
return e&&e.__esModule?e:{default:e}}function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(P=function(e){return e?n:t})(e)}function M(){M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return M.apply(this,arguments)}function N(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function R(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){N(o,r,a,i,u,"next",e)}function u(e){N(o,r,a,i,u,"throw",e)}i(void 0)}))}}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e
}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function L(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function k(e,t){switch(e){case b.ParticipantTypes.ACTIVITY:return C.default.Messages.EMBEDDED_ACTIVITIES_NUM_PARTICIPANTS.format({numUsers:t});case b.ParticipantTypes.STREAM:return C.default.Messages.SPECTATORS.format({numViewers:t});default:throw new Error("Unknown participant type.")}}function j(e){var t=e.users,n=e.disableInteraction,r=e.guildId,a=e.participantType,i=e.channelId,u=e.handleUserContextMenu,l=k(a,t.length);return L(v.default,{"aria-label":l,className:T.default.popoutWrapper},void 0,L(E.default,{className:T.default.scroller},void 0,L(y.Heading,{variant:"heading-sm/medium",className:T.default.memberListHeader,level:3},void 0,l),L("div",{},void 0,t.map((function(e){var t;return L(c.default,{guildId:null!=r?r:void 0,className:(0,o.default)(T.default.memberListItem,(t={},t[T.default.popoutDisabled]=n,t)),
textClassName:T.default.memberListItemText,user:e,disablePopout:n,nick:S.default.getNickname(r,i,e),onContextMenu:function(t){return n?null:u(t,e)}},e.id)})))))}j.displayName="PopoutList";function U(e){var t=e.users,n=e.guildId,r=e.channelId,a=e.maxVisibleUsers,i=void 0===a?3:a,u=e.className,l=k(e.participantType,t.length),s=t.length<i?t.map((function(e){return L("div",{className:T.default.viewersTooltipItem},e.id,S.default.getName(n,r,e))})):l;return L(m.TooltipContainer,{text:s,"aria-label":l},void 0,L("div",{className:(0,o.default)(T.default.viewers,u)},void 0,L(_.default,{className:T.default.viewersIcon}),L("span",{"aria-hidden":"true"},void 0,t.length)))}U.displayName="CompactUsers";var G=[];function F(e){var t=e.channelId,r=e.guildId,c=e.participant,v=e.className,y=e.compact,m=void 0!==y&&y,_=e.disableInteraction,E=void 0!==_&&_,S=e.maxVisibleUsers,C=void 0===S?3:S,A=w(a.useState(!1),2),P=A[0],N=A[1],D=a.useRef(new l.DelayedCall(150,(function(){return N(!1)}))),k=(0,
u.useStateFromStoresArray)([f.default,p.default],(function(){if(c.type===b.ParticipantTypes.STREAM){var e=f.default.getViewerIds(c.id);return e.length>0?e.map((function(e){return p.default.getUser(e)})).filter(O.isNotNullish):G}return c.type===b.ParticipantTypes.ACTIVITY&&c.participants.size>0?Array.from(c.participants).map((function(e){return p.default.getUser(e)})).filter(O.isNotNullish):G}),[c]),F=a.useCallback((function(){D.current.cancel();N(!0)}),[]),x=a.useCallback((function(){D.current.delay()}),[]),W=a.useCallback((function(e,t){F();(0,s.openContextMenuLazy)(e,R(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(31626),n.e(1759),n.e(56159)]).then(n.bind(n,856159));case 2:r=e.sent;o=r.default;return e.abrupt("return",(function(e){return a.createElement(o,M({},e,{user:t}))}));case 5:case"end":return e.stop()}}),e)}))),{onClose:x})}),[x,F]);if(0===k.length)return null
;if(m)return L(U,{maxVisibleUsers:C,users:k,guildId:r,channelId:t,className:v,participantType:c.type});var B=(0,i.default)(k).take(C).map((function(e){return L(g.default,{src:e.getAvatarURL(r,24),"aria-label":e.username,size:g.default.Sizes.SIZE_24,className:T.default.viewer},e.id)})).value();k.length>C&&(B[B.length-1]=L("div",{className:T.default.overflow},"overflow","+",k.length-C+1));return L(d.default,{section:I.AnalyticsSections.STREAM_VIEWER_POPOUT},void 0,L("div",{onMouseEnter:F,onMouseLeave:x},void 0,L(h.default,{renderPopout:function(){return L(j,{participantType:c.type,handleUserContextMenu:W,guildId:r,channelId:t,users:k,disableInteraction:E})},shouldShow:P,position:h.default.Positions.TOP},void 0,(function(){return L("div",{className:(0,o.default)(T.default.viewers,v)},void 0,B)}))))}F.displayName="ParticipantsForSelectedParticipant"},932018:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=m;y(n(667294))
;var r,a=p(n(441143)),o=n(536211),i=p(n(284382)),u=y(n(145122)),l=p(n(728429)),s=p(n(161409)),c=p(n(376638)),d=n(770348),f=p(n(247001));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e){var t=e.onClose,n=e.onSelect,r=(0,o.useStateFromStores)([l.default],(function(){var e=l.default.getCurrentUser();(0,a.default)(null!=e,"VideoDeviceMenu: currentUser cannot be undefined");return e})),p=(0,s.default)(),v=(0,c.default)(r.id);return h(i.default,{object:d.AnalyticsObjects.CONTEXT_MENU},void 0,h(u.default,{onClose:t,navId:"video-device-context","aria-label":f.default.Messages.FORM_LABEL_VIDEO_DEVICE,onSelect:n},void 0,h(u.MenuGroup,{label:f.default.Messages.FORM_LABEL_VIDEO_DEVICE},void 0,p),h(u.MenuGroup,{},void 0,v)))}m.displayName="VideoDeviceMenu"},936353:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=M;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=_(n(294184)),i=_(n(74854)),u=n(536211),l=_(n(550024)),s=_(n(213847)),c=_(n(949898)),d=_(n(57754)),f=n(859089),p=n(770348),v=n(942675),y=_(n(25578)),h=_(n(3066)),m=_(n(476600));function _(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function O(e,t){O=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return O(e,t)}var S=23,b=17,I=26,C={SCALE_MIN:.7,SCALE_MAX:1,DURATION_IN:300,DURATION_OUT:170,EASING_IN:i.default.Easing.inOut(i.default.Easing.back()),EASING_OUT:i.default.Easing.quad},T=200,A=125,P=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;O(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).scaleAnimation=new i.default.Value(0);t.spriteAnimation=new i.default.Value(0);t.spriteOpacity=new i.default.Value(0);t.widthAnimation=new i.default.Value(0);return t}var n=t.prototype;n.componentDidMount=function(){this.componentDidAppear()}
;n.componentDidAppear=function(){var e=this.scaleAnimation,t=this.widthAnimation;e.setValue(1);t.setValue(1)};n.componentWillEnter=function(e){var t=this.scaleAnimation,n=this.widthAnimation;t.setValue(0);n.setValue(0);i.default.parallel([i.default.timing(t,{toValue:1,duration:C.DURATION_IN,easing:C.EASING_IN}),i.default.timing(n,{toValue:1,duration:T})]).start(e)};n.componentWillLeave=function(e){var t=this.scaleAnimation,n=this.spriteAnimation,r=this.spriteOpacity,a=this.widthAnimation;r.setValue(1);n.setValue(0);for(var o=[],u=0;u<S;u++)o.push(i.default.timing(n,{toValue:-I*u,duration:b}));i.default.sequence([i.default.timing(t,{toValue:0,duration:C.DURATION_OUT,easing:C.EASING_OUT}),i.default.sequence(o),i.default.timing(a,{toValue:0,duration:A})]).start(e)};n.getScaleStyle=function(){var e=this.scaleAnimation;return i.default.accelerate({transform:[{scale:e.interpolate({inputRange:[0,1],outputRange:[C.SCALE_MIN,C.SCALE_MAX]})}],opacity:e})};n.getSpriteStyle=function(){return{
backgroundPosition:this.spriteAnimation,opacity:this.spriteOpacity}};n.getWidthStyle=function(){return{width:this.widthAnimation.interpolate({inputRange:[0,1],outputRange:["0px",this.props.width+"px"]})}};n.render=function(){var e,t=this.props,n=t.theme,r=t.children,a=t.className,u=n===p.ThemeTypes.DARK,l=(0,o.default)(y.default.sprite,((e={})[m.default.crossWhite]=u,e[m.default.crossGrey]=!u,e));return E(i.default.div,{className:(0,o.default)(y.default.transition,a),style:this.getWidthStyle()},void 0,E("div",{className:(0,o.default)(y.default.spriteWrapper,h.default.horizontal,h.default.justifyCenter,h.default.alignCenter)},void 0,E(i.default.div,{className:l,style:this.getSpriteStyle()})),E(i.default.div,{style:this.getScaleStyle()},void 0,r))};return t}(a.PureComponent);P.displayName="AvatarTransition";function M(e){var t=e.participants,n=e.onContextMenu,r=e.className,a=e.onClick,i=e.width,p=e.guildId,h=(0,s.default)(),m=function(e,t){return((0,
v.getAvatarSize)(v.Sizes.SIZE_80)+16)*t>e?v.Sizes.SIZE_40:v.Sizes.SIZE_80}(i,t.length),_=(0,u.useStateFromStores)([c.default],(function(){return c.default.isFocused()})),g=t.map((function(e){var t,r;if(e.type!==f.ParticipantTypes.USER)return null;var o=e.user,i=e.voiceState,u=e.speaking,l=e.ringing;return E(P,{className:y.default.participant,width:(0,v.getAvatarSize)(m),theme:h},o.id,E(d.default,{src:o.getAvatarURL(p,v.SizeSpecs[m].size,u&&_),size:m,muted:null!==(t=null==i?void 0:i.isVoiceMuted())&&void 0!==t&&t,deafen:null!==(r=null==i?void 0:i.isVoiceDeafened())&&void 0!==r&&r,speaking:u,ringing:l,onClick:function(t){return null==a?void 0:a(e,t)},onContextMenu:function(t){return null==n?void 0:n(e,t)}},e.id))}));return E(l.default,{component:"div",className:(0,o.default)(y.default.root,r)},void 0,g)}M.displayName="VoiceCallParticipants"},330493:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){if(e){(0,i.openModal)((function(e){
return r.createElement(o.default,c({},e,{title:u.default.Messages.SERVER_DEAFENED_DIALOG_TITLE,body:u.default.Messages.SERVER_DEAFENED_DIALOG_BODY}))}));return}a.default.toggleSelfDeaf()};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=l(n(740207)),o=l(n(88509)),i=n(194322),u=l(n(247001));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return c.apply(this,arguments)}},590087:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){if(t&&(0,i.isRTCConnectedInHub)()){(0,u.openModalLazy)(p(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(2422)]).then(n.bind(n,202422));case 2:t=e.sent;a=t.default;return e.abrupt("return",(function(e){return r.createElement(a,e)}));case 5:case"end":return e.stop()}}),e)}))));return}if(t){(0,u.openModal)((function(e){return r.createElement(o.default,d({},e,{title:l.default.Messages.SUPPRESSED,body:l.default.Messages.SUPPRESSED_PERMISSION_BODY}))}));return}if(e){(0,u.openModal)((function(e){return r.createElement(o.default,d({},e,{title:l.default.Messages.SERVER_MUTED_DIALOG_TITLE,body:l.default.Messages.SERVER_MUTED_DIALOG_BODY}))}));return}
a.default.toggleSelfMute()};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=s(n(740207)),o=s(n(88509)),i=n(864227),u=n(194322),l=s(n(247001));function s(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}function f(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value
}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){f(o,r,a,i,u,"next",e)}function u(e){f(o,r,a,i,u,"throw",e)}i(void 0)}))}}},893146:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=s(n(929031)),o=s(n(88509)),i=n(845607),u=s(n(247001)),l=["type","onConfirm"];function s(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}function f(e){var t=e.type,n=e.onConfirm,s=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,l),c=t===i.SelfStreamAndVideoAlertType.STREAM?u.default.Messages.HIDE_SELF_STREAM_CONFIRMATION_HEADER:u.default.Messages.HIDE_SELF_VIDEO_CONFIRMATION_HEADER,f=t===i.SelfStreamAndVideoAlertType.STREAM?u.default.Messages.HIDE_SELF_STREAM_CONFIRMATION_BODY:u.default.Messages.HIDE_SELF_VIDEO_CONFIRMATION_BODY;return r.createElement(o.default,d({confirmText:u.default.Messages.CONFIRM,secondaryConfirmText:u.default.Messages.DONT_ASK_AGAIN,title:c,cancelText:u.default.Messages.CANCEL,onConfirm:n,onConfirmSecondary:function(){
a.default.updatedUnsyncedSettings({disableHideSelfStreamAndVideoConfirmationAlert:!0});n()},body:f},s))}f.displayName="HideSelfStreamAndVideoConfirmationAlert"},856015:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=s(n(229132)),i=n(145122),u=s(n(825724)),l=s(n(247001));function s(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function d(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){var t=(0,a.useStateFromStores)([u.default],(function(){return u.default.getVoiceParticipantsHidden(e)}));return d(i.MenuCheckboxItem,{id:"no-video-hide",label:l.default.Messages.STREAM_SHOW_NON_VIDEO,checked:!t,action:function(){return o.default.toggleVoiceParticipantsHidden(e,!t)}})}f.displayName="useHideNoVideoParticipantsItem"},48712:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=g;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=n(145122),u=p(n(174508)),l=n(194322),s=p(n(831566)),c=p(n(893146)),d=n(845607),f=p(n(247001));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(){h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return h.apply(this,arguments)}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t){var n=m((0,s.default)(e,t),3),r=n[0],p=n[1],v=n[2],_=(0,o.useStateFromStores)([u.default],(function(){return u.default.disableHideSelfStreamAndVideoConfirmationAlert}));return r?y(i.MenuCheckboxItem,{id:"self-stream-hide",label:f.default.Messages.SHOW_SELF_STREAM,checked:!p,action:function(){if(_||p)return v(!p);(0,l.openModal)((function(e){return a.createElement(c.default,h({},e,{type:d.SelfStreamAndVideoAlertType.STREAM,onConfirm:function(){return v(!p)}}))}))}}):null}g.displayName="useHideSelfStreamItem"},845442:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=E;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=n(145122),u=v(n(174508)),l=n(194322),s=v(n(25077)),c=v(n(893146)),d=n(845607),f=n(376293),p=v(n(247001));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(){m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return m.apply(this,arguments)}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e,t){void 0===t&&(t=f.MediaEngineContextTypes.DEFAULT);var n=_((0,s.default)(e,t),3),r=n[0],v=n[1],y=n[2],g=(0,o.useStateFromStores)([u.default],(function(){return u.default.disableHideSelfStreamAndVideoConfirmationAlert}));return r?h(i.MenuCheckboxItem,{id:"self-video-hide",label:p.default.Messages.SHOW_SELF_VIDEO,checked:!v,action:function(){if(g||v)return y(!v);(0,l.openModal)((function(e){return a.createElement(c.default,m({},e,{type:d.SelfStreamAndVideoAlertType.VIDEO,onConfirm:function(){return y(!v)}}))}))}}):null}E.displayName="useHideSelfVideoItem"},441072:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=(0,a.useStateFromStores)([u.default],(function(){return Object.values(u.default.getInputDevices())})),t=(0,a.useStateFromStores)([u.default],(function(){return u.default.getInputDeviceId()}));return e.map((function(e){var n=e.id,r=e.disabled,a=e.name;return c(i.MenuRadioItem,{id:"input-"+n,group:"input-devices",disabled:r,label:a,checked:n===t,action:function(){return o.default.setInputDevice(n)}},"input-"+n)}))};!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294))
;var r,a=n(536211),o=l(n(740207)),i=n(145122),u=l(n(635014));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},161409:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=(0,a.useStateFromStores)([u.default],(function(){return Object.values(u.default.getVideoDevices())})),t=(0,a.useStateFromStores)([u.default],(function(){return u.default.getVideoDeviceId()}));return e.map((function(e){
var n=e.id,r=e.disabled,a=e.name;return c(i.MenuRadioItem,{group:"video-devices",id:"video-device-"+n,disabled:r,label:a,checked:n===t,action:function(){return o.default.setVideoDevice(n)}},"video-device-"+n)}))};!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=l(n(740207)),i=n(145122),u=l(n(635014));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},16505:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=(0,a.useStateFromStores)([u.default],(function(){return Object.values(u.default.getOutputDevices())})),t=(0,a.useStateFromStores)([u.default],(function(){return u.default.getOutputDeviceId()}));return e.map((function(e){var n=e.id,r=e.disabled,a=e.name;return c(i.MenuRadioItem,{group:"output-devices",id:"output-"+n,disabled:r,label:a,checked:n===t,action:function(){return o.default.setOutputDevice(n)}},"output-"+n)}))};!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=l(n(740207)),i=n(145122),u=l(n(635014));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},
376638:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=E;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=n(199649),u=v(n(712594)),l=v(n(423046)),s=v(n(635014)),c=n(194322),d=n(499458),f=v(n(247001)),p=v(n(352062));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(){m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return m.apply(this,arguments)}function _(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){_(o,r,a,i,u,"next",e)}function u(e){_(o,r,a,i,u,"throw",e)}i(void 0)}))}}function E(e){var t=(0,d.useModalContext)(),r=(0,o.useStateFromStores)([s.default],(function(){return s.default.isVideoEnabled()})),v=(0,
o.useStateFromStores)([l.default],(function(){return l.default.getId()===e})),y=(0,u.default)();return r&&!y||!v?null:h(i.MenuItem,{id:"change-video-background",label:h("div",{className:p.default.item},void 0,r?f.default.Messages.CAMERA_CHANGE_VIDEO_BACKGROUND_MENU_ITEM:f.default.Messages.CAMERA_PREVIEW_MENU_ITEM),action:function(){(0,c.openModalLazy)(g(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(67965),n.e(93198),n.e(24326)]).then(n.bind(n,635390));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return a.createElement(o,m({},e,{videoEnabled:r}))}));case 5:case"end":return e.stop()}}),e)}))),{modalKey:"camera-preview",contextKey:t})}})}E.displayName="usePreviewVideoItem"},630601:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=v;!function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=n(145122),i=n(518180),u=d(n(938199)),l=d(n(644263)),s=d(n(322785)),c=d(n(247001));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(e){var t=(0,a.useStateFromStores)([l.default],(function(){return l.default.getChannel(e)})),n=(0,i.useIsTextInVoiceEnabled)(null==t?void 0:t.guild_id),r=(0,a.useStateFromStores)([u.default],(function(){return u.default.getToastsEnabled(e)}));return(null==t?void 0:t.isGuildVoice())&&!n?null:p(o.MenuCheckboxItem,{id:"show-call-chat-toasts",label:c.default.Messages.SHOW_NEW_MESSAGE_PREVIEWS,checked:r,action:function(){return s.default.setCallChatToastsEnabled(e,!r)}})}v.displayName="useShowChatToastsItem"},815267:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=s(n(226800)),o=n(145122),i=s(n(634230)),u=n(770348),l=s(n(247001));function s(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(){return d(o.MenuItem,{id:"voice-settings",label:l.default.Messages.VOICE_SETTINGS,
action:function(){return a.default.open(u.UserSettingsSections.VOICE)},icon:i.default})}f.displayName="useVoiceSettingsItem"},216672:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.channelId,r=e.baseChannelId,A=(0,o.useStateFromStores)([h.default],(function(){return h.default.getChannel(t)})),P=(0,o.useStateFromStores)([_.default],(function(){return _.default.getGuild(null==A?void 0:A.getGuildId())})),R=(0,b.default)(A),D=(0,o.useStateFromStores)([p.default],(function(){return null!=(null==P?void 0:P.id)&&p.default.isLurking(P.id)}),[P]),L=(0,o.useStateFromStores)([E.default],(function(){return E.default.can(I.Permissions.SEND_MESSAGES,A)})),k=a.useRef(!1);a.useEffect((function(){if(null!=A&&!k.current){k.current=!0;(0,s.trackWithMetadata)(I.AnalyticEvents.CHANNEL_OPENED,{channel_id:A.id,guild_id:A.guild_id,parent_id:A.parent_id,channel_view:"Split View",can_send_message:L})}}),[A,L]);if(null==A||null==P)return null;var j=[]
;D||j.push(M(d.default,{channel:A},"notifications"));j.push(M(S.default.Icon,{icon:O.default,tooltip:C.default.Messages.CLOSE,onClick:function(){return y.default.closeChannelSidebar(r)}},"close"));return a.createElement(a.Fragment,null,M(l.default,{channel:A,draftType:m.DraftType.ChannelMessage}),M(S.default,{toolbar:j,"aria-label":C.default.Messages.CHANNEL_HEADER_BAR_A11Y_LABEL},void 0,(0,f.renderTitle)({channel:A,channelName:R,guild:P,inSidebar:!0,handleContextMenu:function(e){(0,i.openContextMenuLazy)(e,w(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(14560),n.e(32318)]).then(n.bind(n,532318));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,N({},e,{channel:A,guild:P}))}));case 5:case"end":return e.stop()}}),e)}))))},handleClick:function(){var e=g.default.getMessages(A.id);(0,v.transitionToGuild)(A.guild_id,A.id,e.jumpTargetId)}
})),M("div",{className:T.default.chat},void 0,M(u.default,{channel:A,guild:P,chatInputType:c.ChatInputTypes.SIDEBAR},t)))};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=P(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=n(378158),u=A(n(914789)),l=A(n(805918)),s=n(844784),c=n(573285),d=A(n(818378)),f=n(451115),p=A(n(930409)),v=n(139982),y=A(n(546914)),h=A(n(644263)),m=n(687549),_=A(n(30098)),g=A(n(201292)),E=A(n(689389)),O=A(n(259530)),S=A(n(878556)),b=A(n(678928)),I=n(770348),C=A(n(247001)),T=A(n(895383));function A(e){return e&&e.__esModule?e:{default:e}}function P(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(P=function(e){return e?n:t})(e)}function M(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function N(){N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return N.apply(this,arguments)}function R(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function w(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){R(o,r,a,i,u,"next",e)}function u(e){
R(o,r,a,i,u,"throw",e)}i(void 0)}))}}},691692:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t,n,r,f=(0,l.useCanManageThread)(e),p=(0,l.useCanUnarchiveThread)(e),y=(0,l.useIsThreadModerator)(e);if(!(!0===(null===(t=e.threadMetadata)||void 0===t?void 0:t.archived)?p:f))return;var h=new Date((0,s.default)(e)).toLocaleString(c.default.getLocale(),{month:"numeric",day:"numeric",hour:"numeric",minute:"2-digit"});return(null===(n=e.threadMetadata)||void 0===n?void 0:n.archived)?v(o.MenuItem,{id:"unarchive-thread",label:e.isForumPost()?c.default.Messages.UNARCHIVE_FORUM_POST:c.default.Messages.UNARCHIVE_THREAD,action:function(){return i.default.unarchiveThread(e,y)}}):v(o.MenuItem,{id:"auto-archive-thread",label:c.default.Messages.ARCHIVE,subtext:c.default.Messages.AUTO_ARCHIVE_THREAD_AT.format({time:h})},void 0,v(o.MenuGroup,{},void 0,v(o.MenuItem,{id:"archive-thread",
label:e.isForumPost()?c.default.Messages.ARCHIVE_FORUM_POST:c.default.Messages.ARCHIVE_THREAD,action:function(){return i.default.archiveThread(e,!1)}}),y&&!(null===(r=e.threadMetadata)||void 0===r?void 0:r.locked)?v(o.MenuItem,{id:"archive-lock-thread",label:e.isForumPost()?c.default.Messages.LOCK_FORUM_POST:c.default.Messages.LOCK_THREAD,action:function(){return i.default.archiveThread(e,!0)}}):null),v(o.MenuGroup,{label:c.default.Messages.AUTO_ARCHIVE_AFTER},void 0,(0,u.getAutoArchiveOptions)().map((function(t){var n,r=t.value,u=t.label;return v(o.MenuCheckboxItem,{id:String(r),label:u,checked:r===(null===(n=e.threadMetadata)||void 0===n?void 0:n.autoArchiveDuration),className:d.default.menuItem,focusedClassName:d.default.focused,action:function(){(0,a.closeContextMenu)();return i.default.setAutoArchiveDuration(e,r)}},r)}))))};!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(378158),o=n(145122),i=f(n(887174)),u=n(192751),l=n(819235),s=f(n(447840)),c=f(n(247001)),d=f(n(313657));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},609510:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=g;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=p(n(968494)),u=n(145122),l=p(n(689389)),s=n(194322),c=n(770348),d=n(474477),f=p(n(247001));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(){h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return h.apply(this,arguments)}function m(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function _(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){m(o,r,a,i,u,"next",e)}function u(e){m(o,r,a,i,u,"throw",e)}i(void 0)}))}}function g(e){return(0,o.useStateFromStores)([l.default],(function(){
return!l.default.can(e.isThread()?c.Permissions.MANAGE_THREADS:c.Permissions.MANAGE_CHANNELS,e)||!l.default.can(e.accessPermissions,e)}),[e])?null:y(u.MenuItem,{id:"delete-channel",label:e.type===c.ChannelTypes.GUILD_CATEGORY?f.default.Messages.DELETE_CATEGORY:e.isThread()?e.isForumPost()?f.default.Messages.DELETE_FORUM_POST:f.default.Messages.DELETE_THREAD:f.default.Messages.DELETE_CHANNEL,color:d.MenuItemColor.DANGER,action:function(){return(0,s.openModalLazy)(_(regeneratorRuntime.mark((function t(){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;return Promise.all([n.e(40532),n.e(87466)]).then(n.bind(n,59337));case 2:r=t.sent;o=r.default;return t.abrupt("return",(function(t){return a.createElement(o,h({},t,{onConfirm:function(){t.onClose();i.default.deleteChannel(e.id)},channel:e}))}));case 5:case"end":return t.stop()}}),t)}))))}})}g.displayName="useChannelDeleteItem"},783938:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t,n=(0,a.useStateFromStores)([c.default],(function(){return c.default.getChannel(e.parent_id)})),r=(0,s.useIsThreadModerator)(e),p=(0,i.useExistingPin)(e);if(!(null==n?void 0:n.isForumChannel()))return null;if(!r)return null;if(null===(t=e.threadMetadata)||void 0===t?void 0:t.archived)return null;return e.hasFlag(d.ChannelFlags.PINNED)?y(u.MenuItem,{id:"unpin-thread",label:f.default.Messages.UNPIN_POST,action:function(){return l.default.unpin(e)}}):y(u.MenuItem,{id:"pin-thread",label:f.default.Messages.PIN_POST,action:function(){null!=p?o.default.show({title:f.default.Messages.FORUM_PIN_CONFIRM_TITLE,body:f.default.Messages.FORUM_PIN_CONFIRM_BODY,onConfirm:(n=(t=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;return l.default.unpin(p);case 2:l.default.pin(e);case 3:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments
;return new Promise((function(r,a){var o=t.apply(e,n);function i(e){h(o,r,a,i,u,"next",e)}function u(e){h(o,r,a,i,u,"throw",e)}i(void 0)}))}),function(){return n.apply(this,arguments)})}):l.default.pin(e);var t,n}})};!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=p(n(896108)),i=n(973523),u=n(145122),l=p(n(887174)),s=n(819235),c=p(n(644263)),d=n(173652),f=p(n(247001));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}},326348:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=s(n(968494)),o=n(145122),i=n(819235),u=n(194322),l=s(n(247001));function s(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){var t;return!(0,i.useCanManageThread)(e)||(null===(t=e.threadMetadata)||void 0===t?void 0:t.archived)||__OVERLAY__?null:d(o.MenuItem,{id:"edit-thread",
label:e.isForumPost()?l.default.Messages.EDIT_FORUM_POST:l.default.Messages.EDIT_THREAD,action:function(){(0,u.closeAllModals)();a.default.open(e.id)}})}f.displayName="useThreadEditItem"},412649:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=E;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=h(n(441143)),i=n(536211),u=h(n(498773)),l=h(n(649563)),s=n(973523),c=n(145122),d=n(819235),f=h(n(644263)),p=h(n(433385)),v=h(n(247001)),y=h(n(179537));function h(e){return e&&e.__esModule?e:{default:e}}function m(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(e){var t=e.tag,n=t.name,r=t.emojiId,o=t.emojiName,l=(0,i.useStateFromStores)([p.default],(function(){return null!=r?p.default.getUsableCustomEmojiById(r):null}));return a.createElement(a.Fragment,null,_(u.default,{className:y.default.emoji,emojiId:r,emojiName:o,animated:Boolean(null==l?void 0:l.animated)}),n)}function E(e){var t=(0,i.useStateFromStores)([f.default],(function(){return f.default.getChannel(e)}),[e]);(0,
o.default)(null!=t,"Unexpected missing thread");var n=(0,d.useCanManageThread)(t),r=(0,i.useStateFromStoresArray)([f.default],(function(){var e,n;return null!==(e=null===(n=f.default.getChannel(t.parent_id))||void 0===n?void 0:n.availableTags)&&void 0!==e?e:[]}),[t.parent_id]),a=(0,s.useAppliedTags)(t),u=a.length>=2;if(!n)return null;if(__OVERLAY__)return null;if(!t.isForumPost())return null;if(0===r.length)return null;var p=r.map((function(e){var n=a.includes(e);return _(c.MenuCheckboxItem,{id:e.id,label:_(g,{tag:e}),disabled:u&&!n,action:function(){return function(e){var n=new Set(a);if(n.has(e))n.delete(e);else{if(u)return;n.add(e)}var r=Array.from(n).map((function(e){return e.id}));l.default.updateForumPostTags(t.id,r)}(e)},checked:n},e.id)}));return _(c.MenuItem,{id:"edit-tags",label:v.default.Messages.FORUM_TAG_POST_EDIT},void 0,p)}E.displayName="useThreadEditTagsItem"},233557:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;!function(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(145122),o=s(n(887174)),i=n(895431),u=n(64072),l=s(n(247001));function s(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){var t=(0,i.useThreadNotificationSetting)(e);return e.isArchivedThread()?null:d(a.MenuItem,{id:"thread-notifications",label:l.default.Messages.NOTIFICATION_SETTINGS},void 0,(0,u.getThreadNotificationOptions)().map((function(n){var r=n.setting,i=n.label;return d(a.MenuRadioItem,{group:"thread-notifications",id:""+r,label:i,action:function(){return o.default.setNotificationSettings(e,{flags:r})},checked:r===t},r)})))}f.displayName="useThreadNotificationItem"},730205:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(145122),o=s(n(887174)),i=n(819235),u=n(770348),l=s(n(247001));function s(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){var t,n;if(!(0,
i.useIsThreadModerator)(e)||e.type!==u.ChannelTypes.PRIVATE_THREAD)return null;var r=null===(t=null===(n=e.threadMetadata)||void 0===n?void 0:n.invitable)||void 0===t||t;return d(a.MenuCheckboxItem,{id:"toggle-thread-invitable",label:l.default.Messages.THREAD_INVITABLE_TOGGLE_LABEL,checked:r,action:function(){return o.default.setInvitable(e,!r)}})}f.displayName="useToggleThreadInvitableItem"},918667:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=y(n(496486)),i=y(n(844784)),u=y(n(956117)),l=y(n(16941)),s=n(645758),c=y(n(259530)),d=y(n(308920)),f=n(770348),p=y(n(247001)),v=y(n(76889));function y(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var _=o.default.debounce(i.default.trackWithMetadata,500),g=function(e){var t=e.guild,n=e.message,r=e.image,o=e.type,y=e.imageMarginX,h=e.imageMarginTop,g=e.trackingSource,E=e.undismissable,O=e.onDismissed,S=e.onClick,b=e.cta
;a.useEffect((function(){_(f.AnalyticEvents.CHANNEL_NOTICE_VIEWED,{notice_type:o,guild_id:t.id})}),[t.id,o]);var I=null;"function"==typeof b?I=b():null!=b&&(I=m(u.default,{className:v.default.btn,size:u.default.Sizes.SMALL,onClick:function(){null!=o&&d.default.track(f.AnalyticEvents.CHANNEL_NOTICE_CTA_CLICKED,{source:g,guild_id:t.id,notice_type:o});null==S||S()},fullWidth:!0},void 0,b));var C=null!=y?y+"px":"16px";return m("div",{className:v.default.channelNotice},void 0,!0===E?null:m(l.default,{onClick:function(){i.default.trackWithMetadata(f.AnalyticEvents.CHANNEL_NOTICE_CLOSED,{notice_type:o});null==O||O()},className:v.default.close,"aria-label":p.default.Messages.DISMISS},void 0,m(c.default,{className:v.default.closeIcon})),m("div",{className:v.default.imageContainer,style:{marginTop:h+"px",marginLeft:C,marginRight:C}},void 0,m("img",{className:v.default.image,src:r,alt:""})),m("div",{className:v.default.message},void 0,m(s.Text,{variant:"text-sm/normal"},void 0,n),I))}
;g.displayName="ChannelNotice";var E=g;t.default=E},35333:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=D(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=n(923387),u=w(n(972247)),l=n(233271),s=w(n(305081)),c=w(n(408692)),d=w(n(578628)),f=w(n(559759)),p=n(157949),v=w(n(513696)),y=w(n(185836)),h=w(n(126515)),m=w(n(666280)),_=w(n(751122)),g=w(n(689389)),E=w(n(329669)),O=w(n(535711)),S=w(n(24e4)),b=n(682937),I=n(42031),C=w(n(264271)),T=w(n(71685)),A=w(n(198883)),P=w(n(715458)),M=n(7812),N=n(770348),R=n(583551);function w(e){
return e&&e.__esModule?e:{default:e}}function D(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(D=function(e){return e?n:t})(e)}function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function j(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function U(e){e.stopPropagation()}var G=function(e){var t=e.guild,n=e.setHasSubheader,r=(0,o.useStateFromStoresObject)([_.default],(function(){return{appliedGuildBoosts:_.default.getAppliedGuildBoostsForGuild(t.id),lastFetchedAt:_.default.getLastFetchedAtForGuild(t.id)}
})),i=r.appliedGuildBoosts,u=r.lastFetchedAt,s=(0,o.useStateFromStoresObject)([E.default],(function(){return{lastDismissedGracePeriod:E.default.getLastDismissedGracePeriodForGuild(t.id),isGracePeriodVisible:E.default.isVisible(t.id)}})),d=s.lastDismissedGracePeriod,f=s.isGracePeriodVisible,y=(0,o.useStateFromStores)([h.default],(function(){return h.default.isVisible(t)})),T=(0,o.useStateFromStores)([S.default],(function(){return S.default.isVisible(t)})),P=(0,o.useStateFromStores)([g.default],(function(){return g.default.can(N.Permissions.ADMINISTRATOR,t)})),M=null!=d&&Date.now()-d<=N.GRACE_PERIOD_CHANNEL_NOTICE_SHOW_DELAY,R=null!=t?t.premiumSubscriberCount:0,w=(0,b.getGuildTierFromAppliedBoostCount)(R,t.id)!==N.BoostedGuildTiers.NONE,D=!(null!=u&&Date.now()-u<=432e5)&&(!M&&P&&w),L=(0,p.useGuildHasLiveChannelNotice)(t.id),k=(0,o.useStateFromStores)([O.default],(function(){return O.default.isVisible(t)}));a.useEffect((function(){var e=-1;D&&(e=window.setTimeout((function(){(0,
l.fetchAppliedGuildBoostsForGuild)(t.id)}),30*Math.random()*1e3));return function(){window.clearTimeout(e)}}),[t.id,D]);if(y){n(!0);return j(m.default,{guild:t})}if(f){n(!0);return j(c.default,{guild:t,appliedGuildBoosts:i})}if(T){n(!0);return j(A.default,{guild:t})}if(L){n(!0);return j(v.default,{guild:t})}if(k){n(!0);return j(C.default,{guild:t})}if(I.ProcessArgs.isDisallowPopupsSet()){n(!1);return null}return j(F,{guild:e.guild,setHasSubheader:n})};G.displayName="ConnectedNotices";function F(e){var t,n=e.guild,r=e.setHasSubheader,l=L(a.useState(null!==(t=u.default.get(M.LAST_HIDDEN_CHANNEL_NOTICE))&&void 0!==t?t:0),2),c=l[0],p=l[1],v=(0,o.useStateFromStoresArray)(M.CHANNEL_NOTICE_STORES,(function(){return M.CHANNEL_NOTICES.filter((function(e){return e.store.channelNoticePredicate(n,c)})).map((function(e){return e.dismissibleContentType}))}));return j("div",{onContextMenu:U},void 0,j(s.default,{contentTypes:v,groupName:R.DismissibleContentGroupName.CHANNEL_NOTICES
},void 0,(function(e){var t=e.visibleContent,a=e.markAsDismissed,o=function(){!function(e){u.default.set(M.LAST_HIDDEN_CHANNEL_NOTICE,e);p(e)}(Date.now());a()};switch(t){case i.DismissibleContent.CHANNEL_NOTICE_HUBLINK:r(!0);return j(y.default,{guild:n,markAsDismissed:o});case i.DismissibleContent.CHANNEL_NOTICE_INVITE:r(!0);return j(T.default,{guild:n,markAsDismissed:o});case i.DismissibleContent.CHANNEL_NOTICE_PREMIUM_GUILD_SUBSCRIPTION:r(!0);return j(f.default,{guild:n,markAsDismissed:o});case i.DismissibleContent.CHANNEL_NOTICE_QUICKSWITCHER:r(!0);return j(P.default,{guild:n,markAsDismissed:o});case i.DismissibleContent.CHANNEL_NOTICE_GUILD_BANNER:r(!0);return j(d.default,{guild:n,markAsDismissed:o});default:r(!1);return null}})))}F.displayName="ChannelNoticesGuard";var x=G;t.default=x},7812:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.LAST_HIDDEN_CHANNEL_NOTICE=t.CHANNEL_NOTICE_STORES=t.CHANNEL_NOTICES=void 0
;var r=n(923387),a=c(n(523946)),o=c(n(538647)),i=c(n(20446)),u=c(n(735653)),l=c(n(477566)),s=n(770348);function c(e){return e&&e.__esModule?e:{default:e}}t.LAST_HIDDEN_CHANNEL_NOTICE="lastHiddenChannelNotice";var d=[{type:s.ChannelNoticeTypes.GUILD_BOOSTING,store:i.default,dismissibleContentType:r.DismissibleContent.CHANNEL_NOTICE_PREMIUM_GUILD_SUBSCRIPTION},{type:s.ChannelNoticeTypes.GUILD_BANNER,store:o.default,dismissibleContentType:r.DismissibleContent.CHANNEL_NOTICE_GUILD_BANNER},{type:s.ChannelNoticeTypes.INVITE,store:l.default,dismissibleContentType:r.DismissibleContent.CHANNEL_NOTICE_INVITE},{type:s.ChannelNoticeTypes.HUB_LINK,store:u.default,dismissibleContentType:r.DismissibleContent.CHANNEL_NOTICE_HUBLINK},{type:s.ChannelNoticeTypes.QUICKSWITCHER,store:a.default,dismissibleContentType:r.DismissibleContent.CHANNEL_NOTICE_QUICKSWITCHER}];t.CHANNEL_NOTICES=d;var f=d.map((function(e){return e.store}));t.CHANNEL_NOTICE_STORES=f},264271:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=c(n(226800)),i=c(n(918667)),u=n(770348),l=c(n(247001)),s=c(n(785538));function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e,t){p=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return p(e,t)}var v=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;p(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.render=function(){return f(i.default,{guild:this.props.guild,onClick:function(){return o.default.open(u.UserSettingsSections.ACCOUNT)},message:l.default.Messages.TWO_FA_GUILD_MFA_WARNING_MESSAGE_WITH_SPACING.format(),cta:l.default.Messages.TWO_FA_GUILD_MFA_WARNING_RESOLVE_BUTTON,trackingSource:u.ChannelNoticeCtaSources.GUILD_MFA_WARNING,type:u.ChannelNoticeTypes.MFA_WARNING,image:s.default,imageMarginX:54,undismissable:!0})};return t}(a.PureComponent);v.displayName="GuildMFAWarning";var y=v;t.default=y},
71685:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=f(n(786345)),i=f(n(211136)),u=n(194322),l=f(n(918667)),s=n(770348),c=f(n(247001)),d=f(n(947079));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={
children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function h(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){h(o,r,a,i,u,"next",e)}function u(e){h(o,r,a,i,u,"throw",e)}i(void 0)}))}}function _(e,t){_=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _(e,t)}var g=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;_(e,t)}(t,e)
;function t(){for(var t,r=arguments.length,l=new Array(r),d=0;d<r;d++)l[d]=arguments[d];(t=e.call.apply(e,[this].concat(l))||this).handleInvite=function(){var e=t.props.guild;(0,u.openModalLazy)(m(regeneratorRuntime.mark((function t(){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;return Promise.all([n.e(40532),n.e(15865)]).then(n.bind(n,115865));case 2:r=t.sent;o=r.default;return t.abrupt("return",(function(t){return a.createElement(o,y({},t,{guild:e,source:s.InstantInviteSources.INVITE_NOTICE}))}));case 5:case"end":return t.stop()}}),t)}))))};t.handleClose=function(){var e=i.default.getChannelId();t.props.markAsDismissed();null!=e&&o.default.sendBotMessage(e,c.default.Messages.HOW_TO_INVITE_OTHERS.format({invitePeople:c.default.Messages.INVITE_PEOPLE}))};return t}t.prototype.render=function(){var e=c.default.Messages.INVITE_NOTICE_MESSAGE+"\n"+c.default.Messages.INVITE_NOTICE_MESSAGE_PART_2;return v(l.default,{guild:this.props.guild,
onDismissed:this.handleClose,onClick:this.handleInvite,message:e,cta:c.default.Messages.INVITE_PEOPLE,trackingSource:s.ChannelNoticeCtaSources.INVITE_NOTICE,type:s.ChannelNoticeTypes.INVITE,image:d.default,imageMarginX:46})};return t}(a.PureComponent);g.displayName="InviteNotice";var E=g;t.default=E},198883:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(55701),i=d(n(550270)),u=d(n(918667)),l=n(770348),s=d(n(247001)),c=d(n(389515));function d(e){return e&&e.__esModule?e:{default:e}}
function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=function(e){var t=e.guild,n=a.useCallback((function(){(0,o.hideMaxMemberCountChannelNotice)(t.id)}),[t.id]);return p(u.default,{guild:t,onDismissed:n,message:s.default.Messages.NOTICE_CHANNEL_MAX_MEMBERS_CAP_REACHED_MESSAGE.format({maxMemberCount:t.maxMembers,maxMembersUrl:i.default.getArticleURL(l.HelpdeskArticles.MAX_MEMBERS)}),type:l.ChannelNoticeTypes.MAX_MEMBER_COUNT,image:c.default,imageMarginX:61})}
;v.displayName="MaxMemberCountNotice";var y=v;t.default=y},715458:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(221107),o=n(749666),i=n(835282),u=d(n(918667)),l=n(770348),s=d(n(247001)),c=d(n(10439));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=function(e){var t=a.QUICKSWITCHER_SHOW.binds[0].split("+").map((function(e){return null!=o.PRETTY_KEYS[e]?o.PRETTY_KEYS[e]():e})).join(" + ").toUpperCase();return p(u.default,{guild:e.guild,onDismissed:e.markAsDismissed,onClick:function(){return(0,i.show)("CHANNEL_NOTICE")},message:s.default.Messages.QUICKSWITCHER_NOTICE,cta:t,trackingSource:l.ChannelNoticeCtaSources.QUICK_SWITCHER_NOTICE,type:l.ChannelNoticeTypes.QUICKSWITCHER,image:c.default,imageMarginX:50})};v.displayName="QuickSwitcherNotice";var y=v;t.default=y},739889:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.TrackExposureLocations=t.SettingMode=t.RowType=t.MEMBER_REQUEST_COUNT=t.AddMembersSections=t.ADVANCED_MODE_ON_KEY=void 0;t.getChannelPermissionSpecMap=function(e,t,n,r){var a;return(a={})[l.Permissions.VIEW_CHANNEL.toString()]={title:e===l.ChannelTypes.GUILD_CATEGORY?s.default.Messages.ROLE_PERMISSIONS_VIEW_CHANNEL:s.default.Messages.VIEW_CHANNEL,description:function(){if(t)switch(e){case l.ChannelTypes.GUILD_CATEGORY:return s.default.Messages.ROLE_PERMISSIONS_VIEW_CHANNEL_DESCRIPTION_CATEGORY_EVERYONE;case l.ChannelTypes.GUILD_VOICE:case l.ChannelTypes.GUILD_STAGE_VOICE:return s.default.Messages.ROLE_PERMISSIONS_VIEW_CHANNEL_DESCRIPTION_VOICE_EVERYONE;default:return s.default.Messages.ROLE_PERMISSIONS_VIEW_CHANNEL_DESCRIPTION_TEXT_EVERYONE}return e===l.ChannelTypes.GUILD_CATEGORY?s.default.Messages.ROLE_PERMISSIONS_VIEW_CHANNEL_DESCRIPTION_CATEGORY:s.default.Messages.ROLE_PERMISSIONS_VIEW_CHANNEL_DESCRIPTION_CHANNEL}(),flag:l.Permissions.VIEW_CHANNEL},
a[l.Permissions.MANAGE_CHANNELS.toString()]={title:e===l.ChannelTypes.GUILD_CATEGORY?s.default.Messages.MANAGE_CHANNELS:s.default.Messages.MANAGE_CHANNEL,description:function(){switch(e){case l.ChannelTypes.GUILD_CATEGORY:return s.default.Messages.ROLE_PERMISSIONS_MANAGE_CHANNEL_DESCRIPTION_CATEGORY;case l.ChannelTypes.GUILD_VOICE:return s.default.Messages.ROLE_PERMISSIONS_MANAGE_CHANNEL_DESCRIPTION_VOICE;case l.ChannelTypes.GUILD_STAGE_VOICE:return s.default.Messages.ROLE_PERMISSIONS_MANAGE_CHANNEL_DESCRIPTION_STAGE;default:return s.default.Messages.ROLE_PERMISSIONS_MANAGE_CHANNEL_DESCRIPTION_TEXT}}(),flag:l.Permissions.MANAGE_CHANNELS},a[l.Permissions.MANAGE_ROLES.toString()]={title:s.default.Messages.MANAGE_PERMISSIONS,description:function(){switch(e){case l.ChannelTypes.GUILD_CATEGORY:return s.default.Messages.ROLE_PERMISSIONS_MANAGE_ROLES_DESCRIPTION_CATEGORY;case l.ChannelTypes.GUILD_STAGE_VOICE:return s.default.Messages.ROLE_PERMISSIONS_MANAGE_ROLES_DESCRIPTION_STAGE;default:
return s.default.Messages.ROLE_PERMISSIONS_MANAGE_ROLES_DESCRIPTION_CHANNEL}}(),flag:l.Permissions.MANAGE_ROLES},a[l.Permissions.MANAGE_WEBHOOKS.toString()]={title:s.default.Messages.MANAGE_WEBHOOKS,description:e===l.ChannelTypes.GUILD_CATEGORY?s.default.Messages.ROLE_PERMISSIONS_MANAGE_WEBHOOKS_DESCRIPTION_CATEGORY:s.default.Messages.ROLE_PERMISSIONS_MANAGE_WEBHOOKS_DESCRIPTION_CHANNEL,flag:l.Permissions.MANAGE_WEBHOOKS},a[l.Permissions.CREATE_INSTANT_INVITE.toString()]={title:s.default.Messages.CREATE_INSTANT_INVITE,description:function(){switch(e){case l.ChannelTypes.GUILD_CATEGORY:return s.default.Messages.ROLE_PERMISSIONS_CREATE_INSTANT_INVITE_DESCRIPTION_CATEGORY;case l.ChannelTypes.GUILD_VOICE:case l.ChannelTypes.GUILD_STAGE_VOICE:return s.default.Messages.ROLE_PERMISSIONS_CREATE_INSTANT_INVITE_DESCRIPTION_VOICE;default:return s.default.Messages.ROLE_PERMISSIONS_CREATE_INSTANT_INVITE_DESCRIPTION_TEXT}}(),flag:l.Permissions.CREATE_INSTANT_INVITE},
a[l.Permissions.SEND_MESSAGES.toString()]={title:e===l.ChannelTypes.GUILD_FORUM?s.default.Messages.CREATE_FORUM_POSTS:n&&e===l.ChannelTypes.GUILD_CATEGORY?s.default.Messages.SEND_MESSAGES_AND_CREATE_FORUM_POSTS:s.default.Messages.SEND_MESSAGES,description:function(){switch(e){case l.ChannelTypes.GUILD_CATEGORY:return n?s.default.Messages.ROLE_PERMISSIONS_SEND_MESSAGES_WITH_FORUMS_DESCRIPTION_CATEGORY:s.default.Messages.ROLE_PERMISSIONS_SEND_MESSAGES_DESCRIPTION_CATEGORY;case l.ChannelTypes.GUILD_FORUM:return r?i.default.getForumChannelPermissionText():s.default.Messages.ROLE_PERMISSIONS_SEND_MESSAGES_WITH_FORUMS_DESCRIPTION_TEXT;case l.ChannelTypes.GUILD_ANNOUNCEMENT:return s.default.Messages.ROLE_PERMISSIONS_SEND_MESSAGES_DESCRIPTION_ANNOUNCEMENT.format({articleURL:u.default.getArticleURL(l.HelpdeskArticles.ANNOUNCEMENT_CHANNELS)});default:return s.default.Messages.ROLE_PERMISSIONS_SEND_MESSAGES_DESCRIPTION_TEXT}}(),flag:l.Permissions.SEND_MESSAGES},
a[l.Permissions.EMBED_LINKS.toString()]={title:s.default.Messages.EMBED_LINKS,description:e===l.ChannelTypes.GUILD_CATEGORY?s.default.Messages.ROLE_PERMISSIONS_EMBED_LINKS_DESCRIPTION_CATEGORY:s.default.Messages.ROLE_PERMISSIONS_EMBED_LINKS_DESCRIPTION_TEXT,flag:l.Permissions.EMBED_LINKS},a[l.Permissions.ATTACH_FILES.toString()]={title:s.default.Messages.ATTACH_FILES,description:e===l.ChannelTypes.GUILD_CATEGORY?s.default.Messages.ROLE_PERMISSIONS_ATTACH_FILES_DESCRIPTION_CATEGORY:s.default.Messages.ROLE_PERMISSIONS_ATTACH_FILES_DESCRIPTION_TEXT,flag:l.Permissions.ATTACH_FILES},a[l.Permissions.ADD_REACTIONS.toString()]={title:s.default.Messages.ADD_REACTIONS,description:e===l.ChannelTypes.GUILD_CATEGORY?s.default.Messages.ROLE_PERMISSIONS_ADD_REACTIONS_DESCRIPTION_CATEGORY:s.default.Messages.ROLE_PERMISSIONS_ADD_REACTIONS_DESCRIPTION_TEXT,flag:l.Permissions.ADD_REACTIONS},a[l.Permissions.USE_EXTERNAL_EMOJIS.toString()]={title:s.default.Messages.ROLE_PERMISSIONS_USE_EXTERNAL_EMOJIS,
description:e===l.ChannelTypes.GUILD_CATEGORY?s.default.Messages.ROLE_PERMISSIONS_USE_EXTERNAL_EMOJIS_DESCRIPTION_CATEGORY:s.default.Messages.ROLE_PERMISSIONS_USE_EXTERNAL_EMOJIS_DESCRIPTION_TEXT,flag:l.Permissions.USE_EXTERNAL_EMOJIS},a[l.Permissions.USE_EXTERNAL_STICKERS.toString()]={title:s.default.Messages.ROLE_PERMISSIONS_USE_EXTERNAL_STICKERS,description:e===l.ChannelTypes.GUILD_CATEGORY?s.default.Messages.ROLE_PERMISSIONS_USE_EXTERNAL_STICKERS_DESCRIPTION_CATEGORY:s.default.Messages.ROLE_PERMISSIONS_USE_EXTERNAL_STICKERS_DESCRIPTION_TEXT,flag:l.Permissions.USE_EXTERNAL_STICKERS},a[l.Permissions.MENTION_EVERYONE.toString()]={title:e===l.ChannelTypes.GUILD_STAGE_VOICE?s.default.Messages.MENTION_EVERYONE_STAGE:s.default.Messages.MENTION_EVERYONE,
description:e===l.ChannelTypes.GUILD_CATEGORY?s.default.Messages.ROLE_PERMISSIONS_MENTION_EVERYONE_DESCRIPTION_CATEGORY:e===l.ChannelTypes.GUILD_STAGE_VOICE?s.default.Messages.ROLE_PERMISSIONS_MENTION_EVERYONE_DESCRIPTION_STAGE:s.default.Messages.ROLE_PERMISSIONS_MENTION_EVERYONE_DESCRIPTION_TEXT,flag:l.Permissions.MENTION_EVERYONE},a[l.Permissions.MANAGE_MESSAGES.toString()]={title:s.default.Messages.MANAGE_MESSAGES,description:function(){switch(e){case l.ChannelTypes.GUILD_CATEGORY:return s.default.Messages.ROLE_PERMISSIONS_MANAGE_MESSAGES_DESCRIPTION_CATEGORY;case l.ChannelTypes.GUILD_ANNOUNCEMENT:return s.default.Messages.ROLE_PERMISSIONS_MANAGE_MESSAGES_DESCRIPTION_ANNOUNCEMENT.format({articleURL:u.default.getArticleURL(l.HelpdeskArticles.ANNOUNCEMENT_CHANNELS)});default:return s.default.Messages.ROLE_PERMISSIONS_MANAGE_MESSAGES_DESCRIPTION_TEXT}}(),flag:l.Permissions.MANAGE_MESSAGES},a[l.Permissions.READ_MESSAGE_HISTORY.toString()]={title:s.default.Messages.READ_MESSAGE_HISTORY,
description:e===l.ChannelTypes.GUILD_CATEGORY?s.default.Messages.ROLE_PERMISSIONS_READ_MESSAGE_HISTORY_DESCRIPTION_CATEGORY:s.default.Messages.ROLE_PERMISSIONS_READ_MESSAGE_HISTORY_DESCRIPTION_TEXT,flag:l.Permissions.READ_MESSAGE_HISTORY},a[l.Permissions.SEND_TTS_MESSAGES.toString()]={title:s.default.Messages.ROLE_PERMISSIONS_SEND_TTS_MESSAGES,description:e===l.ChannelTypes.GUILD_CATEGORY?s.default.Messages.ROLE_PERMISSIONS_SEND_TTS_MESSAGES_DESCRIPTION_CATEGORY:s.default.Messages.ROLE_PERMISSIONS_SEND_TTS_MESSAGES_DESCRIPTION_TEXT,flag:l.Permissions.SEND_TTS_MESSAGES},a[l.Permissions.USE_APPLICATION_COMMANDS.toString()]={title:s.default.Messages.ROLE_PERMISSIONS_USE_APPLICATION_COMMANDS,description:e===l.ChannelTypes.GUILD_CATEGORY?s.default.Messages.ROLE_PERMISSIONS_USE_APPLICATION_COMMANDS_DESCRIPTION_CATEGORY:s.default.Messages.ROLE_PERMISSIONS_USE_APPLICATION_COMMANDS_DESCRIPTION_TEXT,flag:l.Permissions.USE_APPLICATION_COMMANDS},a[l.Permissions.CONNECT.toString()]={
title:s.default.Messages.CONNECT,description:function(){if(t)switch(e){case l.ChannelTypes.GUILD_CATEGORY:return s.default.Messages.ROLE_PERMISSIONS_CONNECT_DESCRIPTION_CATEGORY_EVERYONE;case l.ChannelTypes.GUILD_STAGE_VOICE:return s.default.Messages.ROLE_PERMISSIONS_CONNECT_DESCRIPTION_STAGE_EVERYONE;default:return s.default.Messages.ROLE_PERMISSIONS_CONNECT_DESCRIPTION_VOICE_EVERYONE}switch(e){case l.ChannelTypes.GUILD_CATEGORY:return s.default.Messages.ROLE_PERMISSIONS_CONNECT_DESCRIPTION_CATEGORY;case l.ChannelTypes.GUILD_STAGE_VOICE:return s.default.Messages.ROLE_PERMISSIONS_CONNECT_DESCRIPTION_STAGE;default:return s.default.Messages.ROLE_PERMISSIONS_CONNECT_DESCRIPTION_VOICE}}(),flag:l.Permissions.CONNECT},a[l.Permissions.SPEAK.toString()]={title:s.default.Messages.SPEAK,description:function(){switch(e){case l.ChannelTypes.GUILD_CATEGORY:return s.default.Messages.ROLE_PERMISSIONS_SPEAK_DESCRIPTION_CATEGORY;case l.ChannelTypes.GUILD_STAGE_VOICE:
return s.default.Messages.ROLE_PERMISSIONS_SPEAK_DESCRIPTION_STAGE;default:return s.default.Messages.ROLE_PERMISSIONS_SPEAK_DESCRIPTION_VOICE}}(),flag:l.Permissions.SPEAK},a[l.Permissions.STREAM.toString()]={title:s.default.Messages.VIDEO,description:e===l.ChannelTypes.GUILD_CATEGORY?s.default.Messages.ROLE_PERMISSIONS_STREAM_DESCRIPTION_CATEGORY:s.default.Messages.ROLE_PERMISSIONS_STREAM_DESCRIPTION_VOICE,flag:l.Permissions.STREAM},a[l.Permissions.USE_EMBEDDED_ACTIVITIES.toString()]={title:s.default.Messages.USE_EMBEDDED_ACTIVITIES,description:e===l.ChannelTypes.GUILD_CATEGORY?s.default.Messages.ROLE_PERMISSIONS_USE_EMBEDDED_ACTIVITIES_DESCRIPTION_CATEGORY:s.default.Messages.ROLE_PERMISSIONS_USE_EMBEDDED_ACTIVITIES_DESCRIPTION_VOICE,flag:l.Permissions.USE_EMBEDDED_ACTIVITIES},a[l.Permissions.USE_VAD.toString()]={title:s.default.Messages.USE_VAD,description:function(){switch(e){case l.ChannelTypes.GUILD_CATEGORY:return s.default.Messages.ROLE_PERMISSIONS_USE_VAD_DESCRIPTION_CATEGORY
;case l.ChannelTypes.GUILD_STAGE_VOICE:return s.default.Messages.ROLE_PERMISSIONS_USE_VAD_DESCRIPTION_STAGE;default:return s.default.Messages.ROLE_PERMISSIONS_USE_VAD_DESCRIPTION_VOICE}}(),flag:l.Permissions.USE_VAD},a[l.Permissions.PRIORITY_SPEAKER.toString()]={title:s.default.Messages.PRIORITY_SPEAKER,description:function(){0;var t={keybind:s.default.Messages.KEYBIND_PUSH_TO_TALK_PRIORITY,onClick:function(){o.default.open(l.UserSettingsSections.KEYBINDS)}};return e===l.ChannelTypes.GUILD_CATEGORY?s.default.Messages.ROLE_PERMISSIONS_PRIORITY_SPEAKER_DESCRIPTION_CATEGORY.format(t):s.default.Messages.ROLE_PERMISSIONS_PRIORITY_SPEAKER_DESCRIPTION_VOICE.format(t)}(),flag:l.Permissions.PRIORITY_SPEAKER},a[l.Permissions.MUTE_MEMBERS.toString()]={title:s.default.Messages.MUTE_MEMBERS,description:function(){switch(e){case l.ChannelTypes.GUILD_CATEGORY:return s.default.Messages.ROLE_PERMISSIONS_MUTE_MEMBERS_DESCRIPTION_CATEGORY;case l.ChannelTypes.GUILD_STAGE_VOICE:
return s.default.Messages.ROLE_PERMISSIONS_MUTE_MEMBERS_DESCRIPTION_STAGE;default:return s.default.Messages.ROLE_PERMISSIONS_MUTE_MEMBERS_DESCRIPTION_VOICE}}(),flag:l.Permissions.MUTE_MEMBERS},a[l.Permissions.DEAFEN_MEMBERS.toString()]={title:s.default.Messages.DEAFEN_MEMBERS,description:e===l.ChannelTypes.GUILD_CATEGORY?s.default.Messages.ROLE_PERMISSIONS_DEAFEN_MEMBERS_DESCRIPTION_CATEGORY:s.default.Messages.ROLE_PERMISSIONS_DEAFEN_MEMBERS_DESCRIPTION_VOICE,flag:l.Permissions.DEAFEN_MEMBERS},a[l.Permissions.MOVE_MEMBERS.toString()]={title:s.default.Messages.MOVE_MEMBERS,description:function(){switch(e){case l.ChannelTypes.GUILD_CATEGORY:return s.default.Messages.ROLE_PERMISSIONS_MOVE_MEMBERS_DESCRIPTION_CATEGORY;case l.ChannelTypes.GUILD_STAGE_VOICE:return s.default.Messages.ROLE_PERMISSIONS_MOVE_MEMBERS_DESCRIPTION_STAGE;default:return s.default.Messages.ROLE_PERMISSIONS_MOVE_MEMBERS_DESCRIPTION_VOICE}}(),flag:l.Permissions.MOVE_MEMBERS},
a[l.Permissions.REQUEST_TO_SPEAK.toString()]={title:s.default.Messages.REQUEST_TO_SPEAK,description:e===l.ChannelTypes.GUILD_CATEGORY?s.default.Messages.ROLE_PERMISSIONS_REQUEST_TO_SPEAK_DESCRIPTION_CATEGORY:s.default.Messages.ROLE_PERMISSIONS_REQUEST_TO_SPEAK_DESCRIPTION_STAGE,flag:l.Permissions.REQUEST_TO_SPEAK},a[l.Permissions.MANAGE_THREADS.toString()]={title:e===l.ChannelTypes.GUILD_FORUM?s.default.Messages.MANAGE_FORUM_POSTS:n&&e===l.ChannelTypes.GUILD_CATEGORY?s.default.Messages.MANAGE_THREADS_AND_FORUM_POSTS:s.default.Messages.MANAGE_THREADS,description:function(){switch(e){case l.ChannelTypes.GUILD_CATEGORY:return n?s.default.Messages.ROLE_PERMISSIONS_MANAGE_THREADS_AND_FORUMS_DESCRIPTION_CATEGORY:s.default.Messages.ROLE_PERMISSIONS_MANAGE_THREADS_DESCRIPTION_CATEGORY;case l.ChannelTypes.GUILD_FORUM:return s.default.Messages.ROLE_PERMISSIONS_MANAGE_THREADS_AND_FORUMS_DESCRIPTION_TEXT;default:return s.default.Messages.ROLE_PERMISSIONS_MANAGE_THREADS_DESCRIPTION_TEXT}}(),
flag:l.Permissions.MANAGE_THREADS},a[l.Permissions.CREATE_PUBLIC_THREADS.toString()]={title:s.default.Messages.CREATE_PUBLIC_THREADS,description:e===l.ChannelTypes.GUILD_CATEGORY?s.default.Messages.ROLE_PERMISSIONS_CREATE_PUBLIC_THREADS_DESCRIPTION_CATEGORY:s.default.Messages.ROLE_PERMISSIONS_CREATE_PUBLIC_THREADS_DESCRIPTION_TEXT,flag:l.Permissions.CREATE_PUBLIC_THREADS},a[l.Permissions.CREATE_PRIVATE_THREADS.toString()]={title:s.default.Messages.CREATE_PRIVATE_THREADS,description:e===l.ChannelTypes.GUILD_CATEGORY?s.default.Messages.ROLE_PERMISSIONS_CREATE_PRIVATE_THREADS_DESCRIPTION_CATEGORY:s.default.Messages.ROLE_PERMISSIONS_CREATE_PRIVATE_THREADS_DESCRIPTION_TEXT,flag:l.Permissions.CREATE_PRIVATE_THREADS},a[l.Permissions.SEND_MESSAGES_IN_THREADS.toString()]={title:e===l.ChannelTypes.GUILD_FORUM?s.default.Messages.SEND_MESSAGES_IN_FORUM_POSTS:n&&e===l.ChannelTypes.GUILD_CATEGORY?s.default.Messages.SEND_MESSAGES_IN_THREADS_AND_FORUM_POSTS:s.default.Messages.SEND_MESSAGES_IN_THREADS,
description:function(){switch(e){case l.ChannelTypes.GUILD_CATEGORY:return n?s.default.Messages.ROLE_PERMISSIONS_SEND_MESSAGES_IN_THREADS_AND_FORUM_POSTS_DESCRIPTION_CATEGORY:s.default.Messages.ROLE_PERMISSIONS_SEND_MESSAGES_IN_THREADS_DESCRIPTION_CATEGORY;case l.ChannelTypes.GUILD_FORUM:return s.default.Messages.ROLE_PERMISSIONS_SEND_MESSAGES_IN_THREADS_AND_FORUM_POSTS_DESCRIPTION_TEXT;default:return s.default.Messages.ROLE_PERMISSIONS_SEND_MESSAGES_IN_THREADS_DESCRIPTION_TEXT}}(),flag:l.Permissions.SEND_MESSAGES_IN_THREADS},a[l.Permissions.MANAGE_EVENTS.toString()]={title:s.default.Messages.MANAGE_EVENTS,description:e===l.ChannelTypes.GUILD_CATEGORY?s.default.Messages.ROLE_PERMISSIONS_MANAGE_EVENTS_DESCRIPTION_CATEGORY:s.default.Messages.ROLE_PERMISSIONS_MANAGE_EVENTS_DESCRIPTION_CHANNEL,flag:l.Permissions.MANAGE_EVENTS},a};var r,a,o=c(n(226800)),i=c(n(328798)),u=c(n(550270)),l=n(770348),s=c(n(247001));function c(e){return e&&e.__esModule?e:{default:e}}t.RowType=r;!function(e){
e[e.EMPTY_STATE=0]="EMPTY_STATE";e[e.ADMINISTRATOR=1]="ADMINISTRATOR";e[e.ROLE=2]="ROLE";e[e.OWNER=3]="OWNER";e[e.MEMBER=4]="MEMBER"}(r||(t.RowType=r={}));t.AddMembersSections=a;!function(e){e[e.ROLES=0]="ROLES";e[e.MEMBERS=1]="MEMBERS"}(a||(t.AddMembersSections=a={}));t.MEMBER_REQUEST_COUNT=20;var d,f;t.ADVANCED_MODE_ON_KEY="channelPermissionSettingsAdvancedModeOn";t.TrackExposureLocations=d;!function(e){e.SETTINGS_PAGE="settings-page";e.MEMBERS_LIST="members-list";e.EMPTY_STATE="empty-state";e.CREATE_CHANNEL="create-channel"}(d||(t.TrackExposureLocations=d={}));t.SettingMode=f;!function(e){e.BASIC="basic";e.ADVANCED="advanced"}(f||(t.SettingMode=f={}))},668339:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=s(n(294184)),i=n(396229),u=s(n(730977)),l=s(n(348336));function s(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}function p(e){var t,n=e.className,r=e.channel,s=e.section,c=null!=s?(0,i.getIconComponent)(s):null;return d("div",{className:(0,o.default)(n,l.default.wrapper)},void 0,d("div",{className:l.default.icon},void 0,null!=c?d(u.default,{text:null!==(t=null==s?void 0:s.name)&&void 0!==t?t:"",position:u.default.Positions.TOP},void 0,(function(e){return a.createElement(c,f({},e,{channel:r,section:s,width:24,height:24}))})):null))}p.displayName="ChannelApplicationIcon";var v=a.memo(p);t.default=v},179714:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useCustomStatusMenuItem=S;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=y(n(294184)),i=y(n(929031)),u=n(433473),l=n(556470),s=n(145122),c=y(n(16941)),d=y(n(930600)),f=n(194322),p=y(n(247001)),v=y(n(184518));function y(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(){
_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return _.apply(this,arguments)}function g(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function E(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){g(o,r,a,i,u,"next",e)}function u(e){g(o,r,a,i,u,"throw",e)}i(void 0)}))}}var O=m(d.default,{width:18,height:18});function S(e){var t=(0,l.useAnalyticsContext)();function r(e){e.stopPropagation();i.default.updateRemoteSettings({customStatus:null})}function d(){(0,f.openModalLazy)(E(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(74213)]).then(n.bind(n,793954));case 2:r=e.sent;o=r.default;return e.abrupt("return",(function(e){
return a.createElement(o,_({sourceAnalyticsContext:t},e))}));case 5:case"end":return e.stop()}}),e)}))))}if(null!=e){var y=null!=e.emoji?function(t){var n=t.className;return m(u.ActivityEmoji,{className:n,emoji:e.emoji,animate:!0,hideTooltip:!0})}:void 0;return m(s.MenuItem,{id:"edit-custom-status",label:p.default.Messages.CUSTOM_STATUS_EDIT_CUSTOM_STATUS_PLACEHOLDER,icon:y,showIconFirst:!0,hint:function(e){return a.createElement(c.default,_({},e,{onClick:r,tabIndex:0}),O)},action:d})}return m(s.MenuItem,{id:"set-custom-status",label:p.default.Messages.CUSTOM_STATUS_SET_CUSTOM_STATUS_CTA,icon:function(e){return m("div",{className:(0,o.default)(v.default.customEmojiPlaceholder,e)})},action:d,showIconFirst:!0})}S.displayName="useCustomStatusMenuItem"},421910:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.fetchDirectoryEntries=void 0;var r=l(n(23279)),a=l(n(118915)),o=l(n(636602)),i=n(218044),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}
function s(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}var c=(0,r.default)(function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0;o.default.dispatch({type:u.ActionTypes.EVENT_DIRECTORY_FETCH_START});e.next=4;return a.default.get({url:u.Endpoints.DIRECTORY_CHANNEL_ENTRIES(t),query:{type:i.DirectoryEntryTypes.GUILD_SCHEDULED_EVENT}});case 4:n=e.sent;o.default.dispatch({type:u.ActionTypes.EVENT_DIRECTORY_FETCH_SUCCESS,channelId:t,entries:n.body});e.next=11;break;case 8:e.prev=8;e.t0=e.catch(0);o.default.dispatch({type:u.ActionTypes.EVENT_DIRECTORY_FETCH_FAILURE});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){s(o,r,a,i,u,"next",e)}function u(e){s(o,r,a,i,u,"throw",e)}i(void 0)}))});return function(e){
return t.apply(this,arguments)}}(),200);t.fetchDirectoryEntries=c},435625:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.addDirectoryGuildEntry=function(e,t,n,r){return h.apply(this,arguments)};t.fetchGuildEntriesForIds=t.fetchDirectoryEntries=t.fetchDirectoryCounts=t.clearDirectorySearch=void 0;t.removeDirectoryGuildEntry=function(e,t){u.default.delete({url:c.Endpoints.DIRECTORY_CHANNEL_ENTRY(e,t),trackedActionData:{event:a.NetworkActionNames.DIRECTORY_GUILD_ENTRY_DELETE,properties:{directory_channel_id:e,guild_id:t}}});i.default.dispatch({type:c.ActionTypes.GUILD_DIRECTORY_ENTRY_DELETE,channelId:e,guildId:t})};t.updateDirectoryEntry=t.selectDirectoryCategory=t.searchDirectoryEntries=void 0;var r=d(n(23279)),a=n(47354),o=d(n(118915)),i=d(n(636602)),u=d(n(351772)),l=d(n(917582)),s=n(218044),c=n(770348);function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}
u.done?t(l):Promise.resolve(l).then(r,a)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){f(o,r,a,i,u,"next",e)}function u(e){f(o,r,a,i,u,"throw",e)}i(void 0)}))}}var v=(0,r.default)(function(){var e=p(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0;i.default.dispatch({type:c.ActionTypes.GUILD_DIRECTORY_FETCH_START});e.next=4;return o.default.get({url:c.Endpoints.DIRECTORY_CHANNEL_ENTRIES(t),query:{category_id:n}});case 4:r=e.sent;i.default.dispatch({type:c.ActionTypes.GUILD_DIRECTORY_FETCH_SUCCESS,channelId:t,entries:r.body});e.next=11;break;case 8:e.prev=8;e.t0=e.catch(0);i.default.dispatch({type:c.ActionTypes.GUILD_DIRECTORY_FETCH_FAILURE});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),200);t.fetchDirectoryEntries=v;var y=(0,r.default)(function(){
var e=p(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0;e.next=3;return o.default.get({url:c.Endpoints.DIRECTORY_CHANNEL_CATEGORY_COUNTS(t)});case 3:n=e.sent;i.default.dispatch({type:c.ActionTypes.GUILD_DIRECTORY_COUNTS_FETCH_SUCCESS,channelId:t,counts:n.body});e.next=9;break;case 7:e.prev=7;e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),200);t.fetchDirectoryCounts=y;function h(){return(h=p(regeneratorRuntime.mark((function e(t,n,r,o){var l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:void 0===o&&(o=s.DirectoryEntryCategories.UNCATEGORIZED);e.next=3;return u.default.post({url:c.Endpoints.DIRECTORY_CHANNEL_ENTRY(t,n),body:{description:r,primary_category_id:o},trackedActionData:{event:a.NetworkActionNames.DIRECTORY_GUILD_ENTRY_CREATE,properties:{directory_channel_id:t,guild_id:n,
primary_category_id:o}}});case 3:l=e.sent;i.default.dispatch({type:c.ActionTypes.GUILD_DIRECTORY_ENTRY_CREATE,channelId:t,entry:l.body});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var m=(0,r.default)(function(){var e=p(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l.default.shouldFetch(t,n)){e.next=4;break}i.default.dispatch({type:c.ActionTypes.GUILD_DIRECTORY_CACHED_SEARCH,channelId:t,query:n});return e.abrupt("return");case 4:e.prev=4;i.default.dispatch({type:c.ActionTypes.GUILD_DIRECTORY_SEARCH_START,channelId:t,query:n});e.next=8;return o.default.get({url:c.Endpoints.DIRECTORY_ENTRIES_SEARCH(t),query:{query:n}});case 8:r=e.sent;i.default.dispatch({type:c.ActionTypes.GUILD_DIRECTORY_SEARCH_SUCCESS,channelId:t,query:n,results:r.body});e.next=15;break;case 12:e.prev=12;e.t0=e.catch(4);i.default.dispatch({type:c.ActionTypes.GUILD_DIRECTORY_FETCH_FAILURE});case 15:case"end":
return e.stop()}}),e,null,[[4,12]])})));return function(t,n){return e.apply(this,arguments)}}(),200);t.searchDirectoryEntries=m;t.clearDirectorySearch=function(e){i.default.dispatch({type:c.ActionTypes.GUILD_DIRECTORY_SEARCH_CLEAR,channelId:e})};var _=function(){var e=p(regeneratorRuntime.mark((function e(t,n,r,a){var u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:void 0===a&&(a=s.DirectoryEntryCategories.UNCATEGORIZED);e.next=3;return o.default.patch({url:c.Endpoints.DIRECTORY_CHANNEL_ENTRY(t,n),body:{description:r,primary_category_id:a}});case 3:u=e.sent;i.default.dispatch({type:c.ActionTypes.GUILD_DIRECTORY_ENTRY_UPDATE,channelId:t,entry:u.body});case 5:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}();t.updateDirectoryEntry=_;t.selectDirectoryCategory=function(e,t){i.default.dispatch({type:c.ActionTypes.GUILD_DIRECTORY_CATEGORY_SELECT,channelId:e,categoryId:t})};var g=function(){
var e=p(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0;e.next=3;return o.default.get({url:c.Endpoints.DIRECTORY_CHANNEL_LIST_BY_ID(t),query:{entity_ids:n}});case 3:r=e.sent;i.default.dispatch({type:c.ActionTypes.GUILD_DIRECTORY_ADMIN_ENTRIES_FETCH_SUCCESS,channelId:t,entries:r.body});e.next=9;break;case 7:e.prev=7;e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}();t.fetchGuildEntriesForIds=g},917582:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=l(n(536211)),o=l(n(636602)),i=n(448406),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){s=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return s(e,t)}function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return c.apply(this,arguments)}var d={},f={};var p=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;s(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.getSearchState=function(e){var t;return null!==(t=d[e])&&void 0!==t?t:{mostRecentQuery:"",fetching:!1}};n.getSearchResults=function(e,t){var n,r,a;return null!==(n=null===(r=f[e])||void 0===r||null===(a=r[t])||void 0===a?void 0:a.results)&&void 0!==n?n:[]};n.shouldFetch=function(e,t){var n,r,a=null===(n=f[e])||void 0===n||null===(r=n[t])||void 0===r?void 0:r.lastSearchedAt;return null==a||Date.now()-a>12e4};return t}(a.default.Store);p.displayName="GuildDirectorySearchStore";var v=new p(o.default,((r={})[u.ActionTypes.GUILD_DIRECTORY_SEARCH_START]=function(e){var t=e.channelId,n=e.query;d[t]={fetching:!0,mostRecentQuery:n}},r[u.ActionTypes.GUILD_DIRECTORY_SEARCH_SUCCESS]=function(e){
var t,n=e.channelId,r=e.query,a=e.results;d[n]=c({},d[n],{fetching:!1});var o=[];a.forEach((function(e){var t=(0,i.guildDirectoryEntryFromServer)(e);o.push(t)}));f[n]=c({},f[n],((t={})[r]={results:(0,i.orderByTotalMemberCount)(o),lastSearchedAt:Date.now()},t))},r[u.ActionTypes.GUILD_DIRECTORY_SEARCH_FAILURE]=function(e){var t=e.channelId;d[t]=c({},d[t],{fetching:!1})},r[u.ActionTypes.GUILD_DIRECTORY_SEARCH_CLEAR]=function(e){var t=e.channelId;d[t]={fetching:!1,mostRecentQuery:""}},r[u.ActionTypes.GUILD_DIRECTORY_CACHED_SEARCH]=function(e){var t=e.channelId,n=e.query;d[t]={fetching:!1,mostRecentQuery:n}},r[u.ActionTypes.GUILD_DIRECTORY_ENTRY_DELETE]=function(e){var t,n,r=e.channelId,a=e.guildId,o=null===(t=d[r])||void 0===t?void 0:t.mostRecentQuery;if(null!=o){var i=f[r][o];if(null!=i){var u=i.results.filter((function(e){return e.guildId!==a}));f[r]=c({},f[r],((n={})[d[r].mostRecentQuery]=c({},i,{results:u}),n))}}},r));t.default=v},229164:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=(0,r.useStateFromStores)([o.default],(function(){return o.default.getGuild(e.guildId)})),n=(0,r.useStateFromStores)([a.default],(function(){return a.default.getChannel(e.channelId)})),l=(0,r.useStateFromStores)([i.default],(function(){return i.default.can(u.Permissions.ADMINISTRATOR,t)})),s=(0,r.useStateFromStores)([i.default],(function(){return i.default.can(u.Permissions.MANAGE_MESSAGES,n)}));return{isEntryAdmin:l,canEdit:l||s,canRemove:l||s}};t.useCanCreateOrAddGuildInDirectory=function(e){return(0,r.useStateFromStores)([i.default],(function(){return i.default.can(u.Permissions.SEND_MESSAGES,e)}))};var r=n(536211),a=l(n(644263)),o=l(n(30098)),i=l(n(689389)),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}},63608:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=A(n(667294)),o=n(536211),i=C(n(636602)),u=n(508510),l=C(n(97982)),s=C(n(191391)),c=C(n(80828)),d=n(194322),f=C(n(308920)),p=A(n(421910)),v=A(n(435625)),y=C(n(917582)),h=C(n(447364)),m=n(229164),_=C(n(434324)),g=C(n(308607)),E=n(1698),O=C(n(670539)),S=n(218044),b=n(770348),I=C(n(447763));function C(e){return e&&e.__esModule?e:{default:e}}function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}function A(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function P(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function M(){M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return M.apply(this,arguments)}function N(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function R(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){N(o,r,a,i,u,"next",e)}function u(e){N(o,r,a,i,u,"throw",e)}i(void 0)}))}}function w(e,t){return function(e){if(Array.isArray(e))return e
}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var L=function(e){var t,r=e.channel,C=e.guild,T=(0,
o.useStateFromStoresObject)([h.default],(function(){var e=h.default.getCurrentCategoryId(r.id);return{currentCategoryId:e,directoryEntries:h.default.getDirectoryEntries(r.id,e===S.DirectoryEntryCategories.ALL?null:e),categoryCounts:h.default.getDirectoryCategoryCounts(r.id),allEntriesCount:h.default.getDirectoryAllEntriesCount(r.id),isLoading:h.default.isFetching()}})),A=T.currentCategoryId,N=T.directoryEntries,D=T.categoryCounts,L=T.allEntriesCount,k=T.isLoading;a.useEffect((function(){return function(){var e=s.default.lastMessageId(r.id);null!=e&&i.default.wait((function(){(0,u.ack)(r.id,!0,!0,e)}))}}),[r.id]);var j=a.useMemo((function(){return null!=N?(0,E.generateDirectoryRows)(Object.values(N),A):null}),[N,A]),U=(0,o.useStateFromStoresObject)([y.default],(function(){var e=y.default.getSearchState(r.id),t=e.mostRecentQuery;return{mostRecentQuery:t,searchFetching:e.fetching,searchResults:y.default.getSearchResults(r.id,t)}
})),G=U.mostRecentQuery,F=U.searchFetching,x=U.searchResults,W=w(a.useState(G),2),B=W[0],V=W[1],H=""!==G,Y=l.default.useExperiment({guildId:null!==(t=C.id)&&void 0!==t?t:""}).showHubEventsList;a.useEffect((function(){v.fetchDirectoryEntries(r.id);v.fetchDirectoryCounts(r.id);Y&&p.fetchDirectoryEntries(r.id);V(G)}),[r.id]);a.useEffect((function(){f.default.track(b.AnalyticEvents.GUILD_DIRECTORY_CHANNEL_VIEWED,{directory_channel_id:r.id,directory_guild_id:C.id,primary_category_id:A})}),[r.id,C.id,A]);var z=(0,m.useCanCreateOrAddGuildInDirectory)(r)?function(){(0,d.openModalLazy)(R(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(62884),n.e(87248)]).then(n.bind(n,887248));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return a.createElement(o,M({},e,{directoryGuildName:C.name,directoryGuildId:C.id,directoryChannelId:r.id,
currentCategoryId:A===S.DirectoryEntryCategories.ALL?null:A}))}));case 5:case"end":return e.stop()}}),e)}))))}:void 0,K=function(e){if(0!==B.trim().length&&e.charCode===b.KeyboardKeys.ENTER){v.searchDirectoryEntries(r.id,B);f.default.track(b.AnalyticEvents.GUILD_DIRECTORY_SEARCH,{directory_channel_id:r.id,directory_guild_id:C.id})}},$=function(){V("");v.clearDirectorySearch(r.id)};return H?P(O.default,{searchQuery:B,setSearchQuery:V,mostRecentQuery:G,handleSearchKeyPress:K,handleClearSearch:$,handleCreateOrAddGuild:z,searchResults:x,searchFetching:F}):null==j&&null==A?P("div",{className:I.default.pageContainer},void 0,P(c.default,{className:I.default.spinner})):0===(null==j?void 0:j.length)&&null==A?P("div",{className:I.default.pageContainer},void 0,P(_.default,{guild:C,onAddGuild:z})):P(g.default,{channel:r,searchQuery:B,setSearchQuery:V,handleSearchKeyPress:K,handleClearSearch:$,handleCreateOrAddGuild:z,currentCategoryId:A,handleSelectCategory:function(e){
v.selectDirectoryCategory(r.id,e)},directoryEntries:j,categoryCounts:D,allEntriesCount:L,isLoading:k})};L.displayName="GuildDirectory";var k=L;t.default=k},434324:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(888746),i=n(772575),u=n(645758),l=n(194322),s=n(770348),c=f(n(247001)),d=f(n(889775));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}
function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function h(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){h(o,r,a,i,u,"next",e)}function u(e){h(o,r,a,i,u,"throw",e)}i(void 0)}))}}var _=function(e){
var t=e.guild,r=e.onAddGuild,f=a.useCallback((function(){(0,l.openModalLazy)(m(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(15865)]).then(n.bind(n,115865));case 2:r=e.sent;o=r.default;return e.abrupt("return",(function(e){return a.createElement(o,y({},e,{guild:t,source:s.InstantInviteSources.HUB_DIRECTORY,analyticsLocation:{section:s.AnalyticsSections.HUB_WELCOME_CTA}}))}));case 5:case"end":return e.stop()}}),e)}))))}),[t]);return v("div",{className:d.default.emptyWrapper},void 0,v("img",{className:d.default.emptyImage,alt:"",src:n(655916)}),v(i.Heading,{className:d.default.emptyTitle,variant:"heading-xl/medium",level:3},void 0,c.default.Messages.HUB_DIRECTORY_CHANNEL_EMPTY_TITLE.format({guildName:t.name})),v(u.Text,{variant:"text-md/normal",className:d.default.emptySubtitle
},void 0,c.default.Messages.HUB_DIRECTORY_CHANNEL_EMPTY_SUBTITLE),null!=r?v(o.WelcomeMessageCTA,{className:d.default.emptyCTA,iconUrl:n(755645),header:c.default.Messages.HUB_DIRECTORY_CHANNEL_EMPTY_ADD_SERVER,completed:!1,onClick:r}):null,v(o.WelcomeMessageCTA,{className:d.default.emptyCTA,iconUrl:n(930519),header:c.default.Messages.HUB_DIRECTORY_CHANNEL_EMPTY_INVITE,completed:!1,onClick:f}))};_.displayName="DirectoryEmptyState";var g=_;t.default=g},923117:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.AddEntryCard=void 0;var r,a=j(n(667294)),o=L(n(294184)),i=n(536211),u=n(378158),l=L(n(415275)),s=n(800055),c=n(95034),d=L(n(539563)),f=L(n(30098)),p=L(n(956117)),v=L(n(16941)),y=L(n(189950)),h=L(n(380439)),m=n(645758),_=L(n(730977)),g=L(n(775803)),E=L(n(975165)),O=n(194322),S=L(n(272544)),b=j(n(962989)),I=L(n(692711)),C=L(n(229164)),T=L(n(71472)),A=n(770348),P=L(n(247001)),M=L(n(423973)),N=L(n(928793)),R=["onClick"],w=["onClick"],D=["onClick"]
;function L(e){return e&&e.__esModule?e:{default:e}}function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}function j(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function U(){U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return U.apply(this,arguments)}function G(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function F(e){return function(){
var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){G(o,r,a,i,u,"next",e)}function u(e){G(o,r,a,i,u,"throw",e)}i(void 0)}))}}function x(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}function W(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return B(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B(e,t)
}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function V(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var H=V("img",{alt:"",src:N.default}),Y=function(e){var t=e.onClick;return V(v.default,{onClick:t,className:M.default.addEntryCard},void 0,H,V(m.Text,{variant:"text-sm/normal",color:"header-primary",className:M.default.addServerText},void 0,P.default.Messages.HUB_ADD_SERVER_CTA))}
;t.AddEntryCard=Y;Y.displayName="AddEntryCard";function z(e){var t,r=e.entry,i=W(a.useState(!1),2),u=i[0],l=i[1],s=(0,C.default)(r).canEdit;return V("div",{className:(0,o.default)(M.default.actionButtonsContainer,(t={},t[M.default.forceButtonsShow]=u,t))},void 0,V(b.default,{},void 0,s?V(_.default,{text:P.default.Messages.HUB_ENTRY_UPDATE,hideOnClick:!0},void 0,(function(e){var t=e.onClick,o=x(e,R);return a.createElement(b.Button,U({},o,{onClick:function(){null==t||t();(0,O.openModalLazy)(F(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(50012)]).then(n.bind(n,950012));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return a.createElement(o,U({},e,{entry:r}))}));case 5:case"end":return e.stop()}}),e)}))))},"aria-label":P.default.Messages.HUB_ENTRY_UPDATE}),V(E.default,{className:M.default.overflowIcon}))})):null,V(T.default,{
onRequestOpen:function(){return l(!0)},onRequestClose:function(){return l(!1)},entry:r,hideEditButton:!0},void 0,(function(e){var t=e.onClick,n=x(e,w);return V(_.default,{text:P.default.Messages.MORE,hideOnClick:!0},void 0,(function(e){var r=e.onClick,o=x(e,D);return a.createElement(b.Button,U({},n,o,{onClick:function(e){null==r||r();t(e)},"aria-label":P.default.Messages.MORE}),V(g.default,{className:M.default.overflowIcon}))}))}))))}z.displayName="ActionButtons";var K=function(e){var t,r=e.entry,o=W(a.useState(!1),2),v=o[0],g=o[1],E=null!=(0,i.useStateFromStores)([f.default],(function(){return f.default.getGuild(r.guildId)})),O=function(){var e=F(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g(!0);e.prev=1;if(E){e.next=7;break}e.next=5;return l.default.joinGuild(r.guildId,{source:A.JoinGuildSources.DIRECTORY_ENTRY});case 5:e.next=8;break;case 7:(0,c.transitionToGuild)(r.guildId);case 8:e.prev=8;g(!1)
;return e.finish(8);case 11:case"end":return e.stop()}}),e,null,[[1,,8,11]])})));return function(){return e.apply(this,arguments)}}(),b=I.default.getGuildSplashURL({id:r.guildId,splash:r.splash,size:300*(0,s.getDevicePixelRatio)()}),C=null!==(t=I.default.getGuildIconURL({id:r.guildId,icon:r.icon,size:40}))&&void 0!==t?t:void 0,T=P.default.Messages.JOIN;E&&(T=P.default.Messages.HUB_DIRECTORY_CARD_JOINED_GUILD_BUTTON);return V("div",{className:M.default.card,onContextMenu:function(e){(0,u.openContextMenuLazy)(e,F(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,88020));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return a.createElement(o,U({},e,{entry:r}))}));case 5:case"end":return e.stop()}}),e)}))))}},void 0,V("div",{className:M.default.cardHeader},void 0,V("div",{className:M.default.splash},void 0,null!=b&&V("img",{src:b,alt:"",
className:M.default.splashImage})),V("div",{className:M.default.guildIcon},void 0,V(S.default,{mask:S.default.Masks.SQUIRCLE,width:48,height:48},void 0,V("div",{className:M.default.iconMask},void 0,V(h.default,{className:M.default.icon,iconSrc:C,guild:new d.default(r),size:h.default.Sizes.MEDIUM,active:!0}))))),V("div",{className:M.default.guildInfo},void 0,V("div",{className:M.default.title},void 0,V(y.default,{className:M.default.guildBadge,guild:r,tooltipColor:_.default.Colors.PRIMARY}),V(m.Text,{className:M.default.guildName,variant:"text-md/normal",color:"header-primary"},void 0,r.name)),V(m.Text,{className:M.default.description,variant:"text-sm/normal",color:"header-secondary"},void 0,r.description),V("div",{className:M.default.memberInfo},void 0,null!=r.approximatePresenceCount&&V("div",{className:M.default.memberCount},void 0,V("div",{className:M.default.dotOnline}),V(m.Text,{variant:"text-xs/normal",color:"header-secondary"
},void 0,P.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_ONLINE.format({membersOnline:r.approximatePresenceCount}))),null!=r.approximateMemberCount&&V("div",{className:M.default.memberCount},void 0,V("div",{className:M.default.dotOffline}),V(m.Text,{variant:"text-xs/normal",color:"header-secondary"},void 0,P.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_TOTAL.format({count:r.approximateMemberCount})))),V(p.default,{submitting:v,className:M.default.joinButton,color:E?p.default.Colors.PRIMARY:p.default.Colors.GREEN,onClick:O},void 0,T)),V(z,{entry:r}))};K.displayName="GuildDirectoryEntryCard";var $=K;t.default=$},88020:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=I;var r,a=g(n(667294)),o=n(378158),i=m(n(730487)),u=n(837797),l=g(n(145122)),s=n(645758),c=m(n(907509)),d=m(n(502197)),f=n(194322),p=g(n(435625)),v=m(n(229164)),y=n(474477),h=m(n(247001));function m(e){return e&&e.__esModule?e:{default:e}}function _(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function g(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function E(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function O(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){E(o,r,a,i,u,"next",e)}function u(e){E(o,r,a,i,u,"throw",e)}i(void 0)}))}}function S(){S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return S.apply(this,arguments)}function b(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function I(e){var t=e.entry,r=e.onSelect,m=e.closePopout,_=e.forceLightTheme,g=e.hideEditButton,E=void 0!==g&&g,I=(0,v.default)(t),C=I.isEntryAdmin,T=I.canEdit,A=I.canRemove,P=(0,i.default)(t.guildId,void 0,void 0,m);a.useEffect((function(){T||A||null!=P||(0,o.closeContextMenu)()}));var M=function(){p.removeDirectoryGuildEntry(t.channelId,t.guildId)};function N(){(0,o.closeContextMenu)();null==m||m()}return b(l.default,{className:_?"theme-light":null,
navId:"guild-entry-context",onClose:N,"aria-label":h.default.Messages.GUILD_ACTIONS_MENU_LABEL,onSelect:r},void 0,b(l.MenuGroup,{},void 0,T&&!E?b(l.MenuItem,{id:"update-entry",label:h.default.Messages.HUB_ENTRY_UPDATE,action:function(){(0,f.openModalLazy)(O(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(50012)]).then(n.bind(n,950012));case 2:r=e.sent;o=r.default;return e.abrupt("return",(function(e){return a.createElement(o,S({},e,{entry:t}))}));case 5:case"end":return e.stop()}}),e)}))));N()}}):null,A?b(l.MenuItem,{id:"remove-from-hub",label:h.default.Messages.HUB_ENTRY_REMOVE,action:function(){(0,f.openModal)((function(e){return a.createElement(d.default,S({header:h.default.Messages.HUB_ENTRY_REMOVE,confirmText:h.default.Messages.REMOVE,cancelText:h.default.Messages.CANCEL,onConfirm:M},e),b(s.Text,{variant:"text-md/normal"
},void 0,h.default.Messages.HUB_ENTRY_REMOVE_BODY.format({guildName:t.name})))}));N()},color:y.MenuItemColor.DANGER}):null,C?null:a.createElement(a.Fragment,null,b(l.MenuItem,{id:"report-server-listing",label:h.default.Messages.REPORT_SERVER_NO_NAME,action:function(){if(null!=t){(0,u.showReportModalForGuildDirectoryEntry)(t);N()}},icon:c.default,color:y.MenuItemColor.DANGER}))),b(l.MenuGroup,{},void 0,P))}I.displayName="GuildDirectoryEntryContextMenu"},71472:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294))
;var r,a=i(n(160629)),o=i(n(88020));function i(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var s=function(e){var t=e.entry,n=e.forceLightTheme,r=e.hideEditButton,i=e.children,u=e.onRequestOpen,s=e.onRequestClose;return l(a.default,{onRequestOpen:u,onRequestClose:s,animation:a.default.Animation.NONE,position:a.default.Positions.BOTTOM,spacing:4,align:a.default.Align.RIGHT,renderPopout:function(e){var a=e.closePopout;return l(o.default,{entry:t,
closePopout:a,forceLightTheme:n,hideEditButton:r})}},void 0,i)};s.displayName="GuildDirectoryEntryOptionsMenu";var c=s;t.default=c},308607:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=S(n(667294)),o=E(n(294184)),i=E(n(864345)),u=n(772575),l=E(n(535813)),s=E(n(80828)),c=E(n(186465)),d=n(645758),f=n(235742),p=S(n(923117)),v=n(218044),y=E(n(247001)),h=E(n(447763)),m=E(n(552564)),_=E(n(324752)),g=E(n(315879));function E(e){return e&&e.__esModule?e:{default:e}}function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function S(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function b(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var I=(0,i.default)((function(e){var t,n=e.searchQuery,r=e.setSearchQuery,a=e.handleClearSearch,i=e.handleSearchKeyPress,s=e.width,c=null!=s&&s<=780;return b("div",{className:m.default.header},void 0,b("img",{alt:"",className:m.default.headerImage,src:c?g.default:_.default}),b("div",{className:m.default.headerContentWrapper},void 0,b("div",{className:(0,o.default)(m.default.headerContent,(t={},t[m.default.headerContentSmall]=c,t))},void 0,b(u.Heading,{
variant:"heading-xl/medium",className:m.default.searchTitle,level:3},void 0,y.default.Messages.HUB_DIRECTORY_SEARCH_TITLE),b(d.Text,{variant:"text-md/normal",className:m.default.searchSubtitle},void 0,y.default.Messages.HUB_DIRECTORY_SEARCH_SUBTITLE),b(l.default,{searchTerm:n,className:m.default.searchBox,inputClassName:m.default.searchBoxInput,closeIconClassName:m.default.closeIcon,searchIconClassName:m.default.searchIcon,label:y.default.Messages.DIRECTORY_SEARCH_PLACEHOLDER,placeholder:y.default.Messages.DIRECTORY_SEARCH_PLACEHOLDER,onChange:r,onClear:a,onKeyPress:i,cta:null!=n&&n.length>0?y.default.Messages.GUILD_DISCOVERY_SEARCH_ENTER_CTA:null}))))})),C=function(e){var t=e.channel,n=e.directoryEntries,r=e.handleCreateOrAddGuild,o=e.searchQuery,i=e.setSearchQuery,u=e.handleClearSearch,l=e.handleSearchKeyPress,_=e.currentCategoryId,g=e.handleSelectCategory,E=e.categoryCounts,O=e.allEntriesCount,S=e.isLoading,C=b(p.AddEntryCard,{onClick:r});return b("div",{
className:h.default.pageContainer},void 0,b(f.AdvancedScrollerAuto,{className:h.default.scroller},void 0,b(I,{searchQuery:o,setSearchQuery:i,handleClearSearch:u,handleSearchKeyPress:l}),b(f.AdvancedScrollerThin,{orientation:"horizontal"},void 0,b(c.default,{className:m.default.tabBar,type:c.default.Types.TOP,look:c.default.Looks.BRAND,selectedItem:_,onItemSelect:function(e){g(e)}},void 0,b(c.default.Item,{className:m.default.tabBarItem,id:v.DirectoryEntryCategories.ALL},v.DirectoryEntryCategories.ALL,y.default.Messages.DIRECTORY_CATEGORY_ALL+" ("+O+")"),(0,v.getHubCategories)(t.id).map((function(e){var t=e.value,n=e.label;return b(c.default.Item,{className:m.default.tabBarItem,id:t},t,n+" "+(null!=E[t]?"("+E[t]+")":""))})))),S&&null==n?b(s.default,{className:h.default.spinner}):null==n?void 0:n.map((function(e){return a.createElement(a.Fragment,null,void 0!==e.header?b(d.Text,{variant:"text-md/normal",className:m.default.sectionHeader},void 0,e.header):null,b("div",{
className:h.default.cardsContainer},void 0,e.entries.map((function(e){return b(p.default,{entry:e},e.guildId)})),e.appendEndCard&&null!=r?C:null))}))))};C.displayName="GuildDirectoryLanding";var T=C;t.default=T},1698:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.generateDirectoryRows=function(e,t){if(t!==o.DirectoryEntryCategories.ALL)return[{entries:(0,a.rankGuildEntries)(e),appendEndCard:!0}];var n=[],r=(0,a.rankByDateAdded)(e),u=new Set(r.map((function(e){return e.guildId})));r.length>0&&n.push({header:i.default.Messages.SEARCH_NEWEST,entries:r,appendEndCard:!1});var l=e.filter((function(e){return!u.has(e.guildId)}));(l=(0,a.orderByTotalMemberCount)(l)).length>0&&n.push({header:i.default.Messages.ALL_SERVERS,entries:l,appendEndCard:!0});return n};var r,a=n(448406),o=n(218044),i=(r=n(247001))&&r.__esModule?r:{default:r}},670539:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=m(n(151097)),o=m(n(16941)),i=n(772575),u=m(n(535813)),l=m(n(80828)),s=n(645758),c=m(n(204014)),d=n(582945),f=m(n(923117)),p=m(n(247001)),v=m(n(447763)),y=m(n(885735)),h=m(n(123451));function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var E=function(e){var t,n=e.searchQuery,r=e.setSearchQuery,m=e.mostRecentQuery,_=e.handleClearSearch,E=e.handleSearchKeyPress,O=e.handleCreateOrAddGuild,S=e.searchResults;if(e.searchFetching)t=g("div",{className:v.default.pageContainer},void 0,g(l.default,{className:v.default.spinner}));else if(0===S.length){var b=null!=O?p.default.Messages.DIRECTORY_SEARCH_NO_RESULTS_SUBTITLE.format({addServerHook:function(e,t){return g(a.default,{onClick:O},t,e)}}):p.default.Messages.DIRECTORY_SEARCH_NO_RESULTS_NO_ADD;t=g("div",{className:y.default.emptySearchWrapper},void 0,g("img",{className:y.default.emptySearchImage,alt:"",src:h.default}),g(i.Heading,{variant:"heading-xl/medium",color:"header-primary",className:y.default.emptySearchTitle,level:3
},void 0,p.default.Messages.DIRECTORY_SEARCH_NO_RESULTS_TITLE),g(s.Text,{variant:"text-md/normal",color:"header-secondary",className:y.default.emptySearchSubtitle},void 0,b))}else t=g("div",{className:v.default.cardsContainer},void 0,S.map((function(e){return g(f.default,{entry:e},e.guildId)})));return g("div",{className:v.default.pageContainer},void 0,g(d.ScrollerAuto,{className:v.default.scroller},void 0,g("div",{className:y.default.searchHeader},void 0,g("div",{className:y.default.headerTitleWrapper},void 0,g(o.default,{onClick:_,className:y.default.arrow},void 0,g(c.default,{direction:c.default.Directions.LEFT})),g(i.Heading,{variant:"heading-xl/medium",className:y.default.searchPageTitle,level:3},void 0,p.default.Messages.DIRECTORY_SEARCH_RESULTS_HEADER.format({numResults:S.length,query:m}))),g(u.default,{searchTerm:n,className:y.default.searchPageBox,inputClassName:y.default.searchPageInput,label:p.default.Messages.DIRECTORY_SEARCH_PLACEHOLDER,
placeholder:p.default.Messages.DIRECTORY_SEARCH_PLACEHOLDER,onChange:r,onClear:_,onKeyPress:E,cta:null!=n&&n.length>0?p.default.Messages.GUILD_DISCOVERY_SEARCH_ENTER_CTA:null})),t))};E.displayName="GuildDirectorySearchResults";var O=E;t.default=O},523024:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.DiscoveryInAppReportingExperiment=void 0;t.useCanSeeDiscoveryContextMenu=function(){var e=u.useExperiment({}).canSeeInAppReportingButtons,t=o.DeveloperMode.useSetting(),n=e||t;r.useEffect((function(){u.trackExposure({})}),[]);return n};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=a?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}r.default=e
;n&&n.set(e,r);return r}(n(667294)),a=n(373505),o=n(894826);function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}var u=(0,a.createExperiment)({kind:"user",id:"2022-01_discovery_iar",label:"Ability to report servers in Server Discovery",defaultConfig:{canSeeInAppReportingButtons:!1},treatments:[{id:1,label:"Show IAR buttons in Server Discovery",config:{canSeeInAppReportingButtons:!0}}]});t.DiscoveryInAppReportingExperiment=u},328092:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.DiscoveryTagsExperiment=void 0;var r=(0,n(373505).createExperiment)({kind:"user",id:"2021-11_discovery_tags",label:"Discovery Tags",defaultConfig:{shouldDisplayTags:!1,shouldDisplayRecommendedSearchTags:!1},treatments:[{id:1,label:"Show keyword tags on home and search result pages",config:{shouldDisplayTags:!0,shouldDisplayRecommendedSearchTags:!1}},{id:2,
label:"Show keyword tags on home and search result pages and under the search bar",config:{shouldDisplayTags:!0,shouldDisplayRecommendedSearchTags:!0}}]});t.DiscoveryTagsExperiment=r},332743:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=h(n(803949)),i=h(n(965419)),u=h(n(161679)),l=h(n(450474)),s=h(n(167646)),c=h(n(332282)),d=h(n(890422)),f=h(n(97751)),p=n(71246),v=n(227445),y=h(n(596964));function h(e){return e&&e.__esModule?e:{default:e}}function m(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=_(o.default,{}),E=_(i.default,{}),O=_(u.default,{}),S=_(l.default,{}),b=_(s.default,{}),I=_(c.default,{height:22,width:22}),C=_(d.default,{}),T=function(e){switch(e){case v.CategoryIcons.Activity:return g;case v.CategoryIcons.Discover:return E;case v.CategoryIcons.Education:return O;case v.CategoryIcons.Music:return S;case v.CategoryIcons.Science:return b;case v.CategoryIcons.Stage:return I;case v.CategoryIcons.Television:return C;default:(0,
p.assertNever)(e)}},A=function(e){var t=e.categories,n=e.currentCategoryId,r=e.handleCategorySelect,o=e.shouldDisplaySelectedCategory,i=void 0===o||o;return a.createElement(a.Fragment,null,t.map((function(e){return _(f.default,{avatar:T(e.icon),name:e.name,focusProps:{offset:{right:4,top:1,bottom:1}},onClick:function(){return r(e.categoryId)},wrapContent:!0,selected:i&&e.categoryId===n,className:y.default.categoryItem,selectedClassName:y.default.selectedCategoryItem,innerClassName:y.default.itemInner},e.categoryId)})))};A.Icons=v.CategoryIcons;var P=A;t.default=P},841354:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.DiscoverySidebarHeader=s;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a,o=n(772575),i=(r=n(45622))&&r.__esModule?r:{default:r};function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function s(e){var t=e.text;return l(o.Heading,{variant:"heading-xl/medium",className:i.default.discoverHeader,level:2},void 0,t)}s.displayName="DiscoverySidebarHeader"},734696:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=y(n(636602)),i=y(n(37039)),u=n(531254),l=y(n(275198)),s=y(n(2022)),c=n(772575),d=n(645758),f=y(n(684631)),p=n(770348),v=y(n(922179));function y(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3
;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}var g=[[1696,20],[1432,16],[1168,12],[0,8]],E=[[1696,30],[1432,24],[1168,18],[0,12]],O=function(e){var t=e.title,n=e.subtitle,r=e.guildsData,y=e.analyticsContext,h=e.theme,O=e.onViewGuild,S=e.fetchGuilds,b=e.onGuildCardSeen,I=e.currentCategoryId,C=e.loadId,T=e.onTagClick,A=e.showMoreCards,P=void 0!==A&&A;a.useEffect((function(){o.default.wait((function(){return S()}))}),[I]);var M=P?E:g,N=(0,f.default)(M),R=(0,i.default)().analyticsLocations;if(null==r)return null;var w=r.guilds,D=r.loading,L=null==w||0===w.length;if(!D&&L)return null;var k,j=function(){
var e,t=(e=regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,u.isAtGuildCapAndNonPremium)()){e.next=4;break}(0,l.default)({analyticsSource:{page:p.AnalyticsPages.GUILD_DISCOVERY},analyticsLocation:{page:p.AnalyticsPages.GUILD_DISCOVERY,section:p.AnalyticsSections.GUILD_CAP_UPSELL_MODAL},analyticsLocations:R});e.next=7;break;case 4:n=w.findIndex((function(e){return e.id===t}));e.next=7;return O(t,n,y,C);case 7:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){_(o,r,a,i,u,"next",e)}function u(e){_(o,r,a,i,u,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}();if(D||null==w){for(var U=[],G=0;G<N;G++)U.push(m(s.default.Placeholder,{},G));k=U}else k=w.slice(0,N).map((function(e){return m(s.default,{className:v.default.guildCard,guild:e,onView:j,theme:h,onGuildCardSeen:b,onTagClick:T},e.id)}))
;return m("section",{className:v.default.guildListSection},void 0,m(c.Heading,{className:v.default.title,variant:"heading-lg/medium",level:3},void 0,t),null!=n&&m(d.Text,{className:v.default.subtitle,variant:"text-sm/normal",color:"header-secondary"},void 0,n),m("div",{className:v.default.guildList},void 0,k))};O.displayName="DiscoverFeaturedGuildsSection";var S=O;t.default=S},473124:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.MAX_GUILDS_PER_PAGE=void 0;var r,a=I(n(667294)),o=S(n(496486)),i=S(n(817673)),u=n(536211),l=I(n(598319)),s=S(n(815428)),c=S(n(651386)),d=S(n(55027)),f=n(139982),p=S(n(199846)),v=S(n(16941)),y=n(772575),h=n(645758),m=S(n(204014)),_=I(n(465537)),g=n(227445),E=S(n(247001)),O=S(n(691288));function S(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function I(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var P=12;t.MAX_GUILDS_PER_PAGE=P;var M=function(){var e=(0,f.getHistory)().location.search
;return null!=e&&e.length>0&&e.startsWith("?")?i.default.parse(e):{}},N=function(e){var t=e.categoryId,n=e.categoryName,r=e.onClick,a=t===g.DISCOVERY_ALL_CATEGORIES_ID,o=a?E.default.Messages.GUILD_DISCOVERY_SEARCH_EMPTY_HEADER:E.default.Messages.GUILD_DISCOVERY_SEARCH_EMPTY_CATEGORY_HEADER.format({categoryName:n}),i=a?E.default.Messages.GUILD_DISCOVERY_SEARCH_EMPTY_BODY:E.default.Messages.GUILD_DISCOVERY_SEARCH_EMPTY_CATEGORY_BODY.format({onClick:r});return A("div",{className:O.default.emptyContainer},void 0,A("div",{className:O.default.emptyImage}),A(y.Heading,{variant:"heading-xl/medium",className:O.default.emptyHeader,level:3},void 0,o),A(h.Text,{variant:"text-md/normal",color:"header-secondary"},void 0,i))};N.displayName="EmptySearchResults";var R=function(){return A("div",{className:O.default.emptyContainer},void 0,A("div",{className:O.default.errorImage}),A(h.Text,{variant:"text-md/normal",color:"header-secondary",className:O.default.emptyHeader
},void 0,E.default.Messages.GUILD_DISCOVERY_SEARCH_ERROR))};R.displayName="ErrorState";var w=A(R,{}),D=function(e){var t=e.loadId,n=e.searchResults,r=e.mostRecentQuery,i=e.defaultLanguage,f=e.availableLanguages,h=e.isFetchingSearch,S=e.scroller,b=e.loadingGuildId,I=e.theme,T=e.currentCategoryId,R=e.currentCategoryName,D=e.onViewGuild,L=e.onGuildCardSeen,k=e.placeholder,j=e.onTagClick,U=o.default.uniqueId("GuildDiscovery"),G=n.guilds,F=n.loading,x=n.total,W=C(a.useState(!1),2),B=W[0],V=W[1],H=M().tag,Y=C(a.useState(H),2),z=Y[0],K=Y[1],$=(0,u.useStateFromStores)([p.default],(function(){return p.default.hasSearchError()})),q=function(e,t,n){l.doAlgoliaSearch(r,{categoryId:n?g.DISCOVERY_ALL_CATEGORIES_ID:T,preferredLocale:i.code,offset:e,length:t,filters:{approximate_member_count:_.MINIMUM_MEMBER_COUNT}});V(!1)};a.useEffect((function(){var e=M(),t=e.offset,n=e.tag,r=null!=t?Math.floor(parseInt(t,10)/P)+1:1;K(!!n);1===r&&V(!0)}),[r])
;var X=T===g.DISCOVERY_ALL_CATEGORIES_ID?E.default.Messages.GUILD_DISCOVERY_SEARCH_RESULTS_HEADER.format({count:null!=x?x.toLocaleString():"0",query:r}):E.default.Messages.GUILD_DISCOVERY_SEARCH_RESULTS_CATEGORY_HEADER.format({count:null!=x?x.toLocaleString():"0",query:r,category:R});return A("div",{className:O.default.container},void 0,A("div",{className:O.default.searchHeader},void 0,A(v.default,{onClick:function(){l.clearSearch();_.trackSearchClosed(t)},className:O.default.arrow,"aria-label":E.default.Messages.BACK},void 0,A(m.default,{direction:m.default.Directions.LEFT})),A(y.Heading,{variant:"heading-xl/medium",className:O.default.header,level:3},void 0,X)),A(c.default,{loadId:t,searchResults:n,mostRecentQuery:r,isFetchingSearch:h,defaultLanguage:i,placeholder:k,availableLanguages:f,isSearchPage:!0,currentCategoryId:T,isTagSearch:z}),$?w:x<=0?A(N,{categoryId:T,categoryName:R,onClick:function(){l.selectCategory(g.DISCOVERY_ALL_CATEGORIES_ID);q(0,P,!0)}}):A("div",{
className:O.default.results},void 0,A(s.default,{pageSize:P,totalCount:x,resetCurrentPage:B,onPageChange:function(e){q((e-1)*P,P);null==S||S.scrollTo({to:0})}},void 0,(function(e){var t=e.controller;return A("section",{"aria-labelledby":U},void 0,A(d.default,{guilds:G,loading:F,loadingPlaceholderCount:P,onViewGuild:D,loadingGuildId:b,theme:I,analyticsContext:_.AnalyticsContexts.SEARCH,onGuildCardSeen:L,onTagClick:j}),t)}))))};D.displayName="DiscoverSearchResults";var L=D;t.default=L},184767:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GuildDiscoveryMenuPopout=void 0;t.default=O;g(n(667294));var r,a=n(536211),o=n(378158),i=m(n(730487)),u=n(837797),l=g(n(145122)),s=m(n(30098)),c=m(n(689389)),d=m(n(160629)),f=m(n(907509)),p=n(523024),v=n(770348),y=n(474477),h=m(n(247001));function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}
function g(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function O(e){var t=e.guild,n=e.shiftId,r=e.onSelect,d=e.closePopout,m=e["aria-label"],_=(0,i.default)(t.id,n,void 0,d),g=(0,
a.useStateFromStores)([s.default],(function(){return s.default.getGuild(t.id)}),[t.id]),O=(0,a.useStateFromStores)([c.default],(function(){return c.default.can(v.Permissions.ADMINISTRATOR,g)})),S=p.DiscoveryInAppReportingExperiment.useExperiment({}).canSeeInAppReportingButtons;return E(l.default,{onSelect:r,navId:"guild-discovery-context-menu","aria-label":null!=m?m:h.default.Messages.GENERIC_ACTIONS_MENU_LABEL,onClose:o.closeContextMenu},void 0,E(l.MenuGroup,{},void 0,!O&&S?E(l.MenuItem,{id:"report-guild-discovery-listing",label:h.default.Messages.REPORT_SERVER_NO_NAME,action:function(){(0,u.showReportModalForDiscoverableGuild)(t);!function(){(0,o.closeContextMenu)();null==d||d()}()},icon:f.default,color:y.MenuItemColor.DANGER}):null),E(l.MenuGroup,{},void 0,_))}O.displayName="GuildDiscoveryContextMenu";var S=function(e){var t=e.guild,n=e.children,r=e.onRequestOpen,a=e.onRequestClose;return E(d.default,{onRequestOpen:r,onRequestClose:a,animation:d.default.Animation.NONE,
position:d.default.Positions.BOTTOM,spacing:4,align:d.default.Align.RIGHT,renderPopout:function(e){var n=e.closePopout;return E(O,{guild:t,closePopout:n})}},void 0,n)};t.GuildDiscoveryMenuPopout=S;S.displayName="GuildDiscoveryMenuPopout"},167739:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=v;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=c(n(964285)),o=c(n(735172)),i=c(n(142024)),u=n(770348),l=c(n(247001)),s=c(n(722100));function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=f("img",{alt:"",src:c(n(694111)).default});function v(e){var t=e.guild,n=e.markAsDismissed;return f(i.default,{onComponentMount:function(){return o.default.trackExposure({guildId:t.id})},header:l.default.Messages.DISCOVERY_LANDING_PAGE_UPSELL_TITLE,content:l.default.Messages.DISCOVERY_LANDING_PAGE_UPSELL_DESCRIPTION,asset:f("div",{className:s.default.image},void 0,p),buttonCTA:l.default.Messages.DISCOVERY_LANDING_PAGE_UPSELL_BUTTON_ACCEPT,onClick:function(e){!function(e,t){
t&&a.default.open(e.id,u.GuildSettingsSections.DISCOVERY_LANDING_PAGE)}(t,!0)},secondaryButtonCTA:l.default.Messages.DISCOVERY_LANDING_PAGE_UPSELL_BUTTON_DISMISS,onSecondaryClick:function(){},markAsDismissed:n})}v.displayName="GuildDiscoveryLandingPageSettingsTooltip"},638098:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=y;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=f(n(956117)),i=n(772575),u=n(645758),l=n(294126),s=n(583551),c=f(n(247001)),d=f(n(812099));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e){var t=e.onClick,n=e.onSecondaryClick,r=e.onComponentMount,f=e.markAsDismissed;a.useEffect((function(){null==r||r()}),[r]);var p=a.useCallback((function(e){t(e);null==f||f(s.ContentDismissActionType.PRIMARY)}),[t,f]),y=a.useCallback((function(){null==n||n();null==f||f(s.ContentDismissActionType.SECONDARY)}),[n,f]);return v("div",{className:d.default.tooltipWrapper},void 0,v(i.Heading,{className:d.default.tooltipHeader,
variant:"heading-md/medium",level:3},void 0,c.default.Messages.SERVER_DISCOVERY_TOOLTIP_TITLE),v(u.Text,{className:d.default.tooltipText,variant:"text-sm/normal"},void 0,c.default.Messages.SERVER_DISCOVERY_TOOLTIP_DESCRIPTION.format({count:l.LOWERED_MINIMUM_SIZE})),v("div",{className:d.default.buttonsContainer},void 0,v(o.default,{fullWidth:!0,size:o.default.Sizes.SMALL,color:o.default.Colors.BRAND,onClick:p},void 0,c.default.Messages.LEARN_MORE),v(o.default,{fullWidth:!0,size:o.default.Sizes.SMALL,look:o.default.Looks.BLANK,onClick:y},void 0,c.default.Messages.NO_THANKS)))}y.displayName="GuildHeaderDiscoveryTooltip"},648831:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.DiscoverSearchResultPlaceholder=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=M(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=P(n(294184)),i=n(378158),u=n(263996),l=P(n(37039)),s=n(800055),c=n(531254),d=P(n(275198)),f=P(n(16941)),p=P(n(189950)),v=n(772575),y=P(n(80828)),h=n(645758),m=P(n(272544)),_=P(n(692711)),g=n(465537),E=n(523024),O=n(328092),S=P(n(886836)),b=n(770348),I=P(n(247001)),C=P(n(895889)),T=P(n(860321)),A=P(n(145792));function P(e){return e&&e.__esModule?e:{default:e}}function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(M=function(e){return e?n:t})(e)}function N(){N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return N.apply(this,arguments)}function R(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e)
;return}u.done?t(l):Promise.resolve(l).then(r,a)}function w(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){R(o,r,a,i,u,"next",e)}function u(e){R(o,r,a,i,u,"throw",e)}i(void 0)}))}}function D(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var j=function(){return k("div",{className:C.default.placeholder})};t.DiscoverSearchResultPlaceholder=j;j.displayName="DiscoverSearchResultPlaceholder";var U=function(e){
var t,r,P,M,R=e.guild,L=e.theme,j=e.onView,U=e.onTagClick,G=R.id,F=R.discoverySplash,x=R.icon,W=R.name,B=R.description,V=R.presenceCount,H=R.memberCount,Y=R.keywords,z=D(a.useState(!1),2),K=z[0],$=z[1],q=D(a.useState(!1),2),X=q[0],Q=q[1],Z=(0,l.default)().analyticsLocations,J=_.default.getGuildDiscoverySplashURL({id:G,splash:F,size:240*(0,s.getDevicePixelRatio)()}),ee=null!=J?J:function(e){switch(e){case b.ThemeTypes.DARK:return T.default;case b.ThemeTypes.LIGHT:return A.default}}(L),te=null!==(t=_.default.getGuildIconURL({id:G,icon:x,size:32}))&&void 0!==t?t:void 0,ne=function(){var e=w(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target;if(!n.className.includes("Menu")){e.next=3;break}return e.abrupt("return");case 3:if(!(0,c.isAtGuildCapAndNonPremium)()){e.next=6;break}(0,d.default)({analyticsSource:{page:b.AnalyticsPages.GUILD_DISCOVERY},analyticsLocation:{page:b.AnalyticsPages.GUILD_DISCOVERY,
section:b.AnalyticsSections.GUILD_CAP_UPSELL_MODAL},analyticsLocations:Z});return e.abrupt("return");case 6:Q(!0);e.prev=7;e.t0=null!=j;if(!e.t0){e.next=12;break}e.next=12;return j(R.id);case 12:e.prev=12;Q(!1);return e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[7,,12,15]])})));return function(t){return e.apply(this,arguments)}}();a.useEffect((function(){return O.DiscoveryTagsExperiment.trackExposure({})}));var re=O.DiscoveryTagsExperiment.useExperiment({}).shouldDisplayTags,ae=(0,E.useCanSeeDiscoveryContextMenu)();return a.createElement(a.Fragment,null,k("div",{className:C.default.card},void 0,X?k(y.default,{type:y.default.Type.PULSING_ELLIPSIS,className:C.default.spinner}):null,k(f.default,{className:(0,o.default)(C.default.container,(r={},r[C.default.hover]=K,r[C.default.submitting]=X,r)),onClick:ne,onContextMenu:function(e){(0,i.openContextMenuLazy)(e,w(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){
for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,184767));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,N({},e,{guild:R}))}));case 5:case"end":return e.stop()}}),e)}))))},onMouseEnter:function(){return $(!0)},onMouseLeave:function(){return $(!1)}},void 0,k("div",{className:(0,o.default)(C.default.splashContainer,(P={},P[C.default.splashContainerWithTags]=re,P))},void 0,k("img",{src:ee,alt:"",className:C.default.splashImage,width:240})),k("div",{className:(0,o.default)(C.default.content,(M={},M[C.default.contentWithTags]=re,M))},void 0,k("div",{className:C.default.header},void 0,k(m.default,{mask:m.default.Masks.SQUIRCLE,width:32,height:32},void 0,k("img",{src:te,alt:"",className:C.default.avatar})),k("div",{className:C.default.headerName},void 0,k(p.default,{guild:R,className:C.default.guildBadge}),k(v.Heading,{variant:"heading-md/medium",className:C.default.headerTitle,level:3},void 0,W))),k(h.Text,{
className:C.default.description,variant:"text-sm/normal"},void 0,B),re&&Y&&U&&k(u.DiscoveryTags,{guildId:R.id,discoveryTagStyle:u.DiscoveryTagStyle.ALT,onTagClick:function(e){return U(e,R.id)},tags:Y,section:g.AnalyticsContexts.SEARCH}),k("div",{className:C.default.memberInfo},void 0,null!=V&&k("div",{className:C.default.memberCount},void 0,k(h.Text,{variant:"text-xs/normal",color:"header-secondary"},void 0,I.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_ONLINE.format({membersOnline:V}))),null!=H&&a.createElement(a.Fragment,null,k("div",{className:C.default.dotSeparator}),k("div",{className:C.default.memberCount},void 0,k(h.Text,{variant:"text-xs/normal",color:"header-secondary"},void 0,I.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_TOTAL.format({count:H})))))),ae?k("div",{className:C.default.actionButtons},void 0,k(S.default,{guild:R})):null)),k("hr",{className:C.default.separator}))};t.default=U},886836:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.default=void 0;var r,a=h(n(667294)),o=v(n(294184)),i=v(n(730977)),u=v(n(775803)),l=h(n(962989)),s=n(184767),c=v(n(247001)),d=v(n(498154)),f=["onClick"],p=["onClick"];function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function m(){m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return m.apply(this,arguments)
}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return
;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e){var t,n=e.guild,r=E(a.useState(!1),2),v=r[0],y=r[1],h=a.useCallback((function(){return y(!0)}),[y]),O=a.useCallback((function(){return y(!0)}),[y]);return _("div",{className:(0,o.default)(d.default.actionButtonsContainer,(t={},t[d.default.forceButtonsShow]=v,t))},void 0,_(l.default,{},void 0,_(s.GuildDiscoveryMenuPopout,{onRequestOpen:h,onRequestClose:O,guild:n},void 0,(function(e){var t=e.onClick,n=g(e,f)
;return _(i.default,{text:c.default.Messages.MORE,hideOnClick:!0},void 0,(function(e){var r=e.onClick,o=g(e,p);return a.createElement(l.Button,m({},n,o,{onClick:function(e){e.stopPropagation();null==r||r();t(e)},"aria-label":c.default.Messages.MORE}),_(u.default,{className:d.default.overflowIcon}))}))}))))}S.displayName="DiscoveryCardActionButtons";var b=S;t.default=b},684631:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=o(r.useState(0),2),n=t[0],a=t[1],u=r.useCallback((function(){for(var t,n=window.innerWidth,r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=i(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}
throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(e);!(t=r()).done;){var u=o(t.value,2),l=u[0],s=u[1];if(n>=l){a(s);return}}}),[e]);r.useEffect((function(){u()}),[u]);r.useEffect((function(){window.addEventListener("resize",u);return function(){window.removeEventListener("resize",u)}}));return n};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=o?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(r,i,u):r[i]=e[i]}r.default=e;n&&n.set(e,r);return r}(n(667294));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}
function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},730034:(e,t,n)=>{
"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(684769),i=n(770348);var u={init:function(){a.default.subscribe(i.ActionTypes.CONNECTION_OPEN,(function(){(0,o.reset)()}));a.default.subscribe(i.ActionTypes.LOGOUT,(function(){(0,o.reset)()}))}};t.default=u},802922:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.DismissibleContentNotices=void 0;var r,a=I(n(667294)),o=n(536211),i=n(923387),u=n(483559),l=S(n(226800)),s=S(n(155502)),c=S(n(754416)),d=S(n(29864)),f=S(n(877454)),p=S(n(296005)),v=S(n(11888)),y=n(194322),h=I(n(177101)),m=S(n(308920)),_=S(n(305081)),g=n(770348),E=S(n(247001)),O=S(n(202192));function S(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function I(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{
default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function C(){C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return C.apply(this,arguments)}function T(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function A(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){T(o,r,a,i,u,"next",e)}function u(e){T(o,r,a,i,u,"throw",e)}i(void 0)}))}}function P(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var M=function(e){var t=e.dismissibleContent,r=e.noticeType,S=(0,o.useStateFromStores)([p.default],(function(){return p.default.getNotice()}));return P(_.default,{contentTypes:[t]},void 0,(function(e){var t=e.visibleContent,o=e.markAsDismissed;switch(t){case i.DismissibleContent.NAGBAR_NOTICE_DOWNLOAD:return P(h.default,{color:h.NoticeColors.DEFAULT},void 0,P(h.NoticeCloseButton,{onClick:o,noticeType:r}),E.default.Messages.NOTICE_NATIVE_APPS_2020_06,P("i",{className:O.default.iconApple}),P("i",{className:O.default.iconAndroid}),P("i",{className:O.default.iconWindows}),P(h.PrimaryCTANoticeButton,{noticeType:r,onClick:function(){(0,
y.openModalLazy)(A(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,529600));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,C({source:"Top Bar Nag"},e))}));case 5:case"end":return e.stop()}}),e)}))))}},void 0,E.default.Messages.DOWNLOAD));case i.DismissibleContent.NAGBAR_NOTICE_CONNECT_SPOTIFY:return P(h.default,{color:h.NoticeColors.SPOTIFY},void 0,P(h.NoticeCloseButton,{onClick:o,noticeType:r}),P(v.default,{className:O.default.platformIcon}),E.default.Messages.NOTICE_CONNECT_SPOTIFY,P(h.PrimaryCTANoticeButton,{onClick:function(){return(0,c.default)(g.PlatformTypes.SPOTIFY,"Notice Bar")},noticeType:r},void 0,E.default.Messages.CONNECT));case i.DismissibleContent.NAGBAR_NOTICE_CONNECT_PLAYSTATION:return P(h.default,{color:h.NoticeColors.PLAYSTATION},void 0,P(h.NoticeCloseButton,{onClick:o}),P("img",{alt:"",
className:O.default.platformIcon,src:s.default.get(g.PlatformTypes.PLAYSTATION).icon.whiteSVG}),E.default.Messages.NOTICE_CONNECT_PLAYSTATION,P(h.NoticeButton,{onClick:function(){return(0,c.default)(g.PlatformTypes.PLAYSTATION,"Notice Bar")}},void 0,E.default.Messages.CONNECT));case i.DismissibleContent.NAGBAR_NOTICE_MFA_SMS_BACKUP:return P(h.default,{color:h.NoticeColors.DEFAULT},void 0,P(h.NoticeCloseButton,{onClick:o,noticeType:r}),E.default.Messages.NOTICE_MFA_SMS_BACKUP,P(h.PrimaryCTANoticeButton,{onClick:function(){return l.default.open(g.UserSettingsSections.ACCOUNT)},noticeType:r},void 0,E.default.Messages.NOTICE_MFA_SMS_BACKUP_BUTTON));case i.DismissibleContent.NAGBAR_NOTICE_PREMIUM_PROMO:return P(h.default,{color:h.NoticeColors.PREMIUM_TIER_2},void 0,P("span",{className:O.default.premiumLogo}),P("span",{className:O.default.premiumText},void 0,E.default.Messages.NOTICE_PREMIUM_PROMO_MESSAGE),P(h.PrimaryCTANoticeButton,{className:O.default.premiumAction,noticeType:r,
onClick:function(){m.default.track(g.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location_section:g.AnalyticsSections.NOTIFICATION_BAR,location_object:g.AnalyticsObjects.BUTTON_CTA});l.default.open(g.UserSettingsSections.PREMIUM)}},void 0,E.default.Messages.NOTICE_PREMIUM_PROMO_ACTION),P(h.NoticeCloseButton,{onClick:function(){o();(0,u.setFlag)(g.UserFlags.PREMIUM_PROMO_DISMISSED,!0)},noticeType:r}));case i.DismissibleContent.NAGBAR_NOTICE_PREMIUM_TIER_TWO_TRIAL_ENDING:return P(f.default,{dismissCurrentNotice:o});case i.DismissibleContent.NAGBAR_NOTICE_PREMIUM_REACTIVATE:return P(h.default,{color:h.NoticeColors.PREMIUM_TIER_2},void 0,P(h.NoticeCloseButton,{noticeType:r,onClick:o}),E.default.Messages.PREMIUM_SUBSCRIPTION_REACTIVATION_NOTICE_TEXT,P(h.PrimaryCTANoticeButton,{noticeType:r,onClick:function(){o();l.default.open(g.UserSettingsSections.PREMIUM)}},void 0,E.default.Messages.PREMIUM_SUBSCRIPTION_REACTIVATION_NOTICE_BUTTON_TEXT))
;case i.DismissibleContent.NAGBAR_NOTICE_LOCALIZED_PRICING:return P(d.default,{notice:S,noticeType:r,dismissCurrentNotice:o})}}))};t.DismissibleContentNotices=M;M.displayName="DismissibleContentNotices"},528831:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.allowMessagesFromSpamUser=function(e){a.default.dispatch({type:o.ActionTypes.ALLOW_SPAM_MESSAGES_FOR_USER,userId:e})};t.hideMessagesFromSpamUser=function(e){a.default.dispatch({type:o.ActionTypes.HIDE_SPAM_MESSAGES_FOR_USER,userId:e})};var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(770348)},448673:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=u(n(536211)),o=u(n(636602)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var s=new Set;var c=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e)
;function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(e){null!=e&&(s=new Set(e))};n.hasAllowedSpamUser=function(e){return s.has(e)};n.getState=function(){return s};return t}(a.default.PersistedStore);c.displayName="SpamMessageAcceptStore";c.persistKey="SpamMessageAcceptStore";var d=new c(o.default,((r={})[i.ActionTypes.ALLOW_SPAM_MESSAGES_FOR_USER]=function(e){var t=e.userId;s.add(t)},r[i.ActionTypes.HIDE_SPAM_MESSAGES_FOR_USER]=function(e){var t=e.userId;s.delete(t)},r));t.default=d},78528:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useDisplayDMSpamBanner=function(e){var t=e.isDM()&&!e.isSystemDM()&&!e.rawRecipients.some((function(e){return e.bot})),n=(0,r.useStateFromStores)([o.default],(function(){var t;return!0===(null===(t=o.default.getUser(e.getRecipientId()))||void 0===t?void 0:t.hasFlag(u.UserFlags.SPAMMER))}),[e]),l=(0,r.useStateFromStores)([a.default],(function(){return a.default.getMessages(e.id).length>0
}),[e]),s=(0,r.useStateFromStores)([i.default],(function(){return i.default.hasAllowedSpamUser(e.getRecipientId())}),[e]);return t&&n&&l&&!s};var r=n(536211),a=l(n(201292)),o=l(n(728429)),i=l(n(448673)),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}},105149:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SenderSpammerBanner=C;E(n(667294));var r,a=n(536211),o=_(n(190040)),i=_(n(709403)),u=_(n(237923)),l=n(960736),s=_(n(728429)),c=E(n(956117)),d=n(767019),f=n(143586),p=_(n(308920)),v=n(528831),y=n(770348),h=_(n(247001)),m=_(n(157358));function _(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function E(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function O(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function S(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function b(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){S(o,r,a,i,u,"next",e)}function u(e){S(o,r,a,i,u,"throw",e)}i(void 0)}))}}var I=n(513157);function C(e){
var t=e.channel,n=t.getRecipientId(),r=(0,a.useStateFromStores)([s.default],(function(){var e=s.default.getUser(n);return null!=e?e.username:null})),_=function(){var e=b(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.default.track(y.AnalyticEvents.DM_SAFETY,{channel_id:t.id,channel_type:t.type,safety_prompt:"DMSpamExperiment",response:"block_modal_cancel_click"});e.next=3;return i.default.closePrivateChannel(t.id,!0);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=b(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.default.track(y.AnalyticEvents.DM_SAFETY,{channel_id:t.id,channel_type:t.type,safety_prompt:"DMSpamExperiment",response:"block_modal_block_click"});e.next=3;return u.default.addRelationship({userId:n,context:{location:"DMSpamModal"},type:y.RelationshipTypes.BLOCKED})
;case 3:e.next=5;return i.default.closePrivateChannel(t.id,!0);case 5:(0,f.showToast)((0,d.createToast)(h.default.Messages.SPAMMER_BLOCKED.format({username:r}),d.ToastType.SUCCESS));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return O(l.MessageNoticeBanner,{bannerIcon:I,bannerHeader:h.default.Messages.ACCEPT_SPAM_DM_HEADER,bannerSubtext:h.default.Messages.ACCEPT_SPAM_DM_SUBTEXT},void 0,O(c.default,{className:m.default.largeButton,look:c.default.Looks.LINK,size:c.default.Sizes.SMALL,color:c.default.Colors.TRANSPARENT,onClick:function(){p.default.track(y.AnalyticEvents.DM_SAFETY,{channel_id:t.id,channel_type:t.type,safety_prompt:"DMSpamExperiment",response:"not_spam"});(0,v.allowMessagesFromSpamUser)(n)}},void 0,h.default.Messages.REPORT_NOT_SPAM),O(c.default,{className:m.default.largeButton,look:c.default.Looks.FILLED,size:c.default.Sizes.SMALL,color:c.ButtonColors.RED,onClick:function(){p.default.track(y.AnalyticEvents.DM_SAFETY,{
channel_id:t.id,channel_type:t.type,safety_prompt:"DMSpamExperiment",response:"close_channel_click"});o.default.show({title:h.default.Messages.BLOCK_SPAMMER_HEADER,body:h.default.Messages.BLOCK_SPAMMER_SUBHEADER.format({username:r}),onCancel:_,cancelText:h.default.Messages.CANCEL,onConfirm:g,confirmText:h.default.Messages.BLOCK});i.default.closePrivateChannel(t.id,!0)}},void 0,h.default.Messages.CLOSE_DM))}C.displayName="SenderSpammerBanner"},916239:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=[{keybinds:["Spacebar","Enter"],name:d.default.Messages.DND_OPERATION_LABEL_DROP},{keybinds:["up","down"],name:d.default.Messages.DND_OPERATION_LABEL_MOVE},{keybinds:["ESC"],name:d.default.Messages.DND_OPERATION_LABEL_CANCEL}],t=(0,i.useStateFromStores)([u.default],(function(){return u.default.useReducedMotion})),n=(0,c.useDndMode)();return(0,o.useTransition)(n,{enter:{from:{opacity:0,y:t?0:80},to:{opacity:1,y:0}},leave:{opacity:0,y:t?0:80},
config:o.config.stiff})((function(t,n){return n?y("div",{className:f.default.positioner},void 0,y(o.animated.div,{className:f.default.container,style:t},void 0,e.map((function(t,n){var r=t.keybinds,o=t.name;return y(a.Fragment,{},o,y(s.Text,{variant:"text-md/normal",className:f.default.bindName},void 0,o),r.map((function(e){return y(l.default,{shortcut:e,className:f.default.shortcut},e)})),n<e.length-1?y("span",{className:f.default.separator}):null)})))):null}))};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=n(248088),i=n(536211),u=p(n(235879)),l=p(n(749666)),s=n(645758),c=n(412317),d=p(n(247001)),f=p(n(923947));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},480519:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=u(n(636602)),a=u(n(177230)),o=n(754126),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){
e.__proto__=t;return e};return l(e,t)}function s(e){var t=e.channel.id;(0,o.removeFavoriteChannel)(t)}var c=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){r.default.subscribe(i.ActionTypes.CHANNEL_DELETE,s)};n._terminate=function(){r.default.unsubscribe(i.ActionTypes.CHANNEL_DELETE,s)};return t}(a.default));t.default=c},978664:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){return(0,r.useStateFromStores)([o.default,a.default,i.default],(function(){if(e!==u.FAVORITES)return o.default.getVoiceStates(e);var t=i.default.getFavoriteChannels(),n={};for(var r in t){var l=a.default.getChannel(r);null!=l&&(n[r]=o.default.getVoiceStatesForChannel(l))}return n}),[e])};var r=n(536211),a=l(n(644263)),o=l(n(487372)),i=l(n(982879)),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}},
526098:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=d;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(598671),i=n(770348),u=(r=n(247001))&&r.__esModule?r:{default:r},l=["className"];function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return c.apply(this,arguments)}function d(e){
var t=e.className,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,l);return a.createElement(o.TextBadge,c({},n,{text:u.default.Messages.BETA,color:i.Colors.BRAND,className:t}))}d.displayName="BetaTag"},265328:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=f(n(294184)),i=f(n(956117)),u=n(645758),l=f(n(308920)),s=n(770348),c=f(n(247001)),d=f(n(495188));function f(e){return e&&e.__esModule?e:{default:e
}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var y=a.forwardRef((function(e,t){var n,r=e.closePopout,f=e.body,p=e.header,y=e.artClassName,h=e.tryItText,m=e.onTryFeature,_=e.analyticsName,g=e.analyticsSection,E=e.className;a.useEffect((function(){l.default.track(s.AnalyticEvents.UPSELL_VIEWED,{type:s.DesktopUpsellTypes.FEATURE_EDUCATION_TOOLTIP,subtype:_,location_section:g})}),[]);function O(e){l.default.track(s.AnalyticEvents.UPSELL_CLICKED,{
type:s.DesktopUpsellTypes.FEATURE_EDUCATION_TOOLTIP,subtype:_,action:e,location_section:g})}return a.createElement("div",{className:(0,o.default)(d.default.container,E),ref:t},v("div",{className:(0,o.default)(d.default.content,(n={},n[d.default.contentNoArt]=null==y,n))},void 0,v("div",{className:(0,o.default)(y,d.default.art)}),v(u.Text,{className:d.default.headerText,variant:"text-md/normal",color:"none"},void 0,p),v("div",{className:d.default.bodyContainer},void 0,null==f?null:"string"==typeof f?v(u.Text,{className:d.default.bodyText,variant:"text-sm/normal",color:"none"},void 0,f):f),null!=m?a.createElement(a.Fragment,null,v(i.default,{className:d.default.tryButton,size:i.default.Sizes.MAX,onClick:function(){r();m();O(s.UpsellActionTypes.PRIMARY)},color:i.default.Colors.WHITE},void 0,null!=h?h:c.default.Messages.EDUCATION_NEW_FEATURE_TRY_IT),v(i.default,{className:d.default.dismissButton,size:i.default.Sizes.MAX,onClick:function(){r();O(s.UpsellActionTypes.DISMISS)},
color:i.default.Colors.BRAND},void 0,c.default.Messages.EDUCATION_NEW_FEATURE_DISMISS)):v(i.default,{className:d.default.confirmButton,size:i.default.Sizes.MAX,onClick:function(){r();O(s.UpsellActionTypes.PRIMARY)},color:i.default.Colors.WHITE},void 0,c.default.Messages.EDUCATION_NEW_FEATURE_CONFIRM),v("div",{className:d.default.pointer})))}));t.default=y},455002:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.FeedbackTypePrecedence=t.FeedbackType=t.FeedbackRating=t.FEEDBACK_FREEFORM_LENGTH=void 0;function n(){n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return n.apply(this,arguments)}var r;t.FeedbackRating=r;!function(e){e.BAD="bad";e.NEUTRAL="neutral";e.GOOD="good"}(r||(t.FeedbackRating=r={}));var a;t.FEEDBACK_FREEFORM_LENGTH=1024;t.FeedbackType=a;!function(e){e[e.VOICE=0]="VOICE";e[e.STREAM=1]="STREAM"
;e[e.VIDEO_BACKGROUND=2]="VIDEO_BACKGROUND";e[e.ACTIVITY=3]="ACTIVITY"}(a||(t.FeedbackType=a={}));var o=[a.VIDEO_BACKGROUND,a.ACTIVITY,a.STREAM,a.VOICE].reduce((function(e,t,r){var a;return n({},e,((a={})[t]=r,a))}),{});t.FeedbackTypePrecedence=o},755540:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=d(n(496486)),o=d(n(972247)),i=d(n(177230)),u=n(6505),l=d(n(652566)),s=d(n(893160)),c=n(455002);function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){f=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return f(e,t)}function p(){p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return p.apply(this,arguments)}var v={chance:.2,cooldown:864e5},y=((r={})[c.FeedbackType.VOICE]=p({},v,{hotspot:u.HotspotLocations.VOICE_CALL_FEEDBACK,storageKey:"lastVoiceFeedback",eligibilityChecks:[function(e){
if(!s.default.getWasEverRtcConnected())return!0;return s.default.getWasEverMultiParticipant()}]}),r[c.FeedbackType.STREAM]=p({},v,{hotspot:u.HotspotLocations.REPORT_PROBLEM_POST_STREAM}),r[c.FeedbackType.VIDEO_BACKGROUND]=p({},v,{hotspot:u.HotspotLocations.VIDEO_BACKGROUND_FEEDBACK,storageKey:"lastVideoBackgroundFeedback"}),r[c.FeedbackType.ACTIVITY]={cooldown:0,chance:1,hotspot:u.HotspotLocations.POST_ACTIVITY_FEEDBACK,storageKey:"lastActivityFeedback"},r);function h(e){return l.default.hasHotspot(e.hotspot)}function m(e){return Math.random()<e.chance}function _(e){if(null!=e.storageKey){var t=o.default.get(e.storageKey);if(null!=t&&Date.now()-t<e.cooldown)return!1}return!0}function g(e){var t=y[e];null!=t.storageKey&&o.default.set(t.storageKey,Date.now())}var E=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;f(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o]
;(t=e.call.apply(e,[this].concat(r))||this).feedbackTypeToShow=null;t.showFeedbackModalDebounced=a.default.debounce((function(e){if(null!=t.feedbackTypeToShow){g(t.feedbackTypeToShow);t.feedbackTypeToShow=null;e()}}),200);return t}t.prototype.possiblyShowFeedbackModal=function(e,t){if(function(e){var t,n=y[e],r=[_,m,h],a=null!==(t=n.eligibilityChecks)&&void 0!==t?t:[];return r.every((function(e){return e(n)}))&&a.every((function(e){return e(n)}))}(e)&&!(null!=this.feedbackTypeToShow&&c.FeedbackTypePrecedence[this.feedbackTypeToShow]<c.FeedbackTypePrecedence[e])){this.feedbackTypeToShow=e;this.showFeedbackModalDebounced(t)}};return t}(i.default);t.default=E},41194:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.shuffleProblems=void 0;var r,a=(r=n(496486))&&r.__esModule?r:{default:r};t.shuffleProblems=function(e,t){var n=a.default.shuffle(e),r=n.findIndex((function(e){return e.value===t}));if(r>-1){var o=n[r];n.splice(r,1);n.push(o)}return n}},697786:(e,t,n)=>{
"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=O(n(667294)),a=g(n(636602)),o=n(747868),i=n(10614),u=g(n(902305)),l=g(n(423046)),s=g(n(644263)),c=g(n(288356)),d=g(n(788739)),f=g(n(893160)),p=g(n(359973)),v=O(n(194322)),y=g(n(755540)),h=n(455002),m=n(770348),_=n(371621);function g(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function O(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function S(){S=Object.assign||function(e){
for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return S.apply(this,arguments)}function b(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function I(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){b(o,r,a,i,u,"next",e)}function u(e){b(o,r,a,i,u,"throw",e)}i(void 0)}))}}function C(e,t){C=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return C(e,t)}var T=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;C(e,t)}(t,e);function t(){for(var t,a=arguments.length,y=new Array(a),g=0;g<a;g++)y[g]=arguments[g];(t=e.call.apply(e,[this].concat(y))||this).handleVoiceChannelFeedback=function(e){var a=e.analyticsData;t.possiblyShowFeedbackModal(h.FeedbackType.VOICE,(function(){v.openModalLazy(I(regeneratorRuntime.mark((function e(){var t,o
;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(11956).then(n.bind(n,411956));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return r.createElement(o,S({},e,{analyticsData:a}))}));case 5:case"end":return e.stop()}}),e)}))))}))};t.handleStreamClose=function(e){var a=e.streamKey,u=e.canShowFeedback,s=(0,o.decodeStreamKey)(a),c=(0,i.getStreamerApplication)(s,d.default),f={media_session_id:p.default.getActiveMediaSessionId(),rtc_connection_id:p.default.getActiveRTCConnectionId()};u&&t.possiblyShowFeedbackModal(h.FeedbackType.STREAM,(function(){v.openModalLazy(I(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(20070).then(n.bind(n,20070));case 2:t=e.sent;a=t.default;return e.abrupt("return",(function(e){return r.createElement(a,S({stream:s,streamApplication:c,isStreamer:s.ownerId===l.default.getId()},e,{analyticsData:f}))}))
;case 5:case"end":return e.stop()}}),e)}))))}))};t.handleVideoBackgroundShowFeedback=function(e){var a=e.analyticsData;t.possiblyShowFeedbackModal(h.FeedbackType.VIDEO_BACKGROUND,(function(){v.openModalLazy(I(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(95159).then(n.bind(n,995159));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return r.createElement(o,S({},e,{analyticsData:a}))}));case 5:case"end":return e.stop()}}),e)}))))}))};t.handleActivityClose=function(e){var a=e.applicationId,o=e.channelId,i=e.showFeedback,l=c.default.getGame(a),d=s.default.getChannel(o),p={rtc_connection_id:f.default.getRTCConnectionId(),media_session_id:f.default.getMediaSessionId()},y=u.default.getWindowOpen(m.PopoutWindowKeys.CHANNEL_CALL_POPOUT)?_.POPOUT_MODAL_CONTEXT:_.DEFAULT_MODAL_CONTEXT;null!=l&&null!=d&&i&&t.possiblyShowFeedbackModal(h.FeedbackType.ACTIVITY,(function(){
v.openModalLazy(I(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(79020).then(n.bind(n,879020));case 2:t=e.sent;a=t.default;return e.abrupt("return",(function(e){return r.createElement(a,S({},e,{activityApplication:l,channel:d,analyticsData:p}))}));case 5:case"end":return e.stop()}}),e)}))),{contextKey:y})}))};return t}var y=t.prototype;y._initialize=function(){a.default.subscribe(m.ActionTypes.VOICE_CHANNEL_SHOW_FEEDBACK,this.handleVoiceChannelFeedback);a.default.subscribe(m.ActionTypes.STREAM_CLOSE,this.handleStreamClose);a.default.subscribe(m.ActionTypes.VIDEO_BACKGROUND_SHOW_FEEDBACK,this.handleVideoBackgroundShowFeedback);a.default.subscribe(m.ActionTypes.EMBEDDED_ACTIVITY_CLOSE,this.handleActivityClose)};y._terminate=function(){a.default.unsubscribe(m.ActionTypes.VOICE_CHANNEL_SHOW_FEEDBACK,this.handleVoiceChannelFeedback)
;a.default.unsubscribe(m.ActionTypes.STREAM_CLOSE,this.handleStreamClose);a.default.unsubscribe(m.ActionTypes.VIDEO_BACKGROUND_SHOW_FEEDBACK,this.handleVideoBackgroundShowFeedback);a.default.unsubscribe(m.ActionTypes.EMBEDDED_ACTIVITY_CLOSE,this.handleActivityClose)};return t}(y.default));t.default=T},392110:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.RatingsSelector=R;t.default=L;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=C(n(294184)),i=C(n(496486)),u=C(n(145371)),l=C(n(956117)),s=C(n(789446)),c=C(n(168391)),d=C(n(16941)),f=C(n(530250)),p=n(645758),v=C(n(39118)),y=n(354479),h=n(688388),m=C(n(942575)),_=C(n(114655)),g=n(3400),E=C(n(550270)),O=n(41194),S=n(455002),b=C(n(247001)),I=C(n(839319));function C(e){return e&&e.__esModule?e:{default:e}}function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function M(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var N=[{className:I.default.emojiSad,rating:S.FeedbackRating.BAD},{className:I.default.emojiNeutral,
rating:S.FeedbackRating.NEUTRAL},{className:I.default.emojiHappy,rating:S.FeedbackRating.GOOD}];function R(e){var t=e.className,n=e.selectedRating,r=e.onChangeRating;return M(f.default,{justify:f.default.Justify.BETWEEN,align:f.default.Align.CENTER,className:(0,o.default)(I.default.ratingsSelector,t)},void 0,N.map((function(e){var t=e.rating,a=e.className;return M(d.default,{onClick:function(){return r(t)},"aria-label":t},t,M("div",{className:(0,o.default)(a,n===t?I.default.selected:null)}))})))}R.displayName="RatingsSelector";function w(){return M(p.Text,{className:I.default.helpdeskLink,variant:"text-xs/normal",color:"text-muted"},void 0,b.default.Messages.FEEDBACK_NEED_MORE_HELP.format({helpdeskURL:E.default.getSubmitRequestURL()}))}w.displayName="HelpdeskLink";var D=M(w,{});function L(e){var t=e.header,n=e.body,r=e.problemTitle,o=e.problems,d=e.transitionState,E=e.feedbackProblems,C=void 0===E?[]:E,T=e.otherKey,P=e.onSubmit,N=e.onClose,w=(0,
u.default)(o),L=A(a.useState(!1),2),k=L[0],j=L[1],U=A(a.useState(null),2),G=U[0],F=U[1],x=A(a.useState(null),2),W=x[0],B=x[1],V=A(a.useState(i.default.shuffle(o)),2),H=V[0],Y=V[1],z=A(a.useState(""),2),K=z[0],$=z[1],q=(0,y.useUID)(),X=(0,m.default)(G),Q=(0,m.default)(k),Z=(0,m.default)(W),J=(0,m.default)(P),ee=(0,m.default)(K),te=null!=W&&C.includes(W);a.useEffect((function(){i.default.isEqual(w,o)||Y((0,O.shuffleProblems)(o,T))}),[o,w,T]);a.useEffect((function(){return function(){J.current({rating:X.current,problem:Z.current,dontShowAgain:Q.current,feedback:ee.current})}}),[]);return M(g.ModalRoot,{transitionState:d,className:I.default.modalRoot,"aria-labelledby":q},void 0,M(g.ModalHeader,{separator:!1,className:I.default.headerContainer},void 0,M(_.default,{id:q,className:I.default.header,color:_.default.Colors.CUSTOM,size:_.default.Sizes.SIZE_24},void 0,t),M(p.Text,{variant:"text-md/normal",color:"none",className:I.default.ratingBody},void 0,n),te?null:M(R,{
className:I.default.emojis,selectedRating:G,onChangeRating:function(e){F(e);e===S.FeedbackRating.GOOD&&N()}})),M(g.ModalContent,{className:I.default.content},void 0,null==G||G===S.FeedbackRating.GOOD||te?null:M(h.FormItem,{title:r,className:I.default.problemInfo},void 0,M(c.default,{options:H,onClick:function(e){var t=e.value;B(t);C.includes(t)||N()}})),te?M(h.FormItem,{title:b.default.Messages.FEEDBACK_DESCRIBE_ISSUE,className:I.default.problemInfo},void 0,M(v.default,{value:K,maxLength:S.FEEDBACK_FREEFORM_LENGTH,onChange:$}),D):null),M(g.ModalFooter,{className:I.default.footer,direction:f.default.Direction.HORIZONTAL},void 0,te?a.createElement(a.Fragment,null,M(l.default,{size:l.default.Sizes.SMALL,look:l.default.Looks.LINK,color:l.default.Colors.PRIMARY,onClick:function(){B(null);$("")}},void 0,b.default.Messages.BACK),M(l.default,{size:l.default.Sizes.SMALL,onClick:N},void 0,b.default.Messages.SUBMIT)):M(s.default,{type:s.default.Types.INVERTED,size:18,value:k,onChange:function(){
return j(!k)}},void 0,M(p.Text,{variant:"text-sm/normal"},void 0,b.default.Messages.DONT_SHOW_AGAIN))))}L.displayName="FeedbackModal"},719192:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=l(n(636602)),a=l(n(177230)),o=l(n(644263)),i=n(988298),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){s=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return s(e,t)}var c=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;s(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){r.default.subscribe(u.ActionTypes.CHANNEL_PRELOAD,this.handleChannelPreload)};n._terminate=function(){r.default.unsubscribe(u.ActionTypes.CHANNEL_PRELOAD,this.handleChannelPreload)};n.handleChannelPreload=function(e){var t=e.channelId,n=o.default.getChannel(t);null!=n&&n.isForumChannel()&&(0,i.preloadForumThreads)(n)};return t}(a.default))
;t.default=c},328798:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(645758),o=u(n(417184)),i=u(n(247001));function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=s(o.default,{width:14,height:14}),d=function(e,t){return s(a.Text,{color:"text-danger",style:{display:"flex",gap:"4px",margin:"8px 0 4px 0",alignItems:"center"},variant:"text-sm/normal"},t,c,e)};d.displayName="createPostsDisabledHook";var f={getForumChannelPermissionText:function(){return i.default.Messages.ROLE_PERMISSIONS_SEND_MESSAGES_WITH_FORUMS_DESCRIPTION_TEXT_DISABLED.format({warningHook:d})}};t.default=f},638534:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.canCurrentUserSeeForumChannelUpsell=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(923387),o=y(n(636602)),i=y(n(177230)),u=n(844784),l=n(203847),s=y(n(30098)),c=y(n(689389)),d=n(194322),f=n(973523),p=n(770348),v=n(583551);function y(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(){m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return m.apply(this,arguments)}function _(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function g(e){return function(){var t=this,n=arguments
;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){_(o,r,a,i,u,"next",e)}function u(e){_(o,r,a,i,u,"throw",e)}i(void 0)}))}}function E(e,t){E=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return E(e,t)}var O=function(e,t){var n=(0,f.getEnableForumPermissions)(e),r=s.default.getGuild(e),o=Boolean(null==r?void 0:r.hasFeature(p.GuildFeatures.COMMUNITY)),i=c.default.can(p.Permissions.MANAGE_CHANNELS,r),u=(0,l.isDismissibleContentDismissed)(a.DismissibleContent.FORUM_CHANNEL_UPSELL_MODAL),d=o&&i;d&&t&&f.GuildForumExperiment.trackExposure({guildId:e});return n&&d&&!u};t.canCurrentUserSeeForumChannelUpsell=function(e){return O(e,!1)};var S=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;E(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var i=t.prototype;i._initialize=function(){o.default.subscribe(p.ActionTypes.CHANNEL_SELECT,this.handleChannelSelect)};i._terminate=function(){
o.default.unsubscribe(p.ActionTypes.CHANNEL_SELECT,this.handleChannelSelect)};i.handleChannelSelect=function(e){var t=e.guildId;if(null!=t){if(O(t,!0)){(0,u.trackWithMetadata)(p.AnalyticEvents.OPEN_MODAL,{type:"Forum Channel Upsell Modal"});(0,l.maybeMarkDismissibleContentAsShown)(a.DismissibleContent.FORUM_CHANNEL_UPSELL_MODAL);var o=function(e){void 0===e&&(e=v.ContentDismissActionType.DISMISS);(0,l.markDismissibleContentAsDismissed)(a.DismissibleContent.FORUM_CHANNEL_UPSELL_MODAL,{dismissAction:e})};(0,d.openModalLazy)(g(regeneratorRuntime.mark((function e(){var a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(83074)]).then(n.bind(n,583074));case 2:a=e.sent;i=a.default;return e.abrupt("return",(function(e){return r.createElement(i,m({},e,{onClose:function(t){o(t);e.onClose()},guildId:t,shouldUpsellCreation:!0}))}));case 5:case"end":return e.stop()}}),e)}))),{onCloseCallback:function(){return(0,
l.markDismissibleContentAsDismissed)(a.DismissibleContent.FORUM_CHANNEL_UPSELL_MODAL,{dismissAction:v.ContentDismissActionType.DISMISS})},onCloseRequest:p.NOOP_NULL})}}};return t}(i.default));t.default=S},324935:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.channelId,r=(0,o.useStateFromStores)([h.default],(function(){return h.default.getChannel(t)})),b=(0,o.useStateFromStores)([h.default],(function(){return h.default.getChannel(null==r?void 0:r.parent_id)})),I=(0,o.useStateFromStores)([_.default],(function(){return _.default.getGuild(null==r?void 0:r.getGuildId())})),T=(0,c.default)(r),M=a.useRef(!1);a.useEffect((function(){if(null!=r&&!M.current){M.current=!0;var e=(0,s.collectThreadMetadata)(h.default.getChannel(r.id),!0);(0,s.trackWithMetadata)(E.AnalyticEvents.CHANNEL_OPENED,P({},e,{channel_id:r.id,guild_id:r.guild_id,parent_id:r.parent_id,channel_view:"Split View"}))}}),[r]);if(null==r||null==I)return null;var N=C(y.default,{
channel:r});return a.createElement(a.Fragment,null,C(l.default,{channel:r,draftType:m.DraftType.ChannelMessage}),C(g.default,{toolbar:N,"aria-label":O.default.Messages.THREAD_HEADER_BAR_A11Y_LABEL},void 0,(0,f.renderTitle)({channel:r,parentChannel:b,channelName:T,guild:I,inSidebar:!0,handleContextMenu:function(e){(0,i.openContextMenuLazy)(e,A(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(7699).then(n.bind(n,818228));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return a.createElement(o,P({},e,{channel:r}))}));case 5:case"end":return e.stop()}}),e)}))))},handleClick:function(){null!=r&&(0,p.transitionToGuild)(r.guild_id,r.id)}})),C("div",{className:S.default.chat},void 0,C(v.default,{channel:r,narrow:!0}),C(u.default,{channel:r,guild:I,chatInputType:d.ChatInputTypes.SIDEBAR},t)))};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=n(378158),u=b(n(914789)),l=b(n(805918)),s=n(844784),c=b(n(678928)),d=n(573285),f=n(451115),p=n(139982),v=b(n(734239)),y=b(n(621688)),h=b(n(644263)),m=n(687549),_=b(n(30098)),g=b(n(878556)),E=n(770348),O=b(n(247001)),S=b(n(452159));function b(e){return e&&e.__esModule?e:{default:e}}function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}function C(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={
children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function T(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function A(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){T(o,r,a,i,u,"next",e)}function u(e){T(o,r,a,i,u,"throw",e)}i(void 0)}))}}function P(){P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return P.apply(this,arguments)}},651473:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=i(n(118915)),a=i(n(636602)),o=n(770348);function i(e){return e&&e.__esModule?e:{default:e}}var u={
fetch:function(){r.default.get(o.Endpoints.FRIEND_SUGGESTIONS).then((function(e){return a.default.dispatch({type:o.ActionTypes.LOAD_FRIEND_SUGGESTIONS_SUCCESS,suggestions:e.body})}),(function(){return a.default.dispatch({type:o.ActionTypes.LOAD_FRIEND_SUGGESTIONS_FAILURE})}))},ignore:function(e){r.default.delete(o.Endpoints.FRIEND_SUGGESTION(e))}};t.default=u},677520:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=d(n(496486)),o=d(n(536211)),i=d(n(636602)),u=d(n(759027)),l=d(n(728429)),s=d(n(651473)),c=n(770348);function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}
return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){v=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return v(e,t)}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}var h={},m=0,_=!1,g=!1;function E(e){var t;return{key:e.suggested_user.id,
name:null===(t=a.default.first(e.reasons))||void 0===t?void 0:t.name,user:new u.default(e.suggested_user)}}var O=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;v(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(l.default)};n.getSuggestionCount=function(){return m};n.getSuggestions=function(){return Object.entries(h).map((function(e){var t=f(e,2);t[0];return t[1]}))};n.getSuggestion=function(e){return h[e]};return t}(o.default.Store);O.displayName="FriendSuggestionStore";var S=new O(i.default,((r={})[c.ActionTypes.CONNECTION_OPEN]=function(e){h={};if((m=e.friendSuggestionCount)>0){g=!0;!function(){if(!_&&g){_=!0;g=!1;s.default.fetch()}}()}},r[c.ActionTypes.FRIEND_SUGGESTION_CREATE]=function(e){var t,n=E(e.suggestion);if(null!=h[n.key])return!1;m++;h=y({},h,((t={})[n.key]=n,t))},r[c.ActionTypes.FRIEND_SUGGESTION_DELETE]=function(e){m=Math.max(0,--m);delete h[e.suggestedUserId]
},r[c.ActionTypes.LOAD_FRIEND_SUGGESTIONS_SUCCESS]=function(e){_=!1;h=a.default.chain(e.suggestions).map(E).keyBy((function(e){return e.key})).value();m=a.default.keys(h).length},r[c.ActionTypes.LOAD_FRIEND_SUGGESTIONS_FAILURE]=function(){_=!1;h={}},r));t.default=S},344368:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=l(n(636602)),a=l(n(234161)),o=l(n(791548)),i=l(n(288356)),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0
;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d={};function f(e){var t=e.name,n=e.hash,r=e.missingData;i.default.markGameReported(t);for(var u,l=s(r);!(u=l()).done;){var c=u.value;if("icon"===c){var f=d[t];null!=f&&a.default.uploadIcon(t,n,f);return}new o.default("GameStoreIconManager").log("Could not find missing data key: "+c)}}function p(e){var t=e.gameName,n=e.icon;d[t]=n}var v={initialize:function(){r.default.subscribe(u.ActionTypes.UNVERIFIED_GAME_UPDATE,f);r.default.subscribe(u.ActionTypes.GAME_ICON_UPDATE,p)}};t.default=v},735592:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r=s(n(636602)),a=s(n(234161)),o=n(671694),i=s(n(177230)),u=s(n(191839)),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c(e,t)}var d=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;c(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=e.call.apply(e,[this].concat(r))||this).handleConnectionOpen=function(){u.default.fetched||(0,o.fetchLibrary)();a.default.getDetectableGames()};return t}var n=t.prototype;n._initialize=function(){r.default.subscribe(l.ActionTypes.CONNECTION_OPEN,this.handleConnectionOpen)};n._terminate=function(){r.default.unsubscribe(l.ActionTypes.CONNECTION_OPEN,this.handleConnectionOpen)};return t}(i.default));t.default=d},829392:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.checkLaunchableGame=s;t.default=void 0
;var r=l(n(636602)),a=l(n(288356)),o=l(n(188023)),i=l(n(703124)),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=i.default.launchableGames[e],n=a.default.getGame(e);return(null!=n?o.default.isLaunchable(n):o.default.isGameLaunchable(e)).then((function(n){n!==t&&r.default.dispatch({type:u.ActionTypes.GAME_LAUNCHABLE_UPDATE,gameId:e,isLaunchable:n})}))}function c(e){s(e.gameId)}var d={initialize:function(){r.default.subscribe(u.ActionTypes.CHECK_LAUNCHABLE_GAME,c)}};t.default=d},519386:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=n(446637),a=i(n(191839)),o=i(n(424099));function i(e){return e&&e.__esModule?e:{default:e}}var u={init:function(){a.default.whenInitialized((function(){null!=o.default.testModeApplicationId&&(0,r.authorizeAndSetTestModeApplication)(o.default.testModeApplicationId,o.default.testModeOriginURL)}))}};t.default=u},782950:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{
value:!0});t.default=void 0;var r=s(n(636602)),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(27555)),o=s(n(423046)),i=n(539331),u=n(770348);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e){return e&&e.__esModule?e:{default:e}}function c(){if((0,i.isSupportedPlatform)()){var e=o.default.getToken(),t=o.default.getId();if(null==e)throw new Error("missing user token");a.init(e,t)}}function d(){a.destroy()}var f={init:function(){r.default.subscribe(u.ActionTypes.CONNECTION_OPEN,c)
;r.default.subscribe(u.ActionTypes.LOGOUT,d)}};t.default=f},279235:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=(0,n(373505).createExperiment)({kind:"user",id:"2021-11_instream_gifting",label:"In-stream gifting",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Shows in stream gifting upsell",config:{enabled:!0}}]});t.default=r},58659:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=n(91817),a=v(n(636602)),o=n(123516),i=v(n(607209)),u=v(n(423046)),l=v(n(644263)),s=v(n(290482)),c=v(n(211136)),d=v(n(359973)),f=n(747868),p=n(770348);function v(e){return e&&e.__esModule?e:{default:e}}function y(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var m=new r.Timeout,_=new r.Timeout,g=null;function E(e,t){var n=l.default.getChannel(e),r=i.default.getActiveStreamForUser(t);if((null==n?void 0:n.isDM())&&c.default.getVoiceChannelId()===e&&null==r){var a=i.default.getStreamForUser(t);if(null==a)return!1;var u=(0,f.encodeStreamKey)(a);if(u===g)return!1;g=u;(0,o.watchStream)(a,{noFocus:!0});return!0}return!1}function O(e,t){var n=null!=t?t:s.default.getPreferredRegion()
;null!=n&&n!==s.default.getRegion(d.default.getHostname())&&(0,o.changeStreamRegion)(e,n)}var S={init:function(){var e=function(e){d.default.getAllActiveStreamKeys().includes(e)||_.start(5e3,(function(){a.default.dispatch({type:p.ActionTypes.STREAM_TIMED_OUT,streamKey:e})}))};a.default.subscribe(p.ActionTypes.STREAM_WATCH,(function(t){var n=t.streamKey;e(n)}));a.default.subscribe(p.ActionTypes.STREAM_START,(function(t){var n=t.streamType,r=t.guildId,a=t.channelId;e((0,f.encodeStreamKey)({streamType:n,guildId:r,channelId:a,ownerId:u.default.getId()}))}));a.default.subscribe(p.ActionTypes.STREAM_CREATE,(function(){_.stop()}));a.default.subscribe(p.ActionTypes.STREAM_UPDATE,(function(){_.stop()}));a.default.subscribe(p.ActionTypes.STREAM_DELETE,(function(){_.stop()}));a.default.subscribe(p.ActionTypes.STREAM_CLOSE,(function(){m.stop();_.stop()}));a.default.subscribe(p.ActionTypes.VOICE_CHANNEL_SELECT,(function(e){var t=e.channelId;if(null!=t){g=null
;var n=i.default.getAllApplicationStreamsForChannel(t).filter((function(e){return e.ownerId!==u.default.getId()}))[0];null!=n&&E(t,n.ownerId)}}));a.default.subscribe(p.ActionTypes.VOICE_STATE_UPDATES,(function(e){e.voiceStates.forEach((function(e){var t=e.userId,n=e.channelId,r=e.selfStream;if(t!==u.default.getId()&&null!=n){if(r&&E(n,t))return;var a=i.default.getActiveStreamForUser(t);if(null!=a&&a.channelId===n){r||a.state===p.ApplicationStreamStates.ENDED||m.start(18e4,(function(){return(0,o.closeStream)((0,f.encodeStreamKey)(a),!1)}));if(r&&a.state===p.ApplicationStreamStates.ENDED){m.stop();var l=i.default.getStreamForUser(t);if(null==l)return;(0,o.watchStream)(l)}}}}))}));a.default.subscribe(p.ActionTypes.CALL_UPDATE,(function(e){var t=e.channelId,n=e.region,r=i.default.getActiveStreamForUser(u.default.getId());(null==r?void 0:r.channelId)===t&&O((0,f.encodeStreamKey)(r),n)}));a.default.subscribe(p.ActionTypes.CHANNEL_UPDATES,(function(e){
var t=e.updates,n=i.default.getActiveStreamForUser(u.default.getId());if(null!=n)for(var r,a=y(t);!(r=a()).done;){var o=r.value;n.channelId===o.channel.id&&O((0,f.encodeStreamKey)(n),o.channel.rtcRegion)}}))}};t.default=S},910333:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=(0,u.getMaxQuality)(e),n=e.stream.ownerId;return(0,r.useStateFromStores)([i.default,o.default,a.default],(function(){return null!=n?(0,l.default)(i.default.getQuality(),i.default.getStatsHistory(n,n===a.default.getId()),null!=o.default.getHookError(s.MediaEngineHookTypes.SOUND),t):null}),[t,n])};var r=n(536211),a=c(n(423046)),o=c(n(438567)),i=c(n(359973)),u=n(143369),l=c(n(571425)),s=n(770348);function c(e){return e&&e.__esModule?e:{default:e}}},939790:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SUPPORTED_HARDWARE_ACCEL_VENDORS=void 0;t.default=function(e){for(var t=0,r=Object.keys(e);t<r.length;t++){var a=r[t],o=e[a]
;if(null!=o&&null==o.error&&n.has(a))return!0}return!1};var n=new Set(["nvidia"]);t.SUPPORTED_HARDWARE_ACCEL_VENDORS=n},925013:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,n,i){if(e.state===a.ApplicationStreamStates.ENDED||e.state===a.ApplicationStreamStates.FAILED)return null;if(e.state===a.ApplicationStreamStates.RECONNECTING)return{mainText:o.default.Messages.STREAM_RECONNECTING_ERROR,supportingText:o.default.Messages.STREAM_RECONNECTING_ERROR_SUBTEXT};if(e.state===a.ApplicationStreamStates.PAUSED)return n?{mainText:o.default.Messages.STREAM_CAPTURE_PAUSED,supportingText:o.default.Messages.STREAM_CAPTURE_PAUSED_DETAILS}:{mainText:o.default.Messages.STREAM_CAPTURE_PAUSED,supportingText:o.default.Messages.STREAM_CAPTURE_PAUSED_DETAILS_VIEWER.format({username:r.default.getName(e.guildId,e.channelId,t)})};if(i)return{mainText:o.default.Messages.STREAM_PREVIEW_PAUSED,supportingText:o.default.Messages.STREAM_PREVIEW_PAUSED_SUBTEXT}
;return null};var r=i(n(29652)),a=n(770348),o=i(n(247001));function i(e){return e&&e.__esModule?e:{default:e}}},571425:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,n,r){if(n)return f(u.default.Messages.STREAM_SOUNDSHARE_FAILED,s.SOUNDSHARE_FAILED);if(null!=t){var a=d(t,5),o=d(t,30);if(o.numDatapoints>=5){var l;return null!==(l=p(a,null==r?void 0:r.maxFrameRate))&&void 0!==l?l:p(o,null==r?void 0:r.maxFrameRate)}}if(e===i.RTCConnectionQuality.BAD)return f(u.default.Messages.STREAM_NETWORK_QUALITY_ERROR,s.BAD_CONNECTION);return null};var r,a=n(862728),o=n(71246),i=n(770348),u=(r=n(247001))&&r.__esModule?r:{default:r};function l(){l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return l.apply(this,arguments)}var s;!function(e){e.PACKET_LOSS="Packet Loss";e.FRAME_RATE_INPUT="Frame Rate Encode"
;e.FRAME_RATE_NETWORK="Frame Rate Decode";e.SOUNDSHARE_FAILED="Soundshare Failed";e.BAD_CONNECTION="Bad Connection"}(s||(s={}));function c(e){void 0===e&&(e=30);return e<=5?3:e<=15?10:15}function d(e,t){var n={packetsSentOrReceived:0,packetsLost:0,packetLossRate:0,frameRate:0,resolution:0,numDatapoints:0},r=e.slice(-1*t).filter(o.isNotNullish);if(0===r.length)return l({type:"streamer"},n);r.forEach((function(e,t,r){n.packetsSentOrReceived+=t>0?r[t].packetsSentOrReceived-r[t-1].packetsSentOrReceived:0;n.packetsLost+=t>0?r[t].packetsLost-r[t-1].packetsLost:0;n.frameRate+=e.frameRate;n.resolution+=e.resolution}));var a=r[0].type,i=r.length;return{type:a,packetsSentOrReceived:n.packetsSentOrReceived,packetsLost:n.packetsLost,packetLossRate:n.packetsLost/(n.packetsLost+n.packetsSentOrReceived),frameRate:n.frameRate/i,resolution:n.resolution/i,numDatapoints:i}}var f=(0,a.cachedFunction)((function(e,t){return{message:e,errorType:t}}));function p(e,t){if("streamer"===e.type){
if(100*e.packetLossRate>10)return f(u.default.Messages.STREAM_BAD_STREAMER,s.PACKET_LOSS);if(e.frameRate<=c(t))return f(u.default.Messages.STREAM_BAD_STREAMER,s.FRAME_RATE_INPUT)}else{if(100*e.packetLossRate>10)return f(u.default.Messages.STREAM_BAD_SPECTATOR,s.PACKET_LOSS);if(e.frameRate<=c(t))return f(u.default.Messages.STREAM_BAD_SPECTATOR,s.FRAME_RATE_NETWORK)}return null}},729136:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.REQUIRED_DRIVER_VERSIONS_BY_PLATFORM=void 0;t.default=function(e){var t=u[(0,i.getPlatform)()];if(null==t)return!1;for(var n=0,r=Object.keys(e);n<r.length;n++){var a=r[n],l=e[a],s=t[a];if(null!=l&&null!=s&&null==l.error){var c=(f=void 0,p=void 0,(null!==(f=(d=l).major)&&void 0!==f?f:0)+"."+(null!==(p=d.minor)&&void 0!==p?p:0)+".0");if(!o.default.satisfies(c,s))return!0}}var d,f,p;return!1};var r,a,o=(r=n(236625))&&r.__esModule?r:{default:r},i=n(864489);var u=((a={})[i.PlatformTypes.WINDOWS]={nvidia:">=397.93.0"},a)
;t.REQUIRED_DRIVER_VERSIONS_BY_PLATFORM=u},100223:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=S(n(667294)),a=n(496486),o=E(n(636602)),i=E(n(740207)),u=n(123516),l=n(894826),s=E(n(607209)),c=E(n(423046)),d=E(n(311492)),f=E(n(893160)),p=E(n(728429)),v=S(n(194322)),y=E(n(58659)),h=n(747868),m=E(n(908921)),_=n(739898),g=n(770348);function E(e){return e&&e.__esModule?e:{default:e}}function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function S(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)
;return r}function b(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function I(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){b(o,r,a,i,u,"next",e)}function u(e){b(o,r,a,i,u,"throw",e)}i(void 0)}))}}var C=(0,a.debounce)(u.notifyStreamStart,1e3),T={init:function(){y.default.init();o.default.subscribe(g.ActionTypes.MEDIA_ENGINE_VIDEO_STATE_CHANGED,(function(e){var t=e.videoState,n=s.default.getActiveStreamForUser(c.default.getId());if(null!=n){var r=t===g.MediaEngineVideoStates.PAUSED;(0,u.setStreamPaused)(n,r)}}));o.default.subscribe(g.ActionTypes.STREAM_DELETE,(function(e){if(e.reason===g.ApplicationStreamDeleteReasons.STREAM_FULL){(0,u.closeStream)(e.streamKey,!1);v.openModalLazy(I(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2
;return Promise.all([n.e(40532),n.e(26495)]).then(n.bind(n,126495));case 2:t=e.sent;a=t.default;return e.abrupt("return",(function(e){return r.createElement(a,e)}));case 5:case"end":return e.stop()}}),e)}))))}}));o.default.subscribe(g.ActionTypes.STREAM_WATCH,(function(e){var t=e.streamKey;if(!e.allowMultiple){var n=(0,h.decodeStreamKey)(t);s.default.getAllActiveStreams().forEach((function(e){if(e.ownerId!==n.ownerId&&e.ownerId!==c.default.getId()){e.ownerId===c.default.getId()&&i.default.setDesktopSource({sourceId:null});(0,u.closeStream)((0,h.encodeStreamKey)(e),!1)}}))}}));o.default.subscribe(g.ActionTypes.VOICE_STATE_UPDATES,(function(e){e.voiceStates.forEach((function(e){if(e.userId===c.default.getId()){var t=s.default.getAllActiveStreams(),n=f.default.getChannelId();t.forEach((function(e){e.channelId!==n&&(0,m.default)(e,!1)}))}}))}));o.default.subscribe(g.ActionTypes.STREAM_CREATE,(function(e){var t,n=e.streamKey,r=(0,h.decodeStreamKey)(n),a=r.ownerId,o=r.guildId
;if(null!=o&&null!=a&&a===(null===(t=p.default.getCurrentUser())||void 0===t?void 0:t.id)){var i=d.default.getMemberCount(o);null==i||i<2||i>_.STREAM_NOTIFY_GUILD_MAX_SIZE||l.NotifyFriendsOnGoLive.getSetting()&&C(n)}}))}};t.default=T},57697:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=B(n(667294)),o=x(n(294184)),i=n(248088),u=n(425916),l=n(536211),s=n(556470),c=n(836233),d=x(n(954140)),f=x(n(37039)),p=n(6505),v=x(n(655205)),y=x(n(715419)),h=x(n(711195)),m=x(n(728429)),_=x(n(956117)),g=x(n(16941)),E=x(n(160629)),O=n(645758),S=x(n(730977)),b=x(n(447522)),I=x(n(41024)),C=x(n(436081)),T=x(n(114655)),A=n(194322),P=n(598671),M=B(n(528175)),N=x(n(308920)),R=x(n(838583)),w=n(143369),D=x(n(279235)),L=x(n(910333)),k=n(770348),j=n(265517),U=x(n(247001)),G=x(n(214156)),F=x(n(592551));function x(e){return e&&e.__esModule?e:{default:e}}function W(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(W=function(e){
return e?n:t})(e)}function B(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=W(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function z(){z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return z.apply(this,arguments)}function K(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function $(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){K(o,r,a,i,u,"next",e)}function u(e){K(o,r,a,i,u,"throw",e)}i(void 0)}))}}var q=(0,u.cssValueToNumber)(F.default.borderRadius),X={opacity:0,transform:"translate3d(100%, 0, 0)"},Q={opacity:1,transform:"translate3d(0%, 0, 0)"},Z={opacity:0},J={opacity:1},ee={borderRadius:q+"px "+q+"px "+q+"px "+q+"px"},te={borderRadius:"0px "+q+"px "+q+"px 0px"},ne={mass:1,tension:500,friction:18,clamp:!0},re=function(e){var t,r,i=e.participant,u=e.isUpsellEnabled,c=e.shape,d=e.size,p=e.didTrackUpsellViewed,v=e.setDidTrackUpsellViewed,y=e.inStreamGiftingEnabled,h=e.handleGiftingCheckout,_=e.className,E=(0,w.getMaxQuality)(i),O=(0,
f.default)().analyticsLocations,b=null!=(0,L.default)(i);try{t=(0,w.isPremiumFPS)(E)}catch(e){t=!1}try{r=(0,w.isPremiumResolution)(E)}catch(e){r=!1}var C=t||r,T=(0,s.useAnalyticsContext)().location,D=(0,l.useStateFromStores)([m.default],(function(){return m.default.getCurrentUser()})),F=u&&!R.default.isPremium(D,k.PremiumTypes.TIER_1),x=a.useCallback((function(){F&&C&&(0,A.openModalLazy)($(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(21438).then(n.bind(n,421438));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,z({},e,{analyticsSource:T}))}));case 5:case"end":return e.stop()}}),e)}))))}),[F,C,T]);a.useEffect((function(){if(!p&&C){N.default.track(k.AnalyticEvents.PREMIUM_UPSELL_VIEWED,{type:j.PremiumUpsellTypes.STREAM_QUALITY_INDICATOR,has_premium_stream_fps:t,has_premium_stream_resolution:r,location_stack:O});v(!0)}}),[t,r,C,p,v,O])
;if(null==E)return null;var W=Y(S.default,{text:y?null:b?U.default.Messages.SCREENSHARE_QUALITY_TOOLTIP_REDUCED:C?U.default.Messages.SCREENSHARE_QUALITY_TOOLTIP_PREMIUM:U.default.Messages.SCREENSHARE_QUALITY_TOOLTIP_NORMAL,position:S.default.Positions.BOTTOM,color:S.default.Colors.GREY},void 0,(function(e){var t;return a.createElement(g.default,z({},e,{onClick:y?h:x,className:(0,o.default)(G.default.qualityIndicator,d,M.LiveIndicatorShapes[c],b?G.default.qualityIndicatorLowQuality:G.default.qualityIndicatorFullQuality,(t={},t[G.default.clickable]=F&&C||y,t))}),C?Y(I.default,{className:G.default.premiumStreamIcon}):null,Y("span",{className:G.default.qualityResolution},void 0,(0,w.getResolutionText)(E.maxResolution)),Y("span",{},void 0,(0,w.getFPSText)(E.maxFrameRate)))}));return Y(P.TextBadge,{text:W,className:(0,o.default)(_,G.default.qualityIndicatorBadge),color:k.Colors.PRIMARY_DARK_500,shape:c})};re.displayName="StreamQualityIndicator";var ae=function(e){
var t=e.participant,n=e.showQuality,r=e.isUpsellEnabled,u=void 0===r||r,s=e.size,S=e.className,A=V(a.useState(!1),2),L=A[0],F=A[1],x=V(a.useState(!1),2),W=x[0],B=x[1],H=V(a.useState(!1),2),K=H[0],$=H[1],q=(0,f.default)(d.default.STREAM_QUALITY_INDICATOR).analyticsLocations,ae=(0,w.getMaxQuality)(t),oe=a.useContext(c.AccessibilityPreferencesContext).reducedMotion,ie=n&&null!=ae,ue=D.default.useExperiment({}).enabled,le=(0,l.useStateFromStores)([m.default],(function(){return m.default.getCurrentUser()}));a.useEffect((function(){(0,h.default)(t.stream.ownerId,t.user.getAvatarURL(t.stream.guildId,80),{dispatchWait:!0})}),[t]);var se=(0,l.useStateFromStores)([y.default],(function(){return y.default.getUserProfile(t.stream.ownerId)}),[t.stream.ownerId]),ce=R.default.isPremium(le)&&null!=se&&null==se.premiumSince;a.useEffect((function(){u&&ce&&D.default.trackExposure({})}),[u,ce]);var de=u&&ue&&ce,fe=ie&&de&&p.HotspotStore.hasHotspot(p.HotspotLocations.IN_STREAM_GIFTING_UPSELL),pe=(0,
i.useTransition)(ie,{enter:{from:oe.enabled?Z:X,to:oe.enabled?J:Q},leave:oe.enabled?Z:X,config:ne}),ve=(0,i.useSpring)({to:ie?te:ee,config:ne}),ye=V(a.useState(!1),2),he=ye[0],me=ye[1],_e=V(a.useState(0),2),ge=_e[0],Ee=_e[1],Oe=function(e){clearTimeout(ge);Ee(setTimeout((function(){me(e)}),100))};if(de&&!W){N.default.track(k.AnalyticEvents.PREMIUM_GIFT_UPSELL_VIEWED,{type:j.PremiumUpsellTypes.STREAM_QUALITY_INDICATOR,location_section:k.AnalyticsSections.STREAM_QUALITY_INDICATOR,location_object_type:k.AnalyticsObjectTypes.GIFT,location_object:k.AnalyticsObjects.BUTTON_ICON,location_stack:q});B(!0)}var Se=function(e){be();(0,v.default)({isGift:!0,giftMessage:U.default.Messages.PREMIUM_PAYMENT_IS_GIFT_STREAM_QUALITY_UPSELL,initialPlanId:null,subscriptionTier:k.PremiumSubscriptionSKUs.TIER_2,analyticsLocations:q,analyticsObject:{section:k.AnalyticsSections.STREAM_QUALITY_INDICATOR,object:e,objectType:k.AnalyticsObjectTypes.GIFT}})},be=function(){(0,
p.hideHotspot)(p.HotspotLocations.IN_STREAM_GIFTING_UPSELL)},Ie=function(e){var n=e.className,r=e.popoutProps;return a.createElement("div",z({className:(0,o.default)(G.default.streamQualityIndicator,n)},r),de?Y(g.default,{onClick:function(){return Se(k.AnalyticsObjects.BUTTON_ICON)},className:(0,o.default)(G.default.qualityIndicator,G.default.clickable)},void 0,Y(b.default,{className:G.default.giftIcon})):null,pe((function(e,n){return n?Y(i.animated.div,{style:e},void 0,Y(re,{className:G.default.liveQualityIndicator,participant:t,size:s,shape:P.BadgeShapes.ROUND_LEFT,isUpsellEnabled:u,didTrackUpsellViewed:L,setDidTrackUpsellViewed:F,inStreamGiftingEnabled:de,handleGiftingCheckout:function(){return Se(k.AnalyticsObjects.BUTTON_ICON)}})):null})),Y(i.animated.div,{style:ve,className:G.default.liveIndicator},void 0,Y(M.default,{look:M.LiveIndicatorLooks.RED,size:s,shape:ie?P.BadgeShapes.ROUND_RIGHT:P.BadgeShapes.ROUND})))};return fe?Y("div",{className:(0,
o.default)(S,G.default.qualityIndicatorHighlightWrapper),onMouseEnter:function(){return Oe(!0)},onMouseLeave:function(){return Oe(!1)}},void 0,Y(E.default,{shouldShow:he,animation:E.default.Animation.NONE,position:E.default.Positions.BOTTOM,align:E.default.Align.CENTER,autoInvert:!1,onRequestClose:function(){return me(!1)},renderPopout:function(){if(!K){N.default.track(k.AnalyticEvents.TOOLTIP_VIEWED,{type:j.PremiumUpsellTypes.GIFT_STREAM_QUALITY_INDICATOR,location_section:k.AnalyticsSections.STREAM_QUALITY_INDICATOR,location_object_type:k.AnalyticsObjectTypes.GIFT,location_object:k.AnalyticsObjects.TOOLTIP});$(!0)}return Y("div",{className:G.default.streamGiftingPopout},void 0,Y("div",{className:G.default.streamGiftingPopoutHeader},void 0,Y(I.default,{className:G.default.premiumStreamIconLarge}),Y(C.default,{size:C.default.Sizes.SIZE_14,color:T.default.Colors.HEADER_PRIMARY},void 0,U.default.Messages.SCREENSHARE_STREAM_GIFTING_HEADER)),Y(O.Text,{
className:G.default.streamGiftingPopoutText,variant:"text-md/normal",color:"header-primary"},void 0,U.default.Messages.SCREENSHARE_STREAM_GIFTING_BODY),Y("div",{className:G.default.streamGiftingPopoutCTA},void 0,Y(_.default,{onClick:be,size:_.default.Sizes.SMALL},void 0,U.default.Messages.SCREENSHARE_STREAM_GIFTING_DISMISS),Y(_.default,{className:G.default.streamGiftingPopoutButton,innerClassName:G.default.giftButton,onClick:function(){return Se(k.AnalyticsObjects.TOOLTIP)},size:_.default.Sizes.SMALL,color:_.default.Colors.WHITE},void 0,Y(b.default,{className:G.default.giftIconBrand}),Y(O.Text,{className:G.default.streamGiftingPopoutButtonText,variant:"text-sm/normal"},void 0,U.default.Messages.SCREENSHARE_STREAM_GIFTING_CTA))))}},void 0,(function(e){return Ie({popoutProps:e})}))):Ie({className:S})};t.default=ae},587840:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=d(n(536211)),o=d(n(636602)),i=n(864489),u=d(n(922629)),l=d(n(939790)),s=d(n(729136)),c=n(770348);function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function p(e,t){p=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return p(e,t)}var v=!1,y=!0;var h=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;p(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){var e=this;i.isPlatformEmbedded&&!__OVERLAY__&&u.default.getGPUDriverVersions().then((function(t){v=(0,s.default)(t);y=(0,l.default)(t);e.emitChange()}))};n.getState=function(){return{GPUDriversOutdated:v,canUseHardwareAcceleration:y}};!function(e,t,n){t&&f(e.prototype,t);n&&f(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"GPUDriversOutdated",
get:function(){return v}},{key:"canUseHardwareAcceleration",get:function(){return y}}]);return t}(a.default.Store);h.displayName="StreamingCapabilitiesStore";var m=new h(o.default,((r={})[c.ActionTypes.OVERLAY_INITIALIZE]=function(e){var t=e.streamingCapabilitiesStoreState;v=t.GPUDriversOutdated;y=t.canUseHardwareAcceleration},r));t.default=m},937196:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){void 0===e&&(e=!0);var t=d.default.getCurrentUser();if(!(0,v.default)(u.default))return!1;if(null!=t&&null!=a.default.getActiveStreamForUser(t.id))return!1;var n=(0,y.default)(s.default,f.default);if(null==n)return!1;if(n.isLauncher&&!e)return!1;var h=c.default.getVoiceChannelId(),m=o.default.getChannel(h);if(null==m)return!1;var _=m.getGuildId();if(!(0,p.canStreamInChannel)(m,i.default,l.default,!1))return!1;(0,r.startStream)(_,m.id,{pid:n.pid});return!0}
;var r=n(123516),a=h(n(607209)),o=h(n(644263)),i=h(n(30098)),u=h(n(635014)),l=h(n(689389)),s=h(n(834162)),c=h(n(211136)),d=h(n(728429)),f=h(n(765287)),p=n(385753),v=h(n(379310)),y=h(n(343898));function h(e){return e&&e.__esModule?e:{default:e}}},460703:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GuildPrompts=void 0;var r;var a=(0,((r=n(213192))&&r.__esModule?r:{default:r}).default)({REAL_NAME_PROMPT:null});t.GuildPrompts=a},780815:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useGuildHeaderPopoutStore=t.showGuildHeaderPopout=void 0;var r,a=(r=n(219548))&&r.__esModule?r:{default:r};var o=Object.freeze({isPopoutOpen:!1}),i=(0,a.default)((function(e){return o}));t.showGuildHeaderPopout=function(e){i.setState((function(){return{isPopoutOpen:e}}))};var u=i;t.useGuildHeaderPopoutStore=u},689626:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;t.viewPrompt=i
;var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(770348);function i(e,t){a.default.wait((function(){a.default.dispatch({type:o.ActionTypes.GUILD_PROMPT_VIEWED,prompt:e,guildId:t})}))}var u={viewPrompt:i};t.default=u},81026:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=u(n(536211)),o=u(n(636602)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var s={};var c=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(e){for(var t in e){var n=e[t];s[t]=new Set(n)}};n.hasViewedPrompt=function(e,t){var n=s[t];return null!=n&&!!n.has(e)};n.getState=function(){return s};return t}(a.default.PersistedStore);c.displayName="GuildPromptsStore";c.persistKey="GuildPromptsStore"
;var d=new c(o.default,((r={})[i.ActionTypes.GUILD_PROMPT_VIEWED]=function(e){var t=e.prompt,n=e.guildId,r=s[n];if(null==r){s[n]=new Set;s[n].add(t);return!0}if(r.has(t))return!1;r.add(t);return!0},r[i.ActionTypes.GUILD_DELETE]=function(e){var t=e.guild;if(null==s[t.id]||t.unavailable)return!1;delete s[t.id];return!0},r));t.default=d},967523:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=(0,a.useStateFromStores)([o.default],(function(){var t;return null!==(t=o.default.getChannels(e)[o.GUILD_SELECTABLE_CHANNELS_KEY])&&void 0!==t?t:[]}),[e]);return 0===t.length?0:t.filter((function(e){var t=e.channel;return i.default.can(r.default.combine(u.Permissions.SEND_MESSAGES,u.Permissions.VIEW_CHANNEL),t)})).length};var r=s(n(267258)),a=n(536211),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(517286)),i=s(n(689389)),u=n(770348);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e){return e&&e.__esModule?e:{default:e}}},754452:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=g;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=v(n(444693)),o=v(n(964285)),i=v(n(142024)),u=n(645758),l=v(n(164654)),s=v(n(628551)),c=n(914001),d=n(770348),f=v(n(247001)),p=v(n(894011));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(){var e=(0,c.getAutomodAvatarURL)();return h("div",{},void 0,h(s.default,{src:e,size:s.default.Sizes.SIZE_40,
"aria-label":f.default.Messages.GUILD_AUTOMOD_USERNAME}))}m.displayName="AutomodAvatar";var _=h(m,{});function g(e){var t=e.guildId,n=e.onDismissed;return h(i.default,{header:f.default.Messages.GUILD_AUTOMOD_UPSELL_HEADER,content:f.default.Messages.GUILD_AUTOMOD_UPSELL_CONTENT.format(),asset:h("div",{className:p.default.container},void 0,h("div",{className:p.default.card},void 0,_,h("div",{className:p.default.content},void 0,h("div",{className:p.default.name},void 0,h(u.Text,{variant:"text-sm/semibold",color:"text-brand"},void 0,f.default.Messages.GUILD_AUTOMOD_UPSELL_ASSET_HEADER),h(l.default,{width:16,height:16,color:a.default.LINK,className:p.default.shield})),h("div",{className:p.default.spoiler})))),buttonCTA:f.default.Messages.GUILD_AUTOMOD_UPSELL_CTA,onClick:function(){n();o.default.open(t,d.GuildSettingsSections.GUILD_AUTOMOD_MESSAGE_FILTER)},secondaryButtonCTA:f.default.Messages.GUILD_AUTOMOD_UPSELL_DISMISSAL,onSecondaryClick:function(){},markAsDismissed:n})}
g.displayName="GuildAutomodUpsellTooltip"},665984:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.BoostingUpsellModalType=void 0;t.animatedGuildBannerUpsellPerks=function(){return[D(E.BoostedGuildTiers.TIER_3,E.Colors.PREMIUM_PERK_GREEN),W(),L(),x()]};t.customRoleIconUpsellPerks=function(){return[N(),P(),R(),x()]};t.embeddedActivitiesUpsellPerks=function(){return[Y(),R(),A(E.Colors.PREMIUM_PERK_YELLOW),x()]};t.guildBannerInviteUpsellPerks=function(){return[A(),B(),w(),x()]};t.guildBannerUpsellPerks=function(){return[N(),D(E.BoostedGuildTiers.TIER_2),V(),x()]};t.guildBoostingPerks=function(){return[j(),R(),x()]};t.guildInviteUpsellPerks=function(){return[T(),R(),A(),x()]};t.moreActivitiesPerk=void 0;t.premiumProgressBarUpsellPerks=function(){return[U(),G(),k(),F()]};t.vanityUrlUpsellPerks=function(){return[L(),M(),D(E.BoostedGuildTiers.TIER_3),x()]};!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{
default:e};var n=I(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a,o=b(n(526098)),i=n(645758),u=b(n(769026)),l=b(n(175104)),s=b(n(782732)),c=b(n(874980)),d=b(n(340858)),f=b(n(896444)),p=b(n(82050)),v=b(n(250003)),y=b(n(952117)),h=b(n(545449)),m=b(n(675422)),_=b(n(128103)),g=n(682937),E=n(770348),O=b(n(247001)),S=b(n(759107));function b(e){return e&&e.__esModule?e:{default:e}}function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}function C(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}t.BoostingUpsellModalType=a;!function(e){e.GUILD_BANNER_INVITE="guild_banner_invite"}(a||(t.BoostingUpsellModalType=a={}));var T=function(){return{color:E.Colors.PREMIUM_PERK_GREEN,icon:f.default,description:O.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_UPSELL_PERKS_CUSTOM_INVITE}},A=function(e){void 0===e&&(e=E.Colors.PREMIUM_PERK_ORANGE);return{color:e,icon:c.default,description:O.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_UPSELL_PERKS_ANIMATED_ICON}},P=function(){return{color:E.Colors.PREMIUM_PERK_GREEN,icon:f.default,description:O.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_UPSELL_PERKS_GUILD_BANNER}},M=function(){return{color:E.Colors.PREMIUM_PERK_GREEN,icon:c.default,description:O.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_UPSELL_PERKS_ANIMATED_GUILD_BANNER}
},N=function(){return{color:E.Colors.PREMIUM_PERK_ORANGE,icon:d.default,description:O.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_UPSELL_PERKS_ROLE_ICON}},R=function(e){void 0===e&&(e=E.Colors.PREMIUM_PERK_PURPLE);return{color:e,icon:m.default,description:O.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_UPSELL_PERKS_STICKERS}},w=function(e){void 0===e&&(e=E.Colors.PREMIUM_PERK_YELLOW);return{color:e,icon:m.default,description:O.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_UPSELL_PERKS_STICKERS_UPLOAD.format({numStickers:g.TotalStickerCountsByTier[E.BoostedGuildTiers.TIER_1]})}},D=function(e,t){void 0===t&&(t=E.Colors.PREMIUM_PERK_PURPLE);var n=0,r=0;switch(e){case E.BoostedGuildTiers.TIER_1:n=15;r=100;break;case E.BoostedGuildTiers.TIER_2:n=30;r=150;break;case E.BoostedGuildTiers.TIER_3:n=60;r=250}return{color:t,icon:m.default,description:O.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_UPSELL_PERKS_STICKERS_AND_EMOJIS.format({numStickers:n,numEmojis:r})}},L=function(){return{
color:E.Colors.PREMIUM_PERK_GOLD,icon:h.default,description:O.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_UPSELL_PERKS_VANITY_URL}},k=function(){return{icon:u.default,description:O.default.Messages.PREMIUM_GUILD_USER_FEATURE_PROFILE_BADGE}},j=function(){return{icon:p.default,color:E.Colors.PREMIUM_PERK_GREEN,description:O.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_UPSELL_PERKS_THREADS_PRIVATE}},U=function(){return{icon:s.default,color:E.Colors.PREMIUM_PERK_PINK,description:O.default.Messages.PREMIUM_GUILD_USER_FEATURE_BOOST_CRYSTAL}},G=function(){return{icon:d.default,color:E.Colors.PREMIUM_PERK_YELLOW,description:O.default.Messages.PREMIUM_GUILD_USER_FEATURE_SPECIAL_ROLE}},F=function(){return{color:E.Colors.PREMIUM_PERK_BLUE,icon:l.default,description:O.default.Messages.PREMIUM_GUILD_USER_FEATURE_OTHERS}},x=function(e){void 0===e&&(e=O.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_UPSELL_PERKS_OTHER);return{color:E.Colors.PREMIUM_PERK_BLUE,icon:l.default,description:e}},W=function(){
return{color:E.Colors.PREMIUM_PERK_PURPLE,icon:_.default,description:O.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_UPSELL_PERKS_FILE_UPLOAD_TIER_3}},B=function(){return{color:E.Colors.PREMIUM_PERK_PURPLE,icon:y.default,description:O.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_UPSELL_PERKS_SCREEN_SHARE_720P}},V=function(e){void 0===e&&(e=E.Colors.PREMIUM_PERK_GREEN);return{color:e,icon:y.default,description:O.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_UPSELL_PERKS_SCREEN_SHARE_1080P}},H=C(o.default,{}),Y=function(){return{color:E.Colors.PREMIUM_PERK_GOLD,icon:v.default,description:C("div",{className:S.default.activitiesPerk},void 0,C(i.Text,{variant:"text-md/medium",color:"interactive-active"},void 0,O.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_UPSELL_PERKS_ACTIVITIES),H)}};t.moreActivitiesPerk=Y},408692:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(55701),i=y(n(964285)),u=y(n(956117)),l=y(n(16941)),s=y(n(259530)),c=y(n(308920)),d=n(682937),f=n(770348),p=y(n(247001)),v=y(n(258771));function y(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3]
;t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var _=function(e){var t=e.guild,n=e.appliedGuildBoosts,r=t.id;a.useEffect((function(){c.default.track(f.AnalyticEvents.CHANNEL_NOTICE_VIEWED,{notice_type:f.ChannelNoticeTypes.GUILD_BOOSTING_GRACE_PERIOD,guild_id:r})}),[r]);return null==n||(0,d.appliedGuildBoostsRequiredForPerks)(n,r)<=0?null:m("div",{className:v.default.channelNotice},void 0,m(l.default,{onClick:function(){(0,o.hidePremiumGuildGracePeriodNotice)(r)},className:v.default.close,"aria-label":p.default.Messages.DISMISS},void 0,m(s.default,{className:v.default.closeIcon})),m("div",{className:v.default.message},void 0,p.default.Messages.PREMIUM_GUILD_GRACE_PERIOD_NOTICE),m(u.default,{fullWidth:!0,color:u.default.Colors.PRIMARY,size:u.default.Sizes.SMALL,onClick:function(){c.default.track(f.AnalyticEvents.CHANNEL_NOTICE_CTA_CLICKED,{
source:f.ChannelNoticeCtaSources.GRACE_PERIOD_NOTICE,guild_id:r,notice_type:f.ChannelNoticeTypes.GUILD_BOOSTING_GRACE_PERIOD});i.default.open(r,f.GuildSettingsSections.GUILD_PREMIUM)},className:v.default.checkStatusButton},void 0,p.default.Messages.PREMIUM_GUILD_GRACE_PERIOD_NOTICE_BUTTON))};_.displayName="AppliedGuildBoostGracePeriodNotice";var g=_;t.default=g},578628:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=h;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294))
;var r,a=p(n(954140)),o=p(n(37039)),i=p(n(918667)),u=p(n(58941)),l=n(682937),s=n(770348),c=n(665984),d=p(n(247001)),f=p(n(484771));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e){var t=e.guild,n=e.markAsDismissed,r=(0,l.getNumberOfAppliedBoostsNeededForTier)(t,s.BoostedGuildTiers.TIER_2),p=(0,o.default)(a.default.GUILD_BANNER_NOTICE).analyticsLocations;return y(i.default,{guild:t,onDismissed:n,
cta:d.default.Messages.GUILD_BANNER_NOTICE_CTA,message:d.default.Messages.GUILD_BANNER_NOTICE.format({boostsNeeded:r}),type:s.ChannelNoticeTypes.GUILD_BANNER,image:f.default,onClick:function(){return(0,u.default)({analyticsLocations:p,analyticsSourceLocation:{section:s.AnalyticsSections.CHANNEL_NOTICE,object:s.AnalyticsObjects.SERVER_BANNER_TOOLTIP},guild:t,perks:(0,c.guildBannerUpsellPerks)()})},imageMarginTop:15,imageMarginX:22})}h.displayName="GuildBannerNotice"},559759:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e
;n&&n.set(e,r);return r}(n(667294)),o=f(n(536211)),i=f(n(918667)),u=n(75639),l=f(n(311492)),s=n(770348),c=f(n(247001)),d=f(n(727869));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e,t){y=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return y(e,t)}var h=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;y(e,t)}(t,e);function t(){
for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).handleButtonClick=function(){var e=t.props.guild;(0,u.openGuildBoostingMarketingModal)({guildId:e.id,location:{section:s.AnalyticsSections.CHANNEL_NOTICE,object:s.AnalyticsObjects.SERVER_STATUS_CTA}})};return t}t.prototype.render=function(){var e=this.props,t=e.guild,n=e.memberCount,r=e.markAsDismissed,a=null==n||n<s.SMALL_GUILD_MEMBER_THRESHOLD;return v(i.default,{guild:t,onDismissed:r,onClick:this.handleButtonClick,message:a?c.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_NOTICE_SMALL_GUILD:c.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_NOTICE,cta:c.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_NOTICE_BUTTON,trackingSource:s.ChannelNoticeCtaSources.GUILD_SUBSCRIPTION_NOTICE,type:s.ChannelNoticeTypes.GUILD_BOOSTING,image:d.default,imageMarginX:26})};return t}(a.PureComponent);h.displayName="GuildBoostingNotice";var m=o.default.connectStores([l.default],(function(e){
var t=e.guild;return{memberCount:l.default.getMemberCount(t.id)}}))(h);t.default=m},873113:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=c(n(636602)),a=c(n(177230)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(876874)),i=c(n(728429)),u=n(457676),l=n(770348);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return d(e,t)}function f(){
f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}var p=null,v=function(e,t){var n,a,s,c,d,p,v,y,h,m=o.default.getMember(e,t),_=i.default.getUser(t);if(null!=m&&null!=_&&!(0,u.isMemberCommunicationDisabled)(m)){var g=f({},m,{guildId:e,nick:null!==(n=m.nick)&&void 0!==n?n:_.username,avatar:null!==(a=m.avatar)&&void 0!==a?a:void 0,banner:null!==(s=m.banner)&&void 0!==s?s:void 0,bio:null!==(c=m.bio)&&void 0!==c?c:void 0,premiumSince:null!==(d=m.premiumSince)&&void 0!==d?d:void 0,isPending:null!==(p=m.isPending)&&void 0!==p&&p,user:f({},_,{email:null!==(v=_.email)&&void 0!==v?v:void 0,phone:null!==(y=_.phone)&&void 0!==y?y:void 0,banner:null!==(h=_.banner)&&void 0!==h?h:void 0}),communicationDisabledUntil:null});r.default.dispatch(f({type:l.ActionTypes.GUILD_MEMBER_UPDATE},g))}},y=new(function(e){!function(e,t){
e.prototype=Object.create(t.prototype);e.prototype.constructor=e;d(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).clearGuildMemberTimeout=v;return t}var n=t.prototype;n._initialize=function(){p=setInterval((function(){return e=o.default.getCommunicationDisabledUserMap(),void Object.keys(e).forEach((function(t){var n=t,r=(0,o.getGuildIdFromCommunicationDisabledUserKey)(n),a=(0,o.getUserIdFromCommunicationDisabledUserKey)(n),i=e[n];(0,u.isCommunicationDisabled)(i)||v(r,a)}));var e}),1e4)};n._terminate=function(){clearInterval(p)};return t}(a.default));t.default=y},646832:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useCommunicationDisabledCountdownCleanup=function(e){var t=null!=e?e:{},n=t.communicationDisabledUntil,i=t.userId,u=t.guildId,l=(0,a.default)(null!=n?Date.parse(n):Date.now()),s=l.seconds,c=(0,r.useRef)(null);(0,r.useEffect)((function(){
if(null!=e&&null!=u&&null!=i){s<=0&&null==c.current&&(c.current=setTimeout((function(){o.default.clearGuildMemberTimeout(u,i)}),1e3));return function(){if(null!=c.current){clearTimeout(c.current);c.current=null}}}clearTimeout(c.current)}),[u,i,s,n,e]);return l};var r=n(667294),a=i(n(683767)),o=i(n(873113));function i(e){return e&&e.__esModule?e:{default:e}}},62017:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.CommunicationDisabledBanner=S;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294))
;var r,a=n(536211),o=n(960736),i=m(n(423046)),u=m(n(876874)),l=m(n(240469)),s=n(645758),c=m(n(769752)),d=n(646832),f=n(576458),p=m(n(257917)),v=n(397769),y=m(n(247001)),h=m(n(146615));function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1
;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e){var t=e.guild,n=e.disabledUntil,r=E((0,f.useCommunicationDisabledNoticeStore)(t.id),2),m=r[0],_=r[1],O=(0,a.useStateFromStores)([u.default,i.default],(function(){
return u.default.getMember(t.id,i.default.getId())}),[t.id]);(0,d.useCommunicationDisabledCountdownCleanup)(O);return g("div",{},void 0,m?g(p.default,{onClose:function(){return _(t.id)},guildName:t.name}):null,g(o.MessageNoticeBanner,{bannerIcon:g(c.default,{className:h.default.bannerIcon}),bannerHeader:y.default.Messages.GUILD_COMMUNICATION_DISABLED_NOTICE_HEADER,bannerSubtext:y.default.Messages.GUILD_COMMUNICATION_DISABLED_CHAT_NOTICE_DESCRIPTION.format({link:v.GUILD_COMMUNICATION_DISABLED_RESOURCE_LINK}),containerStyles:h.default.bannerContainer,headerStyles:h.default.bannerHeader},void 0,g(s.Text,{variant:"text-sm/semibold"},void 0,g(l.default,{deadline:new Date(n),showUnits:!0,stopAtOneSec:!0}))))}S.displayName="CommunicationDisabledBanner"},257917:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=p;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=c(n(956117)),o=n(772575),i=n(645758),u=c(n(769752)),l=c(n(247001)),s=c(n(430294));function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,
props:t,_owner:null}}function p(e){var t=e.onClose,n=e.guildName;return f("div",{className:s.default.container},void 0,f("div",{className:s.default.iconContainer},void 0,f(u.default,{className:s.default.icon,width:20,height:20})),f("div",{className:s.default.header},void 0,f(o.Heading,{variant:"heading-md/medium",className:s.default.headerText,level:3},void 0,l.default.Messages.GUILD_COMMUNICATION_DISABLED_POPOUT_HEADER),f(i.Text,{variant:"text-sm/normal"},void 0,l.default.Messages.GUILD_COMMUNICATION_DISABLED_POPOUT_SUBHEADER.format({guildName:n})),f(a.default,{onClick:t,className:s.default.button},void 0,l.default.Messages.OKAY)))}p.displayName="CommunicationDisabledPopout"},742965:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.featureGuildFeedMessageItem=function(e,t,n){return T.apply(this,arguments)};t.fetchGuildFeed=function(e,t){return b.apply(this,arguments)};t.hideItemFromGuildFeed=function(e,t){return C.apply(this,arguments)}
;t.markGuildFeedItemAsSeen=function(e,t,n){u.default.dirtyDispatch({type:h.ActionTypes.GUILD_FEED_ITEM_SEEN,guildId:e,itemId:t,timestampMillis:n})};t.markGuildFeedItemAsUnseen=function(e,t,n){u.default.dirtyDispatch({type:h.ActionTypes.GUILD_FEED_ITEM_UNSEEN,guildId:e,itemId:t,timestampMillis:n})};t.removeItemFromGuildFeed=function(e){return I.apply(this,arguments)};t.sendFeedShownAnalytics=function(e){d.default.track(h.AnalyticEvents.FEED_SHOWN,{guild_id:e,load_id:p.default.getLoadId(e),home_session_id:s.default.getHomeSessionId(e)})};t.setFeedItemPreference=function(e,t){return M.apply(this,arguments)};t.unfeatureGuildFeedMessageItem=function(e,t){return A.apply(this,arguments)};t.unhideItemFromGuildFeed=function(e,t){return P.apply(this,arguments)};var r=n(177661),a=n(582972),o=n(789666),i=m(n(118915)),u=m(n(636602)),l=m(n(568681)),s=m(n(173101)),c=m(n(290629)),d=m(n(308920)),f=n(71246),p=m(n(968078)),v=m(n(676509)),y=n(124042),h=n(770348);function m(e){return e&&e.__esModule?e:{
default:e}}function _(){_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return _.apply(this,arguments)}function g(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function E(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){g(o,r,a,i,u,"next",e)}function u(e){g(o,r,a,i,u,"throw",e)}i(void 0)}))}}function O(e,t){return t.map((function(t){return p.default.getItem(e,t)})).filter((function(e){return null!=(null==e?void 0:e.message)&&!c.default.isBlocked(e.message.author.id)})).filter(f.isNotNullish).map((function(e){return(0,v.default)(e)}))}function S(e,t,n){var r=p.default.getSectionedItemIds(e);null!=r&&d.default.track(h.AnalyticEvents.FEED_LOADED,{guild_id:e,load_id:p.default.getLoadId(e),unread_feed_item_ids:O(e,r[y.GuildFeedSectionTypes.UNREAD]),
read_feed_item_ids:O(e,r[y.GuildFeedSectionTypes.READ]),load_time_millis:t,home_session_id:s.default.getHomeSessionId(e),start_home_session_id:n,page:0})}function b(){return(b=E(regeneratorRuntime.mark((function e(t,n){var a,o,c,d,f,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Date.now();u.default.dispatch({type:h.ActionTypes.GUILD_FEED_FETCH_START,guildId:t});o=s.default.getHomeSessionId(t);e.prev=3;e.next=6;return null==n?void 0:n();case 6:e.next=8;return i.default.get(h.Endpoints.GUILD_FEED(t));case 8:c=e.sent;d=c.body;u.default.dispatch({type:h.ActionTypes.GUILD_FEED_FETCH_SUCCESS,guildId:t,data:d});f=Date.now()-a;S(t,f,o);(p=d.results.items.filter((function(e){return e.type===r.GuildFeedItemTypes.FORUM_POST}))).length>0&&u.default.dispatch({type:h.ActionTypes.LOAD_THREADS_SUCCESS,threads:p.map((function(e){return e.thread})),firstMessages:p.map((function(e){return e.message})),guildId:t});return e.abrupt("return",c);case 18:e.prev=18
;e.t0=e.catch(3);u.default.dispatch({type:h.ActionTypes.GUILD_FEED_FETCH_FAILURE,guildId:t,error:new l.default(e.t0)});throw e.t0;case 22:case"end":return e.stop()}}),e,null,[[3,18]])})))).apply(this,arguments)}function I(){return(I=E(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return i.default.post({url:h.Endpoints.GUILD_FEED_MESSAGE_REMOVE(t.message.channel_id,t.message.id)});case 2:n=e.sent;u.default.dispatch({type:h.ActionTypes.GUILD_FEED_ITEM_REMOVE,item:t});return e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return(C=E(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return i.default.put({url:h.Endpoints.GUILD_FEED_MESSAGE_SET_PREFERENCE(n),body:{channel_id:t.message.channel_id,message_id:t.message.id,load_id:p.default.getLoadId(n),
preference:o.GuildFeedPreferenceOptions.HIDDEN,entity_type:a.GuildFeedPreferenceEntityTypes.MESSAGE}});case 2:r=e.sent;u.default.dispatch({type:h.ActionTypes.GUILD_FEED_ITEM_HIDE,item:t});return e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){return(T=E(regeneratorRuntime.mark((function e(t,n,a){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0;e.next=3;return i.default.put({url:h.Endpoints.GUILD_FEED_FEATURE_ITEM(t),body:{entity_id:n.id,entity_type:r.GuildFeedItemTypes.MESSAGE,expires_at:a,details:{channel_id:n.channel_id}}});case 3:o=e.sent;u.default.dispatch({type:h.ActionTypes.GUILD_FEED_FEATURE_MESSAGE,message:n,guildId:t});return e.abrupt("return",o);case 8:e.prev=8;e.t0=e.catch(0);throw new l.default(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function A(){return(A=E(regeneratorRuntime.mark((function e(t,n){var a
;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0;e.next=3;return i.default.delete({url:h.Endpoints.GUILD_FEED_FEATURE_ITEM(t),body:{entity_id:n.id,entity_type:r.GuildFeedItemTypes.MESSAGE}});case 3:a=e.sent;u.default.dispatch({type:h.ActionTypes.GUILD_FEED_UNFEATURE_MESSAGE,message:n,guildId:t});return e.abrupt("return",a);case 8:e.prev=8;e.t0=e.catch(0);throw new l.default(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function P(){return(P=E(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return i.default.delete({url:h.Endpoints.GUILD_FEED_MESSAGE_SET_PREFERENCE(n),body:{channel_id:t.message.channel_id,message_id:t.message.id,load_id:p.default.getLoadId(n),entity_type:a.GuildFeedPreferenceEntityTypes.MESSAGE}});case 2:r=e.sent;u.default.dispatch({type:h.ActionTypes.GUILD_FEED_ITEM_UNHIDE,item:t})
;return e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(){return(M=E(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return i.default.put({url:h.Endpoints.GUILD_FEED_MESSAGE_SET_PREFERENCE(t),body:_({},n,{load_id:p.default.getLoadId(t),preference:o.GuildFeedPreferenceOptions.DEMOTED})});case 2:r=e.sent;return e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},922748:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=v(n(636602)),a=v(n(177230)),o=v(n(173101)),i=v(n(423046)),u=v(n(211136)),l=v(n(790597)),s=v(n(308920)),c=v(n(968078)),d=n(124042),f=n(770348),p=n(173652);function v(e){return e&&e.__esModule?e:{default:e}}function y(e,t){y=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return y(e,t)}var h=new(function(e){!function(e,t){
e.prototype=Object.create(t.prototype);e.prototype.constructor=e;y(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){r.default.subscribe(f.ActionTypes.MESSAGE_REACTION_ADD,this.handleReaction);r.default.subscribe(f.ActionTypes.MESSAGE_REACTION_REMOVE,this.handleReaction);r.default.subscribe(f.ActionTypes.SIDEBAR_VIEW_THREAD,this.handleSidebarViewThread)};n._terminate=function(){r.default.unsubscribe(f.ActionTypes.MESSAGE_REACTION_ADD,this.handleReaction);r.default.unsubscribe(f.ActionTypes.MESSAGE_REACTION_REMOVE,this.handleReaction);r.default.unsubscribe(f.ActionTypes.SIDEBAR_VIEW_THREAD,this.handleSidebarViewThread)};n.handleReaction=function(e){var t=e.type,n=e.userId,r=e.messageId,a=e.optimistic;if(n===i.default.getId()&&a){var v=l.default.getGuildId();if(null!=v){var y=u.default.getChannelId();if((0,p.isGuildHomeChannel)(y)){var h=c.default.getItemForMessageId(v,r)
;null!=h&&null!=h.message&&s.default.track(f.AnalyticEvents.FEED_ITEM_INTERACTED,{feed_item_type:h.type,load_id:c.default.getLoadId(v),action_type:t===f.ActionTypes.MESSAGE_REACTION_ADD?d.FeedItemInteractionType.REACTION_ADDED:d.FeedItemInteractionType.REACTION_REMOVED,guild_id:v,channel_id:h.message.channel_id,message_id:h.message.id,home_session_id:o.default.getHomeSessionId(v)})}}}};n.handleSidebarViewThread=function(e){var t=e.channelId,n=e.baseChannelId;if((0,p.isGuildHomeChannel)(n)){var r=l.default.getGuildId();if(null!=r){var a=c.default.getItemForMessageId(r,t);null!=a&&null!=a.message&&s.default.track(f.AnalyticEvents.FEED_ITEM_INTERACTED,{feed_item_type:a.type,load_id:c.default.getLoadId(r),action_type:d.FeedItemInteractionType.THREAD_EMBED_CLICKED,guild_id:r,channel_id:a.message.channel_id,message_id:a.message.id,home_session_id:o.default.getHomeSessionId(r)})}}};return t}(a.default));t.default=h},741645:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0
});t.default=t.ForceFlushType=void 0;var r=s(n(441143)),a=s(n(118915)),o=s(n(636602)),i=s(n(308920)),u=n(676509),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){c(o,r,a,i,u,"next",e)}function u(e){c(o,r,a,i,u,"throw",e)}i(void 0)}))}}function f(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0
;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v;function y(e,t){for(var n,a=0,o=[],i=f(e);!(n=i()).done;){var u=n.value;null==u.endTimeMillis?t?a+=Date.now()-u.startTimeMillis:o.push(u):a+=u.endTimeMillis-u.startTimeMillis}(0,r.default)(o.length<2,"there should only be a single left over data");return{additionalSeenTimeMillis:Math.round(a),leftOverData:o}}function h(e){var t=e.guildId,n=e.loadId,r=e.homeSessionId,o=e.seenData,s=e.force,c={};for(var d in o){var f=y(o[d],s),p=f.additionalSeenTimeMillis,v=f.leftOverData;p>0&&(c[d]={additionalSeenTimeMillis:p});o[d]=v}if(0===Object.keys(c).length)return Promise.resolve();var h=[],m=[],_=[];for(var g in c){h.push(g);m.push(c[g].additionalSeenTimeMillis)
;c[g].additionalSeenTimeMillis>=1500&&_.push(g)}i.default.track(l.AnalyticEvents.FEED_ITEM_SEEN_BATCH,{guild_id:t,load_id:n,feed_item_ids:h,additional_seen_time_millis:m,home_session_id:r});return a.default.post({url:l.Endpoints.GUILD_FEED_MARK_SEEN(t),body:{item_ids:_.map((function(e){return(0,u.getSnowflakeFromGuildFeedItemId)(e)}))}})}t.ForceFlushType=v;!function(e){e[e.FORCE=0]="FORCE";e[e.IMMEDIATE=1]="IMMEDIATE"}(v||(t.ForceFlushType=v={}));t.default=function(e,t,n){var r=this;this.maybeFlushSeenItems=function(e){var t=r.guildId,n=r.loadId,a=r.seenData,o=r.homeSessionId;if(null==n||null==o)return Promise.resolve();if(null==e&&Date.now()-r.lastFlushTimeMillis<6e4)return Promise.resolve();r.lastFlushTimeMillis=Date.now();var i={guildId:t,loadId:n,seenData:a,force:null!=e,homeSessionId:o};return e===v.IMMEDIATE?h(i):new Promise((function(e){setTimeout(d(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2
;return h(i);case 2:e();case 3:case"end":return t.stop()}}),t)}))),100)}))};this.getItemSeenDataList=function(e){null==r.seenData[e]&&(r.seenData[e]=[]);return r.seenData[e]};this.getLastSeenData=function(e){if(null!=e&&0!==e.length)return e[e.length-1]};this.initialize=function(){o.default.subscribe(l.ActionTypes.GUILD_FEED_ITEM_SEEN,r.handleSeen);o.default.subscribe(l.ActionTypes.GUILD_FEED_ITEM_UNSEEN,r.handleUnseen);o.default.subscribe(l.ActionTypes.APP_STATE_UPDATE,r.handleAppStateUpdate)};this.terminate=function(){o.default.unsubscribe(l.ActionTypes.GUILD_FEED_ITEM_SEEN,r.handleSeen);o.default.unsubscribe(l.ActionTypes.GUILD_FEED_ITEM_UNSEEN,r.handleUnseen);o.default.unsubscribe(l.ActionTypes.APP_STATE_UPDATE,r.handleAppStateUpdate);r.maybeFlushSeenItems(v.FORCE)};this.handleSeen=function(e){var t=e.guildId,n=e.itemId,a=e.timestampMillis;if(t===r.guildId){var o=r.getItemSeenDataList(n),i=r.getLastSeenData(o);if(null==i||null!=i.endTimeMillis){o.push({startTimeMillis:a})
;r.paused&&r.pausedItemIds.add(n)}}};this.handleUnseen=function(e){var t=e.guildId,n=e.itemId,a=e.timestampMillis;if(t===r.guildId){var o=r.getItemSeenDataList(n),i=r.getLastSeenData(o);if(null!=i&&null==i.endTimeMillis){i.endTimeMillis=a;r.paused&&r.pausedItemIds.delete(n);r.maybeFlushSeenItems()}}};this.handleAppStateUpdate=function(e){var t=e.state;"active"===t&&r.isFocused&&r.resume(r.guildId);if("background"===t){r.isFocused&&r.pause(r.guildId);r.maybeFlushSeenItems(v.FORCE)}};this.clearPausedItemIds=function(){r.pausedItemIds=new Set;r.paused=!1};this.getSeenItemIds=function(){var e=new Set;for(var t in r.seenData){var n=r.getItemSeenDataList(t),a=r.getLastSeenData(n);null!=a&&null!=a.startTimeMillis&&null==a.endTimeMillis&&e.add(t)}return e};this.pause=function(e){if(e===r.guildId){if(!r.paused){r.paused=!0;var t=r.getSeenItemIds();t.forEach((function(t){r.handleUnseen({guildId:e,itemId:t,timestampMillis:Date.now(),type:"GUILD_FEED_ITEM_UNSEEN"})}));r.pausedItemIds=t}
}else r.clearPausedItemIds()};this.resume=function(e){if(e===r.guildId){if(r.paused){r.paused=!1;r.pausedItemIds.forEach((function(t){r.handleSeen({guildId:e,itemId:t,timestampMillis:Date.now(),type:"GUILD_FEED_ITEM_SEEN"})}));r.clearPausedItemIds()}}else r.clearPausedItemIds()};this.handleFocus=function(e,t){r.isFocused=e;r.isFocused?r.resume(t):r.pause(t)};this.guildId=e;this.loadId=t;this.homeSessionId=n;this.seenData={};this.lastFlushTimeMillis=Date.now();this.paused=!1;this.pausedItemIds=new Set;this.isFocused=!0}},397898:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.guildId,n=e.channelId,s=e.messageId,c=e.feedItemType,d=e.onChannelClick,f=e.onContentClick;return{handleMessageClick:function(e){e.stopPropagation();o.default.track(l.AnalyticEvents.FEED_ITEM_INTERACTED,{feed_item_type:c,load_id:i.default.getLoadId(t),action_type:u.FeedItemInteractionType.MESSAGE_CLICKED,guild_id:t,channel_id:n,message_id:s,
home_session_id:a.default.getHomeSessionId(t)});f()},handleChannelClick:function(e){e.stopPropagation();o.default.track(l.AnalyticEvents.FEED_ITEM_INTERACTED,{feed_item_type:c,load_id:i.default.getLoadId(t),action_type:u.FeedItemInteractionType.MESSAGE_CHANNEL_CLICKED,guild_id:t,channel_id:n,message_id:s,home_session_id:a.default.getHomeSessionId(t)});d()},handleCardClick:function(e,d,f){for(var p=e.target;(0,r.isElement)(p);){var v,y;if(p===d)break;var h=null!==(v=null===(y=p.getAttribute("data-role"))||void 0===y?void 0:y.toUpperCase())&&void 0!==v?v:p.tagName;if("A"===h){o.default.track(l.AnalyticEvents.FEED_ITEM_INTERACTED,{feed_item_type:c,load_id:i.default.getLoadId(t),action_type:u.FeedItemInteractionType.LINK_CLICKED,guild_id:t,channel_id:n,message_id:s,home_session_id:a.default.getHomeSessionId(t)});return}if("IMG"===h){o.default.track(l.AnalyticEvents.FEED_ITEM_INTERACTED,{feed_item_type:c,load_id:i.default.getLoadId(t),action_type:u.FeedItemInteractionType.IMAGE_CLICKED,
guild_id:t,channel_id:n,message_id:s,home_session_id:a.default.getHomeSessionId(t)});return}if("BUTTON"===h||"button"===p.getAttribute("role")){o.default.track(l.AnalyticEvents.FEED_ITEM_INTERACTED,{feed_item_type:c,load_id:i.default.getLoadId(t),action_type:u.FeedItemInteractionType.BUTTON_CLICKED,guild_id:t,channel_id:n,message_id:s,home_session_id:a.default.getHomeSessionId(t)});return}p=p.parentNode}null==f||f()}}};var r=n(659779),a=s(n(173101)),o=s(n(308920)),i=s(n(968078)),u=n(124042),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}},389666:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=(0,o.useStateFromStores)([u.default],(function(){return u.default.getFetchStatus(e)}),[e]),n=t.loading,r=t.error,l=a.useCallback((function(t){var n=t.force,r=t.flushSeenItems;d(e,null!=n&&n)&&function(){a.apply(this,arguments)}();function a(){return(a=c(regeneratorRuntime.mark((function t(){
return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0;t.next=3;return(0,i.fetchGuildFeed)(e,r);case 3:t.next=8;break;case 5:t.prev=5;t.t0=t.catch(0);console.error(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))).apply(this,arguments)}}),[e]);a.useEffect((function(){l({})}),[l]);return{fetch:l,loading:n,error:r}};t.shouldFetchGuildFeed=d;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=n(742965),u=(r=n(968078))&&r.__esModule?r:{default:r};function l(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){s(o,r,a,i,u,"next",e)}function u(e){s(o,r,a,i,u,"throw",e)}i(void 0)}))}}function d(e,t){var n=u.default.getLastFetchedMillis(e);return!(!t&&null!=n&&Date.now()-n<72e5)&&!u.default.getFetchStatus(e).loading}},47186:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=s(n(294184)),o=s(n(244165)),i=s(n(16941)),u=s(n(617493)),l=["className","children","ariaLabel","onContextMenu","onCardClick","onItemClick","listItemProps","itemId","selected"];function s(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{
i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v=r.forwardRef((function(e,t){var n,s=e.className,c=e.children,p=e.ariaLabel,v=e.onContextMenu,y=e.onCardClick,h=e.onItemClick,m=e.listItemProps,_=e.itemId,g=e.selected,E=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,l),O=f((0,
o.default)(t),2),S=O[0],b=O[1],I=r.useRef(null);return r.createElement("div",d({ref:b,className:(0,a.default)(u.default.card,u.default.interactiveCard,(n={},n[u.default.selected]=g,n),s),"data-item-id":_,onContextMenu:v,onClick:function(e){return null==y?void 0:y(e,S.current,(function(){var e,t;return null===(e=I.current)||void 0===e||null===(t=e.click)||void 0===t?void 0:t.call(e)}))}},E),r.createElement(i.default,d({className:u.default.clickableTarget,innerRef:I,"aria-label":p,onClick:h},m)),c)}));t.default=v},952572:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(177661),i=n(536211),u=n(71246),l=n(742965),s=p(n(968078)),c=p(n(876859)),d=p(n(582652)),f=p(n(963481));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]
;if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||m(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){if(e){if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t,n){for(var r,a=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n)
;if(Array.isArray(e)||(n=m(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(n);!(r=a()).done;){var o=r.value,i=o.target.dataset.itemId;if(null==i)return;var u=Date.now();o.intersectionRatio>=t?(0,l.markGuildFeedItemAsSeen)(e,i,u):(0,l.markGuildFeedItemAsUnseen)(e,i,u)}}var E=a.memo((function(e){var t=e.guildId,n=e.itemId,r=e.scrollerHeight,p=e.scrollerRef,v=h((0,i.useStateFromStoresArray)([s.default],(function(){return[s.default.getItem(t,n),s.default.getIsItemHiding(t,n),s.default.getIsItemHidden(t,n)]})),3),m=v[0],_=v[1],E=v[2],O=a.useRef(null);a.useEffect((function(){var e,a=O.current;if(null!=a&&null!=r){var o=a.clientHeight,i=null===(e=p.current)||void 0===e?void 0:e.getScrollerNode();if(null!=i){
var u=Math.min(.5,.5*r/o),s=new IntersectionObserver((function(e){return g(t,u,e)}),{root:i,rootMargin:"0px 100000px 0px 100000px",threshold:u});s.observe(a);return function(){s.disconnect()}}}else(0,l.markGuildFeedItemAsUnseen)(t,n,Date.now())}),[n,t,p,r,_,E]);if(null==m||E)return null;if(_)return y(c.default,{guildId:t,feedItem:m});switch(m.type){case o.GuildFeedItemTypes.FORUM_POST:return a.createElement(f.default,{ref:O,guildId:t,postItem:m});case o.GuildFeedItemTypes.MESSAGE:return a.createElement(d.default,{ref:O,guildId:t,messageItem:m});default:(0,u.assertNever)(m)}}));t.default=E},388884:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=s;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=i(n(294184)),o=i(n(25121));function i(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function s(e){var t,n=e.children,r=e.hideBorder;return l("div",{className:(0,a.default)(o.default.feedItemHeader,(t={},t[o.default.hideBorder]=r,t))},void 0,n)}s.displayName="GuildFeedItemHeader"},
876859:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=R;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(393356),i=n(582972),u=n(536211),l=C(n(678928)),s=n(341186),c=C(n(644263)),d=C(n(876874)),f=C(n(290629)),p=C(n(728429)),v=C(n(956117)),y=C(n(16941)),h=n(645758),m=C(n(549998)),_=C(n(420303)),g=C(n(29652)),E=n(742965),O=C(n(47186)),S=C(n(388884)),b=C(n(247001)),I=C(n(469887));function C(e){return e&&e.__esModule?e:{default:e}}function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){
return e?n:t})(e)}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}
function M(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function N(e){var t=e.guildId,n=e.feedItem,r=e.onSendFeedback,a=n.message.channel_id,o=(0,u.useStateFromStores)([c.default],(function(){return c.default.getChannel(a)})),v=(0,l.default)(o),_=(0,s.getChannelIconComponent)(o),O=(0,u.useStateFromStores)([p.default],(function(){return p.default.getUser(n.message.author.id)})),S=(0,u.useStateFromStores)([c.default,d.default,f.default],(function(){return g.default.getName(t,a,O)})),C=function(e){(0,E.setFeedItemPreference)(t,e);r()};return M("div",{className:I.default.options},void 0,M(y.default,{
className:I.default.option,onClick:function(){return C({channel_id:a,message_id:n.message.id,entity_type:i.GuildFeedPreferenceEntityTypes.MESSAGE})}},void 0,M(h.Text,{variant:"text-md/normal",color:"interactive-active"},void 0,b.default.Messages.GUILD_FEED_HIDDEN_MESSAGE_FEEDBACK_NO_LIKE)),M(y.default,{className:I.default.option,onClick:function(){return C({channel_id:a,entity_type:i.GuildFeedPreferenceEntityTypes.CHANNEL})}},void 0,M(h.Text,{variant:"text-md/normal",color:"interactive-active"},void 0,b.default.Messages.GUILD_FEED_HIDDEN_MESSAGE_FEEDBACK_SHOW_LESS_CHANNEL.format({channelName:v,channelNameHook:function(e,t){return M("span",{},t,null!=_&&M(_,{className:I.default.mentionIcon,width:20,height:20})," ",e)}}))),M(y.default,{className:I.default.option,onClick:function(){return C({user_id:n.message.author.id,entity_type:i.GuildFeedPreferenceEntityTypes.USER})}},void 0,M(h.Text,{variant:"text-md/normal",color:"interactive-active"
},void 0,b.default.Messages.GUILD_FEED_HIDDEN_MESSAGE_FEEDBACK_SHOW_LESS_USER.format({username:S,usernameHook:function(e,t){return M("span",{},t,M(m.default,{className:I.default.mentionIcon,width:20,height:20})," ",e)}}))))}N.displayName="GuildFeedItemFeedbackOptions";function R(e){var t=e.guildId,n=e.feedItem,r=A(a.useState(!1),2),i=r[0],u=r[1],l=(0,o.useListItem)(n.message.id);return M(O.default,{ariaLabel:b.default.Messages.GUILD_FEED_HIDDEN_MESSAGE_ITEM,listItemProps:l},void 0,M(S.default,{hideBorder:i},void 0,M(_.default,{className:I.default.icon,width:16,height:16,foregroundColor:"currentColor"}),i?M("div",{className:I.default.title},void 0,M(h.Text,{className:I.default.title,variant:"text-md/normal",color:"interactive-active"},void 0,b.default.Messages.GUILD_FEED_HIDDEN_MESSAGE_ITEM_FEEDBACK_RECEIVED_TITLE),M(h.Text,{className:I.default.title,variant:"text-xs/normal",color:"interactive-normal"
},void 0,b.default.Messages.GUILD_FEED_HIDDEN_MESSAGE_ITEM_FEEDBACK_RECEIVED_SUBTITLE)):M(h.Text,{className:I.default.title,variant:"text-md/normal",color:"interactive-active"},void 0,b.default.Messages.GUILD_FEED_HIDDEN_MESSAGE_ITEM),M(v.default,{size:v.default.Sizes.SMALL,color:v.default.Colors.PRIMARY,onClick:function(){(0,E.unhideItemFromGuildFeed)(n,t)}},void 0,b.default.Messages.UNDO)),!i&&M(N,{guildId:t,feedItem:n,onSendFeedback:function(){return u(!0)}}))}R.displayName="GuildFeedItemHidden"},514563:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=m;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=d(n(956117)),i=n(160629),u=d(n(730977)),l=d(n(775803)),s=d(n(247001)),c=d(n(953346));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return
;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e){e.stopPropagation()}function m(e){var t=e.renderContextPopout,n=v(a.useState(!1),2),r=n[0],d=n[1],f=a.useCallback((function(e){null==e||e.stopPropagation();d(!r)
}),[r]),y=s.default.Messages.MORE;return p("div",{onClick:h,onContextMenu:h},void 0,p(i.LazyPopout,{renderPopout:function(){return t(f)},shouldShow:r,onRequestClose:f,position:i.Positions.LEFT,align:i.Align.TOP,animation:i.LazyPopout.Animation.NONE},void 0,(function(e,t){return p(u.default,{text:y,hideOnClick:!0},void 0,(function(e){var t=e.onMouseEnter,n=e.onMouseLeave,r=e.onClick;return p(o.default,{onMouseEnter:t,onMouseLeave:n,look:o.default.Looks.BLANK,size:o.default.Sizes.NONE,onClick:function(e){null==r||r();f(e)},"aria-label":y,className:c.default.overflowButton},void 0,p(l.default,{className:c.default.icon}))}))})))}m.displayName="GuildFeedItemOverflowMenuButton"},373893:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=G(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=U(n(294184)),i=n(177661),u=n(536211),l=n(252404),s=U(n(173101)),c=U(n(477072)),d=U(n(907932)),f=n(377980),p=U(n(384792)),v=n(538105),y=U(n(316865)),h=U(n(507187)),m=U(n(691851)),_=U(n(326243)),g=U(n(227236)),E=U(n(749835)),O=U(n(86031)),S=U(n(546914)),b=U(n(644263)),I=U(n(16941)),C=U(n(383942)),T=U(n(152668)),A=U(n(293578)),P=U(n(308920)),M=U(n(968078)),N=n(124042),R=n(770348),w=n(173652),D=n(100678),L=U(n(247001)),k=U(n(328203)),j=["guildId","message","className","channel","animateAvatar"];function U(e){return e&&e.__esModule?e:{default:e}}function G(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(G=function(e){return e?n:t})(e)}function F(){
F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return F.apply(this,arguments)}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return W(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function B(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var V=a.memo((function(e){var t=e.message,n=e.channel,r=e.animateAvatar,o=e.repliedMessage,i=(0,y.default)(t.id,D.DEFAULT_POPOUTS),u=i.popouts,s=i.setPopout,c=u.usernameProfile,f=u.avatarProfile,h=(0,v.useClickMessageAuthorUsername)(t,n,c,s),m=(0,
v.useClickMessageAuthorAvatar)(f,s),_=a.useCallback((function(){return s({usernameProfile:!1,avatarProfile:!1,referencedUsernameProfile:!1})}),[s]),g=(0,d.default)(t),E=(0,l.useRoleIcon)({guildId:n.guild_id,roleId:g.iconRoleId});return B(A.default,{guildId:n.guild_id,message:t,channel:n,repliedMessage:o,author:g,showTimestampOnHover:t.type!==R.MessageTypes.REPLY,renderPopout:p.default,showAvatarPopout:f,showUsernamePopout:c,onClickAvatar:m,onClickUsername:h,onPopoutRequestClose:_,roleIcon:E,animate:r})}));function H(e){var t,n=e.guildId,r=e.message,l=e.className,d=e.channel,p=e.animateAvatar,v=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,j),y=(0,h.default)(r,{renderMediaEmbeds:!0}),A=y.content,D=y.hasSpoilerEmbeds,U=x(a.useState(!1),2),G=U[0],W=U[1],H=x(a.useState(!1),2),Y=H[0],z=H[1],K=r.type===R.MessageTypes.REPLY?r.messageReference:void 0,$=(0,u.useStateFromStores)([O.default],(function(){
return O.default.getMessageByReference(K)})),q=(0,u.useStateFromStores)([b.default],(function(){return r.hasFlag(R.MessageFlags.HAS_THREAD)&&b.default.getChannel(r.id)})),X=(0,f.getMessageAriaLabelledBy)(r),Q=(0,f.getMessageAriaDescribedBy)(r),Z=r.attachments.length>0,J=null!=K?B(I.default,{onClick:function(e){if(null!=$.message){e.stopPropagation();P.default.track(R.AnalyticEvents.FEED_ITEM_INTERACTED,{feed_item_type:i.GuildFeedItemTypes.MESSAGE,load_id:M.default.getLoadId(n),action_type:N.FeedItemInteractionType.REFERENCED_MESSAGE_CLICKED,guild_id:n,channel_id:d.id,message_id:$.message.id,home_session_id:s.default.getHomeSessionId(n)});S.default.openChannelAsSidebar({channelId:d.id,messageId:$.message.id,baseChannelId:w.StaticChannelRoute.GUILD_HOME})}}},void 0,(0,E.default)(r,d,K,$,!1)):null,ee=(0,c.default)(r);return a.createElement(C.default,F({className:l,childrenRepliedMessage:J,childrenExecutedCommand:(0,g.default)(r,d,!1),childrenHeader:ee?null:B(V,{channel:d,message:r,
animateAvatar:p,repliedMessage:$}),childrenAccessories:(0,m.default)({channelMessageProps:e,hasSpoilerEmbeds:D,isInteracting:!1,forceAddReactions:!0}),childrenMessageContent:a.createElement(a.Fragment,null,B(T.default,{className:(0,o.default)((t={},t[k.default.clampLarge]=!Y&&!Z,t[k.default.clampSmall]=!Y&&Z,t)),message:r,content:A,contentRef:function(e){null!=e&&W(e.scrollHeight>e.clientHeight)}}),G&&!Y?B(I.default,{className:k.default.showMore,onClick:function(){return z(!0)},"aria-hidden":!0},void 0,L.default.Messages.GUILD_FEED_TRUNCATED_MESSAGE_SEE_MORE):null),childrenSystemMessage:(0,_.default)(e),hasThread:null!=q&&r.hasFlag(R.MessageFlags.HAS_THREAD),hasReply:r.type===R.MessageTypes.REPLY,isSystemMessage:ee,"aria-labelledby":X,"aria-describedby":Q},v))}H.displayName="GuildFeedMessage";var Y=a.memo(H);t.default=Y},582652:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ReferenceMessagesBase=H;t.default=void 0
;var r,a=j(n(667294)),o=n(393356),i=n(177661),u=n(536211),l=n(378158),s=L(n(678928)),c=n(341186),d=L(n(187295)),f=L(n(546914)),p=L(n(502546)),v=L(n(644263)),y=L(n(290629)),h=L(n(16941)),m=n(645758),_=L(n(730977)),g=L(n(436081)),E=L(n(114655)),O=j(n(152731)),S=L(n(968078)),b=L(n(676509)),I=L(n(397898)),C=L(n(722556)),T=L(n(47186)),A=L(n(388884)),P=L(n(514563)),M=L(n(373893)),N=n(770348),R=n(173652),w=L(n(247001)),D=L(n(364022));function L(e){return e&&e.__esModule?e:{default:e}}function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}function j(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function U(){U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return U.apply(this,arguments)}function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return F(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F(e,t)
}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function W(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function B(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){W(o,r,a,i,u,"next",e)}function u(e){
W(o,r,a,i,u,"throw",e)}i(void 0)}))}}var V=function(){var e=B(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(91055).then(n.bind(n,991055));case 2:t=e.sent;r=t.default;return e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function H(e){var t=e.guildId,n=e.maxUsers,r=e.users,a=e.text;return x("div",{className:D.default.referenceMessagesText},void 0,x(O.default,{guildId:t,users:r,size:O.Sizes.SIZE_16,className:D.default.userSummaryItem,max:n,showDefaultAvatarsForNullUsers:!0}),x(m.Text,{variant:"text-xs/normal",color:"header-secondary"},void 0,a))}H.displayName="ReferenceMessagesBase";function Y(e){var t=e.referenceMessages,n=e.guildId,r=a.useMemo((function(){var e=new Set;return t.map((function(e){return e.author})).filter((function(t){if(null==t||e.has(t.id))return!1;e.add(t.id);return!0})).slice(0,3)}),[t]),o=t.length
;return 0===o?null:x(H,{guildId:n,users:r,text:o>3?w.default.Messages.GUILD_FEED_MESSAGE_ITEM_MAX_REPLIES.format({maxReplies:3}):w.default.Messages.GUILD_FEED_MESSAGE_ITEM_NUM_REPLIES.format({numReplies:o})})}Y.displayName="ReferenceMessages";var z=a.forwardRef((function(e,t){var n,r,O=e.guildId,L=e.messageItem,k=L.message.channel_id,j=L.message.id,F=(0,u.useStateFromStoresObject)([S.default],(function(){return{message:S.default.getCachedMessage(O,k,j),isFeaturedMessage:S.default.getIsMessageFeatured(O,j)}}),[O,k,j]),W=F.message,H=F.isFeaturedMessage,z=(0,u.useStateFromStores)([v.default],(function(){return v.default.getChannel(k)})),K=(0,c.getChannelIconComponent)(z),$=(0,c.getChannelIconTooltipText)(z),q=null!==(n=null==L?void 0:L.referenceMessages)&&void 0!==n?n:[],X=(0,s.default)(z),Q=G(a.useState(!1),2),Z=Q[0],J=Q[1],ee=(0,u.useStateFromStores)([y.default],(function(){return null!=W&&y.default.isBlocked(null==W?void 0:W.author.id)})),te=(0,
o.useListItem)(null!==(r=null==W?void 0:W.id)&&void 0!==r?r:j),ne=(0,b.default)(L),re=(0,u.useStateFromStores)([p.default],(function(){return p.default.getSidebarState(R.StaticChannelRoute.GUILD_HOME)})),ae=null!=re&&"initialMessageId"in re&&L.message.id===(null==re?void 0:re.initialMessageId),oe=(0,I.default)({guildId:O,channelId:k,messageId:j,feedItemType:i.GuildFeedItemTypes.MESSAGE,onChannelClick:function(){return(0,d.default)(N.Routes.CHANNEL(O,k,j))},onContentClick:function(){return f.default.openChannelAsSidebar({channelId:k,messageId:j,baseChannelId:R.StaticChannelRoute.GUILD_HOME})}}),ie=oe.handleMessageClick,ue=oe.handleChannelClick,le=oe.handleCardClick;if(null==z||null==W||null==L||ee)return null;var se=function(){var e=B(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return V();case 2:n=e.sent;r=x(n,{messageItem:L,message:W,channel:z,onSelect:t});return e.abrupt("return",(function(e){
return r}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return a.createElement(T.default,{className:D.default.container,ref:t,selected:ae,onCardClick:le,onItemClick:ie,onContextMenu:function(e){e.stopPropagation();(0,l.openContextMenuLazy)(e,B(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return V();case 2:t=e.sent;return e.abrupt("return",(function(e){return a.createElement(t,U({},e,{messageItem:L,channel:z,message:W}))}));case 4:case"end":return e.stop()}}),e)}))))},itemId:ne,ariaLabel:w.default.Messages.GUILD_FEED_MESSAGE_ITEM_A11Y_LABEL.format({channelName:X}),listItemProps:te,onMouseEnter:function(){return J(!0)},onMouseLeave:function(){return J(!1)}},x(A.default,{},void 0,x("div",{className:D.default.messageHeaderMenuLeft},void 0,x(h.default,{className:D.default.channelNameContainer,onClick:ue},void 0,null!=K?x(_.default,{text:$,delay:500
},void 0,(function(e){return a.createElement(K,U({},e,{className:D.default.channelIcon,height:16,width:16}))})):null,x(g.default,{className:D.default.channelName,size:E.default.Sizes.SIZE_14},void 0,X)),H&&x("div",{className:D.default.featuredMessageContainer},void 0,x(C.default,{height:4,width:4,"aria-hidden":"true",className:D.default.featuredMessageIcon}),x(m.Text,{className:D.default.featuredMessageText,variant:"text-sm/normal",color:"header-secondary"},void 0,w.default.Messages.GUILD_FEED_FEATURED_MESSAGE))),x("div",{className:D.default.messageHeaderMenuRight},void 0,x(P.default,{feedItem:L,guildId:O,renderContextPopout:se}))),x(M.default,{className:D.default.messageItemBody,guildId:O,animateAvatar:Z,channel:z,message:W}),x(Y,{referenceMessages:q,guildId:O}))}));t.default=z},963481:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=x(n(667294)),o=n(393356),i=n(177661),u=n(536211),l=n(378158),s=G(n(678928)),c=n(341186),d=n(973523),f=x(n(487213)),p=G(n(187295)),v=G(n(546914)),y=G(n(864061)),h=G(n(979674)),m=G(n(502546)),_=G(n(644263)),g=G(n(290629)),E=G(n(16941)),O=n(772575),S=G(n(730977)),b=G(n(436081)),I=G(n(114655)),C=G(n(968078)),T=G(n(676509)),A=G(n(397898)),P=G(n(47186)),M=G(n(388884)),N=G(n(514563)),R=G(n(373893)),w=n(582652),D=n(770348),L=n(173652),k=n(64072),j=G(n(247001)),U=G(n(775039));function G(e){return e&&e.__esModule?e:{default:e}}function F(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(F=function(e){return e?n:t})(e)}function x(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=F(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function W(){W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return W.apply(this,arguments)}function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return V(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function H(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function Y(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function z(e){return function(){var t=this,n=arguments
;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Y(o,r,a,i,u,"next",e)}function u(e){Y(o,r,a,i,u,"throw",e)}i(void 0)}))}}var K=function(){var e=z(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(91055).then(n.bind(n,991055));case 2:t=e.sent;r=t.default;return e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function $(e){var t=e.channel,n=(0,u.useStateFromStores)([h.default],(function(){var e;return null!==(e=h.default.getCount(t.id))&&void 0!==e?e:0})),r=n>=k.MAX_THREAD_MESSAGE_COUNT?j.default.Messages.GUILD_FEED_MESSAGE_ITEM_MAX_REPLIES.format({maxReplies:k.MAX_THREAD_MESSAGE_COUNT}):j.default.Messages.GUILD_FEED_MESSAGE_ITEM_NUM_REPLIES.format({numReplies:n}),a=(0,u.useStateFromStores)([y.default],(function(){return y.default.getMemberIdsPreview(t.id)})),o=(0,d.useFacepileUsers)(t,null!=a?a:[])
;return 0===n?null:H(w.ReferenceMessagesBase,{guildId:t.guild_id,maxUsers:5,users:o,text:r})}$.displayName="Replies";var q=a.forwardRef((function(e,t){var n,r=e.guildId,y=e.postItem,h=y.thread,w=(0,u.useStateFromStores)([C.default],(function(){return C.default.getCachedMessage(r,h.id,y.message.id)}),[r,y.message.id,h.id]),k=(0,s.default)(h),G=(0,u.useStateFromStores)([g.default],(function(){return null!=w&&g.default.isBlocked(null==w?void 0:w.author.id)})),F=(0,o.useListItem)(null!==(n=null==w?void 0:w.id)&&void 0!==n?n:y.message.id),x=(0,T.default)(y),V=(0,c.getChannelIconTooltipText)(h),Y=(0,u.useStateFromStores)([_.default],(function(){return _.default.getChannel(h.parent_id)})),q=(0,s.default)(Y),X=(0,c.getChannelIconComponent)(Y),Q=B(a.useState(!1),2),Z=Q[0],J=Q[1],ee=(0,u.useStateFromStores)([m.default],(function(){return m.default.getSidebarState(L.StaticChannelRoute.GUILD_HOME)})),te=null!=ee&&"initialMessageId"in ee&&y.message.id===(null==ee?void 0:ee.initialMessageId),ne=(0,
A.default)({guildId:r,channelId:h.id,messageId:y.message.id,feedItemType:i.GuildFeedItemTypes.FORUM_POST,onChannelClick:function(){return(0,p.default)(D.Routes.CHANNEL(r,h.parent_id))},onContentClick:function(){return v.default.openThreadAsSidebar({baseChannelId:L.StaticChannelRoute.GUILD_HOME,channelId:h.id,initialMessageId:h.id})}}),re=ne.handleMessageClick,ae=ne.handleChannelClick,oe=ne.handleCardClick,ie=B((0,d.useFirstAppliedTag)(h),2),ue=ie[0],le=ie[1];if(null==h||null==w||null==y||G)return null;var se=function(){var e=z(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return K();case 2:n=e.sent;r=H(n,{messageItem:y,message:w,channel:h,onSelect:t});return e.abrupt("return",(function(e){return r}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return a.createElement(P.default,{className:U.default.container,ref:t,selected:te,onCardClick:oe,
onItemClick:re,onContextMenu:function(e){e.stopPropagation();(0,l.openContextMenuLazy)(e,z(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return K();case 2:t=e.sent;return e.abrupt("return",(function(e){return a.createElement(t,W({},e,{messageItem:y,channel:h,message:w}))}));case 4:case"end":return e.stop()}}),e)}))))},itemId:x,ariaLabel:j.default.Messages.GUILD_FEED_MESSAGE_ITEM_A11Y_LABEL.format({channelName:k}),listItemProps:F,onMouseEnter:function(){return J(!0)},onMouseLeave:function(){return J(!1)}},H(M.default,{},void 0,H(E.default,{className:U.default.channelNameContainer,onClick:ae},void 0,null!=X?H(S.default,{text:V,delay:500},void 0,(function(e){return a.createElement(X,W({},e,{className:U.default.channelIcon,height:16,width:16}))})):null,H(b.default,{className:U.default.channelName,size:I.default.Sizes.SIZE_14},void 0,q)),H("div",{className:U.default.postHeaderMenu},void 0,H(N.default,{
feedItem:y,guildId:r,renderContextPopout:se}))),H("div",{className:U.default.titleContainer},void 0,H(O.Heading,{className:U.default.title,variant:"heading-lg/medium"},void 0,h.name),null!=ue?H("div",{className:U.default.tags},void 0,H(f.default,{tag:ue,size:f.default.Sizes.SMALL}),le>0?H(f.ForumTagOverflow,{count:le,size:f.default.Sizes.SMALL}):null):null),H(R.default,{className:U.default.messageItemBody,guildId:h.guild_id,animateAvatar:Z,channel:h,message:w}),H($,{channel:h}))}));t.default=q},722556:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=d;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function c(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e){
var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,d=void 0===l?"currentColor":l,f=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(f),{width:n,height:a,viewBox:"0 0 4 4"}),c("circle",{cx:"2",cy:"2",r:"2",fill:d}))}d.displayName="DotSpacer"},304242:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.MAX_STORED_MESSAGES=void 0;var r,a=d(n(496486)),o=d(n(536211)),i=d(n(636602)),u=d(n(644263)),l=(d(n(790597)),d(n(71636))),s=n(770348),c=n(173652);function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){f=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return f(e,t)}var p=9e5;t.MAX_STORED_MESSAGES=26;var v={},y={},h={},m={};function _(e){var t=y[e];if(null!=t){var n=a.default.findIndex(t,(function(e){return e.id>l.default.fromTimestamp(Date.now()-p)}));if(-1===n)y[e]=[];else{
var r=Math.max(n,t.length-26);y[e]=a.default.slice(t,r)}h[e]=Date.now()}}function g(e,t,n,r){v[e].add(t);var a=h[t];(null==a||a+3e5>Date.now())&&_(t);null==y[t]&&(y[t]=[]);y[t].push({id:n,userId:r})}function E(e){var t=e.channel;delete y[t.id];delete h[t.id]}var O=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;f(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.getActiveChannelsFetchStatus=function(e){return m[e]};n.getActiveChannelIds=function(e){return v[e]};n.getChannelMessageData=function(e){return y[e]};n.shouldFetch=function(e){var t;return null==v[e]&&!(null===(t=m[e])||void 0===t?void 0:t.loading)};return t}(o.default.Store);O.displayName="ActiveChannelsStore";var S=new O(i.default,((r={})[s.ActionTypes.CHANNEL_SELECT]=function(e){var t=e.channelId,n=e.guildId;if(!(0,c.isGuildHomeChannel)(t)&&!(0,c.isPopularChannelsChannel)(t)||null==n)return!1;var r=v[n];if(null==r)return!1;r.forEach((function(e){var t
;_(e);0===(null===(t=y[e])||void 0===t?void 0:t.length)&&delete y[e]}));var o=a.default.chain(Array.from(r)).filter((function(e){return e in y})).sortBy((function(e){var t,n;return-(null!==(t=null===(n=y[e])||void 0===n?void 0:n.length)&&void 0!==t?t:0)})).value();v[n]=new Set(o)},r[s.ActionTypes.MESSAGE_CREATE]=function(e){var t=e.channelId,n=e.message,r=e.optimistic,a=e.isPushNotification;if(r||a)return!1;var o=u.default.getChannel(t);if(null==o)return!1;var i=o.guild_id;if(null==i)return!1;if(null==v[i])return!1;g(i,t,n.id,n.author.id)},r[s.ActionTypes.GUILD_DELETE]=function(e){var t=e.guild;delete v[t.id]},r[s.ActionTypes.CHANNEL_DELETE]=E,r[s.ActionTypes.THREAD_DELETE]=E,r[s.ActionTypes.ACTIVE_CHANNELS_FETCH_START]=function(e){var t=e.guildId;m[t]={loading:!0,error:null,fetchedAt:Date.now()}},r[s.ActionTypes.ACTIVE_CHANNELS_FETCH_SUCCESS]=function(e){var t=e.guildId,n=e.channels;m[t]={loading:!1,error:null,fetchedAt:Date.now()};v[t]=new Set;n.forEach((function(e){
var n=e.channel_id;e.messages.forEach((function(e){g(t,n,e.message_id,e.user_id)}))}))},r[s.ActionTypes.ACTIVE_CHANNELS_FETCH_FAILURE]=function(e){var t=e.guildId,n=e.error;m[t]={loading:!1,error:n,fetchedAt:null}},r[s.ActionTypes.CONNECTION_OPEN]=function(){},r));t.default=S},82141:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.dismissGuildHomeFeedback=function(e){r.default.dirtyDispatch({type:u.ActionTypes.GUILD_HOME_FEEDBACK_DISMISS,guildId:e})};t.reportGuildHomeFeedback=function(e,t){a.default.track(u.AnalyticEvents.HOME_REPORT_PROBLEM,{guild_id:e,home_session_id:i.default.getHomeSessionId(e),rating:t});r.default.dirtyDispatch({type:u.ActionTypes.GUILD_HOME_FEEDBACK_REPORT,guildId:e,rating:t})};t.saveGuildHomeScrollPosition=function(e,t){r.default.dirtyDispatch({type:u.ActionTypes.GUILD_HOME_SET_SCROLL_POSITION,guildId:e,scrollPosition:t})};t.trackGuildHomeFeedbackShown=function(e){if(o.default.isGuildFeedbackShown(e))return
;a.default.track(u.AnalyticEvents.HOME_FEEDBACK_PROMPT_VIEWED,{guild_id:e});r.default.dirtyDispatch({type:u.ActionTypes.GUILD_HOME_FEEDBACK_SHOWN,guildId:e})};var r=l(n(636602)),a=l(n(308920)),o=l(n(357762)),i=l(n(173101)),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}},357762:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=u(n(536211)),o=u(n(636602)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var s=new Set,c=new Set,d={},f={};var p=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(e){var t,n,r;if(null!=e){s=new Set(null!==(t=e.guildsWithFinishedFeedback)&&void 0!==t?t:[]);c=new Set(null!==(n=e.guildsWithShownFeedback)&&void 0!==n?n:[])
;d=null!==(r=e.numCleanLoadsForGuild)&&void 0!==r?r:{}}};n.getState=function(){return{guildsWithFinishedFeedback:s,guildsWithShownFeedback:c,numCleanLoadsForGuild:d}};n.getNumCleanLoads=function(e){var t;return null!==(t=d[e])&&void 0!==t?t:0};n.getTotalNumCleanLoads=function(){var e=0;for(var t in d){var n;e+=null!==(n=d[t])&&void 0!==n?n:0}return e};n.isGuildFeedbackFinished=function(e){return s.has(e)};n.isGuildFeedbackShown=function(e){return c.has(e)||this.isGuildFeedbackFinished(e)};n.getSubmittedFeedback=function(e){return f[e]};return t}(a.default.PersistedStore);p.displayName="GuildHomeFeedbackStore";p.persistKey="GuildHomeFeedbackStore";var v=new p(o.default,((r={})[i.ActionTypes.GUILD_FEED_FETCH_SUCCESS]=function(e){var t,n=e.guildId;d[n]=Math.min(50,(null!==(t=d[n])&&void 0!==t?t:0)+1);delete f[n]},r[i.ActionTypes.GUILD_HOME_FEEDBACK_SHOWN]=function(e){var t=e.guildId;c.add(t)},r[i.ActionTypes.GUILD_HOME_FEEDBACK_REPORT]=function(e){var t=e.guildId,n=e.rating;s.add(t)
;f[t]=n},r[i.ActionTypes.GUILD_HOME_FEEDBACK_DISMISS]=function(e){var t=e.guildId;s.add(t)},r[i.ActionTypes.LOGOUT]=function(){s=new Set;c=new Set;d={};f={}},r));t.default=v},134866:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getHomeFeedbackSurvey=function(e,t){var n=a.default.getGuild(t),r=null!=n?encodeURIComponent(n.name):"unknown";return"https://survey.alchemer.com/s3/6852193/Home-Beta-Test-Feature-Feedback?user_id="+e+"&guild_id="+t+"&guild_name="+r};t.useHomeFeedbackCardInfo=function(e){var t=(0,r.useStateFromStores)([o.default],(function(){var t;return null!==(t=o.default.getSubmittedFeedback(e))&&void 0!==t?t:null}));return{shouldPrompt:(0,r.useStateFromStores)([o.default],(function(){return o.default.getNumCleanLoads(e)>10&&!o.default.isGuildFeedbackFinished(e)})),submittedRating:t}};var r=n(536211),a=i(n(30098)),o=i(n(357762));function i(e){return e&&e.__esModule?e:{default:e}}},1110:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{
value:!0});t.default=void 0;var r=d(n(636602)),a=d(n(177230)),o=n(143194),i=n(742965),u=n(389666),l=d(n(304242)),s=n(770348),c=n(173652);function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){f=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return f(e,t)}var p=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;f(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).handleChannelPreload=function(e){var t=e.guildId,n=e.channelId;if(null==t)return!1;if(n!==c.StaticChannelRoute.GUILD_HOME)return!1;(0,u.shouldFetchGuildFeed)(t,!1)&&(0,i.fetchGuildFeed)(t);l.default.shouldFetch(t)&&(0,o.fetchActiveChannels)(t)};return t}var n=t.prototype;n._initialize=function(){r.default.subscribe(s.ActionTypes.CHANNEL_PRELOAD,this.handleChannelPreload)};n._terminate=function(){
r.default.unsubscribe(s.ActionTypes.CHANNEL_PRELOAD,this.handleChannelPreload)};return t}(a.default));t.default=p},173101:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=s(n(468811)),o=s(n(536211)),i=s(n(636602)),u=n(770348),l=n(173652);function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c(e,t)}var d,f,p,v={};var y=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;c(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.getSavedScrollPosition=function(e){return v[e]};n.getHomeSessionId=function(e){return null!=f&&f.guildId===e?f.sessionId:null!=p&&p.guildId===e?p.sessionId:void 0};return t}(o.default.Store);y.displayName="GuildHomeStore";var h=new y(i.default,((r={})[u.ActionTypes.CONNECTION_OPEN]=function(){v={}},r[u.ActionTypes.GUILD_FEED_FETCH_START]=function(e){var t=e.guildId
;delete v[t]},r[u.ActionTypes.GUILD_HOME_SET_SCROLL_POSITION]=function(e){var t=e.guildId,n=e.scrollPosition;v[t]=n},r[u.ActionTypes.CHANNEL_SELECT]=function(e){var t=e.guildId,n=e.channelId;if(null!=t&&null!=n&&(0,l.isStaticChannelRoute)(n)&&(0,l.isGuildHomeChannel)(n)){var r=(0,l.buildGuildStaticChannelId)(n,t);if(d!==r){if(null!=p&&p.guildId===t){f=p;p=void 0}else f={guildId:t,sessionId:a.default.v4()};d=r}}else{d=void 0;f=void 0;p=void 0}},r[u.ActionTypes.CHANNEL_PRELOAD]=function(e){var t=e.guildId,n=e.channelId;if(null!=t&&null!=n&&(0,l.isStaticChannelRoute)(n)&&(0,l.isGuildHomeChannel)(n)){if(null!=p&&p.guildId===t)return!1;p={guildId:t,sessionId:a.default.v4()}}else p=void 0},r));t.default=h},560942:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useActiveVoiceChannels=t.useActiveTextChannels=void 0;var r=n(536211),a=n(567186),o=f(n(644263)),i=f(n(30098)),u=f(n(689389)),l=n(71246),s=f(n(304242)),c=n(770348),d=n(173652);function f(e){
return e&&e.__esModule?e:{default:e}}t.useActiveTextChannels=function(e){var t=(0,r.useStateFromStoresArray)([s.default],(function(){var t=s.default.getActiveChannelIds(e);return null!=t?Array.from(t):[]}));return(0,r.useStateFromStoresArray)([o.default,u.default],(function(){return t.map((function(e){return o.default.getChannel(e)})).filter(l.isNotNullish).filter((function(e){if(null==e?void 0:e.hasFlag(d.ChannelFlags.ACTIVE_CHANNELS_REMOVED))return!1;if(!(0,a.isTextChannel)(e.type))return!1;if(!u.default.can(c.Permissions.VIEW_CHANNEL,e))return!1;var t=o.default.getChannel(e.parent_id);return!e.isThread()||null==t||!(null==t?void 0:t.hasFlag(d.ChannelFlags.ACTIVE_CHANNELS_REMOVED))}))}))};t.useActiveVoiceChannels=function(e,t,n){var a=(0,r.useStateFromStores)([i.default],(function(){var t;return null===(t=i.default.getGuild(e))||void 0===t?void 0:t.afkChannelId})),s=Object.keys(t).filter((function(e){return t[e].length>0}));return(0,
r.useStateFromStoresArray)([u.default,o.default],(function(){return s.filter((function(e){return e!==a&&e!==(null==n?void 0:n.channel_id)})).map((function(e){return o.default.getChannel(e)})).filter(l.isNotNullish).filter((function(e){return!(null==e?void 0:e.hasFlag(d.ChannelFlags.ACTIVE_CHANNELS_REMOVED))&&u.default.can(c.Permissions.VIEW_CHANNEL,e)}))}))}},490033:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=(0,o.default)(e);r.useEffect((function(){i.default.track(l.AnalyticEvents.HOME_EVENTS_LOADED,{guild_id:e,active_events_shown:t.some((function(e){return(0,a.isGuildScheduledEventActive)(e)}))?1:0,upcoming_events_shown:t.some((function(e){return!(0,a.isGuildScheduledEventActive)(e)}))?1:0,home_session_id:u.default.getHomeSessionId(e)})}),[e])};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(330321),o=s(n(902399)),i=s(n(308920)),u=s(n(173101)),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}},866797:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=(0,a.default)([i.default],(function(){return i.default.getTotalNumCleanLoads()<=2})),n=(0,a.default)([o.default],(function(){var e=o.default.getCurrentUser();return null==e||e.createdAt.getTime()<c.getTime()})),l=t&&n;r.useEffect((function(){l||e(u.ContentDismissActionType.AUTO)}),[l]);return l};var r=function(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=l(n(342518)),o=l(n(728429)),i=l(n(357762)),u=n(583551);function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}var c=new Date(Date.UTC(2022,6,6))},813092:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){r.useEffect((function(){var t=o.default.getHomeSessionId(e);return function(){a.default.track(i.AnalyticEvents.HOME_EXITED,{guild_id:e,home_session_id:t})}}),[e])};var r=function(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=u(n(308920)),o=u(n(173101)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}},574486:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ACTIVE_NOW_ICON_SIZE=void 0;t.ActiveChannelBase=b;t.ActiveNowBase=S;t.ActiveNowFiller=I;t.DISPLAYED_PARTICIPANT_AVATARS=t.COLLAPSED_VIEW_DISPLAYED_PARTICIPANT_AVATARS=void 0
;var r,a=g(n(667294)),o=m(n(294184)),i=m(n(876647)),u=n(341186),l=m(n(16941)),s=n(645758),c=m(n(730977)),d=m(n(436081)),f=g(n(152731)),p=n(124042),v=m(n(247001)),y=m(n(462298)),h=m(n(572274));function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function g(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function O(){O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return O.apply(this,arguments)}t.DISPLAYED_PARTICIPANT_AVATARS=3;t.COLLAPSED_VIEW_DISPLAYED_PARTICIPANT_AVATARS=5;t.ACTIVE_NOW_ICON_SIZE=16;function S(e){var t,n=e.shouldUseCollapsedLayout,r=void 0===n||n,u=e.onClick,s=e.icon,f=e.iconTooltipText,v=e.textNode,h=e.header,m=e.accessoryNode,_=e.children,g=(0,i.default)(p.COLLAPSED_SIZE_MEDIA_QUERY);return E("div",{className:(0,o.default)(y.default.container,(t={},t[y.default.containerCard]=g,t[y.default.collapsedLayout]=g&&r,t))},void 0,E(l.default,{className:y.default.body,onClick:u},void 0,E("div",{
className:y.default.details},void 0,null!=s?E(c.default,{text:f,delay:500},void 0,(function(e){return a.createElement("div",O({},e,{className:y.default.iconContainer}),s)})):null,E(d.default,{className:y.default.title,size:d.default.Sizes.SIZE_14},void 0,h),E("div",{className:y.default.subtitle},void 0,v)),null!=m&&E("div",{className:y.default.accessoryContainer},void 0,m)),_)}S.displayName="ActiveNowBase";function b(e){var t=e.children,n=e.guildId,r=e.channel,a=e.text,o=e.activityIndicator,l=e.usersInSummary,c=e.onChannelClick,d=e.channelIconOptions,v=(0,i.default)(p.COLLAPSED_SIZE_MEDIA_QUERY),y=(0,u.getChannelIconComponent)(r,null,d);return E(S,{textNode:null!=a?E(s.Text,{variant:"text-xs/normal"},void 0,a):null,accessoryNode:E(f.default,{guildId:n,users:l,size:v?f.Sizes.SIZE_24:f.Sizes.SIZE_16,max:v?5:3,extraDetail:o}),onClick:c,icon:null!=y&&E(y,{width:16,height:16}),iconTooltipText:(0,u.getChannelIconTooltipText)(r),header:r.name},void 0,t)}b.displayName="ActiveChannelBase"
;function I(){return E("div",{className:(0,o.default)(y.default.container,y.default.containerCard,y.default.fillerCard)},void 0,E("img",{src:h.default,className:y.default.spacerChannelImg,alt:"","aria-hidden":!0}),E("div",{className:y.default.fillerText},void 0,E(s.Text,{variant:"text-md/normal"},void 0,v.default.Messages.ACTIVE_CHANNELS_COLLAPSED_SPACER_TITLE),E(s.Text,{variant:"text-xs/normal"},void 0,v.default.Messages.ACTIVE_CHANNELS_COLLAPSED_SPACER_SUBTITLE)))}I.displayName="ActiveNowFiller"},466366:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=Q
;var r,a=x(n(667294)),o=G(n(294184)),i=x(n(496486)),u=n(393356),l=n(536211),s=G(n(876647)),c=G(n(213847)),d=n(143194),f=G(n(65770)),p=n(330321),v=x(n(902399)),y=G(n(751410)),h=G(n(487372)),m=G(n(16941)),_=n(772575),g=n(645758),E=G(n(69405)),O=n(235742),S=G(n(308920)),b=G(n(304242)),I=G(n(173101)),C=n(560942),T=n(574486),A=G(n(931108)),P=G(n(661129)),M=G(n(441626)),N=G(n(750931)),R=n(770348),w=n(124042),D=G(n(247001)),L=G(n(831689)),k=G(n(404024)),j=G(n(764728)),U=["ref"];function G(e){return e&&e.__esModule?e:{default:e}}function F(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(F=function(e){return e?n:t})(e)}function x(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=F(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function W(){W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return W.apply(this,arguments)}function B(e){return function(e){if(Array.isArray(e))return Y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||H(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value)
;if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||H(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,t){if(e){if("string"==typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Y(e,t):void 0}}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function z(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var K=153;function $(){var e="dark"===(0,c.default)()?k.default:j.default;return z("div",{className:L.default.emptyStateContainer},void 0,z("img",{className:L.default.image,src:e,width:154,height:48,alt:""}),z(_.Heading,{className:L.default.title,variant:"heading-md/medium",level:3},void 0,D.default.Messages.ACTIVE_CHANNELS_EMPTY_TITLE),z(g.Text,{className:L.default.subtitle,color:"header-secondary",variant:"text-sm/normal"},void 0,D.default.Messages.ACTIVE_CHANNELS_EMPTY_SUBTITLE))}$.displayName="ActiveChannelsEmpty";var q=z($,{}),X=z(T.ActiveNowFiller,{});function Q(e){var t=e.guildId,n=(0,l.useStateFromStores)([b.default],(function(){return b.default.getActiveChannelsFetchStatus(t)})),r=(0,C.useActiveTextChannels)(t),c=(0,v.useGuildActiveEvent)(t),T=(0,l.useStateFromStores)([h.default],(function(){return h.default.getVoiceStates(t)
})),k=(0,C.useActiveVoiceChannels)(t,T,c),j=r.length+k.length+(null!=c?1:0),G=j>0,F=a.useRef(null),x=(0,y.default)("active-channels",F),H=(0,v.default)(t).filter((function(e){return!(0,p.isGuildScheduledEventActive)(e)})),Y=V(a.useState(0===H.length),2),$=Y[0],Q=Y[1],Z=(0,s.default)(w.COLLAPSED_SIZE_MEDIA_QUERY),J=V(a.useState(!0),2),ee=J[0],te=J[1],ne=V(a.useState(!1),2),re=ne[0],ae=ne[1],oe=function(){var e=F.current;if(null!=e){var t=e.getScrollerState(),n=t.scrollLeft,r=t.scrollWidth;te(n<=0);ae(n>=r-600-1)}},ie=a.useCallback((function(){var e=F.current;if(null!=e){var t=e.getScrollerState().scrollLeft,n=Math.ceil((t-612)/K)*K;e.scrollTo({to:Math.max(0,n),animate:!0})}}),[F]),ue=a.useCallback((function(){var e=F.current;if(null!=e){var t=e.getScrollerState(),n=t.scrollLeft,r=t.scrollWidth,a=Math.floor((n+612)/K)*K;e.scrollTo({to:Math.min(r,a),animate:!0})}}),[F]);a.useEffect((function(){b.default.shouldFetch(t)&&(0,d.fetchActiveChannels)(t)}),[t]);(0,f.default)(t,r,k)
;var le=a.useCallback((function(e){S.default.track(R.AnalyticEvents.ACTIVE_CHANNEL_CLICKED,{guild_id:e.guild_id,channel_id:e.id,channel_type:e.type,text_channels_shown:r.length,voice_channels_shown:k.length,home_session_id:I.default.getHomeSessionId(e.guild_id)})}),[r,k]),se=r.map((function(e){return z(P.default,{guildId:t,channel:e,trackChannelClick:le},e.id)})),ce=k.map((function(e){return z(M.default,{guildId:t,channel:e,voiceStates:T[e.id],trackChannelClick:le},e.id)})),de=[];if(Z)de=[].concat(B(se),B(ce));else if($)de=i.compact([null!=c&&z(N.default,{event:c},"event")].concat(B(se.slice(0,10)),B(ce)));else{var fe=i.take(se,3-(ce.length>0?1:0)-(null!=c?1:0)),pe=i.take(ce,3-fe.length-(null!=c?1:0));de=i.compact([null!=c&&z(N.default,{event:c},"event")].concat(B(fe),B(pe)))}return z("div",{className:L.default.container},void 0,z("div",{className:L.default.header},void 0,z(_.Heading,{variant:"heading-md/medium",level:3
},void 0,D.default.Messages.ACTIVE_CHANNELS_HEADER),!0!==(null==n?void 0:n.loading)&&j>3&&z(m.default,{onClick:function(){return Q(!$)}},void 0,z(g.Text,{className:L.default.showAll,variant:"text-sm/normal"},void 0,$?D.default.Messages.GUILD_HOME_SEE_LESS:D.default.Messages.GUILD_HOME_SEE_ALL.format({count:j})))),(null==n?void 0:n.loading)?z("div",{className:L.default.channelList,"aria-hidden":!0},void 0,z(A.default,{guildId:t})):G?z(u.ListNavigatorProvider,{navigator:x},void 0,z(u.ListNavigatorContainer,{},void 0,(function(e){var t=e.ref,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,U);return a.createElement(O.AdvancedScrollerNone,W({className:L.default.channelList,orientation:"horizontal",paddingFix:!1,onScroll:oe,ref:function(e){var n;F.current=e;t.current=null!==(n=null==e?void 0:e.getScrollerNode())&&void 0!==n?n:null;oe()}},n),de,Z&&j<4&&X)}))):q,Z&&G&&!ee&&z(m.default,{className:(0,
o.default)(L.default.scrollIcon,L.default.left),onClick:ie,"aria-hidden":!0},void 0,z(E.default,{direction:E.default.Directions.LEFT,height:12,width:12})),Z&&G&&!re&&z(m.default,{className:(0,o.default)(L.default.scrollIcon,L.default.right),onClick:ue,"aria-hidden":!0},void 0,z(E.default,{direction:E.default.Directions.RIGHT,height:12,width:12})))}Q.displayName="ActiveChannels"},931108:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.guildId,n=(0,u.default)(c.COLLAPSED_SIZE_MEDIA_QUERY);return a.createElement(a.Fragment,null,i.times(n?4:3,(function(e){var r;return y("div",{className:(0,o.default)(d.default.container,(r={},r[d.default.loadingContainer]=!0,r[d.default.containerCard]=n,r[d.default.collapsedLayout]=n,r))},e,y("div",{className:d.default.body},void 0,y("div",{className:d.default.details},void 0,y("div",{className:d.default.iconContainer}),y(l.ContentBlob,{className:d.default.title,opacity:.2,width:72}),y(l.ContentBlob,{
className:d.default.subtitle,opacity:.1,width:100})),y("div",{className:d.default.accessoryContainer},void 0,y(s.default,{guildId:t,renderUser:function(){return y("div",{className:d.default.loadingUser,style:{width:n?24:16,height:n?24:16}})},users:[null,null],size:n?s.Sizes.SIZE_24:s.Sizes.SIZE_16,extraDetail:y("div",{className:d.default.typingIndicator})}))),2===e&&y("div",{className:d.default.previewContainer}))})),h," ")};var r,a=v(n(667294)),o=f(n(294184)),i=v(n(496486)),u=f(n(876647)),l=n(114557),s=v(n(152731)),c=n(124042),d=f(n(462298));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var h=y("div",{})},661129:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=O;g(n(667294));var r,a=m(n(496486)),o=n(536211),i=m(n(187295)),u=m(n(946447)),l=m(n(728429)),s=m(n(810919)),c=n(71246),d=m(n(71636)),f=g(n(304242)),p=n(574486),v=n(770348),y=m(n(247001)),h=m(n(462298));function m(e){return e&&e.__esModule?e:{
default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function g(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,
_owner:null}}function O(e){var t=e.guildId,n=e.channel,r=e.trackChannelClick,m=(0,o.useStateFromStoresArray)([f.default],(function(){var e;return null!==(e=f.default.getChannelMessageData(n.id))&&void 0!==e?e:[]})),_=a.default.uniq(a.default.map(m,"userId")),g=(0,o.useStateFromStoresArray)([l.default],(function(){return _.map((function(e){return l.default.getUser(e)}))})),O=(0,o.useStateFromStores)([u.default],(function(){var e=u.default.getTypingUsers(n.id);return Object.keys(e).length>0}),[n.id]),S=m.length<f.MAX_STORED_MESSAGES?y.default.Messages.ACTIVE_CHANNELS_FEW_MESSAGES.format({count:m.length}):y.default.Messages.ACTIVE_CHANNELS_MANY_MESSAGES,b=O?E("div",{className:h.default.typingIndicator},void 0,E(s.default,{className:h.default.ellipsis,dotRadius:2,themed:!0})):null;return E(p.ActiveChannelBase,{guildId:t,channel:n,usersInSummary:g.filter(c.isNotNullish),text:S,activityIndicator:b,onChannelClick:function(){r(n);(0,
i.default)(v.Routes.CHANNEL(n.guild_id,n.id,d.default.fromTimestamp(Date.now())))}})}O.displayName="ActiveTextChannel"},441626:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=N;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=A(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=T(n(496486)),o=n(536211),i=T(n(136873)),u=n(123516),l=T(n(631294)),s=n(385753),c=T(n(910999)),d=T(n(645923)),f=T(n(141776)),p=n(567186),v=T(n(607209)),y=T(n(423046)),h=T(n(30098)),m=T(n(689389)),_=T(n(211136)),g=T(n(387692)),E=T(n(16941)),O=n(645758),S=T(n(68259)),b=n(574486),I=n(770348),C=T(n(462298));function T(e){
return e&&e.__esModule?e:{default:e}}function A(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(A=function(e){return e?n:t})(e)}function P(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function M(e){var t,n=e.channel,r=e.voiceStates,l=(0,o.useStateFromStores)([v.default],(function(){return v.default.getAllApplicationStreamsForChannel(n.id)[0]})),f=(0,o.useStateFromStores)([v.default],(function(){return null!=l?v.default.getActiveStreamForApplicationStream(l):null})),p=(0,o.useStateFromStores)([y.default],(function(){return y.default.getId()})),_=(0,
o.useStateFromStores)([g.default,h.default,m.default],(function(){return null!=l&&(0,s.canWatchStream)(n,g.default,h.default,m.default)}),[l,n]);if(null==l)return null;var b=a.default.chain(r).map("member").find(["userId",l.ownerId]).value(),T=a.default.chain(r).map("user").find(["id",l.ownerId]).value(),A=null!==(t=null==b?void 0:b.nick)&&void 0!==t?t:T.username,M=null!=f&&null!=l&&f.state!==I.ApplicationStreamStates.ENDED&&f.ownerId===l.ownerId;return P(E.default,{onClick:function(){i.default.selectVoiceChannel(n.id);M||(0,u.watchStreamAndTransitionToStream)(l)},className:C.default.previewContainer},void 0,P(d.default,{className:C.default.previewImage,stream:l}),_?P("div",{className:C.default.previewHover},void 0,P(O.Text,{variant:"text-sm/normal",color:"none",className:C.default.previewButton},void 0,(0,c.default)(l,f,p))):null,null!=A&&P("div",{className:C.default.previewName},void 0,P(S.default,{width:18,height:18,className:C.default.icon}),P(O.Text,{variant:"text-sm/normal",
color:"none"},void 0,A)))}M.displayName="VoiceStreamPreview";function N(e){var t,n=e.guildId,r=e.channel,i=e.voiceStates,u=e.trackChannelClick,s=i.map((function(e){return e.user})),c=(0,f.default)(null!==(t=null==r?void 0:r.id)&&void 0!==t?t:void 0).needSubscriptionToAccess,d=(0,o.useStateFromStores)([m.default],(function(){return!m.default.can(I.Permissions.CONNECT,r)})),v=a.default.map(i,(function(e){var t,n;return null!==(t=null===(n=e.member)||void 0===n?void 0:n.nick)&&void 0!==t?t:e.user.username})).join(", ");return P(b.ActiveChannelBase,{guildId:n,channel:r,text:v,usersInSummary:s,onChannelClick:function(){if((0,p.isGuildVocalChannelType)(r.type)){var e=_.default.getVoiceChannelId(),t=!m.default.can(I.Permissions.CONNECT,r);u(r);l.default.handleVoiceConnect({channel:r,locked:t,connected:e===r.id,needSubscriptionToAccess:c})}},channelIconOptions:{locked:d}},void 0,P(M,{channel:r,voiceStates:i}))}N.displayName="ActiveVoiceChannel"},389396:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=j;var r,a=C(n(667294)),o=n(536211),i=n(742965),u=b(n(922748)),l=C(n(741645)),s=b(n(968078)),c=n(676509),d=b(n(389666)),f=b(n(952572)),p=b(n(686305)),v=C(n(20902)),y=b(n(173101)),h=n(729869),m=b(n(429612)),_=b(n(541841)),g=b(n(377851)),E=n(124042),O=b(n(247001)),S=b(n(960251));function b(e){return e&&e.__esModule?e:{default:e}}function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}function C(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function T(e,t,n,r,a,o,i){try{
var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function A(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){T(o,r,a,i,u,"next",e)}function u(e){T(o,r,a,i,u,"throw",e)}i(void 0)}))}}function P(e){return function(e){if(Array.isArray(e))return R(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||N(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{
i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||N(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){if(e){if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R(e,t):void 0}}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{
$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var D=a.memo((function(e){var t=e.guildId;return(0,o.useStateFromStores)([p.default],(function(){return p.default.isViewingRoles(t)}))?w(v.default,{messageType:v.HelpMessageTypes.WARNING},void 0,O.default.Messages.GUILD_FEED_VIEW_AS_ROLE_WARNING):null}));function L(e){var t=M(a.useState(null),2),n=t[0],r=t[1];a.useEffect((function(){var t,n=null===(t=e.current)||void 0===t?void 0:t.getScrollerNode();if(null!=n){var a=new ResizeObserver((function(e){for(var t,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=N(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(e);!(t=n()).done;){
var a=t.value;r(a.contentRect.height)}}));a.observe(n);return function(){a.disconnect()}}}),[e]);return n}var k=w(m.default,{});function j(e){var t=e.guild,n=e.renderMode,r=e.scrollerRef,p=(0,o.useStateFromStores)([s.default],(function(){return s.default.getSectionedItemIds(t.id)})),v=(0,o.useStateFromStores)([s.default],(function(){return s.default.getLoadId(t.id)})),m=(0,o.useStateFromStores)([y.default],(function(){return y.default.getHomeSessionId(t.id)})),O=(0,d.default)(t.id),b=O.loading,I=O.error,C=O.fetch;a.useEffect((function(){u.default.initialize();return function(){u.default.terminate()}}),[]);var T=a.useRef(null);a.useLayoutEffect((function(){if(null!=v&&!b&&null!=m){(0,i.sendFeedShownAnalytics)(t.id);var e=new l.default(t.id,v,m);e.initialize();T.current=e;return function(){e.terminate()}}}),[t.id,v,b,m]);var M=L(r),N=a.useMemo((function(){return n!==E.GuildFeedRenderMode.NEW||null==p?[]:P(p[E.GuildFeedSectionTypes.ALL]).sort((function(e,t){return-(0,
c.getSnowflakeFromGuildFeedItemId)(e).localeCompare((0,c.getSnowflakeFromGuildFeedItemId)(t))}))}),[p,n]),R=a.useCallback(A(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return null===(t=T.current)||void 0===t?void 0:t.maybeFlushSeenItems(l.ForceFlushType.IMMEDIATE);case 2:C({force:!0,flushSeenItems:function(){var e;return null===(e=T.current)||void 0===e?void 0:e.maybeFlushSeenItems(l.ForceFlushType.IMMEDIATE)}});case 3:case"end":return e.stop()}}),e)}))),[C]);a.useEffect((function(){if(b){var e;null===(e=r.current)||void 0===e||e.scrollToTop()}}),[b]);return b?w("div",{className:S.default.container},void 0,k):null!=I?w(h.GuildFeedError,{onReloadClick:R}):null==p||p[E.GuildFeedSectionTypes.READ].length+p[E.GuildFeedSectionTypes.UNREAD].length===0?w(h.GuildFeedEmpty,{onReloadClick:R}):n===E.GuildFeedRenderMode.TOP?w("div",{className:S.default.container},void 0,w(_.default,{guild:t
}),p[E.GuildFeedSectionTypes.ALL].map((function(e){return w(f.default,{guildId:t.id,itemId:e,scrollerHeight:M,scrollerRef:r},e)})),w(h.GuildFeedFooter,{onReloadClick:R})):n===E.GuildFeedRenderMode.NEW?w("div",{className:S.default.container},void 0,w(_.default,{guild:t}),N.map((function(e){return w(f.default,{guildId:t.id,itemId:e,scrollerHeight:M,scrollerRef:r},e)})),w(h.GuildFeedFooter,{onReloadClick:R})):w("div",{className:S.default.container},void 0,w(D,{guildId:t.id}),w(_.default,{guild:t}),p[E.GuildFeedSectionTypes.UNREAD].map((function(e){return w(f.default,{guildId:t.id,itemId:e,scrollerHeight:M,scrollerRef:r},e)})),p[E.GuildFeedSectionTypes.READ].length>0?w(g.default,{onReloadClick:R}):null,p[E.GuildFeedSectionTypes.READ].map((function(e){return w(f.default,{guildId:t.id,itemId:e,scrollerHeight:M,scrollerRef:r},e)})),w(h.GuildFeedFooter,{onReloadClick:R}))}j.displayName="GuildFeedContainer"},729869:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.GuildFeedFooter=t.GuildFeedError=t.GuildFeedEmpty=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=v(n(294184)),i=v(n(956117)),u=n(772575),l=n(645758),s=v(n(37985)),c=v(n(571830)),d=n(770348),f=v(n(247001)),p=v(n(577084));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={
children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var m=a.memo((function(e){var t=e.onReloadClick;return h("div",{className:p.default.container},void 0,h("div",{className:p.default.iconContainer},void 0,h(s.default,{className:p.default.icon,width:36,height:36}),h(c.default,{className:p.default.stars})),h(u.Heading,{className:p.default.header,variant:"heading-md/medium",level:3},void 0,f.default.Messages.GUILD_FEED_FOOTER_TITLE),h(l.Text,{color:"header-secondary",variant:"text-sm/normal"},void 0,f.default.Messages.GUILD_FEED_FOOTER_SUBTITLE),h(i.default,{onClick:t,className:p.default.button},void 0,f.default.Messages.GUILD_FEED_RELOAD))}));t.GuildFeedFooter=m;var _=a.memo((function(e){var t=e.onReloadClick;return h("div",{className:(0,
o.default)(p.default.container,p.default.background)},void 0,h("div",{className:p.default.iconContainer},void 0,h(s.default,{className:p.default.icon,width:36,height:36}),h(c.default,{className:p.default.stars})),h(u.Heading,{className:p.default.header,variant:"heading-md/medium",level:3},void 0,f.default.Messages.GUILD_FEED_EMPTY_TITLE),h(l.Text,{color:"header-secondary",variant:"text-sm/normal"},void 0,f.default.Messages.GUILD_FEED_EMPTY_SUBTITLE),h(i.default,{onClick:t,className:p.default.button},void 0,f.default.Messages.GUILD_FEED_RELOAD))}));t.GuildFeedEmpty=_;var g=a.memo((function(e){var t=e.onReloadClick;return h("div",{className:(0,o.default)(p.default.container,p.default.background)},void 0,h("div",{className:p.default.iconContainer},void 0,h(s.default,{className:p.default.icon,width:36,height:36}),h(c.default,{className:p.default.stars})),h(u.Heading,{className:p.default.header,variant:"heading-md/medium",level:3},void 0,f.default.Messages.GUILD_FEED_ERROR_TITLE),h(l.Text,{
color:"header-secondary",variant:"text-sm/normal"},void 0,f.default.Messages.GUILD_FEED_ERROR_SUBTITLE.format({url:d.Links.STATUS})),h(i.default,{onClick:t,className:p.default.button},void 0,f.default.Messages.GUILD_FEED_RELOAD))}));t.GuildFeedError=g},429612:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=p(n(667294)),o=d(n(496486)),i=d(n(47186)),u=d(n(388884)),l=n(505280),s=p(n(114557)),c=d(n(266161));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}var h=new Array(5).fill(null);function m(){var e=a.useMemo((function(){if(!(o.default.random(1)<.5))return y({},(0,l.generateAttachmentSpec)(),{last:!0})}),[]);return v(i.default,{"aria-hidden":!0,ariaLabel:""},void 0,v(u.default,{},void 0,v(s.ContentBlob,{
className:c.default.channelName,opacity:.3,width:80})),v("div",{className:c.default.body},void 0,v(s.default,{messages:5,attachmentSpecs:e})))}m.displayName="PlaceholderCard";var _=a.memo((function(){return a.createElement(a.Fragment,null,h.map((function(e,t){return v(m,{},t)})))}));t.default=_},521388:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=R;var r,a=b(n(667294)),o=O(n(294184)),i=n(536211),u=O(n(689389)),l=O(n(151097)),s=b(n(956117)),c=O(n(16941)),d=n(772575),f=n(645758),p=O(n(259530)),v=n(194322),y=O(n(550270)),h=O(n(866797)),m=n(770348),_=O(n(247001)),g=O(n(646756)),E=O(n(934104));function O(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function b(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function I(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function C(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){I(o,r,a,i,u,"next",e)}function u(e){I(o,r,a,i,u,"throw",e)}i(void 0)}))}}function T(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,
ref:null,props:t,_owner:null}}function A(e){var t=e.children,n=e.onClose;return T("div",{className:g.default.container},void 0,T(c.default,{className:g.default.closeButton,onClick:n},void 0,T(p.default,{className:g.default.closeIcon})),T("div",{className:g.default.textContainer},void 0,t),T("img",{className:g.default.image,src:E.default,alt:""}))}A.displayName="CardContainer";function P(e){return T(A,{onClose:e.onClose},void 0,T(d.Heading,{style:{color:"white"},level:2,variant:"heading-lg/medium",color:"none"},void 0,_.default.Messages.GUILD_FEED_NUX_MEMBER_TITLE),T(f.Text,{className:g.default.bodySection,variant:"text-sm/normal",color:"none"},void 0,_.default.Messages.GUILD_FEED_NUX_MEMBER_BODY_1),T(f.Text,{className:g.default.bodySection,variant:"text-sm/normal",color:"none"},void 0,_.default.Messages.GUILD_FEED_NUX_MEMBER_BODY_2),T(l.default,{className:(0,o.default)(g.default.cta,g.default.ctaLink,(0,s.getButtonStyle)({look:s.default.Looks.LINK,color:s.default.Colors.WHITE})),
href:y.default.getArticleURL(m.HelpdeskArticles.GUILD_HOME)},void 0,_.default.Messages.GUILD_FEED_NUX_MEMBER_BODY_3))}P.displayName="MemberCard";function M(){(0,v.openModalLazy)(C(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(96545)]).then(n.bind(n,996545));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,e)}));case 5:case"end":return e.stop()}}),e)}))))}function N(e){return T(A,{onClose:e.onClose},void 0,T(d.Heading,{style:{color:"white"},level:2,variant:"heading-lg/medium",color:"none"},void 0,_.default.Messages.GUILD_FEED_NUX_MODERATOR_TITLE),T(f.Text,{className:g.default.bodySection,variant:"text-sm/normal",color:"none"},void 0,_.default.Messages.GUILD_FEED_NUX_MEMBER_BODY_1),T(f.Text,{className:g.default.bodySection,variant:"text-sm/normal",color:"none"
},void 0,_.default.Messages.GUILD_FEED_NUX_MEMBER_BODY_2),T(s.default,{className:g.default.cta,look:s.default.Looks.INVERTED,color:s.default.Colors.BRAND,onClick:M},void 0,_.default.Messages.GUILD_FEED_NUX_MODERATOR_CTA))}N.displayName="ModeratorCard";function R(e){var t=e.guild,n=e.onClose,r=(0,i.useStateFromStores)([u.default],(function(){return u.default.can(m.Permissions.MANAGE_MESSAGES,t)}));return(0,h.default)(n)?T(r?N:P,{onClose:n}):null}R.displayName="GuildFeedNuxCard"},541841:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=v;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e
;n&&n.set(e,r)}(n(667294));var r,a=n(923387),o=c(n(305081)),i=n(134866),u=c(n(521388)),l=n(554962),s=n(583551);function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=[a.DismissibleContent.GUILD_FEED_NUX_CARD];function v(e){var t=e.guild,n=(0,i.useHomeFeedbackCardInfo)(t.id),r=n.shouldPrompt,c=n.submittedRating;return null!=c?f(l.GuildHomeReceivedFeedbackCard,{guildId:t.id,rating:c}):f(o.default,{contentTypes:p,
groupName:s.DismissibleContentGroupName.GUILD_FEED_TOP},void 0,(function(e){var n=e.visibleContent,o=e.markAsDismissed;return n===a.DismissibleContent.GUILD_FEED_NUX_CARD?f(u.default,{guild:t,onClose:o}):r?f(l.GuildHomeSubmitFeedbackCard,{guildId:t.id}):null}))}v.displayName="GuildFeedTopDismissibleContentGroup"},377851:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=c(n(956117)),i=n(645758),u=c(n(992193)),l=c(n(247001)),s=c(n(12820));function c(e){return e&&e.__esModule?e:{default:e}}
function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=f(u.default,{height:24,width:24}),v=a.memo((function(e){var t=e.onReloadClick;return f("div",{className:s.default.container},void 0,f("div",{className:s.default.divider},void 0,f("div",{className:s.default.line}),f("div",{className:s.default.icon},void 0,p),f("div",{className:s.default.line})),f(i.Text,{className:s.default.title,color:"header-primary",variant:"text-md/normal"
},void 0,l.default.Messages.GUILD_FEED_UNREAD_DIVIDER_TITLE),f(i.Text,{className:s.default.subtitle,color:"header-secondary",variant:"text-sm/normal"},void 0,l.default.Messages.GUILD_FEED_UNREAD_DIVIDER_SUBTITLE),f(o.default,{onClick:t,className:s.default.button},void 0,l.default.Messages.GUILD_FEED_RELOAD))}));t.default=v},750931:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=Q;var r,a=B(n(667294)),o=x(n(294184)),i=n(723360),u=n(536211),l=x(n(876647)),s=n(341186),c=n(452453),d=n(330321),f=n(990374),p=n(549905),v=n(834547),y=x(n(60667)),h=x(n(930409)),m=n(139982),_=n(637356),g=x(n(897191)),E=n(921867),O=x(n(644263)),S=x(n(689389)),b=x(n(487372)),I=x(n(956117)),C=x(n(16941)),T=n(645758),A=x(n(32443)),P=x(n(134947)),M=x(n(934018)),N=x(n(114655)),R=B(n(152731)),w=x(n(308920)),D=x(n(173101)),L=n(574486),k=n(770348),j=n(124042),U=n(198756),G=x(n(247001)),F=x(n(120227));function x(e){return e&&e.__esModule?e:{default:e}}function W(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(W=function(e){return e?n:t})(e)}function B(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=W(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function V(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}
function H(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var z=12
;function K(e){var t,n=e.event,r=n.scheduled_start_time,i=n.scheduled_end_time,u=(0,d.isGuildScheduledEventActive)(n),l=H(a.useState((0,v.getEventTimeData)(r,i)),2),s=l[0],c=s.startDateTimeString,f=s.endDateTimeString,p=s.currentOrPastEvent,y=s.upcomingEvent,h=s.diffMinutes,m=l[1];a.useEffect((function(){var e=setInterval((function(){return m((0,v.getEventTimeData)(r,i))}),1e3);return function(){clearInterval(e)}}),[]);var _=c;u?_=G.default.Messages.STAGE_CHANNEL_LIVE_NOW:p?_=G.default.Messages.STARTING_SOON:y?_=h>0?G.default.Messages.STARTING_IN_MINUTES.format({minutes:h}):G.default.Messages.STARTING_SOON:null!=f&&""!==f&&(_=G.default.Messages.START_DATE_TO_END_DATE.format({start:c,end:f}));return V("div",{className:(0,o.default)(F.default.eventTime,(t={},t[F.default.isActive]=u,t))},void 0,V(P.default,{className:F.default.eventTimeIcon,width:z,height:z}),V(N.default,{color:u?N.default.Colors.STATUS_GREEN:N.default.Colors.HEADER_SECONDARY,size:N.default.Sizes.SIZE_12,
className:F.default.eventTimeLabel},void 0,_,V("span",{className:F.default.separator},void 0,"â€¢")))}K.displayName="GuildEventTime";function $(e){var t=e.event,n=e.channel,r=e.isCollapsedSize,o=(0,u.useStateFromStores)([S.default],(function(){return S.default.can(k.Permissions.CONNECT,n)})),i=a.useCallback((function(){if(null!=n&&null!=n.getGuildId()&&o){(0,_.connectAndOpen)(n);(0,m.transitionToGuild)(n.getGuildId(),n.id)}}),[n,o]),l=(0,y.default)(t),s=t.entity_type===U.GuildScheduledEventEntityTypes.STAGE_INSTANCE?G.default.Messages.STAGE_CHANNEL_JOIN_BUTTON:G.default.Messages.JOIN;return null==t.image||r?null!=n&&o?V("div",{className:F.default.eventJoinContainer},void 0,V(I.default,{className:F.default.joinButton,onClick:i,fullWidth:!0,color:I.default.Colors.GREEN},void 0,s)):null:null!=n&&o?V(C.default,{onClick:i,className:F.default.eventJoinContainer},void 0,V("div",{className:F.default.eventImg,style:{backgroundImage:"url("+l+")"}}),V("div",{className:F.default.eventImgHover
},void 0,V(T.Text,{variant:"text-sm/normal",color:"none",className:F.default.eventImgJoinButton},void 0,s))):V("div",{className:F.default.eventJoinContainer},void 0,V("div",{className:F.default.eventImg,style:{backgroundImage:"url("+l+")"}}))}function q(e){var t,n=e.event,r=e.channel,i=e.isActive,u=e.isCollapsedSize,l=(0,s.getChannelIconComponent)(r);return V("div",{className:F.default.eventInfo},void 0,(!i||u)&&V(K,{event:n}),V("div",{className:F.default.location},void 0,null!=r&&null!=l?a.createElement(a.Fragment,null,V(l,{width:z,height:z,className:F.default.icon}),V(T.Text,{variant:"text-xs/normal",className:F.default.locationLabel},void 0,r.name)):a.createElement(a.Fragment,null,V(M.default,{height:z,width:z,className:(0,o.default)(F.default.channelContainer,F.default.icon)}),V(T.Text,{variant:"text-xs/normal",className:F.default.locationLabel},void 0,(0,f.guildEventDetailsParser)(null!==(t=(0,p.getLocationFromEvent)(n))&&void 0!==t?t:void 0,!0)))))}q.displayName="GuildEventInfo"
;var X=V(A.default,{width:L.ACTIVE_NOW_ICON_SIZE,height:L.ACTIVE_NOW_ICON_SIZE});function Q(e){var t=e.event,n=t.guild_id,r=(0,l.default)(j.COLLAPSED_SIZE_MEDIA_QUERY),o=(0,d.isGuildScheduledEventActive)(t),s=(0,u.useStateFromStores)([O.default],(function(){return O.default.getChannel(t.channel_id)})),f=(0,u.useStateFromStores)([h.default],(function(){return h.default.isLurking(n)}),[n]),p=a.useCallback((function(){w.default.track(k.AnalyticEvents.HOME_EVENT_CLICKED,{guild_id:n,home_session_id:D.default.getHomeSessionId(n),guild_scheduled_event_id:t.id,is_active:o});(0,c.openGuildEventDetails)(t.id,n)}),[t,n,o]),v=(0,u.useStateFromStoresArray)([b.default],(function(){return null==s?[]:b.default.getVoiceStatesForChannel(s).map((function(e){return e.user}))}),[s]),y=(0,u.useStateFromStores)([g.default],(function(){if(null!=s&&s.type===i.ChannelTypes.GUILD_STAGE_VOICE)return g.default.getParticipantCount(null==s?void 0:s.id,E.StageChannelParticipantNamedIndex.AUDIENCE)}),[s])
;return V(L.ActiveNowBase,{shouldUseCollapsedLayout:!1,onClick:f?void 0:p,icon:o?V("div",{className:F.default.liveNowIcon}):X,iconTooltipText:G.default.Messages.GUILD_HOME_EVENTS_TOOLTIP_TEXT,header:t.name,textNode:V(q,{event:t,channel:s,isActive:o,isCollapsedSize:r}),accessoryNode:o?V(R.default,{guildId:n,users:v,count:y,size:R.Sizes.SIZE_16,max:L.DISPLAYED_PARTICIPANT_AVATARS}):null},void 0,o&&V($,{event:t,channel:s,isCollapsedSize:r}))}Q.displayName="GuildHomeEvent"},663116:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=T;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e
;n&&n.set(e,r);return r}(n(667294)),o=E(n(496486)),i=E(n(730381)),u=n(923387),l=E(n(876647)),s=n(203847),c=n(330321),d=E(n(902399)),f=E(n(16941)),p=n(772575),v=n(645758),y=n(194322),h=E(n(750931)),m=n(124042),_=E(n(247001)),g=E(n(516682));function E(e){return e&&e.__esModule?e:{default:e}}function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function S(){S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return S.apply(this,arguments)}function b(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function I(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function C(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){I(o,r,a,i,u,"next",e)}function u(e){I(o,r,a,i,u,"throw",e)}i(void 0)}))}}function T(e){var t=e.guild,r=(0,l.default)(m.COLLAPSED_SIZE_MEDIA_QUERY),E=(0,d.default)(t.id),O=a.useMemo((function(){var e=E.filter((function(e){return(0,c.isGuildScheduledEventActive)(e)}));return r&&e.length>0?o.default.head(e):o.default.chain(E).filter((function(e){return!(0,c.isGuildScheduledEventActive)(e)})).minBy((function(e){return(0,i.default)(e.scheduled_start_time)})).value()}),[E,r]);if(null==O)return null;function I(){return(I=C(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return(0,
y.openModalLazy)(C(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(15198),n.e(57166)]).then(n.bind(n,757166));case 2:r=e.sent;o=r.default;return e.abrupt("return",(function(e){return a.createElement(o,S({},e,{guildId:t.id}))}));case 5:case"end":return e.stop()}}),e)}))));case 2:(0,s.markDismissibleContentAsDismissed)(u.DismissibleContent.GUILD_HEADER_EVENT_UPSELL);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return b("div",{className:g.default.container},void 0,b("div",{className:g.default.header},void 0,b(p.Heading,{variant:"heading-md/medium",level:3},void 0,r?_.default.Messages.GUILD_EVENTS:_.default.Messages.GUILD_HOME_EVENTS_TITLE),b(f.default,{onClick:function(){return I.apply(this,arguments)}},void 0,b(v.Text,{className:g.default.showEvents,variant:"text-sm/normal"},void 0,_.default.Messages.GUILD_HOME_SEE_ALL.format({count:E.length
})))),b("div",{className:g.default.events},void 0,b(h.default,{event:O})))}T.displayName="GuildHomeEvents"},554962:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GuildHomeReceivedFeedbackCard=T;t.GuildHomeSubmitFeedbackCard=C;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=E(n(294184)),u=n(392110),l=E(n(423046)),s=E(n(956117)),c=n(772575),d=n(645758),f=E(n(435012)),p=n(3400),v=n(82141),y=n(134866),h=n(455002),m=E(n(247001)),_=E(n(266827)),g=E(n(617493));function E(e){return e&&e.__esModule?e:{default:e}}function O(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function S(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var b=((r={})[h.FeedbackRating.GOOD]=n(350115),r[h.FeedbackRating.NEUTRAL]=n(942473),r[h.FeedbackRating.BAD]=n(479307),r);function I(e){var t=e.className,n=e.guildId;return S(s.default,{color:s.default.Colors.PRIMARY,className:t,innerClassName:_.default.surveyContents,onClick:function(){var e=l.default.getId(),t=(0,y.getHomeFeedbackSurvey)(e,n);window.open(t,"_blank")}},void 0,m.default.Messages.GUILD_HOME_FEEDBACK_CARD_SURVEY_PROMPT,S(f.default,{
className:_.default.launchIcon,width:16,height:16}))}I.displayName="SurveyButton";function C(e){var t=e.guildId,n=o.useCallback((function(e){(0,v.reportGuildHomeFeedback)(t,e)}),[t]),r=o.useCallback((function(){(0,v.dismissGuildHomeFeedback)(t)}),[t]);o.useEffect((function(){(0,v.trackGuildHomeFeedbackShown)(t)}),[t]);return S("div",{className:(0,i.default)(g.default.card,_.default.submitContainer)},void 0,S(p.ModalCloseButton,{className:_.default.closeButton,onClick:r}),S(c.Heading,{variant:"heading-xl/medium",color:"header-primary"},void 0,m.default.Messages.GUILD_HOME_FEEDBACK_CARD_TITLE),S(d.Text,{variant:"text-md/normal",color:"text-normal",className:_.default.subtitle},void 0,m.default.Messages.GUILD_HOME_FEEDBACK_CARD_SUBTITLE),S(u.RatingsSelector,{className:_.default.ratings,selectedRating:null,onChangeRating:n}),S(I,{className:_.default.submitSurveyButton,guildId:t}))}C.displayName="GuildHomeSubmitFeedbackCard";function T(e){
var t=e.guildId,n=e.rating,r=n===h.FeedbackRating.GOOD?m.default.Messages.GUILD_HOME_FEEDBACK_CARD_GOOD_TITLE:m.default.Messages.GUILD_HOME_FEEDBACK_CARD_IMPROVE_TITLE,a=n===h.FeedbackRating.GOOD?m.default.Messages.GUILD_HOME_FEEDBACK_CARD_GOOD_SUBTITLE:m.default.Messages.GUILD_HOME_FEEDBACK_CARD_IMPROVE_SUBTITLE;return S("div",{className:(0,i.default)(g.default.card,_.default.receivedContainer)},void 0,S("img",{className:_.default.receivedImage,src:b[n],alt:""}),S("div",{className:_.default.receivedText},void 0,S(d.Text,{variant:"text-md/medium",color:"header-primary"},void 0,r),S(d.Text,{variant:"text-xs/normal",color:"text-normal"},void 0,a)),S(I,{className:_.default.receivedSurveyButton,guildId:t}))}T.displayName="GuildHomeReceivedFeedbackCard"},993407:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=m;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=n(539011),u=p(n(784320)),l=p(n(380439)),s=n(772575),c=n(645758),d=p(n(247001)),f=p(n(383198));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e){var t=e.guild;a.useEffect((function(){(0,i.fetchGuildForPopout)(t.id)}),[t.id]);var n=(0,o.useStateFromStores)([u.default],(function(){return u.default.getGuild(t.id)}),[t]);return y("div",{className:f.default.memberInfo},void 0,null!=(null==n?void 0:n.presenceCount)?y("div",{className:f.default.memberCount},void 0,y("div",{className:f.default.dotOnline}),y(c.Text,{variant:"text-sm/normal",className:f.default.memberText},void 0,d.default.Messages.MEMBER_VERIFICATION_NUM_ONLINE.format({membersOnline:n.presenceCount}))):null,null!=(null==n?void 0:n.memberCount)?y("div",{className:f.default.memberCount},void 0,y("div",{className:f.default.dotOffline}),y(c.Text,{variant:"text-sm/normal",className:f.default.memberText},void 0,d.default.Messages.MEMBER_VERIFICATION_NUM_MEMBERS.format({members:n.memberCount}))):null)}h.displayName="MemberCounts";function m(e){var t=e.guild;return y("div",{className:f.default.container
},void 0,y(l.default,{className:f.default.icon,guild:t,size:l.default.Sizes.LARGER,active:!0}),y(s.Heading,{className:f.default.name,variant:"heading-xl/medium",level:3},void 0,t.name),null!=t.description?y(c.Text,{className:f.default.description,variant:"text-md/normal"},void 0,t.description):null,y(h,{guild:t}))}m.displayName="GuildHomeInfoWidget"},928205:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=$(n(667294)),o=z(n(294184)),i=n(370405),u=n(393356),l=n(536211),s=$(n(174851)),c=z(n(43233)),d=z(n(864345)),f=z(n(673997)),p=z(n(876647)),v=z(n(843314)),y=z(n(216672)),h=z(n(968078)),m=z(n(463024)),_=z(n(751410)),g=z(n(225379)),E=z(n(546914)),O=z(n(252283)),S=$(n(502546)),b=z(n(30098)),I=z(n(205982)),C=n(772575),T=z(n(226508)),A=z(n(967965)),P=n(235742),M=n(82141),N=n(566627),R=z(n(173101)),w=z(n(490033)),D=z(n(813092)),L=z(n(466366)),k=z(n(389396)),j=z(n(663116)),U=z(n(993407)),G=n(770348),F=n(173652),x=n(124042),W=z(n(247001)),B=z(n(738862)),V=z(n(149563)),H=z(n(789278)),Y=["ref"];function z(e){return e&&e.__esModule?e:{default:e}}function K(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(K=function(e){return e?n:t})(e)}function $(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=K(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function q(){q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return q.apply(this,arguments)}function X(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Q(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Z(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var J=[],ee=Z(m.default.Icon,{icon:T.default,
"aria-hidden":!0}),te=Z(m.default.Divider,{});function ne(e){var t=e.guildId;return Z(m.default,{channelId:F.StaticChannelRoute.GUILD_HOME,guildId:t,className:(0,o.default)(V.default.title,B.default.background),innerClassname:B.default.headerBarInner,toolbar:J},void 0,a.createElement(a.Fragment,null,ee,Z(v.default,{},void 0,W.default.Messages.GUILD_HOME)),Z(m.default.Title,{},void 0,W.default.Messages.GUILD_HOME),a.createElement(a.Fragment,null,te,Z("div",{className:H.default.topic},void 0,W.default.Messages.GUILD_HOME_DESCRIPTION)))}ne.displayName="GuildHomePageHeader";function re(e){var t=e.guild,n=e.containerHeight,r=X(a.useState(0),2),o=r[0],i=r[1],u=(0,f.default)(),l=u.ref,s=u.height;(0,w.default)(t.id);a.useEffect((function(){if(null!=s){i(s+128-n)}}),[n,s]);return Z("div",{className:B.default.widgets,style:{top:Math.min(-o,0)}},void 0,a.createElement("div",{className:B.default.widgetsContainer,ref:l},Z(U.default,{guild:t}),Z(L.default,{guildId:t.id}),Z(j.default,{guild:t})))}
re.displayName="GuildHomeWidgets";function ae(e){var t=e.pageWidth,n=e.onSidebarResize,r=(0,l.useStateFromStores)([S.default],(function(){return S.default.getSidebarState(F.StaticChannelRoute.GUILD_HOME)}));if(null==r)return null;var a,o=t-G.CHANNEL_SIDEBAR_WIDTH-632;r.type===S.SidebarType.VIEW_THREAD?a=Z(O.default,{channelId:r.channelId,baseChannelId:F.StaticChannelRoute.GUILD_HOME}):r.type===S.SidebarType.VIEW_CHANNEL&&(a=Z(y.default,{channelId:r.channelId,baseChannelId:F.StaticChannelRoute.GUILD_HOME}));return Z(s.default,{sidebarType:s.ChatSidebarType.ThreadSidebar,maxWidth:o,onWidthChange:n},void 0,a)}ae.displayName="GuildHomeSidebar";var oe=[{label:"Segment Reads",value:x.GuildFeedRenderMode.SEGMENTED_READ},{label:"Top",value:x.GuildFeedRenderMode.TOP},{label:"New",value:x.GuildFeedRenderMode.NEW}];function ie(e){var t=e.renderMode,n=e.setRenderMode;return N.GuildFeedRenderSelectorExperiment.useExperiment({}).showSelector?Z(A.default,{className:B.default.selector,options:oe,
select:n,isSelected:function(e){return e===t},serialize:function(e){return String(e)}}):null}ie.displayName="GuildFeedRenderSelector";var ue=(0,d.default)((function(e){var t,n=e.guild,r=e.width,s=e.height,c=n.id,d=(0,l.useStateFromStores)([S.default],(function(){return S.default.getSection(F.StaticChannelRoute.GUILD_HOME)})),v=(0,l.useStateFromStores)([I.default],(function(){return I.default.getCurrentSearchId()})),y=X(a.useState(!1),2),m=y[0],O=y[1],b=X(a.useState(G.DEFAULT_CHAT_SIDEBAR_WIDTH),2),T=b[0],A=b[1],N=d===G.ChannelSections.SEARCH,w=d===G.ChannelSections.SIDEBAR_CHAT,L=N||w,j=a.useRef(null),U=(0,_.default)("top-messages",j),H=(0,f.default)().ref,z=X(a.useState(x.GuildFeedRenderMode.SEGMENTED_READ),2),K=z[0],$=z[1],Q=(0,p.default)(x.COLLAPSED_SIZE_MEDIA_QUERY);a.useEffect((function(){null==h.default.getLoadId(c)&&E.default.closeChannelSidebar(F.StaticChannelRoute.GUILD_HOME)}),[c]);(0,D.default)(c);a.useLayoutEffect((function(){var e=R.default.getSavedScrollPosition(c)
;if(null!=e){var t;null===(t=j.current)||void 0===t||t.scrollTo({to:e})}return function(){var e,t=null===(e=j.current)||void 0===e?void 0:e.getScrollerState();null!=t&&(0,M.saveGuildHomeScrollPosition)(c,t.scrollTop)}}),[c]);var J=r-G.CHANNEL_SIDEBAR_WIDTH-T,ee=!(L&&J<1016)||Q,te=Z(ie,{renderMode:K,setRenderMode:$}),oe=Z(k.default,{guild:n,renderMode:K,scrollerRef:j}),ue=Z(re,{guild:n,containerHeight:s});return a.createElement(a.Fragment,null,Z(i.Helmet,{title:W.default.Messages.GUILD_HOME_HTML_TITLE.format({guildName:n.name})}),Z("div",{className:(0,o.default)(V.default.chat,B.default.background,(t={},t[V.default.threadSidebarOpen]=L,t[V.default.threadSidebarFloating]=L&&m,t))},void 0,Z(ne,{guildId:c}),a.createElement("div",{ref:H,className:V.default.content},Z(u.ListNavigatorProvider,{navigator:U},void 0,Z(u.ListNavigatorContainer,{},void 0,(function(e){var t=e.ref,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r]
;t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,Y);return a.createElement(P.AdvancedScrollerAuto,q({className:B.default.homeContainer,ref:function(e){var n;j.current=e;t.current=null!==(n=null==e?void 0:e.getScrollerNode())&&void 0!==n?n:null}},n),Z("div",{className:B.default.homeContent},void 0,Z("div",{className:B.default.topMessagesHeader},void 0,Z(C.Heading,{variant:"heading-md/medium",level:3},void 0,W.default.Messages.GUILD_FEED_TITLE),te),oe),ee?ue:null)}))),N&&null!=v&&Z(g.default,{searchId:v}))),w?Z(ae,{pageWidth:r,onSidebarResize:function(e,t){O(t);A(e)}}):null)})),le=Z(c.default,{channelId:void 0});function se(e){var t=e.guildId,n=(0,l.useStateFromStores)([b.default],(function(){return b.default.getGuild(t)}),[t]);return null==n?le:Z(ue,{guild:n})}se.displayName="GuildHomePageGuard";var ce=se;t.default=ce},350957:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=u(n(536211)),o=u(n(636602)),i=n(770348);function u(e){
return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var s,c,d,f,p,v,y,h=i.FormStates.CLOSED,m={},_=!1;function g(){s=void 0;c=void 0;d=void 0;f=void 0;p=void 0;m={};h=i.FormStates.OPEN}var E=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.getFormState=function(){return h};n.getErrors=function(){return m};n.showNotice=function(){return void 0!==s||void 0!==c||void 0!==d||void 0!==f||void 0!==p};n.getPendingAvatar=function(){return s};n.getPendingBanner=function(){return c};n.getPendingBio=function(){return d};n.getPendingNickname=function(){return p};n.getPendingPronouns=function(){return f};n.getPendingAccentColor=function(){return p};n.getAllPending=function(){return{pendingAvatar:s,pendingBanner:c,pendingBio:d,pendingPronouns:f,pendingNickname:p}};n.getGuild=function(){return v}
;n.getSource=function(){return y};n.getIsDisableSubmit=function(){return _};return t}(a.default.Store);E.displayName="GuildIdentitySettingsStore";var O=new E(o.default,((r={})[i.ActionTypes.GUILD_IDENTITY_SETTINGS_INIT]=function(e){v=e.guild;h=i.FormStates.OPEN;m={};y=e.source},r[i.ActionTypes.GUILD_IDENTITY_SETTINGS_CLOSE]=function(){h=i.FormStates.CLOSED;m={};v=null;y=void 0},r[i.ActionTypes.GUILD_IDENTITY_SETTINGS_SUBMIT]=function(){h=i.FormStates.SUBMITTING;m={}},r[i.ActionTypes.GUILD_IDENTITY_SETTINGS_SUBMIT_FAILURE]=function(e){var t;if(h!==i.FormStates.SUBMITTING)return!1;h=i.FormStates.OPEN;m=null!==(t=e.errors)&&void 0!==t?t:{}},r[i.ActionTypes.GUILD_IDENTITY_SETTINGS_SET_PENDING_AVATAR]=function(e){var t=e.avatar;s=t},r[i.ActionTypes.GUILD_IDENTITY_SETTINGS_SET_PENDING_BANNER]=function(e){var t=e.banner;c=t},r[i.ActionTypes.GUILD_IDENTITY_SETTINGS_SET_PENDING_BIO]=function(e){var t=e.bio;d=t},r[i.ActionTypes.GUILD_IDENTITY_SETTINGS_SET_PENDING_PRONOUNS]=function(e){
var t=e.pronouns;f=t},r[i.ActionTypes.GUILD_IDENTITY_SETTINGS_SET_PENDING_NICKNAME]=function(e){var t=e.nickname;p=t},r[i.ActionTypes.GUILD_IDENTITY_SETTINGS_RESET_ALL_PENDING]=g,r[i.ActionTypes.GUILD_IDENTITY_SETTINGS_SUBMIT_SUCCESS]=g,r[i.ActionTypes.GUILD_IDENTITY_SETTINGS_SET_DISABLE_SUBMIT]=function(e){var t=e.disable;_=t},r));t.default=O},83e3:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.usePaginatedMemberApplications=function(e){var t=e.guildId,n=e.guildJoinRequests,a=r.useRef(!1),o=(_=r.useState(null),g=2,function(e){if(Array.isArray(e))return e}(_)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}}(_,g)||function(e,t){if(e){if("string"==typeof e)return p(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(_,g)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=o[0],s=o[1],c=r.useRef(null),h=r.useRef(!1),m=r.useCallback(function(){var e,r=(e=regeneratorRuntime.mark((function e(r,o){var f,p,m,_,g;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.current){e.next=2;break}return e.abrupt("return");case 2:p=!1;if((f=r+"-"+o)!==c.current){c.current=f;h.current=!1;p=!0}if(!h.current){e.next=7;break}return e.abrupt("return");case 7:null!=l&&s(null);m=y(n,r,o,p);e.prev=9;a.current=!0;e.next=13;return u.default.fetchGuildJoinRequests(d({guildId:t,status:o,limit:v},m));case 13:
null!=(_=e.sent)&&_.body.guild_join_requests.length<v&&(h.current=!0);e.next=21;break;case 17:e.prev=17;e.t0=e.catch(9);g=new i.APIError(e.t0);s(g.getAnyErrorMessage());case 21:e.prev=21;a.current=!1;return e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[9,17,21,24]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){f(o,r,a,i,u,"next",e)}function u(e){f(o,r,a,i,u,"throw",e)}i(void 0)}))});return function(e,t){return r.apply(this,arguments)}}(),[l,t,n]);var _,g;return{fetchNextPage:m,error:l}};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e
;n&&n.set(e,r);return r}(n(667294)),a=s(n(730381)),o=s(n(795715)),i=n(327269),u=s(n(868073)),l=n(237639);function s(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}function f(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v=l.MAX_RESULTS_PER_PAGE*l.MAX_VISIBLE_PAGES;function y(e,t,n,r){var i=n===l.GuildJoinRequestApplicationStatuses.SUBMITTED;if(t===l.GuildJoinRequestSortOrders.TIMESTAMP_DESC){if(r){return{before:o.default.fromTimestamp((new Date).getTime())}}var u=e[e.length-1];return{
before:i?u.id:u.actionedAt}}if(r){return{after:o.default.fromTimestamp((0,a.default)().subtract(180,"days").valueOf())}}var s=e[e.length-1];return{after:i?s.id:s.actionedAt}}},912958:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useSelectedApplicationStatus=function(e){var t=e.guildId;return(0,a.useStateFromStores)([o.default],(function(){return o.default.getSelectedApplicationStatus(t)}),[t])};var r,a=n(536211),o=(r=n(499098))&&r.__esModule?r:{default:r}},519589:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useSelectedGuildJoinRequest=function(e){var t=e.guildId;return(0,a.useStateFromStores)([o.default],(function(){return o.default.getSelectedGuildJoinRequest(t)}),[t])};var r,a=n(536211),o=(r=n(499098))&&r.__esModule?r:{default:r}},322865:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useSelectedSortOrder=function(e){var t=e.guildId;return(0,a.useStateFromStores)([o.default],(function(){
return o.default.getSelectedSortOrder(t)}),[t])};var r,a=n(536211),o=(r=n(499098))&&r.__esModule?r:{default:r}},912322:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useSortedMemberApplications=function(e){var t=e.guildId,n=e.applicationStatus,r=e.sortOrder,l=(0,o.useStateFromStores)([i.default],(function(){return i.default.getRequests(t,n)}),[n,t]);return{guildJoinRequests:a.useMemo((function(){return r===u.GuildJoinRequestSortOrders.TIMESTAMP_DESC?(e=l,function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e)||function(){
throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).reverse():l;var e}),[r,l])}};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=(r=n(499098))&&r.__esModule?r:{default:r},u=n(237639);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},267762:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=f(n(956117)),i=f(n(380439)),u=n(772575),l=n(645758),s=f(n(247001)),c=f(n(133766)),d=f(n(946137));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var y=function(e){var t=e.reapplyText,n=e.onReapply,r=e.confirmText,f=e.onConfirm,p=e.rejectionReason,y=void 0===p?null:p,h=e.guild,m=void 0===h?null:h;return v("div",{className:c.default.confirmation},void 0,v("div",{className:c.default.confirmationContent},void 0,null!==m?v(i.default,{size:i.default.Sizes.LARGER,guild:m,className:c.default.guildIcon}):v("img",{alt:s.default.Messages.MEMBER_VERIFICATION_APPLICATION_REJECTED_ICON,src:d.default,className:c.default.verificationStateIcon}),v(u.Heading,{variant:"heading-xl/medium",className:c.default.header,level:3},void 0,null!=(null==m?void 0:m.name)?s.default.Messages.MEMBER_VERIFICATION_APPLICATION_REJECTED_TITLE_WITH_GUILD_NAME.format({guildName:m.name
}):s.default.Messages.MEMBER_VERIFICATION_APPLICATION_REJECTED_TITLE),null!=y&&""!==y?a.createElement(a.Fragment,null,v(l.Text,{variant:"text-sm/normal"},void 0,v("span",{className:c.default.rejectionReasonLabel},void 0,s.default.Messages.MEMBER_VERIFICATION_APPLICATION_REJECTED_REASON),v("span",{className:c.default.rejectionReason},void 0,y))):null),v("div",{className:c.default.confirmationButtonRow},void 0,v(o.default,{onClick:n,color:o.default.Colors.PRIMARY,className:c.default.confirmationButton},void 0,t),v(o.default,{onClick:f,color:o.default.Colors.PRIMARY,className:c.default.confirmationButton},void 0,r)))};y.displayName="MemberVerificationApplicationRejected";var h=y;t.default=h},332996:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=d(n(956117)),o=d(n(380439)),i=n(772575),u=n(645758),l=d(n(247001)),s=d(n(133766)),c=d(n(692760));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}
var v=function(e){var t=e.onCancel,n=e.onLeave,r=e.guild,d=void 0===r?null:r;return p("div",{className:s.default.confirmation},void 0,p("div",{className:s.default.confirmationContent},void 0,null!==d?p(o.default,{size:o.default.Sizes.LARGER,guild:d,className:s.default.guildIcon}):p("img",{alt:l.default.Messages.MEMBER_VERIFICATION_PENDING_APPLICATION_ICON,src:c.default,className:s.default.verificationStateIcon}),p(i.Heading,{variant:"heading-xl/medium",className:s.default.header,level:3},void 0,null!=(null==d?void 0:d.name)?l.default.Messages.MEMBER_VERIFICATION_APPLICATION_CONFIRMATION_TITLE_WITH_GUILD_NAME.format({guildName:d.name}):l.default.Messages.MEMBER_VERIFICATION_APPLICATION_CONFIRMATION_TITLE),p(u.Text,{variant:"text-sm/normal",color:"header-secondary"},void 0,l.default.Messages.MEMBER_VERIFICATION_APPLICATION_CONFIRMATION_SUBTITLE)),p("div",{className:s.default.confirmationButtonColumn},void 0,p(a.default,{onClick:t,look:a.default.Looks.LINK,color:a.default.Colors.LINK,
size:a.default.Sizes.SMALL},void 0,l.default.Messages.MEMBER_VERIFICATION_CANCEL_APPLICATION),p(a.default,{onClick:n,look:a.default.Looks.LINK,color:a.default.Colors.LINK,size:a.default.Sizes.SMALL},void 0,l.default.Messages.MEMBER_VERIFICATION_PENDING_APPLICATION_MODAL_WITHDRAW_AND_LEAVE)))};v.displayName="MemberVerificationApplicationSubmitConfirmation";var y=v;t.default=y},545130:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.MemberVerificationPreviewDisabled=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=P(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=n(536211),i=n(139982),u=A(n(30098)),l=A(n(956117)),s=n(645758),c=A(n(194815)),d=A(n(502197)),f=n(194322),p=n(549186),v=A(n(692711)),y=A(n(868073)),h=A(n(542307)),m=A(n(849997)),_=n(237639),g=A(n(943819)),E=A(n(267762)),O=A(n(332996)),S=A(n(757349)),b=n(770348),I=n(99043),C=A(n(247001)),T=A(n(613599));function A(e){return e&&e.__esModule?e:{default:e}}function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(P=function(e){return e?n:t})(e)}function M(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function N(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function R(){R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return R.apply(this,arguments)}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var L=function(e){var t,n=e.guildId,r=e.inviteCode,A=w(a.useState(I.WaveStates.INITIAL),2),P=A[0],D=A[1],L=(0,o.useStateFromStores)([m.default],(function(){return m.default.get(n)})),k=(0,o.useStateFromStores)([g.default],(function(){return g.default.getRequest(n)})),j=(0,o.useStateFromStores)([u.default],(function(){return u.default.getGuild(n)})),U=(0,o.useStateFromStoresObject)([g.default],(function(){return{hasFetchedRequestToJoinGuilds:g.default.hasFetchedRequestToJoinGuilds,guildPreviewDisabled:g.default.getJoinRequestGuild(n)}})),G=U.hasFetchedRequestToJoinGuilds,F=U.guildPreviewDisabled;a.useEffect((function(){null!=j&&(0,i.transitionTo)(b.Routes.CHANNEL(n))}),[j,n]);a.useEffect((function(){
G||y.default.fetchRequestToJoinGuilds()}),[G]);var x=a.useCallback((function(e){D((function(t){return Math.max(t,e)}))}),[]),W=function(e,t){var n=N(s.Text,{variant:"text-sm/normal",color:"header-secondary"},void 0,e);return function(){(0,f.openModal)((function(e){return a.createElement(d.default,R({header:C.default.Messages.MEMBER_VERIFICATION_CONFIRM_LEAVE_TITLE,cancelText:C.default.Messages.NEVERMIND,onConfirm:t,confirmText:C.default.Messages.YES_TEXT,confirmButtonColor:l.default.Colors.RED},e),n)}))}},B=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return h.default.submitVerificationForm(n,t);case 2:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){M(o,r,a,i,u,"next",e)}function u(e){M(o,r,a,i,u,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}(),V=function(){
y.default.resetGuildJoinRequest(n)},H=W(C.default.Messages.LEAVE_SERVER_BODY.format({name:null==j?void 0:j.toString()}),(function(){D(Math.max(P,I.WaveStates.FILLING));y.default.removeGuildJoinRequest(n);(0,i.transitionTo)(b.Routes.ME)})),Y=N(S.default,{guildId:n,inviteCode:r,onComplete:B}),z=null!=(null==L||null===(t=L.guild)||void 0===t?void 0:t.splash)?v.default.getGuildSplashURL({id:L.guild.id,splash:L.guild.splash}):(0,p.getArtForPath)();return N("div",{className:T.default.page},void 0,N(c.default,{embedded:!0,splash:z,waveState:P,showLogo:!1,updateWaveState:x},void 0,N("div",{className:T.default.dragRegion}),N("div",{className:T.default.contentWrapper},void 0,function(){switch(null==k?void 0:k.applicationStatus){case _.GuildJoinRequestApplicationStatuses.SUBMITTED:return N(O.default,{onCancel:W(C.default.Messages.MEMBER_VERIFICATION_CANCEL_PENDING_APPLICATION_MODAL_TITLE,V),onLeave:H,guild:F});case _.GuildJoinRequestApplicationStatuses.REJECTED:return N(E.default,{
reapplyText:C.default.Messages.MEMBER_VERIFICATION_APPLICATION_REAPPLY,onReapply:V,confirmText:C.default.Messages.LEAVE_SERVER,onConfirm:H,rejectionReason:null==k?void 0:k.rejectionReason,guild:F});default:return Y}}())))};t.MemberVerificationPreviewDisabled=L;L.displayName="MemberVerificationPreviewDisabled";var k=L;t.default=k},757349:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=z(n(667294)),o=H(n(294184)),i=n(536211),u=H(n(939949)),l=n(825185),s=H(n(235879)),c=H(n(268660)),d=H(n(539563)),f=H(n(433385)),p=H(n(311492)),v=H(n(876874)),y=H(n(30098)),h=H(n(728429)),m=H(n(956117)),_=H(n(530250)),g=H(n(380439)),E=n(772575),O=H(n(230047)),S=n(645758),b=H(n(279950)),I=H(n(730977)),C=n(688388),T=H(n(662197)),A=n(3400),P=H(n(308920)),M=H(n(692711)),N=H(n(542307)),R=z(n(849997)),w=n(237639),D=n(41787),L=n(327769),k=H(n(233915)),j=n(602175),U=n(770348),G=H(n(247001)),F=H(n(133766)),x=H(n(698242)),W=H(n(483683)),B=H(n(63685)),V=H(n(634737))
;function H(e){return e&&e.__esModule?e:{default:e}}function Y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(Y=function(e){return e?n:t})(e)}function z(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=Y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function K(){K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return K.apply(this,arguments)}function $(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function q(e){return function(){
var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){$(o,r,a,i,u,"next",e)}function u(e){$(o,r,a,i,u,"throw",e)}i(void 0)}))}}function X(e){return function(e){if(Array.isArray(e))return J(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Z(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||Z(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,t){if(e){if("string"==typeof e)return J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?J(e,t):void 0}}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ee(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var te
;!function(e){e[e.CLAIM_ACCOUNT=0]="CLAIM_ACCOUNT";e[e.EMAIL_CONFIRMATION=1]="EMAIL_CONFIRMATION";e[e.VERIFICATION_FORM=2]="VERIFICATION_FORM"}(te||(te={}));var ne=function(e){var t=e.email,n=e.password,r=e.setEmail,a=e.setPassword,o=e.emailError,i=e.passwordError;return ee("div",{className:F.default.content},void 0,ee("img",{alt:G.default.Messages.MEMBER_VERIFICATION_CLAIM_ACCOUNT_ICON,src:x.default,className:F.default.applicationIcon}),ee(E.Heading,{variant:"heading-xl/medium",className:F.default.header,level:3},void 0,G.default.Messages.MEMBER_VERIFICATION_CLAIM_ACCOUNT_TITLE),ee(S.Text,{variant:"text-sm/normal",color:"header-secondary"},void 0,G.default.Messages.MEMBER_VERIFICATION_CLAIM_ACCOUNT_SUBTITLE),ee("hr",{className:F.default.divider}),ee(C.FormItem,{title:G.default.Messages.FORM_LABEL_EMAIL,className:F.default.formItem},void 0,ee(b.default,{value:t,error:o,onChange:r,autoFocus:!0})),ee(C.FormItem,{title:G.default.Messages.FORM_LABEL_PASSWORD,className:F.default.formItem
},void 0,ee(b.default,{type:"password",value:n,error:i,onChange:a})))};ne.displayName="MemberVerificationClaimAccountStep";var re=function(e){var t=e.email;return ee("div",{className:F.default.content},void 0,ee("img",{alt:G.default.Messages.MEMBER_VERIFICATION_VERIFY_EMAIL_ICON,src:V.default,className:F.default.applicationIcon}),ee(E.Heading,{variant:"heading-xl/medium",className:F.default.header,level:3},void 0,G.default.Messages.MEMBER_VERIFICATION_EMAIL_CONFIRMATION_TITLE.format({email:t})),ee(S.Text,{variant:"text-sm/normal",color:"header-secondary"},void 0,G.default.Messages.MEMBER_VERIFICATION_EMAIL_CONFIRMATION_SUBTITLE),ee(m.default,{className:F.default.resendButton,size:m.default.Sizes.NONE,look:m.default.Looks.LINK,onClick:function(){return u.default.verifyResend()}},void 0,G.default.Messages.MEMBER_VERIFICATION_EMAIL_RESEND))};re.displayName="MemberVerificationEmailConfirmationStep";var ae=function(){return n.e(61029).then(n.t.bind(n,640002,19)).then((function(e){
return e.default}))},oe=function(e){var t=e.guildId,n=e.formState,r=e.updateFormState,a=e.useReducedMotion,i=e.isPreview,u=void 0!==i&&i;return ee("div",{className:F.default.content},void 0,ee("div",{className:F.default.animationAndSparklesContainer},void 0,ee("img",{alt:G.default.Messages.MEMBER_VERIFICATION_VERIFICATION_ICON,src:B.default,className:(0,o.default)(F.default.sparkleIcon,F.default.sparkleBottom)}),ee(O.default,{importData:ae,shouldAnimate:!a,className:F.default.animation}),ee("img",{alt:G.default.Messages.MEMBER_VERIFICATION_VERIFICATION_ICON,src:W.default,className:(0,o.default)(F.default.sparkleIcon,F.default.sparkleTop)})),ee(E.Heading,{variant:"heading-xl/medium",className:F.default.header,level:3},void 0,G.default.Messages.MEMBER_VERIFICATION_MODAL_TITLE),ee(S.Text,{variant:"text-sm/normal",color:"header-secondary",className:F.default.subheader},void 0,G.default.Messages.MEMBER_VERIFICATION_MODAL_SUBTITLE),ee("hr",{className:F.default.divider}),ee(k.default,{
className:F.default.verificationForm,guildId:t,formState:n,updateFormState:r,isPreview:u}))};oe.displayName="MemberVerificationFormStep";var ie=function(e){var t,n,r,u=e.guildId,O=e.onClose,b=e.onComplete,C=e.inviteCode,k=e.isPreview,x=void 0!==k&&k,W=(0,L.useMemberVerificationFormNoticeStore)((function(e){return e.hasUnsubmittedChanges})),B=(0,i.useStateFromStores)([y.default],(function(){return y.default.getGuild(u)})),V=(0,i.useStateFromStores)([R.default],(function(){return R.default.get(u)})),H=(0,i.useStateFromStores)([h.default],(function(){return h.default.getCurrentUser()})),Y=!(null==H?void 0:H.isClaimed()),z=null==H?void 0:H.verified,$=null==H?void 0:H.isPhoneVerified(),Z=(0,i.useStateFromStores)([f.default],(function(){return f.default.getGuildEmoji(u)})),J=(0,i.useStateFromStoresObject)([p.default],(function(){return{storeMemberCount:p.default.getMemberCount(u),storeOnlineCount:p.default.getOnlineCount(u)}
})),ae=J.storeMemberCount,ie=J.storeOnlineCount,ue=Q(a.useState(null!==(t=null==V?void 0:V.formFields)&&void 0!==t?t:[]),2),le=ue[0],se=ue[1],ce=Q(a.useState(!1),2),de=ce[0],fe=ce[1],pe=Q(a.useState(null),2),ve=pe[0],ye=pe[1],he=Q(a.useState(Y?te.CLAIM_ACCOUNT:te.VERIFICATION_FORM),2),me=he[0],_e=he[1],ge=Q(a.useState(""),2),Ee=ge[0],Oe=ge[1],Se=Q(a.useState(""),2),be=Se[0],Ie=Se[1],Ce=Q(a.useState(null),2),Te=Ce[0],Ae=Ce[1],Pe=Q(a.useState(null),2),Me=Pe[0],Ne=Pe[1],Re=null==V?void 0:V.guild,we=a.useMemo((function(){return null!=B?B:null!=Re?new d.default(Re):null}),[B,Re]),De=a.useMemo((function(){var e,t=X(null!==(e=0===Z.length?null==Re?void 0:Re.emojis:Z)&&void 0!==e?e:[]).reverse(),n=0,r=t.length;if(r>12&&null!=t){t=t.slice(0,11);n=Math.min(r-t.length,99)}return{emojisToRender:t,remainingEmojis:n,numGuildEmoji:r}
}),[Re,Z]),Le=De.emojisToRender,ke=De.remainingEmojis,je=De.numGuildEmoji,Ue=null!=ae?ae:null==Re?void 0:Re.approximate_member_count,Ge=null!=ie?ie:null==Re?void 0:Re.approximate_presence_count;a.useEffect((function(){(0,L.setHasUnsubmittedChanges)(!1);return function(){(0,L.setHasUnsubmittedChanges)(!1)}}),[]);a.useEffect((function(){N.default.fetchVerificationForm(u,C)}),[u,C]);a.useEffect((function(){null!=V&&se(V.formFields)}),[V]);a.useEffect((function(){null!=H&&H.isClaimed()&&_e(te.VERIFICATION_FORM)}),[H]);a.useEffect((function(){me===te.EMAIL_CONFIRMATION&&z&&_e(te.VERIFICATION_FORM)}),[me,z]);a.useEffect((function(){null!=u&&P.default.track(U.AnalyticEvents.OPEN_MODAL,{type:j.MEMBER_VERIFICATION_TYPE,guild_id:u})}),[u]);a.useEffect((function(){var e=le.some((function(e){return e.field_type!==w.VerificationFormFieldTypes.TERMS&&(0,D.isValidFormResponse)(e)}));e&&!W?(0,L.setHasUnsubmittedChanges)(!0):!e&&W&&(0,L.setHasUnsubmittedChanges)(!1)}),[le,W])
;var Fe=a.useMemo((function(){return!(((null==we?void 0:we.verificationLevel)!==U.VerificationLevels.VERY_HIGH||(null==H?void 0:H.isStaff()))&&z||$)||le.some((function(e){return!(0,D.isValidFormResponse)(e)}))}),[le,we,$,z,H]),xe=(0,i.useStateFromStores)([s.default],(function(){return s.default.useReducedMotion}));if(null==we)return null;var We=function(){var e=q(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fe(!0);Ae(null);Ne(null);e.prev=3;e.next=6;return(0,l.saveAccountRequest)({email:Ee,password:be});case 6:fe(!1);_e(te.EMAIL_CONFIRMATION);e.next=14;break;case 10:e.prev=10;e.t0=e.catch(3);Ae(null===e.t0||void 0===e.t0||null===(t=e.t0.body)||void 0===t?void 0:t.email);Ne(null===e.t0||void 0===e.t0||null===(n=e.t0.body)||void 0===n?void 0:n.password);case 14:e.prev=14;fe(!1);return e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[3,10,14,17]])})));return function(){return e.apply(this,arguments)
}}(),Be=function(){var e=q(regeneratorRuntime.mark((function e(){var t,n,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fe(!0);ye(null);if(null==(t=null!=H?v.default.getMember(u,H.id):null)||t.isPending){e.next=6;break}null==O||O(!0);return e.abrupt("return");case 6:e.prev=6;e.next=9;return null==b?void 0:b(K({},null!=V?V:R.NO_MEMBER_VERIFICATION_FORM,{formFields:le}));case 9:null==O||O(!0);e.next=17;break;case 12:e.prev=12;e.t0=e.catch(6);null!=(null==(a=null===e.t0||void 0===e.t0?void 0:e.t0.body)||null===(n=a.errors)||void 0===n?void 0:n.version)||null!=(null==a||null===(r=a.errors)||void 0===r?void 0:r.form_fields)?ye(G.default.Messages.MEMBER_VERIFICATION_VERSION_MISMATCH_ERROR):ye(null==a?void 0:a.message);fe(!1);case 17:case"end":return e.stop()}}),e,null,[[6,12]])})));return function(){return e.apply(this,arguments)}}(),Ve=ee(ne,{email:Ee,password:be,setEmail:Oe,setPassword:Ie,emailError:Te,passwordError:Me}),He=ee(re,{email:Ee}),Ye=ee(oe,{
guildId:u,formState:le,updateFormState:se,isPreview:x,useReducedMotion:xe}),ze=ee(S.Text,{variant:"text-xs/normal",color:"text-danger"},void 0,ve);return a.createElement(a.Fragment,null,ee(_.default,{direction:_.default.Direction.VERTICAL,justify:_.default.Justify.BETWEEN,className:F.default.guildSidebar,shrink:0},void 0,ee("div",{},void 0,ee(g.default,{guild:we,active:!0,className:(0,o.default)(F.default.guildIcon,(n={},n[F.default.guildIconNoIcon]=null==we.icon,n))}),ee(E.Heading,{variant:"heading-lg/medium",className:F.default.guildName,level:3},void 0,null==we?void 0:we.name),ee(S.Text,{className:F.default.guildDescription,variant:"text-sm/normal",color:"header-secondary"},void 0,null==V?void 0:V.description),null!=Le&&Le.length>0?a.createElement(a.Fragment,null,ee("hr",{className:F.default.divider}),ee(T.default,{},void 0,G.default.Messages.MEMBER_VERIFICATION_NUM_EMOJIS.format({emojis:je})),ee("div",{className:F.default.emojisContainer},void 0,Le.map((function(e){
var t=M.default.getEmojiURL({id:e.id,animated:!1,size:24});return ee(I.default,{text:":"+e.name+":"},e.id,(function(e){return a.createElement("img",K({},e,{width:24,height:24,src:t,className:F.default.emoji,alt:""}))}))})),null!=ke&&ke>0?ee(E.Heading,{variant:"heading-sm/medium",className:F.default.emoji,color:"header-secondary",level:3},void 0,"+"+ke):null)):null),ee("div",{},void 0,null!=Ge&&ee(_.default,{align:_.default.Align.CENTER,className:F.default.onlineCount},void 0,ee("div",{className:F.default.dotOnline}),ee(S.Text,{variant:"text-sm/normal"},void 0,G.default.Messages.MEMBER_VERIFICATION_NUM_ONLINE.format({membersOnline:Ge}))),null!=Ue&&ee(_.default,{align:_.default.Align.CENTER},void 0,ee("div",{className:F.default.dotMembers}),ee(S.Text,{variant:"text-sm/normal"},void 0,G.default.Messages.MEMBER_VERIFICATION_NUM_MEMBERS.format({members:Ue}))))),ee("div",{className:F.default.modal},void 0,ee(A.ModalContent,{className:F.default.modalContent},void 0,ee(c.default,{className:(0,
o.default)(F.default.sequencer,(r={},r[F.default.centerContent]=me!==te.VERIFICATION_FORM,r)),steps:[te.CLAIM_ACCOUNT,te.EMAIL_CONFIRMATION,te.VERIFICATION_FORM],step:me},void 0,function(){switch(me){case te.CLAIM_ACCOUNT:return Ve;case te.EMAIL_CONFIRMATION:return He;case te.VERIFICATION_FORM:return Ye}}())),function(){switch(me){case te.CLAIM_ACCOUNT:return ee(A.ModalFooter,{className:F.default.footer},void 0,ee(m.default,{className:F.default.submitButton,type:"submit",submitting:de,onClick:We,disabled:0===Ee.length||0===be.length},void 0,G.default.Messages.NEXT),ee(S.Text,{variant:"text-xs/normal",color:"header-secondary"},void 0,G.default.Messages.MEMBER_VERIFICATION_CLAIM_ACCOUNT_INFO));case te.EMAIL_CONFIRMATION:return null;case te.VERIFICATION_FORM:return ee(A.ModalFooter,{className:F.default.footer},void 0,ee(m.default,{className:F.default.submitButton,type:"submit",submitting:de,onClick:Be,color:m.default.Colors.GREEN,disabled:null==b||Fe
},void 0,G.default.Messages.SUBMIT),null!=ve?ze:ee(S.Text,{color:"header-secondary",variant:"text-xs/normal"},void 0,G.default.Messages.MEMBER_VERIFICATION_WARNING))}}()))};t.default=ie},796015:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=E(n(294184)),i=n(536211),u=E(n(30098)),l=E(n(790597)),s=E(n(956117)),c=n(645758),d=E(n(502197)),f=n(194322),p=E(n(868073)),v=n(237639),y=E(n(943819)),h=E(n(678875)),m=E(n(247001)),_=E(n(407829)),g=E(n(944659));function E(e){return e&&e.__esModule?e:{
default:e}}function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function S(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function b(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){S(o,r,a,i,u,"next",e)}function u(e){S(o,r,a,i,u,"throw",e)}i(void 0)}))}}function I(){I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return I.apply(this,arguments)}function C(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var T=function(){var e,t=(0,i.useStateFromStores)([l.default],(function(){return l.default.getGuildId()}),[]),r=(0,i.useStateFromStores)([u.default],(function(){return u.default.getGuild(t)}),[t]),E=(0,i.useStateFromStores)([y.default],(function(){return null!=t?y.default.getRequest(t):null}),[t]);if(null==r||!r.hasVerificationGate())return null;var O=null!==(e=null==E?void 0:E.applicationStatus)&&void 0!==e?e:v.GuildJoinRequestApplicationStatuses.STARTED,S=null,T=null,A=null,P=[_.default.notice,g.default.notice];switch(O){case v.GuildJoinRequestApplicationStatuses.SUBMITTED:S=m.default.Messages.MEMBER_VERIFICATION_APPLICATION_CONFIRMATION_TITLE;T=m.default.Messages.MEMBER_VERIFICATION_CANCEL_APPLICATION;A=function(){(0,f.openModal)((function(e){return a.createElement(d.default,I({header:m.default.Messages.MODIFY_FOLLOWED_NEWS_HEADER,
confirmText:m.default.Messages.CONFIRM,cancelText:m.default.Messages.CANCEL,onConfirm:function(){return p.default.removeGuildJoinRequest(r.id)},confirmButtonColor:s.default.Colors.BRAND},e),C(c.Text,{variant:"text-md/normal"},void 0,m.default.Messages.MEMBER_VERIFICATION_CANCEL_APPLICATION_SUBTITLE))}))};break;case v.GuildJoinRequestApplicationStatuses.REJECTED:S=m.default.Messages.MEMBER_VERIFICATION_REJECTED_TITLE;T=m.default.Messages.MEMBER_VERIFICATION_LEARN_MORE;A=function(){(0,f.openModalLazy)(b(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(13554).then(n.bind(n,838303));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return a.createElement(o,I({guildId:r.id},e))}));case 5:case"end":return e.stop()}}),e)}))))};P.push(_.default.error);break;default:S=m.default.Messages.MEMBER_VERIFICATION_NOTICE_TEXT;T=m.default.Messages.MEMBER_VERIFICATION_NOTICE_CTA;A=function(){
(0,h.default)(r.id)}}return C("div",{className:o.default.apply(void 0,P)},void 0,C(c.Text,{className:_.default.header,variant:"text-sm/normal"},void 0,S),C(s.default,{className:_.default.button,look:s.default.Looks.OUTLINED,color:s.default.Colors.WHITE,size:s.default.Sizes.NONE,onClick:A},void 0,T))};T.displayName="PendingGuildMemberNotice";var A=T;t.default=A},710483:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=n(370405),i=n(536211),u=h(n(759027)),l=h(n(30098)),s=h(n(868073)),c=h(n(542307)),d=n(519589),f=h(n(191265)),p=h(n(611408)),v=h(n(247001)),y=h(n(851007));function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=function(e){var t=e.guildId,n=(0,d.useSelectedGuildJoinRequest)({guildId:t}),r=(null!=n?n:{}).user,h=a.useMemo((function(){return null!=r?new u.default(r):null}),[r]),m=(0,i.useStateFromStores)([l.default],(function(){
return l.default.getGuild(t)}),[t]);a.useEffect((function(){c.default.fetchVerificationForm(t)}),[t]);return a.createElement(a.Fragment,null,_(o.Helmet,{title:v.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_REQUIREMENTS}),_("div",{className:y.default.content},void 0,_(f.default,{guildId:t})),null!=n&&null!=m&&null!=h&&_("section",{className:y.default.sidebar},void 0,_(p.default,{guild:m,guildJoinRequest:n,guildJoinRequestUser:h,onClose:function(){return s.default.setSelectedGuildJoinRequest(t,null)}})))};t.default=g},254048:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=n(967965),u=n(237639),l=(r=n(247001))&&r.__esModule?r:{default:r};function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function c(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e){var t=e.className,n=e.sortOrder,r=e.onSortChange,a=o.useMemo((function(){return[{value:u.GuildJoinRequestSortOrders.TIMESTAMP_DESC,label:l.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_SORT_NEWEST},{value:u.GuildJoinRequestSortOrders.TIMESTAMP_ASC,
label:l.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_SORT_OLDEST}]}),[]);return c(i.SingleSelect,{className:t,onChange:r,value:n,options:a})}d.displayName="MemberApplicationSortSelect";var f=d;t.default=f},191265:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(645758),i=_(n(868073)),u=n(83e3),l=n(912958),s=n(519589),c=n(322865),d=n(912322),f=n(181945),p=_(n(254048)),v=_(n(969804)),y=_(n(882793)),h=_(n(247001)),m=_(n(690919));function _(e){return e&&e.__esModule?e:{default:e}}
function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function O(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function S(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){O(o,r,a,i,u,"next",e)}function u(e){O(o,r,a,i,u,"throw",e)}i(void 0)}))}}var b=a.memo((function(e){var t=e.guildId,n=a.useRef(null),r=(0,l.useSelectedApplicationStatus)({guildId:t}),_=(0,
c.useSelectedSortOrder)({guildId:t}),g=(0,s.useSelectedGuildJoinRequest)({guildId:t}),O=(0,f.useSubmittedGuildJoinRequestTotal)({guildId:t}),b=(0,d.useSortedMemberApplications)({guildId:t,applicationStatus:r,sortOrder:_}).guildJoinRequests,I=(0,u.usePaginatedMemberApplications)({guildId:t,guildJoinRequests:b}).fetchNextPage,C=a.useRef(!1);if(!C.current){C.current=!0;I(_,r)}var T=a.useRef(!1);a.useEffect((function(){T.current=!0}),[_,r]);a.useEffect((function(){if(T.current&&0!==b.length){var e;T.current=!1;i.default.setSelectedGuildJoinRequest(t,b[0]);null===(e=n.current)||void 0===e||e.scrollToTop()}}),[t,b,g]);var A=a.useCallback(function(){var e=S(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_!==n){e.next=2;break}return e.abrupt("return");case 2:i.default.setSelectedSortOrder(t,n);e.next=5;return I(n,r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}
}(),[r,_,t,I]),P=a.useCallback(function(){var e=S(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r!==n){e.next=2;break}return e.abrupt("return");case 2:i.default.setSelectedApplicationStatus(t,n);i.default.setSelectedGuildJoinRequest(t,null);e.next=6;return I(_,n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[r,_,t,I]),M=a.useCallback(S(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(a=null===(t=n.current)||void 0===t?void 0:t.getScrollerState())){e.next=3;break}return e.abrupt("return");case 3:if(!(a.scrollHeight-a.scrollTop-a.offsetHeight<200)){e.next=7;break}e.next=7;return I(_,r);case 7:case"end":return e.stop()}}),e)}))),[r,_,I]);return a.createElement(a.Fragment,null,E(v.default,{applicationStatus:r,onTabItemSelect:P,pendingGuildJoinRequestsTotal:O}),E("div",{
className:m.default.content},void 0,E("div",{className:m.default.listControls},void 0,E(p.default,{className:m.default.sortSelect,sortOrder:_,onSortChange:A})),E(o.Text,{className:m.default.description,variant:"text-xs/normal",color:"header-secondary"},void 0,h.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_LIST_DESCRIPTION),E(y.default,{applicationStatus:r,guildJoinRequests:b,guildId:t,onScroll:M,listRef:n})))}));t.default=b},969804:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;f(n(667294));var r,a=c(n(463024)),o=f(n(186465)),i=c(n(214402)),u=n(237639),l=c(n(247001)),s=c(n(624774));function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=p("div",{});function y(e){var t=e.pendingGuildJoinRequestsTotal,n=e.applicationStatus,r=e.onTabItemSelect;return p(a.default,{className:s.default.container,hideSearch:!0,toolbar:v},void 0,p(a.default.Icon,{icon:i.default,disabled:!0,
"aria-label":l.default.Messages.MEMBER_VERIFICATION_MEMBER_APPLICATIONS}),p(a.default.Title,{className:s.default.title},void 0,l.default.Messages.MEMBER_VERIFICATION_MEMBER_APPLICATIONS),p(a.default.Divider,{className:s.default.divider}),p(o.default,{"aria-label":l.default.Messages.FRIENDS,selectedItem:n,type:o.Types.TOP_PILL,onItemSelect:r,className:s.default.tabBar},void 0,p(o.Item,{id:u.GuildJoinRequestApplicationStatuses.SUBMITTED},void 0,0===t?l.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_PENDING:l.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_PENDING_COUNT.format({count:t})),p(o.Item,{id:u.GuildJoinRequestApplicationStatuses.APPROVED},void 0,l.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_APPROVED),p(o.Item,{id:u.GuildJoinRequestApplicationStatuses.REJECTED},void 0,l.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_REJECTED)))}y.displayName="MemberApplicationsHeader";var h=y;t.default=h},882793:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{
value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=S(n(294184)),i=n(798628),u=n(536211),l=S(n(415391)),s=S(n(30098)),c=n(645758),d=S(n(521358)),f=S(n(868073)),p=S(n(499098)),v=n(237639),y=n(519589),h=n(181945),m=n(985577),_=n(423277),g=S(n(247001)),E=S(n(631447)),O=["ref","role"];function S(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function I(){I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return I.apply(this,arguments)}function C(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var T=function(){return null};var A=function(e){var t=e.applicationStatus,n=e.guildJoinRequests,r=e.guildId,S=e.onScroll,b=e.listRef,A=(0,u.useStateFromStores)([s.default],(function(){return s.default.getGuild(r)}),[r]),P=(0,u.useStateFromStores)([p.default],(function(){return p.default.isFetching()})),M=P?[n.length+25]:[n.length],N=(0,y.useSelectedGuildJoinRequest)({guildId:r}),R=(0,h.useSubmittedGuildJoinRequestTotal)({guildId:r}),w=(0,
l.default)("guild-join-requests"),D=function(e){var a,i=e.row,u=n[i];return null==u?C(_.MemberApplicationsListRowPlaceholder,{},i):C(_.MemberApplicationsListRow,{className:(0,o.default)((a={},a[E.default.selected]=N===u,a[E.default.siblingSelected]=N===n[i-1],a)),guild:A,guildJoinRequest:u,onClick:function(){return f.default.setSelectedGuildJoinRequest(r,u)},applicationStatus:t},u.userId+"-"+u.applicationStatus+"-"+i)};return P||0!==n.length?a.createElement(a.Fragment,null,0!==R&&t===v.GuildJoinRequestApplicationStatuses.SUBMITTED&&C(c.Text,{className:E.default.title,variant:"text-xs/semibold",color:"header-secondary"},void 0,function(e,t){var n=t.toLocaleString();switch(e){case v.GuildJoinRequestApplicationStatuses.SUBMITTED:return g.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_PENDING_COUNT_HYPEN.format({count:n});case v.GuildJoinRequestApplicationStatuses.REJECTED:return g.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_REJECTED_COUNT_HYPEN.format({count:n})
;case v.GuildJoinRequestApplicationStatuses.APPROVED:return g.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_APPROVED_COUNT_HYPEN.format({count:n});default:return""}}(t,R).toUpperCase()),C(i.ListNavigatorProvider,{navigator:w},void 0,C(i.ListNavigatorContainer,{},void 0,(function(e){var t=e.ref,n=e.role,r=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,O);return a.createElement(d.default,I({key:"guild-application-review",innerRole:n,innerAriaLabel:g.default.Messages.MEMBERS,ref:function(e){var n;b.current=e;t.current=null!==(n=null==e?void 0:e.getScrollerNode())&&void 0!==n?n:null},paddingTop:0,paddingBottom:16,sectionHeight:0,rowHeight:64,renderSection:T,renderRow:D,sections:M,onScroll:S,fade:!0},r))})))):C(m.ApplicationsEmptyState,{status:t})};t.default=A},423277:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MemberApplicationsListRow=D
;t.MemberApplicationsListRowPlaceholder=L;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=I(n(294184)),i=I(n(730381)),u=n(378158),l=I(n(759027)),s=I(n(16941)),c=n(645758),d=I(n(992193)),f=I(n(259530)),p=I(n(775803)),v=n(57744),y=I(n(628551)),h=I(n(810919)),m=n(767019),_=n(143586),g=I(n(692711)),E=I(n(868073)),O=n(237639),S=I(n(247001)),b=I(n(631447));function I(e){return e&&e.__esModule?e:{default:e}}function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}function T(){T=Object.assign||function(e){
for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return T.apply(this,arguments)}function A(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function P(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){A(o,r,a,i,u,"next",e)}function u(e){A(o,r,a,i,u,"throw",e)}i(void 0)}))}}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function R(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function w(e){var t,n=e.icon,r=e.onClick,a=e.submitting,i=e.disabled;return R(s.default,{
className:(0,o.default)(b.default.actionIconContainer,(t={},t[b.default.disabled]=i||a,t)),onClick:r},void 0,a?R(h.default,{className:b.default.icon,dotRadius:2,themed:!0}):R(n,{className:b.default.icon,height:12,width:12}))}w.displayName="ActionButton";function D(e){var t,r=e.applicationStatus,h=e.guild,I=e.guildJoinRequest,C=e.className,A=e.onClick,N=M(a.useState(null),2),D=N[0],L=N[1],k=I.user,j=I.createdAt;if(null==k)throw new Error("Missing user on this guild join request!");var U=a.useMemo((function(){return new l.default(k)}),[k]),G=g.default.getUserAvatarURL(U),F=r===O.GuildJoinRequestApplicationStatuses.SUBMITTED,x=a.useCallback(function(){var e=P(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.guildId,a=t.userId;if(null==D){e.next=3;break}return e.abrupt("return");case 3:L(n);e.prev=4;e.next=7;return E.default.updateGuildJoinRequest(r,a,n);case 7:e.next=13;break;case 9:e.prev=9
;e.t0=e.catch(4);(0,_.showToast)((0,m.createToast)(S.default.Messages.ERROR_GENERIC_TITLE,m.ToastType.FAILURE));L(null);case 13:case"end":return e.stop()}}),e,null,[[4,9]])})));return function(t,n){return e.apply(this,arguments)}}(),[D]),W=function(){var e=P(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return x(I,O.GuildJoinRequestApplicationStatuses.APPROVED);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=P(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return x(I,O.GuildJoinRequestApplicationStatuses.REJECTED);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return R(s.default,{className:(0,o.default)(b.default.container,C),onClick:A},void 0,R(y.default,{src:G,size:y.default.Sizes.SIZE_40,
"aria-label":k.username,className:b.default.spacer}),R("div",{className:b.default.userDetails},void 0,R(c.Text,{variant:"text-md/semibold",color:"header-primary"},void 0,k.username),R(c.Text,{className:b.default.createdAt,variant:"text-sm/normal",color:"header-secondary"},void 0,(0,i.default)(j).format("lll"))),F&&R(w,{icon:d.default,onClick:W,submitting:D===O.GuildJoinRequestApplicationStatuses.APPROVED,disabled:null!=D&&D!==O.GuildJoinRequestApplicationStatuses.APPROVED}),F&&R(w,{icon:f.default,onClick:B,submitting:D===O.GuildJoinRequestApplicationStatuses.REJECTED,disabled:null!=D&&D!==O.GuildJoinRequestApplicationStatuses.REJECTED}),R(s.default,{className:(0,o.default)(b.default.overflowMenuContainer,(t={},t[b.default.disabled]=null!=D,t)),onClick:function(e){(0,u.openContextMenuLazy)(e,P(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(74869).then(n.bind(n,574869));case 2:t=e.sent
;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,T({},e,{guild:h,user:U}))}));case 5:case"end":return e.stop()}}),e)}))),{position:v.Positions.BOTTOM,align:v.Align.RIGHT})}},void 0,R(p.default,{className:b.default.icon,width:18})))}D.displayName="MemberApplicationsListRow";function L(){var e=Math.floor(50*Math.random())+100+"px",t=Math.floor(25*Math.random())+50+"px";return R("div",{className:b.default.placeholder},void 0,R("div",{className:(0,o.default)(b.default.placeholderAvatar)}),R("div",{className:b.default.userDetails},void 0,R("div",{className:b.default.placeholderUsername,style:{maxWidth:e}}),R("div",{className:b.default.placeholderCreatedAt,style:{maxWidth:t}})))}L.displayName="MemberApplicationsListRowPlaceholder"},831051:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=U;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=M(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=P(n(730381)),i=P(n(795715)),u=n(536211),l=n(378158),s=n(910992),c=P(n(876874)),d=P(n(728429)),f=P(n(956117)),p=P(n(16941)),v=n(772575),y=n(645758),h=P(n(474026)),m=P(n(930600)),_=P(n(946750)),g=P(n(775803)),E=n(194322),O=n(767019),S=n(143586),b=P(n(868073)),I=n(237639),C=n(770348),T=P(n(247001)),A=P(n(328690));function P(e){return e&&e.__esModule?e:{default:e}}function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(M=function(e){return e?n:t})(e)}function N(){N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}
;return N.apply(this,arguments)}function R(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function w(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function D(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){w(o,r,a,i,u,"next",e)}function u(e){w(o,r,a,i,u,"throw",e)}i(void 0)}))}}function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{
for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var j=24;function U(e){
var t,r=e.guildJoinRequest,P=e.guild,M=e.guildJoinRequestUser,w=L(a.useState(!1),2),k=w[0],U=w[1],G=r.createdAt,F=r.actionedAt,x=r.guildId,W=r.userId,B=null===(t=r.actionedByUser)||void 0===t?void 0:t.id,V=(0,u.useStateFromStores)([d.default],(function(){return d.default.getUser(B)})),H=(0,u.useStateFromStores)([c.default],(function(){return null!=B?c.default.getMember(x,B):null}),[B,x]),Y=a.useCallback((function(){(0,S.showToast)((0,O.createToast)(T.default.Messages.ERROR_GENERIC_TITLE,O.ToastType.FAILURE))}),[]),z=function(){var e=D(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!k){e.next=2;break}return e.abrupt("return");case 2:U(!0);e.prev=3;e.next=6;return b.default.updateGuildJoinRequest(x,W,I.GuildJoinRequestApplicationStatuses.APPROVED);case 6:e.next=11;break;case 8:e.prev=8;e.t0=e.catch(3);Y();case 11:e.prev=11;U(!1);return e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[3,8,11,14]])})))
;return function(){return e.apply(this,arguments)}}(),K=T.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_PENDING,$=R(_.default,{width:j,height:j,className:A.default.icon});if(r.applicationStatus===I.GuildJoinRequestApplicationStatuses.APPROVED){K=T.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_APPROVED;$=R(h.default,{width:j,height:j,className:A.default.iconApproved,backgroundColor:C.Colors.WHITE})}else if(r.applicationStatus===I.GuildJoinRequestApplicationStatuses.REJECTED){K=T.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_REJECTED;$=R(m.default,{width:j,height:j,className:A.default.iconRejected,backgroundColor:C.Colors.WHITE})}var q=null!=V&&null!=F?T.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_ACTIONED_BY_HOOK.format({date:(0,o.default)(i.default.extractTimestamp(F)).format("ll"),usernameHook:function(){var e;return R(p.default,{className:A.default.actionedByUser,onClick:function(){return(0,s.openUserProfileModal)({userId:V.id,guildId:x,analyticsLocation:{
section:C.AnalyticsSections.GUILD_MEMBER_VERIFICATION_APPLICATION_REVIEW,object:C.AnalyticsObjects.ACTIONED_BY_USER}})},tag:"div",role:"link"},"username-hook",R(y.Text,{variant:"text-xs/normal",color:"header-primary"},void 0,null!==(e=null==H?void 0:H.nick)&&void 0!==e?e:V.username))}}):(0,o.default)(G).format("lll");return R("div",{className:A.default.container},void 0,R("div",{className:A.default.wrapper},void 0,R("div",{className:A.default.inline},void 0,$,R("div",{},void 0,R(v.Heading,{variant:"heading-deprecated-14/medium",level:3},void 0,K),R(y.Text,{className:A.default.headerSubtext,variant:"text-xs/normal",color:"header-secondary"},void 0,q))),R("div",{className:A.default.inline},void 0,r.applicationStatus===I.GuildJoinRequestApplicationStatuses.SUBMITTED&&R("div",{className:A.default.buttons},void 0,R(f.default,{color:f.default.Colors.GREEN,submitting:k,onClick:function(){return z()}
},void 0,T.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_APPROVE_APPLICATION),R(f.default,{color:f.default.Colors.RED,onClick:function(){(0,E.openModalLazy)(D(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(68689).then(n.bind(n,868689));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return R(r,{modalProps:e,guildId:x,userId:W,onError:Y})}));case 5:case"end":return e.stop()}}),e)}))))},disabled:k},void 0,T.default.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_DENY_APPLICATION)),R(p.default,{onClick:function(e){(0,l.openContextMenuLazy)(e,D(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(74869).then(n.bind(n,574869));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,N({},e,{guild:P,user:M}))}));case 5:case"end":return e.stop()}}),e)
}))))},className:A.default.overflow},void 0,R(g.default,{width:20,height:20,className:A.default.iconInteractive})))),r.applicationStatus===I.GuildJoinRequestApplicationStatuses.REJECTED&&null!=r.rejectionReason&&R("div",{className:A.default.rejectionReason},void 0,R(y.Text,{variant:"text-sm/normal"},void 0,r.rejectionReason)))}U.displayName="ActionBar"},574274:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=m;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294))
;var r,a=v(n(294184)),o=n(910992),i=v(n(151097)),u=n(772575),l=n(645758),s=v(n(628551)),c=v(n(692711)),d=n(770348),f=v(n(247001)),p=v(n(734787));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e){var t=e.user,n=e.className,r=t.discriminator,v=t.username,y=c.default.getUserAvatarURL(t);return h("div",{className:(0,a.default)(p.default.container,n)},void 0,h(s.default,{src:y,size:s.default.Sizes.SIZE_80,"aria-label":v,
className:p.default.avatar}),h("div",{className:p.default.username},void 0,h(u.Heading,{variant:"heading-xl/medium",level:3},void 0,v),h(l.Text,{variant:"text-md/normal",color:"header-secondary"},void 0,"#",r)),h(i.default,{onClick:function(){(0,o.openUserProfileModal)({userId:t.id,analyticsLocation:{section:d.AnalyticsSections.GUILD_MEMBER_VERIFICATION_APPLICATION_REVIEW,object:d.AnalyticsObjects.JOIN_REQUEST}})}},void 0,f.default.Messages.VIEW_PROFILE))}m.displayName="GuildJoinRequestUserProfile"},611408:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(772575),i=y(n(259530)),u=y(n(190178)),l=y(n(878556)),s=y(n(582945)),c=y(n(341394)),d=y(n(831051)),f=y(n(574274)),p=y(n(247001)),v=y(n(800660));function y(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var _=function(e){var t=e.guild,n=e.guildJoinRequest,r=e.guildJoinRequestUser,y=e.onClose,h=a.useMemo((function(){var e
;return null!==(e=n.formResponses)&&void 0!==e?e:[]}),[n.formResponses]);return a.createElement(a.Fragment,null,m(l.default,{toolbar:m(l.default.Icon,{icon:i.default,onClick:y,tooltip:p.default.Messages.CLOSE})},void 0,m(l.default.Icon,{icon:u.default,disabled:!0,"aria-label":p.default.Messages.MEMBER_VERIFICATION_MEMBER_APPLICATION}),m(o.Heading,{variant:"heading-md/medium",level:3},void 0,r.toString())),m(d.default,{guildJoinRequest:n,guildJoinRequestUser:r,guild:t}),m(s.default,{},void 0,m(f.default,{user:r,className:v.default.container}),m("div",{className:v.default.disabledFormRenderer},void 0,m(c.default,{guildId:t.id,formFields:h,user:r}))))};t.default=_},341394:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=y(n(728429)),u=y(n(311591)),l=n(237639),s=n(820379),c=n(86309),d=n(317258),f=n(759085),p=n(129277),v=y(n(247001));function y(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var _=function(e){
var t=e.formFields,n=e.user;return null==(0,o.useStateFromStores)([i.default],(function(){return null!=n?n:i.default.getCurrentUser()}))?null:a.createElement(a.Fragment,null,m(s.RequirementRenderer,{icon:u.default,text:v.default.Messages.MEMBER_VERIFICATION_FORM_PASSED_REQUIREMENTS,passesRequirement:!0}),t.map((function(e,t){return function(e,t){switch(e.field_type){case l.VerificationFormFieldTypes.TERMS:return m(f.DisabledTermsRequirementFormField,{formField:e},t);case l.VerificationFormFieldTypes.TEXT_INPUT:return m(p.DisabledTextInputFormField,{formField:e},t);case l.VerificationFormFieldTypes.PARAGRAPH:return m(d.DisabledParagraphFormField,{formField:e},t);case l.VerificationFormFieldTypes.MULTIPLE_CHOICE:return m(c.DisabledMultipleChoiceFormField,{formField:e},t)}}(e,t)})))};t.default=_},828339:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=c(n(536211)),o=c(n(636602)),i=c(n(423046)),u=c(n(644263)),l=n(155787),s=n(770348)
;function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return d(e,t)}function f(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v={}
;function y(e,t){var n=v[e];if(null==n)return!1;if(n.has(t))return!1;v[e]=new Set(n.add(t));return!0}var h=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;d(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(e){this.waitFor(i.default);v={};null!=e&&Object.keys(e).forEach((function(t){var n=e[t];null!=n&&"function"==typeof n[Symbol.iterator]&&(v[t]=new Set(n))}))};n.getProgress=function(e){return v[e]};n.hasProgress=function(e){var t=v[e];return null!=t&&!t.has(l.Steps.DISMISSED)};n.getState=function(){return v};return t}(a.default.PersistedStore);h.displayName="GuildProgressStore";h.persistKey="GuildProgressStore";var m=new h(o.default,((r={})[s.ActionTypes.CONNECTION_OPEN]=function(){var e=[];Object.keys(v).forEach((function(t){v[t].has(l.Steps.COMPLETED)&&e.push(t)}));e.forEach((function(e){return y(e,l.Steps.DISMISSED)}))},r[s.ActionTypes.GUILD_PROGRESS_INITIALIZE]=function(e){
var t=e.guildId;null==v[t]&&(v[t]=new Set);v[t].has(l.Steps.COMPLETED)||v[t].delete(l.Steps.DISMISSED)},r[s.ActionTypes.GUILD_PROGRESS_COMPLETED_SEEN]=function(e){var t=e.guildId;if(null==v[t])return!1;v[t]=new Set(v[t].add(l.Steps.COMPLETED))},r[s.ActionTypes.GUILD_PROGRESS_DISMISS]=function(e){return y(e.guildId,l.Steps.DISMISSED)},r[s.ActionTypes.GUILD_CREATE]=function(e){var t=e.guild;if(t.owner_id===i.default.getId()&&null!=v[t.id]){null!=t.icon&&v[t.id].add(l.Steps.AVATAR);t.member_count>1&&v[t.id].add(l.Steps.INVITE)}},r[s.ActionTypes.CHANNEL_CREATE]=function(e){var t=e.channel;return null!=t&&null!=t.guild_id&&null!=v[t.guild_id]&&y(t.guild_id,l.Steps.CHANNEL)},r[s.ActionTypes.CHANNEL_UPDATES]=function(e){for(var t,n=!1,r=f(e.updates);!(t=r()).done;){var a=t.value.channel;null!=a&&null!=a.guild_id&&null!=v[a.guild_id]&&!1!==y(a.guild_id,l.Steps.CHANNEL)&&(n=!0)}return n},r[s.ActionTypes.GUILD_SETTINGS_SUBMIT_SUCCESS]=function(e){var t=e.guild
;return null!=t&&(null!=t.id&&null!=v[t.id]&&null!=t.icon&&y(t.id,l.Steps.AVATAR))},r[s.ActionTypes.MESSAGE_CREATE]=function(e){var t=e.channelId,n=e.message,r=u.default.getChannel(t);return n.author.id===i.default.getId()&&null!=r&&null!=v[r.guild_id]&&y(r.guild_id,l.Steps.MESSAGE)},r[s.ActionTypes.GUILD_MEMBER_LIST_UPDATE]=function(e){var t=e.guildId,n=e.memberCount;return null!=v[t]&&n>1&&y(t,l.Steps.INVITE)},r));t.default=m},473250:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.fetchGuildRecommendations=function(e){return f.apply(this,arguments)};var r,a=s(n(118915)),o=s(n(636602)),i=n(864489),u=s(n(768535)),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){c(o,r,a,i,u,"next",e)}function u(e){
c(o,r,a,i,u,"throw",e)}i(void 0)}))}}!function(e){e[e.DESKTOP=1]="DESKTOP";e[e.MOBILE=2]="MOBILE";e[e.WEB=3]="WEB"}(r||(r={}));function f(){return(f=d(regeneratorRuntime.mark((function e(t){var n,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:void 0===t&&(t={});if(!u.default.isFetching()){e.next=3;break}return e.abrupt("return");case 3:o.default.dispatch({type:l.ActionTypes.GUILD_RECOMMENDATION_FETCH});n=(0,i.isDesktop)()?r.DESKTOP:r.WEB;e.prev=5;e.next=8;return a.default.get({url:l.Endpoints.GUILD_RECOMMENDATIONS(),query:{personalization_disabled:t.personalization_disabled,client_type:n}});case 8:s=e.sent;o.default.dispatch({type:l.ActionTypes.GUILD_RECOMMENDATION_FETCH_SUCCESS,recommendedGuilds:s.body.recommended_guilds,loadId:s.body.load_id});e.next=15;break;case 12:e.prev=12;e.t0=e.catch(5);o.default.dispatch({type:l.ActionTypes.GUILD_RECOMMENDATION_FETCH_FAILURE});case 15:case"end":return e.stop()}}),e,null,[[5,12]])})))).apply(this,arguments)}},
678075:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=(0,a.useStateFromStores)([u.default],(function(){return u.default.getSubscriptions()})),n=r.useMemo((function(){if(null==t)return{};for(var e={},n=0,r=Object.values(t);n<r.length;n++){var a=r[n];if(a.type===c.SubscriptionTypes.GUILD){e[(0,s.getRoleSubscriptionPlanId)(a)]=a}}return e}),[t]),d=(0,a.useStateFromStoresObject)([l.default],(function(){for(var t,r,a,o=null,i=null!=e?l.default.getSubscriptionGroupListing(e):null,u=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)
}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(null!==(t=null==i?void 0:i.subscription_listings_ids)&&void 0!==t?t:[]);!(a=u()).done;){var s=a.value,c=l.default.getSubscriptionListing(s),d=null==c?void 0:c.subscription_plans[0].id;if(null!=d){var f=n[d];if(null!=f){o=f;r=c;break}}}return{activeSubscription:o,activeSubscriptionListing:r}})),f=d.activeSubscription,v=d.activeSubscriptionListing,y=null==v?void 0:v.subscription_plans[0],h=null==y?void 0:y.id,m=null==y?void 0:y.sku_id,_=(0,a.useStateFromStores)([i.default],(function(){return null!=h?i.default.get(h):null})),g=null==v?void 0:v.soft_deleted;r.useEffect((function(){null!=_||null==m||i.default.isFetchingForSKU(m)||(0,o.fetchSubscriptionPlansForSKU)(m,void 0,void 0,g)}),[_,m,g]);return{
activeSubscription:f,activeSubscriptionListing:v,activeSubscriptionPlanFromStore:_}};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(536211),o=n(856259),i=d(n(909584)),u=d(n(146771)),l=d(n(523754)),s=n(251349),c=n(770348);function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},11114:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{
value:!0});t.useGetTrialPurchaseEligibility=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=a?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(327269),o=n(947428);function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function u(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{
for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.useGetTrialPurchaseEligibility=function(){var e=l(r.useState(!1),2),t=e[0],n=e[1],i=l(r.useState(null),2),s=i[0],c=i[1],d=r.useCallback(function(){var e,t=(e=regeneratorRuntime.mark((function e(t,r,i){var u
;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(!0);c(null);e.prev=2;e.next=5;return(0,o.getGuildRoleSubscriptionTrialEligibility)(t,r,i);case 5:u=e.sent;return e.abrupt("return",u);case 9:e.prev=9;e.t0=e.catch(2);c(new a.APIError(e.t0));case 12:e.prev=12;n(!1);return e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[2,9,12,15]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){u(o,r,a,i,l,"next",e)}function l(e){u(o,r,a,i,l,"throw",e)}i(void 0)}))});return function(e,n,r){return t.apply(this,arguments)}}(),[]);return{loading:t,error:s,getTrialPurchaseEligibility:d}}},896238:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var n=(0,a.useSubscriptionTrial)(t);return r.useMemo((function(){var e;return null!=n&&(null==n.max_num_active_trial_users||n.max_num_active_trial_users>(null!==(e=n.num_active_trial_users)&&void 0!==e?e:0))}),[n])}
;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=a?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(r,i,u):r[i]=e[i]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(547642);function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}},30209:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t,n=(0,a.useStateFromStores)([i.default],(function(){return i.default.getCurrentUser()})),r=(null==e?void 0:e.ownerId)===(null==n?void 0:n.id),s=(0,u.useGuildEligibleForRoleSubscriptions)(null==e?void 0:e.id),c=(0,o.useIsUserInCreatorMonetizationEligibleCountry)()
;return r&&null!==(t=null==e?void 0:e.hasFeature(l.GuildFeatures.COMMUNITY))&&void 0!==t&&t&&s&&c&&!((null==e?void 0:e.hasFeature(l.GuildFeatures.CREATOR_MONETIZABLE))||(null==e?void 0:e.hasFeature(l.GuildFeatures.CREATOR_MONETIZABLE_DISABLED)))};var r,a=n(536211),o=n(412473),i=(r=n(728429))&&r.__esModule?r:{default:r},u=n(403008),l=n(770348)},58846:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useSubscriptionListingsForChannel=function(e){var t=e.guildId,n=e.channelId,d=(0,l.useSubscriptionListingsForGuild)(t);return(0,a.useStateFromStoresArray)([i.default,u.default,o.default],(function(){var e=i.default.getChannel(n),a=u.default.getGuild(t),l=o.default.isViewingRoles(t);return null!=a&&null!=e?d.filter((function(t){return function(e,t,n,a){var o=(void 0===a?{}:a).isPreviewingRoles;if(!(void 0!==o&&o||e.published))return!1;var i=n.permissionOverwrites[e.role_id];if((0,s.isChannelAccessGrantedBy)(n,i))return!0
;var u=t.getRole(t.id),l=null!=u&&!r.default.has(u.permissions,c.Permissions.VIEW_CHANNEL),d=(0,s.isChannelAccessDeniedBy)(n,n.permissionOverwrites[t.id]),f=t.getRole(e.role_id);return l&&!d&&null!=f&&(0,s.isAllChannelsRole)(f)&&!(0,s.isChannelAccessDeniedBy)(n,i)}(t,a,e,{isPreviewingRoles:l})})):[]}),[t,n,d])};var r=d(n(267258)),a=n(536211),o=d(n(686305)),i=d(n(644263)),u=d(n(30098)),l=n(547642),s=n(243078),c=n(770348);function d(e){return e&&e.__esModule?e:{default:e}}},381777:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.guildId,n=e.groupListingId,d=e.location,f=e.relevantSubscriptionListingIds,v=(0,u.useFetchListingsForGuild)(t,{refetchOnMount:!1}).listingsLoaded,y=null!=(0,s.default)(n).activeSubscription,h=(0,a.useStateFromStoresArray)([l.default],(function(){return(null!=f?f:[]).filter((function(e){var t;return!0===(null===(t=l.default.getSubscriptionListing(e))||void 0===t?void 0:t.published)}))}),[f]),m=r.useRef(!1)
;r.useEffect((function(){if(v&&null!=n&&null!=h&&!m.current){m.current=!0;i.default.track(c.AnalyticEvents.ROLE_SUBSCRIPTION_LISTING_UPSELL_PAGE_VIEWED,p({role_subscription_group_listing_id:n,role_subscription_listing_ids:h,is_premium_member:y,location:d},(0,o.collectGuildAnalyticsMetadata)(t)))}}),[t,n,v,d,h,y])};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(536211),o=n(844784),i=d(n(308920)),u=n(547642),l=d(n(523754)),s=d(n(678075)),c=n(770348);function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(){p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return p.apply(this,arguments)}},365365:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=h;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=c(n(294184)),o=c(n(956117)),i=c(n(873376)),u=n(645758),l=c(n(417184)),s=c(n(580543));function c(e){return e&&e.__esModule?e:{default:e}}function d(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=f(i.default,{size:10,horizontal:!0}),v=f(i.default,{size:1}),y=f(i.default,{size:16,horizontal:!0});function h(e){var t=e.message,n=e.error,r=e.onClick,i=e.submitting,c=e.className,d=e.ctaMessage;return f("div",{className:(0,a.default)(s.default.container,c)},void 0,f("div",{className:s.default.textContainer},void 0,f(l.default,{className:s.default.warningIcon}),p,f("div",{},void 0,v,f(u.Text,{className:s.default.info,variant:"text-sm/normal"
},void 0,t),null!=n&&f(u.Text,{className:(0,a.default)(s.default.info,s.default.error),variant:"text-sm/normal"},void 0,n))),y,f(o.default,{className:s.default.undoButton,color:o.default.Colors.LINK,look:o.default.Looks.LINK,size:o.default.Sizes.ICON,onClick:r,submitting:i},void 0,d))}h.displayName="ActionableNotice"},104805:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=_;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294))
;var r,a=n(47354),o=y(n(342518)),i=y(n(185948)),u=y(n(964285)),l=y(n(142024)),s=y(n(30098)),c=y(n(728429)),d=n(770348),f=y(n(247001)),p=y(n(743861)),v=y(n(691634));function y(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e){var t=e.guildId,n=e.markAsDismissed,r=(0,o.default)([s.default,c.default],(function(){var e=c.default.getCurrentUser(),n=s.default.getGuild(t);return!0===(null==n?void 0:n.isOwner(e))}));(0,i.default)({
type:a.ImpressionTypes.POPOUT,name:a.ImpressionNames.ENABLE_CREATOR_MONETIZATION_GUILD_HEADER_UPSELL,properties:{guild_id:t,is_owner:r}});return m("div",{className:p.default.container},void 0,m(l.default,{header:f.default.Messages.GUILD_ROLE_SUBSCRIPTION_UPSELL_HEADER,content:f.default.Messages.GUILD_ROLE_SUBSCRIPTION_UPSELL_BODY,asset:m("div",{className:p.default.image},void 0,m("img",{alt:f.default.Messages.GUILD_ROLE_SUBSCRIPTION_UPSELL_IMG_ALT,src:v.default,className:p.default.image})),buttonCTA:f.default.Messages.GUILD_ROLE_SUBSCRIPTIONS_UPSELL_CTA,onClick:function(){u.default.open(t,d.GuildSettingsSections.ROLE_SUBSCRIPTIONS)},secondaryButtonCTA:f.default.Messages.DISMISS,markAsDismissed:n}))}_.displayName="GuildRoleSubscriptionUpsell"},675176:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=g;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=f(n(730381)),i=n(832635),u=f(n(954140)),l=f(n(37039)),s=n(547642),c=f(n(365365)),d=f(n(247001));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _=function(e){var t=h(a.useState(!1),2),n=t[0],r=t[1],o=h(a.useState(null),2),u=o[0],l=o[1],s=function(){var t,n=(t=regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r(!0);l(null);t.prev=2;t.next=5;return(0,i.deleteRenewalMutation)(n,e);case 5:t.next=10;break;case 7:t.prev=7;t.t0=t.catch(2);l(t.t0);case 10:t.prev=10;r(!1);return t.finish(10);case 13:case"end":return t.stop()}}),t,null,[[2,7,10,13]])})),function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function i(e){y(o,r,a,i,u,"next",e)}function u(e){y(o,r,a,i,u,"throw",e)}i(void 0)}))});return function(e){return n.apply(this,arguments)}}();return{
resetRenewalMutation:s,submitting:n,error:u}};function g(e){var t=e.groupListingId,n=e.subscription,r=e.className,i=(0,l.default)(u.default.PENDING_PLAN_CHANGE_NOTICE).analyticsLocations,f=_(i),p=f.resetRenewalMutation,y=f.submitting,h=f.error,m=(0,s.useSubscriptionListingsForGroup)(t,{includeSoftDeleted:!0}),g=a.useMemo((function(){if(null==(null==n?void 0:n.renewalMutations))return{currentListing:void 0,nextListing:void 0};var e=n.items[0].planId,t=n.renewalMutations.items[0].planId;return{currentListing:m.find((function(t){return t.subscription_plans[0].id===e})),nextListing:m.find((function(e){return e.subscription_plans[0].id===t}))}}),[n,m]),E=g.currentListing,O=g.nextListing;if(null==n||null==E||null==O)return null;var S=(0,o.default)(n.currentPeriodEnd).format("MMM DD, YYYY");return v(c.default,{message:d.default.Messages.GUILD_ROLE_CANCEL_SUBSCRIPTION_DELETE_MUTATION_DESCRIPTION.format({currentListing:E.name,nextListing:O.name,changeDate:S}),error:null==h?void 0:h.message,
onClick:function(){return p(n)},submitting:y,ctaMessage:d.default.Messages.GUILD_ROLE_CANCEL_SUBSCRIPTION_DELETE_MUTATION_CTA,className:r})}g.displayName="PendingPlanChangeNotice"},985795:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=s;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=i(n(294184)),o=i(n(313973));function i(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function s(e){var t=e.children,n=e.className;return l("div",{className:o.default.carouselMaxWidth},void 0,l("div",{className:o.default.tierPreviewsContainer},void 0,l("div",{className:(0,a.default)(o.default.tierPreviews,n)},void 0,t)))}s.displayName="SubscriptionListingPreviewsCarousel"},191868:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.BackToPreviousScreenNotice=p;d(n(667294));var r,a=s(n(956117)),o=s(n(204014)),i=d(n(177101)),u=n(770348),l=s(n(258507));function s(e){return e&&e.__esModule?e:{default:e}}function c(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}
function p(e){var t=e.buttonText,n=e.onGoBack,r=e.onDismiss,s=e.showCloseButton;return f(i.default,{className:l.default.backNotice},void 0,s&&f(i.NoticeCloseButton,{onClick:r,noticeType:u.NoticeTypes.BACK_TO_PREVIOUS_SCREEN}),f(a.default,{className:l.default.backButton,innerClassName:l.default.backButtonInner,look:a.default.Looks.OUTLINED,color:a.default.Colors.WHITE,size:a.default.Sizes.NONE,onClick:n},void 0,f(o.default,{width:16,height:16,direction:o.default.Directions.LEFT,className:l.default.backArrow}),t))}p.displayName="BackToPreviousScreenNotice"},615030:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=v;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=d(n(294184)),o=d(n(16941)),i=n(645758),u=d(n(981714)),l=d(n(604091)),s=d(n(199317)),c=d(n(768084));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(e){var t=e.benefit,n=e.guildId,r=(0,s.default)(n,t.ref_id),d=p(u.default,{guildId:n,emojiId:t.emoji_id,emojiName:t.emoji_name
}),f=null!=r?p(o.default,{className:c.default.channelLink,onClick:r.navigateToChannel,"aria-label":r.ariaLabel,role:"link"},void 0,p(i.Text,{variant:"text-md/medium",color:"header-primary",className:(0,a.default)(c.default.name,c.default.linkedName)},void 0,(0,l.default)(t))):p(i.Text,{variant:"text-md/medium",color:"header-primary",className:c.default.name},void 0,(0,l.default)(t));return p("div",{className:c.default.container},void 0,p("div",{className:c.default.emojiContainer},void 0,d),p("div",{className:c.default.infoContainer},void 0,f,p(i.Text,{color:"interactive-normal",variant:"text-sm/normal"},void 0,t.description)))}v.displayName="BenefitItem"},500985:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.GuildRoleSubscriptionBenefits=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=G(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=U(n(294184)),i=n(536211),u=U(n(876647)),l=U(n(686305)),s=U(n(697952)),c=U(n(956117)),d=n(772575),f=U(n(873376)),p=n(645758),v=U(n(730977)),y=U(n(738133)),h=U(n(228315)),m=U(n(700113)),_=U(n(692711)),g=n(204785),E=n(293773),O=n(403008),S=n(547642),b=U(n(678075)),I=U(n(896238)),C=U(n(775623)),T=U(n(150759)),A=U(n(235637)),P=U(n(811207)),M=U(n(615030)),N=n(480339),R=n(638223),w=U(n(704261)),D=n(92557),L=n(770348),k=U(n(247001)),j=U(n(793397));function U(e){return e&&e.__esModule?e:{default:e}}function G(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(G=function(e){return e?n:t})(e)}function F(){F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){
var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return F.apply(this,arguments)}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return W(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function B(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var V=B(f.default,{size:12}),H=function(e){var t=e.benefits,n=e.header,r=e.guildId;return 0===t.length?null:B("div",{className:j.default.benefitsSection},void 0,B(d.Heading,{level:3,variant:"text-xs/bold",color:"header-secondary",className:j.default.sectionHeader},void 0,n),V,B("div",{
className:j.default.benefitsList},void 0,t.map((function(e){return B(M.default,{guildId:r,benefit:e},(0,E.getBenefitKey)(e))}))))};H.displayName="BenefitsSection";var Y=B(f.default,{size:12}),z=function(e){var t=e.guildId,n=e.subscriptionRoleId,r=(0,C.default)(t),o=a.useMemo((function(){return r.filter((function(e){return e.roles.includes(n)}))}),[r,n]);function i(e){return _.default.getEmojiURL({id:e.id,animated:e.animated,size:24})}return 0===o.length?null:B("div",{className:j.default.benefitsSection},void 0,B(d.Heading,{level:3,variant:"text-xs/bold",color:"header-secondary",className:j.default.sectionHeader},void 0,k.default.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_EMOJI_SECTION_TITLE.format({count:o.length})),Y,B("div",{className:j.default.emojiList},void 0,o.map((function(e){return B("img",{src:i(e),width:24,height:24,alt:e.name})}))))};z.displayName="EmojiSection";var K=B(f.default,{size:8}),$=B(f.default,{size:24}),q=function(e){
var t=e.listing,n=e.guildId,r=e.className,i=t.role_benefits.benefits.filter((function(e){return e.ref_type===D.GuildRoleSubscriptionBenefitTypes.CHANNEL})),u=t.role_benefits.benefits.filter((function(e){return e.ref_type===D.GuildRoleSubscriptionBenefitTypes.INTANGIBLE})),l=(0,T.default)(n,t.id);return B("div",{className:(0,o.default)(j.default.subscriptionPerks,r)},void 0,null!=l&&a.createElement(a.Fragment,null,B(d.Heading,{variant:"text-xs/bold",color:"header-secondary",className:j.default.sectionHeader},void 0,k.default.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_REVIEW_MEMBER_PREVIEW),K,B(P.default,{role:l,guildId:n,className:j.default.roleMessagePreview})),(i.length>0||u.length>0)&&$,B(H,{header:k.default.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_EXCLUSIVE_CHANNELS_SECTION_TITLE,benefits:i,guildId:n}),B(H,{header:k.default.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_ADDITIONAL_BENEFITS_SECTION_TITLE,benefits:u,guildId:n}),B(z,{guildId:n,subscriptionRoleId:t.role_id}))}
;t.GuildRoleSubscriptionBenefits=q;q.displayName="GuildRoleSubscriptionBenefits";var X=function(e){var t,n=e.onToggle;t=e.isViewAll?a.createElement(a.Fragment,null,k.default.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_SHOW_LESS_DESCRIPTION,B(h.default,{className:j.default.toggleTruncationButtonIcon})):a.createElement(a.Fragment,null,k.default.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_SHOW_MORE_DESCRIPTION,B(y.default,{className:j.default.toggleTruncationButtonIcon}));return B(c.default,{look:c.default.Looks.BLANK,size:c.default.Sizes.NONE,className:j.default.toggleTruncationButton,innerClassName:j.default.toggleTruncationButtonInner,onClick:n},void 0,t)};X.displayName="ToggleTruncationButton";var Q=B(f.default,{size:16}),Z=function(e){var t,n,r=e.listingId,d=e.guildId,f=e.groupListingId,y=e.analyticsLocation,h=(0,S.useSubscriptionListing)(r),_=(0,w.default)(h,d,f,y),C=_.openModal,T=_.canOpenModal,P=_.cannotOpenReason,M=_.isCheckingTrialEligibility,U=(0,
i.useStateFromStores)([s.default],(function(){return s.default.isSyncing})),G=(0,b.default)(f),W=G.activeSubscription,V=G.activeSubscriptionListing,H=(null==V?void 0:V.id)===r,Y=(null==W?void 0:W.status)===L.SubscriptionStatusTypes.CANCELED,z=(0,i.useStateFromStores)([l.default],(function(){return l.default.isViewingRoles(d)})),K=x(a.useState(!1),2),$=K[0],Z=K[1],J=x(a.useState(!1),2),ee=J[0],te=J[1],ne=a.useCallback((function(e){var t=!1;null!=e&&(t=e.scrollHeight>e.clientHeight);te(t)}),[]),re=(0,S.useSubscriptionTrial)(r),ae=(0,I.default)(d,r),oe=null==re?void 0:re.active_trial,ie=(0,O.useGuildEligibleForRoleSubscriptionTrials)(d)&&null!=oe&&null==W&&ae,ue=(0,u.default)(D.RESPONSIVE_MOBILE_WIDTH_SIZE_QUERY),le=x(a.useState(!ue),2),se=le[0],ce=le[1];if(null==h||!h.published&&!z||h.soft_deleted)return null;var de=(0,g.getAssetURL)(h.application_id,h.image_asset,1024),fe=h.subscription_plans[0];return B("div",{className:j.default.container},void 0,ie&&B("div",{className:(0,
o.default)(j.default.tierTrialIndicator,j.default.tierTopIndicator)},void 0,k.default.Messages.GUILD_ROLE_SUBSCRIPTION_TRIAL_PERIOD.format({trialPeriodDuration:(0,E.formatPlanIntervalDuration)({interval:oe.interval,interval_count:oe.interval_count})}),B(v.default,{text:k.default.Messages.GUILD_ROLE_SUBSCRIPTION_TRIAL_DISCLAIMER.format({activeTrialUserLimit:null!==(t=null==re?void 0:re.max_num_active_trial_users)&&void 0!==t?t:0})},void 0,(function(e){return a.createElement(m.default,F({className:j.default.tierTrialIndicatorIcon},e))}))),B("div",{className:ie?void 0:j.default.cardContainerWithoutTopIndicator},void 0,B("div",{className:j.default.tierInfoContainer},void 0,ue?B(R.GuildRoleSubscriptionCollapsibleCardBasicInfo,{listing:h,listingImage:de,subscriptionPlan:fe,expanded:se,onToggleExpanded:function(){return ce((function(e){return!e}))}}):B(N.GuildRoleSubscriptionCardBasicInfo,{listing:h,listingImage:de,subscriptionPlan:fe}),se&&a.createElement(a.Fragment,null,ue&&B("div",{
className:j.default.divider}),H?B(c.default,{fullWidth:!0,look:c.default.Looks.OUTLINED,color:c.default.Colors.PRIMARY,disabled:!0},void 0,Y?k.default.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_REVIEW_CANCELED_LABEL:k.default.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_REVIEW_SUBSCRIBED_LABEL):B(v.default,{text:T?null:P,"aria-label":null!==(n=T&&P)&&void 0!==n&&n},void 0,(function(e){return a.createElement(A.default,F({},e,{fullWidth:!0,disabled:!T||U,submitting:M,onClick:C}),k.default.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_REVIEW_SUBSCRIBE_LABEL)})),Q,B(p.Text,{variant:"text-sm/normal",color:"text-normal",className:(0,o.default)((!ee||!$)&&j.default.tierDescriptionTruncate)},void 0,a.createElement("div",{ref:ne},h.description)),ee&&B(X,{isViewAll:$,onToggle:function(){return Z((function(e){return!e}))}}))),se&&B(q,{listing:h,guildId:d})))};Z.displayName="GuildRoleSubscriptionCard";var J=Z;t.default=J},480339:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.GuildRoleSubscriptionCardTierName=t.GuildRoleSubscriptionCardTierImage=t.GuildRoleSubscriptionCardDraftTierBadge=t.GuildRoleSubscriptionCardBasicInfo=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(772575),i=n(645758),u=n(598671),l=n(243277),s=n(293773),c=n(770348),d=p(n(247001)),f=p(n(371116));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var h=function(e){var t=e.listingName;return y(i.Text,{variant:"text-md/normal",color:"interactive-active",className:f.default.tierName},void 0,t)};t.GuildRoleSubscriptionCardTierName=h;h.displayName="GuildRoleSubscriptionCardTierName";var m=function(e){return y("img",{src:e.listingImage,alt:"",className:f.default.tierImage})};t.GuildRoleSubscriptionCardTierImage=m;m.displayName="GuildRoleSubscriptionCardTierImage";var _=function(){return y(u.TextBadge,{color:c.Colors.STATUS_YELLOW_500,text:d.default.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_MANAGEMENT_DRAFT_LABEL,
className:f.default.draftBadge})};t.GuildRoleSubscriptionCardDraftTierBadge=_;_.displayName="GuildRoleSubscriptionCardDraftTierBadge";var g=y(_,{});t.GuildRoleSubscriptionCardBasicInfo=function(e){var t=e.listing,n=e.listingImage,r=e.subscriptionPlan;return a.createElement(a.Fragment,null,y(h,{listingName:t.name}),y(m,{listingImage:n}),!t.published&&y("div",{className:f.default.draftBadgeContainer},void 0,g),y(o.Heading,{variant:"heading-xl/medium",className:f.default.tierPrice},void 0,(0,l.formatPrice)(r.price,c.CurrencyCodes.USD)),y(i.Text,{variant:"text-xs/normal",color:"interactive-normal",className:f.default.tierPeriod},void 0,d.default.Messages.GUILD_ROLE_SUBSCRIPTION_AMOUNT_PER_PERIOD.format({period:(0,s.formatPlanInterval)(r)})))}},638223:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GuildRoleSubscriptionCollapsibleCardBasicInfo=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{
default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=v(n(16941)),o=n(645758),i=v(n(738133)),u=v(n(228315)),l=n(243277),s=n(293773),c=n(480339),d=n(770348),f=v(n(247001)),p=v(n(88957));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var m=h(c.GuildRoleSubscriptionCardDraftTierBadge,{}),_=function(e){var t=e.listing,n=e.listingImage,r=e.subscriptionPlan,v=e.expanded,y=e.onToggleExpanded;return h("div",{className:p.default.container},void 0,h(c.GuildRoleSubscriptionCardTierImage,{listingImage:n}),h("div",{className:p.default.tierTextInfoContainer},void 0,h(c.GuildRoleSubscriptionCardTierName,{listingName:t.name}),h("div",{className:p.default.tierPriceContainer},void 0,!t.published&&m,h(o.Text,{variant:"text-xs/normal",className:p.default.tierPrice},void 0,(0,l.formatPrice)(r.price,d.CurrencyCodes.USD)," ",f.default.Messages.GUILD_ROLE_SUBSCRIPTION_AMOUNT_PER_PERIOD.format({period:(0,s.formatPlanInterval)(r)})))),h(a.default,{onClick:y},void 0,h(v?u.default:i.default,{className:p.default.toggleButton})))};t.GuildRoleSubscriptionCollapsibleCardBasicInfo=_
;_.displayName="GuildRoleSubscriptionCollapsibleCardBasicInfo"},740997:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=w;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=b(n(876647)),u=b(n(686305)),l=b(n(956117)),s=n(772575),c=b(n(873376)),d=n(645758),f=b(n(562796)),p=b(n(119503)),v=n(243277),y=n(204785),h=n(293773),m=n(547642),_=b(n(500985)),g=n(92557),E=n(770348),O=b(n(247001)),S=b(n(514047));function b(e){return e&&e.__esModule?e:{default:e}}function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap
;return(I=function(e){return e?n:t})(e)}function C(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function T(e){var t,n,r=e.value,a=e.type;if(0===r)return null;if(a===g.GuildRoleSubscriptionBenefitTypes.CHANNEL){t=f.default;n=O.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_GROUP_CHANNEL_BENEFIT_PREVIEW.format({value:r})}else{if(a!==g.GuildRoleSubscriptionBenefitTypes.INTANGIBLE)throw new Error("Unsupported benefit type");t=p.default;n=O.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_GROUP_INTANGIBLE_BENEFIT_PREVIEW.format({value:r})}return C(d.Text,{variant:"text-sm/normal",color:"interactive-normal",
className:S.default.benefitSummary},void 0,C(t,{className:S.default.benefitIcon})," ",n)}T.displayName="BenefitSummary";var A=C(c.default,{size:2}),P=C(c.default,{size:12});function M(e){var t=e.listing,n=t.subscription_plans[0],r=(0,y.getAssetURL)(t.application_id,t.image_asset,40),o=t.role_benefits.benefits.filter((function(e){return e.ref_type===g.GuildRoleSubscriptionBenefitTypes.CHANNEL})).length,i=t.role_benefits.benefits.filter((function(e){return e.ref_type===g.GuildRoleSubscriptionBenefitTypes.INTANGIBLE})).length,u=o+i>0;return C("div",{className:S.default.listingPreview},void 0,C("img",{src:r,alt:t.name,className:S.default.listingPreviewImage}),C("div",{className:S.default.listingPreviewText},void 0,C(d.Text,{variant:"text-md/normal",color:"interactive-active"},void 0,t.name),A,C(d.Text,{variant:"text-sm/normal",color:"interactive-normal"},void 0,(0,v.formatPrice)(n.price,n.currency)," / ",(0,h.formatPlanInterval)(n)),u&&a.createElement(a.Fragment,null,P,C("div",{
className:S.default.benefitSummaries},void 0,C(T,{type:g.GuildRoleSubscriptionBenefitTypes.CHANNEL,value:o}),C(T,{type:g.GuildRoleSubscriptionBenefitTypes.INTANGIBLE,value:i})))))}M.displayName="ListingPreviewItem";var N=C(c.default,{size:8}),R=C(c.default,{size:24});function w(e){var t=e.groupListing,n=e.onSelectGroup,r=(0,m.useSubscriptionListingsForGroup)(t.id),c=(0,o.useStateFromStores)([u.default],(function(){return u.default.isViewingRoles(t.guild_id)})),f=r.filter((function(e){return c||e.published})),p=(0,i.default)(g.RESPONSIVE_MOBILE_WIDTH_SIZE_QUERY);return 0===f.length?null:C("div",{className:S.default.container},void 0,C(s.Heading,{variant:"heading-lg/medium",level:3},void 0,t.name),N,C(d.Text,{variant:"text-md/normal",color:"header-secondary"},void 0,t.description),C("div",{className:S.default.divider}),C(s.Heading,{variant:"heading-sm/medium",className:S.default.sectionHeader,level:3},void 0,O.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_AVAILABLE_TIERS.format({
numTiers:f.length})),p?C("div",{className:S.default.subscriptionCardContainer},void 0,f.map((function(e){return C(_.default,{guildId:t.guild_id,groupListingId:t.id,listingId:e.id,analyticsLocation:E.AnalyticsLocations.ROLE_SUBSCRIPTIONS_TAB},e.id)}))):a.createElement(a.Fragment,null,C("div",{className:S.default.listingPreviews},void 0,f.map((function(e){return C(M,{listing:e},e.id)}))),R,C(l.default,{onClick:n,fullWidth:!0},void 0,O.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_GROUP_CARD_CTA)))}w.displayName="GuildRoleSubscriptionGroupCard"},105699:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t,n,r=e.guild,o=(0,l.useSubscriptionsSettings)(r.id),d=(0,l.useGroupListingsForGuild)(r.id),y=E(a.useState(null),2),_=y[0],g=y[1],S=d.find((function(e){return e.id===_})),C=1===d.length,T=null!=S?S:C?d[0]:null,A=(0,i.useStateFromStores)([u.default],(function(){return u.default.isViewingRoles(r.id)
})),P=E(a.useState(!1),2),M=P[0],N=P[1],R=(0,i.useStateFromStoresArray)([s.default],(function(){return d.filter((function(e){for(var t,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=O(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(e.subscription_listings_ids);!(t=n()).done;){var r=t.value,a=s.default.getSubscriptionListing(r);if(null!=a&&(A||a.published))return!0}return!1}))}),[d,A]);if(null!=T)return a.createElement(a.Fragment,null,!C&&!M&&b(I,{onGoBack:function(){return g(null)},onDismiss:function(){return N(!0)}}),b(p.default,{guild:r,groupListing:T,singleGroupView:C}));return a.createElement(a.Fragment,null,b(v.default,{
title:h.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_PAGE_GROUP_CTA.format({serverName:r.toString()}),description:null!==(t=null==o?void 0:o.description)&&void 0!==t?t:null,coverImageAsset:null!==(n=null==o?void 0:o.cover_image_asset)&&void 0!==n?n:null,guild:r}),b(c.default,{className:m.default.groupListings},void 0,R.map((function(e){return b(f.default,{groupListing:e,onSelectGroup:function(){return g(e.id)}},e.id)}))))};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=_(n(973935)),i=n(536211),u=_(n(686305)),l=n(547642),s=_(n(523754)),c=_(n(985795)),d=n(191868),f=_(n(740997)),p=_(n(973153)),v=_(n(779515)),y=n(287735),h=_(n(247001)),m=_(n(991938));function _(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||O(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){if(e){
if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function I(e){var t=e.onGoBack,n=e.onDismiss,r=a.useMemo((function(){return document.getElementById(y.OVERVIEW_NOTICE_ROOT)}),[])
;return null==r?null:o.default.createPortal(b(d.BackToPreviousScreenNotice,{buttonText:h.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_BACK_TO_GROUPS_VIEW_CTA,onGoBack:t,onDismiss:n,showCloseButton:!1}),r)}},973153:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=g(n(226800)),i=g(n(873376)),u=n(547642),l=g(n(678075)),s=g(n(381777)),c=g(n(365365)),d=g(n(675176)),f=g(n(985795)),p=g(n(500985)),v=g(n(779515)),y=n(770348),h=n(840433),m=g(n(247001)),_=g(n(633485));function g(e){
return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function O(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var S=O(i.default,{size:16}),b=function(e){var t=e.subscription;if(null==t)return null;if(t.status===y.SubscriptionStatusTypes.PAST_DUE){return a.createElement(a.Fragment,null,S,O(c.default,{message:m.default.Messages.GUILD_ROLE_SUBSCRIPTION_USER_SUBSCRIPTION_PAST_DUE_WARNING,ctaMessage:m.default.Messages.GUILD_ROLE_SUBSCRIPTION_USER_SUBSCRIPTION_PAST_DUE_CTA,onClick:function(){
o.default.open(y.UserSettingsSections.SUBSCRIPTIONS,h.ROLE_SUBSCRIPTION_SUBSECTION)}}))}return null},I=function(e){var t,n=e.guild,r=e.groupListing,o=e.singleGroupView;(0,s.default)({guildId:n.id,groupListingId:r.id,location:y.AnalyticsLocations.ROLE_SUBSCRIPTIONS_TAB,relevantSubscriptionListingIds:r.subscription_listings_ids});var i=(0,l.default)(r.id).activeSubscription,c=(0,u.useSubscriptionsSettings)(n.id),h=o?null==c?void 0:c.description:null==r?void 0:r.description;return a.createElement(a.Fragment,null,O(v.default,{title:m.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_PAGE_GROUP_CTA.format({serverName:n.toString()}),description:null!=h?h:null,coverImageAsset:null!==(t=null==c?void 0:c.cover_image_asset)&&void 0!==t?t:null,guild:n},void 0,O(d.default,{className:_.default.pendingPlanChangeNotice,groupListingId:r.id,subscription:i}),O(b,{subscription:i})),O(f.default,{},void 0,r.subscription_listings_ids.map((function(e){return O(p.default,{guildId:n.id,groupListingId:r.id,
listingId:e,analyticsLocation:y.AnalyticsLocations.ROLE_SUBSCRIPTIONS_TAB},e)}))))};t.default=I},594807:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=w(n(667294)),o=n(370405),i=n(536211),u=w(n(832635)),l=N(n(881584)),s=N(n(463024)),c=n(139982),d=N(n(544196)),f=N(n(23535)),p=N(n(517286)),v=N(n(30098)),y=N(n(211136)),h=N(n(697952)),m=N(n(80828)),_=n(194322),g=n(582945),E=n(547642),O=N(n(125125)),S=N(n(437270)),b=N(n(105699)),I=N(n(802831)),C=n(287735),T=n(770348),A=n(173652),P=N(n(247001)),M=N(n(536261));function N(e){return e&&e.__esModule?e:{default:e}}function R(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(R=function(e){return e?n:t})(e)}function w(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=R(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function D(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function L(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function k(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){L(o,r,a,i,u,"next",e)}function u(e){L(o,r,a,i,u,"throw",e)}i(void 0)}))}}
var j=D(a.Fragment,{}),U=D(s.default.Icon,{icon:S.default,"aria-hidden":!0}),G=D("div",{id:C.OVERVIEW_NOTICE_ROOT}),F=D(I.default,{}),x=D(m.default,{});function W(e){var t=e.guildId,r=(0,i.useStateFromStores)([v.default],(function(){return v.default.getGuild(t)}),[t]),m=(0,i.useStateFromStores)([f.default],(function(){return f.default.isConnected()})),S=(0,l.default)(t),I=(0,O.default)(t),C=(0,i.useStateFromStores)([h.default],(function(){return h.default.isSubscriptionFetching})),N=(0,E.useFetchListingsForGuild)(null==r?void 0:r.id,{refetchOnMount:!0}).listingsLoaded,R=null==r||!N||C;a.useEffect((function(){u.fetchSubscriptions()}),[]);a.useEffect((function(){if(m&&(null==r||!S&&!I)){(0,_.openModalLazy)(k(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(72649)]).then(n.bind(n,172649));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){
return a.createElement(r,e)}));case 5:case"end":return e.stop()}}),e)}))));if(y.default.getChannelId(t)===A.StaticChannelRoute.ROLE_SUBSCRIPTIONS){var e;(0,c.replaceWith)(T.Routes.CHANNEL(t,null===(e=p.default.getDefaultChannel(t))||void 0===e?void 0:e.id))}else(0,c.replaceWith)(d.default.defaultRoute)}}),[r,t,m,S,I]);return D("div",{className:M.default.container},void 0,D(o.Helmet,{title:P.default.Messages.GUILD_ROLE_SUBSCRIPTIONS_CHANNEL_LABEL}),D(s.default,{toolbar:j,className:M.default.headerBar},void 0,U,D(s.default.Title,{},void 0,P.default.Messages.GUILD_ROLE_SUBSCRIPTIONS_CHANNEL_LABEL)),G,D("div",{className:M.default.content},void 0,S?D(g.ScrollerNone,{className:M.default.scroller},void 0,D("div",{className:M.default.scrollerContent},void 0,R?x:D(b.default,{guild:r}))):F))}W.displayName="GuildRoleSubscriptionsOverviewPage";var B=W;t.default=B},802831:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=y;!function(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(772575),o=c(n(873376)),i=n(645758),u=c(n(247001)),l=c(n(896574)),s=c(n(691634));function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=f(o.default,{size:12}),v=f(o.default,{size:8});function y(){return f("div",{className:l.default.container},void 0,f("div",{className:l.default.content},void 0,f("img",{src:s.default,alt:u.default.Messages.CREATOR_MONETIZATION_NOTICE_ILLO_A11Y_LABEL}),p,f(a.Heading,{className:l.default.header,variant:"heading-lg/medium",level:3},void 0,u.default.Messages.CREATOR_MONETIZATION_DISABLED_NOTICE_TITLE),v,f(i.Text,{color:"header-secondary",variant:"text-sm/normal"},void 0,u.default.Messages.CREATOR_MONETIZATION_DISABLED_NOTICE_DESCRIPTION)))}y.displayName="MonetizationDisabledNotice"},287735:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.OVERVIEW_NOTICE_ROOT=void 0;t.OVERVIEW_NOTICE_ROOT="guild-role-subscription-overview-notice"},779515:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.default=y;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=d(n(380439)),o=n(772575),i=n(645758),u=n(204785),l=n(8916),s=d(n(536261)),c=d(n(355457));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=(0,l.cssValueToNumber)(s.default.pageMaxWidth);function y(e){var t=e.coverImageAsset,n=e.title,r=e.guild,l=e.description,s=e.children,d=null!=(null==t?void 0:t.application_id)?(0,u.getAssetURL)(t.application_id,t,v):void 0;return p("div",{className:c.default.container},void 0,p("div",{className:c.default.coverImageContainer},void 0,p("img",{src:d,alt:"",className:c.default.coverImage})),p("div",{className:c.default.guildIconContainer},void 0,p(a.default,{guild:r,size:a.default.Sizes.XLARGE})),p(o.Heading,{variant:"heading-xl/medium",className:c.default.ctaTitle,level:3},void 0,n),p(i.Text,{className:c.default.ctaSubtitle,variant:"text-md/normal",color:"header-secondary"},void 0,l),s)}y.displayName="OverviewHero"},167214:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.PurchaseConfirmation=t.Header=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=n(361673),i=g(n(30098)),u=g(n(956117)),l=g(n(16941)),s=n(645758),c=g(n(259530)),d=g(n(436081)),f=n(204785),p=n(293773),v=n(547642),y=g(n(984615)),h=n(92557),m=g(n(247001)),_=g(n(557647));function g(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function O(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var S=function(e){var t,n=e.onClose,r=e.listing,a=e.step,i=e.guildId,u=(0,v.useSubscriptionsSettings)(i),s=null!=(null==u||null===(t=u.cover_image_asset)||void 0===t?void 0:t.application_id)?(0,f.getAssetURL)(u.cover_image_asset.application_id,u.cover_image_asset,440):void 0,d=(0,f.getAssetURL)(r.application_id,r.image_asset,80);return O("div",{className:_.default.headerContainer},void 0,O("img",{src:s,alt:"",className:_.default.headerImage}),a!==o.Step.CONFIRM?null:O("div",{className:_.default.tierImageContainer},void 0,O("img",{src:d,alt:"",className:_.default.tierImage
})),O(l.default,{className:_.default.closeContainer,onClick:function(){return n(!1)},"aria-label":m.default.Messages.CLOSE},void 0,O(c.default,{className:_.default.closeIcon})))};t.Header=S;S.displayName="Header";var b=function(e){var t=e.onClose,n=e.listing,r=e.guildId,o=(0,a.useStateFromStores)([i.default],(function(){return i.default.getGuild(r)}),[r]),l=n.role_benefits.benefits.filter((function(e){return e.ref_type===h.GuildRoleSubscriptionBenefitTypes.CHANNEL})).slice(0,4);return O("div",{className:_.default.confirmationContainer},void 0,O(d.default,{className:_.default.confirmationHeader,size:d.default.Sizes.SIZE_24},void 0,m.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_TITLE.format({serverName:null==o?void 0:o.toString()})),O(s.Text,{className:_.default.confirmationSubtitle,variant:"text-md/normal",color:"header-secondary"},void 0,m.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_SUBTITLE.format({tier:n.name})),O(s.Text,{
variant:"text-xs/normal",color:"header-secondary",className:_.default.confirmationSectionLabel},void 0,m.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_CHANNEL_PREVIEW),O("div",{className:_.default.confirmationBenefits},void 0,l.map((function(e){return O(y.default,{benefit:e,guildId:r,onClick:function(){return t(!0)}},(0,p.getBenefitKey)(e))}))),O(u.default,{className:_.default.confirmationButton,onClick:function(){return t(!0)}},void 0,m.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_DONE_BUTTON))};t.PurchaseConfirmation=b;b.displayName="PurchaseConfirmation"},984615:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=v;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=d(n(16941)),o=n(645758),i=d(n(69405)),u=d(n(981714)),l=d(n(604091)),s=d(n(199317)),c=d(n(840743));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(e){var t=e.benefit,n=e.guildId,r=e.onClick,d=(0,
s.default)(n,t.ref_id),f=p(u.default,{guildId:n,emojiId:t.emoji_id,emojiName:t.emoji_name});return p(a.default,{className:c.default.container,onClick:function(){null==d||d.navigateToChannel();r()},"aria-label":null==d?void 0:d.ariaLabel,role:"link"},void 0,p("div",{className:c.default.emojiContainer},void 0,f),p("div",{className:c.default.infoContainer},void 0,p(o.Text,{variant:"text-md/normal",color:"header-primary",className:c.default.name},void 0,(0,l.default)(t)),p(o.Text,{color:"interactive-normal",variant:"text-sm/normal"},void 0,t.description)),p(i.default,{direction:i.default.Directions.RIGHT,className:c.default.caret}))}v.displayName="PurchaseModalBenefitItem"},704261:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=M(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=P(n(441143)),i=P(n(730381)),u=n(536211),l=P(n(636602)),s=n(856259),c=P(n(37039)),d=n(237639),f=P(n(943819)),p=n(897502),v=P(n(678875)),y=P(n(930409)),h=P(n(696632)),m=P(n(909584)),_=P(n(550270)),g=n(293773),E=n(403008),O=n(547642),S=n(251349),b=P(n(678075)),I=n(11114),C=n(167214),T=n(770348),A=P(n(247001));function P(e){return e&&e.__esModule?e:{default:e}}function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(M=function(e){return e?n:t})(e)}function N(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function R(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function w(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){R(o,r,a,i,u,"next",e)}function u(e){R(o,r,a,i,u,"throw",e)}i(void 0)}))}}var D=function(e,t,n,r){var P,M=(0,u.useStateFromStores)([y.default],(function(){return y.default.isLurking(t)})),R=(0,p.useShowMemberVerificationGate)(t),D=(0,u.useStateFromStores)([f.default],(function(){return null!=t?f.default.getRequest(t):null})),L=(null==D?void 0:D.applicationStatus)===d.GuildJoinRequestApplicationStatuses.SUBMITTED,k=null==e?void 0:e.subscription_plans[0],j=null==k?void 0:k.id,U=!0===(null==e?void 0:e.published),G=null==k?void 0:k.sku_id,F=(0,
u.useStateFromStores)([m.default],(function(){return null!=j?m.default.get(j):null})),x=(0,b.default)(n),W=x.activeSubscription,B=x.activeSubscriptionPlanFromStore,V=null==W||null!=B,H=(0,O.useSubscriptionListingsForGroup)(n,{includeSoftDeleted:!0}).map((function(e){return e.subscription_plans[0].id})),Y=(0,S.getRoleSubscriptionMutationPlanId)(W),z=null!=Y,K=null!=(null==W?void 0:W.trialId),$=(0,I.useGetTrialPurchaseEligibility)(),q=$.loading,X=$.getTrialPurchaseEligibility,Q=(0,E.useGuildEligibleForRoleSubscriptionTrials)(t),Z=(0,O.useSubscriptionTrial)(null==e?void 0:e.id),J=(0,c.default)().analyticsLocations,ee=!M&&null!=F&&V&&!L&&!z&&!K;L||M&&!R?P=A.default.Messages.GUILD_ROLE_SUBSCRIPTIONS_REQUIRE_APPROVED_MEMBER:Y===j?P=A.default.Messages.GUILD_ROLE_SUBSCRIPTION_HAS_PENDING_MUTATION_TO_CURRENT_LISTING.format({changeDate:null!=W?(0,i.default)(W.currentPeriodEnd).format("MMM DD, YYYY"):""
}):z?P=A.default.Messages.GUILD_ROLE_SUBSCRIPTION_HAS_PENDING_MUTATION:K&&(P=A.default.Messages.GUILD_ROLE_SUBSCRIPTION_CHANGE_TIER_DISABLED_IN_TRIAL);a.useEffect((function(){U&&null!=G&&l.default.wait((function(){(0,s.fetchSubscriptionPlansForSKU)(G)}))}),[U,G]);var te=a.useCallback(w(regeneratorRuntime.mark((function n(){var a,i,u,l;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:(0,o.default)(null!=e,"No subscription listing");(0,o.default)(null!=k,"No subscription plan");(0,o.default)(U,"Cannot purchase this unpublished plan");if(null==(null==Z?void 0:Z.active_trial)||!Q){n.next=8;break}n.next=6;return X(t,e.id,Z.active_trial.id);case 6:!0===(null==(u=n.sent)?void 0:u.is_eligible)?a=null==Z||null===(l=Z.active_trial)||void 0===l?void 0:l.id:i=A.default.Messages.GUILD_ROLE_SUBSCRIPTION_INELIGIBLE_TRIAL_DISCLAIMER;case 8:(0,h.default)({activeSubscription:W,analyticsSubscriptionType:T.SubscriptionTypes.GUILD,trialId:a,
trialFooterMessageOverride:null!=(null==Z?void 0:Z.active_trial)?A.default.Messages.GUILD_ROLE_SUBSCRIPTION_TRIAL_RENEWAL_FOOTER.format({trialInterval:(0,g.formatPlanIntervalDuration)(Z.active_trial),days:1,contactLink:T.MarketingURLs.CONTACT,helpdeskArticle:_.default.getArticleURL(T.HelpdeskArticles.ROLE_SUBSCRIPTION_TRIAL)}):void 0,analyticsLocations:J,analyticsLocation:r,renderHeader:function(n,r,a){return N(C.Header,{onClose:r,listing:e,step:a,guildId:t})},initialPlanId:k.id,skuId:k.sku_id,planGroup:H,renderPurchaseConfirmation:function(n,r){return N(C.PurchaseConfirmation,{listing:e,onClose:r,guildId:t})},reviewWarningMessage:i});case 9:case"end":return n.stop()}}),n)}))),[U,e,k,W,H,t,J,r,X,Q,Z]),ne=a.useCallback((function(){(0,v.default)(t)}),[t]);return{openModal:R?ne:te,canOpenModal:ee,cannotOpenReason:P,isCheckingTrialEligibility:q}};t.default=D},540330:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=C;var r,a=function(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=E(n(644263)),u=E(n(30098)),l=n(772575),s=E(n(80828)),c=n(645758),d=n(582945),f=n(547642),p=n(58846),v=E(n(381777)),y=E(n(985795)),h=E(n(500985)),m=n(770348),_=E(n(247001)),g=E(n(344048));function E(e){return e&&e.__esModule?e:{default:e}}function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function S(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0
}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function b(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function I(e,t){
(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e){var t=e.guildId,n=e.channelId,r=(0,p.useSubscriptionListingsForChannel)({guildId:t,channelId:n}),E=(0,f.useGroupListingsForGuild)(t),O=(0,f.useSubscriptionsSettings)(t),I=(0,o.useStateFromStores)([u.default],(function(){return u.default.getGuild(t)}),[t]),C=null==I?void 0:I.name,T=(0,o.useStateFromStores)([i.default],(function(){return i.default.getChannel(n)})),A=a.useMemo((function(){for(var e,t={},n=b(E);!(e=n()).done;)for(var r,a=e.value,o=b(a.subscription_listings_ids);!(r=o()).done;){t[r.value]=a.id}return t}),[E]);(0,v.default)({guildId:t,location:m.AnalyticsLocations.ROLE_SUBSCRIPTION_GATED_CHANNEL,relevantSubscriptionListingIds:r.map((function(e){return e.id}))});return null==I?S("div",{className:g.default.spinnerContainer},void 0,S(s.default,{className:g.default.spinner})):S(d.ScrollerAuto,{className:g.default.pageContainer},void 0,S(l.Heading,{variant:"heading-xl/medium",
className:g.default.joinCtaTitle,level:3},void 0,_.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_UPSELL_PAGE_CTA.format({serverName:C,channelName:null==T?void 0:T.name})),S(c.Text,{className:g.default.joinCtaSubtitle,variant:"text-md/normal",color:"header-secondary"},void 0,null==O?void 0:O.description),S(y.default,{},void 0,r.filter((function(e){return null!=A[e.id]})).map((function(e){return S(h.default,{guildId:t,listingId:e.id,groupListingId:A[e.id],analyticsLocation:m.AnalyticsLocations.ROLE_SUBSCRIPTION_GATED_CHANNEL},e.id)}))))}C.displayName="PremiumChannelUpsell"},199317:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var n=(0,r.useStateFromStores)([u.default],(function(){return u.default.getChannel(t)})),d=(0,s.default)(null==n?void 0:n.id).needSubscriptionToAccess;if(null==n||d)return null;var f=n.isVocal();return{navigateToChannel:function(){f?o.default.handleVoiceConnect({channel:n,connected:l.default.isInChannel(n.id),
needSubscriptionToAccess:!1,routeDirectlyToChannel:!0}):(0,i.transitionTo)(c.Routes.CHANNEL(e,n.id))},ariaLabel:(0,a.default)({channel:n})}};var r=n(536211),a=d(n(357400)),o=d(n(631294)),i=n(139982),u=d(n(644263)),l=d(n(387692)),s=d(n(141776)),c=n(770348);function d(e){return e&&e.__esModule?e:{default:e}}},986175:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;t.hideLiveChannelNotice=function(e){var t=e.eventId,n=e.stageId;if(null==t&&null==n)return;o.default.dirtyDispatch({type:u.ActionTypes.LIVE_CHANNEL_NOTICE_HIDE,eventId:t,stageId:n})};var r,a=l(n(536211)),o=l(n(636602)),i=n(198756),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){s=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return s(e,t)}var c={hiddenEventsAndStages:[]};var d=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;s(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}
var n=t.prototype;n.initialize=function(e){null!=e&&null!=e.hiddenEventsAndStages&&(c=e)};n.isLiveChannelNoticeHidden=function(e){var t=e.eventId,n=e.stageId;return!(null==n||!c.hiddenEventsAndStages.includes("stage-"+n))||null!=t&&c.hiddenEventsAndStages.includes("event-"+t)};n.getState=function(){return c};return t}(a.default.PersistedStore);d.displayName="LiveChannelNoticesStore";d.persistKey="liveChannelNotices_v2";var f=new d(o.default,((r={})[u.ActionTypes.LIVE_CHANNEL_NOTICE_HIDE]=function(e){var t=e.eventId,n=e.stageId;null!=t?c.hiddenEventsAndStages.push("event-"+t):null!=n&&c.hiddenEventsAndStages.push("stage-"+n)},r[u.ActionTypes.GUILD_SCHEDULED_EVENT_UPDATE]=function(e){var t=e.guildScheduledEvent,n="event-"+t.id;!c.hiddenEventsAndStages.includes(n)||t.status!==i.GuildScheduledEventStatus.CANCELED&&t.status!==i.GuildScheduledEventStatus.COMPLETED||(c.hiddenEventsAndStages=c.hiddenEventsAndStages.filter((function(e){return e!==n})))},
r[u.ActionTypes.GUILD_SCHEDULED_EVENT_DELETE]=function(e){var t="event-"+e.guildScheduledEvent.id;c.hiddenEventsAndStages.includes(t)&&(c.hiddenEventsAndStages=c.hiddenEventsAndStages.filter((function(e){return e!==t})))},r[u.ActionTypes.STAGE_INSTANCE_DELETE]=function(e){var t="stage-"+e.instance.id;c.hiddenEventsAndStages.includes(t)&&(c.hiddenEventsAndStages=c.hiddenEventsAndStages.filter((function(e){return e!==t})))},r));t.default=f},990374:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.guildEventDetailsParser=void 0;var r;var a=((r=n(268389))&&r.__esModule?r:{default:r}).default.parseGuildEventDescription;t.guildEventDetailsParser=a},435903:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){if(!e.isGuildVoice())return!1;if(u.default.getGuildScheduledEventsByIndex(u.StaticGuildEventIndexes.CHANNEL_EVENT_ACTIVE(e.id)).length<1)return!1;if(!a.default.can(l.CREATE_GUILD_EVENT_VOICE_CHANNEL_PERMISSIONS,e))return!1
;for(var t,n=new Set(o.default.getVoiceStatesForChannel(e).map((function(e){return e.user.id}))),s=r.default.getId(),c=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(n);!(t=c()).done;){var f=t.value;if(f!==s&&i.default.can({permission:l.CREATE_GUILD_EVENT_VOICE_CHANNEL_PERMISSIONS,user:f,context:e}))return!1}return!0}
;var r=c(n(423046)),a=c(n(689389)),o=c(n(487372)),i=c(n(656016)),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(330321)),l=n(432040);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},780688:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useActiveEventOrStageInstanceChannel=function(e){var t,n=(0,o.useFirstActiveEventChannel)(e),i=(0,
r.default)(e),u=a.default.getChannel(null===(t=i[0])||void 0===t?void 0:t.id);return null!=n?n:u};var r=i(n(483431)),a=i(n(644263)),o=n(902399);function i(e){return e&&e.__esModule?e:{default:e}}},668516:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useCanCreateEditDeleteEvent=function(e,t){return(0,r.useStateFromStores)([o.default,a.default],(function(){return(0,i.canCreateEditDeleteGuildEvent)(e,t,[o.default,a.default])}),[t,e])};var r=n(536211),a=u(n(30098)),o=u(n(689389)),i=n(836490);function u(e){return e&&e.__esModule?e:{default:e}}},157949:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useGuildHasLiveChannelNotice=function(e){var t,n=(0,o.default)(e),s=i.default.getChannel(null===(t=n[0])||void 0===t?void 0:t.id),c=(0,r.useStateFromStores)([a.default],(function(){return a.default.getStageInstanceByChannel(null==s?void 0:s.id)}),[s]),d=(0,l.useGuildActiveEvent)(e),f=(0,r.useStateFromStoresObject)([u.default],(function(){
return{isStageNoticeHidden:u.default.isLiveChannelNoticeHidden({stageId:null==c?void 0:c.id}),isEventNoticeHidden:u.default.isLiveChannelNoticeHidden({eventId:null==d?void 0:d.id})}}),[c,d]),p=f.isStageNoticeHidden,v=f.isEventNoticeHidden;if(null!=d)return null!=c?!p:!v;return null!=c&&!p};var r=n(536211),a=s(n(217964)),o=s(n(483431)),i=s(n(644263)),u=s(n(986175)),l=n(902399);function s(e){return e&&e.__esModule?e:{default:e}}},604686:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.guildId,n=e.channelId,r=e.onClick,O=(0,o.useAppContext)(),S=(0,m.useActiveEvent)(n),b=(0,a.useStateFromStores)([s.default],(function(){return s.default.getChannel(n)}),[n]),C=(0,h.useCanCreateEditDeleteEvent)(t,b);if(null==S)return null;var T=function(){null!=b&&(0,y.default)(b)?(0,p.openEndEventModal)(b,O):r()},A=function(){v.default.endEvent(S.id,S.guild_id)};return C?I(c.default,{renderPopout:function(e){var t=e.closePopout
;return I(u.default,{},void 0,I(i.default,{navId:"exit-options",onSelect:function(){},"aria-label":g.default.Messages.DISCONNECT_MENU,onClose:t},void 0,I(i.MenuItem,{id:"end-voice-event",color:_.MenuItemColor.DANGER,action:A,label:g.default.Messages.END_EVENT,icon:f.default})))},align:c.default.Align.CENTER,position:c.default.Positions.TOP,animation:c.default.Animation.FADE},void 0,(function(e){var t=e.onClick;return I(l.CenterControlButton,{label:g.default.Messages.DISCONNECT_SELF,color:"red",iconComponent:d.default,onClick:T,onPopoutClick:t,className:E.default.buttonSpacing})})):I(l.CenterControlButton,{className:E.default.buttonSpacing,label:g.default.Messages.DISCONNECT_SELF,color:"red",iconComponent:d.default,onClick:r})};b(n(667294));var r,a=n(536211),o=n(433383),i=b(n(145122)),u=O(n(222935)),l=n(143414),s=O(n(644263)),c=O(n(160629)),d=O(n(331546)),f=O(n(930600)),p=n(452453),v=O(n(736428)),y=O(n(435903)),h=n(668516),m=n(902399),_=n(474477),g=O(n(247001)),E=O(n(135582))
;function O(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function b(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function I(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},891036:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.guildEvent;if(null==t)return null;return a.createElement(a.Fragment,null,v(u.default.Divider,{className:d.default.divider}),v(s.GuildEventTimeStatus,{startTime:t.scheduled_start_time,isActive:(0,l.isGuildScheduledEventActive)(t),isEnded:(0,l.isGuildEventEnded)(t),liveText:c.default.Messages.LIVE_EVENT,className:d.default.eventSchedule,textSize:i.default.Sizes.SIZE_16,eventType:t.entity_type}),v(o.Text,{color:"header-secondary",variant:"text-md/normal",className:d.default.eventName},void 0,t.name))};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(645758),i=f(n(114655)),u=f(n(878556)),l=n(330321),s=n(811634),c=f(n(247001)),d=f(n(348786));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},981706:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=g;var r=function(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(536211),o=v(n(143414)),i=v(n(30098)),u=n(730977),l=v(n(59573)),s=n(194322),c=v(n(911137)),d=v(n(247001)),f=v(n(914376)),p=["guildId"];function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(){h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return h.apply(this,arguments)}function m(e,t,n,r,a,o,i){try{
var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function _(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){m(o,r,a,i,u,"next",e)}function u(e){m(o,r,a,i,u,"throw",e)}i(void 0)}))}}function g(e){var t=e.guildId,v=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,p),y=(0,a.useStateFromStores)([i.default],(function(){return i.default.getGuild(t)}),[t]);if(!(0,c.default)(y))return null;return r.createElement(o.default,h({onClick:function(){(0,s.openModalLazy)(_(regeneratorRuntime.mark((function e(){var a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(15198),n.e(57166)]).then(n.bind(n,757166));case 2:a=e.sent;o=a.default;return e.abrupt("return",(function(e){return r.createElement(o,h({},e,{guildId:t}))}));case 5:case"end":
return e.stop()}}),e)}))))},label:d.default.Messages.CREATE_AND_VIEW_EVENTS,iconComponent:l.default,className:f.default.button,tooltipPosition:u.TooltipPositions.BOTTOM},v))}g.displayName="GuildEventsBrowserButton"},513696:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GuildNoticeBody=void 0;t.LiveVoiceOrStageChannelNotice=X;t.default=t.VoiceChannelType=void 0;var r,a=U(n(667294)),o=n(536211),i=n(341186),u=n(139982),l=n(637356),s=k(n(897191)),c=n(921867),d=n(411315),f=k(n(217964)),p=k(n(724571)),v=k(n(689389)),y=k(n(487372)),h=k(n(956117)),m=k(n(16941)),_=n(645758),g=k(n(259530)),E=k(n(878338)),O=k(n(934018)),S=k(n(332282)),b=U(n(152731)),I=n(71246),C=n(452453),T=U(n(986175)),A=n(647261),P=n(780688),M=n(902399),N=n(549905),R=n(198756),w=n(770348),D=k(n(247001)),L=k(n(139875));function k(e){return e&&e.__esModule?e:{default:e}}function j(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(j=function(e){return e?n:t})(e)}
function U(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=j(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function G(e){return function(e){if(Array.isArray(e))return F(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return F(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F(e,t)}(e)||function(){
throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var W,B=16,V=x(g.default,{height:16,width:16}),H=a.memo((function(e){var t=e.heading,n=e.location,r=e.locationIcon,o=e.details,i=e.detailsIcon,u=e.topic,l=e.onClickCloseIcon,s=e.children;return x("div",{className:L.default.channelNotice},void 0,x("div",{className:L.default.textBlock},void 0,x("div",{
className:L.default.liveIndicator}),x(_.Text,{color:"text-positive",variant:"text-xs/normal",className:L.default.liveNowText},void 0,t),null!=l&&x(m.default,{onClick:l,className:L.default.closeIcon,"aria-label":D.default.Messages.CLOSE},void 0,V)),x(_.Text,{color:"header-primary",variant:"text-md/normal",className:L.default.eventName},void 0,u),x("div",{className:L.default.textBlock},void 0,r,x(_.Text,{color:"header-secondary",variant:"text-xs/normal",className:L.default.channelName},void 0,n),null!=o&&null!=i&&a.createElement(a.Fragment,null,x(_.Text,{className:L.default.dotDivider,color:"header-secondary",variant:"text-xs/normal"},void 0,"â€¢"),i,x(_.Text,{color:"header-secondary",variant:"text-xs/normal"},void 0,o))),s)}));t.GuildNoticeBody=H;function Y(e){var t=e.guildEvent,n=e.channel,r=(0,o.useStateFromStoresArray)([y.default],(function(){return y.default.getVoiceStatesForChannel(n).map((function(e){return e.user}))}),[n]),a=(0,i.getChannelIconComponent)(n);return x(H,{
onClickCloseIcon:function(){return(0,T.hideLiveChannelNotice)({eventId:null==t?void 0:t.id})},heading:D.default.Messages.STAGE_CHANNEL_LIVE_NOW,topic:t.name,location:n.name,locationIcon:null!=a?x(a,{width:B,height:B,className:L.default.stageIcon}):null},void 0,x(X,{channel:n,speakers:r,voiceType:W.VOICE}))}Y.displayName="GuildVoiceEventNotice";function z(e){var t=e.guildEvent,n=(0,N.getLocationFromEvent)(t);return null==n?null:x(H,{onClickCloseIcon:function(){return(0,T.hideLiveChannelNotice)({eventId:null==t?void 0:t.id})},heading:D.default.Messages.HAPPENING_NOW,topic:t.name,location:(0,A.guildEventDetailsParser)(n,!0),locationIcon:x(O.default,{width:B,height:B,className:L.default.stageIcon})},void 0,x(K,{guildEvent:t}))}z.displayName="GuildExternalEventNotice";function K(e){var t=e.guildEvent,n=a.useCallback((function(){(0,C.openGuildEventDetails)(t.id)}),[t]);return x(h.default,{fullWidth:!0,className:L.default.joinButton,onClick:n,color:h.default.Colors.GREEN,
size:h.default.Sizes.SMALL},void 0,D.default.Messages.SEE_DETAIL)}K.displayName="SeeDetailButton";function $(e){var t=e.channel,n=e.label;return x(h.default,{fullWidth:!0,className:L.default.joinButton,onClick:function(){if(null!=t&&null!=t.getGuildId()){(0,l.connectAndOpen)(t);(0,u.transitionToGuild)(t.getGuildId(),t.id)}},color:h.default.Colors.GREEN,size:h.default.Sizes.SMALL},void 0,n)}$.displayName="JoinChannelButton";function q(e){var t=e.stageInstance,n=e.channel,r=(0,o.useStateFromStoresObject)([s.default],(function(){var e=s.default.getMutableParticipants(n.id,c.StageChannelParticipantNamedIndex.SPEAKER),t=s.default.getParticipantCount(n.id,c.StageChannelParticipantNamedIndex.AUDIENCE);return{speakers:G(new Set(e.map((function(e){return e.user})))),listenerCount:t}}),[n.id]),a=r.speakers,i=r.listenerCount,u=D.default.Messages.LISTENING_COUNT.format({count:""+i});return x(H,{onClickCloseIcon:function(){return(0,T.hideLiveChannelNotice)({stageId:null==t?void 0:t.id})},
heading:D.default.Messages.STAGE_CHANNEL_LIVE_NOW,location:n.name,details:u,detailsIcon:x(E.default,{width:14,height:14,className:L.default.stageIcon}),locationIcon:x(S.default,{width:B,height:B,className:L.default.stageIcon}),topic:t.topic},void 0,x(X,{channel:n,speakers:a,voiceType:W.STAGE}))}q.displayName="GuildLiveStageNotice";t.VoiceChannelType=W;!function(e){e[e.VOICE=1]="VOICE";e[e.STAGE=2]="STAGE";e[e.STUDY_ROOM=3]="STUDY_ROOM"}(W||(t.VoiceChannelType=W={}));function X(e){var t=e.channel,n=e.speakers,r=e.voiceType,i=t.getGuildId(),u=a.useMemo((function(){return n.slice(0,3)}),[n]),l=(0,o.useStateFromStores)([v.default],(function(){return v.default.can(w.Permissions.CONNECT,t)})),s=(0,p.default)(t.id),c=D.default.Messages.JOIN;switch(r){case W.VOICE:c=D.default.Messages.JOIN;break;case W.STAGE:c=D.default.Messages.STAGE_CHANNEL_JOIN_BUTTON
;(null==s?void 0:s.speaker)?c=D.default.Messages.STAGE_CHANNEL_JOINED_SPEAKER_BUTTON:null!=s&&(c=D.default.Messages.STAGE_CHANNEL_JOINED_AUDIENCE_BUTTON);break;case W.STUDY_ROOM:c=D.default.Messages.HUB_STUDY_ROOM_NOTICE_VOICE_CTA;break;default:(0,I.assertNever)(r)}return null==i?null:a.createElement(a.Fragment,null,u.length>0?x("div",{className:L.default.textBlock},void 0,x(b.default,{guildId:i,users:u,showUserPopout:!0,size:b.Sizes.SIZE_16}),x(_.Text,{color:"header-secondary",variant:"text-xs/normal",className:L.default.userNames},void 0,(0,d.summarizeUsernamesParticipating)(i,u,null==t?void 0:t.id,n.length))):null,l&&null==s&&x($,{channel:t,label:c}))}var Q=a.memo((function(e){var t=e.guild,n=(0,P.useActiveEventOrStageInstanceChannel)(t.id),r=(0,M.useGuildActiveEvent)(t.id),a=(0,o.useStateFromStores)([f.default],(function(){return f.default.getStageInstanceByChannel(null==n?void 0:n.id)}),[n]),i=(0,o.useStateFromStoresObject)([T.default],(function(){return{
isStageNoticeHidden:T.default.isLiveChannelNoticeHidden({stageId:null==a?void 0:a.id}),isEventNoticeHidden:T.default.isLiveChannelNoticeHidden({eventId:null==r?void 0:r.id})}}),[a,r]),u=i.isStageNoticeHidden,l=i.isEventNoticeHidden,s=null,c=null!=a&&null!=n&&!u;null==r||l?c&&(s=x(q,{stageInstance:a,channel:n})):r.entity_type===R.GuildScheduledEventEntityTypes.STAGE_INSTANCE&&c?s=x(q,{stageInstance:a,channel:n}):r.entity_type===R.GuildScheduledEventEntityTypes.EXTERNAL?s=x(z,{guildEvent:r}):r.entity_type===R.GuildScheduledEventEntityTypes.VOICE&&null!=n&&(s=x(Y,{guildEvent:r,channel:n}));return s}));t.default=Q},176079:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=y;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=f(n(294184)),i=f(n(16941)),u=n(772575),l=n(645758),s=f(n(863771)),c=f(n(247001)),d=f(n(178494));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e){
var t=e.className,n=e.iconContainerClassName,r=e.icon,f=e.color,p=e.title,y=e.description,h=e.userCount,m=e.onClick;return v(i.default,{className:(0,o.default)(d.default.container,t),onClick:m},void 0,v("div",{style:{backgroundColor:f},className:(0,o.default)(d.default.icon,n)},void 0,r),v("div",{className:d.default.textContainer},void 0,v(u.Heading,{variant:"heading-md/medium",level:3},void 0,p),v(l.Text,{variant:"text-xs/normal",color:"header-secondary",className:d.default.inline},void 0,y),null!=h&&h>0?a.createElement(a.Fragment,null,v(l.Text,{variant:"text-xs/normal",color:"header-secondary",className:d.default.dot},void 0,"â€¢"),v(l.Text,{variant:"text-xs/normal",color:"header-secondary",className:d.default.inline},void 0,c.default.Messages.GUILD_EVENT_INTERESTED.format({count:h}))):null),v(s.default,{height:16,width:16,className:d.default.caret}))}y.displayName="GuildEventPrompt"},5031:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=_
;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=d(n(32443)),i=n(194322),u=d(n(880783)),l=d(n(176079)),s=n(770348),c=d(n(247001));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3]
;t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(){v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return v.apply(this,arguments)}function y(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function h(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){y(o,r,a,i,u,"next",e)}function u(e){y(o,r,a,i,u,"throw",e)}i(void 0)}))}}var m=p(o.default,{height:20,width:20});function _(e){var t=e.className,r=e.guildId,o=(0,u.default)();return p(l.default,{className:t,icon:m,color:s.Colors.BRAND_NEW,title:c.default.Messages.SCHEDULE_EVENT,description:c.default.Messages.SCHEDULE_EVENT_DESCRIPTION,onClick:function(){(0,
i.openModalLazy)(h(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(15865),n.e(15198),n.e(8062),n.e(1025),n.e(75659)]).then(n.bind(n,901025));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return a.createElement(o,v({},e,{guildId:r}))}));case 5:case"end":return e.stop()}}),e)}))),o)}})}_.displayName="ScheduleStageEventPrompt"},620859:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.guildId,r=e.channelId,u=(0,o.useStateFromStores)([i.default],(function(){return i.default.getChannel(r)}),[r]),h=(0,c.useImminentUpcomingGuildEvents)(r),m=null!=(0,c.useActiveEvent)(r),E=(0,s.useCanCreateEditDeleteEvent)(t,u);if(h.length<1||m||!E)return null;return a.createElement(a.Fragment,null,h.map((function(e){return _(f.default,{icon:S,color:p.Colors.STATUS_GREEN_600,
title:v.default.Messages.GUILD_EVENT_START_PROMPT.format({eventName:e.name}),description:v.default.Messages.GUILD_EVENT_START_PROMPT_DESCRIPTION.format({startTime:(0,d.getEventTimeData)(e.scheduled_start_time).startDateTimeString}),onClick:function(){return function(e){(0,l.openModalLazy)(O(regeneratorRuntime.mark((function t(){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;return Promise.all([n.e(40532),n.e(15198),n.e(46734)]).then(n.bind(n,746734));case 2:r=t.sent;o=r.default;return t.abrupt("return",(function(t){return a.createElement(o,g({},t,{event:e}))}));case 5:case"end":return t.stop()}}),t)}))))}(e)},userCount:e.user_count,className:y.default.eventPrompt},e.id)})))};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=h(n(644263)),u=h(n(32443)),l=n(194322),s=n(668516),c=n(902399),d=n(834547),f=h(n(176079)),p=n(770348),v=h(n(247001)),y=h(n(407770));function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(){
g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return g.apply(this,arguments)}function E(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function O(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){E(o,r,a,i,u,"next",e)}function u(e){E(o,r,a,i,u,"throw",e)}i(void 0)}))}}var S=_(u.default,{height:20,width:20})},473842:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=v;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(433383),o=n(559133),i=c(n(332282)),u=c(n(176079)),l=n(478036),s=c(n(247001));function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=f(i.default,{height:20,width:20});function v(e){var t=e.className,n=e.channel,r=(0,a.useAppContext)();return f(u.default,{className:t,icon:p,color:l.Colors.STATUS_GREEN_600,
title:s.default.Messages.STAGE_CHANNEL_START_TITLE,description:s.default.Messages.STAGE_CHANNEL_START_SUBTITLE,onClick:function(){(0,o.openStageChannelSettings)(n,r)}})}v.displayName="StartStageChannelEventPrompt"},802337:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TutorialType=t.EmbeddedActivityTutorial=void 0;var r,a,o=b(n(667294)),i=n(536211),u=n(433383),l=n(746920),s=O(n(151120)),c=O(n(644263)),d=O(n(151097)),f=b(n(956117)),p=n(772575),v=n(645758),y=n(598671),h=O(n(865725)),m=O(n(308920)),_=n(770348),g=O(n(247001)),E=O(n(741093));function O(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function b(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function I(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}t.TutorialType=a;!function(e){e.BOOSTING="BOOSTING";e.NITRO="NITRO"}(a||(t.TutorialType=a={}));var C=function(e){var t=e.channelId,n=e.markAsDismissed,r=e.tutorialType;o.useEffect((function(){m.default.track(_.AnalyticEvents.TOOLTIP_VIEWED,{type:r===a.BOOSTING?"embedded_activity_discovery_tutorial":"embedded_activity_nitro_discovery_tutorial"})
}),[r]);var O=(0,u.useAppContext)()===_.AppContext.POPOUT,S=(0,i.useStateFromStores)([c.default],(function(){return c.default.getChannel(t)}),[t]);return I("div",{className:E.default.wrapper},void 0,I("div",{className:E.default.container},void 0,I("div",{className:E.default.content},void 0,I(h.default,{className:E.default.video,src:"https://cdn.discordapp.com/attachments/953335097694756924/953335335566327908/wtp_upsell_v2.mp4",poster:"https://cdn.discordapp.com/attachments/887469171804356628/916446867586416660/activities-video-poster-512.png",width:224,height:126,loop:!0,muted:!0,autoPlay:!0}),I("div",{className:E.default.header},void 0,I(p.Heading,{level:1,className:E.default.headerText,variant:"text-sm/bold",color:"always-white"},void 0,r===a.BOOSTING?g.default.Messages.EMBEDDED_ACTIVITY_NOTICE_TITLE:g.default.Messages.EMBEDDED_ACTIVITY_NOTICE_NITRO_TITLE),I(y.TextBadge,{text:g.default.Messages.BETA,disableColor:!0,className:E.default.betaTag})),I(v.Text,{
className:E.default.subheaderText,variant:"text-xs/normal",color:"always-white"},void 0,r===a.BOOSTING?g.default.Messages.EMBEDDED_ACTIVITY_NOTICE_WTP_DESCRIPTION:g.default.Messages.EMBEDDED_ACTIVITY_NOTICE_NITRO_DESCRIPTION," ",I(d.default,{className:E.default.learnMoreLink,href:"https://support.discord.com/hc/articles/4422142836759"},void 0,g.default.Messages.LEARN_MORE)),I("div",{className:E.default.ctaActionWrapper},void 0,I(f.default,{onClick:function(){n();if(null!=S){(0,s.default)({channel:S.isGuildVoice()?S:void 0,guildId:S.guild_id,locationObject:{page:_.AnalyticsPages.GUILD_CHANNEL,section:_.AnalyticsSections.GUILD_CHANNEL_LIST,object:_.AnalyticsObjects.ACTIVITIES_COACH_MARK,objectType:_.AnalyticsObjectTypes.ACTIVITY},openInPopout:O});(0,l.fetchShelf)(S.guild_id)}}},void 0,g.default.Messages.EMBEDDED_ACTIVITIES_TRY_IT_OUT),I(f.default,{onClick:function(){n()},look:f.ButtonLooks.FILLED,color:f.default.Colors.BRAND,size:f.default.Sizes.MEDIUM
},void 0,g.default.Messages.DISMISS)))))};t.EmbeddedActivityTutorial=C;C.displayName="EmbeddedActivityTutorial"},884960:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=L(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=n(923387),i=D(n(37039)),u=D(n(167739)),l=D(n(638098)),s=D(n(305081)),c=D(n(754452)),d=D(n(58941)),f=D(n(104805)),p=D(n(960987)),v=D(n(964285)),y=D(n(55556)),h=D(n(142024)),m=D(n(160629)),_=D(n(308920)),g=n(682937),E=n(770348),O=n(583551),S=n(665984),b=n(265517),I=n(478036),C=D(n(247001)),T=D(n(636443)),A=D(n(135849)),P=D(n(998240)),M=D(n(705206)),N=D(n(567012)),R=D(n(862470)),w=D(n(140577));function D(e){return e&&e.__esModule?e:{default:e}}function L(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(L=function(e){return e?n:t})(e)}function k(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,
props:t,_owner:null}}function j(e){null!=e&&v.default.open(e.id,E.GuildSettingsSections.OVERVIEW,{section:E.AnalyticsSections.PREMIUM_GUILD_PROGRESS_BAR},E.GuildSettingsSubsections.DISPLAY)}function U(e,t){t&&v.default.open(e.id,E.GuildSettingsSections.DISCOVERY)}function G(e,t){null!=t&&((0,g.isTierUnlocked)(t,E.BoostedGuildTiers.TIER_1)?v.default.open(t.id,E.GuildSettingsSections.OVERVIEW,{section:E.AnalyticsSections.PREMIUM_GUILD_INVITE_SPLASH},E.GuildSettingsSubsections.INVITE):(0,d.default)({analyticsLocations:e,analyticsSourceLocation:E.AnalyticsSections.PREMIUM_GUILD_INVITE_SPLASH,guild:t,perks:(0,S.guildInviteUpsellPerks)()}))}function F(e){var t=e.renderPopout,n=e.renderGuildHeaderDropdownButton;return k(m.default,{renderPopout:function(){return k("div",{onClick:function(e){return e.stopPropagation()}},void 0,t)},position:m.default.Positions.BOTTOM,align:m.default.Align.CENTER,animation:m.default.Animation.TRANSLATE,shouldShow:!0},void 0,(function(){return n()}))}
F.displayName="GuildHeaderPopout";var x=a.memo((function(e){var t=e.contentTypes,n=e.theme,r=e.guild,a=e.handleHeaderMenuToggle,d=e.renderGuildHeaderDropdownButton,m=(0,i.default)().analyticsLocations,S=function(){_.default.track(E.AnalyticEvents.TOOLTIP_VIEWED,{type:b.PremiumUpsellTypes.PREMIUM_PROGRESS_BAR,location:{page:E.AnalyticsPages.GUILD_CHANNEL}})},D=function(){_.default.track(E.AnalyticEvents.PREMIUM_UPSELL_VIEWED,{type:b.PremiumUpsellTypes.INVITE_SPLASH_UPSELL,location:{page:E.AnalyticsPages.GUILD_CHANNEL},location_stack:m})},L=n===I.ThemeTypes.DARK?N.default:R.default;return k(s.default,{contentTypes:t,groupName:O.DismissibleContentGroupName.GUILD_HEADER_TOOLTIPS},void 0,(function(e){var t=e.visibleContent,n=e.markAsDismissed;switch(t){case o.DismissibleContent.GUILD_AUTOMOD_UPSELL:return k(F,{renderPopout:k(c.default,{guildId:r.id,onDismissed:n}),renderGuildHeaderDropdownButton:d});case o.DismissibleContent.GUILD_HEADER_EVENT_UPSELL:return k(F,{renderPopout:k(p.default,{
onClick:a,markAsDismissed:n}),renderGuildHeaderDropdownButton:d});case o.DismissibleContent.GUILD_HEADER_PREMIUM_GUILD_PROGRESS:return k(F,{renderPopout:k(h.default,{onComponentMount:S,header:C.default.Messages.PREMIUM_PROGRESS_BAR_GUILD_HEADER_TOOLTIP_TITLE,asset:k("img",{alt:"",src:L,className:A.default.fullWidthImage}),content:C.default.Messages.PREMIUM_PROGRESS_BAR_GUILD_HEADER_TOOLTIP_CONTENT.format(),buttonCTA:C.default.Messages.PREMIUM_PROGRESS_BAR_GUILD_HEADER_TOOLTIP_CTA_PRIMARY_ROLE_SETTINGS,secondaryButtonCTA:C.default.Messages.PREMIUM_PROGRESS_BAR_GUILD_HEADER_TOOLTIP_CTA_SECONDARY,onSecondaryClick:function(){return j()},onClick:function(){return j(r)},markAsDismissed:n}),renderGuildHeaderDropdownButton:d});case o.DismissibleContent.GUILD_HEADER_PROGRESS_BAR_SIZE_COACH_MARK:return k(F,{renderPopout:k(h.default,{onComponentMount:S,header:C.default.Messages.PREMIUM_PROGRESS_BAR_GUILD_HEADER_SIZE_TOOLTIP_TITLE,asset:k("img",{alt:"",src:L,className:A.default.fullWidthImage}),
content:C.default.Messages.PREMIUM_PROGRESS_BAR_GUILD_HEADER_SIZE_TOOLTIP_CONTENT.format(),buttonCTA:C.default.Messages.PREMIUM_PROGRESS_BAR_GUILD_HEADER_TOOLTIP_CTA_PRIMARY_ROLE_SETTINGS,secondaryButtonCTA:C.default.Messages.PREMIUM_PROGRESS_BAR_GUILD_HEADER_TOOLTIP_CTA_SECONDARY,onSecondaryClick:function(){return j()},onClick:function(){return j(r)},markAsDismissed:n}),renderGuildHeaderDropdownButton:d});case o.DismissibleContent.GUILD_TIV_MODERATOR_COACH_MARK:return k(F,{renderPopout:k(y.default,{onClickCta:function(){return function(e){null!=e&&v.default.open(e.id,E.GuildSettingsSections.TEXT_IN_VOICE)}(r)},markAsDismissed:n}),renderGuildHeaderDropdownButton:d});case o.DismissibleContent.GUILD_HEADER_ROLE_SUBSCRIPTION_UPSELL:return k(F,{renderPopout:k(f.default,{guildId:r.id,markAsDismissed:n}),renderGuildHeaderDropdownButton:d});case o.DismissibleContent.GUILD_HEADER_SERVER_DISCOVERY_TOOLTIP:return k(F,{renderPopout:k(l.default,{onClick:function(){return U(r,!0)},
onSecondaryClick:function(){return U(r)},markAsDismissed:n}),renderGuildHeaderDropdownButton:d});case o.DismissibleContent.GUILD_DISCOVERY_LANDING_PAGE_SETTINGS_UPSELL:return k(F,{renderPopout:k(u.default,{guild:r,markAsDismissed:n}),renderGuildHeaderDropdownButton:d});case o.DismissibleContent.GUILD_HEADER_INVITE_SPLASH:var i=(0,g.isTierUnlocked)(r,E.BoostedGuildTiers.TIER_1)?C.default.Messages.INVITE_SPLASH_GUILD_HEADER_TOOLTIP_CONTENT.format():C.default.Messages.INVITE_SPLASH_GUILD_HEADER_TOOLTIP_CONTENT_LOCKED.format({boostCount:(0,g.getNumberOfAppliedBoostsNeededForTier)(r,E.BoostedGuildTiers.TIER_1)}),s=(0,g.isTierUnlocked)(r,E.BoostedGuildTiers.TIER_1)?C.default.Messages.INVITE_SPLASH_GUILD_HEADER_TOOLTIP_CTA_PRIMARY_ROLE_SETTINGS:C.default.Messages.LEARN_MORE;return k(F,{renderPopout:k(h.default,{onComponentMount:D,header:C.default.Messages.INVITE_SPLASH_GUILD_HEADER_TOOLTIP_TITLE,asset:k("img",{alt:"",src:M.default,className:A.default.fullWidthImage}),content:i,buttonCTA:s,
secondaryButtonCTA:C.default.Messages.INVITE_SPLASH_GUILD_HEADER_TOOLTIP_CTA_SECONDARY,onSecondaryClick:function(){return G(m)},onClick:function(){return G(m,r)},markAsDismissed:n}),renderGuildHeaderDropdownButton:d});case o.DismissibleContent.GUILD_HEADER_APPLICATION_COMMAND_PERMISSIONS:return k(F,{renderPopout:k(h.default,{header:C.default.Messages.INTEGRATIONS_PERMISSIONS_TOOLTIP_HEADER,asset:k("img",{alt:"",src:P.default,className:T.default.tooltipIntegrationsPermissionsAsset}),content:C.default.Messages.INTEGRATIONS_PERMISSIONS_TOOLTIP_CONTENT,buttonCTA:C.default.Messages.INTEGRATIONS_PERMISSIONS_TOOLTIP_CTA,onClick:function(){v.default.open(r.id,E.GuildSettingsSections.INTEGRATIONS)},secondaryButtonCTA:C.default.Messages.DISMISS,markAsDismissed:n}),renderGuildHeaderDropdownButton:d});case o.DismissibleContent.GUILD_HEADER_FREE_STICKER_SLOTS_TOOLTIP:return k(F,{renderPopout:k(h.default,{header:C.default.Messages.FREE_STICKER_SLOTS_TOOLTIP_HEADER,asset:k("img",{alt:"",
src:w.default,className:T.default.wumpusStickerAsset}),content:C.default.Messages.FREE_STICKER_SLOTS_TOOLTIP_BODY.format(),buttonCTA:C.default.Messages.FREE_STICKER_SLOTS_TOOLTIP_CTA,secondaryButtonCTA:C.default.Messages.FREE_STICKER_SLOTS_TOOLTIP_DISMISS,onClick:function(){return v.default.open(r.id,E.GuildSettingsSections.STICKERS)},markAsDismissed:n}),renderGuildHeaderDropdownButton:d});default:return d()}}))}));t.default=x},14638:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t,r=e.guildId,o=e.hideSelectedChannel,l=e.selectedChannelId,s=(0,i.useStateFromStores)([te.default],(function(){return te.default.getGuild(r)})),c=(0,i.useStateFromStores)([Z.default],(function(){return Z.default.getChannels(r)})),d=(0,i.useStateFromStores)([Q.default],(function(){return Q.default.getCategories(r)})),S=(0,i.useStateFromStores)([oe.default],(function(){return oe.default.getMutedChannels(r)})),I=(0,i.useStateFromStores)([U.default],(function(){
return U.default.getOptedInChannels(r)})),T=(0,b.default)(r),w=(0,i.useStateFromStores)([$.default],(function(){return $.default.getCollapsed()})),k=(0,i.useStateFromStores)([oe.default],(function(){return oe.default.isGuildCollapsed(r)})),x=(0,i.useStateFromStores)([ee.default],(function(){return ee.default.getGuildChangeSentinel(r)})),B=(0,i.useStateFromStores)([q.default],(function(){return q.default.getGuildDimensions(r).scrollTo})),H=(0,i.useStateFromStores)([ae.default],(function(){return ae.default.getChannelId()})),de=ke((0,i.useStateFromStoresArray)([re.default],(function(){return[re.default.getGuildVersion(r),re.default.can(Ce.Permissions.MANAGE_GUILD,s),re.default.can(Ce.Permissions.MANAGE_ROLES,s),re.default.can(Ce.Permissions.MANAGE_GUILD_EXPRESSIONS,s)]})),4),pe=de[0],ve=de[1],ye=de[2],ge=de[3],Ee=(0,i.useStateFromStores)([z.default],(function(){return z.default.version})),Oe=(0,i.useStateFromStores)([X.default],(function(){return X.default.isUnavailable(r)})),Se=(0,
i.useStateFromStores)([ue.default],(function(){return ue.default.getCurrentUser()})),be=(0,i.useStateFromStores)([p.default,ie.default],(function(){return p.default.darkSidebar?Ce.ThemeTypes.DARK:ie.default.theme})),Ie=(0,M.useGuildHasLiveChannelNotice)(null!==(t=null==s?void 0:s.id)&&void 0!==t?t:""),Ne=(0,y.useBeb)(r),Re=v.ActivitiesNitroExperiment.useExperiment({},{autoTrackExposure:!0}).enableNitroActivities,we=(0,O.default)((function(e){return e.currentlyShown.has(u.DismissibleContent.NAGBAR_NOTICE_CONNECT_PLAYSTATION)})),De=ke(a.useState(!we),2),Le=De[0],je=De[1],Ue=(0,f.default)(r),xe=(0,_.default)(m.default.GUILD_HEADER).AnalyticsLocationProvider;a.useEffect((function(){r!==Ue&&je(!we)}),[r,Ue,we]);var Be=ke((0,O.default)((function(e){return[Te.CHANNEL_NOTICES.some((function(t){return e.currentlyShown.has(t.dismissibleContentType)})),e.currentlyShownGroup.has(Ae.DismissibleContentGroupName.GUILD_HEADER_TOOLTIPS)]})),2),Ve=Be[0],He=Be[1],ze=(0,
i.useStateFromStores)([se.default,ce.default,F.default,le.default],(function(){return se.default.isVisible(s)||le.default.isVisible(null!=s?s.id:null)||F.default.isVisible(s)||ce.default.isVisible(s)||Ie}))||Ve,$e=(0,j.useOptInExperiment)(),qe=(0,P.useAndTriggerEventsUpsellExperiment)(r,!0),Xe=(0,he.useModalsStore)(he.hasAnyModalOpenSelector),Qe=(0,i.useStateFromStores)([ne.default],(function(){return ne.default.hasLayers()})),Ze=(0,i.useStateFromStores)([V.default],(function(){return V.default.shouldShow(Ye)})),Je=(0,i.useStateFromStores)([te.default],(function(){return(0,Y.canViewTiVOptIn)(te.default.getGuild(r))})),et=ve&&!1===(null==s?void 0:s.premiumProgressBarEnabled)&&!me.ProcessArgs.isDisallowPopupsSet(),tt=(0,i.useStateFromStores)([J.default],(function(){return J.default.getMemberCount(r)})),nt=ve&&null!=tt&&tt>=30&&!1===(null==s?void 0:s.premiumProgressBarEnabled)&&!me.ProcessArgs.isDisallowPopupsSet(),rt=(0,A.default)(s),at=(0,
E.useLowerMemberCountRequirements)(r),ot=ve&&ye,it=(0,W.useHasFreeStickerSlotsExperiment)(r),ut=ge&&it&&(null==s?void 0:s.premiumTier)===Ce.BoostedGuildTiers.NONE,lt=R.default.useExperiment({guildId:r}).enabled,st=ve&&"en-US"===(null==s?void 0:s.preferredLocale)&&s.hasFeature(Ce.GuildFeatures.DISCOVERABLE);!0===st&&(st=st&&lt);var ct=(0,g.useBlockedPaymentsConfig)(),dt=(ve||(null==s?void 0:s.premiumTier)===Ce.BoostedGuildTiers.NONE)&&!me.ProcessArgs.isDisallowPopupsSet()&&!ct,ft=(0,i.useStateFromStores)([D.default,ne.default],(function(){return null!=s&&null!=Se&&ve&&!ne.default.hasLayers()&&D.default.shouldShowGuildTemplateDirtyTooltip(r)})),pt=(0,i.useStateFromStores)([K.default],(function(){return K.default.getChannel(l)})),vt=(0,C.useGuildHeaderPopoutStore)().isPopoutOpen,yt=(0,L.useHubStudyGroupExperiment)(s).enableStudyGroup,ht=(0,h.useEmbeddedAppsByChannel)(null==s?void 0:s.id),mt=(0,
N.useActiveEventsByChannel)(null==s?void 0:s.id),_t=_e.GuildCommunityInfoExperiment.useExperiment({guildId:r}).showCommunityInfo,gt=a.useCallback((function(){null!=s&&(0,he.openModalLazy)(We(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(67443)]).then(n.bind(n,467443));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,Fe({},e,{guild:s,categories:d,channels:c}))}));case 5:case"end":return e.stop()}}),e)}))))}),[s,d,c]),Et=$e&&I.size>0?(0,G.filterCategories)(d,c,I,pt):{filteredCategories:d,filteredChannels:c},Ot=Et.filteredCategories,St=Et.filteredChannels;return a.createElement(a.Fragment,null,Ge(Ke,{guildId:r,hideSelectedChannel:o,guild:s,channels:St,categories:Ot,mutedChannels:S,scrollToChannel:B,selectedChannelId:o?null:l,selectedChannel:pt,selectedVoiceChannelId:H,voiceStates:T,collapsedChannels:w,collapseMuted:k,
isUnavailable:Oe,theme:be,user:Se,hasChannelNotice:ze,anyLayerOpen:Xe||Qe,showGuildBoostingProgressBarUpsell:et,showGuildBoostingProgressBarSizeUpsell:nt,showInviteSplashUpsell:dt,showDiscoveryLandingPageSettingsUpsell:st,showGuildHeaderTutorial:Ze,showTivModeratorNux:Je,showGuildTemplateDirtyTooltip:ft,showEventsUpsell:qe,showRoleSubscriptionUpsell:rt,showDiscoveryTooltip:at,showIntegrationPermissionTooltip:ot,showFreeStickerSlotsTooltip:ut,showCommunityInfo:_t,guildReadStateSentinel:x,permissionVersion:pe,categoryCollapseVersion:Ee,isHeaderPopoutOpen:vt,enableStudyGroup:yt,embeddedAppsByChannel:ht,activeEventsByChannel:mt,isGuildHeaderDismissibleTooltipShown:He,activitiesBebEnabled:Ne,activitiesNitroEnabled:Re,canShowCoachMarkAtBottom:Le,HeaderAnalyticsLocationProvider:xe}),$e?Ge(fe.default,{className:Me.default.viewAllChannelsButton,look:fe.ButtonLooks.LINK,color:fe.ButtonColors.PRIMARY,onClick:gt},void 0,Pe.default.Messages.VIEW_ALL_CHANNELS_BUTTON):null)}
;var r,a=Le(n(667294)),o=n(248088),i=n(536211),u=n(923387),l=n(91817),s=we(n(636602)),c=n(378158),d=we(n(562341)),f=we(n(145371)),p=we(n(235879)),v=n(631735),y=n(698462),h=n(711964),m=we(n(954140)),_=we(n(37039)),g=n(444272),E=n(370639),O=we(n(684769)),S=we(n(305081)),b=we(n(978664)),I=n(638534),C=n(780815),T=n(279682),A=we(n(30209)),P=n(18485),M=n(157949),N=n(902399),R=we(n(735172)),w=we(n(845957)),D=we(n(491523)),L=n(954481),k=we(n(348308)),j=n(951715),U=we(n(523693)),G=n(625946),F=we(n(126515)),x=we(n(329697)),W=n(525636),B=we(n(527820)),V=we(n(282619)),H=we(n(142024)),Y=n(518180),z=we(n(881454)),K=we(n(644263)),$=we(n(917515)),q=we(n(986711)),X=we(n(250650)),Q=we(n(140868)),Z=we(n(517286)),J=we(n(311492)),ee=we(n(680804)),te=we(n(30098)),ne=we(n(122913)),re=we(n(689389)),ae=we(n(893160)),oe=we(n(563621)),ie=we(n(871778)),ue=we(n(728429)),le=we(n(329669)),se=we(n(535711)),ce=we(n(24e4)),de=n(644105),fe=Le(n(956117)),pe=Le(n(160629)),ve=Le(n(730977)),ye=n(57744),he=n(194322),me=n(42031),_e=n(908010),ge=we(n(210098)),Ee=n(802337),Oe=we(n(328831)),Se=we(n(884960)),be=we(n(608568)),Ie=we(n(421797)),Ce=n(770348),Te=n(7812),Ae=n(583551),Pe=we(n(247001)),Me=we(n(636443)),Ne=["onClick"],Re=["isUnavailable","guild","selectedChannel","enableStudyGroup","showCommunityInfo"]
;function we(e){return e&&e.__esModule?e:{default:e}}function De(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(De=function(e){return e?n:t})(e)}function Le(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=De(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function ke(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{
if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return je(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return je(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function je(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ue(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}function Ge(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function Fe(){Fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return Fe.apply(this,arguments)}function xe(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function We(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){xe(o,r,a,i,u,"next",e)}function u(e){xe(o,r,a,i,u,"throw",e)}i(void 0)}))}}function Be(e,t){Be=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Be(e,t)}var Ve=88,He=1e3,Ye="server-settings",ze={origin:{x:-8,y:-48},targetWidth:40,targetHeight:40,offset:{x:0,y:0}},Ke=function(e){!function(e,t){
e.prototype=Object.create(t.prototype);e.prototype.constructor=e;Be(e,t)}(t,e);function t(){for(var t,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];(t=e.call.apply(e,[this].concat(i))||this).historyUnlisten=function(){};t.showTimeout=new l.Timeout;t.state={controller:new o.Controller({value:1,immediate:!0}),renderBanner:!1,bannerVisible:!1,communityInfoVisible:!1,shouldShowSubscribeTooltip:!1,bannerVisibleHeight:Ve,hasGuildSubheader:!1};t.handleHistoryChange=function(e){null!=e.state&&e.state.shouldShowSubscribeTooltip&&t.showTimeout.start(He,(function(){return t.setState({shouldShowSubscribeTooltip:!0})}))};t.handleHeaderMenuToggle=function(e){var n=t.props.isHeaderPopoutOpen;e.stopPropagation();(0,C.showGuildHeaderPopout)(!n);t.closeAllHeaderNotices()};t.handleContextMenu=function(e){var r=t.props.guild;null!=r&&(0,c.openContextMenuLazy)(e,We(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){
case 0:e.next=2;return n.e(18974).then(n.bind(n,418974));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return a.createElement(o,Fe({},e,{guild:r}))}));case 5:case"end":return e.stop()}}),e)}))))};t.handleHeaderContextMenu=function(e){var r=t.props.guild;null!=r&&(0,c.openContextMenuLazy)(e,We(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(38698),n.e(53734)]).then(n.bind(n,853734));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return a.createElement(o,Fe({},e,{guild:r}))}));case 5:case"end":return e.stop()}}),e)}))))};t.closeAllHeaderNotices=function(){t.handleCloseSubscribeTooltip();t.handleCloseTemplateDirtyTooltip()};t.handleCloseSubscribeTooltip=function(){t.showTimeout.stop();t.state.shouldShowSubscribeTooltip&&t.setState({shouldShowSubscribeTooltip:!1})};t.handleCloseTemplateDirtyTooltip=function(){
var e=t.props,n=e.guild,r=e.showGuildTemplateDirtyTooltip;null!=n&&r&&w.default.hideGuildTemplateDirtyTooltip(n.id)};t.renderMenuPopout=We(regeneratorRuntime.mark((function e(){var r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(38698),n.e(11976)]).then(n.bind(n,611976));case 2:r=e.sent;a=r.default;return e.abrupt("return",(function(e){var n=e.closePopout,r=t.props.guild;return null!=r&&Ge(a,{onClose:n,guild:r})}));case 5:case"end":return e.stop()}}),e)})));t.renderGuildHeaderUpsellPopout=function(e){var n=t.props,r=n.showEventsUpsell,a=n.showTivModeratorNux,o=n.showGuildBoostingProgressBarUpsell,i=n.showGuildBoostingProgressBarSizeUpsell,l=n.showRoleSubscriptionUpsell,s=n.showDiscoveryTooltip,c=n.showInviteSplashUpsell,d=n.showIntegrationPermissionTooltip,f=n.showDiscoveryLandingPageSettingsUpsell,p=n.showFreeStickerSlotsTooltip,v=n.guild,y=n.theme;if(null==v)return t.renderGuildHeaderDropdownButton(e)
;var h=[];a&&h.push(u.DismissibleContent.GUILD_TIV_MODERATOR_COACH_MARK);o&&h.push(u.DismissibleContent.GUILD_HEADER_PREMIUM_GUILD_PROGRESS);i&&h.push(u.DismissibleContent.GUILD_HEADER_PROGRESS_BAR_SIZE_COACH_MARK);l&&h.push(u.DismissibleContent.GUILD_HEADER_ROLE_SUBSCRIPTION_UPSELL);c&&h.push(u.DismissibleContent.GUILD_HEADER_INVITE_SPLASH);r&&!(null==v?void 0:v.hasFeature(Ce.GuildFeatures.COMMUNITY))&&h.push(u.DismissibleContent.GUILD_HEADER_EVENT_UPSELL);s&&h.push(u.DismissibleContent.GUILD_HEADER_SERVER_DISCOVERY_TOOLTIP);f&&h.push(u.DismissibleContent.GUILD_DISCOVERY_LANDING_PAGE_SETTINGS_UPSELL);d&&h.push(u.DismissibleContent.GUILD_HEADER_APPLICATION_COMMAND_PERMISSIONS);p&&h.push(u.DismissibleContent.GUILD_HEADER_FREE_STICKER_SLOTS_TOOLTIP);(0,T.canCurrentUserSeeAutomodUpsell)(v.id)&&!(0,I.canCurrentUserSeeForumChannelUpsell)(v.id)&&h.push(u.DismissibleContent.GUILD_AUTOMOD_UPSELL);return 0===h.length?t.renderGuildHeaderDropdownButton(e):Ge(Se.default,{contentTypes:h,theme:y,
guild:v,handleHeaderMenuToggle:t.handleHeaderMenuToggle,renderGuildHeaderDropdownButton:function(){return t.renderGuildHeaderDropdownButton(e)}})};t.pinBannerOrGuildInfo=function(e){var n=e.scrollTop;t.setAnimatedValue(n)};return t}t.getDerivedStateFromProps=function(e){var t=e.guild,n=e.hasChannelNotice;return null==t||null==t.banner||n?{renderBanner:!1,bannerVisible:!1}:null};var r=t.prototype;r.componentDidMount=function(){var e,t=this;this.setAnimatedValue(0);s.default.subscribe(Ce.ActionTypes.LAYER_PUSH,this.closeAllHeaderNotices);this.historyUnlisten=x.default.addRouteChangeListener(this.handleHistoryChange);(null===(e=x.default.getHistory().location.state)||void 0===e?void 0:e.shouldShowSubscribeTooltip)&&this.showTimeout.start(He,(function(){return t.setState({shouldShowSubscribeTooltip:!0})}))};r.componentWillUnmount=function(){this.showTimeout.stop();this.state.controller.dispose();this.historyUnlisten()
;s.default.unsubscribe(Ce.ActionTypes.LAYER_PUSH,this.closeAllHeaderNotices)};r.getGuildBannerHash=function(){var e=this.props,t=e.guild,n=e.hasChannelNotice;return null==t||n?null:t.banner};r.renderGuildHeaderDropdownButton=function(e){return Ge(d.default,{open:e,className:Me.default.dropdown})};r.renderGuildHeaderNotices=function(e){var t=this,n=this.props,r=n.showGuildTemplateDirtyTooltip,a=n.showGuildHeaderTutorial,o=n.anyLayerOpen,i=this.state.shouldShowSubscribeTooltip;return a?Ge("div",{onClick:function(t){return e?null:t.stopPropagation()}},void 0,Ge(B.default,{tutorialId:Ye,position:de.PopoutPositions.BOTTOM,inlineSpecs:ze},void 0,this.renderGuildHeaderDropdownButton(e))):r?Ge(ve.default,{forceOpen:!0,color:ve.TooltipColors.BRAND,position:ye.Positions.BOTTOM,shouldShow:!e&&!o,text:Pe.default.Messages.GUILD_TEMPLATES_UNSYNCED_TOOLTIP,"aria-label":Pe.default.Messages.GUILD_TEMPLATES_UNSYNCED_TOOLTIP},void 0,(function(){return t.renderGuildHeaderDropdownButton(e)
})):o||e?this.renderGuildHeaderDropdownButton(e):i?Ge(pe.default,{renderPopout:function(){return Ge("div",{onClick:function(e){return e.stopPropagation()}},void 0,Ge(H.default,{header:Pe.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_HEADER_SUBSCRIBE_TOOLTIP_HEADER,content:Pe.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_HEADER_SUBSCRIBE_TOOLTIP_TEXT,buttonCTA:Pe.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_HEADER_SUBSCRIBE_TOOLTIP_CLOSE,onClick:t.handleCloseSubscribeTooltip}))},position:pe.default.Positions.BOTTOM,align:pe.default.Align.CENTER,animation:pe.default.Animation.TRANSLATE,shouldShow:!0},void 0,(function(){return t.renderGuildHeaderDropdownButton(e)})):this.renderGuildHeaderUpsellPopout(e)};r.renderGuildHeader=function(e){
var t=this,n=this.props,r=n.guild,o=n.isHeaderPopoutOpen,i=n.showGuildHeaderTutorial,u=n.showGuildTemplateDirtyTooltip,l=n.isGuildHeaderDismissibleTooltipShown,s=n.showCommunityInfo,c=n.HeaderAnalyticsLocationProvider,d=this.state,f=d.controller,p=d.renderBanner,v=d.bannerVisible,y=d.bannerVisibleHeight,h=d.communityInfoVisible,m=i||u||l;return null==r?null:Ge(c,{},void 0,Ge(pe.LazyPopout,{renderPopout:this.renderMenuPopout,position:pe.default.Positions.BOTTOM,align:pe.default.Align.CENTER,animation:pe.default.Animation.SCALE,shouldShow:o,onRequestClose:function(){return(0,C.showGuildHeaderPopout)(!1)}},void 0,(function(n){n.onClick;var i=Ue(n,Ne);return a.createElement(Oe.default,Fe({guild:r,controller:f,renderBanner:p,hasSubheader:e,bannerVisible:v,communityInfoVisible:h,showCommunityInfo:s,guildBanner:t.getGuildBannerHash(),onClick:t.handleHeaderMenuToggle,onContextMenu:t.handleHeaderContextMenu,disableBannerAnimation:m,animationOverlayHeight:y},i),t.renderGuildHeaderNotices(o))})))
};r.setAnimatedValue=function(e){var t=this.props,n=t.guild,r=t.showCommunityInfo,a=null!=this.getGuildBannerHash(),o=r&&(null==n?void 0:n.hasCommunityInfoSubheader());null!=n&&(a||o)&&(a?this.setAnimatedValueForBanner(e):this.setAnimatedValueForGuildInfo(e))};r.setAnimatedValueForBanner=function(e){var t=this.state,n=t.renderBanner,r=t.communityInfoVisible,a=t.bannerVisible,o=t.bannerVisibleHeight,i=t.controller;(e>=64&&a||e<64&&!a)&&(a=!a);(e>=Ve&&!n||e<Ve&&n)&&(n=!n);o=Math.max(Ve-e,0);r=a;n===this.state.renderBanner&&a===this.state.bannerVisible&&o===this.state.bannerVisibleHeight&&r===this.state.communityInfoVisible||this.setState({renderBanner:n,bannerVisible:a,bannerVisibleHeight:o,communityInfoVisible:r});i.update({value:Math.min(1,Math.max(0,1-e/Ve)),immediate:!0}).start()};r.setAnimatedValueForGuildInfo=function(e){var t=this.state,n=t.communityInfoVisible,r=t.controller;(e>=20&&n||e<20&&!n)&&(n=!n);n!==this.state.communityInfoVisible&&this.setState({communityInfoVisible:n})
;r.update({value:Math.min(1,Math.max(0,1-e/20)),immediate:!0}).start()};r.renderChannelList=function(){var e=this.props,t=e.isUnavailable,n=e.guild,r=e.selectedChannel,o=e.enableStudyGroup,i=e.showCommunityInfo,u=Ue(e,Re);return t||null==n?Ge(Ie.default,{withBannerPadding:null!=n&&null!=this.getGuildBannerHash()}):n.hasFeature(Ce.GuildFeatures.HUB)&&!o?Ge("div",{className:Me.default.hubContainer},void 0,Ge(k.default,{guild:n,channel:null!=r?r:Z.default.getDefaultChannel(n.id)})):a.createElement(ge.default,Fe({guild:n},u,{guildBanner:this.getGuildBannerHash(),hasGuildSubheader:this.state.hasGuildSubheader,onScroll:null!=n&&(null!=this.getGuildBannerHash()||i&&n.hasCommunityInfoSubheader())?this.pinBannerOrGuildInfo:null}))};r.render=function(){var e=this,t=this.props,n=t.guild,r=t.activitiesBebEnabled,o=t.activitiesNitroEnabled,i=t.canShowCoachMarkAtBottom,l=t.selectedChannelId,s=[]
;r&&i?s.push(u.DismissibleContent.ACTIVITIES_TUTORIAL_COACH_MARK):o&&i&&s.push(u.DismissibleContent.ACTIVITIES_NITRO_TUTORIAL_COACH_MARK_V2);return Ge("nav",{className:Me.default.container,onContextMenu:this.handleContextMenu,"aria-label":Pe.default.Messages.GUILD_SIDEBAR_A11Y_LABEL.format({guildName:null!=n?n.toString():""})},void 0,null!=n&&this.renderGuildHeader(this.state.hasGuildSubheader),null!=n&&Ge(be.default,{guild:n,setHasSubheader:function(t){return e.setState({hasGuildSubheader:t})}}),this.renderChannelList(),Ge(S.default,{contentTypes:s},void 0,(function(e){var t=e.visibleContent,n=e.markAsDismissed;switch(t){case u.DismissibleContent.ACTIVITIES_TUTORIAL_COACH_MARK:return Ge(Ee.EmbeddedActivityTutorial,{channelId:null!=l?l:void 0,markAsDismissed:n,tutorialType:Ee.TutorialType.BOOSTING});case u.DismissibleContent.ACTIVITIES_NITRO_TUTORIAL_COACH_MARK_V2:return Ge(Ee.EmbeddedActivityTutorial,{channelId:null!=l?l:void 0,markAsDismissed:n,tutorialType:Ee.TutorialType.NITRO})
;default:return a.createElement(a.Fragment,null)}})))};return t}(a.PureComponent);Ke.displayName="GuildSidebar"},608568:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=v;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=c(n(35333)),i=n(954481),u=c(n(199808)),l=n(770348),s=c(n(462179));function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e){var t=e.guild,n=e.setHasSubheader,r=(0,i.useHubStudyGroupExperiment)(t).enableStudyGroup;if(t.hasFeature(l.GuildFeatures.HUB)){if(r){n(!0);return f(u.default,{guild:t})}n(!1);return null}return f(o.default,{guild:t,setHasSubheader:n})}p.displayName="SubheaderContent";function v(e){return f("div",{className:s.default.container},void 0,a.createElement(p,e))}v.displayName="GuildSubheader"},421797:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=i(n(294184)),o=i(n(101545));function i(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var s=function(){return l("div",{className:o.default.spacer})};s.displayName="Spacer";var c=function(){return l("div",{className:o.default.category})};c.displayName="Category";var d=function(e){var t=e.width;return l("div",{className:o.default.channel},void 0,l("div",{className:o.default.channelIcon}),l("div",{className:o.default.channelName,style:{width:t+"px"}}))};d.displayName="Channel";var f=l(c,{}),p=l(d,{width:100}),v=l(d,{width:74}),y=l(d,{width:100}),h=l(d,{width:70}),m=l(d,{width:112}),_=l(d,{width:175}),g=l(s,{}),E=l(c,{}),O=l(d,{width:100}),S=l(d,{width:74}),b=l(d,{width:100}),I=l(d,{width:70}),C=l(d,{width:112}),T=l(d,{width:56}),A=function(e){var t,n=e.withBannerPadding;return l("div",{className:(0,a.default)(o.default.container,(t={},t[o.default.bannerPadding]=n,t))},void 0,f,p,v,y,h,m,_,g,E,O,S,b,I,C,T)};A.displayName="PlaceholderChannelList";var P=A;t.default=P},491523:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=l(n(536211)),o=l(n(972247)),i=l(n(636602)),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){s=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return s(e,t)}function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return c.apply(this,arguments)}var d="hasSeenGuildTemplatePromotionTooltip",f={},p=!0===o.default.get(d);function v(e){var t,n=e.guildId;f=c({},f,((t={})[n]=!1,t))}var y=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;s(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.shouldShowGuildTemplateDirtyTooltip=function(e){var t;return null!==(t=f[e])&&void 0!==t&&t};n.shouldShowGuildTemplatePromotionTooltip=function(){return!p};return t}(a.default.Store)
;y.displayName="GuildTemplateTooltipStore";var h=new y(i.default,((r={})[u.ActionTypes.GUILD_TEMPLATE_DIRTY_TOOLTIP_REFRESH]=function(e){var t,n=e.guildTemplate;f=c({},f,((t={})[n.source_guild_id]=n.is_dirty||!1,t))},r[u.ActionTypes.GUILD_TEMPLATE_PROMOTION_TOOLTIP_HIDE]=function(){o.default.set(d,!0);p=!0},r[u.ActionTypes.GUILD_TEMPLATE_SYNC_SUCCESS]=function(e){var t;f=c({},f,((t={})[e.guildTemplate.source_guild_id]=!1,t))},r[u.ActionTypes.GUILD_TEMPLATE_DIRTY_TOOLTIP_HIDE]=v,r[u.ActionTypes.GUILD_TEMPLATE_DELETE_SUCCESS]=v,r));t.default=h},920061:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=n(138864),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(997359)),o=n(919094),i=d(n(562882)),u=d(n(308920)),l=d(n(924117)),s=d(n(233689)),c=n(770348);function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(){p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return p.apply(this,arguments)}var v="template",y=p({},s.default,{openNativeAppModal:function(e){i.default.openNativeAppModal(e,c.RPCCommands.GUILD_TEMPLATE_BROWSER)},openMobileApp:function(e,t){if(!(null!=platform.ua&&platform.ua.toLowerCase().indexOf("googlebot")>-1)){var n=null!=e?(0,r.getGuildTemplateDynamicLinkTemplate)(e):(0,r.getDefaultDynamicLinkTemplate)(),i=(0,a.generateAttemptId)(),s=(0,
a.default)(n,{utmSource:v,fingerprint:t,attemptId:i});u.default.track(c.AnalyticEvents.DEEP_LINK_CLICKED,{fingerprint:(0,o.maybeExtractId)(t),attempt_id:i,source:v,guild_template_code:e});l.default.launch(s,(function(){}))}}});t.default=y},542322:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=h;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=p(n(368767)),i=p(n(844784)),u=p(n(502546)),l=p(n(790597)),s=p(n(547282)),c=n(878556),d=n(770348),f=p(n(247001));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e){var t=e.channelId,n=(0,a.useStateFromStores)([u.default],(function(){return u.default.getSection(t)})),r=(0,a.useStateFromStores)([l.default],(function(){return l.default.getGuildId()})),p=n===d.ChannelSections.MEMBERS;return y(c.Icon,{tooltip:p?f.default.Messages.MEMBER_LIST_SHOWN:f.default.Messages.MEMBER_LIST_HIDDEN,icon:s.default,onClick:function(){i.default.trackWithMetadata(d.AnalyticEvents.MEMBER_LIST_TOGGLED,{channel_id:t,
guild_id:r,member_list_open:!p});o.default.toggleMembersSection()},selected:p})}h.displayName="ChannelMembersButton"},818378:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=b;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=m(n(770549)),u=m(n(563621)),l=m(n(160629)),s=m(n(91424)),c=m(n(811198)),d=m(n(878556)),f=n(956506),p=m(n(405622)),v=n(770348),y=m(n(247001)),h=m(n(750322));function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap
;return(_=function(e){return e?n:t})(e)}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(){E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return E.apply(this,arguments)}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e
}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e){var t=e.channel,n=O((0,o.useStateFromStoresArray)([u.default],(function(){return[u.default.isChannelMuted(t.getGuildId(),t.id),u.default.resolvedMessageNotifications(t)]}),[t]),2),r=n[0],m=n[1],_=O(a.useState(!1),2),S=_[0],b=_[1];a.useEffect((function(){var e=function(){return b(!0)}
;f.ComponentDispatch.subscribe(v.ComponentActions.OPEN_THREAD_NOTIFICATION_SETTINGS,e);return function(){f.ComponentDispatch.unsubscribe(v.ComponentActions.OPEN_THREAD_NOTIFICATION_SETTINGS,e)}}),[]);var I=function(e){e.shiftKey?i.default.updateChannelOverrideSettings(t.guild_id,t.id,{muted:!r}):b((function(e){return!e}))},C=y.default.Messages.NOTIFICATION_SETTINGS;return g(l.default,{shouldShow:S,animation:l.default.Animation.NONE,position:l.default.Positions.BOTTOM,align:l.default.Align.RIGHT,autoInvert:!1,onRequestClose:function(){return b(!1)},renderPopout:function(e){return a.createElement(p.default,E({},e,{channel:t,navId:"channel-context",label:y.default.Messages.CHANNEL_ACTIONS_MENU_LABEL}))}},void 0,(function(e,t){var n=t.isShown;return a.createElement(d.default.Icon,E({},e,{onClick:I,tooltip:n?null:C,icon:r||m!==v.UserNotificationSettings.ALL_MESSAGES?c.default:s.default,foreground:r?h.default.strikethrough:null,"aria-label":C,selected:n}))}))}
b.displayName="ChannelNotificationSettingsButton"},764423:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=m(n(83887)),u=n(433383),l=m(n(137438)),s=m(n(191391)),c=m(n(728429)),d=m(n(160629)),f=m(n(126344)),p=n(878556),v=n(956506),y=n(770348),h=m(n(247001));function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function g(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(){E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return E.apply(this,arguments)}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}
return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e){var t=e.channel,n=(0,o.useStateFromStores)([l.default,c.default],(function(){var e=c.default.getCurrentUser();return null==e||t.isNSFW()&&(!e.nsfwAllowed||!l.default.didAgree(t.getGuildId()))}),[t]),r=O(a.useState(!1),2),m=r[0],_=r[1],S=(0,o.useStateFromStores)([s.default],(function(){return s.default.hasUnreadPins(t.id)}),[t]),b=(0,
u.useWindowDispatch)(),I=a.useCallback((function(){n||_((function(e){return!e}))}),[n]);a.useEffect((function(){v.ComponentDispatch.subscribe(y.ComponentActions.TOGGLE_CHANNEL_PINS,I);return function(){v.ComponentDispatch.unsubscribe(y.ComponentActions.TOGGLE_CHANNEL_PINS,I)}}),[I]);function C(e){(null==e?void 0:e.shiftKey)||b.dispatch(y.ComponentActions.POPOUT_CLOSE)}return g(d.default,{shouldShow:m,animation:d.default.Animation.NONE,position:d.default.Positions.BOTTOM,align:d.default.Align.RIGHT,autoInvert:!1,ignoreModalClicks:!0,onRequestClose:function(){return _(!1)},renderPopout:function(e){return a.createElement(i.default,E({},e,{onJump:C,channel:t}))}},void 0,(function(e,t){var r=t.isShown;return a.createElement(p.Icon,E({},e,{onClick:I,tooltip:r?null:h.default.Messages.PINNED_MESSAGES,icon:f.default,"aria-label":h.default.Messages.PINNED_MESSAGES,disabled:n,showBadge:S,selected:r}))}))}b.displayName="ChannelPinsButton";var I=b;t.default=I},92332:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=M;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=I(n(88500)),u=I(n(136873)),l=n(433383),s=I(n(825724)),c=I(n(493051)),d=I(n(30269)),f=I(n(27245)),p=I(n(635014)),v=I(n(290629)),y=I(n(387692)),h=I(n(730977)),m=I(n(119431)),_=I(n(79027)),g=I(n(878556)),E=n(956506),O=n(770348),S=n(376293),b=I(n(247001));function I(e){return e&&e.__esModule?e:{default:e}}function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}function T(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function A(e,t){A=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return A(e,t)}var P=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;A(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).handleStartCall=function(e,n){var r=t.props,a=r.channel,o=r.notFriend,u=r.appContext,l=o?a.getRecipientId():null,s=function(){return i.default.call(a.id,n,!o&&!a.isManaged()&&e&&!e.shiftKey,l)};n?(0,d.default)(s,u):s()};t.handleJoinCall=function(e){
u.default.selectVoiceChannel(t.props.channel.id,e)};t.handleVoiceClick=function(e){var n=t.props,r=n.callUnavailable,a=n.callActive;if(!r)return a?t.handleJoinCall(!1):t.handleStartCall(e,!1)};t.handleStartVideoCall=function(e){t.handleStartCall(e,!0)};t.handleJoinVideoCall=function(){var e=t.props.appContext;(0,d.default)((function(){return t.handleJoinCall(!0)}),e)};t.handleBrowserNotSupported=function(){(0,c.default)()};return t}var n=t.prototype;n.componentDidMount=function(){E.ComponentDispatch.subscribe(O.ComponentActions.CALL_START,this.handleVoiceClick)};n.componentWillUnmount=function(){E.ComponentDispatch.unsubscribe(O.ComponentActions.CALL_START,this.handleVoiceClick)};n.renderVideoCallButton=function(){var e=this.props,t=e.inCall,n=e.callActive,r=e.callUnavailable,a=e.channel,o=e.mode;if(t||n&&o===O.ChannelModes.VOICE)return null;var i,u=a.isManaged(),l=null,s=!1;if(p.default.supports(S.Features.VIDEO))if(n&&o===O.ChannelModes.VIDEO){i=this.handleJoinVideoCall
;l=u?b.default.Messages.CONNECT:b.default.Messages.JOIN_VIDEO_CALL}else{i=this.handleStartVideoCall;l=u?b.default.Messages.CONNECT:b.default.Messages.START_VIDEO_CALL}else{s=!0;i=this.handleBrowserNotSupported;l=b.default.Messages.BROWSER_NOT_SUPPORTED}return T(g.default.Icon,{icon:_.default,onClick:i,disabled:s||r,tooltip:l})};n.renderVoiceCallButton=function(){var e=this.props,t=e.inCall,n=e.callActive,r=e.callUnavailable,a=e.channel;if(t)return null;var o,i=a.isManaged(),u="",l=!1;if(r){u=i?b.default.Messages.VOICE_UNAVAILABLE:b.default.Messages.CALL_UNAVAILABLE;o=h.default.Colors.RED;l=!0}else u=n?i?b.default.Messages.CONNECT:b.default.Messages.JOIN_VOICE_CALL:i?b.default.Messages.CONNECT:b.default.Messages.START_VOICE_CALL;return T(g.default.Icon,{icon:m.default,onClick:this.handleVoiceClick,disabled:l,tooltip:u,tooltipColor:o})};n.render=function(){return T(a.Fragment,{},void 0,this.renderVoiceCallButton(),this.renderVideoCallButton())};return t}(a.PureComponent)
;P.displayName="PrivateChannelCallButton";function M(e){var t=e.channel,n=(0,o.useStateFromStores)([s.default],(function(){return s.default.getMode(t.id)})),r=(0,o.useStateFromStores)([y.default],(function(){return y.default.isInChannel(t.id)})),a=(0,o.useStateFromStoresObject)([f.default],(function(){return{callActive:f.default.isCallActive(t.id),callUnavailable:f.default.isCallUnavailable(t.id)}})),i=a.callActive,u=a.callUnavailable,c=t.getRecipientId(),d=t.type===O.ChannelTypes.DM&&null!=c&&!v.default.isFriend(c),p=(0,l.useAppContext)();return T(P,{channel:t,mode:n,inCall:r,callActive:i,callUnavailable:u,notFriend:d,appContext:p})}M.displayName="ConnectedPrivateChannelCallButton"},789620:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(278352)),i=n(439142),u=n(770348);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}var s={init:function(){a.default.subscribe(u.ActionTypes.VOICE_CHANNEL_SELECT,(function(e){null==e.channelId&&o.hideHotspot(i.HotspotLocations.VOICE_PANEL_INTRODUCTION)}))}};t.default=s},954481:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useHubStudyGroupExperiment=t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=a?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(373505),o=n(770348);function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}var u=(0,a.createExperiment)({kind:"guild",id:"2021-10_study_group",label:"Student hub study group",defaultConfig:{enableStudyGroup:!1},treatments:[{id:1,label:"Enables study group sidebar",config:{enableStudyGroup:!0}}]});t.useHubStudyGroupExperiment=function(e){var t;r.useEffect((function(){null!=e&&e.hasFeature(o.GuildFeatures.HUB)&&u.trackExposure({guildId:e.id})}),[e]);return u.useExperiment({guildId:null!==(t=null==e?void 0:e.id)&&void 0!==t?t:""},{disable:null==e||!e.hasFeature(o.GuildFeatures.HUB)})};var l=u;t.default=l},241813:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(536211),o=d(n(689626)),i=d(n(81026)),u=d(n(876874)),l=d(n(728429)),s=n(770348),c=n(460703);function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}var p=function(e){var t=(0,a.useStateFromStores)([i.default],(function(){return(null==e?void 0:e.hasFeature(s.GuildFeatures.HUB))?i.default.hasViewedPrompt(c.GuildPrompts.REAL_NAME_PROMPT,e.id):null})),n=(0,
a.useStateFromStores)([l.default],(function(){return l.default.getCurrentUser()})),d=(0,a.useStateFromStores)([u.default],(function(){return null!=(null==e?void 0:e.id)&&null!=n?u.default.getMember(null==e?void 0:e.id,n.id):null})),f=null!=(null==d?void 0:d.nick);r.useEffect((function(){f&&null!=e&&!1===t&&o.default.viewPrompt(c.GuildPrompts.REAL_NAME_PROMPT,e.id)}),[f,e,t]);return!1===t&&!f};t.default=p},404922:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=c(n(956117)),i=n(645758),u=n(194322),l=c(n(247001)),s=c(n(773022));function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){f(o,r,a,i,u,"next",e)}function u(e){f(o,r,a,i,u,"throw",e)}i(void 0)}))}}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}
var y=function(e){var t=e.hasHub;return v("div",{className:s.default.container},void 0,v("div",{className:s.default.iconContainer},void 0,v("div",{className:s.default.icon})),v(i.Text,{color:"header-primary",variant:"text-lg/semibold",className:s.default.header},void 0,t?l.default.Messages.HUB_EMAIL_CONNECTION_ADD_HEADER:l.default.Messages.HUB_EMAIL_CONNECTION_JOIN_HEADER),v(i.Text,{color:"header-secondary",variant:"text-sm/normal",className:s.default.description},void 0,t?l.default.Messages.HUB_EMAIL_CONNECTION_ADD_DESCRIPTION:l.default.Messages.HUB_EMAIL_CONNECTION_JOIN_DESCRIPTION),v("div",{className:s.default.gap}),v(o.default,{size:o.default.Sizes.LARGE,color:t?o.default.Colors.PRIMARY:o.default.Colors.GREEN,onClick:function(){return(0,u.openModalLazy)(p(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,376022));case 2:t=e.sent;r=t.default
;return e.abrupt("return",(function(e){return a.createElement(r,e)}));case 5:case"end":return e.stop()}}),e)}))))}},void 0,v(i.Text,{variant:"text-sm/normal",className:s.default.addButton,color:"none"},void 0,t?l.default.Messages.HUB_EMAIL_CONNECTION_JOIN_ANOTHER:l.default.Messages.HUB_EMAIL_CONNECTION_JOIN_MY_SCHOOOL)))};y.displayName="HubDiscoveryAddHubCard";var h=y;t.default=h},562200:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294))
;var r,a=n(536211),o=f(n(415275)),i=f(n(871778)),u=f(n(2022)),l=n(772575),s=f(n(404922)),c=f(n(247001)),d=f(n(258199));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}var h=v(s.default,{hasHub:!0}),m=v(s.default,{hasHub:!1
}),_=function(e){var t=e.guilds,n=(0,a.useStateFromStores)([i.default],(function(){return i.default.theme})),r=t.map((function(e){return v(u.default,{className:d.default.guildCard,onView:function(){return o.default.transitionToGuildSync(e.id)},guild:y({},e,{presenceCount:void 0,memberCount:void 0,premiumSubscriptionCount:void 0,emojis:void 0}),theme:n},e.id)}));return v("section",{className:d.default.guildListSection},void 0,t.length>0?v("div",{},void 0,v(l.Heading,{className:d.default.title,variant:"heading-lg/medium",level:3},void 0,c.default.Messages.YOUR_HUB),v("div",{className:d.default.guildList},void 0,r,h)):v("div",{className:d.default.guildList},void 0,m))};_.displayName="HubDiscoveryGuildList";var g=_;t.default=g},666895:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=n(6505),i=p(n(652566)),u=n(645758),l=p(n(252004)),s=p(n(97751)),c=n(227445),d=p(n(247001)),f=p(n(596964));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,
props:t,_owner:null}}var h=y(l.default,{}),m=function(e){var t=e.handleCategorySelect,n=e.shouldDisplaySelectedCategory,r=e.currentCategoryId,l=(0,a.useStateFromStores)([i.default],(function(){return i.default.hasHotspot(o.HotspotLocations.HUB_NEW)}));return y(s.default,{avatar:h,name:d.default.Messages.HUB_SCHOOL_HUBS,focusProps:{offset:{right:4,top:1,bottom:1}},onClick:function(){t(c.DISCORD_HUB_ID);(0,o.hideHotspot)(o.HotspotLocations.HUB_NEW)},wrapContent:!0,selected:n&&c.DISCORD_HUB_ID===r,className:f.default.categoryItem,selectedClassName:f.default.selectedCategoryItem,innerClassName:f.default.itemInner},c.DISCORD_HUB_ID,l&&y("div",{className:f.default.new},void 0,y(u.Text,{color:"none",variant:"text-xs/semibold",className:f.default.newText},void 0,d.default.Messages.NEW)))};m.displayName="HubDiscoveryListItem";var _=m;t.default=_},39365:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(772575),i=n(645758),u=y(n(582945)),l=n(465537),s=y(n(283642)),c=y(n(562200)),d=n(227445),f=y(n(247001)),p=y(n(250926)),v=y(n(237018));function y(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3]
;t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var _=function(e){var t=e.loadId,n=(0,s.default)();a.useEffect((function(){(0,l.trackDiscoveryViewed)({loadId:t,gamesYouPlayGuilds:[],allGuilds:[],categoryId:d.DISCORD_HUB_ID})}),[t]);return m(u.default,{className:p.default.scroller},void 0,m("div",{className:p.default.viewWrapper},void 0,m("div",{className:p.default.headerContainer},void 0,m("img",{alt:"",className:p.default.headerImage,src:v.default}),m("div",{className:p.default.headerContent},void 0,m(o.Heading,{className:p.default.headerText,variant:"heading-xl/medium",level:3},void 0,f.default.Messages.HUB_DIRECTORY_SEARCH_TITLE),m(i.Text,{className:p.default.headerDescription,variant:"text-md/normal",color:"none"},void 0,f.default.Messages.HUB_DIRECTORY_SEARCH_SUBTITLE))),m(c.default,{guilds:n}),m("div",{className:p.default.divider}),m(i.Text,{
className:p.default.footerDescription,variant:"text-sm/normal",color:"header-secondary"},void 0,f.default.Messages.HUB_DISCOVERY_FOOTER_DESCRIPTION)))};_.displayName="HubDiscoveryPage";var g=_;t.default=g},529295:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.HubEmailConnectionRoute=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=h(n(23170)),u=n(139982),l=h(n(30098)),s=h(n(795741)),c=h(n(194815)),d=n(549186),f=n(376022),p=n(770348),v=n(99043),y=h(n(400110));function h(e){return e&&e.__esModule?e:{default:e}}
function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return
;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var O=function(e){var t=e.guildId,n=e.inviteCode,r=g(a.useState(v.WaveStates.INITIAL),2),h=r[0],m=r[1],E=g(a.useState(null!=n),2),O=E[0],S=E[1];a.useEffect((function(){null!=n&&i.default.resolveInvite(n,"Hub").finally((function(){return S(!1)}))}),[n]);var b=(0,o.useStateFromStores)([s.default],(function(){return null!=n?s.default.getInvite(n):null})),I=(0,o.useStateFromStores)([l.default],(function(){return l.default.getGuild(t)}))
;a.useEffect((function(){null!=I&&(0,u.transitionTo)(p.Routes.CHANNEL(t))}),[I,t]);var C=a.useCallback((function(e){m((function(t){return Math.max(t,e)}))}),[]),T=(0,d.getArtForPath)();return _("div",{className:y.default.page},void 0,_(c.default,{embedded:!0,splash:T,waveState:h,showLogo:!1,updateWaveState:C},void 0,_("div",{className:y.default.dragRegion}),_("div",{className:y.default.contentWrapper},void 0,!O&&_(f.HubEmailConnectionModalView,{invite:b}))))};t.HubEmailConnectionRoute=O;O.displayName="HubEmailConnectionRoute";var S=O;t.default=S},185836:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=y;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=c(n(918667)),i=n(194322),u=n(770348),l=c(n(247001)),s=c(n(140561));function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function v(e){return function(){var t=this,n=arguments
;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){p(o,r,a,i,u,"next",e)}function u(e){p(o,r,a,i,u,"throw",e)}i(void 0)}))}}function y(e){var t=e.guild,r=e.markAsDismissed;return f(o.default,{guild:t,onDismissed:r,onClick:function(){(0,i.openModalLazy)(v(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,376022));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,e)}));case 5:case"end":return e.stop()}}),e)}))))},message:l.default.Messages.HUB_LINK_CHANNEL_NOTICE_BODY,cta:l.default.Messages.LEARN_MORE,trackingSource:u.ChannelNoticeCtaSources.HUB_LINK_NOTICE,type:u.ChannelNoticeTypes.HUB_LINK,image:s.default})}y.displayName="HubLinkChannelNotice"},283642:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){return(0,a.useStateFromStores)([o.default],(function(){
var e=o.default.getGuilds();return Object.entries(e).filter((function(e){var t=u(e,2);t[0];return t[1].hasFeature(i.GuildFeatures.HUB)})).map((function(e){var t=u(e,2);t[0];return t[1]}))}))};var r,a=n(536211),o=(r=n(30098))&&r.__esModule?r:{default:r},i=n(770348);function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},199808:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;y(n(667294));var r,a=n(248088),o=n(536211),i=n(6505),u=y(n(517286)),l=p(n(689389)),s=p(n(365397)),c=p(n(782256)),d=n(864227),f=n(770348);function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var m=function(e){var t=e.guild,n=(0,o.useStateFromStores)([u.default],(function(){return u.default.getChannels(t.id)[u.GUILD_VOCAL_CHANNELS_KEY][0]})),r=(0,o.useStateFromStores)([l.default],(function(){return null!=n&&l.default.can(f.Permissions.CONNECT,n.channel)}));return t.hasFeature(f.GuildFeatures.HUB)?null==n?null:r?h(_,{channel:n.channel}):null:null};m.displayName="HubStudyRoomNoticeGuard";var _=function(e){
var t=e.channel,n=(0,o.useStateFromStores)([i.HotspotStore],(function(){return i.HotspotStore.hasHotspot(i.HotspotLocations.HUB_STUDY_ROOM_NOTICE)})),r=(0,d.useConnectedInCurrentHub)(t.guild_id),u=(0,a.useSpring)({maxHeight:r?0:300,overflow:"hidden",delay:400});return h(a.animated.div,{style:u},void 0,n?h(s.default,{channel:t}):h(c.default,{name:"ðŸ“šâ˜• "+t.name,channel:t}))};_.displayName="HubStudyRoomNotice";var g=m;t.default=g},365397:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294))
;var r,a=p(n(294184)),o=n(6505),i=n(139982),u=n(637356),l=p(n(956117)),s=p(n(16941)),c=p(n(259530)),d=p(n(247001)),f=p(n(76889));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var h=function(e){var t=e.channel;return y("div",{className:(0,a.default)(f.default.channelNotice,f.default.hubStudyGroup)},void 0,y(s.default,{onClick:function(){(0,o.hideHotspot)(o.HotspotLocations.HUB_STUDY_ROOM_NOTICE)},className:f.default.close,
"aria-label":d.default.Messages.DISMISS},void 0,y(c.default,{className:f.default.closeIcon})),y("div",{className:f.default.message},void 0,y("div",{className:f.default.title},void 0,d.default.Messages.HUB_STUDY_ROOM_NOTICE_TITLE),y("div",{className:f.default.description},void 0,d.default.Messages.HUB_STUDY_ROOM_NOTICE_DESCRIPTION),y(l.default,{className:f.default.btn,onClick:function(){(0,o.hideHotspot)(o.HotspotLocations.HUB_STUDY_ROOM_NOTICE);if(null!=t&&null!=t.getGuildId()){(0,u.connectAndOpen)(t);(0,i.transitionToGuild)(t.getGuildId(),t.id)}},color:l.default.Colors.GREEN},void 0,d.default.Messages.HUB_STUDY_ROOM_NOTICE_VOICE_CTA)))};h.displayName="HubStudyRoomNoticeOnboard";var m=h;t.default=m},782256:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=n(341186),i=n(513696),u=c(n(487372)),l=c(n(247001)),s=c(n(692657));function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e){
var t=e.name,n=e.channel,r=(0,a.useStateFromStoresArray)([u.default],(function(){return u.default.getVoiceStatesForChannel(n).map((function(e){return e.user}))}),[n]),c=(0,o.getChannelIconComponent)(n);return f(i.GuildNoticeBody,{heading:l.default.Messages.STAGE_CHANNEL_LIVE_NOW,topic:t,location:l.default.Messages.HUB_STUDY_ROOM_VOICE_CHANNEL_TOOLTIP,locationIcon:null!=c?f(c,{width:16,height:16,className:s.default.icon}):null},void 0,f(i.LiveVoiceOrStageChannelNotice,{channel:n,speakers:r,voiceType:i.VoiceChannelType.STUDY_ROOM}))}p.displayName="HubStudyRoomNoticeVoice";var v=p;t.default=v},936747:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=i(n(636602)),a=i(n(308920));n(497655);var o=n(770348);function i(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function l(e){return function(){var t=this,n=arguments
;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){u(o,r,a,i,l,"next",e)}function l(e){u(o,r,a,i,l,"throw",e)}i(void 0)}))}}function s(e){return c.apply(this,arguments)}function c(){return(c=l(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(93212)]).then(n.bind(n,693212));case 2:r=e.sent;(0,r.openInteractionModal)(t);a.default.track(o.AnalyticEvents.OPEN_MODAL,{type:"interaction_modal",application_id:t.application.id});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var d={init:function(){r.default.subscribe(o.ActionTypes.INTERACTION_MODAL_CREATE,s)},terminate:function(){r.default.unsubscribe(o.ActionTypes.INTERACTION_MODAL_CREATE,s)}};t.default=d},497655:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.InteractionModalState=void 0
;var r,a,o,i,u,l,s,c=m(n(441143)),d=m(n(536211)),f=m(n(636602)),p=m(n(786345)),v=n(81069),y=n(741464),h=n(770348);function m(e){return e&&e.__esModule?e:{default:e}}function _(e,t){_=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _(e,t)}t.InteractionModalState=a;!function(e){e[e.IN_FLIGHT=0]="IN_FLIGHT";e[e.ERRORED=1]="ERRORED";e[e.SUCCEEDED=2]="SUCCEEDED"}(a||(t.InteractionModalState=a={}));var g=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;_(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.getModalState=function(e){return e!==o?null:i};return t}(d.default.Store);g.displayName="InteractionModalStore";var E=new g(f.default,((r={})[h.ActionTypes.LOGOUT]=function(){o=null;i=null;u=null;l=null;s=null;return!0},r[h.ActionTypes.INTERACTION_MODAL_CREATE]=function(e){if(e.nonce===s){p.default.deleteMessage(l,u,!0);u=null;l=null;s=null}return!1},r[h.ActionTypes.INTERACTION_QUEUE]=function(e){
var t=e.messageId,n=e.nonce,r=e.data;switch(r.interactionType){case v.InteractionTypes.APPLICATION_COMMAND:u=t;l=r.channelId;s=n;return!1;case v.InteractionTypes.MODAL_SUBMIT:(0,c.default)(null==o||i===a.ERRORED||i===a.SUCCEEDED,"cannot submit multiple modals at once");o=n;i=a.IN_FLIGHT;setTimeout((function(){o===n&&i===a.IN_FLIGHT&&(0,y.setFailed)(n)}),1e4);return!0;default:return!1}},r[h.ActionTypes.INTERACTION_SUCCESS]=function(e){var t=e.nonce;if(null==t||t!==o)return!1;i=a.SUCCEEDED;return!0},r[h.ActionTypes.INTERACTION_FAILURE]=function(e){var t=e.nonce;if(null==t||t!==o)return!1;i=a.ERRORED;return!0},r));t.default=E},419523:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=N(n(636602)),o=N(n(740207)),i=N(n(390557)),u=n(123516),l=N(n(105988)),s=N(n(177230)),c=n(747868),d=N(n(937196)),f=N(n(429074)),p=n(139982),v=N(n(610929)),y=n(205809),h=n(845634),m=N(n(607209)),_=N(n(644263)),g=N(n(635014)),E=N(n(211136)),O=N(n(663303)),S=N(n(728429)),b=N(n(81636)),I=N(n(945771)),C=N(n(949898)),T=n(864489),A=N(n(911110)),P=n(770348),M=n(376293);function N(e){return e&&e.__esModule?e:{default:e}}function R(e,t){R=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return R(e,t)}function w(){var e=E.default.getVoiceChannelId(),t=_.default.getChannel(e);return(0,y.isSoundboardSupported)()&&(0,v.default)(t)}var D=((r={})[P.GlobalKeybindActions.TOGGLE_PRIORITY_SPEAKER]={onTrigger:function(){},keyEvents:{}},r[P.GlobalKeybindActions.UNASSIGNED]={onTrigger:function(){},keyEvents:{}},r[P.GlobalKeybindActions.PUSH_TO_TALK]={onTrigger:function(e,t){if(g.default.getMode(t)===P.InputModes.PUSH_TO_TALK){D[P.GlobalKeybindActions.PUSH_TO_TALK].isPressed=e
;g.default.getMediaEngine().eachConnection((function(t){return t.setForceAudioInput(e,!1)}),t)}},keyEvents:{keyup:!0,keydown:!0},isPressed:!1},r[P.GlobalKeybindActions.PUSH_TO_TALK_PRIORITY]={onTrigger:function(e){if(g.default.getMode()===P.InputModes.PUSH_TO_TALK){D[P.GlobalKeybindActions.PUSH_TO_TALK_PRIORITY].isPressed=e;g.default.getMediaEngine().eachConnection((function(t){return t.setForceAudioInput(e,!0)}),M.MediaEngineContextTypes.DEFAULT)}},keyEvents:{keyup:!0,keydown:!0},isPressed:!1},r[P.GlobalKeybindActions.PUSH_TO_MUTE]={onTrigger:function(e){if(g.default.getMode()===P.InputModes.VOICE_ACTIVITY&&!g.default.isSelfDeaf()){D[P.GlobalKeybindActions.PUSH_TO_MUTE].isPressed=e;o.default.setTemporarySelfMute(e)}},keyEvents:{keyup:!0,keydown:!0},isPressed:!1},r[P.GlobalKeybindActions.TOGGLE_MUTE]={onTrigger:function(){return o.default.toggleSelfMute()},keyEvents:{keyup:!0,keydown:!1}},r[P.GlobalKeybindActions.TOGGLE_DEAFEN]={onTrigger:function(){o.default.toggleSelfDeaf()},
keyEvents:{keyup:!0,keydown:!1}},r[P.GlobalKeybindActions.TOGGLE_VOICE_MODE]={onTrigger:function(){var e=g.default.getMode()===P.InputModes.PUSH_TO_TALK?P.InputModes.VOICE_ACTIVITY:P.InputModes.PUSH_TO_TALK;o.default.setMode(e)},keyEvents:{keyup:!0,keydown:!1}},r[P.GlobalKeybindActions.TOGGLE_OVERLAY]={onTrigger:function(){var e=b.default.enabled;i.default.setEnabled(!e)},keyEvents:{keyup:!0,keydown:!1}},r[P.GlobalKeybindActions.TOGGLE_OVERLAY_INPUT_LOCK]={onTrigger:function(e){var t=(0,A.default)();null!=t&&(e?i.default.setUILocked(!I.default.isUILocked(t),t):i.default.setInputLocked(!b.default.isInputLocked(t),t))},keyEvents:{keyup:!0,keydown:!0}},r[P.GlobalKeybindActions.OVERLAY_ACTIVATE_REGION_TEXT_WIDGET]={onTrigger:function(){var e=b.default.getFocusedPID();null!=e&&(null!=e||!1)&&I.default.isPinned(P.OverlayWidgets.TEXT)&&b.default.isReady(e)&&b.default.isInputLocked(e)&&i.default.activateRegion(P.OverlayActiveRegions.TEXT_WIDGET)},keyEvents:{keyup:!0,keydown:!1}},
r[P.GlobalKeybindActions.TOGGLE_GO_LIVE_STREAMING]={onTrigger:function(){var e=S.default.getCurrentUser();if(null!=e){var t=m.default.getActiveStreamForUser(e.id);if(null!=t&&e.id===t.ownerId)return(0,u.stopStream)((0,c.encodeStreamKey)(t));(0,d.default)()}},keyEvents:{keyup:!0,keydown:!1}},r[P.GlobalKeybindActions.TOGGLE_STREAMER_MODE]={onTrigger:function(){l.default.setEnabled(!O.default.enabled)},keyEvents:{keyup:!0,keydown:!1}},r[P.GlobalKeybindActions.NAVIGATE_BACK]={onTrigger:function(){return(0,p.back)()},keyEvents:{keyup:!0,keydown:!1}},r[P.GlobalKeybindActions.NAVIGATE_FORWARD]={onTrigger:function(){return(0,p.forward)()},keyEvents:{keyup:!0,keydown:!1}},r[P.GlobalKeybindActions.SOUNDBOARD]={onTrigger:function(){if(w())if(C.default.isFocused())(0,h.openSoundboardWindow)(!0);else{var e=(0,A.default)();null!=e&&(I.default.isUILocked(e)?(0,h.openSoundboardInOverlay)(!0,e):(0,h.closeSoundboardInOverlay)(e))}},keyEvents:{keyup:!0,keydown:!1}},
r[P.GlobalKeybindActions.SOUNDBOARD_HOLD]={onTrigger:function(e){if(w()){var t=(0,A.default)();null==t?((0,T.isWindows)()||C.default.isFocused())&&e?(0,h.openSoundboardWindow)(!1):!e&&f.default.getWindowOpen(P.PopoutWindowKeys.SOUNDBOARD)&&(0,h.closeSoundboardWindow)():e?(0,h.openSoundboardInOverlay)(!1,t):(0,h.closeSoundboardInOverlay)(t)}},keyEvents:{keyup:!0,keydown:!0}},r),L=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;R(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){a.default.wait((function(){return a.default.dispatch({type:P.ActionTypes.KEYBINDS_REGISTER_GLOBAL_KEYBIND_ACTIONS,keybinds:D})}))};n._terminate=function(){};return t}(s.default));t.default=L},778885:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=b(n(667294)),o=O(n(294184)),i=n(536211),u=O(n(415275)),l=O(n(678875)),s=n(139982),c=O(n(30098)),d=O(n(790597)),f=O(n(956117)),p=n(645758),v=O(n(889167)),y=b(n(465537)),h=O(n(930409)),m=n(770348),_=O(n(247001)),g=O(n(5459)),E=O(n(944659));function O(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function b(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function I(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function C(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function T(){T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return T.apply(this,arguments)}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{
i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var M=function(){var e=(0,i.useStateFromStores)([d.default],(function(){return d.default.getGuildId()}),[]),t=(0,i.useStateFromStores)([c.default],(function(){return c.default.getGuild(e)}),[e]),n=(0,i.useStateFromStores)([h.default],(function(){return h.default.getHistorySnapshot()}),[]),r=A(a.useState(!1),2),O=r[0],S=r[1]
;if(null==t)return null;var b=function(){var e,n=(e=regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S(!0);e.prev=1;e.next=4;return u.default.joinGuild(t.id,{source:m.JoinGuildSources.NOTICE_BAR});case 4:r=e.sent;y.trackGuildJoinClicked(t.id);t.hasVerificationGate()&&null!=(null===(n=r.body)||void 0===n?void 0:n.member_verification_form)&&(0,l.default)(t.id);e.next=12;break;case 9:e.prev=9;e.t0=e.catch(1);S(!1);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){C(o,r,a,i,u,"next",e)}function u(e){C(o,r,a,i,u,"throw",e)}i(void 0)}))});return function(){return n.apply(this,arguments)}}();return I("div",{className:(0,o.default)(g.default.notice,E.default.notice)},void 0,I(f.default,{look:f.default.Looks.OUTLINED,color:f.default.Colors.WHITE,size:f.default.Sizes.NONE,className:(0,
o.default)(g.default.button,g.default.back),innerClassName:g.default.iconButton,onClick:function(){var e=(0,s.getHistory)();null!=n&&null!=n.location?(0,s.replaceWith)(T({},n.location)):e.goBack()}},void 0,I(v.default,{width:16,height:16,className:g.default.arrow}),_.default.Messages.BACK),I(p.Text,{className:g.default.header,variant:"text-sm/normal"},void 0,_.default.Messages.LURKER_MODE_NAG_BAR_HEADER),I(f.default,{className:g.default.button,look:f.default.Looks.OUTLINED,color:f.default.Colors.WHITE,size:f.default.Sizes.NONE,submitting:O,onClick:b},void 0,_.default.Messages.LURKER_MODE_NAG_BAR_BUTTON.format({guild:t.name})))};M.displayName="LurkerModeNotice";var N=M;t.default=N},316200:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=n(91817),a=u(n(636602)),o=u(n(177230)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}
var s=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){for(var t,n=arguments.length,o=new Array(n),u=0;u<n;u++)o[u]=arguments[u];(t=e.call.apply(e,[this].concat(o))||this).clearErrorTimeout=new r.Timeout;t.handleNoiseCancellationError=function(){t.clearErrorTimeout.start(3e3,(function(){return a.default.dispatch({type:i.ActionTypes.MEDIA_ENGINE_NOISE_CANCELLATION_ERROR_RESET})}))};return t}var n=t.prototype;n._initialize=function(){a.default.subscribe(i.ActionTypes.MEDIA_ENGINE_NOISE_CANCELLATION_ERROR,this.handleNoiseCancellationError)};n._terminate=function(){this.clearErrorTimeout.stop();a.default.unsubscribe(i.ActionTypes.MEDIA_ENGINE_NOISE_CANCELLATION_ERROR,this.handleNoiseCancellationError)};return t}(o.default));t.default=s},999607:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=u(n(118777)),i=u(n(353326));function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=function(e){return e.toFixed(0)+"%"},d=a.forwardRef((function(e,t){var n=e.value,r=e.minValue,u=void 0===r?0:r,l=e.maxValue,d=void 0===l?100:l,f=e.onChange,p=e.renderValue,v=void 0===p?c:p,y=e["aria-label"],h=a.useRef(null);a.useImperativeHandle(t,(function(){return{focus:function(){var e;return null===(e=h.current)||void 0===e?void 0:e.focus()},blur:function(){var e;return null===(e=h.current)||void 0===e?void 0:e.blur()},activate:function(){return!1}}}),[]);return s("div",{className:i.default.sliderContainer},void 0,a.createElement(o.default,{ref:h,mini:!0,handleSize:16,className:i.default.slider,initialValue:n,minValue:u,maxValue:d,onValueChange:f,asValueChanges:f,onValueRender:v,orientation:"horizontal","aria-label":y}))}));t.default=d},960736:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MessageNoticeBanner=s;!function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=i(n(294184)),o=i(n(157358));function i(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function s(e){var t=e.bannerIcon,n=e.bannerHeader,r=e.bannerSubtext,i=e.containerStyles,u=e.headerStyles,s=e.children;return l("div",{className:o.default.spamBanner},void 0,l("div",{className:(0,a.default)(o.default.bannerTextContainer,i)},void 0,"string"==typeof t?l("img",{src:t,alt:"",className:o.default.bannerIcon}):t,l("div",{className:o.default.bannerText},void 0,l("div",{className:(0,a.default)(o.default.bannerHeader,u)},void 0,n),l("div",{className:o.default.bannerSubtext},void 0,r))),l("div",{className:o.default.actionButtons},void 0,s))}s.displayName="MessageNoticeBanner"},16014:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MobileWebDropInExperiment=void 0;var r=(0,n(373505).createExperiment)({kind:"user",id:"2022-04_mobile_web_drop_in",label:"Drop users into mobile web after registration instead of deeplinking to the app/store.",defaultConfig:{isEnabled:!1,upsellStyle:"themed"},treatments:[{
id:1,label:"Show a nag bar app upsell in mobile web",config:{isEnabled:!0,upsellStyle:"themed"}},{id:2,label:"Show a blurple nag bar app upsell in mobile web",config:{isEnabled:!0,upsellStyle:"blurple"}},{id:3,label:"Show a halfsheet app upsell in mobile web",config:{isEnabled:!0,upsellStyle:"halfsheet"}}]});t.MobileWebDropInExperiment=r},249603:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=N(n(667294)),o=P(n(294184)),i=n(248088),u=P(n(74854)),l=n(171236),s=n(923387),c=n(836233),d=P(n(285629)),f=P(n(305081)),p=n(314234),v=N(n(413839)),y=P(n(956117)),h=P(n(16941)),m=n(772575),_=n(645758),g=P(n(259530)),E=P(n(435012)),O=P(n(308920)),S=n(16014),b=n(770348),I=n(583551),C=P(n(247001)),T=P(n(405068)),A=P(n(172087));function P(e){return e&&e.__esModule?e:{default:e}}function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(M=function(e){return e?n:t})(e)}function N(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=M(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function D(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var L={SMALL:T.default.sizeSmall,MEDIUM:T.default.sizeMedium},k=function(e){var t;return D(h.default,{onClick:e.onDismiss,className:(0,
o.default)(e.size,(t={},t[T.default.blurpleOverride]=e.isBlurple,t)),"aria-label":C.default.Messages.DISMISS},void 0,D(g.default,{className:T.default.closeIcon}))};k.displayName="CloseButton";function j(e){e(I.ContentDismissActionType.PRIMARY);(0,d.default)("mweb_upsell");O.default.track(b.AnalyticEvents.DOWNLOAD_APP)}var U=function(e){var t=e.onDismiss,n=a.useContext(c.AccessibilityPreferencesContext).reducedMotion,r=R(a.useState(!1),2),l=r[0],s=r[1],d=a.useRef(null);a.useEffect((function(){s(!0);return function(){return s(!1)}}),[]);var f=(0,i.useSpring)({opacity:l?1:0,transform:l||n.enabled?"scale(1)":"scale(0.7)",config:{duration:l?300:100,easing:u.default.Easing.inOut(u.default.Easing.back()),clamp:!0}});return a.createElement(a.Fragment,null,D(v.default,{isVisible:!0,backdropStyle:v.BackdropStyles.DARK}),a.createElement(i.animated.div,{className:T.default.halfSheet,ref:d,style:f},D(p.FocusRingScope,{containerRef:d},void 0,D(k,{size:L.MEDIUM,onDismiss:function(){
return t(I.ContentDismissActionType.DISMISS)}}),D("img",{src:A.default,alt:"",className:T.default.mobileAppSparklesImage}),D(m.Heading,{variant:"heading-xl/medium",level:3},void 0,C.default.Messages.MOBILE_WEB_GET_APP_UPSELL_HALFSHEET_HEADER),D(_.Text,{className:T.default.subheading,variant:"text-sm/normal"},void 0,C.default.Messages.MOBILE_WEB_GET_APP_UPSELL_HALFSHEET_SUBHEADER),D(y.default,{fullWidth:!0,className:T.default.lineHeightOverride,onClick:function(){return j((function(){return t(I.ContentDismissActionType.PRIMARY)}))}},void 0,C.default.Messages.MOBILE_WEB_GET_APP_UPSELL_HALFSHEET_BUTTON_TEXT),D("div",{className:T.default.btnSpacer},void 0,D(y.default,{color:y.default.Colors.PRIMARY,look:y.default.Looks.LINK,onClick:function(){return t(I.ContentDismissActionType.SECONDARY)},className:(0,o.default)(T.default.lineHeightOverride,T.default.marginOverride)},void 0,C.default.Messages.MAYBE_LATER)))))},G=function(e){var t=e.onDismiss;return D("div",{
className:T.default.blurpleUpsellContainer},void 0,D(y.default,{className:(0,o.default)(T.default.lineHeightOverride,T.default.marginOverride),color:y.default.Colors.WHITE,innerClassName:T.default.contentsOverrides,look:y.default.Looks.LINK,size:y.default.Sizes.LARGE,onClick:function(){return j((function(){return t(I.ContentDismissActionType.PRIMARY)}))}},void 0,D(E.default,{className:T.default.launchIcon}),C.default.Messages.MOBILE_WEB_GET_APP_UPSELL),D(k,{size:L.SMALL,onDismiss:function(){return t(I.ContentDismissActionType.DISMISS)},isBlurple:!0}))};G.displayName="DownloadAppBlurpleNagBar";var F=function(e){var t=e.onDismiss;return D("div",{className:T.default.themedUpsellContainer},void 0,D(y.default,{color:y.default.Colors.LINK,className:(0,o.default)(T.default.lineHeightOverride,T.default.marginOverride),look:y.default.Looks.LINK,size:y.default.Sizes.LARGE,onClick:function(){return j((function(){return t(I.ContentDismissActionType.PRIMARY)}))}
},void 0,C.default.Messages.MOBILE_WEB_GET_APP_UPSELL),D(k,{size:L.SMALL,onDismiss:function(){return t(I.ContentDismissActionType.DISMISS)}}))};F.displayName="DownloadAppThemedNagBar";var x=function(){var e=S.MobileWebDropInExperiment.useExperiment({}),t=e.isEnabled,n=e.upsellStyle;if(!l.isMobile||!t)return null;var r=[];switch(n){case"themed":r.push(s.DismissibleContent.MWEB_APP_DOWNLOAD_NAGBAR_THEMED);break;case"blurple":r.push(s.DismissibleContent.MWEB_APP_DOWNLOAD_NAGBAR_BLURPLE);break;case"halfsheet":r.push(s.DismissibleContent.MWEB_APP_DOWNLOAD_HALFSHEET)}return D(f.default,{contentTypes:r},void 0,(function(e){var t=e.visibleContent,n=e.markAsDismissed;switch(t){case s.DismissibleContent.MWEB_APP_DOWNLOAD_NAGBAR_THEMED:return D(F,{onDismiss:n});case s.DismissibleContent.MWEB_APP_DOWNLOAD_NAGBAR_BLURPLE:return D(G,{onDismiss:n});case s.DismissibleContent.MWEB_APP_DOWNLOAD_HALFSHEET:return D(U,{onDismiss:n});default:return null}}))};x.displayName="AppDownloadUpsell";var W=x
;t.default=W},486030:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=d(n(667294)),a=s(n(636602)),o=s(n(177230)),i=d(n(108101)),u=n(194322),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}
;return f.apply(this,arguments)}function p(e,t){p=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return p(e,t)}var v=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;p(e,t)}(t,e);function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];(t=e.call.apply(e,[this].concat(a))||this)._openReportMessageModal=function(e){var t=e.channel,n=e.message;(0,u.openModal)((function(e){return r.createElement(i.default,f({channel:t,message:n},e))}),{modalKey:i.REPORT_MESSAGE_MODAL_KEY})};return t}var n=t.prototype;n._initialize=function(){a.default.subscribe(l.ActionTypes.REPORT_MESSAGE_MODAL_OPEN,this._openReportMessageModal)};n._terminate=function(){a.default.unsubscribe(l.ActionTypes.REPORT_MESSAGE_MODAL_OPEN,this._openReportMessageModal)};return t}(o.default));t.default=v},394614:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=(0,n(373505).createExperiment)({
kind:"user",id:"2022-04_account_profile_popout",label:"Account Profile Popout",defaultConfig:{isPopupEnabled:!1,isTaglessAccountPanelEnabled:!1,isJoinedTagButtonEnabled:!1},treatments:[{id:1,label:"Enable Account Profile Popout",config:{isPopupEnabled:!0,isTaglessAccountPanelEnabled:!1,isJoinedTagButtonEnabled:!1}},{id:2,label:"Enable Account Profile Popout w/ DiscordTag button",config:{isPopupEnabled:!0,isTaglessAccountPanelEnabled:!1,isJoinedTagButtonEnabled:!0}}]});t.default=r},590886:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.removeAccount=function(e){o.default.dispatch({type:c.ActionTypes.MULTI_ACCOUNT_REMOVE_ACCOUNT,userId:e})};t.switchAccount=function(e){var t=r.default.getToken(e);if(null==t){o.default.dispatch({type:c.ActionTypes.MULTI_ACCOUNT_VALIDATE_TOKEN_FAILURE,userId:e});return}o.default.dispatch({type:c.ActionTypes.LOGOUT,isSwitchingAccount:!0});i.default.loginToken(t,!0);(0,u.transitionTo)(c.Routes.ME)}
;t.validateMultiAccountTokens=function(){var e=l.default.getId();s.default.getUsers().forEach(function(){var t,n=(t=regeneratorRuntime.mark((function t(n){var i,u,l,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=n.id;if(null!=(u=r.default.getToken(i))&&""!==u){t.next=5;break}o.default.dispatch({type:c.ActionTypes.MULTI_ACCOUNT_VALIDATE_TOKEN_FAILURE,userId:i});return t.abrupt("return");case 5:o.default.dispatch({type:c.ActionTypes.MULTI_ACCOUNT_VALIDATE_TOKEN_REQUEST,userId:i});t.prev=6;t.next=9;return a.default.get({url:c.Endpoints.ME,headers:{authorization:u},retries:3});case 9:l=t.sent;t.next=17;break;case 12:t.prev=12;t.t0=t.catch(6);s=401===(null===t.t0||void 0===t.t0?void 0:t.t0.status)||403===(null===t.t0||void 0===t.t0?void 0:t.t0.status);o.default.dispatch({type:s?c.ActionTypes.MULTI_ACCOUNT_VALIDATE_TOKEN_FAILURE:c.ActionTypes.MULTI_ACCOUNT_VALIDATE_TOKEN_SUCCESS,userId:i});return t.abrupt("return");case 17:o.default.dispatch({
type:e===i?c.ActionTypes.CURRENT_USER_UPDATE:c.ActionTypes.USER_UPDATE,user:l.body});o.default.dispatch({type:c.ActionTypes.MULTI_ACCOUNT_VALIDATE_TOKEN_SUCCESS,userId:i});case 19:case"end":return t.stop()}}),t,null,[[6,12]])})),function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function i(e){f(o,r,a,i,u,"next",e)}function u(e){f(o,r,a,i,u,"throw",e)}i(void 0)}))});return function(e){return n.apply(this,arguments)}}())};var r=d(n(653795)),a=d(n(118915)),o=d(n(636602)),i=d(n(939949)),u=n(139982),l=d(n(423046)),s=d(n(915574)),c=n(770348);function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}},393742:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useMultiAccountUsers=function(){var e=(0,a.useStateFromStoresObject)([u.default],(function(){return{isLoading:u.default.getIsValidatingUsers(),
multiAccountUsers:u.default.getUsers()}}));r.useEffect((function(){o.default.wait((function(){i.validateMultiAccountTokens()}))}),[]);return e};var r=c(n(667294)),a=n(536211),o=l(n(636602)),i=c(n(590886)),u=l(n(915574));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}},359150:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=y;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=a?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(r,i,u):r[i]=e[i]}r.default=e;n&&n.set(e,r);return r}(n(667294));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}function i(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function u(){
u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return u.apply(this,arguments)}var l=i("rect",{width:232,height:72,rx:36,fill:"#fff"}),s=i("g",{clipPath:"url(#prefix__clip0_1283_59574)"},void 0,i("rect",{x:8,y:8,width:56,height:56,rx:28,fill:"url(#prefix__paint0_linear_1283_59574)"}),i("path",{d:"M37.243 35.366l3.455-22.103a3.098 3.098 0 013.217-2.68 3.157 3.157 0 013.038 3.634l-3.395 22.876-6.315-1.727z",fill:"#E66CA5"}),i("path",{d:"M40.936 31.315l2.979-13.881a.476.476 0 01.536-.358c.238.06.417.239.357.477l-1.906 13.583-1.966.179z",fill:"#F085B7"}),i("path",{d:"M40.698 13.264a3.157 3.157 0 011.132-2.026c-.536 3.634-1.55 10.068-2.979 20.792l-1.132.178 2.979-18.944z",fill:"#FFABBB"}),i("path",{d:"M18.357 93.928L9.897 52.94a.894.894 0 01.835-1.073h4.17a.953.953 0 01.894.715l8.578 41.345h-6.017z",fill:"#6E2B17"}),i("path",{d:"M39.745 55.442H14.068v4.522h25.677v-4.522z",
fill:"#6E2B17"}),i("path",{d:"M25.923 12.549a3.932 3.932 0 00-2.264 4.885l6.434 18.826 8.281-2.443-7.387-19.064a3.932 3.932 0 00-5.064-2.204z",fill:"#E66CA5"}),i("path",{d:"M32.298 31.553l3.276-.477-4.527-11.26a1.191 1.191 0 00-1.728-.655 1.251 1.251 0 00-.655 1.49l3.634 10.902z",fill:"#F085B7"}),i("path",{d:"M30.51 31.553l-6.374-17.515a3.992 3.992 0 00-.477 3.396l4.885 14.357 1.966-.238z",fill:"#FFA3B5"}),i("path",{d:"M46.319 28.902l-24.281 3.154a6.374 6.374 0 00-5.5 7.142l.022.171a6.374 6.374 0 007.142 5.5l24.281-3.153a6.375 6.375 0 005.5-7.142l-.022-.172a6.374 6.374 0 00-7.142-5.5z",fill:"#FF85AB"}),i("path",{d:"M27.294 66.702c-1.49-1.31-2.86-2.562-3.158-3.098-.298-.536.179-.596.953-.894.775-.298 1.31.655 2.085 2.145.775 1.49 1.43 3.038.12 1.847z",fill:"#F2C591"}),i("path",{
d:"M47.608 50.915L25.864 54.37c-1.43 1.25-1.55 1.549-2.562 2.442-2.92 2.562-3.694 4.647-3.753 6.911-.179 3.157.119 3.038-.537 4.17-.655 1.132-1.31 1.55-.714 3.158a8.28 8.28 0 001.787 2.74H54.4c7.685-8.996.715-16.323-6.792-22.876z",fill:"#F7E5BC"}),i("path",{d:"M50.826 73.791H27.77s.12-2.025.239-7.208-.894-8.758-4.707-9.77c.775-.775 1.609-1.61 2.562-2.443l21.745-3.396c1.43 1.251 2.86 2.502 4.17 3.813a93.885 93.885 0 01-.953 19.004z",fill:"#1F3A70"}),i("path",{d:"M47.609 50.974h-.298l-.298.358a58.619 58.619 0 01-3.455 9.472s.119 1.191 1.727-1.132a25.974 25.974 0 003.694-7.506l-1.37-1.192zM28.306 54.37c4.23 5.064 5.66 6.256 7.209 7.268 1.549 1.013.238-.536-1.37-2.919a313.091 313.091 0 01-3.515-5.362l-2.324 1.013z",fill:"#172E5C"}),i("path",{d:"M29.974 57.349s-.178.417-1.131 1.013c-.954.595-1.132.893-1.251.715a5.184 5.184 0 00-3.634-2.92c.595-.655 1.25-1.25 1.966-1.906 3.276 1.37 4.05 3.098 4.05 3.098z",fill:"#244AB0"}),i("path",{d:"M45.702 50.915l-4.409 16.442-11.2-15.906 15.609-.536z",
fill:"#D4BF9B"}),i("path",{d:"M36.17 56.693l8.4 2.205-3.157 5.004-5.243-6.255c-.715-.834-1.37-1.311 0-.954z",fill:"#CCAC89"}),i("path",{d:"M32.536 54.072l10.247 1.37c1.132.12 1.191-1.131 1.787-3.574l-11.08.834-.954 1.37z",fill:"#DE5D98"}),i("path",{d:"M48.85 39.874L23.86 43.12a6.016 6.016 0 00-5.192 6.739 6.016 6.016 0 006.741 5.189l24.99-3.246a6.016 6.016 0 005.193-6.739 6.016 6.016 0 00-6.742-5.189z",fill:"#FF85AB"}),i("path",{d:"M50.17 51.808a6.136 6.136 0 005.421-6.493 6.017 6.017 0 00-4.05-5.183 6.492 6.492 0 002.025-5.54v-.18a6.256 6.256 0 00-7.09-5.48l-19.719 2.561c4.23 2.92 4.23 5.422 3.515 10.188-.05.726.116 1.452.477 2.085a9.353 9.353 0 01-1.013 10.723l20.434-2.68z",fill:"#F06EA8"}),i("path",{
d:"M47.31 67.417l-4.11 3.217a.596.596 0 01-.894-.12L37.6 64.2a.715.715 0 01.12-.894l4.17-3.217a.655.655 0 01.893.12l4.647 6.314a.594.594 0 01-.12.894zM53.923 67.476l-4.945-.357a.476.476 0 01-.416-.417l.357-8.281a.476.476 0 01.477-.417l4.944.357a.476.476 0 01.417.477l-.357 8.221a.477.477 0 01-.477.417z",fill:"#BA4E5D"}),i("path",{d:"M54.061 61.886l-2.09-2.446-2.59 2.213 2.089 2.446 2.591-2.213z",fill:"#AD3B4B"}),i("path",{d:"M53.983 66.344a.417.417 0 00.298-.536l-1.907-7.566-2.978-.238a.477.477 0 00-.477.417l-.357 8.28v.12a.417.417 0 00.357.12l5.064-.597z",fill:"#872C39"}),i("path",{d:"M53.328 66.285l-5.004.595a.477.477 0 01-.477-.298l-2.026-8.042a.36.36 0 01.187-.444.358.358 0 01.17-.033l5.005-.655a.476.476 0 01.477.298l2.025 8.042a.417.417 0 01-.357.537z",fill:"#BA4E5D"}),i("path",{d:"M51.773 61.16L49.2 59.23l-2.046 2.725 2.573 1.931 2.046-2.725zM44.153 63.485h-3.217v3.407h3.217v-3.407z",fill:"#AD3B4B"}),i("path",{
d:"M50.35 65.153l-3.337-7.209-.834.12a.358.358 0 00-.358.476l2.026 7.983 2.204-.774a.477.477 0 00.298-.596zM42.783 60.208a.655.655 0 00-.894-.119l-1.549 1.192 3.217 7.03a.358.358 0 00.477.178l3.276-1.072a.596.596 0 00.12-.894l-4.647-6.315z",fill:"#872C39"}),i("path",{d:"M49.753 66.106l-5.42 1.787a.476.476 0 01-.537-.238L40.34 60.15c-.12-.239 0-.477.297-.596L46 57.766a.477.477 0 01.536.238l3.456 7.506a.414.414 0 01-.082.504.417.417 0 01-.157.092z",fill:"#BA4E5D"}),i("path",{d:"M51.48 62.949c2.026 1.012 4.826 2.68 4.826 2.68a3.575 3.575 0 011.668 2.8v.537a3.574 3.574 0 01-3.514 3.693c-.12.06-.239 0-.358 0a3.277 3.277 0 01-2.383-1.37 20.37 20.37 0 00-2.145-2.502c-.417-.417-1.548-1.073-1.906-1.43-1.191-1.31-.953-1.906 0-3.396s1.549-2.144 3.813-1.012z",fill:"#F57FB5"}),i("path",{
d:"M37.71 41.344c.518-.407.459-1.344-.131-2.094-.59-.75-1.488-1.028-2.005-.621-.517.407-.458 1.345.132 2.094.59.75 1.488 1.028 2.005.621zM47.629 38.217c.16-.87-.207-1.668-.82-1.78-.613-.113-1.239.502-1.399 1.372-.16.871.207 1.668.82 1.78.613.113 1.239-.502 1.399-1.372z",fill:"#1E1C2B"}),i("path",{d:"M40.757 43.468l1.55 1.013a2.025 2.025 0 002.918-.834l.477-1.013",stroke:"#BA4173",strokeWidth:2,strokeMiterlimit:10,strokeLinecap:"round"}),i("path",{d:"M22.051 43.647c-1.43-.358-3.157-.834-3.872-.894a6.554 6.554 0 002.502 1.787l-.239.239 3.694-.18c1.31-.178.775-.297-2.085-.952z",fill:"#F071AB"}),i("path",{d:"M20.676 36.013c.937-1.015 1.383-2.128.996-2.485-.387-.357-1.46.177-2.397 1.192-.937 1.016-1.383 2.129-.996 2.486.387.356 1.46-.177 2.397-1.193z",fill:"#FFA1BD"}),i("path",{d:"M20.443 67.357l3.276-1.37c.655-.238.06-.477-1.43-1.132-1.489-.655-1.787-.894-1.906.417-.12 1.31-.596 2.323.06 2.085z",fill:"#FAD596"}),i("path",{
d:"M28.544 66.642c.656-3.336.596-4.23.834-4.289.239-.06.834.775 1.311 1.787.477 1.013-2.145 2.502-2.145 2.502z",fill:"#172E5C"}),i("path",{d:"M57.974 68.43a3.573 3.573 0 00-1.668-2.8s-2.264-1.37-4.17-2.324a12.57 12.57 0 00-2.74 3.575 3.756 3.756 0 00-.477 1.37l.715.536a26.082 26.082 0 012.145 2.502 3.455 3.455 0 001.668 1.251c.805.23 1.663.188 2.442-.119a3.635 3.635 0 002.085-3.574v-.417z",fill:"#F073AB"}),i("path",{d:"M47.65 61.933l-2.874-1.446-1.53 3.045 2.873 1.445 1.531-3.044z",fill:"#AD3B4B"}),i("path",{d:"M12.4 53.476a2.204 2.204 0 100-4.408 2.204 2.204 0 000 4.408z",fill:"#6E2B17"})),c=i("g",{opacity:.5,fill:"#4F5660"},void 0,i("circle",{cx:82,cy:36,r:2}),i("circle",{cx:90,cy:36,r:2}),i("circle",{cx:98,cy:36,r:2})),d=i("g",{clipPath:"url(#prefix__clip1_1283_59574)",fill:"#4F5660"},void 0,i("path",{
d:"M121.04 25.2l-8.16.12c-.48 0-.72.72-.36 1.08l1.56 1.44c.48.48.48 1.2 0 1.68l-1.68 1.8c-1.32 1.44-1.32 3.72.12 5.04.48.48 1.2.48 1.68 0l2.52-2.64c.96-.96 2.4-.96 3.36 0l.72.6c.36.36 1.08.12.96-.48l-.12-8.04c0-.36-.24-.6-.6-.6zM110.72 47.4l8.16-.12c.48 0 .84-.72.36-1.08l-1.56-1.44a1.16 1.16 0 010-1.68l1.68-1.68c1.44-1.44 1.32-3.72-.12-5.04a1.16 1.16 0 00-1.68 0L115.04 39c-.96.96-2.4.96-3.36 0l-.72-.72c-.36-.36-.96-.12-.96.48l.12 8.04c0 .36.36.6.6.6z"})),f=i("g",{opacity:.5,fill:"#4F5660"},void 0,i("circle",{cx:134,cy:36,r:2}),i("circle",{cx:142,cy:36,r:2}),i("circle",{cx:150,cy:36,r:2})),p=i("g",{clipPath:"url(#prefix__clip2_1283_59574)"},void 0,i("rect",{x:168,y:8,width:56,height:56,rx:28,fill:"url(#prefix__paint1_linear_1283_59574)"}),i("path",{d:"M197.886 21.806c1.902-7.234 2.816-8.517 7.188.815l-7.188-.815z",fill:"#D4E1FF"}),i("path",{
d:"M246.129 126.042c-5.929 2.098-21.615-.692-23.097-4.568-1.482-3.876 12.845-54.809 17.637-57.13 4.793-2.32 18.897 2.05 22.627 15.9 3.73 13.85-3.902 14.789-3.902 14.789s2.371 20.244 2.717 22.417c.346 2.173 1.556 5.95-2.717 6.419-4.274.469-7.115 0-13.265 2.173z",fill:"#4D90E8"}),i("path",{d:"M179.878 37.261l-.173.149c2.618 2.469 6.596 8.813 12.647 8.493 0 0 4.891 8.937 10.153 7.95 5.262-.988 9.164-8.395 9.164-8.395a27.582 27.582 0 002.989-8.197c-.074-.666-.321-1.185-.79-1.506-3.755-2.493-31.248-.493-33.99 1.506z",fill:"#1C1B29"}),i("path",{d:"M187.857 18.942l5.508 1.481a12.878 12.878 0 015.188-1.036c8.398 0 12.869 6.814 12.869 15.183 0 8.37-4.471 15.184-12.869 15.184-8.399 0-12.845-6.814-12.845-15.184a21.9 21.9 0 01.296-3.679c.569-3.21.418-6.508-.445-9.653a1.879 1.879 0 012.298-2.296z",fill:"#B3CAFF"}),i("path",{
d:"M211.126 38.2c-4.076 1.802-8.275-.1-12.326-2.42-4.422-2.543-7.263-8.987-8.473-11.036-1.21-2.05-2.94-2.444-4.125-5.431a1.852 1.852 0 00-.642 1.925 21.983 21.983 0 01.444 9.654 21.9 21.9 0 00-.296 3.678c0 8.37 4.471 15.184 12.845 15.184 7.139 0 11.437-4.938 12.573-11.555z",fill:"#8DAEF7"}),i("path",{d:"M210.385 35.705c0 6.518-3.878 11.802-8.646 11.802-4.767 0-8.621-5.284-8.621-11.802 0-10.764 6.694-1.95 11.462-1.95 4.767 0 5.928-7.283 5.805 1.95z",fill:"#FCFDFF"}),i("path",{d:"M201.882 41.99c.463-.039.785-.687.722-1.448-.064-.761-.491-1.346-.953-1.308-.462.04-.785.688-.721 1.448.064.761.49 1.347.952 1.308zM207.557 40.729c.138-.751-.12-1.428-.577-1.511-.456-.084-.938.457-1.076 1.208-.137.75.121 1.427.577 1.511.456.084.938-.457 1.076-1.208z",fill:"#1C1B29"}),i("path",{d:"M194.007 60.84s-5.755 4.369-11.288 2.073a.914.914 0 01-.544-1.086c.519-1.68 2.495-5.654 9.584-5.259 9.017.518 2.248 4.271 2.248 4.271z",fill:"#A62D69"}),i("path",{
d:"M192.352 53.21s-1.778-4.444-9.312-3.26a.868.868 0 00-.685.545.855.855 0 00.141.863 20.874 20.874 0 0011.091 6.617c8.004 1.728-1.235-4.765-1.235-4.765z",fill:"#A62D69"}),i("path",{d:"M193.785 57.728c-.321 3.16-5.41 3.284-6.052-.69-.642-3.976 2.297-4.593 4.397-3.284 2.1 1.308 1.655 3.974 1.655 3.974z",fill:"#79A0F7"}),i("path",{d:"M214.658 37.261z",fill:"#DE548C"}),i("path",{
d:"M226.639 116.734c-3.508.741-14.006-9.258-14.006-9.258 2.89 9.085 3.384 11.801 3.878 14.146.494 2.346.197 2.815 0 4.469-.198 1.654-.198 1.605.79 3.679.988 2.073 1.631 3.53 1.828 4.592a5.839 5.839 0 01-.074 1.851h-44.142s-.223-.987.716-3.728c.939-2.74 3.088-5.011 4.273-6.74 1.186-1.728 1.112-1.555.791-2.271-1.482-3.506.914-2.74 1.927-7.999 1.012-5.259 1.334-30.343 3.581-40.588 2.248-10.246 5.682-12.666 5.929-21.134-4.175-3.9-14.525-14.048-12.425-16.344 2.371 2.222 9.485 3.309 15.29 3.26a2.42 2.42 0 012.322 1.629c.988 2.987 3.483 8.888 7.411 8.122 3.928-.765 6.842-7.777 7.658-10.32a2.54 2.54 0 011.012-1.358 4.324 4.324 0 001.26-1.48c.544 4.863-7.534 17.75-7.534 17.75s2.001 17.48 6.003 23.232c4.001 5.753 15.241 5.753 15.512 11.234.272 5.48 1.483 26.515-2 27.256z",fill:"#BD4070"}),i("path",{
d:"M192.698 42.742c-2.915-.173-6.842-.667-13.141-3.802 1.012 3.678 9.041 11.48 12.573 14.813a24.5 24.5 0 01-1.408 7.703c3.186 4.518 7.04 1.58 7.732 14.27.296 5.407 4.273 12.591 8.423 20.368 4.15 7.777 4.718-6.518 4.545-13.554-.099-3.827-.864-8.567-1.68-13.085-1.753-6.839-2.618-14.443-2.618-14.443s5.657-9.036 7.188-14.813c-.386.24-.688.594-.864 1.012a106.604 106.604 0 01-5.138 10.098c-1.952 3.284-5.583 4.913-9.758-1.555-4.174-6.469-2.717-6.814-5.854-7.012z",fill:"#A12C66"}),i("path",{d:"M209.298 82.837c-1.087-.223-2.248-1.605-6.151-4.222 0 0-.173-3.308-4.693-2.889 0 0-1.828-4.74-3.335-8.986-1.507-4.247-5.434-1.852-6.25 2.468-1.827 9.826-2.47 28.022.742 34.515 1.877 3.802 3.705 4.592 10.547 6.543 1.482.716 4.743-4.716 6.373-13.382 2.174-11.53 2.767-12.196 2.767-14.047z",fill:"#BD4070"}),i("path",{d:"M205.984 24.434c.285-.416-.442-1.41-1.624-2.218-1.182-.809-2.371-1.127-2.656-.71-.285.415.442 1.409 1.624 2.217 1.182.81 2.371 1.128 2.656.711z",fill:"#D4E1FF"}),i("path",{
d:"M194.526 30.645c4.348 2.098 5.855 4.765 9.338 4.666 3.483-.099 4.841-1.778 6.249-4.024-.568-1.235-2.124 2.468-5.533 2.468-3.409 0-7.855-4.567-10.054-3.11z",fill:"#8DAEF7"}),i("path",{d:"M196.774 67.233c2.495 3.506-.864-7.036-.864-7.036h-4.768c-.642 2.197-1.531 4.172-2.47 6.567 1.433-3.605 4.471-4.592 8.102.469z",fill:"#A12C66"}),i("path",{d:"M224.959 53.136l1.853-.815c.049-.024.049-.074 0-.074l-1.853-.84h-.025l-.839-1.85c0-.05-.05-.05-.075 0l-.815 1.85h-.024l-1.878.84c-.025 0-.025.05 0 .074l1.878.815h.024l.815 1.876h.075l.839-1.876h.025z",fill:"#A1F7D7"})),v=i("defs",{},void 0,i("clipPath",{id:"prefix__clip0_1283_59574"},void 0,i("rect",{x:8,y:8,width:56,height:56,rx:28,fill:"#fff"})),i("clipPath",{id:"prefix__clip1_1283_59574"},void 0,i("path",{fill:"#fff",transform:"translate(110 25.2)",d:"M0 0h11.76v22.2H0z"})),i("clipPath",{id:"prefix__clip2_1283_59574"},void 0,i("rect",{x:168,y:8,width:56,height:56,rx:28,fill:"#fff"})),i("linearGradient",{id:"prefix__paint0_linear_1283_59574",
x1:36,y1:64.254,x2:36,y2:24.141,gradientUnits:"userSpaceOnUse"},void 0,i("stop",{stopColor:"#7196FF"}),i("stop",{offset:1,stopColor:"#2A5EE8"})),i("linearGradient",{id:"prefix__paint1_linear_1283_59574",x1:196,y1:64.254,x2:196,y2:24.141,gradientUnits:"userSpaceOnUse"},void 0,i("stop",{stopColor:"#7196FF"}),i("stop",{offset:1,stopColor:"#2A5EE8"})));function y(e){return a.createElement("svg",u({width:232,height:72,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),l,s,c,d,f,p,v)}y.displayName="MultiAccountWelcomeIcon"},907567:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=H
;var r,a=k(n(667294)),o=D(n(294184)),i=D(n(441143)),u=n(536211),l=n(483559),s=D(n(929031)),c=D(n(226800)),d=n(556470),f=D(n(319879)),p=n(179714),v=k(n(145122)),y=k(n(286004)),h=D(n(959806)),m=n(288702),_=D(n(426178)),g=D(n(607209)),E=D(n(423086)),O=D(n(788739)),S=D(n(663303)),b=D(n(728429)),I=D(n(12713)),C=n(660590),T=D(n(308920)),A=n(873838),P=n(678620),M=D(n(241505)),N=n(770348),R=D(n(247001)),w=D(n(215433));function D(e){return e&&e.__esModule?e:{default:e}}function L(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(L=function(e){return e?n:t})(e)}function k(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=L(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function j(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function U(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){j(o,r,a,i,u,"next",e)}function u(e){j(o,r,a,i,u,"throw",e)}i(void 0)}))}}function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return F(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function W(e,t){return x(v.MenuItem,{id:e,keepItemStyles:!0,render:function(n){var r=n.isFocused;return x("div",{className:w.default.statusItem
},void 0,x(C.Status,{status:e,className:w.default.icon,size:10,color:r?"currentColor":void 0}),x("div",{className:w.default.status},void 0,(0,A.humanizeStatus)(e)),null!=t&&x("div",{className:w.default.description},void 0,t))},action:function(){return function(e){s.default.updateRemoteSettings({status:e})}(e)}})}W.displayName="renderStatusItem";var B=x(v.MenuSeparator,{},"menu-separator-statuses");function V(e){var t=e.user,n=e.customStatus,r=e.guildId,i=e.isApplicationStreaming,l=e.onClose,s=e.onSelect,g=e.closePopout,E=(0,d.useAnalyticsContext)(),b=void 0,D=null!=t.banner,L=(0,u.useStateFromStores)([S.default],(function(){return S.default.hidePersonalInformation})),k=(0,u.useStateFromStoresArray)([O.default],(function(){var e,n=t.id;return"string"!=typeof n?[void 0,N.StatusTypes.UNKNOWN,!1]:[null!==(e=O.default.findActivity(n,(function(e){return e.type!==N.ActivityTypes.CUSTOM_STATUS})))&&void 0!==e?e:void 0,O.default.getStatus(n),O.default.isMobileOnline(n)]
})),j=G(k,3),U=j[0],F=j[1],V=j[2];a.useEffect((function(){T.default.track(N.AnalyticEvents.OPEN_POPOUT,{type:"User Status Menu",has_custom_status:null!=n,other_user_id:t.id,application_id:null!=U?U.application_id:void 0,is_streaming:i,application_name:null!=U?U.name:void 0,profile_has_nitro_customization:null!=t.banner,location:E.location})}),[]);var H=(0,P.useMultiAccountMenuItems)(),Y=(0,p.useCustomStatusMenuItem)(null!=n?n:void 0);return x(v.default,{navId:"account",style:v.MenuStyle.FIXED,"aria-label":R.default.Messages.SET_STATUS,hideScroller:!0,className:w.default.menu,onClose:l,onSelect:s},void 0,x(v.MenuGroup,{className:w.default.profileGroup},void 0,x(v.MenuControlItem,{id:"avatar"},void 0,x(m.UserPopoutAvatar,{hasPreviewBanner:D,user:t,status:(0,f.default)(U)?N.StatusTypes.STREAMING:F,isMobile:V,guildId:r,onClose:g,disableUserProfileLink:__OVERLAY__}),x(y.default,{user:t,onClose:g,guildId:null!=r?r:void 0,bannerType:y.UserBannerTypes.POPOUT})),x(v.MenuControlItem,{id:"info"
},void 0,x(m.UserPopoutInfo,{shouldCopyOnClick:!0,user:t,nickname:b,onOpenPremiumSettings:function(){T.default.track(N.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location_page:null,location_section:N.AnalyticsSections.PROFILE_POPOUT,location_object:N.AnalyticsObjects.TOOLTIP});c.default.open(N.UserSettingsSections.PREMIUM);null==g||g()},usernameIcon:t.hasAvatarForGuild(null!=r?r:void 0)&&x(_.default,{user:t,nickname:b}),hasCustomStatus:null!=n}),x("div",{className:w.default.profileBody},void 0,x(m.UserPopoutProfileText,{user:t,hidePersonalInformation:L,guild:undefined,customStatus:null!=n?x(m.UserPopoutCustomStatus,{customStatusActivity:n}):void 0}),x(h.default,{activity:U,customStatusActivity:n,canDM:!1,user:t,guild:null,guildMember:null,setNote:!1,hidePersonalInformation:!0})))),x(v.MenuGroup,{},void 0,x(v.MenuItem,{id:"status-picker",label:(0,A.humanizeStatus)(F),icon:function(e){var t=e.className,n=e.isFocused;return x(C.Status,{status:F,size:12,className:(0,
o.default)(t,w.default.mainStatusIcon),color:n?"currentColor":void 0})},showIconFirst:!0},"status-picker",W(N.StatusTypes.ONLINE),B,W(N.StatusTypes.IDLE),W(N.StatusTypes.DND,R.default.Messages.STATUS_DND_HELP),W(N.StatusTypes.INVISIBLE,R.default.Messages.STATUS_INVISIBLE_HELPER)),Y),x(v.MenuGroup,{},void 0,x(v.MenuItem,{id:"switch-account",label:R.default.Messages.SWITCH_ACCOUNTS_MENU_ITEM_TITLE,icon:I.default,showIconFirst:!0,action:M.default},"switch-account",H)))}V.displayName="AccountProfilePopout";function H(e){var t=e.userId,n=e.user,r=e.guildId,o=e.onClose,s=e.onSelect,c=(0,u.useStateFromStores)([b.default],(function(){return b.default.getUser(t)}),[t]),d=(0,u.useStateFromStores)([E.default],(function(){return E.default.getCustomStatusActivity()})),f=G(a.useState(!1),2),p=f[0],v=f[1],y=null!=c?c:n,h=(0,u.useStateFromStores)([g.default],(function(){return null!=y&&null!=g.default.getStreamForUser(y.id)}));a.useEffect((function(){null==c&&function(){e.apply(this,arguments)}()
;function e(){return(e=U(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!=typeof t){e.next=4;break}e.next=3;return(0,l.getUser)(t);case 3:v(!0);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}),[c,t]);if(null==y){p&&(0,i.default)(null!=y,"Unexpected missing user");return null}return x(V,{closePopout:o,user:y,customStatus:d,guildId:r,isApplicationStreaming:h,onClose:o,onSelect:s})}H.displayName="AccountProfilePopoutContainer"},719637:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=m;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=p(n(972247)),i=p(n(956117)),u=n(645758),l=p(n(359150)),s=n(198622),c=n(770348),d=p(n(247001)),f=p(n(342983));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e){o.default.set(s.MULTIACCOUNT_TOOLTIP_SEEN_KEY,"true");null==e||e()}function m(e){var t=e.markAsDismissed;a.useEffect((function(){return function(){h()
;window.removeEventListener("keydown",n)}}),[]);var n=function(e){e.keyCode===c.KeyboardKeys.ESCAPE&&h(t)};window.addEventListener("keydown",n);return y("div",{className:f.default.container},void 0,y(l.default,{className:f.default.icon}),y(u.Text,{className:f.default.title,variant:"text-sm/normal"},void 0,d.default.Messages.MULTI_ACCOUNT_ANNOUNCEMENT_TOOLTIP_TITLE),y(u.Text,{variant:"text-sm/normal",className:f.default.subTitle},void 0,d.default.Messages.MULTI_ACCOUNT_ANNOUNCEMENT_SUBTITLE.format({maxAltAccounts:s.MAX_ACCOUNTS-1})),y(i.default,{look:i.default.Looks.INVERTED,fullWidth:!0,onClick:function(){return h(t)}},void 0,d.default.Messages.GOT_IT),y("div",{className:f.default.pointer}))}m.displayName="MultiAccountCTATooltip"},241505:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){(0,i.openModalLazy)(d(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2
;return Promise.all([n.e(40532),n.e(25108)]).then(n.bind(n,825108));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,e)}));case 5:case"end":return e.stop()}}),e)}))),{onCloseCallback:function(){o.default.dispatch({type:l.ActionTypes.CLEAR_AUTHENTICATION_ERRORS});o.default.dispatch({type:l.ActionTypes.LOGIN_RESET,isMultiAccount:!0})},modalKey:u.SWITCH_ACCOUNTS_MODAL_KEY})};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=(r=n(636602))&&r.__esModule?r:{default:r},i=n(194322),u=n(198622),l=n(770348);function s(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function c(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){c(o,r,a,i,u,"next",e)}function u(e){c(o,r,a,i,u,"throw",e)}i(void 0)}))}}},678620:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useMultiAccountMenuItems=function(){var e=(0,o.useStateFromStores)([s.default],(function(){return s.default.getCurrentUser()})),t=(0,o.useStateFromStores)([l.default],(function(){return l.default.hidePersonalInformation})),n=(0,m.useMultiAccountUsers)().multiAccountUsers,r=n.map((function(n){var r=new u.default(n),a=r.id===(null==e?void 0:e.id),o=n.tokenStatus===h.MultiAccountTokenStatus.INVALID,l=t?null:"#"+r.discriminator;return C(i.MenuItem,{id:r.id,focusedClassName:O.default.focused,
label:function(e){var t=e.isFocused;return C("div",{className:O.default.userMenuItem},void 0,C(p.default,{src:r.getAvatarURL(void 0,40),size:p.default.Sizes.SIZE_24,"aria-label":n.username}),C("div",{className:O.default.userMenuUsername},void 0,C(c.Text,{className:O.default.userMenuText,variant:"text-sm/normal"},void 0,r.toString()),C(c.Text,{className:O.default.userMenuDiscriminator,variant:"text-sm/normal"},void 0,l)),a&&C(d.default,{color:t?g.Colors.WHITE:g.Colors.BRAND_500,backgroundColor:t?g.Colors.BRAND_500:g.Colors.WHITE,width:18,height:18,className:O.default.activeIcon}),o&&C(f.default,{color:g.Colors.STATUS_RED,backgroundColor:g.Colors.WHITE,width:15,height:15,className:O.default.activeIcon}))},action:function(){o?(0,_.default)():function(t){if(t!==(null==e?void 0:e.id)){v.default.track(g.AnalyticEvents.MULTI_ACCOUNT_SWITCH_ATTEMPT,{location:{section:g.AnalyticsSections.PROFILE_POPOUT}});y.switchAccount(t)}}(r.id)}},r.id)}))
;r.push(a.createElement(a.Fragment,null,T,C(i.MenuItem,{id:"manage-accounts",label:E.default.Messages.SWITCH_ACCOUNTS_MANAGE_ACCOUNTS,action:_.default})));return r};var r,a=I(n(667294)),o=n(536211),i=n(145122),u=S(n(759027)),l=S(n(663303)),s=S(n(728429)),c=n(645758),d=S(n(474026)),f=S(n(417184)),p=S(n(628551)),v=S(n(308920)),y=I(n(590886)),h=n(915574),m=n(393742),_=S(n(241505)),g=n(770348),E=S(n(247001)),O=S(n(519276));function S(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function I(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function C(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var T=C(i.MenuSeparator,{})},594570:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ICON_SIZE=void 0;t.ICON_SIZE=64},737050:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.mount=function(){a.default.dispatch({type:o.ActionTypes.NOW_PLAYING_MOUNTED})};t.unmount=function(){a.default.dispatch({type:o.ActionTypes.NOW_PLAYING_UNMOUNTED})};var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(770348)},4865:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=(0,i.useStateFromStoresObject)([d.default,s.default,c.default],(function(){return{nowPlayingCards:d.default.nowPlayingCards,loaded:d.default.loaded,needsRefresh:s.default.needsRefresh(),fetching:s.default.getFetching(),currentUser:c.default.getCurrentUser()}})),t=e.nowPlayingCards,n=e.loaded,r=e.needsRefresh,o=e.fetching,l=e.currentUser;a.useEffect((function(){u.default.wait((function(){return h.mount()}));return function(){return u.default.wait((function(){return h.unmount()}))}}),[null==l?void 0:l.id]);a.useEffect((function(){r&&!o&&N()}),[r,o]);var p=null;if(!n)return P("div",{className:b.default.emptyCard},void 0,R);p=t.length>0?t.map((function(e){var t=e.party;return P(M,{party:t},t.id)})):P("div",{className:b.default.emptyCard},void 0,P(f.Heading,{variant:"heading-md/medium",className:b.default.emptyHeader,level:5},void 0,S.default.Messages.ACTIVITY_FEED_NONE_PLAYING_HEADER),P(y.Text,{color:"none",
className:b.default.emptyText,variant:"text-sm/normal"},void 0,S.default.Messages.ACTIVITY_FEED_NONE_PLAYING_BODY));return a.createElement(a.Fragment,null,p)};var r,a=T(n(667294)),o=I(n(496486)),i=n(536211),u=I(n(636602)),l=T(n(314022)),s=I(n(538983)),c=I(n(728429)),d=I(n(730655)),f=n(772575),p=I(n(160629)),v=I(n(80828)),y=n(645758),h=T(n(737050)),m=I(n(133260)),_=I(n(317134)),g=I(n(863946)),E=I(n(854923)),O=I(n(884809)),S=I(n(247001)),b=I(n(399978));function I(e){return e&&e.__esModule?e:{default:e}}function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}function T(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function A(){A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return A.apply(this,arguments)}function P(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var M=(0,O.default)((function(e){var t=e.party,n=e.onUserContextMenu,r=e.onChannelContextMenu,o=P(_.default,{party:t,onUserContextMenu:n}),i=P(m.default,{party:t,onChannelContextMenu:r}),u=P("div",{},void 0,o,i);return null!=o||null!=i?P(p.default,{
position:p.default.Positions.LEFT,renderPopout:function(e){var n=e.closePopout;return P(E.default,{party:t,close:n})},spacing:8},void 0,(function(e,t){var n=t.isShown;return a.createElement(g.default,A({},e,{className:b.default.itemCard,active:n}),u)})):null})),N=o.default.throttle((function(){return l.fetchUserAffinities(!1)}),3e5),R=P(v.default,{})},133260:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.party,n=e.onChannelContextMenu,r=t.voiceChannels,v=t.currentActivities,y=t.partiedMembers,h=t.applicationStreams,E=t.guildContext,O=[],S=function(e){var t,n,r=O.length;if(0!==r){var a=O[r-1],o=""+(null!==(t=null==e?void 0:e.key)&&void 0!==t?t:""),i=(""+(null!==(n=null==a?void 0:a.key)&&void 0!==n?n:"")).startsWith("game")&&o.startsWith("rich-presence");O.push(_(d.default.Separator,{inset:i},"sep-"+o));O.push(e)}else O.push(e)};r.length>0&&r.forEach((function(e){var t=e.members,r=e.channel,a=e.guild;S(_(d.default.VoiceSection,{
guild:a,channel:r,members:t,partySize:g(t),onChannelContextMenu:n,onGuildClick:function(){(0,l.transitionToGuild)(a.id)}},"voice-"+r.id))}));for(var b,I=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(t.currentActivities);!(b=I()).done;){var C=b.value.activity;if(null!=C){var T=c.createBody(C);if(null!=T){S(T);break}}}
h.length>0&&h.forEach((function(e){var t=e.stream,n=e.streamUser,r=e.activity;S(_(d.default.ApplicationStreamingSection,{guildId:null==E?void 0:E.id,user:n,activity:r,applicationStream:t,onPreviewClick:function(){a.default.selectVoiceChannel(t.channelId);(0,o.watchStreamAndTransitionToStream)(t)}},"application-stream-"+t.ownerId))}));v.forEach((function(e,t){var n=e.activity,a=e.game,o=e.playingMembers,l=e.activityUser;if(null==n||null==n.type)return null;if(v.length>1&&n.type===p.ActivityTypes.PLAYING&&!(0,i.hasRichActivity)(n)&&null!=a){var c,h;S(_(d.default.GameSection,{icon:a.getIconURL(f.ICON_SIZE),name:a.name,partySize:{knownSize:o.length,unknownSize:0,totalSize:o.length},members:o},"game-"+(null!==(c=n.session_id)&&void 0!==c?c:t)+"-"+(null!==(h=n.application_id)&&void 0!==h?h:t)))}else if((0,u.default)(n)){var m,g=new Set(o.map((function(e){return e.id}))),O=null===(m=r.find((function(e){return null!=e})))||void 0===m?void 0:m.channel
;null!=O&&S(_(d.default.EmbeddedActivitySection,{activity:n,participants:g,channel:O,guildId:O.guild_id},"embedded-activity-"+n.application_id))}else if(null==n.assets&&!(0,i.hasRichActivity)(n)||n.type!==p.ActivityTypes.PLAYING)if((0,i.isStreaming)(n)){var b,I=r.length>0&&r[0].members.length>1,C=o.length>1;S(_(d.default.TwitchSection,{guildId:null==E?void 0:E.id,activity:n,user:I||C?l:null,getAssetImage:s.getAssetImage},"streaming-"+(null!==(b=n.session_id)&&void 0!==b?b:t)))}else if((0,i.isListeningOnSpotify)(n)){var T;S(_(d.default.SpotifySection,{activity:n,isSolo:1===y.length,partySize:{knownSize:o.length,unknownSize:0,totalSize:o.length},getAssetImage:s.getAssetImage,members:o},"spotify-"+(null!==(T=n.session_id)&&void 0!==T?T:t)+"-"+l.id))}else if(null==n.assets&&!(0,i.hasRichActivity)(n)||n.type!==p.ActivityTypes.LISTENING){if((0,i.isOnXbox)(n)){var A;S(_(d.default.XboxSection,{title:a.name},"xbox-"+(null!==(A=n.session_id)&&void 0!==A?A:t)))}}else{var P
;S(_(d.default.RichPresenceSection,{activity:n,getAssetImage:s.getAssetImage},"rich-presence-"+(null!==(P=n.session_id)&&void 0!==P?P:t)+"-"+l.id))}else{var M;S(_(d.default.RichPresenceSection,{activity:n,getAssetImage:s.getAssetImage},"rich-presence-"+(null!==(M=n.session_id)&&void 0!==M?M:t)+"-"+l.id))}}));return O.length>0?_(d.default.Body,{},void 0,O):null};h(n(667294));var r,a=v(n(136873)),o=n(123516),i=n(144166),u=v(n(762605)),l=n(95034),s=n(698243),c=h(n(101047)),d=v(n(863946)),f=n(594570),p=n(770348);function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(e,t){var n,r=e.length,a=0;if(null!=t&&null!=t.party&&null!=t.party.size&&t.party.size.length>=2){var o=t.party.size;a=Math.max(o[0]-e.length,0);n=o[1]}else n=r+a;return{knownSize:r,unknownSize:a,totalSize:n}}},101047:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.createBody=function(e){var t,n=e.application_id;if(null==n)return;var r=d[n];if(null!=(null==r?void 0:r.body)&&!1!==(null===(t=r.shouldShow)||void 0===t?void 0:t.call(r,e))){var a=r.body;return c("section",{className:l.default.section},"delegate-"+n,c(a,{activity:e}))}};t.createHeader=function(e){var t,n=e.application_id;if(null==n)return;var r=d[n];if(null!=r&&!1!==(null===(t=r.shouldShow)||void 0===t?void 0:t.call(r,e)))return r.createHeader(e)};t.shouldShowActivity=function(e){var t,n=e.application_id;if(null==n)return!0;var r=d[n];return null==r||!1!==(null===(t=r.shouldShow)||void 0===t?void 0:t.call(r,e))};!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a,o,i=n(248414),u=n(808961),l=(r=n(885836))&&r.__esModule?r:{default:r};function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function c(e,t,n,r){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d=((a={})[u.STAGE_APPLICATION_ID]=new i.StageChannelNowPlayingDelegate,a)},317134:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=m;y(n(667294))
;var r,a=p(n(441143)),o=n(144166),i=p(n(762605)),u=p(n(73393)),l=y(n(101047)),s=p(n(863946)),c=n(594570),d=n(770348),f=p(n(247001));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e){var t=e.party,r=e.onUserContextMenu,p=t.priorityMembers,v=t.guildContext,y=p[0],m=function(e){var t=e.priorityMembers,n=e.partiedMembers,r=new Set(t.map((function(e){return e.user.id}))),a=n.filter((function(e){return!r.has(e.id)})),o=t[0].user.toString(),i=null!=t[1]?t[1].user.toString():null!=a[0]?a[0].toString():null;switch(n.length){case 1:return o;case 2:return f.default.Messages.ACTIVITY_FEED_NOW_PLAYING_HEADER_TWO_KNOWN_ONLY.format({user1:o,user2:i});default:return f.default.Messages.ACTIVITY_FEED_NOW_PLAYING_HEADER_TWO_KNOWN.format({user1:o,user2:i,extras:n.length-2})}}(t),_=function(e){
var t,r=e.priorityMembers,p=e.partiedMembers,v=e.voiceChannels,y=e.currentActivities,m=r.length,_=m+(p.length-m)===1,g=y[0],E=null==g?void 0:g.activity,O=null==g?void 0:g.startedPlayingTime,S={name:null!==(t=null==E?void 0:E.name)&&void 0!==t?t:""};if((0,i.default)(E)&&null!=E)return{subtitle:h(u.default,{start:O,location:u.default.Locations.ACTIVITY_FEED_NEW,messageProps:S}),icon:null};if(_&&null!=g){var b=g.game;if(null==E)return{subtitle:null,icon:null};var I=l.createHeader(E);if(null!=I)return I;switch(E.type){case d.ActivityTypes.PLAYING:return(0,o.isOnXbox)(E)?{subtitle:f.default.Messages.ACTIVITY_FEED_NOW_PLAYING_XBOX,icon:h(s.default.Header.Icon,{src:s.default.Header.Icon.Src.XBOX})}:{subtitle:h(u.default,{start:O,location:u.default.Locations.ACTIVITY_FEED_NEW,messageProps:S}),icon:null!=b?h(s.default.Header.Icon,{src:null!=b.getIconURL(c.ICON_SIZE)?b.getIconURL(c.ICON_SIZE):n(534413)}):null};case d.ActivityTypes.STREAMING:return{
subtitle:f.default.Messages.ACTIVITY_FEED_NOW_STREAMING_TWITCH,icon:null!=b&&null!=b.getIconURL(c.ICON_SIZE)?h(s.default.Header.Icon,{src:b.getIconURL(c.ICON_SIZE)}):null};case d.ActivityTypes.LISTENING:var C;C=(0,o.isListeningOnSpotify)(E)?h(s.default.Header.Icon,{src:s.default.Header.Icon.Src.SPOTIFY}):null!=b.getIconURL(c.ICON_SIZE)?h(s.default.Header.Icon,{src:b.getIconURL(c.ICON_SIZE)}):h(s.default.Header.Icon,{src:n(534413)});return{subtitle:f.default.Messages.ACTIVITY_FEED_NOW_PLAYING_LISTENING.format({name:E.name}),icon:C};case d.ActivityTypes.WATCHING:return{subtitle:f.default.Messages.ACTIVITY_FEED_NOW_PLAYING_WATCHING,icon:null!=b&&null!=b.getIconURL(c.ICON_SIZE)?h(s.default.Header.Icon,{src:b.getIconURL(c.ICON_SIZE)}):null};default:return{subtitle:f.default.Messages.ACTIVITY_FEED_NOW_PLAYING_IN_A_VOICE_CHANNEL,icon:null}}}if(0===y.length){if(v.length>0)return{subtitle:f.default.Messages.ACTIVITY_FEED_NOW_PLAYING_IN_A_VOICE_CHANNEL,icon:null};var T=y[0];if(null!=T){
var A=T.activity;if(null!=A){var P=l.createHeader(A);if(null!=P)return P}if(null!=A&&A.type===d.ActivityTypes.LISTENING)return{subtitle:f.default.Messages.ACTIVITY_FEED_NOW_PLAYING_SPOTIFY,icon:h(s.default.Header.Icon,{src:s.default.Header.Icon.Src.SPOTIFY})}}}else if(1===y.length){var M=y.find((function(e){return null!=e.activity}));if(null==M)throw new Error("Invalid Activity State - AF 2.0: No activity");var N=M.activity,R=M.game,w=M.startedPlayingTime;(0,a.default)(null!=N,"Activity was null somehow");return{subtitle:h(u.default,{start:w,location:u.default.Locations.ACTIVITY_FEED_NEW,messageProps:S}),icon:null!=R&&null!=R.getIconURL(c.ICON_SIZE)?h(s.default.Header.Icon,{src:R.getIconURL(c.ICON_SIZE)}):null}}return{subtitle:f.default.Messages.ACTIVITY_FEED_NOW_PLAYING_MULTIPLE_GAMES,icon:h(s.default.Header.Icon,{src:s.default.Header.Icon.Src.MULTIPLE})}}(t),g=_.subtitle,E=_.icon;return h(s.default.Header,{priorityUser:y,guildId:null==v?void 0:v.id,title:m,subtitle:g,icon:E,
onContextMenu:function(e){return r(e,y.user)}})}m.displayName="NowPlayingHeader"},863946:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=$(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=K(n(294184)),i=K(n(213192)),u=n(536211),l=K(n(675060)),s=n(556470),c=K(n(155502)),d=K(n(516325)),f=K(n(309994)),p=K(n(93392)),v=K(n(853177)),y=K(n(969015)),h=K(n(319879)),m=K(n(663953)),_=K(n(93879)),g=K(n(697749)),E=K(n(678928)),O=K(n(314234)),S=K(n(645923)),b=n(830543),I=K(n(423046)),C=K(n(288356)),T=K(n(728429)),A=K(n(974661)),P=K(n(956117)),M=K(n(16941)),N=K(n(562475)),R=K(n(73393)),w=K(n(427370)),D=n(645758),L=K(n(803949)),k=K(n(11888)),j=K(n(303213)),U=K(n(149982)),G=K(n(628551)),F=K(n(528175)),x=n(698243),W=n(71246),B=K(n(316681)),V=n(770348),H=K(n(247001)),Y=K(n(885836)),z=["children","className"];function K(e){return e&&e.__esModule?e:{default:e}}function $(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return($=function(e){return e?n:t})(e)}function q(){q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}
;return q.apply(this,arguments)}function X(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){(null==t||t>e.length)&&(t=e.length)
;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Z(e,t){Z=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Z(e,t)}function J(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var ee=64,te=160,ne=[14,14,12,12,10,8,6],re=function(e,t){void 0===t&&(t=null);return J(D.Text,{className:(0,o.default)(Y.default.textContent,t),variant:"text-sm/semibold"},void 0,e)};re.displayName="renderSectionTitle";var ae=function(e,t){void 0===t&&(t=null);return J(D.Text,{className:(0,o.default)(Y.default.textContent,t),variant:"text-xs/normal"},void 0,e)};ae.displayName="renderSectionText";var oe=(0,
l.default)((function(e){var t=e.message;return J("div",{className:Y.default.timestamp},void 0,t)})),ie=function(e){var t=e.children;return J("section",{className:Y.default.section},void 0,t)};ie.displayName="Section";var ue=function(e){var t,n=e.inset,r=e.className;return J("div",{className:(0,o.default)(Y.default.separator,(t={},t[Y.default.inset]=n,t),r)})};ue.displayName="Separator";var le=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;Z(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;r.renderTimePlayed=function(){var e,t=this.props.activity,n=t.timestamps;if(null==n||!(0,v.default)(t)||(0,y.default)(t))return null;e=(0,p.default)(t)?J(oe,{timestamps:n}):J(R.default,{start:n.start,end:n.end,location:R.default.Locations.USER_ACTIVITY,className:Y.default.playTime});return ae(e)};r.render=function(){var e,t,r,a=this.props,i=a.activity,u=i.assets,l=i.details,s=i.state,c=i.application_id,d=a.getAssetImage
;return J(ie,{},void 0,J("div",{className:Y.default.activitySection},void 0,null!=u&&0!==Object.keys(u).length?J("div",{className:Y.default.activitySectionAssets},void 0,J("img",{alt:null!==(e=u.large_text)&&void 0!==e?e:"",src:d(c,u.large_image,[te,te]),className:(0,o.default)(Y.default.largeImage,(t={},t[Y.default.largeImageMask]=null!=u.small_image,t))}),null!=u.small_image?J("img",{alt:null!==(r=u.small_text)&&void 0!==r?r:"",src:d(c,u.small_image,[ee,ee]),className:Y.default.smallImage}):null):J("div",{className:Y.default.activitySectionAssets},void 0,J("img",{alt:"",src:n(534413),className:Y.default.largeImage})),J("div",{},void 0,re(null!=l&&""!==l?l:H.default.Messages.USER_ACTIVITY_HEADER_PLAYING),null!=s?ae(s):null,this.renderTimePlayed())))};return t}(a.Component);le.displayName="RichPresenceSection";var se=J("div",{}),ce=function(e){var t,n,r=e.activity,a=r.assets,i=r.details,u=r.state,l=r.application_id,s=e.partySize,c=e.members,d=e.isSolo,f=e.getAssetImage
;return J(ie,{},void 0,J("div",{className:Y.default.spotifySection},void 0,null!=a?J("div",{className:Y.default.activitySectionAssets},void 0,J("img",{alt:null!==(t=a.large_text)&&void 0!==t?t:"",src:f(l,a.large_image,[te,te]),className:(0,o.default)(Y.default.largeImage,Y.default.borderRadius0,(n={},n[Y.default.largeImageMask]=null!=a.small_image,n))}),d?null:J(k.default,{className:Y.default.smallImage,color:V.Colors.SPOTIFY})):se,J("div",{},void 0,null!=i?re(i):null,null!=u?ae(u):null),J(B.default,{minAvatarsShown:d?2:1,partySize:s,members:c})))};ce.displayName="SpotifySection";var de=function(e){var t,r,a=e.activity,i=e.user,u=e.getAssetImage,l=e.guildId,s=a.name,d=a.details,p=a.assets,v=a.application_id;if(null!=p&&(0,h.default)(a)){var y;r=J(A.default,{className:Y.default.twitchSectionPreviewWrapper,aspectRatio:16/9},void 0,J(M.default,{href:(0,f.default)(a),tag:"a",target:"_blank"},void 0,J("img",{alt:null!==(y=p.large_text)&&void 0!==y?y:"",src:u(v,p.large_image,[900,500]),
className:Y.default.twitchSectionPreview}),J("img",{src:n(182105),className:Y.default.twitchSectionPlayButton,alt:""})))}return J(ie,{},void 0,J("div",{className:(0,o.default)((t={},t[Y.default.twitchSectionSimple]=null==i,t[Y.default.twitchSectionFull]=null!=i,t))},void 0,J("img",{alt:"",src:c.default.get(V.PlatformTypes.TWITCH).icon.lightSVG,className:Y.default.twitchSectionIcon}),J("div",{},void 0,re(s),null!=d?ae(d):null),null!=i?J(G.default,{src:i.getAvatarURL(l,24),"aria-label":i.username,className:Y.default.twitchSectionAvatar,size:G.default.Sizes.SIZE_24}):null),r)};de.displayName="TwitchSection";var fe=function(e){var t,n,r=e.guild,i=e.channel,u=e.onGuildClick,l=e.partySize,s=e.members,c=e.onChannelContextMenu,d=a.useRef(null),f=(0,E.default)(i,!0);return J(ie,{},void 0,a.createElement("div",{className:Y.default.voiceSection,ref:d,onContextMenu:function(e){return c(e,i)}},J(M.default,{onClick:u,"aria-hidden":!0,tabIndex:-1},void 0,J("div",{
className:Y.default.voiceSectionAssets},void 0,null!=r.getIconURL(32)?J("img",{alt:"",src:null!==(t=r.getIconURL(32))&&void 0!==t?t:void 0,className:(0,o.default)(Y.default.voiceSectionGuildImage,Y.default.largeImageMask)}):J("div",{className:Y.default.voiceSectionNoGuildImageWrapper},void 0,J("div",{className:Y.default.voiceSectionNoGuildImage,style:{fontSize:null!==(n=ne[r.acronym.length])&&void 0!==n?n:ne[ne.length-1]}},void 0,r.acronym)),J("div",{className:Y.default.voiceSectionIconWrapper},void 0,J(U.default,{className:Y.default.voiceSectionIcon})))),J(M.default,{onClick:u,focusProps:{ringTarget:d}},void 0,J("div",{className:Y.default.voiceSectionDetails},void 0,re(r.toString(),Y.default.voiceSectionText),ae(f,Y.default.voiceSectionText))),J(B.default,{partySize:l,members:s,guildId:r.id})))};fe.displayName="VoiceSection";var pe=function(e){var t=e.title;return J(ie,{},void 0,J("div",{className:Y.default.xboxSection},void 0,J(j.default,{className:Y.default.xboxSectionIcon
}),J("div",{className:Y.default.xboxSectionDetails},void 0,re(t),ae(H.default.Messages.GAME_FEED_ACTIVITY_PLAYING_XBOX))))};pe.displayName="XboxSection";var ve=function(e){var t=e.icon,n=e.name,r=e.partySize,a=e.members;return J(ie,{},void 0,J("div",{className:Y.default.gameSection},void 0,null!=t?J("img",{alt:"",src:t,className:Y.default.gameSectionIcon}):null,J("div",{},void 0,re(n),ae(H.default.Messages.ACTIVITY_FEED_SINGLE_MEMBER_LIST_HEADER.format({memberCount:r.totalSize}))),J(B.default,{partySize:r,members:a})))};ve.displayName="GameSection";var ye=function(e){var t,n=e.activity,r=e.user,a=e.applicationStream,o=e.onPreviewClick,i=e.guildId,u=J(A.default,{className:Y.default.applicationStreamingPreviewWrapper,aspectRatio:16/9},void 0,J(M.default,{onClick:o,className:Y.default.applicationStreamingPreviewSize},void 0,J(S.default,{stream:a,className:Y.default.applicationStreamingPreviewSize}),J("div",{className:Y.default.applicationStreamingHoverWrapper},void 0,J("div",{
className:Y.default.applicationStreamingHoverText},void 0,H.default.Messages.WATCH_STREAM)))),l=null!==(t=(0,m.default)(n,a))&&void 0!==t?t:H.default.Messages.SHARING_SCREEN;return J(ie,{},void 0,J("div",{className:Y.default.applicationStreamingSection},void 0,J(G.default,{size:G.default.Sizes.SIZE_32,src:r.getAvatarURL(i,32),"aria-label":r.username,className:Y.default.applicationStreamingAvatar}),J("div",{},void 0,re(r.toString()),ae(l)),J(F.default,{size:F.default.Sizes.SMALL})),u)};ye.displayName="ApplicationStreamingSection";var he=function(e){var t,n=e.activity,r=e.channel,o=e.guildId,i=e.participants,l=(0,_.default)(),c=X(a.useState(null),2),f=c[0],p=c[1];a.useEffect((function(){null!=n.application_id&&(0,x.getAssetIds)(n.application_id,["embedded_background"]).then((function(e){var t=X(e,1)[0];return p(t)}))}),[n.application_id]);var v=(0,u.useStateFromStoresArray)([T.default,I.default],(function(){return Array.from(i).map((function(e){
return I.default.getId()===e?null:T.default.getUser(e)})).filter(W.isNotNullish)})),y=(0,s.useAnalyticsContext)(),h=C.default.getGame(null!==(t=null==n?void 0:n.application_id)&&void 0!==t?t:"");if(null==h)return null;var m=null!=n.created_at&&n.created_at>0?{start:n.created_at}:void 0,E=(0,x.getAssetImage)(h.id,f,300);return J(ie,{},void 0,J("div",{className:Y.default.embeddedActivityTopRow},void 0,J(N.default,{game:h,size:N.default.Sizes.XSMALL,className:Y.default.embeddedActivityIcon}),J("div",{className:Y.default.embeddedActivityName},void 0,J(D.Text,{variant:"text-sm/semibold"},void 0,h.name)),null!=m?J("div",{className:Y.default.embeddedActivityTimeElapsed},void 0,J(D.Text,{color:"text-muted",variant:"text-sm/normal"},void 0,J(oe,{timestamps:m}))):null),J(A.default,{aspectRatio:16/9},void 0,J("div",{className:Y.default.embeddedActivityPlayerContainer},void 0,null!=E?J("img",{src:E,alt:h.name,className:Y.default.embeddedActivityImage}):null,J("div",{
className:Y.default.embeddedActivityImageOverlay},void 0,J(b.Avatars,{users:v,guildId:o}),J("div",{className:Y.default.embeddedActivityJoinWrapper},void 0,J(P.default,{size:P.default.Sizes.SMALL,onClick:function(e){e.stopPropagation();(0,d.default)({activity:n,currentEmbeddedApplication:l,activityChannelId:r.id,locationObject:y.location,embeddedActivitiesManager:g.default})}},void 0,H.default.Messages.JOIN))))))};he.displayName="EmbeddedActivitySection";var me=(0,i.default)({XBOX:null,SPOTIFY:null,MULTIPLE:null}),_e=function(e){var t,n=e.src,r=e.onClick,a=e.onContextMenu;switch(n){case me.XBOX:t=J(j.default,{className:Y.default.headerIcon,color:V.Colors.PRIMARY_DARK_300});break;case me.SPOTIFY:t=J(k.default,{className:Y.default.headerIcon,color:V.Colors.SPOTIFY});break;case me.MULTIPLE:t=J("div",{className:Y.default.multipleIconWrapper},void 0,J(L.default,{className:(0,o.default)(Y.default.headerIcon,Y.default.multipleIcon),color:V.Colors.PRIMARY_DARK_300}));break;default:t=J("img",{
src:null!=n?n:void 0,alt:"",className:Y.default.headerIcon})}return null!=r||null!=a?J(M.default,{onClick:r,className:(0,o.default)(null!=r?Y.default.clickableIcon:""),onContextMenu:a},void 0,t):t};_e.Src=me;var ge=function(e){var t=e.priorityUser,n=e.title,r=e.subtitle,a=e.icon,i=e.onContextMenu,u=e.guildId;return J("header",{className:null!=a?Y.default.headerFull:Y.default.headerSimple},void 0,J(G.default,{src:t.user.getAvatarURL(u,32),"aria-label":t.user.username,size:G.default.Sizes.SIZE_32,className:Y.default.headerAvatar,status:t.status,onContextMenu:i}),J("div",{className:Y.default.headerDetails},void 0,J(D.Text,{className:(0,o.default)(Y.default.textContent),variant:"text-md/semibold"},void 0,n),J(D.Text,{color:"header-secondary",className:Y.default.textContent,variant:"text-sm/normal"},void 0,r)),null!=a?a:null)};ge.displayName="NowPlayingHeader";ge.Icon=_e;var Ee=function(e){var t=e.children;return J(w.default,{inset:!0,padded:!1,className:Y.default.body},void 0,t)}
;Ee.displayName="NowPlayingBody";var Oe=function(e){var t=e.children,n=e.className,r=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,z);return J(O.default,{},void 0,a.createElement(w.default,q({className:(0,o.default)(n,Y.default.wrapper),padded:!0},r),t))};Oe.displayName="NowPlayingItem";Oe.Header=ge;Oe.Body=Ee;Oe.Separator=ue;Oe.VoiceSection=fe;Oe.GameSection=ve;Oe.RichPresenceSection=le;Oe.XboxSection=pe;Oe.SpotifySection=ce;Oe.TwitchSection=de;Oe.ApplicationStreamingSection=ye;Oe.EmbeddedActivitySection=he;var Se=Oe;t.default=Se},352636:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=E;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=n(923387),i=h(n(284382)),u=h(n(305081)),l=h(n(717681)),s=h(n(8549)),c=n(772575),d=h(n(582945)),f=h(n(4865)),p=n(770348),v=h(n(247001)),y=h(n(716875));function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}
var g=_(f.default,{});function E(){var e=(0,a.useStateFromStores)([s.default],(function(){return s.default.hasConsented(p.Consents.PERSONALIZATION)}))?[]:[o.DismissibleContent.NOW_PLAYING_CONSENT_CARD];return _(i.default,{section:p.AnalyticsSections.ACTIVE_NOW_COLUMN},void 0,_("div",{className:y.default.container},void 0,_(d.default,{className:y.default.scroller},void 0,_(c.Heading,{variant:"heading-lg/medium",className:y.default.header,level:3},void 0,v.default.Messages.GAME_FEED_CURRENT_HEADER_TITLE),_(u.default,{contentTypes:e},void 0,(function(e){var t=e.visibleContent,n=e.markAsDismissed;if(t===o.DismissibleContent.NOW_PLAYING_CONSENT_CARD)return _(l.default,{className:y.default.consentCard,markAsDismissed:n})})),g)))}E.displayName="NowPlayingSidebar"},316681:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=y(n(496486)),i=y(n(257175)),u=y(n(711195)),l=y(n(414068)),s=y(n(160629)),c=y(n(298408)),d=y(n(628551)),f=n(71246),p=n(770348),v=y(n(877001));function y(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(){m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return m.apply(this,arguments)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=function(e){var t=e.member,n=e.empty,r=e.analyticsContext,o=e.guildId;if(n)return _("div",{className:v.default.partyMemberEmpty});if(null==t)return _("div",{className:v.default.partyMemberUnknown},void 0,_(c.default,{className:v.default.partyMemberUnknownIcon}));var i={location:m({},r.location,{object:p.AnalyticsObjects.AVATAR})};return _("div",{className:v.default.partyMemberKnown},void 0,_(s.default,{preload:function(){return(0,u.default)(t.id,t.getAvatarURL(o,80),{guildId:o})},renderPopout:function(e){return a.createElement(l.default,m({},e,{userId:t.id,analyticsParams:i}))},position:s.default.Positions.LEFT},void 0,(function(e){
return a.createElement(d.default,m({},e,{src:t.getAvatarURL(o,24),"aria-label":t.username,size:d.default.Sizes.SIZE_24,className:v.default.partyMember}))})))};g.displayName="PartyMember";var E=(0,i.default)(g),O=function(e){var t=e.partySize,n=e.members,r=e.minAvatarsShown,a=void 0===r?1:r,i=e.maxAvatarsShown,u=void 0===i?2:i,l=e.guildId,s=t.unknownSize,c=t.totalSize,d=t.knownSize;if(c<a)return null;for(var p=(0,o.default)(n).filter(f.isNotNullish).take(u).map((function(e){return _(E,{member:e,guildId:l},e.id)})).value(),y=0;y<s&&p.length<u;y++)p.push(_(E,{guildId:l},"unknown-member-"+y));for(var h=c-d-s,m=0;m<h&&p.length<u;m++)p.push(_(E,{empty:!0,guildId:l},"empty-member-"+m));var g=Math.max(Math.min(c-p.length,99),0);if(1===g){var O=n[u];p.push(_(E,{member:O,guildId:l},O.id))}return _("div",{className:v.default.wrapper},void 0,_("div",{className:v.default.partyMembers},void 0,p,g>1?_("div",{className:v.default.partyMemberOverflow},void 0,"+",g):null))};O.displayName="PartyAvatars"
;var S=O;t.default=S},854923:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=h;v(n(667294));var r,a=v(n(145122)),o=f(n(729661)),i=f(n(984399)),u=f(n(485820)),l=f(n(602613)),s=f(n(709037)),c=f(n(568235)),d=f(n(247001));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e){var t=e.party,n=e.close,r=e.onSelect,f=(0,u.default)(t),p=(0,c.default)(t),v=(0,s.default)(t),h=(0,l.default)(t),m=(0,o.default)(t),_=(0,i.default)(t);return y(a.default,{navId:"now-playing-menu",onClose:n,"aria-label":d.default.Messages.GENERIC_ACTIONS_MENU_LABEL,onSelect:r},void 0,f,y(a.MenuGroup,{},void 0,p,v),y(a.MenuGroup,{},void 0,h),y(a.MenuGroup,{},void 0,m),_)}h.displayName="NowPlayingCardMenu"},27916:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.NowPlayingUnknownMemberMenuItem=f;t.default=d;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e}
;var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=l(n(294184)),o=l(n(252149)),i=l(n(628551)),u=l(n(446926));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,
_owner:null}}function d(e){var t=e.user,n=e.status,r=e.isFocused,a=e.guildId;return c("div",{className:u.default.memberItem},void 0,c(i.default,{src:t.getAvatarURL(a,24),className:u.default.avatar,"aria-label":t.username,size:i.default.Sizes.SIZE_24,status:n,statusColor:r?"currentColor":void 0}),c(o.default,{user:t,hideDiscriminator:!0}))}d.displayName="NowPlayingMemberMenuItem";function f(e){var t=e.label;return c("div",{className:u.default.memberItem},void 0,c("div",{className:(0,a.default)(u.default.avatar,u.default.unknown)}),c("div",{},void 0,t))}f.displayName="NowPlayingUnknownMemberMenuItem"},729661:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){for(var t,n=e.currentActivities.length>1,r=D(e),i=function(e){var t=e.currentActivities,n=a.useContext(E.AnalyticsContext);return(0,o.useStateFromStoresArray)([_.default,m.default,p.default,g.default,h.default],(function(){return t.filter((function(e){return!(0,f.default)(e.activity)
})).map((function(e){var t=e.activity,r=e.game,a=m.default.getActiveLibraryApplication(r.id);return N({},e,{libraryApplication:a,canJoin:null!=t&&(0,d.default)(t,b.ActivityFlags.JOIN)&&t.type===b.ActivityTypes.PLAYING,canPlay:(0,O.isLaunchable)({LibraryApplicationStore:m.default,LaunchableGameStore:p.default,DispatchApplicationStore:g.default,ConnectedAppsStore:h.default,applicationId:r.id,branchId:null!=a?a.branchId:null}),isLaunching:p.default.launchingGames.has(r.id),isRunning:_.default.getRunningVerifiedApplicationIds().includes(r.id),location:n.location})}))}),[t])}(e),u=[],l=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(i);!(t=l()).done;){var s=t.value,c=s.activity;null!=c&&null!=c.type&&u.push(L(s,n),k(s,n))}return[r].concat(u)};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=n(536211),i=C(n(312260)),u=C(n(136873)),l=C(n(226800)),s=C(n(155502)),c=n(144166),d=C(n(351093)),f=C(n(762605)),p=C(n(703124)),v=n(145122),y=C(n(513266)),h=C(n(504762)),m=C(n(191839)),_=C(n(834162)),g=C(n(432310)),E=n(308920),O=n(539331),S=n(409873),b=n(770348),I=C(n(247001));function C(e){return e&&e.__esModule?e:{default:e}}function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function P(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function M(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){P(o,r,a,i,u,"next",e)}function u(e){P(o,r,a,i,u,"throw",e)}i(void 0)}))}}function N(){N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return N.apply(this,arguments)}function R(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var w=s.default.get(b.PlatformTypes.XBOX).name;function D(e){var t=e.currentActivities,n=(0,o.useStateFromStores)([y.default],(function(){return y.default.getAccounts().some((function(e){return e.type===s.default.get(b.PlatformTypes.XBOX).type}))})),r=t.some((function(e){var t=e.activity;return(0,c.isOnXbox)(t)}));return n||!r?null:R(v.MenuItem,{id:"xbox-connect",action:function(){return l.default.open(b.UserSettingsSections.CONNECTIONS)},
label:I.default.Messages.USER_ACTIVITY_CONNECT_PLATFORM.format({platform:w})})}D.displayName="useXboxConnectItem";function L(e,t){var n=e.canJoin,r=e.activity,a=e.activityUser;if(!n||null==r)return null;function o(){return(o=M(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=r){e.next=2;break}return e.abrupt("return");case 2:e.next=4;return i.default.sendActivityInviteUser({type:b.ActivityActionTypes.JOIN_REQUEST,userId:a.id,activity:r,location:b.AnalyticsLocations.PROFILE_POPOUT});case 4:null!=(t=e.sent)&&u.default.selectPrivateChannel(t.id);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return R(v.MenuItem,{id:"join-"+r.session_id,label:t?I.default.Messages.USER_ACTIVITY_ACTION_ASK_TO_JOIN_USER.format({name:a.toString()}):I.default.Messages.USER_ACTIVITY_ACTION_ASK_TO_JOIN,action:function(){return o.apply(this,arguments)}})}L.displayName="renderAskToJoinItem";function k(e,t){
var n=e.activity,r=e.game,a=e.libraryApplication,o=e.location,i=e.canPlay,u=e.isRunning,l=e.isLaunching;if(!i||null==n)return null;var s=u?I.default.Messages.ACTIVITY_FEED_POPOUT_APPLICATION_RUNNING.format({name:r.name}):l?I.default.Messages.ACTIVITY_FEED_POPOUT_APPLICATION_LAUNCHING.format({name:r.name}):void 0;return R(v.MenuItem,{id:"play-"+n.session_id,action:function(){(0,S.playApplication)(r.id,a,{analyticsParams:{location:N({},o,{object:b.AnalyticsObjects.LIST_ITEM})}})},label:t?I.default.Messages.APPLICATION_CONTEXT_MENU_LAUNCH_APPLICATION_NAME.format({name:r.name}):I.default.Messages.APPLICATION_CONTEXT_MENU_LAUNCH,subtext:s})}k.displayName="renderPlayGameItem"},984399:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.priorityMembers,n=e.partiedMembers,r=e.currentActivities,a=e.guildContext,u=new Set(t.map((function(e){return e.user.id}))),l=n.filter((function(e){return!u.has(e.id)})),s=o.useMemo((function(){
var e=r.flatMap((function(e){return e.playingMembers})).map((function(e){return e.id}));return n.filter((function(t){return!e.includes(t.id)}))}),[n,r]);if(r.length<=1&&0===s.length){var d,f;return p(i.MenuGroup,{label:n.length>1?c.default.Messages.ACTIVITY_FEED_SINGLE_MEMBER_LIST_HEADER.format({memberCount:n.length}):void 0},void 0,_(t,l,n.length,null!==(d=null===(f=r[0])||void 0===f?void 0:f.activity)&&void 0!==d?d:void 0,null==a?void 0:a.id))}var v=r.map((function(e){var n=e.playingMembers,r=e.game,o=e.activity,l=new Set(n.map((function(e){return e.id})));return p(i.MenuGroup,{label:r.name+" - "+n.length},void 0,_(t.filter((function(e){var t=e.user;return l.has(t.id)})),n.filter((function(e){return!u.has(e.id)})),n.length,null!=o?o:void 0,null==a?void 0:a.id))})),y=s.map((function(e){return e.id})),g=p(i.MenuGroup,{label:c.default.Messages.ACTIVITY_FEED_OTHER_MEMBER_LIST_HEADER+" - "+s.length},void 0,_(t.filter((function(e){var t=e.user;return y.includes(t.id)
})),s.filter((function(e){return!u.has(e.id)})),s.length,void 0,null==a?void 0:a.id));return[].concat((E=v,function(e){if(Array.isArray(e))return m(e)}(E)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(E)||h(E)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[g]);var E};var r,a,o=f(n(667294)),i=n(145122),u=n(910992),l=f(n(27916)),s=n(770348),c=(r=n(247001))&&r.__esModule?r:{default:r};function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function p(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(){v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return v.apply(this,arguments)}function y(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n)
;if(Array.isArray(e)||(n=h(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e,t,n,r,a){for(var d,f=[],h=function(){var e=d.value,t=e.user,n=e.status;f.push(p(i.MenuItem,{id:t.id,keepItemStyles:!0,render:function(e){return o.createElement(l.default,v({},e,{user:t,status:n,guildId:a}))},action:function(){return(0,u.openUserProfileModal)({userId:t.id,
analyticsLocation:{section:s.AnalyticsSections.ACTIVITY_FEED_NOW_PLAYING_CONTEXT_MENU}})}}))},m=y(e);!(d=m()).done;)h();for(var _,g=function(){var e=_.value;f.push(p(i.MenuItem,{id:e.id,keepItemStyles:!0,render:function(t){return o.createElement(l.default,v({},t,{user:e,guildId:a}))},action:function(){return(0,u.openUserProfileModal)({userId:e.id,analyticsLocation:{section:s.AnalyticsSections.ACTIVITY_FEED_NOW_PLAYING_CONTEXT_MENU}})}}))},E=y(t);!(_=E()).done;)g();var O=n-f.length;O>0&&f.push(p(i.MenuItem,{id:"unknown-members-"+(null==r?void 0:r.session_id),render:function(e){return o.createElement(l.NowPlayingUnknownMemberMenuItem,v({},e,{label:c.default.Messages.GAME_FEED_UNKNOWN_PLAYERS.format({count:O})}))}}));return f}},485820:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=h;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=f(n(709403)),i=f(n(844784)),u=n(145122),l=n(540671),s=n(308920),c=n(770348),d=f(n(247001));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}
function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function h(e,t){void 0===t&&(t=!1);var n=e.priorityMembers,r=e.partiedMembers,f=a.useContext(s.AnalyticsContext),p=n.map((function(e){return e.user.id})),h=1===r.length&&1===n.length,m=n.length-r.length>0;if(!((h||t)&&!m)||0===p.length)return null;return v(u.MenuItem,{id:"message",action:function(){o.default.openPrivateChannel(p).then((function(t){return i.default.trackWithMetadata(c.AnalyticEvents.ACTIVITY_FEED_DM_VISITED,y({source:y({},f.location,{object:c.AnalyticsObjects.LIST_ITEM}),channel_id:t,recipient_id:"string"==typeof p?p:p[0],af_recently_played:!1},(0,l.getPartyMetadata)(e)))}))},label:d.default.Messages.SEND_DM})}h.displayName="useNowPlayingMessageItem"},602613:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){
var t=e.currentActivities,n=e.isSpotifyActivity,r=t[0],o=(0,a.default)(null==r?void 0:r.activity,null==r?void 0:r.activityUser);return n?o:null};var r,a=(r=n(619476))&&r.__esModule?r:{default:r}},709037:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){return e.applicationStreams.map((function(e){var t=e.stream,n=e.streamUser;return c(i.MenuItem,{id:"spectate-"+t.ownerId,action:function(){a.default.selectVoiceChannel(t.channelId);(0,o.watchStreamAndTransitionToStream)(t)},label:u.default.Messages.WATCH_USER_STREAM.format({streamerName:n.toString()})})}))};!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=l(n(136873)),o=n(123516),i=n(145122),u=l(n(247001));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},568235:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=a.useContext(f.AnalyticsContext),n=e.voiceChannels[0],r=(0,o.useStateFromStores)([c.default],(function(){
return null!=n&&c.default.can(p.Permissions.CONNECT,n.channel)}));if(null==n)return null;return[m(l.MenuItem,{id:"join-voice",action:function(){(0,s.transitionToGuild)(n.guild.id);i.default.selectVoiceChannel(n.channel.id);u.default.trackWithMetadata(p.AnalyticEvents.ACTIVITY_FEED_VOICE_CHANNEL_VISITED,_({source:_({},t.location,{object:p.AnalyticsObjects.LIST_ITEM}),guild_id:n.guild.id,channel_id:n.channel.id},(0,d.getPartyMetadata)(e)))},label:v.default.Messages.ACTIVITY_FEED_NOW_PLAYING_ACTION_JOIN_CHANNEL,disabled:!r}),m(l.MenuItem,{id:"goto-server",action:function(){(0,s.transitionToGuild)(n.guild.id);u.default.trackWithMetadata(p.AnalyticEvents.ACTIVITY_FEED_GUILD_VISITED,_({source:_({},t.location,{object:p.AnalyticsObjects.LIST_ITEM}),guild_id:n.guild.id,af_recently_played:!1},(0,d.getPartyMetadata)(e)))},label:v.default.Messages.ACTIVITY_FEED_NOW_PLAYING_ACTION_GO_TO_SERVER})]};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=y(n(136873)),u=y(n(844784)),l=n(145122),s=n(95034),c=y(n(689389)),d=n(540671),f=n(308920),p=n(770348),v=y(n(247001));function y(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u
}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(){_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return _.apply(this,arguments)}},884809:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){return(0,i.default)(function(t){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;p(e,t)}(i,t);function i(){return t.apply(this,arguments)||this}var l=i.prototype;l.render=function(){return r.createElement(e,f({},this.props,{onMessageUser:this.handleMessageUser,onUserContextMenu:this.handleUserContextMenu,onGuildContextMenu:this.handleGuildContextMenu,onChannelContextMenu:this.handleChannelContextMenu}))};l.handleMessageUser=function(e,t){return a.default.openPrivateChannel(t.id)}
;l.handleUserContextMenu=function(e,t,a){(0,o.openContextMenuLazy)(e,d(regeneratorRuntime.mark((function e(){var a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(31626),n.e(1759),n.e(56159)]).then(n.bind(n,856159));case 2:a=e.sent;o=a.default;return e.abrupt("return",(function(e){return r.createElement(o,f({},e,{user:t}))}));case 5:case"end":return e.stop()}}),e)}))),{onClose:a})};l.handleGuildContextMenu=function(e,t){(0,o.openContextMenuLazy)(e,d(regeneratorRuntime.mark((function e(){var a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(38698),n.e(53734)]).then(n.bind(n,853734));case 2:a=e.sent;o=a.default;return e.abrupt("return",(function(e){return r.createElement(o,f({},e,{guild:t}))}));case 5:case"end":return e.stop()}}),e)}))))};l.handleChannelContextMenu=function(e,t){var a=u.default.getGuild(t.getGuildId());if(null==a)return null;(0,
o.openContextMenuLazy)(e,d(regeneratorRuntime.mark((function e(){var o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(14560),n.e(44700)]).then(n.bind(n,44700));case 2:o=e.sent;i=o.default;return e.abrupt("return",(function(e){return r.createElement(i,f({},e,{channel:t,guild:a}))}));case 5:case"end":return e.stop()}}),e)}))))};return i}(r.Component))};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=l(n(709403)),o=n(378158),i=l(n(257175)),u=l(n(30098));function l(e){return e&&e.__esModule?e:{default:e}}
function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function c(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){c(o,r,a,i,u,"next",e)}function u(e){c(o,r,a,i,u,"throw",e)}i(void 0)}))}}function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}function p(e,t){p=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return p(e,t)}},520310:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.setNewUser=function(e){a.default.wait((function(){return a.default.dispatch({type:o.ActionTypes.NUF_NEW_USER,newUserType:e})}))};t.setNewUserFlowCompleted=function(){
a.default.wait((function(){return a.default.dispatch({type:o.ActionTypes.NUF_COMPLETE})}))};var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(770348)},754949:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.NewUserTypes=t.NUF_VALUE_PROPS_MODAL_KEY=t.NUF_NOTIFICATION_MODAL_KEY=t.NUF_IN_APP_EDUCATION_KEY=t.NUF_DISCOVERABILITY_MODAL_KEY=void 0;var n;t.NewUserTypes=n;!function(e){e[e.MARKETING_UNCLAIMED=0]="MARKETING_UNCLAIMED";e[e.INVITE_UNCLAIMED=1]="INVITE_UNCLAIMED";e[e.ORGANIC_REGISTERED=2]="ORGANIC_REGISTERED";e[e.ORGANIC_REGISTERED_GUILD_TEMPLATE=3]="ORGANIC_REGISTERED_GUILD_TEMPLATE"}(n||(t.NewUserTypes=n={}));t.NUF_NOTIFICATION_MODAL_KEY="nuf-notification-modal-key";t.NUF_DISCOVERABILITY_MODAL_KEY="nuf-discoverability-modal-key";t.NUF_IN_APP_EDUCATION_KEY="nuf-in-app-education-modal-key";t.NUF_VALUE_PROPS_MODAL_KEY="nuf-value-props-modal-key"},322033:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=u(n(536211)),o=u(n(636602)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var s=null;var c=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(e){var t;s=null!==(t=null==e?void 0:e.type)&&void 0!==t?t:null};n.getType=function(){return s};n.getState=function(){return{type:s}};return t}(a.default.PersistedStore);c.displayName="NewUserStore";c.persistKey="nuf";var d=new c(o.default,((r={})[i.ActionTypes.NUF_NEW_USER]=function(e){var t=e.newUserType;s=t},r[i.ActionTypes.NUF_COMPLETE]=function(){s=null},r));t.default=d},763840:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.NUF_MODAL_KEY=t.NUFSlides=void 0;var n;t.NUFSlides=n;!function(e){e.AGE_GATE="age-gate";e.CHOOSE_TEMPLATE="choose-template"
;e.CUSTOMIZE_GUILD="customize-server";e.CHANNEL_PROMPT="channel-prompt";e.JOIN_GUILD="join-server";e.CREATION_INTENT="creation-intent";e.COMPLETE="complete"}(n||(t.NUFSlides=n={}));t.NUF_MODAL_KEY="nuf-refresh-modal"},900996:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=M(n(667294)),o=A(n(636602)),i=A(n(177230)),u=M(n(160866)),l=M(n(583490)),s=A(n(678875)),c=A(n(885986)),d=n(508079),f=M(n(131629)),p=A(n(250650)),v=A(n(30098)),y=A(n(790597)),h=A(n(728429)),m=n(194322),_=M(n(71246)),g=n(864489),E=M(n(520310)),O=A(n(322033)),S=n(754949),b=n(763840),I=n(770348),C=n(27577),T=n(33989);function A(e){return e&&e.__esModule?e:{default:e}}function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(P=function(e){return e?n:t})(e)}function M(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=P(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function N(){N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return N.apply(this,arguments)}function R(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function w(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){R(o,r,a,i,u,"next",e)}function u(e){R(o,r,a,i,u,"throw",e)}i(void 0)}))}}function D(e,t){D=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return D(e,t)}function L(e){return function(e){if(Array.isArray(e))return k(e)}(e)||function(e){
if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function j(){null!=r&&(0,m.closeModal)(r)}var U=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;D(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var i=t.prototype;i._initialize=function(){
o.default.subscribe(I.ActionTypes.CONNECTION_OPEN,this.handleConnectionOpen);o.default.subscribe(I.ActionTypes.LOGOUT,j)};i._terminate=function(){o.default.unsubscribe(I.ActionTypes.CONNECTION_OPEN,this.handleConnectionOpen);o.default.unsubscribe(I.ActionTypes.LOGOUT,j)};i.handleConnectionOpen=function(){var e=O.default.getType();if(null!=e){switch(e){case S.NewUserTypes.INVITE_UNCLAIMED:c.default.flowStart(T.FlowType.INVITE,T.RegistrationSteps.NUF_STARTED);break;case S.NewUserTypes.ORGANIC_REGISTERED:c.default.flowStart(T.FlowType.ORGANIC,T.RegistrationSteps.NUF_STARTED);break;case S.NewUserTypes.MARKETING_UNCLAIMED:c.default.flowStart(T.FlowType.ORGANIC_MARKETING,T.RegistrationSteps.NUF_STARTED)}var t=!1,o=y.default.getGuildId();if(e===S.NewUserTypes.INVITE_UNCLAIMED){var i=v.default.getGuild(o);if(null==i?void 0:i.hasVerificationGate()){t=!0;(0,d.fetchWelcomeScreen)(i.id)}}var A=function(){return 0===p.default.totalGuilds&&!g.isPlatformEmbedded},P=u.userNeedsAgeGate();!function(e){
var t=function(){E.setNewUserFlowCompleted();c.default.flowStep(T.FlowType.ANY,T.RegistrationSteps.NUF_COMPLETE,!0)};L(e).reverse().forEach((function(e){var n=t;t=function(){e.predicate()?e.open(n):n()}}));t()}([{key:"Unified NUF Modal",open:function(e){return M.apply(this,arguments)},predicate:function(){return A()&&!C.CONFERENCE_MODE_ENABLED}},{key:"New User Age Gate",open:l.openNewUserAgeGateModal,predicate:function(){return P&&!A()&&!C.CONFERENCE_MODE_ENABLED}},{key:"Claim Account Modal",open:function(e){return l.openClaimAccountModal(g.isPlatformEmbedded,e)},predicate:function(){var e;return!t&&null!=h.default.getCurrentUser()&&!(null===(e=h.default.getCurrentUser())||void 0===e?void 0:e.isClaimed())&&!C.CONFERENCE_MODE_ENABLED}},{key:"Verification Gate with Claim Account",open:function(e){return(0,s.default)(o,e)},predicate:function(){var e;return t&&!(null===(e=h.default.getCurrentUser())||void 0===e?void 0:e.isClaimed())&&!C.CONFERENCE_MODE_ENABLED}},{key:"Guild Welcome Modal",
open:function(e){return(0,m.openModalLazy)(w(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(58095).then(n.bind(n,365760));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,N({},e,{guildId:o}))}));case 5:case"end":return e.stop()}}),e)}))),{onCloseCallback:e})},predicate:function(){return null!=o&&null!=f.default.get(o)&&f.default.get(o)!==f.NO_WELCOME_SCREEN}}])}function M(){return(M=w(regeneratorRuntime.mark((function e(t){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=function(e){switch(e){case b.NUFSlides.AGE_GATE:c.default.flowStep(T.FlowType.ANY,T.RegistrationSteps.AGE_GATE);break;case b.NUFSlides.CHOOSE_TEMPLATE:c.default.flowStep(T.FlowType.ANY,T.CreateGuildSteps.GUILD_TEMPLATES);break;case b.NUFSlides.CUSTOMIZE_GUILD:c.default.flowStep(T.FlowType.ANY,T.CreateGuildSteps.GUILD_CREATE);break
;case b.NUFSlides.CHANNEL_PROMPT:c.default.flowStep(T.FlowType.ANY,T.CreateGuildSteps.CHANNEL_PROMPT);break;case b.NUFSlides.JOIN_GUILD:c.default.flowStep(T.FlowType.ANY,T.CreateGuildSteps.JOIN_GUILD);break;case b.NUFSlides.CREATION_INTENT:c.default.flowStep(T.FlowType.ANY,T.CreateGuildSteps.CREATION_INTENT);break;case b.NUFSlides.COMPLETE:c.default.flowStep(T.FlowType.ANY,T.CreateGuildSteps.SUCCESS);break;case null:break;default:_.assertNever(e)}};e.next=3;return(0,m.openModalLazy)(w(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(62884),n.e(69156),n.e(91948)]).then(n.bind(n,91948));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,N({},e,{onSlideChange:o}))}));case 5:case"end":return e.stop()}}),e)}))),{onCloseRequest:I.NOOP,onCloseCallback:t,modalKey:r});case 3:r=e.sent;case 4:case"end":return e.stop()}}),e)
})))).apply(this,arguments)}};return t}(i.default));t.default=U},625946:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.filterCategories=function(e,t,n,r){var l,s=new Set(n);null!=r&&s.add(r.id);var c={null:[],_categories:[]},d=((l={id:t.id,count:t.count})[o.GUILD_SELECTABLE_CHANNELS_KEY]=t[o.GUILD_SELECTABLE_CHANNELS_KEY].filter((function(e){return s.has(e.channel.id)})),l[o.GUILD_VOCAL_CHANNELS_KEY]=t[o.GUILD_VOCAL_CHANNELS_KEY].filter((function(e){return s.has(e.channel.id)})),l[i.ChannelTypes.GUILD_CATEGORY]=[],l);t[i.ChannelTypes.GUILD_CATEGORY].forEach((function(t){var n=t.channel;"null"===n.id&&(c.null=e.null.filter((function(e){return s.has(e.channel.id)})));c[n.id]=e[n.id].filter((function(e){return s.has(e.channel.id)}))}));c._categories=e._categories.filter((function(e){return"null"===e.channel.id||c[e.channel.id].length>0}));t[i.ChannelTypes.GUILD_CATEGORY].forEach((function(e){var t=e.channel
;"null"!==t.id&&0===c[t.id].length?delete c[t.id]:d[i.ChannelTypes.GUILD_CATEGORY].push(e)}));(0,a.default)(c._categories,c).forEach(u);return{filteredCategories:c,filteredChannels:d}};var r,a=(r=n(770337))&&r.__esModule?r:{default:r},o=n(517286),i=n(770348);function u(e,t){e.index=t}},361673:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Step=t.COLLAPSED_PAYMENT_BREADCRUMB_STEPS=void 0;t.errorToStep=function(e){if(null!=e){if(!(e instanceof a.BillingError)){d.error(e);throw new Error("Unexpected error type")}if(e.hasCardError())return c.CREDIT_CARD_INFORMATION;if(e.hasAddressError())return c.ADDRESS}return null};t.getLabelForStep=function(e){switch(e){case c.PLAN_SELECT:return u.default.Messages.BILLING_STEP_SELECT_PLAN;case c.PAYMENT_TYPE:return u.default.Messages.BILLING_STEP_PAYMENT;case c.AWAITING_PURCHASE_TOKEN_AUTH:case c.REVIEW:return u.default.Messages.BILLING_STEP_REVIEW;case c.SHOP:return u.default.Messages.BILLING_STEP_SHOP
;case c.ADD_PAYMENT_STEPS:return u.default.Messages.BILLING_STEP_PAYMENT;case c.PAYMENT_REQUEST_INFORMATION:return u.default.Messages.BILLING_STEP_PAYMENT_INFO;case c.CREDIT_CARD_INFORMATION:return u.default.Messages.PAYMENT_SOURCE_INFORMATION;case c.ADDRESS:return u.default.Messages.BILLING_ADDRESS;case c.PAYPAL_INFORMATION:return u.default.Messages.PAYMENT_SOURCE_PAYPAL_DETAILS;case c.SOFORT_INFORMATION:return u.default.Messages.PAYMENT_SOURCE_SOFORT_INFO;case c.PRZELEWY24_INFORMATION:return u.default.Messages.PAYMENT_SOURCE_PRZELEWY24_INFO}throw new Error("Unexpected step: "+e)};t.usePurchaseStateForStep=function(e,t,n){r.useEffect((function(){null!=e&&e!==c.REVIEW&&t!==i.PurchaseState.WAITING&&t!==i.PurchaseState.COMPLETED&&n(i.PurchaseState.WAITING)}),[e,t,n])};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(327269),o=l(n(791548)),i=n(534564),u=l(n(247001));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}var c,d=new o.default("PaymentSteps");t.Step=c;!function(e){e.PAYMENT_TYPE="payment_type";e.CREDIT_CARD_INFORMATION="credit_card_information";e.PAYPAL_INFORMATION="paypal_information";e.SOFORT_INFORMATION="sofort_information";e.PRZELEWY24_INFORMATION="przelewy24_information";e.PAYMENT_REQUEST_INFORMATION="payment_request_information";e.ADDRESS="address";e.AWAITING_AUTHENTICATION="awaiting_authentication";e.SKU_SELECT="sku_select";e.PLAN_SELECT="plan_select"
;e.PREMIUM_UPSELL="premium_upsell";e.PREMIUM_GUILD_UPSELL="premium_guild_upsell";e.REVIEW="review";e.CONFIRM="confirm";e.CLAIM_FREE_SKU="claim_free_sku";e.SKU_PREVIEW="sku_preview";e.LOADING_PAYMENT_SOURCES="loading_payment_sources";e.SHOP="shop";e.PROMOTION_INFO="promotion_info";e.AWAITING_PURCHASE_TOKEN_AUTH="awaiting_purchase_token_auth";e.ADD_PAYMENT_STEPS="add_payment_steps"}(c||(t.Step=c={}));var f=new Set([c.CREDIT_CARD_INFORMATION,c.PAYMENT_REQUEST_INFORMATION,c.PAYPAL_INFORMATION,c.ADDRESS,c.CLAIM_FREE_SKU,c.SKU_PREVIEW,c.PREMIUM_UPSELL,c.SOFORT_INFORMATION,c.PRZELEWY24_INFORMATION]);t.COLLAPSED_PAYMENT_BREADCRUMB_STEPS=f},534564:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PurchaseState=void 0;var n;t.PurchaseState=n;!function(e){e.WAITING="WAITING";e.PURCHASING="PURCHASING";e.FAIL="FAIL";e.COMPLETED="COMPLETED"}(n||(t.PurchaseState=n={}))},61045:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.STATUS_HEADER_HEIGHT=t.RELATIONSHIP_COUNT_ANIMATION_THRESHOLD=t.PEOPLE_LIST_ITEM_HEIGHT=void 0;t.RELATIONSHIP_COUNT_ANIMATION_THRESHOLD=64;t.PEOPLE_LIST_ITEM_HEIGHT=62;t.STATUS_HEADER_HEIGHT=24},334200:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=c(n(294184)),u=c(n(16941)),l=c(n(730977)),s=c(n(969261));function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}
function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}!function(e){e[e.ACCEPT=0]="ACCEPT";e[e.DENY=1]="DENY";e[e.DEFAULT=2]="DEFAULT"}(a||(a={}));function v(e){var t=e.icon,n=e.tooltip,r=e.onClick,c=e.actionType,d=void 0===c?a.DEFAULT:c,v=e.shouldHighlight;return p(l.default,{text:n},void 0,(function(e){var l;return o.createElement(u.default,f({},e,{"aria-label":n,onClick:r,className:(0,
i.default)(s.default.actionButton,(l={},l[s.default.actionAccept]=d===a.ACCEPT,l[s.default.actionDeny]=d===a.DENY,l[s.default.highlight]=v,l))}),p(t,{className:s.default.icon}))}))}v.displayName="ActionButton";v.ActionTypes=a;var y=v;t.default=y},518319:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=d(n(184608)),i=n(688388),u=d(n(767695)),l=n(770348),s=d(n(247001)),c=d(n(184338));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=p(o.default,{});function y(){return p("header",{className:c.default.header},void 0,p(i.FormTitle,{tag:i.FormTitle.Tags.H2,className:c.default.title},void 0,s.default.Messages.ADD_FRIEND),v)}y.displayName="AddFriendHeader";var h=p(y,{});function m(){return p(a.Fragment,{},void 0,h,p("div",{className:c.default.emptyState},void 0,p(u.default,{type:l.FriendsSections.ADD_FRIEND})))}m.displayName="AddFriend";var _=m;t.default=_},89411:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=_;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=y(n(237923)),i=n(910992),u=y(n(523356)),l=n(308920),s=y(n(334200)),c=y(n(906507)),d=y(n(739148)),f=n(770348),p=y(n(247001)),v=y(n(685904));function y(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3
;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e){var t=e.user,n=e.key,r=e.isFocused,y=a.useContext(l.AnalyticsContext),h=function(e){e.stopPropagation();o.default.removeRelationship(t.id,{location:"Friends"})};return m(c.default,{isFocused:r,onClick:function(){return(0,i.openUserProfileModal)({userId:t.id,analyticsLocation:y.location})},user:t},n,(function(e){return m("div",{className:v.default.listItemContents},void 0,m(d.default,{user:t,hovered:e,status:f.StatusTypes.UNKNOWN,subText:p.default.Messages.BLOCKED}),m(s.default,{icon:u.default,actionType:s.default.ActionTypes.DENY,tooltip:p.default.Messages.UNBLOCK,onClick:h,shouldHighlight:e}))}))}_.displayName="BlockedRow"},717681:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{
value:!0});t.default=_;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=y(n(294184)),o=n(642230),i=y(n(226800)),u=y(n(956117)),l=n(772575),s=y(n(427370)),c=n(645758),d=n(770348),f=n(583551),p=y(n(247001)),v=y(n(95898));function y(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e){var t=e.className,n=e.markAsDismissed;return m(s.default,{className:(0,a.default)(v.default.card,t)},void 0,m(l.Heading,{variant:"heading-md/medium",className:v.default.header,level:3},void 0,p.default.Messages.NOW_PLAYING_GDPR_HEADER),m(c.Text,{variant:"text-sm/normal"},void 0,p.default.Messages.NOW_PLAYING_GDPR_BODY.format({onPrivacyClick:function(){return i.default.open(d.UserSettingsSections.PRIVACY_AND_SAFETY)}})),m("div",{className:v.default.buttonContainer},void 0,m(u.default,{size:u.default.Sizes.SMALL,onClick:function(){return(0,o.setConsents)([d.Consents.PERSONALIZATION],[])}},void 0,p.default.Messages.ACTIVITY_FEED_CARD_GDPR_BUTTON_YES),m(u.default,{color:u.default.Colors.PRIMARY,size:u.default.Sizes.SMALL,
onClick:function(){return n(f.ContentDismissActionType.DISMISS)},look:u.default.Looks.LINK},void 0,p.default.Messages.NO_THANKS)))}_.displayName="ConsentCard"},724603:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=N(n(667294)),o=P(n(496486)),i=n(536211),u=P(n(709403)),l=n(378158),s=P(n(237923)),c=N(n(145122)),d=n(139982),f=P(n(644263)),p=P(n(635014)),v=n(645758),y=P(n(37985)),h=P(n(301927)),m=P(n(502197)),_=n(194322),g=P(n(334200)),E=P(n(906507)),O=P(n(666561)),S=P(n(739148)),b=n(770348),I=n(474477),C=n(376293),T=P(n(247001)),A=P(n(684753));function P(e){return e&&e.__esModule?e:{default:e}}function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(M=function(e){return e?n:t})(e)}function N(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=M(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function R(e,t){R=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return R(e,t)}function w(){w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return w.apply(this,arguments)}function D(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,
props:t,_owner:null}}function L(e){var t=e.user,n=e.onSelect;var r=function(){s.default.removeRelationship(t.id,{location:"Friends"})},o=(0,i.useStateFromStores)([p.default],(function(){return p.default.supports(C.Features.VIDEO)}));return D(c.default,{navId:"friend-row","aria-label":T.default.Messages.USER_ACTIONS_MENU_LABEL,onClose:l.closeContextMenu,onSelect:n},void 0,o?D(c.MenuItem,{id:"start-video-call",label:T.default.Messages.START_VIDEO_CALL,action:function(){u.default.openPrivateChannel(t.id,!0,!0)}}):null,D(c.MenuItem,{id:"start-voice-call",label:T.default.Messages.START_VOICE_CALL,action:function(){u.default.openPrivateChannel(t.id,!0)}}),D(c.MenuItem,{id:"remove-friend",label:T.default.Messages.REMOVE_FRIEND,action:function(){(0,_.openModal)((function(e){return a.createElement(m.default,w({header:T.default.Messages.REMOVE_FRIEND_TITLE.format({name:t.toString()}),confirmText:T.default.Messages.REMOVE_FRIEND,cancelText:T.default.Messages.CANCEL,onConfirm:r},e),D(v.Text,{
variant:"text-md/normal"},void 0,T.default.Messages.REMOVE_FRIEND_BODY.format({name:t.toString()})))}))},color:I.MenuItemColor.DANGER}))}L.displayName="ActionsPopout";var k=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;R(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=e.call.apply(e,[this].concat(r))||this).peopleListItemRef=a.createRef();t.state={isActiveRow:!1};t.handleOpenPrivateChannel=function(e){var n=t.props.user;e.stopPropagation();var r=o.default.find(f.default.getMutablePrivateChannels(),(function(e){return e.type===b.ChannelTypes.DM&&e.getRecipientId()===n.id}));null!=r?(0,d.transitionTo)(b.Routes.CHANNEL(b.ME,r.id)):u.default.openPrivateChannel(n.id)};t.handleOpenActionsMenu=function(e){var n=t.props.user;(0,l.openContextMenu)(e,(function(e){return a.createElement(L,w({},e,{user:n}))}),{onClose:function(){t.setState({isActiveRow:!1})}});t.setState({isActiveRow:!0})};return t}
var n=t.prototype;n.componentWillLeave=function(e){null!=this.peopleListItemRef.current&&this.peopleListItemRef.current.componentWillLeave(e)};n.componentWillEnter=function(e){null!=this.peopleListItemRef.current&&this.peopleListItemRef.current.componentWillEnter(e)};n.render=function(){var e=this,t=this.props,n=t.user,r=t.isFocused,o=t.activities,i=t.applicationStream,u=t.status,s=t.isMobile,c=this.state.isActiveRow;return a.createElement(E.default,{ref:this.peopleListItemRef,isFocused:r,isActive:c,user:n,onOtherHover:function(){return c?null:(0,l.closeContextMenu)()},onClick:this.handleOpenPrivateChannel},(function(t){return D("div",{className:A.default.listItemContents},void 0,D(S.default,{user:n,status:u,isMobile:s,subText:D(O.default,{hovered:t,activities:o,applicationStream:i,status:u}),hovered:t}),D("div",{className:A.default.actions},void 0,D(g.default,{icon:y.default,tooltip:T.default.Messages.SEND_DM,onClick:e.handleOpenPrivateChannel,shouldHighlight:t}),D(g.default,{
icon:h.default,tooltip:T.default.Messages.MORE,onClick:e.handleOpenActionsMenu,shouldHighlight:t})))}))};return t}(a.PureComponent);k.displayName="FriendRow";var j=k;t.default=j},767695:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.FriendsSearchStatus=void 0;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=v(n(74854)),u=v(n(536211)),l=v(n(871778)),s=v(n(956117)),c=v(n(737705)),d=n(770348),f=v(n(247001)),p=v(n(303649));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t){h=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return h(e,t)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}t.FriendsSearchStatus=a;!function(e){e.SECTION_NO_RESULTS="SECTION_NO_RESULTS"}(a||(t.FriendsSearchStatus=a={}));var _=Object.freeze({SECTION_ALL:{lightSrc:n(607603),darkSrc:n(74700),width:376,height:162,renderContent:function(e){return m(o.Fragment,{},void 0,m(c.default.Text,{note:f.default.Messages.FRIENDS_EMPTY_STATE_ALL}),m(s.default,{className:p.default.button,onClick:e
},void 0,f.default.Messages.ADD_FRIEND))}},SECTION_ONLINE:{lightSrc:n(688224),darkSrc:n(376354),width:421,height:218,renderContent:function(){return m(c.default.Text,{note:f.default.Messages.FRIENDS_EMPTY_STATE_ONLINE})}},SECTION_BLOCKED:{lightSrc:n(399898),darkSrc:n(492623),width:433,height:232,renderContent:function(){return m(c.default.Text,{note:f.default.Messages.FRIENDS_EMPTY_STATE_BLOCKED})}},SECTION_PENDING:{lightSrc:n(540579),darkSrc:n(96972),width:415,height:200,renderContent:function(){return m(c.default.Text,{note:f.default.Messages.FRIENDS_EMPTY_STATE_PENDING})}},SECTION_SUGGESTIONS:{lightSrc:n(540579),darkSrc:n(96972),width:415,height:200,renderContent:function(){return m(c.default.Text,{note:f.default.Messages.FRIENDS_EMPTY_STATE_SUGGESTIONS})}},SECTION_NO_RESULTS:{lightSrc:n(688224),darkSrc:n(376354),width:421,height:218,renderContent:function(){return m(c.default.Text,{note:f.default.Messages.FRIEND_REQUEST_NO_RESULTS_FOUND})}}});var g=function(e){
var t=e.theme,n=f.default.Messages.FRIENDS_EMPTY_STATE_ALL,r=_.SECTION_ALL;return m(o.Fragment,{},void 0,m(c.default,{theme:t},void 0,m(c.default.Image,{width:r.width,height:r.height,lightSrc:r.lightSrc,darkSrc:r.darkSrc}),m(c.default.Text,{note:n})))};g.displayName="AddFriendEmpty";var E=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;h(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).state={opacity:new i.default.Value(1)};t.componentWillEnter=function(e){t.state.opacity.setValue(0);i.default.timing(t.state.opacity,{toValue:1,duration:250}).start(e)};t.componentWillLeave=function(e){i.default.timing(t.state.opacity,{toValue:0,duration:250}).start(e)};return t}t.prototype.render=function(){var e=this.props,t=e.type,n=e.onClick,r=e.theme,o={opacity:this.state.opacity},u=function(e){switch(e){case d.FriendsSections.ADD_FRIEND:case d.FriendsSections.ALL:
return _.SECTION_ALL;case d.FriendsSections.ONLINE:return _.SECTION_ONLINE;case d.FriendsSections.PENDING:return _.SECTION_PENDING;case d.FriendsSections.SUGGESTIONS:return _.SECTION_SUGGESTIONS;case d.FriendsSections.BLOCKED:return _.SECTION_BLOCKED;case a.SECTION_NO_RESULTS:return _.SECTION_NO_RESULTS;default:throw new Error("FriendsEmptyState: Invalid empty state")}}(t);return t===d.FriendsSections.ADD_FRIEND?m(i.default.div,{className:p.default.friendsEmpty,style:o},void 0,m(g,{theme:r})):m(i.default.div,{className:p.default.friendsEmpty,style:o},void 0,m(c.default,{theme:r},void 0,m(c.default.Image,{width:u.width,height:u.height,lightSrc:u.lightSrc,darkSrc:u.darkSrc}),u.renderContent(n)))};return t}(o.PureComponent);E.displayName="FriendsEmptyState";var O=u.default.connectStores([l.default],(function(){return{theme:l.default.theme}}),{forwardRef:!0})(E);t.default=O},539417:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=g;var r,a=function(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=h(n(237923)),i=n(910992),u=h(n(992193)),l=h(n(259530)),s=n(308920),c=h(n(334200)),d=h(n(906507)),f=h(n(739148)),p=n(770348),v=h(n(247001)),y=h(n(679396));function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(e){var t=e.user,n=e.type,r=e.status,h=e.isFocused,m=a.useContext(s.AnalyticsContext),g=function(e){e.stopPropagation();o.default.removeRelationship(t.id,{location:"Friends"})},E=function(e){e.stopPropagation();o.default.addRelationship({userId:t.id,context:{location:"Friends"}})},O=r===p.StatusTypes.OFFLINE?p.StatusTypes.UNKNOWN:r,S=n===p.RelationshipTypes.PENDING_INCOMING?v.default.Messages.INCOMING_FRIEND_REQUEST:v.default.Messages.OUTGOING_FRIEND_REQUEST;return _(d.default,{isFocused:h,user:t,onClick:function(){return(0,i.openUserProfileModal)({userId:t.id,analyticsLocation:m.location})}},void 0,(function(e){var r=n===p.RelationshipTypes.PENDING_INCOMING?a.createElement(a.Fragment,null,_(c.default,{icon:u.default,actionType:c.default.ActionTypes.ACCEPT,
tooltip:v.default.Messages.FRIEND_REQUEST_ACCEPT,onClick:E,shouldHighlight:e}),_(c.default,{icon:l.default,actionType:c.default.ActionTypes.DENY,tooltip:v.default.Messages.FRIEND_REQUEST_IGNORE,onClick:g,shouldHighlight:e})):_(c.default,{icon:l.default,actionType:c.default.ActionTypes.DENY,tooltip:v.default.Messages.FRIEND_REQUEST_CANCEL,onClick:g,shouldHighlight:e});return _("div",{className:y.default.listItemContents},void 0,_(f.default,{user:t,hovered:e,status:O,subText:S,className:y.default.userInfo}),_("div",{className:y.default.actions},void 0,r))}))}g.displayName="PendingRow"},424359:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=T(n(667294)),o=I(n(294184)),i=n(536211),u=I(n(99694)),l=I(n(284382)),s=I(n(235879)),c=I(n(290629)),d=I(n(106605)),f=I(n(949898)),p=I(n(665759)),v=I(n(89411)),y=I(n(724603)),h=T(n(767695)),m=I(n(539417)),_=I(n(662632)),g=I(n(634634)),E=I(n(67993)),O=n(770348),S=I(n(247001)),b=I(n(65234));function I(e){
return e&&e.__esModule?e:{default:e}}function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}function T(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function A(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function P(){P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return P.apply(this,arguments)}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function R(e){var t=e.sectionFilter,n=(0,i.useStateFromStoresObject)([d.default],(function(){return d.default.getState()})),r=n.rows,I=n.section,C=(0,i.useStateFromStores)([f.default],(function(){return f.default.isFocused()})),T=(0,i.useStateFromStores)([c.default],(function(){return c.default.getRelationshipCount()})),N=M(a.useState((function(){for(var e={},t=0,n=Object.values(O.FriendsSections);t<n.length;t++){e[n[t]]=""}return e})),2),R=N[0],w=N[1];var D=a.useCallback((function(e){var n;w(P({},R,((n={})[t]=e,n)))}),[R,t]),L=a.useCallback((function(){var e;w(P({},R,((e={})[t]="",e)))}),[R,t]),k=r.filter(t,R[t]);if(0===k.length&&""===R[t])return A("div",{className:b.default.emptyStateContainer},void 0,A(h.default,{
type:t,onClick:function(){u.default.setSection(O.FriendsSections.ADD_FRIEND)}},I));var j=[k],U=0===k.length&&""!==R[t];return A(l.default,{section:O.AnalyticsSections.FRIENDS_LIST},void 0,A(p.default,{className:(0,o.default)(b.default.searchBar,U?b.default.searchEmptyState:null),query:R[t],onChange:D,onClear:L,size:p.default.Sizes.MEDIUM}),A("div",{className:b.default.SectionTitle},void 0,A(g.default,{title:function(){var e=k.length;switch(t){case O.FriendsSections.ONLINE:return S.default.Messages.FRIENDS_ONLINE_HEADER.format({online:e.toString()});case O.FriendsSections.PENDING:return S.default.Messages.FRIENDS_PENDING_HEADER.format({count:e.toString()});case O.FriendsSections.SUGGESTIONS:return S.default.Messages.FRIENDS_FRIEND_SUGGESTIONS_HEADER.format({count:e.toString()});case O.FriendsSections.BLOCKED:return S.default.Messages.FRIENDS_BLOCKED_HEADER.format({count:e.toString()});default:return S.default.Messages.FRIENDS_ALL_HEADER.format({count:e.toString()})}}()})),U?A("div",{
className:b.default.emptyStateContainer},void 0,A(h.default,{type:h.FriendsSearchStatus.SECTION_NO_RESULTS},I)):A(_.default,{relationshipCount:T,statusSections:j,renderRow:function(e){switch(t){case O.FriendsSections.BLOCKED:return a.createElement(v.default,P({},e,{isFocused:C}));case O.FriendsSections.PENDING:return a.createElement(m.default,P({},e,{isFocused:C}));case O.FriendsSections.SUGGESTIONS:return a.createElement(E.default,P({},e,{isFocused:C}));case O.FriendsSections.ONLINE:case O.FriendsSections.ALL:default:return a.createElement(y.default,P({},e,{isFocused:C}))}},searchQuery:R[t],useReducedMotion:s.default.useReducedMotion}))}R.displayName="PeopleList";var w=R;t.default=w},906507:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=f(n(294184)),i=f(n(74854)),u=n(798628),l=n(378158),s=f(n(314234)),c=n(61045),d=f(n(833151));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}
function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function h(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){h(o,r,a,i,u,"next",e)}function u(e){h(o,r,a,i,u,"throw",e)}i(void 0)}))}}function _(e,t){_=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _(e,t)}var g=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;_(e,t)}(t,e);function t(){for(var t,r=arguments.length,o=new Array(r),u=0;u<r;u++)o[u]=arguments[u];(t=e.call.apply(e,[this].concat(o))||this).state={height:new i.default.Value(c.PEOPLE_LIST_ITEM_HEIGHT),opacity:new i.default.Value(1),hovered:!1,isContextMenuActive:!1}
;t.handleMouseEnter=function(){var e=t.props,n=e.isFocused,r=e.isActive,a=e.onOtherHover,o=t.state.isContextMenuActive;t.setState({hovered:n});!n||r||o||null==a||a()};t.handleMouseLeave=function(){t.setState({hovered:!1})};t.handleContextMenu=function(e,r){t.setState({isContextMenuActive:!0});(0,l.openContextMenuLazy)(e,m(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(31626),n.e(1759),n.e(56159)]).then(n.bind(n,856159));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return a.createElement(o,y({},e,{user:r}))}));case 5:case"end":return e.stop()}}),e)}))),{onClose:function(){t.setState({isContextMenuActive:!1})}})};return t}var r=t.prototype;r.componentWillLeave=function(e){i.default.parallel([i.default.timing(this.state.opacity,{toValue:0,duration:200}),i.default.timing(this.state.height,{toValue:0,duration:200})]).start(e)};r.componentWillEnter=function(e){
this.state.opacity.setValue(0);this.state.height.setValue(0);i.default.parallel([i.default.timing(this.state.opacity,{toValue:1,duration:200}),i.default.timing(this.state.height,{toValue:c.PEOPLE_LIST_ITEM_HEIGHT,duration:200})]).start(e)};r.render=function(){var e=this,t=this.state,n=t.height,r=t.opacity,l=t.hovered,c=t.isContextMenuActive,f=this.props,p=f.children,h=f.user,m=f.onClick,_=f.isActive;return v(u.ListNavigatorItem,{id:h.id},void 0,(function(t){var u;return v(s.default,{offset:{left:-8,right:-8}},void 0,a.createElement(i.default.div,y({className:(0,o.default)(d.default.peopleListItem,(u={},u[d.default.active]=_||c,u)),onContextMenu:function(t){return e.handleContextMenu(t,h)},onMouseEnter:e.handleMouseEnter,onMouseLeave:e.handleMouseLeave,onClick:null!=m?m:void 0,style:{height:n,opacity:r}},t),p(l||_||c)))}))};return t}(a.PureComponent);g.displayName="PeopleListItem";var E=g;t.default=E},662632:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.default=function(e){var t=e.relationshipCount,n=e.statusSections,r=e.renderRow,u=e.searchQuery,l=e.useReducedMotion;return t>=i.RELATIONSHIP_COUNT_ANIMATION_THRESHOLD?s(a.default,{statusSections:n,renderRow:r,searchQuery:u}):s(o.default,{statusSections:n,renderRow:r,searchQuery:u,useReducedMotion:l})};!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=u(n(390389)),o=u(n(104889)),i=n(61045);function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},390389:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=v(n(667294)),o=v(n(798628)),i=n(536211),u=f(n(235879)),l=n(521358),s=n(61045),c=f(n(65234)),d=["ref"];function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(){h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return h.apply(this,arguments)}function m(e){
var t=e.statusSections,n=e.renderRow,r=e.searchQuery,f=function(e){return 0===t[e].length?0:s.STATUS_HEADER_HEIGHT+16},p=function(e){var r=e.section,a=e.row,o=t[r];if(null==o||null==a)return null;var i=o[a];return null==i?null:n(i)},v=(0,i.useStateFromStores)([u.default],(function(){return u.default.keyboardModeEnabled})),m=a.useRef(null),_=a.useCallback((function(){return new Promise((function(e){var t=m.current;if(null==t)return e();t.scrollToTop({callback:function(){return requestAnimationFrame((function(){return e()}))}})}))}),[]),g=a.useCallback((function(){return new Promise((function(e){var t=m.current;if(null==t)return e();t.scrollToBottom({callback:function(){return requestAnimationFrame((function(){return e()}))}})}))}),[]),E=a.useCallback((function(e){var t=document.querySelector(e),n=m.current;null!=t&&null!=n&&n.scrollIntoViewNode({node:t,padding:8,callback:function(){return null==t?void 0:t.focus()}})}),[]),O=(0,o.default)({id:"people-list",isEnabled:v,scrollToStart:_,
scrollToEnd:g,setFocus:E});return y(o.ListNavigatorProvider,{navigator:O},void 0,y(o.ListNavigatorContainer,{},void 0,(function(e){var n=e.ref,o=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,d);return a.createElement(l.ListAuto,h({ref:function(e){var t;m.current=e;n.current=null!==(t=null==e?void 0:e.getScrollerNode())&&void 0!==t?t:null},sectionHeight:f,renderRow:p,rowHeight:s.PEOPLE_LIST_ITEM_HEIGHT,sections:t.map((function(e){return""!==r&&0===e.length?e.length+1:e.length})),className:c.default.peopleList},o))})))}m.displayName="PeopleListSectionedLazy";var _=m;t.default=_},104889:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=v(n(667294)),o=v(n(798628)),i=n(536211),u=f(n(550024)),l=f(n(235879)),s=n(582945),c=f(n(65234)),d=["ref"];function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3]
;t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function _(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){m(o,r,a,i,u,"next",e)}function u(e){m(o,r,a,i,u,"throw",e)}i(void 0)}))}}function g(e){var t=e.statusSections,n=e.renderRow,r=e.searchQuery,f=e.useReducedMotion,p=(0,i.useStateFromStores)([l.default],(function(){return l.default.keyboardModeEnabled})),v=(0,o.default)({id:"people",isEnabled:p,scrollToStart:function(){return _(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},scrollToEnd:function(){return _(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){
for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()}}),m=t.map((function(e,t){return f||""!==r?h("div",{},t,e.map(n)):h(u.default,{transitionAppear:!1,component:"div"},t,e.map(n))}));return h(o.ListNavigatorProvider,{navigator:v},void 0,h(o.ListNavigatorContainer,{},void 0,(function(e){var t=e.ref,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,d);return a.createElement(s.ScrollerAuto,y({ref:t,className:c.default.peopleList},n),m)})))}g.displayName="PeopleListSectionedNonLazy";var E=g;t.default=E},547403:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=A(n(667294)),o=n(370405),i=n(536211),u=A(n(588136)),l=C(n(99694)),s=C(n(677520)),c=C(n(463024)),d=C(n(992634)),f=C(n(352636)),p=n(887299),v=C(n(871778)),y=C(n(106605)),h=A(n(186465)),m=C(n(652047)),_=n(598671),g=n(518802),E=C(n(518319)),O=C(n(424359)),S=n(770348),b=C(n(247001)),I=C(n(342894));function C(e){return e&&e.__esModule?e:{default:e}}function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}function A(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function P(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var M=P(c.default.Divider,{});function N(){return P("div",{className:I.default.inviteToolbar},void 0,P(d.default,{tooltip:b.default.Messages.NEW_GROUP_DM}),M)}N.displayName="HeaderToolbar";var R=P(o.Helmet,{title:"Discord"}),w=P(N,{}),D=P(c.default.Icon,{icon:m.default,"aria-hidden":!0}),L=P(c.default.Divider,{}),k=P(E.default,{}),j=P(f.default,{});function U(e){var t=e.initialSection;a.useEffect((function(){u.setHomeLink(S.Routes.FRIENDS);(0,p.trackAppUIViewed)("friends")}));a.useEffect((function(){null!=t&&l.default.setInitialSection(t)}),[t]);var n=(0,
i.useStateFromStores)([v.default],(function(){return v.default.theme})),r=(0,i.useStateFromStoresObject)([y.default],(function(){return y.default.getState()})),o=r.section,d=r.pendingCount,f=(0,i.useStateFromStoresObject)([s.default],(function(){return s.default.getSuggestionCount()}));return P("div",{className:I.default.container},void 0,R,P(c.default,{className:(0,g.getThemeClass)(n),toolbar:w},void 0,D,P(c.default.Title,{},void 0,b.default.Messages.FRIENDS),L,P(h.default,{"aria-label":b.default.Messages.FRIENDS,selectedItem:o,type:h.Types.TOP_PILL,onItemSelect:function(e){l.default.setSection(e)},className:I.default.tabBar},void 0,P(h.Item,{id:S.FriendsSections.ONLINE,className:I.default.item},void 0,b.default.Messages.FRIENDS_SECTION_ONLINE),P(h.Item,{id:S.FriendsSections.ALL,className:I.default.item},void 0,b.default.Messages.FRIENDS_SECTION_ALL),P(h.Item,{id:S.FriendsSections.PENDING,className:I.default.item,"aria-label":b.default.Messages.FRIENDS_SECTION_PENDING
},void 0,b.default.Messages.FRIENDS_SECTION_PENDING,d>0?P(_.NumberBadge,{count:d,className:I.default.badge,style:{paddingRight:0}}):null),f>0?P(h.Item,{id:S.FriendsSections.SUGGESTIONS,className:I.default.item,"aria-label":b.default.Messages.FRIENDS_SECTION_SUGGESTIONS},void 0,b.default.Messages.FRIENDS_SECTION_SUGGESTIONS,P(_.NumberBadge,{count:f,className:I.default.badge,style:{paddingRight:0}})):null,P(h.Item,{id:S.FriendsSections.BLOCKED,className:I.default.item},void 0,b.default.Messages.BLOCKED),P(h.Item,{"aria-label":b.default.Messages.FRIENDS_SECTION_ADD_FRIEND,className:I.default.item,color:S.Colors.STATUS_GREEN_600,id:S.FriendsSections.ADD_FRIEND},void 0,P("span",{"aria-hidden":"true"},void 0,b.default.Messages.FRIENDS_SECTION_ADD_FRIEND)))),P("div",{className:I.default.tabBody},void 0,P(h.Panel,{id:o,className:I.default.peopleColumn},void 0,o===S.FriendsSections.ADD_FRIEND?k:P(O.default,{sectionFilter:o})),P("div",{className:I.default.nowPlayingColumn},void 0,j)))}
U.displayName="PeoplePage";var G=U;t.default=G},634634:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=s;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=i(n(325908)),o=i(n(858162));function i(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function s(e){var t=e.title;return l(a.default,{className:o.default.title},void 0,t)}s.displayName="SectionTitle"},666561:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=u(n(433473)),o=n(873838),i=u(n(78080));function u(e){return e&&e.__esModule?e:{
default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=function(e){var t=e.hovered,n=e.activities,r=e.applicationStream,u=e.status;return n.length>0?s(a.default,{className:i.default.activity,textClassName:i.default.text,emojiClassName:i.default.customStatusEmoji,activities:n,applicationStream:r,animate:t}):s("div",{className:i.default.text},void 0,(0,o.humanizeStatus)(u))};t.default=c},67993:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=E
;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=m(n(237923)),i=m(n(651473)),u=n(910992),l=m(n(992193)),s=m(n(259530)),c=n(308920),d=m(n(334200)),f=m(n(906507)),p=m(n(739148)),v=n(770348),y=m(n(247001)),h=m(n(380625));function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(e){var t=e.user,n=e.nickname,r=e.status,m=e.isFocused,_=a.useContext(c.AnalyticsContext),E=function(e){null==e||e.stopPropagation();o.default.addRelationship({userId:t.id,context:{location:"Friends"},type:void 0,friendToken:void 0,fromFriendSuggestion:!0})},O=function(e){null==e||e.stopPropagation();i.default.ignore(t.id)},S=r===v.StatusTypes.OFFLINE?v.StatusTypes.UNKNOWN:r;return g(f.default,{isFocused:m,user:t,onClick:function(){return(0,u.openUserProfileModal)({userId:t.id,analyticsLocation:_.location})}},void 0,(function(e){var r=a.createElement(a.Fragment,null,g(d.default,{icon:l.default,actionType:d.default.ActionTypes.ACCEPT,tooltip:y.default.Messages.FRIEND_REQUEST_ACCEPT,onClick:E,shouldHighlight:e}),g(d.default,{
icon:s.default,actionType:d.default.ActionTypes.DENY,tooltip:y.default.Messages.FRIEND_REQUEST_IGNORE,onClick:O,shouldHighlight:e}));return g("div",{className:h.default.listItemContents},void 0,g(p.default,{user:t,hovered:e,status:S,subText:n,className:h.default.userInfo}),g("div",{className:h.default.actions},void 0,r))}))}E.displayName="SuggestionRow"},739148:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=c(n(294184)),o=n(536211),i=c(n(252149)),u=c(n(435160)),l=c(n(290629)),s=c(n(107793))
;function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e){var t,n=e.user,r=e.hovered,c=e.subText,d=e.status,p=e.isMobile,v=e.className,y=(0,o.useStateFromStores)([l.default],(function(){return l.default.getNickname(n.id)}));return f("div",{className:(0,a.default)(s.default.userInfo,v,(t={},t[s.default.hovered]=r,t))},void 0,f(u.default,{user:n,className:s.default.avatar,animate:r,status:d,isMobile:p}),f("div",{
className:s.default.text},void 0,f(i.default,{nick:y,user:n,className:s.default.discordTag,usernameClass:s.default.username,discriminatorClass:s.default.discriminator,botClass:s.default.botTag}),f("div",{className:s.default.subtext},void 0,c)))}p.displayName="UserInfo";var v=p;t.default=v},864062:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=s(n(536211)),i=s(n(636602)),u=n(914392),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c(e,t)}var d=(0,u.getDefaultCountryCode)();function f(e){var t,n=e.countryCode;null!=n&&(d=null!==(t=(0,u.getCountryCodeByAlpha2)(n))&&void 0!==t?t:(0,u.getDefaultCountryCode)())}var p=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;c(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(e){
null!=e&&(a=e.selectedCountryCode)};n.getUserAgnosticState=function(){return{selectedCountryCode:a}};n.getCountryCode=function(){return null!=a?a:d};return t}(o.default.DeviceSettingsStore);p.displayName="PhoneStore";p.persistKey="PhoneStore";var v=new p(i.default,((r={})[l.ActionTypes.PHONE_SET_COUNTRY_CODE]=function(e){var t=e.countryCode;a=t},r[l.ActionTypes.CONNECTION_OPEN]=f,r[l.ActionTypes.SET_LOCATION_METADATA]=f,r));t.default=v},745203:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.showAchievementToast=function(e,t){var n=(0,u.getPoggermodeAchievementData)(e);if(null==n)return;(0,i.showToast)((0,o.createToast)(d.default.Messages.POGGERMODE_ACHIEVEMENTS,o.ToastType.CUSTOM,{position:c.ToastPosition.BOTTOM,component:v(l.default,{achievement:n,unlocked:t}),duration:6e3}))};t.unlockAchievement=function(e){a.default.dirtyDispatch({type:s.ActionTypes.POGGERMODE_ACHIEVEMENT_UNLOCK,achievementId:e})};!function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=f(n(636602)),o=n(767019),i=n(143586),u=n(114592),l=f(n(817793)),s=n(770348),c=n(658616),d=f(n(247001));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},358091:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=d(n(536211)),o=d(n(636602)),i=d(n(423046)),u=n(745203),l=d(n(54147)),s=d(n(4590)),c=n(770348);function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){f=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return f(e,t)}function p(){p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return p.apply(this,arguments)}var v={unlockedAchievements:{}},y=p({},v);var h=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;f(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(e){this.waitFor(i.default,s.default)
;var t=null!=e?e:p({},v);for(var n in t)y[n]=t[n]};n.getState=function(){return y};n.getAllUnlockedAchievements=function(){return y.unlockedAchievements};n.getUnlocked=function(e){var t;return null!==(t=y.unlockedAchievements[e])&&void 0!==t?t:null};return t}(a.default.PersistedStore);h.displayName="PoggermodeAchievementStore";h.persistKey="PoggermodeAchievementStore";var m=new h(o.default,((r={})[c.ActionTypes.POGGERMODE_ACHIEVEMENT_UNLOCK]=function(e){var t=e.achievementId;if(!l.default.enabled)return!1;!function(e){var t;if(null!=y.unlockedAchievements[e])return!1;y.unlockedAchievements=p({},y.unlockedAchievements,((t={})[e]={achievementId:e,dateUnlocked:Date.now()},t));setTimeout((function(){(0,u.showAchievementToast)(e,!0)}),2e3)}(t)},r));t.default=m},114592:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getAchievementStyles=t.PoggermodeAchievementRarity=t.PoggermodeAchievementId=t.ACHIEVEMENT_LIST=void 0;t.getPoggermodeAchievementData=function(e){
return c[e]};var r,a,o,i,u=n(117629),l=n(478036),s=(r=n(247001))&&r.__esModule?r:{default:r};t.PoggermodeAchievementId=o;!function(e){e[e.ENABLE_POGGERMODE=0]="ENABLE_POGGERMODE";e[e.DISABLE_POGGERMODE=1]="DISABLE_POGGERMODE";e[e.PING_SOMEONE=2]="PING_SOMEONE";e[e.PING_ME=3]="PING_ME";e[e.COMBO_MULTI_LEVEL_1=4]="COMBO_MULTI_LEVEL_1";e[e.COMBO_MULTI_LEVEL_2=5]="COMBO_MULTI_LEVEL_2";e[e.COMBO_MULTI_LEVEL_3=6]="COMBO_MULTI_LEVEL_3";e[e.COMBO_MULTI_LEVEL_4=7]="COMBO_MULTI_LEVEL_4";e[e.TOTAL_SCORE_LEVEL_1=8]="TOTAL_SCORE_LEVEL_1";e[e.TOTAL_SCORE_LEVEL_2=9]="TOTAL_SCORE_LEVEL_2";e[e.TOTAL_SCORE_LEVEL_3=10]="TOTAL_SCORE_LEVEL_3";e[e.TOTAL_SCORE_LEVEL_4=11]="TOTAL_SCORE_LEVEL_4";e[e.TOTAL_SCORE_LEVEL_5=12]="TOTAL_SCORE_LEVEL_5";e[e.VISITOR_100=13]="VISITOR_100";e[e.CUSTOMIZE_CONFETTI=14]="CUSTOMIZE_CONFETTI";e[e.MORE=15]="MORE";e[e.COMBO_VALUE_LEVEL_1=16]="COMBO_VALUE_LEVEL_1";e[e.COMBO_VALUE_LEVEL_2=17]="COMBO_VALUE_LEVEL_2";e[e.COMBO_VALUE_LEVEL_3=18]="COMBO_VALUE_LEVEL_3"
;e[e.COMBO_VALUE_LEVEL_4=19]="COMBO_VALUE_LEVEL_4"}(o||(t.PoggermodeAchievementId=o={}));t.PoggermodeAchievementRarity=i;!function(e){e[e.COMMON=0]="COMMON";e[e.UNCOMMON=1]="UNCOMMON";e[e.RARE=2]="RARE";e[e.EPIC=3]="EPIC";e[e.LEGENDARY=4]="LEGENDARY"}(i||(t.PoggermodeAchievementRarity=i={}));var c=((a={})[o.ENABLE_POGGERMODE]={id:o.ENABLE_POGGERMODE,name:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_ENABLE_POGGERMODE_NAME},description:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_ENABLE_POGGERMODE_DESCRIPTION},rarity:i.COMMON,hideDescriptionUntilUnlock:!1},a[o.DISABLE_POGGERMODE]={id:o.DISABLE_POGGERMODE,name:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_DISABLE_POGGERMODE_NAME},description:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_DISABLE_POGGERMODE_DESCRIPTION},rarity:i.UNCOMMON,hideDescriptionUntilUnlock:!1},a[o.VISITOR_100]={id:o.VISITOR_100,name:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_VISITOR_100_NAME
},description:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_VISITOR_100_DESCRIPTION},rarity:i.LEGENDARY,hideDescriptionUntilUnlock:!0,onAction:function(){window.open("https://www.youtube.com/watch?v=dQw4w9WgXcQ","_blank")}},a[o.CUSTOMIZE_CONFETTI]={id:o.CUSTOMIZE_CONFETTI,name:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_CUSTOMIZE_CONFETTI_NAME},description:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_CUSTOMIZE_CONFETTI_DESCRIPTION},rarity:i.COMMON,hideDescriptionUntilUnlock:!1},a[o.MORE]={id:o.MORE,name:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_MORE_NAME},description:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_MORE_DESCRIPTION},rarity:i.UNCOMMON,hideDescriptionUntilUnlock:!1},a[o.PING_SOMEONE]={id:o.PING_SOMEONE,name:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_PING_SOMEONE_NAME},description:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_PING_SOMEONE_DESCRIPTION},rarity:i.COMMON,
hideDescriptionUntilUnlock:!1},a[o.PING_ME]={id:o.PING_ME,name:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_PING_ME_NAME},description:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_PING_ME_DESCRIPTION},rarity:i.UNCOMMON,hideDescriptionUntilUnlock:!1},a[o.COMBO_MULTI_LEVEL_1]={id:o.COMBO_MULTI_LEVEL_1,name:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_COMBO_MULTI_LEVEL_1_NAME},description:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_COMBO_MULTI_LEVEL_1_DESCRIPTION},rarity:i.COMMON,hideDescriptionUntilUnlock:!1,checkUnlock:function(e){return e.multiplier>=2}},a[o.COMBO_MULTI_LEVEL_2]={id:o.COMBO_MULTI_LEVEL_2,name:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_COMBO_MULTI_LEVEL_2_NAME},description:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_COMBO_MULTI_LEVEL_2_DESCRIPTION},rarity:i.UNCOMMON,hideDescriptionUntilUnlock:!1,checkUnlock:function(e){return e.multiplier>=4}},a[o.COMBO_MULTI_LEVEL_3]={
id:o.COMBO_MULTI_LEVEL_3,name:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_COMBO_MULTI_LEVEL_3_NAME},description:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_COMBO_MULTI_LEVEL_3_DESCRIPTION},rarity:i.RARE,hideDescriptionUntilUnlock:!1,checkUnlock:function(e){return e.multiplier>=5}},a[o.COMBO_MULTI_LEVEL_4]={id:o.COMBO_MULTI_LEVEL_4,name:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_COMBO_MULTI_LEVEL_4_NAME},description:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_COMBO_MULTI_LEVEL_4_DESCRIPTION},rarity:i.RARE,hideDescriptionUntilUnlock:!1,checkUnlock:function(e){return e.multiplier>=7}},a[o.TOTAL_SCORE_LEVEL_1]={id:o.TOTAL_SCORE_LEVEL_1,name:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_TOTAL_SCORE_LEVEL_1_NAME},description:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_TOTAL_SCORE_LEVEL_1_DESCRIPTION},rarity:i.EPIC,hideDescriptionUntilUnlock:!0,checkUnlock:function(e){return 430===(0,
u.getComboScore)(e)}},a[o.TOTAL_SCORE_LEVEL_2]={id:o.TOTAL_SCORE_LEVEL_2,name:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_TOTAL_SCORE_LEVEL_2_NAME},description:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_TOTAL_SCORE_LEVEL_2_DESCRIPTION},rarity:i.EPIC,hideDescriptionUntilUnlock:!0,checkUnlock:function(e){return 555===(0,u.getComboScore)(e)}},a[o.TOTAL_SCORE_LEVEL_3]={id:o.TOTAL_SCORE_LEVEL_3,name:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_TOTAL_SCORE_LEVEL_3_NAME},description:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_TOTAL_SCORE_LEVEL_3_DESCRIPTION},rarity:i.EPIC,hideDescriptionUntilUnlock:!0,checkUnlock:function(e){return 898===(0,u.getComboScore)(e)}},a[o.TOTAL_SCORE_LEVEL_4]={id:o.TOTAL_SCORE_LEVEL_4,name:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_TOTAL_SCORE_LEVEL_4_NAME},description:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_TOTAL_SCORE_LEVEL_4_DESCRIPTION},rarity:i.LEGENDARY,
hideDescriptionUntilUnlock:!0,checkUnlock:function(e){return 1337===(0,u.getComboScore)(e)}},a[o.TOTAL_SCORE_LEVEL_5]={id:o.TOTAL_SCORE_LEVEL_5,name:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_TOTAL_SCORE_LEVEL_5_NAME},description:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_TOTAL_SCORE_LEVEL_5_DESCRIPTION},rarity:i.LEGENDARY,hideDescriptionUntilUnlock:!0,checkUnlock:function(e){return 2048===(0,u.getComboScore)(e)}},a[o.COMBO_VALUE_LEVEL_1]={id:o.COMBO_VALUE_LEVEL_1,name:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_COMBO_VALUE_LEVEL_1_NAME},description:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_COMBO_VALUE_LEVEL_1_DESCRIPTION},rarity:i.RARE,hideDescriptionUntilUnlock:!0,checkUnlock:function(e){return 64===e.value}},a[o.COMBO_VALUE_LEVEL_2]={id:o.COMBO_VALUE_LEVEL_2,name:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_COMBO_VALUE_LEVEL_2_NAME},description:function(){
return s.default.Messages.POGGERMODE_ACHIEVEMENT_COMBO_VALUE_LEVEL_2_DESCRIPTION},rarity:i.EPIC,hideDescriptionUntilUnlock:!0,checkUnlock:function(e){return 88===e.value}},a[o.COMBO_VALUE_LEVEL_3]={id:o.COMBO_VALUE_LEVEL_3,name:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_COMBO_VALUE_LEVEL_3_NAME},description:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_COMBO_VALUE_LEVEL_3_DESCRIPTION},rarity:i.EPIC,hideDescriptionUntilUnlock:!0,checkUnlock:function(e){return 99===e.value}},a[o.COMBO_VALUE_LEVEL_4]={id:o.COMBO_VALUE_LEVEL_4,name:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_COMBO_VALUE_LEVEL_4_NAME},description:function(){return s.default.Messages.POGGERMODE_ACHIEVEMENT_COMBO_VALUE_LEVEL_4_DESCRIPTION},rarity:i.LEGENDARY,hideDescriptionUntilUnlock:!0,checkUnlock:function(e){return 113===e.value}},a);t.ACHIEVEMENT_LIST=c;t.getAchievementStyles=function(e){switch(e){case i.COMMON:return{color:"#1ABC9C"};case i.UNCOMMON:return{color:"#3498DB"}
;case i.RARE:return{color:"#9B59B6"};case i.EPIC:return{color:"#E91E63"};case i.LEGENDARY:return{color:"#E67E22"}}return{color:l.Colors.BRAND_400}}},516869:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=v(n(636602)),a=v(n(177230)),o=v(n(423046)),i=n(745203),u=v(n(358091)),l=n(114592),s=n(962119),c=v(n(54147)),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(4590)),f=n(770348);function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e){return e&&e.__esModule?e:{
default:e}}function y(e,t){y=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return y(e,t)}var h=new Set,m=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;y(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).handleSettingsUpdate=function(e){var t=e.settings;t.enabled?(0,i.unlockAchievement)(l.PoggermodeAchievementId.ENABLE_POGGERMODE):!1===t.enabled&&(0,i.unlockAchievement)(l.PoggermodeAchievementId.DISABLE_POGGERMODE);Object.keys(t).some((function(e){return e.startsWith("confetti")}))&&(0,i.unlockAchievement)(l.PoggermodeAchievementId.CUSTOMIZE_CONFETTI)};t.handleMessageCreate=function(e){var t=e.channelId,n=e.message,r=n.author,a=n.nonce,f=n.mentions;if(!c.default.enabled||!(0,s.poggermodeEnabled)())return!1;var p=o.default.getId();null!=(null==f?void 0:f.find((function(e){return e.id===p})))?(0,
i.unlockAchievement)(l.PoggermodeAchievementId.PING_ME):f.length>0&&(null==r?void 0:r.id)===p&&(0,i.unlockAchievement)(l.PoggermodeAchievementId.PING_SOMEONE);if(!(0,d.shouldTrackMessage)(r.id,p,a,h))return!1;var v=d.default.getMostRecentMessageCombo(t),y=(null!=v?v:{}).combo;if(null==y)return!1;Object.values(l.PoggermodeAchievementId).forEach((function(e){var t=e;if(null==u.default.getUnlocked(t)){var n=(0,l.getPoggermodeAchievementData)(t),r=null==n?void 0:n.checkUnlock;null!=r&&!1!==r(y)&&(0,i.unlockAchievement)(t)}}))};return t}var n=t.prototype;n._initialize=function(){r.default.subscribe(f.ActionTypes.MESSAGE_CREATE,this.handleMessageCreate);r.default.subscribe(f.ActionTypes.POGGERMODE_SETTINGS_UPDATE,this.handleSettingsUpdate)};n._terminate=function(){r.default.unsubscribe(f.ActionTypes.MESSAGE_CREATE,this.handleMessageCreate);r.default.unsubscribe(f.ActionTypes.POGGERMODE_SETTINGS_UPDATE,this.handleSettingsUpdate)};return t}(a.default));t.default=m},524439:(e,t,n)=>{
"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=y(n(636602)),a=y(n(177230)),o=y(n(796608)),i=y(n(423046)),u=y(n(893160)),l=y(n(211136)),s=y(n(946447)),c=n(179379),d=n(962119),f=y(n(54147)),p=y(n(4590)),v=n(770348);function y(e){return e&&e.__esModule?e:{default:e}}function h(e,t){h=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return h(e,t)}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g=(0,c.createSoundForPack)("poggermode_applause",o.default.getSoundpack()),E=!1,O=!1,S=[],b=null,I=function(){g.stop();E=!1},C=function(){if(!(0,d.poggermodeEnabled)())return!1;var e=f.default.enabled,t=f.default.comboSoundsEnabled;return!(!e||!t)&&null!=l.default.getChannelId()},T=function(){if(0!==S.length&&C()&&!O){O=!0;var e=m(S[S.length-1],2),t=e[0],n=e[1];(0,c.playSound)(t,n);b=setTimeout(A,1e3)}},A=function(){S.pop();O=!1;T()},P=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;h(e,t)}(t,e);function t(){
return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){p.default.addChangeListener(this.startAudio);r.default.subscribe(v.ActionTypes.RTC_CONNECTION_STATE,this.setVolume);r.default.subscribe(v.ActionTypes.TYPING_STOP,this.stopAudio);r.default.subscribe(v.ActionTypes.TYPING_STOP_LOCAL,this.stopAudio);r.default.subscribe(v.ActionTypes.CHANNEL_SELECT,this.stopAudio);r.default.subscribe(v.ActionTypes.POGGERMODE_SETTINGS_UPDATE,this.stopAudio)};n._terminate=function(){p.default.removeChangeListener(this.startAudio);r.default.unsubscribe(v.ActionTypes.RTC_CONNECTION_STATE,this.setVolume);r.default.unsubscribe(v.ActionTypes.TYPING_STOP,this.stopAudio);r.default.unsubscribe(v.ActionTypes.TYPING_STOP_LOCAL,this.stopAudio);r.default.unsubscribe(v.ActionTypes.CHANNEL_SELECT,this.stopAudio);r.default.unsubscribe(v.ActionTypes.POGGERMODE_SETTINGS_UPDATE,this.stopAudio);clearTimeout(b)};n.setVolume=function(e){
e.state===v.RTCConnectionStates.RTC_CONNECTED?g.volume=.1:g.volume=1};n.handleTypingStop=function(e){var t=e.userId;i.default.getId()===t&&I()};n.stopAudio=function(){I()};n.startAudio=function(){var e;if(C()){var t=l.default.getChannelId();if(null!=t){var n=i.default.getId(),r=s.default.isTyping(t,n),a=p.default.getUserCombo(n,t),o=null!==(e=null==a?void 0:a.multiplier)&&void 0!==e?e:1;r&&o>=7?function(){if(!E){g.loop();E=!0}}():I()}}};n.playAchievementUnlockSound=function(){C()&&function(e,t){void 0===t&&(t=1);var n=u.default.isConnected()?.1:1;S.push([e,t*n]);T()}("poggermode_achievement_unlock")};return t}(a.default));t.default=P},817793:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=h;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=f(n(294184)),i=f(n(16941)),u=n(645758),l=n(114592),s=f(n(524439)),c=f(n(824701)),d=f(n(697888));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var y=function(e){var t=e.color;return v("svg",{width:"48",
height:"28",viewBox:"0 0 55 34",fill:"none",xmlns:"http://www.w3.org/2000/svg"},void 0,v("rect",{x:"10.1968",y:"7",width:"14.4203",height:"14.4203",transform:"rotate(45 10.1968 7)",className:d.default.toastBG}),v("rect",{x:"27.3936",y:"0.59021",width:"23.4851",height:"23.4851",transform:"rotate(45 27.3936 0.59021)",className:d.default.toastBG}),v("rect",{x:"44.5903",y:"7",width:"14.4203",height:"14.4203",transform:"rotate(45 44.5903 7)",className:d.default.toastBG}),v("rect",{x:"10.1968",y:"13",width:"6",height:"6",transform:"rotate(45 10.1968 13)",fill:t}),v("path",{d:"M27.3936 4.39355L34.1233 16.2873L27.3936 28.1811L20.6638 16.2873L27.3936 4.39355Z",fill:t}),v("rect",{x:"44.5903",y:"13",width:"6",height:"6",transform:"rotate(45 44.5903 13)",fill:t}))};y.displayName="Flair";function h(e){var t=e.achievement,n=e.unlocked,r=t.name,f=t.description,p=t.rarity,h=t.hideDescriptionUntilUnlock,m=t.onAction,_=(0,l.getAchievementStyles)(p).color;a.useEffect((function(){
var e=setTimeout((function(){s.default.playAchievementUnlockSound()}),50);return function(){clearTimeout(e)}}),[]);var g=null!=m&&n;return v(g?i.default:"div",{className:(0,o.default)(d.default.container,g&&d.default.actionable),onClick:function(){g&&m()}},void 0,v("div",{className:d.default.iconContainer},void 0,v(c.default,{achievementId:t.id,size:c.default.Sizes.SIZE_40,unlocked:n})),v("div",{className:d.default.nameContainer},void 0,v(u.Text,{variant:"text-md/semibold",color:"header-primary"},void 0,r()),v(u.Text,{variant:"text-xs/medium",color:"header-secondary"},void 0,h&&!n?"?????":f())),v("div",{className:d.default.flair},void 0,v(y,{color:_})))}h.displayName="AchievementToast"},824701:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=g;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=v(n(213847)),u=v(n(745216)),l=v(n(999720)),s=v(n(509765)),c=n(114592),d=n(942675),f=n(478036),p=v(n(945052));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(){h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return h.apply(this,arguments)}function m(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var _=((r={})[f.ThemeTypes.DARK]={trophy:f.Colors.PRIMARY_DARK_400,locked:f.Colors.PRIMARY_DARK_400,unlocked:f.Colors.STATUS_GREEN_560},r[f.ThemeTypes.LIGHT]={trophy:f.Colors.PRIMARY_LIGHT,locked:f.Colors.PRIMARY_LIGHT,unlocked:f.Colors.STATUS_GREEN_560},r);g.Sizes=d.Sizes;function g(e){var t,n=e.achievementId,r=e.unlocked,a=e.size,f=void 0===a?d.Sizes.SIZE_40:a,v=(0,i.default)(),y=(0,c.getPoggermodeAchievementData)(n);if(null==y)return null;var g=(0,d.getAvatarSpecs)(f),E=y.name,O=y.rarity,S=(0,c.getAchievementStyles)(O).color,b=_[v],I=.8*(g.size-g.offset-2*g.stroke),C=g.size-g.stroke,T={width:.4*I,height:.4*I},A={width:T.width+1,height:T.height+1,right:g.stroke+1,bottom:g.stroke+1,padding:0};return m("div",{className:p.default.container,
style:{width:C,height:C,padding:g.stroke},"aria-label":""+(null!==(t=E())&&void 0!==t?t:"")},void 0,m("div",{className:p.default.trophyIconContainer},void 0,m(s.default,{color:r?S:b.trophy,width:I,height:I})),!r&&m("div",{className:p.default.lockContainer,style:A},void 0,o.createElement(l.default,h({color:b.locked},T))),r&&O===c.PoggermodeAchievementRarity.LEGENDARY&&m("div",{className:p.default.lockContainer,style:A},void 0,o.createElement(u.default,h({className:p.default.confettiIcon},T))))}g.displayName="AchievementTrophy"},143493:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PoggermodeCallTile=p;t.default=v;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=c(n(608021)),i=c(n(298371)),u=c(n(692775)),l=c(n(909082)),s=n(378542);function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e){var t=e.callTileRef,n=e.isFiring,r=(0,l.default)(),a=(0,u.default)(t);return null==a||null==t?null:f(o.default,{position:{y:a.y+t.clientHeight/2,
x:a.x+t.clientWidth/2},firing:n,count:4*r.count})}p.displayName="PoggermodeCallTile";function v(e){return f(i.default,{confettiLocation:s.ConfettiLocation.CALL_TILE},void 0,a.createElement(p,e))}v.displayName="PoggermodeConfettiReactionWrapper"},332405:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=f(n(636602)),i=f(n(177230)),u=f(n(956117)),l=n(645758),s=n(194322),c=n(770348),d=f(n(247001));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(){v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return v.apply(this,arguments)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){
h(o,r,a,i,u,"next",e)}function u(e){h(o,r,a,i,u,"throw",e)}i(void 0)}))}}function _(e,t){_=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _(e,t)}var g=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;_(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;r._initialize=function(){o.default.subscribe(c.ActionTypes.POGGERMODE_TEMPORARILY_DISABLED,this.handlePoggermodeTemporarilyDisabled)};r._terminate=function(){o.default.unsubscribe(c.ActionTypes.POGGERMODE_TEMPORARILY_DISABLED,this.handlePoggermodeTemporarilyDisabled)};r.handlePoggermodeTemporarilyDisabled=function(){(0,s.openModalLazy)(m(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,502197));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,v({},e,{
header:d.default.Messages.POGGERMODE_TEMPORARILY_DISABLED_TOAST_TITLE,confirmText:d.default.Messages.CONFIRM,confirmButtonColor:u.default.Colors.GREEN}),y(l.Text,{variant:"text-md/normal"},void 0,d.default.Messages.POGGERMODE_TEMPORARILY_DISABLED_TOAST_BODY))}));case 5:case"end":return e.stop()}}),e)}))))};return t}(i.default));t.default=g},338016:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=O(n(294184)),i=n(248088),u=n(536211),l=O(n(235879)),s=O(n(423046)),c=O(n(946447)),d=n(645758),f=O(n(170823)),p=O(n(745216)),v=n(943725),y=O(n(4590)),h=n(117629),m=O(n(182162)),_=O(n(429654)),g=O(n(247001)),E=O(n(440313));function O(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function b(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var T=a.memo((function(e){var t=e.channelId,n=e.width,r=(0,
u.useStateFromStores)([l.default],(function(){return l.default.useReducedMotion})),o=(0,u.useStateFromStores)([y.default],(function(){return y.default.getMostRecentMessageCombo(t)}),[t]),s=I(a.useState(!1),2),c=s[0],f=s[1];a.useEffect((function(){if(!(null==o?void 0:o.displayed)){f(!1);setImmediate((function(){var e=null!=o?(0,h.getComboScore)(o.combo):0;f(e>0)}));var e=setTimeout((function(){f(!1);null!=o&&(0,v.clearMessageCombo)(o)}),2e3);return function(){return clearTimeout(e)}}}),[o]);var p=null!=o?"100%":"200%",m=(0,i.useSpring)({opacity:c?1:0,translateY:c?"0":p,pointerEvents:"none",width:n,config:r?i.config.stiff:i.config.slow});return a.createElement(a.Fragment,null,null!=o&&b(i.animated.div,{className:E.default.messageComboScore,style:m},void 0,b(d.Text,{className:E.default.comboScore,variant:"text-sm/normal"},void 0,(0,h.getComboScore)(o.combo))))})),A=b(p.default,{width:24,height:24}),P=b(p.default,{width:24,height:24}),M=a.memo((function(e){
var t=e.value,n=e.multiplier,r=a.useMemo((function(){return(0,h.getComboStyles)(n)}),[n]),i=r.color,u=r.square,l=r.flair;return a.createElement(a.Fragment,null,b(d.Text,{className:E.default.comboValue,variant:"text-sm/normal"},void 0,t),b("div",{className:E.default.comboNameplate,style:{color:i}},void 0,b(d.Text,{className:E.default.comboMultiplier,style:{color:i},variant:"text-sm/normal"},void 0,g.default.Messages.POGGERMODE_COMBO.format({multiplier:n})),u&&a.createElement(a.Fragment,null,b("div",{className:(0,o.default)(E.default.comboSquare,E.default.left),style:{backgroundColor:i}}),b("div",{className:(0,o.default)(E.default.comboSquare,E.default.right),style:{backgroundColor:i}})),l&&a.createElement(a.Fragment,null,b("div",{className:(0,o.default)(E.default.confettiIcon,E.default.left)},void 0,A),b("div",{className:(0,o.default)(E.default.confettiIcon,E.default.right)},void 0,P)),1===n&&b(d.Text,{className:E.default.tip,variant:"text-sm/normal"
},void 0,g.default.Messages.POGGERMODE_COMBO_TIP)))})),N=a.memo((function(e){var t,n=e.channelId,r=(0,u.useStateFromStores)([s.default],(function(){return s.default.getId()})),o=(0,u.useStateFromStores)([c.default],(function(){return c.default.isTyping(n,r)}),[n,r]),d=(0,_.default)(),p=(0,u.useStateFromStores)([y.default],(function(){return y.default.isComboing(r,n)}),[n,r]),v=a.useRef(null),h=(0,f.default)(v,!0,[o]),g=(0,u.useStateFromStores)([l.default],(function(){return l.default.useReducedMotion})),O=I(a.useState(!1),2),S=O[0],C=O[1],A=(0,m.default)(n),P=d&&p&&o;a.useEffect((function(){P&&C(!0);var e=setTimeout((function(){return C(P)}),1e3);return function(){return clearTimeout(e)}}),[P]);var N=(0,i.useSpring)({opacity:S?1:0,transform:S?"translateY(0)":"translateY(100%)",pointerEvents:"none",config:i.config.stiff,immediate:g}),R=a.useMemo((function(){return null!=A?A:{value:0,multiplier:1}}),[A]),w=a.useRef(R);a.useEffect((function(){(R.multiplier>1||R.value>0)&&(w.current=R)
}),[R]);var D=a.useMemo((function(){return{value:P?R.value:w.current.value,multiplier:P?R.multiplier:w.current.multiplier}}),[P,R,w]),L=D.multiplier,k=D.value;return a.createElement(a.Fragment,null,b(T,{channelId:n,width:null!==(t=null==h?void 0:h.width)&&void 0!==t?t:0}),a.createElement(i.animated.div,{ref:v,className:E.default.combo,style:N},b(M,{value:k,multiplier:L})))}));t.default=N},338591:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=(0,l.default)(s.ShakeLocation.CHAT_INPUT),n=(0,u.default)();return(0,r.useStateFromStores)([o.default,i.default,a.default],(function(){return n&&o.default.isTyping(e,a.default.getId())?i.default.getUserComboShakeIntensity(a.default.getId(),e,t):0}))};var r=n(536211),a=c(n(423046)),o=c(n(946447)),i=c(n(4590)),u=c(n(429654)),l=c(n(754464)),s=n(378542);function c(e){return e&&e.__esModule?e:{default:e}}},885159:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;t.loadRTCDevStyles=g;f(n(667294));var r,a=c(n(636602)),o=c(n(177230)),i=n(329117),u=f(n(8475)),l=n(770348),s=c(n(175935));function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(e,t){v=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return v(e,t)}var y=(0,i.makeLazy)({createPromise:function(){return n.e(41446).then(n.bind(n,209354))},webpackId:209354,name:"PopoutWindowChannelCall"}),h=(0,i.makeLazy)({createPromise:function(){return n.e(38634).then(n.bind(n,224287))},webpackId:224287,name:"PopoutWindowStageChannelCall"}),m=(0,i.makeLazy)({createPromise:function(){return n.e(41446).then(n.bind(n,302460))},webpackId:302460,name:"PopoutWindowRTCDebug"}),_=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;v(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){
a.default.subscribe(l.ActionTypes.CHANNEL_CALL_POPOUT_WINDOW_OPEN,this.handleOpenChannelCallPopout);a.default.subscribe(l.ActionTypes.RTC_DEBUG_POPOUT_WINDOW_OPEN,this.handleOpenRTCDebugPopout)};n._terminate=function(){a.default.unsubscribe(l.ActionTypes.CHANNEL_CALL_POPOUT_WINDOW_OPEN,this.handleOpenChannelCallPopout);a.default.unsubscribe(l.ActionTypes.RTC_DEBUG_POPOUT_WINDOW_OPEN,this.handleOpenRTCDebugPopout)};n.handleOpenChannelCallPopout=function(e){var t=e.channel;u.open(l.PopoutWindowKeys.CHANNEL_CALL_POPOUT,(function(e){return t.isGuildStageVoice()?p(h,{windowKey:e,channel:t}):p(y,{windowKey:e,channel:t})}),{defaultWidth:854,defaultHeight:480})};n.handleOpenRTCDebugPopout=function(){u.open(l.PopoutWindowKeys.RTC_DEBUG_POPOUT,(function(e){return p(m,{windowKey:e})}),{defaultWidth:854,defaultHeight:480})};return t}(o.default);function g(){return p("div",{className:s.default.item})}g.displayName="loadRTCDevStyles";var E=new _;t.default=E},554147:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=s(n(74854)),a=s(n(636602)),o=s(n(177230)),i=n(581525),u=s(n(902305)),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c(e,t)}var d=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;c(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).handleMainWindowFocus=function(e){e.focused&&t.injectWindowAnimationFrame(window)};t.handlePopoutWindowChange=function(){var e=u.default.getWindowKeys().find((function(e){return u.default.getWindowFocused(e)}));if(null==e)return t.injectWindowAnimationFrame(window);var n=u.default.getWindow(e);if(null==n||n.closed)return t.injectWindowAnimationFrame(window);t.injectWindowAnimationFrame(n)};return t}var n=t.prototype;n._initialize=function(){
u.default.addChangeListener(this.handlePopoutWindowChange);a.default.subscribe(l.ActionTypes.WINDOW_FOCUS,this.handleMainWindowFocus)};n._terminate=function(){u.default.removeChangeListener(this.handlePopoutWindowChange);a.default.unsubscribe(l.ActionTypes.WINDOW_FOCUS,this.handleMainWindowFocus);this.injectWindowAnimationFrame(window)};n.injectWindowAnimationFrame=function(e){var t=function(t){return e.requestAnimationFrame(t)},n=function(t){return e.cancelAnimationFrame(t)};r.default.inject.RequestAnimationFrame(t);r.default.inject.CancelAnimationFrame(n);i.frameLoop.setRAF(t,n)};return t}(o.default));t.default=d},496357:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=p(n(636602)),a=n(832635),o=n(851792),i=p(n(177230)),u=p(n(697952)),l=p(n(146771)),s=p(n(47969)),c=n(685677),d=n(265517),f=n(770348);function p(e){return e&&e.__esModule?e:{default:e}}function v(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}
u.done?t(l):Promise.resolve(l).then(r,a)}function y(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){v(o,r,a,i,u,"next",e)}function u(e){v(o,r,a,i,u,"throw",e)}i(void 0)}))}}function h(e,t){h=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return h(e,t)}var m=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;h(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=e.call.apply(e,[this].concat(r))||this).maybeFetchSubscriptions=function(){var e=y(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==t.user.premium_type){e.next=9;break}if(l.default.hasFetchedSubscriptions()){e.next=5;break}e.next=5;return(0,a.fetchSubscriptions)();case 5:
if(null!=(null==(n=l.default.getPremiumSubscription())?void 0:n.paymentSourceId)||s.default.applicationIdsFetched.has(f.PREMIUM_SUBSCRIPTION_APPLICATION)){e.next=9;break}e.next=9;return(0,o.fetchUserEntitlementsForApplication)(f.PREMIUM_SUBSCRIPTION_APPLICATION);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.maybeFetchMostRecentSubscription=function(e){var t=e.user;null==t.premium_type&&null!=t.purchased_flags&&((0,c.hasFlag)(t.purchased_flags,d.PurchasedFlags.PREMIUM_TIER_1)||(0,c.hasFlag)(t.purchased_flags,d.PurchasedFlags.PREMIUM_TIER_2))&&(0,a.fetchMostRecentSubscription)()};t.maybeFetchCountryCode=function(){var e=y(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==n.user.premium_type){e.next=4;break}e.next=4;return t.fetchCountryCode();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()
;t.fetchCountryCode=y(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return(0,a.fetchIpCountryCode)();case 2:if(null==u.default.ipCountryCode){e.next=6;break}e.next=6;return(0,a.fetchPaymentSources)();case 6:case"end":return e.stop()}}),e)})));return t}var n=t.prototype;n._initialize=function(){r.default.subscribe(f.ActionTypes.CONNECTION_OPEN,this.maybeFetchSubscriptions);r.default.subscribe(f.ActionTypes.CONNECTION_OPEN,this.maybeFetchCountryCode);r.default.subscribe(f.ActionTypes.CONNECTION_OPEN,this.maybeFetchMostRecentSubscription)};n._terminate=function(){r.default.unsubscribe(f.ActionTypes.CONNECTION_OPEN,this.maybeFetchSubscriptions);r.default.unsubscribe(f.ActionTypes.CONNECTION_OPEN,this.maybeFetchCountryCode);r.default.unsubscribe(f.ActionTypes.CONNECTION_OPEN,this.maybeFetchMostRecentSubscription)};return t}(i.default));t.default=m},32593:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.PromotionPreviewExperiment=void 0;var r=(0,n(373505).createExperiment)({kind:"user",id:"2021-06_preview_promotions",label:"Promotions Preview",defaultConfig:{previewEnabled:!1},treatments:[{id:1,label:"Preview Enabled",config:{previewEnabled:!0}}]});t.PromotionPreviewExperiment=r},745108:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;t.dismissOutboundPromotionNotice=_;t.fetchActiveOutboundPromotions=h;var r=p(n(118915)),a=n(629015),o=p(n(636602)),i=n(851792),u=n(828593),l=p(n(871778)),s=n(32593),c=n(462827),d=p(n(297143)),f=n(770348);function p(e){return e&&e.__esModule?e:{default:e}}function v(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function y(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){v(o,r,a,i,u,"next",e)}function u(e){v(o,r,a,i,u,"throw",e)}i(void 0)}))}}
function h(){return m.apply(this,arguments)}function m(){return(m=y(regeneratorRuntime.mark((function e(){var t,n,a,u,p,v,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!d.default.isFetchingActiveOutboundPromotions){e.next=2;break}return e.abrupt("return");case 2:e.prev=2;o.default.dispatch({type:f.ActionTypes.ACTIVE_OUTBOUND_PROMOTIONS_FETCH});t=s.PromotionPreviewExperiment.getCurrentConfig({}).previewEnabled?f.Endpoints.OUTBOUND_PROMOTIONS_PREVIEW:f.Endpoints.OUTBOUND_PROMOTIONS;e.next=7;return r.default.get({url:t,query:{locale:l.default.locale},oldFormErrors:!0});case 7:n=e.sent;a=n.body;u=d.default.consumedInboundPromotionId;if(d.default.hasFetchedConsumedInboundPromotionId){e.next=16;break}e.next=13;return(0,i.fetchUserEntitlementsForApplication)(f.PREMIUM_SUBSCRIPTION_APPLICATION,!1);case 13:v=e.sent;y=v.find((function(e){return null!=e.promotion_id&&!0===e.consumed}));u=null!==(p=null==y?void 0:y.promotion_id)&&void 0!==p?p:null;case 16:
o.default.dispatch({type:f.ActionTypes.ACTIVE_OUTBOUND_PROMOTIONS_FETCH_SUCCESS,activeOutboundPromotions:a.map((function(e){return(0,c.outboundPromotionFromServer)(e)})),consumedInboundPromotionId:u});e.next=22;break;case 19:e.prev=19;e.t0=e.catch(2);o.default.dispatch({type:f.ActionTypes.ACTIVE_OUTBOUND_PROMOTIONS_FETCH_FAIL});case 22:case"end":return e.stop()}}),e,null,[[2,19]])})))).apply(this,arguments)}function _(){o.default.dispatch({type:f.ActionTypes.OUTBOUND_PROMOTION_NOTICE_DISMISS});var e=d.default.lastDismissedOutboundPromotionStartDate;null!=e&&u.PreloadedUserSettingsActionCreators.updateAsync("userContent",(function(t){t.lastDismissedOutboundPromotionStartDate=a.StringValue.create({value:e})}),u.UserSettingsDelay.INFREQUENT_USER_ACTION)}var g={fetchActiveOutboundPromotions:h,dismissOutboundPromotionNotice:_,markOutboundPromotionsSeen:function(){o.default.dispatch({type:f.ActionTypes.OUTBOUND_PROMOTIONS_SEEN})}};t.default=g},110210:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=u(n(636602)),a=u(n(177230)),o=n(745108),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var s=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){r.default.subscribe(i.ActionTypes.CONNECTION_OPEN,this.maybeFetchActiveOutboundPromotions)};n._terminate=function(){r.default.unsubscribe(i.ActionTypes.CONNECTION_OPEN,this.maybeFetchActiveOutboundPromotions)};n.maybeFetchActiveOutboundPromotions=function(e){e.user.premium_type===i.PremiumTypes.TIER_2&&(0,o.fetchActiveOutboundPromotions)()};return t}(a.default));t.default=s},29864:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=y(n(667294)),o=p(n(226800)),i=p(n(41024)),u=y(n(177101)),l=n(660065),s=n(455818),c=n(770348),d=p(n(247001)),f=p(n(202192));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var m=function(e){var t=e.notice,n=e.noticeType,r=e.dismissCurrentNotice,p=null!=(null==t?void 0:t.metadata.premiumSubscription),v=(0,l.getCountryCodeForLocalizedPricingPromo)(null==t?void 0:t.metadata.ipCountryCode,null==t?void 0:t.metadata.defaultBillingCountryCode);(0,l.useTrackLocalizedPricingPromoImpression)(c.AnalyticsSections.NOTIFICATION_BAR,v);return h(u.default,{color:p?u.NoticeColors.BRAND:u.NoticeColors.PREMIUM_TIER_2},void 0,h(u.NoticeCloseButton,{onClick:r,noticeType:n}),p?(0,s.getNoticeNitroChangedPrice)(v):h(a.Fragment,{},void 0,h(i.default,{className:f.default.premiumIcon}),(0,s.getLocalizedPricingNotice)(v)),h(u.PrimaryCTANoticeButton,{onClick:function(){r();o.default.open(c.UserSettingsSections.PREMIUM)},noticeType:n
},void 0,d.default.Messages.LEARN_MORE))};m.displayName="LocalizedPricingPromoNotice";var _=m;t.default=_},877454:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;h(n(667294));var r,a=v(n(683767)),o=v(n(954140)),i=v(n(37039)),u=v(n(655205)),l=v(n(41024)),s=h(n(177101)),c=n(152960),d=n(770348),f=v(n(247001)),p=v(n(202192));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}
function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var _=function(e){var t=e.dismissCurrentNotice,n=(0,i.default)(o.default.PREMIUM_TIER_2_TRIAL_ENDING_NOTICE).analyticsLocations,r=(0,c.usePremiumTrialOffer)(),v=(0,a.default)(null!=r&&null!=r.expires_at?Date.parse(r.expires_at):0);return null==r||null==r.expires_at||Object.values(v).every((function(e){return 0===e}))?null:m(s.default,{color:s.NoticeColors.PREMIUM_TIER_2},void 0,m(s.NoticeCloseButton,{onClick:t}),m(l.default,{className:p.default.premiumIcon}),v.days>0?f.default.Messages.NOTICE_PREMIUM_TIER_2_TRIAL_ENDING_DAYS.format({days:v.days
}):v.hours>0?f.default.Messages.NOTICE_PREMIUM_TIER_2_TRIAL_ENDING_HOURS.format({hours:v.hours}):f.default.Messages.NOTICE_PREMIUM_TIER_2_TRIAL_ENDING_MINUTES.format({minutes:Math.max(v.minutes,1)}),m(s.NoticeButton,{onClick:function(){(0,u.default)({trialId:r.trial_id,subscriptionTier:d.PremiumSubscriptionSKUs.TIER_2,analyticsLocations:n,analyticsObject:{page:d.AnalyticsPages.IN_APP,section:d.AnalyticsSections.NOTIFICATION_BAR,object:d.AnalyticsObjects.BUTTON_CTA}})}},void 0,f.default.Messages.NOTICE_PREMIUM_TIER_2_TRIAL_ENDING_CTA))};_.displayName="PremiumTier2TrialEndingNotice";var g=_;t.default=g},216920:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=p(n(636602)),o=n(825185),i=p(n(177230)),u=n(799393),l=p(n(728429)),s=n(194322),c=p(n(838583)),d=n(770348),f=n(173708);function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function h(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){h(o,r,a,i,u,"next",e)}
function u(e){h(o,r,a,i,u,"throw",e)}i(void 0)}))}}function _(e,t){_=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _(e,t)}var g=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;_(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var i=t.prototype;i._initialize=function(){a.default.subscribe(d.ActionTypes.PROFILE_CUSTOMIZATION_OPEN_PREVIEW_MODAL,this.maybeOpenProfilePreviewModal)};i._terminate=function(){a.default.unsubscribe(d.ActionTypes.PROFILE_CUSTOMIZATION_OPEN_PREVIEW_MODAL,this.maybeOpenProfilePreviewModal)};i.maybeOpenProfilePreviewModal=function(e){var t=e.imageSrc,a=e.file,i=e.uploadType,d=e.guildId,p=null!=d?u.setPendingAvatar:o.setPendingAvatar,v=null!=d?u.setPendingBanner:o.setPendingBanner,h=l.default.getCurrentUser();if(i===f.UploadTypes.AVATAR){if(c.default.canUploadAnimatedAvatar(h)||"image/gif"!==a.type){p(t);return}(0,s.openModalLazy)(m(regeneratorRuntime.mark((function e(){var a,o
;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(7888)]).then(n.bind(n,7888));case 2:a=e.sent;o=a.default;return e.abrupt("return",(function(e){return r.createElement(o,y({avatarSrc:t,onSubscribe:function(){return p(t)}},e))}));case 5:case"end":return e.stop()}}),e)}))))}else if(i===f.UploadTypes.BANNER){if(c.default.canUsePremiumProfileCustomization(h)){v(t);return}(0,s.openModalLazy)(m(regeneratorRuntime.mark((function e(){var a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(7888)]).then(n.bind(n,7888));case 2:a=e.sent;o=a.default;return e.abrupt("return",(function(e){return r.createElement(o,y({bannerSrc:t,onSubscribe:function(){return v(t)}},e))}));case 5:case"end":return e.stop()}}),e)}))))}};return t}(i.default));t.default=g},126515:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=f(n(536211)),o=f(n(972247)),i=f(n(636602)),u=f(n(311492)),l=f(n(30098)),s=f(n(689389)),c=n(732978),d=n(770348);function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){p=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return p(e,t)}var v="publicUpsellChannelNoticeGuilds",y=new Set;var h=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;p(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){var e;this.waitFor(s.default,l.default,u.default);this.syncWith([s.default,l.default,u.default],d.NOOP);y=null!==(e=new Set(o.default.get(v)))&&void 0!==e?e:new Set};n.isVisible=function(e){if(null!=e){var t=u.default.getMemberCount(e.id);return!y.has(e.id)&&null!=t&&t>=c.COMMUNITY_UPSELL_MINIMUM_GUILD_SIZE&&s.default.can(d.Permissions.ADMINISTRATOR,e)&&!e.hasFeature(d.GuildFeatures.COMMUNITY)}};return t}(a.default.Store);h.displayName="EnablePublicGuildUpsellNoticeStore"
;var m=new h(i.default,((r={})[d.ActionTypes.PUBLIC_UPSELL_NOTICE_DISMISS]=function(e){var t=e.guildId;if(!y.has(t)){y.add(t);o.default.set(v,y);return!0}},r));t.default=m},666280:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(55701),i=d(n(918667)),u=d(n(964285)),l=n(770348),s=d(n(247001)),c=d(n(864244));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}
function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=function(e){var t=e.guild,n=a.useCallback((function(){(0,o.hideEnablePublicGuildUpsellNotice)(t.id)}),[t.id]);return p(i.default,{guild:t,onDismissed:n,onClick:function(){return u.default.open(t.id,l.GuildSettingsSections.COMMUNITY)},message:s.default.Messages.NOTICE_ENABLE_PUBLIC_GUILD_UPSELL_MESSAGE,trackingSource:l.ChannelNoticeCtaSources.ENABLE_PUBLIC_GUILD_UPSELL_NOTICE,type:l.ChannelNoticeTypes.PUBLIC_UPSELL,image:c.default,cta:s.default.Messages.LEARN_MORE})};v.displayName="EnablePublicGuildUpsellNotice";var y=v;t.default=y},480826:(e,t)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.QUARANTINE_APPEAL_LINK=void 0;t.QUARANTINE_APPEAL_LINK="https://dis.gd/appeal"},528660:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=n(536211),o=n(11710),i=(r=n(201292))&&r.__esModule?r:{default:r},u=n(770348);var l=function(e,t){var n=(0,o.useShowConvoStarterInDM)(t),r=(0,a.useStateFromStores)([i.default],(function(){return i.default.getMessages(t.id).length>0}),[t]);return null!=e&&(e.hasFlag(u.UserFlags.QUARANTINED)&&n&&!r)};t.default=l},604966:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;Object.defineProperty(t,"useShouldBlockDMInputForQuarantinedUser",{enumerable:!0,get:function(){return i.default}});!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(960736),o=s(n(550270)),i=s(n(528660)),u=n(770348),l=s(n(247001));function s(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f=n(513157),p=function(){return d(a.MessageNoticeBanner,{bannerIcon:f,
bannerHeader:l.default.Messages.YOUR_ACCOUNT_IS_QUARANTINED,bannerSubtext:l.default.Messages.QUARANTINE_MODE_DM_BAR_SUBTEXT.format({helpdeskArticle:o.default.getArticleURL(u.HelpdeskArticles.QUARANTINE)})})};p.displayName="QuarantinedUserDMBanner";var v=p;t.default=v},348612:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(522731)),i=n(770348);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){
return e?n:t})(e)}function l(e){e.relationship.type===i.RelationshipTypes.PENDING_INCOMING&&o.showPendingNotification(e.relationship.user)}function s(e){var t=e.user;o.showAcceptedNotification(t)}var c={init:function(){a.default.subscribe(i.ActionTypes.RELATIONSHIP_ADD,l);a.default.subscribe(i.ActionTypes.FRIEND_REQUEST_ACCEPTED,s)}};t.default=c},861798:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.VALIDATE_SOCKET_THROTTLERS=t.VALIDATE_SOCKET_PERIOD_MS=t.VALIDATE_SOCKET_CALLS_PER_PERIOD_LOW=t.VALIDATE_SOCKET_CALLS_PER_PERIOD_HIGH=void 0;t.computeActivityFlags=function(e,t){void 0===t&&(t=!1);var n=e.instance,r=e.secrets,a=e.party,o=0;n&&(o|=I.ActivityFlags.INSTANCE);null!=(null==r?void 0:r.join)&&(o|=I.ActivityFlags.JOIN);if(t){o|=I.ActivityFlags.EMBEDDED;return o|=I.ActivityFlags.PARTY_PRIVACY_VOICE_CHANNEL}if((null==a?void 0:a.privacy)===I.ActivityPartyPrivacy.PUBLIC||u.default.get("ACTIVITIES_FORCE_PUBLIC")){
f.AllowActivityPartyPrivacyFriends.getSetting()&&(o|=I.ActivityFlags.PARTY_PRIVACY_FRIENDS);f.AllowActivityPartyPrivacyVoiceChannel.getSetting()&&(o|=I.ActivityFlags.PARTY_PRIVACY_VOICE_CHANNEL)}return o};t.containsSameValues=function(e,t){return r.default.isEqual(e,r.default.pick(t,Object.keys(e)))};t.fetchApplicationsRPC=function(e,t,n){return o.default.get({url:I.Endpoints.APPLICATION_RPC(t),oldFormErrors:!0,retries:3}).then((function(r){var a=r.body,o=a.rpc_origins,i=a.id,u=a.name,l=a.icon,c=a.cover_image,d=a.flags;if("string"==typeof n)if(e.transport===I.TransportTypes.POST_MESSAGE){var f=(0,s.default)(t);if(null==f||!k(n,[f]))throw new S.default(I.RPCCloseCodes.INVALID_ORIGIN,"Invalid Origin")}else if(!k(n,o))throw new S.default(I.RPCCloseCodes.INVALID_ORIGIN,"Invalid Origin");e.application={id:i,name:u,icon:l,coverImage:c,flags:d}}),(function(){throw new S.default(I.RPCCloseCodes.INVALID_CLIENTID,"Invalid Client ID")}))};t.getDeprecatedVoiceSettingsWithShortcut=function(e){
var t=y.default.getSettings(),n=function(e){return Object.values(e).sort((function(e,t){return e.index-t.index})).map((function(e){return{id:e.id,name:e.name}}))},r=e(t);return{input:{available_devices:n(y.default.getInputDevices()),device_id:t.inputDeviceId,volume:t.inputVolume},output:{available_devices:n(y.default.getOutputDevices()),device_id:t.outputDeviceId,volume:t.outputVolume},mode:{type:t.mode,auto_threshold:t.modeOptions.autoThreshold,threshold:t.modeOptions.threshold,shortcut:r,delay:t.modeOptions.delay},automatic_gain_control:t.automaticGainControl,echo_cancellation:t.echoCancellation,noise_suppression:t.noiseSuppression,qos:t.qos,silence_warning:t.silenceWarning,deaf:t.deaf,mute:t.mute}};t.getRemoteIconURL=L;t.getVoiceConnectionState=function(e){switch(e){case I.RTCConnectionStates.RTC_CONNECTED:case I.RTCConnectionStates.RTC_CONNECTING:case I.RTCConnectionStates.RTC_DISCONNECTED:return e.replace(/^RTC_/,"VOICE_");default:return e}}
;t.getVoiceSettingsWithShortcut=function(e,t){var n=y.default.getSettings(e),r=t(n);return{input_mode:{type:n.mode,shortcut:r},local_mutes:Object.keys(n.localMutes),local_volumes:n.localVolumes,self_mute:n.mute,self_deaf:n.deaf}};t.hasMessageReadPermission=function(e,t,n){var r=v.default.getGuild(e.getGuildId());return(null!=r?r.getApplicationId():e.getApplicationId())===t||n.indexOf(I.OAuth2Scopes.MESSAGES_READ)>-1};t.isMatchingOrigin=function(e){if(null==e)return!1;var t,n=window.location.origin;if(e===n)return!0;try{t=a.default.parse(e).hostname}catch(e){return!1}if(window.location.hostname===t&&"localhost"===t)return!0;if(null!=e.match("staging"))return!1;if(N.test(e)&&N.test(n))return!0;return!1};t.processSocketThrottlers=function(e,t){return G.apply(this,arguments)};t.transformChannel=function(e,t){var n=[],r=e.getGuildId();[I.ChannelTypes.GUILD_CATEGORY].concat((a=p.GUILD_VOCAL_CHANNEL_TYPES,function(e){if(Array.isArray(e))return P(e)}(a)||function(e){
if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(a)||function(e,t){if(e){if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(e,t):void 0}}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())).includes(e.type)||n.push(new Promise((function(t){h.default.whenReady(e.id,(function(){return t()}));l.default.fetchMessages({channelId:e.id,limit:I.MAX_MESSAGES_PER_CHANNEL})})));var a;return Promise.all(n).then((function(){
var n,a=(!e.isNSFW()||!0===(null===(n=_.default.getCurrentUser())||void 0===n?void 0:n.nsfwAllowed))&&t?h.default.getMessages(e.id).toArray().map(j):[],o=Object.values(g.default.getVoiceStatesForChannel(e.id)).map((function(t){return U(r,e.id,t)}));return{id:e.id,name:e.name,type:e.type,topic:e.topic,bitrate:e.bitrate,user_limit:e.userLimit,guild_id:r,position:e.position,messages:a,voice_states:o}}))};t.transformInternalTextMessage=j;t.transformRelationship=function(e,t,n){var r=_.default.getUser(t);return{type:e,user:null!=r?(0,b.default)(r):null,presence:{status:m.default.getStatus(t),activity:null!=n?m.default.getApplicationActivity(t,n):m.default.getPrimaryActivity(t)}}};t.transformVoiceState=U;t.validateActivityInvite=function(e,t,n){if(e===I.ActivityActionTypes.JOIN)return null!=t&&null!=t.id&&null!=n.join;return!1};t.validateApplication=function(e){if(null==e.id)throw new S.default(I.RPCErrors.INVALID_COMMAND,"Invalid application")};t.validateOrigin=k
;t.validateOriginAndUpdateSocket=function(e,t){null==t&&(e.authorization.scopes=[I.RPC_LOCAL_SCOPE])};t.validatePostMessageTransport=function(e){if(e!==I.TransportTypes.POST_MESSAGE)throw new S.default(I.RPCErrors.INVALID_COMMAND,'command not available from "'+e+" transport")};var r=C(n(496486)),a=C(n(608575)),o=C(n(118915)),i=C(n(229354)),u=C(n(972247)),l=C(n(786345)),s=C(n(525917)),c=C(n(268389)),d=n(907932),f=n(894826),p=n(567186),v=C(n(30098)),y=C(n(635014)),h=C(n(201292)),m=C(n(788739)),_=C(n(728429)),g=C(n(387692)),E=C(n(29652)),O=C(n(827513)),S=C(n(248369)),b=C(n(838641)),I=n(770348);function C(e){return e&&e.__esModule?e:{default:e}}function T(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function A(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){T(o,r,a,i,u,"next",e)}function u(e){T(o,r,a,i,u,"throw",e)}i(void 0)}))}}function P(e,t){
(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var M=function(){var e=I.API_HOST.split(":")[0];if(!e.includes("."))return e;var t=e.split("."),n=t[t.length-1];return/^\d+$/.test(n)?e:t.slice(-2).join(".")}(),N=new RegExp("^"+O.default.escape("https://")+"(?:[a-z]+\\.)?("+O.default.escape(M)+"|discordapp.com|discord.com)$");t.VALIDATE_SOCKET_CALLS_PER_PERIOD_LOW=2;t.VALIDATE_SOCKET_CALLS_PER_PERIOD_HIGH=60;var R=6e4;t.VALIDATE_SOCKET_PERIOD_MS=R;var w={};t.VALIDATE_SOCKET_THROTTLERS=w;function D(e){"customEmoji"===e.type&&(e.type="emoji");"emoji"===e.type&&e.src&&(e.src=L(e.src));Array.isArray(e.content)&&(e.content=e.content.map(D));return e}function L(e){return/^http/.test(e)?e:location.protocol+"//"+location.host+("/"===e.charAt(0)?"":"/")+e}function k(e,t){void 0===t&&(t=[]);return t.indexOf(e)>-1}function j(e){var t=c.default.parseToAST(e.content,!0,{channelId:e.channel_id}).map(D),n=(0,d.getMessageAuthor)(e),r=n.colorString,a=n.nick
;return{id:e.id,blocked:e.blocked,bot:e.bot,content:e.content,content_parsed:t.length?t:void 0,nick:a,author_color:r,edited_timestamp:e.edited_timestamp||e.editedTimestamp,timestamp:e.timestamp,tts:e.tts,mentions:e.mentions,mention_everyone:e.mention_everyone||e.mentionEveryone,mention_roles:e.mention_roles||e.mentionRoles,embeds:e.embeds,attachments:e.attachments,author:e.author?(0,b.default)(e.author):void 0,pinned:e.pinned,type:e.type}}function U(e,t,n){var r=n.mute,a=n.deaf,o=n.selfMute,i=n.selfDeaf,u=n.suppress,l=n.userId,s=_.default.getUser(l);if(null==s)throw new Error("Invalid user id: "+l);return{nick:E.default.getName(e,t,s),mute:y.default.isLocalMute(s.id),volume:y.default.getLocalVolume(s.id),pan:y.default.getLocalPan(s.id),voice_state:{mute:r,deaf:a,self_mute:o,self_deaf:i,suppress:u},user:(0,b.default)(s)}}function G(){return(G=A(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:
if(null==(r=w[t])){a=n?2:60;r=new i.default(a,R);w[t]=r}e.next=4;return r.process();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},676606:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n={HANDSHAKE:0,FRAME:1,CLOSE:2,HELLO:3};t.default=n},318671:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=a({},e);(function(e){var t=e;return"object"==typeof t.args&&"string"==typeof t.cmd})(t)&&(t=function(e){if(e.cmd===r.RPCCommands.AUTHENTICATE)return a({},e,{args:a({},e.args,{access_token:o})});return a({},e)}(t));(function(e){var t=e;return"object"==typeof t.data&&"string"==typeof t.cmd})(t)&&(t=function(e){if(e.cmd===r.RPCCommands.AUTHENTICATE)return a({},e,{data:a({},e.data,{access_token:o})});return a({},e)}(t));return t};var r=n(770348);function a(){a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return a.apply(this,arguments)}var o="<removed>"},682644:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=C(n(496486)),a=n(536211),o=C(n(636602)),i=C(n(644263)),u=C(n(876874)),l=C(n(319111)),s=C(n(361585)),c=C(n(635014)),d=C(n(788739)),f=C(n(893160)),p=C(n(290629)),v=C(n(211136)),y=C(n(538983)),h=C(n(728429)),m=C(n(387692)),_=C(n(308920)),g=n(71246),E=n(864489),O=n(861798),S=C(n(838641)),b=n(770348),I=n(376293);function C(e){return e&&e.__esModule?e:{default:e}}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o
}(e,t)||A(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){if(e){if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(e,t):void 0}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var M=function(){function e(e){this.rpcServer=e.server;this.transports=e.transports;this.rpcCommandHandlers=e.commands;this.rpcEventHandlers=e.events;this.stores=e.stores;this.registerTransportsForEmbeddedPlatform=e.registerTransportsForEmbeddedPlatform}var t=e.prototype;t.loadServer=function(){E.isPlatformEmbedded&&this.registerTransportsForEmbeddedPlatform();for(var e,t=function(e,t){
var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=A(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(this.transports);!(e=t()).done;){var n=e.value;this.rpcServer.registerTransport(n)}for(var r=this.rpcCommandHandlers,a=0,o=Object.entries(r);a<o.length;a++){var i=T(o[a],2),u=i[0],l=i[1];this.rpcServer.setCommandHandler(u,l)}for(var s=this.rpcEventHandlers,c=0,d=Object.entries(s);c<d.length;c++){var f=T(d[c],2),p=f[0],v=f[1];this.rpcServer.setEventHandler(p,v)}};t.init=function(){var e=this;this.rpcServer.getCurrentUser=function(){return h.default.getCurrentUser()};this.rpcServer.onConnect=function(e){o.default.dirtyDispatch({type:b.ActionTypes.RPC_APP_CONNECTED,
socketId:e.id,application:e.application});_.default.track(b.AnalyticEvents.AUTHORIZED_APP_CONNECTED,{app_id:e.application.id,transport:e.transport})};this.rpcServer.onDisconnect=function(e,t){o.default.dirtyDispatch({type:b.ActionTypes.RPC_APP_DISCONNECTED,socketId:e.id,application:e.application,reason:t})};var t=[i.default,u.default,d.default,m.default,c.default,f.default];new a.BatchedStoreListener(t.concat(this.stores),(function(){return e.rpcServer.updateSubscriptions()})).attach("RPCServerManager");o.default.subscribe(b.ActionTypes.MESSAGE_CREATE,(function(t){return e.handleMessage(t)}));o.default.subscribe(b.ActionTypes.MESSAGE_UPDATE,(function(t){return e.handleMessage(t)}));o.default.subscribe(b.ActionTypes.MESSAGE_DELETE,(function(t){return e.handleMessage(t)}));o.default.subscribe(b.ActionTypes.SPEAKING,(function(t){return e.handleSpeaking(t)}));o.default.subscribe(b.ActionTypes.OAUTH2_TOKEN_REVOKE,(function(t){return e.handleOAuth2TokenRevoke(t)}))
;o.default.subscribe(b.ActionTypes.GUILD_CREATE,(function(t){return e.handleGuildCreate(t)}));o.default.subscribe(b.ActionTypes.CHANNEL_CREATE,(function(t){return e.handleChannelCreate(t)}));o.default.subscribe(b.ActionTypes.LOGOUT,(function(){return e.handleLogout()}));o.default.subscribe(b.ActionTypes.VOICE_CHANNEL_SELECT,(function(t){return e.handleVoiceChannelSelect(t)}));o.default.subscribe(b.ActionTypes.RPC_NOTIFICATION_CREATE,(function(t){return e.handleNotificationCreate(t)}));o.default.subscribe(b.ActionTypes.ACTIVITY_JOIN,(function(t){return e.handleActivityJoin(t)}));o.default.subscribe(b.ActionTypes.ACTIVITY_PIP_MODE_UPDATE,(function(t){return e.handleActivityPIPModeUpdate(t)}));o.default.subscribe(b.ActionTypes.RELATIONSHIP_ADD,(function(t){return e.handleRelationshipAdd(t)}));o.default.subscribe(b.ActionTypes.RELATIONSHIP_REMOVE,(function(t){return e.handleRelationshipRemove(t)}));o.default.subscribe(b.ActionTypes.PRESENCE_UPDATES,(function(t){
return e.handlePresenceUpdate(t)}));o.default.subscribe(b.ActionTypes.PRESENCES_REPLACE,(function(){return e.handlePresencesReplace()}));o.default.subscribe(b.ActionTypes.LOBBY_UPDATE,(function(t){return e.handleLobbyUpdate(t)}));o.default.subscribe(b.ActionTypes.LOBBY_DELETE,(function(t){return e.handleLobbyDelete(t)}));o.default.subscribe(b.ActionTypes.LOBBY_MEMBER_CONNECT,(function(t){return e.handleLobbyMemberConnect(t)}));o.default.subscribe(b.ActionTypes.LOBBY_MEMBER_UPDATE,(function(t){return e.handleLobbyMemberUpdate(t)}));o.default.subscribe(b.ActionTypes.LOBBY_MEMBER_DISCONNECT,(function(t){return e.handleLobbyMemberDisconnect(t)}));o.default.subscribe(b.ActionTypes.LOBBY_MESSAGE,(function(t){return e.handleLobbyMessage(t)}));o.default.subscribe(b.ActionTypes.ENTITLEMENT_CREATE,(function(t){return e.handleEntitlementCreate(t)}));o.default.subscribe(b.ActionTypes.ENTITLEMENT_DELETE,(function(t){return e.handleEntitlementDelete(t)}))
;o.default.subscribe(b.ActionTypes.USER_ACHIEVEMENT_UPDATE,(function(t){return e.handleUserAchievementUpdate(t)}))};t.handleMessage=function(e){if(0!==this.rpcServer.subscriptions.length){e.type===b.ActionTypes.MESSAGE_CREATE&&this.handleActivityMessage(e);var t,n,r,a=null;switch(e.type){case b.ActionTypes.MESSAGE_CREATE:if("SENDING"===e.message.state)return;t=b.RPCEvents.MESSAGE_CREATE;n=e.channelId;r=e.message;a=""+t+e.message.id;break;case b.ActionTypes.MESSAGE_UPDATE:t=b.RPCEvents.MESSAGE_UPDATE;n=e.message.channel_id;r=e.message;break;case b.ActionTypes.MESSAGE_DELETE:t=b.RPCEvents.MESSAGE_DELETE;n=e.channelId;r={id:e.id};a=""+t+e.id;break;default:return(0,g.assertNever)(e)}null!=n&&this.rpcServer.dispatchToSubscriptions(t,{channel_id:n},{channel_id:n,message:(0,O.transformInternalTextMessage)(r)},a)}};t.handleSpeaking=function(e){var t=this;if(0!==this.rpcServer.subscriptions.length){var n=0!==e.speakingFlags?b.RPCEvents.SPEAKING_START:b.RPCEvents.SPEAKING_STOP
;if(e.context===I.MediaEngineContextTypes.DEFAULT){var r=v.default.getVoiceChannelId();if(null!=r){var a=i.default.getChannel(r);if(null==a)return;var o=m.default.getVoiceState(a.getGuildId(),e.userId);if(null==o)return;this.rpcServer.dispatchToSubscriptions(n,{channel_id:o.channelId},{channel_id:o.channelId,user_id:e.userId})}}else s.default.getLobbyIdsForUser(e.userId).forEach((function(r){var a=l.default.getLobby(r);null!=a&&a.application_id===e.context&&t.rpcServer.dispatchToSubscriptions(n,{},{lobby_id:r,user_id:e.userId})}))}};t.handleVoiceChannelSelect=function(e){var t=e.guildId,n=e.channelId;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(b.RPCEvents.VOICE_CHANNEL_SELECT,{},{channel_id:n,guild_id:t})};t.handleNotificationCreate=function(e){var t=e.channelId,n=e.message,r=e.icon,a=e.title,o=e.body;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(b.RPCEvents.NOTIFICATION_CREATE,{},{channel_id:t,message:(0,
O.transformInternalTextMessage)(n),icon_url:null!=r?(0,O.getRemoteIconURL)(r):null,title:a,body:o})};t.handleActivityJoin=function(e){var t=e.applicationId,n=e.secret,r=e.intent,a=e.embedded;if(0!==this.rpcServer.subscriptions.length){var o={secret:n};a&&(o.intent=r);this.rpcServer.dispatchToSubscriptions(b.RPCEvents.ACTIVITY_JOIN,(function(e){return e.socket.application.id===t}),o);this.rpcServer.dispatchToSubscriptions(b.RPCEvents.GAME_JOIN,(function(e){return e.socket.application.id===t}),o)}};t.handleActivityPIPModeUpdate=function(e){var t=e.applicationId,n=e.isPIPMode;if(0!==this.rpcServer.subscriptions.length){var r={is_pip_mode:n};this.rpcServer.dispatchToSubscriptions(b.RPCEvents.ACTIVITY_PIP_MODE_UPDATE,(function(e){return e.socket.application.id===t}),r)}};t.handleActivityMessage=function(e){var t=e.channelId,n=e.message;if(0!==this.rpcServer.subscriptions.length){var r=n.application,a=n.activity;if(null!=r&&null!=a&&null!=a.party_id){var o=h.default.getUser(n.author.id)
;if(null!=o){var i=h.default.getCurrentUser();if(null!=i&&o.id!==i.id){var u=a.type===b.ActivityActionTypes.JOIN_REQUEST?d.default.getApplicationActivity(i.id,r.id):d.default.getApplicationActivity(o.id,r.id);if(null!=u&&null!=u.party&&u.party.id===a.party_id){var l=u.application_id;switch(a.type){case b.ActivityActionTypes.JOIN:this.rpcServer.dispatchToSubscriptions(b.RPCEvents.ACTIVITY_INVITE,(function(e){return e.socket.application.id===l}),{user:(0,S.default)(o),activity:u,type:a.type,channel_id:t,message_id:n.id});break;case b.ActivityActionTypes.JOIN_REQUEST:this.rpcServer.dispatchToSubscriptions(b.RPCEvents.ACTIVITY_JOIN_REQUEST,(function(e){return e.socket.application.id===l}),{user:(0,S.default)(o)})}}}}}}};t.handleOAuth2TokenRevoke=function(e){var t=e.accessToken;this.rpcServer.sockets.forEach((function(e){e.authorization.accessToken===t&&e.close(b.RPCCloseCodes.TOKEN_REVOKED,"Token revoked")}))};t.handleGuildCreate=function(e){var t=e.guild,n=t.id,r=t.name
;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(b.RPCEvents.GUILD_CREATE,{},{id:n,name:r})};t.handleChannelCreate=function(e){var t=e.channel,n=t.id,r=t.name,a=t.type;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(b.RPCEvents.CHANNEL_CREATE,{},{id:n,name:r,type:a})};t.handleLogout=function(){this.rpcServer.sockets.forEach((function(e){return e.close(b.RPCCloseCodes.CLOSE_NORMAL,"User logout")}))};t.handleRelationshipAdd=function(e){var t=e.relationship,n=t.id,r=t.type;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(b.RPCEvents.RELATIONSHIP_UPDATE,{},(0,O.transformRelationship)(r,n))};t.handleRelationshipRemove=function(e){var t=e.relationship.id;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(b.RPCEvents.RELATIONSHIP_UPDATE,{},(0,O.transformRelationship)(b.RelationshipTypes.NONE,t))};t.handlePresenceUpdate=function(e){var t=this,n=e.updates
;0!==this.rpcServer.subscriptions.length&&n.forEach((function(e){var n=e.guildId,r=e.user.id;if(null==n){var a=p.default.getRelationshipType(r);a===b.RelationshipTypes.NONE&&y.default.getUserAffinitiesUserIds().has(r)&&(a=b.RelationshipTypes.IMPLICIT);a!==b.RelationshipTypes.NONE&&t.rpcServer.dispatchToSubscriptions(b.RPCEvents.RELATIONSHIP_UPDATE,{},(0,O.transformRelationship)(a,r))}}))};t.handlePresencesReplace=function(){var e=this;0!==this.rpcServer.subscriptions.length&&r.default.forEach(p.default.getRelationships(),(function(t,n){e.rpcServer.dispatchToSubscriptions(b.RPCEvents.RELATIONSHIP_UPDATE,{},(0,O.transformRelationship)(t,n))}))};t.handleLobbyUpdate=function(e){var t=e.lobby;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(b.RPCEvents.LOBBY_UPDATE,{},t)};t.handleLobbyDelete=function(e){var t=e.lobbyId;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(b.RPCEvents.LOBBY_DELETE,{},{id:t})}
;t.handleLobbyMemberConnect=function(e){var t=e.lobbyId,n=e.member;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(b.RPCEvents.LOBBY_MEMBER_CONNECT,{},{lobby_id:t,member:n})};t.handleLobbyMemberUpdate=function(e){var t=e.lobbyId,n=e.member;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(b.RPCEvents.LOBBY_MEMBER_UPDATE,{},{lobby_id:t,member:n})};t.handleLobbyMemberDisconnect=function(e){var t=e.lobbyId,n=e.member;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(b.RPCEvents.LOBBY_MEMBER_DISCONNECT,{},{lobby_id:t,member:n})};t.handleLobbyMessage=function(e){var t=e.lobbyId,n=e.senderId,r=e.data;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(b.RPCEvents.LOBBY_MESSAGE,{},{lobby_id:t,sender_id:n,data:r})};t.handleEntitlementCreate=function(e){var t=e.entitlement
;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(b.RPCEvents.ENTITLEMENT_CREATE,(function(e){return e.socket.application.id===t.application_id}),{entitlement:t})};t.handleEntitlementDelete=function(e){var t=e.entitlement;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(b.RPCEvents.ENTITLEMENT_DELETE,(function(e){return e.socket.application.id===t.application_id}),{entitlement:t})};t.handleUserAchievementUpdate=function(e){var t=e.userAchievement;if(0!==this.rpcServer.subscriptions.length){var n=t.application_id;this.rpcServer.dispatchToSubscriptions(b.RPCEvents.USER_ACHIEVEMENT_UPDATE,(function(e){return e.socket.application.id===n}),{user_achievement:t})}};return e}();t.default=M},964125:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var n;return(n={})[p.RPCCommands.AUTHENTICATE]={handler:function(n){var a=n.socket,o=n.args.access_token
;if(null==o&&a.transport===p.TransportTypes.IPC){var u=a.application.id;if(null==u)throw new f.default(p.RPCErrors.INVALID_COMMAND,"No application.");var l=p.OAuth2Scopes.IDENTIFY,s=function(){return O({client_id:u,scope:l,response_type:"token"},e,t).then((function(e){if(null==e)throw new f.default(p.RPCErrors.UNKNOWN_ERROR,"Unknown error occurred");var t=e.split(/#|\?/),n=r.default.parse(t[t.length-1]);if(null!=n.error){var o;throw new f.default(p.RPCErrors.OAUTH2_ERROR,"OAuth2 Error: "+n.error+": "+(null!==(o=n.error_description)&&void 0!==o?o:"unknown error"))}!function(e,t,n,r){var a,o=null!==(a=i.default.get(E))&&void 0!==a?a:{};o[e]={accessToken:t,scope:n,expires:Date.now()+r};i.default.set(E,o)}(u,n.access_token,n.scope,n.expires_in);return b(a,n.access_token)}))};o=function(e,t){var n=i.default.get(E);if(null!=n&&null!=n[e]){var r=n[e];if(!(r.scope!==t||r.expires<=Date.now()))return r.accessToken;delete n[e];i.default.set(E,n)}}(u,l);return null!=o?b(a,o).catch((function(){
!function(e){var t,n=null!==(t=i.default.get(E))&&void 0!==t?t:{};delete n[e];i.default.set(E,n)}(u);return s()})):s()}if(null==o)throw new f.default(p.RPCErrors.INVALID_TOKEN,"No access token provided");return b(a,o)}},n[p.RPCCommands.AUTHORIZE]={handler:function(n){var a=n.socket,i=n.args,u=i.client_id;if(!u)throw new f.default(p.RPCErrors.INVALID_CLIENTID,"No client id provided");if(null!=a.authorization.accessToken)throw new f.default(p.RPCErrors.INVALID_COMMAND,"Already authenticated");if(a.authorization.authing)throw new f.default(p.RPCErrors.INVALID_COMMAND,"Already authing");a.authorization.authing=!0;return o.default.get({url:p.Endpoints.APPLICATION_RPC(u),oldFormErrors:!0}).then((function(n){var r=n.body;if(a.application.id!==r.id)throw new f.default(p.RPCErrors.INVALID_CLIENTID,"Application does not match the connection's");var o=i.scopes||i.scope;delete i.scopes;return O(y({},i,{scope:o}),e,t)}),(function(){
throw new f.default(p.RPCErrors.INVALID_CLIENTID,"Invalid client id: "+u)})).then((function(e){a.authorization.authing=!1;if(null==e)throw new f.default(p.RPCErrors.UNKNOWN_ERROR,"Unknown error occurred");var t=r.default.parse(e.split("?")[1].split("#")[0]);if(null!=t.error){var n;throw new f.default(p.RPCErrors.OAUTH2_ERROR,"OAuth2 Error: "+t.error+": "+(null!==(n=t.error_description)&&void 0!==n?n:"unknown error"))}return{code:t.code}})).catch((function(e){a.authorization.authing=!1;throw e}))}},n};var r=v(n(817673)),a=v(n(267258)),o=v(n(118915)),i=v(n(972247)),u=v(n(636602)),l=n(552720),s=n(830608),c=v(n(728429)),d=v(n(656016)),f=v(n(248369)),p=n(770348);function v(e){return e&&e.__esModule?e:{default:e}}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function h(e){return function(e){if(Array.isArray(e))return m(e)
}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){_(o,r,a,i,u,"next",e)}function u(e){_(o,r,a,i,u,"throw",e)}
i(void 0)}))}}var E="CachedTokens";function O(e,t,n){return S.apply(this,arguments)}function S(){return(S=g(regeneratorRuntime.mark((function e(t,n,r){var o,i,u,v,y,h,m,_,g,E,O,S,b,I,C,T,A,P,M;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=t.client_id,i=t.response_type,u=void 0===i?"code":i,v=t.redirect_uri,y=t.code_challenge,h=t.code_challenge_method,m=t.state,_=t.scope,g=t.permissions,E=t.guild_id,O=t.channel_id,S=t.prompt,b=t.disable_guild_select;if(null!=o){e.next=3;break}throw new f.default(p.RPCErrors.OAUTH2_ERROR,"No Client ID provided");case 3:if(null==v){e.next=5;break}throw new f.default(p.RPCErrors.OAUTH2_ERROR,"Redirect URI cannot be used in the RPC OAuth2 Authorization flow");case 5:I=[];"string"==typeof _?I=_.split(" ").filter((function(e){return e.length>0})):Array.isArray(_)&&(I=_);if(null!=c.default.getCurrentUser()){e.next=10;break}throw new f.default(p.RPCErrors.OAUTH2_ERROR,"Client is not logged in");case 10:e.prev=10;e.next=13
;return(0,l.fetchAuthorization)({clientId:o,scopes:I,responseType:u,redirectUri:v,codeChallenge:y,codeChallengeMethod:h,state:m});case 13:C=e.sent;e.next=20;break;case 16:e.prev=16;e.t0=e.catch(10);T=e.t0.body;throw new f.default(p.RPCErrors.OAUTH2_ERROR,"OAuth2 Authorization Error: "+(T.message||"Unknown Error"));case 20:if(S!==s.OAuth2Prompts.NONE||null==C||!C.authorized){e.next=32;break}e.prev=21;e.next=24;return(0,l.authorize)({authorize:!0,clientId:o,scopes:I,responseType:u,redirectUri:v,codeChallenge:y,codeChallengeMethod:h,state:m});case 24:A=e.sent;return e.abrupt("return",A.location);case 28:e.prev=28;e.t1=e.catch(21);P=e.t1.body;throw new f.default(p.RPCErrors.OAUTH2_ERROR,"OAuth2 Authorize Error: "+(P.message||"Unknown Error"));case 32:null==r||r(C.application);M=d.default.NONE;try{M=a.default.deserialize(null!=g?g:0)}catch(e){}return e.abrupt("return",n(o,C,I,M,u,v,y,h,m,E,O,S,b));case 36:case"end":return e.stop()}}),e,null,[[10,16],[21,28]])})))).apply(this,arguments)}
function b(e,t){if(e.authorization.accessToken)throw new f.default(p.RPCErrors.INVALID_COMMAND,"Already authenticated");if(e.authorization.authing)throw new f.default(p.RPCErrors.INVALID_COMMAND,"Already authenticating");e.authorization.authing=!0;return o.default.get({url:p.Endpoints.OAUTH2_CURRENT_AUTH,headers:{Authorization:"Bearer "+t},oldFormErrors:!0}).then((function(n){e.authorization.authing=!1;var r=n.body,a=r.application,o=r.user,i=r.scopes,l=r.expires;if(e.application.id!==a.id)throw new f.default(p.RPCErrors.INVALID_CLIENTID,"Application does not match the connection's");var s=c.default.getCurrentUser();if(null==s||!o||s.id!==o.id)throw new f.default(p.RPCErrors.INVALID_TOKEN,"Token does not match current user");e.authorization.scopes=[].concat(h(e.authorization.scopes),h(i),[p.RPC_AUTHENTICATED_SCOPE]);e.authorization.accessToken=t;e.authorization.expires=new Date(l);u.default.dispatch({type:p.ActionTypes.RPC_APP_AUTHENTICATED,socketId:e.id,application:e.application})
;return y({},n.body,{access_token:t})}),(function(){throw new f.default(p.RPCErrors.INVALID_TOKEN,"Invalid access token: "+t)})).catch((function(t){e.authorization.authing=!1;throw t}))}},311809:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o,i=s(n(94047)),u=s(n(248369)),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}var c=((o={})[l.RPCCommands.SET_USER_ACHIEVEMENT]={scope:(r={},r[l.RPC_SCOPE_CONFIG.ANY]=[l.OAuth2Scopes.RPC,l.RPC_LOCAL_SCOPE],r),validation:function(e){return e.object().required().keys({achievement_id:e.string().min(2).max(128),percent_complete:e.number().min(0).max(100).required()})},handler:function(e){var t=e.socket,n=e.args,r=n.achievement_id,a=n.percent_complete,o=t.application.id;if(null==o)throw new u.default(l.RPCErrors.INVALID_COMMAND,"No application.");return i.default.setUserAchievement(o,r,a).catch((function(e){var t=e.status,n=e.body;switch(t){case 429:
throw new u.default(l.RPCErrors.RATE_LIMITED,"You are being rate limited.");case 403:throw null!=n&&n.code===l.AbortCodes.USER_NOT_AUTHORIZED_FOR_APPLICATION?new u.default(l.RPCErrors.UNAUTHORIZED_FOR_ACHIEVEMENT,"Not authorized to update this achievement."):new u.default(l.RPCErrors.UNKNOWN_ERROR,"Unknown error from API. status="+t+".");default:throw new u.default(l.RPCErrors.UNKNOWN_ERROR,"Unknown error from API. status="+t+".")}})).then((function(){return null}))}},o[l.RPCCommands.GET_USER_ACHIEVEMENTS]={scope:(a={},a[l.RPC_SCOPE_CONFIG.ANY]=[l.OAuth2Scopes.RPC,l.RPC_LOCAL_SCOPE],a),handler:function(e){var t=e.socket.application.id;if(null==t)throw new u.default(l.RPCErrors.INVALID_COMMAND,"No application.");return i.default.fetchForApplication(t).then((function(e){return e||[]}))}},o);t.default=c},421700:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o,i=n(360307),u=(r=n(248369))&&r.__esModule?r:{default:r},l=n(770348),s=n(376293)
;var c=((o={})[l.RPCCommands.SET_CERTIFIED_DEVICES]={scope:(a={},a[l.RPC_SCOPE_CONFIG.ANY]=[l.OAuth2Scopes.RPC,l.RPC_LOCAL_SCOPE],a),validation:function(e){return e.object().required().keys({devices:e.array().items(e.object().keys({type:e.string().required().valid([s.DeviceTypes.AUDIO_INPUT,s.DeviceTypes.AUDIO_OUTPUT,s.DeviceTypes.VIDEO_INPUT]),id:e.string().required().min(1),vendor:e.object().required().keys({name:e.string().min(1),url:e.string().min(1)}),model:e.object().required().keys({name:e.string().min(1),url:e.string().min(1)}),related:e.array().items(e.string().min(1)),echo_cancellation:e.boolean(),noise_suppression:e.boolean(),automatic_gain_control:e.boolean(),hardware_mute:e.boolean()}))})},handler:function(e){var t=e.socket,n=e.args.devices;if(null==t.application.id)throw new u.default(l.RPCErrors.INVALID_COMMAND,"No application.");(0,i.setCertifiedDevices)(t.application.id,n.map((function(e){return{type:e.type,id:e.id,vendor:e.vendor,model:e.model,
related:e.related.filter((function(e){return n.some((function(t){return t.id===e}))})),echoCancellation:e.echo_cancellation,noiseSuppression:e.noise_suppression,automaticGainControl:e.automatic_gain_control,hardwareMute:e.hardware_mute}})))}},o);t.default=c},588648:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=E(n(496486)),i=E(n(23170)),u=E(n(136873)),l=n(139982),s=n(567186),c=E(n(644263)),d=E(n(30098)),f=E(n(689389)),p=E(n(211136)),v=E(n(387692)),y=n(319986),h=E(n(248369)),m=n(861798),_=n(770348),g=["channel_id"];function E(e){return e&&e.__esModule?e:{default:e}}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{
if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var b=((a={})[_.RPCCommands.GET_CHANNEL]={scope:_.OAuth2Scopes.RPC,handler:function(e){var t=e.args.channel_id,n=e.socket,r=c.default.getChannel(t);if(null==r)throw new h.default(_.RPCErrors.INVALID_CHANNEL,"Invalid channel id: "+t);return(0,m.transformChannel)(r,(0,m.hasMessageReadPermission)(r,n.application.id,n.authorization.scopes))}},a[_.RPCCommands.GET_CHANNELS]={
scope:_.OAuth2Scopes.RPC,handler:function(e){var t=e.args.guild_id,n=o.default.values(c.default.loadAllGuildAndPrivateChannelsFromDisk());if(t){var r=d.default.getGuild(t);if(null==r)throw new h.default(_.RPCErrors.INVALID_GUILD,"Invalid guild id: "+t);n=n.filter((function(e){return e.guild_id===r.id}))}return{channels:n.filter((function(e){return f.default.can(_.Permissions.VIEW_CHANNEL,e)})).map((function(e){return{id:e.id,name:e.name,type:e.type}}))}}},a[_.RPCCommands.SELECT_VOICE_CHANNEL]={scope:_.OAuth2Scopes.RPC,validation:function(e){return e.object().required().keys({channel_id:e.string().allow(null),timeout:e.number().min(0).max(60),force:e.boolean()})},handler:function(e){var t=e.server,n=e.socket,r=e.args,a=r.channel_id,o=r.timeout,i=void 0===o?0:o,l=r.force,g=void 0!==l&&l;if(!a){u.default.selectVoiceChannel(null);return null}var E=p.default.getVoiceChannelId()
;if(null!=E&&E!==a&&!1===g)throw new h.default(_.RPCErrors.SELECT_VOICE_FORCE_REQUIRED,"User is already joined to a voice channel.");return t.storeWait(n,(function(){return c.default.getChannel(a)}),i).catch((function(){throw new h.default(_.RPCErrors.SELECT_CHANNEL_TIMED_OUT,"Request to select voice channel timed out.")})).then((function(e){if(null==e)throw new h.default(_.RPCErrors.INVALID_CHANNEL,"Invalid channel id: "+a);if(!(0,s.isVoiceChannel)(e.type))throw new h.default(_.RPCErrors.INVALID_CHANNEL,"Channel is not a voice channel");return Promise.all([Promise.resolve(e),(0,m.transformChannel)(e,(0,m.hasMessageReadPermission)(e,n.application.id,n.authorization.scopes))])})).then((function(e){var t=O(e,2),n=t[0],r=t[1];if(r.guild_id){if((0,y.isChannelFull)(n,v.default,d.default))throw new h.default(_.RPCErrors.INVALID_CHANNEL,"Channel is full")
;if(!f.default.can(_.Permissions.CONNECT,n))throw new h.default(_.RPCErrors.INVALID_PERMISSIONS,"Connect permission required to join channel")}u.default.selectVoiceChannel(n.id);return r}))}},a[_.RPCCommands.GET_SELECTED_VOICE_CHANNEL]={scope:(r={},r[_.RPC_SCOPE_CONFIG.ANY]=[_.OAuth2Scopes.RPC,_.OAuth2Scopes.RPC_VOICE_READ],r),handler:function(e){var t=e.socket,n=p.default.getVoiceChannelId(),r=null!=n?c.default.getChannel(n):null;return null!=r?(0,m.transformChannel)(r,(0,m.hasMessageReadPermission)(r,t.application.id,t.authorization.scopes)):null}},a[_.RPCCommands.SELECT_TEXT_CHANNEL]={scope:_.OAuth2Scopes.RPC,validation:function(e){return e.object().required().keys({channel_id:e.string().allow(null),timeout:e.number().min(0).max(60)})},handler:function(e){var t=e.server,n=e.socket,r=e.args,a=r.channel_id,o=r.timeout,i=void 0===o?0:o;if(!a){(0,l.transitionTo)(_.Routes.ME);return null}return t.storeWait(n,(function(){return c.default.getChannel(a)}),i).catch((function(){
throw new h.default(_.RPCErrors.SELECT_CHANNEL_TIMED_OUT,"Request to select text channel timed out.")})).then((function(e){if(null==e)throw new h.default(_.RPCErrors.INVALID_CHANNEL,"Invalid channel id: "+a);if(!(0,s.isTextChannel)(e.type))throw new h.default(_.RPCErrors.INVALID_CHANNEL,"Channel is not a text channel");return Promise.all([Promise.resolve(e),(0,m.transformChannel)(e,(0,m.hasMessageReadPermission)(e,n.application.id,n.authorization.scopes))])})).then((function(e){var t=O(e,2),n=t[0],r=t[1];if(r.guild_id&&!f.default.can(_.Permissions.VIEW_CHANNEL,n))throw new h.default(_.RPCErrors.INVALID_CHANNEL,"No permission to see channel");r.guild_id?(0,l.replaceWith)(_.Routes.CHANNEL(r.guild_id,n.id)):u.default.selectPrivateChannel(n.id);return r}))}},a[_.RPCCommands.CREATE_CHANNEL_INVITE]={scope:_.OAuth2Scopes.RPC,handler:function(e){var t=e.args,n=t.channel_id,r=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r]
;t.indexOf(n)>=0||(a[n]=e[n])}return a}(t,g);return i.default.createInvite(n,r,"RPC").catch((function(){throw new h.default(_.RPCErrors.INVALID_PERMISSIONS,"Unable to generate an invite for "+n+". Does this user have permissions?")}))}},a);t.default=b},148400:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=u(n(636602)),o=u(n(248369)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}var l=((r={})[i.RPCCommands.SET_CONFIG]={scope:i.RPC_AUTHENTICATED_SCOPE,validation:function(e){return e.object().required().keys({use_interactive_pip:e.boolean()})},handler:function(e){var t=e.socket,n=e.args.use_interactive_pip;if(t.transport!==i.TransportTypes.POST_MESSAGE)throw new o.default(i.RPCErrors.INVALID_COMMAND,'command not available from "'+t.transport+" transport");if(null==t.application.id)throw new o.default(i.RPCErrors.INVALID_COMMAND,"invalid application");a.default.dispatch({type:i.ActionTypes.EMBEDDED_ACTIVITY_SET_CONFIG,
applicationId:t.application.id,config:{useInteractivePIP:n}});return Promise.resolve({use_interactive_pip:n})}},r);t.default=l},985918:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.crossPlatformCommands=void 0;var r=g(n(311809)),a=g(n(421700)),o=g(n(588648)),i=g(n(148400)),u=g(n(701302)),l=g(n(490305)),s=g(n(220928)),c=g(n(219995)),d=g(n(451498)),f=g(n(506979)),p=g(n(819016)),v=g(n(839777)),y=g(n(553089)),h=g(n(855566)),m=g(n(511502)),_=g(n(663148));function g(e){return e&&e.__esModule?e:{default:e}}function E(){E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return E.apply(this,arguments)}var O=E({},r.default,{},a.default,{},o.default,{},i.default,{},u.default,{},l.default,{},s.default,{},c.default,{},d.default,{},f.default,{},p.default,{},v.default,{},y.default,{},h.default,{},_.default,{},m.default);t.crossPlatformCommands=O},
701302:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=l(n(496486)),o=l(n(30098)),i=l(n(248369)),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}var s=((r={})[u.RPCCommands.GET_GUILD]={scope:u.OAuth2Scopes.RPC,validation:function(e){return e.object().required().keys({guild_id:e.string(),timeout:e.number().min(0).max(60)})},handler:function(e){var t=e.socket,n=e.server,r=e.args,a=r.guild_id,l=r.timeout,s=void 0===l?0:l;return n.storeWait(t,(function(){return o.default.getGuild(a)}),s).catch((function(){throw new i.default(u.RPCErrors.GET_GUILD_TIMED_OUT,"Request to get guild timed out.")})).then((function(e){var t;if(null==e)throw new i.default(u.RPCErrors.INVALID_GUILD,"Invalid guild id: "+a);return{id:e.id,name:e.name,icon_url:null!==(t=e.getIconURL(128))&&void 0!==t?t:null,members:[],vanity_url_code:e.vanityURLCode}}))}},r[u.RPCCommands.GET_GUILDS]={scope:u.OAuth2Scopes.RPC,handler:function(){var e=o.default.getGuilds()
;return{guilds:a.default.map(e,(function(e){return{id:e.id,name:e.name,icon_url:e.getIconURL(128)}}))}}},r);t.default=s},490305:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=s(n(728429)),o=s(n(692711)),i=n(175235),u=s(n(248369)),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}var c=((r={})[l.RPCCommands.GET_IMAGE]={scope:l.RPC_LOCAL_SCOPE,validation:function(e){return e.object().required().keys({type:e.string().required().valid(["user"]),id:e.string().required(),format:e.string().required().valid(["png","webp","jpg"]),size:e.number().required().valid([16,32,64,128,256,512,1024])})},handler:function(e){var t,n=e.args,r=n.type,s=n.id,c=n.format,d=void 0===c?"png":c,f=n.size,p=void 0===f?128:f;if("user"===r){var v=a.default.getUser(s);if(null==v)throw new u.default(l.RPCErrors.INVALID_USER,"Invalid user id: "+s);t=o.default.getUserAvatarURL(v,!1,p,d);var y=window.GLOBAL_ENV.CDN_HOST;null!=y&&-1!==t.indexOf(y)&&(t+="&_=")}
if(null==t)throw new u.default(l.RPCErrors.INVALID_COMMAND,"No valid type.");return fetch(t).then((function(e){return e.blob()})).then((function(e){return(0,i.readFileAsBase64)(e)})).then((function(e){return{data_url:e}}))}},r);t.default=c},220928:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=c(n(165551)),o=n(262710),i=n(864489),u=c(n(248369)),l=n(861798),s=n(770348);function c(e){return e&&e.__esModule?e:{default:e}}var d=((r={})[s.RPCCommands.OPEN_EXTERNAL_LINK]={validation:function(e){return e.object().required().keys({url:e.string().required()})},handler:function(e){var t=e.socket,n=e.args.url;(0,l.validatePostMessageTransport)(t.transport);try{var r=new URL(n);i.isPlatformEmbedded&&a.default.focus(null,!0);(0,o.handleClick)({href:r.toString()})}catch(e){throw new u.default(s.RPCErrors.INVALID_COMMAND,"Invalid URL: "+n)}}},r);t.default=d},219995:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.default=void 0;var r=n(24794);n(226720);var a,o,i,u,l,s,c,d,f,p=n(319111),v=(a=n(248369))&&a.__esModule?a:{default:a},y=n(770348);function h(e){if(e instanceof p.LobbyError)switch(e.code){case y.LobbyErrors.FULL:throw new v.default(y.RPCErrors.LOBBY_FULL,"Lobby is full.");case y.LobbyErrors.INVALID_SECRET:throw new v.default(y.RPCErrors.INVALID_LOBBY_SECRET,"Lobby secret is invalid.");case y.LobbyErrors.NOT_FOUND:throw new v.default(y.RPCErrors.INVALID_LOBBY,"Lobby does not exist.");case y.LobbyErrors.SERVICE_UNAVAILABLE:throw new v.default(y.RPCErrors.SERVICE_UNAVAILABLE,"Lobby service is unavailable.");case y.LobbyErrors.ALREADY_CONNECTING:throw new v.default(y.RPCErrors.INVALID_COMMAND,"Already connecting to lobby.");default:throw new v.default(y.RPCErrors.UNKNOWN_ERROR,"Unknown error has occured.")}throw e}var m=((f={})[y.RPCCommands.CREATE_LOBBY]={scope:(o={},o[y.RPC_SCOPE_CONFIG.ANY]=[y.RPC_LOCAL_SCOPE],o),validation:function(e){return e.object().required().keys({
type:e.number().valid(Object.values(y.LobbyTypes)),capacity:e.number(),locked:e.boolean(),metadata:e.object()})},handler:function(e){var t=e.socket,n=e.args,a=n.type,o=n.capacity,i=n.locked,u=n.metadata;if(null==t.application.id)throw new v.default(y.RPCErrors.INVALID_COMMAND,"No application.");return(0,r.createLobby)(t.id,t.application.id,{type:a,capacity:o,locked:i,metadata:u}).catch(h)}},f[y.RPCCommands.UPDATE_LOBBY]={scope:(i={},i[y.RPC_SCOPE_CONFIG.ANY]=[y.RPC_LOCAL_SCOPE],i),validation:function(e){return e.object().required().keys({id:e.string().required(),type:e.number().valid(Object.values(y.LobbyTypes)),owner_id:e.string(),capacity:e.number(),locked:e.boolean(),metadata:e.object()})},handler:function(e){var t=e.args,n=t.id,a=t.type,o=t.owner_id,i=t.capacity,u=t.locked,l=t.metadata;return(0,r.updateLobby)(n,{type:a,owner_id:o,capacity:i,locked:u,metadata:l}).catch(h)}},f[y.RPCCommands.DELETE_LOBBY]={scope:(u={},u[y.RPC_SCOPE_CONFIG.ANY]=[y.RPC_LOCAL_SCOPE],u),
validation:function(e){return e.object().required().keys({id:e.string().required()})},handler:function(e){var t=e.args.id;return(0,r.deleteLobby)(t).catch(h)}},f[y.RPCCommands.UPDATE_LOBBY_MEMBER]={scope:(l={},l[y.RPC_SCOPE_CONFIG.ANY]=[y.RPC_LOCAL_SCOPE],l),validation:function(e){return e.object().required().keys({lobby_id:e.string().required(),user_id:e.string().required(),metadata:e.object()})},handler:function(e){var t=e.args,n=t.lobby_id,a=t.user_id,o=t.metadata;return(0,r.updateLobbyMember)(n,a,{metadata:o}).catch(h)}},f[y.RPCCommands.CONNECT_TO_LOBBY]={scope:(s={},s[y.RPC_SCOPE_CONFIG.ANY]=[y.RPC_LOCAL_SCOPE],s),validation:function(e){return e.object().required().keys({id:e.string().required(),secret:e.string().required()})},handler:function(e){var t=e.socket,n=e.args,a=n.id,o=n.secret;return(0,r.connect)(t.id,a,o).catch(h)}},f[y.RPCCommands.DISCONNECT_FROM_LOBBY]={scope:(c={},c[y.RPC_SCOPE_CONFIG.ANY]=[y.RPC_LOCAL_SCOPE],c),validation:function(e){
return e.object().required().keys({id:e.string().required()})},handler:function(e){var t=e.args.id;(0,r.disconnect)(t)}},f[y.RPCCommands.SEND_TO_LOBBY]={scope:(d={},d[y.RPC_SCOPE_CONFIG.ANY]=[y.RPC_LOCAL_SCOPE],d),validation:function(e){return e.object().required().keys({lobby_id:e.string().required(),data:e.string().required()})},handler:function(e){var t=e.args,n=t.lobby_id,a=t.data;return(0,r.send)(n,a).catch(h)}},f[y.RPCCommands.SEARCH_LOBBIES]={scope:y.RPC_LOCAL_SCOPE,validation:function(e){return e.object().required().keys({filter:e.array().items(e.object().keys({key:e.string().required(),comparison:e.number().required(),cast:e.number().required(),value:e.string().required()})),sort:e.array().items(e.object().keys({key:e.string().required(),cast:e.number().required(),near_value:e.string()})),limit:e.number(),distance:e.number()})},handler:function(e){var t=e.socket,n=e.args,a=n.filter,o=n.sort,i=n.limit,u=n.distance;return(0,r.search)({application_id:t.application.id,filter:a,
sort:o,limit:i,distance:u}).catch(h)}},f[y.RPCCommands.CONNECT_TO_LOBBY_VOICE]={scope:y.RPC_LOCAL_SCOPE,validation:function(e){return e.object().required().keys({id:e.string().required()})},handler:function(e){var t=e.args.id;(0,r.voiceConnect)(t)}},f[y.RPCCommands.DISCONNECT_FROM_LOBBY_VOICE]={scope:y.RPC_LOCAL_SCOPE,validation:function(e){return e.object().required().keys({id:e.string().required()})},handler:function(e){var t=e.args.id;(0,r.voiceDisconnect)(t)}},f);t.default=m},451498:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=(r=n(791548))&&r.__esModule?r:{default:r},i=n(861798),u=n(770348);var l=new o.default(u.RPC_APPLICATION_LOGGING_CATEGORY),s=((a={})[u.RPCCommands.CAPTURE_LOG]={validation:function(e){return e.object().required().keys({level:e.string().required(),message:e.string().required()})},handler:function(e){var t=e.socket,n=e.args,r=n.level,a=n.message;(0,i.validatePostMessageTransport)(t.transport)
;var o=t.application.id+" - "+a;switch(r){case"log":l.log(o);break;case"warn":l.warn(o);break;case"debug":l.verbose(o);break;case"info":l.info(o);break;case"error":l.error(o)}}},a);t.default=s},506979:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=u(n(118915)),o=u(n(308920)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c=((r={})[i.RPCCommands.GET_NETWORKING_CONFIG]={scope:i.RPC_LOCAL_SCOPE,handler:function(){return Promise.all([a.default.get({url:location.protocol+window.GLOBAL_ENV.NETWORKING_ENDPOINT,retries:3}).then((function(e){return e.body.address})),a.default.post({url:i.Endpoints.NETWORKING_TOKEN,retries:3,oldFormErrors:!0}).then((function(e){return e.body.token}))]).then((function(e){var t=l(e,2);return{address:t[0],token:t[1]}}))}},r[i.RPCCommands.NETWORKING_SYSTEM_METRICS]={scope:i.RPC_LOCAL_SCOPE,handler:function(e){var t=e.socket,n=e.args;n.application_id=t.application.id
;o.default.track(i.AnalyticEvents.NETWORKING_SYSTEM_METRICS,n)}},r[i.RPCCommands.NETWORKING_PEER_METRICS]={scope:i.RPC_LOCAL_SCOPE,handler:function(e){var t=e.socket,n=e.args;n.application_id=t.application.id;o.default.track(i.AnalyticEvents.NETWORKING_PEER_METRICS,n)}},r[i.RPCCommands.NETWORKING_CREATE_TOKEN]={scope:i.RPC_LOCAL_SCOPE,handler:function(){return a.default.post({url:i.Endpoints.NETWORKING_TOKEN,retries:1,oldFormErrors:!0}).then((function(e){return e.body}))}},r);t.default=c},819016:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=c(n(496486)),o=c(n(290629)),i=c(n(538983)),u=c(n(728429)),l=n(861798),s=n(770348);function c(e){return e&&e.__esModule?e:{default:e}}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}var f=((r={})[s.RPCCommands.GET_RELATIONSHIPS]={
scope:s.RPC_LOCAL_SCOPE,handler:function(){var e=d({},o.default.getRelationships());i.default.getUserAffinitiesUserIds().forEach((function(t){null==e[t]&&null!=u.default.getUser(t)&&(e[t]=s.RelationshipTypes.IMPLICIT)}));return{relationships:a.default.map(e,(function(e,t){return(0,l.transformRelationship)(e,t)}))}}},r);t.default=f},839777:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=f(n(496486)),i=f(n(636602)),u=f(n(308920)),l=n(698243),s=f(n(248369)),c=n(861798),d=n(770348);function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){
if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var y=["349134787773988865"],h=((a={})[d.RPCCommands.SET_ACTIVITY]={scope:(r={},r[d.RPC_SCOPE_CONFIG.ANY]=[d.OAuth2Scopes.RPC,d.OAuth2Scopes.RPC_ACTIVITIES_WRITE,d.RPC_LOCAL_SCOPE],r),validation:function(e){return e.object().required().keys({pid:e.number().min(0),activity:e.object().keys({state:e.string().min(2).max(128),details:e.string().min(2).max(128),timestamps:e.object().keys({start:e.number().min(1),
end:e.number().min(1)}),assets:e.object().keys({large_image:e.string().min(1).max(256),large_text:e.string().min(2).max(128),small_image:e.string().min(1).max(256),small_text:e.string().min(2).max(128)}),party:e.object().keys({id:e.string().min(2).max(128),size:e.array().items(e.number().min(1)).length(2),privacy:e.number().default(d.ActivityPartyPrivacy.PRIVATE).valid([d.ActivityPartyPrivacy.PRIVATE,d.ActivityPartyPrivacy.PUBLIC])}),secrets:e.object().keys({match:e.string().min(2).max(128),join:e.string().min(2).max(128),spectate:e.string().min(2).max(128)}),buttons:e.array().items(e.object().keys({label:e.string().min(1).max(32).required(),url:e.string().uri().min(1).max(512).required()})).min(1).max(2),instance:e.boolean(),supported_platforms:e.array().items(e.string().min(1).max(32)).min(1).max(3),type:e.number().default(d.ActivityTypes.PLAYING).valid(d.ActivityTypes.PLAYING,d.ActivityTypes.WATCHING)}).allow(null)})},handler:function(e){
var t,n=e.socket,r=e.args,a=r.pid,f=r.activity,v=e.isSocketConnected;if(![d.TransportTypes.IPC,d.TransportTypes.WEBSOCKET,d.TransportTypes.POST_MESSAGE].includes(n.transport))throw new s.default(d.RPCErrors.INVALID_COMMAND,'command not available from "'+n.transport+'" transport');if(null==a&&d.TransportTypes.IPC===n.transport)throw new s.default(d.RPCErrors.INVALID_COMMAND,"nonzero pid required");if(null==f){i.default.dispatch({type:d.ActionTypes.LOCAL_ACTIVITY_UPDATE,socketId:n.id,pid:a,activity:f});return Promise.resolve(f)}f.name=n.application.name;f.application_id=n.application.id;var h=n.transport===d.TransportTypes.POST_MESSAGE,m=(0,c.computeActivityFlags)(f,h);m>0&&(f.flags=m);delete f.instance;null===(t=f.party)||void 0===t||delete t.privacy;var _,g=f.assets,E=f.party,O=f.secrets,S=f.timestamps,b=f.buttons,I=f.type;(null==I||I!==d.ActivityTypes.PLAYING&&!h)&&(f.type=d.ActivityTypes.PLAYING);if(null!=O){var C=o.default.values(O).filter((function(e){return!!e}))
;if(null!=E&&o.default.intersection(C,[E.id]).length>0&&!y.includes(n.application.id))throw new s.default(d.RPCErrors.INVALID_ACTIVITY_SECRET,"secrets cannot match the party id");if(o.default.uniq(C).length<C.length)throw new s.default(d.RPCErrors.INVALID_ACTIVITY_SECRET,"secrets must be unique");if(null!=b)throw new s.default(d.RPCErrors.INVALID_ACTIVITY_SECRET,"secrets cannot currently be sent with buttons")}if(null!=b){f.metadata={button_urls:b.map((function(e){return e.url}))};f.buttons=b.map((function(e){return e.label}))}if(null!=S)for(var T=0,A=Object.keys(S);T<A.length;T++){var P=A[T];Date.now().toString().length-S[P].toString().length>2&&(S[P]=Math.floor(1e3*S[P]))}if(null==g)_=Promise.resolve([]);else{if(null==n.application||null==n.application.id)throw new Error;_=(0,l.getAssetIds)(n.application.id,[g.large_image,g.small_image])}return _.then((function(e){var t=p(e,2),r=t[0],o=t[1];if(null!=g){null!=r?g.large_image=r:delete g.large_image
;null!=o?g.small_image=o:delete g.small_image}if(v()){i.default.dispatch({type:d.ActionTypes.LOCAL_ACTIVITY_UPDATE,socketId:n.id,pid:a,activity:f});var l=f.secrets,s=f.party,c={application_id:n.application.id,type:f.type};if(null!=l){c.has_match_secret=!!l.match;c.has_join_secret=!!l.join}null!=g&&(c.has_images=!(!g.large_image&&!g.small_image));if(null!=s){c.party_max=null!=s.size?s.size[1]:void 0;c.party_id=s.id}u.default.track(d.AnalyticEvents.ACTIVITY_UPDATED,c);return f}}))}},a);t.default=h},553089:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=l(n(636602)),o=l(n(248369)),i=n(770348),u=n(418173);function l(e){return e&&e.__esModule?e:{default:e}}var s=((r={})[n(478036).RPCCommands.SET_ORIENTATION_LOCK_STATE]={validation:function(e){return e.object().required().keys({lock_state:e.number().valid(u.OrientationLockState.UNLOCKED,u.OrientationLockState.PORTRAIT,u.OrientationLockState.LANDSCAPE).required()})},handler:function(e){
var t=e.socket,n=e.args.lock_state,r=t.application.id;if(null==r)throw new o.default(i.RPCErrors.INVALID_COMMAND,"No application.");a.default.dispatch({type:i.ActionTypes.EMBEDDED_ACTIVITY_SET_ORIENTATION_LOCK_STATE,applicationId:r,lockState:n})}},r);t.default=s},855566:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=u(n(248369)),o=u(n(424062)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}var l=((r={})[i.RPCCommands.SUBSCRIBE]={handler:function(e){var t=e.server,n=e.socket,r=e.evt,u=e.args;return new Promise((function(e){var l=t.events[r];if(null==l)throw new a.default(i.RPCErrors.INVALID_EVENT,"Invalid event: "+r);if(!(0,o.default)(n.authorization.scopes,l.scope))throw new a.default(i.RPCErrors.INVALID_PERMISSIONS,"Not authenticated or invalid scope");var s=l.handler({args:u,socket:n});setImmediate((function(){return t.addSubscription(n,r,u,s)}));e({evt:r})}))}},r[i.RPCCommands.UNSUBSCRIBE]={handler:function(e){
var t=e.server,n=e.socket,r=e.evt,o=e.args;if(null==t.events[r])throw new a.default(i.RPCErrors.INVALID_EVENT,"Invalid event: "+r);t.removeSubscription(n,r,o);return{evt:r}}},r);t.default=l},511502:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=(r=n(871778))&&r.__esModule?r:{default:r},i=n(770348);var u=((a={})[i.RPCCommands.USER_SETTINGS_GET_LOCALE]={scope:i.OAuth2Scopes.IDENTIFY,handler:function(){return{locale:o.default.locale}}},a);t.default=u},663148:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=n(483559),o=l(n(248369)),i=l(n(838641)),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}var s=((r={})[u.RPCCommands.GET_USER]={scope:u.RPC_LOCAL_SCOPE,validation:function(e){return e.object().required().keys({id:e.string().required()})},handler:function(e){var t=e.args.id;return(0,a.getUser)(t).then(i.default).catch((function(){
throw new o.default(u.RPCErrors.INVALID_USER,"Invalid user id: "+t)}))}},r);t.default=s},655369:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var n,r;return(r={})[o.RPCEvents.VOICE_SETTINGS_UPDATE]={scope:(n={},n[o.RPC_SCOPE_CONFIG.ANY]=[o.OAuth2Scopes.RPC,o.OAuth2Scopes.RPC_VOICE_READ],n),handler:function(){return function(t){var n=t.prevState,r=t.dispatch,o=e();a.default.isEqual(o,n)||r(o);return o}}},r[o.RPCEvents.VOICE_SETTINGS_UPDATE_2]={scope:o.RPC_LOCAL_SCOPE,handler:function(e){var n=e.socket;return function(e){var r=e.prevState,o=e.dispatch;if(null==n.application.id)return r;var i=t(n.application.id);a.default.isEqual(i,r)||o(i);return i}}},r};var r,a=(r=n(496486))&&r.__esModule?r:{default:r},o=n(770348)},768050:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a,o,i,u,l,s,c,d,f,p,v,y,h,m,_,g,E,O,S,b,I,C,T,A=F(n(496486)),P=F(n(389726)),M=F(n(644263)),N=F(n(30098)),R=F(n(319111)),w=F(n(893160)),D=F(n(728429)),L=F(n(387692)),k=F(n(248369)),j=n(861798),U=F(n(838641)),G=n(770348);function F(e){return e&&e.__esModule?e:{default:e}}function x(e){var t,n=e.args.channel_id,r=e.socket,a=M.default.getChannel(n);if(null==a||!(0,j.hasMessageReadPermission)(a,r.application.id,r.authorization.scopes))throw new k.default(G.RPCErrors.INVALID_CHANNEL,"Invalid channel id: "+n);if(a.isNSFW()&&!0!==(null===(t=D.default.getCurrentUser())||void 0===t?void 0:t.nsfwAllowed))throw new k.default(G.RPCErrors.INVALID_CHANNEL,"Invalid nsfw channel id: "+a.id)}function W(e){var t=e.args,n=t.lobby_id,r=t.channel_id;if(null!=r){if(null==M.default.getChannel(r))throw new k.default(G.RPCErrors.INVALID_CHANNEL,"Invalid channel id: "+r)}if(null!=n){if(null==R.default.getLobby(n))throw new k.default(G.RPCErrors.INVALID_LOBBY,"Invalid lobby id: "+n)}}
var B=((T={})[G.RPCEvents.GUILD_STATUS]={scope:G.OAuth2Scopes.RPC,handler:function(e){var t=e.args.guild_id;if(null==N.default.getGuild(t))throw new k.default(G.RPCErrors.INVALID_GUILD,"Invalid guild id: "+t);return function(e){var n,r=e.prevState,a=e.dispatch,o=N.default.getGuild(t);if(null!=o){var i={guild:{id:o.id,name:o.name,icon_url:null!==(n=o.getIconURL(128))&&void 0!==n?n:null},online:0};A.default.isEqual(r,i)||a(i);return i}}}},T[G.RPCEvents.VOICE_STATE_CREATE]={scope:(r={},r[G.RPC_SCOPE_CONFIG.ANY]=[G.OAuth2Scopes.RPC,G.OAuth2Scopes.RPC_VOICE_READ],r),handler:function(e){var t=e.args.channel_id;if(null==M.default.getChannel(t))throw new k.default(G.RPCErrors.INVALID_CHANNEL,"Invalid channel id: "+t);return function(e){var n=e.prevState,r=e.dispatch,a=M.default.getChannel(t);if(null!=a){var o=a.getGuildId(),i=Object.values(L.default.getVoiceStatesForChannel(a.id));if(n){A.default.differenceBy(i,n,(function(e){return e.userId})).forEach((function(e){return r((0,
j.transformVoiceState)(o,a.id,e))}))}return i}}}},T[G.RPCEvents.VOICE_STATE_DELETE]={scope:(a={},a[G.RPC_SCOPE_CONFIG.ANY]=[G.OAuth2Scopes.RPC,G.OAuth2Scopes.RPC_VOICE_READ],a),handler:function(e){var t=e.args.channel_id;if(null==M.default.getChannel(t))throw new k.default(G.RPCErrors.INVALID_CHANNEL,"Invalid channel id: "+t);return function(e){var n=e.prevState,r=e.dispatch,a=M.default.getChannel(t);if(null!=a){var o=a.getGuildId(),i=Object.values(L.default.getVoiceStatesForChannel(a.id));A.default.differenceBy(n,i,(function(e){return e.userId})).forEach((function(e){return r((0,j.transformVoiceState)(o,a.id,e))}));return i}}}},T[G.RPCEvents.VOICE_STATE_UPDATE]={scope:(o={},o[G.RPC_SCOPE_CONFIG.ANY]=[G.OAuth2Scopes.RPC,G.OAuth2Scopes.RPC_VOICE_READ],o),handler:function(e){var t=e.args.channel_id;if(null==M.default.getChannel(t))throw new k.default(G.RPCErrors.INVALID_CHANNEL,"Invalid channel id: "+t);return function(e){var n=e.prevState,r=e.dispatch,a=M.default.getChannel(t)
;if(null!=a){var o=a.getGuildId(),i=Object.values(L.default.getVoiceStatesForChannel(a.id)).map((function(e){return(0,j.transformVoiceState)(o,a.id,e)}));A.default.differenceWith(i,n,A.default.isEqual).forEach((function(e){return r(e)}));return i}}}},T[G.RPCEvents.VOICE_CONNECTION_STATUS]={scope:(i={},i[G.RPC_SCOPE_CONFIG.ANY]=[G.OAuth2Scopes.RPC,G.OAuth2Scopes.RPC_VOICE_READ],i),handler:function(){return function(e){var t=e.prevState,n=e.dispatch,r={state:(0,j.getVoiceConnectionState)(w.default.getState()),hostname:w.default.getHostname(),pings:w.default.getPings(),average_ping:w.default.getAveragePing(),last_ping:w.default.getLastPing()};A.default.isEqual(r,t)||n(r);return r}}},T[G.RPCEvents.MESSAGE_CREATE]={scope:G.OAuth2Scopes.RPC,handler:x},T[G.RPCEvents.MESSAGE_UPDATE]={scope:G.OAuth2Scopes.RPC,handler:x},T[G.RPCEvents.MESSAGE_DELETE]={scope:G.OAuth2Scopes.RPC,handler:x},
T[G.RPCEvents.SPEAKING_START]=((u={})[G.RPC_SCOPE_CONFIG.ANY]=[G.OAuth2Scopes.RPC,G.OAuth2Scopes.RPC_VOICE_READ,G.RPC_LOCAL_SCOPE],u.handler=W,u),T[G.RPCEvents.SPEAKING_STOP]=((l={})[G.RPC_SCOPE_CONFIG.ANY]=[G.OAuth2Scopes.RPC,G.OAuth2Scopes.RPC_VOICE_READ,G.RPC_LOCAL_SCOPE],l.handler=W,l),T[G.RPCEvents.GUILD_CREATE]={scope:G.OAuth2Scopes.RPC,handler:function(){}},T[G.RPCEvents.CHANNEL_CREATE]={scope:G.OAuth2Scopes.RPC,handler:function(){}},T[G.RPCEvents.GAME_JOIN]={scope:(s={},s[G.RPC_SCOPE_CONFIG.ANY]=[G.OAuth2Scopes.RPC,G.RPC_LOCAL_SCOPE],s),handler:function(){}},T[G.RPCEvents.GAME_SPECTATE]={scope:(c={},c[G.RPC_SCOPE_CONFIG.ANY]=[G.OAuth2Scopes.RPC,G.RPC_LOCAL_SCOPE],c),handler:function(){}},T[G.RPCEvents.ACTIVITY_JOIN]={scope:(d={},d[G.RPC_SCOPE_CONFIG.ANY]=[G.OAuth2Scopes.RPC,G.RPC_AUTHENTICATED_SCOPE,G.RPC_LOCAL_SCOPE],d),handler:function(){}},T[G.RPCEvents.ACTIVITY_JOIN_REQUEST]={scope:(f={},f[G.RPC_SCOPE_CONFIG.ANY]=[G.OAuth2Scopes.RPC,G.RPC_LOCAL_SCOPE],f),
handler:function(){}},T[G.RPCEvents.ACTIVITY_SPECTATE]={scope:(p={},p[G.RPC_SCOPE_CONFIG.ANY]=[G.OAuth2Scopes.RPC,G.RPC_AUTHENTICATED_SCOPE,G.RPC_LOCAL_SCOPE],p),handler:function(){}},T[G.RPCEvents.ACTIVITY_INVITE]={scope:(v={},v[G.RPC_SCOPE_CONFIG.ANY]=[G.OAuth2Scopes.RPC,G.RPC_LOCAL_SCOPE],v),handler:function(){}},T[G.RPCEvents.ACTIVITY_PIP_MODE_UPDATE]={scope:(y={},y[G.RPC_SCOPE_CONFIG.ANY]=[G.OAuth2Scopes.RPC,G.RPC_AUTHENTICATED_SCOPE,G.RPC_LOCAL_SCOPE],y),handler:function(){}},T[G.RPCEvents.VOICE_CHANNEL_SELECT]={scope:G.OAuth2Scopes.RPC,handler:function(){}},T[G.RPCEvents.NOTIFICATION_CREATE]={scope:(h={},h[G.RPC_SCOPE_CONFIG.ALL]=[G.OAuth2Scopes.RPC,G.OAuth2Scopes.RPC_NOTIFICATIONS_READ],h),handler:function(){}},T[G.RPCEvents.RELATIONSHIP_UPDATE]={scope:G.RPC_LOCAL_SCOPE,handler:function(){}},T[G.RPCEvents.CURRENT_USER_UPDATE]={scope:(m={},m[G.RPC_SCOPE_CONFIG.ANY]=[G.RPC_LOCAL_SCOPE,G.OAuth2Scopes.IDENTIFY],m),handler:function(){return function(e){
var t=e.prevState,n=e.dispatch,r={currentUser:D.default.getCurrentUser()};null==r.currentUser||null!=t&&(0,P.default)(r,t)||n((0,U.default)(r.currentUser));return r}}},T[G.RPCEvents.LOBBY_UPDATE]={scope:(_={},_[G.RPC_SCOPE_CONFIG.ANY]=[G.RPC_AUTHENTICATED_SCOPE,G.RPC_LOCAL_SCOPE],_),handler:function(){}},T[G.RPCEvents.LOBBY_DELETE]={scope:(g={},g[G.RPC_SCOPE_CONFIG.ANY]=[G.RPC_AUTHENTICATED_SCOPE,G.RPC_LOCAL_SCOPE],g),handler:function(){}},T[G.RPCEvents.LOBBY_MEMBER_CONNECT]={scope:(E={},E[G.RPC_SCOPE_CONFIG.ANY]=[G.RPC_AUTHENTICATED_SCOPE,G.RPC_LOCAL_SCOPE],E),handler:function(){}},T[G.RPCEvents.LOBBY_MEMBER_UPDATE]={scope:(O={},O[G.RPC_SCOPE_CONFIG.ANY]=[G.RPC_AUTHENTICATED_SCOPE,G.RPC_LOCAL_SCOPE],O),handler:function(){}},T[G.RPCEvents.LOBBY_MEMBER_DISCONNECT]={scope:(S={},S[G.RPC_SCOPE_CONFIG.ANY]=[G.RPC_AUTHENTICATED_SCOPE,G.RPC_LOCAL_SCOPE],S),handler:function(){}},T[G.RPCEvents.LOBBY_MESSAGE]={scope:(b={},b[G.RPC_SCOPE_CONFIG.ANY]=[G.RPC_AUTHENTICATED_SCOPE,G.RPC_LOCAL_SCOPE],
b),handler:function(){}},T[G.RPCEvents.ENTITLEMENT_CREATE]={scope:(I={},I[G.RPC_SCOPE_CONFIG.ANY]=[G.RPC_LOCAL_SCOPE,G.RPC_AUTHENTICATED_SCOPE],I),handler:function(){}},T[G.RPCEvents.ENTITLEMENT_DELETE]={scope:(C={},C[G.RPC_SCOPE_CONFIG.ANY]=[G.RPC_LOCAL_SCOPE,G.RPC_AUTHENTICATED_SCOPE],C),handler:function(){}},T[G.RPCEvents.USER_ACHIEVEMENT_UPDATE]={scope:G.RPC_LOCAL_SCOPE,handler:function(){}},T);t.default=B},641402:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=i(n(496486)),a=i(n(248369)),o=n(770348);function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t,n){this.transport=e;this.version=t;this.encoding=n;this.id=r.default.uniqueId();this.authorization={authing:!1,scopes:[],accessToken:null,expires:new Date(0)};this.application={id:null,name:null,icon:null};if(null==t||t>o.RPC_VERSION||t<1)throw new a.default(o.RPCCloseCodes.INVALID_VERSION,"Invalid Version: "+t)}},524650:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=u(n(248369)),a=u(n(676606)),o=u(n(641402)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var s=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(t){var n,a=t.origin,o=t.postMessageToRPCClient,u=t.frameId,l=t.version,s=t.encoding,c=t.logger,d=t.postClose,f=t.onSendingToRPCClient;n=e.call(this,i.TransportTypes.POST_MESSAGE,l,s)||this;if(-1===["etf","json"].indexOf(s))throw new r.default(i.RPCCloseCodes.INVALID_ENCODING,"Invalid Encoding: "+s);if("etf"===s)throw new r.default(i.RPCCloseCodes.INVALID_ENCODING,"Erlpack cannot be used on this client");n.origin=a;n.postMessageToRPCClient=o;n.frameId=u;n.logger=c;n.postClose=d;n.onSendingToRPCClient=f;return n}var n=t.prototype;n.send=function(e){var t
;null===(t=this.onSendingToRPCClient)||void 0===t||t.call(this,e,this.id);this.postMessageToRPCClient([a.default.FRAME,e],this.origin)};n.close=function(e,t){this.postClose(this.origin,{code:e,message:t},this.postMessageToRPCClient)};return t}(o.default);t.default=s},478370:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=l(n(717187)),a=n(956506),o=l(n(248369)),i=l(n(676606)),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){s(o,r,a,i,u,"next",e)}function u(e){s(o,r,a,i,u,"throw",e)}i(void 0)}))}}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return
;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){p=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return p(e,t)}var v=new Map,y=new Set,h=function(e,t,n){n([i.default.CLOSE,t],e)},m=function(e){!function(e,t){
e.prototype=Object.create(t.prototype);e.prototype.constructor=e;p(e,t)}(t,e);function t(t,r,i,l){var s;(s=e.call(this)||this).disconnectSocket=function(e,t,n){var r,a;void 0===n&&(n=!1);s.emit("disconnect",e,n?void 0:t);e.close(t.code,null!==(r=t.message)&&void 0!==r?r:"Unknown");var o=null!==(a=Array.from(v.entries()).find((function(t){var n=d(t,2);n[0];return n[1]===e})))&&void 0!==a?a:[null,null],i=d(o,1)[0];null!=i&&v.delete(i)};s.handleIFrameMount=function(e){var t=e.id;y.add(t)};s.handleIFrameUnmount=function(e){var t,n=e.id;y.delete(n);var r=null!==(t=Array.from(v.entries()).find((function(e){var t=d(e,2);t[0];return t[1].frameId===n})))&&void 0!==t?t:[null,null],a=d(r,2),o=a[0],i=a[1];if(null!=i&&null!=o){s.disconnectSocket(i,{code:u.RPCCloseCodes.CLOSE_NORMAL,message:"iFrame gone"},!0);v.delete(o)}};s.handleMessage=function(e,t,n){var r=v.get(t);try{s.routeEvent(r,t,e,n)}catch(e){null!=r?s.disconnectSocket(r,{code:e.code,message:e.message},!0):h(t,{code:e.code,
message:e.message},n)}};s.handleFrame=function(e,t,n){var r,a,i;if(e!==t.origin)throw new o.default(u.RPCCloseCodes.INVALID_ORIGIN,"Origin has changed");try{i="string"==typeof n?JSON.parse(n):n}catch(e){throw new o.default(u.RPCCloseCodes.CLOSE_UNSUPPORTED,"Payload not recognized encoding")}null===(r=(a=s).onFrameHandled)||void 0===r||r.call(a,i,s.logger,t);s.emit("request",t,i)};s.handleHandshake=function(){var e=c(regeneratorRuntime.mark((function e(t,r,a){var i,l,c,d,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(54533).then(n.t.bind(n,197683,23));case 2:i=e.sent.default;e.prev=3;i.assert(r,i.object().required().keys({v:i.number().min(1).max(1).required(),encoding:i.string().equal("json").optional(),client_id:i.string().required(),frame_id:i.string().required()}));e.next=10;break;case 7:e.prev=7;e.t0=e.catch(3);throw new o.default(u.RPCCloseCodes.CLOSE_UNSUPPORTED,e.t0.message);case 10:c=(l=r).frame_id;if(!!y.has(c)){e.next=16
;break}s.logger.error("Unrecognized frame ID "+c);throw new o.default(u.RPCCloseCodes.CLOSE_UNSUPPORTED,"Unrecognized frame ID "+c);case 16:e.prev=16;d=s.createPostMessageProxySocket({origin:t,postMessageToRPCClient:a,frameId:c,version:Number(l.v),logger:s.logger,postClose:h,encoding:null!==(f=l.encoding)&&void 0!==f?f:"json"});e.next=24;break;case 20:e.prev=20;e.t1=e.catch(16);s.logger.error("Error opening window socket "+e.t1);throw e.t1;case 24:s.logger.info("Socket Opened: "+d.id);e.prev=25;e.next=28;return s.validateSocketClient(d,t,l.client_id);case 28:if(y.has(c)){e.next=31;break}s.logger.error("Frame ID "+c+" no longer exists");throw new o.default(u.RPCCloseCodes.CLOSE_UNSUPPORTED,"Unrecognized frame ID "+c);case 31:v.set(t,d);y.delete(c);s.emit("connect",d);s.logger.info("Socket Validated: "+d.id);e.next=41;break;case 37:e.prev=37;e.t2=e.catch(25);s.logger.info("Socket Closed: "+d.id+", "+e.t2.message);throw e.t2;case 41:case"end":return e.stop()}
}),e,null,[[3,7],[16,20],[25,37]])})));return function(t,n,r){return e.apply(this,arguments)}}();s.handleClose=function(){var e=c(regeneratorRuntime.mark((function e(t,r){var a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(54533).then(n.t.bind(n,197683,23));case 2:a=e.sent.default;e.prev=3;a.assert(r,a.object().required().unknown(!0).keys({code:a.number().valid(Object.values(u.RPCCloseCodes)).required(),message:a.string().optional()}));e.next=10;break;case 7:e.prev=7;e.t0=e.catch(3);throw new o.default(u.RPCCloseCodes.CLOSE_UNSUPPORTED,e.t0.message);case 10:i=r;s.disconnectSocket(t,i);case 12:case"end":return e.stop()}}),e,null,[[3,7]])})));return function(t,n){return e.apply(this,arguments)}}();a.ComponentDispatch.subscribe(u.ComponentActions.IFRAME_MOUNT,s.handleIFrameMount);a.ComponentDispatch.subscribe(u.ComponentActions.IFRAME_UNMOUNT,s.handleIFrameUnmount);s.validateSocketClient=t;s.logger=r;s.createPostMessageProxySocket=i
;s.onFrameHandled=l;return s}t.prototype.routeEvent=function(e,t,n,r){if(!Array.isArray(n))throw new o.default(u.RPCCloseCodes.CLOSE_UNSUPPORTED,"Protocol error");var a=d(n,2),l=a[0],s=a[1];switch(l){case i.default.HANDSHAKE:if(null!=e)throw new o.default(u.RPCCloseCodes.CLOSE_UNSUPPORTED,"Already connected");return this.handleHandshake(t,s,r);case i.default.FRAME:if(null==e)throw new o.default(u.RPCCloseCodes.CLOSE_UNSUPPORTED,"Not connected");return this.handleFrame(t,e,s);case i.default.CLOSE:if(null==e)throw new o.default(u.RPCCloseCodes.CLOSE_UNSUPPORTED,"Not connected");return this.handleClose(e,s);default:throw new o.default(u.RPCCloseCodes.CLOSE_UNSUPPORTED,"Invalid opcode")}};return t}(r.default);t.default=m},542490:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r=_(n(945771)),a=_(n(922629)),o=n(985918),i=_(n(768050)),u=_(n(43889)),l=_(n(267735)),s=n(766552),c=_(n(406266)),d=_(n(180450)),f=_(n(669755)),p=_(n(594875)),v=_(n(965443)),y=_(n(572110)),h=_(n(261469)),m=_(n(632303));function _(e){return e&&e.__esModule?e:{default:e}}function g(){g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return g.apply(this,arguments)}var E=g({},o.crossPlatformCommands,{},c.default,{},d.default,{},f.default,{},p.default,{},v.default,{},y.default,{},m.default,{},h.default,{},u.default.authCommands),O=g({},i.default,{},s.overlayEventHandlers,{},u.default.voiceSettingsEvents);var S={server:l.default,commands:E,events:O,stores:[r.default],transports:[u.default.postMessageTransport],registerTransportsForEmbeddedPlatform:function(){a.default.ensureModule("discord_rpc").then((function(){for(var e=0,t=[n(444287).Z,n(650801).Z];e<t.length;e++){
var r=t[e];l.default.registerTransport(r)}}))}};t.default=S},43889:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=n(192367),a=i(n(81436)),o=i(n(593621));function i(e){return e&&e.__esModule?e:{default:e}}var u={authCommands:a.default,voiceSettingsEvents:r.voiceSettingsEventHandlers,postMessageTransport:o.default};t.default=u},766552:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.overlayEventHandlers=void 0;var r,a=s(n(496486)),o=s(n(191839)),i=s(n(81636)),u=s(n(248369)),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}var c=((r={})[l.RPCEvents.OVERLAY_UPDATE]={scope:l.RPC_LOCAL_SCOPE,handler:function(e){var t=e.args.pid,n=e.socket;if("number"!=typeof t||t<10)throw new u.default(l.RPCErrors.INVALID_EVENT,"Invalid pid");return function(e){var r=e.prevState,u=e.dispatch,l=i.default.enabled,s=!0,c=n.application.id;if(null!=c){var d=o.default.getActiveLibraryApplication(c)
;null!=d&&(l=l&&d.isOverlayEnabled());s=i.default.isInputLocked(t)}var f={enabled:l,locked:s};a.default.isEqual(f,r)||u(f);return f}}},r);t.overlayEventHandlers=c},192367:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.voiceSettingsEventHandlers=void 0;var r,a=(r=n(655369))&&r.__esModule?r:{default:r},o=n(367983);var i=(0,a.default)(o.getDeprecatedVoiceSettings,o.getVoiceSettings);t.voiceSettingsEventHandlers=i},367983:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getVoiceSettings=t.getDeprecatedVoiceSettings=void 0;t.unlockOverlay=function(e){if(a.default.isReady(e)){r.default.setLocked(!1,e);return{lock:function(){r.default.setLocked(!0,e)},context:s.AppContext.OVERLAY}}o.default.focus(null,!0);return{lock:function(){o.default.setForegroundProcess(e)},context:s.AppContext.APP}};t.validateSocketClient=void 0;t.validateTransportType=function(e){
if(s.TransportTypes.IPC!==e&&s.TransportTypes.POST_MESSAGE!==e)throw new u.default(s.RPCErrors.INVALID_COMMAND,"Invalid transport.")};var r=c(n(390557)),a=c(n(81636)),o=c(n(922629)),i=n(339943),u=c(n(248369)),l=n(861798),s=n(770348);function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}var f=["207646673902501888"];var p=function(){var e,t=(e=regeneratorRuntime.mark((function e(t,n,r){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,l.validateOriginAndUpdateSocket)(t,n);if(null!=r&&""!==r||!(0,l.isMatchingOrigin)(n)){e.next=6;break}t.authorization.scopes=[s.RPC_PRIVATE_SCOPE,s.RPC_PRIVATE_LIMITED_SCOPE];return e.abrupt("return",Promise.resolve());case 6:if(null!=r&&""!==r){e.next=8;break}return e.abrupt("return",Promise.reject(new u.default(s.RPCCloseCodes.INVALID_CLIENTID,"No Client ID Specified")));case 8:
a=o.default.releaseChannel!==s.PublicReleaseChannels.CANARY&&!f.includes(r)&&t.transport!==s.TransportTypes.POST_MESSAGE;e.next=11;return(0,l.processSocketThrottlers)(r,a);case 11:return e.abrupt("return",(0,l.fetchApplicationsRPC)(t,r,n));case 12:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){d(o,r,a,i,u,"next",e)}function u(e){d(o,r,a,i,u,"throw",e)}i(void 0)}))});return function(e,n,r){return t.apply(this,arguments)}}();t.validateSocketClient=p;t.getDeprecatedVoiceSettings=function(){return(0,l.getDeprecatedVoiceSettingsWithShortcut)((function(e){var t=[];null!=e.modeOptions.shortcut&&Array.isArray(e.modeOptions.shortcut)&&(t=function(e){return e.map((function(e){var t;return{type:e[0],code:e[1],name:null!==(t=(0,i.codeToKey)(e))&&void 0!==t?t:"unknown"}}))}(e.modeOptions.shortcut));return t}))};t.getVoiceSettings=function(e){return(0,l.getVoiceSettingsWithShortcut)(e,(function(e){var t=""
;null!=e.modeOptions.shortcut&&Array.isArray(e.modeOptions.shortcut)&&(t=(0,i.toString)(e.modeOptions.shortcut));return t}))}},804135:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=o(n(682644)),a=o(n(542490));function o(e){return e&&e.__esModule?e:{default:e}}var i=new r.default(a.default);t.default=i},406266:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o,i,u,l,s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=R(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),c=N(n(312260)),d=n(557782),f=N(n(234161)),p=n(508510),v=N(n(767766)),y=n(689575),h=N(n(902305)),m=N(n(644263)),_=N(n(30098)),g=N(n(423086)),E=N(n(689389)),O=N(n(211136)),S=N(n(690445)),b=n(194322),I=n(245838),C=N(n(248369)),T=n(861798),A=n(367983),P=n(770348),M=n(371621);function N(e){return e&&e.__esModule?e:{default:e}}function R(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(R=function(e){return e?n:t})(e)}function w(){w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return w.apply(this,arguments)}function D(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function L(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){D(o,r,a,i,u,"next",e)}function u(e){D(o,r,a,i,u,"throw",e)}i(void 0)}))}}
function k(e,t,n,r,a){return j.apply(this,arguments)}function j(){return(j=L(regeneratorRuntime.mark((function e(t,n,r,a,o){var i,u,l,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:void 0===o&&(o="");if(null!=(i=g.default.getApplicationActivity(n))&&null!=i.secrets&&(0,T.validateActivityInvite)(a,i.party,i.secrets)){e.next=4;break}throw new C.default(P.RPCErrors.NO_ELIGIBLE_ACTIVITY,"No eligible activity for application. Ensure an activity includes a party and appropriate secret.");case 4:if(!(u=(0,v.default)(i,S.default))){e.next=8;break}l=(0,A.unlockOverlay)(t),s=l.lock;return e.abrupt("return",(0,d.openModal)(i,u).then((function(){s();throw new C.default(P.RPCErrors.NO_ELIGIBLE_ACTIVITY,"No eligible activity for application. Ensure user does have have privacy enabled.")})));case 8:e.next=10;return c.default.sendActivityInviteUser({userId:r,type:a,activity:i,content:o,location:"In-Game Invite"});case 10:case"end":return e.stop()}}),e)
})))).apply(this,arguments)}var U=((l={})[P.RPCCommands.SEND_ACTIVITY_JOIN_INVITE]={scope:(r={},r[P.RPC_SCOPE_CONFIG.ANY]=[P.OAuth2Scopes.RPC,P.RPC_LOCAL_SCOPE],r),handler:function(e){var t=e.socket,n=e.args,r=n.user_id,a=n.pid,o=t.application.id;if(null==o)throw new C.default(P.RPCErrors.INVALID_COMMAND,"No application.");return k(a,o,r,P.ActivityActionTypes.JOIN)}},l[P.RPCCommands.CLOSE_ACTIVITY_JOIN_REQUEST]={scope:(a={},a[P.RPC_SCOPE_CONFIG.ANY]=[P.OAuth2Scopes.RPC,P.RPC_LOCAL_SCOPE],a),handler:function(e){var t=e.args.user_id,n=m.default.getDMFromUserId(t);null!=n&&(0,p.ack)(n,!0,!0)}},l[P.RPCCommands.ACTIVITY_INVITE_USER]={scope:(o={},o[P.RPC_SCOPE_CONFIG.ANY]=[P.OAuth2Scopes.RPC,P.RPC_LOCAL_SCOPE],o),validation:function(e){return e.object().required().keys({user_id:e.string().required(),type:e.number().required().valid([P.ActivityActionTypes.JOIN]),content:e.string().min(0).max(1024),pid:e.number().min(0).required()})},handler:function(e){
var t=e.socket,n=e.args,r=n.type,a=n.user_id,o=n.content,i=n.pid,u=t.application.id;if(null==u)throw new C.default(P.RPCErrors.INVALID_COMMAND,"No application.");return k(i,u,a,r,o)}},l[P.RPCCommands.ACCEPT_ACTIVITY_INVITE]={scope:(i={},i[P.RPC_SCOPE_CONFIG.ANY]=[P.OAuth2Scopes.RPC,P.RPC_LOCAL_SCOPE],i),validation:function(e){return e.object().required().keys({type:e.number().required().valid([P.ActivityActionTypes.JOIN]),user_id:e.string().required(),session_id:e.string().required(),channel_id:e.string().required(),message_id:e.string().required()})},handler:function(e){var t=e.socket,n=e.args,r=n.type,a=n.user_id,o=n.session_id,i=n.channel_id,u=n.message_id,l=t.application.id;if(null==l)throw new C.default(P.RPCErrors.INVALID_COMMAND,"No application.");var s=Promise.resolve(!1);if(r===P.ActivityActionTypes.JOIN)s=f.default.join({userId:a,sessionId:o,applicationId:l,channelId:i,messageId:u});return s.then((function(e){
if(!e)throw new C.default(P.RPCErrors.INVALID_INVITE,"Invite is expired or invalid.")}))}},l[P.RPCCommands.OPEN_INVITE_DIALOG]={scope:(u={},u[P.RPC_SCOPE_CONFIG.ANY]=[P.OAuth2Scopes.RPC,P.RPC_LOCAL_SCOPE],u),handler:function(e){var t,r,a=e.socket,o=O.default.getVoiceChannelId(),i=m.default.getChannel(o);if(null==i)throw new C.default(P.RPCErrors.INVALID_CHANNEL,"Invalid channel "+o);var u=_.default.getGuild(i.getGuildId());if(null==u)throw new C.default(P.RPCErrors.INVALID_CHANNEL,"Invalid guild "+i.getGuildId());if(!(0,y.canViewInviteModal)(E.default,u,i))throw new C.default(P.RPCErrors.INVALID_PERMISSIONS,"No invite permissions for "+o);var l=h.default.getWindow(P.PopoutWindowKeys.CHANNEL_CALL_POPOUT);(null===(t=l)||void 0===t?void 0:t.closed)&&(l=null);var c=null!=l?P.AppContext.POPOUT:P.AppContext.APP;(0,I.exitFullScreen)({},null===(r=l)||void 0===r?void 0:r.document);(0,b.openModalLazy)(L(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){
for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(15865)]).then(n.bind(n,115865));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return s.createElement(r,w({},e,{guild:u,channel:i,applicationId:a.application.id,analyticsLocation:P.AnalyticsLocations.ACTIVITY_RPC,source:P.InstantInviteSources.ACTIVITY_INVITE}))}));case 5:case"end":return e.stop()}}),e)}))),{contextKey:c===P.AppContext.POPOUT?M.POPOUT_MODAL_CONTEXT:M.DEFAULT_MODAL_CONTEXT})}},l);t.default=U},180450:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=O(n(118915)),i=n(91817),u=n(851792),l=O(n(644263)),s=O(n(288356)),c=O(n(211136)),d=O(n(728429)),f=O(n(47969)),p=O(n(424099)),v=n(194322),y=O(n(308920)),h=n(685677),m=O(n(922629)),_=O(n(248369)),g=n(861798),E=n(770348);function O(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function b(){b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return b.apply(this,arguments)}function I(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function C(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){I(o,r,a,i,u,"next",e)}function u(e){
I(o,r,a,i,u,"throw",e)}i(void 0)}))}}function T(e,t){var n=f.default.isEntitledToSku(d.default.getCurrentUser(),e,t);return null!=n?Promise.resolve(n):(0,u.fetchUserEntitlementsForApplication)(t).then((function(){return!0===f.default.isEntitledToSku(d.default.getCurrentUser(),e,t)}))}var A=((r={})[E.RPCCommands.VALIDATE_APPLICATION]={scope:E.RPC_LOCAL_SCOPE,handler:function(e){var t=e.socket.application.id;try{if(null==t)throw new _.default(E.RPCErrors.INVALID_COMMAND,"No application.");var r=s.default.getGame(t);if(null==r)throw new _.default(E.RPCErrors.INVALID_ENTITLEMENT,"SKU does not exist.");var o=r.primarySkuId;if(null==o)throw new _.default(E.RPCErrors.INVALID_ENTITLEMENT,"SKU does not exist.");return Promise.race([T(o,r.id).then((function(e){if(!e)throw new _.default(E.RPCErrors.INVALID_ENTITLEMENT,"User does not have entitlement.")})),(0,i.timeoutPromise)(1e4).then((function(){throw new _.default(E.RPCErrors.INVALID_ENTITLEMENT,"Timed out fetching entitlement.")}))])
}catch(e){if(e.code===E.RPCErrors.INVALID_ENTITLEMENT){m.default.focus(null,!0);(0,v.openModalLazy)(C(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(65526)]).then(n.bind(n,865526));case 2:r=e.sent;o=r.default;return e.abrupt("return",(function(e){return a.createElement(o,b({},e,{applicationId:t}))}));case 5:case"end":return e.stop()}}),e)}))))}throw e}}},r[E.RPCCommands.GET_ENTITLEMENT_TICKET]={scope:E.RPC_LOCAL_SCOPE,handler:function(e){var t=e.socket.application.id;if(null==t)throw new _.default(E.RPCErrors.INVALID_COMMAND,"No application.");return o.default.post({url:E.Endpoints.ENTITLEMENT_TICKET(t),body:{test_mode:p.default.inTestModeForApplication(t)},retries:3,oldFormErrors:!0}).then((function(e){return e.body})).catch((function(e){m.default.focus(null,!0);(0,v.openModalLazy)(C(regeneratorRuntime.mark((function e(){var r,o
;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(65526)]).then(n.bind(n,865526));case 2:r=e.sent;o=r.default;return e.abrupt("return",(function(e){return a.createElement(o,b({},e,{applicationId:t}))}));case 5:case"end":return e.stop()}}),e)}))));throw e}))}},r[E.RPCCommands.SEND_GENERIC_EVENT]={scope:E.RPC_AUTHENTICATED_SCOPE,handler:function(){console.warn("The SEND_GENERIC_EVENT api has been deprecated.")}},r[E.RPCCommands.SEND_ANALYTICS_EVENT]={validation:function(e){return e.object().required().keys({event_name:e.string().required(),event_properties:e.object().required()})},handler:function(e){var t,n=e.socket,r=e.args,a=r.event_name,o=r.event_properties;(0,g.validatePostMessageTransport)(n.transport);(0,g.validateApplication)(n.application);var i=n.application.id,u=l.default.getChannel(c.default.getVoiceChannelId()),d=null==u?void 0:u.getGuildId()
;if(null==u||null==d)throw new _.default(E.RPCErrors.INVALID_COMMAND,"Invalid channel");var f=s.default.getGame(i);if(!(0,h.hasFlag)(null!==(t=null==f?void 0:f.flags)&&void 0!==t?t:0,E.ApplicationFlags.EMBEDDED_FIRST_PARTY))throw new _.default(E.RPCErrors.INVALID_COMMAND,"This application cannot access this API");y.default.track(a,b({},o,{activity_application_id:i,activity_guild_id:d}))}},r[E.RPCCommands.GET_APPLICATION_TICKET]={scope:E.RPC_LOCAL_SCOPE,handler:function(e){var t=e.socket.application.id;if(null==t)throw new _.default(E.RPCErrors.INVALID_COMMAND,"No application.");return o.default.post({url:E.Endpoints.APPLICATION_TICKET(t),body:{test_mode:p.default.inTestModeForApplication(t)},retries:3,oldFormErrors:!0}).then((function(e){return e.body}))}},r);t.default=A},81436:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e
};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=f(n(480831)),o=n(94066),i=n(194322),u=n(864489),l=f(n(922629)),s=f(n(964125)),c=n(770348),d=n(371621);function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(){v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return v.apply(this,arguments)}var y=(0,s.default)((function(e,t,n,u,l,s,c,f,p,y,h,m,_){var g="OAuth2Authorize_"+e+"_"+y+"_"+h;return new Promise((function(E){var O=function(e){E(e)};(0,
i.openModal)((function(a){return r.createElement(o.OAuth2AuthorizeModal,v({},a,{authorization:t,clientId:e,scopes:null!=n?n:[],callback:O,responseType:l,redirectUri:s,codeChallenge:c,codeChallengeMethod:f,state:p,permissions:u,guildId:y,channelId:h,prompt:m,disableGuildSelect:"boolean"==typeof _?_:"true"===_}))}),{modalKey:g,onCloseRequest:function(){(0,i.closeModal)(g);E(void 0)}},(0,a.default)(t.application)?d.POPOUT_MODAL_CONTEXT:d.DEFAULT_MODAL_CONTEXT)}))}),(function(e){if(u.isPlatformEmbedded){var t=(0,a.default)(e)?c.PopoutWindowKeys.CHANNEL_CALL_POPOUT:null;(0,u.isWindows)()?l.default.minimize(t):l.default.restore(t);l.default.focus(t)}}));t.default=y},669755:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=u(n(977365)),o=u(n(922629)),i=n(861798);function u(e){return e&&e.__esModule?e:{default:e}}var l=((r={})[n(770348).RPCCommands.ENCOURAGE_HW_ACCELERATION]={validation:function(e){return e.object()},handler:function(e){
var t=e.socket;(0,i.validatePostMessageTransport)(t.transport);var n=t.application.id;if(null!=n){(0,a.default)(n);return{enabled:o.default.getEnableHardwareAcceleration()}}}},r);t.default=l},594875:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=h(n(636602)),o=n(557782),i=h(n(23170)),u=h(n(390557)),l=h(n(767766)),s=h(n(423086)),c=h(n(690445)),d=n(194322),f=h(n(248369)),p=n(861798),v=n(367983),y=n(770348);function h(e){return e&&e.__esModule?e:{default:e}}function m(){m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return m.apply(this,arguments)}function _(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){_(o,r,a,i,u,"next",e)}function u(e){
_(o,r,a,i,u,"throw",e)}i(void 0)}))}}var E=((r={})[y.RPCCommands.SET_OVERLAY_LOCKED]={scope:y.RPC_LOCAL_SCOPE,validation:function(e){return e.object().required().keys({locked:e.boolean().required(),pid:e.number().min(0).required()})},handler:function(e){var t=e.args,n=t.locked,r=t.pid;if(null==e.socket.application.id)throw new f.default(y.RPCErrors.INVALID_COMMAND,"No application.");u.default.setLocked(n,r)}},r[y.RPCCommands.OPEN_OVERLAY_ACTIVITY_INVITE]={scope:y.RPC_LOCAL_SCOPE,validation:function(e){return e.object().required().keys({type:e.number().required().valid([y.ActivityActionTypes.JOIN]),pid:e.number().min(0).required()})},handler:function(e){var t=e.socket,n=e.args,r=n.type,a=n.pid,i=t.application.id;if(null==i)throw new f.default(y.RPCErrors.INVALID_COMMAND,"No application.");var u=s.default.getApplicationActivity(i);if(null==u||null==u.secrets||!(0,
p.validateActivityInvite)(r,u.party,u.secrets))throw new f.default(y.RPCErrors.NO_ELIGIBLE_ACTIVITY,"No eligible activity for application. Ensure an activity includes a party and appropriate secret.");var d=(0,v.unlockOverlay)(a).lock,h=(0,l.default)(u,c.default);return(0,o.openModal)(u,h).then((function(){d();if(h)throw new f.default(y.RPCErrors.NO_ELIGIBLE_ACTIVITY,"No eligible activity for application. Ensure user does have have privacy enabled.")}))}},r[y.RPCCommands.OPEN_OVERLAY_GUILD_INVITE]={scope:y.RPC_LOCAL_SCOPE,validation:function(e){return e.object().required().keys({code:e.string().required(),pid:e.number().min(0).required()})},handler:function(e){var t=e.args,n=t.code,r=t.pid;if(null==e.socket.application.id)throw new f.default(y.RPCErrors.INVALID_COMMAND,"No application.");return i.default.resolveInvite(n,"Game SDK").then((function(e){var t=e.invite,n=e.code;if(null==t)throw new f.default(y.RPCErrors.INVALID_INVITE,"Invalid invite id: "+n);var o=(0,
v.unlockOverlay)(r),i=o.context,u=o.lock;return new Promise((function(e){a.default.dispatch({type:y.ActionTypes.INVITE_MODAL_OPEN,invite:t,code:n,context:i,resolve:e})})).then(u)}))}},r[y.RPCCommands.OPEN_OVERLAY_VOICE_SETTINGS]={scope:y.RPC_LOCAL_SCOPE,validation:function(e){return e.object().required().keys({pid:e.number().min(0).required()})},handler:function(e){var t=e.args.pid,r=e.socket,a=r.application.id;if(null==a)throw new f.default(y.RPCErrors.INVALID_COMMAND,"No application.");var o=(0,v.unlockOverlay)(t).lock;return new Promise((function(e){(0,d.openModalLazy)(g(regeneratorRuntime.mark((function t(){var i,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;return Promise.all([n.e(40532),n.e(72936),n.e(15560)]).then(n.bind(n,215560));case 2:i=t.sent;u=i.default;return t.abrupt("return",(function(t){return React.createElement(u,m({},t,{mediaEngineContext:a,title:r.application.name,onClose:function(){t.onClose();o();e()}}))}));case 5:
case"end":return t.stop()}}),t)}))))}))}},r);t.default=E},965443:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(919094),i=O(n(636602)),u=n(832635),l=n(241889),s=O(n(861315)),c=O(n(740852)),d=O(n(23170)),f=O(n(920061)),p=n(139982),v=O(n(728429)),y=n(194322),h=O(n(308920)),m=O(n(608417)),_=O(n(922629)),g=O(n(248369)),E=n(770348);function O(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){
return e?n:t})(e)}function b(){b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return b.apply(this,arguments)}function I(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function C(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){I(o,r,a,i,u,"next",e)}function u(e){I(o,r,a,i,u,"throw",e)}i(void 0)}))}}function T(e,t){null!=e&&h.default.track(E.AnalyticEvents.EXTERNAL_DYNAMIC_LINK_RECEIVED,{invite_code:null,has_auth_token:null,is_backgrounded:null,fingerprint:(0,o.extractId)(e),link_type:t})}var A=((r={})[E.RPCCommands.INVITE_BROWSER]={scope:E.RPC_PRIVATE_SCOPE,handler:function(e){return C(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.args.code;t.next=3
;return d.default.resolveInvite(n,"Desktop Modal");case 3:r=t.sent;if(null!=(a=r.invite)){t.next=7;break}throw new g.default(E.RPCErrors.INVALID_INVITE,"Invalid invite id: "+n);case 7:i.default.dispatch({type:E.ActionTypes.INVITE_MODAL_OPEN,invite:a,code:n,context:E.AppContext.APP});return t.abrupt("return",{invite:a,code:n});case 9:case"end":return t.stop()}}),t)})))()}},r[E.RPCCommands.GUILD_TEMPLATE_BROWSER]={scope:E.RPC_PRIVATE_SCOPE,handler:function(e){return C(regeneratorRuntime.mark((function t(){var r,o,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.args.code;if(null!=v.default.getCurrentUser()){t.next=3;break}return t.abrupt("return");case 3:t.next=5;return f.default.resolveGuildTemplate(r);case 5:o=t.sent;if(null!=(i=o.guildTemplate)){t.next=9;break}throw new g.default(E.RPCErrors.INVALID_GUILD_TEMPLATE,"Invalid guild template id: "+r);case 9:_.default.focus();(0,y.openModalLazy)(C(regeneratorRuntime.mark((function e(){var t,r
;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(4053)]).then(n.bind(n,704053));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,b({},e,{guildTemplate:i}))}));case 5:case"end":return e.stop()}}),e)}))));return t.abrupt("return",{guildTemplate:i,code:r});case 12:case"end":return t.stop()}}),t)})))()}},r[E.RPCCommands.GIFT_CODE_BROWSER]={scope:E.RPC_PRIVATE_SCOPE,handler:function(e){var t=e.args.code;return new Promise((function(e,r){i.default.wait((function(){c.default.resolveGiftCode(t,!0,!0).then((function(r){var o=r.giftCode;_.default.focus();h.default.track(E.AnalyticEvents.OPEN_MODAL,{type:"gift_accept",location:E.DIRECT_ANALYTICS_LOCATION});(0,y.openModalLazy)(C(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(9199)]).then(n.bind(n,109199))
;case 2:r=e.sent;o=r.default;return e.abrupt("return",(function(e){return a.createElement(o,b({code:t},e))}));case 5:case"end":return e.stop()}}),e)}))));e({giftCode:o})})).catch((function(){return r(new g.default(E.RPCErrors.INVALID_GIFT_CODE,"Invalid gift code: "+t))}))}))}))}},r[E.RPCCommands.DEEP_LINK]={scope:E.RPC_PRIVATE_SCOPE,handler:function(e){var t=e.args,n=t.type,r=t.params;_.default.focus();switch(n){case E.RPCDeepLinks.USER_SETTINGS:if(null!=r){(0,p.replaceWith)(E.Routes.SETTINGS(r.section,r.subsection));T(r.fingerprint,E.DynamicLinkType.SETTINGS)}break;case E.RPCDeepLinks.CHANGELOG:if(null!=r){(0,p.replaceWith)(m.default.formatPathWithQuery(E.Routes.CHANGELOGS(r.date),r.query));T(r.fingerprint,E.DynamicLinkType.CHANGELOG)}break;case E.RPCDeepLinks.LIBRARY:(0,p.replaceWith)(E.Routes.APPLICATION_LIBRARY);null!=r&&T(r.fingerprint,E.DynamicLinkType.LIBRARY);break;case E.RPCDeepLinks.STORE_HOME:(0,p.replaceWith)(E.Routes.APPLICATION_STORE)
;null!=r&&T(r.fingerprint,E.DynamicLinkType.STORE);break;case E.RPCDeepLinks.STORE_LISTING:if(null!=r){(0,p.replaceWith)(E.Routes.APPLICATION_STORE_LISTING_SKU(r.skuId,r.slug));T(r.fingerprint,E.DynamicLinkType.STORE)}}}},r[E.RPCCommands.BROWSER_HANDOFF]={scope:E.RPC_PRIVATE_LIMITED_SCOPE,handler:function(e){var t=e.args,n=t.handoffToken,r=t.fingerprint;_.default.focus(null,!0);(0,l.handoffEnd)(n,r)}},r[E.RPCCommands.CONNECTIONS_CALLBACK]={scope:E.RPC_PRIVATE_SCOPE,handler:function(e){var t=e.args,n=t.providerType,r=t.code,a=t.openid_params,o=t.state;return s.default.callback(n,{code:r,openid_params:a,state:o})}},r[E.RPCCommands.BRAINTREE_POPUP_BRIDGE_CALLBACK]={scope:E.RPC_PRIVATE_SCOPE,handler:function(e){var t=e.args,n=t.state,r=t.path,a=t.query;return(0,u.popupBridgeCallback)({paymentSourceType:E.PaymentSourceTypes.PAYPAL,state:n,path:r,query:a})}},r[E.RPCCommands.BILLING_POPUP_BRIDGE_CALLBACK]={scope:E.RPC_PRIVATE_SCOPE,handler:function(e){
var t=e.args,n=t.state,r=t.path,a=t.query,o=t.payment_source_type;return(0,u.popupBridgeCallback)({paymentSourceType:o,state:n,path:r,query:a})}},r);t.default=A},572110:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o,i,u,l=E(n(851792)),s=E(n(723420)),c=E(n(376543)),d=n(168558),f=_(n(954140)),p=_(n(231765)),v=_(n(424099)),y=_(n(248369)),h=n(367983),m=n(770348);function _(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function E(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}var O=[f.default.RPC];function S(e){if(null==e)return{lock:m.NOOP_NULL,context:m.AppContext.APP};var t=(0,h.unlockOverlay)(e);return{lock:t.lock,context:t.context}}function b(e,t){var n={subscriptionTier:m.PremiumSubscriptionSKUs.TIER_2,analyticsLocations:O,analyticsObject:t};switch(e){case m.AppContext.APP:return p.default.openPremiumPaymentModalInApp(n);case m.AppContext.OVERLAY:return p.default.openPremiumPaymentModalInOverlay(n);default:throw new Error("Unexpected app context: "+e)}}var I=((u={})[m.RPCCommands.START_PURCHASE]=((r={})[m.RPC_SCOPE_CONFIG.ANY]=[m.RPC_AUTHENTICATED_SCOPE,m.RPC_LOCAL_SCOPE],r.validation=function(e){return e.object().required().keys({sku_id:e.string().required(),pid:e.number().min(0)})},r.handler=function(e){var t=e.socket,n=e.args,r=n.sku_id,a=n.pid;(0,h.validateTransportType)(t.transport);var o=t.application.id
;if(null==o)throw new y.default(m.RPCErrors.INVALID_COMMAND,"No application.");var i=S(t.transport!==m.TransportTypes.POST_MESSAGE?a:null),u=i.lock,l=i.context,s={page:m.AnalyticsPages.IN_APP};return(0,d.openIAPPurchaseModal)({applicationId:o,skuId:r,openPremiumPaymentModal:function(){return b(l,s)},analyticsLocations:O,analyticsLocation:s,context:l}).then((function(e){u();return e}),(function(e){u();if(null!=e)throw new y.default(m.RPCErrors.PURCHASE_ERROR,e);throw new y.default(m.RPCErrors.PURCHASE_CANCELED,"Purchase was canceled by the user.")}))},r),u[m.RPCCommands.GET_SKUS]=((a={})[m.RPC_SCOPE_CONFIG.ANY]=[m.RPC_AUTHENTICATED_SCOPE,m.RPC_LOCAL_SCOPE],a.handler=function(e){var t=e.socket;(0,h.validateTransportType)(t.transport);var n=t.application.id;if(null==n)throw new y.default(m.RPCErrors.INVALID_COMMAND,"No application.");return v.default.inTestModeForApplication(n)?s.fetchSKUsForApplication(n).then((function(e){return e.filter((function(e){return null!=e.price}))
})):c.fetchAllStoreListingsForApplication(n).then((function(e){return(null!=e?e:[]).map((function(e){return e.sku})).filter((function(e){return null!=e.price}))}))},a),u[m.RPCCommands.START_PREMIUM_PURCHASE]=((o={})[m.RPC_SCOPE_CONFIG.ANY]=[m.RPC_AUTHENTICATED_SCOPE,m.RPC_LOCAL_SCOPE],o.validation=function(e){return e.object().keys({pid:e.number().min(0)})},o.handler=function(e){var t=e.socket,n=e.args.pid;(0,h.validateTransportType)(t.transport);if(null==t.application.id)throw new y.default(m.RPCErrors.INVALID_COMMAND,"No application.");var r=S(t.transport!==m.TransportTypes.POST_MESSAGE?n:null),a=r.lock;return b(r.context,{page:m.AnalyticsPages.IN_APP}).then((function(){a()}),(function(e){a();if(null!=e)throw new y.default(m.RPCErrors.PURCHASE_ERROR,e);throw new y.default(m.RPCErrors.PURCHASE_CANCELED,"Purchase was canceled by the user.")}))},o),u[m.RPCCommands.GET_ENTITLEMENTS]=((i={})[m.RPC_SCOPE_CONFIG.ANY]=[m.RPC_AUTHENTICATED_SCOPE,m.RPC_LOCAL_SCOPE],i.handler=function(e){
var t=e.socket;(0,h.validateTransportType)(t.transport);var n=t.application.id;if(null==n)throw new y.default(m.RPCErrors.INVALID_COMMAND,"No application.");return l.fetchUserEntitlementsForApplication(n).then((function(e){return null!=e?e:[]}))},i),u);t.default=I},261469:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=s(n(740207)),o=s(n(635014)),i=n(339943),u=s(n(248369)),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function c(e){var t=e.application.id;if(null==t)throw new u.default(l.RPCErrors.INVALID_COMMAND,"No application.");return t}var d=((r={})[l.RPCCommands.SET_VOICE_SETTINGS_2]={scope:l.RPC_LOCAL_SCOPE,validation:function(e){return e.object().required().keys({input_mode:e.object().keys({type:e.string().valid(Object.keys(l.InputModes)),shortcut:e.string().required()}),self_mute:e.boolean(),self_deaf:e.boolean()})},handler:function(e){var t=e.socket,n=e.args,r=n.input_mode,u=n.self_mute,l=n.self_deaf,s=c(t)
;null!=r&&a.default.setMode(r.type,{shortcut:(0,i.toCombo)(r.shortcut)},s);null!=u&&u!==o.default.isSelfMute(s)&&a.default.toggleSelfMute(s);null!=l&&l!==o.default.isSelfDeaf(s)&&a.default.toggleSelfDeaf(s)}},r[l.RPCCommands.SET_USER_VOICE_SETTINGS_2]={scope:l.RPC_LOCAL_SCOPE,validation:function(e){return e.object().required().keys({user_id:e.string().required(),volume:e.number().min(0).max(200),mute:e.boolean()})},handler:function(e){var t=e.socket,n=e.args,r=n.user_id,i=n.mute,u=n.volume,l=c(t);null!=i&&i!==o.default.isLocalMute(r,l)&&a.default.toggleLocalMute(r,l);null!=u&&a.default.setLocalVolume(r,u,l)}},r);t.default=d},632303:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o,i,u=p(n(740207)),l=p(n(635014)),s=p(n(728429)),c=p(n(248369)),d=n(367983),f=n(770348);function p(e){return e&&e.__esModule?e:{default:e}}var v=((i={})[f.RPCCommands.SET_USER_VOICE_SETTINGS]={scope:(r={},
r[f.RPC_SCOPE_CONFIG.ANY]=[f.OAuth2Scopes.RPC,f.OAuth2Scopes.RPC_VOICE_WRITE],r),validation:function(e){return e.object().required().keys({user_id:e.string().required(),pan:e.object().keys({left:e.number().min(0).max(1).required(),right:e.number().min(0).max(1).required()}),volume:e.number().min(0).max(200),mute:e.boolean()})},handler:function(e){var t=e.args,n=t.user_id,r=t.pan,a=t.volume,o=t.mute,i=s.default.getCurrentUser();if(null==s.default.getUser(n)||(null==i?void 0:i.id)===n)throw new c.default(f.RPCErrors.INVALID_USER,"Invalid user id: "+n);null!=r&&u.default.setLocalPan(n,r.left,r.right);null!=a&&u.default.setLocalVolume(n,a);if(null!=o){var d=l.default.isLocalMute(n);(d&&!o||!d&&o)&&u.default.toggleLocalMute(n)}return{user_id:n,pan:l.default.getLocalPan(n),volume:l.default.getLocalVolume(n),mute:l.default.isLocalMute(n)}}},i[f.RPCCommands.GET_VOICE_SETTINGS]={scope:(a={},a[f.RPC_SCOPE_CONFIG.ANY]=[f.OAuth2Scopes.RPC,f.OAuth2Scopes.RPC_VOICE_READ],a),handler:function(){
return(0,d.getDeprecatedVoiceSettings)()}},i[f.RPCCommands.SET_VOICE_SETTINGS]={scope:(o={},o[f.RPC_SCOPE_CONFIG.ANY]=[f.OAuth2Scopes.RPC,f.OAuth2Scopes.RPC_VOICE_WRITE],o),validation:function(e){return e.object().required().keys({input:e.object().keys({device_id:e.string().valid(Object.keys(l.default.getInputDevices())),volume:e.number().min(0).max(100)}),output:e.object().keys({device_id:e.string().valid(Object.keys(l.default.getOutputDevices())),volume:e.number().min(0).max(200)}),mode:e.object().keys({type:e.string().valid(Object.keys(f.InputModes)),auto_threshold:e.boolean(),threshold:e.number().min(-100).max(0),shortcut:e.array().items(e.object().keys({type:e.number().min(0).max(3).required(),code:e.number().required(),name:e.string()})),delay:e.number().min(0).max(2e3)}),automatic_gain_control:e.boolean(),echo_cancellation:e.boolean(),noise_suppression:e.boolean(),qos:e.boolean(),silence_warning:e.boolean(),deaf:e.boolean(),mute:e.boolean()})},handler:function(e){
var t=e.args,n=t.input,r=t.output,a=t.mode,o=t.automatic_gain_control,i=t.echo_cancellation,s=t.noise_suppression,c=t.qos,f=t.silence_warning,p=t.deaf,v=t.mute;if(n){null!=n.device_id&&u.default.setInputDevice(n.device_id);null!=n.volume&&u.default.setInputVolume(n.volume)}if(r){null!=r.device_id&&u.default.setOutputDevice(r.device_id);null!=r.volume&&u.default.setOutputVolume(r.volume)}if(a){var y=l.default.getMode(),h=l.default.getModeOptions();null!=a.type&&(y=a.type);null!=a.auto_threshold&&(h.autoThreshold=a.auto_threshold);null!=a.threshold&&(h.threshold=a.threshold);null!=a.shortcut&&(h.shortcut=a.shortcut.map((function(e){return[e.type,e.code]})));null!=a.delay&&(h.delay=a.delay);u.default.setMode(y,h)}null!=o&&u.default.setAutomaticGainControl(o);null!=i&&u.default.setEchoCancellation(i);null!=s&&u.default.setNoiseSuppression(s);null!=c&&u.default.setQoS(c);null!=f&&u.default.setSilenceWarning(f);if(null!=p){var m=l.default.isSelfDeaf()
;(m&&!p||!m&&p)&&u.default.toggleSelfDeaf()}if(null!=v){var _=l.default.isSelfMute();(_&&!v||!_&&v)&&u.default.toggleSelfMute()}return(0,d.getDeprecatedVoiceSettings)()}},i);t.default=v},650801:(e,t,n)=>{"use strict";({value:!0});t.Z=void 0;var r=n(348764),a=f(n(717187)),o=f(n(496486)),i=f(n(791548)),u=f(n(922629)),l=f(n(318671)),s=f(n(641402)),c=n(367983),d=n(770348);function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;v(e,t)}function v(e,t){v=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return v(e,t)}var y,h=u.default.requireModule("discord_rpc").RPCIPC,m=new i.default("RPCServer:IPC"),_={HANDSHAKE:0,FRAME:1,CLOSE:2,PING:3,PONG:4};function g(e,t){null!=e.setHandshakeComplete?e.setHandshakeComplete(t):e._didHandshake=t}function E(e){return null!=e.getHandshakeComplete?e.getHandshakeComplete():e._didHandshake}function O(e){return new Promise((function(t,n){
"string"==typeof e&&(e=h.net.createConnection(e));e.pause();e.on("readable",(function(){try{b(e)}catch(t){e.end(S(_.CLOSE,{code:1003,message:t.message}));e.destroy()}}));var r=function(){try{e.end();e.destroy()}catch(e){}},a=Promise.race([new Promise((function(t){return e.on("error",(function(){return t()}))})),new Promise((function(t,n){e.on("pong",(function(){return n(new Error("socket responded with pong"))}))})),new Promise((function(e,t){setTimeout((function(){return t(new Error("socket alive timeout"))}),1e3)}))]).then((function(){r()}),(function(e){r();throw e}));e.write(S(_.PING,o.default.uniqueId()));return a.then(t,n)}))}function S(e,t){t=JSON.stringify(t);var n=r.Buffer.byteLength(t),a=r.Buffer.alloc(8+n);a.writeInt32LE(e,0);a.writeInt32LE(n,4);a.write(t,8,n);return function(e){return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}(a)}function b(e){var t=e.read(8);if(t){var n=(t=r.Buffer.from(t)).readInt32LE(0),a=t.readInt32LE(4)
;if(!Object.values(_).includes(n)||a<0)throw new Error("protocol error");if(!(t=e.read(a)))throw new Error("data size does not match what was received");t=r.Buffer.from(t);var o=JSON.parse(t.toString());switch(n){case _.PING:e.emit("ping",o);e.write(S(_.PONG,o));break;case _.PONG:e.emit("pong",o);break;case _.HANDSHAKE:if(E(e))throw new Error("already did handshake");g(e,!0);e.emit("handshake",o);break;case _.FRAME:if(!E(e))throw new Error("did not handshake");e.emit("request",o);break;case _.CLOSE:e.end();e.destroy()}b(e)}}var I=function(e){p(t,e);function t(t,n,r){var a;(a=e.call(this,"ipc",n,r)||this)._socket=t;return a}var n=t.prototype;n.send=function(e){m.info("Socket Emit: "+this.id,(0,l.default)(e));this._socket.write(S(_.FRAME,e))};n.close=function(e,t){this._socket.end(S(_.CLOSE,{code:e,message:t}));this._socket.destroy()};return t}(s.default),C=new(function(e){p(t,e);function t(){var t;t=e.call(this)||this;(y=h.net.createServer((function(e){return t.handleConnection(e)
}))).on("error",(function(e){return m.error("Error: "+e.message)}));h.getAvailableSocket(O).then((function(e){y.listen(e,(function(){("function"==typeof y.listening?y.listening():y.listening)&&m.info("Starting on "+y.address())}))}));return t}t.prototype.handleConnection=function(e){var t=this;g(e,!1);e.pause();e.on("readable",(function(){try{b(e)}catch(t){e.end(S(_.CLOSE,{code:d.RPCCloseCodes.CLOSE_UNSUPPORTED,message:t.message}));e.destroy()}}));e.once("handshake",(function(n){var r,a=n.client_id,o=+n.v;try{r=new I(e,o,"json")}catch(t){e.end(S(_.CLOSE,{code:t.code,message:t.message}));e.destroy();return}m.info("Socket Opened: "+r.id);e.on("error",(function(e){return m.error("Socket Error: "+e.message)}));e.on("close",(function(){m.info("Socket Close: "+r.id);t.emit("disconnect",r)}));(0,c.validateSocketClient)(r,null,a).then((function(){e.on("request",(function(e){m.info("Socket Message: "+r.id,(0,l.default)(e));t.emit("request",r,e)}));t.emit("connect",r)})).catch((function(e){
var t=e.code,n=e.message;return r.close(t,n)}))}))};return t}(a.default));t.Z=C},444287:(e,t,n)=>{"use strict";var r=n(348764).Buffer;({value:!0});t.Z=void 0;var a,o=_(n(717187)),i=_(n(496486)),u=_(n(817673)),l=_(n(608575)),s=_(n(636602)),c=_(n(791548)),d=_(n(909243)),f=_(n(922629)),p=_(n(248369)),v=_(n(318671)),y=_(n(641402)),h=n(367983),m=n(770348);function _(e){return e&&e.__esModule?e:{default:e}}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;S(e,t)}function S(e,t){S=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return S(e,t)}function b(){b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return b.apply(this,arguments)}try{a=f.default.requireModule("discord_erlpack")}catch(e){try{a=f.default.requireModule("erlpack")}catch(e){}}
var I,C=f.default.requireModule("discord_rpc").RPCWebSocket,T=window.GLOBAL_ENV.MARKETING_ENDPOINT,A=new c.default("RPCServer:WSS"),P=[];function M(e){return"function"==typeof e?e():e}function N(e){void 0===e&&(e=0);var t=e>0?void 0:function(){if(M(I.listening)){var e=I.address().port;A.info("Starting on "+e);s.default.dispatch({type:m.ActionTypes.RPC_SERVER_READY,port:e})}};I.listen(m.RPC_STARTING_PORT+e%m.RPC_PORT_RANGE,"127.0.0.1",t)}function R(e,t,n,a,o){void 0===a&&(a=200);void 0===o&&(o={});var i=M(e.headers).origin?{"Access-Control-Allow-Origin":M(e.headers).origin,"Access-Control-Allow-Credentials":"true","Access-Control-Allow-Methods":"POST, GET, PUT, PATCH, DELETE","Access-Control-Allow-Headers":["Content-Type","Authorization"].join(", ")}:{};n=n?JSON.stringify(n):"";a=200!==a||n.length?a:204;t.setHeader("Content-Length",r.byteLength(n));t.setHeader("Content-Type","application/json");t.writeHead(a,b({},o,{},i));t.end(n)}function w(e,t,n,r,a){void 0===a&&(a=0);R(e,t,{code:a,
message:r},n)}var D=function(e){O(t,e);function t(t,n,r){var o;o=e.call(this,"ws",n,r)||this;if(-1===["etf","json"].indexOf(r))throw new p.default(m.RPCCloseCodes.INVALID_ENCODING,"Invalid Encoding: "+r);if("etf"===r&&null==a)throw new p.default(m.RPCCloseCodes.INVALID_ENCODING,"Erlpack cannot be used on this client");o._socket=t;return o}var n=t.prototype;n.send=function(e){(d.default.isLoggingOverlayEvents||e.cmd!==m.RPCCommands.OVERLAY&&e.evt!==m.RPCEvents.OVERLAY)&&A.info("Socket Emit: "+this.id,(0,v.default)(e));null!=a&&"etf"===this.encoding?this._socket.send(a.pack(e),{binary:!0}):this._socket.send(JSON.stringify(e))};n.close=function(e,t){this._socket.close(e,t)};return t}(y.default),L=function(e){O(t,e);function t(t,n,r,a){var o;o=e.call(this,"http",r,a)||this;if("json"!==a)throw new p.default(m.RPCCloseCodes.INVALID_ENCODING,"Invalid Encoding: "+a);o._sendCallback=t;o._closeCallback=n;return o}var n=t.prototype;n.send=function(e){
(d.default.isLoggingOverlayEvents||e.cmd!==m.RPCCommands.OVERLAY)&&A.info("Socket Emit: "+this.id,e);this._sendCallback(e)};n.close=function(e,t){this._closeCallback(t,e)};return t}(y.default),k=new(function(e){O(t,e);function t(){var t;t=e.call(this)||this;var n=0;(I=C.http.createServer()).on("error",(function(e){A.error("Error: "+e.message);("EADDRINUSE"===e.code||e.message.includes("EADDRINUSE"))&&setTimeout((function(){return N(++n)}),1e3)}));I.on("request",t.handleRequest.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t)));N(n);var r={instanceId:I.instanceId||0,server:I};new C.ws.Server(r).on("connection",(function(e){return t.handleConnection(e)}));return t}var n=t.prototype;n.handleRequest=function(e,t){var n=this,r=g(M(e.url).split("?"),2),a=r[0],o=r[1],i=M(e.method);if("/rpc"!==a||"OPTIONS"!==i){var s="POST"===i;if("/rpc"!==a||"GET"!==i&&!s)w(e,t,404,"Not Found");else{
var c=u.default.parse(o),d=s?M(e.headers)["content-type"].split("/")[1]:"json",f=function(){var e=l.default.parse(c.callback),n=e.protocol,r=e.host;n===location.protocol&&r===location.host?t.setHeader("Location",c.callback):t.setHeader("Location",T);t.writeHead(301);t.end()},p=new L(s?R.bind(null,e,t):f,s?w.bind(null,e,t,400):f,+c.v,d);if(s)(0,h.validateSocketClient)(p,M(e.headers).origin,c.client_id).then((function(){var r="";e.on("data",(function(e){return r+=e}));e.on("error",(function(){return w(e,t,500,"Internal Server Error")}));e.on("end",(function(){return n.handleMessage(p,r)}))})).catch((function(e){var t=e.code,n=e.message;return p.close(t,n)}));else{p.authorization.scopes=[m.RPC_PRIVATE_LIMITED_SCOPE];this.handleMessage(p,decodeURIComponent(c.payload))}}}else R(e,t,{body:""})};n.handleConnection=function(e){var t,n=this,r=u.default.parse(M(e.upgradeReq).url.split("?")[1]),a=M(e.upgradeReq).headers.origin||"";try{t=new D(e,+r.v,r.encoding||"json")}catch(t){
e.close(t.code,t.message);return}A.info("Socket Opened: "+t.id);e.on("error",(function(e){return A.error("WS Error: "+e.message)}));e.on("close",(function(e,r){A.info("Socket Closed: "+t.id+", code "+e+", message "+r);i.default.remove(P,(function(e){return e===t}));n.emit("disconnect",t)}));(0,h.validateSocketClient)(t,a,r.client_id).then((function(){P.push(t);e.on("message",(function(e){return n.handleMessage(t,e)}));n.emit("connect",t)})).catch((function(e){var n=e.code,r=e.message;return t.close(n,r)}))};n.handleMessage=function(e,t){var n;try{if(null!=a&&"etf"===e.encoding)n=a.unpack(t);else{if("string"!=typeof t)throw new Error;n=JSON.parse(t)}}catch(t){e.close(m.RPCCloseCodes.CLOSE_UNSUPPORTED,"Payload not "+e.encoding);return}(d.default.isLoggingOverlayEvents||n.cmd!==m.RPCCommands.OVERLAY)&&A.info("Socket Message: "+e.id,(0,v.default)(n));this.emit("request",e,n)};return t}(o.default));t.Z=k},593621:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.default=void 0;var r=c(n(791548)),a=c(n(909243)),o=c(n(318671)),i=c(n(478370)),u=n(367983),l=c(n(176829)),s=n(770348);function c(e){return e&&e.__esModule?e:{default:e}}var d=new r.default("RPCServer:PostMessage"),f=function(e,t,n){(a.default.isLoggingOverlayEvents||e.cmd!==s.RPCCommands.OVERLAY)&&t.info("Socket Message: "+n.id,(0,o.default)(e))};var p=function(){var e=new i.default(u.validateSocketClient,d,l.default,f);window.addEventListener("message",(function(t){if(window!==t.source)if(null!=t.source&&null!=t.source.postMessage){var n=t.source,r=t.data,a=t.origin;e.handleMessage(r,a,(function(e,t){n.postMessage(e,t)}))}else d.error("Unknown event source")}));return e}();t.default=p},176829:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=u(n(909243)),a=u(n(318671)),o=u(n(524650)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){
var t=e.origin,n=e.postMessageToRPCClient,u=e.frameId,l=e.version,s=e.encoding,c=e.logger,d=e.postClose;return new o.default({origin:t,postMessageToRPCClient:n,frameId:u,version:l,encoding:s,logger:c,postClose:d,onSendingToRPCClient:function(e,t){(r.default.isLoggingOverlayEvents||e.cmd!==i.RPCCommands.OVERLAY&&e.evt!==i.RPCEvents.OVERLAY)&&c.info("Socket Emit: "+t,(0,a.default)(e))}})};t.default=l},478910:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=(r=n(636602))&&r.__esModule?r:{default:r},o=n(21774),i=n(770348);var u={init:function(){a.default.subscribe(i.ActionTypes.USER_SETTINGS_UPDATE,o.refreshSearchTokens);a.default.subscribe(i.ActionTypes.I18N_LOAD_SUCCESS,o.refreshSearchTokens)}};t.default=u},626643:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=(0,r.useStateFromStores)([l.default],(function(){var t,n=l.default.getQuery(e),r=l.default.getRawResults(e)
;if(null==n||null==r)return[];var u=(0,a.createASTHighlighter)(null!==(t=n.content)&&void 0!==t?t:"");return r.map((function(e){return e.map((function(e){var t=(0,o.createMessageRecord)(e);return t.isSearchHit?t.set("customRenderedContent",(0,i.default)(t,{postProcessor:u})):t}))}))}),[e],r.statesWillNeverBeEqual),n=(0,r.useStateFromStores)([u.default],(function(){var e=0;return[t.map((function(t){return t.filter((function(t){var n=u.default.isBlocked(t.author.id);n&&t.isSearchHit&&e++;return!n||t.isSearchHit}))})),e]}),[t],r.statesWillNeverBeEqual),s=(p=n,v=2,function(e){if(Array.isArray(e))return e}(p)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}}(p,v)||function(e,t){if(e){if("string"==typeof e)return c(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(p,v)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),d=s[0],f=s[1];var p,v;return{searchResults:d,blockCount:f}};var r=n(536211),a=n(697255),o=n(202929),i=s(n(116518)),u=s(n(290629)),l=s(n(205982));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},326648:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=_;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=v(n(151097)),i=v(n(80828)),u=v(n(186465)),l=n(645758),s=v(n(730977)),c=v(n(550270)),d=n(770348),f=v(n(247001)),p=v(n(794097));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(){h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return h.apply(this,arguments)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e){var t=e.searchMode,n=e.searchByMode;return m("header",{className:p.default.searchHeader},void 0,a.createElement(g,e),m(u.default,{orientation:"horizontal",className:p.default.searchHeaderTabList,selectedItem:t,onItemSelect:n},void 0,m(u.default.Item,{id:d.SearchModes.NEWEST},void 0,f.default.Messages.SEARCH_NEWEST_SHORT),m(u.default.Item,{id:d.SearchModes.OLDEST},void 0,f.default.Messages.SEARCH_OLDEST_SHORT),m(u.default.Item,{id:d.SearchModes.MOST_RELEVANT},void 0,f.default.Messages.SEARCH_MOST_RELEVANT_SHORT)))}_.displayName="SearchHeader";function g(e){var t,n=e.isSearching,r=e.isIndexing,o=e.documentsIndexed;(r||n)&&(t=m("div",{className:p.default.spinnerWrapper},void 0,m(i.default,{type:i.default.Type.SPINNING_CIRCLE,
className:p.default.spinner,itemClassName:p.default.spinnerPath})));var u=r&&!n;return m("div",{className:p.default.totalResults,role:"status"},void 0,u?m(s.default,{text:f.default.Messages.SEARCH_STILL_INDEXING_HINT.format({count:o})},void 0,(function(n){return a.createElement("div",h({className:p.default.totalResultsWrapper},n),a.createElement(E,e),t)})):a.createElement(E,e),u?null:t)}g.displayName="TotalContent";function E(e){var t=e.isSearching,n=e.isIndexing,r=e.totalResults;if(t)return m(l.Text,{variant:"text-md/normal",color:"header-primary"},void 0,f.default.Messages.SEARCHING);if(n)return m(l.Text,{variant:"text-md/normal"},void 0,m(o.default,{className:p.default.helpdeskLink,href:c.default.getArticleURL(d.HelpdeskArticles.SEARCH_INDEXING)},void 0,f.default.Messages.STILL_INDEXING));var a=r.toLocaleString();return m(l.Text,{variant:"text-md/normal",color:"header-primary"},void 0,f.default.Messages.TOTAL_RESULTS.format({count:a}))}},301929:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=s;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=i(n(668281)),o=i(n(574628));function i(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3]
;t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function s(e){var t=e.changePage,n=e.offset,r=e.totalResults,i=e.pageLength,u=Math.floor(n/i)+1;return l("div",{className:o.default.container},void 0,l(a.default,{currentPage:u,totalCount:r,pageSize:i,onPageChange:t,maxVisiblePages:5}))}s.displayName="SearchPagination"},458517:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=v(n(496486)),i=n(659779),u=n(378158),l=v(n(314234)),s=v(n(2914)),c=v(n(644263)),d=v(n(16941)),f=v(n(247001)),p=v(n(248556));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(){m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return m.apply(this,arguments)}function _(e,t,n,r,a,o,i){try{
var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){_(o,r,a,i,u,"next",e)}function u(e){_(o,r,a,i,u,"throw",e)}i(void 0)}))}}function E(e,t){E=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return E(e,t)}function O(e,t){var n,r=null===(n=window)||void 0===n?void 0:n.getSelection();if(null!=r&&!r.isCollapsed)return!0;if(null==e||null==t)return!1;for(;(0,i.isElement)(e)&&e!==t;){var a=e.tagName;if("A"===a||"IMG"===a||"BUTTON"===a)return!0;e=e.parentNode}return!1}var S=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;E(e,t)}(t,e);function t(){for(var t,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];(t=e.call.apply(e,[this].concat(o))||this).containerRef=a.createRef();t.hitRef=a.createRef();t.handleContextMenu=function(e,t){var r=c.default.getChannel(t.channel_id)
;if(null!=r){e.stopPropagation();(0,u.openContextMenuLazy)(e,g(regeneratorRuntime.mark((function e(){var o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(56530),n.e(25496)]).then(n.bind(n,925496));case 2:o=e.sent;i=o.default;return e.abrupt("return",(function(e){return a.createElement(i,m({},e,{message:t,channel:r}))}));case 5:case"end":return e.stop()}}),e)}))))}};t.jumpTo=function(e){if(null!=e){e.preventDefault();e.stopPropagation()}var n=t.props,r=n.onJump,a=n.result.find((function(e){return e.isSearchHit}));null!=a&&r(a)};t.handleMessageClick=function(e){O(e.target,t.containerRef.current)?e.stopPropagation():t.jumpTo(e)};return t}t.prototype.render=function(){var e=this,t=this.props,n=t.result,r=t.listItemProps,i=t.searchOffset,u=t.index,v=t.totalResults,y=o.default.find(n,(function(e){return e.isSearchHit}));if(null==y)return null;var _=c.default.getChannel(y.channel_id);if(null==_)return null
;var g="search-result-"+y.id;return h(l.default,{ringTarget:this.hitRef,ringClassName:p.default.searchResultFocusRing,offset:4},void 0,a.createElement("li",m({className:p.default.container},r,{"aria-posinset":1+i+u,"aria-setsize":v,"aria-labelledby":g}),h(d.default,{tabIndex:-1,onClick:this.handleMessageClick,innerRef:this.containerRef,className:p.default.searchResult,focusProps:{enabled:!1}},void 0,a.createElement("div",{ref:this.hitRef,className:p.default.message,key:y.id},h(s.default,{id:g,message:y,channel:_,onContextMenu:function(t){return e.handleContextMenu(t,y)},animateAvatar:!1,subscribeToComponentDispatch:!1}))),h("div",{className:p.default.buttonsContainer,"aria-hidden":!0},void 0,h(d.default,{className:p.default.button,onClick:this.jumpTo},void 0,f.default.Messages.JUMP))))};return t}(a.PureComponent);t.default=S;S.displayName="SearchResult"},315021:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){
var t=e.search,n=e.searchId,r=e.renderEmbeds,w=e.scrollTo,D=e.searchResults,L=e.blockCount,U=t.offset,G=t.totalResults,F=t.isSearching,x=t.showBlockedResults,W=h.RenderSpoilers.useSetting(),B=a.useCallback((function(e){e!==O.default.getChannelId()&&u.default.transitionToInviteChannelSync(e)}),[]),V=a.useCallback((function(e){F||s.changePage(n,e-1)}),[n,F]),H=a.useCallback((function(e){if(e.blocked)i.default.show({title:N.default.Messages.UNBLOCK_TO_JUMP_TITLE,body:N.default.Messages.UNBLOCK_TO_JUMP_BODY.format({name:e.author.username}),confirmText:N.default.Messages.OKAY});else{var t=m.default.getChannel(e.channel_id),r=null!=t?t.getGuildId():null;l.default.trackJump(e.channel_id,e.id,"Search Results",{search_id:E.default.getAnalyticsId(n)});(0,y.transitionTo)(M.Routes.CHANNEL(r,e.channel_id,e.id))}}),[n]),Y=a.useMemo((function(){if(null==D)return[];var e,t=0;return D.reduce((function(n,r){var a=r.find((function(e){return e.isSearchHit}))
;if(!x&&null!=a&&g.default.isBlocked(a.author.id))return n;var o=m.default.getChannel(r[0].channel_id);if(null==o)return n;null!=e&&e===o.id||n.push({channel:o,results:[],startIndex:t});t+=1;n[n.length-1].results.push(r);e=null==o?void 0:o.id;return n}),[])}),[D,x]),z=a.useRef([]),K=Y.reduce((function(e,t){return e+1+t.results.length}),0),$=a.useCallback((function(e,t){if(c.default.keyboardModeEnabled){var n=z.current,r=null!=t?n[t]:void 0;if(null!=r&&null!=r.hitRef.current){var a=r.hitRef.current.getClientRects()[0],o=a.top-.5*a.height;w(o,!1,(function(){var t;null===(t=document.getElementById(e))||void 0===t||t.focus()}))}}}),[w]),q=a.useCallback((function(e){var t=z.current[e];null==t||t.jumpTo()}),[]),X=(0,o.useListNavigator)({navId:"search-results",itemCount:K,focusedIndex:0,setFocus:$,onSelect:q}),Q=Y.map((function(e){var t,o=e.channel,i=e.results,u=e.startIndex,l=null!=o?(0,d.computeChannelName)(o,S.default,g.default,!1):"???",s=null!==(t=(0,
f.default)(o))&&void 0!==t?t:T.default,c=_.default.can(M.Permissions.MANAGE_MESSAGES,o);return j(I.SpoilerDisplayContext.Provider,{value:(0,v.default)(W,c)},void 0,j("ul",{role:"group",className:R.default.searchResultGroup,"aria-label":l},o.id+"-"+u,j(b.default,{onClick:function(){return B(o.id)}},void 0,j(C.Text,{className:R.default.channelName,variant:"text-md/normal",color:"header-primary"},void 0,j(s,{className:R.default.channelNameIcon,width:16,height:16}),j("span",{},void 0,l))),i.map((function(e,t){var o=u+t;return a.createElement(P.default,{ref:function(e){return z.current[o]=e},totalResults:G,scrollTo:w,searchId:n,renderEmbeds:r,searchOffset:U,pageResultsLength:i.length,result:e,index:o,key:"search-result-"+o,onJump:H,listItemProps:X.getItemProps({index:o})})}))))}));Q.push();var Z=a.useRef(null);a.useLayoutEffect((function(){var e;null===(e=Z.current)||void 0===e||e.focus()}),[D]);var J=(0,p.useFocusJumpSection)()
;return a.createElement(a.Fragment,null,a.createElement("div",k({ref:Z},X.getContainerProps(),J,{"aria-busy":F}),Q),L>0?j(b.default,{tag:"div",className:R.default.resultsBlocked,onClick:function(){return s.setShowBlockedResults(n,!x)}},void 0,j("div",{className:R.default.resultsBlockedImage}),j("div",{className:R.default.resultsBlockedText},void 0,x?N.default.Messages.SEARCH_HIDE_BLOCKED_MESSAGES.format({count:L}):N.default.Messages.SEARCH_NUM_RESULTS_BLOCKED_NOT_SHOWN.format({count:L}))):null,!F&&j(A.default,{changePage:V,offset:U,totalResults:G,pageLength:M.SEARCH_PAGE_SIZE}))};var r,a=L(n(667294)),o=n(515664),i=w(n(190040)),u=w(n(23170)),l=w(n(786345)),s=L(n(896846)),c=w(n(235879)),d=n(678928),f=w(n(786661)),p=n(632123),v=w(n(916372)),y=n(139982),h=n(894826),m=w(n(644263)),_=w(n(689389)),g=w(n(290629)),E=w(n(205982)),O=w(n(211136)),S=w(n(728429)),b=w(n(16941)),I=n(364767),C=n(645758),T=w(n(562796)),A=w(n(301929)),P=w(n(458517)),M=n(770348),N=w(n(247001)),R=w(n(464999))
;function w(e){return e&&e.__esModule?e:{default:e}}function D(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(D=function(e){return e?n:t})(e)}function L(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=D(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function k(){k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return k.apply(this,arguments)}function j(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={
children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},225379:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=k;var r,a=T(n(667294)),o=I(n(294184)),i=I(n(496486)),u=n(536211),l=I(n(23170)),s=T(n(896846)),c=I(n(844784)),d=n(894826),f=I(n(205982)),p=I(n(211136)),v=I(n(871778)),y=I(n(49465)),h=I(n(235742)),m=n(956506),_=I(n(626643)),g=I(n(326648)),E=I(n(315021)),O=n(770348),S=I(n(247001)),b=I(n(22542));function I(e){return e&&e.__esModule?e:{default:e}}function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}function T(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function A(){A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return A.apply(this,arguments)}function P(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function M(e,t){e.prototype=Object.create(t.prototype)
;e.prototype.constructor=e;N(e,t)}function N(e,t){N=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return N(e,t)}var R=function(e){M(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).autoAnalytics=function(e){void 0===e&&(e=null);if(null!=t.props.searchAnalyticsId){var n=0,r=0,a=0,o=0;null!=t.props.searchResults&&(0,i.default)(t.props.searchResults).flatten().filter((function(e){return e.isSearchHit})).forEach((function(e){if(null!=e.content&&""!==e.content){n++;/https?:\/\/[^\s]+/.test(e.content)&&o++}null!=e.embeds&&e.embeds.length>0&&a++;null!=e.attachments&&e.attachments.length>0&&r++}));c.default.trackWithMetadata(O.AnalyticEvents.SEARCH_RESULT_VIEWED,{search_type:t.props.searchType,search_id:t.props.searchAnalyticsId,prev_search_id:e!==t.props.searchAnalyticsId?e:null,is_error:t.props.searchHasError,limit:t.props.searchLimit,offset:t.props.searchOffset,
page:Math.floor(t.props.searchOffset/t.props.searchLimit)+1,total_results:t.props.searchTotalResults,page_results:null!=t.props.searchResults?t.props.searchResults.length:null,is_indexing:t.props.searchIsIndexing,page_num_messages:n,page_num_links:o,page_num_embeds:a,page_num_attach:r})}};return t}var n=t.prototype;n.componentDidMount=function(){this.autoAnalytics()};n.componentDidUpdate=function(e){this.props.searchAnalyticsId===e.searchAnalyticsId&&this.props.searchOffset===e.searchOffset||this.autoAnalytics(e.searchAnalyticsId)};n.render=function(){return null};return t}(a.Component);R.displayName="SearchResultsViewedAutoAnalytics";var w=function(e){var t=e.children;return P("div",{className:b.default.emptyResultsWrap},void 0,P("div",{className:b.default.emptyResultsContent},void 0,t))};w.displayName="EmptyResults";var D=P(y.default,{}),L=function(e){M(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i]
;(t=e.call.apply(e,[this].concat(r))||this).state={searchMode:O.SearchModes.NEWEST};t.scrollerRef=a.createRef();t.scrollTo=function(e,n,r){var a=t.scrollerRef.current;if(null!=a){var o=a.getScrollerState().scrollTop-e;a.scrollTo({to:o,animate:n,callback:r})}};t.selectChannel=function(e){e!==p.default.getChannelId()&&l.default.transitionToInviteChannelSync(e)};t.searchPrevious=function(){var e=t.props,n=e.searchId;e.search.isSearching||s.searchPreviousPage(n)};t.searchNext=function(){var e=t.props,n=e.searchId;e.search.isSearching||s.searchNextPage(n)};t.handleSearchResultsClose=function(){var e=t.props.searchId;s.clearSearchState(e)};t.searchByMode=function(e){var n=t.props,r=n.searchId,a=n.search.isSearching;if(e!==t.state.searchMode&&!a){c.default.trackWithMetadata(O.AnalyticEvents.SEARCH_RESULT_SORT_CHANGED,{search_id:f.default.getAnalyticsId(r),new_sort_type:e});s.searchByMode(r,e);t.setState({searchMode:e})}};t.toggleShowBlockedMessages=function(){
var e=t.props,n=e.searchId,r=e.search.showBlockedResults;s.setShowBlockedResults(n,!r)};t.renderHeader=function(){var e=t.state.searchMode,n=t.props.search,r=n.totalResults,a=n.isSearching,o=n.isHistoricalIndexing,i=n.documentsIndexed;return P(g.default,{searchMode:e,searchByMode:t.searchByMode,totalResults:r,isSearching:a,isIndexing:o,documentsIndexed:i})};t.renderIndexing=function(){var e=f.default.getSearchType(t.props.searchId)===O.SearchTypes.GUILD?S.default.Messages.SEARCH_GUILD_STILL_INDEXING:S.default.Messages.SEARCH_DM_STILL_INDEXING;return P(w,{},void 0,D,P("div",{className:(b.default.emptyResultsText,b.default.stillIndexing)},void 0,e))};t.renderNoResults=function(){var e,n,r=t.props.search.showNoResultsAlt,a=r?S.default.Messages.SEARCH_NO_RESULTS_ALT:S.default.Messages.SEARCH_NO_RESULTS;return P(w,{},void 0,P("div",{className:(0,o.default)(b.default.noResultsImage,(e={},e[b.default.alt]=r,e))}),P("div",{className:(0,
o.default)(b.default.emptyResultsText,b.default.noResults,(n={},n[b.default.alt]=r,n))},void 0,a))};t.renderError=function(){return P(w,{},void 0,P("div",{className:b.default.errorImage}),P("div",{className:(0,o.default)(b.default.emptyResultsText,b.default.errorMessage)},void 0,S.default.Messages.SEARCH_ERROR))};t.renderContent=function(){var e=t.props,n=e.searchResults,r=e.blockCount,a=t.props.search,o=a.totalResults,i=a.isSearching,u=a.isIndexing;return a.hasError?t.renderError():u?t.renderIndexing():i?null:o>0?P(E.default,{search:t.props.search,searchResults:n,blockCount:r,searchId:t.props.searchId,renderEmbeds:t.props.renderEmbeds,scrollTo:t.scrollTo}):t.renderNoResults()};return t}var n=t.prototype;n.componentDidMount=function(){m.ComponentDispatch.subscribe(O.ComponentActions.SEARCH_RESULTS_CLOSE,this.handleSearchResultsClose)};n.componentWillUnmount=function(){m.ComponentDispatch.unsubscribe(O.ComponentActions.SEARCH_RESULTS_CLOSE,this.handleSearchResultsClose)}
;n.componentDidUpdate=function(e){var t=e.search;if(this.props.search.showBlockedResults!==t.showBlockedResults){var n=this.scrollerRef.current;if(null==n)return;n.scrollToBottom()}};n.render=function(){var e=this.props,t=e.searchAnalyticsId,n=e.searchType,r=e.searchResults,o=this.props.search,i=o.offset,u=o.hasError,l=o.totalResults,s=o.isHistoricalIndexing;return P("section",{className:b.default.searchResultsWrap,"aria-label":S.default.Messages.SEARCH_RESULTS_SECTION_LABEL},void 0,this.renderHeader(),a.createElement(h.default,{ref:this.scrollerRef,className:b.default.scroller},this.renderContent()),P(R,{searchType:n,searchAnalyticsId:t,searchResults:r,searchOffset:i,searchLimit:O.SEARCH_PAGE_SIZE,searchHasError:u,searchTotalResults:l,searchIsIndexing:s}))};return t}(a.PureComponent);L.displayName="SearchResults";function k(e){var t=e.searchId;return a.createElement(L,A({searchId:t},(0,u.useStateFromStoresObject)([f.default],(function(){return{search:f.default.getResultsState(t),
searchAnalyticsId:f.default.getAnalyticsId(t),searchType:f.default.getSearchType()}}),[t]),(0,_.default)(t),{renderEmbeds:d.RenderEmbeds.useSetting(),developerMode:d.DeveloperMode.useSetting()},(0,u.useStateFromStoresObject)([v.default],(function(){return{theme:v.default.theme}}))))}k.displayName="ConnectedSearchResults"},268660:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=d(n(294184)),u=d(n(74854)),l=d(n(550024)),s=n(836233),c=d(n(913165));function d(e){return e&&e.__esModule?e:{
default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(){v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return v.apply(this,arguments)}function y(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;h(e,t)}function h(e,t){h=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return h(e,t)}!function(e){e[e.ENTERING=0]="ENTERING"
;e[e.LEAVING=1]="LEAVING";e[e.APPEARING=2]="APPEARING";e[e.STATIC=3]="STATIC"}(a||(a={}));var m=function(e){y(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).state={animationProgress:new u.default.Value(0),targetHeight:0,baseHeight:0,animationState:null};t.direction=t.props.getDirection();t._measureRef=o.createRef();return t}var n=t.prototype;n.componentDidMount=function(){if(null!=this._measureRef.current){var e=this._measureRef.current.getBoundingClientRect().height;this.setState({targetHeight:e,baseHeight:this.props.getBaseHeight()})}};n.componentDidUpdate=function(e,t){t.targetHeight!==this.state.targetHeight&&this.props.setHeight(this.state.targetHeight)};n.componentWillAppear=function(e){this.setState({animationState:a.APPEARING});e()};n.componentDidAppear=function(){var e=this.state,t=e.animationProgress,n=e.targetHeight;t.setValue(2);this.setState({animationState:a.STATIC,baseHeight:n})}
;n.componentWillEnter=function(e){var t=this.props.duration,n=this.state.animationProgress;this.setState({animationState:a.ENTERING});this.props.setHeight(this.state.targetHeight);u.default.timing(n,{toValue:2,duration:t,delay:t/2}).start(e)};n.componentDidEnter=function(){this.setState({animationState:a.STATIC})};n.componentWillLeave=function(e){var t=this.state.animationProgress,n=this.props,r=n.duration,o=n.getDirection;this.direction=o();this.setState({animationState:a.LEAVING});u.default.timing(t,{toValue:0,duration:r}).start(e)};n.componentDidLeave=function(){this.setState({animationState:a.STATIC})};n.getAnimatedStyle=function(){var e,t,n=this.context.reducedMotion,r=this.props.fillParent,o=this.state,i=o.animationProgress,l=o.animationState,s=o.baseHeight,c=o.targetHeight,d=null!==(e=this.props.sideMargin)&&void 0!==e?e:0,f=null!==(t=this.props.verticalMargin)&&void 0!==t?t:0,p=l===a.LEAVING,y=l===a.ENTERING,h=(p?-1:1)*this.direction,m={overflow:y||p?"hidden":"visible",
position:p?"absolute":void 0,top:p?f:void 0,left:p?d:void 0,right:p?d:void 0,bottom:p?f:void 0},_={transform:[{translateX:i.interpolate({inputRange:[0,2],outputRange:[150*h+"%","0%"],extrapolate:"clamp",easing:u.default.Easing.inOut(u.default.Easing.ease)})}]};return v({},m,{},n.enabled?null:_,{opacity:i.interpolate({inputRange:[0,2],outputRange:[0,1],extrapolate:"clamp",easing:u.default.Easing.inOut(u.default.Easing.ease)}),height:y?i.interpolate({inputRange:[0,1],outputRange:[s,c],extrapolate:"clamp",easing:u.default.Easing.inOut(u.default.Easing.ease)}):r?"100%":"auto"})};n.render=function(){var e,t=this.props,n=t.fillParent,r=t.className,l=t.animatedNodeClassName,s=t.staticClassName,d=this.state.animationState;return n?o.createElement("div",{ref:this._measureRef,className:(0,i.default)(c.default.measurementFill,r,(e={},e[(0,i.default)(c.default.measurementFillStatic,s)]=d===a.STATIC,e))},p(u.default.div,{className:(0,i.default)(c.default.animatedNode,l),
style:this.getAnimatedStyle()},void 0,this.props.children)):o.createElement("div",{ref:this._measureRef,className:(0,i.default)(c.default.measurement,r)},p(u.default.div,{className:(0,i.default)(c.default.animatedNode,l),style:this.getAnimatedStyle()},void 0,this.props.children))};return t}(o.PureComponent);m.displayName="SequenceAnimation";m.contextType=s.AccessibilityPreferencesContext;m.defaultProps={duration:300};var _=function(e){y(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).stepHeights={};t.prevStep=null;t.prevSteps=[];t.getBaseHeight=function(){return null!=t.prevStep&&null!=t.stepHeights[t.prevStep]?t.stepHeights[t.prevStep]:0};t.getDirection=function(){var e=t.props,n=e.steps,r=e.step,a=null!=t.prevStep?n.indexOf(t.prevStep):-1,o=-1===a&&null!=t.prevStep?t.prevSteps.indexOf(t.prevStep):-1;return Math.max(a,o)>n.indexOf(r)?-1:1};t.setHeight=function(e){var n=t.props.step
;t.stepHeights[n]=e};return t}var n=t.prototype;n.componentDidMount=function(){this.setPrevSteps()};n.componentDidUpdate=function(){this.setPrevSteps()};n.setPrevSteps=function(){var e=this.props,t=e.step,n=e.steps;this.prevStep=t;this.prevSteps=n};n.render=function(){var e=this.props,t=e.step,n=e.className,r=e.innerClassName,a=e.animatedNodeClassName,o=e.staticClassName,u=e.sideMargin,s=e.verticalMargin,d=e.children,f=e.fillParent;return p(l.default,{component:"div",className:(0,i.default)(c.default.transitionGroup,n)},void 0,p(m,{fillParent:f,sideMargin:u,verticalMargin:s,getDirection:this.getDirection,getBaseHeight:this.getBaseHeight,className:r,animatedNodeClassName:a,staticClassName:o,setHeight:this.setHeight},""+t,d))};return t}(o.Component);t.default=_;_.displayName="Sequencer";_.defaultProps={fillParent:!1}},394444:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.UserSettingsManager=void 0
;var r=l(n(636602)),a=l(n(929031)),o=l(n(177230)),i=l(n(871778)),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){s=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return s(e,t)}var c=!1,d=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;s(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){r.default.subscribe(u.ActionTypes.CONNECTION_OPEN,this.setVerifyTimezone);r.default.subscribe(u.ActionTypes.CONNECTION_OPEN_SUPPLEMENTAL,this.maybeShowChangeLanguageToast);r.default.subscribe(u.ActionTypes.OVERLAY_INITIALIZE,this.setVerifyTimezone);r.default.subscribe(u.ActionTypes.USER_SETTINGS_UPDATE,this.ensureTimezoneUpdated)};n.maybeShowChangeLanguageToast=function(){};n._terminate=function(){r.default.unsubscribe(u.ActionTypes.CONNECTION_OPEN,this.setVerifyTimezone);r.default.unsubscribe(u.ActionTypes.OVERLAY_INITIALIZE,this.setVerifyTimezone)
;r.default.unsubscribe(u.ActionTypes.USER_SETTINGS_UPDATE,this.ensureTimezoneUpdated)};n.setVerifyTimezone=function(){c=!0};n.ensureTimezoneUpdated=function(){if(c){c=!1;var e=(new Date).getTimezoneOffset();i.default.timezoneOffset!==e&&setImmediate((function(){return a.default.updateRemoteSettings({timezoneOffset:e})}))}};return t}(o.default);t.UserSettingsManager=d;var f=new d;t.default=f},610929:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){if(null==e)return!1;return a.default.getCurrentConfig({guildId:e.guild_id}).allowSoundboard&&e.type!==o.ChannelTypes.GUILD_STAGE_VOICE};var r,a=(r=n(915188))&&r.__esModule?r:{default:r},o=n(770348)},205809:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.isSoundboardSupported=u;t.useIsSoundboardSupported=function(){return(0,a.useStateFromStores)([o.default],(function(){return u(o.default)}))};var r,a=n(536211),o=(r=n(635014))&&r.__esModule?r:{default:r},i=n(376293)
;function u(e){void 0===e&&(e=o.default);return e.supports(i.Features.SAMPLE_PLAYBACK)}},362978:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.sounds,r=e.guild,y=d.BoostedGuildFeatures[r.premiumTier].limits.soundboardSounds,h=t.length>=y;function g(){(0,c.openModalLazy)(E(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(87757)]).then(n.bind(n,987757));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return a.createElement(o,_({},e,{guildId:r.id}))}));case 5:case"end":return e.stop()}}),e)}))))}var O=function(e){var t;return a.createElement(i.default,_({},e,{className:(0,o.default)(p.default.soundButton,v.default.soundAddButton,(t={},t[v.default.soundAddButtonDisabled]=h,t)),onClick:h?void 0:g}),m(s.default,{className:v.default.soundAddIcon}),m(u.Text,{variant:"text-xs/normal",
color:"header-primary"},void 0,f.default.Messages.SOUNDBOARD_SOUND_ADD_SOUND),m("div",{className:(0,o.default)(v.default.buttonOverlay,p.default.buttonOverlay)}))};if(h)return m(l.default,{text:f.default.Messages.SOUNDBOARD_SOUND_ADD_DISABLED.format({maxSounds:y})},void 0,(function(e){return O(e)}));return O()};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=y(n(294184)),i=y(n(16941)),u=n(645758),l=y(n(730977)),s=y(n(155393)),c=n(194322),d=n(265517),f=y(n(247001)),p=y(n(573473)),v=y(n(842496));function y(e){return e&&e.__esModule?e:{default:e}}function h(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(){_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return _.apply(this,arguments)}function g(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function E(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){
g(o,r,a,i,u,"next",e)}function u(e){g(o,r,a,i,u,"throw",e)}i(void 0)}))}}},830900:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=_;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=v(n(423405)),i=v(n(222935)),u=v(n(143414)),l=v(n(160629)),s=v(n(982244)),c=v(n(915188)),d=v(n(751037)),f=v(n(247001)),p=["channel"];function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(){h=Object.assign||function(e){
for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return h.apply(this,arguments)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e){var t=e.channel,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,p),r=t.getGuildId(),v=(0,o.default)(t),y=v.mute,_=v.suppress;c.default.useExperiment({guildId:null!=r?r:""},{autoTrackExposure:null!=r});return null==r||y||_?null:m(l.default,{position:l.default.Positions.TOP,renderPopout:function(e){
var t=e.closePopout;return m(i.default,{},void 0,m(d.default,{guildId:r,onClose:t,analyticsSource:"call button"}))}},void 0,(function(e){return a.createElement(u.default,h({},e,{label:f.default.Messages.GUILD_SETTINGS_SOUNDBOARD,iconComponent:s.default},n))}))}_.displayName="SoundboardCallButton"},954500:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=v(n(636602)),o=v(n(177230)),i=n(6505),u=v(n(652566)),l=v(n(644263)),s=v(n(527501)),c=n(194322),d=n(948924),f=v(n(610929)),p=n(770348)
;function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(){h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return h.apply(this,arguments)}function m(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function _(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){m(o,r,a,i,u,"next",e)}function u(e){m(o,r,a,i,u,"throw",e)}i(void 0)}))}}function g(e,t){g=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return g(e,t)}var E=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;g(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var o=t.prototype;o._initialize=function(){
if(!__OVERLAY__){a.default.subscribe(p.ActionTypes.GUILD_SOUNDBOARD_SOUND_REQUEST_PLAY,this._handleSoundboardRequestPlay);a.default.subscribe(p.ActionTypes.VOICE_CHANNEL_SELECT,this._handleVoiceChannelSelect)}};o._terminate=function(){if(!__OVERLAY__){a.default.unsubscribe(p.ActionTypes.GUILD_SOUNDBOARD_SOUND_REQUEST_PLAY,this._handleSoundboardRequestPlay);a.default.unsubscribe(p.ActionTypes.VOICE_CHANNEL_SELECT,this._handleVoiceChannelSelect)}};o._handleSoundboardRequestPlay=function(e){var t=e.sound,n=e.analyticsLocation,r=e.fromOverlay;(0,d.playSoundboardSound)(t,n,r)};o._handleVoiceChannelSelect=function(e){var t=e.guildId,a=e.channelId;if(null!=t){var o=l.default.getChannel(a),d=s.default.getKeybindForAction(p.GlobalKeybindActions.SOUNDBOARD_HOLD);(0,f.default)(o)&&null!=d&&u.default.hasHotspot(i.HotspotLocations.SOUNDBOARD_WHEEL_EDUCATION_MODAL)&&(0,c.openModalLazy)(_(regeneratorRuntime.mark((function e(){var a,o;return regeneratorRuntime.wrap((function(e){
for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(906)]).then(n.bind(n,900906));case 2:a=e.sent;o=a.default;return e.abrupt("return",(function(e){return r.createElement(o,h({},e,{guildId:t,keybind:d}))}));case 5:case"end":return e.stop()}}),e)}))))}};return t}(o.default));t.default=E},751037:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=x;var r,a=k(n(667294)),o=n(47354),i=n(536211),u=D(n(954140)),l=D(n(37039)),s=D(n(185948)),c=D(n(526098)),d=D(n(964285)),f=D(n(749666)),p=D(n(30098)),v=D(n(893160)),y=D(n(527501)),h=D(n(151097)),m=D(n(16941)),_=k(n(20902)),g=D(n(80828)),E=n(688388),O=D(n(634230)),S=n(194322),b=n(864489),I=n(339943),C=k(n(948924)),T=D(n(637193)),A=D(n(625483)),P=D(n(273872)),M=D(n(362978)),N=n(770348),R=D(n(247001)),w=D(n(883740));function D(e){return e&&e.__esModule?e:{default:e}}function L(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(L=function(e){return e?n:t})(e)}
function k(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=L(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function j(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function U(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}
function G(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){U(o,r,a,i,u,"next",e)}function u(e){U(o,r,a,i,u,"throw",e)}i(void 0)}))}}var F=j(g.default,{});function x(e){var t=e.guildId,r=e.analyticsSource,p=e.onClose,g=(0,i.useStateFromStores)([T.default],(function(){return T.default.getSoundsForGuild(t)})),P=(0,i.useStateFromStores)([T.default],(function(){return T.default.getIsFetchingSoundsForGuild(t)})),M=(0,i.useStateFromStores)([v.default],(function(){return v.default.getMediaSessionId()})),D=(0,l.default)(u.default.SOUNDBOARD_POPOUT),L=D.analyticsLocations,k=D.AnalyticsLocationProvider,U=(0,i.useStateFromStores)([y.default],(function(){return y.default.getKeybindForAction(N.GlobalKeybindActions.SOUNDBOARD_HOLD)})),x=(0,A.default)(),B=x.playSound,V=x.checkIsPlayingSound;function H(){p();(0,S.openModalLazy)(G(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){
for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(72936),n.e(31656)]).then(n.bind(n,431656));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,e)}));case 5:case"end":return e.stop()}}),e)}))))}(0,s.default)({type:o.ImpressionTypes.POPOUT,name:o.ImpressionNames.SOUNDBOARD_POPOUT,properties:{source:r,guild_id:t,media_session_id:M}});a.useEffect((function(){C.fetchSoundsForGuild(t)}),[t]);var Y=(0,b.isWindows)()?R.default.Messages.SOUNDBOARD_KEYBIND_HINT_GLOBAL:R.default.Messages.SOUNDBOARD_KEYBIND_HINT;return j(k,{},void 0,j("div",{className:w.default.root},void 0,j("div",{className:w.default.header},void 0,j(E.FormTitle,{className:w.default.headerText},void 0,R.default.Messages.GUILD_SETTINGS_SOUNDBOARD,j(c.default,{className:w.default.betaTag})),j(m.default,{className:w.default.settingsClickArea,onClick:function(){p();d.default.open(t,N.GuildSettingsSections.SOUNDBOARD)},"aria-label":R.default.Messages.SETTINGS
},void 0,j(O.default,{className:w.default.settingsIcon}))),P?F:j(W,{guildId:t,onPlay:function(e){B(e,L)},checkIsPlayingSound:V,sounds:g}),null!=U?j(_.default,{messageType:_.HelpMessageTypes.INFO,className:w.default.keybindHint,textClassName:w.default.keybindHintText},void 0,Y.format({keybind:(0,I.toString)(U.shortcut,!0).split(" + "),keybindHook:function(e,t){return j("span",{className:w.default.keybindHintKeysWrapper},t,j(f.default,{className:w.default.keybindShortcut,shortcut:(0,I.toString)(U.shortcut,!1)}))},openSettingsHook:function(e,t){return j(h.default,{onClick:H},t,e)}})):null))}x.displayName="SoundboardPopout";function W(e){var t=e.sounds,n=e.guildId,r=e.onPlay,a=e.checkIsPlayingSound,o=(0,i.useStateFromStores)([p.default],(function(){return p.default.getGuild(n)}));return null==o?null:j("div",{className:w.default.soundGrid},void 0,t.map((function(e){return j(P.default,{playing:a(e.id),sound:e,onPlay:function(){return r(e)}},e.id)})),j(M.default,{sounds:t,guild:o}))}
W.displayName="SoundGrid"},131020:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=T;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=E(n(468811)),i=n(923387),u=E(n(954140)),l=E(n(37039)),s=n(55922),c=E(n(265328)),d=E(n(423405)),f=E(n(956117)),p=E(n(160629)),v=E(n(730977)),y=E(n(982244)),h=E(n(915188)),m=E(n(751037)),_=E(n(247001)),g=["channel","iconClassName"];function E(e){return e&&e.__esModule?e:{default:e}}function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}
function S(){S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return S.apply(this,arguments)}function b(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()
}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function T(e){var t=e.channel,n=e.iconClassName,r=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,g),E=(0,d.default)(t),O=E.mute,C=E.suppress,T=t.getGuildId(),A=I((0,s.useGetDismissibleContent)([i.DismissibleContent.SOUNDBOARD_EDUCATION]),2),P=A[0],M=A[1],N=(0,
l.default)(u.default.SOUNDBOARD_BUTTON).AnalyticsLocationProvider,R=o.default.v4();function w(e){null==e||e();M()}h.default.useExperiment({guildId:null!=T?T:""},{autoTrackExposure:null!=T});if(null==T)return null;var D=b(y.default,{className:n}),L=function(e){return b(p.default,{position:p.default.Positions.TOP,renderPopout:function(e){var t=e.closePopout;return b(m.default,{guildId:T,onClose:t,analyticsSource:"rtc panel"})}},void 0,(function(t){return a.createElement(f.default,S({},e,t,{disabled:O||C,onClick:function(n){var r;w();null==e||null===(r=e.onClick)||void 0===r||r.call(e);t.onClick(n)},fullWidth:!0,size:f.default.Sizes.SMALL},r),D)}))};if(P===i.DismissibleContent.SOUNDBOARD_EDUCATION)return b(p.default,{positionKey:R,position:p.default.Positions.TOP,align:p.default.Align.CENTER,shouldShow:!0,renderPopout:function(e){var t=e.closePopout;return b(c.default,{header:_.default.Messages.SOUNDBOARD_NEW_FEATURE_TOOLTIP_HEADER,
body:_.default.Messages.SOUNDBOARD_NEW_FEATURE_TOOLTIP_BODY,tryItText:_.default.Messages.SOUNDBOARD_NEW_FEATURE_TOOLTIP_GOT_IT,onTryFeature:function(){return w(t)},closePopout:function(){return w(t)},analyticsName:"Soundboard"})}},void 0,(function(){return L()}));return b(N,{},void 0,b(v.default,{text:O?_.default.Messages.SOUNDBOARD_OPEN_SOUNDBOARD_ERROR_GUILD_MUTE:C?_.default.Messages.SOUNDBOARD_OPEN_SOUNDBOARD_ERROR_SUPPRESSED:_.default.Messages.SOUNDBOARD_OPEN_SOUNDBOARD},void 0,(function(e){return L(e)})))}T.displayName="SoundboardRTCPanelButton"},619476:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,n){var r=(0,a.useStateFromStores)([u.default,i.default],(function(){return null!=t?(0,s.default)(u.default,i.default,t,e):void 0}),[e,t]);if(null==r||null==e||null==t)return null;var v=r.isCurrentUser||r.notPlayable||r.playingSameTrack,y=r.isCurrentUser||r.syncingWithUser||r.syncingWithParty;return[h(o.MenuItem,{
id:"spotify-play-"+e.session_id,action:function(){return(0,d.default)(r,f.SpotifyActionTypes.USER_ACTIVITY_PLAY,n)},label:p.default.Messages.ACTIVITY_FEED_NOW_PLAYING_ACTION_PLAY_ON_SPOTIFY,subtext:v?(0,l.default)(r,f.SpotifyActionTypes.USER_ACTIVITY_PLAY):void 0,disabled:v}),r.canPlaySpotify?h(o.MenuItem,{id:"spotify-sync-"+e.session_id,action:function(){return(0,c.default)(r,f.SpotifyActionTypes.USER_ACTIVITY_SYNC,n)},label:p.default.Messages.ACTIVITY_FEED_NOW_PLAYING_ACTION_LISTEN_ALONG,subtext:y?(0,l.default)(r,f.SpotifyActionTypes.USER_ACTIVITY_SYNC):void 0,disabled:y}):null]};!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}
r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=n(145122),i=v(n(423046)),u=v(n(146411)),l=v(n(601715)),s=v(n(985923)),c=v(n(909630)),d=v(n(669790)),f=n(673810),p=v(n(247001));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},1430:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.audienceAckRequestToSpeak=E;t.editStage=function(e,t,n){return b.apply(this,arguments)};t.endStage=function(e){
return I.apply(this,arguments)};t.inviteUserToStage=function(e,t){var n=e.getGuildId();(0,r.default)(null!=n,"This channel cannot be guildless.");return o.default.patch({url:y.Endpoints.UPDATE_VOICE_STATE(n,t),body:{suppress:!1,request_to_speak_timestamp:(new Date).toISOString(),channel_id:e.id}})};t.moveSelfToAudience=function(e){var t=null==e?void 0:e.getGuildId();(0,r.default)(null!=t,"This channel cannot be guildless.");return o.default.patch({url:y.Endpoints.UPDATE_VOICE_STATE(t),body:{suppress:!0,channel_id:e.id,self_video:!1,self_stream:!1}})};t.moveUserToAudience=function(e,t){if(null==t||null==e)return;var n=t.getGuildId();(0,r.default)(null!=n,"This channel cannot be guildless.");O(t,e.id,!0);return o.default.patch({url:y.Endpoints.UPDATE_VOICE_STATE(n,e.id),body:{suppress:!0,channel_id:t.id,self_video:!1,self_stream:!1}})};t.removeUserFromChannel=function(e,t){var n=null==t?void 0:t.getGuildId();if(null==n||null==e)return;u.default.setChannel(n,e.id,null)}
;t.setEveryoneRolePermissionAllowed=function(e,t,n){var o=e.getGuildId();(0,r.default)(null!=o,"Channel cannot be guildless");var u=e.permissionOverwrites[o],s=g({id:o,type:l.PermissionOverwriteType.ROLE,allow:d.default.NONE,deny:d.default.NONE},u);if(n){s.allow=a.default.add(s.allow,t);s.deny=a.default.remove(s.deny,t)}else{s.allow=a.default.remove(s.allow,t);s.deny=a.default.add(s.deny,t)}i.default.updatePermissionOverwrite(e.id,s)};t.setUserSuppress=O;t.startStage=function(e,t,n,r){return S.apply(this,arguments)};t.toggleRequestToSpeak=function(e,t){var n=e.getGuildId();(0,r.default)(null!=n,"This channel cannot be guildless.");t&&(0,s.trackWithMetadata)(y.AnalyticEvents.REQUEST_TO_SPEAK_INITIATED,g({},(0,f.getStageChannelMetadata)(e)));return o.default.patch({url:y.Endpoints.UPDATE_VOICE_STATE(n),body:{request_to_speak_timestamp:t?(new Date).toISOString():null,channel_id:e.id}})}
;var r=h(n(441143)),a=h(n(267258)),o=h(n(118915)),i=h(n(709403)),u=h(n(415275)),l=n(81069),s=n(844784),c=h(n(387692)),d=h(n(656016)),f=n(411315),p=n(169769),v=n(104144),y=n(770348);function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function _(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){m(o,r,a,i,u,"next",e)}function u(e){m(o,r,a,i,u,"throw",e)}i(void 0)}))}}function g(){g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return g.apply(this,arguments)}function E(e,t){var n=null==e?void 0:e.getGuildId();(0,r.default)(null!=n,"This channel cannot be guildless.");var a=c.default.getVoiceStateForChannel(e.id);(0,
v.getAudienceRequestToSpeakState)(a)!==v.RequestToSpeakStates.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK||t||(0,s.trackWithMetadata)(y.AnalyticEvents.PROMOTED_TO_SPEAKER,g({},(0,f.getStageChannelMetadata)(e)));return o.default.patch({url:y.Endpoints.UPDATE_VOICE_STATE(n),body:{suppress:t,request_to_speak_timestamp:null,channel_id:e.id}})}function O(e,t,n){var a=e.getGuildId();(0,r.default)(null!=a,"This channel cannot be guildless.");return o.default.patch({url:y.Endpoints.UPDATE_VOICE_STATE(a,t),body:{suppress:n,channel_id:e.id}})}function S(){return(S=_(regeneratorRuntime.mark((function e(t,n,r,a){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==n){e.next=2;break}return e.abrupt("return");case 2:e.next=4;return(0,p.startStageInstance)(t.id,n,r,a);case 4:o=e.sent;E(t,!1);return e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(){return(b=_(regeneratorRuntime.mark((function e(t,n,r){var a
;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==n){e.next=2;break}return e.abrupt("return");case 2:e.next=4;return(0,p.updateStageInstance)(t.id,n,r);case 4:a=e.sent;return e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){return(I=_(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return(0,p.endStageInstance)(t.id);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},685810:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.participantMemberInfo=function(e){var t;if((0,a.isNewUser)(e.user))return o.default.Messages.REQUEST_TO_SPEAK_MEMBER_INFO_NEW_TO_DISCORD;var n=null===(t=e.member)||void 0===t?void 0:t.joinedAt;if(null==n)return o.default.Messages.REQUEST_TO_SPEAK_MEMBER_INFO_NON_MEMBER;if(null!=e.member&&e.member.roles.length>0){var r,i
;return null!==(r=null===(i=e.role)||void 0===i?void 0:i.name)&&void 0!==r?r:o.default.Messages.REQUEST_TO_SPEAK_MEMBER_INFO_MEMBER_ROLES}if((new Date).getTime()-Date.parse(n)<864e5)return o.default.Messages.REQUEST_TO_SPEAK_MEMBER_INFO_NEW_MEMBER;return o.default.Messages.REQUEST_TO_SPEAK_MEMBER_INFO_MEMBER};var r,a=n(873838),o=(r=n(247001))&&r.__esModule?r:{default:r}},411315:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.fillChunk=function(e,t,n){var a=(0,r.chunk)(e,t),o=null!=n?n:t;return a.reduce((function(e,t){if(o<=t.length)return[].concat(v(e),[t]);var n=[].concat(v(t),v(new Array(o-t.length).fill(null)));return[].concat(v(e),[n])}),[])};t.getRemoveModeratorTooltipHint=function(e,t){switch(e){case c.RowType.OWNER:return d.default.Messages.CHANNEL_PERMISSIONS_ADD_MEMBERS_TOOLTIP_OWNER;case c.RowType.ADMINISTRATOR:return d.default.Messages.CHANNEL_PERMISSIONS_ADD_MEMBERS_TOOLTIP_ADMINISTRATOR;case c.RowType.MEMBER:case c.RowType.ROLE:
return t?d.default.Messages.CHANNEL_PERMISSIONS_CANNOT_REMOVE_PERMISSIONS:d.default.Messages.CHANNEL_PERMISSIONS_REMOVE_MODERATOR_TOOLTIP;case c.RowType.EMPTY_STATE:return null}};t.getStageChannelMetadata=function(e){var t=u.default.getStageInstanceByChannel(e.id);return{channel_id:e.id,guild_id:e.guild_id,topic:null==t?void 0:t.topic,media_session_id:a.default.getMediaSessionId(),request_to_speak_state:i.default.canEveryoneRole(s.Permissions.REQUEST_TO_SPEAK,e)?l.RequestToSpeakPermissionStates.EVERYONE:l.RequestToSpeakPermissionStates.NO_ONE,stage_instance_id:null==t?void 0:t.id}};t.isVersionEqual=function(e,t){var n=p(e,2)[1],r=p(t,2)[1];return n===r};t.summarizeUsernamesParticipating=function(e,t,n,r){var a=t[0],i=o.default.getName(e,n,a),u=null!=r?r:t.length;if(1===u&&null!=a)return i;if(null==a)return d.default.Messages.SPEAKING_COUNT.format({count:u});return d.default.Messages.USER_SUMMARY_WITH_OTHERS.format({name:i,count:u-1})}
;t.summarizeUsernamesParticipatingWithSpeakerNickname=function(e,t,n){var r=null!=n?n:e.length;if(1===r&&null!=t)return t;if(null==t)return d.default.Messages.SPEAKING_COUNT.format({count:r});return d.default.Messages.USER_SUMMARY_WITH_OTHERS.format({name:t,count:r-1})};var r=n(496486),a=f(n(893160)),o=f(n(29652)),i=f(n(656016)),u=f(n(217964)),l=n(808961),s=n(770348),c=n(739889),d=f(n(247001));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||y(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||y(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},342716:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.default=void 0;var r=v(n(636602)),a=v(n(740207)),o=n(123516),i=v(n(177230)),u=n(747868),l=v(n(607209)),s=v(n(423046)),c=v(n(644263)),d=v(n(635014)),f=n(104144),p=n(770348);function v(e){return e&&e.__esModule?e:{default:e}}function y(e,t){y=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return y(e,t)}var h=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;y(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=e.call.apply(e,[this].concat(r))||this).handleVoiceStateUpdates=function(e){var n=e.voiceStates,r=s.default.getId();n.forEach((function(e){var n;if(e.userId===r){if(null===(n=c.default.getChannel(e.channelId))||void 0===n?void 0:n.isGuildStageVoice()){if(!((0,f.getAudienceRequestToSpeakState)(e)===f.RequestToSpeakStates.ON_STAGE)){t.handleStopStream(e);t.handleStopUserVideo()}}}}))};t.handleStopStream=function(e){var t=l.default.getActiveStreamForUser(e.userId)
;null!=t&&(0,o.stopStream)((0,u.encodeStreamKey)(t),!1)};t.handleStopUserVideo=function(){d.default.isVideoEnabled()&&a.default.setVideoEnabled(!1)};return t}var n=t.prototype;n._initialize=function(){r.default.subscribe(p.ActionTypes.VOICE_STATE_UPDATES,this.handleVoiceStateUpdates)};n._terminate=function(){r.default.unsubscribe(p.ActionTypes.VOICE_STATE_UPDATES,this.handleVoiceStateUpdates)};return t}(i.default));t.default=h},169769:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.endStageInstance=function(e){return a.default.delete(o.Endpoints.STAGE_INSTANCE(e))};t.startStageInstance=function(e,t,n,r,a){return l.apply(this,arguments)};t.updateStageInstance=function(e,t,n){return s.apply(this,arguments)};var r,a=(r=n(118915))&&r.__esModule?r:{default:r},o=n(770348);function i(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function u(e){return function(){var t=this,n=arguments
;return new Promise((function(r,a){var o=e.apply(t,n);function u(e){i(o,r,a,u,l,"next",e)}function l(e){i(o,r,a,u,l,"throw",e)}u(void 0)}))}}function l(){return(l=u(regeneratorRuntime.mark((function e(t,n,r,i,u){var l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return a.default.post({url:o.Endpoints.STAGE_INSTANCES,body:{channel_id:t,topic:n,privacy_level:r,guild_scheduled_event_id:u,send_start_notification:i}});case 2:l=e.sent;return e.abrupt("return",l.body);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function s(){return(s=u(regeneratorRuntime.mark((function e(t,n,r){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return a.default.patch({url:o.Endpoints.STAGE_INSTANCE(t),body:{topic:n,privacy_level:r}});case 2:i=e.sent;return e.abrupt("return",i.body);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},913687:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){if(!e.isGuildStageVoice())return!1;if(!u.default.isLive(e.id))return!1;var t=r.default.getId();if(!i.default.isModerator(t,e.id))return!1;var n=a.default.getMutableParticipants(e.id,o.StageChannelParticipantNamedIndex.MODERATOR);if(n.length<=1)return!0;if(!i.default.isSpeaker(t,e.id))return!1;return n.filter((function(e){return e.id!==t&&e.speaker})).length<=0};var r=l(n(423046)),a=l(n(897191)),o=n(921867),i=l(n(258079)),u=l(n(217964));function l(e){return e&&e.__esModule?e:{default:e}}},530877:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=(0,a.useStateFromStores)([o.default],(function(){return o.default.getId()}));return(0,i.default)(t,e)===i.RequestToSpeakStates.ON_STAGE};var r,a=n(536211),o=(r=n(423046))&&r.__esModule?r:{default:r},i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e}
;var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(104144));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}},724571:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){return(0,r.useStateFromStores)([a.default,o.default,i.default],(function(){var t=a.default.getId();return o.default.getVoiceChannelId()===e?i.default.getPermissionsForUser(t,e):null}),[e])};var r=n(536211),a=u(n(423046)),o=u(n(211136)),i=u(n(258079));function u(e){return e&&e.__esModule?e:{default:e}}},902477:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useRequestToSpeakPermission=function(e){
var t=(0,a.useStateFromStores)([o.default],(function(){return o.default.getChannel(e)}),[e]),n=i.default.canEveryoneRole(l.Permissions.REQUEST_TO_SPEAK,t),s=(p=r.useState(n),v=2,function(e){if(Array.isArray(e))return e}(p)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}}(p,v)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(p,v)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=s[0],f=s[1];var p,v;r.useEffect((function(){n!==c&&f(n)}),[n]);return[c,function(e){if(null!=t){f(e);(0,u.setEveryoneRolePermissionAllowed)(t,l.Permissions.REQUEST_TO_SPEAK,e)}}]};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(536211),o=s(n(644263)),i=s(n(656016)),u=n(1430),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},945544:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useStageChannelParticipantsList=m;t.useStageChannelParticipantsListThrottled=function(e,t,n,r){void 0===r&&(r=!1);var a=m(e,t,r),o=v(a,2),i=o[0],u=o[1],l=v((0,d.useThrottledState)(a,n,[t[s.StageChannelParticipantNamedIndex.AUDIENCE]]),2),c=l[0],f=l[1],p=[i[_.SELECTED],i[_.SPEAKER],c[_.AUDIENCE]],y=[u[_.SELECTED],u[_.SPEAKER],f[_.AUDIENCE]];if(r){p.splice(1,0,i[_.MEDIA]);y.splice(1,0,u[_.MEDIA])}return[p,y]};t.useThrottleDurationForChannel=function(e){var t=(0,l.useStageParticipantsCount)(e,s.StageChannelParticipantNamedIndex.AUDIENCE),n=v(r.useState(!1),2),a=n[0],o=n[1];r.useEffect((function(){t>100?o(!0):t<75&&o(!1)}),[t]);return a?5e3:0};var r=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(496486),o=n(536211),i=f(n(825724)),u=f(n(897191)),l=n(216554),s=n(921867),c=n(411315),d=n(2663);function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0
;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||y(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t,n){var l=(0,o.useStateFromStores)([u.default],(function(){return[e,u.default.getParticipantsVersion(e)]}),[e],c.isVersionEqual),d=(0,o.useStateFromStores)([i.default],(function(){return i.default.getSelectedParticipantId(e)}),[e]);return r.useMemo((function(){var r=[],o=[],i=-1,c=[];if(n)for(var f,p=function(e,t){
var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=y(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(u.default.getMutableParticipants(e,s.StageChannelParticipantNamedIndex.SPEAKER));!(f=p()).done;){var v=f.value;if(!v.voiceState.selfVideo&&v.type!==s.StageChannelParticipantTypes.STREAM)break;v.id!==d&&c.push(v);i++}var h=function(e,t,n){var u=n?e.filter((function(e,t){return e.id!==d&&t>i})):e,l=(0,a.chunk)(u,t);o.push(l);r.push(l.length)},m=null!=d?u.default.getParticipant(e,d):null;(null==m?void 0:m.speaker)?h([m],1,!1):h([],1,!1);[s.StageChannelParticipantNamedIndex.SPEAKER,s.StageChannelParticipantNamedIndex.AUDIENCE].forEach((function(e){
h(u.default.getMutableParticipants(l[0],e),t[e],e===s.StageChannelParticipantNamedIndex.SPEAKER)}));h(c,1,!1);return[r,o]}),[l,t,d,n,e])}var _;!function(e){e[e.SELECTED=0]="SELECTED";e[e.SPEAKER=1]="SPEAKER";e[e.AUDIENCE=2]="AUDIENCE";e[e.MEDIA=3]="MEDIA"}(_||(_={}))},641474:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){void 0===t&&(t=3);return(n=(0,a.useStateFromStores)([o.default],(function(){for(var n,r=o.default.getMutableParticipants(e),a=[],i=function(){var e=n.value;if(a.length>=t)return"break";if(null!=a.find((function(t){return t.id===e.user.id})))return"continue";a.push(e.user)},l=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=u(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}
throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(r);!(n=l()).done;){var s=i();if("break"===s)break}return[{participants:r,usersInSummary:a},o.default.getParticipantsVersion(e)]}),[e,t],i.isVersionEqual),r=1,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}}(n,r)||u(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];var n,r};var r,a=n(536211),o=(r=n(897191))&&r.__esModule?r:{default:r},i=n(411315);function u(e,t){if(e){
if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},2663:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useThrottledState=t.useThrottledFunction=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=a?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(r,i,u):r[i]=e[i]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(496486);function o(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}function i(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var l=function(e){return e};t.useThrottledState=function(e,t,n,a){void 0===n&&(n=[]);var o=s(l,t,n,a),i=r.useRef(e)
;r.useEffect((function(){var t=o(e);i.current=t}),[e,o]);return 0===t?e:i.current};var s=function(e,t,n,o){void 0===n&&(n=[]);var u=r.useRef((0,a.throttle)(e,t,o));r.useEffect((function(){u.current=(0,a.throttle)(e,t,o);return function(){var e;null===(e=u.current)||void 0===e||e.cancel()}}),[e,t,o].concat(i(n)));return u.current};t.useThrottledFunction=s},462867:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=(0,o.useStateFromStores)([i.default],(function(){return i.default.getId()})),n=(0,l.default)(t,e.id),r=n===l.RequestToSpeakStates.REQUESTED_TO_SPEAK||n===l.RequestToSpeakStates.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK,s=(p=a.useState(r),v=2,function(e){if(Array.isArray(e))return e}(p)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e
}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}}(p,v)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(p,v)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=s[0],f=s[1];var p,v;a.useEffect((function(){f(r)}),[r]);return[c,function(){n===l.RequestToSpeakStates.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK?(0,u.audienceAckRequestToSpeak)(e,!0):(0,u.toggleRequestToSpeak)(e,!c);f(!c)}]};var r,a=c(n(667294)),o=n(536211),i=(r=n(423046))&&r.__esModule?r:{default:r},u=n(1430),l=c(n(104144));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t
})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},158579:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=s(n(667294)),i=s(n(2850)),u=(r=n(339753))&&r.__esModule?r:{default:r};function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function c(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d=o.memo((function(e){var t=e.channel,n=e.participants,r=e.maxTiles;if(0===n.length)return null;for(var a=[],o=0;o<r;o++)if(o<n.length){var l=n[o];a.push(c(i.default,{channel:t,participant:l},l.id))}else a.push(c(i.AudienceEmptyTile,{},o))
;return c("div",{className:u.default.participants},void 0,a)}));t.default=d},386191:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(645758),i=l(n(247001)),u=l(n(326714));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d=a.memo((function(e){var t,n=e.role,r=e.participantCount;return c("div",{className:u.default.roleContainer},void 0,c(o.Text,{className:u.default.roleName,variant:"text-xs/normal"},void 0,null!==(t=null==n?void 0:n.name)&&void 0!==t?t:i.default.Messages.AUDIENCE_LABEL,"â€”",r))}));t.default=d},2850:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.AudienceEmptyTile=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=b(n(294184)),i=b(n(441143)),u=n(536211),l=n(378158),s=n(433383),c=b(n(711195)),d=b(n(414068)),f=b(n(876874)),p=b(n(16941)),v=b(n(160629)),y=n(645758),h=b(n(337322)),m=b(n(782732)),_=b(n(924671)),g=b(n(29652)),E=n(104144),O=n(770348),S=b(n(967709));function b(e){return e&&e.__esModule?e:{default:e}}function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}function C(){C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return C.apply(this,arguments)}function T(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function A(e){
return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){T(o,r,a,i,u,"next",e)}function u(e){T(o,r,a,i,u,"throw",e)}i(void 0)}))}}function P(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var M=a.memo((function(e){var t=e.guildId,n=e.channelId,r=e.user,a=e.isPremium,o=e.isBlocked;return P("div",{className:S.default.textContainer},void 0,o?P(h.default,{className:S.default.blockedIcon,color:O.Colors.STATUS_RED}):null,P(y.Text,{className:S.default.text,variant:"text-sm/normal",color:"header-primary"},void 0,g.default.getName(t,n,r)),a?P(m.default,{className:S.default.boost,
color:O.Colors.GUILD_BOOSTING_PINK}):null)})),N=a.memo((function(e){var t,n,r,i=e.participant,u=e.guildId,l=e.channel,s=e.isPremium,c=i.user,d=i.blocked,f=i.rtsState,p=f===E.RequestToSpeakStates.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK,v=f===E.RequestToSpeakStates.REQUESTED_TO_SPEAK||p;return a.createElement(a.Fragment,null,P("div",{className:S.default.avatarContainer},void 0,v&&P(_.default,{className:(0,o.default)(S.default.icon,(t={},t[S.default.invited]=p,t))}),P("img",{src:null!==(n=c.getAvatarURL(l.guild_id,56,!1))&&void 0!==n?n:void 0,alt:c.username,"aria-label":c.username,className:(0,o.default)(S.default.avatar,(r={},r[S.default.faded]=d,r))})),P(M,{guildId:u,channelId:l.id,user:c,isPremium:s,isBlocked:d}))})),R=function(){return P("div",{className:S.default.tileBaseContainer})};t.AudienceEmptyTile=R;R.displayName="AudienceEmptyTile";var w=a.memo((function(e){var t=e.participant,r=e.channel,y=t.user,h=t.blocked,m=r.getGuildId(),_=(0,s.useAppContext)(),g=(0,
u.useStateFromStores)([f.default],(function(){var e;return null!=m&&null!=(null===(e=f.default.getMember(m,y.id))||void 0===e?void 0:e.premiumSince)}),[m,y.id]);(0,i.default)(null!=m,"Channel cannot be guildless");var E=a.useCallback((function(e){(0,l.openContextMenuLazy)(e,A(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(31626),n.e(1759),n.e(48811),n.e(50690),n.e(39048),n.e(40100)]).then(n.bind(n,205814));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return a.createElement(o,C({},e,{user:y,guildId:m,channelId:r.id,showMediaItems:!0,showStageChannelItems:!0,showChatItems:!1}))}));case 5:case"end":return e.stop()}}),e)}))),{context:_})}),[y,m,r.id,_]),O=a.useCallback((function(e){return a.createElement(d.default,C({},e,{guildId:m,channelId:r.id,userId:y.id}))}),[r.id,m,y.id]),b=P(N,{participant:t,guildId:m,channel:r,isPremium:g})
;return P(v.default,{preload:function(){return(0,c.default)(y.id,y.getAvatarURL(r.guild_id,80),{guildId:r.guild_id})},renderPopout:O,position:v.default.Positions.RIGHT,spacing:8},void 0,(function(e){var t;return a.createElement(p.default,C({className:(0,o.default)(S.default.tileContainer,(t={},t[S.default.singleIcon]=g||h,t[S.default.doubleIcon]=g&&h,t)),onContextMenu:E},e),b)}))}));t.default=w},226155:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=v;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=c(n(709578)),i=c(n(635014)),u=c(n(974661)),l=c(n(180573)),s=["aspectRatio","blocked","channel","className","focused","children","inCall","inPopout","noBorder","onClick","onContextMenu","onDoubleClick","onVideoResize","paused","pulseSpeakingIndicator","participant","width"];function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(){p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return p.apply(this,arguments)}function v(e){var t=e.aspectRatio,n=e.blocked,r=e.channel,c=e.className,d=e.focused,v=e.children,y=e.inCall,h=e.inPopout,m=e.noBorder,_=e.onClick,g=e.onContextMenu,E=e.onDoubleClick,O=e.onVideoResize,S=e.paused,b=e.pulseSpeakingIndicator,I=e.participant,C=e.width,T=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,s),A=i.default.getVideoComponent();return f("div",{style:{width:C},className:l.default.spaceBetweenTiles},void 0,f(u.default,{className:l.default.tileSizer,aspectRatio:t},void 0,a.createElement(o.default,p({blocked:n,channel:r,className:c,focused:d,inCall:y,inPopout:h,noBorder:m,onClick:_,onContextMenu:g,onDoubleClick:E,onVideoResize:O,participant:I,paused:S,pulseSpeakingIndicator:b,videoComponent:A,width:C},T)),v))}v.displayName="AutosizingCallTile"},991636:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=f;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=s(n(294184)),o=s(n(247001)),i=s(n(300443)),u=s(n(483683)),l=s(n(63685));function s(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){var t=e.className,n=e.children;return d("div",{className:(0,a.default)(i.default.container,t)},void 0,d("img",{alt:o.default.Messages.MEMBER_VERIFICATION_VERIFICATION_ICON,src:l.default,className:(0,a.default)(i.default.sparkleIcon,i.default.sparkleBottom)}),n,d("img",{alt:o.default.Messages.MEMBER_VERIFICATION_VERIFICATION_ICON,src:u.default,className:(0,a.default)(i.default.sparkleIcon,i.default.sparkleTop)}))}f.displayName="IconWithSparkles"},542402:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=O;_(n(667294));var r,a=h(n(294184)),o=h(n(644263)),i=h(n(211136)),u=h(n(956117)),l=n(645758),s=h(n(337322)),c=_(n(177101)),d=n(1430),f=h(n(14325)),p=n(123718),v=h(n(247001)),y=h(n(110717));function h(e){return e&&e.__esModule?e:{
default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,
_owner:null}}function E(e){var t=i.default.getVoiceChannelId();if(null!=t){var n=o.default.getChannel(t);null!=n&&(0,d.audienceAckRequestToSpeak)(n,e)}}function O(){var e,t=(0,f.default)(),n=null!==(e=(0,p.useStageBlockedUsersCount)(null==t?void 0:t.id))&&void 0!==e?e:0;return g(c.default,{className:y.default.container,color:c.NoticeColors.DEFAULT},void 0,g("div",{},void 0,v.default.Messages.STAGE_SPEAK_INVITE_HEADER),n>0?g("div",{className:y.default.blocked},void 0,g(s.default,{width:12,height:12,className:y.default.blockedIcon}),g("div",{className:y.default.blockedText},void 0,v.default.Messages.STAGE_SPEAK_INVITE_HEADER_BLOCKED_USERS.format({number:n}))):null,g(u.default,{className:(0,a.default)(y.default.button,y.default.acceptButton),size:u.default.Sizes.MIN,color:u.default.Colors.WHITE,onClick:function(){return E(!1)}},void 0,g(l.Text,{className:y.default.acceptText,variant:"text-xs/normal",color:"none"},void 0,v.default.Messages.STAGE_SPEAK_INVITE_ACCEPT)),g(u.default,{
className:(0,a.default)(y.default.button,y.default.declineButton),look:u.default.Looks.OUTLINED,size:u.default.Sizes.MIN,color:u.default.Colors.WHITE,onClick:function(){return E(!0)}},void 0,g(l.Text,{className:y.default.declineText,variant:"text-xs/normal",color:"none"},void 0,v.default.Messages.STAGE_SPEAK_INVITE_DECLINE)))}O.displayName="InvitedToSpeakNotice"},214563:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=c(n(730977)),i=c(n(980351)),u=n(478036),l=c(n(247001)),s=c(n(817463))
;function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=function(){return p(o.default,{text:l.default.Messages.STAGE_MODERATOR_TOOLTIP},void 0,(function(e){return a.createElement("div",f({},e,{className:s.default.container
}),p(i.default,{color:u.Colors.WHITE}))}))};v.displayName="ModeratorBadge";var y=v;t.default=y},397789:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=b;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=n(966708),u=h(n(145122)),l=h(n(563621)),s=h(n(160629)),c=h(n(91424)),d=h(n(811198)),f=h(n(878556)),p=n(770348),v=h(n(247001)),y=h(n(607673));function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(){
_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return _.apply(this,arguments)}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function S(e){var t=e.channel,n=e.closePopout,r=e.onSelect,a=(0,i.useChannelNotificationRadioItems)(t);return O(u.default,{navId:"notification-settings",onClose:n,"aria-label":v.default.Messages.NOTIFICATION_SETTINGS,onSelect:r},void 0,a)}S.displayName="NotificationSettingsMenu";function b(e){
var t=e.channel,n=g(a.useState(!1),2),r=n[0],i=n[1],u=(0,o.useStateFromStores)([l.default],(function(){return l.default.getChannelOverrides(t.guild_id)[t.id]}),[t.guild_id,t.id]),h=(null==u?void 0:u.message_notifications)===p.UserNotificationSettings.NO_MESSAGES,m=v.default.Messages.NOTIFICATION_SETTINGS;return O(s.default,{shouldShow:r,animation:s.default.Animation.NONE,position:s.default.Positions.BOTTOM,align:s.default.Align.RIGHT,autoInvert:!1,onRequestClose:function(){return i(!1)},renderPopout:function(e){return a.createElement(S,_({},e,{channel:t}))}},void 0,(function(e,t){var n=t.isShown;return a.createElement(f.default.Icon,_({},e,{onClick:function(){return i((function(e){return!e}))},tooltip:n?null:m,icon:h?d.default:c.default,foreground:h?y.default.strikethrough:null,"aria-label":m}))}))}b.displayName="NotificationSettingsButton"},885903:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;!function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=u(n(332282)),o=u(n(991636)),i=u(n(364266));function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,
type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e){var t=e.className;return s(o.default,{className:t},void 0,s("div",{className:i.default.background},void 0,s(a.default,{className:i.default.foreground,width:32,height:32})))}c.displayName="RaisedHandsEmptyStateImage"},460936:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=oe;var r,a=F(n(667294)),o=U(n(294184)),i=U(n(441143)),u=n(536211),l=n(378158),s=F(n(538930)),c=n(982437),d=U(n(711195)),f=U(n(414068)),p=U(n(876874)),v=U(n(689389)),y=U(n(788739)),h=U(n(956117)),m=U(n(16941)),_=U(n(160629)),g=U(n(567668)),E=n(645758),O=U(n(730977)),S=U(n(259530)),b=U(n(855480)),I=U(n(833837)),C=U(n(924671)),T=U(n(521358)),A=n(1430),P=n(216554),M=n(685810),N=n(104144),R=U(n(801967)),w=n(902477),D=U(n(885903)),L=n(478036),k=U(n(247001)),j=U(n(983953));function U(e){return e&&e.__esModule?e:{default:e}}function G(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap
;return(G=function(e){return e?n:t})(e)}function F(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=G(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function x(){x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return x.apply(this,arguments)}function W(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function B(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){W(o,r,a,i,u,"next",e)}function u(e){W(o,r,a,i,u,"throw",e)}i(void 0)
}))}}function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}
function Y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var z,K=Y(C.default,{}),$=Y(S.default,{}),q=a.memo((function(e){var t=e.toggleRequestToSpeakSidebar;return Y("div",{className:j.default.headerContainer},void 0,K,Y(E.Text,{className:j.default.headerTitle,variant:"text-md/normal",color:"header-primary"},void 0,k.default.Messages.REQUEST_TO_SPEAK_AREA_TITLE),Y(m.default,{className:j.default.headerClose,onClick:t,"aria-label":k.default.Messages.CLOSE},void 0,$))})),X=Y(b.default,{width:16,height:16}),Q=a.memo((function(e){var t=e.channel;return Y(m.default,{className:j.default.selfSpeakerContainer,onClick:function(){
(0,A.audienceAckRequestToSpeak)(t,!1)}},void 0,Y("div",{className:(0,o.default)(j.default.buttonContainer,j.default.selfSpeakerButton)},void 0,X),Y(E.Text,{className:j.default.selfSpeakerText,variant:"text-md/normal",color:"none"},void 0,k.default.Messages.MODERATOR_RAISE_OWN_HAND))})),Z=Y(I.default,{width:16,height:16}),J=Y(S.default,{width:16,height:16}),ee=a.memo((function(e){var t=e.channel,r=e.participant,v=e.tempDisableOnInit,g=void 0!==v&&v,S=V(a.useState(g),2),b=S[0],I=S[1];a.useEffect((function(){if(b){var e=setTimeout((function(){return I(!1)}),1e3);return function(){return clearTimeout(e)}}}),[]);var C=t.getGuildId();(0,i.default)(null!=C,"Channel cannot be guildless");var T=(0,u.useStateFromStoresObject)([y.default],(function(){return{isMobile:y.default.isMobileOnline(r.user.id),status:y.default.getStatus(r.user.id,C)}})),P=T.isMobile,R=T.status,w=(0,u.useStateFromStores)([p.default],(function(){return p.default.getMember(C,r.user.id)})),D=a.useMemo((function(){var e
;return(e={})[C]=[r.user.id],e}),[C,r.user.id]);(0,c.useSubscribeGuildMembers)(D);var L=r.rtsState===N.RequestToSpeakStates.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK;function U(){(0,A.setUserSuppress)(t,r.user.id,!1)}function G(){(0,A.setUserSuppress)(t,r.user.id,!0)}var F=function(e){(0,l.openContextMenuLazy)(e,B(regeneratorRuntime.mark((function e(){var o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(31626),n.e(1759),n.e(48811),n.e(50690),n.e(39048),n.e(40100)]).then(n.bind(n,205814));case 2:o=e.sent;i=o.default;return e.abrupt("return",(function(e){return a.createElement(i,x({},e,{user:r.user,guildId:C,channelId:t.id,showMediaItems:!0}))}));case 5:case"end":return e.stop()}}),e)}))))};return Y("div",{className:j.default.participantRowContainer},void 0,Y(_.default,{preload:function(){return(0,d.default)(r.user.id,r.user.getAvatarURL(t.guild_id,80),{guildId:t.guild_id})},renderPopout:function(e){
return a.createElement(f.default,x({},e,{userId:r.user.id,guildId:C,channelId:t.id}))},position:_.default.Positions.LEFT,spacing:16},void 0,(function(e){var t;return a.createElement(m.default,x({className:j.default.participantMemberContainer,onContextMenu:F},e),Y(s.default,{size:s.Sizes.SIZE_40,className:j.default.participantAvatar,user:r.user,isMobile:P,status:R}),Y("div",{className:j.default.participantTextContainer},void 0,Y(E.Text,{className:j.default.participantName,variant:"text-md/normal",color:"none",style:{color:null!==(t=null==w?void 0:w.colorString)&&void 0!==t?t:void 0}},void 0,r.userNick),Y(E.Text,{variant:"text-xs/normal",color:"header-secondary"},void 0,(0,M.participantMemberInfo)(r))))})),Y(O.default,{text:L?k.default.Messages.REQUEST_TO_SPEAK_INVITATION_SEND:k.default.Messages.REQUEST_TO_SPEAK_ACCEPT},void 0,(function(e){return a.createElement(h.default,x({},e,{innerClassName:j.default.buttonContainer,look:h.default.Looks.BLANK,size:h.default.Sizes.NONE,onClick:U,
disabled:L||b}),Z)})),Y(O.default,{text:k.default.Messages.REQUEST_TO_SPEAK_DECLINE},void 0,(function(e){return a.createElement(h.default,x({},e,{innerClassName:(0,o.default)(j.default.buttonContainer,j.default.buttonMargin),look:h.default.Looks.BLANK,size:h.default.Sizes.NONE,onClick:G}),J)})))})),te=a.memo((function(e){var t=e.channel,n=V((0,w.useRequestToSpeakPermission)(t.id),2),r=n[0],a=n[1];return Y(g.default,{className:j.default.toggle,onChange:a,value:r},void 0,k.default.Messages.MODERATOR_ALLOW_EVERYONE_RAISE_HAND)})),ne=Y(D.default,{}),re=a.memo((function(){return Y("div",{className:j.default.emptyStateContainer},void 0,ne,Y(E.Text,{className:j.default.emptyStateTitle,variant:"text-lg/normal",color:"header-primary"},void 0,k.default.Messages.REQUEST_TO_SPEAK_EMPTY_LIST_TITLE),Y(E.Text,{className:j.default.emptyStateBody,variant:"text-sm/normal",color:"header-secondary"},void 0,k.default.Messages.REQUEST_TO_SPEAK_EMPTY_LIST_BODY))}));!function(e){
e[e.TOGGLE_REQUEST_TO_SPEAK=0]="TOGGLE_REQUEST_TO_SPEAK";e[e.MAKE_SPEAKER=1]="MAKE_SPEAKER";e[e.PARTICIPANTS=2]="PARTICIPANTS"}(z||(z={}));var ae=Y(re,{},"participants-empty");function oe(e){var t=e.channel,n=e.toggleRequestToSpeakSidebar,r=(0,R.default)(t.id).speaker,a=(0,P.useSortedRequestToSpeakParticipants)(t.id),o=[(0,u.useStateFromStores)([v.default],(function(){return v.default.can(L.Permissions.MANAGE_CHANNELS,t)||v.default.can(L.Permissions.MANAGE_ROLES,t)}))?1:0,r?0:1,Math.max(1,a.length)];var i=Y(te,{channel:t},"rts-toggle"),l=Y(Q,{channel:t},"make-speaker");return Y("div",{className:j.default.container},void 0,Y(q,{toggleRequestToSpeakSidebar:n}),Y(T.default,{className:j.default.contentContainer,sections:o,sectionHeight:function(e){return e===z.PARTICIPANTS?40:0},rowHeight:function(e){switch(e){case z.TOGGLE_REQUEST_TO_SPEAK:return 66;case z.MAKE_SPEAKER:return 48;case z.PARTICIPANTS:return 0===a.length?178:48}return 0},renderRow:function(e){var n=e.section,r=e.row
;switch(n){case z.TOGGLE_REQUEST_TO_SPEAK:return i;case z.MAKE_SPEAKER:return l;case z.PARTICIPANTS:if(0===a.length)return ae;var o=a[r];return Y(ee,{channel:t,participant:o,tempDisableOnInit:!0},o.id)}return null},renderSection:function(e){return e.section===z.PARTICIPANTS?Y(E.Text,{className:j.default.listTitle,variant:"text-xs/normal",color:"header-secondary"},"participants-section",a.length>0?k.default.Messages.REQUEST_TO_SPEAK_LIST_TITLE.format({numHands:a.length}):k.default.Messages.REQUEST_TO_SPEAK_AREA_TITLE):null}}))}oe.displayName="RequestToSpeakSidebar"},492626:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var u=a?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a,o=(r=n(203418))&&r.__esModule?r:{default:r};function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function u(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var l=function(e){var t=e.children;return e.shouldAnimate?u("div",{className:o.default.outerContainer},void 0,u("div",{className:o.default.innerContainer},void 0,t)):t};l.displayName="SpeakerPulse";var s=l;t.default=s},551619:(e,t,n)=>{
"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=J;var r,a=B(n(667294)),o=x(n(294184)),i=x(n(441143)),u=n(496486),l=n(473727),s=n(536211),c=x(n(972247)),d=x(n(636602)),f=n(433383),p=x(n(825724)),v=x(n(66384)),y=n(596271),h=B(n(8475)),m=x(n(902305)),_=n(139982),g=B(n(430251)),E=x(n(866219)),O=x(n(561603)),S=x(n(423046)),b=x(n(211136)),I=n(194322),C=n(319986),T=n(864489),A=n(518802),P=x(n(922629)),M=B(n(285256)),N=x(n(460936)),R=x(n(460372)),w=x(n(600577)),D=x(n(268372)),L=x(n(35997)),k=x(n(357474)),j=n(770348),U=n(859089),G=x(n(247001)),F=x(n(76034));function x(e){return e&&e.__esModule?e:{default:e}}function W(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(W=function(e){return e?n:t})(e)}function B(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=W(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function V(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function H(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){V(o,r,a,i,u,"next",e)}function u(e){V(o,r,a,i,u,"throw",e)}i(void 0)}))}}function Y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return z(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function K(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var $="HasBeenInStageChannel",q=function(e,t){
return function(){var n=e.getGuildId();null!=n&&null!=t&&(0,_.transitionToGuild)(n,t);h.openChannelCallPopout(e)}},X=function(){d.default.wait((function(){return h.close(j.PopoutWindowKeys.CHANNEL_CALL_POPOUT)}))};function Q(e){var t=e.channel,n=e.appContext,r=e.popoutOpen,o=e.popoutWindow,i=e.selectedParticipant,u=t.getGuildId(),l=(0,s.useStateFromStores)([b.default],(function(){return b.default.getMostRecentSelectedTextChannelId(u)}),[u]),c=S.default.getId(),d=!(0,s.useStateFromStores)([p.default],(function(){return p.default.isFullscreenInContext(n)}))&&(!T.isPlatformEmbedded||T.isPlatformEmbedded&&P.default.supportsFeature(j.NativeFeatures.POPOUT_WINDOWS)),f=null!=i&&i.type!==U.ParticipantTypes.ACTIVITY&&i.user.id!==c,y=a.useMemo((function(){var e;return null!==(e=null==o?void 0:o.window)&&void 0!==e?e:window}),[o]),h=(0,k.default)({channel:t,appContext:n,popoutOpen:r,popoutWindow:o,currentWindow:y});return a.createElement(a.Fragment,null,f?K(O.default,{context:(0,
v.default)(i.type),userId:i.user.id,currentWindow:y,sliderClassName:F.default.volumeSlider}):null,d?K(E.default,{className:F.default.rightTrayIcon,popoutOpen:r,onOpenPopout:q(t,l),onClosePopout:X}):null,h)}function Z(e){var t,n=e.channel,r=e.toggleRequestToSpeakSidebar,o=e.showRequestToSpeakSidebar,c=(0,f.useAppContext)(),d=(0,s.useStateFromStores)([m.default],(function(){return m.default.getWindow(j.PopoutWindowKeys.CHANNEL_CALL_POPOUT)})),v=null!=d&&!d.closed,h=(0,s.useStateFromStores)([b.default],(function(){return b.default.getVoiceChannelId()===n.id}),[n.id]),_=(0,s.useStateFromStores)([p.default],(function(){return p.default.getSelectedParticipant(n.id)}),[n.id]),E=v&&c!==j.AppContext.POPOUT,O=Y(a.useState(0),2),S=O[0],I=O[1],T=(0,M.default)().isOnStartStageScreen;(0,M.useUpdateIsOnStartStageScreenEffect)(n);a.useEffect((function(){!h&&v&&X()}),[v,h]);if(!h&&!v){var A=(0,y.getGuildIdForGenericRedirect)(n),P=n.getGuildId();(0,
i.default)(null!=P,"Guild voice channel without guild id.");return K(l.Redirect,{to:(0,C.previousTextChannelRouteForGuild)(null!=A?A:P)})}t=T?K(L.default,{channel:n,onContinueClick:function(){return(0,M.setIsOnStartStageScreen)(!1)}}):K(w.default,{channel:n,onScroll:function(e){var t=e.target.scrollTop;(0,u.debounce)((function(){return I(t)}),1e3,{leading:!0})()}});var N=K(D.default,{channel:n,toggleRequestToSpeakSidebar:r,showRequestToSpeakSidebar:o,isOnStartStageScreen:T}),k=K(Q,{channel:n,appContext:c,popoutOpen:v,popoutWindow:d,selectedParticipant:_}),U=K(R.default,{channel:n});return K(g.default,{disableGradients:0===S&&g.DisableGradient.TOP,renderBottomCenter:function(){return N},renderBottomRight:function(){return k},renderHeader:function(){return U},onActive:function(){},onPreventIdle:function(){},onAllowIdle:function(){},onForceIdle:function(){},screenMessage:E?{mainText:G.default.Messages.POPOUT_PLAYER_OPENED}:null,idle:!1},void 0,!E&&t)}
Z.displayName="StageChannelCallContent";function J(e){var t,r=e.channel,i=Y(a.useState(!1),2),u=i[0],l=i[1],s=a.useCallback((function(){l(!u)}),[u]);a.useEffect((function(){if(null==c.default.get($)){(0,I.openModalLazy)(H(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(2345)]).then(n.bind(n,102345));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,e)}));case 5:case"end":return e.stop()}}),e)}))));c.default.set($,Date.now())}}),[]);return K("div",{className:F.default.container},void 0,K("div",{className:(0,o.default)(F.default.callContainer,(0,A.getThemeClass)(j.ThemeTypes.DARK),(t={},t[F.default.sidebarVisible]=u,t))},void 0,K(Z,{channel:r,toggleRequestToSpeakSidebar:s,showRequestToSpeakSidebar:u})),u?K(N.default,{channel:r,toggleRequestToSpeakSidebar:s}):null)}J.displayName="StageChannelCall"},460372:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=D;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=C(n(294184)),i=n(536211),u=n(433383),l=C(n(678928)),s=C(n(981706)),c=C(n(689389)),d=n(645758),f=C(n(634230)),p=C(n(332282)),v=C(n(878556)),y=n(864489),h=n(518802),m=C(n(922629)),_=n(559133),g=n(365744),E=C(n(217964)),O=C(n(397789)),S=n(770348),b=C(n(247001)),I=C(n(903330));function C(e){return e&&e.__esModule?e:{default:e}}function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}function A(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function P(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function M(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){P(o,r,a,i,u,"next",e)}function u(e){P(o,r,a,i,u,"throw",e)}i(void 0)}))}}function N(){return R.apply(this,arguments)}function R(){return(R=M(regeneratorRuntime.mark((function e(){var t,n,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,y.isOSX)()||!y.isPlatformEmbedded){e.next=14;break}e.next=3
;return null===(n=(r=window.DiscordNative.remoteApp).getDefaultDoubleClickAction)||void 0===n?void 0:n.call(r);case 3:e.t1=t=e.sent;e.t0=null!==e.t1;if(!e.t0){e.next=7;break}e.t0=void 0!==t;case 7:if(!e.t0){e.next=11;break}e.t2=t;e.next=12;break;case 11:e.t2="Maximize";case 12:"Minimize"===(a=e.t2)?m.default.minimize():"Maximize"===a&&m.default.maximize();case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){var t=e.channel,n=(0,u.useAppContext)(),r=(0,i.useStateFromStores)([c.default],(function(){return c.default.can(g.MODERATE_STAGE_CHANNEL_PERMISSIONS,t)}));return a.createElement(a.Fragment,null,A(O.default,{channel:t}),A(s.default,{guildId:t.guild_id,className:I.default.eventsButton}),r?A(v.default.Icon,{onClick:function(){(0,_.openStageChannelSettings)(t,n)},tooltip:b.default.Messages.STAGE_SETTINGS,"aria-label":b.default.Messages.STAGE_SETTINGS,icon:f.default}):null)}function D(e){var t=e.channel,n=(0,l.default)(t),r=(0,
i.useStateFromStores)([E.default],(function(){return E.default.getStageInstanceByChannel(t.id)}));return A(v.default,{toolbar:A(w,{channel:t}),onDoubleClick:N,transparent:!0,className:(0,o.default)((0,h.getThemeClass)(S.ThemeTypes.DARK),I.default.participants)},void 0,A(v.default.Icon,{icon:p.default,disabled:!0,"aria-label":b.default.Messages.STAGE_CHANNEL,className:I.default.icon}),A(v.default.Title,{className:I.default.channelName},void 0,n),null!=r?a.createElement(a.Fragment,null,A(v.default.Divider,{className:I.default.divider}),A(d.Text,{variant:"text-md/normal",color:"header-secondary",className:I.default.title},void 0,null==r?void 0:r.topic)):null)}D.displayName="StageChannelCallHeader"},25974:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=h(n(294184)),i=n(536211),u=h(n(689389)),l=n(645758),s=h(n(337322)),c=h(n(878338)),d=h(n(855480)),f=n(365744),p=h(n(217964)),v=h(n(247001)),y=h(n(957652));function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,
type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=14;var E=function(e){var t=e.subtitle;return _(l.Text,{color:"header-secondary",variant:"text-sm/normal",className:(0,o.default)(y.default.subtitle,y.default.height)},void 0,t)};E.displayName="StageSubtitle";var O=function(e){var t=e.speakerCount,n=e.audienceCount,r=e.blockedCount;return _("div",{className:y.default.height},void 0,_("div",{className:y.default.stageSummary},void 0,_(d.default,{height:g,width:g,className:y.default.icon}),_(l.Text,{color:"header-secondary",variant:"text-xs/normal"},void 0,v.default.Messages.SPEAKING_COUNT.format({count:String(t)})),_("div",{className:y.default.dotSeparator}),_(c.default,{width:g,height:g,className:y.default.icon}),_(l.Text,{color:"header-secondary",variant:"text-xs/normal"},void 0,v.default.Messages.LISTENING_COUNT.format({count:String(n)})),r>0?a.createElement(a.Fragment,null,_("div",{className:y.default.dotSeparator}),_(s.default,{width:g,height:g,
className:y.default.icon}),_(l.Text,{color:"header-secondary",variant:"text-xs/normal"},void 0,v.default.Messages.BLOCKED_COUNT.format({count:String(r)}))):null))};O.displayName="StageSummary";var S=function(e){var t=e.channel,n=e.speakerCount,r=e.audienceCount,a=e.blockedCount,o=(0,i.useStateFromStores)([p.default],(function(){return p.default.getStageInstanceByChannel(t.id)}),[t.id]),s=(0,i.useStateFromStores)([u.default],(function(){return u.default.can(f.MODERATE_STAGE_CHANNEL_PERMISSIONS,t)}),[t]),c=function(e,t){return t?v.default.Messages.STAGE_START_PROMPT_TITLE_MODERATOR:v.default.Messages.STAGE_START_PROMPT_TITLE}(0,s),d=null!=o,h=s&&!d?v.default.Messages.STAGE_START_PROMPT_TITLE_MODERATOR_DESKTOP:void 0;return _("div",{className:y.default.container},void 0,!d&&_(l.Text,{variant:"text-lg/normal",color:"header-primary",className:y.default.title},void 0,c),null!=h?_(E,{subtitle:h}):_(O,{speakerCount:n,audienceCount:r,blockedCount:a}))};S.displayName="StageChannelCallTopic"
;var b=S;t.default=b},600577:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.LayoutSections=void 0;var r,a=b(n(667294)),o=n(536211),i=O(n(864345)),u=O(n(825724)),l=O(n(728429)),s=O(n(387692)),c=O(n(897191)),d=n(921867),f=O(n(217964)),p=n(945544),v=O(n(158579)),y=O(n(386191)),h=O(n(25974)),m=O(n(586315)),_=O(n(576989)),g=b(n(533646)),E=O(n(298579));function O(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function b(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)
;return r}function I(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var A,P=424,M=624,N=824;t.LayoutSections=A;!function(e){e[e.SELECTED=0]="SELECTED";e[e.SPEAKER=1]="SPEAKER";e[e.AUDIENCE=2]="AUDIENCE"}(A||(t.LayoutSections=A={}));var R=function(e){var t,n,r,i=e.channel,O=e.width,S=e.onScroll,b=(0,o.useStateFromStores)([l.default],(function(){var e;return null===(e=l.default.getCurrentUser())||void 0===e?void 0:e.id}),[]),T=(0,o.useStateFromStores)([u.default],(function(){return u.default.getSelectedParticipantId(i.id)})),R=(0,o.useStateFromStores)([s.default],(function(){
return s.default.isInChannel(i.id,b)}),[b,i.id]),w=(0,o.useStateFromStoresObject)([c.default],(function(){var e=c.default.getParticipantCount(i.id,d.StageChannelParticipantNamedIndex.AUDIENCE);return{speakerCount:c.default.getParticipantCount(i.id,d.StageChannelParticipantNamedIndex.SPEAKER),audienceCount:e,blockedCount:c.default.getParticipantCount(i.id,d.StageChannelParticipantNamedIndex.BLOCKED),selectedStageParticipant:null!=T?c.default.getParticipant(i.id,T):null}}),[T]),D=w.speakerCount,L=w.audienceCount,k=w.blockedCount,j=w.selectedStageParticipant,U=function(e){return Math.floor((e-32)/102)}(O),G=function(e){return e<P?1:e<M?2:e<N?3:4}(O),F=((t={})[d.StageChannelParticipantNamedIndex.SPEAKER]=G,t[d.StageChannelParticipantNamedIndex.AUDIENCE]=U,t[d.StageChannelParticipantNamedIndex.SELECTED]=1,t),x=(0,p.useThrottleDurationForChannel)(i.id),W=C((0,
p.useStageChannelParticipantsListThrottled)(i.id,F,x),2),B=W[0],V=W[1],H=[Math.max(null!==(n=B[A.SELECTED])&&void 0!==n?n:1,1),Math.max(null!==(r=B[A.SPEAKER])&&void 0!==r?r:1,1),B[A.AUDIENCE]],Y=function(e,t){var n=Math.floor(e/t-8);return{speakerTileWidth:n,speakerTileHeight:Math.floor(n/g.SPEAKER_TILE_ASPECT_RATIO)}}(O,G),z=Y.speakerTileWidth,K=Y.speakerTileHeight,$=Math.min(O-64,3*z+8),q=null!=(0,o.useStateFromStores)([f.default],(function(){return f.default.getStageInstanceByChannel(i.id)}),[i.id]),X=function(e){return e===B.length-1},Q=I(h.default,{channel:i,audienceCount:L,speakerCount:D,blockedCount:k},"speaker-header");return R?I(m.default,{sections:H,renderSection:function(e){var t=e.section;return t===A.SELECTED?Q:t===A.AUDIENCE?0===L?null:I(y.default,{participantCount:L},"audience-header-"+t):null},sectionHeight:function(e){return e===A.SPEAKER?q?90:154:64},renderRow:function(e){var t=e.section,n=e.row,r=V[t][n];if(null==(null==r?void 0:r.length))return null;switch(t){
case A.SELECTED:return 0===r.length||null==r[0]?null:I("div",{className:E.default.focusedRow},"selected-participant",I(g.default,{channel:i,participant:r[0],width:$}));case A.SPEAKER:return I(a.Fragment,{},"speakers-"+t+"-"+n,I(_.default,{tileWidth:z,channel:i,participants:r,selectedParticipant:j}));case A.AUDIENCE:return I(v.default,{channel:i,participants:r,maxTiles:U},"audience-"+t+"-"+n);default:return null}},rowHeight:function(e){return null==V[e][A.SELECTED]?0:e===A.SELECTED?$/g.SPEAKER_TILE_ASPECT_RATIO+8:e===A.SPEAKER?K:98},renderFooter:function(e){var t=e.section;return t===A.SPEAKER?I("div",{className:E.default.divider},"speaker-divider"):X(t)?I("div",{className:E.default.spacer},"bottom-spacer"):null},footerHeight:function(e){return e===A.SPEAKER?24:X(e)?88:0},className:E.default.scroller,chunkSize:60,onScroll:S}):null};R.displayName="StageChannelCallView";var w=(0,i.default)(R);t.default=w},268372:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.default=void 0;var r,a=fe(n(667294)),o=ce(n(294184)),i=n(536211),u=ce(n(136873)),l=n(433383),s=ce(n(825724)),c=ce(n(190320)),d=ce(n(932018)),f=ce(n(590087)),p=ce(n(379310)),v=n(668516),y=ce(n(5031)),h=ce(n(620859)),m=ce(n(473842)),_=fe(n(145122)),g=ce(n(373115)),E=ce(n(431388)),O=ce(n(770404)),S=ce(n(423405)),b=n(839166),I=ce(n(493051)),C=ce(n(222935)),T=n(143414),A=ce(n(607576)),P=ce(n(645675)),M=ce(n(423046)),N=ce(n(30098)),R=ce(n(635014)),w=ce(n(689389)),D=ce(n(728429)),L=ce(n(956117)),k=ce(n(160629)),j=n(645758),U=ce(n(930600)),G=ce(n(155084)),F=ce(n(833837)),x=ce(n(2604)),W=ce(n(924671)),B=ce(n(496709)),V=ce(n(233121)),H=n(194322),Y=fe(n(272544)),z=n(559133),K=n(1430),$=n(216554),q=n(921867),X=n(318678),Q=n(365744),Z=ce(n(258079)),J=ce(n(217964)),ee=ce(n(461713)),te=ce(n(913687)),ne=ce(n(530877)),re=ce(n(697160)),ae=ce(n(462867)),oe=n(770348),ie=n(474477),ue=n(371621),le=ce(n(247001)),se=ce(n(639286));function ce(e){return e&&e.__esModule?e:{default:e}}function de(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(de=function(e){return e?n:t})(e)}function fe(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=de(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function pe(){pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return pe.apply(this,arguments)}function ve(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function ye(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n)
;function i(e){ve(o,r,a,i,u,"next",e)}function u(e){ve(o,r,a,i,u,"throw",e)}i(void 0)}))}}function he(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function me(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _e(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _e(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ge(e){var t=e.channel,n=e.appContext;(0,te.default)(t)?(0,z.openEndStageModal)(t,n):u.default.disconnect()}function Ee(e,t){return e?le.default.Messages.AUDIENCE_LOWER_HAND:t?le.default.Messages.AUDIENCE_RAISE_HAND_CTA:le.default.Messages.AUDIENCE_RAISE_HAND_NO_PERMISSION}var Oe=a.memo((function(e){var t=e.channel,n=me((0,ae.default)(t),2),r=n[0],a=n[1],o=(0,i.useStateFromStores)([w.default],(function(){return w.default.can(oe.Permissions.REQUEST_TO_SPEAK,t)}))
;return he("div",{className:se.default.container},void 0,he(T.CenterControlButton,{color:r?"white":"primaryDark",label:Ee(r,o),iconComponent:function(){return he(W.default,{className:r?se.default.raisedHandButtonIconActive:se.default.raisedHandButtonIcon})},onClick:a,disabled:!o&&!r}),he(Te,{channel:t}),he(Ne,{channel:t}))})),Se={16:Y.MaskIDs.CHANNEL_CALL_CONTROL_BUTTON_BADGE_16,22:Y.MaskIDs.CHANNEL_CALL_CONTROL_BUTTON_BADGE_22,29:Y.MaskIDs.CHANNEL_CALL_CONTROL_BUTTON_BADGE_29};var be=he(B.default,{});function Ie(e){var t=e.toggleRequestToSpeakSidebar,n=e.showRequestToSpeakSidebar;return he(T.CenterControlButton,{className:(0,o.default)(se.default.speakerRaiseHandButton),color:n?"white":"primaryDark",label:n?le.default.Messages.REQUEST_TO_SPEAK_AREA_CLOSE:le.default.Messages.REQUEST_TO_SPEAK_AREA_OPEN,iconComponent:function(){return be},onClick:t})}Ie.displayName="RequestToSpeakButton";var Ce=he(x.default,{});function Te(e){var t=e.channel,r=(0,l.useAppContext)(),o=(0,
i.useStateFromStores)([w.default],(function(){return w.default.can(oe.Permissions.CREATE_INSTANT_INVITE,t)})),u=(0,i.useStateFromStores)([N.default],(function(){return N.default.getGuild(t.guild_id)})),s=(0,i.useStateFromStores)([J.default],(function(){return J.default.getStageInstanceByChannel(t.id)})),c=o||null!=(null==s?void 0:s.invite_code);if(null==u||!c)return null;return he(T.CenterControlButton,{className:se.default.buttonSpacing,label:le.default.Messages.INSTANT_INVITE,iconComponent:function(){return Ce},onClick:function(){(0,H.openModalLazy)(ye(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(15865)]).then(n.bind(n,115865));case 2:r=e.sent;o=r.default;return e.abrupt("return",(function(e){return a.createElement(o,pe({},e,{guild:u,channel:t,source:oe.InstantInviteSources.CHANNEL_CALL}))}));case 5:case"end":return e.stop()}}),e)}))),{
contextKey:r===oe.AppContext.POPOUT?ue.POPOUT_MODAL_CONTEXT:ue.DEFAULT_MODAL_CONTEXT})}})}Te.displayName="InviteButton";var Ae=he(F.default,{});function Pe(e){var t=e.onClick;return he(T.CenterControlButton,{className:(0,o.default)(se.default.makeMeASpeakerButton),label:le.default.Messages.MODERATOR_RAISE_OWN_HAND,iconComponent:function(){return Ae},onClick:t})}Pe.displayName="MakeMeASpeakerButton";var Me=he(V.default,{height:24,width:24});function Ne(e){var t=e.channel,n=e.onSelect,r=(0,l.useAppContext)(),a=(0,v.useCanCreateEditDeleteEvent)(t.guild_id,t),u=(0,i.useStateFromStores)([J.default],(function(){return J.default.getStageInstanceByChannel(t.id)}),[t.id]),s=null!=(null==u?void 0:u.guild_scheduled_event_id),c=M.default.getId(),d=Z.default.isModerator(c,t.id);return s&&(a||d)?he(k.default,{renderPopout:function(e){var a=e.closePopout;return he(C.default,{},void 0,he(_.default,{navId:"exit-options","aria-label":le.default.Messages.SET_STATUS,onClose:a,onSelect:n
},void 0,he(_.MenuItem,{id:"end-stage",color:ie.MenuItemColor.DANGER,action:function(){return(0,z.openEndGuildEventConfirmationModal)(t,r)},label:le.default.Messages.END_GUILD_EVENT_FOR_EVERYONE,icon:U.default})))},align:k.default.Align.CENTER,position:k.default.Positions.TOP,animation:k.default.Animation.FADE},void 0,(function(e){var n=e.onClick;return he(T.CenterControlButton,{className:se.default.buttonSpacing,label:le.default.Messages.EXIT_EVENT_STAGE_OPTIONS_LABEL,color:"red",iconComponent:function(){return Me},onClick:function(){return ge({channel:t,appContext:r})},onPopoutClick:n})})):he(L.default,{size:L.default.Sizes.MEDIUM,color:L.default.Colors.RED,className:(0,o.default)(se.default.buttonSpacing,se.default.leaveQuietlyButton),onClick:function(){return ge({channel:t,appContext:r})}},void 0,he("div",{className:se.default.leaveQuietlyButtonInnerContainer},void 0,he(j.Text,{color:"none",variant:"text-sm/normal"},void 0,le.default.Messages.AUDIENCE_DISCONNECT),he(V.default,{
height:24,width:24,className:se.default.leaveQuietlyIcon})))}Ne.displayName="ExitStageButton";var Re=he(G.default,{});function we(e){var t=e.onClick;return he(T.CenterControlButton,{className:(0,o.default)(se.default.audienceButton),label:le.default.Messages.MOVE_ME_TO_AUDIENCE,iconComponent:function(){return Re},onClick:t})}we.displayName="MoveToAudienceButton";var De=a.memo((function(e){var t,n,r=e.channel,u=e.toggleRequestToSpeakSidebar,l=e.showRequestToSpeakSidebar,s=(0,S.default)(r),v=s.suppress,y=s.selfMute,h=s.mute,m=v||y||h,_=(0,X.useCanModerateRequestToSpeak)(r.id),T=ee.default.useExperiment({guildId:null!==(t=r.getGuildId())&&void 0!==t?t:""}).showVideoControls,M=(0,g.default)(),N=M.cameraUnavailable,w=M.enabled,L=(0,O.default)(r),U=(0,E.default)(r),G=U.limit,F=U.reachedLimit,x=(0,i.useStateFromStores)([D.default],(function(){return D.default.getCurrentUser()})),W=(0,i.useStateFromStores)([R.default],(function(){return(0,p.default)(R.default)})),B=(0,
$.useStageParticipantsCount)(r.id,q.StageChannelParticipantNamedIndex.REQUESTED_TO_SPEAK_ONLY),V=(n=B)<10?16:n<100?22:29;if(null==x)return null;var H=a.createElement(a.Fragment,null,he(k.default,{renderPopout:function(e){var t=e.closePopout;return he(C.default,{},void 0,he(d.default,{onClose:t}))},position:k.default.Positions.TOP,align:k.default.Align.CENTER,animation:k.default.Animation.FADE},void 0,(function(e,t){var n=e.onClick,r=t.isShown;return he(P.default,{centerButton:!0,color:w?"white":"primaryDark",hasPermission:L,enabled:w,cameraUnavailable:N,onChange:b.handleToggleVideo,onCameraUnavailable:I.default,channelLimitReached:F,channelLimit:G,popoutOpen:r,onPopoutClick:n})})),he(b.GoLiveButton,{coloring:["primaryDark","white"],channel:r,currentUser:x,exitFullScreen:function(){return null},canGoLive:W,hasPermission:L}));return he("div",{className:se.default.container},void 0,!v&&he(we,{onClick:function(){return(0,K.moveSelfToAudience)(r)}}),_&&v&&he(Pe,{onClick:function(){return(0,
K.audienceAckRequestToSpeak)(r,!1)}}),v?null:he("div",{className:se.default.avControls},void 0,T&&H,he(k.default,{renderPopout:function(e){var t=e.closePopout;return he(C.default,{},void 0,he(c.default,{onClose:t,renderInputDevices:!0,renderOutputDevices:!0}))},align:k.default.Align.CENTER,position:k.default.Positions.TOP,animation:k.default.Animation.FADE},void 0,(function(e,t){var n=e.onClick,r=t.isShown;return he(A.default,{color:m?"white":"primaryDark",centerButton:!0,onPopoutClick:n,selfMute:y,serverMute:h,suppress:v,popoutOpen:r,onClick:function(){return(0,f.default)(h,v)}})}))),_?he("div",{className:(0,o.default)(se.default.speakerRaiseHandButtonContainer,se.default.buttonSpacing)},void 0,B>0?he(Y.default,{mask:Se[V],width:56,height:56},void 0,he(Ie,{toggleRequestToSpeakSidebar:u,showRequestToSpeakSidebar:l})):he(Ie,{toggleRequestToSpeakSidebar:u,showRequestToSpeakSidebar:l}),B>0?he(j.Text,{className:se.default.speakerRaiseHandBadge,variant:"text-xs/normal",style:{width:V}
},void 0,B>=100?"99+":B):null):null,he(Te,{channel:r}),he(Ne,{channel:r}))}));function Le(e){var t=e.channel;return he("div",{className:se.default.container},void 0,he(Ne,{channel:t}))}Le.displayName="StartStageControlTray";var ke=a.memo((function(e){var t=e.channel,n=e.toggleRequestToSpeakSidebar,r=e.showRequestToSpeakSidebar,a=e.isOnStartStageScreen,o=(0,ne.default)(t.id),u=(0,X.useCanModerateRequestToSpeak)(t.id),l=(0,i.useStateFromStores)([w.default],(function(){return w.default.can(Q.MODERATE_STAGE_CHANNEL_PERMISSIONS,t)}),[t]),c=t.guild_id,d=(0,v.useCanCreateEditDeleteEvent)(c,t),f=(0,re.default)(t.id),p=(0,i.useStateFromStores)([s.default],(function(){return null!=t?s.default.getSelectedParticipant(t.id):null})),_=!f&&null==p;return a?he(Le,{channel:t}):o||u?he("div",{className:se.default.containerColumn},void 0,he("div",{className:se.default.eventPrompts},void 0,_?he(h.default,{guildId:c,channelId:null==t?void 0:t.id}):null,he("div",{className:se.default.separator
}),_&&l?he(m.default,{channel:t}):null,he("div",{className:se.default.separator}),_&&d?he(y.default,{guildId:c}):null,he("div",{className:se.default.separator})),he(De,{channel:t,toggleRequestToSpeakSidebar:n,showRequestToSpeakSidebar:r})):he(Oe,{channel:t})}));t.default=ke},525339:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=f(n(636602)),o=f(n(177230)),i=f(n(423046)),u=f(n(644263)),l=f(n(121441)),s=n(194322),c=n(104144),d=n(770348);function f(e){return e&&e.__esModule?e:{default:e}}
function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(){v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return v.apply(this,arguments)}function y(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function h(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){y(o,r,a,i,u,"next",e)}function u(e){y(o,r,a,i,u,"throw",e)}i(void 0)}))}}function m(e,t){m=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return m(e,t)}var _="STAGE_INVITED_TO_SPEAK_MODAL",g=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;m(e,t)}(t,e);function t(){for(var t,a=arguments.length,o=new Array(a),f=0;f<a;f++)o[f]=arguments[f]
;(t=e.call.apply(e,[this].concat(o))||this).handleVoiceStateUpdates=function(e){var t,a=e.voiceStates,o=i.default.getId(),f=null===(t=l.default.getSession())||void 0===t?void 0:t.sessionId,p=a.find((function(e){return e.userId===o&&e.sessionId===f}));if(null!=p){var y=p.channelId;if(null!=y){var m=u.default.getChannel(y);if(null==m?void 0:m.isGuildStageVoice()){var g=(0,c.getAudienceRequestToSpeakState)(p)===c.RequestToSpeakStates.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK;if(null!=m&&g){if((0,s.hasModalOpen)(_))return;(0,s.openModalLazy)(h(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(7025)]).then(n.bind(n,207025));case 2:t=e.sent;a=t.default;return e.abrupt("return",(function(e){return r.createElement(a,v({},e,{channel:m}))}));case 5:case"end":return e.stop()}}),e)}))),{modalKey:_,onCloseRequest:d.NOOP_NULL})}}}else(0,s.hasModalOpen)(_)&&(0,s.closeModal)(_)}}
;return t}var o=t.prototype;o._initialize=function(){a.default.subscribe(d.ActionTypes.VOICE_STATE_UPDATES,this.handleVoiceStateUpdates)};o._terminate=function(){a.default.unsubscribe(d.ActionTypes.VOICE_STATE_UPDATES,this.handleVoiceStateUpdates)};return t}(o.default));t.default=g},586315:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=n(753274),o=u(n(237727)),i=u(n(790875));function u(e){return e&&e.__esModule?e:{default:e}}var l=(0,o.default)(i.default.auto,i.default.fade,null!==(r=ResizeObserver)&&void 0!==r?r:a.ResizeObserver);t.default=l},248414:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.StageChannelNowPlayingDelegate=void 0;var r,a=y(n(667294)),o=p(n(342518)),i=p(n(644263)),u=p(n(16941)),l=n(772575),s=y(n(637356)),c=n(13761),d=p(n(217964)),f=p(n(247001));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap
;return(v=function(e){return e?n:t})(e)}function y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e){var t,n,r=e.activity,p=(null!==(t=(0,
c.unpackStageChannelParty)(r))&&void 0!==t?t:{}).channelId,v=(0,o.default)([d.default],(function(){return d.default.getStageInstanceByChannel(p)}),[p]),y=a.useRef(null),m=a.useCallback((function(){var e=i.default.getChannel(p);null!=e&&s.connectAndOpen(e)}),[p]),_=null!==(n=null==v?void 0:v.topic)&&void 0!==n?n:r.name,g=f.default.Messages.STAGE_CHANNEL_ACTIVITY_FEED_JOIN.format({channel:_});return a.createElement("div",{ref:y},h(u.default,{onClick:m,focusProps:{ringTarget:y}},void 0,h(l.Heading,{variant:"heading-deprecated-14/medium",level:3},void 0,g)))}m.displayName="StageChannelBody";var _=function(){function e(){this.body=m}var t=e.prototype;t.shouldShow=function(e){return(0,c.shouldShowActivity)(e)};t.createHeader=function(e){return{subtitle:f.default.Messages.STAGE_CHANNEL_ACTIVITY_FEED_DEFAULT,icon:null}};return e}();t.StageChannelNowPlayingDelegate=_},576989:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=u(n(533646)),i=u(n(403800));function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{})
;return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=a.memo((function(e){var t=e.channel,n=e.participants,r=e.tileWidth,a=e.selectedParticipant;return s("div",{className:i.default.rowContainer},void 0,n.map((function(e){return e.id===(null==a?void 0:a.id)?null:s(o.default,{channel:t,participant:e,width:r},e.id)})))}));t.default=c},533646:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.SPEAKER_TILE_ASPECT_RATIO=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=M(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=P(n(441143)),i=n(536211),u=P(n(229132)),l=n(378158),s=n(123516),c=n(433383),d=n(836233),f=P(n(825724)),p=n(747868),v=n(385753),y=P(n(711195)),h=P(n(414068)),m=P(n(607209)),_=P(n(30098)),g=P(n(689389)),E=P(n(387692)),O=P(n(160629)),S=P(n(258079)),b=P(n(226155)),I=P(n(214563)),C=n(770348),T=n(859089),A=P(n(892314));function P(e){return e&&e.__esModule?e:{default:e}}function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(M=function(e){return e?n:t})(e)}function N(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function R(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){N(o,r,a,i,u,"next",e)}function u(e){N(o,r,a,i,u,"throw",e)}i(void 0)}))}}function w(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function D(){D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return D.apply(this,arguments)}var L=16/9;t.SPEAKER_TILE_ASPECT_RATIO=L;var k=w(I.default,{}),j=function(e){var t=e.stageParticipant,n=e.rtcParticipant,r=e.channel,o=e.guildId,i=e.user,u=e.width,l=e.isModerator,s=e.onContextMenu,c=e.inPopout,f=a.useContext(d.AccessibilityPreferencesContext).reducedMotion,p=t.blocked,v=t.id;return w(O.default,{preload:null==n?void 0:function(){return(0,y.default)(n.user.id,n.user.getAvatarURL(r.guild_id,80),{guildId:r.guild_id})},renderPopout:function(e){return a.createElement(h.default,D({},e,{guildId:o,channelId:r.id,userId:i.id}))},
position:O.default.Positions.RIGHT,spacing:8},void 0,(function(e){return a.createElement(b.default,D({key:v},e,{participant:n,aspectRatio:L,blocked:p,channel:r,className:A.default.tile,inCall:!0,inPopout:c,paused:!1,pulseSpeakingIndicator:!f.enabled,width:u,onClick:function(t,n){return e.onClick(n)},onContextMenu:s}),l&&k)}))};j.displayName="StageVoiceTile";var U=w(I.default,{}),G=function(e){var t=e.stageParticipant,n=e.rtcParticipant,r=e.channel,o=e.width,l=e.isModerator,c=e.onContextMenu,y=e.inPopout,h=a.useContext(d.AccessibilityPreferencesContext).reducedMotion,O=t.id,S=t.blocked,I=(0,i.useStateFromStoresArray)([m.default],(function(){return m.default.getAllActiveStreams()}),[]),P=(0,i.useStateFromStores)([f.default],(function(){return null!=r?f.default.getSelectedParticipant(r.id):null})),M=a.useCallback((function(e,t){if(e.type===T.ParticipantTypes.STREAM){if(0===I.filter((function(t){return(0,p.encodeStreamKey)(t)===e.id&&t.state!==C.ApplicationStreamStates.ENDED})).length){
if(!(0,v.canWatchStream)(r,E.default,_.default,g.default))return;(0,s.watchStream)((0,p.decodeStreamKey)(e.id),{forceMultiple:t.shiftKey})}}(null==P?void 0:P.id)===e.id?u.default.selectParticipant(r.id,null):u.default.selectParticipant(r.id,e.id)}),[I,r,P]);return w(b.default,{participant:n,aspectRatio:L,blocked:S,channel:r,className:A.default.tile,inCall:!0,inPopout:y,onClick:M,onContextMenu:c,paused:!1,pulseSpeakingIndicator:!h.enabled,width:o},O,l&&U)};G.displayName="StageMediaTile";var F=a.memo((function(e){var t,r=e.participant,u=e.channel,s=e.width,d=(0,c.useAppContext)(),p=u.getGuildId();(0,o.default)(null!=p,"Channel cannot be guildless");var v=r.user,y=(0,i.useStateFromStores)([f.default],(function(){return f.default.getParticipant(u.id,r.id)}),[u.id,r.id]),h=(0,i.useStateFromStores)([S.default],(function(){return S.default.isModerator(v.id,u.id)}),[u.id,v.id]);if(null==y||y.type===T.ParticipantTypes.ACTIVITY)return null;var m=function(e,t){switch(e.type){
case T.ParticipantTypes.HIDDEN_STREAM:case T.ParticipantTypes.STREAM:(0,l.openContextMenuLazy)(t,R(regeneratorRuntime.mark((function t(){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;return n.e(96434).then(n.bind(n,596434));case 2:r=t.sent;o=r.default;return t.abrupt("return",(function(t){return a.createElement(o,D({},t,{stream:e.stream,appContext:d,exitFullscreen:function(){}}))}));case 5:case"end":return t.stop()}}),t)}))),{context:d});return;case T.ParticipantTypes.USER:default:(0,l.openContextMenuLazy)(t,R(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(31626),n.e(1759),n.e(48811),n.e(50690),n.e(39048),n.e(40100)]).then(n.bind(n,205814));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,D({},e,{user:v,guildId:p,channelId:u.id,showMediaItems:!0,showStageChannelItems:!0,
showChatItems:!1}))}));case 5:case"end":return e.stop()}}),e)}))),{context:d})}},_=y.type===T.ParticipantTypes.USER&&!(null===(t=y.voiceState)||void 0===t?void 0:t.selfVideo);return a.createElement(a.Fragment,null,w(_?j:G,{stageParticipant:r,rtcParticipant:y,channel:u,guildId:p,user:v,width:s,isModerator:h,onContextMenu:m,inPopout:d===C.AppContext.POPOUT}))}));t.default=F},35997:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ContinuePrompt=T;t.default=P;I(n(667294));var r,a=n(536211),o=n(668516),i=S(n(176079)),u=S(n(5031)),l=S(n(620859)),s=S(n(473842)),c=S(n(689389)),d=n(772575),f=n(645758),p=S(n(332282)),v=I(n(152731)),y=n(365744),h=S(n(641474)),m=S(n(697160)),_=S(n(991636)),g=n(770348),E=S(n(247001)),O=S(n(910215));function S(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function I(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function C(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function T(e){var t=e.onClick;return C(i.default,{iconContainerClassName:O.default.continueIconContainer,icon:C(p.default,{className:O.default.continueIcon,height:20,
width:20}),color:g.Colors.PRIMARY_DARK_700,title:E.default.Messages.STAGE_CONTINUE_PROMPT_TITLE,description:E.default.Messages.STAGE_CONTINUE_PROMPT_SUBTITLE,onClick:t})}T.displayName="ContinuePrompt";function A(e){var t=e.channel,n=(0,h.default)(t.id),r=n.participants,a=n.usersInSummary;return C("div",{className:O.default.audienceSummary},void 0,C(v.default,{className:O.default.summaryItem,guildId:t.guild_id,users:a,size:v.Sizes.SIZE_16}),C(f.Text,{variant:"text-sm/normal",color:"header-secondary"},void 0,function(e){if(0===e.length)return"";if(1===e.length)return E.default.Messages.STAGE_AUDIENCE_WAITING_ONE.format({first:e[0].userNick});if(2===e.length)return E.default.Messages.STAGE_AUDIENCE_WAITING_TWO.format({first:e[0].userNick,second:e[1].userNick});var t=e.length-2;return E.default.Messages.STAGE_AUDIENCE_WAITING_MANY.format({first:e[0].userNick,second:e[1].userNick,numOthers:t})}(r)))}A.displayName="AudienceSummary";function P(e){var t=e.channel,n=e.onContinueClick,r=(0,
a.useStateFromStores)([c.default],(function(){return c.default.can(y.MODERATE_STAGE_CHANNEL_PERMISSIONS,t)}),[t]),i=t.guild_id,v=(0,o.useCanCreateEditDeleteEvent)(i,t),h=(0,m.default)(t.id);return C("div",{className:O.default.container},void 0,C(_.default,{},void 0,C("div",{className:O.default.iconBackground},void 0,C(p.default,{width:40,height:40,className:O.default.icon}))),C("div",{className:O.default.headerContainer},void 0,C(d.Heading,{className:O.default.title,variant:"heading-xl/medium",level:3},void 0,E.default.Messages.STAGE_START_PROMPT_TITLE_MODERATOR),C(f.Text,{className:O.default.subtitle,variant:"text-sm/normal"},void 0,E.default.Messages.STAGE_START_PROMPT_SUBTITLE)),h?null:C(l.default,{guildId:i,channelId:t.id}),r?C(s.default,{className:O.default.eventPrompt,channel:t}):null,v?C(u.default,{className:O.default.eventPrompt,guildId:i}):null,C("hr",{className:O.default.separator}),C(T,{onClick:n}),C(A,{channel:t}))}P.displayName="StartStageChannelCallView"},
357474:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=I;var r,a=O(n(667294)),o=n(536211),i=g(n(636602)),u=g(n(229132)),l=n(844784),s=g(n(825724)),c=O(n(8475)),d=g(n(278851)),f=g(n(211136)),p=g(n(308920)),v=n(956506),y=n(864489),h=n(245838),m=n(770348),_=g(n(76034));function g(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function O(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function S(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function b(){b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return b.apply(this,arguments)}function I(e){var t=e.channel,n=e.appContext,r=e.popoutOpen,g=e.popoutWindow,E=e.currentWindow,O=n===m.AppContext.POPOUT,I=a.useRef(null),C=(0,o.useStateFromStoresObject)([s.default],(function(){var e=s.default.getMode(t.id),r=n===m.AppContext.POPOUT;r&&(e=m.ChannelModes.VIDEO);var a=e===m.ChannelModes.VIDEO?s.default.getLayout(t.id,n):m.ChannelLayouts.MINIMUM
;r&&a!==m.ChannelLayouts.FULL_SCREEN&&(a=m.ChannelLayouts.NO_CHAT);return{currentLayout:a,mode:e}}),[t,n]),T=C.currentLayout,A=C.mode,P=(0,o.useStateFromStores)([f.default],(function(){return f.default.getVoiceChannelId()===t.id}),[t.id]);a.useEffect((function(){I.current=A}));var M=a.useRef(T),N=a.useMemo((function(){var e=null!=g&&O?g.document:document,t=E.document.getElementById("app-mount");return{currentWindow:E,currentDocument:e,rootNode:t}}),[g,O,E]),R=N.currentDocument,w=N.rootNode,D=r&&!O,L=A===m.ChannelModes.VIDEO&&P&&!D,k=a.useCallback((function(e,r){if(r!==e){u.default.updateLayout(t.id,r,n);r===m.ChannelLayouts.FULL_SCREEN&&t.isPrivate()&&v.ComponentDispatch.dispatch(m.ComponentActions.TEXTAREA_BLUR)}}),[n,t]),j=a.useCallback((function(e){if(null!=w&&e===m.ChannelLayouts.FULL_SCREEN){k(e,M.current);(0,h.exitFullScreen)((function(e){M.current=e}),R)}}),[R,k,w]),U=a.useCallback((function(e){return function(){if(null!=w)if(e!==m.ChannelLayouts.FULL_SCREEN){M.current=e
;k(e,m.ChannelLayouts.FULL_SCREEN);(0,h.requestFullScreen)(w)}else j(e)}}),[k,j,w]);a.useEffect((function(){var e=function(){null!=w&&((0,h.isFullScreen)(w,R)||T!==m.ChannelLayouts.FULL_SCREEN||U(T)())};R.addEventListener(h.FULLSCREEN_CHANGE_EVENT,e);return function(){R.removeEventListener(h.FULLSCREEN_CHANGE_EVENT,e)}}),[R,T,U,w]);a.useEffect((function(){p.default.track(m.AnalyticEvents.VIDEO_LAYOUT_TOGGLED,b({video_layout:O?"popout":T},(0,l.collectVoiceAnalyticsMetadata)(t.id)));return function(){O&&(0,y.isOSX)()||j(T)}}),[]);a.useEffect((function(){null!=w&&I.current===m.ChannelModes.VIDEO&&A===m.ChannelModes.VOICE&&(0,h.exitFullScreen)(w,R)}),[R,A,I,w]);a.useEffect((function(){!P&&O&&i.default.wait((function(){return c.close(m.PopoutWindowKeys.CHANNEL_CALL_POPOUT)}))}),[P,O]);return L?S(d.default,{themeable:!1,node:w,guestWindow:g,className:_.default.rightTrayIcon,onClick:U(T)}):null}I.displayName="useFullscreenChannelCallButton"},55556:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=d;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=u(n(142024)),o=u(n(247001)),i=u(n(771950));function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=s("img",{alt:"",src:u(n(742918)).default});function d(e){var t=e.onClickCta,n=e.markAsDismissed;return s(a.default,{header:o.default.Messages.TEXT_IN_VOICE_MODERATOR_COACH_MARK_HEADER,content:o.default.Messages.TEXT_IN_VOICE_MODERATOR_COACH_MARK_SUBTITLE.format(),asset:s("div",{className:i.default.image},void 0,c),buttonCTA:o.default.Messages.TEXT_IN_VOICE_MODERATOR_COACH_MARK_CTA,onClick:t,secondaryButtonCTA:o.default.Messages.DISMISS,onSecondaryClick:function(){},markAsDismissed:n})}d.displayName="GuildTiVModeratorCoachMark"},965484:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=s(n(536211)),a=s(n(636602)),o=s(n(649563)),i=s(n(423046)),u=s(n(644263)),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}
function c(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var f={init:function(){a.default.subscribe(l.ActionTypes.CHANNEL_DELETE,(function(e){var t=e.channel;if(null!=t.guild_id){
var n=u.default.getAllThreadsForParent(t.id);if(n.length>0){r.default.Store.pauseEmittingChanges();try{for(var o,i=c(n);!(o=i()).done;){var s=o.value;a.default.dispatch({type:l.ActionTypes.THREAD_DELETE,channel:s,guildHashes:void 0})}}finally{r.default.Store.resumeEmittingChanges();r.default.Store.emitChanges()}}}}));a.default.subscribe(l.ActionTypes.MESSAGE_CREATE,(function(e){var t,n,r=e.channelId,a=e.message,l=u.default.getChannel(r);if(a.author.id===i.default.getId()&&(null==l?void 0:l.isActiveThread())){var s=new Date(null!==(t=null===(n=l.threadMetadata)||void 0===n?void 0:n.archiveTimestamp)&&void 0!==t?t:0).getTime();Date.now()-s<5e3&&o.default.resort(l.parent_id)}}))}};t.default=f},84902:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useThreadMemberListSections=function(e,t){(0,o.useStateFromStores)([i.default],(function(){return i.default.getMemberListVersion(e)}));var n=(0,o.useStateFromStores)([i.default],(function(){
return i.default.getMemberListSections(e)})),l=r.useMemo((function(){var e=(0,a.default)(t.roles).values().filter((function(e){return e.hoist})).sortBy((function(e){return e.position})).reverse().map((function(e){return e.id})).value();e.push("online","offline");return e}),[t.roles]);return null==n?[]:l.map((function(e){var r,a,o=t.roles[e];return{label:"online"===e?u.default.Messages.STATUS_ONLINE:"offline"===e?u.default.Messages.STATUS_OFFLINE:o.name,userIds:null!==(r=null===(a=n[e])||void 0===a?void 0:a.userIds)&&void 0!==r?r:[],id:e,roleId:e}}))};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)
;return r}(n(667294)),a=l(n(496486)),o=n(536211),i=l(n(698099)),u=l(n(247001));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}},698099:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=h(n(496486)),o=h(n(536211)),i=h(n(636602)),u=h(n(644263)),l=h(n(876874)),s=h(n(832721)),c=h(n(788739)),d=h(n(690445)),f=h(n(728429)),p=n(71246),v=h(n(656016)),y=n(770348);function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){m=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return m(e,t)}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e
}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var E={},O=function(){function e(e,t,n){this.guildId=e;this.parentId=t;this.threadId=n;this.version=0;this.sections={};this.allUserIds=new Set}var t=e.prototype;t.rebuild=function(e){var t=this;this.version++;this.sections={};null!=e&&(this.allUserIds=new Set(e));var n=u.default.getChannel(this.parentId);(0,
a.default)(Array.from(this.allUserIds)).map((function(e){var r=_(t.calculateNewState(e,n),3);return{userId:e,sectionId:r[0],displayName:r[1],canViewChannel:r[2]}})).sortBy((function(e){return e.userId})).sortBy((function(e){return e.displayName})).forEach((function(e){t.addUser(e.userId,e.sectionId,e.displayName,e.canViewChannel,!0)}))};t.updateMultipleUserIds=function(e,t){var n=this;if(null!=t&&this.guildId!==t)return!1;if(0===(e=e.filter((function(e){return n.allUserIds.has(e)}))).length)return!1;e.length>50?this.rebuild():e.forEach((function(e){return n.updateUserId(e)}));return!0};t.updateUserId=function(e){if(!this.allUserIds.has(e))return!1;var t=_(this.findOldState(e),3),n=t[0],r=t[1],a=t[2],o=_(this.calculateNewState(e,u.default.getChannel(this.parentId)),3),i=o[0],l=o[1],s=o[2];if(n===i&&r===l&&a===s)return!1;this.removeUserId(e,n);this.addUser(e,i,l,s);return!0};t.addUserId=function(e){
var t=_(this.calculateNewState(e,u.default.getChannel(this.parentId)),3),n=t[0],r=t[1],a=t[2];this.addUser(e,n,r,a)};t.removeUserId=function(e,t){this.allUserIds.delete(e);if(null!=t&&this.removeUserIdFromSection(e,t))return!0;for(var n in this.sections)if(this.removeUserIdFromSection(e,n))return!0;return!1};t.addUser=function(e,t,n,r,a){this.allUserIds.add(e);var o=f.default.getUser(e);if(null!=o&&""!==o.username){t in this.sections||(this.sections[t]={sectionId:t,usersById:{},userIds:[]});var i=this.sections[t];i.usersById[e]={userId:e,displayName:n,canViewChannel:r};if(a)i.userIds.push(e);else{var u=this.findUserIdSortedPosition(i,e,n);i.userIds.splice(u,0,e)}this.version++}};t.findUserIdSortedPosition=function(e,t,n){for(var r=e.userIds,a=e.usersById,o=0;o<r.length;o++){var i=r[o],u=a[i].displayName;if(u===n){if(t<i)return o}else if(null==u){if(null!=n)return o}else if(null!=n&&n<u)return o}return r.length};t.removeUserIdFromSection=function(e,t){var n=this.sections[t]
;if(null==t)return!1;if(e in n.usersById){delete n.usersById[e];n.userIds=n.userIds.filter((function(t){return t!==e}));this.version++;return!0}return!1};t.findOldState=function(e){for(var t in this.sections){var n=this.sections[t];if(e in n.usersById){var r=n.usersById[e];return[t,r.displayName,r.canViewChannel]}}return[void 0,void 0,!1]};t.calculateNewState=function(e,t){var n,r,a=l.default.getMember(this.guildId,e),o=f.default.getUser(e),i=f.default.getCurrentUser(),u=(null==o?void 0:o.id)===(null==i?void 0:i.id)?d.default.getStatus():c.default.getStatus(e,this.guildId),s=null!=o&&null!=t&&v.default.can({permission:y.Permissions.VIEW_CHANNEL,user:o,context:t}),p=u!==y.StatusTypes.OFFLINE&&u!==y.StatusTypes.INVISIBLE&&u!==y.StatusTypes.UNKNOWN?null!==(n=null==a?void 0:a.hoistRoleId)&&void 0!==n?n:"online":"offline",h=null!==(r=null==a?void 0:a.nick)&&void 0!==r?r:null==o?void 0:o.username;return[p,null==h?void 0:h.toLowerCase(),s]};return e}();function S(e){return b(e.user.id)}
function b(e){if(null==e)return!1;var t=!1;for(var n in E)E[n].updateUserId(e)&&(t=!0);return t}function I(e){var t=e.guildId,n=!1;for(var r in E)if(E[r].guildId===t){E[r].rebuild();n=!0}return n}var C=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;m(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(u.default,l.default,s.default,c.default,d.default,f.default);this.syncWith([s.default],(function(){var e=s.default.getSubscribedThreadIds(),t=!1;for(var n in E)if(!e.has(n)){delete E[n];t=!0}return t}));this.syncWith([d.default],(function(){var e;return b(null===(e=f.default.getCurrentUser())||void 0===e?void 0:e.id)}))};n.getMemberListVersion=function(e){var t;return null===(t=E[e])||void 0===t?void 0:t.version};n.getMemberListSections=function(e){var t;return null===(t=E[e])||void 0===t?void 0:t.sections};n.canUserViewChannel=function(e,t,n){var r,a,o=E[e];if(null==o)return!1
;var i=null===(r=o.sections[t])||void 0===r?void 0:r.usersById[n];return null!==(a=null==i?void 0:i.canViewChannel)&&void 0!==a&&a};return t}(o.default.Store);C.displayName="ThreadMemberListStore";var T=new C(i.default,((r={})[y.ActionTypes.CONNECTION_OPEN]=function(){E={}},r[y.ActionTypes.THREAD_MEMBERS_UPDATE]=function(e){if(!(e.id in E))return!1;var t,n;null===(t=e.addedMembers)||void 0===t||t.forEach((function(t){var n=t.userId;return E[e.id].addUserId(n)}));null===(n=e.removedMemberIds)||void 0===n||n.forEach((function(t){return E[e.id].removeUserId(t)}))},r[y.ActionTypes.THREAD_UPDATE]=function(e){var t,n=e.channel;if(!(n.id in E)||!0!==(null===(t=n.threadMetadata)||void 0===t?void 0:t.archived))return!1;delete E[n.id]},r[y.ActionTypes.THREAD_DELETE]=function(e){var t=e.channel;if(!(t.id in E))return!1;delete E[t.id]},r[y.ActionTypes.CHANNEL_UPDATES]=function(e){var t=e.updates,n=new Set(t.map((function(e){return e.channel.id}))),r=!1;for(var a in E)if(n.has(E[a].parentId)){
E[a].rebuild();r=!0}return r},r[y.ActionTypes.THREAD_MEMBER_LIST_UPDATE]=function(e){var t=e.threadId,n=e.guildId,r=e.members,a=u.default.getChannel(t),o=null==a?void 0:a.parent_id;if(null!=o){E[t]=new O(n,o,t);E[t].rebuild(r.map((function(e){return e.user_id})))}},r[y.ActionTypes.USER_UPDATE]=S,r[y.ActionTypes.PRESENCE_UPDATES]=function(e){return e.updates.map((function(e){return b(e.user.id)})).some((function(e){return e}))},r[y.ActionTypes.GUILD_MEMBER_ADD]=S,r[y.ActionTypes.GUILD_MEMBER_UPDATE]=S,r[y.ActionTypes.GUILD_MEMBER_REMOVE]=S,r[y.ActionTypes.PRESENCES_REPLACE]=function(e){var t=e.presences,n=(0,a.default)(t).map((function(e){var t;return null===(t=e.user)||void 0===t?void 0:t.id})).filter(p.isNotNullish).uniq().value(),r=!1;for(var o in E)E[o].updateMultipleUserIds(n)&&(r=!0);return r},r[y.ActionTypes.GUILD_MEMBERS_CHUNK]=function(e){var t=e.guildId,n=e.members.map((function(e){return e.user.id})),r=!1;for(var a in E)E[a].updateMultipleUserIds(n,t)&&(r=!0);return r},
r[y.ActionTypes.GUILD_ROLE_UPDATE]=I,r[y.ActionTypes.GUILD_ROLE_DELETE]=I,r));t.default=T},861370:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=de;var r,a=re(n(667294)),o=te(n(294184)),i=n(536211),u=te(n(186705)),l=te(n(55189)),s=te(n(786630)),c=te(n(805918)),d=te(n(235879)),f=te(n(954140)),p=te(n(37039)),v=n(573285),y=n(424527),h=te(n(271180)),m=te(n(907616)),_=te(n(820652)),g=te(n(872134)),E=te(n(58941)),O=te(n(2914)),S=te(n(422207)),b=n(770755),I=n(894826),C=te(n(644263)),T=re(n(687549)),A=te(n(30098)),P=te(n(201292)),M=te(n(689389)),N=te(n(680873)),R=te(n(789446)),w=te(n(16941)),D=n(645758),L=re(n(279950)),k=n(730977),j=n(688388),U=te(n(259530)),G=te(n(82050)),F=te(n(830759)),x=te(n(878556)),W=te(n(582945)),B=n(993442),V=n(682937),H=n(871382),Y=n(247726),z=n(192110),K=te(n(521595)),$=n(682640),q=te(n(387812)),X=n(770348),Q=n(665984),Z=te(n(247001)),J=te(n(271615)),ee=te(n(704586));function te(e){return e&&e.__esModule?e:{default:e}}
function ne(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(ne=function(e){return e?n:t})(e)}function re(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=ne(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function ae(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function oe(){oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return oe.apply(this,arguments)}function ie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ue(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ue(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function le(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var se,ce=v.ChatInputTypes.THREAD_CREATION;!function(e){e[e.Empty=0]="Empty";e[e.AutoMod=1]="AutoMod"}(se||(se={}));function de(e){var t=e.parentChannelId,n=e.parentMessageId,r=e.location,a=(0,i.useStateFromStores)([C.default],(function(){return C.default.getChannel(t)})),o=(0,p.default)(f.default.CREATE_THREAD).AnalyticsLocationProvider;return null==a?null:le(o,{},void 0,le(B.ComponentDispatchGroupProvider,{},void 0,le("section",{"aria-label":Z.default.Messages.CREATE_THREAD,className:J.default.container},void 0,le(c.default,{channel:a,draftType:T.DraftType.FirstThreadMessage
}),le(x.default,{toolbar:le(x.default.Icon,{icon:U.default,tooltip:Z.default.Messages.CLOSE,onClick:function(){return(0,$.closeAndClearThreadSidebar)(t)}})},void 0,le(x.default.Icon,{icon:F.default,disabled:!0,"aria-label":Z.default.Messages.THREAD}),le(x.default.Title,{},void 0,Z.default.Messages.NEW_THREAD)),le(fe,{parentChannel:a,parentMessageId:n,location:r}))))}de.displayName="CreateThreadSidebar";function fe(e){var t,n=e.parentChannel,r=e.parentMessageId,l=e.location,c=(0,i.useStateFromStores)([d.default],(function(){return d.default.messageGroupSpacing})),f=(0,i.useStateFromStores)([A.default],(function(){return A.default.getGuild(n.guild_id)})),p=(t=a.useContext(B.ComponentDispatchGroupContext),a.useCallback((function(){t.bumpDispatchPriority()}),[t])),v=function(e,t){var n=ie(a.useState({}),2),r=n[0],o=n[1],i=a.useCallback((function(n){o((function(e){return oe({},e,{},n)}));u.default.changeThreadSettings(e.id,oe({},n,{parentMessageId:t}))}),[e.id,t]);return{threadSettings:r,
setThreadSettings:o,updateThreadSettings:i}}(n,r),h=v.threadSettings,m=v.setThreadSettings,g=v.updateThreadSettings,E=function(e,t){var n=ie(a.useState((0,y.createEmptyState)()),2),r=n[0],o=n[1];a.useEffect((function(){function n(n){var r,a=T.default.getDraft(e.id,T.DraftType.FirstThreadMessage);0!==a.length&&!0!==n||o((0,y.createState)(a));t(null!==(r=T.default.getThreadSettings(e.id))&&void 0!==r?r:{})}n(!0);T.default.addChangeListener(n);return function(){T.default.removeChangeListener(n)}}),[e.id,t]);return{textAreaState:r,setTextAreaState:o}}(n,m),O=E.textAreaState,I=E.setTextAreaState,C=(0,z.usePrivateThreadMode)(n),P=function(e){var t=e.parentChannel,n=e.parentMessageId,r=e.threadSettings,o=e.privateThreadMode,i=e.textAreaState,u=e.location,l=ie(a.useState(null),2),s=l[0],c=l[1],d=ie(a.useState(null),2),f=d[0],p=d[1],v=(0,q.default)({parentChannel:t,parentMessageId:n,threadSettings:r,privateThreadMode:o,location:u,onThreadCreated:$.openThreadSidebarForViewing,
useDefaultThreadName:!0}),y=a.useCallback(function(){var e,a=(e=regeneratorRuntime.mark((function e(a,o,u){var l,s,d,f,y,h,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null==a&&(a=i.textValue);a=a.trim();null!=o&&0!==o.length||(o=null===(s=S.default.getStickerPreview(t.id,ce.drafts.type))||void 0===s?void 0:s.map((function(e){return e.id})));null!=u&&0!==u.length||(u=N.default.getUploads(t.id,T.DraftType.FirstThreadMessage));d=null!==(l=r.name)&&void 0!==l?l:"";f=null==n&&0===d.length;y=""===a&&(null==o||0===o.length)&&0===u.length;c(f?se.Empty:null);p(y?se.Empty:null);if(!f&&!y){e.next=11;break}return e.abrupt("return",{shouldClear:!1,shouldRefocus:!0});case 11:if(null!=n){e.next=18;break}e.next=14;return(0,H.applyChatRestrictions)({content:a,stickers:o,uploads:u,type:ce,channel:t});case 14:if(e.sent.valid){e.next=18;break}return e.abrupt("return",{shouldClear:!1,shouldRefocus:!0});case 18:e.prev=18;e.next=21;return v(a,o,u);case 21:e.next=28;break
;case 23:e.prev=23;e.t0=e.catch(18);(null===(h=e.t0.body)||void 0===h?void 0:h.code)===X.AbortCodes.AUTOMOD_TITLE_BLOCKED&&c(se.AutoMod);(null===(m=e.t0.body)||void 0===m?void 0:m.code)===X.AbortCodes.AUTOMOD_MESSAGE_BLOCKED&&p(se.AutoMod);return e.abrupt("return",{shouldClear:!1,shouldRefocus:!0});case 28:(0,b.clearStickerPreview)(t.id,ce.drafts.type);return e.abrupt("return",{shouldClear:!0,shouldRefocus:!1});case 30:case"end":return e.stop()}}),e,null,[[18,23]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){ae(o,r,a,i,u,"next",e)}function u(e){ae(o,r,a,i,u,"throw",e)}i(void 0)}))});return function(e,t,n){return a.apply(this,arguments)}}(),[v,i.textValue,r.name,n,t]);return{nameError:s,messageError:f,submit:y}}({parentChannel:n,parentMessageId:r,threadSettings:h,privateThreadMode:C,textAreaState:O,location:l}),M=P.nameError,R=P.messageError,w=P.submit,D=(0,z.getIsPrivate)(h,C)?G.default:F.default;return le("div",{
className:J.default.chat,onMouseDown:p,onFocus:p},void 0,le("div",{className:(0,o.default)(J.default.messagesWrapper,"group-spacing-"+c)},void 0,le("form",{onSubmit:function(e){e.preventDefault();w()},className:J.default.form},void 0,le(W.default,{className:J.default.scroller,fade:!0},void 0,le("div",{className:J.default.scrollerInner},void 0,le(_.default,{channelId:"create-thread-null"},void 0,le("div",{className:ee.default.iconWrapper},void 0,le(D,{className:ee.default.icon})),le(ve,{parentChannel:n,parentMessageId:r,threadSettings:h,updateThreadSettings:g,error:M}),n.type===X.ChannelTypes.GUILD_TEXT?le(pe,{startedFromMessage:null!=r,threadSettings:h,updateThreadSettings:g,privateThreadMode:C,guild:f}):null),le(he,{parentChannel:n,parentMessageId:r}))),le("div",{className:J.default.submitContainer},void 0,le(ye,{parentChannel:n,textAreaState:O,setTextAreaState:I,submit:w,error:R}),le(s.default,{channel:n,isThreadCreation:!0})))))}fe.displayName="CreateThreadForm";function pe(e){
var t=e.startedFromMessage,n=e.threadSettings,r=e.updateThreadSettings,a=e.privateThreadMode,i=e.guild,u=(0,p.default)().analyticsLocations,l=(0,z.getIsPrivate)(n,a),s=null!=i&&!i.hasFeature(X.GuildFeatures.PRIVATE_THREADS),c=function(e){e.stopPropagation();e.preventDefault();var t=(0,V.minimumRequiredTierForGuildFeature)(X.GuildFeatures.PRIVATE_THREADS);null!=i&&null!=t&&(0,E.default)({analyticsLocations:u,analyticsSourceLocation:{section:X.AnalyticsSections.CREATE_THREAD_SIDEBAR,object:X.AnalyticsObjects.PRIVATE_THREAD_CHECKBOX},guild:i,perks:(0,Q.guildBoostingPerks)()})},d=le("div",{className:J.default.privateThreadFormTitle},void 0,le("span",{className:J.default.privateThreadFormTitleText},void 0,Z.default.Messages.PRIVATE_THREAD),null!=i?le(g.default,{guild:i,guildFeature:X.GuildFeatures.PRIVATE_THREADS,tooltipPosition:k.TooltipPositions.TOP,className:J.default.privateThreadFeaturePill,onClick:c}):null),f=le(R.default,{className:(0,o.default)(J.default.checkbox),
type:R.default.Types.INVERTED,disabled:a===z.PrivateThreadMode.PrivateOnly||a===z.PrivateThreadMode.DisabledWithUpsell,value:l,onChange:function(e,t){return r({isPrivate:t})}},void 0,le(D.Text,{variant:"text-md/normal",color:"none"},void 0,Z.default.Messages.FORM_THREAD_PRIVATE_THREAD_SECTION_LABEL));return t||a===z.PrivateThreadMode.Disabled?null:le(j.FormSection,{title:d,className:J.default.formSection},void 0,s?le(w.default,{onClick:c},void 0,f):f,l?le(D.Text,{className:J.default.privateThreadDescription,variant:"text-xs/normal",color:"header-secondary"},void 0,Z.default.Messages.FORM_THREAD_PRIVATE_THREAD_DESCRIPTION):null)}function ve(e){var t,n=e.parentChannel,r=e.parentMessageId,a=e.threadSettings,o=e.updateThreadSettings,i=e.error,u=null!==(t=a.name)&&void 0!==t?t:"",s=(0,z.getDefaultThreadName)(n,r),c=null!=r;return le(j.FormSection,{title:Z.default.Messages.THREAD_NAME+(c?" (Optional)":""),className:J.default.formSection},void 0,le(L.default,{value:u,
placeholder:""!==s?s:Z.default.Messages.FORM_THREAD_NAME_PLACEHOLDER,maxLength:X.MAX_CHANNEL_NAME_LENGTH,onChange:function(e){o({name:(0,K.default)(e,!1)});""!==e?l.default.startTyping(n.id):l.default.stopTyping(n.id)},onBlur:function(){var e=(0,K.default)(u,!0);e!==u&&o({name:e})},error:i===se.AutoMod?Z.default.Messages.FORUM_POST_AUTOMOD_ERROR:i===se.Empty&&0===u.trim().length?Z.default.Messages.FORM_THREAD_NAME_REQUIRED_ERROR:null}))}ve.displayName="ThreadName";function ye(e){var t,n=e.parentChannel,r=e.textAreaState,s=e.setTextAreaState,c=e.submit,d=e.error,f=ie(a.useState(!0),2),p=f[0],v=f[1],y=a.useCallback((function(){return v(!0)}),[]),_=a.useCallback((function(){return v(!1)}),[]),g=a.useCallback((function(e,t,r){u.default.saveDraft(n.id,t,T.DraftType.FirstThreadMessage);s((function(e){""!==t&&e.textValue!==t?l.default.startTyping(n.id):""===t&&l.default.stopTyping(n.id);return{textValue:t,richValue:r}}))}),[n.id,s]),E=a.useCallback((function(e){
var t=e.value,n=e.uploads,r=e.stickers;return c(t,r,n)}),[c]);(0,B.useComponentAction)({event:X.ComponentActions.TEXTAREA_FOCUS,handler:y});(0,B.useComponentAction)({event:X.ComponentActions.TEXTAREA_BLUR,handler:_});var O=(0,i.useStateFromStores)([M.default],(function(){return M.default.can(X.Permissions.ATTACH_FILES,n)})),S=d===se.Empty&&0===r.textValue.trim().length,b=d===se.AutoMod||S;return a.createElement(a.Fragment,null,le(m.default,{channelId:n.id,type:ce,canAttachFiles:O}),le("div",{className:J.default.starterMessageError},void 0,le(L.Error,{error:d===se.AutoMod?Z.default.Messages.FORUM_POST_AUTOMOD_ERROR:S?Z.default.Messages.FORM_THREAD_STARTER_MESSAGE_REQUIRED_ERROR:null})),le(h.default,{type:ce,channel:n,placeholder:Z.default.Messages.FORM_THREAD_STARTER_MESSAGE_PLACEHOLDER,textValue:r.textValue,richValue:r.richValue,focused:p,className:J.default.channelTextArea,innerClassName:(0,o.default)(J.default.channelTextAreaInner,(t={},t[J.default.channelTextAreaInnerError]=b,t)),
onFocus:y,onBlur:_,onChange:g,onSubmit:E,promptToUpload:Y.promptToUpload}))}function he(e){var t=e.parentChannel,n=e.parentMessageId,r=(0,i.useStateFromStores)([P.default],(function(){return null==n?null:P.default.getMessage(t.id,n)})),a=I.MessageDisplayCompact.useSetting();return null!=r?le(O.default,{className:J.default.messagePreview,message:r,channel:t,compact:a,renderThreadAccessory:!1}):null}},556250:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=b;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=m(n(496486)),i=n(536211),u=m(n(265851)),l=m(n(160629)),s=n(645758),c=m(n(830759)),d=n(878556),f=m(n(782270)),p=n(566142),v=m(n(39447)),y=m(n(247001)),h=m(n(517831));function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function g(){g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return g.apply(this,arguments)}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}
function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e){
var t=e.channel,n=O(a.useState(!1),2),r=n[0],m=n[1],_=(0,i.useStateFromStores)([f.default],(function(){return o.default.size(f.default.getThreadsForParent(t.guild_id,t.id))})),S=a.useCallback((function(){m(!1)}),[]),b=a.useCallback((function(){r||(0,p.trackThreadBrowserOpened)("Popout");m(!r)}),[r]);return E(l.default,{animation:l.default.Animation.NONE,position:l.default.Positions.BOTTOM,align:l.default.Align.RIGHT,autoInvert:!1,shouldShow:r,onRequestClose:S,renderPopout:function(){return E(u.default,{},void 0,E(v.default,{className:h.default.browser,channel:t,onClose:S}))}},void 0,(function(e,t){var n=t.isShown;return a.createElement(d.Icon,g({},e,{className:h.default.icon,onClick:b,icon:c.default,"aria-label":y.default.Messages.THREADS,tooltip:n?null:y.default.Messages.THREADS,selected:n}),_>0?E(s.Text,{variant:"text-md/normal",color:"interactive-normal",className:h.default.count},void 0,_>=100?"99+":_):null)}))}b.displayName="ThreadBrowserPopout"},73942:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=S;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=h(n(160629)),i=h(n(91424)),u=h(n(811198)),l=h(n(878556)),s=n(956506),c=n(895431),d=h(n(358751)),f=n(64072),p=n(770348),v=h(n(247001)),y=h(n(353121));function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3
;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(){g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return g.apply(this,arguments)}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e){var t=e.channel,n=(0,c.useThreadNotificationSetting)(t),r=E(a.useState(!1),2),h=r[0],m=r[1];a.useEffect((function(){var e=function(){return m(!0)};s.ComponentDispatch.subscribe(p.ComponentActions.OPEN_THREAD_NOTIFICATION_SETTINGS,e);return function(){s.ComponentDispatch.unsubscribe(p.ComponentActions.OPEN_THREAD_NOTIFICATION_SETTINGS,e)}}),[]);var O=v.default.Messages.NOTIFICATION_SETTINGS;return _(o.default,{shouldShow:h,animation:o.default.Animation.NONE,
position:o.default.Positions.BOTTOM,align:o.default.Align.RIGHT,autoInvert:!1,onRequestClose:function(){return m(!1)},renderPopout:function(e){return a.createElement(d.default,g({},e,{channel:t,navId:"thread-context",label:v.default.Messages.THREAD_ACTIONS_MENU_LABEL}))}},void 0,(function(e,t){var r=t.isShown;return a.createElement(l.default.Icon,g({},e,{onClick:function(){return m((function(e){return!e}))},tooltip:r?null:O,icon:n===f.ThreadMemberFlags.NO_MESSAGES?u.default:i.default,foreground:n===f.ThreadMemberFlags.NO_MESSAGES?y.default.strikethrough:null,"aria-label":O,selected:r}))}))}S.displayName="ThreadNotificationSettingsButton"},627900:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=A;var r,a=S(n(667294)),o=E(n(691692)),i=E(n(609510)),u=E(n(894630)),l=E(n(783938)),s=E(n(326348)),c=E(n(412649)),d=E(n(730205)),f=E(n(730487)),p=S(n(145122)),v=n(894826),y=E(n(160629)),h=E(n(775803)),m=E(n(878556)),_=n(682640),g=E(n(247001));function E(e){
return e&&e.__esModule?e:{default:e}}function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function S(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function b(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function I(){I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return I.apply(this,arguments)}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A(e){var t=e.channel,n=C(a.useState(!1),2),r=n[0],o=n[1];function i(){o((function(e){return!e}))}var u=g.default.Messages.MORE;return b(y.default,{shouldShow:r,animation:y.default.Animation.NONE,position:y.default.Positions.BOTTOM,align:y.default.Align.RIGHT,autoInvert:!1,onRequestClose:function(){return o(!1)},renderPopout:function(e){return a.createElement(P,I({},e,{channel:t}))}},void 0,(function(e,t){var n=t.isShown;return a.createElement(m.default.Icon,I({},e,{onClick:i,tooltip:n?null:u,icon:h.default,"aria-label":u,selected:n}))}))}A.displayName="ThreadOverflowMenuButton";function P(e){var t=e.channel,n=e.closePopout,r=e.onSelect,a=(0,o.default)(t),y=(0,c.default)(t.id),h=(0,s.default)(t),m=(0,
f.default)(t.id),E=(0,i.default)(t),O=(0,u.default)(t,"Toolbar Overflow"),S=(0,l.default)(t),I=(0,d.default)(t),C=v.UseThreadSidebar.useSetting();return b(p.default,{navId:"thread-context",onClose:n,"aria-label":g.default.Messages.THREAD_ACTIONS_MENU_LABEL,onSelect:r},void 0,b(p.MenuGroup,{},void 0,O),b(p.MenuGroup,{},void 0,h,S,y,C?b(p.MenuItem,{id:"open",label:g.default.Messages.OPEN_IN_SPLIT_VIEW,action:function(){(0,_.openThreadSidebarForViewing)(t)}}):null),b(p.MenuGroup,{},void 0,I,a,E),b(p.MenuGroup,{},void 0,m))}P.displayName="OverflowMenu"},621688:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t,n=e.channel,r=e.baseChannelId;return a.createElement(a.Fragment,null,n.isForumPost()||!0===(null===(t=n.threadMetadata)||void 0===t?void 0:t.archived)?null:N(b.default,{channel:n}),N(L,{channel:n}),N(O.default.Icon,{icon:_.default,tooltip:T.default.Messages.CLOSE,onClick:function(){return(0,I.closeThreadSidebar)(null!=r?r:n.parent_id)}
}))};var r,a=M(n(667294)),o=A(n(691692)),i=A(n(609510)),u=A(n(894630)),l=A(n(783938)),s=A(n(326348)),c=A(n(412649)),d=A(n(480864)),f=A(n(233557)),p=A(n(730205)),v=A(n(730487)),y=M(n(145122)),h=n(391869),m=A(n(160629)),_=A(n(259530)),g=A(n(435012)),E=A(n(775803)),O=A(n(878556)),S=n(956506),b=A(n(73942)),I=n(682640),C=n(770348),T=A(n(247001));function A(e){return e&&e.__esModule?e:{default:e}}function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(P=function(e){return e?n:t})(e)}function M(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=P(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function N(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function R(){R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return R.apply(this,arguments)}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}
return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function L(e){var t=e.channel,n=w(a.useState(!1),2),r=n[0],o=n[1];function i(){o((function(e){return!e}))}var u=T.default.Messages.MORE;return N(m.default,{shouldShow:r,animation:m.default.Animation.NONE,position:m.default.Positions.BOTTOM,align:m.default.Align.RIGHT,autoInvert:!1,onRequestClose:function(){return o(!1)},renderPopout:function(e){return a.createElement(k,R({},e,{channel:t}))}
},void 0,(function(e,t){var n=t.isShown;return a.createElement(O.default.Icon,R({},e,{onClick:i,tooltip:n?null:u,icon:E.default,"aria-label":u,selected:n}))}))}L.displayName="OverflowMenuButton";function k(e){var t=e.channel,n=e.closePopout,r=e.onSelect,a=(0,u.default)(t,"Sidebar Overflow"),m=(0,l.default)(t),_=(0,d.default)(t),E=(0,f.default)(t),O=(0,o.default)(t),b=(0,c.default)(t.id),I=(0,s.default)(t),A=(0,i.default)(t),P=(0,v.default)(t.id),M=(0,p.default)(t);function R(){(0,h.transitionToChannel)(t.id)}return N(y.default,{navId:"thread-context",onClose:n,"aria-label":T.default.Messages.THREAD_ACTIONS_MENU_LABEL,onSelect:r},void 0,N(y.MenuGroup,{},void 0,a,N(y.MenuItem,{id:"open",label:T.default.Messages.OPEN_IN_FULL_VIEW,action:R})),N(y.MenuGroup,{},void 0,_,E),N(y.MenuGroup,{},void 0,I,m,b),N(y.MenuGroup,{},void 0,N(y.MenuItem,{id:"search",label:T.default.Messages.SEARCH,icon:g.default,action:function(){R();setTimeout((function(){
S.ComponentDispatch.dispatch(C.ComponentActions.FOCUS_SEARCH,{prefillCurrentChannel:!1})}),2e3)}}),N(y.MenuItem,{id:"pins",label:T.default.Messages.PINS,icon:g.default,action:function(){R();S.ComponentDispatch.dispatch(C.ComponentActions.TOGGLE_CHANNEL_PINS)}})),N(y.MenuGroup,{},void 0,M,O,A),N(y.MenuGroup,{},void 0,P))}k.displayName="OverflowMenu"},252283:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.channelId,r=e.baseChannelId,b=(0,o.useStateFromStores)([v.default],(function(){return v.default.getChannel(t)})),I=(0,o.useStateFromStores)([h.default],(function(){return h.default.getGuild(null==b?void 0:b.getGuildId())})),T=(0,c.default)(b),M=a.useRef(!1);a.useEffect((function(){if(null!=b&&!M.current){M.current=!0;var e=(0,s.collectThreadMetadata)(v.default.getChannel(b.id),!0);(0,s.trackWithMetadata)(E.AnalyticEvents.CHANNEL_OPENED,P({},e,{channel_id:b.id,guild_id:b.guild_id,parent_id:b.parent_id,channel_view:"Split View"}))}
}),[b]);if(null==b||null==I)return null;var N=C(g.default,{channel:b,baseChannelId:r});return a.createElement(a.Fragment,null,C(l.default,{channel:b,draftType:y.DraftType.ChannelMessage}),C(m.default,{toolbar:N,"aria-label":O.default.Messages.THREAD_HEADER_BAR_A11Y_LABEL},void 0,(0,f.renderTitle)({channel:b,channelName:T,guild:I,inSidebar:!0,handleContextMenu:function(e){(0,i.openContextMenuLazy)(e,A(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(7699).then(n.bind(n,818228));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,P({},e,{channel:b}))}));case 5:case"end":return e.stop()}}),e)}))))},handleClick:function(){null!=b&&(0,p.transitionToChannel)(b.id)}})),C("div",{className:S.default.chat},void 0,C(_.default,{channel:b,narrow:!0}),C(u.default,{channel:b,guild:I,chatInputType:d.ChatInputTypes.SIDEBAR},t)))};var r,a=function(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=n(378158),u=b(n(914789)),l=b(n(805918)),s=n(844784),c=b(n(678928)),d=n(573285),f=n(451115),p=n(391869),v=b(n(644263)),y=n(687549),h=b(n(30098)),m=b(n(878556)),_=b(n(734239)),g=b(n(621688)),E=n(770348),O=b(n(247001)),S=b(n(974290));function b(e){return e&&e.__esModule?e:{default:e}}function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}function C(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function T(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function A(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){T(o,r,a,i,u,"next",e)}function u(e){T(o,r,a,i,u,"throw",e)}i(void 0)}))}}function P(){P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return P.apply(this,arguments)}},387812:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){
var t=e.parentChannel,n=e.parentMessageId,a=e.threadSettings,o=e.privateThreadMode,u=e.location,l=e.onThreadCreated,f=e.useDefaultThreadName,p=r.useCallback((function(e,t,n,r){i.default.uploadFiles({channelId:e.id,uploads:t,draftType:c.DraftType.FirstThreadMessage,options:{stickerIds:r},parsedMessage:s.default.parse(e,n)})}),[]);return(0,d.useCreateThreadCommon)({parentChannel:t,parentMessageId:n,threadSettings:a,privateThreadMode:o,location:u,onThreadCreated:l,useDefaultThreadName:f,uploadHandler:p})};t.useCreateForumPost=function(e){var t=e.parentChannel,n=e.guild;var r=(0,l.useForumChannelStore)((function(e){return{name:e.name,appliedTags:e.appliedTags}}),a.default),i=r.name,s=r.appliedTags;return(0,d.useCreateForumPostCommon)({parentChannel:t,name:i,appliedTags:s,upload:function(e,t,r){return new Promise((function(a,i){var l=new u.MultiUploader(e);l.on("error",(function(e,t,r){t!==f.AbortCodes.EXPLICIT_CONTENT||null==n?i({body:r}):o.default.show({
title:p.default.Messages.UPLOAD_AREA_UPLOAD_FAILED_TITLE,body:p.default.Messages.BOT_GUILD_EXPLICIT_CONTENT.format({name:n.toString()})})}));l.on("complete",(function(e,t){a({body:t})}));l.uploadFiles(r,t)}))}})};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=v(n(193747)),o=v(n(190040)),i=v(n(274710)),u=n(369617),l=n(90926),s=v(n(614293)),c=n(687549),d=n(192110),f=n(770348),p=v(n(247001));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}},
785992:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SPEECH_RATE_INCREMENTS=t.MAX_TTS_LENGTH=void 0;t.MAX_TTS_LENGTH=200;t.SPEECH_RATE_INCREMENTS=[0,.25,.5,.75,1,1.25,1.5,1.75,2,2.25,2.5,2.75,3,3.25,3.5,3.75,4,4.25,4.5,4.75,5,5.25,5.5,5.75,6,6.25,6.5,6.75,7,7.25,7.5,7.75,8,8.25,8.5,8.75,9,9.25,9.5,9.75,10]},340877:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=A(n(636602)),a=T(n(448549)),o=n(678928),i=T(n(86031)),u=n(894826),l=A(n(423046)),s=A(n(502546)),c=A(n(644263)),d=A(n(876874)),f=A(n(30098)),p=A(n(635014)),v=A(n(919935)),y=A(n(290629)),h=A(n(211136)),m=A(n(563621)),_=A(n(871778)),g=A(n(728429)),E=n(43247),O=A(n(91603)),S=n(785992),b=n(770348),I=A(n(247001));function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}function T(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e}
;var n=C(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function A(e){return e&&e.__esModule?e:{default:e}}var P=[],M=null,N=null,R=null;function w(e,t,n,r){var a=f.default.getGuild(n),i=e.replace(b.MARKDOWN_SPOILER_REGEXP_GLOBAL,I.default.Messages.SPOILER).replace(/<@!?(\d+)>/g,(function(e,t){var r,a=g.default.getUser(t);return null==a?e:null!==(r=d.default.getNick(n,a.id))&&void 0!==r?r:a.username})).replace(/<@&?(\d+)>/g,(function(e,t){var n=null!=a?a.roles[t]:null;return null!=n&&null!=n.name?n.name:I.default.Messages.MESSAGE_TTS_DELETED_ROLE})).replace(/<#(\d+)>/g,(function(e,t){var n=c.default.getChannel(t);return null==n?e:(0,o.computeChannelName)(n,g.default,y.default)
})).replace(/<a?:(\w+):(\d+)>/g,(function(e,t){return I.default.Messages.EMOJI+" "+t})).replace(/<\/([^\s]+?):(\d+)>/g,(function(e,t){return"/"+t}));return null==r?I.default.Messages.MESSAGE_TTS.format({username:t,body:i}):I.default.Messages.MESSAGE_TTS_REPLY.format({username:t,body:i,replyUsername:r})}function D(){if(!a.supported)return!1;var e=_.default.locale;if(null==R){var t;R=null===(t=window.speechSynthesis)||void 0===t?void 0:t.getVoices()}var n=R.filter((function(t){return t.lang===e||t.lang.slice(0,e.length)===e}));N=n.length>0?n[0]:null}function L(e,t,n,r,o){var i=a.createUtterance(e,n);if(null!==i){null==N&&D();if(t)(0,E.stopSpeaking)();else{var u;null===(u=M)||void 0===u||u.removeEventListener("end",E.stopSpeaking)}i.addEventListener("end",E.stopSpeaking);null!=r&&i.addEventListener("start",r);null!=o&&i.addEventListener("end",o);M=i;a.speakUtterance(i,N)}}function k(e,t,n,r,a){L(e,t,a,(function(){(0,E.speakingMessage)(n,r)}))}function j(e){
L(e.text,e.interrupt,e.maxLength,e.onStart,e.onEnd)}function U(){null!==M&&M.removeEventListener("end",E.stopSpeaking);a.cancelAll();M=null;return!0}function G(e){var t,n,r,a=e.message,o=e.channel,u=a.type===b.MessageTypes.REPLY?i.default.getMessageByReference(a.messageReference):null,l=(null==u?void 0:u.state)===i.ReferencedMessageState.LOADED?null==u||null===(t=u.message)||void 0===t?void 0:t.author:null,s=null!=l?null!==(n=d.default.getNick(o.guild_id,null==l?void 0:l.id))&&void 0!==n?n:l.username:null,c=o.getGuildId(),f=null!==(r=d.default.getNick(c,a.author.id))&&void 0!==r?r:a.author.username;k(w(a.content,f,c,s),!0,o.id,a.id);return!0}function F(e){var t=e.channelId,n=e.message;if(e.optimistic||p.default.isSelfDeaf())return!1;var r=c.default.getChannel(t);if(null==r)return!1
;var a=h.default.getChannelId(),o=s.default.getCurrentSidebarChannelId(a),i=t===a||t===o,f=u.EnableTTSCommand.getSetting()&&n.tts&&i,_=v.default.getTTSType(),g=n.author.id!==l.default.getId()&&(_===b.TTSNotificationTypes.ALL_CHANNELS||_===b.TTSNotificationTypes.SELECTED_CHANNEL&&i);if((f||g)&&!y.default.isBlocked(n.author.id)){var E,O,I;if(P.indexOf(n.id)>=0)return!1;P.unshift(n.id)>10&&P.pop();var C=r.getGuildId();if(null!=C&&m.default.getMutedChannels(C).has(t))return!1;var T=null!==(E=d.default.getNick(C,n.author.id))&&void 0!==E?E:n.author.username,A=n.type===b.MessageTypes.REPLY?null===(O=n.referenced_message)||void 0===O?void 0:O.author:null,M=null!=A?null!==(I=d.default.getNick(C,null==A?void 0:A.id))&&void 0!==I?I:A.username:null;k(w(n.content,T,C,M),!1,r.id,n.id,S.MAX_TTS_LENGTH)}return!1}function x(e){var t=e.id,n=e.channelId,r=O.default.currentMessage;if(null!=r&&t===r.messageId&&n===r.channelId){(0,E.stopSpeaking)();return!0}return!1}function W(){
p.default.isSelfDeaf()&&a.cancelAll()}var B={init:function(){r.default.subscribe(b.ActionTypes.SPEAK_TEXT,j);r.default.subscribe(b.ActionTypes.SPEAK_MESSAGE,G);r.default.subscribe(b.ActionTypes.STOP_SPEAKING,U);r.default.subscribe(b.ActionTypes.MESSAGE_CREATE,F);r.default.subscribe(b.ActionTypes.MESSAGE_DELETE,x);r.default.subscribe(b.ActionTypes.AUDIO_TOGGLE_SELF_DEAF,W);r.default.subscribe(b.ActionTypes.USER_SETTINGS_UPDATE,D);r.default.subscribe(b.ActionTypes.I18N_LOAD_SUCCESS,D)}};t.default=B},418968:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=m(n(667294)),a=y(n(636602)),o=y(n(177230)),i=y(n(200738)),u=y(n(288356)),l=y(n(788739)),s=y(n(290629)),c=y(n(728429)),d=n(194322),f=m(n(308920)),p=n(770348),v=n(673810);function y(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function _(){_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return _.apply(this,arguments)}function g(e,t){g=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return g(e,t)}function E(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function O(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){E(o,r,a,i,u,"next",e)}function u(e){E(o,r,a,i,u,"throw",e)}
i(void 0)}))}}var S=null;function b(e){return I.apply(this,arguments)}function I(){return(I=O(regeneratorRuntime.mark((function e(t){var a,o,y,h,m,g,E,b,I,C,T,A,P,M,N,R,w,D,L,k,j,U,G,F,x;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:T=t.userId,A=t.section,P=t.guildId,M=void 0===P?p.ME:P,N=t.friendToken,R=t.autoFocusNote,w=t.analyticsLocation;if(null!=(D=c.default.getUser(T))){e.next=4;break}return e.abrupt("return");case 4:if(null!=(L=l.default.getPrimaryActivity(T))){k=L.party;j=L.assets;U=null!=L.application_id?u.default.getGame(L.application_id):null}G=l.default.getStatus(T);F=l.default.isMobileOnline(T);x=G;G===p.StatusTypes.ONLINE&&(x=F?p.AnalyticsUserStatusTypes.ONLINE_MOBILE:p.AnalyticsUserStatusTypes.ONLINE_DESKTOP);e.next=12;return(0,d.openModalLazy)(O(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2
;return Promise.all([n.e(40532),n.e(16972)]).then(n.bind(n,116972));case 2:t=e.sent;a=t.default;return e.abrupt("return",(function(e){return r.createElement(a,_({},e,{user:D,autoFocusNote:R,guildId:M,friendToken:N,initialSection:A}))}));case 5:case"end":return e.stop()}}),e)}))));case 12:S=e.sent;f.default.track(p.AnalyticEvents.OPEN_MODAL,_({type:"Profile Modal",other_user_id:T,application_id:null!==(a=null==L?void 0:L.application_id)&&void 0!==a?a:null,application_name:null==L?void 0:L.name,sku_id:null!==(o=null===(y=U)||void 0===y?void 0:y.primarySkuId)&&void 0!==o?o:null,is_friend:s.default.isFriend(T),has_images:Boolean(null!==(h=null===(m=j)||void 0===m?void 0:m.large_image)&&void 0!==h?h:null===(g=j)||void 0===g?void 0:g.small_image),party_max:null===(E=k)||void 0===E||null===(b=E.size)||void 0===b?void 0:b[1],party_id:null===(I=k)||void 0===I?void 0:I.id,party_platform:(0,v.isSpotifyParty)(null===(C=k)||void 0===C?void 0:C.id)?p.PlatformTypes.SPOTIFY:null,game_platform:(0,
i.default)(L),profile_user_status:x,profile_has_nitro_customization:null!=D.banner},null==w?null:(0,f.expandLocation)(w)));case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){null!=S&&(0,d.closeModal)(S);S=null}var T=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;g(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){a.default.subscribe(p.ActionTypes.USER_PROFILE_MODAL_OPEN,b);a.default.subscribe(p.ActionTypes.USER_PROFILE_MODAL_CLOSE,C)};n._terminate=function(){a.default.unsubscribe(p.ActionTypes.USER_PROFILE_MODAL_OPEN,b);a.default.unsubscribe(p.ActionTypes.USER_PROFILE_MODAL_CLOSE,C)};return t}(o.default));t.default=T},142006:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=A;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=_(n(294184)),i=n(536211),u=n(483559),l=_(n(257867)),s=_(n(956117)),c=_(n(530250)),d=n(354479),f=n(688388),p=n(3400),v=_(n(582945)),y=n(770348),h=_(n(247001)),m=_(n(634298));function _(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function O(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function S(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){O(o,r,a,i,u,"next",e)}function u(e){O(o,r,a,i,u,"throw",e)}i(void 0)}))}}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var C=E(f.FormDivider,{}),T=E(f.FormDivider,{});function A(e){var t=e.transitionState,r=(0,i.useStateFromStoresObject)([l.default],(function(){return{requiredAction:l.default.getAction()}})).requiredAction,_=b(a.useState(!1),2),g=_[0],O=_[1],I=(0,d.useUID)();function A(){return(A=S(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O(!0);if(r!==y.UserRequiredActions.AGREEMENTS){e.next=8;break}e.next=4;return(0,u.acceptAgreements)();case 4:t=e.sent
;O(t);e.next=13;break;case 8:if(r!==y.UserRequiredActions.TOS_UPDATE_ACKNOWLEDGMENT){e.next=13;break}e.next=11;return(0,u.acknowledgeTOSNotification)();case 11:n=e.sent;O(n);case 13:return e.abrupt("return",null);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return E(p.ModalRoot,{"aria-labelledby":I,transitionState:t,className:(0,o.default)(m.default.modal,m.default.specificOverride,"theme-light")},void 0,E("div",{id:I,className:m.default.title},void 0,h.default.Messages.NEW_TERMS_TITLE),C,E(v.default,{},void 0,E(f.FormText,{className:m.default.description},void 0,r===y.UserRequiredActions.AGREEMENTS?h.default.Messages.TERMS_AGREEMENT_DESCRIPTION_1:r===y.UserRequiredActions.TOS_UPDATE_ACKNOWLEDGMENT?h.default.Messages.TERMS_ACKNOWLEDGEMENT_DESCRIPTION_1.format({date:y.TOS_AGREEMENT_DUE_BY}):null),E(f.FormText,{className:m.default.description
},void 0,r===y.UserRequiredActions.AGREEMENTS?h.default.Messages.TERMS_AGREEMENT_DESCRIPTION_2:r===y.UserRequiredActions.TOS_UPDATE_ACKNOWLEDGMENT?h.default.Messages.TERMS_ACKNOWLEDGEMENT_DESCRIPTION_2:null),E(c.default,{className:m.default.container,align:c.default.Align.CENTER,justify:c.default.Justify.CENTER},void 0,E(c.default,{direction:c.default.Direction.VERTICAL},void 0,E("div",{className:m.default.link},void 0,h.default.Messages.TERMS_OF_SERVICE.format({url:y.MarketingURLs.TERMS})),E("div",{className:m.default.link},void 0,h.default.Messages.PRIVACY_POLICY.format({url:y.MarketingURLs.PRIVACY})),E("div",{className:m.default.link},void 0,h.default.Messages.COMMUNITY_GUIDELINES.format({url:y.MarketingURLs.GUIDELINES})),E("div",{className:m.default.link},void 0,h.default.Messages.BLOG_POST.format({url:y.MarketingURLs.TOS_UPDATE_FEB_2022}))),E("img",{className:m.default.image,alt:"",src:n(31890)}))),T,E("div",{className:m.default.buttonContainer},void 0,E(s.default,{
className:m.default.button,submitting:g,onClick:function(){return A.apply(this,arguments)}},void 0,h.default.Messages.GOT_IT)))}A.displayName="UserAgreementsModal"},77670:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=m(n(667294)),o=y(n(636602)),i=m(n(403607)),u=y(n(728429)),l=n(378444),s=y(n(749033)),c=n(194322),d=n(42031),f=y(n(142006)),p=n(770348),v=n(478036);function y(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g="AGREEMENTS_MODAL_KEY",E=_(i.default,{}),O={init:function(){o.default.subscribe(p.ActionTypes.CONNECTION_OPEN,this.handleRequiredAction);o.default.subscribe(p.ActionTypes.USER_REQUIRED_ACTION_UPDATE,this.handleRequiredAction);o.default.subscribe(p.ActionTypes.CURRENT_USER_UPDATE,this.handleCurrentUserUpdate);o.default.subscribe(p.ActionTypes.LOGOUT,this.handleLogout)},handleRequiredAction:function(e){var t=e.requiredAction
;if(!d.ProcessArgs.isDisallowPopupsSet())if(null==u.default.getCurrentUser()){(0,l.closeFullScreenLayer)("verification");(0,c.hasModalOpen)(g)&&(0,c.closeModal)(g)}else if(t===p.UserRequiredActions.REQUIRE_CAPTCHA||t===p.UserRequiredActions.REQUIRE_VERIFIED_EMAIL||t===p.UserRequiredActions.REQUIRE_VERIFIED_PHONE)(0,l.openFullScreenLayer)((function(){return E}),{layerKey:"verification",Layer:s.default});else if(t===p.UserRequiredActions.AGREEMENTS||t===p.UserRequiredActions.TOS_UPDATE_ACKNOWLEDGMENT)(0,c.openModal)((function(e){return a.createElement(f.default,e)}),{modalKey:g,onCloseRequest:v.NOOP_NULL});else if(null==t){(0,l.closeFullScreenLayer)("verification");(0,c.hasModalOpen)(g)&&(0,c.closeModal)(g)}},handleLogout:function(){(0,l.closeFullScreenLayer)("verification")},handleCurrentUserUpdate:function(e){e.user.verified&&(0,c.closeModal)(i.EMAIL_VERIFICATION_MODAL_KEY)}};t.default=O},421010:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=u(n(536211)),o=u(n(636602)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}var c={},d=null;function f(){c={};d=null}var p=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.getEmailSettings=function(){return{categories:c,initialized:d}};return t}(a.default.Store);p.displayName="EmailSettingsStore";var v=new p(o.default,((r={})[i.ActionTypes.CONNECTION_OPEN]=f,r[i.ActionTypes.LOGOUT]=f,r[i.ActionTypes.EMAIL_SETTINGS_FETCH_SUCCESS]=function(e){var t=e.settings;c=t.categories;d=t.initialized},r[i.ActionTypes.EMAIL_SETTINGS_UPDATE_SUCCESS]=function(e){
var t=e.settings;c=t.categories},r[i.ActionTypes.EMAIL_SETTINGS_UPDATE]=function(e){var t=e.updates;c=s({},c,{},t)},r));t.default=v},933411:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=c(n(213192)),a=c(n(496486)),o=c(n(536211)),i=n(358103),u=c(n(972247)),l=n(324828),s=n(840433);function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}
throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e){var t=(0,r.default)({IMAGE:null,VIDEO:null}),n=o.default.PersistedStore.migrateAndReadStoreState("GIFFavoritesStore",[function(e){return null==e?{favorites:[],timesFavorited:0}:Array.isArray(e)?{favorites:e,timesFavorited:0}:e},function(e){return Array.isArray(e.favorites)?e:{favorites:[],timesFavorited:0}}]).state;return null==n||0===n.favorites.length?[]:n.favorites.map((function(r,a){var o=i.FavoriteGIF.create();o.format=r.format===t.IMAGE?i.GIFType.IMAGE:r.format===t.VIDEO?i.GIFType.VIDEO:i.GIFType.NONE;o.src=r.src;o.width=r.width;o.height=r.height;o.order=n.favorites.length-a+e;return{url:r.url,favorite:o}}))}var v=[{version:2,run:function(e){var t=p(1);if(0===t.length)return!1
;null==e.favoriteGifs&&(e.favoriteGifs=i.FavoriteGIFs.create());e.favoriteGifs.gifs={};for(var n,r=d(t);!(n=r()).done;){var a=n.value,o=a.url,u=a.favorite;e.favoriteGifs.gifs[o]=u}e.favoriteGifs.hideTooltip=t.length>2;return!0},cleanup:function(){}},{version:3,run:function(e){var t=o.default.PersistedStore.migrateAndReadStoreState("StickersPersistedStore",[function(e){return null==e||0===Object.keys(e).length?{usageHistory:{},favorites:[]}:e},function(e){if(null==e||0===Object.keys(e).length)return{usageHistory:{},favorites:[]};null==e.favorites&&(e.favorites=[]);return e}]).state;if(null==t)return!1;var n=!1;if(t.favorites.length>0){e.favoriteStickers=i.FavoriteStickers.create();e.favoriteStickers.stickerIds=a.default.uniq(t.favorites).slice(0,s.MAX_FAVORITES);n=!0}if(a.default.size(t.usageHistory)>0){e.stickerFrecency=i.StickerFrecency.create();e.stickerFrecency.stickers=(0,l.serializeUsageHistory)(t.usageHistory,100);n=!0}return n},cleanup:function(){
u.default.remove("StickersPersistedStore")}},{version:4,run:function(e){var t=o.default.PersistedStore.migrateAndReadStoreState("EmojiStore",[function(){return{usageHistory:u.default.get("EmojiUsageHistory")||{}}}]).state;if(null==t)return!1;var n=!1;if(null!=t.favorites&&t.favorites.length>0){e.favoriteEmojis=i.FavoriteEmojis.create();e.favoriteEmojis.emojis=a.default.uniq(t.favorites).slice(0,s.MAX_FAVORITES);n=!0}if(a.default.size(t.usageHistory)>0){e.emojiFrecency=i.EmojiFrecency.create();e.emojiFrecency.emojis=(0,l.serializeUsageHistory)(t.usageHistory,100);n=!0}return n},cleanup:function(){u.default.remove("EmojiStore");u.default.remove("EmojiUsageHistory");u.default.remove("EmojiDiversitySurrogate")}},{version:6,run:function(e){null==e.favoriteGifs&&(e.favoriteGifs=i.FavoriteGIFs.create());null==e.favoriteGifs.gifs&&(e.favoriteGifs.gifs={});var t=p(1);if(0===t.length)return!1;(0,a.default)(e.favoriteGifs.gifs).values().sortBy("order").forEach((function(e,n){
return e.order=t.length+1+n}));for(var n,r=i.FavoriteGIFs.toBinary(e.favoriteGifs).length,o=0,u=d(t);!(n=u()).done;){var l=n.value,c=l.url,f=l.favorite;f.order=t.length-o;o++;if(c in e.favoriteGifs.gifs)e.favoriteGifs.gifs[c].order=f.order;else{var v=i.FavoriteGIF.toBinary(f).length+c.length+7;if(!(r+v>s.MAX_FAVORITE_GIFS_SIZE)){r+=v;e.favoriteGifs.gifs[c]=f}}}r=i.FavoriteGIFs.toBinary(e.favoriteGifs).length;for(;r>s.MAX_FAVORITE_GIFS_SIZE;){var y=0;for(var h in e.favoriteGifs.gifs){delete e.favoriteGifs.gifs[h];if(++y>=10)break}r=i.FavoriteGIFs.toBinary(e.favoriteGifs).length}return!0},cleanup:function(){}},{version:7,run:function(e){var t=o.default.PersistedStore.migrateAndReadStoreState("ApplicationCommandFrecency",[]).state;if(null==t)return!1;var n=!1;if(a.default.size(t.usageHistory)>0){e.applicationCommandFrecency=i.ApplicationCommandFrecency.create();e.applicationCommandFrecency.applicationCommands=(0,l.serializeUsageHistory)(t.usageHistory,500);n=!0}return n},
cleanup:function(){u.default.remove("ApplicationCommandFrecency")}}];t.default=v},409501:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=y(n(496486)),a=n(358103),o=y(n(972247)),i=y(n(636602)),u=y(n(290760)),l=y(n(371732)),s=y(n(433385)),c=n(828593),d=y(n(960441)),f=n(324828),p=n(840433),v=n(770348);function y(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){h(o,r,a,i,u,"next",e)}function u(e){h(o,r,a,i,u,"throw",e)}i(void 0)}))}}var _="lastFrecencySavedTime",g=3e5*Math.random(),E=864e5+Math.floor(36e5*Math.random()),O=null,S=Date.now(),b={init:function(){i.default.subscribe(v.ActionTypes.CONNECTION_OPEN,I);i.default.subscribe(v.ActionTypes.CONNECTION_RESUMED,I);i.default.subscribe(v.ActionTypes.CONNECTION_CLOSED,C)
;c.FrecencyUserSettingsActionCreators.beforeSendCallbacks.push({hasChanges:function(){return!1},processProto:function(){P(!0)}});c.FrecencyUserSettingsActionCreators.beforeSendCallbacks.push({hasChanges:function(){return l.default.hasPendingUsage()&&d.default.hasLoaded(p.UserSettingsTypes.FRECENCY_AND_FAVORITES_SETTINGS)},processProto:function(e){if(l.default.hasPendingUsage()&&d.default.hasLoaded(p.UserSettingsTypes.FRECENCY_AND_FAVORITES_SETTINGS)){e.stickerFrecency=a.StickerFrecency.create();e.stickerFrecency.stickers=(0,f.serializeUsageHistory)(l.default.stickerFrecencyWithoutFetchingLatest.usageHistory,100)}}});c.FrecencyUserSettingsActionCreators.beforeSendCallbacks.push({hasChanges:function(){return s.default.hasPendingUsage()&&d.default.hasLoaded(p.UserSettingsTypes.FRECENCY_AND_FAVORITES_SETTINGS)},processProto:function(e){if(s.default.hasPendingUsage()&&d.default.hasLoaded(p.UserSettingsTypes.FRECENCY_AND_FAVORITES_SETTINGS)){e.emojiFrecency=a.EmojiFrecency.create()
;e.emojiFrecency.emojis=(0,f.serializeUsageHistory)(s.default.emojiFrecencyWithoutFetchingLatest.usageHistory,100)}}});c.FrecencyUserSettingsActionCreators.beforeSendCallbacks.push({hasChanges:function(){return u.default.hasPendingUsage()&&d.default.hasLoaded(p.UserSettingsTypes.FRECENCY_AND_FAVORITES_SETTINGS)},processProto:function(e){if(u.default.hasPendingUsage()&&d.default.hasLoaded(p.UserSettingsTypes.FRECENCY_AND_FAVORITES_SETTINGS)){e.applicationCommandFrecency=a.ApplicationCommandFrecency.create();e.applicationCommandFrecency.applicationCommands=(0,f.serializeUsageHistory)(u.default.getCommandFrecencyWithoutLoadingLatest().usageHistory,500)}}})}};t.default=b;function I(){var e;S=null!==(e=o.default.get(_))&&void 0!==e?e:Date.now();P(!1)}function C(){clearTimeout(O);O=null}function T(){return A.apply(this,arguments)}function A(){return(A=m(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S=Date.now();P(!0)
;if(d.default.hasLoaded(p.UserSettingsTypes.FRECENCY_AND_FAVORITES_SETTINGS)){e.next=6;break}if(!(l.default.hasPendingUsage()||s.default.hasPendingUsage()||u.default.hasPendingUsage())){e.next=6;break}e.next=6;return c.FrecencyUserSettingsActionCreators.loadIfNecessary();case 6:r.default.forEach(c.UserSettingsActionCreatorsByType,(function(e){e.markDirtyIfHasPendingChange()}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e){if(e){S=Date.now();o.default.set(_,S)}null!=O&&clearTimeout(O);var t=Date.now()-S,n=Math.max(g,E-t);O=setTimeout(T,n)}},562497:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=p(n(536211)),a=n(923387),o=n(629015),i=p(n(972247)),u=n(6505),l=p(n(644263)),s=n(925179),c=n(324828),d=n(770348),f=n(198622);function p(e){return e&&e.__esModule?e:{default:e}}function v(e,t){var n=!1;null==e.userContent&&(e.userContent={dismissedContents:new Uint8Array})
;null==e.userContent.dismissedContents&&(e.userContent.dismissedContents=new Uint8Array);if(!(0,s.hasBit)(e.userContent.dismissedContents,t)){e.userContent.dismissedContents=(0,s.addBit)(e.userContent.dismissedContents,t);n=!0}return n}function y(e,t,n){return!!u.HotspotStore.hasHiddenHotspot(t)&&v(e,n)}var h=[{version:2,run:function(e){var t,n;!function(e){e.Mentions="Recent Mentions";e.Unreads="Inbox"}(n||(n={}));if(null!=e.inbox)return!1;var r=!1,o=a.InboxSettings.create();e.inbox=o;if(i.default.get("seenInboxTutorial",!1)){o.viewedTutorial=!0;r=!0}var u=i.default.get("recentsButtonTab2");if(null!=u){o.currentTab=u===n.Mentions?a.InboxTab.MENTIONS:a.InboxTab.UNREADS;r=!0}var s=null!==(t=i.default.get("unread-messages-collapsed-channels"))&&void 0!==t?t:{};for(var d in s){var f;if(s[d]){var p=l.default.getChannel(d);if(null!=p){r=!0;(0,c.mutateUserChannelSettings)(e,null!==(f=p.guild_id)&&void 0!==f?f:"0",p.id,(function(e){e.collapsedInInbox=!0}))}}}return r},cleanup:function(){
i.default.remove("seenInboxTutorial");i.default.remove("recentsButtonTab2");i.default.remove("unread-messages-collapsed-channels")}},{version:3,run:function(e){var t=r.default.PersistedStore.migrateAndReadStoreState("EmojiStore",[function(){return{diversitySurrogate:i.default.get("EmojiDiversitySurrogate")||""}}]).state;if(null==t)return!1;var n=!1;if(null!=t.diversitySurrogate&&""!==t.diversitySurrogate){null==e.textAndImages&&(e.textAndImages=a.TextAndImagesSettings.create());null==e.textAndImages.diversitySurrogate&&(e.textAndImages.diversitySurrogate=o.StringValue.create());e.textAndImages.diversitySurrogate.value=t.diversitySurrogate;n=!0}return n},cleanup:function(){}},{version:4,run:function(e){var t=!1;(!0===i.default.get("HAS_SEEN_HUB_UPSELL")||u.HotspotStore.hasHiddenHotspot(u.HotspotLocations.HUB_SECOND_EMAIL_CONNECTION_UPSELL))&&(t=v(e,a.DismissibleContent.HUB_WAITLIST_UPSELL));return t},cleanup:function(){i.default.remove("HAS_SEEN_HUB_UPSELL")}},{version:5,
run:function(e){var t,n,r,u,l,s,c,d=!1;e.textAndImages=null!==(t=e.textAndImages)&&void 0!==t?t:a.TextAndImagesSettings.create();e.notifications=null!==(n=e.notifications)&&void 0!==n?n:a.NotificationSettings.create();e.privacy=null!==(r=e.privacy)&&void 0!==r?r:a.PrivacySettings.create();e.voiceAndVideo=null!==(u=e.voiceAndVideo)&&void 0!==u?u:a.VoiceAndVideoSettings.create();e.gameLibrary=null!==(l=e.gameLibrary)&&void 0!==l?l:a.GameLibrarySettings.create();e.debug=null!==(s=e.debug)&&void 0!==s?s:a.DebugSettings.create();var f=null!==(c=i.default.get("UserSettingsStore"))&&void 0!==c?c:{};if("boolean"==typeof f.useRichChatTextBox){e.textAndImages.useRichChatInput=o.BoolValue.create({value:f.useRichChatTextBox});d=!0}if("string"==typeof f.renderSpoilers){e.textAndImages.renderSpoilers=o.StringValue.create({value:f.renderSpoilers});d=!0}if("boolean"==typeof f.useThreadSidebar){e.textAndImages.useThreadSidebar=o.BoolValue.create({value:f.useThreadSidebar});d=!0}
if("boolean"==typeof f.showInAppNotifications){e.notifications.showInAppNotifications=o.BoolValue.create({value:f.showInAppNotifications});d=!0}if(f.emojiPickerCollapsedSections instanceof Array){e.textAndImages.emojiPickerCollapsedSections=f.emojiPickerCollapsedSections;d=!0}if(f.stickerPickerCollapsedSections instanceof Array){e.textAndImages.stickerPickerCollapsedSections=f.stickerPickerCollapsedSections;d=!0}if("boolean"==typeof f.viewImageDescriptions){e.textAndImages.viewImageDescriptions=o.BoolValue.create({value:f.viewImageDescriptions});d=!0}if("boolean"==typeof f.showCommandSuggestions){e.textAndImages.showCommandSuggestions=o.BoolValue.create({value:f.showCommandSuggestions});d=!0}if("boolean"==typeof f.alwaysPreviewVideo){e.voiceAndVideo.alwaysPreviewVideo=o.BoolValue.create({value:f.alwaysPreviewVideo});d=!0}if("boolean"==typeof f.notifyFriendsOnGoLive){e.notifications.notifyFriendsOnGoLive=o.BoolValue.create({value:f.notifyFriendsOnGoLive});d=!0}
if("boolean"==typeof f.installShortcutDesktop){e.gameLibrary.installShortcutDesktop=o.BoolValue.create({value:f.installShortcutDesktop});d=!0}if("boolean"==typeof f.installShortcutStartMenu){e.gameLibrary.installShortcutStartMenu=o.BoolValue.create({value:f.installShortcutStartMenu});d=!0}if("boolean"==typeof f.allowActivityPartyPrivacyFriends){e.privacy.allowActivityPartyPrivacyFriends=o.BoolValue.create({value:f.allowActivityPartyPrivacyFriends});d=!0}if("boolean"==typeof f.allowActivityPartyPrivacyVoiceChannel){e.privacy.allowActivityPartyPrivacyVoiceChannel=o.BoolValue.create({value:f.allowActivityPartyPrivacyVoiceChannel});d=!0}if("boolean"==typeof f.rtcPanelShowVoiceStates){e.debug.rtcPanelShowVoiceStates=o.BoolValue.create({value:f.rtcPanelShowVoiceStates});d=!0}return d},cleanup:function(){}},{version:7,run:function(e){return y(e,u.HotspotLocations.APPLICATION_COMMAND_TOOLTIP,a.DismissibleContent.APPLICATION_COMMAND_TOOLTIP)},cleanup:function(){}},{version:8,run:function(e){
return y(e,u.HotspotLocations.CHANNEL_BANNER_MEMBER_LIST_NOTICE,a.DismissibleContent.CHANNELINFO_CHANNELBANNER_NOTICE)},cleanup:function(){}},{version:9,run:function(e){u.HotspotStore.hasHiddenHotspot(u.HotspotLocations.MULTI_ACCOUNT_TOOLTIP)&&i.default.set(f.MULTIACCOUNT_TOOLTIP_SEEN_KEY,"true");return y(e,u.HotspotLocations.MULTI_ACCOUNT_TOOLTIP,a.DismissibleContent.ACCOUNT_MULTIACCOUNT_TOOLTIP)},cleanup:function(){}},{version:10,run:function(e){var t,n=y(e,u.HotspotLocations.HUB_LINK_CHANNEL_NOTICE,a.DismissibleContent.CHANNEL_NOTICE_HUBLINK),r=null!==(t=i.default.get("channelNotices"))&&void 0!==t?t:{};!1===r[d.ChannelNoticeTypes.INVITE]&&v(e,a.DismissibleContent.CHANNEL_NOTICE_INVITE)&&(n=!0);!1===r[d.ChannelNoticeTypes.QUICKSWITCHER]&&v(e,a.DismissibleContent.CHANNEL_NOTICE_QUICKSWITCHER)&&(n=!0);!1===r[d.ChannelNoticeTypes.GUILD_BOOSTING]&&v(e,a.DismissibleContent.CHANNEL_NOTICE_PREMIUM_GUILD_SUBSCRIPTION)&&(n=!0);return n},cleanup:function(){i.default.remove("channelNotices")}
},{version:11,run:function(e){var t=!1;y(e,u.HotspotLocations.GUILD_EVENT_UPSELL,a.DismissibleContent.GUILD_HEADER_EVENT_UPSELL)&&(t=!0);y(e,u.HotspotLocations.PREMIUM_PROGRESS_BAR_GUILD_HEADER_TOOLTIP,a.DismissibleContent.GUILD_HEADER_PREMIUM_GUILD_PROGRESS)&&(t=!0);y(e,u.HotspotLocations.ANIMATED_GUILD_BANNER_GUILD_HEADER_TOOLTIP,a.DismissibleContent.GUILD_HEADER_ANIMATED_GUILD_BANNER)&&(t=!0);return t},cleanup:function(){}},{version:12,run:function(e){var t=!1;i.default.get("hideNag")&&v(e,a.DismissibleContent.NAGBAR_NOTICE_DOWNLOAD)&&(t=!0);i.default.get("hideConnectSpotify")&&v(e,a.DismissibleContent.NAGBAR_NOTICE_CONNECT_SPOTIFY)&&(t=!0);i.default.get("hideConnectPlayStation")&&v(e,a.DismissibleContent.NAGBAR_NOTICE_CONNECT_SPOTIFY)&&(t=!0);i.default.get("hideMFASMSNotice")&&v(e,a.DismissibleContent.NAGBAR_NOTICE_MFA_SMS_BACKUP)&&(t=!0);return t},cleanup:function(){i.default.remove("hideNag");i.default.remove("hideConnectSpotify");i.default.remove("hideConnectPlayStation")
;i.default.remove("hideMFASMSNotice")}},{version:13,run:function(e){var t=!1;i.default.get("hidePremiumPromo")&&v(e,a.DismissibleContent.NAGBAR_NOTICE_PREMIUM_PROMO)&&(t=!0);i.default.get("hidePremiumTier2TrialEnding")&&v(e,a.DismissibleContent.NAGBAR_NOTICE_PREMIUM_TIER_TWO_TRIAL_ENDING)&&(t=!0);i.default.get("hidePremiumReactivateNotice")&&v(e,a.DismissibleContent.NAGBAR_NOTICE_PREMIUM_REACTIVATE)&&(t=!0);y(e,u.HotspotLocations.INVITE_SPLASH_GUILD_HEADER_TOOLTIP,a.DismissibleContent.GUILD_HEADER_INVITE_SPLASH)&&(t=!0);return t},cleanup:function(){i.default.remove("hidePremiumPromo");i.default.remove("hidePremiumTier2TrialEnding");i.default.remove("hidePremiumReactivateNotice")}},{version:14,run:function(e){return y(e,u.HotspotLocations.ACTIVITY_BEB_TUTORIAL,a.DismissibleContent.ACTIVITIES_TUTORIAL_COACH_MARK)},cleanup:function(){}},{version:15,run:function(e){return y(e,u.HotspotLocations.NOW_PLAYING_CONSENT_CARD,a.DismissibleContent.NOW_PLAYING_CONSENT_CARD)},cleanup:function(){}},{
version:16,run:function(e){var t=i.default.get("PromotionsPersistedStore");if(null==t)return!1;var n=t._state.lastDismissedOutboundPromotionStartDate;if(null!=n){null==e.userContent&&(e.userContent=a.UserContentSettings.create());if(null==e.userContent.lastDismissedOutboundPromotionStartDate){e.userContent.lastDismissedOutboundPromotionStartDate=o.StringValue.create({value:n});return!0}}return!1},cleanup:function(){}},{version:17,run:function(e){var t=r.default.PersistedStore.migrateAndReadStoreState("ExpressionSuggestionsPersistedStore",null).state;if(null==t)return!1;var n=t.expressionSuggestionsEnabled;if(null!=n){null==e.textAndImages&&(e.textAndImages=a.TextAndImagesSettings.create());if(null==e.textAndImages.expressionSuggestionsEnabled){e.textAndImages.expressionSuggestionsEnabled=o.BoolValue.create({value:n});return!0}}return!1},cleanup:function(){i.default.remove("ExpressionSuggestionsPersistedStore")}},{version:18,run:function(e){var t=!1
;y(e,u.HotspotLocations.GUILD_DELETE_FEEDBACK,a.DismissibleContent.GUILD_DELETE_FEEDBACK)&&(t=!0);y(e,u.HotspotLocations.GUILD_LEAVE_FEEDBACK,a.DismissibleContent.GUILD_LEAVE_FEEDBACK)&&(t=!0);return t},cleanup:function(){}}];t.default=h},859566:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=f(n(496486)),a=f(n(636602)),o=f(n(933411)),i=f(n(562497)),u=f(n(228087)),l=n(828593),s=f(n(960441)),c=n(840433),d=n(770348);function f(e){return e&&e.__esModule?e:{default:e}}var p={init:function(){u.default[c.UserSettingsTypes.PRELOADED_USER_SETTINGS]=i.default;u.default[c.UserSettingsTypes.FRECENCY_AND_FAVORITES_SETTINGS]=o.default;a.default.subscribe(d.ActionTypes.CONNECTION_OPEN,v);a.default.subscribe(d.ActionTypes.USER_SETTINGS_PROTO_ENQUEUE_UPDATE,y);a.default.subscribe(d.ActionTypes.USER_SETTINGS_PROTO_LOAD_IF_NECESSARY,h);a.default.subscribe(d.ActionTypes.APP_STATE_UPDATE,m)}};t.default=p;function v(){
var e=s.default.getFullState(),t=e[c.UserSettingsTypes.PRELOADED_USER_SETTINGS];t.editInfo.triggeredMigrations&&l.PreloadedUserSettingsActionCreators.markDirtyFromMigration(t.proto,t.editInfo.cleanupFuncs);r.default.forEach(l.UserSettingsActionCreatorsByType,(function(t,n){null!=e[Number(n)].editInfo.offlineEditDataVersion&&t.scheduleSaveFromOfflineEdit()}))}function y(e){var t=e.settings,n=t.proto,r=t.type,a=e.delaySeconds,o=e.jitter;l.UserSettingsActionCreatorsByType[r].markDirty(n,{delaySeconds:a,jitter:o})}function h(e){var t=e.settingsType;l.UserSettingsActionCreatorsByType[t].loadIfNecessary()}function m(e){var t=e.state;"inactive"!==t&&"background"!==t||r.default.forEach(l.UserSettingsActionCreatorsByType,(function(e,t){if(null!=s.default.getFullState()[Number(t)].editInfo.timeout){e.logger.log("Triggering persistChanges due to AppStateUpdate");e.persistChanges()}}))}},197105:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=h
;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=f(n(740207)),u=n(145122),l=f(n(999607)),s=f(n(635014)),c=n(758956),d=f(n(247001));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function h(){var e=(0,o.useStateFromStores)([s.default],(function(){return(0,c.amplitudeToPerceptual)(s.default.getInputVolume())}));return v(u.MenuControlItem,{id:"input",label:d.default.Messages.FORM_LABEL_INPUT_VOLUME,control:function(t,n){return a.createElement(l.default,y({},t,{ref:n,value:e,onChange:function(e){return i.default.setInputVolume((0,c.perceptualToAmplitude)(e))},"aria-label":d.default.Messages.FORM_LABEL_INPUT_VOLUME}))}})}h.displayName="useInputDeviceVolumeItem"},989546:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.default=function(){var e=!l.isPlatformEmbedded,t=(0,a.useStateFromStores)([u.default],(function(){return u.default.getMode()})),n=function(e,n){return p(i.MenuRadioItem,{id:e,group:"input-modes",label:n,checked:t===e,action:function(){return o.default.setMode(e)}},e)};return[n(s.InputModes.VOICE_ACTIVITY,c.default.Messages.INPUT_MODE_VAD),n(s.InputModes.PUSH_TO_TALK,e?c.default.Messages.INPUT_MODE_PTT_LIMITED:c.default.Messages.INPUT_MODE_PTT)]};!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=n(536211),o=d(n(740207)),i=n(145122),u=d(n(635014)),l=n(864489),s=n(770348),c=d(n(247001))
;function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},793963:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=m;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),i=p(n(740207)),u=n(145122),l=p(n(999607)),s=p(n(635014)),c=n(758956),d=n(864489),f=p(n(247001));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(){h=Object.assign||function(e){
for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return h.apply(this,arguments)}function m(){var e=(0,o.useStateFromStores)([s.default],(function(){return(0,c.amplitudeToPerceptual)(s.default.getOutputVolume())}));return y(u.MenuControlItem,{id:"output",label:f.default.Messages.FORM_LABEL_OUTPUT_VOLUME,control:function(t,n){return a.createElement(l.default,h({},t,{ref:n,value:e,maxValue:d.isPlatformEmbedded?200:100,onChange:function(e){return i.default.setOutputVolume((0,c.perceptualToAmplitude)(e))},"aria-label":f.default.Messages.FORM_LABEL_OUTPUT_VOLUME}))}})}m.displayName="useOutputDeviceVolumeItem"},914905:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.showInvalidUsernameToast=function(){(0,o.showToast)((0,a.createToast)(i.default.Messages.USER_SETTINGS_UPDATE_FAILURE,a.ToastType.FAILURE))};var r,a=n(767019),o=n(143586),i=(r=n(247001))&&r.__esModule?r:{default:r}},
712594:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){return(0,r.useStateFromStores)([a.default],(function(){return(0,o.default)(a.default)}))};var r=n(536211),a=i(n(635014)),o=i(n(895355));function i(e){return e&&e.__esModule?e:{default:e}}},203737:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){if(t.type===o.ParticipantTypes.ACTIVITY)return null;return a.default.getName(e.getGuildId(),e.id,t.user)};var r,a=(r=n(29652))&&r.__esModule?r:{default:r},o=n(859089)},183612:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t,n;return e.type!==r.ParticipantTypes.ACTIVITY&&((0,r.isStreamParticipant)(e)?null!=e.streamId:null!==(t=null===(n=e.voiceState)||void 0===n?void 0:n.selfVideo)&&void 0!==t&&t)};var r=n(859089)},373115:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=(0,
a.useStateFromStoresObject)([o.default],(function(){var e,t,n=null===(e=null===(t=(0,r.default)(o.default.getVideoDevices()).values().first())||void 0===t?void 0:t.disabled)||void 0===e||e;return{enabled:o.default.isVideoEnabled(),cameraUnavailable:n||!o.default.supports(i.Features.VIDEO)}})),t=e.enabled,n=e.cameraUnavailable;return{enabled:t,cameraUnavailable:n}};var r=u(n(496486)),a=n(536211),o=u(n(635014)),i=n(376293);function u(e){return e&&e.__esModule?e:{default:e}}},105847:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;t.getDeafStates=l;var r=n(536211),a=u(n(423046)),o=u(n(635014)),i=u(n(387692));function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n,r){var u;void 0===t&&(t=i.default);void 0===n&&(n=o.default);void 0===r&&(r=a.default);var l=null!=e?t.getVoiceState(e.getGuildId(),r.getId()):null;return{selfDeaf:n.isSelfDeaf(),deaf:null!==(u=null==l?void 0:l.deaf)&&void 0!==u&&u}}var s=function(e){return(0,
r.useStateFromStoresObject)([i.default,o.default,a.default],(function(){return l(e,i.default,o.default,a.default)}))};t.default=s},423405:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;t.getMuteStates=d;var r=n(536211),a=c(n(686305)),o=c(n(423046)),i=c(n(635014)),u=c(n(689389)),l=c(n(387692)),s=n(770348);function c(e){return e&&e.__esModule?e:{default:e}}function d(e){var t,n=e.channel,r=e.authenticationStore,c=void 0===r?o.default:r,d=e.voiceStateStore,f=void 0===d?l.default:d,p=e.mediaEngineStore,v=void 0===p?i.default:p,y=e.permissionStore,h=void 0===y?u.default:y,m=e.viewAsRoleStore,_=void 0===m?a.default:m,g=null!=n?f.getVoiceState(n.getGuildId(),c.getId()):null,E=v.isSelfMute()||v.isSelfMutedTemporarily(),O=null==n?void 0:n.getGuildId(),S=_.isViewingRoles(O)&&!h.can(s.Permissions.SPEAK,n);return{selfMute:E,suppress:(null==g?void 0:g.suppress)||S,mute:null!==(t=null==g?void 0:g.mute)&&void 0!==t&&t}}var f=function(e){return(0,
r.useStateFromStoresObject)([o.default,l.default,i.default,u.default,a.default],(function(){return d({channel:e,authenticationStore:o.default,voiceStateStore:l.default,mediaEngineStore:i.default,permissionStore:u.default,viewAsRoleStore:a.default})}))};t.default=f},830543:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Avatars=G;t.TileSize=void 0;t.default=x;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=D(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),i=w(n(294184)),u=n(536211),l=n(556470),s=w(n(303798)),c=w(n(516325)),d=w(n(474177)),f=w(n(93879)),p=w(n(933577)),v=w(n(769195)),y=w(n(697749)),h=w(n(322946)),m=w(n(469487)),_=w(n(423046)),g=w(n(689389)),E=w(n(728429)),O=w(n(956117)),S=n(645758),b=n(730977),I=w(n(628551)),C=w(n(152731)),T=n(71246),A=w(n(29652)),P=n(770348),M=n(942675),N=w(n(247001)),R=w(n(854911));function w(e){return e&&e.__esModule?e:{default:e}}function D(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(D=function(e){return e?n:t})(e)}function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return
;if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function j(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}t.TileSize=a
;!function(e){e[e.SMALL=0]="SMALL";e[e.MEDIUM=1]="MEDIUM";e[e.LARGE=2]="LARGE"}(a||(t.TileSize=a={}));var U=["embedded_background"];function G(e){var t=e.avatarSize,n=e.guildId,r=e.users,a=null!=t?t:M.Sizes.SIZE_32,o=(0,M.getAvatarSize)(a);return j(C.default,{size:o,guildId:n,users:r,max:4,renderUser:function(e){return null==e?null:j(b.TooltipContainer,{text:e.username,color:b.TooltipColors.GREY},e.id,j("img",{src:e.getAvatarURL(n,o),alt:e.username,className:R.default.avatar},e.id))}})}G.displayName="Avatars";function F(e){var t,n,r,o,d,f=e.participants,p=e.application,v=e.currentEmbeddedApplication,h=e.channel,m=e.width,b=function(e){return e>400?a.LARGE:e>300?a.MEDIUM:a.SMALL}(m),C=function(e){return e>400?[I.default.Sizes.SIZE_56,56]:e>300?[I.default.Sizes.SIZE_32,32]:[I.default.Sizes.SIZE_24,24]}(m),M=L(C,1)[0],w=(0,u.useStateFromStoresArray)([E.default,_.default],(function(){return Array.from(f).map((function(e){return _.default.getId()===e?null:E.default.getUser(e)
})).filter(T.isNotNullish)})),D=(0,u.useStateFromStores)([s.default],(function(){return s.default.getEmbeddedActivitiesForChannel(h.id).find((function(e){return e.application_id===p.id}))})),k=(0,l.useAnalyticsContext)(),U=null!==(t=A.default.getName(h.getGuildId(),h.id,null==w?void 0:w[0]))&&void 0!==t?t:null==w||null===(n=w[0])||void 0===n?void 0:n.username,F=(0,u.useStateFromStores)([g.default],(function(){return g.default.can(P.Permissions.USE_EMBEDDED_ACTIVITIES,h)}),[h]),x=null!==(r=h.getGuildId())&&void 0!==r?r:void 0;return j("div",{className:R.default.splash},void 0,j(G,{avatarSize:M,guildId:x,users:w}),j(S.Text,{className:(0,i.default)(R.default.subheader,(o={},o[R.default.small]=b===a.SMALL,o[R.default.medium]=b===a.MEDIUM,o)),variant:"text-sm/normal"},void 0,w.length>1?N.default.Messages.EMBEDDED_ACTIVITIES_USERNAME_AND_OTHERS.format({username:U,count:w.length-1}):N.default.Messages.EMBEDDED_ACTIVITIES_IS_PLAYING.format({username:U})),j(S.Text,{className:(0,
i.default)(R.default.header,(d={},d[R.default.small]=b===a.SMALL,d[R.default.medium]=b===a.MEDIUM,d)),variant:"text-sm/normal"},void 0,p.name),j("div",{className:R.default.buttons},void 0,F?j(O.default,{size:function(e){switch(e){case a.LARGE:return O.default.Sizes.LARGE;case a.MEDIUM:return O.default.Sizes.MEDIUM;case a.SMALL:return O.default.Sizes.SMALL}}(b),className:R.default.button,color:O.default.Colors.PRIMARY,onClick:function(e){e.stopPropagation();null!=D&&(0,c.default)({activity:D,currentEmbeddedApplication:v,activityChannelId:h.id,locationObject:k.location,embeddedActivitiesManager:y.default})}},void 0,N.default.Messages.EMBEDDED_ACTIVITIES_JOIN_ACTIVITY):null))}F.displayName="Splash";function x(e){var t=e.participant,n=e.width,r=e.selected,a=e.interactible,i=e.channel,u=t.id,l=(0,d.default)(),s=(null==l?void 0:l.channelId)===i.id&&l.application_id===u,c=(0,f.default)(),y=L((0,m.default)([u]),1)[0],_=(0,p.default)({applicationId:u,names:U,size:1024
}).url,g=!r&&s,E=!s,O=!s&&!r;return j("div",{className:R.default.container},void 0,o.createElement(o.Fragment,null,g&&j(v.default,{className:R.default.iframe,embedId:(0,h.default)(i.id,u)}),E&&null!=y&&null!=_&&""!==_?j("img",{className:R.default.splashImage,alt:y.name,src:_}):null,O&&null!=y&&j(F,{width:n,channel:i,participants:t.participants,application:y,currentEmbeddedApplication:c}),a||E?null:j("div",{className:R.default.clickShield})))}x.displayName="ActivityTile"},611456:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e
;n&&n.set(e,r);return r}(n(667294)),a=i(n(294184)),o=i(n(917507));function i(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}var l=r.forwardRef((function(e,t){var n,i=e.children,u=e.className,l=e.style,s=e.noBorder,c=void 0!==s&&s,d=e.participantUserId;return r.createElement("div",{className:(0,a.default)(u,o.default.tile,(n={},n[o.default.noBorder]=c,n)),style:l,ref:t,"data-selenium-video-tile":d},i)}));t.default=l},440556:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=u(n(294184)),i=u(n(969600));function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return c.apply(this,arguments)}function d(e,t){
d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return d(e,t)}var f=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;d(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).state={aStreamId:null,aReady:!1,bStreamId:t.props.streamId,bReady:!0};t.handleReady=function(){t.state.aReady?t.setState({bReady:!0,aStreamId:null,aReady:!1}):t.setState({aReady:!0,bStreamId:null,bReady:!1})};t.handleDoubleClick=function(e){var n=t.props,r=n.onDoubleClick,a=n.id;null==r||r(e,a)};t.handleContextMenu=function(e){var n=t.props,r=n.onContextMenu,a=n.id;null==r||r(e,a)};return t}t.getDerivedStateFromProps=function(e,t){var n=e.streamId;if(t.aReady){if(n!==t.aStreamId)return null==n?{bStreamId:n,bReady:!0,aStreamId:null,aReady:!1}:{bStreamId:n,bReady:!1}}else if(n!==t.bStreamId)return null==n?{aStreamId:n,aReady:!0,bStreamId:null,bReady:!1}:{aStreamId:n,aReady:!1
};return null};var n=t.prototype;n.renderVideo=function(e,t){var n=this.props,r=n.children,o=n.mirror,u=n.paused,l=n.component;if(null==e){if(null==r)return null;var d=a.Children.only(r);return a.cloneElement(d,c({style:{display:t&&!o?void 0:"none"}},d.props))}return s(l,{paused:u,className:i.default.media,streamId:e,onReady:t?null:this.handleReady})};n.render=function(){var e,t=this.props,n=t.mirror,r=t.className;return s("div",{className:(0,o.default)(i.default.video,r,(e={},e[i.default.mirror]=n,e)),onDoubleClick:this.handleDoubleClick,onContextMenu:this.handleContextMenu},void 0,this.renderVideo(this.state.aStreamId,this.state.aReady),this.renderVideo(this.state.bStreamId,this.state.bReady))};return t}(a.PureComponent);f.displayName="BufferedVideo";f.defaultProps={paused:!0};var p=f;t.default=p},709578:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.CallTileOverlay=t.CallTileFit=void 0
;var r,a=z(n(667294)),o=H(n(294184)),i=n(536211),u=H(n(740207)),l=H(n(284382)),s=H(n(66384)),c=H(n(143493)),d=H(n(100205)),f=n(625905),p=H(n(423046)),v=H(n(635014)),y=H(n(16941)),h=n(645758),m=H(n(730977)),_=z(n(971146)),g=H(n(337322)),E=H(n(79027)),O=H(n(428990)),S=H(n(324582)),b=H(n(287317)),I=H(n(68259)),C=H(n(775803)),T=H(n(149982)),A=H(n(335709)),P=H(n(203737)),M=H(n(830543)),N=H(n(611456)),R=z(n(55055)),w=H(n(522503)),D=n(227482),L=H(n(700598)),k=n(770348),j=n(859089),U=n(378542),G=n(376293),F=H(n(247001)),x=H(n(32599)),W=["onClick"],B=["onClick"],V=["onClick"];function H(e){return e&&e.__esModule?e:{default:e}}function Y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(Y=function(e){return e?n:t})(e)}function z(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=Y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function K(){K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return K.apply(this,arguments)}function $(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}function q(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}
function X(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}
var Z=a.memo((function(e){var t,n,r,h,m=e.participant,g=e.onDoubleClick,O=e.onContextMenu,S=e.onClick,b=e.onMouseDown,I=e.onKeyDown,C=e.className,T=e.style,A=e.channel,D=e.width,F=e.inPopout,W=e.onVideoResize,B=e.inCall,V=void 0!==B&&B,H=e.selected,Y=void 0!==H&&H,z=e.noBorder,K=void 0!==z&&z,$=e.noVideoRender,Q=void 0!==$&&$,Z=e.focused,J=void 0!==Z&&Z,ee=e.blocked,te=void 0!==ee&&ee,ne=e.fit,ae=void 0===ne?_.default.Fit.CONTAIN:ne,oe=e.paused,ie=void 0!==oe&&oe,ue=e.pulseSpeakingIndicator,le=void 0!==ue&&ue,se=a.useContext(f.IdleStateContext),ce=X(a.useState(!1),2),de=ce[0],fe=ce[1],pe=(0,i.useStateFromStores)([p.default],(function(){return p.default.getId()})),ve=m.type===j.ParticipantTypes.ACTIVITY?null:null===(t=m.user)||void 0===t?void 0:t.id,ye=(0,i.useStateFromStores)([v.default],(function(){return null!=ve&&v.default.isLocalVideoDisabled(ve,(0,s.default)(m.type))}),[ve,m.type]),he=(0,L.default)(m,pe),me=he.speaking,_e=he.muted,ge=he.deafen,Ee=he.ringing,Oe=he.hasVideo,Se=(0,
i.useStateFromStores)([v.default],(function(){return null!=ve&&v.default.isLocalMute(ve,(0,s.default)(m.type))}),[ve,m.type]),be=m.type===j.ParticipantTypes.STREAM&&ve===pe;a.useEffect((function(){fe(J)}),[J]);var Ie=a.useCallback((function(){null!=ve&&u.default.toggleLocalMute(ve,G.MediaEngineContextTypes.STREAM)}),[ve]),Ce=a.useCallback((function(e){null==S||S(m,e)}),[S,m]),Te=a.useCallback((function(e){null==g||g(m,e)}),[g,m]),Ae=a.useCallback((function(e){null==O||O(m,e)}),[O,m]),Pe=null,Me=null,Ne=!0;switch(m.type){case j.ParticipantTypes.STREAM:Pe=q(R.default,{participant:m,selected:Y,width:D,fit:ae,onVideoResize:W,paused:ie,inPopout:F});Me=q(R.StreamTileIndicators,{participant:m,selected:Y,width:D,focused:J,idle:se});Ne=!1;break;case j.ParticipantTypes.USER:Pe=q(w.default,{channel:A,inCall:V,participant:m,fit:ae,onVideoResize:W,paused:ie,selected:Y,width:D,blocked:te,noVideoRender:Q,pulseSpeakingIndicator:le});break;case j.ParticipantTypes.ACTIVITY:Pe=q(M.default,{
interactible:J,participant:m,selected:Y,channel:A,width:D});break;case j.ParticipantTypes.HIDDEN_STREAM:Pe=q(R.default,{participant:m,selected:Y,width:D,fit:ae,onVideoResize:W,paused:ie,inPopout:F})}var Re=a.useRef(null);return q(l.default,{section:k.AnalyticsSections.VOICE_CHANNEL_TILE},void 0,q("div",{className:(0,o.default)(x.default.wrapper,(n={},n[x.default.ringing]=Ee,n),C)},void 0,q(d.default,{shakeLocation:U.ShakeLocation.VOICE_USER,isShaking:me,className:x.default.tile},void 0,a.createElement(N.default,{ref:Re,className:(0,o.default)(x.default.tile,(r={},r[x.default.noBorder]=K,r[x.default.noInteraction]=null==S,r[x.default.idle]=se,r[x.default.videoLayer]=Ne,r)),noBorder:K,style:T,participantUserId:ve},q(y.default,{focusProps:{ringTarget:Re,offset:1},onDoubleClick:Te,onContextMenu:Ae,onClick:Ce,onMouseDown:b,onKeyDown:I,className:x.default.tileChild},void 0,Pe,K?null:q("div",{className:x.default.indicators},void 0,Me),Y?q("div",{className:x.default.selectedScreen
},void 0,q(E.default,{className:x.default.selectedIcon})):null,m.type!==j.ParticipantTypes.ACTIVITY?q(re,{focused:J,width:D,inCall:V,participantType:m.type,hasVideo:null!=Oe&&Oe,muted:_e,deafen:ge,idle:se,title:(0,P.default)(A,m),blocked:te,localMute:Se,localVideoDisabled:ye,hideAudioIcon:be,onContextMenu:Ae,onToggleMute:Ie}):null,V&&!K?q("div",{className:(0,o.default)(x.default.border,(h={},h[x.default.speaking]=me&&!J,h))}):null)),q(c.default,{isFiring:de,callTileRef:Re.current}))))}));Z.displayName="CallTile";var J=q(A.default,{}),ee=q(T.default,{}),te=q(C.default,{}),ne=q("div",{}),re=a.memo((function(e){var t,n,r=e.muted,i=e.deafen,u=e.idle,l=e.title,s=e.width,c=e.hasVideo,d=e.inCall,f=e.localMute,p=e.localVideoDisabled,_=e.focused,C=e.blocked,T=e.hideAudioIcon,A=e.participantType,P=e.onContextMenu,M=e.onToggleMute,N=null,R=null,w=null,L=(0,D.isVideoCompact)(s),U=(0,D.isNamesCompact)(s);if(!T)if(i||r||f){var H;N=q(i?S.default:b.default,{foreground:(0,o.default)((H={},
H[x.default.localMuteStrikethrough]=f&&!i,H)),className:x.default.status});f&&A===j.ParticipantTypes.STREAM&&c&&!_&&(N=q(m.default,{text:F.default.Messages.UNMUTE},void 0,(function(e){var t=e.onClick,n=$(e,W);return a.createElement(y.default,K({},n,{onClick:function(e){e.stopPropagation();null==t||t();M()},className:(0,o.default)(x.default.status,x.default.interactive)}),J)})))}else f||A!==j.ParticipantTypes.STREAM||!c||L||_||(N=q(m.default,{text:F.default.Messages.MUTE},void 0,(function(e){var t=e.onClick,n=$(e,B);return a.createElement(y.default,K({},n,{onClick:function(e){e.stopPropagation();null==t||t();M()},className:(0,o.default)(x.default.status,x.default.interactive,x.default.toggleMute)}),ee)})));d&&v.default.supports(G.Features.VIDEO)||!c||(R=q(E.default,{className:x.default.status}));d&&c&&p&&(R=q(O.default,{className:x.default.status,foreground:x.default.localMuteStrikethrough}));A===j.ParticipantTypes.STREAM&&!_&&c&&(w=q(m.default,{text:F.default.Messages.OPTIONS
},void 0,(function(e){var t=e.onClick,n=$(e,V);return a.createElement(y.default,K({},n,{onClick:function(e){e.stopPropagation();null==t||t();P(e)},className:(0,o.default)(x.default.status,x.default.interactive)}),te)})));return q("div",{className:(0,o.default)(x.default.overlay,(t={},t[x.default.small]=s<195,t))},void 0,U||_?ne:q(h.Text,{className:(0,o.default)(x.default.overlayTitle,(n={},n[x.default.idle]=u,n)),color:"none",variant:"text-md/normal"},void 0,C?q("div",{className:x.default.blocked},void 0,q(g.default,{className:x.default.blockedIcon,color:k.Colors.STATUS_RED})):null,A===j.ParticipantTypes.STREAM&&q(I.default,{className:x.default.titleIcon}),null!=l&&""!==l?q("span",{className:x.default.overlayTitleText},void 0,l):null),q("div",{className:x.default.statusContainer},void 0,R,N,w))}));t.CallTileOverlay=re;re.displayName="CallTileOverlay";var ae=_.VideoStreamFit;t.CallTileFit=ae;var oe=Z;t.default=oe},288146:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{
value:!0});t.CallTileCTA=v;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=c(n(294184)),i=c(n(956117)),u=c(n(730977)),l=c(n(760443)),s=["onClick"];function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(){p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return p.apply(this,arguments)}function v(e){var t=e.children,n=e.onClick,r=e.className,c=e.tooltip;return f(u.default,{text:c},void 0,(function(e){var u=e.onClick,c=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,s);return a.createElement(i.default,p({},c,{onClick:function(e){null==n||n(e);null==u||u()},innerClassName:l.default.buttonReset,color:(0,o.default)(l.default.cta,r),size:i.default.Sizes.MIN}),t)}))}v.displayName="CallTileCTA"},921532:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0
});t.default=m;var r,a=f(n(667294)),o=c(n(972247)),i=n(365561),u=f(n(709578)),l=n(770348),s=c(n(974777));function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3]
;t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h="CameraPreviewPosition";function m(e){var t=e.width,n=e.onContextMenuParticipant,r=e.height,c=e.channel,d=e.participants,f=function(){var e=v(a.useState((function(){return o.default.get(h,l.PictureInPicturePositions.BOTTOM_RIGHT)})),2),t=e[0],n=e[1];return[t,a.useCallback((function(e){o.default.set(h,e);n(e)}),[])]}(),y=v(f,2),m=y[0],_=y[1],g=a.useRef(null),E=null==c.getGuildId()?70:50;a.useLayoutEffect((function(){var e;null===(e=g.current)||void 0===e||e.ensureIsInPosition()}),[d.length]);return p("div",{className:s.default.container},void 0,a.createElement(i.PictureInPictureWindow,{position:m,id:0,ref:g,onMove:function(e,t){return _(t)},maxX:t,maxY:r,edgeOffsetTop:E,edgeOffsetBottom:70,edgeOffsetLeft:16,
edgeOffsetRight:16},p("div",{className:s.default.tileContainer},void 0,d.map((function(e){return p(u.default,{participant:e,channel:c,onContextMenu:n,className:s.default.tile,fit:u.CallTileFit.COVER,inCall:!0,inPopout:!1,width:160})})))))}m.displayName="CameraPreview"},839166:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GoLiveButton=Oe;t.default=Ce;t.handleToggleVideo=Ee
;var r,a,o=ve(n(667294)),i=fe(n(294184)),u=fe(n(441143)),l=n(248088),s=n(536211),c=fe(n(740207)),d=fe(n(136873)),f=n(123516),p=fe(n(284382)),v=n(556470),y=fe(n(213847)),h=n(433383),m=n(836233),_=n(746920),g=ve(n(303798)),E=n(186096),O=fe(n(198016)),S=n(695475),b=n(245546),I=fe(n(151120)),C=fe(n(469487)),T=fe(n(825724)),A=fe(n(190320)),P=fe(n(932018)),M=fe(n(590087)),N=n(747868),R=fe(n(379310)),w=fe(n(908921)),D=n(902399),L=fe(n(604686)),k=fe(n(620859)),j=fe(n(134893)),U=fe(n(222935)),G=fe(n(605520)),F=fe(n(643779)),x=fe(n(67286)),W=fe(n(401311)),B=fe(n(607576)),V=fe(n(305914)),H=fe(n(735319)),Y=fe(n(645675)),z=fe(n(607209)),K=fe(n(635014)),$=fe(n(689389)),q=fe(n(211136)),X=fe(n(728429)),Q=fe(n(160629)),Z=fe(n(373115)),J=fe(n(431388)),ee=fe(n(770404)),te=fe(n(423405)),ne=fe(n(336940)),re=fe(n(493051)),ae=fe(n(152803)),oe=fe(n(310261)),ie=fe(n(30269)),ue=n(770348),le=n(859089),se=fe(n(247001)),ce=fe(n(716698)),de=["onClick"];function fe(e){return e&&e.__esModule?e:{default:e}}
function pe(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(pe=function(e){return e?n:t})(e)}function ve(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=pe(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function ye(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||he(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function he(e,t){if(e){if("string"==typeof e)return me(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?me(e,t):void 0}}function me(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _e(){_e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return _e.apply(this,arguments)}function ge(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function Ee(e,t){if(K.default.isVideoEnabled()!==e){var n=function(){return c.default.setVideoEnabled(e)};e?(0,ie.default)(n,t):n()}}function Oe(e){var t=e.channel,n=e.currentUser,r=e.exitFullScreen,a=e.canGoLive,i=e.coloring,u=e.hasPermission,l=(0,h.useAppContext)(),c=(0,s.useStateFromStoresArray)([z.default],(function(){return z.default.getAllActiveStreams()})).find((function(e){return e.ownerId===n.id})),d=t.getGuildId(),f=o.useCallback((function(){null==r||r();if(!a)return(0,ae.default)();(0,oe.default)(d,t.id,ue.AnalyticsPages.GUILD_CHANNEL)}),[d,t.id,a,r]),p=null!=c;return ge(j.default,{},void 0,ge(Q.default,{renderPopout:function(e){var r=e.closePopout;return ge(U.default,{},void 0,ge(ne.default,{channel:t,currentUser:n,activeStreams:null!=c?[c]:[],handleGoLive:f,
onClose:r,appContext:l}))},position:Q.default.Positions.TOP,align:Q.default.Align.CENTER,animation:Q.default.Animation.FADE},void 0,(function(e,t){var n=t.isShown,r=e.onClick,l=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,de);return ge("div",{},void 0,null!=c?o.createElement(V.default,_e({},l,{color:i[1],centerButton:!0,className:ce.default.controlButton,onClick:function(){return(0,w.default)(c)},isSelfStream:!0,onPopoutClick:p?r:null,popoutOpen:n,shouldShowTooltip:!n})):o.createElement(H.default,_e({},l,{centerButton:!0,color:i[0],className:ce.default.controlButton,hasPermission:u,onClick:a?f:ae.default,onPopoutClick:p?r:null,popoutOpen:n,shouldShowTooltip:!n})))})))}Oe.displayName="GoLiveButton";function Se(e){var t=e.channel,n=(0,h.useAppContext)()===ue.AppContext.POPOUT,r=(0,s.useStateFromStores)([$.default],(function(){
return $.default.can(ue.Permissions.USE_EMBEDDED_ACTIVITIES,t)&&null!=t.guild_id}),[t]),a=t.getGuildId(),i=(0,O.default)(a)&&null!=a,u=ye((0,s.useStateFromStores)([g.default],(function(){return null!=t.id?g.default.getEmbeddedActivitiesForChannel(t.id):g.NO_ACTIVITIES})),1)[0],l=ye((0,C.default)(null!=u?[u.application_id]:[]),1)[0],c=(0,s.useStateFromStores)([g.default],(function(){return g.default.isLaunchingActivity()})),d=(0,v.useAnalyticsContext)();o.useEffect((function(){null!=a&&(0,_.fetchShelf)(a)}),[a]);var f=(0,E.useFreeActivityIndicator)({guildId:a}).shouldShowFreeIndicator;if(!i)return null;var p=!r||c,y=null!=u&&null!=l;return ge("div",{className:ce.default.buttonContainer},void 0,ge(G.default,{className:ce.default.controlButton,disabled:p,label:r?se.default.Messages.EMBEDDED_ACTIVITIES_START_AN_ACTIVITY:se.default.Messages.EMBEDDED_ACTIVITIES_INVALID_PERMISSIONS,isActivityActive:y,onClick:function(){(0,I.default)({channel:t,guildId:t.guild_id,locationObject:d.location,
openInPopout:n})}}),f?ge(b.FreeActivityIndicatorDot,{top:4,right:10,size:12,maskColor:b.MaskColor.BLACK}):null)}Se.displayName="ConnectedActivityButton";!function(e){e.ACTIVITY="ACTIVITY";e.STREAM="STREAM";e.CALL="CALL";e.EVENT="EVENT"}(a||(a={}));var be=o.memo((function(e){var t,n=e.connectedActivityApplicationId,r=e.currentUser,i=e.onDisconnectCall,u=e.channel,c=(0,s.useStateFromStores)([T.default],(function(){return T.default.getSelectedParticipant(u.id)})),p=o.useContext(m.AccessibilityPreferencesContext).reducedMotion,v=ye(o.useState(!1),2),y=v[0],h=v[1],g=null==c?void 0:c.id,E=(0,s.useStateFromStores)([z.default],(function(){return null!=g?z.default.getActiveStreamForStreamKey(g):null}),[g]),O=(null==c?void 0:c.type)===le.ParticipantTypes.STREAM&&null!=E&&E.ownerId!==(null==r?void 0:r.id),b=(0,s.useStateFromStoresArray)([z.default],(function(){return z.default.getAllActiveStreamsForChannel(u.id).filter((function(e){return e.ownerId!==(null==r?void 0:r.id)}))})),I=(0,
D.useActiveEvent)(u.id),C=o.useCallback((function(){return(null==c?void 0:c.type)===le.ParticipantTypes.ACTIVITY&&c.id===n?a.ACTIVITY:O?a.STREAM:null!=I?a.EVENT:a.CALL}),[c,n,O,I]),A=ye(o.useState(C()),2),P=A[0],M=A[1],R=(0,l.useSpring)({opacity:y?.2:1,transform:y&&!p.enabled?"scale(0.7)":"scale(1)",config:{mass:2,tension:y?600:1e3,friction:45,precision:.01,clamp:y},onRest:function(){M(C());h(!1)}});o.useEffect((function(){C()!==P&&h(!0)}),[P,C]);var w=(0,S.useWarnLastEligibleHost)({channelId:null!==(t=null==u?void 0:u.id)&&void 0!==t?t:""}),k=function(){if(null!=c&&null!=r){w()||(0,_.stopEmbeddedActivity)({channelId:u.id,applicationId:c.id})}},j=function(e,t){var n={centerButton:!0,className:ce.default.controlButton,popoutOpen:e};switch(P){case a.ACTIVITY:return o.createElement(x.default,_e({},n,{color:"red",onClick:k,onPopoutClick:b.length>0?t:null}));case a.STREAM:return o.createElement(V.default,_e({},n,{color:"red",onClick:function(){if(null!=E)(0,f.stopStream)((0,
N.encodeStreamKey)(E));else for(var e,t=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=he(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(b);!(e=t()).done;){var n=e.value;(0,f.stopStream)((0,N.encodeStreamKey)(n))}},onPopoutClick:b.length>1?t:null,isSelfStream:!1}));case a.CALL:return o.createElement(W.default,_e({},n,{color:"red",onClick:function(){d.default.disconnect();null==i||i()},onPopoutClick:b.length>0?t:null}));case a.EVENT:return ge(L.default,{guildId:u.guild_id,channelId:u.id,onClick:function(){d.default.disconnect();null==i||i()}})}};return ge(Q.default,{renderPopout:function(e){var t=e.closePopout;return ge(ne.default,{channel:u,currentUser:r,
activeStreams:b,handleGoLive:ue.NOOP_NULL,hideSelfOptions:!0,onClose:t})},position:Q.default.Positions.TOP,align:Q.default.Align.CENTER,animation:Q.default.Animation.FADE},void 0,(function(e,t){var n=e.onClick,r=t.isShown;return ge(l.animated.div,{style:R},void 0,j(r,n))}))}));function Ie(e){var t=e.channel,n=e.cameraUnavailable,r=e.hasCameraPermission,a=(0,h.useAppContext)(),u=(0,J.default)(t),l=u.reachedLimit,s=u.limit,c=o.useCallback((function(){(0,ie.default)((function(){return d.default.selectVoiceChannel(t.id,!0)}),a)}),[t.id,a]),f=o.useCallback((function(){d.default.selectVoiceChannel(t.id,!1)}),[t.id]),p=o.useCallback((function(){n?(0,re.default)():c()}),[n,c]);return o.createElement(o.Fragment,null,ge(Y.default,{enabled:!0,centerButton:!0,join:!0,color:"green",channelLimitReached:l,channelLimit:s,channel:t,cameraUnavailable:n,hasPermission:r,onCameraUnavailable:p,className:ce.default.controlButton,iconClassName:ce.default.joinIcon,onChange:c}),ge(F.default,{centerButton:!0,
color:"green",channel:t,className:(0,i.default)(ce.default.controlButton,ce.default.lastButton),onClick:f}))}function Ce(e){var t=e.channel,n=e.mode,r=e.className,a=e.onDisconnectCall,o=e.exitFullScreen,l=(0,s.useStateFromStores)([X.default],(function(){var e=X.default.getCurrentUser();(0,u.default)(null!=e,"CenterControlTray: currentUser cannot be undefined");return e})),c=(0,Z.default)(),d=c.cameraUnavailable,f=c.enabled,v=(0,ee.default)(t),h=(0,te.default)(t),m=h.suppress,_=h.selfMute,E=h.mute,O=m||_||E,S=(0,s.useStateFromStoresObject)([K.default],(function(){return{canGoLive:(0,R.default)(K.default)}})).canGoLive,b=(0,s.useStateFromStores)([q.default],(function(){return q.default.getVoiceChannelId()===t.id}),[t]),I=(0,s.useStateFromStores)([g.default],(function(){var e=g.default.getSelfEmbeddedActivityForChannel(t.id);return null!=e?e.application_id:null})),C=(0,J.default)(t),T=C.reachedLimit,N=C.limit,w=(0,y.default)();if(!b)return ge(Ie,{channel:t,cameraUnavailable:d,
hasCameraPermission:v});var D="primaryDark";n===ue.ChannelModes.VOICE&&(D=w===ue.ThemeTypes.LIGHT?"primaryLight":D);var L="white";n===ue.ChannelModes.VOICE&&(L=w===ue.ThemeTypes.LIGHT?"activeLight":L);return ge(p.default,{section:ue.AnalyticsSections.VOICE_CONTROL_TRAY},void 0,ge("div",{className:ce.default.eventPromptsContainer},void 0,ge(k.default,{guildId:t.guild_id,channelId:t.id})),ge("div",{className:(0,i.default)(ce.default.wrapper,r)},void 0,ge(Q.default,{renderPopout:function(e){var t=e.closePopout;return ge(U.default,{},void 0,ge(P.default,{onClose:t}))},position:Q.default.Positions.TOP,align:Q.default.Align.CENTER,animation:Q.default.Animation.FADE},void 0,(function(e,t){var n=e.onClick,r=t.isShown;return ge(Y.default,{centerButton:!0,color:f?L:D,hasPermission:v,className:ce.default.controlButton,enabled:f,cameraUnavailable:d,onChange:Ee,onCameraUnavailable:re.default,channelLimitReached:T,channelLimit:N,popoutOpen:r,onPopoutClick:n})})),ge(Se,{channel:t}),ge(Oe,{
coloring:[D,L],channel:t,currentUser:l,exitFullScreen:o,canGoLive:S,hasPermission:v}),ge(Q.default,{renderPopout:function(e){var t=e.closePopout;return ge(U.default,{},void 0,ge(A.default,{onClose:t,renderInputDevices:!0,renderOutputDevices:!0,renderInputModes:!0}))},align:Q.default.Align.CENTER,position:Q.default.Positions.TOP,animation:Q.default.Animation.FADE},void 0,(function(e,t){var n=e.onClick,r=t.isShown;return ge(B.default,{color:O?L:D,centerButton:!0,onPopoutClick:n,className:ce.default.controlButton,selfMute:_,serverMute:E,suppress:m,popoutOpen:r,onClick:function(){return(0,M.default)(E,m)}})})),ge(be,{connectedActivityApplicationId:I,currentUser:l,channel:t,onDisconnectCall:a})))}Ce.displayName="CenterControlTray"},828839:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=_(n(294184)),i=_(n(864345)),u=_(n(936353)),l=_(n(423046)),s=_(n(530250)),c=n(956506),d=_(n(170555)),f=_(n(508957)),p=_(n(151503)),v=_(n(232269)),y=n(770348),h=n(859089),m=_(n(367374));function _(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var O=(0,i.default)((function(e){var t=e.participants,n=e.filteredParticipants,r=e.selectedParticipant,i=e.participantsVersion,_=e.layout,g=e.onSelectParticipant,O=e.onContextMenuParticipant,S=e.onFullscreenParticipant,b=e.channel,I=e.hasConnectPermission,C=e.className,T=e.inCall,A=e.showParticipants,P=void 0===A||A,M=e.paused,N=void 0!==M&&M,R=e.width,w=e.height,D=e.idle,L=e.mode,k=e.popoutWindow;a.useEffect((function(){c.ComponentDispatch.dispatch(y.ComponentActions.REMEASURE_TARGET)}),[R,w]);var j=a.useMemo((function(){return n.filter((function(e){return e.type!==h.ParticipantTypes.ACTIVITY||!e.participants.has(l.default.getId())}))}),[n,i]);if((null==b?void 0:b.isVocal())&&!T)return E(d.default,{channel:b,participants:t,hasConnectPermission:I});if(L===y.ChannelModes.VOICE)return E(u.default,{guildId:b.guild_id,width:R,
className:m.default.voiceCallWrapper,participants:t,onContextMenu:O});n=T?n:t;return null==r?0===n.length?E(v.default,{className:(0,o.default)(m.default.videoGrid,m.default.hiddenParticipants),channelId:b.id,width:R}):E(s.default,{className:m.default.videoGridWrapper,justify:s.default.Justify.CENTER,align:s.default.Align.CENTER},void 0,E(f.default,{channel:b,className:m.default.videoGrid,participants:j,totalNumberOfParticipants:t.length,onClick:g,onDoubleClick:S,onContextMenu:O,paused:N,inCall:T})):E(p.default,{onFullscreenParticipant:S,onContextMenuParticipant:O,onSelectParticipant:g,selectedParticipant:r,filteredParticipants:j,participants:t,popoutWindow:k,className:C,idle:D,height:w,width:R,layout:_,inCall:T,channel:b,showParticipants:P})}));t.default=O},421622:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PARTICIPANTS_WIDTH=t.FORCE_HIDE_PARTICIPANTS_WIDTH=void 0;t.getPipParticipants=function(e,t,n){
if(null==t||t.type===i.ParticipantTypes.ACTIVITY)return[];return[t.type===i.ParticipantTypes.STREAM?e.find((function(e){return e.type===i.ParticipantTypes.USER&&e.id===(null==t?void 0:t.user.id)&&e.id!==n&&(0,o.default)(e)})):null,t.type===i.ParticipantTypes.USER?e.find((function(e){return e.type===i.ParticipantTypes.STREAM&&e.user.id===(null==t?void 0:t.user.id)&&null!=e.streamId})):null,t.id!==n?e.find((function(e){return e.type===i.ParticipantTypes.USER&&e.id===n&&(0,o.default)(e)})):null].filter(a.isNotNullish)};var r,a=n(71246),o=(r=n(183612))&&r.__esModule?r:{default:r},i=n(859089);t.PARTICIPANTS_WIDTH=228;t.FORCE_HIDE_PARTICIPANTS_WIDTH=684},170555:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;t.getParticipantNamesText=m;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=v(n(136873)),i=v(n(956117)),u=n(772575),l=n(645758),s=v(n(203737)),c=v(n(709578)),d=n(859089),f=v(n(247001)),p=v(n(657091));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,
ref:null,props:t,_owner:null}}function m(e,t){return 0===t.length?f.default.Messages.CURRENTLY_IN_VOICE_EMPTY:1===t.length?f.default.Messages.CURRENTLY_IN_VOICE_1.format({a:(0,s.default)(e,t[0])}):2===t.length?f.default.Messages.CURRENTLY_IN_VOICE_2.format({a:(0,s.default)(e,t[0]),b:(0,s.default)(e,t[1])}):t.length>2?f.default.Messages.CURRENTLY_IN_VOICE_2_N.format({a:(0,s.default)(e,t[0]),b:(0,s.default)(e,t[1]),n:t.length-2}):void 0}function _(e){var t=e.participants,n=e.channel,r=e.hasConnectPermission,s=t.filter(d.isUserParticipant),v=a.useCallback((function(){o.default.selectVoiceChannel(n.id)}),[n.id]),y=4===s.length?2:3;return h("div",{className:p.default.container},void 0,h("div",{className:p.default.tiles,style:{maxWidth:168*y}},void 0,s.slice(0,5).map((function(e){return h(c.default,{participant:e,channel:n,className:p.default.tile,paused:!0,inCall:!0,noVideoRender:!0,inPopout:!1,width:48},e.id)}))),h(u.Heading,{className:p.default.channelName,variant:"heading-xxl/medium",
level:3},void 0,n.name),h("div",{className:p.default.participantsRow},void 0,h(l.Text,{color:"header-secondary",variant:"text-sm/normal"},void 0,m(n,s))),h(i.default,{disabled:!r,className:p.default.joinButton,color:r?i.default.Colors.GREEN:i.default.Colors.PRIMARY,onClick:v,size:i.default.Sizes.MEDIUM},void 0,r?f.default.Messages.JOIN_VOICE:f.default.Messages.CHANNEL_LOCKED_SHORT))}_.displayName="ChannelCallEmpty";var g=_;t.default=g},508957:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=E;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=n(47354),i=n(536211),u=n(433383),l=m(n(185948)),s=n(689575),c=m(n(30098)),d=m(n(689389)),f=m(n(838696)),p=m(n(709578)),v=m(n(421417)),y=n(770348),h=m(n(946234));function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(e){var t=e.participants,n=e.onClick,r=e.onDoubleClick,m=e.onContextMenu,_=e.channel,E=e.className,O=e.inCall,S=e.totalNumberOfParticipants,b=e.paused,I=void 0!==b&&b,C=(0,
u.useAppContext)()===y.AppContext.POPOUT,T=(0,i.useStateFromStores)([c.default],(function(){return c.default.getGuild(_.guild_id)}),[_.guild_id]),A=(0,i.useStateFromStores)([d.default],(function(){return _.isPrivate()||(0,s.canViewInviteModal)(d.default,T,_)}),[T,_]),P=(null==T?void 0:T.afkChannelId)===_.id,M=_.userLimit<=0||_.userLimit>1,N=t.map((function(e){return function(t){return g(p.default,{participant:e,channel:_,className:h.default.tile,paused:I,onClick:n,onDoubleClick:r,onContextMenu:m,inCall:O,width:t,inPopout:C},e.id)}}));(0,l.default)({type:o.ImpressionTypes.VIEW,name:o.ImpressionNames.CHANNEL_CALL_VIDEO_GRID_VIEW,properties:{total_participants:S,can_invite:A,is_afk_channel:P,channel_user_limit:_.userLimit}},{trackOnInitialLoad:!0},[]);null!=T&&!P&&M&&1===S&&A&&N.push((function(e){return g(v.default,{width:e,channel:_,guild:T,inPopout:C})}));var R=a.useCallback((function(e){var n,r;return null!==(n=null===(r=t[e])||void 0===r?void 0:r.id)&&void 0!==n?n:"empty-tile"}),[t])
;return g(f.default,{className:E,keyExtractor:R,paddingTop:64,paddingBottom:64},void 0,N)}E.displayName="ChannelCallGrid"},421417:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=E;var r,a=y(n(667294)),o=n(194322),i=p(n(611456)),u=y(n(518931)),l=n(770348),s=n(371621),c=p(n(247001)),d=p(n(200146)),f=p(n(222917));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function h(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(){m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return m.apply(this,arguments)}function _(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){_(o,r,a,i,u,"next",e)}function u(e){_(o,r,a,i,u,"throw",e)}i(void 0)}))}}function E(e){var t=e.channel,r=e.guild,p=e.width,v=e.inPopout
;return h(i.default,{className:d.default.root},void 0,h(u.default,{artURL:f.default,size:(0,u.getSizeForWidth)(p),header:c.default.Messages.STREAM_SINGLE_PERSON_BODY,onCTAClick:function(){return(0,o.openModalLazy)(g(regeneratorRuntime.mark((function e(){var o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(15865)]).then(n.bind(n,115865));case 2:o=e.sent;i=o.default;return e.abrupt("return",(function(e){return a.createElement(i,m({},e,{guild:r,channel:t,source:l.InstantInviteSources.CHANNEL_CALL}))}));case 5:case"end":return e.stop()}}),e)}))),{contextKey:v?s.POPOUT_MODAL_CONTEXT:s.DEFAULT_MODAL_CONTEXT})},callToAction:c.default.Messages.INSTANT_INVITE}))}E.displayName="EmptyTile"},518931:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;t.getSizeForWidth=function(e){return e<400?"small":e<1e3?"medium":"large"};!function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=s(n(294184)),o=s(n(956117)),i=s(n(530250)),u=n(645758),l=s(n(260382));function s(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){var t=e.onCTAClick,n=e.callToAction,r=e.header,s=e.description,c=e.size,f=e.className,p=e.artURL,v=e.noArt,y=void 0!==v&&v,h=e.selected,m=void 0!==h&&h;return d(i.default,{className:f,justify:i.default.Justify.CENTER,align:i.default.Align.CENTER,direction:i.default.Direction.VERTICAL},void 0,!y&&null!=p&&d("div",{className:(0,a.default)(l.default.art,l.default[c]),style:{backgroundImage:"url("+p+")"}}),null!=r?d(u.Text,{color:"none",variant:"text-md/normal",className:l.default.header},void 0,r):null,null!=s?d(u.Text,{color:"none",className:l.default.description,variant:"text-sm/normal"},void 0,s):null,m||null==n?null:d(o.default,{className:l.default.outerButton,size:o.default.Sizes.NONE,color:o.default.Colors.WHITE,look:o.default.Looks.BLANK,innerClassName:l.default.button,onClick:function(e){e.stopPropagation();null==t||t(e)}
},void 0,n))}f.displayName="EmptyState"},151503:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=M;var r,a=b(n(667294)),o=O(n(294184)),i=n(248088),u=O(n(145371)),l=O(n(715801)),s=O(n(423046)),c=O(n(635014)),d=O(n(974661)),f=n(956506),p=O(n(709578)),v=O(n(921532)),y=n(421622),h=b(n(449183)),m=n(770348),_=n(859089),g=O(n(367374)),E=O(n(398720));function O(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function b(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)
;return r}function I(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function C(){C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return C.apply(this,arguments)}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{
i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var P=8+h.PARTICIPANTS_HEIGHT;function M(e){
var t,n=e.onSelectParticipant,r=e.onContextMenuParticipant,O=e.onFullscreenParticipant,S=e.participants,b=e.filteredParticipants,A=e.popoutWindow,M=e.inCall,N=e.channel,R=e.selectedParticipant,w=e.showParticipants,D=void 0===w||w,L=e.className,k=e.paused,j=e.width,U=e.height,G=e.layout,F=e.idle,x=null!=A,W=c.default.getVideoComponent(),B=s.default.getId(),V=T(a.useState(null),2),H=V[0],Y=V[1],z=T(a.useState(!0),2),K=z[0],$=z[1],q=T(a.useState(!1),2),X=q[0],Q=q[1],Z=R.type===_.ParticipantTypes.ACTIVITY,J=!Z&&null!=R.streamId,ee=J&&null!=H&&H.width>0&&H.height>0?H.width/H.height:1.7777777777777777,te=U<=2*P+144,ne=D&&!te,re=(0,u.default)(ne),ae=0;(Z||ne)&&(ae+=72);Z&&!ne&&(ae+=48);ne&&(ae+=.5*P+8);var oe,ie=U-2*ae,ue=ie*ee,le=Math.floor(Math.min(j,ue)/ee),se=U>j/ee+72+P+8;oe=!ne&&!Z?40+Math.max(0,72-(U-le)/2):ne?-16:-8;a.useEffect((function(){var e=setTimeout((function(){$(!1)}),250);return function(){clearTimeout(e)}}),[]);var ce=(0,i.useSpring)({value:ne?1:0,delay:se||!ne?0:100,
config:C({},i.config.stiff,{clamp:!0}),onStart:function(){return Q(!0)},onChange:function(){return f.ComponentDispatch.dispatch(m.ComponentActions.REMEASURE_TARGET)},onRest:function(){Q(!1);f.ComponentDispatch.dispatch(m.ComponentActions.REMEASURE_TARGET)}}),de=(0,i.useSpring)({value:ne?1:0,config:C({},i.config.stiff,{clamp:!0})}),fe=(0,i.useSpring)({value:ue,config:C({},i.config.stiff,{clamp:!0}),immediate:re===ne&&de.value.idle}),pe=(0,i.useSpring)({value:oe,config:C({},i.config.stiff,{clamp:!0})}),ve=(0,i.useTransition)(R,{keys:function(e){return null==e?void 0:e.id},config:C({},i.config.stiff,{clamp:!0}),initial:null,from:{opacity:0},enter:{opacity:1},leave:{opacity:0}}),ye=a.useCallback((function(e){Y(e);$(!1)}),[]),he=ne||k?[]:(0,y.getPipParticipants)(S,R,B),me=(0,h.useVisibleParticipants)(j,b),_e=me.visibleParticipants,ge=me.participantTileWidth;return I("div",{className:(0,o.default)(E.default.root,g.default.flexCenter,L)},void 0,I("div",{className:E.default.tileWrapper,style:{
opacity:J&&K?0:1}},void 0,I(i.animated.div,{className:E.default.videoFrame,style:{top:de.value.to((function(e){return-e*P/2}))}},void 0,I(i.animated.div,{style:{width:fe.value},className:E.default.videoWrapper},void 0,I(d.default,{className:g.default.videoSizer,aspectRatio:ee},void 0,ve((function(e,t,a){var o=a.key;return null!=t?I(i.animated.div,{className:g.default.videoWrapperAnimated,style:e},o,I(p.default,{focused:!0,noBorder:ue>=j||ie>=U,channel:N,className:g.default.focusedVideo,videoComponent:W,paused:k,width:j,participant:t,onClick:n,onDoubleClick:O,onContextMenu:r,onVideoResize:ye,inCall:M,inPopout:x})):null})))),te||G===m.ChannelLayouts.MINIMUM||G===m.ChannelLayouts.NORMAL?null:I(i.animated.div,{className:(0,o.default)(E.default.actionRow,(t={},t[E.default.idle]=F,t)),style:{bottom:pe.value}},void 0,I(l.default,{channelId:N.id,isParticipantsOpen:D,isVertical:!0}))),I(i.animated.div,{className:E.default.participantsWrapperAnimated,style:{translateY:ce.value.to((function(e){
return e*P/2})),opacity:ce.value,visibility:ce.value.to((function(e){return 0===e?"hidden":"visible"}))}},void 0,I(h.default,{channel:N,onClick:n,onContextMenu:r,onDoubleClick:O,participants:_e,participantTileWidth:ge,selectedParticipantId:R.id,inCall:M,paused:k||X||!D,popoutWindow:A}))),he.length>0?I(v.default,{onContextMenuParticipant:r,width:j,height:U,channel:N,participants:he}):null)}M.displayName="HorizontalFocusedView"},449183:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PARTICIPANTS_HEIGHT=void 0;t.default=I;t.useVisibleParticipants=function(e,t){var n=m(a.useState(Date.now()),2),r=n[0],u=n[1];a.useEffect((function(){var e=setTimeout((function(){u(Date.now())}),1e4);return function(){clearTimeout(e)}}),[t]);var s=a.useRef({}),d=a.useMemo((function(){var n=Date.now(),r=(0,o.sortBy)(t,(function(e){return function(e,t){var n;void 0===t&&(t=Date.now());switch(e.type){case c.ParticipantTypes.ACTIVITY:return"\0"+e.sortKey
;case c.ParticipantTypes.HIDDEN_STREAM:case c.ParticipantTypes.STREAM:return""+(0,i.userKey)(e.userNick,e.user);case c.ParticipantTypes.USER:var r="";e.speaking?r="":t-e.lastSpoke<S?r="":(null===(n=e.voiceState)||void 0===n?void 0:n.selfVideo)&&(r="");return""+r+(a=e.lastSpoke,o=String(E).length,String(E-a).padStart(o,"0"))+(0,i.userKey)(e.userNick,e.user)}var a,o}(e,n)})),a=m((0,o.partition)(r,c.isStreamParticipant),2),u=a[0],d=a[1],f=d.findIndex(b),p=null;if(-1!==f){p=d[f];d.splice(f,1)}var v=null!=p?e-O-8:e,y=Math.floor((v-8)/132),g=Math.max(0,Math.min(y,12,t.length)),I=Math.min((v-8)/g-8,O),C=Math.max(0,g-u.length),T=u.slice(0,g),A=d.slice(0,C),P=new Array(C);if(C>0){for(var M,N=[],R=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=_(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}
throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(A);!(M=R()).done;){var w=M.value,D=s.current[w.id];null!=D&&D<C?P[D]=w:N.push(w)}for(var L=0;L<P.length;L++)if(null==P[L]){var k=N.shift();if(null==k)break;P[L]=k}}var j=P.filter(l.isNotNullish),U=(0,o.keyBy)((0,o.range)(j.length),(function(e){return j[e].id}));s.current=U;var G=[].concat(h(T),h(j));null!=p&&G.push(p);return{visibleParticipants:G,participantTileWidth:I}}),[e,t,r]),f=d.visibleParticipants,p=d.participantTileWidth;return{visibleParticipants:f,participantTileWidth:p}};var r,a=v(n(667294)),o=n(496486),i=n(269503),u=f(n(423046)),l=n(71246),s=v(n(709578)),c=n(859089),d=f(n(388832));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){
if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||_(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||_(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var E=864e13;t.PARTICIPANTS_HEIGHT=112;var O=16/9*112+8,S=1e4;function b(e){var t,n=u.default.getId();return e.type===c.ParticipantTypes.USER&&e.user.id===n&&(null===(t=e.voiceState)||void 0===t?void 0:t.selfVideo)}function I(e){var t=e.participants,n=e.participantTileWidth,r=e.selectedParticipantId,a=e.onDoubleClick,o=e.onContextMenu,i=e.onClick,u=e.channel,l=e.inCall,c=e.popoutWindow,f=e.paused,p=void 0!==f&&f,v=null!=c;return y("div",{className:d.default.root},void 0,t.map((function(e){if(null==e)return null;var t=b(e);return y("div",{className:d.default.tileSizer,style:t?{flexShrink:0}:void 0},e.id,y(s.default,{participant:e,selected:r===e.id,channel:u,className:d.default.tile,fit:s.CallTileFit.COVER,
onClick:i,onDoubleClick:a,onContextMenu:o,width:t?O:n,inCall:l,paused:p,inPopout:v}))})))}I.displayName="HorizontalVideoParticipants"},531334:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.stream,r=e.applicationId,_=e.channel,g=e.exitFullScreen,S=e.appContext,I=e.analyticsLocation,C=e.className,T=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,m),A=null==_?void 0:_.getGuildId(),P=(0,u.useStateFromStores)([s.default],(function(){return null!=A?s.default.getGuild(A):null}),[A]);if(!function(e,t){return null!=e&&null!=t&&c.default.can(p.Permissions.CREATE_INSTANT_INVITE,t)}(P,_))return null;var M=y.default.Messages.INSTANT_INVITE;null!=t?M=y.default.Messages.INVITE_STREAM_HEADER:null!=r&&(M=y.default.Messages.EMBEDDED_ACTIVITIES_INVITE_TO_ACTIVITY);return a.createElement(a.Fragment,null,a.createElement(d.default,O({size:d.default.Sizes.SMALL,
color:h.default.buttonColor,onClick:function(){(0,i.default)(null!=P,"guild cannot be null");(0,i.default)(null!=_,"channel cannot be null");!function(e){var t=e.guild,r=e.channel,o=e.streamUserId,i=e.applicationId,u=e.appContext,l=e.exitFullScreen,s=e.analyticsLocation;null==l||l();(0,f.openModalLazy)(b(regeneratorRuntime.mark((function e(){var u,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(15865)]).then(n.bind(n,115865));case 2:u=e.sent;l=u.default;return e.abrupt("return",(function(e){return a.createElement(l,O({},e,{guild:t,channel:r,streamUserId:o,applicationId:i,analyticsLocation:s,source:p.InstantInviteSources.STREAM_INVITE}))}));case 5:case"end":return e.stop()}}),e)}))),{modalKey:"stream-invite-modal",contextKey:u===p.AppContext.POPOUT?v.POPOUT_MODAL_CONTEXT:v.DEFAULT_MODAL_CONTEXT})}({guild:P,channel:_,streamUserId:null==t?void 0:t.ownerId,applicationId:r,appContext:S,exitFullScreen:g,
analyticsLocation:I})},className:(0,o.default)(C,h.default.textButton)},T),M),E(l.default,{channel:_,stream:t,appContext:S,className:(0,o.default)(C,h.default.iconButton),exitFullScreen:g,analyticsLocation:I}))};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=_(n(294184)),i=_(n(441143)),u=n(536211),l=_(n(336156)),s=_(n(30098)),c=_(n(689389)),d=_(n(956117)),f=n(194322),p=n(770348),v=n(371621),y=_(n(247001)),h=_(n(684592)),m=["stream","applicationId","channel","exitFullScreen","appContext","analyticsLocation","className"];function _(e){return e&&e.__esModule?e:{default:e}}
function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function O(){O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return O.apply(this,arguments)}function S(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function b(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n)
;function i(e){S(o,r,a,i,u,"next",e)}function u(e){S(o,r,a,i,u,"throw",e)}i(void 0)}))}}},232269:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;s(n(667294));var r,a=u(n(229132)),o=s(n(518931)),i=u(n(247001));function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d=n(153996);function f(e){var t=e.width,n=e.className,r=e.channelId,u=e.noArt,l=void 0!==u&&u;return c(o.default,{artURL:d,noArt:l,size:(0,o.getSizeForWidth)(t),className:n,callToAction:i.default.Messages.STREAM_SHOW_ALL_PARTICIPANTS,header:i.default.Messages.STREAM_PARTICIPANTS_HIDDEN.format(),onCTAClick:function(){return a.default.toggleVoiceParticipantsHidden(r,!1)}})}f.displayName="ParticipantsHidden"},603218:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=ee(n(667294)),o=Z(n(441143)),i=Z(n(496486)),u=Z(n(536211)),l=Z(n(740207)),s=Z(n(505437)),c=n(264720),d=Z(n(136873)),f=n(844784),p=Z(n(825724)),v=Z(n(66384)),y=Z(n(310268)),h=n(678928),m=n(747868),_=Z(n(379310)),g=Z(n(925013)),E=Z(n(908921)),O=ee(n(8475)),S=n(139982),b=Z(n(625905)),I=Z(n(134893)),C=Z(n(244612)),T=Z(n(401311)),A=Z(n(866219)),P=Z(n(305914)),M=Z(n(199138)),N=Z(n(607209)),R=Z(n(423046)),w=Z(n(635014)),D=Z(n(290629)),L=Z(n(728429)),k=Z(n(529688)),j=Z(n(189434)),U=Z(n(949898)),G=Z(n(275189)),F=Z(n(114655)),x=Z(n(308920)),W=Z(n(29652)),B=Z(n(440556)),V=Z(n(381390)),H=Z(n(7969)),Y=Z(n(111014)),z=Z(n(493051)),K=Z(n(152803)),$=Z(n(310261)),q=n(770348),X=n(859089),Q=Z(n(10263));function Z(e){return e&&e.__esModule?e:{default:e}}function J(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(J=function(e){return e?n:t})(e)}function ee(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e}
;var n=J(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function te(){te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return te.apply(this,arguments)}function ne(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function re(e,t){
for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function ae(e,t){ae=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return ae(e,t)}var oe=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;ae(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=e.call.apply(e,[this].concat(r))||this).state={screensharePopoutOpen:!1};t._ref=a.createRef();t.handleVideo=function(e){l.default.setVideoEnabled(e)};t.handleEnableVideoWhenUnavailable=function(){t.props.isVideoAvailable?t.handleVideo(!0):(0,z.default)()};t.handleJumpToChannel=function(){var e,n=t.props.channel;(0,c.popAllLayers)();var r=null!==(e=n.getGuildId())&&void 0!==e?e:q.ME;s.default.channelListScrollTo(r,n.id);(0,S.transitionToGuild)(r,n.id)};t.handleStartStream=function(){var e=t.props,n=e.canGoLive,r=e.channel,a=r.getGuildId();(0,
o.default)(null!=a,"Cannot go live in non guild channel");if(!n)return(0,K.default)();(0,$.default)(a,r.id,q.AnalyticsPages.GUILD_CHANNEL)};t.handleStopStream=function(){var e=t.props.participantOnScreen;(0,o.default)((0,X.isStreamParticipant)(e),"cannot stop stream for non streamer");(0,E.default)(e.stream)};t.handleOpenPopout=function(){var e=t.props.channel;O.openChannelCallPopout(e)};t.handleDisconnect=function(){d.default.selectVoiceChannel(null)};t.renderBottomLeftControls=function(){var e=t.viewProperties.canSeeParticipantName;return a.createElement(a.Fragment,null,e?t.renderParticipantName():null)};t.renderBottomRightControls=function(){var e=t.viewProperties,n=e.canSettings,r=e.canPopout,o=e.canDisconnect,i=e.canStopStream,u=e.canSeeViewers;return a.createElement(a.Fragment,null,u?t.renderViewersIcon():null,n?t.renderSettingsIcon():null,r?t.renderPopoutIcon():null,i?t.renderStopStreamButton():null,o?t.renderDisconnectButton():null)};t.renderDisconnectButton=function(){
return ne(T.default,{className:Q.default.rightTrayIcon,onClick:t.handleDisconnect})};t.renderStopStreamButton=function(){var e=t.viewProperties.isSelf;return ne(P.default,{isSelfStream:e,className:Q.default.rightTrayIcon,onClick:t.handleStopStream})};t.renderViewersIcon=function(){var e=t.props,n=e.participantOnScreen,r=e.channel;(0,o.default)((0,X.isStreamParticipant)(n)||(null==n?void 0:n.type)===X.ParticipantTypes.ACTIVITY,"Cannot render participants for participant type "+(null==n?void 0:n.type));return ne(I.default,{},void 0,ne(y.default,{channelId:r.id,guildId:r.getGuildId(),className:Q.default.rightTrayIcon,participant:n,compact:!0}))};t.renderPopoutIcon=function(){return ne(A.default,{className:Q.default.rightTrayIcon,popoutOpen:!1,onOpenPopout:t.handleOpenPopout,onClosePopout:q.NOOP_NULL})};t.renderSettingsIcon=function(){var e=t.props,n=e.participantOnScreen,r=e.activeStreams;(0,o.default)((0,X.isStreamParticipant)(n),"Cannot render settings for non stream participant")
;var a=r.find((function(e){return(0,m.encodeStreamKey)(e)===n.id}));return null==a||a.state===q.ApplicationStreamStates.ENDED?null:ne(M.default,{stream:a,className:Q.default.rightTrayIcon,appContext:q.AppContext.APP})};return t}var n=t.prototype;n.getScreenMessage=function(){var e=this.props,t=e.participantOnScreen,n=e.currentUserId;if(!(0,X.isStreamParticipant)(t))return null;var r=this.activeStreamForSelectedParticipant;return null==r?null:(0,g.default)(r,t.user,t.user.id===n,this.streamerPaused)};n.componentDidMount=function(){var e=this.props.channel;x.default.track(q.AnalyticEvents.VIDEO_LAYOUT_TOGGLED,te({video_layout:"pip"},(0,f.collectVoiceAnalyticsMetadata)(e.id)))};n.componentWillUnmount=function(){var e=this.props.channel;x.default.track(q.AnalyticEvents.VIDEO_LAYOUT_TOGGLED,te({video_layout:p.default.getLayout(e.id)},(0,f.collectVoiceAnalyticsMetadata)(e.id)))};n.renderStreamState=function(){var e=this.activeStreamForSelectedParticipant,t=this.props.participantOnScreen
;return(null==e?void 0:e.state)===q.ApplicationStreamStates.ENDED?ne(V.default,{stream:e,width:X.PIP_WIDTH}):(null==e?void 0:e.state)===q.ApplicationStreamStates.FAILED?ne(H.default,{stream:e,width:X.PIP_WIDTH}):(null==t?void 0:t.type)===X.ParticipantTypes.HIDDEN_STREAM?ne(Y.default,{participant:t,width:X.PIP_WIDTH}):null};n.renderParticipantName=function(){var e=this.props,t=e.channel,n=e.participantOnScreen;if((null==n?void 0:n.type)===X.ParticipantTypes.STREAM||(null==n?void 0:n.type)===X.ParticipantTypes.USER){var r,a=null!==(r=W.default.getNickname(t.getGuildId(),t.id,n.user))&&void 0!==r?r:n.user.username;return ne(F.default,{size:F.default.Sizes.SIZE_16,color:q.Colors.WHITE,className:Q.default.participantName},void 0,a)}return null};n.render=function(){var e=this,t=this.props,n=t.channel,r=t.streamId,o=t.participantOnScreen,i=t.isVideoEnabled,u=(0,h.computeChannelName)(n,L.default,D.default),l=(null==o?void 0:o.id)===R.default.getId()&&i,s=this.renderStreamState(),c=null
;(null==o?void 0:o.type)!==X.ParticipantTypes.ACTIVITY&&(null!=s?c=s:(null==o?void 0:o.type)!==X.ParticipantTypes.USER&&(null==o?void 0:o.type)!==X.ParticipantTypes.STREAM||(c=ne(B.default,{paused:this.streamerPaused,streamId:r,component:w.default.getVideoComponent(),mirror:l},void 0,ne(G.default,{size:G.default.AvatarSizes.SIZE_80,src:null==o?void 0:o.user.getAvatarURL(n.guild_id,80),"aria-label":null==o?void 0:o.user.username}))));return ne(b.default,{timeout:1800},void 0,(function(t){var n;return a.createElement(C.default,te({title:u,backgroundKey:null!==(n=null==o?void 0:o.id)&&void 0!==n?n:"",screenMessage:e.getScreenMessage(),onJumpToChannel:e.handleJumpToChannel,renderBottomLeftControls:e.renderBottomLeftControls,renderBottomRightControls:e.renderBottomRightControls,preventIdleComponent:I.default,width:X.PIP_WIDTH},t),c)}))};!function(e,t,n){t&&re(e.prototype,t);n&&re(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"viewProperties",get:function(){
var e=this.props,t=e.participantOnScreen,n=e.currentUserId,r=e.channel,a=(0,X.isStreamParticipant)(t),o=null!=t&&t.type!==X.ParticipantTypes.ACTIVITY&&t.user.id===n;return{canPopout:a&&!o,canSettings:a&&o,canStopStream:a,canSeeViewers:a,canSeeParticipantName:((null==t?void 0:t.type)===X.ParticipantTypes.STREAM||(null==t?void 0:t.type)===X.ParticipantTypes.USER)&&r.type!==q.ChannelTypes.DM,canDisconnect:!a,isSelf:o}}},{key:"streamerPaused",get:function(){var e=this.props,t=e.isMainWindowFocused,n=e.activeSelfStream,r=e.participantOnScreen;return null!=n&&(null==r?void 0:r.id)===(0,m.encodeStreamKey)(n)&&!t}},{key:"activeStreamForSelectedParticipant",get:function(){var e=this.props,t=e.participantOnScreen,n=e.activeStreams;return(0,X.isStreamParticipant)(t)?n.find((function(e){return(0,m.encodeStreamKey)(e)===t.id})):null}}]);return t}(a.PureComponent);oe.displayName="PictureInPictureVideoContainer"
;var ie=u.default.connectStores([w.default,p.default,R.default,k.default,j.default,N.default,U.default],(function(e){var t=e.channel,n=k.default.getSpeaker(t.id),r=p.default.getParticipant(t.id,n),a=(0,i.default)(w.default.getVideoDevices()).values().first(),o=null==a||a.disabled,u=null!=r&&r.type!==X.ParticipantTypes.ACTIVITY&&r.type!==X.ParticipantTypes.HIDDEN_STREAM?j.default.getStreamId(r.user.id,(0,v.default)(r.type)):null,l=!1===o,s=!o&&w.default.isVideoEnabled(),c=(0,_.default)(w.default),d=R.default.getId();return{channel:t,streamId:u,participantOnScreen:r,isVideoAvailable:l,isVideoEnabled:s,canGoLive:c,currentUserId:d,activeStreams:N.default.getAllActiveStreams(),activeSelfStream:N.default.getActiveStreamForUser(d),isMainWindowFocused:U.default.isFocused()}}))(oe);t.default=ie},474628:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=O(n(636602)),o=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(720409)),i=O(n(177230)),u=O(n(303798)),l=O(n(902305)),s=O(n(607209)),c=O(n(644263)),d=O(n(122913)),f=O(n(635014)),p=O(n(218843)),v=O(n(893160)),y=O(n(211136)),h=O(n(790597)),m=O(n(387692)),_=n(770348),g=n(376293);function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function O(e){return e&&e.__esModule?e:{default:e}}function S(e,t){S=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return S(e,t)}function b(){var e,t=r;if(null==t||!p.default.isOpen(t))return!1;a.default.wait((function(){return o.close(t)}))
;null===(e=v.default.getRTCConnection())||void 0===e||e.setPipOpen(!1);r=null}function I(){var e=v.default.getChannelId(),t=r===e;if(function(){var e=v.default.getChannelId(),t=y.default.getChannelId();if(!f.default.supports(g.Features.VIDEO))return!0;if(l.default.getWindowOpen(_.PopoutWindowKeys.CHANNEL_CALL_POPOUT))return!0;var n=s.default.getAllActiveStreams().length>0;if(!(null!=e&&Object.values(m.default.getVideoVoiceStatesForChannel(e)).some((function(e){var t=e.userId;return!f.default.isLocalVideoDisabled(t)}))||n))return!0;var r=d.default.hasLayers();return!(r&&d.default.getLayers().includes(_.Layers.RTC_DEBUG)||!r&&e!==t)}())return b();t||b();return null!=e&&function(e){var t,n=c.default.getChannel(e);if(null==n||p.default.isOpen(e))return!1;a.default.wait((function(){return o.open(n.id,_.PictureInPictureComponents.VIDEO,{channel:n})}));null===(t=v.default.getRTCConnection())||void 0===t||t.setPipOpen(!0);r=e}(e)}var C=new(function(e){!function(e,t){
e.prototype=Object.create(t.prototype);e.prototype.constructor=e;S(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){y.default.addChangeListener(I);h.default.addChangeListener(I);v.default.addChangeListener(I);m.default.addChangeListener(I);d.default.addChangeListener(I);s.default.addChangeListener(I);l.default.addChangeListener(I);f.default.addChangeListener(I);u.default.addChangeListener(I)};n._terminate=function(){y.default.removeChangeListener(I);h.default.removeChangeListener(I);v.default.removeChangeListener(I);m.default.removeChangeListener(I);d.default.removeChangeListener(I);s.default.removeChangeListener(I);l.default.removeChangeListener(I);f.default.removeChangeListener(I);u.default.removeChangeListener(I)};return t}(i.default));t.default=C},381390:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=p;c(n(667294))
;var r,a,o=n(123516),i=n(747868),u=c(n(518931)),l=(r=n(247001))&&r.__esModule?r:{default:r};function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f=n(802566);function p(e){var t=e.stream,n=e.width,r=e.noArt,a=void 0!==r&&r,s=e.selected,c=void 0!==s&&s;return d(u.default,{artURL:f,noArt:a,selected:c,size:(0,u.getSizeForWidth)(n),header:l.default.Messages.STREAM_ENDED,onCTAClick:function(){return(0,o.closeStream)((0,i.encodeStreamKey)(t))},callToAction:l.default.Messages.CLOSE_STREAM})}p.displayName="StreamEnded"},7969:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=y;f(n(667294));var r,a=n(123516),o=n(747868),i=c(n(550270)),u=f(n(518931)),l=n(770348),s=c(n(247001));function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{
default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=n(192941);function y(e){var t=e.stream,n=e.width,r=e.selected,c=void 0!==r&&r,d=e.noArt,f=void 0!==d&&d;return p(u.default,{artURL:v,header:s.default.Messages.STREAM_FAILED_TITLE,size:(0,u.getSizeForWidth)(n),noArt:f,selected:c,
description:s.default.Messages.STREAM_FAILED_DESCRIPTION.format({helpUrl:i.default.getArticleURL(l.HelpdeskArticles.STREAM_FAILED)}),onCTAClick:function(){return(0,a.closeStream)((0,o.encodeStreamKey)(t))},callToAction:s.default.Messages.CLOSE_STREAM})}y.displayName="StreamFailed"},111014:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=E;m(n(667294));var r,a=y(n(294184)),o=n(536211),i=n(123516),u=y(n(607209)),l=y(n(423046)),s=y(n(227134)),c=y(n(114655)),d=n(288146),f=m(n(518931)),p=y(n(247001)),v=y(n(207336));function y(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=n(987601);function E(e){var t,n,r=e.participant,y=e.width,h=e.noArt,m=void 0!==h&&h,E=e.selected,O=void 0!==E&&E,S=y<195,b=(0,o.useStateFromStores)([u.default,l.default],(function(){return u.default.getAllActiveStreams().some((function(e){return e.ownerId!==l.default.getId()}))}));return _("div",{className:(0,
a.default)(v.default.content,v.default.streamHidden,(t={},t[v.default.small]=S,t))},void 0,_(f.default,{className:v.default.streamHiddenEmptyState,artURL:g,noArt:m,selected:O,size:(0,f.getSizeForWidth)(y),header:S?null:p.default.Messages.STREAM_HIDDEN,description:O?null:_("div",{className:(0,a.default)(v.default.streamHiddenCTA,(n={},n[v.default.largePaddingTop]=!S,n))},void 0,_(d.CallTileCTA,{isSmall:S},void 0,_(c.default,{size:S?c.default.Sizes.SIZE_14:c.default.Sizes.SIZE_16,color:c.default.Colors.CUSTOM},void 0,y<175?p.default.Messages.WATCH:p.default.Messages.WATCH_STREAM)),b?_(d.CallTileCTA,{className:v.default.addCTA,tooltip:p.default.Messages.STREAM_WATCH_MULTIPLE_TOOLTIP,onClick:function(e){e.stopPropagation();(0,i.watchStream)(r.stream,{forceMultiple:!0})},isSmall:S},void 0,_(s.default,{className:v.default.addStreamIcon})):null)}))}E.displayName="StreamHidden"},55055:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.StreamTileIndicators=function(e){
var t=e.participant,n=e.selected,r=e.focused,o=e.idle,u=e.width,l=(0,i.useStateFromStores)([f.default],(function(){return f.default.getActiveStreamForUser(t.user.id)})),s=(0,T.isVideoCompact)(u);return a.createElement(a.Fragment,null,n?null:k(C.default,{participant:t}),r||null==l||l.state===A.ApplicationStreamStates.ENDED||l.state===A.ApplicationStreamStates.FAILED?null:k(c.default,{size:g.default.Sizes.LARGE,className:R.default.liveIndicator,participant:t,showQuality:!s&&!o,isUpsellEnabled:!1}))};t.default=function(e){var t=e.participant,n=e.selected,r=e.onVideoResize,c=e.paused,g=e.fit,C=e.inPopout,T=e.width,w=v.default.getVideoComponent(),D=(0,i.useStateFromStores)([p.default],(function(){return p.default.getId()})),j=t.stream,U=t.user,G=t.streamId,F=(0,i.useStateFromStores)([f.default],(function(){return f.default.getActiveStreamForUser(U.id)}),[U.id]),x=(0,i.useStateFromStores)([f.default],(function(){return f.default.getAllActiveStreams().length>0})),W=(0,
i.useStateFromStores)([y.default],(function(){return y.default.isFocused()})),B=(null==F?void 0:F.ownerId)===D&&!W&&!C,V=null!=F?(0,l.default)(F,U,U.id===D,B):null,H=T<195;return(null==F?void 0:F.state)===A.ApplicationStreamStates.ENDED?k(S.default,{selected:n,stream:F,width:T}):(null==F?void 0:F.state)===A.ApplicationStreamStates.FAILED?k(b.default,{selected:n,stream:F,width:T}):t.type===P.ParticipantTypes.HIDDEN_STREAM?k(I.default,{selected:n,participant:t,width:T}):null!=F&&!n&&null!=w&&v.default.supports(M.Features.VIDEO)?a.createElement(a.Fragment,null,k(h.default,{onResize:r,wrapperClassName:R.default.videoWrapper,className:R.default.content,streamId:G,videoComponent:w,fit:g,paused:c||B}),null!=V?a.createElement(d.default,L({size:(0,O.getSizeForWidth)(T)},V)):null):k("div",{className:(0,o.default)(R.default.content,R.default.streamPreview,(Y={},Y[R.default.small]=H,Y))},void 0,k(s.default,{noText:!0,className:(0,o.default)(R.default.absoluteFill,(z={},
z[R.default.streamPreviewOpacity]=null==F,z)),stream:t.stream}),n?null:a.createElement(a.Fragment,null,k(E.CallTileCTA,{isSmall:H},void 0,k(_.default,{size:H?_.default.Sizes.SIZE_14:_.default.Sizes.SIZE_16,color:_.default.Colors.CUSTOM},void 0,T<175?N.default.Messages.WATCH:N.default.Messages.WATCH_STREAM)),x?k(E.CallTileCTA,{className:R.default.addCTA,tooltip:N.default.Messages.STREAM_WATCH_MULTIPLE_TOOLTIP,onClick:function(e){e.stopPropagation();(0,u.watchStream)(j,{forceMultiple:!0})},isSmall:H},void 0,k(m.default,{className:R.default.addStreamIcon})):null));var Y,z};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=D(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}
r.default=e;n&&n.set(e,r);return r}(n(667294)),o=w(n(294184)),i=n(536211),u=n(123516),l=w(n(925013)),s=w(n(645923)),c=w(n(57697)),d=w(n(896566)),f=w(n(607209)),p=w(n(423046)),v=w(n(635014)),y=w(n(949898)),h=w(n(971146)),m=w(n(227134)),_=w(n(114655)),g=w(n(528175)),E=n(288146),O=n(518931),S=w(n(381390)),b=w(n(7969)),I=w(n(111014)),C=w(n(697252)),T=n(227482),A=n(770348),P=n(859089),M=n(376293),N=w(n(247001)),R=w(n(32599));function w(e){return e&&e.__esModule?e:{default:e}}function D(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(D=function(e){return e?n:t})(e)}function L(){L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return L.apply(this,arguments)}function k(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},697252:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.participant,n=e.className,r=function(e){if(null==e)return null;return i.default.isDeveloper?e.message+" ("+e.errorType+")":e.message}((0,a.default)(t));return null!=r?s(o.default,{className:n,errorMessage:r}):null};!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e
;n&&n.set(e,r)}(n(667294));var r,a=u(n(910333)),o=u(n(778339)),i=u(n(776115));function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},522503:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){
var t=e.participant,n=e.channel,r=e.inCall,b=e.width,I=e.paused,P=e.selected,M=e.fit,N=e.onVideoResize,R=e.blocked,w=e.noVideoRender,D=void 0!==w&&w,L=e.pulseSpeakingIndicator,k=void 0!==L&&L,j=f.default.getVideoComponent(),U=(0,o.useStateFromStores)([d.default],(function(){return d.default.getId()})),G=(0,o.useStateFromStores)([i.default],(function(){return i.default.useReducedMotion})),F=t.user,x=t.streamId,W=t.speaking,B=F.id===U,V=(0,_.default)(t),H=(0,o.useStateFromStores)([p.default],(function(){return p.default.isFocused()})),Y=(0,o.useStateFromStores)([c.default],(function(){return c.default.getWindowFocused(g.PopoutWindowKeys.CHANNEL_CALL_POPOUT)})),z=(0,o.useStateFromStores)([f.default],(function(){return null!=F.id&&f.default.isLocalVideoDisabled(F.id,(0,s.default)(t.type))}),[F.id,t.type]),K=m.default.getName(n.getGuildId(),n.id,F),$=b<124,q=(0,u.useGlobalHasAvatarDecorations)().canUseAvatarDecorations
;if(r&&!z&&!D&&V&&!P&&null!=j&&f.default.supports(O.Features.VIDEO))return C(y.default,{onResize:N,wrapperClassName:S.default.videoWrapper,className:S.default.content,mirror:B,streamId:x,videoComponent:j,fit:M,paused:I});var X,Q=!G&&W&&(Y||H),Z=$?A:T,J=q?(0,h.getAvatarDecorationURL)({userId:F.id,avatarDecoration:F.avatarDecoration,size:(0,l.getDecorationSizeForAvatarSize)(Z)}):null;return C("div",{className:(0,a.default)(S.default.content,(X={},X[S.default.blockedAvatar]=R,X))},void 0,C(v.default,{"aria-label":K,src:F.getAvatarURL(n.guild_id,$?E.SizeSpecs[A].size:E.SizeSpecs[T].size,Q),avatarDecoration:J,backgroundSrc:F.getAvatarURL(n.guild_id,80),size:Z,pulseSpeakingIndicator:k,speaking:W}))};!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=b(n(294184)),o=n(536211),i=b(n(235879)),u=n(832215),l=n(392591),s=b(n(66384)),c=b(n(902305)),d=b(n(423046)),f=b(n(635014)),p=b(n(949898)),v=b(n(275189)),y=b(n(971146)),h=n(692711),m=b(n(29652)),_=b(n(183612)),g=n(770348),E=n(942675),O=n(376293),S=b(n(32599));function b(e){return e&&e.__esModule?e:{default:e}}function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}function C(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var T=v.default.AvatarSizes.SIZE_80,A=v.default.AvatarSizes.SIZE_40},493051:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){a.default.supports(i.Features.VIDEO)?(0,o.openModalLazy)(f(regeneratorRuntime.mark((function t(){var a,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;return Promise.all([n.e(40532),n.e(52816)]).then(n.bind(n,652816));case 2:a=t.sent;o=a.default;return t.abrupt("return",(function(t){return r.createElement(o,c({},t,{header:u.default.Messages.CAMERA_UNAVAILABLE,body:u.default.Messages.CAMERA_NO_DEVICE,confirmText:u.default.Messages.OKAY,onConfirm:e}))}));case 5:case"end":return t.stop()}}),t)})))):(0,o.openModalLazy)(f(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){
for(;;)switch(t.prev=t.next){case 0:t.next=2;return Promise.all([n.e(40532),n.e(52816)]).then(n.bind(n,652816));case 2:a=t.sent;i=a.default;return t.abrupt("return",(function(t){return r.createElement(i,c({},t,{header:u.default.Messages.VIDEO_UNSUPPORTED_BROWSER_TITLE,body:u.default.Messages.VIDEO_UNSUPPORTED_BROWSER_BODY,confirmText:u.default.Messages.DOWNLOAD_APP,onConfirm:function(){null==e||e();(0,o.openModalLazy)(f(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,529600));case 2:t=e.sent;a=t.default;return e.abrupt("return",(function(e){return r.createElement(a,c({source:"Video unsupported browser"},e))}));case 5:case"end":return e.stop()}}),e)}))))}}))}));case 5:case"end":return t.stop()}}),t)}))))};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=l(n(635014)),o=n(194322),i=n(376293),u=l(n(247001));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return c.apply(this,arguments)}function d(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n)
;function i(e){d(o,r,a,i,u,"next",e)}function u(e){d(o,r,a,i,u,"throw",e)}i(void 0)}))}}},152803:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){function e(){(0,o.openModalLazy)(c(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,529600));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,l({source:"Screenshare Unavailable"},e))}));case 5:case"end":return e.stop()}}),e)}))))}(0,o.openModalLazy)(c(regeneratorRuntime.mark((function t(){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;return Promise.all([n.e(40532),n.e(52816)]).then(n.bind(n,652816));case 2:r=t.sent;o=r.default;return t.abrupt("return",(function(t){return a.createElement(o,l({},t,{header:i.default.Messages.SCREENSHARE_UNAVAILABLE,
body:i.default.Messages.SCREENSHARE_UNAVAILABLE_DOWNLOAD_APP,confirmText:i.default.Messages.DOWNLOAD_APP,onConfirm:e}))}));case 5:case"end":return t.stop()}}),t)}))))};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(194322),i=(r=n(247001))&&r.__esModule?r:{default:r};function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(){l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}
;return l.apply(this,arguments)}function s(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){s(o,r,a,i,u,"next",e)}function u(e){s(o,r,a,i,u,"throw",e)}i(void 0)}))}}},227482:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.isNamesCompact=function(e){return e<=124};t.isVideoCompact=function(e){return e<=220}},30269:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){a.AlwaysPreviewVideo.getSetting()?(0,o.openModalLazy)(d(regeneratorRuntime.mark((function t(){var a,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;return Promise.all([n.e(40532),n.e(93198),n.e(35390)]).then(n.bind(n,635390));case 2:a=t.sent;o=a.default;return t.abrupt("return",(function(t){return r.createElement(o,s({},t,{onEnable:e,
videoEnabled:!1}))}));case 5:case"end":return t.stop()}}),t)}))),{modalKey:"camera-preview",contextKey:t===i.AppContext.POPOUT?u.POPOUT_MODAL_CONTEXT:u.DEFAULT_MODAL_CONTEXT}):null==e||e()};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(894826),o=n(194322),i=n(770348),u=n(371621);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}
return e};return s.apply(this,arguments)}function c(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){c(o,r,a,i,u,"next",e)}function u(e){c(o,r,a,i,u,"throw",e)}i(void 0)}))}}},700598:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var n,r,i,u,l=null,s=null,c=null,d=!1,f=!1;switch(e.type){case o.ParticipantTypes.ACTIVITY:break;case o.ParticipantTypes.USER:l=e.streamId;c=e.voiceState;d=e.speaking;f=e.ringing;break;case o.ParticipantTypes.STREAM:l=e.streamId;s=e.stream}return{streamId:l,stream:s,speaking:d,ringing:f,muted:null!==(n=null===(r=c)||void 0===r?void 0:r.isVoiceMuted())&&void 0!==n&&n,deafen:null!==(i=null===(u=c)||void 0===u?void 0:u.isVoiceDeafened())&&void 0!==i&&i,mirror:e.type===o.ParticipantTypes.USER&&e.user.id===t,hasVideo:(0,a.default)(e)}}
;var r,a=(r=n(183612))&&r.__esModule?r:{default:r},o=n(859089)},116780:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,n){var l=(0,r.useStateFromStores)([o.default],(function(){return null!=n?(0,a.getStreamerApplication)(n,o.default):null}),[n]),s=i.default.getName(e.getGuildId(),e.id,t);if(null==n)return s;return null!=(null==l?void 0:l.name)?u.default.Messages.GO_LIVE_USER_PLAYING.format({applicationName:null==l?void 0:l.name,username:s}):u.default.Messages.GO_LIVE_TILE_SCREEN.format({username:s})};var r=n(536211),a=n(10614),o=l(n(788739)),i=l(n(29652)),u=l(n(247001));function l(e){return e&&e.__esModule?e:{default:e}}},222935:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.children,n=(0,a.usePreventIdle)("popup"),o=n.preventIdle,i=n.allowIdle;r.useEffect((function(){o();return function(){return i()}}),[i,o]);return r.createElement(r.Fragment,null,t)};var r=function(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=a?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(r,i,u):r[i]=e[i]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(134893);function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}},48102:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TOAST_LINGER_MS=void 0;t.default=G;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=N(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=M(n(294184)),i=n(496486),u=n(248088),l=n(536211),s=M(n(636602)),c=M(n(229132)),d=M(n(786345)),f=M(n(252566)),p=M(n(116518)),v=n(907932),y=n(851757),h=M(n(427498)),m=n(14219),_=M(n(644263)),g=M(n(201292)),E=M(n(290629)),O=M(n(16941)),S=n(961365),b=n(692711),I=n(956506),C=n(71246),T=n(518802),A=n(770348),P=M(n(123984));function M(e){return e&&e.__esModule?e:{default:e}}function N(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(N=function(e){return e?n:t})(e)}function R(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3]
;t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function w(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=k(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function D(e){return function(e){if(Array.isArray(e))return j(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||k(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){return function(e){
if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||k(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){if(e){if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?j(e,t):void 0}}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.TOAST_LINGER_MS=1e4;function U(e){
var t,n,r,i,u=e.message,s=e.inPopout,g=(0,l.useStateFromStores)([E.default],(function(){return E.default.isBlocked(u.author.id)})),C=(0,v.useNullableMessageAuthor)(u),T=a.useContext(f.default),M=L(a.useState(!1),2),N=M[0],w=M[1],D=(0,l.useStateFromStores)([_.default],(function(){return _.default.getChannel(u.channel_id)}),[u.channel_id]),k=m.TextInVoiceInPopoutExperiment.useExperiment({guildId:null!==(t=null==D?void 0:D.guild_id)&&void 0!==t?t:""}).isEnabled,j=a.useCallback((function(e){if("A"!==e.target.nodeName)if(!s||k){c.default.updateChatOpen(u.channel_id,!0);d.default.jumpToMessage({channelId:u.channel_id,messageId:u.id,flash:!0})}else I.ComponentDispatch.dispatch(A.ComponentActions.SHOW_TEXT_IN_VOICE_POPOUT_COMING_SOON_TIP)}),[u.channel_id,u.id,s,k]),U=null!=u.content&&""!==u.content?(0,p.default)(u,{isInteracting:N}).content:null,G=(0,S.renderSingleLineMessage)(u,U,g,P.default.messageContent,P.default.messageContentIcon),F=G.contentPlaceholder,x=G.renderedContent,W=G.icon,B=(0,
y.getMessageStickers)(u),V=B.length>0?B.map((function(e){return R(h.default,{className:P.default.sticker,size:128,sticker:e,isInteracting:N})})):null;return R(O.default,{className:(0,o.default)(P.default.toast,(n={},n[P.default.disabled]=s&&!k,n)),onMouseEnter:function(){w(!0)},onMouseLeave:function(){w(!1)},onClick:j},void 0,R("div",{className:(0,o.default)(P.default.messageContentWrapper,(r={},r[P.default.mentioned]=u.mentioned,r))},void 0,null!==(i=null!=x?x:V)&&void 0!==i?i:R("span",{},void 0,F),null!=V?null:W),R("img",{alt:"",src:null!=(null==C?void 0:C.guildMemberAvatar)&&null!=T?(0,b.getGuildMemberAvatarURLSimple)({guildId:T,userId:u.author.id,avatar:C.guildMemberAvatar}):u.author.getAvatarURL(T,32),className:P.default.avatar}))}U.displayName="ChatToast";function G(e){var t=e.channelId,n=e.className,r=e.inPopout,c=L(a.useState(!1),2),d=c[0],f=c[1],p=function(e){var t,n=e.channelId,r=e.isFrozen,o=e.count,i=e.lingerMs,u=L(a.useState([]),2),c=u[0],d=u[1],f=a.useRef(null)
;a.useEffect((function(){function e(e){var t=e.channelId,r=e.message;if(t===n){var a={messageId:r.id,timeout:setTimeout((function(){d((function(e){return e.slice(1)}))}),i)};d((function(e){return[].concat(D(e),[a])}))}}s.default.subscribe(A.ActionTypes.MESSAGE_CREATE,e);return function(){s.default.unsubscribe(A.ActionTypes.MESSAGE_CREATE,e)}}),[n,o,i]);a.useEffect((function(){return function(){for(var e,t=w(c);!(e=t()).done;){var n=e.value;clearTimeout(n.timeout)}}}),[]);a.useEffect((function(){c.length>3&&d((function(e){for(var t=e.length-3,n=0;n<t;n++)clearTimeout(e[n].timeout);return D(e.slice(t))}))}),[c]);r&&null==f.current?f.current=c:r||null==f.current||(f.current=null);var p=null!==(t=f.current)&&void 0!==t?t:c;return(0,l.useStateFromStoresArray)([g.default],(function(){return p.map((function(e){return g.default.getMessage(n,e.messageId)}))}),[p]).filter(C.isNotNullish)}({channelId:t,isFrozen:d,count:3,lingerMs:1e4
}),v=a.useRef({}),y=L(a.useState({}),2),h=y[0],m=y[1],_=a.useCallback((function(e,t){null==t?delete v.current[e]:v.current[e]=t}),[]);a.useLayoutEffect((function(){for(var e,t={},n=0,r=w(p);!(e=r()).done;){var a,o=e.value,u=null!==(a=v.current[o.id])&&void 0!==a?a:0;t[o.id]=n;n+=u+8}(0,i.isEqual)(t,h)||m(t)}),[p]);var E=p.map((function(e){return{message:e,height:v.current[e.id],y:h[e.id]}})),O=(0,u.useTransition)(E,{keys:function(e){return e.message.id},from:function(){return{opacity:0}},enter:function(e){return{opacity:1,y:e.y}},update:function(e){return{y:e.y}},leave:function(e){var t=e.height;return{opacity:0,y:-(null!=t?t:0)-8}}});return R("div",{className:(0,o.default)(n,(0,T.getThemeClass)(A.ThemeTypes.DARK)),onMouseEnter:function(){f(!0)},onMouseLeave:function(){f(!1)}},void 0,O((function(e,t){var n=e.opacity,o=e.y;return a.createElement(u.animated.div,{ref:function(e){return _(t.message.id,null!=e?e.offsetHeight:null)},className:P.default.toastWrapper,style:{opacity:n,
translateY:o}},R(U,{message:t.message,inPopout:r}))})))}G.displayName="ChatToasts"},430251:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.DisableGradient=void 0;t.default=h;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=d(n(294184)),u=d(n(530250)),l=d(n(896566)),s=d(n(744794)),c=["screenMessage","onDoubleClick","onActive","onForceIdle","idle","children","renderChatButton","renderChatToasts"];function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap
;return(f=function(e){return e?n:t})(e)}function p(){p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return p.apply(this,arguments)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}t.DisableGradient=a;!function(e){e[e.TOP=0]="TOP";e[e.BOTTOM=1]="BOTTOM"}(a||(t.DisableGradient=a={}));function y(e){var t=e.disableGradients,n=void 0!==t&&t,r=e.renderHeader,o=e.renderBottomLeft,i=e.renderBottomCenter,l=e.renderBottomRight,c=e.renderCenter,d=n===a.TOP||!0===n,f=n===a.BOTTOM||!0===n;return v("div",{
className:s.default.videoControls},void 0,!d&&v("div",{className:s.default.gradientTop}),!f&&v("div",{className:s.default.gradientBottom}),v("div",{className:s.default.topControls},void 0,null==r?void 0:r()),null==c?void 0:c(),v("div",{className:s.default.bottomControls},void 0,v(u.default,{grow:0,shrink:1,basis:"50%",align:u.default.Align.CENTER},void 0,null==o?void 0:o()),v(u.default,{grow:1,justify:u.default.Justify.CENTER,align:u.default.Align.CENTER},void 0,null==i?void 0:i()),v(u.default,{grow:0,shrink:1,justify:u.default.Justify.END,basis:"50%",align:u.default.Align.CENTER},void 0,null==l?void 0:l())))}y.displayName="Controls";function h(e){var t,n=e.screenMessage,r=e.onDoubleClick,a=e.onActive,u=e.onForceIdle,d=e.idle,f=e.children,h=e.renderChatButton,m=e.renderChatToasts,_=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,c);return v("div",{className:(0,i.default)(s.default.root,(t={},
t[s.default.idle]=d,t)),onMouseMove:a,onMouseDown:a,onMouseLeave:u,onDoubleClick:r},void 0,f,null!=n?o.createElement(l.default,p({size:"large"},n)):null,o.createElement(y,_),null==h?void 0:h({className:s.default.chatButton,showingClassName:s.default.chatButtonShowing}),null==m?void 0:m())}h.displayName="FullsizePlayer"},244612:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PictureInPictureHeader=I;t.default=C;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=E(n(294184)),i=n(536211),u=E(n(550024)),l=E(n(893160)),s=E(n(16941)),c=E(n(530250)),d=n(974286),f=E(n(889167)),p=E(n(436081)),v=E(n(77871)),y=E(n(896566)),h=n(770348),m=E(n(247001)),_=E(n(201768)),g=["children","idle","onJumpToChannel","backgroundKey","onActive","onForceIdle","renderBottomLeftControls","renderBottomRightControls","screenMessage"];function E(e){return e&&e.__esModule?e:{default:e}}function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function S(){S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return S.apply(this,arguments)}function b(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function I(e){var t=e.title,n=e.onJumpToChannel,r=e.idle,a=e.preventIdleComponent,o=(0,i.useStateFromStores)([l.default],(function(){return l.default.getChannelId()})),u=null!=o?b(v.default,{voiceChannelId:o,idle:r}):null;return b(a,{className:_.default.headerIdleContainer},void 0,b(s.default,{className:_.default.headerTitle,onClick:n},void 0,b(f.default,{"aria-label":m.default.Messages.OPEN_IN_THEATER,className:_.default.backButton,width:20,height:20}),b(p.default,{className:_.default.headerText,size:p.default.Sizes.SIZE_16,color:h.Colors.WHITE},void 0,t)),u)}I.displayName="PictureInPictureHeader";function C(e){
var t,n=e.children,r=e.idle,i=e.onJumpToChannel,l=e.backgroundKey,s=e.onActive,f=e.onForceIdle,p=e.renderBottomLeftControls,v=e.renderBottomRightControls,h=e.screenMessage,m=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,g);return b("div",{onMouseMove:s,onMouseDown:s,onMouseLeave:f,className:(0,o.default)(_.default.pictureInPictureVideo,(t={},t[_.default.idle]=r,t)),onDoubleClick:i},void 0,b(u.default,{},void 0,b(d.BackgroundTransition,{},l,n)),null!=h?a.createElement(y.default,S({size:"small"},h)):null,b("div",{className:_.default.videoControls},void 0,b("div",{className:_.default.topControls},void 0,a.createElement(I,S({idle:r,onJumpToChannel:i},m))),b("div",{className:_.default.bottomControls},void 0,b(c.default,{grow:0,shrink:1,basis:"50%",align:c.default.Align.CENTER,className:_.default.bottomLeftControls},void 0,null==p?void 0:p()),b(c.default,{grow:0,shrink:1,justify:c.default.Justify.END,
basis:"50%",align:c.default.Align.CENTER},void 0,null==v?void 0:v()))))}C.displayName="PictureInPictureVideo"},77871:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=I(n(667294)),o=n(536211),i=S(n(229132)),u=n(720409),l=S(n(303798)),s=S(n(825724)),c=I(n(145122)),d=S(n(607209)),f=S(n(288356)),p=S(n(218843)),v=S(n(728429)),y=S(n(16941)),h=S(n(160629)),m=S(n(301927)),_=n(770348),g=n(859089),E=S(n(247001)),O=S(n(201768));function S(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function I(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function C(){C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return C.apply(this,arguments)}function T(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function A(e){var t=e.closePopout,n=e.idle,r=e.pipWindows,a=e.voiceChannelId,v=e.onSelect;n&&t();var y=(0,o.useStateFromStores)([l.default],(function(){return l.default.getSelfEmbeddedActivityForChannel(a)})),h=(0,o.useStateFromStores)([p.default],(function(){
return p.default.pipWindow})),m=(0,o.useStateFromStores)([s.default],(function(){return s.default.getSelectedParticipant(a)})),O=(0,o.useStateFromStores)([s.default],(function(){return s.default.getStreamParticipants(a)}));return T(c.default,{navId:"pip-menu","aria-label":"switch PIP",onClose:t,onSelect:v},void 0,function(){var e=r.find((function(e){return e.component===_.PictureInPictureComponents.EMBED_IFRAME})),t=r.find((function(e){return e.component===_.PictureInPictureComponents.VIDEO})),n=[];null!=e&&(null==h?void 0:h.id)!==e.id&&n.push({pipWindow:e});null!=t&&O.forEach((function(e){var r=d.default.getActiveStreamForApplicationStream(e.stream),a=e.id===(null==m?void 0:m.id)&&(null==h?void 0:h.id)===t.id;null==r||a||n.push({pipWindow:t,participant:e,stream:r})}));return n}().map((function(e){var t,n=e.pipWindow.id,r=null===(t=e.participant)||void 0===t?void 0:t.id,o=function(e){if(e.pipWindow.component===_.PictureInPictureComponents.EMBED_IFRAME&&null!=y){
var t,n=null===(t=f.default.getGame(y.application_id))||void 0===t?void 0:t.name;return null==n?E.default.Messages.SWITCH_PIP_TO_ACTIVITY:E.default.Messages.SWITCH_PIP_TO_ACTIVITY_NAME.format({activityName:n})}return null==e.participant||e.participant.type!==g.ParticipantTypes.STREAM?E.default.Messages.SWITCH_PIP_TO_GO_LIVE:E.default.Messages.SWITCH_PIP_TO_USER_STREAM.format({username:e.participant.userNick})}(e),l=""+n+(null!=r?r:"");return T(c.MenuItem,{id:l,label:o,action:function(){return function(e){(null==h?void 0:h.id)!==e.pipWindow.id&&(0,u.switchPIPFocus)(e.pipWindow.id);var t=e.participant;null!=t&&t.type!==g.ParticipantTypes.ACTIVITY&&i.default.selectParticipant(a,t.id)}(e)}},l)})))}A.displayName="PictureInPictureSwitchWindowMenu";function P(e){var t=e.voiceChannelId,n=e.idle,r=(0,o.useStateFromStores)([p.default],(function(){return p.default.pipWindows})),i=Array.from(r.values()),u=(0,o.useStateFromStoresArray)([d.default],(function(){
return d.default.getAllActiveStreamsForChannel(t)})).filter((function(e){var n;return e.ownerId!==(null===(n=v.default.getCurrentUser())||void 0===n?void 0:n.id)&&e.channelId===t})),l=1===i.length&&i[0].component===_.PictureInPictureComponents.EMBED_IFRAME||0===u.length,s=1===i.length&&u.length<=1;return l||s?null:T(h.default,{position:h.default.Positions.BOTTOM,renderPopout:function(e){return a.createElement(A,C({voiceChannelId:t,pipWindows:i,idle:n},e))}},void 0,(function(e){return a.createElement(y.default,C({className:O.default.menuIcon},e),T(m.default,{color:_.Colors.WHITE}))}))}P.displayName="PictureInPictureSwitchWindowPopout";var M=P;t.default=M},896566:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=u(n(518931)),o=u(n(530250)),i=u(n(515506));function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e){var t=e.mainText,n=e.supportingText,r=e.children,u=e.size;return s(o.default,{className:i.default.root,
justify:o.default.Justify.CENTER,align:o.default.Align.CENTER,direction:o.default.Direction.VERTICAL},void 0,s(a.default,{header:t,description:n,size:u}),r)}c.displayName="ScreenMessage"},778339:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=p;d(n(667294));var r,a=s(n(294184)),o=d(n(730977)),i=s(n(417184)),u=s(n(134893)),l=s(n(400534));function s(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}
function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e){var t=e.errorMessage,n=e.className;return f(o.TooltipContainer,{className:(0,a.default)(n,l.default.root),text:t,position:o.default.Positions.BOTTOM,color:o.TooltipColors.GREY},void 0,f(u.default,{},void 0,f(i.default,{"aria-label":null!=t?t:"",className:l.default.warningIcon})))}p.displayName="QualityWarning"},605520:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=(r=n(250003))&&r.__esModule?r:{default:r},i=n(143414),u=["isActivityActive"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function c(e){var t=e.isActivityActive,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return a.createElement(i.CenterControlButton,s({color:t?"white":"primaryDark",
iconComponent:o.default},n))}c.displayName="ActivityButton"},116790:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=c(n(294184)),i=c(n(160490)),u=c(n(143414)),l=c(n(810881)),s=["direction","className"];function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}!function(e){e[e.UP=0]="UP";e[e.DOWN=1]="DOWN"}(r||(r={}));function p(e){var t,n=e.direction,c=e.className,d=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,s);return a.createElement(u.default,f({className:(0,o.default)(c,l.default.arrow,(t={},t[l.default.up]=n===r.UP,t)),iconComponent:i.default},d))}p.displayName="ArrowButton";p.Directions=r;var v=p;t.default=v},146529:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ChatButton=V;t.ChatButtonWithNUX=H;t.useChatButtonState=U;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=R(n(294184)),i=n(496486),u=R(n(468811)),l=n(536211),s=n(923387),c=R(n(229132)),d=R(n(825724)),f=R(n(305081)),p=R(n(142024)),v=R(n(191391)),y=R(n(211136)),h=R(n(946447)),m=R(n(160629)),_=n(645758),g=n(730977),E=n(810919),O=n(993442),S=n(48102),b=R(n(143414)),I=n(770348),C=n(583551),T=R(n(247001)),A=R(n(34021)),P=R(n(135849)),M=R(n(742918)),N=["channelId","className","showingClassName","onClick","inPopout"];function R(e){return e&&e.__esModule?e:{default:e}}function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}function D(){D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}
;return D.apply(this,arguments)}function L(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function U(e){var t=(0,l.useStateFromStores)([h.default],(function(){return!(0,i.isEmpty)(h.default.getTypingUsers(e))}),[e]),n=(0,l.useStateFromStores)([y.default],(function(){return y.default.getVoiceChannelId()===e}),[e]),r=(0,l.useStateFromStoresObject)([v.default],(function(){return{unreadCount:v.default.getUnreadCount(e),mentionCount:v.default.getMentionCount(e)}}),[e]);return{unreadCount:r.unreadCount,mentionCount:r.mentionCount,voiceChannelIsSelected:n,isTyping:t}}var G=L("rect",{fill:"white",width:"100%",
height:"100%"}),F=L("g",{fill:"black",transform:"translate(5.5, 8.5) scale("+11/24+")"},void 0,L(E.AnimatedDots,{dotRadius:3.5,spacing:3,fill:"black"})),x=L("circle",{cx:"20",cy:"19",r:"10",fill:"black"});function W(e){var t=e.width,n=void 0===t?24:t,r=e.height,o=void 0===r?24:r,i=e.isBadged,l=void 0!==i&&i,s=e.isTyping,c=void 0!==s&&s,d=k(a.useState((function(){return u.default.v4()})),1)[0];return L("svg",{width:n,height:o,viewBox:"0 0 24 24"},void 0,L("defs",{},void 0,L("mask",{id:d},void 0,G,c&&F,l&&x)),L("path",{fill:"currentColor",d:"M4.79805 3C3.80445 3 2.99805 3.8055 2.99805 4.8V15.6C2.99805 16.5936 3.80445 17.4 4.79805 17.4H7.49805V21L11.098 17.4H19.198C20.1925 17.4 20.998 16.5936 20.998 15.6V4.8C20.998 3.8055 20.1925 3 19.198 3H4.79805Z",mask:"url(#"+d+")"}))}W.displayName="ChatBubbleIcon";function B(e){
var t,n,r=e.className,a=U(e.channelId),i=a.unreadCount,u=a.mentionCount,l=a.isTyping,s=null!=u&&u>0,c=null!==(t=s?u:i)&&void 0!==t?t:0,d=c>99?"99+":c,f=a.voiceChannelIsSelected&&null!=i&&i>0;return L("div",{className:(0,o.default)(A.default.chatIcon,r)},void 0,L(W,{isBadged:f,isTyping:l}),f&&L(_.Text,{className:(0,o.default)(A.default.unreadCount,(n={},n[A.default.mention]=s,n)),variant:"text-xs/normal"},void 0,d))}B.displayName="ChatButtonContent";function V(e){var t,n=e.channelId,r=e.className,i=e.showingClassName,u=e.onClick,s=e.inPopout,f=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,N),p=f.disabled,v=a.useRef(null),y=(0,l.useStateFromStores)([d.default],(function(){return d.default.getChatOpen(n)}),[n]),h=function(e){var t=U(e),n=t.unreadCount,r=t.mentionCount,o=t.isTyping,i=k(a.useState(!1),2),u=i[0],l=i[1];a.useEffect((function(){l(n>0);var e=setTimeout((function(){l(!1)
}),S.TOAST_LINGER_MS);return function(){clearTimeout(e);l(!1)}}),[n]);return{isShowing:u||r>0||o,unreadCount:n,mentionCount:r}}(n),m=h.isShowing,_=h.unreadCount,E=h.mentionCount,C=a.useCallback((function(){null==u||u();c.default.updateChatOpen(n,!y)}),[n,y,u]),A=a.useCallback((function(e){return L(B,{className:e.className,channelId:n})}),[n]),P=a.useCallback((function(){var e;null===(e=v.current)||void 0===e||e.focus()}),[]);(0,O.useComponentAction)({event:I.ComponentActions.FOCUS_CHAT_BUTTON,handler:p?null:P});var M,R=k(a.useState(!1),2),w=R[0],j=R[1],G=a.useCallback((function(){s&&j(!0)}),[s]);(0,O.useComponentAction)({event:I.ComponentActions.SHOW_TEXT_IN_VOICE_POPOUT_COMING_SOON_TIP,handler:G});a.useEffect((function(){var e;w&&(e=setTimeout((function(){j(!1)}),3e3));return function(){clearTimeout(e)}}),[w]);var F=[M=s&&p?T.default.Messages.TEXT_IN_VOICE_POPOUT_DISABLED:y?T.default.Messages.VIDEO_CALL_HIDE_CHAT:T.default.Messages.VIDEO_CALL_SHOW_CHAT]
;E>0&&F.push(T.default.Messages.GUILD_SIDEBAR_CHANNEL_A11Y_LABEL_MENTIONS.format({mentionCount:E}));_>0&&F.push(T.default.Messages.GUILD_SIDEBAR_CHANNEL_A11Y_LABEL_UNREAD);return a.createElement(b.default,D({buttonRef:v,onClick:C,label:M,"aria-label":F.join(", "),iconComponent:A,tooltipPosition:g.TooltipPositions.BOTTOM,wrapperClassName:(0,o.default)(r,null!=i&&(t={},t[i]=m,t)),forceTooltipOpen:w},f))}V.displayName="ChatButton";function H(e){var t=e.channelId,n=a.useCallback((function(){c.default.updateChatOpen(t,!0)}),[t]);return L(f.default,{contentTypes:[s.DismissibleContent.CALL_CHAT_BUTTON_TEXT_IN_VOICE_COACH_MARK],groupName:C.DismissibleContentGroupName.CALL_CHAT_BUTTON},void 0,(function(t){var r=t.visibleContent,o=t.markAsDismissed;return r===s.DismissibleContent.CALL_CHAT_BUTTON_TEXT_IN_VOICE_COACH_MARK?L(m.default,{renderPopout:function(){return L(p.default,{className:A.default.upsellTooltipOffset,header:T.default.Messages.TEXT_IN_VOICE_ONBOARDING_TITLE,asset:L("img",{alt:"",
src:M.default,className:P.default.fullWidthImage}),content:T.default.Messages.TEXT_IN_VOICE_ONBOARDING_SUBTITLE,buttonCTA:T.default.Messages.TEXT_IN_VOICE_ONBOARDING_CTA,onClick:n,secondaryButtonCTA:T.default.Messages.DISMISS,markAsDismissed:o,caretPosition:p.default.CaretPosition.RIGHT})},position:m.default.Positions.BOTTOM,align:m.default.Align.RIGHT,animation:m.default.Animation.TRANSLATE,spacing:16,shouldShow:!0},void 0,(function(){return a.createElement(V,D({},e,{onClick:o}))})):a.createElement(V,e)}))}H.displayName="ChatButtonWithNUX"},928221:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=d;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(730977),o=l(n(775803)),i=l(n(143414)),u=l(n(247001));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return c.apply(this,arguments)}function d(e){var t=c({},e);return r.createElement(i.default,c({label:u.default.Messages.MORE,iconComponent:o.default,tooltipPosition:a.TooltipPositions.BOTTOM},t))}d.displayName="ContextButton"},278851:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=p(n(536211)),o=p(n(902305)),i=p(n(949898)),u=p(n(775776)),l=p(n(814379)),s=n(245838),c=p(n(143414)),d=p(n(247001)),f=["enabled"];function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function h(e){var t=e.enabled,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])
}return a}(e,f),a=t?d.default.Messages.EXIT_FULL_SCREEN:d.default.Messages.FULL_SCREEN,o=t?l.default:u.default;return r.createElement(c.default,y({label:a,iconComponent:o},n))}h.displayName="FullscreenButton";var m=a.default.connectStores([i.default,o.default],(function(e){var t=e.node,n=e.guestWindow;return{enabled:(0,s.isFullScreen)(t,null==n?void 0:n.document)}}))(h);t.default=m},56396:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=p;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),a=c(n(229132)),o=n(730977),i=c(n(852546)),u=c(n(143414)),l=c(n(247001)),s=["channelId"];function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}function p(e){var t=e.channelId,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,s);return r.createElement(u.default,f({onClick:function(){a.default.selectParticipant(t,null)},label:l.default.Messages.VIDEO_CALL_RETURN_TO_GRID,iconComponent:i.default,tooltipPosition:o.TooltipPositions.BOTTOM},n))}p.displayName="GridButton"},643779:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f
;var r=c(n(667294)),a=l(n(119431)),o=c(n(143414)),i=l(n(247001)),u=["channel","centerButton"];function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}function f(e){
var t=e.channel,n=e.centerButton,l=void 0!==n&&n,s=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u),c=l?o.CenterControlButton:o.default,f=t.isManaged()||!t.isPrivate()?i.default.Messages.CONNECT:i.default.Messages.JOIN_CALL;return r.createElement(c,d({},s,{iconComponent:a.default,label:f}))}f.displayName="JoinCallButton"},67286:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r=c(n(667294)),a=l(n(434663)),o=c(n(143414)),i=l(n(247001)),u=["centerButton"];function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}function f(e){var t=e.centerButton,n=void 0!==t&&t,l=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u),s=n?o.CenterControlButton:o.default;return r.createElement(s,d({},l,{iconComponent:a.default,label:i.default.Messages.EMBEDDED_ACTIVITIES_LEAVE_ACTIVITY}))}f.displayName="LeaveCallButton"},401311:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r=c(n(667294)),a=l(n(331546)),o=c(n(143414)),i=l(n(247001)),u=["centerButton"];function l(e){
return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}function f(e){var t=e.centerButton,n=void 0!==t&&t,l=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}
return a}(e,u),s=n?o.CenterControlButton:o.default;return r.createElement(s,d({},l,{iconComponent:a.default,label:i.default.Messages.DISCONNECT_SELF}))}f.displayName="LeaveCallButton"},607576:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=m;var r,a=p(n(667294)),o=d(n(945926)),i=d(n(855480)),u=d(n(287317)),l=p(n(143414)),s=d(n(592695)),c=["selfMute","serverMute","suppress","centerButton"];function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function v(){v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return v.apply(this,arguments)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e){var t=e.className;return y(u.default,{foreground:s.default.slash,className:t})}h.displayName="MuteWithForeground";function m(e){var t=e.selfMute,n=e.serverMute,r=e.suppress,u=e.centerButton,s=void 0!==u&&u,d=function(e,t){if(null==e)return{}
;var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,c),f=t||n||r,p=s?l.CenterControlButton:l.default,y=(0,o.default)(t,n,r),m=f?h:i.default;return a.createElement(p,v({iconComponent:m,label:y},d))}m.displayName="MuteButton"},975577:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ParticipantsCount=m;t.default=_;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=p(n(294184)),i=n(645758),u=n(730977),l=p(n(547282)),s=p(n(143414)),c=p(n(247001)),d=p(n(898641)),f=["count"];function p(e){
return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e){var t=e.className,n=e.count;return h("div",{className:(0,o.default)(d.default.root,d.default.comboIcon,t)},void 0,h(l.default,{className:d.default.icon}),h(i.Text,{color:"none",
className:d.default.count,variant:"text-md/normal"},void 0,n))}m.displayName="ParticipantsCount";function _(e){var t=e.count,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,f);return a.createElement(s.default,y({label:c.default.Messages.CHANNEL_CALL_PARTICIPANTS,iconComponent:function(e){return h(m,{className:e.className,count:t})},tooltipPosition:u.TooltipPositions.BOTTOM},n))}_.displayName="ParticipantsButton"},866219:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=p;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=c(n(294184)),o=c(n(435012)),i=c(n(143414)),u=c(n(247001)),l=c(n(946078)),s=["popoutOpen","onClosePopout","onOpenPopout"];function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}function p(e){var t,n=e.popoutOpen,c=e.onClosePopout,d=e.onOpenPopout,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,s),v=n?u.default.Messages.POPOUT_RETURN:u.default.Messages.POPOUT_PLAYER;return r.createElement(i.default,f({label:v,onClick:n?c:d,iconComponent:o.default,iconClassName:(0,
a.default)((t={},t[l.default.popIn]=n,t))},p))}p.displayName="PopoutButton"},861891:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=s(n(227479)),o=s(n(41183)),i=s(n(143414)),u=s(n(247001)),l=["popoutWindowAlwaysOnTop","onToggleStayOnTop"];function s(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){
var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}function f(e){var t=e.popoutWindowAlwaysOnTop,n=e.onToggleStayOnTop,s=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,l),c=t?u.default.Messages.POPOUT_REMOVE_FROM_TOP:u.default.Messages.POPOUT_STAY_ON_TOP,f=t?o.default:a.default;return r.createElement(i.default,d({onClick:function(){return n(!t)},label:c,iconComponent:f},s))}f.displayName="StayOnTopButton"},305914:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=v;var r=d(n(667294)),a=s(n(422621)),o=s(n(487255)),i=d(n(143414)),u=s(n(247001)),l=["isSelfStream","centerButton"];function s(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function d(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}function p(e){return e?u.default.Messages.STOP_STREAMING:u.default.Messages.STOP_WATCHING}function v(e){var t=e.isSelfStream,n=e.centerButton,u=void 0!==n&&n,s=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,l),c=u?i.CenterControlButton:i.default
;return r.createElement(c,f({label:p(t),iconComponent:t?a.default:o.default},s))}v.displayName="StopStreamButton"},735319:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r=c(n(667294)),a=l(n(952117)),o=c(n(143414)),i=l(n(247001)),u=["hasPermission","centerButton"];function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function d(){d=Object.assign||function(e){
for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}function f(e){var t=e.hasPermission,n=e.centerButton,l=void 0!==n&&n,s=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u),c=l?o.CenterControlButton:o.default,f=t?i.default.Messages.SHARE_YOUR_SCREEN:i.default.Messages.ACTIVITY_PANEL_GO_LIVE_TOOLTIP_NO_PERMISSION_IN_VOICE;return r.createElement(c,d({label:f,disabled:!t,iconComponent:a.default},s))}f.displayName="StreamButton"},715801:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=m;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=f(n(294184)),i=f(n(229132)),u=f(n(160490)),l=f(n(547282)),s=f(n(143414)),c=f(n(247001)),d=f(n(685109));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e){var t=e.className,n=e.isVertical
;return v("div",{className:d.default.iconContainer},void 0,v(u.default,{className:(0,o.default)(n?d.default.upCaret:d.default.leftCaret,t)}),v(l.default,{className:(0,o.default)(d.default.members,t)}))}y.displayName="OpenIcon";function h(e){var t=e.className,n=e.isVertical;return v("div",{className:d.default.iconContainer},void 0,v(u.default,{className:(0,o.default)(n?d.default.downCaret:d.default.rightCaret,t)}),n&&v(l.default,{className:(0,o.default)(d.default.members,t)}))}h.displayName="CloseIcon";function m(e){var t=e.channelId,n=e.className,r=e.isParticipantsOpen,u=e.isVertical,l=void 0!==u&&u,f=e.hideTooltip,p=void 0!==f&&f;var m=a.useCallback((function(e){var t=e.className;return v(r?h:y,{className:t,isVertical:l})}),[r,l]);return v(s.default,{label:r?c.default.Messages.VIDEO_CALL_HIDE_MEMBERS:c.default.Messages.VIDEO_CALL_SHOW_MEMBERS,className:(0,o.default)(d.default.participantsButton,n),onClick:function(){i.default.toggleParticipants(t,!r)},iconComponent:m,
shouldShowTooltip:!p})}m.displayName="ToggleParticipantsButton"},645675:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.VideoButtonWrapper=g;t.default=E;var r,a=y(n(667294)),o=p(n(294184)),i=n(433383),u=n(839370),l=p(n(79027)),s=y(n(143414)),c=p(n(283253)),d=["enabled","join","channel","onChange","onCameraUnavailable","cameraUnavailable","hasPermission","className","channelLimitReached","channelLimit","centerButton","onPopoutClick"],f=["unavailable"];function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(){m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return m.apply(this,arguments)}function _(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}function g(e){var t=(0,
u.getVideoButtonLabel)(e),n=e.enabled,r=e.cameraUnavailable,o=e.onChange,s=e.onCameraUnavailable,c=e.hasPermission,d=e.children,f=e.channelLimitReached,p=void 0!==f&&f,v=(0,i.useAppContext)(),y=r?function(){return s()}:function(){return o(!e.enabled,v)};return a.createElement(a.Fragment,null,d({onClick:y,active:n,disabled:!c||p&&!n,iconComponent:l.default,label:t,unavailable:r}))}function E(e){var t=e.enabled,n=e.join,r=e.channel,i=e.onChange,u=e.onCameraUnavailable,l=e.cameraUnavailable,p=e.hasPermission,v=e.className,y=e.channelLimitReached,E=e.channelLimit,O=e.centerButton,S=void 0!==O&&O,b=e.onPopoutClick,I=_(e,d),C=S?s.CenterControlButton:s.default;return h(g,{enabled:t,join:n,channel:r,onChange:i,onCameraUnavailable:u,cameraUnavailable:l,hasPermission:p,channelLimitReached:y,channelLimit:E},void 0,(function(e){var t,n=e.unavailable,r=_(e,f);return a.createElement(C,m({},r,I,{className:(0,o.default)(v,(t={},t[c.default.fauxDisabled]=n,t)),onPopoutClick:b}))}))}
E.displayName="VideoButton"},727012:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=y;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=f(n(229132)),o=n(730977),i=f(n(670427)),u=f(n(950291)),l=f(n(143414)),s=n(859089),c=f(n(247001)),d=["channelId","isHorizontal"];function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(){v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return v.apply(this,arguments)}function y(e){var t=e.channelId,n=e.isHorizontal,f=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,d);return r.createElement(l.default,v({onClick:function(){a.default.selectParticipant(t,s.ParticipantSelectionTypes.AUTO)},label:c.default.Messages.VIDEO_CALL_AUTO_SELECT,iconComponent:n?i.default:u.default,tooltipPosition:o.TooltipPositions.BOTTOM},f))}y.displayName="VideoLayoutButton"},561603:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=p(n(294184)),o=p(n(536211)),i=p(n(740207)),u=p(n(635014)),l=p(n(879567)),s=n(758956),c=n(864489),d=p(n(134893)),f=p(n(964063));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e){
var t=e.iconClassName,n=e.currentVolume,r=e.sliderClassName,o=e.userId,u=e.currentWindow,p=void 0===u?window:u,v=e.muted,h=e.context;return y(d.default,{},void 0,y(l.default,{currentWindow:p,iconClassName:(0,a.default)(t,f.default.controlIcon),sliderClassName:r,value:(0,s.amplitudeToPerceptual)(n),muted:v,maxValue:c.isPlatformEmbedded?200:100,onValueChange:function(e){return function(e,t,n,r){e>0&&n&&i.default.toggleLocalMute(t,r);i.default.setLocalVolume(t,(0,s.perceptualToAmplitude)(e),r)}(e,o,v,h)},onToggleMute:function(){return function(e,t){i.default.toggleLocalMute(e,t)}(o,h)}}))}h.displayName="VolumeButton";var m=o.default.connectStores([u.default],(function(e){var t=e.userId,n=e.context;return{currentVolume:u.default.getLocalVolume(t,n),muted:u.default.isLocalMute(t,n)}}))(h);t.default=m},555325:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;t.shouldImmediatelyRequestVoicePermissions=E;var r=h(n(636602)),a=h(n(177230)),o=function(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(406136)),i=h(n(258079)),u=n(104144),l=h(n(950673)),s=h(n(423046)),c=h(n(644263)),d=h(n(635014)),f=h(n(893160)),p=h(n(919158)),v=n(770348);function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){m=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return m(e,t)}var _=null;function g(){o.default.requestPermission(o.NativePermissionTypes.AUDIO).then((function(e){e&&(0,p.default)(!0)}))
;d.default.getMode()===v.InputModes.PUSH_TO_TALK&&o.default.requestPermission(o.NativePermissionTypes.INPUT_MONITORING)}function E(e,t){var n;return!(null===(n=c.default.getChannel(t))||void 0===n?void 0:n.isListenModeCapable())||i.default.isSpeaker(e,t)}var O=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;m(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){r.default.subscribe(v.ActionTypes.VOICE_STATE_UPDATES,this.handleVoiceStateUpdates);r.default.subscribe(v.ActionTypes.VOICE_CHANNEL_SELECT,this.handleVoiceChannelSelect)};n._terminate=function(){r.default.unsubscribe(v.ActionTypes.VOICE_STATE_UPDATES,this.handleVoiceStateUpdates);r.default.unsubscribe(v.ActionTypes.VOICE_CHANNEL_SELECT,this.handleVoiceChannelSelect)};n.handleVoiceChannelSelect=function(e){null==e.channelId&&(_=null)};n.handleVoiceStateUpdates=function(e){e.voiceStates.forEach((function(e){
var t=e.userId,n=e.channelId;if(null!=n){if(s.default.getId()===t&&null!=f.default.getRTCConnectionId()&&_!==n){if(E(t,n)){_=n;g()}else{var r;if(r=new l.default(e),(0,u.getAudienceRequestToSpeakState)(r)===u.RequestToSpeakStates.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK){_=n;g()}}}}}))};return t}(a.default));t.default=O},919158:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){}},350539:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=n(91817),a=v(n(636602)),o=v(n(136873)),i=v(n(177230)),u=v(n(607209)),l=v(n(644263)),s=v(n(30098)),c=v(n(929230)),d=v(n(893160)),f=n(864489),p=n(770348);function v(e){return e&&e.__esModule?e:{default:e}}function y(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t){m=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return m(e,t)}var _=new r.Timeout,g=new r.Timeout,E=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;m(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n._initialize=function(){a.default.subscribe(p.ActionTypes.IDLE,this.handleIdleUpdate)};n._terminate=function(){
_.stop();g.stop();a.default.unsubscribe(p.ActionTypes.IDLE,this.handleIdleUpdate)};n.handleIdleUpdate=function(){var e=c.default.getIdleSince();if(f.isPlatformEmbedded){_.stop();g.stop();for(var t,n=y(u.default.getAllActiveStreams());!(t=n()).done;){if(t.value.state!==p.ApplicationStreamStates.ENDED)return}if(null!=e){var r=d.default.getChannelId();if(null!=r){g.start(18e6,(function(){o.default.selectVoiceChannel(null)}));var a=s.default.getGuild(d.default.getGuildId());if(null!=a&&null!=a.afkChannelId&&a.afkChannelId!==r&&null!=a.afkTimeout){var i=l.default.getChannel(r);null!=i&&(i.isGuildStageVoice()||_.start(e+1e3*a.afkTimeout-Date.now(),(function(){null!=(a=s.default.getGuild(d.default.getGuildId()))&&null!=a.afkChannelId&&o.default.selectVoiceChannel(a.afkChannelId)})))}}}}};return t}(i.default));t.default=E},131629:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.NO_WELCOME_SCREEN=void 0;var r,a=u(n(536211)),o=u(n(636602)),i=n(770348)
;function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var s={};t.NO_WELCOME_SCREEN=s;var c={},d={},f=!1,p=!1,v=!1;function y(e){var t=e.invite.guild;if(null!=(null==t?void 0:t.welcome_screen)){c[t.id]=t.welcome_screen;return!0}return!1}function h(e){var t=e.welcomeScreen,n=e.guildId;c[n]=null!=t?t:s}var m=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.get=function(e){if(null!=e)return c[e]};n.isFetching=function(){return p};n.hasError=function(){return v};n.hasSeen=function(e,t){void 0===t&&(t=!1);return null!=e&&(t?f:d[e]||!1)};return t}(a.default.Store);m.displayName="WelcomeScreenStore";var _=new m(o.default,((r={})[i.ActionTypes.INVITE_RESOLVE_SUCCESS]=y,r[i.ActionTypes.INVITE_ACCEPT_SUCCESS]=y,r[i.ActionTypes.WELCOME_SCREEN_SUBMIT_SUCCESS]=h,
r[i.ActionTypes.WELCOME_SCREEN_UPDATE]=h,r[i.ActionTypes.WELCOME_SCREEN_VIEW]=function(e){var t=e.guildId,n=e.isLurking;d[t]=!0;n&&(f=!0)},r[i.ActionTypes.GUILD_STOP_LURKING]=function(){f=!1},r[i.ActionTypes.GUILD_DELETE]=function(e){var t=e.guild.id;d[t]=!1},r[i.ActionTypes.WELCOME_SCREEN_FETCH_START]=function(){p=!0;v=!1},r[i.ActionTypes.WELCOME_SCREEN_FETCH_SUCCESS]=function(e){p=!1;v=!1;var t=e.welcomeScreen,n=e.guildId;c[n]=null!=t?t:s},r[i.ActionTypes.WELCOME_SCREEN_FETCH_FAIL]=function(){p=!1;v=!0},r));t.default=_},737931:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=h(n(536211)),i=h(n(972247)),u=n(91817),l=h(n(636602)),s=h(n(312260)),c=n(811076),d=h(n(288356)),f=h(n(191839)),p=h(n(834162)),v=h(n(871778)),y=n(770348);function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){m=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return m(e,t)}function _(e,t){
var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var E="ActivityTrackingStore",O=18e5,S=null!==(r=i.default.get(E))&&void 0!==r?r:{},b={},I=!1;function C(e,t){void 0===t&&(t=!0);t&&T(e,!0);var n=b[e.applicationId];if(null!=n){
n.stop();delete b[e.applicationId]}delete S[e.applicationId];i.default.set(E,S)}function T(e,t){void 0===t&&(t=!1);var n=Date.now(),r=null!=e.updatedAt?n-e.updatedAt:0;r>21e5&&(r=0);s.default.updateActivity({applicationId:e.applicationId,distributor:e.isDiscordApplication?y.Distributors.DISCORD:e.distributor,shareActivity:(0,c.shouldShareApplicationActivity)(e.applicationId,v.default,f.default),token:e.token,duration:Math.floor(r/1e3),closed:t});e.updatedAt=n;var a=b[e.applicationId];null==a&&(a=b[e.applicationId]=new u.Interval).start(O,(function(){return T(e)}));if(!t){S[e.applicationId]=e;i.default.set(E,S)}}function A(e){void 0===e&&(e=!0);for(var t,n=p.default.getRunningGames(),r=new Set,a=_(n);!(t=a()).done;){var o=t.value,i=o.name,u=o.distributor,l=d.default.getGameByName(i);if(null!=l){r.add(l.id);l.id in S||T({applicationId:l.id,updatedAt:Date.now(),distributor:u})}}for(var s=0,c=Object.keys(S);s<c.length;s++){var f=c[s];r.has(f)||C(S[f],e)}}function P(){
for(var e=0,t=Object.keys(S);e<t.length;e++){var n=t[e];C(S[n])}I=!1}var M=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;m(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(p.default,v.default,f.default);this.syncWith([v.default],A)};n.getActivities=function(){return S};return t}(o.default.Store);M.displayName="ActivityTrackingStore";var N=new M(l.default,((a={})[y.ActionTypes.RUNNING_GAMES_CHANGE]=function(){return A()},a[y.ActionTypes.CONNECTION_OPEN]=function(){if(I)return!1;for(var e=0,t=Object.keys(S);e<t.length;e++){var n=t[e];T(S[n])}A(!1);I=!0},a[y.ActionTypes.CONNECTION_CLOSED]=function(e){4004===e.code&&P()},a[y.ActionTypes.LOGOUT]=P,a[y.ActionTypes.ACTIVITY_UPDATE_SUCCESS]=function(e){var t=e.applicationId,n=e.token,r=S[t];if(null==r)return!1;r.token=n;i.default.set(E,S)},a[y.ActionTypes.ACTIVITY_UPDATE_FAIL]=function(e){var t=e.applicationId,n=S[t]
;if(null==n)return!1;n.token=null;n.updatedAt=null;i.default.set(E,S)},a));t.default=N},743237:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=l(n(536211)),o=l(n(636602)),i=l(n(23535)),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){s=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return s(e,t)}var c=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;s(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){i.default.getSocket().processDispatchQueue()};n.hasCache=function(){return!0};return t}(a.default.Store);c.displayName="CacheStore";var d=new c(o.default,((r={})[u.ActionTypes.CONNECTION_OPEN]=function(){return!1},r));t.default=d},938199:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=u(n(536211)),o=u(n(636602)),i=n(770348);function u(e){
return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var s={toastsEnabledForChannel:{}},c=s;var d=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(e){c=null!=e?e:s};n.getToastsEnabled=function(e){var t;return null===(t=c.toastsEnabledForChannel[e])||void 0===t||t};n.getState=function(){return c};return t}(a.default.PersistedStore);d.displayName="CallChatToastsStore";d.persistKey="CallChatToasts";var f=new d(o.default,((r={})[i.ActionTypes.CALL_CHAT_TOASTS_SET_ENABLED]=function(e){var t=e.channelId,n=e.toastsEnabled;c.toastsEnabledForChannel[t]=n},r[i.ActionTypes.LOGOUT]=function(){c.toastsEnabledForChannel={}},r));t.default=f},101820:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a,o=v(n(536211)),i=n(91817),u=v(n(636602)),l=v(n(786345)),s=v(n(136873)),c=v(n(387692)),d=v(n(487372)),f=n(770348),p=v(n(247001));function v(e){return e&&e.__esModule?e:{default:e}}function y(e,t){y=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return y(e,t)}var h=new i.Timeout;function m(){if(null!=a){l.default.sendBotMessage(a,p.default.Messages.BOT_CALL_IDLE_DISCONNECT);s.default.selectVoiceChannel(null)}}var _=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;y(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.initialize=function(){this.waitFor(c.default)};return t}(o.default.Store);_.displayName="CallIdleStore";var g=new _(u.default,((r={})[f.ActionTypes.CONNECTION_CLOSED]=function(){a=null;h.stop()},r[f.ActionTypes.VOICE_STATE_UPDATES]=function(e){return e.voiceStates.reduce((function(e,t){if(null!=t.guildId)return e;var n=c.default.getCurrentClientVoiceChannelId(null);if(null==n){h.stop()
;return e}if(1===d.default.countVoiceStatesForChannel(n)){a=n;h.start(3e5,m,!1)}else h.stop();return e}),!1)},r));t.default=g},484024:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=u(n(536211)),o=u(n(636602)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var s={};var c=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.getSkuIdForChannel=function(e){return s[e]};return t}(a.default.Store);c.displayName="ChannelSKUStore";var d=new c(o.default,((r={})[i.ActionTypes.CONNECTION_OPEN]=function(){s={}},r[i.ActionTypes.STORE_LISTING_FETCH_SUCCESS]=function(e){var t=e.channelId,n=e.storeListing;null!=t&&(s[t]=n.sku.id)},r));t.default=d},42398:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.default=void 0;var r,a=p(n(496486)),o=p(n(536211)),i=p(n(636602)),u=p(n(32079)),l=p(n(491462)),s=p(n(30098)),c=p(n(689389)),d=p(n(89981)),f=n(770348);function p(e){return e&&e.__esModule?e:{default:e}}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function y(e,t){y=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return y(e,t)}function h(e){return function(e){if(Array.isArray(e))return _(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||m(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){if(e){if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(){g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return g.apply(this,arguments)}var E,O,S,b=[],I=null,C=!1,T=f.FormStates.CLOSED,A={},P=!1,M=null;function N(){O=l.default.getChannel();E=null!=O?s.default.getGuild(O.guild_id):null;b=null!=O&&null!=E&&c.default.can(f.Permissions.MANAGE_WEBHOOKS,O)?d.default.getWebhooksForChannel(E.id,O.id):[];if(null!=I){var e=w(I.id);null!=e&&(I=e)}T=f.FormStates.OPEN;A={};P=!1}var R=a.default.debounce((function(){if(P){(null==I||a.default.isEqual(I,w(I.id)))&&(P=!1);P||L.emitChange()}}),500);function w(e){return b.find((function(t){return t.id===e}))}var D=function(e){!function(e,t){
e.prototype=Object.create(t.prototype);e.prototype.constructor=e;y(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(l.default,s.default,d.default,c.default)};n.hasChanges=function(){return P};n.getWebhook=function(e){return w(e)};n.showNotice=function(){return this.hasChanges()};n.getProps=function(){return{submitting:T===f.FormStates.SUBMITTING,webhooks:b,editedWebhook:I,section:S,sectionId:M,hasChanges:this.hasChanges(),isFetching:C,errors:A}};!function(e,t,n){t&&v(e.prototype,t);n&&v(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"webhooks",get:function(){return b}},{key:"editedWebhook",get:function(){return I}},{key:"formState",get:function(){return T}}]);return t}(o.default.Store);D.displayName="ChannelSettingsIntegrationsStore";var L=new D(i.default,__OVERLAY__?{}:((r={})[f.ActionTypes.INTEGRATION_SETTINGS_INIT]=N,r[f.ActionTypes.INTEGRATION_SETTINGS_SAVE_SUCCESS]=N,
r[f.ActionTypes.CHANNEL_SETTINGS_SET_SECTION]=function(e){if(e.section!==f.ChannelSettingsSections.INTEGRATIONS)return!1;S=f.IntegrationSettingsSections.OVERVIEW;if(null==E){var t=l.default.getChannel(),n=null==t?void 0:t.getGuildId();if(null!=t&&null!=n){u.default.fetchForChannel(n,t.id);C=!0}N()}},r[f.ActionTypes.INTEGRATION_SETTINGS_SET_SECTION]=function(e){var t=e.section,n=e.sectionId;S=t;M=n},r[f.ActionTypes.INTEGRATION_SETTINGS_START_EDITING_WEBHOOK]=function(e){var t=w(e.webhookId);if(null==t)return!1;I=t;A={};P=!1},r[f.ActionTypes.INTEGRATION_SETTINGS_STOP_EDITING_WEBHOOK]=function(){I=null;A={};P=!1},r[f.ActionTypes.INTEGRATION_SETTINGS_UPDATE_WEBHOOK]=function(e){var t=e.settings;if(null==I)return!1;I=g({},I);if(null!=t.name&&I.name!==t.name){I.name=t.name;P=!0}if(void 0!==t.avatar&&I.avatar!==t.avatar){I.avatar=t.avatar;P=!0}if(null!=t.channelId&&I.channel_id!==t.channelId){I.channel_id=t.channelId;P=!0}P&&R()},r[f.ActionTypes.CHANNEL_SETTINGS_CLOSE]=function(){O=null
;E=null;b=[];I=null;T=f.FormStates.CLOSED},r[f.ActionTypes.WEBHOOKS_UPDATE]=function(e){var t=e.guildId,n=e.channelId,r=e.webhooks;if(null==E||t!==E.id||null==O||n!==O.id||null==r||T===f.FormStates.SUBMITTING)return!1;C=!1;for(var a=function(e){var t=b[e];if(null!=n&&(null==t?void 0:t.channel_id)!==n)return"continue";var a=r.find((function(e){if(e.id===t.id)return!0}));if(null!=a){var o,i=g({},t,{},a);b[e]=i;P||(null===(o=I)||void 0===o?void 0:o.id)!==i.id||(I=i)}else{var u;(null===(u=I)||void 0===u?void 0:u.id)===t.id&&(I=null);b.splice(e,1)}},o=b.length-1;o>=0;o--)a(o);for(var i,u=function(){var e=i.value;null==b.find((function(t){if(t.id===e.id)return!0}))&&b.push(e)},l=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=m(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}
throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(r);!(i=l()).done;)u();b=h(b);R()},r[f.ActionTypes.INTEGRATION_SETTINGS_SUBMITTING]=function(){T=f.FormStates.SUBMITTING;A={}},r[f.ActionTypes.INTEGRATION_SETTINGS_SAVE_FAILURE]=function(e){var t;if(T!==f.FormStates.SUBMITTING)return!1;T=f.FormStates.OPEN;A=null!==(t=e.errors)&&void 0!==t?t:{}},r)),k=L;t.default=k},847583:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=p(n(496486)),o=p(n(536211)),i=p(n(972247)),u=p(n(636602)),l=p(n(656016)),s=p(n(491462)),c=p(n(644263)),d=n(770348),f=n(739889);function p(e){return e&&e.__esModule?e:{default:e}}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function y(e,t){y=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e}
;return y(e,t)}function h(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(){_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return _.apply(this,arguments)}var g,E,O=new Set,S=d.FormStates.CLOSED,b=!1,I=null,C=null,T=null,A=null,P=null,M=null,N=i.default.get(f.ADVANCED_MODE_ON_KEY)||!1;function R(e){var t=e.getGuildId(),n=_({},e.permissionOverwrites);null!=t&&null==n[t]&&(n[t]=l.default.makeEveryoneOverwrite(t));return n}function w(){T=s.default.getChannel();A=s.default.getCategory();if(null==T)return!1;var e=T.getGuildId();C=I=R(T);null==I[P]&&(P=e);E=null!=A;g=l.default.areChannelsLocked(T,A);M=null;b=!1;S=d.FormStates.CLOSED;O.clear()}function D(e){if(null==T||T.id!==e)return!1;if(null==(T=c.default.getChannel(e)))return!1;A=s.default.getCategory();var t=T.getGuildId();if(null==t)return!1;C=R(T);var n={};O.forEach((function(e){null!=I&&(n[e]=I[e])}));null==n[t]&&null==T.permissionOverwrites[t]&&(n[t]=l.default.makeEveryoneOverwrite(t));if(null==(I=_({},T.permissionOverwrites,{},n))[P])P=t;else if(null!=M&&null!=I[M]){P=M
;M=null}g=l.default.areChannelsLocked(T,A);return!0}var L=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;y(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(s.default,c.default)};n.hasChanges=function(){return b};n.showNotice=function(){return this.hasChanges()};n.getPermissionOverwrite=function(e){var t;return null===(t=I)||void 0===t?void 0:t[e]};!function(e,t,n){t&&v(e.prototype,t);n&&v(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"editedPermissionIds",get:function(){return Array.from(O)}},{key:"permissionOverwrites",get:function(){return I}},{key:"selectedOverwriteId",get:function(){return P}},{key:"formState",get:function(){return S}},{key:"isLockable",get:function(){return E}},{key:"locked",get:function(){return g}},{key:"channel",get:function(){return T}},{key:"category",get:function(){return A}},{key:"advancedMode",get:function(){return N}}])
;return t}(o.default.Store);L.displayName="ChannelSettingsPermissionsStore";var k=new L(u.default,((r={})[d.ActionTypes.CHANNEL_SETTINGS_SET_SECTION]=function(e){var t=e.section;if(null!=T||t!==d.ChannelSettingsSections.PERMISSIONS)return!1;w()},r[d.ActionTypes.CHANNEL_SETTINGS_PERMISSIONS_INIT]=w,r[d.ActionTypes.CHANNEL_SETTINGS_PERMISSIONS_UPDATE_PERMISSION]=function(e){var t,n,r=e.id,o=e.allow,i=e.deny,u=null===(t=I)||void 0===t?void 0:t[r];if(null==u||null==T)return!1;u=_({},u,{allow:o,deny:i});I=_({},I,((n={})[r]=u,n));O.add(r);S=d.FormStates.OPEN;b=!a.default.isEqual(I,C);g=l.default.areChannelsLocked(T,A)},r[d.ActionTypes.CHANNEL_SETTINGS_PERMISSIONS_SELECT_PERMISSION]=function(e){var t=e.id;if(null!=I&&null!=I[t])P=t;else{if(null==T)return!1;M=t}},r[d.ActionTypes.CHANNEL_SETTINGS_CLOSE]=function(){S=d.FormStates.CLOSED;I=null;C=null;T=null;A=null;b=!1;O.clear();P=null;M=null},r[d.ActionTypes.CHANNEL_UPDATES]=function(e){var t=e.updates;if(null==T)return!1
;for(var n,r=!1,a=h(t);!(n=a()).done;){!1!==D(n.value.channel.id)&&(r=!0)}return r},r[d.ActionTypes.CHANNEL_SETTINGS_PERMISSIONS_SUBMITTING]=function(){S=d.FormStates.SUBMITTING},r[d.ActionTypes.CHANNEL_SETTINGS_PERMISSIONS_SAVE_SUCCESS]=function(e){if(e.silent)S=d.FormStates.OPEN;else{S=d.FormStates.CLOSED;w()}},r[d.ActionTypes.CHANNEL_SETTINGS_PERMISSIONS_SET_ADVANCED_MODE]=function(e){var t=e.advancedMode;N=t;i.default.set(f.ADVANCED_MODE_ON_KEY,t)},r));t.default=k},491462:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=y(n(496486)),o=y(n(730381)),i=y(n(536211)),u=y(n(118915)),l=y(n(636602)),s=y(n(567186)),c=y(n(539563)),d=y(n(820068)),f=y(n(759027)),p=y(n(644263)),v=n(770348);function y(e){return e&&e.__esModule?e:{default:e}}function h(e,t){h=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return h(e,t)}function m(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]
;if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(){g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return g.apply(this,arguments)}
var E,O,S,b,I,C,T=v.FormStates.CLOSED,A={},P={},M=!1,N=!1,R=null,w=["name","type","topic","bitrate","userLimit","nsfw","flags","rateLimitPerUser","defaultAutoArchiveDuration","template","rtcRegion","videoQualityMode","threadMetadata","banner"];function D(e){if(null==S||S.id!==e)return!1;if(S===b){var t=p.default.getChannel(e);if(null==t)return!1;b=S=t;I=p.default.getChannel(b.parent_id)}else{var n=p.default.getChannel(e);if(null==n)return!1;S=n;if(null!=b){b=b.set("permissionOverwrites",S.permissionOverwrites);I=p.default.getChannel(b.parent_id)}}return!0}function L(e){var t,n=p.default.getChannel(e.channelId);if(null==n)return j();T=v.FormStates.OPEN;b=S=n;R="location"in e&&null!=e.location?e.location:null;O="subsection"in e?e.subsection:null;null!=b&&(b=b.set("nsfw",b.isNSFW()));I=p.default.getChannel(b.parent_id);C=b.getGuildId();A={};k({type:v.ActionTypes.CHANNEL_SETTINGS_SET_SECTION,section:null!==(t=E)&&void 0!==t?t:v.ChannelSettingsSections.OVERVIEW,subsection:O})}function k(e){
E=e.section;O=e.subsection;if(null!=b&&E===v.ChannelSettingsSections.INSTANT_INVITES){M=!0;u.default.get({url:v.Endpoints.INSTANT_INVITES(b.id),oldFormErrors:!0}).then((function(e){M=!1;l.default.dispatch({type:v.ActionTypes.CHANNEL_SETTINGS_LOADED_INVITES,invites:e.body})}),(function(){return M=!1}))}}function j(){N=!1;T=v.FormStates.CLOSED;E=null;b=S=null;I=null;P={}}var U=a.default.debounce((function(){if(null==b||null==S)return!1;var e=b.toJS(),t=S.toJS();if(w.every((function(n){return e[n]===t[n]}))&&b!==S){b=S;x.emitChange()}}),500);function G(e){return new d.default({code:e.code,temporary:e.temporary,revoked:e.revoked,inviter:null!=e.inviter?new f.default(e.inviter):null,channel:new s.default(e.channel),guild:null!=e.guild?new c.default(e.guild):null,uses:e.uses,maxUses:e.max_uses,maxAge:e.max_age,createdAt:(0,o.default)(e.created_at),type:e.type})}var F=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;h(e,t)}(t,e);function t(){
return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(p.default)};n.hasChanges=function(){return b!==S};n.isOpen=function(){return N};n.getSection=function(){return E};n.getInvites=function(){return{invites:P,loading:M}};n.showNotice=function(){return this.hasChanges()};n.getChannel=function(){return b};n.getFormState=function(){return T};n.getCategory=function(){return I};n.getProps=function(){return{submitting:T===v.FormStates.SUBMITTING,errors:A,channel:b,section:E,subsection:O,invites:P,selectedOverwriteId:C,hasChanges:this.hasChanges(),analyticsLocation:R}};return t}(i.default.Store);F.displayName="ChannelSettingsStore";var x=new F(l.default,((r={})[v.ActionTypes.CHANNEL_SETTINGS_INIT]=L,r[v.ActionTypes.CHANNEL_SETTINGS_OPEN]=function(e){N=!0;L(e)},r[v.ActionTypes.CHANNEL_SETTINGS_SUBMIT]=function(){T=v.FormStates.SUBMITTING;A={}},r[v.ActionTypes.CHANNEL_SETTINGS_SUBMIT_SUCCESS]=function(){S=b;T=v.FormStates.OPEN},
r[v.ActionTypes.CHANNEL_SETTINGS_SUBMIT_FAILURE]=function(e){var t;T=v.FormStates.OPEN;A=null!==(t=e.errors)&&void 0!==t?t:{}},r[v.ActionTypes.CHANNEL_SETTINGS_CLOSE]=j,r[v.ActionTypes.CHANNEL_SETTINGS_OVERWRITE_SELECT]=function(e){var t=e.overwriteId;C=t},r[v.ActionTypes.CHANNEL_SETTINGS_UPDATE]=function(e){var t=e.name,n=e.channelType,r=e.topic,a=e.bitrate,o=e.userLimit,i=e.nsfw,u=e.flags,l=e.rateLimitPerUser,s=e.autoArchiveDuration,c=e.locked,d=e.invitable,f=e.defaultAutoArchiveDuration,p=e.template,v=e.rtcRegion,y=e.videoQualityMode,h=e.banner;if(null==b)return!1;null!=t&&(b=b.set("name",t));null!=r&&(b=b.set("topic",r));null!=a&&(b=b.set("bitrate",a));null!=o&&(b=b.set("userLimit",o));null!=i&&(b=b.set("nsfw",i));null!=u&&(b=b.set("flags",u));null!=l&&(b=b.set("rateLimitPerUser",l));null!=s&&(b=b.update("threadMetadata",{},(function(e){e.autoArchiveDuration=s;return e})));null!=c&&(b=b.update("threadMetadata",{},(function(e){e.locked=c;return e})))
;null!=d&&(b=b.update("threadMetadata",{},(function(e){e.invitable=d;return e})));null!=f&&(b=b.set("defaultAutoArchiveDuration",f));null!=p&&(b=b.set("template",p));null!=n&&(b=b.set("type",n));void 0!==v&&(b=b.set("rtcRegion",v));null!=y&&(b=b.set("videoQualityMode",y));void 0!==h&&(b=b.set("banner",h));U()},r[v.ActionTypes.CHANNEL_SETTINGS_SET_SECTION]=k,r[v.ActionTypes.CHANNEL_SETTINGS_LOADED_INVITES]=function(e){P={};e.invites.forEach((function(e){P[e.code]=G(e)}))},r[v.ActionTypes.CHANNEL_UPDATES]=function(e){var t=e.updates;if(null==b)return!1;for(var n,r=!1,a=m(t);!(n=a()).done;){if(D(n.value.channel.id)&&null!=b){null!=C&&null==b.permissionOverwrites[C]&&(C=b.getGuildId());r=!0}}return r},r[v.ActionTypes.CHANNEL_DELETE]=function(e){var t=e.channel.id;if(null==b)return!1;if(b.id!==t)return!1;T=v.FormStates.CLOSED},r[v.ActionTypes.INSTANT_INVITE_REVOKE_SUCCESS]=function(e){delete(P=g({},P))[e.code]},r[v.ActionTypes.INSTANT_INVITE_CREATE_SUCCESS]=function(e){var t
;P=g({},P,((t={})[e.invite.code]=G(e.invite),t))},r)),W=x;t.default=W},762214:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;t.extractDisplayName=C;var r,a=p(n(496486)),o=p(n(536211)),i=p(n(636602)),u=p(n(740207)),l=n(864489),s=p(n(635014)),c=p(n(871778)),d=n(770348),f=n(376293);function p(e){return e&&e.__esModule?e:{default:e}}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function y(e,t){y=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return y(e,t)}var h={},m=h,_=!1,g={},E={},O={},S={id:null,justChanged:!1},b={id:null,justChanged:!1},I=/\(([^)]+)\)/;function C(e){if((0,l.getPlatform)()===l.PlatformTypes.WINDOWS){var t=e.name.match(I);if(null!=t)return t[1]}return e.name}function T(e,t,n){return null==e||e.displayName!==t?{displayName:t,type:n
}:e.type===d.ConnectedDeviceType.INPUT&&n===d.ConnectedDeviceType.OUTPUT||e.type===d.ConnectedDeviceType.OUTPUT&&n===d.ConnectedDeviceType.INPUT?{displayName:t,type:d.ConnectedDeviceType.INPUT_AND_OUTPUT}:e}var A=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;y(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(e){this.waitFor(s.default,c.default);m=null!=e?e:h};n.getUserAgnosticState=function(){return m};!function(e,t,n){t&&v(e.prototype,t);n&&v(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"initialized",get:function(){return _}},{key:"lastDeviceConnected",get:function(){return O}},{key:"inputDevices",get:function(){return g}},{key:"lastInputSystemDevice",get:function(){return S}},{key:"outputDevices",get:function(){return E}},{key:"lastOutputSystemDevice",get:function(){return b}}]);return t}(o.default.DeviceSettingsStore);A.displayName="ConnectedDeviceStore"
;A.persistKey="ConnectedDeviceStore";var P=new A(i.default,((r={})[d.ActionTypes.MEDIA_ENGINE_DEVICES]=function(e){var t=e.inputDevices,n=e.outputDevices,r={};S.justChanged=!1;t.forEach((function(e){r[C(e)]=e.id;if(e.id===f.DEFAULT_DEVICE_ID){var t,n=null!==(t=e.originalId)&&void 0!==t?t:e.originalName;n!==S.id&&(S.justChanged=!0);S.id=n}}));var o={};b.justChanged=!1;n.forEach((function(e){o[C(e)]=e.id;if(e.id===f.DEFAULT_DEVICE_ID){var t,n=null!==(t=e.originalId)&&void 0!==t?t:e.originalName;n!==b.id&&(b.justChanged=!0);b.id=n}}));if(_){var i=Object.keys(g),u=Object.keys(r),l=Object.keys(E),s=Object.keys(o),c=a.default.difference(i,u),p=a.default.difference(l,s);if(c.length>0||p.length>0)O={};else{a.default.difference(u,i).forEach((function(e){O[e]=T(O[e],e,d.ConnectedDeviceType.INPUT)}));a.default.difference(s,l).forEach((function(e){O[e]=T(O[e],e,d.ConnectedDeviceType.OUTPUT)}))}if(!a.default.isEqual(i,u)||!a.default.isEqual(l,s)){g=r;E=o;return!0}return!1}g=r;E=o;_=!0},
r[d.ActionTypes.CONNECTED_DEVICE_SET]=function(e){var t=e.displayName;!function(e,t,n){if(t===d.ConnectedDevicePreference.INPUT||t===d.ConnectedDevicePreference.INPUT_AND_OUTPUT){var r=g[e];null!=r&&i.default.wait((function(){return u.default.setInputDevice(r,n)}))}if(t===d.ConnectedDevicePreference.OUTPUT||t===d.ConnectedDevicePreference.INPUT_AND_OUTPUT){var a=E[e];i.default.wait((function(){return u.default.setOutputDevice(a,n)}))}}(t,e.connectedDevicePreference,e.location);delete O[t]},r[d.ActionTypes.CONNECTED_DEVICE_IGNORE]=function(e){var t=e.displayName;delete O[t]},r[d.ActionTypes.CONNECTED_DEVICE_NEVER_SHOW_MODAL]=function(){O={};m={neverShowModal:!0}},r));t.default=P},528429:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=s(n(536211)),o=s(n(636602)),i=n(229474),u=s(n(30098)),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1
;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function d(e,t){d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return d(e,t)}var f={},p=function(){f={guildAffinitiesByGuildId:{},guildAffinities:[],lastFetched:0}};p();var v=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;d(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(e){null!=e&&(f=e);this.waitFor(u.default)};n.getState=function(){return f};n.getGuildAffinity=function(e){return f.guildAffinitiesByGuildId[e]};!function(e,t,n){t&&c(e.prototype,t);n&&c(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"affinities",get:function(){return f.guildAffinities}},{key:"hasRequestResolved",get:function(){return 0!==f.lastFetched}}]);return t}(a.default.PersistedStore);v.displayName="GuildAffinitiesStore";v.persistKey="GuildAffinitiesStore"
;var y=new v(o.default,((r={})[l.ActionTypes.CONNECTION_OPEN]=function(){Date.now()-f.lastFetched>864e5&&(0,i.fetchGuildAffinities)();return!1},r[l.ActionTypes.LOAD_GUILD_AFFINITIES_SUCCESS]=function(e){var t=e.guildAffinities;f.guildAffinities=[];f.guildAffinitiesByGuildId={};f.lastFetched=Date.now();t.forEach((function(e,t){var n=e.affinity,r=e.guild_id,a={score:n,guildId:r,index:t};f.guildAffinitiesByGuildId[r]=a;f.guildAffinities.push(a)}))},r[l.ActionTypes.LOGOUT]=function(){p()},r));t.default=y},958698:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=l(n(536211)),o=l(n(636602)),i=l(n(728429)),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){s=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return s(e,t)}var c=null;var d=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;s(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}
t.prototype.getHouseMembership=function(){return c};return t}(a.default.Store);d.displayName="HypeSquadStore";var f=new d(o.default,((r={})[u.ActionTypes.CONNECTION_OPEN]=function(){var e=i.default.getCurrentUser();null!=e&&(e.hasFlag(u.UserFlags.HYPESQUAD_ONLINE_HOUSE_1)?c=u.HypeSquadHouses.HOUSE_1:e.hasFlag(u.UserFlags.HYPESQUAD_ONLINE_HOUSE_2)?c=u.HypeSquadHouses.HOUSE_2:e.hasFlag(u.UserFlags.HYPESQUAD_ONLINE_HOUSE_3)&&(c=u.HypeSquadHouses.HOUSE_3))},r[u.ActionTypes.HYPESQUAD_ONLINE_MEMBERSHIP_LEAVE_SUCCESS]=function(){c=null},r[u.ActionTypes.HYPESQUAD_ONLINE_MEMBERSHIP_JOIN_SUCCESS]=function(e){c=e.houseID},r));t.default=f},226720:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=p(n(496486)),i=p(n(536211)),u=p(n(636602)),l=p(n(614166)),s=p(n(423046)),c=p(n(319111)),d=p(n(635014)),f=n(770348);function p(e){return e&&e.__esModule?e:{default:e}}function v(e,t){v=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return v(e,t)
}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}var h={};function m(){o.default.forEach(h,(function(e,t){e.destroy();delete h[t]}))}function _(e,t,n){var r=h[e];return null!=r?t(r):n}function g(e){var t=e.lobbyId,n=h[t];if(null==n)return!1;n.destroy();delete h[t]}function E(){return!0}var O=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;v(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.forEach=function(e){o.default.each(h,e)};n.getState=function(e){return _(e,(function(e){return e.state}),f.RTCConnectionStates.DISCONNECTED)};n.isConnected=function(e){return this.getState(e)===f.RTCConnectionStates.RTC_CONNECTED};n.isDisconnected=function(e){return this.getState(e)===f.RTCConnectionStates.DISCONNECTED};n.getHostname=function(e){return _(e,(function(e){
return e.hostname}),null)};n.getQuality=function(e){return _(e,(function(e){return e.quality}),f.RTCConnectionQuality.UNKNOWN)};n.getPings=function(e){return _(e,(function(e){return e.getPings()}),[])};n.getAveragePing=function(e){return _(e,(function(e){return e.getAveragePing()}),0)};n.getLastPing=function(e){return _(e,(function(e){return e.getLastPing()}),0)};n.getOutboundLossRate=function(e){return _(e,(function(e){return e.getOutboundLossRate()}),0)};n.getMediaSessionId=function(e){return _(e,(function(e){return e.getMediaSessionId()}),null)};n.getRTCConnectionId=function(e){return _(e,(function(e){return e.getRTCConnectionId()}),null)};n.getDuration=function(e){return _(e,(function(e){return e.getDuration()}),0)};return t}(i.default.Store);O.displayName="RTCConnectionStore";var S=new O(u.default,d.default.isSupported()?((r={})[f.ActionTypes.CONNECTION_OPEN]=function(e){a=e.sessionId;m()},r[f.ActionTypes.CONNECTION_CLOSED]=function(){a=null;m()},
r[f.ActionTypes.RTC_CONNECTION_STATE]=E,r[f.ActionTypes.RTC_CONNECTION_PING]=E,r[f.ActionTypes.RTC_CONNECTION_LOSS_RATE]=E,r[f.ActionTypes.LOBBY_VOICE_STATE_UPDATE]=function(e){if(s.default.getId()!==e.userId)return!1;if(e.sessionId!==a)return!1;var t=h[e.lobbyId];if(null!=t&&null==e.channelId){t.destroy();delete h[e.lobbyId]}else if(null!=t)t.channelId=e.channelId;else if(null!=e.channelId){t=function(e,t){if(null==a)throw new Error("Creating RTCConnection without session.");var n=c.default.getLobby(e);if(null==n)throw new Error("Creating RTCConnection without lobby.");var r=n.application_id,o=new l.default({userId:s.default.getId(),sessionId:a,guildId:e,channelId:t,context:r});o.on("state",(function(t,n,r){u.default.dirtyDispatch(y({type:f.ActionTypes.RTC_CONNECTION_STATE,state:t,hostname:n},r,{lobbyId:e}))}));o.on("ping",(function(t,n){u.default.dispatch({type:f.ActionTypes.RTC_CONNECTION_PING,pings:t,quality:n,lobbyId:e})}));o.on("outboundlossrate",(function(t){u.default.dispatch({
type:f.ActionTypes.RTC_CONNECTION_LOSS_RATE,lossRate:t,lobbyId:e})}));return o}(e.lobbyId,e.channelId);h[e.lobbyId]=t}},r[f.ActionTypes.LOBBY_VOICE_SERVER_UPDATE]=function(e){var t=h[e.lobbyId];if(null==t)return!1;t.connect(e.endpoint,e.token)},r[f.ActionTypes.LOBBY_DELETE]=g,r[f.ActionTypes.LOBBY_DISCONNECT]=g,r):{});t.default=S},218843:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=l(n(536211)),o=l(n(972247)),i=l(n(636602)),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function c(e,t){c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c(e,t)}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}
;return d.apply(this,arguments)}var f,p="PictureInPictureLocation",v=new Map,y=u.PictureInPicturePositions.BOTTOM_RIGHT,h={};var m=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;c(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){y=o.default.get(p,u.PictureInPicturePositions.BOTTOM_RIGHT)};n.isEmbeddedActivityHidden=function(){var e;return null==f||(null===(e=v.get(f))||void 0===e?void 0:e.component)!==u.PictureInPictureComponents.EMBED_IFRAME};n.getDockedRect=function(e){return h[e]};n.isOpen=function(e){return null!=e&&v.has(e)};!function(e,t,n){t&&s(e.prototype,t);n&&s(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"pipWindow",get:function(){return null==f?null:v.get(f)}},{key:"pipWindows",get:function(){return v}}]);return t}(a.default.Store);m.displayName="PictureInPictureStore";var _=new m(i.default,((r={})[u.ActionTypes.PICTURE_IN_PICTURE_OPEN]=function(e){
var t,n,r=e.id,a=e.component,o=e.props;if(null==v.get(r)){var i={id:r,component:a,position:null!==(t=o.position)&&void 0!==t?t:y,props:o,docked:null!==(n=o.docked)&&void 0!==n&&n};v.set(r,i);null==f&&(f=r)}},r[u.ActionTypes.PICTURE_IN_PICTURE_CLOSE]=function(e){var t=e.id;if(!v.has(t))return!1;v.delete(t);if(f===t){var n=Array.from(v.keys());f=0===n.length?null:n[0]}},r[u.ActionTypes.PICTURE_IN_PICTURE_MOVE]=function(e){var t=e.id,n=e.position;if(null==f||f!==t)return!1;var r=new Map;v.forEach((function(e,t){r.set(t,d({},e,{position:n}))}));v=r;y=n;o.default.set(p,n)},r[u.ActionTypes.PICTURE_IN_PICTURE_HIDE]=function(e){var t=e.id;if(f!==t)return!1;var n=v.get(t);if(null==n)return!1;v.set(t,d({},n,{hidden:!0}))},r[u.ActionTypes.PICTURE_IN_PICTURE_SHOW]=function(e){var t=e.id;if(f!==t)return!1;var n=v.get(t);if(null==n)return!1;v.set(t,d({},n,{hidden:!1}))},r[u.ActionTypes.PICTURE_IN_PICTURE_UPDATE_RECT]=function(e){var t=e.id,n=e.rect;h[t]=n},
r[u.ActionTypes.PICTURE_IN_PICTURE_UPDATE_SELECTED_WINDOW]=function(e){var t=e.id;f=t},r[u.ActionTypes.LOGOUT]=function(){f=null;v=new Map},r));t.default=_},534930:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=s(n(496486)),o=s(n(536211)),i=s(n(636602)),u=s(n(30098)),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c(e,t)}var d=null,f={};var p=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;c(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(u.default)};n.getOptimalRegion=function(e){var t;void 0===e&&(e=null);var n=this.getRegions(e);return null!=n?null!==(t=n.find((function(e){return e.optimal})))&&void 0!==t?t:a.default.sample(n):null};n.getOptimalRegionId=function(e){void 0===e&&(e=null);var t=this.getOptimalRegion(e)
;return null!=t?t.id:null};n.getRandomRegion=function(e){void 0===e&&(e=null);var t=this.getRegions(e);return null!=t?a.default.sample(t):null};n.getRandomRegionId=function(e){void 0===e&&(e=null);var t=this.getRandomRegion(e);return null!=t?t.id:null};n.getRegions=function(e){return null!=e?f[e]:d};return t}(o.default.Store);p.displayName="RegionStore";var v=new p(i.default,((r={})[l.ActionTypes.LOAD_REGIONS]=function(e){var t=a.default.sortBy(e.regions,(function(e){return e.name}));null!=e.guildId?f[e.guildId]=t:d=t},r[l.ActionTypes.GUILD_DELETE]=function(e){delete f[e.guild.id]},r));t.default=v},52694:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=i(n(636602)),a=i(n(690445)),o=n(770348);function i(e){return e&&e.__esModule?e:{default:e}}var u={init:function(){a.default.addChangeListener((function(){r.default.dirtyDispatch({type:o.ActionTypes.SELF_PRESENCE_STORE_UPDATE,status:a.default.getStatus(),activities:a.default.getActivities()})
}))}};t.default=u},625424:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=s(n(536211)),o=s(n(636602)),i=s(n(969226)),u=s(n(288356)),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c(e,t)}var d=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;c(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}return t}(a.default.Store);d.displayName="UserAchievementStore";var f=new d(o.default,((r={})[l.ActionTypes.USER_ACHIEVEMENT_UPDATE]=function(e){var t=e.userAchievement,n=t.application_id,r=t.achievement;if(100===t.percent_complete&&null!=r){var a=u.default.getGame(n),o=null!=a?a.getIconURL(64):null;i.default.showNotification(o,r.name,r.description,{notif_type:l.ActionTypes.USER_ACHIEVEMENT_UPDATE},{omitViewTracking:!0})}},r));t.default=f},816624:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=u(n(536211)),o=u(n(636602)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var s,c,d,f,p,v,y=i.FormStates.CLOSED,h={},m=!1;function _(){y=i.FormStates.OPEN;h={}}var g=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.getFormState=function(){return y};n.getErrors=function(){return h};n.clearErrors=function(){h={}};n.showNotice=function(){return void 0!==s||void 0!==d||void 0!==f||void 0!==p||void 0!==v||void 0!==c};n.getPendingAvatar=function(){return s};n.getPendingBanner=function(){return d};n.getPendingBio=function(){return f};n.getPendingPronouns=function(){return p};n.getPendingAccentColor=function(){return v};n.getPendingAvatarDecoration=function(){return c}
;n.getAllPending=function(){return{pendingAvatar:s,pendingBanner:d,pendingBio:f,pendingPronouns:p,pendingAccentColor:v,pendingAvatarDecoration:c}};n.getIsDisableSubmit=function(){return m};return t}(a.default.Store);g.displayName="UserSettingsAccountStore";var E=new g(o.default,((r={})[i.ActionTypes.USER_SETTINGS_ACCOUNT_INIT]=_,r[i.ActionTypes.USER_SETTINGS_MODAL_INIT]=_,r[i.ActionTypes.USER_SETTINGS_ACCOUNT_SUBMIT_SUCCESS]=_,r[i.ActionTypes.USER_SETTINGS_MODAL_SET_SECTION]=function(e){return e.section===i.UserSettingsSections.ACCOUNT&&_()},r[i.ActionTypes.USER_SETTINGS_ACCOUNT_CLOSE]=function(){y=i.FormStates.CLOSED;h={}},r[i.ActionTypes.USER_SETTINGS_ACCOUNT_SUBMIT]=function(){y=i.FormStates.SUBMITTING;h={}},r[i.ActionTypes.USER_SETTINGS_ACCOUNT_SUBMIT_FAILURE]=function(e){var t;if(y!==i.FormStates.SUBMITTING)return!1;y=i.FormStates.OPEN;h=null!==(t=e.errors)&&void 0!==t?t:{}},r[i.ActionTypes.USER_SETTINGS_ACCOUNT_SET_PENDING_AVATAR]=function(e){var t=e.avatar;s=t},
r[i.ActionTypes.USER_SETTINGS_ACCOUNT_SET_PENDING_AVATAR_DECORATION]=function(e){var t=e.avatarDecoration;c=t},r[i.ActionTypes.USER_SETTINGS_ACCOUNT_SET_PENDING_BANNER]=function(e){var t=e.banner;d=t},r[i.ActionTypes.USER_SETTINGS_ACCOUNT_SET_PENDING_BIO]=function(e){var t=e.bio;f=t},r[i.ActionTypes.USER_SETTINGS_ACCOUNT_SET_PENDING_PRONOUNS]=function(e){var t=e.pronouns;p=t},r[i.ActionTypes.USER_SETTINGS_ACCOUNT_SET_PENDING_ACCENT_COLOR]=function(e){var t=e.color;v=t},r[i.ActionTypes.USER_SETTINGS_RESET_ALL_PENDING]=function(){s=void 0;d=void 0;f=void 0;p=void 0;v=void 0;c=void 0;h={}},r[i.ActionTypes.LOGOUT]=function(){s=void 0},r[i.ActionTypes.USER_SETTINGS_ACCOUNT_SET_DISABLE_SUBMIT]=function(e){var t=e.disable;m=t},r));t.default=E},529688:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a,o,i=m(n(496486)),u=m(n(536211)),l=m(n(636602)),s=m(n(825724)),c=n(747868),d=m(n(607209)),f=m(n(423046)),p=m(n(635014)),v=m(n(397228)),y=n(770348),h=n(859089);function m(e){return e&&e.__esModule?e:{default:e}}function _(e,t){_=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _(e,t)}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e){void 0===e&&(e=!0);var t;if(null==a)t=null;else{var n;t=s.default.getSelectedParticipantId(a);var r=d.default.getLastActiveStream(),u=null!=t?s.default.getParticipant(a,t):null;((null==u?void 0:u.type)===h.ParticipantTypes.ACTIVITY||(null==u?void 0:u.type)===h.ParticipantTypes.USER&&!(null===(n=u.voiceState)||void 0===n?void 0:n.selfVideo))&&(t=null);if(null!=r&&null==t){var l;t=null===(l=s.default.getParticipant(a,(0,c.encodeStreamKey)(r)))||void 0===l?void 0:l.id}if(null==t){var y,m=f.default.getId(),_=(0,i.default)(s.default.getVideoParticipants(a)).filter((function(e){
return e.type===h.ParticipantTypes.USER&&e.user.id!==m&&!p.default.isLocalVideoDisabled(e.user.id)})),E=Date.now();if(null==(t=null===(y=_.map((function(e){return[e.user.id,v.default.getSpeakingDuration(e.user.id,E)]})).filter((function(e){var t=g(e,2);t[0];return 0!==t[1]})).maxBy((function(e){var t=g(e,2);t[0];return-t[1]})))||void 0===y?void 0:y[0]))if(null!=o)t=o;else{var O,S;t=null===(O=_.first())||void 0===O||null===(S=O.user)||void 0===S?void 0:S.id}}}if(o!==t){o=t;e&&C.emitChange()}}var S=i.default.debounce(O,300);function b(){S();return!1}var I=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;_(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(s.default,f.default,v.default,d.default,p.default);this.syncWith([s.default,d.default],b)};n.getSpeaker=function(e){var t;if(a!==e){a=e;O(!1)}return null!==(t=o)&&void 0!==t?t:f.default.getId()};return t}(u.default.Store)
;I.displayName="VideoSpeakerStore";var C=new I(l.default,((r={})[y.ActionTypes.AUDIO_SET_LOCAL_VIDEO_DISABLED]=b,r)),T=C;t.default=T},474261:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=c(n(636602)),o=c(n(913955)),i=c(n(644263)),u=c(n(211136)),l=c(n(686182)),s=n(770348);function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}
throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(){!function(){var e=u.default.getVoiceChannelId(),t=o.default.bitrate;if(null!=e){var n=i.default.getChannel(e);null!=n&&t!==n.bitrate&&a.default.dispatch({type:"SET_CHANNEL_BITRATE",bitrate:n.bitrate})}}();!function(){var e,t=u.default.getVoiceChannelId(),n=l.default.mode;if(null!=t){var r=i.default.getChannel(t);if(null!=r){var o=null!==(e=r.videoQualityMode)&&void 0!==e?e:s.VideoQualityMode.AUTO;n!==o&&a.default.dispatch({type:"SET_CHANNEL_VIDEO_QUALITY_MODE",mode:o})}}}()}function v(e){r=e.sessionId}function y(e){for(var t,n=d(e.updates);!(t=n()).done;){var r=t.value.channel;u.default.getVoiceChannelId()===r.id&&p()}}function h(e){e.voiceStates.forEach((function(e){r===e.sessionId&&p()}))}var m={init:function(){
a.default.subscribe(s.ActionTypes.CONNECTION_OPEN,v);a.default.subscribe(s.ActionTypes.CHANNEL_UPDATES,y);a.default.subscribe(s.ActionTypes.VOICE_STATE_UPDATES,h)}};t.default=m},538647:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=u(n(636602)),a=u(n(30098)),o=u(n(298698)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var s=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(a.default);this.syncWith([a.default],i.NOOP)};n.channelNoticePredicate=function(e,t){return!e.hasFeature(i.GuildFeatures.BANNER)&&Date.now()-t>=i.CHANNEL_NOTICE_SHOW_DELAY};return t}(o.default))(r.default);t.default=s},329669:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.default=void 0;var r,a=l(n(536211)),o=l(n(636602)),i=n(682937),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){s=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return s(e,t)}function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return c.apply(this,arguments)}var d={};d={lastDismissedGracePeriods:{},isVisible:{}};var f=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;s(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(e){null!=e&&(d=e)};n.getLastDismissedGracePeriodForGuild=function(e){return null!=d.lastDismissedGracePeriods[e]?d.lastDismissedGracePeriods[e]:null};n.isVisible=function(e){return null!=e&&(null!=d.isVisible[e]&&d.isVisible[e])};n.getState=function(){return d};return t}(a.default.PersistedStore)
;f.displayName="GuildBoostingGracePeriodNoticeStore";f.persistKey="PremiumGuildGracePeriodNoticeStore";f.migrations=[function(e){return c({},e,{lastDismissedGracePeriods:null!=e?c({},e.lastDismissedGracePeriods):{},isVisible:{}})}];var p=new f(o.default,((r={})[u.ActionTypes.GUILD_APPLIED_BOOSTS_FETCH_SUCCESS]=function(e){var t,n=e.guildId,r=e.appliedBoosts,a=null!=d.lastDismissedGracePeriods[n]?d.lastDismissedGracePeriods[n]:null,o=null!=a&&Date.now()-a<=u.GRACE_PERIOD_CHANNEL_NOTICE_SHOW_DELAY,l=null!=r&&!o&&(0,i.isInGracePeriod)(r,n);d=c({},d,{isVisible:c({},d.isVisible,(t={},t[n]=l,t))})},r[u.ActionTypes.BOOSTED_GUILD_GRACE_PERIOD_NOTICE_DISMISS]=function(e){var t,n,r=e.guildId;d=c({},d,{lastDismissedGracePeriods:c({},d.lastDismissedGracePeriods,(t={},t[r]=Date.now(),t)),isVisible:c({},d.isVisible,(n={},n[r]=!1,n))})},r));t.default=p},20446:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r=u(n(636602)),a=u(n(689389)),o=u(n(298698)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var s=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(a.default);this.syncWith([a.default],i.NOOP)};n.channelNoticePredicate=function(e,t){return Date.now()-t>=i.CHANNEL_NOTICE_SHOW_DELAY&&a.default.can(i.Permissions.MANAGE_GUILD,e)};return t}(o.default))(r.default);t.default=s},535711:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=s(n(536211)),o=s(n(636602)),i=s(n(517286)),u=s(n(728429)),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c(e,t)}var d=null;function f(){
var e=u.default.getCurrentUser();if(null==e||e.mfaEnabled===d)return!1;d=e.mfaEnabled}var p=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;c(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(u.default,i.default);this.syncWith([u.default,i.default],f)};n.isVisible=function(e){return null!=e&&e.mfaLevel===l.MFALevels.ELEVATED&&!1===d&&i.default.hasElevatedPermissions(e.id)};return t}(a.default.Store);p.displayName="GuildMFAWarningStore";var v=new p(o.default,((r={})[l.ActionTypes.CONNECTION_OPEN]=f,r[l.ActionTypes.GUILD_UPDATE]=function(){return!0},r));t.default=v},735653:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=s(n(636602)),o=s(n(652566)),i=s(n(30098)),u=s(n(298698)),l=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c(e,t)}
function d(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p=!1;function v(e){var t=i.default.getGuild(e);if(null==t)return!1;if(!t.hasFeature(l.GuildFeatures.HUB))return!1;p=!0;return!0}function y(){return!0}
var h=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;c(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(i.default,o.default);this.syncWith([o.default],y)};n.channelNoticePredicate=function(e){return!!e.hasFeature(l.GuildFeatures.LINKED_TO_HUB)&&!p};return t}(u.default))(a.default,((r={})[l.ActionTypes.CONNECTION_OPEN]=function(e){for(var t,n=d(e.guilds);!(t=n()).done;){if(v(t.value.id))return!0}return!1},r[l.ActionTypes.GUILD_CREATE]=function(e){return v(e.guild.id)},r));t.default=h},477566:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=u(n(636602)),a=u(n(689389)),o=u(n(298698)),i=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}function s(){return!0}var c=new(function(e){!function(e,t){
e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(a.default);this.syncWith([a.default],s)};n.channelNoticePredicate=function(e,t){return Date.now()-t>=i.CHANNEL_NOTICE_SHOW_DELAY&&a.default.can(i.Permissions.ADMINISTRATOR,e)};return t}(o.default))(r.default);t.default=c},24e4:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=d(n(536211)),o=d(n(972247)),i=d(n(636602)),u=d(n(311492)),l=d(n(30098)),s=d(n(689389)),c=n(770348);function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){f=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return f(e,t)}var p={MAX_MEMBER_COUNT:new Set};var v=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;f(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){var e
;this.waitFor(s.default,l.default,u.default);this.syncWith([s.default,l.default,u.default],c.NOOP);o.default.remove(c.ChannelNoticeTypes.MAX_MEMBER_COUNT_100);o.default.remove(c.ChannelNoticeTypes.MAX_MEMBER_COUNT_250);p[c.ChannelNoticeTypes.MAX_MEMBER_COUNT]=null!==(e=new Set(o.default.get(c.ChannelNoticeTypes.MAX_MEMBER_COUNT)))&&void 0!==e?e:new Set};n.isVisible=function(e){var t;if(null==e)return!1;var n=null!==(t=u.default.getMemberCount(e.id))&&void 0!==t?t:0,r=s.default.can(c.Permissions.ADMINISTRATOR,e);return!p[c.ChannelNoticeTypes.MAX_MEMBER_COUNT].has(e.id)&&r&&e.maxMembers>0&&e.maxMembers-n<=1e4};return t}(a.default.Store);v.displayName="MaxMemberCountChannelNoticeStore";var y=new v(i.default,((r={})[c.ActionTypes.MAX_MEMBER_COUNT_NOTICE_DISMISS]=function(e){var t=e.guildId;if(!p[c.ChannelNoticeTypes.MAX_MEMBER_COUNT].has(t)){p[c.ChannelNoticeTypes.MAX_MEMBER_COUNT].add(t);o.default.set(c.ChannelNoticeTypes.MAX_MEMBER_COUNT,p[c.ChannelNoticeTypes.MAX_MEMBER_COUNT]);return!0
}},r));t.default=y},905505:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=l(n(536211)),o=l(n(636602)),i=l(n(86298)),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){s=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return s(e,t)}function c(){return!0}var d=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;s(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(i.default)};n.getExperimentAssignment=function(e,t){return i.default.getGuildExperimentDescriptor(t,e)};return t}(a.default.Store);d.displayName="GuildExperimentStore";var f=new d(o.default,((r={})[u.ActionTypes.LOGOUT]=c,r[u.ActionTypes.LOGIN_SUCCESS]=c,r[u.ActionTypes.CONNECTION_OPEN]=c,r[u.ActionTypes.EXPERIMENTS_FETCH_SUCCESS]=c,r[u.ActionTypes.OVERLAY_INITIALIZE]=c,r[u.ActionTypes.CACHE_LOADED]=c,
r[u.ActionTypes.EXPERIMENTS_FETCH_FAILURE]=c,r[u.ActionTypes.EXPERIMENT_REGISTER_LEGACY]=c,r[u.ActionTypes.EXPERIMENT_OVERRIDE_BUCKET]=c,r));t.default=f},106605:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.Rows=t.Row=void 0;var r,a=m(n(496486)),o=m(n(536211)),i=m(n(636602)),u=m(n(237923)),l=m(n(821896)),s=m(n(677520)),c=m(n(607209)),d=m(n(876874)),f=m(n(30098)),p=m(n(788739)),v=m(n(290629)),y=m(n(728429)),h=n(770348);function m(e){return e&&e.__esModule?e:{default:e}}function _(){_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return _.apply(this,arguments)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function E(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;O(e,t)}function O(e,t){
O=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return O(e,t)}function S(e){var t=y.default.getUser(e);return{user:t,usernameLower:null!=t?t.username.toLowerCase():null}}function b(e){return{status:p.default.getStatus(e),isMobile:p.default.isMobileOnline(e),activities:p.default.getActivities(e),applicationStream:c.default.getStreamForUser(e)}}function I(e){var t=[];(0,a.default)(d.default.memberOf(e)).map(f.default.getGuild).sortBy((function(e){return null!=e?e.name.toLowerCase():null})).forEach((function(e){null!=e&&t.push(e)}));return{mutualGuildsLength:t.length,mutualGuilds:t.slice(0,h.MAX_MUTUAL_GUILDS)}}var C=function(e){E(t,e);function t(t){var n;(n=e.call(this)||this).key=t.key;n.type=t.type;n.status=t.status;n.activities=t.activities;n.applicationStream=t.applicationStream;n.user=t.user;n.isMobile=t.isMobile;n.usernameLower=t.usernameLower;n.mutualGuildsLength=t.mutualGuildsLength;n.mutualGuilds=t.mutualGuilds;n.nickname=t.nickname;return n}!function(e,t,n){
t&&g(e.prototype,t);n&&g(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"comparator",get:function(){var e,t;return[this.type,null!==(e=null===(t=this.nickname)||void 0===t?void 0:t.toLowerCase())&&void 0!==e?e:this.usernameLower]}}]);return t}(l.default);t.Row=C;var T=function(){function e(e){void 0===e&&(e=[]);this._rows=e}var t=e.prototype;t.reset=function(){var t=a.default.map(v.default.getRelationships(),(function(e,t){return new C(_({key:t,type:e,nickname:v.default.getNickname(t)},S(t),{},b(t),{},I(t)))})),n=a.default.map(s.default.getSuggestions(),(function(e){return new C(_({key:e.key,type:99,nickname:e.name},S(e.key),{},b(e.key),{},I(e.key)))}));return new e(a.default.concat(t,n))};t.clone=function(){return new e(this._rows)};t.update=function(e){for(var t=!1,n=0;n<this._rows.length;n++){var r=this._rows[n],a=r.merge(e(r.key));t=t||a!==r;this._rows[n]=a}return t};t.filter=function(e,t){return(0,a.default)(this._rows).filter((function(e){
if(null==e.user)return!1;if(null!=t&&""!==t){var n=t.toLowerCase();return[e.usernameLower,e.nickname].map((function(e){return null==e?void 0:e.toLowerCase()})).some((function(e){return null==e?void 0:e.includes(n)}))}return!0})).filter((function(t){switch(e){case h.FriendsSections.ONLINE:return t.type===h.RelationshipTypes.FRIEND&&t.status!==h.StatusTypes.OFFLINE;case h.FriendsSections.PENDING:return t.type===h.RelationshipTypes.PENDING_INCOMING||t.type===h.RelationshipTypes.PENDING_OUTGOING;case h.FriendsSections.SUGGESTIONS:return 99===t.type;case h.FriendsSections.BLOCKED:return t.type===h.RelationshipTypes.BLOCKED;case h.FriendsSections.ALL:default:return t.type===h.RelationshipTypes.FRIEND}})).sortBy((function(e){return e.comparator})).value()};t.getRelationshipCounts=function(){var e,t=((e={})[h.RelationshipTypes.FRIEND]=0,e[h.RelationshipTypes.PENDING_INCOMING]=0,e[h.RelationshipTypes.PENDING_OUTGOING]=0,e[99]=0,e[h.RelationshipTypes.BLOCKED]=0,e)
;this._rows.forEach((function(e){null!=e.user&&null!=t[e.type]&&t[e.type]++}));return t};return e}();t.Rows=T;var A=!0,P=!1,M=h.FriendsSections.ONLINE,N=new T,R=!0,w=!1;function D(e){void 0===e&&(e=!1);if(A&&(e||M!==h.FriendsSections.ONLINE&&M!==h.FriendsSections.ADD_FRIEND)&&!P){A=!1;P=!0;u.default.fetchRelationships()}}function L(){A=!0;R?P=!1:D();N=N.reset();if(!w){var e=N.getRelationshipCounts();M=0===e[h.RelationshipTypes.FRIEND]?0!==e[h.RelationshipTypes.PENDING_INCOMING]?h.FriendsSections.PENDING:h.FriendsSections.ADD_FRIEND:h.FriendsSections.ONLINE}}function k(){N=R?new T:N.reset()}function j(e){return function(){if(R)return!1;if(N.update(e)){N=N.clone();return!0}return!1}}var U=function(e){E(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(v.default,p.default,y.default,f.default,d.default,c.default,s.default);this.syncWith([v.default],k);this.syncWith([s.default],k);this.syncWith([y.default],j(S))
;this.syncWith([p.default,c.default],j(b));L()};n.getState=function(){return{fetching:P,section:M,pendingCount:v.default.getPendingCount(),rows:N}};return t}(o.default.Store);U.displayName="FriendsStore";var G=new U(i.default,((r={})[h.ActionTypes.CONNECTION_OPEN]=function(){L()},r[h.ActionTypes.FRIENDS_SET_SECTION]=function(e){M=e.section;D()},r[h.ActionTypes.CHANNEL_SELECT]=function(e){var t=e.channelId;R=null!=t;k();return!R},r[h.ActionTypes.LOAD_RELATIONSHIPS_SUCCESS]=function(){P=!1},r[h.ActionTypes.LOAD_RELATIONSHIPS_FAILURE]=function(){A=!0;P=!0},r[h.ActionTypes.DRAWER_SELECT_TAB]=function(e){var t=e.tab;R=t!==h.DrawerTabTypes.FRIENDS;k();return!R},r[h.ActionTypes.FRIENDS_SET_INITIAL_SECTION]=function(e){M=e.section;w=!0},r));t.default=G},730655:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=k(n(496486)),o=k(n(536211)),i=k(n(636602)),u=k(n(234161)),l=k(n(206246)),s=k(n(762605)),c=k(n(969015)),d=k(n(460731)),f=k(n(319879)),p=k(n(814768)),v=L(n(101047)),y=n(336312),h=L(n(75300)),m=L(n(809204)),_=k(n(607209)),g=k(n(644263)),E=k(n(8549)),O=k(n(330445)),S=k(n(288356)),b=k(n(23535)),I=k(n(30098)),C=k(n(689389)),T=k(n(788739)),A=k(n(290629)),P=k(n(538983)),M=k(n(728429)),N=k(n(387692)),R=n(71246),w=n(770348);function D(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(D=function(e){return e?n:t})(e)}function L(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=D(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}
function k(e){return e&&e.__esModule?e:{default:e}}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function U(e,t){U=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return U(e,t)}function G(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=W(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function F(){F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return F.apply(this,arguments)}function x(e){return function(e){
if(Array.isArray(e))return B(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||W(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e,t){if(e){if("string"==typeof e)return B(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?B(e,t):void 0}}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var V=!1,H=!1,Y=[],z=[],K={},$={},q=new Set,X=new Set;function Q(){var e=A.default.getFriendIDs();if(E.default.hasConsented(w.Consents.PERSONALIZATION)){var t=Array.from(P.default.getUserAffinitiesUserIds()).filter((function(e){return!A.default.isBlocked(e)}))
;return new Set([].concat(x(t),x(e)))}return new Set(e)}function Z(e){return T.default.findActivity(e,(function(e){return e.type!==w.ActivityTypes.CUSTOM_STATUS}))}function J(e){if(null==K[e]){var t;K=F({},K,((t={})[e]=new m.default({name:e}),t))}return K[e]}function ee(e){if(null==$[e]){var t;$=F({},$,((t={})[e]=new h.default({url:e}),t))}return $[e]}function te(e){X.has(e)||q.add(e)}function ne(e){if((0,c.default)(e))return y.SpotifyApplication;var t=null!=e.application_id?S.default.getGame(e.application_id):null;if(null!=t)return t;if((0,d.default)(e))return J(e.name);if((0,f.default)(e)&&null!=e.url)return ee(e.url);null!=e.application_id&&te(e.application_id);return t}function re(e){var t=N.default.getVoiceStateForUser(e);return null!=(null==t?void 0:t.channelId)&&C.default.canWithPartialContext(w.Permissions.VIEW_CHANNEL,{channelId:t.channelId})?t.channelId:null}function ae(e){return A.default.isFriend(e.id)}function oe(e,t,n){for(var r,o,i=t.map((function(e){return e.id
})),u=t.filter((function(t){return e.has(t.id)})),c=!1,d=[],f=new Set,E=!1,b=[],A=function(){var e,n,o=r.value,i=_.default.getStreamForUser(o.id),u=Z(o.id);null!=i&&b.push({stream:i,streamUser:o,activity:u});if(null==u)return"continue";if((0,s.default)(u)&&!(0,l.default)({user:o,activity:u,channelId:null===(e=N.default.getVoiceStateForUser(o.id))||void 0===e?void 0:e.channelId,ChannelStore:g.default,VoiceStateStore:N.default,PermissionStore:C.default,GuildStore:I.default}))return"continue";var T=null===(n=u.timestamps)||void 0===n?void 0:n.start;if(null==T&&!(0,s.default)(u))return"continue";var A=(0,p.default)(u);if(null==A)return"continue";E=A===y.SPOTIFY_APPLICATION_ID;if(!v.shouldShowActivity(u))return"continue";var P=function(e){var t=S.default.getGame(e);if(null!=t)return t;if(e===y.SPOTIFY_APPLICATION_ID)return y.SpotifyApplication;if(e.startsWith(m.XBOX_APPLICATION_ID_PREFIX))return J(e.slice(m.XBOX_APPLICATION_ID_PREFIX.length))
;if(e.startsWith(h.TWITCH_APPLICATION_ID_PREFIX))return ee(e.slice(h.TWITCH_APPLICATION_ID_PREFIX.length));te(e);return null}(A);if(null==P||f.has(P.id))return"continue";var R=null!=u?ne(u):null;null!=R&&R.id===P.id||(u=null);var w=[];if(null!=u&&null!=u.party&&null!=u.party.id){var D,L=null!==(D=O.default.getParty(u.party.id))&&void 0!==D?D:[];w=Array.from(L).reduce((function(e,t){var n=M.default.getUser(t);null!=n&&e.push(n);return e}),[])}else w=t.filter((function(e){var t=Z(e.id),n=null!=t?ne(t):null;return null!=n&&n.id===P.id}));(w=a.default.orderBy(w,[ae],["desc"])).length!==t.length&&(c=!0);f.add(P.id);d.push({game:P,activity:u,activityUser:o,startedPlayingTime:T,playingMembers:w})},P=G(t);!(r=P()).done;)A();for(var w,D,L,k=1===u.length,j=[],U=new Set,F=new Set,x=G(t);!(w=x()).done;){var W=re(w.value.id),B=g.default.getChannel(W),V=null!=B?B.getGuildId():null,H=I.default.getGuild(V);if(F.has(V)&&U.has(W)||null==B||null==H||B.id===H.afkChannelId){if(null==B){o=null;k=!0}}else{
var Y=(0,a.default)(N.default.getVoiceStatesForChannel(B.id)).map((function(e){var t=e.userId;return M.default.getUser(t)})).filter(R.isNotNullish).orderBy([ae],["desc"]).value();Y.filter((function(e){return!i.includes(e.id)})).forEach((function(e){return t.push(e)}));if(k)F.has(V)||(o=null);else{o=H;k=!0}F.add(V);U.add(W);j.push({channel:B,guild:H,members:Y})}}return{id:n,voiceChannels:j,isSpotifyActivity:E,priorityMembers:u.map((function(e){return{user:e,status:T.default.getStatus(e.id)}})),partiedMembers:t,showPlayingMembers:c,guildContext:o,currentActivities:(D=d,L=function(e){var t;return null!==(t=e.startedPlayingTime)&&void 0!==t?t:0},(0,a.default)(D).orderBy([L,function(e){return e.game.name}],["desc","asc"])).value(),applicationStreams:b}}function ie(){return V&&b.default.isConnected()}function ue(){if(!ie())return!1;q.clear();var e,t,n,r,o=Array.from(Q()).reduce((function(e,t){var n=M.default.getUser(t);null==n||n.bot||e.push(n);return e}),[]),i=(e=o,(0,
a.default)(e).groupBy((function(e){var t,n=re(e.id),r=Z(e.id);return null!=n?"channel--"+n:null!=(null==r||null===(t=r.party)||void 0===t?void 0:t.id)?"party--"+r.party.id:"user--"+e.id}))),l=(t=i,n=Q(),r=oe.bind(null,n),(0,a.default)(t).mapValues(r)),s=l.values().orderBy([function(e){return e.partiedMembers.length>1},function(e){return e.applicationStreams.length>0},function(e){return e.voiceChannels.length>0},function(e){return e.currentActivities.length>0},function(e){return e.isSpotifyActivity},function(e){return e.priorityMembers.map((function(e){return e.user.username.toLowerCase()})).join(" ")}],["desc","desc","desc","desc","asc","asc"]).value();Y=function(e){return e.filter((function(e){return e.voiceChannels.length>=1||e.currentActivities.length>0||e.applicationStreams.length>0}))}(s);z=function(e){return e.map((function(e){return{type:w.ActivityCardTypes.USER,party:e}}))}(Y);!function(){if(q.size>0){var e=Array.from(q);u.default.fetchApplications(e);e.forEach((function(e){
return X.add(e)}));q.clear()}}();H=!0}var le=a.default.throttle((function(){ue();de.emitChange()}),1e3);function se(){if(!ie())return!1;le();return!1}var ce=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;U(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.initialize=function(){this.syncWith([M.default,S.default,T.default,O.default,N.default,_.default,A.default,E.default,P.default],se);this.waitFor(b.default,I.default,S.default,M.default,P.default)};!function(e,t,n){t&&j(e.prototype,t);n&&j(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"currentActivityParties",get:function(){return Y}},{key:"nowPlayingCards",get:function(){return z}},{key:"isMounted",get:function(){return V}},{key:"loaded",get:function(){return H}}]);return t}(o.default.Store);ce.displayName="NowPlayingViewStore";var de=new ce(i.default,((r={})[w.ActionTypes.LOGOUT]=function(){V=!1;Y=[];z=[];q.clear()},
r[w.ActionTypes.NOW_PLAYING_MOUNTED]=function(){V=!0;le()},r[w.ActionTypes.NOW_PLAYING_UNMOUNTED]=function(){V=!1},r)),fe=de;t.default=fe},944537:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;f(n(667294));var r,a=c(n(496486)),o=c(n(9056)),i=f(n(762214)),u=c(n(635014)),l=n(194322),s=n(376293);function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function p(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function y(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){v(o,r,a,i,u,"next",e)}function u(e){v(o,r,a,i,u,"throw",e)}i(void 0)}))}}var h=new Set(["DisplayPort"]),m=!1;function _(){if(!m){var e=u.default.getInputDeviceId(),t=u.default.getOutputDeviceId();if(!i.default.getState().neverShowModal&&!a.default.isEmpty(i.default.lastDeviceConnected)){var r=(0,
i.extractDisplayName)(u.default.getInputDevices()[e]),c=(0,i.extractDisplayName)(u.default.getOutputDevices()[t]),d=a.default.some(i.default.lastDeviceConnected,(function(e){return h.has(e.displayName)||e.displayName===r||e.displayName===c}));if(!d){var f=a.default.some(i.default.lastDeviceConnected,(function(e){return o.default.isCertified(i.default.inputDevices[e.displayName])||o.default.isCertified(i.default.outputDevices[e.displayName])}));if(!(e===s.DEFAULT_DEVICE_ID&&i.default.lastInputSystemDevice.justChanged||t===s.DEFAULT_DEVICE_ID&&i.default.lastOutputSystemDevice.justChanged)||f){var v=a.default.first(Object.keys(i.default.lastDeviceConnected)),_=null!=v&&""!==v?i.default.lastDeviceConnected[v]:null;if(null!=_){var g;i.default.initialized&&null!=v&&(o.default.isCertified(i.default.inputDevices[v])?g=o.default.getCertifiedDevice(i.default.inputDevices[v]):o.default.isCertified(i.default.outputDevices[v])&&(g=o.default.getCertifiedDevice(i.default.outputDevices[v])));m=!0;(0,
l.openModalLazy)(y(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(36672)]).then(n.bind(n,936672));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){var t=e.transitionState,n=e.onClose;return p(r,{device:_,certifiedDeviceMetadata:g,transitionState:t,onClose:function(){m=!1;return n()}})}));case 5:case"end":return e.stop()}}),e)}))))}}}}}}var g={init:function(){i.default.addChangeListener(_)}};t.default=g},931411:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=d(n(536211)),o=d(n(972247)),i=d(n(636602)),u=d(n(423046)),l=d(n(644263)),s=d(n(690445)),c=n(770348);function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){f=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return f(e,t)}var p="IncomingCallStore",v=232,y=315,h=new Set,m=[],_=new Map,g=new Set,E=0,O=0,S=!1;!function(){0
;var e=o.default.get(p);if(null!=e){E=+e.x;O=+e.y}else{var t=n(949898).default.windowSize();E=t.width/2-v/2;O=t.height/2-y/2}}();function b(e){if(null==e)return!1;if(null==_.get(e))return!1;_.delete(e);(g=new Set(g)).delete(e)}function I(e){var t=e.channelId,n=e.ringing.includes(u.default.getId());if(!g.has(t)&&n){var r=l.default.getChannel(t);if(null==r)return!1;var a=10*g.size;_.set(t,{channel:r,x:E+a,y:O+a});(g=new Set(g)).add(t)}else{if(!g.has(t)||n)return!1;b(t)}}function C(){S=s.default.getStatus()===c.StatusTypes.DND}var T=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;f(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(l.default,s.default);this.syncWith([s.default],C)};n.getIncomingCalls=function(){return S?m:Array.from(_.values())};n.getIncomingCallChannelIds=function(){return S?h:g};n.getFirstIncomingCallId=function(){return S?null:g.values().next().value}
;n.hasIncomingCalls=function(){return!S&&g.size>0};return t}(a.default.Store);T.displayName="IncomingCallStore";var A=new T(i.default,((r={})[c.ActionTypes.CALL_CREATE]=I,r[c.ActionTypes.CALL_UPDATE]=I,r[c.ActionTypes.CALL_DELETE]=function(e){return b(e.channelId)},r[c.ActionTypes.VOICE_CHANNEL_SELECT]=function(e){return b(e.channelId)},r[c.ActionTypes.INCOMING_CALL_MOVE]=function(e){var t=e.x,n=e.y;E=t;O=n;o.default.set(p,{x:E,y:O});return!1},r[c.ActionTypes.CHANNEL_DELETE]=function(e){return b(e.channel.id)},r));t.default=A},853068:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a,o=(r=n(636602))&&r.__esModule?r:{default:r},i=n(194322),u=n(770348);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){c(o,r,a,i,u,"next",e)}
function u(e){c(o,r,a,i,u,"throw",e)}i(void 0)}))}}var f=!1,p=null;var v={init:function(){o.default.subscribe(u.ActionTypes.CONNECTION_OPEN,(function(e){var t=e.pendingPayments;if(null!=t&&t.length>0){if(p===t[0])return;if(null==(p=t[0]))return;!function(e){if(!f){f=!0;(0,i.openModalLazy)(d(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;return Promise.all([n.e(40532),n.e(23438)]).then(n.bind(n,123438));case 2:r=t.sent;a=r.default;return t.abrupt("return",(function(t){var n=t.transitionState,r=t.onClose;return s(a,{pendingPayment:e,transitionState:n,onClose:function(){f=!1;return r()}})}));case 5:case"end":return t.stop()}}),t)}))))}}(p)}}))}};t.default=v},558402:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.Types=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=l(n(294184)),o=n(773336),i=l(n(66636)),u=["children","editable","type","className","outline"];function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return c.apply(this,arguments)}function d(e,t){d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return d(e,t)}var f={PRIMARY:"cardPrimary",DANGER:"cardDanger",WARNING:"cardWarning",SUCCESS:"cardSuccess",
BRAND:"cardBrand",CUSTOM:"card"};t.Types=f;var p=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;d(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.render=function(){var e,t=this.props,n=t.children,l=t.editable,s=t.type,d=t.className,p=t.outline,v=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(t,u);p?e="outline":s===f.PRIMARY&&l&&(e="editable");return r.createElement("div",c({className:(0,a.default)(d,(0,o.getClass)(i.default,s,e))},v),n)};return t}(r.PureComponent);p.displayName="Card";p.Types=f;p.defaultProps={type:f.PRIMARY,outline:!1,editable:!1};var v=p;t.default=v},168391:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294));var r,a=s(n(294184)),o=s(n(16941)),i=n(645758),u=s(n(69405)),l=s(n(94480));function s(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){
var t=e.options,n=e.onClick,r=e.className,s=e.optionClassName;return d("div",{className:(0,a.default)(l.default.root,r)},void 0,t.map((function(e,t){return d(o.default,{onClick:function(){return n(e)},className:(0,a.default)(l.default.option,s)},t,d(i.Text,{className:l.default.text,color:"none",variant:"text-md/normal"},void 0,e.label),d(u.default,{className:l.default.caret,direction:u.default.Directions.RIGHT}))})))}f.displayName="ChoiceButtonList"},895108:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)
;return r}(n(667294)),o=l(n(730977)),i=l(n(247001)),u=l(n(126388));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return c.apply(this,arguments)}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f=Math.ceil(2*Math.PI*20);function p(e){
return"rgb("+Math.round(-85*e+199)+", "+Math.round(-71*e+208)+", "+Math.round(-22*e+240)+")"}function v(e){return Math.floor(f*e)+", "+f}var y=function(e){var t=e.total,n=e.used,r=Math.max(0,Math.min(1,n/t)),l=Math.floor(100*r)+"%";return d(o.default,{text:i.default.Messages.APPLICATION_INSTALLATION_SPACE_USED.format({used:l})},void 0,(function(e){return a.createElement("div",c({className:u.default.wrapper,role:"progressbar","aria-label":i.default.Messages.APPLICATION_INSTALLATION_SPACE_USED.format({used:l})},e),d("svg",{viewBox:"25 25 50 50",className:u.default.svg,"aria-hidden":!0},void 0,d("circle",{className:u.default.background,cx:"50",cy:"50",r:20}),d("circle",{className:u.default.foreground,cx:"50",cy:"50",r:20,stroke:p(r),strokeDasharray:v(r)})),d("aside",{className:u.default.usageInfo,"aria-hidden":!0},void 0,l))}))};y.displayName="DiskSpaceCircle";var h=y;t.default=h},222318:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(973935),i=(r=n(74854))&&r.__esModule?r:{default:r},u=n(659779),l=n(770348);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return c.apply(this,arguments)}function d(e,t){d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return d(e,t)}
var f=Math.pow(3,2),p=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;d(e,t)}(t,e);function t(t){var n;(n=e.call(this,t)||this)._height=0;n._width=0;n._dragStart={x:0,y:0};n._offsetX=0;n._offsetY=0;n._removeListeners=function(){};n.handleSetRef=function(e){n._ref=e};n.handleMouseDown=function(e){var t=n.props,r=t.dragAnywhere,a=t.disabled,o=t.selector;if(!a){var i=n.state.position,u=e.target;if(e.button===l.MouseButtons.PRIMARY&&(r||null!=o&&u.matches(o))){n.grabDimensions();n._dragStart={x:e.clientX,y:e.clientY};n._offsetX=e.clientX-i.x._value;n._offsetY=e.clientY-i.y._value;var s=e.nativeEvent.view;n._removeListeners();s.addEventListener("mousemove",n.handleMouseMove);s.addEventListener("mouseup",n.handleMouseUp);n._removeListeners=function(){s.removeEventListener("mousemove",n.handleMouseMove);s.removeEventListener("mouseup",n.handleMouseUp)}}}};n.handleMouseMove=function(e){e.preventDefault();var t=n.props,r=t.onDragStart,a=t.onDrag
;if(!t.disabled){var o,i,u,l,s,c,d=n.state,p=d.dragging,v=d.dragging;!p&&(o=n._dragStart,i={x:e.clientX,y:e.clientY},u=o.x,l=o.y,s=i.x,c=i.y,Math.pow(u-s,2)+Math.pow(l-c,2))>f&&(p=!0);if(p){n.animateToPosition(e.clientX-n._offsetX,e.clientY-n._offsetY,{tension:80,friction:8},null,!1);n.setState({dragging:p},(function(){v||null==r||r(e.clientX,e.clientY);null==a||a(e.clientX,e.clientY)}))}}};n.handleMouseUp=function(e){n._removeListeners();n.state.dragging&&n.setState({dragging:!1},(function(){var t=n.props.onDragEnd;null==t||t(e.clientX,e.clientY)}))};var r=new i.default.Value(t.initialX),a=new i.default.Value(t.initialY);n.state={dragging:!1,position:new i.default.ValueXY({x:r,y:a})};return n}var n=t.prototype;n.componentDidMount=function(){var e=this.props,t=e.initialX,n=e.initialY;this.setPosition(t,n)};n.componentWillUnmount=function(){this._removeListeners()};n.animateToPosition=function(e,t,n,r,a){void 0===n&&(n={});void 0===a&&(a=!0);a&&this.grabDimensions()
;var o=this.translate(e,t);i.default.spring(this.state.position,c({toValue:{x:o.x,y:o.y}},n)).start(r)};n.setPosition=function(e,t,n){void 0===n&&(n=!0);n&&this.grabDimensions();var r=this.translate(e,t);this.state.position.setValue({x:r.x,y:r.y})};n.grabDimensions=function(){var e=(0,o.findDOMNode)(this._ref);if((0,u.isElement)(e)){this._height=e.clientHeight;this._width=e.clientWidth}};n.translate=function(e,t){var n=this.props,r=n.maxX,a=n.maxY;e<0?e=0:e>r-this._width&&(e=r-this._width);t<0?t=0:t>a-this._height&&(t=a-this._height);return{x:e,y:t}};n.render=function(){var e=this.state,t=e.dragging,n=e.position,r=this.props,o=r.className,u=r.children,l=[0,1],s=["0px","1px"],d=i.default.accelerate(c({pointerEvents:t?"none":"auto",transform:[{translateX:n.x.interpolate({inputRange:l,outputRange:s})},{translateY:n.y.interpolate({inputRange:l,outputRange:s})}]},this.props.style));return a.createElement(i.default.div,{ref:this.handleSetRef,className:o,onMouseDown:this.handleMouseDown,
style:d},u)};return t}(a.PureComponent);p.displayName="Draggable";p.defaultProps={maxX:0,maxY:0,initialX:0,initialY:0,disabled:!1,dragAnywhere:!1};var v=p;t.default=v},784241:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=g(n(667294)),o=m(n(294184)),i=m(n(468811)),u=n(91817),l=g(n(956117)),s=m(n(279950)),c=n(688388),d=n(3400),f=n(770348),p=m(n(247001)),v=m(n(978607)),y=m(n(3066)),h=m(n(380203));function m(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function g(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function I(e,t){I=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return I(e,t)}var C=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;I(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this)._animItem=null
;t._timeout=new u.Timeout;t._headerId=i.default.v4();t.state={resent:!1,shouldClose:!1,email:"",password:""};t.setLottieRef=function(e){t._lottieRef=e};t.handleVerify=function(){(0,t.props.onVerify)(t.state.email,t.state.password)};t.handleResendEmail=function(){var e=t.props,n=e.onResend,r=e.onClose;n();if(!t.state.resent){t.setState({resent:!0,shouldClose:!0});t._timeout.start(3e3,(function(){t.state.shouldClose&&r()}))}};t.handleChangeEmailClick=function(){var e=t.props.onChangeEmailClick;t.setState({resent:!1,shouldClose:!1});e()};t.handleEmailChange=function(e){t.setState({email:e})};t.handlePasswordChange=function(e){t.setState({password:e})};t.handleKeyPress=function(e){var n=t.state,r=n.email,a=n.password;if(13===e.which&&r.length>0&&a.length>0){e.preventDefault();t.handleVerify()}};return t}var r=t.prototype;r.componentDidMount=function(){var e,t=(e=regeneratorRuntime.mark((function e(){var t,r,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){
case 0:e.next=2;return Promise.all([n.e(63266).then(n.t.bind(n,763266,19)),n.e(11248).then(n.t.bind(n,211248,23))]);case 2:t=e.sent;r=O(t,2);a=r[0];o=r[1].default;this._animItem=o.loadAnimation({container:this._lottieRef,renderer:"svg",loop:!0,autoplay:!0,animationData:a});case 7:case"end":return e.stop()}}),e,this)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){b(o,r,a,i,u,"next",e)}function u(e){b(o,r,a,i,u,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();r.componentWillUnmount=function(){this._timeout.stop();if(null!=this._animItem){this._animItem.destroy();this._animItem=void 0}};r.renderInputs=function(){var e=this.props,t=e.emailError,n=e.passwordError,r=e.submitting,a=this.state,o=a.email,i=a.password;return E("div",{className:v.default.container},void 0,E(c.FormItem,{title:p.default.Messages.FORM_LABEL_EMAIL,className:h.default.marginBottom20},void 0,E(s.default,{value:o,error:t,
onChange:this.handleEmailChange,onKeyPress:this.handleKeyPress,autoFocus:!0})),E(c.FormItem,{title:p.default.Messages.FORM_LABEL_PASSWORD,className:h.default.marginBottom40},void 0,E(s.default,{type:"password",value:i,error:n,onChange:this.handlePasswordChange,onKeyPress:this.handleKeyPress})),E(l.default,{fullWidth:!0,size:l.default.Sizes.LARGE,onClick:this.handleVerify,submitting:r,disabled:0===o.length||0===i.length},void 0,p.default.Messages.VERIFY_ACCOUNT))};r.renderActions=function(){return E("div",{className:v.default.container},void 0,E(l.default,{className:h.default.marginTop20,fullWidth:!0,size:l.default.Sizes.LARGE,look:l.ButtonLooks.INVERTED,color:l.ButtonColors.PRIMARY,onClick:this.handleResendEmail},void 0,p.default.Messages.RESEND_EMAIL),E(l.default,{className:h.default.marginTop20,fullWidth:!0,size:l.default.Sizes.MEDIUM,look:l.ButtonLooks.LINK,color:l.ButtonColors.PRIMARY,onClick:this.handleChangeEmailClick},void 0,p.default.Messages.CHANGE_EMAIL))}
;r.render=function(){var e,t=this.state.resent,n=this.props,r=n.email,i=n.canResend,u=n.transitionState;e=t&&null!=r?p.default.Messages.VERIFY_EMAIL_BODY_RESENT.format({email:r}):i?p.default.Messages.VERIFY_EMAIL_BODY:p.default.Messages.ENTER_EMAIL_BODY;return E(d.ModalRoot,{transitionState:u,"aria-labelledby":this._headerId,className:(0,o.default)(v.default.emailVerificationModal,y.default.vertical,y.default.alignCenter,y.default.justifyCenter,h.default.marginTop60)},void 0,a.createElement("div",{className:v.default.animationContainer,ref:this.setLottieRef}),E("div",{className:(0,o.default)(v.default.title,h.default.marginBottom8)},void 0,p.default.Messages.VERIFY_BY_EMAIL),E("div",{className:(0,o.default)(v.default.body,h.default.marginBottom20)},void 0,e),i?this.renderActions():this.renderInputs())};return t}(a.PureComponent);C.displayName="EmailVerificationModal";C.defaultProps={canResend:!1,onChangeEmailClick:f.NOOP,onVerify:function(e,t){},onResend:f.NOOP,onClose:f.NOOP};var T=C
;t.default=T},737705:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.EmptyStateText=t.EmptyStateImage=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=c(n(294184)),i=c(n(530250)),u=n(770348),l=c(n(643193)),s=c(n(380203));function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(){p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return p.apply(this,arguments)}function v(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;y(e,t)}function y(e,t){y=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return y(e,t)}var h=a.createContext(u.ThemeTypes.DARK),m=h.Provider,_=h.Consumer,g=function(e){v(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.render=function(){var e=this.props,t=e.lightSrc,n=e.darkSrc,r=e.width,a=e.height,c=e.offsetX,d=e.offsetY,v=e.style
;return f(_,{},void 0,(function(e){return f(i.default.Child,{grow:0,className:(0,o.default)(l.default.image,s.default.marginBottom40),style:p({},v,{width:r,height:a,marginLeft:c,marginTop:d,backgroundImage:"url("+(e===u.ThemeTypes.DARK?n:t)+")"})})}))};return t}(a.PureComponent);t.EmptyStateImage=g;g.displayName="EmptyStateImage";var E=function(e){var t=e.children,n=e.className,r=e.noteClassName,a=e.note,u=e.style;return f(i.default.Child,{grow:0,direction:i.default.Direction.VERTICAL,style:u},void 0,null!=t&&f("h4",{className:(0,o.default)(n,l.default.title)},void 0,t),null!=a?f("div",{className:(0,o.default)(r,l.default.text,s.default.marginTop8)},void 0,a):null)};t.EmptyStateText=E;E.displayName="EmptyStateText";var O=function(e){v(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.render=function(){var e=this.props,t=e.children,n=e.theme,r=e.className,a=e.style;return f(m,{value:n},void 0,f(i.default,{direction:i.default.Direction.VERTICAL,
align:i.default.Align.CENTER,justify:i.default.Justify.CENTER,className:(0,o.default)(l.default.wrapper,r),style:a},void 0,t))};return t}(a.PureComponent);t.default=O;O.displayName="EmptyState";O.Text=E;O.Image=g},358255:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.NotchBackground=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=s(n(294184)),i=n(8916),u=n(770348),l=s(n(14573));function s(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap
;return(c=function(e){return e?n:t})(e)}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e,t){f=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return f(e,t)}var p=(0,i.cssValueToNumber)(l.default.notchWidth),v=Object.freeze({BLACK:l.default.black,GRAY:l.default.gray});t.NotchBackground=v;var y=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;f(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(t=e.call.apply(e,[this].concat(r))||this).state={barWidth:0};t.sizerRef=a.createRef()
;t.computeBars=function(){var e=t.sizerRef.current;t.setState({barWidth:null!=e?t.roundToNearestStep(e.clientWidth):0})};return t}var n=t.prototype;n.componentDidMount=function(){this.computeBars();window.addEventListener("resize",this.computeBars)};n.componentWillUnmount=function(){window.removeEventListener("resize",this.computeBars)};n.roundToNearestStep=function(e){return Math.round(e/p)*p};n.getProgressStyles=function(){var e=this.props.progress,t=100-Math.max(0,Math.min(100,e)),n=this.state.barWidth,r=n*t/100,a=this.roundToNearestStep(r);return{transform:"translateX("+Math.abs(a-n)+"px)"}};n.getGradientStyles=function(){var e=this.props,t=e.gradientEnd,n=e.gradientStart,r=e.progress;return{width:this.state.barWidth+"px",background:r<=0?"none":"linear-gradient(to right, "+n+", "+t+")"}};n.render=function(){var e=this.props,t=e.className,n=e.notchBackground;return a.createElement("div",{className:l.default.wrapper,ref:this.sizerRef},d("div",{className:(0,
o.default)(l.default.container,t),style:this.getGradientStyles()},void 0,d("div",{className:l.default.progress,style:this.getProgressStyles()}),d("div",{className:(0,o.default)(l.default.notches,n)})))};return t}(a.Component);y.displayName="GradientProgress";y.defaultProps={gradientStart:u.Colors.STATUS_YELLOW_400,gradientEnd:u.Colors.STATUS_GREEN_600};var h=y;t.default=h},2022:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=M(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=P(n(294184)),i=n(376871),u=n(378158),l=n(263996),s=n(523024),c=n(328092),d=P(n(886836)),f=n(800055),p=n(894826),v=P(n(692711)),y=n(465537),h=P(n(16941)),m=P(n(189950)),_=n(772575),g=P(n(80828)),E=n(645758),O=P(n(730977)),S=P(n(272544)),b=n(770348),I=P(n(247001)),C=P(n(976351)),T=P(n(860321)),A=P(n(145792));function P(e){return e&&e.__esModule?e:{default:e}}function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(M=function(e){return e?n:t})(e)}function N(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function R(){R=Object.assign||function(e){
for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return R.apply(this,arguments)}function w(e,t,n,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,a)}function D(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){w(o,r,a,i,u,"next",e)}function u(e){w(o,r,a,i,u,"throw",e)}i(void 0)}))}}function L(e,t){L=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return L(e,t)}var k=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;L(e,t)}(t,e);function t(){for(var t,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];(t=e.call.apply(e,[this].concat(o))||this).state={loaded:!1,hasBeenSeen:!1,isVisible:!1,submitting:!1};t.handleClickView=function(){var e=D(regeneratorRuntime.mark((function e(n){var r,a,o,i
;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.target;if(!r.className.includes("Menu")){e.next=3;break}return e.abrupt("return");case 3:a=t.props,o=a.onView,i=a.guild;n.stopPropagation();t.setState({submitting:!0});e.prev=6;e.t0=null!=o;if(!e.t0){e.next=11;break}e.next=11;return o(i.id);case 11:e.prev=11;t.setState({submitting:!1});return e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[6,,11,14]])})));return function(t){return e.apply(this,arguments)}}();t.handleVisibilityChange=function(e){var n=t.props,r=n.onGuildCardSeen,a=n.guild;if(null!=a&&!t.state.hasBeenSeen&&e){t.setState({hasBeenSeen:e});null!=r&&r(a.id)}};t.handleContextMenu=function(e){(0,u.openContextMenuLazy)(e,D(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,184767));case 2:r=e.sent;o=r.default;return e.abrupt("return",(function(e){
return a.createElement(o,R({},e,{guild:t.props.guild}))}));case 5:case"end":return e.stop()}}),e)}))))};t.setIsVisible=function(e){t.setState({isVisible:e})};return t}var r=t.prototype;r.getDefaultSplashURL=function(e){switch(e){case b.ThemeTypes.DARK:return T.default;case b.ThemeTypes.LIGHT:return A.default}};r.render=function(){var e,t,n,r=this,a=this.props,u=a.guild,b=a.className,T=a.theme,A=a.onTagClick,P=this.state,M=P.loaded,R=P.hasBeenSeen,w=P.isVisible,D=P.submitting,L=u.name,k=u.description,j=u.presenceCount,U=u.memberCount,G=u.keywords,F=v.default.getGuildDiscoverySplashURL({id:u.id,splash:u.discoverySplash,size:300*(0,f.getDevicePixelRatio)()}),x=null!=F?F:this.getDefaultSplashURL(T),W=v.default.getGuildIconURL({id:u.id,icon:u.icon,size:40});c.DiscoveryTagsExperiment.trackExposure({});var B=c.DiscoveryTagsExperiment.getCurrentConfig({}).shouldDisplayTags,V=s.DiscoveryInAppReportingExperiment.getCurrentConfig({}).canSeeInAppReportingButtons
;s.DiscoveryInAppReportingExperiment.trackExposure({});var H=p.DeveloperMode.getSetting()||V;return N(i.VisibilitySensor,{active:!w,onChange:this.setIsVisible,threshold:.1},void 0,w?N(i.VisibilitySensor,{onChange:this.handleVisibilityChange,active:!R,threshold:.55},void 0,N("div",{className:(0,o.default)(b,(e={},e[C.default.loaded]=M,e[C.default.loading]=!M,e))},void 0,D?N(g.default,{type:g.default.Type.PULSING_ELLIPSIS,className:C.default.spinner}):null,N(h.default,{onClick:this.handleClickView,className:(0,o.default)(C.default.card,(t={},t[C.default.submitting]=D,t[C.default.cardWithTags]=B,t)),onContextMenu:this.handleContextMenu},void 0,N("div",{className:C.default.cardHeader},void 0,N("div",{className:C.default.splash},void 0,N("img",{src:x,alt:"",className:C.default.splashImage,onLoad:function(){return r.setState({loaded:!0})}})),H?N("div",{className:C.default.actionButtons},void 0,N(d.default,{guild:u})):null,N("div",{className:C.default.guildIcon},void 0,N(S.default,{
mask:S.default.Masks.SQUIRCLE,width:48,height:48},void 0,N("div",{className:C.default.iconMask},void 0,N(S.default,{mask:S.default.Masks.SQUIRCLE,width:40,height:40},void 0,N("img",{src:W,alt:"",className:C.default.avatar})))))),N("div",{className:C.default.guildInfo},void 0,N("div",{className:C.default.title},void 0,N(m.default,{className:C.default.guildBadge,guild:u,tooltipColor:O.default.Colors.PRIMARY}),N(_.Heading,{variant:"heading-md/medium",className:C.default.guildName,level:4},void 0,L)),N(E.Text,{className:C.default.description,variant:"text-sm/normal",color:"header-secondary"},void 0,k),B&&G&&A&&N(l.DiscoveryTags,{tags:G,onTagClick:function(e){return A(e,u.id)},guildId:u.id,section:y.AnalyticsContexts.POPULAR}),N("div",{className:C.default.memberInfo},void 0,null!=j&&N("div",{className:C.default.memberCount},void 0,N("div",{className:C.default.dotOnline}),N(E.Text,{variant:"text-xs/normal",color:"header-secondary"
},void 0,I.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_ONLINE.format({membersOnline:j}))),null!=U&&N("div",{className:C.default.memberCount},void 0,N("div",{className:C.default.dotOffline}),N(E.Text,{variant:"text-xs/normal",color:"header-secondary"},void 0,I.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_TOTAL.format({count:U})))))))):N("div",{className:(0,o.default)(C.default.card,(n={},n[C.default.cardWithTags]=B,n))}))};return t}(a.PureComponent);k.displayName="GuildDiscoveryCard";k.Placeholder=function(e){return N("div",{className:(0,o.default)(e.className,C.default.cardPlaceholder)})};var j=k;t.default=j},618993:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=l(n(294184)),i=l(n(776680)),u=["tag","children","hoverText","className","forceHover"];function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return c.apply(this,arguments)}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e,t){f=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return f(e,t)}var p=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;f(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.render=function(){var e,t=this.props,n=t.tag,r=t.children,l=t.hoverText,s=t.className,f=t.forceHover,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(t,u);return a.createElement("div",c({},p,{className:(0,o.default)(s,i.default.hoverRoll,(e={},e[i.default.disabled]=null==l,e[i.default.forceHover]=f,e))}),d(n,{className:i.default.hovered},void 0,l),d(n,{className:i.default.default},void 0,r))};return t}(a.PureComponent);p.displayName="HoverRoll";p.defaultProps={tag:"div",forceHover:!1};var v=p
;t.default=v},365561:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.PictureInPictureWindow=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=f(n(294184)),i=n(973935),u=n(864489),l=f(n(222318)),s=n(770348),c=f(n(347754)),d=f(n(480798));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function m(e,t){m=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return m(e,t)}var _=80,g=132,E=80,O=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;m(e,t)}(t,e);function t(){
for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this)._width=0;t._height=0;t._velocityX=0;t._velocityY=0;t._lastMoveX=0;t._lastMoveY=0;t.ensureIsInPosition=function(){t.setPosition(t.props.position)};t.handleSetInnerDivRef=function(e){t._innerDiv=e;var n=null==e?void 0:e.ownerDocument.defaultView;if(null!=e&&null!=n){var r;t._resizeObserver=new n.ResizeObserver(t.ensureIsInPosition);null===(r=t._resizeObserver)||void 0===r||r.observe(e)}};t.handleSetDraggableRef=function(e){t._draggable=e};t.handleDragStart=function(e,n){t._velocityX=0;t._velocityY=0;t._lastMoveX=e;t._lastMoveY=n;t._lastMoveTime=new Date};t.handleDrag=function(e,n){var r=new Date,a=Number(r)-Number(t._lastMoveTime);t._velocityX=(e-t._lastMoveX)/a;t._velocityY=(n-t._lastMoveY)/a;t._lastMoveX=e;t._lastMoveY=n;t._lastMoveTime=r};t.handleDragEnd=function(e,n){
var r,a=t.props,o=a.maxX,i=a.maxY,u=t.calculateDecayingPosition(e,n,t._velocityX,t._velocityY),l=!0,c=!0;u.x>o/2&&(c=!1);u.y>i/2&&(l=!1);r=l&&c?s.PictureInPicturePositions.TOP_LEFT:l&&!c?s.PictureInPicturePositions.TOP_RIGHT:!l&&c?s.PictureInPicturePositions.BOTTOM_LEFT:s.PictureInPicturePositions.BOTTOM_RIGHT;t.animateToPosition(r,t.ensureIsInPosition);if(r!==t.props.position){var d=t.props,f=d.id,p=d.onMove;null==p||p(f,r)}};return t}var n=t.prototype;n.componentDidMount=function(){this.setPosition(this.props.position)};n.componentDidUpdate=function(e){e.edgeOffsetTop===this.props.edgeOffsetTop&&e.edgeOffsetLeft===this.props.edgeOffsetLeft&&e.edgeOffsetBottom===this.props.edgeOffsetBottom&&e.edgeOffsetRight===this.props.edgeOffsetRight&&e.maxX===this.props.maxX&&e.maxY===this.props.maxY&&e.dockedRect===this.props.dockedRect||this.ensureIsInPosition()};n.componentWillUnmount=function(){var e;null===(e=this._resizeObserver)||void 0===e||e.disconnect()};n.getPosition=function(e){
var t=(0,i.findDOMNode)(this._innerDiv);if(null!=t){var n=t.getBoundingClientRect();this._width=n.width;this._height=n.height}var r=this.props,a=r.edgeOffsetTop,o=r.edgeOffsetLeft,l=r.edgeOffsetBottom,c=r.edgeOffsetRight,d=r.maxX,f=r.maxY,p=r.dockedRect,v=a,y=f-l-this._height,h=o,m=d-c-this._width,_=(0,u.getPlatform)()!==u.PlatformTypes.WEB&&this.inPopout?22:0;if(null!=p){var g,E;return{y:(null!==(g=null==p?void 0:p.y)&&void 0!==g?g:0)-_,x:null!==(E=null==p?void 0:p.x)&&void 0!==E?E:0}}switch(e){case s.PictureInPicturePositions.TOP_LEFT:return{y:v,x:h};case s.PictureInPicturePositions.BOTTOM_LEFT:return{y,x:h};case s.PictureInPicturePositions.TOP_RIGHT:return{y:v,x:m};default:return{y,x:m}}};n.setPosition=function(e){var t,n=this.getPosition(e),r=n.x,a=n.y;null===(t=this._draggable)||void 0===t||t.setPosition(r,a)};n.animateToPosition=function(e,t){var n,r=this.getPosition(e),a=r.x,o=r.y;null===(n=this._draggable)||void 0===n||n.animateToPosition(a,o,{},t)}
;n.calculateDecayingPosition=function(e,t,n,r){return{x:e+200*n,y:t+200*r}};n.getXOffset=function(){var e=this.props,t=e.position,n=e.edgeOffsetLeft,r=e.edgeOffsetRight;switch(t){case s.PictureInPicturePositions.TOP_LEFT:case s.PictureInPicturePositions.BOTTOM_LEFT:return-n;default:return r}};n.getYOffset=function(){var e=this.props,t=e.position,n=e.edgeOffsetTop,r=e.edgeOffsetBottom;switch(t){case s.PictureInPicturePositions.TOP_LEFT:case s.PictureInPicturePositions.TOP_RIGHT:return-n;default:return r}};n.render=function(){var e,t=this.props,n=t.maxX,r=t.maxY,i=t.dockedRect,u=t.hidden,s={};null!=i&&(s={transform:"translate3d("+i.x+", "+i.y+", 0)",width:i.width,height:i.height});return a.createElement(l.default,{dragAnywhere:!0,ref:this.handleSetDraggableRef,className:(0,o.default)(c.default.pictureInPictureWindow,d.default.elevationHigh,(e={},e[c.default.hidden]=u,e)),maxX:n,maxY:r,disabled:null!=i,onDragStart:this.handleDragStart,onDrag:this.handleDrag,onDragEnd:this.handleDragEnd
},a.createElement("div",{ref:this.handleSetInnerDivRef,style:s},this.props.children))};!function(e,t,n){t&&h(e.prototype,t);n&&h(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"inPopout",get:function(){return this.props.appContext===s.AppContext.POPOUT}}]);return t}(a.PureComponent);t.PictureInPictureWindow=O;O.displayName="PictureInPictureWindow";O.defaultProps={hidden:!1};var S=function(e){var t=e.selectedPIPWindow,n=e.pipWindows,r=e.maxX,o=e.maxY,i=e.onWindowMove,u=e.dockedRect,l=e.pictureInPictureComponents,d=e.appContext;return v("div",{className:c.default.pictureInPicture},void 0,function(){if(null==t)return null;var e=Array.from(n.values()).map((function(e){if(e.id!==t.id&&e.component!==s.PictureInPictureComponents.EMBED_IFRAME)return null;var n="string"==typeof e.component?l[e.component]:e.component;return a.createElement(n,y({key:"pipWindow-"+e.id},e.props))}));return v(O,{appContext:d,position:t.position,id:t.id,hidden:t.hidden,onMove:i,maxX:r,maxY:o,
dockedRect:u,edgeOffsetTop:_,edgeOffsetBottom:g,edgeOffsetLeft:E,edgeOffsetRight:_},void 0,e)}())};S.displayName="PictureInPicture";var b=a.memo(S);t.default=b},463922:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=(r=n(237745))&&r.__esModule?r:{default:r},i=n(770348);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(){l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return l.apply(this,arguments)}var s=function(e){return a.createElement(o.default,l({sitekey:i.RECAPTCHA_SITE_KEY},e))};s.displayName="Recaptcha";s.Themes={LIGHT:"light",DARK:"dark"};s.Sizes={COMPACT:"compact",NORMAL:"normal",INVISIBLE:"invisible"};var c=s;t.default=c},49465:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=l(n(131795)),i=l(n(74854)),u=l(n(23966));function l(e){return e&&e.__esModule?e:{
default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e,t){d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return d(e,t)}function f(e){var t=function(e){return e.interpolate({inputRange:[0,1],outputRange:["0px","1px"]})};return{transform:[{translateX:t(e.x)},{translateY:t(e.y)}]}}var p=c("defs",{},void 0,c("rect",{id:"search-index-foreground-mask-a",width:"80",height:"80",rx:"40"})),v=c("g",{mask:"url(#search-index-foreground-mask-b)"},void 0,c("path",{
fill:"#FFF",d:"M-7.1156 170.8361c0 10.68-8.658 19.338-19.339 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.681 0 19.339 8.658 19.339 19.338"}),c("path",{fill:"#FFF",d:"M-7.1156 170.8361c0 10.68-8.658 19.338-19.339 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.681 0 19.339 8.658 19.339 19.338"}),c("path",{fill:"#FFD773",d:"M-7.1156 170.8361c0 10.68-8.658 19.338-19.339 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.681 0 19.339 8.658 19.339 19.338"}),c("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-7.1156 170.8361c0 10.68-8.658 19.338-19.339 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.681 0 19.339 8.658 19.339 19.338z",strokeLinecap:"round",strokeLinejoin:"round"}),c("path",{stroke:"#1E2126",strokeWidth:"2",
d:"M-15.0267 170.8361c0 6.311-5.116 11.427-11.428 11.427-6.31 0-11.426-5.116-11.426-11.427s5.116-11.427 11.426-11.427c6.312 0 11.428 5.116 11.428 11.427z",strokeLinecap:"round",strokeLinejoin:"round"}),c("path",{fill:"#FFF",d:"M6.9479 154.135c0 10.68-8.658 19.338-19.338 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338"}),c("path",{fill:"#FFF",d:"M6.9479 154.135c0 10.68-8.658 19.338-19.338 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338"}),c("path",{fill:"#FFD773",d:"M6.9479 154.135c0 10.68-8.658 19.338-19.338 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338"}),c("path",{stroke:"#1E2126",strokeWidth:"2",d:"M6.9479 154.135c0 10.68-8.658 19.338-19.338 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338z",strokeLinecap:"round",
strokeLinejoin:"round"}),c("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-12.39 165.5622c-6.311 0-11.427-5.116-11.427-11.427s5.116-11.427 11.427-11.427 11.427 5.116 11.427 11.427c0 2.727-.955 5.231-2.55 7.196",strokeLinecap:"round",strokeLinejoin:"round"}),c("path",{fill:"#FFF",d:"M-4.4789 140.9499c0 10.68-8.658 19.338-19.338 19.338-10.681 0-19.338-8.658-19.338-19.338 0-10.68 8.657-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338"}),c("path",{fill:"#FFF",d:"M-4.4789 140.9499c0 10.68-8.658 19.338-19.338 19.338-10.681 0-19.338-8.658-19.338-19.338 0-10.68 8.657-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338"}),c("path",{fill:"#FFD773",d:"M-4.4789 140.9499c0 10.68-8.658 19.338-19.338 19.338-10.681 0-19.338-8.658-19.338-19.338 0-10.68 8.657-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338"}),c("path",{stroke:"#1E2126",strokeWidth:"2",
d:"M-4.4789 140.9499c0 10.68-8.658 19.338-19.338 19.338-10.681 0-19.338-8.658-19.338-19.338 0-10.68 8.657-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338z",strokeLinecap:"round",strokeLinejoin:"round"}),c("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-23.8168 129.5232c6.311 0 11.427 5.116 11.427 11.427s-5.116 11.427-11.427 11.427c-6.312 0-11.427-5.116-11.427-11.427",strokeLinecap:"round",strokeLinejoin:"round"}),c("path",{fill:"#FFF",d:"M100.5348-15.3089c-10.639.941-20.026-6.919-20.968-17.558-.941-10.638 6.92-20.026 17.559-20.967 10.638-.942 20.025 6.919 20.967 17.558.941 10.638-6.919 20.026-17.558 20.967"}),c("path",{fill:"#FFF",d:"M100.5348-15.3089c-10.639.941-20.026-6.919-20.968-17.558-.941-10.638 6.92-20.026 17.559-20.967 10.638-.942 20.025 6.919 20.967 17.558.941 10.638-6.919 20.026-17.558 20.967"}),c("path",{fill:"#FFD773",
d:"M100.5348-15.3089c-10.639.941-20.026-6.919-20.968-17.558-.941-10.638 6.92-20.026 17.559-20.967 10.638-.942 20.025 6.919 20.967 17.558.941 10.638-6.919 20.026-17.558 20.967"}),c("path",{stroke:"#1E2126",strokeWidth:"2",d:"M100.5348-15.3089c-10.639.941-20.026-6.919-20.968-17.558-.941-10.638 6.92-20.026 17.559-20.967 10.638-.942 20.025 6.919 20.967 17.558.941 10.638-6.919 20.026-17.558 20.967z",strokeLinecap:"round",strokeLinejoin:"round"}),c("path",{stroke:"#1E2126",strokeWidth:"2",d:"M110.2125-35.5789c.556 6.286-4.089 11.833-10.375 12.39-6.287.556-11.834-4.089-12.391-10.375-.555-6.286 4.089-11.834 10.376-12.39",strokeLinecap:"round",strokeLinejoin:"round"}),c("path",{fill:"#C2FFF9",d:"M-76.4877 122.3928l14.704 5.777-8.133 24.358-25.269-4.57 1.997-15.671"}),c("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-76.4877 122.3928l14.704 5.777-8.133 24.358-25.269-4.57 1.997-15.671zm-18.6982 25.5654l33.402-19.788",strokeLinecap:"round",strokeLinejoin:"round"}),c("path",{stroke:"#1E2126",
strokeWidth:"2",d:"M-93.1889 132.2868l23.272 20.241-6.571-30.135",strokeLinecap:"round",strokeLinejoin:"round"}),c("path",{fill:"#C2FFF9",d:"M151.5172-63.3406l4.276 12.99-20.723 8.042-10.921-19.362 11.546-7.33"}),c("path",{stroke:"#1E2126",strokeWidth:"2",d:"M151.5172-63.3406l4.276 12.99-20.723 8.042-10.921-19.362 11.546-7.33z",strokeLinecap:"round",strokeLinejoin:"round"}),c("path",{stroke:"#1E2126",strokeWidth:"2",d:"M135.6949-69.0003l-.625 26.692 16.447-21.032m-27.3679 1.6701l31.645 11.319",strokeLinecap:"round",strokeLinejoin:"round"}),c("path",{fill:"#E4E9F8",d:"M59.7897 13.2502l-102.171 25.055c-2.453.602-4.93-.899-5.531-3.352l-17.794-72.557c-.602-2.454.9-4.93 3.353-5.532l102.171-25.055c2.454-.601 4.931.899 5.533 3.353l17.793 72.556c.601 2.454-.9 4.93-3.354 5.532"}),c("path",{fill:"#7687B2",d:"M45.3502-64.8382c-.602-2.453-3.078-3.954-5.532-3.353l-102.171 25.056c-2.454.601-3.954 3.078-3.353 5.531l3.489 14.228 111.056-27.234-3.489-14.228z"}),c("path",{stroke:"#1E2126",
strokeWidth:"2",d:"M59.7897 13.2502l-102.171 25.055c-2.453.602-4.93-.899-5.531-3.352l-17.794-72.557c-.602-2.454.9-4.93 3.353-5.532l102.171-25.055c2.454-.601 4.931.899 5.533 3.353l17.793 72.556c.601 2.454-.9 4.93-3.354 5.532zM-62.2172-23.3763l111.057-27.234m-95.9164 3.7287l-8.367 21.844m30.0096-27.1517l-8.366 21.844m30.0096-27.1516l-8.366 21.844M17.8522-62.804L9.4862-40.96m30.0095-27.1516l-8.366 21.844",strokeLinecap:"round",strokeLinejoin:"round"}),c("path",{fill:"#FF7B78",d:"M28.693-19.9388c3.986 16.254-5.959 32.661-22.213 36.647-16.254 3.986-32.661-5.959-36.646-22.213-3.987-16.253 5.959-32.661 22.213-36.646 16.252-3.986 32.661 5.959 36.646 22.212"}),c("path",{stroke:"#1E2126",strokeWidth:"2",d:"M28.693-19.9388c3.986 16.254-5.959 32.661-22.213 36.647-16.254 3.986-32.661-5.959-36.646-22.213-3.987-16.253 5.959-32.661 22.213-36.646 16.252-3.986 32.661 5.959 36.646 22.212z",strokeLinecap:"round",strokeLinejoin:"round"}),c("path",{fill:"#FFF",
d:"M-16.3051-26.1936l7.999 32.618 26.541-23.798"}),c("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-16.3051-26.1936l7.999 32.618 26.541-23.798z",strokeLinecap:"round",strokeLinejoin:"round"}),c("path",{fill:"#FFF",d:"M101.5895 23.7946l33.137 35.518-29.647-1.029c-2.585-.09-4.608-2.258-4.518-4.843l1.028-29.646z"}),c("path",{fill:"#E4E9F8",d:"M134.7262 59.3127l-3.195 92.059c-.089 2.585-2.258 4.608-4.843 4.519l-93.619-3.249c-2.586-.09-4.609-2.258-4.519-4.844l4.223-121.705c.09-2.585 2.259-4.608 4.844-4.518l63.972 2.22"}),c("path",{stroke:"#1E2126",strokeWidth:"2",d:"M134.7262 59.3127l-3.195 92.059c-.089 2.585-2.258 4.608-4.843 4.519l-93.619-3.249c-2.586-.09-4.609-2.258-4.519-4.844l4.223-121.705c.09-2.585 2.259-4.608 4.844-4.518l63.972 2.22",strokeLinecap:"round",strokeLinejoin:"round"}),c("path",{stroke:"#1E2126",strokeWidth:"2",d:"M101.5895 23.7946l33.137 35.518-29.647-1.029c-2.585-.09-4.608-2.258-4.518-4.843l1.028-29.646z",strokeLinecap:"round",strokeLinejoin:"round"}),c("path",{
fill:"#FFF",d:"M104.15 6.4353l39.81 27.834-29.21 5.171c-2.547.451-4.978-1.248-5.429-3.796l-5.171-29.209z"}),c("path",{fill:"#E4E9F8",d:"M143.9596 34.2692l16.058 90.704c.45 2.547-1.249 4.978-3.796 5.429l-92.242 16.329c-2.546.452-4.977-1.248-5.428-3.795l-21.229-119.914c-.451-2.547 1.248-4.978 3.796-5.428l63.031-11.159"}),c("path",{stroke:"#1E2126",strokeWidth:"2",d:"M143.9596 34.2692l16.058 90.704c.45 2.547-1.249 4.978-3.796 5.429l-92.242 16.329c-2.546.452-4.977-1.248-5.428-3.795l-21.229-119.914c-.451-2.547 1.248-4.978 3.796-5.428l63.031-11.159",strokeLinecap:"round",strokeLinejoin:"round"}),c("path",{stroke:"#1E2126",strokeWidth:"2",d:"M104.15 6.4353l39.81 27.834-29.21 5.171c-2.547.451-4.978-1.248-5.429-3.796l-5.171-29.209z",strokeLinecap:"round",strokeLinejoin:"round"}),c("path",{fill:"#5871B7",
d:"M10.7613-26.0428h117.831c2.829 0 5.123 2.294 5.123 5.123v7.341c0 1.565.716 3.045 1.943 4.016l7 5.542c.659.522.646 1.525-.026 2.029l-6.867 5.151c-1.29.967-2.05 2.485-2.05 4.098v7.685c0 2.829-2.294 5.123-5.123 5.123H10.7613c-2.83 0-5.124-2.294-5.124-5.123v-35.862c0-2.829 2.294-5.123 5.124-5.123"}),c("path",{stroke:"#1E2126",strokeWidth:"2",d:"M10.7613-26.0428h117.831c2.829 0 5.123 2.294 5.123 5.123v7.341c0 1.565.716 3.045 1.943 4.016l7 5.542c.659.522.646 1.525-.026 2.029l-6.867 5.151c-1.29.967-2.05 2.485-2.05 4.098v7.685c0 2.829-2.294 5.123-5.123 5.123H10.7613c-2.83 0-5.124-2.294-5.124-5.123v-35.862c0-2.829 2.294-5.123 5.124-5.123zM64.1588 1.2805h-43.147m21.5738-8.1114h-21.574m91.3894 0H49.816m33.9815-8.1118h-62.786",strokeLinecap:"round",strokeLinejoin:"round"}),c("path",{fill:"#FFF",d:"M166.0641 58.8137l-21.664 89.53c-.608 2.514-3.14 4.06-5.654 3.451l-91.048-22.031c-2.515-.608-4.06-3.14-3.451-5.654l28.64-118.362c.609-2.515 3.14-4.059 5.655-3.451l62.215 15.055"}),c("path",{
fill:"#E4E9F8",d:"M140.7574 17.3513l25.307 41.462-28.832-6.976c-2.515-.609-4.06-3.14-3.452-5.654l6.977-28.832z"}),c("path",{stroke:"#1E2126",strokeWidth:"2",d:"M166.0641 58.8137l-21.664 89.53c-.608 2.514-3.14 4.06-5.654 3.451l-91.048-22.031c-2.515-.608-4.06-3.14-3.451-5.654l28.64-118.362c.609-2.515 3.14-4.059 5.655-3.451l62.215 15.055",strokeLinecap:"round",strokeLinejoin:"round"}),c("path",{stroke:"#1E2126",strokeWidth:"2",d:"M140.7574 17.3513l25.307 41.462-28.832-6.976c-2.515-.609-4.06-3.14-3.452-5.654l6.977-28.832z",strokeLinecap:"round",strokeLinejoin:"round"}),c("path",{fill:"#5865f2",d:"M84.6422 57.6999h-117.832c-2.829 0-5.123-2.293-5.123-5.123v-7.34c0-1.566-.716-3.045-1.943-4.017l-7-5.542c-.659-.521-.646-1.525.027-2.029l6.867-5.151c1.29-.967 2.049-2.485 2.049-4.098v-7.685c0-2.829 2.294-5.123 5.123-5.123h117.832c2.829 0 5.123 2.294 5.123 5.123v35.862c0 2.83-2.294 5.123-5.123 5.123"}),c("path",{stroke:"#1E2126",strokeWidth:"2",
d:"M84.6422 57.6999h-117.832c-2.829 0-5.123-2.293-5.123-5.123v-7.34c0-1.566-.716-3.045-1.943-4.017l-7-5.542c-.659-.521-.646-1.525.027-2.029l6.867-5.151c1.29-.967 2.049-2.485 2.049-4.098v-7.685c0-2.829 2.294-5.123 5.123-5.123h117.832c2.829 0 5.123 2.294 5.123 5.123v35.862c0 2.83-2.294 5.123-5.123 5.123zM-26.3637 22.2653h48.67M6.0826 30.3767h68.309m-100.7553 0h22.799m53.1942 8.1118h14.942m-24.3346 0h4.534m-71.1346 0h54.093m-54.093 8.1113h63.186",strokeLinecap:"round",strokeLinejoin:"round"}),c("path",{fill:"#98AFED",d:"M63.191 113.1003h-130.64c-2.829 0-5.123-2.293-5.123-5.123v-7.34c0-1.566-.716-3.046-1.943-4.017l-7-5.542c-.658-.521-.646-1.525.026-2.029l6.868-5.151c1.291-.967 2.049-2.485 2.049-4.098v-7.685c0-2.829 2.294-5.123 5.123-5.123h130.64c2.829 0 5.123 2.294 5.123 5.123v35.862c0 2.83-2.294 5.123-5.123 5.123"}),c("path",{stroke:"#1E2126",strokeWidth:"2",
d:"M63.191 113.1003h-130.64c-2.829 0-5.123-2.293-5.123-5.123v-7.34c0-1.566-.716-3.046-1.943-4.017l-7-5.542c-.658-.521-.646-1.525.026-2.029l6.868-5.151c1.291-.967 2.049-2.485 2.049-4.098v-7.685c0-2.829 2.294-5.123 5.123-5.123h130.64c2.829 0 5.123 2.294 5.123 5.123v35.862c0 2.83-2.294 5.123-5.123 5.123zM-60.6225 77.6657h99.433m-23.4398 8.1114h7.949m-19.6892 0h-64.253m0 8.1118h47.398m-47.398 8.1113h116.122",strokeLinecap:"round",strokeLinejoin:"round"}),c("path",{fill:"#E4E9F8",d:"M37.8805 30.8191h-105.198c-2.527 0-4.574-2.048-4.574-4.574v-74.706c0-2.527 2.047-4.574 4.574-4.574h105.198c2.526 0 4.574 2.047 4.574 4.574v74.706c0 2.526-2.048 4.574-4.574 4.574"}),c("path",{fill:"#7687B2",d:"M42.4547-33.7181v-14.743c0-2.527-2.048-4.574-4.574-4.574h-105.198c-2.527 0-4.575 2.047-4.575 4.574v14.743h114.347z"}),c("path",{stroke:"#1E2126",strokeWidth:"2",
d:"M37.8805 30.8191h-105.198c-2.527 0-4.574-2.048-4.574-4.574v-74.706c0-2.527 2.047-4.574 4.574-4.574h105.198c2.526 0 4.574 2.047 4.574 4.574v74.706c0 2.526-2.048 4.574-4.574 4.574zM-71.892-33.8123H42.455m-94.0442-19.2231l-13.328 19.223m35.6121-19.223l-13.328 19.223m35.6132-19.223l-13.328 19.223m35.6122-19.223l-13.328 19.223m35.6121-19.223l-13.328 19.223",strokeLinecap:"round",strokeLinejoin:"round"}),c("path",{fill:"#FF7B78",d:"M15.5836-8.8211c0 16.735-13.566 30.302-30.302 30.302-16.735 0-30.302-13.567-30.302-30.302s13.567-30.302 30.302-30.302c16.736 0 30.302 13.567 30.302 30.302"}),c("path",{stroke:"#1E2126",strokeWidth:"2",d:"M15.5836-8.8211c0 16.735-13.566 30.302-30.302 30.302-16.735 0-30.302-13.567-30.302-30.302s13.567-30.302 30.302-30.302c16.736 0 30.302 13.567 30.302 30.302z",strokeLinecap:"round",strokeLinejoin:"round"}),c("path",{fill:"#FFF",d:"M-26.6293-25.6136v33.584l31.445-16.792"}),c("path",{stroke:"#1E2126",strokeWidth:"2",
d:"M-26.6293-25.6136v33.584l31.445-16.792zM184.3375 8.3772v6.43m3.2149-3.2152h-6.43m-292.9079 79.082v6.43m3.2148-3.2151h-6.43M195.901-43.6692l-1.516 1.515m-6.0611 6.0621l-1.516 1.516m9.0931-.0004l-1.516-1.516m-6.0611-6.0616l-1.516-1.515M-88.642 168.9265l-1.516 1.516m-6.0621 6.0616l-1.516 1.515m9.0941.0001l-1.516-1.515m-6.0621-6.0621l-1.516-1.516M174.3463-8.8211c0 1.775-1.439 3.215-3.215 3.215-1.776 0-3.215-1.44-3.215-3.215s1.439-3.215 3.215-3.215c1.776 0 3.215 1.44 3.215 3.215z",strokeLinecap:"round",strokeLinejoin:"round"})),y=c("path",{fill:"#C9D2F0",d:"M89.8311 190.9259c-2.441-2.441-2.441-6.4 0-8.841l36.771-36.771 8.841 8.841-36.771 36.771c-2.441 2.441-6.4 2.441-8.841 0"}),h=c("path",{stroke:"#1E2126",strokeWidth:"2",d:"M89.8311 190.9259c-2.441-2.441-2.441-6.4 0-8.841l36.771-36.771 8.841 8.841-36.771 36.771c-2.441 2.441-6.4 2.441-8.841 0z",strokeLinecap:"round",strokeLinejoin:"round"}),m=c("path",{fill:"#9F7373",
d:"M100.1458 189.4524l-8.841-8.841c-1.628-1.628-1.628-4.267 0-5.894l17.437-17.437c1.627-1.628 4.266-1.628 5.894 0l8.841 8.841c1.628 1.628 1.628 4.267 0 5.894l-17.437 17.437c-1.627 1.628-4.266 1.628-5.894 0"}),_=c("path",{stroke:"#1E2126",strokeWidth:"2",d:"M100.1458 189.4524l-8.841-8.841c-1.628-1.628-1.628-4.267 0-5.894l17.437-17.437c1.627-1.628 4.266-1.628 5.894 0l8.841 8.841c1.628 1.628 1.628 4.267 0 5.894l-17.437 17.437c-1.627 1.628-4.266 1.628-5.894 0z",strokeLinecap:"round",strokeLinejoin:"round"}),g=c("path",{fill:"#F3F9FF",d:"M132.1122 148.6448c-15.621-15.621-15.621-40.948 0-56.569 15.621-15.621 40.948-15.621 56.569 0 15.621 15.621 15.621 40.948 0 56.569-15.621 15.621-40.948 15.621-56.569 0m63.895-63.895c-19.667-19.667-51.554-19.667-71.221 0s-19.667 51.554 0 71.221 51.554 19.667 71.221 0 19.667-51.554 0-71.221"}),E=c("path",{stroke:"#1E2126",strokeWidth:"2",
d:"M196.0069 155.9708c-19.667 19.667-51.554 19.667-71.221 0s-19.667-51.554 0-71.221 51.554-19.667 71.221 0 19.667 51.554 0 71.221z",strokeLinecap:"round",strokeLinejoin:"round"}),O=c("path",{stroke:"#1E2126",strokeWidth:"2",d:"M132.1122 148.6448c-15.621-15.621-15.621-40.948 0-56.569 15.621-15.621 40.948-15.621 56.569 0 15.621 15.621 15.621 40.948 0 56.569-15.621 15.621-40.948 15.621-56.569 0z",strokeLinecap:"round",strokeLinejoin:"round"}),S=c("path",{d:"M84 66h130v130H84z"}),b=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;d(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).state={x:new i.default.Value(0),y:new i.default.Value(0)};t._isMounted=!1;t.shouldLoop=function(){return t._isMounted};return t}var n=t.prototype;n.componentDidMount=function(){this._isMounted=!0;var e=this.state,t=e.x,n=e.y;if("Firefox"!==o.default.name){i.default.animate(t,{
loop:!0,toValueMin:-74,toValueMax:95,overshootClamping:!0,friction:5,tension:1,shouldLoop:this.shouldLoop});i.default.animate(n,{loop:!0,toValueMin:-59,toValueMax:75,overshootClamping:!0,friction:5,tension:1,shouldLoop:this.shouldLoop})}};n.componentWillUnmount=function(){this._isMounted=!1};n.render=function(){return c("div",{className:u.default.searchIndexAnimation},void 0,c("div",{className:u.default.searchIndexBackground}),c("svg",{className:u.default.searchIndexForeground,width:"320",height:"280"},void 0,p,c("g",{fill:"none",fillRule:"evenodd"},void 0,c("g",{transform:"translate(120 80)"},void 0,c("mask",{id:"search-index-foreground-mask-b",fill:"#fff"},void 0,c(i.default.use,{style:f(this.state),className:u.default.mask,xlinkHref:"#search-index-foreground-mask-a"})),v),c(i.default.g,{className:u.default.magnifyingGlass,style:f(this.state)},void 0,y,h,m,_,g,E,O,S))))};return t}(a.Component);b.displayName="SearchIndexForeground";var I=b;t.default=I},427370:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.padded,n=void 0===t||t,l=e.inset,s=void 0!==l&&l,d=e.active,f=void 0!==d&&d,p=e.className,v=e.children,y=e.onClick,h=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);if(null!=y){var m;return r.createElement(o.default,c({onClick:y,tabIndex:null!=y?0:-1,className:(0,a.default)(p,(m={},m[i.default.outer]=!s,m[i.default.inset]=s,m[i.default.padded]=n,m[i.default.active]=f,m[i.default.interactive]=null!=y,m))},h),v)}var _;return r.createElement("div",c({className:(0,a.default)(p,(_={},_[i.default.outer]=!s,_[i.default.inset]=s,_[i.default.padded]=n,_[i.default.active]=f,_))},h),v)};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=l(n(294184)),o=l(n(16941)),i=l(n(202133)),u=["padded","inset","active","className","children","onClick"];function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return c.apply(this,arguments)}},409236:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=c(n(667294)),o=l(n(496486)),i=c(n(925182)),u=l(n(531198));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){return function(e){
if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){v=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return v(e,t)}var y=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;v(e,t)}(t,e);function t(){
for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(t=e.call.apply(e,[this].concat(r))||this).canvas=a.createRef();t.updateAnimation=function(e){var n=t.canvas.current;if(null!=n){var r=t.props,a=r.data,o=r.updateInterval,u=r.color,l=r.numUpdatesToShow,s=r.lineWidth,c=r.animate,d=r.gradientStopColor;if(!(a.length<2)){var f=Math.max(Math.min((e-t.dataChangedAt)/o,1),0),p=n.getContext("2d"),v=t.maxValue;p.strokeStyle=u;p.lineWidth=s;var y=n.height-p.lineWidth,h=p.createLinearGradient(0,0,0,y);if(null!=d)h.addColorStop(0,d);else{var m=i.hexToRgb(u),_=m.r,g=m.g,E=m.b;h.addColorStop(0,"rgba("+_+", "+g+", "+E+", 0)")}h.addColorStop(1,t.fillColor);p.fillStyle=h;var O=a.length>=l?l:a.length;p.setTransform(1,0,0,-1,0,n.height);p.clearRect(0,0,n.width,n.height);p.translate(0,.5*p.lineWidth);var S,b,I=Math.floor(n.width/(O-3)),C=.5*I,T=I-I*f;p.translate(T,0);p.beginPath();var A=-I;a.forEach((function(e,t){S={x:A,y:y*e/v}
;0===t?p.moveTo(S.x,S.y):p.bezierCurveTo(b.x+C,b.y,S.x-C,S.y,S.x,S.y);b=S;A+=I}));p.stroke();p.lineTo(A-I,0);p.lineTo(0,0);p.fill();c&&f<1&&(t.animationFrameRequestId=window.requestAnimationFrame(t.updateAnimation))}}};return t}var n=t.prototype;n.onDataUpdate=function(e,t){var n=this.props,r=n.maxValue,a=n.data,u=n.animate,l=null==e||e.data!==t.data&&!o.default.isEqual(e.data,t.data);if(l){this.dataChangedAt=performance.now();this.maxValue=null!=r?r:Math.max.apply(Math,f(a))}if(l||null==e||!e.animate&&u||e.color!==this.props.color){var s=i.hexToRgb(this.props.color);this.fillColor="rgba("+s.r+", "+s.g+", "+s.b+", 0.5)";window.cancelAnimationFrame(this.animationFrameRequestId);this.animationFrameRequestId=window.requestAnimationFrame(this.updateAnimation)}};n.componentDidMount=function(){this.animationFrameRequestId=0;this.onDataUpdate(null,this.props)};n.componentDidUpdate=function(e){this.onDataUpdate(e,this.props)};n.componentWillUnmount=function(){
window.cancelAnimationFrame(this.animationFrameRequestId);this.animationFrameRequestId=0};n.render=function(){var e=this.props,t=e.className,n=e.pixelWidth,r=e.pixelHeight;return d("div",{className:t},void 0,a.createElement("canvas",{ref:this.canvas,className:u.default.canvas,width:n,height:r}))};return t}(a.PureComponent);y.displayName="SparkChart";y.defaultProps={animate:!0};var h=y;t.default=h},961664:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r)}(n(667294))
;var r,a,o=s(n(294184)),i=s(n(496486)),u=n(770348),l=s(n(995071));function s(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return f.apply(this,arguments)}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}!function(e){e.XSMALL="xsmall";e.SMALL="small";e.LARGE="large"}(a||(a={}));var y=function(e){
var t=e.className,n=e.percents,r=e.size,s=void 0===r?a.SMALL:r,c=e.foregroundColors,v=void 0===c?[u.Colors.BRAND]:c,y=e.backgroundColor,h=void 0===y?"var(--background-modifier-active)":y,m=e.animate,_=void 0===m||m,g=i.default.zip(n,v).map((function(e,t){var n,r,a=p(e,2),i=a[0],u=a[1];r=Array.isArray(u)?{background:"linear-gradient(to right, "+u[0]+", "+u[1]+")"}:{backgroundColor:u};return d("div",{className:(0,o.default)(l.default.progressBar,l.default[s],(n={},n[l.default.animating]=_,n)),style:f({transform:"translate3d("+(Math.min(Math.max(0,i),100)-100)+"%, 0, 0)"},r)},t)})).reverse();return d("div",{className:(0,o.default)(t,l.default.progress,l.default[s]),style:{backgroundColor:h}},void 0,g)};y.displayName="StackedProgress";y.Sizes=a;var h=y;t.default=h},288800:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e}
;var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=y(n(294184)),i=n(171236),u=y(n(550270)),l=y(n(956117)),s=y(n(530250)),c=y(n(463922)),d=n(770348),f=y(n(247001)),p=y(n(959665)),v=y(n(380203));function y(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e,t){_=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _(e,t)}var g=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;_(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){var n=t.props.onClick;null==n||n(e)};return t}var n=t.prototype;n.renderFields=function(){var e=this,t=this.props,n=t.type,r=t.captchaKey,a=t.theme,o=t.onCaptchaVerify;return n===d.VerificationTypes.CAPTCHA?m(c.default,{onVerify:o,theme:a},r):m(l.default,{onClick:function(){return e.handleClick(n)}},void 0,f.default.Messages.START_VERIFICATION_BUTTON)};n.render=function(){var e;return m(s.default,{className:p.default.verification,align:s.default.Align.CENTER,
direction:s.default.Direction.VERTICAL},void 0,m(s.default,{className:(0,o.default)(p.default.container,(e={},e[p.default.isMobile]=i.isMobile,e)),direction:s.default.Direction.VERTICAL,align:s.default.Align.CENTER,justify:s.default.Justify.CENTER},void 0,m("div",{className:p.default.image}),m("div",{className:(0,o.default)(p.default.title,v.default.marginTop20)},void 0,f.default.Messages.VERIFICATION_TITLE),m("div",{className:(0,o.default)(p.default.body,v.default.marginTop4,v.default.marginBottom20)},void 0,f.default.Messages.VERIFICATION_BODY.format()),m(s.default,{grow:0,justify:s.default.Justify.CENTER},void 0,this.renderFields())),m("div",{className:(0,o.default)(p.default.footer,v.default.marginTop20)},void 0,f.default.Messages.VERIFICATION_FOOTER),m(s.default,{className:(0,o.default)(v.default.marginTop4,v.default.marginBottom20),grow:0},void 0,m("div",{className:(0,o.default)(p.default.footer,p.default.footerAction)
},void 0,f.default.Messages.VERIFICATION_FOOTER_SUPPORT.format({supportURL:u.default.getSubmitRequestURL()})),m("div",{className:(0,o.default)(p.default.footer,p.default.footerBullet)},void 0,"â€¢"),m("div",{className:(0,o.default)(p.default.footer,p.default.footerAction)},void 0,f.default.Messages.VERIFICATION_FOOTER_LOGOUT.format({logoutOnClick:this.props.onLogout}))))};return t}(a.PureComponent);g.displayName="Verification";g.defaultProps={type:d.VerificationTypes.CAPTCHA,onCaptchaVerify:d.NOOP,onLogout:d.NOOP};var E=g;t.default=E},974286:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.BackgroundTransition=void 0;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=p(n(294184)),u=p(n(74854)),l=n(91817),s=p(n(550024)),c=p(n(530250)),d=n(770348),f=p(n(913127));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;m(e,t)}function m(e,t){
m=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return m(e,t)}var _=((r={})[d.ChannelLayouts.NORMAL]=f.default.normal,r[d.ChannelLayouts.MINIMUM]=f.default.minimum,r[d.ChannelLayouts.NO_CHAT]=f.default.noChat,r[d.ChannelLayouts.FULL_SCREEN]=f.default.fullScreen,r),g=function(e){h(t,e);function t(t){var n;(n=e.call(this,t)||this).state={animation:new u.default.Value(0)};return n}var n=t.prototype;n.componentDidAppear=function(){this.state.animation.setValue(1)};n.componentWillEnter=function(e){var t=this.state.animation;t.setValue(0);u.default.spring(t,{toValue:1,overshootClamping:!0}).start(e)};n.componentWillLeave=function(e){u.default.spring(this.state.animation,{toValue:0,overshootClamping:!0}).start(e)};n.render=function(){return y(u.default.div,{className:f.default.videoBackgroundTransition,style:{opacity:this.state.animation}},void 0,this.props.children)};return t}(o.PureComponent);t.BackgroundTransition=g;g.displayName="BackgroundTransition";var E=function(e){
h(t,e);function t(t){var n;(n=e.call(this,t)||this)._timeout=new l.Timeout;n.handleMouseEvent=function(){var e=n.props.layout;if(e===d.ChannelLayouts.FULL_SCREEN||e===d.ChannelLayouts.NO_CHAT){n._timeout.start(3e3,(function(){return n.setState({idle:!0})}));n.state.idle&&n.setState({idle:!1})}};n.state={idle:!1,backgroundAnimation:new u.default.Value(0),layoutProp:t.layout};return n}var n=t.prototype;n.componentDidMount=function(){document.addEventListener("mousedown",this.handleMouseEvent,!0);document.addEventListener("mousemove",this.handleMouseEvent,!0)};n.componentWillUnmount=function(){document.removeEventListener("mousedown",this.handleMouseEvent,!0);document.removeEventListener("mousemove",this.handleMouseEvent,!0);this._timeout.stop()};t.getDerivedStateFromProps=function(e,t){return e.layout!==t.layoutProp?t.idle?{idle:!1,layoutProp:e.layout}:{layoutProp:e.layout}:null};n.componentDidUpdate=function(e){this.props.layout!==e.layout&&this._timeout.stop()}
;n.renderBackground=function(){var e=this.props,t=e.background,n=e.backgroundKey,r=e.layout+"-"+(null!=n?n:"");return y(s.default,{className:f.default.videoBackground,component:"div"},void 0,y(g,{},r,t))};n.renderContents=function(){var e,t,n=this.props,r=n.top,a=n.center,o=n.bottom,u=n.layout,l=n.focused,s=this.state.idle;return y(c.default,{className:(0,i.default)(f.default.video,_[u],(e={},e[f.default.idle]=s,e)),direction:c.default.Direction.VERTICAL,justify:c.default.Justify.CENTER},void 0,y(c.default,{className:f.default.videoWrapper,direction:c.default.Direction.VERTICAL},void 0,this.renderBackground(),y(c.default,{className:(0,i.default)(f.default.videoInner,(t={},t[f.default.focused]=l,t)),direction:c.default.Direction.VERTICAL,justify:c.default.Justify.BETWEEN},void 0,y(c.default,{className:f.default.videoTop,grow:0},void 0,r),y(c.default,{className:f.default.videoCenter},void 0,a),y(c.default,{className:f.default.videoBottom,grow:0},void 0,o))))};n.render=function(){
var e,t=this.props,n=t.layout,r=t.className,a=t.animated;return y("div",{className:(0,i.default)(f.default.videoHeight,_[n],r,(e={},e[f.default.animated]=a,e))},void 0,this.renderContents())};return t}(o.PureComponent);E.displayName="Video";E.defaultProps={layout:d.ChannelLayouts.MINIMUM,animated:!0};var O=E;t.default=O},275189:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=d(n(125478)),i=d(n(492626)),u=d(n(628551)),l=n(770348),s=d(n(114957)),c=["style","src","backgroundSrc","pulseSpeakingIndicator","speaking"];function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(){v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return v.apply(this,arguments)}function y(e){
var t=e.style,n=e.src,r=e.backgroundSrc,d=e.pulseSpeakingIndicator,f=void 0!==d&&d,y=e.speaking,h=void 0!==y&&y,m=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,c),_=null!=r?r:n,g=(0,o.default)(_,l.Colors.PRIMARY_DARK_800);if(null==n)return null;var E=a.createElement(u.default,v({className:s.default.avatarWrapper,src:n},m));return p("div",{style:v({},t,{backgroundColor:g}),className:s.default.background},void 0,f?p(i.default,{shouldAnimate:h},void 0,E):E)}y.displayName="VideoBackground";y.AvatarSizes=u.default.Sizes;var h=y;t.default=h},838696:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=_;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=s(n(294184)),i=s(n(974661)),u=s(n(808988)),l=s(n(550542));function s(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v=16/9;function y(e,t){return Math.floor((t-e)/(8+e))+1}function h(e,t,n){for(var r=t-e;r>0;){
var a=e,o=Math.floor(r/2);if(n(a+=o)){e=a+1;r-=o+1}else r=o}return e}function m(e,t,n){var r,a=Math.floor(t/25),o=t;if(e>25)r=h(a,o,(function(e){var r=y(e,t),a=function(e,t){var n=e/v;return Math.ceil((t-n)/(8+n))+1}(e,n);return r*a>25}));else{r=h(a,o,(function(r){var a=y(r,t),o=function(e,t){var n=e/v;return Math.floor((t-n)/(8+n))+1}(r,n);return a*o>=e}));r-=1}var i=y(r,t),u=function(e,t){return Math.ceil(t/e)}(i,e);return{tileWidth:r,columns:Math.max(1,i),rows:u}}function _(e){var t,n=e.className,r=e.children,s=e.keyExtractor,c=e.paddingTop,p=void 0===c?0:c,y=e.paddingBottom,h=void 0===y?0:y,_=f(a.useState({width:0,height:0}),2),g=_[0],E=_[1],O=g.width,S=g.height,b=null!==(t=null==r?void 0:r.length)&&void 0!==t?t:0,I=O-16,C=S-(p+h),T=a.useMemo((function(){return function(e,t,n){var r=m(e,t,n),a=r.rows,o=r.columns,i=r.tileWidth;return{tileStyle:{width:i},tileWidth:i,rows:a,columns:o}}(b,I,C)
}),[b,I,C]),A=T.tileStyle,P=T.tileWidth,M=T.rows,N=T.columns,R=N+1,w=R*P+8*(R-1)<=O,D=Math.floor(P/v)+8,L=Math.max(0,C-D*M)/2;return d(u.default,{fade:!0,className:n,listPadding:[p+L,0,h+L-8,8],renderRow:function(e){var t,n=e*N;return d("div",{className:l.default.row},e,null==r||null===(t=r.slice(n,n+N))||void 0===t?void 0:t.map((function(e,t){var r,a,u=n+t;return d("div",{style:A,className:(0,o.default)(l.default.tile,(a={},a[l.default.padColumn]=w,a[l.default.noVerticalMargin]=u>=(M-1)*N,a[l.default.noHorizontalMargin]=(u+1)%N==0||u===b-1,a))},null!==(r=null==s?void 0:s(u))&&void 0!==r?r:u,d(i.default,{className:l.default.tileSizer,aspectRatio:v},void 0,e(P)))})))},rowCount:M,rowCountBySection:[M],rowHeight:D,onResize:E})}_.displayName="Grid"},971146:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.VideoStreamFit=void 0;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e}
;var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=d(n(294184)),u=n(773336),l=d(n(974661)),s=d(n(80828)),c=d(n(2329));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,
props:t,_owner:null}}function v(e,t){v=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return v(e,t)}t.VideoStreamFit=a;!function(e){e.CONTAIN="contain";e.COVER="cover"}(a||(t.VideoStreamFit=a={}));var y=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;v(e,t)}(t,e);function t(t){var n;(n=e.call(this,t)||this).handleReady=function(){n.state.loading&&n.setState({loading:!1})};n.state={loading:!0};return n}var n=t.prototype;n.renderPlaceholder=function(){var e=this.props.streamPreviewURL,t=null!=e?p("img",{src:e,alt:"",className:c.default.previewImage}):p(l.default,{aspectRatio:16/9,className:c.default.emptyPreviewWrapper},void 0,p("div",{className:c.default.emptyPreview}));return p(o.Fragment,{},void 0,t,p(s.default,{className:c.default.spinner}))};n.render=function(){var e,t,n=this.props,r=n.streamId,a=n.onResize,o=n.wrapperClassName,l=n.videoComponent,s=n.className,d=n.fit,f=n.mirror,v=n.paused,y=this.state.loading
;return p("div",{className:(0,i.default)(c.default.wrapper,o)},void 0,null!=r&&p(l,{className:(0,i.default)(c.default.video,(0,u.getClass)(c.default,"video",d),(e={},e[c.default.mirror]=f,e),s),streamId:r,onResize:a,onReady:this.handleReady,paused:v}),v?null:p("div",{className:(0,i.default)(c.default.previewWrapper,(t={},t[c.default.loading]=y,t))},void 0,y&&this.renderPlaceholder()))};return t}(o.PureComponent);y.displayName="VideoStream";y.Fit=a;y.defaultProps={fit:a.CONTAIN,mirror:!1,paused:!1};var h=y;t.default=h},510596:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=c(n(667294)),o=n(354479),i=n(865229),u=c(n(662197)),l=["children","disabled","className","titleClassName","tag","required","style","title","error"];function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}
return e};return f.apply(this,arguments)}var p=function(e){var t,n=e.children,r=e.disabled,s=void 0!==r&&r,c=e.className,p=e.titleClassName,v=e.tag,y=void 0===v?u.Tags.H5:v,h=e.required,m=void 0!==h&&h,_=e.style,g=e.title,E=e.error,O=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,l),S=(0,o.useUID)(),b=null!==(t=O.titleId)&&void 0!==t?t:S;return d("div",{className:null!=c?c:void 0,style:null!=_?_:void 0},void 0,null!=g||null!=E?a.createElement(u.default,f({tag:y,disabled:s,required:m,error:E,className:p,id:b},O),g):null,d(i.FormContextProvider,{titleId:b},void 0,n))};p.displayName="FormItem";p.Tags=u.Tags;var v=p;t.default=v},769026:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=g;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){
var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return c.apply(this,arguments)}var d=s("path",{
d:"m6.3599 4.33.41.84c.02245.04336.03052.09274.02304.14099s-.03013.09287-.06465.1274c-.03453.03453-.07915.05717-.1274.06465s-.09763-.00059-.14099-.02304l-.84-.41c-.03119-.01506-.06537-.02288-.1-.02288s-.06882.00782-.1.02288l-.84.41c-.04336.02245-.09274.03052-.141.02304-.04825-.00748-.09287-.03012-.12739-.06465-.03453-.03453-.05717-.07915-.06465-.1274s.00058-.09763.02304-.14099l.41-.84c.01505-.03119.02287-.06537.02287-.1s-.00782-.06881-.02287-.1l-.41-.84c-.01585-.04253-.01876-.08879-.00836-.13297.01039-.04417.03362-.08429.06676-.11529s.07471-.05151.11948-.05894c.04477-.00742.09074-.00144.13212.0172l.84.41c.03118.01506.06537.02288.1.02288s.06881-.00782.1-.02288l.84-.41c.04336-.02245.09274-.03052.14099-.02304s.09287.03012.1274.06465c.03452.03453.05717.07914.06465.1274.00748.04825-.00059.09763-.02304.14099l-.41.84c-.01211.02846-.01834.05907-.01834.09s.00623.06154.01834.09z",fill:"#ffd836"}),f=s("path",{
d:"m12 2.70001-5.45996 5.46v7.67999l5.45996 5.46 5.46-5.46v-7.67999zm2.73 11.99999-2.73 2.74-2.72996-2.73v-5.41999l2.72996-2.73 2.73 2.73z",fill:"#ff73fa"}),p=s("path",{d:"m12 2.70001v3.86l2.73 2.73 2.73-1.13z",fill:"#ffc0ff"}),v=s("path",{d:"m9.27004 14.71-2.73 1.13 5.45996 5.46v-3.86z",fill:"#e655d4"}),y=s("g",{fill:"#d4e4ff"},void 0,s("path",{d:"m16.2199 17.7h.01c.243 0 .44-.197.44-.44v-.89c0-.243-.197-.44-.44-.44h-.01c-.243 0-.44.197-.44.44v.89c0 .243.197.44.44.44z"}),s("path",{d:"m16.2199 21.25h.01c.243 0 .44-.197.44-.44v-.89c0-.243-.197-.44-.44-.44h-.01c-.243 0-.44.197-.44.44v.89c0 .243.197.44.44.44z"}),s("path",{d:"m15.3401 18.59v-.01c0-.243-.197-.44-.44-.44h-.89c-.243 0-.44.197-.44.44v.01c0 .243.197.44.44.44h.89c.243 0 .44-.197.44-.44z"}),s("path",{d:"m18.8799 18.59v-.01c0-.243-.197-.44-.44-.44h-.89c-.243 0-.44.197-.44.44v.01c0 .243.197.44.44.44h.89c.243 0 .44-.197.44-.44z"})),h=s("path",{d:"m9.27002 9.29v5.42l2.72998 2.73 2.73-2.73v-5.42l-2.73-2.73z",fill:"#ffdef9"
}),m=s("path",{d:"m14.72 9.28998v.01l-5.42997 5.43002-.01-.01v-1.47l4.69997-4.71002z",fill:"#fff"}),_=s("path",{d:"m14.7201 11.34v1.5l-3.66 3.66-.75-.75z",fill:"#fff"});function g(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",c({},(0,i.default)(l),{height:a,width:n,viewBox:"0 0 24 24"}),d,f,p,v,y,h,m,_)}g.displayName="BadgeBoostingSince7"},811198:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=d;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground","background"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function c(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e){
var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,d=void 0===l?"currentColor":l,f=e.foreground,p=e.background,v=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(v),{width:n,height:a,viewBox:"0 0 24 24"}),c("path",{className:f,fill:d,d:"M21.178 1.70703L22.592 3.12103L4.12103 21.593L2.70703 20.178L21.178 1.70703Z"}),c("path",{className:p,fill:d,d:"M18 10.5283L10.5287 18H21V17C19.344 17 18 15.657 18 14V10.5283Z"}),c("path",{className:p,fill:d,d:"M8.957 19.5718L9.52877 19H15.4449C14.7519 20.19 13.4759 21 11.9999 21C10.7748 21 9.68752 20.442 8.957 19.5718Z"}),c("path",{className:p,fill:d,d:"M12 3C13.417 3 14.71 3.5 15.734 4.321L5.99805 14.058C5.99805 14.0479 5.99856 14.038 5.99907 14.0283C5.99956 14.0188 6.00005 14.0094 6.00005 14V9C6.00005 5.686 8.68605 3 12 3Z"}))}d.displayName="BellOff"},337322:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function c(e,t,n,r){
a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d=c("clipPath",{},void 0,c("path",{d:"m.000183 0h16v16h-16z"}));function f(e){var t=e.width,n=void 0===t?32:t,r=e.height,a=void 0===r?32:r,l=e.color,f=void 0===l?"currentColor":l,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 16 16",fill:"none"}),d,c("g",{clipPath:"url(#a)"},void 0,c("path",{
d:"m7.90039 1c-3.9 0-6.999999 3.1-6.999999 7s3.099999 7 6.999999 7c3.90001 0 7.00001-3.1 7.00001-7s-3.2-7-7.00001-7zm0 2.3c.8 0 1.6.3 2.30001.7l-6.40001 6.4c-.3-.7-.6-1.5-.6-2.4 0-2.6 2.1-4.7 4.7-4.7zm0 9.4c-.9 0-1.7-.3-2.4-.7l6.40001-6.4c.4.7.7 1.5.7 2.4-.1 2.6-2.2 4.7-4.70001 4.7z",fill:f})))}f.displayName="Blocked"},989983:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=v;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=l(n(622193)),i=l(n(468205)),u=["width","height","color","foreground","gradientConfig"];function l(e){
return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}function f(e){return"CloudDone-"+e}var p=c("path",{d:"M0 0h24v24H0z",fill:"none"});function v(e){
var t=e.width,n=void 0===t?24:t,r=e.height,l=void 0===r?24:r,s=e.color,v=void 0===s?"currentColor":s,y=e.foreground,h=e.gradientConfig,m=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u),_=null;null!=h&&(_=a.createElement(o.default,d({},h,{color:v,id:f(h.id)})));return a.createElement("svg",d({},(0,i.default)(m),{width:n,height:l,viewBox:"0 0 24 24"}),c("defs",{},void 0,_),p,c("path",{fill:null!=h?"url(#"+f(h.id)+")":v,className:y,d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM10 17l-3.5-3.5 1.41-1.41L10 14.17 15.18 9l1.41 1.41L10 17z"}))}v.displayName="CloudDone"},635114:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=v;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=l(n(622193)),i=l(n(468205)),u=["width","height","color","foreground","gradientConfig"];function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,
ref:null,props:t,_owner:null}}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}function f(e){return"CloudDownload-"+e}var p=c("path",{d:"M0 0h24v24H0z",fill:"none"});function v(e){var t=e.width,n=void 0===t?24:t,r=e.height,l=void 0===r?24:r,s=e.color,v=void 0===s?"currentColor":s,y=e.foreground,h=e.gradientConfig,m=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u),_=null;null!=h&&(_=a.createElement(o.default,d({},h,{color:v,id:f(h.id)})));return a.createElement("svg",d({},(0,i.default)(m),{width:n,height:l,viewBox:"0 0 24 24"}),c("defs",{},void 0,_),p,c("path",{fill:null!=h?"url(#"+f(h.id)+")":v,className:y,
d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM17 13l-5 5-5-5h3V9h4v4h3z"}))}v.displayName="CloudDownload"},809898:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=v;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=l(n(622193)),i=l(n(468205)),u=["width","height","color","foreground","gradientConfig"];function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap
;return(s=function(e){return e?n:t})(e)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}function f(e){return"CloudUpload-"+e}var p=c("path",{d:"M0 0h24v24H0z",fill:"none"});function v(e){var t=e.width,n=void 0===t?24:t,r=e.height,l=void 0===r?24:r,s=e.color,v=void 0===s?"currentColor":s,y=e.foreground,h=e.gradientConfig,m=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e)
;for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u),_=null;null!=h&&(_=a.createElement(o.default,d({},h,{color:v,id:f(h.id)})));return a.createElement("svg",d({},(0,i.default)(m),{width:n,height:l,viewBox:"0 0 24 24"}),c("defs",{},void 0,_),p,c("path",{fill:null!=h?"url(#"+f(h.id)+")":v,className:y,d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"}))}v.displayName="CloudUpload"},745216:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=a?Object.getOwnPropertyDescriptor(e,o):null
;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=["width","height","className","aria-label"];function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function u(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function l(){l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return l.apply(this,arguments)}var s=u("g",{"clip-path":"url(#clip0_198_5469)"},void 0,u("path",{"aria-hidden":!0,
d:"M19.15 17C19.41 17.11 19.6 17 19.51 16.73L18.89 15.15L18.28 13.56C18.23 13.4421 18.1442 13.3429 18.0348 13.2765C17.9253 13.2101 17.7977 13.1798 17.67 13.19L13.67 14.28C13.4 14.36 13.56 14.79 13.92 14.93L19.15 17Z",fill:"#FF73FA"}),u("path",{"aria-hidden":!0,d:"M9.80009 14L7.08009 8.67001L0.440092 18C0.351927 18.1221 0.299095 18.2662 0.287392 18.4163C0.275688 18.5665 0.305566 18.7169 0.373746 18.8512C0.441926 18.9855 0.545775 19.0985 0.673902 19.1776C0.802029 19.2568 0.949484 19.2991 1.10009 19.3H12.5201L9.80009 14Z",fill:"#8086FF"}),u("path",{"aria-hidden":!0,d:"M12.27 19C11.57 19 9.92997 17.31 8.52997 14.57C7.86795 13.3426 7.37674 12.0304 7.06997 10.67C6.83997 9.54999 6.99997 8.99999 7.19997 8.89999H7.32997C8.03997 8.89999 9.66997 10.59 11.07 13.32C12.68 16.46 12.93 18.76 12.4 19.03C12.3549 19.0306 12.3103 19.0203 12.27 19Z",fill:"#05124A"}),u("path",{"aria-hidden":!0,
d:"M7.33009 9.14999C7.86009 9.14999 9.42009 10.67 10.8301 13.43C12.4501 16.57 12.5201 18.55 12.2701 18.77C11.7401 18.77 10.1801 17.25 8.77009 14.49C7.15009 11.35 7.08009 9.35999 7.32009 9.14999H7.33009ZM7.32009 8.60999C7.233 8.60831 7.14693 8.62897 7.07009 8.66999C6.23009 9.08999 6.78009 11.81 8.28009 14.74C9.65009 17.4 11.3401 19.31 12.2801 19.31C12.3672 19.3117 12.4532 19.291 12.5301 19.25C13.3701 18.82 12.8301 16.11 11.3201 13.18C9.96009 10.52 8.26009 8.60999 7.32009 8.60999Z",fill:"#373BE1"}),u("path",{"aria-hidden":!0,d:"M3.53991 17.22C3.16017 16.4754 2.85534 15.6949 2.62991 14.89L1.40991 16.6C1.5797 17.0776 1.77669 17.545 1.99991 18C2.21943 18.4301 2.46316 18.8475 2.72991 19.25H4.84991C4.34607 18.6191 3.90718 17.939 3.53991 17.22Z",fill:"#373BE1"}),u("path",{"aria-hidden":!0,
d:"M6.83003 19.25H9.23003C8.09101 18.2623 7.1538 17.0636 6.47003 15.72C5.75671 14.3452 5.32173 12.8432 5.19003 11.3L3.78003 13.3C4.05054 14.4137 4.46044 15.4889 5.00003 16.5C5.49463 17.4884 6.10927 18.4121 6.83003 19.25Z",fill:"#373BE1"}),u("path",{"aria-hidden":!0,d:"M12.2699 18.77C11.7199 18.7 10.2699 17.3 8.7899 14.49C7.2499 11.49 7.1199 9.57 7.3199 9.19L6.9999 8.69C6.2199 9.19 6.7699 11.86 8.2499 14.74C9.5699 17.31 11.2499 19.19 12.1399 19.3C12.2557 19.3201 12.3748 19.3026 12.4799 19.25L12.2699 18.77Z",fill:"#373BE1"}),u("path",{"aria-hidden":!0,
d:"M15.5901 9.23L14.6201 8C14.5734 7.94051 14.5118 7.89439 14.4416 7.8663C14.3713 7.8382 14.2949 7.82913 14.2201 7.84L10.8601 8.28C10.786 8.29082 10.7158 8.32037 10.6563 8.36587C10.5968 8.41137 10.5499 8.47131 10.5201 8.54L9.22008 11.68C9.18969 11.7486 9.1792 11.8243 9.18981 11.8986C9.20042 11.9729 9.2317 12.0427 9.28008 12.1L10.2801 13.37C10.3268 13.4295 10.3884 13.4756 10.4586 13.5037C10.5288 13.5318 10.6052 13.5409 10.6801 13.53L14.0001 13.05C14.0742 13.0392 14.1443 13.0096 14.2038 12.9641C14.2633 12.9186 14.3102 12.8587 14.3401 12.79L15.6401 9.65C15.6718 9.58232 15.684 9.50709 15.6751 9.43285C15.6663 9.35862 15.6368 9.28834 15.5901 9.23Z",fill:"#FFD836"}),u("path",{"aria-hidden":!0,
d:"M12.6801 10.21L11.4101 9.74001C11.3617 9.72337 11.3182 9.69501 11.2834 9.65748C11.2487 9.61994 11.2238 9.57439 11.2109 9.52489C11.198 9.47539 11.1976 9.42347 11.2097 9.37376C11.2217 9.32405 11.2459 9.27811 11.2801 9.24001L14.7201 5.24001C14.7617 5.1903 14.8178 5.15488 14.8806 5.13873C14.9434 5.12259 15.0096 5.12653 15.0701 5.15001L16.3401 5.61001C16.3871 5.62978 16.4288 5.66018 16.4621 5.69881C16.4954 5.73745 16.5193 5.78327 16.5319 5.83268C16.5445 5.8821 16.5454 5.93376 16.5347 5.98361C16.524 6.03346 16.5019 6.08015 16.4701 6.12001L13.0301 10.12C12.9884 10.1697 12.9323 10.2051 12.8695 10.2213C12.8067 10.2374 12.7405 10.2335 12.6801 10.21Z",fill:"#AEC7FF"}),u("path",{"aria-hidden":!0,
d:"M11.61 17.25L11.35 16.33C11.3396 16.2949 11.3383 16.2577 11.346 16.2219C11.3537 16.1861 11.3702 16.1527 11.394 16.1249C11.4179 16.0971 11.4483 16.0757 11.4825 16.0626C11.5167 16.0495 11.5536 16.0452 11.59 16.05L15.31 16.37C15.3545 16.373 15.397 16.3901 15.4311 16.4189C15.4653 16.4477 15.4894 16.4866 15.5 16.53L15.76 17.45C15.7697 17.4856 15.7707 17.523 15.763 17.5591C15.7552 17.5952 15.7388 17.6289 15.7153 17.6574C15.6918 17.6858 15.6617 17.7082 15.6277 17.7225C15.5937 17.7369 15.5568 17.7429 15.52 17.74L11.8 17.42C11.7546 17.4149 11.7119 17.3958 11.6778 17.3653C11.6438 17.3349 11.6201 17.2946 11.61 17.25Z",fill:"#AEC7FF"}),u("path",{"aria-hidden":!0,
d:"M10.51 4.87L9.51004 4.8C9.47171 4.79882 9.43428 4.78808 9.40117 4.76875C9.36805 4.74942 9.34029 4.72212 9.32041 4.68932C9.30054 4.65653 9.28918 4.61928 9.28737 4.58098C9.28555 4.54268 9.29335 4.50453 9.31004 4.47L10.93 0.900003C10.9491 0.856352 10.9819 0.820078 11.0234 0.796634C11.0648 0.773191 11.1128 0.763846 11.16 0.770003L12.16 0.840003C12.1984 0.841182 12.2358 0.851926 12.2689 0.871256C12.302 0.890587 12.3298 0.917891 12.3497 0.950685C12.3695 0.98348 12.3809 1.02072 12.3827 1.05903C12.3845 1.09733 12.3767 1.13548 12.36 1.17L10.74 4.73C10.7213 4.77455 10.689 4.81205 10.6477 4.83718C10.6064 4.86231 10.5582 4.87379 10.51 4.87Z",fill:"#FF73FA"}),u("path",{"aria-hidden":!0,
d:"M9.11995 3.16L9.38995 3.89C9.40593 3.92181 9.43011 3.94877 9.46 3.96811C9.48988 3.98744 9.52439 3.99846 9.55995 4H10.3699C10.5599 4 10.6099 4.26 10.4499 4.41L9.76995 5.07C9.71086 5.13269 9.67549 5.21403 9.66995 5.3V6.13C9.66965 6.17649 9.6589 6.22232 9.63849 6.2641C9.61808 6.30587 9.58854 6.34252 9.55204 6.37133C9.51555 6.40013 9.47305 6.42037 9.42768 6.43052C9.38231 6.44068 9.33524 6.4405 9.28995 6.43L8.59995 6.1C8.56441 6.08159 8.52497 6.07198 8.48495 6.07198C8.44492 6.07198 8.40549 6.08159 8.36995 6.1L7.57995 6.57C7.38995 6.69 7.20995 6.57 7.26995 6.35L7.51995 5.49C7.53745 5.45777 7.54662 5.42168 7.54662 5.385C7.54662 5.34833 7.53745 5.31223 7.51995 5.28L6.99995 4.81C6.86995 4.68 6.99995 4.42 7.18995 4.37L7.99995 4.17C8.04629 4.1582 8.08971 4.13702 8.12755 4.10779C8.16539 4.07855 8.19684 4.04187 8.21995 4L8.68995 3.2C8.79995 3 9.05995 3 9.11995 3.16Z",fill:"#A5F7DE"}));function c(e){
var t=e.width,n=void 0===t?20:t,r=e.height,i=void 0===r?20:r,u=e.className,c=e["aria-label"],d=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,o);return a.createElement("svg",l({width:n,height:i,className:u,"aria-label":c},d,{viewBox:"0 0 20 20"}),s)}c.displayName="ConfettiCannon"},175104:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=d;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r
},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function c(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,d=void 0===l?"currentColor":l,f=e.foreground,p=function(e,t){if(null==e)return{}
;var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 24 24"}),c("path",{fill:d,className:f,d:"M12 2C6.477 2 2 6.477 2 12C2 17.522 6.477 22 12 22C17.523 22 22 17.522 22 12C22 6.477 17.522 2 12 2ZM16.293 6.293L17.707 7.706L16.414 9L17.707 10.293L16.293 11.706L13.586 9L16.293 6.293ZM6.293 7.707L7.707 6.294L10.414 9L7.707 11.707L6.293 10.294L7.586 9L6.293 7.707ZM18 14C18 16.617 15.14 19 12 19C8.86 19 6 16.617 6 14V13H18V14Z"}))}d.displayName="EmojiSmile"},877622:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","className","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function c(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,
props:t,_owner:null}}var d=c("rect",{width:"16",height:"16"});function f(e){var t=e.width,n=void 0===t?16:t,r=e.height,a=void 0===r?16:r,l=e.color,f=void 0===l?"currentColor":l,p=e.className,v=e.foreground,y=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({className:p,width:n,height:a,viewBox:"0 0 16 16"},(0,i.default)(y)),c("g",{fill:"none",fillRule:"evenodd"},void 0,c("path",{className:v,fill:f,
d:"M0,1.99406028 C0,0.892771196 0.894513756,0 1.99406028,0 L14.0059397,0 C15.1072288,0 16,0.894513756 16,1.99406028 L16,14.0059397 C16,15.1072288 15.1054862,16 14.0059397,16 L1.99406028,16 C0.892771196,16 0,15.1054862 0,14.0059397 L0,1.99406028 Z M8.23182341,16 L10.3991764,16 L10.3991764,9.93141161 L12.5663127,9.93141161 L13,7.76405862 L10.3991764,7.76405862 L10.3246195,6.3468265 C10.3246195,5.66107601 10.5049432,5.17342158 11.4698488,5.17342158 L12.974642,5.17385505 L12.974642,3.12202197 C12.7618079,3.09319618 12.3142495,3 11.4644304,3 C9.69001851,3 8.18500859,4.20353112 8.18500859,6.23043964 L8.23182341,7.76405862 L6.06425368,7.76405862 L6.06425368,9.93141161 L8.23182341,9.93141161 L8.23182341,16 Z"}),d))}f.displayName="Facebook"},155084:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=d;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t)
;if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function c(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e){var t=e.width,n=void 0===t?22:t,r=e.height,a=void 0===r?20:r,l=e.color,d=void 0===l?"currentColor":l,f=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(f),{width:n,height:a,viewBox:"0 0 22 20"}),c("path",{d:"M19.0013 3.27074L16.8648 1.13516L18 0L22 4L18 8L16.8648 6.86484L19.0013 4.72926H14V3.27074H19.0013Z",fill:d}),c("path",{d:"M13.9829 8.45686C14.4834 8.90823 15.0602 9.2765 15.6918 9.53993C15.1979 10.7194 14.1545 11.6141 12.8834 11.9017C12.8022 11.8683 12.7203 11.8358 12.6378 11.8042C13.3982 10.8786 13.8873 9.72194 13.9829 8.45686Z",fill:d}),c("path",{
d:"M12 8C12 10.205 10.206 12 8 12C5.795 12 4 10.205 4 8C4 5.795 5.794 4 8 4C10.206 4 12 5.795 12 8Z",fill:d}),c("path",{d:"M0 19C0 15.467 3.29 13 8 13C12.711 13 16 15.467 16 19V20H0V19Z",fill:d}),c("path",{d:"M20.0001 20H18.0001V19C18.0001 16.7999 17.0621 14.9067 15.5213 13.5292C18.2697 14.4355 20.0001 16.4373 20.0001 19V20Z",fill:d}))}d.displayName="GoToAudience"},622193:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=o?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(r,i,u):r[i]=e[i]}r.default=e;n&&n.set(e,r)}(n(667294));function a(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}function o(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var i=function(e){var t=e.id,n=e.startColor,r=e.stopColor,a=e.color,i=e.stop;return o("linearGradient",{id:t},void 0,o("stop",{offset:"0",stopColor:n}),o("stop",{offset:i,stopColor:r}),o("stop",{offset:i,stopColor:a}),o("stop",{offset:"1",stopColor:a}))};i.displayName="Gradient";var u=i;t.default=u},852546:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=d;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function c(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={
children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,d=void 0===l?"currentColor":l,f=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 24 24",fill:"none"}),c("rect",{className:f,x:"4",y:"4",width:"7",height:"7",rx:"1",fill:d}),c("rect",{className:f,x:"4",y:"13",width:"7",height:"7",rx:"1",fill:d}),c("rect",{className:f,x:"13",y:"4",width:"7",height:"7",rx:"1",fill:d}),c("rect",{className:f,x:"13",y:"13",width:"7",height:"7",rx:"1",fill:d}))}d.displayName="Grid"},670427:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=d;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function c(e,t,n,r){
a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,d=void 0===l?"currentColor":l,f=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 24 24",fill:"none"}),c("rect",{className:f,x:"3",y:"3",width:"18",height:"10",rx:"1",fill:d}),c("rect",{className:f,x:"3",y:"15",width:"8",height:"6",rx:"1",fill:d}),c("rect",{className:f,x:"13",y:"15",width:"8",height:"6",rx:"1",fill:d
}))}d.displayName="HorizontalVideoLayout"},170331:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","className","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e
};return s.apply(this,arguments)}function c(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d=c("rect",{width:"16",height:"16"});function f(e){var t=e.width,n=void 0===t?16:t,r=e.height,a=void 0===r?16:r,l=e.color,f=void 0===l?"currentColor":l,p=e.className,v=e.foreground,y=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({className:p,xmlns:"http://www.w3.org/2000/svg",width:n,height:a,viewBox:"0 0 16 16"},(0,i.default)(y)),c("g",{fill:"none",fillRule:"evenodd"},void 0,c("path",{className:v,fill:f,
d:"M4.70012698,0.0531746 C3.84888888,0.092 3.2675238,0.22720635 2.7588254,0.42492063 C2.23292063,0.62926983 1.78692063,0.90273016 1.3422857,1.34733333 C0.89768254,1.79196825 0.62422222,2.23796825 0.41987302,2.76387303 C0.22215872,3.27257143 0.08695238,3.85393651 0.04812698,4.7051746 C0.00920635,5.55819048 0,5.83053968 0,8.00253968 C0,10.1745079 0.00920635,10.4468571 0.04812698,11.299873 C0.08695238,12.1511111 0.22215873,12.7324762 0.41987302,13.2411746 C0.62422222,13.7670794 0.89768254,14.2130794 1.34228572,14.6577143 C1.78692062,15.1023175 2.23292062,15.3757778 2.7588254,15.5801587 C3.2675238,15.7778413 3.8488889,15.9130476 4.70012698,15.951873 C5.55314286,15.9907937 5.82549206,16 7.99749206,16 C10.1694603,16 10.4418095,15.9907937 11.2948254,15.951873 C12.1460635,15.9130476 12.7274286,15.7778413 13.236127,15.5801587 C13.7620317,15.3757778 14.2080317,15.1023175 14.6526667,14.6577143 C15.0972698,14.2130794 15.3707302,13.7670794 15.5751111,13.2411746 C15.7727937,12.7324762 15.908,12.1511111 15.9468254,11.299873 C15.985746,10.4468571 15.9949524,10.1745079 15.9949524,8.00253968 C15.9949524,5.83053968 15.985746,5.55819048 15.9468254,4.7051746 C15.908,3.8539365 15.7727937,3.27257143 15.5751111,2.76387302 C15.3707302,2.23796825 15.0972698,1.79196825 14.6526667,1.34733332 C14.2080317,0.90273016 13.7620317,0.62926984 13.236127,0.42492064 C12.7274286,0.22720634 12.1460635,0.092 11.2948254,0.0531746 C10.4418095,0.01425397 10.1694603,0.00504762 7.99749206,0.00504762 C5.82549206,0.00504762 5.55314286,0.01425397 4.70012698,0.0531746 L4.70012698,0.0531746 Z M8.00001453,2.00504762 C9.95416635,2.00504762 10.185649,2.01251386 10.9573741,2.04772432 C11.6709381,2.08026206 12.0584565,2.19948958 12.3163471,2.29971739 C12.6579641,2.43248289 12.9017646,2.59107525 13.157854,2.84719363 C13.4139723,3.10328295 13.5725647,3.34708347 13.7053302,3.68870053 C13.805558,3.94659105 13.9247856,4.33410953 13.9573233,5.04767346 C13.9925338,5.8193986 14,6.05088127 14,8.00506213 C14,9.95921396 13.9925338,10.1906966 13.9573233,10.9624217 C13.9247856,11.6759857 13.805558,12.0635042 13.7053302,12.3213947 C13.5725647,12.6630117 13.4139723,12.9068123 13.157854,13.1629016 C12.9017646,13.41902 12.6579641,13.5776123 12.3163471,13.7103779 C12.0584565,13.8106057 11.6709381,13.9298332 10.9573741,13.9623709 C10.1857652,13.9975814 9.9543116,14.0050476 8.00001453,14.0050476 C6.04568839,14.0050476 5.81426383,13.9975814 5.04262587,13.9623709 C4.32906195,13.9298332 3.94154347,13.8106057 3.68365294,13.7103779 C3.34203588,13.5776123 3.09823536,13.41902 2.84214604,13.1629016 C2.58605671,12.9068123 2.42743531,12.6630117 2.29466977,12.3213947 C2.19444197,12.0635042 2.07521444,11.6759857 2.04267671,10.9624217 C2.00746628,10.1906966 2,9.95921395 2,8.00506212 C2,6.05088125 2.00746625,5.81939858 2.0426767,5.04767347 C2.07521444,4.33410953 2.19444196,3.94659104 2.29466977,3.68870052 C2.42743531,3.34708346 2.58602767,3.10328294 2.84214604,2.84719362 C3.09823536,2.59107524 3.34203588,2.43248288 3.68365294,2.29971735 C3.94154346,2.19948953 4.32906194,2.08026201 5.04262587,2.04772428 C5.81435097,2.01251381 6.04583365,2.00504758 8.00001453,2.00504758 L8.00001453,2.00504762 Z"
}),c("path",{className:v,fill:f,d:"M8.0000119,10 C6.89542535,10 6,9.10457466 6,8.0000119 C6,6.89542535 6.89542534,6 8.0000119,6 C9.10457467,6 10,6.89542534 10,8.0000119 C10,9.10457467 9.10457466,10 8.0000119,10 L8.0000119,10 Z M8.00001546,4 C5.7908468,4 4,5.7908468 4,8.00001546 C4,10.2091532 5.7908468,12 8.00001546,12 C10.2091532,12 12,10.2091532 12,8.00001546 C12,5.7908468 10.2091532,4 8.00001546,4 L8.00001546,4 Z M13,4.00001654 C13,4.55230644 12.5522734,5 11.9999835,5 C11.4477266,5 11,4.55230645 11,4.00001654 C11,3.44772664 11.4477266,3 11.9999835,3 C12.5522734,3 13,3.44772663 13,4.00001654 L13,4.00001654 Z"}),d))}f.displayName="Instagram"},434663:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=d;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function c(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{})
;return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e){var t=e.width,n=void 0===t?16:t,r=e.height,a=void 0===r?16:r,l=e.color,d=void 0===l?"currentColor":l,f=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 24 24"}),c("path",{className:f,fill:d,d:"M18 2H7C5.897 2 5 2.898 5 4V11H12.59L10.293 8.708L11.706 7.292L16.414 11.991L11.708 16.706L10.292 15.294L12.582 13H5V20C5 21.103 5.897 22 7 22H18C19.103 22 20 21.103 20 20V4C20 2.898 19.103 2 18 2Z"}))}d.displayName="Logout"},814379:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=d;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function c(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,d=void 0===l?"currentColor":l,f=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 24 24"}),c("path",{className:f,fill:d,d:"M16,8V3H14V8a2,2,0,0,0,2,2h5V8Z"}),c("path",{className:f,fill:d,d:"M14,16v5h2V16h5V14H16A2,2,0,0,0,14,16Z"}),c("path",{className:f,fill:d,d:"M8,8H3v2H8a2,2,0,0,0,2-2V3H8Z"}),c("path",{className:f,fill:d,d:"M8,14H3v2H8v5h2V16A2,2,0,0,0,8,14Z"}))}d.displayName="MinimizeScreen"},833837:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=d;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function c(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,d=void 0===l?"currentColor":l,f=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(f),{width:n,height:a,viewBox:"0 0 24 24"}),c("g",{clipPath:"url(#clip0)"},void 0,c("path",{d:"M18.8648 1.13516L21.0013 3.27074H16V4.72926H21.0013L18.8648 6.86484L20 8L24 4L20 0L18.8648 1.13516Z",fill:d}),c("path",{d:"M12 2C12.4342 2 12.8466 2.0917 13.2188 2.25683C13.0759 2.81411 13 3.39819 13 4C13 5.90397 13.7601 7.6304 14.9935 8.89235L14.99 11C14.99 12.66 13.66 14 12 14C10.34 14 9 12.66 9 11V5C9 3.34 10.34 2 12 2Z",fill:d}),c("path",{
d:"M12 16.1C14.76 16.1 17.3 14 17.3 11H19C19 14.42 16.28 17.24 13 17.72V22H11V17.72C7.72 17.23 5 14.41 5 11H6.7C6.7 14 9.24 16.1 12 16.1Z",fill:d})),c("defs",{},void 0,c("clipPath",{id:"clip0"},void 0,c("rect",{width:"24",height:"24",fill:d}))))}d.displayName="MoveToSpeaker"},26285:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=d;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function c(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,d=void 0===l?"currentColor":l,f=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u)
;return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}),c("path",{className:f,d:"M10.889 4C10.889 3.44772 11.3367 3 11.889 3H12.1112C12.6635 3 13.1112 3.44772 13.1112 4V20C13.1112 20.5523 12.6635 21 12.1112 21H11.889C11.3367 21 10.889 20.5523 10.889 20V4Z",fill:d}),c("path",{className:f,d:"M6.44439 6.25C6.44439 5.69772 6.89211 5.25 7.44439 5.25H7.66661C8.2189 5.25 8.66661 5.69772 8.66661 6.25V17.75C8.66661 18.3023 8.2189 18.75 7.66661 18.75H7.44439C6.89211 18.75 6.44439 18.3023 6.44439 17.75V6.25Z",fill:d}),c("path",{className:f,d:"M3.22222 15.375C3.77451 15.375 4.22222 14.9273 4.22222 14.375L4.22222 9.625C4.22222 9.07272 3.77451 8.625 3.22222 8.625H3C2.44772 8.625 2 9.07272 2 9.625V14.375C2 14.9273 2.44772 15.375 3 15.375H3.22222Z",fill:d}),c("path",{className:f,
d:"M22.0001 13.25C22.0001 13.8023 21.5523 14.25 21.0001 14.25H20.7778C20.2255 14.25 19.7778 13.8023 19.7778 13.25V10.75C19.7778 10.1977 20.2255 9.75 20.7778 9.75H21.0001C21.5523 9.75 22.0001 10.1977 22.0001 10.75V13.25Z",fill:d}),c("path",{className:f,d:"M16.3333 7.5C15.781 7.5 15.3333 7.94772 15.3333 8.5V15.5C15.3333 16.0523 15.781 16.5 16.3333 16.5H16.5555C17.1078 16.5 17.5555 16.0523 17.5555 15.5V8.5C17.5555 7.94772 17.1078 7.5 16.5555 7.5H16.3333Z",fill:d}))}d.displayName="NoiseCancellationActive"},400217:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=d;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function c(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e){
var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,d=void 0===l?"currentColor":l,f=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"}),c("path",{d:"M30.6666 24.9644L35.1111 20.5199V31C35.1111 32.1046 34.2156 33 33.1111 33H32.6666C31.562 33 30.6666 32.1046 30.6666 31V24.9644Z",fill:d}),c("path",{d:"M26.2224 14.1463V8C26.2224 6.89543 25.327 6 24.2224 6H23.7779C22.6734 6 21.7779 6.89543 21.7779 8V18.5907L26.2224 14.1463Z",fill:d}),c("path",{d:"M21.7779 33.8543L21.9254 33.7056L26.2224 29.4086V40C26.2224 41.1046 25.327 42 24.2224 42H23.7779C22.6734 42 21.7779 41.1046 21.7779 40V33.8543Z",fill:d}),c("path",{
d:"M17.3332 23.0354L12.8888 27.4799V12.5C12.8888 11.3954 13.7842 10.5 14.8888 10.5H15.3332C16.4378 10.5 17.3332 11.3954 17.3332 12.5V23.0354Z",fill:d}),c("path",{d:"M8.44445 28.75C8.44445 29.8546 7.54902 30.75 6.44445 30.75H6C4.89543 30.75 4 29.8546 4 28.75V19.25C4 18.1454 4.89543 17.25 6 17.25H6.44445C7.54902 17.25 8.44445 18.1454 8.44445 19.25L8.44445 28.75Z",fill:d}),c("path",{d:"M44.0001 26.5C44.0001 27.6046 43.1047 28.5 42.0001 28.5H41.5557C40.4511 28.5 39.5557 27.6046 39.5557 26.5V21.5C39.5557 20.3954 40.4511 19.5 41.5557 19.5H42.0001C43.1047 19.5 44.0001 20.3954 44.0001 21.5V26.5Z",fill:d}),c("path",{d:"M42 8.54L39.46 6L6 39.46L8.54 42L16.92 33.64L19.38 31.16L22.7 27.84L29.98 20.56L42 8.54Z",fill:d,className:f}))}d.displayName="NoiseCancellationDisabled"},330998:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e}
;var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function c(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d=c("rect",{x:"2",y:"20",width:"26",height:"2",transform:"rotate(-45 2 20)",fill:"#ed4245"});function f(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,f=void 0===l?"currentColor":l,p=e.foreground,v=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(v),{width:n,height:a,viewBox:"0 0 24 24"}),c("g",{fill:"none",fillRule:"evenodd"},void 0,c("path",{className:p,fill:f,
d:"M8.67872 19H11V21H7V23H17V21H13V19H20C21.103 19 22 18.104 22 17V6C22 5.89841 21.9924 5.79857 21.9777 5.70101L20 7.67872V15H12.6787L8.67872 19ZM13.1496 6H4V15H4.14961L2.00515 17.1445C2.00174 17.0967 2 17.0486 2 17V6C2 4.897 2.897 4 4 4H15.1496L13.1496 6Z"}),d))}f.displayName="OverlayOff"},523356:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=d;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function c(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,d=void 0===l?"currentColor":l,f=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u)
;return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 24 24"}),c("path",{className:f,fill:d,fillRule:"evenodd",clipRule:"evenodd",d:"M20.2949 0.298996L21.7089 1.713L19.4169 4.006L21.7089 6.299L20.2949 7.713L18.0019 5.42L15.7099 7.713L14.2949 6.299L16.5879 4.006L14.2949 1.713L15.7099 0.298996L18.0019 2.592L20.2949 0.298996ZM8.00195 13.006C10.207 13.006 12.002 11.211 12.002 9.006C12.002 6.801 10.207 5.006 8.00195 5.006C5.79695 5.006 4.00195 6.801 4.00195 9.006C4.00195 11.211 5.79695 13.006 8.00195 13.006ZM8.00195 14.006C3.29095 14.006 0.00195312 16.473 0.00195312 20.006V21.006H16.002V20.006C16.002 16.473 12.713 14.006 8.00195 14.006Z"}))}d.displayName="PersonRemove"},303213:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=d;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function c(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e){var t=e.width,n=void 0===t?16:t,r=e.height,a=void 0===r?16:r,l=e.color,d=void 0===l?"currentColor":l,f=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 60 60"}),c("g",{fill:"none",fillRule:"evenodd"},void 0,c("path",{className:f,fill:d,
d:"M8.95185131,8.62650012 L8.92775494,8.65059649 C3.20486729,14.2891468 -0.0119979765,21.9758886 5.02080018e-05,29.9999795 C-0.0119979765,36.56624 2.14462705,42.9517778 6.13257613,48.1686417 C6.16872068,48.2168345 6.24100979,48.252979 6.28920253,48.2168345 C6.33739527,48.1806899 6.34944345,48.120449 6.32534708,48.0602081 C4.03619202,40.9879237 15.722931,23.8433572 21.7711196,16.6626392 C21.795216,16.6385428 21.8193124,16.6144465 21.8193124,16.5783019 C21.8193124,16.5421573 21.795216,16.5060128 21.7590715,16.4819164 C11.6024519,6.37348961 8.8795622,8.68674104 8.92775494,8.65059649 M51.048208,8.62650012 L51.0723044,8.65059649 C56.795192,14.2770987 60.0000091,21.9758886 59.9879609,29.9999795 C60.0000091,36.56624 57.8433841,42.9517778 53.855435,48.1686417 C53.8192905,48.2168345 53.7470014,48.252979 53.6988086,48.2168345 C53.6506159,48.1806899 53.6506159,48.120449 53.6626641,48.0602081 C55.9518191,40.9879237 44.2650801,23.831309 38.2289397,16.650591 C38.2048433,16.6264946 38.180747,16.6023983 38.180747,16.5662537 C38.180747,16.518061 38.2048433,16.4939646 38.2409879,16.4698682 C48.4096556,6.36144143 51.0964008,8.68674104 51.0602562,8.65059649 M30.0000297,0 C36.0482183,0 41.0361667,1.66264946 45.626525,4.38553917 C45.6867659,4.40963554 45.6988141,4.48192464 45.6747177,4.53011738 C45.6506214,4.57831012 45.5903804,4.5903583 45.5301395,4.57831012 C39.7229146,3.32529893 30.8915953,8.33734369 30.0602706,8.84336744 C30.0361742,8.85541562 30.024126,8.86746381 30.0000297,8.86746381 C29.9759333,8.86746381 29.9518369,8.85541562 29.9397887,8.84336744 C27.7229228,7.56625988 19.5663019,3.28915437 14.4217271,4.61445467 C14.3614862,4.62650286 14.3012452,4.61445467 14.2771489,4.56626193 C14.2530525,4.50602101 14.2771489,4.44578009 14.3253416,4.42168372 C18.9156999,1.66264946 23.9638892,0 30.0000297,0 M30.0000297,24.0602245 C30.0361742,24.0602245 30.0723188,24.0843209 30.0964151,24.1084172 C39.0723126,30.9397379 54.4337479,47.8071962 49.7470041,52.5782773 L49.7590523,52.5662291 L49.7590523,52.5782773 L49.7470041,52.5782773 C44.2771283,57.3734547 37.2650849,60.0120071 30.0000297,59.9999589 C22.7349744,60.0120071 15.7108828,57.3734547 10.2530552,52.5782773 L10.2410071,52.5662291 L10.2530552,52.5782773 C5.56631146,47.8071962 20.9277467,30.9276897 29.9036442,24.1084172 C29.9156924,24.0843209 29.9638851,24.0602245 30.0000297,24.0602245"
})))}d.displayName="PlatformXbox"},311591:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=d;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}
;return s.apply(this,arguments)}function c(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,d=void 0===l?"currentColor":l,f=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 24 24"}),c("path",{className:f,fill:d,d:"M12 1L3 5V11C3 16.55 6.84 21.74 12 23C17.16 21.74 21 16.55 21 11V5L12 1ZM12 11.99H19C18.47 16.11 15.72 19.78 12 20.93V12H5V6.3L12 3.19V11.99Z"}))
}d.displayName="PrivacyAndSafety"},924671:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=d;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}
function c(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,d=void 0===l?"currentColor":l,f=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(f),{width:n,height:a,viewBox:"0 0 24 24"}),c("path",{
d:"M21.03 7.76998C20.955 7.60998 20.81 7.48998 20.635 7.44498C20.545 7.41998 20.445 7.39498 20.35 7.36998C19.805 7.22998 19.135 7.56498 18.85 8.11498L17.87 9.99998C17.585 10.55 17.225 10.51 17.07 9.90998L14.895 1.38498C14.74 0.779981 14.14 0.459981 13.55 0.664981C12.96 0.869981 12.595 1.52498 12.725 2.13498L13.995 7.95998C14.13 8.56998 14.075 9.11498 13.875 9.18498C13.675 9.25498 13.35 8.83498 13.15 8.24498L11.05 2.07498C10.85 1.48498 10.21 1.17498 9.62004 1.37998C9.03004 1.58498 8.71504 2.22998 8.91004 2.81998L10.97 8.99998C11.165 9.58998 11.165 10.125 10.965 10.195C10.765 10.265 10.385 9.86498 10.125 9.29998L7.77504 4.29998C7.51004 3.73998 6.82004 3.44498 6.23004 3.64998C5.64504 3.85498 5.37504 4.47498 5.64004 5.03998L8.60004 11.045C8.86004 11.61 8.91004 12.125 8.71004 12.195C8.51004 12.265 8.03004 11.93 7.64004 11.445L5.60504 8.82498C5.21504 8.33998 4.54004 8.07498 4.09504 8.22998C3.65504 8.38498 3.54004 8.94498 3.84504 9.48998L6.34504 13.865C6.40004 14.02 7.85504 16.8 7.96004 16.915C9.00004 18.565 10.645 19.51 12.73 18.79L14.91 18.035C16.145 17.605 17.095 16.735 17.63 15.7C17.64 15.69 20.15 10.205 21.03 8.28498C21.105 8.11498 21.105 7.92998 21.03 7.76998Z",
fill:d}),c("path",{d:"M21.3251 23.4001L19.1101 19.0301C18.8501 18.5201 18.2501 18.2851 17.7151 18.4851L12.3101 20.5101C12.0201 20.6201 11.7851 20.8451 11.6651 21.1351C11.5451 21.4251 11.5551 21.7501 11.6851 22.0301L12.3151 23.3951H21.3251V23.4001Z",fill:d}))}d.displayName="RaisedHand"},496709:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=d;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color"];function l(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function c(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,d=void 0===l?"currentColor":l,f=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u)
;return o.createElement("svg",s({},(0,i.default)(f),{width:n,height:a,viewBox:"0 0 24 24"}),c("g",{clipPath:"url(#clip0)"},void 0,c("path",{fillRule:"evenodd",clipRule:"evenodd",
d:"M20.53 7.76998C20.455 7.60998 20.31 7.48998 20.135 7.44498C20.075 7.42832 20.0106 7.41165 19.9462 7.39498L19.85 7.36998C19.305 7.22998 18.635 7.56498 18.35 8.11498L17.37 9.99998C17.085 10.55 16.725 10.51 16.57 9.90998L14.395 1.38498C14.24 0.779981 13.64 0.459981 13.05 0.664981C12.46 0.869981 12.095 1.52498 12.225 2.13498L13.495 7.95998C13.63 8.56998 13.575 9.11498 13.375 9.18498C13.175 9.25498 12.85 8.83498 12.65 8.24498L10.55 2.07498C10.35 1.48498 9.71004 1.17498 9.12004 1.37998C8.53004 1.58498 8.21504 2.22998 8.41004 2.81998L10.47 8.99998C10.665 9.58998 10.665 10.125 10.465 10.195C10.265 10.265 9.88504 9.86498 9.62504 9.29998L7.27504 4.29998C7.01004 3.73998 6.32004 3.44498 5.73004 3.64998C5.14504 3.85498 4.87504 4.47498 5.14004 5.03998L8.10004 11.045C8.36004 11.61 8.41004 12.125 8.21004 12.195C8.01004 12.265 7.53004 11.93 7.14004 11.445L5.10504 8.82498C4.71504 8.33998 4.04004 8.07498 3.59504 8.22998C3.15504 8.38498 3.04004 8.94498 3.34504 9.48998L5.84504 13.865C5.90004 14.02 7.35504 16.8 7.46004 16.915C8.50004 18.565 10.145 19.51 12.23 18.79L12.96 18.5372V15.84C12.96 14.2494 14.2494 12.96 15.84 12.96H18.3887C18.763 12.143 19.1735 11.2467 19.5492 10.4262L19.5592 10.4045L19.5647 10.3926L19.5648 10.3922L19.5702 10.3804L19.581 10.3569C19.9595 9.53048 20.3003 8.78624 20.53 8.28498C20.605 8.11498 20.605 7.92998 20.53 7.76998ZM11.81 20.51L12.96 20.0792V23.395H11.815L11.185 22.03C11.055 21.75 11.045 21.425 11.165 21.135C11.285 20.845 11.52 20.62 11.81 20.51ZM14.4 16.32C14.4 15.2596 15.2596 14.4 16.32 14.4H22.08C23.1404 14.4 24 15.2596 24 16.32V22.08C24 23.1404 23.1404 24 22.08 24H16.32C15.2596 24 14.4 23.1404 14.4 22.08V16.32ZM16.32 16.56H22.08V17.52H16.32V16.56ZM22.08 18.72H16.32V19.68H22.08V18.72ZM16.32 20.88H22.08V21.84H16.32V20.88Z",
fill:d})),c("defs",{},void 0,c("clipPath",{id:"clip0"},void 0,c("rect",{width:"24",height:"24",fill:d}))))}d.displayName="RaisedHandList"},952117:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=i;var r;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=o?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(r,i,u):r[i]=e[i]}r.default=e;n&&n.set(e,r)}(n(667294));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}function o(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function i(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,i=e.color,u=void 0===i?"currentColor":i;return o("svg",{className:e.className,width:n,height:a,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},void 0,o("path",{className:e.foreground,fill:u,fillRule:"evenodd",clipRule:"evenodd",d:"M2 4.5C2 3.397 2.897 2.5 4 2.5H20C21.103 2.5 22 3.397 22 4.5V15.5C22 16.604 21.103 17.5 20 17.5H13V19.5H17V21.5H7V19.5H11V17.5H4C2.897 17.5 2 16.604 2 15.5V4.5ZM13.2 14.3375V11.6C9.864 11.6 7.668 12.6625 6 15C6.672 11.6625 8.532 8.3375 13.2 7.6625V5L18 9.6625L13.2 14.3375Z"}))}i.displayName="Screenshare"},982244:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=v;var r,a,o=function(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function c(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d=c("path",{d:"M18 22.001H3a1 1 0 0 1-1-1v-15h2v14h14v2Z"}),f=c("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 2.001H7a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1v-14a1 1 0 0 0-1-1Zm-5.842 2.606a.619.619 0 0 0-.674.134L11.832 7.65H9.977a.62.62 0 0 0-.618.618v3.707c0 .34.278.618.618.618h1.854l2.652 2.908a.619.619 0 0 0 1.055-.436V5.178c0-.25-.15-.476-.381-.571Zm1.64 4.793V7.8c1.324 0 2.4 1.076 2.4 2.4 0 1.323-1.076 2.4-2.4 2.4V11c.442 0 .8-.36.8-.8 0-.44-.358-.8-.8-.8Z"}),p=c("defs",{},void 0,c("clipPath",{id:"a"},void 0,c("path",{fill:"#fff",d:"M0 0h24v24H0z"})));function v(e){
var t=e.width,n=void 0===t?16:t,r=e.height,a=void 0===r?16:r,l=e.color,v=void 0===l?"currentColor":l,y=e.foreground,h=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(h),{fill:"none",xmlns:"http://www.w3.org/2000/svg",width:n,height:a,viewBox:"0 0 24 24"}),c("g",{clipPath:"url(#a)",fill:v,className:y},void 0,d,f),p)}v.displayName="Soundboard"},233121:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=d;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}
r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function c(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e){
var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,d=void 0===l?"currentColor":l,f=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 24 24"}),c("path",{className:f,fill:d,d:"M13.5605 11L11.2646 8.706L12.6842 7.294L17.4023 12.009L12.6822 16.708L11.2656 15.292L13.5685 13H2C2.50429 18.045 6.7842 22 11.9744 22C17.5025 22 22 17.513 22 12C22 6.487 17.5025 2 11.9744 2C6.7842 2 2.50429 5.954 2 11H13.5605Z"}))}d.displayName="StageLeave"},980351:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=d;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function c(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{})
;return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e){var t=e.width,n=void 0===t?32:t,r=e.height,a=void 0===r?32:r,l=e.color,d=void 0===l?"currentColor":l,f=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 32 32"}),c("rect",{width:"32",height:"32",rx:"16",fill:d}),c("path",{d:"M23 9.99995C19.56 9.99995 16.826 6.43495 16.799 6.39795C16.421 5.89795 15.579 5.89795 15.201 6.39795C15.174 6.43495 12.44 9.99995 9 9.99995C8.447 9.99995 8 10.4479 8 10.9999V17.9999C8 21.8069 14.764 25.4779 15.534 25.8839C15.68 25.9609 15.84 25.9979 16 25.9979C16.16 25.9979 16.32 25.9599 16.466 25.8839C17.236 25.4779 24 21.8069 24 17.9999V10.9999C24 10.4479 23.553 9.99995 23 9.99995ZM19 19.9999L16 17.9999L13 19.9999L14 16.9999L12 14.9999H15L16 11.9999L17 14.9999H20L18 16.9999L19 19.9999Z",
className:f}))}d.displayName="StarBadge"},934297:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=d;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}
;return s.apply(this,arguments)}function c(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e){var t=e.width,n=void 0===t?14:t,r=e.height,a=void 0===r?14:r,l=e.color,d=void 0===l?"currentColor":l,f=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 14 14"}),c("path",{fill:d,className:f,
d:"M6.99471698,9.67522659 C8.47108874,9.67522659 9.66792453,8.47748685 9.66792453,7 C9.66792453,5.52251315 8.47108874,4.32477341 6.99471698,4.32477341 C5.51834522,4.32477341 4.32150943,5.52251315 4.32150943,7 C4.32150943,8.47748685 5.51834522,9.67522659 6.99471698,9.67522659 Z M6.99471698,2.67522659 C8.18867925,2.67522659 9.26641509,3.16163142 10.0483019,3.94410876 L11.9396226,2.05135952 C10.6822642,0.782477341 8.92830189,0 6.99471698,0 C3.12754717,0 0,3.14048338 0,7 L2.67320755,7 C2.67320755,4.6102719 4.60679245,2.67522659 6.99471698,2.67522659 Z M11.3267925,7 C11.3267925,9.3897281 9.39320755,11.3247734 7.00528302,11.3247734 C5.81132075,11.3247734 4.73358491,10.8383686 3.94113208,10.0558912 L2.04981132,11.9486405 C3.31773585,13.2175227 5.06113208,14 6.99471698,14 C10.8618868,14 14,10.8595166 14,7 L11.3267925,7 Z"}))}d.displayName="Status"},485308:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=d;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function c(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={
children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,d=void 0===l?"currentColor":l,f=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 16 16"}),c("path",{fill:d,className:f,d:"M2.66663 7.40747H7.40737H8.59255H8.66663H13.3333V8.59266H8.59255H7.40737H2.66663V7.40747Z"}))}d.displayName="Subtract"},12713:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=d;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e}
;var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function c(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){
for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e){var t=e.width,n=void 0===t?20:t,r=e.height,a=void 0===r?20:r,l=e.color,d=void 0===l?"currentColor":l,f=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(f),{width:n,height:a,viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"}),c("path",{
d:"M13.4996 0H6.72144C6.62254 1.34004e-06 6.52586 0.0293272 6.44363 0.0842743C6.36141 0.139221 6.29733 0.217322 6.25949 0.308693C6.22165 0.400063 6.21176 0.500602 6.23106 0.597595C6.25037 0.694589 6.298 0.783679 6.36794 0.8536L7.63564 2.1213C7.82317 2.30884 7.92853 2.56319 7.92853 2.8284C7.92853 3.09361 7.82317 3.34796 7.63564 3.5355L6.22144 4.9498C5.65884 5.51241 5.34277 6.27546 5.34277 7.0711C5.34277 7.86674 5.65884 8.62979 6.22144 9.1924C6.40897 9.37993 6.66331 9.48528 6.92853 9.48528C7.19374 9.48528 7.4481 9.37993 7.63564 9.1924L9.75703 7.0711C10.1321 6.69603 10.6408 6.48533 11.1712 6.48533C11.7017 6.48533 12.2104 6.69603 12.5854 7.0711L13.146 7.6317C13.2159 7.70164 13.305 7.74927 13.402 7.76858C13.499 7.78788 13.5996 7.77799 13.6909 7.74015C13.7823 7.70231 13.8604 7.63823 13.9154 7.556C13.9703 7.47377 13.9996 7.37709 13.9996 7.2782V0.5C13.9996 0.367392 13.9469 0.240214 13.8532 0.146446C13.7594 0.052678 13.6322 0 13.4996 0Z",fill:d}),c("path",{
d:"M4.5 17.9999H11.2782C11.3771 17.9999 11.4738 17.9706 11.556 17.9157C11.6382 17.8607 11.7023 17.7826 11.7401 17.6912C11.778 17.5999 11.7879 17.4993 11.7686 17.4023C11.7493 17.3053 11.7016 17.2163 11.6317 17.1463L10.364 15.8786C10.1765 15.6911 10.0711 15.4367 10.0711 15.1715C10.0711 14.9063 10.1765 14.652 10.364 14.4644L11.7782 13.0501C12.3408 12.4875 12.6569 11.7245 12.6569 10.9288C12.6569 10.1332 12.3408 9.37014 11.7782 8.80753C11.5907 8.62 11.3363 8.51465 11.0711 8.51465C10.8059 8.51465 10.5515 8.62 10.364 8.80753L8.2426 10.9288C7.86753 11.3039 7.35883 11.5146 6.8284 11.5146C6.29797 11.5146 5.78927 11.3039 5.4142 10.9288L4.85361 10.3682C4.78369 10.2983 4.69459 10.2507 4.5976 10.2314C4.5006 10.2121 4.40006 10.2219 4.30869 10.2598C4.21731 10.2976 4.13922 10.3617 4.08427 10.4439C4.02933 10.5262 4 10.6228 4 10.7217V17.4999C4 17.6325 4.05269 17.7597 4.14645 17.8535C4.24022 17.9473 4.36739 17.9999 4.5 17.9999Z",fill:d}))}d.displayName="SwitchAccountsIcon"},128103:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=d;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function c(e,t,n,r){
a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e){var t=e.width,n=void 0===t?40:t,r=e.height,a=void 0===r?40:r,l=e.color,d=void 0===l?"currentColor":l,f=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(f),{width:n,height:a,viewBox:"0 0 20 21",fill:d,xmlns:"http://www.w3.org/2000/svg"}),c("path",{"fill-rule":"evenodd","clip-rule":"evenodd",
d:"M9.2139 1.00082L0.271335 12.3825C-0.0698739 12.8168 0.00557122 13.4454 0.439846 13.7866C0.616031 13.9251 0.833599 14.0003 1.05766 14.0003H5.00022V20.0003C5.00022 20.5526 5.44794 21.0003 6.00022 21.0003H14.0002C14.5525 21.0003 15.0002 20.5526 15.0002 20.0003V14.0003H18.9428C19.495 14.0003 19.9428 13.5526 19.9428 13.0003C19.9428 12.7763 19.8675 12.5587 19.7291 12.3825L10.7865 1.00082C10.4453 0.566546 9.81669 0.4911 9.38241 0.832308C9.31972 0.881561 9.26315 0.938133 9.2139 1.00082Z",fill:d}))}d.displayName="ThickArrowUp"},509765:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=d;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","className","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function c(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e){
var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,d=void 0===l?"currentColor":l,f=e.className,p=e.foreground,v=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(v),{className:f,width:n,height:a,viewBox:"0 0 24 24"}),c("path",{className:p,fill:d,fillRule:"evenodd",clipRule:"evenodd",
d:"M17.722 3.00098H21C21.553 3.00098 22 3.44898 22 4.00098V8.00098C22 8.30498 21.861 8.59298 21.625 8.78198L16.696 12.724C15.794 13.86 14.49 14.659 13 14.911V16.001H15C15.553 16.001 16 16.449 16 17.001V19.001H8V17.001C8 16.449 8.447 16.001 9 16.001H11V14.911C9.51 14.659 8.206 13.86 7.304 12.724L2.375 8.78198C2.139 8.59298 2 8.30498 2 8.00098V4.00098C2 3.44898 2.447 3.00098 3 3.00098H6.278C6.625 2.40598 7.263 2.00098 8 2.00098H16C16.738 2.00098 17.375 2.40598 17.722 3.00098ZM4 5.00098V7.52098L6.006 9.12598C6.006 9.10435 6.00448 9.08348 6.00297 9.06274C6.00148 9.04224 6 9.02185 6 9.00098V5.00098H4ZM17.994 9.12698L20 7.52098V5.00098H18V9.00098C18 9.02173 17.9985 9.042 17.9971 9.0625C17.9955 9.08349 17.994 9.10472 17.994 9.12698ZM7 20.001H17V22.001H7V20.001Z"}))}d.displayName="Trophy"},637853:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","className","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function c(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3
;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d=c("rect",{width:"20",height:"16"});function f(e){var t=e.width,n=void 0===t?20:t,r=e.height,a=void 0===r?16:r,l=e.color,f=void 0===l?"currentColor":l,p=e.className,v=e.foreground,y=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({className:p,width:n,height:a,viewBox:"0 0 20 16"},(0,i.default)(y)),c("g",{fill:"none",fillRule:"evenodd"},void 0,c("path",{className:v,fill:f,
d:"M1,14.1538462 L1.95,14.1538462 C3.73125,14.1538462 5.5125,13.5384615 6.81875,12.4307692 C5.15625,12.4307692 3.73125,11.2 3.1375,9.6 C3.375,9.6 3.6125,9.72307692 3.85,9.72307692 C4.20625,9.72307692 4.5625,9.72307692 4.91875,9.6 C3.1375,9.23076923 1.7125,7.63076923 1.7125,5.66153846 C2.1875,5.90769231 2.78125,6.15384615 3.49375,6.15384615 C2.425,5.41538462 1.83125,4.18461538 1.83125,2.70769231 C1.83125,1.96923077 2.06875,1.23076923 2.30625,0.615384615 C4.20625,3.07692308 7.05625,4.67692308 10.38125,4.8 C10.2625,4.67692308 10.2625,4.30769231 10.2625,4.06153846 C10.2625,1.84615385 12.04375,0 14.18125,0 C15.25,0 16.31875,0.492307692 17.03125,1.23076923 C17.8625,1.10769231 18.8125,0.738461538 19.525,0.246153846 C19.2875,1.23076923 18.575,1.96923077 17.8625,2.46153846 C18.575,2.46153846 19.2875,2.21538462 20,1.84615385 C19.525,2.70769231 18.8125,3.32307692 18.1,3.93846154 L18.1,4.43076923 C18.1,9.84615385 14.18125,16 6.9375,16 C4.68125,16 2.6625,15.3846154 1,14.1538462 Z"}),d))}
f.displayName="Twitter"},298408:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=d;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}
function c(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,d=void 0===l?"currentColor":l,f=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(f),{width:n,height:a,viewBox:"0 0 24 24"}),c("path",{fill:d,
d:"M12 14C7.289 14 4 16.467 4 20V22H20V20C20 16.467 16.711 14 12 14ZM11 19C10.447 19 10 18.553 10 18C10 17.447 10.447 17 11 17C11.553 17 12 17.447 12 18C12 18.553 11.553 19 11 19ZM14 19C13.447 19 13 18.553 13 18C13 17.447 13.447 17 14 17C14.553 17 15 17.447 15 18C15 18.553 14.553 19 14 19Z"}),c("path",{fill:d,d:"M18 6H17.91C17.432 3.167 14.967 1 12 1C9.033 1 6.568 3.167 6.09 6H6C4.896 6 4 6.896 4 8V9C4 10.104 4.896 11 6 11C6 12.102 6.897 13 8 13H16C17.104 13 18 12.102 18 11C19.104 11 20 10.104 20 9V8C20 6.896 19.104 6 18 6ZM16 10H8V6H16V10Z"}))}d.displayName="UnknownUser"},950291:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=d;var r,a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function c(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,
_owner:null}}function d(e){var t=e.width,n=void 0===t?24:t,r=e.height,a=void 0===r?24:r,l=e.color,d=void 0===l?"currentColor":l,f=e.foreground,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}(e,u);return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:a,viewBox:"0 0 24 24",fill:"none"}),c("rect",{className:f,x:"1",y:"4",width:"13",height:"16",rx:"2",fill:d}),c("rect",{className:f,x:"16",y:"4",width:"7",height:"7",rx:"1",fill:d}),c("rect",{className:f,x:"16",y:"13",width:"7",height:"7",rx:"1",fill:d}))}d.displayName="VideoLayout"},251689:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=S(n(294184)),i=S(n(441143)),u=S(n(711195)),l=S(n(530250)),s=S(n(160629)),c=S(n(730977)),d=S(n(167870)),f=S(n(259530)),p=S(n(347114)),v=S(n(628551)),y=S(n(550270)),h=S(n(139574)),m=S(n(902060)),_=S(n(683898)),g=n(770348),E=S(n(247001)),O=S(n(110854));function S(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function I(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function C(){C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return C.apply(this,arguments)}function T(e,t){T=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return T(e,t)}var A=5,P=4,M=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;T(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];(t=e.call.apply(e,[this].concat(r))||this).renderPartyMember=function(e,n){if(null==e)return null;var r,l=t.props,d=l.host,f=l.renderUserPopout,p=l.onUserContextMenu;r=(null==d?void 0:d.id)===e.id?E.default.Messages.SPOTIFY_LISTEN_ALONG_HOST:E.default.Messages.SPOTIFY_LISTEN_ALONG_LISTENER;return I(s.default,{preload:function(){return(0,
u.default)(e.id,e.getAvatarURL(void 0,80))},renderPopout:function(t){(0,i.default)(null!=e,"");return f(t,e)},position:s.default.Positions.TOP,align:s.default.Align.CENTER},e.id,(function(t){return I(c.default,{text:r},void 0,(function(r){var i=r.onMouseEnter,u=r.onMouseLeave;return a.createElement(v.default,C({},t,{key:e.id,src:e.getAvatarURL(void 0,24),size:v.default.Sizes.SIZE_24,className:(0,o.default)(O.default.avatar,n),"aria-label":e.username,onMouseEnter:i,onMouseLeave:u,onContextMenu:function(t){null!=e&&(null==p||p(t,e))}}))}))}))};t.renderPartyMemberOverflow=function(e,n,r){var i=t.props.renderOverflowPopout;return I(s.default,{renderPopout:i},r,(function(t){return I(c.default,{text:E.default.Messages.SPOTIFY_LISTEN_ALONG_LISTENERS},void 0,(function(r){return a.createElement("div",C({className:(0,o.default)(O.default.overflow,n)},r,t),e)}))}))};return t}var n=t.prototype;n.isHost=function(){var e=this.props,t=e.currentUser,n=e.host;return t.id===(null==n?void 0:n.id)}
;n.renderTitle=function(){return I("div",{},void 0,I(_.default,{},void 0,this.isHost()?E.default.Messages.SPOTIFY_LISTEN_ALONG_TITLE_HOST.format({count:this.props.party.length}):E.default.Messages.SPOTIFY_LISTEN_ALONG_TITLE_LISTENER),I(m.default,{},void 0,E.default.Messages.SPOTIFY_LISTEN_ALONG_SUBTITLE_LISTENER))};n.renderStopListeningButton=function(){var e=this.props.onStopListening;return this.isHost()?null:I(h.default,{tooltipText:E.default.Messages.SPOTIFY_LISTEN_ALONG_STOP,onClick:e,icon:f.default})};n.renderHelpIcon=function(){if(!this.isHost())return null;return I(h.default,{tooltipText:E.default.Messages.SPOTIFY_LISTEN_ALONG_INFO,onClick:function(){window.open(y.default.getArticleURL(g.HelpdeskArticles.SPOTIFY_CONNECTION),"_blank")},icon:p.default})};n.render=function(){return I("div",{className:O.default.listeningAlong},void 0,this.renderTitle(),I(l.default,{justify:l.default.Justify.END,className:O.default.party},void 0,I(d.default,{users:this.props.party,
max:this.isHost()?A:P,renderUser:this.renderPartyMember,renderMoreUsers:this.renderPartyMemberOverflow})),I("div",{className:O.default.icons},void 0,this.renderHelpIcon(),this.renderStopListeningButton()))};return t}(a.PureComponent);M.displayName="ListeningAlong";var N=M;t.default=N},57754:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a,o=v(n(667294)),i=f(n(294184)),u=f(n(324582)),l=f(n(287317)),s=v(n(272544)),c=n(942675),d=f(n(786588));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e,t){m=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return m(e,t)}!function(e){e[e.OUTGOING=0]="OUTGOING";e[e.INCOMING=1]="INCOMING"}(a||(a={}));var _=function(e){!function(e,t){
e.prototype=Object.create(t.prototype);e.prototype.constructor=e;m(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.renderStatus=function(){var e=this.props,t=e.muted,n=e.deafen,r=n?u.default:l.default;return t||n?h(r,{className:d.default.status},"status"):null};n.renderBorder=function(){var e,t=this.props.speaking;return h("div",{className:(0,i.default)(d.default.border,(e={},e[d.default.speaking]=t,e))},"border")};n.renderVoiceCallAvatar=function(){var e,t=this.props,n=t.src,r=t.disabled,o=t.ringing,u=t.ringingType,l=t.avatarClassName,f=t.muted,p=t.deafen,v=t.size,y=t.renderIcon,m=(0,c.getAvatarSize)(v),_=h("img",{src:n,alt:" ",className:(0,i.default)(d.default.voiceAvatar,l,(e={},e[d.default.ringingOutgoing]=o&&u===a.OUTGOING,e))});if(r)return _;var g=s.MaskIDs.AVATAR_DEFAULT;null!=y?g=v===c.Sizes.SIZE_32?s.MaskIDs.AVATAR_CALL_ICON_32:s.MaskIDs.AVATAR_CALL_ICON:(f||p)&&(g=s.MaskIDs.AVATAR_VOICE_CALL_80);return h(s.default,{
className:d.default.callAvatarMask,width:m,height:m,mask:g},void 0,null==y?void 0:y(),_,f||p?this.renderStatus():this.renderBorder())};n.render=function(){var e,t=this.props,n=t.size,r=t.onClick,o=t.style,u=t.onContextMenu,l=t.className,s=t.ringingType,f=t.ringing,p=(0,i.default)(d.default.wrapper,((e={})[d.default.clickable]=null!=r,e[d.default.ringingOutgoing]=f&&s===a.OUTGOING,e[d.default.ringingIncoming]=f&&s===a.INCOMING,e),l),v=(0,c.getAvatarSize)(n);return h("div",{style:y({height:v,width:v},o),onContextMenu:u,className:p},void 0,this.renderVoiceCallAvatar())};return t}(o.PureComponent);_.displayName="CallAvatar";_.defaultProps={size:c.Sizes.SIZE_80,ringingType:a.OUTGOING,speaking:!1,soundsharing:!1,ringing:!1,muted:!1,deafen:!1,hasVideo:!1,mirror:!1,disabled:!1,paused:!1};_.RingingType=a;var g=_;t.default=g},540671:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getPartyMetadata=function(e){return{af_voice_chat:e.voiceChannels.length>0,
af_people_count:e.partiedMembers.length,af_rich_presence:e.currentActivities.some((function(e){var t=e.activity;return(0,a.default)(t)})),game_platform:e.currentActivities.length>0?(0,r.default)(e.currentActivities[0].activity):null}};var r=o(n(200738)),a=o(n(93392));function o(e){return e&&e.__esModule?e:{default:e}}},899984:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,a=(r=n(120053))&&r.__esModule?r:{default:r};function o(){o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return o.apply(this,arguments)}var i,u=a.default.defaultRules.lheading,l=a.default.defaultRules.heading,s=a.default.defaultRules.link,c=a.default.defaultRules.image,d=a.default.defaultRules.list,f=a.default.defaultRules.blockQuote,p=a.default.defaultRules.paragraph,v=/\{(.+?)}/,y=/^\$(\w+?)\$/;i=n(222234);var h=function(e){
var t=e.transformUpperCase,n=void 0!==t&&t;return function(e,t,r){var o=v.exec(e[1]),i=e[1].replace(v,"");n&&(i=i.toUpperCase());return{className:null!=o?o[1]:null,level:"="===e[2]?1:2,content:a.default.parseInline(t,i,r)}}},m=function(e){return o({},i.baseRules,{image:o({},c,{},"function"==typeof i.customRules.image?i.customRules.image(e):i.customRules.image),link:o({},s,{},"function"==typeof i.customRules.link?i.customRules.link(e):i.customRules.link),list:o({},d,{},"function"==typeof i.customRules.list?i.customRules.list(e):i.customRules.list),interpolation:{order:a.default.defaultRules.text.order,match:function(e){return y.exec(e)},parse:function(e,t,n){var r=n.interpolations[e[1]];return null==r?{type:"text",content:e[0]}:{type:"interpolation",renderer:r}},react:function(e){return e.renderer()}},lheading:o({},u,{parse:h({transformUpperCase:!0})},"function"==typeof i.customRules.lheading?i.customRules.lheading(e):i.customRules.lheading),
heading:o({},l,{},"function"==typeof i.customRules.heading?i.customRules.heading(e):i.customRules.heading),blockQuote:o({},f,{},"function"==typeof i.customRules.blockQuote?i.customRules.blockQuote(e):i.customRules.blockQuote),paragraph:o({},p,{},"function"==typeof i.customRules.paragraph?i.customRules.paragraph(e):i.customRules.paragraph)})},_={getDefaultRules:function(e){return o({},m(e))},getSpecialRules:function(e){return o({},m(e),{},function(e){return{lheading:o({},u,{parse:h({transformUpperCase:!1})},"function"==typeof i.customRules.lheading?i.customRules.lheading(e):i.customRules.lheading)}}(e))}};t.default=_},303763:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.RowTypes=void 0;t.generateRowsForQuery=function(e,t,n,r,a){var o=new Set,u=[],v={numFriends:0,numDms:0,numGroupDms:0,numGuildMembers:0};if(""===e){var y={omitUserIds:t,maxRowsWithoutQuery:r,guildId:a,shownUserIds:o,rows:u,counts:v};!function(e){
var t=e.omitUserIds,n=e.suggestedUserIds,r=e.maxRowsWithoutQuery,a=e.guildId,o=e.shownUserIds,i=e.rows,u=e.counts;if(null!=n)for(var l,s=m(n);!(l=s()).done;){var d=l.value;if(null!=r&&r>0&&i.length>=r)break;if(!t.has(d)){var f=c.default.getUser(d);if(null!=f&&!E(a,f.id)){o.add(f.id);i.push({type:g.FRIEND,item:f,isSuggested:!0});u.numFriends++}}}}(h({},y,{suggestedUserIds:n}));!function(e){for(var t,n=e.omitUserIds,r=e.maxRowsWithoutQuery,a=e.guildId,o=e.shownUserIds,u=e.rows,s=e.counts,f=e.includeGroupDms,v=m(d.default.getPrivateChannelIds());!(t=v()).done;){var y=t.value;if(null!=r&&r>0&&u.length>=r)break;var h=i.default.getChannel(y);if(null!=h)if(f&&h.type===p.ChannelTypes.GROUP_DM){u.push({type:g.GROUP_DM,item:h,isSuggested:!1});s.numGroupDms++}else{if(null!=l.default.lastMessageId(h.id)){var _=h.getRecipientId();if(null!=_&&!n.has(_)&&!o.has(_)){var O=c.default.getUser(_);if(null==O||O.bot||E(a,O.id))continue;o.add(O.id);u.push({type:g.DM,item:O,isSuggested:!1});s.numDms++}}}}
}(h({},y,{includeGroupDms:!0}));!function(e){for(var t,n=e.omitUserIds,r=e.maxRowsWithoutQuery,a=e.guildId,o=e.shownUserIds,i=e.rows,u=e.counts,l=m(s.default.getFriendIDs());!(t=l()).done;){var d=t.value;if(null!=r&&r>0&&i.length>=r)break;if(!n.has(d)&&!o.has(d)){var f=c.default.getUser(d);if(null!=f&&!E(a,f.id)){i.push({type:g.FRIEND,item:f,isSuggested:!1});u.numFriends++}}}}(y)}else{var _={query:e,rows:u,counts:v};!function(e){var t=e.query,n=e.omitUserIds,r=e.shownUserIds,a=e.rows,o=e.counts;f.default.queryDMUsers({query:t,limit:50}).forEach((function(e){var t=e.record;if(!n.has(t.id)){var u=i.default.getDMFromUserId(t.id);if(null!=u){if(null!=l.default.lastMessageId(u)){r.add(t.id);a.push({type:g.DM,item:t,isSuggested:!1});o.numDms++}}}}))}(h({},_,{omitUserIds:t,shownUserIds:o}));!function(e){var t=e.query,n=e.rows,r=e.counts;f.default.queryGroupDMs({query:t,limit:50,fuzzy:!1}).forEach((function(e){var t=e.record;n.push({type:g.GROUP_DM,item:t,isSuggested:!1});r.numGroupDms++}))
}(_);!function(e){var t=e.query,n=e.rows,r=e.counts,a=e.omitUserIds,o=e.shownUserIds;f.default.queryFriends({query:t,limit:500,_fuzzy:!1}).forEach((function(e){var t=e.record;if(!a.has(t.id)&&!o.has(t.id)){o.add(t.id);n.push({type:g.FRIEND,item:t,isSuggested:!1});r.numFriends++}}))}(h({},_,{omitUserIds:t,shownUserIds:o}))}return{rows:u,counts:v}};t.getMostRecentDMedUser=function(e,t){for(var n,r=m(d.default.getPrivateChannelIds());!(n=r()).done;){var a=n.value,o=i.default.getChannel(a);if(null!=o&&o.type===p.ChannelTypes.DM&&null!=l.default.lastMessageId(o.id)){var u=o.getRecipientId();if(null!=u&&!e.has(u)){var s=c.default.getUser(u);if(null==s||s.bot||E(t,s.id))continue;return s}}}return null};t.maxAgeString=function(e,t){var n=parseInt(t,10),r=0===n,a=C[e].value;switch(C[e].type){case O:return r?v.default.Messages.INVITE_EXPIRES_MINUTES:v.default.Messages.INVITE_EXPIRES_MINUTES_OR_USES.format({numUses:n});case S:return r?v.default.Messages.INVITE_EXPIRES_HOURS.format({numHours:a
}):v.default.Messages.INVITE_EXPIRES_HOURS_OR_USES.format({numHours:a,numUses:n});case b:return r?v.default.Messages.INVITE_EXPIRES_DAYS_PLURAL.format({numDays:a}):v.default.Messages.INVITE_EXPIRES_DAYS_OR_USES_PLURAL.format({numDays:a,numUses:n});case I:return r?v.default.Messages.INVITE_EXPIRES_NEVER:v.default.Messages.INVITE_EXPIRES_USES.format({numUses:n});default:return""}};t.urgentShareMessageString=function(e,t){if(null==e)return v.default.Messages.INVITE_MESSAGE_PLACEHOLDER.format({link:t});var n=C[e].value;switch(C[e].type){case O:return v.default.Messages.INVITE_URGENT_MINUTES_PLACEHOLDER.format({numMinutes:n,link:t});case S:return v.default.Messages.INVITE_URGENT_HOURS_MESSAGE_PLACEHOLDER.format({numHours:n,link:t});case b:return v.default.Messages.INVITE_URGENT_DAYS_MESSAGE_PLACEHOLDER.format({numDays:n,link:t});default:return v.default.Messages.INVITE_MESSAGE_PLACEHOLDER.format({link:t})}}
;var r,a,o=y(n(213192)),i=y(n(644263)),u=y(n(876874)),l=y(n(191391)),s=y(n(290629)),c=y(n(728429)),d=y(n(417501)),f=y(n(424956)),p=n(770348),v=y(n(247001));function y(e){return e&&e.__esModule?e:{default:e}}function h(){h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return h.apply(this,arguments)}function m(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}
throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}a=n(990054);var g=(0,o.default)({GROUP_DM:null,DM:null,FRIEND:null});t.RowTypes=g;var E=function(e,t){return null!=e&&u.default.isMember(e,t)};var O="minutes",S="hours",b="days",I="never",C=((r={})[a.INVITE_OPTIONS_30_MINUTES.value]={value:30,type:O},r[a.INVITE_OPTIONS_1_HOUR.value]={value:1,type:S},r[a.INVITE_OPTIONS_6_HOURS.value]={value:6,type:S},r[a.INVITE_OPTIONS_12_HOURS.value]={value:12,type:S},r[a.INVITE_OPTIONS_1_DAY.value]={value:1,type:b},r[a.INVITE_OPTIONS_7_DAYS.value]={value:7,type:b},r[a.INVITE_OPTIONS_FOREVER.value]={value:0,type:I},r);var T={getMaxAgeOptions:a.MAX_AGE_OPTIONS,getMaxUsesOptions:a.MAX_USES_OPTIONS,INVITE_OPTIONS_FOREVER:a.INVITE_OPTIONS_FOREVER,INVITE_OPTIONS_1_DAY:a.INVITE_OPTIONS_1_DAY,
INVITE_OPTIONS_7_DAYS:a.INVITE_OPTIONS_7_DAYS,INVITE_OPTIONS_12_HOURS:a.INVITE_OPTIONS_12_HOURS,INVITE_OPTIONS_6_HOURS:a.INVITE_OPTIONS_6_HOURS,INVITE_OPTIONS_1_HOUR:a.INVITE_OPTIONS_1_HOUR,INVITE_OPTIONS_30_MINUTES:a.INVITE_OPTIONS_30_MINUTES,INVITE_OPTIONS_UNLIMITED:a.INVITE_OPTIONS_UNLIMITED,INVITE_OPTIONS_ONCE:a.INVITE_OPTIONS_ONCE,INVITE_OPTIONS_5_TIMES:a.INVITE_OPTIONS_5_TIMES,INVITE_OPTIONS_10_TIMES:a.INVITE_OPTIONS_10_TIMES,INVITE_OPTIONS_25_TIMES:a.INVITE_OPTIONS_25_TIMES,INVITE_OPTIONS_50_TIMES:a.INVITE_OPTIONS_50_TIMES,INVITE_OPTIONS_100_TIMES:a.INVITE_OPTIONS_100_TIMES};t.default=T},86997:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.resolveThunk=t.default=void 0;var r,a=(r=n(496486))&&r.__esModule?r:{default:r};var o=function(e){return"function"==typeof e?e():e};t.resolveThunk=o;var i=a.default.curry((function(e,t,n){return o(t)?e(n):n({})}));t.default=i},40856:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.default=void 0;var r,a,o=f(n(496486)),i=f(n(728429)),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(86997)),l=["promiseFn","resolve","reject","code","mfaCodeHandler","isModalOpen"],s=["hooks"],c=["checkEnabled"];function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(a[n]=e[n])}return a}function v(){v=Object.assign||function(e){
for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return v.apply(this,arguments)}var y=function(){throw new Error("updateModal has not been implemented.")},h=n(546331);r=h.showModal;y=h.updateModalProps;a=n(194322).closeModal;function m(){var e,t;return null!==(e=null===(t=i.default.getCurrentUser())||void 0===t?void 0:t.mfaEnabled)&&void 0!==e&&e}function _(e){var t=e.promiseFn,n=e.resolve,o=e.reject,i=e.confirmModalProps,u=e.hooks.onEarlyClose;if(null!=r)var l=r(f,s,i);else u();function s(){null==u||u()}function c(e){a(l);n(e)}function d(e){a(l);o(e)}function f(e){y(l,f,s,v({},i,{isLoading:!0}));return g({promiseFn:t,resolve:c,reject:d,code:e,mfaCodeHandler:p,isModalOpen:!0})}function p(e){var t=e.res;y(l,f,s,v({},i,{error:t.body.message}))}}function g(e){var t=e.promiseFn,n=e.resolve,r=e.reject,a=e.code,o=e.mfaCodeHandler,i=void 0===o?_:o,u=e.isModalOpen,s=void 0!==u&&u,c=p(e,l);return t(null!=a?{
code:a}:{}).then(n,(function(e){if(function(e,t){return e.body&&60008===e.body.code||t&&429===e.status}(e,s))return i(v({promiseFn:t,resolve:n,reject:r,res:e},c));r(e)}))}var E=o.default.curry((function(e,t,n){void 0===n&&(n={});var r=n,a=r.checkEnabled,o=void 0===a?m:a;return function(e,t){var n=e.hooks,r=void 0===n?{}:n,a=p(e,s);return(0,u.default)((function(e){return new Promise((function(n,o){((0,u.resolveThunk)(t)?_:g)(v({promiseFn:e,resolve:n,reject:o,hooks:r},a))}))}),!0)}(v({confirmModalProps:e},p(r,c)),o)(t)}),2);t.default=E},951530:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getRecipients=function(e,t){return(0,a.default)(e).map(t.getUser).unshift(t.getCurrentUser()).filter(o.isNotNullish).sortBy((function(e){return e.username.toLowerCase()})).value()};var r,a=(r=n(496486))&&r.__esModule?r:{default:r},o=n(71246)},522731:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.showAcceptedNotification=function(e){
d(e,s.default.Messages.NOTIFICATION_ACCEPTED_FRIEND_REQUEST,(function(){r.default.openPrivateChannel(e.id)}))};t.showPendingNotification=function(e){d(e,s.default.Messages.NOTIFICATION_PENDING_FRIEND_REQUEST,(function(){(0,n(910992).openUserProfileModal)({userId:e.id});(0,i.transitionTo)(l.Routes.FRIENDS);a.default.setSection(l.FriendsSections.PENDING)}))};var r=c(n(709403)),a=c(n(99694)),o=c(n(969226)),i=n(139982),u=c(n(692711)),l=n(770348),s=c(n(247001));function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n){o.default.showNotification(u.default.getUserAvatarURL(e),e.username,t,{},{omitViewTracking:!0,omitClickTracking:!0,tag:e.id,onClick:n})}},222234:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.customRules=t.baseRules=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e)
;var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=p(n(294184)),i=p(n(120053)),u=p(n(241165)),l=p(n(226800)),s=p(n(268389)),c=p(n(151097)),d=p(n(308920)),f=n(770348);function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var u=new Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,
props:t,_owner:null}}function h(){h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return h.apply(this,arguments)}function m(e){return function(e){if(Array.isArray(e))return _(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}
var g=i.default.defaultRules.link,E={section:f.AnalyticsSections.SETTINGS_CHANGELOG};function O(e,t){return null==t?[]:t.split(" ").map((function(t){return e[t]}))}var S=function(e){var t=e.level,n=e.children,r=e.className,i=void 0===r?null:r,u=e.styleSheet,l=void 0===u?{}:u;return a.createElement("h"+t,{className:o.default.apply(void 0,m(O(l,i)))},n)},b=s.default.defaultRules;t.baseRules=b;var I={link:{parse:function(e,t,n){var r,a=e[2],o=a.startsWith("https://discordapp.com/nitro")||a.startsWith("https://discord.com/nitro"),i=a.startsWith("https://discordapp.com/hypesquad")||a.startsWith("https://discord.com/hypesquad");r=o||i?function(e){d.default.track(f.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location:E});o?l.default.open(f.UserSettingsSections.PREMIUM):i&&l.default.open(f.UserSettingsSections.HYPESQUAD_ONLINE);n.changeLog.track(f.AnalyticEvents.CHANGE_LOG_CTA_CLICKED,{cta_type:"nitro"});u.default.hideChangeLog();e.preventDefault()}:function(){
n&&"function"==typeof n.onLinkClick&&n.onLinkClick(a);n.changeLog.track(f.AnalyticEvents.CHANGE_LOG_CTA_CLICKED,h({},d.default.getCampaignParams(a)))};return h({},g.parse(e,t,n),{callToAction:r})},react:function(e,t,n){return y(c.default,{href:i.default.sanitizeUrl(e.target),title:e.title,onClick:e.callToAction,target:"_blank",className:e.callToAction?"cta":void 0},n.key,t(e.content,n))}},lheading:function(e){return{react:function(t,n,r){return y(S,{level:t.level,className:t.className,styleSheet:e},r.key,n(t.content,r))}}},heading:{react:function(e,t,n){return y(S,{level:e.level},n.key,t(e.content,n))}},image:{react:function(e,t,r){var a=n(478717)("./"+e.target);return y("img",{alt:e.alt,src:a},r.key)}},blockQuote:{react:b.blockQuote.react},paragraph:{react:function(e,t,n){return y("p",{},n.key,t(e.content,n))}}};t.customRules=I},990054:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.MAX_USES_OPTIONS=t.MAX_AGE_OPTIONS=t.INVITE_OPTIONS_UNLIMITED=t.INVITE_OPTIONS_ONCE=t.INVITE_OPTIONS_FOREVER=t.INVITE_OPTIONS_7_DAYS=t.INVITE_OPTIONS_6_HOURS=t.INVITE_OPTIONS_5_TIMES=t.INVITE_OPTIONS_50_TIMES=t.INVITE_OPTIONS_30_MINUTES=t.INVITE_OPTIONS_25_TIMES=t.INVITE_OPTIONS_1_HOUR=t.INVITE_OPTIONS_1_DAY=t.INVITE_OPTIONS_12_HOURS=t.INVITE_OPTIONS_10_TIMES=t.INVITE_OPTIONS_100_TIMES=void 0;var r,a=(r=n(247001))&&r.__esModule?r:{default:r};function o(e,t){return{value:e,get label(){return t()}}}var i=o(0,(function(){return a.default.Messages.MAX_USES.format({maxUses:0})}));t.INVITE_OPTIONS_UNLIMITED=i;var u=o(1,(function(){return a.default.Messages.MAX_USES.format({maxUses:1})}));t.INVITE_OPTIONS_ONCE=u;var l=o(5,(function(){return a.default.Messages.MAX_USES.format({maxUses:5})}));t.INVITE_OPTIONS_5_TIMES=l;var s=o(10,(function(){return a.default.Messages.MAX_USES.format({maxUses:10})}));t.INVITE_OPTIONS_10_TIMES=s;var c=o(25,(function(){
return a.default.Messages.MAX_USES.format({maxUses:25})}));t.INVITE_OPTIONS_25_TIMES=c;var d=o(50,(function(){return a.default.Messages.MAX_USES.format({maxUses:50})}));t.INVITE_OPTIONS_50_TIMES=d;var f=o(100,(function(){return a.default.Messages.MAX_USES.format({maxUses:100})}));t.INVITE_OPTIONS_100_TIMES=f;var p=[i,u,l,s,c,d,f];t.MAX_USES_OPTIONS=p;var v=o(1800,(function(){return a.default.Messages.DURATION_MINUTES.format({minutes:30})}));t.INVITE_OPTIONS_30_MINUTES=v;var y=o(3600,(function(){return a.default.Messages.DURATION_HOURS.format({hours:1})}));t.INVITE_OPTIONS_1_HOUR=y;var h=o(21600,(function(){return a.default.Messages.DURATION_HOURS.format({hours:6})}));t.INVITE_OPTIONS_6_HOURS=h;var m=o(43200,(function(){return a.default.Messages.DURATION_HOURS.format({hours:12})}));t.INVITE_OPTIONS_12_HOURS=m;var _=o(86400,(function(){return a.default.Messages.DURATION_DAYS.format({days:1})}));t.INVITE_OPTIONS_1_DAY=_;var g=o(604800,(function(){
return a.default.Messages.DURATION_DAYS.format({days:7})}));t.INVITE_OPTIONS_7_DAYS=g;var E=o(0,(function(){return a.default.Messages.MAX_AGE_NEVER}));t.INVITE_OPTIONS_FOREVER=E;var O=[v,y,h,m,_,g,E];t.MAX_AGE_OPTIONS=O},546331:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.showModal=function(e,t,n){return(0,i.openModal)(s(e,t,n))};t.updateModalProps=function(e,t,n,r){return(0,i.updateModal)(e,s(t,n,r))};var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=(r=n(410671))&&r.__esModule?r:{default:r},i=n(194322);function u(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(){l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return l.apply(this,arguments)}var s=function(e,t,n){return function(r){return a.createElement(o.default,l({handleSubmit:e,handleEarlyClose:t},n,r))}}},582972:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GuildFeedPreferenceEntityTypesSets=t.GuildFeedPreferenceEntityTypes=void 0;var n;t.GuildFeedPreferenceEntityTypes=n;!function(e){e.MESSAGE="message";e.CHANNEL="channel";e.USER="user"}(n||(t.GuildFeedPreferenceEntityTypes=n={}));var r={ALL:new Set(["channel","message","user"])};t.GuildFeedPreferenceEntityTypesSets=r},789666:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GuildFeedPreferenceOptionsSets=t.GuildFeedPreferenceOptions=void 0;var n
;t.GuildFeedPreferenceOptions=n;!function(e){e[e.HIDDEN=1]="HIDDEN";e[e.DEMOTED=2]="DEMOTED"}(n||(t.GuildFeedPreferenceOptions=n={}));var r={ALL:new Set([1,2])};t.GuildFeedPreferenceOptionsSets=r},229354:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=function(){function e(e,t){this._capacity=e;this._tokenCount=e;this._queue=[];this._intervalPeriod=t/e;this._intervalID=null}var t=e.prototype;t._processQueue=function(){var e=this;setTimeout((function(){if(e._queue.length>0&&e._tokenCount>0){e._tokenCount--;null==e._intervalID&&(e._intervalID=setInterval((function(){return e._iterate()}),e._intervalPeriod));var t=e._queue.shift();null==t||t();e._processQueue()}}),0)};t._iterate=function(){this._tokenCount=Math.min(this._capacity,this._tokenCount+1);if(this._tokenCount>=this._capacity&&null!=this._intervalID){clearInterval(this._intervalID);this._intervalID=null}this._processQueue()};t.process=function(){var e=this
;return new Promise((function(t){e._queue.push(t);e._processQueue()}))};return e}();t.default=n},479049:(e,t)=>{var n,r;r=function(e){"use strict";e=e||{};var t,n,r,a,o,i,u,l,s,c,d,f,p,v,y,h,m={bgColor:"#d00",textColor:"#fff",fontFamily:"sans-serif",fontStyle:"bold",type:"circle",position:"down",animation:"slide",elementId:!1,dataUrl:!1,win:window};(p={}).ff="undefined"!=typeof InstallTrigger;p.chrome=!!window.chrome;p.opera=!!window.opera||navigator.userAgent.indexOf("Opera")>=0;p.ie=!1;p.safari=Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0;p.supported=p.chrome||p.ff||p.opera;var _=[];d=function(){};l=f=!1;var g={ready:function(){l=!0;g.reset();d()},reset:function(){if(l){_=[];s=!1;c=!1;i.clearRect(0,0,a,r);i.drawImage(u,0,0,a,r);b.setIcon(o);window.clearTimeout(v);window.clearTimeout(y)}},start:function(){if(l&&!c&&_.length>0){c=!0;var e=function(){["type","animation","bgColor","textColor","fontFamily","fontStyle"].forEach((function(e){
e in _[0].options&&(t[e]=_[0].options[e])}));T.run(_[0].options,(function(){!function(){s=_[0];c=!1;if(_.length>0){_.shift();g.start()}}()}),!1)};s?T.run(s.options,(function(){e()}),!0):e()}}},E={},O=function(e){e.n="number"==typeof e.n?Math.abs(0|e.n):e.n;e.x=a*e.x;e.y=r*e.y;e.w=a*e.w;e.h=r*e.h;e.len=(""+e.n).length;return e};E.circle=function(e){var n=!1;if(2===(e=O(e)).len){e.x=e.x-.4*e.w;e.w=1.4*e.w;n=!0}else if(e.len>=3){e.x=e.x-.65*e.w;e.w=1.65*e.w;n=!0}i.clearRect(0,0,a,r);i.drawImage(u,0,0,a,r);i.beginPath();i.font=t.fontStyle+" "+Math.floor(e.h*(e.n>99?.85:1))+"px "+t.fontFamily;i.textAlign="center";if(n){i.moveTo(e.x+e.w/2,e.y);i.lineTo(e.x+e.w-e.h/2,e.y);i.quadraticCurveTo(e.x+e.w,e.y,e.x+e.w,e.y+e.h/2);i.lineTo(e.x+e.w,e.y+e.h-e.h/2);i.quadraticCurveTo(e.x+e.w,e.y+e.h,e.x+e.w-e.h/2,e.y+e.h);i.lineTo(e.x+e.h/2,e.y+e.h);i.quadraticCurveTo(e.x,e.y+e.h,e.x,e.y+e.h-e.h/2);i.lineTo(e.x,e.y+e.h/2);i.quadraticCurveTo(e.x,e.y,e.x+e.h/2,e.y)
}else i.arc(e.x+e.w/2,e.y+e.h/2,e.h/2,0,2*Math.PI);i.fillStyle="rgba("+t.bgColor.r+","+t.bgColor.g+","+t.bgColor.b+","+e.o+")";i.fill();i.closePath();i.beginPath();i.stroke();i.fillStyle="rgba("+t.textColor.r+","+t.textColor.g+","+t.textColor.b+","+e.o+")";"number"==typeof e.n&&e.n>999?i.fillText((e.n>9999?9:Math.floor(e.n/1e3))+"k+",Math.floor(e.x+e.w/2),Math.floor(e.y+e.h-.2*e.h)):i.fillText(e.n,Math.floor(e.x+e.w/2),Math.floor(e.y+e.h-.15*e.h));i.closePath()};E.rectangle=function(e){if(2===(e=O(e)).len){e.x=e.x-.4*e.w;e.w=1.4*e.w}else if(e.len>=3){e.x=e.x-.65*e.w;e.w=1.65*e.w}i.clearRect(0,0,a,r);i.drawImage(u,0,0,a,r);i.beginPath();i.font=t.fontStyle+" "+Math.floor(e.h*(e.n>99?.9:1))+"px "+t.fontFamily;i.textAlign="center";i.fillStyle="rgba("+t.bgColor.r+","+t.bgColor.g+","+t.bgColor.b+","+e.o+")";i.fillRect(e.x,e.y,e.w,e.h);i.fillStyle="rgba("+t.textColor.r+","+t.textColor.g+","+t.textColor.b+","+e.o+")"
;"number"==typeof e.n&&e.n>999?i.fillText((e.n>9999?9:Math.floor(e.n/1e3))+"k+",Math.floor(e.x+e.w/2),Math.floor(e.y+e.h-.2*e.h)):i.fillText(e.n,Math.floor(e.x+e.w/2),Math.floor(e.y+e.h-.15*e.h));i.closePath()};function S(e){if(e.paused||e.ended||f)return!1;try{i.clearRect(0,0,a,r);i.drawImage(e,0,0,a,r)}catch(e){}y=setTimeout((function(){S(e)}),T.duration);b.setIcon(o)}var b={getIcon:function(){var e=!1;if(t.element)e=t.element;else if(t.elementId)(e=h.getElementById(t.elementId)).setAttribute("href",e.getAttribute("src"));else{e=function(){for(var e=h.getElementsByTagName("head")[0].getElementsByTagName("link"),t=e.length-1;t>=0;t--)if(/(^|\s)icon(\s|$)/i.test(e[t].getAttribute("rel")))return e[t];return!1}();if(!1===e){(e=h.createElement("link")).setAttribute("rel","icon");h.getElementsByTagName("head")[0].appendChild(e)}}e.setAttribute("type","image/png");return e},setIcon:function(e){var r=e.toDataURL("image/png");t.dataUrl&&t.dataUrl(r);if(t.element){
t.element.setAttribute("href",r);t.element.setAttribute("src",r)}else if(t.elementId){var a=h.getElementById(t.elementId);a.setAttribute("href",r);a.setAttribute("src",r)}else if(p.ff||p.opera){var o=n;n=h.createElement("link");p.opera&&n.setAttribute("rel","icon");n.setAttribute("rel","icon");n.setAttribute("type","image/png");h.getElementsByTagName("head")[0].appendChild(n);n.setAttribute("href",r);o.parentNode&&o.parentNode.removeChild(o)}else n.setAttribute("href",r)}};function I(e){e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,r){return t+t+n+n+r+r}));var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return!!t&&{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}}function C(e,t){var n,r={};for(n in e)r[n]=e[n];for(n in t)r[n]=t[n];return r}var T={duration:40,types:{}};T.types.fade=[{x:.4,y:.4,w:.6,h:.6,o:0},{x:.4,y:.4,w:.6,h:.6,o:.1},{x:.4,y:.4,w:.6,h:.6,o:.2},{x:.4,y:.4,w:.6,h:.6,o:.3},{x:.4,y:.4,w:.6,h:.6,o:.4},{x:.4,y:.4,w:.6,h:.6,o:.5},{x:.4,
y:.4,w:.6,h:.6,o:.6},{x:.4,y:.4,w:.6,h:.6,o:.7},{x:.4,y:.4,w:.6,h:.6,o:.8},{x:.4,y:.4,w:.6,h:.6,o:.9},{x:.4,y:.4,w:.6,h:.6,o:1}];T.types.none=[{x:.4,y:.4,w:.6,h:.6,o:1}];T.types.pop=[{x:1,y:1,w:0,h:0,o:1},{x:.9,y:.9,w:.1,h:.1,o:1},{x:.8,y:.8,w:.2,h:.2,o:1},{x:.7,y:.7,w:.3,h:.3,o:1},{x:.6,y:.6,w:.4,h:.4,o:1},{x:.5,y:.5,w:.5,h:.5,o:1},{x:.4,y:.4,w:.6,h:.6,o:1}];T.types.popFade=[{x:.75,y:.75,w:0,h:0,o:0},{x:.65,y:.65,w:.1,h:.1,o:.2},{x:.6,y:.6,w:.2,h:.2,o:.4},{x:.55,y:.55,w:.3,h:.3,o:.6},{x:.5,y:.5,w:.4,h:.4,o:.8},{x:.45,y:.45,w:.5,h:.5,o:.9},{x:.4,y:.4,w:.6,h:.6,o:1}];T.types.slide=[{x:.4,y:1,w:.6,h:.6,o:1},{x:.4,y:.9,w:.6,h:.6,o:1},{x:.4,y:.9,w:.6,h:.6,o:1},{x:.4,y:.8,w:.6,h:.6,o:1},{x:.4,y:.7,w:.6,h:.6,o:1},{x:.4,y:.6,w:.6,h:.6,o:1},{x:.4,y:.5,w:.6,h:.6,o:1},{x:.4,y:.4,w:.6,h:.6,o:1}];T.run=function(e,n,r,a){var i=T.types[h.hidden||h.msHidden||h.webkitHidden||h.mozHidden?"none":t.animation];a=!0===r?void 0!==a?a:i.length-1:void 0!==a?a:0;n=n||function(){};if(a<i.length&&a>=0){
E[t.type](C(e,i[a]));v=setTimeout((function(){r?a-=1:a+=1;T.run(e,n,r,a)}),T.duration);b.setIcon(o)}else n()};!function(){(t=C(m,e)).bgColor=I(t.bgColor);t.textColor=I(t.textColor);t.position=t.position.toLowerCase();t.animation=T.types[""+t.animation]?t.animation:m.animation;h=t.win.document;var l=t.position.indexOf("up")>-1,s=t.position.indexOf("left")>-1;if(l||s)for(var c=0;c<T.types[""+t.animation].length;c++){var d=T.types[""+t.animation][c];l&&(d.y<.6?d.y=d.y-.4:d.y=d.y-2*d.y+(1-d.w));s&&(d.x<.6?d.x=d.x-.4:d.x=d.x-2*d.x+(1-d.h));T.types[""+t.animation][c]=d}t.type=E[""+t.type]?t.type:m.type;n=b.getIcon();o=document.createElement("canvas");u=document.createElement("img");if(n.hasAttribute("href")){u.setAttribute("crossOrigin","anonymous");u.onload=function(){r=u.height>0?u.height:32;a=u.width>0?u.width:32;o.height=r;o.width=a;i=o.getContext("2d");g.ready()};u.setAttribute("src",n.getAttribute("href"))}else{u.onload=function(){r=32;a=32;u.height=r;u.width=a;o.height=r;o.width=a
;i=o.getContext("2d");g.ready()};u.setAttribute("src","")}}();return{badge:function(e,t){t=("string"==typeof t?{animation:t}:t)||{};d=function(){try{if("number"==typeof e?e>0:""!==e){var n={type:"badge",options:{n:e}};"animation"in t&&T.types[""+t.animation]&&(n.options.animation=""+t.animation);"type"in t&&E[""+t.type]&&(n.options.type=""+t.type);["bgColor","textColor"].forEach((function(e){e in t&&(n.options[e]=I(t[e]))}));["fontStyle","fontFamily"].forEach((function(e){e in t&&(n.options[e]=t[e])}));_.push(n);if(_.length>100)throw new Error("Too many badges requests in queue.");g.start()}else g.reset()}catch(e){throw new Error("Error setting badge. Message: "+e.message)}};l&&d()},video:function(e){d=function(){try{if("stop"===e){f=!0;g.reset();f=!1;return}e.addEventListener("play",(function(){S(this)}),!1)}catch(e){throw new Error("Error setting video. Message: "+e.message)}};l&&d()},image:function(e){d=function(){try{
var t=e.width,n=e.height,u=document.createElement("img"),l=t/a<n/r?t/a:n/r;u.setAttribute("crossOrigin","anonymous");u.onload=function(){i.clearRect(0,0,a,r);i.drawImage(u,0,0,a,r);b.setIcon(o)};u.setAttribute("src",e.getAttribute("src"));u.height=n/l;u.width=t/l}catch(e){throw new Error("Error setting image. Message: "+e.message)}};l&&d()},webcam:function(e){if(!window.URL||!window.URL.createObjectURL){window.URL=window.URL||{};window.URL.createObjectURL=function(e){return e}}if(p.supported){var t=!1;navigator.getUserMedia=navigator.getUserMedia||navigator.oGetUserMedia||navigator.msGetUserMedia||navigator.mozGetUserMedia||navigator.webkitGetUserMedia;d=function(){try{if("stop"===e){f=!0;g.reset();f=!1;return}(t=document.createElement("video")).width=a;t.height=r;navigator.getUserMedia({video:!0,audio:!1},(function(e){t.src=URL.createObjectURL(e);t.play();S(t)}),(function(){}))}catch(e){throw new Error("Error setting webcam. Message: "+e.message)}};l&&d()}},reset:g.reset,browser:{
supported:p.supported}}},void 0!==(n=function(){return r}.apply(t,[]))&&(e.exports=n)},145911:(e,t,n)=>{e.exports=n.p+"e92599c3548209f77ec833c649f8939a.svg"},697694:(e,t,n)=>{e.exports=n.p+"87f8416faec0691b96525d0bb3027809.svg"},684795:(e,t,n)=>{e.exports=n.p+"dca6464b06c48b1fab5f2e8320446b32.mp4"},662325:(e,t,n)=>{e.exports=n.p+"ae046b62e28bb1ec1fbdde8185d32b9e.mp4"},15176:(e,t,n)=>{e.exports=n.p+"19ee7a767639c0af819b5976b493e9d8.png"},788557:(e,t,n)=>{e.exports=n.p+"230cd026d4bfdeb914b266938cc506a1.jpg"},22625:(e,t,n)=>{e.exports=n.p+"7f34e6e3da7d1403bad96e20b9b3a32c.mp4"},603628:(e,t,n)=>{e.exports=n.p+"7c2b742b0f9040988b4bb4e351fdedb9.mp4"},879334:(e,t,n)=>{e.exports=n.p+"7f73b3e68d81916d67cc58a3deeca567.mp4"},133650:(e,t,n)=>{e.exports=n.p+"abaa70ae2be9f361759c60b2ee85ff12.png"},631896:(e,t,n)=>{e.exports=n.p+"3522a06815d204da075ffda2431ef7f2.png"},931806:(e,t,n)=>{e.exports=n.p+"9acacf43b5dddb33196fa60a4a6c6b2f.jpg"},425058:(e,t,n)=>{
e.exports=n.p+"d6a1cc0cb7f729ae421d609d72839816.mp4"},428915:(e,t,n)=>{e.exports=n.p+"1b9af825f3ccd5ffdf9580e338d4e5e7.png"},561323:(e,t,n)=>{e.exports=n.p+"bb867095876d3f6d81cc12e745ee9f58.png"},949223:(e,t,n)=>{e.exports=n.p+"8a5c84a9635d7e691e9276ff7ddfab31.svg"},412466:(e,t,n)=>{e.exports=n.p+"6b1abb79089f84d154f8a248dfb90b46.svg"},226586:(e,t,n)=>{e.exports=n.p+"0251a4f9294a3617de380fe28c486932.svg"},373135:(e,t,n)=>{e.exports=n.p+"fbef95afb1a9c8cf52e941375c360491.svg"},361850:(e,t,n)=>{e.exports=n.p+"06d8e21539e634cbc0f2ecf38f1bb2bb.svg"},15808:(e,t,n)=>{e.exports=n.p+"fe875f7f2f0c4869d155e7e487f570f2.png"},227227:(e,t,n)=>{e.exports=n.p+"7f9b927507a1c9321da58ab0fafffcd0.png"},999455:(e,t,n)=>{e.exports=n.p+"1c3ba8528a8f16c8cf0c55e286010420.png"},678811:(e,t,n)=>{e.exports=n.p+"831ba24f72b89cc77c325317372b7239.png"},236340:(e,t,n)=>{e.exports=n.p+"3785e11ebe8fdcd64db5bb49f2e5299d.png"},359546:(e,t,n)=>{e.exports=n.p+"506bf478f5e1a271a27b673e6f25749a.png"},35448:(e,t,n)=>{
e.exports=n.p+"07d9032e5d30865e0cc076396f0b027a.png"},404252:(e,t,n)=>{e.exports=n.p+"9d402086959fccbf418074a4b96f6d19.jpg"},123451:(e,t,n)=>{e.exports=n.p+"9f65387c814dd4cb5aff4e4e1e7e0446.svg"},16697:(e,t,n)=>{e.exports=n.p+"ed2007aab2da31a5436e70a28b4d59f9.svg"},105045:(e,t,n)=>{e.exports=n.p+"7ad95b56788fc31c3e5eec667129ba68.svg"},128112:(e,t,n)=>{e.exports=n.p+"9ae90b4dd4d7e4ddd9c8935dae4e87c4.svg"},876406:(e,t,n)=>{e.exports=n.p+"a92681efceabc4ee91964a7cef2571cf.svg"},937849:(e,t,n)=>{e.exports=n.p+"96ad9c7f6f636a7fb2028e2a07847776.svg"},772144:(e,t,n)=>{e.exports=n.p+"ef3a1ed683cfcf029971b12a26462072.svg"},492623:(e,t,n)=>{e.exports=n.p+"8c998f8fb62016fcfb4901e424ff378b.svg"},399898:(e,t,n)=>{e.exports=n.p+"645df33d735507f39c78ce0cac7437f0.svg"},74700:(e,t,n)=>{e.exports=n.p+"b5eb2f7d6b3f8cc9b60be4a5dcf28015.svg"},607603:(e,t,n)=>{e.exports=n.p+"02625ee29f851ec588c2020a88d82665.svg"},376354:(e,t,n)=>{e.exports=n.p+"b36de980b174d7b798c89f35c116e5c6.svg"},688224:(e,t,n)=>{
e.exports=n.p+"fd879a28807b66b38d54e7db6ea18a69.svg"},96972:(e,t,n)=>{e.exports=n.p+"b36c705f790dad253981f1893085015a.svg"},540579:(e,t,n)=>{e.exports=n.p+"36c9a2fb7d0593a581a92373121c2848.svg"},572274:(e,t,n)=>{e.exports=n.p+"c8aeec4a5ee16aa9214b994f7355fea0.svg"},947079:(e,t,n)=>{e.exports=n.p+"3fba9b3d08682f3ce0344e289fe668cb.svg"},389515:(e,t,n)=>{e.exports=n.p+"816e71b3225c71bc105db7209fb4b796.svg"},785538:(e,t,n)=>{e.exports=n.p+"7866fb01d8b75b6fe9e6591373a0ddf2.svg"},534413:(e,t,n)=>{e.exports=n.p+"e73889dfe6cc46c9161dd9c1d19cc5ca.svg"},182105:(e,t,n)=>{e.exports=n.p+"109dff8689b0dcedc5485a0b26c647f2.svg"},727869:(e,t,n)=>{e.exports=n.p+"5e690f4c63a19a36bff7f6364eaa6ea2.svg"},10439:(e,t,n)=>{e.exports=n.p+"fda43f574092d89177a4412046f51c44.svg"},755645:(e,t,n)=>{e.exports=n.p+"6f35b2fc488e26dc1d56b253d01c7b75.svg"},928793:(e,t,n)=>{e.exports=n.p+"99c599a00313a16fa4babba64d461f34.svg"},324752:(e,t,n)=>{e.exports=n.p+"6ac195d9605dfb0719e73f002fad38a8.svg"},655916:(e,t,n)=>{
e.exports=n.p+"c998fecc59ff94fe8e8e7f3557586c07.svg"},315879:(e,t,n)=>{e.exports=n.p+"255b326a18a4f8a078c90e6c35f6013b.svg"},80210:(e,t,n)=>{e.exports=n.p+"3ed9c7cdbea131bc485afa998a5ec93e.svg"},333993:(e,t,n)=>{e.exports=n.p+"1a23068e966efce6fb32ca9fecc65eed.svg"},694111:(e,t,n)=>{e.exports=n.p+"4aebeb85413bf3414671b2c138463909.svg"},350115:(e,t,n)=>{e.exports=n.p+"d3bb5f3e5859cc8735a9d87121efb72a.svg"},942473:(e,t,n)=>{e.exports=n.p+"887423e438a9b6dcb31a73d597c11a84.svg"},479307:(e,t,n)=>{e.exports=n.p+"53a7243150bf05759b81a208b87d3dc5.svg"},987601:(e,t,n)=>{e.exports=n.p+"d61d4aa409613f4dcfb6163ef0d739de.svg"},192941:(e,t,n)=>{e.exports=n.p+"0d16e62fc3a84fc7e76b06584b646df9.svg"},232353:(e,t,n)=>{e.exports=n.p+"acb954ff414b98380056308d56efcbfd.svg"},802566:(e,t,n)=>{e.exports=n.p+"16770cd8548bce331bed7218db02fb4f.svg"},484771:(e,t,n)=>{e.exports=n.p+"7de1e682a4fbf1483ad81f3872e5a9b2.png"},404024:(e,t,n)=>{e.exports=n.p+"ed28635ce7d107f1a8b04379d009dd41.svg"},764728:(e,t,n)=>{
e.exports=n.p+"cc6c3c95c28acf328b6173383ddb3b61.svg"},934104:(e,t,n)=>{e.exports=n.p+"5113924998ee17c4f43a65b8cf2d0153.svg"},946137:(e,t,n)=>{e.exports=n.p+"a8007d2ecb3aec65119698bff7052451.svg"},692760:(e,t,n)=>{e.exports=n.p+"a50c50c963aab21b5c3d58e7fd06664e.svg"},698242:(e,t,n)=>{e.exports=n.p+"f3767d455e70dcdd1c8a3102e42c6d34.svg"},483683:(e,t,n)=>{e.exports=n.p+"72db7a1fbe5d3c861fe63c26f634b5d2.svg"},63685:(e,t,n)=>{e.exports=n.p+"a4e25b25c89b862150e6eeb520e67dd5.svg"},634737:(e,t,n)=>{e.exports=n.p+"8d224aa39e763dff664f330fdadeda3e.svg"},691634:(e,t,n)=>{e.exports=n.p+"2ebbb7dbd17b154a625b58b33738fc85.svg"},998240:(e,t,n)=>{e.exports=n.p+"3224278ae6dc432b7fbc0fc90b54686e.svg"},705206:(e,t,n)=>{e.exports=n.p+"984b386302bacf7fb81985ab31c5beec.png"},567012:(e,t,n)=>{e.exports=n.p+"a9efd5e06b5616d39a6ee4232211f9b0.svg"},862470:(e,t,n)=>{e.exports=n.p+"dd1ac77c281d77cfa4061925981469e2.svg"},140577:(e,t,n)=>{e.exports=n.p+"f106eb8ea1d67c1028cb37db383c6f58.svg"},140561:(e,t,n)=>{
e.exports=n.p+"eeacc28d3c62a7cf1154a2bc11968ad8.svg"},237018:(e,t,n)=>{e.exports=n.p+"6ac195d9605dfb0719e73f002fad38a8.svg"},172087:(e,t,n)=>{e.exports=n.p+"fc607b29b7d1dd57307a26b002c50674.svg"},31890:(e,t,n)=>{e.exports=n.p+"c23a59030cd2583c8b8ae0e85bc99737.svg"},222917:(e,t,n)=>{e.exports=n.p+"ec499e7dcc451566caeda997fa9265db.svg"},153996:(e,t,n)=>{e.exports=n.p+"e3da44ce48e0ff29426d0cfb99c2580c.svg"},742918:(e,t,n)=>{e.exports=n.p+"05d41aa7d58d190b8f7944755540c09d.svg"},470661:e=>{"use strict";e.exports=function(e){var a,o;if((e=String(e).toLowerCase()).length<3)return e;if(e.charCodeAt(0)===t){a=!0;e="Y"+e.substr(1)}E.test(e)?e=e.substr(0,e.length-2):g.test(e)&&(e=e.substr(0,e.length-1));if(o=_.exec(e))u.test(o[1])&&(e=e.substr(0,e.length-1));else if((o=h.exec(e))&&c.test(o[1])){e=o[1];m.test(e)?e+="e":O.test(e)?e=e.substr(0,e.length-1):d.test(e)&&(e+="e")}(o=v.exec(e))&&c.test(o[1])&&(e=o[1]+"i");(o=S.exec(e))&&u.test(o[1])&&(e=o[1]+n[o[2]])
;(o=b.exec(e))&&u.test(o[1])&&(e=o[1]+r[o[2]]);(o=I.exec(e))?s.test(o[1])&&(e=o[1]):(o=y.exec(e))&&s.test(o[1])&&(e=o[1]);(o=p.exec(e))&&(s.test(o[1])||l.test(o[1])&&!d.test(o[1]))&&(e=o[1]);f.test(e)&&s.test(e)&&(e=e.substr(0,e.length-1));a&&(e="y"+e.substr(1));return e};var t="y".charCodeAt(0),n={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},r={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""
},a="[aeiouy]",o="([^aeiou][^aeiouy]*)",i="([aeiouy][aeiou]*)",u=new RegExp("^([^aeiou][^aeiouy]*)?"+i+o),l=new RegExp("^([^aeiou][^aeiouy]*)?"+i+o+i+"?$"),s=new RegExp("^([^aeiou][^aeiouy]*)?("+i+o+"){2,}"),c=new RegExp("^([^aeiou][^aeiouy]*)?"+a),d=new RegExp("^"+o+a+"[^aeiouwxy]$"),f=/ll$/,p=/^(.+?)e$/,v=/^(.+?)y$/,y=/^(.+?(s|t))(ion)$/,h=/^(.+?)(ed|ing)$/,m=/(at|bl|iz)$/,_=/^(.+?)eed$/,g=/^.+?[^s]s$/,E=/^.+?(ss|i)es$/,O=/([^aeiouylsz])\1$/,S=new RegExp("^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$"),b=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/,I=new RegExp("^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$")}}]);
//# sourceMappingURL=a0b3129d2cb339e8d552.js.map