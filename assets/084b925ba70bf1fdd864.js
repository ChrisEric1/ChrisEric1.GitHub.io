(window.webpackJsonp=window.webpackJsonp||[]).push([[209],{1443:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;!function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=d();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=n?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}r.default=e,t&&t.set(e,r)}(r(1));var n,a=s(r(5)),o=s(r(185)),l=s(r(182)),i=r(18),u=s(r(1289));function s(e){return e&&e.__esModule?e:{default:e}}function d(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return d=function(){return e},e}function c(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),1===l)t.children=a;else if(l>1){for(var i=new Array(l),u=0;u<l;u++)i[u]=arguments[u+3];t.children=i}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var f=function(e){var t,r,n=e.currentPageIndex,s=e.hasNextPage,d=e.onChangePage,f=e.children,p=e.className,y=e.numPages;return c("div",{className:(0,a.default)(u.default.paginator,p)},void 0,f,c("div",{className:u.default.pageActions},void 0,c(o.default,{className:(0,a.default)(u.default.pageButtonPrev,(t={},t[u.default.disabled]=0===n,t)),onMouseDown:function(e){return e.preventDefault()},onClick:function(){n>0&&d(n-1)}},void 0,c(l.default,{className:u.default.pageButtonIcon,name:l.default.Names.CARET_LEFT})),null==y?null:c("div",{className:u.default.pageCount},void 0,i.Messages.Common.PAGINATOR_OF_PAGES.format({currentPage:n+1,numPages:y})),c(o.default,{className:(0,a.default)(u.default.pageButtonNext,(r={},r[u.default.disabled]=!s,r)),onClick:function(){s&&d(n+1)},onMouseDown:function(e){return e.preventDefault()}},void 0,c(l.default,{className:u.default.pageButtonIcon,name:l.default.Names.CARET_RIGHT}))))};f.displayName="Paginator";var p=f;t.default=p},1446:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ViewportWrapWidth=t.defaultSort=t.defaultCellValue=void 0;var n,a=v(r(1)),o=g(r(5)),l=g(r(57)),i=g(r(409)),u=g(r(131)),s=v(r(408)),d=v(r(182)),c=g(r(1443)),f=g(r(192)),p=g(r(1430)),y=g(r(1290));function g(e){return e&&e.__esModule?e:{default:e}}function h(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return h=function(){return e},e}function v(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=h();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=n?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}return r.default=e,t&&t.set(e,r),r}function m(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function P(){return(P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function N(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}function S(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),1===l)t.children=a;else if(l>1){for(var i=new Array(l),u=0;u<l;u++)i[u]=arguments[u+3];t.children=i}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var b=(0,l.default)({ASCENDING:null,DESCENDING:null}),C=(0,l.default)({RIGHT:null}),_=function(e,t){return e[t]},D=S("span",{className:y.default.defaultValue},void 0,"—");t.defaultCellValue=D;var w=function(e,t,r){void 0===r&&(r={});var n=e[r.columnKey],a=t[r.columnKey],o=r.sortDirection===b.ASCENDING;return"number"==typeof n&&"number"==typeof a?n>a?o?1:-1:n<a?o?-1:1:0:"string"==typeof n&&"string"==typeof a?r.sortDirection===b.ASCENDING?n.toString().localeCompare(a.toString()):a.toString().localeCompare(n.toString()):0};t.defaultSort=w;var T={SMALL:y.default.viewportSmall,MEDIUM:y.default.viewportMedium};t.ViewportWrapWidth=T;var E=function(e){var t=e.children;return S(s.GridSection,{wrap:s.GridSection.Wrap.NO_WRAP,className:y.default.header},void 0,t)};E.displayName="TableHeader";var O=function(e){var t,r=e.children,n=e.link,a=e.className,l=null!=n,i=S(s.GridSection,{className:(0,o.default)(a,(t={},t[y.default.rowWrapper]=!l,t)),wrap:s.GridSection.Wrap.NO_WRAP},void 0,r);return l?S(u.default,{className:(0,o.default)(y.default.rowLink,y.default.rowWrapper),to:n},void 0,i):i},A=function(e){var t,r=e.align,n=e.children,l=e.className,i=N(e,["align","children","className"]);return a.createElement(s.GridChild,P({className:(0,o.default)(y.default.cell,l,(t={},t[y.default.cellAlignRight]=r===C.RIGHT,t))},i),n)};A.displayName="TableCell";var R=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).handleClick=function(){var e=t.props,r=e.columnKey,n=e.onClick;null!=n&&n(r)},t}m(t,e);var r=t.prototype;return r.renderSortDirectionIndicator=function(e){var t,r=e.isCellRightAligned,n=this.props,a=n.activeColumnKey,l=n.columnKey,i=n.isSortable,u=n.sortDirection;return i?S(d.default,{name:d.IconNames.ARROW_DROP_DOWN,className:(0,o.default)(y.default.sortDirectionIndicator,(t={},t[y.default.sortDirectionIndicatorIsVisible]=null!=a&&a===l,t[y.default.sortDirectionIndicatorAscending]=u===b.ASCENDING,t[y.default.sortDirectionIndicatorDescending]=u===b.DESCENDING,t[y.default.sortDirectionIndicatorAlignRight]=r,t))}):null},r.render=function(){var e,t,r=this.props,n=r.children,l=r.align,u=r.isSortable,d=(r.onClick,N(r,["children","align","isSortable","onClick"])),c=l===C.RIGHT,f=this.renderSortDirectionIndicator({isCellRightAligned:c});return a.createElement(s.GridChild,P({},d,{onClick:this.handleClick}),S(i.default,{className:(0,o.default)((e={},e[y.default.headingSortable]=u,e))},void 0,S("div",{className:(0,o.default)(y.default.headingWrapper,(t={},t[y.default.headingWrapperAlignRight]=c,t))},void 0,c?f:null,S("div",{className:y.default.headingContent},void 0,n),c?null:f)))},t}(a.Component);R.displayName="TableHeaderCell";var I=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).state={activeColumnKey:null!=t.props.defaultSortKey?t.props.defaultSortKey:null,currentPageIndex:0,sortDirection:null!=t.props.defaultSortDirection?t.props.defaultSortDirection:b.ASCENDING},t.handleTableHeaderCellClick=function(e){t.setState(function(t){var r=e===t.activeColumnKey&&t.sortDirection===b.ASCENDING?b.DESCENDING:b.ASCENDING;return{activeColumnKey:e,sortDirection:r}})},t.handlePaginationChange=function(e){var r=t.props.onPageIndexChange;null!=r&&r(e),t.setState({currentPageIndex:e})},t.renderPagination=function(){var e=t.state.currentPageIndex,r=t.props,n=r.rows,a=r.rowsPerPage,o=r.shouldPaginate,l=r.shouldPaginateRequests;return l||o&&!(n.length<=a)?S(c.default,{currentPageIndex:e,hasNextPage:n.length>(e+1)*a,numPages:l?null:Math.ceil(n.length/a),onChangePage:t.handlePaginationChange}):null},t}m(t,e);var r=t.prototype;return r.renderTableHeader=function(){var e=this,t=this.props.columns,r=this.state,n=r.activeColumnKey,o=r.sortDirection;return S(E,{},void 0,t.map(function(t){return a.createElement(R,P({key:t.key,activeColumnKey:n,columnKey:t.key,isSortable:t.isSortable,onClick:t.isSortable?e.handleTableHeaderCellClick:null,sortDirection:o},t.cellProps),S("span",{className:y.default.headerCellCopy},void 0,t.heading),null==t.headingTooltip?null:S(p.default,{className:y.default.tooltipIcon,text:t.headingTooltip},void 0,S(d.default,{name:d.default.Names.QUESTION_MARK_CIRCLE})))}))},r.renderTableBody=function(){var e=this.props,t=e.defaultValue,r=e.rows,n=e.columns,o=e.rowsPerPage,l=e.shouldPaginate,u=e.sort,s=this.state,d=s.activeColumnKey,c=s.currentPageIndex,f=s.sortDirection,p=null==d?r:r.sort(function(e,t){return u(e,t,{columnKey:d,sortDirection:f})}),g=l?c*o:0,h=l?(c+1)*o:r.length;return p.slice(g,h).map(function(e){var r=n.map(function(r){var n=null!=r.render?r.render:_,o=S(i.default,{className:y.default.rowColumnName},void 0,r.heading||"");return a.createElement(A,P({key:r.key,align:r.align},r.cellProps),o,n(e,r.key)||t)});return a.createElement(O,P({key:e.id},e.rowProps),r)})},r.renderTotalRow=function(){var e=this.props,t=e.totalRow,r=e.columns,n=e.defaultValue;if(null==t)return null;var o=r.map(function(e){var r=null!=e.render?e.render:_;return a.createElement(A,P({key:e.key,align:e.align},e.cellProps),r(t,e.key)||n)});return a.createElement(O,P({className:y.default.totalRow,key:t.id},t.rowProps),o)},r.render=function(){var e=this.props,t=e.className,r=e.scrollerClassName,n=e.shouldScroll,a=e.tableWrapPoint,l=S(s.default,{className:(0,o.default)(t,a)},void 0,this.renderTableHeader(),this.renderTableBody(),this.renderTotalRow());return S("div",{},void 0,n?S(f.default,{className:r},void 0,l):l,this.renderPagination())},t}(a.Component);t.default=I,I.displayName="Table",I.CellAlignment=C,I.SortDirections=b,I.defaultProps={defaultValue:null,rowsPerPage:10,shouldScroll:!1,shouldPaginate:!1,sort:w}},1447:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=c(r(1)),o=s(r(5)),l=s(r(56)),i=c(r(182)),u=s(r(1291));function s(e){return e&&e.__esModule?e:{default:e}}function d(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return d=function(){return e},e}function c(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=d();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=n?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}return r.default=e,t&&t.set(e,r),r}function f(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),1===l)t.children=a;else if(l>1){for(var i=new Array(l),u=0;u<l;u++)i[u]=arguments[u+3];t.children=i}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var p=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).handleButtonClick=function(){var e=t.props,r=e.id,n=e.filename,a=e.onClick;null!=a&&a(r,n)},t}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.prototype.render=function(){var e=this.props,t=e.className,r=e.children,n=e.href,a=e.onClick;return f(l.default,{className:(0,o.default)(u.default.button,t),color:l.default.Color.PRIMARY,height:l.default.Height.SHORT,href:n,onClick:null!=a?this.handleButtonClick:null},void 0,f("div",{className:u.default.content},void 0,f(i.default,{className:u.default.icon,name:i.IconNames.DOWNLOAD}),f("div",{className:u.default.copy},void 0,r)))},n}(a.Component);t.default=p,p.displayName="CsvButton"},1838:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=_(r(1)),o=r(1448),l=b(r(12)),i=r(418),u=b(r(190)),s=_(r(127)),d=b(r(1443)),c=_(r(1446)),f=r(97),p=b(r(1447)),y=b(r(417)),g=b(r(412)),h=b(r(191)),v=b(r(410)),m=b(r(413)),P=r(3),N=_(r(18)),S=b(r(1403));function b(e){return e&&e.__esModule?e:{default:e}}function C(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return C=function(){return e},e}function _(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=C();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=n?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}return r.default=e,t&&t.set(e,r),r}function D(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),1===l)t.children=a;else if(l>1){for(var i=new Array(l),u=0;u<l;u++)i[u]=arguments[u+3];t.children=i}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var w=function(e,t,r){if(null!=r&&"date"===r.columnKey){var n=r.sortDirection===c.default.SortDirections.DESCENDING?t:e,a=r.sortDirection===c.default.SortDirections.DESCENDING?e:t,o="number"!=typeof n.id?Number(n.id):n.id,l="number"!=typeof a.id?Number(a.id):a.id;return o===l?0:o<l?-1:1}return(0,c.defaultSort)(e,t,r)},T=D(h.default,{}),E=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).beforeTableNode=a.createRef(),t.state={currentPageIndex:0,errorMessage:null,hasNextPage:!1,isLoading:null==t.props.payoutHistory},t.handlePaginationChange=function(e){t.setState({currentPageIndex:e},function(){var e=t.state.currentPageIndex,r=t.props.payoutHistory;null!=r&&r.length>=(e+1)*i.DEFAULT_PAYOUTS_PER_REQUEST&&t.fetchNextPage()})},t.fetchNextPage=function(){var e=t.props,r=e.match,n=e.payoutHistory,a=t.state.currentPageIndex,o=r.params.teamId;if(null!=n){var l=n[(a+1)*i.DEFAULT_PAYOUTS_PER_REQUEST-1];t.scrollToTopOfTable(),null!=l&&n.length<=(a+1)*i.DEFAULT_PAYOUTS_PER_REQUEST&&(0,i.fetchPayoutHistory)(o,l.id)}},t.scrollToTopOfTable=function(){null!=t.beforeTableNode.current&&t.beforeTableNode.current.scrollIntoView()},t.renderDownloadSkuReport=function(e){var r=t.props.match.params.teamId;return D(p.default,{className:S.default.downloadButton,onClick:function(){return(0,i.downloadPayoutReport)(r,e.id,P.PayoutReportTypes.SKU)}},void 0,N.Messages.PayoutHistory.BY_SKU)},t.renderDownloadTransactionReport=function(e){var r=t.props.match.params.teamId;return D(p.default,{className:S.default.downloadButton,onClick:function(){return(0,i.downloadPayoutReport)(r,e.id,P.PayoutReportTypes.TRANSACTION)}},void 0,N.Messages.PayoutHistory.BY_TRANSACTION)},t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var l=n.prototype;return l.componentDidMount=function(){var e=this,t=this.props,r=t.match,n=t.payoutHistory,a=r.params.teamId;null==n&&(0,i.fetchPayoutHistory)(a,null,2*i.DEFAULT_PAYOUTS_PER_REQUEST).then(function(){e.setState({isLoading:!1})}).catch(function(t){e.setState({isLoading:!1,errorMessage:(0,f.getMessageFromAPIError)(t,t.message)})})},l.getTableColumns=function(){return[{cellProps:{grow:1,shrink:1,style:{minWidth:100}},heading:N.Messages.PayoutHistory.DATE_RANGE,key:"date",render:this.renderDateRange},{cellProps:{grow:0,shrink:0,style:{width:100}},heading:N.Messages.PayoutHistory.STATUS,key:"status",render:this.renderStatus},{cellProps:{grow:0,shrink:0,style:{width:120}},heading:N.Messages.PayoutHistory.AMOUNT,key:"amount",render:this.renderAmount},{cellProps:{align:c.default.CellAlignment.RIGHT,className:S.default.downloadButtonCell,grow:0,shrink:0,style:{width:85}},key:"download-sku-report",render:this.renderDownloadSkuReport},{cellProps:{align:c.default.CellAlignment.RIGHT,className:S.default.downloadButtonCell,grow:0,shrink:0,style:{width:125}},key:"download-transaction-report",render:this.renderDownloadTransactionReport}]},l.renderAmount=function(e){return null==e.amount?null:(0,o.formatPrice)(e.amount,P.CurrencyCodes.USD,N.default.getLocale())},l.renderDateRange=function(e){var t=e.status===P.PayoutStatusTypes.OPEN?N.Messages.PayoutHistory.CURRENT:e.period_end;return D("div",{},void 0,D("span",{className:S.default.dateString},void 0,e.period_start)," – ",D("span",{className:S.default.dateString},void 0,t))},l.renderPagination=function(){var e=this.props.payoutHistory,t=this.state.currentPageIndex;return null==e||e.length===i.DEFAULT_PAYOUTS_PER_REQUEST?null:D(d.default,{currentPageIndex:t,hasNextPage:e.length>(t+1)*i.DEFAULT_PAYOUTS_PER_REQUEST,onChangePage:this.handlePaginationChange})},l.renderStatus=function(e){return(0,P.getPayoutStatusLabels)()[e.status]},l.renderPayoutHistoryTable=function(){var e=this.state,t=e.isLoading,r=e.currentPageIndex,n=e.errorMessage,o=this.props.payoutHistory;return t?T:null!=n?D(s.default,{type:s.AlertTypes.ERROR},void 0,n):null==o||0===o.length?D(y.default,{imageUri:P.Images.EMPTY_GENERIC,primaryCopy:N.Messages.PayoutHistory.NO_PAYOUTS_FOUND_PRIMARY,secondaryCopy:N.Messages.PayoutHistory.NO_PAYOUTS_FOUND_SECONDARY}):D(a.Fragment,{},void 0,a.createElement("div",{ref:this.beforeTableNode}),D(c.default,{defaultSortKey:"date",defaultSortDirection:c.default.SortDirections.DESCENDING,defaultValue:c.defaultCellValue,sort:w,columns:this.getTableColumns(),rows:o.slice(r*i.DEFAULT_PAYOUTS_PER_REQUEST,(r+1)*i.DEFAULT_PAYOUTS_PER_REQUEST),tableWrapPoint:c.ViewportWrapWidth.SMALL}),this.renderPagination())},l.render=function(){return D(a.Fragment,{},void 0,D(v.default,{},void 0,D(g.default,{},void 0,N.Messages.PayoutHistory.HEADING),D(m.default,{isFlush:!0},void 0,N.Messages.PayoutHistory.SUBHEADING)),D(v.default,{isFlush:!0},void 0,this.renderPayoutHistoryTable()))},n}(a.Component);E.displayName="PayoutHistory";var O=l.default.connectStores([u.default],function(e){var t=e.match.params.teamId;return{payoutHistory:u.default.getPayoutHistory(t)}})(E);t.default=O}}]);
//# sourceMappingURL=084b925ba70bf1fdd864.js.map