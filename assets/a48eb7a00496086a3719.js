(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[10675],{992769:(e,t,n)=>{e.exports=n.p+"b5b9c408c1b1f4356a6c21503357b8c7.mp4"},512639:(e,t,n)=>{e.exports=n.p+"f4be89b3c09171867faaef39d35e1b67.mp4"},98483:(e,t,n)=>{e.exports=n.p+"15f4e6ad3ace7590905fa4aceae5a76e.png"},842313:(e,t,n)=>{e.exports=n.p+"769f92d805fa8ca416f5c5877ac69f12.mp4"},27498:(e,t,n)=>{e.exports=n.p+"0be7f2b1876357da5283441d0c33bd3d.png"},909743:(e,t,n)=>{e.exports=n.p+"b8e840561f365a47a93b71b5eeaad845.png"},544035:(e,t,n)=>{e.exports=n.p+"08ed5fe901dd4f852da1ecd8f13dfc5a.png"},601845:(e,t,n)=>{e.exports=n.p+"e832e0d3ae05e24d29ceb3384113ea0c.mp4"},630670:(e,t,n)=>{"use strict";n.d(t,{v:()=>r});var r;!function(e){e.REPORT_PROBLEM_POST_STREAM="REPORT_PROBLEM_POST_STREAM";e.VIDEO_BACKGROUND_FEEDBACK="VIDEO_BACKGROUND_FEEDBACK";e.VOICE_CALL_FEEDBACK="VOICE_CALL_FEEDBACK";e.GUILD_ANALYTICS_GUILD_SETTINGS_MENU="GUILD_ANALYTICS_GUILD_SETTINGS_MENU";e.NOW_PLAYING_CONSENT_CARD="NOW_PLAYING_CONSENT_CARD"
;e.IOS_GUILD_NAV_EDUCATION="IOS_GUILD_NAV_EDUCATION";e.VOICE_PANEL_INTRODUCTION="VOICE_PANEL_INTRODUCTION";e.GUILD_SETTINGS_COMMUNITY_GUILD_UPSELL="GUILD_SETTINGS_COMMUNITY_GUILD_UPSELL";e.FAVORITE_EMOJI_TOOLTIP="FAVORITE_EMOJI_TOOLTIP";e.POST_ACTIVITY_FEEDBACK="POST_ACTIVITY_FEEDBACK";e.GUILD_DELETE_FEEDBACK="GUILD_DELETE_FEEDBACK";e.GUILD_LEAVE_FEEDBACK="GUILD_LEAVE_FEEDBACK";e.APPLICATION_COMMAND_TOOLTIP="APPLICATION_COMMAND_TOOLTIP";e.GUILD_CAP_INLINE_UPSELL="GUILD_CAP_INLINE_UPSELL";e.STAGE_CHANNEL_UPSELL="STAGE_CHANNEL_UPSELL";e.HUB_WAITLIST_UPSELL="HUB_WAITLIST_UPSELL";e.HUB_NEW="HUB_NEW";e.HUB_SECOND_EMAIL_CONNECTION_UPSELL="HUB_SECOND_EMAIL_CONNECTION_UPSELL";e.LIVE_STAGE_NOTIFICATION_BADGE="LIVE_STAGE_NOTIFICATION_BADGE";e.GUILD_EVENT_UPSELL="GUILD_EVENT_UPSELL";e.HUB_LINK_CHANNEL_NOTICE="HUB_LINK_CHANNEL_NOTICE";e.PREMIUM_PROGRESS_BAR_GUILD_HEADER_TOOLTIP="PREMIUM_PROGRESS_BAR_GUILD_HEADER_TOOLTIP"
;e.ANIMATED_GUILD_BANNER_GUILD_HEADER_TOOLTIP="ANIMATED_GUILD_BANNER_GUILD_HEADER_TOOLTIP";e.ANIMATED_GUILD_BANNER_SETTINGS_NEW_PILL="ANIMATED_GUILD_BANNER_SETTINGS_NEW_PILL";e.MULTI_ACCOUNT_TOOLTIP="MULTI_ACCOUNT_TOOLTIP";e.HUB_STUDY_ROOM_NOTICE="HUB_STUDY_ROOM_NOTICE";e.CHANNEL_BANNER_MEMBER_LIST_NOTICE="CHANNEL_BANNER_MEMBER_LIST_NOTICE";e.CHANGE_LANGUAGE_MODAL="CHANGE_LANGUAGE_MODAL";e.ACTIVITY_BEB_TUTORIAL="ACTIVITY_BEB_TUTORIAL";e.APP_DIRECTORY_SETTINGS_NEW_PILL="APP_DIRECTORY_SETTINGS_NEW_PILL";e.INVITE_SPLASH_GUILD_HEADER_TOOLTIP="INVITE_SPLASH_GUILD_HEADER_TOOLTIP";e.ANIMATED_VIDEO_BG_CAPERNITE_DAY_NEW="ANIMATED_VIDEO_BG_CAPERNITE_DAY_NEW";e.ANIMATED_VIDEO_BG_CAPERNITE_NIGHT_NEW="ANIMATED_VIDEO_BG_CAPERNITE_NIGHT_NEW";e.ANIMATED_VIDEO_BG_HACKER_DEN_NEW="ANIMATED_VIDEO_BG_HACKER_DEN_NEW";e.ANIMATED_VIDEO_BG_WUMPICE_NEW="ANIMATED_VIDEO_BG_WUMPICE_NEW";e.ANIMATED_VIDEO_BG_CUSTOM_TOOLTIP_NEW="ANIMATED_VIDEO_BG_CUSTOM_TOOLTIP_NEW"
;e.ANIMATED_VIDEO_BG_BIRTHDAY_1_NEW="ANIMATED_VIDEO_BG_BIRTHDAY_1_NEW";e.SOUNDBOARD_WHEEL_EDUCATION_MODAL="SOUNDBOARD_WHEEL_EDUCATION_MODAL";e.IN_APP_REPORTS_FEEDBACK="IN_APP_REPORTS_FEEDBACK";e.CLIPS_CHANNEL_ATTACH_REMINDER="CLIPS_CHANNEL_ATTACH_REMINDER"}(r||(r={}))},704560:(e,t,n)=>{"use strict";n.d(t,{r:()=>_,z:()=>c});var r=n(180735),o=n(539519),i=n(615457),u=n(131559);function _(e,t){var n=t===o.Yn.STREAM?r.h.STREAM:r.h.USER;return Math.abs((0,i.P)(n)-(0,i.P)(e))<1?n:e}function c(e){switch(e){case o.Yn.DEFAULT:return u.u0.USER;case o.Yn.STREAM:return u.u0.STREAM;default:return}}},535312:(e,t,n)=>{"use strict";n.d(t,{P:()=>_});n(667294),n(202351);var r=n(473419),o=(n(473903),n(850841)),i=n(296872);function u(e,t){var n=(0,i.Gx)(e,t.id);return(0,i.rD)(n)&&!o.ZP.canUseCustomBackgrounds(t)?null:"number"!=typeof n||(0,i.sd)(n)?n:null}function _(e){var t;return u(null===(t=r.Z.settings.voiceAndVideo)||void 0===t?void 0:t.videoBackgroundFilterDesktop,e)}},597246:(e,t,n)=>{"use strict"
;n.d(t,{RI:()=>v,KH:()=>y,Nm:()=>B,XV:()=>L,Up:()=>b,GS:()=>G,Ff:()=>C});var r=n(281110),o=n(744564),i=n(917019),u=n(604945),_=n(473903),c=n(535312),a=n(296872),s=n(473708);function E(e){E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return E(e)}function l(e,t){return!t||"object"!==A(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function I(e,t){I=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return I(e,t)}var f,O,A=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=E(e)
;if(t){var o=E(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}!function(e){e.ASSET_SIZE="BINARY_TYPE_MAX_SIZE"}(f||(f={}));!function(e){e.ASSET="asset"}(O||(O={}));const T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&I(e,t)}(n,e);var t=p(n);function n(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var o,i,u=(o=t.call(this,e,r,s.Z.Messages.VIDEO_BACKGROUND_ERROR_UPLOAD)).getFieldErrors(O.ASSET);null!=u&&(null===(i=u[0])||void 0===i?void 0:i.code)===f.ASSET_SIZE&&(o.message=s.Z.Messages.VIDEO_BACKGROUND_ERROR_UPLOAD_FILE_SIZE);return o}return n}(r.Z.V8APIError);var d=n(2590);function N(e,t,n,r,o,i,u){try{var _=e[i](u),c=_.value}catch(e){n(e);return}_.done?t(c):Promise.resolve(c).then(r,o)}
function D(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function u(e){N(i,r,o,u,_,"next",e)}function _(e){N(i,r,o,u,_,"throw",e)}u(void 0)}))}}var h=function(e,t){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:_(0),throw:_(1),return:_(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function _(i){return function(_){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:u.label++;return{value:i[1],done:!1};case 5:u.label++;r=i[1];i=[0];continue;case 7:i=u.ops.pop();u.trys.pop();continue;default:if(!(o=u.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}
if(6===i[0]&&u.label<o[1]){u.label=o[1];o=i;break}if(o&&u.label<o[2]){u.label=o[2];u.ops.push(i);break}o[2]&&u.ops.pop();u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,_])}}};function L(){return S.apply(this,arguments)}function S(){return(S=D((function(){var e;return h(this,(function(t){switch(t.label){case 0:return[4,r.Z.get(d.ANM.VIDEO_FILTER_ASSETS)];case 1:e=t.sent();o.Z.dispatch({type:"VIDEO_FILTER_ASSETS_FETCH_SUCCESS",assets:e.body});return[2,e]}}))}))).apply(this,arguments)}function C(e,t,n){return P.apply(this,arguments)}function P(){return(P=D((function(e,t,n){var i,u;return h(this,(function(_){switch(_.label){case 0:_.trys.push([0,2,,3]);return[4,r.Z.post({url:d.ANM.VIDEO_FILTER_ASSETS,body:{type:t,asset:e,last_used:null==n?void 0:n.toISOString()}})];case 1:i=_.sent();o.Z.dispatch({type:"VIDEO_FILTER_ASSET_UPLOAD_SUCCESS",videoFilterAsset:i.body});return[2,i.body];case 2:u=_.sent()
;throw new T(u);case 3:return[2]}}))}))).apply(this,arguments)}function y(e){return R.apply(this,arguments)}function R(){return(R=D((function(e){var t;return h(this,(function(n){switch(n.label){case 0:return[4,r.Z.delete(d.ANM.VIDEO_FILTER_ASSET(e.id))];case 1:n.sent();t=(0,c.P)(_.default.getCurrentUser());(0,a.rD)(t)&&t.id===e.id&&b(null);o.Z.dispatch({type:"VIDEO_FILTER_ASSET_DELETE_SUCCESS",videoFilterAsset:e});return[2]}}))}))).apply(this,arguments)}function b(e){return U.apply(this,arguments)}function U(){return(U=D((function(e){var t;return h(this,(function(n){switch(n.label){case 0:return[4,i.hW.updateAsync("voiceAndVideo",(function(t){t.videoBackgroundFilterDesktop=(0,a.i7)(e)}),i.fy.FREQUENT_USER_ACTION)];case 1:n.sent();return(0,a.rD)(e)?[4,r.Z.post(d.ANM.VIDEO_FILTER_ASSET_LAST_USED(e.id))]:[3,3];case 2:t=n.sent();o.Z.dispatch({type:"VIDEO_SAVE_LAST_USED_BACKGROUND_OPTION",backgroundOption:t.body});return[3,4];case 3:o.Z.dispatch({
type:"VIDEO_SAVE_LAST_USED_BACKGROUND_OPTION",backgroundOption:e});n.label=4;case 4:return[2]}}))}))).apply(this,arguments)}function v(e){u.Z.isSupported()&&o.Z.dispatch({type:"MEDIA_ENGINE_APPLY_MEDIA_FILTER_SETTINGS",settings:e})}function G(){u.Z.isSupported()&&o.Z.dispatch({type:"MEDIA_ENGINE_APPLY_MEDIA_FILTER_SETTINGS_START"})}function B(){o.Z.dispatch({type:"MEDIA_ENGINE_APPLY_MEDIA_FILTER_SETTINGS_ERROR"})}},492886:(e,t,n)=>{"use strict";n.d(t,{Z:()=>R});var r=n(202351),o=n(539519),i=n(744564),u=n(473419),_=n(604945),c=n(715107),a=n(473903),s=n(296872);function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function I(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function f(e){
f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return f(e)}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){I(e,t,n[t])}))}return e}function A(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function p(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function T(e,t){T=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return T(e,t)}var d=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}var D=!1,h=null,L=!1,S={};function C(e){var t,n=a.default.getCurrentUser();if(null==n)return!1;var r=null!=e?e:(0,s.Gx)(null===(t=u.Z.settings.voiceAndVideo)||void 0===t?void 0:t.videoBackgroundFilterDesktop,n.id)
;return null!=c.Z.getVoiceChannelId()&&_.Z.isVideoEnabled()&&null!=r}function P(){h!==c.Z.getVoiceChannelId()&&(L=!1);C()&&(L=!0);h=c.Z.getVoiceChannelId()}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&T(e,t)}(n,e);var t=N(n);function n(){E(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(u.Z,c.Z,_.Z);this.syncWith([c.Z,_.Z],P)};r.__getLocalVars=function(){return{hasBeenApplied:D,currentVoiceChannelId:h,hasUsedBackgroundInCall:L,videoFilterAssets:S}};!function(e,t,n){t&&l(e.prototype,t);n&&l(e,n)}(n,[{key:"videoFilterAssets",get:function(){return S}},{key:"hasBeenApplied",get:function(){return D}},{key:"hasUsedBackgroundInCall",get:function(){return L}}]);return n}(r.ZP.Store);y.displayName="VideoBackgroundStore";const R=new y(i.Z,{
VIDEO_FILTER_ASSETS_FETCH_SUCCESS:function(e){var t=e.assets;S=t.reduce((function(e,t){return A(O({},e),I({},t.id,t))}),{})},VIDEO_FILTER_ASSET_UPLOAD_SUCCESS:function(e){var t=e.videoFilterAsset;S=A(O({},S),I({},t.id,t))},VIDEO_FILTER_ASSET_DELETE_SUCCESS:function(e){var t=e.videoFilterAsset;delete(S=O({},S))[t.id]},VIDEO_SAVE_LAST_USED_BACKGROUND_OPTION:function(e){C(e.backgroundOption)&&(L=!0)},MEDIA_ENGINE_APPLY_MEDIA_FILTER_SETTINGS:function(e){var t=e.settings;o.TO.CAMERA_BACKGROUND_LIVE in t&&(D=!0)}})},296872:(e,t,n)=>{"use strict";n.d(t,{rD:()=>s,sd:()=>E,TA:()=>I,V$:()=>f,Bh:()=>O,g5:()=>A,$w:()=>p,i7:()=>T,Gx:()=>d});var r=n(396043),o=n(61209),i=n(69085),u=n(652591),_=n(775173),c=n(232806),a=n(2590);function s(e){return null!=e&&"object"==typeof e&&"id"in e&&e.type===c.xV.BACKGROUND}function E(e){return"number"==typeof e&&e in c.dp}function l(e){return E(e)?c.X7.includes(e):!!s(e)&&((0,_.xR)(e.asset)||(0,_.ay)(e.asset))}function I(e){return null!=e?"Video Background":"None"}
function f(e){return null==e?"None":s(e)?"Custom":"blur"===e?"Blur":"Preset - ".concat(function(e){switch(e){case c.dp.OPTION_1:return"Cybercity";case c.dp.OPTION_2:return"Discord the Movie";case c.dp.OPTION_3:return"Wumpus Vacation";case c.dp.OPTION_4:return"Vaporwave";case c.dp.OPTION_7:return"Capernite Day";case c.dp.OPTION_8:return"Capernite Night";case c.dp.OPTION_9:return"Hacker Den";case c.dp.OPTION_10:return"Wumpice"}}(e))}function O(e,t,n){var _=i.Z.getGuildId(),c=i.Z.getChannelId(),s=o.Z.getChannel(c),E=(0,r.kO)(_,c,!0);u.default.track(a.rMx.VIDEO_EFFECT_UPDATED,{location:t,effect_type:I(e),effect_detail:f(e),effect_state:n,channel_id:c,channel_type:null==s?void 0:s.type,guild_id:_,voice_state_count:E.voice_state_count,video_stream_count:E.video_stream_count,media_session_id:i.Z.getMediaSessionId(),rtc_connection_id:i.Z.getRTCConnectionId(),is_animated:l(e)})}function A(e,t,n){u.default.track(a.rMx.VIDEO_BACKGROUND_ADDED,{is_animated:l(e),is_video:t,is_from_tenor:n})}
function p(e){u.default.track(a.rMx.VIDEO_BACKGROUND_DELETED,{is_animated:l(e)})}function T(e){return null==e?{oneofKind:void 0}:s(e)?{oneofKind:"customAsset",customAsset:{id:e.id,assetHash:e.asset}}:"blur"===e?{oneofKind:"blur",blur:{useBlur:!0}}:{oneofKind:"presetOption",presetOption:e}}function d(e,t){if(null==e||void 0===e.oneofKind)return null;switch(e.oneofKind){case"customAsset":return{type:c.xV.BACKGROUND,id:e.customAsset.id,user_id:t,asset:e.customAsset.assetHash};case"blur":return e.blur.useBlur?"blur":null;case"presetOption":return e.presetOption}}},359721:(e,t,n)=>{"use strict";n.d(t,{wG:()=>C,FU:()=>y,eH:()=>b});var r=n(441143),o=n.n(r),i=n(539519),u=n(473903),_=n(775173),c=n(535312),a=n(597246),s=n(492886),E=n(296872),l=n(266348),I=n(630926),f=n(232806),O=n(2590);function A(e,t,n,r,o,i,u){try{var _=e[i](u),c=_.value}catch(e){n(e);return}_.done?t(c):Promise.resolve(c).then(r,o)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){
var i=e.apply(t,n);function u(e){A(i,r,o,u,_,"next",e)}function _(e){A(i,r,o,u,_,"throw",e)}u(void 0)}))}}var T=function(e,t){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:_(0),throw:_(1),return:_(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function _(i){return function(_){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:u.label++;return{value:i[1],done:!1};case 5:u.label++;r=i[1];i=[0];continue;case 7:i=u.ops.pop();u.trys.pop();continue;default:if(!(o=u.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1];o=i;break}if(o&&u.label<o[2]){u.label=o[2]
;u.ops.push(i);break}o[2]&&u.ops.pop();u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,_])}}};function d(e){return new Promise((function(t,n){var r=new Image;r.crossOrigin="anonymous";r.onload=function(){var e=document.createElement("canvas");e.width=f.HE.width;e.height=f.HE.height;var n=e.getContext("2d");o()(null!=n,"Canvas context is missing");var i=r.height/r.width,u=f.HE.height,_=f.HE.height/i,c=(e.width-_)/2,a=(e.height-u)/2;n.drawImage(r,c,a,_,u);var s=n.getImageData(0,0,e.width,e.height);t({data:s.data,width:s.width,height:s.height,pixelFormat:"rgba"})};r.onerror=function(e){return n(e)};r.src=e}))}function N(e){return D.apply(this,arguments)}function D(){return(D=p((function(e){var t,n;return T(this,(function(r){switch(r.label){case 0:return[4,fetch(e)];case 1:return[4,r.sent().blob()];case 2:t=r.sent();n=Uint8ClampedArray.bind;return[4,t.arrayBuffer()];case 3:
return[2,new(n.apply(Uint8ClampedArray,[void 0,r.sent()]))]}}))}))).apply(this,arguments)}function h(e,t,n,r,o){(0,a.RI)(function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({},e,{graph:n,target:t,image:r,blob:o}))}function L(e,t,n){return S.apply(this,arguments)}function S(){return(S=p((function(e,t,n){var r,o,u,c,s,E,I,O,A;return T(this,(function(p){switch(p.label){case 0:r=!1;if(null==n)return[2,h(e,t,i.zZ.NONE)];if(n===f.f7)return[2,h(e,t,i.zZ.BACKGROUND_BLUR)];if("string"==typeof n||"number"==typeof n){u=(0,l.Z)()[n];r=null!==(c=u.isVideo)&&void 0!==c&&c;o=u.source}else{s=n.asset;r=(0,_.xR)(s)||(0,_.ay)(s);o=(0,_.rI)({userId:n.user_id,assetId:n.id,assetHash:s,size:f.HE.width})}if(null==o)return[2];p.label=1;case 1:p.trys.push([1,8,,9]);return r?[3,3]:[4,d(o)];case 2:I=p.sent();return[3,4];case 3:I=void 0;p.label=4;case 4:E=I;return r?[4,N(o)]:[3,6];case 5:A=p.sent();return[3,7];case 6:A=void 0;p.label=7;case 7:O=A
;h(e,t,i.zZ.BACKGROUND_REPLACEMENT,E,O);return[3,9];case 8:p.sent();(0,a.Nm)();return[3,9];case 9:return[2]}}))}))).apply(this,arguments)}function C(e,t){return P.apply(this,arguments)}function P(){return(P=p((function(e,t){var n,r,o;return T(this,(function(u){switch(u.label){case 0:n=t.track,r=void 0===n||n,o=t.location;return[4,L(i.TO.CAMERA_BACKGROUND_LIVE,{type:i.W$.INPUT_DEVICE},e)];case 1:u.sent();r&&(0,E.Bh)(e,o,"Enabled");return[2]}}))}))).apply(this,arguments)}function y(e,t,n){return R.apply(this,arguments)}function R(){return(R=p((function(e,t,n){var r,o,u;return T(this,(function(_){switch(_.label){case 0:r=n.track,o=void 0===r||r,u=n.location;(0,a.GS)();return[4,L(i.TO.CAMERA_BACKGROUND_PREVIEW,{type:i.W$.STREAM,streamId:t},e)];case 1:_.sent();o&&(0,E.Bh)(e,u,"Preview");return[2]}}))}))).apply(this,arguments)}function b(){var e=u.default.getCurrentUser();if(null!=e){var t=(0,c.P)(e);(0,I.Z)()&&!s.Z.hasBeenApplied&&null!=t&&C(t,{track:!1}).catch(O.dG4)}}},266348:(e,t,n)=>{
"use strict";n.d(t,{Z:()=>L});var r=n(232806),o=n(630670),i=n(473708),u=n(992769),_=n.n(u),c=n(512639),a=n.n(c),s=n(98483),E=n.n(s),l=n(842313),I=n.n(l),f=n(27498),O=n.n(f),A=n(909743),p=n.n(A),T=n(544035),d=n.n(T),N=n(601845),D=n.n(N);function h(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}const L=function(){var e;return h(e={},r.dp.OPTION_1,{id:r.dp.OPTION_1,source:E(),name:i.Z.Messages.VIDEO_BACKGROUND_DEFAULT_BACKGROUND_NAME_1}),h(e,r.dp.OPTION_2,{id:r.dp.OPTION_2,source:O(),name:i.Z.Messages.VIDEO_BACKGROUND_DEFAULT_BACKGROUND_NAME_2}),h(e,r.dp.OPTION_3,{id:r.dp.OPTION_3,source:p(),name:i.Z.Messages.VIDEO_BACKGROUND_DEFAULT_BACKGROUND_NAME_3}),h(e,r.dp.OPTION_4,{id:r.dp.OPTION_4,source:d(),name:i.Z.Messages.VIDEO_BACKGROUND_DEFAULT_BACKGROUND_NAME_4}),h(e,r.dp.OPTION_7,{id:r.dp.OPTION_7,source:_(),name:i.Z.Messages.VIDEO_BACKGROUND_DEFAULT_BACKGROUND_NAME_7,isVideo:!0,
hotspotLocation:o.v.ANIMATED_VIDEO_BG_CAPERNITE_DAY_NEW}),h(e,r.dp.OPTION_8,{id:r.dp.OPTION_8,source:a(),name:i.Z.Messages.VIDEO_BACKGROUND_DEFAULT_BACKGROUND_NAME_8,isVideo:!0,hotspotLocation:o.v.ANIMATED_VIDEO_BG_CAPERNITE_NIGHT_NEW}),h(e,r.dp.OPTION_9,{id:r.dp.OPTION_9,source:I(),name:i.Z.Messages.VIDEO_BACKGROUND_DEFAULT_BACKGROUND_NAME_9,isVideo:!0,hotspotLocation:o.v.ANIMATED_VIDEO_BG_HACKER_DEN_NEW}),h(e,r.dp.OPTION_10,{id:r.dp.OPTION_10,source:D(),name:i.Z.Messages.VIDEO_BACKGROUND_DEFAULT_BACKGROUND_NAME_10,isVideo:!0,hotspotLocation:o.v.ANIMATED_VIDEO_BG_WUMPICE_NEW}),e}},630926:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(604945),o=n(36256);function i(e){return e.supports(o.AN.MEDIAPIPE)&&Object.values(e.getVideoDevices()).length>0}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.Z;return i(e)}}}]);
//# sourceMappingURL=a48eb7a00496086a3719.js.map