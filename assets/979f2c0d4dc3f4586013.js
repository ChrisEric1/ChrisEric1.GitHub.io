"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[41189],{626061:(e,t,n)=>{n.d(t,{sE:()=>u,L_:()=>d,nj:()=>f});var r=n(675860),o=n(173436),i=n(158033),a=n(461061);function s(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){s(i,r,o,a,c,"next",e)}function c(e){s(i,r,o,a,c,"throw",e)}a(void 0)}))}}var l=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,
o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function u(e,t){r.Z.get({url:a.ANM.GUILD_ROLE_CONNECTIONS_CONFIGURATION(e,t)}).then((function(e){var n=[];e.body.length>0&&(n=e.body.map((function(e){return e.map((function(e){return{connectionType:e.connection_type,connectionMetadataField:e.connection_metadata_field,applicationId:e.application_id,operator:e.operator,value:e.value}}))})));o.Z.dispatch({
type:"GUILD_ROLE_CONNECTIONS_CONFIGURATIONS_FETCH_SUCCESS",roleId:t,roleConnectionConfigurations:n})})).catch((function(){}))}function d(e,t,n){return p.apply(this,arguments)}function p(){return(p=c((function(e,t,n){var s,c;return l(this,(function(l){switch(l.label){case 0:s=n.map((function(e){return e.map((function(e){return{connection_type:e.connectionType,connection_metadata_field:e.connectionMetadataField,application_id:e.applicationId,operator:e.operator,value:e.value}}))}));return[4,r.Z.put({url:a.ANM.GUILD_ROLE_CONNECTIONS_CONFIGURATION(e,t),body:0===s.length?[]:s,oldFormErrors:!0}).then((function(e){var t=[];e.body.length>0&&(t=e.body.map((function(e){return e.map((function(e){return{connectionType:e.connection_type,connectionMetadataField:e.connection_metadata_field,applicationId:e.application_id,operator:e.operator,value:e.value}}))})));return t}))];case 1:c=l.sent();return[4,(0,i.H)(e,t,!1)];case 2:l.sent();o.Z.dispatch({
type:"GUILD_ROLE_CONNECTIONS_CONFIGURATIONS_FETCH_SUCCESS",roleId:t,roleConnectionConfigurations:c});return[2]}}))}))).apply(this,arguments)}function f(){return h.apply(this,arguments)}function h(){return(h=c((function(){return l(this,(function(e){switch(e.label){case 0:return[4,r.Z.get({url:a.ANM.APPLICATION_USER_ROLE_CONNECTIONS})];case 1:return[2,e.sent().body]}}))}))).apply(this,arguments)}},841189:(e,t,n)=>{n.r(t);n.d(t,{default:()=>fe})
;var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),s=n(441143),c=n.n(s),l=n(496486),u=n.n(l),d=n(363010),p=n(331535),f=n(690217),h=n(354290),C=n(956345),N=n(688087),O=n(952013),m=n(332233),v=n(23816),E=n(500847),y=n(808525),_=n(832010),g=n(40188),S=n(422058),T=n(775041),b=n(631134),x=n(356004),A=n(950008),j=n(212218),I=n(940712),P=n(649762),R=n(757987),M=n(414597),w=n(983067),D=n(217039),L=n(436035),Z=n(67416),U=n(897576),G=n(725002),k=n(932847),H=n(626061),B=n(144857),F=n(692930),V=n(467532),z=n(783848),K=n(404769),Y=n(995740),Q=n(461061),W=n(86030),X=n(959797),$=n(989169),q=n.n($);function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ee(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,o)}function te(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ee(i,r,o,a,s,"next",e)}function s(e){ee(i,r,o,a,s,"throw",e)}
a(void 0)}))}}function ne(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ne(e,t,n[t])}))}return e}function oe(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function ie(e,t){return function(e){if(Array.isArray(e))return e
}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ae,se=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},
"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function ce(e){var t=e.platformType,n=e.className,o=(0,O.ZP)(),i=m.Z.get(t);return(0,
r.jsx)("img",{src:o===Q.BRd.LIGHT?i.icon.lightSVG:i.icon.darkSVG,alt:"",className:a()(q().platformIcon,n)})}function le(e){var t=e.channel,n=e.className,o=(0,y.KS)(t);return(0,r.jsxs)("div",{className:a()(q().channelName,n),children:[null!=o?(0,r.jsx)(o,{className:q().channelNameIcon}):null,(0,r.jsx)(p.X6,{variant:"heading-lg/semibold",color:"text-normal",className:q().channelNameText,children:t.name})]})}function ue(e){var t,n=e.connectionType,o=e.connectionMetadataField,i=e.operator,a=e.value,s=e.result,c=e.description,l=null;if(null!=c)switch(i){case Y.iO.LESS_THAN:l=X.Z.Messages.CONNECTIONS_ROLE_RULE_GENERIC.format({description:c,count:Math.max(0,Number(a)-1)});break;case Y.iO.GREATER_THAN:l=X.Z.Messages.CONNECTIONS_ROLE_RULE_GENERIC.format({description:c,count:Math.max(0,Number(a)+1)});break;default:l=c}else{var u;switch(i){case Y.iO.EQUAL:u=X.Z.Messages.CONNECTIONS_CONNECT_ACCOUNTS_MODAL_MUST_BE
;n===Q.ABu.PAYPAL&&o===Y.PC.PAYPAL_VERIFIED&&(u=X.Z.Messages.CONNECTIONS_CONNECT_ACCOUNTS_MODAL_MUST_HAVE_A);break;case Y.iO.NOT_EQUAL:u=X.Z.Messages.CONNECTIONS_CONNECT_ACCOUNTS_MODAL_MUST_NOT_BE;break;case Y.iO.LESS_THAN:u=X.Z.Messages.CONNECTIONS_CONNECT_ACCOUNTS_MODAL_MUST_HAVE_AT_MOST;break;case Y.iO.GREATER_THAN:u=X.Z.Messages.CONNECTIONS_CONNECT_ACCOUNTS_MODAL_MUST_HAVE_AT_LEAST;break;case void 0:case null:return null}if(null==(l=(0,B.n_)({connectionType:n,connectionMetadataField:o,operator:i,operatorText:u,value:a})))return null}t=s?"header-secondary":"text-danger";return(0,r.jsx)(p.xv,{variant:"text-xs/normal",color:t,className:q().connectionsCheck,children:l})}function de(e){var t=e.eligibilityStatesGroups,n=e.onPlatformConnect,i=e.onPlatformConnected,s=ie(o.useState({}),2),l=s[0],d=s[1],f=ie(o.useState(0),2),h=f[0],C=f[1],O=ie(o.useState(null),2),v=O[0],E=O[1],y=ie(o.useState(null),2),g=y[0],S=y[1],b=o.useMemo((function(){return u().flatten(t)}),[t]),x=o.useMemo((function(){
return u().groupBy(b,(function(e){return"".concat(e.connection_type).concat(null!=e.application_id?":".concat(e.application_id):"")}))}),[b]);o.useEffect((function(){return C(Date.now())}),[b]);o.useEffect((function(){if(null!=v){var e=x["".concat(v).concat(null!=g?":".concat(g.id):"")];if(null!=e){e.every((function(e){return e.result}))&&i(v,g)}}}),[x,v,g,i]);var A=(0,_.Sl)(Q.Ilk.GREEN_330).hex;return(0,r.jsx)(r.Fragment,{children:Object.keys(x).sort((function(e,t){var n=x[e].every((function(e){return e.result})),r=x[t].every((function(e){return e.result}));return!0===n&&!1===r?1:!1===n&&!0===r?-1:0})).map((function(e){var t,o=x[e],i=o.find((function(e){return null==e.operator})),s=o.filter((function(e){return null!=e.operator})),u=(null==i||i.result)&&s.every((function(e){return e.result})),f=o.find((function(e){return null!=e.application}));try{t=m.Z.get(e)}catch(e){}var C,O,v,y=null==f?void 0:f.application,_=null!=(null==y?void 0:y.bot)?new T.Z(y.bot):null
;B.SJ.includes(null!==(C=null==y?void 0:y.id)&&void 0!==C?C:"")?O=(0,r.jsx)(F.Z,{className:q().botTag,color:A,size:16}):null!=_&&(O=(0,r.jsx)(P.Z,{className:q().botTag,verified:_.isVerifiedBot()}));var g,b,j,I,L=l[null!==(v=null==t?void 0:t.type)&&void 0!==v?v:Y.Kt],Z=!u&&null!=L&&L<=h;g=u?(0,r.jsx)(w.Z,{className:q().connectionsChecksGroupCheckmark}):Z?(0,r.jsx)(p.zx,{size:p.zx.Sizes.TINY,look:p.zx.Looks.LINK,color:p.zx.Colors.LINK,className:q().connectionsChecksGroupRetryButton,children:X.Z.Messages.RETRY}):(0,r.jsx)(M.Z,{direction:M.Z.Directions.RIGHT,className:q().connectionsChecksGroupCaret});(null==t?void 0:t.type)===Q.ABu.STEAM&&(b=X.Z.Messages.CONNECTIONS_STEAM_TOOLTIP);return(0,r.jsxs)(p.P3,{className:a()(q().connectionsChecksGroup,u?q().connectionsChecksGroupPassed:null),onClick:u?void 0:function(){return function(e,t){(0,z.Z)(e,"Verified Roles Connect Accounts Modal",null==t?void 0:t.role_connections_verification_url);d(oe(re({},l),ne({},e,Date.now())));E(e)
;S(null!=t?t:null);n()}(null!==(j=null==t?void 0:t.type)&&void 0!==j?j:Y.Kt,y)},children:[!u&&Z?(0,r.jsx)("div",{className:q().connectionsChecksGroupRequirementsNotMet,children:(0,r.jsx)(p.xv,{variant:"text-xs/normal",color:"always-white",children:X.Z.Messages.CONNECTIONS_CONNECT_ACCOUNTS_MODAL_REQUIREMENTS_NOT_MET})}):null,null!=t?(0,r.jsx)(ce,{platformType:t.type}):null,null!=_?(0,r.jsx)(N.Z,{user:_}):null,(0,r.jsxs)("div",{className:q().connectionsChecksGroupTextContainer,children:[(0,r.jsxs)("div",{className:q().connectionsChecksGroupTextNameContainer,children:[(0,r.jsx)(p.xv,{variant:"text-md/medium",color:"header-primary",children:null!==(I=null==t?void 0:t.name)&&void 0!==I?I:null==y?void 0:y.name}),O,null!=b?(0,r.jsx)(R.ZP,{text:b,children:function(e){return(0,r.jsx)(D.Z,oe(re({},e),{className:q().connectionsChecksGroupTextNameInfoIcon}))}}):null]}),s.map((function(e){var t=e.connection_type,n=e.connection_metadata_field,o=e.operator,i=e.value,a=e.result,s=e.description
;c()(null!=n,"connectionMetadataField is null");c()(null!=o,"operator is null");c()(null!=i,"value is null");return(0,r.jsx)(ue,{connectionType:t,connectionMetadataField:n,operator:o,value:i,result:a,description:s},n)}))]}),g]},e)}))})}function pe(e){var t=e.account,n=e.setShowPreviewInvisibleIcon,i=e.setShowPreviewMetadata,a=ie(o.useState(t.friendSync),2),s=a[0],c=a[1],l=ie(o.useState(t.showActivity),2),u=l[0],d=l[1],h=ie(o.useState(1===t.metadataVisibility),2),C=h[0],N=h[1],O=ie(o.useState(1===t.visibility),2),v=O[0],E=O[1];o.useEffect((function(){n(!v);i(C)}),[]);var y,_,g,S=m.Z.get(t.type);Q.BFP.has(t.type)&&(y=(0,r.jsx)(p.j7,{className:q().accountConnectedPrivacyOptionsSwitchItem,hideBorder:!0,value:s,onChange:function(e){c(e);f.Z.setFriendSync(t.type,t.id,e)},children:(0,r.jsx)(p.xv,{variant:"text-sm/semibold",children:X.Z.Messages.SYNC_FRIENDS})}));Q.vbS.has(t.type)&&(_=(0,r.jsx)(p.j7,{className:q().accountConnectedPrivacyOptionsSwitchItem,hideBorder:!0,value:u,
onChange:function(e){d(e);f.Z.setShowActivity(t.type,t.id,e)},children:(0,r.jsx)(p.xv,{variant:"text-sm/semibold",children:X.Z.Messages.DISPLAY_ACTIVITY.format({platform:S.name})})}));!0===S.hasMetadata&&(g=(0,r.jsx)(p.j7,{className:q().accountConnectedPrivacyOptionsSwitchItem,hideBorder:!0,value:C,disabled:!v,onChange:function(e){i(e);N(e);f.Z.setMetadataVisibility(t.type,t.id,e?1:0)},children:(0,r.jsx)(p.xv,{variant:"text-sm/semibold",children:X.Z.Messages.DISPLAY_DETAILS_ON_PROFILE})}));return(0,r.jsxs)("div",{className:q().accountConnectedPrivacyOptionsContainer,children:[(0,r.jsx)(p.j7,{className:q().accountConnectedPrivacyOptionsSwitchItem,hideBorder:!0,value:v,onChange:function(e){n(!e);E(e);f.Z.setVisibility(t.type,t.id,e?1:0)},children:(0,r.jsx)(p.xv,{variant:"text-sm/semibold",children:X.Z.Messages.DISPLAY_ON_PROFILE})}),g,_,y]})}!function(e){e[e.CHECKS_REQUIRED=0]="CHECKS_REQUIRED";e[e.ACCOUNT_CONNECTED=1]="ACCOUNT_CONNECTED";e[e.ROLE_GRANTED=2]="ROLE_GRANTED"}(ae||(ae={}))
;function fe(e){var t=e.transitionState,n=e.onClose,i=e.guildId,a=e.role,s=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];null==n||n();e&&(0,U.Mr)(K.s$,W.z1)},l=function(){s(!0);C.Z.open(Q.oAB.AUTHORIZED_APPS)},u=function(){s(!0);C.Z.open(Q.oAB.CONNECTIONS)},f=function(){k.default.track(Q.rMx.PASSPORT_CHALLENGE_STARTED,re({role_id:a.id},(0,v.hH)(i)))},N=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Ee(e);ge(t);T(ae.ACCOUNT_CONNECTED);null!=t&&(0,H.nj)().then((function(e){be(e)})).catch((function(){}))},y=ie(o.useState(ae.CHECKS_REQUIRED),2),_=y[0],T=y[1],P=ie(o.useState(null),2),M=P[0],w=P[1],D=ie(o.useState(!1),2),B=D[0],F=D[1],z=ie(o.useState(!0),2),Y=z[0],$=z[1],J=ie(o.useState(!1),2),ee=J[0],ne=J[1],oe=ie(o.useState(!0),2),ce=oe[0],ue=oe[1],fe=ie(o.useState(!1),2),he=fe[0],Ce=fe[1],Ne=(0,d.e7)([A.Z],(function(){return A.Z.getAccounts()})),Oe=(0,d.e7)([b.default],(function(){return b.default.getId()
})),me=ie(o.useState(null),2),ve=me[0],Ee=me[1],ye=ie(o.useState(null),2),_e=ye[0],ge=ye[1],Se=ie(o.useState(null),2),Te=Se[0],be=Se[1],xe=(0,O.ZP)(),Ae=(0,d.e7)([j.ZP],(function(){return j.ZP.getMember(i,Oe)})),je=(0,d.e7)([x.Z],(function(){return x.Z.getMutableGuildChannelsForGuild(i)})),Ie=Object.values(je).filter((function(e){return I.Z.can(Q.Plq.VIEW_CHANNEL,e)&&I.Z.can(Q.Plq.SEND_MESSAGES,e)&&(0,E.Z)(e).includes(a)}));o.useEffect((function(){h.Z.fetchGuildRoleConnectionsEligibility(i,a.id).then((function(e){w(e);F(function(e){return e.some((function(e){return e.every((function(e){return e.result}))}))}(e));$(!1)}))}),[i,a.id,Ne]);o.useEffect((function(){k.default.track(Q.rMx.PASSPORT_CHALLENGE_VIEWED,re({role_id:a.id},(0,v.hH)(i)))}),[i,a.id]);o.useEffect((function(){if(ee&&null!=Ae&&Ae.roles.includes(a.id)){ne(!1);Ie.length>0?T(ae.ROLE_GRANTED):null==n||n();k.default.track(Q.rMx.PASSPORT_CHALLENGE_FINISHED,re({role_id:a.id},(0,v.hH)(i)))}}),[ee,Ie.length,Ae,i,a.id,n])
;function Pe(){return(Pe=te((function(){return se(this,(function(e){switch(e.label){case 0:ne(!0);return[4,h.Z.assignGuildRoleConnection(i,a.id)];case 1:e.sent();return[2]}}))}))).apply(this,arguments)}return(0,r.jsxs)(Z.Y0,{size:Z.Cg.MEDIUM,transitionState:t,"aria-label":X.Z.Messages.CONNECT_ACCOUNT_TITLE,className:q().modalRoot,children:[function(){switch(_){case ae.CHECKS_REQUIRED:return(0,r.jsxs)(Z.xB,{className:q().header,separator:!1,children:[(0,r.jsx)("div",{className:q().headerText,children:(0,r.jsx)(p.X6,{variant:"heading-xl/extrabold",children:X.Z.Messages.CONNECT_ACCOUNT_TITLE})}),(0,r.jsx)(Z.ol,{onClick:function(){return s()}})]});case ae.ACCOUNT_CONNECTED:c()(null!=ve,"lastPlatformConnected is null");var e=null!=_e?_e.name:m.Z.get(ve).name;return(0,r.jsxs)(Z.xB,{className:q().header,separator:!1,children:[(0,r.jsx)(p.X6,{variant:"heading-xl/extrabold",className:q().headerText,children:X.Z.Messages.CONNECTIONS_CONNECT_ACCOUNTS_MODAL_ACCOUNT_CONNECTED.format({platformName:e
})}),(0,r.jsx)(Z.ol,{onClick:function(){return s()}})]});case ae.ROLE_GRANTED:return(0,r.jsxs)(Z.xB,{className:q().header,separator:!1,children:[(0,r.jsx)(p.X6,{variant:"heading-xl/extrabold",className:q().headerText,children:X.Z.Messages.CONNECTIONS_CONNECT_ACCOUNTS_MODAL_ROLE_GRANTED}),(0,r.jsx)(Z.ol,{onClick:function(){return s(!0)}})]});default:return null}}(),(0,r.jsx)(g.Z,{step:_,steps:[ae.CHECKS_REQUIRED,ae.ACCOUNT_CONNECTED,ae.ROLE_GRANTED],children:function(){switch(_){case ae.CHECKS_REQUIRED:var e=null!=M&&M.length>1;return(0,r.jsx)(Z.hz,{children:Y||null==M?(0,r.jsx)(p.$j,{className:q().connectionsChecksGroups}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(p.xv,{variant:"text-md/medium",color:"header-secondary",children:e?X.Z.Messages.CONNECTIONS_CONNECT_ACCOUNTS_MODAL_HEADER_TEXT_ANY.format():X.Z.Messages.CONNECTIONS_CONNECT_ACCOUNTS_MODAL_HEADER_TEXT_ALL.format()}),(0,r.jsx)(G.ZP,{className:q().connectionsChecksGroups,children:(0,r.jsx)(de,{eligibilityStatesGroups:M,
onPlatformConnect:f,onPlatformConnected:N})}),(0,r.jsx)(p.xv,{variant:"text-xs/normal",className:q().footerText,color:"header-secondary",children:X.Z.Messages.CONNECTIONS_CONNECT_ACCOUNTS_MODAL_USAGE_SETTINGS.format({privacyPolicyUrl:Q.EYA.PRIVACY,onAuthorizedApplicationsClick:function(){return l()},onConnectionsClick:function(){return u()}})})]})});case ae.ACCOUNT_CONNECTED:c()(null!=ve,"lastPlatformConnected is null");var t=Ne.find((function(e){var t=e.type;return ve===t})),n=null==Te?void 0:Te.find((function(e){return e.application.id===(null==_e?void 0:_e.id)}));return(0,r.jsxs)(Z.hz,{children:[(0,r.jsx)(p.xv,{variant:"text-md/normal",color:"header-secondary",children:X.Z.Messages.CONNECTIONS_CONNECT_ACCOUNTS_MODAL_USAGE_SETTINGS.format({privacyPolicyUrl:Q.EYA.PRIVACY,onAuthorizedApplicationsClick:function(){return l()},onConnectionsClick:function(){return u()}})}),(0,r.jsx)("div",{className:q().accountConnectedContainer,children:null==t&&null==n?(0,r.jsx)(p.$j,{
className:q().accountConnectedLoading}):(0,r.jsxs)(r.Fragment,{children:[null!=t?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:q().accountConnectedContainerChild,children:[(0,r.jsx)(p.xv,{variant:"eyebrow",color:"header-secondary",children:X.Z.Messages.CONNECTIONS_CONNECT_ACCOUNTS_MODAL_ACCOUNT_CONNECTED_PREVIEW}),(0,r.jsx)(S.E3,{connectedAccount:t,userId:Oe,theme:xe,className:q().accountConnectedPreviewConnectedUserAccount,showMetadata:ce,showInvisibleIcon:he})]}),(0,r.jsxs)("div",{className:q().accountConnectedContainerChild,children:[(0,r.jsx)(p.xv,{variant:"eyebrow",color:"header-secondary",children:X.Z.Messages.CONNECTIONS_CONNECT_ACCOUNTS_MODAL_ACCOUNT_CONNECTED_PRIVACY}),(0,r.jsx)(pe,{account:t,setShowPreviewInvisibleIcon:Ce,setShowPreviewMetadata:ue})]})]}):null,null!=n?(0,r.jsxs)("div",{className:q().accountConnectedContainerChild,children:[(0,r.jsxs)("div",{className:q().accountConnectedHeader,children:[(0,r.jsx)(p.xv,{variant:"eyebrow",
color:"header-secondary",children:X.Z.Messages.CONNECTIONS_CONNECT_ACCOUNTS_MODAL_ACCOUNT_CONNECTED_PREVIEW}),(0,r.jsx)(R.ZP,{text:X.Z.Messages.CONNECTIONS_CONNECT_ACCOUNTS_MODAL_ACCOUNT_CONNECTED_TOOLTIP,children:function(e){return(0,r.jsx)(L.Z,re({},e))}})]}),(0,r.jsx)(S.tH,{applicationRoleConnection:n,className:q().accountConnectedPreviewConnectedUserAccount})]}):null]})})]});case ae.ROLE_GRANTED:return(0,r.jsxs)(Z.hz,{children:[(0,r.jsxs)("div",{className:q().roleGranted,children:[(0,r.jsx)(V.Z,{guildId:i,className:q().verifiedIcon,role:a,size:24}),(0,r.jsx)(p.xv,{variant:"text-lg/semibold",color:"header-primary",className:q().roleGrantedName,children:a.name})]}),(0,r.jsx)(G.ZP,{className:q().channelsGranted,children:Ie.map((function(e){return(0,r.jsx)(le,{channel:e},e.id)}))})]});default:return null}}()}),function(){var e,t=null!==(e=null==M?void 0:M.flat().some((function(e){return null==e.application_id})))&&void 0!==e&&e;switch(_){case ae.CHECKS_REQUIRED:return(0,r.jsxs)(Z.mz,{
children:[(0,r.jsx)(p.zx,{color:p.Tt.BRAND,onClick:function(){return function(){return Pe.apply(this,arguments)}()},disabled:Y||!B||ee,children:X.Z.Messages.FINISH}),t?(0,r.jsx)("div",{className:q().manageConnectionsFooterButton,children:(0,r.jsx)(p.zx,{look:p.iL.LINK,color:p.Tt.LINK,onClick:u,children:X.Z.Messages.CONNECTIONS_CONNECT_ACCOUNTS_MODAL_MANAGE_CONNECTIONS})}):null]});case ae.ACCOUNT_CONNECTED:return(0,r.jsx)(Z.mz,{children:(0,r.jsx)(p.zx,{color:p.Tt.BRAND,onClick:function(){return T(ae.CHECKS_REQUIRED)},children:X.Z.Messages.DONE})});default:return(0,r.jsxs)(Z.mz,{children:[(0,r.jsx)(p.zx,{color:p.Tt.BRAND,onClick:function(){return s(!0)},children:X.Z.Messages.CLOSE}),t?(0,r.jsx)("div",{className:q().manageConnectionsFooterButton,children:(0,r.jsx)(p.zx,{look:p.iL.LINK,color:p.Tt.LINK,onClick:u,children:X.Z.Messages.CONNECTIONS_CONNECT_ACCOUNTS_MODAL_MANAGE_CONNECTIONS})}):null]})}}()]})}},40188:(e,t,n)=>{n.d(t,{Z:()=>g})
;var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),s=n(738017),c=n(589175),l=n(39802),u=n(913165),d=n.n(u);function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function h(e){h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return h(e)}function C(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&m(e,t)}function N(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})))
;n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function O(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e,t){m=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return m(e,t)}var v,E=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O(this,n)}}!function(e){e[e.ENTERING=0]="ENTERING"
;e[e.LEAVING=1]="LEAVING";e[e.APPEARING=2]="APPEARING";e[e.STATIC=3]="STATIC"}(v||(v={}));var _=function(e){C(n,e);var t=y(n);function n(){p(this,n);var e;(e=t.apply(this,arguments)).state={animationProgress:new s.Z.Value(0),targetHeight:0,baseHeight:0,animationState:null};e.direction=e.props.getDirection();e._measureRef=o.createRef();return e}var i=n.prototype;i.componentDidMount=function(){if(null!=this._measureRef.current){var e=this._measureRef.current.getBoundingClientRect().height;this.setState({targetHeight:e,baseHeight:this.props.getBaseHeight()})}};i.componentDidUpdate=function(e,t){t.targetHeight!==this.state.targetHeight&&this.props.setHeight(this.state.targetHeight)};i.componentWillAppear=function(e){this.setState({animationState:v.APPEARING});e()};i.componentDidAppear=function(){var e=this.state,t=e.animationProgress,n=e.targetHeight;t.setValue(2);this.setState({animationState:v.STATIC,baseHeight:n})};i.componentWillEnter=function(e){
var t=this.props.duration,n=this.state.animationProgress;this.setState({animationState:v.ENTERING});this.props.setHeight(this.state.targetHeight);s.Z.timing(n,{toValue:2,duration:t,delay:t/2}).start(e)};i.componentDidEnter=function(){this.setState({animationState:v.STATIC})};i.componentWillLeave=function(e){var t=this.state.animationProgress,n=this.props,r=n.duration,o=n.getDirection;this.direction=o();this.setState({animationState:v.LEAVING});s.Z.timing(t,{toValue:0,duration:r}).start(e)};i.componentDidLeave=function(){this.setState({animationState:v.STATIC})};i.getAnimatedStyle=function(){var e,t,n=this.context.reducedMotion,r=this.props.fillParent,o=this.state,i=o.animationProgress,a=o.animationState,c=o.baseHeight,l=o.targetHeight,u=null!==(e=this.props.sideMargin)&&void 0!==e?e:0,d=null!==(t=this.props.verticalMargin)&&void 0!==t?t:0,p=a===v.LEAVING,h=a===v.ENTERING,C=(p?-1:1)*this.direction,O={overflow:h||p?"hidden":"visible",position:p?"absolute":void 0,top:p?d:void 0,
left:p?u:void 0,right:p?u:void 0,bottom:p?d:void 0},m={transform:[{translateX:i.interpolate({inputRange:[0,2],outputRange:["".concat(150*C,"%"),"0%"],extrapolate:"clamp",easing:s.Z.Easing.inOut(s.Z.Easing.ease)})}]};return N(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){f(e,t,n[t])}))}return e}({},O,n.enabled?null:m),{opacity:i.interpolate({inputRange:[0,2],outputRange:[0,1],extrapolate:"clamp",easing:s.Z.Easing.inOut(s.Z.Easing.ease)}),height:h?i.interpolate({inputRange:[0,1],outputRange:[c,l],extrapolate:"clamp",easing:s.Z.Easing.inOut(s.Z.Easing.ease)}):r?"100%":"auto"})};i.render=function(){var e=this.props,t=e.fillParent,n=e.className,o=e.animatedNodeClassName,i=e.staticClassName,c=this.state.animationState;return t?(0,
r.jsx)("div",{ref:this._measureRef,className:a()(d().measurementFill,n,f({},a()(d().measurementFillStatic,i),c===v.STATIC)),children:(0,r.jsx)(s.Z.div,{className:a()(d().animatedNode,o),style:this.getAnimatedStyle(),children:this.props.children})}):(0,r.jsx)("div",{ref:this._measureRef,className:a()(d().measurement,n),children:(0,r.jsx)(s.Z.div,{className:a()(d().animatedNode,o),style:this.getAnimatedStyle(),children:this.props.children})})};return n}(o.PureComponent);_.contextType=l.S;_.defaultProps={duration:300};var g=function(e){C(n,e);var t=y(n);function n(){p(this,n);var e;(e=t.apply(this,arguments)).stepHeights={};e.prevStep=null;e.prevSteps=[];e.getBaseHeight=function(){return null!=e.prevStep&&null!=e.stepHeights[e.prevStep]?e.stepHeights[e.prevStep]:0};e.getDirection=function(){var t=e.props,n=t.steps,r=t.step,o=null!=e.prevStep?n.indexOf(e.prevStep):-1,i=-1===o&&null!=e.prevStep?e.prevSteps.indexOf(e.prevStep):-1;return Math.max(o,i)>n.indexOf(r)?-1:1}
;e.setHeight=function(t){var n=e.props.step;e.stepHeights[n]=t};return e}var o=n.prototype;o.componentDidMount=function(){this.setPrevSteps()};o.componentDidUpdate=function(){this.setPrevSteps()};o.setPrevSteps=function(){var e=this.props,t=e.step,n=e.steps;this.prevStep=t;this.prevSteps=n};o.render=function(){var e=this.props,t=e.step,n=e.className,o=e.innerClassName,i=e.animatedNodeClassName,s=e.staticClassName,l=e.sideMargin,u=e.verticalMargin,p=e.children,f=e.fillParent;return(0,r.jsx)(c.Z,{component:"div",className:a()(d().transitionGroup,n),children:(0,r.jsx)(_,{fillParent:f,sideMargin:l,verticalMargin:u,getDirection:this.getDirection,getBaseHeight:this.getBaseHeight,className:o,animatedNodeClassName:i,staticClassName:s,setHeight:this.setHeight,children:p},"".concat(t))})};return n}(o.Component);g.defaultProps={fillParent:!1}},217039:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(785893),o=(n(667294),n(240243));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,
configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function c(e){
var t=e.width,n=void 0===t?16:t,c=e.height,l=void 0===c?16:c,u=e.color,d=void 0===u?"currentColor":u,p=e.foreground,f=s(e,["width","height","color","foreground"]);return(0,r.jsx)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({},(0,o.Z)(f)),{width:n,height:l,viewBox:"0 0 24 24",children:(0,r.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,r.jsx)("rect",{width:"24",height:"24"}),(0,r.jsx)("path",{fill:d,className:p,
d:"M9,7 L11,7 L11,5 L9,5 L9,7 Z M10,18 C5.59,18 2,14.41 2,10 C2,5.59 5.59,2 10,2 C14.41,2 18,5.59 18,10 C18,14.41 14.41,18 10,18 L10,18 Z M10,4.4408921e-16 C4.4771525,-1.77635684e-15 4.4408921e-16,4.4771525 0,10 C-1.33226763e-15,12.6521649 1.0535684,15.195704 2.92893219,17.0710678 C4.80429597,18.9464316 7.3478351,20 10,20 C12.6521649,20 15.195704,18.9464316 17.0710678,17.0710678 C18.9464316,15.195704 20,12.6521649 20,10 C20,7.3478351 18.9464316,4.80429597 17.0710678,2.92893219 C15.195704,1.0535684 12.6521649,2.22044605e-16 10,0 L10,4.4408921e-16 Z M9,15 L11,15 L11,9 L9,9 L9,15 L9,15 Z",transform:"translate(2 2)"})]})}))}}}]);
//# sourceMappingURL=979f2c0d4dc3f4586013.js.map