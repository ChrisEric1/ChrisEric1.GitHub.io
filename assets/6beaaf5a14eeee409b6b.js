(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[39253],{707839:(e,t,n)=>{e.exports=n.p+"7d94f3993be7043f4b9131b10ca5c7d9.svg"},840008:(e,t,n)=>{e.exports=n.p+"fd134fab56c496d554b4eb36d3e92289.svg"},17589:(e,t,n)=>{e.exports=n.p+"513f881c80a414c9f58190184516189b.svg"},831950:(e,t,n)=>{"use strict";n.d(t,{KV:()=>s,E$:()=>l});var r=n(368365),i=n(304856),a=n(890889);function o(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var s=function(e){return null==e.roles?[]:Object.values(e.roles).sort(i.W).map((function(e){return(0,i.X0)(e)}))},l=function(e,t,n){return Object.values(e.roles).filter((function(e){return(0,i.GJ)(e)||function(e,t,n){if(null==e.id)return!1;var i=a.ZP.computePermissionsForRoles({forceRoles:o({},e.id,e),context:n});return r.Z.has(i,t)}(e,n,t)}))}},339253:(e,t,n)=>{"use strict";n.r(t);n.d(t,{default:()=>Jo})
;var r=n(785893),i=n(667294),a=n(294184),o=n.n(a),s=n(781629),l=n.n(s),c=n(948861),u=n(666164),d=n(125447),f=n(705475),h=n(123042),g=n(895721),m=n(363010),p=n(820028),v=n(331535),y=n(483562),b=n(29189),O=n(558128),x=n(952013),j=n(730189),S=n(53211),C=n(95048),E=n(805448),w=n(113204),_=n(848828),N=n(419315),P=n(657935),T=n(234162),A=n(672549),R=n(973381),M=n(28633),I=n(551821),Z=n(665357),L=n(803204),k=n(915354),D=n(356004),F=n(402124),H=n(243256),U=n(172701),G=n(426217),V=n(761434),B=n(221713),z=n(21979),W=n(804116),K=n(81951),q=n(880068),X=n(801763),Y=n(238585),$=n(253873),Q=n(103686),J=n(941361),ee=n(402724),te=n(743175),ne=n(266644),re=n(150703);const ie={useForumChannelSeenManager:function(e){var t=e.guildId,n=e.channelId,r=i.useRef(null),a=(0,ne.UU)(),o=!G.Z.isFocused(a);i.useLayoutEffect((function(){if(null==r.current){r.current=new re.ZP({guildId:t,channelId:n,isPaused:o,windowId:a});r.current.initialize()}return function(){var e;null===(e=r.current)||void 0===e||e.terminate()
;r.current=null}}),[n,t,o,a]);return r.current}};var ae=n(426466),oe=n(730381),se=n.n(oe),le=n(248088),ce=n(87913),ue=n(368365),de=n(277563),fe=n(429111),he=n(485923),ge=n(304856),me=n(653772),pe=n(983067),ve=n(719455),ye=n(240243);function be(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Oe(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function xe(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++){n=a[r];t.indexOf(n)>=0||(i[n]=e[n])}return i}(e,t)
;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++){n=a[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}}return i}function je(e){var t=e.width,n=void 0===t?16:t,i=e.height,a=void 0===i?16:i,o=e.color,s=void 0===o?"currentColor":o,l=e.foreground,c=xe(e,["width","height","color","foreground"]);return(0,r.jsxs)("svg",Oe(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){be(e,t,n[t])}))}return e}({},(0,ye.Z)(c)),{width:n,height:a,viewBox:"0 0 16 16",children:[(0,r.jsx)("path",{className:l,fill:s,
d:"M6.78802 8.60547H2.54555C2.211 8.60547 1.93949 8.87699 1.93949 9.21154C1.93949 9.54608 2.211 9.8176 2.54555 9.8176H5.32498L1.511 13.6316C1.27433 13.8682 1.27433 14.2519 1.511 14.4886C1.62918 14.607 1.78433 14.6661 1.93949 14.6661C2.09464 14.6661 2.24979 14.607 2.36798 14.4886L6.18195 10.6746V13.454C6.18195 13.7886 6.45347 14.0601 6.78802 14.0601C7.12257 14.0601 7.39409 13.7886 7.39409 13.454V9.21154C7.39409 8.87699 7.12257 8.60547 6.78802 8.60547Z"}),(0,r.jsx)("path",{className:l,fill:s,d:"M14.4891 1.50953C14.2524 1.27286 13.8687 1.27286 13.6321 1.50953L9.81809 5.32351V2.54409C9.81809 2.20954 9.54657 1.93802 9.21202 1.93802C8.87748 1.93802 8.60596 2.20954 8.60596 2.54409V6.78655C8.60596 7.1211 8.87748 7.39262 9.21202 7.39262H13.4545C13.789 7.39262 14.0606 7.1211 14.0606 6.78655C14.0606 6.45201 13.789 6.18049 13.4545 6.18049H10.6751L14.4891 2.36651C14.7257 2.12984 14.7257 1.7462 14.4891 1.50953Z"})]}))}function Se(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,
configurable:!0,writable:!0}):e[t]=n;return e}function Ce(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Ee(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++){n=a[r];t.indexOf(n)>=0||(i[n]=e[n])}return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++){n=a[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}}return i}function we(e){
var t=e.width,n=void 0===t?16:t,i=e.height,a=void 0===i?16:i,o=e.color,s=void 0===o?"currentColor":o,l=e.foreground,c=Ee(e,["width","height","color","foreground"]);return(0,r.jsxs)("svg",Ce(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Se(e,t,n[t])}))}return e}({},(0,ye.Z)(c)),{width:n,height:a,viewBox:"0 0 16 16",children:[(0,r.jsx)("path",{className:l,fill:s,
d:"M1.93944 14.6655H6.18191C6.51646 14.6655 6.78797 14.394 6.78797 14.0594C6.78797 13.7249 6.51646 13.4534 6.18191 13.4534H3.40249L7.21646 9.63937C7.45313 9.40271 7.45313 9.01906 7.21646 8.7824C7.09828 8.66391 6.94313 8.60482 6.78797 8.60482C6.63282 8.60482 6.47767 8.66391 6.35948 8.7824L2.54551 12.5964V9.81695C2.54551 9.4824 2.27399 9.21089 1.93944 9.21089C1.60489 9.21089 1.33337 9.4824 1.33337 9.81695V14.0594C1.33337 14.394 1.60489 14.6655 1.93944 14.6655Z"}),(0,r.jsx)("path",{className:l,fill:s,d:"M8.78362 7.21512C9.02029 7.45179 9.40393 7.45179 9.6406 7.21512L13.4546 3.40114V6.18056C13.4546 6.51511 13.7261 6.78663 14.0606 6.78663C14.3952 6.78663 14.6667 6.51511 14.6667 6.18056V1.9381C14.6667 1.60355 14.3952 1.33203 14.0606 1.33203L9.81818 1.33203C9.48363 1.33203 9.21211 1.60355 9.21211 1.9381C9.21211 2.27265 9.48363 2.54416 9.81818 2.54416H12.5976L8.78362 6.35814C8.54695 6.59481 8.54695 6.97845 8.78362 7.21512Z"})]}))}
var _e=n(436035),Ne=n(381604),Pe=n(169364),Te=n(897576),Ae=n(226300),Re=n(882699),Me=n(831950),Ie=n(268461),Ze=n(888312),Le=n(357409),ke=n(461061),De=n(959797),Fe=n(620771),He=n.n(Fe);function Ue(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function Ge(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Ue(a,r,i,o,s,"next",e)}function s(e){Ue(a,r,i,o,s,"throw",e)}o(void 0)}))}}function Ve(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Be(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n
}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var ze=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;(r=0,i)&&(a=[2&a[0],i.value]);switch(a[0]){case 0:case 1:i=a;break;case 4:o.label++;return{value:a[1],done:!1};case 5:o.label++;r=a[1];a=[0];continue;case 7:a=o.ops.pop();o.trys.pop();continue;default:if(!(i=o.trys,i=i.length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1];i=a;break}if(i&&o.label<i[2]){o.label=i[2]
;o.ops.push(a);break}i[2]&&o.ops.pop();o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e];r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};function We(e){var t=e.channelName,a=e.guildId,o=e.tagFilter,s=e.channel,l=(0,te.r_)(s),c=(0,I.cD)(s),u=i.useCallback((function(){(0,ae.qz)();(0,Te.ZD)(Ge((function(){var e,t;return ze(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(37105)]).then(n.bind(n,750959))];case 1:e=i.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Be(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Ve(e,t,n[t])}))}return e}({},e),{guildId:a}))}]}}))})),{onCloseRequest:ke.VqG})}),[a]),d=o.size>0,f=c||l,h=!d&&l,g=i.useCallback((function(){
return h?u():c?void Re.S.dispatch(ke.CkL.FOCUS_COMPOSER_TITLE):(0,ke.VqG)()}),[u,h,c]);return(0,r.jsxs)("div",{className:He().container,children:[(0,r.jsxs)("div",{className:He().iconContainer,children:[(0,r.jsx)("div",{className:He().icon,children:(0,r.jsx)(Ze.Z,{width:30,height:30})}),(0,r.jsx)(Le.Z,{className:He().stars})]}),(0,r.jsx)(v.X6,{className:He().header,variant:"heading-md/semibold",children:d?De.Z.Messages.FORUM_NO_POST_WITH_TAG_TITLE.format({numTags:o.size}):De.Z.Messages.FORUM_EMPTY_STATE_TITLE}),(0,r.jsx)(v.xv,{color:"header-secondary",variant:"text-sm/normal",children:d?De.Z.Messages.FORUM_NO_POST_WITH_TAG_DESCRIPTION.format({numTags:o.size}):De.Z.Messages.FORUM_EMPTY_STATE_DESCRIPTION.format({channelName:t})}),f&&(0,r.jsxs)(v.zx,{look:v.zx.Looks.BLANK,size:v.zx.Sizes.MIN,color:v.zx.Colors.GREEN,onClick:g,className:He().cta,innerClassName:He().button,children:[h?De.Z.Messages.FORUM_EMPTY_STATE_CTA:De.Z.Messages.FORUM_EMPTY_STATE_CREATE_POST_CTA,(0,r.jsx)(Pe.Z,{width:12
})]})]})}var Ke=n(813935),qe=n(809633),Xe=n(487171),Ye=n.n(Xe);function $e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qe(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function Je(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Qe(a,r,i,o,s,"next",e)}function s(e){Qe(a,r,i,o,s,"throw",e)}o(void 0)}))}}function et(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){et(e,t,n[t])}))}return e}function nt(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function rt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0){a.push(r.value);if(t&&a.length===t)break}}catch(e){s=!0;i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $e(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $e(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var it=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;(r=0,i)&&(a=[2&a[0],i.value]);switch(a[0]){case 0:case 1:i=a;break;case 4:o.label++;return{value:a[1],done:!1};case 5:o.label++;r=a[1];a=[0];continue;case 7:a=o.ops.pop();o.trys.pop();continue;default:if(!(i=o.trys,
i=i.length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1];i=a;break}if(i&&o.label<i[2]){o.label=i[2];o.ops.push(a);break}i[2]&&o.ops.pop();o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e];r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},at={width:28,height:28},ot={width:20,height:20,borderRadius:10},st=function(e){(0,ae.e5)({onboardingCTA:e})},lt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);this.currentIndex=0;this.steps=[];this.completedSteps=0}var t=e.prototype;t.addStep=function(e){++this.currentIndex;this.steps.push(tt({index:this.currentIndex},e));e.isDone&&this.completedSteps++};t.getSteps=function(){return this.steps};t.isAllDone=function(){return this.steps.every((function(e){return e.isDone}))};return e}(),ct=function(e,t,a,o){
return i.useMemo((function(){var i=new lt;null!=e&&null!=t&&i.addStep(function(e,t,i){var a=(0,he.Z)(t)?ue.Z.combine(ke.Plq.VIEW_CHANNEL,ke.Plq.SEND_MESSAGES):ke.Plq.SEND_MESSAGES,o=null!=e?(0,Me.E$)(e,t,a).filter((function(n){return t.permissionOverwrites.hasOwnProperty(n.id)||(0,ge.pM)(e.id,n.id)})):[],s=o.length>0,l=o.some((function(t){return(0,ge.pM)(e.id,t.id)}));return{name:De.Z.Messages.FORUM_CHANNEL_ONBOARDING_CHECKLIST_PERMISSION_TITLE,description:De.Z.Messages.FORUM_CHANNEL_ONBOARDING_CHECKLIST_PERMISSION_DESCRIPTION,isDone:s&&l,shouldWarn:s&&!l,children:s?(0,r.jsx)(ut,{guild:e,roles:o}):null,clickHandler:function(){st(qe.ZI.PERMISSIONS);(0,Te.ZD)(Je((function(){var s,l;return it(this,(function(c){switch(c.label){case 0:return[4,Promise.all([n.e(40532),n.e(40505)]).then(n.bind(n,140505))];case 1:s=c.sent(),l=s.default;i(!0);return[2,function(n){return(0,r.jsx)(l,nt(tt({},n),{channel:t,guild:e,permission:a,currentSelectedRoles:o}))}]}}))})),{
modalKey:"SEND_MESSAGE_ROLE_PERMISSION_FIX_MODAL_KEY",onCloseRequest:ke.VqG,onCloseCallback:function(){return i(!1)}})}}}(e,t,o));i.addStep(function(e){var t=null!=e.topic&&e.topic.length>0;return{name:De.Z.Messages.FORUM_CHANNEL_ONBOARDING_CHECKLIST_GUIDELINES_TITLE,description:De.Z.Messages.FORUM_CHANNEL_ONBOARDING_CHECKLIST_GUIDELINES_DESCRIPTION,clickHandler:function(){st(qe.ZI.GUIDELINES);y.ZP.open(e.id,void 0,ke.ZfP.TOPIC)},isDone:t}}(t));i.addStep(function(e){var t=null!=e.availableTags&&e.availableTags.length>0;return{name:De.Z.Messages.FORUM_CHANNEL_ONBOARDING_CHECKLIST_TAGS_TITLE,description:De.Z.Messages.FORUM_CHANNEL_ONBOARDING_CHECKLIST_TAGS_DESCRIPTION,clickHandler:function(){st(qe.ZI.TAGS);y.ZP.open(e.id);(0,Te.ZD)(Je((function(){var t,i;return it(this,(function(a){switch(a.label){case 0:return[4,Promise.all([n.e(40532),n.e(50205)]).then(n.bind(n,150205))];case 1:t=a.sent(),i=t.default;return[2,function(t){return(0,r.jsx)(i,nt(tt({},t),{channelId:e.id,guildId:e.guild_id
}))}]}}))})))},isDone:t}}(t));i.addStep(function(e){var t=null!=e.defaultReactionEmoji;return{name:De.Z.Messages.FORUM_CHANNEL_ONBOARDING_CHECKLIST_DEFAULT_REACTION_TITLE,description:De.Z.Messages.FORUM_CHANNEL_ONBOARDING_CHECKLIST_DEFAULT_REACTION_DESCRIPTION,clickHandler:function(){st(qe.ZI.DEFAULT_REACTION);(0,Te.ZD)(Je((function(){var t,i;return it(this,(function(a){switch(a.label){case 0:return[4,Promise.all([n.e(40532),n.e(12603)]).then(n.bind(n,112603))];case 1:t=a.sent(),i=t.default;return[2,function(t){return(0,r.jsx)(i,nt(tt({},t),{channel:e}))}]}}))})))},isDone:t}}(t));i.addStep(function(e,t){return{name:De.Z.Messages.FORUM_CHANNEL_ONBOARDING_CHECKLIST_FIRST_POST_TITLE,description:De.Z.Messages.FORUM_CHANNEL_ONBOARDING_CHECKLIST_FIRST_POST_DESCRIPTION.format({onClick:function(e){if(null!=t){e.preventDefault();e.stopPropagation();(0,ae.qz)();(0,Te.ZD)(Je((function(){var e,i;return it(this,(function(a){switch(a.label){case 0:
return[4,Promise.all([n.e(40532),n.e(37105)]).then(n.bind(n,750959))];case 1:e=a.sent(),i=e.default;return[2,function(e){return(0,r.jsx)(i,nt(tt({},e),{guildId:t}))}]}}))})),{onCloseRequest:ke.VqG})}}}),clickHandler:function(){st(qe.ZI.CREATE_POST);Re.S.dispatch(ke.CkL.FOCUS_COMPOSER_TITLE)},isDone:e}}(a,null==e?void 0:e.id));return i}),[t,e,a,o])},ut=function(e){var t=e.guild,n=e.roles;return(0,r.jsx)("div",{className:Ye().rolesList,"aria-label":De.Z.Messages.ROLES_LIST.format({numRoles:n.length}),children:n.map((function(e){return(0,r.jsx)(fe.U,{role:e,canRemove:!1,onRemove:ke.VqG,guildId:t.id,className:Ye().rolePill},e.id)}))})},dt={mass:1,tension:250,friction:18,clamp:!0},ft=function(e){var t,n,r=e.guild,a=e.channel,o=e.hasAnyThread,s=e.handleHide,l=rt(i.useState(!1),2),c=l[0],u=l[1],d=(0,Ie.c)(a.id),f=(0,m.e7)([$.Z],(function(){return $.Z.hasHidden(a.id)})),h=ct(r,a,o,u),g=h.isAllDone();!function(e,t,n,r){var a=i.useRef(0);i.useEffect((function(){
n||!e||t?clearTimeout(a.current):a.current=setTimeout((function(){r()}),6e4);return function(){return clearTimeout(a.current)}}),[e,t,r,n])}(g,d||f||!(t=a.id,n=de.default.extractTimestamp(t),se()().isBefore(se()(n).add(se().duration(15,"days")))),c,s);return{onboardingSteps:h,isHidden:f,isDismissed:d,isAllDone:g}},ht=function(e){var t=e.handleHide;return(0,r.jsx)(v.P3,{onClick:t,className:Ye().closeButton,"aria-label":De.Z.Messages.DISMISS,children:(0,r.jsx)(ve.Z,{className:Ye().closeIcon})})},gt=function(e){var t=e.expanded,n=e.onClick;return(0,r.jsx)(v.P3,{onClick:n,className:Ye().closeButton,"aria-label":t?De.Z.Messages.COLLAPSE:De.Z.Messages.EXPAND,children:t?(0,r.jsx)(je,{className:Ye().closeIcon}):(0,r.jsx)(we,{className:Ye().closeIcon})})};const mt=function(e){var t=e.hasAnyThread,n=e.channel,a=(0,Ke.xH)((function(e){return{onboardingExpanded:e.onboardingExpanded}})),s=a.onboardingExpanded,l=(0,ee.H)(n.id).tagFilter,c=(0,m.e7)([me.Z],(function(){
return me.Z.getGuild(n.getGuildId())})),u=(0,te.r_)(n),d=function(){var e=rt(i.useState(!0),2),t=e[0],n=e[1],r=(0,m.e7)([j.Z],(function(){return j.Z.useReducedMotion})),a=(0,le.useTransition)(t,{keys:function(e){return e?"shown":"hidden"},config:dt,from:{opacity:0},enter:{opacity:1},leave:{opacity:0},unique:!0,immediate:r});return{transitions:a,setVisible:n}}(),f=d.transitions,h=d.setVisible,g=function(e){var t=(0,m.e7)([j.Z],(function(){return j.Z.useReducedMotion}));return(0,le.useTransition)(e,{from:{maxHeight:0},enter:{maxHeight:500},leave:{maxHeight:0},config:{duration:200},immediate:t})}(s),p=i.useCallback((function(e){var t;null===(t=e.clickHandler)||void 0===t||t.call(e)}),[]),y=function(e,t){return i.useCallback((function(){t(!1);return Q.Z.hideAdminOnboarding(e,!0)}),[e,t])}(n.id,h),b=ft({guild:c,channel:n,hasAnyThread:t,handleHide:y}),O=b.onboardingSteps,x=b.isDismissed,S=b.isHidden,C=b.isAllDone,E=!S&&!x,w=(0,Ke.AF)(),_=function(e){
return w.getState().setOnboardingExpanded(e)};!function(e,t,n){i.useEffect((function(){e&&t&&n()}),[])}(C,E,y);!function(e){var t=e.isAllDone,n=e.isVisible,r=e.canManageChannel,a=e.guild,o=e.channel,s=i.useCallback((function(){Re.S.dispatch(ke.CkL.REMEASURE_TARGET)}),[]);i.useEffect((function(){s()}),[s,t,n,r,null==a?void 0:a.roles,o.id,o.permissionOverwrites])}({isAllDone:C,isVisible:E,canManageChannel:u,guild:c,channel:n});!function(e,t,n){i.useEffect((function(){e||n(!t)}),[e,n,t])}(x,S,h);i.useEffect((function(){t&&E||_(!0)}),[]);return null==c?null:E&&u?(0,r.jsx)(r.Fragment,{children:f((function(e,t){return t?(0,r.jsx)(le.animated.div,{style:e,className:Ye().container,children:(0,r.jsxs)("div",{className:Ye().wrapper,children:[(0,r.jsx)("div",{className:Ye().headerRow,children:(0,r.jsxs)(v.y5,{component:(0,r.jsx)(v.X6,{variant:"heading-md/semibold",children:De.Z.Messages.GET_STARTED}),children:[(0,r.jsx)(v.X6,{variant:"heading-md/medium",className:Ye().header,
children:De.Z.Messages.FORUM_CHANNEL_ONBOARDING_COMPLETED_COUNT.format({numCompleted:O.completedSteps.toString(),numSteps:O.steps.length.toString()})}),(0,r.jsxs)(v.xv,{variant:"text-xs/normal",className:Ye().visibilityInfo,children:[(0,r.jsx)(_e.Z,{width:12,height:12,className:Ye().icon}),De.Z.Messages.FORUM_CHANNEL_ONBOARDING_VISIBILITY]}),(0,r.jsx)(gt,{expanded:s,onClick:function(){return _(!s)}}),(0,r.jsx)(ht,{handleHide:y})]})}),g((function(e,t){return t?(0,r.jsx)(le.animated.div,{style:e,className:Ye().listContainer,children:(0,r.jsx)("ol",{className:Ye().checklist,children:O.getSteps().map((function(e){return(0,r.jsxs)(v.P3,{tag:"li","aria-label":e.name,onClick:function(){return p(e)},className:o()(Ye().stepContainer,et({},Ye().completed,e.isDone)),children:[e.shouldWarn?(0,r.jsx)(K.Z,{color:ce.Z.STATUS_DANGER,className:Ye().stepStatus}):e.isDone?(0,r.jsx)(Ae.G2,{color:ce.Z.STATUS_POSITIVE_BACKGROUND,icon:pe.Z,style:ot,className:Ye().stepStatus}):(0,r.jsx)(Ae.G2,{
disableColor:!0,icon:Ne.Z,style:at,className:o()(Ye().stepStatus,Ye().completed)}),(0,r.jsxs)("div",{className:Ye().step,children:[(0,r.jsx)(v.xv,{variant:"text-md/medium",color:e.isDone?"header-secondary":"header-primary",className:Ye().stepName,children:e.name}),(0,r.jsx)(v.xv,{variant:"text-sm/normal",color:"header-secondary",className:Ye().stepDescription,children:e.description}),e.children]}),(0,r.jsx)(Pe.Z,{width:12,className:Ye().stepStatus})]},"onboard-step-".concat(e.index))}))})}):null}))]})}):null}))}):t?null:(0,r.jsx)(We,{channelName:n.name,guildId:n.guild_id,tagFilter:l,channel:n})};var pt=n(74907),vt=n(531243),yt=n(878627),bt=n(939616),Ot=n.n(bt),xt=n(169595),jt=n.n(xt);function St(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ct(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function Et(e){return function(){var t=this,n=arguments
;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Ct(a,r,i,o,s,"next",e)}function s(e){Ct(a,r,i,o,s,"throw",e)}o(void 0)}))}}function wt(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function _t(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Nt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0){a.push(r.value)
;if(t&&a.length===t)break}}catch(e){s=!0;i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return St(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return St(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Pt=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,
r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;(r=0,i)&&(a=[2&a[0],i.value]);switch(a[0]){case 0:case 1:i=a;break;case 4:o.label++;return{value:a[1],done:!1};case 5:o.label++;r=a[1];a=[0];continue;case 7:a=o.ops.pop();o.trys.pop();continue;default:if(!(i=o.trys,i=i.length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1];i=a;break}if(i&&o.label<i[2]){o.label=i[2];o.ops.push(a);break}i[2]&&o.ops.pop();o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e];r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};const Tt=i.memo((function(e){var t=e.channel,a=e.onChange,s=(0,Ke.AF)(),l=(0,Ke.xH)((function(e){return{guidelinesOpen:e.guidelinesOpen}})).guidelinesOpen,c=(0,te.r_)(t),u=Nt(i.useState(!1),2),d=u[0],f=u[1],h=i.useCallback((function(e){if(null!=e){var t=e.clientHeight>=220;t!==d&&f(t)}
}),[d]);i.useLayoutEffect((function(){setTimeout(a,350)}),[l,a]);var g=(0,m.e7)([j.Z],(function(){return j.Z.useReducedMotion})),p=Nt(i.useState(!l),2),b=p[0],O=p[1],x=(0,le.useSpring)({opacity:l?1:0,maxHeight:l?500:0,config:{duration:300},immediate:g,onRest:function(){return O(!l)}});return null!=t.topic&&t.topic.length>0?(0,r.jsx)(le.animated.div,{style:x,className:b?Ot().hiddenVisually:void 0,children:(0,r.jsxs)("div",{className:Ot().container,children:[(0,r.jsxs)("div",{className:Ot().headerContainer,children:[(0,r.jsxs)(v.X6,{variant:"heading-lg/semibold",className:Ot().guidelinesHeader,children:[(0,r.jsx)(vt.Z,{width:20,height:20}),De.Z.Messages.FORUM_POST_GUIDELINES_TITLE,c&&(0,r.jsx)(v.P3,{onClick:function(){y.ZP.open(t.id,void 0,ke.ZfP.TOPIC)},tag:"span",className:Ot().clickable,children:(0,r.jsx)(yt.Z,{width:16,height:16})})]}),(0,r.jsx)(v.P3,{"aria-label":De.Z.Messages.CLOSE,className:Ot().clickable,onClick:function(){s.getState().setGuidelinesOpen(!1)},children:(0,
r.jsx)(ve.Z,{width:16,height:16})})]}),(0,r.jsxs)("div",{className:Ot().descriptionContainer,children:[(0,r.jsx)(v.xv,{selectable:!0,variant:"text-sm/normal",color:"header-secondary",style:{maxHeight:220},className:o()(Ot().guidelines,jt().markup),children:(0,r.jsx)("div",{ref:h,children:pt.Z.parseForumPostGuidelines(t.topic,!0,{channelId:t.id,allowHeading:!0,allowList:!0})})}),d&&(0,r.jsxs)("div",{className:Ot().showMore,children:[(0,r.jsx)("div",{className:Ot().gradient}),(0,r.jsx)("div",{className:Ot().linkContainer,children:(0,r.jsx)(v.P3,{className:Ot().showMoreLink,onClick:function(){(0,Te.ZD)(Et((function(){var e,i;return Pt(this,(function(a){switch(a.label){case 0:return[4,Promise.all([n.e(40532),n.e(42894)]).then(n.bind(n,742894))];case 1:e=a.sent(),i=e.default;return[2,function(e){return(0,r.jsx)(i,_t(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){wt(e,t,n[t])}))}return e}({},e),{channel:t}))}]}}))})))},children:(0,r.jsxs)(v.xv,{variant:"text-sm/semibold",color:"text-brand",className:Ot().showMoreText,children:[De.Z.Messages.FORUM_CHANNEL_TOPIC_VIEW_ALL,(0,r.jsx)(we,{className:Ot().showMoreIcon})]})})})]})]})]})}):null}));var At=n(254580),Rt=n(979915),Mt=n(491130),It=n(610804),Zt=n(831013),Lt=n.n(Zt),kt=n(640160),Dt=n.n(kt),Ft=n(453904),Ht=n.n(Ft),Ut=n(17589),Gt=n.n(Ut);function Vt(e){var t=e.onDismiss;return(0,r.jsxs)(v.P3,{onClick:function(){open(qe.V8);(0,ae.GX)({readGuideCta:!0})},className:o()(Ht().container,Dt().container,Lt().mainCard),children:[(0,r.jsxs)("div",{className:Dt().inline,children:[(0,r.jsxs)("div",{className:Dt().author,children:[(0,r.jsx)(At.Z,{className:Dt().discordIcon}),(0,r.jsx)(v.xv,{
variant:"text-sm/semibold",color:"header-primary",children:De.Z.Messages.DISCORD_NAME}),(0,r.jsxs)("div",{className:Dt().notice,children:[(0,r.jsx)(Rt.Z,{className:Dt().infoIcon}),(0,r.jsx)(v.xv,{variant:"text-sm/normal",color:"header-secondary",children:De.Z.Messages.FORUM_HELPER_CARD_NOTICE})]})]}),(0,r.jsx)(v.P3,{onClick:function(e){e.stopPropagation();t(It.L.DISMISS);(0,ae.GX)({readGuideCta:!1})},children:(0,r.jsx)(ve.Z,{className:Dt().closeIcon,width:16,height:16})})]}),(0,r.jsx)("hr",{className:Dt().separator}),(0,r.jsxs)("div",{className:Dt().inline,children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(v.X6,{className:o()(Ht().channelName,Dt().title),variant:"heading-lg/semibold",color:"header-primary",children:De.Z.Messages.FORUM_HELPER_CARD_TITLE}),(0,r.jsx)(v.xv,{variant:"text-sm/normal",color:"header-secondary",children:De.Z.Messages.FORUM_HELPER_CARD_BODY})]}),(0,r.jsx)("img",{src:Gt(),alt:De.Z.Messages.FORUM_HELPER_CARD_ALT_TEXT,width:Mt.TJ,height:Mt.TJ})]})]})}
var Bt,zt=n(441143),Wt=n.n(zt),Kt=n(741655),qt=n(159500),Xt=n(691869),Yt=n(476215),$t=n(741738),Qt=n(431396),Jt=n(251140),en=n(640753),tn=n(825989),nn=n(942604),rn=n(66973),an=n(159091),on=n(940712),sn=n(429753),ln=n(859023),cn=n(757987),un=n(523283),dn=n(469282),fn=n(875389),hn=n(409830),gn=n(391595),mn=n(56133),pn=n(617509);!function(e){e[e.EmptyContent=0]="EmptyContent";e[e.AutomodViolation=1]="AutomodViolation";e[e.EmptyTags=2]="EmptyTags"}(Bt||(Bt={}));function vn(e,t){return{type:e,message:null!=t?t:null}}function yn(e){return vn(Bt.EmptyContent,e)}function bn(e,t){return vn(Bt.AutomodViolation,(0,pn.$q)(e,null==t?void 0:t.id))}function On(e,t){return null==e||e.type===Bt.EmptyContent&&null!=t.content&&t.content.trim().length>0||e.type===Bt.EmptyTags&&null!=t.tags&&t.tags.length>0?null:null!==(n=e.message)&&void 0!==n?n:null;var n}var xn=n(652455),jn=n(824390),Sn=n.n(jn),Cn=n(152163),En=n(392115),wn=n(752992),_n=n.n(wn),Nn=function(e){
var t=e.tag,n=t.id,i=t.name,a=t.emojiId,o=t.emojiName,s=(0,m.e7)([En.Z],(function(){return null!=a?En.Z.getUsableCustomEmojiById(a):null})),l=null!=a||null!=o;return(0,r.jsx)(v.lo,{value:n,children:(0,r.jsx)(v.lo.Label,{children:(0,r.jsxs)("div",{className:_n().row,children:[l?(0,r.jsx)(Cn.Z,{className:_n().emoji,emojiId:a,emojiName:o,animated:Boolean(null==s?void 0:s.animated)}):(0,r.jsx)(fn.Z,{className:_n().emoji}),(0,r.jsx)(v.xv,{variant:"text-md/semibold",color:"header-secondary",children:i})]})})},n)};function Pn(e){var t=e.parentChannel,n=e.appliedTags,i=e.maxTagsApplied,a=e.onSelectTag,o=e.onClose;return(0,r.jsx)(v.DB,{showScrollbar:!0,value:n,onChange:function(e){if(!i||n.has(e)){a(e);o()}},placeholder:De.Z.Messages.FORUM_TAG_POST_SEARCH_PLACEHOLDER,"aria-label":De.Z.Messages.FORUM_TAG_POST_SEARCH_PLACEHOLDER,children:function(e){return(n=e,t.availableTags.filter((function(e){return Sn()(n.toLowerCase(),e.name.toLowerCase())}))).map((function(e){return(0,r.jsx)(Nn,{tag:e
},e.id)}));var n}})}var Tn=n(678081),An=n(39802),Rn=n(989346),Mn=n(935032);function In(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Zn(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Ln(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++){n=a[r];t.indexOf(n)>=0||(i[n]=e[n])}return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++){n=a[r]
;t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}}return i}function kn(e){var t=e.width,n=void 0===t?24:t,i=e.height,a=void 0===i?24:i,o=e.color,s=void 0===o?"currentColor":o,l=e.foreground,c=Ln(e,["width","height","color","foreground"]);return(0,r.jsxs)("svg",Zn(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){In(e,t,n[t])}))}return e}({},(0,ye.Z)(c)),{width:n,height:a,viewBox:"0 0 24 24",fill:"none",children:[(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",className:l,
d:"M13.2899 2H6C3.79086 2 2 3.79086 2 6V18C2 20.2091 3.79086 22 6 22H18C20.2091 22 22 20.2091 22 18V10.7101C21.3663 10.8987 20.695 11 20 11C16.134 11 13 7.86599 13 4C13 3.30503 13.1013 2.63371 13.2899 2ZM8 6C9.1032 6 10 6.8952 10 8C10 9.1056 9.1032 10 8 10C6.8944 10 6 9.1056 6 8C6 6.8952 6.8944 6 8 6ZM6 18L9 14L11 16L15 11L18 18H6Z",fill:s}),(0,r.jsx)("path",{d:"M21 0V3H24V5H21V8H19V5H16V3H19V0H21Z",fill:s})]}))}var Dn=n(725002),Fn=n(472622),Hn=n.n(Fn);function Un(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Gn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0){a.push(r.value);if(t&&a.length===t)break}}catch(e){s=!0;i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||function(e,t){if(!e)return
;if("string"==typeof e)return Un(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Un(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Vn={scale:.95,opacity:0},Bn={scale:1,opacity:1},zn={scale:1,opacity:1},Wn={tension:2400,friction:52};function Kn(e){var t=e.channelId,n=e.onClick,a=e.onClose,o=e.onMouseEnter,s=i.useRef(null),l=(0,m.e7)([D.Z],(function(){return D.Z.getChannel(t)}),[t]);Wt()(null!=l,"Forum Channel is null");return(0,r.jsxs)(v.P3,{className:Hn().uploadInput,onMouseEnter:o,onClick:function(){(0,ae.N3)({isMobile:!1});null==n||n()},children:[(0,r.jsx)(Tn.Z,{className:Hn().fileInput,ref:s,onChange:function(e){null==a||a();(0,
mn.d)(e.currentTarget.files,l,F.d.FirstThreadMessage,{requireConfirm:!0});Re.S.dispatch(ke.CkL.TEXTAREA_FOCUS);e.currentTarget.value=null},multiple:l.rateLimitPerUser<=0,tabIndex:-1,"aria-hidden":!0}),(0,r.jsx)(kn,{width:28,height:28,className:Hn().uploadIcon})]})}function qn(e){var t=e.channelId,n=e.closePopout,a=Gn(i.useState(!1),2),o=a[0],s=a[1],l=i.useContext(An.S).reducedMotion,c=(0,le.useSpring)({from:l.enabled?Bn:Vn,to:zn,config:Wn}),u=(0,m.e7)([j.Z],(function(){return j.Z.keyboardModeEnabled})),d=(0,m.e7)([U.Z],(function(){return U.Z.getUploads(t,Xt.I.CREATE_FORUM_POST.drafts.type)}));return(0,r.jsx)(le.animated.div,{className:Hn().popoutContainer,onMouseLeave:function(){o||n()},style:c,children:(0,r.jsxs)(Dn.ZP,{orientation:"horizontal",className:Hn().popout,paddingFix:!1,fade:!0,children:[(0,r.jsx)(Kn,{channelId:t,onClick:function(){s(!0)},onClose:function(){s(!1);n()}}),(0,r.jsx)("div",{className:Hn().uploads,children:d.map((function(e){return(0,r.jsx)(Mn.Z,{channelId:t,
draftType:Xt.I.CREATE_FORUM_POST.drafts.type,upload:e,keyboardModeEnabled:u,hideFileName:!0,size:Rn.q.SMALL},e.id)}))})]})})}function Xn(e){var t=e.channelId,n=Gn(i.useState(!1),2),a=n[0],o=n[1],s=(0,m.e7)([U.Z],(function(){return U.Z.getUploads(t,Xt.I.CREATE_FORUM_POST.drafts.type)})),l=s.length,c=l>0;i.useEffect((function(){a&&!c&&o(!1)}),[a,c]);var u=function(){c&&o(!0)};return(0,r.jsxs)("div",{className:Hn().container,children:[c?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Mn.r,{upload:s[0],size:Rn.q.SMALL,onMouseEnter:u}),!a&&(0,r.jsx)("div",{className:Hn().badge,children:l})]}):(0,r.jsx)(Kn,{onMouseEnter:u,channelId:t}),a&&(0,r.jsx)(qn,{channelId:t,closePopout:function(){o(!1)}})]})}var Yn=n(240709),$n=n(305668),Qn=n(195123),Jn=n.n(Qn);function er(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function tr(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}const nr=function(e){var t=e.rateLimitPerUser,n=e.slowmodeCooldownGuess,i=e.isBypassSlowmode,a=e.leadingIcon,s=void 0!==a&&a,l="",c="";if(t>=ke.UF9.HOUR){var u=Math.floor(t/ke.UF9.HOUR),d=Math.floor((t-u*ke.UF9.HOUR)/ke.UF9.MINUTE),f=t-u*ke.UF9.HOUR-d*ke.UF9.MINUTE;c=De.Z.Messages.FORUM_SLOWMODE_DESC_HOURS.format({hours:u,minutes:d,seconds:f})}else if(t>=60){var h=Math.floor(t/60),g=t-60*h;c=De.Z.Messages.FORUM_SLOWMODE_DESC_MINUTES.format({minutes:h,seconds:g})}else c=De.Z.Messages.FORUM_SLOWMODE_DESC.format({seconds:t});if(!i&&n>0){var m=se().duration(n)
;if(n>1e3*ke.UF9.HOUR){var p="".concat(m.minutes()).padStart(2,"0"),y="".concat(m.seconds()).padStart(2,"0");l="".concat(m.hours(),":").concat(p,":").concat(y)}else{var b="".concat(m.seconds()).padStart(2,"0");l="".concat(m.minutes(),":").concat(b)}}else l=i?De.Z.Messages.CHANNEL_SLOWMODE_DESC_IMMUNE:De.Z.Messages.CHANNEL_SLOWMODE_DESC_SHORT;var O=(0,r.jsx)(v.xv,{variant:"text-sm/normal",color:"text-muted",children:l}),x=(0,r.jsx)($n.Z,{className:o()(Jn().slowModeIcon,er({},Jn().leadingIcon,s))});return(0,r.jsx)(cn.ZP,{text:c,children:function(e){return(0,r.jsx)("div",tr(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){er(e,t,n[t])}))}return e}({className:Jn().cooldownWrapper},e),{children:s?(0,r.jsxs)(r.Fragment,{children:[x,O]}):(0,
r.jsxs)(r.Fragment,{children:[O,x]})}))}})};var rr=n(753274),ir=n(468068);function ar(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function or(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0){a.push(r.value);if(t&&a.length===t)break}}catch(e){s=!0;i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ar(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ar(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var sr="undefined"==typeof ResizeObserver?rr.d:ResizeObserver,lr=new Map,cr=new sr((function(e){e.forEach((function(e){var t,n=e.target;null===(t=lr.get(n))||void 0===t||t(e)}))}));const ur=function(){var e=i.useRef(null),t=or(i.useState(400),2),n=t[0],r=t[1],a=i.useCallback((function(){null!==e.current&&r(e.current.clientWidth)}),[r,e]);(0,ir.zn)({ref:e,key:"forum-container",onUpdate:a,resizeObserver:cr,listenerMap:lr});return{containerRef:e,containerWidth:n}};var dr=n(35236),fr=n(977635),hr=n.n(fr);function gr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mr(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function pr(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0
}):e[t]=n;return e}function vr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){pr(e,t,n[t])}))}return e}function yr(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function br(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){
var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0){a.push(r.value);if(t&&a.length===t)break}}catch(e){s=!0;i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return gr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Or=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){
if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;(r=0,i)&&(a=[2&a[0],i.value]);switch(a[0]){case 0:case 1:i=a;break;case 4:o.label++;return{value:a[1],done:!1};case 5:o.label++;r=a[1];a=[0];continue;case 7:a=o.ops.pop();o.trys.pop();continue;default:if(!(i=o.trys,i=i.length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1];i=a;break}if(i&&o.label<i[2]){o.label=i[2];o.ops.push(a);break}i[2]&&o.ops.pop();o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e];r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},xr=Xt.I.CREATE_FORUM_POST;function jr(e){var t=e.parentChannel,n=e.isSearchLoading,a=e.onChange,s=e.canCreatePost,l=e.inputRef,u=(0,Ke.xH)((function(e){return{textAreaState:e.textAreaState,formOpen:e.formOpen}
}),c.Z),d=u.textAreaState,f=u.formOpen,h=br(i.useState(null),2),g=h[0],p=h[1],y=i.useContext(Y.oo),b=i.useCallback((function(){y.bumpDispatchPriority()}),[y]),O=(0,m.e7)([on.Z],(function(){return on.Z.can(ke.Plq.ATTACH_FILES,t)})),x=(0,m.Wu)([U.Z],(function(){return U.Z.getUploads(t.id,F.d.FirstThreadMessage)})),j=function(e,t){var n=(0,Ke.AF)(),r=(0,te.ql)(e),a=i.useCallback((function(){var i=n.getState(),a=i.formOpen,o=i.setFormOpenFromUserAction,s=i.name,l=i.textAreaState,c=i.hasClickedForm;if(!a){setTimeout((function(){if(t.current instanceof v.lc){var e,n,r,i;null===(e=t.current)||void 0===e||null===(n=e._textArea)||void 0===n||n.setSelectionRange(s.length,s.length);null===(r=t.current)||void 0===r||null===(i=r._textArea)||void 0===i||i.focus()}}),0);(c&&s.length>0||l.textValue.trim().length>0&&l.textValue.trim()!==r||U.Z.getUploads(e.id,F.d.FirstThreadMessage).length>0)&&o()}}),[n,e.id,r,t]);return a}(t,l),S=function(e){var t=(0,Ke.xH)((function(e){return{formOpen:e.formOpen}
}),c.Z).formOpen,n=(0,Ke.AF)(),r=(0,an.r)({parentChannel:e});i.useEffect((function(){var e=n.getState(),t=e.setNameError,r=e.setMessageError;t(null);r(null)}),[t,n]);var a=i.useCallback((function(t,r,i){var a=n.getState(),o=a.name,s=a.textAreaState;null==t&&(t=s.textValue);t=t.trim();t=en.ZP.parse(e,t).content;if(null==r||0===r.length){var l;r=null===(l=tn.Z.getStickerPreview(e.id,xr.drafts.type))||void 0===l?void 0:l.map((function(e){return e.id}))}null!=i&&0!==i.length||(i=U.Z.getUploads(e.id,F.d.FirstThreadMessage));return{content:t,stickers:r,uploads:i,hasNameError:0===o.length,hasMessageError:!(null!=t&&0!==t.length||null!=r&&0!==r.length||0!==i.length)}}),[e,n]);return i.useCallback((s=(o=function(t,i,o){var s,l,c,u,d,f,h,g,m,p,v,y,b,O,x,j,S,C,E,w;return Or(this,(function(_){switch(_.label){case 0:s=n.getState(),l=s.setNameError,c=s.setMessageError,u=s.setSubmitting,d=s.resetFormState,f=s.formOpen,h=s.setFormOpen,g=s.setFormOpenFromUserAction,m=s.setGuidelinesOpen
;p=xn.Z.hasSeen(e.id);if(!f){(0,ae.P_)({guildId:e.guild_id,channelId:e.id});p||n.getState().setGuidelinesOpen(!0);g();return[2,{shouldClear:!1,shouldRefocus:!1}]}v=a(t,i,o),y=v.content,b=v.stickers,O=v.uploads,x=v.hasNameError,j=v.hasMessageError;l(x?yn(De.Z.Messages.FORUM_POST_EMPTY_TITLE_ERROR):null);c(j?yn(De.Z.Messages.FORUM_POST_EMPTY_MESSAGE_ERROR):null);if(x||j)return[2,{shouldClear:!1,shouldRefocus:!0}];_.label=1;case 1:_.trys.push([1,4,5,6]);u(!0);return[4,(0,gn.v)({content:y,stickers:b,uploads:O,type:xr,channel:e})];case 2:return _.sent().valid?[4,r(y,b,O)]:[2,{shouldClear:!1,shouldRefocus:!0}];case 3:S=_.sent();(0,Z.ok)(S);Q.Z.resort(e.id);(0,nn.qB)(e.id,xr.drafts.type);d();h(!1);xn.Z.markAsSeen(e.id);m(!1);return[2,{shouldClear:!0,shouldRefocus:!1}];case 4:C=_.sent();(null===(E=C.body)||void 0===E?void 0:E.code)===ke.evJ.AUTOMOD_TITLE_BLOCKED?l(bn(C.body,e)):(null===(w=C.body)||void 0===w?void 0:w.code)===ke.evJ.AUTOMOD_MESSAGE_BLOCKED&&c(bn(C.body,e));return[2,{
shouldClear:!1,shouldRefocus:!0}];case 5:u(!1);return[7];case 6:return[2]}}))},function(){var e=this,t=arguments;return new Promise((function(n,r){var i=o.apply(e,t);function a(e){mr(i,n,r,a,s,"next",e)}function s(e){mr(i,n,r,a,s,"throw",e)}a(void 0)}))}),function(e,t,n){return s.apply(this,arguments)}),[r,a,e,n]);var o,s}(t);i.useLayoutEffect(a,[f,d,x,a]);return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{"aria-label":s?De.Z.Messages.NEW_FORUM_POST:De.Z.Messages.SEARCH,className:o()(hr().container,pr({},hr().collapsed,!f)),onClick:!f&&s?j:void 0,children:(0,r.jsxs)("form",{onMouseDown:b,onFocus:b,onSubmit:function(e){e.preventDefault();s&&S()},children:[(0,r.jsxs)("div",{className:hr().formContainer,children:[(0,r.jsxs)("div",{className:hr().form,children:[(0,r.jsx)(Sr,{editorRef:g,parentChannel:t,isSearchLoading:n,inputRef:l,canCreatePost:s}),f&&(0,r.jsx)(Er,{editorRef:g,setEditorRef:p,parentChannel:t,submit:S,disabled:!s})]}),f&&O&&s&&(0,r.jsx)(Xn,{channelId:t.id})]}),(0,
r.jsx)("div",{className:hr().form,children:f&&(0,r.jsx)(wr,{parentChannel:t,canCreatePost:s})})]})})})}var Sr=i.memo((function(e){var t=e.parentChannel,n=e.isSearchLoading,a=e.inputRef,o=e.canCreatePost,s=e.editorRef,l=(0,Ke.xH)((function(e){return{formOpen:e.formOpen,nameError:e.nameError,name:e.name,textAreaState:e.textAreaState,hasClickedForm:e.hasClickedForm,submitting:e.submitting}}),c.Z),u=l.formOpen,d=l.nameError,f=l.name,h=l.textAreaState,g=l.hasClickedForm,p=l.submitting,y=(0,Ke.AF)(),b=null!=t.topic&&0!==t.topic.length,O=xn.Z.hasSeen(t.id),x=(0,te.ql)(t),j=(0,m.e7)([ln.default],(function(){return ln.default.getCurrentUser()}));Wt()(null!=j,"current user cannot be null");(0,Y.yp)({event:ke.CkL.FOCUS_COMPOSER_TITLE,handler:function(){var e,t=a.current instanceof v.lc?null===(e=a.current)||void 0===e?void 0:e._textArea:a.current;null==t||t.focus();y.getState().setTitleFocused(!0);y.getState().setFormOpen(!0);y.getState().setHasClickedForm(!0)}});var S=i.useCallback((function(){
var e;y.getState().resetFormState();Kt.Z.clearDraft(t.id,F.d.ThreadSettings);Kt.Z.clearDraft(t.id,F.d.FirstThreadMessage);qt.Z.clearAll(t.id,F.d.FirstThreadMessage);y.getState().setFormOpen(!1);y.getState().setBodyFocused(!1);y.getState().setTitleFocused(!1);y.getState().setHasClickedForm(!1);null===(e=a.current)||void 0===e||e.blur();(0,ae.Oq)({guildId:t.guild_id,channelId:t.id})}),[y,t.id,t.guild_id,a]),C=i.useMemo((function(){return n&&!u?(0,r.jsx)(Pr,{}):n||u||0!==h.textValue.trim().length&&h.textValue.trim()!==x?!u&&(f.trim().length>0||h.textValue.trim().length>0&&h.textValue.trim()!==x||U.Z.getUploads(t.id,F.d.FirstThreadMessage).length>0)&&g?(0,r.jsx)(yt.Z,{className:hr().pencilIcon,width:24,height:24}):p?(0,r.jsx)(un.Z,{className:hr().closeIconDisabled,width:24,height:24}):(0,r.jsx)(v.P3,{onClick:S,children:(0,r.jsx)(cn.ZP,{text:De.Z.Messages.FORUM_CLEAR_ALL,children:function(e){return(0,r.jsx)(un.Z,yr(vr({},e),{className:hr().closeIcon,width:24,height:24}))}})}):(0,
r.jsx)(dn.Z,{className:hr().searchIcon,width:24,height:24})}),[n,u,g,f,h.textValue,S,t.id,x,p]),E=i.useCallback((function(e){var n=e.clipboardData.files[0];if(null!=n&&n.type.startsWith("image/")){e.preventDefault();(0,mn.d)([n],t,F.d.FirstThreadMessage);y.getState().setFormOpenFromUserAction()}}),[t,y]),w=On(d,{content:f});return(0,r.jsxs)("div",{className:hr().titleContainer,onPaste:E,children:[(0,r.jsx)("div",{className:hr().prefixElement,children:C}),(0,r.jsx)(v.Kx,{value:f,placeholder:o?u||h.textValue.length>0&&h.textValue.trim()!==x?De.Z.Messages.FORUM_POST_TITLE_PLACEHOLDER_FOCUSED:De.Z.Messages.FORUM_POST_TITLE_PLACEHOLDER_SEARCH:De.Z.Messages.SEARCH,flex:!0,autosize:u,rows:1,showCharacterCount:!1,showRemainingCharacterCount:!1,maxLength:ke.HN8,onChange:function(e){var n=(0,rn.Z)(e,!1);y.getState().setName(n);var r=0===n.trim().length,i=0===h.textValue.trim().length,a=h.textValue.trim()===x;r&&(i||a)&&y.getState().setHasClickedForm(!1);u||Q.Z.updateForumSearchQuery(t.id,n)},
onFocus:function(){y.getState().setTitleFocused(!0);y.getState().setBodyFocused(!1)},onBlur:function(){y.getState().setTitleFocused(!1);var e=(0,rn.Z)(f,!0);if(e!==f){y.getState().setName(e);u||Q.Z.updateForumSearchQuery(t.id,e)}},onKeyDown:function(e){var n;if("Enter"===e.key){e.preventDefault();e.stopPropagation();if(u&&f.length>0)null==s||s.focus();else if(o&&e.shiftKey){(0,ae.nH)({guildId:t.guild_id,channelId:t.id});b&&!O&&y.getState().setGuidelinesOpen(!0);y.getState().setFormOpenFromUserAction();if(f.trim().length>0){y.getState().setBodyFocused(!0);null==s||s.focus()}}}var r=a.current instanceof v.lc?null===(n=a.current)||void 0===n?void 0:n._textArea:a.current;if("Home"===e.key||"End"===e.key){if(null==r)return;e.preventDefault();e.stopPropagation();if("Home"===e.key)r.setSelectionRange(0,0);else{var i=f.length;r.setSelectionRange(i,i)}}if("Escape"===e.key&&!y.getState().submitting){var l;null===(l=a.current)||void 0===l||l.blur();y.getState().setFormOpen(!1)
;y.getState().setTitleFocused(!1);y.getState().setBodyFocused(!1)}},error:w,className:hr().title,inputRef:a}),u?null:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Cr,{parentChannel:t}),(0,r.jsx)(_r,{parentChannel:t,canCreatePost:o})]})]})}));function Cr(e){var t=e.parentChannel,n=(0,Ke.xH)((function(e){return{guidelinesOpen:e.guidelinesOpen}})).guidelinesOpen,i=(0,Ke.AF)(),a=null!=t.topic&&0!==t.topic.length,s=function(){i.getState().setGuidelinesOpen(!n)};return a?(0,r.jsx)(cn.ZP,{text:De.Z.Messages.FORUM_POST_GUIDELINES_TITLE,children:function(e){return(0,r.jsx)(v.P3,yr(vr({},e),{onClick:s,className:o()(hr().guidelinesButton,pr({},hr().guidelinesOpen,n)),children:(0,r.jsx)(vt.Z,yr(vr({},e),{width:24,height:24}))}))}}):null}var Er=i.memo((function(e){var t=e.parentChannel,n=e.submit,a=e.disabled,s=void 0!==a&&a,l=e.editorRef,u=e.setEditorRef,d=(0,m.e7)([ln.default],(function(){return ln.default.getCurrentUser()}));Wt()(null!=d,"current user cannot be null");var f=(0,Ke.xH)((function(e){
return{messageError:e.messageError,textAreaState:e.textAreaState,bodyFocused:e.bodyFocused,formOpen:e.formOpen}}),c.Z),h=f.messageError,g=f.textAreaState,p=f.bodyFocused,y=f.formOpen,b=(0,Ke.AF)();i.useEffect((function(){return function(){return(0,ae.Vn)({guildId:t.guild_id,channelId:t.id})}}),[t.guild_id,t.id]);var O=i.useCallback((function(){b.getState().setBodyFocused(!0)}),[b]),x=i.useCallback((function(){b.getState().setBodyFocused(!1)}),[b]),j=i.useCallback((function(e,t,n){(0,b.getState().setTextAreaState)({textValue:t,richValue:n})}),[b]),S=i.useCallback((function(e){var t=e.value,r=e.uploads,i=e.stickers;return n(t,i,r)}),[n]);(0,Y.yp)({event:ke.CkL.TEXTAREA_FOCUS,handler:O});(0,Y.yp)({event:ke.CkL.TEXTAREA_BLUR,handler:x});var C=On(h,{content:g.textValue});return(0,r.jsx)("div",{className:hr().bodyContainer,children:(0,r.jsxs)("div",{className:hr().contentContainer,children:[(0,r.jsx)("div",{onClick:O,children:(0,r.jsx)($t.Z,{type:xr,setEditorRef:u,channel:t,
placeholder:De.Z.Messages.FORUM_POST_MESSAGE_PLACEHOLDER,textValue:g.textValue,richValue:g.richValue,focused:p,className:hr().channelTextArea,innerClassName:o()(hr().channelTextAreaInner,pr({},hr().channelTextAreaInnerError,null!=C)),onChange:j,onSubmit:S,promptToUpload:mn.d,disabled:s,onKeyDown:function(e){"ArrowUp"!==e.key&&"ArrowDown"!==e.key||e.stopPropagation();if("Home"===e.key||"End"===e.key){if(null==l)return;e.preventDefault();e.stopPropagation();var t=l.getSlateEditor();if(null==t)return;"Home"===e.key?Jt.Q.resetSelectionToStart(t):Jt.Q.resetSelectionToEnd(t)}if(y&&"Escape"===e.key&&!b.getState().submitting){null==l||l.blur();b.getState().setFormOpen(!1);b.getState().setTitleFocused(!1);b.getState().setBodyFocused(!1)}},autoCompletePosition:hn.vK.BOTTOM})}),(0,r.jsx)(v.pd,{error:C})]})})})),wr=i.memo((function(e){var t=e.parentChannel,n=e.canCreatePost,a=(0,Ke.xH)((function(e){return{textAreaState:e.textAreaState,appliedTags:e.appliedTags,name:e.name}
})),o=a.textAreaState,s=a.appliedTags,l=a.name,c=t.rateLimitPerUser,u=c>0,d=(0,m.e7)([sn.Z],(function(){return sn.Z.getSlowmodeCooldownGuess(t.id,sn.S.CreateThread)})),f=(0,m.e7)([on.Z],(function(){return on.Z.can(ke.Plq.MANAGE_THREADS,t)||on.Z.can(ke.Plq.MANAGE_CHANNELS,t)})),h=t.hasFlag(dr.zZ.REQUIRE_TAG)&&0===s.size&&l.length>0&&o.textValue.length>0,g=(0,Ke.AF)(),p=i.useCallback((function(){g.getState().setBodyFocused(!1)}),[g]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Nr,{parentChannel:t}),(0,r.jsx)("div",{className:hr().tagsDivider}),(0,r.jsxs)("div",{className:hr().controlsContainer,children:[(0,r.jsxs)("div",{className:hr().controls,children:[(0,r.jsxs)("div",{className:hr().wrappedControls,children:[h&&(0,r.jsx)(v.xv,{variant:"text-sm/normal",color:"text-danger",children:De.Z.Messages.FORUM_POST_TAG_REQUIRED_ERROR}),(0,r.jsx)(Qt.Z,{type:xr,textValue:o.textValue,className:hr().characterCount}),u&&(0,r.jsx)(nr,{rateLimitPerUser:c,slowmodeCooldownGuess:d,
isBypassSlowmode:f,leadingIcon:!0})]}),(0,r.jsx)(Cr,{parentChannel:t}),(0,r.jsx)(_r,{parentChannel:t,disableIfInvalid:!0,canCreatePost:n,disabled:u&&!f&&d>0})]}),(0,r.jsx)(Yt.Z,{type:xr,className:hr().expressionPicker,onClick:p},"expression")]})]})}));function _r(e){var t=e.parentChannel,n=e.canCreatePost,i=e.disabled,a=e.disableIfInvalid,o=void 0!==a&&a,s=(0,Ke.xH)((function(e){return{submitting:e.submitting,textAreaState:e.textAreaState,name:e.name,appliedTags:e.appliedTags,formOpen:e.formOpen}})),l=s.submitting,c=s.textAreaState,u=s.name,d=s.appliedTags,f=s.formOpen,h=t.hasFlag(dr.zZ.REQUIRE_TAG)&&0===d.size&&u.length>0&&c.textValue.length>0,g=(0,m.Wu)([U.Z],(function(){return U.Z.getUploads(t.id,F.d.FirstThreadMessage)})),p=c.textValue.trim().length>0||g.length>0,y=!h&&p&&u.trim().length>0;if(__OVERLAY__)return null;var b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.jsxs)(v.zx,yr(vr({},e),{size:v.zx.Sizes.SMALL,className:hr().submitButton,
innerClassName:hr().submitButtonInner,type:"submit",submitting:l,disabled:o&&!y||i||!n,children:[(0,r.jsx)(Ze.Z,{className:hr().submitIcon,width:16,height:16}),(0,r.jsx)(v.xv,{variant:"text-md/semibold",color:"none",children:f?De.Z.Messages.SUBMIT_POST:De.Z.Messages.NEW_FORUM_POST_NEW})]}))};return n?b():(0,r.jsx)(cn.ZP,{text:De.Z.Messages.FORUM_NO_POST_PERMISSION_HELP,children:function(e){return b(e)}})}function Nr(e){var t=e.parentChannel,n=(0,Ke.xH)((function(e){return{appliedTags:e.appliedTags,toggleAppliedTag:e.toggleAppliedTag,setPopoutOpen:e.setPopoutOpen}}),c.Z),a=n.appliedTags,s=n.toggleAppliedTag,l=n.setPopoutOpen,u=a.size>=qe.Cn,d=ur(),f=d.containerRef,h=d.containerWidth,g=i.useRef(null),m=br(i.useState(!0),2),p=m[0],y=m[1],b=(0,te.Vm)(t),O=br(i.useState(0),2),x=O[0],j=O[1];i.useLayoutEffect((function(){var e,t=g.current,n=null==t||null===(e=t.children)||void 0===e?void 0:e[0],r=null==t||null==n||n.clientHeight>t.clientHeight;r!==p&&y(r)
;if(r&&null!=f.current&&null!=n&&null!=n.children){var i=f.current.getBoundingClientRect(),a=i.left,o=i.top,s=0,l=!0,c=!1,u=void 0;try{for(var d,h=n.children[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var m=d.value.getBoundingClientRect(),v=m.right;if(m.top-o>m.height)break;v-a>s&&(s=v-a)}}catch(e){c=!0;u=e}finally{try{l||null==h.return||h.return()}finally{if(c)throw u}}j(s)}}),[b,p,f,h]);return 0===b.length?null:(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:hr().tagsContainer,ref:f,children:[(0,r.jsx)(fn.Z,{className:hr().tagsIcon,width:16,height:16}),(0,r.jsx)("div",{className:hr().tagList,ref:g,children:(0,r.jsx)("div",{className:hr().tagListInner,children:b.map((function(e){return(0,r.jsx)(Yn.ZP,{tag:e,onClick:u&&!a.has(e.id)?void 0:function(){return s(e.id)},disabled:!a.has(e.id)&&a.size>=qe.Cn,selected:a.has(e.id),size:Yn.ZP.Sizes.SMALL},e.id)}))})}),p&&(0,r.jsx)(V.ZP,{onRequestOpen:function(){return l(!0)},onRequestClose:function(){return l(!1)},
renderPopout:function(e){var n=e.closePopout;return(0,r.jsx)(Pn,{parentChannel:t,appliedTags:a,maxTagsApplied:u,onSelectTag:s,onClose:n})},position:V.ZP.Positions.BOTTOM,align:V.ZP.Align.CENTER,children:function(e){return(0,r.jsxs)(v.zx,yr(vr({},e),{size:v.zx.Sizes.TINY,className:hr().tagsButton,innerClassName:hr().tagsButtonInner,style:{left:x},look:v.zx.Looks.LINK,"aria-label":De.Z.Messages.ADD_TAG_FORUM_POST,children:[De.Z.Messages.FORUM_TAG_SEE_MORE,(0,r.jsx)(B.Z,{width:16})]}))}}),(0,r.jsxs)(v.zx,{size:v.zx.Sizes.TINY,className:o()(hr().tagsButton,hr().tagsButtonPlaceholder),innerClassName:hr().tagsButtonInner,look:v.zx.Looks.LINK,"aria-label":De.Z.Messages.ADD_TAG_FORUM_POST,children:[De.Z.Messages.FORUM_TAG_SEE_MORE,(0,r.jsx)(B.Z,{width:16})]})]})})}function Pr(e){var t=e.style,n=e.className;return(0,r.jsx)("div",{className:n,style:t,children:(0,r.jsx)("div",{className:hr().loader})})}
var Tr,Ar=n(451964),Rr=n(884021),Mr=n(832010),Ir=n(382394),Zr=n(856389),Lr=n(409271),kr=n(966303),Dr=n(535093),Fr=n(911016),Hr=n(10178),Ur=n(410150),Gr=n(43016),Vr=n(122768),Br=n(287084),zr=n(674455),Wr=n(553494),Kr=n(5387),qr=n.n(Kr),Xr="absolute";!function(e){e[e.COVER=1]="COVER";e[e.CONTAIN=2]="CONTAIN";e[e.CONTAIN_STRETCHED=3]="CONTAIN_STRETCHED"}(Tr||(Tr={}));var Yr=function(e,t,n,r){if(0===n)return[];if(1===n)return[{width:e,height:t,top:0,left:0,position:Xr}];if(2===n){var i=Math.ceil((e-r)/2);return[{top:0,left:0,position:Xr,width:i,height:t},{top:0,left:i+r,position:Xr,width:i,height:t}]}if(3===n){var a=Math.ceil((e-r)/2),o=Math.ceil((t-r)/2);return[{top:0,left:0,position:Xr,width:a,height:t},{top:0,left:a+r,position:Xr,width:a,height:o},{top:o+r,left:a+r,position:Xr,width:a,height:o}]}var s=Math.ceil((e-r)/2),l=Math.ceil((t-r)/2);return[{top:0,left:0,position:Xr,width:s,height:l},{top:l+r,left:0,position:Xr,width:s,height:l},{top:0,left:s+r,position:Xr,width:s,height:l},{
top:l+r,left:s+r,position:Xr,width:s,height:l}]};var $r=new(qr())({max:100});function Qr(e){var t=e.numAttachments,n=e.containerWidth,r=e.containerHeight;return i.useMemo((function(){return function(e){var t=e.numAttachments,n=e.containerWidth,r=e.containerHeight,i=function(e,t,n){return"".concat(e,"-").concat(t,"-").concat(n)}(t,n,r),a=$r.get(i);if(null!=a)return a;var o=Yr(n,r,t,4);$r.set(i,o);return o}({numAttachments:t,containerWidth:n,containerHeight:r})}),[t,n,r])}function Jr(e){return e.map((function(t,n){return{minWidth:2*e[n].width,minHeight:2*e[n].height,maxWidth:2*e[n].width,maxHeight:2*e[n].height}}))}const ei=(0,Wr.B)({kind:"user",id:"2022-11_grid_view_image_fitting_strategy",label:"Grid View Media Fitting Strategy",defaultConfig:{strategy:Tr.COVER},treatments:[{id:1,label:"CONTAIN",config:{strategy:Tr.CONTAIN}},{id:2,label:"CONTAIN_STRETCHED",config:{strategy:Tr.CONTAIN_STRETCHED}}]});var ti=function(){function e(t){var n=t.minWidth,r=t.maxWidth,i=t.gap;!function(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);Wt()(n<r,"minWidth needs to be smaller than maxWidth");this.minWidth=n;this.maxWidth=r;this.gap=i}var t=e.prototype;t.getWidth=function(e){return this.getRenderOptions(e).columnWidth};t.getRenderOptions=function(e){if(e<=this.minWidth)return{columns:1,columnWidth:this.minWidth};var t=e/this.maxWidth,n=e/this.minWidth,r=Math.max(Math.floor(t+(n-t)/2),1);return{columns:r,columnWidth:(e-this.gap*(r-1))/r}};return e}(),ni={columns:1,columnWidth:450},ri=function(e){var t=e-2;return[t,Math.ceil(.6666666666666666*t)]},ii=function(e){return 60+ri(e-24)[1]+24+36},ai=n(224963),oi=n(732151),si=n(65552),li=n(920574);function ci(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ui(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function di(e,t){return function(e){if(Array.isArray(e))return e
}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0){a.push(r.value);if(t&&a.length===t)break}}catch(e){s=!0;i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ci(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ci(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var fi="data-grid-item-id",hi="data-grid-section",gi="data-grid-prev-section-boundary",mi=new Set([f.R8.UP,f.R8.DOWN,f.R8.LEFT,f.R8.RIGHT]);function pi(e){
var t=e.section,n=e.column,r=e.row,i="[".concat(hi,'="').concat(t,'"]'),a="[".concat("aria-colindex",'="').concat(n,'"]'),o="[".concat("aria-rowindex",'="').concat(r,'"]');return"".concat(i).concat(a).concat(o)}var vi={id:"NO_LIST",setFocus:function(){}},yi={id:"NO_LIST",onKeyDown:function(){},ref:i.createRef(),tabIndex:-1},bi=i.createContext(vi),Oi=i.createContext(yi);function xi(e){var t=e.children,n=e.navigator,a=n.id,o=n.setFocus,s=n.containerProps,l=s.onKeyDown,c=s.ref,u=s.tabIndex,d=i.useMemo((function(){return{id:a,setFocus:o}}),[a,o]),f=i.useMemo((function(){return{onKeyDown:l,ref:c,id:a,tabIndex:u}}),[l,c,a,u]);return(0,r.jsx)(Oi.Provider,{value:f,children:(0,r.jsx)(bi.Provider,{value:d,children:t})})}var ji=n(752675),Si=n(651720),Ci=n.n(Si);function Ei(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wi(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}
function _i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){wi(e,t,n[t])}))}return e}function Ni(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Pi(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++){n=a[r];t.indexOf(n)>=0||(i[n]=e[n])}return i}(e,t)
;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++){n=a[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}}return i}function Ti(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0){a.push(r.value);if(t&&a.length===t)break}}catch(e){s=!0;i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ei(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ei(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const Ai=i.memo((function(e){var t=e.id,n=e.threadId,i=e.goToThread,a=e.overrideMedia,o=e.className,s=e.coords,l=e.gridCoords,c=e.gridSectionBoundaries,u=e.observePostVisibilityAnalytics,d=(0,m.e7)([D.Z],(function(){return D.Z.getChannel(n)}));return null==d?null:(0,r.jsx)(Ri,{id:t,channel:d,goToThread:i,overrideMedia:a,className:o,coords:s,gridCoords:l,observePostVisibilityAnalytics:u,gridSectionBoundaries:c})}));function Ri(e){var t=e.id,n=e.channel,a=e.goToThread,s=e.overrideMedia,l=e.className,c=e.coords,u=e.gridCoords,d=e.gridSectionBoundaries,f=e.observePostVisibilityAnalytics,h=n.id,g=i.useRef(null),p=(0,m.e7)([k.ZP],(function(){return k.ZP.getCurrentSidebarChannelId(n.parent_id)===n.id})),y=(0,Br.cl)(n),b=y.firstMessage,O=y.loaded,x=(0,te.mX)({firstMessage:b,formatInline:!1,noStyleAndInteraction:!1
}).firstMedia,j=null!=s?s:x,S=(0,te.nP)(n).messageCountText,C=(0,te.J$)(n),E=C.isNew,w=C.hasUnreads,_=i.useRef(null),N=(0,ji.Z)({facepileRef:_,goToThread:a,channel:n}),P=N.handleLeftClick,T=N.handleRightClick;i.useEffect((function(){null==f||f(g.current,h)}),[f,h]);var A=(0,m.e7)([on.Z],(function(){return on.Z.can(ke.Plq.MANAGE_MESSAGES,n)})),R=Lr.QK.useSetting(),M=Lr.cC.useSetting(),I=(0,Ir.Z)(M,A),Z=(0,zr.zy)(b,!1),L=Ti(ri(c.width-24),2),D=L[0],F=L[1],H=(0,te.xw)(n,Ar.z.CREATION_DATE,qe.R6.POSTED_DURATION_AGO),U=(0,Mt.NN)(n),G=(null==b?void 0:b.blocked)||null==j,V=w?"header-primary":"text-muted",B=function(e){var t,n=e.id,r=e.section,a=e.row,o=e.column,s=e.boundaries,l=di(i.useState(0===a&&0===o?0:-1),2),c=l[0],u=l[1],d=i.useContext(bi),f=d.id,h=d.setFocus,g=i.useCallback((function(){return h(n)}),[n,h]);i.useLayoutEffect((function(){return(0,si.N)(f,(function(e){u(e===n?0:-1)}))}),[n,f]);return ui(t={},fi,(0,li.jb)(f,n)),ui(t,hi,r),ui(t,gi,s[r]),ui(t,"role","gridcell"),
ui(t,"aria-rowindex",a),ui(t,"aria-colindex",o),ui(t,"tabIndex",c),ui(t,"onFocus",g),t}({id:t,row:u.row,column:u.column,section:u.section,boundaries:d}),z=B.onFocus,W=Pi(B,["onFocus"]);return(0,r.jsxs)("li",{ref:g,onClick:P,onFocus:z,onContextMenu:T,className:o()(Ci().container,l,wi({},Ci().isOpen,p)),style:_i({},c),children:[(0,r.jsx)(v.P3,_i({onClick:P,focusProps:{ringTarget:g},onContextMenu:T,"aria-label":De.Z.Messages.FORUM_POST_ARIA_LABEL.format({title:n.name,count:S}),className:Ci().focusTarget},W)),(0,r.jsxs)("div",{className:Ci().header,children:[(0,r.jsxs)("div",{className:Ci().authorRow,children:[(0,r.jsxs)("div",{className:Ci().rowGroup,children:[(0,r.jsx)(ai.Z,{channel:n,message:b}),(0,r.jsx)(v.xv,{variant:"text-xs/normal",color:"header-secondary",className:Ci().postCreationTimestamp,children:H})]}),E?(0,r.jsx)(Ae.IG,{className:o()(Ci().newBadge),color:(0,Mr.Lq)(ke.Ilk.BRAND_260),text:De.Z.Messages.NEW}):null]}),(0,r.jsx)(v.y5,{children:(0,r.jsx)(v.X6,{
variant:"heading-md/extrabold",className:Ci().title,color:V,style:{width:"".concat(c.width-24,"px")},children:U})})]}),(0,r.jsx)("div",{className:Ci().postBody,children:(0,r.jsx)(v.Rn,{children:G?(0,r.jsx)(Di,{channel:n,firstMessage:b,isFirstMessageLoaded:O,containerWidth:c.width,hasUnreads:w}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Li,{mediaAttachments:Z,globalSpoilerRenderSetting:I,containerWidth:D,containerHeight:F,canAutoPlay:R}),(0,r.jsx)("div",{className:Ci().tagsRow,children:(0,r.jsx)(oi.ZP,{channel:n,tagsClassName:Ci().tagPill})})]})})}),(0,r.jsx)("div",{className:Ci().footer,children:(0,r.jsx)(v.Rn,{children:(0,r.jsx)(Mi,{channel:n,firstMessage:b,facepileRef:_})})})]})}function Mi(e){var t=e.channel,n=e.facepileRef,i=e.firstMessage,a=(0,te.Q)(t),o=null!=(null==i?void 0:i.reactions)&&i.reactions.length>0;return(0,r.jsxs)("div",{className:Ci().forumPostControls,children:[(0,r.jsxs)("div",{className:Ci().controlsGroup,children:[(0,r.jsx)("div",{
className:Ci().messageCountContainer,children:(0,r.jsx)(Mt.m9,{channel:t,iconSize:16,showReadState:!0})}),a.length>0?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:Ci().bullet,children:"•"}),(0,r.jsxs)("div",{className:Ci().typing,children:[(0,r.jsx)(Mt.og,{channel:t,userIds:a,facepileRef:n}),(0,r.jsx)("div",{className:Ci().dots,children:(0,r.jsx)(Vr.Z,{themed:!0,dotRadius:2})}),(0,r.jsx)(Rr.Z,{channel:t,className:Ci().typingUsers,renderDots:!1})]})]}):null]}),(0,r.jsxs)("div",{className:Ci().controlsGroup,children:[o||null==i?null:(0,r.jsx)(Mt.kZ,{firstMessage:i,channel:t}),null==i?null:(0,r.jsx)(Mt.au,{firstMessage:i,channel:t})]})]})}var Ii=function(e){return e.preventDefault()},Zi=i.memo((function(e){return(0,r.jsx)(r.Fragment,{children:(0,Zr.Yi)(e)})})),Li=i.memo((function(e){var t=e.mediaAttachments,n=e.globalSpoilerRenderSetting,a=e.containerWidth,s=e.containerHeight,l=e.canAutoPlay,c=i.useMemo((function(){return(0,zr.cp)(t)
}),[t]),u=c.containsVideo,d=c.containsGif,f=ei.useExperiment({}).strategy,h=i.useMemo((function(){return t.slice(0,4)}),[t]),g=Qr({numAttachments:h.length,containerWidth:a,containerHeight:s}),m=function(e){var t=e.imageContainerStyles,n=e.containerWidth,r=e.containerHeight,a=i.useRef(Jr(t)),o=i.useRef(n),s=i.useRef(r),l=n>o.current+100,c=r>s.current+100;(l||c)&&(a.current=Jr(t));return a.current}({imageContainerStyles:g,containerWidth:a,containerHeight:s}),p=i.useMemo((function(){switch(f){case Tr.CONTAIN:return Ci().imageContain;case Tr.CONTAIN_STRETCHED:return Ci().imageContainStretched;default:return Ci().imageCover}}),[f]),v=i.useMemo((function(){return h.map((function(e,t){var i=e.spoiler&&!n,a=Ni(_i({},m[t]),{src:e.src,width:e.width,height:e.height,alt:null!=e.alt&&i?De.Z.Messages.SPOILER_HIDDEN_A11Y_LABEL:e.alt,onClick:Ii,shouldRenderAccessory:!d&&!u});return(0,r.jsxs)("div",{className:Ci().bodyMediaFrame,style:g[t],children:[e.src.startsWith("data:")?(0,
r.jsx)(kr.Z,Ni(_i({},a),{className:Ci().mediaContainer,imageClassName:o()(Ci().thumbnailOverride,wi({},Ci().spoiler,i))})):(0,r.jsx)(Zi,Ni(_i({},a),{autoPlay:l,containerClassName:Ci().mosaicMediaContainer,imageClassName:o()(p,wi({},Ci().spoiler,i)),responsive:!0})),i&&(0,r.jsx)("div",{className:Ci().spoilerTagContainer,children:(0,r.jsx)(Ur.Z,{className:Ci().spoilerTag})})]},e.src)}))}),[l,d,u,n,g,m,p,h]);return(0,r.jsxs)("div",{className:Ci().bodyMedia,style:{width:a,height:s},children:[(0,r.jsx)(r.Fragment,{children:v}),(d||u)&&(0,r.jsxs)("div",{className:Ci().mediaIconsRow,children:[u&&(0,r.jsx)(Hr.Z,{width:"22px",height:"22px",className:Ci().mediaIcon}),d&&(0,r.jsx)(Dr.Z,{className:Ci().mediaIcon})]}),t.length>4&&(0,r.jsx)(ki,{text:(t.length-4).toString(),icon:Fr.Z,pillClassName:Ci().moreImagesPill,iconClassName:Ci().moreImagesPillIcon,textClassName:Ci().moreImagesPillText})]})}));function ki(e){var t=e.text,n=e.icon,i=e.pillClassName,a=e.iconClassName,o=e.textClassName;return(0,
r.jsxs)("div",{className:i,children:[(0,r.jsx)(n,{className:a}),(0,r.jsxs)(v.xv,{variant:"text-xs/medium",className:o,children:["+",t]})]})}function Di(e){var t=e.channel,n=e.firstMessage,a=e.isFirstMessageLoaded,s=e.containerWidth,l=e.hasUnreads,c=Ti(ri(s-24),2),u=c[0],d=c[1],f=(0,te.mX)({firstMessage:n,formatInline:!1,noStyleAndInteraction:!0}).content,h=(0,oi.DM)({channel:t,isNew:!1}).shouldRenderTagsRow,g=i.useMemo((function(){return{width:u,height:d}}),[u,d]),m=l?Ci().textContentUnread:Ci().textContentRead;return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:Ci().contentPreview,style:g,children:[(0,r.jsxs)("div",{className:Ci().content,children:[a&&null==n&&(0,r.jsx)(v.xv,{variant:"text-sm/normal",color:l?"header-secondary":"text-muted",children:De.Z.Messages.REPLY_QUOTE_MESSAGE_DELETED}),a&&null!=n&&(0,r.jsx)(Gr.ZP,{message:n,content:f,className:m})]}),(0,r.jsx)("div",{className:o()(Ci().textContentFooter,wi({},Ci().noTags,!h)),children:h?(0,r.jsx)(oi.ZP,{channel:t,
tagsClassName:Ci().tagPill,className:Ci().row}):null})]})})}var Fi=n(458695),Hi=n.n(Fi);function Ui(){return(0,r.jsx)("div",{className:Hi().bodyMedia})}function Gi(){return(0,r.jsxs)("div",{className:Hi().content,children:[(0,r.jsxs)("div",{className:Hi().titleAndMessage,children:[(0,r.jsxs)("div",{className:Hi().header,children:[(0,r.jsxs)("div",{className:Hi().tags,children:[(0,r.jsx)("div",{className:Hi().tag}),(0,r.jsx)("div",{className:Hi().tag}),(0,r.jsx)("div",{className:Hi().tag})]}),(0,r.jsx)("div",{className:Hi().seperator})]}),(0,r.jsx)("div",{className:Hi().time}),(0,r.jsx)("div",{className:Hi().title}),(0,r.jsx)("div",{className:Hi().firstMessage})]}),(0,r.jsxs)("div",{className:Hi().engagement,children:[(0,r.jsx)("div",{className:Hi().reactions}),(0,r.jsx)("div",{className:Hi().replies})]})]})}function Vi(){return(0,r.jsx)("div",{className:Hi().card,children:(0,r.jsxs)("div",{className:Hi().body,children:[(0,r.jsx)(Gi,{}),(0,r.jsx)(Ui,{})]})})}
var Bi=n(769672),zi=n(199150),Wi=n.n(zi);function Ki(e){var t=e.channel,n=e.closePopout,i=(0,ee.H)(t.id),a=i.sortOrder,o=i.layoutType,s=(0,ee.v)(),l=function(e){(0,ae.KR)({guildId:t.guild_id,channelId:t.id,sortOrder:e});s.getState().setSortOrder(t.id,e);n()},c=function(e){(0,ae.Do)({guildId:t.guild_id,channelId:t.id,forumLayout:e});s.getState().setLayoutType(t.id,e);n()};return(0,r.jsx)("div",{className:Wi().container,children:(0,r.jsxs)(Bi.ZP,{navId:"sort-and-view","aria-label":De.Z.Messages.FORUM_SORT_AND_VIEW_AY11_LABEL,hideScroller:!0,onClose:n,onSelect:n,children:[(0,r.jsxs)(Bi.kS,{label:De.Z.Messages.FORUM_CHANNEL_SORT_BY,children:[(0,r.jsx)(Bi.k5,{id:"sort-by-recent-activity",group:"sort-by",label:De.Z.Messages.FORUM_CHANNEL_SORT_BY_RECENTLY_ACTIVE,action:function(){return l(Ar.z.LATEST_ACTIVITY)},checked:a===Ar.z.LATEST_ACTIVITY}),(0,r.jsx)(Bi.k5,{id:"sort-by-date-posted",group:"sort-by",label:De.Z.Messages.FORUM_CHANNEL_SORT_BY_DATE_POSTED,action:function(){
return l(Ar.z.CREATION_DATE)},checked:a===Ar.z.CREATION_DATE})]}),(0,r.jsxs)(Bi.kS,{label:De.Z.Messages.FORUM_CHANNEL_VIEW_AS,children:[(0,r.jsx)(Bi.k5,{id:"view-as-list",group:"view-as",label:De.Z.Messages.FORUM_CHANNEL_VIEW_AS_LIST,action:function(){return c(h.X.LIST)},checked:o===h.X.LIST}),(0,r.jsx)(Bi.k5,{id:"view-as-grid",group:"view-as",label:De.Z.Messages.FORUM_CHANNEL_VIEW_AS_GRID,action:function(){return c(h.X.GRID)},checked:o===h.X.GRID})]}),(0,r.jsx)(Bi.kS,{children:(0,r.jsx)(Bi.sN,{id:"reset-all",className:Wi().clearText,label:(0,r.jsx)(v.xv,{variant:"text-sm/medium",color:"none",children:De.Z.Messages.FORUM_CHANNEL_RESET_ALL}),action:function(){l(t.getDefaultSortOrder());c(t.getDefaultLayout())}})})]})})}
var qi=n(463516),Xi=n(387201),Yi=n(739388),$i=n(309137),Qi=n(719911),Ji=n(978571),ea=n(60890),ta=n(444354),na=n(433250),ra=n(365207),ia=n(658620),aa=n(664970),oa=n(283369),sa=n(105405),la=n(396569),ca=n(81320),ua=n(304546),da=n(922499),fa=n(170161),ha=n(823584),ga=n(219842),ma=n(493316),pa=n(388968),va=n(215219),ya=n(852453);var ba=n(30968),Oa=n(6349),xa=n(504003),ja=n(364676),Sa=n(611191),Ca=n.n(Sa),Ea=n(220408),wa=n.n(Ea);function _a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Na(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function Pa(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Ta(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Pa(e,t,n[t])}))}return e}function Aa(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Ra(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++){n=a[r];t.indexOf(n)>=0||(i[n]=e[n])}return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++){n=a[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}}return i}function Ma(e,t){return function(e){
if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0){a.push(r.value);if(t&&a.length===t)break}}catch(e){s=!0;i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ia=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},
"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;(r=0,i)&&(a=[2&a[0],i.value]);switch(a[0]){case 0:case 1:i=a;break;case 4:o.label++;return{value:a[1],done:!1};case 5:o.label++;r=a[1];a=[0];continue;case 7:a=o.ops.pop();o.trys.pop();continue;default:if(!(i=o.trys,i=i.length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1];i=a;break}if(i&&o.label<i[2]){o.label=i[2];o.ops.push(a);break}i[2]&&o.ops.pop();o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e];r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};var Za,La,ka=(La=(Za=function(){return Ia(this,(function(e){switch(e.label){case 0:
return[4,n.e(61029).then(n.t.bind(n,640002,19))];case 1:return[2,e.sent().default]}}))},function(){var e=this,t=arguments;return new Promise((function(n,r){var i=Za.apply(e,t);function a(e){Na(i,n,r,a,o,"next",e)}function o(e){Na(i,n,r,a,o,"throw",e)}a(void 0)}))}),function(){return La.apply(this,arguments)});function Da(e){var t=e.shouldAnimate,n=void 0!==t&&t,i=(0,m.e7)([j.Z],(function(){return j.Z.useReducedMotion}));return(0,r.jsxs)("div",{className:Ca().startTheConversation,children:[(0,r.jsx)(ua.Z,{importData:ka,shouldAnimate:n&&!i,className:Ca().wavingHand}),(0,r.jsx)(v.xv,{variant:"text-sm/normal",color:"text-muted",children:De.Z.Messages.FORUM_START_THE_CONVERSATION_HEADER})]})}const Fa=i.memo((function(e){var t=e.className,n=e.threadId,a=e.goToThread,s=e.observePostVisibilityAnalytics,l=i.useRef(null),c=function(e){var t=e.threadId,n=(0,m.e7)([D.Z],(function(){return D.Z.getChannel(t)}));Wt()(null!=n,"the thread should not be null here, a store must have missed an update")
;var r=(0,m.e7)([k.ZP],(function(){return k.ZP.getCurrentSidebarChannelId(n.parent_id)===n.id})),i=(0,Br.cl)(n),a=i.loaded,o=i.firstMessage,s=(0,te.mX)({firstMessage:o}),l=s.content,c=s.firstMedia,u=s.firstMediaIsEmbed,d=(0,te.nP)(n),f=d.messageCount,h=d.unreadCount;return{channel:n,isOpen:r,messageCount:f,unreadCount:h,firstMessage:o,firstMessageLoaded:a,firstMedia:c,firstMediaIsEmbed:u,content:l}}({threadId:n}),u=c.channel,f=c.isOpen,h=c.messageCount,g=c.unreadCount,p=c.firstMessage,y=c.firstMessageLoaded,b=c.firstMedia,x=c.firstMediaIsEmbed,j=(0,m.e7)([D.Z],(function(){return D.Z.getChannel(u.parent_id)})),S=(0,O.Z)(),C=S.ref,E=S.height,w=(0,Ke.xH)((function(e){return e.setCardHeight})),_=Ma(i.useState(162),2),N=_[0],P=_[1];i.useEffect((function(){if(null!=E){w(n,E+26);P(E)}}),[C,E,w,n,P,y]);i.useEffect((function(){null==s||s(l.current,n)}),[s,n,y]);var T=i.useRef(null),A=(0,ji.Z)({facepileRef:T,goToThread:a,channel:u}),R=A.handleLeftClick,M=A.handleRightClick,I=(0,
d.JA)(n),Z=(I.role,I.onFocus),L=Ra(I,["role","onFocus"]),F=(0,ba.Z)(Z),H=F.handleFocus,U=F.handleBlur;return(0,r.jsxs)("div",{ref:l,"data-item-id":n,onClick:R,onContextMenu:M,className:o()(Ca().container,t,Pa({},Ca().isOpen,f)),children:[(0,r.jsx)(v.P3,Ta({onClick:R,focusProps:{ringTarget:l},onContextMenu:M,"aria-label":De.Z.Messages.FORUM_POST_ARIA_LABEL.format({title:u.name,count:h}),className:Ca().focusTarget,onFocus:H,onBlur:U},L)),(0,r.jsxs)("div",{className:Ca().body,children:[(0,r.jsx)("div",{ref:C,className:Ca().contentContainer,children:y?(0,r.jsx)(Ha,{parentChannel:j,channel:u,firstMessage:p,messageCount:h,unreadCount:g,facepileRef:T}):(0,r.jsx)(Gi,{})}),y?(null==p?void 0:p.blocked)||null==b?null:(0,r.jsx)($a,{channel:u,firstMedia:b,firstMessage:p,isEmbed:x,contentHeight:N}):(0,r.jsx)(Ui,{})]})]})}));function Ha(e){var t=e.parentChannel,n=e.channel,i=e.firstMessage,a=e.messageCount,o=e.unreadCount,s=e.facepileRef,l=(0,te.J$)(n).isNew,c=(0,oi.DM)({channel:n,isNew:l
}).forumPostContainsTags;return(0,r.jsxs)("div",{className:Ca().content,children:[(0,r.jsxs)("div",{className:Ca().titleAndMessage,children:[c&&(0,r.jsx)(oi.f6,{channel:n,className:Ca().tagsRow,tagsClassName:Ca().tags}),c&&(0,r.jsx)("hr",{className:Ca().separator}),(0,r.jsx)(Ya,{channel:n,firstMessage:i,isNew:l,containsTags:c}),(0,r.jsx)(v.y5,{children:(0,r.jsx)(Ba,{channel:n})}),null!=i&&(0,r.jsx)(Ua,{firstMessage:i})]}),(0,r.jsxs)("div",{className:Ca().engagement,children:[null!=i&&(0,r.jsx)(Ka,{channel:n,firstMessage:i}),(0,r.jsx)(Ga,{parentChannel:t,channel:n,messageCount:a,unreadCount:o,facepileRef:s})]})]})}function Ua(e){var t=e.firstMessage,n=(0,m.e7)([sa.Z],(function(){return null!=t&&sa.Z.isBlocked(t.author.id)})),a=i.useMemo((function(){return null!=(null==t?void 0:t.content)&&""!==t.content?(0,Ji.ZP)(t,{formatInline:!0,noStyleAndInteraction:!0,allowHeading:!0,allowList:!0}):{content:null}}),[t]).content;return(0,r.jsx)("div",{className:Ca().firstMessageContent,
children:n?De.Z.Messages.FORUM_POST_BLOCKED_FIRST_MESSAGE:null==a?De.Z.Messages.REPLY_QUOTE_MESSAGE_DELETED:a})}function Ga(e){var t=e.parentChannel,n=e.channel,i=e.messageCount,a=e.unreadCount,s=e.facepileRef,l=(0,te.Q)(n),c=(0,Br.ZK)(t,n).mostRecentMessage,u=(0,m.e7)([on.Z],(function(){return on.Z.can(ke.Plq.SEND_MESSAGES_IN_THREADS,n)})),d=(0,te.J$)(n).hasUnreads,f=(0,m.e7)([J.Z],(function(){return J.Z.getFirstNoReplyThreadId()})),h=(0,I.Gu)(n);return i>0?(0,r.jsxs)(v.P3,{onClick:function(e){if(null!=c&&null!=n.parent_id){e.stopPropagation();(0,ae.B5)({guildId:n.guild_id,channelId:n.parent_id,postId:n.id,location:{page:ke.ZY5.GUILD_CHANNEL,section:ke.jXE.FORUM_CHANNEL_POST}});e.shiftKey?(0,A.gt)(n,c.id,xa.on.BROWSER):ia.Z.openThreadAsSidebar({guildId:n.guild_id,channelId:n.id,baseChannelId:n.parent_id,flash:!0,details:{type:aa.F.THREAD,initialMessageId:c.id}})}},className:Ca().replies,children:[(0,r.jsx)(qa,{messageCount:i,unreadCount:a,iconSize:16}),null,l.length>0?(0,r.jsx)(Va,{
channel:n,typingUserIds:l,facepileRef:s}):(0,r.jsx)(Wa,{channel:n,mostRecentMessage:c,hasUnreads:d})]}):h?(0,r.jsx)("div",{className:Ca().replies,children:(0,r.jsx)(v.xv,{variant:"text-sm/semibold",color:"text-muted",className:o()(Ca().mostRecentMessageContent,Ca().nonUserMessage,Ca().lockedMessage),children:De.Z.Messages.THREAD_HEADER_NOTICE_ACTIVE_LOCKED})}):u&&0===i?(0,r.jsx)("div",{className:Ca().replies,children:l.length>0?(0,r.jsx)(Va,{channel:n,typingUserIds:l,facepileRef:s}):(0,r.jsx)(Da,{shouldAnimate:f===n.id})}):null}function Va(e){var t=e.channel,n=e.typingUserIds,i=e.facepileRef;return(0,r.jsxs)("div",{className:Ca().typing,children:[(0,r.jsx)(Mt.og,{channel:t,userIds:n,facepileRef:i}),(0,r.jsx)("div",{className:Ca().dots,children:(0,r.jsx)(Vr.Z,{themed:!0,dotRadius:2})}),(0,r.jsx)(Rr.Z,{channel:t,className:Ca().typingUsers,renderDots:!1})]})}function Ba(e){var t=e.channel,n=(0,te.J$)(t).hasUnreads,a=function(e){var t=(0,m.e7)([va.Z],(function(){
return va.Z.getHasSearchResults()})),n=(0,m.e7)([va.Z],(function(){return va.Z.getSearchQuery(e.parent_id)})),r=i.useMemo((function(){return(0,Xi.nC)(t&&null!=n?n:"")}),[t,n]);return i.useMemo((function(){return(0,Ji.ZP)({content:e.name,embeds:[]},{postProcessor:r}).content}),[e.name,r])}(t);return(0,r.jsxs)(v.X6,{variant:"heading-lg/semibold",color:n?"header-primary":"text-muted",className:Ca().title,children:[null,a]})}function za(e){var t,n=e.channel,a=e.mostRecentMessage,s=e.hasUnreads,l=(0,ea.Uj)(a),c=(0,m.e7)([sa.Z],(function(){return null!=a&&sa.Z.isBlocked(a.author.id)})),u=(0,m.e7)([on.Z],(function(){return on.Z.can(ke.Plq.MANAGE_MESSAGES,n)})),d=Lr.cC.useSetting(),f=function(e){var t,n=(0,m.e7)([ya.Z],(function(){return ya.Z.getMessageState(e.id)})),r=n.loaded,i=n.message;return r&&(null!==(t=e.messageCount)&&void 0!==t?t:0)>0&&null==i}(n),h=i.useMemo((function(){return null!=(null==a?void 0:a.content)&&""!==a.content?(0,Ji.ZP)(a,{formatInline:!0,noStyleAndInteraction:!0}):{
content:null}}),[a]).content,g=null!=a&&(0,Qi.Z)(a),p=null;if(c)p=(0,r.jsx)(v.xv,{className:Ca().nonUserMessage,variant:"text-sm/medium",color:"text-muted",children:De.Z.Messages.FORUM_POST_BLOCKED_MOST_RECENT_MESSAGE});else{var y=null==a?{contentPlaceholder:null,renderedContent:null}:g?{contentPlaceholder:null,renderedContent:pa.Z.stringify(a,n)}:(0,ga.f)(a,h,c,o()(Ca().mostRecentMessageContent,jt().inlineFormat,jt().smallFontSize),{iconClass:Ca().messageContentIcon,iconSize:ja.WW}),b=y.contentPlaceholder,O=y.renderedContent;p=null!=O?(0,r.jsx)(v.xv,{variant:"text-sm/semibold",color:s?"header-secondary":"text-muted",className:Ca().mostRecentMessageContent,children:O}):null!=b?(0,r.jsx)(v.xv,{variant:"text-sm/semibold",color:s?"header-secondary":"text-muted",className:Ca().mostRecentMessageContent,children:b}):f?(0,r.jsx)(v.xv,{variant:"text-sm/semibold",color:s?"header-secondary":"text-muted",className:o()(Ca().mostRecentMessageContent,Ca().nonUserMessage),
children:De.Z.Messages.FORUM_CHANNEL_MOST_RECENT_MESSAGE_DELETED}):null}var x=null!=l?null!==(t=l.nick)&&void 0!==t?t:De.Z.Messages.UNKNOWN_USER:null,j=(0,ra.l)(null==a?void 0:a.author,n.id,n.guild_id,!0)(null!=l?l:void 0)((0,r.jsxs)(r.Fragment,{children:[null!=x?x:"",null!=a?":":""]}),n.id);return(0,r.jsx)(da.a.Provider,{value:(0,Ir.Z)(d,u),children:(0,r.jsxs)("div",{className:Ca().mostRecentMessage,children:[null==x||g?null:(0,r.jsx)("div",{className:Ca().mostRecentMessageAuthor,children:(0,r.jsx)(v.xv,{tag:"span",variant:"text-sm/semibold",children:j})}),(0,r.jsx)(v.Rn,{children:p})]})})}var Wa=i.memo(za);function Ka(e){var t=e.channel,n=e.firstMessage,a=(0,m.e7)([D.Z],(function(){return D.Z.getChannel(t.parent_id)})),s=(0,te.Bs)(a),l=(0,ta.Z)(t),c=l.disableReactionUpdates,u=l.disableReactionCreates,d=l.isLurking,f=l.isPendingMember,h=!((0,na.ww)(n.reactions,s)>=0)&&!u,g=(0,qi.Q)(t.guild_id),p=(0,m.e7)([Yi.Z],(function(){return Yi.Z.remainingBurstCurrency})),v=(0,
O.Z)(),y=v.ref,b=v.width,x=Ma(i.useState(10),2),j=x[0],S=x[1],C=Ma(i.useState(!0),2),E=C[0],w=C[1];i.useEffect((function(){if(null!=b){var e=Math.floor((b-78)/66);S(e);w(!1)}}),[b,n.reactions,s]);return(0,r.jsxs)("div",{className:o()(Ca().reactionRow,Pa({},Ca().loading,E)),ref:y,children:[h&&null!=s?(0,r.jsx)(na.le,{className:Ca().defaultReaction,message:n,readOnly:!1,useChatFontScaling:!0,isLurking:d,isPendingMember:f,emoji:s,type:$i.O.REACTION,hideCount:!0,count:0,me:!1,burst_count:0,burst_me:!1}):null,(0,r.jsx)(na.ZP,{message:n,channel:t,disableReactionCreates:u,disableReactionUpdates:c,useChatFontScaling:!0,className:Ca().messageReactions,reactionClassName:Ca().reaction,hoistReaction:s,forceHideReactionCreates:!0,maxReactions:j}),(0,r.jsxs)("div",{className:Ca().addReactionContainer,children:[!u&&(0,r.jsx)(na.X9,{type:$i.O.REACTION,message:n,channel:t,useChatFontScaling:!0,className:Ca().addReactButton,isForumToolbar:!1}),!u&&g&&(0,r.jsx)(na.X9,{type:$i.O.BURST_REACTION,
remainingBurstCurrency:p,message:n,channel:t,useChatFontScaling:!0,isForumToolbar:!1,className:Ca().showOnHover})]})]})}function qa(e){var t=e.messageCount,n=e.unreadCount,i=e.iconSize;return(0,r.jsxs)("div",{className:Ca().messageCountBox,children:[(0,r.jsx)("span",{className:Ca().messageCountIcon,children:(0,r.jsx)(fa.Z,{width:i,height:i})}),"number"==typeof t?(0,r.jsx)(la.Z,{value:t,className:Ca().messageCountText}):(0,r.jsx)("div",{className:Ca().messageCountText,children:t}),null==n?null:(0,r.jsx)(v.xv,{className:Ca().unreadMessagesCount,variant:"text-sm/semibold",color:"text-brand",children:De.Z.Messages.FORUM_POST_MESSAGE_COUNT_SHORT_PARENTHETICAL.format({count:n})})]})}function Xa(e){var t,n=e.channel,i=(0,ee.H)(n.parent_id).sortOrder,a=(0,te.xw)(n,i),o=(0,m.e7)([oa.ZP],(function(){return oa.ZP.lastMessageId(n.id)
})),s=null!=o?de.default.extractTimestamp(o):null,l=null===(t=n.threadMetadata)||void 0===t?void 0:t.createTimestamp,c=null==a?null:i===Ar.z.CREATION_DATE?De.Z.Messages.FORUM_POST_CREATED_AT_TOOLTIP.format({timestamp:a}):a,u=i===Ar.z.CREATION_DATE&&null!=l?De.Z.Messages.FORUM_POST_CREATED_AT_TOOLTIP.format({timestamp:(0,ma.vc)(se()(l),"LLLL")}):null!=s?(0,ma.vc)(se()(s),"LLLL"):null;return null==u||null==c?null:(0,r.jsx)(cn.ZP,{text:u,tooltipClassName:Ca().timestampTooltip,children:function(e){return(0,r.jsx)(v.xv,Aa(Ta({variant:"text-xs/medium",color:"header-secondary"},e),{children:c}))}})}function Ya(e){var t=e.channel,n=e.firstMessage,i=e.isNew,a=e.containsTags,o=t.hasFlag(dr.zZ.PINNED),s=(0,m.e7)([sa.Z],(function(){return null!=n&&sa.Z.isBlocked(n.author.id)}));return(0,r.jsxs)("div",{className:Ca().header,children:[!a&&o&&(0,r.jsx)("div",{className:Ca().pinIcon,children:(0,r.jsx)(cn.ZP,{text:De.Z.Messages.PINNED_POST,children:function(e){return(0,r.jsx)(ha.Z,Aa(Ta({},e),{
width:oi.qS,height:oi.qS,color:"white"}))}})}),!s&&(0,r.jsx)(ai.Z,{channel:t,message:n}),(0,r.jsx)(Xa,{channel:t}),i&&(0,r.jsx)(Ae.IG,{className:Ca().newBadge,color:(0,Mr.Lq)(ke.Ilk.BRAND_260),text:De.Z.Messages.NEW})]})}function $a(e){var t=e.channel,n=e.firstMedia,i=e.firstMessage,a=e.isEmbed,s=e.contentHeight,l=(0,m.e7)([G.Z],(function(){return G.Z.isFocused()})),c=(0,m.e7)([on.Z],(function(){return on.Z.can(ke.Plq.MANAGE_MESSAGES,t)})),u=Oa.LR.test(n.src),d=Lr.QK.useSetting(),f=Lr.cC.useSetting(),h=n.src,g=n.width,p=n.height,y=n.spoiler,b=n.alt,O=y&&!(0,Ir.Z)(f,c);return(0,r.jsx)(v.Rn,{enabled:!0,children:(0,r.jsxs)("div",{className:o()(Ca().bodyMedia,Pa({},wa().embedFull,a)),style:{height:s,borderColor:(0,zr.dE)(i,O)},onClick:function(e){return e.stopPropagation()},children:[h.startsWith("data:")?(0,r.jsx)(ca.ZP,{src:h,width:g,height:p,minWidth:143,minHeight:s,maxHeight:s,alt:null!=b&&O?De.Z.Messages.SPOILER_HIDDEN_A11Y_LABEL:b,imageClassName:o()(Pa({},Ca().spoiler,O))}):(0,
Zr.Yi)({src:h,width:g,height:p,minWidth:143,minHeight:s,maxHeight:s,alt:null!=b&&O?De.Z.Messages.SPOILER_HIDDEN_A11Y_LABEL:b,autoPlay:d,animated:u&&!O&&l,imageContainerClassName:o()(Pa({},Ca().spoiler,O))}),O&&(0,r.jsx)(Ur.Z,{className:Ca().spoilerTag})]})})}n(196407);var Qa=n(678838),Ja=[];function eo(){return Ja.join(" -> ")}var to=new Qa.Z("Flux"),no=function(e){return e()},ro=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);this.changedStores=new Set;this.reactChangedStores=new Set;this.changeSentinel=0;this.isBatchEmitting=!1;this.isDispatching=!1;this.isPaused=!1;this.pauseTimer=null}var t=e.prototype;t.destroy=function(){this.changedStores.clear();this.reactChangedStores.clear();no=function(e){return e()}};t.injectBatchEmitChanges=function(e){no=e};t.pause=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this;this.isPaused=!0
;null!==this.pauseTimer&&clearTimeout(this.pauseTimer);null!==e&&(this.pauseTimer=setTimeout((function(){t.pauseTimer=null;t.resume()}),e))};t.resume=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this;clearTimeout(this.pauseTimer);this.pauseTimer=null;if(this.isPaused){this.isPaused=!1;e&&this.changedStores.size>0&&setImmediate((function(){return t.emit()}))}};t.batched=function(e){if(this.isPaused)e();else try{this.isPaused=!0;e()}finally{this.resume(!1);this.emit()}};t.emit=function(){var e=this;this.isBatchEmitting||this.isPaused||no((function(){try{e.isBatchEmitting=!0;e.changeSentinel++;for(var t=0;e.changedStores.size>0;){if(++t>100){to.error("LastFewActions",eo());throw Error("change emit loop detected, aborting")}e.emitNonReactOnce()}for(;e.reactChangedStores.size>0;){if(++t>100){to.error("LastFewActions",eo());throw Error("react change emit loop detected, aborting")}e.emitReactOnce()}}finally{e.isBatchEmitting=!1}}))}
;t.getChangeSentinel=function(){return this.changeSentinel};t.getIsPaused=function(){return this.isPaused};t.markChanged=function(e){e._changeCallbacks.hasAny()&&this.changedStores.add(e);e._reactChangeCallbacks.hasAny()&&this.reactChangedStores.add(e);this.isBatchEmitting||this.isDispatching||this.isPaused||this.emit()};t.emitNonReactOnce=function(){var e=this,t=Date.now(),n=this.changedStores;this.changedStores=new Set;n.forEach((function(t){0;t._changeCallbacks.invokeAll();e.changedStores.delete(t)}));var r=Date.now();r-t>100&&to.log("Slow batch emitChanges took ".concat(r-t,"ms recentActions:"),eo())};t.emitReactOnce=function(){var e=this,t=Date.now(),n=this.reactChangedStores;this.reactChangedStores=new Set;n.forEach((function(t){0;t._reactChangeCallbacks.invokeAll();e.reactChangedStores.delete(t)}));var r=Date.now();r-t>100&&to.log("Slow batch emitReactChanges took ".concat(r-t,"ms recentActions:"),eo())};return e}();const io=new ro;var ao=function(){function e(t,n){var r=this
;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);this.handleStoreChange=function(){var e=io.getChangeSentinel();if(r.storeVersionHandled!==e){r.changeCallback();r.storeVersionHandled=e}};this.stores=t;this.changeCallback=n}var t=e.prototype;t.attach=function(e){var t=this;this.stores.forEach((function(n,r){if(null==n)throw new Error("".concat(e," tried to load a non-existent store. Either it isn't defined or there is a circular dependency. Loaded ").concat(r," stores before error."));n.addReactChangeListener(t.handleStoreChange)}))};t.detach=function(){var e=this;this.stores.forEach((function(t){return t.removeReactChangeListener(e.handleStoreChange)}))};return e}(),oo=(n(559280),n(803996)),so=n.n(oo);n(364537),n(603609),n(850343),n(25199);new Qa.Z("Flux");new Qa.Z("Flux");var lo=n(298784),co=n.n(lo),uo=n(332675);var fo=function(){function e(){var t=this;!function(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);this.listeners=new Set;this.add=function(e){t.listeners.add(e)};this.remove=function(e){t.listeners.delete(e)};this.addConditional=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!n||!1!==e()){var r=function(){!1===e()&&t.remove(r)};t.add(r)}}}var t=e.prototype;t.has=function(e){return this.listeners.has(e)};t.hasAny=function(){return this.listeners.size>0};t.invokeAll=function(){this.listeners.forEach((function(e){return e()}))};return e}();function ho(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function go(e){return function(e){if(Array.isArray(e))return ho(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ho(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ho(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var mo,po=[],vo=!1,yo=new Promise((function(e){mo=function(){e();mo=null}}));var bo=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);this._changeCallbacks=new fo;this._reactChangeCallbacks=new fo;this._isInitialized=!1;this.addChangeListener=this._changeCallbacks.add;this.addConditionalChangeListener=this._changeCallbacks.addConditional;this.removeChangeListener=this._changeCallbacks.remove;this.addReactChangeListener=this._reactChangeCallbacks.add;this.removeReactChangeListener=this._reactChangeCallbacks.remove;this._dispatcher=t
;this._dispatchToken=this._dispatcher.createToken();null!==n&&this.registerActionHandlers(null!=n?n:{});po.push(this);0;vo&&this.initializeIfNeeded()}var t=e.prototype;t.registerActionHandlers=function(e){var t=this;this._dispatcher.register(this.getName(),e,(function(e){if(t._changeCallbacks.hasAny()||t._reactChangeCallbacks.hasAny()){io.markChanged(t);io.getIsPaused()&&null!=t._mustEmitChanges&&t._mustEmitChanges(e)&&io.resume(!1)}else 0}),this._dispatchToken)};t.getName=function(){var e;return null!==(e=this.constructor.displayName)&&void 0!==e?e:this.constructor.name};t.initializeIfNeeded=function(){if(!this._isInitialized){this.initialize();this._isInitialized=!0}};t.initialize=function(){};t.syncWith=function(e,t,n){var r=this;this.waitFor.apply(this,go(e));var i=0,a=function(){if(i!==io.getChangeSentinel()){i=io.getChangeSentinel();!1!==t()&&r.emitChange()}};a=function(e,t){var n=null;return 0===e?function(){clearImmediate(n);n=setImmediate(t)}:function(){
null==n&&(n=setTimeout((function(){try{t()}finally{n=null}}),e))}}(null!=n?n:0,a);e.forEach((function(e){return e.addChangeListener(a)}))};t.waitFor=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=this,i=t.map((function(e,t){so()(null!=e,"Store.waitFor(...) called with null Store at index ".concat(t," for store ").concat(r.getName()));if(null!=e._dispatcher){so()(e._dispatcher===r._dispatcher,"Stores belong to two separate dispatchers.");return e.getDispatchToken()}return null}));this._dispatcher.addDependencies(this.getDispatchToken(),i.filter((function(e){return null!=e})))};t.emitChange=function(){io.markChanged(this)};t.getDispatchToken=function(){return this._dispatchToken};t.mustEmitChanges=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return!0};this._mustEmitChanges=e};e.initialize=function(){vo=!0;po.forEach((function(e){return e.initializeIfNeeded()}));null!=mo&&mo()};e.destroy=function(){po.length=0
;io.destroy()};e.getAll=function(){return po};return e}();bo.initialized=yo;function Oo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jo(e){jo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return jo(e)}function So(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&wo(e,t)}function Co(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++){n=a[r];t.indexOf(n)>=0||(i[n]=e[n])}return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++){n=a[r]
;t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}}return i}function Eo(e,t){return!t||"object"!==No(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function wo(e,t){wo=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return wo(e,t)}function _o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0){a.push(r.value);if(t&&a.length===t)break}}catch(e){s=!0;i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Oo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Oo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var No=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Po(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=jo(e);if(t){var i=jo(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Eo(this,n)}}var To={_state:void 0,_version:void 0},Ao=function(e){So(n,e);var t=Po(n);function n(e,r){xo(this,n);var i;(i=t.call(this,e,r))._version=null==i.getClass().migrations?0:i.getClass().migrations.length
;i.callback=function(e){var t=i.getClass().persistKey;i.persist();n._writePromises.delete(t);n._writeResolvers.delete(t);e()};i.throttledCallback=co().throttle((function(e){return i.callback(e)}),i.getClass().throttleDelay,{leading:!1});if("string"!=typeof i.getClass().persistKey)throw new Error("".concat(i.getClass().name," initialized without a `persistKey`. Add one so we know where to save your stuff!"));if("function"!=typeof i.initialize)throw new Error("".concat(i.getClass().name," initialized without an `initialize` method. Add one that accepts the initial cached state."));if("function"!=typeof i.getState)throw new Error("".concat(i.getClass().name," initialized without a `getState` method. Add one that returns the full state of the store for persistance to work."));i.addChangeListener((function(){return i.asyncPersist()}));return i}var r=n.prototype;r.getClass=function(){return this.constructor};r.initializeFromState=function(e){this.initialize(e)&&this.asyncPersist()
;if(this._isInitialized)this.emitChange();else{n.allPersistKeys.add(this.getClass().persistKey);this._isInitialized=!0}};r.initializeIfNeeded=function(){if(!this._isInitialized){n.allPersistKeys.add(this.getClass().persistKey);var e=n.migrateAndReadStoreState(this.getClass().persistKey,this.getClass().migrations),t=e.state,r=e.requiresPersist;this.initialize(t)&&this.asyncPersist();r&&this.asyncPersist();this._isInitialized=!0}};r.asyncPersist=function(){var e=this,t=this.getClass(),r=t.persistKey,i=t.disableWrite,a=t.throttleDelay;if(n.disableWrites||i)return Promise.resolve(!1);var o=n._writePromises.get(r);if(null!=o)return o;o=new Promise((function(t){var i=a>0?function(){return e.throttledCallback(t)}:function(){return e.callback(t)};n._writeResolvers.set(r,[t,requestIdleCallback(i,{timeout:500})])}));n._writePromises.set(r,o);return o};r.persist=function(){var e=this.getClass().persistKey,t=this.getState(),n=this._version;uo.Z.set(e,{_state:t,_version:n})};r.clear=function(){
var e=this.getClass().persistKey;uo.Z.remove(e)};n.clearAll=function(e){null==n._clearAllPromise&&(n._clearAllPromise=new Promise((function(t){requestIdleCallback((function(){n.clearPersistQueue(e);n.allPersistKeys.forEach((function(t){n.shouldClear(e,t)&&uo.Z.remove(t)}));bo.getAll().forEach((function(t){if(t instanceof n&&n.shouldClear(e,t.getClass().persistKey)){t._isInitialized=!1;t.initializeIfNeeded()}}));n._clearAllPromise=null;t()}),{timeout:500})})));return n._clearAllPromise};n.shouldClear=function(e,t){var r;return!(null===(r=e.omit)||void 0===r?void 0:r.includes(t))&&("all"===e.type||"user-data-only"===e.type&&!n.userAgnosticPersistKeys.has(t))};n.clearPersistQueue=function(e){n._writeResolvers.forEach((function(t,r){var i=_o(t,2),a=i[0],o=i[1];if(n.shouldClear(e,r)){n._writePromises.delete(r);n._writeResolvers.delete(r);cancelIdleCallback(o);a(!1)}}));n._writePromises.clear();n._writeResolvers.clear()};n.getAllStates=function(){
return Promise.all(Array.from(n._writePromises.values())).then((function(){var e={};n.allPersistKeys.forEach((function(t){var n;e[t]=(null!==(n=uo.Z.get(t))&&void 0!==n?n:To)._state}));return e}))};n.initializeAll=function(e){bo.getAll().forEach((function(t){if(t instanceof n){var r=t.getClass().persistKey;if(!e.hasOwnProperty(r))return;t.initializeFromState(e[r])}}))};n.destroy=function(){bo.destroy();n.clearPersistQueue({type:"all"});n.allPersistKeys.clear();n.userAgnosticPersistKeys.clear()};n.migrateAndReadStoreState=function(e,t){var r=null!=n._clearAllPromise?null:uo.Z.get(e),i=null!=r?r:To,a=i._state,o=i._version,s=Co(i,["_state","_version"]),l=null==t?0:t.length;if(0!==l&&o!==l&&null!=t){var c=null!=o?o:0,u=a;null==o&&(u=s);for(;c<l;){u=(0,t[c])(u);c++}return{state:u,requiresPersist:!0}}return Object.values(s).length>0?{state:s,requiresPersist:!0}:{state:a,requiresPersist:!1}};return n}(bo);Ao.allPersistKeys=new Set;Ao.userAgnosticPersistKeys=new Set;Ao._writePromises=new Map
;Ao._writeResolvers=new Map;Ao.disableWrites=!1;Ao.disableWrite=!1;Ao.throttleDelay=0;n(930979);function Ro(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Mo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0){a.push(r.value);if(t&&a.length===t)break}}catch(e){s=!0;i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ro(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ro(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Io(e,t){return null!=t&&e.length===t.length&&!e.some((function(e,n){return t[n]!==e}))}function Zo(e,t){return e===t}function Lo(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Zo,a=null!=n?n:[t],o=(0,i.useRef)(t),s=(0,i.useRef)(),l=(0,i.useRef)(),c=l.current;Io(a,s.current)||(c=t());(0,i.useLayoutEffect)((function(){o.current=t;s.current=a}),a);(0,i.useLayoutEffect)((function(){l.current=c}),[c]);var u=Mo((0,i.useState)(null),2),d=u[1];(0,i.useLayoutEffect)((function(){var t=function(){var e=o.current();if(!r(l.current,e)){l.current=e;d({})}};t();var n=new ao(e,t);n.attach("useStateFromStores");return function(){return n.detach()}}),[]);return c}function ko(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Do(e,t){
t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Fo(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++){n=a[r];t.indexOf(n)>=0||(i[n]=e[n])}return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++){n=a[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}}return i}function Ho(){return Promise.resolve()}function Uo(e){var t=e.channel,n=e.closePopout,a=e.setPopoutRef,o=(0,ee.H)(t.id).tagFilter,s=(0,ee.v)(),l=Lo([j.Z],(function(){
return j.Z.keyboardModeEnabled})),c=i.useCallback((function(e){(0,ae.e7)({guildId:t.guild_id,channelId:t.id,tagId:e,filterTagIds:Array.from(o),added:!o.has(e),location:{page:ke.ZY5.GUILD_CHANNEL,section:ke.jXE.FORUM_CHANNEL_HEADER,object:ke.qAy.CHANNEL_TAG}});s.getState().toggleTagFilter(t.id,e)}),[t,o,s]),f=i.useCallback((function(){s.getState().setTagFilter(t.id,new Set);l||n()}),[s,t.id,l,n]),h=(0,u.ZP)({id:"".concat(t.id,"-all-tags-dropdown-navigator"),isEnabled:!0,wrap:!0,scrollToStart:Ho,scrollToEnd:Ho}),g=i.useRef(null);i.useEffect((function(){requestAnimationFrame((function(){if(null!=g.current){var e=g.current.querySelector(".".concat(_n().tag));null!=e&&e.focus()}}))}),[]);return(0,r.jsxs)(v.Vq,{ref:a,"aria-label":De.Z.Messages.FORUM_TAG_FILTER_HEADER,className:_n().container,children:[(0,r.jsx)("div",{className:_n().header,children:(0,r.jsxs)("div",{className:_n().headerLeft,children:[(0,r.jsx)(v.X6,{color:"interactive-normal",variant:"text-xs/bold",
className:_n().headerText,children:De.Z.Messages.FORUM_TAG_POST_SELECT}),(0,r.jsx)("div",{className:_n().countContainer,children:(0,r.jsx)(v.xv,{className:_n().countText,color:"none",variant:"text-xs/medium",children:o.size})})]})}),(0,r.jsx)(d.bG,{navigator:h,children:(0,r.jsx)(d.SJ,{children:function(e){var n=e.ref,i=Fo(e,["ref"]);return(0,r.jsx)("div",Do(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ko(e,t,n[t])}))}return e}({ref:function(e){n.current=e;g.current=e}},i),{className:_n().tagContainer,children:t.availableTags.map((function(e){return(0,r.jsx)(Yn.ZP,{className:_n().tag,tag:e,selected:o.has(e.id),onClick:function(){return c(e.id)}},e.id)}))}))}})}),(0,r.jsx)("div",{className:_n().separator}),(0,r.jsx)(v.zx,{
look:v.zx.Looks.LINK,size:v.zx.Sizes.MIN,color:v.zx.Colors.CUSTOM,className:_n().clear,"aria-label":De.Z.Messages.FORUM_CLEAR_ALL,onClick:f,children:(0,r.jsx)(v.xv,{variant:"text-sm/medium",color:"text-link",children:De.Z.Messages.FORUM_CLEAR_ALL})})]})}var Go=n(707839),Vo=n.n(Go),Bo=n(840008),zo=n.n(Bo);function Wo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ko(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function qo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Ko(e,t,n[t])}))}return e}function Xo(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Yo(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++){n=a[r];t.indexOf(n)>=0||(i[n]=e[n])}return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++){n=a[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}}return i}function $o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){
var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0){a.push(r.value);if(t&&a.length===t)break}}catch(e){s=!0;i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Wo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Qo=.5;function Jo(e){var t=e.channel,n=e.guild,i=e.sidebarState;return(0,r.jsx)(Ke.oL,{createStore:function(){return(0,Ke.NU)(t)},children:(0,r.jsx)(ss,{channel:t,guild:n,sidebarState:i})},t.id)}var es=new ti({minWidth:320,maxWidth:450,gap:16});function ts(e){
return"forum-grid-header-section-".concat(e)}var ns=function(e,t,n){return 0===e?0:ii(n)};function rs(e){var t=e.itemRole,n=e.coords,i=e.section;return(0,r.jsx)("div",{className:o()(Lt().card,Lt().archivedDividerRow,Lt().columnsSpan),style:n,"data-item-role":t,children:(0,r.jsx)("div",{className:Lt().emptyMainCard,children:(0,r.jsx)(v.X6,{variant:"eyebrow",className:Lt().archivedDivider,id:ts(i),children:De.Z.Messages.FORUM_SECTION_ARCHIVED})})},"section-divider")}function is(e){var t=e.section,n=e.coords,i=e.key,a=e.isShowingSearchResult,o=e.hasActiveThreads;return function(){return 2===t&&!a&&o?(0,r.jsx)(rs,{section:t,coords:null==n?void 0:Xo(qo({},n),{position:"absolute"}),itemRole:"section"},i):null}}function as(e,t){return"card-".concat(e,"-").concat(t)}function os(e){if("string"==typeof e){var t=e.match(/card-{\d+}-({\d+})$/);return null==t?null:t[1]}return null}function ss(e){var t=e.channel,n=e.sidebarState,a=(0,Ke.xH)((function(e){return{editorHeight:e.editorHeight,
editorAdditionRowHeight:e.editorAdditionRowHeight,listViewCardHeights:e.listViewCardHeights,formOpen:e.formOpen,cardHeightVersion:e.cardHeightVersion}}),c.Z),s=a.editorHeight,l=a.editorAdditionRowHeight,g=a.listViewCardHeights,p=a.formOpen,y=function(e){var t=(0,ee.H)(e.id),n=t.sortOrder,r=t.tagFilter,i=t.layoutType,a=(0,te.vP)({channel:e,sortOrder:n,tagFilter:r,shouldAutomaticallyAck:!0}),o=(0,m.e7)([R.Z],(function(){return!R.Z.hasLoaded(e.guild_id)})),s=(0,te.M1)(e).gridViewUpsellLoading,l=(0,M.qQ)(e,n,r),c=l.threadIds,u=l.canLoadMore,d=l.loadMore,f=l.loading,h=(0,te.XZ)({channelId:e.id}),g=h.searchResults,p=h.isSearchLoading,v=o||f||s||p;(0,te.ES)(e,n,r);return{activeThreadIds:a,archivedThreadIds:c,searchResults:g,canLoadMore:u,loadMore:d,loading:v,archivedThreadsLoading:f,activeThreadsLoading:o,gridViewUpsellLoading:s,isSearchLoading:p,layoutType:i}
}(t),O=y.activeThreadIds,x=y.archivedThreadIds,S=y.searchResults,C=y.canLoadMore,w=y.loadMore,_=y.activeThreadsLoading,N=y.archivedThreadsLoading,I=y.loading,L=y.isSearchLoading,H=y.layoutType,U=O.length>0,G=U||x.length>0,V=(0,P.Z)(t),B=(0,ee.H)(t.id).tagFilter;(0,te.ku)(t,B,p);var z=(0,te.jR)(t),W=(0,te.eZ)(t),K=i.useRef(null),Y=function(e){var t=e.guildId,n=e.channelId,r=e.scrollerRef;ie.useForumChannelSeenManager({guildId:t,channelId:n});var a=i.useRef(null),o=i.useCallback((function(e,t){var n=!0,r=!1,i=void 0;try{for(var a,o=t[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value,l=s.target.dataset.itemId;if(null==l)return;var c=Date.now();s.intersectionRatio>=Qo?(0,re.rj)(e,l,c):(0,re.Ct)(e,l,c)}}catch(e){r=!0;i=e}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}}),[]);i.useEffect((function(){var e,t=null===(e=r.current)||void 0===e?void 0:e.getScrollerNode();if(null!=t){a.current=new IntersectionObserver((function(e){return o(n,e)}),{root:t,
rootMargin:"0px 100000px 0px 100000px",threshold:Qo});return function(){var e;null===(e=a.current)||void 0===e||e.disconnect();a.current=null}}}),[n,o,r]);var s=i.useCallback((function(e,t){var r;null!=e?null===(r=a.current)||void 0===r||r.observe(e):(0,re.Ct)(n,t,Date.now())}),[n]);return{observePostVisibilityAnalytics:s}}({scrollerRef:K,channelId:t.id,guildId:t.guild_id}).observePostVisibilityAnalytics,Q=H===h.X.GRID,J=null!=S,ne=i.useRef(null),oe=ur(),se=oe.containerRef,le=oe.containerWidth,ce=i.useMemo((function(){return Q?es.getRenderOptions(le):ni}),[Q,le]).columns,ue=i.useMemo((function(){return I?Math.round((window.innerHeight-200)/118):0}),[I]),de=i.useMemo((function(){var e=window.innerHeight,t=Math.ceil(e/ii(es.getWidth(le)))*ce;return _?t:0}),[le,ce,_]),fe=i.useMemo((function(){var e=window.innerHeight,t=Math.ceil(e/ii(es.getWidth(le)))*ce;return N?t:0}),[le,ce,N]),he=i.useMemo((function(){var e=window.innerHeight,t=Math.ceil(e/ii(es.getWidth(le)))*ce;return L&&J?t:0
}),[le,ce,L,J]),ge=i.useMemo((function(){return Q?!z&&J?[1,0]:W?J?[1,S.length+he,0]:[1,O.length+de,x.length+fe]:[1,O.length+de,0]:!z&&J?[1,1]:W?J?[1,S.length,0,ue]:[1,O.length,x.length,ue]:[1,O.length,1]}),[Q,J,O.length,x.length,z,W,ue,S,de,fe,he]),me=i.useMemo((function(){return!z&&J?[[],[]]:W?J?[[],S,[],[]]:[[],O,x,[]]:[[],O,[]]}),[J,z,W,S,O,x]),pe=i.useCallback((function(e,n){(0,ae.B5)({guildId:t.guild_id,channelId:t.id,postId:e.id,location:{page:ke.ZY5.GUILD_CHANNEL,section:ke.jXE.FORUM_CHANNEL_POST}});if(n)(0,A.ad)(e,xa.on.BROWSER);else{ne.current=e.id;(0,Z.ok)(e)}}),[t.guild_id,t.id,ne]),ve=$o(i.useState(s+l-24),2),ye=ve[0],be=ve[1],Oe=i.useCallback((function(e,n,i){return 0===e?(0,r.jsx)(fs,{channel:t,isEmpty:!U,isSearchLoading:L,numResults:null==S?void 0:S.length,coords:n,onHeightChange:be,children:!I&&(0,r.jsx)(mt,{channel:t,hasAnyThread:G},t.id)},"forum-channel-header"):2!==e||W?1===e&&J&&!z?(0,r.jsx)(cs,{channel:t,coords:n},"archive-or-search-result"):i():(0,r.jsx)(ls,{
channel:t,coords:n},"archived-missing-reading-history-perm")}),[J,W,S,z,t,U,L,I,G]),xe=(0,m.e7)([$.Z],(function(){return $.Z.hasHidden(t.id)}));i.useEffect((function(){var e,t=Q?Pe:K,n=null===(e=t.current)||void 0===e?void 0:e.getScrollerState();if(null!=n&&!xe&&n.scrollTop>s){var r;null===(r=t.current)||void 0===r||r.scrollTo({to:0})}}),[xe]);var je=(0,te.xz)(t.guild_id),Se=function(e){var t=e.listRef,n=e.isIncreasedActivityView,a=e.hasActiveThreads,s=e.threadIdsBySection,l=e.listViewCardHeights,c=e.editorHeight,u=e.editorAdditionRowHeight,d=e.renderSectionOrItem,f=e.goToThread,h=e.observePostVisibilityAnalytics,g=e.isShowingSearchResult,m=i.useCallback((function(e){return function(n){t.current=n;var r;e.current=null!==(r=null==n?void 0:n.getScrollerNode())&&void 0!==r?r:null}}),[t]),p=i.useCallback((function(e){return is({section:e.section,isShowingSearchResult:g,hasActiveThreads:a})()}),[a,g]),y=i.useCallback((function(e){return d(e.section,void 0,(function(){
if(3===e.section)return __OVERLAY__?null:n?(0,r.jsx)("div",{className:Lt().placeholder,children:(0,r.jsx)(Vi,{})}):(0,r.jsx)("div",{"data-item-role":"item",className:o()(Lt().loadingCard,Lt()["loadingCard-".concat(e.row%3)],Ko({},Lt().loadingCardWithIncreasedActivity,n))},"loading-".concat(e.row));var t=s[e.section][e.row];return(0,r.jsx)("li",{className:Lt().card,"data-item-role":"item",children:(0,r.jsx)(v.y5,{children:n?(0,r.jsx)(Fa,{className:Lt().increasedActivityMainCard,threadId:t,goToThread:f,observePostVisibilityAnalytics:h}):(0,r.jsx)(Mt.ZP,{className:Lt().mainCard,threadId:t,goToThread:f,observePostVisibilityAnalytics:h})})},"".concat(e.section,"-").concat(t))}))}),[n,d,s,f,h]),b=i.useCallback((function(e,t){if(0===e)return c+u;var r=s[e][t],i=l[r];return null==i?8+(n?188:96):i+8}),[s,l,c,u,n]);return{updateListScrollerRef:m,renderListSection:p,renderListItem:y,getListSectionHeight:i.useCallback((function(e){return 2===e&&a?40:0}),[a]),getListItemHeight:b}}({listRef:K,
hasActiveThreads:U,threadIdsBySection:me,listViewCardHeights:g,editorHeight:s,editorAdditionRowHeight:l,renderSectionOrItem:Oe,goToThread:pe,observePostVisibilityAnalytics:Y,isShowingSearchResult:J,isIncreasedActivityView:je}),Ce=Se.updateListScrollerRef,Ee=Se.renderListSection,we=Se.renderListItem,_e=Se.getListSectionHeight,Ne=Se.getListItemHeight,Pe=i.useRef(null),Te=function(e){var t=e.masonryListScrollerRef,n=e.threadIdsBySection,a=e.goToThread,s=e.renderSectionOrItem,l=e.hasActiveThreads,c=e.isShowingSearchResult,u=e.canSearchForumPosts,d=e.canViewArchivedPosts,f=e.observePostVisibilityAnalytics,h=e.focusedThreadId,g=e.headerHeight,m=i.useRef(null),p=i.useCallback((function(e){t.current=e;m.current=null==e?void 0:e.getScrollerNode()}),[t]),v=i.useCallback((function(e,n){var r=t.current;if(null!=r){var i=document.querySelector(e);if(null!=i){var a=r.getCoordsMap()[n],o=null!=a?a.height+20:200;r.scrollIntoViewNode({node:i,padding:o,callback:function(){
requestAnimationFrame((function(){var t;null===(t=document.querySelector(e))||void 0===t||t.focus({preventScroll:!0})}))}});h.current=os(n)}}}),[t,h]),y=i.useCallback((function(e){var t=os(e);if(null!=t){var n=D.Z.getChannel(t);null!=n&&a(n,!0)}}),[a]),b=i.useCallback((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(0===n[e].length)return"section-".concat(e,"-").concat(t);var r=n[e][t];return as(e,null==r?t:r)}),[n]),O=i.useCallback((function(e,t,n){return s(e,t,is({section:e,coords:t,key:n,isShowingSearchResult:c,hasActiveThreads:l}))}),[s,l,c]),x=i.useCallback((function(e){return 0===e?{}:{role:"grid","aria-labelledby":"#".concat(ts(e))}}),[]),j=i.useCallback((function(e,t,i,s,l){if(0===e)return null;var c=n[e][t];return null==c?__OVERLAY__?null:(0,r.jsx)("div",{style:qo({},i),"data-item-role":"item",className:o()(Lt().loadingCard,Lt()["loadingCard-".concat(t%3)])},s):(0,r.jsx)(Ai,{id:"".concat(s),threadId:c,className:o()(Lt().card,Lt().mainCard),
goToThread:a,observePostVisibilityAnalytics:f,coords:i,gridCoords:l.coordinates[s],gridSectionBoundaries:l.boundaries},s)}),[n,a,f]),S=i.useCallback((function(e){return 0===e?g-8-24:2===e?l||!d?40:0:1===e&&c&&!u?40:0}),[g,c,u,l,d]);return{updateMasonryListScrollerRef:p,masonryListContainerRef:m,focusedThreadId:h,handleGridFocus:v,handleGridSelect:y,getItemKey:b,renderGridSection:O,renderGridItem:j,getSectionProps:x,getGridSectionHeight:S}}({masonryListScrollerRef:Pe,threadIdsBySection:me,goToThread:pe,renderSectionOrItem:Oe,hasActiveThreads:U,isShowingSearchResult:J,canSearchForumPosts:z,canViewArchivedPosts:W,observePostVisibilityAnalytics:Y,focusedThreadId:ne,headerHeight:ye}),Ae=Te.updateMasonryListScrollerRef,Re=Te.getItemKey,Me=Te.renderGridSection,Ie=Te.renderGridItem,Ze=Te.getGridSectionHeight,Le=Te.getSectionProps,Fe=Te.handleGridFocus;!function(e){var t=e.masonryListScrollerRef,n=e.containerWidth,r=e.isGridLayout,a=e.threadIdsBySection,o=e.focusedThreadId,s=e.parentId
;i.useEffect((function(){if(r){var e=setTimeout((function(){if(null!=t.current&&null!=o.current){var e=o.current;if("string"==typeof e)if(null!=k.ZP.getSidebarState(s)){var n=a.findIndex((function(t){return t.find((function(t){return t===e}))})),r=t.current.getCoordsMap(),i=r["__section__".concat(n)],l=r[as(n,e)];null!=i&&null!=l&&t.current.scrollIntoViewRect({start:i.top+l.top-100,end:i.top+l.top+l.height+50})}else o.current=null}}),500);return function(){return clearTimeout(e)}}}),[s,n,r,a,o,t])}({masonryListScrollerRef:Pe,containerWidth:le,isGridLayout:Q,threadIdsBySection:me,parentId:t.id,focusedThreadId:ne});var He=i.useCallback((function(){var e,n;if(!J){var r=Q?null===(e=Pe.current)||void 0===e?void 0:e.getScrollerState():null===(n=K.current)||void 0===n?void 0:n.getScrollerState();if(null!=r){(0,ae.ab)({guildId:t.guild_id,channelId:t.id});var i=r.scrollTop+r.offsetHeight;r.scrollHeight-i<(Q?Math.max(200,ii(le)):200)&&w()}}}),[J,Q,t.guild_id,t.id,le,w]),Ue=(0,
m.e7)([j.Z],(function(){return j.Z.keyboardModeEnabled})),Ge=function(e){var t=e.id,n=e.isEnabled,r=e.setFocus,a=i.useRef(null),o=i.useRef(!1),s=i.useRef(null),l=i.useRef(n);i.useLayoutEffect((function(){l.current=n}),[n]);var c=i.useCallback((function(e){var t;return(null!==(t=s.current)&&void 0!==t?t:document).querySelector(e)}),[]),u=i.useCallback((function(e,t){l.current&&r(e,t)}),[r]),d=i.useCallback((function(e){if(l.current){var t;null===(t=document.querySelector(e))||void 0===t||t.focus()}}),[]),h=i.useCallback((function(e){a.current=e;var n=(0,li.P1)(e,fi),r=(0,li.x3)(e);u(n,r);(0,si.h)(t,r,!0)}),[t,u]),g=di(i.useState(!1),2),m=g[0],p=g[1],v=i.useRef(m);i.useLayoutEffect((function(){v.current=m}),[m]);i.useLayoutEffect((function(){var e=function(){p(!0)},n=function(e){if(!e.currentTarget.contains(e.relatedTarget)){p(!1);requestAnimationFrame((function(){var e=a.current;if(null!==e){var n=(0,li.P1)(e,fi);null==c(n)&&d((0,li.P1)(t,"data-grid-id"))}}))}},r=function(){s.current,
v.current},i=function(){o.current=!0},l=s.current;if(null!=l){l.addEventListener("focusin",e);l.addEventListener("focusout",n);l.addEventListener("focus",r);l.addEventListener("scroll",i,{passive:!0});return function(){l.removeEventListener("focusin",e);l.removeEventListener("focusout",n);l.removeEventListener("focus",r);l.removeEventListener("scroll",i)}}}),[t,u,d,h,c]);var y=i.useCallback((function(e){if(l.current){var t=a.current,n=s.current;if(null!=t){var r=(0,li.P1)(t,fi),i=null==n?void 0:n.querySelector(r);if(null!=i){var o,u=parseInt(null!==(o=i.getAttribute("data-grid-section"))&&void 0!==o?o:""),d=parseInt(i.getAttribute("aria-rowindex")),g=parseInt(i.getAttribute("aria-colindex"));if(mi.has(e.key)){e.stopPropagation();e.preventDefault()}switch(e.key){case f.R8.RIGHT:var m=c(pi({section:u,row:d,column:g+1}));if(null!=m){var p=m.getAttribute(fi);null!=p&&h(p)}return;case f.R8.LEFT:var v=c(pi({section:u,row:d,column:g-1}));if(null!=v){var y=v.getAttribute(fi);null!=y&&h(y)}
return;case f.R8.DOWN:var b=c(pi({section:u,row:d+1,column:g}));null==b&&(b=c(pi({section:u+1,row:0,column:g})));if(null!=b){var O=b.getAttribute(fi);null!=O&&h(O)}return;case f.R8.UP:var x;if(0===d){var j=parseInt(i.getAttribute(gi));null==(x=c(pi({section:u-1,row:j,column:g})))&&(x=c(pi({section:u-1,row:j-1,column:g})))}else x=c(pi({section:u,row:d-1,column:g}));if(null!=x){var S=x.getAttribute(fi);null!=S&&h(S)}return;case f.R8.SPACE:case f.R8.ENTER:if(e.repeat)return;var C=a.current;if(null!=C){var E,w=(0,li.P1)(C,fi),_=c(w),N=_===(null!==(E=null==_?void 0:_.ownerDocument)&&void 0!==E?E:document).activeElement;if(null!=_&&N){e.preventDefault();e.stopPropagation();null==_||_.click()}}}}}}}),[c,h]),b=i.useCallback((function(e){var n=null!=e?(0,li.jb)(t,e):null;a.current=n}),[t]);return i.useMemo((function(){return{id:t,containerProps:{onKeyDown:y,ref:s,tabIndex:m?-1:0,role:"grid"},setFocus:b}}),[t,y,m,b])}({id:"forum-grid-view",isEnabled:Q&&Ue,setFocus:Fe}),Ve=function(e){
var t=e.listRef,n=e.padding,r=e.channel,a=e.isEnabled,o=i.useCallback((function(e){var r=t.current,i=document.querySelector(e);null!=i&&(null==r||r.scrollIntoViewNode({node:i,padding:n,callback:function(){var t;null===(t=document.querySelector(e))||void 0===t||t.focus({preventScroll:!0})}}))}),[n]),s=i.useCallback((function(){return new Promise((function(e){var n=t.current;null==n||n.scrollToTop({callback:function(){return requestAnimationFrame(e)}})}))}),[]),l=i.useCallback((function(){return new Promise((function(e){var n=t.current;null==n||n.scrollToBottom({callback:function(){return requestAnimationFrame(e)}})}))}),[]);return(0,u.ZP)({id:"forum-channel-list-".concat(r.id),isEnabled:a,scrollToStart:s,scrollToEnd:l,setFocus:o})}({listRef:K,padding:96,isEnabled:!Q&&Ue,channel:t}),Be=Ge.containerProps,ze=Be.ref,We=Yo(Be,["ref"]),qe=k.ZP.getSidebarState(t.id),Xe=null!=qe&&(0,k.D5)(qe);return(0,r.jsx)("div",{className:Lt().container,ref:se,children:(0,r.jsx)(E.Wd,{children:function(e){
return(0,r.jsxs)(r.Fragment,{children:[p&&(0,r.jsx)(b.Z,{channel:t,draftType:F.d.FirstThreadMessage,className:Lt().uploadArea,style:{right:Xe&&(null==n?void 0:n.isThreadSidebarFloating)?n.threadSidebarWidth:0}}),(0,r.jsx)(us,{channel:t}),(0,r.jsx)(v.nn,{children:(0,r.jsx)(v.H,{children:De.Z.Messages.THREADS})}),V?(0,r.jsx)("div",{className:Lt().optInNotice,children:(0,r.jsx)(T.Z,{channel:t})}):null,Q?(0,r.jsx)(xi,{navigator:Ge,children:(0,r.jsx)(X.ZP,qo({ref:function(e){var t;ze.current=null!==(t=null==e?void 0:e.getScrollerNode())&&void 0!==t?t:null;Ae(e)},itemGutter:16,padding:24,className:Lt().grid,columns:ce,sections:ge,getItemKey:Re,getSectionHeight:Ze,getItemHeight:ns,renderSection:Me,renderItem:Ie,getSectionProps:Le,onScroll:C?He:void 0,chunkSize:350},We,e),H)}):(0,r.jsx)(d.bG,{navigator:Ve,children:(0,r.jsx)(d.SJ,{children:function(t){var n=t.ref,i=Yo(t,["ref"]);return(0,r.jsx)(q._2,Xo(qo({ref:Ce(n),className:Lt().list,sections:ge,sectionHeight:_e,rowHeight:Ne,renderRow:we,
renderSection:Ee,chunkSize:150,onScroll:C?He:void 0,paddingBottom:24},i,e),{innerRole:"list"}),H)}})})]})}})})}function ls(e){var t=e.channel,n=e.coords,i=(0,S.ZP)(t);return(0,r.jsx)("div",{className:o()(Lt().missingReadHistoryPermission,Lt().columnsSpan),style:n,children:(0,r.jsx)(v.xv,{color:"text-muted",variant:"text-md/normal",children:De.Z.Messages.FORUM_CHANNEL_NO_POST_HISTORY.format({channelName:i})})})}function cs(e){var t=e.channel,n=e.coords,i=(0,S.ZP)(t);return(0,r.jsx)("div",{className:o()(Lt().missingReadHistoryPermission,Lt().columnsSpan),style:n,children:(0,r.jsx)(v.xv,{color:"text-muted",variant:"text-md/normal",children:De.Z.Messages.FORUM_CHANNEL_NO_SEARCH_POST_HISTORY.format({channelName:i})})})}function us(e){var t=e.channel,n=i.useCallback((function(){Q.Z.resort(t.id)}),[t]),a=(0,m.e7)([J.Z],(function(){return J.Z.getNewThreadCount()}));return 0===a?null:(0,r.jsx)(v.P3,{className:Lt().newPostsButton,onClick:n,children:(0,r.jsx)(v.xv,{color:"text-brand",
variant:"text-md/medium",children:De.Z.Messages.NEW_FORUM_POST_COUNT.format({count:a})})})}function ds(){return Promise.resolve()}function fs(e){var t,n,a,s=e.channel,h=e.isEmpty,g=e.isSearchLoading,y=e.numResults,b=e.children,x=e.coords,S=e.onHeightChange,E=(0,Ke.xH)((function(e){return{name:e.name,formOpen:e.formOpen,titleFocused:e.titleFocused,hasClickedForm:e.hasClickedForm,textAreaState:e.textAreaState,onboardingExpanded:e.onboardingExpanded,setEditorAdditionRowHeight:e.setEditorAdditionRowHeight}}),c.Z),N=E.name,P=E.formOpen,T=E.titleFocused,A=E.hasClickedForm,R=E.textAreaState,M=E.onboardingExpanded,Z=E.setEditorAdditionRowHeight,L=(0,ee.H)(s.id).tagFilter,k=(0,Ke.AF)(),D=(0,ee.v)(),W=(0,m.e7)([H.Z],(function(){return H.Z.canChatInGuild(s.guild_id)})),q=(0,te.r_)(s),X=(0,I.cD)(s),$=$o(i.useState(X),2),J=$[0],ne=$[1],re=$o((0,w.AB)(null!==(a=s.getGuildId())&&void 0!==a?a:void 0),2)[1],ie=W&&(X||J&&re);i.useEffect((function(){X&&ne(!0)}),[X]);var oe=(0,
O.Z)(),se=oe.ref,le=oe.height;i.useEffect((function(){null!=le&&S(le)}),[S,le]);var ce=i.useCallback((function(){l()((function(){null!=se.current&&k.getState().setEditorHeight(se.current.offsetHeight)}))}),[se,k]);i.useLayoutEffect(ce,[ce,h,ie,M]);(0,Y.yp)({event:ke.CkL.REMEASURE_TARGET,handler:ce});var ue=(0,m.e7)([U.Z],(function(){return U.Z.getUploads(s.id,F.d.FirstThreadMessage)})),de=(0,te.ql)(s),fe=i.useRef(null),he=i.useRef(null),ge=$o(i.useState(0),2),me=ge[0],pe=ge[1],ve=(0,m.e7)([G.Z],(function(){return G.Z.windowSize()})).width,ye=null===(n=null===(t=fe.current)||void 0===t?void 0:t.getBoundingClientRect())||void 0===n?void 0:n.width,be=i.useRef(null);i.useLayoutEffect((function(){var e,t=he.current,n=null==t||null===(e=t.children)||void 0===e?void 0:e[0];if(null!=fe.current&&null!=n&&null!=n.children){var r=fe.current.getBoundingClientRect(),i=r.left,a=r.top,o=0,s=!0,l=!1,c=void 0;try{for(var u,d=n.children[Symbol.iterator]();!(s=(u=d.next()).done);s=!0){
var f=u.value.getBoundingClientRect(),h=f.right;if(f.top-a>f.height)break;h-i>o&&(o=h-i)}}catch(e){l=!0;c=e}finally{try{s||null==d.return||d.return()}finally{if(l)throw c}}pe(o)}}),[s.availableTags,ve,ye,L]);var Oe=N.length>0&&!P&&(g||null!=y),xe=!__OVERLAY__&&!A&&!P&&T&&(0===R.textValue.trim().length||R.textValue.trim()===de)&&0===ue.length;i.useLayoutEffect((function(){var e=Oe||xe;if(!e)return Z(0);null!=be.current&&Z(e?be.current.clientHeight:0)}),[Z,Oe,xe,be]);var je=(0,u.ZP)({id:"".concat(s.id,"-tags-navigator"),isEnabled:!0,wrap:!0,scrollToStart:ds,scrollToEnd:ds,orientation:f.hy.HORIZONTAL}),Se=(0,d.JA)("forum-channel-header"),Ce=(Se.role,Se.onFocus),Ee=Yo(Se,["role","onFocus"]),we=i.useRef(null),_e=function(){var e=i.useRef(!1),t=(0,m.e7)([j.Z],(function(){return j.Z.keyboardModeEnabled})),n=i.useCallback((function(t){e.current=t.shiftKey}),[e]);i.useLayoutEffect((function(){t?window.addEventListener("keydown",n):window.removeEventListener("keydown",n);return function(){
return window.removeEventListener("keydown",n)}}),[t,n]);return e}(),Ne=i.useCallback((function(e){Ce(e);if(e.target===se.current&&!_e.current){var t;null===(t=we.current)||void 0===t||t.focus()}}),[Ce,se,_e]);return(0,r.jsx)("div",Xo(qo({className:o()(Lt().card,Lt().headerRow,Lt().columnsSpan),ref:se,onFocus:Ne},Ee),{style:Xo(qo({},x),{position:"static",height:"auto"}),children:(0,r.jsxs)(Y.I3,{children:[(0,r.jsx)("div",{className:o()(Lt().mainCard,Lt().header,Ko({},Lt().headerWithMatchingPosts,Oe||xe)),children:(0,r.jsx)(jr,{parentChannel:s,onChange:ce,isSearchLoading:g,canCreatePost:ie,inputRef:we})}),(Oe||xe)&&(0,r.jsxs)("div",{className:Lt().matchingPostsRow,ref:be,children:[Oe&&(0,r.jsxs)("div",{className:Lt().matchingPosts,children:[(0,r.jsx)(v.X6,{variant:"text-xs/normal",color:"text-normal",children:g?De.Z.Messages.FORUM_SEARCHING:0===y?De.Z.Messages.FORUM_SEARCH_NO_MATCHING_POSTS:De.Z.Messages.FORUM_SEARCH_MATCHING_POSTS_ALT.format({numPosts:y,query:N})}),!g&&(0,r.jsx)(v.P3,{
onClick:function(){(0,ae.zI)({guildId:s.guild_id,channelId:s.id});Q.Z.clearForumSearch(s.id);k.getState().setName("")},children:(0,r.jsx)(v.xv,{variant:"text-xs/semibold",color:"text-brand",className:Lt().clear,children:De.Z.Messages.CLEAR})})]}),(0,r.jsx)("div",{className:Lt().tagsSpacer}),xe?ie?(0,r.jsxs)("div",{className:Lt().startPostHelp,children:[(0,r.jsx)(_.Z,{shortcut:"SHIFT",className:Lt().keyboardShortcut}),(0,r.jsx)(v.xv,{variant:"text-xs/normal",color:"text-normal",children:"+"}),(0,r.jsx)(_.Z,{shortcut:"ENTER",className:Lt().keyboardShortcut}),(0,r.jsx)(v.xv,{variant:"text-xs/normal",color:"text-normal",children:De.Z.Messages.FORUM_ENTER_TO_START_POST})]}):(0,r.jsxs)("div",{className:Lt().startPostHelp,children:[(0,r.jsx)(K.Z,{height:14,width:14,className:Lt().warnIcon}),(0,r.jsx)(v.xv,{variant:"text-xs/normal",color:"text-normal",children:De.Z.Messages.FORUM_NO_POST_PERMISSION_HELP})]}):null]}),(0,r.jsx)(Tt,{channel:s,onChange:ce}),(0,r.jsxs)("div",{
className:Lt().tagsContainer,ref:fe,children:[(0,r.jsx)(hs,{channel:s}),s.availableTags.length>0?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:Lt().divider}),(0,r.jsx)("div",{className:Lt().tagList,ref:he,children:(0,r.jsx)(d.bG,{navigator:je,children:(0,r.jsx)(d.SJ,{children:function(e){var t=e.ref,n=Yo(e,["ref"]);return(0,r.jsx)("div",Xo(qo({className:Lt().tagListInner,ref:t},n),{children:s.availableTags.map((function(e){return(0,r.jsx)(Yn.ZP,{className:Lt().tag,tag:e,onClick:function(){return function(e){(0,ae.e7)({guildId:s.guild_id,channelId:s.id,tagId:e,filterTagIds:Array.from(L),added:!L.has(e),location:{page:ke.ZY5.GUILD_CHANNEL,section:ke.jXE.FORUM_CHANNEL_HEADER,object:ke.qAy.CHANNEL_TAG}});D.getState().toggleTagFilter(s.id,e)}(e.id)},selected:L.has(e.id)},e.id)}))}))}})})}),(0,r.jsx)(V.ZP,{renderPopout:function(e){var t=e.closePopout,n=e.setPopoutRef;return(0,r.jsx)(Uo,{channel:s,closePopout:t,setPopoutRef:n})},position:V.ZP.Positions.BOTTOM,
align:V.ZP.Align.RIGHT,children:function(e,t){var n=t.isShown;return(0,r.jsxs)(v.zx,Xo(qo({},e),{size:v.zx.Sizes.MIN,color:v.zx.Colors.CUSTOM,className:o()(Lt().tagsButton,Ko({},Lt().tagsButtonWithCount,L.size>0)),style:{left:me},innerClassName:Lt().tagsButtonInner,"aria-label":De.Z.Messages.FORUM_TAG_SEE_MORE,children:[L.size>0?(0,r.jsx)("div",{className:Lt().countContainer,children:(0,r.jsx)(v.xv,{className:Lt().countText,color:"none",variant:"text-xs/medium",children:L.size})}):De.Z.Messages.FORUM_TAG_ALL,n?(0,r.jsx)(z.Z,{width:20}):(0,r.jsx)(B.Z,{width:20})]}))}}),(0,r.jsxs)(v.zx,{size:v.zx.Sizes.MIN,color:v.zx.Colors.CUSTOM,className:o()(Lt().tagsButton,Lt().tagsButtonPlaceholder),innerClassName:Lt().tagsButtonInner,"aria-label":De.Z.Messages.FORUM_TAG_SEE_MORE,children:[L.size>0?(0,r.jsx)("div",{className:Lt().countContainer,children:(0,r.jsx)(v.xv,{className:Lt().countText,color:"none",variant:"text-xs/medium",children:L.size})}):null,(0,r.jsx)(z.Z,{width:24})]})]}):null]
}),b,q&&(0,r.jsx)(C.Z,{contentTypes:[p.z$.FORUM_CHANNEL_HELPER_CARD],children:function(e){var t=e.visibleContent,n=e.markAsDismissed;return t===p.z$.FORUM_CHANNEL_HELPER_CARD?(0,r.jsx)(Vt,{onDismiss:n}):null}})]})}),"create-form")}function hs(e){var t=e.channel,n=(0,ee.v)(),a=(0,x.ZP)(),o=i.useMemo((function(){return a===ke.BRd.LIGHT?zo():Vo()}),[a]),s=i.useRef(!0),l=(0,te.M1)(t),c=l.showGridViewUpsell,u=l.gridViewUpsellLoading,d=l.shouldAutoEnableGridView,f=i.useCallback((function(e){(0,ae.X0)({channelId:t.id,guildId:t.guild_id,gridViewAutoEnabled:e})}),[t.guild_id,t.id]);i.useLayoutEffect((function(){if(c&&!u){if(s.current&&d){n.getState().setLayoutType(t.id,h.X.GRID);y.ZP.saveChannel(t.id,{defaultForumLayout:h.X.GRID});N.Z.increment({name:g.V.FORUM_CHANNEL_GRID_AUTO_ENABLED},!0)}s.current=!1}}),[t.guild_id,t.id,u,d,c,n]);var m=i.useCallback((function(){return(0,r.jsx)(V.ZP,{renderPopout:function(e){var n=e.closePopout;return(0,r.jsx)(Ki,{channel:t,closePopout:n})},
position:V.ZP.Positions.BOTTOM,align:V.ZP.Align.LEFT,children:function(e,t){var n=t.isShown;return(0,r.jsxs)(v.zx,Xo(qo({},e),{size:v.zx.Sizes.MIN,color:v.zx.Colors.CUSTOM,className:Lt().sortDropdown,innerClassName:Lt().sortDropdownInner,"aria-label":De.Z.Messages.FORUM_CHANNEL_SORT_AND_VIEW,children:[(0,r.jsx)(W.Z,{}),(0,r.jsx)(v.xv,{className:Lt().sortDropdownText,variant:"text-sm/medium",color:"interactive-normal",children:De.Z.Messages.FORUM_CHANNEL_SORT_AND_VIEW}),n?(0,r.jsx)(z.Z,{width:20}):(0,r.jsx)(B.Z,{width:20})]}))}})}),[t]);return(0,r.jsx)(C.Z,{contentTypes:[p.z$.FORUM_CHANNEL_GRID_VIEW_UPSELL],children:function(e){var i=e.visibleContent,a=e.markAsDismissed;return i===p.z$.FORUM_CHANNEL_GRID_VIEW_UPSELL?d?(0,r.jsx)(V.ZP,{renderPopout:function(){return(0,r.jsx)(L.ZP,{className:Lt().gridUpsellContainer,header:De.Z.Messages.FORUM_CHANNEL_GRID_UPSELL_AUTO_TITLE,asset:(0,r.jsx)("img",{className:Lt().gridUpsellAsset,src:o,alt:""}),
content:De.Z.Messages.FORUM_CHANNEL_GRID_UPSELL_AUTO_DESCRIPTION,buttonCTA:De.Z.Messages.FORUM_CHANNEL_GRID_UPSELL_AUTO_CONFIRM,secondaryButtonCTA:De.Z.Messages.FORUM_CHANNEL_GRID_UPSELL_AUTO_CANCEL,onSecondaryClick:function(){y.ZP.open(t.id)},onClick:ke.dG4,markAsDismissed:a,onComponentMount:function(){return f(!0)}})},position:V.ZP.Positions.BOTTOM,align:V.ZP.Align.CENTER,animation:V.ZP.Animation.TRANSLATE,shouldShow:!0,children:function(){return m()}}):(0,r.jsx)(V.ZP,{renderPopout:function(){return(0,r.jsx)(L.ZP,{className:Lt().gridUpsellContainer,header:De.Z.Messages.FORUM_CHANNEL_GRID_UPSELL_MANUAL_TITLE,asset:(0,r.jsx)("img",{className:Lt().gridUpsellAsset,src:o,alt:""}),content:De.Z.Messages.FORUM_CHANNEL_GRID_UPSELL_MANUAL_DESCRIPTION,buttonCTA:De.Z.Messages.FORUM_CHANNEL_GRID_UPSELL_MANUAL_CONFIRM,secondaryButtonCTA:De.Z.Messages.FORUM_CHANNEL_GRID_UPSELL_MANUAL_CANCEL,onSecondaryClick:a,onClick:function(){n.getState().setLayoutType(t.id,h.X.GRID)},markAsDismissed:a,
onComponentMount:function(){return f(!1)}})},position:V.ZP.Positions.BOTTOM,align:V.ZP.Align.CENTER,animation:V.ZP.Animation.TRANSLATE,shouldShow:!0,children:function(){return m()}}):(0,r.jsx)(r.Fragment,{children:m()})}})}},535093:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(785893),i=(n(667294),n(240243));function a(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function o(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function s(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e)
;for(r=0;r<a.length;r++){n=a[r];t.indexOf(n)>=0||(i[n]=e[n])}return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++){n=a[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}}return i}function l(e){var t=e.width,n=void 0===t?29:t,l=e.height,c=void 0===l?22:l,u=e.color,d=void 0===u?"currentColor":u,f=e.backgroundColor,h=s(e,["width","height","color","backgroundColor"]);return(0,r.jsx)("svg",o(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){a(e,t,n[t])}))}return e}({},(0,i.Z)(h)),{width:n,height:c,viewBox:"0 0 29 22",children:(0,r.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,r.jsx)("rect",{width:n,height:c,fill:f,fillOpacity:".8",rx:"3"}),(0,
r.jsx)("path",{d:"M8.01725 16.7054C7.17625 16.7054 6.43191 16.4879 5.78425 16.0529C5.13658 15.6179 4.63391 15.0089 4.27625 14.2259C3.91858 13.4333 3.73975 12.5246 3.73975 11.4999C3.73975 10.4849 3.92825 9.58593 4.30525 8.80293C4.69191 8.01993 5.24775 7.4061 5.97275 6.96143C6.70741 6.51677 7.58225 6.29443 8.59725 6.29443C9.45758 6.29443 10.2261 6.4781 10.9027 6.84543C11.5891 7.21277 12.1062 7.72993 12.4542 8.39693L10.8157 9.57143C10.3227 8.66277 9.58808 8.20843 8.61175 8.20843C7.72241 8.20843 7.04091 8.49843 6.56725 9.07843C6.09358 9.64877 5.85675 10.4559 5.85675 11.4999C5.85675 12.5536 6.09358 13.3656 6.56725 13.9359C7.04091 14.5063 7.72241 14.7914 8.61175 14.7914C9.00808 14.7914 9.37058 14.7189 9.69925 14.5739C10.0376 14.4193 10.2986 14.2114 10.4822 13.9504V12.7034H8.17675V10.8184H12.5412V16.5024H10.8302L10.5547 15.5454C9.98441 16.3188 9.13858 16.7054 8.01725 16.7054Z",fill:d}),(0,r.jsx)("path",{d:"M16.5444 16.5024H14.4274V6.49743H16.5444V16.5024Z",fill:d}),(0,r.jsx)("path",{
d:"M20.6933 16.5024H18.5763V6.49743H25.2608V8.41143H20.6933V10.7894H24.4053V12.7034H20.6933V16.5024Z",fill:d})]})}))}},979915:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(785893),i=(n(667294),n(240243));function a(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function o(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function s(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++){n=a[r];t.indexOf(n)>=0||(i[n]=e[n])}return i}(e,t);if(Object.getOwnPropertySymbols){
var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++){n=a[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}}return i}function l(e){var t=e.width,n=void 0===t?24:t,l=e.height,c=void 0===l?24:l,u=e.color,d=void 0===u?"currentColor":u,f=s(e,["width","height","color"]);return(0,r.jsx)("svg",o(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){a(e,t,n[t])}))}return e}({},(0,i.Z)(f)),{width:n,height:c,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{
d:"M12 2C6.486 2 2 6.487 2 12C2 17.515 6.486 22 12 22C17.514 22 22 17.515 22 12C22 6.487 17.514 2 12 2ZM12 6.751C12.69 6.751 13.25 7.311 13.25 8.001C13.25 8.692 12.69 9.251 12 9.251C11.31 9.251 10.75 8.691 10.75 8C10.75 7.31 11.31 6.751 12 6.751ZM15 17H9V15H11V12H10V10H12C12.553 10 13 10.448 13 11V15H15V17Z",fill:d})}))}},804116:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(785893),i=(n(667294),n(240243));function a(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function o(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}
function s(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++){n=a[r];t.indexOf(n)>=0||(i[n]=e[n])}return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++){n=a[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}}return i}function l(e){var t=e.width,n=void 0===t?16:t,l=e.height,c=void 0===l?16:l,u=e.color,d=void 0===u?"currentColor":u,f=e.foreground,h=s(e,["width","height","color","foreground"]);return(0,r.jsxs)("svg",o(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){a(e,t,n[t])}))}return e}({},(0,i.Z)(h)),{width:n,height:c,viewBox:"0 0 16 16",fill:"none",children:[(0,r.jsx)("path",{
className:f,fill:d,d:"M12.1803 4.66659L12.1803 14.6666H10.4701L10.4701 4.66659L8.53289 6.63325L7.33329 5.40825L11.3292 1.33325L15.3333 5.40825L14.1337 6.65825L12.1803 4.66659Z"}),(0,r.jsx)("path",{className:f,fill:d,d:"M3.81962 11.3333L3.81962 1.33325L5.52983 1.33325L5.52985 11.3333L7.46703 9.36658L8.66663 10.5916L4.67068 14.6666L0.666626 10.5916L1.86622 9.34158L3.81962 11.3333Z"})]}))}}}]);
//# sourceMappingURL=6beaaf5a14eeee409b6b.js.map