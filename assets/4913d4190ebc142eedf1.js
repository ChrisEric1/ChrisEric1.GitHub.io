"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[54104,47365,73284],{84441:(t,e,n)=>{n.d(e,{c:()=>I,Z:()=>C});var r=n(999357),o=n(541554),i=n(281110),c=n(630631),u=n(744564),a=n(347365),s=n(527005),l=n(296602),f=n(784426),d=n(736818),_=n(31914),p=n(120415),E=n(801809),S=n(2590),y=n(473708);function A(t,e,n,r,o,i,c){try{var u=t[i](c),a=u.value}catch(t){n(t);return}u.done?e(a):Promise.resolve(a).then(r,o)}function R(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function c(t){A(i,r,o,c,u,"next",t)}function u(t){A(i,r,o,c,u,"throw",t)}c(void 0)}))}}function O(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n;return t}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){
return Object.getOwnPropertyDescriptor(n,t).enumerable}))));r.forEach((function(e){O(t,e,n[e])}))}return t}var N,I,v=function(t,e){var n,r,o,i,c={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:c.label++;return{value:i[1],done:!1};case 5:c.label++;r=i[1];i=[0];continue;case 7:i=c.ops.pop();c.trys.pop();continue;default:if(!(o=c.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){c=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){c.label=i[1];break}if(6===i[0]&&c.label<o[1]){c.label=o[1];o=i;break}if(o&&c.label<o[2]){c.label=o[2]
;c.ops.push(i);break}o[2]&&c.ops.pop();c.trys.pop();continue}i=e.call(t,c)}catch(t){i=[6,t];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},b=new l.Z("AuthenticationActionCreators"),T=null;!function(t){t.MFA="MFA";t.SUCCESS="SUCCESS"}(I||(I={}));function m(t){return null==t?y.Z.Messages.NETWORK_ERROR_REST_REQUEST:null!=t.message?t.message:null!=t.code&&Array.isArray(t.code)?t.code[0]:y.Z.Messages.NETWORK_ERROR_REST_REQUEST}function g(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S.Z5c.DEFAULT_LOGGED_OUT;u.Z.dispatch({type:"LOGOUT"});null!=t&&(0,f.uL)(t)}const C={startSession:function(t){u.Z.wait((function(){u.Z.dispatch({type:"START_SESSION",token:t})}))},setLoginCredentials:function(t,e){u.Z.dispatch({type:"SET_LOGIN_CREDENTIALS",login:t,password:e})},login:function(t){var e,n=t.login,o=t.password,i=t.loginCode,c=t.undelete,s=t.captchaKey,l=t.source,f=t.giftCodeSKUId,d=t.invite,_=t.isMultiAccount,p=this;u.Z.dispatch({
type:"LOGIN",login:n,loginMethod:null!=i&&""!==i?S.nnr.LOGIN_CODE:S.nnr.PASSWORD});this.setLoginCredentials(n,null!==(e=null!=o?o:i)&&void 0!==e?e:void 0);E.Z.post(h({url:S.ANM.LOGIN,body:{login:n,password:o,undelete:c,login_code:i,captcha_key:s,login_source:l,gift_code_sku_id:f},retries:2,oldFormErrors:!0,trackedActionData:{event:r.a9.USER_LOGIN,properties:{invite_code:null==d?void 0:d.code,is_multi_account:_}}},_?{headers:{authorization:""}}:{})).then((function(t){var e=t.body,n=e.mfa,r=e.sms,o=e.webauthn,i=e.ticket,c=e.token,a=e.user_id,s=e.required_actions;u.Z.dispatch({type:"LOGIN_ATTEMPTED",user_id:a,required_actions:s});n?u.Z.dispatch({type:"LOGIN_MFA_STEP",ticket:i,sms:r,webauthn:o}):_?p.switchAccountToken(c):u.Z.dispatch({type:"LOGIN_SUCCESS",token:c})}),(function(t){var e,r=null===(e=t.body)||void 0===e?void 0:e.code;r===S.evJ.ACCOUNT_SCHEDULED_FOR_DELETION&&null!=o&&""!==o?u.Z.dispatch({type:"LOGIN_ACCOUNT_SCHEDULED_FOR_DELETION",credentials:{login:n,password:o}
}):r===S.evJ.ACCOUNT_DISABLED&&null!=o&&""!==o?u.Z.dispatch({type:"LOGIN_ACCOUNT_DISABLED",credentials:{login:n,password:o}}):r===S.evJ.PHONE_VERIFICATION_REQUIRED?u.Z.dispatch({type:"LOGIN_PHONE_IP_AUTHORIZATION_REQUIRED"}):u.Z.dispatch({type:"LOGIN_FAILURE",error:new a.yZ(t)})}))},loginMFA:function(t){var e=t.code,n=t.ticket,o=t.source,i=t.giftCodeSKUId,c=t.isMultiAccount,a=t.isWebAuthn,s=this;u.Z.dispatch({type:"LOGIN_MFA"});E.Z.post({url:a?S.ANM.LOGIN_WEBAUTHN:S.ANM.LOGIN_MFA,body:{code:e,ticket:n,login_source:o,gift_code_sku_id:i},retries:2,oldFormErrors:!0,trackedActionData:{event:r.a9.USER_LOGIN_MFA}}).then((function(t){c?s.switchAccountToken(t.body.token):u.Z.dispatch({type:"LOGIN_SUCCESS",token:t.body.token})}),(function(t){return u.Z.dispatch({type:"LOGIN_MFA_FAILURE",message:m(t.body)})}))},requestSMSToken:function(t){u.Z.dispatch({type:"LOGIN_MFA_SMS"});E.Z.post({url:S.ANM.LOGIN_SMS_SEND,body:{ticket:t},oldFormErrors:!0,trackedActionData:{event:r.a9.LOGIN_REQUEST_SMS_TOKEN}
}).then((function(t){var e=t.body.phone;u.Z.dispatch({type:"LOGIN_MFA_SMS_REQUEST_SUCCESS",phone:e})}),(function(t){u.Z.dispatch({type:"LOGIN_MFA_FAILURE",message:m(t.body)})}))},loginSMS:function(t){var e=t.code,n=t.ticket,o=t.source,i=t.giftCodeSKUId,c=t.isMultiAccount,a=this;u.Z.dispatch({type:"LOGIN_MFA_SMS"});E.Z.post({url:S.ANM.LOGIN_SMS,body:{code:e,ticket:n,login_source:o,gift_code_sku_id:i},retries:2,oldFormErrors:!0,trackedActionData:{event:r.a9.USER_LOGIN_MFA_SMS}}).then((function(t){c?a.switchAccountToken(t.body.token):u.Z.dispatch({type:"LOGIN_SUCCESS",token:t.body.token})}),(function(t){return u.Z.dispatch({type:"LOGIN_MFA_SMS_FAILURE",message:m(t.body)})}))},loginToken:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this;u.Z.dispatch({type:"LOGIN"});return new Promise((function(r){setImmediate((function(){u.Z.dispatch({type:"LOGIN_SUCCESS",token:t});e&&n.startSession(t);r()}))}))},loginReset:function(t){u.Z.dispatch({type:"LOGIN_RESET",
isMultiAccount:t})},loginStatusReset:function(){u.Z.dispatch({type:"LOGIN_STATUS_RESET"})},logout:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S.Z5c.DEFAULT_LOGGED_OUT,n=arguments.length>1?arguments[1]:void 0;return E.Z.post(h({url:S.ANM.LOGOUT,body:{provider:(0,p.xJ)(),token:c.Z.get(S.JkL),voip_provider:S.mvA,voip_token:c.Z.get(S.scU)},oldFormErrors:!0,trackedActionData:{event:r.a9.USER_LOGOUT}},null!=n&&{headers:{authorization:null!==(t=o.Z.getToken(n))&&void 0!==t?t:""}})).finally((function(){null!=n&&n!==d.default.getId()||g(e)}))},switchAccountToken:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=d.default.getToken();b.log("Switching accounts",{wasLoggedIn:null!=n,tokenHasChanged:t!==n});u.Z.dispatch({type:"LOGOUT",isSwitchingAccount:!0});var r=this.loginToken(t,!0).then((function(){var e=d.default.getToken();b.log("Switched accounts finished",{isCorrectToken:t===e})}));e&&(0,f.uL)(S.Z5c.ME);return r},
verifySSOToken:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S.Z5c.DEFAULT_LOGGED_OUT;return i.Z.get({url:S.ANM.ME,oldFormErrors:!0}).catch((function(){return g(t)}))},verify:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null!=t?E.Z.post({url:S.ANM.VERIFY,body:{token:t,captcha_key:e},oldFormErrors:!0,trackedActionData:{event:r.a9.USER_VERIFY}}).then((function(t){u.Z.dispatch({type:"LOGIN_SUCCESS",token:t.body.token});u.Z.dispatch({type:"VERIFY_SUCCESS",verifyingUserId:t.body.user_id})}),(function(t){return u.Z.dispatch({type:"VERIFY_FAILURE",errors:t.body})})):u.Z.dispatch({type:"VERIFY_FAILURE",errors:{}})},authorizePayment:function(t){return R((function(){return v(this,(function(e){switch(e.label){case 0:e.trys.push([0,2,,3]);return[4,E.Z.post({url:S.ANM.AUTHORIZE_PAYMENT,body:{token:t},oldFormErrors:!0,trackedActionData:{event:r.a9.AUTHORIZE_PAYMENT}})];case 1:e.sent();u.Z.dispatch({type:"VERIFY_SUCCESS"});return[3,3];case 2:
e.sent();u.Z.dispatch({type:"VERIFY_FAILURE",errors:{}});return[3,3];case 3:return[2]}}))}))()},authorizeIPAddress:function(t){return R((function(){return v(this,(function(e){switch(e.label){case 0:if(null==t){u.Z.dispatch({type:"VERIFY_FAILURE",errors:{}});return[2]}e.label=1;case 1:e.trys.push([1,3,,4]);return[4,E.Z.post({url:S.ANM.AUTHORIZE_IP,body:{token:t},oldFormErrors:!0,trackedActionData:{event:r.a9.AUTHORIZE_IP}})];case 2:e.sent();u.Z.dispatch({type:"VERIFY_SUCCESS"});return[3,4];case 3:e.sent();u.Z.dispatch({type:"VERIFY_FAILURE",errors:{}});return[3,4];case 4:return[2]}}))}))()},verifyResend:function(){return E.Z.post({url:S.ANM.VERIFY_RESEND,oldFormErrors:!0,trackedActionData:{event:r.a9.USER_VERIFY_RESEND}})},resetPassword:function(t,e){return R((function(){var n,o,i,s,l,f,d,_,y,A,R,O;return v(this,(function(h){switch(h.label){case 0:u.Z.dispatch({type:"LOGIN"});n={token:t,password:e};o=c.Z.get(S.JkL);if(null!=(i=(0,p.xJ)())&&null!=o){n.push_provider=i;n.push_token=o}
s=c.Z.get(S.scU);if(null!=S.mvA&&null!=s){n.push_voip_provider=S.mvA;n.push_voip_token=s}h.label=1;case 1:h.trys.push([1,3,,4]);return[4,E.Z.post({url:S.ANM.RESET_PASSWORD,body:n,oldFormErrors:!0,trackedActionData:{event:r.a9.USER_RESET_PASSWORD}})];case 2:l=h.sent(),f=l.body,d=f.mfa,_=f.sms,y=f.webauthn,A=f.ticket,R=f.token;return[2,{result:d?I.MFA:I.SUCCESS,sms:_,webauthn:y,ticket:A,token:R}];case 3:O=h.sent();u.Z.dispatch({type:"LOGIN_FAILURE",error:new a.yZ(O)});throw O;case 4:return[2]}}))}))()},resetPasswordMFA:function(t,e,n,o){return R((function(){var i;return v(this,(function(c){switch(c.label){case 0:u.Z.dispatch({type:"LOGIN_MFA"});c.label=1;case 1:c.trys.push([1,3,,4]);return[4,E.Z.post({url:S.ANM.RESET_PASSWORD,body:{code:t,ticket:e,password:n,token:o},oldFormErrors:!0,trackedActionData:{event:r.a9.USER_RESET_PASSWORD,properties:{mfa:!0}}})];case 2:return[2,c.sent().body.token];case 3:i=c.sent();u.Z.dispatch({type:"LOGIN_MFA_FAILURE",message:m(i.body)});throw i;case 4:
return[2]}}))}))()},forgotPassword:function(t,e){return R((function(){var n,o;return v(this,(function(i){switch(i.label){case 0:this.setLoginCredentials(t);u.Z.dispatch({type:"FORGOT_PASSWORD_REQUEST"});i.label=1;case 1:i.trys.push([1,3,,4]);return[4,E.Z.post({url:S.ANM.FORGOT_PASSWORD,body:{login:t,captcha_key:e},oldFormErrors:!0,trackedActionData:{event:r.a9.FORGOT_PASSWORD}})];case 2:i.sent();u.Z.dispatch({type:"FORGOT_PASSWORD_SENT"});return[3,4];case 3:n=i.sent();o=new a.yZ(n);o.code===S.evJ.PHONE_VERIFICATION_REQUIRED?u.Z.dispatch({type:"LOGIN_PASSWORD_RECOVERY_PHONE_VERIFICATION"}):u.Z.dispatch({type:"LOGIN_FAILURE",error:o});throw n;case 4:return[2]}}))})).apply(this)},setFingerprint:function(t){u.Z.dispatch({type:"FINGERPRINT",fingerprint:t})},getExperiments:function(t){u.Z.dispatch({type:"EXPERIMENTS_FETCH",withGuildExperiments:t})},getLocationMetadata:function(){if(null!=T)return T;clearTimeout(N);N=setTimeout((function(){u.Z.dispatch({type:"SET_CONSENT_REQUIRED",
consentRequired:!0})}),5e3);return T=i.Z.get({url:S.ANM.AUTH_LOCATION_METADATA,retries:2,oldFormErrors:!0}).then((function(t){var e,n,r;clearTimeout(N);if(null==_.Z.getAuthenticationConsentRequired()){var o,i,c=null===(i=null==t||null===(o=t.body)||void 0===o?void 0:o.consent_required)||void 0===i||i;u.Z.dispatch({type:"SET_CONSENT_REQUIRED",consentRequired:c})}u.Z.dispatch({type:"SET_LOCATION_METADATA",countryCode:null!==(r=null==t||null===(e=t.body)||void 0===e?void 0:e.country_code)&&void 0!==r?r:void 0});T=null;if(null!=(null==t||null===(n=t.body)||void 0===n?void 0:n.promotional_email_opt_in)){var a=t.body.promotional_email_opt_in;(0,s.K4)({required:a.required,checked:a.pre_checked,preChecked:a.pre_checked})}}),(function(){clearTimeout(N);u.Z.dispatch({type:"SET_CONSENT_REQUIRED",consentRequired:!0});T=null}))}}},579194:(t,e,n)=>{n.d(e,{FD:()=>h,Zy:()=>N,ss:()=>I,S2:()=>v,Mn:()=>T,ol:()=>m,V3:()=>g,I5:()=>C,UZ:()=>D,cV:()=>U,b9:()=>L,si:()=>P,W3:()=>w,P6:()=>M,_V:()=>Z})
;var r=n(611345),o=n(281110),i=n(630631),c=n(575945),u=n(744564),a=n(571690),s=n(784426),l=n(652591),f=n(775173),d=n(488110),_=n(120415),p=n(2590),E=n(473708);function S(t,e,n,r,o,i,c){try{var u=t[i](c),a=u.value}catch(t){n(t);return}u.done?e(a):Promise.resolve(a).then(r,o)}function y(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function c(t){S(i,r,o,c,u,"next",t)}function u(t){S(i,r,o,c,u,"throw",t)}c(void 0)}))}}function A(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n;return t}function R(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))));r.forEach((function(e){A(t,e,n[e])}))}return t}var O=function(t,e){var n,r,o,i,c={label:0,sent:function(){if(1&o[0])throw o[1]
;return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:c.label++;return{value:i[1],done:!1};case 5:c.label++;r=i[1];i=[0];continue;case 7:i=c.ops.pop();c.trys.pop();continue;default:if(!(o=c.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){c=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){c.label=i[1];break}if(6===i[0]&&c.label<o[1]){c.label=o[1];o=i;break}if(o&&c.label<o[2]){c.label=o[2];c.ops.push(i);break}o[2]&&c.ops.pop();c.trys.pop();continue}i=e.call(t,c)}catch(t){i=[6,t];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}
;function h(){u.Z.dispatch({type:"USER_SETTINGS_ACCOUNT_INIT"})}function N(){u.Z.dispatch({type:"USER_SETTINGS_ACCOUNT_CLOSE"})}function I(t,e){var n=e?E.Z.Messages.DELETE_ACCOUNT:E.Z.Messages.DISABLE_ACCOUNT,r=e?p.ANM.DELETE_ACCOUNT:p.ANM.DISABLE_ACCOUNT;return(0,d.Z)((function(e){return o.Z.post({url:r,body:R({password:t},e),oldFormErrors:!0})}),{modalProps:{title:n},checkEnabled:!1}).then((function(){u.Z.dispatch({type:"LOGOUT"});(0,s.uL)(p.Z5c.DEFAULT_LOGGED_OUT)}))}function v(t){return b.apply(this,arguments)}function b(){return(b=y((function(t){var e,n,r;return O(this,(function(i){switch(i.label){case 0:return[4,(0,a.withCaptchaInterceptor)((function(e){return o.Z.patch({url:p.ANM.ME,oldFormErrors:!0,body:R({},t,e)})}))];case 1:e=i.sent();if((n=e.body).token){r=n.token;delete n.token;u.Z.dispatch({type:"UPDATE_TOKEN",token:r,userId:n.id});null!=(null==t?void 0:t.password)&&null!=(null==t?void 0:t.new_password)&&u.Z.dispatch({type:"PASSWORD_UPDATED",userId:n.id})}u.Z.dispatch({
type:"CURRENT_USER_UPDATE",user:n});return[2,e]}}))}))).apply(this,arguments)}function T(t){var e=t.username,n=t.discriminator,o=t.email,c=t.emailToken,a=t.password,s=t.avatar,S=t.avatarDecoration,y=t.newPassword,A=t.globalName;u.Z.dispatch({type:"USER_SETTINGS_ACCOUNT_SUBMIT"});return(0,d.Z)((function(t){var u=R({username:e,email:o,email_token:c,password:a,avatar:s,discriminator:n,global_name:A,new_password:y},t);(0,r.EQ)(S).with(null,(function(){u.avatar_decoration_preset=null})).with({data:r.P.string},(function(t){var e=t.data;u.avatar_decoration=e})).with({hash:r.P.string,sku:{id:r.P.string}},(function(t){var e=t.hash,n=t.sku;u.avatar_decoration_id="c:".concat(null==n?void 0:n.id,":").concat(e)})).with({id:r.P.string},(function(t){u.avatar_decoration_preset=null==t?void 0:t.id})).otherwise(p.dG4);var l=i.Z.get(p.JkL),f=(0,_.xJ)();if(null!=f&&null!=l){u.push_provider=f;u.push_token=l}var d=i.Z.get(p.scU);if(null!=p.mvA&&null!=d){u.push_voip_provider=p.mvA;u.push_voip_token=d}
return v(u)}),{checkEnabled:!1,modalProps:{title:E.Z.Messages.TWO_FA_CHANGE_ACCOUNT},hooks:{onEarlyClose:function(){return u.Z.dispatch({type:"USER_SETTINGS_ACCOUNT_SUBMIT_FAILURE",errors:{}})}}}).then((function(t){var e=t.body;l.default.track(p.rMx.USER_AVATAR_UPDATED,{animated:(0,f.xR)(e.avatar)});u.Z.dispatch({type:"USER_SETTINGS_ACCOUNT_SUBMIT_SUCCESS"});return t}),(function(t){u.Z.dispatch({type:"USER_SETTINGS_ACCOUNT_SUBMIT_FAILURE",errors:t.body});return t}))}function m(){return o.Z.get({url:p.ANM.USER_HARVEST,oldFormErrors:!0})}function g(){return o.Z.post({url:p.ANM.USER_HARVEST,oldFormErrors:!0})}function C(t){u.Z.dispatch({type:"USER_SETTINGS_ACCOUNT_SET_PENDING_AVATAR",avatar:t});null==t?c.uv.announce(E.Z.Messages.A11Y_ANNOUNCEMENT_AVATAR_NONE):c.uv.announce(E.Z.Messages.A11Y_ANNOUNCEMENT_AVATAR_CHANGED)}function D(t){u.Z.dispatch({type:"USER_SETTINGS_ACCOUNT_SET_PENDING_GLOBAL_NAME",globalName:t})}function U(t){u.Z.dispatch({
type:"USER_SETTINGS_ACCOUNT_SET_PENDING_AVATAR_DECORATION",avatarDecoration:t})}function L(){u.Z.dispatch({type:"USER_SETTINGS_CLEAR_ERRORS"})}function P(){u.Z.dispatch({type:"USER_SETTINGS_RESET_PENDING_ACCOUNT_CHANGES"})}function w(){u.Z.dispatch({type:"USER_SETTINGS_RESET_ALL_PENDING"})}function M(){u.Z.dispatch({type:"USER_SETTINGS_ACCOUNT_RESET_AND_CLOSE_FORM"})}function Z(t){u.Z.dispatch({type:"USER_SETTINGS_ACCOUNT_SET_DISABLE_SUBMIT",disable:t})}},539381:(t,e,n)=>{n.d(e,{Z:()=>f});var r=n(281110),o=n(2590),i=n(473708);function c(t){c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)};return c(t)}function u(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t,e){a=Object.setPrototypeOf||function(t,e){t.__proto__=e;return t};return a(t,e)}var s=function(t){
return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}var f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}});e&&a(t,e)}(n,t);var e=l(n);function n(t,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);return e.call(this,t,r,i.Z.Messages.FORM_ERROR_GENERIC.format({statusPageURL:o.yXt.STATUS}))}return n}(r.Z.V8APIError)
},414094:(t,e,n)=>{n.d(e,{SM:()=>f,yD:()=>h,ZP:()=>I});var r=n(701614),o=n(82350),i=n(973889),c=n(473708);function u(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n;return t}function a(t){a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)};return a(t)}function s(t,e){return!e||"object"!==E(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t,e){l=Object.setPrototypeOf||function(t,e){t.__proto__=e;return t};return l(t,e)}var f,d,_,p,E=function(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};function S(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0
}catch(t){return!1}}();return function(){var n,r=a(t);if(e){var o=a(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}!function(t){t[t.UNKNOWN=0]="UNKNOWN";t[t.UNKNOWN_BILLING_PROFILE=100001]="UNKNOWN_BILLING_PROFILE";t[t.UNKNOWN_PAYMENT_SOURCE=100002]="UNKNOWN_PAYMENT_SOURCE";t[t.UNKNOWN_SUBSCRIPTION=100003]="UNKNOWN_SUBSCRIPTION";t[t.ALREADY_SUBSCRIBED=100004]="ALREADY_SUBSCRIBED";t[t.INVALID_PLAN=100005]="INVALID_PLAN";t[t.PAYMENT_SOURCE_REQUIRED=100006]="PAYMENT_SOURCE_REQUIRED";t[t.ALREADY_CANCELED=100007]="ALREADY_CANCELED";t[t.INVALID_PAYMENT=100008]="INVALID_PAYMENT";t[t.ALREADY_REFUNDED=100009]="ALREADY_REFUNDED";t[t.INVALID_BILLING_ADDRESS=100010]="INVALID_BILLING_ADDRESS";t[t.ALREADY_PURCHASED=100011]="ALREADY_PURCHASED";t[t.NEGATIVE_INVOICE_AMOUNT=100027]="NEGATIVE_INVOICE_AMOUNT";t[t.AUTHENTICATION_REQUIRED=100029]="AUTHENTICATION_REQUIRED";t[t.SUBSCRIPTION_RENEWAL_IN_PROGRESS=100042]="SUBSCRIPTION_RENEWAL_IN_PROGRESS"
;t[t.CONFIRMATION_REQUIRED=100047]="CONFIRMATION_REQUIRED";t[t.CARD_DECLINED=100054]="CARD_DECLINED";t[t.INVALID_GIFT_REDEMPTION_FRAUD_REJECTED=50097]="INVALID_GIFT_REDEMPTION_FRAUD_REJECTED";t[t.PURCHASE_TOKEN_AUTHORIZATION_REQUIRED=100056]="PURCHASE_TOKEN_AUTHORIZATION_REQUIRED";t[t.INVALID_PAYMENT_SOURCE=50048]="INVALID_PAYMENT_SOURCE";t[t.INVALID_CURRENCY_FOR_PAYMENT_SOURCE=100051]="INVALID_CURRENCY_FOR_PAYMENT_SOURCE";t[t.BILLING_APPLE_SERVER_API_ERROR=100070]="BILLING_APPLE_SERVER_API_ERROR"}(f||(f={}));!function(t){t.CARD_NUMBER="cardNumber";t.CARD_CVC="cvc";t.CARD_EXPIRATION_DATE="expirationDate";t.CARD_NAME="name";t.ADDRESS_NAME="name";t.ADDRESS_LINE_1="line1";t.ADDRESS_LINE_2="line2";t.ADDRESS_CITY="city";t.ADDRESS_STATE="state";t.ADDRESS_POSTAL_CODE="postalCode";t.ADDRESS_COUNTRY="country"}(d||(d={}));!function(t){t.ADDRESS_LINE_1="address_line1";t.ADDRESS_LINE_2="address_line2";t.ADDRESS_CITY="address_city";t.ADDRESS_STATE="address_state";t.ADDRESS_ZIP="address_zip"
;t.ADDRESS_COUNTRY="address_country";t.CARD_NUMBER="number";t.CARD_EXPIRATION_DATE="exp";t.CARD_EXPIRATION_MONTH="exp_month";t.CARD_EXPIRATION_YEAR="exp_year"}(_||(_={}));var y,A=Object.freeze((u(p={},_.ADDRESS_LINE_1,d.ADDRESS_LINE_1),u(p,_.ADDRESS_LINE_2,d.ADDRESS_LINE_2),u(p,_.ADDRESS_CITY,d.ADDRESS_CITY),u(p,_.ADDRESS_STATE,d.ADDRESS_STATE),u(p,_.ADDRESS_ZIP,d.ADDRESS_POSTAL_CODE),u(p,_.ADDRESS_COUNTRY,d.ADDRESS_COUNTRY),u(p,_.CARD_NUMBER,d.CARD_NUMBER),u(p,_.CARD_EXPIRATION_DATE,d.CARD_EXPIRATION_DATE),u(p,_.CARD_EXPIRATION_MONTH,d.CARD_EXPIRATION_DATE),u(p,_.CARD_EXPIRATION_YEAR,d.CARD_EXPIRATION_DATE),p));!function(t){t.CARD="card";t.ADDRESS="address"}(y||(y={}));var R=new Set([d.CARD_NUMBER,d.CARD_CVC,d.CARD_EXPIRATION_DATE,d.CARD_NAME]),O=new Set([d.ADDRESS_NAME,d.ADDRESS_LINE_1,d.ADDRESS_LINE_2,d.ADDRESS_CITY,d.ADDRESS_STATE,d.ADDRESS_POSTAL_CODE,d.ADDRESS_COUNTRY]);function h(t){var e;if("string"!=typeof t&&(null==t||null===(e=t.body)||void 0===e?void 0:e.code)===r.f$){
var n,i,c,u;if(!Array.isArray(null==t||null===(n=t.body)||void 0===n?void 0:n.errors)&&null!=(null==t||null===(i=t.body)||void 0===i||null===(c=i.errors)||void 0===c?void 0:c.billing_address)){for(var a in t.body.errors.billing_address){var s=t.body.errors.billing_address[a];delete t.body.errors.billing_address[a];t.body.errors[a]=s}delete t.body.errors.billing_address}null!=(null===(u=t.body)||void 0===u?void 0:u.errors)&&(t.body=(0,o.Z)(t.body.errors))}return new N(t)}var N=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}});e&&l(t,e)}(n,t);var e=S(n);function n(t,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var o;(o=e.call(this,t,r)).paymentId=null
;o.code===f.NEGATIVE_INVOICE_AMOUNT?o.message=c.Z.Messages.BILLING_ERROR_NEGATIVE_INVOICE_AMOUNT:o.code===f.INVALID_PAYMENT_SOURCE?o.message=c.Z.Messages.BILLING_PAYMENT_SOURCE_INVALID:o.code===f.UNKNOWN_PAYMENT_SOURCE?o.message=c.Z.Messages.BILLING_ERROR_UNKNOWN_PAYMENT_SOURCE:o.code===f.SUBSCRIPTION_RENEWAL_IN_PROGRESS?o.message=c.Z.Messages.BILLING_ERROR_PENDING_PAYMENT:429===o.status?o.message=c.Z.Messages.BILLING_ERROR_RATE_LIMIT:o.code===f.UNKNOWN?o.message=c.Z.Messages.BILLING_ERROR_GENERIC:400===o.status&&null!=o.fields.captcha_key&&(o.message=c.Z.Messages.BILLING_ERROR_INVALID_CAPTCHA_RESPONSE);for(var i in o.fields){var u=A[i];if(null!=u){var a=o.fields[i];delete o.fields[i];o.fields[u]=a}}null!=t.body&&"string"==typeof t.body.payment_id&&(o.paymentId=t.body.payment_id);return o}var r=n.prototype;r._isInFieldSet=function(t){for(var e in this.fields)if(t.has(e))return!0};r.hasCardError=function(){return this._isInFieldSet(R)};r.hasAddressError=function(){
return this._isInFieldSet(O)};return n}(i.Z);N.ErrorCodes=f;N.Fields=d;N.Sections=y;N.CARD_ERRORS=R;N.ADDRESS_ERRORS=O;const I=N},973889:(t,e,n)=>{n.d(e,{Z:()=>f});var r=n(281110),o=n(2590),i=n(473708);function c(t){c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)};return c(t)}function u(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t,e){a=Object.setPrototypeOf||function(t,e){t.__proto__=e;return t};return a(t,e)}var s=function(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(t){return!1}}()
;return function(){var n,r=c(t);if(e){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}var f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}});e&&a(t,e)}(n,t);var e=l(n);function n(t,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);return e.call(this,t,r,i.Z.Messages.FORM_ERROR_GENERIC.format({statusPageURL:o.yXt.STATUS}))}return n}(r.Z.V6OrEarlierAPIError)},347365:(t,e,n)=>{n.d(e,{Hx:()=>o.Z,zN:()=>O,HF:()=>i.ZP,cz:()=>N,n0:()=>I,yZ:()=>r.Z});var r=n(973889),o=n(539381),i=n(414094);function c(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n;return t}function u(t){u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){
return t.__proto__||Object.getPrototypeOf(t)};return u(t)}function a(t,e){return!e||"object"!==l(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t,e){s=Object.setPrototypeOf||function(t,e){t.__proto__=e;return t};return s(t,e)}var l=function(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}i.ZP;n(868659);var d=n(70145),_=n(473708);function p(t){p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){
return t.__proto__||Object.getPrototypeOf(t)};return p(t)}function E(t,e){return!e||"object"!==y(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function S(t,e){S=Object.setPrototypeOf||function(t,e){t.__proto__=e;return t};return S(t,e)}var y=function(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};function A(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(t){return!1}}();return function(){var n,r=p(t);if(e){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return E(this,n)}}var R=function(t){!function(t,e){
if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}});e&&S(t,e)}(n,t);var e=A(n);function n(t,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var o;429===(o=e.call(this,t,r)).status&&(o.message=o._getMessageFromRateLimit(t));return o}n.prototype._getMessageFromRateLimit=function(t){var e=t.body.retry_after,n=(0,d.TD)(0,1e3*e);return(0,d.QX)(n,{days:_.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_ERROR_RATE_LIMIT_DAYS,hours:_.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_ERROR_RATE_LIMIT_HOURS,minutes:_.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_ERROR_RATE_LIMIT_MINUTES})};return n}(r.Z);const O=R;function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(t,r.key,r)}}var N;!function(t){t[t.GENERAL=0]="GENERAL"
;t[t.NO_FILE=1]="NO_FILE";t[t.PROGRESS=2]="PROGRESS";t[t.UPLOAD=3]="UPLOAD";t[t.READ=4]="READ"}(N||(N={}));const I=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.code=e}!function(t,e,n){e&&h(t.prototype,e);n&&h(t,n)}(t,[{key:"displayMessage",get:function(){switch(this.code){case N.NO_FILE:return _.Z.Messages.UPLOAD_DEBUG_LOG_FAILURE_NO_FILE;case N.PROGRESS:return _.Z.Messages.UPLOAD_DEBUG_LOG_FAILURE_PROGRESS;case N.UPLOAD:return _.Z.Messages.UPLOAD_DEBUG_LOG_FAILURE_UPLOAD;case N.READ:return _.Z.Messages.UPLOAD_DEBUG_LOG_FAILURE_READ;case N.GENERAL:default:return _.Z.Messages.UPLOAD_DEBUG_LOG_FAILURE}}}]);return t}()},527005:(t,e,n)=>{n.d(e,{K4:()=>o,ZJ:()=>i,MD:()=>c});var r=(0,n(38736).Z)((function(){return{required:!1,checked:!1,preChecked:!1}})),o=function(t){r.setState(t)},i=function(t){r.setState({checked:t})},c=r},854104:(t,e,n)=>{n.r(e);n.d(e,{default:()=>T})
;var r=n(785893),o=n(667294),i=n(294184),c=n.n(i),u=n(945460),a=n(84441),s=n(579194),l=n(415879),f=n(107364),d=n(652591),_=n(646161),p=n(463473),E=n(2590),S=n(571680),y=n(473708),A=n(323379),R=n.n(A);function O(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function h(t,e,n,r,o,i,c){try{var u=t[i](c),a=u.value}catch(t){n(t);return}u.done?e(a):Promise.resolve(a).then(r,o)}function N(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],c=!0,u=!1;try{for(n=n.call(t);!(c=(r=n.next()).done);c=!0){i.push(r.value);if(e&&i.length===e)break}}catch(t){u=!0;o=t}finally{try{c||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return O(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var I=function(t,e){var n,r,o,i,c={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:c.label++;return{value:i[1],done:!1};case 5:c.label++;r=i[1];i=[0];continue;case 7:i=c.ops.pop();c.trys.pop();continue;default:if(!(o=c.trys,
o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){c=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){c.label=i[1];break}if(6===i[0]&&c.label<o[1]){c.label=o[1];o=i;break}if(o&&c.label<o[2]){c.label=o[2];c.ops.push(i);break}o[2]&&c.ops.pop();c.trys.pop();continue}i=e.call(t,c)}catch(t){i=[6,t];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};function v(t){var e=t.email,n=t.setEmail,i=t.claimRequired,d=t.onSuccess,_=t.onClose,A=N(o.useState(),2),O=A[0],v=A[1],b=N(o.useState(""),2),T=b[0],m=b[1],g=N(o.useState(""),2),C=g[0],D=g[1],U=N(o.useState(!1),2),L=U[0],P=U[1];o.useEffect((function(){return l.Z.flowStep(S.MK.ANY,S.mx.CLAIM_ACCOUNT)}),[]);var w,M,Z=(M=(w=function(t){var n,r,o;return I(this,(function(i){switch(i.label){case 0:t.preventDefault();P(!0);v("");D("");i.label=1;case 1:i.trys.push([1,3,,4]);return[4,(0,s.S2)({email:e,password:T})];case 2:i.sent();P(!1);d();return[3,4];case 3:
(null==(n=i.sent())||null===(r=n.body)||void 0===r?void 0:r.email)&&v(n.body.email);(null==n||null===(o=n.body)||void 0===o?void 0:o.password)&&D(n.body.password);P(!1);return[3,4];case 4:return[2]}}))},function(){var t=this,e=arguments;return new Promise((function(n,r){var o=w.apply(t,e);function i(t){h(o,n,r,i,c,"next",t)}function c(t){h(o,n,r,i,c,"throw",t)}i(void 0)}))}),function(t){return M.apply(this,arguments)});return(0,r.jsxs)("div",{className:c()(R().modalLight,(0,p.Q)(E.BRd.LIGHT)),children:[(0,r.jsxs)(u.ModalHeader,{className:R().formHeader,direction:f.Z.Direction.VERTICAL,separator:!1,children:[(0,r.jsx)("div",{className:R().formImage}),(0,r.jsx)(u.Heading,{className:R().formTitle,variant:"heading-xl/semibold",children:y.Z.Messages.FINISH_SIGNING_UP}),(0,r.jsx)(u.Text,{className:R().formBody,variant:"text-md/normal",color:"header-secondary",children:i?y.Z.Messages.CLAIM_ACCOUNT_REQUIRED_BODY:y.Z.Messages.CLAIM_ACCOUNT_BODY_2}),(0,r.jsx)(u.ModalCloseButton,{
className:R().closeButton,onClick:_})]}),(0,r.jsx)(u.ModalContent,{children:(0,r.jsxs)("form",{className:R().formContent,onSubmit:Z,children:[(0,r.jsx)(u.FormItem,{title:y.Z.Messages.FORM_LABEL_EMAIL,className:R().formItem,children:(0,r.jsx)(u.TextInput,{value:e,error:O,onChange:function(t){return n(t)},autoFocus:!0})}),(0,r.jsx)(u.FormItem,{title:y.Z.Messages.FORM_LABEL_PASSWORD,className:R().formItem,children:(0,r.jsx)(u.TextInput,{type:"password",value:T,error:C,onChange:function(t){return m(t)}})}),(0,r.jsx)(u.Button,{type:"submit",size:u.Button.Sizes.LARGE,fullWidth:!0,submitting:L,disabled:0===e.length||0===T.length,children:y.Z.Messages.CLAIM_ACCOUNT}),i&&(0,r.jsx)(u.Button,{className:R().logoutButton,color:u.Button.Colors.PRIMARY,look:u.Button.Looks.LINK,size:u.Button.Sizes.NONE,onClick:function(){a.Z.logout();_()},children:y.Z.Messages.LOGOUT})]})})]})}function b(t){var e=t.email,n=t.claimRequired,i=t.onClose,a=function(){window.open((0,_.t3)(),"_blank")
;d.default.track(E.rMx.DOWNLOAD_APP,{platform:(0,_.DW)(),ptb:!1,released:!0,has_e_mail:!0,referring_location:"Claim Modal",qr_code:!1})},s=n?y.Z.Messages.CLAIM_ACCOUNT_REQUIRED_EMAIL_TO:y.Z.Messages.CLAIM_ACCOUNT_EMAIL_TO;o.useEffect((function(){return l.Z.flowStep(S.MK.ANY,S.mx.CLAIM_ACCOUNT_SUCCESS)}),[]);return(0,r.jsxs)("div",{className:c()(R().modalLight,(0,p.Q)(E.BRd.LIGHT)),children:[(0,r.jsxs)(u.ModalContent,{className:R().successContent,children:[!n&&(0,r.jsx)(u.ModalCloseButton,{className:R().closeButton,onClick:i}),(0,r.jsx)("div",{className:R().successImage}),(0,r.jsx)(u.Text,{className:R().successTitle,variant:"text-lg/semibold",children:s.format({email:e})}),(0,r.jsx)(u.Text,{className:R().successPromotion,variant:"text-md/normal",children:y.Z.Messages.CLAIM_ACCOUNT_PROMOTE_APP_2021_04})]}),n?(0,r.jsx)(u.ModalFooter,{direction:f.Z.Direction.VERTICAL,children:(0,r.jsx)(u.Button,{size:u.Button.Sizes.LARGE,onClick:i,children:y.Z.Messages.OKAY})}):(0,r.jsx)(u.ModalFooter,{
direction:f.Z.Direction.VERTICAL,children:(0,r.jsx)(u.Button,{color:u.Button.Colors.BRAND,size:u.Button.Sizes.LARGE,onClick:a,children:y.Z.Messages.CLAIM_ACCOUNT_GET_APP})})]})}function T(t){var e=t.onClose,n=t.transitionState,i=t.claimRequired,c=void 0!==i&&i,a=N(o.useState(""),2),s=a[0],l=a[1],f=N(o.useState(!1),2),d=f[0],_=f[1];return d?(0,r.jsx)(u.ModalRoot,{transitionState:n,children:(0,r.jsx)(b,{email:s,claimRequired:c,onClose:e})}):(0,r.jsx)(u.ModalRoot,{transitionState:n,children:(0,r.jsx)(v,{email:s,setEmail:l,claimRequired:c,onSuccess:function(){return _(!0)},onClose:e})})}},571680:(t,e,n)=>{n.d(e,{MK:()=>r,FF:()=>o,mx:()=>i,X2:()=>c,EW:()=>u});var r,o,i,c,u;!function(t){t.UNKNOWN="unknown";t.ANY="any";t.INVITE="invite";t.ORGANIC="organic_registration";t.ORGANIC_MARKETING="organic_marketing";t.ORGANIC_GUILD_TEMPLATES="organic_guild_template";t.CREATE_GUILD="create_guild"}(r||(r={}));!function(t){t.AGE_GATE="age_gate";t.AGE_GATE_UNDERAGE="age_gate_underage"}(o||(o={}))
;!function(t){t.CLAIM_ACCOUNT="claim_account";t.CLAIM_ACCOUNT_SUCCESS="claim_account_success"}(i||(i={}));!function(t){t.GUILD_TEMPLATES="guild_templates";t.GUILD_CREATE="guild_create";t.CREATION_INTENT="creation_intent";t.CHANNEL_PROMPT="channel_prompt";t.JOIN_GUILD="join_guild";t.SUCCESS="create_success"}(c||(c={}));!function(t){t.NUF_STARTED="nuf_started";t.AGE_GATE="age_gate";t.NUF_COMPLETE="nuf_complete";t.HUB_CONNECTION="hub_connection"}(u||(u={}))},415879:(t,e,n)=>{n.d(e,{Z:()=>N});var r=n(38736),o=n(630631),i=n(296602),c=n(652591),u=n(571680),a=n(2590);function s(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n;return t}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))));r.forEach((function(e){
s(t,e,n[e])}))}return t}function f(t,e){e=null!=e?e:{};Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):function(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})));n.push.apply(n,r)}return n}(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}));return t}function d(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++){n=i[r];e.indexOf(n)>=0||(o[n]=t[n])}return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++){n=i[r];e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}}return o}function _(t){var e=function(t,e){if("object"!==p(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default")
;if("object"!==p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===p(e)?e:String(e)}var p=function(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},E="UserFlowAnalyticsStore_current",S="UserFlowAnalyticsStore";new i.Z("UserFlowAnalytics");function y(t){if(t===u.MK.UNKNOWN)return null;var e=o.Z.get("".concat(S,"-").concat(t));if(null==e)return null;var n=e.version,r=d(e,["version"]);return 1!==n?null:r}var A=(0,r.Z)((function(t,e){return s({flows:{},currentFlow:null},"activeFlow",(function(){var t,n=null!==(t=e().currentFlow)&&void 0!==t?t:o.Z.get(E);if(null==n)return null;var r=e().flows[n],i=null!=r?r:y(n);return null!=(null==i?void 0:i.currentStep)?n:null}))}));A.subscribe((function(t){var e;if(null!=t){!function(t){if(t.type!==u.MK.UNKNOWN){var e="".concat(S,"-").concat(t.type);if(t.ended){o.Z.remove(e);o.Z.remove(E)}else{
o.Z.set("".concat(S,"-").concat(t.type),f(l({},t),{version:1}));o.Z.set(E,t.type)}}}(t);c.default.track(a.rMx.NUO_TRANSITION,{flow_type:t.type,from_step:t.lastStep,to_step:t.currentStep,seconds_on_from_step:"function"!=typeof(null===(e=t.lastTimestamp)||void 0===e?void 0:e.getTime)?0:(t.currentTimestamp.getTime()-t.lastTimestamp.getTime())/1e3},{flush:!0});if(t.ended){var n=l({},A.getState().flows);delete n[t.type];A.setState({flows:n,currentFlow:null})}}}),(function(t){return null!=t.currentFlow?t.flows[t.currentFlow]:void 0}));function R(t,e){var n=A.getState().flows,r=n[t],o=d(n,[t].map(_)),i=null!=r?r:y(t);if(null!=(null==i?void 0:i.currentStep)){if(i.currentStep===e)return;0}A.setState({flows:f(l({},o),s({},t,{type:t,lastStep:null,lastTimestamp:null,currentStep:e,currentTimestamp:new Date,skipped:!1})),currentFlow:t})}function O(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t;if(t===u.MK.ANY){var o
;r=null!==(o=A.getState().activeFlow())&&void 0!==o?o:u.MK.UNKNOWN}var i=A.getState().flows,c=i[r],a=d(i,[r].map(_)),p=null!=c?c:y(r);null!=p&&null!=p.currentStep&&p.currentStep!==e&&A.setState({flows:f(l({},a),s({},r,f(l({},p),{lastStep:p.currentStep,lastTimestamp:p.currentTimestamp,currentStep:e,currentTimestamp:new Date,ended:n}))),currentFlow:r})}function h(){return null!=A.getState().activeFlow()}const N={flowStart:R,flowStepOrStart:function(t,e){h()?O(t,e):R(t,e)},flowStep:O,hasActiveFlow:h}},31914:(t,e,n)=>{n.d(e,{Z:()=>R});var r=n(202351),o=n(744564);function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(t,r.key,r)}}function u(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n;return t}function a(t){
a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)};return a(t)}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))));r.forEach((function(e){u(t,e,n[e])}))}return t}function l(t,e){return!e||"object"!==d(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t,e){f=Object.setPrototypeOf||function(t,e){t.__proto__=e;return t};return f(t,e)}var d=function(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};function _(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{
Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(t){return!1}}();return function(){var n,r=a(t);if(e){var o=a(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}var p=!1,E=!1,S={},y=null;var A=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}});e&&f(t,e)}(n,t);var e=_(n);function n(){i(this,n);return e.apply(this,arguments)}var r=n.prototype;r.hasConsented=function(t){return null!=S[t]&&S[t].consented};r.getAuthenticationConsentRequired=function(){return y};r.__getLocalVars=function(){return{fetchedConsents:p,receivedConsentsInConnectionOpen:E,consents:S,authenticationConsentRequired:y}};!function(t,e,n){e&&c(t.prototype,e);n&&c(t,n)}(n,[{key:"fetchedConsents",get:function(){return p}},{
key:"receivedConsentsInConnectionOpen",get:function(){return E}}]);return n}(r.ZP.Store);A.displayName="ConsentStore";const R=new A(o.Z,{CONNECTION_OPEN:function(t){var e=t.consents;if(null!=e){S=s({},S,e);E=!0}},UPDATE_CONSENTS:function(t){var e=t.consents;S=s({},e);p=!0},SET_CONSENT_REQUIRED:function(t){y=t.consentRequired},LOGOUT:function(){y=null}})},646161:(t,e,n)=>{n.d(e,{w4:()=>O,DW:()=>N,t3:()=>I,Gn:()=>v});var r,o=n(131795),i=n.n(o),c=n(58964),u=n(736818),a=n(2590);function s(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n;return t}var l="Ubuntu",f="Debian",d="Fedora",_="Red Hat",p="SuSE",E="Linux",S="OS X",y="win",A="osx",R="linux";function O(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,r=e?"/ptb":"",o=null!=n?"&format=".concat(n):"";return"".concat(a.fzT.DESKTOP).concat(r,"?platform=").concat(t).concat(o)}function h(){
var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null===(r=i().os)||void 0===r?void 0:r.family;return null==t?y:-1!==t.indexOf(l)||-1!==t.indexOf(f)||-1!==t.indexOf(d)||-1!==t.indexOf(_)||-1!==t.indexOf(p)||-1!==t.indexOf(E)?R:-1!==t.indexOf(S)?A:y}function N(t){var e;return(s(e={},y,"Windows"),s(e,A,"Mac"),s(e,R,"Linux"),e)[h(t)]}function I(){var t=h();return O(t,!1,t===R?"tar.gz":null)}function v(t,e,n){var r=null!=n?n.toString():null;switch(e){case"iOS":return(0,c.ZP)(null!=r?r:"https://itunes.apple.com/us/app/discord-chat-for-games/id985746746",{utmSource:t,fingerprint:u.default.getFingerprint(),attemptId:(0,c.WS)()});case"Android":return(0,c.ZP)(null!=r?r:"https://play.google.com/store/apps/details",{utmSource:t,id:"com.discord",fingerprint:u.default.getFingerprint(),attemptId:(0,c.WS)()});default:return null!=r?r:"https://www.discord.com"}}},801809:(t,e,n)=>{n.d(e,{Z:()=>l});var r=n(281110);const o=(0,n(260561).B)({kind:"user",id:"2021-04_network_action_logging",
label:"Standard Analytics: Log Network Actions",defaultConfig:{useStandardAnalytics:!1},treatments:[{id:1,label:"Log network actions",config:{useStandardAnalytics:!0}}]});var i=n(652591);function c(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n;return t}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))));r.forEach((function(e){c(t,e,n[e])}))}return t}function a(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++){n=i[r];e.indexOf(n)>=0||(o[n]=t[n])}return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++){n=i[r];e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}
}return o}function s(t,e,n){var r=o.getCurrentConfig({},{autoTrackExposure:!1}).useStandardAnalytics,c=e.trackedActionData,s=a(e,["trackedActionData"]),l={url:s.url,request_method:n};return new Promise((function(e,n){t(s).then((function(t){if(r){var n=c.properties;"function"==typeof c.properties&&(n=c.properties(t));(0,i.trackNetworkAction)(c.event,u({status_code:t.status},l,n))}e(t)})).catch((function(t){if(r){var e,o,a=c.properties;"function"==typeof c.properties&&(a=c.properties(t));(0,i.trackNetworkAction)(c.event,u({status_code:t.status,error_code:null===(e=t.body)||void 0===e?void 0:e.code,error_message:null===(o=t.body)||void 0===o?void 0:o.message},l,a))}n(t)}))}))}const l={get:function(t){return s(r.Z.get,t,"get")},post:function(t){return s(r.Z.post,t,"post")},put:function(t){return s(r.Z.put,t,"put")},patch:function(t){return s(r.Z.patch,t,"patch")},delete:function(t){return s(r.Z.delete,t,"del")}}},58964:(t,e,n)=>{n.d(e,{ZP:()=>p,WS:()=>d,zS:()=>_})
;var r=n(131795),o=n.n(r),i=n(468811),c=n.n(i);const u=n(426080).Z;function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function s(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++){n=i[r];e.indexOf(n)>=0||(o[n]=t[n])}return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++){n=i[r];e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}}return o}function l(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],c=!0,u=!1;try{for(n=n.call(t);!(c=(r=n.next()).done);c=!0){i.push(r.value);if(e&&i.length===e)break}}catch(t){u=!0;o=t}finally{try{c||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(!t)return
;if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var f="https://discordapp.page.link";function d(){return c().v4()}function _(t){if(!t.startsWith(f))return null;try{var e=new URL(t).searchParams,n=e.get("link");if(null==n)return null;var r,o=decodeURIComponent(n),i=new URL(o).searchParams,c={utmSource:null!==(r=e.get("utm_source"))&&void 0!==r?r:void 0},u=!0,a=!1,s=void 0;try{for(var d,_=i.entries()[Symbol.iterator]();!(u=(d=_.next()).done);u=!0){var p=l(d.value,2),E=p[0],S=p[1];c[E]=S}}catch(t){a=!0;s=t}finally{try{u||null==_.return||_.return()}finally{if(a)throw s}}return c}catch(t){
return null}}function p(t,e){var n=e.utmSource,r=e.androidFallbackLink,i=e.iosFallbackLink,c=s(e,["utmSource","androidFallbackLink","iosFallbackLink"]),a=new URL(t);for(var l in c){var d=c[l];null!=d&&a.searchParams.set(l,d)}var _,p,E,S,y,A=encodeURIComponent(a.toString()),R=encodeURIComponent(u()),O=(E=new RegExp("(".concat(["WebView","(iPhone|iPod|iPad)(?!.*Safari/)"].join("|"),")"),"ig"),S=null!=(null===o()||void 0===o()||null===(_=o().ua)||void 0===_?void 0:_.match(E)),y="Safari"===(null===o()||void 0===o()?void 0:o().name)&&!S,"iOS"!==(null===o()||void 0===o()||null===(p=o().os)||void 0===p?void 0:p.family)||y?1:0),h=null!=r?encodeURIComponent(r):null,N=null!=i?encodeURIComponent(i):null,I="".concat(f,"/?link=").concat(A,"&utm_source=").concat(n,"&apn=").concat("com.discord","&isi=").concat(985746746,"&ibi=").concat("com.hammerandchisel.discord","&sd=").concat(R,"&efr=").concat(O);null!=h&&(I+="&afl=".concat(h));null!=N&&(I+="&ifl=".concat(N));return I}},426080:(t,e,n)=>{n.d(e,{
Z:()=>o});var r=n(805829);function o(){return r.Z.Messages.DynamicLinks.IOS_APP_PREVIEW_DESCRIPTION}}}]);
//# sourceMappingURL=4913d4190ebc142eedf1.js.map