"use strict";(this.webpackChunkdiscord_developers=this.webpackChunkdiscord_developers||[]).push([[33],{17174:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=t.nonLocalizedFields=t.Requirements=void 0;var n,i=S(r(67294)),a=r(96486),u=S(r(84455)),s=p(r(79950)),o=p(r(92974)),l=r(39855),d=p(r(92705)),c=p(r(86750)),f=p(r(86460)),m=r(70348);function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(v=function(e){return e?r:t})(e)}function S(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=v(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var u=i?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(n,a,u):n[a]=e[a]}n.default=e;r&&r.set(e,n);return n}
function y(e,t,r,i){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,u=arguments.length-3;t||0===u||(t={children:void 0});if(1===u)t.children=i;else if(u>1){for(var s=new Array(u),o=0;o<u;o++)s[o]=arguments[o+3];t.children=s}if(t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e})(e,t)}t.Requirements={MINIMUM:"minimum",RECOMMENDED:"recommended"};var R=[m.SkuRequirementsFields.DISK_SPACE,m.SkuRequirementsFields.RAM];t.nonLocalizedFields=R
;var O=[m.SkuRequirementsFields.OS,m.SkuRequirementsFields.CPU,m.SkuRequirementsFields.GPU,m.SkuRequirementsFields.DIRECT_X,m.SkuRequirementsFields.RAM,m.SkuRequirementsFields.DISK_SPACE,m.SkuRequirementsFields.NETWORK,m.SkuRequirementsFields.SOUND_CARD,m.SkuRequirementsFields.NOTES],M=function(e){var t=e.requirements;return null==t?{disk:"",ram:""}:{disk:t.disk||"",ram:t.ram||""}},b=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;g(e,t)}(t,e);function t(){for(var t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];(t=e.call.apply(e,[this].concat(n))||this).state=h({},M(t.props));t.setDefaultFieldValues=function(){var e=t.props,r=e.requirements,n=e.section,i=e.setLocalizedFieldValues;if(null!=r)for(var a in r){var u=n+"-"+a,s=r[a];null==s||R.includes(a)||i(u,s)}};t.handleInputChange=function(e,r){var n,i=""===e?e:parseInt(e,10);isNaN(i)||null==r||t.setState(((n={})[r]=i,n))};t.renderFields=function(){var e=t.props.section,r=(0,
m.getSystemRequirementsLabels)();return O.map((function(n){var i=m.RequiredSystemFields.includes(n),l=R.includes(n)?y(s.default,{name:n,value:(0,a.get)(t.state,n,""),onChange:t.handleInputChange}):y(d.default,{name:e+"-"+n});return y(u.GridChild,{columnSpread:6,columnSpreadSmall:12,columnSpreadExtraSmall:12},n,y(o.default,{isRequired:i},void 0,r[n]),l)}))};t.reset=function(){t.setDefaultFieldValues();t.setState(h({},M(t.props)))};t.getNonLocalizedValues=function(){var e=t.state,r=e.ram,n=e.disk;return{ram:""===r?null:r,disk:""===n?null:n}};return t}var r=t.prototype;r.componentDidMount=function(){this.setDefaultFieldValues()};r.render=function(){var e=this.props,t=e.heading,r=e.isFlush;return y(c.default,{isFlush:r},void 0,y(f.default,{bottomMargin:f.default.BottomMarginSizes.LARGE},void 0,t),y(u.default,{},void 0,y(u.GridSection,{},void 0,this.renderFields())))};return t}(i.Component);b.displayName="RequirementsSection";b.defaultProps={isFlush:!1};var q=(0,
l.withLocalizedFormConsumer)(b);t.default=q},89486:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n,i=N(r(67294)),a=r(55558),u=C(r(36211)),s=N(r(18760)),o=C(r(62441)),l=N(r(34704)),d=N(r(84455)),c=r(67350),f=C(r(41908)),m=C(r(92974)),p=C(r(31055)),v=r(39855),S=C(r(88785)),y=C(r(81061)),h=C(r(37514)),g=C(r(86750)),R=C(r(58350)),O=C(r(69245)),M=N(r(17174)),b=r(70348),q=r(34596),k=C(r(55100));function C(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(_=function(e){return e?r:t})(e)}function N(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=_(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var u=i?Object.getOwnPropertyDescriptor(e,a):null
;u&&(u.get||u.set)?Object.defineProperty(n,a,u):n[a]=e[a]}n.default=e;r&&r.set(e,n);return n}function F(e,t,r,i){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,u=arguments.length-3;t||0===u||(t={children:void 0});if(1===u)t.children=i;else if(u>1){for(var s=new Array(u),o=0;o<u;o++)s[o]=arguments[o+3];t.children=s}if(t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e})(e,t)}var P={activeOperatingSystem:b.OperatingSystems.WINDOWS,hasUnsavedChanges:!1,isSubmitting:!1,hasSubmitted:!1,hasError:!1},D=function(e){var t
;return((t={})[b.OperatingSystems.WINDOWS]=q.Messages.SkuRequirements.WINDOWS,t[b.OperatingSystems.MACOS]=q.Messages.SkuRequirements.MACOS,t[b.OperatingSystems.LINUX]=q.Messages.SkuRequirements.LINUX,t)[e]},A=function(e){return null==e||Object.keys(e).every((function(t){if(null==e)return!0;var r=e[t];return null==r||""===r||"number"!=typeof r&&null==(0,c.removeEmptyFields)(r)}))},j=F(S.default,{}),w=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;I(e,t)}(t,e);function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];(t=e.call.apply(e,[this].concat(n))||this).formRef=i.createRef();t.minReqsRef=i.createRef();t.recReqsRef=i.createRef();t.localSystemRequirements={};t.state=P;t.getStructuredSystemRequirements=function(){var e=t.props.getLocalizedFieldValues,r=t.state.activeOperatingSystem,n=t.formRef.current;if(null==n)return null;var i={},a=n.getFormData();for(var u in a){var s=u.split("-"),o=s[0],l=s[1],d=s[2],c=e(u)
;if(!M.nonLocalizedFields.includes(u)){null==i[o]&&(i[o]={});null==i[o][l]&&(i[o][l]={})}null!=c&&(i[o][l][d]=c)}null!=t.minReqsRef.current&&(i[r].minimum=E({},i[r].minimum,{},t.minReqsRef.current.getNonLocalizedValues()));null!=t.recReqsRef.current&&(i[r].recommended=E({},i[r].recommended,{},t.recReqsRef.current.getNonLocalizedValues()));return i};t.getSystemRequirementsForDisplay=function(e,r){var n=E({},t.props.sku.system_requirements,{},t.localSystemRequirements)[e];return null==n?null:n[r]};t.handleFormChange=function(){t.state.hasUnsavedChanges||t.setState({hasUnsavedChanges:!0})};t.handleFormSubmit=function(){for(var e=t.props.sku,r=t.props.match.params,n=r.id,i=r.skuId,a=E({},e.system_requirements,{},t.localSystemRequirements,{},t.getStructuredSystemRequirements()),u=0,o=Object.values(b.OperatingSystems);u<o.length;u++){var l=o[u],d=a[l];if(null!=d){var c=A(d.minimum),f=A(d.recommended);if(c&&f)delete a[l];else{c&&(d.minimum=null);f&&(d.recommended=null)}}}var m={
system_requirements:a};s.updateSku(n,i,m).then((function(){t.setState({isSubmitting:!1,hasError:!1,hasSubmitted:!0,hasUnsavedChanges:!1})})).catch((function(){t.setState({isSubmitting:!1,hasError:!0,hasSubmitted:!1})}))};t.handlePageNavigationItemClick=function(e){t.localSystemRequirements=E({},t.localSystemRequirements,{},t.getStructuredSystemRequirements());t.setState({activeOperatingSystem:e})};t.handleFormReset=function(){null!=t.minReqsRef.current&&t.minReqsRef.current.reset();null!=t.recReqsRef.current&&t.recReqsRef.current.reset();t.localSystemRequirements={};t.setState(P)};t.renderFormStatus=function(){var e=t.state,r=e.hasError,n=e.hasSubmitted;return r?F(p.default,{className:k.default.submissionAlert,type:p.default.Types.ERROR},void 0,q.Messages.SkuInformation.SUBMISSION_ERROR):n?F(p.default,{className:k.default.submissionAlert,type:p.default.Types.SUCCESS},void 0,q.Messages.Alerts.SUCCESS_CHANGES_SAVED):null};return t}t.prototype.render=function(){
var e=this.state,t=e.activeOperatingSystem,r=e.hasUnsavedChanges,n=e.isSubmitting;return F(i.Fragment,{},void 0,F(g.default,{bottomMargin:g.default.BottomMarginSizes.SMALL},void 0,F(y.default,{},void 0,q.Messages.SkuRequirements.PAGE_HEADING),F(R.default,{isFlush:!0},void 0,q.Messages.SkuRequirements.PAGE_SUB_HEADING)),F(h.default,{},void 0,F(h.default.Item,{onClick:this.handlePageNavigationItemClick,id:b.OperatingSystems.WINDOWS,isActive:t===b.OperatingSystems.WINDOWS},void 0,D(b.OperatingSystems.WINDOWS)),F(h.default.Item,{onClick:this.handlePageNavigationItemClick,id:b.OperatingSystems.MACOS,isActive:t===b.OperatingSystems.MACOS},void 0,D(b.OperatingSystems.MACOS))),this.renderFormStatus(),F(g.default,{},void 0,F(d.default,{},void 0,F(d.GridSection,{},void 0,F(d.GridChild,{columnSpread:12},void 0,F(l.default,{className:k.default.alert,type:l.AlertTypes.INFO},void 0,q.Messages.SkuManagement.LOCALE_DROPDOWN_DESCRIPTION)),F(d.GridChild,{columnSpread:4,columnSpreadSmallMedium:5,
columnSpreadSmall:8,columnSpreadExtraSmall:12},void 0,F(m.default,{},void 0,q.Messages.SkuRequirements.CHOOSE_LOCALE),j)))),i.createElement(f.default,{onChange:this.handleFormChange,onSubmit:this.handleFormSubmit,ref:this.formRef},F("div",{},t,i.createElement(M.default,{heading:q.Messages.SkuRequirements.MINIMUM,section:t+"-"+M.Requirements.MINIMUM,requirements:this.getSystemRequirementsForDisplay(t,M.Requirements.MINIMUM),ref:this.minReqsRef}),i.createElement(M.default,{heading:q.Messages.SkuRequirements.RECOMMENDED,section:t+"-"+M.Requirements.RECOMMENDED,requirements:this.getSystemRequirementsForDisplay(t,M.Requirements.RECOMMENDED),ref:this.recReqsRef,isFlush:!0})),F(O.default,{isVisible:r,actionCopy:q.Messages.Actions.PUBLISH_CHANGES,onReset:this.handleFormReset,submitting:n})))};return t}(i.Component);w.displayName="SkuSystemRequirements";var W=u.default.connectStores([o.default],(function(e){return{sku:o.default.getSku(e.match.params.skuId)}}))((0,
v.withLocalizedFormProvider)((0,v.withLocalizedFormConsumer)((0,a.withRouter)(w))));t.default=W},37514:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n,i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=l(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var u=i?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(n,a,u):n[a]=e[a]}n.default=e;r&&r.set(e,n);return n}(r(67294)),a=o(r(94184)),u=o(r(86750)),s=o(r(80282));function o(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(l=function(e){return e?r:t})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e})(e,t)}function c(e,t,r,i){
n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,u=arguments.length-3;t||0===u||(t={children:void 0});if(1===u)t.children=i;else if(u>1){for(var s=new Array(u),o=0;o<u;o++)s[o]=arguments[o+3];t.children=s}if(t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var f=function(e){return c(u.default,{hasBorder:!0},void 0,c("div",{className:s.default.itemsWrapper},void 0,e.children))};f.displayName="PageNavigation";var m=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;d(e,t)}(t,e);function t(){for(var t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];(t=e.call.apply(e,[this].concat(n))||this).handleClick=function(){var e=t.props,r=e.id;(0,e.onClick)(r)};return t}t.prototype.render=function(){var e,t=this.props,r=t.children,n=t.isActive;return c("button",{className:(0,
a.default)(s.default.navigationItem,(e={},e[s.default.navigationItemActive]=n,e)),onClick:this.handleClick},void 0,c("div",{className:s.default.navigationItemContent},void 0,r))};return t}(i.Component);m.displayName="PageNavigationItem";m.defaultProps={isActive:!1};f.Item=m;var p=f;t.default=p}}]);
//# sourceMappingURL=fa144ed048a7ec485950.js.map