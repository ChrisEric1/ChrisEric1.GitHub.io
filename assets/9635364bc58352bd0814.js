(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[56943],{460122:(e,t,n)=>{e.exports=n.p+"fdbcc8efcf1ba7be0df5fa425a5df5b3.svg"},873994:(e,t,n)=>{e.exports=n.p+"b2ce83d133a3d9fa54411e732f2fa74c.svg"},413369:(e,t,n)=>{e.exports=n.p+"b820b6002cb6ff7c3c2fb123d72c7866.svg"},132354:(e,t,n)=>{e.exports=n.p+"a9009aaba5bfab576a517f6915b3c0b6.svg"},356943:(e,t,n)=>{"use strict";n.r(t);n.d(t,{default:()=>M});var r=n(785893),i=n(667294),o=n(363010),l=n(331535),a=n(173436),s=n(237350),c=n(955254),u=n(299767),f=n(36347),p=n(655868),d=n(655695),h=n(367124),b=n(133840),y=n(400055),m=n(664252),g=n(487502),O=n(693518),v=n(67416),I=n(371452),j=n(432859),P=n(461061),w=n(959797),S=n(584357),x=n.n(S);function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e){E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return E(e)}function L(e,t){
return!t||"object"!==N(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function T(e,t){T=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return T(e,t)}var N=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=E(e);if(t){var i=E(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return L(this,n)}}var C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,
writable:!0,configurable:!0}});t&&T(e,t)}(n,e);var t=Z(n);function n(){A(this,n);var e;(e=t.apply(this,arguments)).state={selectedInstallationPath:e.props.defaultInstallationPath,hasError:!1,isInstalling:!1,hasAcceptedNeccessaryTerms:!1};e.isUnmounted=!1;e.handleChangePath=function(t,n){e.setState({selectedInstallationPath:t,hasError:n})};e.install=function(t,n){var r=e.props,i=r.application,o=r.branchId,l=r.analyticsLocation;if(null==i)return null;(0,f.LO)({application:i,branchId:o,buildId:t,manifestIds:n,installationPath:e.state.selectedInstallationPath,analyticsLocation:l});(0,d.uL)(P.Z5c.APPLICATION_LIBRARY);e.close()};e.handleInstall=function(){var t=e.props,n=t.application,r=t.buildId,i=t.manifestIds,o=t.hasPreviouslyAcceptedStoreTerms;if(null==r||null==i)throw new Error("Unexpected missing build info for non-premium product");o||(0,u.Bv)();null!=n&&null!=n.eulaId&&(0,u.DC)(n.eulaId);e.install(r,i)};e.handlePurchaseTermsChange=function(t){e.setState({hasAcceptedNeccessaryTerms:t
})};e.close=function(){e.props.onClose()};return e}var i=n.prototype;i.fetchInstallSize=function(){var e=this.props,t=e.applicationId,n=e.branchId,r=e.buildId,i=e.manifestIds,o=e.buildSizeKB;null!=r&&null!=i&&null==o&&a.Z.wait((function(){(0,c.q)(t,n,r,i)}))};i.componentDidMount=function(){var e=this.props,t=e.applicationId,n=e.branchId,r=e.buildId,i=e.manifestIds;null==r||null==i?(0,s.l)(t,n):this.fetchInstallSize()};i.componentDidUpdate=function(e){this.props.buildId===e.buildId&&this.props.manifestIds===e.manifestIds||this.fetchInstallSize()};i.componentWillUnmount=function(){this.isUnmounted=!0};i.renderButton=function(){var e=this.props.buildId,t=this.state,n=t.hasError,i=t.hasAcceptedNeccessaryTerms;return(0,r.jsx)(l.zx,{disabled:n||null==e||!i,color:l.zx.Colors.GREEN,onClick:this.handleInstall,children:w.Z.Messages.GAME_ACTION_BUTTON_INSTALL})};i.render=function(){
var e=this.props,t=e.application,n=e.buildSizeKB,i=e.transitionState,o=this.state,a=o.selectedInstallationPath,s=o.isInstalling,c=null!=t&&t.getSplashURL(440);return(0,r.jsxs)(v.Y0,{transitionState:i,size:v.Cg.SMALL,"aria-label":w.Z.Messages.APPLICATION_INSTALLATION_MODAL_TITLE,children:[null!=c?(0,r.jsx)("div",{className:x().splash,style:{backgroundImage:"url(".concat(c,")")}}):null,(0,r.jsxs)(v.xB,{justify:g.Z.Justify.BETWEEN,children:[(0,r.jsx)(g.Z.Child,{grow:1,children:(0,r.jsx)(l.X6,{variant:"heading-lg/semibold",children:w.Z.Messages.APPLICATION_INSTALLATION_MODAL_TITLE})}),(0,r.jsx)(g.Z.Child,{grow:0,children:(0,r.jsx)(v.ol,{onClick:this.close})})]}),(0,r.jsxs)(v.hz,{children:[(0,r.jsxs)(g.Z,{align:g.Z.Align.CENTER,children:[(0,r.jsx)(O.Z,{game:t,size:O.Z.Sizes.MEDIUM,className:x().gameIcon}),(0,r.jsx)("div",{className:x().gameName,children:null!=t&&t.name}),null!=n?(0,r.jsx)("div",{className:x().installSize,children:(0,I.BU)(n,{useKibibytes:!0})}):null]}),(0,r.jsx)("div",{
className:x().divider}),(0,r.jsx)(j.Z,{autoFocus:!0,className:x().selector,value:a,requiredDiskKB:n,onChange:this.handleChangePath}),(0,r.jsx)(p.Z,{eulaId:t.eulaId,applicationName:t.name,disabled:s,onChange:this.handlePurchaseTermsChange,className:x().terms})]}),(0,r.jsx)(v.mz,{children:this.renderButton()})]})};return n}(i.Component);const M=o.ZP.connectStores([m.Z,h.Z,b.Z,y.Z],(function(e){var t=e.applicationId,n=e.branchId,r=b.Z.getTargetBuildId(t,n);return{application:h.Z.getGame(t),defaultInstallationPath:m.Z.defaultInstallationPath,buildId:r,manifestIds:b.Z.getTargetManifests(t,n),buildSizeKB:null!=r?b.Z.getBuildSize(r):null,hasPreviouslyAcceptedStoreTerms:y.Z.hasAcceptedStoreTerms}}))(C)},643791:(e,t,n)=>{"use strict";n.d(t,{I:()=>y,Z:()=>m});var r=n(496486),i=n.n(r),o=n(891153),l=n(832691),a=n(742269),s=n(588641);function c(e,t,n,r,i,o,l){try{var a=e[o](l),s=a.value}catch(e){n(e);return}a.done?t(s):Promise.resolve(s).then(r,i)}function u(e){return function(){
var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function l(e){c(o,r,i,l,a,"next",e)}function a(e){c(o,r,i,l,a,"throw",e)}l(void 0)}))}}var f,p=function(e,t){var n,r,i,o,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;(r=0,i)&&(o=[2&o[0],i.value]);switch(o[0]){case 0:case 1:i=o;break;case 4:l.label++;return{value:o[1],done:!1};case 5:l.label++;r=o[1];o=[0];continue;case 7:o=l.ops.pop();l.trys.pop();continue;default:if(!(i=l.trys,i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){l.label=o[1];break}if(6===o[0]&&l.label<i[1]){
l.label=i[1];i=o;break}if(i&&l.label<i[2]){l.label=i[2];l.ops.push(o);break}i[2]&&l.ops.pop();l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e];r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},d=[];function h(e){e=e.toLowerCase();(0,a.ED)()&&(e=(e=e.replace(/^[a-z]:/,"")).replace(/\\/g,"/"));return e}function b(e){if(null!=e&&""!==e){(e=h(e)).endsWith("/")||(e+="/");d.push(e)}}function y(e,t){e=h(e);var n=!1;d.forEach((function(t){if(!n&&e.startsWith(t)){e=e.substr(t.length);n=!0}}));n||(e=e.split("/").pop());t||(e=e.includes("dosbox.exe")?e.split("/").slice(-3).join("/"):e.split("/").slice(-2).join("/"));return e}function m(){return g.apply(this,arguments)}function g(){return(g=u((function(){var e,t,n;return p(this,(function(r){switch(r.label){case 0:if(null!=f)return[2,f];r.label=1;case 1:r.trys.push([1,4,,5]);return[4,s.default.ensureModule("discord_game_utils")];case 2:r.sent();return[4,s.default.requireModule("discord_game_utils")]
;case 3:f=r.sent();return[3,5];case 4:e=r.sent();new l.Z("GamesActionCreators").error("could not load discord_game_utils",e);return[3,5];case 5:if((0,a.ED)()){b((t=o.Z.process.env).LOCALAPPDATA);b(t["PROGRAMFILES(X86)"]);b(t.PROGRAMFILES);b(t.PROGRAMW6432);b(t.PROGRAMDATA);b("/games/")}return[4,(n=o.Z.remoteApp.getPath)("home")];case 6:b.apply(void 0,[r.sent()]);return[4,n("appData")];case 7:b.apply(void 0,[r.sent()]);return[4,n("desktop")];case 8:b.apply(void 0,[r.sent()]);return[4,n("documents")];case 9:b.apply(void 0,[r.sent()]);return[4,n("downloads")];case 10:b.apply(void 0,[r.sent()]);(d=i().uniq(d)).sort((function(e,t){return t.length-e.length}));return[2,f]}}))}))).apply(this,arguments)}},693518:(e,t,n)=>{"use strict";n.d(t,{Z:()=>P});var r=n(785893),i=n(667294),o=n(294184),l=n.n(o),a=n(643791);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){return function(e){if(Array.isArray(e))return e
}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],l=!0,a=!1;try{for(n=n.call(e);!(l=(r=n.next()).done);l=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){a=!0;i=e}finally{try{l||null==n.return||n.return()}finally{if(a)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var u=n(240243);function f(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function p(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function d(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(i[n]=e[n])}return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}}return i}function h(e){var t=e.width,n=void 0===t?24:t,i=e.height,o=void 0===i?24:i,l=e.color,a=void 0===l?"currentColor":l,s=e.foreground,c=d(e,["width","height","color","foreground"]);return(0,
r.jsx)("svg",p(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){f(e,t,n[t])}))}return e}({},(0,u.Z)(c)),{width:n,height:o,viewBox:"0 0 40 40",children:(0,r.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,r.jsx)("path",{className:s,fill:a,fillOpacity:".8",d:"M21.226 30v-4.154h-3.755V30h3.755zm-.512-8.62c3.67-1.337 5.718-2.959 5.718-6.145 0-3.272-2.36-5.235-6.088-5.235-2.589 0-4.637.825-6.344 2.048l.484 3.3c1.621-1.251 3.47-2.162 5.49-2.162 1.707 0 2.845.854 2.845 2.305 0 1.593-1.08 2.475-3.812 3.442l-.882.342.342 4.523 2.076-.455.171-1.963z"}),(0,r.jsx)("rect",{className:s,width:"38",height:"38",x:"1",y:"1",stroke:a,strokeOpacity:".4",strokeWidth:"2",rx:"5"}),(0,r.jsx)("circle",{className:s,cx:"7",cy:"7",r:"2",fill:a,
fillOpacity:".4"}),(0,r.jsx)("circle",{className:s,cx:"7",cy:"33",r:"2",fill:a,fillOpacity:".4"}),(0,r.jsx)("circle",{className:s,cx:"33",cy:"7",r:"2",fill:a,fillOpacity:".4"}),(0,r.jsx)("circle",{className:s,cx:"33",cy:"33",r:"2",fill:a,fillOpacity:".4"})]})}))}var b=n(298716),y=n(605254),m=n.n(y);function g(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function O(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function v(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e)
;for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(i[n]=e[n])}return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}}return i}var I={XSMALL:m().xsmall,SMALL:m().small,MEDIUM:m().medium,LARGE:m().large};var j=function(e){var t,o=e.game,s=e.skuId,u=e.pid,f=e.className,p=e.size,d=void 0===p?I.MEDIUM:p,y=v(e,["game","skuId","pid","className","size"]);null!=s&&(t=function(e){if(null==e)return null;switch(e){case b.Si.GUILD:return n(460122);case b.Si.TIER_0:return n(873994);case b.Si.TIER_1:return n(413369);case b.Si.TIER_2:case b.Si.LEGACY:return n(132354);default:return null}}(s));null!=o&&null==t&&(t=o.getIconURL(function(e){switch(e){case I.XSMALL:return 24;case I.SMALL:return 30;case I.MEDIUM:return 40;case I.LARGE:return 60;default:return 80}}(d)));t=function(e,t){var n=c(i.useState(),2),r=n[0],o=n[1];i.useEffect((function(){null!=e&&null==t?(0,
a.Z)().then((function(t){null!=t&&t.identifyGame(e,(function(e,t){0===e&&null!=t.icon&&""!==t.icon&&null!=t.name&&""!==t.name&&o("data:image/png;base64,".concat(t.icon))}))})):o(void 0)}),[e,t]);return null!=t?t:r}(u,t);return null==t?(0,r.jsx)(h,{className:l()(m().gameIcon,d,f)}):(0,r.jsx)("div",O(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){g(e,t,n[t])}))}return e}({},y),{className:l()(m().gameIcon,d,f),style:{backgroundImage:"url('".concat(t,"')")}}))};j.Sizes=I;const P=j}}]);
//# sourceMappingURL=9635364bc58352bd0814.js.map