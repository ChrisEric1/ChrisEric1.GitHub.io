"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[16673],{198265:(e,n,t)=>{t.d(n,{g:()=>r,t:()=>a});var r,a;!function(e){e[e.NORMAL=0]="NORMAL";e[e.LOADING=1]="LOADING";e[e.DISABLED=2]="DISABLED"}(r||(r={}));!function(e){e[e.STRING=1]="STRING";e[e.USER=2]="USER";e[e.ROLE=3]="ROLE";e[e.CHANNEL=4]="CHANNEL";e[e.GUILD=5]="GUILD"}(a||(a={}))},303907:(e,n,t)=>{t.d(n,{h:()=>d,J:()=>E});var r=t(496486),a=t.n(r),o=t(73904),i=t(457896),u=t(775173),l=t(198265),c=t(473708),s=function(e,n){return{id:e.id,name:e.name,animated:e.animated,src:n&&null!=e.id?u.ZP.getEmojiURL({id:e.id,animated:e.animated||!1,size:48}):void 0}},d=function(e,n,t){var r=(null==e?void 0:e.data.interactionType)===o.B8.MESSAGE_COMPONENT&&(null==e?void 0:e.state)===i.F.FAILED?e.data.indices:null;if(null!=r&&a().isEqual(r.slice(0,r.length-1),t.indices)){var u;return null!==(u=null==n?void 0:n.interactionError)&&void 0!==u?u:function(e){
return 429===(null==e?void 0:e.errorCode)?c.Z.Messages.INTERACTION_RATE_LIMITED:c.Z.Messages.APPLICATION_COMMAND_FAILED}(e)}},p=function(e){switch(e){case o.re.ACTION_ROW:case o.re.BUTTON:case o.re.STRING_SELECT:case o.re.INPUT_TEXT:case o.re.USER_SELECT:case o.re.ROLE_SELECT:case o.re.MENTIONABLE_SELECT:case o.re.CHANNEL_SELECT:return!0}};function E(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=t.includeEmojiSrc;return e.map((function(e,i){if(!p(e.type))return null;var u=r.concat(i);switch(e.type){case o.re.ACTION_ROW:var d=null!=e.components?E(e.components,n,t,u):void 0;return{type:o.re.ACTION_ROW,indices:u,components:d};case o.re.BUTTON:var f=null!=e.emoji?s(e.emoji,a):void 0;return{type:o.re.BUTTON,customId:e.custom_id,style:e.style,disabled:e.disabled,url:e.url,label:e.label,emoji:f,indices:u,applicationId:n};case o.re.STRING_SELECT:var m;return{type:o.re.STRING_SELECT,customId:e.custom_id,
disabled:e.disabled,options:e.options.map((function(e){return{type:l.t.STRING,label:e.label,value:e.value,default:e.default,description:e.description,emoji:null!=e.emoji?s(e.emoji,a):void 0}})),placeholder:null!==(m=e.placeholder)&&void 0!==m?m:c.Z.Messages.MESSAGE_SELECT_COMPONENT_DEFAULT_PLACEHOLDER,minValues:e.min_values,maxValues:e.max_values,indices:u,applicationId:n};case o.re.INPUT_TEXT:return{type:e.type,style:e.style,customId:e.custom_id,label:e.label,value:e.value,placeholder:e.placeholder,disabled:e.disabled,required:e.required,minLength:e.min_length,maxLength:e.max_length,indices:u};case o.re.USER_SELECT:var T;return{type:o.re.USER_SELECT,customId:e.custom_id,disabled:e.disabled,placeholder:null!==(T=e.placeholder)&&void 0!==T?T:c.Z.Messages.MESSAGE_SELECT_COMPONENT_DEFAULT_PLACEHOLDER,minValues:e.min_values,maxValues:e.max_values,indices:u,applicationId:n};case o.re.ROLE_SELECT:var _;return{type:o.re.ROLE_SELECT,customId:e.custom_id,disabled:e.disabled,
placeholder:null!==(_=e.placeholder)&&void 0!==_?_:c.Z.Messages.MESSAGE_SELECT_COMPONENT_DEFAULT_PLACEHOLDER,minValues:e.min_values,maxValues:e.max_values,indices:u,applicationId:n};case o.re.MENTIONABLE_SELECT:var I;return{type:o.re.MENTIONABLE_SELECT,customId:e.custom_id,disabled:e.disabled,placeholder:null!==(I=e.placeholder)&&void 0!==I?I:c.Z.Messages.MESSAGE_SELECT_COMPONENT_DEFAULT_PLACEHOLDER,minValues:e.min_values,maxValues:e.max_values,indices:u,applicationId:n};case o.re.CHANNEL_SELECT:var y;return{type:o.re.CHANNEL_SELECT,customId:e.custom_id,disabled:e.disabled,placeholder:null!==(y=e.placeholder)&&void 0!==y?y:c.Z.Messages.MESSAGE_SELECT_COMPONENT_DEFAULT_PLACEHOLDER,minValues:e.min_values,maxValues:e.max_values,indices:u,channelTypes:e.channel_types,applicationId:n};default:return null}})).filter((function(e){return null!=e}))}},727266:(e,n,t)=>{t.d(n,{i:()=>f,Z:()=>A});var r=t(441143),a=t.n(r),o=t(202351),i=t(744564),u=t(336334),l=t(73904),c=t(869854);function s(e,n){
if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function d(e){d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return d(e)}function p(e,n){return!n||"object"!==v(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function E(e,n){E=Object.setPrototypeOf||function(e,n){e.__proto__=n;return e};return E(e,n)}var f,m,T,_,I,y,v=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function S(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var t,r=d(e);if(n){var a=d(this).constructor;t=Reflect.construct(r,arguments,a)
}else t=r.apply(this,arguments);return p(this,t)}}!function(e){e[e.IN_FLIGHT=0]="IN_FLIGHT";e[e.ERRORED=1]="ERRORED";e[e.SUCCEEDED=2]="SUCCEEDED"}(f||(f={}));var N=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}});n&&E(e,n)}(t,e);var n=S(t);function t(){s(this,t);return n.apply(this,arguments)}var r=t.prototype;r.getModalState=function(e){return e!==m?null:T};r.__getLocalVars=function(){return{currentNonce:m,currentState:T,queuedMessageId:_,queuedMessageChannelId:I,queuedMessageNonce:y}};return t}(o.ZP.Store);N.displayName="InteractionModalStore";const A=new N(i.Z,{LOGOUT:function(){m=null;T=null;_=null;I=null;y=null;return!0},INTERACTION_MODAL_CREATE:function(e){if(e.nonce===y){u.Z.deleteMessage(I,_,!0);_=null;I=null;y=null}return!1},INTERACTION_IFRAME_MODAL_CREATE:function(e){if(e.nonce===y){
u.Z.deleteMessage(I,_,!0);_=null;I=null;y=null}return!1},INTERACTION_QUEUE:function(e){var n=e.messageId,t=e.nonce,r=e.data;switch(r.interactionType){case l.B8.APPLICATION_COMMAND:_=n;I=r.channelId;y=t;return!1;case l.B8.MODAL_SUBMIT:a()(null==m||T===f.ERRORED||T===f.SUCCEEDED,"cannot submit multiple modals at once");m=t;T=f.IN_FLIGHT;setTimeout((function(){m===t&&T===f.IN_FLIGHT&&(0,c.yr)(t)}),1e4);return!0;default:return!1}},INTERACTION_SUCCESS:function(e){var n=e.nonce;if(null==n||n!==m)return!1;T=f.SUCCEEDED;return!0},INTERACTION_FAILURE:function(e){var n=e.nonce;if(null==n||n!==m)return!1;T=f.ERRORED;return!0}})},816673:(e,n,t)=>{t.d(n,{X9:()=>R,b8:()=>M});var r=t(667294),a=t(441143),o=t.n(a),i=t(202351),u=t(281110),l=t(744564),c=t(73904),s=t(924326),d=t(84894),p=t(869854),E=t(736818),f=t(61209),m=t(21372),T=t(464187),_=t(775173),I=t(102921),y=t(303907),v=t(727266),S=t(441895),N=t(2590),A=t(473708);function C(e,n){(null==n||n>e.length)&&(n=e.length)
;for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function h(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,a,o=[],i=!0,u=!1;try{for(t=t.call(e);!(i=(r=t.next()).done);i=!0){o.push(r.value);if(n&&o.length===n)break}}catch(e){u=!0;a=e}finally{try{i||null==t.return||t.return()}finally{if(u)throw a}}return o}}(e,n)||O(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e){return function(e){if(Array.isArray(e))return C(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||O(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}
function O(e,n){if(e){if("string"==typeof e)return C(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);return"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?C(e,n):void 0}}function b(e){return r.useMemo((function(){var n=T.Z.getGuildId(),t=null!=n&&null!=e.bot?m.ZP.getMember(n,e.bot.id):void 0;return{applicationIconURL:_.ZP.getApplicationIconURL({id:e.id,icon:e.icon,botIconFirst:!0,bot:null!=t?e.bot:void 0}),applicationName:null!=t&&null!=e.bot?e.bot.username:e.name,applicationBaseUrl:(0,d.Z)(e.id)}}),[e.id,e.icon,e.name,e.bot])}function R(e,n){var t=e.application,a=e.customId,d=e.components,m=(0,s.Z)(),T=h(r.useState(null),2),_=T[0],S=T[1],C=h(r.useState(null),2),L=C[0],O=C[1],R=(0,i.e7)([v.Z],(function(){return v.Z.getModalState(L)}),[L]),M=r.useMemo((function(){return(0,y.J)(d,t.id)}),[d,t.id]),g=r.useRef(new Set),U=r.useCallback((function(){S(null);O(null);(function(e){
var n=!0;e.forEach((function(e){e()||(n=!1)}));return n})(g.current)&&O(function(e,n){var t=I.Z.fromTimestamp(Date.now()),r=e.channelId,a=f.Z.getChannel(r);o()(null!=a,"expected channel");var i=D(e.customId,e.components,[]);(0,p.kz)(t,{data:{interactionType:c.B8.MODAL_SUBMIT}});var l=function(){(null==n?void 0:n.aborted)||u.Z.post({url:N.ANM.INTERACTIONS,body:{type:c.B8.MODAL_SUBMIT,application_id:e.application.id,channel_id:a.id,guild_id:a.guild_id,data:{id:e.id,custom_id:e.customId,components:i},session_id:E.default.getSessionId(),nonce:t},signal:n}).catch((function(e){429===e.status?setTimeout(l,1e3*e.body.retry_after):(0,p.yr)(t)}))};l();return t}(e,m))}),[m,e]);r.useEffect((function(){if(R===v.i.SUCCEEDED){l.Z.dispatch({type:"CLEAR_INTERACTION_MODAL_STATE",id:a});n()}R===v.i.ERRORED&&S(A.Z.Messages.INTERACTION_FORM_SUBMISSION_FAILED)}),[L,R,n,a]);var w=b(t);return{components:M,applicationIconURL:w.applicationIconURL,applicationName:w.applicationName,submissionState:R,error:_,
validators:g.current,onSubmit:U}}function M(e){var n=e.application,t=e.customId,r=b(n);return{applicationIconURL:r.applicationIconURL,applicationName:r.applicationName,applicationBaseUrl:r.applicationBaseUrl,customId:t}}var D=function(e,n,t){return n.map((function(n,r){var a=L(t).concat([r]);switch(n.type){case c.re.ACTION_ROW:var i;return{type:n.type,components:D(e,null!==(i=n.components)&&void 0!==i?i:[],a)};case c.re.INPUT_TEXT:var u=S.Z.getInteractionComponentState(e,a);return{type:n.type,custom_id:n.custom_id,value:(null==u?void 0:u.type)===n.type?u.value:null};case c.re.STRING_SELECT:var l=S.Z.getInteractionComponentState(e,a);return{type:n.type,custom_id:n.custom_id,values:(null==l?void 0:l.type)===n.type?l.values:null};default:o()(!1,"unreachable")}}))}},869854:(e,n,t)=>{t.d(n,{B0:()=>c,kz:()=>s,yr:()=>d,OG:()=>p});var r=t(281110),a=t(744564),o=t(2590);function i(e,n,t,r,a,o,i){try{var u=e[o](i),l=u.value}catch(e){t(e);return}u.done?n(l):Promise.resolve(l).then(r,a)}
function u(e){return function(){var n=this,t=arguments;return new Promise((function(r,a){var o=e.apply(n,t);function u(e){i(o,r,a,u,l,"next",e)}function l(e){i(o,r,a,u,l,"throw",e)}u(void 0)}))}}var l=function(e,n){var t,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(t)throw new TypeError("Generator is already executing.");for(;i;)try{if(t=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;(r=0,a)&&(o=[2&o[0],a.value]);switch(o[0]){case 0:case 1:a=o;break;case 4:i.label++;return{value:o[1],done:!1};case 5:i.label++;r=o[1];o=[0];continue;case 7:o=i.ops.pop();i.trys.pop();continue;default:if(!(a=i.trys,a=a.length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}
if(6===o[0]&&i.label<a[1]){i.label=a[1];a=o;break}if(a&&i.label<a[2]){i.label=a[2];i.ops.push(o);break}a[2]&&i.ops.pop();i.trys.pop();continue}o=n.call(e,i)}catch(e){o=[6,e];r=0}finally{t=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}};function c(e,n,t,r){a.Z.dispatch({type:"QUEUE_INTERACTION_COMPONENT_STATE",messageId:e,nonce:n,state:t,indices:r})}function s(e,n){var t=n.data,r=n.messageId,o=n.onCreate,i=n.onSuccess,u=n.onFailure;a.Z.dispatch({type:"INTERACTION_QUEUE",data:t,nonce:e,messageId:r,onCreate:o,onSuccess:i,onFailure:u})}function d(e,n,t){a.Z.dispatch({type:"INTERACTION_FAILURE",nonce:e,errorMessage:t,errorCode:n})}function p(e,n){return E.apply(this,arguments)}function E(){return(E=u((function(e,n){var t,i;return l(this,(function(u){switch(u.label){case 0:return[4,r.Z.get({url:o.ANM.MESSAGE_INTERACTION_DATA(e,n),oldFormErrors:!0})];case 1:if((t=u.sent()).ok){i=t.body;a.Z.dispatch({type:"LOAD_MESSAGE_INTERACTION_DATA_SUCCESS",channelId:e,
messageId:n,interactionData:i})}return[2]}}))}))).apply(this,arguments)}},457896:(e,n,t)=>{t.d(n,{F:()=>r});var r;!function(e){e[e.QUEUED=0]="QUEUED";e[e.CREATED=1]="CREATED";e[e.FAILED=2]="FAILED"}(r||(r={}))}}]);
//# sourceMappingURL=f204d1a0665fb8f66e94.js.map