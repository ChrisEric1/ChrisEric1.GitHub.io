"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[55121],{320142:(e,n,t)=>{t.d(n,{Z:()=>l});var r=t(120415);function o(e,n,t,r,o,i,u){try{var l=e[i](u),a=l.value}catch(e){t(e);return}l.done?n(a):Promise.resolve(a).then(r,o)}function i(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var u=e.apply(n,t);function l(e){o(u,r,i,l,a,"next",e)}function a(e){o(u,r,i,l,a,"throw",e)}l(void 0)}))}}var u=function(e,n){var t,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;u;)try{if(t=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:
u.label++;return{value:i[1],done:!1};case 5:u.label++;r=i[1];i=[0];continue;case 7:i=u.ops.pop();u.trys.pop();continue;default:if(!(o=u.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1];o=i;break}if(o&&u.label<o[2]){u.label=o[2];u.ops.push(i);break}o[2]&&u.ops.pop();u.trys.pop();continue}i=n.call(e,u)}catch(e){i=[6,e];r=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function l(e,n){return a.apply(this,arguments)}function a(){return(a=i((function(e,n){var o,i,l,a;return u(this,(function(u){switch(u.label){case 0:0;return[4,Promise.all([t.e(40532),t.e(77722),t.e(87820),t.e(28531),t.e(37984),t.e(71784),t.e(13586),t.e(27499),t.e(17091),t.e(29223),t.e(50763),t.e(73727),t.e(36154),t.e(89617),t.e(11944),t.e(52555),t.e(54602),t.e(61953),t.e(6565),t.e(10675),t.e(29434),t.e(93666),t.e(19156),t.e(24501),t.e(24014)]).then(t.bind(t,624501))]
;case 1:o=u.sent(),i=o.default;if(null!=(l=i(e,{skipExtensionCheck:n,analyticsLocations:[],autoAcceptInvite:!0})))l(null);else if(r.FB)window.open(e);else{(a=document.createElement("a")).href=e;a.target="_blank";a.rel="noreferrer noopener";a.click()}return[2]}}))}))).apply(this,arguments)}},4361:(e,n,t)=>{t.d(n,{s_:()=>d,DL:()=>f,cm:()=>a,Sh:()=>s,tu:()=>p,dj:()=>c});var r=t(102921),o=t(260561),i=(0,o.B)({kind:"guild",id:"2023-02_app_recommendations_server_checklist",label:"Application Recommendation Server Checklist Experiment",defaultConfig:{showNewServerChecklistRec:!1},treatments:[{id:1,label:"Show recommendation to add apps in new server checklist",config:{showNewServerChecklistRec:!0}}]}),u=(0,o.B)({kind:"user",id:"2023-03_improved_message_markdown",label:"Improved Message Markdown ",defaultConfig:{showListsAndHeaders:!1,showMaskedLinks:!1},treatments:[{id:1,label:"Show improved message markdown",config:{showListsAndHeaders:!0,showMaskedLinks:!0}},{id:2,
label:"Show improved message markdown WITHOUT masked links",config:{showListsAndHeaders:!0,showMaskedLinks:!1}}]}),l=(0,o.B)({kind:"guild",id:"2023-03_improved_message_markdown_guild",label:"Improved Message Markdown Guild Experiment",defaultConfig:{showListsAndHeaders:!1,showMaskedLinks:!1},treatments:[{id:1,label:"Show improved message markdown",config:{showListsAndHeaders:!0,showMaskedLinks:!0}},{id:2,label:"Show improved message markdown WITHOUT masked links",config:{showListsAndHeaders:!0,showMaskedLinks:!1}}]}),a=((0,o.B)({kind:"user",id:"2023-05_popular_slash_commands_mobile",label:"Popular Slash Commands Mobile",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Show Popular Commands section",config:{enabled:!0}}]}),"1088216706570268682");function s(e,n){return i.useExperiment({guildId:e},{autoTrackExposure:!0,disable:!n})}function c(e){return h(e,u.useExperiment({}))}function f(e){return h(e,u.getCurrentConfig({},{autoTrackExposure:!1}))}function p(e,n){
return h(n,l.useExperiment({guildId:e}))}function d(e,n){return null==e?l.definition.defaultConfig:h(n,l.getCurrentConfig({guildId:e}))}function h(e,n){return r.Z.compare(e,a)<0?u.definition.defaultConfig:n}},20146:(e,n,t)=>{t.d(n,{Z:()=>v});var r=t(202351),o=t(630631),i=t(744564),u=t(457696),l=t(652591),a=t(2590);function s(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function c(e){c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return c(e)}function f(e,n){return!n||"object"!==d(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function p(e,n){p=Object.setPrototypeOf||function(e,n){e.__proto__=n;return e};return p(e,n)}var d=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function h(e){var n=function(){
if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var t,r=c(e);if(n){var o=c(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return f(this,t)}}var b=null,m="",y=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}});n&&p(e,n)}(r,e);var n=h(r);function r(){s(this,r);return n.apply(this,arguments)}var i=r.prototype;i.initialize=function(){m=""};i.getCurrentFileHash=function(){return m};i.isBlockedDomain=function(e){var n=t(181757);if(null==b){var r,i;b=new Set(null!==(i=null===(r=o.Z.get("BlockedDomainStore"))||void 0===r?void 0:r._state)&&void 0!==i?i:[])}var s=(0,
u.F)(e),c=new n.hash.sha256,f=n.codec.hex.fromBits(c.update(s).finalize()),p="";b.has(f)&&(p=s);for(var d=s.indexOf(".");-1!==d&&""===p;){s=s.substring(d+1);c.reset();f=n.codec.hex.fromBits(c.update(s).finalize());b.has(f)&&(p=s);d=s.indexOf(".")}if(""!==p){l.default.track(a.rMx.LINK_SECURITY_CHECK_BLOCKED,{blocked_domain:p});return p}return null};i.__getLocalVars=function(){return{blockedDomainHashes:b,fileHash:m}};return r}(r.ZP.Store);y.displayName="BlockedDomainStore";y.persistKey="BlockedDomainStore";const v=new y(i.Z,{BLOCKED_DOMAIN_LIST_FETCHED:function(e){var n=e.list,t=e.hash;b=null;m=t;o.Z.set("BlockedDomainStore",{_state:n})}})},414930:(e,n,t)=>{t.d(n,{Z:()=>p});var r,o=t(652591),i=t(585622),u=t(322500),l=t(327930),a=t(2590);!function(e){e.MESSAGE="Discord Message Link";e.CHANNEL="Discord Channel Link";e.SERVER_INVITE="Discord Server Invite";e.GIFT="Discord Gift Link";e.UNKNOWN="Unknown"}(r||(r={}));var s=[function(e){return u.Z.isInvite(e)?r.SERVER_INVITE:null},function(e){
var n=i.Z.safeParseWithQuery(e);if(null==n)return null;var t=(0,l.Qj)(n.path);return null==t?null:c({guildId:t.guildId,channelId:t.channelId,messageId:t.messageId})}];function c(e){return null!=e.guildId&&null!=e.channelId&&null!=e.messageId?r.MESSAGE:null!=e.guildId&&null!=e.channelId?r.CHANNEL:r.UNKNOWN}function f(e,n){return null==n&&null==e?r.UNKNOWN:null==n?function(e){var n=!0,t=!1,o=void 0;try{for(var i,u=s[Symbol.iterator]();!(n=(i=u.next()).done);n=!0){var l=(0,i.value)(e);if(null!=l)return l}}catch(e){t=!0;o=e}finally{try{n||null==u.return||u.return()}finally{if(t)throw o}}return r.UNKNOWN}(e):c(n)}const p={trackDiscordLinkClicked:function(e){o.default.track(a.rMx.LINK_CLICKED,{is_discord_link:!0,discord_link_type:c(e)})},trackLinkClicked:function(e,n){if(null!=e||null!=n){var t=i.Z.isDiscordUrl(e,!0)||null!=n;o.default.track(a.rMx.LINK_CLICKED,{is_discord_link:t,discord_link_type:t?f(e,n):null})}}}},419198:(e,n,t)=>{t.d(n,{Z:()=>c});var r=t(785893),o=(t(667294),t(264817))
;function i(e,n,t,r,o,i,u){try{var l=e[i](u),a=l.value}catch(e){t(e);return}l.done?n(a):Promise.resolve(a).then(r,o)}function u(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var u=e.apply(n,t);function l(e){i(u,r,o,l,a,"next",e)}function a(e){i(u,r,o,l,a,"throw",e)}l(void 0)}))}}function l(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t;return e}function a(e,n){n=null!=n?n:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})));t.push.apply(t,r)}return t}(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}));return e}var s=function(e,n){var t,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]}
;return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;u;)try{if(t=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:u.label++;return{value:i[1],done:!1};case 5:u.label++;r=i[1];i=[0];continue;case 7:i=u.ops.pop();u.trys.pop();continue;default:if(!(o=u.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1];o=i;break}if(o&&u.label<o[2]){u.label=o[2];u.ops.push(i);break}o[2]&&u.ops.pop();u.trys.pop();continue}i=n.call(e,u)}catch(e){i=[6,e];r=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};const c={show:function(e){(0,
o.ZD)(u((function(){var n,o;return s(this,(function(i){switch(i.label){case 0:return[4,Promise.all([t.e(40532),t.e(74709)]).then(t.bind(t,674709))];case 1:n=i.sent(),o=n.default;return[2,function(n){return(0,r.jsx)(o,a(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))));r.forEach((function(n){l(e,n,t[n])}))}return e}({},n),{href:e}))}]}}))})))}}},177729:(e,n,t)=>{t.d(n,{v:()=>l});var r=t(608575)
;const o=JSON.parse('["7z","ade","adp","arj","apk","application","appx","appxbundle","asx","bas","bat","cab","cer","chm","cmd","cnt","cpl","crt","csh","deb","der","diagcab","dll","dmg","docm","dotm","ex","ex_","exe","fxp","gadget","grp","gz","hlp","hpj","hta","htc","inf","ins","ipa","iso","isp","its","jar","jnlp","jse","ksh","lib","lnk","mad","maf","mag","mam","maq","mar","mas","mat","mau","mav","maw","mcf","mda","mdb","mde","mdt","mdw","mdz","msc","msh","msh1","msh1xml","msh2","msh2xml","mshxml","msi","msix","msixbundle","msp","mst","msu","nsh","ops","osd","pcd","pif","pkg","pl","plg","potm","ppam","ppsm","pptm","prf","prg","printerexport","ps1","ps1xml","ps2","ps2xml","psc1","psc2","psd1","psdm1","pst","py","pyc","pyo","pyw","pyz","pyzw","rar","reg","rpm","scf","scr","sct","shb","shs","sldm","sys","theme","tmp","url","vb","vbe","vbp","vbs","vhd","vhdx","vsmacros","vsw","vxd","webpnp","ws","wsc","wsf","wsh","xbap","xlam","xll","xlsm","xltm","xnk","z","zip"]');var i=new Set(o),u={
"github.com":new RegExp("\\/releases\\S*\\/download"),"bitbucket.org":new RegExp("\\/downloads\\S*\\/[^\\/]*"),"gitlab.com":new RegExp("\\/downloads\\S*\\/[^\\/]*")};function l(e){var n,t=r.parse(e),o=t.pathname,l=t.hostname;if(null==l)return null;var a=u[l];if(null!=a&&null!=o&&!a.test(o))return null;if(null==o)return null;var s=o;try{s=decodeURIComponent(o)}catch(e){}for(var c=s.split("/"),f=null,p=0,d=c.length-1;d>=0;d--){var h=c[d];if(""!==h&&"."!==h){if(".."!==h){if(p>d)break;f=c[d-p];break}p++}}if(null==f)return null;var b=f.split(".");if(b.length<2)return null;var m=null===(n=b.pop())||void 0===n?void 0:n.toLowerCase();return null!=m&&i.has(m)?m:null}},457696:(e,n,t)=>{t.d(n,{F:()=>r,E:()=>o});function r(e){var n=document.createElement("a");n.href=e;return n.hostname}function o(e){var n=document.createElement("a");n.href=e;return n.protocol}},955121:(e,n,t)=>{t.d(n,{q:()=>ae,r:()=>le});var r=t(120053),o=t.n(r),i=t(105783),u=t(744564);function l(e){u.Z.dispatch({
type:"MASKED_LINK_ADD_TRUSTED_DOMAIN",url:e})}function a(e){u.Z.dispatch({type:"MASKED_LINK_ADD_TRUSTED_PROTOCOL",url:e})}var s=t(320142),c=t(4361),f=t(785893),p=(t(667294),t(945460));function d(e,n,t,r,o,i,u){try{var l=e[i](u),a=l.value}catch(e){t(e);return}l.done?n(a):Promise.resolve(a).then(r,o)}function h(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function u(e){d(i,r,o,u,l,"next",e)}function l(e){d(i,r,o,u,l,"throw",e)}u(void 0)}))}}function b(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t;return e}function m(e,n){n=null!=n?n:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})));t.push.apply(t,r)}return t}(Object(n)).forEach((function(t){
Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}));return e}var y=function(e,n){var t,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;u;)try{if(t=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:u.label++;return{value:i[1],done:!1};case 5:u.label++;r=i[1];i=[0];continue;case 7:i=u.ops.pop();u.trys.pop();continue;default:if(!(o=u.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1];o=i;break}if(o&&u.label<o[2]){u.label=o[2];u.ops.push(i);break}
o[2]&&u.ops.pop();u.trys.pop();continue}i=n.call(e,u)}catch(e){i=[6,e];r=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};const v=function(e){(0,p.openModalLazy)(h((function(){var n,r;return y(this,(function(o){switch(o.label){case 0:return[4,Promise.all([t.e(40532),t.e(13358)]).then(t.bind(t,511399))];case 1:n=o.sent(),r=n.default;return[2,function(n){return(0,f.jsx)(r,m(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))));r.forEach((function(n){b(e,n,t[n])}))}return e}({},n),{domain:e}))}]}}))})))};var w=t(20146);var O=t(414930),g=t(726041);function _(e,n,t,r,o,i,u){try{var l=e[i](u),a=l.value}catch(e){t(e);return}l.done?n(a):Promise.resolve(a).then(r,o)}function k(e){return function(){var n=this,t=arguments
;return new Promise((function(r,o){var i=e.apply(n,t);function u(e){_(i,r,o,u,l,"next",e)}function l(e){_(i,r,o,u,l,"throw",e)}u(void 0)}))}}function S(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t;return e}function D(e,n){n=null!=n?n:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})));t.push.apply(t,r)}return t}(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}));return e}var E=function(e,n){var t,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){
if(t)throw new TypeError("Generator is already executing.");for(;u;)try{if(t=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:u.label++;return{value:i[1],done:!1};case 5:u.label++;r=i[1];i=[0];continue;case 7:i=u.ops.pop();u.trys.pop();continue;default:if(!(o=u.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1];o=i;break}if(o&&u.label<o[2]){u.label=o[2];u.ops.push(i);break}o[2]&&u.ops.pop();u.trys.pop();continue}i=n.call(e,u)}catch(e){i=[6,e];r=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};const P=function(e){var n=e.url,r=e.trustUrl,o=e.onConfirm,i=e.isProtocol;(0,p.openModalLazy)(k((function(){var e,u;return E(this,(function(l){switch(l.label){case 0:
return[4,Promise.all([t.e(40532),t.e(70700)]).then(t.bind(t,570700))];case 1:e=l.sent(),u=e.default;return[2,function(e){return(0,f.jsx)(u,D(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))));r.forEach((function(n){S(e,n,t[n])}))}return e}({},e),{url:n,isProtocol:i,trustUrl:r,onConfirm:o}))}]}}))})))};var L=t(419198),x=t(177729),C=t(61209),I=t(567403),j=t(202351),T=t(630631),M=t(585622),N=t(457696),A=t(966334);function Z(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function R(e){R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return R(e)}function K(e,n){return!n||"object"!==U(n)&&"function"!=typeof n?function(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function B(e,n){B=Object.setPrototypeOf||function(e,n){e.__proto__=n;return e};return B(e,n)}var H,U=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function G(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var t,r=R(e);if(n){var o=R(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return K(this,t)}}var z="MaskedLinkStore",F=new Set,V=new Set,W=null===(H=window.GLOBAL_ENV.MEDIA_PROXY_ENDPOINT)||void 0===H?void 0:H.replace("//","");function Y(e){var n=(0,N.F)(e);switch(n){case window.GLOBAL_ENV.CDN_HOST:case window.GLOBAL_ENV.INVITE_HOST:
case window.GLOBAL_ENV.GIFT_CODE_HOST:case window.GLOBAL_ENV.GUILD_TEMPLATE_HOST:case W:case location.hostname:return!0;default:return A.SD.includes(n)||M.Z.isDiscordHostname(n)||F.has(n)}}function q(e){var n=(0,N.E)(e);return V.has(n)}var Q=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}});n&&B(e,n)}(t,e);var n=G(t);function t(){Z(this,t);return n.apply(this,arguments)}var r=t.prototype;r.initialize=function(){var e,n=null!==(e=T.Z.get(z))&&void 0!==e?e:{};if(Array.isArray(n)){F=new Set(null!=n?Array.from(n):null);V=new Set}else{var t=n.trustedDomains,r=n.trustedProtocols;F=new Set(null!=t?Array.from(t):null);V=new Set(null!=r?Array.from(r):null)}};r.isTrustedDomain=function(e){return Y(e)};r.isTrustedProtocol=function(e){return q(e)};r.__getLocalVars=function(){return{STORAGE_KEY:z,trustedDomains:F,
trustedProtocols:V,MEDIA_PROXY_HOST:W}};return t}(j.ZP.Store);Q.displayName="MaskedLinkStore";const X=new Q(u.Z,{MASKED_LINK_ADD_TRUSTED_DOMAIN:function(e){var n=e.url;if(Y(n))return!1;F.add((0,N.F)(n));T.Z.set(z,{trustedDomains:F,trustedProtocols:V})},MASKED_LINK_ADD_TRUSTED_PROTOCOL:function(e){var n=e.url;if(q(n))return!1;V.add((0,N.E)(n));T.Z.set(z,{trustedDomains:F,trustedProtocols:V})}});var J=t(840922),$=t(715107),ee=t(464187),ne=t(652591),te=t(2590),re=t(473708);function oe(e,n,t,r,o,i,u){try{var l=e[i](u),a=l.value}catch(e){t(e);return}l.done?n(a):Promise.resolve(a).then(r,o)}function ie(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function u(e){oe(i,r,o,u,l,"next",e)}function l(e){oe(i,r,o,u,l,"throw",e)}u(void 0)}))}}var ue=function(e,n){var t,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},
"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;u;)try{if(t=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:u.label++;return{value:i[1],done:!1};case 5:u.label++;r=i[1];i=[0];continue;case 7:i=u.ops.pop();u.trys.pop();continue;default:if(!(o=u.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1];o=i;break}if(o&&u.label<o[2]){u.label=o[2];u.ops.push(i);break}o[2]&&u.ops.pop();u.trys.pop();continue}i=n.call(e,u)}catch(e){i=[6,e];r=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function le(e,n){var t,r=C.Z.getChannel($.Z.getChannelId())
;return!(null!=r&&r.type===te.d4z.DM&&!J.Z.isFriend(null!==(t=r.getRecipientId())&&void 0!==t?t:""))&&e===n}function ae(e,n){return se.apply(this,arguments)}function se(){se=ie((function(e,n){var r,u,f,p,d,h,b,m,y,_,k,S,D,E,j,T,M,A,Z,R,K=arguments;return ue(this,(function(B){switch(B.label){case 0:r=K.length>2&&void 0!==K[2]?K[2]:[];u=e.trusted,f=e.onClick,p=e.onConfirm,d=e.shouldConfirm;if(null==(h=o().sanitizeUrl(e.href))){null!=n&&n.preventDefault();i.Z.show({title:re.Z.Messages.HOLD_UP,body:re.Z.Messages.MALFORMED_LINK_BODY.format({url:e.href}),isDismissable:!0});return[2]}b=C.Z.getChannel($.Z.getChannelId());m=I.Z.getGuild(null==b?void 0:b.getGuildId());null!=b&&null!=m&&m.hasFeature(te.oNc.DISCOVERABLE)&&ne.default.track(te.rMx.URL_CLICKED,{url_domain:(0,N.F)(h),guild_id:m.id,channel_id:b.id});O.Z.trackLinkClicked(h);return null==f?[3,1]:f(n)?[2]:[3,3];case 1:
return[4,Promise.all([t.e(40532),t.e(77722),t.e(87820),t.e(28531),t.e(37984),t.e(71784),t.e(13586),t.e(27499),t.e(17091),t.e(29223),t.e(50763),t.e(73727),t.e(36154),t.e(89617),t.e(11944),t.e(52555),t.e(54602),t.e(61953),t.e(6565),t.e(10675),t.e(29434),t.e(93666),t.e(19156),t.e(24501),t.e(24014)]).then(t.bind(t,624501))];case 2:y=B.sent(),_=y.default;if(null!=(k=_(h,{skipExtensionCheck:void 0,analyticsLocations:r,autoAcceptInvite:!1}))&&k(n))return[2];B.label=3;case 3:S=function(){null==p?(0,s.Z)(h):p()};if(null!==(D=w.Z.isBlockedDomain(h))){null==n||n.preventDefault();v(D);return[2]}if(null!=(0,x.v)(h)){null==n||n.preventDefault();L.Z.show(h);return[2]}0;E="function"==typeof u?u():u;j=(0,N.E)(h);if(!(T=!("http:"===j||"https:"===j))&&(E||X.isTrustedDomain(h))||T&&X.isTrustedProtocol(h)){(null==n||null!=d&&d)&&S();return[2]}null!=n&&n.preventDefault();M=ee.Z.getGuildId();A=(0,c.DL)(c.cm).showMaskedLinks||(0,c.s_)(M,c.cm).showMaskedLinks;if(T){if(A){P({url:h,trustUrl:a,onConfirm:S,
isProtocol:!0});return[2]}i.Z.show({title:re.Z.Messages.HOLD_UP,body:re.Z.Messages.MASKED_PROTOCOL_LINK_BODY.format({url:h}),cancelText:re.Z.Messages.MASKED_LINK_CANCEL,confirmText:re.Z.Messages.MASKED_LINK_CONFIRM,onConfirm:S,secondaryConfirmText:re.Z.Messages.MASKED_LINK_TRUST_THIS_PROTOCOL,onConfirmSecondary:function(){a(h);S()}})}else{Z=(0,g.yw)(h);R=null!=Z?Z.displayTarget:h;if(A){P({url:R,trustUrl:l,onConfirm:S,isProtocol:!1});return[2]}i.Z.show({title:re.Z.Messages.HOLD_UP,body:re.Z.Messages.MASKED_LINK_BODY.format({url:R}),cancelText:re.Z.Messages.MASKED_LINK_CANCEL,confirmText:re.Z.Messages.MASKED_LINK_CONFIRM,onConfirm:S,secondaryConfirmText:re.Z.Messages.MASKED_LINK_TRUST_THIS_DOMAIN,onConfirmSecondary:function(){l(h);S()},isDismissable:!0})}return[2]}}))}));return se.apply(this,arguments)}}}]);
//# sourceMappingURL=bca8cea9a6e4ee4a497b.js.map