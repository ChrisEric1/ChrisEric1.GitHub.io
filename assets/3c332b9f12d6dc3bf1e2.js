(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[48198],{236281:(e,t,n)=>{e.exports=n.p+"b3f886a89afa1e3fbc94ffbb2a352a7e.svg"},759080:(e,t,n)=>{e.exports=n.p+"1766572d46fefd37c4e7661c2e548c81.svg"},483946:(e,t,n)=>{e.exports=n.p+"f3749440eaa0734e308da58132ce470b.mp4"},851416:(e,t,n)=>{e.exports=n.p+"d302a3ac36dc88cd042d2d6cfa1bf19b.jpg"},476763:(e,t,n)=>{e.exports=n.p+"d0c0abd4643db92b79d4ba7a515016b5.svg"},601875:(e,t,n)=>{e.exports=n.p+"58783c354548f8b8815c6ab95921f90c.svg"},659830:(e,t,n)=>{e.exports=n.p+"48d5bdcffe9e7848067c2e187f1ef951.svg"},966225:(e,t,n)=>{"use strict";n.d(t,{F:()=>r});var r=(0,n(260561).B)({kind:"user",id:"2023-03_activities_game_night_coach_mark",label:"Activities Game Night Experiment",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enable Activities Game Night",config:{enabled:!0}}]})},548586:(e,t,n)=>{"use strict";n.d(t,{e:()=>i});var r=(0,n(260561).B)({kind:"user",id:"2023-03_activitieswatchtogetherpromo",
label:"Activities Watch Together Promo",defaultConfig:{enableWatchTogetherPromo:!1},treatments:[{id:1,label:"enable Watch Together promo",config:{enableWatchTogetherPromo:!0}}]}),i=function(){return r.useExperiment({},{autoTrackExposure:!1}).enableWatchTogetherPromo}},901750:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var r=(0,n(260561).B)({kind:"user",id:"2023-03_birthday_activities",label:"Birthday Activities",defaultConfig:{enabled:!1,shareEnabled:!1},treatments:[{id:1,label:"Enable Birthday Activities",config:{enabled:!0,shareEnabled:!0}},{id:2,label:"Geo test Enable Birthday Activities but no share",config:{enabled:!0,shareEnabled:!1}}]})},122012:(e,t,n)=>{"use strict";n.d(t,{d:()=>i,Y$:()=>o,jS:()=>l,tZ:()=>a,a8:()=>c});var r=n(744564);function i(){r.Z.dispatch({type:"DEVELOPER_ACTIVITY_SHELF_TOGGLE_ENABLED"})}function o(){r.Z.dispatch({type:"DEVELOPER_ACTIVITY_SHELF_TOGGLE_USE_ACTIVITY_URL_OVERRIDE"})}function l(e){r.Z.dispatch({
type:"DEVELOPER_ACTIVITY_SHELF_SET_ACTIVITY_URL_OVERRIDE",activityUrlOverride:e})}function a(e){r.Z.dispatch({type:"DEVELOPER_ACTIVITY_SHELF_MARK_ACTIVITY_USED",applicationId:e,timestamp:(new Date).getTime()})}function c(e){r.Z.dispatch({type:"DEVELOPER_ACTIVITY_SHELF_UPDATE_FILTER",filter:e})}},52330:(e,t,n)=>{"use strict";n.d(t,{T:()=>y,E:()=>b});var r=n(667294),i=n(202351),o=n(28661),l=n(473903),a=n(325213),c=n(72580),u=n(120415),s=n(144153),d=n(258104),f=n(515209),p=n(838733);function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){var n;return null!==(n=b(e).find((function(e){return e.application.id===t})))&&void 0!==n?n:null}function b(e){var t,n=(0,i.e7)([l.default],l.default.getCurrentUser),v=(0,i.Wu)([d.ZP],(function(){return d.ZP.getBundleItems(e)})),y=(0,i.Wu)([d.ZP],(function(){return d.ZP.getShelfActivities(e)})),b=(0,i.e7)([a.Z],(function(){return a.Z.testModeEmbeddedApplicationId})),m=(0,s.Uu)(),g=m?y.map((function(e){return e.application_id})):v.map((function(e){return e.application_id})),I=null!=b?[b].concat(h(g)):g,O=(0,o.Z)(I).filter(c.lm),E=null!=b&&O.length>0&&O[0].id===b&&null!=O[0].embeddedActivityConfig?[{activity:O[0].embeddedActivityConfig,application:O[0]}]:[],j=(0,i.e7)([d.ZP],(function(){var e
;return null!==(e=d.ZP.getState().freePeriodActivities)&&void 0!==e?e:[]})),S=r.useMemo((function(){return y.map((function(e){var t=O.find((function(t){return t.id===e.application_id}));return null==t?null:{activity:e,application:t}})).filter(c.lm)}),[y,O]);return(m?h(E).concat(h(S)):(0,f.ZP)(v,O,j)).filter((function(e){var n=e.activity;return(null!==(t=n.supported_platforms)&&void 0!==t?t:[]).includes((0,p.Z)((0,u.Ij)()))})).filter((function(e){return!e.activity.requires_age_gate||!0===(null==n?void 0:n.nsfwAllowed)||null==(null==n?void 0:n.nsfwAllowed)}))}},254907:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r=n(202351),i=n(560213),o=n(667294),l=n(88067);function a(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){a(e,t,n[t])}))}return e}function u(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var s=function(){var e=(0,r.cj)([i.Z],(function(){return{isEnabled:i.Z.getIsEnabled(),lastUsedObject:i.Z.getLastUsedObject()}}),[]),t=e.isEnabled,n=e.lastUsedObject,a=(0,r.Wu)([i.Z],(function(){return i.Z.getDeveloperShelfItems()}),[]),s=o.useMemo((function(){return t?a.map((function(e){return{application:e,
activity:u(c({},l.wT,e.embeddedActivityConfig),{application_id:e.id})}})).sort((function(e,t){var r=n[e.application.id],i=n[t.application.id];return null==r?1:null==i?-1:i-r})):[]}),[a,t,n]);return s.length<=0?[]:[[l.Qy.UNLOCKED,s]]},d=n(273930);function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],l=!0,a=!1;try{for(n=n.call(e);!(l=(r=n.next()).done);l=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){a=!0;i=e}finally{try{l||null==n.return||n.return()}finally{if(a)throw i}}return o}}(e,t)||h(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e){return function(e){if(Array.isArray(e))return f(e)
}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||h(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}function y(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,r.cj)([i.Z],(function(){return{enableDeveloperActivityShelf:i.Z.getIsEnabled(),filter:i.Z.getFilter()}})),o=n.enableDeveloperActivityShelf,l=n.filter,a=(0,d.Z)(e,t),c=s();return v(c).concat(v(a)).map((function(e){var t=p(e,2);return[t[0],t[1].filter((function(e){
return!o||""===l||e.application.name.toLocaleLowerCase().includes(l.toLocaleLowerCase())}))]}))}},933954:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>u,QN:()=>s});var r=n(667294),i=n(202351),o=n(28661),l=n(473903),a=n(72580),c=n(258104);function u(e,t){return d((0,i.Wu)([c.ZP],(function(){return null!=e&&null!=e.id&&""!==e.id?c.ZP.getEmbeddedActivitiesForChannel(e.id):c.i6})),t)}function s(e){var t=d((0,i.e7)([c.ZP],(function(){return null!=e?c.ZP.getEmbeddedActivitiesForGuild(e):c.i6})));return r.useMemo((function(){var e=new Map;t.forEach((function(t){var n,r=t.embeddedActivity.channelId,i=null!==(n=e.get(r))&&void 0!==n?n:[];i.push(t);e.set(r,i)}));return e}),[t])}function d(e,t){var n=e.map((function(e){return e.application_id})),c=(0,o.Z)(n),u=new Set([]),s=!0,d=!1,f=void 0;try{for(var p,v=e[Symbol.iterator]();!(s=(p=v.next()).done);s=!0){var h=p.value,y=!0,b=!1,m=void 0;try{for(var g,I=h.connections.keys()[Symbol.iterator]();!(y=(g=I.next()).done);y=!0){var O=g.value;u.add(O)}}catch(e){
b=!0;m=e}finally{try{y||null==I.return||I.return()}finally{if(b)throw m}}}}catch(e){d=!0;f=e}finally{try{s||null==v.return||v.return()}finally{if(d)throw f}}var E=(0,i.Wu)([l.default],(function(){var e=[],t=!0,n=!1,r=void 0;try{for(var i,o=u[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value;e.push(l.default.getUser(a))}}catch(e){n=!0;r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}return e}),[u]),j=r.useMemo((function(){var n=new Map;E.forEach((function(e){null!=e&&n.set(e.id,e)}));var r=e.map((function(e,r){var i=c[r],o=[];if(null!=o){var l=!0,a=!1,u=void 0;try{for(var s,d=e.connections.keys()[Symbol.iterator]();!(l=(s=d.next()).done);l=!0){var f=s.value,p=n.get(f);if(null!=p&&null!=t){var v=t(p);null!=v&&o.push(v)}}}catch(e){a=!0;u=e}finally{try{l||null==d.return||d.return()}finally{if(a)throw u}}}return null==i?null:{embeddedActivity:e,application:i,userParticipantAvatarUrls:o}})).filter(a.lm);return r}),[e,c,E,t]);return j}},798981:(e,t,n)=>{
"use strict";n.d(t,{L:()=>v,F:()=>y});var r=n(202351),i=n(61209),o=n(877475),l=n(567403),a=n(682776),c=n(715107),u=n(602397),s=n(72580),d=n(59732),f=n(2590);function p(e,t,n,r){var i=(0,d.e4)({channelId:e.id,ChannelStore:t,GuildStore:n,PermissionStore:r});return e.type===f.d4z.GUILD_VOICE&&i===d.jy.CAN_LAUNCH}function v(e){var t,n;if(null==e)return null;var r=c.Z.getVoiceChannelId(),d=i.Z.getChannel(r);if(null!=d&&null!=d.guild_id)return d.id;var f,v=[],h=!0,y=!1,b=void 0;try{for(var m,g=Object.values(o.Z.getCategories(e))[Symbol.iterator]();!(h=(m=g.next()).done);h=!0){var I=m.value,O=!0,E=!1,j=void 0;try{for(var S,x=I[Symbol.iterator]();!(O=(S=x.next()).done);O=!0){var T=S.value;p(T.channel,i.Z,l.Z,a.Z)&&v.push({channel:T.channel,users:u.ZP.getVoiceStatesForChannel(T.channel).filter(s.lm)})}}catch(e){E=!0;j=e}finally{try{O||null==x.return||x.return()}finally{if(E)throw j}}}}catch(e){y=!0;b=e}finally{try{h||null==g.return||g.return()}finally{if(y)throw b}}
return null!==(f=null===(t=v.sort((function(e,t){return e.users.length>t.users.length?-1:1}))[0])||void 0===t||null===(n=t.channel)||void 0===n?void 0:n.id)&&void 0!==f?f:null}function h(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n].value.channel.id!==t[n].value.channel.id)return!1;return!0}function y(e){return(0,r.e7)([o.Z,u.ZP,i.Z,l.Z,a.Z],(function(){if(null==e)return[];var t=[];Object.values(o.Z.getCategories(e)).forEach((function(e){e.forEach((function(e){var n=e.channel;p(n,i.Z,l.Z,a.Z)&&t.push(n)}))}));return t.map((function(e){return{value:{channel:e,users:u.ZP.getVoiceStatesForChannel(e).filter(s.lm)},label:e.name}})).sort((function(e,t){return e.value.users.length>t.value.users.length?-1:1}))}),[e],h)}},482779:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(473708);function i(e){return e>0?r.Z.Messages.EMBEDDED_ACTIVITIES_MAX_PARTICIPANTS.format({count:e}):r.Z.Messages.EMBEDDED_ACTIVITIES_UNLIMITED_PARTICIPANTS}},9018:(e,t,n)=>{"use strict";n.d(t,{
Z:()=>i});var r=n(2590);function i(e,t){var n=window.GLOBAL_ENV.CDN_HOST,i=window.GLOBAL_ENV.API_ENDPOINT;return null!=n?"".concat(location.protocol,"//").concat(n,"/app-assets/").concat(e,"/store/").concat(t,".mp4"):"".concat(location.protocol).concat(i).concat(r.ANM.STORE_ASSET(e,t,"mp4"))}},565102:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(473903),i=n(72580),o=n(258104),l=n(874593),a=function(e){var t=e.channelId,n=e.shouldDisconnectCall,a=void 0!==n&&n,c=o.ZP.getSelfEmbeddedActivityForChannel(t),u=r.default.getCurrentUser(),s=null==c?void 0:c.application_id;if(!(null==u||!(0,i.lm)(s))&&o.ZP.isLastEligibleHost(u.id,s)&&(0,i.lm)(c)){(0,l.Z)({embeddedActivity:c,channelId:t,shouldDisconnectCall:a});return!0}return!1}},874593:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(785893),i=(n(667294),n(945460));function o(e,t,n,r,i,o,l){try{var a=e[o](l),c=a.value}catch(e){n(e);return}a.done?t(c):Promise.resolve(c).then(r,i)}function l(e){return function(){var t=this,n=arguments
;return new Promise((function(r,i){var l=e.apply(t,n);function a(e){o(l,r,i,a,c,"next",e)}function c(e){o(l,r,i,a,c,"throw",e)}a(void 0)}))}}function a(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var c=function(e,t){var n,r,i,o,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;(r=0,i)&&(o=[2&o[0],i.value]);switch(o[0]){case 0:case 1:i=o;break;case 4:l.label++;return{value:o[1],done:!1};case 5:l.label++;r=o[1];o=[0];continue;case 7:o=l.ops.pop();l.trys.pop();continue;default:if(!(i=l.trys,i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){l=0
;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){l.label=o[1];break}if(6===o[0]&&l.label<i[1]){l.label=i[1];i=o;break}if(i&&l.label<i[2]){l.label=i[2];l.ops.push(o);break}i[2]&&l.ops.pop();l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e];r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};function u(e){var t=e.channelId,o=e.embeddedActivity,u=e.shouldDisconnectCall;(0,i.openModalLazy)(l((function(){var e,i;return c(this,(function(l){switch(l.label){case 0:return[4,Promise.all([n.e(40532),n.e(80658)]).then(n.bind(n,780658))];case 1:e=l.sent(),i=e.default;return[2,function(e){return(0,r.jsx)(i,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){a(e,t,n[t])}))}return e}({embeddedActivity:o,
channelId:t,shouldDisconnectCall:u},e))}]}}))})))}},565957:(e,t,n)=>{"use strict";n.d(t,{J:()=>r,Z:()=>j});var r,i=n(202351),o=n(73904),l=n(19585),a=n(473903),c=n(120415),u=n(850841),s=n(582762),d=n(258104),f=n(61040),p=n(718482),v=n(933954),h=n(838733),y=n(9018),b=n(312242),m=n(565102),g=n(195034),I=n(483535),O=n(92585),E=n(88067);!function(e){e.START="START";e.JOIN="JOIN";e.LEAVE="LEAVE"}(r||(r={}));function j(e){var t=e.activityItem,n=e.channel,j=e.guildId,S=e.locationObject,x=e.onActivityItemSelected,T=e.embeddedActivitiesManager,C=e.assetNames,_=e.backgroundResolution,A=void 0===_?250:_,w=(0,l.Z)().analyticsLocations,Z=t.application,P=t.activity,N=P.client_platform_config[(0,h.Z)((0,c.Ij)())],D=N.label_type===o.ww.NEW&&null!=N.label_until&&Date.now()<Date.parse(N.label_until),L=(0,O.Z)({applicationId:Z.id,size:A,names:C}),M=(0,i.e7)([a.default],(function(){return a.default.getCurrentUser()})),R=null!=P.activity_preview_video_asset_id?(0,
y.Z)(Z.id,P.activity_preview_video_asset_id):null,U=(0,g.Z)(),k=(0,I.Z)(),V=(0,v.ZP)(n).find((function(e){var t=e.embeddedActivity;return Z.id===t.application_id})),B=r.START,F=function(){(0,p.Z)({activityItem:t,currentActivity:k,locationObject:S,guildId:j,channelId:null==n?void 0:n.id,embeddedActivitiesManager:T,analyticsLocations:w}).then((function(e){return e&&(null==x?void 0:x({applicationId:Z.id}))}))};if(null!=n&&(null==U?void 0:U.channelId)===n.id&&(null==k?void 0:k.id)===Z.id){B=r.LEAVE;F=function(){if(!d.ZP.isLaunchingActivity()){if(!(0,m.A)({channelId:n.id})){(0,s.mW)({channelId:n.id,applicationId:Z.id});T.leaveActivity({channelId:n.id,applicationId:Z.id})}null==x||x({applicationId:Z.id})}}}else if(null!=V){B=r.JOIN;F=function(){d.ZP.isLaunchingActivity()||(0,f.Z)({activity:V.embeddedActivity,currentEmbeddedApplication:k,activityChannelId:null==n?void 0:n.id,locationObject:S,embeddedActivitiesManager:T,analyticsLocations:w}).then((function(e){return e&&(null==x?void 0:x({
applicationId:Z.id}))}))}}var H=u.ZP.canUsePremiumActivities(M),Y=(0,i.e7)([d.ZP],(function(){return d.ZP.getShelfActivities(j).some((function(e){return null!=e.premium_tier_requirement&&!(0,b.Z)(e)}))})),W=Y&&B===r.START&&(0,b.Z)(P)&&!H,z=t.activity.client_platform_config[(0,h.Z)((0,c.Ij)())].release_phase,G=E.eB.includes(z)?z.replace("_"," ").replace(/(^\w|\s\w)/g,(function(e){return e.toUpperCase()})):void 0;return{imageBackground:L,videoUrl:R,joinableEmbeddedApp:V,activityAction:B,onActivityItemSelected:F,showTryItOutBadge:W,showNewBadge:D,staffReleasePhase:G}}},273930:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(667294),i=n(202351),o=n(473903),l=n(850841),a=n(52330),c=n(312242),u=n(88067),s=n(203600);function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]
;if(null!=n){var r,i,o=[],l=!0,a=!1;try{for(n=n.call(e);!(l=(r=n.next()).done);l=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){a=!0;i=e}finally{try{l||null==n.return||n.return()}finally{if(a)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){var n=(0,i.e7)([o.default],(function(){return o.default.getCurrentUser()})),d=(0,a.E)(e);return r.useMemo((function(){var e=new Map;if(null==n)return[];var r,i=null;d.forEach((function(r){var o,a=function(e,t){return(0,
c.Z)(e.activity)||null==e.activity.premium_tier_requirement||(0,l.M5)(t,s.p9.TIER_2)?u.Qy.UNLOCKED:u.Qy.NEEDS_NITRO}(r,n),d=null!==(o=e.get(a))&&void 0!==o?o:[];if(t&&r.application.id===u.jT)i=r;else{d.push(r);e.set(a,d)}}));var o=null!==(r=e.get(u.Qy.UNLOCKED))&&void 0!==r?r:[];if(!l.ZP.canUsePremiumActivities(n)){var a=o.sort((function(e,t){return Number((0,c.Z)(t.activity))-Number((0,c.Z)(e.activity))}));e.set(u.Qy.UNLOCKED,a)}var p=Array.from(e.entries()).sort((function(e,t){return f(e,1)[0]<=f(t,1)[0]?-1:1}));t&&null!=i&&p.unshift([u.Qy.UNLOCKED,[i]]);return p}),[d,n,t])}},92585:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(667294),i=n(3564);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],l=!0,a=!1;try{
for(n=n.call(e);!(l=(r=n.next()).done);l=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){a=!0;i=e}finally{try{l||null==n.return||n.return()}finally{if(a)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var a=["embedded_cover","embedded_background"];function c(e){var t=e.applicationId,n=e.size,o=e.names,c=void 0===o?a:o,u=l(r.useState(null),2),s=u[0],d=u[1],f=l(r.useState(!0),2),p=f[0],v=f[1],h=(0,i.xF)(t,s,n),y=p?"loading":null!=h?"fetched":"not-found";r.useEffect((function(){(0,i.hR)(t,c).then((function(e){v(!1)
;var t=!0,n=!1,r=void 0;try{for(var i,o=e[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var l=i.value;if(null!=l&&""!==l){d(l);return}}}catch(e){n=!0;r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}}))}),[t]);return{url:h,state:y}}},650875:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var r=n(785893),i=n(667294),o=n(633878);function l(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function c(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{}
;var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(i[n]=e[n])}return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}}return i}function u(e){var t=e.width,n=void 0===t?24:t,i=e.height,u=void 0===i?24:i,s=e.color,d=void 0===s?"currentColor":s,f=e.foreground,p=c(e,["width","height","color","foreground"]);return(0,r.jsx)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){l(e,t,n[t])}))}return e}({},(0,o.Z)(p)),{width:n,height:u,viewBox:"0 0 24 24",children:(0,r.jsx)("path",{className:f,fill:d,
d:"M21 5V11.59L18 8.59L14 12.59L10 8.59L6 12.59L3 9.59V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H19C19.5304 3 20.0391 3.21071 20.4142 3.58579C20.7893 3.96086 21 4.46957 21 5ZM18 11.42L21 14.42V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V12.42L6 15.42L10 11.42L14 15.42L18 11.42Z"})}))}var s=n(744979),d=n.n(s);function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],l=!0,a=!1;try{for(n=n.call(e);!(l=(r=n.next()).done);l=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){a=!0;i=e}finally{try{l||null==n.return||n.return()}finally{if(a)throw i}}return o}}(e,t)||function(e,t){if(!e)return
;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e){var t=e.imageBackground,n=e.applicationName,o=e.imageClassName,l=e.imageNotFoundClassName,a=p(i.useState(!1),2),c=a[0],s=a[1];return"not-found"===t.state||c?(0,r.jsx)("div",{className:l,children:(0,r.jsx)(u,{className:d().brokenImageIcon})}):"loading"===t.state?null:(0,r.jsx)("img",{alt:n,className:o,src:t.url,onError:function(){return s(!0)}})}},948198:(e,t,n)=>{"use strict";n.r(t);n.d(t,{default:()=>wt})
;var r=n(785893),i=n(667294),o=n(294184),l=n.n(o),a=n(999357),c=n(202351),u=n(945460),s=n(634698),d=n(26468),f=n(19585),p=n(901654),v=n(107364),h=n(652591),y=n(930948),b=n(421281),m=n(560213),g=n(582762),I=n(473727),O=n(316878),E=n(153686),j=n(455706),S=n(64234),x=n(567403),T=n(473903),C=n(95891),_=n(786170),A=n(966225),w=n(548586),Z=n(901750),P=n(122012),N=n(254907),D=n(436771),L=n(971402),M=n(968449),R=n(96606),U=n(72580),k=n(773148),V=n(482779),B=n(565957),F=n(650875),H=n(595258),Y=n(457997),W=n(531441),z=n(473708),G=n(501607),J=n.n(G);function K(e){var t=e.name,n=e.title,i=void 0===n?z.Z.Messages.EMBEDDED_ACTIVITIES_TRY_IT_OUT:n,o=e.showTooltip,l=void 0===o||o,a=z.Z.Messages.EMBEDDED_ACTIVITIES_FREE_PREVIEW_TOOLTIP.format({activity:t}),c=(0,r.jsx)(W.IG,{className:J().tryItOutBadge,disableColor:!0,text:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Y.Z,{className:J().tryItOutBadgeIcon,width:12,height:12}),(0,r.jsx)("span",{children:i})]})});return l?(0,r.jsx)(u.TooltipContainer,{text:a,
tooltipContentClassName:J().tooltip,children:c}):c}var Q=n(440614),q=n.n(Q),$=n(659830),X=n.n($);function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function te(e,t,n,r,i,o,l){try{var a=e[o](l),c=a.value}catch(e){n(e);return}a.done?t(c):Promise.resolve(c).then(r,i)}function ne(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function l(e){te(o,r,i,l,a,"next",e)}function a(e){te(o,r,i,l,a,"throw",e)}l(void 0)}))}}function re(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){re(e,t,n[t])}))}return e}function oe(e,t){
return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],l=!0,a=!1;try{for(n=n.call(e);!(l=(r=n.next()).done);l=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){a=!0;i=e}finally{try{l||null==n.return||n.return()}finally{if(a)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ee(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var le=function(e,t){var n,r,i,o,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),
return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;(r=0,i)&&(o=[2&o[0],i.value]);switch(o[0]){case 0:case 1:i=o;break;case 4:l.label++;return{value:o[1],done:!1};case 5:l.label++;r=o[1];o=[0];continue;case 7:o=l.ops.pop();l.trys.pop();continue;default:if(!(i=l.trys,i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){l.label=o[1];break}if(6===o[0]&&l.label<i[1]){l.label=i[1];i=o;break}if(i&&l.label<i[2]){l.label=i[2];l.ops.push(o);break}i[2]&&l.ops.pop();l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e];r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};function ae(e){var t=e.value,n=e.icon;return(0,r.jsxs)(u.Text,{
className:q().activityTag,color:"interactive-normal",variant:"text-xs/semibold",children:[(0,U.lm)(n)?(0,r.jsx)(n,{className:q().icon,backgroundColor:"interactive-normal"}):null,t]})}function ce(e){var t=e.action,n=e.onClick,i=t===B.J.JOIN?z.Z.Messages.EMBEDDED_ACTIVITIES_JOIN_ACTIVITY:z.Z.Messages.EMBEDDED_ACTIVITIES_LEAVE_ACTIVITY,o=t===B.J.JOIN?u.Button.Colors.PRIMARY:u.Button.Colors.RED;return(0,r.jsx)("div",{className:q().activityOverlay,children:(0,r.jsx)(u.Button,{className:q().actionButton,onClick:n,size:u.Button.Sizes.MEDIUM,color:o,children:i})})}function ue(e){var t,n=e.activity,i=e.application,o=e.channel,l=e.guildId,a=e.large,s=void 0!==a&&a,d=null!==(t=null==n?void 0:n.connections)&&void 0!==t?t:[],f=(0,c.Wu)([T.default],(function(){return Array.from(d).map((function(e){var t=oe(e,1)[0];return T.default.getUser(t)})).filter(U.lm)})),p=k.Z.getName(l,null==o?void 0:o.id,null==f?void 0:f[0]);p=(0,b.aF)(p,15);if(null==n||0===f.length){var v,h="".concat((0,
V.Z)(null!==(v=i.maxParticipants)&&void 0!==v?v:0));if(s){var y;h=null!==(y=i.description)&&void 0!==y?y:""}return(0,r.jsx)(u.Text,{className:q().activitySubtitleText,variant:"text-xs/normal",color:"interactive-normal",children:h})}return(0,r.jsxs)("div",{className:q().activitySubtitleText,children:[(0,r.jsx)(u.Text,{className:q().usersArePlayingText,variant:"text-xs/normal",children:f.length>1?z.Z.Messages.EMBEDDED_ACTIVITIES_USERNAME_AND_OTHERS.format({username:p,count:f.length-1}):z.Z.Messages.EMBEDDED_ACTIVITIES_IS_PLAYING.format({username:p})}),(0,r.jsx)(R.Z,{size:s?R.u.SIZE_24:R.u.SIZE_16,guildId:l,users:f,max:6})]})}function se(e){var t=e.activityItem,o=e.channel,a=e.guildId,c=e.locationObject,s=e.onActivityItemSelected,d=e.large,f=void 0!==d&&d,p=(0,B.Z)({activityItem:t,channel:o,guildId:a,locationObject:c,onActivityItemSelected:s,embeddedActivitiesManager:H.Z
}),v=p.imageBackground,h=p.videoUrl,y=p.activityAction,b=p.joinableEmbeddedApp,m=p.onActivityItemSelected,g=p.showTryItOutBadge,I=p.showNewBadge,O=p.staffReleasePhase,E=t.application,j=oe(i.useState(!1),2),S=j[0],x=j[1],T=oe(i.useState(S),2),C=T[0],A=T[1];i.useEffect((function(){S&&A(!0)}),[S]);var w,Z,P=function(){return x(!0)},N=function(){return x(!1)},D=M.Sb.useSetting();return(0,r.jsxs)(u.Clickable,{onClick:y===B.J.START?m:void 0,onContextMenu:D?function(e){(0,L.jW)(e,ne((function(){var e,t;return le(this,(function(i){switch(i.label){case 0:return[4,n.e(8388).then(n.bind(n,433531))];case 1:e=i.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,ie({application:E},e))}]}}))})))}:void 0,className:l()(q().activityItem,(Z={},re(Z,q().large,!0===f),re(Z,q().disabled,y!==B.J.START),Z)),children:[(0,r.jsxs)("div",{className:l()(q().activityImageContainer,re({},q().large,!0===f)),onMouseEnter:P,onFocus:P,onMouseLeave:N,onBlur:N,children:[(0,r.jsx)(F.Z,{imageBackground:v,
applicationName:E.name,imageClassName:l()(q().activityImage,re({},q().large,!0===f)),imageNotFoundClassName:q().brokenImageIconWrapper}),null!=h&&C&&y===B.J.START?(0,r.jsx)("div",{className:l()(q().activityVideo,re({},q().videoFadeOut,!S)),onAnimationEnd:function(){return S?null:A(!1)},children:(0,r.jsx)(_.Z,{className:q().activityVideo,src:h,loop:!0,autoPlay:!0,muted:!0})}):null,y!==B.J.START?(0,r.jsx)(ce,{action:y,onClick:m}):null,(0,r.jsx)("div",{className:q().overlayBadge,children:(0,r.jsxs)("div",{className:q().badgeContainer,children:[g?(0,r.jsx)(K,{name:E.name}):null,I?(0,r.jsx)(K,{title:z.Z.Messages.NEW,name:E.name,showTooltip:!1}):null]})})]}),(0,r.jsxs)("div",{className:l()(q().activityTextContainer,re({},q().large,f)),children:[f?(0,r.jsx)(u.Text,{className:q().activityMaxParticipantsLarge,variant:"text-xs/normal",color:"interactive-normal",children:(0,V.Z)(null!==(w=E.maxParticipants)&&void 0!==w?w:0)}):null,(0,r.jsxs)("div",{className:q().activityName,children:[(0,
r.jsx)(u.Heading,{className:q().activityTitleText,variant:"heading-md/semibold",color:"interactive-active",children:E.name}),null!=O?(0,r.jsx)(u.Tooltip,{text:O,children:function(e){return(0,r.jsx)("img",ie({className:q().staffBadge,alt:O,src:X()},e))}}):null]}),(0,r.jsx)(ue,{activity:null==b?void 0:b.embeddedActivity,application:E,channel:o,guildId:a,large:f}),(0,r.jsx)("div",{className:q().activityTagsContainer,children:E.tags.slice(0,3).map((function(e){return(0,r.jsx)(ae,{value:e},"activity-tag-".concat(E.id,"-").concat(e))}))})]})]})}var de=n(88067),fe=n(2590),pe=n(203600),ve=n(677593),he=n.n(ve),ye=n(236281),be=n.n(ye),me=n(759080),ge=n.n(me),Ie=n(483946),Oe=n.n(Ie),Ee=n(851416),je=n.n(Ee);function Se(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xe(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Te(e,t){return function(e){if(Array.isArray(e))return e
}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],l=!0,a=!1;try{for(n=n.call(e);!(l=(r=n.next()).done);l=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){a=!0;i=e}finally{try{l||null==n.return||n.return()}finally{if(a)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Se(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Se(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ce,_e=(0,b.Mg)(he().shelfGridGap),Ae=(0,b.Mg)(q().activityItemHeight),we=(0,b.Mg)(q().largeActivityItemHeight),Ze=(xe(Ce={},de.Qy.NEEDS_NITRO,70),xe(Ce,de.Qy.UNLOCKED,0),Ce)
;function Pe(e){var t=e.channel,n=e.guildId,o=e.locationObject,a=e.onClose,s=e.scrollerRef,d=(0,c.e7)([S.Z],(function(){return S.Z.getState().theme})),p=(0,c.e7)([O.Z],(function(){return O.Z.useReducedMotion})),v=A.F.useExperiment({},{autoTrackExposure:!1}).enabled,h=Z.Z.useExperiment({}).enabled,y=(0,w.e)(),b=(0,N.Z)(n,y),j=Te(i.useState(0),2),C=j[0],L=j[1],M=(0,c.e7)([T.default],(function(){return T.default.getCurrentUser()})),R=(0,c.e7)([x.Z],(function(){return x.Z.getGuild(n)}),[n]),U=(0,f.Z)(E.Z.ACTIVITY_DIRECTORY).AnalyticsLocationProvider,k=(0,D.Z)(null==t?void 0:t.id),V=(0,c.cj)([m.Z],(function(){return{filter:m.Z.getFilter(),isDeveloperActivityShelfEnabled:m.Z.getIsEnabled()}})),B=V.isDeveloperActivityShelfEnabled,F=V.filter;i.useEffect((function(){var e=function(){var e,t;L(null!==(t=null===(e=s.current)||void 0===e?void 0:e.scrollTop)&&void 0!==t?t:0)},t=s.current;if(null!=t){t.addEventListener("scroll",e,!1);return function(){null!=t&&t.removeEventListener("scroll",e,!1)}}
}),[s]);i.useEffect((function(){(k||null!=n)&&(0,g.w1)({guildId:n,force:!0})}),[n,k]);if(null==R&&!k||null==M)return null;var H=b.reduce((function(e,t){var n=Te(t,2),r=(n[0],n[1]);return e||r.length>0}),!1),Y=function(e,t,n,r,i){var o=Ze[t]+_e;r?o+=290.75:i&&(o+=200);var l=(t===de.Qy.UNLOCKED&&1===e.length?we:Ae)+(n?_e:0);return o+Math.ceil(e.length/2)*l},W=v?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(_.Z,{autoPlay:!p,src:"https://cdn.discordapp.com/attachments/860252504826445825/1093286971708813382/game_night_desktop.mp4",poster:"https://cdn.discordapp.com/attachments/860252504826445825/1093287297950175272/game_night_desktop.jpg",className:he().poster,loop:!0}),(0,r.jsx)("div",{className:he().posterDivider})]}):h?p?(0,r.jsxs)(I.rU,{to:fe.Z5c.ACTIVITIES,onClick:a,children:[(0,r.jsx)("img",{src:"light"===d?be():ge(),className:he().poster,alt:z.Z.Messages.EMBEDDED_ACTIVITIES_BIRTHDAY_ACTIVITIES_HERO_ALT}),(0,r.jsx)("div",{className:he().posterDivider})]}):(0,r.jsxs)(r.Fragment,{
children:[(0,r.jsx)(I.rU,{to:fe.Z5c.ACTIVITIES,onClick:a,children:(0,r.jsx)(_.Z,{autoPlay:!0,src:Oe(),poster:je(),className:he().poster,loop:!0,muted:!0})}),(0,r.jsx)("div",{className:he().posterDivider})]}):null;return(0,r.jsx)(U,{children:(0,r.jsxs)("div",{className:he().scrollContainer,children:[H?(0,r.jsx)("div",{className:he().scrollBackgroundContainer,style:{top:-C},children:b.map((function(e,t,n){var i=Te(e,2),o=i[0],a=i[1],c=t+1<n.length&&o!==n[t+1][0];return(0,r.jsx)("div",{className:l()(he().scrollTierBackground,xe({},he().scrollTierBackgroundUpsell,o!==de.Qy.UNLOCKED)),style:{height:Y(a,o,c,v,h)}},o)}))}):null,(0,r.jsxs)(u.Scroller,{ref:s,className:he().scroller,children:[W,H?(0,r.jsx)(r.Fragment,{children:b.map((function(e){var i=Te(e,2),l=i[0],c=i[1];return(0,r.jsxs)("div",{className:he().scrollSection,children:[(0,r.jsx)(Ne,{activityAccessStatus:l,guildId:n,channelId:null==t?void 0:t.id}),(0,r.jsx)("div",{className:he().shelf,children:c.map((function(e){return(0,
r.jsx)(se,{large:l===de.Qy.UNLOCKED&&1===c.length,activityItem:e,channel:t,guildId:n,locationObject:o,onActivityItemSelected:function(){!function(e){P.tZ(e);a()}(e.application.id)}},"activity-shelf-item-".concat(e.application.id))}))})]},l)}))}):B&&F.length>0?(0,r.jsx)("div",{className:he().filterError,children:z.Z.Messages.EMBEDDED_ACTIVITIES_DEVELOPER_ACTIVITY_SHELF_FILTER_ERROR.format({filter:F})}):(0,r.jsx)("div",{className:he().spinnerContainer,children:(0,r.jsx)(u.Spinner,{})})]})]})})}function Ne(e){var t=e.guildId,n=e.activityAccessStatus,i=e.channelId,o=(0,c.e7)([x.Z],(function(){return x.Z.getGuild(t)}),[t]),l=(0,D.Z)(i);if(null==o&&!l||n===de.Qy.UNLOCKED)return null;var a={object:fe.qAy.ACTIVITY_SHELF};return(0,r.jsxs)("div",{className:he().tierCtaContainer,children:[(0,r.jsxs)("div",{className:he().tierCtaLeft,children:[(0,r.jsx)(C.Z,{width:24,height:24,className:he().upsellIcon}),(0,r.jsx)(u.Text,{variant:"text-sm/medium",
children:z.Z.Messages.EMBEDDED_ACTIVITIES_NITRO_SUBSCRIBE_CTA})]}),(0,r.jsx)("div",{className:he().tierCtaRight,children:(0,r.jsx)(j.Z,{subscriptionTier:pe.Si.TIER_2,premiumModalAnalyticsLocation:a})})]})}var De=n(944010),Le=n(379991),Me=n(61209),Re=n(682776),Ue=n(715107),ke=n(993137),Ve=n(258104),Be=n(718482),Fe=n(52330),He=n(798981),Ye=n(9018),We=n(483535),ze=n(92585),Ge=n(968257),Je=n(167523),Ke=n.n(Je);function Qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qe(e,t,n,r,i,o,l){try{var a=e[o](l),c=a.value}catch(e){n(e);return}a.done?t(c):Promise.resolve(c).then(r,i)}function $e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],l=!0,a=!1;try{for(n=n.call(e);!(l=(r=n.next()).done);l=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){a=!0;i=e}finally{try{l||null==n.return||n.return()}finally{
if(a)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Qe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Xe=function(e,t){var n,r,i,o,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;(r=0,
i)&&(o=[2&o[0],i.value]);switch(o[0]){case 0:case 1:i=o;break;case 4:l.label++;return{value:o[1],done:!1};case 5:l.label++;r=o[1];o=[0];continue;case 7:o=l.ops.pop();l.trys.pop();continue;default:if(!(i=l.trys,i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){l.label=o[1];break}if(6===o[0]&&l.label<i[1]){l.label=i[1];i=o;break}if(i&&l.label<i[2]){l.label=i[2];l.ops.push(o);break}i[2]&&l.ops.pop();l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e];r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};function et(e){return(0,c.e7)([x.Z,Re.Z],(function(){var t=x.Z.getGuild(e);return null!=t&&Re.Z.can(fe.Plq.CREATE_INSTANT_INVITE,t)}),[e])}var tt=["embedded_background"];function nt(e){var t=e.applicationId,n=e.guildId,o=e.selectedChannelId,l=e.setSelectedChannelId,a=e.enableSelectedTextChannelInvite,s=(0,c.e7)([O.Z],(function(){return O.Z.useReducedMotion})),d=(0,
Fe.T)(null!=n?n:null,null!=t?t:""),f=$e(i.useState(a&&!Le.ZP.disableInviteWithTextChannelActivityLaunch),2),p=f[0],v=f[1],h=(0,He.F)(n);i.useEffect((function(){g.w1({guildId:n});var e;l(null!==(e=(0,He.L)(n))&&void 0!==e?e:void 0)}),[n,l]);var y,b,m=null==d?void 0:d.activity.activity_preview_video_asset_id,I=null!=m?(0,Ye.Z)(null!==(y=null==d?void 0:d.application.id)&&void 0!==y?y:"",m):null,E=(0,ze.Z)({applicationId:null!==(b=null==d?void 0:d.application.id)&&void 0!==b?b:"",size:1024,names:tt}).url,j=(0,c.e7)([x.Z],(function(){return x.Z.getGuild(n)})),S=(0,c.e7)([Me.Z,Ue.Z],(function(){return Me.Z.getChannel(Ue.Z.getChannelId())})),T=et(null!=n?n:void 0);if(null==(null==d?void 0:d.application)||null==j)return null;var C=null==(null==S?void 0:S.name)||""===(null==S?void 0:S.name)?z.Z.Messages.EMBEDDED_ACTIVITIES_FALLBACK_CHANNEL_NAME:"#".concat(S.name);return(0,r.jsxs)(u.Scroller,{className:Ke().scroll,children:[null!=I||null!=E?(0,r.jsxs)(ke.Z,{aspectRatio:16/9,
className:Ke().imageContainer,children:[(0,r.jsx)(_.Z,{className:Ke().video,src:I,loop:!0,autoPlay:!s,poster:E,muted:!0}),")"]}):null,(0,r.jsxs)("div",{className:Ke().descriptionArea,children:[(0,r.jsx)(u.Heading,{variant:"heading-xl/semibold",children:null==d?void 0:d.application.name}),(0,r.jsx)(u.Text,{className:Ke().descriptionAreaSubtext,variant:"text-md/normal",children:null==d?void 0:d.application.description})]}),(0,r.jsx)(u.Select,{placeholder:z.Z.Messages.EMBEDDED_ACTIVITIES_SELECT_VOICE_CHANNEL,optionClassName:Ke().option,options:h,isSelected:function(e){return e.channel.id===o},select:function(e){var t=e.channel;return l(t.id)},serialize:function(e){return e.channel.id},renderOptionValue:function(){var e=h.find((function(e){return e.value.channel.id===o}));return null==e?null:(0,r.jsx)(Ge.O,{channel:e.value.channel,users:e.value.users})},renderOptionLabel:function(e){var t=e.value,n=t.channel,i=t.users;return(0,r.jsx)(Ge.O,{channel:n,users:i})}}),T&&a?(0,
r.jsxs)(u.Clickable,{className:Ke().checkboxContainer,onClick:function(){var e=!p;De.ZP.updatedUnsyncedSettings({disableInviteWithTextChannelActivityLaunch:!e});v(e)},children:[(0,r.jsx)(u.Checkbox,{type:u.Checkbox.Types.INVERTED,className:Ke().checkbox,value:p,displayOnly:!0}),(0,r.jsxs)(u.Text,{variant:"text-sm/normal",children:[z.Z.Messages.EMBEDDED_ACTIVITIES_SEND_ACTIVITY_INVITE," ",(0,r.jsx)("strong",{children:C})]})]}):null]})}function rt(e){var t,n,i=e.applicationId,o=e.guildId,l=e.locationObject,a=e.onBack,s=e.onClose,d=e.selectedChannelId,p=e.enableSelectedTextChannelInvite,v=(0,f.Z)(E.Z.ACTIVITY_CHANNEL_SELECTOR),h=v.AnalyticsLocationProvider,y=v.analyticsLocations,b=(0,Fe.T)(null!=o?o:null,null!=i?i:null),m=(0,We.Z)(),I=(0,c.e7)([Me.Z,Ue.Z],(function(){return Me.Z.getChannel(Ue.Z.getChannelId())})),O=(0,c.e7)([Le.ZP],(function(){return p&&!Le.ZP.disableInviteWithTextChannelActivityLaunch})),j=(0,c.e7)([Ve.ZP],(function(){
return null!=d&&""!==d&&Ve.ZP.getEmbeddedActivitiesForChannel(d).some((function(e){return e.application_id===i}))})),S=et(o),x=(n=(t=function(){return Xe(this,(function(e){switch(e.label){case 0:return null==d||""===d||null==b||null==o||""===o?[2]:[4,(0,Be.Z)({activityItem:b,currentActivity:m,locationObject:l,channelId:d,guildId:o,embeddedActivitiesManager:H.Z,analyticsLocations:y})];case 1:if(!e.sent())return[3,3];s();return null!=I&&S&&O?[4,g.sN({activityChannelId:d,invitedChannelId:I.id,applicationId:b.application.id,location:fe.Sbl.ACTIVITY_SHELF})]:[3,3];case 2:e.sent();e.label=3;case 3:return[2]}}))},function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function l(e){qe(o,r,i,l,a,"next",e)}function a(e){qe(o,r,i,l,a,"throw",e)}l(void 0)}))}),function(){return n.apply(this,arguments)});return(0,r.jsx)(h,{children:(0,r.jsxs)("div",{className:Ke().footerContainer,children:[(0,r.jsx)(u.Clickable,{onClick:a,className:Ke().backToBrowse,children:(0,
r.jsx)(u.Text,{color:"header-secondary",variant:"text-md/normal",children:z.Z.Messages.BACK})}),null==d?(0,r.jsx)("div",{}):(0,r.jsx)(u.Button,{className:Ke().launchButton,onClick:x,color:j?u.Button.Colors.GREEN:void 0,fullWidth:!0,children:j?z.Z.Messages.EMBEDDED_ACTIVITIES_JOIN:z.Z.Messages.EMBEDDED_ACTIVITIES_LAUNCH})]})})}var it=n(688858),ot=n(532445),lt=n(631942),at=n.n(lt),ct=["embedded_cover","embedded_background"];function ut(e){var t=e.applicationId,n=e.channelId,i=e.guildId,o=(0,f.Z)(E.Z.ACTIVITY_UPSELL).AnalyticsLocationProvider,l=(0,c.e7)([O.Z],(function(){return O.Z.useReducedMotion})),a=(0,ot.F)(),s=(0,Fe.T)(null!=i?i:null,null!=t&&""!==t?t:null),d=null,p=null;if(null!=s){d=s.application;p=s.activity}var v=null!=d&&null!=(null==p?void 0:p.activity_preview_video_asset_id)?(0,Ye.Z)(d.id,p.activity_preview_video_asset_id):null,h=(0,ze.Z)({applicationId:null!=t?t:"",size:1024,names:ct}).url,y=(0,c.e7)([x.Z],(function(){return x.Z.getGuild(i)})),b=(0,D.Z)(n)
;return null==d||null==y&&!b||null==p?null:(0,r.jsx)(o,{children:(0,r.jsx)("div",{className:at().container,children:(0,r.jsxs)(u.Scroller,{className:at().scroll,children:[null!=v||null!=h?(0,r.jsx)(ke.Z,{aspectRatio:16/9,className:at().imageContainer,children:(0,r.jsx)(_.Z,{className:at().video,src:v,loop:!0,autoPlay:!l,poster:h})}):null,(0,r.jsxs)("div",{className:at().descriptionArea,children:[(0,r.jsx)(u.Heading,{variant:"heading-xl/semibold",children:d.name}),(0,r.jsx)(u.Text,{variant:"text-md/normal",className:at().descriptionAreaText,children:d.description})]}),(0,r.jsxs)("div",{className:at().perksContainer,children:[(0,r.jsxs)("div",{className:at().perksHeader,children:[(0,r.jsx)(C.Z,{width:32,height:32,className:at().upsellIcon}),(0,r.jsx)(u.Text,{variant:"text-md/normal",children:z.Z.Messages.EMBEDDED_ACTIVITIES_UNLOCK_ACTIVITIES_NITRO.format({activityName:d.name})})]}),(0,r.jsx)("div",{className:at().perks,children:a.map((function(e,t){var n=e.icon,i=e.label,o=e.color
;return(0,r.jsx)(it.Z,{icon:n,description:i,color:o},t)}))})]})]})})})}function st(e){var t=e.applicationId,n=e.channelId,i=e.guildId,o=e.onBack,l=(0,Fe.T)(null!=i?i:null,null!=t?t:null),a=(0,c.e7)([x.Z],(function(){return x.Z.getGuild(i)})),s=(0,D.Z)(n);if(null==l||null==a&&!s)return null;var d={object:fe.qAy.ACTIVITIES_NITRO_UPSELL};return(0,r.jsxs)("div",{className:at().footerContainer,children:[(0,r.jsx)(u.Clickable,{onClick:o,className:at().backToBrowse,children:(0,r.jsx)(u.Text,{color:"header-secondary",variant:"text-md/normal",children:z.Z.Messages.BACK})}),(0,r.jsx)(j.Z,{subscriptionTier:pe.Si.TIER_2,premiumModalAnalyticsLocation:d,applicationId:l.application.id,onSubscribeModalClose:function(e){e&&o()}})]})}var dt=n(318715),ft=n(190186),pt=n(495536),vt=n.n(pt);function ht(){var e=(0,dt.cj)([m.Z],(function(){return{activityUrlOverride:m.Z.getActivityUrlOverride(),useActivityUrlOverride:m.Z.getUseActivityUrlOverride(),filter:m.Z.getFilter()}
}),[]),t=e.activityUrlOverride,n=e.useActivityUrlOverride,i=e.filter;return(0,r.jsxs)("div",{className:vt().container,children:[(0,r.jsx)(u.Checkbox,{type:u.Checkbox.Types.INVERTED,className:vt().checkbox,value:n,onClick:P.Y$,children:(0,r.jsx)(u.Text,{variant:"text-md/semibold",children:z.Z.Messages.EMBEDDED_ACTIVITIES_USE_ACTIVITY_URL_OVERRIDE})}),(0,r.jsx)(u.FormItem,{className:vt().urlOverride,title:z.Z.Messages.EMBEDDED_ACTIVITIES_ACTIVITY_URL_OVERRIDE,children:(0,r.jsx)(u.TextInput,{disabled:!n,value:null!=t?t:void 0,onChange:P.jS,placeholder:"http://localhost:3000"})}),(0,r.jsx)("div",{children:(0,r.jsx)(ft.Z,{className:vt().searchBar,query:i,onChange:P.a8,onClear:function(){P.a8("")}})})]})}var yt=n(843914),bt=n.n(yt),mt=n(476763),gt=n.n(mt),It=n(601875),Ot=n.n(It);function Et(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jt(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0
}):e[t]=n;return e}function St(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){jt(e,t,n[t])}))}return e}function xt(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Tt(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(i[n]=e[n])}return i}(e,t)
;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}}return i}function Ct(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],l=!0,a=!1;try{for(n=n.call(e);!(l=(r=n.next()).done);l=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){a=!0;i=e}finally{try{l||null==n.return||n.return()}finally{if(a)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Et(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Et(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var _t=(0,b.Mg)(bt().modalWidth),At=(0,b.Mg)(bt().modalMaxHeight)+(0,b.Mg)(bt().modalPadding)+(0,b.Mg)(bt().modalArtHeight);function wt(e){var t=e.channel,n=e.guildId,o=e.locationObject,l=e.onClose,d=e.initialSelectedApplicationId,p=void 0===d?void 0:d,b=e.initialSlide,I=void 0===b?de.ag.DIRECTORY:b,O=e.enableSelectedTextChannelInvite,E=e.analyticsLocations,j=Tt(e,["channel","guildId","locationObject","onClose","initialSelectedApplicationId","initialSlide","enableSelectedTextChannelInvite","analyticsLocations"]),S=(0,c.e7)([m.Z],(function(){return m.Z.getIsEnabled()}),[]),x=(0,f.Z)(E).AnalyticsLocationProvider,T=Ct(i.useState(I),2),C=T[0],_=T[1],A=(0,s.Z)(C),w=Ct(i.useState(null),2),Z=w[0],P=w[1],N=i.useRef(null),D=Ct(i.useState(p),2),L=D[0],M=D[1],R=Ct(i.useState(void 0),2),U=R[0],k=R[1];i.useEffect((function(){
if(C===de.ag.DIRECTORY&&null!=A&&A!==de.ag.DIRECTORY&&null!=Z){var e;null===(e=N.current)||void 0===e||e.scrollTo({top:Z})}}),[Z,A,C]);var V=i.useCallback((function(e){var t,n=e.activityItem,r=null===(t=N.current)||void 0===t?void 0:t.scrollTop;null!=r&&P(r);M(n.application.id);_(de.ag.UPSELL)}),[]),B=i.useCallback((function(e){var t,n=e.applicationId,r=null===(t=N.current)||void 0===t?void 0:t.scrollTop;null!=r&&P(r);M(n);_(de.ag.SELECT_CHANNEL)}),[]);i.useEffect((function(){h.default.track(fe.rMx.OPEN_MODAL,{type:"Activity Shelf",channel_id:null==t?void 0:t.id,guild_id:n})}),[t,n]);i.useEffect((function(){y.S.subscribe(fe.CkL.SHOW_ACTIVITIES_UPSELL,V);return function(){y.S.unsubscribe(fe.CkL.SHOW_ACTIVITIES_UPSELL,V)}}),[V]);i.useEffect((function(){y.S.subscribe(fe.CkL.SHOW_ACTIVITIES_CHANNEL_SELECTOR,B);return function(){y.S.unsubscribe(fe.CkL.SHOW_ACTIVITIES_CHANNEL_SELECTOR,B)}}),[B]);i.useEffect((function(){g.gl()}),[]);var F=function(){_(de.ag.DIRECTORY)},H={application_id:L,
source_section:o.section,impression_group:a.AG.ACTIVITY_SHELF_FLOW};return(0,r.jsx)(x,{children:(0,r.jsxs)(u.ModalRoot,xt(St({className:bt().root,"aria-label":z.Z.Messages.EMBEDDED_ACTIVITIES_SHELF_TITLE},j),{children:[(0,r.jsx)("img",{alt:z.Z.Messages.EMBEDDED_ACTIVITIES_SHELF_CHARACTERS_ALT_TEXT,src:gt(),className:bt().shelfTopBackground}),(0,r.jsx)("img",{alt:z.Z.Messages.EMBEDDED_ACTIVITIES_SHELF_CHARACTERS_ALT_TEXT,src:Ot(),className:bt().shelfTopForeground}),(0,r.jsxs)(u.ModalHeader,{separator:!1,justify:v.Z.Justify.BETWEEN,className:bt().modalHeader,children:[(0,r.jsxs)("div",{className:bt().headerTextContainer,children:[(0,r.jsx)("div",{className:bt().activityShelfTitle,children:(0,r.jsx)(u.Heading,{variant:"heading-xl/extrabold",children:z.Z.Messages.EMBEDDED_ACTIVITIES_SHELF_TITLE})}),C===de.ag.DIRECTORY?(0,r.jsx)(u.Text,{variant:"text-sm/normal",children:S?z.Z.Messages.EMBEDDED_ACTIVITIES_DEVELOPER_SHELF_SUBTITLE:z.Z.Messages.EMBEDDED_ACTIVITIES_SHELF_SUBTITLE}):null]}),(0,
r.jsx)(u.ModalCloseButton,{className:bt().modalCloseButton,onClick:l})]}),C===de.ag.DIRECTORY&&S?(0,r.jsx)(ht,{}):null,(0,r.jsx)("div",{className:bt().modalDivider}),(0,r.jsxs)(u.Slides,{activeSlide:C,centered:!1,width:_t,children:[(0,r.jsx)(u.Slide,{id:de.ag.DIRECTORY,impressionName:a.zs.ACTIVITY_SHELF,impressionProperties:{source_section:o.section,impression_group:a.AG.ACTIVITY_SHELF_FLOW},children:(0,r.jsx)(Zt,{slide:C,children:(0,r.jsx)(Pe,{scrollerRef:N,channel:t,guildId:n,locationObject:o,onClose:l})})}),(0,r.jsx)(u.Slide,{id:de.ag.SELECT_CHANNEL,impressionName:a.zs.ACTIVITY_SHELF_SELECT_CHANNEL,impressionProperties:{source_section:o.section,impression_group:a.AG.ACTIVITY_SHELF_FLOW,application_id:L},children:(0,r.jsx)(Zt,{slide:C,children:(0,r.jsx)(nt,{applicationId:L,selectedChannelId:U,setSelectedChannelId:k,guildId:n,enableSelectedTextChannelInvite:O})})}),(0,r.jsx)(u.Slide,{id:de.ag.UPSELL,impressionName:a.zs.ACTIVITY_NITRO_UPSELL,impressionProperties:H,children:(0,
r.jsx)(Zt,{slide:C,children:null==L?null:(0,r.jsx)(ut,{applicationId:L,channelId:null==t?void 0:t.id,guildId:n})})})]}),C!==de.ag.DIRECTORY?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:bt().modalDivider}),(0,r.jsx)(u.ModalFooter,{separator:!1,className:bt().footer,children:function(){switch(C){case de.ag.DIRECTORY:return null;case de.ag.SELECT_CHANNEL:return(0,r.jsx)(rt,{onBack:F,onClose:l,guildId:n,applicationId:L,locationObject:o,selectedChannelId:U,enableSelectedTextChannelInvite:O});case de.ag.UPSELL:return(0,r.jsx)(st,{applicationId:L,channelId:null==t?void 0:t.id,guildId:n,onBack:F});default:return null}}()})]}):null]}))})}var Zt=function(e){var t,n=e.children,o=e.slide,a=(0,c.e7)([m.Z],(function(){return m.Z.getIsEnabled()}),[]),u=i.useContext(d.ZP),s=(0,c.e7)([p.Z],(function(){return p.Z.windowSize(u.windowId).height}),[u.windowId]);return(0,r.jsx)("div",{className:l()(bt().slideContentOuterContainerSquished,(t={},
jt(t,bt().slideContentOuterContainerSquishedWithDev,o===de.ag.DIRECTORY&&a),jt(t,bt().slideContentOuterContainerTall,o===de.ag.DIRECTORY&&s>At),jt(t,bt().slideContentOuterContainerTallWithDev,o===de.ag.DIRECTORY&&s>At&&a),jt(t,bt().slideContentOuterContainerNoMetaTextSquished,o!==de.ag.DIRECTORY),jt(t,bt().slideContentOuterContainerNoMetaTextTall,o!==de.ag.DIRECTORY&&s>At),t)),children:n})}},968257:(e,t,n)=>{"use strict";n.d(t,{O:()=>p});var r=n(785893),i=(n(667294),n(296916)),o=n(125680),l=n(294162),a=n(796938),c=n(787554),u=n(72580),s=n(933954),d=n(336815),f=n.n(d);function p(e){var t=e.channel,n=e.users,d=(0,s.ZP)(t);return(0,r.jsxs)("div",{className:f().channelInfo,children:[(0,i.Z)(t)?(0,r.jsx)(c.Z,{className:f().speakerIcon}):(0,r.jsx)(a.Z,{className:f().speakerIcon}),(0,r.jsx)("div",{className:f().channelName,children:t.name}),d.length>0?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:f().divider}),(0,r.jsx)(o.Z,{embeddedApps:d,className:f().channelItemActivities
}),(0,r.jsx)("div",{className:f().channelActivitiesText,children:d.map((function(e){var t;return null===(t=e.application)||void 0===t?void 0:t.name})).filter(u.lm).join(", ")})]}):null,(0,r.jsx)("div",{className:f().voiceUserContainer,children:(0,r.jsx)(l.Z,{users:n,max:4})})]})}},532445:(e,t,n)=>{"use strict";n.d(t,{F:()=>p});var r,i=n(781453),o=n(217674),l=n(507165),a=n(795470),c=n(2590),u=n(473708);function s(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}!function(e){e[e.EXTRA_BOOSTS=0]="EXTRA_BOOSTS";e[e.UPLOAD_SIZE=1]="UPLOAD_SIZE";e[e.CUSTOM_EMOJIS=2]="CUSTOM_EMOJIS"}(r||(r={}));function d(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){d(e,t,n[t])}))}return e}function p(){var e,t=(s(e={},r.EXTRA_BOOSTS,{color:(0,a.Sl)(c.Ilk.PREMIUM_PERK_PINK).hex,label:u.Z.Messages.EMBEDDED_ACTIVITIES_PREMIUM_TIER_EXTRA_BOOSTS.format({nBoostsWithNitro:"2",boostDiscount:"30%"})}),s(e,r.UPLOAD_SIZE,{color:(0,a.Sl)(c.Ilk.PREMIUM_PERK_YELLOW).hex,label:u.Z.Messages.EMBEDDED_ACTIVITIES_PREMIUM_TIER_UPLOAD_SIZE.format({premiumMaxSize:u.Z.Messages.FILE_UPLOAD_LIMIT_PREMIUM_TIER_2_INCREASE})}),s(e,r.CUSTOM_EMOJIS,{color:(0,a.Sl)(c.Ilk.PREMIUM_PERK_BLUE).hex,label:u.Z.Messages.EMBEDDED_ACTIVITIES_PREMIUM_TIER_CUSTOM_EMOJI}),e);return[f({icon:o.Z},t[r.EXTRA_BOOSTS]),f({icon:l.Z},t[r.UPLOAD_SIZE]),f({icon:i.Z},t[r.CUSTOM_EMOJIS])]}},125680:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(785893),i=(n(667294),n(294184)),o=n.n(i),l=n(945460),a=n(641277),c=n(639115),u=n.n(c);function s(e){var t=e.className,n=e.embeddedApps;if(n.length<=0)return null
;if(1===n.length)return(0,r.jsx)("div",{className:o()(u().container,t),children:(0,r.jsx)(a.Z,{game:n[0].application,className:u().icon24px})});var i=n.length-1;return(0,r.jsxs)("div",{className:o()(u().container,t),children:[(0,r.jsx)(a.Z,{game:n[0].application,className:u().icon20px}),2===n.length?(0,r.jsx)(a.Z,{game:n[1].application,className:u().icon20px}):(0,r.jsx)(l.Text,{className:u().overflow,variant:"text-xs/bold",color:"interactive-active",children:"+".concat(i)})]})}},688858:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(785893),i=(n(667294),n(294184)),o=n.n(i),l=n(32912),a=n.n(l);function c(e){var t=e.icon,n=e.iconClassName,i=e.description,l=e.color;return(0,r.jsxs)("div",{className:a().perkRow,children:[(0,r.jsx)("div",{className:a().perkIconContainer,children:(0,r.jsx)(t,{color:l,className:o()(a().perkIcon,n)})}),(0,r.jsx)("div",{className:a().perkDescription,children:i})]})}},993137:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(785893),i=(n(667294),
n(294184)),o=n.n(i),l=n(831222),a=n.n(l);function c(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){c(e,t,n[t])}))}return e}const s=function(e){var t=e.aspectRatio,n=e.style,i=e.className,l=e.children;return(0,r.jsx)("div",{className:o()(a().outer,i),style:u({paddingTop:"".concat(1/t*100,"%")},n),children:(0,r.jsx)("div",{className:a().inner,children:l})})}},294162:(e,t,n)=>{"use strict";n.d(t,{Z:()=>O});var r=n(785893),i=n(667294),o=n(294184),l=n.n(o),a=n(945460),c=n(722406),u=n(796938),s=n(456890),d=n.n(s),f=n(381357),p=n.n(f);function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}
function h(e){h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return h(e)}function y(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e,t){b=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return b(e,t)}var m=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return y(this,n)}}var I=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&b(e,t)}(n,e);var t=g(n);function n(){v(this,n);var e;(e=t.apply(this,arguments)).defaultRenderUser=function(t,n,i,o){var u=e.props,s=u.onClick,f=u.size,v=u.guildId,h=t instanceof c.Z?t:null!=t?t.user:null;return null==h?(0,r.jsx)("div",{className:l()(d().emptyUser,n)},i):(0,r.jsx)(a.Avatar,{tabIndex:0,src:h.getAvatarURL(v,(0,a.getAvatarSize)(f)),size:f,"aria-label":h.username,className:l()(n,p().cursorPointer,d().avatarSize),onClick:function(t){return null!=s?s(t,h,e._ref):null}},h.id)};return e}var i=n.prototype;i.renderUsers=function(){for(var e=this.props,t=e.users,n=e.max,r=e.renderUser,i=void 0===r?this.defaultRenderUser:r,o=e.renderMoreUsers,l=[],a=t.length===n?t.length:n-1,c=0;c<a&&c<t.length;){var u=c===t.length-1
;l.push(i(t[c]||null,u?null:d().avatarMasked,"user-".concat(c),u));c++}if(c<t.length){var s=Math.min(t.length-c,99);l.push(o("+".concat(s),d().moreUsers,"more-users",s))}return l};i.renderIcon=function(){return this.props.icon?(0,r.jsx)("div",{className:d().iconContainer,children:(0,r.jsx)(u.Z,{width:16,height:16,foreground:d().foreground,className:d().icon})}):null};i.render=function(){var e=this,t=this.props.className;return(0,r.jsxs)("div",{className:l()(t,d().container),ref:function(t){return e._ref=t},children:[this.renderIcon(),this.renderUsers()]})};return n}(i.PureComponent);I.defaultProps={max:10,renderMoreUsers:function(e,t,n){return(0,r.jsx)("div",{className:t,children:e},n)},size:a.AvatarSizes.SIZE_24};const O=I},457997:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(785893),i=(n(667294),n(633878));function o(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function l(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function a(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(i[n]=e[n])}return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}}return i}function c(e){var t=e.width,n=void 0===t?20:t,c=e.height,u=void 0===c?20:c,s=e.color,d=void 0===s?"currentColor":s,f=e.foreground,p=a(e,["width","height","color","foreground"]);return(0,
r.jsx)("svg",l(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){o(e,t,n[t])}))}return e}({},(0,i.Z)(p)),{width:n,height:u,viewBox:"0 0 20 20",children:(0,r.jsx)("g",{fill:"none",fillRule:"evenodd",children:(0,r.jsx)("path",{className:f,fill:d,
d:"M9.99999 1.66675C5.39699 1.66675 1.66666 5.39708 1.66666 10.0001C1.66666 14.6031 5.39699 18.3334 9.99999 18.3334C14.603 18.3334 18.3333 14.6031 18.3333 10.0001C18.3333 5.39708 14.603 1.66675 9.99999 1.66675ZM9.99999 4.66675C10.3685 4.66675 10.6667 4.96493 10.6667 5.33342V9.61475L13.8021 11.4272C14.1211 11.6108 14.2252 12.0145 14.0416 12.3335C13.8581 12.6525 13.4544 12.7567 13.1354 12.5731L9.73937 10.6148C9.71333 10.6043 9.68989 10.5874 9.66646 10.5731C9.46724 10.4572 9.33312 10.2463 9.33312 10.0002V5.3335C9.33312 4.965 9.6315 4.66675 9.99999 4.66675Z"})})}))}},781453:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(785893),i=(n(667294),n(633878));function o(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function l(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){
var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function a(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(i[n]=e[n])}return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}}return i}function c(e){var t=e.width,n=void 0===t?24:t,c=e.height,u=void 0===c?24:c,s=e.color,d=void 0===s?"currentColor":s,f=e.foreground,p=a(e,["width","height","color","foreground"]);return(0,r.jsx)("svg",l(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){o(e,t,n[t])}))}return e}({},(0,i.Z)(p)),{width:n,height:u,viewBox:"0 0 24 24",children:(0,r.jsx)("path",{fill:d,className:f,d:"M12 2C6.477 2 2 6.477 2 12C2 17.522 6.477 22 12 22C17.523 22 22 17.522 22 12C22 6.477 17.523 2 12 2ZM8 6C9.104 6 10 6.896 10 8C10 9.105 9.104 10 8 10C6.896 10 6 9.105 6 8C6 6.896 6.896 6 8 6ZM18 14C18 16.617 15.14 19 12 19C8.86 19 6 16.617 6 14V13H18V14ZM16 10C14.896 10 14 9.105 14 8C14 6.896 14.896 6 16 6C17.104 6 18 6.896 18 8C18 9.105 17.104 10 16 10Z"})}))}},217674:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(785893),i=(n(667294),n(633878));function o(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function l(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function a(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(i[n]=e[n])}return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}}return i}function c(e){var t=e.width,n=void 0===t?24:t,c=e.height,u=void 0===c?24:c,s=e.color,d=void 0===s?"currentColor":s,f=e.foreground,p=a(e,["width","height","color","foreground"]);return(0,
r.jsxs)("svg",l(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){o(e,t,n[t])}))}return e}({},(0,i.Z)(p)),{width:n,height:u,viewBox:"0 0 8 12",children:[(0,r.jsx)("path",{d:"M4 0L0 4V8L4 12L8 8V4L4 0ZM7 7.59L4 10.59L1 7.59V4.41L4 1.41L7 4.41V7.59Z",fill:d,className:f}),(0,r.jsx)("path",{d:"M2 4.83V7.17L4 9.17L6 7.17V4.83L4 2.83L2 4.83Z",fill:d,className:f})]}))}},507165:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(785893),i=(n(667294),n(633878));function o(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function l(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e)
;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function a(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(i[n]=e[n])}return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}}return i}function c(e){var t=e.width,n=void 0===t?40:t,c=e.height,u=void 0===c?40:c,s=e.color,d=void 0===s?"currentColor":s,f=a(e,["width","height","color"]);return(0,r.jsx)("svg",l(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){o(e,t,n[t])}))}return e}({},(0,i.Z)(f)),{width:n,height:u,viewBox:"0 0 20 21",fill:d,xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.2139 1.00082L0.271335 12.3825C-0.0698739 12.8168 0.00557122 13.4454 0.439846 13.7866C0.616031 13.9251 0.833599 14.0003 1.05766 14.0003H5.00022V20.0003C5.00022 20.5526 5.44794 21.0003 6.00022 21.0003H14.0002C14.5525 21.0003 15.0002 20.5526 15.0002 20.0003V14.0003H18.9428C19.495 14.0003 19.9428 13.5526 19.9428 13.0003C19.9428 12.7763 19.8675 12.5587 19.7291 12.3825L10.7865 1.00082C10.4453 0.566546 9.81669 0.4911 9.38241 0.832308C9.31972 0.881561 9.26315 0.938133 9.2139 1.00082Z",fill:d})}))}},96606:(e,t,n)=>{"use strict";n.d(t,{u:()=>C,Z:()=>Z})
;var r=n(785893),i=n(667294),o=n(294184),l=n.n(o),a=n(441143),c=n.n(a),u=n(945460),s=n(736626),d=n(197045),f=n(722406),p=n(796938),v=n(442535),h=n(211482),y=n(126784),b=n.n(y);function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function I(e){I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return I(e)}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){g(e,t,n[t])}))}return e}function E(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){
var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function j(e,t){return!t||"object"!==x(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function S(e,t){S=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return S(e,t)}var x=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){
var n,r=I(e);if(t){var i=I(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return j(this,n)}}var C={SIZE_16:16,SIZE_24:24,SIZE_32:32,SIZE_56:56};function _(e,t){var n=e instanceof f.Z?e:null!=e?e.user:null;return null!=n?n.id:"user-".concat(t)}function A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C.SIZE_24;switch(e){case C.SIZE_16:return b().size16;case C.SIZE_24:return b().size24;case C.SIZE_32:return b().size32;case C.SIZE_56:return b().size56;default:return b().size24}}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&S(e,t)}(n,e);var t=T(n);function n(){m(this,n);var e;(e=t.apply(this,arguments)).state={popoutUserId:null};e._ref=i.createRef();e.defaultRenderUser=function(t,n,i){var o=e.props,l=o.showUserPopout,a=o.guildId,c=o.size
;if(null==t){if(e.props.showDefaultAvatarsForNullUsers){var s=(null!=i?i:0)%v.Z.DEFAULT_AVATARS.length,d=v.Z.DEFAULT_AVATARS[s];return(0,r.jsx)("img",{src:d,alt:"",className:b().avatar})}return(0,r.jsx)("div",{className:b().emptyUser})}var f=(0,r.jsx)("img",{src:t.getAvatarURL(a,c),alt:t.username,className:b().avatar},t.id);return l?(0,r.jsx)(u.Clickable,{className:b().clickableAvatar,onClick:function(){null!=e._ref.current&&null!=t&&e.setState({popoutUserId:t.id})},tabIndex:-1,children:f},t.id):f};return e}var o=n.prototype;o.renderUsers=function(){for(var e=this.props,t=e.users,n=e.max,i=e.renderUser,o=void 0===i?this.defaultRenderUser:i,l=e.size,a=e.extraDetail,c=[],u=t.length===n?t.length:n-1,s=this.renderMoreUsers(u),d=0;d<u&&d<t.length;){var f,p=null==s&&null==a&&d===t.length-1,v=o(t[d],p,d);c.push(p?(0,r.jsx)("div",{className:b().avatarContainer,children:v},_(null!==(f=t[d])&&void 0!==f?f:null,d)):(0,r.jsx)(h.ZP,{className:b().avatarContainerMasked,height:l,width:l,
mask:h.ZP.Masks.VOICE_USER_SUMMARY_ITEM,children:v},_(t[d],d)));d++}null!=a?c.push(a):null!=s&&c.push(s);return c};o.renderMoreUsers=function(e){var t=this.props,n=t.max,o=t.count,l=t.hideMoreUsers,a=t.renderMoreUsers,c=t.users,u=Math.min(e,c.length);if(!l)if(null!=o){if(o>=n)return(0,r.jsx)(i.Fragment,{children:a("".concat(n,"+"),n)},"more-users");if(o>c.length){var s=o-c.length;return(0,r.jsx)(i.Fragment,{children:a("+".concat(s),s)},"more-users")}}else if(u<c.length){var d=Math.min(c.length-u,99);return(0,r.jsx)(i.Fragment,{children:a("+".concat(d),d)},"more-users")}};o.renderIcon=function(){return this.props.renderIcon?(0,r.jsx)(p.Z,{foreground:b().foreground,className:b().icon}):null};o.render=function(){var e=this,t=this.props,n=t.className,i=t.size,o=t.users,a=t.guildId,f=t.showUserPopout,p=this.state.popoutUserId,v=o.find((function(e){return null!=e&&e.id===p}));return(0,r.jsx)(u.Popout,{position:"right",preload:null==v?void 0:function(){return(0,
s.Z)(v.id,v.getAvatarURL(a,80),{guildId:a})},shouldShow:!0===f&&null!=p,fixed:!0,renderPopout:function(t){c()(null!=p,"UserSummaryItem.render - renderPopout: popoutUserId cannot be null");return(0,r.jsx)(d.Z,E(O({},e.props,t),{userId:p,guildId:e.props.guildId}))},onRequestClose:function(){return e.setState({popoutUserId:null})},children:function(t){return(0,r.jsxs)("div",E(O({className:l()(n,b().container,A(i)),ref:e._ref},t),{children:[e.renderIcon(),e.renderUsers()]}))}})};return n}(i.PureComponent);w.defaultProps={max:10,renderMoreUsers:function(e){return(0,r.jsx)("div",{className:b().moreUsers,children:e})},renderIcon:!1,showDefaultAvatarsForNullUsers:!1,size:C.SIZE_24};const Z=w}}]);
//# sourceMappingURL=3c332b9f12d6dc3bf1e2.js.map