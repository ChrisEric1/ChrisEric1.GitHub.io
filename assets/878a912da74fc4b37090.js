"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[30027],{499477:(e,t,n)=>{n.d(t,{X5:()=>u,a8:()=>r,h8:()=>i,xQ:()=>o});var r,i,o,u=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);this.id=t;this.text=t};!function(e){e.UP="UP";e.DOWN="DOWN"}(r||(r={}));!function(e){e.GUILD="GUILD";e.TEXT_CHANNEL="TEXT_CHANNEL";e.GROUP_DM="GROUP_DM";e.VOICE_CHANNEL="VOICE_CHANNEL";e.USER="USER";e.HEADER="HEADER";e.APPLICATION="APPLICATION";e.SKU="SKU";e.LINK="LINK"}(i||(i={}));!function(e){e.USER="@";e.TEXT_CHANNEL="#";e.VOICE_CHANNEL="!";e.GUILD="*";e.APPLICATION="$"}(o||(o={}))},429750:(e,t,n)=>{n.d(t,{Z:()=>r});function r(e,t){if(e.score===t.score){
var n,r,i,o,u,l,a=null!==(o=null!==(i=e.sortable)&&void 0!==i?i:null===(n=e.comparator)||void 0===n?void 0:n.toLocaleLowerCase())&&void 0!==o?o:"",c=null!==(l=null!==(u=e.sortable)&&void 0!==u?u:null===(r=t.comparator)||void 0===r?void 0:r.toLocaleLowerCase())&&void 0!==l?l:"";if(a<c)return-1;if(a>c)return 1}return t.score-e.score}},525177:(e,t,n)=>{n.d(t,{P:()=>r,Z:()=>o});var r,i=n(260561);!function(e){e[e.None=0]="None";e[e.DefaultOn=1]="DefaultOn";e[e.DefaultOff=2]="DefaultOff";e[e.ComingSoon=3]="ComingSoon"}(r||(r={}));const o=(0,i.B)({kind:"guild",id:"2023-03_clyde_ai",label:"ClydeAI",defaultConfig:{experimentState:r.None},treatments:[{id:1,label:"Enabled (Default Off)",config:{experimentState:r.DefaultOff}},{id:3,label:"Enabled (Default On)",config:{experimentState:r.DefaultOn}},{id:4,label:"Coming Soon",config:{experimentState:r.ComingSoon}}]})},854243:(e,t,n)=>{n.d(t,{lT:()=>u,FF:()=>l,Ib:()=>a,gJ:()=>s,M9:()=>f});var r=n(473903),i=n(525177),o=n(2590);function u(e){
var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=null!==(t=null==e?void 0:e.id)&&void 0!==t?t:"",o=i.Z.useExperiment({guildId:r},{autoTrackExposure:n}).experimentState;return o}function l(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=u(e,t);return n!==i.P.None}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=u(e,n);return c(r,e,t)}function c(e,t,n){if(null==t){if(null!=n&&n.isPrivate()){var u=r.default.getCurrentUser(),l=n.recipients;return(null==u?void 0:u.isStaff())&&(null==l?void 0:l.every((function(e){var t=r.default.getUser(e);return null==t?void 0:t.isStaff()})))}return!1}return e===i.P.DefaultOff?t.hasFeature(o.oNc.CLYDE_ENABLED):e===i.P.DefaultOn&&!t.hasFeature(o.oNc.CLYDE_DISABLED)}function s(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=null!==(n=null==e?void 0:e.id)&&void 0!==n?n:"",u=i.Z.getCurrentConfig({guildId:o},{autoTrackExposure:r}).experimentState;return c(u,e,t)}
function f(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null==e)return!1;var n=e.id,r=i.Z.getCurrentConfig({guildId:n},{autoTrackExposure:t}).experimentState;return r!==i.P.None}},944751:(e,t,n)=>{n.d(t,{Z:()=>g});var r=n(202351),i=n(744564);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function l(e){l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return l(e)}function a(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e,t){c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c(e,t)}var s=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var i=l(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return a(this,n)}}var d=new Set,p={};function y(e){var t=e.applicationId;d.add(t)}function v(e){var t=e.applicationId;d.delete(t)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&c(e,t)}(n,e);var t=f(n);function n(){o(this,n);return t.apply(this,arguments)}var r=n.prototype;r.isLaunchable=function(e){if(null!=p[e])return p[e]
;p[e]=!1;i.Z.dispatch({type:"CHECK_LAUNCHABLE_GAME",gameId:e});return!1};r.__getLocalVars=function(){return{launchingGames:d,launchableGames:p}};!function(e,t,n){t&&u(e.prototype,t);n&&u(e,n)}(n,[{key:"launchingGames",get:function(){return d}},{key:"launchableGames",get:function(){return p}}]);return n}(r.ZP.Store);h.displayName="LaunchableGameStore";const g=new h(i.Z,{GAME_LAUNCHABLE_UPDATE:function(e){var t=e.gameId,n=e.isLaunchable;p[t]=n},GAME_CLOUD_SYNC_START:y,GAME_LAUNCH_START:y,GAME_LAUNCH_SUCCESS:v,GAME_LAUNCH_FAIL:v,GAME_CLOUD_SYNC_CONFLICT:v,GAME_CLOUD_SYNC_ERROR:v,GAME_CLOUD_SYNC_COMPLETE:v})},977997:(e,t,n)=>{n.d(t,{Z:()=>u,t:()=>l});var r=n(202351),i=n(861426),o=n(2590);function u(e){return(0,r.e7)([i.Z],(function(){if(null==(null==e?void 0:e.id))return!1;var t=i.Z.isFullServerPreview(e.id),n=i.Z.isOnboardingEnabled(e.id);return t&&n}))||(null==e?void 0:e.hasFeature(o.oNc.GUILD_ONBOARDING_HAS_PROMPTS))}function l(e){if(null==e)return!1
;var t=i.Z.isFullServerPreview(e.id),n=i.Z.isOnboardingEnabled(e.id);return t&&n||e.hasFeature(o.oNc.GUILD_ONBOARDING_HAS_PROMPTS)}},201457:(e,t,n)=>{n.d(t,{B:()=>i});var r=n(382060);function i(e){return(0,r.r8)(e)||(0,r.bw)(e)}},645842:(e,t,n)=>{n.d(t,{Z:()=>qe});var r=n(496486),o=n.n(r),u=n(120053),l=n.n(u),a=n(854243),c=n(135855),s=n(61209),f=n(567403),d=n(473903),p=n(773148),y=n(749565);const v=(0,n(260561).B)({kind:"user",id:"2023-02_discord_embeds",label:"Discord embeds",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enables fancy embedded links instead of raw Discord links",config:{enabled:!0}}]});var h=n(773011),g=n(327930),m=n(840922),b=n(775173),E=n(176758),O=n(421281),_=n(201457),S=n(757278),w=n(2590),P=n(473708);function I(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){I(e,t,n[t])}))}return e}function C(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var L=function(e){var t=s.Z.getChannel(e);return null==t?void 0:t.getGuildId()};function T(e){return{type:"guild",guildId:e.id,content:(0,O.aF)(e.name,32),icon:b.ZP.getGuildIconURL({id:e.id,icon:e.icon,size:40})}}function Z(e,t){var n=D((0,O.aF)(e.name,32));return{type:"channel",content:["italics"===t?{type:"em",
content:[n]}:n],channelType:e.type,iconType:e.iconType}}function N(e){return{type:"channel",content:[D("")],iconType:e?"post":"message"}}function R(e,t){var n,r=s.Z.getChannel(e),i=null!==(n=(0,E.wl)(r))&&void 0!==n?n:"text";if(null!=t){var o=t.find((function(t){return t.id===e}));if(null!=o)return{type:o.type,id:o.id,guildId:o.guild_id,name:o.name,isDm:null!=r&&r.isPrivate(),isForumPost:null!=r&&r.isForumPost(),isMentionable:!0,canViewChannel:!0,iconType:i,parentId:null==r?void 0:r.parent_id}}return null!=r?{type:r.type,id:r.id,guildId:r.guild_id,name:(0,h.F6)(r,d.default,m.Z),isDm:r.isPrivate(),isForumPost:r.isForumPost(),isMentionable:(0,_.B)(r.type),canViewChannel:(0,g.YO)(r),iconType:i,parentId:r.parent_id}:null}function j(e){return{type:"link",content:[{type:"text",content:e}],target:e,title:void 0}}function D(e){return{type:"text",content:e}}function x(e,t,n,r,i){var o=f.Z.getGuild(e),u=(null==o?void 0:o.id)===r;return{type:"channelMention",guildId:e,channelId:t,messageId:n,
originalLink:i,inContent:null==o||u?null:[T(o)],content:[Z({name:P.Z.Messages.UNKNOWN_CHANNEL,type:w.d4z.UNKNOWN,iconType:"text"},"italics")]}}function U(e,t,n,r){if(!e.canViewChannel)return function(e,t,n){return{type:"channelMention",guildId:e,channelId:t,messageId:n,inContent:null,content:[{type:"channel",content:[D(P.Z.Messages.NO_ACCESS)],channelType:w.d4z.UNKNOWN,iconType:"locked"}]}}(e.guildId,e.id,t);if(!e.isMentionable)return D("#".concat(e.name));var i={type:"channelMention",channelId:e.id,guildId:e.guildId,messageId:t,originalLink:r},o=f.Z.getGuild(e.guildId);return null==o?e.isDm?C(A({},i),{guildId:w.ME,inContent:[Z(e)],content:[N(!1)]}):function(e){return null!=e?j(e):D("#".concat(P.Z.Messages.UNKNOWN_CHANNEL_PLACEHOLDER))}(r):A({},i,function(e,t,n,r){var i=T(e),o=Z(t),u=N(t.isForumPost);if(n&&r){if(t.isForumPost){var l=s.Z.getChannel(t.parentId);if(null!=l){var a;return{inContent:[Z({name:l.name,type:l.type,iconType:null!==(a=(0,E.wl)(l))&&void 0!==a?a:"forum"})],
content:[o]}}}return{inContent:[o],content:[u]}}return n&&!r?{inContent:null,content:[o]}:!n&&r?{inContent:[i],content:[t.isForumPost?o:u]}:n||r?void 0:{inContent:[i],content:[o]}}(o,e,e.guildId===n,null!=t))}const M={channelMention:{order:S.ZP.order,requiredFirstCharacters:["<"],match:function(e){return/^<#(\d+)>/.exec(e)},parse:function(e,t,n){var r=e[1];if(n.returnMentionIds)return{type:"channelMention",id:r};var i=v.getCurrentConfig({},{autoTrackExposure:!0}).enabled,o=R(r,n.mentionChannels);return i?null==o?x(null,r,null,L(n.channelId)):U(o,null,L(n.channelId)):null!=o&&o.canViewChannel&&o.isMentionable?{type:"channelMention",channelId:o.id,guildId:o.guildId,messageId:void 0,inContent:null,content:[{type:"channel",content:[D(o.name)],channelType:o.type,iconType:o.type===w.d4z.GUILD_VOICE?"voice":"text"}]}:{type:"text",content:"#".concat(null!=o?o.name:P.Z.Messages.DELETED_CHANNEL_PLACEHOLDER)}}},channelOrMessageUrl:{order:l().defaultRules.url.order-.5,
requiredFirstCharacters:["h"],match:function(e){var t=g.Jv.exec(e);if(null!=t){if(!v.getCurrentConfig({},{autoTrackExposure:!0}).enabled)return null;if(null!=t[2]&&/\D/.test(t[2]))return null;if(null!=t[3]&&/\D/.test(t[3]))return null}return t},parse:function(e,t,n){var r=e[0],i=e[1],o=e[2],u=e[3];if(null==o)return j(r);var l=R(o,null);return null==l?x(i,o,u,L(n.channelId),r):U(l,u,L(n.channelId),r)}}};function k(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var G=/\n$/,F=function(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e
}(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){k(e,t,n[t])}))}return e}({},l().defaultRules.heading),{requiredFirstCharacters:[" ","#"],match:function(e,t,n){return t.allowHeading&&(null==n||""===n||null!=n.match(G))?(0,u.anyScopeRegex)(/^ *(#{1,3})(?:\s+)((?![#]+)[^\n]+?)#*\s*(?:\n|$)/)(e,t,n):null}});const q=F;var B=n(726041),H=n(441143),V=n.n(H);function Y(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Y(e,t,n[t])}))}return e}function K(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var W=/\n{2,}$/,z=/(?:^|\n)( *)$/,J="( *)((?:[*-]|\\d+\\.)) +",$=new RegExp("^"+J),X=new RegExp(J+"[^\\n]*(?:\\n(?!\\1"+"(?:[*-]|\\d+\\.) )[^\\n]*)*(\n|$)","gm"),ee=/ *\n$/,te=new RegExp("^( *)((?:[*-]|\\d+\\.)) [\\s\\S]+?(?:\\n(?! )(?!\\1(?:[*-]|\\d+\\.) )|$)"),ne=/^[ \t\v\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+$/;const re=K(Q({},l().defaultRules.list),{requiredFirstCharacters:" *-0123456789".split(""),
match:function(e,t){if(!t.allowList)return null;if(t._listLevel>=11)return null;var n=null==t.prevCapture?"":t.prevCapture[0],r=z.exec(n);return null==r||ne.test(r[0])?null:te.exec(e)},parse:function(e,t,n){var r=e[2],i=r.length>1,o=i?Math.max(1,Math.min(+r,50)):void 0,u=e[0].replace(W,"\n").match(X);V()(null!=u,"markup list items can not be parsed.");var l=!1;return{ordered:i,start:o,items:u.map((function(e,r){var i=$.exec(e),o=null!=i?i[0].length:0,a=new RegExp("^ {1,"+o+"}","gm"),c=e.replace(a,"").replace($,""),s=r===u.length-1,f=-1!==c.indexOf("\n\n")||s&&l;l=f;var d,p=n.inline,y=n._list,v=n._listLevel;n._list=!0;n._listLevel=(null!=v?v:0)+1;if(f){n.inline=!1;d=c.replace(ee,"\n\n")}else{n.inline=!0;d=c.replace(ee,"")}var h=t(d,K(Q({},n),{allowHeading:!1})).map((function(e){"text"===e.type&&(e.content=e.content.replace(/\n+\s*$/,""));return e}));n.inline=p;n._list=y;n._listLevel=v;return h}))}}});var ie=n(489617),oe=n(38004);function ue(e,t){(null==t||t>e.length)&&(t=e.length)
;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function le(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],u=!0,l=!1;try{for(n=n.call(e);!(u=(r=n.next()).done);u=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){l=!0;i=e}finally{try{u||null==n.return||n.return()}finally{if(l)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ue(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ue(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ce={s:{requiredFirstCharacters:["~"],match:l().inlineRegex(/^~~([\s\S]+?)~~(?!_)/)},highlight:{order:S.ZP.order,match:function(){return null}},emoji:{order:S.ZP.order,requiredFirstCharacters:[":"],match:function(e){var t=c.ZP.EMOJI_NAME_AND_DIVERSITY_RE.exec(e);return null!=t&&""!==c.ZP.convertNameToSurrogate(t[1])?t:null},parse:function(e){var t=ae(e,2),n=t[0],r=t[1],i=c.ZP.convertNameToSurrogate(r);return null==i||""===i?{type:"text",content:n}:{name:":".concat(r,":"),surrogate:i,src:oe.ZP.getURL(i)}}},customEmoji:{order:l().defaultRules.codeBlock.order,requiredFirstCharacters:["<"],match:function(e){return/^<(a)?:(\w+):(\d+)>/.exec(e)},parse:function(e,t,n){var r=ae(e,4),i=(r[0],r[1]),o=r[2],u=r[3],l=n.guildId,a=ie.Z.getDisambiguatedEmojiContext(l).getById(u),c=null==a||a.require_colons;null!=a&&(o=a.name);return{
emojiId:u,name:c?":".concat(o,":"):o,animated:"a"===i}}},text:{parse:function(e){var t=c.ZP.findInlineEmojisFromSurrogates(e[0]),n=0;return t.map((function(e){if("text"===e.type){var t={index:n,0:e.text};n+=e.text.length;return{type:"text",content:e.text,originalMatch:t}}var r={index:n,0:e.surrogate};n+=e.surrogate.length;return{type:"emoji",name:e.emojiName,surrogate:e.surrogate,src:oe.ZP.getURL(e.surrogate),originalMatch:r}}))}},looseEm:function(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}(function(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){le(e,t,n[t])}))}return e}({},l().defaultRules.em),{match:l().inlineRegex(new RegExp("^\\*(?=\\S)((?:\\*\\*|\\\\[\\s\\S]|\\s+(?:\\\\[\\s\\S]|[^\\s\\*\\\\]|\\*\\*)|[^\\s\\*\\\\])+?) {1,2}\\*(?!\\*)")),parse:function(e,t,n){return{type:"em",content:t(e[1],n),originalMatch:e}}})};const se=ce;var fe=n(971561),de=n(844494),pe=n(127624),ye=n(876986);function ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function he(e){if(Array.isArray(e))return e}function ge(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function me(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function be(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ge(e,t,n[t])}))}return e}function Oe(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function _e(e,t){return he(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],u=!0,l=!1;try{for(n=n.call(e);!(u=(r=n.next()).done);u=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){l=!0;i=e}finally{try{u||null==n.return||n.return()}finally{if(l)throw i}}return o}}(e,t)||we(e,t)||be()}function Se(e){return function(e){if(Array.isArray(e))return ve(e)}(e)||me(e)||we(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function we(e,t){if(e){if("string"==typeof e)return ve(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ve(e,t):void 0}}var Pe=/^( *>>> +([\s\S]*))|^( *>(?!>>) +[^\n]*(\n *>(?!>>) +[^\n]*)*\n?)/,Ie=/^$|\n *$/,Ae=/^ *>>> ?/,Ce=/^ *> ?/gm;function Le(e){
var t=(0,B.yw)(e[1]);return null==t?{type:"text",content:e[1]}:{type:"link",content:[{type:"text",content:t.displayTarget}],target:t.target,title:void 0}}var Te=function(e){var t=s.Z.getChannel(e);return null==t?void 0:t.getGuildId()},Ze=function(e){return null!=e.guildId?f.Z.getGuild(e.guildId):null!=e.channelId?f.Z.getGuild(Te(e.channelId)):null},Ne={newline:l().defaultRules.newline,paragraph:l().defaultRules.paragraph,escape:Oe(Ee({},l().defaultRules.escape),{match:function(e,t,n){return!1===t.allowEscape?null:l().defaultRules.escape.match(e,t,n)}}),blockQuote:Oe(Ee({},l().defaultRules.blockQuote),{requiredFirstCharacters:[" ",">"],match:function(e,t){var n=t.prevCapture,r=t.inQuote,i=t.nested;if(r||i)return null;if(null==n)return Pe.exec(e);var o=n[0];return Ie.test(o)?Pe.exec(e):null},parse:function(e,t,n){var r=e[0],i=Boolean(Ae.exec(r)),o=i?Ae:Ce,u=r.replace(o,""),l=n.inQuote||!1,a=n.inline||!1;n.inQuote=!0;i||(n.inline=!0);var c=t(u,n);n.inQuote=l;n.inline=a
;0===c.length&&c.push({type:"text",content:" "});return{content:c,type:"blockQuote"}}}),link:B.ZP,autolink:Oe(Ee({},l().defaultRules.autolink),{parse:Le}),url:Oe(Ee({},l().defaultRules.url),{requiredFirstCharacters:["h","s"],match:function(e,t){if(!t.inline)return null;var n=/^((?:https?|steam):\/\/[^\s<]+[^<.,:;"'\]\s])/.exec(e);if(null!=n){for(var r=0,i=n[0],o=i.length-1;o>=0&&")"===i[o];o--){var u=i.indexOf("(",r);if(-1===u){i=i.slice(0,i.length-1);break}r=u+1}n[0]=n[1]=i}return n},parse:Le}),strong:l().defaultRules.strong,em:l().defaultRules.em,u:l().defaultRules.u,br:l().defaultRules.br,text:S.ZP,inlineCode:l().defaultRules.inlineCode,emoticon:{order:S.ZP.order,requiredFirstCharacters:["¯"],match:function(e){return/^(¯\\_\(ツ\)_\/¯)/.exec(e)},parse:function(e){return{type:"text",content:e[1]}}},codeBlock:{order:l().defaultRules.codeBlock.order,requiredFirstCharacters:["`"],match:function(e){return/^```(?:([a-z0-9_+\-.]+?)\n)?\n*([^\n][^]*?)\n*```/i.exec(e)},parse:function(e,t,n){
var r,i;return{lang:null!==(r=e[1])&&void 0!==r?r:"",content:null!==(i=e[2])&&void 0!==i?i:"",inQuote:n.inQuote||!1}}},roleMention:{order:S.ZP.order,requiredFirstCharacters:["<"],match:function(e){return/^<@&(\d+)>/.exec(e)},parse:function(e,t,n){var r=_e(e,2),i=(r[0],r[1]);if(n.returnMentionIds)return{type:"roleMention",id:i};var o=Ze(n),u=null!=o?o.roles[i]:null;return null==u?{type:"text",content:"@".concat(P.Z.Messages.DELETED_ROLE_PLACEHOLDER)}:{type:"mention",channelId:n.channelId,guildId:null!=o?o.id:null,roleId:i,roleColor:u.color,color:u.color,colorString:u.colorString,content:[{type:"text",content:"@".concat(u.name)}]}}},mention:{order:S.ZP.order,requiredFirstCharacters:["<","@"],match:function(e,t){var n=/^<@!?(\d+)>|^(@(?:everyone|here|Clyde))/.exec(e);return null==n?null:"@Clyde"!==n[0]||(0,a.gJ)(Ze(t),s.Z.getChannel(t.channelId))?n:null},parse:function(e,t,n){if(n.returnMentionIds)return null==e[1]?{type:"mention",text:e[0]}:{type:"mention",id:e[1]}
;var r,i,o=d.default.getUser(e[1]),u=s.Z.getChannel(n.channelId);if(null!=o){i=o.id;r=o.toString();if(null!=u){var l;r=null!==(l=p.Z.getNickname(u.getGuildId(),n.channelId,o))&&void 0!==l?l:y.ZP.getName(o)}}null==o&&"@Clyde"===e[0]&&(0,a.gJ)(Ze(n),u)&&(i=ye.fL);return{userId:i,channelId:n.channelId,guildId:null==u?void 0:u.getGuildId(),roleName:e[2],content:[{type:"text",content:null!=r?"@".concat(r):e[0]}]}}},channelMention:M.channelMention,channelOrMessageUrl:M.channelOrMessageUrl,commandMention:{order:l().defaultRules.text.order,requiredFirstCharacters:["<"],match:function(e){return RegExp("^<\\/((?:[-_\\p{Letter}\\p{Number}\\p{sc=Deva}\\p{sc=Thai}]{1,32})(?: [-_\\p{Letter}\\p{Number}\\p{sc=Deva}\\p{sc=Thai}]{1,32})?(?: [-_\\p{Letter}\\p{Number}\\p{sc=Deva}\\p{sc=Thai}]{1,32})?):(\\d+)>","u").exec(e)},parse:function(e,t,n){if(n.returnMentionIds)return{type:"commandMention",id:e[2]}
;var r,o=(he(r=e[1].split(" "))||me(r)||we(r,i)||be()).slice(1),u="".concat(e[2]).concat(Se(o).map((function(e){return"".concat(pe.oQ).concat(e)})).join(""));return{channelId:n.channelId,commandId:e[2],commandName:e[1],commandKey:u,content:[{type:"text",content:"".concat(e[1])}]}}},emoji:{order:S.ZP.order,requiredFirstCharacters:[":"],match:function(e){var t=c.ZP.EMOJI_NAME_RE.exec(e);return null!=t&&""!==c.ZP.convertNameToSurrogate(t[1])?t:null},parse:function(e){var t=c.ZP.convertNameToSurrogate(e[1]);return{type:"text",content:null==t||""===t?":".concat(e[1],":"):t}}},customEmoji:{order:S.ZP.order,requiredFirstCharacters:["<"],match:function(e){return/^<a?:(\w+):(\d+)>/.exec(e)},parse:function(e){return{type:"text",content:":".concat(e[1],":")}}},timestamp:{order:S.ZP.order-1,requiredFirstCharacters:["<"],match:function(e){return fe.Ay.exec(e)},parse:function(e){var t=_e(e,3),n=t[1],r=t[2];return(0,fe.ZB)(n,r)}},s:{order:l().defaultRules.u.order,requiredFirstCharacters:["~"],
match:l().inlineRegex(/^~~([\s\S]+?)~~(?!_)/),parse:l().defaultRules.u.parse},spoiler:{order:S.ZP.order,requiredFirstCharacters:["|"],match:function(e){return w.$92.exec(e)},parse:function(e,t,n){return{content:t(e[1],n),channelId:n.channelId}}},staticRouteLink:{order:S.ZP.order,requiredFirstCharacters:["<"],match:function(e){return w.PEY.exec(e)},parse:function(e,t,n){return{content:[{type:"text",content:{home:P.Z.Messages.SERVER_GUIDE,guide:P.Z.Messages.SERVER_GUIDE,browse:P.Z.Messages.CHANNEL_BROWSER_TITLE,customize:P.Z.Messages.CUSTOMIZE_COMMUNITY_TITLE}[e[1]]}],channelId:e[1],guildId:Te(n.channelId),id:e[1]}}},heading:q,list:re},Re=(0,de.Z)([Ne,se]),je=o().omit(Re,["inlineCode","codeBlock","br","blockQuote"]),De=o().omit(Re,["codeBlock","br","mention","channel","roleMention"]),xe=o().omit((0,de.Z)([Re,{inlineCode:{match:function(e,t,n){var r=Re.codeBlock.match(e,t,n);if(null!=r)return r;var i=Re.inlineCode.match(e,t,n);return null!=i?i:void 0}}
}]),["blockQuote","codeBlock","br"]),Ue=o().omit(Re,["codeBlock","br","blockQuote"]),Me=o().omit(Re,["codeBlock","br","mention","roleMention","channel","paragraph","newline"]),ke=o().omit(Re,["codeBlock","blockQuote","br"]);function Ge(e,t){return 0===e.length||(0===t||""===e.charAt(t-1).trim())}var Fe=(0,de.Z)([{highlightWord:{order:-1,match:function(e,t){if(null==t.highlightWord)return null;var n=e.indexOf(t.highlightWord);if(-1===n)return null;var r=!Ge(e,n);if(r)do{n=e.indexOf(t.highlightWord,n+1);r=!Ge(e,n)}while(r&&-1!==n);if(-1===n)return null;var i=e.substring(0,n),o=e.substring(n+t.highlightWord.length);return[e,t.highlightWord,i,o]},parse:function(e,t,n){var r=t(e[2],n),i=t(e[3],n);return Se(r).concat([{type:"highlight",content:e[1]}],Se(i))}}},o().omit(Re,["url"])]);const qe={RULES:Re,CHANNEL_TOPIC_RULES:je,EMBED_TITLE_RULES:De,INLINE_REPLY_RULES:xe,GUILD_VERIFICATION_FORM_RULES:Ue,GUILD_EVENT_RULES:ke,PROFILE_BIO_RULES:Me,AUTO_MODERATION_SYSTEM_MESSAGE_RULES:Fe}},
757278:(e,t,n)=>{n.d(t,{T9:()=>o,ZP:()=>l});var r=n(120053);function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var o=function(e){return new RegExp("^[\\s\\S]+?(?=".concat(e,"|[^0-9A-Za-z\\s\\u00ff-\\uffff]|\\n\\n| {2,}\\n|\\w+:\\S|[0-9]+\\.|$)"))},u=function(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({},n.n(r)().defaultRules.text),{match:(0,r.anyScopeRegex)(/^[\s\S]+?(?=[^0-9A-Za-z\s\u00c0-\uffff]|\n\n| {2,}\n|\w+:\S|[0-9]+\.|$)/)});const l=u},971561:(e,t,n)=>{n.d(t,{Qh:()=>u,K_:()=>l,Ay:()=>c,ZB:()=>s,He:()=>f});var r=n(730381),i=n.n(r),o=n(70145),u={t:function(e){return(0,o.vc)(e,"LT")},T:function(e){return(0,o.vc)(e,"LTS")},d:function(e){return(0,o.vc)(e,"L")},D:function(e){return(0,o.vc)(e,"LL")},f:function(e){return(0,o.vc)(e,"LLL")},F:function(e){return(0,o.vc)(e,"LLLL")},R:function(e){var t=i().relativeTimeThreshold("s");i().relativeTimeThreshold("s",60);var n=i().relativeTimeThreshold("ss");i().relativeTimeThreshold("ss",-1);var r=i().relativeTimeThreshold("m");i().relativeTimeThreshold("m",60);var o=i()(e.toDate()).fromNow();i().relativeTimeThreshold("s",t);i().relativeTimeThreshold("ss",n);i().relativeTimeThreshold("m",r);return o}},l="f"
;Object.setPrototypeOf(u,null);var a=Object.keys(u).join("|"),c=new RegExp("^<t:(-?\\d{1,17})(?::(".concat(a,"))?>"));function s(e,t){var n=i()(1e3*Number(e)),r=null!=t?u[t]:void 0;null==r&&(r=u[l]);return{timestamp:e,format:t,parsed:n,full:u.F(n),formatted:r(n)}}function f(e,t){return null!=t?"<t:".concat(e,":").concat(t,">"):"<t:".concat(e,">")}},844494:(e,t,n)=>{n.d(t,{Z:()=>o});function r(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));i.forEach((function(t){r(e,t,n[t])}))}return e}function o(e){var t={},n=!0,r=!1,o=void 0;try{for(var u,l=e[Symbol.iterator]();!(n=(u=l.next()).done);n=!0){var a=u.value
;for(var c in a)t[c]=c in t?i({},t[c],a[c]):i({},a[c])}}catch(e){r=!0;o=e}finally{try{n||null==l.return||l.return()}finally{if(r)throw o}}return t}},30027:(e,t,n)=>{n.d(t,{ZP:()=>X});var r=n(496486),i=n.n(r),o=n(120053),u=n.n(o),l=n(773011),a=n(489617),c=n(135855),s=n(645842),f=n(757278),d=n(331055),p=n(18882),y=n(968449),v=n(61209),h=n(5544),g=n(21372),m=n(567403),b=n(682776),E=n(840922),O=n(793461),_=n(473903),S=n(504275),w=n(38004),P=n(749565),I=n(2590),A=n(473708);function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function L(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))))
;r.forEach((function(t){L(e,t,n[t])}))}return e}function Z(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],u=!0,l=!1;try{for(n=n.call(e);!(u=(r=n.next()).done);u=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){l=!0;i=e}finally{try{u||null==n.return||n.return()}finally{if(l)throw i}}return o}}(e,t)||j(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e){return function(e){if(Array.isArray(e))return C(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||j(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){if(e){if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}function D(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(t[0]!==e)return null;var i=t.substr(e.length);return n.sortBy((function(e){return-e.text.length
})).filter((function(e){var n=e.text;return 1===t.toLowerCase().indexOf(n.toLowerCase())})).sortBy((function(e){return e.text===i?0:1})).map((function(t){var n=t.id,i=t.text;return[e+i,n,r]})).first()}function x(e){return{order:e.order,match:e.match,parse:function(t){return{type:e.type,content:t[0]}}}}function U(e){return{match:u().anyScopeRegex(e),parse:function(e){return{type:"text",content:e[0]}}}}var M=s.Z.RULES,k=f.ZP,G=/^<@!?(\d+)>/,F=/^<@&(\d+)>/,q=/^<#(\d+)>/,B=/^<a?:(\w+):(\d+)>/,H=/(@everyone|@here|@Clyde)\b/,V={link:x(u().defaultRules.link),autolink:x(u().defaultRules.autolink),url:x(u().defaultRules.url),inlineCode:x(M.inlineCode),codeBlock:x(M.codeBlock),rawUserMention:U(G),rawRoleMention:U(F),rawChannelMention:U(q),rawEmoji:U(B),mention:{match:function(e,t,n){var r=n.split(" ").pop()+e;if(/^[^ ]+@[^ ]+\.[^ .]+/.test(r))return null;var i=D("@",e,t.users,"mention");if(i)return i;if(i=D("@",e,t.mentionableRoles,"roleMention"))return i;if(!(i=D("@",e,t.users.map((function(e){
return Z(T({},e),{text:e.text.split("#")[0]})})),"mention")))return null;var o=H.exec(e);if(null!=o&&i[0].length<=o[0].length)return null;if(""===n&&(0,d.BH)()){var u=d.vD.exec(e);if(null!=u&&i[0].length<=u[0].length)return null}return i},parse:function(e){var t=N(e,3),n=t[1],r=t[2],i="@";"roleMention"===r&&(i+="&");return{type:r,content:"<".concat(i).concat(n,">")}}},channel:{match:function(e,t){return function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(t[0]!==e)return null;if('"'!==t[1])return D(e,t,n,r);for(var i=2;i<t.length;i++)if("\\"!==t[i]){if('"'===t[i])break}else i++;var o=t.substring(0,i+1),u=(0,l.mA)(t.substring(2,i));return n.sortBy((function(e){return-e.text.length})).filter((function(e){var t=e.text;return u===t})).map((function(e){var t=e.id;return[o,t,r]})).first()}("#",e,t.channels)},parse:function(e){return{type:"text",content:"<#".concat(e[1],">")}}},emoticon:{match:function(e,t,n){if(!y.ev.getSetting())return null
;if(0!==n.length&&!/\s$/.test(n))return null;var r=c.ZP.EMOJI_SHORTCUT_RE.exec(e);return null==r||r[0].length!==e.length&&" "!==e[r[0].length]&&"\n"!==e[r[0].length]?null:r},parse:function(e){return{type:"emoticon",content:c.ZP.convertShortcutToName(e[1]),isShortcut:!0}}},emoji:{order:M.emoji.order,match:function(e){return c.ZP.EMOJI_NAME_RE.exec(e)},parse:function(e,t,n){var r=N(e,2),i=r[0],o=r[1],u=n.customEmoji,l=Object.prototype.hasOwnProperty.call(u,o)?u[o]:null;if(null!=l){var a;return{type:"customEmoticon",content:"<".concat(!0===l.animated?"a":"",":").concat(null!==(a=l.originalName)&&void 0!==a?a:l.name,":").concat(l.id,">"),emoji:l}}return{type:"text",content:i}}},customEmoticons:{match:function(e,t){var n,r;return null!==(r=null===(n=t.customEmoticonsRegex)||void 0===n?void 0:n.exec(e))&&void 0!==r?r:null},parse:function(e,t,n){var r=N(e,2),i=r[0],o=r[1],u=n.emojiContext.getEmoticonByName(o);return null!=u?{type:"customEmoticon",
content:"<".concat(!0===u.animated?"a":"",":").concat(u.name,":").concat(u.id,">"),emoji:u}:{type:"text",content:i}}},text:Z(T({},k),{match:function(e,t){return"string"==typeof t.textExclusions&&""!==t.textExclusions?(0,f.T9)(t.textExclusions).exec(e):null!=k.match?k.match(e,t,""):null}})},Y={inlineCode:x(M.inlineCode),codeBlock:x(M.codeBlock),mention:{match:u().anyScopeRegex(G),parse:function(e,t,n){var r=n.isNotification,i=_.default.getUser(e[1]);if(null==i)return{content:e[0]};var o=P.ZP.getUserTag(i,{identifiable:r&&O.Z.enabled?"never":"always"});if(r){var u=P.ZP.getGlobalName(i);return{content:"@".concat(null!=u?u:o)}}return{content:"@".concat(o)}}},roleMention:{match:u().anyScopeRegex(F),parse:function(e,t,n){var r=n.guild;if(null!=r){var i=r.roles[e[1]];if(null!=i)return{content:"@".concat(i.name)}}return{content:e[0]}}},channel:{match:u().anyScopeRegex(q),parse:function(e){var t=v.Z.getChannel(e[1]);return{content:null==t?e[0]:(0,l.F6)(t,_.default,E.Z,!0,!0)}}},emoji:{
match:u().anyScopeRegex(B),parse:function(e,t,n){var r=N(e,3),i=(r[0],r[1]),o=r[2],u=n.guild,l=a.Z.getDisambiguatedEmojiContext(u?u.id:null).getById(o),c=null!=l?l.name:i;return{content:":".concat(c,":")}}},spoiler:{match:u().anyScopeRegex(I.$92),parse:function(){return{content:"<".concat(A.Z.Messages.SPOILER.toLowerCase(),">")}}},staticRouteLink:{match:u().anyScopeRegex(I.PEY),parse:function(e){return{content:"<id:".concat(e[1],">")}}},timestamp:Z(T({},M.timestamp),{parse:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=(r=M.timestamp).parse.apply(r,R(t));return{content:i.formatted}}}),text:T({},k)};[V,Y].forEach((function(e){Object.keys(e).forEach((function(t,n){e[t].order=n}))}));var Q=u().parserFor(V),K=/(?:<a?:\w+:(\d+)>)|:(?:([^\s:]+?)(?:::skin-tone-\d)?:)/g;function W(e,t,n,r){var i="";e.forEach((function(e){!function(e,t,n){if(null!=n){"customEmoticon"===t.type&&n(t.emoji,!1)
;if("emoticon"===t.type||"text"===t.type)for(var r,i=c.ZP.translateSurrogatesToInlineEmoji(t.content);null!==(r=K.exec(i));){var o=void 0;null!=r[1]&&""!==r[1]?e.emojiContext&&(o=e.emojiContext.getById(r[1])):o=c.ZP.getByName(r[2]);o&&n(o,t.isShortcut||!1)}}}(t,e,r);if("string"==typeof e.content)switch(e.type){case"codeBlock":case"inlineCode":case"mention":case"roleMention":case"channel":case"emoji":i+=e.content;break;default:i+=n(e.content)}else e.content.constructor===Array?i+=W(e.content,t,n,r):console.warn("Unknown message item type: ",e)}));return i}function z(e,t,n){return W(Q(e,t),t,c.ZP.translateInlineEmojiToSurrogates,n)}function J(e){var t,n=null==e?void 0:e.getGuildId(),r=null!=n?m.Z.getGuild(n):null,o=b.Z.can(I.Plq.MENTION_EVERYONE,e);t=(null==e?void 0:e.isPrivate())?e.recipients.map((function(e){return{userId:e,nick:null}})):null!=n?g.ZP.getMembers(n).map((function(e){return{userId:e.userId,nick:e.nick}})):[];var u=i()(t.reduce((function(e,t){
var n=t.userId,r=_.default.getUser(n);if(null==r)return e;e.push({id:n,text:r.tag});return e}),[])),l=i()(null!=r?r.roles:{}).values().filter((function(e){var t=e.mentionable;return o||t})).map((function(e){return{id:e.id,text:e.name}})),c=i()(h.ZP.getTextChannelNameDisambiguations(n)).map((function(e){return{id:e.id,text:e.name}})),s=null!=n?i()(S.k1).filter((function(e){return e!==h.sH})).flatMap((function(e){return h.ZP.getChannels(n)[e].map((function(e){return{id:e.channel.id,text:e.channel.name}}))})).value():[],f=p.Z.computeAllActiveJoinedThreads(n).map((function(e){return{id:e.id,text:e.name}})),d=a.Z.getDisambiguatedEmojiContext(n),y=d.getEscapedCustomEmoticonNames(),v=d.getCustomEmoji(),E=d.getCustomEmoticonRegex();return{inline:!0,mentionableRoles:l,guild:r,users:u,channels:c.concat(s).concat(f),emojiContext:d,customEmoticonsRegex:E,customEmoji:v,textExclusions:y,disableErrorGuards:!0}}function $(e){return e}const X={parse:function(e,t){
var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=null!=n?n:J(e),i={content:t,tts:!1,invalidEmojis:[],validNonShortcutEmojis:[]};i.content=z(i.content,r,(function(t,n){w.ZP.isEmojiPremiumLocked(t,e,I.HzX.CHAT)?i.invalidEmojis.push(t):n||i.validNonShortcutEmojis.push(t)}));return i},parsePreprocessor:function(e,t){var n=J(e);return Q(t,n)},unparse:function(e,t,n){var r=v.Z.getChannel(t),o=null!=r?r.getGuildId():null,l=null!=o?m.Z.getGuild(o):null,a=n?Y:i().omit(Y,["spoiler","timestamp"]),s=n?$:c.ZP.translateSurrogatesToInlineEmoji,f={inline:!0,guild:l,isNotification:n};return W(u().parserFor(a)(e,f),f,s)}}},842715:(e,t,n)=>{n.d(t,{Z:()=>r});const r=(0,n(260561).B)({kind:"user",id:"2023-03_free_discord_stickers",label:"Free Default Stickers",defaultConfig:{freeStickersEnabled:!1},treatments:[{id:1,label:"Enabled",config:{freeStickersEnabled:!0}}]})},748755:(e,t,n)=>{n.d(t,{eb:()=>r,cO:()=>c,kl:()=>s});var r,i=n(563135),o=n(850841),u=n(842715),l=n(513586),a=n(2590)
;!function(e){e[e.SENDABLE=0]="SENDABLE";e[e.SENDABLE_WITH_PREMIUM=1]="SENDABLE_WITH_PREMIUM";e[e.NONSENDABLE=2]="NONSENDABLE";e[e.SENDABLE_WITH_BOOSTED_GUILD=3]="SENDABLE_WITH_BOOSTED_GUILD"}(r||(r={}));var c=function(e,t,n){if(null==t)return r.NONSENDABLE;var c=o.ZP.canUseStickersEverywhere(t);if((0,l.jl)(e)){var s=u.Z.getCurrentConfig({},{autoTrackExposure:!1}).freeStickersEnabled;return c||s?r.SENDABLE:r.SENDABLE_WITH_PREMIUM}return(0,l.J8)(e)&&null!=n?e.available?null!=n.guild_id&&""!==n.guild_id&&n.guild_id===e.guild_id?r.SENDABLE:null==n.guild_id||i.ZP.can({permission:a.Plq.USE_EXTERNAL_STICKERS,user:t,context:n})?c?r.SENDABLE:r.SENDABLE_WITH_PREMIUM:r.NONSENDABLE:r.SENDABLE_WITH_BOOSTED_GUILD:r.NONSENDABLE},s=function(e,t,n){return c(e,t,n)===r.SENDABLE}},166232:(e,t,n)=>{n.d(t,{Z:()=>C});var r=n(496486),i=n.n(r),o=n(202351),u=n(744564),l=n(747864),a=n(473419),c=n(78551),s=n(2590),f=n(131559);function d(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function y(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function v(e){v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return v(e)}function h(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function g(e,t){
return!t||"object"!==b(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e,t){m=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return m(e,t)}var b=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var i=v(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g(this,n)}}var O={pendingUsages:[]},_=(s.UF9.DAY,new l.Z({computeBonus:function(){return 100},computeWeight:function(e){var t=0;e<=3?t=100:e<=15?t=70:e<=30?t=50:e<=45?t=30:e<=80&&(t=10);return t},lookupKey:function(e){
return c.Z.getStickerById(e)},afterCompute:function(){},numFrequentlyItems:20})),S=function(){c.Z.isLoaded&&_.compute()},w=function(e){var t=e.stickerIds;null==t||t.forEach((function(e){_.track(e);O.pendingUsages.push({key:e,timestamp:Date.now()})}));S()},P=function(){S()};function I(){var e,t=null===(e=a.Z.frecencyWithoutFetchingLatest.stickerFrecency)||void 0===e?void 0:e.stickers;if(null==t)return!1;_.overwriteHistory(i().mapValues(t,(function(e){return h(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){y(e,t,n[t])}))}return e}({},e),{recentUses:e.recentUses.map(Number).filter((function(e){return e>0}))})})),O.pendingUsages)}var A=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&m(e,t)}(n,e);var t=E(n);function n(){d(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(e){this.waitFor(c.Z);null!=e&&(O=e);this.syncWith([c.Z],P);this.syncWith([a.Z],I)};r.getState=function(){return O};r.hasPendingUsage=function(){return O.pendingUsages.length>0};r.__getLocalVars=function(){return{state:O,NUM_FREQUENTLY_USED_STICKERS:20,stickerFrecency:_,recomputeStickerFrecency:S,handleStickersUsage:w,handleStickersStoreUpdate:P}};!function(e,t,n){t&&p(e.prototype,t);n&&p(e,n)}(n,[{key:"stickerFrecencyWithoutFetchingLatest",get:function(){return _}}]);return n}(o.ZP.PersistedStore);A.displayName="StickersPersistedStore";A.persistKey="StickersPersistedStoreV2";const C=new A(u.Z,{STICKER_TRACK_USAGE:w,USER_SETTINGS_PROTO_UPDATE:function(e){
var t=e.settings.type,n=e.wasSaved;if(t!==f.yP.FRECENCY_AND_FAVORITES_SETTINGS||!n)return!1;O.pendingUsages=[]}})},18882:(e,t,n)=>{n.d(t,{Z:()=>ae});var r=n(496486),i=n.n(r),o=n(842227),u=n(202351),l=n(744564),a=n(656793),c=n(382060),s=n(61209),f=n(567403),d=n(717091),p=n(715107),y=n(536945),v=n(487685),h=n(102921);function g(e){if(null==e.threadMetadata)return 0;var t=60*e.threadMetadata.autoArchiveDuration*1e3;return function(e){if(null==e.threadMetadata)return 0;var t,n=null!==(t=d.ZP.lastMessageId(e.id))&&void 0!==t?t:e.id,r=h.Z.extractTimestamp(n),i=null!=e.threadMetadata.archiveTimestamp?new Date(e.threadMetadata.archiveTimestamp).getTime():0;return Math.max(r,i)}(e)+t}var m=n(897196);function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function O(e){O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){
return e.__proto__||Object.getPrototypeOf(e)};return O(e)}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){E(e,t,n[t])}))}return e}function S(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function w(e,t){return!t||"object"!==I(t)&&"function"!=typeof t?function(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function P(e,t){P=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return P(e,t)}var I=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var i=O(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return w(this,n)}}var C={},L={},T={},Z={},N={},R={},j=null,D={};function x(){C={};N={};L={};T={};Z={};j=p.Z.getChannelId();for(var e in D)clearTimeout(D[e]);D={};y.Z.forEachGuild((function(e){M(e)}));k()}function U(e){delete C[e];delete N[e];delete L[e];delete T[e];delete Z[e];M(e)
;for(var t in T[e])F(e,t)}function M(e){var t=y.Z.getThreadsForGuild(e);for(var n in t)for(var r in t[n]){J(r);var i=s.Z.getChannel(r);if(null!=i){var o=v.Z.joinTimestamp(r);if(null!=o){var u={channel:i,joinTimestamp:o.getTime()},l=W(i),a=l.isUnread,c=l.isRelevant,f=l.isTimedRelevant;$(C,i,u,!1);$(N,i,c?u:null,!1);$(L,i,a?u:null,!1);f&&z(i,!0)}else{$(T,i,i,!1);var p=d.ZP.isForumPostUnread(i.id);$(Z,i,p?i:null,!1)}}}}function k(){R={};for(var e in T)for(var t in T[e])F(e,t)}function G(e){var t=s.Z.getBasicChannel(e);null!=t&&c.uC.has(t.type)&&F(t.guild_id,t.id)}function F(e,t){var n=s.Z.getChannel(t);if(null!=n&&n.isForumLikeChannel()){null==R[e]&&(R[e]={});R[e][t]=0;if(null!=T[e]&&null!=T[e][t]){var r=f.Z.getGuild(e);if(null!=r){var i=d.ZP.getTrackedAckMessageId(t);if(null==i){var u=Date.now();null!=r.joinedAt&&(r.joinedAt instanceof Date?u=r.joinedAt.getTime():"string"==typeof r.joinedAt&&(u=new Date(r.joinedAt).getTime()));i=o.default.fromTimestamp(u)}
for(var l in T[e][t])t===j?d.ZP.isNewForumThread(l,t,r)&&R[e][t]++:o.default.compare(l,i)>0&&!d.ZP.hasOpenedThread(l)&&R[e][t]++}}}}function q(e,t,n){if(null==t)return!1;var r=s.Z.getChannel(n),i=v.Z.joinTimestamp(n);if(null!=r&&y.Z.isActive(e,t,n)){if(null!=i){var o={channel:r,joinTimestamp:i.getTime()},u=W(r),l=u.isUnread,a=u.isRelevant,c=u.isTimedRelevant;$(C,r,o,!0);$(N,r,a?o:null,!0);$(L,r,l?o:null,!0);$(T,r,null,!0);$(Z,r,null,!0);z(r,c)}else{var f=d.ZP.isForumPostUnread(r.id);$(C,r,null,!0);$(L,r,null,!0);$(N,r,null,!0);$(T,r,r,!0);$(Z,r,f?r:null,!0);J(r.id)}F(e,t)}else{X(C,e,t,n);X(N,e,t,n);X(L,e,t,n);X(T,e,t,n);X(Z,e,t,n);J(n);F(e,t)}}function B(e){return q(e.channel.guild_id,e.channel.parent_id,e.channel.id)}function H(e,t){if(null==t)return!1;var n=C[e],r=null==n?null:n[t];if(null!=r)for(var i in r)if(r[i].channel.isNSFW())return!0;var o=T[e],u=null==o?null:o[t];if(null!=u)for(var l in u)if(u[l].isNSFW())return!0;return!1}function V(e){var t=s.Z.getChannel(e.id)
;return!(null==t||!y.Z.isActive(e.guildId,t.parent_id,e.id))&&q(t.guild_id,t.parent_id,t.id)}function Y(e){var t=s.Z.getChannel(e.channelId);if(null==t)Q();else{var n=t.guild_id,r=t.parent_id;if(!c.Ec.has(t.type)){var i;if(Number(null===(i=R[n])||void 0===i?void 0:i[t.id])>0){F(n,t.id);return!0}return!1}if(null==r)return!1;if(ee(C,t)){var o=W(t),u=o.isUnread,l=o.isRelevant;z(t,o.isTimedRelevant);var a=ee(L,t),f=ee(N,t);if(u===a&&l===f)return!1;var p=C[n][r][t.id],y=l?p:null;$(L,t,u?p:null,!0);$(N,t,y,!0);F(n,r)}else{var v=ee(Z,t),h=d.ZP.isForumPostUnread(t.id);if(h===v)return!1;$(Z,t,h?t:null,!0)}}}function Q(){L={};N={};for(var e in C)for(var t in C[e])for(var n in C[e][t]){var r=C[e][t][n],i=W(r.channel),o=i.isUnread,u=i.isRelevant,l=i.isTimedRelevant;o&&$(L,r.channel,r,!1);u&&$(N,r.channel,r,!1);z(r.channel,l)}Z={};for(var a in T)for(var c in T[a])for(var s in T[a][c]){var f=T[a][c][s];d.ZP.isForumPostUnread(s)&&$(Z,f,f,!1)}k()}function K(){var e=j
;if((j=p.Z.getChannelId())===e)return!1;G(e);G(j)}function W(e){var t=d.ZP.getMentionCount(e.id)>0,n=d.ZP.hasRelevantUnread(e)&&(!v.Z.isMuted(e.id)||t)||(0,a.c)()&&t,r=e.hasFlag(m.zZ.PINNED),i=e.isActiveThread(),o=i&&g(e)>Date.now();return{isUnread:(i||r)&&n,isRelevant:o||r||n,isTimedRelevant:o}}function z(e,t){J(e.id);t&&function(e){D[e.id]=setTimeout((function(){var t=s.Z.getChannel(e.id);null!=t&&l.Z.dispatch({type:"THREAD_UPDATE",channel:t})}),g(e)-Date.now()+1)}(e)}function J(e){if(e in D){clearTimeout(D[e]);delete D[e]}}function $(e,t,n,r){var o=t.guild_id,u=t.parent_id,l=t.id;if(null!=o&&null!=u&&null!=l){o in e||(e[o]={});u in e[o]||(e[o][u]={});r&&(e[o]=S(_({},e[o]),E({},u,_({},e[o][u]))));if(null===n){delete e[o][u][l];i().isEmpty(e[o][u])&&delete e[o][u]}else e[o][u][l]=n}}function X(e,t,n,r){if(null!=t&&null!=n&&null!=r&&te(e,t,n,r)){e[t]=S(_({},e[t]),E({},n,_({},e[t][n])));delete e[t][n][r];i().isEmpty(e[t][n])&&delete e[t][n]}}function ee(e,t){
return te(e,t.guild_id,t.parent_id,t.id)}function te(e,t,n,r){return t in e&&n in e[t]&&r in e[t][n]}var ne={},re={},ie={},oe={},ue={},le=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&P(e,t)}(n,e);var t=A(n);function n(){b(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(y.Z,s.Z,v.Z,d.ZP);this.syncWith([p.Z],K)};r.hasActiveJoinedUnreadThreads=function(e,t){return e in L&&t in L[e]};r.getActiveUnjoinedThreadsForParent=function(e,t){var n;return e in T&&null!==(n=T[e][t])&&void 0!==n?n:oe};r.getActiveJoinedThreadsForParent=function(e,t){var n;return e in C&&null!==(n=C[e][t])&&void 0!==n?n:ie};r.getActiveJoinedThreadsForGuild=function(e){var t;return null!==(t=C[e])&&void 0!==t?t:ne};r.getActiveJoinedUnreadThreadsForGuild=function(e){var t
;return null!==(t=L[e])&&void 0!==t?t:ne};r.getActiveJoinedUnreadThreadsForParent=function(e,t){var n;return null!==(n=this.getActiveJoinedUnreadThreadsForGuild(e)[t])&&void 0!==n?n:ie};r.getActiveJoinedRelevantThreadsForGuild=function(e){var t;return null!==(t=N[e])&&void 0!==t?t:ne};r.getActiveJoinedRelevantThreadsForParent=function(e,t){var n;return null!==(n=this.getActiveJoinedRelevantThreadsForGuild(e)[t])&&void 0!==n?n:ie};r.getActiveUnjoinedThreadsForGuild=function(e){var t;return null!==(t=T[e])&&void 0!==t?t:re};r.getActiveUnjoinedUnreadThreadsForGuild=function(e){var t;return null!==(t=Z[e])&&void 0!==t?t:ne};r.getActiveUnjoinedUnreadThreadsForParent=function(e,t){var n;return null!==(n=this.getActiveUnjoinedUnreadThreadsForGuild(e)[t])&&void 0!==n?n:ie};r.getNewThreadCountsForGuild=function(e){var t;return null!==(t=R[e])&&void 0!==t?t:ue};r.computeAllActiveJoinedThreads=function(e){var t=[]
;for(var n in C)if(n===e||null==e)for(var r in C[n])for(var i in C[n][r])t.push(C[n][r][i].channel);return t};r.getNewThreadCount=function(e,t){var n,r;return null!==(r=null===(n=R[e])||void 0===n?void 0:n[t])&&void 0!==r?r:0};r.getActiveThreadCount=function(e,t){var n,r,o,u;return i().size(null!==(o=null===(n=C[e])||void 0===n?void 0:n[t])&&void 0!==o?o:{})+i().size(null!==(u=null===(r=T[e])||void 0===r?void 0:r[t])&&void 0!==u?u:{})};r.__getLocalVars=function(){return{activeJoinedThreads:C,activeJoinedUnreadThreads:L,activeUnjoinedThreads:T,activeUnjoinedUnreadThreads:Z,activeJoinedRelevantThreads:N,newThreadCounts:R,selectedChannelId:j,timers:D,NO_GUILD_UNJOINED_THREADS:re,NO_JOINED_THREADS:ie,NO_UNJOINED_THREADS:oe,NO_NEW_THREADS:ue}};return n}(u.ZP.Store);le.displayName="ActiveJoinedThreadsStore";const ae=new le(l.Z,{CONNECTION_OPEN:x,OVERLAY_INITIALIZE:x,THREAD_LIST_SYNC:function(e){return U(e.guildId)},LOAD_THREADS_SUCCESS:x,LOAD_ARCHIVED_THREADS_SUCCESS:x,SEARCH_FINISH:x,
GUILD_CREATE:function(e){return U(e.guild.id)},GUILD_DELETE:x,CURRENT_USER_UPDATE:x,THREAD_CREATE:B,THREAD_UPDATE:B,THREAD_DELETE:B,CHANNEL_UPDATES:function(e){var t=e.channels,n=!0,r=!1,i=void 0;try{for(var o,u=t[Symbol.iterator]();!(n=(o=u.next()).done);n=!0){var l=o.value;if(l.isNSFW()!==H(l.guild_id,l.parent_id)){x();return}}}catch(e){r=!0;i=e}finally{try{n||null==u.return||u.return()}finally{if(r)throw i}}return!1},CHANNEL_DELETE:function(e){var t=e.channel,n=!1;if(null!=t.guild_id&&null!=t.parent_id){if(t.guild_id in C&&t.parent_id in C[t.guild_id]){delete C[t.guild_id][t.parent_id];n=!0}if(t.guild_id in L&&t.parent_id in L[t.guild_id]){delete L[t.guild_id][t.parent_id];n=!0}if(t.guild_id in N&&t.parent_id in N[t.guild_id]){Object.keys(N[t.guild_id][t.parent_id]).forEach(J);delete N[t.guild_id][t.parent_id];n=!0}if(t.guild_id in T&&t.parent_id in T[t.guild_id]){delete T[t.guild_id][t.parent_id];n=!0}if(t.guild_id in Z&&t.parent_id in Z[t.guild_id]){
delete Z[t.guild_id][t.parent_id];n=!0}n&&F(t.guild_id,t.parent_id)}return n},THREAD_MEMBER_UPDATE:V,THREAD_MEMBERS_UPDATE:V,LOAD_MESSAGES_SUCCESS:Y,MESSAGE_CREATE:Y,MESSAGE_DELETE:Y,MESSAGE_DELETE_BULK:Y,MESSAGE_ACK:Y,CHANNEL_ACK:Y,CHANNEL_LOCAL_ACK:Y,CHANNEL_SELECT:function(e){Y(e);K()},PASSIVE_UPDATE_V1:function(e){null!=e.channels&&Q()},WINDOW_FOCUS:Q,UPDATE_CHANNEL_DIMENSIONS:Q,DRAWER_OPEN:Q,DRAWER_CLOSE:Q,BULK_ACK:Q})},770819:(e,t,n)=>{n.d(t,{Z:()=>ne});var r=n(824390),i=n.n(r),o=n(496486),u=n.n(o),l=n(730381),a=n.n(l),c=n(202351),s=n(744564),f=n(944751),d=n(384411),p=n(476020),y=n(959207),v=n(761814),h=n(671723),g=n(793461),m=n(575136),b=n(276433),E=n(713094),O=n(454708),_=n(295652),S=n(72580),w=n(954419),P=n(120415),I=n(310126),A=n(499542),C=n(623663),L=n(2590);function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){
for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function R(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function j(e){j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return j(e)}function D(e,t){return!t||"object"!==M(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function x(e,t){x=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return x(e,t)}function U(e){return function(e){if(Array.isArray(e))return T(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var M=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=j(e);if(t){var i=j(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return D(this,n)}}var G,F=a()().subtract(1,"week"),q=[],B="",H=!1;function V(e,t){
return e.application.name.localeCompare(t.application.name,d.default.locale,{sensitivity:"base"})}function Y(e,t){return null!=e&&(a()(e.createdAt).isAfter(F)&&0===t)}var Q=(R(G={},L.iEv.NAME,V),R(G,L.iEv.PLATFORM,(function(e,t,n){var r=e.libraryApplication.getDistributor(),i=t.libraryApplication.getDistributor();return r===i?(n===L.sHY.DESCENDING?-1:1)*V(e,t):null==r?1:null==i?-1:r.localeCompare(i)})),R(G,L.iEv.LAST_PLAYED,(function(e,t){return e.isNew&&!t.isNew?-1:!e.isNew&&t.isNew?1:e.lastPlayed===t.lastPlayed?0:e.lastPlayed>t.lastPlayed?-1:1})),R(G,L.iEv.ACTIONS,null),G),K=(0,_.oH)((function(e){return e.filter((function(e){return null!=e.libraryApplication&&e.shouldShowInLibrary}))})),W=(0,_.oH)((function(e){return e.filter((function(e){return null!=e.libraryApplication&&E.Z.isLaunchable(e.libraryApplication.id,e.libraryApplication.branchId)}))})),z=(0,_.oH)((function(e,t){return e.filter((function(e){return i()(t.toLowerCase(),e.application.name.toLowerCase())}))})),J=(0,
_.oH)((function(e,t,n,r){var i=Q[t];if(null==i)return e;var o=U(e).sort(i);return n===L.sHY.DESCENDING?o.reverse():o})),$=(0,_.oH)((function(e){return e.filter((function(e){return null!=e.libraryApplication&&e.libraryApplication.isHidden()}))}));function X(e,t){var n=m.Z.getCurrentUserStatisticsForApplication(e.id);if(null!=n)return new Date(n.last_played_at).getTime();var r=t[e.id];return null!=r?r:0}function ee(){var e=new Set(h.ZP.getRunningVerifiedApplicationIds()),t={},n=new Set,r=h.ZP.getGamesSeen(!1,!1).map((function(e){var n=y.Z.getGameByGameData(e);if(null!=n){t[n.id]=1e3*e.lastFocused;return n.id}return null})),i=Object.values(v.Z.getAllLibraryApplications()).map((function(r){return function(e,t,n,r,i){if(!i&&t.has(e.id))return null;var o=y.Z.getGame(e.id);if(null==o)return null;var u=X(o,n);t.add(e.id);return(0,w.Je)(e)||E.Z.isInstalled(e.id,e.branchId)?{key:"".concat(e.id,"-").concat(e.branchId),application:o,libraryApplication:e,lastPlayed:u,
supportsCloudSync:null!=e&&E.Z.supportsCloudSync(e.id,e.branchId),isNew:Y(e,u),isLaunching:f.Z.launchingGames.has(e.id),isRunning:r.has(e.id),isLaunchable:(0,A.t)({LibraryApplicationStore:v.Z,LaunchableGameStore:f.Z,DispatchApplicationStore:E.Z,ConnectedAppsStore:p.Z,applicationId:e.id,branchId:e.branchId}),isUpdatingFlags:v.Z.isUpdatingFlags(e.id,e.branchId),shouldShowInLibrary:(0,w.d0)(o,e,g.Z),defaultAction:(0,C.i)(e,E.Z,O.Z)}:null}(r,n,t,e,!0)})).filter(S.lm),o=r.map((function(r){return function(e,t,n,r){var i=null!=e?y.Z.getGame(e):null;if(null==i||null==e||t.has(e))return null;var o=X(i,n);t.add(e);return{key:e,application:i,lastPlayed:o,supportsCloudSync:!1,isNew:!1,isLaunching:f.Z.launchingGames.has(e),isRunning:r.has(e),isLaunchable:(0,A.t)({LibraryApplicationStore:v.Z,LaunchableGameStore:f.Z,DispatchApplicationStore:E.Z,ConnectedAppsStore:p.Z,applicationId:e,branchId:null}),isUpdatingFlags:!1,shouldShowInLibrary:!1,libraryApplication:null,defaultAction:null}}(r,n,t,e)
})).filter(S.lm),l=U(o).concat(U(i)).sort((function(e,t){return e.lastPlayed===t.lastPlayed?0:e.lastPlayed>t.lastPlayed?-1:1}));H=null!=y.Z.lastFetched&&v.Z.fetched;if(u().isEqual(l,q))return!1;q=l;P.FB&&I.default.setSystemTrayApplications(W(q).map((function(e){return e.application})).slice(0,5));return!0}var te=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&x(e,t)}(n,e);var t=k(n);function n(){Z(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.syncWith([y.Z,f.Z,h.ZP,E.Z,O.Z,v.Z,m.Z,g.Z,p.Z],ee,200);this.syncWith([b.Z,d.default],(function(){return!0}))};r.__getLocalVars=function(){return{MAX_SYSTEM_TRAY_ITEMS:5,NEW_GAME_THRESHOLD:F,applicationViewItems:q,applicationFilterQuery:B,hasFetchedApplications:H,SORT_FUNCTIONS:Q,getLibraryApplicationViewItems:K,
getLaunchableApplicationViewItems:W,getFilteredLibraryApplicationViewItems:z,getSortedFilteredLibraryApplicationViewItems:J,getHiddenLibraryApplicationViewItems:$}};!function(e,t,n){t&&N(e.prototype,t);n&&N(e,n)}(n,[{key:"applicationFilterQuery",get:function(){return B}},{key:"applicationViewItems",get:function(){return q}},{key:"launchableApplicationViewItems",get:function(){return W(q)}},{key:"libraryApplicationViewItems",get:function(){return K(q)}},{key:"filteredLibraryApplicationViewItems",get:function(){return z(this.libraryApplicationViewItems,B)}},{key:"sortedFilteredLibraryApplicationViewItems",get:function(){return J(this.filteredLibraryApplicationViewItems,b.Z.sortKey,b.Z.sortDirection,d.default.locale)}},{key:"hiddenLibraryApplicationViewItems",get:function(){return $(q)}},{key:"hasFetchedApplications",get:function(){return H}}]);return n}(c.ZP.Store);te.displayName="ApplicationViewStore";const ne=new te(s.Z,{LIBRARY_APPLICATION_FILTER_UPDATE:function(e){var t=e.query;B=t}
})},623663:(e,t,n)=>{n.d(t,{i:()=>o});var r=n(499542),i=n(2590);function o(e,t,n){var o=t.getState(e.id,e.branchId),u=n.getQueuePosition(e.id,e.branchId),l=n.paused;if(null!=o){if(null==u||-1===u)switch(o.type){case i.vxO.INSTALLING:return i.apO.INSTALL;case i.vxO.UPDATING:case i.vxO.UPDATE_REQUIRED:return i.apO.UPDATE}switch(o.type){case i.vxO.INSTALLING:case i.vxO.UPDATING:case i.vxO.UPDATE_REQUIRED:case i.vxO.REPAIRING:return u>0?i.apO.MOVE_UP:l?i.apO.RESUME:i.apO.PAUSE;case i.vxO.UP_TO_DATE:return i.apO.PLAY;case i.vxO.UNINSTALLING:return null}}return null!=u&&u>0?i.apO.MOVE_UP:(0,r.Q)()?i.apO.INSTALL:null}},276433:(e,t,n)=>{n.d(t,{Z:()=>w});var r=n(496486),i=n.n(r),o=n(202351),u=n(630631),l=n(744564),a=n(2590);function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function f(e){
f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return f(e)}function d(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e,t){p=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return p(e,t)}var y=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d(this,n)}}
var h,g="GameLibraryViewStore",m=a.sHY.ASCENDING,b=a.iEv.LAST_PLAYED,E=!1,O=i().debounce((function(){E=!1;S.emitChange()}),200);var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&p(e,t)}(n,e);var t=v(n);function n(){c(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){var e,t=null!==(e=u.Z.get(g))&&void 0!==e?e:{};if(null!=t.sortDirection&&null!=t.sortKey){m=t.sortDirection;b=t.sortKey}};r.__getLocalVars=function(){return{STORAGE_KEY:g,DISABLE_MOUSE_TIMEOUT:200,sortDirection:m,sortKey:b,activeRowKey:h,isNavigatingByKeyboard:E,disableKeyboardMode:O,storeInstance:S}};!function(e,t,n){t&&s(e.prototype,t);n&&s(e,n)}(n,[{key:"sortDirection",get:function(){return m}},{key:"sortKey",get:function(){return b}},{key:"activeRowKey",get:function(){return h}},{
key:"isNavigatingByKeyboard",get:function(){return E}}]);return n}(o.ZP.Store);_.displayName="GameLibraryViewStore";var S=new _(l.Z,{LIBRARY_TABLE_SORT_UPDATE:function(e){var t=e.direction,n=e.key;m=t;b=n;u.Z.set(g,{sortDirection:m,sortKey:b})},LIBRARY_TABLE_ACTIVE_ROW_ID_UPDATE:function(e){var t=e.key;if(e.isKeyboardEvent){E=!0;O()}h=t}});const w=S},504275:(e,t,n)=>{n.d(t,{k1:()=>ce,ZP:()=>be});var r=n(824390),i=n.n(r),o=n(496486),u=n.n(o),l=n(429750),a=n(773011),c=n(61209),s=n(2590);function f(e){if(null==e.parent_id)return e.type===s.d4z.GUILD_CATEGORY?1e3*(e.position+1):e.position;var t,n,r=1e3*((null!==(n=null===(t=c.Z.getChannel(e.parent_id))||void 0===t?void 0:t.position)&&void 0!==n?n:0)+1);return e.isGuildVocal()?r+e.position+500:r+e.position}function d(e,t){var n,r;if(e.score!==t.score)return t.score-e.score;var i,o,u=f(e.record),l=f(t.record);if(u!==l)return u-l
;var a,c,s=null!==(o=null!==(i=e.sortable)&&void 0!==i?i:null===(n=e.comparator)||void 0===n?void 0:n.toLocaleLowerCase())&&void 0!==o?o:"",d=null!==(c=null!==(a=e.sortable)&&void 0!==a?a:null===(r=t.comparator)||void 0===r?void 0:r.toLocaleLowerCase())&&void 0!==c?c:"";return s<d?-1:s>d?1:0}var p=n(296602),y=n(489617),v=n(433932),h=n(977997),g=n(848465),m=n(748755),b=n(166232),E=n(78551),O=n(514351),_=n(18882),S=n(917019),w=n(382060),P=n(722406),I=n(5544),A=n(21372),C=n(567403),L=n(352980),T=n(682776),Z=n(491260),N=n(840922),R=n(715107),j=n(464187),D=n(473903),x=n(746974),U=n(72580),M=n(607556),k=n(563135),G=n(968696),F=n(421281),q=n(749565),B=n(499477),H=n(897196),V=n(473708);function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Q(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function K(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function W(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],u=!0,l=!1;try{for(n=n.call(e);!(u=(r=n.next()).done);u=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){l=!0;i=e}finally{try{u||null==n.return||n.return()}finally{if(l)throw i}}return o}}(e,t)||J(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()
}function z(e){return function(e){if(Array.isArray(e))return Y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||J(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e,t){if(e){if("string"==typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Y(e,t):void 0}}var $,X=new p.Z("AutocompleteUtils"),ee=10,te=function(){return!0},ne=/(\t|\s)/,re=[],ie=($=n(625747).Z).MENTION_EVERYONE,oe=$.MENTION_HERE,ue=$.MENTION_CLYDE,le=$.LAUNCHABLE_APPLICATIONS;function ae(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return 1e3*e*(null!=t?t:1)}
var ce=[I.sH,I.Zb,s.d4z.GUILD_CATEGORY];function se(e,t){return e.split(/(?:,| )+/).every((function(e){return new RegExp(G.Z.escape(e),"i").test(t)}))}function fe(e,t){var n=t.exactQuery,r=t.containQuery,o=t.queryLower,u=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];try{if(n.test(e))return e.toLocaleLowerCase()===o?ee:7;if(r.test(e))return 5;if(se(o,e))return 3;if(u&&i()(o,e))return 1}catch(e){X.error(e)}return 0}function de(e){return null!=(null==e?void 0:e.joinedAt)&&!e.isPending}function pe(e){for(var t=e.query,n=e.members,r=e.limit,o=e.filter,u=D.default.getUsers(),a=j.Z.getGuildId(),c=t.toLocaleLowerCase(),s=(0,F.Fv)(c),f=[],d=[],p=n.length,y=0,v=0;y<p;){var h,g=n[y],m=void 0,b=void 0;if(g instanceof P.Z){var E;b=g;m=null===(E=A.ZP.getNick(a,b.id))||void 0===E?void 0:E.toLocaleLowerCase()}else{var O;m=null===(O=g.nick)||void 0===O?void 0:O.toLocaleLowerCase();b=u[g.userId]}var _=null===(h=q.ZP.getGlobalName(b))||void 0===h?void 0:h.toLocaleLowerCase()
;if(null==o||o(b)){var S=b.username.toLocaleLowerCase(),w=(0,F._I)(S),I=(0,F.Fv)(w),C=null!=m?(0,F._I)(m):null,L=null!=C?(0,F.Fv)(C):null,T=null!=_?(0,F._I)(_):null,Z=null!=T?(0,F.Fv)(T):null;if(S.substring(0,c.length)===c||w.substring(0,c.length)===c||(null==m?void 0:m.substring(0,c.length))===c||(null==C?void 0:C.substring(0,c.length))===c||(null==_?void 0:_.substring(0,c.length))===c||(null==T?void 0:T.substring(0,c.length))===c){var N,R;f.push({type:B.h8.USER,record:b,score:ee,comparator:null!==(N=null!=_?_:m)&&void 0!==N?N:S,sortable:null!==(R=null!=T?T:C)&&void 0!==R?R:w})}else if(I.substring(0,s.length)===s||(null==L?void 0:L.substring(0,s.length))===s||(null==Z?void 0:Z.substring(0,s.length))===s){var x,U;f.push({type:B.h8.USER,record:b,score:1,comparator:null!==(x=null!=_?_:m)&&void 0!==x?x:S,sortable:null!==(U=null!=T?T:C)&&void 0!==U?U:w})}else if(v<50&&(i()(c,w)||i()(s,I)||null!=C&&i()(c,C)||null!=L&&i()(s,L)||null!=T&&i()(c,T)||null!=Z&&i()(s,Z))){var M,k;d.push({
type:B.h8.USER,record:b,score:1,comparator:null!==(M=null!=_?_:m)&&void 0!==M?M:S,sortable:null!==(k=null!=T?T:C)&&void 0!==k?k:w});v+=1}}y+=1}f.sort(l.Z);if(f.length<r){d.sort(l.Z);f=f.concat(d.slice(0,Math.max(0,r-f.length)))}f.length>r&&(f.length=r);return f}function ye(e){switch(e){case O.MO.STICKER_NAME:return 11;case O.MO.CORRELATED_EMOJI:return 6;case O.MO.TAG:return 1;case O.MO.GUILD_NAME:case O.MO.PACK_NAME:return 8;default:return 1}}function ve(e,t,n){var r=0,i=null,o=!0,u=!1,l=void 0;try{for(var a,c=t[Symbol.iterator]();!(o=(a=c.next()).done);o=!0){var s=a.value,f=fe(e,s,n);if(f>r){r=f;i=s}}}catch(e){u=!0;l=e}finally{try{o||null==c.return||c.return()}finally{if(u)throw l}}null!=i&&(i.isFullMatch?t.length=0:t.splice(t.indexOf(i),1));return r}function he(e,t){if(null!=e.guild_id){var n=t[e.guild_id];if(null==n){var r;n=t[e.guild_id]=null===(r=C.Z.getGuild(e.guild_id))||void 0===r?void 0:r.toString().toLocaleLowerCase()}return n}}function ge(e,t){if(null!=e.parent_id){
var n=t[e.parent_id];if(null==n){var r;n=t[e.parent_id]=null===(r=c.Z.getChannel(e.parent_id))||void 0===r?void 0:r.name.toLocaleLowerCase()}return n}}function me(e,t){var n=c.Z.getChannel(e);return null==e||null==n?[]:u()(L.Z.getMessages(e).toArray()).reverse().uniqBy((function(e){return e.author.id})).map((function(e){return D.default.getUser(e.author.id)})).filter((function(e){if(null==e)return!1;if(e.isNonUserBot())return!1;var t=n.getGuildId();return null==t||de(A.ZP.getMember(t,e.id))})).map((function(e){var t,r=n.getGuildId(),i=null!=r?A.ZP.getMember(r,e.id):null;return{type:B.h8.USER,record:e,score:0,comparator:null!==(t=null==i?void 0:i.nick)&&void 0!==t?t:q.ZP.getName(e)}})).take(t).value()}const be={queryFriends:function(e){var t=e.query,n=e.limit,r=void 0===n?10:n,i=(e._fuzzy,e.filter);return pe({query:t,members:N.Z.getFriendIDs().map((function(e){return D.default.getUser(e)})).filter(U.lm),limit:r,filter:i})},queryDMUsers:function(e){
var t=e.query,n=e.limit,r=void 0===n?10:n,i=e.filter;return pe({query:t,members:c.Z.getDMUserIds().map((function(e){return D.default.getUser(e)})).filter(U.lm),limit:r,filter:i})},queryChannelUsers:function(e){var t=e.channelId,n=e.query,r=e.limit,i=void 0===r?10:r,o=e.request,u=void 0===o||o,l=e.checkRecentlyTalkedOnEmptyQuery,a=void 0===l||l,f=c.Z.getChannel(t);if(null==f)return[];var d,p=f.isThread()?c.Z.getChannel(f.parent_id):null,y=null!=p?p:f;if(null==y)return[];if(y.isPrivate()){var v;d=y.recipients.map((function(e){return{userId:e,nick:null!==(v=N.Z.getNickname(e))&&void 0!==v?v:null}}));var h=D.default.getCurrentUser();null!=h&&d.push({userId:h.id,nick:null})}else{if(0===n.length&&a){var g=me(f.id,i);if(g.length>0)return g}d=A.ZP.getMembers(y.guild_id).filter(de);u&&M.Z.requestMembers(y.guild_id,n,i)}return pe({query:n,members:d,limit:i,filter:function(e){return y.isPrivate()||k.ZP.can({permission:s.Plq.VIEW_CHANNEL,user:e,context:y})}})},queryGuildUsers:function(e){
var t=e.guildId,n=e.query,r=e.limit,i=void 0===r?10:r,o=e.request,u=void 0===o||o,l=e.checkRecentlyTalkedOnEmptyQuery,a=void 0===l||l,c=e.filter;if(null==C.Z.getGuild(t))return[];if(0===n.length&&a){var s=me(R.Z.getChannelId(t),i);if(s.length>0)return s}var f=A.ZP.getMembers(t).filter(de);u&&n.length>0&&M.Z.requestMembers(t,n,i);return pe({query:n,members:f,limit:i,filter:c})},queryUsers:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=arguments.length>4?arguments[4]:void 0;n&&e.length>0&&M.Z.requestMembers(null,e,t);return pe({query:e,members:u()(D.default.getUsers()).values().value(),limit:t,filter:r})},queryChannels:function(e){
var t,n=e.query,r=e.guildId,i=e.limit,o=void 0===i?s.rnv:i,f=e.fuzzy,d=void 0===f||f,p=e.filter,y=void 0===p?te:p,v=e.type,h=void 0===v?I.sH:v,g=e.allowEmptyQueries,m=void 0!==g&&g,b=e.requireVocalConnectAccess,E=void 0===b||b,O=e.boosters,S=void 0===O?{}:O,P=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.split(" ").filter((function(e){return""!==e||t})).map((function(e){var t=e.toLocaleLowerCase();return{queryLower:t,exactQuery:new RegExp("^".concat(G.Z.escape(t)),"i"),containQuery:new RegExp(G.Z.escape(t),"i"),isFullMatch:!1}}));if(e.includes(" ")){var r=e.toLocaleLowerCase();n.unshift({queryLower:r,exactQuery:new RegExp("^".concat(G.Z.escape(r).replace(" ","( |-)")),"i"),containQuery:new RegExp(G.Z.escape(r).replace(" ","( |-)"),"i"),isFullMatch:!0})}return n}(n,m);t=null!=r?u()(I.ZP.getChannels(r)[h]).map((function(e){return e.channel
})).concat(_.Z.computeAllActiveJoinedThreads(r)).value():u()(c.Z.loadAllGuildAndPrivateChannelsFromDisk()).values().concat(_.Z.computeAllActiveJoinedThreads()).value();var A,C,L,Z={},R=[],j=!0,x=!1,U=void 0;try{for(var M,k=t[Symbol.iterator]();!(j=(M=k.next()).done);j=!0){var F=M.value;if((A=h,C=F.type,L=null!=r,A===C||(L||(0,w.Km)(C))&&(A===I.sH?(0,w.r8)(C):A===I.Zb&&(0,w.bw)(C)))&&(!(0,w.Km)(F.type)||T.Z.can(E?F.accessPermissions:s.Plq.VIEW_CHANNEL,F))&&y(F)){var q=z(P),H=F.name.toLocaleLowerCase(),V=ve(H,q,d);if(0!==V){if(q.length>0){for(var Y=0,Q=[he(F,Z),ge(F,Z)];Y<Q.length;Y++){var K=Q[Y];if(null!=K&&""!==K){var W=ve(K,q,!1);0!==W&&(V+=.5*W)}}V=Math.min(9,V)}0===V||q.length>1||1===q.length&&!q[0].isFullMatch||R.push({type:(0,w.bw)(F.type)?B.h8.VOICE_CHANNEL:B.h8.TEXT_CHANNEL,record:F,score:ae(V,S[F.id]),comparator:(0,a.F6)(F,D.default,N.Z),sortable:H})}}}}catch(e){x=!0;U=e}finally{try{j||null==k.return||k.return()}finally{if(x)throw U}}R.sort(l.Z);R.length>o&&(R.length=o)
;return R},queryGuilds:function(e){var t=e.query,n=e.limit,r=void 0===n?10:n,i=e.fuzzy,o=void 0===i||i,a=e.filter,c=void 0===a?te:a,s=e.boosters,f=void 0===s?{}:s,d=""===t?"":t.toLocaleLowerCase(),p={exactQuery:new RegExp("^".concat(G.Z.escape(d)),"i"),containQuery:new RegExp(G.Z.escape(d),"i"),queryLower:d},y=[],v=u()(C.Z.getGuilds()).values().value(),h=!0,g=!1,m=void 0;try{for(var b,E=v[Symbol.iterator]();!(h=(b=E.next()).done);h=!0){var O=b.value;if(c(O)){var _=O.name.toLocaleLowerCase(),S=fe(_,p,o);S>0&&y.push({type:B.h8.GUILD,record:O,score:ae(S,f[O.id]),comparator:O.toString(),sortable:_})}}}catch(e){g=!0;m=e}finally{try{h||null==E.return||E.return()}finally{if(g)throw m}}y.sort(l.Z);y.length>r&&(y.length=r);return y},queryGroupDMs:function(e){var t=e.query,n=e.limit,r=void 0===n?10:n,i=e.fuzzy,o=void 0===i||i,s=e.filter,f=void 0===s?te:s,d=e.boosters,p=void 0===d?{}:d,y=t.toLocaleLowerCase(),v={exactQuery:new RegExp("^".concat(G.Z.escape(y)),"i"),
containQuery:new RegExp(G.Z.escape(y),"i"),queryLower:y},h=u()(c.Z.getMutablePrivateChannels()).values().value(),g=[],m=!0,b=!1,E=void 0;try{for(var O,_=h[Symbol.iterator]();!(m=(O=_.next()).done);m=!0){var S=O.value;if(S.isMultiUserDM()&&f(S)){var w=(0,a.F6)(S,D.default,N.Z).toLocaleLowerCase(),P=fe(w,v,o);P>0&&g.push({type:B.h8.GROUP_DM,record:S,score:ae(P,p[S.id]),comparator:(0,a.F6)(S,D.default,N.Z),sortable:w})}}}catch(e){b=!0;E=e}finally{try{m||null==_.return||_.return()}finally{if(b)throw E}}g.sort(l.Z);g.length>r&&(g.length=r);return g},queryApplications:function(e){var t=e.query,n=e.limit,r=void 0===n?10:n,i=e.fuzzy,o=void 0===i||i,u=e.filter,a=void 0===u?te:u,c=t.toLocaleLowerCase(),s={exactQuery:new RegExp("^".concat(G.Z.escape(c)),"i"),containQuery:new RegExp(G.Z.escape(c),"i"),queryLower:c},f=le(),d=[],p=!0,y=!1,v=void 0;try{for(var h,g=f[Symbol.iterator]();!(p=(h=g.next()).done);p=!0){var m=h.value.application;if(a(m)){var b=m.name.toLocaleLowerCase(),E=fe(b,s,o)
;E>0&&d.push({type:B.h8.APPLICATION,record:m,score:E,comparator:m.name,sortable:b})}}}catch(e){y=!0;v=e}finally{try{p||null==g.return||g.return()}finally{if(y)throw v}}d.sort(l.Z);d.length>r&&(d.length=r);return d},querySKUs:function(e){var t=e.query,n=e.limit,r=void 0===n?10:n,i=e.fuzzy,o=void 0===i||i,a=e.filter,c=void 0===a?te:a,f=t.toLocaleLowerCase(),d={exactQuery:new RegExp("^".concat(G.Z.escape(f)),"i"),containQuery:new RegExp(G.Z.escape(f),"i"),queryLower:f},p=u()(x.Z.getSKUs()).values().value(),y=[],v=!0,h=!1,g=void 0;try{for(var m,b=p[Symbol.iterator]();!(v=(m=b.next()).done);v=!0){var E=m.value;if(E.type===s.epS.DURABLE_PRIMARY&&c(E)){var O=E.name.toLocaleLowerCase(),_=fe(O,d,o);_>0&&y.push({type:B.h8.SKU,record:E,score:_,comparator:E.name,sortable:O})}}}catch(e){h=!0;g=e}finally{try{v||null==b.return||b.return()}finally{if(h)throw g}}y.sort(l.Z);y.length>r&&(y.length=r);return y},getRecentlyTalked:me,queryMentionResults:function(e){
var t=e.query,n=e.channel,r=e.canMentionEveryone,o=void 0!==r&&r,l=e.canMentionHere,a=void 0===l||l,c=e.canMentionUsers,f=void 0===c||c,d=e.canMentionRoles,p=void 0===d||d,y=e.canMentionClyde,v=void 0!==y&&y,h=e.includeAllGuildUsers,g=void 0!==h&&h,m=e.includeNonMentionableRoles,b=void 0!==m&&m,E=e.checkRecentlyTalkedOnEmptyQuery,O=void 0===E||E,_=e.limit,S=void 0===_?s.rnv:_,w=e.request,P=f?(g&&null!=n.guild_id?this.queryGuildUsers({guildId:n.guild_id,query:t,limit:S,checkRecentlyTalkedOnEmptyQuery:O,request:w}):this.queryChannelUsers({channelId:n.id,query:t,limit:S,checkRecentlyTalkedOnEmptyQuery:O})).map((function(e){var t=e.record;return{user:t,score:e.score,comparator:e.comparator,nick:A.ZP.getNick(n.guild_id,t.id),status:Z.Z.getStatus(t.id)}})):[],I=P.length,L=t.toLowerCase(),T=[];if(I<S&&p){var N=n.getGuildId(),R=C.Z.getGuild(N);if(null!=R){u()(R.roles).filter((function(e){var t=e.mentionable,n=e.name,r=e.id;return(t||o||b)&&i()(L,n.toLowerCase())&&r!==N
})).take(S-I).forEach((function(e){T.push(e)}));I+=T.length}}var j=[];if(!n.isPrivate()&&o&&p){if(I<S&&i()(L,ie().test)){j.push(ie());I+=1}a&&I<S&&i()(L,oe().test)&&j.push(oe())}v&&i()(L,ue().test)&&j.push(ue());return{users:P,globals:j,roles:T}},queryGuildMentionResults:function(e){var t=e.query,n=e.guildId,r=e.canMentionEveryone,o=void 0!==r&&r,l=e.canMentionUsers,a=void 0===l||l,c=e.canMentionRoles,f=void 0===c||c,d=e.canMentionNonMentionableRoles,p=void 0!==d&&d,y=a?this.queryGuildUsers({guildId:n,query:t}).map((function(e){return K(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Q(e,t,n[t])}))}return e}({},e),{status:Z.Z.getStatus(e.record.id)})})):[],v=y.length,h=t.toLowerCase(),g=[];if(v<s.rnv&&f){var m=C.Z.getGuild(n)
;if(null!=m){u()(m.roles).filter((function(e){var t=e.mentionable,r=e.name,u=e.id;return(t||o||p)&&i()(h,r.toLowerCase())&&u!==n})).take(s.rnv-v).forEach((function(e){g.push(e)}));v+=g.length}}var b=[];if(o&&f){if(v<s.rnv&&i()(h,ie().test)){b.push(ie());v+=1}v<s.rnv&&i()(h,oe().test)&&b.push(oe());b.push(ue())}return{users:y,globals:b,roles:g}},queryChoice:function(e){var t=e.query,n=e.choices,r=e.limit,i=void 0===r?10:r,o=e.fuzzy,l=void 0===o||o,a=t.toLocaleLowerCase(),c=new RegExp("^".concat(G.Z.escape(a)),"i"),s=new RegExp(G.Z.escape(a),"i"),f=u()(n).map((function(e){var t=fe(e.displayName.toLocaleLowerCase(),{exactQuery:c,containQuery:s,queryLower:a},l);return t>0?{choice:e,score:t}:null})).filter(U.lm).sortBy((function(e){return-1*e.score}));null!==i&&(f=f.take(i));return f.value()},queryStaticRouteChannels:function(e){var t=e.query,n=e.guild,r=t.toLocaleLowerCase(),i={exactQuery:new RegExp("^".concat(G.Z.escape(r)),"i"),containQuery:new RegExp(G.Z.escape(r),"i"),queryLower:r
},o=((0,v.YM)(n.id)||(0,g.s)(n.id))&&!n.hasFeature(s.oNc.HUB),u=n.hasFeature(s.oNc.COMMUNITY),l=(0,h.t)(n)&&n.hasFeature(s.oNc.COMMUNITY),a=[{id:H.HY.SERVER_GUIDE,name:V.Z.Messages.SERVER_GUIDE},{id:H.HY.CHANNEL_BROWSER,name:V.Z.Messages.CHANNEL_BROWSER_TITLE},{id:H.HY.CUSTOMIZE_COMMUNITY,name:V.Z.Messages.CUSTOMIZE_COMMUNITY_TITLE}],c=[],f=!0,d=!1,p=void 0;try{for(var y,m=a[Symbol.iterator]();!(f=(y=m.next()).done);f=!0){var b=y.value;if(!(b.id===H.HY.SERVER_GUIDE&&!o||b.id===H.HY.CHANNEL_BROWSER&&!u||b.id===H.HY.CUSTOMIZE_COMMUNITY&&!l)){fe(b.name.toLocaleLowerCase(),i,!1)>0&&c.push(new w.nl({id:b.id,name:b.name,type:s.d4z.UNKNOWN,guild_id:n.id}))}}}catch(e){d=!0;p=e}finally{try{f||null==m.return||m.return()}finally{if(d)throw p}}return c},queryChannelResults:function(e){var t=e.query,n=e.channel,r=e.type,i=void 0===r?I.sH:r,o=e.channelTypes;return{channels:this.queryChannels({query:t,guildId:n.getGuildId(),limit:void 0,fuzzy:void 0,filter:function(e){
return null==o||o.includes(e.type)},type:i,allowEmptyQueries:!0}).map((function(e){return e.record}))}},queryApplicationCommandChannelResults:function(e){var t=e.query,n=e.channel,r=e.channelTypes,i=e.limit,o=void 0===i?s.rnv:i;if(null==n.guild_id){var u=[];(null==r||r.includes(n.type))&&u.push(n);return{channels:u}}var l=[],a=!0,c=!1,f=void 0;try{for(var p,y=ce[Symbol.iterator]();!(a=(p=y.next()).done);a=!0){var v=p.value;l=l.concat(this.queryChannels({query:t,guildId:n.guild_id,limit:o,fuzzy:!0,filter:function(e){return null==r||r.includes(e.type)},type:v,allowEmptyQueries:!0,requireVocalConnectAccess:!1}))}}catch(e){c=!0;f=e}finally{try{a||null==y.return||y.return()}finally{if(c)throw f}}l=l.filter((function(e){return"null"!==e.record.id})).sort(d);l.length>o&&(l=l.slice(0,o));return{channels:l.map((function(e){return e.record}))}},queryChoiceResults:function(e){var t=e.query,n=e.choices;return{choices:this.queryChoice({query:t,choices:n,limit:null}).map((function(e){return e.choice
}))}},queryEmojiResults:function(e){var t=e.query,n=e.channel,r=e.intention,i=e.maxCount,o=void 0===i?s.rnv:i,u=e.matchComparator;S.DZ.loadIfNecessary();return{emojis:y.Z.searchWithoutFetchingLatest({channel:n,query:t,count:o,intention:r,matchComparator:u})}},queryStickers:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=W(arguments.length>2&&void 0!==arguments[2]?arguments[2]:[null,te],2),r=n[0],i=n[1],o=E.Z.stickerMetadata,l=D.default.getCurrentUser(),a=new Set,c=[];S.DZ.loadIfNecessary();var s=!0,f=!1,d=void 0;try{for(var p,y=function(){var e=p.value;if(""===e)return"continue";var n=e.toLocaleLowerCase(),u=(0,F._I)(n),s=new RegExp("^".concat(G.Z.escape(u)),"i"),f=new RegExp("".concat(G.Z.escape(u)),"i");o.forEach((function(e,o){var u=0,d=null,p=E.Z.getStickerById(o);if(null!=p&&i(p,(0,m.cO)(p,l,r))){var y=!0,v=!1,h=void 0;try{for(var g,_=e[Symbol.iterator]();!(y=(g=_.next()).done);y=!0){var S=g.value,w=S.type,P=S.value,I=ye(w),A=0
;if(t)P===n?A=ee*I:s.test(P)?A=7*I:w!==O.MO.GUILD_NAME&&w!==O.MO.PACK_NAME&&w!==O.MO.STICKER_NAME||!f.test(P)||(A=5*I);else if(P===n){A=ee*I;d=P}if(A>u){u=A;d=P}}}catch(e){v=!0;h=e}finally{try{y||null==_.return||_.return()}finally{if(v)throw h}}var C=b.Z.stickerFrecencyWithoutFetchingLatest.getScore(o);null!=C&&(u*=C/100);if(u>0&&null!=d&&!a.has(p.id)){a.add(p.id);c.push({sticker:p,comparator:d,score:u})}}}))},v=e[Symbol.iterator]();!(s=(p=v.next()).done);s=!0)y()}catch(e){f=!0;d=e}finally{try{s||null==v.return||v.return()}finally{if(f)throw d}}0===(c=u()(c).sortBy((function(e){return-1*e.score})).value()).length&&(c=re);return c},matchSentinel:function(e,t,n){return!ne.test(t)&&e===n},hasSameRoleAsUsername:function(e,t){if(!t.isPomelo())return!1;var n,r=C.Z.getGuild(e.getGuildId()),i=null!==(n=null==r?void 0:r.roles)&&void 0!==n?n:{},o=!0,u=!1,l=void 0;try{for(var a,c=Object.values(i)[Symbol.iterator]();!(o=(a=c.next()).done);o=!0){if(a.value.name.toLowerCase()===t.username)return!0}
}catch(e){u=!0;l=e}finally{try{o||null==c.return||c.return()}finally{if(u)throw l}}return!1}}},607556:(e,t,n)=>{n.d(t,{Z:()=>d});var r,i=n(496486),o=n.n(i),u=n(5387),l=n.n(u),a=n(327499),c=n(567403),s=new(l())({maxAge:6e4});function f(e,t,n){null!=r&&clearTimeout(r);r=setTimeout((function(){var r=[],i=function(e){r.push(e.id)};if(null==e)o().forEach(c.Z.getGuilds(),i);else{var u=c.Z.getGuild(e);null!=u&&i(u)}r.length>0&&a.Z.requestMembers(r,t.toLocaleLowerCase(),n)}),200)}const d={requestMembers:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r="".concat(null!=e?e:"",":").concat(t);if(null==s.get(r)){s.set(r,!0);f(e,t,n)}}}},625747:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(770819),i=n(473708);const o={MENTION_EVERYONE:function(){return{test:"everyone",text:"@everyone",description:i.Z.Messages.MENTION_EVERYONE_AUTOCOMPLETE_DESCRIPTION}},MENTION_HERE:function(){return{test:"here",text:"@here",description:i.Z.Messages.MENTION_HERE_AUTOCOMPLETE_DESCRIPTION}},
MENTION_CLYDE:function(){return{test:"clyde",text:"@Clyde",description:i.Z.Messages.CLYDE_MENTION_DESCRIPTION}},LAUNCHABLE_APPLICATIONS:function(){return r.Z.launchableApplicationViewItems}}}}]);
//# sourceMappingURL=878a912da74fc4b37090.js.map