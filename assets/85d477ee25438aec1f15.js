(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[11572],{727157:(e,r,n)=>{e.exports=n.p+"d6b6938f5fd7a57ba2c4cc632add98d4.png"},999861:(e,r,n)=>{"use strict";n.d(r,{E:()=>t});var t;!function(e){e.LANDING="landing";e.PRE_CONNECT="pre-connect";e.PRE_CONNECT_WAITING="pre-connect-waiting";e.DISCORD_CONSENT="discord-consent";e.SUCCESS="success";e.ERROR="error"}(t||(t={}))},4666:(e,r,n)=>{"use strict";n.d(r,{Z:()=>E});var t=n(785893),a=n(667294),o=n(441143),l=n.n(o),s=n(331535),i=n(690217),c=n(832691),u=n(47967),d=n(487502),h=n(67416),f=n(725002),x=n(959797),m=n(627985),p=n.n(m);function v(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function b(e,r,n,t,a,o,l){try{var s=e[o](l),i=s.value}catch(e){n(e);return}s.done?r(i):Promise.resolve(i).then(t,a)}function N(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]
;if(null!=n){var t,a,o=[],l=!0,s=!1;try{for(n=n.call(e);!(l=(t=n.next()).done);l=!0){o.push(t.value);if(r&&o.length===r)break}}catch(e){s=!0;a=e}finally{try{l||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,r)||function(e,r){if(!e)return;if("string"==typeof e)return v(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var C=function(e,r){var n,t,a,o,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){
if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,t&&(a=2&o[0]?t.return:o[0]?t.throw||((a=t.return)&&a.call(t),0):t.next)&&!(a=a.call(t,o[1])).done)return a;(t=0,a)&&(o=[2&o[0],a.value]);switch(o[0]){case 0:case 1:a=o;break;case 4:l.label++;return{value:o[1],done:!1};case 5:l.label++;t=o[1];o=[0];continue;case 7:o=l.ops.pop();l.trys.pop();continue;default:if(!(a=l.trys,a=a.length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){l.label=o[1];break}if(6===o[0]&&l.label<a[1]){l.label=a[1];a=o;break}if(a&&l.label<a[2]){l.label=a[2];l.ops.push(o);break}a[2]&&l.ops.pop();l.trys.pop();continue}o=r.call(e,l)}catch(e){o=[6,e];t=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},y=new c.Z("ConsoleLinkDiscordConsentWeb");function E(e){
var r,n,o=e.platformType,c=e.clientId,m=e.scopes,v=e.authToken,E=e.onContinue,g=e.onError,j=e.onClose,k=e.redirectUri,A=N(a.useState(!1),2),T=A[0],I=A[1],R=a.useCallback((n=(r=function(e){var r,n,t,a;return C(this,(function(l){switch(l.label){case 0:r=v.callbackCode,n=v.callbackState;l.label=1;case 1:l.trys.push([1,3,,4]);return[4,i.Z.completeTwoWayLink(o,e,r,n)];case 2:t=l.sent();return[3,4];case 3:a=l.sent();y.error("".concat(o," link error:"),a);return[3,4];case 4:null!=t?E():g();return[2]}}))},function(){var e=this,n=arguments;return new Promise((function(t,a){var o=r.apply(e,n);function l(e){b(o,t,a,l,s,"next",e)}function s(e){b(o,t,a,l,s,"throw",e)}l(void 0)}))}),function(e){return n.apply(this,arguments)}),[o,v,E,g]),w=(0,u.useOAuth2AuthorizeForm)({clientId:c,scopes:m,responseType:"code",callback:R,isTrustedName:!0,isEmbeddedFlow:!0,redirectUri:k}),S=w.header,O=w.body,_=w.appDetails,D=w.sendAuthorize,L=a.useCallback((function(){l()(null!=D,"sendAuthorize not available");I(!0)
;D(!0)}),[D]);return(0,t.jsxs)("div",{className:p().container,children:[null!=j&&(0,t.jsx)(h.ol,{className:p().closeButton,onClick:j}),(0,t.jsxs)(f.ZP,{children:[(0,t.jsx)(h.xB,{direction:d.Z.Direction.VERTICAL,className:p().header,separator:!1,children:(0,t.jsx)(s.xv,{className:p().stepHeader,variant:"text-xs/bold",color:"header-secondary",children:x.Z.Messages.BIDIRECTIONAL_STEP_HEADER.format({number:2,total:2})})}),(0,t.jsxs)("div",{className:p().discordConsentBody,children:[S,O,_]}),(0,t.jsx)(h.mz,{className:p().footer,children:(0,t.jsx)(s.zx,{className:p().footerButton,color:s.zx.Colors.BRAND,submitting:T,onClick:L,children:x.Z.Messages.AUTHORIZE_AND_CONTINUE})})]})]})}},529531:(e,r,n)=>{"use strict";n.d(r,{n:()=>f});var t=n(785893),a=(n(667294),n(331535)),o=n(487502),l=n(895917),s=n(67416),i=n(959797),c=n(627985),u=n.n(c),d=n(727157),h=n.n(d);function f(e){var r=e.onContinue,n=e.onClose,c=e.title,d=e.body;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(s.xB,{
direction:o.Z.Direction.VERTICAL,className:u().header,separator:!1,children:[(0,t.jsx)("img",{src:h(),className:u().illustration,width:"254",height:"127",alt:""}),(0,t.jsx)(a.X6,{className:u().title,variant:"heading-xl/extrabold",children:c}),null!=n&&(0,t.jsx)(s.ol,{className:u().closeButton,onClick:n})]}),(0,t.jsx)(s.hz,{className:u().body,paddingFix:!1,children:(0,t.jsx)(a.xv,{tag:"p",variant:"text-md/normal",color:"header-secondary",children:d})}),(0,t.jsx)(s.mz,{className:u().footer,children:(0,t.jsxs)(a.zx,{className:u().footerButton,color:a.zx.Colors.BRAND,onClick:r,children:[i.Z.Messages.TRY_AGAIN,(0,t.jsx)(l.Z,{className:u().launchIcon,width:"16",height:"16"})]})})]})}},250081:(e,r,n)=>{"use strict";n.d(r,{Y:()=>h});var t=n(785893),a=(n(667294),n(363010)),o=n(331535),l=n(950008),s=n(487502),i=n(67416),c=n(959797),u=n(627985),d=n.n(u);function h(e){
var r=e.platformType,n=e.onContinue,u=e.onClose,h=e.img,f=e.headerConnect,x=e.headerReconnect,m=e.body,p=e.learnMoreLink,v=e.valueProps,b=(0,a.e7)([l.Z],(function(){var e=l.Z.getAccount(null,r);return!1===(null==e?void 0:e.twoWayLink)}));return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(i.xB,{direction:s.Z.Direction.VERTICAL,className:d().header,separator:!1,children:[(0,t.jsxs)("div",{className:d().illustration,children:[h," "]}),(0,t.jsx)(o.X6,{className:d().title,variant:"heading-xl/extrabold",children:b&&null!=x?x:f}),(0,t.jsx)(i.ol,{className:d().closeButton,onClick:u})]}),(0,t.jsxs)(i.hz,{className:d().body,paddingFix:!1,children:[(0,t.jsx)(o.xv,{tag:"p",variant:"text-md/normal",color:"header-secondary",children:m}),(0,t.jsx)("div",{className:d().valueProps,children:v}),null!=p?(0,t.jsx)(o.xv,{tag:"p",variant:"text-sm/normal",color:"header-secondary",children:c.Z.Messages.CONNECT_CONSOLE_LANDING_BODY_LEARN_MORE.format({helpCenterLink:p})}):null]}),(0,t.jsx)(i.mz,{
className:d().footer,children:(0,t.jsx)(o.zx,{className:d().footerButton,color:o.zx.Colors.BRAND,onClick:n,children:c.Z.Messages.CONTINUE})})]})}},540011:(e,r,n)=>{"use strict";n.d(r,{w:()=>g});var t=n(785893),a=n(667294),o=n(441143),l=n.n(o),s=n(817178),i=n(331535),c=n(173436),u=n(144857),d=n(783848),h=n(832691),f=n(487502),x=n(895917),m=n(67416),p=n(959797),v=n(627985),b=n.n(v);function N(e,r,n,t,a,o,l){try{var s=e[o](l),i=s.value}catch(e){n(e);return}s.done?r(i):Promise.resolve(i).then(t,a)}function C(e){return function(){var r=this,n=arguments;return new Promise((function(t,a){var o=e.apply(r,n);function l(e){N(o,t,a,l,s,"next",e)}function s(e){N(o,t,a,l,s,"throw",e)}l(void 0)}))}}var y=function(e,r){var n,t,a,o,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){
if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,t&&(a=2&o[0]?t.return:o[0]?t.throw||((a=t.return)&&a.call(t),0):t.next)&&!(a=a.call(t,o[1])).done)return a;(t=0,a)&&(o=[2&o[0],a.value]);switch(o[0]){case 0:case 1:a=o;break;case 4:l.label++;return{value:o[1],done:!1};case 5:l.label++;t=o[1];o=[0];continue;case 7:o=l.ops.pop();l.trys.pop();continue;default:if(!(a=l.trys,a=a.length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){l.label=o[1];break}if(6===o[0]&&l.label<a[1]){l.label=a[1];a=o;break}if(a&&l.label<a[2]){l.label=a[2];l.ops.push(o);break}a[2]&&l.ops.pop();l.trys.pop();continue}o=r.call(e,l)}catch(e){o=[6,e];t=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},E=new h.Z("ConsoleLink");function g(e){
var r=e.platformType,n=e.isWaitingForConnection,o=e.onWaitingForConnection,h=e.expectedCallbackState,v=e.onAuthToken,N=e.onError,g=e.onClose,j=e.img,k=e.title,A=e.body,T=e.redirectDestination,I=a.useCallback(C((function(){var e,n,t;return y(this,(function(a){switch(a.label){case 0:a.trys.push([0,2,,3]);return[4,(0,d.H)(r,{twoWayLinkType:s.g.DESKTOP})];case 1:if(null==(e=a.sent()))throw new Error("missing authorizeURL");return[3,3];case 2:n=a.sent();E.error("Error opening provider authorize page",n);N();return[2];case 3:t=(0,u.xp)(e).state;l()(null!=t,"Authorize URL state query parameter must be present");null==o||o(t);return[2]}}))})),[r,N,o]),R=a.useCallback((function(e){var n=e.callbackCode,t=e.callbackState;t===h?v({callbackCode:n,callbackState:t}):E.warn("".concat(r," link: received mismatching callback state!"))}),[r,h,v]);a.useEffect((function(){c.Z.subscribe("USER_CONNECTIONS_LINK_CALLBACK",R);return function(){c.Z.unsubscribe("USER_CONNECTIONS_LINK_CALLBACK",R)}}),[R])
;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(m.xB,{direction:f.Z.Direction.VERTICAL,className:b().header,separator:!1,children:[(0,t.jsx)(i.xv,{className:b().stepHeader,variant:"text-xs/bold",color:"header-secondary",children:p.Z.Messages.BIDIRECTIONAL_STEP_HEADER.format({number:1,total:2})}),(0,t.jsxs)("div",{className:b().illustration,children:[j," "]}),(0,t.jsx)(i.X6,{className:b().title,variant:"heading-xl/extrabold",children:k}),null!=g&&(0,t.jsx)(m.ol,{className:b().closeButton,onClick:g})]}),(0,t.jsxs)(m.hz,{className:b().body,paddingFix:!1,children:[(0,t.jsx)(i.xv,{tag:"p",variant:"text-md/normal",color:"header-secondary",children:A}),!n&&(0,t.jsx)(i.xv,{tag:"p",variant:"text-sm/normal",color:"header-secondary",children:p.Z.Messages.CONSOLE_REDIRECT_NOTICE.format({redirectUrl:T})})]}),(0,t.jsx)(m.mz,{className:b().footer,children:(0,t.jsxs)(i.zx,{className:b().footerButton,color:n?i.zx.Colors.PRIMARY:i.zx.Colors.BRAND,onClick:I,
children:[n?p.Z.Messages.RETRY:p.Z.Messages.CONTINUE,(0,t.jsx)(x.Z,{className:b().launchIcon,width:"16",height:"16"})]})})]})}},652585:(e,r,n)=>{"use strict";n.d(r,{k:()=>u});var t=n(785893),a=(n(667294),n(331535)),o=n(487502),l=n(67416),s=n(959797),i=n(627985),c=n.n(i);function u(e){var r=e.onClose,n=e.img,i=e.title,u=e.body,d=e.content;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(l.xB,{direction:o.Z.Direction.VERTICAL,className:c().header,separator:!1,children:[(0,t.jsx)("div",{className:c().illustration,children:n}),(0,t.jsx)(a.X6,{className:c().title,variant:"heading-xl/extrabold",children:i}),(0,t.jsx)(l.ol,{className:c().closeButton,onClick:r})]}),(0,t.jsxs)(l.hz,{className:c().body,paddingFix:!1,children:[(0,t.jsx)(a.xv,{tag:"p",variant:"text-md/normal",color:"header-secondary",children:u}),d]}),(0,t.jsx)(l.mz,{className:c().footer,children:(0,t.jsx)(a.zx,{className:c().footerButton,color:a.zx.Colors.BRAND,onClick:r,children:s.Z.Messages.DONE})})]})}},13918:(e,r,n)=>{
"use strict";n.d(r,{Ux:()=>s,pT:()=>i,yC:()=>c});var t=n(785893),a=(n(667294),n(331535)),o=n(627985),l=n.n(o);function s(e){var r=e.text,n=e.children;return(0,t.jsxs)("div",{className:l().valueProp,children:[(0,t.jsx)("div",{className:l().valuePropIconContainer,children:n}),(0,t.jsx)(a.xv,{variant:"text-sm/medium",children:r})]})}function i(e){var r=e.title,n=e.bulletPoints,o=e.icon;return(0,t.jsxs)("div",{className:l().bulletedValueProp,children:[(0,t.jsx)("div",{className:l().valuePropIconContainer,children:o}),(0,t.jsxs)("div",{className:l().bulletPointsContainer,children:[(0,t.jsx)(a.xv,{variant:"text-md/bold",color:"header-primary",children:r}),(0,t.jsx)("div",{className:l().bulletPoints,children:n.map((function(e){return(0,t.jsxs)("div",{className:l().bulletPoint,children:[(0,t.jsx)(a.xv,{variant:"text-sm/medium",color:"header-secondary",children:"•"}),(0,t.jsx)(a.xv,{variant:"text-sm/medium",color:"header-secondary",className:l().bulletPointText,children:e})]},e)}))})]})]})}
function c(e){var r=e.children;return(0,t.jsx)("div",{className:l().valuePropContainer,children:r})}},23415:(e,r,n)=>{"use strict";n.d(r,{l:()=>u});var t=n(667294),a=n(244028),o=n(932847),l=n(999861),s=n(461061);function i(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function c(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var t,a,o=[],l=!0,s=!1;try{for(n=n.call(e);!(l=(t=n.next()).done);l=!0){o.push(t.value);if(r&&o.length===r)break}}catch(e){s=!0;a=e}finally{try{l||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,r)||function(e,r){if(!e)return;if("string"==typeof e)return i(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,r){var n=c(t.useState(l.E.LANDING),2),i=n[0],u=n[1],d=(0,a.Z)(i),h=c(t.useState(null),2),f=h[0],x=h[1],m=c(t.useState(null),2),p=m[0],v=m[1],b=t.useCallback((function(){switch(i){case l.E.LANDING:u(l.E.PRE_CONNECT);break;case l.E.DISCORD_CONSENT:u(l.E.SUCCESS);break;case l.E.ERROR:u(l.E.PRE_CONNECT)}}),[i]),N=t.useCallback((function(){x(null);u(l.E.ERROR)}),[]),C=t.useCallback((function(e){x(e);u(l.E.PRE_CONNECT_WAITING)}),[]),y=t.useCallback((function(e){x(null);v(e);u(l.E.DISCORD_CONSENT)}),[]);t.useEffect((function(){i!==d&&o.default.track(s.rMx.ACCOUNT_LINK_STEP,{location_stack:e,previous_step:d,current_step:i,platform_type:r})}),[i,d,e,r]);return{slide:i,gotoNext:b,gotoError:N,
handleWaitingForConnection:C,handleAuthToken:y,expectedCallbackState:f,callbackData:p}}}}]);
//# sourceMappingURL=85d477ee25438aec1f15.js.map