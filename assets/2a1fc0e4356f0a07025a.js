(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{6584:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o=m(n(0)),r=n(402),i=v(n(3)),f=v(n(19)),u=v(n(1518)),s=v(n(17)),d=v(n(12)),l=m(n(234)),c=v(n(40)),p=n(1),O=v(n(2)),_=v(n(9644)),h=v(n(52));function v(e){return e&&e.__esModule?e:{default:e}}function g(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return g=function(){return e},e}function m(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=g();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var r=a?Object.getOwnPropertyDescriptor(e,o):null;r&&(r.get||r.set)?Object.defineProperty(n,o,r):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}function y(e,t,n,o){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=o;else if(i>1){for(var f=new Array(i),u=0;u<i;u++)f[u]=arguments[u+3];t.children=f}if(t&&r)for(var s in r)void 0===t[s]&&(t[s]=r[s]);else t||(t=r||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}i.default.initialize();var E="handoff",N="done",T="failed";function A(){try{window.close()}catch(e){}}var b=y(l.AuthSpinner,{}),F=function(e){var t,a;function o(t){var n;(n=e.call(this,t)||this).done=function(){A(),n.setState({stage:N})},n.failed=function(){n.setState({stage:T}),A()},n.handleOpenApp=function(){c.default.transitionTo(p.Routes.ME)};var a=t.location.search,o=null!=a&&""!==a?(0,r.parse)(a):{};return n.state={key:o.key||"",stage:"true"===o.done?N:E},n}a=e,(t=o).prototype=Object.create(a.prototype),t.prototype.constructor=t,t.__proto__=a;var i=o.prototype;return i.componentDidMount=function(){var e=this,t=this.state,n=t.stage,a=t.key;n===N?A():s.default.isAuthenticated()?f.default.post({url:p.Endpoints.HANDOFF,body:{key:a}}).then((function(t){return e.handoff(t.body.handoff_token)}),(function(){return e.handoff()})):this.handoff()},i.handoff=function(e){u.default.requestRedirect(p.RPCCommands.BROWSER_HANDOFF,{handoffToken:e,fingerprint:s.default.getFingerprint()}).then(this.done,this.failed)},i.renderDone=function(){return y(l.default,{},void 0,y(l.Image,{src:n(9776),className:h.default.marginBottom20}),y(l.Title,{className:h.default.marginBottom8},void 0,O.default.Messages.BROWSER_HANDOFF_DONE_TITLE),y(l.SubTitle,{className:h.default.marginBottom40},void 0,O.default.Messages.BROWSER_HANDOFF_DONE_SAFE_TO_CLOSE),y(l.Button,{onClick:this.handleOpenApp},void 0,O.default.Messages.CONTINUE_TO_WEBAPP))},i.renderFailed=function(){return y(l.default,{},void 0,y(l.Image,{src:n(9776),className:h.default.marginBottom20}),y(l.Title,{className:h.default.marginBottom8},void 0,O.default.Messages.BROWSER_HANDOFF_FAILED_TITLE),y(l.SubTitle,{className:h.default.marginBottom40},void 0,O.default.Messages.BROWSER_HANDOFF_DONE_SAFE_TO_CLOSE),y(l.Button,{onClick:this.handleOpenApp},void 0,O.default.Messages.CONTINUE_TO_WEBAPP))},i.renderHandoff=function(){return y(l.default,{},void 0,b,y(l.Title,{className:h.default.marginBottom8},void 0,O.default.Messages.BROWSER_HANDOFF_AUTHENTICATING_TITLE),y(l.SubTitle,{},void 0,O.default.Messages.BROWSER_HANDOFF_AUTHENTICATING_DESCRIPTION))},i.render=function(){var e;switch(this.state.stage){case N:e=this.renderDone();break;case T:e=this.renderFailed();break;case E:default:e=this.renderHandoff()}return y(d.default,{justify:d.default.Justify.CENTER,align:d.default.Align.CENTER,className:_.default.wrapper},void 0,e)},o}(o.PureComponent);t.default=F,F.displayName="BrowserHandoff"},9776:function(e,t,n){e.exports=n.p+"e9baf4b505eb54129f832556ea16538e.svg"}}]);
//# sourceMappingURL=2a1fc0e4356f0a07025a.js.map