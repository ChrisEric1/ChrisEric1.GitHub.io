"use strict";(this.webpackChunkdiscord_developers=this.webpackChunkdiscord_developers||[]).push([[4713],{56172:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.enableMFA=function(e){var t=e.code,r=e.secret,s=e.password;return o.default.post({url:u.Endpoints.MFA_TOTP_ENABLE,body:{code:t,secret:r,password:s},oldFormErrors:!0}).then((function(e){return n.default.dispatch({type:i.default.MFA_ENABLE_SUCCESS,token:e.body.token,codes:e.body.backup_codes})})).catch(a.APIErrorHandler)};t.viewBackupCodes=function(e,t){void 0===t&&(t=!1);return o.default.post({url:u.Endpoints.MFA_CODES,body:{password:e,regenerate:t},oldFormErrors:!0}).then((function(e){return n.default.dispatch({type:i.default.MFA_VIEW_BACKUP_CODES,codes:e.body.backup_codes})})).catch(a.APIErrorHandler)};var o=s(r(18915)),n=s(r(36602)),a=r(19290),i=s(r(16881)),u=r(70348);function s(e){return e&&e.__esModule?e:{default:e}}},31004:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var o,n=O(r(67294)),a=r(55558),i=h(r(36211)),u=O(r(48656)),s=h(r(8550)),l=h(r(28429)),d=r(22716),f=h(r(69493)),c=h(r(91464)),p=h(r(98309)),M=h(r(1161)),v=r(70348),m=r(34596);function h(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(y=function(e){return e?r:t})(e)}function O(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=y(t);if(r&&r.has(e))return r.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=n?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}o.default=e;r&&r.set(e,o);return o}function _(e,t,r,n){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;t||0===i||(t={children:void 0})
;if(1===i)t.children=n;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}if(t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});return{$$typeof:o,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e})(e,t)}var A={createPromise:function(){return Promise.all([r.e(532),r.e(2437),r.e(5991),r.e(2271),r.e(1528)]).then(r.bind(r,13089))},webpackId:13089},E={createPromise:function(){return Promise.all([r.e(532),r.e(2376)]).then(r.bind(r,50581))},webpackId:50581},T={createPromise:function(){return Promise.all([r.e(532),r.e(9402),r.e(5991),r.e(7017)]).then(r.bind(r,88037))},webpackId:88037},C=(0,d.makeLazyWithLoadingIndicator)(A),S=(0,d.makeLazyWithLoadingIndicator)(E),b=(0,d.makeLazyWithLoadingIndicator)(T),R=_(c.default,{}),P=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;g(e,t)}(t,e);function t(){
for(var t,r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];(t=e.call.apply(e,[this].concat(o))||this).state={isLoading:!0};return t}var r=t.prototype;r.componentDidMount=function(){var e=this,t=this.props.teams,r=this.props.match.params.teamId,o=[u.fetchTeam(r).catch(v.NOOP)];0===t.size&&o.push(u.fetchTeams());Promise.all(o).then((function(){return e.setState({isLoading:!1})}))};r.renderOwnerOnlyRoutes=function(){var e=this.props,t=e.team,r=e.user;return null==t||null==r?null:t.owner_user_id!==r.id?_(a.Redirect,{to:v.Routes.TEAM_INFORMATION(t.id)}):[_(a.Route,{path:v.Routes.TEAM_PAYOUT_SETTINGS(v.TEAM_ID_ROUTE_PARAMETER),component:S},"Payout settings"),_(a.Route,{path:v.Routes.TEAM_PAYOUT_HISTORY(v.TEAM_ID_ROUTE_PARAMETER),component:b},"Payout history")]};r.render=function(){var e=this.props,t=e.match,r=e.team;return this.state.isLoading?R:null==r?_(p.default,{heading:m.Messages.Common.TEAM_NOT_FOUND_HEADING,errorMessage:m.Messages.Common.TEAM_NOT_FOUND_BODY.format({
teamId:t.params.teamId})}):_(n.Fragment,{},void 0,_(a.Route,{path:v.Routes.EDIT_TEAM(v.TEAM_ID_ROUTE_PARAMETER),render:function(e){return n.createElement(M.default,e)}}),_(f.default,{},void 0,_(a.Switch,{},void 0,_(a.Route,{exact:!0,path:v.Routes.EDIT_TEAM(v.TEAM_ID_ROUTE_PARAMETER),render:function(e){return _(a.Redirect,{to:v.Routes.TEAM_INFORMATION(e.match.params.teamId)})}}),_(a.Route,{exact:!0,path:v.Routes.TEAM_INFORMATION(v.TEAM_ID_ROUTE_PARAMETER),render:function(e){return n.createElement(C,e)}}),this.renderOwnerOnlyRoutes(),_(a.Route,{render:function(){return _(p.default,{heading:m.Messages.Common.ROUTE_NOT_FOUND_HEADING,errorMessage:m.Messages.Common.ROUTE_NOT_FOUND_BODY})}}))))};return t}(n.Component);P.displayName="TeamSettingsContainer";var N=i.default.connectStores([s.default,l.default],(function(e){return{team:s.default.getTeam(e.match.params.teamId),teams:s.default.teamsMap,user:l.default.user}}))((0,a.withRouter)(P));t.default=N},68360:(e,t,r)=>{
Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var o,n=R(r(67294)),a=r(93162),i=r(5037),u=S(r(36211)),s=r(56172),l=r(83559),d=S(r(53304)),f=S(r(28429)),c=S(r(56117)),p=S(r(30250)),M=R(r(9378)),v=S(r(79950)),m=S(r(24896)),h=S(r(30977)),y=r(19290),O=r(64489),_=S(r(92974)),g=R(r(16997)),A=S(r(10063)),E=r(70348),T=r(34596),C=S(r(34687));function S(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(b=function(e){return e?r:t})(e)}function R(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=b(t);if(r&&r.has(e))return r.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=n?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}o.default=e;r&&r.set(e,o);return o}function P(e,t){
return(P=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e})(e,t)}function N(e,t,r,n){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;t||0===i||(t={children:void 0});if(1===i)t.children=n;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}if(t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});return{$$typeof:o,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var I=function(e){var t=e.title,r=e.image,o=e.children;return N(p.default,{className:C.default.modalRow,justify:p.default.Justify.BETWEEN,wrap:p.default.Wrap.NO_WRAP},void 0,N(p.default,{justify:p.default.Justify.CENTER,grow:1,shrink:1},void 0,r),N(p.default,{className:C.default.modalRowTextWrap,direction:p.default.Direction.VERTICAL,align:p.default.Align.START,justify:p.default.Justify.CENTER,grow:0},void 0,N(_.default,{className:C.default.modalLabel},void 0,t),N("div",{},void 0,o)))}
;I.displayName="ModalRow";var w=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;P(e,t)}(t,e);function t(){for(var t,r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];(t=e.call.apply(e,[this].concat(o))||this).state={currentModalStep:0,isSubmitting:!1,totpSecret:(0,i.generateTotpSecret)(),code:"",isDownloaded:!1,error:null,password:"",showPasswordModal:!0};t.goToNextStep=function(){t.setState((function(e){return{currentModalStep:e.currentModalStep+1}}))};t.renderFormStatus=function(){var e=t.state.error;return null==e?null:N(g.ModalAlert,{},void 0,e)};t.activateCode=function(){var e=t.state,r=e.code,o=e.totpSecret,n=e.password;t.setState({isSubmitting:!0},(function(){(0,s.enableMFA)({code:r,secret:(0,i.encodeTotpSecret)(o),password:n}).then((function(){return(0,l.fetchUser)()})).then((function(){t.setState({isSubmitting:!1,error:null})})).catch((function(e){t.setState({isSubmitting:!1,error:(0,
y.getMessageFromAPIError)(e,T.Messages.Errors.ERROR_ACTIVATING_CODE.format())})}))}))};t.handleCodeChange=function(e){t.setState((function(){return{code:e}}))};t.getDownloadFileContents=function(){var e=t.props,r=e.backupCodes,o=e.user;if(null==r)return"";var n=r.map((function(e){var t=e.consumed,r=e.code;return"* "+r.substr(0,4)+"-"+r.substr(4)+" "+(t?"("+T.Messages.MultiFactorAuth.MFA_BACKUP_CODE_USED+")":"")})).join("\r\n");return T.Messages.MultiFactorAuth.MFA_DISCORD_BACKUP_CODES.format({email:o.email})+"\r\n\r\n"+n};t.downloadBackupCodes=function(e){e.preventDefault();var r=new Blob([t.getDownloadFileContents()],{type:"text/plain"});(0,a.saveAs)(r,"discord_backup_codes.txt");t.setState({isDownloaded:!0})};t.handleSubmitPassword=function(){var e=t.state,r=e.totpSecret,o=e.password;t.setState({isSubmitting:!0},(function(){(0,s.enableMFA)({password:o,secret:(0,i.encodeTotpSecret)(r)}).then((function(){return(0,l.fetchUser)()})).then((function(){t.setState({isSubmitting:!1,error:null
})})).catch((function(e){t.setState({isSubmitting:!1,error:null});e.code===E.APIErrorCodes.INVALID_MFA_CODE?t.goToNextStep():t.setState({error:(0,y.getMessageFromAPIError)(e,T.Messages.Errors.ERROR_ACTIVATING_CODE.format())})}))}))};return t}var r=t.prototype;r.renderModalAuthStep=function(){var e=this,t=this.props.onClose,r=this.state,o=r.password,a=r.isSubmitting,i=r.error;return N(n.Fragment,{},void 0,N(g.ModalContent,{},void 0,N(g.ModalHeader,{},void 0,T.Messages.MultiFactorAuth.PASSWORD_STEP_TITLE),N(_.default,{},void 0,T.Messages.MultiFactorAuth.PASSWORD),N(v.default,{type:"password",className:C.default.codeInput,placeholder:"Password",onChange:function(t){return e.setState({password:t})},value:o,error:i})),N(g.ModalFooter,{},void 0,N(g.ModalCancel,{onClick:t},void 0,T.Messages.Actions.CANCEL),N(g.ModalConfirm,{disabled:a,onClick:this.handleSubmitPassword},void 0,T.Messages.Actions.CONTINUE)))};r.renderModalInfoStep=function(){
var e=this.props,t=e.onClose,r=e.introCopy,o=this.state.isSubmitting;return N(n.Fragment,{},void 0,N(g.ModalContent,{},void 0,N(g.ModalHeader,{},void 0,T.Messages.MultiFactorAuth.MODAL_HEADER),r),N(g.ModalFooter,{},void 0,N(g.ModalCancel,{onClick:t,disabled:o},void 0,T.Messages.Actions.CANCEL),N(g.ModalConfirm,{onClick:this.goToNextStep},void 0,T.Messages.Actions.CONTINUE)))};r.renderModalQRStep=function(){var e=this.props,t=e.user,r=e.backupCodes,o=e.onClose,a=this.state,u=a.totpSecret,s=a.code,l=a.isSubmitting;if(null==t||null==t.email)return null;var d=N(p.default,{},void 0,N(M.default,{name:M.IconNames.CHECKMARK})),f=null!=r&&!l,v={text:f?d:T.Messages.Actions.ACTIVATE,color:f?c.default.Color.GREEN:c.default.Color.BRAND},h=N("div",{className:C.default.qrWrap},void 0,N(A.default,{width:100,height:100,text:(0,i.encodeTotpSecretAsUrl)(t.email,u)}))
;return N(n.Fragment,{},void 0,N(g.ModalContent,{},void 0,N(g.ModalHeader,{},void 0,T.Messages.MultiFactorAuth.MODAL_HEADER_TWO),this.renderFormStatus(),N(I,{title:T.Messages.MultiFactorAuth.DOWNLOAD_APP,image:N("img",{src:E.Images.ICON_GOOGLE_AUTH,className:C.default.modalRowImage,width:100,height:100,alt:T.Messages.ImageAltTags.GOOGLE_AUTH})},void 0,T.Messages.MultiFactorAuth.DOWNLOAD_APP_DESCRIPTION.format({googleAuthURL:E.Links.GOOGLE_AUTH,authyURL:E.Links.AUTHY})),N("div",{className:C.default.divider}),N(I,{title:T.Messages.MultiFactorAuth.SCAN_CODE,image:h},void 0,T.Messages.MultiFactorAuth.SCAN_CODE_DESCRIPTION),N("div",{className:C.default.divider}),N(I,{title:T.Messages.MultiFactorAuth.VALIDATE_CODE,image:N("img",{src:E.Images.ICON_PHONE_CODE,className:C.default.modalRowImage,height:100,width:100,alt:T.Messages.ImageAltTags.PHONE_CODE})},void 0,T.Messages.MultiFactorAuth.VALIDATE_CODE_DESCRIPTION,N(m.default,{className:C.default.codeInput,placeholder:"000 000",
onClick:this.activateCode,onChange:this.handleCodeChange,value:s,buttonProps:v,submitting:l,disabled:f}))),N(g.ModalFooter,{},void 0,N(g.ModalCancel,{onClick:o,disabled:l},void 0,T.Messages.Actions.CANCEL),N(g.ModalConfirm,{disabled:!f,onClick:this.goToNextStep},void 0,T.Messages.Actions.CONTINUE)))};r.renderContinueButton=function(){var e=this.props.onSubmit,t=this.state.isDownloaded,r=N(c.default,{onClick:e},void 0,T.Messages.MultiFactorAuth.CONTINUE_TO_TEAMS),o=N(h.default,{text:T.Messages.MultiFactorAuth.DISABLED_UNTIL_DOWNLOAD,position:h.default.Positions.TOP},void 0,N("div",{},void 0,N(c.default,{className:c.default.Styles.DISABLED},void 0,T.Messages.MultiFactorAuth.CONTINUE_TO_TEAMS)));return t?r:o};r.renderModalBackupStep=function(){return N(n.Fragment,{},void 0,N(g.ModalContent,{},void 0,N(g.ModalHeader,{className:C.default.modalHeader},void 0,T.Messages.MultiFactorAuth.MODAL_HEADER_THREE),N("img",{className:C.default.treasureChest,src:E.Images.ASSET_BACKUP_CODE_TREASURE,
alt:T.Messages.ImageAltTags.TREASURE_CHEST}),N(p.default,{},void 0,N(_.default,{},void 0,T.Messages.MultiFactorAuth.DOWNLOAD_BACKUP_CODES)),N("div",{},void 0,T.Messages.MultiFactorAuth.DOWNLOAD_BACKUP_DESCRIPTION),N(c.default,{className:C.default.downloadButton,onClick:this.downloadBackupCodes},void 0,T.Messages.Actions.DOWNLOAD)),N(g.ModalFooter,{},void 0,this.renderContinueButton()))};r.renderDesktopOnlyNotice=function(){return N(n.Fragment,{},void 0,N(g.ModalContent,{},void 0,N(g.ModalHeader,{},void 0,T.Messages.MultiFactorAuth.MODAL_HEADER),T.Messages.MultiFactorAuth.DESKTOP_ONLY),N(g.ModalFooter,{},void 0,N(g.ModalConfirm,{onClick:this.props.onClose},void 0,T.Messages.Actions.CONFIRM)))};r.getModalContent=function(){if((0,O.isMobile)())return this.renderDesktopOnlyNotice();var e=this.state.currentModalStep;return[this.renderModalInfoStep(),this.renderModalAuthStep(),this.renderModalQRStep(),this.renderModalBackupStep()][e]};r.render=function(){var e=this.props.isOpen
;return N(g.default,{open:e,className:C.default.modal,onRequestClose:E.NOOP},void 0,this.getModalContent())};return t}(n.Component);w.displayName="MFAModal";var D=u.default.connectStores([f.default,d.default],(function(){return{user:f.default.user,backupCodes:d.default.backupCodes}}))(w);t.default=D},10063:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var o,n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=n?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}o.default=e;r&&r.set(e,o);return o}(r(67294)),a=(o=r(95951))&&o.__esModule?o:{default:o},i=r(70348);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap
;return(u=function(e){return e?r:t})(e)}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e}).apply(this,arguments)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e})(e,t)}var d=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){for(var t,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];(t=e.call.apply(e,[this].concat(o))||this).qrCodeRef=n.createRef();return t}var r=t.prototype;r.componentDidMount=function(){this.createNewQRCode()};r.componentDidUpdate=function(){this.createNewQRCode()};r.createNewQRCode=function(){null!=this.qrCodeRef.current&&new a.default(this.qrCodeRef.current,s({},this.props,{correctLevel:a.default.CorrectLevel.M}))};r.render=function(){return n.createElement("div",{ref:this.qrCodeRef,style:{padding:8,borderRadius:4,
background:i.Colors.WHITE}})};return t}(n.PureComponent);t.default=d;d.displayName="QRCode";d.defaultProps={width:128,height:128}},77781:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=n?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}o.default=e;r&&r.set(e,o)}(r(67294));var o,n=u(r(94184)),a=u(r(45758)),i=u(r(66595));function u(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}function l(e,t,r,n){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var a=e&&e.defaultProps,i=arguments.length-3;t||0===i||(t={children:void 0});if(1===i)t.children=n;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}if(t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});return{$$typeof:o,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var d=function(e){var t,r=e.children,o=e.className,u=e.isFlush,s=void 0!==u&&u,d=e.tag,f=void 0===d?"p":d;return l(a.default,{className:(0,n.default)(i.default.heading,(t={},t[i.default.flush]=s,t),o),color:a.default.Colors.PRIMARY_200,size:a.default.Sizes.SMALL,tag:f,textCase:a.default.Cases.UPPERCASE,weight:a.default.Weights.SEMIBOLD},void 0,r)};d.displayName="SidebarSectionHeading";var f=d;t.default=f},1161:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var o,n=_(r(67294)),a=y(r(36211)),i=y(r(8550)),u=y(r(28429)),s=_(r(9378)),l=r(51056),d=r(44689),f=y(r(93239)),c=y(r(62295)),p=y(r(21302)),M=y(r(77781)),v=r(9692),m=r(70348),h=r(34596);function y(e){return e&&e.__esModule?e:{default:e}}function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(O=function(e){return e?r:t})(e)}function _(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=O(t);if(r&&r.has(e))return r.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=n?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}o.default=e;r&&r.set(e,o);return o}function g(e,t,r,n){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;t||0===i||(t={children:void 0})
;if(1===i)t.children=n;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}if(t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});return{$$typeof:o,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e})(e,t)}function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e}).apply(this,arguments)}var T=function(e){return n.createElement(s.default,E({name:s.IconNames.TEAM},e))};T.displayName="TeamIcon";var C=function(e){return n.createElement(s.default,E({name:s.IconNames.PAYOUT_SETTINGS},e))};C.displayName="PayoutIcon";var S=function(e){return n.createElement(s.default,E({name:s.IconNames.PAYOUT_HISTORY},e))};S.displayName="PayoutHistoryIcon";var b=function(e){!function(e,t){e.prototype=Object.create(t.prototype)
;e.prototype.constructor=e;A(e,t)}(t,e);function t(){for(var t,r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];(t=e.call.apply(e,[this].concat(o))||this).handleTeamChange=function(e){var r=e.value;t.props.history.push(m.Routes.EDIT_TEAM(r))};return t}var r=t.prototype;r.renderTeamSettings=function(){var e=this.props,t=e.match,r=e.team,o=e.user,n=t.params.teamId;return null==r||null==o?null:g(p.default,{isFlush:!0},void 0,g(M.default,{},void 0,h.Messages.Navigation.SETTINGS),g(l.SidebarNavList,{},void 0,g(l.SidebarLink,{Icon:T,to:m.Routes.TEAM_INFORMATION(n)},"Team information",h.Messages.Navigation.TEAM),g(l.SidebarLink,{Icon:S,to:m.Routes.TEAM_PAYOUT_HISTORY(n)},"Payout history",h.Messages.Navigation.PAYOUT_HISTORY),r.owner_user_id===o.id?g(l.SidebarLink,{Icon:C,to:m.Routes.TEAM_PAYOUT_SETTINGS(n)},"Payout information",h.Messages.Navigation.PAYOUT_SETTINGS):null))};r.renderTeamSelectOptions=function(e){return g(f.default,{option:e})}
;r.renderTeamSelectValue=function(e){return g(f.default,{option:e,isValue:!0})};r.render=function(){var e=this.props.match.params.teamId;return g(c.default,{},void 0,g(v.SidebarBackTo,{to:m.Routes.TEAMS},void 0,h.Messages.Navigation.BACK_TO_TEAMS),g(p.default,{},void 0,g(M.default,{},void 0,h.Messages.Navigation.SELECTED_TEAM),g(v.SidebarSelect,{options:(0,d.getTeamSelectOptions)(this.props.teams),valueRenderer:this.renderTeamSelectValue,optionRenderer:this.renderTeamSelectOptions,value:e,onChange:this.handleTeamChange})),this.renderTeamSettings())};return t}(n.Component);b.displayName="TeamManagementSidebar";var R=a.default.connectStores([i.default,u.default],(function(e){var t=e.match.params.teamId;return{team:i.default.getTeam(t),teams:i.default.teamsMap,user:u.default.user}}))(b);t.default=R},7880:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var o,n=h(r(67294)),a=h(r(48656)),i=h(r(84455)),u=v(r(79950)),s=r(19290),l=v(r(96853)),d=v(r(41908)),f=v(r(92974)),c=h(r(16997)),p=r(70348),M=r(34596);function v(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(m=function(e){return e?r:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=m(t);if(r&&r.has(e))return r.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=n?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}o.default=e;r&&r.set(e,o);return o}function y(e,t,r,n){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;t||0===i||(t={children:void 0});if(1===i)t.children=n;else if(i>1){
for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}if(t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});return{$$typeof:o,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e})(e,t)}var _=y(u.default,{name:"name"}),g=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;O(e,t)}(t,e);function t(){for(var t,r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];(t=e.call.apply(e,[this].concat(o))||this).state={errorMessage:null,isSubmitting:!1};t.handleCreateNewTeam=function(e){var r=e.name;r?t.setState({isSubmitting:!0},(function(){a.createTeam({name:r}).then((function(e){l.default.transitionTo(p.Routes.TEAM_INFORMATION(e.id))})).catch((function(e){t.setState({isSubmitting:!1,errorMessage:(0,s.getMessageFromAPIError)(e,M.Messages.Errors.ERROR_CREATING_TEAM.format())})}))})):t.setState({
errorMessage:M.Messages.Teams.TEAM_NAME_REQUIRED})};t.handleRequestClose=function(){var e=t.props.onRequestClose;if(!t.state.isSubmitting){e();t.setState({errorMessage:null})}};return t}var r=t.prototype;r.renderFormStatus=function(){var e=this.state.errorMessage;return null==e?null:y(c.ModalAlert,{type:c.ModalAlertTypes.ERROR},void 0,e)};r.render=function(){var e=this.props.isOpen;return y(c.default,{open:e,onRequestClose:this.handleRequestClose},void 0,y(d.default,{onSubmit:this.handleCreateNewTeam},void 0,y(c.ModalContent,{},void 0,y(c.ModalHeader,{},void 0,M.Messages.Teams.CREATE_NEW_TEAM),this.renderFormStatus(),y(i.default,{},void 0,y(i.GridSection,{},void 0,y(i.GridChild,{columnSpread:12},void 0,y(f.default,{isRequired:!0},void 0,M.Messages.Forms.NAME),_)))),y(c.ModalFooter,{},void 0,y(c.ModalCancel,{onClick:this.handleRequestClose},void 0,M.Messages.Actions.CANCEL),y(c.ModalConfirm,{type:"submit"},void 0,M.Messages.Actions.CONFIRM))))};return t}(n.Component);t.default=g
;g.displayName="CreateTeamModal"},30035:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var o,n,a=p(r(67294)),i=r(96486),u=r(49927),s=r(92711),l=(o=r(60608))&&o.__esModule?o:{default:o},d=p(r(96208)),f=r(70348);function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}function p(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=n?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}o.default=e;r&&r.set(e,o);return o}function M(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;t||0===i||(t={children:void 0})
;if(1===i)t.children=o;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}if(t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var v=function(e){var t=e.teams,r=a.useContext(d.CardGridContext),o=r.cardType,n=r.sortOrder;return M(d.default,{type:o},void 0,(0,i.sortBy)(t,n).map((function(e){var t=e.id.match(/\d{4,4}$/);return M(l.default,{type:o,href:f.Routes.EDIT_TEAM(e.id),imageUri:(0,u.getTeamIcon)(e.id,e.icon)||(0,s.getDefaultAvatar)(null!=t?Number(t[0]):0),label:e.name,trackedLinkProps:{from:"link"}},e.id)})))};v.displayName="TeamGrid";var m=v;t.default=m},5573:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var o,n=k(r(67294)),a=w(r(94184)),i=r(17563),u=w(r(15482)),s=w(r(36211)),l=k(r(48656)),d=w(r(8550)),f=w(r(28429)),c=k(r(34704)),p=w(r(56117)),M=w(r(30977)),v=r(19290),m=r(84836),h=w(r(96853)),y=r(96208),O=w(r(77932)),_=w(r(68360)),g=w(r(69493)),A=w(r(81061)),E=w(r(91464)),T=w(r(86750)),C=w(r(86460)),S=w(r(58350)),b=w(r(91367)),R=w(r(7880)),P=w(r(30035)),N=r(70348),I=r(34596);function w(e){return e&&e.__esModule?e:{default:e}}function D(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(D=function(e){return e?r:t})(e)}function k(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=D(t);if(r&&r.has(e))return r.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=n?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}o.default=e;r&&r.set(e,o)
;return o}function j(e,t,r,n){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;t||0===i||(t={children:void 0});if(1===i)t.children=n;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}if(t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});return{$$typeof:o,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function F(e,t){return(F=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e})(e,t)}var L=j(E.default,{}),U=j(b.default,{}),W=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;F(e,t)}(t,e);function t(){for(var t,r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];(t=e.call.apply(e,[this].concat(o))||this).state={isCreateTeamModalOpen:!1,isMfaModalOpen:!1,isLoading:!0,errorMessage:null,addedTeam:null};t.handleAcceptInvite=function(){var e=t.props.location,r=(0,i.parse)(e.search).token
;if(null==r)return h.default.replaceWith(N.Routes.TEAMS);l.acceptTeamInvitation(r).then((function(e){t.setState({errorMessage:null,isMfaModalOpen:!1,addedTeam:e})})).catch((function(e){e.code!==N.APIErrorCodes.MFA_REQUIRED?t.setState({errorMessage:(0,v.getMessageFromAPIError)(e,I.Messages.Teams.GENERIC_ACCEPT_INVITATION_ERROR.format(),v.ErrorTypes.TEAMS)}):t.setState({isMfaModalOpen:!0})}))};t.handleModalContinue=function(){t.props.location.pathname===N.Routes.TEAM_INVITE_ACCEPT?t.handleAcceptInvite():t.handleMfaModalRequestClose()};t.handleMfaModalRequestClose=function(){t.setState({isMfaModalOpen:!1})};t.handleCreateTeamClick=function(){t.props.user.mfa_enabled?t.setState({isCreateTeamModalOpen:!0}):t.setState({isMfaModalOpen:!0})};t.handleCreateTeamModalRequestClose=function(){t.setState({isCreateTeamModalOpen:!1})};return t}var r=t.prototype;r.componentDidMount=function(){var e=this,t=this.props.location;l.fetchTeams().then((function(){e.setState({isLoading:!1,errorMessage:null
},(function(){t.pathname===N.Routes.TEAM_INVITE_ACCEPT&&e.handleAcceptInvite()}))})).catch((function(t){e.setState({isLoading:!1,errorMessage:(0,v.getMessageFromAPIError)(t,I.Messages.Errors.ERROR_FETCHING_TEAMS.format())})}))};r.renderError=function(){var e=this.props.user,t=this.state.errorMessage;return e.verified?null==t?null:j(c.default,{type:c.AlertTypes.ERROR},void 0,t):j(c.default,{type:c.AlertTypes.WARNING},void 0,I.Messages.Errors.VERIFIED_EMAIL_REQUIRED)};r.renderSuccess=function(){var e=this.state.addedTeam;return null==e?null:j(c.default,{type:c.AlertTypes.SUCCESS},void 0,I.Messages.Teams.SUCCESSFULLY_ADDED.format({teamName:e.name}))};r.renderNewTeamButton=function(){var e,t=this.props.teams.size>=N.MAXIMUM_ALLOWED_TEAMS,r=j(p.default,{className:(0,a.default)((e={},e[p.default.Styles.DISABLED]=t,e)),onClick:t?null:this.handleCreateTeamClick,height:p.default.Height.MEDIUM},void 0,I.Messages.Teams.NEW_TEAM);return t?j(M.default,{
text:I.Messages.Teams.MAX_TEAMS_REACHED.format({maxTeams:N.MAXIMUM_ALLOWED_TEAMS}),position:M.default.Positions.TOP},void 0,j("div",{},void 0,r)):r};r.renderTeamGrid=function(){if(this.state.isLoading)return L;var e=this.props.teams;return 0===e.size?j(O.default,{imageUri:N.Images.EMPTY_GENERIC,primaryCopy:I.Messages.Teams.NO_TEAMS_PRIMARY,secondaryCopy:I.Messages.Teams.NO_TEAMS_SECONDARY}):j(y.CardGridContainer,{},void 0,j(P.default,{teams:Array.from(e.values())}))};r.render=function(){var e=this.state,t=e.isCreateTeamModalOpen,r=e.isMfaModalOpen;return null==this.props.user?null:j(n.Fragment,{},void 0,j(u.default,{title:(0,m.getTitle)(I.Messages.Teams.PAGE_TITLE)}),U,j(g.default,{},void 0,j(T.default,{},void 0,j(A.default,{action:this.renderNewTeamButton()},void 0,I.Messages.Teams.HEADING),j(S.default,{isFlush:!0},void 0,I.Messages.Teams.INTRO)),j(C.default,{bottomMargin:C.default.BottomMarginSizes.MEDIUM_LARGE
},void 0,I.Messages.Teams.PAGE_TITLE),this.renderError(),this.renderSuccess(),this.renderTeamGrid(),j(_.default,{isOpen:r,onClose:this.handleMfaModalRequestClose,onSubmit:this.handleModalContinue,introCopy:I.Messages.Teams.TEAM_MFA_MODAL}),j(R.default,{isOpen:t,onRequestClose:this.handleCreateTeamModalRequestClose})))};return t}(n.Component);W.displayName="Teams";var B=s.default.connectStores([d.default,f.default],(function(){return{user:f.default.user,teams:d.default.teamsMap}}))(W);t.default=B},53304:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var o=r(96486),n=i(r(36211)),a=i(r(36602));i(r(16881));function i(e){return e&&e.__esModule?e:{default:e}}function u(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1;o.configurable=!0;"value"in o&&(o.writable=!0);Object.defineProperty(e,o.key,o)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e})(e,t)}var l=null;var d=new(function(e){!function(e,t){
e.prototype=Object.create(t.prototype);e.prototype.constructor=e;s(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}!function(e,t,r){t&&u(e.prototype,t);r&&u(e,r)}(t,[{key:"backupCodes",get:function(){return l}}]);return t}(n.default.Store))(a.default,{MFA_ENABLE_SUCCESS:function(e){var t=e.codes;l=t},MFA_VIEW_BACKUP_CODES:function(e){var t=e.codes;l=(0,o.sortBy)(t,"code")},USER_LOGOUT:function(e){l=null}});t.default=d},24896:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var o,n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=n?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}o.default=e;r&&r.set(e,o);return o
}(r(67294)),a=f(r(94184)),i=f(r(56117)),u=f(r(30250)),s=f(r(79950)),l=f(r(72519)),d=f(r(28234));function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}function p(e,t,r,n){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;t||0===i||(t={children:void 0});if(1===i)t.children=n;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}if(t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});return{$$typeof:o,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e})(e,t)}var v=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;M(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.render=function(){
var e=this.props,t=e.buttonProps,r=e.placeholder,o=e.submitting,n=e.disabled,f=e.onChange,c=e.onClick,M=e.value,v=e.className;return p(u.default,{className:(0,a.default)(l.default.input,v),direction:u.default.Direction.HORIZONTAL,justify:u.default.Justify.BETWEEN,align:u.default.Align.CENTER,wrap:u.default.Wrap.NO_WRAP,grow:0},void 0,p(s.default,{className:d.default.textInput,inputClassName:d.default.noBorder,value:M,onChange:f,placeholder:r,disabled:n}),p(i.default,{className:d.default.textInputButton,color:t.color,height:i.default.Height.SHORT,onClick:c,submitting:o,disabled:n},void 0,t.text))};return t}(n.Component);t.default=v;v.displayName="TextInputWithButton";v.defaultProps={buttonProps:{text:"",color:i.default.Color.BRAND},disabled:!1}}}]);
//# sourceMappingURL=e25c418adab7392eeb85.js.map