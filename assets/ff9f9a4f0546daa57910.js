"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[16377],{516377:(t,e,n)=>{n.r(e);n.d(e,{default:()=>T});var r=n(785893),o=n(667294),i=n(380942),u=n(363010),a=n(281081),c=n(733436),l=n(730189),s=n(106392),f=n(769672),d=n(578168),b=n(366081),p=n(409271),y=n(932847),S=n(742269),g=n(588641),h=n(967473),E=n(461061),v=n(959797);function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function O(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],u=!0,a=!1;try{for(n=n.call(t);!(u=(r=n.next()).done);u=!0){i.push(r.value);if(e&&i.length===e)break}}catch(t){a=!0;o=t}finally{try{u||null==n.return||n.return()}finally{if(a)throw o}}return i}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return m(t,e);var n=Object.prototype.toString.call(t).slice(8,-1)
;"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(t){var e,n,m,T,j,A,C,k=t.text,x=t.editor,N=t.target,_=t.onHeightUpdate,Z=t.onSelect,M=o.useCallback((function(){(0,a.Zy)((function(){i.F3.focus(x);setTimeout((function(){return h.bN.focus(x)}),0)}))}),[x]),w=O((0,b.Z)({text:k,target:N,onHeightUpdate:_}),2),I=w[0],L=w[1],G=(0,u.e7)([l.Z],(function(){return l.Z.isSubmitButtonEnabled})),P=(0,d.Z)(),U=p.Xk.useSetting(),D=s.Z.useExperiment({}).showApplicationCommandSuggestions;if(!S.FB)return null
;var R,H,X=null!==(C=null===(e=x.chatInputType)||void 0===e||null===(n=e.commands)||void 0===n?void 0:n.enabled)&&void 0!==C&&C,B=null!==(R=null===(m=x.chatInputType)||void 0===m||null===(T=m.stickers)||void 0===T?void 0:T.autoSuggest)&&void 0!==R&&R,K=null!==(H=null===(j=x.chatInputType)||void 0===j||null===(A=j.submit)||void 0===A?void 0:A.button)&&void 0!==H&&H,F=X||B,q=""!==k?[(0,r.jsx)(f.sN,{id:"copy",label:v.Z.Messages.COPY,hint:(0,S.id)()?"⌘C":"Ctrl+C",action:function(){return setTimeout((function(){return g.default.copy()}),0)}},"copy"),(0,r.jsx)(f.sN,{id:"cut",label:v.Z.Messages.CUT,hint:(0,S.id)()?"⌘X":"Ctrl+X",action:function(){return setTimeout((function(){return g.default.cut()}),0)}},"cut")]:null,V=D&&(0,r.jsx)(f.S8,{id:"command-suggestions",label:v.Z.Messages.SUGGEST_SLASH_COMMANDS,checked:U,action:function(){var t=!U;p.Xk.updateSetting(t);y.default.track(E.rMx.SLASH_COMMAND_SUGGESTIONS_TOGGLED,{enabled:t,location:{object:E.qAy.CONTEXT_MENU}})}});return(0,r.jsxs)(f.ZP,{
navId:"textarea-context",onClose:M,"aria-label":v.Z.Messages.TEXTAREA_ACTIONS_MENU_LABEL,onSelect:Z,children:[F&&(0,r.jsxs)(f.sN,{id:"suggestions",label:v.Z.Messages.TEXTAREA_ACTIONS_SUGGESTIONS,children:[B&&P,X&&V]}),K&&(0,r.jsx)(f.S8,{id:"submit-button",label:v.Z.Messages.TEXTAREA_ACTIONS_SUBMIT_BUTTON,checked:G,action:function(){(0,c.eN)()}}),(0,r.jsx)(f.kS,{children:I}),(0,r.jsx)(f.kS,{children:L}),(0,r.jsxs)(f.kS,{children:[q,(0,r.jsx)(f.sN,{id:"paste",label:v.Z.Messages.PASTE,hint:(0,S.id)()?"⌘V":"Ctrl+V",action:function(){return setTimeout((function(){return g.default.paste()}),0)}})]})]})}},578168:(t,e,n)=>{n.d(e,{Z:()=>s});var r=n(785893),o=(n(667294),n(64833)),i=n(769672),u=n(409271),a=n(932847),c=n(461061),l=n(959797);function s(){var t=u.up.useSetting(),e=(0,o.Z)().analyticsLocations;return(0,r.jsx)(i.S8,{id:"sticker-suggestions",label:l.Z.Messages.SUGGEST_STICKERS,checked:t,action:function(){a.default.track(c.rMx.STICKER_SUGGESTIONS_ENABLED_TOGGLED,{enabled:!t,location:{
object:c.qAy.CONTEXT_MENU},location_stack:e});u.up.updateSetting(!t)}})}},366081:(t,e,n)=>{n.d(e,{Z:()=>E});var r=n(785893),o=n(667294),i=n(388721),u=n(363010),a=n(173436);var c=n(769672),l=n(273192),s=n(95467),f=n(784041),d=n(461061),b=n(959797);function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function y(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n;return t}function S(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))));r.forEach((function(e){y(t,e,n[e])}))}return t}function g(t,e){e=null!=e?e:{};Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):function(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){
var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})));n.push.apply(n,r)}return n}(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}));return t}function h(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],u=!0,a=!1;try{for(n=n.call(t);!(u=(r=n.next()).done);u=!0){i.push(r.value);if(e&&i.length===e)break}}catch(t){a=!0;o=t}finally{try{u||null==n.return||n.return()}finally{if(a)throw o}}return i}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return p(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(t,e)}(t,e)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(t){var e=t.text,n=void 0===e?"":e,p=t.target,y=(0,u.e7)([l.Z],(function(){return l.Z.isEnabled()})),E=o.useRef(g(S({},t),{spellcheckEnabled:y}));E.current=g(S({},t),{spellcheckEnabled:y});var v=o.useRef(!1),m=h(o.useState(!1),2),O=m[0],T=m[1],j=h(o.useState([]),2),A=j[0],C=j[1],k=o.useCallback((function(){var t=E.current,e=t.spellcheckEnabled,n=t.text,r=t.onHeightUpdate;e&&(0,f.Gb)()&&Promise.all([(0,f.f5)(n,!0),(0,f.WA)(n,!0)]).then((function(t){var e=h(t,2),n=e[0],o=e[1];if(v.current){T(n);C(o);r()}}))}),[]),x=o.useCallback((function(){if((0,i.k)(p,HTMLInputElement)||(0,i.k)(p,HTMLTextAreaElement)){var t=p.selectionStart,e=p.selectionEnd,n=p.value;p.value="";p.value=n;if("email"!==p.type){p.selectionStart=t;p.selectionEnd=e}}}),[p]);o.useEffect((function(){(0,f.RD)(k);v.current=!0;return function(){v.current=!1
;(0,f.y9)(k)}}),[k]);o.useEffect((function(){k()}),[n,y,k]);return(0,f.Gb)()?[A.map((function(t,e){return(0,r.jsx)(c.sN,{id:"correction-".concat(e),label:t,action:function(){(0,f.Rs)(t);p.focus()}},"correction-".concat(e))})),(0,r.jsxs)(r.Fragment,{children:[O?(0,r.jsx)(c.sN,{id:"add-to-dictionary",label:b.Z.Messages.ADD_TO_DICTIONARY,action:function(){t=n,a.Z.dispatch({type:"SPELLCHECK_LEARN_WORD",word:t});var t;x()}}):null,(0,r.jsx)(c.S8,{id:"spellcheck",label:b.Z.Messages.SPELLCHECK,checked:y,action:function(){a.Z.dispatch({type:"SPELLCHECK_TOGGLE"});x()}}),y?(0,r.jsx)(c.sN,{id:"languages",label:b.Z.Messages.LANGUAGES,action:function(){return window.open(s.Z.getArticleURL(d.BhN.SPELLCHECK))}}):null]})]:[null,null]}}}]);
//# sourceMappingURL=ff9f9a4f0546daa57910.js.map