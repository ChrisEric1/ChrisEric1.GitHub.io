"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[29223],{579344:(e,t,n)=>{n.d(t,{Z:()=>N});var r=n(999357),o=n(72190),i=n(281110),a=n(744564),u=n(53645),l=n(296602),c=n(652591),s=n(801809),f=n(2590);function _(e,t,n,r,o,i,a){try{var u=e[i](a),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,o)}function E(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){_(i,r,o,a,u,"next",e)}function u(e){_(i,r,o,a,u,"throw",e)}a(void 0)}))}}function O(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){O(e,t,n[t])}))}return e}
function T(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var p=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:
a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},C=new l.Z("ConnectedAccounts");function y(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return i.Z.post({url:f.ANM.CONNECTIONS_CALLBACK(e),body:T(d({},t),{insecure:n,friend_sync:f.BFP.has(e)}),oldFormErrors:!0})}const N={fetch:function(){return i.Z.get({url:f.ANM.CONNECTIONS,oldFormErrors:!0}).then((function(e){return a.Z.dispatch({type:"USER_CONNECTIONS_UPDATE",local:!0,accounts:e.body})}),(function(){return a.Z.dispatch({
type:"USER_CONNECTIONS_UPDATE",local:!0,accounts:[]})}))},authorize:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.location,a=n.twoWayLinkType,u=n.userCode;c.default.track(f.rMx.CONNECTED_ACCOUNT_INITIATED,{platform_type:e,location:r});t=a===o.g.DEVICE_CODE&&null!=u?f.ANM.CONNECTIONS_AUTHORIZE_LINK_DEVICE(e,u):null!=a?f.ANM.CONNECTIONS_AUTHORIZE_LINK(e,a):f.ANM.CONNECTIONS_AUTHORIZE(e);return i.Z.get({url:t,oldFormErrors:!0})},callback:y,connect:function(e,t,n,o,i){var a;return s.Z.put({url:f.ANM.CONNECTION(e,t),body:{name:n,friend_sync:null!==(a=null==i?void 0:i.friend_sync)&&void 0!==a?a:f.BFP.has(e)},context:{location:o},oldFormErrors:!0,trackedActionData:{event:r.a9.USER_CONNECTIONS_UPDATE,properties:{name:n,friend_sync:f.BFP.has(e)}}})},disconnect:function(e,t){return i.Z.delete({url:f.ANM.CONNECTION(e,t),oldFormErrors:!0})},refresh:function(e,t){return i.Z.post({url:f.ANM.CONNECTION_REFRESH(e,t),oldFormErrors:!0})},submitPinCode:function(e,t){
return i.Z.get({url:f.ANM.CONNECTIONS_CALLBACK_CONTINUATION(t,e),oldFormErrors:!0}).then((function(e){var n=e.body;c.default.track(f.rMx.ACCOUNT_LINK_STEP,{previous_step:"PIN code entry",current_step:"PIN success",session_id:n.state,platform_type:t});return y(t,T(d({},n),{from_continuation:!0}),!0)}))},setVisibility:function(e,t,n){return this.update(e,t,{visibility:1===n})},setMetadataVisibility:function(e,t,n){return this.update(e,t,{metadata_visibility:1===n})},setFriendSync:function(e,t,n){return this.update(e,t,{friend_sync:n})},setShowActivity:function(e,t,n){return this.update(e,t,{show_activity:n})},update:function(e,t,n){return s.Z.patch({url:f.ANM.CONNECTION(e,t),body:n,oldFormErrors:!0,trackedActionData:{event:r.a9.USER_CONNECTIONS_UPDATE,properties:d({},n)}})},joinServer:function(e,t){a.Z.dispatch({type:"USER_CONNECTIONS_INTEGRATION_JOINING",integrationId:e,joining:!0});i.Z.post({url:f.ANM.INTEGRATION_JOIN(e),oldFormErrors:!0},(function(n){a.Z.dispatch({
type:"USER_CONNECTIONS_INTEGRATION_JOINING",integrationId:e,joining:!1});n.ok||null==t||t()}))},refreshAccessToken:function(e,t){return E((function(){var n,r,o,u;return p(this,(function(l){switch(l.label){case 0:l.trys.push([0,2,,3]);return[4,i.Z.get({url:f.ANM.CONNECTION_ACCESS_TOKEN(e,t),oldFormErrors:!0})];case 1:n=l.sent(),r=n.body,o=r.access_token;a.Z.dispatch({type:"USER_CONNECTION_UPDATE",platformType:e,id:t,accessToken:o});return[2,o];case 2:(u=l.sent()).body.code===f.evJ.CONNECTION_REVOKED&&a.Z.dispatch({type:"USER_CONNECTION_UPDATE",platformType:e,id:t,revoked:!0});throw u;case 3:return[2]}}))}))()},linkDispatchAuthCallback:function(e,t){return i.Z.post({url:f.ANM.CONNECTIONS_LINK_DISPATCH_AUTH_CALLBACK(e),body:d({},t),oldFormErrors:!0})},completeTwoWayLink:function(e,t,n,r,o){return E((function(){var i,a,l,c;return p(this,(function(s){switch(s.label){case 0:if(null==t){C.error("Two-way link: missing authorize location");return[2]}i=(0,u.xp)(t),a=i.code,l=i.error,
c=i.errorDescription;if(null!=l){C.error("Two-way link: missing authorize code",{error:l,errorDescription:c});return[2]}return[4,y(e,{code:n,state:r,two_way_link_code:a,token_redirect_uri:o})];case 1:return[2,s.sent()]}}))}))()}}},318277:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(940060),o=n(567403),i=n(2590),a=[i.d4z.GUILD_TEXT,i.d4z.GUILD_VOICE,i.d4z.GUILD_ANNOUNCEMENT,i.d4z.GUILD_FORUM,i.d4z.PUBLIC_THREAD,i.d4z.PRIVATE_THREAD],u=r.Z.combine(i.Plq.VIEW_CHANNEL,i.Plq.SEND_MESSAGES);function l(e){if(null==e||!a.includes(e.type))return[];var t=o.Z.getGuild(e.guild_id);return null==t?[]:Object.values(e.permissionOverwrites).filter((function(e){var n,o;return 0===e.type&&null===(null===(n=t.roles[e.id])||void 0===n||null===(o=n.tags)||void 0===o?void 0:o.guild_connections)&&!r.Z.hasAny(e.deny,u)})).map((function(e){return t.roles[e.id]})).filter((function(e){return null!=e}))}},53645:(e,t,n)=>{n.d(t,{bO:()=>T,SJ:()=>y,O1:()=>d,xp:()=>N,AK:()=>A,n_:()=>S,kQ:()=>b,Ur:()=>I})
;var r=n(441143),o=n.n(r),i=n(496486),a=n.n(i),u=n(608575),l=n(131868),c=(n(418705),n(265688)),s=n(318277),f=(n(351330),n(567403)),_=(n(682776),n(678005)),E=n(2590),O=n(473708);var d,T=function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({},E.ABu.INSTAGRAM,["1036753656588017764"]),p=new Map([[E.ABu.INSTAGRAM,new Date(2023,1,18).getTime()]]),C=2592e6,y=["426537812993638400","1042836142560645130","296023718839451649","979802510766268446","1031611223235637258","512333785338216465"];!function(e){e[e.AND=0]="AND";e[e.OR=1]="OR"}(d||(d={}));function N(e){var t=u.parse(e,!0).query,n=t.code,r=t.state,i=t.error,a=t.error_description;o()(!Array.isArray(n),"Received multiple query param values for code");o()(!Array.isArray(r),"Received multiple query param values for state");o()(!Array.isArray(i),"Received multiple query param values for error");o()(!Array.isArray(a),"Received multiple query param values for error_description")
;return{code:n,state:r,error:i,errorDescription:a}}function A(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return a().sortBy(c.Z.filter((function(e){return!!(e.enabled||null!=t&&t.has(e.type))&&(null==n||!n.has(e.type))})),[function(t){return!(p.has(t.type)&&Date.now()<(null!==(e=p.get(t.type))&&void 0!==e?e:0)+C)},function(e){return null!=r&&r.has(e.type)},function(e){return e.hasMetadata},function(e){return!E.vbS.has(e.type)},function(e){return e.name}])}function S(e){var t=e.connectionType,n=e.connectionMetadataField,r=e.operator,o=e.operatorText,i=e.value,a=null,u=Math.round(Number(i));switch(r){case _.iO.EQUAL:a=O.Z.Messages.CONNECTIONS_ROLE_POPOUT_MUST_BE;t===E.ABu.PAYPAL&&n===_.PC.PAYPAL_VERIFIED&&(a=O.Z.Messages.CONNECTIONS_ROLE_POPOUT_MUST_HAVE_A);break;case _.iO.NOT_EQUAL:a=O.Z.Messages.CONNECTIONS_ROLE_POPOUT_MUST_NOT_BE
;break;case _.iO.LESS_THAN:a=O.Z.Messages.CONNECTIONS_ROLE_POPOUT_MUST_HAVE_AT_MOST;u=Math.max(0,u-1);break;case _.iO.GREATER_THAN:a=O.Z.Messages.CONNECTIONS_ROLE_POPOUT_MUST_HAVE_AT_LEAST;u=Math.max(0,u+1);break;case void 0:case null:return null}null!=o&&(a=o);if(a instanceof l._H&&null!=r)switch(t){case E.ABu.REDDIT:switch(n){case _.PC.CREATED_AT:a=a.format({platformQuantityHook:function(){return O.Z.Messages.CONNECTIONS_ROLE_RULE_ACCOUNT_AGE.format({days:u})}});break;case _.PC.REDDIT_TOTAL_KARMA:a=a.format({platformQuantityHook:function(){return O.Z.Messages.CONNECTIONS_ROLE_RULE_REDDIT_KARMA.format({karma:u})}});break;case _.PC.REDDIT_GOLD:a=a.format({platformQuantityHook:function(){return O.Z.Messages.CONNECTIONS_ROLE_RULE_REDDIT_GOLD}});break;case _.PC.REDDIT_MOD:a=a.format({platformQuantityHook:function(){return O.Z.Messages.CONNECTIONS_ROLE_RULE_REDDIT_MODERATOR}});break;default:return null}break;case E.ABu.STEAM:switch(n){case _.PC.CREATED_AT:a=a.format({
platformQuantityHook:function(){return O.Z.Messages.CONNECTIONS_ROLE_RULE_ACCOUNT_AGE.format({days:u})}});break;case _.PC.STEAM_GAME_COUNT:a=a.format({platformQuantityHook:function(){return O.Z.Messages.CONNECTIONS_ROLE_RULE_STEAM_GAMES.format({count:u})}});break;case _.PC.STEAM_ITEM_COUNT_TF2:a=a.format({platformQuantityHook:function(){return O.Z.Messages.CONNECTIONS_ROLE_RULE_STEAM_TF2_ITEMS.format({count:u})}});break;case _.PC.STEAM_ITEM_COUNT_DOTA2:a=a.format({platformQuantityHook:function(){return O.Z.Messages.CONNECTIONS_ROLE_RULE_STEAM_DOTA2_ITEMS.format({count:u})}});break;default:return null}break;case E.ABu.TWITTER:switch(n){case _.PC.CREATED_AT:a=a.format({platformQuantityHook:function(){return O.Z.Messages.CONNECTIONS_ROLE_RULE_ACCOUNT_AGE.format({days:u})}});break;case _.PC.TWITTER_VERIFIED:a=a.format({platformQuantityHook:function(){return O.Z.Messages.CONNECTIONS_ROLE_RULE_TWITTER_VERIFIED}});break;case _.PC.TWITTER_FOLLOWERS_COUNT:a=a.format({
platformQuantityHook:function(){return O.Z.Messages.CONNECTIONS_ROLE_RULE_TWITTER_FOLLOWERS.format({count:u})}});break;case _.PC.TWITTER_STATUSES_COUNT:a=a.format({platformQuantityHook:function(){return O.Z.Messages.CONNECTIONS_ROLE_RULE_TWITTER_STATUSES.format({count:u})}});break;default:return null}break;case E.ABu.PAYPAL:switch(n){case _.PC.CREATED_AT:a=a.format({platformQuantityHook:function(){return O.Z.Messages.CONNECTIONS_ROLE_RULE_ACCOUNT_AGE.format({days:u})}});break;case _.PC.PAYPAL_VERIFIED:a=a.format({platformQuantityHook:function(){return O.Z.Messages.CONNECTIONS_ROLE_RULE_PAYPAL_VERIFIED}});break;default:return null}break;case E.ABu.EBAY:switch(n){case _.PC.CREATED_AT:a=a.format({platformQuantityHook:function(){return O.Z.Messages.CONNECTIONS_ROLE_RULE_ACCOUNT_AGE.format({days:u})}});break;case _.PC.EBAY_TOP_RATED_SELLER:a=a.format({platformQuantityHook:function(){return O.Z.Messages.CONNECTIONS_EBAY_TOP_RATED_SELLER}});break;case _.PC.EBAY_POSITIVE_FEEDBACK_PERCENTAGE:
a=a.format({platformQuantityHook:function(){return O.Z.Messages.CONNECTIONS_ROLE_RULE_EBAY_POSITIVE_FEEDBACK_PERCENTAGE.format({value:u})}});break;case _.PC.EBAY_UNIQUE_POSITIVE_FEEDBACK_COUNT:a=a.format({platformQuantityHook:function(){return O.Z.Messages.CONNECTIONS_ROLE_RULE_EBAY_UNIQUE_POSITIVE_FEEDBACK_COUNT.format({count:u})}});break;case _.PC.EBAY_UNIQUE_NEGATIVE_FEEDBACK_COUNT:a=a.format({platformQuantityHook:function(){return O.Z.Messages.CONNECTIONS_ROLE_RULE_EBAY_UNIQUE_NEGATIVE_FEEDBACK_COUNT.format({count:u})}});break;default:return null}break;case E.ABu.TIKTOK:switch(n){case _.PC.TIKTOK_VERIFIED:a=a.format({platformQuantityHook:function(){return O.Z.Messages.CONNECTIONS_ROLE_RULE_TIKTOK_VERIFIED}});break;case _.PC.TIKTOK_FOLLOWER_COUNT:a=a.format({platformQuantityHook:function(){return O.Z.Messages.CONNECTIONS_ROLE_RULE_TIKTOK_FOLLOWER_COUNT.format({count:u})}});break;case _.PC.TIKTOK_FOLLOWING_COUNT:a=a.format({platformQuantityHook:function(){
return O.Z.Messages.CONNECTIONS_ROLE_RULE_TIKTOK_FOLLOWING_COUNT.format({count:u})}});break;case _.PC.TIKTOK_LIKES_COUNT:a=a.format({platformQuantityHook:function(){return O.Z.Messages.CONNECTIONS_ROLE_RULE_TIKTOK_LIKES_COUNT.format({count:u})}});break;default:return null}break;default:return null}return a}function b(e){return Object.values(e.roles).some((function(e){var t;return null===(null===(t=e.tags)||void 0===t?void 0:t.guild_connections)}))}function I(e){var t=e.guildMember,n=e.guild,r=e.channel,i=e.onlyChannelConnectionRoles,u=void 0!==i&&i;if(null==t)return null;null==n&&null!=r&&(n=f.Z.getGuild(r.getGuildId()));if(null==n)return null;var l,c=t.roles.map((function(e){var t;return null==n||null===(t=n.roles)||void 0===t?void 0:t[e]})).filter((function(e){var t;return null===(null==e||null===(t=e.tags)||void 0===t?void 0:t.guild_connections)})).sort((function(e,t){o()(null!=e&&null!=t,"roleA or roleB is null");return t.position-e.position})),_=a().intersection(c,(0,s.Z)(r))
;if(_.length>0){var E;return null!==(E=_[0])&&void 0!==E?E:null}return u?null:null!==(l=c[0])&&void 0!==l?l:null}},678005:(e,t,n)=>{n.d(t,{iO:()=>r,PC:()=>o,Kt:()=>a,xn:()=>i});var r,o;!function(e){e[e.EQUAL=1]="EQUAL";e[e.NOT_EQUAL=2]="NOT_EQUAL";e[e.LESS_THAN=3]="LESS_THAN";e[e.GREATER_THAN=4]="GREATER_THAN"}(r||(r={}));!function(e){e.CREATED_AT="created_at";e.REDDIT_TOTAL_KARMA="total_karma";e.REDDIT_GOLD="gold";e.REDDIT_MOD="mod";e.STEAM_GAME_COUNT="game_count";e.STEAM_ITEM_COUNT_TF2="item_count_tf2";e.STEAM_ITEM_COUNT_DOTA2="item_count_dota2";e.TWITTER_VERIFIED="verified";e.TWITTER_FOLLOWERS_COUNT="followers_count";e.TWITTER_STATUSES_COUNT="statuses_count";e.PAYPAL_VERIFIED="verified";e.EBAY_POSITIVE_FEEDBACK_PERCENTAGE="positive_feedback_percentage";e.EBAY_TOP_RATED_SELLER="top_rated_seller";e.EBAY_UNIQUE_NEGATIVE_FEEDBACK_COUNT="unique_negative_feedback_count";e.EBAY_UNIQUE_POSITIVE_FEEDBACK_COUNT="unique_positive_feedback_count";e.TIKTOK_VERIFIED="verified"
;e.TIKTOK_FOLLOWER_COUNT="follower_count";e.TIKTOK_FOLLOWING_COUNT="following_count";e.TIKTOK_LIKES_COUNT="likes_count"}(o||(o={}));var i,a="application";!function(e){e[e.INTEGER_LESS_THAN_EQUAL=1]="INTEGER_LESS_THAN_EQUAL";e[e.INTEGER_GREATER_THAN_EQUAL=2]="INTEGER_GREATER_THAN_EQUAL";e[e.INTEGER_EQUAL=3]="INTEGER_EQUAL";e[e.INTEGER_NOT_EQUAL=4]="INTEGER_NOT_EQUAL";e[e.DATETIME_LESS_THAN_EQUAL=5]="DATETIME_LESS_THAN_EQUAL";e[e.DATETIME_GREATER_THAN_EQUAL=6]="DATETIME_GREATER_THAN_EQUAL";e[e.BOOLEAN_EQUAL=7]="BOOLEAN_EQUAL";e[e.BOOLEAN_NOT_EQUAL=8]="BOOLEAN_NOT_EQUAL"}(i||(i={}))},458947:(e,t,n)=>{n.d(t,{L:()=>r,R:()=>o});var r,o;!function(e){e.PRIMARY="primary";e.SECONDARY="secondary";e.DISMISS="dismiss";e.AUTO="auto"}(r||(r={}));!function(e){e.GUILD_HEADER_TOOLTIPS="GUILD_HEADER_TOOLTIPS";e.CHANNEL_NOTICES="CHANNEL_NOTICES";e.CALL_CHAT_BUTTON="CALL_CHAT_BUTTON";e.GUILD_FEED_TOP="GUILD_FEED_TOP";e.MAIN_VIEW_TOOLTIPS="MAIN_VIEW_TOOLTIPS"
;e.CHANNEL_HEADER_CALL_BUTTON_TOOLTIPS="CHANNEL_HEADER_CALL_BUTTON_TOOLTIPS";e.YOU_TAB_ONBOARDING="YOU_TAB_ONBOARDING";e.SUPER_REACTIONS_SPARKLES="SUPER_REACTIONS_SPARKLES";e.NOTICE_BAR="NOTICE_BAR";e.PROFILE_DRAWER_HEADER="PROFILE_DRAWER_HEADER"}(o||(o={}))},202223:(e,t,n)=>{n.d(t,{O:()=>o})
;var r=n(418705),o=new Set([r.z$.APPLICATION_COMMAND_TOOLTIP,r.z$.NOW_PLAYING_CONSENT_CARD,r.z$.GUILD_INSIGHTS_ACCESS_RATE_NEW,r.z$.FORUM_CHANNEL_UPSELL_MODAL,r.z$.FORUM_CHANNEL_HELPER_CARD,r.z$.AUTH_SESSIONS_NEW,r.z$.COMMANDS_MIGRATION_UPSELL_MODAL,r.z$.HUB_BACK_TO_SCHOOL_UPSELL,r.z$.CHANNEL_BROWSER_NUX,r.z$.APP_DIRECTORY_COACH_MARK,r.z$.BLACK_FRIDAY_2022_BOGO_ANNOUNCEMENT_MODAL,r.z$.GG_ANNOUNCEMENT,r.z$.GUILD_ONBOARDING_UPSELL_MODAL,r.z$.SEASONAL_GIFTING_COACHMARK_2022,r.z$.CLIENT_THEMES_SETTINGS_BADGE,r.z$.CLIENT_THEMES_SPARKLE_PREVIEW,r.z$.BURST_REACTION_NITRO_TOOLTIP,r.z$.QUEST_1_COMPLETION_TOOLTIP,r.z$.AVATAR_DECORATIONS_BIRTHDAY_2023_SETTINGS_NEW_BADGE,r.z$.COLLECTIBLES_SUMMER_2023_SETTINGS_NEW_BADGE_MOBILE,r.z$.COLLECTIBLES_SUMMER_2023_PROFILE_SETTINGS_SPARKLES_MOBILE,r.z$.SOUNDBOARD_VOLUME_EDUCATION,r.z$.GUILD_HEADER_SPLIT_PERMISSION,r.z$.COLLECTIBLES_PROFILE_SHEET_UPSELL])},798999:(e,t,n)=>{n.d(t,{c:()=>o,E:()=>i});var r=n(744564),o=function(e){r.Z.dispatch({
type:"DCF_HANDLE_DC_SHOWN",dismissibleContent:e})},i=function(){r.Z.dispatch({type:"DCF_RESET"})}},797079:(e,t,n)=>{n.d(t,{Z:()=>A});var r=n(202351),o=n(744564),i=n(303927),a=n(652591),u=n(202223),l=n(2590);function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function f(e){f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return f(e)}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){s(e,t,n[t])}))}return e}function E(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function O(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e,t){d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return d(e,t)}var T,p=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{
Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O(this,n)}}!function(e){e.DAILY_CAP="daily_cap";e.WEEKLY_CAP="weekly_cap"}(T||(T={}));var y={numberOfDCsShownToday:0,numberOfDCsShownThisWeek:0,dailyCapPeriodStart:null,weeklyCapPeriodStart:null,dismissibleContentSeenDuringSession:new Set};var N=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&d(e,t)}(n,e);var t=C(n);function n(){c(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(e){if(null!=e){var t,n;y.numberOfDCsShownToday=null!==(t=e.numberOfDCsShownToday)&&void 0!==t?t:0
;y.numberOfDCsShownThisWeek=null!==(n=e.numberOfDCsShownThisWeek)&&void 0!==n?n:0;y.dailyCapPeriodStart=e.dailyCapPeriodStart;y.weeklyCapPeriodStart=e.weeklyCapPeriodStart}y.dismissibleContentSeenDuringSession=new Set};r.getState=function(){return y};r.hasUserHitDCCap=function(e){if(null!=e&&u.O.has(e))return!1;if(null!=e&&y.dismissibleContentSeenDuringSession.has(e))return!1;var t=i.Z.getCurrentConfig({},{autoTrackExposure:!1}),n=t.dailyCap,r=t.weeklyCap,o=null!=n,a=null!=r,l=new Date;l.setHours(0,0,0,0);var c=new Date;c.setDate(c.getDate()-c.getDay());c.setHours(0,0,0,0);if(o&&null!=y.dailyCapPeriodStart&&y.dailyCapPeriodStart<l.getTime()){y.numberOfDCsShownToday=0;y.dailyCapPeriodStart=null}if(a&&null!=y.weeklyCapPeriodStart&&y.weeklyCapPeriodStart<c.getTime()){y.numberOfDCsShownToday=0;y.numberOfDCsShownThisWeek=0;y.dailyCapPeriodStart=null;y.weeklyCapPeriodStart=null}return!!(o&&y.numberOfDCsShownToday>=n)||!!(a&&y.numberOfDCsShownThisWeek>=r)};r.__getLocalVars=function(){return{
DCFCapType:T,state:y}};return n}(r.ZP.PersistedStore);N.displayName="DismissibleContentFrameworkStore";N.persistKey="DismissibleContentFrameworkStore";N.migrations=[function(e){return _({},e)}];const A=new N(o.Z,{LOGOUT:function(){y=E(_({},y),{dismissibleContentSeenDuringSession:new Set})},DCF_HANDLE_DC_SHOWN:function(e){var t=e.dismissibleContent;if(!u.O.has(t)&&!y.dismissibleContentSeenDuringSession.has(t)){y.dismissibleContentSeenDuringSession.add(t);var n=i.Z.getCurrentConfig({},{autoTrackExposure:!1}),r=n.dailyCap,o=n.weeklyCap,c=null!=r,s=null!=o;if(c&&null==y.dailyCapPeriodStart){var f=new Date;f.setHours(0,0,0,0);y.dailyCapPeriodStart=f.getTime()}if(s&&null==y.weeklyCapPeriodStart){var _=new Date;_.setDate(_.getDate()-_.getDay());_.setHours(0,0,0,0);y.weeklyCapPeriodStart=_.getTime()}c&&(y.numberOfDCsShownToday+=1);s&&(y.numberOfDCsShownThisWeek+=1);c&&y.numberOfDCsShownToday>r&&a.default.track(l.rMx.DCF_CAP_EXCEEDED,{cap_type:T.DAILY_CAP,dismissible_content:t,
shown_dcs:y.numberOfDCsShownToday});s&&y.numberOfDCsShownThisWeek>o&&a.default.track(l.rMx.DCF_CAP_EXCEEDED,{cap_type:T.WEEKLY_CAP,dismissible_content:t,shown_dcs:y.numberOfDCsShownThisWeek})}},DCF_RESET:function(){y.dailyCapPeriodStart=null;y.weeklyCapPeriodStart=null;y.numberOfDCsShownToday=0;y.numberOfDCsShownThisWeek=0;y.dismissibleContentSeenDuringSession=new Set}})},188344:(e,t,n)=>{n.d(t,{f0:()=>C,ZP:()=>m,Aq:()=>b,cI:()=>N,gE:()=>y,mc:()=>I,ot:()=>S,bn:()=>A});var r=n(38736),o=n(202223);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function u(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function l(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var c=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)
;this.timeoutId=null}var t=e.prototype;t.schedule=function(e,t){var n=this;this.unschedule();this.timeoutId=setTimeout((function(){n.timeoutId=null;e()}),t)};t.unschedule=function(){if(this.scheduled()){clearTimeout(this.timeoutId);this.timeoutId=null}};t.scheduled=function(){return null!==this.timeoutId};return e}()),s=function(){return{candidates:new Map,shownFatigableCandidate:null,prevFatigableCandidate:null,currentlyShown:new Set,currentlyShownGroup:new Set,lastWinnerTime:0}},f=(0,r.Z)(s),_=function(e){return u(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){a(e,t,n[t])}))}return e}({},e),{candidates:new Map(e.candidates),currentlyShown:new Set(e.currentlyShown),currentlyShownGroup:new Set(e.currentlyShownGroup)})},E=function(e,t){
var n;if(null==t)return e;null!=t.content&&e.currentlyShown.delete(t.content);null!=t.groupName&&e.currentlyShownGroup.delete(t.groupName);(null===(n=e.shownFatigableCandidate)||void 0===n?void 0:n.content)===t.content&&(e.shownFatigableCandidate=null);return e},O=function(e,t){var n;if(null==t)return e;e.currentlyShown.add(t.content);null!=t.groupName&&e.currentlyShownGroup.add(t.groupName);if(!o.O.has(t.content)){var r;e.shownFatigableCandidate=t;if((null===(r=e.prevFatigableCandidate)||void 0===r?void 0:r.content)!==t.content){e.prevFatigableCandidate=t;e.lastWinnerTime=(new Date).getTime()}}null===(n=t.onAdded)||void 0===n||n.call(t);return e},d=function(e,t){e.candidates.delete(t.content);return e},T=function(e,t){return O(E(e,e.shownFatigableCandidate),t)},p=function(e){if(0===e.candidates.size)return e;var t=(new Date).getTime()-e.lastWinnerTime>3e5;if(function(e){
return null!=e.prevFatigableCandidate&&e.candidates.has(e.prevFatigableCandidate.content)&&null==e.shownFatigableCandidate}(e)&&!t){c.unschedule();return T(e,function(e){return null!=e.prevFatigableCandidate?e.candidates.get(e.prevFatigableCandidate.content):void 0}(e))}if(null!=e.shownFatigableCandidate&&!t)return e;if(c.scheduled())return e;var n=(new Date).getTime();if(null==e.shownFatigableCandidate&&n-e.lastWinnerTime<36e5)return e;c.schedule((function(){f.setState((function(e){var t=_(e);return T(t,function(e){var t=l(e.candidates.keys());null!==e.prevFatigableCandidate&&e.candidates.has(e.prevFatigableCandidate.content)&&e.candidates.size>1&&(t=t.filter((function(t){var n;return t!==(null===(n=e.prevFatigableCandidate)||void 0===n?void 0:n.content)})));return e.candidates.get(t[Math.floor(Math.random()*t.length)])}(t))}))}),250);return e},C=function(e){var t=o.O.has(e.content);f.setState((function(n){var r=_(n);return t?O(r,e):p(function(e,t){e.candidates.set(t.content,t)
;return e}(r,e))}))},y=function(e,t){f.setState((function(n){var r=_(n);return t?p(E(d(r,e),e)):E(d(r,e),e)}))},N=function(e){return f.getState().currentlyShown.has(e)},A=function(e){return f((function(t){return t.currentlyShown.has(e)}))},S=function(e){return f((function(t){return e.some((function(e){return t.currentlyShown.has(e)}))}))},b=function(){var e=l(f.getState().currentlyShown).filter((function(e){return!o.O.has(e)})).length;return[f.getState().currentlyShown.size,e]},I=function(){f.setState(s);c.unschedule()};function m(e){return f(e)}},351330:(e,t,n)=>{n.d(t,{un:()=>b,EW:()=>h,kk:()=>m,h3:()=>g,wE:()=>I});var r=n(202351),o=n(418705),i=n(303927),a=n(917019),u=n(473419),l=n(652591),c=n(256764),s=n(202223),f=n(798999),_=n(797079),E=n(188344),O=n(259556),d=(0,n(260561).B)({kind:"user",id:"2023-06_no_dcs_in_overlay",label:"No DCs in Overlay",defaultConfig:{hideDCsInOverlay:!1},treatments:[{id:1,label:"Remove DCs",config:{hideDCsInOverlay:!0}}]});var T=n(458947),p=n(2590)
;function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t,n,r,o,i,a){try{var u=e[i](a),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,o)}function N(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){y(i,r,o,a,u,"next",e)}function u(e){y(i,r,o,a,u,"throw",e)}a(void 0)}))}}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){u=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var S=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,
o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};function b(e){var t;if((0,O.B)(e))return!0;var n=null===(t=u.Z.settings.userContent)||void 0===t?void 0:t.dismissedContents;return null!=n&&(0,c.jl)(n,e)}function I(e){return(0,r.e7)([u.Z],(function(){return b(e)}))}function m(e,t){if(!(0,E.cI)(e)){var n=(0,i.u)();if(!n||!_.Z.hasUserHitDCCap(e)){d.getCurrentConfig({},{autoTrackExposure:__OVERLAY__}).hideDCsInOverlay&&__OVERLAY__||(0,E.f0)({content:e,groupName:null==t?void 0:t.groupName,onAdded:function(){var r,i=A((0,E.Aq)(),2),a=i[0],u=i[1];n&&(0,f.c)(e);l.default.track(p.rMx.DISMISSIBLE_CONTENT_SHOWN,{type:o.z$[e],content_count:a,
fatigable_content_count:u,group_name:null==t?void 0:t.groupName,bypass_fatigue:s.O.has(e),guild_id:null==t?void 0:t.guildId});null==t||null===(r=t.onShown)||void 0===r||r.call(t)}})}}}function h(e){return v.apply(this,arguments)}function v(){v=N((function(e){var t,n,r,o=arguments;return S(this,(function(u){switch(u.label){case 0:t=o.length>1&&void 0!==o[1]?o[1]:{};((0,E.cI)(e)||t.forceTrack)&&g(e,t);return[4,(0,a.nm)(e)];case 1:u.sent();n=(0,i.u)();r=!n||!_.Z.hasUserHitDCCap();(0,E.gE)({content:e,groupName:null==t?void 0:t.groupName},r);return[2]}}))}));return v.apply(this,arguments)}function g(e,t){var n,r=A((0,E.Aq)(),1)[0];l.default.track(p.rMx.DISMISSIBLE_CONTENT_DISMISSED,{type:o.z$[e],action:null!==(n=null==t?void 0:t.dismissAction)&&void 0!==n?n:T.L.DISMISS,content_count:r,group_name:null==t?void 0:t.groupName,bypass_fatigue:s.O.has(e),guild_id:null==t?void 0:t.guildId})}},259556:(e,t,n)=>{n.d(t,{i:()=>s,B:()=>f});var r=n(842227),o=n(318715),i=n(418705),a=n(736818),u=n(53452)
;var l=function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({},i.z$.MJ_NEW_USER_CHAT_BAR,0),c=u.Z.Millis.DAY;function s(e){var t=(0,o.ZP)([a.default],(function(){return a.default.getId()})),n=null!=t?r.default.age(t):0;return e.filter((function(e){var t,r=null!==(t=l[e])&&void 0!==t?t:c;return n>r}))}function f(e){var t;return(null!=a.default.getId()?r.default.age(a.default.getId()):0)<(null!==(t=l[e])&&void 0!==t?t:c)}},303927:(e,t,n)=>{n.d(t,{u:()=>o,Z:()=>i});var r=(0,n(260561).B)({kind:"user",id:"2023-05_dcf_improvements",label:"DCF Improvements Experiment",defaultConfig:{cooldownPeriod:null,dismissOnNavigation:!1,dailyCap:null,weeklyCap:null},treatments:[{id:1,label:"Users will have a DC cooldown of 1 hour",config:{cooldownPeriod:36e5,dismissOnNavigation:!1,dailyCap:null,weeklyCap:null}},{id:2,label:"DCs will be dismissed when a user navigates away from their surface",config:{cooldownPeriod:null,
dismissOnNavigation:!0,dailyCap:null,weeklyCap:null}},{id:3,label:"Users will be limited to seeing 2 DC a day and 6 DC a week",config:{cooldownPeriod:null,dismissOnNavigation:!1,dailyCap:2,weeklyCap:6}},{id:4,label:"Users will be limited to seeing 2 DC a day",config:{cooldownPeriod:null,dismissOnNavigation:!1,dailyCap:2,weeklyCap:null}},{id:5,label:"Users will be limited to seeing 3 DC a day and 9 DC a week",config:{cooldownPeriod:null,dismissOnNavigation:!1,dailyCap:3,weeklyCap:9}},{id:6,label:"Users will be limited to seeing 3 DC a day",config:{cooldownPeriod:null,dismissOnNavigation:!1,dailyCap:3,weeklyCap:null}}]}),o=function(){var e=r.getCurrentConfig({},{autoTrackExposure:!0}),t=e.dailyCap,n=e.weeklyCap;return null!=t||null!=n};const i=r},629223:(e,t,n)=>{n.d(t,{Z:()=>P});var r=n(202351),o=n(744564),i=n(579344),a=n(265688),u=n(169376);function l(e){l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return l(e)}function c(e,t){
return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e,t){s=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return s(e,t)}var f=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,
writable:!0,configurable:!0}});t&&s(e,t)}(n,e);var t=_(n);function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r;(r=t.call(this)).id=e.id;r.type=e.type;r.name=e.name;r.revoked=e.revoked||!1;r.integrations=e.integrations||[];r.visibility=e.visibility||0;r.friendSync=e.friend_sync||!1;r.showActivity=e.show_activity||!1;r.verified=e.verified||!1;r.accessToken=e.access_token||null;r.twoWayLink=e.two_way_link||!1;r.metadata=e.metadata||null;r.metadataVisibility=e.metadata_visibility||0;return r}n.prototype.toString=function(){return this.name};return n}(u.Z),O=n(848285),d=n(2590);function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function C(e){C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return C(e)}
function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){p(e,t,n[t])}))}return e}function N(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function A(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function S(e,t){
S=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return S(e,t)}var b=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=C(e);if(t){var o=C(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return A(this,n)}}var m=new Set([d.ABu.CONTACTS]),h=!0,v=[],g=[],R={},w={},L=function(e){v=e.filter((function(e){return!m.has(e.type)&&a.Z.isSupported(e.type)}));g=e.filter((function(e){return m.has(e.type)}));h=!1};var D=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,
writable:!0,configurable:!0}});t&&S(e,t)}(n,e);var t=I(n);function n(){T(this,n);return t.apply(this,arguments)}var r=n.prototype;r.isJoining=function(e){return R[e]||!1};r.isFetching=function(){return h};r.getAccounts=function(){return v};r.getLocalAccounts=function(){return g};r.getAccount=function(e,t){return v.find((function(n){return(null==e||n.id===e)&&n.type===t}))};r.getLocalAccount=function(e){return g.find((function(t){return t.type===e}))};r.isSuggestedAccountType=function(e){return w[e]||!1};r.__getLocalVars=function(){return{LOCAL_PLATFORM_TYPES:m,isFetching:h,nonLocalAccounts:v,localAccounts:g,pendingJoins:R,suggestedConnectionTypes:w,updateAccounts:L}};return n}(r.ZP.Store);D.displayName="ConnectedAccountsStore";const P=new D(o.Z,{CONNECTION_OPEN:function(e){var t=e.connectedAccounts.map((function(e){return new E(e)}));L(t)},USER_CONNECTIONS_UPDATE:function(e){if(e.local&&null!=e.accounts){var t=e.accounts.map((function(e){return new E(N(y({},e),{
integrations:e.integrations.map((function(e){return N(y({},e),{guild:new O.Z(e.guild)})}))}))}));L(t)}else i.Z.fetch()},USER_CONNECTIONS_INTEGRATION_JOINING:function(e){R[e.integrationId]=e.joining},USER_CONNECTION_UPDATE:function(e){var t=e.platformType,n=e.id,r=e.revoked,o=e.accessToken,i=v.find((function(e){return e.id===n&&e.type===t}));if(null==i)return!1;null!=r&&(i.revoked=r);null!=o&&(i.accessToken=o)}})}}]);
//# sourceMappingURL=9cfa38113ce3a63229b2.js.map