(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[66058],{8395:(e,t,n)=>{e.exports=n.p+"1fe68f65b459ac02929bb531fead064b.svg"},960376:(e,t,n)=>{"use strict";n.r(t);n.d(t,{default:()=>ws});var r=n(785893),o=n(667294),i=n(363010),a=n(684552),c=n(430023),l=n(35599),u=n(108994),s=n(54065),f=n(245556),d=n(520571),p=n(733621),h=n(420202),y=n(577990),v=n(88414),g=n(440455),b=n(294184),m=n.n(b),O=n(331535),S=n(472631),E=n(587156),w=n(655695),_=n(213192),j=n.n(_),P=n(996810),C=n.n(P),I=function(e){var t=e.keybind,n=e.separator,i=e.className;return(0,r.jsx)(r.Fragment,{children:t.map((function(e,a){return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)("span",{className:m()(C().key,i),children:e}),a===t.length-1?void 0:n]},a)}))})};I.defaultProps={separator:"+"};const Z=I;var x=n(719455),N=n(766936),T=n(959797),R=n(959454),A=n.n(R),M=n(380203),k=n.n(M);function D(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}
function L(e){L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return L(e)}function V(e,t){return!t||"object"!==z(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function U(e,t){U=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return U(e,t)}var z=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function B(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=L(e);if(t){var o=L(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return V(this,n)}}var G=function(e){return e.stopPropagation()},Y=function(){
return(0,r.jsx)("div",{className:A().clickBlocker,onClick:G,onMouseEnter:G,onMouseOver:G})},H=function(){return(0,r.jsx)("div",{className:A().divider})},W=function(e,t,n){return(0,r.jsx)("div",{className:A().keybindMessage,children:n.format({keybind:t,keybindHook:function(e,n){return(0,r.jsx)(Z,{keybind:t,className:A().keybind},n)}})})},F=j()({PRIMARY:null,BRAND:null,DANGER:null}),K=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&U(e,t)}(n,e);var t=B(n);function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r;(r=t.call(this,e)).handleDismiss=function(e){e.stopPropagation();var t=r.props.onDismissClick;null==t||t(e)};r.handleConfirmClick=function(e){e.stopPropagation();var t=r.props.onConfirmClick;null==t||t(e)}
;r.handleCancelClick=function(e){e.stopPropagation();var t=r.props.onCancelClick;null==t||t(e)};r.handleMouseEnter=function(){r.props.disabled||r.setState({expanded:!0})};var o=e.expand;r.state={expanded:o};return r}var i=n.prototype;i.componentDidMount=function(){var e=this.props.onNotificationShow;null==e||e()};i.componentDidUpdate=function(e){var t=this.props.onNotificationShow;null!=t&&null==e.onNotificationShow&&t()};i.renderCloseButton=function(){return(0,r.jsx)(O.zx,{look:O.zx.Looks.BLANK,size:O.zx.Sizes.NONE,onClick:this.handleDismiss,className:A().dismissButton,"aria-label":T.Z.Messages.NOTIFICATION_DISMISS,children:(0,r.jsx)(x.Z,{width:16,height:16,className:A().dismissIcon})})};i.renderHint=function(){var e=this.props,t=e.hint,n=e.colorScheme,i=this.state.expanded;if(null==t)return null;if("function"==typeof t){var a=t(i,n);return null!=a?(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(H,{}),a]},"hint-custom"):null}return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(H,{}),(0,
r.jsx)("div",{className:"string"==typeof t?A().hintText:void 0,children:t},"hint-text")]},"hint-text")};i.renderFooter=function(){var e=this.props,t=e.renderFooter,n=e.cancelText,i=e.confirmText,a=e.onConfirmClick,c=e.onCancelClick,l=e.hint,u=e.colorScheme,s=this.state.expanded;if(!s)return null!=l?this.renderHint():null;if(null!=t){var f=t(s,u);return null!=f?(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(H,{}),f]},"footer-custom-content"):null}if(null!=a||null!=c){var d=O.zx.Colors.GREEN,p=O.zx.Colors.PRIMARY,h=O.zx.Looks.FILLED;switch(u){case F.DANGER:case F.BRAND:d=p=O.zx.Colors.WHITE;h=O.zx.Looks.OUTLINED}return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(H,{}),(0,r.jsxs)("div",{className:A().buttonContainer,children:[null!=a?(0,r.jsx)(O.zx,{fullWidth:!0,size:O.zx.Sizes.SMALL,color:d,onClick:this.handleConfirmClick,className:A().button,innerClassName:A().innerText,children:null!=i?i:T.Z.Messages.OKAY}):null,null!=c?(0,r.jsx)(O.zx,{fullWidth:!0,size:O.zx.Sizes.SMALL,look:h,color:p,
onClick:this.handleCancelClick,className:A().button,children:null!=n?n:T.Z.Messages.CANCEL}):null]})]},"footer-button-content")}return this.renderHint()};i.renderIcon=function(){var e=this.props.icon;return null==e?null:"string"==typeof e?(0,r.jsx)(N.ZP,{src:e,size:N.ZP.Sizes.SIZE_40,className:A().avatar,"aria-hidden":!0}):(0,r.jsx)("div",{className:A().avatar,children:e})};i.renderContent=function(){var e=this.props,t=e.body,n=e.title,o=e.maxBodyLines;return(0,r.jsxs)("div",{className:A().content,children:[this.renderIcon(),(0,r.jsxs)("div",{className:A().details,children:[(0,r.jsx)("div",{className:A().title,children:n}),null!=t?(0,r.jsx)("div",{className:m()(A().body,k().marginTop4),style:{WebkitLineClamp:o,lineClamp:o},children:t}):null]})]})};i.render=function(){var e,t=this.props,n=t.onNotificationClick,o=t.colorScheme,i=t.disabled,a=this.state.expanded,c=null!=n?O.P3:"div";return(0,r.jsxs)(c,{onMouseOver:a?null:this.handleMouseEnter,onFocus:a?null:this.handleMouseEnter,
onClick:n,className:m()(A().container,(e={},D(e,A().themePrimary,o===F.PRIMARY),D(e,A().themeBrand,o===F.BRAND),D(e,A().themeDanger,o===F.DANGER),D(e,A().clickable,null!=n&&!i),e)),children:[this.renderCloseButton(),this.renderContent(),this.renderFooter(),i?(0,r.jsx)(Y,{}):null]})};n.getDerivedStateFromProps=function(e,t){var n=e.expand;return!t.expanded&&n?{expanded:!0}:null};return n}(o.PureComponent);K.ColorSchemes=F;K.defaultProps={maxBodyLines:void 0,colorScheme:F.PRIMARY,expand:!1,disabled:!1};const X=K;var J=n(240243);function Q(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function q(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n
}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function $(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function ee(e){var t=e.width,n=void 0===t?16:t,o=e.height,i=void 0===o?16:o,a=e.color,c=void 0===a?"currentColor":a,l=e.foreground,u=$(e,["width","height","color","foreground"]);return(0,r.jsx)("svg",q(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Q(e,t,n[t])
}))}return e}({},(0,J.Z)(u)),{width:n,height:i,viewBox:"0 0 430 430",children:(0,r.jsx)("path",{className:l,color:c,
d:"M187.9,308.1c17.9-13.5,43-13.7,61.1-0.3c1.9,1.3,2.4,4,1.1,5.8s-3.7,2.3-5.6,0.9l-0.3-0.3 c-15.1-11.3-36.3-11.2-51.3,0.1c-0.8,0.5-1.6,0.8-2.4,0.8c-1.2,0-2.4-0.5-3.2-1.6C185.8,312,186.2,309.3,187.9,308.1 M124.4,236 c11.7,0,21.3,9.4,21.3,21.1s-9.4,21.1-21.1,21.1c-11.7,0-21.1-9.4-21.1-21.1C103.1,245.6,112.7,236,124.4,236 M315,236 c11.7,0,21.3,9.4,21.3,21.3c0,11.7-9.4,21.1-21.1,21.1s-21.1-9.4-21.1-21.1C294,245.6,303.5,236,315,236 M347.8,307.2 c2-0.3,4-0.7,6-1.2c2.3-0.5,4.4,0.7,5,2.9c0.7,2.1-0.7,4.4-2.8,5c-2.3,0.7-4.6,1.1-7,1.3c-0.1,0-0.3,0-0.5,0c-2,0-3.7-1.5-4-3.6 C344.1,309.7,345.7,307.6,347.8,307.2 M128.1,87.2l-0.3,0.1c-14.3,5.8-23.6,19.5-23.6,35.1c0,8.5,2.9,16.6,8.5,23.5 c0,0,0,0.1,0.1,0.1l0,0c0.1,0.1,11.3,15.3,31.4,16.9c2.3,0.1,3.9,2.1,3.7,4.4c-0.1,2.1-2,3.7-4,3.7c-0.1,0-0.3,0-0.3,0 c-18.9-1.5-30.8-12.8-35.3-17.8l-4.6,1.7c-0.1,0.1-0.3,0.1-0.5,0.3c-25.6,9.6-42.2,32.1-42.2,57.5c0,10.6,3.1,21.1,8.6,30.4 c0.7,1.1,0.8,2.3,0.4,3.3c-0.3,1.2-1.2,2-2.3,2.5C36.2,263.1,16,293.6,16,327c0,47.6,39.9,86.2,88.9,86.2c32.4,0,68-6.2,106.1-18.5 c3.1-1.3,39.5-16.7,91.1-14.5c2.3,0.1,4,2,3.9,4.3c-0.1,2.3-1.9,4.1-4.3,3.9c-35.6-1.6-64,5.7-78.1,10.4 c26.2,9.6,63.8,14.5,111.7,14.5c43.3,0,78.6-35.2,78.6-78.6c0-20.3-8-39.7-22.1-54.3c-3.2,7.6-10.2,20.2-23.2,28.2 c-0.7,0.4-1.3,0.7-2.1,0.7c-1.3,0-2.7-0.7-3.5-1.9c-1.2-1.9-0.5-4.4,1.3-5.6c16.2-10,21.8-28.7,22.1-29.6 c4.1-17.7,2.4-35.6-4.9-53.3c-4.1-10-10.1-19-17.8-26.8c-1.5-1.6-13.5-11.3-13.5-11.3c-3.6,6.9-12.8,19-33.6,23.6 c-0.3,0-0.5,0.1-0.8,0.1c-1.9,0-3.6-1.3-4-3.2c-0.5-2.3,0.9-4.4,3.1-4.8c23.9-5.2,29.2-21.7,29.6-22.7c3.5-13,2.3-26.4-3.5-39.6 c-8.2-18.9-25.9-32.7-47.4-37.2c-3.5,5.2-12.8,16.1-31.6,20.3c-0.3,0.1-0.7,0.1-0.9,0.1c-1.9,0-3.6-1.3-4-3.2 c-0.5-2.3,0.8-4.4,3.1-4.9c20.2-4.6,27.2-17.7,27.8-18.7c2.8-6.4,2.8-13.7,0.3-21.4c-4.6-14.1-15.9-16.9-31.6-20.9 c-16.9-4.1-37.6-9.3-55.7-31.5c-15.7,10.9-30.8,33.3-29,50.7c1.1,9.8,7.4,16.9,19,20.9c2.1,0.8,3.2,3.1,2.5,5.2 c-0.8,2.1-3.1,3.2-5.2,2.5c-11.8-4.1-18.1-10.5-21.4-17C167,79.1,141.9,80.6,128.1,87.2z"
})}))}var te=n(968929),ne=n.n(te),re=n(757987),oe=n(725002),ie=n(461061),ae=n(660044),ce=n.n(ae),le=n(3066),ue=n.n(le);function se(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fe(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function de(e){de=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return de(e)}function pe(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function he(e,t){if(null==e)return{};var n,r,o=function(e,t){
if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function ye(e,t){return!t||"object"!==ge(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ve(e,t){ve=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return ve(e,t)}var ge=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function be(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){
var n,r=de(e);if(t){var o=de(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ye(this,n)}}var me=ie.t_t.DEFAULT,Oe=o.createContext({type:me,opacity:1}),Se=o.createContext(void 0),Ee=function(e){var t=e.children,n=e.className,o=he(e,["children","className"]);return(0,r.jsx)(Oe.Consumer,{children:function(e){var i=e.type;return(0,r.jsx)(Se.Consumer,{children:function(e){return(0,r.jsx)("div",pe(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){fe(e,t,n[t])}))}return e}({className:m()(n,ce().bar,ce()[ne()(i)]),style:e},o),{children:t}))}})}})},we=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function")
;e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&ve(e,t)}(n,e);var t=be(n);function n(){se(this,n);return t.apply(this,arguments)}n.prototype.render=function(){var e=this.props,t=e.disableScroll,n=e.children,o=e.className;return(0,r.jsx)(Se.Consumer,{children:function(e){return(0,r.jsx)(Oe.Consumer,{children:function(i){var a=m()(ce().body,ce()[ne()(i.type)],o);return t?(0,r.jsx)("div",{className:a,style:e,children:n}):(0,r.jsx)(oe.ZP,{fade:!0,className:a,children:n})}})}})};return n}(o.PureComponent);we.defaultProps={disableScroll:!1};var _e=function(e){var t=e.type,n=void 0===t?me:t,o=e.width,i=e.height,a=e.children,c=e.className,l=e.opacity,u=void 0===l?1:l,s=e.onClick;return(0,r.jsx)(Oe.Provider,{value:{type:n,opacity:u},children:(0,r.jsx)("div",{className:m()(ce().widget,ce()[ne()(n)],c),style:{width:o,height:i},onClick:s,children:a})})},je=function(e){var t=e.children,n=e.className,o=e.dynamicSize,i=void 0!==o&&o;return(0,
r.jsx)(Se.Consumer,{children:function(e){return(0,r.jsx)("div",{className:m()(ce().content,n,fe({},ce().staticSize,!i)),style:e,children:t})}})};_e.Background=function(e){var t=e.children,n=e.opacityOverride;if(null==t)return null;var i=[Ee,we,je];return(0,r.jsx)(Oe.Consumer,{children:function(e){var a=e.opacity,c={backgroundColor:"rgba(54, 57, 63, ".concat(""+(null!=n?n:a),")")};if("string"==typeof t.type){var l={style:c};return o.cloneElement(t,l)}if(i.includes(t.type))return(0,r.jsx)(Se.Provider,{value:c,children:t});var u=t.type.displayName;throw new Error("Widget.Background cannot be wrapped around ".concat(u,". Pass a DOM node or one of ").concat(i.map((function(e){return"Widget."+e.name})).join(",")))}})};_e.Body=we;_e.Content=je;_e.Icon=function(e){var t=e.icon,n=e.label,o=e.onClick,i=e.isActive,a=e.tooltipPosition,c=void 0===a?re.ZP.Positions.TOP:a,l=e.size,u=void 0===l?20:l,s=e.isTutorial,f=void 0!==s&&s;return(0,r.jsx)(re.ZP,{text:f?(0,r.jsx)("div",{
className:ce().tutorialTip,children:n}):n,"aria-label":n,position:c,forceOpen:f,color:f?re.ZP.Colors.BRAND:re.ZP.Colors.BLACK,children:function(e){var a=e.onMouseEnter,c=e.onMouseLeave;return(0,r.jsx)(O.zx,{look:O.zx.Looks.BLANK,size:O.zx.Sizes.NONE,onClick:o,onMouseEnter:a,onMouseLeave:c,className:m()(ce().icon,fe({},ce().toggledIconOn,i)),innerClassName:ue().flexCenter,"aria-label":n,children:(0,r.jsx)(t,{width:u,height:u,role:"img"})})}})};_e.Bar=Ee;const Pe=_e;var Ce=n(937026),Ie=n(170729),Ze=n(285183),xe=n(496486),Ne=n.n(xe),Te=n(973935),Re=n(388721),Ae=n(606750),Me=n(365523);var ke=n(742269),De=n(588641);function Le(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ue(e){Ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Ue(e)}function ze(e,t){
return!t||"object"!==Ge(t)&&"function"!=typeof t?Le(e):t}function Be(e,t){Be=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Be(e,t)}var Ge=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Ye(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Ue(e);if(t){var o=Ue(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ze(this,n)}}var He={x:0,y:0};function We(e){var t=e.clientX,n=e.clientY;He.x=t;He.y=n}var Fe=new Map;function Ke(e,t){if(null==t){Fe.delete(e);0===Fe.size&&window.removeEventListener("mousemove",We)}else{var n=Fe.get(e);if(null!=n&&(0,Ae.Z)(n.zone,t.zone))return;0===Fe.size&&window.addEventListener("mousemove",We);Fe.set(e,t)}
if(ke.FB){De.default.requireModule("discord_overlay2").broadcastCommand({message:"set_click_zones",zones:Array.from(Fe.values()).map((function(e){return e.zone}))});!function(){if(Xe)return;De.default.requireModule("discord_overlay2").setClickZoneCallback((function(e){var t=Fe.get(e);null!=t&&t.instance.click()}));Xe=!0}()}}var Xe=!1;var Je=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Be(e,t)}(n,e);var t=Ye(n);function n(){Ve(this,n);var e;(e=t.apply(this,arguments)).zone=Ne().uniqueId("ClickArea");e.interval=new Me.Xp;e.updateZone=function(){var t=(0,Te.findDOMNode)(Le(e));if((0,Re.k)(t)){var n=t.getBoundingClientRect(),r=n.left,o=n.top,i=n.right,a=n.bottom;Ke(e.zone,{instance:Le(e),zone:{name:e.zone,left:r,top:o,right:i,bottom:a}})}};return e}var r=n.prototype;r.componentDidMount=function(){
this.props.observe?this.observeZone():this.updateZone()};r.componentWillUnmount=function(){this.interval.stop();Ke(this.zone,null)};r.componentDidUpdate=function(e){var t=this.props.observe;t!==e.observe&&(t?this.observeZone():this.interval.stop())};r.render=function(){return o.Children.only(this.props.children)};r.observeZone=function(){this.updateZone();this.interval.start(this.props.observeInterval,this.updateZone)};r.click=function(){var e,t,n;!function(e,t,n){var r=document.elementFromPoint(t,n);if(null==r)throw new Error;r.dispatchEvent(e)}((e="click",t=He.x,n=He.y,new MouseEvent(e,{screenX:t,screenY:n,clientX:t,clientY:n,bubbles:!0,view:window})),He.x,He.y)};return n}(o.PureComponent);Je.defaultProps={observe:!0,observeInterval:1e3};var Qe=n(77159),qe=n.n(Qe);function $e(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function et(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}
function tt(e){tt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return tt(e)}function nt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&ot(e,t)}function rt(e,t){return!t||"object"!==it(t)&&"function"!=typeof t?$e(e):t}function ot(e,t){ot=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return ot(e,t)}var it=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function at(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=tt(e);if(t){var o=tt(this).constructor
;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return rt(this,n)}}function ct(){var e=(0,Ze.QF)(),t=(0,Ze.Ht)();(0,E.lW)({type:ie.BmY.DISPATCH,pid:e,token:t,payloads:[{type:"OVERLAY_SET_INPUT_LOCKED",locked:!0,pid:e}]})}var lt=function(e){nt(n,e);var t=at(n);function n(){et(this,n);var e;(e=t.apply(this,arguments)).state={showTrace:!1,busy:!1};e.hideNotification=function(){ct();var t=$e(e).notificationTimer;null!=t&&clearTimeout(t);e.notificationTimer=null};e.handleReload=function(t){e.setState({busy:!0});ct();S.Z.track(ie.rMx.NOTIFICATION_CLICKED,{notif_type:"Overlay Crashed",action_type:"reload"},!0);t.stopPropagation();setTimeout((function(){return location.reload(!0)}),200)};e.handleNotificationClick=function(t){t.stopPropagation();var n=$e(e).notificationTimer;null!=n&&clearTimeout(n);t.shiftKey&&e.setState({showTrace:!0})};return e}var o=n.prototype;o.componentDidMount=function(){this.notificationTimer=setTimeout(this.hideNotification,1e4)
;S.Z.track(ie.rMx.NOTIFICATION_VIEWED,{notif_type:"Overlay Crashed"})};o.componentWillUnmount=function(){var e=this.notificationTimer;null!=e&&clearTimeout(e)};o.render=function(){var e=this.props,t=e.info,n=e.error,o=this.state.showTrace;return null==this.notificationTimer?null:(0,r.jsx)(Je,{observe:!1,children:(0,r.jsxs)(O.P3,{className:m()((0,Ie.Q)(ie.BRd.DARK),qe().container),onClick:function(e){return e.stopPropagation()},children:[(0,r.jsx)(X,{expand:!0,colorScheme:F.DANGER,icon:(0,r.jsx)(ee,{width:40,height:40,className:qe().notificationIcon}),title:T.Z.Messages.OVERLAY_CRASHED_TITLE,confirmText:T.Z.Messages.OVERLAY_RELOAD,onNotificationClick:this.handleNotificationClick,onConfirmClick:this.handleReload,onDismissClick:this.hideNotification}),o&&null!=t?(0,r.jsxs)(Pe,{className:qe().stackTrace,children:[(0,r.jsx)(Pe.Bar,{children:"Error Details"}),(0,r.jsx)(Pe.Content,{className:qe().stackTraceCode,children:(0,r.jsx)("code",{className:qe().code,children:(0,r.jsx)("pre",{
children:n.stack})})})]}):null]})})};return n}(o.PureComponent),ut=function(e){nt(n,e);var t=at(n);function n(){et(this,n);var e;(e=t.apply(this,arguments)).state={error:null,info:null};return e}var o=n.prototype;o.componentDidCatch=function(e,t){var n=(0,w.s1)().location;this.setState({error:e,info:t});var r=(0,Ze.QF)(),o=(0,Ze.Ht)();(0,E.lW)({type:ie.BmY.DISPATCH,pid:(0,Ze.QF)(),token:o,payloads:[{type:"OVERLAY_CRASHED",pid:r},{type:"OVERLAY_SET_INPUT_LOCKED",locked:!0,pid:r}]});setImmediate((function(){return window.addEventListener("click",ct)}));Ce.Z.captureCrash(e,{extra:t});S.Z.track(ie.rMx.APP_CRASHED,{path:n.pathname})};o.render=function(){var e=this.props,t=e.children,n=e.className,o=this.state,i=o.error,a=o.info;return null!=i?(0,r.jsx)(lt,{error:i,info:a}):(0,r.jsx)("div",{className:n,children:t})};return n}(o.PureComponent);const st=ut
;var ft=n(427537),dt=n.n(ft),pt=n(23279),ht=n.n(pt),yt=n(618446),vt=n.n(yt),gt=n(992497),bt=n(281081),mt=n(104203),Ot=n(16122),St=n(78979),Et=n(877271),wt=n(859169),_t=n(64833),jt=n(742572),Pt=n(127949),Ct=n(125315),It=n(602589),Zt=n(18416),xt=n(631134),Nt=n(356004),Tt=n(653772),Rt=n(934714),At=n(73462),Mt=n(379822),kt=n(946849),Dt=n(343435),Lt=n(766243),Vt=n(931439),Ut=n(300327),zt=n(426217),Bt=n(487502),Gt=n(897576),Yt=(n(109813),n(185347)),Ht=n(368365),Wt=n(23816),Ft=n(735489),Kt=n(1812),Xt=n(212218),Jt=n(940712),Qt=n(971738),qt=n(859023);function $t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function en(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function tn(e){tn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return tn(e)}function nn(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){en(e,t,n[t])}))}return e}function rn(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function on(e,t){return!t||"object"!==cn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function an(e,t){an=Object.setPrototypeOf||function(e,t){e.__proto__=t
;return e};return an(e,t)}var cn=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function ln(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=tn(e);if(t){var o=tn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return on(this,n)}}var un=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&an(e,t)}(n,e);var t=ln(n);function n(){$t(this,n);return t.apply(this,arguments)}var r=n.prototype;r.componentDidUpdate=function(e){if(this.props.locked)return null
;var t=this.props,n=t.selectedGuild,r=t.selectedChannel,o=t.isNSFWChannel,i=t.isMemberPending,a=t.hasPreviewEnabled,c=t.postableChannelCount;if(n!==e.selectedGuild||i&&!e.isMemberPending){var l=i?{is_pending:i,preview_enabled:a}:{};(0,Ft.Q)(ie.rMx.GUILD_VIEWED,rn(nn({},l),{postable_channels:c}))}if(null!=r&&r!==e.selectedChannel){var u=(0,Wt.KG)(Nt.Z.getChannel(r),!0);(0,Ft.Q)(ie.rMx.CHANNEL_OPENED,nn({channel_is_nsfw:o},u))}};r.render=function(){return null};return n}(o.Component);const sn=i.ZP.connectStores([Qt.Z,Mt.Z,Nt.Z,Tt.Z,qt.default,Ut.Z,Xt.ZP,Kt.ZP,Jt.Z],(function(){var e,t,n,r=Qt.Z.getGuildId(),o=Mt.Z.getChannelId(r),i=Nt.Z.getChannel(o),a=Tt.Z.getGuild(r),c=qt.default.getCurrentUser(),l=null!==(t=Kt.ZP.getChannels(null==a?void 0:a.id)[Kt.sH])&&void 0!==t?t:[],u=l.length>0?l.filter((function(e){var t=e.channel;return Jt.Z.can(Ht.Z.combine(ie.Plq.SEND_MESSAGES,ie.Plq.VIEW_CHANNEL),t)
})).length:0,s=null!=c&&null!=r&&(null!==(n=null===(e=Xt.ZP.getMember(r,c.id))||void 0===e?void 0:e.isPending)&&void 0!==n&&n);return{selectedGuild:r,selectedChannel:o,isNSFWChannel:null==i?void 0:i.nsfw,locked:Ut.Z.isUILocked((0,Ze.QF)()),hasPreviewEnabled:null==a?void 0:a.features.has(ie.oNc.PREVIEW_ENABLED),isMemberPending:s,postableChannelCount:u}}))(un);var fn=n(589175),dn=n(441143),pn=n.n(dn),hn=n(468811),yn=n.n(hn),vn=n(173436),gn=n(881548),bn=n(873463);function mn(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function On(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){
Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Sn(e){return{trackView:function(){S.Z.track(ie.rMx.NOTIFICATION_VIEWED,e)},trackClick:function(t){var n=Ut.Z.isInstanceUILocked()?ie.Sbl.LOCKED_OVERLAY:ie.Sbl.UNLOCKED_OVERLAY;S.Z.track(ie.rMx.NOTIFICATION_CLICKED,On(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){mn(e,t,n[t])}))}return e}({},e),{location:n,action_type:t}))}}}function En(){var e=Vt.Z.getOverlayKeybind();return null!=e?(0,Yt.BB)(e.shortcut,!0).split(" + "):["???"]}var wn=n(917870);function _n(e,t){var n=e.username,o=T.Z.Messages.USER_ACTIVITY_USER_JOIN.format({username:""}),i=(0,wn.ov)(e),a=Sn({notif_type:"Activity User Join",notif_user_id:e.id,activity_type:ie.mFx.JOIN,
activity_name:t.name}),c=a.trackView,l=a.trackClick;return{colorScheme:X.ColorSchemes.PRIMARY,icon:i,title:n,body:o,hint:function(e){return t=T.Z.Messages.USER_ACTIVITY_USER_JOIN_HINT,(0,r.jsx)("div",{className:A().hintSubtleText,children:t});var t},onNotificationShow:function(){c()},onDismissClick:function(){l("dismiss")}}}var jn=n(90816),Pn=n(346411),Cn=n.n(Pn);function In(e,t,n,r,o,i,a){try{var c=e[i](a),l=c.value}catch(e){n(e);return}c.done?t(l):Promise.resolve(l).then(r,o)}function Zn(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){In(i,r,o,a,c,"next",e)}function c(e){In(i,r,o,a,c,"throw",e)}a(void 0)}))}}function xn(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Nn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){xn(e,t,n[t])}))}return e}function Tn(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var Rn=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){
if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}};function An(){return(0,r.jsx)("div",{className:Cn().footer,children:(0,r.jsx)(O.zx,{color:O.zx.Colors.GREEN,size:O.zx.Sizes.SMALL,className:Cn().ctaButton,children:T.Z.Messages.OVERLAY_NEWS_GO_LIVE_CTA})})}
var Mn=n(650331),kn=n(125628),Dn=n(53211),Ln=n(105405);var Vn=n(7584),Un=n(320646);var zn=n(86111),Bn=n(402801);var Gn=function(e){return W(0,En(),T.Z.Messages.OVERLAY_LAUNCH_OPEN_TIP)};var Yn=n(634797),Hn=n(256416);var Wn=n(765515),Fn=n(962564),Kn=n(979662),Xn=n(893321);function Jn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qn(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function $n(e){$n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return $n(e)}function er(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){qn(e,t,n[t])}))}return e}function tr(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function nr(e,t){return!t||"object"!==ir(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function rr(e,t){rr=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return rr(e,t)}function or(e){return function(e){if(Array.isArray(e))return Jn(e)}(e)||function(e){
if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Jn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jn(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ir=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function ar(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=$n(e);if(t){
var o=$n(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return nr(this,n)}}var cr=5e3,lr=Object.freeze({priority:ie.Tu6.NORMAL,duration:cr,expirationExternallyManaged:!1,type:ie.kLU.GENERIC}),ur=[],sr=function(e,t,n){var r=t?ie._1z.TIMED_OUT:ie._1z.DISMISSED;return setTimeout((function(){return S.Z.updateNotificationStatus(e,r)}),null!=n?n:cr)};function fr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ie._1z.DISMISSED;if(null==e)return!1;var n=ur.findIndex((function(t){return t.id===e}));if(-1===n)return!1;var r=ur[n];clearTimeout(r.timerId);ur=or(ur);t===ie._1z.DISMISSED?ur.splice(n,1):ur[n]=tr(er({},r),{status:t})}function dr(e){var t=ur.length;return(ur=ur.filter((function(t){return t.type!==ie.kLU.TEXT||t.channelId!==e}))).length!==t}function pr(e){var t=ur.find((function(t){return t.type===ie.kLU.INCOMING_CALL&&t.channelId===e}));return null!=t?t.id:null}function hr(e,t){var n=er({},lr,t)
;if(n.priority!==ie.Tu6.URGENT&&!Ut.Z.isInstanceFocused())return null;var r=yn().v4(),o=er({id:r,status:ie._1z.ACTIVE,timerId:sr(r,n.expirationExternallyManaged,n.duration),props:e},n),i=(ur=or(ur)).findIndex((function(e){return e.priority<=n.priority}));-1===i?ur.push(o):ur.splice(i,0,o);if(ur.length>10){var a=ur.pop();clearTimeout(a.timerId)}return r}function yr(e,t,n){pn()(null!=t.activity,"received null message activity");if(n.id===xt.default.getId())return!1;var r,o,i=Dt.Z.getGame();if(null==i)return!1;switch(t.activity.type){case ie.mFx.JOIN:if(null==(r=Fn.Z.getApplicationActivity(n.id,i.id))||null==r.party||r.party.id!==t.activity.party_id)return!1;o=function(e,t,n,r,o){if(null==t.activity)return null;var i=t.activity.type,a=o.session_id;if(null==a)return null;var c=(0,bn.Xi)(e,t,n),l=c.icon,u=c.title,s=c.body,f=Sn({notif_type:"Activity Invite",notif_user_id:n.id,message_id:t.id,message_type:t.type,guild_id:e.guild_id,channel_id:e.id,channel_type:e.type,activity_type:i,
activity_name:o.name}),d=f.trackView,p=f.trackClick;return{colorScheme:X.ColorSchemes.PRIMARY,icon:l,title:u,body:s,hint:function(e){return W(0,En(),T.Z.Messages.OVERLAY_UNLOCK_TO_JOIN)},onNotificationShow:function(){d()},confirmText:T.Z.Messages.JOIN,onConfirmClick:function(o,i){gn.Z.join({userId:n.id,sessionId:a,applicationId:r.id,channelId:e.id,messageId:t.id});S.Z.updateNotificationStatus(i);p("join")},onDismissClick:function(){p("dismiss")}}}(e,t,n,i,r);break;case ie.mFx.JOIN_REQUEST:if(null==(r=Kn.Z.getApplicationActivity(i.id))||null==r.party||r.party.id!==t.activity.party_id)return!1;o=function(e,t,n,r){var o=t.username,i=T.Z.Messages.USER_ACTIVITY_INVITE_REQUEST_REQUESTED.format({username:"",game:n.name}),a=t.getAvatarURL(e.guild_id,80),c=Sn({notif_type:"Activity Invite",notif_user_id:t.id,activity_type:ie.mFx.JOIN_REQUEST,activity_name:n.name}),l=c.trackView,u=c.trackClick;return{colorScheme:X.ColorSchemes.PRIMARY,icon:a,title:o,body:i,hint:function(e){
return W(0,En(),T.Z.Messages.OVERLAY_UNLOCK_TO_ANSWER)},confirmText:T.Z.Messages.USER_ACTIVITY_RESPOND_YEAH,cancelText:T.Z.Messages.USER_ACTIVITY_RESPOND_NOPE,onNotificationShow:function(){l()},onConfirmClick:function(t,n){Vn.Z.sendActivityInvite({channelId:e.id,type:ie.mFx.JOIN,activity:r,location:Ut.Z.isInstanceUILocked()?ie.Sbl.LOCKED_OVERLAY:ie.Sbl.UNLOCKED_OVERLAY});u("join");S.Z.updateNotificationStatus(n)},onCancelClick:function(t,n){(0,Un.In)(e.id,!0,!0);S.Z.updateNotificationStatus(n);u("decline")},onDismissClick:function(){u("dismiss")}}}(e,n,i,r)}if(null==o)return!1;var a=hr(o,{priority:ie.Tu6.URGENT,expirationExternallyManaged:!0,channelId:e.id});null!=a&&sr(a,!1,3e4);return!0}function vr(e){var t=e.channelId,n=e.ringing,r=pr(t);if(!n.includes(xt.default.getId()))return fr(r);if(null!=r)return!1;var o=Nt.Z.getChannel(t);if(null==o||!o.isPrivate())return!1;if(Kn.Z.getStatus()===ie.Skl.DND)return!1;var i=ur.find((function(e){
return e.type===ie.kLU.TEXT&&e.channelId===t&&e.messageType===ie.uaV.CALL}));null!=i&&fr(i.id);hr(function(e){var t=(0,Dn.F6)(e,qt.default,Ln.Z),n=T.Z.Messages.OVERLAY_NOTIFICATION_INCOMING_CALL,r=(0,kn.x)(e),o=Sn({notif_type:"Incoming Call",notif_user_id:1===e.recipients.length?e.recipients[0]:null,guild_id:e.guild_id,channel_id:e.id,channel_type:e.type}),i=o.trackView,a=o.trackClick;return{colorScheme:X.ColorSchemes.PRIMARY,icon:r,title:t,body:n,hint:function(e){return W(0,En(),T.Z.Messages.OVERLAY_UNLOCK_TO_ANSWER)},confirmText:T.Z.Messages.JOIN_CALL,cancelText:T.Z.Messages.DECLINE,onNotificationShow:function(){i()},onConfirmClick:function(){S.Z.callPrivateChannel(e.id);a("join");S.Z.track(ie.rMx.VOICE_CHANNEL_SELECTED,{location:"Overlay Notificaiton",guild_id:null,channel_id:e.id,video_enabled:!1})},onCancelClick:function(){Mn.Z.stopRinging(e.id);a("decline")},onDismissClick:function(){a("dismiss")}}}(o),{priority:ie.Tu6.HIGH,expirationExternallyManaged:!0,
type:ie.kLU.INCOMING_CALL,channelId:o.id})}var gr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&rr(e,t)}(n,e);var t=ar(n);function n(){Qn(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(Nt.Z,qt.default)};r.getNotifications=function(){return ur};r.__getLocalVars=function(){return{NOTIFICATION_TIMEOUT:cr,NEWS_NUDGE_TIMEOUT:8e3,ACTIVITY_INVITE_DISMISS_TIMEOUT:3e4,MAX_NOTIFICATIONS:10,DEFAULT_METADATA:lr,notifications:ur,scheduleTimeout:sr}};return n}(i.ZP.Store);gr.displayName="OverlayNotificationsStore";const br=new gr(vn.Z,__OVERLAY__?{OVERLAY_UPDATE_NOTIFICATION_STATUS:function(e){fr(e.notificationId,e.status)},OVERLAY_MOUNTED:function(e){var t,o,i,a,c,l,u=e.newsNudge,s=e.goLiveNudge,f=null!=s?function(e){switch(e.type){case"go-live":
var t=e.game,o=e.voiceGuild,i=Sn({notif_type:"Go Live Nudge"}),a=i.trackView,c=i.trackClick;return{colorScheme:F.PRIMARY,icon:n(8395),title:null,body:T.Z.Messages.OVERLAY_NEWS_GO_LIVE_BODY.format({game:t.name,server:o.toString()}),hint:function(){return(0,r.jsx)(An,{})},renderFooter:function(){return(0,r.jsx)(An,{})},onNotificationShow:function(){a()},onNotificationClick:function(e,t){c("unlock");S.Z.updateNotificationStatus(t);Ut.Z.isInstanceUILocked()&&S.Z.setInstanceLocked(!1);(0,Gt.ZD)(Zn((function(){var e,t;return Rn(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(64644)]).then(n.bind(n,464644))];case 1:e=i.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Tn(Nn({},e),{selectSource:!1,guildId:o.id,analyticsLocation:ie.Sbl.OVERLAY_NUDGE}))}]}}))})))},onDismissClick:function(){c("dismiss")}};case"go-live-2":var l=e.game,u=Sn({notif_type:"Go Live Non Voice Nudge"}),s=u.trackView,f=u.trackClick;return{colorScheme:F.PRIMARY,icon:n(8395),title:null,
body:T.Z.Messages.OVERLAY_NEWS_GO_LIVE_BODY_NO_VOICE_CHANNEL.format({game:l.name}),hint:function(){return(0,r.jsx)(An,{})},renderFooter:function(){return(0,r.jsx)(An,{})},onNotificationShow:function(){s()},onNotificationClick:function(e,t){f("unlock");S.Z.updateNotificationStatus(t);Ut.Z.isInstanceUILocked()&&S.Z.setInstanceLocked(!1);(0,Gt.ZD)(Zn((function(){var e,t;return Rn(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(64644)]).then(n.bind(n,464644))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Tn(Nn({},e),{selectSource:!1,selectGuild:!0,analyticsLocation:ie.Sbl.OVERLAY_NUDGE}))}]}}))})))},onDismissClick:function(){f("dismiss")}};default:return(0,jn.vE)(e)}}(s):(o=null!=(t=u)&&null!=t.icon?t.icon:n(603008),i=null!=t?t.title:T.Z.Messages.OVERLAY_LAUNCH_TITLE,a=Sn({notif_type:null!=t?"News Nudge":"Welcome Nudge"}),c=a.trackView,l=a.trackClick,{colorScheme:null!=t?F.BRAND:F.PRIMARY,icon:o,title:i,body:null!=t?t.body:null,
hint:null!=t?t.hint:Gn,renderFooter:function(){return(0,r.jsx)("div",{style:{textAlign:"center",padding:2},children:T.Z.Messages.OVERLAY_CLICK_TO_UNLOCK})},onNotificationShow:function(){c()},onNotificationClick:function(e,n){l("unlock");null==t&&S.Z.updateNotificationStatus(n);Ut.Z.isInstanceUILocked()&&S.Z.setInstanceLocked(!1)},onDismissClick:function(){l("dismiss")}});hr(f,{priority:ie.Tu6.URGENT,duration:8e3})},OVERLAY_SET_INPUT_LOCKED:function(e){if(e.locked)return!1;ur=ur.map((function(e){if(e.status===ie._1z.ACTIVE){clearTimeout(e.timerId);return tr(er({},e),{timerId:sr(e.id,e.expirationExternallyManaged)})}return e}))},MESSAGE_CREATE:function(e){var t,n,o=e.channelId,i=e.message,a=Nt.Z.getChannel(o),c=qt.default.getUser(i.author.id);if(null==a||null==c)return!1;if((null===(t=i.activity)||void 0===t?void 0:t.type)===ie.mFx.JOIN||(null===(n=i.activity)||void 0===n?void 0:n.type)===ie.mFx.JOIN_REQUEST){if(!(0,bn.eF)(i,o,!0,!0))return!1;var l=yr(a,i,c);if(!1!==l)return l}
if((!Ut.Z.isInstanceUILocked()||Ut.Z.isPinned(ie.Odu.TEXT))&&o===Mt.Z.getChannelId())return!1;if(Ut.Z.getTextChatNotificationMode()===ie.Ypu.DISABLED||Xn.Z.disableNotifications||!(0,bn.eF)(i,o))return!1;hr(function(e,t,n,o){var i=(0,bn.Xi)(e,t,n),a=i.icon,c=i.title,l=i.body,u=Sn({notif_type:"Text Chat",notif_user_id:t.author.id,message_id:t.id,message_type:t.type,guild_id:e.guild_id,channel_id:e.id,channel_type:e.type}),s=u.trackView,f=u.trackClick;return{colorScheme:F.PRIMARY,icon:a,title:c,body:l,renderFooter:function(e){return e?(0,r.jsx)("div",{style:{textAlign:"center"},children:T.Z.Messages.OVERLAY_CLICK_TO_JUMP_TO_CHANNEL}):null},maxBodyLines:2,onNotificationShow:function(){o&&(0,Bn.GN)(zn.Ay,zn.yk);s()},onNotificationClick:function(){(0,w.uL)(ie.Z5c.CHANNEL(e.guild_id,e.id));f("jump");Ut.Z.isInstanceUILocked()&&S.Z.setInstanceLocked(!1)},onDismissClick:function(){f("dismiss")}}}(a,i,c,!Wn.Z.isSoundDisabled(zn.Ay)),{type:ie.kLU.TEXT,channelId:a.id,messageType:i.type})},
CHANNEL_SELECT:function(e){var t=e.channelId;return null!=t&&dr(t)},MESSAGE_ACK:function(e){return dr(e.channelId)},CALL_CREATE:vr,CALL_UPDATE:vr,CALL_DELETE:function(e){fr(pr(e.channelId))},ACTIVITY_USER_ACTION:function(e){var t,n=e.actionType,r=e.user,o=e.applicationId,i=Dt.Z.getGame();if(null==i||i.id!==o)return!1;if(n===ie.mFx.JOIN)t=_n(r,i);if(null==t)return!1;hr(t,{priority:ie.Tu6.URGENT,type:ie.kLU.GENERIC})},CLIPS_SAVE_CLIP:function(){hr((e=Sn({notif_type:"Clips Notification"}),t=e.trackView,n=e.trackClick,{colorScheme:F.PRIMARY,title:T.Z.Messages.CLIPS_NOTIFICATION_TITLE.format({duration:(0,Yn.A)(Hn.Z.getSettings().clipsLength/1e3,!0)}),icon:null,body:T.Z.Messages.CLIPS_NOTIFICATION_BODY,onNotificationShow:function(){t()},onDismissClick:function(){n("dismiss")}}));var e,t,n}}:{});var mr=n(738017),Or=n(586865),Sr=n.n(Or);function Er(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wr(e,t,n){t in e?Object.defineProperty(e,t,{value:n,
enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function _r(e){_r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return _r(e)}function jr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){wr(e,t,n[t])}))}return e}function Pr(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Cr(e,t){
if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function Ir(e,t){return!t||"object"!==xr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Zr(e,t){Zr=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Zr(e,t)}var xr=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Nr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0
}catch(e){return!1}}();return function(){var n,r=_r(e);if(t){var o=_r(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ir(this,n)}}var Tr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Zr(e,t)}(n,e);var t=Nr(n);function n(){Er(this,n);var e;(e=t.apply(this,arguments)).translateX=new mr.Z.Value(0);e.translateY=new mr.Z.Value(0);e.scale=new mr.Z.Value(1);e.opacity=new mr.Z.Value(1);e.state={animatedIn:!1};e.handleNotificationShow=function(){var t=e.props.notification,n=t.id;(0,t.props.onNotificationShow)(n)};e.handleDismissClick=function(t){var n=e.props.notification,r=n.id,o=n.props.onDismissClick;S.Z.updateNotificationStatus(r);null!=o&&o(t,r)};e.handleNotificationClick=function(t){var n=e.props.notification,r=n.id,o=n.props.onNotificationClick;null!=o&&o(t,r)}
;e.handleConfirmClick=function(t){var n=e.props.notification,r=n.id,o=n.props.onConfirmClick;null!=o&&o(t,r)};e.handleCancelClick=function(t){var n=e.props.notification,r=n.id,o=n.props.onCancelClick;null!=o&&o(t,r)};e.handleAnimationEnd=function(){e.state.animatedIn||e.setState({animatedIn:!0})};return e}var o=n.prototype;o.componentWillAppear=function(e){var t=this.props.index;e();this.animateTo(t)};o.componentWillEnter=function(e){var t=this.props.index;e();this.animateTo(t)};o.componentWillLeave=function(e){var t=this.props.index;this.animateTo(t,e)};o.componentDidUpdate=function(e){var t=this.props.index;e.index!==t&&this.animateTo(t)};o.animateTo=function(e,t){var n,r,o,i,a=this,c=a.opacity,l=a.scale,u=a.translateX,s=a.translateY;switch(e){case 0:r=0;o=1;i=1;break;case 1:r=.3;o=.6;i=.98;break;case 2:r=.6;o=.3;i=.95;break;default:r=.6;o=0;i=.93}if(null!=t){0===e?i=1.1:r=1.3;o=0;n=t}else n=this.handleAnimationEnd;u.setValue(1);s.setValue(r);l.setValue(i);c.setValue(o);n()}
;o.getStyle=function(){var e,t,n,r,o,i=this,a=i.opacity,c=i.scale,l=i.translateX,u=i.translateY,s=i.props,f=s.position,d=s.zIndex;switch(f){case ie._vf.TOP_LEFT:case ie._vf.BOTTOM_LEFT:e="-100%";t=0;break;default:n=0;e="100%"}switch(f){case ie._vf.BOTTOM_LEFT:case ie._vf.BOTTOM_RIGHT:r=0;break;default:o=0}return{left:t,right:n,bottom:r,top:o,zIndex:d,opacity:a,transform:[{translateX:l.interpolate({inputRange:[0,1],outputRange:[e,"0%"]})},{translateY:u.interpolate({inputRange:[0,1],outputRange:["0px","20px"]})},{scale:c}]}};o.render=function(){var e=this,t=e.props,n=t.locked,o=t.index,i=t.notification.props,a=(i.onNotificationShow,i.onDismissClick,i.onNotificationClick),c=i.onConfirmClick,l=i.onCancelClick,u=e.state.animatedIn,s=Cr(e.props.notification.props,["onNotificationShow","onDismissClick","onNotificationClick","onConfirmClick","onCancelClick"]),f=(0,r.jsx)(mr.Z.div,{className:Sr().animationContainer,style:this.getStyle(),children:(0,r.jsx)(X,Pr(jr({},s),{
onNotificationShow:u&&0===o?this.handleNotificationShow:null,onDismissClick:this.handleDismissClick,onNotificationClick:null!=a?this.handleNotificationClick:null,onConfirmClick:null!=c?this.handleConfirmClick:null,onCancelClick:null!=l?this.handleCancelClick:null,expand:!n&&0===o,disabled:0!==o}))});return 0===o?(0,r.jsx)(Je,{observeInterval:200,children:f}):f};return n}(o.Component);const Rr=Tr;var Ar=n(347371),Mr=n.n(Ar);function kr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dr(e){Dr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Dr(e)}function Lr(e,t){return!t||"object"!==Ur(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Vr(e,t){Vr=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Vr(e,t)}var Ur=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function zr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Dr(e);if(t){var o=Dr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Lr(this,n)}}var Br=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Vr(e,t)}(n,e);var t=zr(n);function n(){kr(this,n);return t.apply(this,arguments)}n.prototype.render=function(){var e=this.props,t=e.keybind,n=e.notifications,o=e.position,i=e.locked;if(o===ie._vf.DISABLED)return null;var a=-1;return(0,r.jsx)(fn.Z,{
component:"div",className:m()(Mr().container,Mr()[o]),children:n.map((function(e){if(i&&e.status===ie._1z.TIMED_OUT)return null;a+=1;return(0,r.jsx)(Rr,{index:a,zIndex:100-a,position:o,notification:e,keybind:t,locked:i},e.id)}))})};return n}(o.Component);const Gr=i.ZP.connectStores([br,Ut.Z],(function(){return{notifications:br.getNotifications(),position:Ut.Z.getNotificationPositionMode()}}))(Br);var Yr=n(760153);function Hr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wr(e){Wr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Wr(e)}function Fr(e,t){return!t||"object"!==Xr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Kr(e,t){Kr=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Kr(e,t)}var Xr=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Jr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Wr(e);if(t){var o=Wr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Fr(this,n)}}var Qr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Kr(e,t)}(n,e);var t=Jr(n);function n(){Hr(this,n);return t.apply(this,arguments)}n.prototype.render=function(){var e=this.props,t=e.layout,n=e.layoutSize,o=e.className,i=e.renderWidget;return null!=t?(0,r.jsx)("div",{className:o,style:{width:n.width,
height:n.height},children:t.widgets.map((function(e){return i(e,n)}))}):null};return n}(o.PureComponent);const qr=Qr;var $r=n(90354),eo=n(434987),to=n(843116),no=n.n(to);function ro(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oo(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function io(e){io=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return io(e)}function ao(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){oo(e,t,n[t])}))}return e}function co(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function lo(e,t){return!t||"object"!==so(t)&&"function"!=typeof t?ro(e):t}function uo(e,t){uo=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return uo(e,t)}var so=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function fo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){
var n,r=io(e);if(t){var o=io(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return lo(this,n)}}var po=j()({MOVE:null,RESIZE_NORTH:null,RESIZE_WEST:null,RESIZE_EAST:null,RESIZE_SOUTH:null,RESIZE_NORTH_WEST:null,RESIZE_NORTH_EAST:null,RESIZE_SOUTH_WEST:null,RESIZE_SOUTH_EAST:null}),ho=new Set([po.RESIZE_NORTH,po.RESIZE_WEST,po.RESIZE_EAST,po.RESIZE_SOUTH,po.RESIZE_NORTH_WEST,po.RESIZE_NORTH_EAST,po.RESIZE_SOUTH_WEST,po.RESIZE_SOUTH_EAST]);function yo(e,t,n){var r=e.width,o=e.height;return{width:"auto"===r?"auto":Math.max(t,r),height:"auto"===o?"auto":Math.max(n,o)}}function vo(e){var t=e.top,n=e.left,r=e.bottom,o=e.right;null==n&&null==o&&(n=0);null!=n&&null!=o&&(o=null);null==t&&null==r&&(t=0);null!=t&&null!=r&&(r=null);return{top:t,left:n,bottom:r,right:o}}function go(e){return"auto"===e||null==e?"auto":"".concat(e,"px")}function bo(e,t){return{width:"auto"===t.width?null!=e?e.clientWidth:0:t.width,
height:"auto"===t.height?null!=e?e.clientHeight:0:t.height}}function mo(e,t){var n=t.top,r=t.left,o=t.bottom,i=t.right;switch(e){case po.RESIZE_EAST:case po.RESIZE_NORTH_EAST:case po.RESIZE_NORTH:return{bottom:o,left:r,right:null,top:null};case po.RESIZE_WEST:case po.RESIZE_NORTH_WEST:return{bottom:o,right:i,left:null,top:null};case po.RESIZE_SOUTH_EAST:return{top:n,left:r,bottom:null,right:null};case po.RESIZE_SOUTH:case po.RESIZE_SOUTH_WEST:return{top:n,right:i,bottom:null,left:null};default:throw new Error("getOrientedCoords: Invalid orientation: ".concat(e))}}var Oo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&uo(e,t)}(n,e);var t=fo(n);function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r;(r=t.call(this,e)).ref=o.createRef()
;r.dragState={startX:0,startY:0,offsetX:0,offsetY:0,offsetWidth:0,offsetHeight:0};r.state={operation:null,operationStarted:!1};r.handleMouseDown=function(e){e.stopPropagation();var t=r.props.dragAnywhere;null!=r.ref.current&&e.button===ie.AeJ.PRIMARY&&t&&r.handleOperationStart(po.MOVE,e.clientX,e.clientY)};r.handleMouseMove=function(e){e.preventDefault();e.stopPropagation();var t=e.clientX,n=e.clientY,o=ro(r),i=o.dragState,a=i.startX,c=i.startY,l=o.state,u=l.operation,s=l.operationStarted;if(!(null==u||!s&&(f=a,d=c,p=t,h=n,Math.pow(f-p,2)+Math.pow(d-h,2))<3)){var f,d,p,h;u===po.MOVE?r.handleDragMove(t,n):ho.has(u)&&r.handleResizeMove(t,n)}};r.handleOperationStart=function(e,t,n){var o=ro(r),i=o.ref.current,a=o.props,c=a.active,l=a.container,u=l.maxX,s=l.maxY;if(null!=i&&c){var f=bo(i,r.size),d=f.width,p=f.height,h=(0,eo.PY)(r.anchor,u,s,d,p);if(e===po.MOVE){var y=function(e){var t=e.top;return{x:e.left,y:t}}(h),v=y.x,g=y.y;r.dragState=co(ao({},r.dragState),{startX:t,startY:n,
offsetX:t-v,offsetY:n-g})}else{var b=mo(e,h);r.setDOMPositions(b);r.dragState=co(ao({},r.dragState),{startX:t,startY:n,offsetWidth:d,offsetHeight:p})}r.setState({operation:e,operationStarted:!1},(function(){window.addEventListener("mousemove",r.handleMouseMove);window.addEventListener("mouseup",r.handleOperationEnd)}))}};r.handleOperationEnd=function(){var e=r.state,t=e.operation,n=e.operationStarted,o=r.props.onDragEnd;window.removeEventListener("mousemove",r.handleMouseMove);window.removeEventListener("mouseup",r.handleOperationEnd);var i=n?function(){var e=r.props,n=e.onUpdate,o=e.id;n(t,o,r.anchor,r.size,bo(r.ref.current,r.size))}:void 0;if(n){var a=r.props.container,c=a.maxX,l=a.maxY,u=bo(r.ref.current,r.size),s=u.width,f=u.height,d=(0,eo.PY)(r.anchor,c,l,s,f),p=(0,eo.R)(d);r.setDOMPositions(p);r.setDOMSize({width:s,height:f});null!=o&&o()}r.setState({operation:null,operationStarted:!1},i)};r.anchor=vo(e.anchor);r.size=yo(e.size,e.minSize.width,e.minSize.height);return r}
var i=n.prototype;i.shouldComponentUpdate=function(e,t){return!((0,Ae.Z)(t,this.state)&&(0,Ae.Z)(e,this.props,["anchor","size","minSize","container"])&&(0,Ae.Z)(e.anchor,this.props.anchor)&&(0,Ae.Z)(e.size,this.props.size)&&(0,Ae.Z)(e.minSize,this.props.minSize)&&(0,Ae.Z)(e.container,this.props.container))};i.componentDidUpdate=function(e,t){if(null==t.operation){(0,Ae.Z)(this.props.anchor,e.anchor)||this.setDOMPositions(vo(this.props.anchor));(0,Ae.Z)(this.props.size,e.size)||this.setDOMSize(yo(this.props.size,this.props.minSize.width,this.props.minSize.height))}};i.componentWillUnmount=function(){this.handleOperationEnd()};i.handleResizeMouseDown=function(e,t){var n=e.clientX,r=e.clientY;e.stopPropagation();this.handleOperationStart(t,n,r)};i.handleDragMove=function(e,t){var n=this,r=n.ref.current,o=n.props,i=o.id,a=o.container,c=a.maxX,l=a.maxY,u=a.minX,s=a.minY,f=o.onDragStart,d=o.onDrag,p=o.snapOrientation,h=n.dragState,y=h.offsetX,v=h.offsetY,g=n.state.operationStarted
;if(null==r)return null;e=Math.max(Math.min(c,e),u);t=Math.max(Math.min(l,t),s);var b=bo(r,this.size),m=b.width,O=b.height,S=t-v,E=e-y,w=(0,eo.ou)((0,eo.PY)({top:S,left:E,bottom:null,right:null},c,l,m,O)),_=p?(0,eo.R)(w):mo(po.RESIZE_SOUTH_EAST,w);this.setDOMPositions(_);if(!g){null!=f&&f();this.setState({operationStarted:!0})}null!=d&&d(i,po.MOVE,this.anchor,this.size)};i.handleResizeMove=function(e,t){var n=this.props,r=n.id,o=n.minSize,i=n.container,a=i.maxX,c=i.maxY,l=i.minX,u=i.minY,s=n.onDragStart,f=n.onDrag,d=this.state,p=d.operation,h=d.operationStarted,y=this.dragState,v=y.startX,g=y.startY,b=y.offsetWidth,m=y.offsetHeight,O=0,S=0;if(null!=p){e=Math.max(Math.min(a,e),l);t=Math.max(Math.min(c,t),u);switch(p){case po.RESIZE_EAST:case po.RESIZE_SOUTH_EAST:case po.RESIZE_NORTH_EAST:O-=v-e;break;case po.RESIZE_WEST:case po.RESIZE_SOUTH_WEST:case po.RESIZE_NORTH_WEST:O+=v-e}switch(p){case po.RESIZE_SOUTH:case po.RESIZE_SOUTH_WEST:case po.RESIZE_SOUTH_EAST:S-=g-t;break
;case po.RESIZE_NORTH:case po.RESIZE_NORTH_WEST:case po.RESIZE_NORTH_EAST:S+=g-t}b=Math.max(b+O,o.width);m=Math.max(m+S,o.height);this.setDOMSize({width:b,height:m});if(!h){null!=s&&s();this.setState({operationStarted:!0})}null!=f&&f(r,p,this.anchor,this.size)}};i.setDOMPositions=function(e){var t=e.top,n=e.left,r=e.bottom,o=e.right,i=this.ref.current;this.anchor={top:t,left:n,bottom:r,right:o};if(null!=i){i.style.top=go(t);i.style.bottom=go(r);i.style.left=go(n);i.style.right=go(o)}};i.setDOMSize=function(e){var t=e.width,n=e.height,r=this.ref.current;t="auto"===this.size.width?"auto":t;n="auto"===this.size.height?"auto":n;this.size={width:t,height:n};if(null!=r){r.style.width=go(t);r.style.height=go(n)}};i.renderResizeHandles=function(){var e=this,t=this.props,n=t.resizeY,i=t.resizeX,a=t.active;return(0,r.jsxs)(o.Fragment,{children:[n?(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)("div",{className:m()(no().resizeNorth,oo({},no().resizeNSCursor,a)),onMouseDown:function(t){
return e.handleResizeMouseDown(t,po.RESIZE_NORTH)}}),(0,r.jsx)("div",{className:m()(no().resizeSouth,oo({},no().resizeNSCursor,a)),onMouseDown:function(t){return e.handleResizeMouseDown(t,po.RESIZE_SOUTH)}})]}):null,i?(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)("div",{className:m()(no().resizeEast,oo({},no().resizeEWCursor,a)),onMouseDown:function(t){return e.handleResizeMouseDown(t,po.RESIZE_EAST)}}),(0,r.jsx)("div",{className:m()(no().resizeWest,oo({},no().resizeEWCursor,a)),onMouseDown:function(t){return e.handleResizeMouseDown(t,po.RESIZE_WEST)}})]}):null,i&&n?(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)("div",{className:m()(no().resizeNorthWest,oo({},no().resizeNWSECursor,a)),onMouseDown:function(t){return e.handleResizeMouseDown(t,po.RESIZE_NORTH_WEST)}}),(0,r.jsx)("div",{className:m()(no().resizeNorthEast,oo({},no().resizeNESWCursor,a)),onMouseDown:function(t){return e.handleResizeMouseDown(t,po.RESIZE_NORTH_EAST)}}),(0,r.jsx)("div",{
className:m()(no().resizeSouthWest,oo({},no().resizeNESWCursor,a)),onMouseDown:function(t){return e.handleResizeMouseDown(t,po.RESIZE_SOUTH_WEST)}}),(0,r.jsx)("div",{className:m()(no().resizeSouthEast,oo({},no().resizeNWSECursor,a)),onMouseDown:function(t){return e.handleResizeMouseDown(t,po.RESIZE_SOUTH_EAST)}})]}):null]})};i.render=function(){var e,t=this,n=t.props,o=n.children,i=n.hidden,a=n.onClick,c=n.id,l=n.style,u=t.size,s=t.anchor,f=t.state,d=f.operation,p=f.operationStarted;return(0,r.jsxs)("div",{ref:this.ref,style:ao({},s,u,l,null!=d?{zIndex:1e3}:void 0,i?{visibility:"hidden"}:void 0),className:m()((e={},oo(e,no().wrapper,!0),oo(e,no().operation,p),e)),onMouseDown:this.handleMouseDown,onClick:null!=a?function(){return a(c)}:void 0,children:[o(this.handleOperationStart),this.renderResizeHandles()]})};return n}(o.Component);Oo.Operations=po;Oo.defaultProps={snapOrientation:!0,minSize:{width:0,height:0},container:{minX:0,minY:0,maxX:1/0,maxY:1/0},resizeX:!0,resizeY:!0,
hidden:!1,dragAnywhere:!0,active:!0};const So=Oo;var Eo=n(87660),wo=n(248088),_o=n(296771),jo=n(245662),Po=n(217891),Co=n(827449),Io=n(807370),Zo=n(513073),xo=n(551433),No=n(710348),To=n(660582),Ro=n(145072),Ao=n(384995),Mo=n(9906),ko=n(390504),Do=n(645897),Lo=n(761434),Vo=n(73393),Uo=n(497762),zo=n(67416),Bo=n(115375),Go=n(86030),Yo=n(790257),Ho=n.n(Yo);function Wo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fo(e){Fo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Fo(e)}function Ko(e,t){return!t||"object"!==Jo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Xo(e,t){Xo=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Xo(e,t)}var Jo=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Qo(e){
var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Fo(e);if(t){var o=Fo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ko(this,n)}}var qo=j()({GENERAL:null,VOICE:null});function $o(){var e=Ut.Z.getNotificationPositionMode(),t=e!==ie._vf.DISABLED,n=Vt.Z.getOverlayKeybind(),r=Vt.Z.getOverlayChatKeybind();S.Z.track(ie.rMx.OVERLAY_SETTINGS_UPDATED,{enabled:!0,notifications_enabled:t,notifications_position:t?e:null,text_notifications_mode:Ut.Z.getTextChatNotificationMode(),text_opacity_slider:Ut.Z.getTextWidgetOpacity(),hotkey:null!=n?(0,Yt.BB)(n.shortcut):null,text_activation_hotkey:null!=r?(0,Yt.BB)(r.shortcut):null})}var ei=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Xo(e,t)}(n,e);var t=Qo(n);function n(){Wo(this,n);var e;(e=t.apply(this,arguments)).state={selectedSection:qo.GENERAL};e.handleSelectSection=function(t){e.setState({selectedSection:t})};e.handleToggleTextChatNotifications=function(){var t=ie.Ypu.ENABLED,n=ie.Ypu.DISABLED,r=e.props.textChatNotificationMode===t?n:t;S.Z.setTextChatNotificationMode(r);$o()};return e}var i=n.prototype;i.componentDidMount=function(){S.Z.track(ie.rMx.SETTINGS_PANE_VIEWED,{settings_type:"overlay",destination_pane:"OVERLAY SETTINGS",origin_pane:null})};i.handleChangeNotificationPositionMode=function(e,t){S.Z.setNotificationPositionMode(t);$o()};i.handleChangeAvatarSizeMode=function(e){var t=e.value;S.Z.setAvatarSizeMode(t)};i.handleChangeDisplayNameMode=function(e){var t=e.value;S.Z.setDisplayNameMode(t)}
;i.handleChangeDisplayUserMode=function(e){var t=e.value;S.Z.setDisplayUserMode(t)};i.renderHeader=function(){return(0,r.jsxs)(Bt.Z,{direction:Bt.Z.Direction.VERTICAL,grow:0,shrink:0,className:Ho().header,children:[(0,r.jsxs)(Bt.Z,{children:[(0,r.jsx)(O.vw,{className:Ho().headerTitle,tag:"h1",children:T.Z.Messages.OVERLAY_SETTINGS_TITLE}),(0,r.jsx)(zo.ol,{className:Ho().headerClose,onClick:this.props.onClose})]}),this.renderTabBar()]})};i.renderTabBar=function(){var e=this.state.selectedSection;return(0,r.jsxs)(Uo.ZP,{selectedItem:e,type:Uo.ZP.Types.TOP,className:Ho().tabBar,onItemSelect:this.handleSelectSection,children:[(0,r.jsx)(Uo.ZP.Item,{id:qo.GENERAL,className:Ho().tabBarItem,children:T.Z.Messages.OVERLAY_SETTINGS_GENERAL_TAB}),(0,r.jsx)(Uo.ZP.Item,{id:qo.VOICE,className:Ho().tabBarItem,children:T.Z.Messages.OVERLAY_SETTINGS_VOICE_TAB})]})};i.renderBody=function(){var e,t=this.state.selectedSection;switch(t){case qo.VOICE:e=this.renderVoiceSettings();break;case qo.GENERAL:
default:e=this.renderGeneralSettings()}return(0,r.jsx)(zo.hz,{className:Ho().content,children:e},t)};i.renderGeneralSettings=function(){var e=this.props,t=e.textChatNotificationMode,n=e.notificationPositionMode,i=n!==ie._vf.DISABLED;return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(O.xJ,{title:T.Z.Messages.FORM_LABEL_NOTIFICATION_POSITION,className:k().marginBottom20,children:(0,r.jsx)(Bo.Z,{position:n,onChange:this.handleChangeNotificationPositionMode})}),(0,r.jsx)(O.j7,{value:i&&t===ie.Ypu.ENABLED,onChange:this.handleToggleTextChatNotifications,disabled:!i,hideBorder:!0,children:T.Z.Messages.FORM_LABEL_OVERLAY_TEXT_CHAT_NOTIFICATIONS})]})};i.renderVoiceSettings=function(){var e=this.props,t=e.avatarSizeMode,n=e.displayNameMode,i=e.displayUserMode;return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(O.xJ,{title:T.Z.Messages.FORM_LABEL_AVATAR_SIZE,className:k().marginBottom20,children:(0,r.jsx)(O.Ee,{onChange:this.handleChangeAvatarSizeMode,options:[{value:ie.ipw.LARGE,
name:T.Z.Messages.AVATAR_SIZE_OPTION_LARGE},{value:ie.ipw.SMALL,name:T.Z.Messages.AVATAR_SIZE_OPTION_SMALL}],value:t,size:O.Ee.Sizes.SMALL})}),(0,r.jsx)(O.xJ,{title:T.Z.Messages.FORM_LABEL_DISPLAY_NAMES,className:k().marginBottom20,children:(0,r.jsx)(O.Ee,{onChange:this.handleChangeDisplayNameMode,options:[{value:ie.wC$.ALWAYS,name:T.Z.Messages.DISPLAY_OPTION_ALWAYS},{value:ie.wC$.ONLY_WHILE_SPEAKING,name:T.Z.Messages.DISPLAY_OPTION_ONLY_WHILE_SPEAKING},{value:ie.wC$.NEVER,name:T.Z.Messages.DISPLAY_OPTION_NEVER}],value:n,size:O.Ee.Sizes.SMALL})}),(0,r.jsx)(O.xJ,{title:T.Z.Messages.FORM_LABEL_DISPLAY_USERS,className:k().marginBottom20,children:(0,r.jsx)(O.Ee,{onChange:this.handleChangeDisplayUserMode,options:[{value:ie.OYC.ALWAYS,name:T.Z.Messages.DISPLAY_OPTION_ALWAYS},{value:ie.OYC.ONLY_WHILE_SPEAKING,name:T.Z.Messages.DISPLAY_OPTION_ONLY_WHILE_SPEAKING}],value:i,size:O.Ee.Sizes.SMALL})})]})};i.render=function(){return(0,r.jsxs)(zo.Y0,{"aria-label":T.Z.Messages.OVERLAY_SETTINGS_TITLE,
transitionState:Go.Dv.ENTERED,children:[this.renderHeader(),this.renderBody()]})};return n}(o.PureComponent);const ti=i.ZP.connectStores([Ut.Z],(function(){return{avatarSizeMode:Ut.Z.getAvatarSizeMode(),displayNameMode:Ut.Z.getDisplayNameMode(),displayUserMode:Ut.Z.getDisplayUserMode(),notificationPositionMode:Ut.Z.getNotificationPositionMode(),textChatNotificationMode:Ut.Z.getTextChatNotificationMode()}}))(ei);var ni=n(386638),ri=n.n(ni);function oi(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ii(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){
Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}const ai=function(e){var t,n=e.title,o=e.header,i=e.children,a=e.renderSettings,c=e.onDragStart;t=null!=n?(0,r.jsxs)(Pe.Bar,{className:m()(ri().header,ri().draggableStartArea),onMouseDown:c,children:[(0,r.jsx)(Pe.Content,{className:m()(ri().headerTitle,ri().draggableStartArea),dynamicSize:!0,children:n}),(0,r.jsx)(Pe.Content,{children:(0,r.jsx)(Lo.ZP,{position:Lo.ZP.Positions.RIGHT,renderPopout:null!=a?a:ie.dG4,autoInvert:!1,children:function(e){return(0,r.jsx)(Pe.Icon,ii(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){oi(e,t,n[t])}))}return e}({},e),{icon:Vo.Z,label:T.Z.Messages.SETTINGS}))}})})]}):o;return(0,r.jsxs)("div",{className:ri().sidebar,
children:[t,(0,r.jsx)("div",{className:ri().children,children:i})]})};var ci=n(733346),li=n(329132),ui=n.n(li);function si(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fi(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function di(e){di=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return di(e)}function pi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){fi(e,t,n[t])}))}return e}function hi(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){
var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function yi(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function vi(e,t){return!t||"object"!==bi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function gi(e,t){gi=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return gi(e,t)}var bi=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function mi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=di(e);if(t){var o=di(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return vi(this,n)}}var Oi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&gi(e,t)}(n,e);var t=mi(n);function n(){si(this,n);var e;(e=t.apply(this,arguments)).state={controller:new wo.Controller({value:1,immediate:!0}),renderBanner:!1,bannerVisible:!1,communityInfoVisible:!1};e.handleScroll=function(t){var n=t.scrollTop
;e.setAnimatedValue(n)};return e}var o=n.prototype;o.componentDidMount=function(){var e=this.props.guildId,t=Ro.Z.getGuildDimensions(e).scrollTop;this.setAnimatedValue(null!=t?t:0)};o.componentDidUpdate=function(e){var t=this.props,n=t.guild,r=t.guildId;if(e.guild!==n){var o=Ro.Z.getGuildDimensions(r).scrollTop;this.setAnimatedValue(null!=o?o:0)}};o.renderSettings=function(e){var t=e.closePopout;return(0,r.jsx)(ti,{onClose:t})};o.setAnimatedValue=function(e){var t=this.props.guild,n=null==t?void 0:t.hasCommunityInfoSubheader();null==t||null==t.banner&&!n||(null!=t.banner?this.setAnimatedValueForBanner(e):this.setAnimatedValueForCommunityInfo(e))};o.setAnimatedValueForBanner=function(e){var t=this.state,n=t.renderBanner,r=t.communityInfoVisible,o=t.bannerVisible,i=t.controller;(e>=54&&o||e<54&&!o)&&(o=!o);(e>=78&&!n||e<78&&n)&&(n=!n);r=o;n===this.state.renderBanner&&o===this.state.bannerVisible&&r===this.state.communityInfoVisible||this.setState({renderBanner:n,bannerVisible:o,
communityInfoVisible:r});i.update({value:Math.min(1,Math.max(0,1-e/78)),immediate:!0}).start()};o.setAnimatedValueForCommunityInfo=function(e){var t=this.state,n=t.communityInfoVisible,r=t.controller;(e>=20&&n||e<20&&!n)&&this.setState({communityInfoVisible:!n});r.update({value:Math.min(1,Math.max(0,1-e/20)),immediate:!0}).start()};o.render=function(){var e=this.props,t=e.onDragStart,n=yi(e,["onDragStart"]),o=n.guild,i=this.state,a=i.controller,c=i.renderBanner,l=i.bannerVisible,u=i.communityInfoVisible,s=o.id===ci._?Co.j:Co.E;return(0,r.jsxs)(ai,{header:(0,r.jsx)(Io.ZP,{guild:o,controller:a,renderBanner:c,bannerVisible:l,className:ui().guildHeader,headerClassName:ui().guildHeaderInner,onMouseDown:t,disableBannerAnimation:!1,communityInfoVisible:u,children:(0,r.jsx)(Lo.ZP,{position:Lo.ZP.Positions.RIGHT,renderPopout:this.renderSettings,children:function(e){return(0,r.jsx)(Pe.Icon,pi({icon:Vo.Z,label:T.Z.Messages.SETTINGS},e))}})}),children:[(0,r.jsx)("div",{className:ui().channelList,
children:(0,r.jsx)(s,hi(pi({},n),{guild:o,disableManageChannels:!0,onScroll:null!=o&&null!=o.banner?this.handleScroll:null}))}),(0,r.jsx)("section",{className:ui().panels,"aria-label":T.Z.Messages.ACCOUNT_A11Y_LABEL,children:(0,r.jsx)(_o.Z,{guildId:o.id})})]})};n.getDerivedStateFromProps=function(e){var t=e.guild;return null==t||null==t.banner?{renderBanner:!1,bannerVisible:!1}:null};return n}(o.PureComponent);function Si(e){var t=e.guildId,n=(0,i.e7)([Tt.Z],(function(){return Tt.Z.getGuild(t)})),o=(0,i.e7)([Kt.ZP],(function(){return Kt.ZP.getChannels(t)})),a=(0,i.e7)([Ao.Z],(function(){return Ao.Z.getCategories(t)})),c=(0,i.cj)([ko.Z],(function(){return{mutedChannels:ko.Z.getMutedChannels(t),collapseMuted:ko.Z.isGuildCollapsed(t)}})),l=c.mutedChannels,u=c.collapseMuted,s=(0,i.e7)([Do.ZP],(function(){return Do.ZP.getVoiceStates(t)})),f=(0,i.e7)([To.Z],(function(){return To.Z.getCollapsed()})),d=(0,i.e7)([Ro.Z],(function(){return Ro.Z.getGuildDimensions(t)})).scrollTo,p=(0,
xo.Z)((function(e){return e.channelId})),h=(0,i.e7)([Mt.Z],(function(){return Mt.Z.getVoiceChannelId()})),y=(0,i.e7)([Jt.Z],(function(){return Jt.Z.getGuildVersion(t)})),v=(0,i.e7)([No.Z],(function(){return No.Z.version})),g=(0,i.e7)([Mo.Z],(function(){return Mo.Z.getGuildChangeSentinel(t)})),b=(0,jo.Q)(null==n?void 0:n.id),m=(0,Po.gM)(null==n?void 0:n.id),O=(0,Zo.i8)(t);return(0,r.jsx)(Oi,{guildId:t,guild:n,channels:o,categories:a,mutedChannels:l,scrollToChannel:d,selectedChannelId:p,selectedVoiceChannelId:h,voiceStates:s,collapsedChannels:f,collapseMuted:u,guildReadStateSentinel:g,permissionVersion:y,categoryCollapseVersion:v,embeddedAppsByChannel:b,activeEventsByChannel:m,showNewUnreadsBar:O,optInEnabled:!1})}var Ei=n(428907),wi=n(112886),_i=n(47254),ji=n.n(_i),Pi=function(){return(0,wi.$Z)("DM_SEARCH")};function Ci(){var e=(0,i.e7)([Ut.Z],(function(){return Ut.Z.isUILocked((0,Ze.QF)())?"true":"false"})),t=(0,xo.Z)((function(e){return e.channelId}));return(0,r.jsxs)("div",{
className:ji().privateChannels,children:[(0,r.jsx)("div",{className:ji().searchBar,children:(0,r.jsx)("button",{type:"button",className:ji().searchBarComponent,onClick:Pi,children:T.Z.Messages.DM_SEARCH_PLACEHOLDER})}),(0,r.jsx)(Ei.Z,{padding:8,theme:ie.BRd.DARK,version:e,selectedChannelId:t}),(0,r.jsx)("section",{className:ji().panels,"aria-label":T.Z.Messages.ACCOUNT_A11Y_LABEL,children:(0,r.jsx)(_o.Z,{guildId:null})})]})}const Ii=o.memo(Ci);var Zi=n(865037),xi=n.n(Zi);function Ni(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ti(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Ri(e){Ri=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Ri(e)}function Ai(e,t){return!t||"object"!==ki(t)&&"function"!=typeof t?function(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Mi(e,t){Mi=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Mi(e,t)}var ki=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Di(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Ri(e);if(t){var o=Ri(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ai(this,n)}}function Li(e){var t=e.closePopout;return(0,r.jsx)(ti,{onClose:t})}var Vi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{
value:e,writable:!0,configurable:!0}});t&&Mi(e,t)}(n,e);var t=Di(n);function n(){Ni(this,n);var e;(e=t.apply(this,arguments)).onDragStart=function(t){(0,e.props.dragStart)(po.MOVE,t.clientX,t.clientY)};return e}n.prototype.render=function(){var e=this.props,t=e.selectedGuildId,n=e.locked,o=e.contained,i=null!=t?(0,r.jsx)(Si,{guildId:t,onDragStart:this.onDragStart},t):(0,r.jsx)(ai,{title:T.Z.Messages.DIRECT_MESSAGES,renderSettings:Li,onDragStart:this.onDragStart,children:(0,r.jsx)(Ii,{})}),a=o?"div":Pe;return(0,r.jsxs)(a,{className:m()(xi().base,Ti({},xi().widget,!o)),children:[(0,r.jsx)(Eo.Z,{isOverlay:!0,disableAppDownload:!0,isVisible:!n}),i]})};return n}(o.PureComponent);Vi.defaultProps={contained:!1};const Ui=i.ZP.connectStores([Qt.Z],(function(){return{selectedGuildId:Qt.Z.getGuildId()}}))(Vi)
;var zi=n(741655),Bi=n(549425),Gi=n(541307),Yi=n(671413),Hi=n(567007),Wi=n(748670),Fi=n(300376),Ki=n(884021),Xi=n(303540),Ji=n(425309),Qi=n(99719),qi=n(691869),$i=n(172458),ea=n(491949),ta=n(741738),na=n(640753),ra=n(415342),oa=n(302561),ia=n(11870),aa=n(402124),ca=n(179468),la=n(171447),ua=n(401386),sa=n(882699),fa=n(391595),da=n(254274);var pa=n(804626),ha=n(782226),ya=n(672688),va=n(53551),ga=n(464623),ba=n(429677),ma=n(845724),Oa=n(58877);function Sa(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Ea(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){
Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function wa(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function _a(e){var t=e.width,n=void 0===t?24:t,o=e.height,i=void 0===o?24:o,a=e.color,c=void 0===a?"currentColor":a,l=e.foreground,u=wa(e,["width","height","color","foreground"]);return(0,r.jsx)("svg",Ea(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Sa(e,t,n[t])}))}return e}({},(0,J.Z)(u)),{
width:n,height:i,viewBox:"0 0 24 24",children:(0,r.jsx)("path",{fill:c,className:l,fillRule:"evenodd",clipRule:"evenodd",d:"M21 2H3C1.897 2 1 2.898 1 4V6H23V4C23 2.898 22.103 2 21 2ZM13 12H15V14H13V12ZM11 12H13V10H15V12H17V14H15V16H13V14H11V12ZM9 12H11V10H9V12ZM9 14V12H7V10H5V12H7V14H5V16H7V18H9V16H11V18H13V16H11V14H9ZM9 14V16H7V14H9ZM17 16V14H19V16H17ZM17 16H15V18H17V16ZM17 12H19V10H17V12ZM3 22C1.897 22 1 21.103 1 20V7H23V20C23 21.103 22.103 22 21 22H3Z"})}))}var ja=n(924635),Pa=n(27617),Ca=n(272729);function Ia(e){switch(e){case da.w.BOTTOM:return da.w.BOTTOM;case da.w.LOWER:return da.w.LOWER;case da.w.UPPER:return da.w.UPPER;default:return da.w.TOP}}var Za=n(545262),xa=n.n(Za);function Na(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ta(e){Ta=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Ta(e)}function Ra(e,t){return!t||"object"!==Ma(t)&&"function"!=typeof t?function(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Aa(e,t){Aa=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Aa(e,t)}var Ma=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function ka(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Ta(e);if(t){var o=Ta(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ra(this,n)}}var Da=Object.values(da.w).map((function(e){return 100*e})),La=(0,Ca.hQ)(),Va=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{
constructor:{value:e,writable:!0,configurable:!0}});t&&Aa(e,t)}(n,e);var t=ka(n);function n(){Na(this,n);var e;(e=t.apply(this,arguments)).initialValue=100*e.props.opacity;return e}var o=n.prototype;o.handleUpdateBackgroundOpacity=function(e){S.Z.setTextWidgetOpacity(Ia(e/100));S.Z.track(ie.rMx.OVERLAY_SETTINGS_UPDATED,{text_opacity_slider:e})};o.handlePreviewBackgroundOpacity=function(e){S.Z.setTextWidgetOpacity(Ia(e/100))};o.render=function(){return(0,r.jsxs)("div",{className:xa().container,children:[(0,r.jsx)(O.vw,{id:La,tag:O.RB.H5,className:xa().title,children:T.Z.Messages.FORM_LABEL_OVERLAY_CHAT_OPACITY}),(0,r.jsx)("div",{className:xa().sliderContainer,children:(0,r.jsx)(O.iR,{mini:!0,initialValue:this.initialValue,defaultValue:this.initialValue,minValue:Da[0],maxValue:Da[Da.length-1],handleSize:10,onValueChange:this.handleUpdateBackgroundOpacity,asValueChanges:this.handlePreviewBackgroundOpacity,markers:Da,onMarkerRender:ie.dG4,equidistant:!0,stickToMarkers:!0,
"aria-labelledby":La})})]})};return n}(o.PureComponent);const Ua=i.ZP.connectStores([Ut.Z],(function(){return{opacity:Ut.Z.getTextWidgetOpacity()}}))(Va);var za=n(973337),Ba=n.n(za);function Ga(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ya(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Ha(e){Ha=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Ha(e)}function Wa(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function Fa(e,t){return!t||"object"!==Xa(t)&&"function"!=typeof t?function(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ka(e,t){Ka=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Ka(e,t)}var Xa=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Ja(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Ha(e);if(t){var o=Ha(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Fa(this,n)}}var Qa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Ka(e,t)}(n,e);var t=Ja(n)
;function n(){Ga(this,n);var e;(e=t.apply(this,arguments)).state={showOpacitySlider:!1};e.handleClickCall=function(t){var n=e.props,r=n.channel,o=n.userIsInChannelCall,i=n.channelHasActiveCall;if(i)o?pa.default.selectVoiceChannel(null):S.Z.callPrivateChannel(r.id,!1);else{var a=!i&&!t.shiftKey;S.Z.callPrivateChannel(r.id,a)}};e.handleOpenOpacitySettings=function(){var t=e.props.pinned;e.setState({showOpacitySlider:!0});t&&S.Z.setPreviewInGameMode(!0)};e.handleCloseOpacitySettings=function(){var t=e.props.pinned;e.setState({showOpacitySlider:!1});t&&S.Z.setPreviewInGameMode(!1)};e.handleMouseDown=function(t){var n=e.props.onMouseDown;null!=n&&n(t)};e.renderWidgetButtons=function(){var t=e.props,n=t.locked,i=t.handlePin,a=t.pinned,c=a?T.Z.Messages.OVERLAY_WIDGET_HIDE_IN_GAME:T.Z.Messages.OVERLAY_WIDGET_SHOW_IN_GAME;return n?null:(0,r.jsxs)(o.Fragment,{children:[e.renderCallButton(),a?(0,r.jsx)(ha.Z.Icon,{icon:_a,tooltip:T.Z.Messages.FORM_LABEL_OVERLAY_CHAT_OPACITY,
onClick:e.handleOpenOpacitySettings}):null,(0,r.jsx)(ha.Z.Icon,{icon:a?Pa.Z:ja.Z,tooltip:c,selected:a,onClick:i})]})};return e}var i=n.prototype;i.componentDidUpdate=function(){this.props.locked&&this.state.showOpacitySlider&&this.setState({showOpacitySlider:!1})};i.renderCallButton=function(){var e,t,n=this.props,o=n.channel,i=n.channelHasActiveCall,a=n.userIsInChannelCall,c=n.isBlocked;if(!(0,va.hv)(o.type))return null;var l=ba.Z,u=!1;if(i)if(a){e=T.Z.Messages.LEAVE_CALL;l=ma.Z}else e=T.Z.Messages.JOIN_CALL;else if(c){e=T.Z.Messages.CALL_UNAVAILABLE_BLOCKED_USERS;t=re.ZP.Colors.RED;u=!0}else e=T.Z.Messages.START_VOICE_CALL;return(0,r.jsx)(ha.Z.Icon,{icon:l,tooltip:e,onClick:this.handleClickCall,tooltipColor:t,disabled:u})};i.render=function(){var e=this.props,t=e.className,n=e.draggableClassName,o=e.locked,i=e.channel,a=e.channelName,c=e.guild,l=e.onMouseDown,u=e.onContextMenu,s=e.isPreviewingInGame,f=e.disableDragIndicator,d=o||s?null:1;return this.state.showOpacitySlider&&!o?(0,
r.jsxs)(Pe.Bar,{className:Ba().opacityHeader,children:[(0,r.jsx)(Ua,{}),(0,r.jsx)(ha.Z.Icon,{icon:x.Z,onClick:this.handleCloseOpacitySettings,tooltip:T.Z.Messages.CLOSE})]}):(0,r.jsx)(Pe.Background,{opacityOverride:d,children:(0,r.jsx)("div",{className:m()(t,n,Ba().headerContainer),onMouseDown:l,onContextMenu:u,children:(0,r.jsxs)(ha.Z,{guildId:i.guild_id,channelId:i.id,toolbar:this.renderWidgetButtons(),transparent:!0,children:[s||o||f?null:(0,r.jsx)(Oa.Z,{className:m()(Ba().dragIcon,n),width:20,height:20}),(0,ya.ud)({channel:i,channelName:a}),o?null:(0,ya.v0)(i,c)]})})})};return n}(o.Component);function qa(e){var t=e.channel,n=Wa(e,["channel"]),o=(0,i.e7)([Mt.Z,Nt.Z],(function(){var e=Mt.Z.getVoiceChannelId();return Nt.Z.getChannel(e)})),a=(0,i.e7)([Tt.Z],(function(){return Tt.Z.getGuild(t.guild_id)})),c=(0,i.e7)([ga.Z],(function(){return ga.Z.isCallActive(t.id)})),l=(0,Dn.ZP)(t),u=(0,i.e7)([Ln.Z],(function(){
return!(!t.isDM()||null==t.getRecipientId())&&Ln.Z.isBlocked(t.getRecipientId())}));return(0,r.jsx)(Qa,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Ya(e,t,n[t])}))}return e}({channel:t,channelName:l,guild:a,channelHasActiveCall:c,userIsInChannelCall:null!=o&&o.id===t.id,isBlocked:u},n))}var $a=n(672975),ec=n.n($a);function tc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function nc(e,t,n,r,o,i,a){try{var c=e[i](a),l=c.value}catch(e){n(e);return}c.done?t(l):Promise.resolve(l).then(r,o)}function rc(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){nc(i,r,o,a,c,"next",e)}function c(e){nc(i,r,o,a,c,"throw",e)}a(void 0)}))}}
function oc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ic(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ac(e){ac=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return ac(e)}function cc(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&dc(e,t)}function lc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ic(e,t,n[t])}))}return e}function uc(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function sc(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function fc(e,t){return!t||"object"!==hc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}
function dc(e,t){dc=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return dc(e,t)}function pc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){c=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return tc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tc(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var hc=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function yc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=ac(e);if(t){var o=ac(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return fc(this,n)}}var vc=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,
o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},gc=da.w.TOP,bc=function(e){cc(n,e);var t=yc(n);function n(e){oc(this,n);var o;(o=t.call(this,e)).draftDidChange=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.props,t=o.state.textValue,n=aa.Z.getDraft(e.channel.id,aa.d.ChannelMessage);t!==n&&""===n&&o.setState((0,$i.eK)(n))};o.handleTextareaKeyDown=function(e){
if(!(e.which!==ie.yXg.ARROW_UP||e.shiftKey||e.altKey||e.ctrlKey||e.metaKey)&&0===o.state.textValue.length){e.preventDefault();var t=o.props.channel,n=la.Z.getLastEditableMessage(t.id);null!=n&&Bi.Z.startEditMessage(t.id,n.id,n.content)}};o.handleTextareaChange=function(e,t,n){var r=o.props.channel.id;zi.Z.changeDraft(r,o.state.textValue,aa.d.ChannelMessage);""!==t?Gi.Z.startTyping(r):Gi.Z.stopTyping(r);o.setState({textValue:t,richValue:n})};o.handleSendMessage=function(e){var t=e.value,n=o.props,r=n.channel,i=n.pendingReply,a=n.isTemporarilyActive;return 0===t.length?Promise.resolve({shouldClear:!1,shouldRefocus:!0}):(0,fa.v)({openWarningPopout:function(e){return o.setState({contentWarningProps:e})},type:qi.I.OVERLAY,content:t,channel:r}).then((function(e){var n=e.valid,c=e.failureReason;if(!n){if(c===ie.zYc.SLOWMODE_COOLDOWN){sa.S.dispatch(ie.CkL.EMPHASIZE_SLOWMODE_COOLDOWN);return{shouldClear:!1,shouldRefocus:!0}}return{shouldClear:!1,shouldRefocus:!1}}
var l=Bi.Z.getSendMessageOptionsForReply(i);Bi.Z.sendMessage(r.id,na.ZP.parse(r,t),!0,l);o.setState((0,$i.H2)());(0,oa.A6)(r.id);if(a){S.Z.deactivateAllRegions();return{shouldClear:!1,shouldRefocus:!1}}return{shouldClear:!0,shouldRefocus:!0}}))};o.focusInput=function(){o.setState({focused:!0})};o.blurInput=function(){o.setState({focused:!1})};o.renderAttachButton=function(e,t){return(0,r.jsx)(ea.Z,{className:t,channel:o.props.channel,draftType:aa.d.ChannelMessage,editorTextContent:o.state.textValue,setValue:function(e){return o.handleTextareaChange(null,e,(0,$i.JM)(e))},canShowPremiumTutorial:e})};aa.Z.addChangeListener(o.draftDidChange);var i=aa.Z.getDraft(e.channel.id,aa.d.ChannelMessage);o.state=uc(lc({},(0,$i.eK)(i)),{focused:!1,contentWarningProps:null});sa.S.subscribe(ie.CkL.TEXTAREA_FOCUS,o.focusInput);sa.S.subscribe(ie.CkL.TEXTAREA_BLUR,o.blurInput);return o}var o=n.prototype;o.componentDidUpdate=function(e){e.channel.id!==this.props.channel.id&&this.draftDidChange(this.props)
;(this.props.channel!==e.channel||this.props.isTemporarilyActive&&!e.isTemporarilyActive)&&this.setState({focused:!0})};o.componentWillUnmount=function(){aa.Z.removeChangeListener(this.draftDidChange);sa.S.unsubscribe(ie.CkL.TEXTAREA_FOCUS,this.focusInput);sa.S.unsubscribe(ie.CkL.TEXTAREA_BLUR,this.blurInput)};o.render=function(){var e=this,t=this.props,n=t.channel,o=t.placeholder,i=sc(t,["channel","placeholder"]),a=this.state,c=a.focused,l=a.textValue,u=a.contentWarningProps,s=a.richValue,f=(0,r.jsx)(Lo.ZP,{position:Lo.ZP.Positions.TOP,onRequestClose:function(){var t;null==u||null===(t=u.onCancel)||void 0===t||t.call(u);e.setState({contentWarningProps:null})},shouldShow:null!=u,renderPopout:function(e){var t=e.closePopout;pn()(null!=u,"ConnectedChannelTextArea.render - renderPopout: contentWarningProps cannot be null");return(0,r.jsx)(Xi.Z,lc({onClose:t},u))},children:function(){return(0,r.jsx)(ta.Z,uc(lc({},i),{renderAttachButton:e.renderAttachButton,channel:n,type:qi.I.OVERLAY,
onFocus:function(){return e.setState({focused:!0})},onBlur:function(){return e.setState({focused:!1})},placeholder:o,textValue:l,richValue:s,onSubmit:e.handleSendMessage,onChange:e.handleTextareaChange,onKeyDown:e.handleTextareaKeyDown,focused:c}))}});return n.isPrivate()?(0,r.jsx)(Wi.Z,{channel:n,children:f},n.id):(0,r.jsx)(Fi.Z,{channel:n,children:f},n.id)};return n}(o.Component),mc=function(e){cc(i,e);var t=yc(i);function i(){oc(this,i);var e;(e=t.apply(this,arguments)).handlePin=function(){S.Z.setPinChat(!e.props.pinned)};e.handleContextMenu=function(t){var o=e.props,i=o.channel,a=o.user;null!=i&&null!=a&&(0,bt.jW)(t,rc((function(){var e,t;return vc(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(87996),n.e(45323),n.e(63952)]).then(n.bind(n,281327))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,uc(lc({},e),{user:a,channelSelected:!0,channel:i}))}]}}))})))};e.moveDragStart=function(t){(0,
e.props.dragStart)(po.MOVE,t.clientX,t.clientY)};e.resizeDragStart=function(t){(0,e.props.dragStart)(po.RESIZE_SOUTH_EAST,t.clientX,t.clientY)};return e}var a=i.prototype;a.componentDidUpdate=function(e){var t=this.props,n=t.channel,r=t.pinned,o=t.activated;if(null!=n){r!==e.pinned&&S.Z.track(ie.rMx.OVERLAY_PIN_TOGGLED,{pinned:r,guild_id:n.guild_id,channel_id:n.id,channel_type:n.type,widget_type:ie.Odu.TEXT});o&&!e.activated&&S.Z.track(ie.rMx.OVERLAY_UNLOCKED,{channel_id:n.id,channel_type:n.type,guild_id:n.guild_id})}};a.getOpacity=function(){var e=this.props,t=e.locked,n=e.activated,r=e.opacity,o=e.isPreviewingInGame;return t&&!n||o?r/100:n||!t?Math.min(1,(r+25)/100):1};a.renderContent=function(){var e=this.props,t=e.channel,n=e.placeholder,i=e.nsfwAgree,a=e.guild,c=e.locked,l=e.activated,u=e.chatKeybind,s=e.pinned,f=e.isPreviewingInGame,d=e.dragging,p=e.pendingReply;if(null==t)return null;var h,y,v=c||f,g=!i&&null!=t&&t.isNSFW(),b=!v||l;h=g&&null!=a?(0,r.jsx)(Ji.Z,{guild:a}):(0,
r.jsx)(ra.Z,{channel:t,className:ec().messages,forceCompact:s,showNewMessagesBar:!v,scrollerClassName:s?ec().scroller:void 0,showingSpamBanner:!1,showingQuarantineBanner:!1},t.id);return(0,r.jsx)(ua.G.Provider,{value:{disableInteractions:s&&c&&!l,disableAnimations:s&&v&&!l},children:(0,r.jsxs)(o.Fragment,{children:[!c&&!f&&(0,r.jsx)(Hi.Z,{channel:t,guild:a}),(0,r.jsx)(Pe.Background,{opacityOverride:c||f?null:gc,children:(0,r.jsx)("div",{className:m()(ec().messagesContainer,(y={},ic(y,ec().isDragging,d),ic(y,ec().disableHoverStates,s&&c&&!l),y)),children:h})}),g?null:(0,r.jsx)("div",{children:b?(0,r.jsx)(Pe.Background,{opacityOverride:c||f?null:gc,children:(0,r.jsxs)("div",{className:ec().footerContent,children:[(0,r.jsx)(bc,{channel:t,placeholder:n,isTemporarilyActive:l,pendingReply:p}),(0,r.jsx)("div",{className:ec().typingWrapper,children:(0,r.jsx)(Ki.Z,{channel:t,className:ec().typing})})]})}):(0,r.jsx)("div",{className:ec().activateContainer,children:(0,r.jsx)(Pe.Background,{
opacityOverride:da.w.LOWER,children:(0,r.jsx)("div",{className:m()(ec().activateKeybind,ec().mediumBackgroundOpacity),children:null!=t.name&&t.name.length>0?T.Z.Messages.OVERLAY_CHANNEL_CHAT_HOTKEY.format({keybind:u,channelName:t.isMultiUserDM()?t.name:"#".concat(t.name)}):T.Z.Messages.OVERLAY_USER_CHAT_HOTKEY.format({keybind:u})})})})})]})})};a.renderWidgetWrapper=function(e){var t=this.props,n=t.locked,o=t.pinned,i=t.activated,a=t.isPreviewingInGame,c=t.opacity,l=ie.t_t.UNPINNED;i?l=ie.t_t.IN_GAME_ACTIVE:o&&n||a?l=ie.t_t.IN_GAME_TEXT:o&&(l=ie.t_t.PINNED);var u,s=n&&!i||a,f=o&&(s||i),d=o&&i,p=o&&s&&!i,h=function(e){switch(e){case da.w.BOTTOM:return da.a.LOW;case da.w.LOWER:return da.a.MEDIUM;case da.w.UPPER:return da.a.HIGH;case da.w.TOP:return da.a.FULL;default:return}}(c);return(0,r.jsx)(Pe,{className:m()(h,(u={},ic(u,ec().widgetWrapper,!o),ic(u,ec().widgetWrapperPinned,o),ic(u,ec().locked,p),ic(u,ec().inGame,f),ic(u,ec().inGameActive,d),ic(u,ec().pinned,o),
ic(u,"overlay-unlocked",!n),u)),type:l,opacity:c,children:e})};a.renderContainedWrapper=function(e){return(0,r.jsx)("div",{className:ec().contained,children:e})};a.render=function(){var e=this.props,t=e.locked,n=e.channel,i=e.pinned,a=e.isPreviewingInGame,c=e.contained;if(null==n)return null;var l=(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(qa,{draggableClassName:ec().draggableStartArea,className:ec().headerDefault,channel:n,locked:t,pinned:i,disableDragIndicator:c,isPreviewingInGame:a,handlePin:this.handlePin,onContextMenu:this.handleContextMenu,onMouseDown:this.moveDragStart}),this.renderContent(),t||a?null:(0,r.jsx)("div",{className:ec().resizeIcon,onMouseDown:this.resizeDragStart})]});return c?this.renderContainedWrapper(l):this.renderWidgetWrapper(l)};return i}(o.PureComponent);function Oc(e){var t=e.contained,n=void 0!==t&&t,o=sc(e,["contained"]),a=(0,i.e7)([Qt.Z],(function(){return Qt.Z.getGuildId()})),c=(0,i.e7)([Mt.Z],(function(){return Mt.Z.getChannelId(a)})),l=(0,
i.e7)([Nt.Z],(function(){return Nt.Z.getChannel(c)})),u=(0,i.e7)([Vt.Z],(function(){return Vt.Z.getOverlayChatKeybind()})),s=null!=u?(0,Yt.BB)(u.shortcut,!0):"]",f=pc((0,i.Wu)([Ut.Z],(function(){return[Ut.Z.getTextWidgetOpacity(),Ut.Z.getActiveRegions(),!n&&Ut.Z.isPreviewingInGame()]})),3),d=f[0],p=f[1],h=f[2],y=(0,i.e7)([Tt.Z],(function(){return Tt.Z.getGuild(a)})),v=(0,i.e7)([ca.Z],(function(){return null!=a&&ca.Z.didAgree(a)})),g=null!=l&&l.isPrivate()?l.getRecipientId():null,b=(0,i.e7)([ia.Z],(function(){return null!=c?ia.Z.getPendingReply(c):void 0})),m=(0,i.e7)([qt.default],(function(){return null!=g?qt.default.getUser(g):null})),O=(0,Qi.Z)(l).placeholder;return null!=l&&null!=y&&l.type===ie.d4z.GUILD_FORUM?(0,r.jsx)(Yi.Z,{}):(0,r.jsx)(mc,lc({guild:y,channel:l,user:m,opacity:d,nsfwAgree:v,chatKeybind:s,activated:p.has(ie.O0n.TEXT_WIDGET),isPreviewingInGame:h,pendingReply:b,contained:n,placeholder:O},o))}var Sc=n(244764),Ec=n.n(Sc);function wc(e){
var t=e.dragStart,n=e.dragging,o=e.pinned,i=e.locked;return(0,r.jsxs)(Pe,{className:Ec().wrapper,children:[(0,r.jsx)(Ui,{contained:!0,dragStart:t,locked:i}),(0,r.jsx)(Oc,{dragStart:t,locked:i,pinned:o,dragging:n,contained:!0})]})}function _c(e){var t;return null!=e?{id:e.id,name:null!==(t=e.name)&&void 0!==t?t:""}:null}var jc=n(258698),Pc=n(367124),Cc=n(403872),Ic=n(945505),Zc=n(964199),xc=n(370442),Nc=n(785486),Tc=n(832010),Rc=n(997163),Ac=n(988279),Mc=n(987866),kc=n(820498),Dc=n(312855),Lc=n(204369),Vc=n(296942),Uc=n(349832),zc=n(248604),Bc=n(693518),Gc=n(915306),Yc=n(789093),Hc=n(462428),Wc=n(430542),Fc=n(109707),Kc=n(473727),Xc=n(600341),Jc=n(8062),Qc=n(630164),qc=n(23531),$c=n(882687);function el(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tl(e){tl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return tl(e)}function nl(e,t){
return!t||"object"!==ol(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function rl(e,t){rl=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return rl(e,t)}var ol=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function il(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=tl(e);if(t){var o=tl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return nl(this,n)}}var al={};function cl(e){var t=al[e=null!=e?e:"null"];null==t&&(t=al[e]={state:ie.hes.DISCONNECTED,quality:ie.IE4.UNKNOWN,pings:[],hostname:null,lossRate:null});return t}function ll(e,t,n){
var r=al[e=null!=e?e:"null"];return null!=r?t(r):n}function ul(e){var t=e.lobbyId;delete al[t]}var sl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&rl(e,t)}(n,e);var t=il(n);function n(){el(this,n);return t.apply(this,arguments)}var r=n.prototype;r.getConnectionState=function(e){return ll(e,(function(e){return e.state}),ie.hes.DISCONNECTED)};r.getQuality=function(e){return ll(e,(function(e){return e.quality}),ie.IE4.UNKNOWN)};r.getHostname=function(e){return ll(e,(function(e){return e.hostname}),null)};r.getPings=function(e){return ll(e,(function(e){return e.pings}),[])};r.getAveragePing=function(e){var t=this.getPings(e);return 0===t.length?0:t.reduce((function(e,t){return e+t.value}),0)/t.length};r.getLastPing=function(e){var t,n=this.getPings(e)
;return 0===n.length?0:null===(t=n[n.length-1])||void 0===t?void 0:t.value};r.getOutboundLossRate=function(e){return ll(e,(function(e){return e.lossRate}),null)};r.__getLocalVars=function(){return{rtcConnectionStates:al}};return n}(i.ZP.Store);sl.displayName="OverlayRTCConnectionStore";const fl=new sl(vn.Z,{OVERLAY_INITIALIZE:function(e){al=e.rtcConnectionStates},RTC_CONNECTION_STATE:function(e){if(null!=e.streamKey)return!1;var t=cl(e.lobbyId);t.state=e.state;t.hostname=e.hostname},RTC_CONNECTION_PING:function(e){var t=cl(e.lobbyId);t.pings=e.pings;t.quality=e.quality},RTC_CONNECTION_LOSS_RATE:function(e){cl(e.lobbyId).lossRate=e.lossRate},LOBBY_DELETE:ul,LOBBY_DISCONNECT:ul});var dl=n(449223),pl=n(353967),hl=n(993167),yl=n(433415),vl=n(230365),gl=n(679805),bl=n.n(gl),ml=n(444013),Ol=n.n(ml);function Sl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function El(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wl(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function _l(e){_l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return _l(e)}function jl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){wl(e,t,n[t])}))}return e}function Pl(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)
}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Cl(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function Il(e,t){return!t||"object"!==Nl(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Zl(e,t){Zl=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Zl(e,t)}function xl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{
for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){c=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Sl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sl(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Nl=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Tl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{
Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=_l(e);if(t){var o=_l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Il(this,n)}}function Rl(e){var t=e.lobbyId,n=(0,i.cj)([fl],(function(){return{connectionState:fl.getConnectionState(t),hostname:fl.getHostname(t),averagePing:fl.getAveragePing(t),lastPing:fl.getLastPing(t),pings:fl.getPings(),outboundLossRate:fl.getOutboundLossRate(t)}}));return(0,r.jsx)(qc.Z,jl({},n))}var Al=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Zl(e,t)}(n,e);var t=Tl(n);function n(){El(this,n);var e;(e=t.apply(this,arguments)).handleToggleSelfMute=function(){var t=e.props.context;Xc.Z.toggleSelfMute({context:t})};e.handleToggleSelfDeaf=function(){
var t=e.props.context;Xc.Z.toggleSelfDeaf({context:t})};e.renderPopout=function(){var t=e.props.lobbyId;return(0,r.jsx)(Rl,{lobbyId:t})};return e}var o=n.prototype;o.handleDisconnect=function(){pa.default.selectVoiceChannel(null)};o.renderLobby=function(){return(0,r.jsx)(Wc.Z,{className:Ol().channel,children:T.Z.Messages.LOBBY})};o.renderChannelLink=function(e){var t=this.props.guild,n=(0,Dn.F6)(e,qt.default,Ln.Z),o=null!=t?"".concat(n," / ").concat(t.name):n,i=null!=t?t.id:ie.ME;return(0,r.jsx)(Kc.rU,{to:ie.Z5c.CHANNEL(i),onClick:function(t){t.stopPropagation();Jc.Z.channelListScrollTo(i,e.id)},children:(0,r.jsx)(Wc.Z,{className:Ol().channel,children:o})})};o.render=function(){var e=this,t=this.props,n=t.className,o=t.contentClassName,i=t.pinned,a=t.lobbyId,c=t.channel,l=t.quality,u=t.lastPing,s=t.hasVideo,f=t.connectionState,d=t.deaf,p=t.mute;return null==c&&null==a?null:(0,r.jsx)(Pe.Bar,{className:m()(n,bl().controls,wl({},bl().unpinned,!i)),children:(0,r.jsxs)(Pe.Content,{
className:m()(o,bl().content),dynamicSize:!0,children:[(0,r.jsx)("div",{className:Ol().inner,children:(0,r.jsx)(Lo.ZP,{renderPopout:this.renderPopout,position:Lo.ZP.Positions.TOP,children:function(t){return(0,r.jsx)(O.P3,Pl(jl({},t),{children:(0,r.jsx)(Qc.Z,{statusTextClassName:Ol().statusWithPopout,quality:l,lastPing:u,hasVideo:s,state:f,children:null!=c?e.renderChannelLink(c):e.renderLobby()})}))}})}),(0,r.jsxs)(Bt.Z,{grow:0,children:[(0,r.jsx)(vl.Z,{tooltipText:p?T.Z.Messages.UNMUTE:T.Z.Messages.MUTE,icon:p?yl.Z:hl.Z,iconForeground:p?bl().strikethrough:null,onClick:this.handleToggleSelfMute}),(0,r.jsx)(vl.Z,{tooltipText:d?T.Z.Messages.UNDEAFEN:T.Z.Messages.DEAFEN,icon:d?pl.Z:dl.Z,onClick:this.handleToggleSelfDeaf,iconForeground:d?bl().strikethrough:null}),null==a&&(0,r.jsx)(vl.Z,{tooltipText:T.Z.Messages.DISCONNECT_SELF,onClick:this.handleDisconnect,icon:ma.Z})]})]})})};return n}(o.PureComponent);function Ml(e){
var t=e.context,n=e.lobbyId,o=e.channel,a=Cl(e,["context","lobbyId","channel"]),c=(0,i.e7)([Tt.Z],(function(){return Tt.Z.getGuild(null==o?void 0:o.getGuildId())})),l=(0,i.e7)([$c.Z],(function(){return null!=o&&$c.Z.hasVideo(o.id)})),u=xl((0,i.Wu)([Rt.Z],(function(){return[Rt.Z.isSelfMute(t)||Rt.Z.isSelfMutedTemporarily(t),Rt.Z.isSelfDeaf(t)]})),2),s=u[0],f=u[1],d=xl((0,i.Wu)([fl],(function(){return[fl.getConnectionState(n),fl.getLastPing(n),fl.getQuality(n)]})),3),p=d[0],h=d[1],y=d[2];return(0,r.jsx)(Al,Pl(jl({},a),{context:t,lobbyId:n,channel:o,guild:c,hasVideo:l,mute:s,deaf:f,connectionState:p,lastPing:h,quality:y}))}var kl=n(866452),Dl=n(566827),Ll=n.n(Dl);function Vl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ul(e,t,n,r,o,i,a){try{var c=e[i](a),l=c.value}catch(e){n(e);return}c.done?t(l):Promise.resolve(l).then(r,o)}function zl(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){
var i=e.apply(t,n);function a(e){Ul(i,r,o,a,c,"next",e)}function c(e){Ul(i,r,o,a,c,"throw",e)}a(void 0)}))}}function Bl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gl(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Yl(e){Yl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Yl(e)}function Hl(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Jl(e,t)}function Wl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){
Gl(e,t,n[t])}))}return e}function Fl(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Kl(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function Xl(e,t){return!t||"object"!==ql(t)&&"function"!=typeof t?function(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Jl(e,t){Jl=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Jl(e,t)}function Ql(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){c=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Vl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vl(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ql=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function $l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Yl(e);if(t){var o=Yl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Xl(this,n)}}var eu=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){
if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},tu=function(e){Hl(n,e);var t=$l(n);function n(){Bl(this,n);var e;(e=t.apply(this,arguments)).handleClick=function(t){var n=e.props,r=n.onClick,o=n.user;null!=r&&r(t,o)};e.handleContextMenu=function(t){
var n=e.props,r=n.onContextMenu,o=n.user;null!=r&&r(t,o)};return e}n.prototype.render=function(){var e,t,n=this.props,o=n.flipped,i=n.locked,a=n.deafened,c=n.muted,l=n.streaming,u=n.watching,s=n.user,f=n.size,d=n.speaking,p=n.isPrioritySpeaker,h=n.nick,y=n.displayNameMode,v=n.displayUserMode,g=n.guildId;return v===ie.OYC.ONLY_WHILE_SPEAKING&&i&&!d?null:(0,r.jsx)(Fc.Z,{guildId:g,onClick:i?void 0:this.handleClick,onContextMenu:i?void 0:this.handleContextMenu,className:m()(Ll().voiceUserWrapper,(e={},Gl(e,Ll().faded,!d),Gl(e,Ll().interactive,!i),e)),user:s,nick:h,speaking:!1,flipped:o,isStreaming:l,iconClassName:m()(Ll().voiceIcon,Gl({},Ll().locked,i)),isWatching:u,size:f,priority:p,deaf:a,mute:c,userNameClassName:m()(Ll().username,(t={},Gl(t,Ll().locked,i),Gl(t,Ll().hidden,i&&(y===ie.wC$.NEVER||!d&&y===ie.wC$.ONLY_WHILE_SPEAKING)),t))})};return n}(o.PureComponent);tu.defaultProps={size:ie.ipw.LARGE,flipped:!1,locked:!1,speaking:!1,isPrioritySpeaker:!1,deafened:!1,muted:!1}
;function nu(e){var t=e.context,n=e.user,a=e.voiceState,c=e.guildId,l=Kl(e,["context","user","voiceState","guildId"]),u=function(e,t,n){var r=t.isVoiceMuted();r||xt.default.getId()!==t.userId?r||(r=n.isLocalMute(t.userId,e)):r=!n.isEnabled()||n.isSelfMute(e)||n.isSelfMutedTemporarily(e);return r}(t,a,Rt.Z),s=(0,i.e7)([Zt.Z],(function(){return Zt.Z.getCurrentUserActiveStream()})),f=(0,i.Wu)([Zt.Z],(function(){return null!=s?Zt.Z.getViewerIds(s):[]})),d=(0,Nc.Z)({userId:n.id,context:t}),p=(0,i.e7)([zc.Z],(function(){return zc.Z.isPrioritySpeaker(n.id,t)})),h=(0,i.e7)([xt.default,Rt.Z],(function(){return function(e,t){var n=t.isVoiceDeafened();n||xt.default.getId()!==t.userId||(n=Rt.Z.isSelfDeaf(e));return n}(t,a)})),y=(0,i.e7)([Zt.Z],(function(){return null!=Zt.Z.getStreamForUser(n.id,c)})),v=o.useMemo((function(){return null!=s&&s.ownerId!==n.id&&f.includes(n.id)}),[s,n.id,f]);return(0,r.jsx)(tu,Fl(Wl({},l),{muted:u,context:t,user:n,speaking:d,isPrioritySpeaker:p,deafened:h,streaming:y,
watching:v,guildId:c}))}var ru=function(e){Hl(o,e);var t=$l(o);function o(){Bl(this,o);var e;(e=t.apply(this,arguments)).handleUserContextMenu=function(t,o){var i=e.props.context;(0,bt.jW)(t,zl((function(){var e,t;return eu(this,(function(a){switch(a.label){case 0:return[4,Promise.all([n.e(40532),n.e(87996),n.e(45323),n.e(64178)]).then(n.bind(n,90248))];case 1:e=a.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Fl(Wl({},e),{user:o,showMediaItems:!0,mediaEngineContext:i}))}]}}))})))};e.handleOpenVoiceSettings=function(){var t=e.props,o=t.context,i=t.channel,a=t.title;(0,Gt.ZD)(zl((function(){var e,t;return eu(this,(function(c){switch(c.label){case 0:return[4,Promise.all([n.e(40532),n.e(63157),n.e(61928)]).then(n.bind(n,568694))];case 1:e=c.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Fl(Wl({},e),{mediaEngineContext:o,title:null!=i?null:a}))}]}}))})))};e.handlePin=function(){var t=e.props.id;(0,Yr.xh)(t)};e.handleStopStream=function(){var t=e.props.stream
;null!=t&&xc.g((0,Rc.V9)(t))};return e}var i=o.prototype;i.componentDidUpdate=function(e){var t=this.props,n=t.pinned,r=t.channel;null!=r&&n!==e.pinned&&S.Z.track(ie.rMx.OVERLAY_PIN_TOGGLED,{pinned:n,guild_id:r.guild_id,channel_id:r.id,channel_type:r.type,widget_type:ie.Odu.VOICE})};i.renderVoiceUsers=function(){var e,t=this,n=this.props,o=n.context,i=n.sortedVoiceStates,a=n.displayNameMode,c=n.displayUserMode,l=n.locked,u=n.isPreviewingInGame,s=n.channel,f=n.anchor,d=n.avatarSizeMode,p=null!=f.right,h=i.map((function(e){var n=e.user,i=e.voiceState,f=e.member;if(null==n||null==s||null==o)return null;var h,y=l||u;return(0,r.jsx)(nu,{guildId:null==s?void 0:s.guild_id,user:n,nick:null!==(h=null==f?void 0:f.nick)&&void 0!==h?h:Zc.ZP.getName(n),channel:s,flipped:p,voiceState:i,displayNameMode:a,displayUserMode:c,size:d,locked:y,onContextMenu:t.handleUserContextMenu,onClick:t.handleUserContextMenu,context:o},n.id)}));return(0,r.jsx)(Pe.Body,{className:m()((e={},Gl(e,Ll().topMargin,l),
Gl(e,Ll().bottomMargin,l),e)),children:(0,r.jsx)(Fc.e,{className:Ll().voiceList,children:h})})};i.renderHeader=function(){var e=this.props,t=e.pinned,n=e.title,o=e.isPreviewingInGame;return(0,r.jsxs)(Pe.Bar,{className:m()(Ll().draggableStartArea,Gl({},Ll().preview,o)),children:[(0,r.jsxs)(Pe.Content,{dynamicSize:!0,className:m()(Ll().content,Gl({},Ll().hidden,o)),children:[(0,r.jsx)(Oa.Z,{color:(0,Tc.Lq)(ie.Ilk.WHITE_500),width:20,height:20,className:m()(Ll().icon,Ll().faded,Ll().dragIcon)}),(0,r.jsx)(Gc.Z,{color:(0,Tc.Lq)(ie.Ilk.WHITE_500),width:20,height:20,className:m()(Ll().icon,Ll().faded,Ll().speakerIcon)}),(0,r.jsx)(Hc.Z,{color:(0,Tc.Lq)(ie.Ilk.PRIMARY_200),className:Ll().title,children:n})]}),o?null:(0,r.jsx)(Pe.Icon,{icon:Vo.Z,label:T.Z.Messages.VOICE_SETTINGS,onClick:this.handleOpenVoiceSettings,tooltipPosition:re.ZP.Positions.LEFT,size:18}),o?null:(0,r.jsx)(Pe.Icon,{icon:t?Pa.Z:ja.Z,label:t?T.Z.Messages.OVERLAY_WIDGET_HIDE_IN_GAME:T.Z.Messages.OVERLAY_WIDGET_SHOW_IN_GAME,
onClick:this.handlePin,tooltipPosition:re.ZP.Positions.LEFT,size:18,isActive:t})]})};i.renderStreamerSettings=function(){var e=this.props,t=e.locked,n=e.pinned,o=e.isPreviewingInGame,i=e.channel,a=e.application,c=e.streamMetadata,l=e.streamApplication,u=e.stream;if(t||null==u||null==i)return null;var s,f,d=(0,Ac.Z)(c),p=d.sanitizedTitle,h=d.title;return(0,r.jsx)(Pe.Bar,{className:m()(Ll().streamerControls,(f={},Gl(f,Ll().hidden,o),Gl(f,Ll().unpinned,!n),f)),children:(0,r.jsxs)(Pe.Content,{className:Ll().streamerContent,dynamicSize:!0,children:[(0,r.jsxs)("div",{className:Ll().streamerInner,children:[null!=(null==l?void 0:l.id)&&l.id===(null==a?void 0:a.id)?(0,r.jsx)(Bc.Z,{className:Ll().gameIcon,game:a}):(0,r.jsx)(Mc.Z,{title:p}),(0,r.jsxs)(Bt.Z,{direction:Bt.Z.Direction.VERTICAL,justify:Bt.Z.Justify.BETWEEN,className:Ll().streamerInfo,children:[(0,r.jsx)(O.xv,{className:Ll().streaming,variant:"text-sm/normal",children:T.Z.Messages.STATUS_STREAMING}),(0,r.jsx)(Wc.Z,{
children:null!==(s=null==l?void 0:l.name)&&void 0!==s?s:h})]})]}),(0,r.jsxs)(Bt.Z,{grow:0,children:[(0,r.jsx)("div",{className:Ll().streamerIconWrapper,children:(0,r.jsx)(Vc.Z,{stream:u,iconClassName:Ll().streamerIcon,appContext:ie.IlC.OVERLAY})}),(0,r.jsx)("div",{className:Ll().streamerIconWrapper,children:(0,r.jsx)(Uc.Z,{stream:u,appContext:ie.IlC.OVERLAY})}),(0,r.jsx)("div",{className:Ll().streamerIconWrapper,children:(0,r.jsx)(re.DY,{text:T.Z.Messages.STOP_STREAMING,children:(0,r.jsx)(O.zx,{onClick:this.handleStopStream,look:O.zx.Looks.BLANK,size:O.zx.Sizes.NONE,children:(0,r.jsx)(Yc.Z,{className:Ll().streamerIcon})})})})]})]})})};i.render=function(){var e=this.props,t=e.context,n=e.lobbyId,o=e.locked,i=e.pinned,a=e.isPreviewingInGame,c=e.sortedVoiceStates,l=e.channel;if(0===c.length||null==t||null==l)return null;if(o&&!i)return null;var u=ie.t_t.UNPINNED;i&&(u=ie.t_t.PINNED);a&&(u=ie.t_t.IN_GAME_PREVIEW);o&&(u=ie.t_t.IN_GAME);return(0,r.jsxs)(Pe,{type:u,width:280,
children:[o?null:this.renderHeader(),this.renderVoiceUsers(),this.renderStreamerSettings(),o?null:(0,r.jsx)(Ml,{className:m()(Gl({},Ll().preview,a)),contentClassName:m()(Gl({},Ll().hidden,a)),channel:l,lobbyId:n,context:t,pinned:i})]})};return o}(o.PureComponent);ru.defaultProps={context:kl.Yn.DEFAULT};function ou(e){var t,n=(0,i.e7)([Mt.Z,Nt.Z],(function(){return Nt.Z.getChannel(Mt.Z.getVoiceChannelId())})),o=(0,Dn.ZP)(n),a=function(e){return Ql((0,i.e7)([Do.ZP,kc.Z],(function(){return null==e?[[],-1]:e.isGuildStageVoice()?[kc.Z.getMutableParticipants(e.id,Dc.pV.SPEAKER),kc.Z.getParticipantsVersion(e.id)]:[Do.ZP.getVoiceStatesForChannel(e),Do.ZP.getVoiceStateVersion(e.getGuildId())]}),[e],Lc.QF),1)[0]}(n),c=(0,i.e7)([Zt.Z],(function(){return Zt.Z.getStreamerActiveStreamMetadata()})),l=(0,i.cj)([At.ZP,Dt.Z,Zt.Z,Ut.Z,Pc.Z],(function(){var e=(0,Pt.Z)(At.ZP,Dt.Z),t=Zt.Z.getCurrentUserActiveStream();return{displayUserMode:Ut.Z.getDisplayUserMode(),displayNameMode:Ut.Z.getDisplayNameMode(),
avatarSizeMode:Ut.Z.getAvatarSizeMode(),application:null!=e?Pc.Z.getGameByGameData(e):null,streamApplication:(null==c?void 0:c.pid)===(0,Ze.QF)()?_c(e):null,stream:t}}));return(0,r.jsx)(ru,Fl(Wl({},l,e),{sortedVoiceStates:a,channel:n,title:null!=o?o:"",streamMetadata:c,streamApplication:null!==(t=l.streamApplication)&&void 0!==t?t:{id:null,name:null==c?void 0:c.sourceName}}))}const iu=i.ZP.connectStores([At.ZP,Dt.Z,Zt.Z,qt.default,Ut.Z,Cc.Z,jc.Z,Ic.Z,Pc.Z],(function(){var e,t=Cc.Z.getLobbiesWithVoice().find((function(e){return null!=jc.Z.getApplication(e.application_id)})),n=[],r="";if(null!=t){var o=jc.Z.getApplication(t.application_id);null!=(null==o?void 0:o.name)&&(r=o.name);e=t.application_id;Ne().each(Ic.Z.getVoiceStates(t.id),(function(e){var t=qt.default.getUser(e.userId);null!=t&&n.push({voiceState:e,user:t,nick:t.username,comparator:Zc.ZP.getName(t)})}))}var i=(0,Pt.Z)(At.ZP,Dt.Z),a=Zt.Z.getCurrentUserActiveStream(),c=Zt.Z.getStreamerActiveStreamMetadata();return{title:r,
context:e,sortedVoiceStates:Ne().sortBy(n,(function(e){return e.comparator})),lobbyId:null!=t?t.id:void 0,displayUserMode:Ut.Z.getDisplayUserMode(),displayNameMode:Ut.Z.getDisplayNameMode(),avatarSizeMode:Ut.Z.getAvatarSizeMode(),application:null!=i?Pc.Z.getGameByGameData(i):null,streamApplication:_c(i),stream:a,streamMetadata:c,hasStream:!1}}))(ru);function au(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lu(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function uu(e){uu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return uu(e)}function su(e,t){return!t||"object"!==pu(t)&&"function"!=typeof t?au(e):t}function fu(e,t){fu=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return fu(e,t)}
var du,pu=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function hu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=uu(e);if(t){var o=uu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return su(this,n)}}var yu=(lu(du={},ie.Odu.TEXT,(function(e){var t=e.dragging,n=e.locked,o=e.pinned,i=e.dragStart;return(0,r.jsx)(Oc,{dragStart:i,locked:n,pinned:o,dragging:t})})),lu(du,ie.Odu.GUILDS,(function(e){var t=e.locked,n=e.dragStart;return(0,r.jsx)(Ui,{dragStart:n,locked:t})})),lu(du,ie.Odu.VOICE,(function(e){var t=e.id,n=e.anchor,o=e.isPreviewingInGame,i=e.locked,a=e.pinned;return(0,r.jsx)(ou,{anchor:n,id:t,locked:i,pinned:a,isPreviewingInGame:o})})),
lu(du,ie.Odu.GUILDS_TEXT,(function(e){var t=e.dragging,n=e.locked,o=e.dragStart;return(0,r.jsx)(wc,{dragStart:o,dragging:t,locked:n,pinned:!1})})),lu(du,ie.Odu.LOBBY_VOICE,(function(e){var t=e.id,n=e.anchor,o=e.isPreviewingInGame,i=e.locked,a=e.pinned;return(0,r.jsx)(iu,{anchor:n,id:t,locked:i,pinned:a,isPreviewingInGame:o})})),du),vu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&fu(e,t)}(n,e);var t=hu(n);function n(){cu(this,n);var e;(e=t.apply(this,arguments)).state={lastLayoutUpdate:null,dragging:!1};e.handleUpdate=function(t,n,r,o,i){var a=au(e),c=a.props.layoutSize,l=a.state.lastLayoutUpdate;if((0,Ze.Te)(c)){var u=(0,eo.jL)(r,c),s=(0,eo.Ox)(o,c);(0,Yr.Os)(n);(0,Yr.nv)(n,u,s);var f=t===po.MOVE,d=!f,p=(0,eo.PY)(r,c.width,c.height,i.width,i.height);e.setState({lastLayoutUpdate:{
was_resized:null!=l&&l.was_resized||d,was_dragged:null!=l&&l.was_dragged||f,widget_type:$r.Z.getWidgetType(n),window_width:c.width,window_height:c.height,widget_width:i.width,widget_height:i.height,widget_left:p.left,widget_top:p.top}})}};e.handleFocus=function(t){var n=e.props.layoutSize;(0,Ze.Te)(n)&&(0,Yr.Os)(t)};e.handleDragStart=function(){var t=e.props.widget;if(null!=t){t.pinned&&S.Z.setPreviewInGameMode(!0);e.setState({dragging:!0})}};e.handleDragEnd=function(){var t=e.props.widget;if(null!=t){t.pinned&&S.Z.setPreviewInGameMode(!1);e.setState({dragging:!1})}};return e}var o=n.prototype;o.componentDidUpdate=function(e){if(this.props.locked&&!e.locked&&null!=this.state.lastLayoutUpdate){S.Z.track(ie.rMx.OVERLAY_LAYOUT_UPDATED,this.state.lastLayoutUpdate);this.setState({lastLayoutUpdate:null})}};o.renderWidget=function(e,t,n){var r=this.props,o=r.locked,i=r.isPreviewingInGame,a=this.state.dragging,c=yu[e.type]
;if(null==c)throw new Error("OverlayLayout: Widget does not exist in WidgetMap");return function(r){return c({id:e.id,locked:o,pinned:e.pinned,dragging:a,isPreviewingInGame:i,anchor:t,size:n,dragStart:r})}};o.render=function(){var e=this.props,t=e.widget,n=e.widgetConfig,o=e.layoutSize,i=e.locked,a=e.isPreviewingInGame,c=e.isActiveRegion;if(null==t||null==n)return null;var l=t.id,u=t.pinned,s=t.zIndex,f=t.size,d=t.anchor,p=(0,eo.w_)(f,o),h=(0,eo.KR)(d,o),y=n.minSize,v=n.resizeX,g=n.resizeY,b=n.dragAnywhere,m=!i||c,O=!a&&!i||u,S={minX:0,minY:0,maxX:o.width,maxY:o.height};return(0,r.jsx)(So,{id:l,size:p,anchor:h,container:S,minSize:y,hidden:!O,resizeX:v,resizeY:g,style:{zIndex:s},dragAnywhere:b,active:m,onUpdate:this.handleUpdate,onClick:this.handleFocus,onDragStart:this.handleDragStart,onDragEnd:this.handleDragEnd,children:this.renderWidget(t,h,p)})};return n}(o.PureComponent),gu=i.ZP.connectStores([$r.Z,Ut.Z],(function(e){var t=e.widgetId,n=$r.Z.getWidget(t),r=Ut.Z.getActiveRegions()
;return{widget:n,widgetConfig:null!=n?$r.Z.getWidgetConfig(n.type):null,locked:Ut.Z.isInstanceUILocked(),isPreviewingInGame:Ut.Z.isPreviewingInGame(),isActiveRegion:null!=n&&r.has(n.type)}}))(vu);function bu(e,t){return(0,r.jsx)(gu,{widgetId:e,layoutSize:t},e)}const mu=i.ZP.connectStores([$r.Z,zt.Z],(function(){return{layout:$r.Z.getLayout(Ze.qU),layoutSize:zt.Z.windowSize(),renderWidget:bu}}))(qr);var Ou=n(751615),Su=n(354290),Eu=n(725749),wu=n(132634);function _u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ju(e){ju=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return ju(e)}function Pu(e,t){return!t||"object"!==Iu(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Cu(e,t){Cu=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Cu(e,t)}var Iu=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Zu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=ju(e);if(t){var o=ju(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Pu(this,n)}}var xu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Cu(e,t)}(n,e);var t=Zu(n);function n(){_u(this,n);return t.apply(this,arguments)}var r=n.prototype;r.componentDidUpdate=function(e){var t=this.props.location;t.pathname+t.search!==e.location.pathname+e.location.search&&this.checkGuildAndChannel()}
;r.checkGuildAndChannel=function(){var e=this.props.match;if(null!=e){var t=function(e){var t=e.params,n=t.guildId,r=t.channelId,o=t.messageId;return{guildId:null!=n&&""!==n?n:ie.ME,channelId:r,messageId:o}}(e),n=t.guildId,r=t.channelId,o=t.messageId;if((0,wu.S)(n)&&(0,wu.c)(r)){Su.Z.selectGuild(n);pa.default.selectChannel({guildId:n,channelId:r,messageId:o})}else(0,w.dL)(ie.Z5c.ME)}};r.render=function(){return null};return n}(o.Component);const Nu=function(){return(0,r.jsxs)(Ou.rs,{children:[(0,r.jsx)(Eu.Z,{path:ie.Z5c.CHANNEL(":guildId",":channelId?",":messageId?"),component:xu}),(0,r.jsx)(Eu.Z,{component:xu})]})};var Tu=n(460015),Ru=n(51654),Au=n(542562),Mu=n(817145),ku=n.n(Mu);function Du(e){var t=e.streamerId,n=e.channelId,i=o.useRef(null),a=(0,Tu.ZP)([qt.default],(function(){return qt.default.getCurrentUser()}));pn()(null!=a,"user cannot be null");(0,Au.Z)(i,a,t,n);return(0,r.jsx)("canvas",{className:ku().canvas,ref:i})}function Lu(e){var t=e.guildId,n=e.channelId,o=e.streamerId
;return Ru.Z.useExperiment({guildId:t},{autoTrackExposure:!0}).isSharedCanvasEnabled?(0,r.jsx)(Du,{guildId:t,channelId:n,streamerId:o}):null}function Vu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Uu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function zu(e){zu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return zu(e)}function Bu(e,t){return!t||"object"!==Yu(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Gu(e,t){Gu=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Gu(e,t)}var Yu=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Hu(e){var t=function(){
if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=zu(e);if(t){var o=zu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Bu(this,n)}}var Wu=!1,Fu=!1;var Ku=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Gu(e,t)}(n,e);var t=Hu(n);function n(){Vu(this,n);return t.apply(this,arguments)}n.prototype.__getLocalVars=function(){return{enabled:Wu,keepOpen:Fu}};!function(e,t,n){t&&Uu(e.prototype,t);n&&Uu(e,n)}(n,[{key:"keepOpen",get:function(){return Fu}},{key:"enabled",get:function(){return Wu}}]);return n}(i.ZP.Store)
;Ku.displayName="SoundboardOverlayStore";const Xu=new Ku(vn.Z,{SOUNDBOARD_SET_OVERLAY_ENABLED:function(e){Wu=e.enabled;e.enabled&&(Fu=e.keepOpen)}});var Ju=n(713932),Qu=n(879551),qu=n(652703),$u=n(881904),es=n(111629),ts=n.n(es);function ns(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rs(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){c=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ns(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ns(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function os(){var e=rs((0,i.Wu)([Xu],(function(){return[Xu.enabled,Xu.keepOpen]})),2),t=e[0],n=e[1],o=(0,i.e7)([Mt.Z],(function(){return Mt.Z.getVoiceChannelId()})),a=(0,i.e7)([Nt.Z],(function(){return Nt.Z.getChannel(o)}),[o]),c=null==a?void 0:a.getGuildId();return t&&null!=c?(0,r.jsx)("div",{className:ts().widget,children:(0,r.jsx)(Qu.Z,{width:$u.FW.width,height:$u.FW.height,guildId:c,keepOpen:n,onClose:function(){var e=(0,qu.Z)();null!=e&&(0,Ju.oZ)(e)},analyticsSource:"overlay"})}):null}var is=n(12242),as=n.n(is);function cs(e,t,n,r,o,i,a){try{var c=e[i](a),l=c.value}catch(e){n(e);return}c.done?t(l):Promise.resolve(l).then(r,o)}function ls(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){
var i=e.apply(t,n);function a(e){cs(i,r,o,a,c,"next",e)}function c(e){cs(i,r,o,a,c,"throw",e)}a(void 0)}))}}function us(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ss(e){ss=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return ss(e)}function fs(e,t){return!t||"object"!==ps(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ds(e,t){ds=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return ds(e,t)}var ps=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function hs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))
;return!0}catch(e){return!1}}();return function(){var n,r=ss(e);if(t){var o=ss(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return fs(this,n)}}var ys=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}
if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}};i.ZP.PersistedStore.disableWrites=__OVERLAY__;i.ZP.initialize();var vs=null;function gs(e){e.preventDefault()}ke.FB,0;function bs(e){(0,bt.jW)(e,ls((function(){var e,t;return ys(this,(function(o){switch(o.label){case 0:return[4,n.e(7582).then(n.bind(n,707582))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){us(e,t,n[t])}))}return e}({},e))}]}}))})))}var ms=function(e){
var t,n=e.keybind,o=e.onClick,i=e.isPreviewingInGame,a=e.locked,c=a?O.P3:"div";return(0,r.jsx)(c,{className:m()(as().overlayBackground,(t={},us(t,as().overlayActive,!a),us(t,as().overlayLocked,a),us(t,as().previewMode,!a&&i),t)),onMouseDown:function(e){var t=e.currentTarget,n=e.target;e.button===ie.AeJ.PRIMARY&&t===n&&o()},onContextMenu:bs,children:a?null:(0,r.jsx)("div",{className:as().closeContainer,children:(0,r.jsx)(mt.Z,{variant:mt.Z.Variants.BOLD,keybind:n,closeAction:o})})})},Os=function(e){return{keyCode:e.keyCode,shiftKey:e.shiftKey,metaKey:e.metaKey,altKey:e.altKey,ctrlKey:e.ctrlKey}},Ss=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&ds(e,t)}(n,e);var t=hs(n);function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r
;(r=t.call(this,e)).handleWindowResize=ht()((function(){r.forceUpdate()}),500);r.activeKeyEventShapes=[];r.lockEventShape=(0,Yt.d2)(r.props.keybindKeyCodes);r.getActiveKeyEventIndex=function(e){return r.activeKeyEventShapes.findIndex((function(t){return vt()(t,e)}))};r.onKeyDownGlobal=function(e){var t=Os(e),n=r.getActiveKeyEventIndex(t)>-1,o=[16,17,18,91].includes(e.keyCode);n||o||r.activeKeyEventShapes.push(t);if(r.activeKeyEventShapes.length===r.lockEventShape.length&&r.lockEventShape.every((function(e){return r.activeKeyEventShapes.some((function(t){return vt()(e,t)}))}))){e.preventDefault();e.stopPropagation()}var i=r.props,a=i.locked,c=i.activeRegions;t.keyCode===dt().codes.esc&&a&&c.has(ie.O0n.TEXT_WIDGET)&&S.Z.deactivateAllRegions()};r.onKeyUpGlobal=function(e){var t=Os(e),n=r.getActiveKeyEventIndex(t);n>-1&&r.activeKeyEventShapes.splice(n,1)};var o=e.locked&&Ut.Z.isPinned(ie.Odu.TEXT);St.Z.setLayout(o?Ot.Xq:Ot.Sr);o&&St.Z.enable();return r}var o=n.prototype
;o.handleLock=function(){(0,Gt.$s)()||Lt.Z.isOpen()||S.Z.setLocked(!0,(0,Ze.QF)())};o.handleDeactivate=function(){S.Z.deactivateAllRegions()};o.componentDidMount=function(){S.Z.startSession();Ct.Z.initialize();Et.Z.initialize();It.Z.initialize()};o.componentDidUpdate=function(e){var t=this.props.initialized;if(t)if(!t||e.initialized){if(!e.locked&&this.props.locked){window.addEventListener("contextmenu",gs,!1);if(null!=vs){var n=Date.now()-vs;S.Z.track(ie.rMx.OVERLAY_LOCKED,{unlocked_duration:n});vs=null}St.Z.disable();this.activeKeyEventShapes=[];if(Ut.Z.isPinned(ie.Odu.TEXT)){St.Z.setLayout(Ot.Xq);St.Z.enable()}}else if(e.locked&&!this.props.locked){window.removeEventListener("contextmenu",gs,!1);if(null==vs){vs=Date.now();S.Z.track(ie.rMx.OVERLAY_UNLOCKED)}St.Z.disable();this.activeKeyEventShapes=[];St.Z.setLayout(Ot.Sr);St.Z.enable()}e.keybindKeyCodes!==this.props.keybindKeyCodes&&(this.lockEventShape=(0,Yt.d2)(this.props.keybindKeyCodes))}else this.initialSetup()}
;o.initialSetup=function(){var e,t=this.props,n=t.connectedToVoice,r=t.locked,o=t.canGoLive,i=t.isStreaming,a=t.voiceGuild,c=t.voiceChannelId,l=t.game;S.Z.track(ie.rMx.OVERLAY_INITIALIZED,{voice_widget_connected:n,text_widget_connected:Ut.Z.isPinned(ie.Odu.TEXT)});o&&!i&&null!=l&&(e=n&&null!=a&&null!=c?{type:"go-live",voiceChannelId:c,voiceGuild:a,game:l}:{type:"go-live-2",game:l});S.Z.overlayMounted(null,e);window.addEventListener("resize",this.handleWindowResize);r&&window.addEventListener("contextmenu",gs,!1);De.default.blur();if(ke.FB){var u=De.default.requireModule("discord_overlay2");if(void 0!==u.setPerfInfoCallback){u.setPerfInfoCallback((function(e){S.Z.track(ie.rMx.OVERLAY_PERF_INFO,e)}));u.broadcastCommand({message:"set_perf_report_interval",interval:9e5})}De.default.on("REQUEST_OPEN_EXTERNAL_URL",(function(e,t){Ut.Z.getDisableExternalLinkAlert()||t===kt.Z.getLastURL()?De.default.send("OPEN_EXTERNAL_URL",t):gt.Z.show({title:T.Z.Messages.OVERLAY_LINK_ALERT_TITLE,
body:T.Z.Messages.OVERLAY_LINK_ALERT_BODY,secondaryConfirmText:T.Z.Messages.OVERLAY_LINK_ALERT_SECONDARY,confirmText:T.Z.Messages.CONTINUE,cancelText:T.Z.Messages.CANCEL,onConfirmSecondary:function(){S.Z.disableExternalLinkAlert();De.default.send("OPEN_EXTERNAL_URL",t)},onConfirm:function(){return De.default.send("OPEN_EXTERNAL_URL",t)}})}))}window.addEventListener("keydown",this.onKeyDownGlobal,!0);window.addEventListener("keyup",this.onKeyUpGlobal,!0)};o.componentWillUnmount=function(){window.removeEventListener("resize",this.handleWindowResize);window.removeEventListener("keydown",this.onKeyDownGlobal,!0);window.removeEventListener("keyup",this.onKeyUpGlobal,!0);this.props.locked&&window.removeEventListener("contextmenu",gs,!1);Ct.Z.terminate();Et.Z.terminate();It.Z.terminate()};o.renderInvalidSizeMessage=function(){return(0,r.jsx)(Bt.Z,{justify:Bt.Z.Justify.CENTER,align:Bt.Z.Align.CENTER,className:as().invalidContainer,children:(0,r.jsx)("div",{className:as().inactiveContainer,
children:T.Z.Messages.OVERLAY_TOO_SMALL.format(Ze.FW)})})};o.render=function(){var e=this.props,t=e.locked,n=e.keybind,o=e.incompatibleApp,i=e.initialized,a=e.isPreviewingInGame,c=e.activeRegions,l=e.windowSize,u=e.voiceGuild,s=e.voiceChannelId,f=l.width,d=l.height;if(0===f||0===d||o||!i)return null;var p,h=t||a,y=xt.default.getId();return(0,r.jsxs)("div",{className:as().overlay,children:[(0,r.jsx)(Nu,{}),a&&(0,r.jsx)("header",{className:as().previewingInGameHeader,children:T.Z.Messages.OVERLAY_IN_GAME_PREVIEW_HEADER}),undefined,(!t||c.has(ie.O0n.TEXT_WIDGET))&&(0,r.jsx)(ms,{locked:t,keybind:n,onClick:t?this.handleDeactivate:this.handleLock,isPreviewingInGame:a}),(0,Ze.Te)(l)?(0,r.jsx)(mu,{className:m()((p={},us(p,as().layoutLocked,t),us(p,as().layoutUnlocked,!t),p))}):t?null:this.renderInvalidSizeMessage(),(0,r.jsx)(os,{}),null!=u&&null!=s&&(0,r.jsx)(Lu,{streamerId:y,guildId:u.id,channelId:s}),(0,r.jsx)(Gr,{locked:h,keybind:n}),(0,r.jsx)(sn,{})]})};return n}(o.Component)
;function Es(){var e=(0,i.cj)([Ut.Z],(function(){return{locked:Ut.Z.isUILocked((0,Ze.QF)()),initialized:Ut.Z.initialized,incompatibleApp:Ut.Z.incompatibleApp,activeRegions:Ut.Z.getActiveRegions(),isPreviewingInGame:Ut.Z.isPreviewingInGame()}})),t=e.locked,n=e.initialized,o=e.incompatibleApp,a=e.activeRegions,c=e.isPreviewingInGame,l=(0,i.e7)([zt.Z],(function(){return zt.Z.windowSize()})),u=(0,i.e7)([Vt.Z],(function(){return Vt.Z.getOverlayKeybind()})),s=(0,i.e7)([Mt.Z],(function(){return Mt.Z.getVoiceChannelId()})),f=(0,i.e7)([Nt.Z],(function(){return Nt.Z.getChannel(s)})),d=(0,i.e7)([Tt.Z],(function(){return null!=f?Tt.Z.getGuild(f.guild_id):null})),p=(0,i.e7)([At.ZP,Dt.Z],(function(){return(0,Pt.Z)(At.ZP,Dt.Z)})),h=(0,i.e7)([Rt.Z],(function(){return(0,jt.Z)(Rt.Z)})),y=(0,i.e7)([Zt.Z],(function(){return null!=Zt.Z.getCurrentUserActiveStream()})),v=(0,_t.Z)(wt.Z.OVERLAY).AnalyticsLocationProvider;return(0,r.jsx)(v,{children:(0,r.jsx)(Ss,{locked:t,initialized:n,incompatibleApp:o,
activeRegions:a,isPreviewingInGame:c,windowSize:l,keybind:null!=u?(0,Yt.BB)(u.shortcut,!0):"???",keybindKeyCodes:null!=u?u.shortcut:[],connectedToVoice:null!=s,voiceChannelId:null!=f?f.id:null,voiceGuild:d,game:p,canGoLive:h,isStreaming:y})})}n(731875),n(313491);i.ZP.initialize();const ws=function(){o.useEffect((function(){f.Z.initialize();u.Z.initialize();p.Z.init();d.Z.init();return function(){f.Z.terminate();u.Z.terminate()}}),[]);return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(s.Z,{}),(0,r.jsx)(a.Z,{children:(0,r.jsxs)(st,{children:[(0,r.jsx)(g.Co,{}),(0,r.jsx)(h.ZP,{}),(0,r.jsx)(l.Wu,{appContext:ie.IlC.OVERLAY,renderWindow:window,children:(0,r.jsxs)(y.yP,{children:[(0,r.jsx)(Es,{}),(0,r.jsx)(v.Z,{}),(0,r.jsx)(c.Z,{}),(0,r.jsx)(y.Un,{})]})})]})})]})}},742720:(e,t,n)=>{"use strict";n.d(t,{rK:()=>d,ZP:()=>p});var r=n(667294),o=n(730381),i=n.n(o),a=n(365523),c=n(536419);function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}
function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){c=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var s=new Date("2023-01-01T07:59:59.000Z"),f=i()(s);function d(){var e=u(r.useState((function(){return f.isAfter(Date.now())
})),2),t=e[0],n=e[1];r.useEffect((function(){var e=new a.V7,r=function(){var t=f.diff(Date.now(),"millisecond");null==e||e.start(t,(function(){f.isBefore(Date.now())?n(!1):r()}))};t&&r();return function(){return e.stop()}}));return t}const p=(0,c.Z)({id:"2022-12_seasonal_gifting",label:"Seasonal Gifting",kind:"user",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enabled",config:{enabled:!0}}]})},52074:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(785893),o=(n(667294),n(240243));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){
Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function c(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function l(e){var t=e.width,n=void 0===t?24:t,l=e.height,u=void 0===l?24:l,s=e.color,f=void 0===s?"currentColor":s,d=e.className,p=e.foreground,h=c(e,["width","height","color","className","foreground"]);return(0,r.jsxs)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}
return e}({},(0,o.Z)(h)),{className:d,width:n,height:u,viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),(0,r.jsx)("path",{className:p,fill:f,d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8 0-1.85.63-3.55 1.69-4.9L16.9 18.31C15.55 19.37 13.85 20 12 20zm6.31-3.1L7.1 5.69C8.45 4.63 10.15 4 12 4c4.42 0 8 3.58 8 8 0 1.85-.63 3.55-1.69 4.9z"})]}))}},634797:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(730381),o=n.n(r),i=n(959797);function a(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.Z.Messages.FORM_LABEL_OFF,r=o().duration(e,"seconds");return r.days()>0?(t?i.Z.Messages.DURATION_DAYS_SHORT:i.Z.Messages.DURATION_DAYS).format({days:r.days()}):r.hours()>0?(t?i.Z.Messages.DURATION_HOURS_SHORT:i.Z.Messages.DURATION_HOURS).format({hours:r.hours()
}):r.minutes()>0?(t?i.Z.Messages.DURATION_MINUTES_SHORT:i.Z.Messages.DURATION_MINUTES).format({minutes:r.minutes()}):e>0?(t?i.Z.Messages.DURATION_SECONDS_SHORT:i.Z.Messages.DURATION_SECONDS).format({seconds:r.seconds()}):t?i.Z.Messages.FORM_LABEL_OFF:n}}}]);
//# sourceMappingURL=c4c0e177cdf83dfaf174.js.map