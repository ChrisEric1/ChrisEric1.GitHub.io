"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[20590],{220529:(e,t,r)=>{r.d(t,{Z:()=>E});var n=r(785893),o=r(667294),i=r(120053),a=r.n(i),l=r(331535),u=r(859169),c=r(64833),s=r(850622);function f(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r;return e}function _(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}));return e}function d(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++){r=i[n];t.indexOf(r)>=0||(o[r]=e[r])}return o}(e,t)
;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++){r=i[n];t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}}return o}const E=o.memo((function(e){e.onClick,e.trusted;var t=e.title,r=void 0===t?null:t,i=e.href,E=e.children,p=d(e,["onClick","trusted","title","href","children"]),O=(0,c.Z)(u.Z.MASKED_LINK).analyticsLocations,I=o.useCallback((function(t){return(0,s.q)(e,t,O)}),[O,e]),m=o.useCallback((function(e){1===e.button&&I(e)}),[I]),v=a().sanitizeUrl(i);return(0,n.jsx)(l.ee,_(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))));n.forEach((function(t){f(e,t,r[t])}))}return e}({},p),{title:r,target:"_blank",rel:"noreferrer noopener",href:v,onClick:I,onAuxClick:m,children:null!=E?E:r}))}))},
859169:(e,t,r)=>{r.d(t,{Z:()=>o});var n;!function(e){e.POPOUT_WINDOW="popout window";e.OVERLAY="overlay";e.NOTICE="notice";e.PREMIUM_UPSELL_TOOLTIP="premium upsell tooltip";e.BADGE="badge";e.USER_SETTINGS="user settings";e.USER_SETTINGS_MENU="user settings menu";e.ACCOUNT="account";e.TEXT_AND_IMAGES="text and images";e.GUILD_SETTINGS="guild settings";e.OVERVIEW="overview";e.STICKERS="stickers";e.VANITY_URL="vanity url";e.PREMIUM_MARKETING="premium marketing";e.PREMIUM_MARKETING_PLAN_COMPARISON="premium marketing plan comparison";e.PREMIUM_PAYMENT_MODAL="premium payment modal";e.PREMIUM_UPSELL_ALERT="premium upsell alert";e.PREMIUM_UPSELL_MODAL="premium upsell modal";e.PAYMENT_FLOW_TEST_PAGE="payment flow test page";e.PREMIUM_PAYMENT_ACTION_SHEET="premium payment action sheet";e.CHANNEL_CALL="channel call";e.CHANNEL_CALL_CONNECTING_SCREEN="channel call connecting screen";e.RTC_PANEL="rtc panel";e.SOUNDBOARD_BUTTON="soundboard button";e.SOUNDBOARD_POPOUT="soundboard popout"
;e.SOUNDBOARD_WHEEL="soundboard wheel";e.GIFT_BUTTON="gift button";e.EXPRESSION_SUGGESTIONS="expression suggestions";e.EMOJI_PICKER="emoji picker";e.STICKER_PICKER="sticker picker";e.STICKER_POPOUT="sticker popout";e.PREMIUM_UPSELL="premium upsell";e.EMPTY_STATE="empty state";e.SUBSCRIPTION_DETAILS="subscription details";e.SUBSCRIPTION_HEADER="subscription header";e.ACCOUNT_CREDIT_BANNER="account credit banner";e.PREMIUM_UNCANCEL_MODAL="premium uncancel modal";e.PAST_DUE_ONE_TIME_PAYMENT_METHOD_BANNER="past due one time payment method banner";e.STREAM_QUALITY_INDICATOR="stream quality indicator";e.PREMIUM_TIER_0_TRIAL_ENDING_NOTICE="premium tier 0 trial ending notice";e.PREMIUM_TIER_2_TRIAL_ENDING_NOTICE="premium tier 2 trial ending notice";e.BOOSTED_GUILD_PERKS_MODAL="boosted guild perks modal";e.GUILD_BOOSTING_PREMIUM_UPSELL="guild boosting premium upsell";e.RPC="rpc";e.BILLING_STANDALONE="billing standalone";e.GUILD_CHANNEL_LIST="guild channel list"
;e.GUILD_CHANNEL_LIST_FOOTER="guild channel list footer";e.STICKER_MESSAGE="sticker message";e.CHANNEL_TEXT_AREA="channel text area";e.HEADER_BAR="header bar";e.GUILD_ROLE_SUBSCRIPTION_CANCELLATION_MODAL="guild role subscription cancellation modal";e.GUILD_ROLE_SUBSCRIPTION_PURCHASE_SYSTEM_MESSAGE="guild role subscription purchase system message";e.GUILD_ROLE_SUBSCRIPTION_EMOJI_PICKER_UPSELL="guild role subscription emoji picker upsell";e.GUILD_ROLE_SUBSCRIPTION_EMOJI_TEXT_POPOVER_UPSELL="guild role subscription emoji text popover upsell";e.PREMIUM_SUBSCRIPTION_CANCELLATION_MODAL="premium subscription cancellation modal";e.APPLICATION_SUBSCRIPTION_CANCELLATION_MODAL="application subscription cancellation modal";e.PENDING_PLAN_CHANGE_NOTICE="pending plan change notice";e.SUBSCRIPTION_CANCEL_DOWNGRADE_MODAL="subscription cancel downgrade modal";e.GUILD_HEADER="guild header";e.GUILD_BANNER="guild banner";e.GUILD_BANNER_NOTICE="guild banner notice"
;e.GUILD_BOOST_PURCHASE_MODAL="guild boost purchase modal";e.GUILD_BOOST_CANCELLATION_MODAL="guild boost cancellation modal";e.GUILD_BOOST_UNCANCELLATION_MODAL="guild boost uncancellation modal";e.GUILD_BOOSTING_PROGRESS_BAR="guild boosting progress bar";e.GUILD_BOOSTING_TIER_NONE="guild boosting tier none";e.GUILD_BOOSTING_TIER_1="guild boosting tier 1";e.GUILD_BOOSTING_TIER_2="guild boosting tier 2";e.GUILD_BOOSTING_TIER_3="guild boosting tier 3";e.GUILD_BOOSTING_UPSELL_BANNER="guild boosting upsell banner";e.GUILD_BOOSTING_SIDEBAR_DISPLAY="guild boosting sidebar display";e.ACTIVITY_CHANNEL_SELECTOR="activity channel selector";e.ACTIVITY_DIRECTORY="activity directory";e.ACTIVITY_TILE="activity tile";e.ACTIVITY_UPSELL="activity upsell";e.ACTIVITY_VOICE_CONTROLS_TOGGLE="activity voice controls toggle";e.INSTANT_INVITE_MODAL="instant invite modal";e.IMAGE_CROPPING_MODAL="image cropping modal";e.GIF_PICKER="gif picker";e.EXTERNAL_INVITE_LINK_MODAL="external invite link modal"
;e.INVITE_MODAL="invite modal";e.INVITE_EMBED="invite embed";e.NEW_GUILD_BUTTON="new guild button";e.CHARACTER_COUNT="character count";e.DM_CHANNEL="dm channel";e.GUILD_CHANNEL="guild channel";e.FORUM_CHANNEL="forum channel";e.FILE_UPLOAD_POPOUT="file upload popout";e.EMOJI="emoji";e.PROFILE="profile";e.PROFILE_MODAL="profile modal";e.PROFILE_POPOUT="profile popout";e.GUILD_PROFILE="guild profile";e.EDIT_AVATAR="edit avatar";e.EDIT_BANNER="edit banner";e.CHAT_INPUT="chat input";e.CREATE_THREAD="create thread";e.PREMIUM_PREVIEW_UPSELL_HEADER="premium preview upsell header";e.PREMIUM_UPSELL_OVERLAY="premium upsell overlay";e.SELECT_IMAGE_MODAL="select image modal";e.VIDEO_BACKGROUND_OPTIONS="video background options";e.VIDEO_BACKGROUND_IMAGE_OPTION="video background image option";e.VIDEO_BACKGROUND_CUSTOM_UPSELL="video background custom upsell";e.CAMERA_PREVIEW="camera preview";e.HOME_PAGE_PREMIUM_TAB="home page premium tab";e.PREMIUM_MARKETING_SURFACE="premium marketing surface"
;e.PREMIUM_MARKETING_HERO_CTA="premium marketing hero cta";e.PREMIUM_MARKETING_TIER_1_CTA="premium marketing tier 1 cta";e.PREMIUM_MARKETING_TIER_2_CTA="premium marketing tier 2 cta";e.PREMIUM_MARKETING_LOCALIZED_PRICING_TIER_2_CTA="premium marketing localized pricing tier 2 cta";e.PREMIUM_MARKETING_SURFACE_HERO_CTA="premium marketing surface hero cta";e.PREMIUM_MARKETING_SURFACE_TIER_2_CTA="premium marketing surface tier 2 cta";e.PREMIUM_MARKETING_SURFACE_TIER_1_CTA="premium marketing surface tier 1 cta";e.PREMIUM_MARKETING_TIER_CARD="premium marketing tier card";e.PREMIUM_MARKETING_PERK_CARD="premium marketing perk card";e.PREMIUM_MARKETING_FEATURE="premium marketing feature";e.PREMIUM_MARKETING_COMPARISON_TABLE="premium marketing comparison table";e.PREMIUM_MARKETING_FOOTER="premium marketing footer";e.CHANNEL_CALL_ACTION_BAR="channel call action bar";e.AGGREGATE_PREMIUM_UPSELL_MODAL_FEATURE_EMOJI="aggregate premium upsell modal emoji"
;e.AGGREGATE_PREMIUM_UPSELL_MODAL_FEATURE_PROFILE_CUSTOMIZATION="aggregate premium upsell modal profile customization";e.AGGREGATE_PREMIUM_UPSELL_MODAL_FEATURE_HD_STREAMING="aggregate premium upsell modal hd streaming";e.AGGREGATE_PREMIUM_UPSELL_MODAL_FEATURE_LARGER_FILE_UPLOADS="aggregate premium upsell modal larger file uploads";e.AGGREGATE_PREMIUM_UPSELL_MODAL_FEATURE_BOGO="aggregate premium upsell modal bogo";e.CHANNEL_EXPANDED_CONTROLS="channel expanded controls";e.VOICE_CONTROL_TRAY="voice control tray";e.ACTIVE_NOW_COLUMN="active now column";e.CONTEXT_MENU="context menu";e.CHANNEL_ACTIVITY_FEED_VOICE_MENU="channel activity feed voice menu";e.CHANNEL_AUDIT_LOG_MENU="channel audit log menu";e.CHANNEL_CATEGORY_MENU="channel category menu";e.CHANNEL_LIST_DIRECTORY_CHANNEL_MENU="channel list menu";e.CHANNEL_LIST_STORE_CHANNEL_MENU="channel list store channel menu";e.CHANNEL_LIST_TEXT_CHANNEL_MENU="channel list text channel menu";e.CHANNEL_LIST_THREAD_MENU="channel list thread menu"
;e.CHANNEL_LIST_VOICE_CHANNEL_MENU="channel list voice channel menu";e.CHANNEL_TITLE_MENU="channel title menu";e.GROUP_DM_MENU="group dm menu";e.AUDIT_LOG_USER_MENU="audit log user menu";e.BANNED_USER_MENU="banned user menu";e.DM_USER_MENU="dm user menu";e.GROUP_DM_USER_MENU="group dm user menu";e.GUILD_CHANNEL_USER_MENU="guild channel user menu";e.GUILD_MODERATION_USER_MENU="guild moderation user menu";e.GUILD_MODERATION_RAID_MENU="guild moderation raid menu";e.GUILD_SETTINGS_USER_MENU="guild settings user menu";e.GUILD_USER_MENU="guild user menu";e.THREAD_USER_MENU="thread user menu";e.USER_GENERIC_MENU="user generic menu";e.USER_PROFILE_ACTIONS_MENU="user profile actions menu";e.VOICE_ACTION_SHEET="voice action sheet";e.FOCUSED_VOICE_CONTROLS="focused voice controls";e.MASKED_LINK="masked link";e.LAST_NITRO_HOST_ACTION_SHEET="last nitro host action sheet";e.LAST_NITRO_HOST_LEFT_ACTION_SHEET="last nitro host left action sheet"
;e.PREMIUM_TIER_0_ANNOUNCEMENT_ACTION_SHEET="premium tier 0 announcement action sheet";e.PS_VOICE_CONNECT_UPSELL="ps voice connect upsell";e.PROFILE_THEME_UPSELL_MODAL="profile theme upsell modal";e.PROFILE_THEME_UPSELL_INLINE="profile theme upsell inline";e.PROFILE_THEME_UPSELL_INLINE_HOVER="profile theme upsell inline hover";e.PROFILE_THEME_FEATURE_EDUCATION_TOOLTIP="profile theme feature education tooltip";e.EDIT_AVATAR_DECORATION_MODAL="edit avatar decoration modal";e.IMPROVED_PROFILE_UPSELL="improved profile upsell";e.ACCOUNT_PROFILE_POPOUT="account profile popout";e.CHANNEL_CALL_OVERFLOW_ACTION_SHEET="channel_call_overflow_action_sheet";e.USER_SETTINGS_TRY_OUT_PREMIUM="user settings try out premium";e.ACTIVITY_COACH_MARK_NITRO="activity coach mark nitro";e.ACTIVITY_COACH_MARK_BOOSTING="activity coach mark boosting";e.ACTIVITY_COACH_MARK_HALLOWEEN_2022="activity coach mark halloween 2022";e.PREMIUM_TRIAL_TUTORIAL_COACHMARK="premium trial tutorial coachmark"
;e.PREMIUM_TRIAL_TUTORIAL_TOOLTIP="premium trial tutorial tooltip";e.ACTIVITY_COACH_MARK_BASH_OUT="activity coach mark bash out";e.ACTIVITY_COACH_MARK_CROWD_FAVORITES="activity coach mark crowd favorites";e.ACTIVITY_COACH_MARK_POKER="activity coach mark poker";e.STAGE_VIDEO_LIMIT="stage video limit";e.ACTIVITIES_MINI_SHELF="activities mini shelf";e.VC_TILE_ACTIVITY_INVITE="vc tile activity invite";e.VC_TILE_ACTIVITY_SUGGESTION="vc tile activity suggestion";e.BURST_REACTION_TUTORIAL_COACHMARK="super reaction tutorial coachmark";e.CLIENT_THEMES_EDITOR="client themes editor";e.CLIENT_THEMES_THEME_SELECTOR="client themes theme selector"}(n||(n={}));const o=n},64833:(e,t,r)=>{r.d(t,{Z:()=>O});var n=r(785893),o=r(667294),i=r(110251),a=r.n(i),l=r(496486),u=r.n(l);function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,l=!1;try{for(r=r.call(e);!(a=(n=r.next()).done);a=!0){i.push(n.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==r.return||r.return()}finally{if(l)throw o}}return i}}(e,t)||_(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||_(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){if(e){if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===r&&e.constructor&&(r=e.constructor.name);return"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,t):void 0}}var d=o.createContext([]);function E(e){var t=e.children,r=e.currentContext;return(0,n.jsx)(d.Provider,{value:r,children:t})}function p(e,t){if(0===t.length)return e;var r=u().flatten(t);return f(e).concat(f(r))}function O(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=s(o.useState(t),2),l=i[0],u=i[1],c=o.useContext(d),f=o.useMemo((function(){return p(c,l)}),[l,c]),_=o.useMemo((function(){return p(c,l.slice(0,l.length-1))}),[l,c]);o.useEffect((function(){a()(t,l)||u(t)}),[t]);var O=o.useCallback((function(e){var t=e.children;return(0,n.jsx)(E,{currentContext:f,children:t})}),[f]);return{AnalyticsLocationProvider:O,analyticsLocations:f,sourceAnalyticsLocations:_}}},390980:(e,t,r)=>{r.d(t,{Z:()=>v});var n=r(363010),o=r(173436),i=r(981760),a=r(932847),l=r(461061);function u(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e){c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return c(e)}function s(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e,t){f=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return f(e,t)}var _=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var o=c(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments)
;return s(this,r)}}var E=[],p=null,O=new Set,I="",m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&f(e,t)}(n,e);var t=d(n);function n(){u(this,n);return t.apply(this,arguments)}var o=n.prototype;o.initialize=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E;p=e;I=""};o.getUserAgnosticState=function(){return null!=p?p:Array.from(O)};o.getCurrentFileHash=function(){return I};o.isBlockedDomain=function(e){var t=r(181757);null!=p&&(O=new Set(p));var n=(0,i.F)(e),o=new t.hash.sha256,u=t.codec.hex.fromBits(o.update(n).finalize()),c="";O.has(u)&&(c=n);for(var s=n.indexOf(".");-1!==s&&""===c;){n=n.substring(s+1);o.reset();u=t.codec.hex.fromBits(o.update(n).finalize());O.has(u)&&(c=n);s=n.indexOf(".")}if(""!==c){a.default.track(l.rMx.LINK_SECURITY_CHECK_BLOCKED,{blocked_domain:c});return c
}return null};o.__getLocalVars=function(){return{initialState:E,rawBlockedDomainHashes:p,blockedDomainHashes:O,fileHash:I}};return n}(n.ZP.OfflineCacheStore);m.displayName="BlockedDomainStore";m.persistKey="BlockedDomainStore";const v=new m(o.Z,{BLOCKED_DOMAIN_LIST_FETCHED:function(e){var t=e.list,r=e.hash;p=t;O=new Set;I=r}})},404901:(e,t,r)=>{r.d(t,{aD:()=>_,f0:()=>E,bF:()=>O,M3:()=>m});var n=r(675860),o=r(631134),i=r(453587),a=r(397945);function l(e,t,r,n,o,i,a){try{var l=e[i](a),u=l.value}catch(e){r(e);return}l.done?t(u):Promise.resolve(u).then(n,o)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){l(i,n,o,a,u,"next",e)}function u(e){l(i,n,o,a,u,"throw",e)}a(void 0)}))}}var c=function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){
return function(l){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;(n=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;n=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},s="/__development/build_overrides",f="/__development/link";function _(e){return d.apply(this,arguments)}function d(){return(d=u((function(e){var t,r
;return c(this,(function(l){switch(l.label){case 0:l.trys.push([0,6,,7]);return[4,n.Z.put({url:(0,a.pU)(s),body:{overrides:e,version:a.Ji},headers:{Authorization:null!==(t=o.default.getToken())&&void 0!==t?t:""},oldFormErrors:!0})];case 1:r=l.sent();l.label=2;case 2:l.trys.push([2,4,,5]);return[4,i.Z.flushCookies()];case 3:l.sent();return[3,5];case 4:l.sent();return[3,5];case 5:return[2,r];case 6:return[2,l.sent()];case 7:return[2]}}))}))).apply(this,arguments)}function E(e){return p.apply(this,arguments)}function p(){return(p=u((function(e){var t;return c(this,(function(r){switch(r.label){case 0:r.trys.push([0,6,,7]);return[4,n.Z.put({url:(0,a.pU)(f),body:{payload:e,token:o.default.getToken(),version:a.Ji},oldFormErrors:!0})];case 1:t=r.sent();r.label=2;case 2:r.trys.push([2,4,,5]);return[4,i.Z.flushCookies()];case 3:r.sent();return[3,5];case 4:r.sent();return[3,5];case 5:return[2,t];case 6:return[2,r.sent()];case 7:return[2]}}))}))).apply(this,arguments)}function O(){
return I.apply(this,arguments)}function I(){return(I=u((function(){var e;return c(this,(function(t){switch(t.label){case 0:return[4,n.Z.delete({url:(0,a.pU)(s),oldFormErrors:!0})];case 1:e=t.sent();t.label=2;case 2:t.trys.push([2,4,,5]);return[4,i.Z.flushCookies()];case 3:t.sent();return[3,5];case 4:t.sent();return[3,5];case 5:return[2,e]}}))}))).apply(this,arguments)}function m(e){var t;return n.Z.post({url:(0,a.pU)("/__development/create_build_override_link"),body:e,headers:{Authorization:null!==(t=o.default.getToken())&&void 0!==t?t:""},oldFormErrors:!0}).then((function(e){return{url:e.body.url,error:!1}}),(function(e){return 400===e.status?{url:!1,error:e.body}:{url:!1,error:"Error making API request (".concat(e.status,")")}}))}},811122:(e,t,r)=>{r.d(t,{o0:()=>n,S6:()=>o,F$:()=>i});var n={discord_marketing:"Discord Marketing",discord_web:"Discord Web",discord_ios:"Discord iOS",discord_android:"Discord Android"},o=[{value:3600,label:"1 Hour"},{value:86400,label:"1 Day"},{
value:259200,label:"3 Days"},{value:604800,label:"1 Week"},{value:1209600,label:"2 Weeks"},{value:1814400,label:"3 Weeks"},{value:2628e3,label:"1 Month"}],i=[{value:"all",label:"All"},{value:"canary",label:"Canary"},{value:"ptb",label:"PTB"},{value:"stable",label:"Stable"},{value:"staging",label:"Staging"}]},337921:(e,t,r)=>{r.d(t,{Z:()=>d,C:()=>T});var n=r(363010),o=r(173436),i=r(397945);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r;return e}function u(e){u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return u(e)}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){
return Object.getOwnPropertyDescriptor(r,e).enumerable}))));n.forEach((function(t){l(e,t,r[t])}))}return e}function s(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}));return e}function f(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e,t){_=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _(e,t)}var d,E=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function p(e){var t=function(){
if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return f(this,r)}}!function(e){e[e.NotResolved=0]="NotResolved";e[e.Resolving=1]="Resolving";e[e.Resolved=2]="Resolved";e[e.Invalid=3]="Invalid"}(d||(d={}));var O=d.NotResolved,I=null,m={};var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&_(e,t)}(r,e);var t=p(r);function r(){a(this,r);return t.apply(this,arguments)}var n=r.prototype;n.getCurrentBuildOverride=function(){!function(){if(O===d.NotResolved){O=d.Resolving;(0,
i.Ce)().then((function(e){o.Z.dispatch({type:"CURRENT_BUILD_OVERRIDE_RESOLVED",overrides:e})}))}}();return{state:O,overrides:I}};n.getBuildOverride=function(e){!function(e){if(!(e in m)){var t=(0,i.r4)(e);if(null!=t){m=s(c({},m),l({},e,{url:e,validatedURL:t.url,payload:String(t.payload),state:d.Resolving}));(0,i._I)(t.url).then((function(t){o.Z.dispatch({type:"BUILD_OVERRIDE_RESOLVED",url:e,override:t})}))}else m=s(c({},m),l({},e,{url:e,state:d.Invalid}))}}(e);return m[e]};n.getBuildOverrides=function(){return m};n.__getLocalVars=function(){return{currentOverrideState:O,currentOverrides:I,buildOverridesByURL:m}};return r}(n.ZP.Store);v.displayName="BuildOverrideStore";const T=new v(o.Z,{BUILD_OVERRIDE_RESOLVED:function(e){var t=e.url,r=e.override,n=null==r?d.Invalid:d.Resolved;m=s(c({},m),l({},t,s(c({},m[t]),{state:n,override:r})))},CURRENT_BUILD_OVERRIDE_RESOLVED:function(e){var t=e.overrides;O=d.Resolved;I=t}})},59293:(e,t,r)=>{r.d(t,{j:()=>l,Z:()=>u});var n=r(444450)
;function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var a="recentBuildOverrides";function l(){var e;return(null!==(e=n.Z.get(a))&&void 0!==e?e:[]).filter((function(e){return null==e.exp||e.exp>Date.now()}))}function u(e,t){if(null!=t&&null!=e&&null!=e.targetBuildOverride.discord_web){
var r={id:e.targetBuildOverride.discord_web.id,payload:t,exp:Date.parse(e.expiresAt)},o=l(),u=[r].concat(i(o.filter((function(e){return r.id!==e.id})))).slice(0,5);n.Z.set(a,u)}}},420590:(e,t,r)=>{r.d(t,{Z:()=>W});var n=r(785893),o=r(667294),i=r(744781),a=r(220529),l=r(397945),u=r(363010),c=r(404901),s=r(337921),f=r(294184),_=r.n(f),d=r(441143),E=r.n(d),p=r(331535),O=r(436035),I=r(771795),m=r(26868),v=r.n(m);const T=o.memo((function(e){var t=e.className;return(0,n.jsxs)("svg",{width:"57",height:"40",viewBox:"0 0 57 40",fill:"none",className:t,children:[(0,n.jsx)("path",{d:"M49.4949 36H3.9596C1.78182 36 0 34.2486 0 32.1081V3.89189C0 1.75135 1.78182 0 3.9596 0H49.4949C51.6727 0 53.4545 1.75135 53.4545 3.89189V32.1081C53.4545 34.2486 51.6727 36 49.4949 36Z",className:v().svgContentRight}),(0,n.jsx)("path",{
d:"M44.5456 10.8889H25.7375C24.6486 10.8889 23.7577 9.99798 23.7577 8.90909C23.7577 7.8202 24.6486 6.92929 25.7375 6.92929H44.5456C45.6345 6.92929 46.5254 7.8202 46.5254 8.90909C46.5254 9.99798 45.6345 10.8889 44.5456 10.8889ZM19.7981 10.8889C18.7092 10.8889 17.8183 9.99798 17.8183 8.90909C17.8183 7.8202 18.7092 6.92929 19.7981 6.92929C20.887 6.92929 21.7779 7.8202 21.7779 8.90909C21.7779 9.99798 20.887 10.8889 19.7981 10.8889ZM44.5456 19.798H25.7375C24.6486 19.798 23.7577 18.9071 23.7577 17.8182C23.7577 16.7293 24.6486 15.8384 25.7375 15.8384H44.5456C45.6345 15.8384 46.5254 16.7293 46.5254 17.8182C46.5254 18.9071 45.6345 19.798 44.5456 19.798ZM19.7981 19.798C18.7092 19.798 17.8183 18.9071 17.8183 17.8182C17.8183 16.7293 18.7092 15.8384 19.7981 15.8384C20.887 15.8384 21.7779 16.7293 21.7779 17.8182C21.7779 18.9071 20.887 19.798 19.7981 19.798ZM31.6365 28.7071H25.7375C24.6486 28.7071 23.7577 27.8162 23.7577 26.7273C23.7577 25.6384 24.6486 24.7475 25.7375 24.7475H31.6365C32.7254 24.7475 33.6163 25.6384 33.6163 26.7273C33.6163 27.8162 32.7254 28.7071 31.6365 28.7071ZM19.7981 28.7071C18.7092 28.7071 17.8183 27.8162 17.8183 26.7273C17.8183 25.6384 18.7092 24.7475 19.7981 24.7475C20.887 24.7475 21.7779 25.6384 21.7779 26.7273C21.7779 27.8162 20.887 28.7071 19.7981 28.7071Z",
className:v().svgContentLines}),(0,n.jsx)("path",{d:"M3.9596 36H13.8586V0H3.9596C1.78182 0 0 1.78182 0 3.9596V32.0404C0 34.2182 1.78182 36 3.9596 36Z",className:v().svgContentLeft}),(0,n.jsx)("path",{d:"M6.9293 10.8889C5.24647 10.8889 3.9596 9.60202 3.9596 7.91919C3.9596 6.23636 5.24647 4.94949 6.9293 4.94949C8.61212 4.94949 9.89899 6.23636 9.89899 7.91919C9.89899 9.60202 8.61212 10.8889 6.9293 10.8889ZM6.9293 20.7879C5.24647 20.7879 3.9596 19.501 3.9596 17.8182C3.9596 16.1354 5.24647 14.8485 6.9293 14.8485C8.61212 14.8485 9.89899 16.1354 9.89899 17.8182C9.89899 19.501 8.61212 20.7879 6.9293 20.7879ZM6.9293 30.6869C5.24647 30.6869 3.9596 29.4 3.9596 27.7172C3.9596 26.0343 5.24647 24.7475 6.9293 24.7475C8.61212 24.7475 9.89899 26.0343 9.89899 27.7172C9.89899 29.4 8.61212 30.6869 6.9293 30.6869Z",className:v().svgDots}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",
d:"M41.4328 33L46 37.7129L43.7836 40L37 32.9999L39.2164 30.7128L39.2165 30.7129L43.7836 26L46 28.2871L41.4328 33Z",className:v().svgTag}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M54.7821 35.2871L54.7841 35.2892L57 33.0021L50.2159 26L48 28.2871L52.5662 33L48 37.7129L50.2159 40L54.7821 35.2871Z",className:v().svgTag})]})}));var b=r(726283),R=r(95467),h=r(496486),A=r.n(h),L=r(631134),y=r(811122),N=r(461061),C=r(959797);var g=r(167868),S=r.n(g);function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function D(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,l=!1;try{for(r=r.call(e);!(a=(n=r.next()).done);a=!0){i.push(n.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==r.return||r.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return
;if("string"==typeof e)return M(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e){var t=e.url,r=D(o.useState(!1),2),i=r[0],a=r[1],l=o.useRef(void 0),u=o.useCallback((function(){if(!i){(0,b.JG)(t)&&a(!0);l.current=setTimeout((function(){return a(!1)}),2e3)}}),[t,i]);o.useEffect((function(){return function(){return clearTimeout(l.current)}}),[]);return b.wS?(0,n.jsxs)(p.P3,{className:_()(S().copyLink,i?S().copied:null),onClick:u,children:[(0,n.jsx)(I.Z,{className:S().copyLinkIcon}),i?C.Z.Messages.BUILD_OVERRIDE_LINK_COPIED:C.Z.Messages.BUILD_OVERRIDE_LINK_COPY]}):null}function P(e){
var t=e.subHead,r=e.buildDetails,i=e.buttonColor,a=e.buttonClick,l=e.buttonText,u=e.disabled,c=void 0!==u&&u,s=e.submitting,f=void 0!==s&&s;return(0,n.jsxs)(o.Fragment,{children:[(0,n.jsxs)("div",{className:S().buildInfo,children:[(0,n.jsx)(p.xv,{variant:"text-sm/medium",className:S().subHead,children:t}),(0,n.jsx)("div",{className:S().buildDetails,children:r})]}),(0,n.jsx)(p.zx,{submitting:f,color:i,onClick:a,className:_()(S().button,c?S().disabledButtonOverride:null),size:S().buttonSize,disabled:c,children:l})]})}function w(e){var t,r=e.currentOverrides,n=e.linkMeta,o=e.applyBuildOverride,i=e.clearBuildOverride,a=e.submitting,l=function(e,t,r){if(null==e||null==t)return{valid:!1,reason:C.Z.Messages.BUILD_OVERRIDE_INVALID};var n=e.releaseChannel,o=e.expiresAt,i=e.validForUserIds,a=e.allowedVersions,l=e.targetBuildOverride,u=Object.keys(l);if(0===A().intersection(u,t).length){var c;return{valid:!1,reason:C.Z.Messages.BUILD_OVERRIDE_INCOMPATIBLE_TARGETS.format({
requestedTargets:u.map((function(e){return null!==(c=y.o0[e])&&void 0!==c?c:"unknown"})).join(", ")})}}if(null!=n&&n!==window.GLOBAL_ENV.RELEASE_CHANNEL){var s=n===N.R5N.PTB?n.toUpperCase():"".concat(n.charAt(0).toUpperCase()).concat(n.slice(1));return{valid:!1,reason:C.Z.Messages.BUILD_OVERRIDE_INCOMPATIBLE_CLIENT.format({releaseChannel:s})}}if(null!=a&&(null==r||!a.includes(r)))return{valid:!1,reason:C.Z.Messages.BUILD_OVERRIDE_INCOMPATIBLE_CLIENT.format({releaseChannel:a.join(", ")})};var f=null!=o?new Date(o).getTime():null;return null!=f&&f<Date.now()?{valid:!1,reason:C.Z.Messages.BUILD_OVERRIDE_EXPIRED}:i.length>0&&!i.includes(L.default.getId())?{valid:!1,reason:C.Z.Messages.BUILD_OVERRIDE_INVALID_USER}:{valid:!0}}(n,["discord_web"]);if(!l.valid)return t=l.reason,P({subHead:C.Z.Messages.BUILD_OVERRIDE_ISNT_AVAILABLE,buttonColor:p.zx.Colors.TRANSPARENT,buttonText:"Invalid",buildDetails:t,disabled:!0})
;E()(null!=n,"BuildOverrideEmbed.renderResolved: linkMeta should never be null if resolved");var u,c,s,f=n.targetBuildOverride.discord_web;E()(null!=f,"BuildOverrideEmbed.renderResolved: linkMeta.targetBuildOverride.discord_web should never be null if resolved");if(function(e,t){return null!=t&&null!=t.discord_web&&e.id===t.discord_web.id&&e.type===t.discord_web.type}(f,r)){c=C.Z.Messages.BUILD_OVERRIDE_CLEAR;u=i;s=p.zx.Colors.RED}else{c=C.Z.Messages.BUILD_OVERRIDE_APPLY;u=o;s=p.zx.Colors.GREEN}return P({subHead:C.Z.Messages.BUILD_OVERRIDE_ID,buildDetails:f.id,buttonClick:u,buttonText:c,buttonColor:s,submitting:a})}function G(e,t,r){return(0,n.jsxs)(p.xv,{variant:"text-xs/normal",className:S().titleRegion,children:[(0,n.jsx)("strong",{className:S().title,children:null!=e&&null!=e.releaseChannel?C.Z.Messages.BUILD_OVERRIDE_FOR.format({releaseChannel:e.releaseChannel}):C.Z.Messages.BUILD_OVERRIDE}),(0,n.jsx)(p.ee,{className:S().infoLink,href:R.Z.getArticleURL(N.BhN.BUILD_OVERRIDE_EMBED),
target:"_blank",children:(0,n.jsx)(O.Z,{className:S().infoIcon})}),r?null:(0,n.jsx)(U,{url:t})]})}const k=function(e){var t=e.loading,r=void 0!==t&&t,i=e.currentOverrides,a=e.linkMeta,l=e.url,u=e.applyBuildOverride,c=e.clearBuildOverride,s=D(o.useState(!1),2),f=s[0],d=s[1],E=o.useCallback((function(){if(!f){d(!0);u().catch((function(){return d(!1)}))}}),[u,f]),p=o.useCallback((function(){if(!f){d(!0);c().catch((function(){return d(!1)}))}}),[c,f]);return(0,n.jsxs)("div",{className:S().wrapper,children:[G(a,l,r),(0,n.jsxs)("div",{className:S().content,children:[(0,n.jsx)(T,{className:S().icon}),r?(0,n.jsxs)(o.Fragment,{children:[(0,n.jsxs)("div",{className:S().buildInfo,children:[(0,n.jsx)("div",{className:_()(S().barLoader,S().barTitle)}),(0,n.jsx)("div",{className:S().barLoader})]}),(0,n.jsx)("div",{className:S().buttonLoader})]}):w({currentOverrides:i,linkMeta:a,applyBuildOverride:E,clearBuildOverride:p,submitting:f})]})]})};var B=r(59293);function j(e,t,r,n,o,i,a){try{
var l=e[i](a),u=l.value}catch(e){r(e);return}l.done?t(u):Promise.resolve(u).then(n,o)}function x(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){j(i,n,o,a,l,"next",e)}function l(e){j(i,n,o,a,l,"throw",e)}a(void 0)}))}}var H=function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;(n=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;n=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,
o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function Z(){return(Z=x((function(e){return H(this,(function(t){switch(t.label){case 0:return[4,(0,c.f0)(e)];case 1:if(200!==t.sent().status)throw new Error("Build override couldn't apply");window.location.reload(!0);return[2]}}))}))).apply(this,arguments)}function V(){return K.apply(this,arguments)}function K(){return(K=x((function(){return H(this,(function(e){switch(e.label){case 0:return[4,(0,c.bF)()];case 1:e.sent();window.location.reload(!0);return[2]}}))}))).apply(this,arguments)}const F=o.memo((function(e){var t=e.url,r=(0,u.cj)([s.C],(function(){return s.C.getCurrentBuildOverride()})),i=(0,
u.e7)([s.C],(function(){return s.C.getBuildOverride(t)})),a=i.payload,l=i.validatedURL,c=r.state===s.Z.Resolving||i.state===s.Z.Resolving,f=o.useCallback((function(){if(null==a)return Promise.reject(new Error("Invalid override payload"));(0,B.Z)(i.override,a);return function(e){return Z.apply(this,arguments)}(a)}),[a,i]);return null!=l?(0,n.jsx)(k,{loading:c,linkMeta:i.override,currentOverrides:r.overrides,applyBuildOverride:f,clearBuildOverride:V,url:l}):null}));var Y=r(850622);function z(e){return null!=e.target&&(0,Y.r)(e.target,null!=e.title&&""!==e.title?e.title:(0,i.Rp)(e.content))}function W(e){return{react:function(t,r,u){if(e.enableBuildOverrides&&(0,l._G)(t.target))return(0,n.jsx)(o.Fragment,{children:(0,n.jsx)(F,{url:t.target},t.target)},u.key);var c=r(t.content,u),s=t.title||(0,i.Rp)(t.content),f=(null==e?void 0:e.mustConfirmExternalLink)?function(e){null==e||e.stopPropagation();null==e||e.preventDefault();(0,Y.q)({href:t.target,shouldConfirm:!0});return null}:void 0
;u.previewLinkTarget&&!z(t)&&(s+=" (".concat(t.target,")"));return u.noStyleAndInteraction?(0,n.jsx)("span",{title:s,children:c},u.key):(0,n.jsx)(a.Z,{title:s,href:t.target,trusted:function(){return z(t)},onClick:f,children:c},u.key)}}}},981760:(e,t,r)=>{r.d(t,{F:()=>n,E:()=>o});function n(e){var t=document.createElement("a");t.href=e;return t.hostname}function o(e){var t=document.createElement("a");t.href=e;return t.protocol}},850622:(e,t,r)=>{r.d(t,{q:()=>Q,r:()=>$});var n=r(120053),o=r.n(n),i=r(992497),a=r(173436);function l(e){a.Z.dispatch({type:"MASKED_LINK_ADD_TRUSTED_DOMAIN",url:e})}function u(e){a.Z.dispatch({type:"MASKED_LINK_ADD_TRUSTED_PROTOCOL",url:e})}var c=r(7096),s=r(785893),f=(r(667294),r(897576));function _(e,t,r,n,o,i,a){try{var l=e[i](a),u=l.value}catch(e){r(e);return}l.done?t(u):Promise.resolve(u).then(n,o)}function d(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){_(i,n,o,a,l,"next",e)}function l(e){
_(i,n,o,a,l,"throw",e)}a(void 0)}))}}function E(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r;return e}function p(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}));return e}var O=function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,
n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;(n=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;n=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};const I=function(e){(0,f.ZD)(d((function(){var t,n;return O(this,(function(o){switch(o.label){case 0:return[4,Promise.all([r.e(40532),r.e(77939)]).then(r.bind(r,877939))];case 1:t=o.sent(),n=t.default;return[2,function(t){return(0,s.jsx)(n,p(function(e){for(var t=1;t<arguments.length;t++){
var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))));n.forEach((function(t){E(e,t,r[t])}))}return e}({},t),{domain:e}))}]}}))})))};var m=r(390980);var v=r(734754),T=r(801165),b=r(72171),R=r(356004),h=r(653772),A=r(363010),L=r(444450),y=r(86124),N=r(981760),C=r(64027);function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e){S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return S(e)}function M(e,t){return!t||"object"!==P(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function D(e,t){D=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return D(e,t)}var U,P=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var r,n=S(e);if(t){var o=S(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return M(this,r)}}var G="MaskedLinkStore",k=new Set,B=new Set,j=null===(U=window.GLOBAL_ENV.MEDIA_PROXY_ENDPOINT)||void 0===U?void 0:U.replace("//","");function x(e){var t=(0,N.F)(e);switch(t){case window.GLOBAL_ENV.CDN_HOST:case window.GLOBAL_ENV.INVITE_HOST:case window.GLOBAL_ENV.GIFT_CODE_HOST:case window.GLOBAL_ENV.GUILD_TEMPLATE_HOST:case j:case location.hostname:return!0;default:return C.SD.includes(t)||y.Z.isDiscordHostname(t)||k.has(t)}}function H(e){var t=(0,N.E)(e);return B.has(t)}var Z=function(e){
!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&D(e,t)}(r,e);var t=w(r);function r(){g(this,r);return t.apply(this,arguments)}var n=r.prototype;n.initialize=function(){var e,t=null!==(e=L.Z.get(G))&&void 0!==e?e:{};if(Array.isArray(t)){k=new Set(null!=t?Array.from(t):null);B=new Set}else{var r=t.trustedDomains,n=t.trustedProtocols;k=new Set(null!=r?Array.from(r):null);B=new Set(null!=n?Array.from(n):null)}};n.isTrustedDomain=function(e){return x(e)};n.isTrustedProtocol=function(e){return H(e)};n.__getLocalVars=function(){return{STORAGE_KEY:G,trustedDomains:k,trustedProtocols:B,MEDIA_PROXY_HOST:j}};return r}(A.ZP.Store);Z.displayName="MaskedLinkStore";const V=new Z(a.Z,{MASKED_LINK_ADD_TRUSTED_DOMAIN:function(e){var t=e.url;if(x(t))return!1;k.add((0,N.F)(t));L.Z.set(G,{trustedDomains:k,trustedProtocols:B})},
MASKED_LINK_ADD_TRUSTED_PROTOCOL:function(e){var t=e.url;if(H(t))return!1;B.add((0,N.E)(t));L.Z.set(G,{trustedDomains:k,trustedProtocols:B})}});var K=r(105405),F=r(379822),Y=r(932847),z=r(461061),W=r(959797);function X(e,t,r,n,o,i,a){try{var l=e[i](a),u=l.value}catch(e){r(e);return}l.done?t(u):Promise.resolve(u).then(n,o)}function J(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){X(i,n,o,a,l,"next",e)}function l(e){X(i,n,o,a,l,"throw",e)}a(void 0)}))}}var q=function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;(n=0,
o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;n=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function $(e,t){var r,n=R.Z.getChannel(F.Z.getChannelId());return!(null!=n&&n.type===z.d4z.DM&&!K.Z.isFriend(null!==(r=n.getRecipientId())&&void 0!==r?r:""))&&e===t}function Q(e,t){return ee.apply(this,arguments)}function ee(){ee=J((function(e,t){var n,a,s,f,_,d,E,p,O,A,L,y,C,g,S,M,D,U,P,w=arguments;return q(this,(function(G){switch(G.label){case 0:n=w.length>2&&void 0!==w[2]?w[2]:[];a=e.trusted,
s=e.onClick,f=e.onConfirm,_=e.shouldConfirm;if(null==(d=o().sanitizeUrl(e.href))){null!=t&&t.preventDefault();i.Z.show({title:W.Z.Messages.HOLD_UP,body:W.Z.Messages.MALFORMED_LINK_BODY.format({url:e.href}),isDismissable:!0});return[2]}E=R.Z.getChannel(F.Z.getChannelId());p=h.Z.getGuild(null==E?void 0:E.getGuildId());null!=E&&null!=p&&p.hasFeature(z.oNc.DISCOVERABLE)&&Y.default.track(z.rMx.URL_CLICKED,{url_domain:(0,N.F)(d),guild_id:p.id,channel_id:E.id});return null==s?[3,1]:s(t)?[2]:[3,3];case 1:return[4,Promise.resolve().then(r.bind(r,145337))];case 2:O=G.sent(),A=O.default;if(null!=(L=A(d,void 0,n))&&L(t))return[2];G.label=3;case 3:y=function(){null==f?(0,c.Z)(d):f()};if(null!==(C=m.Z.isBlockedDomain(d))){null==t||t.preventDefault();I(C);return[2]}if(null!=(0,b.v)(d)){null==t||t.preventDefault();T.Z.show(d);return[2]}0;g="function"==typeof a?a():a;S=(0,N.E)(d);if(!(M=!("http:"===S||"https:"===S))&&(g||V.isTrustedDomain(d))||M&&V.isTrustedProtocol(d)){(null==t||null!=_&&_)&&y()
;return[2]}null!=t&&t.preventDefault();if(M)i.Z.show({title:W.Z.Messages.HOLD_UP,body:W.Z.Messages.MASKED_PROTOCOL_LINK_BODY.format({url:d}),cancelText:W.Z.Messages.MASKED_LINK_CANCEL,confirmText:W.Z.Messages.MASKED_LINK_CONFIRM,onConfirm:y,secondaryConfirmText:W.Z.Messages.MASKED_LINK_TRUST_THIS_PROTOCOL,onConfirmSecondary:function(){u(d);y()}});else{D=(0,v.y)(d);U=null!=D?D.displayTarget:d;P=512;U.length>P&&(U=U.substring(0,P)+"...");i.Z.show({title:W.Z.Messages.HOLD_UP,body:W.Z.Messages.MASKED_LINK_BODY.format({url:U}),cancelText:W.Z.Messages.MASKED_LINK_CANCEL,confirmText:W.Z.Messages.MASKED_LINK_CONFIRM,onConfirm:y,secondaryConfirmText:W.Z.Messages.MASKED_LINK_TRUST_THIS_DOMAIN,onConfirmSecondary:function(){l(d);y()},isDismissable:!0})}return[2]}}))}));return ee.apply(this,arguments)}}}]);
//# sourceMappingURL=a8948e9b52b07cce532f.js.map