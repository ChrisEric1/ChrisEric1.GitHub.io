"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[54048],{122139:(e,n,l)=>{l.d(n,{Z:()=>i});var t=l(785893),r=(l(667294),l(945460)),a=l(473708),s=l(897790),o=l.n(s);function i(){return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.Text,{className:o().marker,tag:"span",variant:"text-md/semibold",color:"text-danger",children:"*"}),(0,t.jsx)(r.HiddenVisually,{children:a.Z.Messages.REQUIRED})]})}},854048:(e,n,l)=>{l.r(n);l.d(n,{default:()=>p});var t=l(785893),r=l(667294),a=l(824390),s=l.n(a),o=l(318715),i=l(945460),u=l(239813),c=l(185161),d=l(61209),h=l(5544),m=l(567403),f=l(443812),v=l(218908),x=l(122139),g=l(473708),C=l(937306),S=l.n(C);function N(e,n){(null==n||n>e.length)&&(n=e.length);for(var l=0,t=new Array(n);l<n;l++)t[l]=e[l];return t}function j(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var l=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=l){var t,r,a=[],s=!0,o=!1;try{
for(l=l.call(e);!(s=(t=l.next()).done);s=!0){a.push(t.value);if(n&&a.length===n)break}}catch(e){o=!0;r=e}finally{try{s||null==l.return||l.return()}finally{if(o)throw r}}return a}}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return N(e,n);var l=Object.prototype.toString.call(e).slice(8,-1);"Object"===l&&e.constructor&&(l=e.constructor.name);if("Map"===l||"Set"===l)return Array.from(l);if("Arguments"===l||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return N(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e){var n,l=e.transitionState,a=e.onClose,C=e.resourceChannel,N=e.guildId,p=e.onSave,E=e.onDelete,I=(0,f.Dt)(),b=j(r.useState(null!==(n=null==C?void 0:C.title)&&void 0!==n?n:""),2),y=b[0],L=b[1],R=j(r.useState(function(e){if(null==e)return null;var n=d.Z.getChannel(e.channelId);return null==n?null:{value:n.id,label:n.name}
}(C)),2),k=R[0],_=R[1],A=(0,o.Wu)([v.Z],(function(){var e,n;return(null!==(n=null===(e=v.Z.getSettings())||void 0===e?void 0:e.resourceChannels)&&void 0!==n?n:[]).map((function(e){return e.channelId}))})),B=y.length<c.n||null==k,O=r.useCallback((function(){if(!(null==k||y.length<=0)){var e={channelId:k.value,title:y,emoji:null};p(e);a()}}),[p,a,y,k]),Z=r.useCallback((function(){null==E||E();a()}),[E,a]),M=r.useCallback((function(e){_(e)}),[_]),T=r.useCallback((function(e){var n=h.ZP.getSelectableChannels(N).filter((function(n){return(0,c.k3)(n.channel)&&!A.includes(n.channel.id)&&s()(e,n.channel.name)})).map((function(e){return{value:e.channel.id,label:e.channel.name}}));return Promise.resolve(n)}),[N,A]),G=r.useCallback((function(e){if(null==e||null==N)return null;var n=d.Z.getChannel(e.value),l=m.Z.getGuild(N);if(null==n||null==l)return null;var r=(0,u.KS)(n,l);return null==r?null:(0,t.jsx)(r,{width:16,height:16,className:S().channelIcon})}),[N]);return(0,t.jsxs)(i.ModalRoot,{
transitionState:l,"aria-labelledby":I,children:[(0,t.jsxs)("div",{className:S().container,children:[(0,t.jsx)(i.ModalCloseButton,{className:S().closeButton,onClick:a}),(0,t.jsxs)("div",{className:S().formGroup,children:[(0,t.jsxs)(i.Heading,{variant:"heading-md/semibold",color:"header-primary",children:[g.Z.Messages.GUILD_SETTINGS_ONBOARDING_RESOURCE_CHANNEL,(0,t.jsx)(x.Z,{})]}),(0,t.jsx)(i.SearchableSelect,{value:k,renderOptionPrefix:G,options:T,onChange:M}),(0,t.jsx)(i.Text,{variant:"text-xs/medium",color:"text-muted",children:g.Z.Messages.GUILD_SETTINGS_ONBOARDING_RESOURCE_CHANNEL_EXPLAINER})]}),(0,t.jsx)("div",{className:S().separator}),(0,t.jsxs)("div",{className:S().formGroup,children:[(0,t.jsxs)(i.Heading,{variant:"heading-md/semibold",color:"header-primary",children:[g.Z.Messages.GUILD_SETTINGS_ONBOARDING_RESOURCE_TITLE,(0,t.jsx)(x.Z,{})]}),(0,t.jsx)(i.TextInput,{value:y,onChange:L,placeholder:g.Z.Messages.GUILD_SETTINGS_ONBOARDING_RESOURCE_TITLE_PLACEHOLDER,maxLength:c.am})]
})]}),(0,t.jsx)(i.ModalFooter,{children:(0,t.jsxs)("div",{className:S().footerButtons,children:[null!=C?(0,t.jsx)("div",{className:S().removeButton,children:(0,t.jsx)(i.Button,{size:i.Button.Sizes.SMALL,look:i.Button.Looks.LINK,color:i.Button.Colors.RED,onClick:Z,children:g.Z.Messages.REMOVE})}):(0,t.jsx)("div",{}),(0,t.jsxs)("div",{className:S().rightButtons,children:[(0,t.jsx)(i.Button,{onClick:a,size:i.Button.Sizes.SMALL,look:i.Button.Looks.LINK,color:i.Button.Colors.PRIMARY,children:g.Z.Messages.CANCEL}),(0,t.jsx)(i.Button,{disabled:B,onClick:O,children:g.Z.Messages.SAVE})]})]})})]})}}}]);
//# sourceMappingURL=ba92bd28ae4f0b79b74f.js.map