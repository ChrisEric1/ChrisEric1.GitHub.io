"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[94302],{653224:(e,t,n)=>{n.d(t,{W3:()=>L,pD:()=>T,C0:()=>v,X8:()=>w,dG:()=>E,bG:()=>U});var r=n(281110),o=n(744564),i=n(347365),u=n(169376);function a(e){a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return a(e)}function l(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e,t){c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c(e,t)}var s=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){
return!1}}();return function(){var n,r=a(e);if(t){var o=a(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&c(e,t)}(n,e);var t=f(n);function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r;(r=t.call(this)).id=e.id;r.guildId=e.guildId;r.userId=e.userId;r.user=e.user;r.ended=e.ended;r.endsAt=null!=e.endsAt?e.endsAt:null;return r}n.createFromServer=function(e){return new n({id:e.id,guildId:e.guild_id,userId:null!=e.user?e.user.id:e.user_id,user:e.user,ended:e.ended,endsAt:null!=e.ends_at&&""!==e.ends_at?new Date(e.ends_at):null})};return n}(u.Z);const y=p;var d=n(205294),b=n(536392),h=n(2590);function O(e,t,n,r,o,i,u){try{
var a=e[i](u),l=a.value}catch(e){n(e);return}a.done?t(l):Promise.resolve(l).then(r,o)}function S(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function u(e){O(i,r,o,u,a,"next",e)}function a(e){O(i,r,o,u,a,"throw",e)}u(void 0)}))}}var _=function(e,t){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:u.label++;return{value:i[1],done:!1};case 5:u.label++;r=i[1];i=[0];continue;case 7:i=u.ops.pop();u.trys.pop();continue;default:if(!(o=u.trys,
o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1];o=i;break}if(o&&u.label<o[2]){u.label=o[2];u.ops.push(i);break}o[2]&&u.ops.pop();u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};function v(e){return m.apply(this,arguments)}function m(){return(m=S((function(e){var t,n;return _(this,(function(i){switch(i.label){case 0:return[4,r.Z.get({url:h.ANM.APPLIED_GUILD_BOOSTS_FOR_GUILD(e),oldFormErrors:!0})];case 1:t=i.sent();n=t.body.map((function(e){return y.createFromServer(e)}));o.Z.dispatch({type:"GUILD_APPLIED_BOOSTS_FETCH_SUCCESS",guildId:e,appliedBoosts:n});return[2,n]}}))}))).apply(this,arguments)}function w(){return P.apply(this,arguments)}function P(){return(P=S((function(){var e,t;return _(this,(function(n){switch(n.label){case 0:return[4,r.Z.get({
url:h.ANM.USER_GUILD_BOOST_SLOTS,oldFormErrors:!0})];case 1:e=n.sent();t=e.body.map((function(e){return d.Z.createFromServer(e,b.Z.getSubscriptionById(e.subscription_id))}));o.Z.dispatch({type:"GUILD_BOOST_SLOTS_FETCH_SUCCESS",guildBoostSlots:t});return[2,t]}}))}))).apply(this,arguments)}function L(e,t){return g.apply(this,arguments)}function g(){return(g=S((function(e,t){var n,u,a,l;return _(this,(function(c){switch(c.label){case 0:o.Z.dispatch({type:"GUILD_APPLY_BOOST_START"});c.label=1;case 1:c.trys.push([1,3,,4]);return[4,r.Z.put({url:h.ANM.APPLIED_GUILD_BOOSTS_FOR_GUILD(e),body:{user_premium_guild_subscription_slot_ids:t},oldFormErrors:!0})];case 2:n=c.sent();u=Array.isArray(n.body)?n.body.map(y.createFromServer):[y.createFromServer(n.body)];o.Z.dispatch({type:"GUILD_APPLY_BOOST_SUCCESS",appliedGuildBoost:u});w();return[2,u];case 3:a=c.sent();l=new i.zN(a);o.Z.dispatch({type:"GUILD_APPLY_BOOST_FAIL",error:l});throw l;case 4:return[2]}}))}))).apply(this,arguments)}function E(e,t){
return I.apply(this,arguments)}function I(){return(I=S((function(e,t){var n,u;return _(this,(function(a){switch(a.label){case 0:o.Z.dispatch({type:"GUILD_UNAPPLY_BOOST_START"});a.label=1;case 1:a.trys.push([1,3,,4]);return[4,r.Z.delete({url:h.ANM.APPLIED_GUILD_BOOST(e,t),oldFormErrors:!0})];case 2:a.sent();w();return[3,4];case 3:n=a.sent();u=new i.zN(n);o.Z.dispatch({type:"GUILD_UNAPPLY_BOOST_FAIL",error:u});throw u;case 4:o.Z.dispatch({type:"GUILD_UNAPPLY_BOOST_SUCCESS",boostId:t});return[2]}}))}))).apply(this,arguments)}function T(e){return A.apply(this,arguments)}function A(){return(A=S((function(e){var t,n;return _(this,(function(i){switch(i.label){case 0:return[4,r.Z.post({url:h.ANM.USER_GUILD_BOOST_SLOT_CANCEL(e),oldFormErrors:!0})];case 1:t=i.sent();n=d.Z.createFromServer(t.body,b.Z.getSubscriptionById(t.body.subscription_id));o.Z.dispatch({type:"GUILD_BOOST_SLOT_UPDATE_SUCCESS",guildBoostSlot:n});return[2,n]}}))}))).apply(this,arguments)}function U(e){
return C.apply(this,arguments)}function C(){return(C=S((function(e){var t,n;return _(this,(function(i){switch(i.label){case 0:return[4,r.Z.post({url:h.ANM.USER_GUILD_BOOST_SLOT_UNCANCEL(e),oldFormErrors:!0})];case 1:t=i.sent();n=d.Z.createFromServer(t.body,b.Z.getSubscriptionById(t.body.subscription_id));o.Z.dispatch({type:"GUILD_BOOST_SLOT_UPDATE_SUCCESS",guildBoostSlot:n});return[2,n]}}))}))).apply(this,arguments)}},594302:(e,t,n)=>{n.d(t,{Z:()=>g});var r=n(785893),o=n(667294),i=n(294184),u=n.n(i),a=n(945460),l=n(26468),c=n(19585),s=n(709189),f=n(930865),p=n(658308),y=n(2590),d=n(473708),b=n(749742),h=n.n(b);function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e,t,n,r,o,i,u){try{var a=e[i](u),l=a.value}catch(e){n(e);return}a.done?t(l):Promise.resolve(l).then(r,o)}function _(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function v(e){
for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){_(e,t,n[t])}))}return e}function m(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function w(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){
var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],u=!0,a=!1;try{for(n=n.call(e);!(u=(r=n.next()).done);u=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){a=!0;o=e}finally{try{u||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var L=function(e,t){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:u.label++;return{value:i[1],done:!1};case 5:u.label++;r=i[1];i=[0];continue;case 7:i=u.ops.pop();u.trys.pop();continue;default:if(!(o=u.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){
u.label=o[1];o=i;break}if(o&&u.label<o[2]){u.label=o[2];u.ops.push(i);break}o[2]&&u.ops.pop();u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};const g=function(e){var t,n,i=e.analyticsLocation,b=e.analyticsSourceLocation,O=e.guild,g=e.buttonText,E=e.targetBoostedGuildTier,I=e.onClose,T=void 0===I?function(){}:I,A=e.closeLayer,U=void 0===A?function(){}:A,C=e.pauseAnimation,D=void 0!==C&&C,M=e.applicationId,j=e.handleSubscribeModalClose,G=e.withHighlight,B=void 0!==G&&G,x=w(e,["analyticsLocation","analyticsSourceLocation","guild","buttonText","targetBoostedGuildTier","onClose","closeLayer","pauseAnimation","applicationId","handleSubscribeModalClose","withHighlight"]),R=(0,c.Z)().analyticsLocations,Z=(0,l.bp)()===y.IlC.POPOUT,N=P(o.useState(!1),2),k=N[0],F=N[1],Y=null!=E?Math.max((0,f.KK)(O,E),1):1,z=(0,f.aq)(),K=(n=(t=function(){return L(this,(function(e){switch(e.label){case 0:F(!0);return[4,(0,
p.u)({analyticsLocations:R,analyticsLocation:i,analyticsSourceLocation:b,guild:O,numberOfBoostsToAdd:Y,onClose:T,closeLayer:U,inPopout:Z,applicationId:M,handleSubscribeModalClose:j})];case 1:e.sent();F(!1);return[2]}}))},function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function u(e){S(i,r,o,u,a,"next",e)}function a(e){S(i,r,o,u,a,"throw",e)}u(void 0)}))}),function(){return n.apply(this,arguments)});return null!=z?(0,r.jsx)(a.Tooltip,{text:z,"aria-label":!1,children:function(e){return(0,r.jsx)(s.C,m(v(m(v({},e),{disabled:!0,size:a.Button.Sizes.SMALL,pauseAnimation:D}),x),{children:null!=g?g:d.Z.Messages.PREMIUM_GUILD_PERKS_MODAL_BUTTON_SUBSCRIBE_THIS_SERVER}))}}):(0,r.jsx)(s.C,m(v({size:a.Button.Sizes.SMALL},x),{className:u()(x.className,_({},h().buttonHighlighted,B)),submitting:k,onClick:K,pauseAnimation:D,children:null!=g?g:d.Z.Messages.PREMIUM_GUILD_PERKS_MODAL_BUTTON_SUBSCRIBE_THIS_SERVER}))}},658308:(e,t,n)=>{n.d(t,{u:()=>w})
;var r=n(785893),o=(n(667294),n(945460)),i=n(673679),u=n(653224),a=n(810978),l=n(473903),c=n(775506),s=n(551778),f=n(652591),p=n(930865),y=n(747397),d=n(2590);function b(e,t,n,r,o,i,u){try{var a=e[i](u),l=a.value}catch(e){n(e);return}a.done?t(l):Promise.resolve(l).then(r,o)}function h(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function u(e){b(i,r,o,u,a,"next",e)}function a(e){b(i,r,o,u,a,"throw",e)}u(void 0)}))}}function O(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){O(e,t,n[t])}))}return e}function _(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function v(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}var m=function(e,t){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},
"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:u.label++;return{value:i[1],done:!1};case 5:u.label++;r=i[1];i=[0];continue;case 7:i=u.ops.pop();u.trys.pop();continue;default:if(!(o=u.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1];o=i;break}if(o&&u.label<o[2]){u.label=o[2];u.ops.push(i);break}o[2]&&u.ops.pop();u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};function w(e){return P.apply(this,arguments)}function P(){return(P=h((function(e){
var t,b,O,w,P,L,g,E,I,T,A,U,C,D,M,j,G,B,x,R,Z;return m(this,(function(N){switch(N.label){case 0:t=e.analyticsLocations,b=e.analyticsLocation,O=e.analyticsSourceLocation,w=e.numberOfBoostsToAdd,P=e.onClose,L=e.closeLayer,g=e.onSubscriptionConfirmation,E=e.guild,I=e.handleSubscribeModalClose,T=e.disablePremiumUpsell,A=e.inPopout,U=e.applicationId;C=A?o.POPOUT_MODAL_CONTEXT:o.DEFAULT_MODAL_CONTEXT;if(null==(D=l.default.getCurrentUser()))return[2];if(!D.verified){(0,o.openModalLazy)(h((function(){var e,t;return m(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(83097)]).then(n.bind(n,283097))];case 1:e=o.sent(),t=e.default;return[2,function(e){var n=e.onClose,o=v(e,["onClose"]);return(0,r.jsx)(t,_(S({},o),{onClose:n}))}]}}))})),{contextKey:C});return[2]}M=[];s.Z.isLoadedForPremiumSKUs()||M.push((0,a.Y2)());if(!c.Z.hasFetched){M.push(i.jg());M.push((0,u.X8)())}return M.length>0?[4,Promise.allSettled(M)]:[3,2];case 1:N.sent();N.label=2;case 2:j=(0,
p.vx)(c.Z.boostSlots);G=j.length;B=function(e){null==P||P();null==I||I(e)};x=function(){null==P||P();null==L||L();f.default.track(d.rMx.MODAL_DISMISSED,{type:d.ZY5.PREMIUM_GUILD_USER_MODAL,location_section:b.section})};if(!(G>0&&(null==w||G>=w)))return[3,4];1===G?R=j.slice(0,1):null!=w&&(R=j.slice(0,w));return[4,(0,o.openModalLazy)(h((function(){var e,t;return m(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(77722),n.e(28531),n.e(13586),n.e(27499),n.e(54857),n.e(17091),n.e(29223),n.e(73727),n.e(36154),n.e(11944),n.e(52555),n.e(54602),n.e(61953),n.e(6565),n.e(36334),n.e(10675),n.e(24251),n.e(44485),n.e(55052),n.e(47311),n.e(9078)]).then(n.bind(n,947311))];case 1:e=o.sent(),t=e.default;return[2,function(e){var n=e.onClose,o=v(e,["onClose"]);return(0,r.jsx)(t,_(S({},o),{onClose:function(e){n();B(e)},selectedGuild:E,locationSection:d.ZY5.PREMIUM_GUILD_USER_MODAL,guildBoostSlots:R}))}]}}))})),{onCloseRequest:function(){null!=Z&&(0,o.closeModal)(Z);B(!1)},
contextKey:C})];case 3:Z=N.sent();return[3,5];case 4:(0,y.Z)({analyticsLocations:t,analyticsLocation:b,analyticsSourceLocation:O,guildId:E.id,closeLayer:x,totalNumberOfSlotsToAssign:null!=w?w:1,onCloseModal:B,disablePremiumUpsell:T,onSubscriptionConfirmation:g,inPopout:A,applicationId:U});N.label=5;case 5:return[2]}}))}))).apply(this,arguments)}},747397:(e,t,n)=>{n.d(t,{Z:()=>h});var r=n(785893),o=(n(667294),n(945460)),i=n(105783),u=n(673679),a=n(810978),l=n(536392),c=n(652591),s=n(850841),f=n(2590),p=n(473708);function y(e,t,n,r,o,i,u){try{var a=e[i](u),l=a.value}catch(e){n(e);return}a.done?t(l):Promise.resolve(l).then(r,o)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function u(e){y(i,r,o,u,a,"next",e)}function a(e){y(i,r,o,u,a,"throw",e)}u(void 0)}))}}var b=function(e,t){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},
"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:u.label++;return{value:i[1],done:!1};case 5:u.label++;r=i[1];i=[0];continue;case 7:i=u.ops.pop();u.trys.pop();continue;default:if(!(o=u.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1];o=i;break}if(o&&u.label<o[2]){u.label=o[2];u.ops.push(i);break}o[2]&&u.ops.pop();u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};function h(e){return O.apply(this,arguments)}function O(){return(O=d((function(e){
var t,y,h,O,S,_,v,m,w,P,L,g,E,I,T,A;return b(this,(function(U){switch(U.label){case 0:t=e.analyticsLocations,y=e.analyticsLocation,h=e.analyticsSourceLocation,O=e.guildId,S=e.closeLayer,_=e.onCloseModal,v=e.totalNumberOfSlotsToAssign,m=void 0===v?1:v,w=e.disablePremiumUpsell,P=e.onSubscriptionConfirmation,L=e.inPopout,g=e.applicationId;E=L?o.POPOUT_MODAL_CONTEXT:o.DEFAULT_MODAL_CONTEXT;if(null!=(I=l.Z.getPremiumTypeSubscription())&&I.isPurchasedExternally&&null!=I.paymentGateway){null!=S&&S();i.Z.show({title:p.Z.Messages.BILLING_MANAGED_BY_PAYMENT_GATEWAY.format({paymentGatewayName:f.Vzj[I.paymentGateway]}),body:p.Z.Messages.PREMIUM_GUILD_PERKS_MODAL_BUTTON_UPGRADE_TO_PREMIUM_EXTERNAL_ERROR.format({paymentGatewayName:f.Vzj[I.paymentGateway],subscriptionManagementLink:(0,s.JE)(I.paymentGateway,"SUBSCRIPTION_MANAGEMENT")})});return[2]}Promise.all([(0,u.tZ)(),(0,a.Y2)()]);T=function(){c.default.track(f.rMx.MODAL_DISMISSED,{type:f.jXE.PREMIUM_GUILD_PURCHASE_MODAL,location:y})};return[4,(0,
o.openModalLazy)(d((function(){var e,o;return b(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(77722),n.e(28531),n.e(92224),n.e(85227),n.e(13586),n.e(27499),n.e(54857),n.e(17091),n.e(29223),n.e(73727),n.e(36154),n.e(11944),n.e(52555),n.e(54602),n.e(61953),n.e(6565),n.e(36334),n.e(10675),n.e(76294),n.e(27913),n.e(49096),n.e(38039),n.e(66885),n.e(44485),n.e(27059),n.e(55052),n.e(25839)]).then(n.bind(n,687878))];case 1:e=i.sent(),o=e.default;return[2,function(e){var n=e.transitionState,i=e.onClose;return(0,r.jsx)(o,{transitionState:n,onClose:function(e){i();null==_||_(e)},analyticsLocations:t,analyticsLocation:y,analyticsSourceLocation:null!=h?h:y,guildId:O,totalNumberOfSlotsToAssign:m,closeGuildPerksModal:S,disablePremiumUpsell:w,onSubscriptionConfirmation:P,applicationId:g})}]}}))})),{onCloseCallback:T,onCloseRequest:function(){null!=A&&(0,o.closeModal)(A);null==_||_(!1)},contextKey:E})];case 1:A=U.sent();return[2]}}))}))).apply(this,arguments)}}}]);
//# sourceMappingURL=d51113f34b84a9a67020.js.map