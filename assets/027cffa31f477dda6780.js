"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[79834],{79834:(e,n,t)=>{t.r(n);t.d(n,{default:()=>je});var r=t(785893),o=t(667294),i=t(294184),u=t.n(i),c=t(441143),a=t.n(c),l=t(202351),s=t(418705),f=t(945460),d=t(77705),p=t(338935),b=t(351330),h=t(496486),g=t.n(h),y=t(536945),O=t(225386),E=t(921122),j=t(473708);function v(e,n,t,r,o,i,u){try{var c=e[i](u),a=c.value}catch(e){t(e);return}c.done?n(a):Promise.resolve(a).then(r,o)}function m(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function u(e){v(i,r,o,u,c,"next",e)}function c(e){v(i,r,o,u,c,"throw",e)}u(void 0)}))}}function M(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t;return e}var I=function(e,n){var t,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){
return this}),i;function c(i){return function(c){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;u;)try{if(t=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:u.label++;return{value:i[1],done:!1};case 5:u.label++;r=i[1];i=[0];continue;case 7:i=u.ops.pop();u.trys.pop();continue;default:if(!(o=u.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1];o=i;break}if(o&&u.label<o[2]){u.label=o[2];u.ops.push(i);break}o[2]&&u.ops.pop();u.trys.pop();continue}i=n.call(e,u)}catch(e){i=[6,e];r=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}};function w(e){var n=(0,O.Xb)(e),o=(0,l.e7)([y.Z],(function(){return!g().isEmpty(y.Z.getThreadsForGuild(e.id))}));if(!n||!o)return null
;return(0,r.jsx)(f.MenuItem,{id:"active-threads",label:j.Z.Messages.ACTIVE_THREADS,icon:E.Z,action:function(){(0,f.openModalLazy)(m((function(){var n,o;return I(this,(function(i){switch(i.label){case 0:return[4,Promise.all([t.e(40532),t.e(86045)]).then(t.bind(t,386045))];case 1:n=i.sent(),o=n.default;return[2,function(n){return(0,r.jsx)(o,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))));r.forEach((function(n){M(e,n,t[n])}))}return e}({guildId:e.id},n))}]}}))})))}})}var P=t(177179),x=t(788137);var Z=t(434651),_=t(889231),S=t(753082),L=t(665458),C=t(383950),D=t(591406),A=t(907582),T=t(36295),N=t(703790),G=t(944522),R=t(809210),U=t(305082),V=t(784426),H=t(21372),k=t(682776),B=t(9430),Y=t(473903),z=t(650802),F=t(312682),W=t(633878);function K(e,n,t){
n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t;return e}function X(e,n){n=null!=n?n:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})));t.push.apply(t,r)}return t}(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}));return e}function q(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){t=i[r];n.indexOf(t)>=0||(o[t]=e[t])}return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){t=i[r];n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}}return o}function J(e){
var n=e.width,t=void 0===n?18:n,o=e.height,i=void 0===o?18:o,u=e.color,c=void 0===u?"currentColor":u,a=e.foreground,l=q(e,["width","height","color","foreground"]);return(0,r.jsx)("svg",X(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))));r.forEach((function(n){K(e,n,t[n])}))}return e}({},(0,W.Z)(l)),{width:t,height:i,viewBox:"0 0 24 24",children:(0,r.jsx)("path",{className:a,fill:c,d:"M10.418 13L12.708 15.294L11.292 16.706L6.586 11.991L11.294 7.292L12.707 8.708L10.41 11H21.949C21.446 5.955 17.177 2 12 2C6.486 2 2 6.487 2 12C2 17.513 6.486 22 12 22C17.177 22 21.446 18.046 21.949 13H10.418Z"})}))}function $(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t;return e}function Q(e,n){n=null!=n?n:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})));t.push.apply(t,r)}return t}(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}));return e}function ee(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){t=i[r];n.indexOf(t)>=0||(o[t]=e[t])}return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){t=i[r];n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}}return o}function ne(e){var n=e.width,t=void 0===n?18:n,o=e.height,i=void 0===o?18:o,u=e.color,c=void 0===u?"currentColor":u,a=e.foreground,l=ee(e,["width","height","color","foreground"]);return(0,
r.jsx)("svg",Q(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))));r.forEach((function(n){$(e,n,t[n])}))}return e}({},(0,W.Z)(l)),{width:t,height:i,viewBox:"0 0 24 24",children:(0,r.jsx)("path",{className:a,fill:c,d:"M20 7H12L10.553 5.106C10.214 4.428 9.521 4 8.764 4H3C2.447 4 2 4.447 2 5V19C2 20.104 2.895 21 4 21H20C21.104 21 22 20.104 22 19V9C22 7.896 21.104 7 20 7ZM16 15H13V18H11V15H8V13H11V10H13V13H16V15Z"})}))}var te=t(466317),re=t(217674),oe=t(472034),ie=t(553480),ue=t(894243),ce=t(202469),ae=t(652591),le=t(2590),se=t(485911),fe=t(178071),de=t.n(fe);function pe(e,n,t,r,o,i,u){try{var c=e[i](u),a=c.value}catch(e){t(e);return}c.done?n(a):Promise.resolve(a).then(r,o)}function be(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){
var i=e.apply(n,t);function u(e){pe(i,r,o,u,c,"next",e)}function c(e){pe(i,r,o,u,c,"throw",e)}u(void 0)}))}}function he(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t;return e}function ge(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))));r.forEach((function(n){he(e,n,t[n])}))}return e}function ye(e,n){n=null!=n?n:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})));t.push.apply(t,r)}return t}(Object(n)).forEach((function(t){
Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}));return e}var Oe=function(e,n){var t,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;u;)try{if(t=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:u.label++;return{value:i[1],done:!1};case 5:u.label++;r=i[1];i=[0];continue;case 7:i=u.ops.pop();u.trys.pop();continue;default:if(!(o=u.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1];o=i;break}if(o&&u.label<o[2]){u.label=o[2];u.ops.push(i);break}
o[2]&&u.ops.pop();u.trys.pop();continue}i=n.call(e,u)}catch(e){i=[6,e];r=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}};function Ee(e){(0,f.openModal)((function(n){return(0,r.jsx)(f.ConfirmModal,ye(ge({header:j.Z.Messages.LEAVE_SERVER_TITLE.format({name:e.toString()}),confirmText:e.hasFeature(le.oNc.HUB)?j.Z.Messages.LEAVE_HUB:j.Z.Messages.LEAVE_SERVER,cancelText:j.Z.Messages.CANCEL,onConfirm:be((function(){return Oe(this,(function(n){switch(n.label){case 0:return[4,N.Z.leaveGuild(e.id)];case 1:n.sent();(0,b.un)(s.z$.GUILD_LEAVE_FEEDBACK)||(0,f.openModalLazy)(be((function(){var n,o;return Oe(this,(function(i){switch(i.label){case 0:return[4,Promise.all([t.e(40532),t.e(6578)]).then(t.bind(t,706578))];case 1:n=i.sent(),o=n.default;return[2,function(n){return(0,r.jsx)(o,ye(ge({},n),{guildId:e.id,guildName:e.name}))}]}}))})));return[2]}}))}))},n),{children:(0,r.jsx)(f.Text,{variant:"text-md/normal",
children:e.hasFeature(le.oNc.HUB)?j.Z.Messages.LEAVE_HUB_BODY.format({name:e.name}):j.Z.Messages.LEAVE_SERVER_BODY.format({name:e.toString()})})}))}))}0;const je=o.memo((function(e){var n=e.guild,i=e.onClose,c=e.onSelect,s=(0,l.e7)([Y.default],(function(){return Y.default.getCurrentUser()}));a()(null!=s,"GuildHeaderPopout: user cannot be undefined");o.useEffect((function(){ae.default.track(le.rMx.GUILD_DROPDOWN_MENU_VIEWED,{guild_id:n.id})}));var b=(0,l.e7)([B.Z],(function(){return B.Z.isGuildCollapsed(n.id)}),[n.id]),h=(0,l.cj)([k.Z],(function(){var e=k.Z.can(le.Plq.VIEW_GUILD_ANALYTICS,n)&&n.hasFeature(le.oNc.COMMUNITY);return{canAccessSettings:k.Z.canAccessGuildSettings(n),canManageChannels:k.Z.can(le.Plq.MANAGE_CHANNELS,n),showGuildAnalytics:(0,T.Fv)(n.id)||e}}),[n]),g=h.canAccessSettings,y=h.canManageChannels,O=h.showGuildAnalytics,E=(0,C.N8)(n),v=n.isOwner(s),m=(0,l.e7)([G.Z],(function(){return G.Z.isLurking(n.id)}),[n.id]),M=(0,l.e7)([H.ZP],(function(){
return H.ZP.isCurrentUserGuest(n.id)})),I=(0,A.Z)(n.id,!0),W=(0,p.ZP)(n),K=(0,S.Z)({source:le.t4x.GUILD_HEADER,guild:n}),X=(0,Z.Z)(n.id,s.id,{page:le.ZY5.GUILD_CHANNEL,section:le.jXE.GUILD_DROPDOWN_MENU},void 0,oe.Z),q=n.hasFeature(le.oNc.HUB),$=n.id===se._,Q=(0,R.Z)(n.id),ee=w(n),fe=function(e){return(0,r.jsx)(f.MenuItem,{id:"application-directory",label:(0,r.jsx)(r.Fragment,{children:j.Z.Messages.APP_DIRECTORY}),icon:x.Z,action:function(){(0,P.goToAppDirectory)({guildId:e.id,entrypoint:"Guild Header Popout"})}})}(n),pe=(0,U.AR)(),je=(0,_.Z)(n.id,!0);return m||M?(0,r.jsx)(f.Menu,{onSelect:c,navId:"guild-header-popout",variant:"fixed",onClose:i,"aria-label":j.Z.Messages.GUILD_ACTIONS_MENU_LABEL,children:(0,r.jsx)(f.MenuItem,{id:"leave-guild",label:j.Z.Messages.LEAVE_SERVER,icon:J,action:function(){N.Z.leaveGuild(n.id);M||(0,V.uL)(le.Z5c.GUILD_DISCOVERY)}})}):$?(0,r.jsxs)(f.Menu,{onSelect:c,navId:"favorites-header-popout",variant:"fixed",onClose:i,
"aria-label":j.Z.Messages.GUILD_ACTIONS_MENU_LABEL,children:[(0,r.jsx)(f.MenuGroup,{children:(0,r.jsx)(f.MenuItem,{id:"create-category",label:j.Z.Messages.CREATE_CATEGORY,icon:ne,action:function(){return(0,f.openModalLazy)(be((function(){var e,n;return Oe(this,(function(o){switch(o.label){case 0:return[4,Promise.all([t.e(40532),t.e(84680)]).then(t.bind(t,684680))];case 1:e=o.sent(),n=e.default;return[2,function(e){return(0,r.jsx)(n,ge({},e))}]}}))})))}})}),(0,r.jsx)(f.MenuGroup,{children:(0,r.jsx)(f.MenuCheckboxItem,{id:"hide-muted-channels",label:j.Z.Messages.HIDE_MUTED_CHANNELS,checked:b,action:function(){return d.Z.toggleCollapseGuild(n.id)}})})]}):q?(0,r.jsxs)(f.Menu,{onSelect:c,navId:"guild-header-popout",variant:"fixed",onClose:i,"aria-label":j.Z.Messages.GUILD_ACTIONS_MENU_LABEL,children:[(0,r.jsxs)(f.MenuGroup,{children:[g?(0,r.jsx)(f.MenuItem,{id:"settings",label:j.Z.Messages.SERVER_SETTINGS,icon:te.Z,action:function(){N.Z.open(n.id,le.pNK.OVERVIEW)}}):null,K,(0,
r.jsx)(f.MenuItem,{id:"privacy",label:j.Z.Messages.PRIVACY_SETTINGS,icon:ce.Z,action:function(){return(0,f.openModalLazy)(be((function(){var e,o;return Oe(this,(function(i){switch(i.label){case 0:return[4,Promise.all([t.e(40532),t.e(24561)]).then(t.bind(t,124561))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,ye(ge({},e),{guild:n}))}]}}))})))}}),X]}),v?null:(0,r.jsx)(f.MenuGroup,{children:(0,r.jsx)(f.MenuItem,{id:"leave",label:j.Z.Messages.LEAVE_HUB,icon:J,color:"danger",action:function(){return Ee(n)}})})]}):(0,r.jsxs)(f.Menu,{onSelect:c,navId:"guild-header-popout",variant:"fixed",onClose:i,"aria-label":j.Z.Messages.GUILD_ACTIONS_MENU_LABEL,children:[(0,r.jsx)(f.MenuGroup,{children:(0,r.jsx)(f.MenuItem,{id:"premium-subscribe",label:j.Z.Messages.PREMIUM_GUILD_HEADER_DROPDOWN_NITRO_SERVER_SUBSCRIBE,icon:re.Z,action:function(){(0,D.f)({guildId:n.id,location:{section:le.jXE.GUILD_HEADER_POPOUT}})},className:u()(he({},de().boostingMenuItemHighlight,pe))})}),(0,
r.jsxs)(f.MenuGroup,{children:[K,g?(0,r.jsx)(f.MenuItem,{id:"settings",label:j.Z.Messages.SERVER_SETTINGS,icon:te.Z,action:function(){N.Z.open(n.id,le.pNK.OVERVIEW)}}):null,O?(0,r.jsx)(f.MenuItem,{id:"insights",label:j.Z.Messages.SERVER_INSIGHTS,icon:z.Z,action:function(){return N.Z.open(n.id,le.pNK.ANALYTICS)}}):null,y?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f.MenuItem,{id:"create-channel",label:j.Z.Messages.CREATE_CHANNEL,icon:ie.Z,action:function(){return(0,f.openModalLazy)(be((function(){var e,o;return Oe(this,(function(i){switch(i.label){case 0:return[4,Promise.all([t.e(40532),t.e(57645)]).then(t.bind(t,957645))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,ye(ge({},e),{channelType:le.d4z.GUILD_TEXT,guildId:n.id}))}]}}))})))}}),(0,r.jsx)(f.MenuItem,{id:"create-category",label:j.Z.Messages.CREATE_CATEGORY,icon:ne,action:function(){return(0,f.openModalLazy)(be((function(){var e,o;return Oe(this,(function(i){switch(i.label){case 0:
return[4,Promise.all([t.e(40532),t.e(57645)]).then(t.bind(t,957645))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,ye(ge({},e),{channelType:le.d4z.GUILD_CATEGORY,guildId:n.id}))}]}}))})))}})]}):null,I,ee,fe,W]}),(0,r.jsxs)(f.MenuGroup,{children:[Q,(0,r.jsx)(f.MenuItem,{id:"notifications",label:j.Z.Messages.NOTIFICATION_SETTINGS,icon:F.Z,action:function(){return(0,f.openModalLazy)(be((function(){var e,o;return Oe(this,(function(i){switch(i.label){case 0:return[4,Promise.all([t.e(40532),t.e(7528)]).then(t.bind(t,207528))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,ye(ge({},e),{guildId:n.id}))}]}}))})))}}),(0,r.jsx)(f.MenuItem,{id:"privacy",label:j.Z.Messages.PRIVACY_SETTINGS,icon:ce.Z,action:function(){return(0,f.openModalLazy)(be((function(){var e,o;return Oe(this,(function(i){switch(i.label){case 0:return[4,Promise.all([t.e(40532),t.e(24561)]).then(t.bind(t,124561))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,
r.jsx)(o,ye(ge({},e),{guild:n}))}]}}))})))}})]}),(0,r.jsxs)(f.MenuGroup,{children:[X,(0,r.jsx)(f.MenuCheckboxItem,{id:"hide-muted-channels",label:j.Z.Messages.HIDE_MUTED_CHANNELS,checked:b,action:function(){return d.Z.toggleCollapseGuild(n.id)}})]}),(0,r.jsxs)(f.MenuGroup,{children:[je,E?(0,r.jsx)(f.MenuItem,{id:"report-raid",label:j.Z.Messages.GUILD_REPORT_RAID_BUTTON_TITLE,icon:ue.Z,color:"danger",action:function(){return(0,L.J)(n.id)}}):null,v?null:(0,r.jsx)(f.MenuItem,{id:"leave",label:j.Z.Messages.LEAVE_SERVER,icon:J,color:"danger",action:function(){return Ee(n)}})]})]})}))}}]);
//# sourceMappingURL=027cffa31f477dda6780.js.map