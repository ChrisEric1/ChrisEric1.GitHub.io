(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[59859,34076,29655,42348,63157],{145911:(e,t,n)=>{e.exports=n.p+"e92599c3548209f77ec833c649f8939a.svg"},697694:(e,t,n)=>{e.exports=n.p+"87f8416faec0691b96525d0bb3027809.svg"},108881:(e,t,n)=>{e.exports=n.p+"750fe6bb60bf9451ab9ad9a0b6eabbbc.svg"},761869:(e,t,n)=>{e.exports=n.p+"481f8332b80859990fb464dbe288295e.svg"},884217:(e,t,n)=>{e.exports=n.p+"c19657ec8ccb7b12e610ab71d457bfd6.png"},921912:(e,t,n)=>{e.exports=n.p+"350e1c6739823620f031d023a48ac9d4.svg"},964766:(e,t,n)=>{e.exports=n.p+"3123277eb2e7083fde983985dcd209a6.svg"},3874:(e,t,n)=>{e.exports=n.p+"c115d59ca13c0f942965a82a0f05bf01.svg"},302255:(e,t,n)=>{e.exports=n.p+"ad530d02033b87bb89752f915c2fbe3c.svg"},117399:(e,t,n)=>{e.exports=n.p+"f1e026332f1d6e902bcbbc07892bc849.svg"},408056:(e,t,n)=>{e.exports=n.p+"fd65da49c3073002049383baeb24e658.svg"},498913:(e,t,n)=>{e.exports=n.p+"beec347635d7597215747fcaf461e569.svg"},598150:(e,t,n)=>{
e.exports=n.p+"9581653a5a4d0b7b56187044a9db301a.svg"},656470:(e,t,n)=>{e.exports=n.p+"12d9bda733d6432d605e8011c22c3e56.svg"},789885:(e,t,n)=>{e.exports=n.p+"8de4b17bb44ad5ef9f21f2f6f16aa8d1.svg"},492623:(e,t,n)=>{e.exports=n.p+"8c998f8fb62016fcfb4901e424ff378b.svg"},399898:(e,t,n)=>{e.exports=n.p+"645df33d735507f39c78ce0cac7437f0.svg"},74700:(e,t,n)=>{e.exports=n.p+"b5eb2f7d6b3f8cc9b60be4a5dcf28015.svg"},607603:(e,t,n)=>{e.exports=n.p+"02625ee29f851ec588c2020a88d82665.svg"},376354:(e,t,n)=>{e.exports=n.p+"b36de980b174d7b798c89f35c116e5c6.svg"},688224:(e,t,n)=>{e.exports=n.p+"fd879a28807b66b38d54e7db6ea18a69.svg"},96972:(e,t,n)=>{e.exports=n.p+"b36c705f790dad253981f1893085015a.svg"},540579:(e,t,n)=>{e.exports=n.p+"36c9a2fb7d0593a581a92373121c2848.svg"},572274:(e,t,n)=>{e.exports=n.p+"c8aeec4a5ee16aa9214b994f7355fea0.svg"},709804:(e,t,n)=>{e.exports=n.p+"37cf72199c4e106407223a1edaf34460.svg"},348833:(e,t,n)=>{e.exports=n.p+"23f41c9a000ffa229ef0b60ef127ccba.svg"},392544:(e,t,n)=>{
e.exports=n.p+"55b367aaef0b83c837ac6c3bfe01da4c.svg"},350672:(e,t,n)=>{e.exports=n.p+"6e97f6643e7df29b26571d96430e92f4.svg"},24264:(e,t,n)=>{e.exports=n.p+"55b941d7bba0d84f06c05db34b7c9aab.svg"},874638:(e,t,n)=>{e.exports=n.p+"187bc0709ea0cecffe622a50993d012c.svg"},956863:(e,t,n)=>{e.exports=n.p+"c096c74c5685ce049b779f7ce3591bab.svg"},947079:(e,t,n)=>{e.exports=n.p+"3fba9b3d08682f3ce0344e289fe668cb.svg"},903049:(e,t,n)=>{e.exports=n.p+"d5d75eacea4086ed5f38048b74851f43.svg"},188374:(e,t,n)=>{e.exports=n.p+"42b60052f80abd9c2bdd8fc24cf97988.svg"},789621:(e,t,n)=>{e.exports=n.p+"9167182d6b74446a1c818615c135c289.svg"},273361:(e,t,n)=>{e.exports=n.p+"67430d140a79af95585a19d304731dc5.svg"},129428:(e,t,n)=>{e.exports=n.p+"d6779172ed9209b5ad49df923ea7820c.svg"},566300:(e,t,n)=>{e.exports=n.p+"c11b69c74029b5deaca9ca7ce1e987b1.svg"},235920:(e,t,n)=>{e.exports=n.p+"23e073eb0ee21f94de11e5d0a7eec50e.svg"},200824:(e,t,n)=>{e.exports=n.p+"f69210154879227d0ede0308465cf388.svg"},389515:(e,t,n)=>{
e.exports=n.p+"816e71b3225c71bc105db7209fb4b796.svg"},785538:(e,t,n)=>{e.exports=n.p+"7866fb01d8b75b6fe9e6591373a0ddf2.svg"},692417:(e,t,n)=>{e.exports=n.p+"f88737ca3655b964bfdbbff8585f1d41.png"},88094:(e,t,n)=>{e.exports=n.p+"7dfe055a88781818b8368d1f9f2049da.png"},534413:(e,t,n)=>{e.exports=n.p+"e73889dfe6cc46c9161dd9c1d19cc5ca.svg"},182105:(e,t,n)=>{e.exports=n.p+"109dff8689b0dcedc5485a0b26c647f2.svg"},23943:(e,t,n)=>{e.exports=n.p+"0a14344c0e0bfe3a52aa245ecaaebca7.svg"},163471:(e,t,n)=>{e.exports=n.p+"f214135302d61205531f7b699beda3ae.svg"},770631:(e,t,n)=>{e.exports=n.p+"2af0d312aff32c40bf90e37cd91d2a52.svg"},961088:(e,t,n)=>{e.exports=n.p+"af1ba3a7e6cc150d54fe3f36ca83e5af.svg"},630234:(e,t,n)=>{e.exports=n.p+"1fd45d0febcfaabc6b535f3329b3b834.svg"},456202:(e,t,n)=>{e.exports=n.p+"5ec8d5e37b8734c04bde29eb7e2af36f.svg"},791643:(e,t,n)=>{e.exports=n.p+"ada35c4cc5073d182d563e6f39d6a7cf.svg"},565411:(e,t,n)=>{e.exports=n.p+"76f387b22097af941856a30be1aafa3f.svg"},727869:(e,t,n)=>{
e.exports=n.p+"5e690f4c63a19a36bff7f6364eaa6ea2.svg"},10439:(e,t,n)=>{e.exports=n.p+"fda43f574092d89177a4412046f51c44.svg"},680664:(e,t,n)=>{e.exports=n.p+"41a1814ec63404eb722ce88d1c28b4f4.png"},396448:(e,t,n)=>{e.exports=n.p+"8e5a6ee1fce31ef5c5800b7646a94d98.png"},50682:(e,t,n)=>{e.exports=n.p+"7786c98742fafc1347e5fedaa1c67ea9.svg"},509142:(e,t,n)=>{e.exports=n.p+"9c804cfda21f296f522fbadfb818c76f.svg"},226867:(e,t,n)=>{e.exports=n.p+"84b8a1a47627caf0b6d6dae9fc28f1c5.png"},794649:(e,t,n)=>{e.exports=n.p+"d759f3acc6286c964cc8118d7f68b374.svg"},80210:(e,t,n)=>{e.exports=n.p+"3ed9c7cdbea131bc485afa998a5ec93e.svg"},333993:(e,t,n)=>{e.exports=n.p+"1a23068e966efce6fb32ca9fecc65eed.svg"},694111:(e,t,n)=>{e.exports=n.p+"4aebeb85413bf3414671b2c138463909.svg"},716926:(e,t,n)=>{e.exports=n.p+"ff41e1377e717b4bd792302528ff69e4.svg"},484771:(e,t,n)=>{e.exports=n.p+"7de1e682a4fbf1483ad81f3872e5a9b2.png"},635232:(e,t,n)=>{e.exports=n.p+"34d96b0900c3f9fc0e57f7eeddf1e161.svg"},312154:(e,t,n)=>{
e.exports=n.p+"7ee0d57b993e25a61a9f42a0808e721f.svg"},22513:(e,t,n)=>{e.exports=n.p+"95f1d07727cd8303bb200217b50f98fa.svg"},515861:(e,t,n)=>{e.exports=n.p+"c0a2b25d7b3e46c1c969c809ee173e3a.svg"},568909:(e,t,n)=>{e.exports=n.p+"e50463c92d8fb550ee4a6018361098bb.svg"},531239:(e,t,n)=>{e.exports=n.p+"26f653c4a0bd723faa41d92b4f957cb9.svg"},302048:(e,t,n)=>{e.exports=n.p+"045d1e57ef93a0f9b55e9fa593116c96.svg"},180263:(e,t,n)=>{e.exports=n.p+"6a04c917a9b9b2706058f8f48bf83981.svg"},677291:(e,t,n)=>{e.exports=n.p+"2487bb81772c6dab62684cd570ac8dd4.svg"},864678:(e,t,n)=>{e.exports=n.p+"8895917b1fd65584171fb5794e5411be.svg"},367627:(e,t,n)=>{e.exports=n.p+"35c4885828d7808a119efea349c638a0.svg"},874744:(e,t,n)=>{e.exports=n.p+"4766a4c81adfcca7ce1c53c6a7590c23.svg"},101872:(e,t,n)=>{e.exports=n.p+"449b5e5b0765b27c68ef2bf735af539d.svg"},46802:(e,t,n)=>{e.exports=n.p+"5b6f3fce0c8b9fa0bcad7bbb51e13848.svg"},726954:(e,t,n)=>{e.exports=n.p+"2da390aaddef4384aa0520dd8a6fc156.svg"},897295:(e,t,n)=>{
e.exports=n.p+"94ea936b0074481a45e1a0c50aed7e48.svg"},435696:(e,t,n)=>{e.exports=n.p+"a6cde8ee51f202f776ef71ee9cf280d1.svg"},454675:(e,t,n)=>{e.exports=n.p+"e844e2dcc722ad0666556ca41351610f.svg"},404024:(e,t,n)=>{e.exports=n.p+"ed28635ce7d107f1a8b04379d009dd41.svg"},764728:(e,t,n)=>{e.exports=n.p+"cc6c3c95c28acf328b6173383ddb3b61.svg"},404940:(e,t,n)=>{e.exports=n.p+"c8234fe5675a618e7891b634d32d1c0f.svg"},185802:(e,t,n)=>{e.exports=n.p+"9b8d70b5b62f4983a80b2b136259b763.svg"},934104:(e,t,n)=>{e.exports=n.p+"5113924998ee17c4f43a65b8cf2d0153.svg"},652951:(e,t,n)=>{e.exports=n.p+"fd49d24049e28b740a0a1e08d15158b3.png"},207357:(e,t,n)=>{e.exports=n.p+"e06697bc1bf89b08d1e767aa21334ae0.png"},970298:(e,t,n)=>{e.exports=n.p+"07de3733e48397a3e9086e37a9cb0dac.svg"},946137:(e,t,n)=>{e.exports=n.p+"a8007d2ecb3aec65119698bff7052451.svg"},692760:(e,t,n)=>{e.exports=n.p+"a50c50c963aab21b5c3d58e7fd06664e.svg"},302147:(e,t,n)=>{e.exports=n.p+"da49b3a1b7e3f163d69aff38bf33609d.svg"},204186:(e,t,n)=>{
e.exports=n.p+"f18a19cd9fbf76b15b4d968274b0635a.svg"},337285:(e,t,n)=>{e.exports=n.p+"5e38a1b0dc183dd320c517e58ccfb074.svg"},691634:(e,t,n)=>{e.exports=n.p+"2ebbb7dbd17b154a625b58b33738fc85.svg"},998240:(e,t,n)=>{e.exports=n.p+"3224278ae6dc432b7fbc0fc90b54686e.svg"},810540:(e,t,n)=>{e.exports=n.p+"93e31ba1ad50859a7cbcd6b1f0035d6c.svg"},705206:(e,t,n)=>{e.exports=n.p+"984b386302bacf7fb81985ab31c5beec.png"},567012:(e,t,n)=>{e.exports=n.p+"a9efd5e06b5616d39a6ee4232211f9b0.svg"},862470:(e,t,n)=>{e.exports=n.p+"dd1ac77c281d77cfa4061925981469e2.svg"},140561:(e,t,n)=>{e.exports=n.p+"4d8c26b9b004da398fb8940d194e3aaa.svg"},237018:(e,t,n)=>{e.exports=n.p+"c173765c2ab447a8ec7ba0e3e8aa3c09.svg"},976518:(e,t,n)=>{e.exports=n.p+"48c9711c9fabbd43182bcaf602201b48.svg"},522627:(e,t,n)=>{e.exports=n.p+"6e0a487645bb93dc13fdb0b499352b46.svg"},20278:(e,t,n)=>{e.exports=n.p+"eb47171e918604c7f7e861e94708f19f.svg"},955426:(e,t,n)=>{e.exports=n.p+"d63afdc8dee0d21c3c25f78f4f81a8a9.mov"},861197:(e,t,n)=>{
e.exports=n.p+"686449dfc2b401327999d72f79b7c037.webm"},621491:(e,t,n)=>{e.exports=n.p+"2d197cc648cea186073da09b5d7639d1.mov"},109177:(e,t,n)=>{e.exports=n.p+"1442d764c3d6ee37ad6ba74a470bca14.webm"},470752:(e,t,n)=>{e.exports=n.p+"d8b61fb29328e17e879a14a5cc765e06.mov"},919098:(e,t,n)=>{e.exports=n.p+"6db35a89f93f27cec438f980be59635f.webm"},734207:(e,t,n)=>{e.exports=n.p+"9e8f64d43e65d86219eefaa871f25d0a.mov"},900615:(e,t,n)=>{e.exports=n.p+"c66604b9276c4dd8865a519b90394e9d.webm"},524268:(e,t,n)=>{e.exports=n.p+"2e16625f6f55b96572f79cc35682266f.png"},950737:(e,t,n)=>{e.exports=n.p+"3be860e37bf5f2df40ad15d2de5cee0e.png"},276727:(e,t,n)=>{e.exports=n.p+"97ac61a0b98fd6f01b4de370c9ccdb56.png"},31890:(e,t,n)=>{e.exports=n.p+"c23a59030cd2583c8b8ae0e85bc99737.svg"},660588:(e,t,n)=>{e.exports=n.p+"d4f4a5d2eb643d073f413e517ed0cc40.svg"},817420:(e,t,n)=>{"use strict";n.d(t,{W:()=>d});var r=n(832691),o=n(367124),i=n(897576),a=n(36347);function s(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){
n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){s(i,r,o,a,l,"next",e)}function l(e){s(i,r,o,a,l,"throw",e)}a(void 0)}))}}function c(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var u=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:
i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function f(e,t){var a=o.Z.getGame(e);null!=a?(0,i.ZD)(l((function(){var e,r;return u(this,(function(o){switch(o.label){case 0:return[4,n.e(88023).then(n.bind(n,488023))];case 1:e=o.sent(),r=e.default;return[2,function(e){return r(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){c(e,t,n[t])}))}
return e}({game:a,onConfirmUninstall:t},e))}]}}))}))):new r.Z("DispatchUninstallActionCreators").log("Application not found for game ".concat(e))}function d(e,t,n){f(e,(function(){return(0,a.pC)(e,t,n)}))}},295527:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r,o=n(675860),i=n(173436),a=n(323657),s=n(461061);function l(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var c=(l(r={},s.gkr.HOUSE_1,1),l(r,s.gkr.HOUSE_2,2),l(r,s.gkr.HOUSE_3,3),r);const u={joinHypeSquadOnline:function(e){return o.Z.post({url:s.ANM.HYPESQUAD_ONLINE,body:{house_id:c[e.houseID]},oldFormErrors:!0}).then((function(){return i.Z.dispatch({type:"HYPESQUAD_ONLINE_MEMBERSHIP_JOIN_SUCCESS",houseID:e.houseID})})).catch((function(e){throw new a.yZ(e)}))},leaveHypeSquadOnline:function(){return o.Z.delete({url:s.ANM.HYPESQUAD_ONLINE,oldFormErrors:!0}).then((function(){return i.Z.dispatch({type:"HYPESQUAD_ONLINE_MEMBERSHIP_LEAVE_SUCCESS"})})).catch((function(e){
throw new a.yZ(e)}))}}},87993:(e,t,n)=>{"use strict";n.d(t,{RY:()=>i,iD:()=>a,Tb:()=>s,ec:()=>l});var r=n(173436),o=n(150829);function i(e){o.Z.queryDirectory(e,(function(t,n){null==t&&null!=n&&r.Z.dispatch({type:"INSTALLATION_LOCATION_ADD",path:e,metadata:n})}))}function a(e){r.Z.dispatch({type:"INSTALLATION_LOCATION_REMOVE",path:e})}function s(e,t){var n=t.label,o=t.isDefault;r.Z.dispatch({type:"INSTALLATION_LOCATION_UPDATE",path:e,label:n,isDefault:o})}function l(e){var t={},n=0,i=!0,a=!1,s=void 0;try{for(var l,c=function(){var i=l.value;if(null==i||"string"!=typeof i)return"continue";o.Z.queryDirectory(i,(function(o,a){++n;null==o&&null!=a&&(t[i]=a);n===e.length&&r.Z.dispatch({type:"INSTALLATION_LOCATION_FETCH_METADATA",metadataPayload:t})}))},u=e[Symbol.iterator]();!(i=(l=u.next()).done);i=!0)c()}catch(e){a=!0;s=e}finally{try{i||null==u.return||u.return()}finally{if(a)throw s}}}},34076:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(173436),o=n(7046),i=n(4231),a=n(696534)
;function s(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){s(i,r,o,a,l,"next",e)}function l(e){s(i,r,o,a,l,"throw",e)}a(void 0)}))}}var c=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,
o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};const u={init:function(){r.Z.dispatch({type:"INTEGRATION_SETTINGS_INIT"})},setSection:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;r.Z.dispatch({type:"INTEGRATION_SETTINGS_SET_SECTION",section:e,sectionId:t})},startEditingCommandPermissions:function(e){r.Z.dispatch({type:"INTEGRATION_SETTINGS_START_EDITING_COMMAND",commandId:e})},stopEditingCommandPermissions:function(e){r.Z.dispatch({type:"INTEGRATION_SETTINGS_STOP_EDITING_COMMAND",commandId:e})},startEditingIntegration:function(e){r.Z.dispatch({type:"INTEGRATION_SETTINGS_START_EDITING_INTEGRATION",integrationId:e})},
stopEditingIntegration:function(){r.Z.dispatch({type:"INTEGRATION_SETTINGS_STOP_EDITING_INTEGRATION"})},updateIntegration:function(e){r.Z.dispatch({type:"INTEGRATION_SETTINGS_UPDATE_INTEGRATION",settings:e})},startEditingWebhook:function(e){r.Z.dispatch({type:"INTEGRATION_SETTINGS_START_EDITING_WEBHOOK",webhookId:e})},stopEditingWebhook:function(){r.Z.dispatch({type:"INTEGRATION_SETTINGS_STOP_EDITING_WEBHOOK"})},updateWebhook:function(e){r.Z.dispatch({type:"INTEGRATION_SETTINGS_UPDATE_WEBHOOK",settings:e})},saveApplicationPermissions:function(e,t,n){return l((function(){var o;return c(this,(function(a){switch(a.label){case 0:a.trys.push([0,2,,3]);r.Z.dispatch({type:"INTEGRATION_SETTINGS_SUBMITTING"});return[4,i.U3({applicationId:e,commandId:e,defaultEveryoneValue:!0,defaultEverywhereValue:!0,guildId:t,permissions:n})];case 1:a.sent();r.Z.dispatch({type:"INTEGRATION_SETTINGS_SAVE_SUCCESS"});return[3,3];case 2:o=a.sent();r.Z.dispatch({type:"INTEGRATION_SETTINGS_SAVE_FAILURE",
errors:o.body});return[3,3];case 3:return[2]}}))}))()},saveIntegration:function(e,t){return l((function(){var n;return c(this,(function(i){switch(i.label){case 0:i.trys.push([0,2,,3]);r.Z.dispatch({type:"INTEGRATION_SETTINGS_SUBMITTING"});return[4,o.Z.updateIntegration(e,t.id,t.expire_behavior,t.expire_grace_period,t.enable_emoticons)];case 1:i.sent();r.Z.dispatch({type:"INTEGRATION_SETTINGS_SAVE_SUCCESS"});return[3,3];case 2:n=i.sent();r.Z.dispatch({type:"INTEGRATION_SETTINGS_SAVE_FAILURE",errors:n.body});return[3,3];case 3:return[2]}}))}))()},saveWebhook:function(e,t){return l((function(){var n;return c(this,(function(o){switch(o.label){case 0:o.trys.push([0,2,,3]);r.Z.dispatch({type:"INTEGRATION_SETTINGS_SUBMITTING"});return[4,a.Z.update(e,t.id,t)];case 1:o.sent();r.Z.dispatch({type:"INTEGRATION_SETTINGS_SAVE_SUCCESS"});return[3,3];case 2:n=o.sent();r.Z.dispatch({type:"INTEGRATION_SETTINGS_SAVE_FAILURE",errors:n.body});return[3,3];case 3:return[2]}}))}))()}}},754780:(e,t,n)=>{
"use strict";n.d(t,{Z:()=>o});var r=n(173436);const o={addKeybind:function(e){r.Z.dispatch({type:"KEYBINDS_ADD_KEYBIND",keybind:e})},setKeybind:function(e){r.Z.dispatch({type:"KEYBINDS_SET_KEYBIND",keybind:e})},deleteKeybind:function(e){r.Z.dispatch({type:"KEYBINDS_DELETE_KEYBIND",id:e})},enableAll:function(e){r.Z.dispatch({type:"KEYBINDS_ENABLE_ALL_KEYBINDS",enable:e})}}},450700:(e,t,n)=>{"use strict";n.d(t,{b8:()=>f,GR:()=>p,ul:()=>E});var r=n(675860),o=n(173436),i=n(88051),a=n(935406),s=n(461061);function l(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){l(i,r,o,a,s,"next",e)}function s(e){l(i,r,o,a,s,"throw",e)}a(void 0)}))}}var u=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},
"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function f(){return d.apply(this,arguments)}function d(){return(d=c((function(){
var e,t;return u(this,(function(n){switch(n.label){case 0:n.trys.push([0,2,,3]);return[4,(0,a.Kb)({url:s.ANM.LIBRARY,oldFormErrors:!0},!1)];case 1:e=n.sent();o.Z.dispatch({type:"LIBRARY_FETCH_SUCCESS",libraryApplications:e.body});return[3,3];case 2:t=n.sent();o.Z.dispatch({type:"LIBRARY_FETCH_FAIL",error:t});return[3,3];case 3:return[2]}}))}))).apply(this,arguments)}function p(e){return h.apply(this,arguments)}function h(){return(h=c((function(e){var t,n,a;return u(this,(function(l){switch(l.label){case 0:return null==(t=e.primarySkuId)?[2]:[4,r.Z.get({url:s.ANM.APPLICATION_BRANCH_LIST(e.id),oldFormErrors:!0}).then((function(e){return e.body}))];case 1:n=l.sent();a=n.map((function(n){return i.Z.createForTestMode({id:e.id,skuId:t,branch:n})}));o.Z.dispatch({type:"LIBRARY_APPLICATIONS_TEST_MODE_ENABLED",libraryApplications:a});return[2]}}))}))).apply(this,arguments)}function E(e,t,n){o.Z.dispatch({type:"LIBRARY_APPLICATION_ACTIVE_LAUNCH_OPTION_UPDATE",applicationId:e,branchId:t,
launchOptionId:n})}},977445:(e,t,n)=>{"use strict";n.d(t,{N:()=>f});var r=n(675860),o=n(173436),i=n(277499),a=n(461061);function s(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){s(i,r,o,a,l,"next",e)}function l(e){s(i,r,o,a,l,"throw",e)}a(void 0)}))}}var c=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],
done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},u=216e5;function f(){return d.apply(this,arguments)}function d(){return(d=l((function(){var e,t;return c(this,(function(n){switch(n.label){case 0:if(null!=(e=i.Z.lastFetched)&&Date.now()-e<u)return[2];n.label=1;case 1:n.trys.push([1,3,,4]);return[4,r.Z.get({url:a.ANM.USER_ACTIVITY_STATISTICS,oldFormErrors:!0})];case 2:t=n.sent();o.Z.dispatch({type:"USER_ACTIVITY_STATISTICS_FETCH_SUCCESS",statistics:t.body});return[3,4];case 3:return[2,n.sent()];case 4:return[2]}}))}))).apply(this,arguments)}},
179211:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(675860),o=n(173436),i=n(585771),a=n(301513),s=n(461061),l=n(959797);function c(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}var u=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}
if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function f(e,t){o.Z.dispatch({type:"MFA_SMS_TOGGLE"});return r.Z.post({url:e,body:{password:t},oldFormErrors:!0}).then((function(e){o.Z.dispatch({type:"MFA_SMS_TOGGLE_COMPLETE"});return e}),(function(e){o.Z.dispatch({type:"MFA_SMS_TOGGLE_COMPLETE"});throw e}))}const d={enableMFAStart:function(e){return(t=function(){return u(this,(function(t){switch(t.label){case 0:return[4,r.Z.post({url:s.ANM.MFA_TOTP_ENABLE,body:{password:e},oldFormErrors:!0})];case 1:return[2,t.sent().body]}}))},function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(e){c(i,r,o,a,s,"next",e)}function s(e){c(i,r,o,a,s,"throw",e)}a(void 0)}))})();var t},
enable:function(e){var t=e.password,n=e.code,i=e.secret;return r.Z.post({url:s.ANM.MFA_TOTP_ENABLE,body:{code:n,secret:i,password:t},oldFormErrors:!0}).then((function(e){return o.Z.dispatch({type:"MFA_ENABLE_SUCCESS",token:e.body.token,codes:e.body.backup_codes})}))},disable:function(){(0,a.Z)((function(e){return r.Z.post({url:s.ANM.MFA_TOTP_DISABLE,body:e,oldFormErrors:!0})}),{checkEnabled:!0,modalProps:{title:l.Z.Messages.TWO_FA_DISABLE,actionText:l.Z.Messages.TWO_FA_REMOVE}}).then((function(e){var t=e.body.token;return o.Z.dispatch({type:"MFA_DISABLE_SUCCESS",token:t})}))},enableSMS:function(e){return f(s.ANM.MFA_SMS_ENABLE,e)},disableSMS:function(e){return f(s.ANM.MFA_SMS_DISABLE,e)},sendMFABackupCodesVerificationKeyEmail:function(e){return r.Z.post({url:s.ANM.MFA_SEND_VERIFICATION_KEY,body:{password:e},oldFormErrors:!0}).then((function(e){return o.Z.dispatch({type:"MFA_SEND_VERIFICATION_KEY",nonces:{viewNonce:e.body.nonce,regenerateNonce:e.body.regenerate_nonce}})}),(function(e){
throw e}))},confirmViewBackupCodes:function(e,t){var n=i.Z.getNonces(),a=n.viewNonce,l=n.regenerateNonce,c=t?l:a;return r.Z.post({url:s.ANM.MFA_CODES_VERIFICATION,body:{key:e,nonce:c,regenerate:t},oldFormErrors:!0}).then((function(t){return o.Z.dispatch({type:"MFA_VIEW_BACKUP_CODES",codes:t.body.backup_codes,key:e})}),(function(e){throw e}))},clearBackupCodes:function(){o.Z.dispatch({type:"MFA_CLEAR_BACKUP_CODES"})}}},241490:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(173436);const o={setEnabled:function(e){this.update({enabled:e})},update:function(e){var t=!0,n=!1,o=void 0;try{for(var i,a=Object.keys(e)[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var s=i.value;r.Z.dispatch({type:"STREAMER_MODE_UPDATE",key:s,value:e[s]})}}catch(e){n=!0;o=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw o}}}}},953756:(e,t,n)=>{"use strict";n.d(t,{Wt:()=>E,mc:()=>m,q$:()=>b})
;var r=n(173436),o=n(823343),i=n(733730),a=n(367124),s=n(418674),l=n(86124),c=n(881548),u=n(450700),f=n(461061);function d(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){d(i,r,o,a,s,"next",e)}function s(e){d(i,r,o,a,s,"throw",e)}a(void 0)}))}}var h=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1}
;case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function E(e,t){return y.apply(this,arguments)}function y(){return(y=p((function(e,t){var n,d,p,E;return h(this,(function(h){switch(h.label){case 0:r.Z.dispatch({applicationId:e,type:"DEVELOPER_TEST_MODE_AUTHORIZATION_START"});h.label=1;case 1:h.trys.push([1,5,,6]);return[4,(0,o.W5)(e)];case 2:if(!h.sent())throw new Error("Do not have access!");if(null!=(n=a.Z.getGame(e)))return[3,4];d=i.Z.createFromServer;return[4,c.Z.fetchApplication(e)];case 3:n=d.apply(i.Z,[h.sent()]);h.label=4;case 4:if((p=(0,
s.yE)(n.flags,f.udG.EMBEDDED))&&(null==t||!l.Z.URL_REGEX.test(t)))throw new Error("Invalid Origin URL for embedded application");p||u.GR(n);r.Z.dispatch({type:"DEVELOPER_TEST_MODE_AUTHORIZATION_SUCCESS",applicationId:e,originURL:p?t:null});return[2,n];case 5:E=h.sent();r.Z.dispatch({type:"DEVELOPER_TEST_MODE_AUTHORIZATION_FAIL",applicationId:e,error:E.message});return[2,null];case 6:return[2]}}))}))).apply(this,arguments)}function m(){r.Z.dispatch({type:"DEVELOPER_TEST_MODE_RESET"})}function b(){r.Z.dispatch({type:"DEVELOPER_TEST_MODE_RESET_ERROR"})}},696534:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(496486),o=n.n(r),i=n(675860),a=n(173436),s=n(461061),l=["Spidey Bot","Captain Hook"];const c={fetchForGuild:function(e){a.Z.dispatch({type:"WEBHOOKS_FETCHING",guildId:e});i.Z.get({url:s.ANM.GUILD_WEBHOOKS(e),oldFormErrors:!0}).then((function(t){var n=t.body;return a.Z.dispatch({type:"WEBHOOKS_UPDATE",guildId:e,webhooks:n})})).catch((function(t){var n=t.body;a.Z.dispatch({
type:"WEBHOOKS_UPDATE",guildId:e,error:n.message})}))},fetchForChannel:function(e,t){a.Z.dispatch({type:"WEBHOOKS_FETCHING",guildId:e,channelId:t});i.Z.get({url:s.ANM.CHANNEL_WEBHOOKS(t),oldFormErrors:!0}).then((function(n){var r=n.body;return a.Z.dispatch({type:"WEBHOOKS_UPDATE",guildId:e,channelId:t,webhooks:r})}))},create:function(e,t,n){null==n&&(n=l[o().random(0,l.length-1)]);return i.Z.post({url:s.ANM.CHANNEL_WEBHOOKS(t),body:{name:n},oldFormErrors:!0}).then((function(t){var n=t.body;a.Z.dispatch({type:"WEBHOOK_CREATE",guildId:e,webhook:n});return n}))},delete:function(e,t){return i.Z.delete({url:s.ANM.WEBHOOK(t),oldFormErrors:!0}).then((function(){a.Z.dispatch({type:"WEBHOOK_DELETE",guildId:e,webhookId:t})}))},update:function(e,t,n){return i.Z.patch({url:s.ANM.WEBHOOK(t),body:n,oldFormErrors:!0}).then((function(t){var n=t.body;a.Z.dispatch({type:"WEBHOOK_UPDATE",guildId:e,webhook:n});return n}))}}},433411:(e,t,n)=>{"use strict";n.d(t,{_:()=>M,Z:()=>q})
;var r=n(785893),o=n(667294),i=n(496486),a=n.n(i),s=n(363010),l=n(149556),c=n(365523),u=n(331535),f=n(600341),d=n(934714),p=n(733285),h=n(294184),E=n.n(h),y=n(832010),m=n(912551),b=n(240243);function g(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function O(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function v(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){
var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function _(e){var t=e.width,n=void 0===t?80:t,o=e.height,i=void 0===o?20:o,a=e.color,s=void 0===a?"currentColor":a,l=e.foreground,c=v(e,["width","height","color","foreground"]);return(0,r.jsxs)("svg",O(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){g(e,t,n[t])}))}return e}({},(0,b.Z)(c)),{width:n,height:i,viewBox:"0 0 ".concat(n," ").concat(i),children:[(0,r.jsx)("pattern",{id:"pill-frame-pattern",width:8/n,height:"1",children:(0,r.jsx)("path",{d:"m0 0h8v20h-8zm4 2c-1.1045695 0-2 .8954305-2 2v12c0 1.1045695.8954305 2 2 2s2-.8954305 2-2v-12c0-1.1045695-.8954305-2-2-2z",
fillRule:"evenodd",fill:s,className:l})}),(0,r.jsx)("rect",{fill:"url(#pill-frame-pattern)",height:"100%",width:"100%"})]}))}var I=n(461061),S=n(14573),T=n.n(S);function N(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e){C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return C(e)}function A(e,t){return!t||"object"!==j(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function P(e,t){P=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return P(e,t)}var j=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{
Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=C(e);if(t){var o=C(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return A(this,n)}}var R=(0,m.Mg)(T().notchWidth),M=Object.freeze({BLACK:T().black,GRAY:T().gray}),w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&P(e,t)}(n,e);var t=x(n);function n(){N(this,n);var e;(e=t.apply(this,arguments)).state={barWidth:0};e.sizerRef=o.createRef();e.computeBars=function(){var t=e.sizerRef.current;e.setState({barWidth:null!=t?e.roundToNearestStep(t.clientWidth):0})};return e}var i=n.prototype;i.componentDidMount=function(){this.computeBars();window.addEventListener("resize",this.computeBars)};i.componentWillUnmount=function(){
window.removeEventListener("resize",this.computeBars)};i.roundToNearestStep=function(e){return Math.round(e/R)*R};i.getProgressStyles=function(){var e=this.props.progress,t=100-Math.max(0,Math.min(100,e)),n=this.state.barWidth,r=n*t/100,o=this.roundToNearestStep(r),i=Math.abs(o-n);return{transform:"translateX(".concat(i,"px)")}};i.getGradientStyles=function(){var e=this.props,t=e.gradientEnd,n=e.gradientStart,r=e.progress,o=this.state.barWidth;return{width:"".concat(o,"px"),background:r<=0?"none":"linear-gradient(to right, ".concat(n,", ").concat(t,")")}};i.render=function(){var e=this.props,t=e.className,n=e.notchBackground,o=this.state.barWidth;return(0,r.jsx)("div",{className:T().wrapper,ref:this.sizerRef,children:(0,r.jsxs)("div",{className:E()(T().container,t),style:this.getGradientStyles(),children:[(0,r.jsx)("div",{className:T().progress,style:this.getProgressStyles()}),0!==o&&(0,r.jsx)(_,{width:o,className:E()(T().notches,n)})]})})};return n}(o.Component);w.defaultProps={
gradientStart:(0,y.Lq)(I.Ilk.YELLOW_260),gradientEnd:(0,y.Lq)(I.Ilk.GREEN_360)};const Z=w;var L=n(757987),D=n(932847),U=n(959797),k=n(502258),G=n.n(k);function B(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H(e){H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return H(e)}function V(e,t){return!t||"object"!==Y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function F(e,t){F=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return F(e,t)}var Y=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))
;return!0}catch(e){return!1}}();return function(){var n,r=H(e);if(t){var o=H(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return V(this,n)}}var W=-100,K=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&F(e,t)}(n,e);var t=z(n);function n(){B(this,n);var e;(e=t.apply(this,arguments))._initTimeout=new c.V7;e._silenceTimeout=new c.V7;e._messageTimeout=new c.V7;e.state={volume:W,isMicTesting:!1,isDetectingInput:!0,didDeafenUser:!1};e.setupVoiceActivity=function(){d.Z.getMediaEngine().on(l.aB.VoiceActivity,e.handleVoiceActivity)};e.handleVoiceActivity=function(t){if(e.state.isMicTesting&&t<=W){e._silenceTimeout.isStarted()||e._silenceTimeout.start(2e3,(function(){e.setState({isDetectingInput:!1})}));e.setState({volume:W})}else{e._silenceTimeout.stop();e.setState({volume:t,
isDetectingInput:!0})}};e.handleToggleMicTest=function(){e.state.isMicTesting?e._micTestStop():e._micTestStart()};return e}var o=n.prototype;o.componentDidMount=function(){this._initTimeout.start(1e3,this.setupVoiceActivity)};o.componentWillUnmount=function(){this._initTimeout.stop();this._silenceTimeout.stop();this._micTestStop();d.Z.getMediaEngine().removeListener(l.aB.VoiceActivity,this.handleVoiceActivity)};o._micTestStart=function(){var e=this.props,t=e.isVoiceConnected,n=e.inputDeviceName,r=e.inputVolume,o=e.outputDeviceName,i=e.outputVolume,a=e.inputMode,s=e.vadAutoThreshold,l=e.vadThreshold,c=e.location,u=e.isDeafened,d=!1;if(t&&!u){f.Z.toggleSelfDeaf();d=!0}f.Z.setLoopback(!0);this._micTestStartTime=Date.now();this.setState({isMicTesting:!0,isDetectingInput:!0,didDeafenUser:d});D.default.track(I.rMx.MIC_TESTING_STARTED,{input_device_name:n,input_device_volume:r,output_device_name:o,output_device_volume:i,input_mode:a,input_sensitivity_is_automatic:s,
input_sensitivity_threshold:Math.round(l),location:c})};o._micTestStop=function(){var e=this.state,t=e.didDeafenUser,n=e.isMicTesting,r=this.props,o=r.isVoiceConnected,i=r.isDeafened;if(n){o&&i&&t&&f.Z.toggleSelfDeaf();f.Z.setLoopback(!1);this.setState({isMicTesting:!1,didDeafenUser:!1});null!=this._micTestStartTime&&D.default.track(I.rMx.MIC_TESTING_STOPPED,{testing_duration:Math.round((Date.now()-this._micTestStartTime)/1e3)})}};o.renderCaption=function(){var e=this.props,t=e.captionVoice,n=e.captionNoVoice,o=this.state,i=o.isMicTesting,a=o.isDetectingInput;return(0,r.jsx)(u.R9,{className:G().micTestCaption,type:u.R9.Types.DESCRIPTION,children:i?a?t:n:null})};o.render=function(){var e=this,t=this.props,n=t.isVoiceConnected,o=t.title,i=t.description,a=t.notchBackground,s=t.buttonTest,l=t.buttonStop,c=t.buttonClassName,f=t.buttonColor,d=t.isDeafened,p=this.state,h=p.isMicTesting,E=p.volume,y=n&&!h?U.Z.Messages.MIC_TEST_VOICE_CHANNEL_WARNING:null;h&&n&&!d&&this._micTestStop();return(0,
r.jsxs)("div",{className:G().container,children:[(0,r.jsx)(u.vw,{tag:u.RB.H5,className:G().title,children:o}),null!=i&&(0,r.jsx)(u.R9,{type:u.R9.Types.DESCRIPTION,className:G().description,children:i}),(0,r.jsxs)("div",{className:G().micTest,children:[(0,r.jsx)(L.ZP,{text:y,children:function(t){var n=t.onMouseEnter,o=t.onMouseLeave;return(0,r.jsx)(u.zx,{grow:!1,onClick:e.handleToggleMicTest,onMouseEnter:n,onMouseLeave:o,size:u.zx.Sizes.SMALL,className:c,color:f,children:h?l:s})}}),(0,r.jsx)(Z,{progress:h?E+100:0,notchBackground:a}),this.renderCaption()]})]})};return n}(o.PureComponent);const q=s.ZP.connectStores([p.Z,d.Z],(function(){var e=d.Z.getInputDeviceId(),t=d.Z.getInputDevices(),n=a().find(t,(function(t){return t.id===e})),r=d.Z.getOutputDeviceId(),o=d.Z.getOutputDevices(),i=a().find(o,(function(e){return e.id===r})),s=d.Z.getModeOptions();return{isVoiceConnected:p.Z.isConnected(),inputVolume:d.Z.getInputVolume(),outputVolume:d.Z.getOutputVolume(),inputMode:d.Z.getMode(),
vadThreshold:s.threshold,isDeafened:d.Z.isSelfDeaf(),vadAutoThreshold:s.autoThreshold,inputDeviceName:null!=n?n.name:"",outputDeviceName:null!=i?i.name:""}}))(K)},923647:(e,t,n)=>{"use strict";n.r(t);n.d(t,{default:()=>Ice});var r=n(785893),o=n(667294),i=n(517563),a=n(751615),s=n(363010),l=n(822567),c=n(817420),u=n(354290),f=n(804626),d=n(953756),p=n(956345),h=n(730189),E=n(989115),y=n(877271),m=n(108994),b=n(644723),g=n(173436),O=n(750839),v=n(245189),_=n(81717),I=n(356004),S=n(212033),T=n(151557),N=n(733285),C=n(379822),A=n(971738),P=n(882687),j=n(623899),x=n(182134),R=n(461061);function M(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e){w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return w(e)}function Z(e,t){return!t||"object"!==U(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e
}(e):t}function L(e,t){L=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return L(e,t)}var D,U=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var o=w(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Z(this,n)}}function G(){var e=N.Z.getChannelId(),t=j.ZP.getSelfEmbeddedActivityForChannel(null!=e?e:""),n=I.Z.getChannel(e);return null==e||null==n||null==t?function(){var e=D;if(null!=e&&T.Z.isOpen(e)){g.Z.wait((function(){return O.xv(e)}));D=null}}():function(e,t){if(T.Z.isOpen(t))return!1;g.Z.wait((function(){return O.bA(t,R.NYg.EMBED_IFRAME,{channel:e})}));D=t}(n,(0,
x.Z)(n.id,t.application_id))}function B(){var e,t=S.Z.hasLayers(),n=_.Z.getWindowOpen(R.KJ3.CHANNEL_CALL_POPOUT);return t&&!n?void(null!=(e=D)&&T.Z.isOpen(e)&&g.Z.wait((function(){return O.Cp(e)}))):function(){var e=D;null!=e&&T.Z.isOpen(e)&&g.Z.wait((function(){return O.$Z(e)}))}()}var H=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&L(e,t)}(n,e);var t=k(n);function n(){M(this,n);return t.apply(this,arguments)}var r=n.prototype;r._initialize=function(){C.Z.addChangeListener(G);A.Z.addChangeListener(G);N.Z.addChangeListener(G);P.Z.addChangeListener(G);_.Z.addChangeListener(G);j.ZP.addChangeListener(G);S.Z.addChangeListener(B)};r._terminate=function(){C.Z.removeChangeListener(G);A.Z.removeChangeListener(G);N.Z.removeChangeListener(G);P.Z.removeChangeListener(G);_.Z.removeChangeListener(G)
;j.ZP.removeChangeListener(G);S.Z.removeChangeListener(B)};r.__getLocalVars=function(){return{openEmbedId:D}};return n}(v.Z);const V=new H;var F=n(859023),Y=n(897576),z=n(533741),W=n(506884),K=n(331535),q=n(655695),X=n(272729),Q=n(67416),$=n(95467),J=n(959797),ee=n(987953),te=n.n(ee);function ne(){(0,z.qV)();(0,q.uL)(R.Z5c.LOGIN)}function re(e){var t=e.underageMessage,o=e.transitionState,i=(0,X.Dt)();return(0,r.jsxs)(Q.Y0,{transitionState:o,size:Q.Cg.SMALL,"aria-labelledby":i,impressionName:W.zs.USER_AGE_GATE_UNDERAGE,impressionProperties:{existing_user:!0},children:[(0,r.jsx)(Q.hz,{children:(0,r.jsxs)("div",{className:te().container,children:[(0,r.jsx)("img",{alt:"",src:n(697694),className:te().img}),(0,r.jsx)(K.X6,{variant:"heading-xl/semibold",className:te().title,id:i,children:J.Z.Messages.AGE_GATE_UNDERAGE_EXISTING_HEADER}),(0,r.jsx)(K.xv,{color:"header-secondary",className:te().subtitle,variant:"text-sm/normal",children:J.Z.Messages.AGE_GATE_UNDERAGE_BODY.format({
underageMessage:null!=t?t:J.Z.Messages.AGE_GATE_UNDERAGE_BODY_DEFAULT_REG_MESSAGE,helpURL:$.Z.getArticleURL(R.BhN.AGE_GATE)})}),(0,r.jsx)(K.xv,{color:"header-secondary",className:te().subtitle,variant:"text-sm/normal",children:J.Z.Messages.AGE_GATE_UNDERAGE_EXISTING_BODY_DELETION_WITH_DAYS.format({days:30})})]})}),(0,r.jsx)(Q.mz,{children:(0,r.jsx)(K.zx,{size:K.Ph.SMALL,fullWidth:!0,onClick:ne,children:J.Z.Messages.AGE_GATE_UNDERAGE_BACK_TO_LOGIN})})]})}var oe=n(206052),ie=n.n(oe);function ae(e){var t=e.transitionState,o=(0,X.Dt)();return(0,r.jsxs)(Q.Y0,{transitionState:t,size:Q.Cg.SMALL,"aria-labelledby":o,impressionName:W.zs.USER_AGE_GATE,impressionProperties:{existing_user:!0},children:[(0,r.jsx)(Q.hz,{children:(0,r.jsxs)("div",{className:ie().container,children:[(0,r.jsx)("img",{alt:"",src:n(145911),className:ie().img}),(0,r.jsx)(K.X6,{variant:"heading-xl/semibold",className:ie().title,id:o,children:J.Z.Messages.AGE_GATE_AGE_VERIFIED}),(0,r.jsx)(K.xv,{color:"header-secondary",
className:ie().subtitle,variant:"text-sm/normal",children:J.Z.Messages.AGE_GATE_AGE_VERIFIED_BODY})]})}),(0,r.jsx)(Q.mz,{children:(0,r.jsx)(K.zx,{size:K.Ph.SMALL,fullWidth:!0,onClick:function(){(0,z.qV)()},autoFocus:!0,children:J.Z.Messages.CLOSE})})]})}var se=n(442068);function le(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function ce(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){le(i,r,o,a,s,"next",e)}function s(e){le(i,r,o,a,s,"throw",e)}a(void 0)}))}}function ue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fe(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function de(e){de=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return de(e)}function pe(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){fe(e,t,n[t])}))}return e}function he(e,t){return!t||"object"!==ye(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ee(e,t){Ee=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Ee(e,t)}var ye=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function me(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=de(e);if(t){
var o=de(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return he(this,n)}}var be=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2]
;a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function ge(e,t){var n;if(null!=e){var r=F.default.getCurrentUser();(null===(n=I.Z.getChannel(t))||void 0===n?void 0:n.isNSFW())&&null!=r&&null==r.nsfwAllowed&&(0,z.mN)(se.L0.NSFW_CHANNEL)}}var Oe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Ee(e,t)}(o,e);var t=me(o);function o(){ue(this,o);return t.apply(this,arguments)}var i=o.prototype;i._initialize=function(){g.Z.subscribe("CONNECTION_OPEN",this.handleConnectionOpen);g.Z.subscribe("CHANNEL_SELECT",this.handleChannelSelect);g.Z.subscribe("AGE_GATE_MODAL_OPEN",this.handleAgeGateModalOpen);g.Z.subscribe("AGE_GATE_MODAL_CLOSE",this.handleAgeGateModalClose)
;g.Z.subscribe("AGE_GATE_SUCCESS_MODAL_OPEN",this.handleAgeGateSuccess);g.Z.subscribe("AGE_GATE_FAILURE_MODAL_OPEN",this.handleAgeGateFailure)};i._terminate=function(){g.Z.unsubscribe("CONNECTION_OPEN",this.handleConnectionOpen);g.Z.unsubscribe("CHANNEL_SELECT",this.handleChannelSelect);g.Z.unsubscribe("AGE_GATE_MODAL_OPEN",this.handleAgeGateModalOpen);g.Z.unsubscribe("AGE_GATE_MODAL_CLOSE",this.handleAgeGateModalClose);g.Z.unsubscribe("AGE_GATE_SUCCESS_MODAL_OPEN",this.handleAgeGateSuccess);g.Z.unsubscribe("AGE_GATE_FAILURE_MODAL_OPEN",this.handleAgeGateFailure)};i.handleChannelSelect=function(e){ge(e.guildId,e.channelId)};i.handleConnectionOpen=function(){ge(A.Z.getGuildId(),C.Z.getChannelId())};i.handleAgeGateModalOpen=function(){(0,Y.ZD)(ce((function(){var e,t;return be(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(24492)]).then(n.bind(n,324492))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,pe({},e))}]}}))})),{modalKey:se.dG,
onCloseRequest:R.dG4})};i.handleAgeGateSuccess=function(){(0,Y.o)(se.dG,(function(e){return(0,r.jsx)(ae,pe({},e))}))};i.handleAgeGateFailure=function(e){var t=e.underageMessage;(0,Y.o)(se.dG,(function(e){return(0,r.jsx)(re,pe({underageMessage:t},e))}))};i.handleAgeGateModalClose=function(){(0,Y.Mr)(se.dG)};i.__getLocalVars=function(){return{}};return o}(v.Z);const ve=new Oe;var _e=n(391809),Ie=n(821065),Se=n(444450),Te=n(932847);function Ne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ce(e){Ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Ce(e)}function Ae(e,t){return!t||"object"!==je(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Pe(e,t){Pe=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Pe(e,t)}var je=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function xe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Ce(e);if(t){var o=Ce(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ae(this,n)}}var Re="LATEST_HEARTBEAST_EVENT_TIMESTAMP",Me=null,we=null,Ze=null,Le=new _e.Z("Heartbeast");function De(){(0,Ie.R_)();var e=function(){var e=Ze;null==e&&(e=Se.Z.get(Re));null==e&&(e=0);return e}();if(null==e)Ge(!1);else{var t=9e5+e-Date.now();t>0?null==we&&(we=setTimeout((function(){Ge(!0)}),t)):Ge(!1)}}function Ue(){(0,Ie.lj)();if(null!=Me){clearInterval(Me);Me=null}if(null!=we){clearTimeout(we);we=null}}function ke(){He(0);De()}function Ge(e){if(null==Me){Be(e)
;Me=setInterval((function(){Be(!1)}),9e5)}}function Be(e){var t=(0,Ie.R_)(e);Te.default.track(R.rMx.CLIENT_HEARTBEAT,{client_heartbeat_initialization_timestamp:t.initialized,client_heartbeat_version:4});He(Date.now())}function He(e){Ze=e;Se.Z.set(Re,e)}var Ve=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Pe(e,t)}(n,e);var t=xe(n);function n(){Ne(this,n);var e;(e=t.apply(this,arguments)).connectionState=null;e.focusedOrForegrounded=!0;e.shouldTrackHeartbeat=function(){return e.focusedOrForegrounded||null!=e.connectionState&&e.connectionState!==R.hes.DISCONNECTED&&e.connectionState!==R.hes.RTC_DISCONNECTED};e.scheduleHeartbeatTracking=function(){e.shouldTrackHeartbeat()?De():Ue()};e.handleLogin=function(){ke()};e.handleRTCStateChange=function(){var t=N.Z.getState();if(e.connectionState!==t){
e.connectionState=t;Le.log("RTC Connection Changed",t);e.scheduleHeartbeatTracking()}};e.handleWindowFocus=function(t){var n=t.focused;e.focusedOrForegrounded=n;e.scheduleHeartbeatTracking()};e.handleAppStateUpdate=function(t){var n=t.state;e.focusedOrForegrounded=n===R.$7l.ACTIVE;e.scheduleHeartbeatTracking()};return e}var r=n.prototype;r._initialize=function(){N.Z.addChangeListener(this.handleRTCStateChange);g.Z.subscribe("WINDOW_FOCUS",this.handleWindowFocus);g.Z.subscribe("APP_STATE_UPDATE",this.handleAppStateUpdate);g.Z.subscribe("LOGIN_SUCCESS",this.handleLogin);De()};r._terminate=function(){N.Z.removeChangeListener(this.handleRTCStateChange);g.Z.unsubscribe("WINDOW_FOCUS",this.handleWindowFocus);g.Z.unsubscribe("APP_STATE_UPDATE",this.handleAppStateUpdate);g.Z.unsubscribe("LOGIN_SUCCESS",this.handleLogin);Ue()};r.__getLocalVars=function(){return{HEARTBEAT_VERSION:4,HEARTBEAT_FREQUENCY_MINS:15,LATEST_HEARTBEAT_EVENT_TIMESTAMP:Re,heartbeatIntervalId:Me,heartbeatTimeoutId:we,
lastHeartbeatEventTimestamp:Ze,logger:Le}};return n}(v.Z);const Fe=new Ve;var Ye=n(893052),ze=n(600341),We=n(934714),Ke=n(73462),qe=n(426217),Xe=n(866452);function Qe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $e(e){$e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return $e(e)}function Je(e,t){return!t||"object"!==tt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function et(e,t){et=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return et(e,t)}var tt=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function nt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{
Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=$e(e);if(t){var o=$e(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Je(this,n)}}var rt=new Set,ot=new Set,it=null;function at(){var e=!0,t=!1,n=void 0;try{for(var r,o=rt[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var i=r.value;ze.Z.setDisableLocalVideo(i,!1,Xe.Yn.DEFAULT,!1)}}catch(e){t=!0;n=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}ot.clear();rt.clear()}var st=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&et(e,t)}(n,e);var t=nt(n);function n(){Qe(this,n);var e;(e=t.apply(this,arguments)).handleWindowFocus=function(e){e.focused&&at()};e.handleVoiceChannelSelect=function(e){var t=e.channelId
;if(t!==it){at();it=t}};e.handlePopoutChange=function(){_.Z.getWindowFocused(R.KJ3.CHANNEL_CALL_POPOUT)&&at()};return e}var r=n.prototype;r._initialize=function(){g.Z.subscribe("RTC_CONNECTION_VIDEO",this.handleIncomingVideo);g.Z.subscribe("AUDIO_SET_LOCAL_VIDEO_DISABLED",this.handleManualLocalVideoToggle);g.Z.subscribe("WINDOW_FOCUS",this.handleWindowFocus);g.Z.subscribe("VOICE_CHANNEL_SELECT",this.handleVoiceChannelSelect);_.Z.addChangeListener(this.handlePopoutChange)};r._terminate=function(){g.Z.unsubscribe("RTC_CONNECTION_VIDEO",this.handleIncomingVideo);g.Z.unsubscribe("AUDIO_SET_LOCAL_VIDEO_DISABLED",this.handleManualLocalVideoToggle);g.Z.unsubscribe("WINDOW_FOCUS",this.handleWindowFocus);g.Z.unsubscribe("VOICE_CHANNEL_SELECT",this.handleVoiceChannelSelect);_.Z.removeChangeListener(this.handlePopoutChange);at();it=null};r.handleIncomingVideo=function(e){var t=e.userId,n=e.context,r=e.streamId;if(n===Xe.Yn.DEFAULT&&null!=r){
var o=null!=Ke.ZP.getCurrentGame(),i=qe.Z.isFocused(),a=_.Z.getWindowFocused(R.KJ3.CHANNEL_CALL_POPOUT),s=We.Z.isLocalVideoDisabled(t,n),l=ot.has(t);if(o&&!i&&!a&&!s&&!l){rt.add(t);ze.Z.setDisableLocalVideo(t,!0,n,!1)}}};r.handleManualLocalVideoToggle=function(e){var t=e.userId;if(e.persist){ot.add(t);rt.delete(t)}};r.__getLocalVars=function(){return{tempVideoMutes:rt,manualOverrides:ot,currentVoiceChannelId:it}};return n}(v.Z);const lt=new st;var ct=n(80635),ut=n(409271),ft=n(537127),dt=n(525933),pt=n(431612),ht=n(855492);function Et(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yt(e){yt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return yt(e)}function mt(e,t){return!t||"object"!==gt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function bt(e,t){
bt=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return bt(e,t)}var gt=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Ot(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=yt(e);if(t){var o=yt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return mt(this,n)}}var vt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&bt(e,t)}(n,e);var t=Ot(n);function n(){Et(this,n);var e;(e=t.apply(this,arguments))._updateBackgroundGradientPresetId=function(t){
if(e._currentBackgroundGradientPresetId!==t)if(null!=t){(0,dt.zO)(t);e._currentBackgroundGradientPresetId=t}else{(0,dt.xs)();e._currentBackgroundGradientPresetId=void 0}};e._updateBackgroundGradientAngle=function(t){if(e._currentBackgroundGradientAngle!==t)if(null!=t){(0,dt.X9)(t);e._currentBackgroundGradientPresetId=t}else{(0,dt.Bf)();e._currentBackgroundGradientAngle=void 0}};e._updateClientTheme=function(){if(pt.W.getCurrentConfig({}).hasClientThemes){var t=ut.L1.getSetting(),n=t.backgroundGradientPresetId,r=t.backgroundGradientAngle;if(null==n||ht.q[n].theme===ct.Z.theme){e._updateBackgroundGradientPresetId(n);e._updateBackgroundGradientAngle(r)}else e._resetClientTheme()}else e._resetClientTheme()};return e}var r=n.prototype;r._initialize=function(){ft.Z.addChangeListener(this._updateClientTheme);ct.Z.addChangeListener(this._updateClientTheme);pt.W.subscribe({},this._updateClientTheme)};r._terminate=function(){ft.Z.removeChangeListener(this._updateClientTheme)
;ct.Z.removeChangeListener(this._updateClientTheme)};r._resetClientTheme=function(){(0,dt.xs)();(0,dt.Bf)();this._currentBackgroundGradientPresetId=void 0;this._currentBackgroundGradientAngle=void 0};r.__getLocalVars=function(){return{}};return n}(v.Z);const _t=new vt;function It(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function St(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){It(i,r,o,a,s,"next",e)}function s(e){It(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Tt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nt(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Ct(e){Ct=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Ct(e)}function At(e,t){
return!t||"object"!==jt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Pt(e,t){Pt=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Pt(e,t)}var jt=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function xt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Ct(e);if(t){var o=Ct(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return At(this,n)}}var Rt=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},
"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Mt="CONNECTIONS_GRID_MODAL_KEY",wt=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Pt(e,t)}(o,e);var t=xt(o);function o(){Tt(this,o);return t.apply(this,arguments)}var i=o.prototype;i._initialize=function(){g.Z.subscribe("CONNECTIONS_GRID_MODAL_SHOW",this.handleShow);g.Z.subscribe("CONNECTIONS_GRID_MODAL_HIDE",this.handleHide)};i._terminate=function(){g.Z.unsubscribe("CONNECTIONS_GRID_MODAL_SHOW",this.handleShow);g.Z.unsubscribe("CONNECTIONS_GRID_MODAL_HIDE",this.handleHide)};i.handleShow=function(e){var t=e.onComplete,o=e.excludedPlatformTypes,i=e.includedDisabledPlatformTypes,a=e.integrations,s=e.onCompleteApplication;(0,Y.nf)(Mt)||(0,Y.ZD)(St((function(){var e,l;return Rt(this,(function(c){switch(c.label){case 0:return[4,Promise.all([n.e(40532),n.e(47042)]).then(n.bind(n,847042))];case 1:e=c.sent(),l=e.default;return[2,function(e){return(0,r.jsx)(l,function(e){
for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Nt(e,t,n[t])}))}return e}({onComplete:t,excludedPlatformTypes:o,includedDisabledPlatformTypes:i,integrations:a,onCompleteApplication:s},e))}]}}))})))};i.handleHide=function(){(0,Y.Mr)(Mt)};i.__getLocalVars=function(){return{CONNECTIONS_GRID_MODAL_KEY:Mt}};return o}(v.Z);const Zt=new wt;var Lt=n(670529),Dt=n(26080),Ut=n(653772),kt=n(742269),Gt=n(378315);function Bt(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function Ht(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Bt(i,r,o,a,s,"next",e)}function s(e){Bt(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Vt(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ft(e){Ft=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Ft(e)}function Yt(e,t){return!t||"object"!==Wt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function zt(e,t){zt=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return zt(e,t)}var Wt=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Kt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Ft(e);if(t){var o=Ft(this).constructor;n=Reflect.construct(r,arguments,o)
}else n=r.apply(this,arguments);return Yt(this,n)}}var qt=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}
i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Xt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&zt(e,t)}(n,e);var t=Kt(n);function n(){Vt(this,n);var e;(e=t.apply(this,arguments)).maybeFetchEligiblity=Ht((function(){var e;return qt(this,(function(t){switch(t.label){case 0:if(!(0,kt.nI)()&&!(0,kt.$L)())return[3,2];e=Object.values(Ut.Z.getGuilds());return e.some((function(e){return(0,Dt.H2)(e)&&!e.hasFeature(R.oNc.ROLE_SUBSCRIPTIONS_AVAILABLE_FOR_PURCHASE)&&!e.hasFeature(R.oNc.CREATOR_MONETIZABLE_RESTRICTED)&&!e.hasFeature(R.oNc.CREATOR_MONETIZABLE_DISABLED)}))?[4,(0,Gt.av)()]:[3,2];case 1:t.sent();t.label=2;case 2:return[2]}}))}));return e}var r=n.prototype;r._initialize=function(){
g.Z.subscribe("CONNECTION_OPEN",this.maybeFetchEligiblity)};r._terminate=function(){g.Z.unsubscribe("CONNECTION_OPEN",this.maybeFetchEligiblity)};r.__getLocalVars=function(){return{}};return n}(v.Z);const Qt=new Xt;var $t=n(570132);const Jt=function(){g.Z.subscribe("CONNECTION_OPEN",(function(){(0,$t.mc)()}));g.Z.subscribe("LOGOUT",(function(){(0,$t.mc)()}))};var en=n(620700);function tn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nn(e){nn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return nn(e)}function rn(e,t){return!t||"object"!==an(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function on(e,t){on=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return on(e,t)}var an=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}
;function sn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=nn(e);if(t){var o=nn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return rn(this,n)}}function ln(e){var t=e.channel.id;(0,en.oC)(t)}var cn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&on(e,t)}(n,e);var t=sn(n);function n(){tn(this,n);return t.apply(this,arguments)}var r=n.prototype;r._initialize=function(){g.Z.subscribe("CHANNEL_DELETE",ln)};r._terminate=function(){g.Z.unsubscribe("CHANNEL_DELETE",ln)};r.__getLocalVars=function(){return{}};return n}(v.Z)
;const un=new cn;var fn=n(820028),dn=n(635940),pn=n(95350),hn=n(940712),En=n(426466),yn=n(610804);function mn(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function bn(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){mn(i,r,o,a,s,"next",e)}function s(e){mn(i,r,o,a,s,"throw",e)}a(void 0)}))}}function gn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function On(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function vn(e){vn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return vn(e)}function _n(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
;t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function In(e,t){return!t||"object"!==Tn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Sn(e,t){Sn=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Sn(e,t)}var Tn=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Nn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=vn(e);if(t){var o=vn(this).constructor;n=Reflect.construct(r,arguments,o)
}else n=r.apply(this,arguments);return In(this,n)}}var Cn=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}
i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},An=function(e){var t,n=Ut.Z.getGuild(e),r=Boolean(null==n?void 0:n.hasFeature(R.oNc.COMMUNITY)),o=hn.Z.can(R.Plq.MANAGE_CHANNELS,n),i=(0,dn.un)(fn.z$.FORUM_CHANNEL_UPSELL_MODAL),a=null!==(t=pn.Z.getMemberCount(e))&&void 0!==t?t:0;return r&&o&&!i&&a>=200},Pn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Sn(e,t)}(o,e);var t=Nn(o);function o(){gn(this,o);return t.apply(this,arguments)}var i=o.prototype;i._initialize=function(){g.Z.subscribe("CHANNEL_SELECT",this.handleChannelSelect)};i._terminate=function(){g.Z.unsubscribe("CHANNEL_SELECT",this.handleChannelSelect)};i.handleChannelSelect=function(e){var t=e.guildId;if(null!=t){if(An(t)){(0,En.qz)();(0,
dn.kk)(fn.z$.FORUM_CHANNEL_UPSELL_MODAL);(0,Y.ZD)(bn((function(){var e,o;return Cn(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(37105)]).then(n.bind(n,750959))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,_n(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){On(e,t,n[t])}))}return e}({},e),{onClose:function(t){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yn.L.DISMISS;(0,dn.EW)(fn.z$.FORUM_CHANNEL_UPSELL_MODAL,{dismissAction:e})}(t);e.onClose()},guildId:t,shouldUpsellCreation:!0}))}]}}))})),{onCloseCallback:function(){return(0,dn.EW)(fn.z$.FORUM_CHANNEL_UPSELL_MODAL,{dismissAction:yn.L.DISMISS})},onCloseRequest:R.VqG})}}};i.__getLocalVars=function(){
return{MINIMUM_MEMBER_COUNT_FOR_UPSELL:200,isEligibleForForumChannelUpsell:An}};return o}(v.Z);const jn=new Pn;var xn=n(881548),Rn=n(832691),Mn=n(367124),wn={};function Zn(e){var t=e.name,n=e.hash,r=e.missingData;Mn.Z.markGameReported(t);var o=!0,i=!1,a=void 0;try{for(var s,l=r[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var c=s.value;if("icon"===c){var u=wn[t];null!=u&&xn.Z.uploadIcon(t,n,u);return}new Rn.Z("GameStoreIconManager").log("Could not find missing data key: ".concat(c))}}catch(e){i=!0;a=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}}function Ln(e){var t=e.gameName,n=e.icon;wn[t]=n}const Dn=function(){g.Z.subscribe("UNVERIFIED_GAME_UPDATE",Zn);g.Z.subscribe("GAME_ICON_UPDATE",Ln)};var Un=n(450700),kn=n(800539);function Gn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bn(e){Bn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Bn(e)}function Hn(e,t){
return!t||"object"!==Fn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Vn(e,t){Vn=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Vn(e,t)}var Fn=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Yn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Bn(e);if(t){var o=Bn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Hn(this,n)}}var zn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{
value:e,writable:!0,configurable:!0}});t&&Vn(e,t)}(n,e);var t=Yn(n);function n(){Gn(this,n);var e;(e=t.apply(this,arguments)).handleConnectionOpen=function(){kn.Z.fetched||(0,Un.b8)();xn.Z.getDetectableGames()};return e}var r=n.prototype;r._initialize=function(){g.Z.subscribe("CONNECTION_OPEN",this.handleConnectionOpen)};r._terminate=function(){g.Z.unsubscribe("CONNECTION_OPEN",this.handleConnectionOpen)};r.__getLocalVars=function(){return{}};return n}(v.Z);const Wn=new zn;var Kn=n(206264),qn=n(109247);function Xn(e){!function(e){var t=qn.Z.launchableGames[e],n=Mn.Z.getGame(e);(null!=n?Kn.Z.isLaunchable(n):Kn.Z.isGameLaunchable(e)).then((function(n){n!==t&&g.Z.dispatch({type:"GAME_LAUNCHABLE_UPDATE",gameId:e,isLaunchable:n})}))}(e.gameId)}const Qn=function(){g.Z.subscribe("CHECK_LAUNCHABLE_GAME",Xn)};var $n=n(331792);const Jn=function(){kn.Z.whenInitialized((function(){null!=$n.Z.testModeApplicationId&&(0,d.Wt)($n.Z.testModeApplicationId,$n.Z.testModeOriginURL)}))}
;var er=n(36347),tr=n(631134),nr=n(564379);function rr(){if((0,nr.Q)()){var e=tr.default.getToken(),t=tr.default.getId();if(null==e)throw new Error("missing user token");er.S1(e,t)}}function or(){er.ob()}const ir=function(){g.Z.subscribe("CONNECTION_OPEN",rr);g.Z.subscribe("LOGOUT",or)};var ar=n(468831),sr=n(671018),lr=n(598738);function cr(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function ur(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){cr(i,r,o,a,s,"next",e)}function s(e){cr(i,r,o,a,s,"throw",e)}a(void 0)}))}}var fr=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{
if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function dr(){dr=ur((function(e){var t,r,o,i;return fr(this,(function(a){switch(a.label){case 0:t=e.code;return[4,(0,lr.Z)(t)];case 1:r=a.sent();return null==(o=r.invite)||null==o.guild?[2]:[4,pr()];case 2:a.sent()
;return null==Ut.Z.getGuild(o.guild.id)?[2]:[4,Promise.resolve().then(n.bind(n,604677))];case 3:i=a.sent();return[4,(0,i.default)({guildId:o.guild.id})];case 4:a.sent();sr.Z.transitionToInvite(o);return[2]}}))}));return dr.apply(this,arguments)}function pr(){return new Promise((function(e){Ut.Z.addConditionalChangeListener((function(){if(Ut.Z.isLoaded()){e();return!1}return!0}))}))}var hr=n(455040),Er=n(7046);function yr(e,t){var n,r=null===(n=null==t?void 0:t.replace(/-/g,"_"))||void 0===n?void 0:n.toUpperCase();if(null!=r&&r in e)return e[r]}function mr(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function br(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){mr(i,r,o,a,s,"next",e)}function s(e){mr(i,r,o,a,s,"throw",e)}a(void 0)}))}}function gr(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}
var Or=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}
if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function vr(e){(0,Y.ZD)(br((function(){var t,o;return Or(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(73241)]).then(n.bind(n,673241))];case 1:t=i.sent(),o=t.default;return[2,function(t){return(0,r.jsx)(o,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){gr(e,t,n[t])}))}return e}({},t,e))}]}}))})),{modalKey:"Guild Settings Picker Modal"})}var _r=n(136481),Ir=n(682881);const Sr=function(){g.Z.subscribe("VOICE_CHANNEL_SELECT",(function(e){null==e.channelId&&_r.Kw(Ir.v.VOICE_PANEL_INTRODUCTION)}))}
;var Tr=n(286058),Nr=n(472631),Cr=n(370442),Ar=n(241490),Pr=n(938871),jr=n(997163),xr=n(18416),Rr=n(343435),Mr=n(337160),wr=n(742572),Zr=n(127949);var Lr=n(639760),Dr=n(395130),Ur=n(713932),kr=n(893321),Gr=n(870),Br=n(300327),Hr=n(652703);function Vr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fr(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Yr(e){Yr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Yr(e)}function zr(e,t){return!t||"object"!==qr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Wr(e,t){Wr=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Wr(e,t)}var Kr,qr=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Xr(e){
var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Yr(e);if(t){var o=Yr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zr(this,n)}}function Qr(){var e=C.Z.getVoiceChannelId(),t=I.Z.getChannel(e);return(0,Dr.O)()&&(0,Lr.Z)(t)}var $r=(Fr(Kr={},R.kg4.TOGGLE_PRIORITY_SPEAKER,{onTrigger:function(){},keyEvents:{}}),Fr(Kr,R.kg4.UNASSIGNED,{onTrigger:function(){},keyEvents:{}}),Fr(Kr,R.kg4.PUSH_TO_TALK,{onTrigger:function(e,t){if(We.Z.getMode(t)===R.pM4.PUSH_TO_TALK){$r[R.kg4.PUSH_TO_TALK].isPressed=e;We.Z.getMediaEngine().eachConnection((function(t){return t.setForceAudioInput(e,!1)}),t)}},keyEvents:{keyup:!0,keydown:!0},isPressed:!1}),Fr(Kr,R.kg4.PUSH_TO_TALK_PRIORITY,{onTrigger:function(e){
if(We.Z.getMode()===R.pM4.PUSH_TO_TALK){$r[R.kg4.PUSH_TO_TALK_PRIORITY].isPressed=e;We.Z.getMediaEngine().eachConnection((function(t){return t.setForceAudioInput(e,!0)}),Xe.Yn.DEFAULT)}},keyEvents:{keyup:!0,keydown:!0},isPressed:!1}),Fr(Kr,R.kg4.PUSH_TO_MUTE,{onTrigger:function(e){if(We.Z.getMode()===R.pM4.VOICE_ACTIVITY&&!We.Z.isSelfDeaf()){$r[R.kg4.PUSH_TO_MUTE].isPressed=e;ze.Z.setTemporarySelfMute(e)}},keyEvents:{keyup:!0,keydown:!0},isPressed:!1}),Fr(Kr,R.kg4.TOGGLE_MUTE,{onTrigger:function(){return ze.Z.toggleSelfMute()},keyEvents:{keyup:!0,keydown:!1}}),Fr(Kr,R.kg4.TOGGLE_DEAFEN,{onTrigger:function(){ze.Z.toggleSelfDeaf()},keyEvents:{keyup:!0,keydown:!1}}),Fr(Kr,R.kg4.TOGGLE_VOICE_MODE,{onTrigger:function(){var e=We.Z.getMode()===R.pM4.PUSH_TO_TALK?R.pM4.VOICE_ACTIVITY:R.pM4.PUSH_TO_TALK;ze.Z.setMode(e)},keyEvents:{keyup:!0,keydown:!1}}),Fr(Kr,R.kg4.TOGGLE_OVERLAY,{onTrigger:function(){var e=Gr.Z.enabled;Nr.Z.setEnabled(!e)},keyEvents:{keyup:!0,keydown:!1}}),
Fr(Kr,R.kg4.TOGGLE_OVERLAY_INPUT_LOCK,{onTrigger:function(e){var t=(0,Hr.Z)();null!=t&&(e?Nr.Z.setUILocked(!Br.Z.isUILocked(t),t):Nr.Z.setInputLocked(!Gr.Z.isInputLocked(t),t))},keyEvents:{keyup:!0,keydown:!0}}),Fr(Kr,R.kg4.OVERLAY_ACTIVATE_REGION_TEXT_WIDGET,{onTrigger:function(){var e=Gr.Z.getFocusedPID();null!=e&&(null!=e||!1)&&Br.Z.isPinned(R.Odu.TEXT)&&Gr.Z.isReady(e)&&Gr.Z.isInputLocked(e)&&Nr.Z.activateRegion(R.O0n.TEXT_WIDGET)},keyEvents:{keyup:!0,keydown:!1}}),Fr(Kr,R.kg4.TOGGLE_GO_LIVE_STREAMING,{onTrigger:function(){var e=xr.Z.getCurrentUserActiveStream();if(null!=e)return(0,Cr.g)((0,jr.V9)(e));!function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!(0,wr.Z)(We.Z))return!1;if(null!=xr.Z.getCurrentUserActiveStream())return!1;var t=(0,Zr.Z)(Ke.ZP,Rr.Z);if(null==t)return!1;if(t.isLauncher&&!e)return!1;var n=C.Z.getVoiceChannelId(),r=I.Z.getChannel(n);if(null==r)return!1;var o=r.getGuildId();if(!(0,Mr.JL)(r,Ut.Z,hn.Z,!1))return!1;(0,Cr.WH)(o,r.id,{
pid:t.pid})}()},keyEvents:{keyup:!0,keydown:!1}}),Fr(Kr,R.kg4.TOGGLE_STREAMER_MODE,{onTrigger:function(){Ar.Z.setEnabled(!kr.Z.enabled)},keyEvents:{keyup:!0,keydown:!1}}),Fr(Kr,R.kg4.NAVIGATE_BACK,{onTrigger:function(){return(0,q.op)()},keyEvents:{keyup:!0,keydown:!1,focused:!0,blurred:!1}}),Fr(Kr,R.kg4.NAVIGATE_FORWARD,{onTrigger:function(){return(0,q.eH)()},keyEvents:{keyup:!0,keydown:!1,focused:!0,blurred:!1}}),Fr(Kr,R.kg4.SOUNDBOARD,{onTrigger:function(){if(Qr()){var e=(0,Hr.Z)();null!=e&&(Br.Z.isUILocked(e)?(0,Ur.IN)(!0,e):(0,Ur.oZ)(e))}},keyEvents:{keyup:!0,keydown:!1}}),Fr(Kr,R.kg4.SOUNDBOARD_HOLD,{onTrigger:function(e){if(Qr()){var t=(0,Hr.Z)();null==t||(e?(0,Ur.IN)(!1,t):(0,Ur.oZ)(t))}},keyEvents:{keyup:!0,keydown:!0}}),Fr(Kr,R.kg4.SAVE_CLIP,{onTrigger:function(){(0,Pr.C1)()},keyEvents:{keyup:!1,keydown:!0}}),Kr),Jr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function")
;e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Wr(e,t)}(n,e);var t=Xr(n);function n(){Vr(this,n);return t.apply(this,arguments)}var r=n.prototype;r._initialize=function(){g.Z.wait((function(){return g.Z.dispatch({type:"KEYBINDS_REGISTER_GLOBAL_KEYBIND_ACTIONS",keybinds:$r})}))};r._terminate=function(){};r.__getLocalVars=function(){return{KEYBINDS:$r}};return n}(v.Z);const eo=new Jr;var to=n(125315);const no=function(){g.Z.dispatch({type:"MOBILE_WEB_SIDEBAR_CLOSE"})},ro=function(){g.Z.dispatch({type:"MOBILE_WEB_SIDEBAR_OPEN"})};var oo=n(606076);function io(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ao(e){ao=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return ao(e)}function so(e,t){return!t||"object"!==co(t)&&"function"!=typeof t?function(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function lo(e,t){lo=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return lo(e,t)}var co=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function uo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=ao(e);if(t){var o=ao(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return so(this,n)}}var fo=!1;var po=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&lo(e,t)}(n,e)
;var t=uo(n);function n(){io(this,n);return t.apply(this,arguments)}var r=n.prototype;r.getIsOpen=function(){return!oo.tq||fo};r.__getLocalVars=function(){return{isSidebarOpen:fo}};return n}(s.ZP.Store);po.displayName="MobileWebSidebarStore";const ho=new po(g.Z,{MOBILE_WEB_SIDEBAR_OPEN:function(){fo=!0},MOBILE_WEB_SIDEBAR_CLOSE:function(){fo=!1}});var Eo=n(677523),yo=n(346529),mo=new Date("06/16/2020");var bo=n(767870),go=n(426859),Oo=n(162917),vo=n(700982),_o=n(94181),Io=n(152666),So=n(90816),To=n(639472),No=n(714392),Co=n(358188),Ao=n(32733),Po=n(111775);function jo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xo(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function Ro(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){xo(i,r,o,a,s,"next",e)}function s(e){xo(i,r,o,a,s,"throw",e)}a(void 0)}))}}
function Mo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wo(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Zo(e){Zo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Zo(e)}function Lo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){wo(e,t,n[t])}))}return e}function Do(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})))
;n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Uo(e,t){return!t||"object"!==Bo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ko(e,t){ko=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return ko(e,t)}function Go(e){return function(e){if(Array.isArray(e))return jo(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return jo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jo(e,t)}(e)||function(){
throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Bo=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Ho(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Zo(e);if(t){var o=Zo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Uo(this,n)}}var Vo,Fo=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){
if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function Yo(){null!=Vo&&(0,Y.Mr)(Vo)}var zo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function")
;e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&ko(e,t)}(o,e);var t=Ho(o);function o(){Mo(this,o);return t.apply(this,arguments)}var i=o.prototype;i._initialize=function(){g.Z.subscribe("CONNECTION_OPEN",this.handleConnectionOpen);g.Z.subscribe("LOGOUT",Yo)};i._terminate=function(){g.Z.unsubscribe("CONNECTION_OPEN",this.handleConnectionOpen);g.Z.unsubscribe("LOGOUT",Yo)};i.handleConnectionOpen=function(){var e=To.Z.getType();if(null!=e){switch(e){case No.M5.INVITE_UNCLAIMED:Oo.Z.flowStart(Po.MK.INVITE,Po.EW.NUF_STARTED);break;case No.M5.ORGANIC_REGISTERED:Oo.Z.flowStart(Po.MK.ORGANIC,Po.EW.NUF_STARTED);break;case No.M5.MARKETING_UNCLAIMED:Oo.Z.flowStart(Po.MK.ORGANIC_MARKETING,Po.EW.NUF_STARTED)}var t=!1,o=A.Z.getGuildId();if(e===No.M5.INVITE_UNCLAIMED){var i=Ut.Z.getGuild(o);if(null==i?void 0:i.hasVerificationGate()){t=!0;(0,vo.RM)(i.id)}}var a,s=function(){return 0===Io.Z.totalGuilds&&!kt.FB
},l=null!=(a=F.default.getCurrentUser())&&yo.Z.extractTimestamp(a.id)>mo.getTime()&&!a.isClaimed()&&null==a.nsfwAllowed;!function(e){var t=function(){Eo.H();Oo.Z.flowStep(Po.MK.ANY,Po.EW.NUF_COMPLETE,!0)};Go(e).reverse().forEach((function(e){var n=t;t=function(){e.predicate()?e.open(n):n()}}));t()}([{key:"Unified NUF Modal",open:function(e){return c.apply(this,arguments)},predicate:function(){return s()&&!Ao.a}},{key:"New User Age Gate",open:bo.i,predicate:function(){return l&&!s()&&!Ao.a}},{key:"Claim Account Modal",open:function(e){return bo.j(kt.FB,e)},predicate:function(){var e;return!t&&null!=F.default.getCurrentUser()&&!(null===(e=F.default.getCurrentUser())||void 0===e?void 0:e.isClaimed())&&!Ao.a}},{key:"Verification Gate with Claim Account",open:function(e){return(0,go.hk)(o,null!=e?e:void 0)},predicate:function(){var e;return t&&!(null===(e=F.default.getCurrentUser())||void 0===e?void 0:e.isClaimed())&&!Ao.a}},{key:"Guild Welcome Modal",open:function(e){return(0,
Y.ZD)(Ro((function(){var e,t;return Fo(this,(function(i){switch(i.label){case 0:return[4,n.e(73214).then(n.bind(n,873214))];case 1:e=i.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Do(Lo({},e),{guildId:o}))}]}}))})),{onCloseCallback:e})},predicate:function(){return null!=o&&null!=_o.Z.get(o)&&_o.Z.get(o)!==_o.a}}])}function c(){c=Ro((function(e){var t;return Fo(this,(function(o){switch(o.label){case 0:t=function(e){switch(e){case Co.F.AGE_GATE:Oo.Z.flowStep(Po.MK.ANY,Po.EW.AGE_GATE);break;case Co.F.CHOOSE_TEMPLATE:Oo.Z.flowStep(Po.MK.ANY,Po.X2.GUILD_TEMPLATES);break;case Co.F.CUSTOMIZE_GUILD:Oo.Z.flowStep(Po.MK.ANY,Po.X2.GUILD_CREATE);break;case Co.F.CHANNEL_PROMPT:Oo.Z.flowStep(Po.MK.ANY,Po.X2.CHANNEL_PROMPT);break;case Co.F.JOIN_GUILD:Oo.Z.flowStep(Po.MK.ANY,Po.X2.JOIN_GUILD);break;case Co.F.CREATION_INTENT:Oo.Z.flowStep(Po.MK.ANY,Po.X2.CREATION_INTENT);break;case Co.F.COMPLETE:Oo.Z.flowStep(Po.MK.ANY,Po.X2.SUCCESS);break;case null:break;default:So.vE(e)}};return[4,(0,
Y.ZD)(Ro((function(){var e,o;return Fo(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(18734),n.e(25530),n.e(64)]).then(n.bind(n,64))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,Do(Lo({},e),{onSlideChange:t}))}]}}))})),{onCloseRequest:R.dG4,onCloseCallback:e,modalKey:Vo})];case 1:Vo=o.sent();return[2]}}))}));return c.apply(this,arguments)}};i.__getLocalVars=function(){return{nufModalKey:Vo}};return o}(v.Z);const Wo=new zo;var Ko=n(542270),qo=n(667519),Xo=n(750029),Qo=n(114193),$o=n(959154);function Jo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ei(e){ei=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return ei(e)}function ti(e,t){return!t||"object"!==ri(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ni(e,t){
ni=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return ni(e,t)}var ri=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function oi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=ei(e);if(t){var o=ei(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ti(this,n)}}var ii=new Set,ai=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&ni(e,t)}(n,e);var t=oi(n);function n(){Jo(this,n);var e;(e=t.apply(this,arguments)).handleSettingsUpdate=function(e){var t=e.settings
;t.enabled?(0,Ko.T)(Xo.hn.ENABLE_POGGERMODE):!1===t.enabled&&(0,Ko.T)(Xo.hn.DISABLE_POGGERMODE);Object.keys(t).some((function(e){return e.startsWith("confetti")}))&&(0,Ko.T)(Xo.hn.CUSTOMIZE_CONFETTI)};e.handleMessageCreate=function(e){var t=e.channelId,n=e.message,r=n.author,o=n.nonce,i=n.mentions;if(!Qo.Z.isEnabled())return!1;var a=tr.default.getId();null!=(null==i?void 0:i.find((function(e){return e.id===a})))?(0,Ko.T)(Xo.hn.PING_ME):i.length>0&&(null==r?void 0:r.id)===a&&(0,Ko.T)(Xo.hn.PING_SOMEONE);if(!(0,$o.wU)(r.id,a,o,ii))return!1;var s=$o.ZP.getMostRecentMessageCombo(t),l=(null!=s?s:{}).combo;if(null==l)return!1;Object.values(Xo.hn).forEach((function(e){var t=e;if(null==qo.Z.getUnlocked(t)){var n=(0,Xo.oX)(t),r=null==n?void 0:n.checkUnlock;null!=r&&!1!==r(l)&&(0,Ko.T)(t)}}))};return e}var r=n.prototype;r._initialize=function(){g.Z.subscribe("MESSAGE_CREATE",this.handleMessageCreate);g.Z.subscribe("POGGERMODE_SETTINGS_UPDATE",this.handleSettingsUpdate)};r._terminate=function(){
g.Z.unsubscribe("MESSAGE_CREATE",this.handleMessageCreate);g.Z.unsubscribe("POGGERMODE_SETTINGS_UPDATE",this.handleSettingsUpdate)};r.__getLocalVars=function(){return{trackedMessageNonces:ii}};return n}(v.Z);const si=new ai;var li=n(476395);function ci(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function ui(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ci(i,r,o,a,s,"next",e)}function s(e){ci(i,r,o,a,s,"throw",e)}a(void 0)}))}}function fi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function di(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function pi(e){pi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return pi(e)}function hi(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Ei(e,t){return!t||"object"!==mi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function yi(e,t){yi=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return yi(e,t)}var mi=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function bi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{
Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=pi(e);if(t){var o=pi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ei(this,n)}}var gi=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0
;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Oi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&yi(e,t)}(o,e);var t=bi(o);function o(){fi(this,o);return t.apply(this,arguments)}var i=o.prototype;i._initialize=function(){g.Z.subscribe("POGGERMODE_TEMPORARILY_DISABLED",this.handlePoggermodeTemporarilyDisabled)};i._terminate=function(){g.Z.unsubscribe("POGGERMODE_TEMPORARILY_DISABLED",this.handlePoggermodeTemporarilyDisabled)};i.handlePoggermodeTemporarilyDisabled=function(){(0,Y.ZD)(ui((function(){var e,t
;return gi(this,(function(o){switch(o.label){case 0:return[4,Promise.resolve().then(n.bind(n,30741))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,hi(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){di(e,t,n[t])}))}return e}({},e),{header:J.Z.Messages.POGGERMODE_TEMPORARILY_DISABLED_TOAST_TITLE,confirmText:J.Z.Messages.CONFIRM,confirmButtonColor:K.zx.Colors.GREEN,children:(0,r.jsx)(K.xv,{variant:"text-md/normal",children:J.Z.Messages.POGGERMODE_TEMPORARILY_DISABLED_TOAST_BODY})}))}]}}))})))};i.__getLocalVars=function(){return{}};return o}(v.Z);const vi=new Oi;var _i=n(200056),Ii=n(280195);n(175935);function Si(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ti(e){
Ti=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Ti(e)}function Ni(e,t){return!t||"object"!==Ai(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ci(e,t){Ci=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Ci(e,t)}var Ai=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Pi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Ti(e);if(t){var o=Ti(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ni(this,n)}}var ji=(0,_i.Un)({createPromise:function(){
return n.e(41446).then(n.bind(n,589860))},webpackId:589860,name:"PopoutWindowChannelCall"}),xi=(0,_i.Un)({createPromise:function(){return n.e(38634).then(n.bind(n,747501))},webpackId:747501,name:"PopoutWindowStageChannelCall"}),Ri=(0,_i.Un)({createPromise:function(){return n.e(41446).then(n.bind(n,197295))},webpackId:197295,name:"PopoutWindowRTCDebug"}),Mi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Ci(e,t)}(n,e);var t=Pi(n);function n(){Si(this,n);return t.apply(this,arguments)}var o=n.prototype;o._initialize=function(){g.Z.subscribe("CHANNEL_CALL_POPOUT_WINDOW_OPEN",this.handleOpenChannelCallPopout);g.Z.subscribe("RTC_DEBUG_POPOUT_WINDOW_OPEN",this.handleOpenRTCDebugPopout)};o._terminate=function(){g.Z.unsubscribe("CHANNEL_CALL_POPOUT_WINDOW_OPEN",this.handleOpenChannelCallPopout)
;g.Z.unsubscribe("RTC_DEBUG_POPOUT_WINDOW_OPEN",this.handleOpenRTCDebugPopout)};o.handleOpenChannelCallPopout=function(e){var t=e.channel;Ii.bA(R.KJ3.CHANNEL_CALL_POPOUT,(function(e){return t.isGuildStageVoice()?(0,r.jsx)(xi,{windowKey:e,channel:t}):(0,r.jsx)(ji,{windowKey:e,channel:t})}),{defaultWidth:854,defaultHeight:480})};o.handleOpenRTCDebugPopout=function(){Ii.bA(R.KJ3.RTC_DEBUG_POPOUT,(function(e){return(0,r.jsx)(Ri,{windowKey:e})}),{defaultWidth:854,defaultHeight:480})};o.__getLocalVars=function(){return{DEFAULT_POPOUT_WIDTH:854,DEFAULT_POPOUT_HEIGHT:480,PopoutWindowChannelCall:ji,PopoutWindowStageChannelCall:xi,PopoutWindowRTCDebug:Ri}};return n}(v.Z);const wi=new Mi;var Zi=n(738017),Li=n(380819);function Di(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ui(e){Ui=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Ui(e)}function ki(e,t){
return!t||"object"!==Bi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Gi(e,t){Gi=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Gi(e,t)}var Bi=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Hi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Ui(e);if(t){var o=Ui(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ki(this,n)}}var Vi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{
value:e,writable:!0,configurable:!0}});t&&Gi(e,t)}(n,e);var t=Hi(n);function n(){Di(this,n);var e;(e=t.apply(this,arguments)).handleMainWindowFocus=function(t){t.focused&&e.injectWindowAnimationFrame(window)};e.handlePopoutWindowChange=function(){var t=_.Z.getWindowKeys().find((function(e){return _.Z.getWindowFocused(e)}));if(null==t)return e.injectWindowAnimationFrame(window);var n=_.Z.getWindow(t);if(null==n||n.closed)return e.injectWindowAnimationFrame(window);e.injectWindowAnimationFrame(n)};return e}var r=n.prototype;r._initialize=function(){_.Z.addChangeListener(this.handlePopoutWindowChange);g.Z.subscribe("WINDOW_FOCUS",this.handleMainWindowFocus)};r._terminate=function(){_.Z.removeChangeListener(this.handlePopoutWindowChange);g.Z.unsubscribe("WINDOW_FOCUS",this.handleMainWindowFocus);this.injectWindowAnimationFrame(window)};r.injectWindowAnimationFrame=function(e){var t=function(t){return e.requestAnimationFrame(t)},n=function(t){return e.cancelAnimationFrame(t)}
;Zi.Z.inject.RequestAnimationFrame(t);Zi.Z.inject.CancelAnimationFrame(n);Li.f.setRAF(t,n)};r.__getLocalVars=function(){return{}};return n}(v.Z);const Fi=new Vi;var Yi=n(737325),zi=n(11197),Wi=n(720897),Ki=n(339678),qi=n(74030),Xi=n(314154),Qi=n(737202),$i=n(68476),Ji=n(298716);function ea(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ta(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function na(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ta(i,r,o,a,s,"next",e)}function s(e){ta(i,r,o,a,s,"throw",e)}a(void 0)}))}}function ra(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oa(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ia(e){
ia=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return ia(e)}function aa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){oa(e,t,n[t])}))}return e}function sa(e,t){return!t||"object"!==ca(t)&&"function"!=typeof t?ea(e):t}function la(e,t){la=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return la(e,t)}var ca=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function ua(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}()
;return function(){var n,r=ia(e);if(t){var o=ia(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return sa(this,n)}}var fa=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i
;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},da=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&la(e,t)}(o,e);var t=ua(o);function o(){ra(this,o);var e,i=ea(e=t.apply(this,arguments));e.mayShowAnnouncementModal=na((function(){var e,t,o,a,s,l,c,u;return fa(this,(function(f){switch(f.label){case 0:if(Xi.s.isDisallowPopupsSet())return[2];e=(0,dn.un)(fn.z$.BLACK_FRIDAY_2022_BOGO_ANNOUNCEMENT_MODAL);t=F.default.getCurrentUser();o=!(null==t?void 0:t.isClaimed());a=(0,qi.I5)(t);s=null!=To.Z.getType();return(l=!(o||s||(0,Y.$s)()||e||a))?[4,i._mayFetchEligiblityData()]:[3,2];case 1:l=f.sent();f.label=2;case 2:if(l){
c=Wi.Z.getMostRecentPremiumTypeSubscription();u=Wi.Z.getPremiumSubscription(!1);(0,$i.T)({experimentEnabled:(0,Qi.VM)(),premiumSubscription:u,mostRecentSubscription:c})&&(0,Y.ZD)(na((function(){var e,t;return fa(this,(function(o){switch(o.label){case 0:return[4,n.e(49455).then(n.bind(n,949455))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,aa({},e))}]}}))})))}return[2]}}))}));e._mayFetchEligiblityData=na((function(){var e;return fa(this,(function(t){switch(t.label){case 0:t.trys.push([0,5,,6]);return Ki.Z.shouldFetchOffer()?[4,(0,zi.C)()]:[3,2];case 1:t.sent();t.label=2;case 2:return Ki.Z.hasFetchedOffer()&&Ki.Z.hasAnyUnexpiredOffer()?[2,!1]:Wi.Z.hasFetchedMostRecentPremiumTypeSubscription()||!(null===(e=F.default.getCurrentUser())||void 0===e?void 0:e.hasHadSKU(Ji.Si.TIER_2))?[3,4]:[4,(0,Yi.ou)()];case 3:t.sent();t.label=4;case 4:return[2,!0];case 5:t.sent();return[2,!1];case 6:return[2]}}))}));return e}var i=o.prototype;i._initialize=function(){
g.Z.subscribe("CONNECTION_OPEN",this.mayShowAnnouncementModal)};i._terminate=function(){g.Z.unsubscribe("CONNECTION_OPEN",this.mayShowAnnouncementModal)};i.__getLocalVars=function(){return{}};return o}(v.Z);const pa=new da;var ha=n(245556),Ea=n(174034),ya="october_upsell_queue_last_shown",ma=new Set([fn.z$.PROFILE_THEMES_FEATURE_EDUCATION_TOOLTIP,fn.z$.ACTIVITIES_NITRO_TUTORIAL_COACH_MARK_V2,fn.z$.PREMIUM_TIER_0_DESKTOP_ANNOUNCEMENT_MODAL,fn.z$.HALLOWEEN_2022_ACTIVITIES_COACH_MARK,fn.z$.APP_DIRECTORY_UPSELL_MODAL,fn.z$.BASH_OUT_COACH_MARK]);function ba(e,t){if(!t)return!1;if((0,dn.un)(e))return!1;if(!ma.has(e))throw new Error("Unexpected upsell type, add new type or use standard DismissibleContent instead");var n=Se.Z.get(ya);if(null!=n&&n.type!==e&&Date.now()-n.timestamp<18e5)return!1;null!=n&&n.type===e||Se.Z.set(ya,{type:e,timestamp:Date.now()});return!0}var ga=n(916957),Oa=n(916061),va=n(164023);function _a(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}
s.done?t(l):Promise.resolve(l).then(r,o)}function Ia(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){_a(i,r,o,a,s,"next",e)}function s(e){_a(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Sa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ta(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Na(e){Na=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Na(e)}function Ca(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Ta(e,t,n[t])}))}return e}function Aa(e,t){return!t||"object"!==ja(t)&&"function"!=typeof t?function(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Pa(e,t){Pa=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Pa(e,t)}var ja=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function xa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Na(e);if(t){var o=Na(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Aa(this,n)}}var Ra=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){
return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Ma=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{
constructor:{value:e,writable:!0,configurable:!0}});t&&Pa(e,t)}(o,e);var t=xa(o);function o(){Sa(this,o);var e;(e=t.apply(this,arguments)).handleConnectionOpen=function(){if((0,kt.nI)()||(0,kt.$L)()){var t=!!e.isEligibleForAnnouncementModal(),n=Oa.L.getCurrentConfig({},{autoTrackExposure:t}).enableTier0,r=t&&n;((0,va.SI)()||r)&&(ga.Z.isLoadedForPremiumSKUs()&&ga.Z.isFetchingForPremiumSKUs()||(0,Ea.Y2)());r&&e.showAnnouncementModal()}};e.hasDismissedAnnouncement=function(){var e,t=null===(e=ft.Z.settings.userContent)||void 0===e?void 0:e.premiumTier0ModalDismissedAt;return(0,dn.un)(fn.z$.PREMIUM_TIER_0_DESKTOP_MARKETING_PAGE_BADGE)||(0,dn.un)(fn.z$.PREMIUM_TIER_0_DESKTOP_MARKETING_PAGE_SETTINGS_BADGE)||null!=t};e.isEligibleForAnnouncementModal=function(){var t=F.default.getCurrentUser(),n=!!(0,va.C)(t)&&!e.hasDismissedAnnouncement();return ba(fn.z$.PREMIUM_TIER_0_DESKTOP_ANNOUNCEMENT_MODAL,n)};e.showAnnouncementModal=function(){(0,Y.ZD)(Ia((function(){var e,t
;return Ra(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(62315)]).then(n.bind(n,262315))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Ca({},e))}]}}))})))};return e}var i=o.prototype;i._initialize=function(){g.Z.subscribe("CONNECTION_OPEN",this.handleConnectionOpen)};i._terminate=function(){g.Z.unsubscribe("CONNECTION_OPEN",this.handleConnectionOpen)};i.__getLocalVars=function(){return{}};return o}(v.Z);const wa=new Ma;var Za=n(395951),La=n(874058),Da=n(928676),Ua=n(476154);function ka(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function Ga(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ka(i,r,o,a,s,"next",e)}function s(e){ka(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Ba(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ha(e,t,n){t in e?Object.defineProperty(e,t,{
value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Va(e){Va=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Va(e)}function Fa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Ha(e,t,n[t])}))}return e}function Ya(e,t){return!t||"object"!==Wa(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function za(e,t){za=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return za(e,t)}var Wa=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Ka(e){var t=function(){
if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Va(e);if(t){var o=Va(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ya(this,n)}}var qa=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0]
;continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Xa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&za(e,t)}(o,e);var t=Ka(o);function o(){Ba(this,o);return t.apply(this,arguments)}var i=o.prototype;i._initialize=function(){g.Z.subscribe("PROFILE_CUSTOMIZATION_OPEN_PREVIEW_MODAL",this.maybeOpenProfilePreviewModal)};i._terminate=function(){
g.Z.unsubscribe("PROFILE_CUSTOMIZATION_OPEN_PREVIEW_MODAL",this.maybeOpenProfilePreviewModal)};i.maybeOpenProfilePreviewModal=function(e){var t=e.imageSrc,o=e.file,i=e.uploadType,a=e.guildId,s=e.isTryItOutFlow,l=null!=a?La.I5:Za.I5,c=null!=a?La.g_:Da.g_,u=F.default.getCurrentUser();if(i===Ua.pC.AVATAR){if(s){(0,Da.c_)(t);return}if(qi.ZP.canUseAnimatedAvatar(u)||"image/gif"!==o.type){l(t);return}(0,Y.ZD)(Ga((function(){var e,o;return qa(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(12842)]).then(n.bind(n,812842))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,Fa({avatarSrc:t,onSubscribe:function(){return l(t)}},e))}]}}))})))}else if(i===Ua.pC.BANNER||i===Ua.pC.BANNER_V2){if(s){(0,Da.f4)(t);return}if(qi.ZP.canUsePremiumProfileCustomization(u)){c(t);return}(0,Y.ZD)(Ga((function(){var e,o;return qa(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(12842)]).then(n.bind(n,812842))];case 1:e=i.sent(),
o=e.default;return[2,function(e){return(0,r.jsx)(o,Fa({bannerSrc:t,onSubscribe:function(){return c(t)}},e))}]}}))})))}};i.__getLocalVars=function(){return{}};return o}(v.Z);const Qa=new Xa;var $a,Ja,es=n(602589),ts=n(779724),ns=n(132634),rs=n(496486),os=n.n(rs);!function(e){e[e.UNHANDLED=-1]="UNHANDLED";e[e.NOMINAL=0]="NOMINAL";e[e.FAIR=1]="FAIR";e[e.SERIOUS=2]="SERIOUS";e[e.CRITICAL=3]="CRITICAL"}($a||($a={}));!function(e){e[e.NONE=0]="NONE";e[e.LIGHT=1]="LIGHT";e[e.MODERATE=2]="MODERATE";e[e.SEVERE=3]="SEVERE";e[e.CRITICAL=4]="CRITICAL";e[e.EMERGENCY=5]="EMERGENCY";e[e.SHUTDOWN=6]="SHUTDOWN"}(Ja||(Ja={}));function is(e){if((0,kt.gn)())return e;if(!(0,kt.Dt)())return $a.UNHANDLED;switch(e){case Ja.NONE:return $a.NOMINAL;case Ja.LIGHT:case Ja.MODERATE:return $a.FAIR;case Ja.SEVERE:return $a.SERIOUS;case Ja.CRITICAL:case Ja.EMERGENCY:case Ja.SHUTDOWN:return $a.CRITICAL;default:return $a.UNHANDLED}}
var as=n(212218),ss=n(403872),ls=n(945505),cs=n(962564),us=n(105405),fs=n(630206),ds=n(894272),ps=n(438022),hs=n(488839);function Es(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ys(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Es(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Es(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ms=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);this.rpcServer=t.server;this.transports=t.transports;this.rpcCommandHandlers=t.commands;this.rpcEventHandlers=t.events;this.stores=t.stores;this.registerTransportsForEmbeddedPlatform=t.registerTransportsForEmbeddedPlatform}var t=e.prototype;t.loadServer=function(){kt.FB&&this.registerTransportsForEmbeddedPlatform();var e=!0,t=!1,n=void 0;try{for(var r,o=this.transports[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var i=r.value;this.rpcServer.registerTransport(i)}}catch(e){t=!0;n=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}var a=this.rpcCommandHandlers,s=!0,l=!1,c=void 0;try{for(var u,f=Object.entries(a)[Symbol.iterator]();!(s=(u=f.next()).done);s=!0){
var d=ys(u.value,2),p=d[0],h=d[1];this.rpcServer.setCommandHandler(p,h)}}catch(e){l=!0;c=e}finally{try{s||null==f.return||f.return()}finally{if(l)throw c}}var E=this.rpcEventHandlers,y=!0,m=!1,b=void 0;try{for(var g,O=Object.entries(E)[Symbol.iterator]();!(y=(g=O.next()).done);y=!0){var v=ys(g.value,2),_=v[0],I=v[1];this.rpcServer.setEventHandler(_,I)}}catch(e){m=!0;b=e}finally{try{y||null==O.return||O.return()}finally{if(m)throw b}}};t.init=function(){var e=this;this.rpcServer.getCurrentUser=function(){return F.default.getCurrentUser()};this.rpcServer.onConnect=function(e){g.Z.dispatch({type:"RPC_APP_CONNECTED",socketId:e.id,application:e.application});Te.default.track(R.rMx.AUTHORIZED_APP_CONNECTED,{app_id:e.application.id,transport:e.transport})};this.rpcServer.onDisconnect=function(e,t){g.Z.dispatch({type:"RPC_APP_DISCONNECTED",socketId:e.id,application:e.application,reason:t})};var t=[I.Z,as.ZP,cs.Z,P.Z,We.Z,N.Z];new s.Fh(t.concat(this.stores),(function(){
return e.rpcServer.updateSubscriptions()})).attach("RPCServerManager");g.Z.subscribe("MESSAGE_CREATE",(function(t){return e.handleMessage(t)}));g.Z.subscribe("MESSAGE_UPDATE",(function(t){return e.handleMessage(t)}));g.Z.subscribe("MESSAGE_DELETE",(function(t){return e.handleMessage(t)}));g.Z.subscribe("SPEAKING",(function(t){return e.handleSpeaking(t)}));g.Z.subscribe("OAUTH2_TOKEN_REVOKE",(function(t){return e.handleOAuth2TokenRevoke(t)}));g.Z.subscribe("GUILD_CREATE",(function(t){return e.handleGuildCreate(t)}));g.Z.subscribe("CHANNEL_CREATE",(function(t){return e.handleChannelCreate(t)}));g.Z.subscribe("LOGOUT",(function(){return e.handleLogout()}));g.Z.subscribe("VOICE_CHANNEL_SELECT",(function(t){return e.handleVoiceChannelSelect(t)}));g.Z.subscribe("RPC_NOTIFICATION_CREATE",(function(t){return e.handleNotificationCreate(t)}));g.Z.subscribe("ACTIVITY_JOIN",(function(t){return e.handleActivityJoin(t)}));g.Z.subscribe("ACTIVITY_PIP_MODE_UPDATE",(function(t){
return e.handleActivityPIPModeUpdate(t)}));g.Z.subscribe("THERMAL_STATE_CHANGE",(function(t){return e.handleThermalStateChange(t)}));g.Z.subscribe("ACTIVITY_SCREEN_ORIENTATION_UPDATE",(function(t){return e.handleScreenOrientationUpdate(t)}));g.Z.subscribe("RELATIONSHIP_ADD",(function(t){return e.handleRelationshipAdd(t)}));g.Z.subscribe("RELATIONSHIP_REMOVE",(function(t){return e.handleRelationshipRemove(t)}));g.Z.subscribe("PRESENCE_UPDATES",(function(t){return e.handlePresenceUpdate(t)}));g.Z.subscribe("PRESENCES_REPLACE",(function(){return e.handlePresencesReplace()}));g.Z.subscribe("LOBBY_UPDATE",(function(t){return e.handleLobbyUpdate(t)}));g.Z.subscribe("LOBBY_DELETE",(function(t){return e.handleLobbyDelete(t)}));g.Z.subscribe("LOBBY_MEMBER_CONNECT",(function(t){return e.handleLobbyMemberConnect(t)}));g.Z.subscribe("LOBBY_MEMBER_UPDATE",(function(t){return e.handleLobbyMemberUpdate(t)}));g.Z.subscribe("LOBBY_MEMBER_DISCONNECT",(function(t){return e.handleLobbyMemberDisconnect(t)
}));g.Z.subscribe("LOBBY_MESSAGE",(function(t){return e.handleLobbyMessage(t)}));g.Z.subscribe("ENTITLEMENT_CREATE",(function(t){return e.handleEntitlementCreate(t)}));g.Z.subscribe("ENTITLEMENT_DELETE",(function(t){return e.handleEntitlementDelete(t)}));g.Z.subscribe("USER_ACHIEVEMENT_UPDATE",(function(t){return e.handleUserAchievementUpdate(t)}))};t.handleMessage=function(e){if(0!==this.rpcServer.subscriptions.length){"MESSAGE_CREATE"===e.type&&this.handleActivityMessage(e);var t,n,r,o=null;switch(e.type){case"MESSAGE_CREATE":if("SENDING"===e.message.state)return;t=R.zMe.MESSAGE_CREATE;n=e.channelId;r=e.message;o="".concat(t).concat(e.message.id);break;case"MESSAGE_UPDATE":t=R.zMe.MESSAGE_UPDATE;n=e.message.channel_id;r=e.message;break;case"MESSAGE_DELETE":t=R.zMe.MESSAGE_DELETE;n=e.channelId;r={id:e.id};o="".concat(t).concat(e.id);break;default:return(0,So.vE)(e)}null!=n&&this.rpcServer.dispatchToSubscriptions(t,{channel_id:n},{channel_id:n,message:(0,ds.Xb)(r)},o)}}
;t.handleSpeaking=function(e){var t=this;if(0!==this.rpcServer.subscriptions.length){var n=0!==e.speakingFlags?R.zMe.SPEAKING_START:R.zMe.SPEAKING_STOP;if(e.context===Xe.Yn.DEFAULT){var r=C.Z.getVoiceChannelId();if(null!=r){var o=I.Z.getChannel(r);if(null==o)return;var i=P.Z.getVoiceState(o.getGuildId(),e.userId);if(null==i)return;this.rpcServer.dispatchToSubscriptions(n,{channel_id:i.channelId},{channel_id:i.channelId,user_id:e.userId})}}else ls.Z.getLobbyIdsForUser(e.userId).forEach((function(r){var o=ss.Z.getLobby(r);null!=o&&o.application_id===e.context&&t.rpcServer.dispatchToSubscriptions(n,{},{lobby_id:r,user_id:e.userId})}))}};t.handleVoiceChannelSelect=function(e){var t=e.guildId,n=e.channelId;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(R.zMe.VOICE_CHANNEL_SELECT,{},{channel_id:n,guild_id:t})};t.handleNotificationCreate=function(e){var t=e.channelId,n=e.message,r=e.icon,o=e.title,i=e.body
;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(R.zMe.NOTIFICATION_CREATE,{},{channel_id:t,message:(0,ds.Xb)(n),icon_url:null!=r?(0,ds.RE)(r):null,title:o,body:i})};t.handleActivityJoin=function(e){var t=e.applicationId,n=e.secret,r=e.intent,o=e.embedded;if(0!==this.rpcServer.subscriptions.length){var i={secret:n};o&&(i.intent=r);this.rpcServer.dispatchToSubscriptions(R.zMe.ACTIVITY_JOIN,(function(e){return e.socket.application.id===t}),i);this.rpcServer.dispatchToSubscriptions(R.zMe.GAME_JOIN,(function(e){return e.socket.application.id===t}),i)}};t.handleActivityPIPModeUpdate=function(e){var t=e.applicationId,n=e.isPIPMode;if(0!==this.rpcServer.subscriptions.length){var r={is_pip_mode:n};this.rpcServer.dispatchToSubscriptions(R.zMe.ACTIVITY_PIP_MODE_UPDATE,(function(e){return e.socket.application.id===t}),r)}};t.handleThermalStateChange=function(e){var t=e.applicationId,n=e.rawThermalState;if(0!==this.rpcServer.subscriptions.length&&null!=t){var r={
thermal_state:is(n)};this.rpcServer.dispatchToSubscriptions(R.zMe.THERMAL_STATE_UPDATE,(function(e){return e.socket.application.id===t}),r)}};t.handleScreenOrientationUpdate=function(e){var t=e.screenOrientation;if(0!==this.rpcServer.subscriptions.length){var n={screen_orientation:t,orientation:t===hs.W0.PORTRAIT?"portrait":"landscape"};this.rpcServer.dispatchToSubscriptions(R.zMe.ORIENTATION_UPDATE,{},n)}};t.handleActivityMessage=function(e){var t=e.channelId,n=e.message;if(0!==this.rpcServer.subscriptions.length){var r=n.application,o=n.activity;if(null!=r&&null!=o&&null!=o.party_id){var i=F.default.getUser(n.author.id);if(null!=i){var a=F.default.getCurrentUser();if(null!=a&&i.id!==a.id){var s=o.type===R.mFx.JOIN_REQUEST?cs.Z.getApplicationActivity(a.id,r.id):cs.Z.getApplicationActivity(i.id,r.id);if(null!=s&&null!=s.party&&s.party.id===o.party_id){var l=s.application_id;switch(o.type){case R.mFx.JOIN:this.rpcServer.dispatchToSubscriptions(R.zMe.ACTIVITY_INVITE,(function(e){
return e.socket.application.id===l}),{user:(0,ps.Z)(i),activity:s,type:o.type,channel_id:t,message_id:n.id});break;case R.mFx.JOIN_REQUEST:this.rpcServer.dispatchToSubscriptions(R.zMe.ACTIVITY_JOIN_REQUEST,(function(e){return e.socket.application.id===l}),{user:(0,ps.Z)(i)})}}}}}}};t.handleOAuth2TokenRevoke=function(e){var t=e.accessToken;this.rpcServer.sockets.forEach((function(e){e.authorization.accessToken===t&&e.close(R.$VG.TOKEN_REVOKED,"Token revoked")}))};t.handleGuildCreate=function(e){var t=e.guild.id,n=Ut.Z.getGuild(t);0!==this.rpcServer.subscriptions.length&&null!=n&&this.rpcServer.dispatchToSubscriptions(R.zMe.GUILD_CREATE,{},{id:t,name:n.name})};t.handleChannelCreate=function(e){var t=e.channel,n=t.id,r=t.name,o=t.type;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(R.zMe.CHANNEL_CREATE,{},{id:n,name:r,type:o})};t.handleLogout=function(){this.rpcServer.sockets.forEach((function(e){return e.close(R.$VG.CLOSE_NORMAL,"User logout")}))}
;t.handleRelationshipAdd=function(e){var t=e.relationship,n=t.id,r=t.type;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(R.zMe.RELATIONSHIP_UPDATE,{},(0,ds.cD)(r,n))};t.handleRelationshipRemove=function(e){var t=e.relationship.id;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(R.zMe.RELATIONSHIP_UPDATE,{},(0,ds.cD)(R.OGo.NONE,t))};t.handlePresenceUpdate=function(e){var t=e.updates,n=this;0!==this.rpcServer.subscriptions.length&&t.forEach((function(e){var t=e.guildId,r=e.user.id;if(null==t){var o=us.Z.getRelationshipType(r);o===R.OGo.NONE&&fs.Z.getUserAffinitiesUserIds().has(r)&&(o=R.OGo.IMPLICIT);o!==R.OGo.NONE&&n.rpcServer.dispatchToSubscriptions(R.zMe.RELATIONSHIP_UPDATE,{},(0,ds.cD)(o,r))}}))};t.handlePresencesReplace=function(){var e=this;0!==this.rpcServer.subscriptions.length&&os().forEach(us.Z.getRelationships(),(function(t,n){e.rpcServer.dispatchToSubscriptions(R.zMe.RELATIONSHIP_UPDATE,{},(0,ds.cD)(t,n))}))}
;t.handleLobbyUpdate=function(e){var t=e.lobby;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(R.zMe.LOBBY_UPDATE,{},t)};t.handleLobbyDelete=function(e){var t=e.lobbyId;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(R.zMe.LOBBY_DELETE,{},{id:t})};t.handleLobbyMemberConnect=function(e){var t=e.lobbyId,n=e.member;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(R.zMe.LOBBY_MEMBER_CONNECT,{},{lobby_id:t,member:n})};t.handleLobbyMemberUpdate=function(e){var t=e.lobbyId,n=e.member;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(R.zMe.LOBBY_MEMBER_UPDATE,{},{lobby_id:t,member:n})};t.handleLobbyMemberDisconnect=function(e){var t=e.lobbyId,n=e.member;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(R.zMe.LOBBY_MEMBER_DISCONNECT,{},{lobby_id:t,member:n})};t.handleLobbyMessage=function(e){var t=e.lobbyId,n=e.senderId,r=e.data
;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(R.zMe.LOBBY_MESSAGE,{},{lobby_id:t,sender_id:n,data:r})};t.handleEntitlementCreate=function(e){var t=e.entitlement;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(R.zMe.ENTITLEMENT_CREATE,(function(e){return e.socket.application.id===t.application_id}),{entitlement:t})};t.handleEntitlementDelete=function(e){var t=e.entitlement;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(R.zMe.ENTITLEMENT_DELETE,(function(e){return e.socket.application.id===t.application_id}),{entitlement:t})};t.handleUserAchievementUpdate=function(e){var t=e.userAchievement;if(0!==this.rpcServer.subscriptions.length){var n=t.application_id;this.rpcServer.dispatchToSubscriptions(R.zMe.USER_ACHIEVEMENT_UPDATE,(function(e){return e.socket.application.id===n}),{user_achievement:t})}};return e}(),bs=n(588641),gs=n(675860);const Os=function(e,t,n){var r=tr.default.getId()
;return gs.Z.put({url:R.ANM.USER_ACHIEVEMENTS_FOR_USER(r,e,t),body:{percent_complete:n},oldFormErrors:!0})},vs=function(e){return gs.Z.get({url:R.ANM.USER_ACHIEVEMENTS(e),retries:1,oldFormErrors:!0}).then((function(e){return e.body}))};var _s,Is=n(856640);function Ss(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}const Ts=(Ss(_s={},R.Etm.SET_USER_ACHIEVEMENT,{scope:Ss({},R.Gp_.ANY,[R.xVR.RPC,R.lHf]),validation:function(e){return e.object().required().keys({achievement_id:e.string().min(2).max(128),percent_complete:e.number().min(0).max(100).required()})},handler:function(e){var t=e.socket,n=e.args,r=n.achievement_id,o=n.percent_complete,i=t.application.id;if(null==i)throw new Is.Z(R.lTL.INVALID_COMMAND,"No application.");return Os(i,r,o).catch((function(e){var t=e.status,n=e.body;switch(t){case 429:throw new Is.Z(R.lTL.RATE_LIMITED,"You are being rate limited.");case 403:
throw null!=n&&n.code===R.evJ.USER_NOT_AUTHORIZED_FOR_APPLICATION?new Is.Z(R.lTL.UNAUTHORIZED_FOR_ACHIEVEMENT,"Not authorized to update this achievement."):new Is.Z(R.lTL.UNKNOWN_ERROR,"Unknown error from API. status=".concat(t,"."));default:throw new Is.Z(R.lTL.UNKNOWN_ERROR,"Unknown error from API. status=".concat(t,"."))}})).then((function(){return null}))}}),Ss(_s,R.Etm.GET_USER_ACHIEVEMENTS,{scope:Ss({},R.Gp_.ANY,[R.xVR.RPC,R.lHf]),handler:function(e){var t=e.socket.application.id;if(null==t)throw new Is.Z(R.lTL.INVALID_COMMAND,"No application.");return vs(t).then((function(e){return e||[]}))}}),_s);var Ns,Cs=n(485359),As=n(418674);function Ps(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function js(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
;t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}const xs=(Ps(Ns={},R.Etm.SEND_ANALYTICS_EVENT,{validation:function(e){return e.object().required().keys({event_name:e.string().required(),event_properties:e.object().required()})},handler:function(e){var t=e.socket,n=e.args,r=n.event_name,o=n.event_properties;(0,ds.bu)(t.transport);(0,ds._f)(t.application);var i=t.application.id,a=I.Z.getChannel(C.Z.getVoiceChannelId()),s=null==a?void 0:a.getGuildId();if(null==a||null==s)throw new Is.Z(R.lTL.INVALID_COMMAND,"Invalid channel");var l,c=Mn.Z.getGame(i);if(!(0,As.yE)(null!==(l=null==c?void 0:c.flags)&&void 0!==l?l:0,R.udG.EMBEDDED_FIRST_PARTY))throw new Is.Z(R.lTL.INVALID_COMMAND,"This application cannot access this API");Te.default.track(r,js(function(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Ps(e,t,n[t])}))}return e}({},o),{activity_application_id:i,activity_guild_id:s}))}}),Ps(Ns,R.Etm.GET_APPLICATION_TICKET,{scope:R.lHf,handler:function(e){var t=e.socket.application.id;if(null==t)throw new Is.Z(R.lTL.INVALID_COMMAND,"No application.");return gs.Z.post({url:R.ANM.APPLICATION_TICKET(t),body:{test_mode:$n.Z.inTestModeForApplication(t)||Cs.Z.inDevModeForApplication(t)},retries:3,oldFormErrors:!0}).then((function(e){return e.body}))}}),Ns);function Rs(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}const Ms=Rs({},R.Etm.SET_CERTIFIED_DEVICES,{scope:Rs({},R.Gp_.ANY,[R.xVR.RPC,R.lHf]),validation:function(e){return e.object().required().keys({
devices:e.array().items(e.object().keys({type:e.string().required().valid([Xe.h7.AUDIO_INPUT,Xe.h7.AUDIO_OUTPUT,Xe.h7.VIDEO_INPUT]),id:e.string().required().min(1),vendor:e.object().required().keys({name:e.string().min(1),url:e.string().min(1)}),model:e.object().required().keys({name:e.string().min(1),url:e.string().min(1)}),related:e.array().items(e.string().min(1)),echo_cancellation:e.boolean(),noise_suppression:e.boolean(),automatic_gain_control:e.boolean(),hardware_mute:e.boolean()}))})},handler:function(e){var t=e.socket,n=e.args.devices;if(null==t.application.id)throw new Is.Z(R.lTL.INVALID_COMMAND,"No application.");!function(e,t){g.Z.dispatch({type:"CERTIFIED_DEVICES_SET",applicationId:e,devices:t})}(t.application.id,n.map((function(e){return{type:e.type,id:e.id,vendor:e.vendor,model:e.model,related:e.related.filter((function(e){return n.some((function(t){return t.id===e}))})),echoCancellation:e.echo_cancellation,noiseSuppression:e.noise_suppression,
automaticGainControl:e.automatic_gain_control,hardwareMute:e.hardware_mute}})))}});var ws,Zs=n(53551),Ls=n(268333);function Ds(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Us(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ks(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function Gs(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value)
;if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ds(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ds(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const Bs=(Us(ws={},R.Etm.GET_CHANNEL,{scope:R.xVR.RPC,handler:function(e){var t=e.args.channel_id,n=e.socket,r=I.Z.getChannel(t);if(null==r)throw new Is.Z(R.lTL.INVALID_CHANNEL,"Invalid channel id: ".concat(t));return(0,ds.T5)(r,(0,ds.zM)(r,n.application.id,n.authorization.scopes))}}),Us(ws,R.Etm.GET_CHANNELS,{scope:R.xVR.RPC,handler:function(e){
var t=e.args.guild_id,n=os().values(I.Z.loadAllGuildAndPrivateChannelsFromDisk());if(t){var r=Ut.Z.getGuild(t);if(null==r)throw new Is.Z(R.lTL.INVALID_GUILD,"Invalid guild id: ".concat(t));n=n.filter((function(e){return e.guild_id===r.id}))}return{channels:n.filter((function(e){return hn.Z.can(R.Plq.VIEW_CHANNEL,e)})).map((function(e){return{id:e.id,name:e.name,type:e.type}}))}}}),Us(ws,R.Etm.SELECT_VOICE_CHANNEL,{scope:R.xVR.RPC,validation:function(e){return e.object().required().keys({channel_id:e.string().allow(null),timeout:e.number().min(0).max(60),force:e.boolean()})},handler:function(e){var t=e.server,n=e.socket,r=e.args,o=r.channel_id,i=r.timeout,a=void 0===i?0:i,s=r.force,l=void 0!==s&&s;if(!o){f.default.selectVoiceChannel(null);return null}var c=C.Z.getVoiceChannelId();if(null!=c&&c!==o&&!1===l)throw new Is.Z(R.lTL.SELECT_VOICE_FORCE_REQUIRED,"User is already joined to a voice channel.");return t.storeWait(n,(function(){return I.Z.getChannel(o)}),a).catch((function(){
throw new Is.Z(R.lTL.SELECT_CHANNEL_TIMED_OUT,"Request to select voice channel timed out.")})).then((function(e){if(null==e)throw new Is.Z(R.lTL.INVALID_CHANNEL,"Invalid channel id: ".concat(o));if(!(0,Zs.vd)(e.type))throw new Is.Z(R.lTL.INVALID_CHANNEL,"Channel is not a voice channel");return Promise.all([Promise.resolve(e),(0,ds.T5)(e,(0,ds.zM)(e,n.application.id,n.authorization.scopes))])})).then((function(e){var t=Gs(e,2),n=t[0],r=t[1];if(r.guild_id){if((0,Ls.rY)(n,P.Z,Ut.Z))throw new Is.Z(R.lTL.INVALID_CHANNEL,"Channel is full");if(!hn.Z.can(R.Plq.CONNECT,n))throw new Is.Z(R.lTL.INVALID_PERMISSIONS,"Connect permission required to join channel")}f.default.selectVoiceChannel(n.id);return r}))}}),Us(ws,R.Etm.GET_SELECTED_VOICE_CHANNEL,{scope:Us({},R.Gp_.ANY,[R.xVR.RPC,R.xVR.RPC_VOICE_READ]),handler:function(e){var t=e.socket,n=C.Z.getVoiceChannelId(),r=null!=n?I.Z.getChannel(n):null;return null!=r?(0,ds.T5)(r,(0,ds.zM)(r,t.application.id,t.authorization.scopes)):null}}),
Us(ws,R.Etm.SELECT_TEXT_CHANNEL,{scope:R.xVR.RPC,validation:function(e){return e.object().required().keys({channel_id:e.string().allow(null),timeout:e.number().min(0).max(60)})},handler:function(e){var t=e.server,n=e.socket,r=e.args,o=r.channel_id,i=r.timeout,a=void 0===i?0:i;if(!o){(0,q.uL)(R.Z5c.ME);return null}return t.storeWait(n,(function(){return I.Z.getChannel(o)}),a).catch((function(){throw new Is.Z(R.lTL.SELECT_CHANNEL_TIMED_OUT,"Request to select text channel timed out.")})).then((function(e){if(null==e)throw new Is.Z(R.lTL.INVALID_CHANNEL,"Invalid channel id: ".concat(o));if(!(0,Zs.Qm)(e.type))throw new Is.Z(R.lTL.INVALID_CHANNEL,"Channel is not a text channel");return Promise.all([Promise.resolve(e),(0,ds.T5)(e,(0,ds.zM)(e,n.application.id,n.authorization.scopes))])})).then((function(e){var t=Gs(e,2),n=t[0],r=t[1];if(r.guild_id&&!hn.Z.can(R.Plq.VIEW_CHANNEL,n))throw new Is.Z(R.lTL.INVALID_CHANNEL,"No permission to see channel");r.guild_id?(0,
q.dL)(R.Z5c.CHANNEL(r.guild_id,n.id)):f.default.selectPrivateChannel(n.id);return r}))}}),Us(ws,R.Etm.CREATE_CHANNEL_INVITE,{scope:R.xVR.RPC,handler:function(e){var t=e.args.channel_id,n=ks(e.args,["channel_id"]);return sr.Z.createInvite(t,n,"RPC").catch((function(){throw new Is.Z(R.lTL.INVALID_PERMISSIONS,"Unable to generate an invite for ".concat(t,". Does this user have permissions?"))}))}}),ws);const Hs=function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({},R.Etm.SET_CONFIG,{scope:R.wEG,validation:function(e){return e.object().required().keys({use_interactive_pip:e.boolean()})},handler:function(e){var t=e.socket,n=e.args.use_interactive_pip;if(t.transport!==R.Hej.POST_MESSAGE)throw new Is.Z(R.lTL.INVALID_COMMAND,'command not available from "'.concat(t.transport," transport"));if(null==t.application.id)throw new Is.Z(R.lTL.INVALID_COMMAND,"invalid application");g.Z.dispatch({type:"EMBEDDED_ACTIVITY_SET_CONFIG",
applicationId:t.application.id,config:{useInteractivePIP:n}});return Promise.resolve({use_interactive_pip:n})}});function Vs(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var Fs;const Ys=(Vs(Fs={},R.Etm.GET_GUILD,{scope:R.xVR.RPC,validation:function(e){return e.object().required().keys({guild_id:e.string(),timeout:e.number().min(0).max(60)})},handler:function(e){var t=e.socket,n=e.server,r=e.args,o=r.guild_id,i=r.timeout,a=void 0===i?0:i;return n.storeWait(t,(function(){return Ut.Z.getGuild(o)}),a).catch((function(){throw new Is.Z(R.lTL.GET_GUILD_TIMED_OUT,"Request to get guild timed out.")})).then((function(e){if(null==e)throw new Is.Z(R.lTL.INVALID_GUILD,"Invalid guild id: ".concat(o));var t;return{id:e.id,name:e.name,icon_url:null!==(t=e.getIconURL(128))&&void 0!==t?t:null,members:[],vanity_url_code:e.vanityURLCode}}))}}),Vs(Fs,R.Etm.GET_GUILDS,{scope:R.xVR.RPC,handler:function(){var e=Ut.Z.getGuilds();return{
guilds:os().map(e,(function(e){return{id:e.id,name:e.name,icon_url:e.getIconURL(128)}}))}}}),Fs);var zs=n(917870),Ws=n(894827);const Ks=function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({},R.Etm.GET_IMAGE,{scope:R.lHf,validation:function(e){return e.object().required().keys({type:e.string().required().valid(["user"]),id:e.string().required(),format:e.string().required().valid(["png","webp","jpg"]),size:e.number().required().valid([16,32,64,128,256,512,1024])})},handler:function(e){var t,n=e.args,r=n.type,o=n.id,i=n.format,a=void 0===i?"png":i,s=n.size,l=void 0===s?128:s;if("user"===r){var c=F.default.getUser(o);if(null==c)throw new Is.Z(R.lTL.INVALID_USER,"Invalid user id: ".concat(o));t=zs.ZP.getUserAvatarURL(c,!1,l,a);var u=window.GLOBAL_ENV.CDN_HOST;null!=u&&-1!==t.indexOf(u)&&(t+="&_=")}if(null==t)throw new Is.Z(R.lTL.INVALID_COMMAND,"No valid type.");return fetch(t).then((function(e){return e.blob()
})).then((function(e){return(0,Ws.fD)(e)})).then((function(e){return{data_url:e}}))}});var qs=n(453587),Xs=n(850622);const Qs=function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({},R.Etm.OPEN_EXTERNAL_LINK,{validation:function(e){return e.object().required().keys({url:e.string().required()})},handler:function(e){var t=e.socket,n=e.args.url;(0,ds.bu)(t.transport);try{var r=new URL(n);kt.FB&&qs.Z.focus(null,!0);(0,Xs.q)({href:r.toString()})}catch(e){throw new Is.Z(R.lTL.INVALID_COMMAND,"Invalid URL: ".concat(n))}}});function $s(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Js(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))))
;r.forEach((function(t){$s(e,t,n[t])}))}return e}function el(e,t,n){return new Promise((function(r,o){g.Z.dispatch({type:"LOBBY_CONNECT",socketId:e,lobbyId:t,lobbySecret:n,resolve:r,reject:o})}))}var tl;n(535583);function nl(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function rl(e){if(e instanceof ss.t)switch(e.code){case R.ogU.FULL:throw new Is.Z(R.lTL.LOBBY_FULL,"Lobby is full.");case R.ogU.INVALID_SECRET:throw new Is.Z(R.lTL.INVALID_LOBBY_SECRET,"Lobby secret is invalid.");case R.ogU.NOT_FOUND:throw new Is.Z(R.lTL.INVALID_LOBBY,"Lobby does not exist.");case R.ogU.SERVICE_UNAVAILABLE:throw new Is.Z(R.lTL.SERVICE_UNAVAILABLE,"Lobby service is unavailable.");case R.ogU.ALREADY_CONNECTING:throw new Is.Z(R.lTL.INVALID_COMMAND,"Already connecting to lobby.");default:throw new Is.Z(R.lTL.UNKNOWN_ERROR,"Unknown error has occured.")}throw e}const ol=(nl(tl={},R.Etm.CREATE_LOBBY,{scope:nl({},R.Gp_.ANY,[R.lHf]),
validation:function(e){return e.object().required().keys({type:e.number().valid(Object.values(R.ny$)),capacity:e.number(),locked:e.boolean(),metadata:e.object()})},handler:function(e){var t,n,r,o=e.socket,i=e.args,a=i.type,s=i.capacity,l=i.locked,c=i.metadata;if(null==o.application.id)throw new Is.Z(R.lTL.INVALID_COMMAND,"No application.");return(t=o.id,n=o.application.id,r={type:a,capacity:s,locked:l,metadata:c},gs.Z.post({url:R.ANM.LOBBIES,body:Js({application_id:n},r),retries:1,oldFormErrors:!0}).then((function(e){var n=e.body;return el(t,n.id,n.secret)}))).catch(rl)}}),nl(tl,R.Etm.UPDATE_LOBBY,{scope:nl({},R.Gp_.ANY,[R.lHf]),validation:function(e){return e.object().required().keys({id:e.string().required(),type:e.number().valid(Object.values(R.ny$)),owner_id:e.string(),capacity:e.number(),locked:e.boolean(),metadata:e.object()})},handler:function(e){var t,n,r=e.args,o=r.id,i=r.type,a=r.owner_id,s=r.capacity,l=r.locked,c=r.metadata;return(t=o,n={type:i,owner_id:a,capacity:s,
locked:l,metadata:c},gs.Z.patch({url:R.ANM.LOBBY(t),body:Js({},n),retries:1,oldFormErrors:!0}).then(R.dG4)).catch(rl)}}),nl(tl,R.Etm.DELETE_LOBBY,{scope:nl({},R.Gp_.ANY,[R.lHf]),validation:function(e){return e.object().required().keys({id:e.string().required()})},handler:function(e){var t,n=e.args.id;return(t=n,gs.Z.delete({url:R.ANM.LOBBY(t),body:{},retries:1,oldFormErrors:!0}).then(R.dG4)).catch(rl)}}),nl(tl,R.Etm.UPDATE_LOBBY_MEMBER,{scope:nl({},R.Gp_.ANY,[R.lHf]),validation:function(e){return e.object().required().keys({lobby_id:e.string().required(),user_id:e.string().required(),metadata:e.object()})},handler:function(e){var t,n,r,o=e.args,i=o.lobby_id,a=o.user_id,s=o.metadata;return(t=i,n=a,r={metadata:s},gs.Z.patch({url:R.ANM.LOBBY_MEMBER(t,n),body:Js({},r),retries:1,oldFormErrors:!0}).then(R.dG4)).catch(rl)}}),nl(tl,R.Etm.CONNECT_TO_LOBBY,{scope:nl({},R.Gp_.ANY,[R.lHf]),validation:function(e){return e.object().required().keys({id:e.string().required(),
secret:e.string().required()})},handler:function(e){var t=e.socket,n=e.args,r=n.id,o=n.secret;return el(t.id,r,o).catch(rl)}}),nl(tl,R.Etm.DISCONNECT_FROM_LOBBY,{scope:nl({},R.Gp_.ANY,[R.lHf]),validation:function(e){return e.object().required().keys({id:e.string().required()})},handler:function(e){var t,n=e.args.id;t=n,g.Z.dispatch({type:"LOBBY_DISCONNECT",lobbyId:t})}}),nl(tl,R.Etm.SEND_TO_LOBBY,{scope:nl({},R.Gp_.ANY,[R.lHf]),validation:function(e){return e.object().required().keys({lobby_id:e.string().required(),data:e.string().required()})},handler:function(e){var t=e.args;return function(e,t){return gs.Z.post({url:R.ANM.LOBBY_SEND(e),body:{data:t},oldFormErrors:!0}).then(R.dG4)}(t.lobby_id,t.data).catch(rl)}}),nl(tl,R.Etm.SEARCH_LOBBIES,{scope:R.lHf,validation:function(e){return e.object().required().keys({filter:e.array().items(e.object().keys({key:e.string().required(),comparison:e.number().required(),cast:e.number().required(),value:e.string().required()})),
sort:e.array().items(e.object().keys({key:e.string().required(),cast:e.number().required(),near_value:e.string()})),limit:e.number(),distance:e.number()})},handler:function(e){var t,n=e.socket,r=e.args,o=r.filter,i=r.sort,a=r.limit,s=r.distance;return(t={application_id:n.application.id,filter:o,sort:i,limit:a,distance:s},gs.Z.post({url:R.ANM.LOBBY_SEARCH,body:t,oldFormErrors:!0}).then((function(e){return e.body}))).catch(rl)}}),nl(tl,R.Etm.CONNECT_TO_LOBBY_VOICE,{scope:R.lHf,validation:function(e){return e.object().required().keys({id:e.string().required()})},handler:function(e){var t,n=e.args.id;t=n,g.Z.dispatch({type:"LOBBY_VOICE_CONNECT",lobbyId:t})}}),nl(tl,R.Etm.DISCONNECT_FROM_LOBBY_VOICE,{scope:R.lHf,validation:function(e){return e.object().required().keys({id:e.string().required()})},handler:function(e){var t,n=e.args.id;t=n,g.Z.dispatch({type:"LOBBY_VOICE_DISCONNECT",lobbyId:t})}}),tl);var il=new Rn.Z(R.BZL);const al=function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,
enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({},R.Etm.CAPTURE_LOG,{validation:function(e){return e.object().required().keys({level:e.string().required(),message:e.string().required()})},handler:function(e){var t=e.socket,n=e.args,r=n.level,o=n.message;(0,ds.bu)(t.transport);var i=t.application.id,a="".concat(i," - ").concat(o);switch(r){case"log":il.log(a);break;case"warn":il.warn(a);break;case"debug":il.verbose(a);break;case"info":il.info(a);break;case"error":il.error(a)}}});function sl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ll(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function cl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value)
;if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return sl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sl(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ul;const fl=(ll(ul={},R.Etm.GET_NETWORKING_CONFIG,{scope:R.lHf,handler:function(){return Promise.all([gs.Z.get({url:location.protocol+window.GLOBAL_ENV.NETWORKING_ENDPOINT,retries:3}).then((function(e){return e.body.address})),gs.Z.post({url:R.ANM.NETWORKING_TOKEN,retries:3,oldFormErrors:!0}).then((function(e){return e.body.token}))]).then((function(e){var t=cl(e,2);return{
address:t[0],token:t[1]}}))}}),ll(ul,R.Etm.NETWORKING_SYSTEM_METRICS,{scope:R.lHf,handler:function(e){var t=e.socket,n=e.args;n.application_id=t.application.id;Te.default.track(R.rMx.NETWORKING_SYSTEM_METRICS,n)}}),ll(ul,R.Etm.NETWORKING_PEER_METRICS,{scope:R.lHf,handler:function(e){var t=e.socket,n=e.args;n.application_id=t.application.id;Te.default.track(R.rMx.NETWORKING_PEER_METRICS,n)}}),ll(ul,R.Etm.NETWORKING_CREATE_TOKEN,{scope:R.lHf,handler:function(){return gs.Z.post({url:R.ANM.NETWORKING_TOKEN,retries:1,oldFormErrors:!0}).then((function(e){return e.body}))}}),ul);function dl(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}const pl=dl({},R.Etm.GET_RELATIONSHIPS,{scope:R.lHf,handler:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){dl(e,t,n[t])}))}return e}({},us.Z.getRelationships());fs.Z.getUserAffinitiesUserIds().forEach((function(t){null==e[t]&&null!=F.default.getUser(t)&&(e[t]=R.OGo.IMPLICIT)}));return{relationships:os().map(e,(function(e,t){return(0,ds.cD)(e,t)}))}}});var hl=n(137861);function El(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yl(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ml(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return
;if("string"==typeof e)return El(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return El(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var bl=["349134787773988865"];const gl=yl({},R.Etm.SET_ACTIVITY,{scope:yl({},R.Gp_.ANY,[R.xVR.RPC,R.xVR.RPC_ACTIVITIES_WRITE,R.lHf]),validation:function(e){return e.object().required().keys({pid:e.number().min(0),activity:e.object().keys({state:e.string().min(2).max(128),details:e.string().min(2).max(128),timestamps:e.object().keys({start:e.number().min(1),end:e.number().min(1)}),assets:e.object().keys({large_image:e.string().min(1).max(256),large_text:e.string().min(2).max(128),small_image:e.string().min(1).max(256),
small_text:e.string().min(2).max(128)}),party:e.object().keys({id:e.string().min(2).max(128),size:e.array().items(e.number().min(1)).length(2),privacy:e.number().default(R.RYY.PRIVATE).valid([R.RYY.PRIVATE,R.RYY.PUBLIC])}),secrets:e.object().keys({match:e.string().min(2).max(128),join:e.string().min(2).max(128),spectate:e.string().min(2).max(128)}),buttons:e.array().items(e.object().keys({label:e.string().min(1).max(32).required(),url:e.string().uri().min(1).max(512).required()})).min(1).max(2),instance:e.boolean(),supported_platforms:e.array().items(e.string().min(1).max(32)).min(1).max(3),type:e.number().default(R.IIU.PLAYING).valid(R.IIU.PLAYING,R.IIU.WATCHING)}).allow(null)})},handler:function(e){var t,n=e.socket,r=e.args,o=r.pid,i=r.activity,a=e.isSocketConnected;if(![R.Hej.IPC,R.Hej.WEBSOCKET,R.Hej.POST_MESSAGE].includes(n.transport))throw new Is.Z(R.lTL.INVALID_COMMAND,'command not available from "'.concat(n.transport,'" transport'))
;if(null==o&&R.Hej.IPC===n.transport)throw new Is.Z(R.lTL.INVALID_COMMAND,"nonzero pid required");if(null==i){g.Z.dispatch({type:"LOCAL_ACTIVITY_UPDATE",socketId:n.id,pid:o,activity:i});return Promise.resolve(i)}i.name=n.application.name;i.application_id=n.application.id;var s=n.transport===R.Hej.POST_MESSAGE,l=(0,ds.S5)(i,s);l>0&&(i.flags=l);delete i.instance;null===(t=i.party)||void 0===t||delete t.privacy;var c,u=i.assets,f=i.party,d=i.secrets,p=i.timestamps,h=i.buttons,E=i.type;(null==E||E!==R.IIU.PLAYING&&!s)&&(i.type=R.IIU.PLAYING);if(null!=d){var y=os().values(d).filter((function(e){return!!e}));if(null!=f&&os().intersection(y,[f.id]).length>0&&!bl.includes(n.application.id))throw new Is.Z(R.lTL.INVALID_ACTIVITY_SECRET,"secrets cannot match the party id");if(os().uniq(y).length<y.length)throw new Is.Z(R.lTL.INVALID_ACTIVITY_SECRET,"secrets must be unique");if(null!=h)throw new Is.Z(R.lTL.INVALID_ACTIVITY_SECRET,"secrets cannot currently be sent with buttons")}if(null!=h){
i.metadata={button_urls:h.map((function(e){return e.url}))};i.buttons=h.map((function(e){return e.label}))}if(null!=p){var m=!0,b=!1,O=void 0;try{for(var v,_=Object.keys(p)[Symbol.iterator]();!(m=(v=_.next()).done);m=!0){var I=v.value;Date.now().toString().length-p[I].toString().length>2&&(p[I]=Math.floor(1e3*p[I]))}}catch(e){b=!0;O=e}finally{try{m||null==_.return||_.return()}finally{if(b)throw O}}}if(null==u)c=Promise.resolve([]);else{if(null==n.application||null==n.application.id)throw new Error;c=(0,hl.GR)(n.application.id,[u.large_image,u.small_image])}return c.then((function(e){var t=ml(e,2),r=t[0],s=t[1];if(null!=u){null!=r?u.large_image=r:delete u.large_image;null!=s?u.small_image=s:delete u.small_image}if(a()){g.Z.dispatch({type:"LOCAL_ACTIVITY_UPDATE",socketId:n.id,pid:o,activity:i});var l=i.secrets,c=i.party,f={application_id:n.application.id,type:i.type};if(null!=l){f.has_match_secret=!!l.match;f.has_join_secret=!!l.join}
null!=u&&(f.has_images=!(!u.large_image&&!u.small_image));if(null!=c){f.party_max=null!=c.size?c.size[1]:void 0;f.party_id=c.id}Te.default.track(R.rMx.ACTIVITY_UPDATED,f);return i}}))}});var Ol=n(375650);const vl=function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({},Ol.Et.SET_ORIENTATION_LOCK_STATE,{validation:function(e){return e.object().required().keys({lock_state:e.number().valid(hs.xK.UNLOCKED,hs.xK.PORTRAIT,hs.xK.LANDSCAPE).required(),picture_in_picture_lock_state:e.number().valid(hs.xK.UNLOCKED,hs.xK.PORTRAIT,hs.xK.LANDSCAPE).allow(null).optional()})},handler:function(e){var t=e.socket,n=e.args,r=n.lock_state,o=n.picture_in_picture_lock_state,i=t.application.id;if(null==i)throw new Is.Z(R.lTL.INVALID_COMMAND,"No application.");g.Z.dispatch({type:"EMBEDDED_ACTIVITY_SET_ORIENTATION_LOCK_STATE",applicationId:i,lockState:r,pictureInPictureLockState:o})}});var _l=n(358623),Il=n(512172),Sl=n(898852);function Tl(e){
if(R.Hej.IPC!==e&&R.Hej.POST_MESSAGE!==e)throw new Is.Z(R.lTL.INVALID_COMMAND,"Invalid transport.")}function Nl(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function Cl(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var Al,Pl,jl,xl=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop()
;continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};const Rl=(Cl(jl={},R.Etm.GET_SKUS,(Cl(Al={},R.Gp_.ANY,[R.wEG,R.lHf]),Cl(Al,"handler",(function(e){var t,n=e.socket;return(t=function(){var e,t;return xl(this,(function(r){switch(r.label){case 0:Tl(n.transport);if(null==(e=n.application.id))throw new Is.Z(R.lTL.INVALID_COMMAND,"No application.");return $n.Z.inTestModeForApplication(e)||Cs.Z.inDevModeForApplication(e)?[4,Il.Kr(e,!1)]:[3,2];case 1:return[2,r.sent().filter((function(e){return null!=e.price}))];case 2:return[4,Sl.oJ(e)];case 3:return[2,(null!=(t=r.sent())?t:[]).map((function(e){return e.sku
})).filter((function(e){return null!=e.price}))]}}))},function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(e){Nl(i,r,o,a,s,"next",e)}function s(e){Nl(i,r,o,a,s,"throw",e)}a(void 0)}))})()})),Al)),Cl(jl,R.Etm.GET_ENTITLEMENTS,(Cl(Pl={},R.Gp_.ANY,[R.wEG,R.lHf]),Cl(Pl,"handler",(function(e){var t=e.socket;Tl(t.transport);var n=t.application.id;if(null==n)throw new Is.Z(R.lTL.INVALID_COMMAND,"No application.");return _l.yD(n).then((function(e){return null!=e?e:[]}))})),Pl)),jl);var Ml=n(682485),wl=n(305560);const Zl=function(){return null};function Ll(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function Dl(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ll(i,r,o,a,s,"next",e)}function s(e){Ll(i,r,o,a,s,"throw",e)}a(void 0)}))}}var Ul=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},
trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function kl(e,t,n){
return Gl.apply(this,arguments)}function Gl(){Gl=Dl((function(e,t,n){var r,o,i,a,s,l,c,u;return Ul(this,(function(n){switch(n.label){case 0:switch(t){case R.zMe.ACTIVITY_PIP_MODE_UPDATE:return[3,1];case R.zMe.THERMAL_STATE_UPDATE:return[3,2];case R.zMe.ORIENTATION_UPDATE:return[3,4]}return[3,5];case 1:o=null===(r=e.application)||void 0===r?void 0:r.id;i=null!=o?j.ZP.getPipModeForApp(o):null;return[2,Promise.resolve(null!=i?{is_pip_mode:i}:null)];case 2:return[4,(0,wl.Z)()];case 3:if(null==(a=n.sent()))return[2,Promise.resolve(null)];s=is(a);return[2,Promise.resolve({thermal_state:s})];case 4:if(null!=(l=Zl())){c=l?hs.W0.LANDSCAPE:hs.W0.PORTRAIT;u=c===hs.W0.PORTRAIT?"portrait":"landscape";return[2,Promise.resolve({screen_orientation:c,orientation:u})]}return[2,Promise.resolve(null)];case 5:return[2,null];case 6:return[2]}}))}));return Gl.apply(this,arguments)}function Bl(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}
function Hl(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var Vl,Fl=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){
a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};const Yl=(Hl(Vl={},R.Etm.SUBSCRIBE,{handler:function(e){var t,n=e.server,r=e.socket,o=e.evt,i=e.args;return(t=function(){var e,t,a;return Fl(this,(function(s){switch(s.label){case 0:if(null==(e=n.events[o]))throw new Is.Z(R.lTL.INVALID_EVENT,"Invalid event: ".concat(o));if(!(0,Ml.Z)(r.authorization.scopes,e.scope))throw new Is.Z(R.lTL.INVALID_PERMISSIONS,"Not authenticated or invalid scope");t=e.handler({args:i,socket:r});return[4,kl(r,o,i)];case 1:a=s.sent();return[2,new Promise((function(e){setImmediate((function(){n.addSubscription(r,o,i,t);null!=a&&n.dispatchToSubscriptions(o,(function(e){return e.socket.id===r.id}),a)}));e({evt:o})}))]}}))},function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(e){Bl(i,r,o,a,s,"next",e)}function s(e){
Bl(i,r,o,a,s,"throw",e)}a(void 0)}))})()}}),Hl(Vl,R.Etm.UNSUBSCRIBE,{handler:function(e){var t=e.server,n=e.socket,r=e.evt,o=e.args;if(null==t.events[r])throw new Is.Z(R.lTL.INVALID_EVENT,"Invalid event: ".concat(r));t.removeSubscription(n,r,o);return{evt:r}}}),Vl);var zl=n(817513);const Wl=function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({},R.Etm.USER_SETTINGS_GET_LOCALE,{scope:R.xVR.IDENTIFY,handler:function(){return{locale:zl.default.locale}}});var Kl=n(478695);const ql=function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({},R.Etm.GET_USER,{scope:R.lHf,validation:function(e){return e.object().required().keys({id:e.string().required()})},handler:function(e){var t=e.args.id;return(0,Kl.PR)(t).then(ps.Z).catch((function(){throw new Is.Z(R.lTL.INVALID_USER,"Invalid user id: ".concat(t))}))}});function Xl(e,t,n){t in e?Object.defineProperty(e,t,{value:n,
enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var Ql,$l,Jl,ec=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Xl(e,t,n[t])}))}return e}({},Ts,xs,Ms,Bs,Hs,Ys,Ks,Qs,ol,al,fl,pl,gl,vl,Rl,Yl,ql,Wl),tc=n(606750);function nc(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function rc(e){var t,n=e.args.channel_id,r=e.socket,o=I.Z.getChannel(n);if(null==o||!(0,ds.zM)(o,r.application.id,r.authorization.scopes))throw new Is.Z(R.lTL.INVALID_CHANNEL,"Invalid channel id: ".concat(n));if(o.isNSFW()&&!0!==(null===(t=F.default.getCurrentUser())||void 0===t?void 0:t.nsfwAllowed))throw new Is.Z(R.lTL.INVALID_CHANNEL,"Invalid nsfw channel id: ".concat(o.id))}function oc(e){
var t=e.args,n=t.lobby_id,r=t.channel_id;if(null!=r){if(null==I.Z.getChannel(r))throw new Is.Z(R.lTL.INVALID_CHANNEL,"Invalid channel id: ".concat(r))}if(null!=n){if(null==ss.Z.getLobby(n))throw new Is.Z(R.lTL.INVALID_LOBBY,"Invalid lobby id: ".concat(n))}}var ic=(nc(Jl={},R.zMe.GUILD_STATUS,{scope:R.xVR.RPC,handler:function(e){var t=e.args.guild_id;if(null==Ut.Z.getGuild(t))throw new Is.Z(R.lTL.INVALID_GUILD,"Invalid guild id: ".concat(t));return function(e){var n=e.prevState,r=e.dispatch,o=Ut.Z.getGuild(t);if(null!=o){var i,a={guild:{id:o.id,name:o.name,icon_url:null!==(i=o.getIconURL(128))&&void 0!==i?i:null},online:0};os().isEqual(n,a)||r(a);return a}}}}),nc(Jl,R.zMe.VOICE_STATE_CREATE,{scope:nc({},R.Gp_.ANY,[R.xVR.RPC,R.xVR.RPC_VOICE_READ]),handler:function(e){var t=e.args.channel_id;if(null==I.Z.getChannel(t))throw new Is.Z(R.lTL.INVALID_CHANNEL,"Invalid channel id: ".concat(t));return function(e){var n=e.prevState,r=e.dispatch,o=I.Z.getChannel(t);if(null!=o){
var i=o.getGuildId(),a=Object.values(P.Z.getVoiceStatesForChannel(o.id));if(n){var s=os().differenceBy(a,n,(function(e){return e.userId}));s.forEach((function(e){return r((0,ds.aE)(i,o.id,e))}))}return a}}}}),nc(Jl,R.zMe.VOICE_STATE_DELETE,{scope:nc({},R.Gp_.ANY,[R.xVR.RPC,R.xVR.RPC_VOICE_READ]),handler:function(e){var t=e.args.channel_id;if(null==I.Z.getChannel(t))throw new Is.Z(R.lTL.INVALID_CHANNEL,"Invalid channel id: ".concat(t));return function(e){var n=e.prevState,r=e.dispatch,o=I.Z.getChannel(t);if(null!=o){var i=o.getGuildId(),a=Object.values(P.Z.getVoiceStatesForChannel(o.id)),s=os().differenceBy(n,a,(function(e){return e.userId}));s.forEach((function(e){return r((0,ds.aE)(i,o.id,e))}));return a}}}}),nc(Jl,R.zMe.VOICE_STATE_UPDATE,{scope:nc({},R.Gp_.ANY,[R.xVR.RPC,R.xVR.RPC_VOICE_READ]),handler:function(e){var t=e.args.channel_id;if(null==I.Z.getChannel(t))throw new Is.Z(R.lTL.INVALID_CHANNEL,"Invalid channel id: ".concat(t));return function(e){
var n=e.prevState,r=e.dispatch,o=I.Z.getChannel(t);if(null!=o){var i=o.getGuildId(),a=Object.values(P.Z.getVoiceStatesForChannel(o.id)).map((function(e){return(0,ds.aE)(i,o.id,e)}));os().differenceWith(a,n,os().isEqual).forEach((function(e){return r(e)}));return a}}}}),nc(Jl,R.zMe.VOICE_CONNECTION_STATUS,{scope:nc({},R.Gp_.ANY,[R.xVR.RPC,R.xVR.RPC_VOICE_READ]),handler:function(){return function(e){var t=e.prevState,n=e.dispatch,r={state:(0,ds.zy)(N.Z.getState()),hostname:N.Z.getHostname(),pings:N.Z.getPings(),average_ping:N.Z.getAveragePing(),last_ping:N.Z.getLastPing()};os().isEqual(r,t)||n(r);return r}}}),nc(Jl,R.zMe.MESSAGE_CREATE,{scope:R.xVR.RPC,handler:rc}),nc(Jl,R.zMe.MESSAGE_UPDATE,{scope:R.xVR.RPC,handler:rc}),nc(Jl,R.zMe.MESSAGE_DELETE,{scope:R.xVR.RPC,handler:rc}),nc(Jl,R.zMe.SPEAKING_START,(nc(Ql={},R.Gp_.ANY,[R.xVR.RPC,R.xVR.RPC_VOICE_READ,R.lHf]),nc(Ql,"handler",oc),Ql)),nc(Jl,R.zMe.SPEAKING_STOP,(nc($l={},R.Gp_.ANY,[R.xVR.RPC,R.xVR.RPC_VOICE_READ,R.lHf]),
nc($l,"handler",oc),$l)),nc(Jl,R.zMe.GUILD_CREATE,{scope:R.xVR.RPC,handler:function(){}}),nc(Jl,R.zMe.CHANNEL_CREATE,{scope:R.xVR.RPC,handler:function(){}}),nc(Jl,R.zMe.GAME_JOIN,{scope:nc({},R.Gp_.ANY,[R.xVR.RPC,R.lHf]),handler:function(){}}),nc(Jl,R.zMe.GAME_SPECTATE,{scope:nc({},R.Gp_.ANY,[R.xVR.RPC,R.lHf]),handler:function(){}}),nc(Jl,R.zMe.ACTIVITY_JOIN,{scope:nc({},R.Gp_.ANY,[R.xVR.RPC,R.wEG,R.lHf]),handler:function(){}}),nc(Jl,R.zMe.ACTIVITY_JOIN_REQUEST,{scope:nc({},R.Gp_.ANY,[R.xVR.RPC,R.lHf]),handler:function(){}}),nc(Jl,R.zMe.ACTIVITY_SPECTATE,{scope:nc({},R.Gp_.ANY,[R.xVR.RPC,R.wEG,R.lHf]),handler:function(){}}),nc(Jl,R.zMe.ACTIVITY_INVITE,{scope:nc({},R.Gp_.ANY,[R.xVR.RPC,R.lHf]),handler:function(){}}),nc(Jl,R.zMe.ACTIVITY_PIP_MODE_UPDATE,{scope:nc({},R.Gp_.ANY,[R.xVR.RPC,R.wEG,R.lHf]),handler:function(){}}),nc(Jl,R.zMe.THERMAL_STATE_UPDATE,{scope:nc({},R.Gp_.ANY,[R.wEG]),handler:function(){}}),nc(Jl,R.zMe.ORIENTATION_UPDATE,{scope:nc({},R.Gp_.ANY,[R.wEG]),
handler:function(){}}),nc(Jl,R.zMe.VOICE_CHANNEL_SELECT,{scope:R.xVR.RPC,handler:function(){}}),nc(Jl,R.zMe.NOTIFICATION_CREATE,{scope:nc({},R.Gp_.ALL,[R.xVR.RPC,R.xVR.RPC_NOTIFICATIONS_READ]),handler:function(){}}),nc(Jl,R.zMe.RELATIONSHIP_UPDATE,{scope:R.lHf,handler:function(){}}),nc(Jl,R.zMe.CURRENT_USER_UPDATE,{scope:nc({},R.Gp_.ANY,[R.lHf,R.xVR.IDENTIFY]),handler:function(){return function(e){var t=e.prevState,n=e.dispatch,r={currentUser:F.default.getCurrentUser()};null==r.currentUser||null!=t&&(0,tc.Z)(r,t)||n((0,ps.Z)(r.currentUser));return r}}}),nc(Jl,R.zMe.LOBBY_UPDATE,{scope:nc({},R.Gp_.ANY,[R.wEG,R.lHf]),handler:function(){}}),nc(Jl,R.zMe.LOBBY_DELETE,{scope:nc({},R.Gp_.ANY,[R.wEG,R.lHf]),handler:function(){}}),nc(Jl,R.zMe.LOBBY_MEMBER_CONNECT,{scope:nc({},R.Gp_.ANY,[R.wEG,R.lHf]),handler:function(){}}),nc(Jl,R.zMe.LOBBY_MEMBER_UPDATE,{scope:nc({},R.Gp_.ANY,[R.wEG,R.lHf]),handler:function(){}}),nc(Jl,R.zMe.LOBBY_MEMBER_DISCONNECT,{scope:nc({},R.Gp_.ANY,[R.wEG,R.lHf]),
handler:function(){}}),nc(Jl,R.zMe.LOBBY_MESSAGE,{scope:nc({},R.Gp_.ANY,[R.wEG,R.lHf]),handler:function(){}}),nc(Jl,R.zMe.ENTITLEMENT_CREATE,{scope:nc({},R.Gp_.ANY,[R.lHf,R.wEG]),handler:function(){}}),nc(Jl,R.zMe.ENTITLEMENT_DELETE,{scope:nc({},R.Gp_.ANY,[R.lHf,R.wEG]),handler:function(){}}),nc(Jl,R.zMe.USER_ACHIEVEMENT_UPDATE,{scope:R.lHf,handler:function(){}}),Jl);const ac=ic;function sc(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var lc=n(239037),cc=function(e,t){var n;return sc(n={},R.zMe.VOICE_SETTINGS_UPDATE,{scope:sc({},R.Gp_.ANY,[R.xVR.RPC,R.xVR.RPC_VOICE_READ]),handler:function(){return function(t){var n=t.prevState,r=t.dispatch,o=e();os().isEqual(o,n)||r(o);return o}}}),sc(n,R.zMe.VOICE_SETTINGS_UPDATE_2,{scope:R.lHf,handler:function(e){var n=e.socket;return function(e){var r=e.prevState,o=e.dispatch;if(null==n.application.id)return r;var i=t(n.application.id);os().isEqual(i,r)||o(i);return i}}}),n
}(lc._X,lc.GC);function uc(e){var t,n=(0,As.yE)(null!==(t=e.flags)&&void 0!==t?t:0,R.udG.EMBEDDED),r=_.Z.getWindowOpen(R.KJ3.CHANNEL_CALL_POPOUT);return n&&r}var fc=n(47967),dc=n(817673),pc=n(368365),hc=n(207697),Ec=n(100264),yc=n(890889);function mc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bc(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function gc(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){bc(i,r,o,a,s,"next",e)}function s(e){bc(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Oc(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function vc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Oc(e,t,n[t])}))}return e}function _c(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Ic(e){return function(e){if(Array.isArray(e))return mc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return mc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mc(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Sc=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop()
;a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Tc="CachedTokens";function Nc(e,t,n){return Cc.apply(this,arguments)}function Cc(){Cc=gc((function(e,t,n){var r,o,i,a,s,l,c,u,f,d,p,h,E,y,m,b,g,O,v,_;return Sc(this,(function(I){switch(I.label){case 0:r=e.client_id,o=e.response_type,i=void 0===o?"code":o,a=e.redirect_uri,s=e.code_challenge,l=e.code_challenge_method,c=e.state,u=e.scope,f=e.permissions,d=e.guild_id,p=e.channel_id,h=e.prompt,E=e.disable_guild_select;if(null==r)throw new Is.Z(R.lTL.OAUTH2_ERROR,"No Client ID provided")
;if(null!=a)throw new Is.Z(R.lTL.OAUTH2_ERROR,"Redirect URI cannot be used in the RPC OAuth2 Authorization flow");y=[];"string"==typeof u?y=u.split(" ").filter((function(e){return e.length>0})):Array.isArray(u)&&(y=u);if(null==F.default.getCurrentUser())throw new Is.Z(R.lTL.OAUTH2_ERROR,"Client is not logged in");I.label=1;case 1:I.trys.push([1,3,,4]);return[4,(0,hc.Ww)({clientId:r,scopes:y,responseType:i,redirectUri:a,codeChallenge:s,codeChallengeMethod:l,state:c})];case 2:m=I.sent();return[3,4];case 3:b=I.sent();g=b.body;throw new Is.Z(R.lTL.OAUTH2_ERROR,"OAuth2 Authorization Error: ".concat(g.message||"Unknown Error"));case 4:if(h!==Ec.s.NONE||null==m||!m.authorized)return[3,8];I.label=5;case 5:I.trys.push([5,7,,8]);return[4,(0,hc.Iq)({authorize:!0,clientId:r,scopes:y,responseType:i,redirectUri:a,codeChallenge:s,codeChallengeMethod:l,state:c})];case 6:return[2,I.sent().location];case 7:O=I.sent();v=O.body
;throw new Is.Z(R.lTL.OAUTH2_ERROR,"OAuth2 Authorize Error: ".concat(v.message||"Unknown Error"));case 8:null==n||n(m.application);_=yc.ZP.NONE;try{_=pc.Z.deserialize(null!=f?f:0)}catch(e){}return[2,t(r,m,y,_,i,a,s,l,c,d,p,h,E)]}}))}));return Cc.apply(this,arguments)}function Ac(e,t){if(e.authorization.accessToken)throw new Is.Z(R.lTL.INVALID_COMMAND,"Already authenticated");if(e.authorization.authing)throw new Is.Z(R.lTL.INVALID_COMMAND,"Already authenticating");e.authorization.authing=!0;return gs.Z.get({url:R.ANM.OAUTH2_CURRENT_AUTH,headers:{Authorization:"Bearer ".concat(t)},oldFormErrors:!0}).then((function(n){e.authorization.authing=!1;var r=n.body,o=r.application,i=r.user,a=r.scopes,s=r.expires;if(e.application.id!==o.id)throw new Is.Z(R.lTL.INVALID_CLIENTID,"Application does not match the connection's");var l=F.default.getCurrentUser();if(null==l||!i||l.id!==i.id)throw new Is.Z(R.lTL.INVALID_TOKEN,"Token does not match current user")
;e.authorization.scopes=Ic(e.authorization.scopes).concat(Ic(a),[R.wEG]);e.authorization.accessToken=t;e.authorization.expires=new Date(s);g.Z.dispatch({type:"RPC_APP_AUTHENTICATED",socketId:e.id,application:e.application});return _c(vc({},n.body),{access_token:t})}),(function(){throw new Is.Z(R.lTL.INVALID_TOKEN,"Invalid access token: ".concat(t))})).catch((function(t){e.authorization.authing=!1;throw t}))}var Pc=n(86030);function jc(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function xc(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))
;return e}const Rc=function(e,t){var n;return Oc(n={},R.Etm.AUTHENTICATE,{handler:function(n){var r=n.socket,o=n.args.access_token;if(null==o&&r.transport===R.Hej.IPC){var i=r.application.id;if(null==i)throw new Is.Z(R.lTL.INVALID_COMMAND,"No application.");var a=R.xVR.IDENTIFY,s=function(){return Nc({client_id:i,scope:a,response_type:"token"},e,t).then((function(e){if(null==e)throw new Is.Z(R.lTL.UNKNOWN_ERROR,"Unknown error occurred");var t=e.split(/#|\?/),n=dc.parse(t[t.length-1]);if(null!=n.error){var o;throw new Is.Z(R.lTL.OAUTH2_ERROR,"OAuth2 Error: ".concat(n.error,": ").concat(null!==(o=n.error_description)&&void 0!==o?o:"unknown error"))}!function(e,t,n,r){var o,i=null!==(o=Se.Z.get(Tc))&&void 0!==o?o:{};i[e]={accessToken:t,scope:n,expires:Date.now()+r};Se.Z.set(Tc,i)}(i,n.access_token,n.scope,n.expires_in);return Ac(r,n.access_token)}))};o=function(e,t){var n=Se.Z.get(Tc);if(null!=n&&null!=n[e]){var r=n[e];if(!(r.scope!==t||r.expires<=Date.now()))return r.accessToken
;delete n[e];Se.Z.set(Tc,n)}}(i,a);return null!=o?Ac(r,o).catch((function(){!function(e){var t,n=null!==(t=Se.Z.get(Tc))&&void 0!==t?t:{};delete n[e];Se.Z.set(Tc,n)}(i);return s()})):s()}if(null==o)throw new Is.Z(R.lTL.INVALID_TOKEN,"No access token provided");return Ac(r,o)}}),Oc(n,R.Etm.AUTHORIZE,{handler:function(n){var r=n.socket,o=n.args,i=o.client_id;if(!i)throw new Is.Z(R.lTL.INVALID_CLIENTID,"No client id provided");if(null!=r.authorization.accessToken)throw new Is.Z(R.lTL.INVALID_COMMAND,"Already authenticated");if(r.authorization.authing)throw new Is.Z(R.lTL.INVALID_COMMAND,"Already authing");r.authorization.authing=!0;return gs.Z.get({url:R.ANM.APPLICATION_RPC(i),oldFormErrors:!0}).then((function(n){var i=n.body;if(r.application.id!==i.id)throw new Is.Z(R.lTL.INVALID_CLIENTID,"Application does not match the connection's");var a=o.scopes||o.scope;delete o.scopes;return Nc(_c(vc({},o),{scope:a}),e,t)}),(function(){
throw new Is.Z(R.lTL.INVALID_CLIENTID,"Invalid client id: ".concat(i))})).then((function(e){r.authorization.authing=!1;if(null==e)throw new Is.Z(R.lTL.UNKNOWN_ERROR,"Unknown error occurred");var t=dc.parse(e.split("?")[1].split("#")[0]);if(null!=t.error){var n;throw new Is.Z(R.lTL.OAUTH2_ERROR,"OAuth2 Error: ".concat(t.error,": ").concat(null!==(n=t.error_description)&&void 0!==n?n:"unknown error"))}return{code:t.code}})).catch((function(e){r.authorization.authing=!1;throw e}))}}),n}((function(e,t,n,o,i,a,s,l,c,u,f,d,p){var h="OAuth2Authorize_".concat(e,"_").concat(u,"_").concat(f);return new Promise((function(E){var y=function(e){E(e)};(0,Y.h7)((function(h){return(0,r.jsx)(fc.OAuth2AuthorizeModal,xc(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))))
;r.forEach((function(t){jc(e,t,n[t])}))}return e}({},h),{authorization:t,clientId:e,scopes:null!=n?n:[],callback:y,responseType:i,redirectUri:a,codeChallenge:s,codeChallengeMethod:l,state:c,permissions:o,guildId:u,channelId:f,prompt:d,disableGuildSelect:"boolean"==typeof p?p:"true"===p}))}),{modalKey:h,onCloseRequest:function(){(0,Y.Mr)(h);E(void 0)}},uc(t.application)?Pc.u1:Pc.z1)}))}),(function(e){if(kt.FB){var t=uc(e)?R.KJ3.CHANNEL_CALL_POPOUT:null;(0,kt.ED)()?bs.default.minimize(t):bs.default.restore(t);bs.default.focus(t)}}));var Mc=n(528090),wc=n(180119),Zc=n(717187),Lc=n.n(Zc),Dc=n(882699),Uc=n(42370);function kc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Gc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bc(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function Hc(e){return function(){
var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Bc(i,r,o,a,s,"next",e)}function s(e){Bc(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Vc(e){Vc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Vc(e)}function Fc(e,t){return!t||"object"!==Wc(t)&&"function"!=typeof t?Gc(e):t}function Yc(e,t){Yc=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Yc(e,t)}function zc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return kc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kc(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Wc=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Kc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Vc(e);if(t){var o=Vc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Fc(this,n)}}var qc=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]
};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}
},Xc=new Map,Qc=new Set,$c=function(e,t,n){n([Uc.Z.CLOSE,t],e)},Jc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Yc(e,t)}(r,e);var t=Kc(r);function r(e,o,i,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var s;(s=t.call(this)).disconnectSocket=function(e,t){var n,r,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];s.emit("disconnect",e,o?void 0:t);e.close(t.code,null!==(n=t.message)&&void 0!==n?n:"Unknown");var i=zc(null!==(r=Array.from(Xc.entries()).find((function(t){var n=zc(t,2);n[0];return n[1]===e})))&&void 0!==r?r:[null,null],1),a=i[0];null!=a&&Xc.delete(a)};s.handleIFrameMount=function(e){var t=e.id;Qc.add(t)};s.handleIFrameUnmount=function(e){var t,n=e.id;Qc.delete(n);var r=zc(null!==(t=Array.from(Xc.entries()).find((function(e){
var t=zc(e,2);t[0];return t[1].frameId===n})))&&void 0!==t?t:[null,null],2),o=r[0],i=r[1];if(null!=i&&null!=o){s.disconnectSocket(i,{code:R.$VG.CLOSE_NORMAL,message:"iFrame gone"},!0);Xc.delete(o)}};s.handleMessage=function(e,t,n){var r=Xc.get(t);try{s.routeEvent(r,t,e,n)}catch(e){null!=r?s.disconnectSocket(r,{code:e.code,message:e.message},!0):$c(t,{code:e.code,message:e.message},n)}};s.handleFrame=function(e,t,n){var r,o,i;if(e!==t.origin)throw new Is.Z(R.$VG.INVALID_ORIGIN,"Origin has changed");try{i="string"==typeof n?JSON.parse(n):n}catch(e){throw new Is.Z(R.$VG.CLOSE_UNSUPPORTED,"Payload not recognized encoding")}null===(o=(r=s).onFrameHandled)||void 0===o||o.call(r,i,s.logger,t);s.emit("request",t,i)};var l,c=Gc(s);s.handleHandshake=(l=Hc((function(e,t,r){var o,i,a,s,l,u;return qc(this,(function(f){switch(f.label){case 0:return[4,n.e(54533).then(n.t.bind(n,197683,23))];case 1:o=f.sent().default;try{o.assert(t,o.object().required().keys({v:o.number().min(1).max(1).required(),
encoding:o.string().equal("json").optional(),client_id:o.string().required(),frame_id:o.string().required()}))}catch(e){throw new Is.Z(R.$VG.CLOSE_UNSUPPORTED,e.message)}a=(i=t).frame_id;if(!Qc.has(a)){c.logger.error("Unrecognized frame ID ".concat(a));throw new Is.Z(R.$VG.CLOSE_UNSUPPORTED,"Unrecognized frame ID ".concat(a))}try{s=c.createPostMessageProxySocket({origin:e,postMessageToRPCClient:r,frameId:a,version:Number(i.v),logger:c.logger,postClose:$c,encoding:null!==(l=i.encoding)&&void 0!==l?l:"json"})}catch(e){c.logger.error("Error opening window socket ".concat(e));throw e}c.logger.info("Socket Opened: ".concat(s.id));f.label=2;case 2:f.trys.push([2,4,,5]);return[4,c.validateSocketClient(s,e,i.client_id)];case 3:f.sent();if(!Qc.has(a)){c.logger.error("Frame ID ".concat(a," no longer exists"));throw new Is.Z(R.$VG.CLOSE_UNSUPPORTED,"Unrecognized frame ID ".concat(a))}Xc.set(e,s);Qc.delete(a);c.emit("connect",s);c.logger.info("Socket Validated: ".concat(s.id));return[3,5];case 4:
u=f.sent();c.logger.info("Socket Closed: ".concat(s.id,", ").concat(u.message));throw u;case 5:return[2]}}))})),function(e,t,n){return l.apply(this,arguments)});var u=Gc(s);s.handleClose=function(){var e=Hc((function(e,t){var r,o;return qc(this,(function(i){switch(i.label){case 0:return[4,n.e(54533).then(n.t.bind(n,197683,23))];case 1:r=i.sent().default;try{r.assert(t,r.object().required().unknown(!0).keys({code:r.number().valid(Object.values(R.$VG)).required(),message:r.string().optional()}))}catch(e){throw new Is.Z(R.$VG.CLOSE_UNSUPPORTED,e.message)}o=t;u.disconnectSocket(e,o);return[2]}}))}));return function(t,n){return e.apply(this,arguments)}}();Dc.S.subscribe(R.CkL.IFRAME_MOUNT,s.handleIFrameMount);Dc.S.subscribe(R.CkL.IFRAME_UNMOUNT,s.handleIFrameUnmount);s.validateSocketClient=e;s.logger=o;s.createPostMessageProxySocket=i;s.onFrameHandled=a;return s}r.prototype.routeEvent=function(e,t,n,r){if(!Array.isArray(n))throw new Is.Z(R.$VG.CLOSE_UNSUPPORTED,"Protocol error")
;var o=zc(n,2),i=o[0],a=o[1];switch(i){case Uc.Z.HANDSHAKE:if(null!=e)throw new Is.Z(R.$VG.CLOSE_UNSUPPORTED,"Already connected");return this.handleHandshake(t,a,r);case Uc.Z.FRAME:if(null==e)throw new Is.Z(R.$VG.CLOSE_UNSUPPORTED,"Not connected");return this.handleFrame(t,e,a);case Uc.Z.CLOSE:if(null==e)throw new Is.Z(R.$VG.CLOSE_UNSUPPORTED,"Not connected");return this.handleClose(e,a);default:throw new Is.Z(R.$VG.CLOSE_UNSUPPORTED,"Invalid opcode")}};return r}(Lc()),eu=n(812681);function tu(e){tu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return tu(e)}function nu(e,t){return!t||"object"!==ou(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ru(e,t){ru=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return ru(e,t)}var ou=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function iu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=tu(e);if(t){var o=tu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return nu(this,n)}}var au=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&ru(e,t)}(n,e);var t=iu(n);function n(e){var r,o=e.origin,i=e.postMessageToRPCClient,a=e.frameId,s=e.version,l=e.encoding,c=e.logger,u=e.postClose,f=e.onSendingToRPCClient;!function(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);r=t.call(this,R.Hej.POST_MESSAGE,s,l);if(-1===["etf","json"].indexOf(l))throw new Is.Z(R.$VG.INVALID_ENCODING,"Invalid Encoding: ".concat(l));if("etf"===l)throw new Is.Z(R.$VG.INVALID_ENCODING,"Erlpack cannot be used on this client");r.origin=o;r.postMessageToRPCClient=i;r.frameId=a;r.logger=c;r.postClose=u;r.onSendingToRPCClient=f;r.closed=!1;return r}var r=n.prototype;r.send=function(e){var t;null===(t=this.onSendingToRPCClient)||void 0===t||t.call(this,e,this.id);this.postMessageToRPCClient([Uc.Z.FRAME,e],this.origin)};r.close=function(e,t){this.closed||this.postClose(this.origin,{code:e,message:t},this.postMessageToRPCClient);this.closed=!0};return n}(eu.Z);const su=function(e){var t=e.origin,n=e.postMessageToRPCClient,r=e.frameId,o=e.version,i=e.encoding,a=e.logger,s=e.postClose;return new au({origin:t,postMessageToRPCClient:n,frameId:r,version:o,encoding:i,logger:a,postClose:s,
onSendingToRPCClient:function(e,t){(Mc.default.isLoggingOverlayEvents||e.cmd!==R.Etm.OVERLAY&&e.evt!==R.zMe.OVERLAY)&&a.info("Socket Emit: ".concat(t),(0,wc.Z)(e))}})};var lu=new Rn.Z("RPCServer:PostMessage"),cu=function(e,t,n){(Mc.default.isLoggingOverlayEvents||e.cmd!==R.Etm.OVERLAY)&&t.info("Socket Message: ".concat(n.id),(0,wc.Z)(e))};const uu={authCommands:Rc,voiceSettingsEvents:cc,postMessageTransport:function(){var e=new Jc(lc.em,lu,su,cu);window.addEventListener("message",(function(t){if(window!==t.source)if(null!=t.source&&null!=t.source.postMessage){var n=t.source,r=t.data,o=t.origin;e.handleMessage(r,o,(function(e,t){n.postMessage(e,t)}))}else lu.error("Unknown event source")}));return e}()};var fu=n(661627);var du=function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({},R.zMe.OVERLAY_UPDATE,{scope:R.lHf,handler:function(e){var t=e.args.pid,n=e.socket
;if("number"!=typeof t||t<10)throw new Is.Z(R.lTL.INVALID_EVENT,"Invalid pid");return function(e){var r=e.prevState,o=e.dispatch,i=Gr.Z.enabled,a=!0,s=n.application.id;if(null!=s){var l=kn.Z.getActiveLibraryApplication(s);null!=l&&(i=i&&l.isOverlayEnabled());a=Gr.Z.isInputLocked(t)}var c={enabled:i,locked:a};os().isEqual(c,r)||o(c);return c}}}),pu=n(7584),hu=n(321795),Eu=n(320646);function yu(e,t){return null!=e.application_id&&null==t.getApplicationActivity(e.application_id,!1)}var mu=n(64914),bu=n(651972),gu=n(979662),Ou=n(787619);function vu(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function _u(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){vu(i,r,o,a,s,"next",e)}function s(e){vu(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Iu(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Su(e,t){
t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var Tu,Nu=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{
value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function Cu(e,t,n,r){return Au.apply(this,arguments)}function Au(){Au=_u((function(e,t,n,r){var o,i,a,s,l=arguments;return Nu(this,(function(c){switch(c.label){case 0:o=l.length>4&&void 0!==l[4]?l[4]:"";if(null==(i=bu.Z.getApplicationActivity(t))||null==i.secrets||!(0,ds.t9)(r,i.party,i.secrets))throw new Is.Z(R.lTL.NO_ELIGIBLE_ACTIVITY,"No eligible activity for application. Ensure an activity includes a party and appropriate secret.");if(a=yu(i,gu.Z)){s=(0,lc.s0)(e).lock
;return[2,(0,hu.h7)(i,a).then((function(){s();throw new Is.Z(R.lTL.NO_ELIGIBLE_ACTIVITY,"No eligible activity for application. Ensure user does have have privacy enabled.")}))]}return[4,pu.Z.sendActivityInviteUser({userId:n,type:r,activity:i,content:o,location:"In-Game Invite"})];case 1:c.sent();return[2]}}))}));return Au.apply(this,arguments)}const Pu=(Iu(Tu={},R.Etm.SEND_ACTIVITY_JOIN_INVITE,{scope:Iu({},R.Gp_.ANY,[R.xVR.RPC,R.lHf]),handler:function(e){var t=e.socket,n=e.args,r=n.user_id,o=n.pid,i=t.application.id;if(null==i)throw new Is.Z(R.lTL.INVALID_COMMAND,"No application.");return Cu(o,i,r,R.mFx.JOIN)}}),Iu(Tu,R.Etm.CLOSE_ACTIVITY_JOIN_REQUEST,{scope:Iu({},R.Gp_.ANY,[R.xVR.RPC,R.lHf]),handler:function(e){var t=e.args.user_id,n=I.Z.getDMFromUserId(t);null!=n&&(0,Eu.In)(n,!0,!0)}}),Iu(Tu,R.Etm.ACTIVITY_INVITE_USER,{scope:Iu({},R.Gp_.ANY,[R.xVR.RPC,R.lHf]),validation:function(e){return e.object().required().keys({user_id:e.string().required(),
type:e.number().required().valid([R.mFx.JOIN]),content:e.string().min(0).max(1024),pid:e.number().min(0).required()})},handler:function(e){var t=e.socket,n=e.args,r=n.type,o=n.user_id,i=n.content,a=n.pid,s=t.application.id;if(null==s)throw new Is.Z(R.lTL.INVALID_COMMAND,"No application.");return Cu(a,s,o,r,i)}}),Iu(Tu,R.Etm.ACCEPT_ACTIVITY_INVITE,{scope:Iu({},R.Gp_.ANY,[R.xVR.RPC,R.lHf]),validation:function(e){return e.object().required().keys({type:e.number().required().valid([R.mFx.JOIN]),user_id:e.string().required(),session_id:e.string().required(),channel_id:e.string().required(),message_id:e.string().required()})},handler:function(e){var t=e.socket,n=e.args,r=n.type,o=n.user_id,i=n.session_id,a=n.channel_id,s=n.message_id,l=t.application.id;if(null==l)throw new Is.Z(R.lTL.INVALID_COMMAND,"No application.");var c=Promise.resolve(!1);if(r===R.mFx.JOIN)c=xn.Z.join({userId:o,sessionId:i,applicationId:l,channelId:a,messageId:s});return c.then((function(e){
if(!e)throw new Is.Z(R.lTL.INVALID_INVITE,"Invite is expired or invalid.")}))}}),Iu(Tu,R.Etm.OPEN_INVITE_DIALOG,{scope:Iu({},R.Gp_.ANY,[R.xVR.RPC,R.lHf,R.wEG]),handler:function(e){var t=e.socket,o=C.Z.getVoiceChannelId(),i=I.Z.getChannel(o);if(null==i)throw new Is.Z(R.lTL.INVALID_CHANNEL,"Invalid channel ".concat(o));var a=Ut.Z.getGuild(i.getGuildId());if(null==a)throw new Is.Z(R.lTL.INVALID_CHANNEL,"Invalid guild ".concat(i.getGuildId()));if(!(0,mu.b)(hn.Z,a,i))throw new Is.Z(R.lTL.INVALID_PERMISSIONS,"No invite permissions for ".concat(o));var s=_.Z.getWindow(R.KJ3.CHANNEL_CALL_POPOUT);(null==s?void 0:s.closed)&&(s=null);var l=null!=s?R.IlC.POPOUT:R.IlC.APP;(0,Ou.Pr)({},null==s?void 0:s.document);(0,Y.ZD)(_u((function(){var e,o;return Nu(this,(function(s){switch(s.label){case 0:return[4,Promise.all([n.e(40532),n.e(66150)]).then(n.bind(n,966150))];case 1:e=s.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,Su(function(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Iu(e,t,n[t])}))}return e}({},e),{guild:a,channel:i,applicationId:t.application.id,analyticsLocation:R.Sbl.ACTIVITY_RPC,source:R.t4x.ACTIVITY_INVITE}))}]}}))})),{contextKey:l===R.IlC.POPOUT?Pc.u1:Pc.z1})}}),Tu);var ju=n(365523),xu=n(922877);function Ru(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function Mu(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ru(i,r,o,a,s,"next",e)}function s(e){Ru(i,r,o,a,s,"throw",e)}a(void 0)}))}}function wu(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Zu(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){wu(e,t,n[t])}))}return e}function Lu(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var Du,Uu=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){
return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function ku(e,t){var n=xu.Z.isEntitledToSku(F.default.getCurrentUser(),e,t);return null!=n?Promise.resolve(n):(0,_l.yD)(t).then((function(){
return!0===xu.Z.isEntitledToSku(F.default.getCurrentUser(),e,t)}))}const Gu=(wu(Du={},R.Etm.VALIDATE_APPLICATION,{scope:R.lHf,handler:function(e){var t=e.socket.application.id;try{if(null==t)throw new Is.Z(R.lTL.INVALID_COMMAND,"No application.");var o=Mn.Z.getGame(t);if(null==o)throw new Is.Z(R.lTL.INVALID_ENTITLEMENT,"SKU does not exist.");var i=o.primarySkuId;if(null==i)throw new Is.Z(R.lTL.INVALID_ENTITLEMENT,"SKU does not exist.");return Promise.race([ku(i,o.id).then((function(e){if(!e)throw new Is.Z(R.lTL.INVALID_ENTITLEMENT,"User does not have entitlement.")})),(0,ju.GR)(1e4).then((function(){throw new Is.Z(R.lTL.INVALID_ENTITLEMENT,"Timed out fetching entitlement.")}))])}catch(e){if(e.code===R.lTL.INVALID_ENTITLEMENT){bs.default.focus(null,!0);(0,Y.ZD)(Mu((function(){var e,o;return Uu(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(68857)]).then(n.bind(n,468857))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,Lu(Zu({},e),{
applicationId:t}))}]}}))})))}throw e}}}),wu(Du,R.Etm.GET_ENTITLEMENT_TICKET,{scope:R.lHf,handler:function(e){var t=e.socket.application.id;if(null==t)throw new Is.Z(R.lTL.INVALID_COMMAND,"No application.");return gs.Z.post({url:R.ANM.ENTITLEMENT_TICKET(t),body:{test_mode:$n.Z.inTestModeForApplication(t)||Cs.Z.inDevModeForApplication(t)},retries:3,oldFormErrors:!0}).then((function(e){return e.body})).catch((function(e){bs.default.focus(null,!0);(0,Y.ZD)(Mu((function(){var e,o;return Uu(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(68857)]).then(n.bind(n,468857))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,Lu(Zu({},e),{applicationId:t}))}]}}))})));throw e}))}}),Du);var Bu=n(661623),Hu=n(676212);function Vu(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function Fu(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){
Vu(i,r,o,a,s,"next",e)}function s(e){Vu(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Yu(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var zu=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1]
;break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Wu="activity-hardware-acceleration-modal";function Ku(e){!Bu.ZP.disableActivityHardwareAccelerationPrompt&&kt.FB&&!bs.default.getEnableHardwareAcceleration()&&(0,Y.ZD)(Fu((function(){var t,o;return zu(this,(function(i){switch(i.label){case 0:return[4,Promise.resolve().then(n.bind(n,676212))];case 1:t=i.sent(),o=t.default;return[2,function(t){return(0,r.jsx)(o,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Yu(e,t,n[t])}))}return e}({applicationId:e},t))}]}}))})),{
modalKey:Wu,onCloseRequest:function(){Te.default.track(R.rMx.MODAL_DISMISSED,{type:Hu.ACTIVITY_ENCOURAGES_HW_ACCELERATION});(0,Y.Mr)(Wu)}})}const qu=function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({},R.Etm.ENCOURAGE_HW_ACCELERATION,{validation:function(e){return e.object()},handler:function(e){var t=e.socket;(0,ds.bu)(t.transport);var n=t.application.id;if(null!=n){Ku(n);return{enabled:bs.default.getEnableHardwareAcceleration()}}}});function Xu(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function Qu(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Xu(i,r,o,a,s,"next",e)}function s(e){Xu(i,r,o,a,s,"throw",e)}a(void 0)}))}}function $u(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Ju(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var ef,tf=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],
done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};const nf=($u(ef={},R.Etm.SET_OVERLAY_LOCKED,{scope:R.lHf,validation:function(e){return e.object().required().keys({locked:e.boolean().required(),pid:e.number().min(0).required()})},handler:function(e){var t=e.args,n=t.locked,r=t.pid;if(null==e.socket.application.id)throw new Is.Z(R.lTL.INVALID_COMMAND,"No application.");Nr.Z.setLocked(n,r)}}),$u(ef,R.Etm.OPEN_OVERLAY_ACTIVITY_INVITE,{scope:R.lHf,validation:function(e){return e.object().required().keys({
type:e.number().required().valid([R.mFx.JOIN]),pid:e.number().min(0).required()})},handler:function(e){var t=e.socket,n=e.args,r=n.type,o=n.pid,i=t.application.id;if(null==i)throw new Is.Z(R.lTL.INVALID_COMMAND,"No application.");var a=bu.Z.getApplicationActivity(i);if(null==a||null==a.secrets||!(0,ds.t9)(r,a.party,a.secrets))throw new Is.Z(R.lTL.NO_ELIGIBLE_ACTIVITY,"No eligible activity for application. Ensure an activity includes a party and appropriate secret.");var s=(0,lc.s0)(o).lock,l=yu(a,gu.Z);return(0,hu.h7)(a,l).then((function(){s();if(l)throw new Is.Z(R.lTL.NO_ELIGIBLE_ACTIVITY,"No eligible activity for application. Ensure user does have have privacy enabled.")}))}}),$u(ef,R.Etm.OPEN_OVERLAY_GUILD_INVITE,{scope:R.lHf,validation:function(e){return e.object().required().keys({code:e.string().required(),pid:e.number().min(0).required()})},handler:function(e){var t=e.args,n=t.code,r=t.pid;if(null==e.socket.application.id)throw new Is.Z(R.lTL.INVALID_COMMAND,"No application.")
;return sr.Z.resolveInvite(n,"Game SDK").then((function(e){var t=e.invite,n=e.code;if(null==t)throw new Is.Z(R.lTL.INVALID_INVITE,"Invalid invite id: ".concat(n));var o=(0,lc.s0)(r),i=o.context,a=o.lock;return new Promise((function(e){g.Z.dispatch({type:"INVITE_MODAL_OPEN",invite:t,code:n,context:i,resolve:e})})).then(a)}))}}),$u(ef,R.Etm.OPEN_OVERLAY_VOICE_SETTINGS,{scope:R.lHf,validation:function(e){return e.object().required().keys({pid:e.number().min(0).required()})},handler:function(e){var t=e.args.pid,o=e.socket,i=o.application.id;if(null==i)throw new Is.Z(R.lTL.INVALID_COMMAND,"No application.");var a=(0,lc.s0)(t).lock;return new Promise((function(e){(0,Y.ZD)(Qu((function(){var t,s;return tf(this,(function(l){switch(l.label){case 0:return[4,Promise.all([n.e(40532),n.e(68694)]).then(n.bind(n,568694))];case 1:t=l.sent(),s=t.default;return[2,function(t){return(0,r.jsx)(s,Ju(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){$u(e,t,n[t])}))}return e}({},t),{mediaEngineContext:i,title:o.application.name,onClose:function(){t.onClose();a();e()}}))}]}}))})))}))}}),ef);var rf=n(865622),of=n(476575),af=n(690217),sf=n(981171),lf=n(58226),cf=n(86124);function uf(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function ff(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){uf(i,r,o,a,s,"next",e)}function s(e){uf(i,r,o,a,s,"throw",e)}a(void 0)}))}}function df(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function pf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){df(e,t,n[t])}))}return e}function hf(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var Ef,yf=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){
if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function mf(e,t){null!=e&&Te.default.track(R.rMx.EXTERNAL_DYNAMIC_LINK_RECEIVED,{invite_code:null,has_auth_token:null,is_backgrounded:null,fingerprint:(0,rf.s)(e),link_type:t})}
const bf=(df(Ef={},R.Etm.INVITE_BROWSER,{scope:R.cEn,handler:function(e){var t=e.args.code;return ff((function(){var e;return yf(this,(function(n){switch(n.label){case 0:return[4,sr.Z.resolveInvite(t,"Desktop Modal")];case 1:if(null==(e=n.sent().invite))throw new Is.Z(R.lTL.INVALID_INVITE,"Invalid invite id: ".concat(t));tr.default.isAuthenticated()?g.Z.dispatch({type:"INVITE_MODAL_OPEN",invite:e,code:t,context:R.IlC.APP}):(0,q.dL)(R.Z5c.INVITE(t));return[2,{invite:e,code:t}]}}))}))()}}),df(Ef,R.Etm.GUILD_TEMPLATE_BROWSER,{scope:R.cEn,handler:function(e){var t=e.args.code;return ff((function(){var e;return yf(this,(function(o){switch(o.label){case 0:return null==F.default.getCurrentUser()?[2]:[4,lf.Z.resolveGuildTemplate(t)];case 1:if(null==(e=o.sent().guildTemplate))throw new Is.Z(R.lTL.INVALID_GUILD_TEMPLATE,"Invalid guild template id: ".concat(t));bs.default.focus();(0,Y.ZD)(ff((function(){var t,o;return yf(this,(function(i){switch(i.label){case 0:
return[4,Promise.all([n.e(40532),n.e(27846),n.e(67621)]).then(n.bind(n,167621))];case 1:t=i.sent(),o=t.default;return[2,function(t){return(0,r.jsx)(o,hf(pf({},t),{guildTemplate:e}))}]}}))})));return[2,{guildTemplate:e,code:t}]}}))}))()}}),df(Ef,R.Etm.GIFT_CODE_BROWSER,{scope:R.cEn,handler:function(e){var t=e.args.code;return new Promise((function(e,o){g.Z.wait((function(){sf.Z.resolveGiftCode(t,!0,!0).then((function(o){var i=o.giftCode;bs.default.focus();Te.default.track(R.rMx.OPEN_MODAL,{type:"gift_accept",location:R.SaU});(0,Y.ZD)(ff((function(){var e,o;return yf(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(51356)]).then(n.bind(n,51356))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,pf({code:t},e))}]}}))})));e({giftCode:i})})).catch((function(){return o(new Is.Z(R.lTL.INVALID_GIFT_CODE,"Invalid gift code: ".concat(t)))}))}))}))}}),df(Ef,R.Etm.DEEP_LINK,{scope:R.cEn,handler:function(e){var t=e.args,n=t.type,r=t.params
;bs.default.focus();switch(n){case R.jEp.USER_SETTINGS:if(null!=r){(0,q.dL)(R.Z5c.SETTINGS(r.section,r.subsection));mf(r.fingerprint,R.Ua3.SETTINGS)}break;case R.jEp.CHANGELOG:if(null!=r){(0,q.dL)(cf.Z.formatPathWithQuery(R.Z5c.CHANGELOGS(r.date),r.query));mf(r.fingerprint,R.Ua3.CHANGELOG)}break;case R.jEp.LIBRARY:(0,q.dL)(R.Z5c.APPLICATION_LIBRARY);null!=r&&mf(r.fingerprint,R.Ua3.LIBRARY);break;case R.jEp.STORE_HOME:(0,q.dL)(R.Z5c.APPLICATION_STORE);null!=r&&mf(r.fingerprint,R.Ua3.STORE);break;case R.jEp.STORE_LISTING:if(null!=r){(0,q.dL)(R.Z5c.APPLICATION_STORE_LISTING_SKU(r.skuId,r.slug));mf(r.fingerprint,R.Ua3.STORE)}break;case R.jEp.PICK_GUILD_SETTINGS:if(null!=r){(0,q.dL)({pathname:R.Z5c.PICK_GUILD_SETTINGS(r.section,r.subsection),search:r.search});mf(r.fingerprint,R.Ua3.GUILD_SETTINGS)}break;case R.jEp.CHANNEL:if(null!=r){(0,q.dL)({pathname:R.Z5c.CHANNEL(r.guildId,r.channelId,r.messageId),search:r.search});mf(r.fingerprint,R.Ua3.CHANNEL)}}}}),df(Ef,R.Etm.BROWSER_HANDOFF,{
scope:R.CND,handler:function(e){var t=e.args,n=t.handoffToken,r=t.fingerprint;bs.default.focus(null,!0);(0,of.lx)(n,r)}}),df(Ef,R.Etm.CONNECTIONS_CALLBACK,{scope:R.cEn,handler:function(e){var t=e.args,n=t.providerType,r=t.code,o=t.openid_params,i=t.state;return af.Z.callback(n,{code:r,openid_params:o,state:i})}}),df(Ef,R.Etm.BRAINTREE_POPUP_BRIDGE_CALLBACK,{scope:R.cEn,handler:function(e){var t=e.args,n=t.state,r=t.path,o=t.query;return(0,Yi.rt)({paymentSourceType:R.HeQ.PAYPAL,state:n,path:r,query:o})}}),df(Ef,R.Etm.BILLING_POPUP_BRIDGE_CALLBACK,{scope:R.cEn,handler:function(e){var t=e.args,n=t.state,r=t.path,o=t.query,i=t.payment_source_type;return(0,Yi.rt)({paymentSourceType:i,state:n,path:r,query:o})}}),Ef);var gf=n(229318),Of=n(859169);function vf(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var _f,If,Sf,Tf=[Of.Z.RPC];function Nf(e){if(null==e)return{lock:R.VqG,context:R.IlC.APP};var t=(0,lc.s0)(e);return{lock:t.lock,
context:t.context}}function Cf(e,t){var n={subscriptionTier:Ji.Si.TIER_2,analyticsLocations:Tf,analyticsObject:t};switch(e){case R.IlC.APP:return ha.Z.openPremiumPaymentModalInApp(n);case R.IlC.OVERLAY:return ha.Z.openPremiumPaymentModalInOverlay(n);default:throw new Error("Unexpected app context: ".concat(e))}}const Af=(vf(Sf={},R.Etm.START_PURCHASE,(vf(_f={},R.Gp_.ANY,[R.wEG,R.lHf]),vf(_f,"validation",(function(e){return e.object().required().keys({sku_id:e.string().required(),pid:e.number().min(0)})})),vf(_f,"handler",(function(e){var t=e.socket,n=e.args,r=n.sku_id,o=n.pid;Tl(t.transport);var i=t.application.id;if(null==i)throw new Is.Z(R.lTL.INVALID_COMMAND,"No application.");var a=Nf(t.transport!==R.Hej.POST_MESSAGE?o:null),s=a.lock,l=a.context,c={page:R.ZY5.IN_APP};return(0,gf.S)({applicationId:i,skuId:r,openPremiumPaymentModal:function(){return Cf(l,c)},analyticsLocations:Tf,analyticsLocation:c,context:l}).then((function(e){s();return e}),(function(e){s()
;if(null!=e)throw new Is.Z(R.lTL.PURCHASE_ERROR,e);throw new Is.Z(R.lTL.PURCHASE_CANCELED,"Purchase was canceled by the user.")}))})),_f)),vf(Sf,R.Etm.START_PREMIUM_PURCHASE,(vf(If={},R.Gp_.ANY,[R.wEG,R.lHf]),vf(If,"validation",(function(e){return e.object().keys({pid:e.number().min(0)})})),vf(If,"handler",(function(e){var t=e.socket,n=e.args.pid;Tl(t.transport);if(null==t.application.id)throw new Is.Z(R.lTL.INVALID_COMMAND,"No application.");var r=Nf(t.transport!==R.Hej.POST_MESSAGE?n:null),o=r.lock;return Cf(r.context,{page:R.ZY5.IN_APP}).then((function(){o()}),(function(e){o();if(null!=e)throw new Is.Z(R.lTL.PURCHASE_ERROR,e);throw new Is.Z(R.lTL.PURCHASE_CANCELED,"Purchase was canceled by the user.")}))})),If)),Sf);var Pf,jf=n(185347);function xf(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Rf(e){var t=e.application.id;if(null==t)throw new Is.Z(R.lTL.INVALID_COMMAND,"No application.");return t}
const Mf=(xf(Pf={},R.Etm.SET_VOICE_SETTINGS_2,{scope:R.lHf,validation:function(e){return e.object().required().keys({input_mode:e.object().keys({type:e.string().valid(Object.keys(R.pM4)),shortcut:e.string().required()}),self_mute:e.boolean(),self_deaf:e.boolean()})},handler:function(e){var t=e.socket,n=e.args,r=n.input_mode,o=n.self_mute,i=n.self_deaf,a=Rf(t);null!=r&&ze.Z.setMode(r.type,{shortcut:(0,jf.Kd)(r.shortcut)},a);null!=o&&o!==We.Z.isSelfMute(a)&&ze.Z.toggleSelfMute({context:a});null!=i&&i!==We.Z.isSelfDeaf(a)&&ze.Z.toggleSelfDeaf({context:a})}}),xf(Pf,R.Etm.SET_USER_VOICE_SETTINGS_2,{scope:R.lHf,validation:function(e){return e.object().required().keys({user_id:e.string().required(),volume:e.number().min(0).max(200),mute:e.boolean()})},handler:function(e){var t=e.socket,n=e.args,r=n.user_id,o=n.mute,i=n.volume,a=Rf(t);null!=o&&o!==We.Z.isLocalMute(r,a)&&ze.Z.toggleLocalMute(r,a);null!=i&&ze.Z.setLocalVolume(r,i,a)}}),Pf);function wf(e,t,n){t in e?Object.defineProperty(e,t,{
value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var Zf;function Lf(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Df(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Lf(e,t,n[t])}))}return e}var Uf=Df({},ec,Pu,Gu,qu,nf,bf,Af,(wf(Zf={},R.Etm.SET_USER_VOICE_SETTINGS,{scope:wf({},R.Gp_.ANY,[R.xVR.RPC,R.xVR.RPC_VOICE_WRITE]),validation:function(e){return e.object().required().keys({user_id:e.string().required(),pan:e.object().keys({left:e.number().min(0).max(1).required(),right:e.number().min(0).max(1).required()}),volume:e.number().min(0).max(200),mute:e.boolean()})},handler:function(e){
var t=e.args,n=t.user_id,r=t.pan,o=t.volume,i=t.mute,a=F.default.getCurrentUser();if(null==F.default.getUser(n)||(null==a?void 0:a.id)===n)throw new Is.Z(R.lTL.INVALID_USER,"Invalid user id: ".concat(n));null!=r&&ze.Z.setLocalPan(n,r.left,r.right);null!=o&&ze.Z.setLocalVolume(n,o);if(null!=i){var s=We.Z.isLocalMute(n);(s&&!i||!s&&i)&&ze.Z.toggleLocalMute(n)}return{user_id:n,pan:We.Z.getLocalPan(n),volume:We.Z.getLocalVolume(n),mute:We.Z.isLocalMute(n)}}}),wf(Zf,R.Etm.GET_VOICE_SETTINGS,{scope:wf({},R.Gp_.ANY,[R.xVR.RPC,R.xVR.RPC_VOICE_READ]),handler:function(){return(0,lc._X)()}}),wf(Zf,R.Etm.SET_VOICE_SETTINGS,{scope:wf({},R.Gp_.ANY,[R.xVR.RPC,R.xVR.RPC_VOICE_WRITE]),validation:function(e){return e.object().required().keys({input:e.object().keys({device_id:e.string().valid(Object.keys(We.Z.getInputDevices())),volume:e.number().min(0).max(100)}),output:e.object().keys({device_id:e.string().valid(Object.keys(We.Z.getOutputDevices())),volume:e.number().min(0).max(200)}),
mode:e.object().keys({type:e.string().valid(Object.keys(R.pM4)),auto_threshold:e.boolean(),threshold:e.number().min(-100).max(0),shortcut:e.array().items(e.object().keys({type:e.number().min(0).max(3).required(),code:e.number().required(),name:e.string()})),delay:e.number().min(0).max(2e3)}),automatic_gain_control:e.boolean(),echo_cancellation:e.boolean(),noise_suppression:e.boolean(),qos:e.boolean(),silence_warning:e.boolean(),deaf:e.boolean(),mute:e.boolean()})},handler:function(e){var t=e.args,n=t.input,r=t.output,o=t.mode,i=t.automatic_gain_control,a=t.echo_cancellation,s=t.noise_suppression,l=t.qos,c=t.silence_warning,u=t.deaf,f=t.mute;if(n){null!=n.device_id&&ze.Z.setInputDevice(n.device_id);null!=n.volume&&ze.Z.setInputVolume(n.volume)}if(r){null!=r.device_id&&ze.Z.setOutputDevice(r.device_id);null!=r.volume&&ze.Z.setOutputVolume(r.volume)}if(o){var d=We.Z.getMode(),p=We.Z.getModeOptions();null!=o.type&&(d=o.type);null!=o.auto_threshold&&(p.autoThreshold=o.auto_threshold)
;null!=o.threshold&&(p.threshold=o.threshold);null!=o.shortcut&&(p.shortcut=o.shortcut.map((function(e){return[e.type,e.code]})));null!=o.delay&&(p.delay=o.delay);ze.Z.setMode(d,p)}null!=i&&ze.Z.setAutomaticGainControl(i);null!=a&&ze.Z.setEchoCancellation(a);null!=s&&ze.Z.setNoiseSuppression(s);null!=l&&ze.Z.setQoS(l);null!=c&&ze.Z.setSilenceWarning(c);if(null!=u){var h=We.Z.isSelfDeaf();(h&&!u||!h&&u)&&ze.Z.toggleSelfDeaf()}if(null!=f){var E=We.Z.isSelfMute();(E&&!f||!E&&f)&&ze.Z.toggleSelfMute()}return(0,lc._X)()}}),Zf),Mf,uu.authCommands),kf=Df({},ac,du,uu.voiceSettingsEvents);const Gf=new ms({server:fu.Z,commands:Uf,events:kf,stores:[Br.Z],transports:[uu.postMessageTransport],registerTransportsForEmbeddedPlatform:function(){bs.default.ensureModule("discord_rpc").then((function(){var e=[n(649464).Z,n(901288).Z],t=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var s=i.value;fu.Z.registerTransport(s)}}catch(e){r=!0;o=e}finally{try{
t||null==a.return||a.return()}finally{if(r)throw o}}}))}});var Bf=n(573269),Hf=n(587753),Vf=n(83735);function Ff(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yf(e){Yf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Yf(e)}function zf(e,t){return!t||"object"!==Kf(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Wf(e,t){Wf=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Wf(e,t)}var Kf=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function qf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}()
;return function(){var n,r=Yf(e);if(t){var o=Yf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zf(this,n)}}var Xf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Wf(e,t)}(n,e);var t=qf(n);function n(){Ff(this,n);var e;(e=t.apply(this,arguments)).linesToUpdate={};e.lineBatchTimer=new ju.Xp;e._handleDrawLinePoint=function(t){var n=t.channelId,r=t.lineId,o=t.streamerId,i=t.point;null==e.linesToUpdate[r]?e.linesToUpdate[r]={channelId:n,streamerId:o,points:[i]}:e.linesToUpdate[r].points.push(i);null==e.lineBatchTimer._ref&&e.lineBatchTimer.start(Vf.Fq,e.sendLineBatch)};e.sendLineBatch=function(){for(var t in e.linesToUpdate){var n=e.linesToUpdate[t],r=n.channelId,o=n.points,i=n.streamerId;(0,Hf.AX)(r,t,i,o)}e.linesToUpdate={};e.lineBatchTimer.stop()};return e}
var r=n.prototype;r._initialize=function(){if(!__OVERLAY__){g.Z.subscribe("SHARED_CANVAS_DRAW_LINE_POINT",this._handleDrawLinePoint);g.Z.subscribe("VOICE_CHANNEL_EFFECT_SEND",this._handleVoiceChannelEffectReceived)}};r._terminate=function(){if(!__OVERLAY__){g.Z.unsubscribe("SHARED_CANVAS_DRAW_LINE_POINT",this._handleDrawLinePoint);g.Z.unsubscribe("VOICE_CHANNEL_EFFECT_SEND",this._handleVoiceChannelEffectReceived);this.lineBatchTimer.stop()}};r._handleVoiceChannelEffectReceived=function(e){var t,n=e.lineId,r=e.points,o=e.userId,i=e.streamerId,a=e.emojiHose;if(null!=i&&o!==(null===(t=F.default.getCurrentUser())||void 0===t?void 0:t.id))if(null!=r&&null!=n){var s=F.default.getUser(o);null!=s&&(0,Bf.vM)(s.getAvatarURL(null,Vf.Ks));(0,Hf.cV)(n,o,i,r)}else null!=a&&(0,Hf.gr)(a,o,i)};r.__getLocalVars=function(){return{}};return n}(v.Z);const Qf=new Xf;var $f=n(658620),Jf=n(619323),ed=n(453642),td=n(931439),nd=n(794445),rd=n(569396),od=n(72818);function id(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ad(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function sd(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ad(i,r,o,a,s,"next",e)}function s(e){ad(i,r,o,a,s,"throw",e)}a(void 0)}))}}function ld(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cd(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ud(e){ud=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return ud(e)}function fd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){cd(e,t,n[t])}))}return e}function dd(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function pd(e,t){return!t||"object"!==Ed(t)&&"function"!=typeof t?id(e):t}function hd(e,t){hd=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return hd(e,t)}var Ed=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function yd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0
;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=ud(e);if(t){var o=ud(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pd(this,n)}}var md=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0
;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},bd=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&hd(e,t)}(o,e);var t=yd(o);function o(){ld(this,o);var e;(e=t.apply(this,arguments)).playingSounds=new Map;e._stopAndClearSounds=function(){e.playingSounds.forEach((function(e){e.pause();e.src=""}));e.playingSounds=new Map};e._handleToggleSelfDeafened=function(){We.Z.isDeaf()&&e._stopAndClearSounds()};var i,a=id(e);e._handleSoundboardSoundRecieved=(i=sd((function(e){var t,n,r,o,i,s,l,c,u;return md(this,(function(f){
switch(f.label){case 0:t=e.soundId,n=e.soundOverridePath,r=e.soundVolume,o=void 0===r?1:r,i=e.userId,s=e.channelId;if(null==t||C.Z.getVoiceChannelId()!==s||We.Z.isDeaf())return[3,4];f.label=1;case 1:f.trys.push([1,,3,4]);l="".concat(i,"-").concat(t);if(null!=(c=a.playingSounds.get(l))){c.currentTime=0;return[2]}u=a.playingSounds;return[4,new Promise((function(e){var r=new Audio((0,od.Z)(t,n));r.volume=(0,rd.Rp)(o);r.addEventListener("canplaythrough",(function(){(0,nd.xR)(t,i);u.set(l,r);r.play()}));r.addEventListener("ended",(function(){u.delete(l);r.src="";e()}))}))];case 2:f.sent();return[3,4];case 3:(0,nd.R)(t,i);return[7];case 4:return[2]}}))})),function(e){return i.apply(this,arguments)});e._handleVoiceChannelSelect=function(){e._stopAndClearSounds()};e._handleOpenEducationModal=function(e,t){if(null!=e){var o=I.Z.getChannel(t),i=td.Z.getKeybindForAction(R.kg4.SOUNDBOARD_HOLD);(0,Lr.Z)(o)&&null!=i&&ed.Z.hasHotspot(Jf.v6.SOUNDBOARD_WHEEL_EDUCATION_MODAL)&&(0,Y.ZD)(sd((function(){
var t,o;return md(this,(function(a){switch(a.label){case 0:return[4,Promise.all([n.e(40532),n.e(6053)]).then(n.bind(n,706053))];case 1:t=a.sent(),o=t.default;return[2,function(t){return(0,r.jsx)(o,dd(fd({},t),{guildId:e,keybind:i}))}]}}))})))}};return e}var i=o.prototype;i._initialize=function(){if(!__OVERLAY__){g.Z.subscribe("VOICE_CHANNEL_EFFECT_SEND",this._handleSoundboardSoundRecieved);g.Z.subscribe("VOICE_CHANNEL_SELECT",this._handleVoiceChannelSelect);g.Z.subscribe("AUDIO_TOGGLE_SELF_DEAF",this._handleToggleSelfDeafened)}};i._terminate=function(){if(!__OVERLAY__){g.Z.unsubscribe("VOICE_CHANNEL_EFFECT_SEND",this._handleSoundboardSoundRecieved);g.Z.unsubscribe("VOICE_CHANNEL_SELECT",this._handleVoiceChannelSelect);g.Z.unsubscribe("AUDIO_TOGGLE_SELF_DEAF",this._handleToggleSelfDeafened)}};i.__getLocalVars=function(){return{}};return o}(v.Z);const gd=new bd;var Od=n(673221);function vd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _d(e){
_d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return _d(e)}function Id(e,t){return!t||"object"!==Td(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Sd(e,t){Sd=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Sd(e,t)}var Td=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Nd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=_d(e);if(t){var o=_d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Id(this,n)}}var Cd=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Sd(e,t)}(n,e);var t=Nd(n);function n(){vd(this,n);var e;(e=t.apply(this,arguments)).handleVoiceStateUpdates=function(t){var n=t.voiceStates,r=tr.default.getId();n.forEach((function(t){var n;if(t.userId===r){if(null===(n=I.Z.getChannel(t.channelId))||void 0===n?void 0:n.isGuildStageVoice()){if(!((0,Od.gf)(t)===Od.xO.ON_STAGE)){e.handleStopStream(t);e.handleStopUserVideo()}}}}))};e.handleStopStream=function(e){var t=xr.Z.getActiveStreamForUser(e.userId,e.guildId);null!=t&&(0,Cr.g)((0,jr.V9)(t),!1)};e.handleStopUserVideo=function(){We.Z.isVideoEnabled()&&ze.Z.setVideoEnabled(!1)};return e}var r=n.prototype;r._initialize=function(){g.Z.subscribe("VOICE_STATE_UPDATES",this.handleVoiceStateUpdates)};r._terminate=function(){g.Z.unsubscribe("VOICE_STATE_UPDATES",this.handleVoiceStateUpdates)}
;r.__getLocalVars=function(){return{}};return n}(v.Z);const Ad=new Cd;var Pd=n(963886);function jd(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function xd(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){jd(i,r,o,a,s,"next",e)}function s(e){jd(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Rd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Md(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function wd(e){wd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return wd(e)}function Zd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Md(e,t,n[t])}))}return e}function Ld(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Dd(e,t){return!t||"object"!==kd(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ud(e,t){Ud=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Ud(e,t)}var kd=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Gd(e){var t=function(){
if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=wd(e);if(t){var o=wd(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Dd(this,n)}}var Bd=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0]
;continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Hd="STAGE_INVITED_TO_SPEAK_MODAL",Vd=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Ud(e,t)}(o,e);var t=Gd(o);function o(){Rd(this,o);var e;(e=t.apply(this,arguments)).handleVoiceStateUpdates=function(e){var t,o=e.voiceStates,i=tr.default.getId(),a=null===(t=Pd.Z.getSession())||void 0===t?void 0:t.sessionId,s=o.find((function(e){
return e.userId===i&&e.sessionId===a}));if(null!=s){var l=s.channelId;if(null!=l){var c=I.Z.getChannel(l);if(null==c?void 0:c.isGuildStageVoice()){var u=(0,Od.gf)(s)===Od.xO.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK;if(null!=c&&u){if((0,Y.nf)(Hd))return;(0,Y.ZD)(xd((function(){var e,t;return Bd(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(24327)]).then(n.bind(n,124327))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Ld(Zd({},e),{channel:c}))}]}}))})),{modalKey:Hd,onCloseRequest:R.VqG})}}}else(0,Y.nf)(Hd)&&(0,Y.Mr)(Hd)}};return e}var i=o.prototype;i._initialize=function(){g.Z.subscribe("VOICE_STATE_UPDATES",this.handleVoiceStateUpdates)};i._terminate=function(){g.Z.unsubscribe("VOICE_STATE_UPDATES",this.handleVoiceStateUpdates)};i.__getLocalVars=function(){return{MODAL_KEY:Hd}};return o}(v.Z);const Fd=new Vd
;var Yd=n(975584),zd=n(484830),Wd=n(53211),Kd=n(778667),qd=n(915354),Xd=n(765515),Qd=n(390504),$d=n(964199),Jd=n(723927),ep=n(641645),tp=n(66692);function np(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function rp(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){np(i,r,o,a,s,"next",e)}function s(e){np(i,r,o,a,s,"throw",e)}a(void 0)}))}}var op=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break
;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},ip=[],ap=null,sp=null,lp=null;function cp(e,t,n,r){var o=Ut.Z.getGuild(n),i=e.replace(R.Cup,J.Z.Messages.SPOILER).replace(/<@!?(\d+)>/g,(function(e,t){var r,o=F.default.getUser(t);return null==o?e:null!==(r=as.ZP.getNick(n,o.id))&&void 0!==r?r:$d.ZP.getName(o)})).replace(/<@&?(\d+)>/g,(function(e,t){var n=null!=o?o.roles[t]:null;return null!=n&&null!=n.name?n.name:J.Z.Messages.MESSAGE_TTS_DELETED_ROLE})).replace(/<#(\d+)>/g,(function(e,t){
var n=I.Z.getChannel(t);return null==n?e:(0,Wd.F6)(n,F.default,us.Z)})).replace(/<a?:(\w+):(\d+)>/g,(function(e,t){return"".concat(J.Z.Messages.EMOJI," ").concat(t)})).replace(/<\/([^\s]+?):(\d+)>/g,(function(e,t){return"/".concat(t)}));return null==r?J.Z.Messages.MESSAGE_TTS.format({username:t,body:i}):J.Z.Messages.MESSAGE_TTS_REPLY.format({username:t,body:i,replyUsername:r})}function up(){if(!zd.Zh)return!1;var e=zl.default.locale;if(null==lp){var t;lp=null===(t=window.speechSynthesis)||void 0===t?void 0:t.getVoices()}var n=lp.filter((function(t){return t.lang===e||t.lang.slice(0,e.length)===e}));sp=n.length>0?n[0]:null}function fp(e,t,n,r,o){return dp.apply(this,arguments)}function dp(){return(dp=rp((function(e,t,n,r,o){var i;return op(this,(function(a){switch(a.label){case 0:if(null===(i=zd.e6(e,n)))return[2];null==sp&&up();return t?[4,(0,Jd.NB)()]:[3,2];case 1:a.sent();return[3,3];case 2:null==ap||ap.removeEventListener("end",Jd.NB);a.label=3;case 3:i.addEventListener("end",Jd.NB)
;null!=r&&i.addEventListener("start",r);null!=o&&i.addEventListener("end",o);ap=i;zd.iq(i,sp);return[2]}}))}))).apply(this,arguments)}function pp(e,t,n,r,o){fp(e,t,o,(function(){(0,Jd.Bo)(n,r)}))}function hp(e){fp(e.text,e.interrupt,e.maxLength,e.onStart,e.onEnd)}function Ep(){null!==ap&&ap.removeEventListener("end",Jd.NB);zd.M9();ap=null;return!0}function yp(e){var t,n,r,o=e.message,i=e.channel,a=o.type===R.uaV.REPLY?Kd.Z.getMessageByReference(o.messageReference):null,s=(null==a?void 0:a.state)===Kd.Y.LOADED?null==a||null===(t=a.message)||void 0===t?void 0:t.author:null,l=null!=s?null!==(n=as.ZP.getNick(i.guild_id,null==s?void 0:s.id))&&void 0!==n?n:$d.ZP.getName(s):null,c=i.getGuildId(),u=null!==(r=as.ZP.getNick(c,o.author.id))&&void 0!==r?r:$d.ZP.getName(o.author);pp(cp(o.content,u,c,l),!0,i.id,o.id);return!0}function mp(e){var t=e.channelId,n=e.message;if(e.optimistic||We.Z.isSelfDeaf())return!1;var r=I.Z.getChannel(t);if(null==r)return!1
;var o=C.Z.getChannelId(),i=qd.ZP.getCurrentSidebarChannelId(o),a=t===o||t===i,s=ut.OW.getSetting()&&n.tts&&a,l=Xd.Z.getTTSType(),c=n.author.id!==tr.default.getId()&&(l===R.PrB.ALL_CHANNELS||l===R.PrB.SELECTED_CHANNEL&&a);if((s||c)&&!us.Z.isBlocked(n.author.id)){var u;if(ip.indexOf(n.id)>=0)return!1;ip.unshift(n.id)>10&&ip.pop();var f,d=r.getGuildId();if(null!=d&&Qd.Z.getMutedChannels(d).has(t))return!1;var p,h=null!==(f=as.ZP.getNick(d,n.author.id))&&void 0!==f?f:$d.ZP.getName(n.author),E=n.type===R.uaV.REPLY?null===(u=n.referenced_message)||void 0===u?void 0:u.author:null,y=null!=E?null!==(p=as.ZP.getNick(d,null==E?void 0:E.id))&&void 0!==p?p:$d.ZP.getName(E):null;pp(cp(n.content,h,d,y),!1,r.id,n.id,tp.f)}return!1}function bp(e){var t=e.id,n=e.channelId,r=ep.Z.currentMessage;if(null!=r&&t===r.messageId&&n===r.channelId){(0,Jd.NB)();return!0}return!1}function gp(){We.Z.isSelfDeaf()&&zd.M9()}const Op=function(){g.Z.subscribe("SPEAK_TEXT",hp);g.Z.subscribe("SPEAK_MESSAGE",yp)
;g.Z.subscribe("STOP_SPEAKING",Ep);g.Z.subscribe("MESSAGE_CREATE",mp);g.Z.subscribe("MESSAGE_DELETE",bp);g.Z.subscribe("AUDIO_TOGGLE_SELF_DEAF",gp);g.Z.subscribe("USER_SETTINGS_PROTO_UPDATE",up);g.Z.subscribe("I18N_LOAD_SUCCESS",up)};var vp=n(194807),_p=n(617707),Ip=n(36391),Sp=n(64027);function Tp(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function Np(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Tp(i,r,o,a,s,"next",e)}function s(e){Tp(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Cp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ap(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Pp(e){Pp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Pp(e)}function jp(e){
for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Ap(e,t,n[t])}))}return e}function xp(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Rp(e,t){return!t||"object"!==wp(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Mp(e,t){
Mp=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Mp(e,t)}var wp=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Zp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Pp(e);if(t){var o=Pp(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Rp(this,n)}}var Lp=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,
r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Dp=null;function Up(e){return kp.apply(this,arguments)}function kp(){kp=Np((function(e){var t,o,i,a,s,l,c,u,f,d,p,h,E,y,m,b,g,O,v,_,I;return Lp(this,(function(S){switch(S.label){case 0:t=e.userId,o=e.section,i=e.guildId,a=void 0===i?R.ME:i,s=e.channelId,l=e.friendToken,c=e.autoFocusNote,
u=e.analyticsLocation;d=F.default.getUser(t);p=Ip.Z.getUserProfile(t);if(null==d)return[2];if(null!=(h=cs.Z.getPrimaryActivity(t))){E=h.party;y=h.assets;m=null!=h.application_id?Mn.Z.getGame(h.application_id):null}b=cs.Z.getStatus(t);g=cs.Z.isMobileOnline(t);O=b;b===R.Skl.ONLINE&&(O=g?R.j28.ONLINE_MOBILE:R.j28.ONLINE_DESKTOP);return[4,(0,Y.ZD)(Np((function(){var e,t;return Lp(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(55665)]).then(n.bind(n,755665))];case 1:e=i.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,xp(jp({},e),{user:d,autoFocusNote:c,guildId:a,friendToken:l,initialSection:o}))}]}}))})))];case 1:Dp=S.sent();Te.default.track(R.rMx.OPEN_MODAL,jp({type:"Profile Modal",guild_id:a!==R.ME?a:null,channel_id:s,other_user_id:t,application_id:null!==(v=null==h?void 0:h.application_id)&&void 0!==v?v:null,application_name:null==h?void 0:h.name,sku_id:null!==(_=null==m?void 0:m.primarySkuId)&&void 0!==_?_:null,is_friend:us.Z.isFriend(t),
has_images:Boolean(null!==(I=null==y?void 0:y.large_image)&&void 0!==I?I:null==y?void 0:y.small_image),party_max:null==E||null===(f=E.size)||void 0===f?void 0:f[1],party_id:null==E?void 0:E.id,party_platform:(0,Sp.Ps)(null==E?void 0:E.id)?R.ABu.SPOTIFY:null,game_platform:(0,_p.Z)(h),profile_user_status:O,profile_has_nitro_customization:null!=(null==p?void 0:p.banner)},null==u?null:(0,Te.expandLocation)(u)));return[2]}}))}));return kp.apply(this,arguments)}function Gp(){null!=Dp&&(0,Y.Mr)(Dp);Dp=null}var Bp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Mp(e,t)}(n,e);var t=Zp(n);function n(){Cp(this,n);return t.apply(this,arguments)}var r=n.prototype;r._initialize=function(){g.Z.subscribe("USER_PROFILE_MODAL_OPEN",Up);g.Z.subscribe("USER_PROFILE_MODAL_CLOSE",Gp)};r._terminate=function(){
g.Z.unsubscribe("USER_PROFILE_MODAL_OPEN",Up);g.Z.unsubscribe("USER_PROFILE_MODAL_CLOSE",Gp)};r.__getLocalVars=function(){return{modalKey:Dp}};return n}(v.Z);const Hp=new Bp;var Vp=n(579220),Fp=n(912224),Yp=n(244028),zp=n(78979),Wp=n(383689),Kp=n(828917),qp=n(71190),Xp=n(57712),Qp=n(294184),$p=n.n(Qp),Jp=n(487502),eh=n(237745),th=n.n(eh);function nh(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var rh=function(e){return(0,r.jsx)(th(),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){nh(e,t,n[t])}))}return e}({sitekey:R.OL7},e))};rh.Themes={LIGHT:"light",DARK:"dark"};rh.Sizes={COMPACT:"compact",NORMAL:"normal",INVISIBLE:"invisible"};const oh=rh
;var ih=n(959665),ah=n.n(ih),sh=n(380203),lh=n.n(sh);function ch(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uh(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function fh(e){fh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return fh(e)}function dh(e,t){return!t||"object"!==hh(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ph(e,t){ph=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return ph(e,t)}var hh=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Eh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{
Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=fh(e);if(t){var o=fh(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return dh(this,n)}}var yh=$.Z.getArticleURL(R.BhN.VERIFICATION_FAQ),mh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&ph(e,t)}(n,e);var t=Eh(n);function n(){ch(this,n);var e;(e=t.apply(this,arguments)).handleClick=function(t){var n=e.props.onClick;null==n||n(t)};return e}var o=n.prototype;o.renderFields=function(){var e=this,t=this.props,n=t.types,o=t.captchaKey,i=t.theme,a=t.onCaptchaVerify;return(0,r.jsx)(r.Fragment,{children:n.map((function(t){return t===R.PUi.CAPTCHA?(0,r.jsx)(oh,{onVerify:a,theme:i},o):(0,r.jsx)(K.zx,{className:$p()(lh().marginBottom20),
onClick:function(){return e.handleClick(t)},children:qp.Z.getButtonTitle(t)},t)}))})};o.render=function(){return(0,r.jsxs)(Jp.Z,{className:ah().verification,align:Jp.Z.Align.CENTER,direction:Jp.Z.Direction.VERTICAL,children:[(0,r.jsxs)(Jp.Z,{className:$p()(ah().container,uh({},ah().isMobile,oo.tq)),direction:Jp.Z.Direction.VERTICAL,align:Jp.Z.Align.CENTER,justify:Jp.Z.Justify.CENTER,children:[(0,r.jsx)("div",{className:ah().image}),(0,r.jsx)("div",{className:$p()(ah().title,lh().marginTop20),children:J.Z.Messages.VERIFICATION_TITLE}),(0,r.jsx)("div",{className:$p()(ah().body,lh().marginTop4,lh().marginBottom20),children:J.Z.Messages.VERIFICATION_BODY_WITH_HELP_LINK.format({helpCenterURL:yh})}),(0,r.jsx)(Jp.Z,{grow:0,direction:Jp.Z.Direction.VERTICAL,justify:Jp.Z.Justify.CENTER,children:this.renderFields()})]}),(0,r.jsx)("div",{className:$p()(ah().footer,lh().marginTop20),children:J.Z.Messages.VERIFICATION_FOOTER}),(0,r.jsxs)(Jp.Z,{className:$p()(lh().marginTop4,lh().marginBottom20),
grow:0,children:[(0,r.jsx)("div",{className:$p()(ah().footer,ah().footerAction),children:J.Z.Messages.VERIFICATION_FOOTER_SUPPORT.format({supportURL:$.Z.getSubmitRequestURL()})}),(0,r.jsx)("div",{className:$p()(ah().footer,ah().footerBullet),children:"•"}),(0,r.jsx)("div",{className:$p()(ah().footer,ah().footerAction),children:J.Z.Messages.VERIFICATION_FOOTER_LOGOUT.format({logoutOnClick:this.props.onLogout})})]})]})};return n}(o.PureComponent);mh.defaultProps={types:[R.PUi.CAPTCHA],onCaptchaVerify:R.dG4,onLogout:R.dG4};const bh=mh;var gh=n(93042),Oh=n(30741),vh=n(441143),_h=n.n(vh),Ih=n(429244),Sh=n(493925),Th=n(468811),Nh=n.n(Th),Ch=n(978607),Ah=n.n(Ch),Ph=n(3066),jh=n.n(Ph);function xh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Rh(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function Mh(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wh(e){wh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return wh(e)}function Zh(e,t){return!t||"object"!==Uh(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Lh(e,t){Lh=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Lh(e,t)}function Dh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return xh(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xh(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Uh=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function kh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=wh(e);if(t){var o=wh(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Zh(this,n)}}var Gh=function(e,t){var n,r,o,i,a={label:0,
sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{
value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Bh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Lh(e,t)}(o,e);var t=kh(o);function o(){Mh(this,o);var e;(e=t.apply(this,arguments))._animItem=null;e._timeout=new ju.V7;e._headerId=Nh().v4();e.state={resent:!1,shouldClose:!1,email:"",password:""};e.setLottieRef=function(t){e._lottieRef=t};e.handleVerify=function(){(0,e.props.onVerify)(e.state.email,e.state.password)};e.handleResendEmail=function(){var t=e.props,n=t.onResend,r=t.onClose;n();if(!e.state.resent){e.setState({resent:!0,shouldClose:!0});e._timeout.start(3e3,(function(){e.state.shouldClose&&r()}))}};e.handleChangeEmailClick=function(){var t=e.props.onChangeEmailClick;e.setState({resent:!1,shouldClose:!1});t()};e.handleEmailChange=function(t){e.setState({email:t})};e.handlePasswordChange=function(t){
e.setState({password:t})};e.handleKeyPress=function(t){var n=e.state,r=n.email,o=n.password;if(13===t.which&&r.length>0&&o.length>0){t.preventDefault();e.handleVerify()}};return e}var i=o.prototype;i.componentDidMount=function(){var e,t=this;return(e=function(){var e,r,o,i;return Gh(this,(function(a){switch(a.label){case 0:return[4,Promise.all([n.e(63266).then(n.t.bind(n,763266,19)),Promise.resolve().then(n.t.bind(n,211248,23))])];case 1:e=Dh.apply(void 0,[a.sent(),2]),r=e[0],o=e[1],i=o.default;t._animItem=i.loadAnimation({container:t._lottieRef,renderer:"svg",loop:!0,autoplay:!0,animationData:r});return[2]}}))},function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Rh(i,r,o,a,s,"next",e)}function s(e){Rh(i,r,o,a,s,"throw",e)}a(void 0)}))})()};i.componentWillUnmount=function(){this._timeout.stop();if(null!=this._animItem){this._animItem.destroy();this._animItem=void 0}};i.renderInputs=function(){
var e=this.props,t=e.emailError,n=e.passwordError,o=e.submitting,i=this.state,a=i.email,s=i.password;return(0,r.jsxs)("div",{className:Ah().container,children:[(0,r.jsx)(K.xJ,{title:J.Z.Messages.FORM_LABEL_EMAIL,className:lh().marginBottom20,children:(0,r.jsx)(K.oi,{value:a,error:t,onChange:this.handleEmailChange,onKeyPress:this.handleKeyPress,autoFocus:!0})}),(0,r.jsx)(K.xJ,{title:J.Z.Messages.FORM_LABEL_PASSWORD,className:lh().marginBottom40,children:(0,r.jsx)(K.oi,{type:"password",value:s,error:n,onChange:this.handlePasswordChange,onKeyPress:this.handleKeyPress})}),(0,r.jsx)(K.zx,{fullWidth:!0,size:K.zx.Sizes.LARGE,onClick:this.handleVerify,submitting:o,disabled:0===a.length||0===s.length,children:J.Z.Messages.VERIFY_ACCOUNT})]})};i.renderActions=function(){var e=this.props.canChange;return(0,r.jsxs)("div",{className:Ah().container,children:[(0,r.jsx)(K.zx,{className:lh().marginTop20,fullWidth:!0,size:K.zx.Sizes.LARGE,look:K.iL.INVERTED,color:K.Tt.PRIMARY,
onClick:this.handleResendEmail,children:J.Z.Messages.RESEND_EMAIL}),e&&(0,r.jsx)(K.zx,{className:lh().marginTop20,fullWidth:!0,size:K.zx.Sizes.MEDIUM,look:K.iL.LINK,color:K.Tt.PRIMARY,onClick:this.handleChangeEmailClick,children:J.Z.Messages.CHANGE_EMAIL})]})};i.render=function(){var e,t=this.state.resent,n=this.props,o=n.email,i=n.canResend,a=n.transitionState;e=t&&null!=o?J.Z.Messages.VERIFY_EMAIL_BODY_RESENT.format({email:o}):i?J.Z.Messages.VERIFY_EMAIL_BODY:J.Z.Messages.ENTER_EMAIL_BODY;return(0,r.jsxs)(Q.Y0,{transitionState:a,"aria-labelledby":this._headerId,className:$p()(Ah().emailVerificationModal,jh().vertical,jh().alignCenter,jh().justifyCenter,lh().marginTop60),children:[(0,r.jsx)("div",{className:Ah().animationContainer,ref:this.setLottieRef}),(0,r.jsx)("div",{id:this._headerId,className:$p()(Ah().title,lh().marginBottom8),children:J.Z.Messages.VERIFY_BY_EMAIL}),(0,r.jsx)("div",{className:$p()(Ah().body,lh().marginBottom20),children:e
}),i?this.renderActions():this.renderInputs()]})};return o}(o.PureComponent);Bh.defaultProps={canResend:!1,canChange:!0,onChangeEmailClick:R.dG4,onVerify:function(e,t){},onResend:R.dG4,onClose:R.dG4};const Hh=Bh;function Vh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Fh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Vh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vh(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const Yh=function(e){var t=e.transitionState,n=e.onClose,i=function(e){var t,n;return null!==(n=null==a||null===(t=a[e])||void 0===t?void 0:t[0])&&void 0!==n?n:""},a=(0,s.e7)([Sh.Z],(function(){return Sh.Z.getErrors()})),c=(0,s.e7)([Sh.Z],(function(){return Sh.Z.getFormState()})),u=(0,s.e7)([F.default],(function(){var e=F.default.getCurrentUser();_h()(null!=e,"EmailVerificationModal: user cannot be undefined");return e})),f=(0,s.e7)([Xp.Z],(function(){return Xp.Z.getAction()})),d=!qp.Z.isEmailReverification(f),p=null!=u.email,h=Fh(o.useState(!0),2),E=h[0],y=h[1],m=c===R.QZA.SUBMITTING,b=i("email"),g=i("password");return(0,r.jsx)(Hh,{transitionState:t,email:u.email,emailError:b,passwordError:g,submitting:m,
canResend:E&&!m&&p&&0===b.length&&0===g.length,canChange:d,onChangeEmailClick:function(){y(!1)},onVerify:function(e,t){(0,Za.Mn)({email:e,password:t}).then((function(e){var t;(null==e?void 0:e.ok)||null==(null==e||null===(t=e.body)||void 0===t?void 0:t.username)||(0,Ih.P)()}));y(!0)},onResend:function(){l.Z.verifyResend()},onClose:n})};var zh=n(997846),Wh=n(330665);function Kh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qh(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Xh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){qh(e,t,n[t])}))}return e}function Qh(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function $h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Kh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kh(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Jh="Email Verification";function eE(){var e=(0,s.cj)([Xp.Z,ct.Z],(function(){return{action:Xp.Z.getAction(),theme:ct.Z.theme}})),t=e.action,n=e.theme,i=qp.Z.getVerificationTypes(t),a=$h(o.useState(0),2),c=a[0],u=a[1],f=(0,Yp.Z)(i);(0,Wp.Z)({type:W.nv.MODAL,name:W.zs.USER_ACTION_REQUIRED,properties:{verification_type:i[0],verification_types:i}},{},[i.toString()]);var d=function(){(0,Za.FD)();(0,Y.h7)((function(e){return(0,r.jsx)(Yh,Xh({},e))}),{modalKey:Jh,Layer:gh.ZP})};o.useEffect((function(){zp.Z.disable();return function(){zp.Z.enable()}}),[]);o.useEffect((function(){(null==f?void 0:f[0])===R.PUi.PHONE&&(null==i?void 0:i[0])===R.PUi.EMAIL&&(0,Y.h7)((function(e){
return(0,r.jsx)(Fp.default,Qh(Xh({},e),{title:J.Z.Messages.PHONE_THEN_EMAIL_INTERSTITIAL_TITLE,body:J.Z.Messages.PHONE_THEN_EMAIL_INTERSTITIAL_BODY,confirmText:J.Z.Messages.PHONE_THEN_EMAIL_INTERSTITIAL_CONFIRM}))}),{modalKey:"PHONE_THEN_EMAIL_INTERSTITIAL_MODAL_KEY",Layer:gh.ZP,onCloseCallback:d})}),[i,f]);return(0,r.jsx)(bh,{types:i,captchaKey:c,onCaptchaVerify:function(e){gs.Z.post({url:R.ANM.CAPTCHA,body:{captcha_key:e},oldFormErrors:!0}).then(Vp.xf,(function(){u((function(e){return e+1}))}))},theme:n,onClick:function(e){e===R.PUi.EMAIL_OR_PHONE||e===R.PUi.EMAIL||e===R.PUi.REVERIFY_EMAIL?d():(0,Y.h7)((function(e){return(0,r.jsx)(zh.default,Xh({reason:Kp.L.USER_ACTION_REQUIRED},e))}),{modalKey:Wh.M,Layer:gh.ZP})},onLogout:function(){return(0,Y.h7)((function(e){return(0,r.jsx)(Oh.default,Qh(Xh({header:J.Z.Messages.LOGOUT,confirmText:J.Z.Messages.LOGOUT,cancelText:J.Z.Messages.CANCEL,onConfirm:function(){return l.Z.logout()}},e),{children:(0,r.jsx)(K.xv,{variant:"text-md/normal",
children:J.Z.Messages.USER_SETTINGS_CONFIRM_LOGOUT})}))}),{Layer:gh.ZP})}})}var tE=n(331389),nE=n(725002),rE=n(634298),oE=n.n(rE);function iE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function aE(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function sE(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){aE(i,r,o,a,s,"next",e)}function s(e){aE(i,r,o,a,s,"throw",e)}a(void 0)}))}}function lE(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return
;if("string"==typeof e)return iE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iE(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var cE=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:
a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function uE(e){var t=e.transitionState,i=(0,s.cj)([Xp.Z],(function(){return{requiredAction:Xp.Z.getAction()}})).requiredAction,a=lE(o.useState(!1),2),l=a[0],c=a[1],u=(0,X.Dt)();function f(){f=sE((function(){var e,t;return cE(this,(function(n){switch(n.label){case 0:c(!0);return i!==R.c2C.AGREEMENTS?[3,2]:[4,(0,Kl.Lr)()];case 1:e=n.sent();c(e);return[3,4];case 2:return i!==R.c2C.TOS_UPDATE_ACKNOWLEDGMENT?[3,4]:[4,(0,Kl.zD)()];case 3:t=n.sent();c(t);n.label=4;case 4:
return[2,null]}}))}));return f.apply(this,arguments)}return(0,r.jsxs)(Q.Y0,{"aria-labelledby":u,transitionState:t,className:$p()(oE().modal,oE().specificOverride,"theme-light"),children:[(0,r.jsx)("div",{id:u,className:oE().title,children:J.Z.Messages.NEW_TERMS_TITLE}),(0,r.jsx)(K.$i,{}),(0,r.jsxs)(nE.ZP,{children:[(0,r.jsx)(K.R9,{className:oE().description,children:i===R.c2C.AGREEMENTS?J.Z.Messages.TERMS_AGREEMENT_DESCRIPTION_1:i===R.c2C.TOS_UPDATE_ACKNOWLEDGMENT?J.Z.Messages.TERMS_ACKNOWLEDGEMENT_DESCRIPTION_1.format({date:R.DFn}):null}),(0,r.jsx)(K.R9,{className:oE().description,children:i===R.c2C.AGREEMENTS?J.Z.Messages.TERMS_AGREEMENT_DESCRIPTION_2:i===R.c2C.TOS_UPDATE_ACKNOWLEDGMENT?J.Z.Messages.TERMS_ACKNOWLEDGEMENT_DESCRIPTION_2:null}),(0,r.jsxs)(Jp.Z,{className:oE().container,align:Jp.Z.Align.CENTER,justify:Jp.Z.Justify.CENTER,children:[(0,r.jsxs)(Jp.Z,{direction:Jp.Z.Direction.VERTICAL,children:[(0,r.jsx)("div",{className:oE().link,
children:J.Z.Messages.TERMS_OF_SERVICE.format({url:R.EYA.TERMS})}),(0,r.jsx)("div",{className:oE().link,children:J.Z.Messages.PRIVACY_POLICY.format({url:R.EYA.PRIVACY})}),(0,r.jsx)("div",{className:oE().link,children:J.Z.Messages.COMMUNITY_GUIDELINES.format({url:R.EYA.GUIDELINES})}),(0,r.jsx)("div",{className:oE().link,children:J.Z.Messages.BLOG_POST.format({url:R.EYA.TOS_UPDATE_FEB_2022})})]}),(0,r.jsx)("img",{className:oE().image,alt:"",src:n(31890)})]})]}),(0,r.jsx)(K.$i,{}),(0,r.jsx)("div",{className:oE().buttonContainer,children:(0,r.jsx)(K.zx,{className:oE().button,submitting:l,onClick:function(){return f.apply(this,arguments)},children:J.Z.Messages.GOT_IT})})]})}function fE(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var dE="AGREEMENTS_MODAL_KEY";const pE={init:function(){g.Z.subscribe("CONNECTION_OPEN",this.handleRequiredAction);g.Z.subscribe("USER_REQUIRED_ACTION_UPDATE",this.handleRequiredAction)
;g.Z.subscribe("CURRENT_USER_UPDATE",this.handleCurrentUserUpdate);g.Z.subscribe("LOGOUT",this.handleLogout)},handleRequiredAction:function(e){var t=e.requiredAction;if(!Xi.s.isDisallowPopupsSet())if(null==F.default.getCurrentUser()){(0,tE.ob)("verification");(0,Y.nf)(dE)&&(0,Y.Mr)(dE)}else if(t===R.c2C.REQUIRE_CAPTCHA||t===R.c2C.REQUIRE_VERIFIED_EMAIL||t===R.c2C.REQUIRE_VERIFIED_PHONE||t===R.c2C.REQUIRE_REVERIFIED_PHONE||t===R.c2C.REQUIRE_REVERIFIED_EMAIL_OR_REVERIFIED_PHONE||t===R.c2C.REQUIRE_VERIFIED_EMAIL_OR_REVERIFIED_PHONE||qp.Z.isEmailReverification(t))(0,tE.q4)((function(){return(0,r.jsx)(eE,{})}),{layerKey:"verification",Layer:gh.ZP});else if(t===R.c2C.AGREEMENTS||t===R.c2C.TOS_UPDATE_ACKNOWLEDGMENT)(0,Y.h7)((function(e){return(0,r.jsx)(uE,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){fE(e,t,n[t])}))}return e}({},e))}),{modalKey:dE,onCloseRequest:Ol.Vq});else if(null==t){(0,tE.ob)("verification");(0,Y.nf)(dE)&&(0,Y.Mr)(dE)}},handleLogout:function(){(0,tE.ob)("verification")},handleCurrentUserUpdate:function(e){e.user.verified&&(0,Y.Mr)(Jh)}};var hE=n(213192),EE=n.n(hE),yE=n(200637),mE=n(368351),bE=n(228031);function gE(e){var t=EE()({IMAGE:null,VIDEO:null}),n=s.ZP.PersistedStore.migrateAndReadStoreState("GIFFavoritesStore",[function(e){return null==e?{favorites:[],timesFavorited:0}:Array.isArray(e)?{favorites:e,timesFavorited:0}:e},function(e){return Array.isArray(e.favorites)?e:{favorites:[],timesFavorited:0}}]).state;return null==n||0===n.favorites.length?[]:n.favorites.map((function(r,o){var i=yE.JM.create();i.format=r.format===t.IMAGE?yE.EO.IMAGE:r.format===t.VIDEO?yE.EO.VIDEO:yE.EO.NONE;i.src=r.src;i.width=r.width;i.height=r.height;i.order=n.favorites.length-o+e;return{url:r.url,
favorite:i}}))}var OE=[{version:2,run:function(e){var t=gE(1);if(0===t.length)return!1;null==e.favoriteGifs&&(e.favoriteGifs=yE.wK.create());e.favoriteGifs.gifs={};var n=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value,l=s.url,c=s.favorite;e.favoriteGifs.gifs[l]=c}}catch(e){r=!0;o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}e.favoriteGifs.hideTooltip=t.length>2;return!0},cleanup:function(){}},{version:3,run:function(e){var t=s.ZP.PersistedStore.migrateAndReadStoreState("StickersPersistedStore",[function(e){return null==e||0===Object.keys(e).length?{usageHistory:{},favorites:[]}:e},function(e){if(null==e||0===Object.keys(e).length)return{usageHistory:{},favorites:[]};null==e.favorites&&(e.favorites=[]);return e}]).state;if(null==t)return!1;var n=!1;if(t.favorites.length>0){e.favoriteStickers=yE.Lt.create();e.favoriteStickers.stickerIds=os().uniq(t.favorites).slice(0,bE.oX);n=!0}if(os().size(t.usageHistory)>0){
e.stickerFrecency=yE.ls.create();e.stickerFrecency.stickers=(0,mE.tU)(t.usageHistory,100);n=!0}return n},cleanup:function(){Se.Z.remove("StickersPersistedStore")}},{version:4,run:function(e){var t=s.ZP.PersistedStore.migrateAndReadStoreState("EmojiStore",[function(){return{usageHistory:Se.Z.get("EmojiUsageHistory")||{}}}]).state;if(null==t)return!1;var n=!1;if(null!=t.favorites&&t.favorites.length>0){e.favoriteEmojis=yE.ND.create();e.favoriteEmojis.emojis=os().uniq(t.favorites).slice(0,bE.oX);n=!0}if(os().size(t.usageHistory)>0){e.emojiFrecency=yE.PL.create();e.emojiFrecency.emojis=(0,mE.tU)(t.usageHistory,100);n=!0}return n},cleanup:function(){Se.Z.remove("EmojiStore");Se.Z.remove("EmojiUsageHistory");Se.Z.remove("EmojiDiversitySurrogate")}},{version:6,run:function(e){null==e.favoriteGifs&&(e.favoriteGifs=yE.wK.create());null==e.favoriteGifs.gifs&&(e.favoriteGifs.gifs={});var t=gE(1);if(0===t.length)return!1;os()(e.favoriteGifs.gifs).values().sortBy("order").forEach((function(e,n){
return e.order=t.length+1+n}));var n=yE.wK.toBinary(e.favoriteGifs).length,r=0,o=!0,i=!1,a=void 0;try{for(var s,l=t[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var c=s.value,u=c.url,f=c.favorite;f.order=t.length-r;r++;if(u in e.favoriteGifs.gifs)e.favoriteGifs.gifs[u].order=f.order;else{var d=yE.JM.toBinary(f).length+u.length+7;if(!(n+d>bE.vY)){n+=d;e.favoriteGifs.gifs[u]=f}}}}catch(e){i=!0;a=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}n=yE.wK.toBinary(e.favoriteGifs).length;for(;n>bE.vY;){var p=0;for(var h in e.favoriteGifs.gifs){delete e.favoriteGifs.gifs[h];if(++p>=10)break}n=yE.wK.toBinary(e.favoriteGifs).length}return!0},cleanup:function(){}},{version:7,run:function(e){var t=s.ZP.PersistedStore.migrateAndReadStoreState("ApplicationCommandFrecency",[]).state;if(null==t)return!1;var n=!1;if(os().size(t.usageHistory)>0){e.applicationCommandFrecency=yE.YI.create();e.applicationCommandFrecency.applicationCommands=(0,mE.tU)(t.usageHistory,500);n=!0}return n},
cleanup:function(){Se.Z.remove("ApplicationCommandFrecency")}}];const vE=OE;var _E=n(443500),IE=n(824657),SE=n(337973);function TE(e,t){var n=!1;null==e.userContent&&(e.userContent={dismissedContents:new Uint8Array});null==e.userContent.dismissedContents&&(e.userContent.dismissedContents=new Uint8Array);if(!(0,IE.jl)(e.userContent.dismissedContents,t)){e.userContent.dismissedContents=(0,IE.GV)(e.userContent.dismissedContents,t);n=!0}return n}function NE(e,t,n){return!!Jf.qc.hasHiddenHotspot(t)&&TE(e,n)}var CE=[{version:2,run:function(e){var t;!function(e){e.Mentions="Recent Mentions";e.Unreads="Inbox"}(t||(t={}));if(null!=e.inbox)return!1;var n=!1,r=fn.f9.create();e.inbox=r;if(Se.Z.get("seenInboxTutorial",!1)){r.viewedTutorial=!0;n=!0}var o,i=Se.Z.get("recentsButtonTab2");if(null!=i){r.currentTab=i===t.Mentions?fn.X.MENTIONS:fn.X.UNREADS;n=!0}var a=null!==(o=Se.Z.get("unread-messages-collapsed-channels"))&&void 0!==o?o:{};for(var s in a)if(a[s]){var l=I.Z.getChannel(s);if(null!=l){n=!0
;var c;(0,mE.i7)(e,null!==(c=l.guild_id)&&void 0!==c?c:"0",l.id,(function(e){e.collapsedInInbox=!0}))}}return n},cleanup:function(){Se.Z.remove("seenInboxTutorial");Se.Z.remove("recentsButtonTab2");Se.Z.remove("unread-messages-collapsed-channels")}},{version:3,run:function(e){var t=s.ZP.PersistedStore.migrateAndReadStoreState("EmojiStore",[function(){return{diversitySurrogate:Se.Z.get("EmojiDiversitySurrogate")||""}}]).state;if(null==t)return!1;var n=!1;if(null!=t.diversitySurrogate&&""!==t.diversitySurrogate){null==e.textAndImages&&(e.textAndImages=fn.Me.create());null==e.textAndImages.diversitySurrogate&&(e.textAndImages.diversitySurrogate=_E.Gm.create());e.textAndImages.diversitySurrogate.value=t.diversitySurrogate;n=!0}return n},cleanup:function(){}},{version:4,run:function(e){var t=!1;(!0===Se.Z.get("HAS_SEEN_HUB_UPSELL")||Jf.qc.hasHiddenHotspot(Jf.v6.HUB_SECOND_EMAIL_CONNECTION_UPSELL))&&(t=TE(e,fn.z$.HUB_WAITLIST_UPSELL));return t},cleanup:function(){
Se.Z.remove("HAS_SEEN_HUB_UPSELL")}},{version:5,run:function(e){var t,n,r,o,i,a,s,l=!1;e.textAndImages=null!==(t=e.textAndImages)&&void 0!==t?t:fn.Me.create();e.notifications=null!==(n=e.notifications)&&void 0!==n?n:fn.sf.create();e.privacy=null!==(r=e.privacy)&&void 0!==r?r:fn.bE.create();e.voiceAndVideo=null!==(o=e.voiceAndVideo)&&void 0!==o?o:fn.v_.create();e.gameLibrary=null!==(i=e.gameLibrary)&&void 0!==i?i:fn.Fm.create();e.debug=null!==(a=e.debug)&&void 0!==a?a:fn.tA.create();var c=null!==(s=Se.Z.get("UserSettingsStore"))&&void 0!==s?s:{};if("boolean"==typeof c.useRichChatTextBox){e.textAndImages.useRichChatInput=_E.D5.create({value:c.useRichChatTextBox});l=!0}if("string"==typeof c.renderSpoilers){e.textAndImages.renderSpoilers=_E.Gm.create({value:c.renderSpoilers});l=!0}if("boolean"==typeof c.useThreadSidebar){e.textAndImages.useThreadSidebar=_E.D5.create({value:c.useThreadSidebar});l=!0}if("boolean"==typeof c.showInAppNotifications){
e.notifications.showInAppNotifications=_E.D5.create({value:c.showInAppNotifications});l=!0}if(c.emojiPickerCollapsedSections instanceof Array){e.textAndImages.emojiPickerCollapsedSections=c.emojiPickerCollapsedSections;l=!0}if(c.stickerPickerCollapsedSections instanceof Array){e.textAndImages.stickerPickerCollapsedSections=c.stickerPickerCollapsedSections;l=!0}if("boolean"==typeof c.viewImageDescriptions){e.textAndImages.viewImageDescriptions=_E.D5.create({value:c.viewImageDescriptions});l=!0}if("boolean"==typeof c.showCommandSuggestions){e.textAndImages.showCommandSuggestions=_E.D5.create({value:c.showCommandSuggestions});l=!0}if("boolean"==typeof c.alwaysPreviewVideo){e.voiceAndVideo.alwaysPreviewVideo=_E.D5.create({value:c.alwaysPreviewVideo});l=!0}if("boolean"==typeof c.notifyFriendsOnGoLive){e.notifications.notifyFriendsOnGoLive=_E.D5.create({value:c.notifyFriendsOnGoLive});l=!0}if("boolean"==typeof c.installShortcutDesktop){e.gameLibrary.installShortcutDesktop=_E.D5.create({
value:c.installShortcutDesktop});l=!0}if("boolean"==typeof c.installShortcutStartMenu){e.gameLibrary.installShortcutStartMenu=_E.D5.create({value:c.installShortcutStartMenu});l=!0}if("boolean"==typeof c.allowActivityPartyPrivacyFriends){e.privacy.allowActivityPartyPrivacyFriends=_E.D5.create({value:c.allowActivityPartyPrivacyFriends});l=!0}if("boolean"==typeof c.allowActivityPartyPrivacyVoiceChannel){e.privacy.allowActivityPartyPrivacyVoiceChannel=_E.D5.create({value:c.allowActivityPartyPrivacyVoiceChannel});l=!0}if("boolean"==typeof c.rtcPanelShowVoiceStates){e.debug.rtcPanelShowVoiceStates=_E.D5.create({value:c.rtcPanelShowVoiceStates});l=!0}return l},cleanup:function(){}},{version:7,run:function(e){return NE(e,Jf.v6.APPLICATION_COMMAND_TOOLTIP,fn.z$.APPLICATION_COMMAND_TOOLTIP)},cleanup:function(){}},{version:8,run:function(e){return NE(e,Jf.v6.CHANNEL_BANNER_MEMBER_LIST_NOTICE,fn.z$.CHANNELINFO_CHANNELBANNER_NOTICE)},cleanup:function(){}},{version:9,run:function(e){
Jf.qc.hasHiddenHotspot(Jf.v6.MULTI_ACCOUNT_TOOLTIP)&&Se.Z.set(SE.Ip,"true");return NE(e,Jf.v6.MULTI_ACCOUNT_TOOLTIP,fn.z$.ACCOUNT_MULTIACCOUNT_TOOLTIP)},cleanup:function(){}},{version:10,run:function(e){var t,n=NE(e,Jf.v6.HUB_LINK_CHANNEL_NOTICE,fn.z$.CHANNEL_NOTICE_HUBLINK),r=null!==(t=Se.Z.get("channelNotices"))&&void 0!==t?t:{};!1===r[R.vID.INVITE]&&TE(e,fn.z$.CHANNEL_NOTICE_INVITE)&&(n=!0);!1===r[R.vID.QUICKSWITCHER]&&TE(e,fn.z$.CHANNEL_NOTICE_QUICKSWITCHER)&&(n=!0);!1===r[R.vID.GUILD_BOOSTING]&&TE(e,fn.z$.CHANNEL_NOTICE_PREMIUM_GUILD_SUBSCRIPTION)&&(n=!0);return n},cleanup:function(){Se.Z.remove("channelNotices")}},{version:11,run:function(e){var t=!1;NE(e,Jf.v6.GUILD_EVENT_UPSELL,fn.z$.GUILD_HEADER_EVENT_UPSELL)&&(t=!0);NE(e,Jf.v6.PREMIUM_PROGRESS_BAR_GUILD_HEADER_TOOLTIP,fn.z$.GUILD_HEADER_PREMIUM_GUILD_PROGRESS)&&(t=!0);NE(e,Jf.v6.ANIMATED_GUILD_BANNER_GUILD_HEADER_TOOLTIP,fn.z$.GUILD_HEADER_ANIMATED_GUILD_BANNER)&&(t=!0);return t},cleanup:function(){}},{version:12,
run:function(e){var t=!1;Se.Z.get("hideNag")&&TE(e,fn.z$.NAGBAR_NOTICE_DOWNLOAD)&&(t=!0);Se.Z.get("hideConnectSpotify")&&TE(e,fn.z$.NAGBAR_NOTICE_CONNECT_SPOTIFY)&&(t=!0);Se.Z.get("hideConnectPlayStation")&&TE(e,fn.z$.NAGBAR_NOTICE_CONNECT_SPOTIFY)&&(t=!0);Se.Z.get("hideMFASMSNotice")&&TE(e,fn.z$.NAGBAR_NOTICE_MFA_SMS_BACKUP)&&(t=!0);return t},cleanup:function(){Se.Z.remove("hideNag");Se.Z.remove("hideConnectSpotify");Se.Z.remove("hideConnectPlayStation");Se.Z.remove("hideMFASMSNotice")}},{version:13,run:function(e){var t=!1;Se.Z.get("hidePremiumPromo")&&TE(e,fn.z$.NAGBAR_NOTICE_PREMIUM_PROMO)&&(t=!0);Se.Z.get("hidePremiumTier2TrialEnding")&&TE(e,fn.z$.NAGBAR_NOTICE_PREMIUM_TIER_TWO_TRIAL_ENDING)&&(t=!0);Se.Z.get("hidePremiumReactivateNotice")&&TE(e,fn.z$.NAGBAR_NOTICE_PREMIUM_REACTIVATE)&&(t=!0);NE(e,Jf.v6.INVITE_SPLASH_GUILD_HEADER_TOOLTIP,fn.z$.GUILD_HEADER_INVITE_SPLASH)&&(t=!0);return t},cleanup:function(){Se.Z.remove("hidePremiumPromo");Se.Z.remove("hidePremiumTier2TrialEnding")
;Se.Z.remove("hidePremiumReactivateNotice")}},{version:14,run:function(e){return NE(e,Jf.v6.ACTIVITY_BEB_TUTORIAL,fn.z$.ACTIVITIES_TUTORIAL_COACH_MARK)},cleanup:function(){}},{version:15,run:function(e){return NE(e,Jf.v6.NOW_PLAYING_CONSENT_CARD,fn.z$.NOW_PLAYING_CONSENT_CARD)},cleanup:function(){}},{version:16,run:function(e){var t=Se.Z.get("PromotionsPersistedStore");if(null==t)return!1;var n=t._state.lastDismissedOutboundPromotionStartDate;if(null!=n){null==e.userContent&&(e.userContent=fn.az.create());if(null==e.userContent.lastDismissedOutboundPromotionStartDate){e.userContent.lastDismissedOutboundPromotionStartDate=_E.Gm.create({value:n});return!0}}return!1},cleanup:function(){}},{version:17,run:function(e){var t=s.ZP.PersistedStore.migrateAndReadStoreState("ExpressionSuggestionsPersistedStore",null).state;if(null==t)return!1;var n=t.expressionSuggestionsEnabled;if(null!=n){null==e.textAndImages&&(e.textAndImages=fn.Me.create())
;if(null==e.textAndImages.expressionSuggestionsEnabled){e.textAndImages.expressionSuggestionsEnabled=_E.D5.create({value:n});return!0}}return!1},cleanup:function(){Se.Z.remove("ExpressionSuggestionsPersistedStore")}},{version:18,run:function(e){var t=!1;NE(e,Jf.v6.GUILD_DELETE_FEEDBACK,fn.z$.GUILD_DELETE_FEEDBACK)&&(t=!0);NE(e,Jf.v6.GUILD_LEAVE_FEEDBACK,fn.z$.GUILD_LEAVE_FEEDBACK)&&(t=!0);return t},cleanup:function(){}},{version:19,run:function(e){var t,n=!1;null!==(t=Se.Z.get("forumHelperCardStorageKey"))&&void 0!==t&&t&&(n=TE(e,fn.z$.FORUM_CHANNEL_HELPER_CARD));return n},cleanup:function(){Se.Z.remove("forumHelperCardStorageKey")}}];const AE=CE;var PE=n(567164),jE=n(180918);const xE=function(){PE.Z[bE.yP.PRELOADED_USER_SETTINGS]=AE;PE.Z[bE.yP.FRECENCY_AND_FAVORITES_SETTINGS]=vE;g.Z.subscribe("CONNECTION_OPEN",RE);g.Z.subscribe("USER_SETTINGS_PROTO_ENQUEUE_UPDATE",ME);g.Z.subscribe("USER_SETTINGS_PROTO_LOAD_IF_NECESSARY",wE);g.Z.subscribe("APP_STATE_UPDATE",ZE)};function RE(){
var e=ft.Z.getFullState(),t=e[bE.yP.PRELOADED_USER_SETTINGS];t.editInfo.triggeredMigrations&&jE.hW.markDirtyFromMigration(t.proto,t.editInfo.cleanupFuncs);os().forEach(jE.aj,(function(t,n){null!=e[Number(n)].editInfo.offlineEditDataVersion&&t.scheduleSaveFromOfflineEdit()}))}function ME(e){var t=e.settings,n=t.proto,r=t.type,o=e.delaySeconds,i=e.jitter;jE.aj[r].markDirty(n,{delaySeconds:o,jitter:i})}function wE(e){var t=e.settingsType;jE.aj[t].loadIfNecessary()}function ZE(e){var t=e.state;"inactive"!==t&&"background"!==t||os().forEach(jE.aj,(function(e,t){if(null!=ft.Z.getFullState()[Number(t)].editInfo.timeout){e.logger.log("Triggering persistChanges due to AppStateUpdate");e.persistChanges()}}))}var LE=n(928632);function DE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UE(e){UE=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return UE(e)}function kE(e,t){
return!t||"object"!==HE(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function GE(e,t){GE=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return GE(e,t)}var BE,HE=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function VE(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=UE(e);if(t){var o=UE(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return kE(this,n)}}function FE(){var e,t=BE;if(null==t||!T.Z.isOpen(t))return!1;g.Z.wait((function(){return O.xv(t)}));null===(e=N.Z.getRTCConnection())||void 0===e||e.setPipOpen(!1);BE=null}function YE(){
var e=N.Z.getChannelId(),t=BE===e;if(function(){var e=N.Z.getChannelId(),t=C.Z.getChannelId();if(!We.Z.supports(Xe.AN.VIDEO))return!0;if(_.Z.getWindowOpen(R.KJ3.CHANNEL_CALL_POPOUT))return!0;var n=xr.Z.getAllActiveStreams().length>0;if(!(null!=e&&Object.values(P.Z.getVideoVoiceStatesForChannel(e)).some((function(e){var t=e.userId;return!We.Z.isLocalVideoDisabled(t)}))||n))return!0;var r=S.Z.hasLayers();return!(r&&S.Z.getLayers().includes(R.S9g.RTC_DEBUG)||!r&&e!==t)}())return FE();t||FE();return null!=e&&function(e){var t,n=I.Z.getChannel(e);if(null==n||T.Z.isOpen(e))return!1;g.Z.wait((function(){return O.bA(n.id,R.NYg.VIDEO,{channel:n})}));null===(t=N.Z.getRTCConnection())||void 0===t||t.setPipOpen(!0);BE=e}(e)}var zE=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&GE(e,t)}(n,e);var t=VE(n);function n(){
DE(this,n);return t.apply(this,arguments)}var r=n.prototype;r._initialize=function(){C.Z.addChangeListener(YE);A.Z.addChangeListener(YE);N.Z.addChangeListener(YE);P.Z.addChangeListener(YE);S.Z.addChangeListener(YE);xr.Z.addChangeListener(YE);_.Z.addChangeListener(YE);We.Z.addChangeListener(YE);j.ZP.addChangeListener(YE)};r._terminate=function(){C.Z.removeChangeListener(YE);A.Z.removeChangeListener(YE);N.Z.removeChangeListener(YE);P.Z.removeChangeListener(YE);S.Z.removeChangeListener(YE);xr.Z.removeChangeListener(YE);_.Z.removeChangeListener(YE);We.Z.removeChangeListener(YE);j.ZP.removeChangeListener(YE)};r.__getLocalVars=function(){return{openChannelId:BE}};return n}(v.Z);const WE=new zE;var KE=n(978627);function qE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XE(e){XE=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return XE(e)}function QE(e,t){
return!t||"object"!==JE(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $E(e,t){$E=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return $E(e,t)}var JE=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function ey(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=XE(e);if(t){var o=XE(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return QE(this,n)}}var ty=18e6,ny=new ju.V7,ry=new ju.V7,oy=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function")
;e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&$E(e,t)}(n,e);var t=ey(n);function n(){qE(this,n);return t.apply(this,arguments)}var r=n.prototype;r._initialize=function(){g.Z.subscribe("IDLE",this.handleIdleUpdate)};r._terminate=function(){ny.stop();ry.stop();g.Z.unsubscribe("IDLE",this.handleIdleUpdate)};r.handleIdleUpdate=function(){var e=KE.Z.getIdleSince();if(kt.FB){ny.stop();ry.stop();var t=xr.Z.getAllActiveStreams(),n=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){if(i.value.state!==R.jm8.ENDED)return}}catch(e){r=!0;o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}if(null!=e){var s=N.Z.getChannelId();if(null!=s){ry.start(ty,(function(){f.default.selectVoiceChannel(null)}));var l=Ut.Z.getGuild(N.Z.getGuildId());if(null!=l&&null!=l.afkChannelId&&l.afkChannelId!==s&&null!=l.afkTimeout){var c=I.Z.getChannel(s)
;null!=c&&(c.isGuildStageVoice()||ny.start(e+1e3*l.afkTimeout-Date.now(),(function(){null!=(l=Ut.Z.getGuild(N.Z.getGuildId()))&&null!=l.afkChannelId&&f.default.selectVoiceChannel(l.afkChannelId)})))}}}}};r.__getLocalVars=function(){return{AUTO_DISCONNECT_TIME:ty,afkTimeout:ny,autoDisconnectTimeout:ry}};return n}(v.Z);const iy=new oy;var ay=n(18700),sy=n(172762),ly=n(970397),cy=n(520571),uy=n(733621),fy=n(626242);function dy(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function py(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function hy(e){hy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return hy(e)}function Ey(e,t){return!t||"object"!==my(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e
}(e):t}function yy(e,t){yy=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return yy(e,t)}var my=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function by(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=hy(e);if(t){var o=hy(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ey(this,n)}}var gy={},Oy=gy,vy=!1,_y={},Iy={},Sy={},Ty={id:null,justChanged:!1},Ny={id:null,justChanged:!1},Cy=/\(([^)]+)\)/;function Ay(e){if((0,kt.Xf)()===kt.AB.WINDOWS){var t=e.name.match(Cy);if(null!=t)return t[1]}return e.name}function Py(e,t,n){return null==e||e.displayName!==t?{displayName:t,type:n
}:e.type===R.QyF.INPUT&&n===R.QyF.OUTPUT||e.type===R.QyF.OUTPUT&&n===R.QyF.INPUT?{displayName:t,type:R.QyF.INPUT_AND_OUTPUT}:e}var jy=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&yy(e,t)}(n,e);var t=by(n);function n(){dy(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(e){this.waitFor(We.Z,ft.Z);Oy=null!=e?e:gy};r.getUserAgnosticState=function(){return Oy};r.__getLocalVars=function(){return{initialState:gy,state:Oy,initialized:vy,inputDevices:_y,outputDevices:Iy,lastDeviceConnected:Sy,lastInputSystemDevice:Ty,lastOutputSystemDevice:Ny,WINDOWS_DEVICE_NAME_REGEX:Cy}};!function(e,t,n){t&&py(e.prototype,t);n&&py(e,n)}(n,[{key:"initialized",get:function(){return vy}},{key:"lastDeviceConnected",get:function(){return Sy}},{key:"inputDevices",get:function(){return _y}},{
key:"lastInputSystemDevice",get:function(){return Ty}},{key:"outputDevices",get:function(){return Iy}},{key:"lastOutputSystemDevice",get:function(){return Ny}}]);return n}(s.ZP.DeviceSettingsStore);jy.displayName="ConnectedDeviceStore";jy.persistKey="ConnectedDeviceStore";const xy=new jy(g.Z,{MEDIA_ENGINE_DEVICES:function(e){var t=e.inputDevices,n=e.outputDevices,r={};Ty.justChanged=!1;t.forEach((function(e){r[Ay(e)]=e.id;if(e.id===Xe.w5){var t,n=null!==(t=e.originalId)&&void 0!==t?t:e.originalName;n!==Ty.id&&(Ty.justChanged=!0);Ty.id=n}}));var o={};Ny.justChanged=!1;n.forEach((function(e){o[Ay(e)]=e.id;if(e.id===Xe.w5){var t,n=null!==(t=e.originalId)&&void 0!==t?t:e.originalName;n!==Ny.id&&(Ny.justChanged=!0);Ny.id=n}}));if(vy){var i=Object.keys(_y),a=Object.keys(r),s=Object.keys(Iy),l=Object.keys(o),c=os().difference(i,a),u=os().difference(s,l);if(c.length>0||u.length>0)Sy={};else{os().difference(a,i).forEach((function(e){Sy[e]=Py(Sy[e],e,R.QyF.INPUT)}))
;os().difference(l,s).forEach((function(e){Sy[e]=Py(Sy[e],e,R.QyF.OUTPUT)}))}if(!os().isEqual(i,a)||!os().isEqual(s,l)){_y=r;Iy=o;return!0}return!1}_y=r;Iy=o;vy=!0},CONNECTED_DEVICE_SET:function(e){var t=e.displayName;!function(e,t,n){if(t===R.aVf.INPUT||t===R.aVf.INPUT_AND_OUTPUT){var r=_y[e];null!=r&&g.Z.wait((function(){return ze.Z.setInputDevice(r,n)}))}if(t===R.aVf.OUTPUT||t===R.aVf.INPUT_AND_OUTPUT){var o=Iy[e];g.Z.wait((function(){return ze.Z.setOutputDevice(o,n)}))}}(t,e.connectedDevicePreference,e.location);delete Sy[t]},CONNECTED_DEVICE_IGNORE:function(e){var t=e.displayName;delete Sy[t]},CONNECTED_DEVICE_NEVER_SHOW_MODAL:function(){Sy={};Oy={neverShowModal:!0}}});function Ry(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function My(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ry(i,r,o,a,s,"next",e)}function s(e){Ry(i,r,o,a,s,"throw",e)}a(void 0)}))}}
var wy=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}
if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Zy=new Set(["DisplayPort"]),Ly=!1;function Dy(){if(!Ly){var e=We.Z.getInputDeviceId(),t=We.Z.getOutputDeviceId();if(!xy.getState().neverShowModal&&!os().isEmpty(xy.lastDeviceConnected)){var o=Ay(We.Z.getInputDevices()[e]),i=Ay(We.Z.getOutputDevices()[t]),a=os().some(xy.lastDeviceConnected,(function(e){return Zy.has(e.displayName)||e.displayName===o||e.displayName===i}));if(!a){var s=os().some(xy.lastDeviceConnected,(function(e){return fy.Z.isCertified(xy.inputDevices[e.displayName])||fy.Z.isCertified(xy.outputDevices[e.displayName])}));if(!(e===Xe.w5&&xy.lastInputSystemDevice.justChanged||t===Xe.w5&&xy.lastOutputSystemDevice.justChanged)||s){var l=os().first(Object.keys(xy.lastDeviceConnected)),c=null!=l&&""!==l?xy.lastDeviceConnected[l]:null;if(null!=c){var u
;xy.initialized&&null!=l&&(fy.Z.isCertified(xy.inputDevices[l])?u=fy.Z.getCertifiedDevice(xy.inputDevices[l]):fy.Z.isCertified(xy.outputDevices[l])&&(u=fy.Z.getCertifiedDevice(xy.outputDevices[l])));Ly=!0;(0,Y.ZD)(My((function(){var e,t;return wy(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(92623)]).then(n.bind(n,392623))];case 1:e=o.sent(),t=e.default;return[2,function(e){var n=e.transitionState,o=e.onClose;return(0,r.jsx)(t,{device:c,certifiedDeviceMetadata:u,transitionState:n,onClose:function(){Ly=!1;return o()}})}]}}))})))}}}}}}const Uy=function(){xy.addChangeListener(Dy)};var ky=n(134734);function Gy(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function By(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Gy(i,r,o,a,s,"next",e)}function s(e){Gy(i,r,o,a,s,"throw",e)}a(void 0)}))}}var Hy=function(e,t){var n,r,o,i,a={label:0,
sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{
value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Vy=!1,Fy=null;const Yy=function(){g.Z.subscribe("CONNECTION_OPEN",(function(e){var t=e.pendingPayments;if(null!=t&&t.length>0){if(Fy===t[0])return;if(null==(Fy=t[0]))return;!function(e){if(!Vy){Vy=!0;(0,Y.ZD)(By((function(){var t,o;return Hy(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(8941)]).then(n.bind(n,608941))];case 1:t=i.sent(),o=t.default;return[2,function(t){var n=t.transitionState,i=t.onClose;return(0,r.jsx)(o,{pendingPayment:e,transitionState:n,onClose:function(){Vy=!1;return i()}})}]}}))})))}}(Fy)}}))};var zy=n(905435),Wy=n(430923),Ky=n(248604),qy=n(645897),Xy=n(402801);function Qy(e,t,n){o.useEffect((function(){var r=t(),o=new s.Fh(e,(function(){var e=t(),o=n(r,e);null==o||Xd.Z.isSoundDisabled(o)||(0,Xy.GN)(o,.4);r=e}));o.attach("useSound");return function(){return o.detach()}}))}function $y(){Qy([We.Z,C.Z],(function(){return{inVoiceChannel:null!=C.Z.getVoiceChannelId(),selfMute:We.Z.isSelfMute(),
selfDeaf:We.Z.isSelfDeaf(),audioPermissionReady:We.Z.isNativeAudioPermissionReady()}}),(function(e,t){var n=t.inVoiceChannel,r=t.selfMute,o=t.selfDeaf,i=t.audioPermissionReady;if(n){if(e.selfDeaf!==o)return o?"deafen":"undeafen";if(i&&(n||e.audioPermissionReady))return e.selfMute!==r?r?"mute":"unmute":void 0}}));return null}function Jy(){Qy([I.Z,N.Z,C.Z,Wy.Z],(function(){var e=I.Z.getChannel(C.Z.getVoiceChannelId()),t=null==e?void 0:e.type,n=N.Z.getWasEverRtcConnected(),r=N.Z.getState();return{channelType:t,connected:r===R.hes.RTC_CONNECTED,connectHasStarted:!n&&r!==R.hes.DISCONNECTED||r===R.hes.RTC_CONNECTED,awaitingRemote:null!=Wy.Z.getAwaitingRemoteSessionInfo(),connectedRemote:null!=Wy.Z.getRemoteSessionId()}}),(function(e,t){var n=t.channelType,r=t.connected,o=t.connectHasStarted,i=t.awaitingRemote,a=t.connectedRemote,s=e.channelType,l=e.connectedRemote,c=i||a,u=e.connected&&!r;if(!e.connectHasStarted&&o||a&&!l){if(null!=n&&Zs.Lr.has(n))return;return"user_join"}if(u){
if(c||null!=s&&Zs.Lr.has(s))return;return"disconnect"}}));return null}function em(){Qy([Ky.Z],(function(){return Ky.Z.isCurrentUserSpeaking()}),(function(e,t){if(e!==t){var n=We.Z.isSelfMute();if(We.Z.getMode()===R.pM4.PUSH_TO_TALK&&!n)return t?"ptt_start":"ptt_stop"}}));return null}function tm(){Qy([We.Z],(function(){return We.Z.isSelfMutedTemporarily()}),(function(e,t){if(e!==t){var n=We.Z.isSelfMute();if(We.Z.getMode()===R.pM4.VOICE_ACTIVITY&&!n)return t?"ptt_stop":"ptt_start"}}));return null}function nm(){Qy([P.Z],(function(){return P.Z.userHasBeenMovedVersion}),(function(e,t){if(e!==t)return"user_moved"}));return null}function rm(){Qy([C.Z,P.Z],(function(){var e=C.Z.getVoiceChannelId();if(null==e)return Od.xO.NONE;var t=P.Z.getVoiceStateForChannel(e);return(0,Od.gf)(t)}),(function(e,t){if(e!==t&&t===Od.xO.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK)return"reconnect"}));return null}function om(){Qy([C.Z,xr.Z,tr.default,P.Z,I.Z],(function(){
var e,t=C.Z.getVoiceChannelId(),n=tr.default.getId(),r=void 0,o=[],i=null,a=0,s=xr.Z.getAllActiveStreams();if(null!=t){var l=I.Z.getChannel(t);if(null!=l){e=l.type;r=qy.ZP.countVoiceStatesForChannel(l.id)-(P.Z.isInChannel(l.id)?1:0);o=xr.Z.getAllApplicationStreamsForChannel(l.id).map((function(e){return e.ownerId}))}}var c=null;(null==(c=1===s.length?s[0]:xr.Z.getCurrentUserActiveStream())?void 0:c.state)===R.jm8.CONNECTING&&(c=null);if(null!=c){i=(0,jr.V9)(c);a=xr.Z.getViewerIds(i).filter((function(e){return e!==n})).length}return{channelType:e,voiceChannelId:t,voiceChannelUserCount:r,streamingUserIds:o,singleActiveStreamKey:i,singleActiveStreamViewerCount:a,currentUserId:n,allActiveStreams:s}}),(function(e,t){var n=t.channelType,r=t.voiceChannelId,o=t.voiceChannelUserCount,i=t.streamingUserIds,a=t.singleActiveStreamKey,s=t.singleActiveStreamViewerCount,l=t.currentUserId;if(e.voiceChannelId===r&&null!=r&&!(function(e){var t=I.Z.getChannel(e);if(null==t)return!1;var n=t.getGuildId()
;if(null==n)return!1;var r=Ut.Z.getGuild(n);return null!=r&&r.afkChannelId===t.id}(r)||null!=n&&Zs.Lr.has(n))){var c=null!=a&&e.singleActiveStreamKey===a,u=i.some((function(t){return!e.streamingUserIds.includes(t)})),f=e.allActiveStreams.map((function(e){return e.ownerId})),d=e.streamingUserIds.some((function(e){return!i.includes(e)&&(e===l||f.includes(e))}));return u?"stream_started":d?"stream_ended":e.singleActiveStreamViewerCount<=25&&c&&s>e.singleActiveStreamViewerCount?"stream_user_joined":null!=e.voiceChannelUserCount&&null!=o&&e.voiceChannelUserCount<=25&&o>e.voiceChannelUserCount?"user_join":null!=e.voiceChannelUserCount&&null!=o&&e.voiceChannelUserCount<=25&&o<e.voiceChannelUserCount?"user_leave":e.singleActiveStreamViewerCount<=25&&c&&s<e.singleActiveStreamViewerCount?"stream_user_left":void 0}}));return null}function im(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)($y,{}),(0,r.jsx)(Jy,{}),(0,r.jsx)(em,{}),(0,r.jsx)(tm,{}),(0,r.jsx)(nm,{}),(0,r.jsx)(om,{}),(0,
r.jsx)(rm,{})]})}var am=n(676384),sm=n(248088),lm=n(848828),cm=n(737172),um=n(923947),fm=n.n(um);function dm(){var e=[{keybinds:["Spacebar","Enter"],name:J.Z.Messages.DND_OPERATION_LABEL_DROP},{keybinds:["up","down"],name:J.Z.Messages.DND_OPERATION_LABEL_MOVE},{keybinds:["ESC"],name:J.Z.Messages.DND_OPERATION_LABEL_CANCEL}],t=(0,s.e7)([h.Z],(function(){return h.Z.useReducedMotion})),n=(0,cm.zP)();return(0,sm.useTransition)(n,{enter:{from:{opacity:0,y:t?0:80},to:{opacity:1,y:0}},leave:{opacity:0,y:t?0:80},config:sm.config.stiff})((function(t,n){return n?(0,r.jsx)("div",{className:fm().positioner,children:(0,r.jsx)(sm.animated.div,{className:fm().container,style:t,children:e.map((function(t,n){var i=t.keybinds,a=t.name;return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(K.xv,{variant:"text-md/semibold",className:fm().bindName,children:a}),i.map((function(e){return(0,r.jsx)(lm.Z,{shortcut:e,className:fm().shortcut},e)})),n<e.length-1?(0,r.jsx)("span",{className:fm().separator}):null]},a)}))
})}):null}))}var pm=n(658826),hm=n(479049),Em=n.n(hm),ym=n(131795),mm=n.n(ym),bm=n(953143),gm=n(9906);function Om(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vm(e){vm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return vm(e)}function _m(e,t){return!t||"object"!==Sm(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Im(e,t){Im=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Im(e,t)}var Sm=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Tm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}()
;return function(){var n,r=vm(e);if(t){var o=vm(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _m(this,n)}}var Nm="IncomingCallStore",Cm={width:232,height:315},Am=new Set,Pm=[],jm=new Map,xm=new Set,Rm=0,Mm=0,wm=!1;!function(){0;var e=Se.Z.get(Nm);if(null!=e){Rm=+e.x;Mm=+e.y}else{var t=n(426217).Z.windowSize();Rm=t.width/2-Cm.width/2;Mm=t.height/2-Cm.height/2}}();function Zm(e){if(null==e)return!1;if(null==jm.get(e))return!1;jm.delete(e);(xm=new Set(xm)).delete(e)}function Lm(e){var t=e.channelId,n=e.ringing.includes(tr.default.getId());if(!xm.has(t)&&n){var r=I.Z.getChannel(t);if(null==r)return!1;var o=10*xm.size;jm.set(t,{channel:r,x:Rm+o,y:Mm+o});(xm=new Set(xm)).add(t)}else{if(!xm.has(t)||n)return!1;Zm(t)}}function Dm(){wm=gu.Z.getStatus()===R.Skl.DND}var Um=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{
constructor:{value:e,writable:!0,configurable:!0}});t&&Im(e,t)}(n,e);var t=Tm(n);function n(){Om(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(I.Z,gu.Z);this.syncWith([gu.Z],Dm)};r.getIncomingCalls=function(){return wm?Pm:Array.from(jm.values())};r.getIncomingCallChannelIds=function(){return wm?Am:xm};r.getFirstIncomingCallId=function(){return wm?null:xm.values().next().value};r.hasIncomingCalls=function(){return!wm&&xm.size>0};r.__getLocalVars=function(){return{INCOMING_CALL_MODAL_POSITION:Nm,DIMENSIONS:Cm,MULTIPLE_MODAL_OFFSET:10,DND_ACTIVE_CALLS:Am,NO_INCOMING_CALLS:Pm,incomingCalls:jm,activeCalls:xm,x:Rm,y:Mm,dnd:wm}};return n}(s.ZP.Store);Um.displayName="IncomingCallStore";const km=new Um(g.Z,{CALL_CREATE:Lm,CALL_UPDATE:Lm,CALL_DELETE:function(e){return Zm(e.channelId)},VOICE_CHANNEL_SELECT:function(e){return Zm(e.channelId)},INCOMING_CALL_MOVE:function(e){var t=e.x,n=e.y;Rm=t;Mm=n;Se.Z.set(Nm,{x:Rm,y:Mm});return!1},
CHANNEL_DELETE:function(e){return Zm(e.channel.id)}});var Gm=new Set(["Blink","Gecko","WebKit"]),Bm=R.dG4;if(kt.FB)Bm=function(e){return bs.default.setBadge(e)};else if(Gm.has(mm().layout)){var Hm=new(Em())({animation:"none"});Bm=function(e){try{(0,bm.PR)(e);Hm.badge(-1===e?"•":e)}catch(e){}}}function Vm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fm(e){Fm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Fm(e)}function Ym(e,t){return!t||"object"!==Wm(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function zm(e,t){zm=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return zm(e,t)}var Wm=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Km(e){var t=function(){
if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Fm(e);if(t){var o=Fm(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ym(this,n)}}var qm=EE()({DEFAULT:null,UNREAD:null,CONNECTED:null,SPEAKING:null,MUTED:null,DEAFENED:null}),Xm=(0,kt.id)()?null:qm.DEFAULT,Qm=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&zm(e,t)}(n,e);var t=Km(n);function n(){Vm(this,n);var e;(e=t.apply(this,arguments)).getIcon=function(){var t=e.props,n=t.deafened,r=t.muted,o=t.speaking,i=t.connected,a=t.unread,s=Xm;if((0,kt.id)()&&!i)return s;if((0,kt.IJ)()||!i){
a&&(s=qm.UNREAD);return s}return s=n?qm.DEAFENED:r?qm.MUTED:o?qm.SPEAKING:qm.CONNECTED};return e}var r=n.prototype;r.componentDidMount=function(){bs.default.setSystemTrayIcon(this.getIcon())};r.componentDidUpdate=function(){bs.default.setSystemTrayIcon(this.getIcon())};r.componentWillUnmount=function(){bs.default.setSystemTrayIcon(Xm)};r.render=function(){return null};return n}(o.PureComponent),$m=function(){return null};if(kt.FB){bs.default.on("SYSTEM_TRAY_TOGGLE_MUTE",(function(){return ze.Z.toggleSelfMute()}));bs.default.on("SYSTEM_TRAY_TOGGLE_DEAFEN",(function(){return ze.Z.toggleSelfDeaf()}));bs.default.on("SYSTEM_TRAY_OPEN_VOICE_SETTINGS",(function(){p.Z.open(R.oAB.VOICE)}));$m=s.ZP.connectStores([N.Z,We.Z,Ky.Z,gm.Z,us.Z,Xd.Z],(function(){var e=gm.Z.getTotalMentionCount(),t=gm.Z.hasAnyUnread(),n=us.Z.getPendingCount(),r=!Xd.Z.getDisableUnreadBadge()&&!!(t||e+n>0);return{connected:N.Z.isConnected(),speaking:Ky.Z.isCurrentUserSpeaking(),
muted:We.Z.isSelfMute()||We.Z.isSelfMutedTemporarily(),deafened:We.Z.isSelfDeaf(),unread:r}}))(Qm)}const Jm=$m;var eb=n(838297),tb=n(725749),nb=n(67874),rb=n(180445),ob=n(647446),ib=n(125447),ab=n(539636),sb=n(78470),lb=n(283533),cb=n(558128),ub=n(971906),fb=n(99250),db=n(281081),pb=n(925428),hb=n(29189),Eb=n(425309),yb=n(23816),mb=n(691869),bb=n(282528),gb=n(672688),Ob=n(630695),vb=n(402124),_b=n(179468),Ib=n(171447),Sb=n(719455),Tb=n(905567),Nb=n(895383),Cb=n.n(Nb);function Ab(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function Pb(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ab(i,r,o,a,s,"next",e)}function s(e){Ab(i,r,o,a,s,"throw",e)}a(void 0)}))}}function jb(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function xb(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var Rb=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],
done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function Mb(e){var t=e.channelId,i=e.baseChannelId,a=e.channelViewSource,l=void 0===a?"Split View":a,c=(0,s.e7)([I.Z],(function(){return I.Z.getChannel(t)})),u=(0,s.e7)([Ut.Z],(function(){return Ut.Z.getGuild(null==c?void 0:c.getGuildId())})),f=(0,s.e7)([F.default],(function(){return F.default.getCurrentUser()})),d=(0,s.e7)([_b.Z],(function(){return _b.Z.didAgree(null==c?void 0:c.guild_id)})),p=!0===(null==f?void 0:f.nsfwAllowed),h=(0,Wd.ZP)(c),E=(0,s.e7)([Ob.Z],(function(){
return null!=(null==u?void 0:u.id)&&Ob.Z.isLurking(u.id)}),[u]),y=(0,s.e7)([hn.Z],(function(){return hn.Z.can(R.Plq.SEND_MESSAGES,c)})),m=o.useRef(!1);o.useEffect((function(){if(null!=c&&!m.current){m.current=!0;(0,yb.yw)(R.rMx.CHANNEL_OPENED,{channel_id:c.id,guild_id:c.guild_id,parent_id:c.parent_id,channel_view:l,can_send_message:y})}}),[c,l,y]);if(null==c||null==u)return null;var b=[];E||b.push((0,r.jsx)(bb.Z,{channel:c},"notifications"));b.push((0,r.jsx)(Tb.ZP.Icon,{icon:Sb.Z,tooltip:J.Z.Messages.CLOSE,onClick:function(){return $f.Z.closeChannelSidebar(i)}},"close"));return!c.isNSFW()||p&&d?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(hb.Z,{channel:c,draftType:vb.d.ChannelMessage}),(0,r.jsx)(Tb.ZP,{toolbar:b,"aria-label":J.Z.Messages.CHANNEL_HEADER_BAR_A11Y_LABEL,children:(0,gb.ud)({channel:c,channelName:h,guild:u,inSidebar:!0,handleContextMenu:function(e){(0,db.jW)(e,Pb((function(){var e,t;return Rb(this,(function(o){switch(o.label){case 0:
return[4,Promise.all([n.e(57501),n.e(12746)]).then(n.bind(n,612746))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,xb(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){jb(e,t,n[t])}))}return e}({},e),{channel:c,guild:u}))}]}}))})))},handleClick:function(){var e=Ib.Z.getMessages(c.id);(0,q.XU)(c.guild_id,c.id,e.jumpTargetId)}})}),(0,r.jsx)("div",{className:Cb().chat,children:(0,r.jsx)(pb.Z,{channel:c,guild:u,chatInputType:mb.I.SIDEBAR},t)})]}):(0,r.jsx)(Eb.Z,{guild:u})}var wb=n(192202),Zb=n(805448),Lb=n(820464),Db=n(897193),Ub=n(730381),kb=n.n(Ub),Gb=n(810676),Bb=n(124522),Hb=n(272898),Vb=n(481542),Fb=n(808525),Yb=n(14563);function zb(e,t){var n,r=function(n){var r=e[n],o=t[n];return r.length!==o.length?{v:!1
}:r.some((function(e,t){return o[t]!==e}))?void 0:{v:!1}};if(e.length!==t.length)return!1;for(var o=0;o<e.length;o++){var i=r(o);if("object"==((n=i)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n))return i.v}return!0}var Wb=n(127394),Kb=n(435500),qb=n(757987),Xb=n(240243);function Qb(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function $b(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Jb(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e)
;for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function eg(e){var t=e.width,n=void 0===t?16:t,o=e.height,i=void 0===o?16:o,a=e.color,s=void 0===a?"currentColor":a,l=Jb(e,["width","height","color"]);return(0,r.jsxs)("svg",$b(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Qb(e,t,n[t])}))}return e}({},(0,Xb.Z)(l)),{width:n,height:i,viewBox:"0 0 16 16",children:[(0,r.jsx)("circle",{cx:"8",cy:"8",r:"5.5",transform:"rotate(180 8 8)",stroke:"#A3A6AA"}),(0,r.jsx)("path",{
d:"M13.197 5.00035C12.6704 4.08824 11.913 3.33081 11.0008 2.8042C10.0887 2.27759 9.05406 2.00035 8.00084 2.00035L8.00084 8.00035L13.197 5.00035Z",fill:s})]}))}function tg(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ng(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function rg(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e)
;for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function og(e){var t=e.width,n=void 0===t?16:t,o=e.height,i=void 0===o?16:o,a=e.color,s=void 0===a?"currentColor":a,l=rg(e,["width","height","color"]);return(0,r.jsxs)("svg",ng(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){tg(e,t,n[t])}))}return e}({},(0,Xb.Z)(l)),{width:n,height:i,viewBox:"0 0 16 16",children:[(0,r.jsx)("circle",{cx:"8.19531",cy:"8.19629",r:"5.5",transform:"rotate(180 8.19531 8.19629)",stroke:"#A3A6AA"}),(0,r.jsx)("path",{
d:"M3.00027 11.1964C3.52688 12.1085 4.28431 12.866 5.19643 13.3926C6.10854 13.9192 7.14321 14.1964 8.19643 14.1964C9.24965 14.1964 10.2843 13.9192 11.1964 13.3926C12.1085 12.866 12.866 12.1085 13.3926 11.1964C13.9192 10.2843 14.1964 9.24965 14.1964 8.19643C14.1964 7.14321 13.9192 6.10854 13.3926 5.19643C12.866 4.28431 12.1085 3.52688 11.1964 3.00027C10.2843 2.47366 9.24964 2.19643 8.19642 2.19643L8.19643 8.19643L3.00027 11.1964Z",fill:s})]}))}function ig(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ag(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){
Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function sg(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function lg(e){var t=e.width,n=void 0===t?16:t,o=e.height,i=void 0===o?16:o,a=e.color,s=void 0===a?"currentColor":a,l=sg(e,["width","height","color"]);return(0,r.jsxs)("svg",ag(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ig(e,t,n[t])}))}return e}({},(0,Xb.Z)(l)),{width:n,height:i,
viewBox:"0 0 16 16",children:[(0,r.jsx)("circle",{cx:"8.19531",cy:"8.19629",r:"5.5",transform:"rotate(180 8.19531 8.19629)",stroke:"#A3A6AA"}),(0,r.jsx)("path",{d:"M8.19727 14.1963C9.78856 14.1963 11.3147 13.5641 12.4399 12.4389C13.5651 11.3137 14.1973 9.78759 14.1973 8.19629C14.1973 6.60499 13.5651 5.07887 12.4399 3.95365C11.3147 2.82843 9.78857 2.19629 8.19727 2.19629L8.19727 8.19629L8.19727 14.1963Z",fill:s})]}))}var cg=n(766936),ug=n(281757),fg=n.n(ug),dg=n(435696),pg=n.n(dg),hg=n(454675),Eg=n.n(hg);function yg(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function mg(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){yg(i,r,o,a,s,"next",e)}function s(e){yg(i,r,o,a,s,"throw",e)}a(void 0)}))}}function bg(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function gg(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){bg(e,t,n[t])}))}return e}function Og(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var vg,_g=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){
return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Ig=(vg=mg((function(){return _g(this,(function(e){switch(e.label){case 0:return[4,n.e(54437).then(n.bind(n,854437))];case 1:return[2,e.sent().default]}}))})),function(){
return vg.apply(this,arguments)}),Sg=function(e){var t,n,i,a=e.featuredItem,l=e.className,c=og,u=(0,s.e7)([F.default],(function(){return F.default.getUser(a.details.actorUserId)}),[a]),f=o.useMemo((function(){return null==u?{}:bg({},a.guildId,[u.id])}),[a.guildId,u]);(0,Vb.$)(f);switch(t=(n=a.details.expiresAt,(i=kb()(n).diff(kb()(),"s"))<=Yb.qZ.ONE_DAY?"text-danger":i<=Yb.qZ.THREE_DAYS?"text-warning":"text-positive")){case"text-danger":c=eg;break;case"text-warning":c=lg;break;case"text-positive":c=og}return(0,r.jsxs)("div",{className:$p()(l,fg().header),children:[(0,r.jsxs)("div",{className:fg().expirationContainer,children:[(0,r.jsx)(c,{color:Gb.v[t],"aria-hidden":!0,className:fg().expiredIcon}),(0,r.jsx)(K.xv,{color:t,variant:"text-sm/normal",children:J.Z.Messages.GUILD_FEED_FEATURED_EXPIRED_IN.format({fromNow:kb()(a.details.expiresAt).fromNow()})})]}),(0,r.jsx)(Wb.Z,{height:4,width:4,"aria-hidden":"true",className:fg().dotIcon}),(0,r.jsxs)("div",{className:fg().featuredByContainer,
children:[(0,r.jsx)(K.xv,{className:fg().featuredByText,variant:"text-sm/normal",children:J.Z.Messages.GUILD_FEED_FEATURED_BY}),null!=u&&(0,r.jsx)(cg.ZP,{size:cg.ZP.Sizes.SIZE_16,src:u.getAvatarURL(void 0,16),"aria-hidden":!0})]})]})},Tg=function(e){var t=e.channel,n=(0,Wd.ZP)(t),o=(0,Fb.KS)(t),i=(0,Fb.bT)(t);return null==t?null:(0,r.jsxs)("div",{className:fg().channelHeaderContainer,children:[null!=o?(0,r.jsx)(qb.ZP,{text:i,delay:500,children:function(e){return(0,r.jsx)(o,Og(gg({},e),{className:fg().channelIcon,height:16,width:16}))}}):null,(0,r.jsx)(K.X6,{className:fg().channelHeader,variant:"text-sm/semibold",children:n})]})},Ng=o.memo((function(e){var t=e.guildId,n=e.featuredItem,o=(0,s.e7)([Db.ZP],(function(){return Db.ZP.getCachedMessage(t,n.message.channel_id,n.message.id)})),i=(0,s.e7)([I.Z],(function(){return I.Z.getChannel(null==o?void 0:o.channel_id)}));if(null==i||null==o)return null;return(0,r.jsxs)(K.P3,{onContextMenu:function(e){e.stopPropagation();(0,
db.jW)(e,mg((function(){var e;return _g(this,(function(t){switch(t.label){case 0:return[4,Ig()];case 1:e=t.sent();return[2,function(t){return(0,r.jsx)(e,Og(gg({},t),{messageItem:n,channel:i,message:o}))}]}}))})))},className:fg().featuredItemsGroupWrapper,children:[(0,r.jsx)(Sg,{featuredItem:n.featuredItem}),(0,r.jsx)(Tg,{channel:i}),(0,r.jsx)(Kb.Z,{className:fg().featuredItemsGroupCozy,message:o,channel:i})]})})),Cg=o.memo((function(e){var t=e.guildId,n=e.featuredItem,o=(0,s.e7)([I.Z],(function(){return I.Z.getChannel(n.thread.id)})),i=(0,s.e7)([I.Z],(function(){return I.Z.getChannel(null==o?void 0:o.parent_id)})),a=(0,s.e7)([Db.ZP],(function(){return Db.ZP.getCachedMessage(t,n.message.channel_id,n.message.id)}));if(null==a||null==i||null==o)return null;return(0,r.jsxs)(K.P3,{onContextMenu:function(e){e.stopPropagation();(0,db.jW)(e,mg((function(){var e;return _g(this,(function(t){switch(t.label){case 0:return[4,Ig()];case 1:e=t.sent();return[2,function(t){return(0,
r.jsx)(e,Og(gg({},t),{messageItem:n,channel:o,message:a}))}]}}))})))},className:fg().featuredItemsGroupWrapper,children:[(0,r.jsx)(Sg,{featuredItem:n.featuredItem}),(0,r.jsx)(Tg,{channel:i}),(0,r.jsx)(K.X6,{className:fg().forumPostHeading,variant:"heading-md/semibold",children:o.name}),(0,r.jsx)(Kb.Z,{className:fg().featuredItemsGroupCozy,message:a,channel:o})]},a.id)}));function Ag(e){var t=e===R.BRd.LIGHT?Eg():pg();return(0,r.jsxs)("div",{className:fg().emptyPlaceholder,children:[(0,r.jsx)("div",{className:fg().emptyImage,style:{backgroundImage:"url(".concat(t,")")}}),(0,r.jsx)("div",{className:fg().emptyBody,children:J.Z.Messages.GUILD_FEED_FEATURED_ITEMS_NO_ITEMS})]})}function Pg(){return(0,r.jsx)(Hb.h4,{title:J.Z.Messages.GUILD_FEED_FEATURE_MESSAGE})}function jg(e){var t=e.guildId,n=(0,s.Wu)([Db.ZP],(function(){return Db.ZP.getFeaturedItems(t)}),[t]),i=(0,s.e7)([Db.ZP],(function(){return Db.ZP.getFeaturedItemsFetchStatus(t)}),[t]);o.useEffect((function(){(0,Lb.ZR)(t)}),[t])
;return(0,r.jsx)(K.Vq,{"aria-label":J.Z.Messages.GUILD_FEED_FEATURED_MESSAGES,children:(0,r.jsx)(Hb.QV,{analyticsName:"Featured Feed Items Popout",listName:"featuredMessages",items:n,loading:i.loading!==Db.Q.NONE,renderEmptyState:Ag,renderHeader:Pg,renderItem:function(e){return null==e?[]:e.type===Bb.w.MESSAGE?[(0,r.jsx)(Ng,{guildId:t,featuredItem:e},e.id)]:e.type===Bb.w.FORUM_POST?[(0,r.jsx)(Cg,{guildId:t,featuredItem:e},e.id)]:[]}})})}var xg=n(761434),Rg=n(415397);function Mg(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wg(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Zg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))))
;r.forEach((function(t){wg(e,t,n[t])}))}return e}function Lg(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Dg(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Mg(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mg(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const Ug=function(e){var t=e.guildId,n=Dg(o.useState(!1),2),i=n[0],a=n[1],s=o.useCallback((function(){a((function(e){return!e}))}),[]);return(0,r.jsx)(xg.ZP,{shouldShow:i,animation:xg.ZP.Animation.NONE,position:xg.ZP.Positions.BOTTOM,align:xg.ZP.Align.RIGHT,autoInvert:!1,ignoreModalClicks:!0,onRequestClose:function(){return a(!1)},renderPopout:function(e){return(0,r.jsx)(jg,Zg({guildId:t},e))},children:function(e,t){var n=t.isShown;return(0,r.jsx)(Tb.JO,Lg(Zg({},e),{onClick:s,tooltip:n?null:J.Z.Messages.GUILD_FEED_FEATURED_ITEMS,icon:Rg.Z,
"aria-label":J.Z.Messages.GUILD_FEED_FEATURED_ITEMS,selected:n}))}})};var kg=n(782226),Gg=n(672549),Bg=n(365723),Hg=n(664970),Vg=n(329480),Fg=n(202552),Yg=n(759194),zg=n(647349),Wg=n(812197),Kg=n(318937),qg=n(821098),Xg=n(814281),Qg=n(449024),$g=n(533381),Jg=n(407723),eO=n(86046),tO=n(613258),nO=n(217891);function rO(){var e=(0,a.TH)(),t=(0,i.parse)(e.search),n=t.highlight_channel_id,r=t.highlight_message_id;return o.useMemo((function(){return null!=r&&null!=n?{messageId:r,channelId:n}:null}),[n,r])}var oO=n(705475),iO=n(952013),aO=n(179350),sO=n(11229);var lO=n(414597),cO=n(35236);function uO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function fO(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){
s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return uO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uO(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var dO=function(e){var t=fO(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[I.Z,hn.Z,sO.Z],3),n=t[0],r=t[1],o=t[2],i=o.getActiveChannelIds(e),a=null!=i?Array.from(i):[];return a.map((function(e){return n.getChannel(e)})).filter(So.lm).filter((function(e){if(null==e?void 0:e.hasFlag(cO.zZ.ACTIVE_CHANNELS_REMOVED))return!1;if(!(0,Zs.Qm)(e.type))return!1;if(!r.can(R.Plq.VIEW_CHANNEL,e))return!1
;var t=n.getChannel(e.parent_id);return!e.isThread()||null==t||!(null==t?void 0:t.hasFlag(cO.zZ.ACTIVE_CHANNELS_REMOVED))}))},pO=function(e,t){var n,r=fO(arguments.length>2&&void 0!==arguments[2]?arguments[2]:[hn.Z,I.Z,qy.ZP,Ut.Z],4),o=r[0],i=r[1],a=r[2],s=r[3],l=a.getVoiceStates(e),c=Object.keys(l).filter((function(e){return l[e].length>0})),u=null===(n=s.getGuild(e))||void 0===n?void 0:n.afkChannelId;return c.filter((function(e){return e!==u&&e!==(null==t?void 0:t.channel_id)})).map((function(e){return i.getChannel(e)})).filter(So.lm).filter((function(e){return!(null==e?void 0:e.hasFlag(cO.zZ.ACTIVE_CHANNELS_REMOVED))&&o.can(R.Plq.VIEW_CHANNEL,e)}))},hO=n(436053),EO=n(169445),yO=n(462298),mO=n.n(yO),bO=n(572274),gO=n.n(bO);function OO(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function vO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){OO(e,t,n[t])}))}return e}function _O(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var IO=o.forwardRef((function(e,t){var n,o=e.shouldUseCollapsedLayout,i=void 0===o||o,a=e.listItemId,s=e.onClick,l=e.icon,c=e.iconTooltipText,u=e.textNode,f=e.header,d=e.accessoryNode,p=e.children,h=(0,ub.Z)(EO.Gj),E=(0,ib.JA)(null!=a?a:"");return(0,r.jsxs)("div",{ref:t,className:$p()(mO().container,(n={},
OO(n,mO().containerCard,h),OO(n,mO().collapsedLayout,h&&i),n)),children:[(0,r.jsxs)(K.P3,_O(vO({className:mO().body,onClick:s},null!=a?E:void 0),{children:[(0,r.jsxs)("div",{className:mO().details,children:[null!=l?(0,r.jsx)(qb.ZP,{text:c,delay:500,children:function(e){return(0,r.jsx)("div",_O(vO({},e),{className:mO().iconContainer,children:l}))}}):null,(0,r.jsx)(K.X6,{className:mO().title,variant:"heading-sm/semibold",lineClamp:1,children:f}),(0,r.jsx)("div",{className:mO().subtitle,children:u})]}),null!=d&&(0,r.jsx)("div",{className:mO().accessoryContainer,children:d})]})),p]})})),SO=o.forwardRef((function(e,t){var n=e.children,o=e.guildId,i=e.channel,a=e.text,s=e.activityIndicator,l=e.usersInSummary,c=e.onChannelClick,u=e.channelIconOptions,f=(0,ub.Z)(EO.Gj),d=(0,Fb.KS)(i,null,u);return(0,r.jsx)(IO,{ref:t,textNode:null!=a?(0,r.jsx)(K.xv,{className:mO().channelSubtitle,variant:"text-xs/normal",children:a}):null,listItemId:i.id,accessoryNode:(0,r.jsx)(hO.Z,{guildId:o,users:l,
size:f?hO.u.SIZE_24:hO.u.SIZE_16,max:f?5:3,extraDetail:s}),onClick:c,icon:null!=d&&(0,r.jsx)(d,{width:16,height:16}),iconTooltipText:(0,Fb.bT)(i),header:i.name,children:n})}));function TO(){return(0,r.jsxs)("div",{className:$p()(mO().container,mO().containerCard,mO().fillerCard),children:[(0,r.jsx)("img",{src:gO(),className:mO().spacerChannelImg,alt:"","aria-hidden":!0}),(0,r.jsxs)("div",{className:mO().fillerText,children:[(0,r.jsx)(K.X6,{className:mO().title,variant:"heading-sm/semibold",children:J.Z.Messages.ACTIVE_CHANNELS_COLLAPSED_SPACER_TITLE}),(0,r.jsx)(K.xv,{variant:"text-xs/normal",children:J.Z.Messages.ACTIVE_CHANNELS_COLLAPSED_SPACER_SUBTITLE})]})]})}var NO=n(615595);function CO(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function AO(e){var t=e.guildId,n=(0,ub.Z)(EO.Gj);return(0,r.jsxs)(r.Fragment,{children:[rs.times(n?4:3,(function(e){var o;return(0,r.jsxs)("div",{className:$p()(mO().container,(o={},
CO(o,mO().loadingContainer,!0),CO(o,mO().containerCard,n),CO(o,mO().collapsedLayout,n),o)),children:[(0,r.jsxs)("div",{className:mO().body,children:[(0,r.jsxs)("div",{className:mO().details,children:[(0,r.jsx)("div",{className:mO().iconContainer}),(0,r.jsx)(NO.ZT,{className:mO().title,opacity:.2,width:72}),(0,r.jsx)(NO.ZT,{className:mO().subtitle,opacity:.1,width:100})]}),(0,r.jsx)("div",{className:mO().accessoryContainer,children:(0,r.jsx)(hO.Z,{guildId:t,renderUser:function(){return(0,r.jsx)("div",{className:mO().loadingUser,style:{width:n?24:16,height:n?24:16}})},users:[null,null],size:n?hO.u.SIZE_24:hO.u.SIZE_16,extraDetail:(0,r.jsx)("div",{className:mO().typingIndicator})})})]}),2===e&&(0,r.jsx)("div",{className:mO().previewContainer})]},e)})),(0,r.jsx)("div",{})," "]})}var PO=n(416533),jO=n(475823),xO=n(122768);function RO(e){var t,n=e.guildId,o=e.channel,i=e.trackChannelClick,a=(0,s.Wu)([sO.Z],(function(){return null!==(t=sO.Z.getChannelMessageData(o.id))&&void 0!==t?t:[]
})),l=os().uniq(os().map(a,"userId")),c=(0,s.Wu)([F.default],(function(){return l.map((function(e){return F.default.getUser(e)}))})),u=(0,s.e7)([jO.Z],(function(){var e=jO.Z.getTypingUsers(o.id);return Object.keys(e).length>0}),[o.id]),f=a.length<sO.L?J.Z.Messages.ACTIVE_CHANNELS_FEW_MESSAGES.format({count:a.length}):J.Z.Messages.ACTIVE_CHANNELS_MANY_MESSAGES,d=u?(0,r.jsx)("div",{className:mO().typingIndicator,children:(0,r.jsx)(xO.Z,{className:mO().ellipsis,dotRadius:2,themed:!0})}):null;return(0,r.jsx)(SO,{guildId:n,channel:o,usersInSummary:c.filter(So.lm),text:f,activityIndicator:d,onChannelClick:function(){i(o);(0,PO.Z)(R.Z5c.CHANNEL(o.guild_id,o.id,yo.Z.fromTimestamp(Date.now())))}})}var MO=n(836303),wO=n(62214),ZO=n(306599),LO=n(852007),DO=n(71284);function UO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function kO(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return UO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UO(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function GO(e){var t=e.channel,n=e.voiceStates,o=e.showPlaceholder,i=(0,s.e7)([xr.Z],(function(){return xr.Z.getAllApplicationStreamsForChannel(t.id)[0]})),a=(0,s.e7)([xr.Z],(function(){
return null!=i?xr.Z.getActiveStreamForApplicationStream(i):null})),l=(0,s.e7)([tr.default],(function(){return tr.default.getId()})),c=kO((0,Mr.wq)(t),2),u=c[0],d=c[1];if(null==i)return null;var p,h=os().chain(n).map("member").find(["userId",i.ownerId]).value(),E=os().chain(n).map("user").find(["id",i.ownerId]).value(),y=null!==(p=null==h?void 0:h.nick)&&void 0!==p?p:$d.ZP.getName(E),m=null!=a&&null!=i&&a.state!==R.jm8.ENDED&&a.ownerId===i.ownerId;return(0,r.jsxs)(K.P3,{onClick:function(){f.default.selectVoiceChannel(t.id);m||(0,Cr.iV)(i)},className:mO().previewContainer,children:[o?(0,r.jsx)(ZO.c,{className:mO().previewImage,isLoading:!0}):(0,r.jsx)(ZO.Z,{className:mO().previewImage,stream:i}),u?(0,r.jsx)("div",{className:mO().previewHover,children:(0,r.jsx)(K.xv,{variant:"text-sm/normal",color:"none",className:mO().previewButton,children:(0,wO.Z)(i,a,l,d)})}):null,null!=y?(0,r.jsxs)("div",{className:mO().previewName,children:[(0,r.jsx)(DO.Z,{width:18,height:18,className:mO().icon
}),(0,r.jsx)(K.xv,{variant:"text-sm/normal",color:"none",children:y})]}):null]})}function BO(e){var t,n=e.guildId,i=e.channel,a=e.voiceStates,l=e.trackChannelClick,c=e.showPreview,u=a.map((function(e){return e.user})),f=(0,LO.Z)(null!==(t=null==i?void 0:i.id)&&void 0!==t?t:void 0).needSubscriptionToAccess,d=(0,s.e7)([hn.Z],(function(){return!hn.Z.can(R.Plq.CONNECT,i)})),p=o.useRef(null),h=function(e){var t=o.useRef(null),n=kO(o.useState(!1),2),r=n[0],i=n[1];o.useEffect((function(){t.current=new IntersectionObserver((function(e){var t=kO(e,1)[0];return i(t.isIntersecting)}))}),[]);o.useEffect((function(){var n;if(null!=e.current){null===(n=t.current)||void 0===n||n.observe(e.current);return function(){var e;null===(e=t.current)||void 0===e||e.disconnect()}}}),[e]);return r}(p),E=o.useRef(!1);o.useEffect((function(){h&&(E.current=!0)}),[h]);var y,m=os().map(a,(function(e){var t;return null!==(y=null===(t=e.member)||void 0===t?void 0:t.nick)&&void 0!==y?y:$d.ZP.getName(e.user)
})),b=m.join(", ");return(0,r.jsx)(SO,{ref:p,guildId:n,channel:i,text:b,usersInSummary:u,onChannelClick:function(){if((0,Zs.bw)(i.type)){var e=C.Z.getVoiceChannelId(),t=!hn.Z.can(R.Plq.CONNECT,i);l(i);MO.Z.handleVoiceConnect({channel:i,locked:t,connected:e===i.id,needSubscriptionToAccess:f})}},channelIconOptions:{locked:d},children:c&&(0,r.jsx)(GO,{channel:i,voiceStates:a,showPlaceholder:!E.current})})}var HO=n(777087),VO=n(74907),FO=VO.Z.parseGuildEventDescription,YO=n(87328),zO=n(694470),WO=n(275352),KO=n(338588),qO=n(820498),XO=n(312855),QO=n(695756),$O=n(443429),JO=n(655686),ev=n(998689),tv=n(120227),nv=n.n(tv);function rv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ov(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function iv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return rv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rv(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var av=12;function sv(e){var t=e.event,n=t.scheduled_start_time,i=t.scheduled_end_time,a=(0,tO.xt)(t),s=iv(o.useState((0,
zO.ub)(n,i)),2),l=s[0],c=l.startDateTimeString,u=l.endDateTimeString,f=l.currentOrPastEvent,d=l.upcomingEvent,p=l.diffMinutes,h=s[1];o.useEffect((function(){var e=setInterval((function(){return h((0,zO.ub)(n,i))}),1e3);return function(){clearInterval(e)}}),[]);var E,y=c,m="header-secondary";if(a){y=J.Z.Messages.STAGE_CHANNEL_LIVE_NOW;m="text-positive"}else if(f){y=J.Z.Messages.STARTING_SOON;m="text-brand"}else if(d){y=p>0?J.Z.Messages.STARTING_IN_MINUTES.format({minutes:p}):J.Z.Messages.STARTING_SOON;m="text-brand"}else null!=u&&""!==u&&(y=J.Z.Messages.START_DATE_TO_END_DATE.format({start:c,end:u}));return(0,r.jsxs)("div",{className:$p()(nv().eventTime,(E={},ov(E,nv().isActive,a),ov(E,nv().isBrand,f||d),E)),children:[(0,r.jsx)($O.Z,{width:av,height:av}),(0,r.jsxs)(K.xv,{color:m,variant:"text-xs/normal",className:nv().eventTimeLabel,children:[y,(0,r.jsx)("span",{className:nv().separator,children:"•"})]})]})}function lv(e){
var t=e.event,n=e.channel,i=e.isCollapsedSize,a=e.onEventClick,l=(0,s.e7)([hn.Z],(function(){return hn.Z.can(R.Plq.CONNECT,n)})),c=o.useCallback((function(){if(null!=n&&null!=n.getGuildId()&&l){(0,KO.Cq)(n);(0,q.XU)(n.getGuildId(),n.id)}}),[n,l]),u=(0,WO.Z)(t),f=t.entity_type===ev.WX.STAGE_INSTANCE?J.Z.Messages.STAGE_CHANNEL_JOIN_BUTTON:J.Z.Messages.JOIN;return null==t.image||i?null!=n&&l?(0,r.jsx)("div",{className:nv().eventJoinContainer,children:(0,r.jsx)(K.zx,{className:nv().joinButton,onClick:c,fullWidth:!0,color:K.zx.Colors.GREEN,children:f})}):null:null!=n&&l?(0,r.jsxs)(K.P3,{onClick:c,className:nv().eventJoinContainer,children:[(0,r.jsx)("div",{className:nv().eventImg,style:{backgroundImage:"url(".concat(u,")")}}),(0,r.jsx)("div",{className:nv().eventImgHover,children:(0,r.jsx)(K.xv,{variant:"text-sm/normal",color:"none",className:nv().eventImgJoinButton,children:f})})]}):(0,r.jsx)(K.P3,{onClick:a,className:nv().eventJoinContainer,children:(0,r.jsx)("div",{
className:nv().eventImg,style:{backgroundImage:"url(".concat(u,")")}})})}function cv(e){var t,n=e.event,o=e.channel,i=e.isActive,a=e.isCollapsedSize,s=(0,Fb.KS)(o);return(0,r.jsxs)("div",{className:nv().eventInfo,children:[(!i||a)&&(0,r.jsx)(sv,{event:n}),(0,r.jsx)("div",{className:nv().location,children:null!=o&&null!=s?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s,{width:av,height:av,className:nv().icon}),(0,r.jsx)(K.xv,{variant:"text-xs/normal",className:nv().locationLabel,children:o.name})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(JO.Z,{height:av,width:av,className:$p()(nv().channelContainer,nv().icon)}),(0,r.jsx)(K.xv,{variant:"text-xs/normal",className:nv().locationLabel,children:FO(null!==(t=(0,YO.cS)(n))&&void 0!==t?t:void 0,!0)})]})})]})}function uv(e){var t=e.event,n=e.isInList,i=t.guild_id,a=(0,ub.Z)(EO.Gj),l=(0,tO.xt)(t),c=(0,s.e7)([I.Z],(function(){return I.Z.getChannel(t.channel_id)})),u=(0,s.e7)([Ob.Z],(function(){return Ob.Z.isLurking(i)
}),[i]),f=o.useCallback((function(){Te.default.track(R.rMx.HOME_EVENT_CLICKED,{guild_id:i,home_session_id:Jg.Z.getHomeSessionId(i),guild_scheduled_event_id:t.id,is_active:l});(0,hr.bO)({eventId:t.id,parentGuildId:i})}),[t,i,l]),d=(0,s.Wu)([qy.ZP],(function(){return null==c?[]:qy.ZP.getVoiceStatesForChannel(c).map((function(e){return e.user}))}),[c]),p=(0,s.e7)([qO.Z],(function(){if(null!=c&&c.type===HO.d.GUILD_STAGE_VOICE)return qO.Z.getParticipantCount(null==c?void 0:c.id,XO.pV.AUDIENCE)}),[c]);return(0,r.jsx)(IO,{listItemId:n?t.id:void 0,shouldUseCollapsedLayout:!1,onClick:u?void 0:f,icon:l?(0,r.jsx)("div",{className:nv().liveNowIcon}):(0,r.jsx)(QO.Z,{width:16,height:16}),iconTooltipText:J.Z.Messages.GUILD_HOME_EVENTS_TOOLTIP_TEXT,header:t.name,textNode:(0,r.jsx)(cv,{event:t,channel:c,isActive:l,isCollapsedSize:a}),accessoryNode:l?(0,r.jsx)(hO.Z,{guildId:i,users:d,count:p,size:hO.u.SIZE_16,max:3}):null,children:l&&(0,r.jsx)(lv,{event:t,channel:c,isCollapsedSize:a,onEventClick:f})})}
var fv=n(831689),dv=n.n(fv),pv=n(404024),hv=n.n(pv),Ev=n(764728),yv=n.n(Ev);function mv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bv(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function gv(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Ov(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){
var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function vv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||Iv(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _v(e){return function(e){if(Array.isArray(e))return mv(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Iv(e)||function(){
throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Iv(e,t){if(e){if("string"==typeof e)return mv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mv(e,t):void 0}}var Sv={overflowX:void 0,overflowY:void 0};function Tv(){var e="dark"===(0,iO.ZP)()?hv():yv();return(0,r.jsxs)("div",{className:dv().emptyStateContainer,children:[(0,r.jsx)("img",{className:dv().image,src:e,width:154,height:48,alt:""}),(0,r.jsx)(K.X6,{className:dv().title,variant:"heading-md/semibold",children:J.Z.Messages.ACTIVE_CHANNELS_EMPTY_TITLE}),(0,r.jsx)(K.xv,{className:dv().subtitle,color:"header-secondary",variant:"text-sm/normal",children:J.Z.Messages.ACTIVE_CHANNELS_EMPTY_SUBTITLE})]})}function Nv(e){
var t=e.isUsingCollapsedLayout,n=e.scrollerRef,o=e.handleScroll,i=e.activeChannels,a=e.totalActiveChannels,s=(0,fb.Z)("active-channels",n,{orientation:t?oO.hy.HORIZONTAL:oO.hy.VERTICAL});return(0,r.jsx)(ib.bG,{navigator:s,children:(0,r.jsx)(ib.SJ,{children:function(e){var s=e.ref,l=Ov(e,["ref"]);return(0,r.jsxs)(Kg.xV,gv(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){bv(e,t,n[t])}))}return e}({className:dv().channelList,orientation:"horizontal",paddingFix:!1,onScroll:o,style:t?void 0:Sv,ref:function(e){n.current=e;var t;s.current=null!==(t=null==e?void 0:e.getScrollerNode())&&void 0!==t?t:null;o()}},l),{children:[i,t&&a<4&&(0,r.jsx)(TO,{})]}))}})})}function Cv(e){var t=e.guildId,n=e.isUsingCollapsedLayout,i=(0,s.e7)([sO.Z],(function(){
return sO.Z.getActiveChannelsFetchStatus(t)})),a=function(e){return(0,s.Wu)([I.Z,hn.Z,sO.Z],(function(){return dO(e,[I.Z,hn.Z,sO.Z])}))}(t),l=(0,nO.k5)(t),c=(0,s.e7)([qy.ZP],(function(){return qy.ZP.getVoiceStates(t)})),u=function(e,t){return(0,s.Wu)([hn.Z,I.Z,qy.ZP,Ut.Z],(function(){return pO(e,t,[hn.Z,I.Z,qy.ZP,Ut.Z])}))}(t,l),f=a.length+u.length+(null!=l?1:0),d=f>0,p=o.useRef(null),h=(0,nO.ZP)(t).filter((function(e){return!(0,tO.xt)(e)})),E=vv(o.useState(0===h.length),2),y=E[0],m=E[1],b=vv(o.useState(!0),2),g=b[0],O=b[1],v=vv(o.useState(!1),2),_=v[0],S=v[1],T=(0,cb.Z)(),N=T.ref,C=T.width,A=o.useCallback((function(){var e=p.current;if(null!=e&&null!=C){var t=e.getScrollerState(),n=t.scrollLeft,r=t.scrollWidth;O(n<=0);S(n>=r-C-1)}}),[C]),P=o.useCallback((function(){var e=p.current;if(null!=e&&null!=C){var t=e.getScrollerState().scrollLeft,n=C+12,r=Math.max(.25*C-9,140),o=Math.ceil((t-n)/r)*r;e.scrollTo({to:Math.max(0,o),animate:!0})}}),[C]),j=o.useCallback((function(){var e=p.current
;if(null!=e&&null!=C){var t=e.getScrollerState(),n=t.scrollLeft,r=t.scrollWidth,o=C+12,i=Math.max(.25*C-9,140),a=Math.floor((n+o)/i)*i;e.scrollTo({to:Math.min(r,a),animate:!0})}}),[C]);o.useEffect((function(){sO.Z.shouldFetch(t)&&(0,aO.n)(t)}),[t]);!function(e,t,n){var r=(0,s.e7)([sO.Z],(function(){var t=sO.Z.getActiveChannelsFetchStatus(e);return null!=t&&!t.loading}),[e]);o.useEffect((function(){r&&Te.default.track(R.rMx.ACTIVE_CHANNELS_LOADED,{guild_id:e,text_channels_shown:t.length,voice_channels_shown:n.length,home_session_id:Jg.Z.getHomeSessionId(e)})}),[e,r])}(t,a,u);var x=o.useCallback((function(e){Te.default.track(R.rMx.ACTIVE_CHANNEL_CLICKED,{guild_id:e.guild_id,channel_id:e.id,channel_type:e.type,text_channels_shown:a.length,voice_channels_shown:u.length,home_session_id:Jg.Z.getHomeSessionId(e.guild_id)})}),[a,u]),M=a.map((function(e){return(0,r.jsx)(RO,{guildId:t,channel:e,trackChannelClick:x},e.id)})),w=u.map((function(e){return(0,r.jsx)(BO,{guildId:t,channel:e,
voiceStates:c[e.id],trackChannelClick:x,showPreview:!n},e.id)})),Z=[];if(n)Z=_v(M).concat(_v(w));else if(y)Z=rs.compact([null!=l&&(0,r.jsx)(uv,{event:l,isInList:!0},"event")].concat(_v(M.slice(0,10)),_v(w)));else{var L=rs.take(M,3-(w.length>0?1:0)-(null!=l?1:0)),D=rs.take(w,3-L.length-(null!=l?1:0));Z=rs.compact([null!=l&&(0,r.jsx)(uv,{event:l,isInList:!0},"event")].concat(_v(L),_v(D)))}return(0,r.jsx)("div",{ref:N,className:dv().container,children:(0,r.jsxs)(K.y5,{component:(0,r.jsxs)("div",{className:dv().header,children:[(0,r.jsx)(K.X6,{variant:"heading-md/semibold",children:J.Z.Messages.ACTIVE_CHANNELS_HEADER}),!n&&!0!==(null==i?void 0:i.loading)&&f>3&&(0,r.jsx)(K.P3,{onClick:function(){return m(!y)},children:(0,r.jsx)(K.xv,{className:dv().showAll,variant:"text-sm/normal",children:y?J.Z.Messages.GUILD_HOME_SEE_LESS:J.Z.Messages.GUILD_HOME_SEE_ALL.format({count:f})})})]}),children:[(null==i?void 0:i.loading)?(0,r.jsx)(Kg.xV,{className:dv().channelList,orientation:"horizontal",
paddingFix:!1,children:(0,r.jsx)(AO,{guildId:t})}):d?(0,r.jsx)(Nv,{isUsingCollapsedLayout:n,scrollerRef:p,handleScroll:A,activeChannels:Z,totalActiveChannels:f}):(0,r.jsx)(Tv,{}),n&&d&&!g&&(0,r.jsx)(K.P3,{className:$p()(dv().scrollIcon,dv().left),onClick:P,"aria-hidden":!0,children:(0,r.jsx)(lO.Z,{direction:lO.Z.Directions.LEFT,height:12,width:12})}),n&&d&&!_&&(0,r.jsx)(K.P3,{className:$p()(dv().scrollIcon,dv().right),onClick:j,"aria-hidden":!0,children:(0,r.jsx)(lO.Z,{direction:lO.Z.Directions.RIGHT,height:12,width:12})})]})})}var Av=n(932012),Pv=n(483716);function jv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xv(e){xv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return xv(e)}function Rv(e,t){return!t||"object"!==wv(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}
function Mv(e,t){Mv=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Mv(e,t)}var wv=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Zv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=xv(e);if(t){var o=xv(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Rv(this,n)}}var Lv=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Mv(e,t)}(n,e);var t=Zv(n);function n(){jv(this,n);return t.apply(this,arguments)}var r=n.prototype;r._initialize=function(){
g.Z.subscribe("MESSAGE_REACTION_ADD",this.handleReaction);g.Z.subscribe("MESSAGE_REACTION_REMOVE",this.handleReaction);g.Z.subscribe("SIDEBAR_VIEW_CHANNEL",this.handleSidebarViewChannel);g.Z.subscribe("MESSAGE_CREATE",this.handleMessageCreate);g.Z.subscribe("APP_STATE_UPDATE",this.handleAppStateUpdate)};r._terminate=function(){g.Z.unsubscribe("MESSAGE_REACTION_ADD",this.handleReaction);g.Z.unsubscribe("MESSAGE_REACTION_REMOVE",this.handleReaction);g.Z.unsubscribe("SIDEBAR_VIEW_CHANNEL",this.handleSidebarViewChannel);g.Z.unsubscribe("MESSAGE_CREATE",this.handleMessageCreate);g.Z.unsubscribe("APP_STATE_UPDATE",this.handleAppStateUpdate)};r.handleReaction=function(e){var t=e.type,n=e.userId,r=e.messageId,o=e.optimistic;if(n===tr.default.getId()&&o){var i=A.Z.getGuildId();if(null!=i){var a=C.Z.getChannelId();if((0,cO.ME)(a)){var s=Db.ZP.getItemForMessageId(i,r);if(null!=s){var l=(0,Av.ZP)(s);(0,Lb.wA)({feed_item_type:(0,Pv.NH)(s.id),feed_item_id:s.id,load_id:Db.ZP.getLoadId(i),
action_type:"MESSAGE_REACTION_ADD"===t?EO.w8.REACTION_ADDED:EO.w8.REACTION_REMOVED,guild_id:i,channel_id:l.channel_id,message_id:r,home_session_id:Jg.Z.getHomeSessionId(i)})}}}}};r.handleSidebarViewChannel=function(e){var t=e.channelId,n=e.baseChannelId;if(e.sidebarType===Hg.t.VIEW_THREAD&&(0,cO.ME)(n)){var r=A.Z.getGuildId();if(null!=r){var o=Db.ZP.getItemForMessageId(r,t);null!=o&&o.type!==Bb.w.FORUM_POST&&(0,Lb.wA)({feed_item_type:(0,Pv.NH)(o.id),feed_item_id:o.id,load_id:Db.ZP.getLoadId(r),action_type:EO.w8.THREAD_EMBED_CLICKED,guild_id:r,channel_id:(0,Yb.xp)(o),message_id:t,home_session_id:Jg.Z.getHomeSessionId(r)})}}};r.handleMessageCreate=function(e){var t=e.optimistic,n=e.message;if(t&&n.state===R.yb.SENDING){var r=A.Z.getGuildId();if(null!=r){var o=qd.ZP.getSidebarState(cO.oC.GUILD_HOME);if(null!=o&&(0,qd.D5)(o)){var i=I.Z.getChannel(o.channelId),a=(0,Yb.FW)(o,i);if(null!=a){var s=Db.ZP.getItemForMessageId(r,a);if(null!=s){var l,c;if(n.type===R.uaV.DEFAULT){
l=EO.w8.MESSAGED_IN_SIDEBAR;c=a}else if(n.type===R.uaV.REPLY){var u,f;c=null===(u=n.message_reference)||void 0===u?void 0:u.message_id;l=(null===(f=n.message_reference)||void 0===f?void 0:f.message_id)===a?EO.w8.REPLIED_TO_MESSAGE:EO.w8.REPLIED_IN_SIDEBAR}null!=l&&(0,Lb.wA)({feed_item_type:(0,Pv.NH)(s.id),feed_item_id:s.id,load_id:Db.ZP.getLoadId(r),action_type:l,guild_id:r,channel_id:n.channel_id,message_id:c,home_session_id:Jg.Z.getHomeSessionId(r)})}}}}}};r.handleAppStateUpdate=function(e){if("background"===e.state){var t=A.Z.getGuildId();null!=t&&Te.default.track(R.rMx.HOME_BACKGROUNDED,{guild_id:t,home_session_id:Jg.Z.getHomeSessionId(t),load_id:Db.ZP.getLoadId(t)})}};r.__getLocalVars=function(){return{}};return n}(v.Z);const Dv=new Lv;var Uv=n(402580),kv=n(557426),Gv=n(388721);function Bv(e,t,n){for(var r=n.feedItemId,o=n.guildId,i=n.channelId,a=n.messageId,s=e.target;(0,Gv.k)(s);){var l,c;if(s===t)break
;var u=null!==(c=null===(l=s.getAttribute("data-role"))||void 0===l?void 0:l.toUpperCase())&&void 0!==c?c:s.tagName;if("A"===u){(0,Lb.wA)({feed_item_type:(0,Pv.NH)(r),feed_item_id:r,load_id:Db.ZP.getLoadId(o),action_type:EO.w8.LINK_CLICKED,guild_id:o,channel_id:i,message_id:a,home_session_id:Jg.Z.getHomeSessionId(o)});return!0}if("IMG"===u){(0,Lb.wA)({feed_item_type:(0,Pv.NH)(r),feed_item_id:r,load_id:Db.ZP.getLoadId(o),action_type:EO.w8.IMAGE_CLICKED,guild_id:o,channel_id:i,message_id:a,home_session_id:Jg.Z.getHomeSessionId(o)});return!0}if("BUTTON"===u||"button"===s.getAttribute("role")){var f=EO.w8.BUTTON_CLICKED;if("view-more-replies"===s.getAttribute("data-action"))f=EO.w8.VIEW_MORE_REPLIES;(0,Lb.wA)({feed_item_type:(0,Pv.NH)(r),feed_item_id:r,load_id:Db.ZP.getLoadId(o),action_type:f,guild_id:o,channel_id:i,message_id:a,home_session_id:Jg.Z.getHomeSessionId(o)});return!0}s=s.parentNode}return!1}function Hv(e){
var t=e.guildId,n=e.channelId,r=e.feedItemId,o=e.onChannelClick,i=e.onContentClick,a=function(e,o){e.stopPropagation();var a=Db.ZP.getItem(t,r);if(null!=a){var s;(0,Lb.wA)({feed_item_type:(0,Pv.NH)(r),feed_item_id:r,load_id:Db.ZP.getLoadId(t),action_type:EO.w8.MESSAGE_CLICKED,guild_id:t,channel_id:n,message_id:null!==(s=null==o?void 0:o.id)&&void 0!==s?s:(0,Av.ZP)(a).id,home_session_id:Jg.Z.getHomeSessionId(t)});i(o)}};return{handleMessageClick:function(e,o,i){e.stopPropagation();Bv(e,o,{feedItemId:r,guildId:t,channelId:n,messageId:i.id})||a(e,i)},handleChannelClick:function(e){e.stopPropagation();(0,Lb.wA)({feed_item_type:(0,Pv.NH)(r),feed_item_id:r,load_id:Db.ZP.getLoadId(t),action_type:EO.w8.MESSAGE_CHANNEL_CLICKED,guild_id:t,channel_id:n,home_session_id:Jg.Z.getHomeSessionId(t)});o()},handleCardClick:function(e,o){Bv(e,o,{feedItemId:r,guildId:t,channelId:n})||a(e)},handleItemClick:a}}
var Vv=n(60890),Fv=n(369218),Yv=n(735093),zv=n(988233),Wv=n(42220),Kv=n(163329),qv=n(316685),Xv=n(43016),Qv=n(967670),$v=n(23552),Jv=n(6349),e_=n(143989),t_=n.n(e_);function n_(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function r_(e){var t=e.message,n=e.guildId,i=e.animateAvatar,a=e.channel,s=e.author,l=(0,Wv.Z)(t.id,Jv.d$),c=l.popouts,u=l.setPopout,f=c.usernameProfile,d=c.avatarProfile,p=o.useMemo((function(){return function(e){return(0,Yv.Z)(e,t)}}),[t]),h=(0,zv.wq)(t.author.id,a.id),E=(0,zv.XO)(t,a,f,u),y=(0,zv.R9)(d,u),m=o.useCallback((function(){return u({usernameProfile:!1,avatarProfile:!1,referencedUsernameProfile:!1})}),[u]),b=(0,Qv.F2)({props:{message:t,channel:a,author:s,guildId:n,compact:!0,displayCompactAvatars:!0,animate:i,showAvatarPopout:d,showUsernamePopout:f,onContextMenu:h,onClickUsername:E,onClickAvatar:y,onPopoutRequestClose:m},guildId:n,handleRenderPopout:p,className:t_().avatar}),g=(0,
Qv.xP)(e,p),O=(0,Fv.XX)(t),v=(0,Fv.Dv)(t),_="".concat(O," ").concat(v),I=(0,Fv.Gq)(t);return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(K.H,{className:t_().header,"aria-describedby":I,"aria-labelledby":_,children:[b,(0,r.jsx)("span",{id:(0,Fv.XX)(t),className:t_().username,children:(0,r.jsx)(r.Fragment,{children:g})}),(0,r.jsx)($v.Z,{id:(0,Fv.Dv)(t),timestamp:t.timestamp,className:t_().timestamp})]})})}var o_=o.forwardRef((function(e,t){var n=e.message,i=e.className,a=e.onMessageClick,s=e.children,l=e.isTruncated,c=e.channel,u=e.guildId,f=e.animateAvatar,d=o.useRef(null),p=(0,Kv.Z)(n,{hideSimpleEmbedContent:!0}),h=p.content,E=p.hasSpoilerEmbeds,y=(0,Vv.ZP)(n),m=o.useCallback((function(e){a(e,d.current,n)}),[a,n]);return(0,r.jsxs)("div",{ref:d,className:i,onClick:m,role:"article",children:[(0,r.jsx)(ob.tE,{offset:{left:4,right:4},children:(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(r_,{author:y,message:n,channel:c,guildId:u,animateAvatar:f}),(0,r.jsx)(Xv.ZP,{
className:$p()(t_().messageContent,n_({},t_().truncatedReply,l)),message:n,content:h,contentRef:t})]}),(0,qv.Z)({className:t_().accessories,channelMessageProps:e,hasSpoilerEmbeds:E,isInteracting:!1})]})}),s]})})),i_=n(725608),a_=n(301679),s_=n(266738),l_=n(785741),c_=n.n(l_),u_=n(635232),f_=n.n(u_),d_=n(312154),p_=n.n(d_),h_=n(22513),E_=n.n(h_),y_=n(515861),m_=n.n(y_),b_=n(568909),g_=n.n(b_),O_=n(531239),v_=n.n(O_),__=n(302048),I_=n.n(__),S_=n(180263),T_=n.n(S_),N_=n(677291),C_=n.n(N_),A_=n(864678),P_=n.n(A_),j_=n(367627),x_=n.n(j_),R_=n(874744),M_=n.n(R_),w_=n(101872),Z_=n.n(w_),L_=n(46802),D_=n.n(L_),U_=n(726954),k_=n.n(U_),G_=n(897295),B_=n.n(G_);function H_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function V_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{
for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return H_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H_(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var F_=[{light:D_(),dark:Z_(),selected:k_(),value:s_.Pq.TERRIBLE,altDescription:function(){return J.Z.Messages.GUILD_FEED_FEEDBACK_RATING_TERRIBLE},description:function(){return J.Z.Messages.GUILD_FEED_FEEDBACK_RATING_TERRIBLE}},{light:p_(),dark:f_(),selected:E_(),value:s_.Pq.BAD,altDescription:function(){
return J.Z.Messages.GUILD_FEED_FEEDBACK_RATING_BAD}},{light:x_(),dark:P_(),selected:M_(),value:s_.Pq.OKAY,altDescription:function(){return J.Z.Messages.GUILD_FEED_FEEDBACK_RATING_OKAY}},{light:T_(),dark:I_(),selected:C_(),value:s_.Pq.GOOD,altDescription:function(){return J.Z.Messages.GUILD_FEED_FEEDBACK_RATING_GOOD}},{light:g_(),dark:m_(),selected:v_(),value:s_.Pq.EXCELLENT,altDescription:function(){return J.Z.Messages.GUILD_FEED_FEEDBACK_RATING_EXCELLENT},description:function(){return J.Z.Messages.GUILD_FEED_FEEDBACK_RATING_EXCELLENT}}];function Y_(e){var t=e.defaultSrc,n=e.selectedSrc,i=e.selected,a=e.disableAnimation,s=e.alt,l=V_((0,sm.useSpring)((function(){return{from:{opacity:1},config:{duration:a?0:s_.$D}}}),[i,a]),2),c=l[0],u=l[1],f=V_((0,sm.useSpring)((function(){return{from:{opacity:0},config:{duration:a?0:s_.$D}}}),[i,a]),2),d=f[0],p=f[1];o.useEffect((function(){if(i){u({opacity:0});p({opacity:1})}else{u({opacity:1});p({opacity:0})}}),[i,a,u,p]);return(0,r.jsxs)(r.Fragment,{
children:[(0,r.jsx)(sm.animated.img,{style:{opacity:d.opacity},src:n,width:40,height:40,alt:s}),(0,r.jsx)(sm.animated.img,{className:c_().ratingInner,style:{opacity:c.opacity},src:t,width:40,height:40,alt:s})]})}function z_(e){var t=e.selectedRating,n=e.setSelectedRating,o=e.disableAnimation,i=(0,iO.ZP)();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(K.X6,{variant:"heading-md/semibold",children:J.Z.Messages.GUILD_FEED_FEEDBACK_SECTION_1_TITLE}),(0,r.jsx)(K.xv,{variant:"text-md/normal",children:J.Z.Messages.GUILD_FEED_FEEDBACK_SECTION_1_SUBTITLE}),(0,r.jsx)("div",{className:c_().ratingsContainer,children:F_.map((function(e){return(0,r.jsxs)("div",{className:c_().ratingContainer,children:[(0,r.jsx)(K.P3,{className:c_().rating,onClick:function(){n(e.value)},children:(0,r.jsx)(Y_,{defaultSrc:i===Ol.BR.DARK?e.dark:e.light,selectedSrc:e.selected,selected:t===e.value,alt:e.altDescription(),disableAnimation:o})}),null!=e.description?(0,r.jsx)(K.xv,{variant:"text-xs/normal",
children:e.altDescription()}):null]},e.value)}))})]})}function W_(e){var t,n=e.selectedRating,o=e.selectedReasons,i=e.onSelectedReasons,a=e.onUserFeedbackChanged,s=e.onSubmitPressed,l=e.canSubmit;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(K.X6,{variant:"heading-md/semibold",children:J.Z.Messages.GUILD_FEED_FEEDBACK_SECTION_2_TITLE.format({rating:n.toLowerCase()})}),(0,r.jsx)("div",{className:c_().pillContainer,children:(null!==(t=s_.gq[n])&&void 0!==t?t:[]).map((function(e){return(0,r.jsx)(K.P3,{onClick:function(){return i(e)},className:$p()(c_().pill,o.has(e)?c_().pillSelected:null),children:(0,r.jsx)(K.xv,{variant:"text-md/normal",children:(0,i_.i1)(e)})},e)}))}),o.has(s_.Jh.OTHER)?(0,r.jsx)(K.oi,{autoFocus:!0,className:c_().textInput,onChange:a,placeholder:J.Z.Messages.GUILD_FEED_FEEDBACK_OTHER_PLACEHOLDER}):null,(0,r.jsx)(K.zx,{className:c_().button,disabled:!l,onClick:s,children:J.Z.Messages.SUBMIT})]})}function K_(){return(0,r.jsxs)("div",{children:[(0,r.jsx)("img",{
src:B_(),width:75,height:75,alt:""}),(0,r.jsx)(K.X6,{variant:"heading-md/semibold",children:J.Z.Messages.GUILD_FEED_FEEDBACK_SECTION_3_TITLE})]})}function q_(e){var t,n,o=(0,i_.IT)(e),i=o.selectedRating,a=o.setSelectedRating,s=o.selectedReasons,l=o.setSelectedReasons,c=o.setUserFeedback,u=o.backPressed,f=o.onSubmitPressed,d=o.onBackPressed,p=o.onClosePressed,h=o.showSubmitted,E=o.canSubmit,y=o.isAnimating,m=o.useReducedMotion;if(h){n=!1;t=(0,r.jsx)(K_,{})}else if(null==i||u||y){n=!1;t=(0,r.jsx)(z_,{disableAnimation:u||m,selectedRating:i,setSelectedRating:a})}else{n=!0;t=(0,r.jsx)(W_,{selectedRating:i,selectedReasons:s,onSelectedReasons:l,onUserFeedbackChanged:c,onBackPressed:d,onSubmitPressed:f,canSubmit:E})}return(0,r.jsx)("div",{className:c_().parentContainer,onClick:function(e){return e.stopPropagation()},children:(0,r.jsxs)("div",{className:$p()(c_().container,c_().containerDivider),children:[t,n?(0,r.jsx)(K.P3,{className:$p()(c_().icon,c_().back),onClick:d,children:(0,
r.jsx)(a_.Z,{direction:a_.Z.Directions.LEFT})}):null,(0,r.jsx)(K.P3,{className:$p()(c_().icon,c_().close),onClick:p,children:(0,r.jsx)(Sb.Z,{})})]})})}var X_=n(365757),Q_=n(617493),$_=n.n(Q_);function J_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function eI(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function tI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){eI(e,t,n[t])}))}return e}function nI(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
;t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function rI(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function oI(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}
}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return J_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J_(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const iI=o.forwardRef((function(e,t){var n=e.className,i=e.children,a=e.ariaLabel,s=e.onContextMenu,l=e.onCardClick,c=e.onItemClick,u=e.listItemProps,f=e.itemId,d=e.selected,p=rI(e,["className","children","ariaLabel","onContextMenu","onCardClick","onItemClick","listItemProps","itemId","selected"]),h=oI((0,X_.Z)(t),2),E=h[0],y=h[1],m=o.useRef(null);return(0,r.jsxs)("div",nI(tI({ref:y,className:$p()($_().card,$_().interactiveCard,eI({},$_().selected,d),n),"data-item-id":f,onContextMenu:s,
onClick:function(e){return null==l?void 0:l(e,E.current)}},p),{children:[(0,r.jsx)(K.P3,tI({className:$_().clickableTarget,innerRef:m,"aria-label":a,onClick:c},u)),i]}))}));var aI=n(25121),sI=n.n(aI);function lI(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function cI(e){var t=e.children,n=e.hideBorder;return(0,r.jsx)("div",{className:$p()(sI().feedItemHeader,lI({},sI().hideBorder,n)),children:t})}var uI=n(557328),fI=n(953346),dI=n.n(fI);function pI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hI(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}
}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return pI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pI(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function EI(e){e.stopPropagation()}function yI(e){var t=e.renderContextPopout,n=hI(o.useState(!1),2),i=n[0],a=n[1],s=o.useCallback((function(e){null==e||e.stopPropagation();a(!i)}),[i]),l=J.Z.Messages.MORE;return(0,r.jsx)("div",{onClick:EI,onContextMenu:EI,children:(0,r.jsx)(xg.Ke,{renderPopout:function(){return t(s)},shouldShow:i,onRequestClose:s,position:xg.vK.LEFT,align:xg.xM.TOP,animation:xg.Ke.Animation.NONE,children:function(e,t){return(0,r.jsx)(qb.ZP,{text:l,hideOnClick:!0,children:function(e){
var t=e.onMouseEnter,n=e.onMouseLeave,o=e.onClick;return(0,r.jsx)(K.zx,{onMouseEnter:t,onMouseLeave:n,look:K.zx.Looks.BLANK,size:K.zx.Sizes.NONE,onClick:function(e){null==o||o();s(e)},"aria-label":l,className:dI().overflowButton,children:(0,r.jsx)(uI.Z,{className:dI().icon})})}})}})})}function mI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bI(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return mI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mI(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gI(e,t){var n=bI(o.useState(!1),2),r=n[0],i=n[1];return[r,o.useCallback((function(n,r){n.stopPropagation();i(!0);(0,Lb.wA)({feed_item_type:(0,Pv.NH)(t),feed_item_id:t,load_id:Db.ZP.getLoadId(e),action_type:EO.w8.EXPANDED_ITEM,guild_id:e,channel_id:r.channel_id,message_id:r.id,home_session_id:Jg.Z.getHomeSessionId(e)})}),[e,t])]}var OI=n(508528),vI=n(719911),_I=n(88662),II=n(296965),SI=n(470691),TI=n(369227),NI=n(328203),CI=n.n(NI),AI=n(46427),PI=n.n(AI);function jI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xI(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function RI(e){
for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){xI(e,t,n[t])}))}return e}function MI(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function wI(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){
var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function ZI(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return jI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jI(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var LI=o.memo((function(e){var t=e.message,n=e.channel,i=e.animateAvatar,a=e.repliedMessage,s=(0,Wv.Z)(t.id,Jv.d$),l=s.popouts,c=s.setPopout,u=l.usernameProfile,f=l.avatarProfile,d=(0,zv.wq)(t.author.id,n.id),p=(0,zv.XO)(t,n,u,c),h=(0,zv.R9)(f,c),E=o.useCallback((function(){return c({usernameProfile:!1,avatarProfile:!1,referencedUsernameProfile:!1})}),[c]),y=(0,Vv.ZP)(t),m=(0,OI.p9)({guildId:n.guild_id,roleId:y.iconRoleId});return(0,r.jsx)(Qv.ZP,{guildId:n.guild_id,message:t,channel:n,repliedMessage:a,author:y,showTimestampOnHover:t.type!==R.uaV.REPLY,renderPopout:Yv.Z,showAvatarPopout:f,showUsernamePopout:u,onClickAvatar:h,onClickUsername:p,onPopoutRequestClose:E,onContextMenu:d,roleIcon:m,animate:i})})),DI=o.forwardRef((function(e,t){
var n=e.guildId,i=e.channel,a=e.message,l=e.feedItemId,c=e.className,u=e.animateAvatar,f=e.contentClassName,d=e.children,p=e.groupId,h=e.onMessageClick,E=e.hideHeader,y=void 0!==E&&E,m=e.forceAddReactions,b=void 0===m||m,g=wI(e,["guildId","channel","message","feedItemId","className","animateAvatar","contentClassName","children","groupId","onMessageClick","hideHeader","forceAddReactions"]),O=o.useRef(null),v=(0,s.e7)([I.Z],(function(){return I.Z.getChannel(i.id)})),_=null!=v&&a.isFirstMessageInForumPost(v),S=(0,Kv.Z)(a,{hideSimpleEmbedContent:!0,allowList:_,allowHeading:_}),T=S.content,N=S.hasSpoilerEmbeds,C=a.type===R.uaV.REPLY?a.messageReference:void 0,A=(0,s.e7)([Kd.Z],(function(){return Kd.Z.getMessageByReference(C)})),P=(0,s.e7)([I.Z],(function(){return a.hasFlag(R.iLy.HAS_THREAD)&&I.Z.getChannel(a.id)})),j=(0,Fv.iG)(a,p,{hasTimestamp:a.id===p}),x=(0,Fv.Gx)(a),M=null!=C?(0,r.jsx)(K.P3,{onClick:function(e){if(null!=A.message){e.stopPropagation();(0,Lb.wA)({feed_item_type:(0,
Pv.NH)(l),feed_item_id:l,load_id:Db.ZP.getLoadId(n),action_type:EO.w8.REFERENCED_MESSAGE_CLICKED,guild_id:n,channel_id:i.id,message_id:a.id,home_session_id:Jg.Z.getHomeSessionId(n)});$f.Z.openChannelAsSidebar({guildId:i.guild_id,channelId:i.id,baseChannelId:cO.oC.GUILD_HOME,details:{type:Hg.F.HOME,initialMessageId:A.message.id}})}},children:(0,SI.Z)(a,i,C,A,!1)}):null,w=(0,vI.Z)(a),Z=o.useCallback((function(e){h(e,O.current,a)}),[h,a]);return(0,r.jsx)(TI.Z,RI({messageRef:O,className:$p()(c,xI({},PI().mentioned,a.mentioned&&!(0,vI.Z)(a))),onClick:Z,childrenRepliedMessage:M,childrenExecutedCommand:(0,II.Z)(a,i,!1),childrenHeader:w||y?null:(0,r.jsx)(LI,{channel:i,message:a,animateAvatar:u,repliedMessage:A}),childrenAccessories:(0,qv.Z)({channelMessageProps:e,hasSpoilerEmbeds:N,isInteracting:!1,forceAddReactions:b}),childrenMessageContent:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Xv.ZP,{className:f,message:a,content:T,contentRef:t}),d]}),childrenSystemMessage:(0,_I.Z)(e),
hasThread:null!=P&&a.hasFlag(R.iLy.HAS_THREAD),hasReply:a.type===R.uaV.REPLY,isSystemMessage:w,"aria-labelledby":j,"aria-describedby":x},g))}));function UI(e){var t,n=e.message,i=e.guildId,a=e.feedItemId,s=e.disableTruncation,l=n.attachments.length>0,c=ZI(o.useState(!1),2),u=c[0],f=c[1],d=ZI(gI(i,a),2),p=d[0],h=d[1];return(0,r.jsx)(DI,MI(RI({ref:function(e){null==e||s||f(e.scrollHeight>e.clientHeight)},contentClassName:$p()((t={},xI(t,CI().clampLarge,!s&&!p&&!l),xI(t,CI().clampSmall,!s&&!p&&l),t))},e),{children:u&&!p?(0,r.jsx)(K.P3,{className:CI().showMore,onClick:function(e){return h(e,n)},"aria-hidden":!0,children:J.Z.Messages.GUILD_FEED_TRUNCATED_MESSAGE_SEE_MORE}):null}))}const kI=o.memo(UI);function GI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function BI(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function HI(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function VI(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return GI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GI(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function FI(e){var t=e.guildId,n=e.feedItemId,i=e.messages,a=o.useRef([]),s=i.some((function(e){return e.attachments.length>0}))?4:8,l=VI(o.useState(),2),c=l[0],u=l[1],f=VI(o.useState(),2),d=f[0],p=f[1],h=VI(gI(t,n),2),E=h[0],y=h[1];o.useLayoutEffect((function(){var e=0,t=!0,n=!1,r=void 0;try{for(var o,i=a.current.entries()[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var l=VI(o.value,2),c=l[0],f=l[1];if(null!=f){var d,h=parseFloat(null!==(d=window.getComputedStyle(f).getPropertyValue("line-height"))&&void 0!==d?d:"0"),E=f.scrollHeight/h;if((e+=E)>s){u(c);p(E-(e-s));break}}}}catch(e){n=!0;r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}}),[i,s])
;if(0===i.length)return null;var m=i[0].id;return(0,r.jsx)(r.Fragment,{children:i.map((function(t,n){if(null!=c&&n>c&&!E)return null;var o=c===n,s=o&&null!=d?function(e){if(e>=10)return CI().clampLarge;if(e>=4&&e<10)return CI().clampMed;if(e<4)return CI().clampSmall;return}(d):null,l=o&&null!=s&&!E;return(0,r.jsx)(DI,HI(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){BI(e,t,n[t])}))}return e}({message:t,groupId:m},e),{contentClassName:l?s:void 0,children:l?(0,r.jsx)(K.P3,{className:CI().showMore,onClick:function(e){return y(e,t)},"aria-hidden":!0,children:J.Z.Messages.GUILD_FEED_TRUNCATED_MESSAGE_SEE_MORE}):null,ref:function(e){return a.current[n]=e},hideHeader:0!==n,forceAddReactions:n===i.length-1}),t.id)}))})}const YI=o.memo(FI)
;var zI=n(226651),WI=n.n(zI);function KI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qI(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function XI(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){qI(i,r,o,a,s,"next",e)}function s(e){qI(i,r,o,a,s,"throw",e)}a(void 0)}))}}function QI(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function $I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){QI(e,t,n[t])}))}return e}function JI(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function eS(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return KI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KI(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var tS=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,
o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},nS=function(){var e=XI((function(){var e;return tS(this,(function(t){switch(t.label){case 0:return[4,n.e(52228).then(n.bind(n,652228))];case 1:e=t.sent();return[2,e.default]}}))}));return function(){return e.apply(this,arguments)}}();function rS(e){var t=e.item,n=e.referenceMessageBundles,i=e.channel,a=e.guildId,s=e.animateAvatar,l=e.onMessageClick,c=o.useCallback((function(){var e,r,o=n[n.length-2+1];$f.Z.openChannelAsSidebar({guildId:a,channelId:i.id,baseChannelId:cO.oC.GUILD_HOME,flash:!1,details:{type:Hg.F.HOME,
initialMessageId:null!==(r=null==o||null===(e=o[0])||void 0===e?void 0:e.id)&&void 0!==r?r:n[0][0].id,highlightMessageIds:new Set((0,Av.bE)(t))}})}),[t,i,a,n]);return(0,r.jsxs)("div",{className:WI().conversationArea,children:[n.slice(0,2).map((function(e,t){var o=e[0];return null==o?null:(0,r.jsx)(o_,{className:$p()(WI().conversationMessage,QI({},WI().mentioned,o.mentioned)),guildId:a,channel:i,message:o,onMessageClick:l,isTruncated:e.length>1,animateAvatar:s,children:t!==n.length-1&&(0,r.jsx)("div",{className:WI().replySpine})},o.id)})),n.length>2&&(0,r.jsx)("div",{className:$p()(WI().conversationMessage,WI().viewMoreReplies),children:(0,r.jsx)(K.P3,{onClick:c,"data-action":"view-more-replies",children:J.Z.Messages.GUILD_FEED_TRUNCATED_REPLIES_VIEW_MORE.format({count:n.length-2})})},"view-more")]})}const oS=o.forwardRef((function(e,t){
var n,i,a=e.guildId,l=e.conversationItem,c=e.showFeedback,u=e.setOnDismissedFeedback,f=l.root,d=f.messages,p=f.children,h=d[0],E=d[d.length-1],y=E.channel_id,m=(0,s.Wu)([Db.ZP],(function(){return d.map((function(e){return Db.ZP.getCachedMessage(a,y,e.id)})).filter(So.lm)}),[a,y,d]),b=(0,s.e7)([I.Z],(function(){return I.Z.getChannel(y)})),g=(0,Fb.KS)(b,void 0,{textFocused:!0}),O=(0,Fb.bT)(b),v=(0,Wd.ZP)(b),_=eS(o.useState(!1),2),S=_[0],T=_[1],N=(0,s.e7)([us.Z],(function(){return null!=E&&us.Z.isBlocked(E.author.id)})),C=(0,ib.JA)(null!==(i=null===(n=m[m.length-1])||void 0===n?void 0:n.id)&&void 0!==i?i:l.id),A=l.id,P=(0,s.e7)([qd.ZP],(function(){return qd.ZP.getSidebarState(cO.oC.GUILD_HOME)})),j=(0,Yb.FW)(P,b),x=null!=j&&h.id===j,M=Hv({guildId:a,channelId:y,feedItemId:A,onChannelClick:function(){return(0,PO.Z)(R.Z5c.CHANNEL(a,y,h.id))},onContentClick:function(e){var t;$f.Z.openChannelAsSidebar({guildId:a,channelId:y,baseChannelId:cO.oC.GUILD_HOME,flash:!1,details:{type:Hg.F.HOME,
initialMessageId:null!==(t=null==e?void 0:e.id)&&void 0!==t?t:h.id,highlightMessageIds:new Set((0,Av.bE)(l))}})}}),w=M.handleItemClick,Z=M.handleChannelClick,L=M.handleCardClick,D=M.handleMessageClick,U=(0,s.e7)([Db.ZP],(function(){return null==b?[]:p.map((function(e){return e.messages.map((function(e){return Db.ZP.getCachedMessage(a,b.id,e.id)})).filter(So.lm)})).filter((function(e){return 0!==e.length}))}),[a,b,p],zb);if(null==b||null==h||null==E||N)return null;var k,G=function(){var e=XI((function(e){var t;return tS(this,(function(n){switch(n.label){case 0:return[4,nS()];case 1:t=n.sent();return[2,function(n){return(0,r.jsx)(t,{item:l,channel:b,onSelect:e})}]}}))}));return function(t){return e.apply(this,arguments)}}();return(0,r.jsxs)(iI,{className:c?WI().containerNoPadding:WI().container,ref:t,selected:x,onCardClick:L,onItemClick:w,onContextMenu:function(e){e.stopPropagation();(0,db.jW)(e,XI((function(){var e;return tS(this,(function(t){switch(t.label){case 0:return[4,nS()]
;case 1:e=t.sent();return[2,function(t){return(0,r.jsx)(e,JI($I({},t),{item:l,channel:b}))}]}}))})))},itemId:A,ariaLabel:J.Z.Messages.GUILD_FEED_MESSAGE_ITEM_A11Y_LABEL.format({channelName:v}),listItemProps:C,onMouseEnter:function(){return T(!0)},onMouseLeave:function(){return T(!1)},children:[(0,r.jsxs)(K.y5,{component:(0,r.jsxs)(cI,{children:[(0,r.jsx)("div",{className:WI().messageHeaderMenuLeft,children:(0,r.jsxs)(K.P3,{className:WI().channelNameContainer,onClick:Z,children:[null!=g?(0,r.jsx)(qb.ZP,{text:O,delay:500,children:function(e){return(0,r.jsx)(g,JI($I({},e),{className:WI().channelIcon,height:16,width:16}))}}):null,(0,r.jsx)(K.X6,{lineClamp:1,variant:"heading-sm/semibold",children:v})]})}),(0,r.jsx)("div",{className:WI().messageHeaderMenuRight,children:(0,r.jsx)(yI,{feedItem:l,guildId:a,renderContextPopout:G})})]}),children:[(0,r.jsx)("div",{className:$p()(WI().messageBundleItemBody,(k={},QI(k,WI().conversationRoot,U.length>0),QI(k,WI().hasReply,h.type===R.uaV.REPLY),k)),
children:(0,r.jsx)(YI,{feedItemId:l.id,guildId:a,channel:b,messages:m,animateAvatar:S,onMessageClick:D})}),(0,r.jsx)(rS,{item:l,channel:b,guildId:a,referenceMessageBundles:U,onMessageClick:D,animateAvatar:S})]}),c&&(0,r.jsx)(q_,{guildId:a,guildFeedItem:l,setOnDismissFeedback:u})]})}));var iS=n(942722),aS=n(226135),sS=n(86511),lS=n(570992),cS=n(469887),uS=n.n(cS);function fS(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dS(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return fS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fS(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pS(e){var t=e.guildId,n=e.feedItem,o=e.onSendFeedback,i=(0,Av.ZP)(n),a=i.channel_id,l=(0,s.e7)([I.Z],(function(){return I.Z.getChannel(a)})),c=(0,Wd.ZP)(l),u=(0,Fb.KS)(l),f=(0,s.e7)([F.default],(function(){return F.default.getUser(i.author.id)})),d=(0,s.e7)([I.Z,as.ZP,us.Z],(function(){return lS.Z.getName(t,a,f)})),p=function(e){(0,Lb.Jm)(t,e);o()};return(0,r.jsxs)("div",{className:uS().options,children:[(0,r.jsx)(K.P3,{className:uS().option,onClick:function(){return p({channel_id:a,message_id:i.id,entity_type:iS.C.MESSAGE})},children:(0,r.jsx)(K.xv,{variant:"text-md/normal",color:"interactive-active",
children:J.Z.Messages.GUILD_FEED_HIDDEN_MESSAGE_FEEDBACK_NO_LIKE})}),(0,r.jsx)(K.P3,{className:uS().option,onClick:function(){return p({channel_id:a,entity_type:iS.C.CHANNEL})},children:(0,r.jsx)(K.xv,{variant:"text-md/normal",color:"interactive-active",children:J.Z.Messages.GUILD_FEED_HIDDEN_MESSAGE_FEEDBACK_SHOW_LESS_CHANNEL.format({channelName:c,channelNameHook:function(e,t){return(0,r.jsxs)("span",{children:[null!=u&&(0,r.jsx)(u,{className:uS().mentionIcon,width:20,height:20})," ",e]},t)}})})}),(0,r.jsx)(K.P3,{className:uS().option,onClick:function(){var e;return p({user_id:null==i||null===(e=i.author)||void 0===e?void 0:e.id,entity_type:iS.C.USER})},children:(0,r.jsx)(K.xv,{variant:"text-md/normal",color:"interactive-active",children:J.Z.Messages.GUILD_FEED_HIDDEN_MESSAGE_FEEDBACK_SHOW_LESS_USER.format({username:d,usernameHook:function(e,t){return(0,r.jsxs)("span",{children:[(0,r.jsx)(aS.Z,{className:uS().mentionIcon,width:20,height:20})," ",e]},t)}})})})]})}function hS(e){
var t=e.guildId,n=e.feedItem,i=dS(o.useState(!1),2),a=i[0],s=i[1],l=(0,ib.JA)(n.id);return(0,r.jsxs)(iI,{ariaLabel:J.Z.Messages.GUILD_FEED_HIDDEN_MESSAGE_ITEM,listItemProps:l,children:[(0,r.jsxs)(cI,{hideBorder:a,children:[(0,r.jsx)(sS.Z,{className:uS().icon,width:16,height:16,foregroundColor:"currentColor"}),a?(0,r.jsxs)("div",{className:uS().title,children:[(0,r.jsx)(K.xv,{className:uS().title,variant:"text-md/medium",color:"interactive-active",children:J.Z.Messages.GUILD_FEED_HIDDEN_MESSAGE_ITEM_FEEDBACK_RECEIVED_TITLE}),(0,r.jsx)(K.xv,{className:uS().title,variant:"text-xs/medium",color:"interactive-normal",children:J.Z.Messages.GUILD_FEED_HIDDEN_MESSAGE_ITEM_FEEDBACK_RECEIVED_SUBTITLE})]}):(0,r.jsx)(K.xv,{className:uS().title,variant:"text-md/medium",color:"interactive-active",children:J.Z.Messages.GUILD_FEED_HIDDEN_MESSAGE_ITEM}),(0,r.jsx)(K.zx,{size:K.zx.Sizes.SMALL,color:K.zx.Colors.PRIMARY,onClick:function(){(0,Lb.L0)(n,t)},children:J.Z.Messages.UNDO})]}),!a&&(0,r.jsx)(pS,{
guildId:t,feedItem:n,onSendFeedback:function(){return s(!0)}})]})}var ES=n(364022),yS=n.n(ES);function mS(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bS(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function gS(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){bS(i,r,o,a,s,"next",e)}function s(e){bS(i,r,o,a,s,"throw",e)}a(void 0)}))}}function OS(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function vS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){OS(e,t,n[t])}))}return e}function _S(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function IS(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return mS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mS(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var SS=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,
o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},TS=function(){var e=gS((function(){var e;return SS(this,(function(t){switch(t.label){case 0:return[4,n.e(54437).then(n.bind(n,854437))];case 1:e=t.sent();return[2,e.default]}}))}));return function(){return e.apply(this,arguments)}}();function NS(e){var t=e.guildId,n=e.maxUsers,o=e.users,i=e.text;return(0,r.jsxs)("div",{className:yS().referenceMessagesText,children:[(0,r.jsx)(hO.Z,{guildId:t,users:o,size:hO.u.SIZE_16,className:yS().userSummaryItem,max:n,showDefaultAvatarsForNullUsers:!0}),(0,r.jsx)(K.xv,{variant:"text-xs/normal",color:"header-secondary",children:i})]})}function CS(e){
var t=e.referenceMessages,n=e.guildId,i=o.useMemo((function(){var e=new Set;return t.map((function(e){return e.author})).filter((function(t){if(null==t||e.has(t.id))return!1;e.add(t.id);return!0})).slice(0,3)}),[t]),a=t.length;if(0===a)return null;var s=a>3?J.Z.Messages.GUILD_FEED_MESSAGE_ITEM_MAX_REPLIES.format({maxReplies:3}):J.Z.Messages.GUILD_FEED_MESSAGE_ITEM_NUM_REPLIES.format({numReplies:a});return(0,r.jsx)(NS,{guildId:n,users:i,text:s})}const AS=o.forwardRef((function(e,t){var n,i,a=e.guildId,l=e.messageItem,c=e.showFeedback,u=e.setOnDismissedFeedback,f=l.message.channel_id,d=l.message.id,p=(0,s.cj)([Db.ZP],(function(){var e=Db.ZP.getCachedMessage(a,f,d);return{message:e,isFeaturedMessage:null!=e&&Db.ZP.getIsItemFeatured({guildId:a,entity:e,entityType:Bb.w.MESSAGE})}}),[a,f,d]),h=p.message,E=p.isFeaturedMessage,y=(0,s.e7)([I.Z],(function(){return I.Z.getChannel(f)})),m=(0,Fb.KS)(y,void 0,{textFocused:!0}),b=(0,
Fb.bT)(y),g=null!==(n=null==l?void 0:l.referenceMessages)&&void 0!==n?n:[],O=(0,Wd.ZP)(y),v=IS(o.useState(!1),2),_=v[0],S=v[1],T=(0,s.e7)([us.Z],(function(){return null!=h&&us.Z.isBlocked(null==h?void 0:h.author.id)})),N=(0,ib.JA)(null!==(i=null==h?void 0:h.id)&&void 0!==i?i:d),C=(0,Pv.ZP)(l),A=(0,s.e7)([qd.ZP],(function(){return qd.ZP.getSidebarState(cO.oC.GUILD_HOME)})),P=(0,Yb.FW)(A,y),j=null!=P&&l.message.id===P,x=l.highlighted?J.Z.Messages.GUILD_FEED_SPECIAL_HIGHLIGHT:E?J.Z.Messages.GUILD_FEED_FEATURED_BY_MODERATORS:null,M=Hv({guildId:a,channelId:f,feedItemId:C,onChannelClick:function(){return(0,PO.Z)(R.Z5c.CHANNEL(a,f,d))},onContentClick:function(){$f.Z.openChannelAsSidebar({guildId:a,channelId:f,baseChannelId:cO.oC.GUILD_HOME,details:{type:Hg.F.HOME,initialMessageId:d,highlightMessageIds:new Set([d])}})}}),w=M.handleItemClick,Z=M.handleChannelClick,L=M.handleCardClick,D=M.handleMessageClick;if(null==y||null==h||null==l||T)return null;var U=function(){var e=gS((function(e){var t
;return SS(this,(function(n){switch(n.label){case 0:return[4,TS()];case 1:t=n.sent();return[2,function(n){return(0,r.jsx)(t,{messageItem:l,message:h,channel:y,onSelect:e})}]}}))}));return function(t){return e.apply(this,arguments)}}();return(0,r.jsxs)(iI,{className:c?yS().containerNoPadding:yS().container,ref:t,selected:j,onCardClick:L,onItemClick:w,onContextMenu:function(e){e.stopPropagation();(0,db.jW)(e,gS((function(){var e;return SS(this,(function(t){switch(t.label){case 0:return[4,TS()];case 1:e=t.sent();return[2,function(t){return(0,r.jsx)(e,_S(vS({},t),{messageItem:l,channel:y,message:h}))}]}}))})))},itemId:C,ariaLabel:J.Z.Messages.GUILD_FEED_MESSAGE_ITEM_A11Y_LABEL.format({channelName:O}),listItemProps:N,onMouseEnter:function(){return S(!0)},onMouseLeave:function(){return S(!1)},children:[(0,r.jsxs)(K.y5,{component:(0,r.jsxs)(cI,{children:[(0,r.jsxs)("div",{className:yS().messageHeaderMenuLeft,children:[(0,r.jsxs)(K.P3,{className:yS().channelNameContainer,onClick:Z,
children:[null!=m?(0,r.jsx)(qb.ZP,{text:b,delay:500,children:function(e){return(0,r.jsx)(m,_S(vS({},e),{className:yS().channelIcon,height:16,width:16}))}}):null,(0,r.jsx)(K.X6,{lineClamp:1,variant:"heading-sm/semibold",children:O})]}),null!=x&&(0,r.jsxs)("div",{className:yS().featuredMessageContainer,children:[(0,r.jsx)(Wb.Z,{height:4,width:4,"aria-hidden":"true",className:yS().featuredMessageIcon}),(0,r.jsx)(K.xv,{className:yS().featuredMessageText,variant:"text-sm/normal",color:"header-secondary",children:x})]})]}),(0,r.jsx)("div",{className:yS().messageHeaderMenuRight,children:(0,r.jsx)(yI,{feedItem:l,guildId:a,renderContextPopout:U})})]}),children:[(0,r.jsx)(kI,{className:yS().messageItemBody,guildId:a,animateAvatar:_,channel:y,message:h,feedItemId:l.id,onMessageClick:D}),(0,r.jsx)(CS,{referenceMessages:g,guildId:a})]}),c&&(0,r.jsx)(q_,{guildId:a,guildFeedItem:l,setOnDismissFeedback:u})]})}));var PS=n(970669),jS=n.n(PS);function xS(e,t){(null==t||t>e.length)&&(t=e.length)
;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function RS(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function MS(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){RS(i,r,o,a,s,"next",e)}function s(e){RS(i,r,o,a,s,"throw",e)}a(void 0)}))}}function wS(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ZS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){wS(e,t,n[t])}))}return e}function LS(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e)
;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function DS(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return xS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xS(e,t)
}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var US=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}
if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},kS=function(){var e=MS((function(){var e;return US(this,(function(t){switch(t.label){case 0:return[4,n.e(52228).then(n.bind(n,652228))];case 1:e=t.sent();return[2,e.default]}}))}));return function(){return e.apply(this,arguments)}}();const GS=o.forwardRef((function(e,t){var n,i,a,l=e.guildId,c=e.messageBundleItem,u=e.showFeedback,f=e.setOnDismissedFeedback,d=c.messages,p=d[0].message,h=d[d.length-1].message,E=h.channel_id,y=(0,s.Wu)([Db.ZP],(function(){return d.map((function(e){return Db.ZP.getCachedMessage(l,E,e.message.id)})).filter(So.lm)}),[l,E,d]),m=(0,s.e7)([I.Z],(function(){return I.Z.getChannel(E)})),b=(0,Fb.KS)(m,void 0,{textFocused:!0}),g=(0,Fb.bT)(m),O=(0,Wd.ZP)(m),v=DS(o.useState(!1),2),_=v[0],S=v[1],T=(0,
s.e7)([us.Z],(function(){return null!=h&&us.Z.isBlocked(h.author.id)})),N=(0,ib.JA)(null!==(i=null===(n=y[y.length-1])||void 0===n?void 0:n.id)&&void 0!==i?i:c.id),C=c.id,A=(0,s.e7)([qd.ZP],(function(){return qd.ZP.getSidebarState(cO.oC.GUILD_HOME)})),P=(0,Yb.FW)(A,m),j=null!=P&&p.id===P,x=Hv({guildId:l,channelId:E,feedItemId:C,onChannelClick:function(){return(0,PO.Z)(R.Z5c.CHANNEL(l,E,p.id))},onContentClick:function(e){var t;$f.Z.openChannelAsSidebar({guildId:l,channelId:E,baseChannelId:cO.oC.GUILD_HOME,flash:!1,details:{type:Hg.F.HOME,initialMessageId:null!==(t=null==e?void 0:e.id)&&void 0!==t?t:p.id,highlightMessageIds:new Set((0,Av.bE)(c))}})}}),M=x.handleItemClick,w=x.handleChannelClick,Z=x.handleCardClick,L=x.handleMessageClick,D=o.useMemo((function(){return d.map((function(e){return null!==(a=e.referenceMessages)&&void 0!==a?a:[]})).flat()}),[d]);if(null==m||null==p||null==h||T)return null;var U=function(){var e=MS((function(e){var t;return US(this,(function(n){switch(n.label){
case 0:return[4,kS()];case 1:t=n.sent();return[2,function(n){return(0,r.jsx)(t,{item:c,channel:m,onSelect:e})}]}}))}));return function(t){return e.apply(this,arguments)}}();return(0,r.jsxs)(iI,{className:u?jS().containerNoPadding:jS().container,ref:t,selected:j,onCardClick:Z,onItemClick:M,onContextMenu:function(e){e.stopPropagation();(0,db.jW)(e,MS((function(){var e;return US(this,(function(t){switch(t.label){case 0:return[4,kS()];case 1:e=t.sent();return[2,function(t){return(0,r.jsx)(e,LS(ZS({},t),{item:c,channel:m}))}]}}))})))},itemId:C,ariaLabel:J.Z.Messages.GUILD_FEED_MESSAGE_ITEM_A11Y_LABEL.format({channelName:O}),listItemProps:N,onMouseEnter:function(){return S(!0)},onMouseLeave:function(){return S(!1)},children:[(0,r.jsxs)(K.y5,{component:(0,r.jsxs)(cI,{children:[(0,r.jsx)("div",{className:jS().messageHeaderMenuLeft,children:(0,r.jsxs)(K.P3,{className:jS().channelNameContainer,onClick:w,children:[null!=b?(0,r.jsx)(qb.ZP,{text:g,delay:500,children:function(e){return(0,
r.jsx)(b,LS(ZS({},e),{className:jS().channelIcon,height:16,width:16}))}}):null,(0,r.jsx)(K.X6,{lineClamp:1,variant:"heading-sm/semibold",children:O})]})}),(0,r.jsx)("div",{className:jS().messageHeaderMenuRight,children:(0,r.jsx)(yI,{feedItem:c,guildId:l,renderContextPopout:U})})]}),children:[(0,r.jsx)("div",{className:jS().messageBundleItemBody,children:(0,r.jsx)(YI,{feedItemId:c.id,guildId:l,channel:m,messages:y,animateAvatar:_,onMessageClick:L})}),(0,r.jsx)(CS,{referenceMessages:D,guildId:l})]}),u&&(0,r.jsx)(q_,{guildId:l,guildFeedItem:c,setOnDismissFeedback:f})]})}));var BS=n(743175),HS=n(240709),VS=n(320489),FS=n(3056),YS=n(504003),zS=n(775039),WS=n.n(zS);function KS(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qS(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function XS(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n)
;function a(e){qS(i,r,o,a,s,"next",e)}function s(e){qS(i,r,o,a,s,"throw",e)}a(void 0)}))}}function QS(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function $S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){QS(e,t,n[t])}))}return e}function JS(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}
function eT(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return KS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KS(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var tT=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={
next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},nT=new Set(["Electron","Chrome"]),rT=function(){
var e=XS((function(){var e;return tT(this,(function(t){switch(t.label){case 0:return[4,n.e(54437).then(n.bind(n,854437))];case 1:e=t.sent();return[2,e.default]}}))}));return function(){return e.apply(this,arguments)}}();function oT(e){var t,n=e.channel,o=(0,s.e7)([FS.Z],(function(){return null!==(t=FS.Z.getCount(n.id))&&void 0!==t?t:0})),i=o>=YS.M3?J.Z.Messages.GUILD_FEED_MESSAGE_ITEM_MAX_REPLIES.format({maxReplies:YS.M3}):J.Z.Messages.GUILD_FEED_MESSAGE_ITEM_NUM_REPLIES.format({numReplies:o}),a=(0,s.e7)([VS.Z],(function(){return VS.Z.getMemberIdsPreview(n.id)})),l=(0,BS.iM)(n,null!=a?a:[]);return 0===o?null:(0,r.jsx)(NS,{guildId:n.guild_id,maxUsers:5,users:l,text:i})}const iT=o.forwardRef((function(e,t){var n,i=e.guildId,a=e.postItem,l=e.showFeedback,c=e.setOnDismissedFeedback,u=a.thread,f=(0,s.e7)([I.Z],(function(){return I.Z.getChannel(u.id)}),[u.id]),d=(0,s.cj)([Db.ZP],(function(){return{message:Db.ZP.getCachedMessage(i,u.id,a.message.id),isFeaturedPost:Db.ZP.getIsItemFeatured({
guildId:i,entity:u,entityType:Bb.w.FORUM_POST})}}),[i,a.message.id,u]),p=d.message,h=d.isFeaturedPost,E=(0,Wd.ZP)(u),y=(0,s.e7)([us.Z],(function(){return null!=p&&us.Z.isBlocked(null==p?void 0:p.author.id)})),m=(0,ib.JA)(null!==(n=null==p?void 0:p.id)&&void 0!==n?n:a.message.id),b=(0,Pv.ZP)(a),g=(0,Fb.bT)(u),O=(0,s.e7)([I.Z],(function(){return I.Z.getChannel(u.parent_id)})),v=(0,Wd.ZP)(O),_=(0,Fb.KS)(O),S=eT(o.useState(!1),2),T=S[0],N=S[1],C=(0,s.e7)([qd.ZP],(function(){return qd.ZP.getSidebarState(cO.oC.GUILD_HOME)})),A=(0,Yb.FW)(C,f),P=null!=A&&a.message.id===A,j=a.highlighted?J.Z.Messages.GUILD_FEED_SPECIAL_HIGHLIGHT:h?J.Z.Messages.GUILD_FEED_FEATURED_BY_MODERATORS:null,x=Hv({guildId:i,channelId:u.id,feedItemId:b,onChannelClick:function(){return(0,PO.Z)(R.Z5c.CHANNEL(i,u.parent_id))},onContentClick:function(){return $f.Z.openThreadAsSidebar({guildId:i,baseChannelId:cO.oC.GUILD_HOME,channelId:u.id})}
}),M=x.handleItemClick,w=x.handleChannelClick,Z=x.handleCardClick,L=x.handleMessageClick,D=eT((0,BS.ur)(u),2),U=D[0],k=D[1],G=U[0],B=(0,BS.eV)(u).slice(1),H=null!=mm().name&&!nT.has(mm().name);if(null==u||null==f||null==p||null==a||y)return null;var V=function(){var e=XS((function(e){var t;return tT(this,(function(n){switch(n.label){case 0:return[4,rT()];case 1:t=n.sent();return[2,function(n){return(0,r.jsx)(t,{messageItem:a,message:p,channel:f,onSelect:e})}]}}))}));return function(t){return e.apply(this,arguments)}}();return(0,r.jsxs)(iI,{className:l?WS().containerNoPadding:WS().container,ref:t,selected:P,onCardClick:Z,onItemClick:M,onContextMenu:function(e){e.stopPropagation();(0,db.jW)(e,XS((function(){var e;return tT(this,(function(t){switch(t.label){case 0:return[4,rT()];case 1:e=t.sent();return[2,function(t){return(0,r.jsx)(e,JS($S({},t),{messageItem:a,channel:f,message:p}))}]}}))})))},itemId:b,ariaLabel:J.Z.Messages.GUILD_FEED_MESSAGE_ITEM_A11Y_LABEL.format({channelName:E}),
listItemProps:m,onMouseEnter:function(){return N(!0)},onMouseLeave:function(){return N(!1)},children:[(0,r.jsx)(K.y5,{component:(0,r.jsxs)(cI,{children:[(0,r.jsxs)("div",{className:WS().postHeaderMenuLeft,children:[(0,r.jsxs)(K.P3,{className:WS().channelNameContainer,onClick:w,children:[null!=_?(0,r.jsx)(qb.ZP,{text:g,delay:500,children:function(e){return(0,r.jsx)(_,JS($S({},e),{className:WS().channelIcon,height:16,width:16}))}}):null,(0,r.jsx)(K.X6,{className:WS().channelName,variant:"heading-sm/semibold",lineClamp:1,children:v})]}),null!=j&&(0,r.jsxs)("div",{className:WS().featuredPostContainer,children:[(0,r.jsx)(Wb.Z,{height:4,width:4,"aria-hidden":"true",className:WS().featuredPostIcon}),(0,r.jsx)(K.xv,{className:WS().featuredPostText,variant:"text-sm/normal",color:"header-secondary",children:j})]})]}),(0,r.jsx)("div",{className:WS().postHeaderMenuRight,children:(0,r.jsx)(yI,{feedItem:a,guildId:i,renderContextPopout:V})})]}),children:(0,r.jsxs)(K.y5,{component:(0,r.jsxs)("div",{
className:WS().titleContainer,children:[(0,r.jsx)(K.X6,{className:WS().title,variant:"heading-lg/semibold",children:u.name}),null!=G?(0,r.jsxs)("div",{className:WS().tags,children:[(0,r.jsx)(HS.ZP,{tag:G,size:HS.ZP.Sizes.SMALL}),k>0?(0,r.jsx)(HS.fz,{tags:B,count:k,size:HS.ZP.Sizes.SMALL}):null]}):null]}),children:[(0,r.jsx)(kI,{className:WS().messageItemBody,guildId:u.guild_id,animateAvatar:T,channel:u,message:p,feedItemId:a.id,onMessageClick:L,disableTruncation:H}),(0,r.jsx)(oT,{channel:u})]})}),l&&(0,r.jsx)(q_,{guildId:i,guildFeedItem:a,setOnDismissFeedback:c})]})}));function aT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sT(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e
}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return aT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aT(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const lT=o.memo((function(e){var t=e.guildId,n=e.itemId,i=e.scrollerHeight,a=e.scrollerRef,l=e.showFeedback,c=e.setOnDismissedFeedback,u=sT((0,s.Wu)([Db.ZP],(function(){return[Db.ZP.getItem(t,n),Db.ZP.getIsItemHiding(t,n),Db.ZP.getIsItemHidden(t,n)]})),3),f=u[0],d=u[1],p=u[2],h=o.useRef(null);o.useEffect((function(){var e,r=h.current;if(null!=r&&null!=i){
var o=r.clientHeight,s=null===(e=a.current)||void 0===e?void 0:e.getScrollerNode();if(null!=s){var l=Math.min(.5,.5*i/o),c=new IntersectionObserver((function(e){return function(e,t,n){var r=!0,o=!1,i=void 0;try{for(var a,s=n[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value,c=l.target.dataset.itemId;if(null==c)return;var u=Date.now();l.intersectionRatio>=t?(0,Lb.pb)(e,c,u):(0,Lb.v)(e,c,u)}}catch(e){o=!0;i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}}(t,l,e)}),{root:s,rootMargin:"0px 100000px 0px 100000px",threshold:l});c.observe(r);return function(){c.disconnect()}}}else(0,Lb.v)(t,n,Date.now())}),[n,t,a,i,d,p]);if(null==f||p)return null;if(d)return(0,r.jsx)(hS,{guildId:t,feedItem:f});switch(f.type){case Bb.w.FORUM_POST:return(0,r.jsx)(iT,{ref:h,guildId:t,postItem:f,showFeedback:l,setOnDismissedFeedback:c});case Bb.w.MESSAGE:return(0,r.jsx)(AS,{ref:h,guildId:t,messageItem:f,showFeedback:l,setOnDismissedFeedback:c});case Bb.w.MESSAGE_BUNDLE:return(0,
r.jsx)(GS,{ref:h,guildId:t,messageBundleItem:f,showFeedback:l,setOnDismissedFeedback:c});case Bb.w.CONVERSATION:return(0,r.jsx)(oS,{ref:h,guildId:t,conversationItem:f,showFeedback:l,setOnDismissedFeedback:c});default:(0,So.vE)(f)}}));var cT=n(33055),uT=n(554062),fT=n(266644),dT=n(170161),pT=n(357409),hT=n(81951),ET=n(1812);function yT(e){var t=(0,s.e7)([ET.ZP],(function(){return ET.ZP.getChannels(e)}))[ET.sH];return(0,s.Wu)([Qd.Z],(function(){return t.filter((function(e){var t=e.channel;return HO.T.READABLE.has(t.type)&&!HO.T.GUILD_VOCAL.has(t.type)})).filter((function(t){var n=t.channel;return Qd.Z.isChannelMuted(e,n.id)||Qd.Z.isCategoryMuted(e,n.id)}))}),[e,t]).length}var mT=n(577084),bT=n.n(mT);function gT(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function OT(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){gT(i,r,o,a,s,"next",e)}function s(e){
gT(i,r,o,a,s,"throw",e)}a(void 0)}))}}function vT(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function _T(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var IT=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,
r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function ST(e,t,o){return(0,r.jsx)(K.P3,{className:bT().mutedChannelsHook,onClick:function(){(0,Y.ZD)(OT((function(){var e,t;return IT(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(19936)]).then(n.bind(n,19936))];case 1:e=i.sent(),t=e.default
;return[2,function(e){return(0,r.jsx)(t,_T(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){vT(e,t,n[t])}))}return e}({},e),{guildId:o}))}]}}))})))},children:e},t)}var TT=o.memo((function(e){var t=e.guildId,n=e.onReloadClick,o=yT(t);return(0,r.jsxs)("div",{className:$p()(bT().container,bT().footerContainer),children:[(0,r.jsxs)("div",{className:bT().iconContainer,children:[(0,r.jsx)(dT.Z,{className:bT().icon,width:20,height:20}),(0,r.jsx)(pT.Z,{className:bT().stars,width:52,height:40})]}),(0,r.jsx)(K.X6,{className:bT().header,variant:"heading-md/semibold",children:J.Z.Messages.GUILD_FEED_FOOTER_TITLE}),(0,r.jsx)(K.xv,{color:"header-secondary",variant:"text-sm/normal",children:o>0?J.Z.Messages.GUILD_FEED_MUTED_CHANNELS_SUBTITLE.format({
numMutedChannels:o,mutedChannelsHook:function(e,n){return ST(e,n,t)}}):J.Z.Messages.GUILD_FEED_FOOTER_SUBTITLE}),(0,r.jsx)(K.zx,{onClick:n,className:bT().button,children:J.Z.Messages.GUILD_FEED_RELOAD})]})})),NT=o.memo((function(e){var t=e.guildId,n=e.onReloadClick,o=yT(t);return(0,r.jsxs)("div",{className:$p()(bT().container,bT().background),children:[(0,r.jsxs)("div",{className:bT().iconContainer,children:[(0,r.jsx)(dT.Z,{className:bT().icon,width:36,height:36}),(0,r.jsx)(pT.Z,{className:bT().stars})]}),(0,r.jsx)(K.X6,{className:bT().header,variant:"heading-md/semibold",children:J.Z.Messages.GUILD_FEED_EMPTY_TITLE}),(0,r.jsx)(K.xv,{color:"header-secondary",variant:"text-sm/normal",children:o>0?J.Z.Messages.GUILD_FEED_MUTED_CHANNELS_SUBTITLE.format({numMutedChannels:o,mutedChannelsHook:function(e,n){return ST(e,n,t)}}):J.Z.Messages.GUILD_FEED_EMPTY_SUBTITLE}),(0,r.jsx)(K.zx,{onClick:n,className:bT().button,children:J.Z.Messages.GUILD_FEED_RELOAD})]})})),CT=o.memo((function(e){
var t=e.onReloadClick;return(0,r.jsxs)("div",{className:$p()(bT().container,bT().background),children:[(0,r.jsx)("div",{className:bT().iconContainer,children:(0,r.jsx)(hT.Z,{className:bT().icon,width:36,height:36})}),(0,r.jsx)(K.X6,{className:bT().header,variant:"heading-md/semibold",children:J.Z.Messages.GUILD_FEED_ERROR_TITLE}),(0,r.jsx)(K.xv,{color:"header-secondary",variant:"text-sm/normal",children:J.Z.Messages.GUILD_FEED_ERROR_SUBTITLE.format({url:R.yXt.STATUS})}),(0,r.jsx)(K.zx,{onClick:t,className:bT().button,children:J.Z.Messages.GUILD_FEED_RELOAD})]})})),AT=o.memo((function(e){var t=e.onReloadClick;return(0,r.jsxs)("div",{className:$p()(bT().container,bT().paginationContainer,bT().primaryBackground),children:[(0,r.jsx)("div",{className:bT().iconContainer,children:(0,r.jsx)(hT.Z,{className:bT().icon,width:36,height:36})}),(0,r.jsx)(K.X6,{className:bT().header,variant:"heading-md/semibold",children:J.Z.Messages.GUILD_FEED_ERROR_TITLE}),(0,r.jsx)(K.xv,{color:"header-secondary",
variant:"text-sm/normal",children:J.Z.Messages.GUILD_FEED_ERROR_SUBTITLE.format({url:R.yXt.STATUS})}),(0,r.jsx)(K.zx,{onClick:t,className:bT().button,children:J.Z.Messages.RETRY})]})})),PT=n(833924),jT=n(266161),xT=n.n(jT);function RT(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function MT(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function wT(){var e=o.useMemo((function(){if(!(os().random(1)<.5))return MT(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){RT(e,t,n[t])}))}return e}({},(0,PT.Rr)()),{last:!0})}),[]);return(0,r.jsxs)(iI,{"aria-hidden":!0,ariaLabel:"",children:[(0,r.jsx)(cI,{children:(0,r.jsx)(NO.ZT,{className:xT().channelName,opacity:.3,width:80})}),(0,r.jsx)("div",{className:xT().body,children:(0,r.jsx)(NO.ZP,{messages:5,attachmentSpecs:e,className:xT().withoutCustomBackground})})]})}const ZT=o.memo((function(e){var t=e.count;return(0,r.jsx)(r.Fragment,{children:os().times(null!=t?t:5,(function(e){return(0,r.jsx)(wT,{},e)}))})}));var LT=n(95048),DT=n(460015);function UT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kT(e){kT=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return kT(e)}function GT(e,t){
return!t||"object"!==HT(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function BT(e,t){BT=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return BT(e,t)}var HT=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function VT(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=kT(e);if(t){var o=kT(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return GT(this,n)}}var FT={};var YT=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{
constructor:{value:e,writable:!0,configurable:!0}});t&&BT(e,t)}(n,e);var t=VT(n);function n(){UT(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(e){if(null!=e){var t;FT=null!==(t=e.numCleanLoadsForGuild)&&void 0!==t?t:{}}};r.getState=function(){return{numCleanLoadsForGuild:FT}};r.getTotalNumCleanLoads=function(){var e=0;for(var t in FT){var n;e+=null!==(n=FT[t])&&void 0!==n?n:0}return e};r.__getLocalVars=function(){return{MAX_NUM_CLEAN_LOADS:50,numCleanLoadsForGuild:FT}};return n}(s.ZP.PersistedStore);YT.displayName="GuildHomeFeedbackStore";YT.persistKey="GuildHomeFeedbackStore";const zT=new YT(g.Z,{GUILD_FEED_FETCH_SUCCESS:function(e){var t,n=e.guildId;if(!e.fresh)return!1;FT[n]=Math.min(50,(null!==(t=FT[n])&&void 0!==t?t:0)+1)},LOGOUT:function(){FT={}}});var WT=new Date(Date.UTC(2022,7,6));var KT=n(646756),qT=n.n(KT),XT=n(934104),QT=n.n(XT);function $T(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}
s.done?t(l):Promise.resolve(l).then(r,o)}function JT(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){$T(i,r,o,a,s,"next",e)}function s(e){$T(i,r,o,a,s,"throw",e)}a(void 0)}))}}function eN(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var tN=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop()
;a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function nN(e){var t=e.children,n=e.onClose;return(0,r.jsxs)("div",{className:qT().container,children:[(0,r.jsx)(K.P3,{className:qT().closeButton,onClick:n,children:(0,r.jsx)(Sb.Z,{className:qT().closeIcon})}),(0,r.jsx)("div",{className:qT().textContainer,children:t}),(0,r.jsx)("img",{className:qT().image,src:QT(),alt:""})]})}function rN(e){var t=e.onClose;return(0,r.jsxs)(nN,{onClose:t,children:[(0,r.jsx)(K.X6,{style:{color:"white"},variant:"heading-lg/semibold",color:"none",children:J.Z.Messages.GUILD_FEED_NUX_MEMBER_TITLE}),(0,r.jsx)(K.xv,{
className:qT().bodySection,variant:"text-sm/normal",color:"none",children:J.Z.Messages.GUILD_FEED_NUX_MEMBER_BODY_1}),(0,r.jsx)(K.xv,{className:qT().bodySection,variant:"text-sm/normal",color:"none",children:J.Z.Messages.GUILD_FEED_NUX_MEMBER_BODY_2}),(0,r.jsx)(K.ee,{className:$p()(qT().cta,qT().ctaLink,(0,K.nY)({look:K.zx.Looks.LINK,color:K.zx.Colors.WHITE})),href:$.Z.getArticleURL(R.BhN.GUILD_HOME),children:J.Z.Messages.GUILD_FEED_NUX_MEMBER_BODY_3})]})}function oN(){(0,Y.ZD)(JT((function(){var e,t;return tN(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(20607)]).then(n.bind(n,420607))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){
eN(e,t,n[t])}))}return e}({},e))}]}}))})))}function iN(e){var t=e.onClose;return(0,r.jsxs)(nN,{onClose:t,children:[(0,r.jsx)(K.X6,{style:{color:"white"},variant:"heading-lg/semibold",color:"none",children:J.Z.Messages.GUILD_FEED_NUX_MODERATOR_TITLE}),(0,r.jsx)(K.xv,{className:qT().bodySection,variant:"text-sm/normal",color:"none",children:J.Z.Messages.GUILD_FEED_NUX_MEMBER_BODY_1}),(0,r.jsx)(K.xv,{className:qT().bodySection,variant:"text-sm/normal",color:"none",children:J.Z.Messages.GUILD_FEED_NUX_MEMBER_BODY_2}),(0,r.jsx)(K.zx,{className:qT().cta,look:K.zx.Looks.INVERTED,color:K.zx.Colors.BRAND,onClick:oN,children:J.Z.Messages.GUILD_FEED_NUX_MODERATOR_CTA})]})}function aN(e){var t=e.guild,n=e.onClose,i=(0,s.e7)([hn.Z],(function(){return hn.Z.can(R.Plq.MANAGE_MESSAGES,t)})),a=function(e,t){var n=(0,DT.ZP)([zT],(function(){return zT.getTotalNumCleanLoads()<=2})),r=(0,DT.ZP)([F.default],(function(){var e=F.default.getCurrentUser();return null==e||e.createdAt.getTime()<WT.getTime()
})),i=o.useMemo((function(){return null!=(null==e?void 0:e.joinedAt)&&WT.getTime()>e.joinedAt.getTime()}),[null==e?void 0:e.joinedAt]),a=n&&r&&!i;o.useEffect((function(){a||t(yn.L.AUTO)}),[a]);return a||!0}(t,n);return a?i?(0,r.jsx)(iN,{onClose:n}):(0,r.jsx)(rN,{onClose:n}):null}var sN=[fn.z$.GUILD_FEED_NUX_CARD];const lN=o.memo((function(e){var t=e.guild;return(0,r.jsx)(LT.Z,{contentTypes:sN,groupName:yn.R.GUILD_FEED_TOP,children:function(e){var n=e.visibleContent,o=e.markAsDismissed;return n===fn.z$.GUILD_FEED_NUX_CARD?(0,r.jsx)(aN,{guild:t,onClose:o}):null}})}));var cN=n(983067),uN=n(12820),fN=n.n(uN);const dN=o.memo((function(){return(0,r.jsxs)("div",{className:fN().container,children:[(0,r.jsxs)("div",{className:fN().divider,children:[(0,r.jsx)("div",{className:fN().line}),(0,r.jsx)("div",{className:fN().icon,children:(0,r.jsx)(cN.Z,{height:24,width:24})}),(0,r.jsx)("div",{className:fN().line})]}),(0,r.jsx)(K.xv,{className:fN().title,color:"header-primary",
variant:"text-md/semibold",children:J.Z.Messages.GUILD_FEED_UNREAD_DIVIDER_TITLE}),(0,r.jsx)(K.xv,{className:fN().subtitle,color:"header-secondary",variant:"text-sm/normal",children:J.Z.Messages.GUILD_FEED_UNREAD_DIVIDER_SUBTITLE})]})}));var pN=n(832010),hN=n(709990),EN=n(969225),yN=n(889373),mN=n(106027),bN=n(760654),gN=n(865862),ON=n.n(gN),vN=n(404940),_N=n.n(vN),IN=n(185802),SN=n.n(IN);function TN(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function NN(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){TN(i,r,o,a,s,"next",e)}function s(e){TN(i,r,o,a,s,"throw",e)}a(void 0)}))}}function CN(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function AN(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e)
;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var PN=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,
o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},jN=function(e){var t=o.useMemo((function(){return null==e?null:zs.ZP.getGuildHomeHeaderURL({id:e.id,homeHeader:e.homeHeader})}),[e]);return{homeHeaderImage:t,isHomeHeaderImageSet:null!=t,homeHeaderScroll:null!=t?200:0}};function xN(e){var t=e.guild,n=function(){Er.Z.open(t.id,R.pNK.OVERVIEW,void 0,R.KsC.DISPLAY)};return t.hasFeature(R.oNc.BANNER)?(0,r.jsxs)(K.zx,{className:ON().editButton,innerClassName:ON().editButtonInner,type:"button",size:K.zx.Sizes.MEDIUM,color:K.zx.Colors.BRAND,onClick:n,children:[(0,r.jsx)(bN.Z,{height:16,width:16,color:(0,pN.Lq)(R.Ilk.WHITE_500)}),J.Z.Messages.EDIT_IMAGE]}):(0,
r.jsxs)(yN.C,{color:K.zx.Colors.GREEN,className:ON().editButton,innerClassName:ON().editButtonInner,onClick:n,children:[(0,r.jsx)(mN.Z,{height:16,width:16,className:ON().premiumUpsellBadge}),J.Z.Messages.PREMIUM_GUILD_UNLOCK_WTH_BOOSTING_CTA]})}var RN=o.memo((function(e){var t=e.guild,o=jN(t),i=o.homeHeaderImage,a=o.isHomeHeaderImageSet,l=(0,s.e7)([hn.Z],(function(){return hn.Z.can(R.Plq.MANAGE_GUILD,t)})),c=(0,s.e7)([hn.Z],(function(){return(0,mu.b)(hn.Z,t)})),u="dark"===(0,iO.ZP)()?_N():SN();return(0,r.jsxs)("div",{className:ON().header,children:[(0,r.jsxs)("div",{className:ON().headerArtWrapper,children:[(0,r.jsx)("div",{className:$p()(ON().headerArt,CN({},ON().headerArtPlaceholder,!a)),style:{backgroundImage:"url(".concat(a?i:u,")")}}),l&&(0,r.jsx)(xN,{guild:t})]}),(0,r.jsx)(EN.Z,{className:ON().headerIcon,guild:t,size:EN.Z.Sizes.XLARGE,active:!0}),(0,r.jsx)(K.y5,{children:(0,r.jsxs)("div",{className:ON().headerName,children:[(0,r.jsx)(K.X6,{className:ON().headerName,
variant:"heading-xxl/bold",children:t.name}),(0,r.jsx)(hN.Z,{size:24,guild:t,tooltipPosition:qb.ZP.Positions.BOTTOM,tooltipColor:qb.ZP.Colors.PRIMARY,className:ON().guildBadge}),c&&(0,r.jsx)(K.zx,{className:ON().inviteButton,size:K.zx.Sizes.MEDIUM,color:K.zx.Colors.PRIMARY,onClick:function(){return(0,Y.ZD)(NN((function(){var e,o;return PN(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(66150)]).then(n.bind(n,966150))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,AN(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){CN(e,t,n[t])}))}return e}({},e),{guild:t,source:R.t4x.GUILD_HOME}))}]}}))})))},children:J.Z.Messages.INSTANT_INVITE})]})})]})}));const MN=RN;var wN=n(960251),ZN=n.n(wN)
;function LN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function DN(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function UN(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){DN(i,r,o,a,s,"next",e)}function s(e){DN(i,r,o,a,s,"throw",e)}a(void 0)}))}}function kN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||BN(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}
function GN(e){return function(e){if(Array.isArray(e))return LN(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||BN(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function BN(e,t){if(e){if("string"==typeof e)return LN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?LN(e,t):void 0}}var HN=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.")
;for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},VN=o.memo((function(e){var t=e.guildId;return(0,s.e7)([cT.Z],(function(){return cT.Z.isViewingRoles(t)}))?(0,r.jsx)(uT.Z,{messageType:uT.Q.WARNING,children:J.Z.Messages.GUILD_FEED_VIEW_AS_ROLE_WARNING}):null}));var FN=o.memo((function(e){
var t=e.guildId,n=e.hasMoreItems,i=e.scrollerRef,a=e.error,s=e.fetchPage,l=e.onReloadClick,c=o.useRef(null);o.useEffect((function(){var e,t=c.current,r=null===(e=i.current)||void 0===e?void 0:e.getScrollerNode();if(null!=r&&null!=t&&n){var o=new IntersectionObserver((function(e){var t=!0,n=!1,r=void 0;try{for(var o,i=e[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){o.value.intersectionRatio>0&&s()}}catch(e){n=!0;r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}}),{root:r,rootMargin:"0px 0px 200px 0px",threshold:0});o.observe(t);return function(){o.disconnect()}}}),[i,c,s,t,n]);return null!=a?(0,r.jsx)(AT,{guildId:t,onReloadClick:s}):n?(0,r.jsx)("div",{className:ZN().container,ref:c,children:(0,r.jsx)(ZT,{count:1})}):(0,r.jsx)(TT,{guildId:t,onReloadClick:l})}));function YN(e){var t,n,i,a=e.guild,l=e.renderMode,c=e.scrollerRef,u=e.seenManagerRef,f=rO(),d=kN((0,s.Wu)([Db.ZP],(function(){return[EO.Ji.READ,EO.Ji.UNREAD,EO.Ji.HIGHLIGHTED,EO.Ji.ALL].map((function(e){
return Db.ZP.getFeedItemSection(a.id,e)}))})),4),p=d[0],h=d[1],E=d[2],y=d[3],m=(0,s.e7)([Db.ZP],(function(){return Db.ZP.getLoadId(a.id)})),b=(0,s.e7)([Jg.Z],(function(){return Jg.Z.getHomeSessionId(a.id)})),g=(0,kv.Z)({guildId:a.id,highlightedItemData:f}),O=g.loading,v=g.error,_=g.fetchFresh,I=g.fetchPage,S=(0,s.e7)([Db.ZP],(function(){return Db.ZP.getPaginationStatus(a.id)})).hasMoreItems,T=$g.M.useExperiment({guildId:a.id}).hasNewHeader,N=jN(a).homeHeaderScroll;o.useEffect((function(){Dv.initialize();return function(){Dv.terminate()}}),[]);o.useLayoutEffect((function(){if(null!=m&&null!=b){(0,Lb.Ps)(a.id);var e=(0,fT.UU)(),t=new Uv.Z({guildId:a.id,loadId:m,homeSessionId:b,windowId:e,isPaused:!qe.Z.isFocused(e)});t.initialize();u.current=t;return function(){t.terminate()}}}),[u,a.id,m,b]);var C=function(e){var t=kN(o.useState(null),2),n=t[0],r=t[1];o.useEffect((function(){var t,n=null===(t=e.current)||void 0===t?void 0:t.getScrollerNode();if(null!=n){
var o=new ResizeObserver((function(e){var t=!0,n=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var s=i.value;r(s.contentRect.height)}}catch(e){n=!0;o=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw o}}}));o.observe(n);return function(){o.disconnect()}}}),[e]);return n}(c),A=o.useMemo((function(){return l!==EO.EO.NEW?[]:GN(y).sort((function(e,t){return-yo.Z.compare((0,Av.ZP)(e).id,(0,Av.ZP)(t).id)}))}),[y,l]),P=o.useCallback(UN((function(){var e;return HN(this,(function(t){switch(t.label){case 0:return[4,null===(e=u.current)||void 0===e?void 0:e.maybeFlushSeenItems(qg.cs.IMMEDIATE)];case 1:t.sent();_({force:!0,flushSeenItems:function(){var e;return null===(e=u.current)||void 0===e?void 0:e.maybeFlushSeenItems(qg.cs.IMMEDIATE)}});return[2]}}))})),[u,_]);o.useEffect((function(){if(O===Db.Q.LOADING_FRESH_FEED)if(T){var e;null===(e=c.current)||void 0===e||e.scrollTo({to:N})}else{var t;null===(t=c.current)||void 0===t||t.scrollToTop()}
}),[O,T,N]);var j,x,R=0===y.length,M=(0,i_.vL)(),w=M.showFeedback,Z=M.setOnDismissedFeedback;if(R)return O===Db.Q.LOADING_FRESH_FEED?(0,r.jsx)("div",{className:ZN().container,children:(0,r.jsx)(ZT,{})}):null!=v?(0,r.jsx)(CT,{guildId:a.id,onReloadClick:P}):(0,r.jsx)(NT,{guildId:a.id,onReloadClick:P});if(l===EO.EO.TOP)return(0,r.jsxs)("div",{className:ZN().container,children:[(0,r.jsx)(lN,{guild:a}),y.map((function(e,t){return(0,r.jsx)(lT,{guildId:a.id,itemId:e.id,scrollerHeight:C,scrollerRef:c,showFeedback:0===t&&w,setOnDismissedFeedback:Z},e.id)})),(0,r.jsx)(FN,{guildId:a.id,hasMoreItems:null!=S&&S,scrollerRef:c,error:v,fetchPage:I,onReloadClick:P})]});if(l===EO.EO.NEW)return(0,r.jsxs)("div",{className:ZN().container,children:[(0,r.jsx)(lN,{guild:a}),A.map((function(e,t){return(0,r.jsx)(lT,{guildId:a.id,itemId:e.id,scrollerHeight:C,scrollerRef:c,showFeedback:0===t&&w,setOnDismissedFeedback:Z},e.id)})),(0,r.jsx)(FN,{guildId:a.id,hasMoreItems:null!=S&&S,scrollerRef:c,error:v,fetchPage:I,
onReloadClick:P})]});var L=null!==(x=null!==(j=null===(t=E[0])||void 0===t?void 0:t.id)&&void 0!==j?j:null===(n=h[0])||void 0===n?void 0:n.id)&&void 0!==x?x:null===(i=p[0])||void 0===i?void 0:i.id;return(0,r.jsxs)("div",{className:ZN().container,children:[(0,r.jsx)(VN,{guildId:a.id}),(0,r.jsx)(lN,{guild:a}),E.map((function(e){return(0,r.jsx)(lT,{guildId:a.id,itemId:e.id,scrollerHeight:C,scrollerRef:c,showFeedback:e.id===L&&w,setOnDismissedFeedback:Z},e.id)})),h.map((function(e){return(0,r.jsx)(lT,{guildId:a.id,itemId:e.id,scrollerHeight:C,scrollerRef:c,showFeedback:e.id===L&&w,setOnDismissedFeedback:Z},e.id)})),p.length>0?(0,r.jsx)(dN,{}):null,p.map((function(e){return(0,r.jsx)(lT,{guildId:a.id,itemId:e.id,scrollerHeight:C,scrollerRef:c,showFeedback:e.id===L&&w,setOnDismissedFeedback:Z},e.id)})),(0,r.jsx)(FN,{guildId:a.id,hasMoreItems:null!=S&&S,scrollerRef:c,error:v,fetchPage:I,onReloadClick:P})]})}var zN=n(516682),WN=n.n(zN);function KN(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value
}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function qN(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){KN(i,r,o,a,s,"next",e)}function s(e){KN(i,r,o,a,s,"throw",e)}a(void 0)}))}}function XN(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function QN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){XN(e,t,n[t])}))}return e}function $N(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var JN=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break
}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function eC(e){var t=e.guild,i=(0,ub.Z)(EO.Gj),a=(0,nO.ZP)(t.id),s=o.useMemo((function(){var e=a.filter((function(e){return(0,tO.xt)(e)}));return i&&e.length>0?os().head(e):os().chain(a).filter((function(e){return!(0,tO.xt)(e)})).minBy((function(e){return kb()(e.scheduled_start_time)})).value()}),[a,i]);if(null==s)return null;function l(){l=qN((function(){return JN(this,(function(e){switch(e.label){case 0:return[4,(0,Y.ZD)(qN((function(){var e,o;return JN(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(55527),n.e(48657)]).then(n.bind(n,248657))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,$N(QN({},e),{guildId:t.id}))}]}}))})))];case 1:e.sent();(0,
dn.EW)(fn.z$.GUILD_HEADER_EVENT_UPSELL);return[2]}}))}));return l.apply(this,arguments)}return(0,r.jsxs)("div",{className:WN().container,children:[(0,r.jsxs)("div",{className:WN().header,children:[(0,r.jsx)(K.X6,{variant:"heading-md/semibold",children:i?J.Z.Messages.GUILD_EVENTS:J.Z.Messages.GUILD_HOME_EVENTS_TITLE}),a.length>=2?(0,r.jsx)(K.P3,{onClick:function(){return l.apply(this,arguments)},children:(0,r.jsx)(K.xv,{className:WN().showEvents,variant:"text-sm/normal",children:J.Z.Messages.GUILD_HOME_SEE_ALL.format({count:a.length})})}):null]}),(0,r.jsx)("div",{className:WN().events,children:(0,r.jsx)(uv,{event:s,isInList:!1})})]})}var tC=n(271265),nC=n(312220),rC=n(383198),oC=n.n(rC);function iC(e){var t=e.guild;o.useEffect((function(){(0,tC.P)(t.id)}),[t.id]);var n=(0,s.e7)([nC.Z],(function(){return nC.Z.getGuild(t.id)}),[t]);return(0,r.jsxs)("div",{className:oC().memberInfo,children:[null!=(null==n?void 0:n.presenceCount)?(0,r.jsxs)("div",{className:oC().memberCount,children:[(0,
r.jsx)("div",{className:oC().dotOnline}),(0,r.jsx)(K.xv,{variant:"text-sm/normal",className:oC().memberText,children:J.Z.Messages.MEMBER_VERIFICATION_NUM_ONLINE.format({membersOnline:n.presenceCount})})]}):null,null!=(null==n?void 0:n.memberCount)?(0,r.jsxs)("div",{className:oC().memberCount,children:[(0,r.jsx)("div",{className:oC().dotOffline}),(0,r.jsx)(K.xv,{variant:"text-sm/normal",className:oC().memberText,children:J.Z.Messages.MEMBER_VERIFICATION_NUM_MEMBERS.format({members:n.memberCount})})]}):null]})}function aC(e){var t=e.guild;return(0,r.jsxs)("div",{className:oC().container,children:[(0,r.jsx)(EN.Z,{className:oC().icon,guild:t,size:EN.Z.Sizes.LARGER,active:!0}),(0,r.jsx)(K.xv,{tag:"div",className:oC().name,variant:"heading-xl/semibold",children:t.name}),null!=t.description?(0,r.jsx)(K.xv,{className:oC().description,variant:"text-md/normal",children:t.description}):null,(0,r.jsx)(iC,{guild:t})]})}const sC=o.memo(aC);var lC=n(811442);function cC(e){var t=e.guild
;o.useEffect((function(){(0,tC.P)(t.id)}),[t.id]);var n=(0,s.e7)([nC.Z],(function(){return nC.Z.getGuild(t.id)}),[t]);return(0,r.jsxs)("div",{className:oC().memberInfo,children:[t.hasCommunityInfoSubheader()&&(0,r.jsxs)("div",{className:oC().memberCount,children:[(0,r.jsx)(lC.Z,{width:14,height:14}),(0,r.jsx)(K.xv,{variant:"text-xs/normal",color:"text-muted",children:J.Z.Messages.DISCOVERABLE_GUILD_HEADER_PUBLIC})]}),null!=(null==n?void 0:n.presenceCount)&&(0,r.jsxs)("div",{className:oC().memberCount,children:[(0,r.jsx)("div",{className:oC().dotOnline}),(0,r.jsx)(K.xv,{variant:"text-xs/normal",color:"text-muted",children:J.Z.Messages.MEMBER_VERIFICATION_NUM_ONLINE.format({membersOnline:n.presenceCount})})]}),null!=(null==n?void 0:n.memberCount)&&(0,r.jsxs)("div",{className:oC().memberCount,children:[(0,r.jsx)("div",{className:oC().dotOffline}),(0,r.jsx)(K.xv,{variant:"text-xs/normal",color:"text-muted",children:J.Z.Messages.MEMBER_VERIFICATION_NUM_MEMBERS.format({members:n.memberCount
})})]})]})}function uC(e){var t=e.guild;return(0,r.jsx)("div",{className:oC().container,children:(0,r.jsxs)(K.y5,{component:(0,r.jsx)("div",{className:oC().header,children:(0,r.jsx)(K.X6,{variant:"heading-md/medium",children:J.Z.Messages.GUILD_HOME_ABOUT})}),children:[null!=t.description?(0,r.jsx)(K.xv,{className:oC().description,variant:"text-md/normal",children:t.description}):null,(0,r.jsx)(cC,{guild:t})]})})}const fC=o.memo(uC);var dC=n(738862),pC=n.n(dC),hC=n(149563),EC=n.n(hC);function yC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mC(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function bC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))))
;r.forEach((function(t){mC(e,t,n[t])}))}return e}function gC(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function OC(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function vC(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return yC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yC(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var _C=o.memo((function(e){var t=e.guild,n=function(e,t){var n=Qg.jD.useExperiment({}).showRefreshButton;o.useEffect((function(){Qg.jD.trackExposure({})}),[]);var i=(0,s.e7)([hn.Z],(function(){
return hn.Z.can(R.Plq.MANAGE_MESSAGES,e)}),[e]),a=[];n&&a.push((0,r.jsx)(Tb.JO,{tooltip:J.Z.Messages.REFRESH,icon:Wg.Z,onClick:function(){(0,Lb.QF)({guildId:e.id,refresh:!0,flushSeenItems:function(){var e;return null===(e=t.current)||void 0===e?void 0:e.maybeFlushSeenItems(qg.cs.IMMEDIATE)}})}}));i&&a.push((0,r.jsx)(Ug,{guildId:e.id}));return a}(t,e.seenManagerRef);return(0,r.jsxs)(kg.Z,{channelId:cO.oC.GUILD_HOME,guildId:t.id,className:$p()(EC().title,pC().background),innerClassname:pC().headerBarInner,toolbar:n,children:[(0,r.jsx)(kg.Z.Icon,{icon:zg.Z,"aria-hidden":!0}),(0,r.jsxs)(kg.Z.Title,{children:[(0,r.jsx)(K.nn,{children:t.name}),J.Z.Messages.GUILD_HOME]}),(0,r.jsx)(wb.Z,{})]})})),IC=o.memo((function(e){var t=e.guild,n=e.containerHeight,i=e.isUsingCollapsedLayout,a=vC(o.useState(0),2),s=a[0],l=a[1],c=(0,cb.Z)(),u=c.ref,f=c.height;!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=(0,nO.ZP)(e);o.useEffect((function(){
t&&Te.default.track(R.rMx.HOME_EVENTS_LOADED,{guild_id:e,active_events_shown:n.some((function(e){return(0,tO.xt)(e)}))?1:0,upcoming_events_shown:n.some((function(e){return!(0,tO.xt)(e)}))?1:0,home_session_id:Jg.Z.getHomeSessionId(e)})}),[e,t])}(t.id);o.useEffect((function(){if(null!=f){l(f+128-n)}}),[n,f]);var d=(0,Zb.mF)(),p=$g.M.useExperiment({guildId:t.id}).hasNewHeader,h=p?-48:0;return(0,r.jsx)("aside",{className:pC().widgets,style:{top:Math.min(-s,h)},children:(0,r.jsx)(ob.tE,{children:(0,r.jsxs)("div",gC(bC({className:pC().widgetsContainer,ref:u,tabIndex:i?void 0:0,"aria-label":J.Z.Messages.GUILD_HOME_SIDEBAR_A11Y_LABEL},i?{}:d),{children:[p?(0,r.jsx)(fC,{guild:t}):(0,r.jsx)(sC,{guild:t}),(0,r.jsx)(Cv,{guildId:t.id,isUsingCollapsedLayout:i}),(0,r.jsx)(eC,{guild:t})]}))})})}));function SC(e){var t=e.pageWidth,n=e.onSidebarResize,o=(0,s.e7)([qd.ZP],(function(){return qd.ZP.getSidebarState(cO.oC.GUILD_HOME)}));if(null==o)return null;var i,a=t-R.PrS-552
;o.type===Hg.t.VIEW_THREAD?i=(0,r.jsx)(Vg.Z,{channelId:o.channelId,baseChannelId:cO.oC.GUILD_HOME,channelViewSource:"Home View"}):o.type===Hg.t.VIEW_CHANNEL&&(i=(0,r.jsx)(Mb,{channelId:o.channelId,baseChannelId:cO.oC.GUILD_HOME,channelViewSource:"Home View"}));return(0,r.jsx)(ab.Z,{sidebarType:ab.y.HomeSidebar,maxWidth:a,onWidthChange:n,children:i})}var TC=[{label:"Segment Reads",value:EO.EO.SEGMENTED_READ},{label:"Top",value:EO.EO.TOP},{label:"New",value:EO.EO.NEW}];function NC(e){var t=e.renderMode,n=e.setRenderMode;return Qg.Dx.useExperiment({}).showSelector?(0,r.jsx)(K.OC,{className:pC().selector,options:TC,select:n,isSelected:function(e){return e===t},serialize:function(e){return String(e)}}):null}var CC=(0,lb.Z)((function(e){var t=e.guild,n=e.width,i=e.height,a=t.id,l=(0,s.e7)([qd.ZP],(function(){return qd.ZP.getSection(cO.oC.GUILD_HOME)})),c=(0,s.e7)([Yg.Z],(function(){return Yg.Z.getCurrentSearchId()
})),u=vC(o.useState(!1),2),f=u[0],d=u[1],p=vC(o.useState(R.$Y6),2),h=p[0],E=p[1],y=l===R.ULH.SEARCH,m=l===R.ULH.SIDEBAR_CHAT,b=y||m,g=o.useRef(null),O=(0,fb.Z)("top-messages",g),v=(0,cb.Z)().ref,_=vC(o.useState(EO.EO.SEGMENTED_READ),2),I=_[0],S=_[1],T=(0,ub.Z)(EO.Gj),N=o.useRef(!1),C=$g.M.useExperiment({guildId:a}).hasNewHeader,A=jN(t).homeHeaderScroll;o.useEffect((function(){N.current=!1}),[a]);o.useEffect((function(){null==Db.ZP.getLoadId(a)&&$f.Z.closeChannelSidebar(cO.oC.GUILD_HOME)}),[a]);!function(e){o.useEffect((function(){var t=Jg.Z.getHomeSessionId(e);return function(){Te.default.track(R.rMx.HOME_EXITED,{guild_id:e,home_session_id:t})}}),[e])}(a);o.useLayoutEffect((function(){var e=Jg.Z.getSavedScrollPosition(a);if(!C||0!==e&&null!=e){if(null!=e){var t;null===(t=g.current)||void 0===t||t.scrollTo({to:e})}}else{var n;null===(n=g.current)||void 0===n||n.scrollTo({to:A})}return function(){var e,t=null===(e=g.current)||void 0===e?void 0:e.getScrollerState();null!=t&&(0,
Xg.lY)(a,t.scrollTop)}}),[a,C,A]);var P=n-R.PrS-h,j=!(b&&P<936)||T,x=o.useRef(null),M=o.useCallback((function(){if(!N.current){(0,eO.X)(a);N.current=!0;Te.default.track(R.rMx.HOME_FIRST_SCROLL_STARTED,{guild_id:a,home_session_id:Jg.Z.getHomeSessionId(a)})}}),[a]);(0,bm.Tt)({location:J.Z.Messages.GUILD_HOME_HTML_TITLE.format({guildName:t.name})});var w,Z=(0,Zb.mF)(),L=j?(0,r.jsx)(IC,{guild:t,containerHeight:i,isUsingCollapsedLayout:T},"widgets"):null;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:$p()(EC().chat,pC().background,(w={},mC(w,EC().threadSidebarOpen,b),mC(w,EC().threadSidebarFloating,b&&f),w)),children:[(0,r.jsx)(_C,{guild:t,seenManagerRef:x}),(0,r.jsxs)("div",{ref:v,className:EC().content,children:[(0,r.jsx)(ib.bG,{navigator:O,children:(0,r.jsx)(ib.SJ,{children:function(e){var n=e.ref,o=OC(e,["ref"]);return(0,r.jsxs)(Kg.yW,gC(bC({onScroll:M,className:$p()(pC().homeContainer,mC({},pC().homeContainerCollapsed,T)),ref:function(e){g.current=e;var t
;n.current=null!==(t=null==e?void 0:e.getScrollerNode())&&void 0!==t?t:null}},o,Z),{children:[C&&(0,r.jsx)(MN,{guild:t}),T?L:null,(0,r.jsx)("div",{className:pC().homeContent,children:(0,r.jsx)(K.y5,{component:(0,r.jsxs)("div",{className:pC().topMessagesHeader,children:[(0,r.jsx)(K.X6,{variant:"heading-md/semibold",children:J.Z.Messages.GUILD_FEED_TITLE}),(0,r.jsx)(NC,{renderMode:I,setRenderMode:S})]}),children:(0,r.jsx)(YN,{guild:t,renderMode:I,scrollerRef:g,seenManagerRef:x})})}),T?null:L]}))}})}),y&&null!=c&&(0,r.jsx)(Bg.Z,{searchId:c})]})]}),m?(0,r.jsx)(SC,{pageWidth:n,onSidebarResize:function(e,t){d(t);E(e)}}):null]})}));const AC=function(e){var t=e.guildId,n=(0,s.e7)([Ut.Z],(function(){return Ut.Z.getGuild(t)}),[t]),i=rO(),a=(0,s.e7)([Fg.Z],(function(){return Fg.Z.hasLoadedExperiments}));o.useLayoutEffect((function(){(0,Xg.VW)(t)}),[t]);o.useEffect((function(){if(a){var e=Jg.Z.getHomeSessionSource(t),n=(0,Qg.YM)(t);if(null!=i){var r=i.channelId,o=i.messageId;if(!n){(0,Gg.jd)(r,o)
;return}e=EO.SB.HIGHLIGHTS}else if(!n){u.Z.escapeToDefaultChannel(t);return}(0,Xg.m2)(t,e)}}),[t,i,a]);return null==n?(0,r.jsx)(sb.Z,{channelId:void 0}):(0,r.jsx)(CC,{guild:n})};var PC=n(699685),jC=n(743221),xC=n(57859),RC=n(377305),MC=n(448536),wC=n(570239),ZC=n(748737),LC=n(185328),DC=n(133766),UC=n.n(DC),kC=n(692760),GC=n.n(kC);const BC=function(e){var t=e.onCancel,n=e.onLeave,o=e.guild,i=void 0===o?null:o;return(0,r.jsxs)("div",{className:UC().confirmation,children:[(0,r.jsxs)("div",{className:UC().confirmationContent,children:[null!==i?(0,r.jsx)(EN.Z,{size:EN.Z.Sizes.LARGER,guild:i,className:UC().guildIcon}):(0,r.jsx)("img",{alt:J.Z.Messages.MEMBER_VERIFICATION_PENDING_APPLICATION_ICON,src:GC(),className:UC().verificationStateIcon}),(0,r.jsx)(K.X6,{variant:"heading-xl/semibold",className:UC().header,children:null!=(null==i?void 0:i.name)?J.Z.Messages.MEMBER_VERIFICATION_APPLICATION_CONFIRMATION_TITLE_WITH_GUILD_NAME.format({guildName:i.name
}):J.Z.Messages.MEMBER_VERIFICATION_APPLICATION_CONFIRMATION_TITLE}),(0,r.jsx)(K.xv,{variant:"text-sm/normal",color:"header-secondary",children:J.Z.Messages.MEMBER_VERIFICATION_APPLICATION_CONFIRMATION_SUBTITLE})]}),(0,r.jsxs)("div",{className:UC().confirmationButtonColumn,children:[(0,r.jsx)(K.zx,{onClick:t,look:K.zx.Looks.LINK,color:K.zx.Colors.LINK,size:K.zx.Sizes.SMALL,children:J.Z.Messages.MEMBER_VERIFICATION_CANCEL_APPLICATION}),(0,r.jsx)(K.zx,{onClick:n,look:K.zx.Looks.LINK,color:K.zx.Colors.LINK,size:K.zx.Sizes.SMALL,children:J.Z.Messages.MEMBER_VERIFICATION_PENDING_APPLICATION_MODAL_WITHDRAW_AND_LEAVE})]})]})};var HC=n(291352),VC=n(554031),FC=n(613599),YC=n.n(FC);function zC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function WC(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function KC(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,
writable:!0}):e[t]=n;return e}function qC(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function XC(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return zC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zC(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var QC=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:
i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};const $C=function(e){var t,n=e.guildId,i=e.inviteCode,a=XC(o.useState(VC.hO.INITIAL),2),l=a[0],c=a[1],u=(0,s.e7)([MC.Z],(function(){return MC.Z.get(n)})),f=(0,s.e7)([ZC.Z],(function(){return ZC.Z.getRequest(n)})),d=(0,s.e7)([Ut.Z],(function(){return Ut.Z.getGuild(n)})),p=(0,s.cj)([ZC.Z],(function(){return{hasFetchedRequestToJoinGuilds:ZC.Z.hasFetchedRequestToJoinGuilds,guildPreviewDisabled:ZC.Z.getJoinRequestGuild(n)}})),h=p.hasFetchedRequestToJoinGuilds,E=p.guildPreviewDisabled;o.useEffect((function(){null!=d&&(0,q.uL)(R.Z5c.CHANNEL(n))}),[d,n])
;o.useEffect((function(){h||xC.Z.fetchRequestToJoinGuilds()}),[h]);var y=o.useCallback((function(e){c((function(t){return Math.max(t,e)}))}),[]),m=function(e,t){return function(){(0,Y.h7)((function(n){return(0,r.jsx)(Oh.default,qC(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){KC(e,t,n[t])}))}return e}({header:J.Z.Messages.MEMBER_VERIFICATION_CONFIRM_LEAVE_TITLE,cancelText:J.Z.Messages.NEVERMIND,onConfirm:t,confirmText:J.Z.Messages.YES_TEXT,confirmButtonColor:K.zx.Colors.RED},n),{children:(0,r.jsx)(K.xv,{variant:"text-sm/normal",color:"header-secondary",children:e})}))}))}},b=function(){var e,t=(e=function(e){return QC(this,(function(t){switch(t.label){case 0:return[4,RC.Z.submitVerificationForm(n,e)];case 1:t.sent();return[2]}}))},
function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){WC(i,r,o,a,s,"next",e)}function s(e){WC(i,r,o,a,s,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}(),g=function(){xC.Z.resetGuildJoinRequest(n)},O=m(J.Z.Messages.LEAVE_SERVER_BODY.format({name:null==d?void 0:d.toString()}),(function(){c(Math.max(l,VC.hO.FILLING));xC.Z.removeGuildJoinRequest(n);(0,q.uL)(R.Z5c.ME)})),v=null!=(null==u||null===(t=u.guild)||void 0===t?void 0:t.splash)?zs.ZP.getGuildSplashURL({id:u.guild.id,splash:u.guild.splash}):(0,jC.gK)();return(0,r.jsx)("div",{className:YC().page,children:(0,r.jsxs)(PC.Z,{embedded:!0,splash:v,waveState:l,showLogo:!1,updateWaveState:y,children:[(0,r.jsx)("div",{className:YC().dragRegion}),(0,r.jsx)("div",{className:YC().contentWrapper,children:function(){switch(null==f?void 0:f.applicationStatus){case wC.wB.SUBMITTED:return(0,r.jsx)(BC,{
onCancel:m(J.Z.Messages.MEMBER_VERIFICATION_CANCEL_PENDING_APPLICATION_MODAL_TITLE,g),onLeave:O,guild:E});case wC.wB.REJECTED:return(0,r.jsx)(LC.Z,{reapplyText:J.Z.Messages.MEMBER_VERIFICATION_APPLICATION_REAPPLY,onReapply:g,confirmText:J.Z.Messages.LEAVE_SERVER,onConfirm:O,rejectionReason:null==f?void 0:f.rejectionReason,guild:E});default:return(0,r.jsx)(HC.Z,{guildId:n,inviteCode:i,onComplete:b})}}()})]})})};var JC=n(775041),eA=n(922780);function tA(e){var t=e.guildId;return(0,s.e7)([eA.Z],(function(){return eA.Z.getSelectedGuildJoinRequest(t)}),[t])}var nA=n(277563),rA=n(323657);function oA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function iA(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function aA(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function sA(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){aA(e,t,n[t])}))}return e}function lA(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return oA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oA(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var cA=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){
a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},uA=wC.tB*wC.hW;function fA(e){var t=e.guildId,n=e.guildJoinRequests,r=o.useRef(!1),i=lA(o.useState(null),2),a=i[0],s=i[1],l=o.useRef(null),c=o.useRef(!1),u=o.useCallback(function(){var e,o=(e=function(e,o){var i,u,f,d,p,h;return cA(this,(function(E){switch(E.label){case 0:if(r.current)return[2];i="".concat(e,"-").concat(o);u=!1;if(i!==l.current){l.current=i;c.current=!1;u=!0}if(c.current)return[2];null!=a&&s(null);f=function(e,t,n,r){var o=n===wC.wB.SUBMITTED;if(t===wC.Nw.TIMESTAMP_DESC){if(r)return{before:nA.default.fromTimestamp((new Date).getTime())};var i=e[e.length-1];return{before:o?i.id:i.actionedAt}}if(r)return{after:nA.default.fromTimestamp(kb()().subtract(180,"days").valueOf())};var a=e[e.length-1];return{after:o?a.id:a.actionedAt}}(n,e,o,u)
;E.label=1;case 1:E.trys.push([1,3,4,5]);r.current=!0;return[4,xC.Z.fetchGuildJoinRequests(sA({guildId:t,status:o,limit:uA},f))];case 2:null!=(d=E.sent())&&d.body.guild_join_requests.length<uA&&(c.current=!0);return[3,5];case 3:p=E.sent();h=new rA.Hx(p);s(h.getAnyErrorMessage());return[3,5];case 4:r.current=!1;return[7];case 5:return[2]}}))},function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){iA(i,r,o,a,s,"next",e)}function s(e){iA(i,r,o,a,s,"throw",e)}a(void 0)}))});return function(e,t){return o.apply(this,arguments)}}(),[a,t,n]);return{fetchNextPage:u,error:a}}function dA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pA(e){return function(e){if(Array.isArray(e))return dA(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return dA(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dA(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var hA=n(398705);const EA=function(e){var t=e.className,n=e.sortOrder,i=e.onSortChange,a=o.useMemo((function(){return[{value:wC.Nw.TIMESTAMP_DESC,label:J.Z.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_SORT_NEWEST},{value:wC.Nw.TIMESTAMP_ASC,label:J.Z.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_SORT_OLDEST}]}),[]);return(0,r.jsx)(K.q4,{className:t,onChange:i,value:n,options:a})};var yA=n(497762),mA=n(146458),bA=n(624774),gA=n.n(bA);const OA=function(e){var t=e.pendingGuildJoinRequestsTotal,n=e.applicationStatus,o=e.onTabItemSelect;return(0,r.jsxs)(kg.Z,{className:gA().container,
hideSearch:!0,toolbar:(0,r.jsx)("div",{}),children:[(0,r.jsx)(kg.Z.Icon,{icon:mA.Z,disabled:!0,"aria-label":J.Z.Messages.MEMBER_VERIFICATION_MEMBER_APPLICATIONS}),(0,r.jsx)(kg.Z.Title,{className:gA().title,children:J.Z.Messages.MEMBER_VERIFICATION_MEMBER_APPLICATIONS}),(0,r.jsx)(kg.Z.Divider,{className:gA().divider}),(0,r.jsxs)(yA.ZP,{"aria-label":J.Z.Messages.FRIENDS,selectedItem:n,type:yA.Yk.TOP_PILL,onItemSelect:o,className:gA().tabBar,children:[(0,r.jsx)(yA.ck,{id:wC.wB.SUBMITTED,children:0===t?J.Z.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_PENDING:J.Z.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_PENDING_COUNT.format({count:t})}),(0,r.jsx)(yA.ck,{id:wC.wB.APPROVED,children:J.Z.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_APPROVED}),(0,r.jsx)(yA.ck,{id:wC.wB.REJECTED,children:J.Z.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_REJECTED})]})]})};var vA=n(922932),_A=n(981201),IA=n(991338),SA=n(880068),TA=n(409830),NA=n(112712),CA=n(911324),AA=n(631447),PA=n.n(AA);function jA(e,t){
(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xA(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function RA(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){xA(i,r,o,a,s,"next",e)}function s(e){xA(i,r,o,a,s,"throw",e)}a(void 0)}))}}function MA(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function wA(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function ZA(e,t){
return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return jA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jA(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var LA=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),
return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function DA(e){var t=e.icon,n=e.onClick,o=e.submitting,i=e.disabled
;return(0,r.jsx)(K.P3,{className:$p()(PA().actionIconContainer,MA({},PA().disabled,i||o)),onClick:n,children:o?(0,r.jsx)(xO.Z,{className:PA().icon,dotRadius:2,themed:!0}):(0,r.jsx)(t,{className:PA().icon,height:12,width:12})})}function UA(e){var t=e.applicationStatus,i=e.guild,a=e.guildJoinRequest,s=e.className,l=e.onClick,c=ZA(o.useState(null),2),u=c[0],f=c[1],d=a.user,p=a.createdAt;if(null==d)throw new Error("Missing user on this guild join request!");var h=o.useMemo((function(){return new JC.Z(d)}),[d]),E=zs.ZP.getUserAvatarURL(h),y=t===wC.wB.SUBMITTED,m=o.useCallback(function(){var e=RA((function(e,t){var n,r;return LA(this,(function(o){switch(o.label){case 0:n=e.guildId,r=e.userId;if(null!=u)return[2];f(t);o.label=1;case 1:o.trys.push([1,3,,4]);return[4,xC.Z.updateGuildJoinRequest(n,r,t)];case 2:o.sent();return[3,4];case 3:o.sent();(0,CA.CF)((0,NA.Yz)(J.Z.Messages.ERROR_GENERIC_TITLE,NA.pC.FAILURE));f(null);return[3,4];case 4:return[2]}}))}));return function(t,n){
return e.apply(this,arguments)}}(),[u]),b=function(){var e=RA((function(){return LA(this,(function(e){switch(e.label){case 0:return[4,m(a,wC.wB.APPROVED)];case 1:e.sent();return[2]}}))}));return function(){return e.apply(this,arguments)}}(),g=function(){var e=RA((function(){return LA(this,(function(e){switch(e.label){case 0:return[4,m(a,wC.wB.REJECTED)];case 1:e.sent();return[2]}}))}));return function(){return e.apply(this,arguments)}}();return(0,r.jsxs)(K.P3,{className:$p()(PA().container,s),onClick:l,children:[(0,r.jsx)(cg.ZP,{src:E,size:cg.ZP.Sizes.SIZE_40,"aria-label":d.username,className:PA().spacer}),(0,r.jsxs)("div",{className:PA().userDetails,children:[(0,r.jsx)(K.xv,{variant:"text-md/semibold",color:"header-primary",children:d.username}),(0,r.jsx)(K.xv,{className:PA().createdAt,variant:"text-sm/normal",color:"header-secondary",children:kb()(p).format("lll")})]}),y&&(0,r.jsx)(DA,{icon:cN.Z,onClick:b,submitting:u===wC.wB.APPROVED,disabled:null!=u&&u!==wC.wB.APPROVED}),y&&(0,
r.jsx)(DA,{icon:Sb.Z,onClick:g,submitting:u===wC.wB.REJECTED,disabled:null!=u&&u!==wC.wB.REJECTED}),(0,r.jsx)(K.P3,{className:$p()(PA().overflowMenuContainer,MA({},PA().disabled,null!=u)),onClick:function(e){(0,db.jW)(e,RA((function(){var e,t;return LA(this,(function(o){switch(o.label){case 0:return[4,n.e(1752).then(n.bind(n,701752))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,wA(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){MA(e,t,n[t])}))}return e}({},e),{guild:i,user:h}))}]}}))})),{position:TA.vK.BOTTOM,align:TA.xM.RIGHT})},children:(0,r.jsx)(uI.Z,{className:PA().icon,width:18})})]})}function kA(){var e="".concat(Math.floor(50*Math.random())+100,"px"),t="".concat(Math.floor(25*Math.random())+50,"px")
;return(0,r.jsxs)("div",{className:PA().placeholder,children:[(0,r.jsx)("div",{className:$p()(PA().placeholderAvatar)}),(0,r.jsxs)("div",{className:PA().userDetails,children:[(0,r.jsx)("div",{className:PA().placeholderUsername,style:{maxWidth:e}}),(0,r.jsx)("div",{className:PA().placeholderCreatedAt,style:{maxWidth:t}})]})]})}function GA(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function BA(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}var HA=function(){return null};function VA(e,t){var n=t.toLocaleString();switch(e){case wC.wB.SUBMITTED:
return J.Z.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_PENDING_COUNT_HYPEN.format({count:n});case wC.wB.REJECTED:return J.Z.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_REJECTED_COUNT_HYPEN.format({count:n});case wC.wB.APPROVED:return J.Z.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_APPROVED_COUNT_HYPEN.format({count:n});default:return""}}function FA(e){var t=e.status,n=J.Z.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_EMPTY_PENDING_APPLICATIONS_TITLE,o=J.Z.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_EMPTY_PENDING_APPLICATIONS_BODY;switch(t){case wC.wB.REJECTED:n=J.Z.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_EMPTY_REJECTED_APPLICATIONS_TITLE;o=J.Z.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_EMPTY_REJECTED_APPLICATIONS_BODY;break;case wC.wB.APPROVED:n=J.Z.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_EMPTY_APPROVED_APPLICATIONS_TITLE;o=J.Z.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_EMPTY_APPROVED_APPLICATIONS_BODY;break;default:
n=J.Z.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_EMPTY_PENDING_APPLICATIONS_TITLE;o=J.Z.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_EMPTY_PENDING_APPLICATIONS_BODY}return(0,r.jsxs)("div",{className:PA().emptyContainer,children:[(0,r.jsxs)("div",{className:PA().emptyIcon,children:[(0,r.jsx)(IA.Z,{className:PA().star}),(0,r.jsx)(cN.Z,{className:PA().checkmark}),(0,r.jsx)(_A.Z,{className:PA().plus})]}),(0,r.jsx)(K.X6,{variant:"heading-xl/semibold",children:n}),(0,r.jsx)(K.xv,{color:"header-secondary",className:PA().emptyBody,variant:"text-sm/normal",children:o})]})}const YA=function(e){var t=e.applicationStatus,n=e.guildJoinRequests,o=e.guildId,i=e.onScroll,a=e.listRef,l=(0,s.e7)([Ut.Z],(function(){return Ut.Z.getGuild(o)}),[o]),c=(0,s.e7)([eA.Z],(function(){return eA.Z.isFetching()})),u=c?[n.length+25]:[n.length],f=tA({guildId:o}),d=(0,hA.A)({guildId:o}),p=(0,vA.Z)("guild-join-requests"),h=function(e){var i,a=e.row,s=n[a];return null==s?(0,r.jsx)(kA,{},a):(0,r.jsx)(UA,{
className:$p()((i={},GA(i,PA().selected,f===s),GA(i,PA().siblingSelected,f===n[a-1]),i)),guild:l,guildJoinRequest:s,onClick:function(){return xC.Z.setSelectedGuildJoinRequest(o,s)},applicationStatus:t},"".concat(s.userId,"-").concat(s.applicationStatus,"-").concat(a))};return c||0!==n.length?(0,r.jsxs)(r.Fragment,{children:[0!==d&&t===wC.wB.SUBMITTED&&(0,r.jsx)(K.xv,{className:PA().title,variant:"text-xs/semibold",color:"header-secondary",children:VA(t,d).toUpperCase()}),(0,r.jsx)(ib.bG,{navigator:p,children:(0,r.jsx)(ib.SJ,{children:function(e){var t=e.ref,n=e.role,o=BA(e,["ref","role"]);return(0,r.jsx)(SA.ZP,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){GA(e,t,n[t])}))}return e}({innerRole:n,innerAriaLabel:J.Z.Messages.MEMBERS,
ref:function(e){a.current=e;var n;t.current=null!==(n=null==e?void 0:e.getScrollerNode())&&void 0!==n?n:null},paddingTop:0,paddingBottom:16,sectionHeight:0,rowHeight:64,renderSection:HA,renderRow:h,sections:u,onScroll:i,fade:!0},o),"guild-application-review")}})})]}):(0,r.jsx)(FA,{status:t})};var zA=n(690919),WA=n.n(zA);function KA(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function qA(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){KA(i,r,o,a,s,"next",e)}function s(e){KA(i,r,o,a,s,"throw",e)}a(void 0)}))}}var XA=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,
r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function QA(e){var t=e.guildId,n=o.useRef(null),i=function(e){var t=e.guildId;return(0,s.e7)([eA.Z],(function(){return eA.Z.getSelectedApplicationStatus(t)}),[t])}({guildId:t}),a=function(e){var t=e.guildId;return(0,s.e7)([eA.Z],(function(){return eA.Z.getSelectedSortOrder(t)}),[t])}({
guildId:t}),l=tA({guildId:t}),c=(0,hA.A)({guildId:t}),u=function(e){var t=e.guildId,n=e.applicationStatus,r=e.sortOrder,i=(0,s.e7)([eA.Z],(function(){return eA.Z.getRequests(t,n)}),[n,t]);return{guildJoinRequests:o.useMemo((function(){return r===wC.Nw.TIMESTAMP_DESC?pA(i).reverse():i}),[r,i])}}({guildId:t,applicationStatus:i,sortOrder:a}).guildJoinRequests,f=fA({guildId:t,guildJoinRequests:u}).fetchNextPage,d=o.useRef(!1);if(!d.current){d.current=!0;f(a,i)}var p=o.useRef(!1);o.useEffect((function(){p.current=!0}),[a,i]);o.useEffect((function(){if(p.current&&0!==u.length){var e;p.current=!1;xC.Z.setSelectedGuildJoinRequest(t,u[0]);null===(e=n.current)||void 0===e||e.scrollToTop()}}),[t,u,l]);var h=o.useCallback(function(){var e=qA((function(e){return XA(this,(function(n){switch(n.label){case 0:if(a===e)return[2];xC.Z.setSelectedSortOrder(t,e);return[4,f(e,i)];case 1:n.sent();return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),[i,a,t,f]),E=o.useCallback(function(){
var e=qA((function(e){return XA(this,(function(n){switch(n.label){case 0:if(i===e)return[2];xC.Z.setSelectedApplicationStatus(t,e);xC.Z.setSelectedGuildJoinRequest(t,null);return[4,f(a,e)];case 1:n.sent();return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),[i,a,t,f]),y=o.useCallback(qA((function(){var e,t;return XA(this,(function(r){switch(r.label){case 0:return null==(t=null===(e=n.current)||void 0===e?void 0:e.getScrollerState())?[2]:t.scrollHeight-t.scrollTop-t.offsetHeight<200?[4,f(a,i)]:[3,2];case 1:r.sent();r.label=2;case 2:return[2]}}))})),[i,a,f]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(OA,{applicationStatus:i,onTabItemSelect:E,pendingGuildJoinRequestsTotal:c}),(0,r.jsxs)("div",{className:WA().content,children:[(0,r.jsx)("div",{className:WA().listControls,children:(0,r.jsx)(EA,{className:WA().sortSelect,sortOrder:a,onSortChange:h})}),(0,r.jsx)(K.xv,{className:WA().description,variant:"text-xs/normal",color:"header-secondary",
children:J.Z.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_LIST_DESCRIPTION}),(0,r.jsx)(YA,{applicationStatus:i,guildJoinRequests:u,guildId:t,onScroll:y,listRef:n})]})]})}const $A=o.memo(QA);var JA=n(191368);function eP(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function tP(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function nP(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t)
;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function rP(e){var t=e.width,n=void 0===t?24:t,o=e.height,i=void 0===o?24:o,a=e.color,s=void 0===a?"currentColor":a,l=e.foreground,c=nP(e,["width","height","color","foreground"]);return(0,r.jsx)("svg",tP(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){eP(e,t,n[t])}))}return e}({},(0,Xb.Z)(c)),{width:n,height:i,viewBox:"0 0 24 24",children:(0,r.jsx)("path",{className:l,fill:s,d:"M12 1L3 5V11C3 16.55 6.84 21.74 12 23C17.16 21.74 21 16.55 21 11V5L12 1ZM12 11.99H19C18.47 16.11 15.72 19.78 12 20.93V12H5V6.3L12 3.19V11.99Z"})}))}
var oP=n(847072),iP=n(464497),aP=n(928575),sP=n(678050),lP=n(404102);const cP=function(e){var t=e.formFields,n=e.user;return null==(0,s.e7)([F.default],(function(){return null!=n?n:F.default.getCurrentUser()}))?null:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(oP.Ih,{icon:rP,text:J.Z.Messages.MEMBER_VERIFICATION_FORM_PASSED_REQUIREMENTS,meetsRequirement:!0}),t.map((function(e,t){return function(e,t){switch(e.field_type){case wC.QJ.TERMS:return(0,r.jsx)(sP.QC,{formField:e},t);case wC.QJ.TEXT_INPUT:return(0,r.jsx)(lP.YJ,{formField:e},t);case wC.QJ.PARAGRAPH:return(0,r.jsx)(aP.jn,{formField:e},t);case wC.QJ.MULTIPLE_CHOICE:return(0,r.jsx)(iP.QH,{formField:e},t)}}(e,t)}))]})};var uP=n(449953),fP=n(523283),dP=n(559675),pP=n(328690),hP=n.n(pP);function EP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yP(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function mP(e){
return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){yP(i,r,o,a,s,"next",e)}function s(e){yP(i,r,o,a,s,"throw",e)}a(void 0)}))}}function bP(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function gP(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function OP(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{
for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return EP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EP(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var vP=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){
if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},_P=24;function IP(e){
var t,i=e.guildJoinRequest,a=e.guild,l=e.guildJoinRequestUser,c=OP(o.useState(!1),2),u=c[0],f=c[1],d=i.createdAt,p=i.actionedAt,h=i.guildId,E=i.userId,y=null===(t=i.actionedByUser)||void 0===t?void 0:t.id,m=(0,s.e7)([F.default],(function(){return F.default.getUser(y)})),b=(0,s.e7)([as.ZP],(function(){return null!=y?as.ZP.getMember(h,y):null}),[y,h]),g=o.useCallback((function(){(0,CA.CF)((0,NA.Yz)(J.Z.Messages.ERROR_GENERIC_TITLE,NA.pC.FAILURE))}),[]),O=function(){var e=mP((function(){return vP(this,(function(e){switch(e.label){case 0:if(u)return[2];f(!0);e.label=1;case 1:e.trys.push([1,3,4,5]);return[4,xC.Z.updateGuildJoinRequest(h,E,wC.wB.APPROVED)];case 2:e.sent();return[3,5];case 3:e.sent();g();return[3,5];case 4:f(!1);return[7];case 5:return[2]}}))}));return function(){return e.apply(this,arguments)}}(),v=J.Z.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_PENDING,_=(0,r.jsx)(dP.Z,{width:_P,height:_P,className:hP().icon});if(i.applicationStatus===wC.wB.APPROVED){
v=J.Z.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_APPROVED;_=(0,r.jsx)(uP.Z,{width:_P,height:_P,className:hP().iconApproved,backgroundColor:(0,pN.Lq)(R.Ilk.WHITE_500)})}else if(i.applicationStatus===wC.wB.REJECTED){v=J.Z.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_REJECTED;_=(0,r.jsx)(fP.Z,{width:_P,height:_P,className:hP().iconRejected,backgroundColor:(0,pN.Lq)(R.Ilk.WHITE_500)})}var I=null!=m&&null!=p?J.Z.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_ACTIONED_BY_HOOK.format({date:kb()(nA.default.extractTimestamp(p)).format("ll"),usernameHook:function(){var e;return(0,r.jsx)(K.P3,{className:hP().actionedByUser,onClick:function(){return(0,vp.m)({userId:m.id,guildId:h,analyticsLocation:{section:R.jXE.GUILD_MEMBER_VERIFICATION_APPLICATION_REVIEW,object:R.qAy.ACTIONED_BY_USER}})},tag:"div",role:"link",children:(0,r.jsx)(K.xv,{variant:"text-xs/normal",color:"header-primary",children:null!==(e=null==b?void 0:b.nick)&&void 0!==e?e:m.username})},"username-hook")}}):kb()(d).format("lll")
;return(0,r.jsxs)("div",{className:hP().container,children:[(0,r.jsxs)("div",{className:hP().wrapper,children:[(0,r.jsxs)("div",{className:hP().inline,children:[_,(0,r.jsxs)("div",{children:[(0,r.jsx)(K.X6,{variant:"heading-sm/semibold",children:v}),(0,r.jsx)(K.xv,{className:hP().headerSubtext,variant:"text-xs/normal",color:"header-secondary",children:I})]})]}),(0,r.jsxs)("div",{className:hP().inline,children:[i.applicationStatus===wC.wB.SUBMITTED&&(0,r.jsxs)("div",{className:hP().buttons,children:[(0,r.jsx)(K.zx,{color:K.zx.Colors.GREEN,submitting:u,onClick:function(){return O()},children:J.Z.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_APPROVE_APPLICATION}),(0,r.jsx)(K.zx,{color:K.zx.Colors.RED,onClick:function(){(0,Y.ZD)(mP((function(){var e,t;return vP(this,(function(o){switch(o.label){case 0:return[4,n.e(40035).then(n.bind(n,540035))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,{modalProps:e,guildId:h,userId:E,onError:g})}]}}))})))},disabled:u,
children:J.Z.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_DENY_APPLICATION})]}),(0,r.jsx)(K.P3,{onClick:function(e){(0,db.jW)(e,mP((function(){var e,t;return vP(this,(function(o){switch(o.label){case 0:return[4,n.e(1752).then(n.bind(n,701752))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,gP(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){bP(e,t,n[t])}))}return e}({},e),{guild:a,user:l}))}]}}))})))},className:hP().overflow,children:(0,r.jsx)(uI.Z,{width:20,height:20,className:hP().iconInteractive})})]})]}),i.applicationStatus===wC.wB.REJECTED&&null!=i.rejectionReason&&(0,r.jsx)("div",{className:hP().rejectionReason,children:(0,r.jsx)(K.xv,{variant:"text-sm/normal",children:i.rejectionReason})})]})}
var SP=n(734787),TP=n.n(SP);function NP(e){var t=e.user,n=e.className,o=t.discriminator,i=t.username,a=zs.ZP.getUserAvatarURL(t);return(0,r.jsxs)("div",{className:$p()(TP().container,n),children:[(0,r.jsx)(cg.ZP,{src:a,size:cg.ZP.Sizes.SIZE_80,"aria-label":i,className:TP().avatar}),(0,r.jsxs)("div",{className:TP().username,children:[(0,r.jsx)(K.X6,{variant:"heading-xl/semibold",children:i}),(0,r.jsxs)(K.xv,{variant:"text-md/normal",color:"header-secondary",children:["#",o]})]}),(0,r.jsx)(K.ee,{onClick:function(){(0,vp.m)({userId:t.id,analyticsLocation:{section:R.jXE.GUILD_MEMBER_VERIFICATION_APPLICATION_REVIEW,object:R.qAy.JOIN_REQUEST}})},children:J.Z.Messages.VIEW_PROFILE})]})}var CP=n(800660),AP=n.n(CP);const PP=function(e){var t,n=e.guild,i=e.guildJoinRequest,a=e.guildJoinRequestUser,s=e.onClose,l=o.useMemo((function(){return null!==(t=i.formResponses)&&void 0!==t?t:[]}),[i.formResponses]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(Tb.ZP,{toolbar:(0,r.jsx)(Tb.ZP.Icon,{
icon:Sb.Z,onClick:s,tooltip:J.Z.Messages.CLOSE}),children:[(0,r.jsx)(Tb.ZP.Icon,{icon:JA.Z,disabled:!0,"aria-label":J.Z.Messages.MEMBER_VERIFICATION_MEMBER_APPLICATION}),(0,r.jsx)(K.X6,{variant:"heading-md/semibold",children:$d.ZP.getName(a)})]}),(0,r.jsx)(IP,{guildJoinRequest:i,guildJoinRequestUser:a,guild:n}),(0,r.jsxs)(nE.ZP,{children:[(0,r.jsx)(NP,{user:a,className:AP().container}),(0,r.jsx)("div",{className:AP().disabledFormRenderer,children:(0,r.jsx)(cP,{guildId:n.id,formFields:l,user:a})})]})]})};var jP=n(851007),xP=n.n(jP);const RP=function(e){var t=e.guildId,n=tA({guildId:t}),i=(null!=n?n:{}).user,a=o.useMemo((function(){return null!=i?new JC.Z(i):null}),[i]),l=(0,s.e7)([Ut.Z],(function(){return Ut.Z.getGuild(t)}),[t]);(0,bm.Tt)({subsection:J.Z.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_REQUIREMENTS,location:null==l?void 0:l.name});o.useEffect((function(){RC.Z.fetchVerificationForm(t)}),[t]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:xP().content,
children:(0,r.jsx)($A,{guildId:t})}),null!=n&&null!=l&&null!=a&&(0,r.jsx)("section",{className:xP().sidebar,children:(0,r.jsx)(PP,{guild:l,guildJoinRequest:n,guildJoinRequestUser:a,onClose:function(){return xC.Z.setSelectedGuildJoinRequest(t,null)}})})]})};var MP=n(298586),wP=n(772041),ZP=n(384995),LP=n(31165),DP=n(54168),UP=n(495798),kP=n(26271),GP=n(577028),BP=n(810873),HP=n(226300),VP=n(354445),FP=n(710348),YP=n(290495),zP=n(218892);function WP(e){g.Z.dispatch({type:"CLEAR_PENDING_CHANNEL_AND_ROLE_UPDATES",guildId:e})}function KP(e,t,n){return(0,s.e7)([Qd.Z],(function(){return t===n?Qd.Z.isChannelOptedIn(e,t,!0):function(e,t,n){return!!(0,zP.hi)(e)||n.isChannelOptedIn(e,t,!0)}(e,t,Qd.Z)||null!=n&&Qd.Z.isChannelOptedIn(e,n,!0)}))}function qP(e,t,n){return(0,s.e7)([Qd.Z],(function(){return t!==n&&null!=n&&Qd.Z.isChannelOptedIn(e,n,!0)}))}var XP=n(682130),QP=n(513073),$P=n(997226),JP=n.n($P),ej=n(522627),tj=n.n(ej);function nj(e,t,n){t in e?Object.defineProperty(e,t,{value:n,
enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function rj(e){var t=e.guild,n=(0,QP.te)(t.id),o=(0,dn.wE)(fn.z$.GUILD_HEADER_COMMUNITY_ONBOARDING_ADMIN_UPSELL),i=n&&!o?fn.z$.GUILD_HEADER_COMMUNITY_ONBOARDING_ADMIN_UPSELL:fn.z$.CHANNEL_BROWSER_NUX;(0,dn.kk)(i);var a=n?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(K.X6,{className:JP().heading,color:"always-white",variant:"heading-lg/semibold",children:J.Z.Messages.CHANNEL_BROWSER_ADMIN_NUX_TITLE}),(0,r.jsx)(K.xv,{variant:"text-md/normal",color:"always-white",children:J.Z.Messages.CHANNEL_BROWSER_ADMIN_NUX_DESCRIPTION}),(0,r.jsx)(K.zx,{className:JP().checkItOut,onClick:function(){Er.Z.open(t.id,R.pNK.ONBOARDING);(0,dn.EW)(i,{dismissAction:yn.L.PRIMARY})},look:K.zx.Looks.INVERTED,children:(0,r.jsx)(K.xv,{variant:"text-md/medium",color:"none",children:J.Z.Messages.CHANNEL_BROWSER_ADMIN_NUX_CTA})})]}),(0,r.jsx)(XP.j,{isTooltip:!0})]}):(0,r.jsxs)("div",{className:JP().nuxContent,children:[(0,
r.jsx)("img",{width:180,className:JP().image,src:tj(),alt:"","aria-hidden":!0}),(0,r.jsxs)("div",{children:[(0,r.jsx)(K.X6,{className:JP().heading,variant:"heading-lg/semibold",color:"header-primary",children:J.Z.Messages.CHANNEL_BROWSER_NUX_TITLE}),(0,r.jsx)(K.xv,{variant:"text-md/normal",color:"header-secondary",children:J.Z.Messages.CHANNEL_BROWSER_NUX_DESCRIPTION}),(0,r.jsx)(K.xv,{className:JP().tip,variant:"text-md/normal",color:"header-secondary",children:J.Z.Messages.CHANNEL_BROWSER_NUX_DESCRIPTION_2.format()})]})]});return(0,r.jsxs)("div",{className:$p()(JP().container,nj({},JP().adminUpsell,n)),children:[(0,r.jsx)(K.P3,{className:JP().closeButton,onClick:function(){(0,dn.EW)(i,{dismissAction:yn.L.DISMISS})},children:(0,r.jsx)(Sb.Z,{})}),a]})}var oj=n(961134),ij=n.n(oj);function aj(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function sj(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){
var i=e.apply(t,n);function a(e){aj(i,r,o,a,s,"next",e)}function s(e){aj(i,r,o,a,s,"throw",e)}a(void 0)}))}}function lj(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function cj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){lj(e,t,n[t])}))}return e}function uj(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){
Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var fj=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}
o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},dj=new Set([R.d4z.GUILD_FORUM]),pj=new Set([R.d4z.GUILD_VOICE,R.d4z.GUILD_STAGE_VOICE]);function hj(e){var t=e.guild,o=e.channel,i=e.onCategoryClick,a=KP(t.id,o.id,o.id),s=qP(t.id,o.id,o.id);return(0,r.jsxs)("div",{className:$p()(ij().categoryRow,lj({},ij().uncategorized,"null"===o.id)),onContextMenu:function(e){(0,db.jW)(e,sj((function(){var e,i;return fj(this,(function(a){switch(a.label){case 0:return[4,n.e(81664).then(n.bind(n,981664))];case 1:e=a.sent(),i=e.default;return[2,function(e){return(0,r.jsx)(i,uj(cj({},e),{channel:o,guild:t}))}]}}))})))},children:[(0,r.jsx)(K.xv,{className:ij().categoryText,color:"text-muted",variant:"text-xs/semibold",lineClamp:1,children:o.name}),"null"!==o.id&&!s&&(0,r.jsxs)(K.P3,{className:ij().selectAll,onClick:function(){s||i(t.id,o.id,o.id)},children:[(0,r.jsx)(K.XZ,{
className:ij().selectAllCheckbox,size:14,shape:K.XZ.Shapes.SMALL_BOX,value:a,type:K.XZ.Types.INVERTED,displayOnly:!0}),(0,r.jsx)(K.xv,{color:"text-muted",variant:"text-xs/medium",children:J.Z.Messages.CHANNEL_BROWSER_SELECT_ALL})]})]})}var Ej=o.memo((function(){return(0,r.jsx)("div",{className:ij().separator})})),yj=o.memo((function(e){var t=e.index;return(0,r.jsx)(K.xv,{variant:"text-xs/normal",className:ij().subtitleSeparator,children:"·"},"separator-".concat(t))}));var mj=o.memo((function(e){var t,o,i=e.channel,a=e.category,l=e.guild,c=e.isFirstChannel,u=e.isLastChannel,f=e.onChannelClick,d=e.tooltipDirection,p=void 0===d?qb.ZP.Positions.RIGHT:d,h=KP(l.id,i.id,a.id),E=qP(l.id,i.id,a.id),y=(t=l.id,o=a.id,(0,s.e7)([Qd.Z],(function(){if(null!=o&&Qd.Z.isChannelOptedIn(t,o,!0))return J.Z.Messages.CHANNEL_BROWSER_DISABLED_BY_CATEGORY}))),m=(0,s.e7)([GP.Z],(function(){return GP.Z.getActiveThreadCount(l.id,i.id)})),b=(0,s.e7)([UP.Z],(function(){return UP.Z.getHighlightedMessageIdCount(i.id)
})),g=(0,s.e7)([kP.Z],(function(){return kP.Z.shouldIndicateNewChannel(l.id,i.id)})),O=function(e){if(!E){e.stopPropagation();f(l.id,i.id,a.id);return!0}},v=function(e){i.isGuildVocal()?(0,db.jW)(e,sj((function(){var e,t;return fj(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(87996),n.e(57501),n.e(2464),n.e(13277)]).then(n.bind(n,213277))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,uj(cj({},e),{channel:i,guild:l}))}]}}))}))):(0,db.jW)(e,sj((function(){var e,t;return fj(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(87996),n.e(57501),n.e(2464),n.e(22619)]).then(n.bind(n,922619))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,uj(cj({},e),{channel:i,guild:l}))}]}}))})))},_=function(e,t,n){var o=[];n>0&&o.push((0,r.jsx)(K.xv,{variant:"text-xs/medium",className:ij().channelSubtitle,color:"text-brand",children:J.Z.Messages.CHANNEL_HIGHLIGHTS_COUNT.format({count:n})},"thread-count"))
;e.type===R.d4z.GUILD_FORUM&&t>=1&&o.push((0,r.jsx)(K.xv,{variant:"text-xs/normal",className:ij().channelSubtitle,children:J.Z.Messages.ACTIVE_FORUM_POST_COUNT.format({count:t})},"thread-count"));pj.has(e.type)||o.push((0,r.jsx)(K.xv,{variant:"text-xs/normal",className:ij().channelSubtitle,children:(0,wP.qw)(e.id)},"active"));null!=e.topic&&e.topic.length>0&&o.push((0,r.jsx)(BP.Z,{children:(0,r.jsx)(K.xv,{className:ij().topic,variant:"text-xs/normal",children:VO.Z.parseTopic(e.topic,!0,{channelId:e.id})})},"topic"));return[o.map((function(e,t){return[e,(0,r.jsx)(yj,{index:t},"subtitle-separator-".concat(t))]}))].flat(2).slice(0,-1)}(i,m,b),I=function(e){e.stopPropagation();if(dj.has(i.type)||e.shiftKey){(0,q.XU)(l.id,i.id);return!0}if(i.isGuildStageVoice()||i.isGuildVoice()){(0,KO.Cq)(i);return!0}$f.Z.openChannelAsSidebar({guildId:i.guild_id,channelId:i.id,baseChannelId:cO.oC.CHANNEL_BROWSER});return!0},S=J.Z.Messages.CHANNEL_BROWSER_VIEW
;i.isGuildStageVoice()||i.isGuildVoice()?S=J.Z.Messages.JOIN:i.isForumChannel()&&(S=J.Z.Messages.OPEN);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(qb.ZP,{text:y,delay:500,position:p,children:function(e){var t;return(0,r.jsxs)(K.P3,uj(cj({className:$p()(ij().channelRow,(t={},lj(t,ij().firstChannel,c),lj(t,ij().lastChannel,u),lj(t,ij().disabled,E),t))},e),{onClick:O,onContextMenu:v,children:[(0,r.jsxs)("div",{className:ij().channelInfo,children:[(0,r.jsxs)("div",{className:ij().channelName,children:[(0,r.jsx)(MP._,{channel:i,guild:l}),(0,r.jsx)(BP.Z,{className:ij().name,children:(0,r.jsx)(K.xv,{className:ij().channelText,variant:"text-md/medium",lineClamp:1,color:E?"text-muted":"text-normal",children:i.name})}),g?(0,r.jsx)(HP.IG,{text:J.Z.Messages.NEW,color:(0,pN.Lq)(R.Ilk.BRAND_260),className:ij().titleBadge}):null]}),(0,r.jsx)("div",{className:ij().channelSubtitles,children:_})]}),(0,r.jsxs)("div",{className:ij().channelActions,children:[(0,r.jsx)(K.zx,{look:K.iL.OUTLINED,
color:K.Tt.PRIMARY,size:K.Ph.SMALL,className:ij().viewChannelButton,onClick:I,children:S}),(0,r.jsx)(K.XZ,{"aria-checked":h,value:h,type:K.XZ.Types.INVERTED,disabled:E,innerClassName:ij().checkboxInner,displayOnly:!0})]})]}))}}),!u&&(0,r.jsx)(Ej,{})]})}));function bj(e){var t,n=e.categories,i=e.guild,a=e.className,l=e.innerClassName,c=e.hasSidebar,u=function(e){var t=(0,s.e7)([Qd.Z],(function(){return Qd.Z.getPendingChannelUpdates(e)}));o.useEffect((function(){WP(e);return function(){return WP(e)}}),[e]);o.useEffect((function(){null!=t&&(0,YP.C1)(e,t)}),[e,t]);var n=o.useCallback((function(e,t,n){var r=Qd.Z.isChannelOptedIn(e,t),o=t===n;!r&&FP.Z.isCollapsed(n)&&null!=n&&(0,VP.mJ)(n);(0,zP.hi)(e)?o?(0,zP.rz)(e,{include:new Set([t])}):(0,zP.rz)(e,{exclude:new Set([t])}):(0,YP.k$)(e,t,!r,{section:R.jXE.CHANNEL_BROWSER})}),[]);return{onChannelClick:n}}(i.id).onChannelClick,f=(0,dn.wE)(fn.z$.CHANNEL_BROWSER_NUX)?0:-1,d=o.useCallback((function(e){var t=e.section;if(0===t&&-1===f)return null
;var o=n._categories[t+f];return(0,r.jsx)(hj,{channel:o.channel,guild:i,onCategoryClick:u},o.channel.id)}),[n,i,f,u]),p=o.useCallback((function(e){var t=e.section,o=e.row;if(0===t&&-1===f)return(0,r.jsx)(rj,{guild:i});var a=n._categories[t+f],s=n[a.channel.id][o];return null==s?null:(0,r.jsx)(mj,{category:a.channel,channel:s.channel,guild:i,isFirstChannel:0===o,isLastChannel:n[a.channel.id].length-1===o,tooltipDirection:c?qb.ZP.Positions.RIGHT:qb.ZP.Positions.TOP,onChannelClick:u},s.channel.id)}),[n,i,f,c,u]),h=(t=i.id,(0,QP.te)(t)?250:152),E=(0,wP.tn)(i.id,n,64,h);return(0,r.jsx)(SA._2,{className:a,innerClassName:$p()(l,ij().scrollerInner),sectionHeight:48,rowHeight:function(e){return E[e].rowHeight},renderSection:d,renderRow:p,sections:E.map((function(e){return e.rowCount}))},"channel-browser-list")}var gj=n(193025),Oj=n.n(gj);function vj(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _j(e,t,n,r,o,i,a){try{
var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function Ij(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){_j(i,r,o,a,s,"next",e)}function s(e){_j(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Sj(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Tj(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Nj(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return vj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vj(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Cj=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},
"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function Aj(e){var t=e.channelId;return(0,r.jsx)(ab.Z,{
sidebarType:ab.y.ThreadSidebar,maxWidth:600,children:(0,r.jsx)(Mb,{channelId:t,baseChannelId:cO.oC.CHANNEL_BROWSER})})}function Pj(e){var t=e.guildId,i=Nj(o.useState(""),2),a=i[0],l=i[1],c=(0,s.e7)([Ut.Z],(function(){return Ut.Z.getGuild(t)})),u=(0,s.e7)([ET.ZP],(function(){return ET.ZP.getChannels(t)})),f=(0,s.e7)([ZP.Z],(function(){return ZP.Z.getCategories(t)})),d=(0,wP.Fo)(f,u,a),p=(0,s.e7)([hn.Z],(function(){return hn.Z.canWithPartialContext(R.Plq.MANAGE_CHANNELS,{guildId:t})})),h=(0,s.e7)([qd.ZP],(function(){return null!=qd.ZP.getCurrentSidebarChannelId(cO.oC.CHANNEL_BROWSER)})),E=o.useCallback((function(){return l("")}),[l]),y=o.useCallback((function(){(0,Y.ZD)(Ij((function(){var e,o;return Cj(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(17810)]).then(n.bind(n,217810))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,Tj(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Sj(e,t,n[t])}))}return e}({},e),{channelType:null,guildId:t}))}]}}))})))}),[t]);return null==c?null:(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:$p()(EC().chat,Oj().container),children:(0,r.jsxs)("div",{className:$p()(Oj().pageBody),children:[(0,r.jsxs)("div",{className:Oj().header,children:[(0,r.jsx)(LP.Z,{className:Oj().search,size:LP.Z.Sizes.MEDIUM,query:a,onChange:function(e){""===a&&""!==e&&Te.default.track(R.rMx.SEARCH_STARTED,{search_type:"channel browser"});l(e.toLowerCase())},onClear:E,placeholder:J.Z.Messages.CHANNEL_BROWSER_SEARCH_PLACEHOLDER}),p?(0,r.jsxs)(K.zx,{className:Oj().createButton,innerClassName:Oj().createButtonInner,onClick:y,children:[(0,r.jsx)(DP.Z,{className:Oj().createIcon}),J.Z.Messages.CREATE]}):null]}),(0,r.jsx)(bj,{className:Oj().browser,channels:u,
categories:d,guild:c,hasSidebar:h})]})})})}var jj=n(263154),xj=n(153445),Rj=n(316921),Mj=n(823569),wj=n(879022),Zj=n(373312),Lj=n(356002),Dj=n(185139),Uj=n(811778),kj=n(283369),Gj=n(153532),Bj=n(656284),Hj=n(182434),Vj=n(836670),Fj=n(17611);function Yj(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function zj(e){g.Z.dispatch({type:"CLEAR_PENDING_CHANNEL_AND_ROLE_UPDATES",guildId:e})}var Wj={};function Kj(e){var t,n=(0,s.e7)([Vj.Z],(function(){return null!==(t=Vj.Z.getPendingResponseOptions(e))&&void 0!==t?t:Wj}),[e]);o.useEffect((function(){zj(e);return function(){return zj(e)}}),[e]);o.useEffect((function(){null!=n&&0!==Object.keys(n).length&&Bj.Z.updateOnboardingResponses(e)}),[e,n]);var r=o.useCallback((function(t,n,r){var o=Vj.Z.getOnboardingResponses(e),i=function(e,t,n,r){var o=[],i=[];if(e.singleSelect&&n){var a,s,l,c,u=e.options.find((function(e){return r.includes(e.id)}))
;o=os().difference(null!==(a=t.roleIds)&&void 0!==a?a:[],null!==(s=null==u?void 0:u.roleIds)&&void 0!==s?s:[]);i=os().difference(null!==(l=null==u?void 0:u.roleIds)&&void 0!==l?l:[],null!==(c=t.roleIds)&&void 0!==c?c:[])}else if(n){var f;o=null!==(f=t.roleIds)&&void 0!==f?f:[];i=[]}else{var d=e.options.filter((function(e){return r.includes(e.id)})),p=d.filter((function(e){return t.id!==e.id})),h=d.map((function(e){return e.roleIds})).flat().filter(So.lm),E=p.map((function(e){return e.roleIds})).flat().filter(So.lm);o=[];i=os().difference(h,E)}return{addedRoleIds:o,removedRoleIds:i}}(t,n,r,o),a=i.addedRoleIds,s=i.removedRoleIds,l=function(e,t,n,r){var o=[],i=[];if(e.singleSelect&&n){var a,s,l,c,u=e.options.find((function(e){return r.includes(e.id)}));o=os().difference(null!==(a=t.channelIds)&&void 0!==a?a:[],null!==(s=null==u?void 0:u.channelIds)&&void 0!==s?s:[]);i=os().difference(null!==(l=null==u?void 0:u.channelIds)&&void 0!==l?l:[],null!==(c=t.channelIds)&&void 0!==c?c:[])
}else if(n){var f;o=null!==(f=t.channelIds)&&void 0!==f?f:[];i=[]}else{var d=e.options.filter((function(e){return r.includes(e.id)})),p=d.filter((function(e){return t.id!==e.id})),h=d.map((function(e){return e.channelIds})).flat().filter(So.lm),E=p.map((function(e){return e.channelIds})).flat().filter(So.lm);o=[];i=os().difference(h,E)}return{addedChannelIds:o,removedChannelIds:i}}(t,n,r,o),c=l.addedChannelIds,u=l.removedChannelIds,f=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Yj(e,t,n[t])}))}return e}({},c.reduce((function(t,n){var r=Qd.Z.getGuildChannelFlags(e,n);t[n]={flags:(0,As.mB)(r,bE.ic.OPT_IN_ENABLED,!0)};return t}),{}),u.reduce((function(t,n){var r=Qd.Z.getGuildChannelFlags(e,n);t[n]={flags:(0,
As.mB)(r,bE.ic.OPT_IN_ENABLED,!1)};return t}),{}));Bj.Z.selectOption(e,t.id,n.id,r);g.Z.dispatch({type:"USER_GUILD_SETTINGS_CHANNEL_UPDATE_BULK",guildId:e,overrides:f});Bj.Z.updateRolesLocal(e,a,s)}),[e]);return{handleSelectOption:r}}function qj(e,t,n){return 0===e.length?"":(n?J.Z.Messages.ONBOARDING_HELP_TEXT_ADD_ROLES_ALSO:J.Z.Messages.ONBOARDING_HELP_TEXT_ADD_ROLES).format({count:e.length,extraCount:Math.max(e.length-2,0),role1:e[0],role2:e[1],itemHook:t})}function Xj(e){var t,n=e.guild,r=e.prompt,o=e.selectedRoleIds,i=e.selectedChannelIds,a=e.itemHook,l=(0,s.Wu)([I.Z,F.default,us.Z],(function(){return Array.from(i).map((function(e){return I.Z.getChannel(e)})).filter(So.lm).map((function(e){return(0,Wd.F6)(e,F.default,us.Z,!0)}))})),c=Array.from(o).map((function(e){var r;return null===(r=(null!==(t=null==n?void 0:n.roles)&&void 0!==t?t:{})[e])||void 0===r?void 0:r.name})).filter(So.lm).map((function(e){return"@".concat(e)
})),u=(null==r?void 0:r.singleSelect)?"":J.Z.Messages.ONBOARDING_CHOOSE_ALL_OPTIONS,f="";if(0===l.length&&c.length>0)u=qj(c,a);else if(l.length>0){u=function(e,t){return 0===e.length?"":J.Z.Messages.ONBOARDING_HELP_TEXT_ADD_CHANNELS.format({count:e.length,extraCount:Math.max(e.length-2,0),channel1:e[0],channel2:e[1],itemHook:t})}(l,a);c.length>0&&(f=qj(c,a,!0))}return{helpText:u,helpTextAdditional:f}}function Qj(e){var t,n=e.guild,r=e.prompt,o=e.selectedRoleIds,i=e.selectedChannelIds,a=e.itemHook,l=(0,s.Wu)([I.Z,F.default,us.Z],(function(){return Array.from(i).map((function(e){return I.Z.getChannel(e)})).filter(So.lm).map((function(e){return(0,Wd.F6)(e,F.default,us.Z,!0)}))})),c=Array.from(o).map((function(e){var r;return null===(r=(null!==(t=null==n?void 0:n.roles)&&void 0!==t?t:{})[e])||void 0===r?void 0:r.name})).filter(So.lm).map((function(e){return"@".concat(e)})),u=(null==r?void 0:r.singleSelect)?"":J.Z.Messages.ONBOARDING_CHOOSE_ALL_OPTIONS
;0===l.length&&c.length>0?u=J.Z.Messages.CUSTOMIZE_COMMUNITY_ADD_ROLES.format({count:c.length,extraCount:Math.max(c.length-2,0),role1:c[0],role2:c[1],itemHook:a}):l.length>0&&0===c.length?u=J.Z.Messages.CUSTOMIZE_COMMUNITY_ADD_CHANNELS.format({count:l.length,extraCount:Math.max(l.length-2,0),channel1:l[0],channel2:l[1],itemHook:a}):l.length>0&&c.length>0&&(u=J.Z.Messages.CUSTOMIZE_COMMUNITY_ADD_CHANNELS_AND_ROLES.format({channelCount:l.length,extraChannelCount:Math.max(l.length-2,0),channel1:l[0],channel2:l[1],itemHook:a,roleCount:c.length,extraRoleCount:Math.max(c.length-2,0),role1:c[0],role2:c[1]}));return{helpText:u,helpTextAdditional:""}}function $j(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Jj(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){
var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function ex(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function tx(e){var t=e.width,n=void 0===t?120:t,o=e.height,i=void 0===o?80:o,a=e.backgroundColor,s=e.foregroundColor,l=ex(e,["width","height","backgroundColor","foregroundColor"]);return(0,r.jsxs)("svg",Jj(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){$j(e,t,n[t])}))}return e}({},(0,Xb.Z)(l)),{width:n,height:i,viewBox:"0 0 120 80",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("circle",{cx:"60",cy:"40",r:"32",fill:a}),(0,r.jsx)("path",{
d:"M75.0832 29.8546L75.0835 29.8548C75.1362 29.884 75.1683 29.9391 75.1683 29.9983C75.1683 30.5369 75.1197 37.4409 73.0784 44.1629C71.005 50.9907 67.1615 56.8317 60.0016 56.8317C52.8418 56.8317 48.9982 50.9907 46.9248 44.1629C44.8836 37.4409 44.835 30.5369 44.835 29.9983C44.835 29.9391 44.8671 29.884 44.9197 29.8548L44.9201 29.8546L59.919 21.5218C59.9191 21.5218 59.9193 21.5217 59.9194 21.5216C59.9718 21.4928 60.0316 21.4928 60.0839 21.5217C60.084 21.5217 60.0842 21.5218 60.0843 21.5218L75.0832 29.8546ZM52.2516 46.6667V48.1667H53.7516H66.2516H67.7516V46.6667C67.7516 44.43 67.0409 42.4584 65.6254 41.0429C64.7687 40.1861 63.7082 39.5876 62.5086 39.2485C64.3809 38.3237 65.6683 36.3949 65.6683 34.165C65.6683 31.0349 63.1317 28.4983 60.0016 28.4983C56.8715 28.4983 54.335 31.0349 54.335 34.165C54.335 36.3949 55.6224 38.3237 57.4947 39.2485C56.295 39.5876 55.2346 40.1861 54.3778 41.0429C52.9623 42.4584 52.2516 44.43 52.2516 46.6667Z",fill:s,stroke:s,strokeWidth:"3"}),(0,r.jsx)("path",{
d:"M103.67 1.80634C103.67 0.808724 102.862 0 101.864 0C100.866 0 100.058 0.808724 100.058 1.80634V3.64278C100.058 4.64039 100.866 5.44911 101.864 5.44911C102.862 5.44911 103.67 4.64039 103.67 3.64278V1.80634Z",fill:"#58F287"}),(0,r.jsx)("path",{d:"M103.67 16.3574C103.67 15.3597 102.862 14.551 101.864 14.551C100.866 14.551 100.058 15.3597 100.058 16.3574V18.1938C100.058 19.1914 100.866 20.0001 101.864 20.0001C102.862 20.0001 103.67 19.1914 103.67 18.1938V16.3574Z",fill:"#58F287"}),(0,r.jsx)("path",{d:"M110.194 11.8412C111.191 11.8412 112 11.0325 112 10.0349C112 9.03724 111.191 8.22852 110.194 8.22852H108.357C107.36 8.22852 106.551 9.03724 106.551 10.0349C106.551 11.0325 107.36 11.8412 108.357 11.8412H110.194Z",fill:"#58F287"}),(0,r.jsx)("path",{d:"M95.6429 11.7413C96.6405 11.7413 97.4492 10.9326 97.4492 9.935C97.4492 8.93739 96.6405 8.12866 95.6429 8.12866H93.8064C92.8088 8.12866 92.0001 8.93739 92.0001 9.935C92.0001 10.9326 92.8088 11.7413 93.8064 11.7413H95.6429Z",fill:"#58F287"}),(0,
r.jsx)("path",{
d:"M19.1501 74.4573L23.3147 73.0684C23.5192 72.9747 23.6925 72.8241 23.814 72.6347C23.9354 72.4454 24 72.225 24 72C24 71.775 23.9354 71.5546 23.814 71.3653C23.6925 71.1759 23.5192 71.0253 23.3147 70.9316L19.1501 69.5427C18.8657 69.4142 18.6378 69.1862 18.5094 68.9016L17.0145 64.7348C16.9442 64.521 16.8083 64.3349 16.6262 64.203C16.444 64.071 16.2249 64 16 64C15.7751 64 15.556 64.071 15.3738 64.203C15.1917 64.3349 15.0558 64.521 14.9855 64.7348L13.4906 68.9016C13.3622 69.1862 13.1343 69.4142 12.8499 69.5427L8.68528 70.9316C8.4808 71.0253 8.30752 71.1759 8.18604 71.3653C8.06457 71.5546 8 71.775 8 72C8 72.225 8.06457 72.4454 8.18604 72.6347C8.30752 72.8241 8.4808 72.9747 8.68528 73.0684L12.8499 74.4573C13.0011 74.5032 13.1387 74.5858 13.2505 74.6976C13.3622 74.8094 13.4447 74.9471 13.4906 75.0984L14.9855 79.2652C15.0558 79.479 15.1917 79.6651 15.3738 79.797C15.556 79.929 15.7751 80 16 80C16.2249 80 16.444 79.929 16.6262 79.797C16.8083 79.6651 16.9442 79.479 17.0145 79.2652L18.5094 75.0984C18.5553 74.9471 18.6378 74.8094 18.7495 74.6976C18.8613 74.5858 18.9989 74.5032 19.1501 74.4573Z",
fill:"#FFD01A"})]}))}var nx=n(152163),rx=n(39802),ox=n(294334),ix=n(392115);function ax(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function sx(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function lx(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r]
;t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function cx(e){var t=e.width,n=void 0===t?24:t,o=e.height,i=void 0===o?24:o,a=e.color,s=void 0===a?"currentColor":a,l=e.foreground,c=lx(e,["width","height","color","foreground"]);return(0,r.jsx)("svg",sx(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ax(e,t,n[t])}))}return e}({},(0,Xb.Z)(c)),{width:n,height:i,viewBox:"0 0 11 10",children:(0,r.jsx)("path",{className:l,fill:s,fillRule:"evenodd",clipRule:"evenodd",d:"M4.20096 9.92805L0.157959 5.88505L1.92496 4.11705L3.88196 6.07305L8.02396 0.274048L10.059 1.72705L4.20096 9.92805Z"})}))}var ux=n(944822),fx=n.n(ux);function dx(e,t){(null==t||t>e.length)&&(t=e.length)
;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function px(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function hx(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||yx(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ex(e){return function(e){if(Array.isArray(e))return dx(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||yx(e)||function(){
throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yx(e,t){if(e){if("string"==typeof e)return dx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dx(e,t):void 0}}function mx(e){var t,n,i=e.guildId,a=e.option,s=e.selected,l=e.onSelect,c=e.hideMemberCount,u=e.canBeNew,f=(0,iO.ZP)()===R.BRd.DARK,d=hx(o.useState(!1),2),p=d[0],h=d[1],E=p&&!c,y=o.useRef(null),m=o.useContext(rx.S).reducedMotion,b=(0,DT.ZP)([ix.Z],(function(){var e,t,r;return null!=(null===(e=a.emoji)||void 0===e?void 0:e.id)&&null!==(n=null===(r=ix.Z.getCustomEmojiById(null===(t=a.emoji)||void 0===t?void 0:t.id))||void 0===r?void 0:r.animated)&&void 0!==n&&n})),g=(0,
ox.Z)(i,1e3),O=null==g||null==a.roleIds?0:(t=Math).max.apply(t,Ex(a.roleIds.map((function(e){return g[e]})))),v=u&&!s&&a.isUnseen,_=(0,sm.useSpring)({transform:s||m.enabled?"scale(1)":"scale(0.7)",opacity:s?1:0,config:{duration:150}}),I=(0,pN.O0)(R.tPk.BACKGROUND_MODIFIER_ACCENT),S=(0,pN.Sl)(R.Ilk.BRAND_500),T=(0,sm.useSpring)({from:{color:S.hex},color:"".concat(I.hex).concat(f?"87":"3D"),config:{duration:300},delay:500}),N=(0,sm.useTransition)(E,{from:{transform:m.enabled?"translateX(0)":"translateX(8px)",opacity:0},enter:{transform:"translateX(0)",opacity:1},leave:{opacity:0},trail:400,config:{duration:150}}),C=hx(o.useState(!1),2),A=C[0],P=C[1];o.useEffect((function(){if(E){y.current=setTimeout((function(){h(!1);y.current=null}),3e3);return function(){null!=y.current&&clearTimeout(y.current)}}}),[E]);var j,x=$p()(fx().optionButtonWrapper,(px(j={},fx().selected,s),px(j,fx().pressed,A),j)),M=v?{borderColor:T.color}:{};return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(sm.animated.div,{
style:M,className:x,children:(0,r.jsxs)(K.P3,{className:$p()(fx().optionButton),onClick:function(){h(!s);l(!s)},onMouseDown:function(){return P(!0)},onMouseUp:function(){return P(!1)},children:[null==a.emoji||null==a.emoji.id&&null==a.emoji.name?null:(0,r.jsx)(nx.Z,{animated:a.emoji.animated||b,className:fx().buttonEmoji,emojiId:a.emoji.id,emojiName:a.emoji.name}),(0,r.jsxs)("div",{className:fx().buttonText,children:[(0,r.jsx)(K.xv,{variant:"text-md/medium",color:"header-primary",children:a.title}),a.description.length>0?(0,r.jsx)(K.xv,{variant:"text-xs/normal",color:"header-secondary",children:a.description}):null]}),(0,r.jsx)(sm.animated.div,{className:fx().checkIcon,style:_,children:(0,r.jsx)(cx,{width:10,height:10,color:(0,pN.Lq)(R.Ilk.WHITE_500)})}),N((function(e,t){return O>0&&t&&(0,r.jsx)(sm.animated.div,{className:fx().memberCount,style:e,children:(0,r.jsx)(K.xv,{variant:"text-xs/normal",color:"always-white",children:J.Z.Messages.ONBOARDING_OPTION_ROLE_COUNTS.format({
memberCount:O})})})})),v&&(0,r.jsx)(HP.IG,{color:(0,pN.Lq)(R.Ilk.BRAND_260),text:J.Z.Messages.NEW,className:fx().newBadge})]})})})}var bx=n(824390),gx=n.n(bx),Ox=n(601465),vx=n(159750),_x=n.n(vx);function Ix(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Sx(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Tx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Sx(e,t,n[t])}))}return e}function Nx(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
;t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Cx(e){return function(e){if(Array.isArray(e))return Ix(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ix(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ix(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ax(e){return null!=e&&(null!=e.id||null!=e.name)}var Px=Nx(Tx({},Ox.v),{control:function(e,t){
var n=t.isDisabled,r=t.menuIsOpen;return Nx(Tx({},e),{backgroundColor:"var(--input-background)",borderColor:"var(--input-background)",opacity:n?.6:1,boxShadow:void 0,borderRadius:r?"8px 8px 0 0":"8px",minHeight:40,transition:"border 0.15s ease",cursor:n?"not-allowed":void 0,pointerEvents:n?"none":void 0,"&:hover":{borderColor:"var(--input-background)"}})},valueContainer:function(e){return Nx(Tx({},e),{padding:"8px",display:"flex",flexDirection:"row",gap:"8px",cursor:"text"})},indicatorsContainer:function(e){return Nx(Tx({},e),{alignItems:"flex-start",paddingTop:4})},option:function(e,t){var n=t.isSelected,r=t.isFocused;return Nx(Tx({},e,n?{backgroundColor:"var(--background-modifier-selected)",color:"var(--interactive-active)"}:r?{backgroundColor:"var(--background-modifier-hover)",color:"var(--interactive-hover)"}:{backgroundColor:"transparent",color:"var(--interactive-normal)"}),{cursor:"pointer",display:"flex",padding:12,alignItems:"center",minHeight:40,"&:active":{
backgroundColor:"var(--background-modifier-selected)",color:"var(--interactive-active)"},"&:hover [data-hover=true]":{opacity:1}})}});function jx(e){var t=e.options,n=e.value,i=e.onChange,a=e.canBeNew,s=e.memberCounts,l=function(e){e.preventDefault();e.stopPropagation()},c=o.useCallback((function(e){var o,a,s,c;return(0,r.jsxs)("div",{className:_x().selectValuePill,onMouseDown:l,children:[Ax(e.emoji)&&(0,r.jsx)(nx.Z,{emojiId:null===(o=e.emoji)||void 0===o?void 0:o.id,emojiName:null===(a=e.emoji)||void 0===a?void 0:a.name,animated:null!==(c=null===(s=e.emoji)||void 0===s?void 0:s.animated)&&void 0!==c&&c}),(0,r.jsx)(K.xv,{variant:"text-sm/normal",children:e.title}),(0,r.jsx)(K.P3,{className:_x().selectValuePillClose,onClick:function(){i(t.filter((function(t){return n.includes(t.id)&&t.id!==e.id})))},children:(0,r.jsx)(Sb.Z,{className:_x().selectValuePillCloseIcon})})]})}),[i,t,n]),u=o.useCallback((function(e){
var t,n,o,i,l,c=null==s||null==e.roleIds?0:(t=Math).max.apply(t,Cx(e.roleIds.map((function(e){return s[e]})))),u=null!=s&&c>0;return(0,r.jsxs)("div",{className:_x().selectOption,children:[(0,r.jsxs)("div",{className:_x().selectOptionTitle,children:[Ax(e.emoji)&&(0,r.jsx)(nx.Z,{emojiId:null===(n=e.emoji)||void 0===n?void 0:n.id,emojiName:null===(o=e.emoji)||void 0===o?void 0:o.name,animated:null!==(l=null===(i=e.emoji)||void 0===i?void 0:i.animated)&&void 0!==l&&l}),(0,r.jsx)(K.xv,{variant:"text-sm/normal",children:e.title})]}),a&&e.isUnseen&&(0,r.jsx)(HP.IG,{color:(0,pN.Lq)(R.Ilk.BRAND_260),text:J.Z.Messages.NEW,className:_x().optionNewBadge}),u&&(0,r.jsx)("div",{className:_x().selectOptionMemberCount,"data-hover":!0,children:(0,r.jsx)(K.xv,{variant:"text-xs/normal",color:"always-white",children:J.Z.Messages.ONBOARDING_OPTION_ROLE_COUNTS.format({memberCount:c})})})]})}),[a,s]),f=o.useCallback((function(e,t){var n=e.data;return 0===t.length||gx()(t.toLowerCase(),n.title.toLowerCase())
}),[]);return(0,r.jsx)(Ox.Z,{styleOverrides:Px,clearable:!1,isMulti:!0,options:t,onChange:i,value:n,closeMenuOnSelect:!1,multiValueRenderer:c,optionRenderer:u,filterOption:f})}var xx=n(353637),Rx=n(977898),Mx=n(645707),wx=n.n(Mx),Zx=n(169595),Lx=n.n(Zx);function Dx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ux(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function kx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Ux(e,t,n[t])}))}return e}function Gx(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e)
;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Bx(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Dx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dx(e,t)
}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Hx=cg.u8.SIZE_80,Vx="required";function Fx(e){var t=e.guild,n=e.user,i=(0,Uj.w)({user:n,guildId:t.id,size:120}),a=i.avatarSrc,l=i.eventHandlers,c=i.isAvatarAnimating,u=(0,Mj.U)().canUseAvatarDecorations?(0,zs.NZ)({userId:n.id,avatarDecoration:n.avatarDecoration,size:(0,wj.y)(Hx),canAnimate:c}):null,f=(0,s.e7)([as.ZP],(function(){return as.ZP.getMember(t.id,n.id)})),d=(0,s.Wu)([as.ZP],(function(){return as.ZP.getMemberRoleWithPendingUpdates(t.id,n.id)})),p=os()(d).filter((function(e){return t.roles.hasOwnProperty(e)})).map((function(e){return t.roles[e]})).orderBy("position","desc").value(),h=(0,Dj.Z)(n.id,t.id);o.useEffect((function(){(0,Lj.Z)(n.id,n.getAvatarURL(t.id,80),{guildId:t.id})}),[]);var E,y=(0,Zj.Y)(null==h?void 0:h.bio),m=bs.default.getEnableHardwareAcceleration()?cg.Xo:cg.ZP;return(0,
r.jsxs)("div",{className:wx().profile,children:[(0,r.jsx)(K.X6,{variant:"heading-md/semibold",color:"header-primary",children:J.Z.Messages.CUSTOMIZE_COMMUNITY_PROFILE}),(0,r.jsx)(K.xv,{variant:"text-xs/normal",color:"text-muted",children:J.Z.Messages.CUSTOMIZE_COMMUNITY_PROFILE_DESCRIPTION}),(0,r.jsxs)("div",{className:wx().profileCard,children:[(0,r.jsx)("div",Gx(kx({},l),{children:(0,r.jsx)(m,{src:a,avatarDecoration:u,size:Hx,"aria-label":n.username})})),(0,r.jsx)(K.xv,{variant:"text-lg/medium",color:"header-primary",className:wx().username,children:null!==(E=null==f?void 0:f.nick)&&void 0!==E?E:$d.ZP.getName(n)}),(0,r.jsx)(K.xv,{variant:"text-sm/normal",color:"text-muted",className:$p()(Lx().markup,wx().bio),children:y}),null!=p&&p.length>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("hr",{className:wx().separator}),(0,r.jsx)(K.xv,{variant:"text-xs/semibold",color:"text-muted",className:wx().title,children:J.Z.Messages.ROLES}),(0,r.jsx)("div",{className:wx().roles,
children:null==p?void 0:p.map((function(e){var t;return(0,r.jsxs)("div",{className:wx().role,children:[(0,r.jsx)(Gj.x,{color:null!==(t=e.colorString)&&void 0!==t?t:(0,Rj.Rf)(R.p6O),className:wx().roleDot}),(0,r.jsx)(K.xv,{variant:"text-xs/medium",color:"header-primary",children:e.name})]},e.id)}))})]})]})]})}function Yx(e){var t,n=e.prompt,i=e.guild,a=Bx(o.useState(null),2),l=a[0],c=a[1],u=Bx(o.useState(new Set),2),f=u[0],d=u[1],p=null==n||null===(t=n.options)||void 0===t?void 0:t.filter((function(e){return f.has(e.id)})),h=(0,Fj.L6)(p),E=(0,Fj.dX)(p),y=(0,s.Wu)([Vj.Z],(function(){return Vj.Z.getOnboardingResponsesForPrompt(i.id,n.id)})),m=Qj({guild:i,prompt:n,selectedRoleIds:h,selectedChannelIds:E,itemHook:function(e,t){return(0,r.jsx)(K.xv,{variant:"text-xs/medium",color:"header-primary",children:e},t)}}),b=m.helpText,g=m.helpTextAdditional,O=Kj(i.id).handleSelectOption,v=(0,pN.Sl)(R.Ilk.BRAND_500),_=(0,sm.useSpring)({from:{color:n.isNew?"".concat(v.hex,"FF"):"".concat(v.hex,"00")},
color:"".concat(v.hex,"00"),config:{duration:300},delay:500}),I=n.options.map((function(e){return kx({value:e.id},e)})),S=n.options.filter((function(e){return y.includes(e.id)})).map((function(e){return e.id}));return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(sm.animated.div,{className:wx().prompt,style:{borderColor:_.color},children:[n.isNew&&(0,r.jsx)(HP.IG,{color:(0,pN.Lq)(R.Ilk.BRAND_260),text:J.Z.Messages.NEW,className:wx().newBadge}),(0,r.jsxs)(K.X6,{className:wx().promptTitle,variant:"heading-md/semibold",color:"header-primary",children:[n.title,n.required?(0,r.jsx)("span",{className:$p()(wx().required,Ux({},wx().error,(null==l?void 0:l.type)===Vx)),children:"*"}):null]}),(0,r.jsx)(jx,{options:I,value:S,onChange:function(e){var t=e.find((function(e){return!y.includes(e.id)})),r=e.map((function(e){return e.id}));if(null!=t){O(n,t,!0);n.singleSelect&&n.options.forEach((function(e){return f.delete(e.id)}));f.add(t.id)}else{var o=y.filter((function(e){return!r.includes(e)
})),i=n.options.filter((function(e){return o.includes(e.id)}));if(y.length<=i.length&&n.required){c({type:Vx});return}i.forEach((function(e){O(n,e,!1);f.delete(e.id)}))}d(new Set(f));c(null)},canBeNew:!n.isNew}),(0,r.jsxs)(K.xv,{variant:"text-xs/normal",color:"text-muted",className:wx().helpText,children:[b," ",g]})]})})}function zx(e){var t,n=e.prompt,i=e.guild,a=Bx(o.useState(null),2),l=a[0],c=a[1],u=Bx(o.useState(new Set),2),f=u[0],d=u[1],p=null==n||null===(t=n.options)||void 0===t?void 0:t.filter((function(e){return f.has(e.id)})),h=(0,Fj.L6)(p),E=(0,Fj.dX)(p),y=(0,s.Wu)([Vj.Z],(function(){return Vj.Z.getOnboardingResponsesForPrompt(i.id,n.id)})),m=Qj({guild:i,prompt:n,selectedRoleIds:h,selectedChannelIds:E,itemHook:function(e,t){return(0,r.jsx)(K.xv,{variant:"text-xs/medium",color:"header-primary",children:e},t)}}),b=m.helpText,g=m.helpTextAdditional,O=Kj(i.id).handleSelectOption,v=(0,pN.Sl)(R.Ilk.BRAND_500),_=(0,sm.useSpring)({from:{
color:n.isNew?"".concat(v.hex,"FF"):"".concat(v.hex,"00")},color:"".concat(v.hex,"00"),config:{duration:300},delay:500});return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(sm.animated.div,{className:wx().prompt,style:{borderColor:_.color},children:[n.isNew&&(0,r.jsx)(HP.IG,{color:(0,pN.Lq)(R.Ilk.BRAND_260),text:J.Z.Messages.NEW,className:wx().newBadge}),(0,r.jsxs)(K.X6,{className:wx().promptTitle,variant:"heading-md/semibold",color:"header-primary",children:[n.title,n.required?(0,r.jsx)("span",{className:$p()(wx().required,Ux({},wx().error,(null==l?void 0:l.type)===Vx)),children:"*"}):null]}),(0,r.jsx)("div",{className:wx().promptOptions,children:n.options.map((function(e){return(0,r.jsx)(mx,{hideMemberCount:!0,guildId:i.id,option:e,onSelect:function(t){return function(e,t){if(t||1!==y.length||!n.required){O(n,e,null!=t&&t);n.singleSelect&&t&&n.options.forEach((function(e){return f.delete(e.id)}));t?f.add(e.id):f.delete(e.id);d(new Set(f));c(null)}else c({type:Vx})}(e,t)},
selected:y.includes(e.id),canBeNew:!n.isNew},e.id)}))}),(0,r.jsxs)(K.xv,{variant:"text-xs/normal",color:"text-muted",className:wx().helpText,children:[b," ",g]})]})})}function Wx(e){var t=e.guildId,n=e.onBrowseChannels,i=(0,iO.ZP)()===R.BRd.DARK,a=(0,s.e7)([Ut.Z],(function(){return Ut.Z.getGuild(t)})),l=(0,s.e7)([F.default],(function(){return F.default.getCurrentUser()})),c=(0,ub.Z)("(min-width: 1344px)")&&null!=l,u=o.useCallback((function(){(0,q.uL)(R.Z5c.CHANNEL(t,cO.oC.CHANNEL_BROWSER));null==n||n()}),[t,n]),f=(0,s.e7)([kj.ZP],(function(){return kj.ZP.hasUnread(t,Rx.W.GUILD_ONBOARDING_QUESTION)})),d=function(e){var t=(0,DT.Wu)([Vj.Z],(function(){return Vj.Z.getEnabledOnboardingPrompts(e)}));return o.useMemo((function(){for(var e=0,n=[],r=[],o=[],i=[],a=0;a<t.length;a++){var s=t[a];if(s.isNew)n.push(s);else if(s.hasNewAnswers){r.push(s);e+=s.options.filter((function(e){return e.isUnseen})).length}else s.inOnboarding?i.push(s):o.push(s)}return{onboardingPromptsRaw:t,
newOnboardingPrompts:n,onboardingPromptsWithNewAnswers:r,newAnswersCount:e,onboardingPrompts:o.concat(i)}}),[t])}(t),p=d.onboardingPromptsRaw,h=d.newOnboardingPrompts,E=d.onboardingPromptsWithNewAnswers,y=d.newAnswersCount,m=d.onboardingPrompts;o.useEffect((function(){null!=(null==a?void 0:a.id)&&(cT.Z.isFullServerPreview(a.id)||(Vj.Z.shouldFetchPrompts(a.id)||f)&&(0,Hj.eM)(a.id))}),[null==a?void 0:a.id,f]);o.useEffect((function(){if(null!=(null==a?void 0:a.id)&&!cT.Z.isFullServerPreview(a.id))return function(){(0,Eu.Ju)(a.id,Rx.W.GUILD_ONBOARDING_QUESTION,Vj.Z.ackIdForGuild(a.id));Bj.Z.updateOnboardingResponses(a.id)}}),[null==a?void 0:a.id]);var b=o.useCallback((function(e){if(null==a)return null;switch(e.type){case xx.FN.MULTIPLE_CHOICE:return(0,r.jsx)(zx,{prompt:e,guild:a},e.id);case xx.FN.DROPDOWN:return(0,r.jsx)(Yx,{prompt:e,guild:a},e.id);default:(0,So.vE)(e.type)}}),[a]);if(null==a)return null;if(0===p.length){var g=(0,pN.Lq)(i?R.Ilk.PRIMARY_300:R.Ilk.PRIMARY_500),O=(0,
pN.Lq)(i?R.Ilk.PRIMARY_700:R.Ilk.PRIMARY_230);return(0,r.jsx)("div",{className:EC().chat,children:(0,r.jsx)("div",{className:$p()(EC().content,wx().emptyPage),children:(0,r.jsxs)("div",{className:wx().emptyContainer,children:[(0,r.jsx)(tx,{className:wx().emptyIcon,foregroundColor:g,backgroundColor:O}),(0,r.jsx)(K.X6,{className:wx().emptyHeader,variant:"heading-md/semibold",children:J.Z.Messages.CUSTOMIZE_COMMUNITY_EMPTY_HEADER}),(0,r.jsx)(K.xv,{variant:"text-sm/medium",children:J.Z.Messages.CUSTOMIZE_COMMUNITY_EMPTY_SUBHEADER.format({onBrowseChannels:u})})]})})})}return(0,r.jsx)("div",{className:$p()(EC().chat,wx().scrollerContainer),children:(0,r.jsxs)(Kg.ZP,{className:wx().scroller,fade:!0,children:[(0,r.jsxs)("div",{className:wx().pageBody,children:[(h.length>0||E.length>0)&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{children:(0,r.jsx)(K.X6,{variant:"heading-md/semibold",color:"header-primary",children:J.Z.Messages.ONBOARDING_PROMPT_ANSWERS_NEW.format({count:h.length+y})})
}),h.map(b),E.map(b),(0,r.jsx)("div",{className:wx().sectionSeparator})]}),m.length>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(K.X6,{variant:"heading-md/semibold",color:"header-primary",children:J.Z.Messages.ONBOARDING_PROMPT_QUESTIONS_HEADER.format({count:m.length})}),(0,r.jsx)(K.xv,{variant:"text-xs/normal",color:"text-muted",children:J.Z.Messages.ONBOARDING_PROMPT_MEMBER_DESCRIPTION})]}),m.map(b)]})]}),c&&(0,r.jsx)(Fx,{guild:a,user:l})]})})}var Kx=n(325574),qx=n.n(Kx);function Xx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qx(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function $x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){
i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Xx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xx(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jx(e){var t=e.guild,n=e.previousChannel,i=(0,xj.Z)(t);o.useEffect((function(){(0,dn.EW)(fn.z$.CHANNEL_BROWSER_NEW_BADGE_NUX,{dismissAction:yn.L.DISMISS})}));var a=i?J.Z.Messages.CHANNELS_AND_ROLES_HTML_TITLE.format({guildName:t.name}):J.Z.Messages.CHANNEL_BROWSER_HTML_TITLE.format({guildName:t.name
}),s=i?J.Z.Messages.CHANNELS_AND_ROLES:J.Z.Messages.CHANNEL_BROWSER_TITLE;(0,bm.Tt)({location:a});return(0,r.jsxs)(kg.Z,{className:qx().header,innerClassname:qx().innerHeader,hideSearch:!0,channelId:cO.oC.CUSTOMIZE_COMMUNITY,guildId:t.id,toolbar:null!=n?(0,r.jsx)(K.zx,{className:qx().returnButton,size:K.zx.Sizes.SMALL,look:K.zx.Looks.OUTLINED,color:K.zx.Colors.PRIMARY,onClick:function(){null!=n&&(0,q.XU)(t.id,n.id)},children:(0,r.jsx)(K.xv,{className:qx().returnButtonText,variant:"text-xs/medium",children:J.Z.Messages.RETURN_TO_CHANNEL.format({channelNameHook:function(){return null==n?null:(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(MP._,{className:qx().returnIcon,guild:t,channel:n}),(0,r.jsx)(BP.Z,{children:(0,r.jsx)(K.xv,{variant:"text-xs/medium",children:n.name})})]},n.id)}})})}):[],children:[(0,r.jsx)(kg.Z.Icon,{icon:jj.Z,"aria-hidden":!0}),(0,r.jsx)(kg.Z.Title,{children:s})]})}function eR(e){var t=e.guildId,n=e.selectedSection,i=(0,s.e7)([Ut.Z],(function(){return Ut.Z.getGuild(t)
})),a=(0,xj.Z)(i),l=$x(o.useState(null!=n?n:xx.l7.CUSTOMIZE),2),c=l[0],u=l[1];o.useEffect((function(){null!=n&&u(n)}),[n]);var f=(0,s.e7)([C.Z],(function(){return C.Z.getLastSelectedChannelId(t)})),d=(0,s.e7)([qd.ZP],(function(){return qd.ZP.getCurrentSidebarChannelId(cO.oC.CHANNEL_BROWSER)})),p=null!=d&&c===xx.l7.BROWSE,h=(0,s.e7)([I.Z],(function(){return I.Z.getChannel(f)})),E=(0,s.e7)([kP.Z],(function(){return kP.Z.getNewChannelIds(t).size>0})),y=(0,wP.fU)(t);return null==i?null:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:$p()(EC().chat,Qx({},EC().threadSidebarOpen,p)),children:[(0,r.jsx)(Jx,{guild:i,previousChannel:h}),(0,r.jsxs)("div",{className:$p()(EC().content,qx().container),children:[a&&(0,r.jsxs)(yA.ZP,{className:qx().tabBar,type:yA.ZP.Types.TOP,look:yA.ZP.Looks.BRAND,selectedItem:c,onItemSelect:function(e){return u(e)},children:[(0,r.jsx)(yA.ZP.Item,{className:qx().tabBarItem,id:xx.l7.CUSTOMIZE,children:J.Z.Messages.OPT_IN_GUILD_NOTICE_CTA
},xx.l7.CUSTOMIZE),(0,r.jsxs)(yA.ZP.Item,{className:qx().tabBarItem,id:xx.l7.BROWSE,"aria-label":J.Z.Messages.CHANNEL_BROWSER_TITLE,children:[J.Z.Messages.CHANNEL_BROWSER_TITLE,(0,r.jsx)(HP.IG,{text:E?J.Z.Messages.CHANNEL_TYPE_NEW:y,color:E?(0,pN.Lq)(R.Ilk.BRAND_260):(0,pN.r7)(R.tPk.BACKGROUND_ACCENT),className:$p()(Qx({},qx().newBadge,E))})]},xx.l7.BROWSE)]}),function(){switch(c){case xx.l7.CUSTOMIZE:return(0,r.jsx)(Wx,{guildId:t,onBrowseChannels:function(){return u(xx.l7.BROWSE)}});case xx.l7.BROWSE:default:return(0,r.jsx)(Pj,{guildId:t})}}()]})]}),p&&(0,r.jsx)(Aj,{channelId:d})]})}var tR=n(706908),nR=n(158033),rR=n(102253),oR=n(959011),iR=n(853524),aR=n(997046),sR=n(553494);const lR=(0,sR.B)({kind:"user",id:"2023-01_guild_onboarding_includes_rules",label:"Guild Onboarding includes rules experience",defaultConfig:{includeRules:!1},treatments:[{id:1,label:"Last page of onboarding is rules",config:{includeRules:!0}}]});var cR=n(483667),uR=n(410887),fR=n.n(uR);function dR(e,t,n){
t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function pR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){dR(e,t,n[t])}))}return e}function hR(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function ER(e,t){return(0,r.jsx)("span",{className:fR().helpTextItem,children:e},t)}function yR(e){
var t=e.headerId,n=e.guild,o=e.step,i=e.lastPrompt,a=e.questionCount,s=e.currentPrompt,l=e.selectOption,c=e.gotoPrevPrompt,u=e.gotoNextPrompt,f=e.completeOnboarding,d=(0,DT.Wu)([Vj.Z],(function(){return Vj.Z.getOnboardingResponsesForPrompt(n.id,s.id)})),p=0===d.length&&(null==s?void 0:s.required),h=null==s?void 0:s.options.filter((function(e){return d.includes(e.id)})),E=(0,Fj.L6)(h),y=(0,Fj.dX)(h),m=0===d.length,b=Xj({guild:n,prompt:s,selectedRoleIds:E,selectedChannelIds:y,itemHook:ER}),g=b.helpText,O=b.helpTextAdditional,v=(0,ox.Z)(n.id,1e3),_=s.options.map((function(e){return pR({value:e.id},e)})),I=s.options.filter((function(e){return d.includes(e.id)})).map((function(e){return e.id}));return(0,r.jsx)("div",{className:fR().prompt,children:(0,r.jsxs)("div",{className:fR().promptContent,children:[(0,r.jsxs)(nE.ZP,{className:fR().scrollerContent,children:[(0,r.jsxs)("div",{className:fR().questionHeader,children:[(0,r.jsx)(K.xv,{variant:"text-sm/medium",color:"text-muted",
children:J.Z.Messages.ONBOARDING_QUESTION_COUNT.format({currentQuestion:o+1,questionCount:a})}),s.required?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(K.xv,{variant:"text-xs/normal",className:fR().headerSeparator,children:"·"}),(0,r.jsx)(K.xv,{variant:"text-sm/medium",color:"text-brand",children:J.Z.Messages.ONBOARDING_PROMPT_REQUIRED_LABEL})]}):null]}),(0,r.jsx)(K.X6,{className:fR().title,variant:"heading-xl/semibold",color:"header-primary",id:t,children:s.title}),(0,r.jsx)(jx,{options:_,value:I,onChange:function(e){var t=e.find((function(e){return!d.includes(e.id)})),n=e.map((function(e){return e.id}));if(null!=t)l(s.id,t.id,!0);else{var r=d.filter((function(e){return!n.includes(e)}));s.options.filter((function(e){return r.includes(e.id)})).forEach((function(e){l(s.id,e.id,!1)}))}},memberCounts:v})]}),(0,r.jsxs)("div",{className:fR().navButtons,children:[(0,r.jsx)("div",{className:fR().leftButtons,children:o>0&&(0,r.jsxs)(K.zx,{className:fR().button,innerClassName:fR().buttonInner,
onClick:function(){return c(d.length)},size:K.zx.Sizes.MEDIUM,look:K.zx.Looks.OUTLINED,grow:!1,color:K.zx.Colors.PRIMARY,children:[(0,r.jsx)(a_.Z,{className:fR().arrow,direction:a_.Z.Directions.LEFT}),J.Z.Messages.BACK]})}),(0,r.jsxs)("div",{className:fR().rightButtons,children:[(0,r.jsxs)(K.xv,{className:fR().helpText,variant:"text-xs/normal",color:"text-muted",children:[g," ",O]}),(0,r.jsx)(qb.ZP,{text:p?J.Z.Messages.ONBOARDING_REQUIRED_QUESTION:null,children:function(e){var t=e.onMouseEnter,n=e.onMouseLeave;return(0,r.jsx)(K.zx,{className:fR().button,innerClassName:fR().buttonInner,onMouseEnter:t,onMouseLeave:n,onClick:function(){return i?f():u(d.length)},disabled:p,size:K.zx.Sizes.MEDIUM,look:K.zx.Looks.FILLED,grow:!1,color:m?K.zx.Colors.PRIMARY:K.zx.Colors.BRAND,children:i?(0,r.jsxs)(r.Fragment,{children:[J.Z.Messages.FINISH,(0,r.jsx)("span",{className:fR().finishEmoji,role:"img","aria-hidden":!0,children:"🎉"})]}):(0,r.jsxs)(r.Fragment,{
children:[m?J.Z.Messages.SKIP:J.Z.Messages.NEXT,(0,r.jsx)(a_.Z,{className:fR().arrow,direction:a_.Z.Directions.RIGHT})]})})}})]})]})]})})}function mR(e){var t=e.headerId,n=e.guild,o=e.step,i=e.lastPrompt,a=e.questionCount,s=e.currentPrompt,l=e.selectOption,c=e.gotoPrevPrompt,u=e.gotoNextPrompt,f=e.completeOnboarding,d=(0,DT.Wu)([Vj.Z],(function(){return Vj.Z.getOnboardingResponsesForPrompt(n.id,s.id)})),p=0===d.length&&(null==s?void 0:s.required),h=null==s?void 0:s.options.filter((function(e){return d.includes(e.id)})),E=(0,Fj.L6)(h),y=(0,Fj.dX)(h),m=0===d.length,b=Xj({guild:n,prompt:s,selectedRoleIds:E,selectedChannelIds:y,itemHook:ER}),g=b.helpText,O=b.helpTextAdditional;return(0,r.jsx)("div",{className:fR().prompt,children:(0,r.jsxs)("div",{className:fR().promptContent,children:[(0,r.jsxs)(nE.ZP,{className:fR().scrollerContent,children:[(0,r.jsxs)("div",{className:fR().questionHeader,children:[(0,r.jsx)(K.xv,{variant:"text-sm/medium",color:"text-muted",
children:J.Z.Messages.ONBOARDING_QUESTION_COUNT.format({currentQuestion:o+1,questionCount:a})}),s.required?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(K.xv,{variant:"text-xs/normal",className:fR().headerSeparator,children:"·"}),(0,r.jsx)(K.xv,{variant:"text-sm/medium",color:"text-brand",children:J.Z.Messages.ONBOARDING_PROMPT_REQUIRED_LABEL})]}):null]}),(0,r.jsx)(K.X6,{className:fR().title,variant:"heading-xl/semibold",color:"header-primary",id:t,children:s.title}),(0,r.jsx)("div",{className:fR().promptOptions,children:s.options.map((function(e){return(0,r.jsx)(mx,{guildId:n.id,option:e,onSelect:function(t){return l(s.id,e.id,null!=t&&t)},selected:d.includes(e.id)},e.id)}))})]}),(0,r.jsxs)("div",{className:fR().navButtons,children:[(0,r.jsx)("div",{className:fR().leftButtons,children:o>0&&(0,r.jsxs)(K.zx,{className:fR().button,innerClassName:fR().buttonInner,onClick:function(){return c(d.length)},size:K.zx.Sizes.MEDIUM,look:K.zx.Looks.OUTLINED,grow:!1,color:K.zx.Colors.PRIMARY,
children:[(0,r.jsx)(a_.Z,{className:fR().arrow,direction:a_.Z.Directions.LEFT}),J.Z.Messages.BACK]})}),(0,r.jsxs)("div",{className:fR().rightButtons,children:[(0,r.jsxs)(K.xv,{className:fR().helpText,variant:"text-xs/normal",color:"text-muted",children:[g," ",O]}),(0,r.jsx)(qb.ZP,{text:p?J.Z.Messages.ONBOARDING_REQUIRED_QUESTION:null,children:function(e){var t=e.onMouseEnter,n=e.onMouseLeave;return(0,r.jsx)(K.zx,{className:fR().button,innerClassName:fR().buttonInner,onMouseEnter:t,onMouseLeave:n,onClick:function(){return i?f():u(d.length)},disabled:p,size:K.zx.Sizes.MEDIUM,look:K.zx.Looks.FILLED,grow:!1,color:m?K.zx.Colors.PRIMARY:K.zx.Colors.BRAND,children:i?(0,r.jsxs)(r.Fragment,{children:[J.Z.Messages.FINISH,(0,r.jsx)("span",{className:fR().finishEmoji,role:"img","aria-hidden":!0,children:"🎉"})]}):(0,r.jsxs)(r.Fragment,{children:[m?J.Z.Messages.SKIP:J.Z.Messages.NEXT,(0,r.jsx)(a_.Z,{className:fR().arrow,direction:a_.Z.Directions.RIGHT})]})})}})]})]})]})})}function bR(e){
var t=e.guild,n=e.prompts,i=e.step,a=e.selectOption,s=e.completeOnboarding,l=e.setCurrentStep,c=e.headerId,u=e.disableTracking,f=(0,DT.ZP)([MC.Z],(function(){return MC.Z.getRulesPrompt(t.id)})),d=(lR.getCurrentConfig({}).includeRules||cR.Z.getCurrentConfig({}).landOnHome)&&null!=f;o.useEffect((function(){RC.Z.fetchVerificationForm(t.id)}),[t.id]);var p=n[i],h=i+1>=n.length&&!d,E=n[0].required;o.useEffect((function(){u||Te.default.track(R.rMx.GUILD_ONBOARDING_STEP_VIEWED,hR(pR({},(0,yb.hH)(t.id)),{step:0,required:E}))}),[t.id,E,u]);var y=function(e){if(!u){Te.default.track(R.rMx.GUILD_ONBOARDING_STEP_COMPLETED,hR(pR({},(0,yb.hH)(t.id)),{step:i,options_selected:e,skipped:0===e,back:!1,in_onboarding:!0,is_final_step:!1}));i<n.length-1&&Te.default.track(R.rMx.GUILD_ONBOARDING_STEP_VIEWED,hR(pR({},(0,yb.hH)(t.id)),{step:i,required:n[i+1].required}))}i+1<n.length?l(i+1):d&&l("rules")},m=function(e){if(!u){Te.default.track(R.rMx.GUILD_ONBOARDING_STEP_COMPLETED,hR(pR({},(0,yb.hH)(t.id)),{
step:i,skipped:!1,back:!0,options_selected:e,in_onboarding:!0,is_final_step:!1}));i>0&&Te.default.track(R.rMx.GUILD_ONBOARDING_STEP_VIEWED,hR(pR({},(0,yb.hH)(t.id)),{step:i-1,required:n[i-1].required}))}l(Math.max(0,i-1))};if(null==p)return null;switch(p.type){case xx.FN.MULTIPLE_CHOICE:return(0,r.jsx)(mR,{guild:t,headerId:c,step:i,questionCount:n.length,currentPrompt:p,lastPrompt:h,selectOption:a,gotoPrevPrompt:m,gotoNextPrompt:y,completeOnboarding:s});case xx.FN.DROPDOWN:return(0,r.jsx)(yR,{guild:t,headerId:c,step:i,questionCount:n.length,currentPrompt:p,lastPrompt:h,selectOption:a,gotoPrevPrompt:m,gotoNextPrompt:y,completeOnboarding:s});default:(0,So.vE)(p.type)}}function gR(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function OR(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function vR(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){
var i=e.apply(t,n);function a(e){OR(i,r,o,a,s,"next",e)}function s(e){OR(i,r,o,a,s,"throw",e)}a(void 0)}))}}function _R(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function IR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){_R(e,t,n[t])}))}return e}function SR(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){
Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function TR(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return gR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gR(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var NR=function(e,t){var n,r,o,i,a={label:0,
sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{
value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function CR(e){var t,n=e.guild,i=e.prompts,a=e.completeOnboarding,s=e.setCurrentStep,l=e.disableTracking,c=e.previousPromptIndex,u=o.useRef(null),f=(0,DT.ZP)([MC.Z],(function(){return MC.Z.getRulesPrompt(n.id)})),d=TR(o.useState(null!==(t=null==f?void 0:f.response)&&void 0!==t&&t),2),p=d[0],h=d[1],E=(0,DT.ZP)([MC.Z],(function(){return MC.Z.get(n.id)})),y=o.useCallback(vR((function(){return NR(this,(function(e){switch(e.label){case 0:if(null==E||null==f)return[2];e.label=1;case 1:e.trys.push([1,3,,4]);return[4,RC.Z.submitVerificationForm(n.id,SR(IR({},E),{formFields:[SR(IR({},f),{response:p})]}))];case 2:e.sent();return[3,4];case 3:e.sent();return[3,4];case 4:a();return[2]}}))})),[n.id,E,f,p,a]);o.useEffect((function(){null!=u.current&&u.current.isScrolledToBottom()&&h(!0)}),[n.id,h,u]);return null==f?null:(0,r.jsx)("div",{className:fR().prompt,children:(0,r.jsxs)("div",{className:fR().promptContent,children:[(0,r.jsxs)(Kg.ZP,{
className:fR().scrollerContent,ref:u,onScroll:function(){null!=u.current&&u.current.isScrolledToBottom()&&h(!0)},children:[(0,r.jsx)(K.xv,{variant:"text-sm/medium",color:"text-muted",children:J.Z.Messages.ONBOARDING_RULES_STEP}),(0,r.jsx)(K.X6,{variant:"heading-xl/semibold",children:J.Z.Messages.ONBOARDING_RULES_TITLE}),(0,r.jsx)("div",{className:fR().termsFieldBody,children:f.values.map((function(e,t){return(0,r.jsxs)("div",{className:fR().termsRow,children:[(0,r.jsx)(K.xv,{variant:"text-sm/normal",color:"text-muted",children:"".concat(t+1,".")}),(0,r.jsx)(K.xv,{variant:"text-sm/normal",className:fR().termsRowContent,children:VO.Z.parseGuildVerificationFormRule(e,!0,{channelId:n.rulesChannelId})})]},"term-".concat(t))}))})]}),(0,r.jsx)("div",{className:fR().overlay}),(0,r.jsxs)("div",{className:fR().navButtons,children:[(0,r.jsx)("div",{className:fR().leftButtons,children:-1!==c&&(0,r.jsxs)(K.zx,{innerClassName:fR().buttonInner,onClick:function(){if(!l){
Te.default.track(R.rMx.GUILD_ONBOARDING_STEP_COMPLETED,SR(IR({},(0,yb.hH)(n.id)),{step:-1,skipped:!1,back:!0,options_selected:0,in_onboarding:!0,is_final_step:!1}));c>=0&&Te.default.track(R.rMx.GUILD_ONBOARDING_STEP_VIEWED,SR(IR({},(0,yb.hH)(n.id)),{step:c,required:i[c].required}))}s(c)},size:K.zx.Sizes.MEDIUM,look:K.zx.Looks.OUTLINED,grow:!1,color:K.zx.Colors.PRIMARY,children:[(0,r.jsx)(a_.Z,{className:fR().arrow,direction:a_.Z.Directions.LEFT}),J.Z.Messages.BACK]})}),(0,r.jsxs)("div",{className:fR().rightButtons,children:[(0,r.jsx)(K.xv,{className:fR().helpText,variant:"text-xs/normal",color:"text-muted",children:p?J.Z.Messages.MEMBER_VERIFICATION_READ_AGREE_RULES:J.Z.Messages.MEMBER_VERIFICATION_MUST_READ_RULES}),(0,r.jsxs)(K.zx,{innerClassName:fR().buttonInner,onClick:y,disabled:!p,size:K.zx.Sizes.MEDIUM,look:K.zx.Looks.FILLED,grow:!1,color:K.zx.Colors.BRAND,children:[J.Z.Messages.FINISH,(0,r.jsx)("span",{className:fR().finishEmoji,role:"img","aria-hidden":!0,children:"🎉"})]})]})]
})]})})}var AR=n(488723),PR=n.n(AR);function jR(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xR(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function RR(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){xR(i,r,o,a,s,"next",e)}function s(e){xR(i,r,o,a,s,"throw",e)}a(void 0)}))}}function MR(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return jR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jR(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var wR=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:
i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function ZR(){return(ZR=RR((function(e){var t;return wR(this,(function(n){switch(n.label){case 0:return[4,new Promise((function(t,n){var r=new Image;r.crossOrigin="Anonymous";r.onerror=function(e){n(e);r.onerror=r.onload=null;r=null};r.onload=function(){t((0,Ws.XN)(r,2,10));r.onerror=r.onload=null;r=null};r.src=e}))];case 1:return[2,null==(t=n.sent())?void 0:t.map((function(e){var t=MR(e,3),n=t[0],r=t[1],o=t[2];return(0,oR.vq)(n,r,o)}))]}}))}))).apply(this,arguments)}function LR(e){var t=e.guildId,n=(0,s.e7)([h.Z],(function(){
return h.Z.useReducedMotion})),i=(0,cb.Z)(),a=i.ref,l=i.width,c=i.height,f=MR(o.useState(),2),d=f[0],p=f[1],E=(0,s.Wu)([Vj.Z],(function(){return Vj.Z.getOnboardingPromptsForOnboarding(t)})),y=(0,s.e7)([Vj.Z],(function(){return Vj.Z.getEnabled(t)})),m=o.useCallback((function(e,n,r){Bj.Z.selectOption(t,e,n,r)}),[t]),b=o.useCallback((function(){Bj.Z.completeOnboarding(t,E)}),[t,E]),g=(0,s.e7)([Ut.Z],(function(){return Ut.Z.getGuild(t)})),O=o.useMemo((function(){return null==g?null:zs.ZP.getGuildSplashURL({id:g.id,splash:g.splash})}),[g]),v=(0,s.e7)([iR.ZP],(function(){return iR.ZP.getCurrentOnboardingStep(t)})),_=MR(o.useState(null!=O?null:"cover"),2),I=_[0],S=_[1];null!=O&&null==d&&function(e){return ZR.apply(this,arguments)}(O).then((function(e){p(e[0])}));var T=o.useCallback((function(e){S(v);Bj.Z.setUserOnboardingStep(t,e)}),[t,v]),N=(0,s.e7)([iR.ZP],(function(){return iR.ZP.getOnboardingStatus(t)})),C=null!=E&&E.length>0,A=o.useCallback((function(){(0,iR.kp)(N)&&y&&C?T(0):b()
}),[N,y,C,T,b]);o.useEffect((function(){if(!iR.ZP.shouldShowOnboarding(t))return u.Z.escapeToDefaultChannel(t);(0,nR.E)(t)}),[t]);var P=(0,sm.useTransition)(v,{config:sm.config.default,from:{scale:.8,opacity:0},enter:{scale:1,opacity:1},immediate:n||"cover"!==I&&null!==I}),j=iR.ZP.shouldShowOnboarding(t),x=null==g;o.useEffect((function(){if(!j||x){var e=setTimeout((function(){0;(0,q.uL)(R.Z5c.CHANNEL(t))}),1e3);return function(){return clearTimeout(e)}}}),[j,x,t]);if(!iR.ZP.shouldShowOnboarding(t))return null;if(null==g)return null;var M=function(){switch(v){case"cover":return(0,r.jsx)(aR.ZP,{guild:g,onboardingStatus:iR.uX.READY,onStart:A});case"rules":return(0,r.jsx)(CR,{setCurrentStep:T,previousPromptIndex:E.length-1,guild:g,prompts:E,completeOnboarding:b});case null:return null;default:return(0,r.jsx)(bR,{guild:g,prompts:E,step:v,selectOption:m,completeOnboarding:b,setCurrentStep:T})}};return(0,r.jsxs)("div",{className:PR().main,ref:a,children:[null!=O?(0,r.jsx)(rR.Z,{
className:$p()(PR().artwork),src:O,width:l,height:c}):(0,r.jsx)(tR.Z,{className:PR().artwork,preserveAspectRatio:"xMinYMin slice"}),null!=d&&(0,r.jsx)("div",{className:PR().gradient,style:{background:"linear-gradient(180deg, ".concat((0,oR.aD)(d,.16)," 0%, ").concat((0,oR.aD)(d,1)," 100%)")}}),(0,r.jsx)("div",{className:PR().gradient}),P((function(e,t,n){var o=n.key;return(0,r.jsx)(sm.animated.div,{ref:t===v?a:null,style:e,children:M()},o)})),"cover"===v&&(0,r.jsx)("div",{className:PR().bottomCenterContent,children:(0,r.jsx)(K.X6,{variant:"heading-sm/normal",color:"header-secondary",children:J.Z.Messages.ONBOARDING_COVER_PRIVACY_POLICY.format({privacyLink:R.EYA.PRIVACY})})})]})}var DR=n(261317),UR=n(106803),kR=n(975533),GR=n(378564),BR=n(954946),HR=n(938105),VR=n(989928),FR=n(973935),YR=n(997030),zR=n(653191),WR=n(787470),KR=n(168965),qR=n(87309),XR=n(258507),QR=n.n(XR);function $R(e){var t=e.buttonText,n=e.onGoBack,o=e.onDismiss,i=e.showCloseButton;return(0,r.jsxs)(qR.ZP,{
className:QR().backNotice,children:[i&&(0,r.jsx)(qR.Ry,{onClick:o,noticeType:R.kVF.BACK_TO_PREVIOUS_SCREEN}),(0,r.jsxs)(K.zx,{className:QR().backButton,innerClassName:QR().backButtonInner,look:K.zx.Looks.OUTLINED,color:K.zx.Colors.WHITE,size:K.zx.Sizes.NONE,onClick:n,children:[(0,r.jsx)(KR.Z,{width:16,height:16,direction:KR.Z.Directions.LEFT,className:QR().backArrow}),t]})]})}var JR=n(276842),eM=n(976703),tM=n(58689),nM=n(56435),rM=n(935406),oM=n(349693),iM=n(331454),aM=n(80142),sM=n(514047),lM=n.n(sM);function cM(e){var t,n,o=e.value,i=e.type;if(0===o)return null;if(i===aM.Qs.CHANNEL){t=eM.Z;n=J.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_GROUP_CHANNEL_BENEFIT_PREVIEW.format({value:o})}else{if(i!==aM.Qs.INTANGIBLE)throw new Error("Unsupported benefit type");t=tM.Z;n=J.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_GROUP_INTANGIBLE_BENEFIT_PREVIEW.format({value:o})}return(0,r.jsxs)(K.xv,{variant:"text-sm/normal",color:"interactive-normal",className:lM().benefitSummary,children:[(0,
r.jsx)(t,{className:lM().benefitIcon})," ",n]})}function uM(e){var t=e.listing,n=t.subscription_plans[0],o=(0,rM._W)(t.application_id,t.image_asset,40),i=t.role_benefits.benefits.filter((function(e){return e.ref_type===aM.Qs.CHANNEL})).length,a=t.role_benefits.benefits.filter((function(e){return e.ref_type===aM.Qs.INTANGIBLE})).length,s=i+a>0;return(0,r.jsxs)("div",{className:lM().listingPreview,children:[(0,r.jsx)("img",{src:o,alt:"",className:lM().listingPreviewImage}),(0,r.jsxs)("div",{className:lM().listingPreviewText,children:[(0,r.jsx)(K.xv,{variant:"text-md/normal",color:"interactive-active",children:t.name}),(0,r.jsx)(JR.Z,{size:2}),(0,r.jsxs)(K.xv,{variant:"text-sm/normal",color:"interactive-normal",children:[(0,nM.T4)(n.price,n.currency)," / ",(0,oM.JE)(n)]}),s&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(JR.Z,{size:12}),(0,r.jsxs)("div",{className:lM().benefitSummaries,children:[(0,r.jsx)(cM,{type:aM.Qs.CHANNEL,value:i}),(0,r.jsx)(cM,{type:aM.Qs.INTANGIBLE,value:a})]})]})]})]
})}function fM(e){var t=e.groupListing,n=e.onSelectGroup,o=(0,BR._k)(t.id),i=(0,s.e7)([cT.Z],(function(){return cT.Z.isViewingSubscriptionRoles(t.guild_id)})),a=o.filter((function(e){return i||e.published})),l=(0,ub.Z)(aM.iP),c=(0,X.Dt)(),u=(0,X.Dt)();return 0===a.length?null:(0,r.jsx)("article",{className:lM().container,"aria-labelledby":c,children:(0,r.jsxs)(K.y5,{component:(0,r.jsx)(K.X6,{variant:"heading-lg/semibold",id:c,children:t.name}),children:[(0,r.jsx)(JR.Z,{size:8}),(0,r.jsx)(K.xv,{variant:"text-md/normal",color:"header-secondary",children:t.description}),(0,r.jsx)("div",{className:lM().divider}),(0,r.jsx)(K.X6,{variant:"heading-deprecated-12/semibold",className:lM().sectionHeader,id:u,children:J.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_AVAILABLE_TIERS.format({numTiers:a.length})}),l?(0,r.jsx)("ul",{className:lM().subscriptionCardContainer,"aria-labelledby":u,children:a.map((function(e){return(0,r.jsx)("li",{children:(0,r.jsx)(iM.Z,{guildId:t.guild_id,
groupListingId:t.id,listingId:e.id,analyticsLocation:R.Sbl.ROLE_SUBSCRIPTIONS_TAB},e.id)},e.id)}))}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("ul",{className:lM().listingPreviews,"aria-labelledby":u,children:a.map((function(e){return(0,r.jsx)("li",{children:(0,r.jsx)(uM,{listing:e},e.id)},e.id)}))}),(0,r.jsx)(JR.Z,{size:24}),(0,r.jsx)(K.zx,{onClick:n,fullWidth:!0,children:J.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_GROUP_CARD_CTA})]})]})})}var dM=n(486180),pM=n(901378),hM=n(209585),EM=n(271075),yM=n(615522),mM=n(578016);function bM(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gM(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{
if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return bM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bM(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function OM(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vM(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}
return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return OM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OM(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _M(e){var t=vM(function(){var e=gM((0,mM.Z)(),2),t=e[0],n=e[1],r=gM(o.useState(),2),i=r[0],a=r[1];o.useEffect((function(){null==i&&null!=n&&a(n)}),[i,n]);return[t,i]}(),2),n=t[0],r=t[1];return[n,null!=(null==e?void 0:e.application_id)&&null!=r?(0,rM._W)(e.application_id,e,r):void 0]}var IM=n(355457),SM=n.n(IM);function TM(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function NM(e,t){return function(e){if(Array.isArray(e))return e
}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return TM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TM(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function CM(e){var t=e.coverImageAsset,n=e.title,o=e.guild,i=e.description,a=e.children,s=NM(_M(null!=t?t:void 0),2),l=s[0],c=s[1];return(0,r.jsxs)("div",{className:SM().container,
children:[(0,r.jsx)("div",{ref:l,className:SM().coverImageContainer,children:null!=c&&(0,r.jsx)("img",{src:c,alt:"",className:SM().coverImage})}),(0,r.jsx)("div",{className:SM().guildIconContainer,children:(0,r.jsx)(EN.Z,{guild:o,size:EN.Z.Sizes.XLARGE})}),(0,r.jsx)(K.X6,{variant:"heading-xl/semibold",className:SM().ctaTitle,children:n}),(0,r.jsx)(K.xv,{className:SM().ctaSubtitle,variant:"text-md/normal",color:"header-secondary",children:i}),a]})}var AM=n(633485),PM=n.n(AM),jM=function(e){var t=e.subscription;if(null==t)return null;if(t.status===R.O0b.PAST_DUE){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(JR.Z,{size:16}),(0,r.jsx)(EM.Z,{message:J.Z.Messages.GUILD_ROLE_SUBSCRIPTION_USER_SUBSCRIPTION_PAST_DUE_WARNING,ctaMessage:J.Z.Messages.GUILD_ROLE_SUBSCRIPTION_USER_SUBSCRIPTION_PAST_DUE_CTA,onClick:function(){p.Z.open(R.oAB.SUBSCRIPTIONS,bE.cP)}})]})}return null};const xM=function(e){var t=e.guild,n=e.groupListing,o=e.singleGroupView,i=e.editGroupId;(0,hM.Z)({guildId:t.id,
groupListingId:null==n?void 0:n.id,location:R.Sbl.ROLE_SUBSCRIPTIONS_TAB,relevantSubscriptionListingIds:null==n?void 0:n.subscription_listings_ids});var a,s,l,c=(0,pM.Z)(null==n?void 0:n.id).activeSubscription,u=(0,BR.YB)(t.id),f=o?null==u?void 0:u.description:null==n?void 0:n.description,d=dM.B7(null!==(a=null==n?void 0:n.id)&&void 0!==a?a:null,i).editStateIds;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(CM,{title:J.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_PAGE_GROUP_CTA.format({serverName:t.toString()}),description:null!=f?f:null,coverImageAsset:null!==(s=null==u?void 0:u.cover_image_asset)&&void 0!==s?s:null,guild:t,children:[null!=n?(0,r.jsx)(yM.Z,{className:PM().pendingPlanChangeNotice,groupListingId:n.id,subscription:c}):null,(0,r.jsx)(jM,{subscription:c})]}),(0,r.jsx)(K.y5,{children:(0,r.jsx)(WR.Z,{guildId:t.id,children:d.map((function(e){return(0,r.jsx)(iM.Z,{guildId:t.id,groupListingId:null!==(l=null==n?void 0:n.id)&&void 0!==l?l:"",listingId:e,
analyticsLocation:R.Sbl.ROLE_SUBSCRIPTIONS_TAB},e)}))})})]})};var RM="guild-role-subscription-overview-notice",MM=n(991938),wM=n.n(MM);function ZM(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function LM(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ZM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZM(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function DM(e){var t=e.onGoBack,n=e.onDismiss,i=o.useMemo((function(){return document.getElementById(RM)}),[]);return null==i?null:FR.createPortal((0,r.jsx)($R,{buttonText:J.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_BACK_TO_GROUPS_VIEW_CTA,onGoBack:t,onDismiss:n,showCloseButton:!1}),i)}function UM(e){var t=e.guild,n=(0,YR.z5)(t.id),i=(0,BR.YB)(t.id),a=(0,BR.GG)(t.id),l=LM(o.useState(null),2),c=l[0],u=l[1],f=(0,s.e7)([cT.Z],(function(){return cT.Z.isViewingSubscriptionRoles(t.id)})),d=LM(o.useState(!1),2),p=d[0],h=d[1],E=(0,s.Wu)([zR.Z],(function(){return a.filter((function(e){var t=!0,n=!1,r=void 0;try{for(var o,i=e.subscription_listings_ids[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value,s=zR.Z.getSubscriptionListing(a);if(null!=s&&(f||s.published))return!0}}catch(e){n=!0;r=e}finally{try{
t||null==i.return||i.return()}finally{if(n)throw r}}return!1}))}),[a,f]);if(!n){var y=E[0];return null!=y||f?(0,r.jsx)(xM,{guild:t,groupListing:y,singleGroupView:!0,editGroupId:t.id}):null}var m,b,g=E.find((function(e){return e.id===c}));return null!=g?(0,r.jsxs)(r.Fragment,{children:[!p&&(0,r.jsx)(DM,{onGoBack:function(){return u(null)},onDismiss:function(){return h(!0)}}),(0,r.jsx)(xM,{guild:t,groupListing:g,singleGroupView:!1,editGroupId:g.id})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(CM,{title:J.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_PAGE_GROUP_CTA.format({serverName:t.toString()}),description:null!==(m=null==i?void 0:i.description)&&void 0!==m?m:null,coverImageAsset:null!==(b=null==i?void 0:i.cover_image_asset)&&void 0!==b?b:null,guild:t}),(0,r.jsx)(K.y5,{children:(0,r.jsx)(WR.Z,{className:wM().groupListings,guildId:t.id,children:E.map((function(e){return(0,r.jsx)(fM,{groupListing:e,onSelectGroup:function(){return u(e.id)}},e.id)}))})})]})}
var kM,GM=n(913412),BM=n.n(GM),HM=n(302147),VM=n.n(HM);!function(e){e.GUILD_NOT_ELIGIBLE="guild_not_eligible";e.NOT_GUILD_MEMBER="not_guild_member"}(kM||(kM={}));var FM=function(e){var t=e.errorType;(0,Wp.Z)({type:W.nv.PAGE,name:W.zs.ROLE_SUBSCRIPTION_LISTING_UPSELL_ERROR_PAGE,properties:{error_page_type:t}});return(0,r.jsx)("div",{className:BM().errorPageContainer,children:(0,r.jsxs)("div",{className:BM().errorPageContent,children:[(0,r.jsx)("img",{src:VM(),alt:"",className:BM().errorPageIllo}),(0,r.jsx)(K.X6,{variant:"heading-xl/extrabold",className:BM().errorPageTitle,children:t===kM.GUILD_NOT_ELIGIBLE?J.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_ERROR_PAGE_GUILD_NOT_ELIGIBLE_TITLE:J.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_ERROR_PAGE_NOT_GUILD_MEMBER_TITLE}),(0,r.jsx)(K.xv,{variant:"text-md/normal",className:BM().errorPagSubtitle,
children:t===kM.GUILD_NOT_ELIGIBLE?J.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_ERROR_PAGE_GUILD_NOT_ELIGIBLE_SUBTITLE:J.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_ERROR_PAGE_NOT_GUILD_MEMBER_SUBTITLE})]})})},YM=n(896574),zM=n.n(YM),WM=n(691634),KM=n.n(WM);function qM(){return(0,r.jsx)("div",{className:zM().container,children:(0,r.jsxs)("div",{className:zM().content,children:[(0,r.jsx)("img",{src:KM(),alt:J.Z.Messages.CREATOR_MONETIZATION_NOTICE_ILLO_A11Y_LABEL}),(0,r.jsx)(JR.Z,{size:12}),(0,r.jsx)(K.X6,{className:zM().header,variant:"heading-lg/semibold",children:J.Z.Messages.CREATOR_MONETIZATION_DISABLED_NOTICE_TITLE}),(0,r.jsx)(JR.Z,{size:8}),(0,r.jsx)(K.xv,{color:"header-secondary",variant:"text-sm/normal",children:J.Z.Messages.CREATOR_MONETIZATION_DISABLED_NOTICE_DESCRIPTION})]})})}var XM=n(536261),QM=n.n(XM);function $M(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function JM(e){return function(){var t=this,n=arguments
;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){$M(i,r,o,a,s,"next",e)}function s(e){$M(i,r,o,a,s,"throw",e)}a(void 0)}))}}function ew(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var tw=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0
;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};const nw=function(e){var t=e.guildId,i=(0,s.e7)([Ut.Z],(function(){return Ut.Z.getGuild(t)}),[t]),a=(0,s.e7)([sy.Z],(function(){return sy.Z.isConnected()})),l=(0,UR.Z)(t),c=(0,HR.Z)(t),u=(0,s.e7)([GR.Z],(function(){return GR.Z.isSubscriptionFetching})),f=(0,BR.tT)(null==i?void 0:i.id,{refetchOnMount:!0}).listingsLoaded,d=(0,kR.VV)(t),p=d.shouldHideRoleSubscriptionPurchaseEntryPoints,h=d.restrictionsLoading,E=null==i||!f||u||h;(0,bm.Tt)({subsection:J.Z.Messages.GUILD_ROLE_SUBSCRIPTIONS_CHANNEL_LABEL,location:null==i?void 0:i.name});(0,DR.Z)(oo.tq?"role-subscriptions-overview":void 0);var y=a&&(null==i||!(l||c)||p&&!h);o.useEffect((function(){Yi.jg()}),[])
;o.useEffect((function(){if(y&&!oo.tq){(0,Y.ZD)(JM((function(){var e,t;return tw(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(68082)]).then(n.bind(n,168082))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ew(e,t,n[t])}))}return e}({},e))}]}}))})));if(C.Z.getChannelId(t)===cO.oC.ROLE_SUBSCRIPTIONS){var e;(0,q.dL)(R.Z5c.CHANNEL(t,null===(e=ET.ZP.getDefaultChannel(t))||void 0===e?void 0:e.id))}else(0,q.dL)(ay.Z.defaultRoute)}}),[t,y]);if(oo.tq&&y){var m=null==i?kM.NOT_GUILD_MEMBER:kM.GUILD_NOT_ELIGIBLE;return(0,r.jsx)(FM,{errorType:m})}return(0,r.jsxs)("div",{className:QM().container,children:[(0,r.jsxs)(kg.Z,{toolbar:(0,
r.jsx)(o.Fragment,{}),className:QM().headerBar,children:[(0,r.jsx)(kg.Z.Icon,{icon:VR.Z,"aria-hidden":!0}),(0,r.jsx)(kg.Z.Title,{children:J.Z.Messages.GUILD_ROLE_SUBSCRIPTIONS_CHANNEL_LABEL})]}),(0,r.jsx)("div",{id:RM}),(0,r.jsx)("div",{className:QM().content,children:l?(0,r.jsx)(nE.u2,{className:QM().scroller,children:(0,r.jsx)("div",{className:QM().scrollerContent,children:E?(0,r.jsx)(K.$j,{}):(0,r.jsx)(UM,{guild:i})})}):(0,r.jsx)(qM,{})})]})};var rw=n(797776),ow=n(463516),iw=n(248613),aw=(0,sR.B)({kind:"user",id:"2023-02_activity_crowd_favorites_coach_mark_",label:"Activity Coach Mark Crowd Favorites",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enable Activity Coach Mark Crowd Favorites",config:{enabled:!0}}]}),sw=(0,sR.B)({kind:"user",id:"2022-11_activitiesbashoutcoachmark",label:"Bash Out Coach Mark",defaultConfig:{enabled:!1},treatments:[{id:0,label:"Control",config:{enabled:!1}},{id:1,label:"Enable Bash Out Coach Mark",config:{enabled:!0}}]}),lw=n(64833),cw=n(414247)
;function uw(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function fw(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function dw(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){fw(i,r,o,a,s,"next",e)}function s(e){fw(i,r,o,a,s,"throw",e)}a(void 0)}))}}function pw(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function hw(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return uw(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uw(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ew=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1}
;case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function yw(e){var t=e.canManageGuild,i=e.guildId,a=hw(o.useState(!1),2),s=a[0],l=a[1],c=(0,dn.wE)(fn.z$.APP_DIRECTORY_UPSELL_MODAL),u=cw.Fu.useExperiment({},{autoTrackExposure:!t&&!c}).enabled||t,f=u&&!c;o.useEffect((function(){if(f&&!s){l(!0);Te.default.track(R.rMx.DISMISSIBLE_CONTENT_SHOWN,{type:fn.z$[fn.z$.APP_DIRECTORY_UPSELL_MODAL],guild_id:i});(0,Y.ZD)(dw((function(){var e,t;return Ew(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(9932)]).then(n.bind(n,809932))]
;case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){pw(e,t,n[t])}))}return e}({guildId:i},e))}]}}))})),{onCloseCallback:function(){return(0,dn.EW)(fn.z$.APP_DIRECTORY_UPSELL_MODAL,{forceTrack:!0,dismissAction:yn.L.AUTO,guildId:i})}})}}),[i,f,s]);var d=(0,tE.QP)((function(e){return e.fullScreenLayers.length>0})),p=u&&c,h=d,E=(0,$t.bn)(fn.z$.APP_DIRECTORY_COACH_MARK);o.useEffect((function(){return function(){E&&(0,dn.EW)(fn.z$.APP_DIRECTORY_COACH_MARK,{dismissAction:yn.L.AUTO,guildId:i})}}),[i,E]);return{shouldRenderAppDirectoryCoachMark:p,hidesAppDirectoryCoachMark:h}}var mw=n(155208),bw=n(361417),gw=n(130462),Ow=n(756328),vw=n(20086);function _w(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Iw(e){Iw=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Iw(e)}function Sw(e,t){return!t||"object"!==Nw(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Tw(e,t){Tw=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Tw(e,t)}var Nw=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Cw(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Iw(e);if(t){var o=Iw(this).constructor;n=Reflect.construct(r,arguments,o)
}else n=r.apply(this,arguments);return Sw(this,n)}}var Aw={hiddenEventsAndStages:[]};function Pw(e){var t=e.eventId,n=e.stageId;null==t&&null==n||g.Z.dispatch({type:"LIVE_CHANNEL_NOTICE_HIDE",eventId:t,stageId:n})}var jw=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Tw(e,t)}(n,e);var t=Cw(n);function n(){_w(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(e){null!=e&&null!=e.hiddenEventsAndStages&&(Aw=e)};r.isLiveChannelNoticeHidden=function(e){var t=e.eventId,n=e.stageId;return!(null==n||!Aw.hiddenEventsAndStages.includes("stage-".concat(n)))||null!=t&&Aw.hiddenEventsAndStages.includes("event-".concat(t))};r.getState=function(){return Aw};r.__getLocalVars=function(){return{state:Aw}};return n}(s.ZP.PersistedStore);jw.displayName="LiveChannelNoticesStore"
;jw.persistKey="liveChannelNotices_v2";const xw=new jw(g.Z,{LIVE_CHANNEL_NOTICE_HIDE:function(e){var t=e.eventId,n=e.stageId;null!=t?Aw.hiddenEventsAndStages.push("event-".concat(t)):null!=n&&Aw.hiddenEventsAndStages.push("stage-".concat(n))},GUILD_SCHEDULED_EVENT_UPDATE:function(e){var t=e.guildScheduledEvent,n="event-".concat(t.id);!Aw.hiddenEventsAndStages.includes(n)||t.status!==ev.p1.CANCELED&&t.status!==ev.p1.COMPLETED||(Aw.hiddenEventsAndStages=Aw.hiddenEventsAndStages.filter((function(e){return e!==n})))},GUILD_SCHEDULED_EVENT_DELETE:function(e){var t=e.guildScheduledEvent,n="event-".concat(t.id);Aw.hiddenEventsAndStages.includes(n)&&(Aw.hiddenEventsAndStages=Aw.hiddenEventsAndStages.filter((function(e){return e!==n})))},STAGE_INSTANCE_DELETE:function(e){var t=e.instance,n="stage-".concat(t.id);Aw.hiddenEventsAndStages.includes(n)&&(Aw.hiddenEventsAndStages=Aw.hiddenEventsAndStages.filter((function(e){return e!==n})))}});var Rw=(0,sR.B)({kind:"guild",id:"2021-10_study_group",
label:"Student hub study group",defaultConfig:{enableStudyGroup:!1},treatments:[{id:1,label:"Enables study group sidebar",config:{enableStudyGroup:!0}}]}),Mw=function(e){o.useEffect((function(){null!=e&&e.hasFeature(R.oNc.HUB)&&Rw.trackExposure({guildId:e.id})}),[e]);var t;return Rw.useExperiment({guildId:null!==(t=null==e?void 0:e.id)&&void 0!==t?t:""},{disable:null==e||!e.hasFeature(R.oNc.HUB)})};var ww=n(82029),Zw=n(54814);function Lw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dw(e){Dw=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Dw(e)}function Uw(e,t){return!t||"object"!==Gw(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function kw(e,t){kw=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return kw(e,t)}var Gw=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Bw(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Dw(e);if(t){var o=Dw(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Uw(this,n)}}var Hw="publicUpsellChannelNoticeGuilds",Vw=new Set;var Fw=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&kw(e,t)}(n,e);var t=Bw(n);function n(){Lw(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(hn.Z,Ut.Z,pn.Z);this.syncWith([hn.Z,Ut.Z,pn.Z],R.dG4);var e
;Vw=null!==(e=new Set(Se.Z.get(Hw)))&&void 0!==e?e:new Set};r.isVisible=function(e){if(null!=e){var t=pn.Z.getMemberCount(e.id);return!Vw.has(e.id)&&null!=t&&t>=Zw.U3&&hn.Z.can(R.Plq.ADMINISTRATOR,e)&&!e.hasFeature(R.oNc.COMMUNITY)}};r.__getLocalVars=function(){return{PUBLIC_UPSELL_CHANNEL_NOTICE_GUILDS_KEY:Hw,guildIds:Vw}};return n}(s.ZP.Store);Fw.displayName="EnablePublicGuildUpsellNoticeStore";const Yw=new Fw(g.Z,{PUBLIC_UPSELL_NOTICE_DISMISS:function(e){var t=e.guildId;if(!Vw.has(t)){Vw.add(t);Se.Z.set(Hw,Vw);return!0}}});var zw=n(129230),Ww=n(75141);function Kw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qw(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Xw(e){Xw=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Xw(e)}function Qw(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){qw(e,t,n[t])}))}return e}function $w(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Jw(e,t){return!t||"object"!==tZ(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function eZ(e,t){eZ=Object.setPrototypeOf||function(e,t){e.__proto__=t
;return e};return eZ(e,t)}var tZ=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function nZ(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Xw(e);if(t){var o=Xw(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jw(this,n)}}var rZ={},oZ=function(){rZ={lastDismissedGracePeriods:{},isVisible:{}}};oZ();var iZ=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&eZ(e,t)}(n,e);var t=nZ(n);function n(){Kw(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(e){
null!=e&&(rZ=e)};r.getLastDismissedGracePeriodForGuild=function(e){return null!=rZ.lastDismissedGracePeriods[e]?rZ.lastDismissedGracePeriods[e]:null};r.isVisible=function(e){return null!=e&&(null!=rZ.isVisible[e]&&rZ.isVisible[e])};r.getState=function(){return rZ};r.__getLocalVars=function(){return{state:rZ,setDefaultState:oZ}};return n}(s.ZP.PersistedStore);iZ.displayName="GuildBoostingGracePeriodNoticeStore";iZ.persistKey="PremiumGuildGracePeriodNoticeStore";iZ.migrations=[function(e){return $w(Qw({},e),{lastDismissedGracePeriods:null!=e?Qw({},e.lastDismissedGracePeriods):{},isVisible:{}})}];const aZ=new iZ(g.Z,{GUILD_APPLIED_BOOSTS_FETCH_SUCCESS:function(e){var t=e.guildId,n=e.appliedBoosts,r=null!=rZ.lastDismissedGracePeriods[t]?rZ.lastDismissedGracePeriods[t]:null,o=null!=r&&Date.now()-r<=R.Dge,i=null!=n&&!o&&(0,Ww.Vx)(n,t);rZ=$w(Qw({},rZ),{isVisible:$w(Qw({},rZ.isVisible),qw({},t,i))})},BOOSTED_GUILD_GRACE_PERIOD_NOTICE_DISMISS:function(e){var t=e.guildId;rZ=$w(Qw({},rZ),{
lastDismissedGracePeriods:$w(Qw({},rZ.lastDismissedGracePeriods),qw({},t,Date.now())),isVisible:$w(Qw({},rZ.isVisible),qw({},t,!1))})}});function sZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lZ(e){lZ=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return lZ(e)}function cZ(e,t){return!t||"object"!==fZ(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function uZ(e,t){uZ=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return uZ(e,t)}var fZ=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function dZ(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))
;return!0}catch(e){return!1}}();return function(){var n,r=lZ(e);if(t){var o=lZ(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return cZ(this,n)}}var pZ=null;function hZ(){var e=F.default.getCurrentUser();if(null==e||e.mfaEnabled===pZ)return!1;pZ=e.mfaEnabled}var EZ=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&uZ(e,t)}(n,e);var t=dZ(n);function n(){sZ(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(F.default,ET.ZP);this.syncWith([F.default,ET.ZP],hZ)};r.isVisible=function(e){return null!=e&&e.mfaLevel===R.BpS.ELEVATED&&!1===pZ&&ET.ZP.hasElevatedPermissions(e.id)};r.__getLocalVars=function(){return{mfaEnabled:pZ}};return n}(s.ZP.Store);EZ.displayName="GuildMFAWarningStore";const yZ=new EZ(g.Z,{CONNECTION_OPEN:hZ,
GUILD_UPDATE:function(){return!0}});function mZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bZ(e){bZ=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return bZ(e)}function gZ(e,t){return!t||"object"!==vZ(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function OZ(e,t){OZ=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return OZ(e,t)}var vZ=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function _Z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=bZ(e);if(t){var o=bZ(this).constructor
;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return gZ(this,n)}}var IZ={MAX_MEMBER_COUNT:new Set};var SZ=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&OZ(e,t)}(n,e);var t=_Z(n);function n(){mZ(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(hn.Z,Ut.Z,pn.Z);this.syncWith([hn.Z,Ut.Z,pn.Z],R.dG4);Se.Z.remove(R.vID.MAX_MEMBER_COUNT_100);Se.Z.remove(R.vID.MAX_MEMBER_COUNT_250);var e;IZ[R.vID.MAX_MEMBER_COUNT]=null!==(e=new Set(Se.Z.get(R.vID.MAX_MEMBER_COUNT)))&&void 0!==e?e:new Set};r.isVisible=function(e){if(null==e)return!1;var t,n=null!==(t=pn.Z.getMemberCount(e.id))&&void 0!==t?t:0,r=hn.Z.can(R.Plq.ADMINISTRATOR,e);return!IZ[R.vID.MAX_MEMBER_COUNT].has(e.id)&&r&&e.maxMembers>0&&e.maxMembers-n<=1e4};r.__getLocalVars=function(){return{
CHANNEL_MEMBER_CAP_THRESHOLD:1e4,guildIds:IZ}};return n}(s.ZP.Store);SZ.displayName="MaxMemberCountChannelNoticeStore";const TZ=new SZ(g.Z,{MAX_MEMBER_COUNT_NOTICE_DISMISS:function(e){var t=e.guildId;if(!IZ[R.vID.MAX_MEMBER_COUNT].has(t)){IZ[R.vID.MAX_MEMBER_COUNT].add(t);Se.Z.set(R.vID.MAX_MEMBER_COUNT,IZ[R.vID.MAX_MEMBER_COUNT]);return!0}}});var NZ;!function(e){e[e.ENABLE_PUBLIC_GUILD=0]="ENABLE_PUBLIC_GUILD";e[e.APPLIED_GUILD_BOOST_GRACE_PERIOD=1]="APPLIED_GUILD_BOOST_GRACE_PERIOD";e[e.MAX_MEMBER_COUNT=2]="MAX_MEMBER_COUNT";e[e.GUILD_LIVE_CHANNEL=3]="GUILD_LIVE_CHANNEL";e[e.GUILD_MFA_WARNING=4]="GUILD_MFA_WARNING";e[e.COMMANDS_MIGRATION=5]="COMMANDS_MIGRATION";e[e.APPLICATION_SUBSCRIPTION_EXPIRATION=6]="APPLICATION_SUBSCRIPTION_EXPIRATION";e[e.HUB_STUDY_ROOM=7]="HUB_STUDY_ROOM"}(NZ||(NZ={}));function CZ(e){var t,n=null!==(t=null==e?void 0:e.id)&&void 0!==t?t:"",r=(0,s.cj)([zw.Z],(function(){return{appliedGuildBoosts:zw.Z.getAppliedGuildBoostsForGuild(n),
lastFetchedAt:zw.Z.getLastFetchedAtForGuild(n)}})).lastFetchedAt,i=(0,s.cj)([aZ],(function(){return{lastDismissedGracePeriod:aZ.getLastDismissedGracePeriodForGuild(n),isGracePeriodVisible:aZ.isVisible(n)}})),a=i.lastDismissedGracePeriod,l=i.isGracePeriodVisible,c=(0,s.e7)([Yw],(function(){return Yw.isVisible(e)})),u=(0,s.e7)([TZ],(function(){return TZ.isVisible(e)})),f=(0,s.e7)([hn.Z],(function(){return hn.Z.can(R.Plq.ADMINISTRATOR,e)})),d=null!=a&&Date.now()-a<=R.Dge,p=null!=e?e.premiumSubscriberCount:0,h=(0,Ww.rF)(p,n)!==R.Eu4.NONE,E=!(null!=r&&Date.now()-r<=432e5)&&(!d&&f&&h),y=function(e){var t,n=(0,vw.ZP)(e),r=I.Z.getChannel(null===(t=n[0])||void 0===t?void 0:t.id),o=(0,s.e7)([Ow.Z],(function(){return Ow.Z.getStageInstanceByChannel(null==r?void 0:r.id)}),[r]),i=(0,nO.k5)(e),a=(0,s.cj)([xw],(function(){return{isStageNoticeHidden:xw.isLiveChannelNoticeHidden({stageId:null==o?void 0:o.id}),isEventNoticeHidden:xw.isLiveChannelNoticeHidden({eventId:null==i?void 0:i.id})}
}),[o,i]),l=a.isStageNoticeHidden,c=a.isEventNoticeHidden;return null!=i?null!=o?!l:!c:null!=o&&!l}(n),m=(0,s.e7)([yZ],(function(){return yZ.isVisible(e)})),b=ww.Z.useShouldShowChannelNotice(n),g=(0,gw.h6)(e),O=Mw(e).enableStudyGroup,v=g.length>0,_=O&&!Boolean(null==e?void 0:e.hasFeature(R.oNc.HUB));o.useEffect((function(){var e=-1;E&&(e=window.setTimeout((function(){null!=n&&(0,bw.C0)(n)}),30*Math.random()*1e3));return function(){window.clearTimeout(e)}}),[n,E]);return c?NZ.ENABLE_PUBLIC_GUILD:l?NZ.APPLIED_GUILD_BOOST_GRACE_PERIOD:u?NZ.MAX_MEMBER_COUNT:y?NZ.GUILD_LIVE_CHANNEL:m?NZ.GUILD_MFA_WARNING:b?NZ.COMMANDS_MIGRATION:v?NZ.APPLICATION_SUBSCRIPTION_EXPIRATION:_?NZ.HUB_STUDY_ROOM:null}var AZ=n(319982),PZ=n(108870),jZ=n(464855),xZ=n(956922),RZ=n(929330),MZ=n(666722),wZ=n(586128),ZZ=n(939532),LZ=n(733346);function DZ(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function UZ(e){return function(){var t=this,n=arguments
;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){DZ(i,r,o,a,s,"next",e)}function s(e){DZ(i,r,o,a,s,"throw",e)}a(void 0)}))}}function kZ(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var GZ=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0
;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function BZ(e){var t,i=(0,wZ.SE)(e),a=Zw.$X.some((function(t){return(null==e?void 0:e.id)!==LZ._&&yc.ZP.canEveryone(t,e)})),s=(null==e?void 0:e.defaultMessageNotifications)===R.bL.ALL_MESSAGES,l=(0,ZZ.F)(fn.CW.DISABLE_UNSAFE_COMMUNITY_PERMISSIONS_NOTICE,null!==(t=null==e?void 0:e.id)&&void 0!==t?t:""),c=i&&(a||s)&&!l,u=o.useCallback((function(){var t;(0,ZZ.Q)(fn.CW.DISABLE_UNSAFE_COMMUNITY_PERMISSIONS_NOTICE,null!==(t=null==e?void 0:e.id)&&void 0!==t?t:"",!0,yn.L.DISMISS)}),[e]),f=o.useRef(!1);o.useEffect((function(){if(c&&!f.current){(0,Y.ZD)(UZ((function(){var t,o;return GZ(this,(function(i){switch(i.label){case 0:
return[4,Promise.all([n.e(40532),n.e(6321)]).then(n.bind(n,406321))];case 1:t=i.sent(),o=t.default;return[2,function(t){return(0,r.jsx)(o,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){kZ(e,t,n[t])}))}return e}({guild:e,canEveryoneModerate:a,isDefaultNotificationsAllMessages:s},t))}]}}))})),{onCloseCallback:u});var t;Te.default.track(R.rMx.DISMISSIBLE_CONTENT_SHOWN,{type:fn.CW[fn.CW.DISABLE_UNSAFE_COMMUNITY_PERMISSIONS_NOTICE],guild_id:null!==(t=null==e?void 0:e.id)&&void 0!==t?t:""});f.current=!0}}),[a,e,u,s,c])}var HZ=n(814709);var VZ=n(218276);function FZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YZ(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,
writable:!0}):e[t]=n;return e}function zZ(e){zZ=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return zZ(e)}function WZ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){YZ(e,t,n[t])}))}return e}function KZ(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function qZ(e,t){
return!t||"object"!==QZ(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function XZ(e,t){XZ=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return XZ(e,t)}var QZ=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function $Z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=zZ(e);if(t){var o=zZ(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qZ(this,n)}}var JZ="hasSeenGuildTemplatePromotionTooltip",eL={},tL=!0===Se.Z.get(JZ);function nL(e){var t=e.guildId;eL=KZ(WZ({},eL),YZ({},t,!1))}var rL=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&XZ(e,t)}(n,e);var t=$Z(n);function n(){FZ(this,n);return t.apply(this,arguments)}var r=n.prototype;r.shouldShowGuildTemplateDirtyTooltip=function(e){var t;return null!==(t=eL[e])&&void 0!==t&&t};r.shouldShowGuildTemplatePromotionTooltip=function(){return!tL};r.__getLocalVars=function(){return{HAS_SEEN_GUILD_TEMPLATE_PROMOTION_TOOLTIP_KEY:JZ,showGuildTemplateDirtyTooltipFlags:eL,seenGuildTemplatePromotionTooltip:tL}};return n}(s.ZP.Store);rL.displayName="GuildTemplateTooltipStore";const oL=new rL(g.Z,{GUILD_TEMPLATE_DIRTY_TOOLTIP_REFRESH:function(e){var t=e.guildTemplate;eL=KZ(WZ({},eL),YZ({},t.source_guild_id,t.is_dirty||!1))},GUILD_TEMPLATE_PROMOTION_TOOLTIP_HIDE:function(){Se.Z.set(JZ,!0);tL=!0},GUILD_TEMPLATE_SYNC_SUCCESS:function(e){
eL=KZ(WZ({},eL),YZ({},e.guildTemplate.source_guild_id,!1))},GUILD_TEMPLATE_DIRTY_TOOLTIP_HIDE:nL,GUILD_TEMPLATE_DELETE_SUCCESS:nL});var iL,aL=n(517959),sL=n(727087),lL=n(512878),cL=n(49744),uL=n(972355),fL=n(973381),dL=n(875673),pL=n(525709),hL=n(803204),EL=n(145072),yL=n(796080),mL=n(224292),bL=n(101647),gL=n(732031),OL=n(154636),vL=n(783987),_L=n.n(vL),IL=n(50976),SL=n.n(IL),TL=function(e){var t=e.markAsDismissed,n=F.default.getCurrentUser(),o=(0,OL.I5)(n),i=J.Z.Messages.SUPER_REACTION_COACHMARK_DESCRIPTION.format({helpdeskArticle:$.Z.getArticleURL(R.BhN.SUPER_REACTIONS)}),a=null==n?void 0:n.premiumType,s=null!=a?(0,qi.Px)(a):null;if(o&&null!=s){var l=(0,bL.UY)(n);i=J.Z.Messages.SUPER_REACTION_COACHMARK_NITRO_DESCRIPTION.format({helpdeskArticle:$.Z.getArticleURL(R.BhN.SUPER_REACTIONS),refillAmount:l,premiumTier:s})}return(0,r.jsx)("div",{className:_L().wrapper,children:(0,r.jsx)("div",{className:_L().container,children:(0,r.jsxs)("div",{className:_L().content,children:[(0,
r.jsx)("img",{className:_L().banner,src:SL(),alt:"","aria-label":""}),(0,r.jsxs)("div",{className:_L().header,children:[(0,r.jsx)(gL.Z,{width:14,height:14}),(0,r.jsx)(K.X6,{className:_L().headerText,variant:"heading-md/bold",color:"always-white",children:J.Z.Messages.SUPER_REACTION_COACHMARK_TITLE})]}),(0,r.jsx)(K.xv,{className:_L().subheaderText,variant:"text-sm/normal",color:"always-white",children:i}),(0,r.jsx)("div",{className:_L().ctaActionWrapper,children:o?(0,r.jsx)(K.zx,{className:_L().readyButton,color:K.zx.Colors.BRAND,look:K.zx.Looks.INVERTED,onClick:function(){return t()},children:J.Z.Messages.TUTORIAL_CLOSE}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(K.zx,{color:K.zx.Colors.BRAND,look:K.zx.Looks.BLANK,onClick:function(){return t()},children:J.Z.Messages.DISMISS}),(0,r.jsx)(K.zx,{color:K.zx.Colors.BRAND,look:K.zx.Looks.INVERTED,onClick:function(){(0,mL.Z)({subscriptionTier:Ji.Si.TIER_2,analyticsLocations:[Of.Z.BURST_REACTION_TUTORIAL_COACHMARK],analyticsObject:{
object:R.qAy.BUTTON_CTA,section:R.jXE.NOTIFICATION_BAR},onClose:function(){return t()}});t()},children:J.Z.Messages.PREMIUM_SETTINGS_GET})]})})]})})})},NL=n(827449),CL=n(35599),AL=n(823343),PL=n(428801),jL=n(109813),xL=n(741093),RL=n.n(xL);!function(e){e.BOOSTING="BOOSTING";e.NITRO="NITRO";e.BASH_OUT="BASH_OUT";e.CROWD_FAVORITES="CROWD_FAVORITES"}(iL||(iL={}));var ML="https://cdn.discordapp.com/attachments/860252504826445825/1029516100356018217/Activities_NUX_GL_1.mp4",wL="https://cdn.discordapp.com/attachments/887469171804356628/916446867586416660/activities-video-poster-512.png";var ZL=function(e){var t=e.channelId,n=e.markAsDismissed,i=function(e){var t=(0,s.e7)([F.default],(function(){return F.default.getCurrentUser()})),n=qi.ZP.canUsePremiumActivities(t);switch(e){case iL.BOOSTING:return{analyticsLocation:Of.Z.ACTIVITY_COACH_MARK_BOOSTING,analyticsType:"embedded_activity_discovery_tutorial",description:J.Z.Messages.EMBEDDED_ACTIVITY_NOTICE_WTP_DESCRIPTION,learnMore:!0,
title:J.Z.Messages.EMBEDDED_ACTIVITY_NOTICE_TITLE,videoPosterUrl:wL,videoUrl:ML,ctaText:J.Z.Messages.EMBEDDED_ACTIVITIES_TRY_IT_OUT,dismissText:J.Z.Messages.DISMISS};case iL.NITRO:return{analyticsLocation:Of.Z.ACTIVITY_COACH_MARK_NITRO,analyticsType:"embedded_activity_nitro_discovery_tutorial",description:J.Z.Messages.EMBEDDED_ACTIVITY_NOTICE_NITRO_DESCRIPTION,learnMore:!0,title:J.Z.Messages.EMBEDDED_ACTIVITY_NOTICE_NITRO_TITLE,videoPosterUrl:wL,videoUrl:ML,ctaText:J.Z.Messages.EMBEDDED_ACTIVITIES_TRY_IT_OUT,dismissText:J.Z.Messages.DISMISS};case iL.BASH_OUT:return{analyticsLocation:Of.Z.ACTIVITY_COACH_MARK_BASH_OUT,analyticsType:"embedded_activity_bash_out_tutorial",description:J.Z.Messages.EMBEDDED_ACTIVITY_NOTICE_BASH_OUT_DESCRIPTION,learnMore:!1,title:J.Z.Messages.EMBEDDED_ACTIVITIES_AVAILABLE_NOW,videoPosterUrl:"https://cdn.discordapp.com/attachments/860252504826445825/1037963592227635230/bash_out.jpg",
videoUrl:"https://cdn.discordapp.com/attachments/860252504826445825/1037967755955146762/bash_out.mp4",ctaText:J.Z.Messages.PLAY,dismissText:J.Z.Messages.DISMISS};case iL.CROWD_FAVORITES:return n?{analyticsLocation:Of.Z.ACTIVITY_COACH_MARK_POKER,analyticsType:"embedded_activity_poker_tutorial",description:J.Z.Messages.EMBEDDED_ACTIVITY_POKER_NIGHT_DESCRIPTION,learnMore:!1,title:J.Z.Messages.EMBEDDED_ACTIVITY_POKER_NIGHT_TITLE,videoPosterUrl:"https://cdn.discordapp.com/attachments/860252504826445825/1075159083566501898/out.jpg",videoUrl:"https://cdn.discordapp.com/attachments/860252504826445825/1075158773506785301/Desktop_Coachmark_-_Poker_Night_2.0.mp4",ctaText:J.Z.Messages.PLAY_NOW,dismissText:J.Z.Messages.MAYBE_LATER}:{analyticsLocation:Of.Z.ACTIVITY_COACH_MARK_CROWD_FAVORITES,analyticsType:"embedded_activity_crowd_favorites_tutorial",description:J.Z.Messages.EMBEDDED_ACTIVITY_NOTICE_CROWD_FAVORITES_DESCRIPTION,learnMore:!1,
title:J.Z.Messages.EMBEDDED_ACTIVITY_NOTICE_CROWD_FAVORITES_TITLE,videoPosterUrl:"https://cdn.discordapp.com/attachments/860252504826445825/1071140980910211154/activities-crowd-favorites.jpg",videoUrl:"https://cdn.discordapp.com/attachments/860252504826445825/1071140981275103242/activities-crowd-favorites.mp4",ctaText:J.Z.Messages.PLAY_NOW,dismissText:J.Z.Messages.MAYBE_LATER};default:return{analyticsLocation:Of.Z.ACTIVITY_COACH_MARK_NITRO,analyticsType:"",description:"",learnMore:!1,title:"",videoPosterUrl:"",videoUrl:"",ctaText:"",dismissText:""}}}(e.tutorialType),a=i.analyticsLocation,l=i.analyticsType,c=i.ctaText,u=i.dismissText,f=i.description,d=i.learnMore,p=i.title,h=i.videoPosterUrl,E=i.videoUrl,y=(0,lw.Z)(a),m=y.analyticsLocations,b=y.AnalyticsLocationProvider;o.useEffect((function(){Te.default.track(R.rMx.TOOLTIP_VIEWED,{type:l})}),[l]);var g=(0,CL.bp)()===R.IlC.POPOUT,O=(0,s.e7)([I.Z],(function(){return I.Z.getChannel(t)}),[t]);return(0,r.jsx)(b,{children:(0,r.jsx)("div",{
className:RL().wrapper,children:(0,r.jsx)("div",{className:RL().container,children:(0,r.jsxs)("div",{className:RL().content,children:[(0,r.jsx)(jL.Z,{className:RL().video,src:E,poster:h,width:224,height:126,loop:!0,muted:!0,autoPlay:!0}),(0,r.jsx)("div",{className:RL().header,children:(0,r.jsx)(K.X6,{className:RL().headerText,variant:"text-sm/bold",color:"always-white",children:p})}),(0,r.jsxs)(K.xv,{className:RL().subheaderText,variant:"text-xs/normal",color:"always-white",children:[f,d?(0,r.jsxs)(r.Fragment,{children:[" ",(0,r.jsx)(K.ee,{className:RL().learnMoreLink,href:"https://support.discord.com/hc/articles/4422142836759",children:J.Z.Messages.LEARN_MORE})]}):null]}),(0,r.jsxs)("div",{className:RL().ctaActionWrapper,children:[(0,r.jsx)(K.zx,{color:K.zx.Colors.BRAND,onClick:function(){n()},children:u}),(0,r.jsx)(K.zx,{color:K.zx.Colors.BRAND,look:K.zx.Looks.INVERTED,onClick:function(){n();if(null!=O){(0,PL.Z)({channel:O.isGuildVoice()?O:void 0,guildId:O.guild_id,locationObject:{
page:R.ZY5.GUILD_CHANNEL,section:R.jXE.GUILD_CHANNEL_LIST,object:R.qAy.ACTIVITIES_COACH_MARK,objectType:R.Qqv.ACTIVITY},openInPopout:g,analyticsLocations:m});(0,AL.w1)(O.guild_id)}},children:c})]})]})})})})},LL=n(807370),DL=n(404769),UL=n(722100),kL=n.n(UL),GL=n(694111),BL=n.n(GL);function HL(e){var t=e.guild,n=e.markAsDismissed;return(0,r.jsx)(hL.ZP,{header:J.Z.Messages.DISCOVERY_LANDING_PAGE_UPSELL_TITLE,content:J.Z.Messages.DISCOVERY_LANDING_PAGE_UPSELL_DESCRIPTION,asset:(0,r.jsx)("div",{className:kL().image,children:(0,r.jsx)("img",{alt:"",src:BL()})}),buttonCTA:J.Z.Messages.DISCOVERY_LANDING_PAGE_UPSELL_BUTTON_ACCEPT,onClick:function(e){!function(e,t){t&&Er.Z.open(e.id,R.pNK.DISCOVERY_LANDING_PAGE)}(t,!0)},secondaryButtonCTA:J.Z.Messages.DISCOVERY_LANDING_PAGE_UPSELL_BUTTON_DISMISS,onSecondaryClick:function(){},markAsDismissed:n})}var VL=n(292607),FL=n(812099),YL=n.n(FL);function zL(e){var t=e.onClick,n=e.onSecondaryClick,i=e.onComponentMount,a=e.markAsDismissed
;o.useEffect((function(){null==i||i()}),[i]);var s=o.useCallback((function(e){t(e);null==a||a(yn.L.PRIMARY)}),[t,a]),l=o.useCallback((function(){null==n||n();null==a||a(yn.L.SECONDARY)}),[n,a]);return(0,r.jsxs)("div",{className:YL().tooltipWrapper,children:[(0,r.jsx)(K.X6,{className:YL().tooltipHeader,variant:"heading-md/semibold",children:J.Z.Messages.SERVER_DISCOVERY_TOOLTIP_TITLE}),(0,r.jsx)(K.xv,{className:YL().tooltipText,variant:"text-sm/normal",children:J.Z.Messages.SERVER_DISCOVERY_TOOLTIP_DESCRIPTION.format({count:VL.WZ})}),(0,r.jsxs)("div",{className:YL().buttonsContainer,children:[(0,r.jsx)(K.zx,{fullWidth:!0,size:K.zx.Sizes.SMALL,color:K.zx.Colors.BRAND,onClick:s,children:J.Z.Messages.LEARN_MORE}),(0,r.jsx)(K.zx,{fullWidth:!0,size:K.zx.Sizes.SMALL,look:K.zx.Looks.BLANK,onClick:l,children:J.Z.Messages.NO_THANKS})]})]})}var WL=n(997903),KL=n(808433),qL=n(114573),XL=n(402919),QL=n(905174),$L=n.n(QL);function JL(){var e=(0,XL.j)(!0);return(0,r.jsx)("div",{children:(0,
r.jsx)(cg.ZP,{src:e,size:cg.ZP.Sizes.SIZE_40,"aria-label":J.Z.Messages.GUILD_AUTOMOD_USERNAME})})}function eD(e){var t=e.guildId,n=e.onDismissed,i=e.contentHeader,a=e.contentBody,s=e.acceptButtonText,l=e.dismissButtonText,c=e.imageHeader,u=e.analyticsTooltipViewedType,f=e.onAccept,d=e.onInitialized,p=null!=f?f:function(){n();Er.Z.open(t,R.pNK.GUILD_AUTOMOD);Er.Z.setSection(R.pNK.GUILD_AUTOMOD)};o.useEffect((function(){null!=d&&d()}),[d]);return(0,r.jsx)(hL.ZP,{className:$L().message,header:i,content:a,onComponentMount:function(){null!=u&&Te.default.track(R.rMx.TOOLTIP_VIEWED,{type:u,location:{page:R.ZY5.GUILD_CHANNEL}})},asset:(0,r.jsx)("div",{className:$L().container,children:(0,r.jsxs)("div",{className:$L().card,children:[(0,r.jsx)(JL,{}),(0,r.jsxs)("div",{className:$L().content,children:[(0,r.jsxs)("div",{className:$L().name,children:[(0,r.jsx)(K.xv,{variant:"text-sm/semibold",color:"text-brand",className:$L().nameText,
children:null!=c?c:J.Z.Messages.GUILD_AUTOMOD_DEFAULT_UPSELL_ASSET_HEADER}),(0,r.jsx)(qL.Z,{width:16,height:16,color:WL.Z.BLUE_345,className:$L().shield})]}),(0,r.jsx)("div",{className:$L().spoiler})]})]})}),buttonCTA:null!=s?s:J.Z.Messages.GUILD_AUTOMOD_DEFAULT_UPSELL_CTA,onClick:p,secondaryButtonCTA:null!=l?l:J.Z.Messages.GUILD_AUTOMOD_DEFAULT_UPSELL_DISMISSAL,markAsDismissed:n})}function tD(e){var t=e.guildId,n=e.onDismissed;return(0,r.jsx)(eD,{guildId:t,onDismissed:n,contentHeader:J.Z.Messages.GUILD_AUTOMOD_CUSTOM_BLOCK_MESSAGE_UPSELL_HEADER,contentBody:J.Z.Messages.GUILD_AUTOMOD_CUSTOM_BLOCK_MESSAGE_UPSELL_CONTENT.format(),analyticsTooltipViewedType:"guild_automod_custom_block_message"})}function nD(e){var t=e.guildId,n=e.onDismissed;return(0,r.jsx)(eD,{guildId:t,onDismissed:n,imageHeader:J.Z.Messages.GUILD_MENTION_RAID_LIMIT_UPSELL_ASSET_HEADER,contentHeader:J.Z.Messages.GUILD_MENTION_RAID_LIMIT_UPSELL_HEADER,contentBody:J.Z.Messages.GUILD_MENTION_RAID_LIMIT_UPSELL_CONTENT,
analyticsTooltipViewedType:"guild_mention_raid_limit",onAccept:function(){n();Er.Z.open(t,R.pNK.GUILD_AUTOMOD);Er.Z.setSection(R.pNK.GUILD_AUTOMOD,R.KsC.AUTOMOD_MENTION_SPAM)}})}function rD(e){var t=e.guildId,n=e.onDismissed;return(0,r.jsx)(eD,{guildId:t,onDismissed:n,imageHeader:J.Z.Messages.GUILD_ANTIRAID_UPSELL_ASSET_HEADER,contentHeader:J.Z.Messages.GUILD_ANTIRAID_UPSELL_HEADER,contentBody:J.Z.Messages.GUILD_ANTIRAID_UPSELL_CONTENT.format(),analyticsTooltipViewedType:"guild_anti_raid_upsell",dismissButtonText:J.Z.Messages.GUILD_ANTIRAID_UPSELL_DISMISSAL,onAccept:function(){n();Er.Z.open(t,R.pNK.MODERATION)},onInitialized:function(){KL.l.trackExposure({guildId:t})}})}var oD=n(714523),iD=n(323167),aD=n.n(iD),sD=n(204186),lD=n.n(sD);function cD(e){var t=e.guildId,n=e.markAsDismissed,o=(0,DT.ZP)([Ut.Z,F.default],(function(){var e=F.default.getCurrentUser(),n=Ut.Z.getGuild(t);return!0===(null==n?void 0:n.isOwner(e))}));(0,Wp.Z)({type:W.nv.POPOUT,
name:W.zs.CREATOR_PROMO_PAGE_GUILD_HEADER_UPSELL,properties:{guild_id:t,is_owner:o}});return(0,r.jsx)("div",{className:aD().container,children:(0,r.jsx)(hL.ZP,{header:J.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PROMO_PAGE_UPSELL_HEADER,content:J.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PROMO_PAGE_UPSELL_BODY,asset:(0,r.jsx)("div",{className:aD().image,children:(0,r.jsx)("img",{alt:J.Z.Messages.GUILD_ROLE_SUBSCRIPTION_UPSELL_IMG_ALT,src:lD(),className:aD().image})}),buttonCTA:J.Z.Messages.CHECK_IT_OUT,onClick:function(){Er.Z.open(t,R.pNK.ROLE_SUBSCRIPTIONS_STORE_PAGE)},secondaryButtonCTA:J.Z.Messages.DISMISS,markAsDismissed:n})})}var uD=n(743861),fD=n.n(uD);function dD(e){var t=e.guildId,n=e.markAsDismissed,o=(0,DT.ZP)([Ut.Z,F.default],(function(){var e=F.default.getCurrentUser(),n=Ut.Z.getGuild(t);return!0===(null==n?void 0:n.isOwner(e))}));(0,Wp.Z)({type:W.nv.POPOUT,name:W.zs.ENABLE_CREATOR_MONETIZATION_GUILD_HEADER_UPSELL,properties:{guild_id:t,is_owner:o}});return(0,r.jsx)("div",{
className:fD().container,children:(0,r.jsx)(hL.ZP,{header:J.Z.Messages.GUILD_ROLE_SUBSCRIPTION_UPSELL_HEADER,content:J.Z.Messages.GUILD_ROLE_SUBSCRIPTION_UPSELL_BODY,asset:(0,r.jsx)("div",{className:fD().image,children:(0,r.jsx)("img",{alt:J.Z.Messages.GUILD_ROLE_SUBSCRIPTION_UPSELL_IMG_ALT,src:KM(),className:fD().image})}),buttonCTA:J.Z.Messages.GUILD_ROLE_SUBSCRIPTIONS_UPSELL_CTA,onClick:function(){Er.Z.open(t,R.pNK.ROLE_SUBSCRIPTIONS)},secondaryButtonCTA:J.Z.Messages.DISMISS,markAsDismissed:n})})}var pD=n(755122),hD=n.n(pD);function ED(e){var t=e.markAsDismissed;return(0,r.jsxs)("div",{className:hD().container,children:[(0,r.jsx)("div",{className:hD().pointer}),(0,r.jsx)(K.xv,{variant:"text-sm/normal",className:hD().content,children:J.Z.Messages.HUB_PRIVACY_SETTINGS_TOOLTIP}),(0,r.jsx)(K.zx,{look:K.zx.Looks.INVERTED,fullWidth:!0,onClick:function(){t(yn.L.AUTO)},children:J.Z.Messages.GOT_IT})]})}
var yD=n(830504),mD=n(636443),bD=n.n(mD),gD=n(590190),OD=n.n(gD),vD=n(998240),_D=n.n(vD),ID=n(810540),SD=n.n(ID),TD=n(705206),ND=n.n(TD),CD=n(567012),AD=n.n(CD),PD=n(862470),jD=n.n(PD);function xD(e){null!=e&&Er.Z.open(e.id,R.pNK.OVERVIEW,{section:R.jXE.PREMIUM_GUILD_PROGRESS_BAR},R.KsC.DISPLAY)}function RD(e,t){t&&Er.Z.open(e.id,R.pNK.DISCOVERY)}function MD(e,t){null!=t&&((0,Ww.f2)(t,R.Eu4.TIER_1)?Er.Z.open(t.id,R.pNK.OVERVIEW,{section:R.jXE.PREMIUM_GUILD_INVITE_SPLASH},R.KsC.INVITE):(0,oD.Z)({analyticsLocations:e,analyticsSourceLocation:R.jXE.PREMIUM_GUILD_INVITE_SPLASH,guild:t,perks:(0,yD.o9)()}))}function wD(e){var t=e.renderPopout,n=e.renderGuildHeaderDropdownButton;return(0,r.jsx)(xg.ZP,{renderPopout:function(){return(0,r.jsx)("div",{onClick:function(e){return e.stopPropagation()},children:t})},position:xg.ZP.Positions.BOTTOM,align:xg.ZP.Align.CENTER,animation:xg.ZP.Animation.TRANSLATE,shouldShow:!0,children:function(){return n()}})}const ZD=o.memo((function(e){
var t=e.contentTypes,n=e.theme,o=e.guild,i=e.canManageRoles,a=e.renderGuildHeaderDropdownButton,s=e.hidesAppDirectoryCoachMark,l=e.useReducedMotion,c=(0,lw.Z)().analyticsLocations,u=function(){Te.default.track(R.rMx.TOOLTIP_VIEWED,{type:Ji.cd.PREMIUM_PROGRESS_BAR,location:{page:R.ZY5.GUILD_CHANNEL}})},f=function(){Te.default.track(R.rMx.PREMIUM_UPSELL_VIEWED,{type:Ji.cd.INVITE_SPLASH_UPSELL,location:{page:R.ZY5.GUILD_CHANNEL},location_stack:c})},d=n===Ol.BR.DARK?AD():jD();return(0,r.jsx)(LT.Z,{contentTypes:t,groupName:yn.R.GUILD_HEADER_TOOLTIPS,children:function(e){var t=e.visibleContent,n=e.markAsDismissed;switch(t){case fn.z$.GUILD_MENTION_RAID_LIMIT:return(0,r.jsx)(wD,{renderPopout:(0,r.jsx)(nD,{guildId:o.id,onDismissed:n}),renderGuildHeaderDropdownButton:a});case fn.z$.GUILD_AUTOMOD_CUSTOM_BLOCK_MESSAGE:return(0,r.jsx)(wD,{renderPopout:(0,r.jsx)(tD,{guildId:o.id,onDismissed:n}),renderGuildHeaderDropdownButton:a});case fn.z$.ANTI_RAID_SAFETY_ALERT_NOTICE:return(0,r.jsx)(wD,{
renderPopout:(0,r.jsx)(rD,{guildId:o.id,onDismissed:n}),renderGuildHeaderDropdownButton:a});case fn.z$.GUILD_HEADER_PREMIUM_GUILD_PROGRESS:return(0,r.jsx)(wD,{renderPopout:(0,r.jsx)(hL.ZP,{onComponentMount:u,header:J.Z.Messages.PREMIUM_PROGRESS_BAR_GUILD_HEADER_TOOLTIP_TITLE,asset:(0,r.jsx)("img",{alt:"",src:d,className:OD().fullWidthImage}),content:J.Z.Messages.PREMIUM_PROGRESS_BAR_GUILD_HEADER_TOOLTIP_CONTENT.format(),buttonCTA:J.Z.Messages.PREMIUM_PROGRESS_BAR_GUILD_HEADER_TOOLTIP_CTA_PRIMARY_ROLE_SETTINGS,secondaryButtonCTA:J.Z.Messages.PREMIUM_PROGRESS_BAR_GUILD_HEADER_TOOLTIP_CTA_SECONDARY,onSecondaryClick:function(){return xD()},onClick:function(){return xD(o)},markAsDismissed:n}),renderGuildHeaderDropdownButton:a});case fn.z$.GUILD_HEADER_PROGRESS_BAR_SIZE_COACH_MARK:return(0,r.jsx)(wD,{renderPopout:(0,r.jsx)(hL.ZP,{onComponentMount:u,header:J.Z.Messages.PREMIUM_PROGRESS_BAR_GUILD_HEADER_SIZE_TOOLTIP_TITLE,asset:(0,r.jsx)("img",{alt:"",src:d,className:OD().fullWidthImage}),
content:J.Z.Messages.PREMIUM_PROGRESS_BAR_GUILD_HEADER_SIZE_TOOLTIP_CONTENT.format(),buttonCTA:J.Z.Messages.PREMIUM_PROGRESS_BAR_GUILD_HEADER_TOOLTIP_CTA_PRIMARY_ROLE_SETTINGS,secondaryButtonCTA:J.Z.Messages.PREMIUM_PROGRESS_BAR_GUILD_HEADER_TOOLTIP_CTA_SECONDARY,onSecondaryClick:function(){return xD()},onClick:function(){return xD(o)},markAsDismissed:n}),renderGuildHeaderDropdownButton:a});case fn.z$.GUILD_HEADER_ROLE_SUBSCRIPTION_UPSELL:return(0,r.jsx)(wD,{renderPopout:(0,r.jsx)(dD,{guildId:o.id,markAsDismissed:n}),renderGuildHeaderDropdownButton:a});case fn.z$.GUILD_HEADER_SERVER_DISCOVERY_TOOLTIP:return(0,r.jsx)(wD,{renderPopout:(0,r.jsx)(zL,{onClick:function(){return RD(o,!0)},onSecondaryClick:function(){return RD(o)},markAsDismissed:n}),renderGuildHeaderDropdownButton:a});case fn.z$.GUILD_DISCOVERY_LANDING_PAGE_SETTINGS_UPSELL:return(0,r.jsx)(wD,{renderPopout:(0,r.jsx)(HL,{guild:o,markAsDismissed:n}),renderGuildHeaderDropdownButton:a});case fn.z$.GUILD_HEADER_INVITE_SPLASH:
var p=(0,Ww.f2)(o,R.Eu4.TIER_1)?J.Z.Messages.INVITE_SPLASH_GUILD_HEADER_TOOLTIP_CONTENT.format():J.Z.Messages.INVITE_SPLASH_GUILD_HEADER_TOOLTIP_CONTENT_LOCKED.format({boostCount:(0,Ww.KK)(o,R.Eu4.TIER_1)}),h=(0,Ww.f2)(o,R.Eu4.TIER_1)?J.Z.Messages.INVITE_SPLASH_GUILD_HEADER_TOOLTIP_CTA_PRIMARY_ROLE_SETTINGS:J.Z.Messages.LEARN_MORE;return(0,r.jsx)(wD,{renderPopout:(0,r.jsx)(hL.ZP,{onComponentMount:f,header:J.Z.Messages.INVITE_SPLASH_GUILD_HEADER_TOOLTIP_TITLE,asset:(0,r.jsx)("img",{alt:"",src:ND(),className:OD().fullWidthImage}),content:p,buttonCTA:h,secondaryButtonCTA:J.Z.Messages.INVITE_SPLASH_GUILD_HEADER_TOOLTIP_CTA_SECONDARY,onSecondaryClick:function(){return MD(c)},onClick:function(){return MD(c,o)},markAsDismissed:n}),renderGuildHeaderDropdownButton:a});case fn.z$.GUILD_HEADER_APPLICATION_COMMAND_PERMISSIONS:return(0,r.jsx)(wD,{renderPopout:(0,r.jsx)(hL.ZP,{header:J.Z.Messages.INTEGRATIONS_PERMISSIONS_TOOLTIP_HEADER,asset:(0,r.jsx)("img",{alt:"",src:_D(),
className:bD().tooltipIntegrationsPermissionsAsset}),content:J.Z.Messages.INTEGRATIONS_PERMISSIONS_TOOLTIP_CONTENT,buttonCTA:J.Z.Messages.INTEGRATIONS_PERMISSIONS_TOOLTIP_CTA,onClick:function(){Er.Z.open(o.id,R.pNK.INTEGRATIONS)},secondaryButtonCTA:J.Z.Messages.DISMISS,markAsDismissed:n}),renderGuildHeaderDropdownButton:a});case fn.z$.STUDENT_HUB_PRIVACY_SETTINGS_TOOLTIP:return(0,r.jsx)(wD,{renderPopout:(0,r.jsx)(ED,{markAsDismissed:n}),renderGuildHeaderDropdownButton:a});case fn.z$.GUILD_HEADER_ACTIVE_THREADS_NOTICE:return(0,r.jsx)(wD,{renderPopout:(0,r.jsx)(hL.ZP,{className:bD().tooltipOverrideColor,header:J.Z.Messages.ACTIVE_THREADS_UPSELL_HEADER,content:J.Z.Messages.ACTIVE_THREADS_UPSELL_CONTENT,buttonCTA:J.Z.Messages.GOT_IT,onClick:function(){return n()},markAsDismissed:n}),renderGuildHeaderDropdownButton:a});case fn.z$.APP_DIRECTORY_COACH_MARK:return(0,r.jsx)(wD,{renderPopout:(0,r.jsx)(hL.ZP,{className:s?bD().visibilityHidden:void 0,
header:J.Z.Messages.APP_DIRECTORY_COACHMARK_HEADER,content:J.Z.Messages.APP_DIRECTORY_COACHMARK,asset:(0,r.jsx)("img",{alt:"",src:SD(),className:bD().tooltipAsset}),buttonCTA:J.Z.Messages.GOT_IT,onClick:function(){return n()},markAsDismissed:n}),renderGuildHeaderDropdownButton:a});case fn.z$.VERIFIED_ROLES_COACH_MARK:var E=i?"https://cdn.discordapp.com/attachments/1049469146498334781/1049763848305000458/linked_roles_admin_nux_final.mp4":"https://cdn.discordapp.com/attachments/1049469146498334781/1049763935072550952/Linked_roles_member_nux_final.mp4";return(0,r.jsx)(wD,{renderPopout:(0,r.jsx)(hL.ZP,{className:bD().tooltipContainer,onComponentMount:function(){return function(e){Te.default.track(R.rMx.TOOLTIP_VIEWED,{type:e?"VERIFIED_ROLES_ADMIN_COACH_MARK":"VERIFIED_ROLES_COACH_MARK",location:{page:R.ZY5.GUILD_CHANNEL}})}(i)},header:(0,r.jsxs)(r.Fragment,{children:[i?J.Z.Messages.VERIFIED_ROLES_ADMIN_COACHMARK_HEADER:J.Z.Messages.VERIFIED_ROLES_COACHMARK_HEADER,(0,r.jsx)(wb.Z,{
className:bD().betaTag,color:(0,pN.Lq)(R.Ilk.WHITE_500)})]}),headerClassName:bD().tooltipHeaderContainer,asset:(0,r.jsx)(jL.Z,{className:bD().tooltipVideo,src:E,loop:!0,autoPlay:!l,width:240,height:135}),content:(i?J.Z.Messages.VERIFIED_ROLES_ADMIN_COACHMARK_CONTENT:J.Z.Messages.VERIFIED_ROLES_COACHMARK_CONTENT).format({helpdeskArticle:$.Z.getArticleURL(R.BhN.CONNECTION_DETAILS)}),buttonCTA:J.Z.Messages.CHECK_IT_OUT,secondaryButtonCTA:J.Z.Messages.DISMISS,onClick:function(){if(i){Er.Z.init(o.id);Er.Z.open(o.id,R.pNK.ROLES)}else(0,DL.Am)(o.id)},markAsDismissed:function(){!function(e){Te.default.track(R.rMx.DISMISSIBLE_CONTENT_DISMISSED,{type:e?"VERIFIED_ROLES_ADMIN_COACH_MARK":"VERIFIED_ROLES_COACH_MARK",location:{page:R.ZY5.GUILD_CHANNEL}})}(i);n()}}),renderGuildHeaderDropdownButton:a});case fn.z$.CREATOR_PROMO_PAGE_COACH_MARK:return(0,r.jsx)(wD,{renderPopout:(0,r.jsx)(cD,{guildId:o.id,markAsDismissed:n}),renderGuildHeaderDropdownButton:a});default:return a()}}})}))
;var LD=n(75736),DD=(0,sR.B)({kind:"user",id:"2022-12_channel_notice_redesign",label:"Channel Notice Redesign",defaultConfig:{showRedesignedChannelNotice:!1,showRedesignedLiveChannelNotice:!1},treatments:[{id:1,label:"Show Redesigned Channel Notices",config:{showRedesignedChannelNotice:!0,showRedesignedLiveChannelNotice:!1}},{id:2,label:"Show Redesigned Stage/Event Notices",config:{showRedesignedChannelNotice:!1,showRedesignedLiveChannelNotice:!0}},{id:3,label:"Show Redesigned Channel Notices & Stage/Event Notices",config:{showRedesignedChannelNotice:!0,showRedesignedLiveChannelNotice:!0}}]});function UD(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=DD.useExperiment({},{autoTrackExposure:e}),n=t.showRedesignedChannelNotice,r=t.showRedesignedLiveChannelNotice;return{showRedesignedChannelNotice:n,showRedesignedLiveChannelNotice:r}}var kD=n(993176),GD=n.n(kD);function BD(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n
;return e}var HD=(0,rs.debounce)(yb.ZP.trackWithMetadata,500);const VD=function(e){var t=e.guild,n=e.title,i=e.message,a=e.image,s=e.type,l=e.imageMarginX,c=e.imageMarginTop,u=e.trackingSource,f=e.undismissable,d=e.onDismissed,p=e.onClick,h=e.cta,E=e.ctaColor;o.useEffect((function(){HD(R.rMx.CHANNEL_NOTICE_VIEWED,{notice_type:s,guild_id:t.id})}),[t.id,s]);var y=null;"function"==typeof h?y=h():null!=h&&(y=(0,r.jsx)(K.zx,{className:GD().button,size:K.zx.Sizes.SMALL,onClick:function(){null!=s&&Te.default.track(R.rMx.CHANNEL_NOTICE_CTA_CLICKED,{source:u,guild_id:t.id,notice_type:s});null==p||p()},fullWidth:!0,color:E,children:h}));var m=null!=l?"".concat(l,"px"):"16px";return(0,r.jsxs)("div",{className:GD().container,children:[!0===f?null:(0,r.jsx)(K.P3,{onClick:function(){yb.ZP.trackWithMetadata(R.rMx.CHANNEL_NOTICE_CLOSED,{notice_type:s});null==d||d()},className:GD().close,"aria-label":J.Z.Messages.DISMISS,children:(0,r.jsx)(Sb.Z,{className:GD().closeIcon})}),null!=a&&(0,r.jsx)("div",{
className:GD().imageContainer,style:{marginTop:"".concat(c,"px"),marginLeft:m,marginRight:m},children:(0,r.jsx)("img",{className:GD().image,src:a,alt:""})}),(0,r.jsxs)("div",{className:GD().message,children:[null!=n?(0,r.jsx)(K.xv,{variant:"text-md/medium",color:"header-primary",className:$p()(GD().title,BD({},GD().noImageTitle,null==a)),children:n}):null,(0,r.jsx)(K.xv,{variant:"text-sm/normal",color:"text-muted",children:i}),y]})]})};var FD=n(595408),YD=n.n(FD);function zD(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function WD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){zD(e,t,n[t])}))}return e}var KD=os().debounce(yb.ZP.trackWithMetadata,500),qD=function(e){
var t=e.guild,n=e.title,i=e.message,a=e.image,s=e.type,l=e.imageMarginX,c=e.imageMarginTop,u=e.trackingSource,f=e.undismissable,d=e.onDismissed,p=e.onClick,h=e.cta,E=e.ctaColor;o.useEffect((function(){KD(R.rMx.CHANNEL_NOTICE_VIEWED,{notice_type:s,guild_id:t.id})}),[t.id,s]);var y=null;"function"==typeof h?y=h():null!=h&&(y=(0,r.jsx)(K.zx,{className:YD().btn,size:K.zx.Sizes.SMALL,onClick:function(){null!=s&&Te.default.track(R.rMx.CHANNEL_NOTICE_CTA_CLICKED,{source:u,guild_id:t.id,notice_type:s});null==p||p()},fullWidth:!0,color:E,children:h}));var m=null!=l?"".concat(l,"px"):"16px";return(0,r.jsxs)("div",{className:YD().channelNotice,children:[!0===f?null:(0,r.jsx)(K.P3,{onClick:function(){yb.ZP.trackWithMetadata(R.rMx.CHANNEL_NOTICE_CLOSED,{notice_type:s});null==d||d()},className:YD().close,"aria-label":J.Z.Messages.DISMISS,children:(0,r.jsx)(Sb.Z,{className:YD().closeIcon})}),(0,r.jsx)("div",{className:YD().imageContainer,style:{marginTop:"".concat(c,"px"),marginLeft:m,marginRight:m},
children:(0,r.jsx)("img",{className:YD().image,src:a,alt:""})}),(0,r.jsxs)("div",{className:YD().message,children:[null!=n?(0,r.jsx)(K.X6,{variant:"heading-md/semibold",className:YD().title,children:n}):null,(0,r.jsx)(K.xv,{variant:"text-sm/normal",children:i}),y]})]})};const XD=function(e){return UD(!0).showRedesignedChannelNotice?(0,r.jsx)(VD,WD({},e)):(0,r.jsx)(qD,WD({},e))};var QD=n(660856),$D=n(108881),JD=n.n($D);function eU(e){var t=e.guild,n=(0,gw.h6)(t),i=function(){return(0,QD.sB)(t.id)},a=o.useMemo((function(){return new Set(n.map((function(e){return e.applicationId})))}),[n]),l=(0,s.e7)([LD.Z],(function(){return LD.Z.getApplications()})),c=o.useMemo((function(){var e=[],t=!0,n=!1,r=void 0;try{for(var o,i=a[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var s=o.value,c=l[s];null!=c&&e.push(c)}}catch(e){n=!0;r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return e}),[l,a]);if(0===c.length)return null;var u=""
;u=1===c.length?J.Z.Messages.ONE_APPLICATION_SUBSCRIPTION_EXPIRATION_CHANNEL_NOTICE_CONTENT.format({a:c[0].name}):2===c.length?J.Z.Messages.TWO_APPLICATION_SUBSCRIPTION_EXPIRATION_CHANNEL_NOTICE_CONTENT.format({a:c[0].name,b:c[1].name}):3===c.length?J.Z.Messages.THREE_APPLICATION_SUBSCRIPTION_EXPIRATION_CHANNEL_NOTICE_CONTENT.format({a:c[0].name,b:c[1].name,c:c[2].name}):J.Z.Messages.MORE_APPLICATION_SUBSCRIPTION_EXPIRATION_CHANNEL_NOTICE_CONTENT;return(0,r.jsx)(XD,{guild:t,onDismissed:i,message:u,type:R.vID.APPLICATION_SUBSCRIPTION_EXPIRATION,image:JD(),onClick:function(){i();Er.Z.open(t.id,R.pNK.INTEGRATIONS)},imageMarginTop:6,imageMarginX:46,cta:J.Z.Messages.APPLICATION_SUBSCRIPTION_EXPIRATION_CHANNEL_NOTICE_CTA})}var tU=n(229629);var nU=n(509142),rU=n.n(nU);function oU(e){var t=e.guild,n=e.markAsDismissed,o=(0,DT.ZP)([td.Z],(function(){return td.Z.getKeybindForAction(R.kg4.SAVE_CLIP)}));return null==o?null:(0,r.jsx)(XD,{image:rU(),guild:t,onDismissed:n,onClick:n,
message:J.Z.Messages.CLIPS_CHANNEL_NOTICE_EDUCATION_BODY.format({keybind:jf.BB(o.shortcut,!0)}),cta:J.Z.Messages.GOT_IT,trackingSource:R.PsQ.CLIPS_EDUCATION,type:R.vID.CLIPS_EDUCATION})}var iU=n(226867),aU=n.n(iU);function sU(e){var t=e.guild,n=e.markAsDismissed;return(0,r.jsx)(XD,{image:aU(),guild:t,onDismissed:n,onClick:function(){open($.Z.getArticleURL(R.BhN.CONNECTION_DETAILS));n()},title:J.Z.Messages.LINKED_ROLES_ADMIN_NUX_TITLE,message:J.Z.Messages.LINKED_ROLES_ADMIN_NUX_CONTENT,cta:J.Z.Messages.LEARN_MORE,trackingSource:R.PsQ.LINKED_ROLES_ADMIN_NUX,type:R.vID.LINKED_ROLES_ADMIN})}var lU=n(23943),cU=n.n(lU);const uU=function(e){var t=e.guild,n=t.id,o=(0,s.e7)([zw.Z],(function(){return zw.Z.getAppliedGuildBoostsForGuild(t.id)}));return null==o||(0,Ww._k)(o,n)<=0?null:(0,r.jsx)(XD,{guild:t,onDismissed:function(){!function(e){g.Z.dispatch({type:"BOOSTED_GUILD_GRACE_PERIOD_NOTICE_DISMISS",guildId:e})}(n)},onClick:function(){Er.Z.open(n,R.pNK.GUILD_PREMIUM)},
message:J.Z.Messages.PREMIUM_GUILD_GRACE_PERIOD_NOTICE,trackingSource:R.PsQ.GRACE_PERIOD_NOTICE,type:R.vID.GUILD_BOOSTING_GRACE_PERIOD,image:cU(),cta:J.Z.Messages.PREMIUM_GUILD_GRACE_PERIOD_NOTICE_BUTTON,ctaColor:K.Tt.PRIMARY})};var fU=n(484771),dU=n.n(fU);function pU(e){var t=e.guild,n=e.markAsDismissed,o=(0,Ww.KK)(t,R.Eu4.TIER_2),i=(0,lw.Z)(Of.Z.GUILD_BANNER_NOTICE).analyticsLocations;return(0,r.jsx)(XD,{guild:t,onDismissed:n,cta:J.Z.Messages.GUILD_BANNER_NOTICE_CTA,message:J.Z.Messages.GUILD_BANNER_NOTICE.format({boostsNeeded:o}),type:R.vID.GUILD_BANNER,image:dU(),onClick:function(){return(0,oD.Z)({analyticsLocations:i,analyticsSourceLocation:{section:R.jXE.CHANNEL_NOTICE,object:R.qAy.SERVER_BANNER_TOOLTIP},guild:t,perks:(0,yD.XO)()})},imageMarginTop:15,imageMarginX:22})}var hU=n(727869),EU=n.n(hU);function yU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mU(e){mU=Object.setPrototypeOf?Object.getPrototypeOf:function(e){
return e.__proto__||Object.getPrototypeOf(e)};return mU(e)}function bU(e,t){return!t||"object"!==OU(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function gU(e,t){gU=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return gU(e,t)}var OU=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function vU(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=mU(e);if(t){var o=mU(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return bU(this,n)}}var _U=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&gU(e,t)}(n,e);var t=vU(n);function n(){yU(this,n);var e;(e=t.apply(this,arguments)).handleButtonClick=function(){var t=e.props.guild;(0,MZ.f)({guildId:t.id,location:{section:R.jXE.CHANNEL_NOTICE,object:R.qAy.SERVER_STATUS_CTA}})};return e}n.prototype.render=function(){var e=this.props,t=e.guild,n=e.memberCount,o=e.markAsDismissed,i=null==n||n<R.gpl;return(0,r.jsx)(XD,{guild:t,onDismissed:o,onClick:this.handleButtonClick,message:i?J.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_NOTICE_SMALL_GUILD:J.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_NOTICE,cta:J.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_NOTICE_BUTTON,trackingSource:R.PsQ.GUILD_SUBSCRIPTION_NOTICE,type:R.vID.GUILD_BOOSTING,image:EU(),imageMarginX:26})};return n}(o.PureComponent);const IU=s.ZP.connectStores([pn.Z],(function(e){var t=e.guild
;return{memberCount:pn.Z.getMemberCount(t.id)}}))(_U);var SU=n(194266);function TU(e){var t,n=(0,nO.eF)(e),r=(0,vw.ZP)(e),o=I.Z.getChannel(null===(t=r[0])||void 0===t?void 0:t.id);return null!=n?n:o}var NU=n(975906);function CU(e){return(0,s.e7)([tr.default,C.Z,NU.ZP],(function(){var t=tr.default.getId();return C.Z.getVoiceChannelId()===e?NU.ZP.getPermissionsForUser(t,e):null}),[e])}var AU=n(327090),PU=n(449223);function jU(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function xU(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}
function RU(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function MU(e){var t=e.width,n=void 0===t?32:t,o=e.height,i=void 0===o?32:o,a=e.color,s=void 0===a?"currentColor":a,l=RU(e,["width","height","color"]);return(0,r.jsx)("svg",xU(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){jU(e,t,n[t])}))}return e}({},(0,Xb.Z)(l)),{width:n,height:i,viewBox:"0 0 ".concat(n," ").concat(i),fill:"none",children:(0,r.jsx)("path",{
fillRule:"evenodd",clipRule:"evenodd",d:"M8 3C7.44772 3 7 3.44772 7 4V12C7 12.5523 7.44772 13 8 13C8.55228 13 9 12.5523 9 12V4C9 3.44772 8.55228 3 8 3ZM3 6C3 5.44772 3.44772 5 4 5C4.55228 5 5 5.44772 5 6V10C5 10.5523 4.55228 11 4 11C3.44772 11 3 10.5523 3 10V6ZM11 6C11 5.44772 11.4477 5 12 5C12.5523 5 13 5.44772 13 6V10C13 10.5523 12.5523 11 12 11C11.4477 11 11 10.5523 11 10V6Z",fill:s})}))}var wU=n(806008);function ZU(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function LU(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function DU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){LU(e,t,n[t])}))}return e}function UU(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function kU(e){return function(e){if(Array.isArray(e))return ZU(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ZU(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZU(e,t)}(e)||function(){
throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var GU,BU=16,HU=12;!function(e){e[e.STAGE=0]="STAGE";e[e.EVENT_EXTERNAL=1]="EVENT_EXTERNAL";e[e.EVENT_VOICE=2]="EVENT_VOICE";e[e.STUDY_ROOM=3]="STUDY_ROOM"}(GU||(GU={}));function VU(e){var t=e.guild,n=e.isStudyRoomNotice,i=void 0!==n&&n,a=TU(t.id),l=(0,nO.k5)(t.id),c=(0,s.e7)([Ow.Z],(function(){return Ow.Z.getStageInstanceByChannel(null==a?void 0:a.id)}),[a]),u=(0,s.cj)([xw],(function(){return{isStageNoticeHidden:xw.isLiveChannelNoticeHidden({stageId:null==c?void 0:c.id}),isEventNoticeHidden:xw.isLiveChannelNoticeHidden({eventId:null==l?void 0:l.id})}}),[c,l]),f=u.isStageNoticeHidden,d=u.isEventNoticeHidden,p=(0,s.cj)([qO.Z],(function(){var e=qO.Z.getMutableParticipants(null==a?void 0:a.id,XO.pV.SPEAKER),t=null!=a?qO.Z.getParticipantCount(a.id,XO.pV.AUDIENCE):0;return{speakers:kU(new Set(e.map((function(e){return e.user})))),
listenerCount:t}}),[null==a?void 0:a.id]),h=p.speakers,E=p.listenerCount,y=(0,s.e7)([hn.Z],(function(){return hn.Z.can(R.Plq.CONNECT,a)})),m=CU(null==a?void 0:a.id),b=null==l?void 0:l.creator_id,g=(0,s.e7)([F.default],(function(){return F.default.getUser(b)}),[b]);o.useEffect((function(){null!=b&&(0,Kl.PR)(b)}),[b]);var O=o.useMemo((function(){return function(e){var t=e.guildEvent,n=e.stageInstance,o=e.activeChannel,i=e.canConnect,a=e.myRole,s=e.eventCreator,l=e.speakers,c=e.listenerCount,u=e.isEventNoticeHidden,f=e.isStageNoticeHidden,d=e.isStudyRoomNotice,p=null!=n&&null!=o&&!f;if(d&&null!=o){var h=(0,Fb.KS)(o);return{noticeType:GU.STUDY_ROOM,title:"📚☕ ".concat(o.name),location:J.Z.Messages.HUB_STUDY_ROOM_VOICE_CHANNEL_TOOLTIP,locationIcon:null!=h?(0,r.jsx)(h,{width:BU,height:BU,className:GD().locationIcon}):null,canListenIn:i,buttonText:J.Z.Messages.HUB_STUDY_ROOM_NOTICE_VOICE_CTA,users:[],overflowUsers:null}}if(null==t||u){if(p){var E=J.Z.Messages.STAGE_CHANNEL_JOIN_BUTTON
;(null==a?void 0:a.speaker)?E=J.Z.Messages.STAGE_CHANNEL_JOINED_SPEAKER_BUTTON:null!=a&&(E=J.Z.Messages.STAGE_CHANNEL_JOINED_AUDIENCE_BUTTON);return{noticeType:GU.STAGE,title:n.topic,location:o.name,locationIcon:(0,r.jsx)(wU.Z,{width:BU,height:BU,className:GD().locationIcon}),canListenIn:i,buttonText:E,onClose:function(){return Pw({stageId:null==n?void 0:n.id})},users:l.length>5?l.slice(0,5):l,overflowUsers:c<1?null:(0,r.jsxs)("div",{className:GD().pill,children:[(0,r.jsx)(PU.Z,{width:HU,height:HU,className:GD().pillIcon}),(0,r.jsx)(K.xv,{variant:"text-xs/medium",color:"header-secondary",className:GD().pillLabel,children:c})]})}}}else{if(t.entity_type===ev.WX.STAGE_INSTANCE&&p){var y=J.Z.Messages.STAGE_CHANNEL_JOIN_BUTTON;(null==a?void 0:a.speaker)?y=J.Z.Messages.STAGE_CHANNEL_JOINED_SPEAKER_BUTTON:null!=a&&(y=J.Z.Messages.STAGE_CHANNEL_JOINED_AUDIENCE_BUTTON);return{noticeType:GU.STAGE,title:n.topic,location:o.name,locationIcon:(0,r.jsx)(wU.Z,{width:BU,height:BU,
className:GD().locationIcon}),canListenIn:i,buttonText:y,onClose:function(){return Pw({stageId:null==n?void 0:n.id})},users:l.length>5?l.slice(0,5):l,overflowUsers:c<1?null:(0,r.jsxs)("div",{className:GD().pill,children:[(0,r.jsx)(PU.Z,{width:HU,height:HU,className:GD().pillIcon}),(0,r.jsx)(K.xv,{variant:"text-xs/medium",color:"header-secondary",className:GD().pillLabel,children:c})]})}}if(t.entity_type===ev.WX.EXTERNAL){var m=(0,YO.cS)(t);return null==m?{noticeType:null}:{noticeType:GU.EVENT_EXTERNAL,title:t.name,location:(0,SU.m)(m,!0),locationIcon:(0,r.jsx)(JO.Z,{width:BU,height:BU,className:GD().locationIcon}),canListenIn:!1,buttonText:J.Z.Messages.GUILD_EVENT_DETAILS_INFO_TAB_TITLE,onClose:function(){return Pw({eventId:null==t?void 0:t.id})},users:null==s?[]:[s],overflowUsers:null==t.user_count||t.user_count<1?null:(0,r.jsxs)("div",{className:GD().pill,children:[(0,r.jsx)(Rg.Z,{width:HU,height:HU,className:GD().pillIcon}),(0,r.jsx)(K.xv,{variant:"text-xs/medium",
color:"header-secondary",className:GD().pillLabel,children:t.user_count})]})}}if(t.entity_type===ev.WX.VOICE&&null!=o){var b=(0,Fb.KS)(o);return{noticeType:GU.EVENT_VOICE,title:t.name,location:o.name,locationIcon:null!=b?(0,r.jsx)(b,{width:BU,height:BU,className:GD().locationIcon}):null,canListenIn:i,buttonText:J.Z.Messages.GUILD_EVENT_JOIN,onClose:function(){return Pw({eventId:null==t?void 0:t.id})},users:null==s?[]:[s],overflowUsers:null==t.user_count||t.user_count<1?null:(0,r.jsxs)("div",{className:GD().pill,children:[(0,r.jsx)(Rg.Z,{width:HU,height:HU,className:GD().pillIcon}),(0,r.jsx)(K.xv,{variant:"text-xs/medium",color:"header-secondary",className:GD().pillLabel,children:t.user_count})]})}}}return{noticeType:null}}({guildEvent:l,stageInstance:c,activeChannel:a,canConnect:y,myRole:m,eventCreator:g,speakers:h,listenerCount:E,isEventNoticeHidden:d,isStageNoticeHidden:f,isStudyRoomNotice:i})
}),[l,c,a,y,m,g,h,E,d,f,i]),v=O.noticeType,_=O.title,I=O.location,S=O.locationIcon,T=O.canListenIn,N=O.buttonText,C=O.users,A=O.overflowUsers,P=O.onClose;if(null==v)return null;return(0,r.jsxs)("div",{className:GD().container,children:[null!=P?(0,r.jsx)(K.P3,{onClick:P,className:GD().close,"aria-label":J.Z.Messages.DISMISS,children:(0,r.jsx)(Sb.Z,{className:GD().closeIcon})}):null,(0,r.jsxs)("div",{className:GD().header,children:[(0,r.jsx)(MU,{color:(0,pN.Lq)(R.Ilk.GREEN_230),width:BU,height:BU}),(0,r.jsx)(K.xv,{variant:"text-xs/semibold",color:"text-positive",children:J.Z.Messages.LIVE})]}),(C.length>0||null!=A)&&(0,r.jsxs)("div",{className:GD().participants,children:[C.map((function(e){return(0,r.jsx)(xg.ZP,{preload:function(){return(0,Lj.Z)(e.id,e.getAvatarURL(t.id,80),{guildId:t.id})},renderPopout:function(t){return(0,r.jsx)(AU.Z,UU(DU({},t),{userId:e.id}))},position:xg.ZP.Positions.RIGHT,children:function(n){return(0,r.jsx)(cg.ZP,UU(DU({},n),{src:e.getAvatarURL(t.id,24),
"aria-label":e.username,size:cg.ZP.Sizes.SIZE_24,className:GD().avatar}))}},e.id)})),A]}),(0,r.jsx)(K.xv,{variant:"text-md/medium",color:"header-primary",className:$p()(GD().title,GD().live),children:_}),(0,r.jsxs)("div",{className:GD().locationContainer,children:[S,(0,r.jsx)(K.xv,{variant:"text-xs/normal",color:"text-muted",className:GD().location,children:I})]}),T||v===GU.EVENT_EXTERNAL?(0,r.jsx)(K.zx,{size:K.zx.Sizes.SMALL,color:K.zx.Colors.GREEN,onClick:function(){if(T){if(null==a||null==a.getGuildId())return;(0,KO.Cq)(a);(0,q.XU)(a.getGuildId(),a.id)}else{if(null==l)return;(0,hr.bO)({eventId:l.id})}},className:GD().button,fullWidth:!0,children:N}):null]})}var FU=n(204369),YU=n(139875),zU=n.n(YU);function WU(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function KU(e){return function(e){if(Array.isArray(e))return WU(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)
}(e)||function(e,t){if(!e)return;if("string"==typeof e)return WU(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WU(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var qU,XU=16,QU=o.memo((function(e){var t=e.heading,n=e.location,o=e.locationIcon,i=e.details,a=e.detailsIcon,s=e.topic,l=e.onClickCloseIcon,c=e.children;return(0,r.jsxs)("div",{className:zU().channelNotice,children:[(0,r.jsxs)("div",{className:zU().textBlock,children:[(0,r.jsx)("div",{className:zU().liveIndicator}),(0,r.jsx)(K.xv,{color:"text-positive",variant:"text-xs/bold",className:zU().liveNowText,children:t}),null!=l&&(0,r.jsx)(K.P3,{onClick:l,className:zU().closeIcon,"aria-label":J.Z.Messages.CLOSE,
children:(0,r.jsx)(Sb.Z,{height:16,width:16})})]}),(0,r.jsx)(K.xv,{color:"header-primary",variant:"text-md/semibold",className:zU().eventName,children:s}),(0,r.jsxs)("div",{className:zU().textBlock,children:[o,(0,r.jsx)(K.xv,{color:"header-secondary",variant:"text-xs/normal",className:zU().channelName,children:n}),null!=i&&null!=a&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(K.xv,{className:zU().dotDivider,color:"header-secondary",variant:"text-xs/normal",children:"•"}),a,(0,r.jsx)(K.xv,{color:"header-secondary",variant:"text-xs/normal",children:i})]})]}),c]})}));function $U(e){var t=e.guildEvent,n=e.channel,o=(0,s.Wu)([qy.ZP],(function(){return qy.ZP.getVoiceStatesForChannel(n).map((function(e){return e.user}))}),[n]),i=(0,Fb.KS)(n);return(0,r.jsx)(QU,{onClickCloseIcon:function(){return Pw({eventId:null==t?void 0:t.id})},heading:J.Z.Messages.STAGE_CHANNEL_LIVE_NOW,topic:t.name,location:n.name,locationIcon:null!=i?(0,r.jsx)(i,{width:XU,height:XU,className:zU().stageIcon}):null,
children:(0,r.jsx)(rk,{channel:n,speakers:o,voiceType:qU.VOICE})})}function JU(e){var t=e.guildEvent,n=(0,YO.cS)(t);return null==n?null:(0,r.jsx)(QU,{onClickCloseIcon:function(){return Pw({eventId:null==t?void 0:t.id})},heading:J.Z.Messages.HAPPENING_NOW,topic:t.name,location:(0,SU.m)(n,!0),locationIcon:(0,r.jsx)(JO.Z,{width:XU,height:XU,className:zU().stageIcon}),children:(0,r.jsx)(ek,{guildEvent:t})})}function ek(e){var t=e.guildEvent,n=o.useCallback((function(){(0,hr.bO)({eventId:t.id})}),[t]);return(0,r.jsx)(K.zx,{fullWidth:!0,className:zU().joinButton,onClick:n,color:K.zx.Colors.GREEN,size:K.zx.Sizes.SMALL,children:J.Z.Messages.SEE_DETAIL})}function tk(e){var t=e.channel,n=e.label;return(0,r.jsx)(K.zx,{fullWidth:!0,className:zU().joinButton,onClick:function(){if(null!=t&&null!=t.getGuildId()){(0,KO.Cq)(t);(0,q.XU)(t.getGuildId(),t.id)}},color:K.zx.Colors.GREEN,size:K.zx.Sizes.SMALL,children:n})}function nk(e){var t=e.stageInstance,n=e.channel,o=(0,s.cj)([qO.Z],(function(){
var e=qO.Z.getMutableParticipants(n.id,XO.pV.SPEAKER),t=qO.Z.getParticipantCount(n.id,XO.pV.AUDIENCE);return{speakers:KU(new Set(e.map((function(e){return e.user})))),listenerCount:t}}),[n.id]),i=o.speakers,a=o.listenerCount,l=J.Z.Messages.LISTENING_COUNT.format({count:"".concat(a)});return(0,r.jsx)(QU,{onClickCloseIcon:function(){return Pw({stageId:null==t?void 0:t.id})},heading:J.Z.Messages.STAGE_CHANNEL_LIVE_NOW,location:n.name,details:l,detailsIcon:(0,r.jsx)(PU.Z,{width:14,height:14,className:zU().stageIcon}),locationIcon:(0,r.jsx)(wU.Z,{width:XU,height:XU,className:zU().stageIcon}),topic:t.topic,children:(0,r.jsx)(rk,{channel:n,speakers:i,voiceType:qU.STAGE})})}!function(e){e[e.VOICE=1]="VOICE";e[e.STAGE=2]="STAGE";e[e.STUDY_ROOM=3]="STUDY_ROOM"}(qU||(qU={}));function rk(e){var t=e.channel,n=e.speakers,i=e.voiceType,a=t.getGuildId(),l=o.useMemo((function(){return n.slice(0,3)}),[n]),c=(0,s.e7)([hn.Z],(function(){return hn.Z.can(R.Plq.CONNECT,t)})),u=CU(t.id),f=J.Z.Messages.JOIN
;switch(i){case qU.VOICE:f=J.Z.Messages.JOIN;break;case qU.STAGE:f=J.Z.Messages.STAGE_CHANNEL_JOIN_BUTTON;(null==u?void 0:u.speaker)?f=J.Z.Messages.STAGE_CHANNEL_JOINED_SPEAKER_BUTTON:null!=u&&(f=J.Z.Messages.STAGE_CHANNEL_JOINED_AUDIENCE_BUTTON);break;case qU.STUDY_ROOM:f=J.Z.Messages.HUB_STUDY_ROOM_NOTICE_VOICE_CTA;break;default:(0,So.vE)(i)}return null==a?null:(0,r.jsxs)(r.Fragment,{children:[l.length>0?(0,r.jsxs)("div",{className:zU().textBlock,children:[(0,r.jsx)(hO.Z,{guildId:a,users:l,showUserPopout:!0,size:hO.u.SIZE_16}),(0,r.jsx)(K.xv,{color:"header-secondary",variant:"text-xs/normal",className:zU().userNames,children:(0,FU.ER)(a,l,null==t?void 0:t.id,n.length)})]}):null,c&&null==u&&(0,r.jsx)(tk,{channel:t,label:f})]})}const ok=o.memo((function(e){var t=e.guild,n=UD(!0).showRedesignedLiveChannelNotice,o=TU(t.id),i=(0,nO.k5)(t.id),a=(0,s.e7)([Ow.Z],(function(){return Ow.Z.getStageInstanceByChannel(null==o?void 0:o.id)}),[o]),l=(0,s.cj)([xw],(function(){return{
isStageNoticeHidden:xw.isLiveChannelNoticeHidden({stageId:null==a?void 0:a.id}),isEventNoticeHidden:xw.isLiveChannelNoticeHidden({eventId:null==i?void 0:i.id})}}),[a,i]),c=l.isStageNoticeHidden,u=l.isEventNoticeHidden,f=null,d=null!=a&&null!=o&&!c;if(n)return(0,r.jsx)(VU,{guild:t});null==i||u?d&&(f=(0,r.jsx)(nk,{stageInstance:a,channel:o})):i.entity_type===ev.WX.STAGE_INSTANCE&&d?f=(0,r.jsx)(nk,{stageInstance:a,channel:o}):i.entity_type===ev.WX.EXTERNAL?f=(0,r.jsx)(JU,{guildEvent:i}):i.entity_type===ev.WX.VOICE&&null!=o&&(f=(0,r.jsx)($U,{guildEvent:i,channel:o}));return f}));var ik=n(140561),ak=n.n(ik);function sk(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function lk(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){sk(i,r,o,a,s,"next",e)}function s(e){sk(i,r,o,a,s,"throw",e)}a(void 0)}))}}function ck(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,
configurable:!0,writable:!0}):e[t]=n;return e}var uk=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}
i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function fk(e){var t=e.guild,o=e.markAsDismissed;return(0,r.jsx)(XD,{guild:t,onDismissed:o,onClick:function(){(0,Y.ZD)(lk((function(){var e,t;return uk(this,(function(o){switch(o.label){case 0:return[4,Promise.resolve().then(n.bind(n,553589))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ck(e,t,n[t])}))}return e}({},e))}]}}))})))},message:J.Z.Messages.HUB_LINK_CHANNEL_NOTICE_BODY,cta:J.Z.Messages.LEARN_MORE,trackingSource:R.PsQ.HUB_LINK_NOTICE,type:R.vID.HUB_LINK,image:ak()})}var dk=n(976518),pk=n.n(dk);const hk=function(e){
var t=e.channel,n=e.guild;return(0,r.jsx)(XD,{guild:n,onDismissed:function(){(0,Jf.Kw)(Jf.v6.HUB_STUDY_ROOM_NOTICE)},onClick:function(){(0,Jf.Kw)(Jf.v6.HUB_STUDY_ROOM_NOTICE);if(null!=t&&null!=t.getGuildId()){(0,KO.Cq)(t);(0,q.XU)(t.getGuildId(),t.id)}},title:J.Z.Messages.HUB_STUDY_ROOM_NOTICE_TITLE,message:J.Z.Messages.HUB_STUDY_ROOM_NOTICE_DESCRIPTION,cta:J.Z.Messages.HUB_STUDY_ROOM_NOTICE_VOICE_CTA,image:pk(),type:R.vID.HUB_STUDY_ROOM})};var Ek=n(692657),yk=n.n(Ek);const mk=function(e){var t=e.name,n=e.channel,o=(0,s.Wu)([qy.ZP],(function(){return qy.ZP.getVoiceStatesForChannel(n).map((function(e){return e.user}))}),[n]),i=(0,Fb.KS)(n);return(0,r.jsx)(QU,{heading:J.Z.Messages.STAGE_CHANNEL_LIVE_NOW,topic:t,location:J.Z.Messages.HUB_STUDY_ROOM_VOICE_CHANNEL_TOOLTIP,locationIcon:null!=i?(0,r.jsx)(i,{width:16,height:16,className:yk().icon}):null,children:(0,r.jsx)(rk,{channel:n,speakers:o,voiceType:qU.STUDY_ROOM})})};var bk=n(495049);function gk(e){var t=e.channel,n=e.guild,o=(0,
s.e7)([Jf.qc],(function(){return Jf.qc.hasHotspot(Jf.v6.HUB_STUDY_ROOM_NOTICE)})),i=(0,bk.r)(t.guild_id),a=(0,sm.useSpring)({maxHeight:i?0:300,overflow:"hidden",delay:400});return(0,r.jsx)(sm.animated.div,{style:a,children:o?(0,r.jsx)(hk,{channel:t,guild:n}):(0,r.jsx)(mk,{name:"📚☕ ".concat(t.name),channel:t})})}const Ok=function(e){var t=e.guild,n=(0,s.e7)([ET.ZP],(function(){return ET.ZP.getChannels(t.id)[ET.Zb][0]})),o=(0,s.e7)([hn.Z],(function(){return null!=n&&hn.Z.can(R.Plq.CONNECT,n.channel)}));return t.hasFeature(R.oNc.HUB)?null==n?null:o?(0,r.jsx)(gk,{channel:n.channel,guild:t}):null:null};var vk=n(323236),_k=n.n(vk);function Ik(e){var t=e.guild,n=function(){return ww.Z.dismissNotice(t.id)};return(0,r.jsx)(XD,{guild:t,onDismissed:n,cta:J.Z.Messages.INTEGRATIONS_PERMISSIONS_TOOLTIP_CTA,message:J.Z.Messages.COMMANDS_SCOPE_MIGRATION_ADMIN_NOTICE.format(),type:R.vID.COMMANDS_MIGRATION,image:_k(),onClick:function(){n();Er.Z.open(t.id,R.pNK.INTEGRATIONS)},imageMarginTop:15,
imageMarginX:22})}var Sk=n(864244),Tk=n.n(Sk);const Nk=function(e){var t=e.guild,n=o.useCallback((function(){e=t.id,g.Z.dispatch({type:"PUBLIC_UPSELL_NOTICE_DISMISS",guildId:e});var e}),[t.id]);return(0,r.jsx)(XD,{guild:t,onDismissed:n,onClick:function(){return Er.Z.open(t.id,R.pNK.COMMUNITY)},message:J.Z.Messages.NOTICE_ENABLE_PUBLIC_GUILD_UPSELL_MESSAGE,trackingSource:R.PsQ.ENABLE_PUBLIC_GUILD_UPSELL_NOTICE,type:R.vID.PUBLIC_UPSELL,image:Tk(),cta:J.Z.Messages.LEARN_MORE})};var Ck=n(785538),Ak=n.n(Ck);function Pk(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jk(e){jk=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return jk(e)}function xk(e,t){return!t||"object"!==Mk(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Rk(e,t){Rk=Object.setPrototypeOf||function(e,t){e.__proto__=t
;return e};return Rk(e,t)}var Mk=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function wk(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=jk(e);if(t){var o=jk(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return xk(this,n)}}var Zk=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Rk(e,t)}(n,e);var t=wk(n);function n(){Pk(this,n);return t.apply(this,arguments)}n.prototype.render=function(){return(0,r.jsx)(XD,{guild:this.props.guild,onClick:function(){return p.Z.open(R.oAB.ACCOUNT)},
message:J.Z.Messages.TWO_FA_GUILD_MFA_WARNING_MESSAGE_WITH_SPACING.format(),cta:J.Z.Messages.TWO_FA_GUILD_MFA_WARNING_RESOLVE_BUTTON,trackingSource:R.PsQ.GUILD_MFA_WARNING,type:R.vID.MFA_WARNING,image:Ak(),imageMarginX:54,undismissable:!0})};return n}(o.PureComponent);const Lk=Zk;const Dk=function(e){var t=e.guild,n=e.markAsDismissed,i=o.useCallback((function(){Er.Z.open(t.id,R.pNK.ONBOARDING);(0,dn.EW)(fn.z$.GUILD_ONBOARDING_UPSELL_CHANNEL_NOTICE,{dismissAction:yn.L.PRIMARY})}),[t.id]);return(0,r.jsx)(VD,{guild:t,onDismissed:n,onClick:i,title:J.Z.Messages.GUILD_ONBOARDING_CHANNEL_NOTICE_TITLE,message:J.Z.Messages.GUILD_ONBOARDING_CHANNEL_NOTICE_MESSAGE,cta:J.Z.Messages.CHECK_IT_OUT,trackingSource:R.PsQ.GUILD_ONBOARDING_UPSELL_NOTICE,type:R.vID.GUILD_ONBOARDING_UPSELL})};var Uk=n(549425),kk=n(947079),Gk=n.n(kk);function Bk(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function Hk(e){return function(){var t=this,n=arguments
;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Bk(i,r,o,a,s,"next",e)}function s(e){Bk(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Vk(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fk(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Yk(e){Yk=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Yk(e)}function zk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Fk(e,t,n[t])}))}return e}function Wk(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e)
;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Kk(e,t){return!t||"object"!==Xk(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function qk(e,t){qk=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return qk(e,t)}var Xk=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Qk(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Yk(e);if(t){
var o=Yk(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Kk(this,n)}}var $k=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2]
;a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Jk=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&qk(e,t)}(o,e);var t=Qk(o);function o(){Vk(this,o);var e;(e=t.apply(this,arguments)).handleInvite=function(){var t=e.props.guild;(0,Y.ZD)(Hk((function(){var e,o;return $k(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(66150)]).then(n.bind(n,966150))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,Wk(zk({},e),{guild:t,source:R.t4x.INVITE_NOTICE}))}]}}))})))};e.handleClose=function(){var t=C.Z.getChannelId();e.props.markAsDismissed();null!=t&&Uk.Z.sendBotMessage(t,J.Z.Messages.HOW_TO_INVITE_OTHERS.format({
invitePeople:J.Z.Messages.INVITE_PEOPLE}))};return e}o.prototype.render=function(){var e="".concat(J.Z.Messages.INVITE_NOTICE_MESSAGE,"\n").concat(J.Z.Messages.INVITE_NOTICE_MESSAGE_PART_2);return(0,r.jsx)(XD,{guild:this.props.guild,onDismissed:this.handleClose,onClick:this.handleInvite,message:e,cta:J.Z.Messages.INVITE_PEOPLE,trackingSource:R.PsQ.INVITE_NOTICE,type:R.vID.INVITE,image:Gk(),imageMarginX:46})};return o}(o.PureComponent);const eG=Jk;var tG=n(389515),nG=n.n(tG);const rG=function(e){var t=e.guild,n=o.useCallback((function(){e=t.id,g.Z.dispatch({type:"MAX_MEMBER_COUNT_NOTICE_DISMISS",guildId:e});var e}),[t.id]);return(0,r.jsx)(XD,{guild:t,onDismissed:n,message:J.Z.Messages.NOTICE_CHANNEL_MAX_MEMBERS_CAP_REACHED_MESSAGE.format({maxMemberCount:t.maxMembers,maxMembersUrl:$.Z.getArticleURL(R.BhN.MAX_MEMBERS)}),type:R.vID.MAX_MEMBER_COUNT,image:nG(),imageMarginX:61})};var oG=n(836042),iG=n(112886),aG=n(10439),sG=n.n(aG);const lG=function(e){
var t=oG.$.binds[0].split("+").map((function(e){return null!=lm.c[e]?lm.c[e]():e})).join(" + ").toUpperCase();return(0,r.jsx)(XD,{guild:e.guild,onDismissed:e.markAsDismissed,onClick:function(){return(0,iG.$Z)("CHANNEL_NOTICE")},message:J.Z.Messages.QUICKSWITCHER_NOTICE,cta:t,trackingSource:R.PsQ.QUICK_SWITCHER_NOTICE,type:R.vID.QUICKSWITCHER,image:sG(),imageMarginX:50})};var cG=n(776319),uG=n(337285),fG=n.n(uG);function dG(e){var t=e.guild,n=e.markAsDismissed;return(0,r.jsx)(XD,{guild:t,onDismissed:n,onClick:function(){return(0,cG.J)((0,Ls.wR)(t.id,cO.oC.ROLE_SUBSCRIPTIONS))},message:J.Z.Messages.GUILD_ROLE_SUBSCRIPTIONS_MWEB_PURCHASE_DESKTOP_UPSELL_BODY,cta:J.Z.Messages.COPY_LINK,trackingSource:R.PsQ.ROLE_SUBSCRIPTION_MWEB_PURCHASE_NOTICE,type:R.vID.ROLE_SUBSCRIPTION_MWEB_PURCHASE,image:fG()})}function pG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hG(e){hG=Object.setPrototypeOf?Object.getPrototypeOf:function(e){
return e.__proto__||Object.getPrototypeOf(e)};return hG(e)}function EG(e,t){return!t||"object"!==mG(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function yG(e,t){yG=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return yG(e,t)}var mG=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function bG(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=hG(e);if(t){var o=hG(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return EG(this,n)}}var gG=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&yG(e,t)}(n,e);var t=bG(n);function n(){pG(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.syncWith([Ut.Z,hn.Z],R.dG4)};r.channelNoticePredicate=function(e,t){return Date.now()-t>=R.Hqc&&e.hasFeature(R.oNc.CREATOR_MONETIZABLE)&&e.hasFeature(R.oNc.ROLE_SUBSCRIPTIONS_AVAILABLE_FOR_PURCHASE)&&(0,Dt.H2)(e)&&(0,YR.LA)(e.id)};r.__getLocalVars=function(){return{}};return n}(s.ZP.Store);gG.displayName="RoleSubscriptionMWebPurchaseNoticeStore";const OG=new gG(g.Z);var vG=n(215390);function _G(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function IG(e){IG=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return IG(e)}function SG(e,t){
return!t||"object"!==NG(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function TG(e,t){TG=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return TG(e,t)}var NG=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function CG(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=IG(e);if(t){var o=IG(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return SG(this,n)}}var AG=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{
value:e,writable:!0,configurable:!0}});t&&TG(e,t)}(n,e);var t=CG(n);function n(){_G(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(Ut.Z);this.syncWith([Ut.Z],R.dG4)};r.channelNoticePredicate=function(e,t){return!e.hasFeature(R.oNc.BANNER)&&Date.now()-t>=R.Hqc};r.__getLocalVars=function(){return{}};return n}(s.ZP.Store);AG.displayName="GuildBoostingNoticeStore";const PG=new AG(g.Z);function jG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xG(e){xG=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return xG(e)}function RG(e,t){return!t||"object"!==wG(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function MG(e,t){MG=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return MG(e,t)}var wG=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function ZG(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=xG(e);if(t){var o=xG(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return RG(this,n)}}var LG=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&MG(e,t)}(n,e);var t=ZG(n);function n(){jG(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(hn.Z);this.syncWith([hn.Z],R.dG4)};r.channelNoticePredicate=function(e,t){
return Date.now()-t>=R.Hqc&&hn.Z.can(R.Plq.MANAGE_GUILD,e)};r.__getLocalVars=function(){return{}};return n}(s.ZP.Store);LG.displayName="GuildBoostingNoticeStore";const DG=new LG(g.Z);function UG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kG(e){kG=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return kG(e)}function GG(e,t){return!t||"object"!==HG(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function BG(e,t){BG=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return BG(e,t)}var HG=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function VG(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{
Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=kG(e);if(t){var o=kG(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return GG(this,n)}}function FG(){return!0}var YG=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&BG(e,t)}(n,e);var t=VG(n);function n(){UG(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(hn.Z);this.syncWith([hn.Z],FG)};r.channelNoticePredicate=function(e){var t=(0,Fj.wC)(e.id),n=e.hasFeature(R.oNc.GUILD_ONBOARDING_EVER_ENABLED);return t&&!n};r.__getLocalVars=function(){return{}};return n}(s.ZP.Store);YG.displayName="GuildOnboardingUpsellNoticeStore";const zG=new YG(g.Z);function WG(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KG(e){KG=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return KG(e)}function qG(e,t){return!t||"object"!==QG(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function XG(e,t){XG=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return XG(e,t)}var QG=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function $G(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=KG(e);if(t){var o=KG(this).constructor;n=Reflect.construct(r,arguments,o)
}else n=r.apply(this,arguments);return qG(this,n)}}var JG=!1;function eB(e){var t=Ut.Z.getGuild(e);if(null==t)return!1;if(!t.hasFeature(R.oNc.HUB))return!1;JG=!0;return!0}function tB(){return!0}var nB=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&XG(e,t)}(n,e);var t=$G(n);function n(){WG(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(Ut.Z,ed.Z);this.syncWith([ed.Z],tB)};r.channelNoticePredicate=function(e){return!!e.hasFeature(R.oNc.LINKED_TO_HUB)&&!JG};r.__getLocalVars=function(){return{isAlreadyInHub:JG}};return n}(s.ZP.Store);nB.displayName="HubLinkNoticeStore";const rB=new nB(g.Z,{CONNECTION_OPEN:function(e){var t=!0,n=!1,r=void 0;try{for(var o,i=e.guilds[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){if(eB(o.value.id))return!0}}catch(e){n=!0;r=e
}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return!1},GUILD_CREATE:function(e){return eB(e.guild.id)}});function oB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iB(e){iB=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return iB(e)}function aB(e,t){return!t||"object"!==lB(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function sB(e,t){sB=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return sB(e,t)}var lB=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function cB(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0
}catch(e){return!1}}();return function(){var n,r=iB(e);if(t){var o=iB(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return aB(this,n)}}function uB(){return!0}var fB=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&sB(e,t)}(n,e);var t=cB(n);function n(){oB(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(hn.Z);this.syncWith([hn.Z],uB)};r.channelNoticePredicate=function(e,t){return Date.now()-t>=R.Hqc&&hn.Z.can(R.Plq.ADMINISTRATOR,e)};r.__getLocalVars=function(){return{}};return n}(s.ZP.Store);fB.displayName="InviteNoticeStore";const dB=new fB(g.Z);var pB="lastHiddenChannelNotice",hB=[{type:R.vID.GUILD_BOOSTING,store:DG,dismissibleContentType:fn.z$.CHANNEL_NOTICE_PREMIUM_GUILD_SUBSCRIPTION},{type:R.vID.GUILD_BANNER,store:PG,
dismissibleContentType:fn.z$.CHANNEL_NOTICE_GUILD_BANNER},{type:R.vID.INVITE,store:dB,dismissibleContentType:fn.z$.CHANNEL_NOTICE_INVITE},{type:R.vID.HUB_LINK,store:rB,dismissibleContentType:fn.z$.CHANNEL_NOTICE_HUBLINK},{type:R.vID.QUICKSWITCHER,store:vG.Z,dismissibleContentType:fn.z$.CHANNEL_NOTICE_QUICKSWITCHER},{type:R.vID.ROLE_SUBSCRIPTION_MWEB_PURCHASE,store:OG,dismissibleContentType:fn.z$.GUILD_ROLE_SUBSCRIPTION_MWEB_PURCHASE_UPSELL},{type:R.vID.GUILD_ONBOARDING_UPSELL,store:zG,dismissibleContentType:fn.z$.GUILD_ONBOARDING_UPSELL_CHANNEL_NOTICE},{type:R.vID.CLIPS_EDUCATION,dismissibleContentType:fn.z$.CLIPS_CHANNEL_NOTICE_EDUCATION},{type:R.vID.LINKED_ROLES_ADMIN,dismissibleContentType:fn.z$.LINKED_ROLE_ADMIN_GUILD}],EB=hB.map((function(e){return e.store})).filter(So.lm);function yB(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mB(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return yB(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yB(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bB(e){e.stopPropagation()}function gB(e){var t,n,i,a=e.guild,l=mB(o.useState(null!==(t=Se.Z.get(pB))&&void 0!==t?t:0),2),c=l[0],u=l[1],f=(0,s.Wu)(EB,(function(){return hB.filter((function(e){
var t=e.store;return null==t?void 0:t.channelNoticePredicate(a,c)})).map((function(e){return e.dismissibleContentType}))}));(n=tU.N.useExperiment({}).enableUpsells,i=kt.nI(),n&&i)&&f.push(fn.z$.CLIPS_CHANNEL_NOTICE_EDUCATION);return(0,r.jsx)(LT.Z,{contentTypes:f,groupName:yn.R.CHANNEL_NOTICES,children:function(e){var t=e.visibleContent,n=e.markAsDismissed,o=function(){!function(e){Se.Z.set(pB,e);u(e)}(Date.now());n()},i=function(){switch(t){case fn.z$.CHANNEL_NOTICE_HUBLINK:return(0,r.jsx)(fk,{guild:a,markAsDismissed:o});case fn.z$.CHANNEL_NOTICE_INVITE:return(0,r.jsx)(eG,{guild:a,markAsDismissed:o});case fn.z$.CHANNEL_NOTICE_PREMIUM_GUILD_SUBSCRIPTION:return(0,r.jsx)(IU,{guild:a,markAsDismissed:o});case fn.z$.CHANNEL_NOTICE_QUICKSWITCHER:return(0,r.jsx)(lG,{guild:a,markAsDismissed:o});case fn.z$.CHANNEL_NOTICE_GUILD_BANNER:return(0,r.jsx)(pU,{guild:a,markAsDismissed:o});case fn.z$.GUILD_ROLE_SUBSCRIPTION_MWEB_PURCHASE_UPSELL:return(0,r.jsx)(dG,{guild:a,markAsDismissed:o})
;case fn.z$.GUILD_ONBOARDING_UPSELL_CHANNEL_NOTICE:return(0,r.jsx)(Dk,{guild:a,markAsDismissed:o});case fn.z$.CLIPS_CHANNEL_NOTICE_EDUCATION:return(0,r.jsx)(oU,{guild:a,markAsDismissed:n});case fn.z$.LINKED_ROLE_ADMIN_GUILD:return(0,r.jsx)(sU,{guild:a,markAsDismissed:n});default:return null}}();return null==i?null:(0,r.jsx)("div",{onContextMenu:bB,children:i})}})}const OB=function(e){var t=e.guild;switch(CZ(t)){case NZ.ENABLE_PUBLIC_GUILD:return(0,r.jsx)(Nk,{guild:t});case NZ.APPLIED_GUILD_BOOST_GRACE_PERIOD:return(0,r.jsx)(uU,{guild:t});case NZ.MAX_MEMBER_COUNT:return(0,r.jsx)(rG,{guild:t});case NZ.GUILD_LIVE_CHANNEL:return(0,r.jsx)(ok,{guild:t});case NZ.GUILD_MFA_WARNING:return(0,r.jsx)(Lk,{guild:t});case NZ.COMMANDS_MIGRATION:return(0,r.jsx)(Ik,{guild:t});case NZ.APPLICATION_SUBSCRIPTION_EXPIRATION:return(0,r.jsx)(eU,{guild:t});case NZ.HUB_STUDY_ROOM:return(0,r.jsx)(Ok,{guild:t})}return Xi.s.isDisallowPopupsSet()?null:(0,r.jsx)(gB,{guild:e.guild})};var vB=n(462179),_B=n.n(vB)
;function IB(e){var t=e.guild,n=e.setHasSubheader,i=o.useRef(null);o.useLayoutEffect((function(){var e=i.current;null!=e&&n(e.childNodes.length>0)}));return(0,r.jsx)("div",{className:_B().container,ref:i,children:(0,r.jsx)(OB,{guild:t})})}var SB=n(101545),TB=n.n(SB);function NB(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var CB=function(){return(0,r.jsx)("div",{className:TB().spacer})},AB=function(){return(0,r.jsx)("div",{className:TB().category})},PB=function(e){var t=e.width;return(0,r.jsxs)("div",{className:TB().channel,children:[(0,r.jsx)("div",{className:TB().channelIcon}),(0,r.jsx)("div",{className:TB().channelName,style:{width:"".concat(t,"px")}})]})};const jB=function(e){var t=e.withBannerPadding;return(0,r.jsxs)("div",{className:$p()(TB().container,NB({},TB().bannerPadding,t)),children:[(0,r.jsx)(AB,{}),(0,r.jsx)(PB,{width:100}),(0,r.jsx)(PB,{width:74}),(0,r.jsx)(PB,{width:100}),(0,r.jsx)(PB,{width:70}),(0,
r.jsx)(PB,{width:112}),(0,r.jsx)(PB,{width:175}),(0,r.jsx)(CB,{}),(0,r.jsx)(AB,{}),(0,r.jsx)(PB,{width:100}),(0,r.jsx)(PB,{width:74}),(0,r.jsx)(PB,{width:100}),(0,r.jsx)(PB,{width:70}),(0,r.jsx)(PB,{width:112}),(0,r.jsx)(PB,{width:56})]})};function xB(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function RB(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MB(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function wB(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){MB(i,r,o,a,s,"next",e)}function s(e){MB(i,r,o,a,s,"throw",e)}a(void 0)}))}}function ZB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LB(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n
;return e}function DB(e){DB=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return DB(e)}function UB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){LB(e,t,n[t])}))}return e}function kB(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function GB(e,t){if(null==e)return{};var n,r,o=function(e,t){
if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function BB(e,t){return!t||"object"!==FB(t)&&"function"!=typeof t?RB(e):t}function HB(e,t){HB=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return HB(e,t)}function VB(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return xB(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xB(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var FB=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function YB(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=DB(e);if(t){var o=DB(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return BB(this,n)}}var zB=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]
};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},WB=88,KB=1e3,qB="server-settings",XB={
origin:{x:-8,y:-48},targetWidth:40,targetHeight:40,offset:{x:0,y:0}},QB=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&HB(e,t)}(o,e);var t=YB(o);function o(){ZB(this,o);var e;(e=t.apply(this,arguments)).historyUnlisten=function(){};e.showTimeout=new ju.V7;e.state={controller:new sm.Controller({value:1,immediate:!0}),renderBanner:!1,bannerVisible:!1,communityInfoVisible:!1,shouldShowSubscribeTooltip:!1,bannerVisibleHeight:WB,hasGuildSubheader:!1};e.handleHistoryChange=function(t){null!=t.state&&t.state.shouldShowSubscribeTooltip&&e.showTimeout.start(KB,(function(){return e.setState({shouldShowSubscribeTooltip:!0})}))};e.handleHeaderMenuToggle=function(t){var n=e.props.isHeaderPopoutOpen;t.stopPropagation();(0,jZ.l)(!n);(0,uL.$u)(fn.z$.PREMIUM_TUTORIAL_SERVER_MENU_TOOLTIP);e.closeAllHeaderNotices()}
;e.handleContextMenu=function(t){var o=e.props.guild;null!=o&&(0,db.jW)(t,wB((function(){var e,t;return zB(this,(function(i){switch(i.label){case 0:return[4,n.e(560).then(n.bind(n,200560))];case 1:e=i.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,kB(UB({},e),{guild:o}))}]}}))})))};e.handleHeaderContextMenu=function(t){var o=e.props.guild;null!=o&&(0,db.jW)(t,wB((function(){var e,t;return zB(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(13112),n.e(47018)]).then(n.bind(n,847018))];case 1:e=i.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,kB(UB({},e),{guild:o}))}]}}))})))};e.closeAllHeaderNotices=function(){e.handleCloseSubscribeTooltip();e.handleCloseTemplateDirtyTooltip();e.handleCloseStudentHubPrivacySettingsTooltip()};e.handleCloseStudentHubPrivacySettingsTooltip=function(){var t,n=(0,dn.un)(fn.z$.STUDENT_HUB_PRIVACY_SETTINGS_TOOLTIP),r=null===(t=e.props.guild)||void 0===t?void 0:t.hasFeature(R.oNc.HUB);!n&&r&&(0,
dn.EW)(fn.z$.STUDENT_HUB_PRIVACY_SETTINGS_TOOLTIP,{dismissAction:yn.L.AUTO})};e.handleCloseSubscribeTooltip=function(){e.showTimeout.stop();e.state.shouldShowSubscribeTooltip&&e.setState({shouldShowSubscribeTooltip:!1})};e.handleCloseTemplateDirtyTooltip=function(){var t=e.props,n=t.guild,r=t.showGuildTemplateDirtyTooltip;null!=n&&r&&VZ.Z.hideGuildTemplateDirtyTooltip(n.id)};var i=RB(e);e.renderMenuPopout=wB((function(){var e,t;return zB(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(13112),n.e(60020)]).then(n.bind(n,760020))];case 1:e=o.sent(),t=e.default;return[2,function(e){var n=e.closePopout,o=i.props.guild;return null!=o&&(0,r.jsx)(t,{onClose:n,guild:o})}]}}))}));e.renderGuildHeaderUpsellPopout=function(t){
var n=e.props,o=n.showGuildBoostingProgressBarUpsell,i=n.showGuildBoostingProgressBarSizeUpsell,a=n.showRoleSubscriptionUpsell,s=n.showDiscoveryTooltip,l=n.showInviteSplashUpsell,c=n.showIntegrationPermissionTooltip,u=n.showDiscoveryLandingPageSettingsUpsell,f=n.showHubPrivacySettingsTooltip,d=n.showActiveThreadsNotice,p=n.showAntiRaidUpsellNotice,h=n.showMentionRaidLimitUpsell,E=n.showAutomodCustomBlockMessageUpsell,y=n.shouldRenderAppDirectoryCoachMark,m=n.showVerifiedRolesCoachmark,b=n.showCreatorPromoPageTooltip,g=n.guild,O=n.theme,v=n.hidesAppDirectoryCoachMark,_=n.canManageRoles,I=n.useReducedMotion;if(null==g)return e.renderGuildHeaderDropdownButton(t);var S=[];f&&S.push(fn.z$.STUDENT_HUB_PRIVACY_SETTINGS_TOOLTIP);d&&S.push(fn.z$.GUILD_HEADER_ACTIVE_THREADS_NOTICE);o&&S.push(fn.z$.GUILD_HEADER_PREMIUM_GUILD_PROGRESS);i&&S.push(fn.z$.GUILD_HEADER_PROGRESS_BAR_SIZE_COACH_MARK);a&&S.push(fn.z$.GUILD_HEADER_ROLE_SUBSCRIPTION_UPSELL);l&&S.push(fn.z$.GUILD_HEADER_INVITE_SPLASH)
;s&&S.push(fn.z$.GUILD_HEADER_SERVER_DISCOVERY_TOOLTIP);u&&S.push(fn.z$.GUILD_DISCOVERY_LANDING_PAGE_SETTINGS_UPSELL);c&&S.push(fn.z$.GUILD_HEADER_APPLICATION_COMMAND_PERMISSIONS);y&&S.push(fn.z$.APP_DIRECTORY_COACH_MARK);m&&S.push(fn.z$.VERIFIED_ROLES_COACH_MARK);b&&S.push(fn.z$.CREATOR_PROMO_PAGE_COACH_MARK);p&&S.push(fn.z$.ANTI_RAID_SAFETY_ALERT_NOTICE);h&&S.push(fn.z$.GUILD_MENTION_RAID_LIMIT);E&&S.push(fn.z$.GUILD_AUTOMOD_CUSTOM_BLOCK_MESSAGE);return 0===S.length?e.renderGuildHeaderDropdownButton(t):(0,r.jsx)(ZD,{contentTypes:S,theme:O,guild:g,renderGuildHeaderDropdownButton:function(){return e.renderGuildHeaderDropdownButton(t)},hidesAppDirectoryCoachMark:v,canManageRoles:_,useReducedMotion:I})};e.renderGuildHeaderDropdownButton=function(t){var n=e.props,o=n.guild,i=n.shouldShowBoostingHighlight,a=n.isTutorialHighlightDismissed,s=n.isBoostingFlowDismissed,l=sL.Z.getCurrentConfig({}).enabled,c=i&&!a&&!s,u=l&&!t||null==o;return(0,r.jsx)(cL.$,{
substeps:[Ji.H6.BOOSTING_GUILD_MENU_ITEM],disableFlow:u,tooltipPosition:qb.as.RIGHT,tooltipSpacing:16,onNext:function(){null!=o&&(0,MZ.f)({guildId:o.id,location:{section:R.jXE.GUILD_HEADER_POPOUT}})},disableHighlight:!0,children:function(e){return(0,r.jsx)("div",{className:$p()(LB({},bD().dropdownWrapperHighlighted,c)),children:(0,r.jsx)(rw.Z,{open:t,className:bD().dropdownButton,withHighlight:c})})}})};e.pinBannerOrGuildInfo=function(t){var n=t.scrollTop;e.setAnimatedValue(n)};return e}var i=o.prototype;i.componentDidMount=function(){var e,t=this;this.setAnimatedValue(0);g.Z.subscribe("LAYER_PUSH",this.closeAllHeaderNotices);this.historyUnlisten=ts.Z.addRouteChangeListener(this.handleHistoryChange);(null===(e=ts.Z.getHistory().location.state)||void 0===e?void 0:e.shouldShowSubscribeTooltip)&&this.showTimeout.start(KB,(function(){return t.setState({shouldShowSubscribeTooltip:!0})}))};i.componentWillUnmount=function(){this.showTimeout.stop();this.state.controller.dispose()
;this.historyUnlisten();g.Z.unsubscribe("LAYER_PUSH",this.closeAllHeaderNotices)};i.getGuildBannerHash=function(){var e=this.props,t=e.guild,n=e.hasChannelNotice;return null==t||n?null:t.banner};i.renderGuildHeaderNotices=function(e){var t=this,n=this.props,o=n.showGuildTemplateDirtyTooltip,i=n.showGuildHeaderTutorial,a=n.anyLayerOpen,s=this.state.shouldShowSubscribeTooltip;return i?(0,r.jsx)("div",{onClick:function(t){return e?null:t.stopPropagation()},children:(0,r.jsx)(dL.Z,{tutorialId:qB,position:yL.q_.BOTTOM,inlineSpecs:XB,children:this.renderGuildHeaderDropdownButton(e)})}):o?(0,r.jsx)(qb.ZP,{forceOpen:!0,color:qb.FG.BRAND,position:TA.vK.BOTTOM,shouldShow:!e&&!a,text:J.Z.Messages.GUILD_TEMPLATES_UNSYNCED_TOOLTIP,"aria-label":J.Z.Messages.GUILD_TEMPLATES_UNSYNCED_TOOLTIP,children:function(){return t.renderGuildHeaderDropdownButton(e)}}):a||e?this.renderGuildHeaderDropdownButton(e):s?(0,r.jsx)(xg.ZP,{renderPopout:function(){return(0,r.jsx)("div",{onClick:function(e){
return e.stopPropagation()},children:(0,r.jsx)(hL.ZP,{header:J.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_HEADER_SUBSCRIBE_TOOLTIP_HEADER,content:J.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_HEADER_SUBSCRIBE_TOOLTIP_TEXT,buttonCTA:J.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_HEADER_SUBSCRIBE_TOOLTIP_CLOSE,onClick:t.handleCloseSubscribeTooltip})})},position:xg.ZP.Positions.BOTTOM,align:xg.ZP.Align.CENTER,animation:xg.ZP.Animation.TRANSLATE,shouldShow:!0,children:function(){return t.renderGuildHeaderDropdownButton(e)}}):this.renderGuildHeaderUpsellPopout(e)};i.renderGuildHeader=function(e){var t=this,n=this.props,o=n.guild,i=n.isHeaderPopoutOpen,a=n.showGuildHeaderTutorial,s=n.showGuildTemplateDirtyTooltip,l=n.isGuildHeaderDismissibleTooltipShown,c=n.HeaderAnalyticsLocationProvider,u=this.state,f=u.controller,d=u.renderBanner,p=u.bannerVisible,h=u.bannerVisibleHeight,E=u.communityInfoVisible,y=a||s||l;return null==o?null:(0,r.jsx)(c,{children:(0,r.jsx)(xg.Ke,{renderPopout:this.renderMenuPopout,
position:xg.ZP.Positions.BOTTOM,align:xg.ZP.Align.CENTER,animation:xg.ZP.Animation.SCALE,shouldShow:i,onRequestClose:function(){(0,uL.RI)(Ji.QD.BOOSTING);(0,jZ.l)(!1)},children:function(n){n.onClick;var a=GB(n,["onClick"]);return(0,r.jsx)(LL.ZP,kB(UB({guild:o,controller:f,renderBanner:d,hasSubheader:e,bannerVisible:p,communityInfoVisible:E,guildBanner:t.getGuildBannerHash(),onClick:t.handleHeaderMenuToggle,onContextMenu:t.handleHeaderContextMenu,disableBannerAnimation:y,animationOverlayHeight:h},a),{children:t.renderGuildHeaderNotices(i)}))}})})};i.setAnimatedValue=function(e){var t=this.props.guild,n=null!=this.getGuildBannerHash(),r=null==t?void 0:t.hasCommunityInfoSubheader();null!=t&&(n||r)&&(n?this.setAnimatedValueForBanner(e):this.setAnimatedValueForGuildInfo(e))};i.setAnimatedValueForBanner=function(e){var t=this.state,n=t.renderBanner,r=t.communityInfoVisible,o=t.bannerVisible,i=t.bannerVisibleHeight,a=t.controller;(e>=64&&o||e<64&&!o)&&(o=!o);(e>=WB&&!n||e<WB&&n)&&(n=!n)
;i=Math.max(WB-e,0);r=o;n===this.state.renderBanner&&o===this.state.bannerVisible&&i===this.state.bannerVisibleHeight&&r===this.state.communityInfoVisible||this.setState({renderBanner:n,bannerVisible:o,bannerVisibleHeight:i,communityInfoVisible:r});a.update({value:Math.min(1,Math.max(0,1-e/WB)),immediate:!0}).start()};i.setAnimatedValueForGuildInfo=function(e){var t=this.state,n=t.communityInfoVisible,r=t.controller;(e>=20&&n||e<20&&!n)&&(n=!n);n!==this.state.communityInfoVisible&&this.setState({communityInfoVisible:n});r.update({value:Math.min(1,Math.max(0,1-e/20)),immediate:!0}).start()};i.renderChannelList=function(){var e=this.props,t=e.isUnavailable,n=e.guild,o=e.selectedChannel,i=e.enableStudyGroup,a=GB(e,["isUnavailable","guild","selectedChannel","enableStudyGroup"]);if(t||null==n)return(0,r.jsx)(jB,{withBannerPadding:null!=n&&null!=this.getGuildBannerHash()});if(n.hasFeature(R.oNc.HUB)&&!i)return(0,r.jsx)("div",{className:bD().hubContainer,children:(0,r.jsx)(aL.Z,{guild:n,
channel:null!=o?o:ET.ZP.getDefaultChannel(n.id)})});var s=n.id===LZ._?NL.j:NL.E;return(0,r.jsx)(s,kB(UB({guild:n},a),{guildBanner:this.getGuildBannerHash(),hasGuildSubheader:this.state.hasGuildSubheader,onScroll:null==n||null==this.getGuildBannerHash()&&!n.hasCommunityInfoSubheader()?null:this.pinBannerOrGuildInfo}))};i.renderFooter=function(){var e=this.props,t=e.selectedChannelId,n=e.shouldRenderNitroActivitiesCoachMark,o=e.shouldRenderBashOutCoachMark,i=e.shouldRenderCoachMarkCrowdFavorites,a=e.couldRenderCoachMarkCrowdFavorites,s=e.shouldRenderBurstCoachmark,l=[];n&&l.push(fn.z$.ACTIVITIES_NITRO_TUTORIAL_COACH_MARK_V2);o&&l.push(fn.z$.BASH_OUT_COACH_MARK);i&&l.push(fn.z$.ACTIVITY_COACH_MARK_CROWD_FAVORITES);s&&l.push(fn.z$.BURST_REACTION_COACHMARK);return(0,r.jsx)(LT.Z,{contentTypes:l,children:function(e){var n=e.visibleContent,o=e.markAsDismissed;switch(n){case fn.z$.ACTIVITIES_NITRO_TUTORIAL_COACH_MARK_V2:return(0,r.jsx)(ZL,{channelId:null!=t?t:void 0,markAsDismissed:function(){
(0,dn.EW)(fn.z$.ACTIVITIES_NITRO_TUTORIAL_COACH_MARK_V2,{forceTrack:!0,dismissAction:yn.L.DISMISS});l.includes(fn.z$.BASH_OUT_COACH_MARK)&&(0,dn.EW)(fn.z$.BASH_OUT_COACH_MARK,{forceTrack:!0,dismissAction:yn.L.AUTO});a&&(0,dn.EW)(fn.z$.ACTIVITY_COACH_MARK_CROWD_FAVORITES,{forceTrack:!0,dismissAction:yn.L.AUTO})},tutorialType:iL.NITRO});case fn.z$.BASH_OUT_COACH_MARK:return(0,r.jsx)(ZL,{channelId:null!=t?t:void 0,markAsDismissed:o,tutorialType:iL.BASH_OUT});case fn.z$.ACTIVITY_COACH_MARK_CROWD_FAVORITES:return(0,r.jsx)(ZL,{channelId:null!=t?t:void 0,markAsDismissed:o,tutorialType:iL.CROWD_FAVORITES});case fn.z$.BURST_REACTION_COACHMARK:return(0,r.jsx)(TL,{markAsDismissed:o});default:return(0,r.jsx)(r.Fragment,{})}}})};i.render=function(){var e=this,t=this.props,n=t.guild,o=t.FooterAnalyticsLocationProvider;return(0,r.jsxs)("nav",{className:bD().container,onContextMenu:this.handleContextMenu,"aria-label":J.Z.Messages.GUILD_SIDEBAR_A11Y_LABEL.format({guildName:null!=n?n.toString():""}),
children:[null!=n&&this.renderGuildHeader(this.state.hasGuildSubheader),null!=n&&(0,r.jsx)(IB,{guild:n,setHasSubheader:function(t){return e.setState({hasGuildSubheader:t})}}),this.renderChannelList(),(0,r.jsx)(o,{children:this.renderFooter()})]})};o.getDerivedStateFromProps=function(e){var t=e.guild,n=e.hasChannelNotice;return null==t||null==t.banner||n?{renderBanner:!1,bannerVisible:!1}:null};return o}(o.PureComponent);function $B(e){var t,n=e.guildId,i=e.hideSelectedChannel,a=e.selectedChannelId,l=(0,s.e7)([Ut.Z],(function(){return Ut.Z.getGuild(n)})),c=(0,PZ.Z)(n),u=(0,s.e7)([EL.Z],(function(){return EL.Z.getGuildDimensions(n).scrollTo})),f=(0,s.e7)([N.Z],(function(){return N.Z.getChannelId()})),d=(0,s.e7)([I.Z],(function(){var e;return null!==(t=null===(e=I.Z.getChannel(f))||void 0===e?void 0:e.isGuildVoice())&&void 0!==t&&t}),[f]),p=VB((0,s.Wu)([hn.Z],(function(){return[hn.Z.can(R.Plq.MANAGE_GUILD,l),hn.Z.can(R.Plq.MANAGE_ROLES,l),hn.Z.can(R.Plq.MANAGE_THREADS,l)]
})),3),E=p[0],y=p[1],m=p[2],b=(0,s.e7)([Io.Z],(function(){return Io.Z.isUnavailable(n)})),g=(0,s.e7)([F.default],(function(){return F.default.getCurrentUser()})),O=(0,s.e7)([ct.Z],(function(){return ct.Z.darkSidebar?R.BRd.DARK:ct.Z.theme})),v=Mw(l).enableStudyGroup,_=iw.s8.useExperiment({},{autoTrackExposure:!0}).enableNitroActivities,T=(0,$t.ZP)((function(e){return e.currentlyShown.has(fn.z$.NAGBAR_NOTICE_CONNECT_PLAYSTATION)})),C=VB(o.useState(!T),2),A=C[0],P=C[1],j=(0,Yp.Z)(n),x=(0,lw.Z)(Of.Z.GUILD_HEADER).AnalyticsLocationProvider,M=(0,lw.Z)(Of.Z.GUILD_CHANNEL_LIST_FOOTER).AnalyticsLocationProvider;o.useEffect((function(){n!==j&&P(!T)}),[n,j,T]);var w=VB((0,$t.ZP)((function(e){return[hB.some((function(t){return e.currentlyShown.has(t.dismissibleContentType)})),e.currentlyShownGroup.has(yn.R.GUILD_HEADER_TOOLTIPS)]})),2),Z=w[0],L=w[1],D=null!=CZ(l)||Z,U=(0,Y.s9)(Y.JQ),k=(0,s.e7)([S.Z],(function(){return S.Z.hasLayers()})),G=(0,s.e7)([pL.Z],(function(){return pL.Z.shouldShow(qB)
})),B=E&&!1===(null==l?void 0:l.premiumProgressBarEnabled)&&!Xi.s.isDisallowPopupsSet(),H=(0,s.e7)([pn.Z],(function(){return pn.Z.getMemberCount(n)})),V=E&&null!=H&&H>=30&&!1===(null==l?void 0:l.premiumProgressBarEnabled)&&!Xi.s.isDisallowPopupsSet(),z=function(e){var t,n=(0,s.e7)([Ut.Z],(function(){return Ut.Z.getGuild(e)})),r=(0,s.e7)([F.default],(function(){return F.default.getCurrentUser()})),o=(null==n?void 0:n.ownerId)===(null==r?void 0:r.id),i=(0,HZ.Sd)();return o&&null!==(t=null==n?void 0:n.hasFeature(R.oNc.COMMUNITY))&&void 0!==t&&t&&i&&!((null==n?void 0:n.hasFeature(R.oNc.CREATOR_MONETIZABLE))||(null==n?void 0:n.hasFeature(R.oNc.CREATOR_MONETIZABLE_PROVISIONAL))||(null==n?void 0:n.hasFeature(R.oNc.CREATOR_MONETIZABLE_DISABLED)))}(n),W=(0,AZ._)(n),K=E&&y,q=!0===(null==l?void 0:l.hasFeature(R.oNc.HUB)),X=E&&!0===(null==l?void 0:l.hasFeature(R.oNc.DISCOVERABLE)),Q=(0,mw.Q)(),$=(E||(null==l?void 0:l.premiumTier)===R.Eu4.NONE)&&!Xi.s.isDisallowPopupsSet()&&!Q,J=(0,
s.e7)([oL,S.Z],(function(){return null!=l&&null!=g&&E&&!S.Z.hasLayers()&&oL.shouldShowGuildTemplateDirtyTooltip(n)})),ee=(0,s.e7)([I.Z],(function(){return I.Z.getChannel(a)})),te=(0,s.e7)([h.Z],(function(){return h.Z.useReducedMotion})),ne=(0,jZ.y)().isPopoutOpen,re=(0,QP.i8)(n),oe=(0,s.e7)([fL.Z],(function(){return!os().isEmpty(fL.Z.getThreadsForGuild(n))})),ie=m&&null!=H&&H>=200&&oe,ae=_&&A;o.useEffect((function(){ae&&Te.default.track(R.rMx.DISMISSIBLE_CONTENT_SHOWN,{type:fn.z$[fn.z$.ACTIVITIES_NITRO_TUTORIAL_COACH_MARK_V2],guild_id:n})}),[n,ae]);var se=!0===(null==l?void 0:l.hasFeature(R.oNc.ROLE_SUBSCRIPTIONS_AVAILABLE_FOR_PURCHASE)),le=(0,YR.vS)(l)&&E&&se,ce=(0,lL.AR)(),ue=(0,dn.wE)(Ji.QD.BOOSTING),fe=yw({canManageGuild:E,guildId:n}),de=fe.shouldRenderAppDirectoryCoachMark,pe=fe.hidesAppDirectoryCoachMark,he=sw.useExperiment({},{autoTrackExposure:!0}).enabled,Ee=qi.ZP.canUsePremiumActivities(g),ye=_&&A&&he&&Ee,me=aw.useExperiment({},{autoTrackExposure:!0
}).enabled,be=_&&A&&me,ge=be&&d,Oe=(0,ow.Q)(n),ve=A&&Oe,_e=!1;void 0!==l&&(_e=Object.values(l.roles).some((function(e){var t;return null===(null==e||null===(t=e.tags)||void 0===t?void 0:t.guild_connections)})));var Ie=_e||y;o.useEffect((function(){ye&&Te.default.track(R.rMx.DISMISSIBLE_CONTENT_SHOWN,{type:fn.z$[fn.z$.BASH_OUT_COACH_MARK],guild_id:n})}),[n,ye]);BZ(l);var Se=(0,dn.wE)(fn.z$.PREMIUM_TUTORIAL_SERVER_MENU_TOOLTIP),Ne=(0,xZ.MR)(l),Ce=(0,xZ.WR)(l),Ae=(0,RZ.LK)(l);return(0,r.jsx)(QB,{guildId:n,hideSelectedChannel:i,guild:l,scrollToChannel:u,selectedChannelId:i?null:a,selectedChannel:ee,selectedVoiceChannelId:f,voiceStates:c,isUnavailable:b,theme:O,user:g,hasChannelNotice:D,anyLayerOpen:U||k,showGuildBoostingProgressBarUpsell:B,showGuildBoostingProgressBarSizeUpsell:V,showInviteSplashUpsell:$,showDiscoveryLandingPageSettingsUpsell:X,showGuildHeaderTutorial:G,showGuildTemplateDirtyTooltip:J,showRoleSubscriptionUpsell:z,showDiscoveryTooltip:W,showIntegrationPermissionTooltip:K,
showHubPrivacySettingsTooltip:q,showCreatorPromoPageTooltip:le,showNewUnreadsBar:re,showActiveThreadsNotice:ie,showAntiRaidUpsellNotice:Ne,showMentionRaidLimitUpsell:Ce,showAutomodCustomBlockMessageUpsell:Ae,isHeaderPopoutOpen:ne,enableStudyGroup:v,isGuildHeaderDismissibleTooltipShown:L,canShowCoachMarkAtBottom:A,HeaderAnalyticsLocationProvider:x,FooterAnalyticsLocationProvider:M,shouldRenderNitroActivitiesCoachMark:ae,shouldShowBoostingHighlight:ce,isBoostingFlowDismissed:ue,shouldRenderAppDirectoryCoachMark:de,hidesAppDirectoryCoachMark:pe,shouldRenderBashOutCoachMark:ye,shouldRenderCoachMarkCrowdFavorites:ge,couldRenderCoachMarkCrowdFavorites:be,showVerifiedRolesCoachmark:Ie,canManageRoles:y,useReducedMotion:te,isTutorialHighlightDismissed:Se,shouldRenderBurstCoachmark:ve})}var JB=n(87660),eH=n(142583),tH=n(553589),nH=n(400110),rH=n.n(nH);function oH(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function iH(e,t){return function(e){
if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return oH(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oH(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const aH=function(e){var t=e.guildId,n=e.inviteCode,i=iH(o.useState(VC.hO.INITIAL),2),a=i[0],l=i[1],c=iH(o.useState(null!=n),2),u=c[0],f=c[1]
;o.useEffect((function(){null!=n&&sr.Z.resolveInvite(n,"Hub").finally((function(){return f(!1)}))}),[n]);var d=(0,s.e7)([eH.Z],(function(){return null!=n?eH.Z.getInvite(n):null})),p=(0,s.e7)([Ut.Z],(function(){return Ut.Z.getGuild(t)}));o.useEffect((function(){null!=p&&(0,q.uL)(R.Z5c.CHANNEL(t))}),[p,t]);var h=o.useCallback((function(e){l((function(t){return Math.max(t,e)}))}),[]),E=(0,jC.gK)();return(0,r.jsx)("div",{className:rH().page,children:(0,r.jsxs)(PC.Z,{embedded:!0,splash:E,waveState:a,showLogo:!1,updateWaveState:h,children:[(0,r.jsx)("div",{className:rH().dragRegion}),(0,r.jsx)("div",{className:rH().contentWrapper,children:!u&&(0,r.jsx)(tH.HubEmailConnectionModalView,{invite:d})})]})})};var sH=n(895721);function lH(e){g.Z.dispatch({type:"APP_VIEW_SET_HOME_LINK",link:e})}var cH=(0,sR.B)({kind:"user",id:"2023-01_clear_all_message_requests",label:"Safety Experience Reject All Message Requests",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enabled",config:{enabled:!0}}]})
;function uH(){return cH.useExperiment({},{autoTrackExposure:!0}).enabled}var fH=n(35197),dH=n(47195),pH=n(776624);function hH(){return(0,s.e7)([dH.Z],(function(){return dH.Z.getSpamChannelsCount()}))}function EH(){var e=(0,pH.q)(),t=o.useRef(e),n=(0,s.e7)([fH.Z],(function(){return fH.Z.isReady()})),r=o.useRef(n);o.useEffect((function(){if(n&&!r.current){r.current=!0;t.current=e}}),[n,e]);return t.current<=1&&1===e}function yH(){var e=hH(),t=o.useRef(e),n=(0,s.e7)([dH.Z],(function(){return dH.Z.isReady()})),r=o.useRef(n);o.useEffect((function(){if(n&&!r.current){r.current=!0;t.current=e}}),[n,e]);return t.current<=1&&1===e}var mH=n(266662),bH=n(27029),gH=n(441640),OH=n(882281),vH=n.n(OH);function _H(e){var t=e.channel,n=e.baseChannelId,i=(0,Wd.ZP)(t),a=EH(),l=yH(),c=(0,s.e7)([fH.Z],(function(){return fH.Z.isMessageRequest(t.id)})),u=(0,s.e7)([dH.Z],(function(){return dH.Z.isSpam(t.id)})),f=(0,bH.V)(t.id,t.getRecipientId()),d=o.useCallback((function(){$f.Z.closeChannelSidebar(qd.uZ)
;c&&a&&(0,Gg.Kh)(t.id);u&&l&&(0,Gg.Kh)(t.id)}),[t.id,u,l,c,a]),p=o.useCallback((function(){(0,CA.CF)((0,NA.Yz)(J.Z.Messages.MESSAGE_REQUESTS_SPAM_ERROR_ALERT_TITLE,gH.pC.FAILURE))}),[]),h=(0,mH.m)({onAcceptSuccess:d,onError:p}).markAsNotSpam;if(null==t||!t.isDM())return null;var E=[(0,r.jsx)(Tb.ZP.Icon,{icon:Sb.Z,tooltip:J.Z.Messages.CLOSE,onClick:function(){return $f.Z.closeChannelSidebar(n)}},"close")];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Tb.ZP,{toolbar:E,"aria-label":J.Z.Messages.CHANNEL_HEADER_BAR_A11Y_LABEL,children:(0,gb.ud)({channel:t,channelName:i,inSidebar:!0})}),u&&(0,r.jsxs)("div",{className:vH().hamBanner,children:[(0,r.jsx)(K.xv,{className:vH().hamBannerText,variant:"text-sm/normal",children:J.Z.Messages.MESSAGE_REQUESTS_CHANNEL_SIDEBAR_HAM_HEADER}),(0,r.jsx)(K.zx,{className:vH().hamBannerButton,size:K.Ph.SMALL,onClick:function(){return h(t,f)},children:J.Z.Messages.MESSAGE_REQUESTS_CHANNEL_SIDEBAR_HAM_BUTTON})]}),(0,r.jsx)("div",{className:Cb().chat,
children:(0,r.jsx)(pb.Z,{channel:t,guild:null,chatInputType:mb.I.SIDEBAR},t.id)})]})}var IH=n(419315),SH=n(324954),TH=n(855209),NH=n(669525),CH=n(170729),AH=n(681888),PH=n(781405);function jH(e){return e.sort((function(e,t){return nA.default.compare(e.lastMessageId,t.lastMessageId)})).reverse()}var xH=n(246887),RH=n(911249),MH=n(339123),wH=n.n(MH),ZH=n(96972),LH=n.n(ZH),DH=n(540579),UH=n.n(DH);function kH(e){return e===RH.pS.SPAM?J.Z.Messages.MESSAGE_REQUESTS_SPAM_EMPTY_STATE_BODY:J.Z.Messages.MESSAGE_REQUESTS_EMPTY_STATE_BODY}function GH(e){var t=e.section,n=(0,s.e7)([ct.Z],(function(){return ct.Z.theme}));return(0,r.jsxs)(xH.ZP,{theme:n,className:wH().emptyStateContainer,children:[(0,r.jsx)(xH.ZP.Image,{width:415,height:200,lightSrc:UH(),darkSrc:LH()}),(0,r.jsx)(xH.ZP.Text,{note:kH(t)})]})}var BH=n(789358),HH=n.n(BH);function VH(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function FH(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value
}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function YH(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){FH(i,r,o,a,s,"next",e)}function s(e){FH(i,r,o,a,s,"throw",e)}a(void 0)}))}}function zH(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function WH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){zH(e,t,n[t])}))}return e}function KH(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function qH(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return VH(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VH(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var XH=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){
a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};const QH=function(e){var t=e.children,i=e.user,a=e.channel,s=e.onClick,l=e.isFocused,c=e.isActive,u=e.onOtherHover,f=e.className,d=qH(o.useState(!1),2),p=d[0],h=d[1],E=qH(o.useState(!1),2),y=E[0],m=E[1],b=function(){h(!0);!l||c||y||null==u||u()},g=function(){h(!1)};return(0,r.jsx)(ib.mh,{id:a.id,children:function(e){return(0,r.jsx)(ob.tE,{offset:{left:-8,right:-8},children:(0,r.jsx)(Zi.Z.div,KH(WH({className:$p()(HH().messageRequestItem,f,zH({},HH().active,c||y)),onContextMenu:function(e){return function(e,t){if(null!=t){m(!0);(0,db.jW)(e,YH((function(){var e,o;return XH(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(87996),n.e(45323),n.e(64178)]).then(n.bind(n,90248))];case 1:e=i.sent(),o=e.default;return[2,function(e){
return(0,r.jsx)(o,KH(WH({},e),{user:t}))}]}}))})),{onClose:function(){m(!1)}})}}(e,i)},onMouseEnter:b,onMouseLeave:g,onClick:null!=s?s:void 0,style:{LIST_ROW_HEIGHT:RH.WN,opacity:1}},e),{children:t(p||c||y)}))})}})};var $H=n(895076),JH=n(125628),eV=n(437803),tV=n(10559);function nV(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function rV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){nV(e,t,n[t])}))}return e}function oV(e){var t=e.lastMessageId,n=e.message;return e.loaded&&null!=n?nA.default.extractTimestamp(n.id):null!=t?nA.default.extractTimestamp(t):null}var iV=n(382394),aV=n(978571),sV=n(922499),lV=n(219842),cV=n(364676),uV=n(948387),fV=n.n(uV);function dV(e){
var t=e.channel,n=(0,tV.a)(t),i=n.loaded,a=n.error,l=n.message,c=(0,s.e7)([us.Z],(function(){return null!=l&&us.Z.isBlocked(l.author.id)}),[l]),u=(0,s.e7)([hn.Z],(function(){return hn.Z.can(R.Plq.MANAGE_MESSAGES,t)})),f=ut.cC.useSetting(),d=o.useMemo((function(){return null!=(null==l?void 0:l.content)&&""!==l.content?(0,aV.ZP)(l,{formatInline:!0,noStyleAndInteraction:!0}):{content:null}}),[l]).content,p=null;if(a)p=(0,r.jsx)(K.xv,{className:fV().messageReplacement,variant:"text-sm/normal",color:"text-muted",children:J.Z.Messages.MESSAGE_REQUESTS_ERROR_LOADING_PREVIEW});else if(i)if(null!=l&&c)p=(0,r.jsx)(K.xv,{className:fV().messageReplacement,variant:"text-sm/normal",color:"text-muted",children:J.Z.Messages.MESSAGE_REQUESTS_BLOCKED_MESSAGE});else if(null!=l){var h=(0,lV.f)(l,d,c,$p()(fV().messageContent,Lx().inlineFormat,Lx().smallFontSize),{iconClass:fV().messageContentIcon,iconSize:cV.WW}),E=h.contentPlaceholder,y=h.renderedContent;p=null!=y?(0,r.jsx)(K.xv,{variant:"text-sm/normal",
color:"text-muted",className:fV().messageContent,children:y}):(0,r.jsx)(K.xv,{tag:"span",variant:"text-sm/normal",color:"text-muted",className:fV().messageReplacement,children:E})}else p=(0,r.jsx)(K.xv,{className:fV().messageReplacement,variant:"text-sm/normal",color:"text-muted",children:J.Z.Messages.MESSAGE_REQUESTS_DELETED_MESSAGE});else p=null;return(0,r.jsx)(sV.a.Provider,{value:(0,iV.Z)(f,u),children:(0,r.jsx)(K.Rn,{className:fV().messageFocusBlock,children:p})})}const pV=o.memo(dV);var hV=n(203355),EV=n.n(hV),yV=bs.default.getEnableHardwareAcceleration()?cg.Xo:cg.ZP;function mV(e){var t=e.channel,n=e.otherUser,o=e.active,i=(0,s.e7)([h.Z],(function(){return h.Z.useReducedMotion})),a=(0,s.e7)([us.Z],(function(){return null==n?null:us.Z.getNickname(n.id)})),l=(0,Mj.U)().canUseAvatarDecorations,c=!i&&o,u=function(e){var t=(0,tV.a)(e),n=oV(rV({lastMessageId:(0,s.e7)([kj.ZP],(function(){return kj.ZP.lastMessageId(e.id)}))},t));return null==n?"":(0,eV.Ye)(n)}(t),f=l?(0,zs.NZ)({
userId:n.id,avatarDecoration:n.avatarDecoration,size:(0,wj.y)(cg.u8.SIZE_40),canAnimate:c}):null;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(yV,{className:EV().avatar,src:(0,JH.x)(t,40,c),avatarDecoration:f,size:cg.ZP.Sizes.SIZE_40,"aria-label":n.username}),(0,r.jsxs)("div",{className:EV().userPreview,children:[(0,r.jsxs)("div",{className:EV().userContainerWithPreview,children:[(0,r.jsx)($H.Z,{nick:a,user:n,showAccountIdentifier:!0,className:EV().tagContainer,usernameClass:EV().username,discriminatorClass:EV().discriminator}),(0,r.jsx)(K.xv,{className:EV().timestampWithPreview,color:"text-muted",variant:"text-xs/normal",children:u})]}),(0,r.jsx)("div",{className:EV().messagePreview,children:(0,r.jsx)(pV,{channel:t})})]})]})}var bV=n(705825),gV=n.n(bV);function OV(e){var t=e.active,n=e.user,i=e.channel,a=EH(),s=o.useCallback((function(){(0,CA.CF)((0,NA.Yz)(J.Z.Messages.MESSAGE_REQUEST_REQUEST_ERROR_ALERT_TITLE,NA.pC.FAILURE))}),[]),l=o.useCallback((function(){
$f.Z.closeChannelSidebar(qd.uZ)}),[]),c=o.useCallback((function(){$f.Z.closeChannelSidebar(qd.uZ);a&&(0,Gg.Kh)(i.id)}),[i.id,a]),u=(0,mH.m)({user:n,onAcceptSuccess:c,onRejectSuccess:l,onError:s}),f=u.acceptMessageRequest,d=u.rejectMessageRequest,p=u.isAcceptLoading,h=u.isRejectLoading,E=u.isUserProfileLoading,y=u.isOptimisticAccepted,m=u.isOptimisticRejected,b=p||h||E||(y||m);return(0,r.jsxs)("div",{className:gV().container,children:[(0,r.jsx)(mV,{channel:i,otherUser:n,active:t}),(0,r.jsxs)("div",{className:gV().actions,children:[(0,r.jsx)(K.zx,{className:gV().button,color:K.Tt.PRIMARY,size:K.zx.Sizes.SMALL,onClick:function(e){e.stopPropagation();d(i.id)},disabled:b,submitting:h||m,children:J.Z.Messages.MESSAGE_REQUEST_IGNORE}),(0,r.jsx)(K.zx,{className:gV().button,color:K.Tt.BRAND,size:K.zx.Sizes.SMALL,onClick:function(e){e.stopPropagation();f(i.id)},disabled:b,submitting:p||E||y,children:J.Z.Messages.MESSAGE_REQUEST_ACCEPT})]})]})}function vV(e){
var t=e.className,n=e.channel,o=e.user,i=e.hasSingleMessageRequest,a=(0,PH._)().channelId;return(0,r.jsx)(QH,{className:t,isFocused:a===n.id,channel:n,user:o,onClick:function(e){e.stopPropagation();$f.Z.openPrivateChannelAsSidebar({channelId:n.id,baseChannelId:qd.uZ,hasSingleMessageRequest:i});setTimeout((function(){Dc.S.dispatch(R.CkL.FOCUS_CHANNEL_TEXT_AREA,{channelId:n.id})}),0)},children:function(e){return(0,r.jsx)(OV,{active:e,user:o,channel:n})}})}var _V=n(905339),IV=n(515554),SV=n.n(IV);function TV(e){var t=e.active,n=e.user,i=e.channel,a=yH(),s=o.useCallback((function(){(0,CA.CF)((0,NA.Yz)(J.Z.Messages.MESSAGE_REQUESTS_SPAM_ERROR_ALERT_TITLE,NA.pC.FAILURE));IH.Z.increment({name:sH.V.SPAM_MESSAGE_REQUEST_ERROR_VIEW})}),[]),l=o.useCallback((function(){$f.Z.closeChannelSidebar(qd.uZ)}),[]),c=o.useCallback((function(){$f.Z.closeChannelSidebar(qd.uZ);a&&(0,Gg.Kh)(i.id)}),[i.id,a]),u=(0,mH.m)({user:n,onAcceptSuccess:c,onRejectSuccess:l,onError:s
}),f=u.acceptMessageRequest,d=u.isAcceptLoading,p=u.isUserProfileLoading,h=u.isOptimisticAccepted,E=d||p,y=E||h;return(0,r.jsxs)("div",{className:SV().container,children:[(0,r.jsx)(mV,{otherUser:n,channel:i,active:t}),(0,r.jsxs)("div",{className:SV().actions,children:[(0,r.jsx)(K.zx,{className:SV().button,color:K.Tt.PRIMARY,size:K.zx.Sizes.SMALL,onClick:function(e){f(i.id);e.stopPropagation()},disabled:y,submitting:E,children:J.Z.Messages.MESSAGE_REQUESTS_SPAM_ACCEPT}),(0,r.jsx)(_V.Z,{className:SV().button,channel:i,buttonSize:K.zx.Sizes.SMALL})]})]})}function NV(e){var t=e.className,n=e.channel,o=e.user,i=e.hasSingleMessageRequest;return(0,r.jsx)(QH,{className:t,isFocused:!1,channel:n,user:o,onClick:function(e){e.stopPropagation();$f.Z.openPrivateChannelAsSidebar({channelId:n.id,baseChannelId:qd.uZ,hasSingleMessageRequest:i});setTimeout((function(){Dc.S.dispatch(R.CkL.FOCUS_CHANNEL_TEXT_AREA,{channelId:n.id})}),0)},children:function(e){return(0,r.jsx)(TV,{active:e,user:o,channel:n})}
})}var CV=n(829374),AV=n.n(CV);function PV(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function jV(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function xV(){var e=o.useRef(null),t=function(){var e=(0,s.e7)([I.Z],(function(){return I.Z.getPrivateChannelsVersion()})),t=(0,s.Wu)([I.Z,dH.Z],(function(){var e=I.Z.getMutablePrivateChannels();return jH(Array.from(dH.Z.getSpamChannelIds()).map((function(t){return e[t]})).filter((function(e){return null!=e})))}),[e]),n=(0,s.cj)([F.default],(function(){var e={};t.forEach((function(t){var n=F.default.getUser(t.recipients[0]);null!=n&&(e[t.id]=n)}));return e}),[t])
;return o.useMemo((function(){return t.map((function(e){return{channel:e,user:n[e.id]}}))}),[t,n])}(),n=hH(),i=yH(),a=uH(),l=(0,vA.Z)("message-requests-spam-list"),c=(0,PH._)().channelId,u=o.useCallback((function(){(0,CA.CF)((0,NA.Yz)(J.Z.Messages.MESSAGE_REQUEST_REQUEST_ERROR_ALERT_TITLE,NA.pC.FAILURE))}),[]),f=(0,mH.m)({onError:u}).rejectAll,d=o.useCallback((function(){var e=t.map((function(e){return e.channel.id}));f(e)}),[t,f]);o.useEffect((function(){Te.default.track(R.rMx.SPAM_MESSAGE_REQUESTS_VIEWED,{num_spam_message_requests:n});IH.Z.increment({name:sH.V.SPAM_MESSAGE_REQUEST_VIEW})}),[]);var p=o.useCallback((function(e){var n,o,a,s=e.row,l=t[s],u=null===(n=t[s+1])||void 0===n||null===(o=n.channel)||void 0===o?void 0:o.id,f=l.channel.id,d=null!=c&&c===f,p=null!=c&&c===u;return(0,r.jsx)(NV,{className:$p()((a={},PV(a,AV().selected,d),PV(a,AV().siblingSelected,p),a)),channel:l.channel,user:l.user,hasSingleMessageRequest:i},f)}),[t,i,c]),h=o.useCallback((function(){return(0,
r.jsxs)(NH.Z,{className:AV().sectionTitle,children:[J.Z.Messages.MESSAGE_REQUESTS_SPAM_HEADER.format({count:n}),a&&n>0?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(K.xv,{className:AV().titleDivider,variant:"eyebrow",color:"header-secondary",tag:"span",children:"•"}),(0,r.jsx)(K.zx,{onClick:d,look:K.iL.LINK,color:K.Tt.LINK,size:K.Ph.SMALL,className:AV().clearAllButton,"aria-label":J.Z.Messages.MESSAGE_REQUESTS_CLEAR_ALL,children:J.Z.Messages.MESSAGE_REQUESTS_CLEAR_ALL})]}):null]},"message-requests-spam-title")}),[n,d,a]);return 0===t.length?(0,r.jsx)(GH,{section:RH.pS.SPAM}):(0,r.jsx)(ib.bG,{navigator:l,children:(0,r.jsx)(ib.SJ,{children:function(n){var o=n.ref,i=n.role,a=jV(n,["ref","role"]);return(0,r.jsx)(SA.ZP,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))))
;r.forEach((function(t){PV(e,t,n[t])}))}return e}({className:AV().list,innerRole:i,innerAriaLabel:J.Z.Messages.MESSAGE_REQUESTS,ref:function(t){e.current=t;var n;o.current=null!==(n=null==t?void 0:t.getScrollerNode())&&void 0!==n?n:null},paddingTop:24,paddingBottom:24,sectionHeight:RH.oi,rowHeight:RH.WN,renderSection:h,renderRow:p,sections:[t.length],chunkSize:30,fade:!0},a),"message-requests-spam-list")}})})}var RV=n(928064),MV=n.n(RV);function wV(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ZV(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function LV(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r]
;t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function DV(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return wV(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wV(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function UV(){
var e=o.useRef(null),t=(0,pH.q)(),n=function(){var e=(0,s.e7)([I.Z],(function(){return I.Z.getPrivateChannelsVersion()})),t=(0,s.Wu)([I.Z,fH.Z],(function(){var e=I.Z.getMutablePrivateChannels();return jH(Array.from(fH.Z.getMessageRequestChannelIds()).map((function(t){return e[t]})).filter((function(e){return null!=e})))}),[e]),n=(0,s.cj)([F.default],(function(){var e={};t.forEach((function(t){var n=F.default.getUser(t.recipients[0]);null!=n&&(e[t.id]=n)}));return e}),[t]);return o.useMemo((function(){return t.map((function(e){return{channel:e,user:n[e.id]}}))}),[t,n])}(),i=EH(),a=uH(),l=o.useCallback((function(){(0,CA.CF)((0,NA.Yz)(J.Z.Messages.MESSAGE_REQUEST_REQUEST_ERROR_ALERT_TITLE,NA.pC.FAILURE))}),[]),c=(0,mH.m)({onError:l}).rejectAll,u=(0,vA.Z)("message-requests-list"),f=(0,PH._)().channelId,d=o.useCallback((function(){var e=n.map((function(e){return e.channel.id}));c(e)}),[n,c]),p=o.useCallback((function(e){
var t,o,a,s=e.row,l=n[s],c=null===(t=n[s+1])||void 0===t||null===(o=t.channel)||void 0===o?void 0:o.id,u=l.channel.id,d=null!=f&&f===u,p=null!=f&&f===c;return(0,r.jsx)(vV,{className:$p()((a={},ZV(a,MV().selected,d),ZV(a,MV().siblingSelected,p),a)),channel:l.channel,user:l.user,hasSingleMessageRequest:i},u)}),[i,n,f]),h=o.useCallback((function(){return(0,r.jsxs)(NH.Z,{className:MV().sectionTitle,children:[t>0?J.Z.Messages.MESSAGE_REQUESTS_PAGE_TITLE_WITH_COUNT.format({count:t}):J.Z.Messages.MESSAGE_REQUESTS_PAGE_TITLE,a&&t>0?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(K.xv,{className:MV().titleDivider,variant:"eyebrow",color:"header-secondary",tag:"span",children:"•"}),(0,r.jsx)(K.zx,{onClick:d,look:K.iL.LINK,color:K.Tt.LINK,size:K.Ph.SMALL,className:MV().clearAllButton,"aria-label":J.Z.Messages.MESSAGE_REQUESTS_CLEAR_ALL,children:J.Z.Messages.MESSAGE_REQUESTS_CLEAR_ALL})]}):null]},"title")}),[t,d,a]);n.length!==t&&IH.Z.increment({name:sH.V.MESSAGE_REQUEST_COUNT_DRIFT})
;return 0===n.length?(0,r.jsx)(GH,{section:RH.pS.REQUESTS}):(0,r.jsx)(ib.bG,{navigator:u,children:(0,r.jsx)(ib.SJ,{children:function(t){var o=t.ref,i=t.role,a=LV(t,["ref","role"]);return(0,r.jsx)(SA.ZP,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ZV(e,t,n[t])}))}return e}({className:MV().list,innerRole:i,innerAriaLabel:J.Z.Messages.MESSAGE_REQUESTS,ref:function(t){e.current=t;var n;o.current=null!==(n=null==t?void 0:t.getScrollerNode())&&void 0!==n?n:null},paddingTop:24,paddingBottom:24,sectionHeight:RH.oi,rowHeight:RH.WN,renderSection:h,renderRow:p,sections:[n.length],chunkSize:30,fade:!0},a),"message-requests-list")}})})}function kV(e){var t=e.pageWidth,n=e.onSidebarResize,o=(0,s.e7)([qd.ZP],(function(){
return qd.ZP.getSidebarState(qd.uZ)})),i=(0,s.e7)([I.Z],(function(){return I.Z.getChannel(null==o?void 0:o.channelId)}));if(null==o||o.type!==Hg.t.VIEW_MESSAGE_REQUEST||null==i||!i.isPrivate())return null;var a=t-R.R7I;return(0,r.jsx)(ab.Z,{sidebarType:ab.y.MessageRequestSidebar,maxWidth:a,onWidthChange:n,children:(0,r.jsx)(_H,{channel:i,baseChannelId:qd.uZ})})}var GV=function(e){var t=e.markAsDismissed;return(0,r.jsx)(hL.ZP,{header:J.Z.Messages.MESSAGE_REQUESTS_COACHMARK_TITLE,content:J.Z.Messages.MESSAGE_REQUESTS_COACHMARK_CONTENT_TEENS,buttonCTA:J.Z.Messages.MESSAGE_REQUESTS_COACHMARK_DISMISS,className:MV().messageRequestCoachmark,onClick:t,markAsDismissed:t,caretPosition:hL.DF.TOP_CENTER,headerClassName:MV().header})},BV=function(e){var t=(0,AH.Z)(),n=(0,s.e7)([h.Z],(function(){return h.Z.useReducedMotion}));o.useEffect((function(){(0,dn.kk)(fn.z$.MESSAGE_REQUEST_SETTINGS_COACH_MARK)}),[]);return(0,r.jsx)(LT.Z,{contentTypes:[fn.z$.MESSAGE_REQUEST_SETTINGS_COACH_MARK],
children:function(o){var i=o.visibleContent,a=o.markAsDismissed;return i===fn.z$.MESSAGE_REQUEST_SETTINGS_COACH_MARK?(0,r.jsx)(xg.ZP,{renderPopout:function(){return t?(0,r.jsx)(GV,{markAsDismissed:a}):(0,r.jsx)(hL.ZP,{header:J.Z.Messages.MESSAGE_REQUESTS_COACHMARK_TITLE,content:J.Z.Messages.MESSAGE_REQUESTS_COACHMARK_CONTENT,buttonCTA:J.Z.Messages.MESSAGE_REQUESTS_COACHMARK_CONFIRM,secondaryButtonCTA:J.Z.Messages.MESSAGE_REQUESTS_COACHMARK_DISMISS,className:MV().messageRequestCoachmark,onClick:function(e){e.stopPropagation();(0,q.uL)(R.Z5c.SETTINGS("privacy-and-safety"))},markAsDismissed:a,caretPosition:hL.DF.TOP_CENTER,headerClassName:MV().header})},position:xg.ZP.Positions.BOTTOM,align:xg.ZP.Align.CENTER,animation:n?xg.ZP.Animation.NONE:xg.ZP.Animation.TRANSLATE,shouldShow:!(S.Z.hasLayers()||(0,Y.$s)()),spacing:16,children:function(){return e.children}}):e.children}})};function HV(e){return e.section===RH.pS.SPAM?(0,r.jsx)(xV,{}):(0,r.jsx)(UV,{})}var VV=(0,lb.Z)((function(e){
var t=e.width,n=(0,pH.q)();o.useEffect((function(){lH(R.Z5c.MESSAGE_REQUESTS);(0,SH.e)("message-requests");Te.default.track(R.rMx.MESSAGE_REQUESTS_VIEWED,{num_message_requests:n});IH.Z.increment({name:sH.V.MESSAGE_REQUEST_VIEW})}),[]);var i,a=(0,s.e7)([ct.Z],(function(){return ct.Z.theme})),l=hH(),c=DV(o.useState(!1),2),u=c[0],f=c[1],d=(0,s.e7)([qd.ZP,fH.Z,dH.Z],(function(){var e=qd.ZP.getSidebarState(qd.uZ);return null!=e&&e.type===Hg.t.VIEW_MESSAGE_REQUEST&&(fH.Z.isMessageRequest(e.channelId)||dH.Z.isSpam(e.channelId))})),p=DV(o.useState(RH.pS.REQUESTS),2),h=p[0],E=p[1];(0,bm.Tt)({location:J.Z.Messages.MESSAGE_REQUESTS});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:$p()(EC().chat,MV().container,(i={},ZV(i,EC().threadSidebarOpen,d),ZV(i,EC().threadSidebarFloating,d&&u),i)),children:[(0,r.jsxs)(kg.Z,{className:(0,CH.Q)(a),toolbar:!0,children:[(0,r.jsx)(kg.Z.Icon,{icon:TH.Z,"aria-hidden":!0}),(0,r.jsx)(BV,{children:(0,r.jsx)(kg.Z.Title,{
children:J.Z.Messages.MESSAGE_REQUESTS})}),(0,r.jsx)(kg.Z.Divider,{}),(0,r.jsxs)(yA.ZP,{"aria-label":J.Z.Messages.MESSAGE_REQUESTS,selectedItem:h,type:yA.Yk.TOP_PILL,onItemSelect:function(e){E(e)},className:MV().tabBar,children:[(0,r.jsx)(yA.ck,{id:RH.pS.REQUESTS,className:MV().item,children:J.Z.Messages.MESSAGE_REQUESTS_REQUESTS_TAB_TITLE}),(0,r.jsx)(yA.ck,{id:RH.pS.SPAM,className:MV().item,children:0===l?J.Z.Messages.MESSAGE_REQUESTS_SPAM_TAB_TITLE:J.Z.Messages.MESSAGE_REQUESTS_SPAM_TAB_TITLE_WITH_COUNT.format({count:l})})]})]}),(0,r.jsx)("div",{className:EC().content,children:(0,r.jsx)(HV,{section:h})})]}),d&&(0,r.jsx)(kV,{pageWidth:t,onSidebarResize:function(e,t){f(t)}})]})}));const FV=VV;var YV=n(723714);function zV(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}var WV=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},
"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};const KV=function(){return(e=function(){var e;return WV(this,(function(t){
switch(t.label){case 0:t.trys.push([0,2,,3]);return[4,gs.Z.get(R.ANM.FRIEND_SUGGESTIONS)];case 1:e=t.sent();g.Z.dispatch({type:"LOAD_FRIEND_SUGGESTIONS_SUCCESS",suggestions:e.body});return[3,3];case 2:t.sent();g.Z.dispatch({type:"LOAD_FRIEND_SUGGESTIONS_FAILURE"});return[3,3];case 3:return[2]}}))},function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){zV(i,r,o,a,s,"next",e)}function s(e){zV(i,r,o,a,s,"throw",e)}a(void 0)}))})();var e},qV=function(e){gs.Z.delete(R.ANM.FRIEND_SUGGESTION(e))};function XV(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function QV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $V(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function JV(e){JV=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return JV(e)}
function eF(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function tF(e,t){return!t||"object"!==oF(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function nF(e,t){nF=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return nF(e,t)}function rF(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){
i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return XV(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XV(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var oF=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function iF(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}()
;return function(){var n,r=JV(e);if(t){var o=JV(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return tF(this,n)}}var aF={},sF=0,lF=!1,cF=!1;function uF(e){var t;return{key:e.suggested_user.id,name:null===(t=os().first(e.reasons))||void 0===t?void 0:t.name,user:new JC.Z(e.suggested_user)}}var fF=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&nF(e,t)}(n,e);var t=iF(n);function n(){QV(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(F.default)};r.getSuggestionCount=function(){return sF};r.getSuggestions=function(){return Object.entries(aF).map((function(e){var t=rF(e,2);t[0];return t[1]}))};r.getSuggestion=function(e){return aF[e]};r.__getLocalVars=function(){return{suggestions:aF,suggestionCount:sF,fetching:lF,shouldFetch:cF
}};return n}(s.ZP.Store);fF.displayName="FriendSuggestionStore";const dF=new fF(g.Z,{CONNECTION_OPEN:function(e){aF={};if((sF=e.friendSuggestionCount)>0){cF=!0;!function(){if(!lF&&cF){lF=!0;cF=!1;KV()}}()}},FRIEND_SUGGESTION_CREATE:function(e){var t=uF(e.suggestion);if(null!=aF[t.key])return!1;sF++;aF=eF(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){$V(e,t,n[t])}))}return e}({},aF),$V({},t.key,t))},FRIEND_SUGGESTION_DELETE:function(e){sF=Math.max(0,--sF);delete aF[e.suggestedUserId]},LOAD_FRIEND_SUGGESTIONS_SUCCESS:function(e){lF=!1;aF=os().chain(e.suggestions).map(uF).keyBy((function(e){return e.key})).value();sF=os().keys(aF).length},LOAD_FRIEND_SUGGESTIONS_FAILURE:function(){lF=!1;aF={}}})
;var pF=n(861925),hF=n(239396),EF=n(437454),yF=n(897108),mF=n(95898),bF=n.n(mF);function gF(e){var t=e.className,n=e.markAsDismissed;return(0,r.jsxs)(yF.Z,{className:$p()(bF().card,t),children:[(0,r.jsx)(K.X6,{variant:"heading-md/semibold",className:bF().header,children:J.Z.Messages.NOW_PLAYING_GDPR_HEADER}),(0,r.jsx)(K.xv,{variant:"text-sm/normal",children:J.Z.Messages.NOW_PLAYING_GDPR_BODY.format({onPrivacyClick:function(){return p.Z.open(R.oAB.PRIVACY_AND_SAFETY)}})}),(0,r.jsxs)("div",{className:bF().buttonContainer,children:[(0,r.jsx)(K.zx,{size:K.zx.Sizes.SMALL,onClick:function(){return(0,EF.g)([R.pjP.PERSONALIZATION],[])},children:J.Z.Messages.ACTIVITY_FEED_CARD_GDPR_BUTTON_YES}),(0,r.jsx)(K.zx,{color:K.zx.Colors.PRIMARY,size:K.zx.Sizes.SMALL,onClick:function(){return n(yn.L.DISMISS)},look:K.zx.Looks.LINK,children:J.Z.Messages.NO_THANKS})]})]})}var OF=n(692410),vF=n(662322),_F=n(390212),IF=n(896348),SF=n(909890),TF=n(572561),NF=n(780377),CF=n(152250),AF=n(27034),PF=n(824044)
;function jF(e){var t,n,i=e.activity,a=(null!==(t=(0,PF.rq)(i))&&void 0!==t?t:{}).channelId,s=(0,DT.ZP)([Ow.Z],(function(){return Ow.Z.getStageInstanceByChannel(a)}),[a]),l=o.useRef(null),c=o.useCallback((function(){var e=I.Z.getChannel(a);null!=e&&KO.Cq(e)}),[a]),u=null!==(n=null==s?void 0:s.topic)&&void 0!==n?n:i.name,f=J.Z.Messages.STAGE_CHANNEL_ACTIVITY_FEED_JOIN.format({channel:u});return(0,r.jsx)("div",{ref:l,children:(0,r.jsx)(K.P3,{onClick:c,focusProps:{ringTarget:l},children:(0,r.jsx)(K.X6,{variant:"heading-sm/semibold",children:f})})})}var xF=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);this.body=jF}var t=e.prototype;t.shouldShow=function(e){return(0,PF.JE)(e)};t.createHeader=function(e){return{subtitle:J.Z.Messages.STAGE_CHANNEL_ACTIVITY_FEED_DEFAULT,icon:null}};return e}(),RF=n(385202),MF=n(885836),wF=n.n(MF);var ZF=function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,
configurable:!0,writable:!0}):e[t]=n;return e}({},RF.gD,new xF);function LF(e){var t,n=e.application_id;if(null!=n){var r=ZF[n];return null!=r&&!1!==(null===(t=r.shouldShow)||void 0===t?void 0:t.call(r,e))?r.createHeader(e):void 0}}function DF(e){var t,n=e.application_id;if(null!=n){var o=ZF[n];if(null!=(null==o?void 0:o.body)&&!1!==(null===(t=o.shouldShow)||void 0===t?void 0:t.call(o,e))){var i=o.body;return(0,r.jsx)("section",{className:wF().section,children:(0,r.jsx)(i,{activity:e})},"delegate-".concat(n))}}}var UF=n(372196),kF=n(935676),GF=n(906369),BF=n(489571),HF=n(937026);function VF(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function FF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function zF(e,t,n){
t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function WF(e){WF=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return WF(e)}function KF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){zF(e,t,n[t])}))}return e}function qF(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){
Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function XF(e,t){return!t||"object"!==JF(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function QF(e,t){QF=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return QF(e,t)}function $F(e){return function(e){if(Array.isArray(e))return VF(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return VF(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VF(e,t)}(e)||function(){
throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var JF=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function eY(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=WF(e);if(t){var o=WF(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return XF(this,n)}}var tY="party-",nY="channel-",rY="user-",oY=!1,iY=!1,aY=[],sY=[],lY={},cY={},uY=new Set,fY=new Set;function dY(){var e=us.Z.getFriendIDs();return OF.Z.hasConsented(R.pjP.PERSONALIZATION)?new Set($F(fs.Z.getUserAffinitiesUserIds()).concat($F(e))):new Set(e)}function pY(e){return cs.Z.findActivity(e,(function(e){
return e.type!==R.IIU.CUSTOM_STATUS}))}function hY(e){null==lY[e]&&(lY=qF(KF({},lY),zF({},e,new GF.Z({name:e}))));return lY[e]}function EY(e){null==cY[e]&&(cY=qF(KF({},cY),zF({},e,new kF.Z({url:e}))));return cY[e]}function yY(e){fY.has(e)||uY.add(e)}function mY(e){if((0,TF.Z)(e))return UF.r9;var t=null!=e.application_id?Mn.Z.getGame(e.application_id):null;if(null!=t)return t;if((0,NF.Z)(e))return hY(e.name);if((0,CF.Z)(e)&&null!=e.url)return EY(e.url);null!=e.application_id&&yY(e.application_id);return t}function bY(e){var t=P.Z.getVoiceStateForUser(e);return null!=(null==t?void 0:t.channelId)&&hn.Z.canWithPartialContext(R.Plq.VIEW_CHANNEL,{channelId:t.channelId})?t.channelId:null}function gY(e,t){return os()(e).orderBy([t,function(e){return e.game.name}],["desc","asc"])}function OY(e){return us.Z.isFriend(e.id)}function vY(e,t,n){var r,o=F.default.getCurrentUser(),i=t.map((function(e){return e.id})),a=t.filter((function(t){return e.has(t.id)
})),s=!1,l=[],c=new Set,u=!1,f=[],d=!0,p=!1,h=void 0;try{for(var E,y=function(){var e,n,r=E.value,i=xr.Z.getAnyStreamForUser(r.id),a=pY(r.id);null!=i&&f.push({stream:i,streamUser:r,activity:a});if(null==a)return"continue";var d=(0,_F.a)();if((0,SF.Z)(a)&&(0,IF.ZP)({userId:r.id,activity:a,application:void 0,channelId:null===(e=P.Z.getVoiceStateForUser(r.id))||void 0===e?void 0:e.channelId,currentUser:o,isActivitiesEnabledForCurrentPlatform:d,ChannelStore:I.Z,VoiceStateStore:P.Z,PermissionStore:hn.Z,GuildStore:Ut.Z})!==IF.Fw.CAN_JOIN)return"continue";var p=null===(n=a.timestamps)||void 0===n?void 0:n.start;if(null==p&&!(0,SF.Z)(a))return"continue";var h=(0,AF.Z)(a);if(null==h)return"continue";u=h===UF.XB;if(!function(e){var t,n=e.application_id;if(null==n)return!0;var r=ZF[n];return null==r||!1!==(null===(t=r.shouldShow)||void 0===t?void 0:t.call(r,e))}(a))return"continue";var y=function(e){var t=Mn.Z.getGame(e);if(null!=t)return t;if("string"!=typeof e){
HF.Z.captureMessage("Unknown type for applicationId: ".concat(void 0===e?"undefined":JF(e),", value: ").concat(e),{tags:{source:"ACTIVITIES"}});return null}if(e===UF.XB)return UF.r9;if(e.startsWith(GF.H))return hY(e.slice(GF.H.length));if(e.startsWith(kF._))return EY(e.slice(kF._.length));yY(e);return null}(h);if(null==y||c.has(y.id))return"continue";var m=null!=a?mY(a):null;null!=m&&m.id===y.id||(a=null);var b=[];if(null!=a&&null!=a.party&&null!=a.party.id){var g,O=null!==(g=BF.Z.getParty(a.party.id))&&void 0!==g?g:[];b=Array.from(O).reduce((function(e,t){var n=F.default.getUser(t);null!=n&&e.push(n);return e}),[])}else b=t.filter((function(e){var t=pY(e.id),n=null!=t?mY(t):null;return null!=n&&n.id===y.id}));(b=os().orderBy(b,[OY],["desc"])).length!==t.length&&(s=!0);c.add(y.id);l.push({game:y,activity:a,activityUser:r,startedPlayingTime:p,playingMembers:b})},m=t[Symbol.iterator]();!(d=(E=m.next()).done);d=!0)y()}catch(e){p=!0;h=e}finally{try{d||null==m.return||m.return()}finally{
if(p)throw h}}var b,g=1===a.length,O=[],v=new Set,_=new Set,S=!0,T=!1,N=void 0;try{for(var C,A=t[Symbol.iterator]();!(S=(C=A.next()).done);S=!0){var j=bY(C.value.id),x=I.Z.getChannel(j),R=null!=x?x.getGuildId():null,M=Ut.Z.getGuild(R);if(_.has(R)&&v.has(j)||null==x||null==M||x.id===M.afkChannelId){if(null==x){r=null;g=!0}}else{var w=os()(P.Z.getVoiceStatesForChannel(x.id)).map((function(e){var t=e.userId;return F.default.getUser(t)})).filter(So.lm).orderBy([OY],["desc"]).value();w.filter((function(e){return!i.includes(e.id)})).forEach((function(e){return t.push(e)}));if(g)_.has(R)||(r=null);else{r=M;g=!0}_.add(R);v.add(j);O.push({channel:x,guild:M,members:w})}}}catch(e){T=!0;N=e}finally{try{S||null==A.return||A.return()}finally{if(T)throw N}}return{id:n,voiceChannels:O,isSpotifyActivity:u,priorityMembers:a.map((function(e){return{user:e,status:cs.Z.getStatus(e.id)}})),partiedMembers:t,showPlayingMembers:s,guildContext:r,currentActivities:gY(l,(function(e){
return null!==(b=e.startedPlayingTime)&&void 0!==b?b:0})).value(),applicationStreams:f}}function _Y(){return oY&&sy.Z.isConnected()}function IY(){if(!_Y())return!1;uY.clear();var e,t,n,r=function(e){return os()(e).groupBy((function(e){var t,n=bY(e.id),r=pY(e.id);return null!=n?"".concat(nY,"-").concat(n):null!=(null==r||null===(t=r.party)||void 0===t?void 0:t.id)?"".concat(tY,"-").concat(r.party.id):"".concat(rY,"-").concat(e.id)}))}(Array.from(dY()).reduce((function(e,t){var n=F.default.getUser(t);null==n||n.bot||e.push(n);return e}),[])),o=(e=r,t=dY(),n=vY.bind(null,t),os()(e).mapValues(n)),i=o.values().orderBy([function(e){return e.partiedMembers.length>1},function(e){return e.applicationStreams.length>0},function(e){return e.voiceChannels.length>0},function(e){return e.currentActivities.length>0},function(e){return e.isSpotifyActivity},function(e){return e.priorityMembers.map((function(e){return e.user.username.toLowerCase()})).join(" ")
}],["desc","desc","desc","desc","asc","asc"]).value();aY=function(e){return e.filter((function(e){return e.voiceChannels.length>=1||e.currentActivities.length>0||e.applicationStreams.length>0}))}(i);sY=function(e){return e.map((function(e){return{type:R.GOo.USER,party:e}}))}(aY);!function(){if(uY.size>0){var e=Array.from(uY);xn.Z.fetchApplications(e);e.forEach((function(e){return fY.add(e)}));uY.clear()}}();iY=!0}var SY=os().throttle((function(){IY();CY.emitChange()}),1e3);function TY(){if(!_Y())return!1;SY();return!1}var NY=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&QF(e,t)}(n,e);var t=eY(n);function n(){FF(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.syncWith([F.default,Mn.Z,cs.Z,BF.Z,P.Z,xr.Z,us.Z,OF.Z,fs.Z],TY);this.waitFor(sy.Z,Ut.Z,Mn.Z,F.default,fs.Z)}
;r.__getLocalVars=function(){return{PARTY_ID_START_PARTY:tY,PARTY_ID_START_CHANNEL:nY,PARTY_ID_START_USER:rY,RECOMPUTE_NOW_PLAYING_THROTTLE:1e3,isMounted:oY,loaded:iY,currentActivityParties:aY,nowPlayingCards:sY,xboxGames:lY,twitchRecords:cY,applicationIdsToFetch:uY,applicationIdsFetched:fY,throttledRecomputeNowPlaying:SY,instance:CY}};!function(e,t,n){t&&YF(e.prototype,t);n&&YF(e,n)}(n,[{key:"currentActivityParties",get:function(){return aY}},{key:"nowPlayingCards",get:function(){return sY}},{key:"isMounted",get:function(){return oY}},{key:"loaded",get:function(){return iY}}]);return n}(s.ZP.Store);NY.displayName="NowPlayingViewStore";var CY=new NY(g.Z,{LOGOUT:function(){oY=!1;aY=[];sY=[];uY.clear()},NOW_PLAYING_MOUNTED:function(){oY=!0;SY()},NOW_PLAYING_UNMOUNTED:function(){oY=!1}});const AY=CY
;var PY=n(735994),jY=n(510174),xY=n(927911),RY=n(842592),MY=n(332233),wY=n(779759),ZY=n(582107),LY=n(968445),DY=n(811989),UY=n(174572),kY=n(241874),GY=n(104640),BY=n(693518),HY=n(217409),VY=n(546906),FY=n(687054),YY=n(936584),zY=n(915306),WY=n(225464),KY=n(658045);function qY(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function XY(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function QY(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r]
;t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function $Y(e){var t=e.width,n=void 0===t?24:t,o=e.height,i=void 0===o?24:o,a=e.color,s=void 0===a?"currentColor":a,l=QY(e,["width","height","color"]);return(0,r.jsxs)("svg",XY(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){qY(e,t,n[t])}))}return e}({},(0,Xb.Z)(l)),{width:n,height:i,viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{fill:s,
d:"M12 14C7.289 14 4 16.467 4 20V22H20V20C20 16.467 16.711 14 12 14ZM11 19C10.447 19 10 18.553 10 18C10 17.447 10.447 17 11 17C11.553 17 12 17.447 12 18C12 18.553 11.553 19 11 19ZM14 19C13.447 19 13 18.553 13 18C13 17.447 13.447 17 14 17C14.553 17 15 17.447 15 18C15 18.553 14.553 19 14 19Z"}),(0,r.jsx)("path",{fill:s,d:"M18 6H17.91C17.432 3.167 14.967 1 12 1C9.033 1 6.568 3.167 6.09 6H6C4.896 6 4 6.896 4 8V9C4 10.104 4.896 11 6 11C6 12.102 6.897 13 8 13H16C17.104 13 18 12.102 18 11C19.104 11 20 10.104 20 9V8C20 6.896 19.104 6 18 6ZM16 10H8V6H16V10Z"})]}))}var JY=n(877001),ez=n.n(JY);function tz(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function nz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))))
;r.forEach((function(t){tz(e,t,n[t])}))}return e}function rz(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var oz=(0,KY.Z)((function(e){var t=e.member,n=e.empty,o=e.analyticsContext,i=e.guildId;if(n)return(0,r.jsx)("div",{className:ez().partyMemberEmpty});if(null==t)return(0,r.jsx)("div",{className:ez().partyMemberUnknown,children:(0,r.jsx)($Y,{className:ez().partyMemberUnknownIcon})});var a={location:rz(nz({},o.location),{object:R.qAy.AVATAR})};return(0,r.jsx)("div",{className:ez().partyMemberKnown,children:(0,r.jsx)(xg.ZP,{preload:function(){return(0,Lj.Z)(t.id,t.getAvatarURL(i,80),{guildId:i
})},renderPopout:function(e){return(0,r.jsx)(AU.Z,rz(nz({},e),{userId:t.id,analyticsParams:a}))},position:xg.ZP.Positions.LEFT,children:function(e){return(0,r.jsx)(cg.ZP,rz(nz({},e),{src:t.getAvatarURL(i,24),"aria-label":t.username,size:cg.ZP.Sizes.SIZE_24,className:ez().partyMember}))}})})}));const iz=function(e){var t=e.partySize,n=e.members,o=e.minAvatarsShown,i=void 0===o?1:o,a=e.maxAvatarsShown,s=void 0===a?2:a,l=e.guildId,c=t.unknownSize,u=t.totalSize,f=t.knownSize;if(u<i)return null;for(var d=os()(n).filter(So.lm).take(s).map((function(e){return(0,r.jsx)(oz,{member:e,guildId:l},e.id)})).value(),p=0;p<c&&d.length<s;p++)d.push((0,r.jsx)(oz,{guildId:l},"unknown-member-".concat(p)));for(var h=u-f-c,E=0;E<h&&d.length<s;E++)d.push((0,r.jsx)(oz,{empty:!0,guildId:l},"empty-member-".concat(E)));var y=Math.max(Math.min(u-d.length,99),0);if(1===y){var m=n[s];d.push((0,r.jsx)(oz,{member:m,guildId:l},m.id))}return(0,r.jsx)("div",{className:ez().wrapper,children:(0,r.jsxs)("div",{
className:ez().partyMembers,children:[d,y>1?(0,r.jsxs)("div",{className:ez().partyMemberOverflow,children:["+",y]}):null]})})};function az(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lz(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function cz(e){cz=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return cz(e)}function uz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){lz(e,t,n[t])}))}return e}function fz(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function dz(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function pz(e,t){return!t||"object"!==yz(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}
function hz(e,t){hz=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return hz(e,t)}function Ez(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return az(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return az(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var yz=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function mz(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=cz(e);if(t){var o=cz(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pz(this,n)}}var bz,gz=64,Oz=160,vz=[14,14,12,12,10,8,6],_z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,r.jsx)(K.xv,{className:$p()(wF().textContent,t),variant:"text-sm/semibold",children:e})},Iz=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,r.jsx)(K.xv,{className:$p()(wF().textContent,t),variant:"text-xs/normal",children:e})},Sz=(0,xY.Z)((function(e){var t=e.message;return(0,r.jsx)("div",{className:wF().timestamp,
children:t})})),Tz=function(e){var t=e.children;return(0,r.jsx)("section",{className:wF().section,children:t})},Nz=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&hz(e,t)}(o,e);var t=mz(o);function o(){sz(this,o);return t.apply(this,arguments)}var i=o.prototype;i.renderTimePlayed=function(){var e,t=this.props.activity,n=t.timestamps;if(null==n||!(0,LY.Z)(t)||(0,TF.Z)(t))return null;e=(0,PY.Z)(t)?(0,r.jsx)(Sz,{timestamps:n}):(0,r.jsx)(HY.ZP,{start:n.start,end:n.end,location:HY.ZP.Locations.USER_ACTIVITY,className:wF().playTime});return Iz(e)};i.render=function(){var e,t,o=this.props,i=o.activity,a=i.assets,s=i.details,l=i.state,c=i.application_id,u=o.getAssetImage;return(0,r.jsx)(Tz,{children:(0,r.jsxs)("div",{className:wF().activitySection,children:[null!=a&&0!==Object.keys(a).length?(0,r.jsxs)("div",{
className:wF().activitySectionAssets,children:[(0,r.jsx)("img",{alt:null!==(e=a.large_text)&&void 0!==e?e:"",src:u(c,a.large_image,[Oz,Oz]),className:$p()(wF().largeImage,lz({},wF().largeImageMask,null!=a.small_image))}),null!=a.small_image?(0,r.jsx)("img",{alt:null!==(t=a.small_text)&&void 0!==t?t:"",src:u(c,a.small_image,[gz,gz]),className:wF().smallImage}):null]}):(0,r.jsx)("div",{className:wF().activitySectionAssets,children:(0,r.jsx)("img",{alt:"",src:n(534413),className:wF().largeImage})}),(0,r.jsxs)("div",{children:[_z(null!=s&&""!==s?s:J.Z.Messages.USER_ACTIVITY_HEADER_PLAYING),null!=l?Iz(l):null,this.renderTimePlayed()]})]})})};return o}(o.Component),Cz=EE()({XBOX:null,SPOTIFY:null,MULTIPLE:null}),Az=function(e){var t,n=e.src,o=e.onClick,i=e.onContextMenu;switch(n){case Cz.XBOX:t=(0,r.jsx)(YY.Z,{className:wF().headerIcon,color:(0,pN.Lq)(R.Ilk.PRIMARY_300)});break;case Cz.SPOTIFY:t=(0,r.jsx)(FY.Z,{className:wF().headerIcon,color:(0,pN.Lq)(R.Ilk.SPOTIFY)});break
;case Cz.MULTIPLE:t=(0,r.jsx)("div",{className:wF().multipleIconWrapper,children:(0,r.jsx)(VY.Z,{className:$p()(wF().headerIcon,wF().multipleIcon),color:(0,pN.Lq)(R.Ilk.PRIMARY_300)})});break;default:t=(0,r.jsx)("img",{src:null!=n?n:void 0,alt:"",className:wF().headerIcon})}return null!=o||null!=i?(0,r.jsx)(K.P3,{onClick:o,className:$p()(null!=o?wF().clickableIcon:""),onContextMenu:i,children:t}):t};Az.Src=Cz;var Pz=function(e){var t=e.priorityUser,n=e.title,o=e.subtitle,i=e.icon,a=e.onContextMenu,s=e.guildId;return(0,r.jsxs)("header",{className:null!=i?wF().headerFull:wF().headerSimple,children:[(0,r.jsx)(cg.ZP,{src:t.user.getAvatarURL(s,32),"aria-label":t.user.username,size:cg.ZP.Sizes.SIZE_32,className:wF().headerAvatar,status:t.status,onContextMenu:a}),(0,r.jsxs)("div",{className:wF().headerDetails,children:[(0,r.jsx)(K.xv,{className:$p()(wF().textContent),variant:"text-md/semibold",children:n}),(0,r.jsx)(K.xv,{color:"header-secondary",className:wF().textContent,
variant:"text-sm/normal",children:o})]}),null!=i?i:null]})};Pz.Icon=Az;var jz=function(e){var t=e.children,n=e.className,o=dz(e,["children","className"]);return(0,r.jsx)(ob.tE,{children:(0,r.jsx)(yF.Z,fz(uz({className:$p()(n,wF().wrapper),padded:!0},o),{children:t}))})};jz.Header=Pz;jz.Body=function(e){var t=e.children;return(0,r.jsx)(yF.Z,{inset:!0,padded:!1,className:wF().body,children:t})};jz.Separator=function(e){var t=e.inset,n=e.className;return(0,r.jsx)("div",{className:$p()(wF().separator,lz({},wF().inset,t),n)})};jz.VoiceSection=function(e){var t,n,i=e.guild,a=e.channel,s=e.onGuildClick,l=e.partySize,c=e.members,u=e.onChannelContextMenu,f=o.useRef(null),d=(0,Wd.ZP)(a,!0);return(0,r.jsx)(Tz,{children:(0,r.jsxs)("div",{className:wF().voiceSection,ref:f,onContextMenu:function(e){return u(e,a)},children:[(0,r.jsx)(K.P3,{onClick:s,"aria-hidden":!0,tabIndex:-1,children:(0,r.jsxs)("div",{className:wF().voiceSectionAssets,children:[null!=i.getIconURL(32)?(0,r.jsx)("img",{alt:"",
src:null!==(t=i.getIconURL(32))&&void 0!==t?t:void 0,className:$p()(wF().voiceSectionGuildImage,wF().largeImageMask)}):(0,r.jsx)("div",{className:wF().voiceSectionNoGuildImageWrapper,children:(0,r.jsx)("div",{className:wF().voiceSectionNoGuildImage,style:{fontSize:null!==(n=vz[i.acronym.length])&&void 0!==n?n:vz[vz.length-1]},children:i.acronym})}),(0,r.jsx)("div",{className:wF().voiceSectionIconWrapper,children:(0,r.jsx)(zY.Z,{className:wF().voiceSectionIcon})})]})}),(0,r.jsx)(K.P3,{onClick:s,focusProps:{ringTarget:f},children:(0,r.jsxs)("div",{className:wF().voiceSectionDetails,children:[_z(i.toString(),wF().voiceSectionText),Iz(d,wF().voiceSectionText)]})}),(0,r.jsx)(iz,{partySize:l,members:c,guildId:i.id})]})})};jz.GameSection=function(e){var t=e.icon,n=e.name,o=e.partySize,i=e.members;return(0,r.jsx)(Tz,{children:(0,r.jsxs)("div",{className:wF().gameSection,children:[null!=t?(0,r.jsx)("img",{alt:"",src:t,className:wF().gameSectionIcon}):null,(0,r.jsxs)("div",{
children:[_z(n),Iz(J.Z.Messages.ACTIVITY_FEED_SINGLE_MEMBER_LIST_HEADER.format({memberCount:o.totalSize}))]}),(0,r.jsx)(iz,{partySize:o,members:i})]})})};jz.RichPresenceSection=Nz;jz.XboxSection=function(e){var t=e.title;return(0,r.jsx)(Tz,{children:(0,r.jsxs)("div",{className:wF().xboxSection,children:[(0,r.jsx)(YY.Z,{className:wF().xboxSectionIcon}),(0,r.jsxs)("div",{className:wF().xboxSectionDetails,children:[_z(t),Iz(J.Z.Messages.GAME_FEED_ACTIVITY_PLAYING_XBOX)]})]})})};jz.SpotifySection=function(e){var t=e.activity,n=t.assets,o=t.details,i=t.state,a=t.application_id,s=e.partySize,l=e.members,c=e.isSolo,u=e.getAssetImage;return(0,r.jsx)(Tz,{children:(0,r.jsxs)("div",{className:wF().spotifySection,children:[null!=n?(0,r.jsxs)("div",{className:wF().activitySectionAssets,children:[(0,r.jsx)("img",{alt:null!==(bz=n.large_text)&&void 0!==bz?bz:"",src:u(a,n.large_image,[Oz,Oz]),className:$p()(wF().largeImage,wF().borderRadius0,lz({},wF().largeImageMask,null!=n.small_image))}),c?null:(0,
r.jsx)(FY.Z,{className:wF().smallImage,color:(0,pN.Lq)(R.Ilk.SPOTIFY)})]}):(0,r.jsx)("div",{}),(0,r.jsxs)("div",{children:[null!=o?_z(o):null,null!=i?Iz(i):null]}),(0,r.jsx)(iz,{minAvatarsShown:c?2:1,partySize:s,members:l})]})})};jz.TwitchSection=function(e){var t,o,i=e.activity,a=e.user,s=e.getAssetImage,l=e.guildId,c=i.name,u=i.details,f=i.assets,d=i.application_id;if(null!=f&&(0,CF.Z)(i)){var p;t=(0,r.jsx)(GY.Z,{className:wF().twitchSectionPreviewWrapper,aspectRatio:16/9,children:(0,r.jsxs)(K.P3,{href:(0,ZY.Z)(i),tag:"a",target:"_blank",children:[(0,r.jsx)("img",{alt:null!==(p=f.large_text)&&void 0!==p?p:"",src:s(d,f.large_image,[900,500]),className:wF().twitchSectionPreview}),(0,r.jsx)("img",{src:n(182105),className:wF().twitchSectionPlayButton,alt:""})]})})}return(0,r.jsxs)(Tz,{children:[(0,r.jsxs)("div",{className:$p()((o={},lz(o,wF().twitchSectionSimple,null==a),lz(o,wF().twitchSectionFull,null!=a),o)),children:[(0,r.jsx)("img",{alt:"",src:MY.Z.get(R.ABu.TWITCH).icon.lightSVG,
className:wF().twitchSectionIcon}),(0,r.jsxs)("div",{children:[_z(c),null!=u?Iz(u):null]}),null!=a?(0,r.jsx)(cg.ZP,{src:a.getAvatarURL(l,24),"aria-label":a.username,className:wF().twitchSectionAvatar,size:cg.ZP.Sizes.SIZE_24}):null]}),t]})};jz.ApplicationStreamingSection=function(e){var t,n=e.activity,o=e.user,i=e.applicationStream,a=e.onPreviewClick,l=e.guildId,c=(0,s.e7)([I.Z],(function(){return I.Z.getChannel(i.channelId)})),u=Ez((0,Mr.wq)(c),2),f=u[0],d=u[1],p=(0,r.jsx)(GY.Z,{className:wF().applicationStreamingPreviewWrapper,aspectRatio:16/9,children:(0,r.jsxs)(K.P3,{onClick:f?a:void 0,className:wF().applicationStreamingPreviewSize,children:[(0,r.jsx)(ZO.Z,{stream:i,className:wF().applicationStreamingPreviewSize}),(0,r.jsx)("div",{className:wF().applicationStreamingHoverWrapper,children:(0,r.jsx)("div",{className:wF().applicationStreamingHoverText,children:(0,Mr.P9)(d)})})]})}),h=null!==(t=(0,DY.Z)(n,i))&&void 0!==t?t:J.Z.Messages.SHARING_SCREEN;return(0,r.jsxs)(Tz,{children:[(0,
r.jsxs)("div",{className:wF().applicationStreamingSection,children:[(0,r.jsx)(cg.ZP,{size:cg.ZP.Sizes.SIZE_32,src:o.getAvatarURL(l,32),"aria-label":o.username,className:wF().applicationStreamingAvatar}),(0,r.jsxs)("div",{children:[_z($d.ZP.getName(o)),Iz(h)]}),(0,r.jsx)(WY.ZP,{size:WY.ZP.Sizes.SMALL})]}),p]})};jz.EmbeddedActivitySection=function(e){var t=e.activity,n=e.channel,i=e.guildId,a=e.participants,l=(0,UY.Z)(),c=Ez(o.useState(null),2),u=c[0],f=c[1];o.useEffect((function(){null!=t.application_id&&(0,hl.GR)(t.application_id,["embedded_background"]).then((function(e){var t=Ez(e,1)[0];return f(t)}))}),[t.application_id]);var d,p=(0,s.Wu)([F.default,tr.default],(function(){return Array.from(a).map((function(e){return tr.default.getId()===e?null:F.default.getUser(e)})).filter(So.lm)})),h=(0,RY.O)(),E=(0,lw.Z)().analyticsLocations,y=Mn.Z.getGame(null!==(d=null==t?void 0:t.application_id)&&void 0!==d?d:"");if(null==y)return null;var m=null!=t.created_at&&t.created_at>0?{
start:t.created_at}:void 0,g=(0,hl.xF)(y.id,u,300);return(0,r.jsxs)(Tz,{children:[(0,r.jsxs)("div",{className:wF().embeddedActivityTopRow,children:[(0,r.jsx)(BY.Z,{game:y,size:BY.Z.Sizes.XSMALL,className:wF().embeddedActivityIcon}),(0,r.jsx)("div",{className:wF().embeddedActivityName,children:(0,r.jsx)(K.xv,{variant:"text-sm/semibold",children:y.name})}),null!=m?(0,r.jsx)("div",{className:wF().embeddedActivityTimeElapsed,children:(0,r.jsx)(K.xv,{color:"text-muted",variant:"text-sm/normal",children:(0,r.jsx)(Sz,{timestamps:m})})}):null]}),(0,r.jsx)(GY.Z,{aspectRatio:16/9,children:(0,r.jsxs)("div",{className:wF().embeddedActivityPlayerContainer,children:[null!=g?(0,r.jsx)("img",{src:g,alt:y.name,className:wF().embeddedActivityImage}):null,(0,r.jsxs)("div",{className:wF().embeddedActivityImageOverlay,children:[(0,r.jsx)(kY.OV,{users:p,guildId:i,channelId:n.id}),(0,r.jsx)("div",{className:wF().embeddedActivityJoinWrapper,children:(0,r.jsx)(K.zx,{size:K.zx.Sizes.SMALL,onClick:function(e){
e.stopPropagation();(0,wY.Z)({activity:t,currentEmbeddedApplication:l,activityChannelId:n.id,locationObject:h.location,embeddedActivitiesManager:b.Z,analyticsLocations:E})},children:J.Z.Messages.JOIN})})]})]})})]})};const xz=jz;var Rz=64;function Mz(e,t){var n,r=e.length,o=0;if(null!=t&&null!=t.party&&null!=t.party.size&&t.party.size.length>=2){var i=t.party.size;o=Math.max(i[0]-e.length,0);n=i[1]}else n=r+o;return{knownSize:r,unknownSize:o,totalSize:n}}function wz(e){var t=e.party,n=e.onChannelContextMenu,o=t.voiceChannels,i=t.currentActivities,a=t.partiedMembers,s=t.applicationStreams,l=t.guildContext,c=[],u=function(e){var t=c.length;if(0!==t){var n,o,i=c[t-1],a="".concat(null!==(n=null==e?void 0:e.key)&&void 0!==n?n:""),s="".concat(null!==(o=null==i?void 0:i.key)&&void 0!==o?o:"").startsWith("game")&&a.startsWith("rich-presence");c.push((0,r.jsx)(xz.Separator,{inset:s},"sep-".concat(a)));c.push(e)}else c.push(e)};o.length>0&&o.forEach((function(e){
var t=e.members,o=e.channel,i=e.guild;u((0,r.jsx)(xz.VoiceSection,{guild:i,channel:o,members:t,partySize:Mz(t),onChannelContextMenu:n,onGuildClick:function(){(0,jY.X)(i.id)}},"voice-".concat(o.id)))}));var d=!0,p=!1,h=void 0;try{for(var E,y=t.currentActivities[Symbol.iterator]();!(d=(E=y.next()).done);d=!0){var m=E.value.activity;if(null!=m){var b=DF(m);if(null!=b){u(b);break}}}}catch(e){p=!0;h=e}finally{try{d||null==y.return||y.return()}finally{if(p)throw h}}s.length>0&&s.forEach((function(e){var t=e.stream,n=e.streamUser,o=e.activity;u((0,r.jsx)(xz.ApplicationStreamingSection,{guildId:null==l?void 0:l.id,user:n,activity:o,applicationStream:t,onPreviewClick:function(){f.default.selectVoiceChannel(t.channelId);(0,Cr.iV)(t)}},"application-stream-".concat(t.ownerId)))}));i.forEach((function(e,t){var n=e.activity,s=e.game,c=e.playingMembers,f=e.activityUser;if(null==n||null==n.type)return null;if(i.length>1&&n.type===R.IIU.PLAYING&&!(0,PY.Z)(n)&&null!=s){var d,p;u((0,
r.jsx)(xz.GameSection,{icon:s.getIconURL(Rz),name:s.name,partySize:{knownSize:c.length,unknownSize:0,totalSize:c.length},members:c},"game-".concat(null!==(d=n.session_id)&&void 0!==d?d:t,"-").concat(null!==(p=n.application_id)&&void 0!==p?p:t)))}else if((0,SF.Z)(n)){var h,E=new Set(c.map((function(e){return e.id}))),y=null===(h=o.find((function(e){return null!=e})))||void 0===h?void 0:h.channel;null!=y&&u((0,r.jsx)(xz.EmbeddedActivitySection,{activity:n,participants:E,channel:y,guildId:y.guild_id},"embedded-activity-".concat(n.application_id)))}else if(null==n.assets&&!(0,PY.Z)(n)||n.type!==R.IIU.PLAYING)if((0,CF.Z)(n)){var m,b=o.length>0&&o[0].members.length>1,g=c.length>1;u((0,r.jsx)(xz.TwitchSection,{guildId:null==l?void 0:l.id,activity:n,user:b||g?f:null,getAssetImage:hl.xF},"streaming-".concat(null!==(m=n.session_id)&&void 0!==m?m:t)))}else if((0,TF.Z)(n)){var O;u((0,r.jsx)(xz.SpotifySection,{activity:n,isSolo:1===a.length,partySize:{knownSize:c.length,unknownSize:0,
totalSize:c.length},getAssetImage:hl.xF,members:c},"spotify-".concat(null!==(O=n.session_id)&&void 0!==O?O:t,"-").concat(f.id)))}else if(null==n.assets&&!(0,PY.Z)(n)||n.type!==R.IIU.LISTENING){if((0,NF.Z)(n)){var v;u((0,r.jsx)(xz.XboxSection,{title:s.name},"xbox-".concat(null!==(v=n.session_id)&&void 0!==v?v:t)))}}else{var _;u((0,r.jsx)(xz.RichPresenceSection,{activity:n,getAssetImage:hl.xF},"rich-presence-".concat(null!==(_=n.session_id)&&void 0!==_?_:t,"-").concat(f.id)))}else{var I;u((0,r.jsx)(xz.RichPresenceSection,{activity:n,getAssetImage:hl.xF},"rich-presence-".concat(null!==(I=n.session_id)&&void 0!==I?I:t,"-").concat(f.id)))}}));return c.length>0?(0,r.jsx)(xz.Body,{children:c}):null}function Zz(e){var t=e.party,o=e.onUserContextMenu,i=t.priorityMembers,a=t.guildContext,s=i[0],l=function(e){var t=e.priorityMembers,n=e.partiedMembers,r=new Set(t.map((function(e){return e.user.id}))),o=n.filter((function(e){return!r.has(e.id)
})),i=$d.ZP.getName(t[0].user),a=null!=t[1]?$d.ZP.getName(t[1].user):null!=o[0]?$d.ZP.getName(o[0]):null;switch(n.length){case 1:return i;case 2:return J.Z.Messages.ACTIVITY_FEED_NOW_PLAYING_HEADER_TWO_KNOWN_ONLY.format({user1:i,user2:a});default:return J.Z.Messages.ACTIVITY_FEED_NOW_PLAYING_HEADER_TWO_KNOWN.format({user1:i,user2:a,extras:n.length-2})}}(t),c=function(e){var t,o=e.priorityMembers,i=e.partiedMembers,a=e.voiceChannels,s=e.currentActivities,l=o.length,c=l+(i.length-l)===1,u=s[0],f=null==u?void 0:u.activity,d=null==u?void 0:u.startedPlayingTime,p={name:null!==(t=null==f?void 0:f.name)&&void 0!==t?t:""};if((0,SF.Z)(f)&&null!=f)return{subtitle:(0,r.jsx)(HY.ZP,{start:d,location:HY.ZP.Locations.ACTIVITY_FEED_NEW,messageProps:p}),icon:null};if(c&&null!=u){var h=u.game;if(null==f)return{subtitle:null,icon:null};var E=LF(f);if(null!=E)return E;switch(f.type){case R.IIU.PLAYING:return(0,NF.Z)(f)?{subtitle:J.Z.Messages.ACTIVITY_FEED_NOW_PLAYING_XBOX,icon:(0,r.jsx)(xz.Header.Icon,{
src:xz.Header.Icon.Src.XBOX})}:{subtitle:(0,r.jsx)(HY.ZP,{start:d,location:HY.ZP.Locations.ACTIVITY_FEED_NEW,messageProps:p}),icon:null!=h?(0,r.jsx)(xz.Header.Icon,{src:null!=h.getIconURL(Rz)?h.getIconURL(Rz):n(534413)}):null};case R.IIU.STREAMING:return{subtitle:J.Z.Messages.ACTIVITY_FEED_NOW_STREAMING_TWITCH,icon:null!=h&&null!=h.getIconURL(Rz)?(0,r.jsx)(xz.Header.Icon,{src:h.getIconURL(Rz)}):null};case R.IIU.LISTENING:var y;y=(0,TF.Z)(f)?(0,r.jsx)(xz.Header.Icon,{src:xz.Header.Icon.Src.SPOTIFY}):null!=h.getIconURL(Rz)?(0,r.jsx)(xz.Header.Icon,{src:h.getIconURL(Rz)}):(0,r.jsx)(xz.Header.Icon,{src:n(534413)});return{subtitle:J.Z.Messages.ACTIVITY_FEED_NOW_PLAYING_LISTENING.format({name:f.name}),icon:y};case R.IIU.WATCHING:return{subtitle:J.Z.Messages.ACTIVITY_FEED_NOW_PLAYING_WATCHING,icon:null!=h&&null!=h.getIconURL(Rz)?(0,r.jsx)(xz.Header.Icon,{src:h.getIconURL(Rz)}):null};default:return{subtitle:J.Z.Messages.ACTIVITY_FEED_NOW_PLAYING_IN_A_VOICE_CHANNEL,icon:null}}}if(0===s.length){
if(a.length>0)return{subtitle:J.Z.Messages.ACTIVITY_FEED_NOW_PLAYING_IN_A_VOICE_CHANNEL,icon:null};var m=s[0];if(null!=m){var b=m.activity;if(null!=b){var g=LF(b);if(null!=g)return g}if(null!=b&&b.type===R.IIU.LISTENING)return{subtitle:J.Z.Messages.ACTIVITY_FEED_NOW_PLAYING_SPOTIFY,icon:(0,r.jsx)(xz.Header.Icon,{src:xz.Header.Icon.Src.SPOTIFY})}}}else if(1===s.length){var O=s.find((function(e){return null!=e.activity}));if(null==O)return{subtitle:null,icon:null};var v=O.activity,_=O.game,I=O.startedPlayingTime;_h()(null!=v,"Activity was null somehow");return{subtitle:(0,r.jsx)(HY.ZP,{start:I,location:HY.ZP.Locations.ACTIVITY_FEED_NEW,messageProps:p}),icon:null!=_&&null!=_.getIconURL(Rz)?(0,r.jsx)(xz.Header.Icon,{src:_.getIconURL(Rz)}):null}}return{subtitle:J.Z.Messages.ACTIVITY_FEED_NOW_PLAYING_MULTIPLE_GAMES,icon:(0,r.jsx)(xz.Header.Icon,{src:xz.Header.Icon.Src.MULTIPLE})}}(t),u=c.subtitle,f=c.icon;return(0,r.jsx)(xz.Header,{priorityUser:s,guildId:null==a?void 0:a.id,title:l,
subtitle:u,icon:f,onContextMenu:function(e){return o(e,s.user)}})}var Lz=n(769672),Dz=n(665733),Uz=n(950008),kz=n(258698);function Gz(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Bz(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function Hz(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Bz(i,r,o,a,s,"next",e)}function s(e){Bz(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Vz(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Fz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Vz(e,t,n[t])}))}return e}
function Yz(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function zz(e){return function(e){if(Array.isArray(e))return Gz(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Gz(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gz(e,t)}(e)||function(){
throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Wz=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){
a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Kz=MY.Z.get(R.ABu.XBOX).name;function qz(e,t){var n=e.canJoin,o=e.activity,i=e.activityUser;if(!n||null==o)return null;function a(){return(a=Hz((function(){var e;return Wz(this,(function(t){switch(t.label){case 0:return null==o?[2]:[4,pu.Z.sendActivityInviteUser({type:R.mFx.JOIN_REQUEST,userId:i.id,activity:o,location:R.Sbl.PROFILE_POPOUT})];case 1:null!=(e=t.sent())&&f.default.selectPrivateChannel(e.id);return[2]}}))}))).apply(this,arguments)}return(0,r.jsx)(Lz.sN,{id:"join-".concat(o.session_id),label:t?J.Z.Messages.USER_ACTIVITY_ACTION_ASK_TO_JOIN_USER.format({name:i.toString()}):J.Z.Messages.USER_ACTIVITY_ACTION_ASK_TO_JOIN,action:function(){return a.apply(this,arguments)}})}function Xz(e,t){
var n=e.activity,o=e.game,i=e.libraryApplication,a=e.location,s=e.canPlay,l=e.isRunning,c=e.isLaunching;if(!s||null==n)return null;var u=l?J.Z.Messages.ACTIVITY_FEED_POPOUT_APPLICATION_RUNNING.format({name:o.name}):c?J.Z.Messages.ACTIVITY_FEED_POPOUT_APPLICATION_LAUNCHING.format({name:o.name}):void 0;return(0,r.jsx)(Lz.sN,{id:"play-".concat(n.session_id),action:function(){(0,zy.playApplication)(o.id,i,{analyticsParams:{location:Yz(Fz({},a),{object:R.qAy.LIST_ITEM})}})},label:t?J.Z.Messages.APPLICATION_CONTEXT_MENU_LAUNCH_APPLICATION_NAME.format({name:o.name}):J.Z.Messages.APPLICATION_CONTEXT_MENU_LAUNCH,subtext:u})}function Qz(e){var t=e.currentActivities.length>1,n=function(e){var t=e.currentActivities,n=(0,s.e7)([Uz.Z],(function(){return Uz.Z.getAccounts().some((function(e){return e.type===MY.Z.get(R.ABu.XBOX).type}))})),o=t.some((function(e){var t=e.activity;return(0,NF.Z)(t)}));return n||!o?null:(0,r.jsx)(Lz.sN,{id:"xbox-connect",action:function(){return p.Z.open(R.oAB.CONNECTIONS)
},label:J.Z.Messages.USER_ACTIVITY_CONNECT_PLATFORM.format({platform:Kz})})}(e),i=function(e){var t=e.currentActivities,n=o.useContext(Te.AnalyticsContext);return(0,s.Wu)([Ke.ZP,kn.Z,qn.Z,ky.Z,kz.Z],(function(){return t.filter((function(e){return!(0,SF.Z)(e.activity)})).map((function(e){var t=e.activity,r=e.game,o=kn.Z.getActiveLibraryApplication(r.id);return Yz(Fz({},e),{libraryApplication:o,canJoin:null!=t&&(0,Dz.Z)(t,R.xjy.JOIN)&&t.type===R.IIU.PLAYING,canPlay:(0,nr.t)({LibraryApplicationStore:kn.Z,LaunchableGameStore:qn.Z,DispatchApplicationStore:ky.Z,ConnectedAppsStore:kz.Z,applicationId:r.id,branchId:null!=o?o.branchId:null}),isLaunching:qn.Z.launchingGames.has(r.id),isRunning:Ke.ZP.getRunningVerifiedApplicationIds().includes(r.id),location:n.location})}))}),[t])}(e),a=[],l=!0,c=!1,u=void 0;try{for(var f,d=i[Symbol.iterator]();!(l=(f=d.next()).done);l=!0){var h=f.value,E=h.activity;null!=E&&null!=E.type&&a.push(qz(h,t),Xz(h,t))}}catch(e){c=!0;u=e}finally{try{
l||null==d.return||d.return()}finally{if(c)throw u}}return[n].concat(zz(a))}var $z=n(446926),Jz=n.n($z);function eW(e){var t=e.user,n=e.status,o=e.isFocused,i=e.guildId;return(0,r.jsxs)("div",{className:Jz().memberItem,children:[(0,r.jsx)(cg.ZP,{src:t.getAvatarURL(i,24),className:Jz().avatar,"aria-label":t.username,size:cg.ZP.Sizes.SIZE_24,status:n,statusColor:o?"currentColor":void 0}),(0,r.jsx)($H.Z,{user:t,hideDiscriminator:!0})]})}function tW(e){var t=e.label;return(0,r.jsxs)("div",{className:Jz().memberItem,children:[(0,r.jsx)("div",{className:$p()(Jz().avatar,Jz().unknown)}),(0,r.jsx)("div",{children:t})]})}function nW(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rW(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function oW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){rW(e,t,n[t])}))}return e}function iW(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function aW(e){return function(e){if(Array.isArray(e))return nW(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return nW(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nW(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sW(e,t,n,o,i){var a=[],s=!0,l=!1,c=void 0;try{for(var u,f=function(){var e=u.value,t=e.user,n=e.status;a.push((0,r.jsx)(Lz.sN,{id:t.id,keepItemStyles:!0,render:function(e){return(0,r.jsx)(eW,iW(oW({},e),{user:t,status:n,guildId:i}))},action:function(){return(0,vp.m)({userId:t.id,analyticsLocation:{section:R.jXE.ACTIVITY_FEED_NOW_PLAYING_CONTEXT_MENU}})}}))},d=e[Symbol.iterator]();!(s=(u=d.next()).done);s=!0)f()}catch(e){l=!0;c=e}finally{try{s||null==d.return||d.return()}finally{if(l)throw c}}var p=!0,h=!1,E=void 0;try{for(var y,m=function(){var e=y.value;a.push((0,r.jsx)(Lz.sN,{id:e.id,keepItemStyles:!0,render:function(t){
return(0,r.jsx)(eW,iW(oW({},t),{user:e,guildId:i}))},action:function(){return(0,vp.m)({userId:e.id,analyticsLocation:{section:R.jXE.ACTIVITY_FEED_NOW_PLAYING_CONTEXT_MENU}})}}))},b=t[Symbol.iterator]();!(p=(y=b.next()).done);p=!0)m()}catch(e){h=!0;E=e}finally{try{p||null==b.return||b.return()}finally{if(h)throw E}}var g=n-a.length;g>0&&a.push((0,r.jsx)(Lz.sN,{id:"unknown-members-".concat(null==o?void 0:o.session_id),render:function(e){return(0,r.jsx)(tW,iW(oW({},e),{label:J.Z.Messages.GAME_FEED_UNKNOWN_PLAYERS.format({count:g})}))}}));return a}var lW=n(642400);function cW(e){return{af_voice_chat:e.voiceChannels.length>0,af_people_count:e.partiedMembers.length,af_rich_presence:e.currentActivities.some((function(e){var t=e.activity;return(0,PY.Z)(t)})),game_platform:e.currentActivities.length>0?(0,_p.Z)(e.currentActivities[0].activity):null}}function uW(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function fW(e){
for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){uW(e,t,n[t])}))}return e}function dW(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var pW=n(830260),hW=n(858303),EW=n(584791),yW=n(864345),mW=n(656548);function bW(e){var t=e.currentActivities,n=e.isSpotifyActivity,o=t[0],i=function(e,t,n){var o=(0,s.e7)([pW.Z,tr.default],(function(){return null!=t?(0,
EW.Z)(pW.Z,tr.default,t,e):void 0}),[e,t]);if(null==o||null==e||null==t)return null;var i=o.isCurrentUser||o.notPlayable||o.playingSameTrack,a=o.isCurrentUser||o.syncingWithUser||o.syncingWithParty;return[(0,r.jsx)(Lz.sN,{id:"spotify-play-".concat(e.session_id),action:function(){return(0,mW.Z)(o,Sp.kG.USER_ACTIVITY_PLAY,n)},label:J.Z.Messages.ACTIVITY_FEED_NOW_PLAYING_ACTION_PLAY_ON_SPOTIFY,subtext:i?(0,hW.Z)(o,Sp.kG.USER_ACTIVITY_PLAY):void 0,disabled:i},"spotify-play-".concat(e.session_id)),o.canPlaySpotify?(0,r.jsx)(Lz.sN,{id:"spotify-sync-".concat(e.session_id),action:function(){return(0,yW.Z)(o,Sp.kG.USER_ACTIVITY_SYNC,n)},label:J.Z.Messages.ACTIVITY_FEED_NOW_PLAYING_ACTION_LISTEN_ALONG,subtext:a?(0,hW.Z)(o,Sp.kG.USER_ACTIVITY_SYNC):void 0,disabled:a},"spotify-sync-".concat(e.session_id)):null]}(null==o?void 0:o.activity,null==o?void 0:o.activityUser);return n?i:null}function gW(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n
;return e}function OW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){gW(e,t,n[t])}))}return e}function vW(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function _W(e){var t=e.party,n=e.close,i=e.onSelect,a=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=function(){lW.Z.openPrivateChannel(l).then((function(t){
return yb.ZP.trackWithMetadata(R.rMx.ACTIVITY_FEED_DM_VISITED,fW({source:dW(fW({},s.location),{object:R.qAy.LIST_ITEM}),channel_id:t,recipient_id:"string"==typeof l?l:l[0],af_recently_played:!1},cW(e)))}))},i=e.priorityMembers,a=e.partiedMembers,s=o.useContext(Te.AnalyticsContext),l=i.map((function(e){return e.user.id})),c=1===a.length&&1===i.length,u=i.length-a.length>0;return!c&&!t||u||0===l.length?null:(0,r.jsx)(Lz.sN,{id:"message",action:n,label:J.Z.Messages.SEND_DM})}(t),l=function(e){var t=o.useContext(Te.AnalyticsContext),n=e.voiceChannels[0],i=(0,s.e7)([hn.Z],(function(){return null!=n&&hn.Z.can(R.Plq.CONNECT,n.channel)}));return null==n?null:[(0,r.jsx)(Lz.sN,{id:"join-voice",action:function(){(0,jY.X)(n.guild.id);f.default.selectVoiceChannel(n.channel.id);yb.ZP.trackWithMetadata(R.rMx.ACTIVITY_FEED_VOICE_CHANNEL_VISITED,OW({source:vW(OW({},t.location),{object:R.qAy.LIST_ITEM}),guild_id:n.guild.id,channel_id:n.channel.id},cW(e)))},
label:J.Z.Messages.ACTIVITY_FEED_NOW_PLAYING_ACTION_JOIN_CHANNEL,disabled:!i},"join-voice"),(0,r.jsx)(Lz.sN,{id:"goto-server",action:function(){(0,jY.X)(n.guild.id);yb.ZP.trackWithMetadata(R.rMx.ACTIVITY_FEED_GUILD_VISITED,OW({source:vW(OW({},t.location),{object:R.qAy.LIST_ITEM}),guild_id:n.guild.id,af_recently_played:!1},cW(e)))},label:J.Z.Messages.ACTIVITY_FEED_NOW_PLAYING_ACTION_GO_TO_SERVER},"goto-server")]}(t),c=function(e){return e.applicationStreams.map((function(e){var t=e.stream,n=e.streamUser;return(0,r.jsx)(Lz.sN,{id:"spectate-".concat(t.ownerId),action:function(){f.default.selectVoiceChannel(t.channelId);(0,Cr.iV)(t)},label:J.Z.Messages.WATCH_USER_STREAM.format({streamerName:$d.ZP.getName(n)})},"spectate-".concat(t.ownerId))}))}(t),u=bW(t),d=Qz(t),p=function(e){var t=e.priorityMembers,n=e.partiedMembers,i=e.currentActivities,a=e.guildContext,s=new Set(t.map((function(e){return e.user.id}))),l=n.filter((function(e){return!s.has(e.id)})),c=o.useMemo((function(){
var e=i.flatMap((function(e){return e.playingMembers})).map((function(e){return e.id}));return n.filter((function(t){return!e.includes(t.id)}))}),[n,i]);if(i.length<=1&&0===c.length){var u,f;return(0,r.jsx)(Lz.kS,{label:n.length>1?J.Z.Messages.ACTIVITY_FEED_SINGLE_MEMBER_LIST_HEADER.format({memberCount:n.length}):void 0,children:sW(t,l,n.length,null!==(f=null===(u=i[0])||void 0===u?void 0:u.activity)&&void 0!==f?f:void 0,null==a?void 0:a.id)})}var d=i.map((function(e,n){var o=e.playingMembers,i=e.game,l=e.activity,c=new Set(o.map((function(e){return e.id})));return(0,r.jsx)(Lz.kS,{label:"".concat(i.name," - ").concat(o.length),children:sW(t.filter((function(e){var t=e.user;return c.has(t.id)})),o.filter((function(e){return!s.has(e.id)})),o.length,null!=l?l:void 0,null==a?void 0:a.id)},n)})),p=c.map((function(e){return e.id})),h=(0,r.jsx)(Lz.kS,{label:"".concat(J.Z.Messages.ACTIVITY_FEED_OTHER_MEMBER_LIST_HEADER," - ").concat(c.length),children:sW(t.filter((function(e){var t=e.user
;return p.includes(t.id)})),c.filter((function(e){return!s.has(e.id)})),c.length,void 0,null==a?void 0:a.id)});return aW(d).concat([h])}(t);return(0,r.jsxs)(Lz.ZP,{navId:"now-playing-menu",onClose:n,"aria-label":J.Z.Messages.GENERIC_ACTIONS_MENU_LABEL,onSelect:i,children:[a,(0,r.jsxs)(Lz.kS,{children:[l,c]}),(0,r.jsx)(Lz.kS,{children:u}),(0,r.jsx)(Lz.kS,{children:d}),p]})}function IW(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function SW(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){IW(i,r,o,a,s,"next",e)}function s(e){IW(i,r,o,a,s,"throw",e)}a(void 0)}))}}function TW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NW(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function CW(e){CW=Object.setPrototypeOf?Object.getPrototypeOf:function(e){
return e.__proto__||Object.getPrototypeOf(e)};return CW(e)}function AW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){NW(e,t,n[t])}))}return e}function PW(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function jW(e,t){return!t||"object"!==RW(t)&&"function"!=typeof t?function(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function xW(e,t){xW=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return xW(e,t)}var RW=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function MW(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=CW(e);if(t){var o=CW(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return jW(this,n)}}var wW=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){
return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};var ZW=n(399978),LW=n.n(ZW);function DW(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function UW(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var kW,GW=(kW=function(e){var t=e.party,n=e.onUserContextMenu,o=e.onChannelContextMenu,i=(0,r.jsx)(Zz,{party:t,onUserContextMenu:n}),a=(0,r.jsx)(wz,{party:t,onChannelContextMenu:o});return null!=i||null!=a?(0,r.jsx)(xg.ZP,{position:xg.ZP.Positions.LEFT,renderPopout:function(e){var n=e.closePopout;return(0,r.jsx)(_W,{party:t,close:n})},spacing:8,children:function(e,t){var n=t.isShown;return(0,r.jsx)(xz,UW(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){DW(e,t,n[t])}))}return e}({},e),{"aria-haspopup":"menu",className:LW().itemCard,active:n,children:(0,r.jsxs)("div",{children:[i,a]})}))}}):null},(0,KY.Z)(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&xW(e,t)}(o,e);var t=MW(o);function o(){TW(this,o);return t.apply(this,arguments)}var i=o.prototype;i.render=function(){return(0,r.jsx)(kW,PW(AW({},this.props),{onMessageUser:this.handleMessageUser,onUserContextMenu:this.handleUserContextMenu,onGuildContextMenu:this.handleGuildContextMenu,onChannelContextMenu:this.handleChannelContextMenu}))};i.handleMessageUser=function(e,t){return lW.Z.openPrivateChannel(t.id)}
;i.handleUserContextMenu=function(e,t,o){(0,db.jW)(e,SW((function(){var e,o;return wW(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(87996),n.e(45323),n.e(64178)]).then(n.bind(n,90248))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,PW(AW({},e),{user:t}))}]}}))})),{onClose:o})};i.handleGuildContextMenu=function(e,t){(0,db.jW)(e,SW((function(){var e,o;return wW(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(13112),n.e(47018)]).then(n.bind(n,847018))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,PW(AW({},e),{guild:t}))}]}}))})))};i.handleChannelContextMenu=function(e,t){var o=Ut.Z.getGuild(t.getGuildId());if(null==o)return null;(0,db.jW)(e,SW((function(){var e,i;return wW(this,(function(a){switch(a.label){case 0:return[4,Promise.all([n.e(57501),n.e(5655)]).then(n.bind(n,5655))];case 1:e=a.sent(),i=e.default;return[2,function(e){return(0,r.jsx)(i,PW(AW({},e),{channel:t,guild:o}))}]
}}))})))};return o}(o.Component))),BW=os().throttle((function(){return vF.W(!1)}),3e5);function HW(){var e=(0,s.cj)([AY,fs.Z,F.default],(function(){return{nowPlayingCards:AY.nowPlayingCards,loaded:AY.loaded,needsRefresh:fs.Z.needsRefresh(),fetching:fs.Z.getFetching(),currentUser:F.default.getCurrentUser()}})),t=e.nowPlayingCards,n=e.loaded,i=e.needsRefresh,a=e.fetching,l=e.currentUser;o.useEffect((function(){g.Z.wait((function(){g.Z.dispatch({type:"NOW_PLAYING_MOUNTED"})}));return function(){return g.Z.wait((function(){g.Z.dispatch({type:"NOW_PLAYING_UNMOUNTED"})}))}}),[null==l?void 0:l.id]);o.useEffect((function(){i&&!a&&BW()}),[i,a]);var c=null;if(!n)return(0,r.jsx)("div",{className:LW().emptyCard,children:(0,r.jsx)(K.$j,{})});c=t.length>0?t.map((function(e){var t=e.party;return(0,r.jsx)(GW,{party:t},t.id)})):(0,r.jsxs)("div",{className:LW().emptyCard,children:[(0,r.jsx)(K.X6,{variant:"heading-md/semibold",className:LW().emptyHeader,
children:J.Z.Messages.ACTIVITY_FEED_NONE_PLAYING_HEADER}),(0,r.jsx)(K.xv,{color:"none",className:LW().emptyText,variant:"text-sm/normal",children:J.Z.Messages.ACTIVITY_FEED_NONE_PLAYING_BODY})]});return(0,r.jsx)(r.Fragment,{children:c})}var VW=n(716875),FW=n.n(VW);function YW(){var e=(0,lw.Z)(Of.Z.ACTIVE_NOW_COLUMN).AnalyticsLocationProvider,t=(0,s.e7)([OF.Z],(function(){return OF.Z.hasConsented(R.pjP.PERSONALIZATION)}))?[]:[fn.z$.NOW_PLAYING_CONSENT_CARD],n=(0,X.Dt)();return(0,r.jsx)(e,{children:(0,r.jsx)(hF.Z,{section:R.jXE.ACTIVE_NOW_COLUMN,children:(0,r.jsx)("aside",{className:FW().container,"aria-labelledby":n,children:(0,r.jsxs)(nE.ZP,{className:FW().scroller,children:[(0,r.jsx)(K.X6,{variant:"heading-lg/semibold",className:FW().header,id:n,children:J.Z.Messages.GAME_FEED_CURRENT_HEADER_TITLE}),(0,r.jsx)(LT.Z,{contentTypes:t,children:function(e){var t=e.visibleContent,n=e.markAsDismissed;if(t===fn.z$.NOW_PLAYING_CONSENT_CARD)return(0,r.jsx)(gF,{className:FW().consentCard,
markAsDismissed:n})}}),(0,r.jsx)(HW,{})]})})})})}var zW=n(735713),WW=n(490640);function KW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qW(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function XW(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function QW(e){QW=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return QW(e)}function $W(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&tK(e,t)}function JW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){XW(e,t,n[t])}))}return e}function eK(e,t){return!t||"object"!==nK(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function tK(e,t){tK=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return tK(e,t)}var nK=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function rK(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=QW(e);if(t){var o=QW(this).constructor;n=Reflect.construct(r,arguments,o)
}else n=r.apply(this,arguments);return eK(this,n)}}function oK(e){var t=F.default.getUser(e);return{user:t,usernameLower:null!=t?t.username.toLowerCase():null}}function iK(e){return{status:cs.Z.getStatus(e),isMobile:cs.Z.isMobileOnline(e),activities:cs.Z.getActivities(e),applicationStream:xr.Z.getAnyStreamForUser(e)}}function aK(e){var t=[];os()(as.ZP.memberOf(e)).map(Ut.Z.getGuild).sortBy((function(e){return null!=e?e.name.toLowerCase():null})).forEach((function(e){null!=e&&t.push(e)}));return{mutualGuildsLength:t.length,mutualGuilds:t.slice(0,R.$Xn)}}var sK=function(e){$W(n,e);var t=rK(n);function n(e){KW(this,n);var r;(r=t.call(this)).key=e.key;r.type=e.type;r.status=e.status;r.activities=e.activities;r.applicationStream=e.applicationStream;r.user=e.user;r.isMobile=e.isMobile;r.usernameLower=e.usernameLower;r.mutualGuildsLength=e.mutualGuildsLength;r.mutualGuilds=e.mutualGuilds;r.nickname=e.nickname;return r}!function(e,t,n){t&&qW(e.prototype,t);n&&qW(e,n)}(n,[{key:"comparator",
get:function(){var e,t;return[this.type,null!==(t=null===(e=this.nickname)||void 0===e?void 0:e.toLowerCase())&&void 0!==t?t:this.usernameLower]}}]);return n}(WW.Z),lK=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];KW(this,e);this._rows=t}var t=e.prototype;t.reset=function(){var t=os().map(us.Z.getRelationships(),(function(e,t){return new sK(JW({key:t,type:e,nickname:us.Z.getNickname(t)},oK(t),iK(t),aK(t)))})),n=os().map(dF.getSuggestions(),(function(e){return new sK(JW({key:e.key,type:99,nickname:e.name},oK(e.key),iK(e.key),aK(e.key)))}));return new e(os().concat(t,n))};t.clone=function(){return new e(this._rows)};t.update=function(e){for(var t=!1,n=0;n<this._rows.length;n++){var r=this._rows[n],o=r.merge(e(r.key));t=t||o!==r;this._rows[n]=o}return t};t.filter=function(e,t){return os()(this._rows).filter((function(e){if(null==e.user)return!1;if(null!=t&&""!==t){var n=t.toLowerCase();return[e.usernameLower,e.nickname].map((function(e){
return null==e?void 0:e.toLowerCase()})).some((function(e){return null==e?void 0:e.includes(n)}))}return!0})).filter((function(t){switch(e){case R.pJs.ONLINE:return t.type===R.OGo.FRIEND&&t.status!==R.Skl.OFFLINE;case R.pJs.PENDING:return t.type===R.OGo.PENDING_INCOMING||t.type===R.OGo.PENDING_OUTGOING;case R.pJs.SUGGESTIONS:return 99===t.type;case R.pJs.BLOCKED:return t.type===R.OGo.BLOCKED;case R.pJs.ALL:default:return t.type===R.OGo.FRIEND}})).sortBy((function(e){return e.comparator})).value()};t.getRelationshipCounts=function(){var e,t=(XW(e={},R.OGo.FRIEND,0),XW(e,R.OGo.PENDING_INCOMING,0),XW(e,R.OGo.PENDING_OUTGOING,0),XW(e,99,0),XW(e,R.OGo.BLOCKED,0),e);this._rows.forEach((function(e){null!=e.user&&null!=t[e.type]&&t[e.type]++}));return t};return e}(),cK=!0,uK=!1,fK=R.pJs.ONLINE,dK=new lK,pK=!0,hK=!1;function EK(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(cK&&(e||fK!==R.pJs.ONLINE&&fK!==R.pJs.ADD_FRIEND)&&!uK){cK=!1;uK=!0;zW.Z.fetchRelationships()}}
function yK(){cK=!0;pK?uK=!1:EK();dK=dK.reset();if(!hK){var e=dK.getRelationshipCounts();fK=0===e[R.OGo.FRIEND]?0!==e[R.OGo.PENDING_INCOMING]?R.pJs.PENDING:R.pJs.ADD_FRIEND:R.pJs.ONLINE}}function mK(){dK=pK?new lK:dK.reset()}function bK(e){return function(){if(pK)return!1;if(dK.update(e)){dK=dK.clone();return!0}return!1}}var gK=function(e){$W(n,e);var t=rK(n);function n(){KW(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(us.Z,cs.Z,F.default,Ut.Z,as.ZP,xr.Z,dF);this.syncWith([us.Z],mK);this.syncWith([dF],mK);this.syncWith([F.default],bK(oK));this.syncWith([cs.Z,xr.Z],bK(iK));yK()};r.getState=function(){return{fetching:uK,section:fK,pendingCount:us.Z.getPendingCount(),rows:dK}};r.__getLocalVars=function(){return{SUGGESTION_TYPE:99,shouldFetch:cK,fetching:uK,section:fK,rows:dK,pause:pK,initialSectionSet:hK}};return n}(s.ZP.Store);gK.displayName="FriendsStore";const OK=new gK(g.Z,{CONNECTION_OPEN:function(){yK()},
FRIENDS_SET_SECTION:function(e){fK=e.section;EK()},CHANNEL_SELECT:function(e){var t=e.channelId;pK=null!=t;mK();return!pK},LOAD_RELATIONSHIPS_SUCCESS:function(){uK=!1},LOAD_RELATIONSHIPS_FAILURE:function(){cK=!0;uK=!0},DRAWER_SELECT_TAB:function(e){var t=e.tab;pK=t!==R.cII.FRIENDS;mK();return!pK},FRIENDS_SET_INITIAL_SECTION:function(e){fK=e.section;hK=!0}});var vK=n(940096),_K=n(714226),IK=n(627456),SK=n(241618),TK=n.n(SK);function NK(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function CK(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function AK(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){CK(e,t,n[t])}))}return e}
function PK(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function jK(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return NK(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NK(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var xK={canSend:!1,hint:null,success:null,error:null},RK=(0,X.hQ)(),MK="".concat(RK,"-decription"),wK="".concat(RK,"-error");function ZK(e,t){switch(t.type){case"RESET":return xK;case"SUCCESS":return PK(AK({},xK),{success:t.text});case"HINT":return PK(AK({},xK),{canSend:!0,hint:t.text});case"ERROR":return PK(AK({},e),{canSend:!0,error:t.text})}}function LK(){var e=o.createRef(),t=o.createRef(),n=jK(o.useReducer(ZK,xK),2),i=n[0],a=n[1],s=i.canSend,l=i.hint,c=i.success,u=i.error;o.useEffect((function(){if(null!=c){_h()(null!=e.current,"Input is submitting when not mounted");e.current.value="";e.current.focus()}}),[c,e]);var f
;return(0,r.jsxs)("form",{onSubmit:function(t){t.preventDefault();_h()(null!=e.current,"Input is submitted when not mounted");var n=e.current.value.trim(),r=(0,_K.Z)(n);null==r?zW.Z.sendRequest(n,{location:"Add Friend"}).then((function(){return a({type:"SUCCESS",text:J.Z.Messages.ADD_FRIEND_SUCCESS.format({discordTag:n})})}),(function(e){return a({type:"ERROR",text:(0,_K.N)(e.body.code,n)})})):a({type:"ERROR",text:r})},autoComplete:"off",children:[(0,r.jsx)(K.R9,{id:MK,type:K.R9.Types.DESCRIPTION,children:J.Z.Messages.ADD_FRIEND_DESCRIPTION}),(0,r.jsx)(ob.tE,{focusTarget:e,ringTarget:t,ringClassName:TK().ring,children:(0,r.jsxs)("div",{ref:t,className:$p()(TK().addFriendInputWrapper,(f={},CK(f,TK().success,c),CK(f,TK().error,u),f)),children:[(0,r.jsx)(K.oi,{id:RK,inputRef:e,className:TK().addFriendInput,inputClassName:TK().input,onKeyPress:function(t){var n=t.currentTarget.value;if(t.key!==IK.mR.Enter&&n.includes("#")){_h()(null!=e.current,"Input is handling keypress when not mounted")
;var r=n.indexOf("#"),o=e.current.selectionStart,i=t.key===IK.mR.Backspace||t.key===IK.mR.ArrowRight||t.key===IK.mR.ArrowLeft,a=t.which>=48&&t.which<=57;(null!=o&&o>r&&/^(.+?#\d{4})$/.test(n)&&!i||null!=o&&o>r&&!a&&!i)&&t.preventDefault()}},onChange:function(e){if(e.length<=0)a({type:"RESET"});else{var t=jK(e.split("#"),2)[1];a({type:"HINT",text:e+R.LYt.slice(null!=t?t.length+1:0)})}},maxLength:37,autoFocus:!0,autoComplete:"off",name:"add-friend","data-lpignore":!0,placeholder:J.Z.Messages.ADD_FRIEND_PLACEHOLDER,"aria-label":J.Z.Messages.ADD_FRIEND_PLACEHOLDER,"aria-invalid":null!=u||void 0,"aria-describedby":null!=u?wK:MK}),null!=l&&(0,r.jsx)("div",{className:TK().addFriendHint,"aria-hidden":!0,children:l}),(0,r.jsx)(K.zx,{size:K.zx.Sizes.SMALL,disabled:!s,type:"submit",children:J.Z.Messages.ADD_FRIEND_BUTTON})]})}),null!=u&&(0,r.jsx)(K.R9,{role:"alert",id:wK,type:K.R9.Types.ERROR,className:lh().marginTop8,children:u}),null!=c&&(0,r.jsx)(K.R9,{role:"status",type:K.R9.Types.SUCCESS,
className:lh().marginTop8,children:c})]})}var DK=n(494330),UK=n(898378);function kK(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function GK(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function BK(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r]
;t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function HK(e){var t=e.color,n=void 0===t?"currentColor":t,o=BK(e,["color"]);return(0,r.jsx)("svg",GK(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){kK(e,t,n[t])}))}return e}({},o),{fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{"clip-rule":"evenodd",d:"m5.41667 4.2625 5.66573 5.7375-5.66573 5.7375 1.74426 1.7625 7.42237-7.5-7.42237-7.5z",fill:n,"fill-rule":"evenodd"})}))}var VK=n(585301),FK=n.n(VK),YK=n(794649),zK=n.n(YK);function WK(e,t,n){return(0,r.jsxs)("button",{className:FK().container,onClick:n,children:[(0,r.jsx)("img",{className:FK().icon,alt:"",src:e}),(0,r.jsx)(K.xv,{
className:FK().text,variant:"text-md/medium",children:t}),(0,r.jsx)(HK,{className:FK().arrow})]},t)}function KK(){var e=Object.values(Ut.Z.getGuilds()).filter((function(e){return e.hasFeature(R.oNc.HUB)}));return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)("header",{className:FK().header,children:(0,r.jsx)(K.vw,{tag:"h2",className:FK().title,children:J.Z.Messages.ADD_FRIEND_MAKE_FRIENDS})}),(0,r.jsxs)("div",{className:FK().grid,children:[e.map((function(e){return WK(zs.ZP.getGuildIconURL({id:e.id,icon:e.icon,size:240}),e.name,(function(){!function(e){Te.default.track(R.rMx.ADD_FRIEND_OTHER_PLACES_HUB_CLICKED,{guild_id:e});(0,jY.X)(e)}(e.id)}))})),WK(zK(),J.Z.Messages.ADD_FRIEND_EXPLORE_PUBLIC_SERVERS,(function(){(0,UK.AQ)();Te.default.track(R.rMx.ADD_FRIEND_OTHER_PLACES_DISCOVERY_CLICKED);(0,q.uL)(R.Z5c.GUILD_DISCOVERY)}))]})]})}var qK=n(303649),XK=n.n(qK);function QK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $K(e){
$K=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return $K(e)}function JK(e,t){return!t||"object"!==nq(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function eq(e,t){eq=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return eq(e,t)}var tq,nq=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function rq(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=$K(e);if(t){var o=$K(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return JK(this,n)}}!function(e){e.SECTION_NO_RESULTS="SECTION_NO_RESULTS"
}(tq||(tq={}));var oq=Object.freeze({SECTION_ALL:{lightSrc:n(607603),darkSrc:n(74700),width:376,height:162,renderContent:function(e){return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(xH.ZP.Text,{note:J.Z.Messages.FRIENDS_EMPTY_STATE_ALL}),(0,r.jsx)(K.zx,{className:XK().button,onClick:e,children:J.Z.Messages.ADD_FRIEND})]})}},SECTION_ONLINE:{lightSrc:n(688224),darkSrc:n(376354),width:421,height:218,renderContent:function(){return(0,r.jsx)(xH.ZP.Text,{note:J.Z.Messages.FRIENDS_EMPTY_STATE_ONLINE})}},SECTION_BLOCKED:{lightSrc:n(399898),darkSrc:n(492623),width:433,height:232,renderContent:function(){return(0,r.jsx)(xH.ZP.Text,{note:J.Z.Messages.FRIENDS_EMPTY_STATE_BLOCKED})}},SECTION_PENDING:{lightSrc:n(540579),darkSrc:n(96972),width:415,height:200,renderContent:function(){return(0,r.jsx)(xH.ZP.Text,{note:J.Z.Messages.FRIENDS_EMPTY_STATE_PENDING})}},SECTION_SUGGESTIONS:{lightSrc:n(540579),darkSrc:n(96972),width:415,height:200,renderContent:function(){return(0,r.jsx)(xH.ZP.Text,{
note:J.Z.Messages.FRIENDS_EMPTY_STATE_SUGGESTIONS})}},SECTION_NO_RESULTS:{lightSrc:n(688224),darkSrc:n(376354),width:421,height:218,renderContent:function(){return(0,r.jsx)(xH.ZP.Text,{note:J.Z.Messages.FRIEND_REQUEST_NO_RESULTS_FOUND})}}});var iq=function(e){var t=e.theme,n=J.Z.Messages.FRIENDS_EMPTY_STATE_ALL,i=oq.SECTION_ALL;return(0,r.jsx)(o.Fragment,{children:(0,r.jsxs)(xH.ZP,{theme:t,children:[(0,r.jsx)(xH.ZP.Image,{width:i.width,height:i.height,lightSrc:i.lightSrc,darkSrc:i.darkSrc}),(0,r.jsx)(xH.ZP.Text,{note:n})]})})},aq=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&eq(e,t)}(n,e);var t=rq(n);function n(){QK(this,n);var e;(e=t.apply(this,arguments)).state={opacity:new Zi.Z.Value(1)};e.componentWillEnter=function(t){e.state.opacity.setValue(0);Zi.Z.timing(e.state.opacity,{toValue:1,duration:250
}).start(t)};e.componentWillLeave=function(t){Zi.Z.timing(e.state.opacity,{toValue:0,duration:250}).start(t)};return e}n.prototype.render=function(){var e=this.props,t=e.type,n=e.onClick,o=e.theme,i={opacity:this.state.opacity},a=function(e){switch(e){case R.pJs.ADD_FRIEND:case R.pJs.ALL:return oq.SECTION_ALL;case R.pJs.ONLINE:return oq.SECTION_ONLINE;case R.pJs.PENDING:return oq.SECTION_PENDING;case R.pJs.SUGGESTIONS:return oq.SECTION_SUGGESTIONS;case R.pJs.BLOCKED:return oq.SECTION_BLOCKED;case tq.SECTION_NO_RESULTS:return oq.SECTION_NO_RESULTS;default:throw new Error("FriendsEmptyState: Invalid empty state")}}(t);return t===R.pJs.ADD_FRIEND?(0,r.jsx)(Zi.Z.div,{className:XK().friendsEmpty,style:i,children:(0,r.jsx)(iq,{theme:o})}):(0,r.jsx)(Zi.Z.div,{className:XK().friendsEmpty,style:i,children:(0,r.jsxs)(xH.ZP,{theme:o,children:[(0,r.jsx)(xH.ZP.Image,{width:a.width,height:a.height,lightSrc:a.lightSrc,darkSrc:a.darkSrc}),a.renderContent(n)]})})};return n}(o.PureComponent)
;const sq=s.ZP.connectStores([ct.Z],(function(){return{theme:ct.Z.theme}}),{forwardRef:!0})(aq);var lq=n(184338),cq=n.n(lq);function uq(){return(0,r.jsxs)("header",{className:cq().header,children:[(0,r.jsx)(K.vw,{tag:"h2",className:cq().title,children:J.Z.Messages.ADD_FRIEND}),(0,r.jsx)(LK,{})]})}const fq=function(){return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(uq,{}),(0,DK.b)()&&(0,r.jsx)(KK,{}),(0,r.jsx)("div",{className:cq().emptyState,children:(0,r.jsx)(sq,{type:R.pJs.ADD_FRIEND})})]})};function dq(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function pq(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n
}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function hq(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function Eq(e){var t=e.width,n=void 0===t?24:t,o=e.height,i=void 0===o?24:o,a=e.color,s=void 0===a?"currentColor":a,l=e.foreground,c=hq(e,["width","height","color","foreground"]);return(0,r.jsx)("svg",pq(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){
dq(e,t,n[t])}))}return e}({},(0,Xb.Z)(c)),{width:n,height:i,viewBox:"0 0 24 24",children:(0,r.jsx)("path",{className:l,fill:s,fillRule:"evenodd",clipRule:"evenodd",d:"M20.2949 0.298996L21.7089 1.713L19.4169 4.006L21.7089 6.299L20.2949 7.713L18.0019 5.42L15.7099 7.713L14.2949 6.299L16.5879 4.006L14.2949 1.713L15.7099 0.298996L18.0019 2.592L20.2949 0.298996ZM8.00195 13.006C10.207 13.006 12.002 11.211 12.002 9.006C12.002 6.801 10.207 5.006 8.00195 5.006C5.79695 5.006 4.00195 6.801 4.00195 9.006C4.00195 11.211 5.79695 13.006 8.00195 13.006ZM8.00195 14.006C3.29095 14.006 0.00195312 16.473 0.00195312 20.006V21.006H16.002V20.006C16.002 16.473 12.713 14.006 8.00195 14.006Z"})}))}var yq,mq=n(969261),bq=n.n(mq);function gq(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Oq(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e)
;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}!function(e){e[e.ACCEPT=0]="ACCEPT";e[e.DENY=1]="DENY";e[e.DEFAULT=2]="DEFAULT"}(yq||(yq={}));function vq(e){var t=e.icon,n=e.tooltip,o=e.onClick,i=e.actionType,a=void 0===i?yq.DEFAULT:i,s=e.shouldHighlight;return(0,r.jsx)(qb.ZP,{text:n,children:function(e){var i;return(0,r.jsx)(K.P3,Oq(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){gq(e,t,n[t])}))}return e}({},e),{"aria-label":n,onClick:o,className:$p()(bq().actionButton,(i={},
gq(i,bq().actionAccept,a===yq.ACCEPT),gq(i,bq().actionDeny,a===yq.DENY),gq(i,bq().highlight,s),i)),children:(0,r.jsx)(t,{className:bq().icon})}))}})}vq.ActionTypes=yq;const _q=vq;var Iq=n(833151),Sq=n.n(Iq);function Tq(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function Nq(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Tq(i,r,o,a,s,"next",e)}function s(e){Tq(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Cq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Aq(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Pq(e){Pq=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Pq(e)}function jq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Aq(e,t,n[t])}))}return e}function xq(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Rq(e,t){return!t||"object"!==wq(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Mq(e,t){Mq=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Mq(e,t)}var wq=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Zq(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Pq(e);if(t){var o=Pq(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Rq(this,n)}}var Lq=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,
o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Dq=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Mq(e,t)}(o,e);var t=Zq(o);function o(){Cq(this,o);var e;(e=t.apply(this,arguments)).state={height:new Zi.Z.Value(62),opacity:new Zi.Z.Value(1),hovered:!1,
isContextMenuActive:!1};e.handleMouseEnter=function(){var t=e.props,n=t.isFocused,r=t.isActive,o=t.onOtherHover,i=e.state.isContextMenuActive;e.setState({hovered:n});!n||r||i||null==o||o()};e.handleMouseLeave=function(){e.setState({hovered:!1})};e.handleContextMenu=function(t,o){e.setState({isContextMenuActive:!0});(0,db.jW)(t,Nq((function(){var e,t;return Lq(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(87996),n.e(45323),n.e(64178)]).then(n.bind(n,90248))];case 1:e=i.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,xq(jq({},e),{user:o}))}]}}))})),{onClose:function(){e.setState({isContextMenuActive:!1})}})};return e}var i=o.prototype;i.componentWillLeave=function(e){Zi.Z.parallel([Zi.Z.timing(this.state.opacity,{toValue:0,duration:200}),Zi.Z.timing(this.state.height,{toValue:0,duration:200})]).start(e)};i.componentWillEnter=function(e){this.state.opacity.setValue(0);this.state.height.setValue(0);Zi.Z.parallel([Zi.Z.timing(this.state.opacity,{
toValue:1,duration:200}),Zi.Z.timing(this.state.height,{toValue:62,duration:200})]).start(e)};i.render=function(){var e=this,t=this.state,n=t.height,o=t.opacity,i=t.hovered,a=t.isContextMenuActive,s=this.props,l=s.children,c=s.user,u=s.onClick,f=s.isActive;return(0,r.jsx)(ib.mh,{id:c.id,children:function(t){return(0,r.jsx)(ob.tE,{offset:{left:-8,right:-8},children:(0,r.jsx)(Zi.Z.div,xq(jq({className:$p()(Sq().peopleListItem,Aq({},Sq().active,f||a)),onContextMenu:function(t){return e.handleContextMenu(t,c)},onMouseEnter:e.handleMouseEnter,onMouseLeave:e.handleMouseLeave,onClick:null!=u?u:void 0,style:{height:n,opacity:o}},t),{children:l(i||f||a)}))})}})};return o}(o.PureComponent);const Uq=Dq;var kq=n(565922),Gq=n(107793),Bq=n.n(Gq);function Hq(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}const Vq=function(e){var t=e.user,n=e.hovered,o=e.subText,i=e.showAccountIdentifier,a=e.status,l=e.isMobile,c=e.className,u=(0,
s.e7)([us.Z],(function(){return us.Z.getNickname(t.id)}));return(0,r.jsxs)("div",{className:$p()(Bq().userInfo,c,Hq({},Bq().hovered,n)),children:[(0,r.jsx)(kq.Z,{user:t,className:Bq().avatar,animate:n,status:a,isMobile:l}),(0,r.jsxs)("div",{className:Bq().text,children:[(0,r.jsx)($H.Z,{user:t,nick:u,botClass:Bq().botTag,className:Bq().discordTag,usernameClass:Bq().username,discriminatorClass:Bq().discriminator,showAccountIdentifier:i}),(0,r.jsx)("div",{className:Bq().subtext,children:o})]})]})};var Fq=n(685904),Yq=n.n(Fq);function zq(e){var t=e.user,n=e.key,i=e.isFocused,a=o.useContext(Te.AnalyticsContext),s=function(e){e.stopPropagation();zW.Z.unblockUser(t.id,{location:"Friends"})};return(0,r.jsx)(Uq,{isFocused:i,onClick:function(){return(0,vp.m)({userId:t.id,analyticsLocation:a.location})},user:t,children:function(e){return(0,r.jsxs)("div",{className:Yq().listItemContents,children:[(0,r.jsx)(Vq,{user:t,hovered:e,status:R.Skl.UNKNOWN,subText:J.Z.Messages.BLOCKED}),(0,r.jsx)(_q,{
icon:Eq,actionType:_q.ActionTypes.DENY,tooltip:J.Z.Messages.UNBLOCK,onClick:s,shouldHighlight:e})]})}},n)}var Wq=n(862055),Kq=n(325310),qq=n(78080),Xq=n.n(qq);const Qq=function(e){var t=e.hovered,n=e.activities,o=e.applicationStream,i=e.status;return n.length>0?(0,r.jsx)(Kq.Z,{className:Xq().activity,textClassName:Xq().text,emojiClassName:Xq().customStatusEmoji,activities:n,applicationStream:o,animate:t}):(0,r.jsx)("div",{className:Xq().text,children:(0,$d.u5)(i)})};var $q=n(684753),Jq=n.n($q);function eX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tX(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function nX(e){nX=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return nX(e)}function rX(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){tX(e,t,n[t])}))}return e}function oX(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function iX(e,t){return!t||"object"!==sX(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function aX(e,t){aX=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return aX(e,t)}var sX=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function lX(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=nX(e);if(t){var o=nX(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return iX(this,n)}}function cX(e){var t=e.user,n=e.onSelect,o=function(){zW.Z.removeFriend(t.id,{location:"Friends"})},i=(0,s.e7)([We.Z],(function(){return We.Z.supports(Xe.AN.VIDEO)}));return(0,r.jsxs)(Lz.ZP,{navId:"friend-row","aria-label":J.Z.Messages.USER_ACTIONS_MENU_LABEL,onClose:db.Zy,onSelect:n,children:[i?(0,r.jsx)(Lz.sN,{id:"start-video-call",label:J.Z.Messages.START_VIDEO_CALL,action:function(){lW.Z.openPrivateChannel(t.id,!0,!0)}}):null,(0,r.jsx)(Lz.sN,{id:"start-voice-call",
label:J.Z.Messages.START_VOICE_CALL,action:function(){lW.Z.openPrivateChannel(t.id,!0)}}),(0,r.jsx)(Lz.sN,{id:"remove-friend",label:J.Z.Messages.REMOVE_FRIEND,action:function(){(0,Y.h7)((function(e){return(0,r.jsx)(Oh.default,oX(rX({header:J.Z.Messages.REMOVE_FRIEND_TITLE.format({name:$d.ZP.getName(t)}),confirmText:J.Z.Messages.REMOVE_FRIEND,cancelText:J.Z.Messages.CANCEL,onConfirm:o},e),{children:(0,r.jsx)(K.xv,{variant:"text-md/normal",children:J.Z.Messages.REMOVE_FRIEND_BODY.format({name:$d.ZP.getName(t)})})}))}))},color:"danger"})]})}var uX=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&aX(e,t)}(n,e);var t=lX(n);function n(){eX(this,n);var e;(e=t.apply(this,arguments)).peopleListItemRef=o.createRef();e.state={isActiveRow:!1};e.handleOpenPrivateChannel=function(t){var n=e.props.user
;t.stopPropagation();var r=os().find(I.Z.getMutablePrivateChannels(),(function(e){return e.type===R.d4z.DM&&e.getRecipientId()===n.id}));null!=r?(0,q.uL)(R.Z5c.CHANNEL(R.ME,r.id)):lW.Z.openPrivateChannel(n.id)};e.handleOpenActionsMenu=function(t){var n=e.props.user;(0,db.vq)(t,(function(e){return(0,r.jsx)(cX,oX(rX({},e),{user:n}))}),{onClose:function(){e.setState({isActiveRow:!1})}});e.setState({isActiveRow:!0})};return e}var i=n.prototype;i.componentWillLeave=function(e){null!=this.peopleListItemRef.current&&this.peopleListItemRef.current.componentWillLeave(e)};i.componentWillEnter=function(e){null!=this.peopleListItemRef.current&&this.peopleListItemRef.current.componentWillEnter(e)};i.render=function(){var e=this,t=this.props,n=t.user,o=t.isFocused,i=t.activities,a=t.applicationStream,s=t.status,l=t.isMobile,c=this.state.isActiveRow;return(0,r.jsx)(Uq,{ref:this.peopleListItemRef,isFocused:o,isActive:c,user:n,onOtherHover:function(){return c?null:(0,db.Zy)()},
onClick:this.handleOpenPrivateChannel,children:function(t){return(0,r.jsxs)("div",{className:Jq().listItemContents,children:[(0,r.jsx)(Vq,{user:n,status:s,isMobile:l,subText:(0,r.jsx)(Qq,{hovered:t,activities:i,applicationStream:a,status:s}),hovered:t}),(0,r.jsxs)("div",{className:Jq().actions,children:[(0,r.jsx)(_q,{icon:dT.Z,tooltip:J.Z.Messages.SEND_DM,onClick:e.handleOpenPrivateChannel,shouldHighlight:t}),(0,r.jsx)(_q,{icon:Wq.Z,tooltip:J.Z.Messages.MORE,onClick:e.handleOpenActionsMenu,shouldHighlight:t})]})]})}})};return n}(o.PureComponent);const fX=uX;var dX=n(679396),pX=n.n(dX);function hX(e){var t=e.user,n=e.type,i=e.status,a=e.isFocused,s=o.useContext(Te.AnalyticsContext),l=function(e){e.stopPropagation();zW.Z.cancelFriendRequest(t.id,{location:"Friends"})},c=function(e){e.stopPropagation();zW.Z.addRelationship({userId:t.id,context:{location:"Friends"}})
},u=i===R.Skl.OFFLINE?R.Skl.UNKNOWN:i,f=n===R.OGo.PENDING_INCOMING?J.Z.Messages.INCOMING_FRIEND_REQUEST:J.Z.Messages.OUTGOING_FRIEND_REQUEST;return(0,r.jsx)(Uq,{isFocused:a,user:t,onClick:function(){return(0,vp.m)({userId:t.id,analyticsLocation:s.location})},children:function(e){var o,i=n===R.OGo.PENDING_INCOMING?(0,r.jsxs)(r.Fragment,{children:[(null===(o=F.default.getCurrentUser())||void 0===o?void 0:o.isStaff())&&(null==t?void 0:t.isStaff())&&(0,r.jsx)("div",{className:pX().staffIndicator,children:(0,r.jsx)(HP.IG,{color:(0,pN.Lq)(R.Ilk.BRAND_500),text:J.Z.Messages.STAFF_BADGE_TOOLTIP})}),(0,r.jsx)(_q,{icon:cN.Z,actionType:_q.ActionTypes.ACCEPT,tooltip:J.Z.Messages.FRIEND_REQUEST_ACCEPT,onClick:c,shouldHighlight:e}),(0,r.jsx)(_q,{icon:Sb.Z,actionType:_q.ActionTypes.DENY,tooltip:J.Z.Messages.FRIEND_REQUEST_IGNORE,onClick:l,shouldHighlight:e})]}):(0,r.jsx)(_q,{icon:Sb.Z,actionType:_q.ActionTypes.DENY,tooltip:J.Z.Messages.FRIEND_REQUEST_CANCEL,onClick:l,shouldHighlight:e});return(0,
r.jsxs)("div",{className:pX().listItemContents,children:[(0,r.jsx)(Vq,{user:t,hovered:e,showAccountIdentifier:!0,status:u,subText:f,className:pX().userInfo}),(0,r.jsx)("div",{className:pX().actions,children:i})]})}})}var EX=n(666164),yX=n(65234),mX=n.n(yX);function bX(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function gX(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}const OX=function(e){var t=e.statusSections,n=e.renderRow,i=e.searchQuery,a=function(e){return 0===t[e].length?0:40},l=function(e){var r=e.section,o=e.row,i=t[r];if(null==i||null==o)return null;var a=i[o];return null==a?null:n(a)},c=(0,
s.e7)([h.Z],(function(){return h.Z.keyboardModeEnabled})),u=o.useRef(null),f=o.useCallback((function(){return new Promise((function(e){var t=u.current;if(null==t)return e();t.scrollToTop({callback:function(){return requestAnimationFrame((function(){return e()}))}})}))}),[]),d=o.useCallback((function(){return new Promise((function(e){var t=u.current;if(null==t)return e();t.scrollToBottom({callback:function(){return requestAnimationFrame((function(){return e()}))}})}))}),[]),p=o.useCallback((function(e){var t=document.querySelector(e),n=u.current;null!=t&&null!=n&&n.scrollIntoViewNode({node:t,padding:8,callback:function(){return null==t?void 0:t.focus()}})}),[]),E=(0,EX.ZP)({id:"people-list",isEnabled:c,scrollToStart:f,scrollToEnd:d,setFocus:p});return(0,r.jsx)(ib.bG,{navigator:E,children:(0,r.jsx)(ib.SJ,{children:function(e){var n=e.ref,o=gX(e,["ref"]);return(0,r.jsx)(SA._2,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){bX(e,t,n[t])}))}return e}({ref:function(e){u.current=e;var t;n.current=null!==(t=null==e?void 0:e.getScrollerNode())&&void 0!==t?t:null},sectionHeight:a,renderRow:l,rowHeight:62,sections:t.map((function(e){return""!==i&&0===e.length?e.length+1:e.length})),className:mX().peopleList},o))}})})};var vX=n(589175);function _X(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function IX(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){_X(i,r,o,a,s,"next",e)}function s(e){_X(i,r,o,a,s,"throw",e)}a(void 0)}))}}function SX(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function TX(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function NX(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}var CX=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},
"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};const AX=function(e){
var t=e.statusSections,n=e.renderRow,o=e.searchQuery,i=e.sectionFilter,a=e.useReducedMotion,l=(0,s.e7)([h.Z],(function(){return h.Z.keyboardModeEnabled})),c=(0,EX.ZP)({id:"people",isEnabled:l,scrollToStart:function(){return IX((function(){return CX(this,(function(e){return[2]}))}))()},scrollToEnd:function(){return IX((function(){return CX(this,(function(e){return[2]}))}))()}}),u=i!==R.pJs.ONLINE&&i!==R.pJs.ALL,f=a||""!==o||u,d=t.map((function(e,t){return f?(0,r.jsx)("div",{children:e.map(n)},t):(0,r.jsx)(vX.Z,{transitionAppear:!1,component:"div",children:e.map(n)},t)}));return(0,r.jsx)(ib.bG,{navigator:c,children:(0,r.jsx)(ib.SJ,{children:function(e){var t=e.ref,n=NX(e,["ref"]);return(0,r.jsx)(nE.w0,TX(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))))
;r.forEach((function(t){SX(e,t,n[t])}))}return e}({ref:t,className:mX().peopleList},n),{children:d}))}})})};function PX(e){var t=e.relationshipCount,n=e.statusSections,o=e.renderRow,i=e.searchQuery,a=e.sectionFilter,s=e.useReducedMotion;return t>=64?(0,r.jsx)(OX,{statusSections:n,renderRow:o,searchQuery:i}):(0,r.jsx)(AX,{statusSections:n,renderRow:o,sectionFilter:a,searchQuery:i,useReducedMotion:s})}var jX=n(858162),xX=n.n(jX);function RX(e){var t=e.title,n=e.id;return(0,r.jsx)(NH.Z,{className:xX().title,id:n,children:t})}var MX=n(380625),wX=n.n(MX);function ZX(e){var t=e.user,n=e.nickname,i=e.status,a=e.isFocused,s=o.useContext(Te.AnalyticsContext),l=function(e){null==e||e.stopPropagation();zW.Z.addRelationship({userId:t.id,context:{location:"Friends"},type:void 0,friendToken:void 0,fromFriendSuggestion:!0})},c=function(e){null==e||e.stopPropagation();qV(t.id)},u=i===R.Skl.OFFLINE?R.Skl.UNKNOWN:i;return(0,r.jsx)(Uq,{isFocused:a,user:t,onClick:function(){return(0,vp.m)({userId:t.id,
analyticsLocation:s.location})},children:function(e){var o=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(_q,{icon:cN.Z,actionType:_q.ActionTypes.ACCEPT,tooltip:J.Z.Messages.FRIEND_REQUEST_ACCEPT,onClick:l,shouldHighlight:e}),(0,r.jsx)(_q,{icon:Sb.Z,actionType:_q.ActionTypes.DENY,tooltip:J.Z.Messages.FRIEND_REQUEST_IGNORE,onClick:c,shouldHighlight:e})]});return(0,r.jsxs)("div",{className:wX().listItemContents,children:[(0,r.jsx)(Vq,{user:t,hovered:e,status:u,subText:n,className:wX().userInfo}),(0,r.jsx)("div",{className:wX().actions,children:o})]})}})}function LX(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function DX(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function UX(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){DX(e,t,n[t])}))}return e}function kX(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function GX(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{
try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return LX(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LX(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function BX(e,t){switch(e){case R.pJs.ONLINE:return J.Z.Messages.FRIENDS_ONLINE_HEADER.format({online:t.toString()});case R.pJs.PENDING:return J.Z.Messages.FRIENDS_PENDING_HEADER.format({count:t.toString()});case R.pJs.SUGGESTIONS:return J.Z.Messages.FRIENDS_FRIEND_SUGGESTIONS_HEADER.format({count:t.toString()});case R.pJs.BLOCKED:return J.Z.Messages.FRIENDS_BLOCKED_HEADER.format({count:t.toString()});default:
return J.Z.Messages.FRIENDS_ALL_HEADER.format({count:t.toString()})}}const HX=function(e){var t=e.sectionFilter,n=e.titleId,i=(0,s.cj)([OK],(function(){return OK.getState()})),a=i.rows,l=i.section,c=(0,s.e7)([qe.Z],(function(){return qe.Z.isFocused()})),u=(0,s.e7)([us.Z],(function(){return us.Z.getRelationshipCount()})),f=GX(o.useState((function(){var e={},t=!0,n=!1,r=void 0;try{for(var o,i=Object.values(R.pJs)[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){e[o.value]=""}}catch(e){n=!0;r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return e})),2),d=f[0],p=f[1],E=o.useCallback((function(e){p(kX(UX({},d),DX({},t,e)))}),[d,t]),y=o.useCallback((function(){p(kX(UX({},d),DX({},t,"")))}),[d,t]),m=a.filter(t,d[t]);if(0===m.length&&""===d[t])return(0,r.jsx)("div",{className:mX().emptyStateContainer,children:(0,r.jsx)(sq,{type:t,onClick:function(){YV.Z.setSection(R.pJs.ADD_FRIEND)}},l)});var b=[m],g=0===m.length&&""!==d[t];return(0,r.jsxs)(hF.Z,{section:R.jXE.FRIENDS_LIST,
children:[(0,r.jsx)(LP.Z,{className:$p()(mX().searchBar,g?mX().searchEmptyState:null),query:d[t],onChange:E,onClear:y,size:LP.Z.Sizes.MEDIUM}),(0,r.jsx)("div",{className:mX().SectionTitle,children:(0,r.jsx)(RX,{id:n,title:BX(t,m.length)})}),g?(0,r.jsx)("div",{className:mX().emptyStateContainer,children:(0,r.jsx)(sq,{type:tq.SECTION_NO_RESULTS},l)}):(0,r.jsx)(PX,{relationshipCount:u,statusSections:b,renderRow:function(e){switch(t){case R.pJs.BLOCKED:return(0,r.jsx)(zq,kX(UX({},e),{isFocused:c}));case R.pJs.PENDING:return(0,r.jsx)(hX,kX(UX({},e),{isFocused:c}));case R.pJs.SUGGESTIONS:return(0,r.jsx)(ZX,kX(UX({},e),{isFocused:c}));case R.pJs.ONLINE:case R.pJs.ALL:default:return(0,r.jsx)(fX,kX(UX({},e),{isFocused:c}))}},sectionFilter:t,searchQuery:d[t],useReducedMotion:h.Z.useReducedMotion})]})};var VX=n(342894),FX=n.n(VX);function YX(){return(0,r.jsxs)("div",{className:FX().inviteToolbar,children:[(0,r.jsx)(pF.Z,{tooltip:J.Z.Messages.NEW_GROUP_DM}),(0,r.jsx)(kg.Z.Divider,{})]})}
const zX=function(e){var t=e.initialSection;o.useEffect((function(){lH(R.Z5c.FRIENDS);(0,SH.e)("friends")}));o.useEffect((function(){null!=t&&YV.Z.setInitialSection(t)}),[t]);var n=(0,s.e7)([ct.Z],(function(){return ct.Z.theme})),i=(0,s.cj)([OK],(function(){return OK.getState()})),a=i.section,l=i.pendingCount,c=(0,s.cj)([dF],(function(){return dF.getSuggestionCount()})),u=(0,X.Dt)(),f=(0,X.Dt)();return(0,r.jsxs)("main",{className:FX().container,"aria-label":J.Z.Messages.FRIENDS,children:[(0,r.jsx)(bm.yY,{location:J.Z.Messages.FRIENDS}),(0,r.jsxs)(kg.Z,{className:(0,CH.Q)(n),toolbar:(0,r.jsx)(YX,{}),scrollable:oo.tq,role:"navigation","aria-labelledby":u,children:[(0,r.jsx)(kg.Z.Icon,{icon:vK.Z,"aria-hidden":!0}),(0,r.jsx)(kg.Z.Title,{id:u,children:J.Z.Messages.FRIENDS}),(0,r.jsx)(kg.Z.Divider,{}),(0,r.jsxs)(yA.ZP,{"aria-label":J.Z.Messages.FRIENDS,selectedItem:a,type:yA.Yk.TOP_PILL,onItemSelect:function(e){YV.Z.setSection(e)},className:FX().tabBar,children:[(0,r.jsx)(yA.ck,{
id:R.pJs.ONLINE,className:FX().item,children:J.Z.Messages.FRIENDS_SECTION_ONLINE}),(0,r.jsx)(yA.ck,{id:R.pJs.ALL,className:FX().item,children:J.Z.Messages.FRIENDS_SECTION_ALL}),(0,r.jsxs)(yA.ck,{id:R.pJs.PENDING,className:FX().item,"aria-label":J.Z.Messages.FRIENDS_SECTION_PENDING,children:[J.Z.Messages.FRIENDS_SECTION_PENDING,l>0?(0,r.jsx)(HP.mA,{count:l,className:FX().badge,style:{paddingRight:0}}):null]}),c>0?(0,r.jsxs)(yA.ck,{id:R.pJs.SUGGESTIONS,className:FX().item,"aria-label":J.Z.Messages.FRIENDS_SECTION_SUGGESTIONS,children:[J.Z.Messages.FRIENDS_SECTION_SUGGESTIONS,(0,r.jsx)(HP.mA,{count:c,className:FX().badge,style:{paddingRight:0}})]}):null,(0,r.jsx)(yA.ck,{id:R.pJs.BLOCKED,className:FX().item,children:J.Z.Messages.BLOCKED}),(0,r.jsx)(yA.ck,{"aria-label":J.Z.Messages.FRIENDS_SECTION_ADD_FRIEND,className:$p()(FX().item,FX().addFriend),id:R.pJs.ADD_FRIEND,children:(0,r.jsx)("span",{children:J.Z.Messages.FRIENDS_SECTION_ADD_FRIEND})})]})]}),(0,r.jsxs)("div",{
className:FX().tabBody,children:[(0,r.jsx)(yA.s_,{id:a,className:FX().peopleColumn,"aria-labelledby":f,children:a===R.pJs.ADD_FRIEND?(0,r.jsx)(fq,{}):(0,r.jsx)(HX,{titleId:f,sectionFilter:a})}),(0,r.jsx)("div",{className:FX().nowPlayingColumn,children:(0,r.jsx)(YW,{})})]})]})};var WX=n(825524),KX=n(367769),qX=n(992735),XX=n(996515),QX=n(881699),$X=n(784238),JX=n(703863),eQ=n(21979),tQ=n(250831),nQ=n(169364),rQ=n(522370),oQ=n(770941),iQ=n(262963),aQ=n(743835),sQ=n(203379),lQ=n(706594),cQ=n(555672),uQ=n.n(cQ),fQ=n(163471),dQ=n.n(fQ),pQ=n(770631),hQ=n.n(pQ),EQ=n(961088),yQ=n.n(EQ),mQ=n(630234),bQ=n.n(mQ),gQ=n(456202),OQ=n.n(gQ),vQ=n(791643),_Q=n.n(vQ),IQ=n(565411),SQ=n.n(IQ);function TQ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function NQ(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function CQ(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return TQ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TQ(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var AQ,PQ=function(e){var t=e.stepDescription,n=e.hasCompletedStep,o=e.image,i=e.onClick,a=e.tooltipText,s=e.isEnabled,l=void 0===s||s,c=e.shouldPreventDefaultEmojiPickerToggle,u=void 0!==c&&c;return(0,
r.jsx)(qb.ZP,{shouldShow:!l,text:a,position:qb.ZP.Positions.RIGHT,tooltipContentClassName:uQ().tooltipText,spacing:20,children:function(e){var a,s,c,f,d,p=e.onMouseEnter,h=e.onMouseLeave;return(0,r.jsx)(K.P3,{onMouseEnter:p,onMouseLeave:h,onClick:function(){l&&i()},className:$p()((a={},NQ(a,uQ().tutorialLinkcontainer,!0),NQ(a,uQ().tutorialLinkcontainerEnabled,l),a)),"data-premium-tutorial-persistent-coachmark-emoji-step":u,children:(0,r.jsxs)("div",{className:$p()(NQ({},uQ().tutorialLinkBackground,!0)),children:[(0,r.jsx)("div",{className:$p()((s={},NQ(s,uQ().tutorialLinkImageContainer,!0),NQ(s,uQ().tutorialLinkImageContainerDisabled,!l),s)),children:o}),(0,r.jsx)(K.xv,{variant:"text-sm/medium",className:$p()((c={},NQ(c,uQ().tutorialLink,!0),NQ(c,uQ().tutorialLinkEnabled,l),NQ(c,uQ().tutorialLinkDisabled,!l),c)),children:t}),n?(0,r.jsx)(cN.Z,{className:$p()((f={},NQ(f,uQ().tutorialCheckmark,!0),NQ(f,uQ().tutorialCheckmarkEnabled,l),NQ(f,uQ().tutorialCheckmarkDisabled,!l),f))}):(0,
r.jsx)("div",{className:uQ().rightCaretContainer,children:(0,r.jsx)(nQ.Z,{width:16,className:$p()((d={},NQ(d,uQ().tutorialRightCaret,!0),NQ(d,uQ().tutorialRightCaretEnabled,l),NQ(d,uQ().tutorialRightCaretDisabled,!l),d))})})]})})}})};!function(e){e[e.JUMP_TO_DM=0]="JUMP_TO_DM";e[e.JUMP_TO_SERVER=1]="JUMP_TO_SERVER";e[e.OPEN_CHAT=2]="OPEN_CHAT"}(AQ||(AQ={}));var jQ=function(e){var t=e.hasCompletedProfileTutorial,n=e.hasCompletedBoostTutorial,i=e.hasCompletedEmojiTutorial,a=e.analyticsLocations,l=(0,QX.Z)({analyticsLocation:{page:R.ZY5.PREMIUM_TRIAL_TUTORIAL_COACHMARK}}),c=(0,s.e7)([A.Z],(function(){return A.Z.getGuildId()})),u=(0,s.e7)([C.Z],(function(){return C.Z.getChannelId(c)})),f=(0,s.e7)([I.Z],(function(){return I.Z.getChannel(u)})),d=null!=f&&f.type===HO.d.GUILD_VOICE,p=(0,s.Wu)([$X.Z],(function(){return $X.Z.getFlattenedGuildIds()})),h=function(e,t,n,r){var o=(0,s.cj)([ix.Z,hn.Z,kj.ZP],(function(){if(!ix.Z.hasUsableEmojiInAnyGuild())return{canUserSendEmoji:!1,
userCantSendEmojiReason:J.Z.Messages.PREMIUM_TRIAL_TUTORIAL_EMOJI_FLOW_DISABLED_TOOLTIP};if(null==r){var o=e.find((function(e){return!kj.ZP.hasUnread(e)}));return null!=o?{canUserSendEmoji:!0,userCantSendEmojiReason:void 0,actionType:AQ.JUMP_TO_DM,firstChannelWithNoNewMessages:o}:t.length>0?{canUserSendEmoji:!0,userCantSendEmojiReason:void 0,actionType:AQ.JUMP_TO_SERVER,guildId:t[0]}:{canUserSendEmoji:!1,userCantSendEmojiReason:J.Z.Messages.PREMIUM_TRIAL_TUTORIAL_OPEN_CHANNEL_TOOLTIP}}if(r.type!==HO.d.DM&&r.type!==HO.d.GUILD_TEXT&&r.type!==HO.d.GROUP_DM&&r.type!==HO.d.PUBLIC_THREAD&&r.type!==HO.d.PRIVATE_THREAD&&r.type!==HO.d.GUILD_VOICE)return{canUserSendEmoji:!1,userCantSendEmojiReason:J.Z.Messages.PREMIUM_TRIAL_TUTORIAL_CHANNEL_DOESNT_ALLOW_EMOJI_TOOLTIP};if(null!=n){if(!hn.Z.can(R.Plq.SEND_MESSAGES,r))return{canUserSendEmoji:!1,userCantSendEmojiReason:J.Z.Messages.PREMIUM_TRIAL_TUTORIAL_OPEN_CHANNEL_TOOLTIP};if(!hn.Z.can(R.Plq.USE_EXTERNAL_EMOJIS,r))return{canUserSendEmoji:!1,
userCantSendEmojiReason:J.Z.Messages.PREMIUM_TRIAL_TUTORIAL_CHANNEL_DOESNT_ALLOW_EMOJI_TOOLTIP}}return{canUserSendEmoji:!0,userCantSendEmojiReason:void 0,actionType:AQ.OPEN_CHAT}})),i=o.canUserSendEmoji,a=o.userCantSendEmojiReason,l=o.actionType,c=o.firstChannelWithNoNewMessages,u=o.guildId;return{canUserSendEmoji:i,userCantSendEmojiReason:a,onClickEmojiTutorial:function(){i&&(l===AQ.JUMP_TO_DM&&void 0!==c?(0,q.uL)(R.Z5c.CHANNEL(R.ME,c)):l===AQ.JUMP_TO_SERVER&&void 0!==u?(0,jY.X)(u):l===AQ.OPEN_CHAT&&void 0!==r&&r.type===HO.d.GUILD_VOICE&&WX.Z.updateChatOpen(r.id,!0))}}}((0,s.Wu)([JX.Z,fH.Z,dH.Z],(function(){var e=JX.Z.getPrivateChannelIds();return(0,XX.tU)(e,[fH.Z,dH.Z])})),p,c,f),E=h.canUserSendEmoji,y=h.userCantSendEmojiReason,m=h.onClickEmojiTutorial,b=function(e){var t=(0,s.cj)([A.Z,Ut.Z],(function(){if(0===e.length)return{isBoostStepEnabled:!1};var t=A.Z.getGuildId();return{isBoostStepEnabled:!0,currentGuild:Ut.Z.getGuild(t)}})),n=t.isBoostStepEnabled,r=t.currentGuild;return{
isBoostStepEnabled:n,onClickBoostingTutorial:function(){n&&null==r&&e.length>0&&(0,jY.X)(e[0])}}}(p),g=b.isBoostStepEnabled,O=b.onClickBoostingTutorial,v=(0,iO.ZP)();o.useEffect((function(){E||Te.default.track(R.rMx.PREMIUM_FEATURE_TUTORIAL_FLOW_DISABLED,{flow:"emoji"});g||Te.default.track(R.rMx.PREMIUM_FEATURE_TUTORIAL_FLOW_DISABLED,{flow:"boost"})}),[E,g]);return(0,r.jsxs)("div",{className:uQ().tutorialStepsContainer,children:[(0,r.jsx)(PQ,{stepDescription:J.Z.Messages.PREMIUM_TRIAL_TUTORIAL_COACHMARK_CUSTOM_PROFILES,hasCompletedStep:t,image:(0,r.jsx)("img",{alt:"",src:bQ()}),onClick:function(){(0,jE.w9)(Ji.QD.PROFILE_CUSTOMIZATION);!function(e,t){Te.default.track(R.rMx.PREMIUM_FEATURE_HELPER_ACTIONS,{location_stack:t,helper_action:Ji.wt.CUSTOM_PROFILES_CLICKED});(0,sQ.k)(Ji.MY[Ji.QD.PROFILE_CUSTOMIZATION][0]);e()}(l,a)}}),(0,r.jsx)("hr",{className:uQ().tutorialLinkSeparator}),(0,r.jsx)(PQ,{stepDescription:J.Z.Messages.PREMIUM_TRIAL_TUTORIAL_COACHMARK_EMOJI,hasCompletedStep:i,
image:(0,r.jsx)("img",{alt:"",src:yQ(),className:uQ().emojiTutorialImg}),onClick:function(){null==m||m();(0,jE.w9)(Ji.QD.CUSTOM_EMOJI);!function(e,t){Te.default.track(R.rMx.PREMIUM_FEATURE_HELPER_ACTIONS,{location_stack:e,helper_action:Ji.wt.UNLOCK_EMOJI_CLICKED});var n=t?mb.I.SIDEBAR:mb.I.NORMAL;(0,qX.RO)(lQ.X1.EMOJI,n);(0,uL.$u)(fn.z$.PREMIUM_TUTORIAL_EMOJI_PICKER_COMPOSER_TOOLTIP);(0,sQ.k)(Ji.MY[Ji.QD.CUSTOM_EMOJI][0])}(a,d);!function(){var e=A.Z.getGuildId(),t=0;ix.Z.getTopEmoji(e).length>0&&t++;ix.Z.getDisambiguatedEmojiContext(e).favoriteEmojisWithoutFetchingLatest.length>0&&t++;ix.Z.getDisambiguatedEmojiContext(e).getFrequentlyUsedEmojisWithoutFetchingLatest().length>0&&t++;(0,KX.oi)(t)}()},tooltipText:y,isEnabled:E,shouldPreventDefaultEmojiPickerToggle:!0}),(0,r.jsx)("hr",{className:uQ().tutorialLinkSeparator}),(0,r.jsx)(PQ,{stepDescription:J.Z.Messages.PREMIUM_TRIAL_TUTORIAL_COACHMARK_BOOSTS,hasCompletedStep:n,image:(0,r.jsx)("img",{alt:"",src:v===R.BRd.DARK?dQ():hQ(),
className:uQ().boostTutorialImg}),onClick:function(){null==O||O();(0,jE.w9)(Ji.QD.BOOSTING);!function(e){Te.default.track(R.rMx.PREMIUM_FEATURE_HELPER_ACTIONS,{location_stack:e,helper_action:Ji.wt.SERVER_BOOSTS_CLICKED});(0,jZ.l)(!0);(0,uL.$u)(fn.z$.PREMIUM_TUTORIAL_SERVER_MENU_TOOLTIP);(0,sQ.k)(Ji.MY[Ji.QD.BOOSTING][0])}(a)},tooltipText:J.Z.Messages.PREMIUM_TRIAL_TUTORIAL_BOOST_FLOW_DISABLED_TOOLTIP,isEnabled:g})]})},xQ=function(e,t){if(!t&&e>=1&&e<3)return J.Z.Messages.PREMIUM_TRIAL_TUTORIAL_WELCOME_BACK;switch(e){case 1:return J.Z.Messages.PREMIUM_TRIAL_TUTORIAL_COACHMARK_HEADER_COMPLETED_ONE;case 2:return J.Z.Messages.PREMIUM_TRIAL_TUTORIAL_COACHMARK_HEADER_LAST_ONE;case 3:return J.Z.Messages.PREMIUM_TRIAL_TUTORIAL_COACHMARK_HEADER_COMPLETED;default:return J.Z.Messages.PREMIUM_TRIAL_TUTORIAL_COACHMARK_HEADER}},RQ=function(e){switch(e){case 1:return J.Z.Messages.PREMIUM_TRIAL_TUTORIAL_COACHMARK_SUB_HEADER_CHOOSE_ANOTHER_PERK;case 2:
return J.Z.Messages.PREMIUM_TRIAL_TUTORIAL_COACHMARK_SUB_HEADER_LAST_ONE;case 3:return J.Z.Messages.PREMIUM_TRIAL_TUTORIAL_COACHMARK_SUB_HEADER_COMPLETED;default:return J.Z.Messages.PREMIUM_TRIAL_TUTORIAL_COACHMARK_SUB_HEADER}},MQ=function(e){var t=iQ.Z.isPersistentCoachmarkCollapsed?Ji.wt.HELPER_UNCOLLAPSED:Ji.wt.HELPER_COLLAPSED;Te.default.track(R.rMx.PREMIUM_FEATURE_HELPER_ACTIONS,{location_stack:e,helper_action:t});(0,rQ.Lt)()},wQ=function(e){var t=e.analyticsLocations,n=e.setDisplayDismissConfirmation,o=e.dismissedTutorialStepsLength,i=e.hasCompletedStepDuringSession,a=e.hasCompletedProfileTutorial,s=e.hasCompletedBoostTutorial,l=e.hasCompletedEmojiTutorial,c=e.hasCompletedAllSteps;return(0,r.jsxs)("div",{className:uQ().expandedCoachmarkContent,children:[(0,r.jsx)(K.xv,{className:uQ().expandedCoachmarkHeader,variant:"text-md/semibold",children:xQ(o,i)}),(0,r.jsx)(K.xv,{className:uQ().expandedCoachmarkSubheader,variant:"text-sm/normal",children:RQ(o)}),(0,r.jsx)(jQ,{
hasCompletedProfileTutorial:a,hasCompletedBoostTutorial:s,hasCompletedEmojiTutorial:l,analyticsLocations:t}),c&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("hr",{className:uQ().tutorialLinkSeparator}),(0,r.jsxs)("div",{className:uQ().expandedCoachmarkFooterContent,children:[(0,r.jsx)(K.P3,{onClick:function(){return n(!0)},children:(0,r.jsx)(K.xv,{variant:"text-sm/normal",className:uQ().closeHelperLink,children:J.Z.Messages.PREMIUM_TRIAL_TUTORIAL_COACHMARK_MARKETING_CLOSE})}),(0,r.jsx)(K.P3,{onClick:function(){return function(e){Te.default.track(R.rMx.PREMIUM_FEATURE_HELPER_ACTIONS,{location_stack:e,helper_action:Ji.wt.EXPLORE_ALL_PERKS_CLICKED});(0,q.uL)(R.Z5c.APPLICATION_STORE)}(t)},children:(0,r.jsx)(K.xv,{variant:"text-sm/normal",className:uQ().seeAllPerksLink,children:J.Z.Messages.PREMIUM_TRIAL_TUTORIAL_COACHMARK_MARKETING_REDIRECT})})]})]})]})},ZQ=function(e){var t=e.analyticsLocations,n=e.setDisplayDismissConfirmation;return(0,r.jsxs)("div",{
className:uQ().expandedCoachmarkContent,children:[(0,r.jsx)(K.xv,{className:uQ().expandedCoachmarkHeader,variant:"text-md/semibold",children:J.Z.Messages.PREMIUM_TRIAL_TUTORIAL_COACHMARK_CLOSE_CONFIRMATION_HEADER}),(0,r.jsx)(K.xv,{className:uQ().expandedCoachmarkSubheader,variant:"text-sm/normal",children:J.Z.Messages.PREMIUM_TRIAL_TUTORIAL_COACHMARK_CLOSE_CONFIRMATION_SUBHEADER}),(0,r.jsx)("hr",{className:uQ().tutorialDismissConfirmationSeparator}),(0,r.jsxs)("div",{className:uQ().expandedCoachmarkFooterContent,children:[(0,r.jsx)(K.zx,{onClick:function(){return n(!1)},look:K.iL.BLANK,color:uQ().cancelButtonColor,children:J.Z.Messages.PREMIUM_TRIAL_TUTORIAL_COACHMARK_CLOSE_CANCEL}),(0,r.jsx)(K.zx,{onClick:function(){return function(e){Te.default.track(R.rMx.PREMIUM_FEATURE_HELPER_ACTIONS,{location_stack:e,helper_action:Ji.wt.HELPER_DISMISSED});(0,dn.EW)(fn.z$.PREMIUM_TUTORIAL_EXPERIENCE)}(t)},children:J.Z.Messages.PREMIUM_TRIAL_TUTORIAL_COACHMARK_CLOSE_YES})]})]})},LQ=function(e){
var t=e.analyticsLocations,n=(0,lL.eM)(),i=n.includes(Ji.QD.PROFILE_CUSTOMIZATION),a=n.includes(Ji.QD.BOOSTING),l=n.includes(Ji.QD.CUSTOM_EMOJI),c=CQ(o.useState(!1),2),u=c[0],f=c[1];o.useEffect((function(){i&&a&&l&&f(!0)}),[i,a,l]);var d=(0,s.e7)([oQ.Z],(function(){return oQ.Z.hasCompletedStepDuringSession})),p=CQ(o.useState(!1),2),E=p[0],y=p[1],m=(0,s.e7)([h.Z],(function(){return h.Z.useReducedMotion})),b=(0,s.e7)([iQ.Z],(function(){return iQ.Z.canPlayWowMoment}));o.useEffect((function(){return function(){b&&(0,rQ.HY)(!1)}}),[b]);var g=b&&!m;return(0,r.jsxs)("div",{className:$p()(uQ().expandedCoachmarkContentContainer,g&&uQ().slideInFromBottomAnimation),children:[g&&(0,r.jsx)(aQ.PremiumSubscriptionWowMomentForHelper,{}),(0,r.jsxs)("div",{className:uQ().expandedCoachmarkBannerContainer,children:[(0,r.jsx)("div",{className:uQ().expandedCoachmarkBannerBranding,children:(0,r.jsx)(tQ.Z,{color:(0,pN.Lq)(R.Ilk.WHITE_500),height:"26px"})}),(0,r.jsx)("div",{
className:uQ().expandedCoachmarkBannerImageContainer,children:d||u?(0,r.jsx)("img",{alt:"",src:OQ(),className:uQ().expandedCoachmarkCelebrationBannerImage}):(0,r.jsx)("img",{alt:"",src:SQ(),className:uQ().expandedCoachmarkBannerImage})}),(0,r.jsx)(K.P3,{onClick:function(){return MQ(t)},className:uQ().expandedCoachmarkCollapseButtonContainer,children:(0,r.jsx)(rw.Z,{open:!1,className:uQ().expandedCoachmarkCollapseButton})})]}),E?(0,r.jsx)(ZQ,{analyticsLocations:t,setDisplayDismissConfirmation:y}):(0,r.jsx)(wQ,{analyticsLocations:t,setDisplayDismissConfirmation:y,dismissedTutorialStepsLength:n.length,hasCompletedStepDuringSession:d,hasCompletedProfileTutorial:i,hasCompletedBoostTutorial:a,hasCompletedEmojiTutorial:l,hasCompletedAllSteps:u})]})},DQ=function(e){var t=e.analyticsLocations;return(0,r.jsxs)(K.P3,{onClick:function(){return MQ(t)},className:uQ().collapsedCoachmarkContainer,children:[(0,r.jsx)("img",{alt:"",src:_Q(),className:uQ().collapsedCoachmarkImage}),(0,r.jsx)(K.xv,{
variant:"text-sm/medium",className:uQ().collapsedCoachmarkHeading,children:J.Z.Messages.PREMIUM_TRIAL_TUTORIAL_COLLAPSED_COACHMARK_HEADING}),(0,r.jsx)(eQ.Z,{className:uQ().collapsedCoachmarkExpandButton})]})};const UQ=function(){var e=(0,s.e7)([iQ.Z],(function(){return iQ.Z.isPersistentCoachmarkCollapsed})),t=(0,lw.Z)(Of.Z.PREMIUM_TRIAL_TUTORIAL_COACHMARK).analyticsLocations;if((0,s.e7)([iQ.Z],(function(){return iQ.Z.isPersistentHelperHidden})))return(0,r.jsx)(r.Fragment,{});Te.default.track(R.rMx.PREMIUM_FEATURE_HELPER_ACTIONS,{location_stack:t,helper_action:Ji.wt.HELPER_RENDERED});return e?(0,r.jsx)(DQ,{analyticsLocations:t}):(0,r.jsx)(LQ,{analyticsLocations:t})};var kQ=n(551433),GQ=n(450807),BQ=n(671413);function HQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VQ(e){VQ=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return VQ(e)}function FQ(e,t){
return!t||"object"!==zQ(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function YQ(e,t){YQ=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return YQ(e,t)}var zQ=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function WQ(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=VQ(e);if(t){var o=VQ(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return FQ(this,n)}}var KQ={};var qQ=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{
constructor:{value:e,writable:!0,configurable:!0}});t&&YQ(e,t)}(n,e);var t=WQ(n);function n(){HQ(this,n);return t.apply(this,arguments)}var r=n.prototype;r.getSkuIdForChannel=function(e){return KQ[e]};r.__getLocalVars=function(){return{channelIdToSkuId:KQ}};return n}(s.ZP.Store);qQ.displayName="ChannelSKUStore";const XQ=new qQ(g.Z,{CONNECTION_OPEN:function(){KQ={}},STORE_LISTING_FETCH_SUCCESS:function(e){var t=e.channelId,n=e.storeListing;null!=t&&(KQ[t]=n.sku.id)}});var QQ=n(638224),$Q=n(143765),JQ=n(492036),e$=n.n(JQ);function t$(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n$(e){n$=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return n$(e)}function r$(e,t){return!t||"object"!==i$(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function o$(e,t){
o$=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return o$(e,t)}var i$=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function a$(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=n$(e);if(t){var o=n$(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return r$(this,n)}}var s$=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&o$(e,t)}(n,e);var t=a$(n);function n(){t$(this,n);var e;(e=t.apply(this,arguments)).fetchStoreListing=function(t){var n=e.props,r=n.channel,o=n.inputSkuId
;return null!=t?lW.Z.fetchChannelStoreListing(r.id,t):null!=o?lW.Z.fetchChannelStoreListing(r.id,o):lW.Z.fetchChannelStoreListing(r.id)};e.renderApplicationListing=function(t){var n=t.location,o=e.props,i=o.channel,a=o.skuId,s=o.width;return(0,r.jsx)($Q.Z,{channel:i,inputSkuId:a,fetchStoreListing:e.fetchStoreListing,location:n,pageSize:(0,QQ.getPageSize)(s)})};return e}var o=n.prototype;o.componentDidMount=function(){this.fetchStoreListing();(0,SH.e)("channel_store_listing")};o.render=function(){return null!=this.props.skuId?(0,r.jsx)(hF.Z,{page:R.ZY5.CHANNEL_STORE_LISTING,root:!0,children:(0,r.jsx)("div",{className:e$().applicationStore,children:(0,r.jsx)(a.AW,{path:"*",render:this.renderApplicationListing})})}):null};return n}(o.Component);const l$=(0,lb.Z)(s.ZP.connectStores([XQ],(function(e){var t=e.channel,n=e.inputSkuId;return{skuId:null!=n?n:XQ.getSkuIdForChannel(t.id)}}))(s$));function c$(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0
}):e[t]=n;return e}function u$(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function f$(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function d$(e){
var t=e.width,n=void 0===t?14:t,o=e.height,i=void 0===o?14:o,a=e.color,s=void 0===a?"currentColor":a,l=e.foreground,c=f$(e,["width","height","color","foreground"]);return(0,r.jsx)("svg",u$(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){c$(e,t,n[t])}))}return e}({},(0,Xb.Z)(c)),{width:n,height:i,viewBox:"0 0 14 14",children:(0,r.jsx)("path",{fill:s,className:l,
d:"M6.99471698,9.67522659 C8.47108874,9.67522659 9.66792453,8.47748685 9.66792453,7 C9.66792453,5.52251315 8.47108874,4.32477341 6.99471698,4.32477341 C5.51834522,4.32477341 4.32150943,5.52251315 4.32150943,7 C4.32150943,8.47748685 5.51834522,9.67522659 6.99471698,9.67522659 Z M6.99471698,2.67522659 C8.18867925,2.67522659 9.26641509,3.16163142 10.0483019,3.94410876 L11.9396226,2.05135952 C10.6822642,0.782477341 8.92830189,0 6.99471698,0 C3.12754717,0 0,3.14048338 0,7 L2.67320755,7 C2.67320755,4.6102719 4.60679245,2.67522659 6.99471698,2.67522659 Z M11.3267925,7 C11.3267925,9.3897281 9.39320755,11.3247734 7.00528302,11.3247734 C5.81132075,11.3247734 4.73358491,10.8383686 3.94113208,10.0558912 L2.04981132,11.9486405 C3.31773585,13.2175227 5.06113208,14 6.99471698,14 C10.8618868,14 14,10.8595166 14,7 L11.3267925,7 Z"})}))}var p$=n(9007),h$=n.n(p$);function E$(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y$(e,t){return function(e){
if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E$(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var m$="isHideDevBanner";const b$=function(){var e,t=y$((0,
o.useState)("true"===(null===(e=Se.Z.get(m$,"false"))||void 0===e?void 0:e.toString())),2),n=t[0],i=t[1];if(n)return null;var a=function(){Se.Z.set(m$,!0);i(!0)},s=function(){return(0,r.jsx)(K.P3,{onClick:a,className:h$().closeButton,"aria-label":J.Z.Messages.DISMISS,children:(0,r.jsx)(Sb.Z,{className:h$().closeIcon})})};0;if("staging"===window.GLOBAL_ENV.RELEASE_CHANNEL){return(0,r.jsxs)("div",{className:$p()(h$().devBanner,h$().staging),children:[(0,r.jsx)(d$,{className:h$().icon}),J.Z.Messages.DEV_NOTICE_STAGING.format({buildNumber:"176745"}),(0,r.jsx)(s,{})]})}return null};var g$=n(473727),O$=n(992497);function v$(e){g.Z.dispatch({type:"DETECTED_OFF_PLATFORM_PREMIUM_PERKS_DISMISS",skuId:e})}var _$=n(193059);const I$=function(){g.Z.dispatch({type:"CLEAR_REMOTE_DISCONNECT_VOICE_CHANNEL_ID"})};var S$=n(49215),T$=n(955092),N$=n(149556),C$=n(811139),A$=n(88414);var P$=n(733274);function j$(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}
function x$(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function R$(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){x$(i,r,o,a,s,"next",e)}function s(e){x$(i,r,o,a,s,"throw",e)}a(void 0)}))}}function M$(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function w$(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Z$(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return j$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j$(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var L$,D$=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},
"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};!function(e){e[e.FirstPage=0]="FirstPage";e[e.SecondPage=1]="SecondPage"
}(L$||(L$={}));var U$={marginTop:"12px",marginBottom:"12px"},k$={marginTop:"12px",marginBottom:"12px"};function G$(){return new Promise((function(e){(0,Y.ZD)(R$((function(){var t,o;return D$(this,(function(i){switch(i.label){case 0:return[4,Promise.resolve().then(n.bind(n,30741))];case 1:t=i.sent(),o=t.default;return[2,function(t){return(0,r.jsx)(o,w$(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){M$(e,t,n[t])}))}return e}({header:"Close without uploading debug logs?",confirmButtonColor:K.zx.Colors.BRAND,onConfirm:function(){return e(!1)},onCancel:function(){return e(!0)},cancelText:"Yes, close now",confirmText:"No, I'll upload"},t),{children:(0,r.jsx)(K.xv,{variant:"text-md/normal",
children:"You haven't uploaded your debug logs. Close dialog anyways?"})}))}]}}))})))}))}function B$(e){var t=Z$(o.useState(""),2),n=t[0],i=t[1],a=Z$(o.useState(L$.FirstPage),2),s=a[0],l=a[1],c=Z$(o.useState(!1),2),u=c[0],f=c[1],d=Z$(o.useState(null),2),p=d[0],h=d[1],E=Z$(o.useState(!1),2),y=E[0],m=E[1];o.useEffect((function(){R$((function(){var e,t,n,r;return D$(this,(function(o){switch(o.label){case 0:if(null==(e=(0,P$.J)()).blindIds)return[3,3];n=[t={},N$.Yn.DEFAULT];return[4,e.blindIds[N$.Yn.DEFAULT]];case 1:M$.apply(void 0,n.concat([o.sent()]));r=[t,N$.Yn.STREAM];return[4,e.blindIds[N$.Yn.STREAM]];case 2:h.apply(void 0,[(M$.apply(void 0,r.concat([o.sent()])),t)]);o.label=3;case 3:return[2]}}))}))()}),[]);var b=o.useCallback((function(){e.onClose()}),[e]),g=o.useCallback(R$((function(){return D$(this,(function(t){switch(t.label){case 0:return y?[3,2]:[4,G$()];case 1:if(!t.sent())return[2];t.label=2;case 2:e.onClose();return[2]}}))})),[e,y]),O=o.useCallback(R$((function(){var e
;return D$(this,(function(t){switch(t.label){case 0:f(!0);t.label=1;case 1:t.trys.push([1,3,4,5]);return[4,(0,C$.E_)(R.GU0.RTC,{ids:p,issue:n})];case 2:t.sent();return[3,5];case 3:e=t.sent();console.error("[callscope] Error uploading logs",e);return[3,5];case 4:f(!1);m(!0);return[7];case 5:return[2]}}))})),[p,n]),v=o.useCallback((function(){l(L$.SecondPage);console.info('[callscope] "'.concat(n,'"'))}),[n]);switch(s){case L$.FirstPage:return(0,r.jsxs)(Q.Y0,{transitionState:Pc.Dv.ENTERING,size:Q.Cg.MEDIUM,children:[(0,r.jsxs)(Q.hz,{children:[(0,r.jsx)(K.X6,{variant:"heading-xl/semibold",style:U$,children:J.Z.Messages.NOTICE_CALLSCOPE_DIALOG_HEADER}),(0,r.jsxs)(K.xJ,{style:U$,children:[(0,r.jsx)(K.xv,{variant:"text-md/normal",style:k$,children:"A marker has already been placed inside the callscope logs to indicate where the issue. An optional brief description of the problem can be given."}),(0,r.jsx)(K.Kx,{placeholder:J.Z.Messages.NOTICE_CALLSCOPE_DIALOG_INPUT,autoFocus:!0,rows:5,
value:n,maxLength:500,onChange:i})]})]}),(0,r.jsxs)(Q.mz,{children:[(0,r.jsx)(K.zx,{onClick:v,children:"Report"}),(0,r.jsx)(K.zx,{look:K.iL.BLANK,onClick:b,children:(0,r.jsx)(K.xv,{variant:"text-md/medium",children:J.Z.Messages.CANCEL})})]})]});case L$.SecondPage:var _=F.default.getCurrentUser(),I=null!=_&&_.isStaff()?(0,r.jsx)(K.xJ,{style:U$,children:(0,r.jsx)(K.xv,{variant:"text-md/normal",style:k$,children:"After uploading your logs, come to #native-help on Discord EPAD and let us know!"})}):(0,r.jsx)(r.Fragment,{});return(0,r.jsxs)(Q.Y0,{transitionState:Pc.Dv.ENTERING,size:Q.Cg.MEDIUM,children:[(0,r.jsxs)(Q.hz,{children:[(0,r.jsx)(K.X6,{variant:"heading-xl/semibold",style:U$,children:J.Z.Messages.NOTICE_CALLSCOPE_DIALOG_HEADER}),(0,r.jsx)(K.xJ,{style:U$,children:(0,r.jsx)(K.xv,{variant:"text-md/normal",style:k$,children:"Because callscope anonymizes all data, we need some additional information from you to find your logs inside the system."})}),(0,r.jsxs)(K.xJ,{style:U$,
children:[(0,r.jsx)(K.xv,{variant:"text-md/normal",style:k$,children:"Debug logs further help us debug the issue and have enough information to find your callscope logs."}),(0,r.jsx)(K.zx,{submitting:u,onClick:O,children:"Upload debug logs"})]}),(0,r.jsxs)(K.xJ,{style:U$,children:[(0,r.jsx)(K.xv,{variant:"text-md/normal",style:k$,children:"You may be asked to provide these IDs so we can associate the incident."}),(0,r.jsx)(H$,{ids:p})]}),I]}),(0,r.jsx)(Q.mz,{children:(0,r.jsx)(K.zx,{onClick:g,children:"Done"})})]})}}function H$(e){var t=o.useCallback((function(){bs.default.copy(JSON.stringify(e,void 0,4))}),[e]);return null==e.ids?(0,r.jsx)(K.xv,{variant:"text-md/medium",children:"Unable to locate blind IDs."}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(K.xv,{variant:"text-md/medium",children:(0,r.jsx)("ul",{children:Object.entries(e.ids).filter((function(e){var t=Z$(e,2);t[0];return null!=t[1]})).map((function(e){var t=Z$(e,2),n=t[0],o=t[1];return(0,r.jsxs)("div",{children:[(0,
r.jsxs)("li",{children:[(0,r.jsxs)("strong",{children:["Blind channel ID (",n,"):"]})," ",(0,r.jsx)("kbd",{children:o.blindChannelId})]}),(0,r.jsxs)("li",{children:[(0,r.jsxs)("strong",{children:["Blind user ID (",n,"):"]})," ",(0,r.jsx)("kbd",{children:o.blindUserId})]})]},n)}))})}),(0,r.jsx)(K.zx,{onClick:t,children:"Copy"})]})}var V$="callscope-report-issue-dialog";function F$(){var e=(0,A$.v)(),t=o.useCallback((function(){(0,Y.Mr)(V$)}),[]),n=o.useCallback((function(){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;g.Z.dispatch({type:"RTC_LOG_MARKER",marker:e})}();(0,Y.ZD)((function(){return Promise.resolve((function(e){return(0,r.jsx)(B$,{onClose:t})}))}),{contextKey:e,modalKey:V$})}),[e,t]);return(0,r.jsxs)(r.Fragment,{children:[J.Z.Messages.NOTICE_CALLSCOPE_CALL,(0,r.jsx)(qR.Ey,{title:J.Z.Messages.NOTICE_CALLSCOPE_MARK_ISSUE_TOOLTIP,onClick:n,children:J.Z.Messages.NOTICE_CALLSCOPE_MARK_ISSUE})]})}
var Y$=n(783848),z$=n(545623),W$=n(99274),K$=n(279248),q$=n.n(K$);const X$=function(e){var t=e.noticeType,n=e.markAsDismissed,o=e.partnerGame,i=(0,s.e7)([F.default],(function(){return F.default.getCurrentUser()}));if(null==o)return null;var a=(0,W$.BS)(o);if(null==a)return null;var l,c="https://survey.alchemer.com/s3/7043057/Drops-NPS?user_id=".concat(null!==(l=null==i?void 0:i.id)&&void 0!==l?l:"");return(0,r.jsxs)(qR.ZP,{className:q$().colorGuildBlue,children:[J.Z.Messages.DROPS_BANNER_ENDED_INCOMPLETE.format({gameTitle:a.title}),(0,r.jsx)(qR.u3,{href:c,target:"_blank",onClick:function(){n(yn.L.PRIMARY)},children:J.Z.Messages.DROPS_FEEDBACK_SURVEY}),(0,r.jsx)(qR.Ry,{onClick:function(){n(yn.L.DISMISS)},noticeType:t})]})};var Q$=n(524814),$$=n(494284),J$=n.n($$);const eJ=function(e){var t=e.noticeType,n=e.markAsDismissed,o=e.partnerGame,i=(0,Q$.au)(o);if(null==i)return null;var a,s,l=(a=i.drop,s=i.config.streamLengthRequirement,{bodyText:J.Z.Messages.DROPS_BANNER_NOTICE.format({
gameName:a.title,endDate:kb()(a.endDate,"YYYY-MM-DD HH:mm").format("MMM Do"),streamLengthRequirement:s}),articleUrl:a.articleUrl}),c=l.bodyText,u=l.articleUrl;return(0,r.jsxs)(qR.ZP,{className:J$().colorGuildBlue,children:[c,(0,r.jsx)(qR.u3,{href:u,target:"_blank",onClick:function(){n(yn.L.PRIMARY)},children:J.Z.Messages.LEARN_MORE}),(0,r.jsx)(qR.Ry,{onClick:function(){n(yn.L.DISMISS)},noticeType:t})]})};var tJ=n(786608),nJ=n(738549),rJ=n(255919),oJ=n(202192),iJ=n.n(oJ);const aJ=function(e){var t=e.notice,n=e.noticeType,o=e.dismissCurrentNotice,i=null!=(null==t?void 0:t.metadata.premiumSubscription),a=(0,nJ.n)();(0,rJ.U)(R.jXE.NOTIFICATION_BAR,null==a?void 0:a.countryCode);if(null==a)return null;var s=a.countryCode,l=a.currency,c=a.paymentSourceTypes.length>0;return(0,r.jsxs)(qR.ZP,{color:i?qR.DM.BRAND:qR.DM.PREMIUM_TIER_2,children:[(0,r.jsx)(qR.Ry,{onClick:o,noticeType:n}),!i&&(0,r.jsx)(gL.Z,{className:iJ().premiumIcon}),(0,tJ.Gv)(s,l,c,i),(0,r.jsx)(qR.No,{onClick:function(){o()
;p.Z.open(R.oAB.PREMIUM)},noticeType:n,children:J.Z.Messages.LEARN_MORE})]})};var sJ=n(35220),lJ=n(511515);function cJ(e){switch(e){case Ji.Si.TIER_0:return qR.DM.PREMIUM_TIER_0;case Ji.Si.TIER_2:return qR.DM.PREMIUM_TIER_2;default:throw new Error("Unsupported subscription tier: ".concat(e))}}function uJ(e,t){switch(e){case Ji.Si.TIER_0:return t.days>0?J.Z.Messages.NOTICE_PREMIUM_TIER_0_TRIAL_ENDING_DAYS_VARIANT.format({days:t.days}):t.hours>0?J.Z.Messages.NOTICE_PREMIUM_TIER_0_TRIAL_ENDING_HOURS_VARIANT.format({hours:t.hours}):J.Z.Messages.NOTICE_PREMIUM_TIER_0_TRIAL_ENDING_MINUTES_VARIANT.format({minutes:Math.max(t.minutes,1)});case Ji.Si.TIER_2:return t.days>0?J.Z.Messages.NOTICE_PREMIUM_TIER_2_TRIAL_ENDING_DAYS_VARIANT.format({days:t.days}):t.hours>0?J.Z.Messages.NOTICE_PREMIUM_TIER_2_TRIAL_ENDING_HOURS_VARIANT.format({hours:t.hours}):J.Z.Messages.NOTICE_PREMIUM_TIER_2_TRIAL_ENDING_MINUTES_VARIANT.format({minutes:Math.max(t.minutes,1)});default:
throw new Error("Unsupported subscription tier: ".concat(e))}}function fJ(e){switch(e){case Ji.Si.TIER_0:return J.Z.Messages.NOTICE_PREMIUM_TIER_0_TRIAL_ENDING_CTA_VARIANT;case Ji.Si.TIER_2:return J.Z.Messages.NOTICE_PREMIUM_TIER_2_TRIAL_ENDING_CTA_VARIANT;default:throw new Error("Unsupported subscription tier: ".concat(e))}}const dJ=function(e){var t,n=e.dismissCurrentNotice,o=e.subscriptionTier,i=(0,lw.Z)(function(e){switch(e){case Ji.Si.TIER_0:return Of.Z.PREMIUM_TIER_0_TRIAL_ENDING_NOTICE;case Ji.Si.TIER_2:return Of.Z.PREMIUM_TIER_2_TRIAL_ENDING_NOTICE;default:throw new Error("Unsupported subscription tier: ".concat(e))}}(o)).analyticsLocations,a=(0,lJ.N)(),s=(0,sJ.Z)(null!=a&&null!=a.expires_at?Date.parse(a.expires_at):0);return null==a||(null===(t=a.subscription_trial)||void 0===t?void 0:t.sku_id)!==o||null==a.expires_at||Object.values(s).every((function(e){return 0===e}))?null:(0,r.jsxs)(qR.ZP,{color:cJ(o),children:[(0,r.jsx)(qR.Ry,{onClick:n}),(0,r.jsx)(gL.Z,{
className:iJ().premiumIcon}),uJ(o,s),(0,r.jsx)(qR.Ey,{onClick:function(){(0,mL.Z)({trialId:a.trial_id,subscriptionTier:o,analyticsLocations:i,analyticsObject:{page:R.ZY5.IN_APP,section:R.jXE.NOTIFICATION_BAR,object:R.qAy.BUTTON_CTA}})},children:fJ(o)})]})};function pJ(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function hJ(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){pJ(i,r,o,a,s,"next",e)}function s(e){pJ(i,r,o,a,s,"throw",e)}a(void 0)}))}}function EJ(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var yJ=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){
if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},mJ=function(e){var t=e.dismissibleContent,o=e.noticeType,i=(0,s.e7)([GQ.Z],(function(){return GQ.Z.getNotice()}));return(0,r.jsx)(LT.Z,{contentTypes:[t],children:function(e){
var t=e.visibleContent,a=e.markAsDismissed;switch(t){case fn.z$.NAGBAR_NOTICE_DOWNLOAD:return(0,r.jsxs)(qR.ZP,{color:qR.DM.DEFAULT,children:[(0,r.jsx)(qR.Ry,{onClick:a,noticeType:o}),J.Z.Messages.NOTICE_NATIVE_APPS_2020_06,(0,r.jsx)("i",{className:iJ().iconApple}),(0,r.jsx)("i",{className:iJ().iconAndroid}),(0,r.jsx)("i",{className:iJ().iconWindows}),(0,r.jsx)(qR.No,{noticeType:o,onClick:function(){(0,Y.ZD)(hJ((function(){var e,t;return yJ(this,(function(o){switch(o.label){case 0:return[4,Promise.resolve().then(n.bind(n,884994))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){EJ(e,t,n[t])}))}return e}({source:"Top Bar Nag"},e))}]}}))})))},
children:J.Z.Messages.DOWNLOAD})]});case fn.z$.NAGBAR_NOTICE_CONNECT_SPOTIFY:return(0,r.jsxs)(qR.ZP,{color:qR.DM.SPOTIFY,children:[(0,r.jsx)(qR.Ry,{onClick:a,noticeType:o}),(0,r.jsx)(FY.Z,{className:iJ().platformIcon}),J.Z.Messages.NOTICE_CONNECT_SPOTIFY,(0,r.jsx)(qR.No,{onClick:function(){return(0,Y$.Z)(R.ABu.SPOTIFY,"Notice Bar")},noticeType:o,children:J.Z.Messages.CONNECT})]});case fn.z$.NAGBAR_NOTICE_CONNECT_PLAYSTATION:return(0,r.jsxs)(qR.ZP,{color:qR.DM.PLAYSTATION,children:[(0,r.jsx)(qR.Ry,{onClick:a}),(0,r.jsx)("img",{alt:"",className:iJ().platformIcon,src:MY.Z.get(R.ABu.PLAYSTATION).icon.whiteSVG}),J.Z.Messages.NOTICE_CONNECT_PLAYSTATION,(0,r.jsx)(qR.Ey,{onClick:function(){return(0,Y$.Z)(R.ABu.PLAYSTATION,"Notice Bar")},children:J.Z.Messages.CONNECT})]});case fn.z$.NAGBAR_NOTICE_MFA_SMS_BACKUP:return(0,r.jsxs)(qR.ZP,{color:qR.DM.DEFAULT,children:[(0,r.jsx)(qR.Ry,{onClick:a,noticeType:o}),J.Z.Messages.NOTICE_MFA_SMS_BACKUP,(0,r.jsx)(qR.No,{onClick:function(){
return p.Z.open(R.oAB.ACCOUNT)},noticeType:o,children:J.Z.Messages.NOTICE_MFA_SMS_BACKUP_BUTTON})]});case fn.z$.NAGBAR_NOTICE_PREMIUM_PROMO:return(0,r.jsxs)(qR.ZP,{color:qR.DM.PREMIUM_TIER_2,children:[(0,r.jsx)("span",{className:iJ().premiumLogo}),(0,r.jsx)("span",{className:iJ().premiumText,children:J.Z.Messages.NOTICE_PREMIUM_PROMO_MESSAGE}),(0,r.jsx)(qR.No,{className:iJ().premiumAction,noticeType:o,onClick:function(){Te.default.track(R.rMx.PREMIUM_PROMOTION_OPENED,{location_section:R.jXE.NOTIFICATION_BAR,location_object:R.qAy.BUTTON_CTA});p.Z.open(R.oAB.PREMIUM)},children:J.Z.Messages.NOTICE_PREMIUM_PROMO_ACTION}),(0,r.jsx)(qR.Ry,{onClick:function(){a();(0,Kl.mB)(R.xW$.PREMIUM_PROMO_DISMISSED,!0)},noticeType:o})]});case fn.z$.NAGBAR_NOTICE_PREMIUM_TIER_TWO_TRIAL_ENDING:return(0,r.jsx)(dJ,{dismissCurrentNotice:a,subscriptionTier:Ji.Si.TIER_2});case fn.z$.NAGBAR_NOTICE_PREMIUM_TIER_0_TRIAL_ENDING:return(0,r.jsx)(dJ,{dismissCurrentNotice:a,subscriptionTier:Ji.Si.TIER_0})
;case fn.z$.NAGBAR_NOTICE_PREMIUM_REACTIVATE:return(0,r.jsxs)(qR.ZP,{color:qR.DM.PREMIUM_TIER_2,children:[(0,r.jsx)(qR.Ry,{noticeType:o,onClick:a}),J.Z.Messages.PREMIUM_SUBSCRIPTION_REACTIVATION_NOTICE_TEXT,(0,r.jsx)(qR.No,{noticeType:o,onClick:function(){a();p.Z.open(R.oAB.PREMIUM)},children:J.Z.Messages.PREMIUM_SUBSCRIPTION_REACTIVATION_NOTICE_BUTTON_TEXT})]});case fn.z$.NAGBAR_NOTICE_LOCALIZED_PRICING:return(0,r.jsx)(aJ,{notice:i,noticeType:o,dismissCurrentNotice:a});case fn.z$.QUEST_1_GO_LIVE_BANNER:var s,l=null==i||null===(s=i.metadata)||void 0===s?void 0:s.partnerGame;return(0,r.jsx)(eJ,{noticeType:o,markAsDismissed:a,partnerGame:l});case fn.z$.PREMIUM_TIER_0_NOTICE:var c=i.metadata.monthlyPrice;return(0,r.jsxs)(qR.ZP,{color:qR.DM.PREMIUM_TIER_2,children:[(0,r.jsx)(qR.Ry,{noticeType:o,onClick:a}),(0,r.jsx)(gL.Z,{className:iJ().premiumIcon}),J.Z.Messages.PREMIUM_TIER_0_NOTICE_TEXT.format({monthlyPrice:c}),(0,r.jsx)(qR.No,{noticeType:o,onClick:function(){a();(0,
q.uL)(R.Z5c.APPLICATION_STORE)},children:J.Z.Messages.LEARN_MORE})]});case fn.z$.QUEST_1_ENDED_INCOMPLETE:var u,f=null==i||null===(u=i.metadata)||void 0===u?void 0:u.partnerGame;return(0,r.jsx)(X$,{noticeType:o,markAsDismissed:a,partnerGame:f});case fn.z$.NAGBAR_BOUNCED_EMAIL_NOTICE:return(0,r.jsxs)(qR.ZP,{color:qR.DM.DANGER,children:[(0,r.jsx)(qR.Ry,{onClick:a,noticeType:o}),J.Z.Messages.BOUNCED_EMAIL_DETECTED_NOTICE,(0,r.jsx)(qR.No,{noticeType:o,onClick:function(){(0,q.uL)(R.Z5c.SETTINGS("account"))},children:J.Z.Messages.CHANGE_EMAIL_SHORT})]});case fn.z$.NAGBAR_ACTIVATE_SERVER_SUBSCRIPTION:var d=z$.Z.getEligibleGuildsForNagActivate();return(0,r.jsxs)(qR.ZP,{color:qR.DM.DEFAULT,children:[(0,r.jsx)(qR.Ry,{onClick:a,noticeType:o}),J.Z.Messages.GUILD_ROLE_SUBSCRIPTION_NAGBAR_TEXT,(0,r.jsx)(qR.No,{noticeType:o,onClick:function(){a(yn.L.PRIMARY);(0,
q.uL)(1===d.length?R.Z5c.GUILD_SETTINGS(d[0],"role-subscriptions"):R.Z5c.PICK_GUILD_SETTINGS("role-subscriptions",void 0,"server-subscriptions-finish-setting-up"))},children:J.Z.Messages.LETS_GO})]})}}})},bJ=n(329646),gJ=n(870978),OJ=n(345209),vJ=n(407829),_J=n.n(vJ),IJ=n(944659),SJ=n.n(IJ);function TJ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function NJ(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function CJ(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){NJ(i,r,o,a,s,"next",e)}function s(e){NJ(i,r,o,a,s,"throw",e)}a(void 0)}))}}function AJ(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function PJ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){AJ(e,t,n[t])}))}return e}function jJ(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function xJ(e){return function(e){if(Array.isArray(e))return TJ(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return TJ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TJ(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var RJ=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop()
;a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};const MJ=function(){var e,t=(0,s.e7)([A.Z],(function(){return A.Z.getGuildId()}),[]),o=(0,s.e7)([Ut.Z],(function(){return Ut.Z.getGuild(t)}),[t]),i=(0,s.e7)([ZC.Z],(function(){return null!=t?ZC.Z.getRequest(t):null}),[t]),l=(0,a.TH)(),c=!0===(null===(e=(0,a.LX)(l.pathname,R.Z5c.CHANNEL(null==o?void 0:o.id,cO.oC.GUILD_ONBOARDING)))||void 0===e?void 0:e.isExact);if(null==o||!o.hasVerificationGate()||c)return null;var u,f=null!==(u=null==i?void 0:i.applicationStatus)&&void 0!==u?u:wC.wB.STARTED,d=null,p=null,h=null,E=[_J().notice,SJ().notice];switch(f){
case wC.wB.SUBMITTED:d=J.Z.Messages.MEMBER_VERIFICATION_APPLICATION_CONFIRMATION_TITLE;p=J.Z.Messages.MEMBER_VERIFICATION_CANCEL_APPLICATION;h=function(){(0,Y.h7)((function(e){return(0,r.jsx)(Oh.default,jJ(PJ({header:J.Z.Messages.MODIFY_FOLLOWED_NEWS_HEADER,confirmText:J.Z.Messages.CONFIRM,cancelText:J.Z.Messages.CANCEL,onConfirm:function(){return xC.Z.removeGuildJoinRequest(o.id)},confirmButtonColor:K.zx.Colors.BRAND},e),{children:(0,r.jsx)(K.xv,{variant:"text-md/normal",children:J.Z.Messages.MEMBER_VERIFICATION_CANCEL_APPLICATION_SUBTITLE})}))}))};break;case wC.wB.REJECTED:d=J.Z.Messages.MEMBER_VERIFICATION_REJECTED_TITLE;p=J.Z.Messages.MEMBER_VERIFICATION_LEARN_MORE;h=function(){(0,Y.ZD)(CJ((function(){var e,t;return RJ(this,(function(i){switch(i.label){case 0:return[4,n.e(51802).then(n.bind(n,696090))];case 1:e=i.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,PJ({guildId:o.id},e))}]}}))})))};E.push(_J().error);break;default:d=J.Z.Messages.MEMBER_VERIFICATION_NOTICE_TEXT
;p=J.Z.Messages.MEMBER_VERIFICATION_NOTICE_CTA;h=function(){(0,go.hk)(o.id)}}return(0,r.jsxs)("div",{className:$p().apply(void 0,xJ(E)),children:[(0,r.jsx)(K.xv,{className:_J().header,variant:"text-sm/normal",children:d}),(0,r.jsx)(K.zx,{className:_J().button,look:K.zx.Looks.OUTLINED,color:K.zx.Colors.WHITE,size:K.zx.Sizes.NONE,onClick:h,children:p})]})};var wJ=n(144683),ZJ=n(636177),LJ=n(390174),DJ=n(5459),UJ=n.n(DJ);function kJ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function GJ(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function BJ(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function HJ(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{
for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return kJ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kJ(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var VJ=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){
if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};const FJ=function(){var e=(0,s.e7)([A.Z],(function(){return A.Z.getGuildId()}),[]),t=(0,s.e7)([Ut.Z],(function(){return Ut.Z.getGuild(e)}),[e]),n=(0,s.e7)([Ob.Z],(function(){return Ob.Z.getHistorySnapshot()
}),[]),i=HJ(o.useState(!1),2),a=i[0],l=i[1];if(null==t)return null;var c=function(){var e,n=(e=function(){return VJ(this,(function(e){switch(e.label){case 0:l(!0);e.label=1;case 1:e.trys.push([1,3,,4]);LJ.mT(t.id);return[4,u.Z.joinGuild(t.id,{source:R.vtS.NOTICE_BAR})];case 2:e.sent();return[3,4];case 3:e.sent();l(!1);return[3,4];case 4:return[2]}}))},function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){GJ(i,r,o,a,s,"next",e)}function s(e){GJ(i,r,o,a,s,"throw",e)}a(void 0)}))});return function(){return n.apply(this,arguments)}}();return(0,r.jsxs)("div",{className:$p()(UJ().notice,SJ().notice),children:[(0,r.jsxs)(K.zx,{look:K.zx.Looks.OUTLINED,color:K.zx.Colors.WHITE,size:K.zx.Sizes.NONE,className:$p()(UJ().button,UJ().back),innerClassName:UJ().iconButton,onClick:function(){var e=(0,q.s1)();null!=n&&null!=n.location?(0,q.dL)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){BJ(e,t,n[t])}))}return e}({},n.location)):e.goBack()},children:[(0,r.jsx)(ZJ.Z,{width:16,height:16,className:UJ().arrow}),J.Z.Messages.BACK]}),(0,r.jsx)(K.xv,{className:UJ().header,variant:"text-sm/normal",children:J.Z.Messages.LURKER_MODE_NAG_BAR_HEADER}),(0,r.jsx)(K.zx,{className:UJ().button,look:K.zx.Looks.OUTLINED,color:K.zx.Colors.WHITE,size:K.zx.Sizes.NONE,submitting:a,onClick:c,children:J.Z.Messages.LURKER_MODE_NAG_BAR_BUTTON.format({guild:t.name})})]})};var YJ=n(451168),zJ=n(353443),WJ=n(655432),KJ=n(738022),qJ=n(398272),XJ=n(110717),QJ=n.n(XJ);function $J(e){var t=C.Z.getVoiceChannelId();if(null!=t){var n=I.Z.getChannel(t);null!=n&&(0,WJ.RK)(n,e)}}function JJ(){var e,t=(0,KJ.Z)(),n=null!==(e=(0,qJ._d)(null==t?void 0:t.id))&&void 0!==e?e:0;return(0,r.jsxs)(qR.ZP,{
className:QJ().container,color:qR.DM.DEFAULT,children:[(0,r.jsx)("div",{children:J.Z.Messages.STAGE_SPEAK_INVITE_HEADER}),n>0?(0,r.jsxs)("div",{className:QJ().blocked,children:[(0,r.jsx)(zJ.Z,{width:12,height:12,className:QJ().blockedIcon}),(0,r.jsx)("div",{className:QJ().blockedText,children:J.Z.Messages.STAGE_SPEAK_INVITE_HEADER_BLOCKED_USERS.format({number:n})})]}):null,(0,r.jsx)(K.zx,{className:$p()(QJ().button,QJ().acceptButton),size:K.zx.Sizes.MIN,color:K.zx.Colors.WHITE,onClick:function(){return $J(!1)},children:(0,r.jsx)(K.xv,{className:QJ().acceptText,variant:"text-xs/normal",color:"none",children:J.Z.Messages.STAGE_SPEAK_INVITE_ACCEPT})}),(0,r.jsx)(K.zx,{className:$p()(QJ().button,QJ().declineButton),look:K.zx.Looks.OUTLINED,size:K.zx.Sizes.MIN,color:K.zx.Colors.WHITE,onClick:function(){return $J(!0)},children:(0,r.jsx)(K.xv,{className:QJ().declineText,variant:"text-xs/normal",color:"none",children:J.Z.Messages.STAGE_SPEAK_INVITE_DECLINE})})]})}var e0=n(512238),t0=n(911678)
;function n0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r0(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function o0(e){o0=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return o0(e)}function i0(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function a0(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t)
;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function s0(e,t){return!t||"object"!==c0(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l0(e,t){l0=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l0(e,t)}var c0=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function u0(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=o0(e);if(t){var o=o0(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments)
;return s0(this,n)}}var f0={DropdownSizes:t0.Z.DropdownSizes,Sizes:t0.Z.Sizes,Colors:t0.Z.Colors,Looks:t0.Z.Looks},d0=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&l0(e,t)}(n,e);var t=u0(n);function n(){n0(this,n);var e;(e=t.apply(this,arguments)).renderContextMenu=function(){var t=e.props,n=t.skus,o=t.onSKUSelect,i=t.onMenuSelect;return(0,r.jsx)(Lz.ZP,{onSelect:i,navId:"test-skus","aria-label":J.Z.Messages.GENERIC_ACTIONS_MENU_LABEL,onClose:db.Zy,children:n.map((function(e){return(0,r.jsx)(Lz.sN,{id:"".concat(e.id),label:e.name,action:function(){null==o||o(e)}},"".concat(e.id))}))})};e.handleContextMenu=function(t){t.stopPropagation();db.vq(t,e.renderContextMenu)};e.handleClick=function(){var t=e.props,n=t.onSKUSelect,r=t.primarySKU;null!=r&&(null==n||n(r))};return e}n.prototype.render=function(){
var e=this.props,t=e.skus,n=e.children,o=(e.applicationId,e.primarySKU,e.onSKUSelect,a0(e,["skus","children","applicationId","primarySKU","onSKUSelect"]));return(0,r.jsx)(t0.Z,i0(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){r0(e,t,n[t])}))}return e}({onClick:this.handleClick,onDropdownClick:t.length>0?this.handleContextMenu:null,onContextMenu:t.length>0?this.handleContextMenu:void 0},o),{children:n}))};return n}(o.PureComponent);const p0=s.ZP.connectStores([e0.Z,Mn.Z],(function(e){var t,n=e.applicationId,r=(0,rM.uF)(n,Mn.Z,e0.Z);return{skus:(null!==(t=e0.Z.getForApplication(n))&&void 0!==t?t:[]).sort((function(e,t){return null!=r&&e.id===r.id?-1:null!=r&&t.id===r.id?1:e.name>=t.name?-1:1})),primarySKU:r}}))(d0);function h0(e,t,n){
t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var E0=null;function y0(){null!==E0&&(0,Y.Mr)(E0);E0=null}function m0(){ze.Z.setSilenceWarning(!1);y0()}function b0(){E0=(0,Y.h7)((function(e){return(0,r.jsx)(Fp.default,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){h0(e,t,n[t])}))}return e}({title:J.Z.Messages.CONFIRM_DISABLE_SILENCE_TITLE,body:J.Z.Messages.CONFIRM_DISABLE_SILENCE_BODY,secondaryConfirmText:J.Z.Messages.CONFIRM_DISABLE_SILENCE_DONT_SHOW,onConfirmSecondary:m0,onConfirm:y0,confirmText:J.Z.Messages.OKAY},e))}))}var g0=n(566438);function O0(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function v0(e){
return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){O0(i,r,o,a,s,"next",e)}function s(e){O0(i,r,o,a,s,"throw",e)}a(void 0)}))}}function _0(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function I0(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){_0(e,t,n[t])}))}return e}function S0(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n
}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var T0=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2]
;a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},N0=function(){return(0,r.jsxs)(qR.ZP,{color:qR.DM.DANGER,children:[(0,r.jsx)(qR.Ry,{onClick:function(){A0();b0()}}),J.Z.Messages.NOTICE_NO_INPUT_DETECTED,(0,r.jsx)(qR.u3,{href:$.Z.getArticleURL(R.BhN.NO_INPUT_DETECTED),children:J.Z.Messages.NOTICE_NO_INPUT_DETECTED_HELP_LINK_TEXT})]})},C0=function(){return(0,r.jsxs)(qR.ZP,{color:qR.DM.DANGER,children:[(0,r.jsx)(qR.Ry,{onClick:function(){A0();b0()}}),J.Z.Messages.NOTICE_NO_INPUT_DETECTED_SETTINGS,(0,r.jsx)(qR.Ey,{onClick:function(){(0,Vp.jN)(R.S9g.USER_SETTINGS);p.Z.setSection(R.oAB.VOICE)},children:J.Z.Messages.NOTICE_NO_INPUT_DETECTED_SETTINGS_LINK_TEXT})]})};function A0(e){_$.Z.dismiss(null!=e?{untilAtLeast:kb()(e)}:void 0)}var P0=o.memo((function(){var e,t=(0,s.e7)([F.default],(function(){return F.default.getCurrentUser()})),i=(0,s.e7)([A.Z],(function(){
return A.Z.getGuildId()})),a=(0,s.e7)([GQ.Z],(function(){return GQ.Z.getNotice()})),c=(0,lw.Z)().analyticsLocations,u=null==a?void 0:a.type,h=(0,OJ.J)(i);o.useEffect((function(){null!=u&&function(e,t){var n={notice_type:e};null!=t&&(n.guild_id=t);Te.default.track(R.rMx.APP_NOTICE_VIEWED,n)}(u,i)}),[u,i]);o.useEffect((function(){if(null!=a&&a.type===R.kVF.SURVEY&&null!=a.metadata){var e=a.metadata,t=bJ.En.getUserExperimentDescriptor(e.id);null!=t&&(0,bJ.W9)(e.id,t)}}),[a]);if(null==a)return null;var E=GQ.m[a.type];if(null!=E)return(0,r.jsx)(mJ,{dismissibleContent:E,noticeType:a.type});var y=null===(e=a.metadata)||void 0===e?void 0:e.premiumType;switch(a.type){case R.kVF.LURKING_GUILD:return(0,r.jsx)(FJ,{});case R.kVF.PENDING_MEMBER:return(0,r.jsx)(MJ,{});case R.kVF.INVITED_TO_SPEAK:return(0,r.jsx)(JJ,{});case R.kVF.GENERIC:return(0,r.jsxs)(qR.ZP,{color:qR.DM.DEFAULT,children:[(0,r.jsx)(qR.Ry,{onClick:function(){return A0()},noticeType:R.kVF.GENERIC}),a.message,null!=a.buttonText?(0,
r.jsx)(qR.No,{onClick:a.callback,noticeType:R.kVF.GENERIC,children:a.buttonText}):null]});case R.kVF.LAUNCH_GAME_FAILURE:return(0,r.jsxs)(qR.ZP,{color:qR.DM.DANGER,children:[(0,r.jsx)(qR.Ry,{onClick:function(){return A0()},noticeType:R.kVF.LAUNCH_GAME_FAILURE}),a.message,null!=a.buttonText?(0,r.jsx)(qR.No,{onClick:a.callback,noticeType:R.kVF.LAUNCH_GAME_FAILURE,children:a.buttonText}):null]});case R.kVF.VOICE_DISABLED:return(0,r.jsxs)(qR.ZP,{color:qR.DM.WARNING,children:[(0,r.jsx)(qR.Ry,{onClick:function(){I$();A0()},noticeType:R.kVF.VOICE_DISABLED}),J.Z.Messages.NOTICE_CONNECTION_CONFLICT,(0,r.jsx)(qR.No,{onClick:function(){var e=N.Z.getRemoteDisconnectVoiceChannelId();if(null!=e){null!=I.Z.getChannel(e)&&f.default.selectVoiceChannel(e)}},noticeType:R.kVF.VOICE_DISABLED,children:J.Z.Messages.RECONNECT})]});case R.kVF.SPOTIFY_AUTO_PAUSED:var m=MY.Z.get(R.ABu.SPOTIFY);return(0,r.jsxs)(qR.ZP,{color:qR.DM.DANGER,children:[(0,r.jsx)(qR.Ry,{onClick:function(){return A0()},
noticeType:R.kVF.SPOTIFY_AUTO_PAUSED}),(0,r.jsx)("img",{alt:"",className:iJ().platformIcon,src:m.icon.whiteSVG}),J.Z.Messages.NOTICE_SPOTIFY_AUTO_PAUSED,(0,r.jsx)(qR.No,{onClick:function(){return p.Z.open(R.oAB.VOICE)},noticeType:R.kVF.SPOTIFY_AUTO_PAUSED,children:J.Z.Messages.VOICE_SETTINGS}),(0,r.jsx)(K.ee,{className:iJ().textLinkSmall,href:$.Z.getArticleURL(R.BhN.SPOTIFY_AUTO_PAUSED),target:"_blank",children:J.Z.Messages.NOTICE_WHATS_THIS})]});case R.kVF.CALLSCOPE_MONITORING:return(0,r.jsx)(qR.ZP,{color:qR.DM.INFO,children:(0,r.jsx)(F$,{})});case R.kVF.UNCLAIMED_ACCOUNT:return(0,r.jsxs)(qR.ZP,{color:qR.DM.DEFAULT,children:[J.Z.Messages.NOTICE_UNCLAIMED_ACCOUNT,(0,r.jsx)(qR.No,{noticeType:R.kVF.UNCLAIMED_ACCOUNT,onClick:function(){return h&&null!=i?(0,go.hk)(i):bo.j()},children:J.Z.Messages.CLAIM_ACCOUNT})]});case R.kVF.UNVERIFIED_ACCOUNT:return(0,r.jsxs)(qR.ZP,{color:qR.DM.DEFAULT,children:[J.Z.Messages.NOTICE_UNVERIFIED_ACCOUNT,(0,r.jsx)(qR.No,{noticeType:R.kVF.UNVERIFIED_ACCOUNT,
onClick:function(){l.Z.verifyResend();O$.Z.show({title:J.Z.Messages.VERIFICATION_EMAIL_TITLE,body:J.Z.Messages.VERIFICATION_EMAIL_BODY.format({email:null==t?void 0:t.email}),secondaryConfirmText:J.Z.Messages.CHANGE_EMAIL,onConfirmSecondary:bo.j})},children:J.Z.Messages.RESEND})]});case R.kVF.SCHEDULED_MAINTENANCE:return null==a.metadata?null:(0,r.jsxs)(qR.ZP,{color:qR.DM.DEFAULT,children:[(0,r.jsx)(qR.Ry,{onClick:function(){return S$.Z.ackScheduledMaintenance()},noticeType:R.kVF.SCHEDULED_MAINTENANCE}),J.Z.Messages.NOTICE_SCHEDULED_MAINTENANCE.format(a.metadata),(0,r.jsx)(qR.u3,{href:"".concat(R.yXt.STATUS,"/incidents/").concat(a.metadata.id),children:J.Z.Messages.LEARN_MORE})]});case R.kVF.NO_INPUT_DETECTED:return We.Z.supports(Xe.AN.LOOPBACK)?(0,r.jsx)(C0,{}):(0,r.jsx)(N0,{});case R.kVF.HARDWARE_MUTE:if(null==a.metadata)return null;var b=a.metadata,g=b.vendor,O=b.model;return(0,r.jsxs)(qR.ZP,{color:qR.DM.DANGER,children:[J.Z.Messages.NOTICE_HARDWARE_MUTE.format({vendorName:g.name,
modelName:O.name}),(0,r.jsx)(qR.u3,{href:O.url,target:"_blank",rel:"noreferrer noopener",children:J.Z.Messages.SUPPORT})]});case R.kVF.STREAMER_MODE:return(0,r.jsxs)(qR.ZP,{color:qR.DM.STREAMER_MODE,children:[(0,r.jsx)(qR.Ry,{onClick:function(){return A0()},noticeType:R.kVF.STREAMER_MODE}),J.Z.Messages.NOTICE_STREAMER_MODE_TEXT,(0,r.jsx)(qR.No,{onClick:function(){return Ar.Z.setEnabled(!1)},noticeType:R.kVF.STREAMER_MODE,children:J.Z.Messages.DISABLE})]});case R.kVF.H264_DISABLED:return(0,r.jsxs)(qR.ZP,{color:qR.DM.DANGER,children:[(0,r.jsx)(qR.Ry,{onClick:function(){A0()}}),J.Z.Messages.NOTICE_H264_DISABLED_SETTINGS,(0,r.jsx)(qR.Ey,{onClick:function(){(0,Vp.jN)(R.S9g.USER_SETTINGS);p.Z.setSection(R.oAB.VOICE)},children:J.Z.Messages.NOTICE_H264_DISABLED_SETTINGS_LINK_TEXT})]});case R.kVF.DETECTED_OFF_PLATFORM_PREMIUM_PERK:if(null==a.metadata)return null;var v=a.metadata,_=v.skuId,S=v.applicationId,T=e0.Z.get(_),C=Mn.Z.getGame(S);if(null==T||null==C)return null;var P={page:R.ZY5.IN_APP}
;return(0,r.jsxs)(qR.ZP,{color:qR.DM.PREMIUM_TIER_1,children:[(0,r.jsx)(qR.Ry,{onClick:function(){return v$(T.id)},noticeType:R.kVF.DETECTED_OFF_PLATFORM_PREMIUM_PERK}),(0,r.jsx)(gL.Z,{className:iJ().premiumIcon}),J.Z.Messages.NOTICE_DETECTED_OFF_PLATFORM_PREMIUM_PERK_MESSAGE.format({applicationName:C.name,skuName:T.name}),(0,r.jsx)(qR.No,{noticeType:R.kVF.DETECTED_OFF_PLATFORM_PREMIUM_PERK,onClick:function(){return(0,gf.S)({applicationId:C.id,skuId:T.id,openPremiumPaymentModal:function(){(0,mL.Z)({initialPlanId:null,subscriptionTier:Ji.Si.TIER_2,analyticsLocations:c,analyticsObject:P})},analyticsLocations:c,analyticsLocation:P,context:__OVERLAY__?R.IlC.OVERLAY:R.IlC.APP}).then((function(){return v$(T.id)}))},children:J.Z.Messages.NOTICE_DETECTED_OFF_PLATFORM_PREMIUM_PERK_BUTTON})]});case R.kVF.DETECTED_OFF_PLATFORM_PREMIUM_PERK_UPSELL:if(null==a.metadata)return null;var j=a.metadata,x=j.skuId,M=j.applicationId,w=e0.Z.get(x),Z=Mn.Z.getGame(M);return null==w||null==Z?null:(0,
r.jsxs)(qR.ZP,{color:qR.DM.PREMIUM_TIER_1,children:[(0,r.jsx)(qR.Ry,{onClick:function(){return A0()},noticeType:R.kVF.DETECTED_OFF_PLATFORM_PREMIUM_PERK_UPSELL}),(0,r.jsx)(gL.Z,{className:iJ().premiumIcon}),J.Z.Messages.NOTICE_DETECTED_OFF_PLATFORM_NO_PREMIUM_PERK_MESSAGE.format({applicationName:Z.name,skuName:w.name}),(0,r.jsx)(qR.Ey,{children:(0,r.jsx)(g$.rU,{onClick:function(){return A0()},to:{pathname:R.Z5c.APPLICATION_STORE_LISTING_SKU(w.id),state:{scrollRestoration:!1}},children:J.Z.Messages.LEARN_MORE})})]});case R.kVF.SURVEY:var L=a.metadata;if(null==L)return null;var D=L.key,U=L.prompt,k=L.cta,G=L.url;return(0,r.jsxs)(qR.ZP,{color:qR.DM.CUSTOM,children:[(0,r.jsx)(qR.Ry,{noticeType:R.kVF.SURVEY,onClick:function(){(0,T$.hZ)(D,!0)}}),U,(0,r.jsx)(qR.No,{noticeType:R.kVF.SURVEY,onClick:function(){window.open(G,"_blank");(0,T$.hZ)(D,!1)},children:k})]});case R.kVF.CORRUPT_INSTALLATION:return(0,r.jsxs)(qR.ZP,{color:qR.DM.DANGER,children:[J.Z.Messages.NOTICE_CORRUPT_INSTALLATION,(0,
r.jsx)(qR.u3,{href:$.Z.getArticleURL(R.BhN.CORRUPT_INSTALLATION),target:"_blank",children:J.Z.Messages.NOTICE_CORRUPT_INSTALLATION_HELP_LINK_TEXT})]});case R.kVF.VIDEO_UNSUPPORTED_BROWSER:return(0,r.jsxs)(qR.ZP,{color:qR.DM.WARNING,children:[(0,r.jsx)(qR.Ry,{onClick:function(){return A0()},noticeType:R.kVF.VIDEO_UNSUPPORTED_BROWSER}),J.Z.Messages.VIDEO_UNSUPPORTED_BROWSER_BODY,(0,r.jsx)(qR.No,{noticeType:R.kVF.VIDEO_UNSUPPORTED_BROWSER,onClick:function(){(0,Y.ZD)(v0((function(){var e,t;return T0(this,(function(o){switch(o.label){case 0:return[4,Promise.resolve().then(n.bind(n,884994))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,I0({source:"Video unsupported browser"},e))}]}}))})))},children:J.Z.Messages.DOWNLOAD})]});case R.kVF.DISPATCH_ERROR:if(null==a.metadata)return null;var B=a.metadata.error;return(0,r.jsxs)(qR.ZP,{color:qR.DM.DANGER,children:[(0,r.jsx)(qR.Ry,{onClick:function(){return A0()},noticeType:R.kVF.DISPATCH_ERROR
}),null==B?void 0:B.displayMessage,(0,r.jsx)(qR.No,{noticeType:R.kVF.DISPATCH_ERROR,onClick:function(){return(0,Y.ZD)(v0((function(){var e,t;return T0(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(39068)]).then(n.bind(n,939068))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,I0({},e))}]}}))})))},children:J.Z.Messages.LEARN_MORE})]});case R.kVF.DISPATCH_INSTALL_SCRIPT_PROGRESS:if(null==a.metadata)return null;var H=a.metadata,V=H.progress,z=H.total,W=H.name;return(0,r.jsxs)(qR.ZP,{color:qR.DM.DEFAULT,children:[(0,r.jsx)(qR.Ry,{onClick:function(){return A0()},noticeType:R.kVF.DISPATCH_INSTALL_SCRIPT_PROGRESS}),(0,r.jsxs)(Jp.Z,{justify:Jp.Z.Justify.CENTER,children:[null!=W?J.Z.Messages.NOTICE_DISPATCH_INSTALL_SCRIPT_PROGRESS_WITH_NAME.format({name:"".concat(W),progress:"".concat(V),total:"".concat(z)}):J.Z.Messages.NOTICE_DISPATCH_INSTALL_SCRIPT_PROGRESS.format({progress:"".concat(V),total:"".concat(z)}),(0,r.jsx)(K.$j,{
type:K.$j.Type.PULSING_ELLIPSIS,className:iJ().ellipsis})]})]});case R.kVF.APPLICATION_TEST_MODE:return null==a.metadata?null:null!=$n.Z.testModeEmbeddedApplicationId?(0,r.jsx)(qR.ZP,{color:qR.DM.WARNING,children:(0,r.jsxs)(Jp.Z,{justify:Jp.Z.Justify.CENTER,align:Jp.Z.Align.CENTER,children:[(0,r.jsx)("div",{children:J.Z.Messages.NOTICE_EMBEDDED_APPLICATION_TEST_MODE.format({applicationName:a.metadata.applicationName})}),(0,r.jsx)(qR.Ry,{onClick:d.mc,noticeType:R.kVF.APPLICATION_TEST_MODE})]})}):(0,r.jsx)(qR.ZP,{color:qR.DM.WARNING,children:(0,r.jsxs)(Jp.Z,{justify:Jp.Z.Justify.CENTER,align:Jp.Z.Align.CENTER,children:[(0,r.jsx)("div",{children:J.Z.Messages.NOTICE_APPLICATION_TEST_MODE.format({applicationName:a.metadata.applicationName})}),(0,r.jsx)(p0,{dropdownSize:f0.DropdownSizes.SMALL,className:iJ().testModeSKUSelector,color:f0.Colors.WHITE,look:f0.Looks.OUTLINED,size:f0.Sizes.MIN,onSKUSelect:function(e){return Sl.yt(e.id,{analyticsSource:{page:null,section:R.jXE.NOTIFICATION_BAR,
object:R.qAy.NAVIGATION_LINK}})},applicationId:a.metadata.applicationId,children:J.Z.Messages.NOTICE_APPLICATION_TEST_MODE_GO_TO_LISTING}),(0,r.jsx)(qR.Ry,{onClick:d.mc,noticeType:R.kVF.APPLICATION_TEST_MODE})]})});case R.kVF.OUTBOUND_PROMOTION:return(0,r.jsxs)(qR.ZP,{color:qR.DM.PREMIUM_TIER_2,children:[(0,r.jsx)(qR.Ry,{noticeType:R.kVF.OUTBOUND_PROMOTION,onClick:function(){YJ.ZP.dismissOutboundPromotionNotice()}}),(0,r.jsx)(gL.Z,{className:iJ().premiumIcon}),J.Z.Messages.OUTBOUND_PROMOTION_NOTICE,(0,r.jsx)(qR.No,{noticeType:R.kVF.OUTBOUND_PROMOTION,onClick:function(){Te.default.track(R.rMx.OUTBOUND_PROMOTION_NOTICE_CLICKED);p.Z.open(R.oAB.INVENTORY);YJ.ZP.dismissOutboundPromotionNotice()},children:J.Z.Messages.TAKE_ME_THERE})]});case R.kVF.VIEWING_ROLES:return(0,r.jsx)(wJ.Z,{});case R.kVF.PREMIUM_UNCANCEL:return(0,r.jsxs)(qR.ZP,{color:y===Ji.p9.TIER_1?qR.DM.PREMIUM_TIER_1:y===Ji.p9.TIER_0?qR.DM.PREMIUM_TIER_0:qR.DM.PREMIUM_TIER_2,children:[(0,r.jsx)(qR.Ry,{
noticeType:R.kVF.PREMIUM_UNCANCEL,onClick:function(){var e,t;A0(null===(e=a.metadata)||void 0===e||null===(t=e.premiumSubscription)||void 0===t?void 0:t.currentPeriodEnd)}}),(0,r.jsx)(gL.Z,{className:iJ().premiumIcon}),y===Ji.p9.TIER_1?J.Z.Messages.PREMIUM_SUBSCRIPTION_ENDING_TIER_1_NOTICE_TEXT.format({daysLeft:a.metadata.daysLeft}):y===Ji.p9.TIER_0?J.Z.Messages.PREMIUM_SUBSCRIPTION_ENDING_TIER_0_NOTICE_TEXT.format({daysLeft:a.metadata.daysLeft}):J.Z.Messages.PREMIUM_SUBSCRIPTION_ENDING_NOTICE_TEXT.format({daysLeft:a.metadata.daysLeft}),(0,r.jsx)(qR.No,{noticeType:R.kVF.PREMIUM_UNCANCEL,onClick:function(){var e,t;A0(null===(e=a.metadata)||void 0===e||null===(t=e.premiumSubscription)||void 0===t?void 0:t.currentPeriodEnd);(0,Y.ZD)(v0((function(){var e,t;return T0(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(29005),n.e(11345)]).then(n.bind(n,628980))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,S0(I0({},e),{
daysLeft:a.metadata.daysLeft,premiumType:y,analyticsSource:"Nag Bar",premiumSubscription:a.metadata.premiumSubscription}))}]}}))})))},children:y===Ji.p9.TIER_1?J.Z.Messages.PREMIUM_SUBSCRIPTION_ENDING_TIER_1_NOTICE_BUTTON_TEXT:y===Ji.p9.TIER_0?J.Z.Messages.PREMIUM_SUBSCRIPTION_ENDING_TIER_0_NOTICE_BUTTON_TEXT:J.Z.Messages.PREMIUM_SUBSCRIPTION_ENDING_NOTICE_BUTTON_TEXT})]});case R.kVF.PREMIUM_PAST_DUE_ONE_TIME_PAYMENT:var q=a.metadata,X=q.daysPastDue,Q=q.dismissUntil;return(0,r.jsxs)(qR.ZP,{color:qR.DM.WARNING,children:[(0,r.jsx)(qR.Ry,{noticeType:u,onClick:function(){A0(Q)}}),J.Z.Messages.PREMIUM_SUBSCRIPTION_ONE_TIME_PAYMENT_PAST_DUE_SUBSCRIPTION_TEXT_NO_ACTION.format({daysPastDue:X}),(0,r.jsx)(qR.No,{noticeType:R.kVF.PREMIUM_PAST_DUE_ONE_TIME_PAYMENT,onClick:function(){A0(Q);p.Z.open(R.oAB.SUBSCRIPTIONS)},children:J.Z.Messages.PREMIUM_SUBSCRIPTION_PAST_DUE_RENEW_NOW_BUTTON_TEXT})]});case R.kVF.PREMIUM_PAST_DUE_INVALID_PAYMENT:return(0,r.jsxs)(qR.ZP,{color:qR.DM.DANGER,children:[(0,
r.jsx)(qR.Ry,{noticeType:R.kVF.PREMIUM_PAST_DUE_INVALID_PAYMENT,onClick:function(){var e,t;A0(null===(e=a.metadata)||void 0===e||null===(t=e.premiumSubscription)||void 0===t?void 0:t.currentPeriodEnd)}}),J.Z.Messages.PREMIUM_SUBSCRIPTION_PAST_DUE_INVALID_PAYMENT_NOTICE_TEXT,(0,r.jsx)(qR.No,{noticeType:R.kVF.PREMIUM_PAST_DUE_INVALID_PAYMENT,onClick:function(){var e,t;A0(null===(e=a.metadata)||void 0===e||null===(t=e.premiumSubscription)||void 0===t?void 0:t.currentPeriodEnd);p.Z.open(R.oAB.SUBSCRIPTIONS)},children:J.Z.Messages.PREMIUM_SUBSCRIPTION_PAST_DUE_INVALID_PAYMENT_NOTICE_BUTTON_TEXT})]});case R.kVF.PREMIUM_PAST_DUE_MISSING_PAYMENT:return(0,r.jsxs)(qR.ZP,{color:qR.DM.WARNING,children:[(0,r.jsx)(qR.Ry,{noticeType:R.kVF.PREMIUM_PAST_DUE_MISSING_PAYMENT,onClick:function(){var e,t;A0(null===(e=a.metadata)||void 0===e||null===(t=e.premiumSubscription)||void 0===t?void 0:t.currentPeriodEnd)}}),J.Z.Messages.PREMIUM_SUBSCRIPTION_PAST_DUE_MISSING_PAYMENT_NOTICE_TEXT,(0,r.jsx)(qR.No,{
noticeType:R.kVF.PREMIUM_PAST_DUE_MISSING_PAYMENT,onClick:function(){var e,t;A0(null===(e=a.metadata)||void 0===e||null===(t=e.premiumSubscription)||void 0===t?void 0:t.currentPeriodEnd);p.Z.open(R.oAB.SUBSCRIPTIONS)},children:J.Z.Messages.PREMIUM_SUBSCRIPTION_PAST_DUE_MISSING_PAYMENT_NOTICE_BUTTON_TEXT})]});case R.kVF.PREMIUM_MISSING_PAYMENT:return(0,r.jsxs)(qR.ZP,{color:qR.DM.WARNING,children:[(0,r.jsx)(qR.Ry,{noticeType:R.kVF.PREMIUM_MISSING_PAYMENT,onClick:function(){var e,t;A0(null===(e=a.metadata)||void 0===e||null===(t=e.premiumSubscription)||void 0===t?void 0:t.currentPeriodEnd)}}),y===Ji.p9.TIER_1?J.Z.Messages.PREMIUM_SUBSCRIPTION_ENDING_MISSING_PAYMENT_TIER_1_NOTICE_TEXT.format({daysLeft:a.metadata.daysLeft}):y===Ji.p9.TIER_0?J.Z.Messages.PREMIUM_SUBSCRIPTION_ENDING_MISSING_PAYMENT_TIER_0_NOTICE_TEXT.format({daysLeft:a.metadata.daysLeft}):J.Z.Messages.PREMIUM_SUBSCRIPTION_ENDING_MISSING_PAYMENT_NOTICE_TEXT.format({daysLeft:a.metadata.daysLeft}),(0,r.jsx)(qR.No,{
noticeType:R.kVF.PREMIUM_MISSING_PAYMENT,onClick:function(){var e,t;A0(null===(e=a.metadata)||void 0===e||null===(t=e.premiumSubscription)||void 0===t?void 0:t.currentPeriodEnd);p.Z.open(R.oAB.SUBSCRIPTIONS)},children:y===Ji.p9.TIER_1?J.Z.Messages.PREMIUM_SUBSCRIPTION_ENDING_MISSING_PAYMENT_TIER_1_NOTICE_BUTTON_TEXT:y===Ji.p9.TIER_0?J.Z.Messages.PREMIUM_SUBSCRIPTION_ENDING_MISSING_PAYMENT_TIER_0_NOTICE_BUTTON_TEXT:J.Z.Messages.PREMIUM_SUBSCRIPTION_ENDING_MISSING_PAYMENT_NOTICE_BUTTON_TEXT})]});case R.kVF.BACK_TO_PREVIOUS_SCREEN:var ee;return(0,r.jsx)($R,{buttonText:null!==(ee=a.buttonText)&&void 0!==ee?ee:J.Z.Messages.GO_BACK,onGoBack:a.callback,onDismiss:function(){return A0()},showCloseButton:!0});case R.kVF.QUARANTINED:return(0,r.jsxs)(qR.ZP,{color:qR.DM.CUSTOM,className:iJ().quarantineNotice,children:[J.Z.Messages.LIMITED_ACCESS_NAG_BAR_NOTICE,(0,r.jsx)(qR.u3,{href:g0.Z,target:"_blank",children:J.Z.Messages.LIMITED_ACCESS_NAG_BAR_APPEAL}),(0,r.jsx)(K.ee,{
href:$.Z.getArticleURL(R.BhN.QUARANTINE),target:"_blank",className:iJ().quarantineLearnMoreLink,children:J.Z.Messages.LEARN_MORE})]});case R.kVF.DROPS_PROGRESS_INTERRUPTION:return(0,r.jsxs)(qR.ZP,{color:qR.DM.DANGER,children:[J.Z.Messages.DROPS_PROGRESS_INTERRUPTION_WARNING.format({gameTitle:a.metadata.gameTitle}),(0,r.jsx)(qR.Ey,{onClick:a.metadata.reloadCallback,children:J.Z.Messages.ERRORS_RESTART_APP})]});case R.kVF.AUTO_MODERATION_MENTION_RAID_DETECTION:var te=a.metadata,ne=te.dismissUntil,re=te.decisionId;return(0,r.jsxs)(qR.ZP,{color:qR.DM.WARNING,children:[(0,r.jsx)(qR.Ry,{noticeType:R.kVF.AUTO_MODERATION_MENTION_RAID_DETECTION,onClick:function(){null!=i&&(0,gJ.T9)(i);A0(ne)}}),J.Z.Messages.GUILD_AUTOMOD_MENTION_SPAM_NOTICE_MESSAGE,(0,r.jsx)(qR.Ey,{onClick:function(){null!=i&&(0,gJ.UE)(i,re,(function(){A0(ne);(0,gJ.T9)(i)}))},children:J.Z.Messages.GUILD_AUTOMOD_MENTION_SPAM_NOTICE_REMOVE_RESTRICTION}),null!=i?(0,r.jsx)(qR.Ey,{onClick:function(){
return Er.Z.open(i,R.pNK.GUILD_AUTOMOD,void 0,R.KsC.AUTOMOD_MENTION_SPAM)},children:J.Z.Messages.GUILD_AUTOMOD_MENTION_SPAM_NOTICE_CONFIGURE_SETTINGS}):null]});default:return null}}));function j0(){var e=(0,lw.Z)(Of.Z.NOTICE).AnalyticsLocationProvider;return(0,r.jsx)(e,{children:(0,r.jsx)(P0,{})})}var x0=n(948861);var R0=n(503035),M0=n(381181),w0=n(802513),Z0=n(670497),L0=n(929062),D0=n(621593),U0=n(974949),k0=n(615570),G0=n(770040),B0=n(717398),H0=n(428907),V0=n(647334),F0=n(177790),Y0=n.n(F0);function z0(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function W0(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function K0(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){W0(e,t,n[t])}))}return e}function q0(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function X0(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function Q0(e,t){return function(e){
if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return z0(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z0(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var $0=function(e){var t=e.selected,n=X0(e,["selected"]),o=(0,ib.JA)("friends"),i=(0,s.e7)([us.Z],(function(){return us.Z.getPendingCount()}));return(0,
r.jsx)(B0.Qj,q0(K0({selected:t,route:R.Z5c.FRIENDS,icon:vK.Z,text:J.Z.Messages.FRIENDS},n,o),{children:i>0?(0,r.jsx)(HP.mA,{count:i}):null}))},J0=function(e){var t=e.selected,n=e.hideGameUpdateProgressIndicator,o=X0(e,["selected","hideGameUpdateProgressIndicator"]),i=(0,ib.JA)("library");return(0,r.jsx)(B0.Qj,q0(K0({selected:t,route:R.Z5c.APPLICATION_LIBRARY,icon:k0.Z,text:J.Z.Messages.LIBRARY},o,i),{children:(0,r.jsx)(V0.Z,{className:$p()(Y0().downloadProgressCircle,W0({},Y0().hideGameUpdateProgressIndicator,n))})}))},e1=function(e){var t,n,o=e.selected,i=e.route,a=e.locationState,l=X0(e,["selected","route","locationState"]),c=(0,s.e7)([F.default],(function(){return F.default.getCurrentUser()})),u=(0,s.e7)([Wi.Z],(function(){return Wi.Z.getPremiumTypeSubscription()})),f=(0,va.n3)(),d=(0,ib.JA)("nitro"),p=(0,lJ.N)(),h=(0,s.e7)([GR.Z],(function(){return GR.Z.isLocalizedPromoEnabled}))&&null==p,E=(0,R0.ij)().shouldShowUpsells,y=Oa.L.useExperiment({}).enableTier0?2592e6:7776e6
;if(!(o||null!=p||null!=c&&Date.now()-c.createdAt.getTime()>y||(0,qi.Qo)(c,u)||f))return null;if(E)n=(0,r.jsx)(M0.Z,{isSelected:o});else if(f){n=(0,r.jsx)(LT.Z,{contentTypes:[fn.z$.PREMIUM_TIER_0_DESKTOP_MARKETING_PAGE_BADGE],children:function(e){if(e.visibleContent===fn.z$.PREMIUM_TIER_0_DESKTOP_MARKETING_PAGE_BADGE)return(0,r.jsx)("div",{className:Y0().premiumTier0Badge,children:(0,r.jsx)(Z0.Z,{})})}});t=Y0().premiumTier0BadgeLinkButton}else if(null!=p)n=(0,r.jsx)(L0.Z,{trialOffer:p,isTabSelected:o});else if(h){n=(0,r.jsx)(w0.k,{entryPoint:w0.U.PrivateMessages});o||(t=Y0().localizedPricingBadge)}return(0,r.jsx)(B0.Qj,q0(K0({selected:o,route:i,icon:gL.Z,text:J.Z.Messages.PREMIUM,locationState:a},l,d),{className:t,children:n}))},t1=function(e){var t=e.selected,n=(0,pH.q)(),o=(0,ib.JA)("messageRequests"),i=(0,PH._)().channelId;if(!(0,s.e7)([fH.Z,dH.Z],(function(){return(0,XX.IO)([fH.Z,dH.Z])})))return null;var a=null==i?void 0:function(){return lW.Z.preload(R.ME,i)};return(0,
r.jsx)(B0.Qj,q0(K0({selected:t,route:R.Z5c.MESSAGE_REQUESTS,icon:TH.Z,text:J.Z.Messages.MESSAGE_REQUESTS,onClick:a},o),{children:n>0?(0,r.jsx)(HP.mA,{count:n}):null}))},n1=function(){return(0,iG.$Z)("DM_SEARCH")};function r1(e){switch(e){case R.Z5c.APPLICATION_LIBRARY:return R.ZY5.LIBRARY;case R.Z5c.FRIENDS:return R.ZY5.FRIENDS_LIST}return e.startsWith(R.Z5c.APPLICATION_STORE)?e===R.Z5c.APPLICATION_STORE?R.ZY5.STORE_DIRECTORY_HOME:e.startsWith(R.Z5c.APPLICATION_STORE)?R.ZY5.STORE_DIRECTORY_BROWSE:R.ZY5.STORE_LISTING:R.ZY5.DM_CHANNEL}var o1=function(e){var t=e.showLibrary,n=e.hasLibraryApplication,o=e.homeLink,i=e.storeLink,a=e.premiumTabSelected,s=Q0((0,kQ.Z)((function(e){return[e.channelId,e.path]}),x0.Z),2),l=s[0],c=s[1];return(0,r.jsxs)("nav",{className:Y0().privateChannels,"aria-label":J.Z.Messages.PRIVATE_CHANNELS_A11Y_LABEL,children:[(0,r.jsx)(dL.Z,{tutorialId:"direct-messages",position:yL.q_.RIGHT,offsetX:-52,children:(0,r.jsx)("div",{className:Y0().searchBar,children:(0,
r.jsx)("button",{type:"button",className:Y0().searchBarComponent,onClick:n1,children:J.Z.Messages.DM_SEARCH_PLACEHOLDER})})}),(0,r.jsxs)(H0.Z,q0(K0({},e),{version:c,selectedChannelId:l,showDMHeader:!0,children:[(0,r.jsx)($0,{selected:null!=c?c===R.Z5c.FRIENDS:o===R.Z5c.FRIENDS},"friends"),n&&t?(0,r.jsx)(J0,{selected:null==c?null!=o&&o.startsWith(R.Z5c.APPLICATION_LIBRARY):c.startsWith(R.Z5c.APPLICATION_LIBRARY),hideGameUpdateProgressIndicator:o===R.Z5c.APPLICATION_LIBRARY},"library"):null,(0,r.jsx)(e1,{selected:null==c?a:c.startsWith(R.Z5c.APPLICATION_STORE),route:null==i||location.pathname.startsWith(R.Z5c.APPLICATION_STORE)?R.Z5c.APPLICATION_STORE:i,locationState:{analyticsSource:{page:r1(o),section:R.jXE.NAVIGATION,object:R.qAy.NAVIGATION_LINK}}},"premium"),(0,r.jsx)(t1,{selected:null==c?null!=o&&o.startsWith(R.Z5c.MESSAGE_REQUESTS):c===R.Z5c.MESSAGE_REQUESTS},"message-requests")]}))]})};function i1(){var e=(0,s.e7)([U0.Z],(function(){return U0.Z.getHomeLink()})),t=(0,
s.e7)([e0.Z],(function(){if(e===R.Z5c.APPLICATION_STORE)return!0;var t=(0,G0.ZK)(e);if(null!=t){var n,r;return null!==(r=null===(n=e0.Z.get(t))||void 0===n?void 0:n.premium)&&void 0!==r&&r}return!1}),[e]),n=!ut.bm.useSetting(),o=(0,s.cj)([ct.Z],(function(){return{theme:ct.Z.theme}})).theme,i=(0,s.e7)([kn.Z],(function(){return kn.Z.hasLibraryApplication()})),a=(0,s.e7)([D0.Z],(function(){return D0.Z.getCurrentPath()}));return(0,r.jsx)(o1,{theme:o,showLibrary:n,hasLibraryApplication:i,storeLink:a,homeLink:e,premiumTabSelected:t})}var a1=n(266142),s1=n(977445),l1=n(99456);function c1(e){g.Z.dispatch({type:"LIBRARY_APPLICATION_FILTER_UPDATE",query:e})}function u1(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];g.Z.dispatch({type:"LIBRARY_TABLE_ACTIVE_ROW_ID_UPDATE",key:e,isKeyboardEvent:t})}var f1=n(218786),d1=n(977449),p1=n(876941),h1=n(517628),E1=n.n(h1);function y1(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
;return e}function m1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b1(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function g1(e){g1=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return g1(e)}function O1(e,t){return!t||"object"!==_1(t)&&"function"!=typeof t?y1(e):t}function v1(e,t){v1=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return v1(e,t)}var _1=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function I1(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=g1(e);if(t){var o=g1(this).constructor
;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O1(this,n)}}var S1=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&v1(e,t)}(n,e);var t=I1(n);function n(){m1(this,n);var e;(e=t.apply(this,arguments)).searchBarRef=null;e.state={focused:!1};e.setRef=function(t){e.searchBarRef=t};e.handleKeyDown=function(t){var n,r=e.props,o=r.activeRowKey,i=r.hasModalOpen,a=r.applicationViewItems,s=y1(e).searchBarRef;if(!(i||t.ctrlKey||t.altKey||t.metaKey||null==s)){var l=null===(n=(0,p1.uB)(t))||void 0===n?void 0:n.activeElement;if(l===s.inputRef.current||!(0,p1.VG)(l))switch(t.which){case R.yXg.ESCAPE:t.target!==s.inputRef.current?e.reset():null!=s.inputRef.current&&s.blur();break;case R.yXg.ENTER:if(null!=o){t.preventDefault();var c=a.find((function(e){return e.key===o}));if(null==c)return
;var u=c.libraryApplication;zy.performDefaultLibraryApplicationAction(u,{analyticsParams:{source:R.Sbl.APPLICATION_LIBRARY,location:{page:R.ZY5.LIBRARY,section:R.jXE.LIBRARY_APPLICATION_LIST,object:R.qAy.BUTTON_CTA}}})}break;case R.yXg.ARROW_DOWN:case R.yXg.ARROW_UP:t.preventDefault();t.stopPropagation();e.updateActiveRow(t.which===R.yXg.ARROW_DOWN?1:-1);break;default:null!=s.inputRef.current&&t.target!==s.inputRef.current&&s.focus()}}};return e}var o=n.prototype;o.componentDidMount=function(){document.addEventListener("keydown",this.handleKeyDown)};o.componentWillUnmount=function(){g.Z.wait((function(){return u1(null)}));document.removeEventListener("keydown",this.handleKeyDown)};o.reset=function(){u1(null);c1("")};o.focusInput=function(){var e=this.searchBarRef;null!=e&&e.focus()};o.updateActiveRow=function(e){var t=this.props,n=t.applicationViewItems,r=t.activeRowKey,o=n.findIndex((function(e){return e.key===r})),i=0;o>=0&&(i=(o+e)%n.length)<0&&(i=n.length-1);var a=n[i]
;u1(null!=a?a.key:null,!0)};o.render=function(){var e,t=this,n=this.props.filterQuery,o=this.state.focused;return(0,r.jsx)("div",{className:$p()((e={},b1(e,E1().libraryFilter,!0),b1(e,E1().focused,o),e)),children:(0,r.jsx)(LP.Z,{className:E1().searchBar,ref:this.setRef,onChange:c1,onFocus:function(){return t.setState({focused:!0})},onBlur:function(){return t.setState({focused:!1})},name:"filter",onClear:function(){t.reset();t.focusInput()},maxLength:100,query:n,placeholder:J.Z.Messages.APPLICATION_LIBRARY_FILTER_PLACEHOLDER})})};return n}(o.Component);function T1(){var e=(0,s.e7)([S.Z],(function(){return S.Z.hasLayers()})),t=(0,Y.s9)(Y.JQ);return(0,r.jsx)(S1,{activeRowKey:(0,s.e7)([d1.Z],(function(){return d1.Z.activeRowKey})),hasModalOpen:t||e,filterQuery:(0,s.e7)([f1.Z],(function(){return f1.Z.applicationFilterQuery})),applicationViewItems:(0,s.e7)([f1.Z],(function(){return f1.Z.sortedFilteredLibraryApplicationViewItems}))})}var N1=n(541302),C1=n.n(N1);function A1(e,t,n){
t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function P1(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){A1(e,t,n[t])}))}return e}function j1(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var x1=(0,nr.Q)()||!1;function R1(e){
var t=e.currentRoute,n=e.renderToolbar,i=o.useContext(Te.AnalyticsContext),a=x1||t===R.Z5c.APPLICATION_LIBRARY_SETTINGS;return(0,r.jsxs)(kg.Z,{className:C1().libraryHeader,toolbar:null==n?void 0:n(),children:[(0,r.jsx)(kg.Z.Icon,{icon:k0.Z,"aria-hidden":!0}),(0,r.jsx)(kg.Z.Title,{children:J.Z.Messages.LIBRARY}),(0,r.jsx)(kg.Z.Divider,{}),(0,r.jsxs)(yA.ZP,{type:yA.ZP.Types.TOP_PILL,selectedItem:t,onItemSelect:function(e){e!==t&&(0,q.uL)(e,{state:{analyticsSource:j1(P1({},i.location),{section:R.jXE.TABS,object:R.qAy.NAVIGATION_LINK})}})},children:[(0,r.jsx)(yA.ZP.Item,{id:R.Z5c.APPLICATION_LIBRARY,children:J.Z.Messages.APPLICATION_LIBRARY_MY_GAMES}),a?(0,r.jsx)(yA.ZP.Item,{id:R.Z5c.APPLICATION_LIBRARY_SETTINGS,children:J.Z.Messages.SETTINGS}):null]})]})}const M1=o.memo(R1);var w1=n(258870),Z1=n(98467),L1=n(959141),D1=n(413620),U1=n(57203),k1=n(912551),G1=n(604943),B1=n(12403);const H1=function(e){var t=e.id,n=e.startColor,o=e.stopColor,i=e.color,a=e.stop;return(0,
r.jsxs)("linearGradient",{id:t,children:[(0,r.jsx)("stop",{offset:"0",stopColor:n}),(0,r.jsx)("stop",{offset:a,stopColor:o}),(0,r.jsx)("stop",{offset:a,stopColor:i}),(0,r.jsx)("stop",{offset:"1",stopColor:i})]})};function V1(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function F1(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){V1(e,t,n[t])}))}return e}function Y1(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})))
;n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function z1(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function W1(e){return"CloudDone-".concat(e)}function K1(e){var t=e.width,n=void 0===t?24:t,o=e.height,i=void 0===o?24:o,a=e.color,s=void 0===a?"currentColor":a,l=e.foreground,c=e.gradientConfig,u=z1(e,["width","height","color","foreground","gradientConfig"]),f=null;null!=c&&(f=(0,r.jsx)(H1,Y1(F1({},c),{color:s,id:W1(c.id)})));return(0,r.jsxs)("svg",Y1(F1({},(0,Xb.Z)(u)),{width:n,height:i,viewBox:"0 0 24 24",children:[(0,r.jsx)("defs",{children:f}),(0,r.jsx)("path",{
d:"M0 0h24v24H0z",fill:"none"}),(0,r.jsx)("path",{fill:null!=c?"url(#".concat(W1(c.id),")"):s,className:l,d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM10 17l-3.5-3.5 1.41-1.41L10 14.17 15.18 9l1.41 1.41L10 17z"})]}))}function q1(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function X1(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){q1(e,t,n[t])}))}return e}function Q1(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){
var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function $1(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function J1(e){return"CloudDownload-".concat(e)}function e2(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function t2(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){e2(e,t,n[t])}))}return e}function n2(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function r2(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r]
;t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function o2(e){return"CloudUpload-".concat(e)}function i2(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a2(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function s2(e){s2=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return s2(e)}function l2(e,t){return!t||"object"!==u2(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c2(e,t){c2=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c2(e,t)}var u2=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function f2(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1
;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=s2(e);if(t){var o=s2(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l2(this,n)}}var d2,p2=new Set([R.TzF.PUSHING,R.TzF.PULLING]),h2=Object.freeze((a2(d2={},R.TzF.DONE,B1.Z),a2(d2,R.TzF.PLANNING,B1.Z),a2(d2,R.TzF.PREPARING,B1.Z),a2(d2,R.TzF.PUSHING,(function(e){var t=e.width,n=void 0===t?24:t,o=e.height,i=void 0===o?24:o,a=e.color,s=void 0===a?"currentColor":a,l=e.foreground,c=e.gradientConfig,u=r2(e,["width","height","color","foreground","gradientConfig"]),f=null;null!=c&&(f=(0,r.jsx)(H1,n2(t2({},c),{color:s,id:o2(c.id)})));return(0,r.jsxs)("svg",n2(t2({},(0,Xb.Z)(u)),{width:n,height:i,viewBox:"0 0 24 24",children:[(0,r.jsx)("defs",{children:f}),(0,r.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),(0,r.jsx)("path",{fill:null!=c?"url(#".concat(o2(c.id),")"):s,className:l,
d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"})]}))})),a2(d2,R.TzF.PULLING,(function(e){var t=e.width,n=void 0===t?24:t,o=e.height,i=void 0===o?24:o,a=e.color,s=void 0===a?"currentColor":a,l=e.foreground,c=e.gradientConfig,u=$1(e,["width","height","color","foreground","gradientConfig"]),f=null;null!=c&&(f=(0,r.jsx)(H1,Q1(X1({},c),{color:s,id:J1(c.id)})));return(0,r.jsxs)("svg",Q1(X1({},(0,Xb.Z)(u)),{width:n,height:i,viewBox:"0 0 24 24",children:[(0,r.jsx)("defs",{children:f}),(0,r.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),(0,r.jsx)("path",{fill:null!=c?"url(#".concat(J1(c.id),")"):s,className:l,d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM17 13l-5 5-5-5h3V9h4v4h3z"})]}))})),a2(d2,R.TzF.CONFLICT,B1.Z),a2(d2,R.TzF.ERROR,B1.Z),
d2)),E2=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&c2(e,t)}(n,e);var t=f2(n);function n(){i2(this,n);var e;(e=t.apply(this,arguments))._doneTimer=new ju.V7;return e}var o=n.prototype;o.componentDidMount=function(){this.getIsRecentlySynced()&&this.setRecentlySyncedTimeout()};o.componentDidUpdate=function(e){null!=this.props.cloudSyncState&&(this.props.cloudSyncState.type!==R.TzF.DONE||null==this.props.cloudSyncState.timestamp||null!=e.cloudSyncState&&null!=e.cloudSyncState.timestamp||this.setRecentlySyncedTimeout())};o.componentWillUnmount=function(){this._doneTimer.stop()};o.setRecentlySyncedTimeout=function(){var e=this;this._doneTimer.start(2e3,(function(){return e.forceUpdate()}))};o.getIsRecentlySynced=function(){var e=this.props.cloudSyncState;if(null!=e&&e.type===R.TzF.DONE){var t=e.timestamp
;return null!=t&&Date.now()-t<=2e3}return!1};o.getStop=function(e,t){if(t)return 1;if(e.type===R.TzF.PUSHING||e.type===R.TzF.PULLING){return e.progress/e.total}return 0};o.getTooltip=function(e,t){switch(e.type){case R.TzF.DONE:return t?J.Z.Messages.CLOUD_SYNC_ICON_TOOLTIP_DONE:J.Z.Messages.CLOUD_SYNC_ICON_TOOLTIP_SUPPORTED;case R.TzF.CONFLICT:case R.TzF.ERROR:return J.Z.Messages.CLOUD_SYNC_ICON_TOOLTIP_SUPPORTED;case R.TzF.PLANNING:return J.Z.Messages.CLOUD_SYNC_ICON_TOOLTIP_PLANNING;case R.TzF.PREPARING:return J.Z.Messages.CLOUD_SYNC_ICON_TOOLTIP_PREPARING;case R.TzF.PUSHING:return J.Z.Messages.CLOUD_SYNC_ICON_TOOLTIP_PUSHING;case R.TzF.PULLING:return J.Z.Messages.CLOUD_SYNC_ICON_TOOLTIP_PULLING;default:return null}};o.render=function(){var e=this.props,t=e.cloudSyncState,n=e.libraryApplication,o=e.className,i=null==t?{type:R.TzF.DONE}:t,a=this.getIsRecentlySynced(),s={};(p2.has(i.type)||a)&&(s.gradientConfig={id:n.id,startColor:"rgba(199, 208, 240, 1)",
stopColor:"rgba(114, 137, 218, 1)",stop:this.getStop(i,a)});var l=a?K1:h2[i.type];return(0,r.jsx)(qb.ZP,{text:this.getTooltip(i,a),children:function(e){return(0,r.jsx)(l,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){a2(e,t,n[t])}))}return e}({className:o},s,e))}})};return n}(o.PureComponent);const y2=s.ZP.connectStores([G1.Z],(function(e){var t=e.libraryApplication;return{cloudSyncState:G1.Z.getState(t.id,t.branchId)}}))(E2);var m2=n(312935),b2=n.n(m2);function g2(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function O2(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){g2(i,r,o,a,s,"next",e)}function s(e){
g2(i,r,o,a,s,"throw",e)}a(void 0)}))}}function v2(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _2(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function I2(e){I2=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return I2(e)}function S2(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){_2(e,t,n[t])}))}return e}function T2(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function N2(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function C2(e,t){return!t||"object"!==P2(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function A2(e,t){A2=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return A2(e,t)}var P2=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function j2(e){var t=function(){
if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=I2(e);if(t){var o=I2(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return C2(this,n)}}var x2,R2=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1]
;i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},M2=(0,k1.Mg)(b2().rowMinHeight),w2=(0,k1.Mg)(b2().linkedToGlowDuration),Z2=Object.freeze((_2(x2={},R.iEv.PLATFORM,"Platform"),_2(x2,R.iEv.LAST_PLAYED,"Last Played"),_2(x2,R.iEv.NAME,"Name"),x2));var L2=function(e){var t=e.flag,n=e.icon,o=e.item,i=e.tooltip,a=o.libraryApplication.hasFlag(t);return(0,r.jsx)(qb.ZP,{text:i,children:function(e){return(0,r.jsx)(n,S2({className:$p()(b2().settingIcon,_2({},b2().hidden,!a))},e))}})},D2=[{key:R.iEv.NAME,renderHeader:function(){return J.Z.Messages.GAME_LIBRARY_LIST_HEADER_NAME},sort:!0,
cellClassName:b2().nameCell,bodyCellClassName:b2().nameBodyCell,render:function(e){return(0,r.jsxs)(Jp.Z,{align:Jp.Z.Align.CENTER,children:[(0,r.jsx)(BY.Z,{game:e.application,size:BY.Z.Sizes.SMALL,className:b2().gameIcon}),(0,r.jsxs)("div",{className:b2().nameCellInfo,children:[(0,r.jsx)("div",{className:b2().nameCellText,children:e.libraryApplication.getBranchedName(e.application)}),e.libraryApplication.hasFlag(R.eHb.PREMIUM)?(0,r.jsx)(qb.ZP,{text:J.Z.Messages.PREMIUM_GAME,children:function(e){return(0,r.jsx)(gL.Z,S2({className:b2().nitroIcon},e))}}):null]})]})}},{key:R.iEv.PLATFORM,renderHeader:function(){return J.Z.Messages.GAME_LIBRARY_LIST_HEADER_PLATFORM},sort:!0,cellClassName:b2().platformCell,bodyCellClassName:b2().textCell,render:function(e){var t=e.libraryApplication.getDistributor();return(0,r.jsx)(Jp.Z,{align:Jp.Z.Align.CENTER,children:null!=t?R.EOG[t]:J.Z.Messages.GAME_LIBRARY_NOT_APPLICABLE})}},{key:R.iEv.LAST_PLAYED,renderHeader:function(){
return J.Z.Messages.GAME_LIBRARY_LIST_HEADER_LAST_PLAYED},sort:!0,cellClassName:b2().lastPlayedCell,bodyCellClassName:b2().textCell,render:function(e){var t;t=e.isRunning?J.Z.Messages.GAME_LIBRARY_LAST_PLAYED_PLAYING_NOW:e.isNew?J.Z.Messages.GAME_LIBRARY_NEW:0!==e.lastPlayed?(0,r.jsx)(HY.ZP,{end:e.lastPlayed,location:HY.ZP.Locations.GAME_LIBRARY_LAST_PLAYED}):J.Z.Messages.GAME_LIBRARY_LAST_PLAYED_NONE;return(0,r.jsx)(Jp.Z,{align:Jp.Z.Align.CENTER,className:$p()(_2({},b2().lastPlayedCellNew,e.isNew)),children:t})}},{key:R.iEv.ACTIONS,renderHeader:function(){return null},cellClassName:b2().actionsCell,render:function(e,t,n){if(null==t)throw new Error("No cell props defined.");var i,a,s=e.key===t.activeRowKey;return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsxs)("div",{className:b2().settingIcons,children:[(0,r.jsx)(L2,{flag:R.eHb.PRIVATE,item:e,icon:sS.Z,tooltip:J.Z.Messages.GAME_LIBRARY_PRIVATE_TOOLTIP}),(0,r.jsx)(L2,{flag:R.eHb.OVERLAY_DISABLED,item:e,icon:D1.Z,
tooltip:J.Z.Messages.GAME_LIBRARY_OVERLAY_DISABLED_TOOLTIP}),(0,r.jsx)(y2,{className:$p()(b2().settingIcon,_2({},b2().hidden,!e.supportsCloudSync)),libraryApplication:e.libraryApplication})]}),(0,U1.Je)(e.libraryApplication)?(0,r.jsx)(Z1.Z,{analyticsListSort:(i=t.sortKey,a=t.sortDirection,"".concat(Z2[i]," ").concat(a===R.sHY.ASCENDING?"ASC":"DESC")),analyticsListIndex:n,source:R.Sbl.APPLICATION_LIBRARY,libraryApplication:e.libraryApplication,color:s?K.zx.Colors.GREEN:K.zx.Colors.PRIMARY,isPlayShiny:s&&e.defaultAction===R.apO.PLAY,size:b2().actionButtonSize,hideProgress:null!=e.defaultAction,onDropdownOpen:function(){return null!=t&&t.setActiveRowKey(e)},onDropdownClose:function(){return null!=t&&t.clearActiveRowKey()}}):(0,r.jsx)(w1.Z,{skuId:e.libraryApplication.sku.id,applicationId:e.application.id,color:s?K.zx.Colors.GREEN:K.zx.Colors.PRIMARY,customDisabledColor:K.zx.Colors.PRIMARY,size:b2().actionButtonSize})]})}}],U2=function(e){
var t,n=e.item,o=e.activeRowKey,i=e.highlightedApplicationKey,a=e.onMouseEnter,s=e.onMouseLeave,l=e.onContextMenu,c=e.setRef,u=N2(e,["item","activeRowKey","highlightedApplicationKey","onMouseEnter","onMouseLeave","onContextMenu","setRef"]),f=n.key===o,d=n.key===i;return(0,r.jsx)("div",{className:$p()((t={},_2(t,b2().rowWrapperActive,f&&!d),_2(t,b2().rowWrapperGlow,d),_2(t,b2().rowWrapper,!f&&!d),_2(t,b2().rowWrapperDim,!f&&!n.isLaunchable),t)),ref:function(e){return c(e,n.key)},onMouseEnter:function(){return a(n)},onMouseLeave:s,onContextMenu:function(e){return l(e,n)},children:(0,r.jsx)("div",S2({},u))})},k2=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&A2(e,t)}(i,e);var t=j2(i);function i(){v2(this,i);var e;(e=t.apply(this,arguments))._didUnmount=!1;e._rowRefs={};e.state={overflowMenuRowKey:null,
highlightedApplicationKey:null!=e.props.location.state?e.props.location.state.applicationId:null};e.setActiveRowKey=function(t){e.setState({overflowMenuRowKey:t.key})};e.clearActiveRowKey=function(){e._didUnmount||e.setState({overflowMenuRowKey:null})};e.handleRowMouseEnter=function(t){e.props.isNavigatingByKeyboard||u1(t.key)};e.handleRowMouseLeave=function(){e.props.isNavigatingByKeyboard||u1(null)};e.setRowRef=function(t,n){e._rowRefs[n]=t};e.handleApplicationContextMenu=function(t,o){e.setActiveRowKey(o);var i=e.props.analyticsContext;(0,db.jW)(t,O2((function(){var e,t;return R2(this,(function(a){switch(a.label){case 0:return[4,n.e(47988).then(n.bind(n,847988))];case 1:e=a.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,T2(S2({},e),{applicationId:o.libraryApplication.id,branchId:o.libraryApplication.branchId,analyticsContext:i}))}]}}))})),{onClose:e.clearActiveRowKey})};return e}var a=i.prototype;a.componentDidMount=function(){if(this.props.fetched){
this.handleHighlightedApplicationKey();this.trackViewed()}};a.componentWillUnmount=function(){this._didUnmount=!0};a.componentDidUpdate=function(e){if(!e.fetched&&this.props.fetched){this.handleHighlightedApplicationKey();this.trackViewed()}var t=this.props.activeRowKey;if(null!=t&&e.activeRowKey!==t&&this.props.isNavigatingByKeyboard){var n=this._rowRefs[t];if(null!=n){g.Z.wait(db.Zy);this.props.scrollToRow(n,M2)}}};a.handleHighlightedApplicationKey=function(){var e=this,t=this.state.highlightedApplicationKey;if(null!=t&&null!=this._rowRefs[t]){this.props.scrollToRow(this._rowRefs[t],M2);(new ju.V7).start(w2,(function(){e._didUnmount||e.setState({highlightedApplicationKey:null})}))}};a.trackViewed=function(){var e={num_applications_total:0,num_applications_discord:0,num_applications_steam:0,num_applications_battlenet:0,num_applications_twitch:0,num_applications_uplay:0,num_applications_origin:0,num_applications_gog:0,num_applications_epic:0
},t=this.props,n=t.analyticsContext,r=t.applicationViewItems,o=!0,i=!1,a=void 0;try{for(var s,l=r[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){switch(s.value.libraryApplication.getDistributor()){case R.GQo.DISCORD:e.num_applications_discord++;break;case R.GQo.STEAM:e.num_applications_steam++;break;case R.GQo.BATTLENET:e.num_applications_battlenet++;break;case R.GQo.TWITCH:e.num_applications_twitch++;break;case R.GQo.UPLAY:e.num_applications_uplay++;break;case R.GQo.ORIGIN:e.num_applications_origin++;break;case R.GQo.GOG:e.num_applications_gog++;break;case R.GQo.EPIC:e.num_applications_epic++}e.num_applications_total++}}catch(e){i=!0;a=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}Te.default.track(R.rMx.LIBRARY_VIEWED,T2(S2({},e),{load_id:n.loadId}))};a.handleSort=function(e,t){!function(e,t){g.Z.dispatch({type:"LIBRARY_TABLE_SORT_UPDATE",key:e,direction:t})}(e,t)};a.renderImportHelp=function(){
var e,t=this.props,n=t.applicationViewItems,o=t.filterQuery,i=n.length>0;if(i)return null;e=""!==o?J.Z.Messages.APPLICATION_LIBRARY_EMPTY_SEARCH_DESCRIPTION.format({query:o}):J.Z.Messages.APPLICATION_LIBRARY_EMPTY_STATE_DESCRIPTION_NO_IMPORT;return(0,r.jsxs)("div",{className:i?b2().emptyStateSmall:b2().emptyStateLarge,children:[(0,r.jsx)("div",{className:b2().emptyWumpus}),(0,r.jsx)(Jp.Z,{grow:0,shrink:i?1:0,direction:Jp.Z.Direction.VERTICAL,children:(0,r.jsxs)("div",{className:b2().emptyStateText,children:[(0,r.jsx)("div",{className:b2().emptyStateHeader,children:J.Z.Messages.APPLICATION_LIBRARY_EMPTY_STATE_HEADER}),(0,r.jsx)("div",{className:b2().emptyStateDescription,children:e})]})})]})};a.render=function(){var e=this.props,t=e.sortKey,n=e.sortDirection,i=e.applicationViewItems,a=e.activeRowKey,s=e.stickyHeader,l=this.state,c=l.overflowMenuRowKey,u=l.highlightedApplicationKey;return(0,r.jsxs)(o.Fragment,{children:[i.length>0?(0,r.jsx)(L1.Z,{columns:D2,data:i,sortData:!1,
rowComponent:U2,className:b2().table,headerClassName:s?b2().stickyHeader:b2().header,headerCellClassName:b2().headerCell,sortedHeaderCellClassName:b2().headerCellSorted,bodyCellClassName:b2().bodyCell,rowClassName:b2().row,sortKey:t,sortDirection:n,stickyHeader:s,rowProps:{activeRowKey:null!=c?c:a,highlightedApplicationKey:u,onMouseEnter:this.handleRowMouseEnter,onMouseLeave:this.handleRowMouseLeave,onContextMenu:this.handleApplicationContextMenu,setRef:this.setRowRef},cellProps:{activeRowKey:null!=c?c:a,onContextMenu:this.handleApplicationContextMenu,setActiveRowKey:this.setActiveRowKey,clearActiveRowKey:this.clearActiveRowKey,sortKey:t,sortDirection:n},onSort:this.handleSort}):null,this.renderImportHelp()]})};return i}(o.PureComponent);k2.defaultProps={stickyHeader:!1};function G2(e){var t=o.useContext(Te.AnalyticsContext),n=(0,a.TH)(),i=(0,s.cj)([f1.Z],(function(){return{applicationViewItems:f1.Z.sortedFilteredLibraryApplicationViewItems,filterQuery:f1.Z.applicationFilterQuery,
fetched:f1.Z.hasFetchedApplications}})),l=i.applicationViewItems,c=i.filterQuery,u=i.fetched,f=(0,s.cj)([d1.Z],(function(){return{sortKey:d1.Z.sortKey,sortDirection:d1.Z.sortDirection,activeRowKey:d1.Z.activeRowKey,isNavigatingByKeyboard:d1.Z.isNavigatingByKeyboard}})),d=f.sortKey,p=f.sortDirection,h=f.activeRowKey,E=f.isNavigatingByKeyboard;return(0,r.jsx)(k2,T2(S2({},e),{analyticsContext:t,location:n,applicationViewItems:l,filterQuery:c,fetched:u,sortKey:d,sortDirection:p,activeRowKey:h,isNavigatingByKeyboard:E}))}var B2,H2=n(937689),V2=n(427244),F2=n(995071),Y2=n.n(F2);function z2(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function W2(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function K2(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){W2(e,t,n[t])}))}return e}function q2(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return z2(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z2(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}!function(e){e.XSMALL="xsmall";e.SMALL="small";e.LARGE="large"}(B2||(B2={}));var X2=function(e){var t=e.className,n=e.percents,o=e.size,i=void 0===o?B2.SMALL:o,a=e.foregroundColors,s=void 0===a?[(0,pN.Lq)(R.Ilk.BRAND_500)]:a,l=e.backgroundColor,c=void 0===l?"var(--background-modifier-active)":l,u=e.animate,f=void 0===u||u,d=os().zip(n,s).map((function(e,t){var n,o=q2(e,2),a=o[0],s=o[1];n=Array.isArray(s)?{background:"linear-gradient(to right, ".concat(s[0],", ").concat(s[1],")")}:{backgroundColor:s};return(0,r.jsx)("div",{className:$p()(Y2().progressBar,Y2()[i],W2({},Y2().animating,f)),style:K2({transform:"translate3d(".concat(Math.min(Math.max(0,a),100)-100,"%, 0, 0)")},n)},t)})).reverse();return(0,r.jsx)("div",{className:$p()(t,Y2().progress,Y2()[i]),style:{backgroundColor:c},children:d})};X2.Sizes=B2;const Q2=X2
;var $2=n(248042),J2=n(522271),e4=n(10178),t4=n(371452),n4=n(239443),r4=n(531198),o4=n.n(r4);function i4(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a4(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s4(e){s4=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return s4(e)}function l4(e,t){return!t||"object"!==f4(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c4(e,t){c4=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c4(e,t)}function u4(e){return function(e){if(Array.isArray(e))return i4(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i4(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i4(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var f4=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function d4(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=s4(e);if(t){var o=s4(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l4(this,n)}}var p4=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&c4(e,t)}(n,e);var t=d4(n);function n(){a4(this,n);var e;(e=t.apply(this,arguments)).canvas=o.createRef();e.updateAnimation=function(t){var n=e.canvas.current;if(null!=n){var r=e.props,o=r.data,i=r.updateInterval,a=r.color,s=r.numUpdatesToShow,l=r.lineWidth,c=r.animate,u=r.gradientStopColor;if(!(o.length<2)){var f=Math.max(Math.min((t-e.dataChangedAt)/i,1),0),d=n.getContext("2d"),p=e.maxValue;d.strokeStyle=a;d.lineWidth=l;var h=n.height-d.lineWidth,E=d.createLinearGradient(0,0,0,h);if(null!=u)E.addColorStop(0,u);else{var y=oR.oo(a),m=y.r,b=y.g,g=y.b;E.addColorStop(0,"rgba(".concat(m,", ").concat(b,", ").concat(g,", 0)"))}E.addColorStop(1,e.fillColor);d.fillStyle=E;var O=o.length>=s?s:o.length;d.setTransform(1,0,0,-1,0,n.height);d.clearRect(0,0,n.width,n.height)
;d.translate(0,.5*d.lineWidth);var v,_,I=Math.floor(n.width/(O-3)),S=.5*I,T=I-I*f;d.translate(T,0);d.beginPath();var N=-I;o.forEach((function(e,t){v={x:N,y:h*e/p};0===t?d.moveTo(v.x,v.y):d.bezierCurveTo(_.x+S,_.y,v.x-S,v.y,v.x,v.y);_=v;N+=I}));d.stroke();d.lineTo(N-I,0);d.lineTo(0,0);d.fill();c&&f<1&&(e.animationFrameRequestId=window.requestAnimationFrame(e.updateAnimation))}}};return e}var i=n.prototype;i.onDataUpdate=function(e,t){var n=this.props,r=n.maxValue,o=n.data,i=n.animate,a=null==e||e.data!==t.data&&!os().isEqual(e.data,t.data);if(a){var s;this.dataChangedAt=performance.now();this.maxValue=null!=r?r:(s=Math).max.apply(s,u4(o))}if(a||null==e||!e.animate&&i||e.color!==this.props.color){var l=oR.oo(this.props.color);this.fillColor="rgba(".concat(l.r,", ").concat(l.g,", ").concat(l.b,", 0.5)");window.cancelAnimationFrame(this.animationFrameRequestId);this.animationFrameRequestId=window.requestAnimationFrame(this.updateAnimation)}};i.componentDidMount=function(){
this.animationFrameRequestId=0;this.onDataUpdate(null,this.props)};i.componentDidUpdate=function(e){this.onDataUpdate(e,this.props)};i.componentWillUnmount=function(){window.cancelAnimationFrame(this.animationFrameRequestId);this.animationFrameRequestId=0};i.render=function(){var e=this.props,t=e.className,n=e.pixelWidth,o=e.pixelHeight;return(0,r.jsx)("div",{className:t,children:(0,r.jsx)("canvas",{ref:this.canvas,className:o4().canvas,width:n,height:o})})};return n}(o.PureComponent);p4.defaultProps={animate:!0};const h4=p4;var E4=n(997050),y4=n.n(E4);const m4=function(e){var t,n=e.title,o=e.className,i=e.color,a=e.animate,s=e.gradientStopColor,l=e.getHistoricalTotalBytes,c=(0,pN.Sl)(i).hex,u=null===(t=(0,pN.Sl)(s))||void 0===t?void 0:t.hex;return(0,r.jsx)(n4.Z,{getHistoricalTotalBytes:l,children:function(e,t,i){return(0,r.jsx)("div",{className:$p()(y4().monitor,o),children:(0,r.jsxs)(Jp.Z,{align:Jp.Z.Align.CENTER,children:[(0,r.jsxs)(Jp.Z,{className:y4().text,
direction:Jp.Z.Direction.VERTICAL,children:[(0,r.jsx)("div",{className:y4().title,children:n}),(0,r.jsx)("div",{className:y4().rate,children:(s=e[e.length-1]/t*1e3,s>1e3?J.Z.Messages.FILE_RATE_MB.format({size:Math.round(s/1e3)}):J.Z.Messages.FILE_RATE_KB.format({size:Math.round(s)}))})]}),(0,r.jsx)("div",{className:y4().overflowContainer,children:(0,r.jsx)(h4,{data:e,maxValue:Math.max(Math.max.apply(null,e),1e3),className:y4().sparkChart,updateInterval:t,color:c,gradientStopColor:u,numUpdatesToShow:i,animate:a,pixelWidth:600,pixelHeight:48,lineWidth:4})})]})});var s}})};var b4=n(118343),g4=n.n(b4);function O4(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v4(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function _4(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){v4(i,r,o,a,s,"next",e)}function s(e){
v4(i,r,o,a,s,"throw",e)}a(void 0)}))}}function I4(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S4(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function T4(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function N4(e){N4=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return N4(e)}function C4(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&j4(e,t)}function A4(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){
var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function P4(e,t){return!t||"object"!==R4(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function j4(e,t){j4=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return j4(e,t)}function x4(e){return function(e){if(Array.isArray(e))return O4(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return O4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O4(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var R4=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function M4(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=N4(e);if(t){var o=N4(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return P4(this,n)}}var w4,Z4,L4,D4,U4=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},
"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},k4=function(e){var t=e.className,n=e.children,o=e.onContextMenu,i=e.item;return(0,
r.jsx)("div",{className:t,onContextMenu:function(e){return o(e,i)},children:n})},G4=[(0,pN.Lq)(R.Ilk.BLUE_345),(0,pN.r7)(R.tPk.INTERACTIVE_NORMAL)],B4=function(e){var t=e.tooltip,n=e.onClick,o=e.icon;return(0,r.jsx)(qb.ZP,{text:t,children:function(e){var i=e.onMouseEnter,a=e.onMouseLeave;return(0,r.jsx)(K.zx,{"aria-label":t,className:g4().actionButton,innerClassName:g4().actionButtonContents,color:K.zx.Colors.PRIMARY,size:K.zx.Sizes.ICON,onClick:n,onMouseEnter:i,onMouseLeave:a,children:(0,r.jsx)(o,{className:g4().actionIcon})})}})};function H4(e,t){switch(t){case R.f07.POST_INSTALL_SCRIPTS:case R.f07.PLANNING:case R.f07.FINALIZING:case R.f07.ALLOCATING_DISK:return"".concat(e);default:return(0,t4.BU)(e,{useKibibytes:!0})}}var V4=(T4(D4={},R.vxO.INSTALLING,(T4(w4={},HY.J6.NONE,(function(e,t,n,r){return J.Z.Messages.GAME_LIBRARY_UPDATES_INSTALLING.format({percent:e,progress:t,total:n})})),T4(w4,HY.J6.SECONDS,(function(e,t,n,r){
return J.Z.Messages.GAME_LIBRARY_UPDATES_INSTALLING_SECONDS.format({percent:e,progress:t,total:n,timeRemaining:r})})),T4(w4,HY.J6.MINUTES,(function(e,t,n,r){return J.Z.Messages.GAME_LIBRARY_UPDATES_INSTALLING_MINUTES.format({percent:e,progress:t,total:n,timeRemaining:r})})),T4(w4,HY.J6.HOURS,(function(e,t,n,r){return J.Z.Messages.GAME_LIBRARY_UPDATES_INSTALLING_HOURS.format({percent:e,progress:t,total:n,timeRemaining:r})})),w4)),T4(D4,R.vxO.UPDATING,(T4(Z4={},HY.J6.NONE,(function(e,t,n,r){return J.Z.Messages.GAME_LIBRARY_UPDATES_UPDATING.format({percent:e,progress:t,total:n})})),T4(Z4,HY.J6.SECONDS,(function(e,t,n,r){return J.Z.Messages.GAME_LIBRARY_UPDATES_UPDATING_UPDATING_SECONDS.format({percent:e,progress:t,total:n,timeRemaining:r})})),T4(Z4,HY.J6.MINUTES,(function(e,t,n,r){return J.Z.Messages.GAME_LIBRARY_UPDATES_UPDATING_UPDATING_MINUTES.format({percent:e,progress:t,total:n,timeRemaining:r})})),T4(Z4,HY.J6.HOURS,(function(e,t,n,r){
return J.Z.Messages.GAME_LIBRARY_UPDATES_UPDATING_UPDATING_HOURS.format({percent:e,progress:t,total:n,timeRemaining:r})})),Z4)),T4(D4,R.vxO.REPAIRING,(T4(L4={},HY.J6.NONE,(function(e,t,n,r){return J.Z.Messages.GAME_LIBRARY_UPDATES_INSTALLING.format({percent:e,progress:t,total:n})})),T4(L4,HY.J6.SECONDS,(function(e,t,n,r){return J.Z.Messages.GAME_LIBRARY_UPDATES_INSTALLING_SECONDS.format({percent:e,progress:t,total:n,timeRemaining:r})})),T4(L4,HY.J6.MINUTES,(function(e,t,n,r){return J.Z.Messages.GAME_LIBRARY_UPDATES_INSTALLING_MINUTES.format({percent:e,progress:t,total:n,timeRemaining:r})})),T4(L4,HY.J6.HOURS,(function(e,t,n,r){return J.Z.Messages.GAME_LIBRARY_UPDATES_INSTALLING_HOURS.format({percent:e,progress:t,total:n,timeRemaining:r})})),L4)),D4);function F4(e,t,n,r,o){var i=null!=e?e/60:null,a=V4[t],s=null!=a?Object.keys(a):[],l=(0,HY.CI)(i,s),c=l.unit,u=l.time;if(null!=a&&null!=c){var f=a[c];return null!=f?f(n,r,o,u):null}return null}function Y4(e){
var t=e.type,n=e.stage,r=e.percent,o=e.progress,i=e.total,a=e.secondsRemaining,s=H4(i,n),l=H4(o,n);switch(n){case R.f07.QUEUED:return 0===o?J.Z.Messages.GAME_LIBRARY_UPDATES_PROGRESS_WAITING_FOR_ANOTHER_NO_TRANSITION:J.Z.Messages.GAME_LIBRARY_UPDATES_PROGRESS_WAITING_FOR_ANOTHER.format({percent:r,progress:l,total:s});case R.f07.PLANNING:return J.Z.Messages.GAME_LIBRARY_UPDATES_PROGRESS_PLANNING.format({percent:r});case R.f07.ALLOCATING_DISK:return J.Z.Messages.GAME_LIBRARY_UPDATES_PROGRESS_ALLOCATING_DISK.format({percent:r});case R.f07.PATCHING:return F4(a,t,r,l,s);case R.f07.FINALIZING:return J.Z.Messages.GAME_LIBRARY_UPDATES_PROGRESS_FINALIZING.format({percent:r});case R.f07.PAUSING:return J.Z.Messages.GAME_LIBRARY_UPDATES_PROGRESS_PAUSING.format({percent:r,progress:l,total:s});case R.f07.VERIFYING:return J.Z.Messages.GAME_LIBRARY_UPDATES_PROGRESS_VERIFYING.format({percent:r,progress:l,total:s});case R.f07.POST_INSTALL_SCRIPTS:
return J.Z.Messages.GAME_LIBRARY_UPDATES_PROGRESS_POST_INSTALL_SCRIPTS.format({percent:r,progress:l,total:s});case R.f07.REPAIRING:return t===R.vxO.REPAIRING?F4(a,t,r,l,s):J.Z.Messages.GAME_LIBRARY_UPDATES_PROGRESS_REPAIRING.format({percent:r,progress:l,total:s})}throw new Error("Invalid Dispatch stage")}function z4(e,t,o){db.jW(e,_4((function(){var e,i;return U4(this,(function(a){switch(a.label){case 0:return[4,n.e(47988).then(n.bind(n,847988))];case 1:e=a.sent(),i=e.default;return[2,function(e){return(0,r.jsx)(i,A4(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){T4(e,t,n[t])}))}return e}({},e),{applicationId:t.applicationId,branchId:t.branchId,analyticsContext:o}))}]}}))})))}var W4="name",K4="progress",q4="actions",X4=function(e){
C4(n,e);var t=M4(n);function n(){I4(this,n);var e;(e=t.apply(this,arguments)).renderProgressPatchingBody=function(t,n){var r=e.props.item.state;if(null==r)return null;var o=r.stage,i=r.progress,a=r.total,s=r.type,l=r.readerProgress;if(null==i||null==a||null==o)return null;var c=U1.xI(i,a),u=U1.xI(null!=l?l:0,a),f=t[t.length-1]/n*1e3,d=a-i,p=0!==f?Math.max(1,d/f):null,h=Y4({type:s,stage:o,percent:Math.floor(c),progress:i,total:a,secondsRemaining:p});return e.renderStackedProgress({percents:[c,u],message:h})};return e}var o=n.prototype;o.renderBody=function(e){var t=e.percent,n=e.foregroundColor,o=e.foregroundGradientColor,i=e.message;return(0,r.jsxs)(Jp.Z,{direction:Jp.Z.Direction.VERTICAL,children:[(0,r.jsx)(V2.Z,{percent:t,size:V2.Z.Sizes.SMALL,foregroundColor:(0,pN.Lq)(n),foregroundGradientColor:null!=o?[(0,pN.Lq)(o[0]),(0,pN.Lq)(o[1])]:void 0,animate:this.isFocused}),(0,r.jsx)("div",{className:g4().progressCellText,children:null!=i?i:""})]})};o.renderStackedProgress=function(e){
var t=e.percents,n=e.message;return(0,r.jsxs)(Jp.Z,{direction:Jp.Z.Direction.VERTICAL,children:[(0,r.jsx)(Q2,{percents:t,size:V2.Z.Sizes.SMALL,foregroundColors:G4,animate:this.isFocused}),(0,r.jsx)("div",{className:g4().progressCellText,children:null!=n?n:""})]})};o.renderFinished=function(){var e=this.props.item;return this.renderBody({message:J.Z.Messages.GAME_LIBRARY_UPDATES_PROGRESS_FINISHED.format({remove:function(){return er.wi(e.applicationId,e.branchId)}}),foregroundColor:e.theme===R.BRd.LIGHT?R.Ilk.PRIMARY_300:R.Ilk.PRIMARY_500,percent:100})};o.renderQueued=function(){var e,t,n=this.props.item,r=n.state,o=n.theme;if(null!=r){var i=r.progress,a=r.total,s=r.stage;if(null!=i&&null!=a){var l=H4(a,s),c=H4(i,s);t=U1.xI(i,a);var u=Math.floor(t);e=s===R.f07.PAUSING?J.Z.Messages.GAME_LIBRARY_UPDATES_PROGRESS_PAUSING.format({percent:u,progress:c,total:l}):J.Z.Messages.GAME_LIBRARY_UPDATES_PROGRESS_QUEUED.format({percent:u,progress:c,total:l})}}if(null==t||null==e){t=0
;e=J.Z.Messages.GAME_LIBRARY_UPDATES_PROGRESS_QUEUED_NO_TRANSITION}return this.renderBody({percent:t,foregroundColor:o===R.BRd.LIGHT?R.Ilk.PRIMARY_300:R.Ilk.PRIMARY_500,message:e})};o.renderPaused=function(){var e=this.props.item,t=e.state,n=e.theme;if(null==t)return null;var r=t.progress,o=t.total;if(null==r||null==o)return null;var i=U1.xI(r,o),a=Math.floor(i),s=0===r&&1===o?J.Z.Messages.GAME_LIBRARY_UPDATES_PROGRESS_PAUSED_NO_TRANSITION:J.Z.Messages.GAME_LIBRARY_UPDATES_PROGRESS_PAUSED.format({percent:a,progress:(0,t4.BU)(r),total:(0,t4.BU)(o)});return this.renderBody({message:s,foregroundColor:n===R.BRd.LIGHT?R.Ilk.PRIMARY_300:R.Ilk.PRIMARY_500,percent:i})};o.renderProgressPatching=function(){return(0,r.jsx)(n4.Z,{getHistoricalTotalBytes:ky.Z.getHistoricalTotalBytesWritten,updateInterval:5e3,children:this.renderProgressPatchingBody})};o.renderProgressDefault=function(){var e=this.props.item.state;if(null==e)return null;var t=e.total,n=e.progress,r=e.stage,o=e.type
;if(null==t||null==n||null==r)return null;var i=U1.xI(n,t),a=Math.floor(i);return this.renderBody({percent:i,message:Y4({type:o,stage:r,percent:a,progress:n,total:t}),foregroundColor:R.Ilk.BLUE_345})};o.renderProgress=function(){var e=this.props.item.state;switch(null!=e?e.stage:null){case R.f07.PATCHING:case R.f07.REPAIRING:return this.renderProgressPatching();default:return this.renderProgressDefault()}};o.render=function(){var e=this.props,t=e.item,n=e.cellProps;return t.finished?this.renderFinished():t.index>0?this.renderQueued():null==t.state||t.state.type!==R.vxO.UPDATING&&t.state.type!==R.vxO.REPAIRING&&t.state.type!==R.vxO.INSTALLING?null:null!=n&&n.paused?this.renderPaused():this.renderProgress()};!function(e,t,n){t&&S4(e.prototype,t);n&&S4(e,n)}(n,[{key:"isFocused",get:function(){var e=this.props.cellProps;return null!=e&&e.isFocused}}]);return n}(o.PureComponent),Q4=function(){return(0,r.jsx)(B4,{icon:e4.Z,tooltip:J.Z.Messages.GAME_LIBRARY_UPDATES_ACTION_RESUME,
onClick:function(){return er.v4()}})},$4=function(){return(0,r.jsx)(B4,{icon:J2.Z,tooltip:J.Z.Messages.GAME_LIBRARY_UPDATES_ACTION_PAUSE,onClick:function(){return er.wO()}})},J4=function(e){var t=e.item;return(0,r.jsx)(B4,{icon:$2.Z,tooltip:J.Z.Messages.GAME_LIBRARY_UPDATES_ACTION_MOVE_UP,onClick:function(){return er.A1(t.applicationId,t.branchId)}})},e3=function(e){var t=e.item;return(0,r.jsx)(B4,{icon:Sb.Z,tooltip:J.Z.Messages.GAME_LIBRARY_UPDATES_ACTION_REMOVE,onClick:function(){return er.al(t.applicationId,t.branchId)}})},t3=[{key:W4,cellClassName:g4().nameCell,render:function(e){return(0,r.jsxs)(Jp.Z,{align:Jp.Z.Align.CENTER,children:[(0,r.jsx)(BY.Z,{game:e.application,className:g4().gameIcon,size:BY.Z.Sizes.SMALL}),(0,r.jsx)("div",{className:g4().nameCellText,children:e.application.name})]})}},{key:K4,cellClassName:g4().progressCell,headerCellClassName:g4().progressCellHeader,bodyCellClassName:g4().progressCellBody,render:function(e,t){return(0,r.jsx)(X4,{item:e,cellProps:t})}},{
key:q4,cellClassName:g4().actionsCell,render:function(e,t){var n,o;if(e.finished)n=null!=e.libraryApplication?(0,r.jsx)(Z1.Z,{libraryApplication:e.libraryApplication,size:K.zx.Sizes.SMALL,className:g4().gameActionButton,source:R.Sbl.APPLICATION_LIBRARY_UPDATES}):null;else if(null!=e.state){if(e.state.type!==R.vxO.UP_TO_DATE){n=e.index>0?(0,r.jsx)(J4,{item:e}):null!=t&&t.paused?(0,r.jsx)(Q4,{}):(0,r.jsx)($4,{item:e});o=(0,r.jsx)(e3,{item:e})}}else o=(0,r.jsx)(e3,{item:e});return(0,r.jsxs)(Jp.Z,{justify:Jp.Z.Justify.END,children:[n,o]})}}],n3=function(e){C4(n,e);var t=M4(n);function n(){I4(this,n);var e;(e=t.apply(this,arguments)).isUnmounted=!1;e.isTallerThanHalfViewport=!1;e.throttledUpdateHeight=os().throttle((function(){if(!e.isUnmounted){var t=e.props,n=t.height,r=t.onHeightTallerThanHalfViewportChange,o=n>window.innerHeight/2;if(e.isTallerThanHalfViewport!==o){e.isTallerThanHalfViewport=o;r(o)}}}),1e3);return e}var o=n.prototype;o.componentDidMount=function(){
window.addEventListener("resize",this.throttledUpdateHeight)};o.componentDidUpdate=function(e){this.props.height!==e.height&&this.throttledUpdateHeight()};o.componentWillUnmount=function(){this.props.applications.forEach((function(e){e.finished&&g.Z.wait((function(){er.wi(e.applicationId,e.branchId)}))}));window.removeEventListener("resize",this.throttledUpdateHeight);this.isUnmounted=!0};o.render=function(){var e=this.props,t=e.applications,n=e.paused,o=e.isFocused,i=e.theme,a=e.analyticsContext;return 0===t.length?null:(0,r.jsxs)("div",{className:g4().gameUpdates,children:[(0,r.jsxs)("div",{className:g4().headerRow,children:[(0,r.jsx)(m4,{className:$p()(g4().headerCell,g4().networkProgress),title:J.Z.Messages.GAME_LIBRARY_UPDATES_HEADER_NETWORK,getHistoricalTotalBytes:ky.Z.getHistoricalTotalBytesDownloaded,color:R.Ilk.GREEN_360,animate:o}),(0,r.jsx)(m4,{className:$p()(g4().headerCell,g4().diskProgress),title:J.Z.Messages.GAME_LIBRARY_UPDATES_HEADER_DISK,
getHistoricalTotalBytes:ky.Z.getHistoricalTotalBytesWritten,color:R.Ilk.BLUE_345,animate:o})]}),(0,r.jsx)(L1.Z,{hasHeader:!1,columns:t3,data:t,className:g4().table,rowClassName:g4().row,rowComponent:k4,cellProps:{paused:n,isFocused:o,theme:i},rowProps:{onContextMenu:function(e,t){return z4(e,t,a)}},bodyCellClassName:g4().cell})]})};return n}(o.PureComponent);function r3(e,t,n,r){return e.reduce((function(e,o,i){var a=o.applicationId,s=o.branchId,l=n.getGame(a),c=r.getState(a,s);null!=l&&e.push({key:"".concat(a,":").concat(s),applicationId:a,branchId:s,state:c,application:l,libraryApplication:kn.Z.getLibraryApplication(a,s),finished:t,index:i});return e}),[])}const o3=(0,lb.Z)(s.ZP.connectStores([H2.Z,ct.Z,qe.Z,Mn.Z,ky.Z],(function(){var e=r3(H2.Z.activeItems,!1,Mn.Z,ky.Z),t=r3(H2.Z.finishedItems,!0,Mn.Z,ky.Z);return{applications:x4(e).concat(x4(t)),paused:H2.Z.paused,isFocused:qe.Z.isFocused(),theme:ct.Z.theme}}))((0,KY.Z)(n3)));var i3=n(993846),a3=n.n(i3);function s3(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l3(e){l3=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return l3(e)}function c3(e,t){return!t||"object"!==f3(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u3(e,t){u3=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return u3(e,t)}var f3=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function d3(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=l3(e);if(t){var o=l3(this).constructor;n=Reflect.construct(r,arguments,o)
}else n=r.apply(this,arguments);return c3(this,n)}}var p3=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&u3(e,t)}(n,e);var t=d3(n);function n(){s3(this,n);var e;(e=t.apply(this,arguments))._scrollerRef=o.createRef();e._scrollToPadding=0;e.state={includeUpdatesInScroller:!1};e.handleHeightTallerThanHalfViewportChange=function(t){e.setState({includeUpdatesInScroller:t})};e.scrollToRow=function(t,n){var r=e._scrollerRef.current;if(null!=r){t.focus();r.scrollIntoViewRect({start:n,end:n});e._scrollToOnMount=null}else{e._scrollToOnMount=t;e._scrollToPadding=n}};return e}var i=n.prototype;i.componentDidMount=function(){lH(R.Z5c.APPLICATION_LIBRARY);(0,l1.T)(R.jEp.LIBRARY);g.Z.wait((function(){return(0,a1.o)()}));(0,s1.N)()
;null!=this._scrollToOnMount&&null!=this._scrollerRef.current&&this.scrollToRow(this._scrollToOnMount,this._scrollToPadding)};i.renderToolbar=function(){return(0,r.jsx)(T1,{})};i.render=function(){var e=this.state.includeUpdatesInScroller,t=(0,r.jsx)("div",{children:(0,r.jsx)(hF.Z,{section:R.jXE.LIBRARY_INSTALL_MODULE,children:(0,r.jsx)(o3,{onHeightTallerThanHalfViewportChange:this.handleHeightTallerThanHalfViewportChange})})});return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(M1,{currentRoute:R.Z5c.APPLICATION_LIBRARY,renderToolbar:this.renderToolbar}),e?null:t,(0,r.jsxs)(Kg.yW,{className:$p()(a3().container,a3().scroller),ref:this._scrollerRef,children:[e?t:null,(0,r.jsx)(hF.Z,{section:R.jXE.LIBRARY_APPLICATION_LIST,children:(0,r.jsx)(G2,{stickyHeader:!e,scrollToRow:this.scrollToRow})})]})]})};return n}(o.PureComponent),h3=n(571663),E3=n(87993),y3=n(664252),m3=n(126388),b3=n.n(m3);function g3(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0
}):e[t]=n;return e}function O3(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var v3=Math.ceil(2*Math.PI*20);function _3(e){var t=Math.round(-85*e+199),n=Math.round(-71*e+208),r=Math.round(-22*e+240);return"rgb(".concat(t,", ").concat(n,", ").concat(r,")")}function I3(e){var t=Math.floor(v3*e);return"".concat(t,", ").concat(v3)}const S3=function(e){var t=e.total,n=e.used,o=Math.max(0,Math.min(1,n/t)),i="".concat(Math.floor(100*o),"%");return(0,r.jsx)(qb.ZP,{text:J.Z.Messages.APPLICATION_INSTALLATION_SPACE_USED.format({used:i}),children:function(e){return(0,r.jsxs)("div",O3(function(e){
for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){g3(e,t,n[t])}))}return e}({className:b3().wrapper,role:"progressbar","aria-label":J.Z.Messages.APPLICATION_INSTALLATION_SPACE_USED.format({used:i})},e),{children:[(0,r.jsxs)("svg",{viewBox:"25 25 50 50",className:b3().svg,"aria-hidden":!0,children:[(0,r.jsx)("circle",{className:b3().background,cx:"50",cy:"50",r:20}),(0,r.jsx)("circle",{className:b3().foreground,cx:"50",cy:"50",r:20,stroke:_3(o),strokeDasharray:I3(o)})]}),(0,r.jsx)("aside",{className:b3().usageInfo,"aria-hidden":!0,children:i})]}))}})};var T3=n(928926),N3=n(591523),C3=n.n(N3);function A3(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P3(e,t,n){t in e?Object.defineProperty(e,t,{value:n,
enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function j3(e){j3=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return j3(e)}function x3(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Z3(e,t)}function R3(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){P3(e,t,n[t])}))}return e}function M3(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
;t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function w3(e,t){return!t||"object"!==L3(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Z3(e,t){Z3=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Z3(e,t)}var L3=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function D3(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=j3(e);if(t){var o=j3(this).constructor;n=Reflect.construct(r,arguments,o)
}else n=r.apply(this,arguments);return w3(this,n)}}var U3=function(e){x3(n,e);var t=D3(n);function n(){A3(this,n);var e;(e=t.apply(this,arguments)).state={label:void 0,isDefault:null};e.handleStartEditing=function(){var t=e.props,n=t.path,r=t.label,o=t.isDefault;(0,t.onToggleEditing)(n);e.setState({label:r,isDefault:o})};e.handleStopEditing=function(){(0,e.props.onToggleEditing)(null);e.setState({label:void 0,isDefault:null})};e.handleRemoveLocation=function(){(0,Y.h7)((function(t){return(0,r.jsx)(Oh.default,M3(R3({},t),{header:J.Z.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_REMOVE,confirmText:J.Z.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_REMOVE,cancelText:J.Z.Messages.CANCEL,onConfirm:function(){e.handleStopEditing();(0,E3.iD)(e.props.path)},children:(0,r.jsx)(K.xv,{variant:"text-md/normal",children:J.Z.Messages.USER_SETTINGS_GAMES_REMOVE_LOCATION_BODY})}))}))};e.handleSaveChanges=function(){(0,E3.Tb)(e.props.path,{label:null!=e.state.label?e.state.label:e.props.label,
isDefault:null!=e.state.isDefault?e.state.isDefault:e.props.isDefault});e.handleStopEditing()};e.handleLabelChange=function(t){e.setState({label:t})};e.handleToggleDefault=function(){e.setState({isDefault:!e.state.isDefault})};return e}var o=n.prototype;o.renderDiskUsageCircle=function(){var e=this.props.metadata;return null!=e&&null!=e.availableKB&&null!=e.totalKB?(0,r.jsx)(S3,{total:e.totalKB,used:e.totalKB-e.availableKB}):null};o.renderViewing=function(){var e,t,n=this.props,o=n.path,i=n.label,a=n.editingPath,s=n.isDefault,l=n.metadata;if(null!=l){e=null!=l.availableKB?(0,t4.BU)(l.availableKB,{useKibibytes:!0}):null;t=null!=l.totalKB?(0,t4.BU)(l.totalKB,{useKibibytes:!0}):null}return(0,r.jsxs)(Jp.Z,{className:C3().installationPath,align:Jp.Z.Align.CENTER,children:[this.renderDiskUsageCircle(),(0,r.jsxs)(Jp.Z,{direction:Jp.Z.Direction.VERTICAL,className:C3().descriptionWrapper,children:[(0,r.jsxs)(Jp.Z,{align:Jp.Z.Align.CENTER,children:[(0,r.jsx)(K.X6,{className:C3().rowTitle,
variant:"heading-md/semibold",children:null!=i?i:y3.Z.getLabelFromPath(o)}),s?(0,r.jsx)("span",{className:C3().defaultIndicator,children:J.Z.Messages.DEFAULT}):null]}),null!=l&&null!=e&&null!=t?(0,r.jsx)(T3.Z,{className:C3().rowBody,hoverText:J.Z.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_SPACE.format({available:e,total:t}),children:o}):(0,r.jsx)(K.xv,{className:C3().rowBody,variant:"text-xs/normal",children:o})]}),(0,r.jsx)(K.zx,{size:K.zx.Sizes.SMALL,disabled:null!=a,color:K.zx.Colors.PRIMARY,onClick:this.handleStartEditing,children:J.Z.Messages.EDIT})]})};o.renderEditing=function(){var e=this.props,t=e.path,n=e.hasGamesInstalledInPath,o=this.state,i=o.label,a=o.isDefault;return(0,r.jsx)(K.Zb,{editable:!0,className:C3().installationPathEditing,children:(0,r.jsxs)(Jp.Z,{children:[this.renderDiskUsageCircle(),(0,r.jsxs)(Jp.Z.Child,{children:[(0,r.jsx)(K.xJ,{title:J.Z.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_NAME,children:(0,r.jsx)(K.oi,{value:i,
placeholder:y3.Z.getLabelFromPath(t),onChange:this.handleLabelChange})}),(0,r.jsx)(K.xJ,{title:J.Z.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION,className:lh().marginTop20,children:(0,r.jsx)(K.oi,{disabled:!0,value:t})}),(0,r.jsx)(K.XZ,{type:K.XZ.Types.INVERTED,value:null!=a?a:this.props.isDefault,disabled:this.props.isDefault,className:C3().defaultLocationCheckbox,onChange:this.handleToggleDefault,children:J.Z.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_MAKE_DEFAULT}),(0,r.jsx)(K.$i,{className:C3().separator}),(0,r.jsxs)(Jp.Z,{children:[(0,r.jsx)(K.zx,{disabled:n||this.props.isDefault,size:K.zx.Sizes.SMALL,color:K.zx.Colors.RED,look:K.zx.Looks.OUTLINED,onClick:this.handleRemoveLocation,children:J.Z.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_REMOVE}),(0,r.jsxs)(Jp.Z,{justify:Jp.Z.Justify.END,children:[(0,r.jsx)(K.zx,{size:K.zx.Sizes.SMALL,color:K.zx.Colors.PRIMARY,look:K.zx.Looks.LINK,onClick:this.handleStopEditing,children:J.Z.Messages.CANCEL}),(0,r.jsx)(K.zx,{
disabled:t===this.props.path&&i===this.props.label&&a===this.props.isDefault,size:K.zx.Sizes.SMALL,color:K.zx.Colors.GREEN,onClick:this.handleSaveChanges,children:J.Z.Messages.SAVE})]})]})]})]})})};o.render=function(){return this.props.editingPath===this.props.path?this.renderEditing():this.renderViewing()};return n}(o.PureComponent),k3=function(e){x3(n,e);var t=D3(n);function n(){A3(this,n);var e;(e=t.apply(this,arguments)).state={editingPath:null};e.handleAddInstallationLocation=function(){bs.default.showOpenDialog(["openDirectory"]).then((function(e){null!=e&&0!==e.length&&null!=e[0]&&"undefined"!==e[0]&&(0,E3.RY)(e[0])}))};e.handleToggleEditing=function(t){e.setState({editingPath:t})};return e}var o=n.prototype;o.componentDidMount=function(){(0,E3.ec)(this.props.installationPaths.map((function(e){return e.path})))};o.render=function(){var e=this,t=this.props,n=t.installationPaths,o=t.installationPathsMetadata,i=t.defaultInstallationPath,a=this.state.editingPath;return(0,
r.jsxs)(K.hj,{className:C3().wrapper,title:J.Z.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATIONS,children:[n.map((function(t){var n=t.path,s=t.label;return(0,r.jsx)(U3,{path:n,label:s,metadata:o[n],isDefault:i===n,editingPath:a,hasGamesInstalledInPath:y3.Z.hasGamesInstalledInPath(n),onToggleEditing:e.handleToggleEditing},n)})),(0,r.jsx)("div",{className:C3().buttonRowWrapper,children:(0,r.jsx)(K.zx,{disabled:!kt.FB,onClick:this.handleAddInstallationLocation,size:K.zx.Sizes.SMALL,children:J.Z.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_ADD})})]})};return n}(o.PureComponent);const G3=s.ZP.connectStores([y3.Z],(function(){return{installationPaths:y3.Z.installationPaths,installationPathsMetadata:y3.Z.installationPathsMetadata,defaultInstallationPath:y3.Z.defaultInstallationPath}}))(k3);var B3=n(218522),H3=n.n(B3);function V3(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F3(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,
configurable:!0,writable:!0}):e[t]=n;return e}function Y3(e){Y3=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Y3(e)}function z3(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){F3(e,t,n[t])}))}return e}function W3(e,t){return!t||"object"!==q3(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function K3(e,t){K3=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return K3(e,t)}var q3=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function X3(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1
;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Y3(e);if(t){var o=Y3(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return W3(this,n)}}function Q3(e){var t=e.applicationViewItems,n=e.restoreApplication;if(0===t.length)return null;var o=t.map((function(e){var t=e.libraryApplication.getDistributor();return(0,r.jsxs)("div",{className:H3().hiddenLibraryApplication,children:[(0,r.jsxs)(Jp.Z,{direction:Jp.Z.Direction.VERTICAL,className:H3().hiddenLibraryApplicationContent,children:[(0,r.jsx)("div",{className:H3().applicationName,children:e.libraryApplication.getBranchedName(e.application)}),null!=t?(0,r.jsx)("div",{className:H3().applicationSubText,children:R.EOG[t]}):null]}),(0,r.jsx)(K.P3,{className:H3().restoreButton,onClick:function(){return n(e.libraryApplication)},children:(0,r.jsx)(Sb.Z,{
className:H3().restoreIcon})})]},e.key)}));return(0,r.jsxs)(K.hj,{className:H3().hiddenLibraryApplications,children:[(0,r.jsx)(K.vw,{className:H3().hiddenLibraryApplicationsTitle,children:J.Z.Messages.SETTINGS_GAMES_HIDDEN_LIBRARY_APPLICATIONS_LABEL}),o]})}var $3=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&K3(e,t)}(n,e);var t=X3(n);function n(){V3(this,n);var e;(e=t.apply(this,arguments)).handleRestoreHiddenLibraryApplication=function(t){var n=As.x9(t.getFlags(),R.eHb.HIDDEN);h3.h(t.id,t.branchId,n);e.trackRestoreApplication(t,As.yE(n,R.eHb.HIDDEN))};return e}var i=n.prototype;i.handleToggleShortcutDesktop=function(e){ut.Xc.updateSetting(e)};i.handleToggleShortcutStartMenu=function(e){ut.Pe.updateSetting(e)};i.trackRestoreApplication=function(e,t){
Te.default.track(R.rMx.APPLICATION_SETTINGS_UPDATED,z3({hidden_enabled:t},e.getAnalyticsData()))};i.renderBody=function(){var e=this.props,t=e.hiddenLibraryApplicationViewItems,n=e.installShortcutDesktop,i=e.installShortcutStartMenu;return(0,r.jsxs)("div",{className:H3().body,children:[(0,nr.Q)()?(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(K.j7,{value:n,onChange:this.handleToggleShortcutDesktop,note:J.Z.Messages.USER_SETTINGS_GAMES_SHORTCUTS_DESKTOP_NOTE,children:J.Z.Messages.USER_SETTINGS_GAMES_SHORTCUTS_DESKTOP}),(0,r.jsx)(K.j7,{value:i,onChange:this.handleToggleShortcutStartMenu,note:J.Z.Messages.USER_SETTINGS_GAMES_SHORTCUTS_START_MENU_NOTE,children:J.Z.Messages.USER_SETTINGS_GAMES_SHORTCUTS_START_MENU}),(0,r.jsx)(G3,{})]}):null,(0,r.jsx)(Q3,{restoreApplication:this.handleRestoreHiddenLibraryApplication,applicationViewItems:t})]})};i.render=function(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(M1,{currentRoute:R.Z5c.APPLICATION_LIBRARY_SETTINGS}),(0,r.jsx)(nE.w0,{
className:H3().scroller,children:this.renderBody()})]})};return n}(o.PureComponent);function J3(){var e={installShortcutDesktop:ut.Xc.useSetting(),installShortcutStartMenu:ut.Pe.useSetting(),hiddenLibraryApplicationViewItems:(0,s.e7)([f1.Z],(function(){return f1.Z.hiddenLibraryApplicationViewItems}))};return(0,r.jsx)($3,z3({},e))}var e6=n(854686),t6=n.n(e6);function n6(){return(0,r.jsxs)(a.rs,{children:[(0,r.jsx)(tb.Z,{path:R.Z5c.APPLICATION_LIBRARY_SETTINGS,exact:!0,children:(0,r.jsxs)(hF.Z,{page:R.ZY5.LIBRARY_SETTINGS,root:!0,children:[(0,r.jsx)(bm.yY,{subsection:J.Z.Messages.SETTINGS}),(0,r.jsx)(J3,{})]})}),(0,r.jsx)(tb.Z,{path:R.Z5c.APPLICATION_LIBRARY,children:(0,r.jsxs)(hF.Z,{page:R.ZY5.LIBRARY,root:!0,children:[(0,r.jsx)(bm.yY,{subsection:J.Z.Messages.APPLICATION_LIBRARY_MY_GAMES}),(0,r.jsx)(p3,{})]})})]})}function r6(){o.useEffect((function(){(0,SH.e)("application_library")}),[]);return(0,r.jsxs)("div",{className:t6().container,children:[(0,r.jsx)(bm.yY,{
location:J.Z.Messages.LIBRARY}),(0,r.jsx)(n6,{})]})}const o6=o.memo(r6);var i6=n(682278);var a6=(0,sR.B)({kind:"user",id:"2021-11_discovery_tags",label:"Discovery Tags",defaultConfig:{shouldDisplayTags:!1,shouldDisplayRecommendedSearchTags:!1},treatments:[{id:1,label:"Show keyword tags on home and search result pages",config:{shouldDisplayTags:!0,shouldDisplayRecommendedSearchTags:!1}},{id:2,label:"Show keyword tags on home and search result pages and under the search bar",config:{shouldDisplayTags:!0,shouldDisplayRecommendedSearchTags:!0}}]}),s6=n(382296),l6=n(250297),c6=n(76846),u6=n(762018),f6=n(513284),d6=n(700207),p6=n(983294),h6=n.n(p6);function E6(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y6(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function m6(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){y6(e,t,n[t])}))}return e}function b6(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function g6(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{
try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E6(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E6(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var O6=["egirl","egirls","waifu","dating","nsfw","sex","playboy","stupid","harem","playgirl","shitcoin","shitpost","porno","nudes","sexy","horny","fart","tits","balls","cum"],v6=function(e){var t=e.text,n=e.onClick,o=e.className,i=e.hide;return(0,r.jsx)("li",{className:$p()(h6().tag,o,y6({},h6().hide,i)),children:(0,r.jsx)(K.P3,{className:h6().tagText,onClick:function(e){e.stopPropagation();e.preventDefault();n(e)},children:t})})
},_6=function(e){var t=e.tags,n=e.onTagClick,i=e.guildId,a=e.section;o.useEffect((function(){Te.default.track(R.rMx.OPEN_POPOUT,{type:"Discovery Tags Overflow",guild_id:i,location:{page:R.ZY5.GUILD_DISCOVERY,section:a}})}),[i,a]);return(0,r.jsx)(K.Vq,{className:h6().overflowTagsPopout,children:(0,r.jsx)("ul",{children:t.map((function(e){return(0,r.jsx)(v6,{onClick:function(){return n(e)},className:h6().tagAlt,text:e},e)}))})})},I6=function(e){var t=e.className,n=e.count;return(0,r.jsx)(xg.ZP,{renderPopout:function(){return(0,r.jsx)(_6,m6({},e))},position:xg.ZP.Positions.RIGHT,align:xg.ZP.Align.TOP,closeOnScroll:!0,children:function(e){return(0,r.jsx)(v6,b6(m6({className:t},e),{text:"+".concat(n)}))}})},S6={DEFAULT:h6().tagDefault,LIGHT:h6().tagLight,ALT:h6().tagAlt},T6=function(e){var t=e.tags,n=e.onTagClick,i=e.className,a=e.discoveryTagStyle,s=void 0===a?S6.DEFAULT:a,l=e.hideOverflow,c=void 0!==l&&l,u=e.guildId,f=e.section,d=(0,
cb.Z)(),p=d.ref,h=d.width,E=g6(o.useState(null),2),y=E[0],m=E[1],b=t.filter((function(e){return!O6.includes(e.toLowerCase())}));o.useLayoutEffect((function(){if(null!=p.current&&null!=h&&0!==h){for(var e=0,t=0,n=h-40-4,r=0;r<b.length;r++){t+=p.current.children[r].clientWidth+4;if(r===b.length-1?t>n+40:t>n)break;e++}m((function(t){return e<=b.length?e:t}))}}),[h,p,b]);return(0,r.jsxs)("ul",{ref:p,className:$p()(h6().tagContainer,i,y6({},h6().invisible,null==y)),children:[b.map((function(e,t){return(0,r.jsx)(v6,{className:s,onClick:function(){return n(e)},hide:null!=y&&t>=y,text:e},e)})),!c&&null!=y&&y<b.length&&(0,r.jsx)(I6,{className:s,onTagClick:n,tags:b.slice(y),count:b.length-y,guildId:u,section:f})]})},N6=n(902925),C6=n(330275),A6=n(395810),P6=n(498154),j6=n.n(P6);function x6(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function R6(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n
;return e}function M6(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function w6(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function Z6(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return x6(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x6(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const L6=function(e){var t=e.guild,n=Z6(o.useState(!1),2),i=n[0],a=n[1],s=o.useCallback((function(){return a(!0)}),[a]),l=o.useCallback((function(){return a(!0)}),[a]);return(0,r.jsx)("div",{
className:$p()(j6().actionButtonsContainer,R6({},j6().forceButtonsShow,i)),children:(0,r.jsx)(C6.ZP,{children:(0,r.jsx)(A6.GuildDiscoveryMenuPopout,{onRequestOpen:s,onRequestClose:l,guild:t,children:function(e){var t=e.onClick,n=w6(e,["onClick"]);return(0,r.jsx)(qb.ZP,{text:J.Z.Messages.MORE,hideOnClick:!0,children:function(e){var o=e.onClick,i=w6(e,["onClick"]);return(0,r.jsx)(C6.zx,M6(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){R6(e,t,n[t])}))}return e}({},n,i),{onClick:function(e){e.stopPropagation();null==o||o();t(e)},"aria-label":J.Z.Messages.MORE,children:(0,r.jsx)(uI.Z,{className:j6().overflowIcon})}))}})}})})})}
;var D6=n(769002),U6=n(440455),k6=n(976351),G6=n.n(k6),B6=n(860321),H6=n.n(B6),V6=n(145792),F6=n.n(V6),Y6=n(348833),z6=n.n(Y6);function W6(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K6(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function q6(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){K6(i,r,o,a,s,"next",e)}function s(e){K6(i,r,o,a,s,"throw",e)}a(void 0)}))}}function X6(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q6(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function $6(e){$6=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return $6(e)}function J6(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Q6(e,t,n[t])}))}return e}function e5(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function t5(e,t){return!t||"object"!==r5(t)&&"function"!=typeof t?W6(e):t}function n5(e,t){n5=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return n5(e,t)}var r5=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function o5(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=$6(e);if(t){var o=$6(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return t5(this,n)}}var i5=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,
o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},a5=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&n5(e,t)}(o,e);var t=o5(o);function o(){X6(this,o);var e;(e=t.apply(this,arguments)).state={loaded:!1,hasBeenSeen:!1,isVisible:!1,submitting:!1};var i=W6(e)
;e.handleClickView=function(){var e=q6((function(e){var t,n,r;return i5(this,(function(o){switch(o.label){case 0:if(e.target.className.includes("Menu"))return[2];t=i.props,n=t.onView,r=t.guild;e.stopPropagation();i.setState({submitting:!0});o.label=1;case 1:o.trys.push([1,,4,5]);return null!=n?[4,n(r.id)]:[3,3];case 2:o.sent();o.label=3;case 3:return[3,5];case 4:i.setState({submitting:!1});return[7];case 5:return[2]}}))}));return function(t){return e.apply(this,arguments)}}();e.handleVisibilityChange=function(t){var n=e.props,r=n.onGuildCardSeen,o=n.guild;if(null!=o&&!e.state.hasBeenSeen&&t){e.setState({hasBeenSeen:t});null!=r&&r(o.id)}};e.handleContextMenu=function(t){var o=W6(e);(0,db.jW)(t,q6((function(){var e,t;return i5(this,(function(i){switch(i.label){case 0:return[4,Promise.resolve().then(n.bind(n,395810))];case 1:e=i.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,e5(J6({},e),{guild:o.props.guild}))}]}}))})))};e.setIsVisible=function(t){e.setState({isVisible:t})}
;return e}var i=o.prototype;i.getDefaultSplashURL=function(e,t){if(t)return z6();switch(e){case R.BRd.DARK:return H6();case R.BRd.LIGHT:return F6()}};i.render=function(){var e,t=this,n=this.props,o=n.guild,i=n.className,a=n.theme,s=n.onTagClick,l=this.state,c=l.loaded,u=l.hasBeenSeen,f=l.isVisible,d=l.submitting,p=o.name,h=o.description,E=o.presenceCount,y=o.memberCount,m=o.keywords,b=null===(e=o.features)||void 0===e?void 0:e.has(R.oNc.HUB),g=zs.ZP.getGuildDiscoverySplashURL({id:o.id,splash:o.discoverySplash,size:300*(0,D6.x_)()}),O=null!=g?g:this.getDefaultSplashURL(a,b),v=zs.ZP.getGuildIconURL({id:o.id,icon:o.icon,size:40});a6.trackExposure({});var _=a6.getCurrentConfig({}).shouldDisplayTags,I=N6.N.getCurrentConfig({}).canSeeInAppReportingButtons;N6.N.trackExposure({});var S,T,N=ut.Sb.getSetting()||I;return(0,r.jsx)(d6.$,{active:!f,onChange:this.setIsVisible,threshold:.1,children:f?(0,r.jsx)(d6.$,{onChange:this.handleVisibilityChange,active:!u,threshold:.55,children:(0,
r.jsxs)("div",{className:$p()(i,(S={},Q6(S,G6().loaded,c),Q6(S,G6().loading,!c),S)),children:[d?(0,r.jsx)(K.$j,{type:K.$j.Type.PULSING_ELLIPSIS,className:G6().spinner}):null,(0,r.jsxs)(K.P3,{onClick:this.handleClickView,className:$p()(G6().card,(T={},Q6(T,G6().submitting,d),Q6(T,G6().cardWithTags,_),T)),onContextMenu:this.handleContextMenu,children:[(0,r.jsxs)("div",{className:G6().cardHeader,children:[(0,r.jsx)("div",{className:G6().splash,children:(0,r.jsx)("img",{src:O,alt:"",className:$p()(G6().splashImage,Q6({},G6().splashImageHeight,!b)),onLoad:function(){return t.setState({loaded:!0})}})}),N?(0,r.jsx)("div",{className:G6().actionButtons,children:(0,r.jsx)(L6,{guild:o})}):null,(0,r.jsx)("div",{className:G6().guildIcon,children:(0,r.jsx)(U6.ZP,{mask:U6.ZP.Masks.SQUIRCLE,width:48,height:48,children:(0,r.jsx)("div",{className:G6().iconMask,children:(0,r.jsx)(U6.ZP,{mask:U6.ZP.Masks.SQUIRCLE,width:40,height:40,children:(0,r.jsx)("img",{src:v,alt:"",className:G6().avatar})})})})})]
}),(0,r.jsxs)("div",{className:G6().guildInfo,children:[(0,r.jsxs)("div",{className:G6().title,children:[(0,r.jsx)(hN.Z,{className:G6().guildBadge,guild:o,tooltipColor:qb.ZP.Colors.PRIMARY}),(0,r.jsx)(K.X6,{variant:"heading-md/semibold",className:G6().guildName,children:p})]}),(0,r.jsx)(K.xv,{className:G6().description,variant:"text-sm/normal",color:"header-secondary",children:h}),_&&m&&s&&(0,r.jsx)(T6,{tags:m,onTagClick:function(e){return s(e,o.id)},guildId:o.id,section:LJ.P1.POPULAR}),(0,r.jsxs)("div",{className:G6().memberInfo,children:[null!=E&&(0,r.jsxs)("div",{className:G6().memberCount,children:[(0,r.jsx)("div",{className:G6().dotOnline}),(0,r.jsx)(K.xv,{variant:"text-xs/normal",color:"header-secondary",children:J.Z.Messages.INSTANT_INVITE_GUILD_MEMBERS_ONLINE.format({membersOnline:E})})]}),null!=y&&(0,r.jsxs)("div",{className:G6().memberCount,children:[(0,r.jsx)("div",{className:G6().dotOffline}),(0,r.jsx)(K.xv,{variant:"text-xs/normal",color:"header-secondary",
children:J.Z.Messages.INSTANT_INVITE_GUILD_MEMBERS_TOTAL.format({count:y})})]})]})]})]})]})}):(0,r.jsx)("div",{className:$p()(G6().card,Q6({},G6().cardWithTags,_))})})};return o}(o.PureComponent);a5.Placeholder=function(e){return(0,r.jsx)("div",{className:$p()(e.className,G6().cardPlaceholder)})};const s5=a5;function l5(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c5(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l5(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l5(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var u5=n(922179),f5=n.n(u5);function d5(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}var p5=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:
a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},h5=[[1696,20],[1432,16],[1168,12],[0,8]],E5=[[1696,30],[1432,24],[1168,18],[0,12]];const y5=function(e){var t=e.title,n=e.subtitle,i=e.guildsData,a=e.analyticsContext,s=e.theme,l=e.onViewGuild,c=e.fetchGuilds,u=e.onGuildCardSeen,f=e.currentCategoryId,d=e.loadId,p=e.onTagClick,h=e.showMoreCards,E=void 0!==h&&h;o.useEffect((function(){g.Z.wait((function(){return c()}))}),[f]);var y=function(e){var t=c5(o.useState(0),2),n=t[0],r=t[1],i=o.useCallback((function(){
var t=window.innerWidth,n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var l=c5(a.value,2),c=l[0],u=l[1];if(t>=c){r(u);return}}}catch(e){o=!0;i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}}),[e]);o.useEffect((function(){i()}),[i]);o.useEffect((function(){window.addEventListener("resize",i);return function(){window.removeEventListener("resize",i)}}));return n}(E?E5:h5),m=(0,lw.Z)().analyticsLocations;if(null==i)return null;var b=i.guilds,O=i.loading,v=null==b||0===b.length;if(!O&&v)return null;var _,I=function(){var e,t=(e=function(e){var t;return p5(this,(function(n){switch(n.label){case 0:if(!(0,u6.yU)())return[3,1];(0,f6.Z)({analyticsSource:{page:R.ZY5.GUILD_DISCOVERY},analyticsLocation:{page:R.ZY5.GUILD_DISCOVERY,section:R.jXE.GUILD_CAP_UPSELL_MODAL},analyticsLocations:m});return[3,3];case 1:t=b.findIndex((function(t){return t.id===e}));return[4,l(e,t,a,d)];case 2:n.sent();n.label=3;case 3:return[2]}}))},function(){
var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){d5(i,r,o,a,s,"next",e)}function s(e){d5(i,r,o,a,s,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}();if(O||null==b){for(var S=[],T=0;T<y;T++)S.push((0,r.jsx)(s5.Placeholder,{},T));_=S}else _=b.slice(0,y).map((function(e){return(0,r.jsx)(s5,{className:f5().guildCard,guild:e,onView:I,theme:s,onGuildCardSeen:u,onTagClick:p},e.id)}));return(0,r.jsx)("section",{className:f5().guildListSection,children:(0,r.jsxs)(K.y5,{component:(0,r.jsx)(K.X6,{className:f5().title,variant:"heading-lg/semibold",children:t}),children:[null!=n&&(0,r.jsx)(K.xv,{className:f5().subtitle,variant:"text-sm/normal",color:"header-secondary",children:n}),(0,r.jsx)("div",{className:f5().guildList,children:_})]})})};function m5(e){m5=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return m5(e)}function b5(e,t){
return!t||"object"!==O5(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g5(e,t){g5=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return g5(e,t)}var O5=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function v5(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=m5(e);if(t){var o=m5(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b5(this,n)}}var _5=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{
value:e,writable:!0,configurable:!0}});t&&g5(e,t)}(n,e);var t=v5(n);function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r;(r=t.call(this,e)).handlePageChange=function(e){var t=r.props.onPageChange;r.setState({currentPage:e});null!=t&&t(e)};var o=(0,q.s1)().location.search,i=(null!=o&&o.length>0&&o.startsWith("?")?dc.parse(o):{}).offset,a=null!=i?Math.floor(parseInt(i,10)/e.pageSize)+1:1;r.state={currentPage:a};return r}var o=n.prototype;o.componentDidUpdate=function(e){var t=this.props.resetCurrentPage;!e.resetCurrentPage&&t&&this.setState({currentPage:1})};o.render=function(){var e=this.props,t=e.totalCount,n=e.pageSize,o=e.maxVisiblePages,i=e.children,a=this.state.currentPage;return i({controller:(0,r.jsx)(K.Ds,{totalCount:t,pageSize:n,currentPage:a,maxVisiblePages:o,onPageChange:this.handlePageChange})})};return n}(o.PureComponent);const I5=_5
;var S5=n(240613),T5=n(841372),N5=n(269972),C5=n(659086),A5=n(478483),P5=n.n(A5);function j5(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x5(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function R5(e){R5=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return R5(e)}function M5(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function w5(e,t){return!t||"object"!==D5(t)&&"function"!=typeof t?function(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Z5(e,t){Z5=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Z5(e,t)}function L5(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return j5(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j5(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var D5=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function U5(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=R5(e);if(t){var o=R5(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w5(this,n)}}var k5=os().throttle(LJ.c6,1e3,{leading:!1,trailing:!0}),G5=function(e){var t=e.isSelected,n=e.onCategoryChange,o=e.categoryId,i=e.name,a=e.count;return(0,r.jsx)(K.P3,{onClick:function(){return n(o)},className:$p()(P5().categoryPill,x5({},P5().selected,t)),children:(0,r.jsx)(K.xv,{
className:P5().categoryLabel,variant:"text-sm/normal",children:null!=a?"".concat(i," (").concat(a,")"):i})})},B5=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Z5(e,t)}(n,e);var t=U5(n);function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r;(r=t.call(this,e))._searchRef=o.createRef();r.canSearch=function(e){return e.trim().length>=2&&!(0,S5.x)(e)};r.doSearch=function(e,t,n,o){var i,a=r.props,s=a.defaultLanguage,l=a.currentCategoryId,c=r.state,u=c.query,f=c.selectedLanguage,d={approximate_member_count:LJ.sq};o&&UK.G7(u,d);r.setState({searchId:(0,s6.P)(),queryHasChanged:!1,isSearching:!0});UK.bR(u,{categoryId:null==n?l:n,preferredLocale:null!==(i=null==f?void 0:f.code)&&void 0!==i?i:s.code,offset:e,length:t,filters:d})}
;r.handleSearchBlurred=function(e){var t=r.props.onSearchBlur;r.setState({inputFocused:!1});null==t||t()};r.handleSearchKeyPress=function(e){var t=r.state,n=t.query,o=t.queryHasChanged,i=r.props,a=i.loadId,s=i.currentCategoryId,l=s!==C5.Hk?s:null;if(r.canSearch(n)&&o&&e.charCode===R.yXg.ENTER){LJ.tI(a,l);r.doSearch(0,12,void 0,!0)}else 0===n.length&&e.charCode===R.yXg.ENTER&&r.setState({isSearching:!1})};r.handleQueryChanged=function(e){r.setState({query:e,queryHasChanged:!0})};r.handleQueryCleared=function(){r.setState({query:"",queryHasChanged:!0,isSearching:!1})};r.handleLanguageChange=function(e){var t=r.props,n=t.mostRecentQuery,o=t.availableLanguages,i=null==o?void 0:o.find((function(t){return t.name===e}));r.setState({selectedLanguage:i},(function(){r.canSearch(n)&&r.doSearch(0,12)}))};r.handleCategoryChange=function(e){var t=r.props.mostRecentQuery;UK.uY(e);r.canSearch(t)&&r.doSearch(0,12,e)};r.handleFocus=function(){var e=r.props.onSearchFocus;r.setState({inputFocused:!0})
;null==e||e()};r.focusInput=function(){var e;null===(e=r._searchRef.current)||void 0===e||e.focus()};r.state={searchId:(0,s6.P)(),query:e.isSearchPage?e.mostRecentQuery:"",queryHasChanged:!1,isSearching:!1,selectedLanguage:e.defaultLanguage,inputFocused:!1,isHandlingTagSearch:e.isTagSearch||!1};return r}var i=n.prototype;i.componentDidMount=function(){var e=this.props,t=e.loadId,n=e.searchResults,r=e.currentCategoryId,o=this.state,i=o.searchId,a=o.query,s=o.isHandlingTagSearch,l=this.context;null==T5.ZP.getSearchIndex()&&UK.Ue();Dc.S.subscribe(R.CkL.GLOBAL_CLIPBOARD_PASTE,this.focusInput);Dc.S.subscribe(R.CkL.TEXTAREA_FOCUS,this.focusInput);if(a.length>0){var c=r!==C5.Hk?r:null;k5({loadId:t,searchId:i,query:a,guildResults:n.guilds,analyticsContext:l,categoryId:c,isTagSearch:s})}};i.componentDidUpdate=function(e,t){
var n=this.props,r=n.loadId,o=n.isFetchingSearch,i=n.searchResults,a=n.currentCategoryId,s=n.mostRecentQuery,l=this.state,c=l.isSearching,u=l.searchId,f=l.query,d=l.isHandlingTagSearch,p=this.context,h=e.isFetchingSearch&&!o,E=a!==C5.Hk?a:null;if((c||d)&&h){k5({loadId:r,searchId:u,query:f,guildResults:i.guilds,analyticsContext:p,categoryId:E,isTagSearch:d});this.setState({isHandlingTagSearch:!1})}!t.isSearching&&c&&LJ.tI(r,E,p);e.mostRecentQuery!==s&&this.setState({query:s,searchId:(0,s6.P)(),isHandlingTagSearch:!0})};i.componentWillUnmount=function(){Dc.S.unsubscribe(R.CkL.GLOBAL_CLIPBOARD_PASTE,this.focusInput);Dc.S.unsubscribe(R.CkL.TEXTAREA_FOCUS,this.focusInput)};i.renderSearchOptions=function(){var e=this.props.availableLanguages,t=this.state.selectedLanguage;if(null==e)return null;var n,o=e.map((function(e){var t=e.name;return{label:t,value:t}}));return(0,r.jsx)(K.q4,{className:P5().languageSelector,options:o,value:null!==(n=null==t?void 0:t.name)&&void 0!==n?n:"",
onChange:this.handleLanguageChange,maxVisibleItems:6})};i.renderCategories=function(){var e=this,t=this.props,n=t.currentCategoryId,o=t.countsByCategory;return(0,r.jsx)("div",{className:P5().categories,children:null==o?void 0:o.map((function(t){var o=L5(t,2),i=o[0],a=o[1];return(0,r.jsx)(G5,{categoryId:i,name:i===C5.Hk?J.Z.Messages.GUILD_DISCOVERY_ALL_CATEGORY_FILTER:c6.Z.getCategoryName(i),onCategoryChange:e.handleCategoryChange,isSelected:n===i,count:a},i)}))})};i.render=function(){var e=this.state,t=e.query,n=e.inputFocused,o=this.props,i=o.placeholder,a=o.isSearchPage;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:$p()(P5().container,x5({},P5().searchPage,a)),children:[(0,r.jsx)("div",{className:P5().search,children:(0,r.jsx)(N5.Z,{ref:this._searchRef,searchTerm:t,className:a?void 0:P5().searchBox,inputClassName:a?void 0:P5().searchBoxInput,closeIconClassName:a?void 0:P5().closeIcon,searchIconClassName:a?void 0:P5().searchIcon,
label:J.Z.Messages.GUILD_DISCOVERY_SEARCH_LABEL,placeholder:i,onChange:this.handleQueryChanged,onClear:this.handleQueryCleared,onFocus:this.handleFocus,onBlur:this.handleSearchBlurred,onKeyPress:this.handleSearchKeyPress,autoFocus:!a,cta:n&&null!=t&&t.length>1?J.Z.Messages.GUILD_DISCOVERY_SEARCH_ENTER_CTA:null})}),a?this.renderSearchOptions():null]}),a?this.renderCategories():null]})};return n}(o.PureComponent);B5.contextType=Te.AnalyticsContext;function H5(e){var t=(0,s.e7)([c6.Z],(function(){return c6.Z.getDiscoveryCategories()}),[],c6.j),n=(0,s.e7)([T5.ZP],(function(){return T5.ZP.getTopCategoryCounts(e.mostRecentQuery)}));return(0,r.jsx)(B5,M5(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){x5(e,t,n[t])}))}return e}({},e),{
categories:t,countsByCategory:n}))}var V5=n(895889),F5=n.n(V5);function Y5(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function z5(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function W5(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){z5(i,r,o,a,s,"next",e)}function s(e){z5(i,r,o,a,s,"throw",e)}a(void 0)}))}}function K5(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function q5(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){
Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function X5(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Y5(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y5(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Q5=function(e,t){var n,r,o,i,a={label:0,
sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{
value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};var $5=function(){return(0,r.jsx)("div",{className:F5().placeholder})};const J5=function(e){var t,i=e.guild,a=e.theme,s=e.onView,l=e.onTagClick,c=i.id,u=i.discoverySplash,f=i.icon,d=i.name,p=i.description,h=i.presenceCount,E=i.memberCount,y=i.keywords,m=X5(o.useState(!1),2),b=m[0],g=m[1],O=X5(o.useState(!1),2),v=O[0],_=O[1],I=(0,lw.Z)().analyticsLocations,S=zs.ZP.getGuildDiscoverySplashURL({id:c,splash:u,size:240*(0,D6.x_)()}),T=null!=S?S:function(e){switch(e){case R.BRd.DARK:return H6();case R.BRd.LIGHT:return F6()}}(a),N=null!==(t=zs.ZP.getGuildIconURL({id:c,icon:f,size:32}))&&void 0!==t?t:void 0,C=function(){var e=W5((function(e){return Q5(this,(function(t){switch(t.label){case 0:if(e.target.className.includes("Menu"))return[2];if((0,u6.yU)()){(0,f6.Z)({analyticsSource:{page:R.ZY5.GUILD_DISCOVERY},analyticsLocation:{page:R.ZY5.GUILD_DISCOVERY,section:R.jXE.GUILD_CAP_UPSELL_MODAL},analyticsLocations:I});return[2]}_(!0);t.label=1;case 1:
t.trys.push([1,,4,5]);return null!=s?[4,s(i.id)]:[3,3];case 2:t.sent();t.label=3;case 3:return[3,5];case 4:_(!1);return[7];case 5:return[2]}}))}));return function(t){return e.apply(this,arguments)}}();o.useEffect((function(){return a6.trackExposure({})}));var A,P=a6.useExperiment({}).shouldDisplayTags,j=(0,N6.I)();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:F5().card,children:[v?(0,r.jsx)(K.$j,{type:K.$j.Type.PULSING_ELLIPSIS,className:F5().spinner}):null,(0,r.jsxs)(K.P3,{className:$p()(F5().container,(A={},K5(A,F5().hover,b),K5(A,F5().submitting,v),A)),onClick:C,onContextMenu:function(e){(0,db.jW)(e,W5((function(){var e,t;return Q5(this,(function(o){switch(o.label){case 0:return[4,Promise.resolve().then(n.bind(n,395810))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,q5(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){K5(e,t,n[t])}))}return e}({},e),{guild:i}))}]}}))})))},onMouseEnter:function(){return g(!0)},onMouseLeave:function(){return g(!1)},children:[(0,r.jsx)("div",{className:$p()(F5().splashContainer,K5({},F5().splashContainerWithTags,P)),children:(0,r.jsx)("img",{src:T,alt:"",className:F5().splashImage,width:240})}),(0,r.jsxs)("div",{className:$p()(F5().content,K5({},F5().contentWithTags,P)),children:[(0,r.jsxs)("div",{className:F5().header,children:[(0,r.jsx)(U6.ZP,{mask:U6.ZP.Masks.SQUIRCLE,width:32,height:32,children:(0,r.jsx)("img",{src:N,alt:"",className:F5().avatar})}),(0,r.jsxs)("div",{className:F5().headerName,children:[(0,r.jsx)(hN.Z,{guild:i,className:F5().guildBadge}),(0,r.jsx)(K.X6,{variant:"heading-md/semibold",className:F5().headerTitle,children:d})]})]}),(0,r.jsx)(K.xv,{
className:F5().description,variant:"text-sm/normal",children:p}),P&&y&&l&&(0,r.jsx)(T6,{guildId:i.id,discoveryTagStyle:S6.ALT,onTagClick:function(e){return l(e,i.id)},tags:y,section:LJ.P1.SEARCH}),(0,r.jsxs)("div",{className:F5().memberInfo,children:[null!=h&&(0,r.jsx)("div",{className:F5().memberCount,children:(0,r.jsx)(K.xv,{variant:"text-xs/normal",color:"header-secondary",children:J.Z.Messages.INSTANT_INVITE_GUILD_MEMBERS_ONLINE.format({membersOnline:h})})}),null!=E&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:F5().dotSeparator}),(0,r.jsx)("div",{className:F5().memberCount,children:(0,r.jsx)(K.xv,{variant:"text-xs/normal",color:"header-secondary",children:J.Z.Messages.INSTANT_INVITE_GUILD_MEMBERS_TOTAL.format({count:E})})})]})]})]}),j?(0,r.jsx)("div",{className:F5().actionButtons,children:(0,r.jsx)(L6,{guild:i})}):null]})]}),(0,r.jsx)("hr",{className:F5().separator})]})};var e7=n(599884),t7=n.n(e7);function n7(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function r7(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function o7(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){r7(i,r,o,a,s,"next",e)}function s(e){r7(i,r,o,a,s,"throw",e)}a(void 0)}))}}function i7(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a7(e){a7=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return a7(e)}function s7(e,t){return!t||"object"!==c7(t)&&"function"!=typeof t?n7(e):t}function l7(e,t){l7=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l7(e,t)}var c7=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function u7(e){var t=function(){
if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=a7(e);if(t){var o=a7(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s7(this,n)}}var f7=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0]
;continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},d7=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&l7(e,t)}(n,e);var t=u7(n);function n(){i7(this,n);var e,o=n7(e=t.apply(this,arguments));e.handleViewGuild=function(){var e=o7((function(e){var t,n,r,i,a;return f7(this,(function(s){switch(s.label){case 0:t=o.props,n=t.guilds,r=t.analyticsContext,i=t.onViewGuild;a=n.findIndex((function(t){
return t.id===e}));return[4,i(e,a,r)];case 1:s.sent();return[2]}}))}));return function(t){return e.apply(this,arguments)}}();e.renderGuild=function(t,n){var o=e.props,i=o.theme,a=o.onTagClick;return(0,r.jsx)(J5,{guild:t,theme:i,onView:e.handleViewGuild,onTagClick:a},n)};return e}var o=n.prototype;o.renderPlaceholders=function(){for(var e=this.props.loadingPlaceholderCount,t=[],n=0;n<e;n++)t.push((0,r.jsx)($5,{},n));return t};o.render=function(){var e=this,t=this.props,n=t.guilds,o=t.loading;return(0,r.jsx)(sm.Spring,{from:{opacity:o?0:1},to:{opacity:1},delay:100,children:function(t){return(0,r.jsx)(sm.animated.div,{className:t7().guildList,style:t,children:o||null==n?e.renderPlaceholders():n.map(e.renderGuild)})}})};return n}(o.PureComponent);d7.defaultProps={loadingPlaceholderCount:12};const p7=d7;var h7=n(691288),E7=n.n(h7);function y7(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m7(e,t){return function(e){
if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y7(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y7(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var b7=12,g7=function(){var e=(0,q.s1)().location.search;return null!=e&&e.length>0&&e.startsWith("?")?dc.parse(e):{}},O7=function(e){
var t=e.categoryId,n=e.categoryName,o=e.onClick,i=t===C5.Hk,a=i?J.Z.Messages.GUILD_DISCOVERY_SEARCH_EMPTY_HEADER:J.Z.Messages.GUILD_DISCOVERY_SEARCH_EMPTY_CATEGORY_HEADER.format({categoryName:n}),s=i?J.Z.Messages.GUILD_DISCOVERY_SEARCH_EMPTY_BODY:J.Z.Messages.GUILD_DISCOVERY_SEARCH_EMPTY_CATEGORY_BODY.format({onClick:o});return(0,r.jsxs)("div",{className:E7().emptyContainer,children:[(0,r.jsx)("div",{className:E7().emptyImage}),(0,r.jsx)(K.X6,{variant:"heading-xl/semibold",className:E7().emptyHeader,children:a}),(0,r.jsx)(K.xv,{variant:"text-md/normal",color:"header-secondary",children:s})]})},v7=function(){return(0,r.jsxs)("div",{className:E7().emptyContainer,children:[(0,r.jsx)("div",{className:E7().errorImage}),(0,r.jsx)(K.xv,{variant:"text-md/normal",color:"header-secondary",className:E7().emptyHeader,children:J.Z.Messages.GUILD_DISCOVERY_SEARCH_ERROR})]})};const _7=function(e){
var t=e.loadId,n=e.searchResults,i=e.mostRecentQuery,a=e.defaultLanguage,l=e.availableLanguages,c=e.isFetchingSearch,u=e.scroller,f=e.loadingGuildId,d=e.theme,p=e.currentCategoryId,h=e.currentCategoryName,E=e.onViewGuild,y=e.onGuildCardSeen,m=e.placeholder,b=e.onTagClick,g=os().uniqueId("GuildDiscovery"),O=n.guilds,v=n.loading,_=n.total,I=m7(o.useState(!1),2),S=I[0],T=I[1],N=g7().tag,C=m7(o.useState(N),2),A=C[0],P=C[1],j=(0,s.e7)([T5.ZP],(function(){return T5.ZP.hasSearchError()})),x=function(e,t,n){UK.bR(i,{categoryId:n?C5.Hk:p,preferredLocale:a.code,offset:e,length:t,filters:{approximate_member_count:LJ.sq}});T(!1)};o.useEffect((function(){var e=g7(),t=e.offset,n=e.tag,r=null!=t?Math.floor(parseInt(t,10)/b7)+1:1;P(!!n);1===r&&T(!0)}),[i]);var R=p===C5.Hk?J.Z.Messages.GUILD_DISCOVERY_SEARCH_RESULTS_HEADER.format({count:null!=_?_.toLocaleString():"0",query:i}):J.Z.Messages.GUILD_DISCOVERY_SEARCH_RESULTS_CATEGORY_HEADER.format({count:null!=_?_.toLocaleString():"0",query:i,category:h})
;return(0,r.jsxs)("div",{className:E7().container,children:[(0,r.jsxs)("div",{className:E7().searchHeader,children:[(0,r.jsx)(K.P3,{onClick:function(){UK.AQ();LJ.IZ(t)},className:E7().arrow,"aria-label":J.Z.Messages.BACK,children:(0,r.jsx)(KR.Z,{direction:KR.Z.Directions.LEFT})}),(0,r.jsx)(K.X6,{variant:"heading-xl/semibold",className:E7().header,children:R})]}),(0,r.jsx)(H5,{loadId:t,searchResults:n,mostRecentQuery:i,isFetchingSearch:c,defaultLanguage:a,placeholder:m,availableLanguages:l,isSearchPage:!0,currentCategoryId:p,isTagSearch:A}),j?(0,r.jsx)(v7,{}):_<=0?(0,r.jsx)(O7,{categoryId:p,categoryName:h,onClick:function(){UK.uY(C5.Hk);x(0,b7,!0)}}):(0,r.jsx)("div",{className:E7().results,children:(0,r.jsx)(I5,{pageSize:b7,totalCount:_,resetCurrentPage:S,onPageChange:function(e){x((e-1)*b7,b7);null==u||u.scrollTo({to:0})},children:function(e){var t=e.controller;return(0,r.jsxs)("section",{"aria-labelledby":g,children:[(0,r.jsx)(p7,{guilds:O,loading:v,loadingPlaceholderCount:b7,
onViewGuild:E,loadingGuildId:f,theme:d,analyticsContext:LJ.P1.SEARCH,onGuildCardSeen:y,onTagClick:b}),t]})}})})]})};var I7=n(224244);function S7(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function T7(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return S7(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S7(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var N7=n(773022),C7=n.n(N7);function A7(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function P7(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){A7(i,r,o,a,s,"next",e)}function s(e){A7(i,r,o,a,s,"throw",e)}a(void 0)}))}}function j7(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var x7=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,
r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};const R7=function(e){var t=e.hasHub;return(0,r.jsxs)("div",{className:C7().container,children:[(0,r.jsx)("div",{className:C7().iconContainer,children:(0,r.jsx)("div",{className:C7().icon})}),(0,r.jsx)(K.xv,{color:"header-primary",variant:"text-lg/semibold",className:C7().header,
children:t?J.Z.Messages.HUB_EMAIL_CONNECTION_ADD_HEADER:J.Z.Messages.HUB_EMAIL_CONNECTION_JOIN_HEADER}),(0,r.jsx)(K.xv,{color:"header-secondary",variant:"text-sm/normal",className:C7().description,children:t?J.Z.Messages.HUB_EMAIL_CONNECTION_ADD_DESCRIPTION:J.Z.Messages.HUB_EMAIL_CONNECTION_JOIN_CARD_DESCRIPTION}),(0,r.jsx)("div",{className:C7().gap}),(0,r.jsx)(K.zx,{size:K.zx.Sizes.LARGE,color:t?K.zx.Colors.PRIMARY:K.zx.Colors.GREEN,onClick:function(){return(0,Y.ZD)(P7((function(){var e,t;return x7(this,(function(o){switch(o.label){case 0:return[4,Promise.resolve().then(n.bind(n,553589))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){j7(e,t,n[t])}))}return e}({},e))
}]}}))})))},children:(0,r.jsx)(K.xv,{variant:"text-sm/semibold",className:C7().addButton,color:"none",children:t?J.Z.Messages.HUB_EMAIL_CONNECTION_JOIN_ANOTHER:J.Z.Messages.HUB_EMAIL_CONNECTION_JOIN_MY_SCHOOOL})})]})};var M7=n(258199),w7=n.n(M7);function Z7(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function L7(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Z7(e,t,n[t])}))}return e}function D7(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}const U7=function(e){var t=e.guilds,n=(0,s.e7)([ct.Z],(function(){return ct.Z.theme})),o=t.map((function(e){return(0,r.jsx)(s5,{className:w7().guildCard,onView:function(){return u.Z.transitionToGuildSync(e.id)},guild:D7(L7({},e),{presenceCount:void 0,memberCount:void 0,premiumSubscriptionCount:void 0,emojis:void 0}),theme:n},e.id)}));return(0,r.jsx)("section",{className:w7().guildListSection,children:t.length>0?(0,r.jsxs)("div",{children:[(0,r.jsx)(K.X6,{className:w7().title,variant:"heading-lg/semibold",children:J.Z.Messages.YOUR_HUB}),(0,r.jsxs)("div",{className:w7().guildList,children:[o,(0,r.jsx)(R7,{hasHub:!0})]})]}):(0,r.jsx)("div",{className:w7().guildList,children:(0,r.jsx)(R7,{hasHub:!1})})})};var k7=n(250926),G7=n.n(k7),B7=n(237018),H7=n.n(B7);const V7=function(e){var t=e.loadId,n=(0,
s.e7)([Ut.Z],(function(){var e=Ut.Z.getGuilds();return Object.entries(e).filter((function(e){var t=T7(e,2);t[0];return t[1].hasFeature(R.oNc.HUB)})).map((function(e){var t=T7(e,2);t[0];return t[1]}))}));o.useEffect((function(){(0,LJ.Zt)({loadId:t,gamesYouPlayGuilds:[],allGuilds:[],categoryId:C5.U})}),[t]);(0,bm.Tt)({subsection:J.Z.Messages.HUB_SCHOOL_HUBS,location:J.Z.Messages.HUB_DIRECTORY_SEARCH_TITLE});return(0,r.jsx)(nE.ZP,{className:G7().scroller,children:(0,r.jsxs)("div",{className:G7().viewWrapper,children:[(0,r.jsxs)("div",{className:G7().headerContainer,children:[(0,r.jsx)("img",{alt:"",className:G7().headerImage,src:H7()}),(0,r.jsxs)("div",{className:G7().headerContent,children:[(0,r.jsx)(K.X6,{className:G7().headerText,variant:"heading-xl/semibold",children:J.Z.Messages.HUB_DIRECTORY_SEARCH_TITLE}),(0,r.jsx)(K.xv,{className:G7().headerDescription,variant:"text-md/normal",color:"none",children:J.Z.Messages.HUB_DIRECTORY_SEARCH_SUBTITLE})]})]}),(0,r.jsx)(U7,{guilds:n}),(0,
r.jsx)("div",{className:G7().divider}),(0,r.jsx)(K.xv,{className:G7().footerDescription,variant:"text-md/medium",color:"header-secondary",children:J.Z.Messages.HUB_DISCOVERY_FOOTER_DESCRIPTION})]})})};var F7=n(277499),Y7=n(80210),z7=n.n(Y7),W7=n(333993),K7=n.n(W7);function q7(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function X7(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function Q7(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){X7(i,r,o,a,s,"next",e)}function s(e){X7(i,r,o,a,s,"throw",e)}a(void 0)}))}}function $7(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J7(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function e8(e){e8=Object.setPrototypeOf?Object.getPrototypeOf:function(e){
return e.__proto__||Object.getPrototypeOf(e)};return e8(e)}function t8(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){J7(e,t,n[t])}))}return e}function n8(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function r8(e,t){return!t||"object"!==i8(t)&&"function"!=typeof t?q7(e):t}function o8(e,t){o8=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e}
;return o8(e,t)}var i8=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function a8(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=e8(e);if(t){var o=e8(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return r8(this,n)}}var s8=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),
0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},l8=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&o8(e,t)}(n,e);var t=a8(n);function n(){$7(this,n);var e;(e=t.apply(this,arguments))._scroller=o.createRef()
;e._guildIdsSeen=new Set;e.loadId=(0,s6.P)();e.state={animatedValue:new Zi.Z.Value(0),loadingGuildId:null};e.scrollToTop=function(){null!=e._scroller.current&&e._scroller.current.scrollTo({to:0})};e.handleScroll=function(){var t,n,r=e.state.animatedValue,o=null!==(n=null===(t=e._scroller.current)||void 0===t?void 0:t.getScrollerState().scrollTop)&&void 0!==n?n:0;r.setValue(Math.min(1,o/200))};var r=q7(e);e.handleViewGuild=function(){var e=Q7((function(e,t,n,o){var i,a,s,l,c,u,f;return s8(this,(function(d){switch(d.label){case 0:a=r.props.currentCategoryId;s=r.state.loadingGuildId;if(e===s)return[2];c=null!==(l=null===(i=r._scroller.current)||void 0===i?void 0:i.getScrollerState().scrollTop)&&void 0!==l?l:0;u=(0,q.s1)().location;(0,q.dL)(n8(t8({},u),{state:c}));r.setState({loadingGuildId:e});f=a!==C5.Hk?a:null;d.label=1;case 1:d.trys.push([1,3,,4]);return[4,LJ.Lq({loadId:null!=o?o:r.loadId,guildId:e,index:t,analyticsContext:n,categoryId:f})];case 2:d.sent();return[3,4];case 3:d.sent()
;r.setState({loadingGuildId:null});return[3,4];case 4:return[2]}}))}));return function(t,n,r,o){return e.apply(this,arguments)}}();e.handleGuildCardSeen=function(t){e._guildIdsSeen.add(t)};e.handleTagSearch=function(t,n,r){var o=e.props,i=o.currentCategoryId,a=o.defaultLanguage;if(null!=i){var s={approximate_member_count:LJ.sq};(0,UK.G7)(t,s);(0,UK.bR)(t,{filters:s,categoryId:i,preferredLocale:a.code,offset:0,length:b7,tag:!0});LJ.j$(e.loadId,i,r,n);e.scrollToTop()}};return e}var i=n.prototype;i.componentDidMount=function(){var e,t=this.props,n=t.isFetching,r=t.guilds,o=r.gamesYouPlay,i=r.featured,a=t.searchRoute,s=t.currentHomepageCategoryId,l=t.mostRecentQuery;(0,s1.N)();(0,l6.le)();null==T5.ZP.getSearchIndex()&&(0,UK.Ue)();g.Z.wait((function(){e=R.x8Z.SERVER_DISCOVERY_BADGE,g.Z.dispatch({type:"VIEW_HISTORY_MARK_VIEW",key:e});var e}));n||0!==l.length||LJ.Zt({loadId:this.loadId,gamesYouPlayGuilds:o.guilds,allGuilds:i.guilds,categoryId:s});if(null!=a){
var c=dc.parse(a),u=c.query,f=c.offset,d=c.limit,p=c.preferredLocale,h=c.categoryId;(0,UK.bR)(u,{categoryId:parseInt(h,10),preferredLocale:p,offset:parseInt(f,10),filters:{approximate_member_count:LJ.sq},length:parseInt(d,10)})}else null!=s&&s!==C5.Hk&&g.Z.wait((function(){return(0,UK.uY)(s)}));var E,y=null!==(E=null===(e=(0,q.s1)().location.state)||void 0===e?void 0:e.scrollTop)&&void 0!==E?E:0;if(y>0){var m;null===(m=this._scroller.current)||void 0===m||m.scrollTo({to:y})}(0,SH.e)("guild_discovery")};i.componentDidUpdate=function(e){var t=this.props,n=t.guilds,r=n.gamesYouPlay,o=n.featured,i=t.isFetching,a=t.mostRecentQuery,s=t.currentHomepageCategoryId,l=t.currentCategoryId;e.isFetching&&!i&&LJ.Zt({loadId:this.loadId,gamesYouPlayGuilds:r.guilds,allGuilds:o.guilds,categoryId:s});if(e.currentCategoryId!==l){var c;null===(c=this._scroller.current)||void 0===c||c.scrollTo({to:0})}e.currentCategoryId!==l&&LJ.Az(this.loadId,Array.from(this._guildIdsSeen))
;e.mostRecentQuery.length>0&&a.length<1&&s!==l&&(0,UK.uY)(s)};i.componentWillUnmount=function(){var e=this.props,t=e.currentCategoryId,n=e.recommendationsLoadId,r=e.recommendationsGuilds;t===C5.Hk?null!=r&&null!=n&&LJ.Az(n,this.getOrderedGuildIdsSeen(r.map((function(e){return e.id}))),"Game Recommendations"):LJ.Az(this.loadId,Array.from(this._guildIdsSeen))};i.getOrderedGuildIdsSeen=function(e){var t=this;return e.filter((function(e){return t._guildIdsSeen.has(e)}))};i.renderGamesYouPlay=function(){var e=this.props,t=e.guilds,n=e.mightHaveGamesYouPlay,o=e.theme,i=e.userGuilds,a=Object.keys(i),s=t[R.Lcj.GAMES_YOU_PLAY];s.guilds=s.guilds.filter((function(e){return!a.includes(e.id)}));var l=this.state.loadingGuildId;return n?(0,r.jsx)(y5,{loadId:this.loadId,title:J.Z.Messages.GUILD_DISCOVERY_HEADER_GAMES_YOU_PLAY,guildsData:s,loadingGuildId:l,analyticsContext:LJ.P1.RECOMMENDED,onViewGuild:this.handleViewGuild,onGuildCardSeen:this.handleGuildCardSeen,fetchGuilds:UK.gk,theme:o}):null}
;i.renderSearchBar=function(){var e,t=this.props,n=t.mostRecentQuery,o=t.guilds.search,i=t.defaultLanguage,a=t.isFetchingSearch,s=t.currentCategoryId,l=t.categories,c=t.currentCategoryName;a6.trackExposure({});var u,f=a6.getCurrentConfig({}).shouldDisplayRecommendedSearchTags?s===C5.Hk?J.Z.Messages.GUILD_DISCOVERY_SEARCH_PLACEHOLDER_TAGS:J.Z.Messages.GUILD_DISCOVERY_CATEGORY_SEARCH_PLACEHOLDER_TAGS.format({categoryName:c}):s===C5.Hk?J.Z.Messages.GUILD_DISCOVERY_SEARCH_PLACEHOLDER:J.Z.Messages.GUILD_DISCOVERY_CATEGORY_SEARCH_PLACEHOLDER.format({categoryName:c}),d=null!==(u=null===(e=o[n])||void 0===e?void 0:e[s])&&void 0!==u?u:T5.xk;return(0,r.jsx)(H5,{loadId:this.loadId,searchResults:d,mostRecentQuery:n,isFetchingSearch:a,defaultLanguage:i,placeholder:f,currentCategoryId:s,categories:l})};i.renderSearchResults=function(){
var e,t,n=this,o=this.props,i=o.mostRecentQuery,a=o.guilds.search,s=o.availableLanguages,l=o.defaultLanguage,c=o.isFetchingSearch,u=o.theme,f=o.currentCategoryId,d=o.currentCategoryName,p=this.state.loadingGuildId,h=f===C5.Hk?J.Z.Messages.GUILD_DISCOVERY_SEARCH_PLACEHOLDER:J.Z.Messages.GUILD_DISCOVERY_CATEGORY_SEARCH_PLACEHOLDER.format({categoryName:d}),E=null!==(t=null===(e=a[i])||void 0===e?void 0:e[f])&&void 0!==t?t:T5.xk;return(0,r.jsx)(_7,{loadId:this.loadId,availableLanguages:s,defaultLanguage:l,placeholder:h,isFetchingSearch:c,searchResults:E,mostRecentQuery:i,loadingGuildId:p,currentCategoryId:f,currentCategoryName:d,scroller:this._scroller.current,theme:u,onViewGuild:this.handleViewGuild,onGuildCardSeen:this.handleGuildCardSeen,onTagClick:function(e,t){return n.handleTagSearch(e,t,LJ.P1.SEARCH)}})};i.renderRecommendedGuildsSection=function(){var e=this,t=this.props,n=t.guilds,o=t.theme,i=this.state.loadingGuildId;return(0,r.jsx)(y5,{loadId:this.loadId,
title:J.Z.Messages.GUILD_DISCOVERY_FEATURED_HEADER,guildsData:n.featured,analyticsContext:LJ.P1.POPULAR,onViewGuild:this.handleViewGuild,onGuildCardSeen:this.handleGuildCardSeen,fetchGuilds:function(){return(0,UK.$z)(0,30)},loadingGuildId:i,theme:o,onTagClick:function(t,n){return e.handleTagSearch(t,n,LJ.P1.POPULAR)}})};i.renderPopularGuildsSection=function(){var e=this,t=this.props,n=t.guilds,o=t.theme,i=t.currentCategoryId,a=this.state.loadingGuildId;return(0,r.jsx)(y5,{loadId:this.loadId,title:J.Z.Messages.GUILD_DISCOVERY_POPULAR_HEADER,guildsData:n[i],loadingGuildId:a,analyticsContext:LJ.P1.POPULAR,onViewGuild:this.handleViewGuild,onGuildCardSeen:this.handleGuildCardSeen,fetchGuilds:function(){return(0,UK.K5)(i)},currentCategoryId:i,theme:o,onTagClick:function(t,n){return e.handleTagSearch(t,n,LJ.P1.POPULAR)}})};i.render=function(){var e,t,n=this,i=this.props,a=i.currentCategoryName,s=i.mostRecentQuery,l=i.currentCategoryId,c=i.guilds,u=s.length>0;a6.trackExposure({})
;var f=a6.getCurrentConfig({}).shouldDisplayRecommendedSearchTags,d=l===C5.Hk?null===(e=c[R.Lcj.FEATURED])||void 0===e?void 0:e.guilds:null===(t=c[l])||void 0===t?void 0:t.guilds;if(l===C5.U)return(0,r.jsx)(V7,{loadId:this.loadId});var p=l===C5.Hk?J.Z.Messages.GUILD_DISCOVERY_HOME_TITLE:J.Z.Messages.GUILD_DISCOVERY_CATEGORY_TITLE.format({categoryName:a});return(0,r.jsxs)("div",{className:t7().pageWrapper,children:[(0,r.jsx)(bm.yY,{subsection:u?s:void 0,location:p}),(0,r.jsx)("div",{className:$p()(t7().dragRegion,t7().pageHeaderDrag,J7({},t7().searchPageDrag,u))}),oo.tq&&(0,r.jsx)(Tb.ZP,{children:(0,r.jsx)(o.Fragment,{})}),(0,r.jsx)(Kg.yW,{className:t7().scroller,ref:this._scroller,onScroll:this.handleScroll,children:(0,r.jsx)("div",{className:$p()(t7().viewWrapper,J7({},t7().searchPage,u)),children:u?this.renderSearchResults():(0,r.jsxs)(K.y5,{forceLevel:1,component:(0,r.jsxs)("div",{className:t7().searchHeader,children:[(0,r.jsx)("img",{alt:"",className:t7().headerImage,src:K7()}),(0,
r.jsx)("div",{className:t7().headerContentWrapper,children:(0,r.jsxs)("div",{className:t7().headerContent,children:[(0,r.jsx)(K.X6,{variant:"heading-xl/semibold",className:t7().searchTitle,children:l===C5.Hk?J.Z.Messages.GUILD_DISCOVERY_HOME_TITLE:J.Z.Messages.GUILD_DISCOVERY_CATEGORY_TITLE.format({categoryName:a})}),(0,r.jsx)(K.xv,{variant:"text-md/normal",className:t7().searchSubtitle,children:l===C5.Hk&&J.Z.Messages.GUILD_DISCOVERY_HOME_SUBTITLE}),this.renderSearchBar(),f&&(0,r.jsx)(T6,{hideOverflow:!0,section:LJ.P1.HEADER,className:t7().headerTagContainer,discoveryTagStyle:S6.LIGHT,onTagClick:function(e){return n.handleTagSearch(e,void 0,LJ.P1.HEADER)},tags:os().chain(d).flatMap((function(e){return e.keywords})).compact().uniq().sampleSize(10).value()})]})})]}),children:[(0,r.jsx)("div",{className:t7().featuredBody,children:l===C5.Hk?this.renderRecommendedGuildsSection():this.renderPopularGuildsSection()}),(0,r.jsxs)("div",{className:t7().footer,children:[(0,r.jsx)("img",{alt:"",
src:z7(),className:t7().footerImage}),(0,r.jsx)(K.X6,{variant:"heading-md/semibold",children:J.Z.Messages.GUILD_DISCOVERY_CATEGORY_FOOTER_TITLE}),(0,r.jsx)(K.zx,{look:K.zx.Looks.LINK,color:K.zx.Colors.LINK,size:K.zx.Sizes.MIN,onClick:this.scrollToTop,children:J.Z.Messages.GUILD_DISCOVERY_FOOTER_BODY})]})]})})})]})};return n}(o.PureComponent),c8=s.ZP.connectStores([ct.Z,zl.default,F7.Z,OF.Z,T5.ZP,c6.Z,Ut.Z],(function(){var e,t=C5.dU,n=zl.default.locale,r=null!==(e=os().find(t,{code:n}))&&void 0!==e?e:t[0],o=F7.Z.applicationStatistics,i=Object.keys(o),a=OF.Z.hasConsented(R.pjP.PERSONALIZATION)&&i.length>0,s=T5.ZP.getCurrentCategoryId(),l=T5.ZP.getCurrentHomepageCategoryId();return{isFetching:T5.ZP.isFetching(),isFetchingSearch:T5.ZP.isFetchingSearch(),guilds:T5.ZP.getDiscoverableGuilds(),mostRecentQuery:T5.ZP.getMostRecentQuery(),currentCategoryId:s,currentHomepageCategoryId:l,currentCategoryName:c6.Z.getCategoryName(s),categories:c6.Z.getDiscoveryCategories(),
userGuilds:Ut.Z.getGuilds(),theme:ct.Z.theme,mightHaveGamesYouPlay:a,availableLanguages:t,defaultLanguage:r}}))(l8);function u8(e){var t=(0,s.cj)([I7.Z],(function(){return{recommendedGuilds:I7.Z.getRecommendedGuilds(),loadId:I7.Z.getLoadId(),fetching:I7.Z.isFetching()}})),n=t.fetching,o=t.loadId,i=t.recommendedGuilds;return(0,r.jsx)(c8,n8(t8({},e),{fetchingRecommendations:n,usingGameRecommendations:!1,recommendationsGuilds:i,recommendationsLoadId:o}))}var f8=n(922237);function d8(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function p8(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){
Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function h8(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function E8(e){var t=e.width,n=void 0===t?24:t,o=e.height,i=void 0===o?24:o,a=e.color,s=void 0===a?"currentColor":a,l=e.className,c=e.foreground,u=h8(e,["width","height","color","className","foreground"]);return(0,r.jsx)("svg",p8(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){d8(e,t,n[t])}))}
return e}({},(0,Xb.Z)(u)),{className:l,width:n,height:i,viewBox:"0 0 24 24",children:(0,r.jsx)("path",{className:c,fill:s,fillRule:"evenodd",clipRule:"evenodd",
d:"M22.447 8.11002L12.447 3.11002C12.166 2.96902 11.834 2.96902 11.552 3.11002L1.552 8.11002C1.35 8.21002 1.197 8.38402 1.107 8.57302C1.046 8.69502 1 8.90202 1 9.00502V14.77C1 15.322 1.448 15.77 2 15.77C2.552 15.77 3 15.322 3 14.77V10.172L12.015 13.927L22.372 9.93302C22.737 9.78602 22.983 9.44002 22.999 9.04602C23.016 8.65202 22.799 8.28702 22.447 8.11002ZM12 16.005C11.869 16.005 11.738 15.979 11.615 15.928L5 13.172V16.185C5 16.564 5.214 16.91 5.553 17.08C5.7173 17.1621 5.88209 17.2461 6.04836 17.3308C7.61773 18.1306 9.31996 18.998 12 18.998C14.6812 18.998 16.3872 18.1284 17.956 17.3287C18.1208 17.2447 18.2842 17.1614 18.447 17.08C18.786 16.911 19 16.564 19 16.186V13.385L12.359 15.939C12.243 15.982 12.122 16.005 12 16.005ZM1 18.005C1 17.453 1.448 17.005 2 17.005C2.552 17.005 3 17.453 3 18.005V20.005C3 20.557 2.552 21.005 2 21.005C1.448 21.005 1 20.557 1 20.005V18.005Z"})}))}function y8(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n
;return e}function m8(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function b8(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function g8(e){
var t=e.width,n=void 0===t?24:t,o=e.height,i=void 0===o?24:o,a=e.color,s=void 0===a?"currentColor":a,l=e.className,c=e.foreground,u=b8(e,["width","height","color","className","foreground"]);return(0,r.jsx)("svg",m8(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){y8(e,t,n[t])}))}return e}({},(0,Xb.Z)(u)),{className:l,width:n,height:i,viewBox:"0 0 24 24",children:(0,r.jsx)("path",{className:c,fill:s,
d:"M19.396 3.29898C19.016 3.01598 18.524 2.93098 18.07 3.06498L8.07 6.06498C7.435 6.25498 7 6.83998 7 7.50298V15.054C6.835 15.03 6.671 15.003 6.5 15.003C4.566 15.003 3 16.571 3 18.503C3 20.434 4.566 22.003 6.5 22.003C8.434 22.003 10 20.434 10 18.503V8.61798L17 6.51798V13.054C16.835 13.03 16.671 13.003 16.5 13.003C14.566 13.003 13 14.571 13 16.503C13 18.434 14.566 20.003 16.5 20.003C18.434 20.003 20 18.434 20 16.503V4.50298C20 4.02698 19.775 3.58198 19.396 3.29898Z"})}))}function O8(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function v8(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){
Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function _8(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function I8(e){var t=e.width,n=void 0===t?24:t,o=e.height,i=void 0===o?24:o,a=e.color,s=void 0===a?"currentColor":a,l=e.className,c=e.foreground,u=_8(e,["width","height","color","className","foreground"]);return(0,r.jsx)("svg",v8(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){O8(e,t,n[t])}))}
return e}({},(0,Xb.Z)(u)),{className:l,width:n,height:i,viewBox:"0 0 24 24",children:(0,r.jsx)("path",{className:c,fill:s,fillRule:"evenodd",clipRule:"evenodd",
d:"M18.6683 11.9964C19.5992 13.2208 20.3732 14.4331 20.9422 15.5701C22.5858 18.8593 22.0118 20.4688 21.2418 21.2398C20.895 21.5846 20.2596 21.9978 19.1951 21.9978C17.3645 21.9978 14.7478 20.7553 12.0004 18.6683C9.25198 20.7553 6.63527 21.9978 4.80569 21.9978C3.74111 21.9978 3.10478 21.5846 2.75896 21.2398C1.98792 20.4677 1.41392 18.8593 3.05853 15.5701C3.62751 14.4331 4.40257 13.2218 5.33245 11.9964C2.51569 8.28291 1.00176 4.51719 2.75896 2.75898C3.10578 2.41316 3.74111 2 4.80569 2C6.63628 2 9.25298 3.24251 12.0004 5.32944C14.7488 3.24251 17.3655 2 19.1951 2C20.2596 2 20.895 2.41216 21.2418 2.75898C22.999 4.51618 21.4851 8.28191 18.6683 11.9964ZM19.8203 4.18042C19.6806 4.03969 19.4032 4.01053 19.1951 4.01053C18.0481 4.01053 15.9933 4.9203 13.6209 6.64835C15.0262 7.86472 16.2346 9.08512 17.3655 10.395C19.752 7.13188 20.3541 4.71422 19.8203 4.18042ZM14.1325 14.1316C14.8654 13.3987 15.5108 12.689 16.0928 12.0024C15.4876 11.2856 14.8342 10.5689 14.1325 9.86621C13.4128 9.14744 12.701 8.51312 12.0004 7.92202C11.2997 8.51312 10.588 9.14744 9.86821 9.86621C9.16653 10.5689 8.51311 11.2856 7.90794 12.0024C8.48999 12.689 9.13637 13.3987 9.86821 14.1316C10.588 14.8513 11.2997 15.4856 12.0004 16.0747C12.701 15.4856 13.4128 14.8513 14.1325 14.1316ZM4.80569 4.01053C4.5986 4.01053 4.32115 4.03969 4.18142 4.18042C3.64661 4.71422 4.24977 7.13088 6.63628 10.394C7.83556 9.00469 9.05696 7.79435 10.3799 6.64735C8.00645 4.9203 5.95269 4.01053 4.80569 4.01053ZM4.18041 19.8183C4.32014 19.9581 4.5976 19.9872 4.80569 19.9872C5.95269 19.9872 8.00746 19.0785 10.3799 17.3514C8.98357 16.1421 7.7873 14.9348 6.6413 13.6078C5.92053 14.593 5.31133 15.56 4.85695 16.4688C3.79539 18.5909 3.9502 19.5881 4.18041 19.8183ZM19.1941 19.9872C19.4021 19.9872 19.6796 19.9581 19.8193 19.8183C20.0495 19.5881 20.2044 18.5919 19.1428 16.4688C18.6884 15.559 18.0792 14.592 17.3584 13.6078C16.2114 14.9358 15.0152 16.1431 13.6199 17.3514C15.9933 19.0785 18.0471 19.9872 19.1941 19.9872ZM14.0109 11.9984C14.0109 13.1088 13.1108 14.0089 12.0004 14.0089C10.89 14.0089 9.98984 13.1088 9.98984 11.9984C9.98984 10.888 10.89 9.98784 12.0004 9.98784C13.1108 9.98784 14.0109 10.888 14.0109 11.9984Z"
})}))}var S8=n(532665),T8=n(923412),N8=n(596964),C8=n.n(N8),A8=function(e){switch(e){case C5.fW.Activity:return(0,r.jsx)(VY.Z,{});case C5.fW.Discover:return(0,r.jsx)(f8.Z,{});case C5.fW.Education:return(0,r.jsx)(E8,{});case C5.fW.Music:return(0,r.jsx)(g8,{});case C5.fW.Science:return(0,r.jsx)(I8,{});case C5.fW.Stage:return(0,r.jsx)(wU.Z,{height:22,width:22});case C5.fW.Television:return(0,r.jsx)(S8.Z,{});default:(0,So.vE)(e)}},P8=function(e){var t=e.categories,n=e.currentCategoryId,o=e.handleCategorySelect,i=e.shouldDisplaySelectedCategory,a=void 0===i||i;return(0,r.jsx)(r.Fragment,{children:t.map((function(e){return(0,r.jsx)(T8.Z,{avatar:A8(e.icon),name:e.name,focusProps:{offset:{right:4,top:1,bottom:1}},onClick:function(){return o(e.categoryId)},wrapContent:!0,selected:a&&e.categoryId===n,className:C8().categoryItem,selectedClassName:C8().selectedCategoryItem,innerClassName:C8().itemInner},e.categoryId)}))})};P8.Icons=C5.fW;const j8=P8;var x8=n(45622),R8=n.n(x8);function M8(e){
var t=e.text;return(0,r.jsx)(K.X6,{variant:"heading-xl/semibold",className:R8().discoverHeader,children:t})}var w8=n(45183);const Z8=function(e){var t=e.handleCategorySelect,n=e.shouldDisplaySelectedCategory,o=e.currentCategoryId,i=(0,s.e7)([ed.Z],(function(){return ed.Z.hasHotspot(Jf.v6.HUB_NEW)}));return(0,r.jsx)(T8.Z,{avatar:(0,r.jsx)(w8.Z,{}),name:J.Z.Messages.HUB_SCHOOL_HUBS,focusProps:{offset:{right:4,top:1,bottom:1}},onClick:function(){t(C5.U);(0,Jf.Kw)(Jf.v6.HUB_NEW)},wrapContent:!0,selected:n&&C5.U===o,className:C8().categoryItem,selectedClassName:C8().selectedCategoryItem,innerClassName:C8().itemInner,children:i&&(0,r.jsx)("div",{className:C8().new,children:(0,r.jsx)(K.xv,{color:"none",variant:"text-xs/semibold",className:C8().newText,children:J.Z.Messages.NEW})})},C5.U)};function L8(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function D8(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var U8=function(e){switch(e){case 1:return C5.fW.Activity;case 2:return C5.fW.Music;case 3:return C5.fW.Television;case 5:return C5.fW.Science;case 6:return C5.fW.Education;default:return C5.fW.Discover}};const k8=function(){var e=(0,s.cj)([T5.ZP],(function(){return{currentCategoryId:T5.ZP.getCurrentCategoryId(),isViewingSearchResults:T5.ZP.getMostRecentQuery().length>0}})),t=e.currentCategoryId,n=e.isViewingSearchResults,o=(0,s.e7)([c6.Z],(function(){return c6.Z.getDiscoveryCategories()}),[],c6.j),i=null==o?void 0:o.map((function(e){return D8(function(e){
for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){L8(e,t,n[t])}))}return e}({},e),{icon:U8(e.categoryId)})})),a=function(e){(0,UK.uY)(e,!0);no();n&&(0,UK.AQ)()};return(0,r.jsxs)(nE.ZP,{children:[(0,r.jsx)(M8,{text:J.Z.Messages.DISCOVER}),(0,r.jsx)(j8,{categories:i,handleCategorySelect:a,currentCategoryId:t,shouldDisplaySelectedCategory:!n}),(0,r.jsx)(Z8,{handleCategorySelect:a,currentCategoryId:t,shouldDisplaySelectedCategory:!n})]})};var G8=n(652075);function B8(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function H8(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){B8(i,r,o,a,s,"next",e)}function s(e){B8(i,r,o,a,s,"throw",e)}
a(void 0)}))}}function V8(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function F8(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){V8(e,t,n[t])}))}return e}var Y8=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break
;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function z8(e,t,n){return W8.apply(this,arguments)}function W8(){return(W8=H8((function(e,t,n){var r;return Y8(this,(function(o){switch(o.label){case 0:null==t&&(t=gu.Z.getStatus());return[4,ut.co.updateSetting(e)];case 1:o.sent();r={next_status:e,prev_status:t};null!=n&&(r=F8({},r,n));Te.default.track(R.rMx.USER_STATUS_UPDATED,r);return[2]}}))}))).apply(this,arguments)}function K8(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}
s.done?t(l):Promise.resolve(l).then(r,o)}function q8(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){K8(i,r,o,a,s,"next",e)}function s(e){K8(i,r,o,a,s,"throw",e)}a(void 0)}))}}function X8(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var Q8=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop()
;a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function $8(){(0,Y.ZD)(q8((function(){var e,t;return Q8(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(32353),n.e(33376)]).then(n.bind(n,33376))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){X8(e,t,n[t])}))}
return e}({},e))}]}}))})),{onCloseCallback:function(){g.Z.dispatch({type:"CLEAR_AUTHENTICATION_ERRORS"});g.Z.dispatch({type:"LOGIN_RESET",isMultiAccount:!0})},modalKey:SE.Ui})}var J8=n(204882),e9=n(318007),t9=n(908170),n9=n(519276),r9=n.n(n9);function o9(){var e=(0,s.e7)([F.default],(function(){return F.default.getCurrentUser()})),t=(0,s.e7)([kr.Z],(function(){return kr.Z.hidePersonalInformation})),n=(0,t9.L)().multiAccountUsers,o=n.map((function(n){var o=new JC.Z(n),i=o.id===(null==e?void 0:e.id),a=n.tokenStatus===e9.q.INVALID,s=t?null:"#".concat(o.discriminator);return(0,r.jsx)(Lz.sN,{id:o.id,focusedClassName:r9().focused,label:function(e){var t=e.isFocused;return(0,r.jsxs)("div",{className:r9().userMenuItem,children:[(0,r.jsx)(cg.ZP,{src:o.getAvatarURL(void 0,40),size:cg.ZP.Sizes.SIZE_24,"aria-label":n.username}),(0,r.jsxs)("div",{className:r9().userMenuUsername,children:[(0,r.jsx)(K.xv,{className:r9().userMenuText,variant:"text-sm/normal",children:o.toString()}),(0,r.jsx)(K.xv,{
className:r9().userMenuDiscriminator,variant:"text-sm/normal",children:s})]}),i&&(0,r.jsx)(uP.Z,{color:(0,pN.Lq)(t?R.Ilk.WHITE_500:R.Ilk.BRAND_500),backgroundColor:(0,pN.Lq)(t?R.Ilk.BRAND_500:R.Ilk.WHITE_500),width:18,height:18,className:r9().activeIcon}),a&&(0,r.jsx)(hT.Z,{color:(0,pN.Lq)(R.Ilk.RED_400),backgroundColor:(0,pN.Lq)(R.Ilk.WHITE_500),width:15,height:15,className:r9().activeIcon})]})},action:function(){a?$8():function(t){if(t!==(null==e?void 0:e.id)){Te.default.track(R.rMx.MULTI_ACCOUNT_SWITCH_ATTEMPT,{location:{section:R.jXE.PROFILE_POPOUT}});J8.yD(t)}}(o.id)}},o.id)}));o.push((0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Lz.Cl,{}),(0,r.jsx)(Lz.sN,{id:"manage-accounts",label:J.Z.Messages.SWITCH_ACCOUNTS_MANAGE_ACCOUNTS,action:$8})]}));return o}function i9(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a9(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function s9(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function l9(e){var t=e.width,n=void 0===t?20:t,o=e.height,i=void 0===o?20:o,a=e.color,s=void 0===a?"currentColor":a,l=s9(e,["width","height","color"]);return(0,r.jsxs)("svg",a9(function(e){
for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i9(e,t,n[t])}))}return e}({},(0,Xb.Z)(l)),{width:n,height:i,viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{
d:"M13.4996 0H6.72144C6.62254 1.34004e-06 6.52586 0.0293272 6.44363 0.0842743C6.36141 0.139221 6.29733 0.217322 6.25949 0.308693C6.22165 0.400063 6.21176 0.500602 6.23106 0.597595C6.25037 0.694589 6.298 0.783679 6.36794 0.8536L7.63564 2.1213C7.82317 2.30884 7.92853 2.56319 7.92853 2.8284C7.92853 3.09361 7.82317 3.34796 7.63564 3.5355L6.22144 4.9498C5.65884 5.51241 5.34277 6.27546 5.34277 7.0711C5.34277 7.86674 5.65884 8.62979 6.22144 9.1924C6.40897 9.37993 6.66331 9.48528 6.92853 9.48528C7.19374 9.48528 7.4481 9.37993 7.63564 9.1924L9.75703 7.0711C10.1321 6.69603 10.6408 6.48533 11.1712 6.48533C11.7017 6.48533 12.2104 6.69603 12.5854 7.0711L13.146 7.6317C13.2159 7.70164 13.305 7.74927 13.402 7.76858C13.499 7.78788 13.5996 7.77799 13.6909 7.74015C13.7823 7.70231 13.8604 7.63823 13.9154 7.556C13.9703 7.47377 13.9996 7.37709 13.9996 7.2782V0.5C13.9996 0.367392 13.9469 0.240214 13.8532 0.146446C13.7594 0.052678 13.6322 0 13.4996 0Z",fill:s}),(0,r.jsx)("path",{
d:"M4.5 17.9999H11.2782C11.3771 17.9999 11.4738 17.9706 11.556 17.9157C11.6382 17.8607 11.7023 17.7826 11.7401 17.6912C11.778 17.5999 11.7879 17.4993 11.7686 17.4023C11.7493 17.3053 11.7016 17.2163 11.6317 17.1463L10.364 15.8786C10.1765 15.6911 10.0711 15.4367 10.0711 15.1715C10.0711 14.9063 10.1765 14.652 10.364 14.4644L11.7782 13.0501C12.3408 12.4875 12.6569 11.7245 12.6569 10.9288C12.6569 10.1332 12.3408 9.37014 11.7782 8.80753C11.5907 8.62 11.3363 8.51465 11.0711 8.51465C10.8059 8.51465 10.5515 8.62 10.364 8.80753L8.2426 10.9288C7.86753 11.3039 7.35883 11.5146 6.8284 11.5146C6.29797 11.5146 5.78927 11.3039 5.4142 10.9288L4.85361 10.3682C4.78369 10.2983 4.69459 10.2507 4.5976 10.2314C4.5006 10.2121 4.40006 10.2219 4.30869 10.2598C4.21731 10.2976 4.13922 10.3617 4.08427 10.4439C4.02933 10.5262 4 10.6228 4 10.7217V17.4999C4 17.6325 4.05269 17.7597 4.14645 17.8535C4.24022 17.9473 4.36739 17.9999 4.5 17.9999Z",fill:s})]}))}var c9=n(71531),u9=n(830332),f9=n.n(u9)
;function d9(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function p9(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){d9(i,r,o,a,s,"next",e)}function s(e){d9(i,r,o,a,s,"throw",e)}a(void 0)}))}}function h9(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function E9(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){h9(e,t,n[t])}))}return e}function y9(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
;t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var m9=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}
if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function b9(e){var t=e.status,n=e.description,o=e.focused;return(0,r.jsxs)("div",{className:f9().statusItem,children:[(0,r.jsx)(c9.qb,{status:t,className:f9().icon,size:10,color:o?"currentColor":void 0}),(0,r.jsx)("div",{className:f9().status,children:(0,$d.u5)(t)}),null!=n&&(0,r.jsx)("div",{className:f9().description,children:n})]})}function g9(e){var t=e.customStatus,n=function(e){e.stopPropagation();ut.Ok.updateSetting(void 0)};return null!=t?(0,r.jsx)("div",{"aria-label":J.Z.Messages.CUSTOM_STATUS_EDIT_CUSTOM_STATUS_PLACEHOLDER,children:(0,r.jsx)(G8.Z,{className:null!=t.emoji?f9().customStatusWithEmoji:f9().customStatusItem,activity:t,
emojiClassName:f9().customEmoji,textClassName:f9().customText,placeholderText:J.Z.Messages.CUSTOM_STATUS_EDIT_CUSTOM_STATUS_PLACEHOLDER,children:(0,r.jsx)(qb.ZP,{text:J.Z.Messages.CUSTOM_STATUS_CLEAR_CUSTOM_STATUS,children:function(e){return(0,r.jsx)(K.zx,y9(E9({},e),{className:f9().clearStatusButton,onClick:n,look:K.zx.Looks.BLANK,size:K.zx.Sizes.NONE,tabIndex:-1,"aria-hidden":!0,children:(0,r.jsx)(fP.Z,{className:f9().clearStatusIcon})}))}})})}):(0,r.jsxs)("div",{className:$p()(f9().statusItem,f9().customStatusContentIcon),"aria-label":J.Z.Messages.CUSTOM_STATUS_SET_CUSTOM_STATUS,children:[(0,r.jsx)("div",{className:f9().customEmojiPlaceholder}),(0,r.jsx)("div",{className:f9().status,children:J.Z.Messages.CUSTOM_STATUS_SET_CUSTOM_STATUS})]})}function O9(e){var t=e.focused;return(0,r.jsxs)("div",{className:$p()(f9().statusItem,f9().statusItemNoPadding,f9().customStatusContentIcon,f9().switchAccountsItem),"aria-label":J.Z.Messages.SWITCH_ACCOUNTS_MENU_ITEM_TITLE,children:[(0,
r.jsx)(l9,{width:18,height:18,className:f9().switchAccountsIcon,color:t?(0,pN.Lq)(R.Ilk.WHITE_500):"currentColor"}),(0,r.jsx)("div",{className:f9().status,children:J.Z.Messages.SWITCH_ACCOUNTS_MENU_ITEM_TITLE})]})}var v9=function(e){var t=e.customStatus,i=e.onClose,a=e.analyticsContext,s=e.onSelect,l=o9();o.useEffect((function(){Te.default.track(R.rMx.OPEN_POPOUT,{type:"User Status Menu",has_custom_status:null!=t,location:a.location})}),[]);var c=function(e){z8(e,void 0,{location:a.location})};return(0,r.jsxs)(Lz.ZP,{navId:"status-picker",variant:"fixed","aria-label":J.Z.Messages.SET_STATUS,onClose:i,onSelect:s,children:[(0,r.jsx)(Lz.sN,{id:"online",keepItemStyles:!0,render:function(e){var t=e.isFocused;return(0,r.jsx)(b9,{status:c9.Sk.ONLINE,focused:t})},action:function(){return c(c9.Sk.ONLINE)}}),(0,r.jsx)(Lz.Cl,{}),(0,r.jsx)(Lz.sN,{id:"idle",keepItemStyles:!0,render:function(e){var t=e.isFocused;return(0,r.jsx)(b9,{status:c9.Sk.IDLE,focused:t})},action:function(){
return c(c9.Sk.IDLE)}}),(0,r.jsx)(Lz.sN,{id:"dnd",keepItemStyles:!0,render:function(e){var t=e.isFocused;return(0,r.jsx)(b9,{status:c9.Sk.DND,description:J.Z.Messages.STATUS_DND_HELP,focused:t})},action:function(){return c(c9.Sk.DND)}}),(0,r.jsx)(Lz.sN,{id:"invisible",keepItemStyles:!0,render:function(e){var t=e.isFocused;return(0,r.jsx)(b9,{status:c9.Sk.INVISIBLE,description:J.Z.Messages.STATUS_INVISIBLE_HELPER,focused:t})},action:function(){return c(c9.Sk.INVISIBLE)}}),(0,r.jsx)(Lz.Cl,{}),(0,r.jsx)(Lz.sN,{id:"custom-status",keepItemStyles:!0,render:function(){return(0,r.jsx)(g9,{customStatus:t})},action:function(){(0,Y.ZD)(p9((function(){var e,t;return m9(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(66767)]).then(n.bind(n,366767))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,y9(E9({},e),{sourceAnalyticsContext:a}))}]}}))})))}}),(0,r.jsx)(Lz.Cl,{}),(0,r.jsx)(Lz.sN,{id:"switch-account",action:$8,label:function(e){
var t=e.isFocused;return(0,r.jsx)(O9,{focused:t})},children:l},"switch-account")]})};const _9=(0,KY.Z)((function(e){var t=(0,s.e7)([bu.Z],(function(){return bu.Z.getCustomStatusActivity()})),n=ut.co.useSetting();return(0,r.jsx)(v9,y9(E9({},e),{customStatus:t,status:n}))}));var I9=(0,sR.B)({kind:"user",id:"2023-01_consumer_education_launch",label:"Safety Consumer Education Launch - Block/Mute",defaultConfig:{bucket:0,enabled:!1},treatments:[{id:1,label:"Mute",config:{bucket:1,enabled:!0}},{id:2,label:"Block",config:{bucket:2,enabled:!0}}]});var S9=n(405728),T9=n(785486),N9=n(337921),C9=n(397945);function A9(e,t,n){return n?J.Z.Messages.CONSOLE_CONNECTING_DISABLED:t?J.Z.Messages.SERVER_DEAFENED_DIALOG_TITLE:e?J.Z.Messages.UNDEAFEN:J.Z.Messages.DEAFEN}var P9=n(242829);function j9(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function x9(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function R9(e){e?(0,Y.h7)((function(e){return(0,r.jsx)(Fp.default,x9(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){j9(e,t,n[t])}))}return e}({},e),{title:J.Z.Messages.SERVER_DEAFENED_DIALOG_TITLE,body:J.Z.Messages.SERVER_DEAFENED_DIALOG_BODY}))})):ze.Z.toggleSelfDeaf()}var M9=n(457188),w9=n(85692),Z9=n.n(w9)
;const L9=function(e){var t=e.markAsDismissed,n=(0,s.e7)([h.Z],(function(){return h.Z.useReducedMotion}));o.useEffect((function(){Te.default.track(R.rMx.TOOLTIP_VIEWED,{type:"CONNECTION_DETAILS_COACH_MARK"})}),[]);return(0,r.jsx)(hL.ZP,{header:(0,r.jsxs)("div",{className:Z9().headerContainer,children:[J.Z.Messages.CONNECTIONS_NUX_TITLE,(0,r.jsx)(wb.Z,{className:Z9().betaTag,color:(0,pN.Lq)(R.Ilk.WHITE_500)})]}),className:Z9().content,asset:(0,r.jsx)(jL.Z,{className:Z9().video,src:"https://cdn.discordapp.com/attachments/974778719363268678/1030163177700327545/Connections_NUX_Full.mp4",loop:!0,autoPlay:!n,width:240,height:135}),content:J.Z.Messages.CONNECTIONS_NUX_CONTENT.format({helpdeskArticle:$.Z.getArticleURL(R.BhN.CONNECTION_DETAILS)}),buttonCTA:J.Z.Messages.CHECK_IT_OUT,secondaryButtonCTA:J.Z.Messages.DISMISS,onClick:function(e){p.Z.open(R.oAB.CONNECTIONS)},markAsDismissed:function(){Te.default.track(R.rMx.DISMISSIBLE_CONTENT_DISMISSED,{type:"CONNECTION_DETAILS_COACH_MARK"});t()},
caretPosition:hL.DF.BOTTOM_CENTER,headerClassName:Z9().header})};var D9=n(24390),U9=n(945534),k9=n(444793),G9=n(816043),B9=n.n(G9);function H9(e){var t=e.markAsDismissed,n=e.partnerGame;(0,Q$.hs)(n,W.nv.POPOUT,W.zs.DROPS_QUEST_ENROLLMENT);var o=(0,Q$.au)(n);if(null==o)return null;var i,a,s=(i=o.drop,a=o.config.streamLengthRequirement,{header:J.Z.Messages.DROP_ENROLLMENT_CTA_TOOLTIP_HEADER.format({gameName:i.title}),body:i.messages.enrollmentTooltip(a),imgSrc:i.assets.tooltipSrc,imgStyle:B9().defaultDropImage}),l=s.header,c=s.body,u=s.imgSrc,f=s.imgStyle,d=function(){t(yn.L.DISMISS)};return(0,r.jsxs)("div",{className:B9().container,children:[(0,r.jsx)("img",{src:u,alt:"",className:f}),(0,r.jsx)(K.P3,{className:B9().buttonClose,"aria-label":J.Z.Messages.CLOSE,onClick:d,children:(0,r.jsx)(Sb.Z,{width:16,height:16,className:B9().closeIcon})}),(0,r.jsx)(K.X6,{className:B9().title,variant:"heading-md/extrabold",children:l}),(0,r.jsx)(K.xv,{variant:"text-sm/medium",className:B9().subTitle,
children:c}),o.config.autoEnrollment?(0,r.jsx)(K.zx,{look:K.zx.Looks.INVERTED,fullWidth:!0,onClick:function(){p.Z.open(R.oAB.INVENTORY);t(yn.L.PRIMARY)},children:J.Z.Messages.LEARN_MORE}):(0,r.jsx)(K.zx,{innerClassName:B9().button,look:K.zx.Looks.INVERTED,fullWidth:!0,onClick:function(){(0,k9.RJ)(o.drop.dropsQuestId);p.Z.open(R.oAB.INVENTORY);t(yn.L.PRIMARY)},children:J.Z.Messages.DROPS_ELIGIBILITY_ENROLLMENT_PRIMARY_CTA}),(0,r.jsx)(K.zx,{className:B9().linkButtonContainer,innerClassName:B9().linkButton,onClick:d,look:K.zx.Looks.LINK,fullWidth:!0,color:K.zx.Colors.WHITE,children:J.Z.Messages.NOT_NOW}),(0,r.jsx)("div",{className:B9().pointer})]})}var V9=n(748594),F9=n.n(V9);function Y9(e){var t=e.markAsDismissed,n=e.partnerGame;(0,Q$.hs)(n,W.nv.POPOUT,W.zs.DROPS_QUEST_COMPLETION);var o=(0,Q$.au)(n);if(null==o)return null;var i,a,s=(i=o.drop,a=o.config.streamLengthRequirement,{body:i.messages.completionTooltip(a),imgSrc:i.assets.tooltipSrc,imgStyle:F9().defaultDropImage
}),l=s.body,c=s.imgSrc,u=s.imgStyle,f=function(){t(yn.L.DISMISS)};return(0,r.jsxs)("div",{className:F9().container,children:[(0,r.jsx)("img",{src:c,alt:"",className:u}),(0,r.jsx)(K.P3,{className:F9().buttonClose,"aria-label":J.Z.Messages.CLOSE,onClick:f,children:(0,r.jsx)(Sb.Z,{width:16,height:16,className:F9().closeIcon})}),(0,r.jsx)(K.X6,{className:F9().title,variant:"heading-md/extrabold",children:J.Z.Messages.DROPS_QUEST_COMPLETION_TOOLTIP_HEADER}),(0,r.jsx)(K.xv,{variant:"text-sm/medium",className:F9().subTitle,children:l}),(0,r.jsx)(K.zx,{look:K.zx.Looks.INVERTED,fullWidth:!0,onClick:function(){p.Z.open(R.oAB.INVENTORY);t(yn.L.PRIMARY)},children:J.Z.Messages.REDEEM}),(0,r.jsx)(K.zx,{className:F9().linkButtonContainer,innerClassName:F9().linkButton,onClick:f,look:K.zx.Looks.LINK,fullWidth:!0,color:K.zx.Colors.WHITE,children:J.Z.Messages.NOT_NOW}),(0,r.jsx)("div",{className:F9().pointer})]})}var z9=n(556932);function W9(e,t){(null==t||t>e.length)&&(t=e.length)
;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function K9(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return W9(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W9(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}
var q9=n(341190),X9=n(306935),Q9=n.n(X9),$9=n(716926),J9=n.n($9),eee=n(417454),tee=n.n(eee);function nee(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ree(e){var t,n=e.markAsDismissed,o=(0,lw.Z)(Of.Z.PS_VOICE_CONNECT_UPSELL).analyticsLocations,i=(0,s.e7)([Uz.Z],(function(){return null!=Uz.Z.getAccount(null,R.ABu.PLAYSTATION)}));return(0,r.jsx)(hL.ZP,{header:i?J.Z.Messages.PS_LINK_UPSELL_HEADER_RECONNECT:J.Z.Messages.PS_LINK_UPSELL_HEADER,content:i?J.Z.Messages.PS_LINK_UPSELL_CONTENT_RECONNECT:J.Z.Messages.PS_LINK_UPSELL_CONTENT,asset:(0,r.jsx)("div",{className:Q9().artContainer,children:(0,r.jsx)("img",{src:i?tee():J9(),alt:"",className:$p()(Q9().art,(t={},nee(t,Q9().nuxArt,i),nee(t,Q9().connectArt,!i),t))})}),onClick:function(){n();(0,q9.K)(o,R.ABu.PLAYSTATION)},onSecondaryClick:n,markAsDismissed:n,buttonCTA:i?J.Z.Messages.RECONNECT:J.Z.Messages.CONNECT,secondaryButtonCTA:J.Z.Messages.NO_THANKS,
caretPosition:hL.ZP.CaretPosition.BOTTOM_CENTER,buttonLayout:hL.ZP.ButtonLayout.STACKED})}var oee=n(713711);const iee=(0,sR.B)({kind:"user",id:"2022-04_account_profile_popout",label:"Account Profile Popout",defaultConfig:{isPopupEnabled:!1,isTaglessAccountPanelEnabled:!1,isJoinedTagButtonEnabled:!1},treatments:[{id:1,label:"Enable Account Profile Popout",config:{isPopupEnabled:!0,isTaglessAccountPanelEnabled:!1,isJoinedTagButtonEnabled:!1}},{id:2,label:"Enable Account Profile Popout w/ DiscordTag button",config:{isPopupEnabled:!0,isTaglessAccountPanelEnabled:!1,isJoinedTagButtonEnabled:!0}}]});var aee=n(184518),see=n.n(aee);function lee(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function cee(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){lee(i,r,o,a,s,"next",e)}function s(e){lee(i,r,o,a,s,"throw",e)}a(void 0)}))}}function uee(e,t,n){
t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function fee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){uee(e,t,n[t])}))}return e}function dee(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var pee=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],
ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}
;var hee=n(535737),Eee=n(115467),yee=n(578797),mee=n(60953),bee=n(536419);const gee=(0,bee.Z)({id:"2022-07_user_panel_context_menu_profile_entrypoint_behavior",label:"User Panel Context Menu Profile Entrypoint (behavior)",kind:"user",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enabled",config:{enabled:!0}}]}),Oee=(0,bee.Z)({id:"2022-07_user_panel_context_menu_profile_entrypoint",label:"User Panel Context Menu Profile Entrypoint",kind:"user",defaultConfig:{entryPointTexti18nKey:void 0},treatments:[{id:1,label:"Customize Your Profile",config:{entryPointTexti18nKey:"PREMIUM_FEATURES_PROFILE_CUSTOMIZATION_MENU_ITEM_TITLE"}},{id:2,label:"Customize Your Profile With Nitro",config:{entryPointTexti18nKey:"PREMIUM_FEATURES_PROFILE_CUSTOMIZATION_MENU_ITEM_TITLE_LONGER"}}]});var vee=n(591739),_ee=n(570459),Iee=n(769418),See=n.n(Iee);function Tee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Nee(e,t,n,r,o,i,a){try{
var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function Cee(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Nee(i,r,o,a,s,"next",e)}function s(e){Nee(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Aee(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Pee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Aee(e,t,n[t])}))}return e}function jee(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
;t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function xee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Tee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tee(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ree=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){
a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function Mee(e,t,n,o){return(0,r.jsx)(Lz.sN,{id:e,keepItemStyles:!0,render:function(t){var n=t.isFocused;return(0,r.jsxs)("div",{className:See().statusItem,children:[(0,r.jsx)(c9.qb,{status:e,className:See().icon,size:10,color:n?"currentColor":void 0}),(0,r.jsx)("div",{className:See().status,children:(0,$d.u5)(e)}),null!=o&&(0,r.jsx)("div",{className:See().description,children:o})]})},action:function(){return z8(e,t,n)}})}function wee(e){var t=e.user,i=e.customStatus,a=e.guildId,l=e.isApplicationStreaming,c=e.onClose,u=e.onSelect,f=e.closePopout,d=(0,RY.O)(),h=(0,lw.Z)(Of.Z.ACCOUNT_PROFILE_POPOUT).AnalyticsLocationProvider,E=(0,Dj.Z)(t.id,a),y=qi.ZP.canUsePremiumProfileCustomization(t),m=Oee.useExperiment({},{autoTrackExposure:!y
}).entryPointTexti18nKey,b=void 0!==m&&!y,g=xee((0,s.Wu)([cs.Z],(function(){var e,n=t.id;return"string"!=typeof n?[void 0,void 0,R.Skl.UNKNOWN,!1]:[null!==(e=cs.Z.findActivity(n,(function(e){return e.type!==R.IIU.CUSTOM_STATUS})))&&void 0!==e?e:void 0,cs.Z.findActivity(t.id,(function(e){return e.type===R.IIU.CUSTOM_STATUS})),cs.Z.getStatus(n),cs.Z.isMobileOnline(n)]})),4),O=g[0],v=g[1],_=g[2],I=g[3],S=function(e,t){return(0,r.jsxs)(r.Fragment,{children:[Mee(R.Skl.ONLINE,e,t),(0,r.jsx)(Lz.Cl,{},"menu-separator-statuses"),Mee(R.Skl.IDLE,e,t),Mee(R.Skl.DND,e,t,J.Z.Messages.STATUS_DND_HELP),Mee(R.Skl.INVISIBLE,e,t,J.Z.Messages.STATUS_INVISIBLE_HELPER)]})}(_,d);o.useEffect((function(){Te.default.track(R.rMx.OPEN_POPOUT,{type:"User Status Menu",has_custom_status:null!=i,other_user_id:t.id,application_id:null!=O?O.application_id:void 0,is_streaming:l,application_name:null!=O?O.name:void 0,profile_has_nitro_customization:null!=(null==E?void 0:E.banner),location:d.location})}),[])
;var T=$p()(See().menuItemFocused,Aee({},See().menuItemFocusedPremium,y)),N=o9(),C=function(e,t){var o=function(e){e.stopPropagation();ut.Ok.updateSetting(void 0)},i=function(){(0,Y.ZD)(cee((function(){var e,t;return pee(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(66767)]).then(n.bind(n,366767))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,fee({sourceAnalyticsContext:a},e))}]}}))})))},a=(0,RY.O)();if(null!=e){var s=null!=e.emoji?function(t){var n=t.className;return(0,r.jsx)(Kq.I,{className:n,emoji:e.emoji,animate:!0,hideTooltip:!0})}:void 0;return(0,r.jsx)(Lz.sN,{id:"edit-custom-status",label:J.Z.Messages.CUSTOM_STATUS_EDIT_CUSTOM_STATUS_PLACEHOLDER,icon:s,focusedClassName:t,showIconFirst:!0,hint:function(e){return(0,r.jsx)(K.P3,dee(fee({},e),{onClick:o,tabIndex:-1,children:(0,r.jsx)(fP.Z,{width:18,height:18})}))},action:i})}return(0,r.jsx)(Lz.sN,{id:"set-custom-status",focusedClassName:t,
label:J.Z.Messages.CUSTOM_STATUS_SET_CUSTOM_STATUS_CTA,icon:function(e){return(0,r.jsx)("div",{className:$p()(see().customEmojiPlaceholder,e)})},action:i,showIconFirst:!0})}(null!=i?i:void 0,T),A="PREMIUM_FEATURES_PROFILE_CUSTOMIZATION_MENU_ITEM_TITLE_LONGER"===m?J.Z.Messages.PREMIUM_FEATURES_PROFILE_CUSTOMIZATION_MENU_ITEM_TITLE_LONGER:J.Z.Messages.PREMIUM_FEATURES_PROFILE_CUSTOMIZATION_MENU_ITEM_TITLE;return(0,r.jsx)(h,{children:(0,r.jsxs)(hee.Z,{user:t,profileType:_ee.y0.POPOUT,children:[(0,r.jsx)(mee.ZP,{user:t,displayProfile:E,onClose:function(){return null==f?void 0:f()},isMobile:I,isStreaming:(0,CF.Z)(O),status:_,onOpenPremiumSettings:function(){Te.default.track(R.rMx.PREMIUM_PROMOTION_OPENED,{location_page:null,location_section:R.jXE.PROFILE_POPOUT,location_object:R.qAy.TOOLTIP});p.Z.open(R.oAB.PREMIUM);null==f||f()},disableUserProfileLink:__OVERLAY__,isHovering:!1}),(0,r.jsxs)(hee.Z.Inner,{children:[(0,r.jsx)(Eee.Z,{activity:O,customStatusActivity:v,displayProfile:E,user:t,
onClose:c,setNote:!1,canDM:!1,hideNote:!0,showCopiableUsername:!0}),(0,r.jsx)(yee.Z,{className:See().divider}),(0,r.jsxs)(Lz.ZP,{navId:"account","aria-label":J.Z.Messages.SET_STATUS,hideScroller:!0,className:See().menu,onClose:c,onSelect:u,children:[(0,r.jsxs)(Lz.kS,{children:[(0,r.jsx)(Lz.sN,{id:"status-picker",label:(0,$d.u5)(_),focusedClassName:T,action:oo.tq?function(){(0,Y.ZD)((function(){return new Promise((function(e){e((function(e){return(0,r.jsx)(Q.Y0,jee(Pee({},e),{size:Q.Cg.SMALL,className:See().modal,"aria-label":J.Z.Messages.SET_STATUS,children:(0,r.jsx)(Lz.ZP,{navId:"account",variant:"fixed","aria-label":J.Z.Messages.SET_STATUS,hideScroller:!0,className:See().statusPickerModalMenu,onClose:e.onClose,onSelect:e.onClose,children:S})}))}))}))}))}:void 0,showIconFirst:!0,icon:function(e){var t=e.className,n=e.isFocused;return(0,r.jsx)(c9.qb,{status:_,size:12,className:$p()(t,See().mainStatusIcon),color:n?"currentColor":void 0})},children:oo.tq?void 0:S
},"status-picker"),C,b?(0,r.jsx)(Lz.sN,{id:"style-your-profile",focusedClassName:T,color:"brand",label:A,action:function(){if(gee.getCurrentConfig({},{autoTrackExposure:!y}).enabled){Te.default.track(R.rMx.OPEN_MODAL,{type:R.jXE.AGGREGATE_PREMIUM_UPSELL_MODAL,location:{section:R.jXE.PROFILE_POPOUT}});(0,Y.ZD)(Cee((function(){var e,t;return Ree(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(13890)]).then(n.bind(n,413890))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,jee(Pee({},e),{ingressPremiumFeatureId:vee.c.PREMIUM_FEATURE_CUSTOM_PROFILES_ID}))}]}}))})))}else(0,Y.ZD)(Cee((function(){var e,t;return Ree(this,(function(o){switch(o.label){case 0:return[4,n.e(50442).then(n.bind(n,950442))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,jee(Pee({},e),{source:{section:R.jXE.PROFILE_POPOUT,object:R.qAy.BUTTON_CTA}}))}]}}))})))},icon:gL.Z,showIconFirst:!0},"style-your-profile"):null]}),(0,r.jsx)(Lz.kS,{children:(0,
r.jsx)(Lz.sN,{id:"switch-account",focusedClassName:T,label:J.Z.Messages.SWITCH_ACCOUNTS_MENU_ITEM_TITLE,icon:l9,showIconFirst:!0,action:$8,children:N},"switch-account")})]})]})]})})}function Zee(e){var t=e.userId,n=e.user,i=e.guildId,a=e.onClose,l=e.onSelect,c=(0,s.e7)([F.default],(function(){return F.default.getUser(t)}),[t]),u=(0,s.e7)([bu.Z],(function(){return bu.Z.getCustomStatusActivity()})),f=xee(o.useState(!1),2),d=f[0],p=f[1],h=null!=c?c:n,E=(0,s.e7)([xr.Z],(function(){return null!=h&&null!=xr.Z.getAnyStreamForUser(h.id)}));o.useEffect((function(){null==c&&function(){e.apply(this,arguments)}();function e(){return(e=Cee((function(){return Ree(this,(function(e){switch(e.label){case 0:return"string"!=typeof t?[3,2]:[4,(0,Kl.PR)(t)];case 1:e.sent();p(!0);e.label=2;case 2:return[2]}}))}))).apply(this,arguments)}}),[c,t]);if(null==h){d&&_h()(null!=h,"Unexpected missing user");return null}return(0,r.jsx)(wee,{closePopout:a,user:h,customStatus:u,guildId:i,isApplicationStreaming:E,
onClose:a,onSelect:l})}function Lee(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Dee(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Uee(e){return(0,r.jsxs)("svg",Dee(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Lee(e,t,n[t])}))}return e}({width:232,height:72,
fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{children:[(0,r.jsx)("rect",{width:232,height:72,rx:36,fill:"#fff"}),(0,r.jsxs)("g",{clipPath:"url(#prefix__clip0_1283_59574)",children:[(0,r.jsx)("rect",{x:8,y:8,width:56,height:56,rx:28,fill:"url(#prefix__paint0_linear_1283_59574)"}),(0,r.jsx)("path",{d:"M37.243 35.366l3.455-22.103a3.098 3.098 0 013.217-2.68 3.157 3.157 0 013.038 3.634l-3.395 22.876-6.315-1.727z",fill:"#E66CA5"}),(0,r.jsx)("path",{d:"M40.936 31.315l2.979-13.881a.476.476 0 01.536-.358c.238.06.417.239.357.477l-1.906 13.583-1.966.179z",fill:"#F085B7"}),(0,r.jsx)("path",{d:"M40.698 13.264a3.157 3.157 0 011.132-2.026c-.536 3.634-1.55 10.068-2.979 20.792l-1.132.178 2.979-18.944z",fill:"#FFABBB"}),(0,r.jsx)("path",{d:"M18.357 93.928L9.897 52.94a.894.894 0 01.835-1.073h4.17a.953.953 0 01.894.715l8.578 41.345h-6.017z",fill:"#6E2B17"}),(0,r.jsx)("path",{d:"M39.745 55.442H14.068v4.522h25.677v-4.522z",fill:"#6E2B17"}),(0,r.jsx)("path",{
d:"M25.923 12.549a3.932 3.932 0 00-2.264 4.885l6.434 18.826 8.281-2.443-7.387-19.064a3.932 3.932 0 00-5.064-2.204z",fill:"#E66CA5"}),(0,r.jsx)("path",{d:"M32.298 31.553l3.276-.477-4.527-11.26a1.191 1.191 0 00-1.728-.655 1.251 1.251 0 00-.655 1.49l3.634 10.902z",fill:"#F085B7"}),(0,r.jsx)("path",{d:"M30.51 31.553l-6.374-17.515a3.992 3.992 0 00-.477 3.396l4.885 14.357 1.966-.238z",fill:"#FFA3B5"}),(0,r.jsx)("path",{d:"M46.319 28.902l-24.281 3.154a6.374 6.374 0 00-5.5 7.142l.022.171a6.374 6.374 0 007.142 5.5l24.281-3.153a6.375 6.375 0 005.5-7.142l-.022-.172a6.374 6.374 0 00-7.142-5.5z",fill:"#FF85AB"}),(0,r.jsx)("path",{d:"M27.294 66.702c-1.49-1.31-2.86-2.562-3.158-3.098-.298-.536.179-.596.953-.894.775-.298 1.31.655 2.085 2.145.775 1.49 1.43 3.038.12 1.847z",fill:"#F2C591"}),(0,r.jsx)("path",{
d:"M47.608 50.915L25.864 54.37c-1.43 1.25-1.55 1.549-2.562 2.442-2.92 2.562-3.694 4.647-3.753 6.911-.179 3.157.119 3.038-.537 4.17-.655 1.132-1.31 1.55-.714 3.158a8.28 8.28 0 001.787 2.74H54.4c7.685-8.996.715-16.323-6.792-22.876z",fill:"#F7E5BC"}),(0,r.jsx)("path",{d:"M50.826 73.791H27.77s.12-2.025.239-7.208-.894-8.758-4.707-9.77c.775-.775 1.609-1.61 2.562-2.443l21.745-3.396c1.43 1.251 2.86 2.502 4.17 3.813a93.885 93.885 0 01-.953 19.004z",fill:"#1F3A70"}),(0,r.jsx)("path",{d:"M47.609 50.974h-.298l-.298.358a58.619 58.619 0 01-3.455 9.472s.119 1.191 1.727-1.132a25.974 25.974 0 003.694-7.506l-1.37-1.192zM28.306 54.37c4.23 5.064 5.66 6.256 7.209 7.268 1.549 1.013.238-.536-1.37-2.919a313.091 313.091 0 01-3.515-5.362l-2.324 1.013z",fill:"#172E5C"}),(0,r.jsx)("path",{d:"M29.974 57.349s-.178.417-1.131 1.013c-.954.595-1.132.893-1.251.715a5.184 5.184 0 00-3.634-2.92c.595-.655 1.25-1.25 1.966-1.906 3.276 1.37 4.05 3.098 4.05 3.098z",fill:"#244AB0"}),(0,r.jsx)("path",{
d:"M45.702 50.915l-4.409 16.442-11.2-15.906 15.609-.536z",fill:"#D4BF9B"}),(0,r.jsx)("path",{d:"M36.17 56.693l8.4 2.205-3.157 5.004-5.243-6.255c-.715-.834-1.37-1.311 0-.954z",fill:"#CCAC89"}),(0,r.jsx)("path",{d:"M32.536 54.072l10.247 1.37c1.132.12 1.191-1.131 1.787-3.574l-11.08.834-.954 1.37z",fill:"#DE5D98"}),(0,r.jsx)("path",{d:"M48.85 39.874L23.86 43.12a6.016 6.016 0 00-5.192 6.739 6.016 6.016 0 006.741 5.189l24.99-3.246a6.016 6.016 0 005.193-6.739 6.016 6.016 0 00-6.742-5.189z",fill:"#FF85AB"}),(0,r.jsx)("path",{d:"M50.17 51.808a6.136 6.136 0 005.421-6.493 6.017 6.017 0 00-4.05-5.183 6.492 6.492 0 002.025-5.54v-.18a6.256 6.256 0 00-7.09-5.48l-19.719 2.561c4.23 2.92 4.23 5.422 3.515 10.188-.05.726.116 1.452.477 2.085a9.353 9.353 0 01-1.013 10.723l20.434-2.68z",fill:"#F06EA8"}),(0,r.jsx)("path",{
d:"M47.31 67.417l-4.11 3.217a.596.596 0 01-.894-.12L37.6 64.2a.715.715 0 01.12-.894l4.17-3.217a.655.655 0 01.893.12l4.647 6.314a.594.594 0 01-.12.894zM53.923 67.476l-4.945-.357a.476.476 0 01-.416-.417l.357-8.281a.476.476 0 01.477-.417l4.944.357a.476.476 0 01.417.477l-.357 8.221a.477.477 0 01-.477.417z",fill:"#BA4E5D"}),(0,r.jsx)("path",{d:"M54.061 61.886l-2.09-2.446-2.59 2.213 2.089 2.446 2.591-2.213z",fill:"#AD3B4B"}),(0,r.jsx)("path",{d:"M53.983 66.344a.417.417 0 00.298-.536l-1.907-7.566-2.978-.238a.477.477 0 00-.477.417l-.357 8.28v.12a.417.417 0 00.357.12l5.064-.597z",fill:"#872C39"}),(0,r.jsx)("path",{d:"M53.328 66.285l-5.004.595a.477.477 0 01-.477-.298l-2.026-8.042a.36.36 0 01.187-.444.358.358 0 01.17-.033l5.005-.655a.476.476 0 01.477.298l2.025 8.042a.417.417 0 01-.357.537z",fill:"#BA4E5D"}),(0,r.jsx)("path",{d:"M51.773 61.16L49.2 59.23l-2.046 2.725 2.573 1.931 2.046-2.725zM44.153 63.485h-3.217v3.407h3.217v-3.407z",fill:"#AD3B4B"}),(0,r.jsx)("path",{
d:"M50.35 65.153l-3.337-7.209-.834.12a.358.358 0 00-.358.476l2.026 7.983 2.204-.774a.477.477 0 00.298-.596zM42.783 60.208a.655.655 0 00-.894-.119l-1.549 1.192 3.217 7.03a.358.358 0 00.477.178l3.276-1.072a.596.596 0 00.12-.894l-4.647-6.315z",fill:"#872C39"}),(0,r.jsx)("path",{d:"M49.753 66.106l-5.42 1.787a.476.476 0 01-.537-.238L40.34 60.15c-.12-.239 0-.477.297-.596L46 57.766a.477.477 0 01.536.238l3.456 7.506a.414.414 0 01-.082.504.417.417 0 01-.157.092z",fill:"#BA4E5D"}),(0,r.jsx)("path",{d:"M51.48 62.949c2.026 1.012 4.826 2.68 4.826 2.68a3.575 3.575 0 011.668 2.8v.537a3.574 3.574 0 01-3.514 3.693c-.12.06-.239 0-.358 0a3.277 3.277 0 01-2.383-1.37 20.37 20.37 0 00-2.145-2.502c-.417-.417-1.548-1.073-1.906-1.43-1.191-1.31-.953-1.906 0-3.396s1.549-2.144 3.813-1.012z",fill:"#F57FB5"}),(0,r.jsx)("path",{
d:"M37.71 41.344c.518-.407.459-1.344-.131-2.094-.59-.75-1.488-1.028-2.005-.621-.517.407-.458 1.345.132 2.094.59.75 1.488 1.028 2.005.621zM47.629 38.217c.16-.87-.207-1.668-.82-1.78-.613-.113-1.239.502-1.399 1.372-.16.871.207 1.668.82 1.78.613.113 1.239-.502 1.399-1.372z",fill:"#1E1C2B"}),(0,r.jsx)("path",{d:"M40.757 43.468l1.55 1.013a2.025 2.025 0 002.918-.834l.477-1.013",stroke:"#BA4173",strokeWidth:2,strokeMiterlimit:10,strokeLinecap:"round"}),(0,r.jsx)("path",{d:"M22.051 43.647c-1.43-.358-3.157-.834-3.872-.894a6.554 6.554 0 002.502 1.787l-.239.239 3.694-.18c1.31-.178.775-.297-2.085-.952z",fill:"#F071AB"}),(0,r.jsx)("path",{d:"M20.676 36.013c.937-1.015 1.383-2.128.996-2.485-.387-.357-1.46.177-2.397 1.192-.937 1.016-1.383 2.129-.996 2.486.387.356 1.46-.177 2.397-1.193z",fill:"#FFA1BD"}),(0,r.jsx)("path",{d:"M20.443 67.357l3.276-1.37c.655-.238.06-.477-1.43-1.132-1.489-.655-1.787-.894-1.906.417-.12 1.31-.596 2.323.06 2.085z",fill:"#FAD596"}),(0,r.jsx)("path",{
d:"M28.544 66.642c.656-3.336.596-4.23.834-4.289.239-.06.834.775 1.311 1.787.477 1.013-2.145 2.502-2.145 2.502z",fill:"#172E5C"}),(0,r.jsx)("path",{d:"M57.974 68.43a3.573 3.573 0 00-1.668-2.8s-2.264-1.37-4.17-2.324a12.57 12.57 0 00-2.74 3.575 3.756 3.756 0 00-.477 1.37l.715.536a26.082 26.082 0 012.145 2.502 3.455 3.455 0 001.668 1.251c.805.23 1.663.188 2.442-.119a3.635 3.635 0 002.085-3.574v-.417z",fill:"#F073AB"}),(0,r.jsx)("path",{d:"M47.65 61.933l-2.874-1.446-1.53 3.045 2.873 1.445 1.531-3.044z",fill:"#AD3B4B"}),(0,r.jsx)("path",{d:"M12.4 53.476a2.204 2.204 0 100-4.408 2.204 2.204 0 000 4.408z",fill:"#6E2B17"})]}),(0,r.jsxs)("g",{opacity:.5,fill:"#4F5660",children:[(0,r.jsx)("circle",{cx:82,cy:36,r:2}),(0,r.jsx)("circle",{cx:90,cy:36,r:2}),(0,r.jsx)("circle",{cx:98,cy:36,r:2})]}),(0,r.jsx)("g",{clipPath:"url(#prefix__clip1_1283_59574)",fill:"#4F5660",children:(0,r.jsx)("path",{
d:"M121.04 25.2l-8.16.12c-.48 0-.72.72-.36 1.08l1.56 1.44c.48.48.48 1.2 0 1.68l-1.68 1.8c-1.32 1.44-1.32 3.72.12 5.04.48.48 1.2.48 1.68 0l2.52-2.64c.96-.96 2.4-.96 3.36 0l.72.6c.36.36 1.08.12.96-.48l-.12-8.04c0-.36-.24-.6-.6-.6zM110.72 47.4l8.16-.12c.48 0 .84-.72.36-1.08l-1.56-1.44a1.16 1.16 0 010-1.68l1.68-1.68c1.44-1.44 1.32-3.72-.12-5.04a1.16 1.16 0 00-1.68 0L115.04 39c-.96.96-2.4.96-3.36 0l-.72-.72c-.36-.36-.96-.12-.96.48l.12 8.04c0 .36.36.6.6.6z"})}),(0,r.jsxs)("g",{opacity:.5,fill:"#4F5660",children:[(0,r.jsx)("circle",{cx:134,cy:36,r:2}),(0,r.jsx)("circle",{cx:142,cy:36,r:2}),(0,r.jsx)("circle",{cx:150,cy:36,r:2})]}),(0,r.jsxs)("g",{clipPath:"url(#prefix__clip2_1283_59574)",children:[(0,r.jsx)("rect",{x:168,y:8,width:56,height:56,rx:28,fill:"url(#prefix__paint1_linear_1283_59574)"}),(0,r.jsx)("path",{d:"M197.886 21.806c1.902-7.234 2.816-8.517 7.188.815l-7.188-.815z",fill:"#D4E1FF"}),(0,r.jsx)("path",{
d:"M246.129 126.042c-5.929 2.098-21.615-.692-23.097-4.568-1.482-3.876 12.845-54.809 17.637-57.13 4.793-2.32 18.897 2.05 22.627 15.9 3.73 13.85-3.902 14.789-3.902 14.789s2.371 20.244 2.717 22.417c.346 2.173 1.556 5.95-2.717 6.419-4.274.469-7.115 0-13.265 2.173z",fill:"#4D90E8"}),(0,r.jsx)("path",{d:"M179.878 37.261l-.173.149c2.618 2.469 6.596 8.813 12.647 8.493 0 0 4.891 8.937 10.153 7.95 5.262-.988 9.164-8.395 9.164-8.395a27.582 27.582 0 002.989-8.197c-.074-.666-.321-1.185-.79-1.506-3.755-2.493-31.248-.493-33.99 1.506z",fill:"#1C1B29"}),(0,r.jsx)("path",{d:"M187.857 18.942l5.508 1.481a12.878 12.878 0 015.188-1.036c8.398 0 12.869 6.814 12.869 15.183 0 8.37-4.471 15.184-12.869 15.184-8.399 0-12.845-6.814-12.845-15.184a21.9 21.9 0 01.296-3.679c.569-3.21.418-6.508-.445-9.653a1.879 1.879 0 012.298-2.296z",fill:"#B3CAFF"}),(0,r.jsx)("path",{
d:"M211.126 38.2c-4.076 1.802-8.275-.1-12.326-2.42-4.422-2.543-7.263-8.987-8.473-11.036-1.21-2.05-2.94-2.444-4.125-5.431a1.852 1.852 0 00-.642 1.925 21.983 21.983 0 01.444 9.654 21.9 21.9 0 00-.296 3.678c0 8.37 4.471 15.184 12.845 15.184 7.139 0 11.437-4.938 12.573-11.555z",fill:"#8DAEF7"}),(0,r.jsx)("path",{d:"M210.385 35.705c0 6.518-3.878 11.802-8.646 11.802-4.767 0-8.621-5.284-8.621-11.802 0-10.764 6.694-1.95 11.462-1.95 4.767 0 5.928-7.283 5.805 1.95z",fill:"#FCFDFF"}),(0,r.jsx)("path",{d:"M201.882 41.99c.463-.039.785-.687.722-1.448-.064-.761-.491-1.346-.953-1.308-.462.04-.785.688-.721 1.448.064.761.49 1.347.952 1.308zM207.557 40.729c.138-.751-.12-1.428-.577-1.511-.456-.084-.938.457-1.076 1.208-.137.75.121 1.427.577 1.511.456.084.938-.457 1.076-1.208z",fill:"#1C1B29"}),(0,r.jsx)("path",{d:"M194.007 60.84s-5.755 4.369-11.288 2.073a.914.914 0 01-.544-1.086c.519-1.68 2.495-5.654 9.584-5.259 9.017.518 2.248 4.271 2.248 4.271z",fill:"#A62D69"}),(0,r.jsx)("path",{
d:"M192.352 53.21s-1.778-4.444-9.312-3.26a.868.868 0 00-.685.545.855.855 0 00.141.863 20.874 20.874 0 0011.091 6.617c8.004 1.728-1.235-4.765-1.235-4.765z",fill:"#A62D69"}),(0,r.jsx)("path",{d:"M193.785 57.728c-.321 3.16-5.41 3.284-6.052-.69-.642-3.976 2.297-4.593 4.397-3.284 2.1 1.308 1.655 3.974 1.655 3.974z",fill:"#79A0F7"}),(0,r.jsx)("path",{d:"M214.658 37.261z",fill:"#DE548C"}),(0,r.jsx)("path",{
d:"M226.639 116.734c-3.508.741-14.006-9.258-14.006-9.258 2.89 9.085 3.384 11.801 3.878 14.146.494 2.346.197 2.815 0 4.469-.198 1.654-.198 1.605.79 3.679.988 2.073 1.631 3.53 1.828 4.592a5.839 5.839 0 01-.074 1.851h-44.142s-.223-.987.716-3.728c.939-2.74 3.088-5.011 4.273-6.74 1.186-1.728 1.112-1.555.791-2.271-1.482-3.506.914-2.74 1.927-7.999 1.012-5.259 1.334-30.343 3.581-40.588 2.248-10.246 5.682-12.666 5.929-21.134-4.175-3.9-14.525-14.048-12.425-16.344 2.371 2.222 9.485 3.309 15.29 3.26a2.42 2.42 0 012.322 1.629c.988 2.987 3.483 8.888 7.411 8.122 3.928-.765 6.842-7.777 7.658-10.32a2.54 2.54 0 011.012-1.358 4.324 4.324 0 001.26-1.48c.544 4.863-7.534 17.75-7.534 17.75s2.001 17.48 6.003 23.232c4.001 5.753 15.241 5.753 15.512 11.234.272 5.48 1.483 26.515-2 27.256z",fill:"#BD4070"}),(0,r.jsx)("path",{
d:"M192.698 42.742c-2.915-.173-6.842-.667-13.141-3.802 1.012 3.678 9.041 11.48 12.573 14.813a24.5 24.5 0 01-1.408 7.703c3.186 4.518 7.04 1.58 7.732 14.27.296 5.407 4.273 12.591 8.423 20.368 4.15 7.777 4.718-6.518 4.545-13.554-.099-3.827-.864-8.567-1.68-13.085-1.753-6.839-2.618-14.443-2.618-14.443s5.657-9.036 7.188-14.813c-.386.24-.688.594-.864 1.012a106.604 106.604 0 01-5.138 10.098c-1.952 3.284-5.583 4.913-9.758-1.555-4.174-6.469-2.717-6.814-5.854-7.012z",fill:"#A12C66"}),(0,r.jsx)("path",{d:"M209.298 82.837c-1.087-.223-2.248-1.605-6.151-4.222 0 0-.173-3.308-4.693-2.889 0 0-1.828-4.74-3.335-8.986-1.507-4.247-5.434-1.852-6.25 2.468-1.827 9.826-2.47 28.022.742 34.515 1.877 3.802 3.705 4.592 10.547 6.543 1.482.716 4.743-4.716 6.373-13.382 2.174-11.53 2.767-12.196 2.767-14.047z",fill:"#BD4070"}),(0,r.jsx)("path",{d:"M205.984 24.434c.285-.416-.442-1.41-1.624-2.218-1.182-.809-2.371-1.127-2.656-.71-.285.415.442 1.409 1.624 2.217 1.182.81 2.371 1.128 2.656.711z",fill:"#D4E1FF"}),(0,
r.jsx)("path",{d:"M194.526 30.645c4.348 2.098 5.855 4.765 9.338 4.666 3.483-.099 4.841-1.778 6.249-4.024-.568-1.235-2.124 2.468-5.533 2.468-3.409 0-7.855-4.567-10.054-3.11z",fill:"#8DAEF7"}),(0,r.jsx)("path",{d:"M196.774 67.233c2.495 3.506-.864-7.036-.864-7.036h-4.768c-.642 2.197-1.531 4.172-2.47 6.567 1.433-3.605 4.471-4.592 8.102.469z",fill:"#A12C66"}),(0,r.jsx)("path",{d:"M224.959 53.136l1.853-.815c.049-.024.049-.074 0-.074l-1.853-.84h-.025l-.839-1.85c0-.05-.05-.05-.075 0l-.815 1.85h-.024l-1.878.84c-.025 0-.025.05 0 .074l1.878.815h.024l.815 1.876h.075l.839-1.876h.025z",fill:"#A1F7D7"})]}),(0,r.jsxs)("defs",{children:[(0,r.jsx)("clipPath",{id:"prefix__clip0_1283_59574",children:(0,r.jsx)("rect",{x:8,y:8,width:56,height:56,rx:28,fill:"#fff"})}),(0,r.jsx)("clipPath",{id:"prefix__clip1_1283_59574",children:(0,r.jsx)("path",{fill:"#fff",transform:"translate(110 25.2)",d:"M0 0h11.76v22.2H0z"})}),(0,r.jsx)("clipPath",{id:"prefix__clip2_1283_59574",children:(0,r.jsx)("rect",{x:168,y:8,
width:56,height:56,rx:28,fill:"#fff"})}),(0,r.jsxs)("linearGradient",{id:"prefix__paint0_linear_1283_59574",x1:36,y1:64.254,x2:36,y2:24.141,gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{stopColor:"#7196FF"}),(0,r.jsx)("stop",{offset:1,stopColor:"#2A5EE8"})]}),(0,r.jsxs)("linearGradient",{id:"prefix__paint1_linear_1283_59574",x1:196,y1:64.254,x2:196,y2:24.141,gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{stopColor:"#7196FF"}),(0,r.jsx)("stop",{offset:1,stopColor:"#2A5EE8"})]})]})]}))}var kee=n(342983),Gee=n.n(kee);function Bee(e){Se.Z.set(SE.Ip,"true");null==e||e()}function Hee(e){var t=e.markAsDismissed;o.useEffect((function(){var e=function(e){e.keyCode===R.yXg.ESCAPE&&Bee(t)};window.addEventListener("keydown",e);return function(){window.removeEventListener("keydown",e)}}),[t]);o.useEffect((function(){return function(){Bee()}}),[]);return(0,r.jsxs)("div",{className:Gee().container,children:[(0,r.jsx)(Uee,{className:Gee().icon}),(0,r.jsx)(K.xv,{
className:Gee().title,variant:"text-sm/normal",children:J.Z.Messages.MULTI_ACCOUNT_ANNOUNCEMENT_TOOLTIP_TITLE}),(0,r.jsx)(K.xv,{variant:"text-sm/normal",className:Gee().subTitle,children:J.Z.Messages.MULTI_ACCOUNT_ANNOUNCEMENT_SUBTITLE.format({maxAltAccounts:SE.$H-1})}),(0,r.jsx)(K.zx,{look:K.zx.Looks.INVERTED,fullWidth:!0,onClick:function(){return Bee(t)},children:J.Z.Messages.GOT_IT}),(0,r.jsx)("div",{className:Gee().pointer})]})}var Vee=function(){var e=I9.useExperiment({},{autoTrackExposure:!0}).enabled,t=(0,DT.ZP)([F.default],(function(){return F.default.getCurrentUser()})),n=(0,DT.ZP)([pn.Z],(function(){return Object.values(pn.Z.getMemberCounts()).some((function(e){return e>=200}))}));return e&&!(0,$d.EO)(t)&&n},Fee=n(140776),Yee=n.n(Fee);const zee=function(e){var t=e.markAsDismissed,n=(0,DT.ZP)([h.Z],(function(){return h.Z.useReducedMotion}));return Vee()?(0,r.jsx)(hL.ZP,{asset:(0,r.jsx)(jL.Z,{className:Yee().video,
src:"https://cdn.discordapp.com/attachments/1067194967979733053/1067195117439557712/Safety_BLOCK_Coachmark.mp4",loop:!0,autoPlay:!n,width:"100%"}),header:J.Z.Messages.SAFETY_CONSUMER_EDUCATION_BLOCK_HEADER,content:J.Z.Messages.SAFETY_CONSUMER_EDUCATION_BLOCK_CONTENT,buttonCTA:J.Z.Messages.GOT_IT,className:Yee().coachmark,onClick:function(e){e.stopPropagation();t()},markAsDismissed:t,caretPosition:hL.DF.BOTTOM_CENTER,headerClassName:Yee().header}):null};var Wee=n(92148),Kee=n.n(Wee);const qee=function(e){var t=e.markAsDismissed,n=(0,DT.ZP)([h.Z],(function(){return h.Z.useReducedMotion}));return Vee()?(0,r.jsx)(hL.ZP,{asset:(0,r.jsx)(jL.Z,{className:Kee().video,src:"https://cdn.discordapp.com/attachments/1067194967979733053/1067195118026772480/Safety_MUTE_Coachmark.mp4",loop:!0,autoPlay:!n,width:"100%"}),header:J.Z.Messages.SAFETY_CONSUMER_EDUCATION_MUTE_HEADER,content:J.Z.Messages.SAFETY_CONSUMER_EDUCATION_MUTE_CONTENT,buttonCTA:J.Z.Messages.GOT_IT,className:Kee().coachmark,
onClick:function(e){e.stopPropagation();t()},markAsDismissed:t,caretPosition:hL.DF.BOTTOM_CENTER,headerClassName:Kee().header}):null};var Xee,Qee=n(644952);!function(e){e[e.VIEW=0]="VIEW";e[e.DISMISS=1]="DISMISS";e[e.CHANGE_SETTING=2]="CHANGE_SETTING"}(Xee||(Xee={}));var $ee=n(162167),Jee=n.n($ee),ete=n(660588),tte=n.n(ete);const nte=function(e){var t=e.markAsDismissed;o.useEffect((function(){Te.default.track(R.rMx.DM_SAFETY_COACHMARK_ACTION,{action:Xee.VIEW})}),[]);return(0,r.jsx)(hL.ZP,{asset:(0,r.jsx)("img",{src:tte(),alt:J.Z.Messages.USER_EXPLICIT_CONTENT_FILTER_COACHMARK_ASSET_ALT,className:Jee().art}),header:J.Z.Messages.USER_EXPLICIT_CONTENT_FILTER_COACHMARK_HEADER,content:J.Z.Messages.USER_EXPLICIT_CONTENT_FILTER_COACHMARK_CONTENT,buttonCTA:J.Z.Messages.GOT_IT,secondaryButtonCTA:J.Z.Messages.USER_EXPLICIT_CONTENT_FILTER_COACHMARK_REDIRECT,className:Jee().coachmark,onClick:function(e){e.stopPropagation();t();Te.default.track(R.rMx.DM_SAFETY_COACHMARK_ACTION,{action:Xee.DISMISS})
},onSecondaryClick:function(){(0,q.uL)(R.Z5c.SETTINGS("privacy-and-safety"));Te.default.track(R.rMx.DM_SAFETY_COACHMARK_ACTION,{action:Xee.CHANGE_SETTING})},markAsDismissed:t,caretPosition:hL.DF.BOTTOM_CENTER,headerClassName:Jee().header})};const rte=function(e){return(0,s.cj)([P.Z,We.Z,tr.default],(function(){return function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:P.Z,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:We.Z,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:tr.default,i=null!=e?n.getVoiceState(e.getGuildId(),o.getId()):null;return{selfDeaf:r.isSelfDeaf(),deaf:null!==(t=null==i?void 0:i.deaf)&&void 0!==t&&t}}(e,P.Z,We.Z,tr.default)}))};var ote=n(899881),ite=n(221713),ate=n(73393),ste=n(353967),lte=n(217039),cte=n(993167),ute=n(433415),fte=n(230365),dte=n(430542),pte=n(552572),hte=n(726283),Ete=n(668131),yte=n(129609),mte=n.n(yte);function bte(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gte(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function Ote(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){gte(i,r,o,a,s,"next",e)}function s(e){gte(i,r,o,a,s,"throw",e)}a(void 0)}))}}function vte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function Ite(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Ste(e){Ste=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Ste(e)}function Tte(e){
for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Ite(e,t,n[t])}))}return e}function Nte(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Cte(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){
var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function Ate(e,t){return!t||"object"!==jte(t)&&"function"!=typeof t?bte(e):t}function Pte(e,t){Pte=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Pte(e,t)}var jte=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function xte(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Ste(e);if(t){var o=Ste(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ate(this,n)}}var Rte=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),
throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Mte=bs.default.getEnableHardwareAcceleration()?cg.Xo:cg.ZP
;var wte=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Pte(e,t)}(o,e);var t=xte(o);function o(){vte(this,o);var e;(e=t.apply(this,arguments)).copiedTimeout=new ju.V7;e.copiedDecayTimeout=new ju.V7;e.speakingWhileMutedTooltipTimeout=new ju.V7;e.state={hovered:!1,copiedStreak:0,shouldShowNametagTooltip:!1,shouldShowCopiedFeedback:!1,shouldShowSpeakingWhileMutedTooltip:!1,hoveringOnMute:!1};e.handleToggleSelfMute=function(){var t=e.props,n=t.serverMute,r=t.suppress;(0,M9.Z)(n,r)};e.handleToggleSelfDeaf=function(){R9(e.props.serverDeaf)};e.handleOpenAccountSettings=function(){e.handleOpenSettings()};e.handleOpenSettings=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R.oAB.ACCOUNT,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;p.Z.open(e,t,n)}
;e.handleOpenSettingsContextMenu=function(t){var o=e.props.currentUser;if(null!=o){var i=bte(e);(0,db.jW)(t,Ote((function(){var e,t;return Rte(this,(function(a){switch(a.label){case 0:return[4,Promise.all([n.e(40532),n.e(93864)]).then(n.bind(n,793864))];case 1:e=a.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Nte(Tte({},e),{user:o,premiumSubscription:i.props.premiumSubscription,webBuildOverride:i.props.webBuildOverride}))}]}}))})))}};e.handleInputAudioContextMenu=function(e){(0,db.jW)(e,Ote((function(){var e,t;return Rte(this,(function(o){switch(o.label){case 0:return[4,Promise.resolve().then(n.bind(n,14395))];case 1:e=o.sent(),t=e.default;return[2,function(){return(0,r.jsx)(t,{onClose:db.Zy,renderInputDevices:!0,renderInputModes:!0,renderInputVolume:!0})}]}}))})))};e.handleOutputAudioContextMenu=function(e){(0,db.jW)(e,Ote((function(){var e,t;return Rte(this,(function(o){switch(o.label){case 0:return[4,Promise.resolve().then(n.bind(n,14395))];case 1:e=o.sent(),t=e.default
;return[2,function(){return(0,r.jsx)(t,{onClose:db.Zy,renderOutputDevices:!0,renderOutputVolume:!0})}]}}))})))};e.handleMouseEnter=function(){e.setState({hovered:!0})};e.handleMouseLeave=function(){e.setState({hovered:!1})};e.handleMouseEnterMute=function(){e.setState({hoveringOnMute:!0,shouldShowSpeakingWhileMutedTooltip:!1});e.speakingWhileMutedTooltipTimeout.stop()};e.handleMouseLeaveMute=function(){e.setState({hoveringOnMute:!1})};e.handleCopyTag=function(){var t=e.props.currentUser,n=e.state,r=n.shouldShowNametagTooltip,o=n.copiedStreak;if(null!=t){(0,hte.JG)(t.tag);Te.default.track(R.rMx.TEXT_COPIED,{type:"User Tag"});var i={shouldShowCopiedFeedback:!0,shouldShowNametagTooltip:!0};r||(i.copiedStreak=o+1);e.setState(i,(function(){e.copiedTimeout.start(1e3,(function(){return e.setState({shouldShowNametagTooltip:!1})}));e.copiedDecayTimeout.start(2e3,(function(){return e.setState({copiedStreak:0})}))}))}};e.handleOccludedChanged=function(){e.props.occluded&&e.setState({
shouldShowNametagTooltip:!1,shouldShowSpeakingWhileMutedTooltip:!1})};e.handleSpeakingWhileMutedChanged=function(){var t=e.props,n=t.selfMute,r=t.serverMute,o=t.suppress,i=t.speakingWhileMuted,a=t.occluded,s=e.state.hoveringOnMute;if(i)s||!n||r||o||a||e.setState({shouldShowSpeakingWhileMutedTooltip:!0},(function(){e.speakingWhileMutedTooltipTimeout.start(2e3,(function(){return e.setState({shouldShowSpeakingWhileMutedTooltip:!1})}))}));else{e.setState({shouldShowSpeakingWhileMutedTooltip:!1});e.speakingWhileMutedTooltipTimeout.stop()}};e.renderStatusPickerPopout=function(t){var n=t.closePopout,o=e.props,i=o.showRichProfilePopup,a=o.currentUser;if(i){var s={userId:null==a?void 0:a.id,user:a,onClose:function(){e.handleMouseLeave();null==n||n()}};return(0,r.jsx)("div",{className:mte().accountProfilePopoutWrapper,children:(0,r.jsx)(Zee,Tte({},s))})}return(0,r.jsx)(_9,{onClose:function(){e.handleMouseLeave();null==n||n()}})};e.renderSettingsGear=function(){var t=e.props.webBuildOverride
;return(0,r.jsx)(fte.Z,{tooltipText:null!=t?J.Z.Messages.USER_SETTINGS_WITH_BUILD_OVERRIDE.format({webBuildOverride:t.id}):J.Z.Messages.USER_SETTINGS,onClick:e.handleOpenAccountSettings,onContextMenu:e.handleOpenSettingsContextMenu,innerClassName:null!=t?mte().buildOverrideButton:null,icon:ate.Z,children:null!=t?(0,r.jsx)(lte.Z,{width:9,height:9,className:mte().hasBuildOverride,"aria-hidden":!0}):null})};return e}var i=o.prototype;i.componentDidUpdate=function(e){var t=e.speakingWhileMuted,n=e.occluded,r=this.props,o=r.speakingWhileMuted;r.occluded!==n&&this.handleOccludedChanged();o!==t&&this.handleSpeakingWhileMutedChanged()};i.componentWillUnmount=function(){this.copiedTimeout.stop();this.copiedDecayTimeout.stop();this.speakingWhileMutedTooltipTimeout.stop()};i.renderCopiedSuccess=function(){
var e=this.state.copiedStreak,t=[J.Z.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_1,J.Z.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_2,J.Z.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_3,J.Z.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_4,J.Z.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_5,J.Z.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_6,J.Z.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_7,J.Z.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_8,J.Z.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_9,J.Z.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_10,J.Z.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_11],n=Math.min(Math.max(0,e-1),t.length-1);return(0,r.jsx)(K.Uk,{isShaking:this.isCopiedStreakGodlike,children:t[n]})};i.renderNameTagV2=function(){var e=this.state.hovered,t=this.props,n=t.customStatusActivity,o=t.hidePrivateData,i=t.currentUser;if(null==i)return null;var a=$d.ZP.getName(i),s="@"+(o?i.username:i.tag),l=null!=n?(0,r.jsx)(T3.Z,{hoverText:s,forceHover:e,children:(0,r.jsx)(G8.Z,{activity:n,emojiClassName:mte().emoji,className:mte().customStatus})}):void 0
;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:mte().panelTitleContainer,children:(0,r.jsx)(pte.Z,{children:a})}),(0,r.jsx)("div",{className:mte().panelSubtextContainer,children:(0,r.jsx)(dte.Z,{children:null!=l?l:s})})]})};i.renderNameTag=function(){if(this.props.inGlobalDisplayNameExperiment)return this.renderNameTagV2();var e=this.props,t=e.customStatusActivity,n=e.hidePrivateData,o=e.currentUser,i=this.state.hovered;if(null==o)return null;var a=n?null:"#".concat(o.discriminator),s=null!=t?(0,r.jsx)(T3.Z,{hoverText:a,forceHover:i,children:(0,r.jsx)(G8.Z,{activity:t,emojiClassName:mte().emoji,className:mte().customStatus})}):a;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(K.xv,{className:mte().usernameContainer,variant:"text-sm/normal",children:(0,r.jsx)(pte.Z,{children:o.username})}),null!=s?(0,r.jsx)(dte.Z,{className:mte().discriminator,children:s}):null]})};i.renderCopiableNameTag=function(){
var e=this,t=this.props.currentUser,n=this.state,o=n.shouldShowNametagTooltip,i=n.shouldShowCopiedFeedback;if(null==t)return null;var a=null,s=qb.FG.PRIMARY;if(hte.wS){a=J.Z.Messages.ACCOUNT_CLICK_TO_COPY;if(i){a=this.renderCopiedSuccess();s=this.isCopiedStreakGodlike?qb.FG.RED:qb.FG.GREEN}}return(0,r.jsx)(qb.ZP,{text:a,forceOpen:o,"aria-label":!!hte.wS&&J.Z.Messages.ACCOUNT_CLICK_TO_COPY,color:s,delay:500,onAnimationRest:function(t,n){i&&!o&&n.phase===R.UkZ.LEAVE&&e.setState({shouldShowCopiedFeedback:!1})},children:function(t){var n=t.onClick,o=t.onMouseEnter,a=Cte(t,["onClick","onMouseEnter"]);return(0,r.jsx)(K.P3,Nte(Tte({},a),{onMouseEnter:function(){if(i){e.copiedTimeout.stop();e.setState({shouldShowNametagTooltip:!1},o)}else null==o||o()},onClick:function(){null==n||n();e.handleCopyTag()},className:$p()(mte().nameTag,Ite({},mte().canCopy,hte.wS)),children:e.renderNameTag()}))}})};i.renderAvatarWithPopout=function(){
var e=this,t=this.props,n=t.speaking,o=t.streaming,i=t.currentUser,a=t.status,s=t.showTagAsButton,l=t.showTaglessAccountPanel,c=t.canUseAvatarDecorations;if(null==i)return null;var u=c?(0,zs.NZ)({userId:i.id,avatarDecoration:i.avatarDecoration,size:(0,wj.y)(cg.u8.SIZE_32)}):null;return(0,r.jsx)(hF.Z,{object:R.qAy.AVATAR,children:(0,r.jsx)(xg.ZP,{renderPopout:this.renderStatusPickerPopout,position:xg.ZP.Positions.TOP,align:xg.ZP.Align.LEFT,animation:xg.ZP.Animation.FADE,spacing:14,fixed:!0,preload:function(){return(0,Lj.Z)(i.id,null==i?void 0:i.getAvatarURL(null,80))},children:function(t,c){var f;return(0,r.jsxs)(K.P3,Nte(Tte({},t),{"aria-label":J.Z.Messages.SET_STATUS,className:$p()(mte().avatarWrapper,(f={},Ite(f,mte().withTagAsButton,s),Ite(f,mte().withTagless,l),f)),children:[(0,r.jsx)(Mte,{size:cg.u8.SIZE_32,src:i.getAvatarURL(void 0,32,!1),avatarDecoration:u,"aria-label":i.username,status:o?R.Skl.STREAMING:a,isSpeaking:n,className:mte().avatar}),s||l?(0,r.jsx)("div",{
className:$p()(mte().nameTag,Ite({},mte().canCopy,hte.wS)),children:l?(0,r.jsx)(fte.Z,{tooltipText:null,icon:c.isShown?ite.Z:eQ.Z,role:"switch","aria-label":J.Z.Messages.SET_STATUS}):e.renderNameTag()}):null]}))}})})};i.renderNameZone=function(){var e=this,t=this.props,n=t.currentUser,o=t.dismissibleContents,i=this.props,a=i.showTagAsButton,s=i.showTaglessAccountPanel;return null==n?null:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(LT.Z,{contentTypes:o.avatar,children:function(t){var n=t.visibleContent,o=t.markAsDismissed;return n===fn.z$.ACCOUNT_MULTIACCOUNT_TOOLTIP?(0,r.jsx)(xg.ZP,{position:xg.ZP.Positions.TOP,shouldShow:!0,renderPopout:function(){return(0,r.jsx)(Hee,{markAsDismissed:o})},children:function(){return e.renderAvatarWithPopout()}}):e.renderAvatarWithPopout()}}),a||s?null:this.renderCopiableNameTag()]})};i.render=function(){
var e=this,t=this.props,n=t.currentUser,o=t.selfDeaf,i=t.selfMute,a=t.awaitingRemote,s=t.serverMute,l=t.serverDeaf,c=t.suppress,u=t.dismissibleContents,f=this.state.shouldShowSpeakingWhileMutedTooltip;if(null==n)return null;var d=i||c||s,p=o||l;return(0,r.jsxs)("div",{className:mte().container,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,children:[this.renderNameZone(),(0,r.jsxs)(Jp.Z,{grow:0,children:[(0,r.jsx)(fte.Z,{tooltipText:f?J.Z.Messages.ACCOUNT_SPEAKING_WHILE_MUTED:(0,P9.Z)(i,s,c,a),tooltipColor:f?qb.FG.GREEN:void 0,tooltipForceOpen:f||void 0,onMouseEnter:this.handleMouseEnterMute,onMouseLeave:this.handleMouseLeaveMute,icon:d?ute.Z:cte.Z,iconForeground:d?mte().strikethrough:null,onClick:this.handleToggleSelfMute,innerClassName:$p()(Ite({},mte().redIcon,s||c)),onContextMenu:this.handleInputAudioContextMenu,role:"switch","aria-label":J.Z.Messages.MUTE,"aria-checked":d,disabled:a}),(0,r.jsx)(fte.Z,{tooltipText:A9(o,l,a),icon:o?ste.Z:PU.Z,
onClick:this.handleToggleSelfDeaf,onContextMenu:this.handleOutputAudioContextMenu,innerClassName:$p()(Ite({},mte().redIcon,l)),iconForeground:p?mte().strikethrough:null,role:"switch","aria-label":J.Z.Messages.DEAFEN,"aria-checked":p,disabled:a}),(0,r.jsx)(LT.Z,{contentTypes:u.settings,children:function(t){var n=t.visibleContent,o=t.markAsDismissed;switch(n){case fn.z$.QUEST_1_ENROLLMENT_TOOLTIP:return(0,r.jsx)(xg.ZP,{position:xg.ZP.Positions.TOP,align:xg.ZP.Align.CENTER,shouldShow:!0,renderPopout:function(){return(0,r.jsx)(H9,{markAsDismissed:o,partnerGame:Ete.X2.GUILD_WARS_2})},children:e.renderSettingsGear});case fn.z$.QUEST_1_COMPLETION_TOOLTIP:return(0,r.jsx)(xg.ZP,{position:xg.ZP.Positions.TOP,align:xg.ZP.Align.CENTER,shouldShow:!0,renderPopout:function(){return(0,r.jsx)(Y9,{markAsDismissed:o,partnerGame:Ete.X2.GUILD_WARS_2})},children:e.renderSettingsGear});case fn.z$.CONNECTIONS_NUX:return(0,r.jsx)(xg.ZP,{position:xg.ZP.Positions.TOP,align:xg.ZP.Align.CENTER,shouldShow:!0,
renderPopout:function(){return(0,r.jsx)(L9,{markAsDismissed:o})},children:e.renderSettingsGear});case fn.z$.CHURRO_LINK_UPSELL:return(0,r.jsx)(xg.ZP,{position:xg.ZP.Positions.TOP,align:xg.ZP.Align.CENTER,shouldShow:!0,renderPopout:function(){return(0,r.jsx)(ree,{markAsDismissed:o})},children:e.renderSettingsGear});case fn.z$.USER_SAFETY_SAFE_DIRECT_MESSAGING:return(0,r.jsx)(xg.ZP,{position:xg.ZP.Positions.TOP,align:xg.ZP.Align.CENTER,shouldShow:!0,renderPopout:function(){return(0,r.jsx)(nte,{markAsDismissed:o})},children:e.renderSettingsGear});case fn.z$.USER_SAFETY_CONSUMER_EDUCATION_BLOCK:return(0,r.jsx)(xg.ZP,{position:xg.ZP.Positions.TOP,align:xg.ZP.Align.CENTER,shouldShow:!0,renderPopout:function(){return(0,r.jsx)(zee,{markAsDismissed:o})},children:e.renderSettingsGear});case fn.z$.USER_SAFETY_CONSUMER_EDUCATION_MUTE:return(0,r.jsx)(xg.ZP,{position:xg.ZP.Positions.TOP,align:xg.ZP.Align.CENTER,shouldShow:!0,renderPopout:function(){return(0,r.jsx)(qee,{markAsDismissed:o})},
children:e.renderSettingsGear});default:return e.renderSettingsGear()}}})]})]})};!function(e,t,n){t&&_te(e.prototype,t);n&&_te(e,n)}(o,[{key:"isCopiedStreakGodlike",get:function(){return this.state.copiedStreak>=10}}]);return o}(o.PureComponent);function Zte(){var e=(0,s.e7)([F.default],(function(){return F.default.getCurrentUser()})),t=(0,Q$._g)(Ete.X2.GUILD_WARS_2),n=(0,s.e7)([tr.default],(function(){return tr.default.getId()})),i=ut.Ok.useSetting(),a=o.useMemo((function(){return null!=i?(0,D9.Z)(i):null}),[i]),l=(0,s.cj)([gu.Z],(function(){return{streaming:null!=gu.Z.findActivity((function(e){return e.type===R.IIU.STREAMING})),status:gu.Z.getStatus()}})),c=l.streaming,u=l.status,f=(0,T9.Z)({userId:n}),d=(0,s.e7)([kr.Z],(function(){return kr.Z.hidePersonalInformation})),p=(0,s.e7)([N.Z,I.Z],(function(){var e=N.Z.getChannelId();return null!=e?I.Z.getChannel(e):null})),h=(0,ote.Z)(p),E=h.mute,y=h.selfMute,m=h.suppress,b=rte(p),g=b.selfDeaf,O=b.deaf,v=(0,s.e7)([N9.C],(function(){var e
;return(0,C9.fD)()?null===(e=N9.C.getCurrentBuildOverride().overrides)||void 0===e?void 0:e.discord_web:null})),_=(0,s.e7)([Wi.Z],(function(){return Wi.Z.getPremiumTypeSubscription()})),T=(0,s.e7)([We.Z],(function(){return We.Z.getEverSpeakingWhileMuted()})),C=(0,s.e7)([S.Z],(function(){return S.Z.hasLayers()})),A=(0,Y.s9)(Y.JQ)||C||Xi.s.isDisallowPopupsSet(),P=(0,Qee.rW)(),j=(0,Mj.U)(!0).canUseAvatarDecorations;o.useEffect((function(){iee.trackExposure({})}));var x=(0,s.e7)([Wy.Z],(function(){return null!=Wy.Z.getAwaitingRemoteSessionInfo()})),M=iee.useExperiment({}),w=M.isPopupEnabled,Z=M.isJoinedTagButtonEnabled,L=M.isTaglessAccountPanelEnabled,D=(0,s.e7)([U9.Z],(function(){return U9.Z.isCurrentQuestCompleted})),U=(0,s.e7)([U9.Z],(function(){return U9.Z.currentDropQuestGameTitle})),k=(0,oee.n)(),G=(0,S9.n)(),B=Vee(),H=I9.useExperiment({}).bucket,V=function(){var e=z9.YL.useExperiment({}).allowChurroUpsells,t=K9((0,s.Wu)([Uz.Z],(function(){var e
;return[!0===(null===(e=Uz.Z.getAccount(null,R.ABu.PLAYSTATION))||void 0===e?void 0:e.twoWayLink),Uz.Z.isFetching()]})),2),n=t[0],r=t[1];return e&&!r&&!n}(),z={avatar:[],settings:[]};if(!A){null==Se.Z.get(SE.Ip)&&z.avatar.push(fn.z$.ACCOUNT_MULTIACCOUNT_TOOLTIP);if(t){var W;z.settings.push(fn.z$.QUEST_1_ENROLLMENT_TOOLTIP);D&&U===(null===(W=(0,W$.BS)(Ete.X2.GUILD_WARS_2))||void 0===W?void 0:W.title)&&z.settings.push(fn.z$.QUEST_1_COMPLETION_TOOLTIP)}z.settings.push(fn.z$.CONNECTIONS_NUX);V&&z.settings.push(fn.z$.CHURRO_LINK_UPSELL);k&&G&&z.settings.push(fn.z$.USER_SAFETY_SAFE_DIRECT_MESSAGING);B&&(1===H?z.settings.push(fn.z$.USER_SAFETY_CONSUMER_EDUCATION_MUTE):z.settings.push(fn.z$.USER_SAFETY_CONSUMER_EDUCATION_BLOCK))}return(0,r.jsx)(wte,{currentUser:e,customStatusActivity:a,dismissibleContents:z,hidePrivateData:d,inGlobalDisplayNameExperiment:P,occluded:A,premiumSubscription:_,selfDeaf:g,selfMute:y,serverDeaf:O,serverMute:E,showRichProfilePopup:w,showTagAsButton:Z,
showTaglessAccountPanel:L,speaking:f,speakingWhileMuted:T,status:u,streaming:c,suppress:m,webBuildOverride:v,awaitingRemote:x,canUseAvatarDecorations:j})}var Lte=n(296771),Dte=n(827955),Ute=n.n(Dte);function kte(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function Gte(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){kte(i,r,o,a,s,"next",e)}function s(e){kte(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Bte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hte(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Vte(e){Vte=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Vte(e)}function Fte(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Yte(e,t){return!t||"object"!==Wte(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function zte(e,t){zte=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return zte(e,t)}var Wte=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Kte(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{
Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Vte(e);if(t){var o=Vte(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Yte(this,n)}}var qte=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0
;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Xte=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&zte(e,t)}(o,e);var t=Kte(o);function o(){Bte(this,o);return t.apply(this,arguments)}var i=o.prototype;i.handleContextMenu=function(e,t){(0,db.jW)(e,Gte((function(){var e,o;return qte(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(87996),n.e(45323),n.e(64178)]).then(n.bind(n,90248))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,Fte(function(e){
for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Hte(e,t,n[t])}))}return e}({},e),{user:t}))}]}}))})))};i.renderUser=function(e){var t=this;return null==e?null:(0,r.jsxs)(Jp.Z,{className:Ute().user,align:Jp.Z.Align.CENTER,onContextMenu:function(n){null!=e&&t.handleContextMenu(n,e)},children:[(0,r.jsx)(cg.ZP,{src:e.getAvatarURL(void 0,24),"aria-label":e.username,size:cg.ZP.Sizes.SIZE_24,className:Ute().avatar}),(0,r.jsx)($H.Z,{user:e,className:Ute().tag,usernameClass:Ute().username,discriminatorClass:Ute().discriminator})]},e.id)};i.render=function(){var e=this,t=this.props,n=t.party,o=t.header,i=n.map((function(t){return e.renderUser(t)}));return(0,r.jsxs)("div",{className:Ute().userList,children:[(0,r.jsx)("div",{className:Ute().header,children:o
}),(0,r.jsx)(nE.ZP,{className:Ute().content,fade:!0,children:i})]})};return o}(o.PureComponent);const Qte=Xte;var $te=n(283185),Jte=n(11605),ene=n(110854),tne=n.n(ene);function nne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rne(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function one(e){one=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return one(e)}function ine(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){rne(e,t,n[t])}))}return e}function ane(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){
var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function sne(e,t){return!t||"object"!==cne(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function lne(e,t){lne=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return lne(e,t)}var cne=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function une(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}()
;return function(){var n,r=one(e);if(t){var o=one(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return sne(this,n)}}var fne=5,dne=4,pne=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&lne(e,t)}(n,e);var t=une(n);function n(){nne(this,n);var e;(e=t.apply(this,arguments)).renderPartyMember=function(t,n){if(null==t)return null;var i,a=e.props,s=a.host,l=a.renderUserPopout,c=a.onUserContextMenu;i=(null==s?void 0:s.id)===t.id?J.Z.Messages.SPOTIFY_LISTEN_ALONG_HOST:J.Z.Messages.SPOTIFY_LISTEN_ALONG_LISTENER;return(0,r.jsx)(xg.ZP,{preload:function(){return(0,Lj.Z)(t.id,t.getAvatarURL(void 0,80))},renderPopout:function(e){_h()(null!=t,"");return l(e,t)},position:xg.ZP.Positions.TOP,align:xg.ZP.Align.CENTER,children:function(e){return(0,r.jsx)(qb.ZP,{text:i,
children:function(r){var i=r.onMouseEnter,a=r.onMouseLeave;return(0,o.createElement)(cg.ZP,ane(ine({},e),{key:t.id,src:t.getAvatarURL(void 0,24),size:cg.ZP.Sizes.SIZE_24,className:$p()(tne().avatar,n),"aria-label":t.username,onMouseEnter:i,onMouseLeave:a,onContextMenu:function(e){null!=t&&(null==c||c(e,t))}}))}})}},t.id)};e.renderPartyMemberOverflow=function(t,n,o){var i=e.props.renderOverflowPopout;return(0,r.jsx)(xg.ZP,{renderPopout:i,children:function(e){return(0,r.jsx)(qb.ZP,{text:J.Z.Messages.SPOTIFY_LISTEN_ALONG_LISTENERS,children:function(o){return(0,r.jsx)("div",ane(ine({className:$p()(tne().overflow,n)},o,e),{children:t}))}})}},o)};return e}var i=n.prototype;i.isHost=function(){var e=this.props,t=e.currentUser,n=e.host;return t.id===(null==n?void 0:n.id)};i.renderTitle=function(){return(0,r.jsxs)("div",{children:[(0,r.jsx)(pte.Z,{children:this.isHost()?J.Z.Messages.SPOTIFY_LISTEN_ALONG_TITLE_HOST.format({count:this.props.party.length
}):J.Z.Messages.SPOTIFY_LISTEN_ALONG_TITLE_LISTENER}),(0,r.jsx)(dte.Z,{children:J.Z.Messages.SPOTIFY_LISTEN_ALONG_SUBTITLE_LISTENER})]})};i.renderStopListeningButton=function(){var e=this.props.onStopListening;return this.isHost()?null:(0,r.jsx)(fte.Z,{tooltipText:J.Z.Messages.SPOTIFY_LISTEN_ALONG_STOP,onClick:e,icon:Sb.Z})};i.renderHelpIcon=function(){if(!this.isHost())return null;return(0,r.jsx)(fte.Z,{tooltipText:J.Z.Messages.SPOTIFY_LISTEN_ALONG_INFO,onClick:function(){window.open($.Z.getArticleURL(R.BhN.SPOTIFY_CONNECTION),"_blank")},icon:lte.Z})};i.render=function(){return(0,r.jsxs)("div",{className:tne().listeningAlong,children:[this.renderTitle(),(0,r.jsx)(Jp.Z,{justify:Jp.Z.Justify.END,className:tne().party,children:(0,r.jsx)(Jte.Z,{users:this.props.party,max:this.isHost()?fne:dne,renderUser:this.renderPartyMember,renderMoreUsers:this.renderPartyMemberOverflow})}),(0,r.jsxs)("div",{className:tne().icons,children:[this.renderHelpIcon(),this.renderStopListeningButton()]})]})}
;return n}(o.PureComponent);const hne=pne;function Ene(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function yne(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ene(i,r,o,a,s,"next",e)}function s(e){Ene(i,r,o,a,s,"throw",e)}a(void 0)}))}}function mne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bne(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function gne(e){gne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return gne(e)}function One(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))))
;r.forEach((function(t){bne(e,t,n[t])}))}return e}function vne(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function _ne(e,t){return!t||"object"!==Sne(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ine(e,t){Ine=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Ine(e,t)}var Sne=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Tne(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1
;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=gne(e);if(t){var o=gne(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _ne(this,n)}}var Nne=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue
;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Cne=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Ine(e,t)}(o,e);var t=Tne(o);function o(){mne(this,o);var e;(e=t.apply(this,arguments)).handleUserContextMenu=function(e,t){(0,db.jW)(e,yne((function(){var e,o;return Nne(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(87996),n.e(45323),n.e(64178)]).then(n.bind(n,90248))];case 1:e=i.sent(),o=e.default;return[2,function(e){
return(0,r.jsx)(o,vne(One({},e),{user:t}))}]}}))})))};e.renderOverflowPopout=function(){var t=e.props.party;return(0,r.jsx)(Qte,{party:t,header:J.Z.Messages.SPOTIFY_LISTEN_ALONG_LISTENING_ALONG_COUNT.format({count:t.length})})};return e}var i=o.prototype;i.hasParty=function(e){return e.length>1};i.handleStopListening=function(){(0,$te.Z)()};i.renderUserPopout=function(e,t){return(0,r.jsx)(AU.Z,vne(One({},e),{userId:t.id}))};i.render=function(){var e=this.props,t=e.currentUser,n=e.host,o=e.party;return this.hasParty(o)&&null!=t?(0,r.jsx)(hne,{currentUser:t,host:n,party:o,renderUserPopout:this.renderUserPopout,renderOverflowPopout:this.renderOverflowPopout,onStopListening:this.handleStopListening,onUserContextMenu:this.handleUserContextMenu}):null};return o}(o.PureComponent);const Ane=s.ZP.connectStores([pW.Z,F.default,us.Z,BF.Z],(function(){var e,t,n=pW.Z.getSyncingWith(),r=pW.Z.getActivity(),o=F.default.getCurrentUser(),i=[];if(null!=n){e=F.default.getUser(n.userId);t=n.partyId
}else if(null!=r&&null!=r.party&&null!=r.party.id){e=o;t=r.party.id}if(null!=t){var a;i=os()(Array.from(null!==(a=BF.Z.getParty(t))&&void 0!==a?a:[])).map((function(e){return F.default.getUser(e)})).filter(So.lm).orderBy([function(t){return null==e||e.id===t.id},function(e){return us.Z.isFriend(e.id)}],["desc","desc"]).value()}return{currentUser:o,host:e,party:i}}))(Cne);var Pne,jne,xne=n(8062),Rne=n(433411),Mne=n(630164),wne=[(Pne="Watch Together",jne="2021-09_watch_together_rollout",(0,sR.B)({kind:"guild",id:jne,label:"Exposure tracking for ".concat(Pne," (do not override)"),defaultConfig:{},treatments:[]}))];var Zne=n(627599),Lne=n(416866),Dne=n(228260),Une=n(969768),kne=n(90151),Gne=n(841522),Bne=n(781479),Hne=n(57199),Vne=n(894411),Fne=n(259849),Yne=n(422916),zne=n.n(Yne);function Wne(e){var t=e.platform;return t===Fne.YE.XBOX?(0,r.jsx)(YY.Z,{className:zne().icon}):t===Fne.YE.PLAYSTATION?(0,r.jsx)(Hne.Z,{className:zne().icon}):null}function Kne(e){
var t,n=e.voiceState,o=e.awaitingRemoteSessionInfo,i=null!=o?(0,Vne.y)(o.type):null,a=(0,s.e7)([Pd.Z],(function(){var e;return null===(e=Pd.Z.getSessionById(null!==(t=null==n?void 0:n.sessionId)&&void 0!==t?t:""))||void 0===e?void 0:e.clientInfo.os})),l=null!=i?i:a;if(null==l||!Fne.al.has(l))return null;var c=null!=o,u=c?l===Fne.YE.XBOX?J.Z.Messages.XBOX_TRANSFERRING_ELLIPSIS:J.Z.Messages.PLAYSTATION_TRANSFERRING_ELLIPSIS:l===Fne.YE.XBOX?J.Z.Messages.XBOX_REMOTE_CONNECTED.format():J.Z.Messages.PLAYSTATION_REMOTE_CONNECTED.format();return(0,r.jsxs)("div",{className:$p()(zne().root,c?zne().connecting:zne().connected),children:[(0,r.jsx)(Wne,{platform:l}),(0,r.jsx)(K.xv,{color:c?"header-primary":"always-white",variant:"text-xs/medium",children:u})]})}var qne=n(505780),Xne=n(123016),Qne=n(435346),$ne=n(760253),Jne=n(495188),ere=n.n(Jne);function tre(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}
const nre=o.forwardRef((function(e,t){var n,i=e.closePopout,a=e.body,s=e.header,l=e.artClassName,c=e.headerClassName,u=e.tryItText,f=e.onTryFeature,d=e.className,p=e.inlineArt,h=void 0!==p&&p,E=e.isPremiumFeature,y=void 0!==E&&E,m=e.shouldUseHorizontalButtons,b=void 0!==m&&m,g=e.showGIFTag,O=void 0!==g&&g,v=e.dismissibleContent,_=function(e){(0,dn.EW)(v,{dismissAction:e})},I=b?K.zx.Sizes.SMALL:K.zx.Sizes.MAX;o.useEffect((function(){(0,dn.kk)(v)}),[v]);return(0,r.jsx)("div",{className:d,ref:t,children:(0,r.jsxs)("div",{className:$p()(ere().content,(n={},tre(n,ere().contentNoArt,null==l||h),tre(n,ere().contentPremium,y),n)),children:[(0,r.jsx)("div",{className:$p()(l,h?ere().artInline:ere().artAbsolute),children:O&&(0,r.jsx)($ne.Z,{className:ere().gifTag})}),(0,r.jsxs)("div",{className:ere().body,children:[(0,r.jsxs)(K.X6,{className:$p()(y?ere().headerWithPremiumIcon:ere().header,c),variant:"heading-md/bold",color:"always-white",children:[y?(0,r.jsx)(gL.Z,{className:ere().premiumIcon
}):null,s]}),null==a?null:"string"==typeof a?(0,r.jsx)(K.xv,{variant:"text-sm/normal",color:"always-white",children:a}):a]}),null!=f?(0,r.jsxs)("div",{className:b?ere().buttonContainerHorizontal:ere().buttonContainerVertical,children:[(0,r.jsx)(K.zx,{className:ere().button,size:I,onClick:function(){i();f();_(yn.L.PRIMARY)},color:y?K.zx.Colors.BRAND:K.zx.Colors.WHITE,look:y?K.zx.Looks.INVERTED:K.zx.Looks.FILLED,children:null!=u?u:J.Z.Messages.EDUCATION_NEW_FEATURE_TRY_IT}),(0,r.jsx)(K.zx,{className:ere().button,size:I,onClick:function(){i();_(yn.L.DISMISS)},color:y?K.zx.Colors.WHITE:K.zx.Colors.BRAND,look:y?K.zx.Looks.LINK:K.zx.Looks.FILLED,children:J.Z.Messages.EDUCATION_NEW_FEATURE_DISMISS})]}):(0,r.jsx)(K.zx,{className:ere().button,size:K.zx.Sizes.MAX,onClick:function(){i();_(yn.L.PRIMARY)},color:K.zx.Colors.WHITE,children:J.Z.Messages.EDUCATION_NEW_FEATURE_CONFIRM}),(0,r.jsx)("div",{className:ere().pointer})]})})}));var rre=n(806702),ore=n(61334),ire=n(859507),are=n.n(ire)
;function sre(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lre(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function cre(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){lre(e,t,n[t])}))}return e}function ure(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){
Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function fre(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function dre(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return sre(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sre(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pre(e){var t=function(e){null==e||e();b()},n=e.channel,i=e.iconClassName,a=fre(e,["channel","iconClassName"]),s=(0,DT.ZP)([F.default],(function(){return F.default.getCurrentUser()})),l=(0,ote.Z)(n),c=l.mute,u=l.suppress,f=(0,DT.ZP)([We.Z],(function(){return We.Z.isDeaf()})),d=dre(o.useState(!1),2),p=d[0],h=d[1],E=n.getGuildId(),y=dre((0,Qne.c)([fn.z$.SOUNDBOARD_EDUCATION]),2),m=y[0],b=y[1],g=(0,lw.Z)(Of.Z.SOUNDBOARD_BUTTON).AnalyticsLocationProvider,O=Nh().v4();if(null==E)return null;var v=(0,$d.v5)(s,{minDaysOld:0,maxDaysOld:30});Xne.ZP.trackExposure({guildId:null!=E?E:""});var _=function(e){return(0,r.jsx)(xg.ZP,{
shouldShow:p,position:xg.ZP.Positions.TOP,onRequestClose:function(){return h(!1)},renderPopout:function(e){var t=e.closePopout;return(0,r.jsx)(ore.Z,{guildId:E,onClose:t,analyticsSource:"rtc panel"})},children:function(n){return(0,r.jsx)("div",{children:(0,r.jsx)(K.zx,ure(cre(ure(cre({},e,n),{disabled:c||u||f,onClick:function(){var n;t();null==e||null===(n=e.onClick)||void 0===n||n.call(e);h(!p)},fullWidth:!0,size:K.zx.Sizes.SMALL}),a),{children:(0,r.jsx)(rre.Z,{className:i})}))})}})};return m!==fn.z$.SOUNDBOARD_EDUCATION||v?(0,r.jsx)(g,{children:(0,r.jsx)(qb.ZP,{text:c?J.Z.Messages.SOUNDBOARD_OPEN_SOUNDBOARD_ERROR_GUILD_MUTE:u?J.Z.Messages.SOUNDBOARD_OPEN_SOUNDBOARD_ERROR_SUPPRESSED:f?J.Z.Messages.SOUNDBOARD_OPEN_SOUNBOARRD_ERROR_DEAFENED:J.Z.Messages.SOUNDBOARD_OPEN_SOUNDBOARD,children:function(e){return _(e)}})}):(0,r.jsx)(xg.ZP,{positionKey:O,position:xg.ZP.Positions.TOP,align:xg.ZP.Align.CENTER,shouldShow:!0,renderPopout:function(e){var n=e.closePopout;return(0,r.jsx)(nre,{
header:J.Z.Messages.SOUNDBOARD_NEW_FEATURE_TOOLTIP_HEADER,body:J.Z.Messages.SOUNDBOARD_NEW_FEATURE_TOOLTIP_BODY,tryItText:J.Z.Messages.SOUNDBOARD_NEW_FEATURE_TOOLTIP_TRY_IT_OUT,dismissibleContent:fn.z$.SOUNDBOARD_EDUCATION,artClassName:are().headerArt,onTryFeature:function(){h(!0);t(n)},closePopout:function(){return t(n)},shouldUseHorizontalButtons:!0,inlineArt:!0})},children:function(){return _()}})}var hre=n(116212),Ere=n(608184),yre=n(623553),mre=n(316728),bre=n(544393),gre=n(511390),Ore=n(432107),vre=n(487170),_re=n(685879),Ire=n(744739),Sre=n(640606),Tre=n(475389),Nre=n(421040),Cre=n(701197);function Are(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Pre(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function jre(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function xre(e){var t=e.width,n=void 0===t?24:t,o=e.height,i=void 0===o?24:o,a=e.color,s=void 0===a?"currentColor":a,l=e.foreground,c=jre(e,["width","height","color","foreground"]);return(0,r.jsxs)("svg",Pre(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Are(e,t,n[t])}))}return e}({},(0,Xb.Z)(c)),{width:n,height:i,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{className:l,d:"M10.889 4C10.889 3.44772 11.3367 3 11.889 3H12.1112C12.6635 3 13.1112 3.44772 13.1112 4V20C13.1112 20.5523 12.6635 21 12.1112 21H11.889C11.3367 21 10.889 20.5523 10.889 20V4Z",fill:s}),(0,r.jsx)("path",{className:l,d:"M6.44439 6.25C6.44439 5.69772 6.89211 5.25 7.44439 5.25H7.66661C8.2189 5.25 8.66661 5.69772 8.66661 6.25V17.75C8.66661 18.3023 8.2189 18.75 7.66661 18.75H7.44439C6.89211 18.75 6.44439 18.3023 6.44439 17.75V6.25Z",fill:s}),(0,r.jsx)("path",{className:l,d:"M3.22222 15.375C3.77451 15.375 4.22222 14.9273 4.22222 14.375L4.22222 9.625C4.22222 9.07272 3.77451 8.625 3.22222 8.625H3C2.44772 8.625 2 9.07272 2 9.625V14.375C2 14.9273 2.44772 15.375 3 15.375H3.22222Z",fill:s}),(0,r.jsx)("path",{className:l,
d:"M22.0001 13.25C22.0001 13.8023 21.5523 14.25 21.0001 14.25H20.7778C20.2255 14.25 19.7778 13.8023 19.7778 13.25V10.75C19.7778 10.1977 20.2255 9.75 20.7778 9.75H21.0001C21.5523 9.75 22.0001 10.1977 22.0001 10.75V13.25Z",fill:s}),(0,r.jsx)("path",{className:l,d:"M16.3333 7.5C15.781 7.5 15.3333 7.94772 15.3333 8.5V15.5C15.3333 16.0523 15.781 16.5 16.3333 16.5H16.5555C17.1078 16.5 17.5555 16.0523 17.5555 15.5V8.5C17.5555 7.94772 17.1078 7.5 16.5555 7.5H16.3333Z",fill:s})]}))}function Rre(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Mre(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){
Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function wre(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function Zre(e){var t=e.width,n=void 0===t?24:t,o=e.height,i=void 0===o?24:o,a=e.color,s=void 0===a?"currentColor":a,l=e.foreground,c=wre(e,["width","height","color","foreground"]);return(0,r.jsxs)("svg",Mre(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Rre(e,t,n[t])}))}return e}({},(0,
Xb.Z)(c)),{width:n,height:i,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M30.6666 24.9644L35.1111 20.5199V31C35.1111 32.1046 34.2156 33 33.1111 33H32.6666C31.562 33 30.6666 32.1046 30.6666 31V24.9644Z",fill:s}),(0,r.jsx)("path",{d:"M26.2224 14.1463V8C26.2224 6.89543 25.327 6 24.2224 6H23.7779C22.6734 6 21.7779 6.89543 21.7779 8V18.5907L26.2224 14.1463Z",fill:s}),(0,r.jsx)("path",{d:"M21.7779 33.8543L21.9254 33.7056L26.2224 29.4086V40C26.2224 41.1046 25.327 42 24.2224 42H23.7779C22.6734 42 21.7779 41.1046 21.7779 40V33.8543Z",fill:s}),(0,r.jsx)("path",{d:"M17.3332 23.0354L12.8888 27.4799V12.5C12.8888 11.3954 13.7842 10.5 14.8888 10.5H15.3332C16.4378 10.5 17.3332 11.3954 17.3332 12.5V23.0354Z",fill:s}),(0,r.jsx)("path",{d:"M8.44445 28.75C8.44445 29.8546 7.54902 30.75 6.44445 30.75H6C4.89543 30.75 4 29.8546 4 28.75V19.25C4 18.1454 4.89543 17.25 6 17.25H6.44445C7.54902 17.25 8.44445 18.1454 8.44445 19.25L8.44445 28.75Z",fill:s}),(0,
r.jsx)("path",{d:"M44.0001 26.5C44.0001 27.6046 43.1047 28.5 42.0001 28.5H41.5557C40.4511 28.5 39.5557 27.6046 39.5557 26.5V21.5C39.5557 20.3954 40.4511 19.5 41.5557 19.5H42.0001C43.1047 19.5 44.0001 20.3954 44.0001 21.5V26.5Z",fill:s}),(0,r.jsx)("path",{d:"M42 8.54L39.46 6L6 39.46L8.54 42L16.92 33.64L19.38 31.16L22.7 27.84L29.98 20.56L42 8.54Z",fill:s,className:l})]}))}var Lre=n(4258),Dre=n(696229),Ure=n(240712),kre=n(372194),Gre=n(485502),Bre=n(303680),Hre=n(458981),Vre=n(981008),Fre=n(845724);function Yre(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function zre(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Yre(e,t,n[t])}))}return e}function Wre(e){var t=e.channel;return(0,
r.jsx)(fte.Z,{tooltipText:J.Z.Messages.AUDIENCE_DISCONNECT,onClick:function(){(0,Vre.Z)(t)?(0,Hre.Us)(t):f.default.disconnect()},icon:Fre.Z})}function Kre(e){var t=e.channel,n=(0,Gre.c)({channelId:t.id,shouldDisconnectCall:!0});return(0,r.jsx)(fte.Z,{tooltipText:J.Z.Messages.DISCONNECT_SELF,onClick:function(){n()||((0,Bre.Z)(t)?(0,hr.lC)(t):f.default.disconnect())},icon:Fre.Z})}function qre(e){return e.channel.isGuildStageVoice()?(0,r.jsx)(Wre,zre({},e)):(0,r.jsx)(Kre,zre({},e))}var Xre=n(667805),Qre=n(837790),$re=n(542448),Jre=n(559714),eoe=n(452689),toe=n(270711),noe=n.n(toe);function roe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ooe(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function ioe(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ooe(i,r,o,a,s,"next",e)}function s(e){ooe(i,r,o,a,s,"throw",e)}
a(void 0)}))}}function aoe(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function soe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){aoe(e,t,n[t])}))}return e}function loe(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function coe(e,t){return function(e){if(Array.isArray(e))return e
}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return roe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return roe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var uoe=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},
"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},foe={offset:2},doe={serverDeaf:{icon:ste.Z,colorize:!0,getStatus:function(){
return J.Z.Messages.SERVER_DEAFENED}},serverMute:{icon:ute.Z,colorize:!0,getStatus:function(){return J.Z.Messages.SERVER_MUTED}},deaf:{icon:ste.Z,colorize:!1,getStatus:function(){return J.Z.Messages.VOICE_CHANNEL_DEAFENED}},mute:{icon:ute.Z,colorize:!1,getStatus:function(){return J.Z.Messages.VOICE_CHANNEL_MUTED}}};function poe(e){var t,o,i=function(e){null!=y?(0,db.jW)(e,ioe((function(){var e,t;return uoe(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(87996),n.e(45323),n.e(1951),n.e(36401)]).then(n.bind(n,536401))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,loe(soe({},e),{user:l,guildId:y,channelId:a.id,showMediaItems:!0}))}]}}))}))):(0,db.jW)(e,ioe((function(){var e,t;return uoe(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(87996),n.e(45323),n.e(64178)]).then(n.bind(n,90248))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,loe(soe({},e),{user:l,showMediaItems:!0}))}]}}))})))
},a=e.channel,l=e.user,c=e.nick,u=e.mute,f=e.deaf,d=e.serverMute,p=e.serverDeaf,h=(0,s.e7)([We.Z],(function(){return We.Z.isLocalMute(l.id)})),E=(0,T9.Z)({userId:l.id,checkSoundSharing:!0}),y=null!==(t=a.getGuildId())&&void 0!==t?t:void 0,m=l.getAvatarURL(a.guild_id,24),b=null!=c?c:l.username,g=null!==(o=p?doe.serverDeaf:f?doe.deaf:d?doe.serverMute:u||h?doe.mute:void 0)&&void 0!==o?o:{},O=g.icon,v=g.colorize,_=g.getStatus,I=null!=_?J.Z.Messages.VOICE_PANEL_USER_TOOLTIP.format({userName:b,status:_()}):b;return(0,r.jsx)(xg.ZP,{preload:function(){return(0,Lj.Z)(l.id,l.getAvatarURL(y,80),{guildId:y,channelId:a.id})},position:xg.ZP.Positions.TOP,renderPopout:function(e){return(0,r.jsx)(AU.Z,soe({userId:l.id,guildId:y,channelId:a.id},e))},children:function(e){return(0,r.jsx)(qb.ZP,{text:I,children:function(t){return(0,r.jsx)(K.P3,loe(soe({},t,e),{className:noe().avatarContainer,onContextMenu:i,focusProps:foe,children:(0,r.jsx)(Xre.Z,{shakeLocation:eoe.oZ.VOICE_USER,isShaking:E,children:(0,
r.jsx)("div",{className:$p()(noe().avatar,aoe({},noe().speaking,E)),style:{backgroundImage:"url(".concat(m,")")},children:null!=O?(0,r.jsx)(O,{className:$p()(noe().avatarIconOverlay,aoe({},noe().avatarIconRed,v)),width:16,height:16,foreground:noe().avatarIconRed}):null})})}))}})}})}function hoe(e){var t=e.voiceStates,n=e.channel,i=e.className,a=coe(o.useState(!1),2),l=a[0],c=a[1],u=l?Jre.Z:$re.Z,f=(0,r.jsx)(Qre.ZP,{className:noe().expandButton,onClick:function(){return c(!l)},color:Qre.YX.PRIMARY,size:Qre.tT.SIZE_24,tooltip:l?J.Z.Messages.VOICE_PANEL_HIDE_EXTRAS:J.Z.Messages.VOICE_PANEL_SHOW_EXTRAS,icon:(0,r.jsx)(u,{width:16,height:16}),focusProps:foe}),d=(0,s.e7)([tr.default],(function(){return tr.default.getId()}),[]),p=coe(function(e,t){var n,r=[],o=!0,i=!1,a=void 0;try{for(var s,l=function(){var e=s.value;if(e.user.id===t)return"continue";if(r.some((function(t){return t.user.id===e.user.id})))return"continue";if(r.length>=7)return{v:[r,!0]};r.push(e)
},c=e[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var u=l();if("object"==((n=u)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n))return u.v}}catch(e){i=!0;a=e}finally{try{o||null==c.return||c.return()}finally{if(i)throw a}}return[r,!1]}(t,d),2),h=p[0],E=p[1],y=E&&l?t:h;return y.length<=0?null:(0,r.jsx)(nE.ZP,{className:$p()(noe().scroller,i),fade:!0,children:(0,r.jsxs)("div",{className:noe().voiceUsers,role:"group","aria-label":J.Z.Messages.VOICE_PANEL_USERS_A11Y_LABEL,children:[y.map((function(e){var t=e.user,o=e.nick,i=e.voiceState;return t.id!==d?(0,r.jsx)(poe,{channel:n,user:t,nick:o,mute:i.isVoiceMuted(),deaf:i.isVoiceDeafened(),video:i.selfVideo,serverMute:i.mute,serverDeaf:i.deaf},t.id):null})),E?f:null]})})}var Eoe=n(444013),yoe=n.n(Eoe);function moe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function boe(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}
s.done?t(l):Promise.resolve(l).then(r,o)}function goe(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){boe(i,r,o,a,s,"next",e)}function s(e){boe(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Ooe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function voe(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function _oe(e){_oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return _oe(e)}function Ioe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){voe(e,t,n[t])}))}return e}function Soe(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Toe(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function Noe(e,t){return!t||"object"!==Poe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}
function Coe(e,t){Coe=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Coe(e,t)}function Aoe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return moe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return moe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Poe=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function joe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=_oe(e);if(t){var o=_oe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Noe(this,n)}}var xoe=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,
o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function Roe(e){var t=e.currentTarget;Te.default.track(R.rMx.NOISE_CANCELLATION_LINK_CLICKED,{text:t.text,href:t.href,location:{section:R.jXE.NOISE_CANCELLATION_POPOUT}})}function Moe(){var e=o.useRef(null);(0,K.Tb)(e);o.useEffect((function(){return Te.default.track(R.rMx.OPEN_POPOUT,{type:R.jXE.NOISE_CANCELLATION_POPOUT})}),[]);var t=(0,s.e7)([We.Z],(function(){return We.Z.getNoiseCancellation()}))
;return(0,r.jsxs)("div",{ref:e,className:yoe().noiseCancellationPopout,children:[(0,r.jsx)(K.j7,{hideBorder:!0,className:lh().marginBottom4,value:t,onChange:function(){return ze.Z.setNoiseCancellation(!t,{section:R.jXE.NOISE_CANCELLATION_POPOUT})},note:J.Z.Messages.NOISE_CANCELLATION_POPOUT_DESCRIPTION,children:J.Z.Messages.NOISE_CANCELLATION_POPOUT_HEADER}),(0,r.jsx)(Rne.Z,{title:J.Z.Messages.NOISE_CANCELLATION_POPOUT_MIC_TEST_TITLE,notchBackground:Rne._.BLACK,buttonTest:J.Z.Messages.NOISE_CANCELLATION_POPOUT_TEST,buttonStop:J.Z.Messages.NOISE_CANCELLATION_POPOUT_STOP,buttonClassName:yoe().micTestButton,buttonColor:K.zx.Colors.PRIMARY,location:{section:R.jXE.NOISE_CANCELLATION_POPOUT}}),(0,r.jsx)(K.vw,{tag:K.RB.H5,className:$p()(lh().marginBottom8,lh().marginTop20),children:J.Z.Messages.NOISE_CANCELLATION_POPOUT_FOOTER}),(0,r.jsxs)(Jp.Z,{justify:Jp.Z.Justify.BETWEEN,className:yoe().footer,children:[(0,r.jsx)(K.ee,{href:R.EYA.KRISP,onClick:function(e){return Roe(e)},children:(0,
r.jsx)("div",{className:yoe().krispLogo})}),(0,r.jsx)(K.ee,{href:$.Z.getArticleURL(R.BhN.NOISE_SUPPRESSION),className:yoe().krispLink,onClick:function(e){return Roe(e)},children:J.Z.Messages.LEARN_MORE})]})]})}function woe(){var e=(0,s.e7)([mre.Z],(function(){return mre.Z.isMuted()})),t=e?J.Z.Messages.STAGE_MUSIC_UNMUTE:J.Z.Messages.STAGE_MUSIC_MUTE;return(0,r.jsx)(fte.Z,{"aria-label":t,tooltipText:t,icon:e?kre.Z:Ure.Z,onClick:function(){return(0,Ere.v)(!e)}})}function Zoe(e){var t=e.channel,n=e.enableActivities,i=(0,bre.Z)(),a=(0,Ore.Z)(t),l=t.getGuildId(),c=(0,s.cj)([j.ZP],(function(){return null!=j.ZP.getSelfEmbeddedActivityForChannel(t.id)})),u=Xne.ZP.useExperiment({guildId:null!=l?l:""}).allowSoundboard,f=(0,gre.Z)(t),d=f.reachedLimit,p=f.limit,h=o.useCallback((function(){(0,_re.Z)()}),[]),E=(0,CL.bp)(),y=o.useCallback((function(e){if(We.Z.isVideoEnabled()!==e){var n=function(){ze.Z.setVideoEnabled(e);if(e){var n;(0,
q.uL)(R.Z5c.CHANNEL(null!==(n=t.getGuildId())&&void 0!==n?n:R.ME,t.id))}};e?(0,Tre.Z)(n,E):n()}}),[t,E]),m=c||n||u,b=(0,r.jsx)(Cre.Z,{className:$p()(yoe().buttonIcon,voe({},yoe().withText,!m))});return(0,r.jsx)(Nre.Z,Soe(Ioe({onChange:y,onCameraUnavailable:h,hasPermission:a,channelLimit:p,channelLimitReached:d},i),{children:function(e){var t=e.unavailable,n=e.active,o=e.label,i=(e.iconComponent,Toe(e,["unavailable","active","label","iconComponent"]));return(0,r.jsx)(xg.ZP,{renderPopout:function(e){var t=e.closePopout;return(0,r.jsx)(Gne.Z,{onClose:t})},position:xg.ZP.Positions.TOP,align:xg.ZP.Align.CENTER,animation:xg.ZP.Animation.FADE,children:function(e,a){var s=e.onClick,l=Toe(e,["onClick"]),c=a.isShown;return(0,r.jsx)(qb.ZP,{text:o,children:function(e){var o;return(0,r.jsx)(K.zx,Soe(Ioe({},i,e,l),{onClick:function(t){var n;i.onClick(t);null===(n=e.onClick)||void 0===n||n.call(e);c&&s(t)},onContextMenu:function(t){var n;s(t);null===(n=e.onContextMenu)||void 0===n||n.call(e)},
size:K.zx.Sizes.SMALL,className:$p()(yoe().button,yoe().buttonColor,(o={},voe(o,yoe().buttonActive,n),voe(o,yoe().fauxDisabled,t),voe(o,yoe().disabled,i.disabled),o)),innerClassName:yoe().buttonContents,wrapperClassName:yoe().button,fullWidth:!0,children:m?b:(0,r.jsxs)(Jp.Z,{align:Jp.Z.Align.CENTER,children:[b,J.Z.Messages.VIDEO]})}))}})}})}}))}function Loe(e){var t=e.channel,n=e.enableActivities,i=(0,CL.bp)(),a=(0,lw.Z)().analyticsLocations,l=i===R.IlC.POPOUT,c=(0,s.e7)([Cs.Z],(function(){return Cs.Z.getIsEnabled()}),[]);!function(e){o.useEffect((function(){null!=e&&wne.forEach((function(t){t.trackExposure({guildId:e})}))}),[e])}(t.getGuildId());var u=(0,Dne.KF)(t.id),f=(0,Dne.g5)(u),d=Aoe((0,s.e7)([j.ZP],(function(){return null!=t.id&&""!==t.id?j.ZP.getEmbeddedActivitiesForChannel(t.id):j.i6})),1)[0],p=(0,s.cj)([j.ZP],(function(){return{userInActivity:null!=j.ZP.getSelfEmbeddedActivityForChannel(t.id)}})).userInActivity,h=(0,RY.O)(),E=(0,
Zne.i)({}).shouldShowFreeIndicator,y=u!==Dne.jy.CAN_LAUNCH;return n?(0,r.jsx)(qb.ZP,{text:f,children:function(e){var n;return(0,r.jsxs)(K.zx,Soe(Ioe({},e),{fullWidth:!0,size:K.zx.Sizes.SMALL,onClick:function(){var n;(0,PL.Z)({channel:t,guildId:t.guild_id,locationObject:h.location,openInPopout:l,analyticsLocations:a});null===(n=e.onClick)||void 0===n||n.call(e)},disabled:y,className:$p()(yoe().button,yoe().buttonColor,(n={},voe(n,yoe().buttonDeveloperActivityShelf,c),voe(n,yoe().buttonActive,p||null!=d),voe(n,yoe().disabled,y),n)),innerClassName:yoe().buttonContents,wrapperClassName:yoe().button,children:[E?(0,r.jsx)(kne.A,{top:-1,right:-1}):null,(0,r.jsx)(Lre.Z,{className:yoe().buttonIcon})]}))}}):null}function Doe(e){var t,n=e.channel,i=e.canGoLive,a=e.enableActivities,l=(0,s.e7)([F.default],(function(){return F.default.getCurrentUser()})),c=(0,s.Wu)([xr.Z],(function(){return xr.Z.getAllActiveStreams()})),u=(0,Ore.Z)(n),f=n.getGuildId(),d=(0,s.cj)([j.ZP],(function(){
return null!=j.ZP.getSelfEmbeddedActivityForChannel(n.id)})),p=Xne.ZP.useExperiment({guildId:null!=f?f:""}).allowSoundboard,h=o.useCallback((function(){(0,Sre.Z)(f,n.id,R.jXE.ACTIVITY_PANEL)}),[f,n.id]),E=c.find((function(e){return e.ownerId===(null==l?void 0:l.id)})),y=(0,vre.E)(n,l,c);t=null==E?i?h:Ire.Z:function(){return(0,qne.Z)(E)};var m=null!=E||y.length>0,b=u?J.Z.Messages.SHARE_YOUR_SCREEN:J.Z.Messages.ACTIVITY_PANEL_GO_LIVE_TOOLTIP_NO_PERMISSION_IN_VOICE,g=!u,O=d||a||p,v=(0,r.jsx)(Dre.Z,{className:$p()(yoe().buttonIcon,voe({},yoe().withText,!O))});return(0,r.jsx)(xg.ZP,{renderPopout:function(e){var t=e.closePopout;return(0,r.jsx)(vre.Z,{channel:n,currentUser:l,activeStreams:c,onClose:t,handleGoLive:i?h:Ire.Z})},position:xg.ZP.Positions.TOP,align:xg.ZP.Align.CENTER,animation:xg.ZP.Animation.FADE,children:function(e){var n=e.onClick,o=Toe(e,["onClick"]);return(0,r.jsx)(qb.ZP,{text:b,children:function(e){var i;return(0,r.jsx)(K.zx,Soe(Ioe(Soe(Ioe({},e),{size:K.zx.Sizes.SMALL,
onClick:function(r){var o;m?n(r):t();null===(o=e.onClick)||void 0===o||o.call(e)},disabled:g,className:$p()(yoe().button,yoe().buttonColor,(i={},voe(i,yoe().buttonActive,null!=E),voe(i,yoe().disabled,g),i))}),m?o:null),{innerClassName:yoe().buttonContents,wrapperClassName:yoe().button,children:O?v:(0,r.jsxs)(Jp.Z,{align:Jp.Z.Align.CENTER,children:[v,J.Z.Messages.GO_LIVE_SHARE_SCREEN]})}))}})}})}var Uoe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Coe(e,t)}(o,e);var t=joe(o);function o(){Ooe(this,o);var e;(e=t.apply(this,arguments)).canScreenshare=function(){var t=e.props,n=t.channel;return t.canGoLive&&null!=n&&null!=n.getGuildId()};e.handleNoiseCancellationClicked=function(){var t=e.props.noiseCancellationActive;ze.Z.setNoiseCancellation(!t,{section:R.jXE.NOISE_CANCELLATION_POPOUT})}
;e.handleGoLive=function(){var t=e.props,n=t.guild,r=t.channel,o=null!=r?r.getGuildId():null!=n?n.id:null;null!=o&&(0,Sre.Z)(o,r.id,R.Sbl.VOICE_PANEL)};e.handleChannelLinkClick=function(t){var n,r=e.props,o=r.guild,i=r.channel;_h()(null!=i,"Channel is null during navigation click");t.stopPropagation();xne.Z.channelListScrollTo(null!==(n=null==o?void 0:o.id)&&void 0!==n?n:R.ME,i.id)};e.handleChannelLinkContextMenu=function(t){var o=e.props.channel;(0,db.jW)(t,goe((function(){var e,t;return xoe(this,(function(i){switch(i.label){case 0:return[4,n.e(5087).then(n.bind(n,705087))];case 1:e=i.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Soe(Ioe({},e),{channel:o}))}]}}))})))};e.handleCloseVoicePanelIntroduction=function(){_r.Kw(Ir.v.VOICE_PANEL_INTRODUCTION)};e.renderVoicePanelIntroduction=function(){return(0,r.jsxs)("div",{className:$p()(yoe().voicePanelIntroductionWrapper,"theme-light"),children:[(0,r.jsx)(K.X6,{className:yoe().voicePanelIntroductionHeader,
variant:"heading-md/semibold",children:J.Z.Messages.VOICE_PANEL_INTRODUCTION_HEADER}),(0,r.jsx)(K.xv,{className:yoe().voicePanelIntroductionText,variant:"text-sm/normal",children:J.Z.Messages.VOICE_PANEL_INTRODUCTION_TEXT}),(0,r.jsx)(K.zx,{className:yoe().voicePanelIntroductionButton,color:K.zx.Colors.BRAND,onClick:e.handleCloseVoicePanelIntroduction,children:J.Z.Messages.VOICE_PANEL_INTRODUCTION_CLOSE})]})};return e}var i=o.prototype;i.renderConnectionStatus=function(){var e=this.props,t=e.channel,n=e.guild,o=e.rtcConnectionQuality,i=e.rtcConnectionState,a=e.rtcConnectionLastPing,s=e.hasVideo;if(null==t)return null;var l,c=(0,Wd.F6)(t,F.default,us.Z,!0);if(null!=n){l=R.Z5c.CHANNEL(n.id,t.id);c="".concat(c," / ").concat(n.name)}else l=R.Z5c.CHANNEL(R.ME,t.id);return(0,r.jsx)(Mne.Z,{statusTextClassName:yoe().statusWithPopout,quality:o,state:i,lastPing:a,hasVideo:s,children:(0,r.jsx)(ob.tE,{children:(0,r.jsx)(g$.rU,{to:l,onClick:this.handleChannelLinkClick,
onContextMenu:this.handleChannelLinkContextMenu,children:(0,r.jsx)(dte.Z,{className:yoe().channel,children:c})})})})};i.renderNoiseCancellation=function(){var e=this.props,t=e.noiseCancellationActive,n=e.noiseCancellationError,o=e.hasLayers,i=e.remoteVoiceState,a=e.channel,s=e.voiceStates,l=!o&&n;if(null!=i)return null;if(null==a?void 0:a.isGuildStageVoice()){if(!(null!=s.find((function(e){return e.user.id===tr.default.getId()&&(0,Od.gf)(e.voiceState)===Od.xO.ON_STAGE})))&&(0,yre.U5)(a.id))return(0,r.jsx)(woe,{})}return l?(0,r.jsx)(qb.ZP,{text:J.Z.Messages.NOISE_CANCELLATION_CPU_OVERUSE,tooltipClassName:yoe().noiseCancellationTooltip,forceOpen:!0,children:function(e){var t=e["aria-label"];return(0,r.jsx)(fte.Z,{"aria-label":t,tooltipText:null,disabled:!0,icon:Zre})}}):(0,r.jsx)(xg.ZP,{position:xg.ZP.Positions.TOP,align:xg.ZP.Align.CENTER,renderPopout:function(){return(0,r.jsx)(Moe,{})},children:function(e,n){var o=n.isShown;return(0,r.jsx)(fte.Z,Soe(Ioe({},e),{
tooltipClassName:yoe().noiseCancellationTooltip,tooltipText:o?null:J.Z.Messages.NOISE_CANCELLATION_TOOLTIP,icon:t?xre:Zre}))}},"krisp-popout")};i.renderVoiceStates=function(){var e=this.props,t=e.channel,n=e.voiceStates,o=e.showVoiceStates;return null!=t&&o&&0!==n.length?(0,r.jsx)(hoe,{voiceStates:n,channel:t,className:yoe().voiceUsers}):null};i.renderChannelButtons=function(){var e=this.props,t=e.channel,n=e.canGoLive,o=e.canUseSoundboard,i=e.remoteVoiceState,a=e.enableActivities,s=e.voiceStates,l=e.selfStream,c=e.isPrivateChannelWithEnabledActivities;if(null==t||null!=i)return null;var u=tr.default.getId();if(t.isGuildStageVoice()){if(!(0,hre.tu)(t.guild_id))return null;if(!n)return null;var f=s.find((function(e){return e.user.id===u}));if(null==f||f.voiceState.suppress)return null}var d=(t.isGuildVoice()||c)&&a,p=!t.isGuildStageVoice()||!(0,hre.xJ)(t.id)||null!=l;return(0,r.jsxs)("div",{className:yoe().actionButtons,children:[(0,r.jsx)(Zoe,{channel:t,enableActivities:d}),p&&(0,
r.jsx)(Doe,{channel:t,canGoLive:n,enableActivities:d}),(0,r.jsxs)(r.Fragment,{children:[d?(0,r.jsx)(Loe,{channel:t,enableActivities:a}):null,t.isGuildVoice()&&o&&(0,Lr.Z)(t)?(0,r.jsx)(pre,{className:$p()(yoe().button,yoe().buttonColor),iconClassName:yoe().buttonIcon,channel:t}):null]})]})};i.render=function(){var e=this,t=this.props,n=t.channel,o=t.noiseCancellationSupported,i=t.shouldShowVoicePanelIntroduction;return null==n?null:(0,r.jsx)(xg.ZP,{renderPopout:this.renderVoicePanelIntroduction,position:xg.ZP.Positions.TOP,align:xg.ZP.Align.CENTER,animation:xg.ZP.Animation.TRANSLATE,shouldShow:i,children:function(){return(0,r.jsxs)("div",{className:yoe().container,children:[(0,r.jsxs)(Jp.Z,{className:yoe().connection,align:Jp.Z.Align.CENTER,children:[(0,r.jsx)("div",{className:yoe().inner,children:e.renderConnectionStatus()}),(0,r.jsxs)(Jp.Z,{grow:0,shrink:0,children:[o?e.renderNoiseCancellation():null,(0,r.jsx)(qre,{channel:n})]})]}),e.renderVoiceStates(),e.renderChannelButtons()]})}})
};return o}(o.PureComponent);const koe=(0,KY.Z)((function(e){var t,n,i=(0,Bne.Z)(),a=(0,s.e7)([Wy.Z],(function(){return Wy.Z.getAwaitingRemoteSessionInfo()})),l=(0,s.e7)([F.default],(function(){return F.default.getCurrentUser()})),c=(0,s.cj)([N.Z],(function(){return null!=i?{channelId:i.channelId,rtcConnectionQuality:R.IE4.FINE,rtcConnectionState:R.hes.RTC_CONNECTED,rtcConnectionLastPing:0}:{channelId:N.Z.getChannelId(),rtcConnectionQuality:N.Z.getQuality(),rtcConnectionState:N.Z.getState(),rtcConnectionLastPing:N.Z.getLastPing()}})),u=c.channelId,f=Toe(c,["channelId"]),d=(0,s.e7)([I.Z],(function(){return I.Z.getChannel(u)}),[u]),p=null==d?void 0:d.getGuildId(),h=(0,s.e7)([Ut.Z],(function(){return Ut.Z.getGuild(p)}),[p]),E=(0,s.cj)([We.Z],(function(){return{noiseCancellationSupported:We.Z.isNoiseCancellationSupported(),noiseCancellationActive:We.Z.getNoiseCancellation(),noiseCancellationError:We.Z.isNoiseCancellationError(),canGoLive:(0,wr.Z)(We.Z)}})),y=(0,
s.e7)([We.Z,ed.Z],(function(){return ed.Z.hasHotspot(Ir.v.VOICE_PANEL_INTRODUCTION)&&(0,$d.EO)(l)&&!We.Z.isInteractionRequired()&&!(null==d?void 0:d.isGuildStageVoice())})),m=(0,s.e7)([P.Z],(function(){return null!=u&&P.Z.hasVideo(u)}),[u]),b=(0,s.e7)([xr.Z],(function(){return xr.Z.getCurrentUserActiveStream()})),g=(0,s.e7)([S.Z],(function(){return S.Z.hasLayers()})),O=(0,s.e7)([cT.Z],(function(){return cT.Z.isViewingRoles(p)})),v=(0,s.e7)([hn.Z],(function(){return O&&!hn.Z.can(R.Plq.VIEW_CHANNEL,d)}),[O,d]),_=ut.Fg.useSetting(),T=Aoe((0,s.Wu)([qy.ZP,qO.Z],(function(){return(null==d?void 0:d.isGuildStageVoice())?[qO.Z.getMutableParticipants(d.id,XO.pV.SPEAKER),qO.Z.getParticipantsVersion(d.id),null]:[null,null,null!=d?qy.ZP.getVoiceStatesForChannel(d):null]}),[d]),3),C=T[0],A=T[1],j=T[2],x=o.useMemo((function(){return null!==(n=null!==(t=null==C?void 0:C.map((function(e){return{user:e.user,nick:e.userNick,voiceState:e.voiceState}})))&&void 0!==t?t:j)&&void 0!==n?n:[]
}),[C,A,j]),M=Aoe(o.useState(!1),2),w=M[0],Z=M[1];o.useEffect((function(){(O||v)&&Z(!1)}),[O,v,Z]);var L=Xne.ZP.useExperiment({guildId:null!=p?p:""},{autoTrackExposure:!0}).allowSoundboard,D=(0,Dr.f)(),U=(0,lw.Z)(Of.Z.RTC_PANEL).AnalyticsLocationProvider,k=(0,Lne.Z)(null!=p?p:"",null==d?void 0:d.id),G=(0,Une.Z)(null==d?void 0:d.id);return(0,r.jsx)(U,{children:(0,r.jsxs)("div",{className:yoe().wrapper,children:[null!=i||null!=a?(0,r.jsx)(Kne,{voiceState:i,awaitingRemoteSessionInfo:a}):null,(0,r.jsx)(Uoe,Soe(Ioe({},e,E,f),{enableActivities:k,remoteVoiceState:i,guild:h,channel:d,hasVideo:m,selfStream:b,hasLayers:g,voiceStates:x,showVoiceStates:_,shouldShowVoicePanelIntroduction:y,canUseSoundboard:L&&D,isPrivateChannelWithEnabledActivities:G})),!w&&O&&null!=p?(0,r.jsxs)("div",{className:yoe().viewAsRolesWarning,children:[(0,r.jsx)(K.xv,{variant:"text-sm/normal",className:yoe().viewAsRolesWarningText,
children:v?J.Z.Messages.VIEW_AS_ROLES_HIDDEN_VC_WARNING:J.Z.Messages.VIEW_AS_ROLES_VOICE_WARNING}),(0,r.jsx)(K.zx,{className:yoe().viewAsRolesWarningButton,size:K.zx.Sizes.MIN,onClick:function(){Z(!0)},children:J.Z.Messages.DISMISS})]}):null]})})}));var Goe=n(734733),Boe=n.n(Goe);function Hoe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Voe(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Foe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Voe(e,t,n[t])}))}return e}function Yoe(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){
var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function zoe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Hoe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hoe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Woe=function(e){var t=e.match,n=(0,s.e7)([I.Z,C.Z],(function(){var e=C.Z.getChannelId();return I.Z.getChannel(e)})),o=t.params,i=o.guildId,a=o.channelId;if(null!=i&&null!=a&&(0,cO.AB)(a))switch(a){case cO.oC.ROLE_SUBSCRIPTIONS:return(0,r.jsx)(nw,{guildId:i});case cO.oC.MEMBER_APPLICATIONS:return(0,r.jsx)(RP,{guildId:i});case cO.oC.GUILD_HOME:return(0,r.jsx)(AC,{guildId:i});case cO.oC.CHANNEL_BROWSER:return(0,r.jsx)(eR,{guildId:i,selectedSection:xx.l7.BROWSE});case cO.oC.GUILD_ONBOARDING:return(0,r.jsx)(LR,{guildId:i});case cO.oC.CUSTOMIZE_COMMUNITY:return(0,r.jsx)(eR,{guildId:i,selectedSection:xx.l7.CUSTOMIZE});default:(0,So.vE)(a)}if((null==n?void 0:n.type)===R.d4z.GUILD_STORE){var l=t.params.messageId;return(0,
r.jsx)(l$,{channel:n,inputSkuId:l},n.id)}return(0,r.jsx)(BQ.Z,{})},Koe=o.memo((function(){var e=(0,kQ.Z)(),t=e.guildId,n=e.channelId,o=(0,s.e7)([C.Z],(function(){return null!=n?n:C.Z.getChannelId(t)}));return window.location.pathname.startsWith(R.Z5c.GUILD_DISCOVERY)?(0,r.jsx)(k8,{}):null!=t?(0,r.jsx)($B,{selectedChannelId:o,guildId:t},t):(0,r.jsx)(i1,{})}));function qoe(e){var t=(0,kQ.Z)((function(e){return e.guildId}));return(0,r.jsx)(Lte.Z,Yoe(Foe({},e),{guildId:t}))}var Xoe=function(e){return(0,r.jsx)(Woe,Foe({},e))},Qoe=function(e){var t=e.match;return null!=t.params.guildId?(0,r.jsx)($C,{guildId:t.params.guildId,inviteCode:t.params.inviteCode}):null},$oe=function(e){var t=e.match;return null!=t.params.guildId?(0,r.jsx)(aH,{guildId:t.params.guildId,inviteCode:t.params.inviteCode}):null},Joe=function(){return(0,r.jsx)(o6,{})},eie=function(){return(0,r.jsx)(i6.Z,{})},tie=function(){return(0,r.jsx)(zX,{})},nie=function(){return(0,r.jsx)(FV,{})},rie=function(e){
switch(e.match.params.feature){case"addFriends":return(0,r.jsx)(zX,{initialSection:R.pJs.ADD_FRIEND});case"pendingFriends":return(0,r.jsx)(zX,{initialSection:R.pJs.PENDING});case"sessionManagement":return(0,r.jsx)(a.l_,{to:R.Z5c.SETTINGS("sessions")});case"connections":return(0,r.jsx)(a.l_,{to:{pathname:R.Z5c.SETTINGS("connections"),search:e.location.search}});default:return(0,r.jsx)(a.l_,{to:R.Z5c.ME})}};function oie(e){var t,n=e.hasNotice,o=e.sidebarTheme,i=e.hideSidebar,a=(0,s.e7)([nb.Z],(function(){return nb.Z.isFullscreenInContext()})),l=(0,lL.AR)();return i?null:(0,r.jsxs)("div",{className:$p()(Boe().sidebar,(0,CH.Q)(o),(t={},Voe(t,Boe().hasNotice,n),Voe(t,Boe().fullWidth,oo.tq),Voe(t,Boe().hidden,a),t)),children:[(0,r.jsx)(Koe,{}),l&&(0,r.jsx)(UQ,{}),(0,r.jsxs)("section",{className:Boe().panels,"aria-label":J.Z.Messages.ACCOUNT_A11Y_LABEL,children:[(0,r.jsx)(Ane,{}),(0,r.jsx)(hF.Z,{section:R.jXE.ACTIVITY_PANEL,children:(0,r.jsx)(qoe,{className:Boe().activityPanel})}),(0,
r.jsx)(hF.Z,{section:R.jXE.RTC_CONNECTION_PANEL,children:(0,r.jsx)(koe,{})}),(0,r.jsx)(hF.Z,{section:R.jXE.ACCOUNT_PANEL,children:(0,r.jsx)(Zte,{})})]}),(0,r.jsx)(b$,{})]})}function iie(){var e,t=(0,s.e7)([GQ.Z],(function(){return GQ.Z.hasNotice()})),n=(0,s.e7)([ct.Z],(function(){return ct.Z.darkSidebar?R.BRd.DARK:void 0})),i=function(){var e=zoe(o.useState((function(){return window.location.pathname.startsWith(R.Z5c.GUILD_MEMBER_VERIFICATION(""))})),2),t=e[0],n=e[1];o.useEffect((function(){return ts.Z.addRouteChangeListener((function(e){n(e.pathname.startsWith(R.Z5c.GUILD_MEMBER_VERIFICATION("")))}))}),[]);return t}(),l=function(){var e=zoe(o.useState((function(){return window.location.pathname.startsWith(R.Z5c.GUILD_MEMBER_VERIFICATION_FOR_HUB(""))})),2),t=e[0],n=e[1];o.useEffect((function(){return ts.Z.addRouteChangeListener((function(e){n(e.pathname.startsWith(R.Z5c.GUILD_MEMBER_VERIFICATION_FOR_HUB("")))}))}),[]);return t}(),c=function(){var e,t=(0,a.TH)()
;return!0===(null===(e=(0,a.LX)(t.pathname,R.Z5c.GUILD_BOOSTING_MARKETING(":guildId")))||void 0===e?void 0:e.isExact)}(),u=(0,s.e7)([ho],(function(){return ho.getIsOpen()})),f=(0,a.$B)([R.Z5c.CHANNEL(R.ME,":channelId"),R.Z5c.CHANNEL(":guildId",":channelId?",":messageId?")]),d=(null==f||null===(e=f.params)||void 0===e?void 0:e.channelId)===cO.oC.GUILD_ONBOARDING,p=i||l||c||d,h=o.useCallback((function(){return ro()}),[]);return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:Boe().container,children:[u&&(0,r.jsx)(JB.Z,{className:Boe().guilds,themeOverride:n}),(0,r.jsx)(rb.Z.Provider,{value:(null==f?void 0:f.params.guildId)===R.ME||null==f?void 0:f.params.guildId,children:(0,r.jsxs)("div",{className:Boe().base,children:[oo.tq?null:(0,r.jsx)(j0,{}),(0,r.jsxs)("div",{className:Boe().content,children:[(0,r.jsx)(oie,{hasNotice:t,sidebarTheme:n,hideSidebar:p||!u}),(0,r.jsx)(eb.Z.Provider,{value:h,children:(0,r.jsxs)(a.rs,{children:[(0,r.jsx)(tb.Z,{path:R.Z5c.ACTIVITY,disableTrack:!0,
children:(0,r.jsx)(a.l_,{to:R.Z5c.ME})}),(0,r.jsx)(tb.Z,{path:R.Z5c.APPLICATION_LIBRARY,render:Joe,impressionName:W.zs.APPLICATION_LIBRARY,disableTrack:!0}),(0,r.jsx)(tb.Z,{path:R.Z5c.APPLICATION_STORE,render:eie,impressionName:W.zs.APPLICATION_STORE,disableTrack:!0}),(0,r.jsx)(tb.Z,{path:R.Z5c.MESSAGE_REQUESTS,render:nie,disableTrack:!0}),(0,r.jsx)(tb.Z,{path:R.Z5c.ME,exact:!0,render:tie,impressionName:W.zs.FRIENDS,disableTrack:!0}),(0,r.jsx)(tb.Z,{path:[R.Z5c.CHANNEL_THREAD_VIEW(":guildId",":channelId",":threadId"),R.Z5c.CHANNEL(R.ME,":channelId"),R.Z5c.CHANNEL(":guildId",":channelId?",":messageId?")],render:Xoe,impressionName:W.zs.GUILD_CHANNEL,disableTrack:!0}),(0,r.jsx)(tb.Z,{path:R.Z5c.GUILD_DISCOVERY,render:function(e){return function(e){var t=null!=e&&e.length>0&&e.startsWith("?")?e.split("?")[1]:null;return(0,r.jsx)(u8,{searchRoute:t})}(e.location.search)},impressionName:W.zs.GUILD_DISCOVERY,disableTrack:!0}),(0,r.jsx)(tb.Z,{
path:R.Z5c.GUILD_MEMBER_VERIFICATION(":guildId",":inviteCode?"),render:Qoe,impressionName:W.zs.GUILD_MEMBER_VERIFICATION,disableTrack:!0}),(0,r.jsx)(tb.Z,{path:R.Z5c.GUILD_MEMBER_VERIFICATION_FOR_HUB(":guildId",":inviteCode?"),render:$oe,impressionName:W.zs.HUB_EMAIL_SIGNUP,impressionProperties:function(e){return{has_invite:void 0!==e.computedMatch.params.inviteCode}}}),(0,r.jsx)(tb.Z,{path:R.Z5c.FEATURE(":feature"),exact:!0,render:rie,disableTrack:!0})]})})]})]})})]})})}const aie=n(838572).Z;var sie=n(735489);var lie=n(121764);function cie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function uie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fie(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function die(e){die=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return die(e)}
function pie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){fie(e,t,n[t])}))}return e}function hie(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Eie(e,t){return!t||"object"!==bie(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}
function yie(e,t){yie=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return yie(e,t)}function mie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return cie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cie(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var bie=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function gie(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=die(e);if(t){var o=die(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Eie(this,n)}}var Oie=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&yie(e,t)}(n,e);var t=gie(n);function n(){uie(this,n);var e;(e=t.apply(this,arguments)).isMessageRequestsInitialized=!1;return e}var r=n.prototype;r.componentDidMount=function(){
var e=this.props,t=e.selectedChannelId,n=e.connected,r=e.isNSFWChannel,o=e.channelParentId,i=e.isTextInVoice,a=e.canSendMessage;if(n&&null!=t){(0,yb.yw)(R.rMx.CHANNEL_OPENED,{channel_is_nsfw:r,parent_id:o,can_send_message:a});i&&(0,yb.yw)(R.rMx.TEXT_IN_VOICE_OPENED,{channel_is_nsfw:r})}};r.componentDidUpdate=function(e){var t=this.props,n=t.voiceChannelId,r=t.voiceChannelIdJoined,o=t.voiceChannelGuildId,i=t.voiceChannelType,a=t.voiceChannelBitrate,s=t.videoEnabled,l=t.isScreenSharing,c=t.runningGame,u=t.runningGamePid,f=t.selectedChannelId,d=t.selectedGuildId,p=t.channelParentId,h=t.connected,E=t.homeLink,y=t.friendsTabSection,m=t.isNSFWChannel,b=t.isMemberPending,g=t.hasPreviewEnabled,O=t.rtcConnectionId,v=t.postableChannelCount,_=t.isTextInVoice,S=t.canSendMessage,T=t.numMessageRequests;if(e.voiceChannelId!==n&&null!=e.voiceChannelId){var C=Ke.ZP.getCurrentGame(),P=null!=C?C.name:"",j=Ow.Z.getStageInstanceByChannel(e.voiceChannelId),x=tO.ZP.getActiveEventByChannel(e.voiceChannelId)
;Te.default.track(R.rMx.LEAVE_VOICE_CHANNEL,pie({channel_id:e.voiceChannelId,channel_type:e.voiceChannelType,channel_bitrate:e.voiceChannelBitrate,guild_id:e.voiceChannelGuildId,rtc_connection_id:e.rtcConnectionId,game_name:P,duration:N.Z.getDuration(),game_platform:this.props.gamePlatform,game_id:this.props.gameId,media_session_id:e.mediaSessionId,stage_instance_id:null==j?void 0:j.id,guild_scheduled_event_id:null==x?void 0:x.id},(0,yb.kO)(e.voiceChannelGuildId,e.voiceChannelId,e.videoEnabled),N.Z.getVoiceStateStats(),nb.Z.getSelectedParticipantStats(e.voiceChannelId)))}if(e.voiceChannelIdJoined!==r&&null!=r){var M=Ke.ZP.getCurrentGame(),w=null!=M?M.name:"";if(null!=r&&null!=n){var Z=Ow.Z.getStageInstanceByChannel(n),L=tO.ZP.getActiveEventByChannel(n);Te.default.track(R.rMx.JOIN_VOICE_CHANNEL,pie({channel_id:n,channel_type:i,channel_bitrate:a,guild_id:o,rtc_connection_id:O,game_name:w,game_platform:this.props.gamePlatform,game_id:this.props.gameId,
stage_instance_id:null==Z?void 0:Z.id,guild_scheduled_event_id:null==L?void 0:L.id},(0,yb.oG)(o,n),(0,yb.kO)(o,n,s)))}}if(e.runningGame!==c&&null!=c&&!c.isLauncher){var D=Mn.Z.getGameByName(c.name);Te.default.track(R.rMx.LAUNCH_GAME,{game:c.name,game_id:null==D?null:D.id,verified:null!=D,elevated:c.elevated,game_platform:R.M7m.DESKTOP,distributor:c.distributor});if(null!=c.name&&null!=u&&Mn.Z.shouldReport(c.name)){var U=c.name,k=u;xn.Z.identifyGame(k,U).then((function(e){return xn.Z.reportUnverifiedGame(e)})).catch((function(e){return new Rn.Z("AutoAnalytics").error("Cannot identify game",e)}))}}if((e.videoEnabled!==s||e.isScreenSharing!==l)&&null!=n){var G="none",B=[l?"screen":null,s?"camera":null].filter(So.lm),H=null;if(l){G="screen";H=(0,sie.t)()}else s&&(G="camera");Te.default.track(R.rMx.VIDEO_INPUT_TOGGLED,pie({video_input_type:G,video_toggle_source:__OVERLAY__?"overlay":"app",enabled_inputs:B,preview_enabled:ut.qF.getSetting()},H,this.getGameMetadata(),(0,yb.AB)(n)))}
if(h&&null!=d&&(d!==e.selectedGuildId||!e.connected||b&&!e.isMemberPending)){var V,F,Y=hie(pie({},b?{is_pending:b,preview_enabled:g}:{}),{postable_channels:v,premium_progress_bar_enabled:null!==(F=null===(V=Ut.Z.getGuild(A.Z.getGuildId()))||void 0===V?void 0:V.premiumProgressBarEnabled)&&void 0!==F&&F,viewing_all_channels:!Qd.Z.isOptInEnabled(d),num_recent_channels:lie.Z.recentsChannelCount(d)});(0,yb.yw)(R.rMx.GUILD_VIEWED,Y)}else if(!h||null!=d||E!==R.Z5c.FRIENDS||e.connected&&y===e.friendsTabSection&&E===e.homeLink){if(h&&null==d&&E===R.Z5c.MESSAGE_REQUESTS&&(!e.connected||E!==e.homeLink)&&!this.isMessageRequestsInitialized){this.isMessageRequestsInitialized=!0;Te.default.track(R.rMx.MESSAGE_REQUESTS_INITIALIZED,{num_message_requests:T})}}else Te.default.track(R.rMx.FRIENDS_LIST_VIEWED,pie({tab_opened:y},aie()));if(h&&null!=f&&(!e.connected||f!==e.selectedChannelId||d!==e.selectedGuildId)){var z=(0,yb.KG)(I.Z.getChannel(f),!0);(0,yb.yw)(R.rMx.CHANNEL_OPENED,pie({channel_is_nsfw:m,
parent_id:p,can_send_message:S},z));_&&(0,yb.yw)(R.rMx.TEXT_IN_VOICE_OPENED,{channel_is_nsfw:m})}};r.getGameMetadata=function(){return{game_platform:this.props.gamePlatform,game_name:this.props.gameName,game_exe_name:this.props.gameExeName,game_id:this.props.gameId}};r.render=function(){return null};return n}(o.PureComponent);function vie(){var e,t,n,o,i,a=mie((0,s.Wu)([C.Z],(function(){return[C.Z.getVoiceChannelId(),C.Z.getChannelId()]}),[]),2),l=a[0],c=a[1],u=(0,s.e7)([I.Z],(function(){return I.Z.getChannel(c)}),[c]),f=(0,s.e7)([nb.Z],(function(){return null!=(null==u?void 0:u.id)&&nb.Z.getChatOpen(u.id)}),[u]),d=null==u?void 0:u.nsfw,p=null!==(e=null==u?void 0:u.parent_id)&&void 0!==e?e:void 0,h=(0,s.e7)([I.Z],(function(){return I.Z.getChannel(l)}),[l]),E=(0,s.e7)([A.Z],(function(){return A.Z.getGuildId()}),[]),y=(0,s.e7)([Ut.Z],(function(){return Ut.Z.getGuild(E)}),[E]),m=(0,s.e7)([F.default],(function(){return F.default.getCurrentUser()}),[]),b=(0,s.e7)([as.ZP],(function(){var e
;return null!=m&&null!=E&&(null!==(t=null===(e=as.ZP.getMember(E,m.id))||void 0===e?void 0:e.isPending)&&void 0!==t&&t)}),[m,E]),g=(0,s.e7)([OK],(function(){return OK.getState().section}),[]),O=(0,s.e7)([U0.Z],(function(){return U0.Z.getHomeLink()}),[]),v=(0,s.e7)([sy.Z],(function(){return sy.Z.isConnected()}),[]),_=mie((0,s.Wu)([We.Z],(function(){return[We.Z.isVideoEnabled(),We.Z.isScreenSharing()]}),[]),2),S=_[0],T=_[1],P=(0,s.e7)([N.Z],(function(){return N.Z.getChannelId()}),[]),j=(0,s.e7)([gu.Z],(function(){return gu.Z.getPrimaryActivity()}),[]),x=(0,s.e7)([Ke.ZP],(function(){return Ke.ZP.getCurrentGame()}),[]),M=(0,s.e7)([N.Z],(function(){return N.Z.getMediaSessionId()}),[]),w=(0,s.e7)([N.Z],(function(){return N.Z.getRTCConnectionId()}),[]),Z=(n=E,0===(i=(0,s.e7)([ET.ZP],(function(){return null!==(o=ET.ZP.getChannels(n)[ET.sH])&&void 0!==o?o:[]}),[n])).length?0:i.filter((function(e){var t=e.channel;return hn.Z.can(pc.Z.combine(R.Plq.SEND_MESSAGES,R.Plq.VIEW_CHANNEL),t)
})).length),L=(0,s.e7)([hn.Z],(function(){return hn.Z.can(R.Plq.SEND_MESSAGES,u)})),D=(0,s.e7)([fH.Z],(function(){return fH.Z.getMessageRequestsCount()}),[]),U={selectedChannelId:c,channelParentId:p,isNSFWChannel:d,selectedGuildId:E,friendsTabSection:g,homeLink:O,connected:v,videoEnabled:S,isScreenSharing:T,voiceChannelId:null==h?void 0:h.id,voiceChannelIdJoined:P,voiceChannelGuildId:null==h?void 0:h.getGuildId(),voiceChannelType:null==h?void 0:h.type,voiceChannelBitrate:null==h?void 0:h.bitrate,runningGame:x,runningGamePid:null!=x?x.pid:null,gamePlatform:(0,_p.Z)(j),gameName:null!=j?j.name:null,gameId:null!=j?j.application_id:null,gameExeName:null!=x?x.exeName:null,hasPreviewEnabled:null==y?void 0:y.features.has(R.oNc.PREVIEW_ENABLED),isMemberPending:b,mediaSessionId:M,rtcConnectionId:w,postableChannelCount:Z,isTextInVoice:f,canSendMessage:L,numMessageRequests:D};return(0,r.jsx)(Oie,pie({},U))}var _ie=n(530853),Iie=n(650331);const Sie=function(e,t){g.Z.dispatch({
type:"INCOMING_CALL_MOVE",x:e,y:t})};function Tie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Nie(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cie(e){Cie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Cie(e)}function Aie(e,t){return!t||"object"!==xie(t)&&"function"!=typeof t?Nie(e):t}function Pie(e,t){Pie=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Pie(e,t)}function jie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){
if(!e)return;if("string"==typeof e)return Tie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tie(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var xie=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Rie(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Cie(e);if(t){var o=Cie(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Aie(this,n)}}
var Mie,wie,Zie=Math.pow(3,2);!function(e){e[e.DISABLED=0]="DISABLED";e[e.DEFAULT=1]="DEFAULT";e[e.OFFSET=2]="OFFSET"}(Mie||(Mie={}));!function(e){e.TOP="TOP";e.BOTTOM="BOTTOM";e.RIGHT="RIGHT";e.LEFT="LEFT"}(wie||(wie={}));function Lie(e,t,n,r,o){var i=e.top,a=e.bottom,s=e.left,l=e.right;if(null==i&&null==a){i=0;a=n-o}else null==i&&null!=a?i=n-(a+o):null!=i&&(a=n-(i+o));if(null==s&&null==l){s=0;l=t-r}else null==s&&null!=l?s=t-(l+r):null==l&&null!=s&&(l=t-(s+r));if(null==i||null==a||null==s||null==l)throw new Error("Logically this can never happen based on our if/else statements");return{top:i,left:s,bottom:a,right:l}}function Die(e){return[null==e.bottom?wie.TOP:wie.BOTTOM,null==e.right?wie.LEFT:wie.RIGHT]}function Uie(e){var t=e.top,n=e.left,r=e.bottom,o=e.right;0===t||t<=r?r=null:t=null;0===n||n<=o?o=null:n=null;return{top:t,left:n,bottom:r,right:o}}function kie(e){var t=e.top,n=e.left,r=e.bottom,o=e.right;if(r<0){t+=r;r=0}if(t<0){r+=t;t=0}if(o<0){n+=o;o=0}if(n<0){o+=n;n=0}return{
top:t,left:n,bottom:r,right:o}}function Gie(e){return null!=e?"".concat(e,"px"):"auto"}var Bie=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Pie(e,t)}(n,e);var t=Rie(n);function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r;(r=t.call(this,e)).draggableRef=o.createRef();r._dragStart={x:0,y:0};r.handleMouseDown=function(e){var t=r.position,n=t.top,o=t.left,i=t.bottom,a=t.right,s=r.props,l=s.dragAnywhere,c=s.selector,u=s.maxX,f=s.maxY,d=e.target,p=r.draggableRef.current;if(null!=p&&e.button===R.AeJ.PRIMARY&&(l||null!=d&&null!=c&&""!==c&&null!=d.closest(c))){var h=function(e){var t=e.top;return{x:e.left,y:t}}(Lie({top:n,left:o,bottom:i,right:a},u,f,p.clientWidth,p.clientHeight)),E=h.x,y=h.y;r._dragStart={x:e.clientX,y:e.clientY}
;r._offsetX=e.clientX-E;r._offsetY=e.clientY-y;window.addEventListener("mousemove",r.handleMouseMove);window.addEventListener("mouseup",r.handleMouseUp)}};r.handleMouseMove=function(e){e.preventDefault();var t=e.clientX,n=e.clientY,o=r.draggableRef.current,i=r.props,a=i.maxX,s=i.maxY,l=i.flipVertical,c=i.flipHorizontal,u=i.onDragStart,f=i.onDrag,d=i.onFlip,p=i.snapOrientation,h=r.state,E=h.dragging,y=h.dragging,m=h.verticalOrientation,b=h.horizontalOrientation,g=!1;if(!(null==o||!E&&(O=r._dragStart,v={x:t,y:n},_=O.x,I=O.y,S=v.x,T=v.y,Math.pow(_-S,2)+Math.pow(I-T,2))<Zie)){var O,v,_,I,S,T;E=!0;var N=o.clientWidth,C=o.clientHeight,A=kie(Lie({top:n-r._offsetY,left:t-r._offsetX},a,s,N,C));if(p){var P=Die(A=Uie(A));m=P[0];b=P[1]}else A={top:A.top,left:A.left};if(c===Mie.OFFSET&&b!==r.state.horizontalOrientation){r._offsetX=N-r._offsetX;g=!0}if(l===Mie.OFFSET&&m!==r.state.verticalOrientation){r._offsetY=C-r._offsetY;g=!0}r.setDOMPositions(A);y||null==u||u(A,o);null==f||f(A,o)
;g&&(null==d||d([m,b]));r.setState({dragging:E,verticalOrientation:m,horizontalOrientation:b,atTopEdge:0===A.top})}};r.handleMouseUp=function(){window.removeEventListener("mousemove",r.handleMouseMove);window.removeEventListener("mouseup",r.handleMouseUp);r.state.dragging&&r.setState({dragging:!1},(function(){var e=r.props.onDragEnd,t=r.draggableRef.current;null!=t&&null!=e&&e(r.position,t)}))};r._checkBoundsRAF=null;r.checkBounds=function(){null!=r._checkBoundsRAF&&cancelAnimationFrame(r._checkBoundsRAF);r._checkBoundsRAF=requestAnimationFrame(r._performCheckBounds)};r._performCheckBounds=function(){var e=Nie(r),t=e.position,n=e.state,o=e.draggableRef.current,i=e.props,a=i.maxX,s=i.maxY,l=i.onRelocated,c=i.snapOrientation,u=r.state,f=u.verticalOrientation,d=u.horizontalOrientation;if(null!=o){var p,h=o.clientHeight,E=Lie(t,a,s,o.clientWidth,h);E=kie(E);if(c){var y=Die(p=Uie(E));f=y[0];d=y[1]}else p={top:E.top,left:E.left,right:null,bottom:null}
;if(t.left!==p.left||t.right!==p.right||t.top!==p.top||t.bottom!==p.bottom){null==l||l(p,o);r.setDOMPositions(p);var m=0===p.top;f===n.verticalOrientation&&d===n.horizontalOrientation&&m===n.atTopEdge||r.setState({verticalOrientation:f,horizontalOrientation:d,atTopEdge:m})}}};var i=jie(Die(e.initialPosition),2),a=i[0],s=i[1];r.position=function(e){var t=e.top,n=e.left,r=e.bottom,o=e.right;null==n&&null==o&&(n=0);null!=n&&null!=o&&(o=null);null==t&&null==r&&(t=0);null!=t&&null!=r&&(r=null);return{top:t,left:n,bottom:r,right:o}}(e.initialPosition);r.state={dragging:!1,verticalOrientation:a,horizontalOrientation:s,atTopEdge:0===r.position.top};return r}var i=n.prototype;i.componentDidMount=function(){this.checkBounds();this.setDOMPositions(this.position)};i.componentDidUpdate=function(e,t){var n=this.state,r=n.verticalOrientation,o=n.horizontalOrientation,i=n.atTopEdge,a=this.props,s=a.maxX,l=a.maxY,c=a.onRelocated,u=a.snapOrientation
;(e.maxX!==s||e.maxY!==l||e.onRelocated!==c||e.snapOrientation!==u||t.verticalOrientation!==r||t.horizontalOrientation!==o||t.atTopEdge!==i)&&this.checkBounds()};i.componentWillUnmount=function(){window.removeEventListener("mousemove",this.handleMouseMove);window.removeEventListener("mouseup",this.handleMouseUp)};i.setDOMPositions=function(e){var t=e.top,n=e.left,r=e.bottom,o=e.right,i=this.draggableRef.current;this.position={top:t,left:n,bottom:r,right:o};if(null!=i){i.style.top=Gie(t);i.style.bottom=Gie(r);i.style.left=Gie(n);i.style.right=Gie(o)}};i.render=function(){var e=this.props,t=e.children,n=e.className,i=this.state,a=i.dragging,s=i.verticalOrientation,l=i.horizontalOrientation,c=i.atTopEdge,u=this.position,f=u.top,d=u.left,p=u.right,h={pointerEvents:a?"none":"auto",position:"absolute",top:f,left:d,bottom:u.bottom,right:p};return(0,r.jsx)("div",{ref:this.draggableRef,className:n,onMouseDown:this.handleMouseDown,style:h,children:o.cloneElement(o.Children.only(t),{
flipped:l===wie.RIGHT,verticalFlipped:s===wie.BOTTOM,checkBounds:this.checkBounds,atTopEdge:c})})};return n}(o.PureComponent);Bie.FlipTypes=Mie;Bie.defaultProps={snapOrientation:!1,maxX:0,maxY:0,flipVertical:Mie.DISABLED,flipHorizontal:Mie.DISABLED,dragAnywhere:!1};var Hie=n(620369),Vie=n(930149),Fie=n(972271),Yie=n(446098),zie=n(414501),Wie=n(459541),Kie=n(366236),qie=n(299005),Xie=n.n(qie),Qie=n(480798),$ie=n.n(Qie);function Jie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function eae(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function tae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){eae(e,t,n[t])}))}return e}
function nae(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function rae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Jie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jie(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var oae={width:232,height:315},iae={width:232,height:267},aae=475,sae=267;function lae(e){var t=e.header,n=We.Z.getCameraComponent(),i=(0,s.e7)([We.Z],(function(){return We.Z.getVideoDeviceId()})),a=(0,Fie.Z)();o.useEffect((function(){var e=F.default.getCurrentUser();if(a&&null!=e){var t=(0,Hie.P)(e);(0,Vie.FU)(t,i,{track:!1}).catch(R.dG4)}}),[a,i]);return(0,r.jsxs)("div",{className:Xie().previewRoot,children:[(0,r.jsx)(K.$j,{}),(0,r.jsx)("div",{className:Xie().preview,children:(0,r.jsx)(n,{disabled:!1,deviceId:i,width:aae,height:sae})}),(0,r.jsx)("div",{className:Xie().previewChannelHeader,children:t})]})}function cae(e){
var t=e.canVideo,n=e.channel,o=e.numVideoDevices,i=(0,bre.Z)(),a=i.cameraUnavailable,s=i.enabled,l=(0,Ore.Z)(n);return(0,r.jsxs)("div",{className:Xie().actions,children:[(0,r.jsx)(Yie.d,{iconComponent:Sb.Z,color:"red",className:Xie().actionButton,label:J.Z.Messages.DISMISS,onClick:function(){return Iie.Z.stopRinging(n.id)}}),t&&(0,r.jsx)(xg.ZP,{renderPopout:function(e){var t=e.closePopout;return(0,r.jsx)(Gne.Z,{onClose:t})},position:xg.ZP.Positions.TOP,align:xg.ZP.Align.CENTER,animation:xg.ZP.Animation.FADE,children:function(e,t){var i=e.onClick,c=t.isShown;return(0,r.jsx)(Nre.C,{join:!0,enabled:s,color:"green",centerButton:!0,hasPermission:l,cameraUnavailable:a,channel:n,onPopoutClick:o>1?i:null,className:Xie().actionButton,popoutOpen:c,onCameraUnavailable:_re.Z,onChange:function(){f.default.selectVoiceChannel(n.id,!0);(0,q.XU)(R.ME,n.id)}})}}),(0,r.jsx)(zie.Z,{channel:n,color:"green",centerButton:!0,className:$p()(Xie().actionButton,Xie().last),onClick:function(){
return f.default.selectVoiceChannel(n.id)}})]})}function uae(e){var t=e.animatedStyle,n=e.y,i=e.x,a=e.channel,l=rae(o.useState(!1),2),c=l[0],u=l[1],f=(0,JH.x)(a),d=(0,Wd.ZP)(a),p=rae((0,s.Wu)([We.Z],(function(){return[We.Z.supports(Xe.AN.VIDEO),Object.keys(We.Z.getVideoDevices()).length]})),2),h=p[0],E=p[1],y=(0,s.e7)([qe.Z],(function(){return qe.Z.isFocused()})),m=(0,s.e7)([nb.Z],(function(){return nb.Z.getMode(a.id)})),b=o.useCallback((function(e){null!=e.top&&null!=e.left&&Sie(e.left,e.top)}),[]),g=(0,sm.useSpring)({value:c?1:0,config:nae(tae({},sm.config.stiff),{clamp:!0})});o.useEffect((function(){var e=function(e){e.keyCode===R.yXg.ESCAPE&&Iie.Z.stopRinging(a.id)};window.addEventListener("keydown",e);return function(){return window.removeEventListener("keydown",e)}}),[a]);var O=m===R.WtW.VIDEO&&h&&E>0,v=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Wie.Z,{className:Xie().icon,ringing:y,src:null!=f?f:"",ringingType:Wie.Z.RingingType.INCOMING,size:c?Kie.u8.SIZE_40:Kie.u8.SIZE_80}),(0,
r.jsxs)("div",{className:Xie().titleGroup,children:[(0,r.jsx)(K.xv,{className:Xie().title,color:"header-primary",variant:c?"text-md/semibold":"text-lg/semibold",children:d}),(0,r.jsx)(K.xv,{color:"header-secondary",className:Xie().subtitle,variant:c?"text-sm/normal":"text-md/normal",children:m===R.WtW.VOICE?J.Z.Messages.INCOMING_CALL_ELLIPSIS:J.Z.Messages.INCOMING_VIDEO_CALL_ELLIPSIS})]})]}),_=O?oae:iae;return(0,r.jsx)(Bie,{className:Xie().wrapper,selector:".".concat(Xie().root),initialPosition:{left:i,top:n},maxX:window.innerWidth,maxY:window.innerHeight,onDragEnd:b,dragAnywhere:!0,children:(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(sm.animated.div,{className:$p()(Xie().root,$ie().elevationHigh,eae({},Xie().previewCamera,c),c?(0,CH.Q)("dark"):null),style:nae(tae({},t),{width:g.value.interpolate([0,1],[_.width,aae]),minHeight:g.value.interpolate([0,1],[_.height,sae]),translateX:g.value.interpolate([0,1],[0,-1*Math.abs(aae-_.width)/2])}),children:[c?(0,r.jsx)(lae,{header:v}):(0,
r.jsx)("div",{className:Xie().mainChannelInfo,children:v}),(0,r.jsx)(cae,{canVideo:O,channel:a,numVideoDevices:E}),O&&!c?(0,r.jsx)(K.zx,{size:K.zx.Sizes.SMALL,fullWidth:!0,look:K.zx.Looks.LINK,color:K.zx.Colors.PRIMARY,className:Xie().previewButton,onClick:function(){return u(!0)},children:J.Z.Messages.INCOMING_CALL_PREVIEW_CAMERA}):null]})})})}var fae=n(919870),dae=n(745456);function pae(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function hae(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var Eae={transform:"scale(0.7)",opacity:0
},yae={transform:"scale(1)",opacity:1};const mae=function(){var e=(0,s.e7)([C.Z],(function(){return C.Z.getChannelId()})),t=(0,s.Wu)([km],(function(){return km.getIncomingCalls().filter((function(t){var n=t.channel;return e!==n.id}))})),n=(0,s.e7)([km],(function(){return km.hasIncomingCalls()})),i=(0,s.e7)([Xd.Z],(function(){return Xd.Z.isSoundDisabled("call_ringing")})),a=(0,s.e7)([kr.Z],(function(){return kr.Z.disableSounds})),l=(0,s.e7)([fae.Z],(function(){return fae.Z.getSoundpack()})),c=o.useRef(!1),u=(0,_ie.Z)((function(){if(l===dae.YC.CLASSIC){var e=500===os().random(1,1e3)?"call_ringing_beat":"call_ringing";return(0,Xy.tu)(e,"call_ringing")}return(0,Xy.uk)("call_ringing",l)}),[l]);o.useEffect((function(){return function(){u.stop()}}),[u]);o.useEffect((function(){if(a||i){if(c.current){u.stop();c.current=!1}}else if(n&&!c.current){u.loop();c.current=!0}else if(!n&&c.current){u.stop();c.current=!1}}),[i,a,n,u]);var f=(0,sm.useTransition)(t,{keys:function(e){var t
;return null===(t=e.channel)||void 0===t?void 0:t.id},enter:{from:Eae,to:yae},leave:Eae,config:{mass:1,tension:500,friction:18,clamp:!0}});return f((function(e,t){return(0,r.jsx)(uae,hae(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){pae(e,t,n[t])}))}return e}({},t),{animatedStyle:e}))}))};var bae=n(537546),gae=n(960104),Oae=n(785535),vae=n.n(Oae);function _ae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Iae(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Sae(e){Sae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Sae(e)}function Tae(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&jae(e,t)}function Nae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Iae(e,t,n[t])}))}return e}function Cae(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))
;return e}function Aae(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function Pae(e,t){return!t||"object"!==xae(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function jae(e,t){jae=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return jae(e,t)}var xae=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Rae(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{
Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Sae(e);if(t){var o=Sae(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Pae(this,n)}}var Mae,wae=(0,_i.Un)({createPromise:function(){return n.e(54313).then(n.bind(n,105646))},webpackId:105646,name:"UserSettings"}),Zae=(0,_i.Un)({createPromise:function(){return Promise.all([n.e(40532),n.e(40709),n.e(97621)]).then(n.bind(n,201741))},webpackId:201741,name:"ChannelSettings"}),Lae=(Iae(Mae={},R.S9g.USER_SETTINGS,(function(){return(0,r.jsx)(wae,{})})),Iae(Mae,R.S9g.CHANNEL_SETTINGS,(function(){return(0,r.jsx)(Zae,{})})),Iae(Mae,R.S9g.GUILD_SETTINGS,(function(){return(0,r.jsx)(gae.Z,{})})),Mae),Dae="SHOWN",Uae="HIDDEN",kae={friction:10,tension:100},Gae=function(e){Tae(n,e);var t=Rae(n);function n(e){_ae(this,n);var r;(r=t.call(this,e)).containerRef=o.createRef();var i=1,a=1;if(e.mode===Uae){i=.93;a=0}r.state={
animating:!1,scale:new Zi.Z.Value(i),opacity:new Zi.Z.Value(a),mode:e.mode};return r}var i=n.prototype;i.componentDidUpdate=function(e){var t=this.props.mode,n=e.mode;if(t!==n)return t===Dae&&n===Uae?this.animateIn():t===Uae&&n===Dae?this.animateUnder():void 0};i.componentWillEnter=function(e){var t=this,n=this.state,r=n.opacity;n.scale.setValue(1.1);r.setValue(0);e();this.setState({animating:!0},(function(){return t.animateIn()}))};i.componentWillLeave=function(e){var t=this;this.setState({animating:!0},(function(){return t.animateOut(e)}))};i.animateIn=function(e){var t=this;s.ZP.Emitter.pause(500);var n=this.state,r=n.opacity,o=n.scale;Zi.Z.parallel([Zi.Z.spring(r,Nae({toValue:1},kae)),Zi.Z.spring(o,Nae({toValue:1},kae))]).start((function(){return t.animateComplete(e)}))};i.animateOut=function(e){s.ZP.Emitter.pause(500);var t=this.state,n=t.opacity,r=t.scale;Dc.S.dispatch(R.CkL.LAYER_POP_START);Zi.Z.parallel([Zi.Z.spring(n,Nae({toValue:0},kae)),Zi.Z.spring(r,Nae({toValue:1.1
},kae))]).start((function(){e();Dc.S.dispatch(R.CkL.LAYER_POP_COMPLETE)}))};i.animateUnder=function(){var e=this;s.ZP.Emitter.pause(500);var t=this.state,n=t.opacity,r=t.scale;Zi.Z.parallel([Zi.Z.spring(n,Nae({toValue:0},kae)),Zi.Z.spring(r,Nae({toValue:.93},kae))]).start((function(){return e.animateComplete()}))};i.animateComplete=function(e){this.setState({animating:!1},e)};i.render=function(){var e,t=this,n=this.state.animating,o=this.props,i=o.mode,a=o.children,s=o.baseLayer,l=Aae(o,["mode","children","baseLayer"]),c=n||i===Uae?this.getAnimatedStyle():null,u=(0,r.jsx)(Zi.Z.div,Cae(Nae({ref:function(e){return t.containerRef.current=null!=e?e.refs.node:void 0},"aria-hidden":i===Uae,className:$p()(vae().layer,(e={},Iae(e,vae().baseLayer,s),Iae(e,vae().animating,n),Iae(e,"stop-animations",i===Uae),e)),style:c},l),{children:a}));return s?u:(0,r.jsx)(K.Eq,{containerRef:this.containerRef,children:u})};i.getAnimatedStyle=function(){var e=this.state,t=e.opacity,n=e.scale;return{opacity:t,
transform:this.context.reducedMotion.enabled?void 0:[{scale:n},{translateZ:0}]}};n.getDerivedStateFromProps=function(e,t){return e.mode!==t.mode?{animating:!0,mode:e.mode}:null};return n}(o.PureComponent);Gae.defaultProps={baseLayer:!1};Gae.contextType=rx.S;var Bae=function(e){Tae(n,e);var t=Rae(n);function n(){_ae(this,n);return t.apply(this,arguments)}var o=n.prototype;o.componentDidMount=function(){var e=this.props.layers;if(e[e.length-1]===R.S9g.USER_SETTINGS){zp.Z.enable();zp.Z.enableTemp(bae.u)}Dc.S.subscribe(R.CkL.LAYER_POP_ESCAPE_KEY,Vp.xf)};o.componentDidUpdate=function(e){var t=this.props,n=t.layers,r=t.hasFullScreenLayer,o=e.layers.length>0||e.hasFullScreenLayer,i=n.length>0||r;!o&&i||i&&n===e.layers&&n[0]===R.S9g.USER_SETTINGS?zp.Z.enableTemp(bae.u):o&&!i&&zp.Z.disableTemp()};o.componentWillUnmount=function(){Dc.S.unsubscribe(R.CkL.LAYER_POP_ESCAPE_KEY,Vp.xf)};o.renderLayers=function(){var e=this,t=this.props,n=t.children,o=t.layers,i=t.hasFullScreenLayer,a=o.length,s=[]
;s.push((0,r.jsx)(Gae,{mode:0!==a||i?Uae:Dae,baseLayer:!0,children:n},"layer-base"));o.forEach((function(t,n){return s.push(e.renderComponent(t,n,a))}));return s};o.renderComponent=function(e,t,n){var o,i=t===n-1;o="string"==typeof e?Lae[e]():(0,r.jsx)(e,{});return(0,r.jsx)(Gae,{mode:i?Dae:Uae,children:o},"layer-".concat(t))};o.renderArtisanalHack=function(){return(0,r.jsx)("div",{className:$p()(vae().bg,(0,CH.Q)(this.props.sidebarTheme))})};o.render=function(){return(0,r.jsxs)(r.Fragment,{children:[this.renderArtisanalHack(),(0,r.jsx)(vX.Z,{component:"div",className:$p()(vae().layers,this.props.className),children:this.renderLayers()})]})};return n}(o.PureComponent);function Hae(e){var t=(0,s.e7)([ct.Z],(function(){return ct.Z.darkSidebar}))?R.BRd.DARK:void 0,n=(0,s.e7)([S.Z],(function(){return S.Z.getLayers()})),o=(0,tE.QP)((function(e){return e.fullScreenLayers.length>0}));return(0,r.jsx)(Bae,Cae(Nae({},e),{sidebarTheme:t,layers:n,hasFullScreenLayer:o}))}
var Vae=n(542729),Fae=n.n(Vae);function Yae(){var e=o.useRef(null),t=o.useCallback((function(t){var n=t.duration,r=t.intensity;if(!h.Z.useReducedMotion&&qe.Z.isFocused()){var o=e.current;_h()(null!=o,"Shakeable is shaken when not mounted");o.shake(n,r)}}),[]);o.useEffect((function(){zp.Z.setLayout(am.ZP);zp.Z.enable();return function(){return zp.Z.disable()}}),[]);o.useEffect((function(){Dc.S.subscribe(R.CkL.SHAKE_APP,t);return function(){Dc.S.unsubscribe(R.CkL.SHAKE_APP,t)}}),[t]);!function(){var e=(0,s.e7)([km],(function(){return km.hasIncomingCalls()})),t=(0,s.e7)([gm.Z,us.Z,Xd.Z],(function(){var e=gm.Z.getTotalMentionCount(),t=us.Z.getPendingCount(),n=gm.Z.hasAnyUnread(),r=Xd.Z.getDisableUnreadBadge(),o=e+t;0===o&&n&&!r&&(o=-1);return o}));o.useEffect((function(){if(e){var t=bs.default.bounceDock("critical"),n=(0,bm.EM)({messages:[J.Z.Messages.INCOMING_CALL],count:50});return function(){null==t||t();n()}}}),[e]);o.useEffect((function(){Bm(t)}),[t]);o.useEffect((function(){
return function(){return Bm(0)}}),[])}();return(0,r.jsxs)(K.F0,{ref:e,className:Fae().app,children:[(0,r.jsx)(Hae,{className:Fae().layers,children:(0,r.jsx)(iie,{})}),(0,r.jsx)(Jm,{}),(0,r.jsx)(im,{}),(0,r.jsx)(vie,{}),(0,r.jsx)(pm.Z,{}),(0,r.jsx)(dm,{}),(0,r.jsx)(mae,{})]})}const zae=o.memo(Yae);var Wae=n(355543),Kae=n(542433),qae=n(379881),Xae=n(918513),Qae=n(678114),$ae=n.n(Qae);function Jae(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ese(e){ese=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return ese(e)}function tse(e,t){return!t||"object"!==rse(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function nse(e,t){nse=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return nse(e,t)}var rse=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function ose(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=ese(e);if(t){var o=ese(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return tse(this,n)}}var ise=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&nse(e,t)}(n,e);var t=ose(n);function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var o,i;(o=t.call(this,e)).videoRef=null;o._noProblemsTimeout=null;o._problemsTimeout=null
;o._connectedSound=o.createSound();o._loadingText=(i=[J.Z.Messages.ACCESSIBILITY_LOADING_TIP_1,J.Z.Messages.ACCESSIBILITY_LOADING_TIP_2,J.Z.Messages.ACCESSIBILITY_LOADING_TIP_3,J.Z.Messages.ACCESSIBILITY_LOADING_TIP_4,J.Z.Messages.ACCESSIBILITY_LOADING_TIP_5,J.Z.Messages.ACCESSIBILITY_LOADING_TIP_6.format({tabHook:function(e,t){return(0,r.jsx)(lm.Z,{shortcut:"tab",className:$ae().keybind},t)}}),J.Z.Messages.ACCESSIBILITY_LOADING_TIP_7,J.Z.Messages.ACCESSIBILITY_LOADING_TIP_8,J.Z.Messages.ACCESSIBILITY_LOADING_TIP_9,J.Z.Messages.ACCESSIBILITY_LOADING_TIP_10.format({F6Hook:function(e,t){return(0,r.jsx)(lm.Z,{shortcut:"f6",className:$ae().keybind},t)},tabHook:function(e,t){return(0,r.jsx)(lm.Z,{shortcut:"tab",className:$ae().keybind},t)}
}),J.Z.Messages.LOADING_LINE_1,J.Z.Messages.LOADING_LINE_2,J.Z.Messages.LOADING_LINE_3,J.Z.Messages.LOADING_LINE_4,J.Z.Messages.LOADING_LINE_5,J.Z.Messages.LOADING_LINE_6,J.Z.Messages.LOADING_LINE_7,J.Z.Messages.LOADING_LINE_8,J.Z.Messages.LOADING_LINE_9,J.Z.Messages.LOADING_LINE_10,J.Z.Messages.LOADING_LINE_11,J.Z.Messages.LOADING_LINE_12,J.Z.Messages.LOADING_LINE_13,J.Z.Messages.LOADING_LINE_14,J.Z.Messages.LOADING_LINE_15,J.Z.Messages.LOADING_TIP_1,J.Z.Messages.LOADING_TIP_2,J.Z.Messages.LOADING_TIP_3,J.Z.Messages.LOADING_TIP_4,J.Z.Messages.LOADING_TIP_5,J.Z.Messages.LOADING_TIP_6,J.Z.Messages.LOADING_TIP_7,J.Z.Messages.LOADING_TIP_8,J.Z.Messages.LOADING_TIP_9,J.Z.Messages.LOADING_TIP_10,J.Z.Messages.LOADING_TIP_11,J.Z.Messages.LOADING_TIP_12,J.Z.Messages.LOADING_TIP_13,J.Z.Messages.LOADING_TIP_14,J.Z.Messages.LOADING_TIP_15,J.Z.Messages.LOADING_TIP_16,J.Z.Messages.LOADING_TIP_17,J.Z.Messages.LOADING_TIP_18,J.Z.Messages.LOADING_TIP_19,J.Z.Messages.LOADING_TIP_20,J.Z.Messages.LOADING_TIP_21,J.Z.Messages.LOADING_TIP_22,J.Z.Messages.LOADING_TIP_23,J.Z.Messages.LOADING_TIP_24,J.Z.Messages.LOADING_TIP_25,J.Z.Messages.LOADING_TIP_26,J.Z.Messages.LOADING_TIP_27.format({
asterisks:"**"}),J.Z.Messages.LOADING_KEYBIND_TIP_1.format({quickSwitcherHook:function(e,t){return(0,r.jsx)(lm.Z,{shortcut:"mod+k",className:$ae().keybind},t)}}),J.Z.Messages.LOADING_KEYBIND_TIP_2.format({markUnreadHook:function(e,t){return(0,r.jsx)(lm.Z,{shortcut:"alt+click",className:$ae().keybind},t)}}),J.Z.Messages.LOADING_KEYBIND_TIP_3.format({markServerUnreadHook:function(e,t){return(0,r.jsx)(lm.Z,{shortcut:"shift+esc",className:$ae().keybind},t)}}),J.Z.Messages.LOADING_KEYBIND_TIP_4.format({navigateUnreadHook:function(e,t){return(0,r.jsx)(lm.Z,{shortcut:"shift+alt+up",className:$ae().keybind},t)},downHook:function(e,t){return(0,r.jsx)(lm.Z,{shortcut:"down",className:$ae().keybind},t)}}),J.Z.Messages.LOADING_KEYBIND_TIP_5.format({keyboardShortcutsHook:function(e,t){return(0,r.jsx)(lm.Z,{shortcut:"mod+/",className:$ae().keybind},t)}}),J.Z.Messages.LOADING_KEYBIND_TIP_6.format({messageNewlineHook:function(e,t){return(0,r.jsx)(lm.Z,{shortcut:"shift+return",className:$ae().keybind
},t)}}),J.Z.Messages.LOADING_KEYBIND_TIP_7.format({shiftHook:function(e,t){return(0,r.jsx)(lm.Z,{shortcut:"shift",className:$ae().keybind},t)}}),J.Z.Messages.LOADING_KEYBIND_TIP_8.format({upHook:function(e,t){return(0,r.jsx)(lm.Z,{shortcut:"up",className:$ae().keybind},t)}})])[os().random(i.length-1)];o.handleReady=function(){o.setState({ready:!0});if((0,kt.nI)()){bs.default.send("UPDATED_QUOTES",["Hold Tight — Loading Discord"]);bs.default.send("UPDATE_OPEN_ON_STARTUP")}};o.setVideoRef=function(e){o.videoRef=e};o.setProblemsTimeout=function(){null==o._problemsTimeout&&(o._problemsTimeout=setTimeout((function(){return o.setState({problems:!0})}),1e4))};o.clearProblemsTimeout=function(){clearTimeout(o._problemsTimeout);o._problemsTimeout=null};var a=e.connected;o.state={ready:a,hide:a,problems:!1,shouldRender:!a,opacity:new Zi.Z.Value(a?0:1)};o._connectedSound.volume=1;return o}var o=n.prototype;o.createSound=function(){var e=this.props.soundpack,t=(0,Xy.uk)("discodo",e);t.volume=1
;return t};o.componentDidMount=function(){this.setProblemsTimeout()};o.componentDidUpdate=function(e,t){var n=this,r=this.state,o=r.ready,i=r.hide,a=r.problems,s=r.opacity,l=this.props,c=l.connected,u=l.soundpack,f=l.reducedMotion,d=c&&o&&!i&&!a;e.soundpack!==u&&(this._connectedSound=this.createSound());if(e.connected!==c||d)if(c&&null!=this.videoRef){var p=Math.max(Math.ceil(1e3*(this.videoRef.duration-this.videoRef.currentTime)),600);clearTimeout(this._noProblemsTimeout);Se.Z.get(R.wli)&&this._connectedSound.play();f?this.setState({problems:!1,hide:c}):this._noProblemsTimeout=setTimeout((function(){n.setState({problems:!1,hide:c})}),p)}else this.setState({problems:!1,hide:c});else if(t.hide!==i){i?this.clearProblemsTimeout():this.setProblemsTimeout();this.setState({shouldRender:!0});Zi.Z.timing(s,{toValue:i?0:1,duration:200}).start((function(){return n.setState({shouldRender:!i})}))}else t.problems!==a&&a&&S$.Z.checkIncidents()};o.componentWillUnmount=function(){
this.clearProblemsTimeout();clearTimeout(this._noProblemsTimeout)};o.render=function(){if(this.state.shouldRender){var e=this._loadingText,t=null;if(null!=this.props.incident){e=this.props.incident.name;t=this.props.incident.incident_updates[0].body}return(0,r.jsxs)(Zi.Z.div,{className:$ae().container,style:{opacity:this.state.opacity},children:[(0,r.jsxs)("div",{className:$ae().content,children:[(0,r.jsx)(Xae.Z,{autoPlay:!0,loop:!this.props.connected,setRef:this.setVideoRef,onReady:this.handleReady,className:this.state.ready?$ae().ready:""}),(0,r.jsxs)("div",{className:$ae().text,children:[null!=this.props.incident?null:(0,r.jsx)("div",{className:$ae().tipTitle,children:J.Z.Messages.LOADING_DID_YOU_KNOW}),(0,r.jsx)("div",{className:null!=this.props.incident?$ae().title:$ae().tip,children:e}),(0,r.jsx)("div",{className:$ae().body,children:t})]})]}),(0,r.jsxs)("div",{className:$p()($ae().problems,Jae({},$ae().slideIn,this.state.problems)),children:[(0,r.jsx)("div",{
className:$ae().problemsText,children:J.Z.Messages.CONNECTING_PROBLEMS_CTA}),(0,r.jsxs)("div",{children:[(0,r.jsxs)(K.ee,{className:$ae().twitterLink,href:(0,Wae.Z)(R.RK.TWITTER),target:"_blank",children:[(0,r.jsx)(qae.Z,{className:$ae().icon}),J.Z.Messages.TWEET_US]}),(0,r.jsxs)(K.ee,{className:$ae().statusLink,href:R.yXt.STATUS,target:"_blank",children:[(0,r.jsx)(d$,{className:$ae().icon}),J.Z.Messages.SERVER_STATUS]})]})]})]})}return null};return n}(o.PureComponent);const ase=s.ZP.connectStores([sy.Z,Kae.Z,fae.Z,h.Z],(function(){return{isTryingToConnect:sy.Z.isTryingToConnect(),connected:sy.Z.isConnected(),incident:Kae.Z.getIncident(),soundpack:fae.Z.getSoundpack(),reducedMotion:h.Z.useReducedMotion}}))((function(e){var t=e.isTryingToConnect,n=e.connected,o=e.incident,i=e.soundpack,a=e.reducedMotion;return t?(0,r.jsx)(ise,{reducedMotion:a,soundpack:i,connected:n,incident:o}):null}));var sse=n(143905);n(737949);function lse(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cse(e){cse=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return cse(e)}function use(e,t){return!t||"object"!==pse(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function fse(e,t){fse=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return fse(e,t)}var dse,pse=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function hse(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=cse(e);if(t){var o=cse(this).constructor;n=Reflect.construct(r,arguments,o)
}else n=r.apply(this,arguments);return use(this,n)}}var Ese=new ju.V7,yse=3e5;function mse(){if(null!=dse){Uk.Z.sendBotMessage(dse,J.Z.Messages.BOT_CALL_IDLE_DISCONNECT);f.default.selectVoiceChannel(null)}}var bse=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&fse(e,t)}(n,e);var t=hse(n);function n(){lse(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(P.Z)};r.__getLocalVars=function(){return{currentChannelId:dse,_timeout:Ese,IDLE_TIMEOUT:yse}};return n}(s.ZP.Store);bse.displayName="CallIdleStore";new bse(g.Z,{CONNECTION_CLOSED:function(){dse=null;Ese.stop()},VOICE_STATE_UPDATES:function(e){return e.voiceStates.reduce((function(e,t){if(null!=t.guildId)return e;var n=P.Z.getCurrentClientVoiceChannelId(null);if(null==n){Ese.stop();return e}
if(1===qy.ZP.countVoiceStatesForChannel(n)){dse=n;Ese.start(yse,mse,!1)}else Ese.stop();return e}),!1)}});n(978812),n(358434),n(86111),n(766243),n(884825);var gse=n(351621);function Ose(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vse(e){vse=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return vse(e)}function _se(e,t){return!t||"object"!==Sse(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ise(e,t){Ise=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Ise(e,t)}var Sse=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Tse(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{
Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=vse(e);if(t){var o=vse(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _se(this,n)}}var Nse=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Ise(e,t)}(n,e);var t=Tse(n);function n(){Ose(this,n);return t.apply(this,arguments)}n.prototype.__getLocalVars=function(){return{NOTIFICATION_ICON_SIZE:64}};return n}(s.ZP.Store);Nse.displayName="UserAchievementStore";new Nse(g.Z,{USER_ACHIEVEMENT_UPDATE:function(e){var t=e.userAchievement,n=t.application_id,r=t.achievement;if(100===t.percent_complete&&null!=r){var o=Mn.Z.getGame(n),i=null!=o?o.getIconURL(64):null;gse.default.showNotification(i,r.name,r.description,{
notif_type:"USER_ACHIEVEMENT_UPDATE"},{omitViewTracking:!0})}}});n(74922),n(662912),n(381807),n(276546),n(292074),n(763696),n(695489),n(201055),n(924750),n(120676),n(820294),n(408247),n(835104),n(617668),n(537204);var Cse=n(222419);n(941361),n(829568),n(852453),n(9080),n(215219),n(635448);function Ase(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pse(e){Pse=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Pse(e)}function jse(e,t){return!t||"object"!==Rse(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function xse(e,t){xse=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return xse(e,t)}var Rse=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Mse(e){var t=function(){
if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Pse(e);if(t){var o=Pse(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return jse(this,n)}}var wse=288e5,Zse={};function Lse(e){if(null==e||e===R.ME||e===R.I_8)return!1;var t,n=null!==(t=Zse[e])&&void 0!==t?t:0;if(Date.now()<=n+wse)return!1;Zse[e]=Date.now();Te.default.track(R.rMx.HIGHLIGHTS_TEST_LOADED,{guild_id:e})}var Dse=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&xse(e,t)}(n,e);var t=Mse(n);function n(){Ase(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(e){
this.waitFor(A.Z);null!=e&&(Zse=e.lastHighlightsLoadMillis)};r.getState=function(){return{lastHighlightsLoadMillis:Zse}};r.__getLocalVars=function(){return{FETCH_HIGHLIGHTS_THRESHOLD_MILLIS:wse,lastHighlightsLoadMillis:Zse}};return n}(s.ZP.PersistedStore);Dse.displayName="HighlightsTestStore";Dse.persistKey="HighlightsTestStore";new Dse(g.Z,{CONNECTION_OPEN:function(){return Lse(A.Z.getGuildId())},CHANNEL_SELECT:function(e){return Lse(e.guildId)}});var Use=n(770431);function kse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gse(e){Gse=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Gse(e)}function Bse(e,t){return!t||"object"!==Vse(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Hse(e,t){Hse=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Hse(e,t)}
var Vse=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Fse(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Gse(e);if(t){var o=Gse(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Bse(this,n)}}var Yse={};function zse(e,t){var n=Yse[e];if(null==n)return!1;if(n.has(t))return!1;Yse[e]=new Set(n.add(t));return!0}var Wse=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Hse(e,t)}(n,e);var t=Fse(n);function n(){kse(this,n);return t.apply(this,arguments)}var r=n.prototype
;r.initialize=function(e){this.waitFor(tr.default,Ut.Z);Yse={};null!=e&&Object.keys(e).forEach((function(t){var n=e[t];null!=n&&"function"==typeof n[Symbol.iterator]&&(Yse[t]=new Set(n))}))};r.getProgress=function(e){return Yse[e]};r.hasProgress=function(e){var t=Yse[e];return null!=t&&!t.has(Use.Rg.DISMISSED)};r.getState=function(){return Yse};r.__getLocalVars=function(){return{guildProgress:Yse}};return n}(s.ZP.PersistedStore);Wse.displayName="GuildProgressStore";Wse.persistKey="GuildProgressStore";new Wse(g.Z,{CONNECTION_OPEN:function(){var e=[];Object.keys(Yse).forEach((function(t){Yse[t].has(Use.Rg.COMPLETED)&&e.push(t)}));e.forEach((function(e){return zse(e,Use.Rg.DISMISSED)}))},GUILD_PROGRESS_INITIALIZE:function(e){var t=e.guildId;null==Yse[t]&&(Yse[t]=new Set);Yse[t].has(Use.Rg.COMPLETED)||Yse[t].delete(Use.Rg.DISMISSED)},GUILD_PROGRESS_COMPLETED_SEEN:function(e){var t=e.guildId;if(null==Yse[t])return!1;Yse[t]=new Set(Yse[t].add(Use.Rg.COMPLETED))},
GUILD_PROGRESS_DISMISS:function(e){return zse(e.guildId,Use.Rg.DISMISSED)},GUILD_CREATE:function(e){var t=e.guild,n=t.id,r=t.member_count,o=Ut.Z.getGuild(n);if(null==o)return!1;if(o.ownerId===tr.default.getId()&&null!=Yse[o.id]){null!=o.icon&&Yse[o.id].add(Use.Rg.AVATAR);r>1&&Yse[o.id].add(Use.Rg.INVITE)}},CHANNEL_CREATE:function(e){var t=e.channel;return null!=t&&null!=t.guild_id&&null!=Yse[t.guild_id]&&zse(t.guild_id,Use.Rg.CHANNEL)},CHANNEL_UPDATES:function(e){var t=e.updates,n=!1,r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value.channel;null!=l&&null!=l.guild_id&&null!=Yse[l.guild_id]&&!1!==zse(l.guild_id,Use.Rg.CHANNEL)&&(n=!0)}}catch(e){o=!0;i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n},GUILD_SETTINGS_SUBMIT_SUCCESS:function(e){var t=e.guild;return null!=t&&(null!=t.id&&null!=Yse[t.id]&&null!=t.icon&&zse(t.id,Use.Rg.AVATAR))},MESSAGE_CREATE:function(e){
var t=e.channelId,n=e.message,r=I.Z.getChannel(t);return n.author.id===tr.default.getId()&&null!=r&&null!=Yse[r.guild_id]&&zse(r.guild_id,Use.Rg.MESSAGE)},GUILD_MEMBER_LIST_UPDATE:function(e){var t=e.guildId,n=e.memberCount;return null!=Yse[t]&&n>1&&zse(t,Use.Rg.INVITE)}});n(45451),n(574503),n(366563),n(267651),n(7564),n(618451),n(739388);var Kse=n(822180),qse=n(451),Xse=n(819525);function Qse(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $se(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jse(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ele(e,t,n){ele="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=tle(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}}
;return ele(e,t,n||e)}function tle(e){tle=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return tle(e)}function nle(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function rle(e,t){return!t||"object"!==ale(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ole(e,t){ole=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return ole(e,t)}function ile(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Qse(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qse(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ale=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function sle(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1
;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=tle(e);if(t){var o=tle(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return rle(this,n)}}var lle=new Rn.Z("ChannelMessagePreviewStore"),cle={connected:!1,latestChannelMessages:{}},ule=1e3;var fle=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&ole(e,t)}(n,e);var t=sle(n);function n(){$se(this,n);var e;(e=t.apply(this,arguments)).throttledAppStatePersist=os().throttle((function(){return e.persist()}),ule,{leading:!1});return e}var r=n.prototype;r.initialize=function(e){if(null!=(null==e?void 0:e.latestChannelMessages)){
os().update(e,"latestChannelMessages",(function(e){return os().chain(e).entries().map((function(e){var t=ile(e,2),n=t[0],r=t[1];return[n,new qse.Z(r)]})).fromPairs().value()}));os().merge(cle.latestChannelMessages,null==e?void 0:e.latestChannelMessages)}this.waitFor(Cse.Z,tr.default,Ib.Z)};r.persist=function(){lle.verbose("Persisting store");ele(tle(n.prototype),"persist",this).call(this)};r.getState=function(){var e;return nle(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Jse(e,t,n[t])}))}return e}({},cle),{latestChannelMessages:os().chain(cle.latestChannelMessages).entries().map((function(t){var n,r=ile(t,2),o=r[0],i=r[1];return[o,null!==(e=null===(n=i.toJS)||void 0===n?void 0:n.call(i))&&void 0!==e?e:void 0]})).fromPairs().value()
})};r.latestMessage=function(e){return cle.latestChannelMessages[e]};r.latestMessages=function(){return cle.latestChannelMessages};r.__getLocalVars=function(){return{logger:lle,state:cle,MAX_WRITE_THROTTLE_MS:6e4,MAX_FORCE_WRITE_THROTTLE_MS:ule,store:dle}};return n}(s.ZP.PersistedStore);fle.displayName="ChannelMessagePreviewStore";fle.persistKey="ChannelMessagePreviewStore";fle.throttleDelay=6e4;var dle=new fle(g.Z,{CONNECTION_OPEN:function(){cle.connected=!0;return!1},CONNECTION_CLOSED:function(){cle.connected=!1;return!1},MESSAGE_CREATE:function(e){var t=e.message;if(!(0,Kse.cn)())return!1;var n=cle.latestChannelMessages[t.channel_id];if(null==n||yo.Z.extractTimestamp(t.id)>yo.Z.extractTimestamp(null==n?void 0:n.id)){var r=(0,Xse.e5)(t);if(null!=r){cle.latestChannelMessages[t.channel_id]=r;return!0}}return!1},CHANNEL_MESSAGE_PREVIEW_LOAD_MESSAGES:function(e){var t=e.messages;if(!(0,Kse.cn)())return!1;var n=!0,r=!1,o=void 0;try{
for(var i,a=t[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;cle.latestChannelMessages[s.channel_id]=(0,Xse.e5)(s)}}catch(e){r=!0;o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}},LOAD_MESSAGES_SUCCESS:function(e){var t=e.messages;if(!(0,Kse.cn)()||0===t.length)return!1;var n=(0,Xse.e5)(t[0]),r=cle.latestChannelMessages[n.getChannelId()];yo.Z.compare(n.id,null==r?void 0:r.id)>-1&&(cle.latestChannelMessages[n.getChannelId()]=n)},APP_STATE_UPDATE:function(e){var t=e.state;((0,kt.Dt)()?R.$7l.BACKGROUND:R.$7l.INACTIVE)===t&&cle.connected&&dle.throttledAppStatePersist();return!1},WINDOW_FOCUS:function(e){e.focused||dle.throttledAppStatePersist();return!1},MESSAGE_DELETE:function(e){var t=e.id,n=e.channelId;if(!(0,Kse.cn)())return!1;var r=cle.latestChannelMessages[n];if(null!=r&&r.id===t){delete cle.latestChannelMessages[n];var o=Ib.Z.getMessages(n).last();null!=o&&(cle.latestChannelMessages[n]=o)}}});n(492421),n(614503),n(925741),n(11870),n(501887),
n(876679),n(882154),n(668479),n(107025),n(852787);function ple(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hle(e){hle=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return hle(e)}function Ele(e,t){return!t||"object"!==mle(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function yle(e,t){yle=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return yle(e,t)}var mle=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function ble(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=hle(e);if(t){
var o=hle(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ele(this,n)}}var gle,Ole="ActivityTrackingStore",vle=18e5,_le=3e5,Ile=null!==(gle=Se.Z.get(Ole))&&void 0!==gle?gle:{},Sle={},Tle=!1;function Nle(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&Cle(e,!0);var n=Sle[e.applicationId];if(null!=n){n.stop();delete Sle[e.applicationId]}delete Ile[e.applicationId];Se.Z.set(Ole,Ile)}function Cle(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Date.now(),r=null!=e.updatedAt?n-e.updatedAt:0;r>21e5&&(r=0);pu.Z.updateActivity({applicationId:e.applicationId,distributor:e.isDiscordApplication?R.GQo.DISCORD:e.distributor,shareActivity:(0,U1.OT)(e.applicationId,kn.Z),token:e.token,duration:Math.floor(r/1e3),closed:t});e.updatedAt=n;var o=Sle[e.applicationId];null==o&&(o=Sle[e.applicationId]=new ju.Xp).start(vle,(function(){return Cle(e)}));if(!t){Ile[e.applicationId]=e;Se.Z.set(Ole,Ile)}}function Ale(){
var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=Ke.ZP.getRunningGames(),n=new Set,r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value,c=l.name,u=l.distributor,f=Mn.Z.getGameByName(c);if(null!=f){n.add(f.id);f.id in Ile||Cle({applicationId:f.id,updatedAt:Date.now(),distributor:u})}}}catch(e){o=!0;i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}var d=!0,p=!1,h=void 0;try{for(var E,y=Object.keys(Ile)[Symbol.iterator]();!(d=(E=y.next()).done);d=!0){var m=E.value;n.has(m)||Nle(Ile[m],e)}}catch(e){p=!0;h=e}finally{try{d||null==y.return||y.return()}finally{if(p)throw h}}}function Ple(){var e=!0,t=!1,n=void 0;try{for(var r,o=Object.keys(Ile)[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var i=r.value;Nle(Ile[i])}}catch(e){t=!0;n=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}Tle=!1}var jle=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&yle(e,t)}(n,e);var t=ble(n);function n(){ple(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(Ke.ZP,ft.Z,kn.Z);this.syncWith([ft.Z],Ale)};r.getActivities=function(){return Ile};r.__getLocalVars=function(){return{STORAGE_KEY:Ole,ACTIVITY_WINDOW:vle,ACTIVITY_WINDOW_GRACE_PERIOD:_le,CLOSE_AUTHENTICATION_FAILED:4004,applicationActivities:Ile,applicationIntervals:Sle,hasUpdatedOnConnectionOpen:Tle}};return n}(s.ZP.Store);jle.displayName="ActivityTrackingStore";new jle(g.Z,{RUNNING_GAMES_CHANGE:function(){return Ale()},CONNECTION_OPEN:function(){if(Tle)return!1;var e=!0,t=!1,n=void 0;try{for(var r,o=Object.keys(Ile)[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var i=r.value;Cle(Ile[i])}}catch(e){t=!0;n=e}finally{try{
e||null==o.return||o.return()}finally{if(t)throw n}}Ale(!1);Tle=!0},CONNECTION_CLOSED:function(e){4004===e.code&&Ple()},LOGOUT:Ple,ACTIVITY_UPDATE_SUCCESS:function(e){var t=e.applicationId,n=e.token,r=Ile[t];if(null==r)return!1;r.token=n;Se.Z.set(Ole,Ile)},ACTIVITY_UPDATE_FAIL:function(e){var t=e.applicationId,n=Ile[t];if(null==n)return!1;n.token=null;n.updatedAt=null;Se.Z.set(Ole,Ile)}});n(643905),n(406010),n(231604),n(464623),n(577088),n(992141),n(278641),n(107248),n(660582),n(498377),n(488076),n(447887);function xle(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rle(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function Mle(e){Mle=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Mle(e)}function wle(e,t){return!t||"object"!==Lle(t)&&"function"!=typeof t?function(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Zle(e,t){Zle=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Zle(e,t)}var Lle=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Dle(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Mle(e);if(t){var o=Mle(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return wle(this,n)}}var Ule=864e5,kle={},Gle=function(){kle={guildAffinitiesByGuildId:{},guildAffinities:[],lastFetched:0}};Gle();var Ble=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function")
;e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Zle(e,t)}(n,e);var t=Dle(n);function n(){xle(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(e){null!=e&&(kle=e);this.waitFor(Ut.Z)};r.getState=function(){return kle};r.getGuildAffinity=function(e){return kle.guildAffinitiesByGuildId[e]};r.__getLocalVars=function(){return{AFFINITY_DATA_TTL:Ule,state:kle,setDefaultState:Gle}};!function(e,t,n){t&&Rle(e.prototype,t);n&&Rle(e,n)}(n,[{key:"affinities",get:function(){return kle.guildAffinities}},{key:"hasRequestResolved",get:function(){return 0!==kle.lastFetched}}]);return n}(s.ZP.PersistedStore);Ble.displayName="GuildAffinitiesStore";Ble.persistKey="GuildAffinitiesStore";new Ble(g.Z,{CONNECTION_OPEN:function(){Date.now()-kle.lastFetched>Ule&&gs.Z.get({url:R.ANM.GUILD_AFFINITIES,oldFormErrors:!0}).then((function(e){var t=e.body.guild_affinities;g.Z.dispatch({type:"LOAD_GUILD_AFFINITIES_SUCCESS",guildAffinities:t})
}),(function(){g.Z.dispatch({type:"LOAD_GUILD_AFFINITIES_FAILURE"})}));return!1},LOAD_GUILD_AFFINITIES_SUCCESS:function(e){var t=e.guildAffinities;kle.guildAffinities=[];kle.guildAffinitiesByGuildId={};kle.lastFetched=Date.now();t.forEach((function(e,t){var n=e.affinity,r=e.guild_id,o={score:n,guildId:r,index:t};kle.guildAffinitiesByGuildId[r]=o;kle.guildAffinities.push(o)}))},LOGOUT:function(){Gle()}});n(210854),n(835279),n(243256),n(262941),n(287452),n(478063),n(960384),n(909797),n(271981),n(413494),n(520134),n(19710),n(149643),n(569395);function Hle(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vle(e){Vle=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Vle(e)}function Fle(e,t){return!t||"object"!==zle(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Yle(e,t){
Yle=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Yle(e,t)}var zle=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Wle(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Vle(e);if(t){var o=Vle(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Fle(this,n)}}function Kle(){return!0}var qle=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Yle(e,t)}(n,e);var t=Wle(n);function n(){Hle(this,n);return t.apply(this,arguments)}var r=n.prototype
;r.initialize=function(){this.waitFor(Cse.Z)};r.getExperimentAssignment=function(e,t){return Cse.Z.getGuildExperimentDescriptor(t,e)};r.__getLocalVars=function(){return{}};return n}(s.ZP.Store);qle.displayName="GuildExperimentStore";new qle(g.Z,{LOGOUT:Kle,LOGIN_SUCCESS:Kle,CONNECTION_OPEN:Kle,EXPERIMENTS_FETCH_SUCCESS:Kle,OVERLAY_INITIALIZE:Kle,CACHE_LOADED:Kle,EXPERIMENTS_FETCH_FAILURE:Kle,EXPERIMENT_REGISTER_LEGACY:Kle,EXPERIMENT_OVERRIDE_BUCKET:Kle});n(133840);n(619784),n(612324);function Xle(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qle(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function $le(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Qle(i,r,o,a,s,"next",e)}function s(e){Qle(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Jle(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ece(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function tce(e){tce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return tce(e)}function nce(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&ace(e,t)}function rce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ece(e,t,n[t])}))}return e}function oce(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function ice(e,t){return!t||"object"!==sce(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ace(e,t){ace=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return ace(e,t)}var sce=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function lce(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{
Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=tce(e);if(t){var o=tce(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ice(this,n)}}var cce=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0
;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},uce=!1;s.ZP.initialize();Gf.loadServer();if(kt.FB){bs.default.on("USER_SETTINGS_OPEN",(function(){S.Z.getLayers().includes(R.S9g.USER_SETTINGS)||p.Z.open(R.oAB.ACCOUNT)}));bs.default.on("LAUNCH_APPLICATION",(function(e,t){var n=kn.Z.getActiveLibraryApplication(t);zy.playApplication(t,n,{analyticsParams:{location:{page:R.ZY5.DIRECT,object:R.qAy.WEB_URL}}})}))}var fce=s.ZP.connectStores([sy.Z,ay.Z,tr.default],(function(){return{isConnected:sy.Z.isConnected(),defaultRoute:ay.Z.defaultRoute,defaultRouteFallback:ay.Z.fallbackRoute,token:tr.default.getToken()}}))(function(e){nce(n,e);var t=lce(n);function n(){Jle(this,n);return t.apply(this,arguments)}
var o=n.prototype;o.componentDidMount=function(){var e=this.props.match;null!=e&&null!=e.params.inviteCode&&function(e){dr.apply(this,arguments)}({code:e.params.inviteCode})};o.render=function(){var e=this.props,t=e.isConnected,n=e.defaultRoute,o=e.token,i=e.defaultRouteFallback;if(null==o)return(0,r.jsx)(a.l_,{to:R.Z5c.DEFAULT_LOGGED_OUT});if(t){var s=Oce(n);return null==s||(s.params.guildId===R.ME||null!=Ut.Z.getGuild(s.params.guildId))&&null!=I.Z.getChannel(s.params.channelId)?(0,r.jsx)(a.l_,{to:n}):(0,r.jsx)(a.l_,{to:i})}return null};return n}(o.Component));var dce,pce=(0,Ye.e)(zae,null,{passProps:!1}),hce=(0,Ye.e)((function(e){var t=e.match.params,o=t.applicationId,i=t.section;(0,ly.h)($le((function(){return cce(this,(function(e){switch(e.label){case 0:return[4,Promise.resolve().then(n.bind(n,148474))];case 1:(0,e.sent().openApplicationDirectoryModal)({applicationId:o,directoryDisabled:!1,section:yr(sse.c,i)});return[2]}}))})));return(0,r.jsx)(a.l_,{to:ay.Z.defaultRoute})
})),Ece=[R.Z5c.GUILD_BOOSTING_MARKETING(":guildId")].concat(function(e){if(Array.isArray(e))return Xle(e)}(dce=Array.from(cO.Vg).map((function(e){return R.Z5c.CHANNEL(":guildId",e)})))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(dce)||function(e,t){if(e){if("string"==typeof e)return Xle(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xle(e,t):void 0}}(dce)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());function yce(e){var t=e.params,n=t.guildId,r=t.channelId,o=void 0===r?null:r,i=t.messageId,a=void 0===i?null:i,s=t.threadId,l=void 0===s?null:s;return{guildId:null!=n?n:R.ME,channelId:o,messageId:a,threadId:l}}var mce=[{
path:[R.Z5c.APP_WITH_INVITE_AND_GUILD_ONBOARDING(":inviteCode")],render:function(e){var t=e.match;return(0,r.jsx)(fce,{match:t})},isSessionRequired:!0},{path:[R.Z5c.APP],render:function(){return(0,r.jsx)(fce,{})},isSessionRequired:!0},{path:[R.Z5c.USERS(":id")],render:function(e){var t=e.match,n=e.location,o=(0,i.parse)(n.search).friend_token,s=t.params.id;(0,ly.h)((function(){return(0,vp.m)({userId:s,guildId:R.ME,friendToken:o,analyticsLocation:{section:R.jXE.DIRECT_ROUTE_ACCESS}})}));return(0,r.jsx)(a.l_,{to:ay.Z.defaultRoute})}},{path:[R.Z5c.APPLICATION_LIBRARY_ACTION(":gameId",":action")],render:function(e){var t=e.match.params,n=t.gameId,o=t.action;ky.Z.whenInitialized((function(){kn.Z.whenInitialized((function(){switch(o){case"launch":var e=kn.Z.getActiveLibraryApplication(n);if(null==e)return;zy.playApplication(e.id,e,{analyticsParams:{location:{page:R.ZY5.DIRECT,object:R.qAy.WEB_URL}}});break;case"test-mode":$n.Z.whenInitialized((function(){return d.Wt(n)}));break
;case"uninstall":var t=kn.Z.getActiveLibraryApplication(n);if(null==t)return;(0,c.W)(t.id,t.branchId,R.Sbl.URI_SCHEME)}}))}));return(0,r.jsx)(a.l_,{to:R.Z5c.APPLICATION_LIBRARY})}},{path:[R.Z5c.GUILD_CREATE],render:function(){(0,ly.h)((function(){return Lt.Z.openCreateGuildModal({location:"External link"})}));return(0,r.jsx)(a.l_,{to:ay.Z.defaultRoute})}},{path:[R.Z5c.PICK_GUILD_SETTINGS(":section?",":subsection?")],render:function(e){var t=e.match.params,n=t.section,o=t.subsection,s=(0,i.parse)(location.search).feature;(0,ly.h)((function(){return vr({section:yr(R.pNK,n),subsection:yr(R.KsC,o),feature:s})}));return(0,r.jsx)(a.l_,{to:ay.Z.defaultRoute})},isSessionRequired:!0},{path:[R.Z5c.SETTINGS(":section",":subsection?")],render:function(e){var t,n,o=e.match,s=e.location,l=/-/g,c=null===(t=o.params.section)||void 0===t?void 0:t.toUpperCase().replace(l,"_"),u=null===(n=o.params.subsection)||void 0===n?void 0:n.toUpperCase().replace(l,"_"),f=(0,LE.Z)({}).filter((function(e){var t
;return!1===(null===(t=e.predicate)||void 0===t?void 0:t.call(e))})).map((function(e){return e.section}));if(R.oAB.hasOwnProperty(c)&&(["SESSIONS"].includes(c)||!f.includes(R.oAB[c]))&&(null==u||""===u||R.oAB.hasOwnProperty(u)&&!f.includes(R.oAB[u]))){var d=(0,i.parse)(s.search).source;(0,ly.h)((function(){return p.Z.open(R.oAB[c],u,{openWithoutBackstack:!1,impressionSource:d})}))}return(0,r.jsx)(a.l_,{to:ay.Z.defaultRoute})},isSessionRequired:!0},{path:[R.Z5c.USER_GUILD_NOTIFICATION_SETTINGS(":guildId")],render:function(e){var t=e.match.params.guildId;(0,ly.h)((function(){(0,Y.ZD)($le((function(){var e,o;return cce(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(19936)]).then(n.bind(n,19936))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,oce(rce({},e),{guildId:t}))}]}}))})))}));return(0,r.jsx)(a.l_,{to:R.Z5c.CHANNEL(t)})},isSessionRequired:!0},{path:[R.Z5c.APPLICATION_LIBRARY_INVENTORY],render:function(){(0,ly.h)((function(){
return p.Z.open(R.oAB.INVENTORY)}));return(0,r.jsx)(a.l_,{to:ay.Z.defaultRoute})},isSessionRequired:!0},{path:[R.Z5c.WELCOME(":guildId?",":channelId?")],render:function(e){var t=e.match.params,n=t.guildId,o=t.channelId;(0,Eo.c)(No.M5.MARKETING_UNCLAIMED);var i=R.Z5c.CHANNEL(n,o);return(0,r.jsx)(a.l_,{to:i})},isSessionRequired:!0},{path:[R.Z5c.GUILD_EVENT_DETAILS(":guildId?",":guildEventId")],render:function(e){var t=e.match.params,n=t.guildId,o=t.guildEventId;(0,ly.h)((function(){(0,hr.bO)({eventId:o})}));return(0,r.jsx)(a.l_,{to:R.Z5c.CHANNEL(n)})},isSessionRequired:!0},{path:[R.Z5c.GUILD_SETTINGS(":guildId",":section?",":subsection?")],render:function(e){var t=e.match.params,n=t.guildId,o=t.section,i=t.subsection;(0,ly.h)((function(){Er.Z.open(n,yr(R.pNK,o),void 0,yr(R.KsC,i))}));return(0,r.jsx)(a.l_,{to:R.Z5c.CHANNEL(n)})},isSessionRequired:!0,isChatRoute:!0},{
path:[R.Z5c.CHANNEL_THREAD_VIEW(":guildId",":channelId",":threadId"),R.Z5c.CHANNEL(":guildId",":channelId?",":messageId?"),R.Z5c.ACTIVITY,R.Z5c.APPLICATION_LIBRARY,R.Z5c.APPLICATION_STORE,R.Z5c.MESSAGE_REQUESTS,R.Z5c.GUILD_DISCOVERY,R.Z5c.GUILD_MEMBER_VERIFICATION(":guildId",":inviteCode?"),R.Z5c.GUILD_MEMBER_VERIFICATION_FOR_HUB(":guildId",":inviteCode?"),R.Z5c.GUILD_BOOSTING_MARKETING(":guildId"),R.Z5c.FEATURE(":feature")],render:pce,isSessionRequired:!0,isChatRoute:!0},{path:[R.Z5c.APPLICATION_DIRECTORY(":applicationId?",":section?")],render:hce,isSessionRequired:!0}];function bce(e){if(!sy.Z.isConnected()&&!sy.Z.isTryingToConnect()){var t=tr.default.getToken();if(null!=t){var n=function(e){var t=!0,n=!1,r=void 0;try{for(var o,i=mce[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var s=o.value,l=s.path;if(s.isSessionRequired){var c=(0,a.LX)(e,{path:l});if(null!=c)return c}}}catch(e){n=!0;r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return null}(e)
;null!=n&&l.Z.startSession(t)}}}function gce(e){var t=Oce(e);if(null!=t){var n=yce(t),r=n.guildId,o=n.channelId,i=n.messageId,s=n.threadId,l=(0,ns.S)(r),c=(0,ns.c)(o),d=(0,ns.c)(s),p=A.Z.getGuildId(),h=p!==r;l&&h&&u.Z.selectGuild(r);if(l&&c){var E=C.Z.getChannelId(p),y=E!==o;if(!uce||h||y||null!=i){uce=!0;f.default.selectChannel({guildId:r,channelId:o,messageId:i})}if(null!=s&&d){var m=qd.ZP.getCurrentSidebarChannelId(E);null!=o&&null!=s&&m!==s&&$f.Z.openThreadAsSidebar({guildId:r,baseChannelId:o,channelId:s})}else null==o||y||$f.Z.closeChannelSidebar(o);var b=ho.getIsOpen(),g=y&&b,O=!h&&!y;if(o===cO.oC.ROLE_SUBSCRIPTIONS)no();else if(h&&b){var v=null==p&&r===R.ME,_=e===R.Z5c.GUILD_DISCOVERY;v||_?no():ro()}else(g||O)&&no()}else(function(e){return Ece.some((function(t){var n;return!0===(null===(n=(0,a.LX)(e,t))||void 0===n?void 0:n.isExact)}))})(e)||(0,q.dL)(ay.Z.fallbackRoute)}}function Oce(e){var t=!0,n=!1,r=void 0;try{for(var o,i=mce[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){
var s=o.value,l=s.path;if(s.isChatRoute){var c=(0,a.LX)(e,{path:l});if(null!=c)return c}}}catch(e){n=!0;r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return null}function vce(e){var t=e.channelId,n=e.guildId,r=e.pathname;if(sy.Z.isConnected()){(0,q.s1)().location.pathname===r&&(null==I.Z.getChannel(t)?(0,q.dL)(R.Z5c.CHANNEL(n)):(0,q.dL)(r))}}var _ce=function(e){nce(i,e);var t=lce(i);function i(){Jle(this,i);var e;(e=t.apply(this,arguments)).historyUnlisten=function(){};e.rewriterUnlisten=function(){};return e}var s=i.prototype;s.componentDidMount=function(){_t.initialize();bs.default.setZoomFactor(h.Z.zoom);Fe.initialize();Gf.init();lt.initialize();Fi.initialize();Wn.initialize();Dn();iy.initialize();Qn();ha.Z.initialize();eo.initialize();E.Z.init();ir();Jn();Wo.initialize();ve.initialize();jn.initialize();Qa.initialize();V.initialize();WE.initialize();wi.initialize();b.Z.initialize();ar.Z.init();Sr();Uy();Yy();m.Z.initialize();Op();uy.Z.init();cy.Z.init()
;pE.init();Ad.initialize();Fd.initialize();Hp.initialize();xE();un.initialize();y.Z.initialize();Qf.initialize();gd.initialize();li.Z.initialize();si.initialize();vi.initialize();Zt.initialize();Tr.Z.init({hasModalOpen:Y.$s,openModal:function(){return(0,Y.ZD)($le((function(){var e,t;return cce(this,(function(o){switch(o.label){case 0:return[4,Promise.resolve().then(n.bind(n,553589))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,rce({},e))}]}}))})))}});Jt();to.Z.initialize();es.Z.initialize();pa.initialize();wa.initialize();Qt.initialize();this.rewriterUnlisten=ts.Z.addRouteRewriter(this.ensureChannelMatchesGuild);this.historyUnlisten=ts.Z.addRouteChangeListener(this.handleHistoryChange)};s.componentWillUnmount=function(){_t.terminate();Wn.terminate();iy.terminate();ha.Z.terminate();Fi.terminate();lt.terminate();Fe.terminate();V.terminate();WE.terminate();b.Z.terminate();Qa.terminate();wi.terminate();Hp.terminate();m.Z.terminate();un.terminate();to.Z.terminate()
;y.Z.terminate();es.Z.terminate();Qf.terminate();gd.terminate();li.Z.terminate();si.terminate();vi.terminate();Zt.terminate();pa.terminate();wa.terminate();Qt.terminate();this.historyUnlisten();this.rewriterUnlisten()};s.handleHistoryChange=function(e){var t=e.pathname;bce(t);gce(t)};s.ensureChannelMatchesGuild=function(e){if(!sy.Z.isConnected())return null;var t=e.pathname,n=Oce(t);if(null==n)return null;var r=yce(n),o=r.guildId,i=r.channelId,a=r.threadId,s=(0,ns.S)(o)&&o!==R.ME&&o!==R.I_8;if(null!=i&&(0,ns.c)(i)&&!(0,cO.AB)(i)&&s){var l=I.Z.getChannel(i);if(null==l)Yd.Z.loadThread(i).then((function(){return vce({channelId:i,guildId:o,pathname:t})}));else if(l.guild_id!==o)return{path:R.Z5c.CHANNEL(o),state:e.state};if(null!=a){if(!((0,ns.c)(a)&&!(0,cO.AB)(i)))return null;var c=I.Z.getChannel(a);if(null==c)Yd.Z.loadThread(a).then((function(){return vce({channelId:a,guildId:o,pathname:t})}));else if((null==c?void 0:c.parent_id)!==i){$f.Z.closeChannelSidebar(i);return{
path:R.Z5c.CHANNEL(o,i),state:e.state}}}}return null};s.render=function(){return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsxs)(a.rs,{children:[(0,r.jsx)(a.l_,{exact:!0,from:"/channels",to:"/"}),mce.map((function(e){var t=e.path,n=e.render;return(0,r.jsx)(a.AW,{path:t,render:n},t[0])})),(0,r.jsx)(a.l_,{to:"/"})]}),(0,r.jsx)(ase,{})]})};return i}(o.PureComponent);const Ice=_ce},552067:(e,t,n)=>{"use strict";n.d(t,{HZ:()=>r,d$:()=>o,Of:()=>s});var r,o,i=n(213192),a=n.n(i);!function(e){e[e.OTHER=0]="OTHER";e[e.GIFTING_REFUND=1]="GIFTING_REFUND";e[e.BUYERS_REMORSE=2]="BUYERS_REMORSE";e[e.WRONG_PURCHASE=3]="WRONG_PURCHASE";e[e.FORGOT_TO_CANCEL=4]="FORGOT_TO_CANCEL";e[e.SERVER_BOOSTING_COOLDOWN=5]="SERVER_BOOSTING_COOLDOWN";e[e.USER_CONFUSION=6]="USER_CONFUSION";e[e.WANT_TO_SWITCH_TIERS=7]="WANT_TO_SWITCH_TIERS";e[e.DONT_NEED=8]="DONT_NEED"}(r||(r={}));!function(e){e[e.OTHER=0]="OTHER";e[e.ALREADY_REFUNDED=1]="ALREADY_REFUNDED";e[e.NOT_USER_REFUNDABLE_TYPE=2]="NOT_USER_REFUNDABLE_TYPE"
;e[e.PAST_REFUNDABLE_DATE=3]="PAST_REFUNDABLE_DATE";e[e.ENTITLEMENT_ALREADY_CONSUMED=4]="ENTITLEMENT_ALREADY_CONSUMED";e[e.ALREADY_REFUNDED_PREMIUM=5]="ALREADY_REFUNDED_PREMIUM";e[e.ALREADY_REFUNDED_PREMIUM_GUILD=6]="ALREADY_REFUNDED_PREMIUM_GUILD"}(o||(o={}));var s=Object.freeze(a()({Authorised:null,Error:null}))},72877:(e,t,n)=>{"use strict";n.d(t,{Z:()=>S});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),s=n(331535),l=n(365210),c=n(552622),u=n(487502),f=n(668486),d=n(539433),p=n(912551),h=n(959797),E=n(515388),y=n.n(E);function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function g(e){g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return g(e)}function O(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?function(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e,t){v=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return v(e,t)}var _=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O(this,n)}}var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&v(e,t)}(n,e);var t=I(n)
;function n(){m(this,n);return t.apply(this,arguments)}var o=n.prototype;o.getLabel=function(e){return e instanceof c.dm?h.Z.Messages.PAYMENT_SOURCE_CARD_ENDING.format({brand:(0,p.De)(e.brand),last_4:e.last4}):e instanceof c.qo?h.Z.Messages.PAYMENT_SOURCE_PAYPAL:e instanceof c.Sf?h.Z.Messages.PAYMENT_SOURCE_SOFORT:e instanceof c.fv?h.Z.Messages.PAYMENT_SOURCE_GIROPAY:e instanceof c.Vg?h.Z.Messages.PAYMENT_SOURCE_PRZELEWY24:e instanceof c.sn?h.Z.Messages.PAYMENT_SOURCE_PAYSAFE_CARD:e instanceof c.o_?h.Z.Messages.PAYMENT_SOURCE_GCASH:e instanceof c.kX?h.Z.Messages.PAYMENT_SOURCE_GRABPAY:e instanceof c.z?h.Z.Messages.PAYMENT_SOURCE_MOMO_WALLET:e instanceof c.Xc?h.Z.Messages.PAYMENT_SOURCE_VENMO:e instanceof c.Om?h.Z.Messages.PAYMENT_SOURCE_KAKAOPAY:e instanceof c.JC?h.Z.Messages.PAYMENT_SOURCE_GOPAY_WALLET:e instanceof c.U4?h.Z.Messages.PAYMENT_SOURCE_BANCONTACT:e instanceof c.jc?h.Z.Messages.PAYMENT_SOURCE_IDEAL_WITH_BANK.format({bank:(0,l.YE)(e.bank)
}):e instanceof c.D0?h.Z.Messages.PAYMENT_SOURCE_EPS_WITH_BANK.format({bank:(0,l.Ul)(e.bank)}):h.Z.Messages.PAYMENT_SOURCE_UNKNOWN};o.renderDescription=function(){var e=this.props,t=e.paymentSource,n=e.descriptionClassName;return(0,r.jsx)(s.xv,{className:a()(y().description,n),variant:"text-md/semibold",children:this.getLabel(t)})};o.renderSubText=function(){var e=this.props,t=e.paymentSource,n=e.locale,r=null;t instanceof c.dm?r=h.Z.Messages.PAYMENT_SOURCE_CARD_EXPIRES.format({month:(0,d.E2)(t.expiresMonth,n),year:t.expiresYear}):t instanceof c.qo||t instanceof c.Sf||t instanceof c.Vg?r=t.email:t instanceof c.Xc&&(r="@"+t.username);return r};o.render=function(){var e=this.props,t=e.isDefault,n=e.paymentSource,o=e.showSubtext,i=e.isForSubscription,a=this.renderSubText();return(0,r.jsxs)(u.Z,{children:[(0,r.jsx)(f.ZP,{type:this.typeString}),(0,r.jsxs)(u.Z,{direction:u.Z.Direction.VERTICAL,className:y().descriptionWrapper,children:[(0,r.jsxs)(u.Z,{align:u.Z.Align.CENTER,
children:[this.renderDescription(),t?(0,r.jsx)("div",{className:y().defaultIndicator,children:h.Z.Messages.DEFAULT}):null,i?(0,r.jsx)("div",{className:y().premiumIndicator,children:h.Z.Messages.PAYMENT_SOURCE_SUBSCRIPTION}):null,n.invalid?(0,r.jsx)("div",{className:y().invalidIndicator,children:h.Z.Messages.PAYMENT_SOURCE_INVALID}):null]}),o&&null!=a?(0,r.jsx)("div",{className:y().subText,children:a}):null]})]})};!function(e,t,n){t&&b(e.prototype,t);n&&b(e,n)}(n,[{key:"typeString",get:function(){var e=this.props.paymentSource
;return e instanceof c.qo?f.ZP.Types.PAYPAL:e instanceof c.Sf?f.ZP.Types.SOFORT:e instanceof c.dm?f.ZP.getType(e.brand):e instanceof c.fv?f.ZP.Types.GIROPAY:e instanceof c.Vg?f.ZP.Types.PRZELEWY24:e instanceof c.sn?f.ZP.Types.PAYSAFECARD:e instanceof c.o_?f.ZP.Types.GCASH:e instanceof c.kX?f.ZP.Types.GRABPAY:e instanceof c.z?f.ZP.Types.MOMO_WALLET:e instanceof c.Xc?f.ZP.Types.VENMO:e instanceof c.Om?f.ZP.Types.KAKAOPAY:e instanceof c.JC?f.ZP.Types.GOPAY_WALLET:e instanceof c.U4?f.ZP.Types.BANCONTACT:e instanceof c.D0?f.ZP.Types.EPS:e instanceof c.jc?f.ZP.Types.IDEAL:f.ZP.Types.UNKNOWN}}]);return n}(o.PureComponent);S.defaultProps={isForSubscription:!1,isDefault:!1,showSubtext:!1}},909359:(e,t,n)=>{"use strict";n.d(t,{Z:()=>gt});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),s=n(441143),l=n.n(s),c=n(125447),u=n(363010),f=n(331535),d=n(173436),p=n(737325),h=n(977445),E=n(174034),y=n(99250),m=n(490640),b=n(418674),g=n(552622),O=n(514981),v=n(551705),_=n(461061),I=n(298716)
;function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function T(e){T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return T(e)}function N(e,t){return!t||"object"!==A(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function C(e,t){C=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return C(e,t)}var A=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=T(e);if(t){
var o=T(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return N(this,n)}}var j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&C(e,t)}(n,e);var t=P(n);function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r;(r=t.call(this)).id=e.id;r.amount=e.amount;r.amountRefunded=e.amountRefunded;r.createdAt=e.createdAt;r.currency=e.currency;r.description=e.description;r.paymentSource=e.paymentSource;r.status=e.status;r.tax=e.tax;r.taxInclusive=e.taxInclusive;r.subscription=e.subscription;r.skuId=e.skuId;r.skuPrice=e.skuPrice;r.sku=e.sku;r.flags=e.flags;r.downloadableInvoice=e.downloadableInvoice;r.downloadableRefundInvoices=e.downloadableRefundInvoices
;r.premiumRefundDisqualificationReasons=e.premiumRefundDisqualificationReasons;return r}n.createFromServer=function(e){var t=null!=e.payment_source?g.ZP.createFromServer(e.payment_source):null,r=null!=e.sku?O.Z.createFromServer(e.sku):null,o=null!=e.subscription?v.Z.createFromServer(e.subscription):null;return new n({id:e.id,createdAt:new Date(e.created_at),currency:e.currency,tax:e.tax,taxInclusive:e.tax_inclusive,amount:e.amount,amountRefunded:e.amount_refunded,status:e.status,metadata:e.metadata,description:e.description,paymentSource:t,paymentGateway:e.payment_gateway,paymentGatewayPaymentId:e.payment_gateway_payment_id,flags:e.flags,subscription:o,skuId:e.sku_id,skuPrice:e.sku_price,sku:r,downloadableInvoice:e.downloadable_invoice,downloadableRefundInvoices:e.downloadable_refund_invoices,premiumRefundDisqualificationReasons:e.premium_refund_disqualification_reasons})};!function(e,t,n){t&&S(e.prototype,t);n&&S(e,n)}(n,[{key:"isPurchasedViaApple",get:function(){
return this.paymentGateway===_.gg$.APPLE}},{key:"isPurchasedViaGoogle",get:function(){return this.paymentGateway===_.gg$.GOOGLE}},{key:"isPurchasedExternally",get:function(){return this.isPurchasedViaApple||this.isPurchasedViaGoogle}},{key:"isSubscription",get:function(){return null!=this.subscription}},{key:"isPremiumSubscription",get:function(){return null!=this.subscription&&I.dJ.has(this.subscription.planId)}},{key:"isPremiumGuildSubscription",get:function(){return null!=this.subscription&&null!=this.subscription.additionalPlans.find((function(e){var t=e.planId;return I.Z1.has(t)}))}},{key:"isGift",get:function(){return b.yE(this.flags,_.Hrn.GIFT)}},{key:"isPremiumGift",get:function(){return this.isGift&&Object.values(I.Si).includes(this.skuId)}},{key:"isPreorder",get:function(){return b.yE(this.flags,_.Hrn.PREORDER)}}]);return n}(m.Z);function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function R(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e){M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return M(e)}function w(e,t){return!t||"object"!==D(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Z(e,t){Z=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Z(e,t)}function L(e){return function(e){if(Array.isArray(e))return x(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}(e)||function(){
throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var D=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function U(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=M(e);if(t){var o=M(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w(this,n)}}var k=[];function G(e){var t=e.payment,n=j.createFromServer(t),r=k.findIndex((function(e){return e.id===t.id}));if(-1===r){k.push(n);k.sort((function(e,t){return t.createdAt.getTime()-e.createdAt.getTime()}))}else k[r]=n;k=L(k)}var B=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Z(e,t)}(n,e);var t=U(n);function n(){R(this,n);return t.apply(this,arguments)}var r=n.prototype;r.getPayment=function(e){return k.find((function(t){return t.id===e}))};r.getPayments=function(){return k};r.__getLocalVars=function(){return{payments:k}};return n}(u.ZP.Store);B.displayName="PaymentStore";const H=new B(d.Z,{BILLING_PAYMENTS_FETCH_SUCCESS:function(e){var t=e.payments,n=!0,r=!1,o=void 0;try{for(var i,a=function(){var e=i.value,t=j.createFromServer(e),n=k.findIndex((function(t){return t.id===e.id}));-1!==n?k[n]=t:k.push(t)},s=t[Symbol.iterator]();!(n=(i=s.next()).done);n=!0)a()}catch(e){r=!0;o=e}finally{try{n||null==s.return||s.return()}finally{if(r)throw o}}k.sort((function(e,t){return t.createdAt.getTime()-e.createdAt.getTime()}));k=L(k)},PAYMENT_UPDATE:G,
BILLING_PAYMENT_FETCH_SUCCESS:G,LOGOUT:function(){k=[]}});var V=n(916957),F=n(720897),Y=n(487502),z=n(360240),W=n(169364),K=n(959797),q=n(282230),X=n.n(q);function Q(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function $(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function J(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e)
;for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}const ee=o.forwardRef((function(e,t){var n=e.currentPageIndex,o=e.numPages,i=e.onChangePage,s=e.children,l=e.className,c=e.showPageCount,u=void 0===c||c,d=J(e,["currentPageIndex","numPages","onChangePage","children","className","showPageCount"]),p=n<=0,h=n>=o-1;return(0,r.jsxs)("div",$(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Q(e,t,n[t])}))}return e}({className:a()(X().paginator,l),ref:t},d),{children:[s,(0,r.jsxs)("div",{className:X().pageActions,children:[(0,r.jsx)(f.P3,{className:a()(X().pageButtonPrev,Q({},X().disabled,p)),tabIndex:p?-1:0,onClick:p?void 0:function(){return i(n-1)},children:(0,r.jsx)(z.Z,{
className:X().pageButtonIcon,"aria-label":K.Z.Messages.PAGINATION_PREVIOUS})}),u?(0,r.jsx)("div",{className:X().pageIndicator,children:K.Z.Messages.PAGINATOR_OF_PAGES.format({currentPage:n+1,numPages:o})}):(0,r.jsx)("div",{className:X().pageIndicator,children:K.Z.Messages.PAGINATOR_CURRENT_PAGE.format({currentPage:n+1})}),(0,r.jsx)(f.P3,{className:a()(X().pageButtonNext,Q({},X().disabled,h)),tabIndex:h?-1:0,onClick:h?void 0:function(){return i(n+1)},children:(0,r.jsx)(W.Z,{className:X().pageButtonIcon,"aria-label":K.Z.Messages.PAGINATION_NEXT})})]})]}))}));var te=n(318937),ne=n(74030),re=n(213192),oe=n.n(re),ie=n(730381),ae=n.n(ie),se=n(709060),le=n(75736),ce=n(673973),ue=n(493266),fe=n(367124),de=n(707955),pe=n(277499),he=n(693518),Ee=n(668486),ye=n(757987),me=n(414597),be=n(983067),ge=n(719455),Oe=n(370678),ve=n(732031),_e=n(897576),Ie=n(493316),Se=n(56435),Te=n(72877),Ne=(0,n(553494).B)({id:"2021-08_user_initiated_refunds",label:"User Initiated Refunds",kind:"user",defaultConfig:{
enabled:!1},treatments:[{id:0,label:"Control",config:{enabled:!1}},{id:1,label:"Can refund",config:{enabled:!0}}]});function Ce(){var e=Ne.getCurrentConfig({}).enabled;Ne.trackExposure({});return e}var Ae=n(552067),Pe=n(375650),je=n(89073),xe=n.n(je);function Re(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function Me(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Re(i,r,o,a,s,"next",e)}function s(e){Re(i,r,o,a,s,"throw",e)}a(void 0)}))}}function we(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ze(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function Le(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function De(e){
De=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return De(e)}function Ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Le(e,t,n[t])}))}return e}function ke(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Ge(e,t){return!t||"object"!==He(t)&&"function"!=typeof t?function(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Be(e,t){Be=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Be(e,t)}var He=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Ve(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=De(e);if(t){var o=De(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ge(this,n)}}var Fe=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){
return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Ye=function(e){return"https://".concat(_.xr4,"/hc/").concat(e.toLowerCase(),"/requests/new?ticket_form_id=360000118612")},ze=[_.epS.DURABLE_PRIMARY,_.epS.DURABLE,_.epS.CONSUMABLE],We=oe()({
TIME_PLAYED:null,PURCHASE_DATE:null,SKU_TYPE:null,ALREADY_REFUNDED:null,PAYMENT_STATUS:null,PAYMENT_GATEWAY:null,SKU_STICKER_PACK:null,SUBSCRIPTION_TYPE:null});function Ke(e){switch(e){case Ae.d$.ALREADY_REFUNDED_PREMIUM:return K.Z.Messages.BILLING_REFUND_ALREADY_REFUNDED_PREMIUM_REASON;case Ae.d$.ALREADY_REFUNDED_PREMIUM_GUILD:return K.Z.Messages.BILLING_REFUND_ALREADY_REFUNDED_PREMIUM_GUILD_REASON;case Ae.d$.ENTITLEMENT_ALREADY_CONSUMED:return K.Z.Messages.BILLING_REFUND_ALREADY_CONSUMED_REASON;default:return K.Z.Messages.BILLING_REFUND_GENERIC_REASON}}var qe=[_.PyE.FAILED,_.PyE.REVERSED,_.PyE.CANCELED],Xe=[Pe.gg.APPLE],Qe=function(e){var t=e.description,n=e.cost;return(0,r.jsx)("li",{className:xe().paymentDetail,children:(0,r.jsxs)(Y.Z,{justify:Y.Z.Justify.BETWEEN,children:[(0,r.jsx)("div",{children:t}),(0,r.jsx)("div",{children:n})]})})},$e=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function")
;e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Be(e,t)}(i,e);var t=Ve(i);function i(){we(this,i);var e;(e=t.apply(this,arguments)).state={expanded:!1};e.refundRules=[{rule:We.TIME_PLAYED,canRefund:function(){if(e.isSkuPreorder)return!0;var t=e.timePlayed;return null==t||t.asMilliseconds()<ae().duration(2,"hours").asMilliseconds()}},{rule:We.PURCHASE_DATE,canRefund:function(){var t=e.props.payment;if(e.isSkuPreorder)return!0;var n=t.isPremiumSubscription||t.isPremiumGuildSubscription||t.isPremiumGift?5:14;return e.daysSincePurchase<=n}},{rule:We.SKU_TYPE,canRefund:function(){var t=e.props.payment;return null==t.sku||t.sku.type!==_.epS.CONSUMABLE}},{rule:We.ALREADY_REFUNDED,canRefund:function(){var t=e.props.payment;return t.amountRefunded<t.amount}},{rule:We.PAYMENT_STATUS,canRefund:function(){var t=e.props.payment;return!qe.includes(t.status)}},{rule:We.PAYMENT_GATEWAY,canRefund:function(){var t=e.props.payment
;return null==t.paymentGateway||!Xe.includes(t.paymentGateway)}},{rule:We.SKU_STICKER_PACK,canRefund:function(){var t=e.props.payment;return null==t.sku||!(0,b.yE)(t.sku.flags,_.l4R.STICKER_PACK)}},{rule:We.SUBSCRIPTION_TYPE,canRefund:function(){var t,n,r=e.props.payment;return(null===(t=r.subscription)||void 0===t?void 0:t.type)!==_.NYc.GUILD&&(null===(n=r.subscription)||void 0===n?void 0:n.type)!==_.NYc.APPLICATION}}];e.handleExpandInfo=function(){e.setState({expanded:!e.state.expanded})};return e}var s=i.prototype;s.validateRefundRules=function(){return this.refundRules.filter((function(e){return!(0,e.canRefund)()})).map((function(e){return e.rule}))};s.renderStatus=function(){var e=this.props.payment;switch(e.status){case _.PyE.PENDING:return(0,r.jsx)("span",{className:xe().statusTagGrey,children:K.Z.Messages.BILLING_TAG_PENDING});case _.PyE.FAILED:return(0,r.jsx)("span",{className:xe().statusTagRed,children:K.Z.Messages.BILLING_TAG_FAILED});case _.PyE.REFUNDED:
return e.amountRefunded!==e.amount?(0,r.jsx)("span",{className:xe().statusTagGreen,children:K.Z.Messages.BILLING_TAG_PARTIALLY_REFUNDED}):(0,r.jsx)("span",{className:xe().statusTagGreen,children:K.Z.Messages.BILLING_TAG_REFUNDED});case _.PyE.REVERSED:return(0,r.jsx)("span",{className:xe().statusTagRed,children:K.Z.Messages.BILLING_TAG_REVERSED});case _.PyE.CANCELED:return(0,r.jsx)("span",{className:xe().statusTagRed,children:K.Z.Messages.BILLING_TAG_CANCELED});default:return null}};s.renderPrice=function(){var e=this.props.payment,t=e.amount-e.amountRefunded;return(0,r.jsx)("span",{className:xe().price,children:(0,Se.T4)(t,e.currency)})};s.renderPaymentBreakdown=function(){var e=this.props,t=e.payment,n=e.locale,i=t.taxInclusive,s=t.tax,l=t.amount,c=t.amountRefunded,u=t.currency;return(0,r.jsxs)("div",{className:a()(xe().paymentText,xe().paymentBreakdown),children:[null!=t.paymentSource?(0,r.jsx)(Te.Z,{paymentSource:t.paymentSource,locale:n,descriptionClassName:xe().paymentText
}):null,(0,r.jsxs)("ul",{children:[!i&&s>0?(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(Qe,{description:t.description,cost:(0,Se.T4)(l-s,u)}),(0,r.jsx)(Qe,{description:K.Z.Messages.BILLING_PAYMENT_BREAKDOWN_TAXES,cost:(0,Se.T4)(s,u)})]}):null,(0,r.jsx)(Qe,{description:K.Z.Messages.BILLING_PAYMENT_BREAKDOWN_TOTAL,cost:(0,Se.T4)(l,u)}),c>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Qe,{description:K.Z.Messages.BILLING_PAYMENT_BREAKDOWN_REFUNDED,cost:(0,Se.T4)(c,u)}),(0,r.jsx)(Qe,{description:K.Z.Messages.BILLING_PAYMENT_BREAKDOWN_NET,cost:(0,Se.T4)(l-c,u)})]})]})]})};s.renderInvoiceDownload=function(){var e=this.props.payment;return null==e.downloadableInvoice||""===e.downloadableInvoice?null:(0,r.jsxs)("div",{className:xe().downloadInvoice,children:[(0,r.jsx)(f.ee,{href:e.downloadableInvoice,children:K.Z.Messages.BILLING_DOWNLOAD_INVOICE}),null!=e.downloadableRefundInvoices?e.downloadableRefundInvoices.map((function(e,t){return(0,r.jsx)(f.ee,{className:xe().downloadRefundInvoice,href:e,
children:K.Z.Messages.BILLING_DOWNLOAD_REFUND_INVOICE},t)})):null]})};s.renderRefundDetails=function(){var e=this.props,t=e.locale,n=e.payment,i=this.validateRefundRules();if(i.includes(We.PAYMENT_GATEWAY)||i.includes(We.PAYMENT_STATUS)||i.includes(We.ALREADY_REFUNDED)||i.includes(We.SKU_STICKER_PACK)||i.includes(We.SUBSCRIPTION_TYPE))return null;var a,s=0===i.length,l=Ye(t),c=this.isPremium?5:14;a=i.includes(We.SKU_TYPE)?K.Z.Messages.BILLING_APPLICATION_CONSUMABLE_REFUND_TEXT_UNABLE.format({supportURL:l}):s?n.isPreorder&&this.isSkuPreorder?K.Z.Messages.BILLING_PREORDER_REFUND_TEXT.format({supportURL:l}):n.isPremiumSubscription||n.isPremiumGuildSubscription?K.Z.Messages.BILLING_PREMIUM_REFUND_TEXT.format({dateLimit:c,supportURL:l}):n.isGift?K.Z.Messages.BILLING_GIFT_REFUND_TEXT.format({dateLimit:c,supportURL:l}):K.Z.Messages.BILLING_APPLICATION_REFUND_TEXT.format({dateLimit:c,playtimeLimit:2,supportURL:l}):n.isGift?K.Z.Messages.BILLING_GIFT_REFUND_TEXT_UNABLE.format({dateLimit:c
}):n.isPremiumSubscription||n.isPremiumGuildSubscription?K.Z.Messages.BILLING_PREMIUM_REFUND_TEXT_UNABLE.format({dateLimit:c}):K.Z.Messages.BILLING_APPLICATION_REFUND_TEXT_UNABLE.format({dateLimit:c,playtimeLimit:2});this.isPremium&&Ce()&&(a=null);return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(f.H,{className:xe().paymentHeader,children:K.Z.Messages.BILLING_REFUND_HEADER}),(0,r.jsxs)("div",{className:xe().paymentText,children:[(0,r.jsx)("div",{children:a}),this.renderRefundActions(i)]})]})};s.renderRefundCriteria=function(e,t,n,o){return(0,r.jsxs)("div",{className:xe().refundCriteria,children:[(0,r.jsx)(f.H,{className:xe().refundSubHeader,children:e}),(0,r.jsxs)("div",{className:xe().refundIconContainer,children:[(0,r.jsx)(t,{className:xe().refundCriteriaIcon}),null!=n&&(0,r.jsx)("div",{children:n})]})]},o)};s.renderRefundActions=function(e){var t,o=this.props,i=o.locale,a=o.payment;if(this.isSkuPreorder||e.includes(We.SKU_TYPE))return null
;var s,l=e.includes(We.PURCHASE_DATE)?ge.Z:be.Z,c=e.includes(We.TIME_PLAYED)||(null===(t=a.premiumRefundDisqualificationReasons)||void 0===t?void 0:t.includes(Ae.d$.PAST_REFUNDABLE_DATE))?ge.Z:be.Z;if(!this.isPremium||!Ce())return(0,r.jsxs)("div",{className:xe().refundActions,children:[(0,r.jsxs)("div",{className:xe().refundRules,children:[this.renderRefundCriteria(a.isPreorder?K.Z.Messages.BILLING_REFUND_RELEASE_DATE_SUBHEADER:K.Z.Messages.BILLING_REFUND_PURCHASE_DATE_SUBHEADER,l,K.Z.Messages.BILLING_REFUND_PURCHASE_DATE.format({daysSincePurchase:this.daysSincePurchase})),a.isSubscription||a.isGift?null:this.renderRefundCriteria(K.Z.Messages.BILLING_REFUND_PLAY_TIME_SUBHEADER,c,null!=this.timePlayed?this.timePlayed.humanize():K.Z.Messages.BILLING_REFUND_PLAY_TIME_NEVER_PLAYED)]}),(0,r.jsx)(f.ee,{href:Ye(i),children:K.Z.Messages.BILLING_REFUND_REPORT_A_PROBLEM})]})
;var u=(null!==(s=a.premiumRefundDisqualificationReasons)&&void 0!==s?s:[Ae.d$.OTHER])[0],d=null!=u||0!==e.length||a.isPurchasedExternally;return(0,r.jsxs)("div",{className:xe().refundActions,children:[(0,r.jsx)(ye.ZP,{shouldShow:d,text:Ke(u),children:function(e){return(0,r.jsx)(f.zx,ke(Ue({},e),{color:f.zx.Colors.PRIMARY,disabled:d,onClick:function(){return(0,_e.ZD)(Me((function(){var e,t;return Fe(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(96662)]).then(n.bind(n,796662))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Ue({payment:a,reportProblemUrl:Ye(i)},e))}]}}))})))},children:K.Z.Messages.BILLING_REFUND_BUTTON_TEXT}))}}),(0,r.jsx)(f.ee,{href:Ye(i),children:K.Z.Messages.BILLING_REFUND_REPORT_A_PROBLEM})]})};s.renderDescription=function(){var e,t,n=this.props,i=n.compactMode,a=n.payment,s=n.application,c=n.stickerPack,u=this.state.expanded,f=a.sku,d=a.subscription,p=null!=a.paymentSource&&_.Uk1.has(a.paymentSource.type)
;if(null!=d&&0!==d.items.length){var h=[],E=null;if(d.type===_.NYc.PREMIUM)d.items.forEach((function(e){var t=e.planId,n=e.quantity;if((0,ne.PV)(t)){h.push(ne.ZP.getDisplayName(t,!1,p));E=I.GP[t].skuId}else{h.push("".concat(n>1?"".concat(n,"x "):"").concat(ne.ZP.getDisplayName(t,!1,p)));null==E&&(E=I.GP[t].skuId)}}));else if(d.type===_.NYc.GUILD){var y=V.Z.get(d.items[0].planId);l()(null!=y,"Guild subscription plan should already have been loaded");var m=y.interval===I.rV.YEAR?K.Z.Messages.YEARLY_GUILD_SUBSCRIPTION:K.Z.Messages.MONTHLY_GUILD_SUBSCRIPTION;h.push(m.format({planName:y.name}));E=y.skuId}else if(d.type===_.NYc.APPLICATION){var b=V.Z.get(d.items[0].planId);l()(null!=b,"Application subscription plan should already have been loaded");null!=s?h.push(K.Z.Messages.MONTHLY_APPLICATION_SUBSCRIPTION_V2.format({tier:null==f?void 0:f.name})):h.push(K.Z.Messages.APPLICATION_SUBSCRIPTION_FROM_DELETED_APPLICATION);E=b.skuId}t=h.join(", ");e=(0,r.jsx)(he.Z,{className:xe().descriptionIcon,
game:s,size:he.Z.Sizes.XSMALL,skuId:E})}else if(null!=f){t=a.isPreorder?K.Z.Messages.PREORDER_SKU_NAME.format({name:f.name}):f.name;if(null!=c){var g=(0,ce.Zt)(c);e=(0,r.jsx)(ue.ZP,{disableAnimation:!u,isInteracting:u,sticker:g,className:xe().descriptionIcon,size:24})}else e=(0,r.jsx)(he.Z,{className:xe().descriptionIcon,game:s,size:he.Z.Sizes.XSMALL,skuId:f.id})}else{e=(0,r.jsx)(ve.Z,{className:xe().descriptionIcon});t=a.description}var O=(0,r.jsx)("div",{className:xe().date,children:(0,Ie.vc)(ae()(a.createdAt),"MM/DD/YYYY")}),v=a.isGift?(0,r.jsx)(ye.ZP,{text:K.Z.Messages.BILLING_GIFT_PURCHASE_TOOLTIP,children:function(e){return(0,r.jsx)(Oe.Z,Ue({className:xe().giftIcon},e))}}):null;return i?(0,r.jsxs)("div",{className:xe().description,children:[e,(0,r.jsxs)("div",{children:[t,O]}),v]}):(0,r.jsxs)(o.Fragment,{children:[O,(0,r.jsxs)("div",{className:xe().description,children:[e,(0,r.jsx)("div",{children:t}),v]})]})};s.renderExpandedSection=function(){return(0,r.jsx)(f.P3,{
onClick:function(e){return e.stopPropagation()},children:(0,r.jsxs)("div",{className:xe().expandedInfo,children:[(0,r.jsx)(f.H,{className:xe().paymentHeader,children:K.Z.Messages.BILLING_PURCHASE_DETAILS_HEADER}),this.renderPaymentBreakdown(),this.renderInvoiceDownload(),this.renderRefundDetails()]})})};s.render=function(){var e=this,t=this.props,n=t.payment,o=t.className,i=t.compactMode,s=this.state.expanded;return(0,r.jsx)(c.mh,{id:n.id,children:function(t){return(0,r.jsxs)(f.P3,ke(Ue({onClick:e.handleExpandInfo,className:a()(s?xe().payment:xe().hoverablePayment,o,Le({},xe().compact,i)),focusProps:{offset:4}},t),{children:[(0,r.jsxs)(Y.Z,{className:xe().summaryInfo,align:Y.Z.Align.CENTER,children:[e.renderDescription(),(0,r.jsxs)("div",{className:xe().amount,children:[e.renderStatus(),e.renderPrice()]}),(0,r.jsx)(me.Z,{className:xe().expand,direction:s?me.Z.Directions.UP:me.Z.Directions.DOWN})]}),s?e.renderExpandedSection():null]}))}})};!function(e,t,n){t&&Ze(e.prototype,t)
;n&&Ze(e,n)}(i,[{key:"timePlayed",get:function(){var e=this.props.applicationStatistics;return null!=e&&null!=e.total_discord_sku_duration?ae().duration(e.total_discord_sku_duration,"seconds"):null}},{key:"daysSincePurchase",get:function(){var e=this.props.payment,t=null!=e.sku?e.sku.releaseDate:null,n=null!=t&&t.isAfter(e.createdAt)?t:e.createdAt;return ae()().diff(n,"days")}},{key:"isSkuPreorder",get:function(){var e=this.props.payment;return null!=e.sku&&e.sku.isPreorder()}},{key:"isPremium",get:function(){var e=this.props.payment;return e.isPremiumSubscription||e.isPremiumGuildSubscription||e.isPremiumGift}},{key:"typeString",get:function(){var e=this.props.payment.paymentSource;return e instanceof g.qo?Ee.ZP.Types.PAYPAL:e instanceof g.dm?Ee.ZP.getType(e.brand):Ee.ZP.Types.UNKNOWN}}]);return i}(o.PureComponent);$e.defaultProps={compactMode:!1};function Je(e){
var t,n,i=e.payment,a=e.locale,s=e.compactMode,l=e.className,c=null!=i.sku&&ze.includes(i.sku.type)?i.sku.applicationId:null,f=null===(t=i.sku)||void 0===t?void 0:t.applicationId,d=(null===(n=i.subscription)||void 0===n?void 0:n.type)===_.NYc.APPLICATION,p=(0,u.cj)([pe.Z,fe.Z,de.Z],(function(){return{applicationStatistics:null!=c?pe.Z.getCurrentUserStatisticsForApplication(c):null,gameApplication:null!=c?fe.Z.getGame(c):null,paymentSources:de.Z.paymentSources}})),h=p.applicationStatistics,E=p.gameApplication,y=p.paymentSources,m=(0,u.e7)([le.Z],(function(){return null!=f?le.Z.getApplication(f):null}));o.useEffect((function(){d&&null!=f&&(0,se.i6)(f)}),[f,d]);return(0,r.jsx)($e,{applicationStatistics:h,application:d?m:E,stickerPack:null,paymentSources:y,locale:a,compactMode:s,className:l,payment:i})}var et=n(582995),tt=n.n(et);function nt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rt(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ot(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function it(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function at(e){at=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return at(e)}function st(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){it(e,t,n[t])}))}return e}function lt(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e)
;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function ct(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function ut(e,t){return!t||"object"!==pt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ft(e,t){ft=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return ft(e,t)}function dt(e,t){return function(e){
if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return nt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var pt=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function ht(e){var t=function(){
if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=at(e);if(t){var o=at(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ut(this,n)}}var Et=10;function yt(e){var t=e.payments,n=e.locale,i=e.compactMode,s=e.numPages,l=o.useRef(null),u=dt(o.useState(0),2),f=u[0],d=u[1],h=dt(o.useState(null),2),E=h[0],m=h[1],b=t.slice(f*Et,(f+1)*Et);o.useEffect((function(){var e;null===(e=l.current)||void 0===e||e.scrollTo({to:0})}),[f]);var g=o.useCallback((function(e){d(e);var n=t[t.length-1].id;if(e===s-1&&E!==n){(0,p.cQ)(Et,n);m(n)}}),[t,s,E]),O=(0,y.Z)("billing-history",l);return(0,r.jsx)(c.bG,{navigator:O,children:(0,r.jsx)(c.SJ,{children:function(e){var t=e.ref,o=ct(e,["ref"]);return(0,r.jsx)(ee,lt(st({
className:a()(tt().verticalFit,tt().paginator),currentPageIndex:f,onChangePage:g,numPages:s,ref:t},o),{children:(0,r.jsx)(te.ZP,{className:tt().bottomDivider,ref:l,children:b.map((function(e,t){return(0,r.jsx)(Je,{className:a()(tt().paymentRow,tt().bottomDivider),payment:e,locale:n,compactMode:i},t)}))})}))}})})}var mt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&ft(e,t)}(n,e);var t=ht(n);function n(){rt(this,n);var e;(e=t.apply(this,arguments)).scrollerRef=o.createRef();return e}var i=n.prototype;i.componentDidMount=function(){d.Z.wait((function(){(0,h.N)();(0,p.cQ)(20)}))};i.renderPremiumExternalSubscription=function(e){l()(null!=e.paymentGateway,"Expected payment gateway when rendering for external subscription");return(0,r.jsxs)(f.Zb,{className:tt().externalRow,children:[(0,r.jsx)("div",{
className:tt().externalRowHeader,children:K.Z.Messages.BILLING_EXTERNAL_HEADER.format({paymentGatewayName:Pe.Vz[e.paymentGateway]})}),(0,r.jsx)("div",{className:tt().externalRowBody,children:K.Z.Messages.BILLING_EXTERNAL_DESCRIPTION.format({paymentGatewayName:Pe.Vz[e.paymentGateway],billingHistoryLink:(0,ne.JE)(e.paymentGateway,"BILLING_HISTORY")})})]})};i.render=function(){var e=this.props,t=e.compactMode,n=e.payments,o=e.subscription,i=e.locale,s=null!=o&&o.isPurchasedExternally;return 0!==n.length||s?(0,r.jsxs)("div",{className:tt().verticalFit,children:[null!=o&&s?this.renderPremiumExternalSubscription(o):null,n.length>0?(0,r.jsxs)("div",{className:a()(tt().paymentPane,tt().verticalFit),children:[t?null:(0,r.jsx)("div",{className:a()(tt().paymentRow,tt().bottomDivider),children:(0,r.jsxs)(Y.Z,{className:tt().paymentRowHeader,children:[(0,r.jsx)("div",{className:xe().date,children:K.Z.Messages.BILLING_PAYMENT_TABLE_HEADER_DATE}),(0,r.jsx)("div",{
className:tt().paymentRowHeaderDescription,children:K.Z.Messages.BILLING_PAYMENT_TABLE_HEADER_DESCRIPTION}),(0,r.jsx)("div",{className:xe().amount,children:K.Z.Messages.BILLING_PAYMENT_TABLE_HEADER_AMOUNT})]})}),(0,r.jsx)(yt,{compactMode:t,locale:i,payments:n,numPages:this.numPages})]}):null]}):null};!function(e,t,n){t&&ot(e.prototype,t);n&&ot(e,n)}(n,[{key:"numPages",get:function(){return Math.max(Math.ceil(this.props.payments.length/Et),1)}}]);return n}(o.PureComponent);mt.defaultProps={compactMode:!1};function bt(e){var t,n=e.skuId,r=null===(t=e.subscription)||void 0===t?void 0:t.items[0].planId;return!(null==n||null==r||Object.values(I.Si).includes(n)||(0,ne.PV)(r))}function gt(e){var t=(0,u.e7)([H],(function(){return H.getPayments()})),n=(0,u.e7)([F.Z],(function(){return F.Z.getPremiumTypeSubscription()})),i=o.useMemo((function(){return new Set(t.filter(bt).map((function(e){var t=e.subscription;return null==t?void 0:t.items[0].planId})))}),[t]),a=o.useMemo((function(){
return new Set(t.filter(bt).map((function(e){return e.skuId})))}),[t]),s=(0,u.Wu)([V.Z],(function(){return V.Z.getPlanIdsForSkus(Array.from(a))})),l=o.useCallback((function(){return s.length===i.size}),[s,i]);o.useEffect((function(){l()||d.Z.wait((function(){a.forEach((function(e){return(0,E.GZ)(e,void 0,void 0,!0,void 0)}))}))}),[l,a]);return(0,r.jsx)(mt,lt(st({},e),{payments:l()?t:[],subscription:n}))}},113518:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var r=n(785893),o=(n(667294),n(294184)),i=n.n(o),a=n(647446),s=n(952013),l=n(332233),c=n(783848),u=n(757987),f=n(932847),d=n(461061),p=n(233873),h=n.n(p);const E=function(e){var t=e.disabled,n=void 0!==t&&t,o=e.type,p=e.className,E=e.innerClassName,y=e.onConnect,m=(0,s.ZP)(),b=l.Z.get(o);return(0,r.jsx)(u.ZP,{text:b.name,children:function(e){var t=e.onMouseEnter,s=e.onMouseLeave;return(0,r.jsx)("div",{className:i()(h().wrapper,p),children:(0,r.jsx)(a.tE,{children:(0,r.jsx)("button",{onMouseEnter:t,onMouseLeave:s,
className:i()(h().inner,E),type:"button",disabled:n,style:{backgroundImage:"url('".concat(m===d.BRd.DARK?b.icon.darkSVG:b.icon.lightSVG,"')")},onClick:null!=y?y:function(){return function(e){var t=l.Z.get(e);(0,c.Z)(t.type,"Friends List");f.default.track(d.rMx.ACCOUNT_LINK_STEP,{previous_step:"desktop connections",current_step:"desktop oauth",platform_type:t.type})}(o)},"aria-label":b.name})})})}})}},394330:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(667294),o=n(178598),i=n(891153),a=n(742269);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e){l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return l(e)}function c(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e,t){u=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e}
;return u(e,t)}var f=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&u(e,t)}(n,e);var t=d(n);function n(){s(this,n);var e;(e=t.apply(this,arguments)).handleFileDownload=function(t){t.preventDefault();var n=e.getFileContents(),r=e.props,o=r.fileName,i=r.onDownload
;a.FB?e.downloadNative(n,o):e.downloadHtml5(n,o);null==i||i()};return e}var l=n.prototype;l.getFileContents=function(){var e=this.props.fileContents;"function"==typeof e&&(e=e());return e};l.downloadNative=function(e,t){i.Z.fileManager.saveWithDialog(e,t)};l.downloadHtml5=function(e,t){var n=new Blob([e],{type:this.props.contentType});(0,o.saveAs)(n,t)};l.render=function(){var e=this.props.children,t=r.Children.only(e);return r.cloneElement(t,{onClick:this.handleFileDownload})};return n}(r.Component)},363157:(e,t,n)=>{"use strict";n.d(t,{Z:()=>oe});var r=n(785893),o=n(667294),i=n(427537),a=n.n(i),s=n(717187),l=n.n(s),c=n(742269),u=n(588641),f=n(185347),d=n(461061);function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e){E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){
return e.__proto__||Object.getPrototypeOf(e)};return E(e)}function y(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?h(e):t}function m(e,t){m=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return m(e,t)}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var g=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=E(e);if(t){var o=E(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}var v=[],_=function(e,t,n){var r=(0,c.ED)()?0:1;e===d.MoX.MOUSE_BUTTON&&n===r||v.forEach((function(r){return r._handleEvent(e,t,n)}))},I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{
constructor:{value:e,writable:!0,configurable:!0}});t&&m(e,t)}(n,e);var t=O(n);function n(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var e;(e=t.call(this)).combo=[];v.push(h(e));1===v.length&&u.default.setOnInputEventCallback(_);return e}var r=n.prototype;r.destroy=function(){var e=this;this.removeAllListeners();0===(v=v.filter((function(t){return t!==e}))).length&&u.default.setOnInputEventCallback(null)};r.toString=function(){return(0,f.BB)(this.combo)};r._handleEvent=function(e,t,n){if(0===t)this.combo=this.combo.filter((function(t){var r=b(t,2),o=r[0],i=r[1];return!(o===e&&i===n)}));else{this.combo.push([e,n,(0,f.dU)()]);this.emit("change",this)}};return n}(l()),S=n(294184),T=n.n(S),N=n(238736),C=n.n(N),A=n(496486),P=n.n(A),j=n(647446),x=n(331535),R=n(487502),M=n(959797),w=n(35282),Z=n.n(w);function L(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D(e,t,n){
t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function U(e){U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return U(e)}function k(e,t){return!t||"object"!==V(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function G(e,t){G=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return G(e,t)}var B,H,V=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function F(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=U(e);if(t){var o=U(this).constructor;n=Reflect.construct(r,arguments,o)
}else n=r.apply(this,arguments);return k(this,n)}}!function(e){e.DEFAULT="DEFAULT";e.RECORDING="RECORDING"}(B||(B={}));var Y=(D(H={},B.DEFAULT,Z().default),D(H,B.RECORDING,Z().recording),H),z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&G(e,t)}(n,e);var t=F(n);function n(){L(this,n);var e;(e=t.apply(this,arguments))._inputId=P().uniqueId("key-recorder-");e._unregisterNativeRecorder=null;e._mousedownMode=null;e._inputRef=o.createRef();e._containerRef=o.createRef();e.setInputRef=function(t){e._input=t;e._inputRef.current=t};e.handleClick=function(t){t.stopPropagation();t.preventDefault();var n=e.props,r=n.onClick;n.disableOnClickWhileRecording&&e._mousedownMode===B.RECORDING||r()};e.handleMouseDown=function(){e._mousedownMode=e.props.mode};return e}var i=n.prototype;i.componentDidMount=function(){
var e=this.props.onChange;if(null!=this.props.registerNativeRecorder&&null!=e)this._unregisterNativeRecorder=this.props.registerNativeRecorder(this._inputId,e);else if(null!=e&&null!=this._input){new(C())(this._input).handleKey=e}};i.componentWillUnmount=function(){null!=this._unregisterNativeRecorder&&this._unregisterNativeRecorder()};i.componentDidUpdate=function(e){var t=this.props.mode;if(e.mode!==t){var n=this._input;if(null!=n){var r=document.activeElement;t===B.DEFAULT&&n===r&&n.blur();t===B.RECORDING&&n!==r&&n.focus()}}};i.render=function(){var e,t=this,n=this.props,o=n.mode,i=n.value,a=n.disabled,s=(0,f.BB)(i,!0);e=o===B.RECORDING?M.Z.Messages.SHORTCUT_RECORDER_BUTTON_RECORDING:0===i.length?M.Z.Messages.SHORTCUT_RECORDER_BUTTON:M.Z.Messages.SHORTCUT_RECORDER_BUTTON_EDIT;var l,c=o===B.DEFAULT&&i.length>0;return(0,r.jsx)(j.tE,{focusTarget:this._inputRef,ringTarget:this._containerRef,children:(0,r.jsx)("div",{onClick:this.handleClick,onMouseDown:this.handleMouseDown,
ref:this._containerRef,className:T()(Z().container,Y[o],(l={},D(l,Z().hasValue,c),D(l,Z().disabled,a),l)),children:(0,r.jsxs)(R.Z,{className:Z().layout,children:[(0,r.jsx)(R.Z.Child,{className:Z().input,children:(0,r.jsx)("input",{id:this._inputId,placeholder:M.Z.Messages.SHORTCUT_RECORDER_NO_BIND,type:"text",ref:this.setInputRef,readOnly:!0,value:s,disabled:this.props.mode!==B.RECORDING||a})}),(0,r.jsx)(R.Z,{shrink:1,grow:0,style:{margin:0},children:(0,r.jsxs)(x.zx,{className:Z().button,disabled:a,onClick:function(e){e.stopPropagation();e.preventDefault();t.handleClick(e)},size:x.zx.Sizes.MIN,color:x.Tt.PRIMARY,children:[(0,r.jsx)("span",{className:Z().text,children:e}),(0,r.jsx)("span",{className:Z().editIcon})]})})]})})})};return n}(o.PureComponent);const W=z;function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function q(e){q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)}
;return q(e)}function X(e,t){return!t||"object"!==ee(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Q(e,t){Q=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Q(e,t)}function $(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||te(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e){return function(e){if(Array.isArray(e))return K(e)}(e)||function(e){
if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||te(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ee=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function te(e,t){if(e){if("string"==typeof e)return K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?K(e,t):void 0}}function ne(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=q(e);if(t){
var o=q(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return X(this,n)}}var re=c.FB&&null!=u.default.getDiscordUtils().inputCaptureRegisterElement;const oe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Q(e,t)}(n,e);var t=ne(n);function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r;(r=t.call(this,e))._mounted=!1;r.recordStart=function(){if(c.FB&&!re){r.gs=new I;r.gs.on("change",r.handleGSChange)}r.setState({mode:B.RECORDING})};r.recordEnd=function(){r.cleanUp();r.setState({mode:B.DEFAULT})};r.toggleRecordMode=function(){r.state.mode===B.DEFAULT?r.recordStart():r.recordEnd()};r.handleComboKeys=function(e,t,n){n.preventDefault();if("keydown"===n.type){var o=t.map((function(e){
return[d.MoX.KEYBOARD_KEY,a()(e),d.CgE.BROWSER]})),i=n.keyCode;null==o.find((function(e){var t=$(e,2)[1];return i===t}))&&o.push([d.MoX.KEYBOARD_KEY,i,d.CgE.BROWSER]);r.handleComboChange(o)}};r.handleGSChange=function(e){if(!1!==r._mounted){var t=J(e.combo);r.handleComboChange(t)}};r.handleNativeChange=function(e){e.length>0&&r.handleComboChange(e);r.recordEnd()};var o=e.defaultValue;r.state={codes:o,mode:B.DEFAULT};return r}var o=n.prototype;o.componentDidMount=function(){this._mounted=!0};o.componentWillUnmount=function(){this._mounted=!1;this.cleanUp()};o.componentDidUpdate=function(e){this.props.defaultValue!==e.defaultValue&&this.setState({codes:this.props.defaultValue})};o.cleanUp=function(){if(c.FB&&null!=this.gs){this.gs.destroy();this.gs=null}};o.handleComboChange=function(e){var t=this.state.mode,n=this.props.onChange;if(t===B.RECORDING){null!=n&&n(e);this.setState({codes:e})}};o.render=function(){var e,t,n=this.state,o=n.codes,i=n.mode,a=this.props.disabled;if(re){
t=u.default.getDiscordUtils().inputCaptureRegisterElement;e=this.handleNativeChange}else c.FB||(e=this.handleComboKeys);return(0,r.jsx)(W,{disabled:a,value:o,mode:i,onClick:this.toggleRecordMode,onChange:e,registerNativeRecorder:t,disableOnClickWhileRecording:re})};return n}(o.PureComponent)},586128:(e,t,n)=>{"use strict";n.d(t,{D2:()=>l,SE:()=>c});var r=n(363010),o=n(553494),i=n(940712),a=n(461061),s=(0,o.B)({kind:"guild",id:"2022-11_default_disable_mass_mention",label:"Disable mass mentions for communities by default",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enabled",config:{enabled:!0}}]});function l(e){return s.useExperiment({guildId:e},{autoTrackExposure:!0})}function c(e){var t,n=(0,r.e7)([i.Z],(function(){return i.Z.can(a.Plq.MANAGE_GUILD,e)})),o=s.useExperiment({guildId:null!==(t=null==e?void 0:e.id)&&void 0!==t?t:""},{autoTrackExposure:!0}).enabled;if(null==e)return!1;var l=e.hasFeature(a.oNc.COMMUNITY);return n&&l&&o}},405728:(e,t,n)=>{"use strict";n.d(t,{n:()=>o})
;var r=(0,n(553494).B)({kind:"user",id:"2022-05_safety_coms_update",label:"Safety Integrity Platform Coms Update",defaultConfig:{enabled:!1,forceConfirmationOnAccept:!1},treatments:[{id:1,label:"Enabled",config:{enabled:!0,forceConfirmationOnAccept:!1}}]});function o(){return r.useExperiment({}).enabled}},484830:(e,t,n)=>{"use strict";n.d(t,{Zh:()=>o,e6:()=>i,iq:()=>a,M9:()=>s});var r=n(641645),o=null!=window.speechSynthesis;function i(e,t){var n=e.replace(/(https?:\/\/[^\s]+)/g,(function(e){var t=e.match(/^https?:\/\/(?:www\.)?([^/?#]+)(?:[/?#]|$)/i);return null!=t?t[1]:""}));null!=t&&n.length>t&&(n=(n=n.substring(0,t)).substring(0,Math.min(n.length,n.lastIndexOf(" "))));var o=new SpeechSynthesisUtterance(n);o.rate=r.Z.speechRate;return o}function a(e,t){if(o){e.voice=t;speechSynthesis.speak(e)}}function s(){o&&speechSynthesis.cancel()}},761797:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=(0,n(553494).B)({kind:"user",id:"2022-05_role_styles_setting",label:"Role Styles Setting",
defaultConfig:{allowRoleStyles:!1},treatments:[{id:1,label:"Allow Role Styles Setting",config:{allowRoleStyles:!0}}]})},895620:(e,t,n)=>{"use strict";n.d(t,{d:()=>o,Y$:()=>i,jS:()=>a,tZ:()=>s,a8:()=>l});var r=n(173436);function o(){r.Z.dispatch({type:"DEVELOPER_ACTIVITY_SHELF_TOGGLE_ENABLED"})}function i(){r.Z.dispatch({type:"DEVELOPER_ACTIVITY_SHELF_TOGGLE_USE_ACTIVITY_URL_OVERRIDE"})}function a(e){r.Z.dispatch({type:"DEVELOPER_ACTIVITY_SHELF_SET_ACTIVITY_URL_OVERRIDE",activityUrlOverride:e})}function s(e){r.Z.dispatch({type:"DEVELOPER_ACTIVITY_SHELF_MARK_ACTIVITY_USED",applicationId:e,timestamp:(new Date).getTime()})}function l(e){r.Z.dispatch({type:"DEVELOPER_ACTIVITY_SHELF_UPDATE_FILTER",filter:e})}},676212:(e,t,n)=>{"use strict";n.r(t);n.d(t,{ACTIVITY_ENCOURAGES_HW_ACCELERATION:()=>v,default:()=>_});var r=n(785893),o=n(667294),i=n(331535),a=n(830395),s=n(320115),l=n(487502),c=n(67416),u=n(932847),f=n(588641),d=n(461061),p=n(959797),h=n(131378),E=n.n(h);function y(e,t){
(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function b(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function g(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r]
;t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}
var v="Activity Encourages Hardware Acceleration";function _(e){var t,n=e.applicationId,h=g(e,["applicationId"]),y=O(o.useState(!1),2),_=y[0],I=y[1],S=O((0,s.Z)([n]),1)[0],T=null!==(t=null==S?void 0:S.name)&&void 0!==t?t:"This Activity";o.useEffect((function(){u.default.track(d.rMx.OPEN_MODAL,{type:v})}),[]);var N=function(){var e="temporary";if(_){e="permanent";a.ZP.updatedUnsyncedSettings({disableActivityHardwareAccelerationPrompt:!0})}u.default.track(d.rMx.MODAL_DISMISSED,{type:v,dismiss_type:e});h.onClose()};return(0,r.jsxs)(c.Y0,b(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){m(e,t,n[t])}))}return e}({className:E().root,"aria-label":p.Z.Messages.ACTIVITY_HARDWARE_ACCELERATION_BETTER_TITLE},h),{children:[(0,r.jsxs)(c.xB,{
separator:!1,children:[(0,r.jsx)(i.xv,{className:E().header,variant:"text-lg/normal",children:p.Z.Messages.ACTIVITY_HARDWARE_ACCELERATION_BETTER_TITLE}),(0,r.jsx)(c.ol,{onClick:N,className:E().closeButton})]}),(0,r.jsx)(c.hz,{className:E().content,children:(0,r.jsx)(i.xv,{variant:"text-md/normal",className:E().ratingBody,children:p.Z.Messages.ACTIVITY_HARDWARE_ACCELERATION_BETTER_BODY.format({applicationName:T})})}),(0,r.jsxs)(c.mz,{className:E().footer,direction:l.Z.Direction.HORIZONTAL,children:[(0,r.jsx)(i.XZ,{type:i.XZ.Types.INVERTED,size:18,value:_,onChange:function(){return I(!_)},children:(0,r.jsx)(i.xv,{variant:"text-sm/normal",children:p.Z.Messages.DONT_SHOW_AGAIN})}),(0,r.jsx)(i.zx,{color:i.zx.Colors.PRIMARY,onClick:N,children:p.Z.Messages.ACTIVITY_HARDWARE_ACCELERATION_NO_THANKS}),(0,r.jsx)(i.zx,{color:i.zx.Colors.BRAND,onClick:function(){u.default.track(d.rMx.ACTIVITY_ENABLE_HARDWARE_ACCELERATION,{application_id:n});f.default.setEnableHardwareAcceleration(!0)},
children:p.Z.Messages.ACTIVITY_HARDWARE_ACCELERATION_TURN_IT_ON})]})]}))}},533741:(e,t,n)=>{"use strict";n.d(t,{mN:()=>a,qV:()=>s,qq:()=>l,C8:()=>c});var r=n(173436),o=(n(655695),n(932847)),i=n(461061);function a(e){o.default.track(i.rMx.OPEN_MODAL,{type:"Enter Your Birthday",source:{section:e}});r.Z.dispatch({type:"AGE_GATE_MODAL_OPEN",source:e})}function s(){r.Z.wait((function(){return r.Z.dispatch({type:"AGE_GATE_MODAL_CLOSE"})}))}function l(){r.Z.wait((function(){r.Z.dispatch({type:"AGE_GATE_SUCCESS_MODAL_OPEN"})}))}function c(e){r.Z.wait((function(){r.Z.dispatch({type:"AGE_GATE_FAILURE_MODAL_OPEN",underageMessage:e})}))}},838572:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});function r(){return{}}},120676:(e,t,n)=>{"use strict";n.d(t,{Z:()=>z});var r=n(363010),o=n(173436),i=n(356004),a=n(95350),s=n(379822);var l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);this.index=0;this.items=t}var t=e.prototype
;t[Symbol.iterator]=function(){return this};t.next=function(){for(;this.index<this.items.length;){var e=this.items[this.index].next();if(!e.done)return e;this.index+=1}return{done:!0,value:void 0}};return e}();function c(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new l(t)}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function d(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var p=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);this.items=new Map;this.limit=t}var t=e.prototype;t[Symbol.iterator]=function(){return this.items.entries()};t.entries=function(){return this.items.entries()};t.keys=function(){return this.items.keys()};t.values=function(){return this.items.values()};t.ordered=function(){return d(this.items.values()).reverse()};t.clear=function(){this.items.clear()};t.has=function(e){return this.items.has(e)};t.get=function(e){return this.items.get(e)};t.put=function(e,t){this.delete(e);this.items.set(e,t);if(this.items.size>this.limit){var n=this.oldestKey(),r=this.items.get(n);this.items.delete(n);return[n,r]}}
;t.delete=function(e){return this.items.delete(e)};t.oldestKey=function(){return this.items.keys().next().value};!function(e,t,n){t&&f(e.prototype,t);n&&f(e,n)}(e,[{key:"length",get:function(){return this.items.size}},{key:"capacity",get:function(){return this.limit}}]);return e}();function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return
;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var m=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);this.primary=new p(t);this.extended=new p(n)}var t=e.prototype;t.clear=function(){this.primary.clear();this.extended.clear()};t.has=function(e){return this.primary.has(e)};t.get=function(e){return this.primary.get(e)};t.put=function(e,t){var n=this.primary.put(e,t);void 0!==n&&this.extended.put(n[0],n[1])};t.delete=function(e){var t=this.primary.delete(e),n=this.extended.delete(e);this.upstreamItems()
;return t||n};t.upstreamItems=function(){if(this.canUpstreamItems()){var e=!0,t=!1,n=void 0;try{for(var r,o=this.extended.entries()[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var i=y(r.value,2),a=i[0],s=i[1];this.primary.put(a,s);this.extended.delete(a);if(!this.canUpstreamItems())break}}catch(e){t=!0;n=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}}};t.canUpstreamItems=function(){return this.primary.length<this.primary.capacity&&this.extended.length>0};t.entries=function(){return this.primary.entries()};t.keys=function(){return this.primary.keys()};t.values=function(){return this.primary.values()};t.allEntries=function(){return c(this.primary.entries(),this.extended.entries())};t.allKeys=function(){return c(this.primary.keys(),this.extended.keys())};t.allValues=function(){return c(this.primary.values(),this.extended.values())};!function(e,t,n){t&&E(e.prototype,t);n&&E(e,n)}(e,[{key:"totalLength",get:function(){return this.primary.length}},{
key:"primaryCapacity",get:function(){return this.primary.capacity}},{key:"extendedCapacity",get:function(){return this.extended.capacity}}]);return e}(),b=n(461061);function g(e){var t,n=null!==(t=a.Z.getMemberCount(null==e?void 0:e.guild_id))&&void 0!==t?t:0;return null!=e&&e.type!==b.d4z.DM&&e.type!==b.d4z.GROUP_DM&&n>=1e4}var O=n(368365),v=n(53551),_=n(940712),I=O.Z.combine(b.Plq.VIEW_CHANNEL,b.Plq.READ_MESSAGE_HISTORY);function S(e){return null!=e&&(e.type===b.d4z.DM||e.type===b.d4z.GROUP_DM||(0,v.Qm)(e.type)&&_.Z.canBasicChannel(I,e))}var T=n(784238),N=n(346529);function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{
try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e){return e.type===b.d4z.DM||e.type===b.d4z.GROUP_DM||e.type===b.d4z.GUILD_TEXT}function j(e,t,n){n.has(t.id)||n.put(t.id,{guildId:e,channelId:t.id,channelType:t.type,fallback:!0})}function x(e,t){var n=!0,r=!1,o=void 0;try{for(var i,a=t.allEntries()[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=A(i.value,2),l=s[0],c=s[1];e.put(l,c)}}catch(e){r=!0;o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return e}
function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function M(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e){w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return w(e)}function Z(e,t){return!t||"object"!==U(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function L(e,t){L=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return L(e,t)}function D(e){return function(e){if(Array.isArray(e))return R(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var U=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var o=w(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Z(this,n)}}var G=new m(250,250),B=new p(10),H=!1,V=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&L(e,t)}(n,e);var t=k(n);function n(){M(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(i.Z);this.waitFor(s.Z);this.waitFor(a.Z);this.syncWith([s.Z],F)};r.canEvictOrphans=function(){return H};r.canSave=function(e){return G.has(e)};r.saveLimit=function(e){var t=G.get(e);return null!=t?t.channelType===b.d4z.DM||t.channelType===b.d4z.GROUP_DM?200:100:0};r.getSaveableChannels=function(){return G.values()};r.toSnapshot=function(){return{v:1,channels:D(G.allValues()).filter((function(e){return!e.fallback})),penalized:D(B.keys())}};r.__getLocalVars=function(){return{MAXIMUM_SAVED_CHANNELS:250,MAXIMUM_SAVED_PENALIZED_CHANNELS:10,MAXIMUM_ADDITIONAL_TRACKED_CHANNELS:250,MAXIMUM_MESSAGES_PER_CHANNEL_DM:200,MAXIMUM_MESSAGES_PER_CHANNEL_NON_DM:100,
lru:G,penalizations:B,snapshotLoaded:H}};n.mergeSnapshot=function(e){var t=G,n=B;G=new m(G.primaryCapacity,G.extendedCapacity);B=new p(B.capacity);for(var r=0,o=[e.channels,t.values()];r<o.length;r++){var i=o[r],a=!0,s=!1,l=void 0;try{for(var c,u=i[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var f=c.value;G.put(f.channelId,f)}}catch(e){s=!0;l=e}finally{try{a||null==u.return||u.return()}finally{if(s)throw l}}}for(var d=0,h=[e.penalized,n.keys()];d<h.length;d++){var E=h[d],y=!0,b=!1,g=void 0;try{for(var O,v=E[Symbol.iterator]();!(y=(O=v.next()).done);y=!0){var _=O.value;B.put(_,null)}}catch(e){b=!0;g=e}finally{try{y||null==v.return||v.return()}finally{if(b)throw g}}}};n.recordChannel=function(e){var t=i.Z.getBasicChannel(e);if(null!=t&&S(t)){var n;G.put(e,{guildId:null!==(n=t.guild_id)&&void 0!==n?n:null,channelId:e,channelType:t.type});if(g(t)){null!=B.put(e,null)&&G.delete(e)}}};n.deleteChannel=function(e){G.delete(e)};n.deleteGuild=function(e){var t=!0,n=!1,r=void 0;try{
for(var o,i=G.allValues()[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;a.guildId===e&&G.delete(a.channelId)}}catch(e){n=!0;r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}};n.dropUnreachableChannels=function(){var e=!0,t=!1,r=void 0;try{for(var o,a=G.keys()[Symbol.iterator]();!(e=(o=a.next()).done);e=!0){var s=o.value;S(i.Z.getBasicChannel(s))||n.deleteChannel(s)}}catch(e){t=!0;r=e}finally{try{e||null==a.return||a.return()}finally{if(t)throw r}}};n.deleteUnreadableGuildChannels=function(e){var t,r=!0,o=!1,a=void 0;try{for(var s,l=G.values()[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var c=s.value;e!==c.guildId||(t=c.channelId,S(i.Z.getBasicChannel(null!=t?t:"")))||n.deleteChannel(c.channelId)}}catch(e){o=!0;a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}};n.replaceLru=function(e){G=e};return n}(r.ZP.Store);function F(){var e=s.Z.getChannelId();null!=e&&V.recordChannel(e)}function Y(e){var t=e.id,n=S(e),r=s.Z.getChannelId()
;n&&t===r&&V.recordChannel(t);n||V.deleteChannel(t)}const z=new V(o.Z,{CACHE_LOADED_LAZY_NO_CACHE:function(e){H=!0},CACHE_LOADED_LAZY:function(e){H=!0;null!=e.saveableChannels&&V.mergeSnapshot(e.saveableChannels)},CHANNEL_DELETE:function(e){V.deleteChannel(e.channel.id)},CHANNEL_UPDATES:function(e){var t=!0,n=!1,r=void 0;try{for(var o,i=e.updates[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){Y(o.value.channel)}}catch(e){n=!0;r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}},CONNECTION_OPEN_SUPPLEMENTAL:function(){V.dropUnreachableChannels();V.replaceLru(function(e,t){if(e.totalLength>=t)return e;var n=new m(e.primaryCapacity,e.extendedCapacity),r=t-e.totalLength,o=!0,a=!1,s=void 0;try{for(var l,c=i.Z.getSortedPrivateChannels()[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var u=l.value;if(null!=u.lastMessageId){if(Date.now()-N.Z.extractTimestamp(u.lastMessageId)>=7776e6)break;j(null,u,n);if(n.totalLength>=r)return x(n,e)}}}catch(e){a=!0;s=e}finally{try{
o||null==c.return||c.return()}finally{if(a)throw s}}var f=!0,d=!1,p=void 0;try{for(var h,E=T.Z.getSortedGuilds()[Symbol.iterator]();!(f=(h=E.next()).done);f=!0){var y=h.value,b=!0,O=!1,v=void 0;try{for(var _,I=y.guilds[Symbol.iterator]();!(b=(_=I.next()).done);b=!0){var C=_.value,A=!0,R=!1,M=void 0;try{for(var w,Z=Object.values(i.Z.getMutableBasicGuildChannelsForGuild(C.id))[Symbol.iterator]();!(A=(w=Z.next()).done);A=!0){var L=w.value;P(L)&&S(L)&&!g(L)&&j(C.id,L,n);if(n.totalLength>=r)return x(n,e)}}catch(e){R=!0;M=e}finally{try{A||null==Z.return||Z.return()}finally{if(R)throw M}}}}catch(e){O=!0;v=e}finally{try{b||null==I.return||I.return()}finally{if(O)throw v}}}}catch(e){d=!0;p=e}finally{try{f||null==E.return||E.return()}finally{if(d)throw p}}return x(n,e)}(G,500))},GUILD_DELETE:function(e){if(!e.guild.unavailable){V.deleteGuild(e.guild.id);return!0}return!1},LOGIN_SUCCESS:function(e){G.clear();B.clear();H=!1},THREAD_DELETE:function(e){V.deleteChannel(e.channel.id)},
THREAD_UPDATE:function(e){Y(e.channel)}})},402232:(e,t,n)=>{"use strict";n.d(t,{M:()=>l,Z:()=>c});var r=n(785893),o=(n(667294),n(751615)),i=n(705654),a=n(461061),s=n(32733);function l(){var e=location.pathname+location.search;return s.a?a.Z5c.REGISTER:(0,i.U)(e,!1)}const c=function(){return(0,r.jsx)(o.l_,{to:l()})}},893052:(e,t,n)=>{"use strict";n.d(t,{e:()=>u});var r=n(785893),o=(n(667294),n(631134)),i=n(743221),a=n(402232),s=n(461061);function l(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){l(e,t,n[t])}))}return e}function u(e,t){var n,l,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{passProps:!0},f=function(n){
return!(0,i.$8)()&&o.default.getLoginStatus()!==s.u34.LOGGING_IN&&o.default.allowLogoutRedirect()?null!=t?(0,r.jsx)(t,{renderRedirect:(0,r.jsx)(a.Z,{})}):(0,r.jsx)(a.Z,{}):(0,r.jsx)(e,c({},u.passProps?n:null))};f.displayName="Authenticated(".concat(null!==(l=null!==(n=e.displayName)&&void 0!==n?n:e.name)&&void 0!==l?l:"<Unknown>",")");return f}},261317:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(667294),o=n(236086);function i(e){r.useEffect((function(){if(null!=e){o.Z.lockChangeLog(e);return function(){o.Z.unlockChangeLog(e)}}}),[e])}},902925:(e,t,n)=>{"use strict";n.d(t,{N:()=>a,I:()=>s});var r=n(667294),o=n(553494),i=n(409271),a=(0,o.B)({kind:"user",id:"2022-01_discovery_iar",label:"Ability to report servers in Server Discovery",defaultConfig:{canSeeInAppReportingButtons:!1},treatments:[{id:1,label:"Show IAR buttons in Server Discovery",config:{canSeeInAppReportingButtons:!0}}]});function s(){var e=a.useExperiment({}).canSeeInAppReportingButtons,t=i.Sb.useSetting(),n=e||t
;r.useEffect((function(){a.trackExposure({})}),[]);return n}},395810:(e,t,n)=>{"use strict";n.r(t);n.d(t,{default:()=>y,GuildDiscoveryMenuPopout:()=>m});var r=n(785893),o=(n(667294),n(363010)),i=n(281081),a=n(41225),s=n(849832),l=n(769672),c=n(653772),u=n(940712),f=n(761434),d=n(770336),p=n(902925),h=n(461061),E=n(959797);function y(e){var t=e.guild,n=e.shiftId,f=e.onSelect,y=e.closePopout,m=e["aria-label"],b=(0,a.Z)(t.id,n,void 0,y),g=(0,o.e7)([c.Z],(function(){return c.Z.getGuild(t.id)}),[t.id]),O=(0,o.e7)([u.Z],(function(){return u.Z.can(h.Plq.ADMINISTRATOR,g)})),v=p.N.useExperiment({}).canSeeInAppReportingButtons;return(0,r.jsxs)(l.ZP,{onSelect:f,navId:"guild-discovery-context-menu","aria-label":null!=m?m:E.Z.Messages.GENERIC_ACTIONS_MENU_LABEL,onClose:i.Zy,children:[(0,r.jsx)(l.kS,{children:!O&&v?(0,r.jsx)(l.sN,{id:"report-guild-discovery-listing",label:E.Z.Messages.REPORT_SERVER_NO_NAME,action:function(){(0,s.lt)(t);!function(){(0,i.Zy)();null==y||y()}()},icon:d.Z,color:"danger"
}):null}),(0,r.jsx)(l.kS,{children:b})]})}var m=function(e){var t=e.guild,n=e.children,o=e.onRequestOpen,i=e.onRequestClose;return(0,r.jsx)(f.ZP,{onRequestOpen:o,onRequestClose:i,animation:f.ZP.Animation.NONE,position:f.ZP.Positions.BOTTOM,spacing:4,align:f.ZP.Align.RIGHT,renderPopout:function(e){var n=e.closePopout;return(0,r.jsx)(y,{guild:t,closePopout:n})},children:n})}},698534:(e,t,n)=>{"use strict";n.d(t,{o1:()=>T,L1:()=>N,ZP:()=>C});var r=n(785893),o=n(667294),i=n(363010),a=n(331535),s=n(173436),l=n(277624),c=n(272729),u=n(67416),f=n(897576),d=n(444793),p=n(945534),h=n(99274),E=n(959797),y=n(598080),m=n.n(y);function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function O(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){g(i,r,o,a,s,"next",e)}
function s(e){g(i,r,o,a,s,"throw",e)}a(void 0)}))}}function v(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function _(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}
}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var S=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value])
;switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function T(e){var t=e.onClose,n=e.code,o=e.copyInputTitle,i=e.bodyText;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(u.xB,{separator:!1,className:m().headerContainer,children:[(0,r.jsx)("div",{className:m().dropArt}),(0,r.jsx)(a.X6,{variant:"heading-xl/semibold",children:E.Z.Messages.OUTBOUND_PROMOTION_REDEMPTION_MODAL_TITLE})]}),(0,r.jsxs)(u.hz,{className:m().modalContent,children:[(0,r.jsx)(a.xv,{
variant:"text-md/normal",className:m().codeBodyText,children:i}),(0,r.jsx)(a.$i,{className:m().formDivider}),(0,r.jsx)(a.hj,{title:o,className:m().formSection,children:(0,r.jsx)(l.Z,{value:n,buttonColor:a.zx.Colors.BRAND,buttonLook:a.zx.Looks.FILLED,delay:1e3,inputClassName:m().textInput})})]}),(0,r.jsx)(u.mz,{className:m().modalFooter,children:(0,r.jsx)(a.zx,{className:m().closeButton,onClick:t,look:a.zx.Looks.LINK,color:m().closeButton,children:E.Z.Messages.CLOSE})})]})}function N(e){var t=e.onClose,n=e.errorCode,o={26e4:E.Z.Messages.DROPS_USER_NOT_ENROLLED_ERROR,260001:E.Z.Messages.DROPS_QUEST_NOT_COMPLETED_ERROR,260002:E.Z.Messages.DROPS_NO_CODE_AVAILABLE_ERROR,260003:E.Z.Messages.DROPS_CODE_ALREADY_CLAIMED_ERROR},i=E.Z.Messages.GENERIC_ERROR_BODY;null!=o[n]&&(i=o[n]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(u.xB,{separator:!1,className:m().errorHeader,children:[(0,r.jsx)("div",{className:m().errorArt}),(0,r.jsx)(a.X6,{variant:"heading-xl/semibold",
children:E.Z.Messages.GENERIC_ERROR_TITLE})]}),(0,r.jsx)(u.hz,{className:m().errorBody,children:(0,r.jsx)(a.xv,{variant:"text-md/normal",className:m().bodyText,children:i})}),(0,r.jsx)(u.mz,{children:(0,r.jsx)(a.zx,{color:a.zx.Colors.BRAND,onClick:t,children:E.Z.Messages.CLOSE})})]})}const C=function(e){var t=e.onClose,l=e.code,y=e.drop,b=e.platform,g=e.transitionState,N=(0,c.Dt)(),C=I(o.useState(),2),A=C[0],P=C[1];o.useEffect((function(){null==l&&s.Z.wait(O((function(){return S(this,(function(e){switch(e.label){case 0:return[4,(0,d.dN)(y.dropsQuestId)];case 1:e.sent();return[2]}}))})))}),[y.dropsQuestId,l]);var j=(0,i.e7)([p.Z],(function(){return p.Z.platformAvailability}));return(0,r.jsx)(u.Y0,{transitionState:g,"aria-labelledby":N,children:(0,r.jsx)(r.Fragment,{children:function(){if(null!=l)return(0,r.jsx)(T,{bodyText:y.messages.claimTip(),onClose:t,copyInputTitle:E.Z.Messages.DROPS_REDEMPTION_CODE_PLATFORM_TITLE.format({platform:b}),code:l});if(null===j)return(0,r.jsx)("div",{
className:m().spinnerContainer,children:(0,r.jsx)(a.$j,{})});var e=j.length>0,o=1===j.length;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(u.xB,{separator:!1,className:m().headerContainer,children:[(0,r.jsx)("div",{className:m().dropArt}),(0,r.jsx)(a.X6,{variant:"heading-lg/semibold",children:E.Z.Messages.OUTBOUND_PROMOTION_REDEMPTION_MODAL_TITLE})]}),(0,r.jsxs)(u.hz,{children:[(0,r.jsx)(a.xv,{variant:"text-md/normal",className:m().dropBodyText,children:o?E.Z.Messages.DROPS_MODAL_CHOOSE_SINGLE_PLATFORM.format({platform:(0,h.Un)(j[0])}):E.Z.Messages.DROPS_MODAL_CHOOSE_PLATFORM.format({title:y.title})}),(0,r.jsx)(a.$i,{className:m().formDivider}),(0,r.jsxs)(a.hj,{className:m().dropFormSection,children:[(0,r.jsx)(a.q4,{onChange:P,options:j.map((function(e){return{value:e,label:(0,h.Un)(e)}})),value:o?j[0]:A,isDisabled:!e,className:e?"":m().selectDangerBorder,look:e?a.qQ.FILLED:a.qQ.CUSTOM}),!e&&(0,r.jsx)(a.xv,{variant:"text-sm/medium",color:"text-danger",className:m().errorCodesText,
children:E.Z.Messages.DROPS_CODES_RAN_OUT})]})]}),(0,r.jsxs)(u.mz,{children:[e&&(0,r.jsx)(a.zx,{color:a.zx.Colors.BRAND,onClick:function(){(0,f.ZD)(O((function(){var e,i;return S(this,(function(a){switch(a.label){case 0:return[4,Promise.all([n.e(40532),n.e(61323)]).then(n.bind(n,661323))];case 1:e=a.sent(),i=e.default;return[2,function(e){return(void 0!==A||o)&&(0,r.jsx)(i,_(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){v(e,t,n[t])}))}return e}({},e),{platform:void 0===A?j[0]:A,code:l,dropsQuestId:y.dropsQuestId,closeParentModal:t,singlePlatformClaim:o}))}]}}))})))},disabled:void 0===A&&!o,children:E.Z.Messages.UNLOCK_CODE}),e?(0,r.jsx)(a.zx,{onClick:t,look:a.zx.Looks.LINK,color:m().maybeLaterButton,children:E.Z.Messages.MAYBE_LATER
}):(0,r.jsx)(a.zx,{onClick:t,look:a.zx.Looks.LINK,color:m().closeButton,children:E.Z.Messages.CLOSE})]})]})}()})})}},662912:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var r=n(363010),o=n(173436),i=n(742269),a=n(588641),s=new Set(["nvidia"]);var l=n(236625),c=n.n(l);var u=function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({},i.AB.WINDOWS,{nvidia:">=397.93.0"});function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function p(e){p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return p(e)}function h(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
;return e}(e):t}function E(e,t){E=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return E(e,t)}var y=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}var b=!1,g=!0;var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&E(e,t)}(n,e);var t=m(n);function n(){f(this,n);return t.apply(this,arguments)}var r=n.prototype
;r.initialize=function(){var e=this;i.FB&&!__OVERLAY__&&a.default.getGPUDriverVersions().then((function(t){b=function(e){var t=u[(0,i.Xf)()];if(null==t)return!1;var n,r,o,a=!0,s=!1,l=void 0;try{for(var f,d=Object.keys(e)[Symbol.iterator]();!(a=(f=d.next()).done);a=!0){var p=f.value,h=e[p],E=t[p];if(null!=h&&null!=E&&null==h.error){var y=(r=void 0,o=void 0,"".concat(null!==(r=(n=h).major)&&void 0!==r?r:0,".").concat(null!==(o=n.minor)&&void 0!==o?o:0,".0"));if(!c().satisfies(y,E))return!0}}}catch(e){s=!0;l=e}finally{try{a||null==d.return||d.return()}finally{if(s)throw l}}return!1}(t);g=function(e){var t=!0,n=!1,r=void 0;try{for(var o,i=Object.keys(e)[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value,l=e[a];if(null!=l&&null==l.error&&s.has(a))return!0}}catch(e){n=!0;r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return!1}(t);e.emitChange()}))};r.getState=function(){return{GPUDriversOutdated:b,canUseHardwareAcceleration:g}};r.__getLocalVars=function(){
return{GPUDriversOutdated:b,canUseHardwareAcceleration:g}};!function(e,t,n){t&&d(e.prototype,t);n&&d(e,n)}(n,[{key:"GPUDriversOutdated",get:function(){return b}},{key:"canUseHardwareAcceleration",get:function(){return g}}]);return n}(r.ZP.Store);O.displayName="StreamingCapabilitiesStore";const v=new O(o.Z,{OVERLAY_INITIALIZE:function(e){var t=e.streamingCapabilitiesStoreState;b=t.GPUDriversOutdated;g=t.canUseHardwareAcceleration}})},464855:(e,t,n)=>{"use strict";n.d(t,{l:()=>a,y:()=>s});var r=n(185253),o=Object.freeze({isPopoutOpen:!1}),i=(0,r.Z)((function(e){return o})),a=function(e){i.setState((function(){return{isPopoutOpen:e}}))},s=i},956922:(e,t,n)=>{"use strict";n.d(t,{N8:()=>c,BT:()=>u,MR:()=>f,WR:()=>d});var r=n(667294),o=n(363010),i=n(379908),a=n(940712),s=n(808433),l=n(461061);function c(e){var t,n=null!==(t=null==e?void 0:e.id)&&void 0!==t?t:"",i=s.r.useExperiment({guildId:n}).enableRaidReporting,c=(0,o.e7)([a.Z],(function(){return function(e){
var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.Z;return t.can(l.Plq.BAN_MEMBERS,e)||t.can(l.Plq.KICK_MEMBERS,e)||t.can(l.Plq.MANAGE_GUILD,e)}(e,a.Z)}),[e]);r.useEffect((function(){c&&s.r.trackExposure({guildId:n})}),[c,n]);return c&&i}function u(e){var t,n=null!==(t=null==e?void 0:e.id)&&void 0!==t?t:"",r=(0,o.e7)([a.Z],(function(){return function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.Z).can(l.Plq.MANAGE_GUILD,e)}(e,a.Z)}),[e]),i=s.l.useExperiment({guildId:n},{autoTrackExposure:r}).enableRaidAlerts;return r&&i}function f(e){var t=u(e),n=!0===(null==e?void 0:e.hasFeature(l.oNc.RAID_ALERTS_DISABLED));return t&&n}function d(e){var t,n=(0,o.e7)([a.Z],(function(){return function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.Z).can(l.Plq.MANAGE_GUILD,e)}(e,a.Z)}),[e]);return(0,i.au)(null!==(t=null==e?void 0:e.id)&&void 0!==t?t:"",!1)&&n}},830504:(e,t,n)=>{"use strict";n.d(t,{Cg:()=>u,zC:()=>M,Yp:()=>x,il:()=>U,XO:()=>R,
hC:()=>L,o9:()=>Z,VF:()=>D,WW:()=>w});var r=n(785893),o=(n(667294),n(331535),n(832010)),i=n(240243);function a(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function s(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r]
;t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function c(e){var t=e.width,n=void 0===t?24:t,o=e.height,c=void 0===o?24:o,u=l(e,["width","height"]);return(0,r.jsxs)("svg",s(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){a(e,t,n[t])}))}return e}({},(0,i.Z)(u)),{height:c,width:n,viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{
d:"m6.3599 4.33.41.84c.02245.04336.03052.09274.02304.14099s-.03013.09287-.06465.1274c-.03453.03453-.07915.05717-.1274.06465s-.09763-.00059-.14099-.02304l-.84-.41c-.03119-.01506-.06537-.02288-.1-.02288s-.06882.00782-.1.02288l-.84.41c-.04336.02245-.09274.03052-.141.02304-.04825-.00748-.09287-.03012-.12739-.06465-.03453-.03453-.05717-.07915-.06465-.1274s.00058-.09763.02304-.14099l.41-.84c.01505-.03119.02287-.06537.02287-.1s-.00782-.06881-.02287-.1l-.41-.84c-.01585-.04253-.01876-.08879-.00836-.13297.01039-.04417.03362-.08429.06676-.11529s.07471-.05151.11948-.05894c.04477-.00742.09074-.00144.13212.0172l.84.41c.03118.01506.06537.02288.1.02288s.06881-.00782.1-.02288l.84-.41c.04336-.02245.09274-.03052.14099-.02304s.09287.03012.1274.06465c.03452.03453.05717.07914.06465.1274.00748.04825-.00059.09763-.02304.14099l-.41.84c-.01211.02846-.01834.05907-.01834.09s.00623.06154.01834.09z",fill:"#ffd836"}),(0,r.jsx)("path",{
d:"m12 2.70001-5.45996 5.46v7.67999l5.45996 5.46 5.46-5.46v-7.67999zm2.73 11.99999-2.73 2.74-2.72996-2.73v-5.41999l2.72996-2.73 2.73 2.73z",fill:"#ff73fa"}),(0,r.jsx)("path",{d:"m12 2.70001v3.86l2.73 2.73 2.73-1.13z",fill:"#ffc0ff"}),(0,r.jsx)("path",{d:"m9.27004 14.71-2.73 1.13 5.45996 5.46v-3.86z",fill:"#e655d4"}),(0,r.jsxs)("g",{fill:"#d4e4ff",children:[(0,r.jsx)("path",{d:"m16.2199 17.7h.01c.243 0 .44-.197.44-.44v-.89c0-.243-.197-.44-.44-.44h-.01c-.243 0-.44.197-.44.44v.89c0 .243.197.44.44.44z"}),(0,r.jsx)("path",{d:"m16.2199 21.25h.01c.243 0 .44-.197.44-.44v-.89c0-.243-.197-.44-.44-.44h-.01c-.243 0-.44.197-.44.44v.89c0 .243.197.44.44.44z"}),(0,r.jsx)("path",{d:"m15.3401 18.59v-.01c0-.243-.197-.44-.44-.44h-.89c-.243 0-.44.197-.44.44v.01c0 .243.197.44.44.44h.89c.243 0 .44-.197.44-.44z"}),(0,r.jsx)("path",{d:"m18.8799 18.59v-.01c0-.243-.197-.44-.44-.44h-.89c-.243 0-.44.197-.44.44v.01c0 .243.197.44.44.44h.89c.243 0 .44-.197.44-.44z"})]}),(0,r.jsx)("path",{
d:"m9.27002 9.29v5.42l2.72998 2.73 2.73-2.73v-5.42l-2.73-2.73z",fill:"#ffdef9"}),(0,r.jsx)("path",{d:"m14.72 9.28998v.01l-5.42997 5.43002-.01-.01v-1.47l4.69997-4.71002z",fill:"#fff"}),(0,r.jsx)("path",{d:"m14.7201 11.34v1.5l-3.66 3.66-.75-.75z",fill:"#fff"})]}))}var u,f=n(225376),d=n(106027),p=n(339302),h=n(943327),E=n(538765),y=(n(4258),n(696229)),m=n(415397),b=n(297881),g=n(961803),O=n(75141),v=n(461061),_=n(959797);n(759107);!function(e){e.GUILD_BANNER_INVITE="guild_banner_invite"}(u||(u={}));var I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,o.Lq)(v.Ilk.PREMIUM_PERK_ORANGE);return{color:e,icon:p.Z,description:_.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_UPSELL_PERKS_ANIMATED_ICON}},S=function(){return{color:(0,o.Lq)(v.Ilk.PREMIUM_PERK_ORANGE),icon:h.Z,description:_.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_UPSELL_PERKS_ROLE_ICON}},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,o.Lq)(v.Ilk.PREMIUM_PERK_PURPLE);return{color:e,
icon:b.Z,description:_.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_UPSELL_PERKS_STICKERS}},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,o.Lq)(v.Ilk.PREMIUM_PERK_YELLOW);return{color:e,icon:b.Z,description:_.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_UPSELL_PERKS_STICKERS_UPLOAD.format({numStickers:O.$8[v.Eu4.TIER_1]})}},C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,o.Lq)(v.Ilk.PREMIUM_PERK_PURPLE),n=0,r=0;switch(e){case v.Eu4.TIER_1:n=15;r=100;break;case v.Eu4.TIER_2:n=30;r=150;break;case v.Eu4.TIER_3:n=60;r=250}return{color:t,icon:b.Z,description:_.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_UPSELL_PERKS_STICKERS_AND_EMOJIS.format({numStickers:n,numEmojis:r})}},A=function(){return{color:(0,o.Lq)(v.Ilk.PREMIUM_PERK_GOLD),icon:m.Z,description:_.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_UPSELL_PERKS_VANITY_URL}},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_UPSELL_PERKS_OTHER
;return{color:(0,o.Lq)(v.Ilk.PREMIUM_PERK_BLUE),icon:f.Z,description:e}},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,o.Lq)(v.Ilk.PREMIUM_PERK_GREEN);return{color:e,icon:y.Z,description:_.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_UPSELL_PERKS_SCREEN_SHARE_1080P}};function x(){return[S(),{color:(0,o.Lq)(v.Ilk.PREMIUM_PERK_GREEN),icon:E.Z,description:_.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_UPSELL_PERKS_GUILD_BANNER},T(),P()]}function R(){return[S(),C(v.Eu4.TIER_2),j(),P()]}function M(){return[C(v.Eu4.TIER_3,(0,o.Lq)(v.Ilk.PREMIUM_PERK_GREEN)),{color:(0,o.Lq)(v.Ilk.PREMIUM_PERK_PURPLE),icon:g.Z,description:_.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_UPSELL_PERKS_FILE_UPLOAD_TIER_3},A(),P()]}function w(){return[A(),{color:(0,o.Lq)(v.Ilk.PREMIUM_PERK_GREEN),icon:p.Z,description:_.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_UPSELL_PERKS_ANIMATED_GUILD_BANNER},C(v.Eu4.TIER_3),P()]}function Z(){return[{color:(0,o.Lq)(v.Ilk.PREMIUM_PERK_GREEN),icon:E.Z,
description:_.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_UPSELL_PERKS_CUSTOM_INVITE},T(),I(),P()]}function L(){return[T(),P()]}function D(){return[{icon:d.Z,color:(0,o.Lq)(v.Ilk.PREMIUM_PERK_PINK),description:_.Z.Messages.PREMIUM_GUILD_USER_FEATURE_BOOST_CRYSTAL},{icon:h.Z,color:(0,o.Lq)(v.Ilk.PREMIUM_PERK_YELLOW),description:_.Z.Messages.PREMIUM_GUILD_USER_FEATURE_SPECIAL_ROLE},{icon:c,description:_.Z.Messages.PREMIUM_GUILD_USER_FEATURE_PROFILE_BADGE},{color:(0,o.Lq)(v.Ilk.PREMIUM_PERK_BLUE),icon:f.Z,description:_.Z.Messages.PREMIUM_GUILD_USER_FEATURE_OTHERS}]}function U(){return[I(),{color:(0,o.Lq)(v.Ilk.PREMIUM_PERK_PURPLE),icon:y.Z,description:_.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_UPSELL_PERKS_SCREEN_SHARE_720P},N(),P()]}},714523:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var r=n(785893),o=(n(667294),n(81717)),i=n(674514),a=n(897576),s=n(932847),l=n(461061),c=n(86030);function u(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}
function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){u(i,r,o,a,s,"next",e)}function s(e){u(i,r,o,a,s,"throw",e)}a(void 0)}))}}function d(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function p(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}var h=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){
if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function E(e,t){var u=null!=t?t:"".concat(l.jXE.PREMIUM_GUILD_UPSELL_MODAL);null!=e.targetBoostedGuildTier&&(u+=" - Tier ".concat(e.targetBoostedGuildTier));s.default.track(l.rMx.OPEN_MODAL,{type:u,
location:e.analyticsSourceLocation});var E=e.openInPopoutEnabled,y=p(e,["openInPopoutEnabled"]),m=o.Z.getWindowOpen(l.KJ3.CHANNEL_CALL_POPOUT)&&null!=E&&E;m&&(0,i.Z)(l.KJ3.CHANNEL_CALL_POPOUT);var b=m?c.u1:c.z1;(0,a.ZD)(f((function(){var e,t;return h(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(37990),n.e(35666),n.e(54327),n.e(51912),n.e(30620),n.e(69656),n.e(55748),n.e(77517),n.e(48149)]).then(n.bind(n,576775))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){d(e,t,n[t])}))}return e}({},y,e))}]}}))})),{onCloseCallback:function(){s.default.track(l.rMx.MODAL_DISMISSED,{type:u,location:e.analyticsSourceLocation})},contextKey:b})}},
939532:(e,t,n)=>{"use strict";n.d(t,{F:()=>p,Q:()=>h});var r=n(363010),o=n(820028),i=n(180918),a=n(537127),s=n(932847),l=n(824657),c=n(461061),u=n(610804),f=n(228031);function d(e,t){var n=a.Z.getDismissedGuildContent(t);return null!=n&&(0,l.jl)(n,e)}function p(e,t){return(0,r.e7)([a.Z],(function(){return d(e,t)}))}function h(e,t,n,r){(0,i.PS)(t,(function(n){if(d(e,t))return!1;n.dismissedGuildContent=(0,l.GV)(n.dismissedGuildContent,e)}),f.fy.INFREQUENT_USER_ACTION);n&&s.default.track(c.rMx.DISMISSIBLE_CONTENT_DISMISSED,{type:o.CW[e],guild_id:t,action:null!=r?r:u.L.AUTO})}},266738:(e,t,n)=>{"use strict";n.d(t,{iq:()=>s,Cl:()=>l,$D:()=>c,Pq:()=>o,Jh:()=>i,gq:()=>u});function r(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var o,i,a,s="guild_feed_feedback_last_seen",l=6048e5,c=450;!function(e){e.TERRIBLE="terrible";e.BAD="bad";e.OKAY="okay";e.GOOD="good";e.EXCELLENT="excellent"}(o||(o={}));!function(e){
e[e.ALREADY_SAW=0]="ALREADY_SAW";e[e.IRRELEVANT=1]="IRRELEVANT";e[e.TOO_OLD=2]="TOO_OLD";e[e.CONFUSING_OR_RANDOM=3]="CONFUSING_OR_RANDOM";e[e.INAPPROPRIATE=4]="INAPPROPRIATE";e[e.UNINTERESTING=5]="UNINTERESTING";e[e.ENTERTAINING=6]="ENTERTAINING";e[e.INFORMATIVE=7]="INFORMATIVE";e[e.USEFUL=8]="USEFUL";e[e.OTHER=9]="OTHER";e[e.FUNNY=10]="FUNNY"}(i||(i={}));var u=(r(a={},o.TERRIBLE,[i.ALREADY_SAW,i.IRRELEVANT,i.TOO_OLD,i.CONFUSING_OR_RANDOM,i.INAPPROPRIATE,i.OTHER]),r(a,o.BAD,[i.ALREADY_SAW,i.IRRELEVANT,i.TOO_OLD,i.CONFUSING_OR_RANDOM,i.INAPPROPRIATE,i.OTHER]),r(a,o.OKAY,[i.IRRELEVANT,i.TOO_OLD,i.UNINTERESTING,i.ALREADY_SAW,i.OTHER]),r(a,o.GOOD,[i.FUNNY,i.ENTERTAINING,i.INFORMATIVE,i.USEFUL,i.OTHER]),r(a,o.EXCELLENT,[i.FUNNY,i.ENTERTAINING,i.INFORMATIVE,i.USEFUL,i.OTHER]),a)},725608:(e,t,n)=>{"use strict";n.d(t,{Cd:()=>m,vL:()=>b,i1:()=>g,IT:()=>O})
;var r=n(667294),o=n(363010),i=n(444450),a=n(730189),s=n(897193),l=n(202552),c=n(932847),u=n(449024),f=n(407723),d=n(266738),p=n(461061),h=n(959797);function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(){i.Z.set(d.iq,null)}function b(){var e=r.useMemo((function(){return l.Z.getExperimentBucket(u.Xp.definition.id)}),[]),t=y(r.useState(!1),2),n=t[0],o=t[1],a=r.useMemo((function(){return i.Z.get(d.iq)}),[n]);return{showFeedback:r.useMemo((function(){return 100*Math.random()<e&&(null==a||Date.now()-a>d.Cl)}),[e,a]),setOnDismissedFeedback:o}}function g(e){switch(e){case d.Jh.ALREADY_SAW:return h.Z.Messages.GUILD_FEED_FEEDBACK_OPTION_ALREADY_SAW;case d.Jh.IRRELEVANT:return h.Z.Messages.GUILD_FEED_FEEDBACK_OPTION_IRRELEVANT;case d.Jh.TOO_OLD:return h.Z.Messages.GUILD_FEED_FEEDBACK_OPTION_TOO_OLD;case d.Jh.CONFUSING_OR_RANDOM:return h.Z.Messages.GUILD_FEED_FEEDBACK_OPTION_CONFUSING;case d.Jh.INAPPROPRIATE:return h.Z.Messages.GUILD_FEED_FEEDBACK_OPTION_INAPPROPRIATE;case d.Jh.UNINTERESTING:
return h.Z.Messages.GUILD_FEED_FEEDBACK_OPTION_UNINTERESTING;case d.Jh.ENTERTAINING:return h.Z.Messages.GUILD_FEED_FEEDBACK_OPTION_ENTERTAINING;case d.Jh.INFORMATIVE:return h.Z.Messages.GUILD_FEED_FEEDBACK_OPTION_INFORMATIVE;case d.Jh.USEFUL:return h.Z.Messages.GUILD_FEED_FEEDBACK_OPTION_USEFUL;case d.Jh.OTHER:return h.Z.Messages.GUILD_FEED_FEEDBACK_OTHER_REASON;case d.Jh.FUNNY:return h.Z.Messages.GUILD_FEED_FEEDBACK_OPTION_FUNNY;default:return null}}function O(e){var t=e.guildId,n=e.guildFeedItem,l=e.setOnDismissFeedback,u=y(r.useState(),2),h=u[0],E=u[1],m=y(r.useState(new Set),2),b=m[0],O=m[1],v=y(r.useState(),2),_=v[0],I=v[1],S=y(r.useState(!1),2),T=S[0],N=S[1],C=y(r.useState(!1),2),A=C[0],P=C[1],j=y(r.useState(!1),2),x=j[0],R=j[1],M=r.useCallback((function(e){E(e);R(!0);N(!1);setTimeout((function(){R(!1)}),d.$D+150)}),[E,N,R]),w=r.useCallback((function(e){e===d.Jh.OTHER&&b.has(d.Jh.OTHER)&&I(null);var t=new Set(b);t.has(e)?t.delete(e):t.add(e);O(t)
}),[b,I,O]),Z=r.useCallback((function(){N(!0);O(new Set)}),[N,O]),L=r.useCallback((function(e){!function(e){var t,n=e.guildId,r=e.guildFeedItem,o=e.dismissed,i=e.selectedRating,a=void 0===i?null:i,l=e.selectedReasons,u=void 0===l?null:l,d=e.userFeedback,h=void 0===d?null:d,E=Array.from(null!=u?u:[]);c.default.track(p.rMx.HOME_FEEDBACK_SUBMITTED,{guild_id:n,home_session_id:f.Z.getHomeSessionId(n),feed_item_id:r.id,feed_item_position:0,dismissed:o,report_name:"feed_item_feedback",load_id:s.ZP.getLoadId(n),rating:a,reason_codes:E,reason_descriptions:E.map((function(e){return null!==(t=g(e))&&void 0!==t?t:""})),user_feedback:h})}({guildId:t,guildFeedItem:n,dismissed:e,selectedRating:h,selectedReasons:b,userFeedback:_})}),[t,n,h,b,_]),D=r.useCallback((function(){i.Z.set(d.iq,Date.now());null==l||l(!0);A||L(!0)}),[L,l,A]),U=r.useCallback((function(){L(!1);P(!0);i.Z.set(d.iq,Date.now())}),[L]),k=r.useMemo((function(){return b.size>0&&(!b.has(d.Jh.OTHER)||null!=_&&""!==_)}),[b,_]),G=(0,
o.e7)([a.Z],(function(){return a.Z.useReducedMotion})),B=r.useRef(!1);r.useEffect((function(){return function(){B.current=!0}}),[]);r.useEffect((function(){return function(){B.current&&null!=h&&D()}}),[h,D]);return{selectedRating:h,setSelectedRating:M,selectedReasons:b,setSelectedReasons:w,setUserFeedback:I,backPressed:T,onBackPressed:Z,onSubmitPressed:U,onClosePressed:D,showSubmitted:A,isAnimating:x,canSubmit:k,useReducedMotion:G}}},276546:(e,t,n)=>{"use strict";n.d(t,{Z:()=>P});var r=n(363010),o=n(173436),i=n(461061);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e){s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return s(e)}function l(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e,t){c=Object.setPrototypeOf||function(e,t){
e.__proto__=t;return e};return c(e,t)}var u=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}var d,p,h,E,y,m,b,g,O,v=i.QZA.CLOSED,_={},I=!1;function S(){v=i.QZA.CLOSED;_={};b=null;g=void 0;O=[]}function T(){N();C();_={};v=i.QZA.OPEN}function N(){d=void 0;y=void 0}function C(){p=void 0;h=void 0;E=void 0;m=void 0}var A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,
configurable:!0}});t&&c(e,t)}(n,e);var t=f(n);function n(){a(this,n);return t.apply(this,arguments)}var r=n.prototype;r.getFormState=function(){return v};r.getErrors=function(){return _};r.showNotice=function(){return void 0!==d||void 0!==p||void 0!==h||void 0!==E||void 0!==y||void 0!==m};r.getPendingAvatar=function(){return d};r.getPendingBanner=function(){return p};r.getPendingBio=function(){return h};r.getPendingNickname=function(){return y};r.getPendingPronouns=function(){return E};r.getPendingAccentColor=function(){return y};r.getPendingThemeColors=function(){return m};r.getAllPending=function(){return{pendingAvatar:d,pendingBanner:p,pendingBio:h,pendingPronouns:E,pendingNickname:y,pendingThemeColors:m}};r.getGuild=function(){return b};r.getSource=function(){return g};r.getAnalyticsLocations=function(){return O};r.getIsDisableSubmit=function(){return I};r.__getLocalVars=function(){return{formState:v,errors:_,pendingAvatar:d,pendingBanner:p,pendingBio:h,pendingPronouns:E,
pendingNickname:y,pendingThemeColors:m,guild:b,source:g,analyticsLocations:O,disableSubmit:I}};return n}(r.ZP.Store);A.displayName="GuildIdentitySettingsStore";const P=new A(o.Z,{GUILD_IDENTITY_SETTINGS_INIT:function(e){b=e.guild;v=i.QZA.OPEN;_={};g=e.source;O=e.analyticsLocations},GUILD_IDENTITY_SETTINGS_CLOSE:S,GUILD_IDENTITY_SETTINGS_RESET_AND_CLOSE_FORM:function(){T();S()},GUILD_IDENTITY_SETTINGS_SET_GUILD:function(e){b=e.guild;_={}},GUILD_IDENTITY_SETTINGS_SUBMIT:function(){v=i.QZA.SUBMITTING;_={}},GUILD_IDENTITY_SETTINGS_SUBMIT_FAILURE:function(e){if(v!==i.QZA.SUBMITTING)return!1;v=i.QZA.OPEN;var t;_=null!==(t=e.errors)&&void 0!==t?t:{}},GUILD_IDENTITY_SETTINGS_SET_PENDING_AVATAR:function(e){var t=e.avatar;d=t},GUILD_IDENTITY_SETTINGS_SET_PENDING_BANNER:function(e){var t=e.banner;p=t},GUILD_IDENTITY_SETTINGS_SET_PENDING_BIO:function(e){var t=e.bio;h=t},GUILD_IDENTITY_SETTINGS_SET_PENDING_PRONOUNS:function(e){var t=e.pronouns;E=t},
GUILD_IDENTITY_SETTINGS_SET_PENDING_NICKNAME:function(e){var t=e.nickname;y=t},GUILD_IDENTITY_SETTINGS_SET_PENDING_THEME_COLORS:function(e){var t=e.themeColors;m=t},GUILD_IDENTITY_SETTINGS_RESET_PENDING_MEMBER_CHANGES:N,GUILD_IDENTITY_SETTINGS_RESET_PENDING_PROFILE_CHANGES:C,GUILD_IDENTITY_SETTINGS_RESET_ALL_PENDING:T,GUILD_IDENTITY_SETTINGS_SUBMIT_SUCCESS:T,GUILD_IDENTITY_SETTINGS_CLEAR_ERRORS:function(){_={}},GUILD_IDENTITY_SETTINGS_SET_DISABLE_SUBMIT:function(e){var t=e.disable;I=t}})},185328:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(785893),o=(n(667294),n(331535)),i=n(969225),a=n(959797),s=n(133766),l=n.n(s),c=n(946137),u=n.n(c);const f=function(e){var t=e.headerId,n=e.reapplyText,s=e.onReapply,c=e.confirmText,f=e.onConfirm,d=e.rejectionReason,p=void 0===d?null:d,h=e.guild,E=void 0===h?null:h;return(0,r.jsxs)("div",{className:l().confirmation,children:[(0,r.jsxs)("div",{className:l().confirmationContent,children:[null!==E?(0,r.jsx)(i.Z,{size:i.Z.Sizes.LARGER,guild:E,
className:l().guildIcon}):(0,r.jsx)("img",{alt:a.Z.Messages.MEMBER_VERIFICATION_APPLICATION_REJECTED_ICON,src:u(),className:l().verificationStateIcon}),(0,r.jsx)(o.X6,{id:t,variant:"heading-xl/semibold",className:l().header,children:null!=(null==E?void 0:E.name)?a.Z.Messages.MEMBER_VERIFICATION_APPLICATION_REJECTED_TITLE_WITH_GUILD_NAME.format({guildName:E.name}):a.Z.Messages.MEMBER_VERIFICATION_APPLICATION_REJECTED_TITLE}),null!=p&&""!==p?(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(o.xv,{variant:"text-sm/normal",children:[(0,r.jsx)("span",{className:l().rejectionReasonLabel,children:a.Z.Messages.MEMBER_VERIFICATION_APPLICATION_REJECTED_REASON}),(0,r.jsx)("span",{className:l().rejectionReason,children:p})]})}):null]}),(0,r.jsxs)("div",{className:l().confirmationButtonRow,children:[(0,r.jsx)(o.zx,{onClick:s,color:o.zx.Colors.PRIMARY,className:l().confirmationButton,children:n}),(0,r.jsx)(o.zx,{onClick:f,color:o.zx.Colors.PRIMARY,className:l().confirmationButton,children:c})]})]})}},
271075:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(785893),o=(n(667294),n(294184)),i=n.n(o),a=n(331535),s=n(276842),l=n(81951),c=n(580543),u=n.n(c);function f(e){var t=e.message,n=e.error,o=e.onClick,c=e.submitting,f=e.className,d=e.ctaMessage;return(0,r.jsxs)("div",{className:i()(u().container,f),children:[(0,r.jsxs)("div",{className:u().textContainer,children:[(0,r.jsx)(l.Z,{className:u().warningIcon}),(0,r.jsx)(s.Z,{size:10,horizontal:!0}),(0,r.jsxs)("div",{children:[(0,r.jsx)(s.Z,{size:1}),(0,r.jsx)(a.xv,{className:u().info,variant:"text-sm/normal",children:t}),null!=n&&(0,r.jsx)(a.xv,{className:i()(u().info,u().error),variant:"text-sm/normal",children:n})]})]}),(0,r.jsx)(s.Z,{size:16,horizontal:!0}),(0,r.jsx)(a.zx,{className:u().undoButton,color:a.zx.Colors.LINK,look:a.zx.Looks.LINK,size:a.zx.Sizes.ICON,onClick:o,submitting:c,children:d})]})}},615522:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b})
;var r=n(785893),o=n(667294),i=n(730381),a=n.n(i),s=n(737325),l=n(859169),c=n(64833),u=n(954946),f=n(271075),d=n(959797);function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var y=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,
o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},m=function(e){var t,n,r=E(o.useState(!1),2),i=r[0],a=r[1],l=E(o.useState(null),2),c=l[0],u=l[1],f=(n=(t=function(t){var n;return y(this,(function(r){switch(r.label){case 0:a(!0);u(null);r.label=1;case 1:r.trys.push([1,3,4,5]);return[4,(0,s.qu)(t,e)];case 2:r.sent();return[3,5];case 3:n=r.sent();u(n);return[3,5];case 4:a(!1);return[7];case 5:return[2]}}))},function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(e){h(i,r,o,a,s,"next",e)}function s(e){h(i,r,o,a,s,"throw",e)}a(void 0)}))}),function(e){return n.apply(this,arguments)});return{resetRenewalMutation:f,
submitting:i,error:c}};function b(e){var t=e.groupListingId,n=e.subscription,i=e.className,s=(0,c.Z)(l.Z.PENDING_PLAN_CHANGE_NOTICE).analyticsLocations,p=m(s),h=p.resetRenewalMutation,E=p.submitting,y=p.error,b=(0,u._k)(t,{includeSoftDeleted:!0}),g=o.useMemo((function(){if(null==(null==n?void 0:n.renewalMutations))return{currentListing:void 0,nextListing:void 0};var e=n.items[0].planId,t=n.renewalMutations.items[0].planId;return{currentListing:b.find((function(t){return t.subscription_plans[0].id===e})),nextListing:b.find((function(e){return e.subscription_plans[0].id===t}))}}),[n,b]),O=g.currentListing,v=g.nextListing;if(null==n||null==O||null==v)return null;var _=a()(n.currentPeriodEnd).format("MMM DD, YYYY");return(0,r.jsx)(f.Z,{message:d.Z.Messages.GUILD_ROLE_CANCEL_SUBSCRIPTION_DELETE_MUTATION_DESCRIPTION.format({currentListing:O.name,nextListing:v.name,changeDate:_}),error:null==y?void 0:y.message,onClick:function(){return h(n)},submitting:E,
ctaMessage:d.Z.Messages.GUILD_ROLE_CANCEL_SUBSCRIPTION_DELETE_MUTATION_CTA,className:i})}},4231:(e,t,n)=>{"use strict";n.d(t,{kZ:()=>d,W4:()=>p,Sn:()=>h,gq:()=>E,I4:()=>m,Ui:()=>b,U3:()=>g});var r=n(675860),o=n(173436),i=n(361138),a=n(99298),s=n(461061);function l(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){l(i,r,o,a,s,"next",e)}function s(e){l(i,r,o,a,s,"throw",e)}a(void 0)}))}}function u(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var f=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){
if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function d(){o.Z.dispatch({type:"INTEGRATION_PERMISSION_SETTINGS_CLEAR"})}function p(e,t,n){o.Z.dispatch({applicationId:e,commandId:t,permissions:n,type:"INTEGRATION_PERMISSION_SETTINGS_EDIT"})}function h(e,t){
r.Z.get(s.ANM.GUILD_COMMANDS_FOR_APPLICATION(e,t)).then((function(n){o.Z.dispatch({type:"INTEGRATION_PERMISSION_SETTINGS_COMMANDS_FETCH_SUCCESS",applicationId:t,commands:n.body.application_commands,guildId:e,permissions:n.body.permissions})}),(function(){o.Z.dispatch({type:"INTEGRATION_PERMISSION_SETTINGS_COMMANDS_FETCH_FAILURE",applicationId:t})}))}function E(e,t,n){return y.apply(this,arguments)}function y(){return(y=c((function(e,t,n){var i,a;return f(this,(function(l){switch(l.label){case 0:i=[];l.label=1;case 1:l.trys.push([1,3,,4]);return[4,r.Z.get(s.ANM.APPLICATION_BOT_GUILD_COMMAND_PERMISSIONS(e,t,n))];case 2:(a=l.sent()).ok&&(i=a.body.permissions);return[3,4];case 3:if(404!==l.sent().status){o.Z.dispatch({type:"INTEGRATION_PERMISSION_SETTINGS_APPLICATION_PERMISSIONS_FETCH_FAILURE",applicationId:e,commandId:n,guildId:t});return[2]}return[3,4];case 4:o.Z.dispatch({type:"INTEGRATION_PERMISSION_SETTINGS_COMMAND_UPDATE",applicationId:e,commandId:n,guildId:t,permissions:i})
;return[2]}}))}))).apply(this,arguments)}function m(e){o.Z.dispatch({applicationId:e,type:"INTEGRATION_PERMISSION_SETTINGS_INIT"})}function b(e){o.Z.dispatch({commandId:e,type:"INTEGRATION_PERMISSION_SETTINGS_RESET"})}function g(e){return O.apply(this,arguments)}function O(){return(O=c((function(e){var t,n,r,a,s,l,c,u;return f(this,(function(f){switch(f.label){case 0:t=e.applicationId,n=e.commandId,r=e.defaultEveryoneValue,a=e.defaultEverywhereValue,s=e.guildId,l=e.permissions;c=n===t?v(s,l,r,a):l;return[4,i.dh(t,s,n,c)];case 1:(u=f.sent()).ok&&o.Z.dispatch({type:"INTEGRATION_PERMISSION_SETTINGS_COMMAND_UPDATE",applicationId:t,commandId:n,guildId:s,permissions:u.body.permissions});return[2]}}))}))).apply(this,arguments)}function v(e,t,n,r){if(!n||!r)return t;var o,i=(u(o={},e,n),u(o,(0,a.bD)(e),r),o);return t.filter((function(e){var t=i[e.id];return null==t||e.permission!==t}))}},58226:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p})
;var r=n(951660),o=n(531286),i=n(865622),a=n(987593),s=n(932847),l=n(618468),c=n(21588),u=n(461061);function f(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var d="template";const p=function(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))))
;r.forEach((function(t){f(e,t,n[t])}))}return e}({},c.Z),{openNativeAppModal:function(e){a.Z.openNativeAppModal(e,u.Etm.GUILD_TEMPLATE_BROWSER)},openMobileApp:function(e,t){if(!(null!=platform.ua&&platform.ua.toLowerCase().indexOf("googlebot")>-1)){var n=null!=e?(0,r.Oh)(e):(0,r.Gk)(),a=(0,o.WS)(),c=(0,o.ZP)(n,{utmSource:d,fingerprint:t,attemptId:a});s.default.track(u.rMx.DEEP_LINK_CLICKED,{fingerprint:(0,i.K)(t),attempt_id:a,source:d,guild_template_code:e});l.Z.launch(c,(function(){}))}}})},395321:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r,o=n(785893),i=(n(667294),n(294184)),a=n.n(i),s=n(952013),l=n(832010),c=n(379579),u=n(760654),f=n(51477),d=n(461061),p=n(627962),h=n.n(p);function E(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){E(e,t,n[t])}))}return e}function m(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}var b=(E(r={},d.BRd.DARK,d.Ilk.PRIMARY_400),E(r,d.BRd.LIGHT,d.Ilk.PRIMARY_500),r);function g(e){var t,n=e.enabled,r=e.imageClassName,i=e.iconWrapperClassName,d=m(e,["enabled","imageClassName","iconWrapperClassName"]),p=(0,s.ZP)(),g={height:18,width:18,color:(0,l.Lq)(b[p])};return(0,o.jsx)(f.Z,y({className:a()((t={},E(t,h().avatarUploader,n),E(t,h().avatarUploaderDisabled,!n),t)),
imageClassName:a()(r,h().avatarUploaderInnerSquare,E({},h().avatarUploaderInnerSquareDisabled,!n)),icon:null!=d.image&&""!==d.image?(0,o.jsx)(c.Z,y({},g)):(0,o.jsx)(u.Z,y({},g)),iconClassName:a()(h().avatarUploadIcon,h().hideDefaultIcon),iconWrapperClassName:i,showIcon:!0,showIconDisabled:!0,hideSize:!0},d))}},567895:(e,t,n)=>{"use strict";n.d(t,{Zj:()=>E,Fq:()=>y,ZP:()=>b});var r=n(785893),o=n(667294),i=n(678081),a=n(212271),s=n(910866),l=n(959797);function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e){u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return u(e)}function f(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e,t){d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return d(e,t)}var p=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function E(){return[{name:l.Z.Messages.IMAGES,extensions:["jpg","jpeg","png","gif"]}]}function y(e,t,n){!function(e,t){if(null!=e){var n=new FileReader;n.onload=function(n){var r;"string"==typeof(null===(r=n.target)||void 0===r?void 0:r.result)&&t(n.target.result,e)};n.readAsDataURL(e)}}(e,(function(r){if(e.type===s.m.MP4)return t(r,e);var o=new Image;o.src=r;o.onload=function(){t(r,e)};o.onerror=function(){n()}}))}var m=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&d(e,t)}(n,e);var t=h(n);function n(){c(this,n);var e;(e=t.apply(this,arguments))._ref=o.createRef();e._isMounted=!1;e.handleFileChange=function(t){var n=e.props,r=n.onFileSizeError,o=n.maxFileSizeBytes;t.stopPropagation();t.preventDefault();if(null!=t.currentTarget.files)for(var i=0;i<t.currentTarget.files.length;i++){var a=t.currentTarget.files[i];a.size>o?null==r||r(o,a.size):y(a,e.handleFileRead,e.handleFileError)}};e.handleFileRead=function(t,n){var r=e.props.onChange;e._isMounted&&r(t,n)};e.handleFileError=function(){(0,a.xT)({title:l.Z.Messages.PREMIUM_ALERT_ERROR_TITLE,help:l.Z.Messages.UNABLE_TO_PROCESS_IMAGE})};return e}var s=n.prototype;s.componentDidMount=function(){this._isMounted=!0};s.activateUploadDialogue=function(){var e
;null===(e=this._ref.current)||void 0===e||e.activateUploadDialogue()};s.render=function(){var e=this.props,t=e.multiple,n=e.disabled,o=e.className,a=e.tabIndex,s=e["aria-label"],l=e.filters;return(0,r.jsx)(i.Z,{ref:this._ref,onChange:this.handleFileChange,filters:null!=l?l:E(),multiple:t,disabled:n,className:o,tabIndex:a,"aria-label":s})};return n}(o.PureComponent);m.defaultProps={multiple:!0,tabIndex:-1,maxFileSizeBytes:1/0};const b=m},51477:(e,t,n)=>{"use strict";n.d(t,{S:()=>N,Z:()=>A});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),s=n(441143),l=n.n(s),c=n(647446),u=n(331535),f=n(912551),d=n(567895),p=n(461061),h=n(959797),E=n(307436),y=n.n(E);function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function g(e){g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)}
;return g(e)}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){b(e,t,n[t])}))}return e}function v(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function _(e,t){return!t||"object"!==S(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}
function I(e,t){I=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return I(e,t)}var S=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _(this,n)}}function N(e){var t=e.className,n=e.icon,o=void 0===n?null:n;return(0,r.jsx)("div",{className:a()(y().imageUploaderIcon,t),children:o})}var C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&I(e,t)}(n,e)
;var t=T(n);function n(){m(this,n);var e;(e=t.apply(this,arguments)).inputRef=o.createRef();e.handleRemove=function(){e.props.onChange(null)};return e}var i=n.prototype;i.handleExternalFileChange=function(e){l()(null!=this.inputRef.current,"ImageInputRef asked to handleExternalFileChange when not mounted");this.inputRef.current.handleFileChange(e)};i.render=function(){var e,t,n,o,i,s=this.props,l=s.image,E=s.hint,m=s.name,b=s.makeURL,g=s.disabled,_=s.onChange,I=s.showIcon,S=s.showIconDisabled,T=s.className,C=s.imageClassName,A=s.iconClassName,P=s.iconWrapperClassName,j=s.icon,x=s.hideSize,R=s.imageStyle,M=s.showRemoveButton,w=s.maxFileSizeBytes,Z=s.onFileSizeError,L=s.onOpenImageSelectModal,D=s["aria-label"];null!=(e=null!=l&&/^data:/.test(l)?l:b(l))?t='url("'.concat(e,'")'):null!=m&&(n=(0,r.jsx)("div",{className:y().imageUploaderAcronym,children:(0,f.Zg)(m)}));if(g)return(0,r.jsx)("div",{className:a()(y().imageUploader,y().disabled,T),children:(0,r.jsxs)("div",{
className:a()(y().imageUploaderInner,C),style:v(O({},R),{backgroundImage:t}),children:[n,S&&(0,r.jsx)("div",{className:a()(y().imageUploaderIcon,y().imageUploaderIconDisabled,A),children:j})]})});null!=l?o=(0,r.jsx)(u.ee,{className:y().removeButton,onClick:this.handleRemove,children:h.Z.Messages.REMOVE}):x||(o=(0,r.jsx)("small",{className:y().sizeInfo,children:h.Z.Messages.MINIMUM_SIZE.format({size:p.IXf})}));var U=null!==(i=null!=D?D:E)&&void 0!==i?i:h.Z.Messages.CHANGE_AVATAR;return(0,r.jsxs)("div",{className:a()(y().imageUploader,T),children:[(0,r.jsx)(c.tE,{within:!0,children:(0,r.jsxs)("div",{className:I?a()(y().imageUploaderIconWrapper,P):void 0,children:[(0,r.jsxs)("div",{className:a()(y().imageUploaderInner,C),style:v(O({},R),{backgroundImage:t}),children:[(0,r.jsx)("span",{"aria-hidden":!0,children:n}),null!=L?(0,r.jsx)(u.P3,{className:y().imageUploaderFileInput,"aria-label":U,onClick:L}):(0,r.jsx)(d.ZP,{ref:this.inputRef,onChange:_,className:y().imageUploaderFileInput,
"aria-label":U,tabIndex:0,maxFileSizeBytes:w,onFileSizeError:Z})]}),null!=E&&(0,r.jsx)("div",{className:y().imageUploaderHint,"aria-hidden":"true",children:E}),I&&(0,r.jsx)(N,{className:A,icon:j})]})}),M?o:null]})};return n}(o.PureComponent);C.defaultProps={name:"",makeURL:function(e){return e},disabled:!1,showIcon:!1,hideSize:!1,showRemoveButton:!0,maxFileSizeBytes:1/0,icon:null};const A=C},619784:(e,t,n)=>{"use strict";n.d(t,{i:()=>h,Z:()=>I});var r=n(441143),o=n.n(r),i=n(363010),a=n(173436),s=n(549425),l=n(780921),c=n(722003);function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e){f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return f(e)}function d(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e,t){
p=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return p(e,t)}var h,E,y,m,b,g,O=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}!function(e){e[e.IN_FLIGHT=0]="IN_FLIGHT";e[e.ERRORED=1]="ERRORED";e[e.SUCCEEDED=2]="SUCCEEDED"}(h||(h={}));var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&p(e,t)}(n,e);var t=v(n);function n(){
u(this,n);return t.apply(this,arguments)}var r=n.prototype;r.getModalState=function(e){return e!==E?null:y};r.__getLocalVars=function(){return{currentNonce:E,currentState:y,queuedMessageId:m,queuedMessageChannelId:b,queuedMessageNonce:g}};return n}(i.ZP.Store);_.displayName="InteractionModalStore";const I=new _(a.Z,{LOGOUT:function(){E=null;y=null;m=null;b=null;g=null;return!0},INTERACTION_MODAL_CREATE:function(e){if(e.nonce===g){s.Z.deleteMessage(b,m,!0);m=null;b=null;g=null}return!1},INTERACTION_QUEUE:function(e){var t=e.messageId,n=e.nonce,r=e.data;switch(r.interactionType){case l.B8.APPLICATION_COMMAND:m=t;b=r.channelId;g=n;return!1;case l.B8.MODAL_SUBMIT:o()(null==E||y===h.ERRORED||y===h.SUCCEEDED,"cannot submit multiple modals at once");E=n;y=h.IN_FLIGHT;setTimeout((function(){E===n&&y===h.IN_FLIGHT&&(0,c.yr)(n)}),1e4);return!0;default:return!1}},INTERACTION_SUCCESS:function(e){var t=e.nonce;if(null==t||t!==E)return!1;y=h.SUCCEEDED;return!0},INTERACTION_FAILURE:function(e){
var t=e.nonce;if(null==t||t!==E)return!1;y=h.ERRORED;return!0}})},204882:(e,t,n)=>{"use strict";n.d(t,{HJ:()=>d,yD:()=>p,Zd:()=>h});var r=n(974119),o=n(675860),i=n(173436),a=n(822567),s=n(631134),l=n(318007),c=n(461061);function u(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}var f=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue
;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function d(){var e,t,n=s.default.getId();l.Z.getUsers().forEach((t=(e=function(e){var t,a,s,l,u;return f(this,(function(f){switch(f.label){case 0:t=e.id;if(null==(a=r.Z.getToken(t))||""===a){i.Z.dispatch({type:"MULTI_ACCOUNT_VALIDATE_TOKEN_FAILURE",userId:t});return[2]}i.Z.dispatch({type:"MULTI_ACCOUNT_VALIDATE_TOKEN_REQUEST",userId:t});f.label=1;case 1:f.trys.push([1,3,,4]);return[4,o.Z.get({url:c.ANM.ME,headers:{authorization:a},retries:3})];case 2:s=f.sent();return[3,4];case 3:l=f.sent();u=401===(null==l?void 0:l.status)||403===(null==l?void 0:l.status);i.Z.dispatch({
type:u?"MULTI_ACCOUNT_VALIDATE_TOKEN_FAILURE":"MULTI_ACCOUNT_VALIDATE_TOKEN_SUCCESS",userId:t});return[2];case 4:i.Z.dispatch({type:n===t?"CURRENT_USER_UPDATE":"USER_UPDATE",user:s.body});i.Z.dispatch({type:"MULTI_ACCOUNT_VALIDATE_TOKEN_SUCCESS",userId:t});return[2]}}))},function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){u(i,r,o,a,s,"next",e)}function s(e){u(i,r,o,a,s,"throw",e)}a(void 0)}))}),function(e){return t.apply(this,arguments)}))}function p(e){var t=r.Z.getToken(e);null!=t?a.Z.switchAccountToken(t):i.Z.dispatch({type:"MULTI_ACCOUNT_VALIDATE_TOKEN_FAILURE",userId:e})}function h(e){i.Z.dispatch({type:"MULTI_ACCOUNT_REMOVE_ACCOUNT",userId:e})}},908170:(e,t,n)=>{"use strict";n.d(t,{L:()=>l});var r=n(667294),o=n(363010),i=n(173436),a=n(204882),s=n(318007);function l(){var e=(0,o.cj)([s.Z],(function(){return{isLoading:s.Z.getIsValidatingUsers(),multiAccountUsers:s.Z.getUsers()}}));r.useEffect((function(){i.Z.wait((function(){a.HJ()
}))}),[]);return e}},677523:(e,t,n)=>{"use strict";n.d(t,{c:()=>o,H:()=>i});var r=n(173436);function o(e){r.Z.wait((function(){return r.Z.dispatch({type:"NUF_NEW_USER",newUserType:e})}))}function i(){r.Z.wait((function(){return r.Z.dispatch({type:"NUF_COMPLETE"})}))}},714392:(e,t,n)=>{"use strict";n.d(t,{M5:()=>r});var r;!function(e){e[e.MARKETING_UNCLAIMED=0]="MARKETING_UNCLAIMED";e[e.INVITE_UNCLAIMED=1]="INVITE_UNCLAIMED";e[e.ORGANIC_REGISTERED=2]="ORGANIC_REGISTERED";e[e.ORGANIC_REGISTERED_GUILD_TEMPLATE=3]="ORGANIC_REGISTERED_GUILD_TEMPLATE"}(r||(r={}))},639472:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(363010),o=n(173436);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return a(e)}function s(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var c=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=a(e);if(t){var o=a(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}var f=null;var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&l(e,t)}(n,e);var t=u(n)
;function n(){i(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(e){var t;f=null!==(t=null==e?void 0:e.type)&&void 0!==t?t:null};r.getType=function(){return f};r.getState=function(){return{type:f}};r.__getLocalVars=function(){return{type:f}};return n}(r.ZP.PersistedStore);d.displayName="NewUserStore";d.persistKey="nuf";const p=new d(o.Z,{NUF_NEW_USER:function(e){var t=e.newUserType;f=t},NUF_COMPLETE:function(){f=null}})},358188:(e,t,n)=>{"use strict";n.d(t,{F:()=>r});var r;!function(e){e.AGE_GATE="age-gate";e.CHOOSE_TEMPLATE="choose-template";e.CUSTOMIZE_GUILD="customize-server";e.CHANNEL_PROMPT="channel-prompt";e.JOIN_GUILD="join-server";e.CREATION_INTENT="creation-intent";e.COMPLETE="complete"}(r||(r={}))},614503:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r=n(363010),o=n(173436),i=n(388337);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e){
s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return s(e)}function l(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e,t){c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c(e,t)}var u,f=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}var p=(0,i.K4)();function h(e){var t=e.countryCode;if(null!=t){var n
;p=null!==(n=(0,i.Zz)(t))&&void 0!==n?n:(0,i.K4)()}}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&c(e,t)}(n,e);var t=d(n);function n(){a(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(e){null!=e&&(u=e.selectedCountryCode)};r.getUserAgnosticState=function(){return{selectedCountryCode:u}};r.getCountryCode=function(){return null!=u?u:p};r.__getLocalVars=function(){return{selectedCountryCode:u,defaultCountryCode:p}};return n}(r.ZP.DeviceSettingsStore);E.displayName="PhoneStore";E.persistKey="PhoneStore";const y=new E(o.Z,{PHONE_SET_COUNTRY_CODE:function(e){var t=e.countryCode;u=t},CONNECTION_OPEN:h,SET_LOCATION_METADATA:h})},542270:(e,t,n)=>{"use strict";n.d(t,{D:()=>v,T:()=>O})
;var r=n(785893),o=n(667294),i=n(173436),a=n(112712),s=n(911324),l=n(750029),c=n(294184),u=n.n(c),f=n(331535),d=n(476395),p=n(847949),h=n(697888),E=n.n(h),y=function(e){var t=e.color;return(0,r.jsxs)("svg",{width:"48",height:"28",viewBox:"0 0 55 34",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("rect",{x:"10.1968",y:"7",width:"14.4203",height:"14.4203",transform:"rotate(45 10.1968 7)",className:E().toastBG}),(0,r.jsx)("rect",{x:"27.3936",y:"0.59021",width:"23.4851",height:"23.4851",transform:"rotate(45 27.3936 0.59021)",className:E().toastBG}),(0,r.jsx)("rect",{x:"44.5903",y:"7",width:"14.4203",height:"14.4203",transform:"rotate(45 44.5903 7)",className:E().toastBG}),(0,r.jsx)("rect",{x:"10.1968",y:"13",width:"6",height:"6",transform:"rotate(45 10.1968 13)",fill:t}),(0,r.jsx)("path",{d:"M27.3936 4.39355L34.1233 16.2873L27.3936 28.1811L20.6638 16.2873L27.3936 4.39355Z",fill:t}),(0,r.jsx)("rect",{x:"44.5903",y:"13",width:"6",height:"6",
transform:"rotate(45 44.5903 13)",fill:t})]})};function m(e){var t=e.achievement,n=e.unlocked,i=t.name,a=t.description,s=t.rarity,c=t.hideDescriptionUntilUnlock,h=t.onAction,m=(0,l.F7)(s).color;o.useEffect((function(){var e=setTimeout((function(){d.Z.playAchievementUnlockSound()}),50);return function(){clearTimeout(e)}}),[]);var b=null!=h&&n,g=b?f.P3:"div";return(0,r.jsxs)(g,{className:u()(E().container,b&&E().actionable),onClick:function(){b&&h()},children:[(0,r.jsx)("div",{className:E().iconContainer,children:(0,r.jsx)(p.Z,{achievementId:t.id,size:p.Z.Sizes.SIZE_40,unlocked:n})}),(0,r.jsxs)("div",{className:E().nameContainer,children:[(0,r.jsx)(f.xv,{variant:"text-md/semibold",color:"header-primary",children:i()}),(0,r.jsx)(f.xv,{variant:"text-xs/medium",color:"header-secondary",children:c&&!n?"?????":a()})]}),(0,r.jsx)("div",{className:E().flair,children:(0,r.jsx)(y,{color:m})})]})}var b=n(441640),g=n(959797);function O(e){i.Z.dispatch({type:"POGGERMODE_ACHIEVEMENT_UNLOCK",
achievementId:e})}function v(e,t){var n=(0,l.oX)(e);null!=n&&(0,s.CF)((0,a.Yz)(g.Z.Messages.POGGERMODE_ACHIEVEMENTS,a.pC.CUSTOM,{position:b.az.BOTTOM,component:(0,r.jsx)(m,{achievement:n,unlocked:t}),duration:6e3}))}},667519:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var r=n(363010),o=n(173436),i=n(631134),a=n(542270),s=n(114193),l=n(959154);function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function f(e){f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return f(e)}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){u(e,t,n[t])
}))}return e}function p(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function h(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function E(e,t){E=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return E(e,t)}var y=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1
;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}var b={unlockedAchievements:{}},g=d({},b);var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&E(e,t)}(n,e);var t=m(n);function n(){c(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(e){this.waitFor(i.default,l.ZP);var t=null!=e?e:d({},b);for(var n in t)g[n]=t[n]};r.getState=function(){return g};r.getAllUnlockedAchievements=function(){return g.unlockedAchievements};r.getUnlocked=function(e){var t;return null!==(t=g.unlockedAchievements[e])&&void 0!==t?t:null}
;r.__getLocalVars=function(){return{ACHIEVEMENT_UNLOCK_TOAST_DELAY_MS:2e3,initialState:b,state:g}};return n}(r.ZP.PersistedStore);O.displayName="PoggermodeAchievementStore";O.persistKey="PoggermodeAchievementStore";const v=new O(o.Z,{POGGERMODE_ACHIEVEMENT_UNLOCK:function(e){var t=e.achievementId;if(!s.Z.isEnabled())return!1;!function(e){if(null!=g.unlockedAchievements[e])return!1;g.unlockedAchievements=p(d({},g.unlockedAchievements),u({},e,{achievementId:e,dateUnlocked:Date.now()}));setTimeout((function(){(0,a.D)(e,!0)}),2e3)}(t)}})},750029:(e,t,n)=>{"use strict";n.d(t,{hn:()=>r,EP:()=>o,LG:()=>c,oX:()=>u,F7:()=>f});var r,o,i,a=n(447086),s=n(959797);function l(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}!function(e){e[e.ENABLE_POGGERMODE=0]="ENABLE_POGGERMODE";e[e.DISABLE_POGGERMODE=1]="DISABLE_POGGERMODE";e[e.PING_SOMEONE=2]="PING_SOMEONE";e[e.PING_ME=3]="PING_ME";e[e.COMBO_MULTI_LEVEL_1=4]="COMBO_MULTI_LEVEL_1"
;e[e.COMBO_MULTI_LEVEL_2=5]="COMBO_MULTI_LEVEL_2";e[e.COMBO_MULTI_LEVEL_3=6]="COMBO_MULTI_LEVEL_3";e[e.COMBO_MULTI_LEVEL_4=7]="COMBO_MULTI_LEVEL_4";e[e.TOTAL_SCORE_LEVEL_1=8]="TOTAL_SCORE_LEVEL_1";e[e.TOTAL_SCORE_LEVEL_2=9]="TOTAL_SCORE_LEVEL_2";e[e.TOTAL_SCORE_LEVEL_3=10]="TOTAL_SCORE_LEVEL_3";e[e.TOTAL_SCORE_LEVEL_4=11]="TOTAL_SCORE_LEVEL_4";e[e.TOTAL_SCORE_LEVEL_5=12]="TOTAL_SCORE_LEVEL_5";e[e.VISITOR_100=13]="VISITOR_100";e[e.CUSTOMIZE_CONFETTI=14]="CUSTOMIZE_CONFETTI";e[e.MORE=15]="MORE";e[e.COMBO_VALUE_LEVEL_1=16]="COMBO_VALUE_LEVEL_1";e[e.COMBO_VALUE_LEVEL_2=17]="COMBO_VALUE_LEVEL_2";e[e.COMBO_VALUE_LEVEL_3=18]="COMBO_VALUE_LEVEL_3";e[e.COMBO_VALUE_LEVEL_4=19]="COMBO_VALUE_LEVEL_4"}(r||(r={}));!function(e){e[e.COMMON=0]="COMMON";e[e.UNCOMMON=1]="UNCOMMON";e[e.RARE=2]="RARE";e[e.EPIC=3]="EPIC";e[e.LEGENDARY=4]="LEGENDARY"}(o||(o={}));var c=(l(i={},r.ENABLE_POGGERMODE,{id:r.ENABLE_POGGERMODE,name:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_ENABLE_POGGERMODE_NAME},
description:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_ENABLE_POGGERMODE_DESCRIPTION},rarity:o.COMMON,hideDescriptionUntilUnlock:!1}),l(i,r.DISABLE_POGGERMODE,{id:r.DISABLE_POGGERMODE,name:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_DISABLE_POGGERMODE_NAME},description:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_DISABLE_POGGERMODE_DESCRIPTION},rarity:o.UNCOMMON,hideDescriptionUntilUnlock:!1}),l(i,r.VISITOR_100,{id:r.VISITOR_100,name:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_VISITOR_100_NAME},description:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_VISITOR_100_DESCRIPTION},rarity:o.LEGENDARY,hideDescriptionUntilUnlock:!0,onAction:function(){window.open("https://www.youtube.com/watch?v=dQw4w9WgXcQ","_blank")}}),l(i,r.CUSTOMIZE_CONFETTI,{id:r.CUSTOMIZE_CONFETTI,name:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_CUSTOMIZE_CONFETTI_NAME},description:function(){
return s.Z.Messages.POGGERMODE_ACHIEVEMENT_CUSTOMIZE_CONFETTI_DESCRIPTION},rarity:o.COMMON,hideDescriptionUntilUnlock:!1}),l(i,r.MORE,{id:r.MORE,name:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_MORE_NAME},description:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_MORE_DESCRIPTION},rarity:o.UNCOMMON,hideDescriptionUntilUnlock:!1}),l(i,r.PING_SOMEONE,{id:r.PING_SOMEONE,name:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_PING_SOMEONE_NAME},description:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_PING_SOMEONE_DESCRIPTION},rarity:o.COMMON,hideDescriptionUntilUnlock:!1}),l(i,r.PING_ME,{id:r.PING_ME,name:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_PING_ME_NAME},description:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_PING_ME_DESCRIPTION},rarity:o.UNCOMMON,hideDescriptionUntilUnlock:!1}),l(i,r.COMBO_MULTI_LEVEL_1,{id:r.COMBO_MULTI_LEVEL_1,name:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_COMBO_MULTI_LEVEL_1_NAME},
description:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_COMBO_MULTI_LEVEL_1_DESCRIPTION},rarity:o.COMMON,hideDescriptionUntilUnlock:!1,checkUnlock:function(e){return e.multiplier>=2}}),l(i,r.COMBO_MULTI_LEVEL_2,{id:r.COMBO_MULTI_LEVEL_2,name:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_COMBO_MULTI_LEVEL_2_NAME},description:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_COMBO_MULTI_LEVEL_2_DESCRIPTION},rarity:o.UNCOMMON,hideDescriptionUntilUnlock:!1,checkUnlock:function(e){return e.multiplier>=4}}),l(i,r.COMBO_MULTI_LEVEL_3,{id:r.COMBO_MULTI_LEVEL_3,name:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_COMBO_MULTI_LEVEL_3_NAME},description:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_COMBO_MULTI_LEVEL_3_DESCRIPTION},rarity:o.RARE,hideDescriptionUntilUnlock:!1,checkUnlock:function(e){return e.multiplier>=5}}),l(i,r.COMBO_MULTI_LEVEL_4,{id:r.COMBO_MULTI_LEVEL_4,name:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_COMBO_MULTI_LEVEL_4_NAME},
description:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_COMBO_MULTI_LEVEL_4_DESCRIPTION},rarity:o.RARE,hideDescriptionUntilUnlock:!1,checkUnlock:function(e){return e.multiplier>=7}}),l(i,r.TOTAL_SCORE_LEVEL_1,{id:r.TOTAL_SCORE_LEVEL_1,name:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_TOTAL_SCORE_LEVEL_1_NAME},description:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_TOTAL_SCORE_LEVEL_1_DESCRIPTION},rarity:o.EPIC,hideDescriptionUntilUnlock:!0,checkUnlock:function(e){return 430===(0,a.Eo)(e)}}),l(i,r.TOTAL_SCORE_LEVEL_2,{id:r.TOTAL_SCORE_LEVEL_2,name:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_TOTAL_SCORE_LEVEL_2_NAME},description:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_TOTAL_SCORE_LEVEL_2_DESCRIPTION},rarity:o.EPIC,hideDescriptionUntilUnlock:!0,checkUnlock:function(e){return 555===(0,a.Eo)(e)}}),l(i,r.TOTAL_SCORE_LEVEL_3,{id:r.TOTAL_SCORE_LEVEL_3,name:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_TOTAL_SCORE_LEVEL_3_NAME},
description:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_TOTAL_SCORE_LEVEL_3_DESCRIPTION},rarity:o.EPIC,hideDescriptionUntilUnlock:!0,checkUnlock:function(e){return 898===(0,a.Eo)(e)}}),l(i,r.TOTAL_SCORE_LEVEL_4,{id:r.TOTAL_SCORE_LEVEL_4,name:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_TOTAL_SCORE_LEVEL_4_NAME},description:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_TOTAL_SCORE_LEVEL_4_DESCRIPTION},rarity:o.LEGENDARY,hideDescriptionUntilUnlock:!0,checkUnlock:function(e){return 1337===(0,a.Eo)(e)}}),l(i,r.TOTAL_SCORE_LEVEL_5,{id:r.TOTAL_SCORE_LEVEL_5,name:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_TOTAL_SCORE_LEVEL_5_NAME},description:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_TOTAL_SCORE_LEVEL_5_DESCRIPTION},rarity:o.LEGENDARY,hideDescriptionUntilUnlock:!0,checkUnlock:function(e){return 2048===(0,a.Eo)(e)}}),l(i,r.COMBO_VALUE_LEVEL_1,{id:r.COMBO_VALUE_LEVEL_1,name:function(){
return s.Z.Messages.POGGERMODE_ACHIEVEMENT_COMBO_VALUE_LEVEL_1_NAME},description:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_COMBO_VALUE_LEVEL_1_DESCRIPTION},rarity:o.RARE,hideDescriptionUntilUnlock:!0,checkUnlock:function(e){return 64===e.value}}),l(i,r.COMBO_VALUE_LEVEL_2,{id:r.COMBO_VALUE_LEVEL_2,name:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_COMBO_VALUE_LEVEL_2_NAME},description:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_COMBO_VALUE_LEVEL_2_DESCRIPTION},rarity:o.EPIC,hideDescriptionUntilUnlock:!0,checkUnlock:function(e){return 88===e.value}}),l(i,r.COMBO_VALUE_LEVEL_3,{id:r.COMBO_VALUE_LEVEL_3,name:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_COMBO_VALUE_LEVEL_3_NAME},description:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_COMBO_VALUE_LEVEL_3_DESCRIPTION},rarity:o.EPIC,hideDescriptionUntilUnlock:!0,checkUnlock:function(e){return 99===e.value}}),l(i,r.COMBO_VALUE_LEVEL_4,{id:r.COMBO_VALUE_LEVEL_4,name:function(){
return s.Z.Messages.POGGERMODE_ACHIEVEMENT_COMBO_VALUE_LEVEL_4_NAME},description:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_COMBO_VALUE_LEVEL_4_DESCRIPTION},rarity:o.LEGENDARY,hideDescriptionUntilUnlock:!0,checkUnlock:function(e){return 113===e.value}}),i);function u(e){return c[e]}var f=function(e){switch(e){case o.COMMON:return{color:"#1ABC9C"};case o.UNCOMMON:return{color:"#3498DB"};case o.RARE:return{color:"#9B59B6"};case o.EPIC:return{color:"#E91E63"};case o.LEGENDARY:return{color:"#E67E22"}}}},476395:(e,t,n)=>{"use strict";n.d(t,{Z:()=>w});var r=n(173436),o=n(245189),i=n(919870),a=n(631134),s=n(733285),l=n(379822),c=n(475823),u=n(402801),f=n(114193),d=n(959154),p=n(461061);function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e){y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){
return e.__proto__||Object.getPrototypeOf(e)};return y(e)}function m(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e,t){b=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return b(e,t)}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var O=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m(this,n)}}var _=(0,u.uk)("poggermode_applause",i.Z.getSoundpack()),I=.1,S=!1,T=!1,N=[],C=null,A=function(){if(!S){_.loop();S=!0}},P=function(){_.stop();S=!1},j=function(){var e=f.Z.isEnabled(),t=f.Z.comboSoundsEnabled
;return!(!e||!t)&&null!=l.Z.getChannelId()},x=function(){if(0!==N.length&&j()&&!T){T=!0;var e=g(N[N.length-1],2),t=e[0],n=e[1];(0,u.GN)(t,n);C=setTimeout(R,1e3)}},R=function(){N.pop();T=!1;x()},M=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=s.Z.isConnected(),r=n?I:1;N.push([e,t*r]);x()};const w=new(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&b(e,t)}(n,e);var t=v(n);function n(){E(this,n);return t.apply(this,arguments)}var o=n.prototype;o._initialize=function(){d.ZP.addChangeListener(this.startAudio);r.Z.subscribe("RTC_CONNECTION_STATE",this.setVolume);r.Z.subscribe("TYPING_STOP",this.stopAudio);r.Z.subscribe("TYPING_STOP_LOCAL",this.stopAudio);r.Z.subscribe("CHANNEL_SELECT",this.stopAudio);r.Z.subscribe("POGGERMODE_SETTINGS_UPDATE",this.stopAudio)}
;o._terminate=function(){d.ZP.removeChangeListener(this.startAudio);r.Z.unsubscribe("RTC_CONNECTION_STATE",this.setVolume);r.Z.unsubscribe("TYPING_STOP",this.stopAudio);r.Z.unsubscribe("TYPING_STOP_LOCAL",this.stopAudio);r.Z.unsubscribe("CHANNEL_SELECT",this.stopAudio);r.Z.unsubscribe("POGGERMODE_SETTINGS_UPDATE",this.stopAudio);clearTimeout(C)};o.setVolume=function(e){e.state===p.hes.RTC_CONNECTED?_.volume=I:_.volume=1};o.handleTypingStop=function(e){var t=e.userId;a.default.getId()===t&&P()};o.stopAudio=function(){P()};o.startAudio=function(){if(j()){var e=l.Z.getChannelId();if(null!=e){var t,n=a.default.getId(),r=c.Z.isTyping(e,n),o=d.ZP.getUserCombo(n,e),i=null!==(t=null==o?void 0:o.multiplier)&&void 0!==t?t:1;r&&i>=7?A():P()}}};o.playAchievementUnlockSound=function(){j()&&M("poggermode_achievement_unlock")};o.__getLocalVars=function(){return{applause:_,COMBO_SOUND_EFFECT_MULTIPLIER_THRESHOLD:7,REGULAR_VOLUME:1,REDUCED_VOLUME:I,SOUND_DEQUEUE_TIMEOUT_MS:1e3,isLooping:S,isPlaying:T,
soundQueue:N,soundTimeoutId:C,loopApplause:A,stopApplause:P,canPlaySound:j,playSoundFromQueue:x,queueNextSound:R,enqueueSound:M}};return n}(o.Z))},847949:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var r,o=n(785893),i=(n(667294),n(952013)),a=n(832010),s=n(346370),l=n(519073),c=n(466019),u=n(750029),f=n(366236),d=n(375650),p=n(945052),h=n.n(p);function E(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){E(e,t,n[t])}))}return e}var m=(E(r={},d.BR.DARK,{trophy:d.Il.PRIMARY_400,locked:d.Il.PRIMARY_400,unlocked:d.Il.GREEN_330}),E(r,d.BR.LIGHT,{trophy:d.Il.PRIMARY_400,locked:d.Il.PRIMARY_400,unlocked:d.Il.GREEN_330}),r);b.Sizes=f.u8
;function b(e){var t=e.achievementId,n=e.unlocked,r=e.size,d=void 0===r?f.u8.SIZE_40:r,p=(0,i.ZP)(),E=(0,u.oX)(t);if(null==E)return null;var b,g=(0,f.UC)(d),O=E.name,v=E.rarity,_=(0,u.F7)(v).color,I=m[p],S=.8*(g.size-g.offset-2*g.stroke),T=g.size-g.stroke,N={width:.4*S,height:.4*S},C={width:N.width+1,height:N.height+1,right:g.stroke+1,bottom:g.stroke+1,padding:0};return(0,o.jsxs)("div",{className:h().container,style:{width:T,height:T,padding:g.stroke},"aria-label":"".concat(null!==(b=O())&&void 0!==b?b:""),children:[(0,o.jsx)("div",{className:h().trophyIconContainer,children:(0,o.jsx)(c.Z,{color:n?_:(0,a.Lq)(I.trophy),width:S,height:S})}),!n&&(0,o.jsx)("div",{className:h().lockContainer,style:C,children:(0,o.jsx)(l.Z,y({color:(0,a.Lq)(I.locked)},N))}),n&&v===u.EP.LEGENDARY&&(0,o.jsx)("div",{className:h().lockContainer,style:C,children:(0,o.jsx)(s.Z,y({className:h().confettiIcon},N))})]})}},591739:(e,t,n)=>{"use strict";n.d(t,{c:()=>r});var r;!function(e){
e[e.PREMIUM_FEATURE_LARGER_FILE_UPLOADS_ID=0]="PREMIUM_FEATURE_LARGER_FILE_UPLOADS_ID";e[e.PREMIUM_FEATURE_ANIMATED_EMOJI_ID=1]="PREMIUM_FEATURE_ANIMATED_EMOJI_ID";e[e.PREMIUM_FEATURE_HD_VIDEO_STREAMING_ID=2]="PREMIUM_FEATURE_HD_VIDEO_STREAMING_ID";e[e.PREMIUM_FEATURE_CUSTOM_PROFILES_ID=3]="PREMIUM_FEATURE_CUSTOM_PROFILES_ID";e[e.PREMIUM_FEATURE_BUY_ONE_GET_ONE_ID=4]="PREMIUM_FEATURE_BUY_ONE_GET_ONE_ID"}(r||(r={}))},485947:(e,t,n)=>{"use strict";n.d(t,{l:()=>b,Y:()=>g});var r=n(667294),o=n(363010),i=n(173436),a=n(859023),s=n(74030),l=n(385385),c=n(178299),u=n(451168),f=n(803881),d=n(298716);function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}
}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||y(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||y(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}function m(){var e=(0,o.Wu)([f.Z],(function(){
return f.Z.outboundPromotions})),t=(0,o.e7)([f.Z],(function(){return f.Z.consumedInboundPromotionId}));return r.useMemo((function(){return e.filter((function(e){return e.id!==t}))}),[e,t])}function b(){var e=(0,o.e7)([f.Z],(function(){return f.Z.lastFetchedActivePromotions})),t=m(),n=(0,o.e7)([a.default],(function(){return a.default.getCurrentUser()})),p=(0,l._O)(),y=h(r.useState(!1),2),b=y[0],g=y[1],O=h(r.useState([]),2),v=O[0],_=O[1];r.useEffect((function(){null!=e&&i.Z.wait((function(){return u.ZP.markOutboundPromotionsSeen()}))}),[e]);var I=r.useCallback((function(e){_((function(t){return t.some((function(t){return t.promotion.id===e.promotion.id}))?t:E(t).concat([e])}))}),[]),S=(0,s.M5)(n,d.p9.TIER_2);r.useEffect((function(){i.Z.wait((function(){S&&null==e&&u.ZP.fetchActiveOutboundPromotions()}))}),[e,S]);r.useEffect((function(){i.Z.wait((function(){(0,c.t8)().then((function(e){_(e);g(!0)})).catch((function(){_([]);g(!0)}))}))}),[]);var T={},N=!0,C=!1,A=void 0;try{
for(var P,j=v[Symbol.iterator]();!(N=(P=j.next()).done);N=!0){var x=P.value,R=x.code,M=x.promotion;T[M.id]=R}}catch(e){C=!0;A=e}finally{try{N||null==j.return||j.return()}finally{if(C)throw A}}var w=new Set(t.map((function(e){return e.id}))),Z=v.filter((function(e){var t=e.promotion;return!w.has(t.id)}));return{promotionsLoaded:b&&(!S||null!=e),activeOutboundPromotions:t.filter((function(e){return(0,c.ZC)(e)&&(!p||(0,c.Qf)(e,T))})),claimedEndedOutboundPromotions:Z.filter((function(e){return(0,c.ZC)(e.promotion)})),claimedOutboundPromotionCodeMap:T,addClaimedOutboundPromotionCode:I}}function g(){var e=(0,o.e7)([f.Z],(function(){return f.Z.lastSeenOutboundPromotionStartDate})),t=(0,l._O)(),n=m();return r.useMemo((function(){if(null==e)return t?n.filter((function(e){return(0,c.Nw)(e)})):n;var r=n.filter((function(t){var n=t.startDate;return new Date(n)>new Date(e)}));return t?r.filter((function(e){return(0,c.Nw)(e)})):r}),[n,e,t])}},757073:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u})
;var r=n(785893),o=(n(667294),n(331535)),i=n(303326),a=n.n(i);function s(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function l(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function c(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r]
;t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function u(e){var t=e.children,n=c(e,["children"]);return(0,r.jsx)(o.zx,l(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){s(e,t,n[t])}))}return e}({},n),{size:o.zx.Sizes.SMALL,look:o.zx.Looks.INVERTED,className:a().button,children:t}))}},743835:(e,t,n)=>{"use strict";n.r(t);n.d(t,{PremiumSubscriptionWowMomentForHelper:()=>F,default:()=>Y})
;var r=n(785893),o=n(667294),i=n(248088),a=n(363010),s=n(173436),l=n(730189),c=n(109813),u=n(932847),f=n(201930),d=n(882699),p=n(385385),h=n(522370),E=n(262963),y=n(727087),m=n(512878),b=n(955426),g=n.n(b),O=n(621491),v=n.n(O),_=n(470752),I=n.n(_),S=n(734207),T=n.n(S),N=n(461061),C=n(165985),A=n.n(C),P=n(861197),j=n.n(P),x=n(109177),R=n.n(x),M=n(919098),w=n.n(M),Z=n(900615),L=n.n(Z);function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function U(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function k(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){U(i,r,o,a,s,"next",e)}function s(e){U(i,r,o,a,s,"throw",e)}a(void 0)}))}}function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){
var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var B,H=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){
if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function V(){V=k((function(e){var t,n,r,o,i,a;return H(this,(function(l){switch(l.label){case 0:l.trys.push([0,2,,3]);s.Z.dispatch({type:"PREMIUM_TUTORIAL_IS_FETCHING_WOW_MOMENT_MEDIA",value:!0})
;"(min-width: 1012px) and (max-width: 1980px)";"(min-height: 720px) and (max-height: 1408px)";"(min-width: 1980px)";"(min-height: 1408px)";t=e?v():R();window.matchMedia("(min-width: 1012px) and (max-width: 1980px)").matches||window.matchMedia("(min-height: 720px) and (max-height: 1408px)").matches?t=e?I():w():(window.matchMedia("(min-width: 1980px)").matches||window.matchMedia("(min-height: 1408px)").matches)&&(t=e?T():L());n=fetch(t).then((c=k((function(e){var t;return H(this,(function(n){switch(n.label){case 0:return[4,e.blob()];case 1:t=n.sent();return[2,window.URL.createObjectURL(t)]}}))})),function(e){return c.apply(this,arguments)}));r=fetch(e?g():j()).then(function(){var e=k((function(e){var t;return H(this,(function(n){switch(n.label){case 0:return[4,e.blob()];case 1:t=n.sent();return[2,window.URL.createObjectURL(t)]}}))}));return function(t){return e.apply(this,arguments)}}());return[4,Promise.all([n,r])];case 1:o=G.apply(void 0,[l.sent(),2]),i=o[0],a=o[1];s.Z.dispatch({
type:"PREMIUM_TUTORIAL_FETCH_WOW_MOMENT_MEDIA_SUCCESS",wumpusMedia:i,helperMedia:a});return[3,3];case 2:l.sent();s.Z.dispatch({type:"PREMIUM_TUTORIAL_IS_FETCHING_WOW_MOMENT_MEDIA",value:!1});(0,h.Dd)(!1);return[3,3];case 3:return[2]}var c}))}));return V.apply(this,arguments)}function F(){var e=G(o.useState(!0),2),t=e[0],n=e[1],i=(0,a.e7)([E.Z],(function(){return E.Z.wowMomentHelperMedia})),s=(0,f.rO)()?"video/mp4":"video/webm";return(0,r.jsx)("div",{children:t&&null!==i&&(0,r.jsx)(c.Z,{className:A().videoWrapperForHelper,autoPlay:!0,onEnded:function(){n(!1);(0,h.HY)(!1)},children:(0,r.jsx)("source",{src:i,type:s})})})}const Y=function(){var e=(0,a.e7)([l.Z],(function(){return l.Z.useReducedMotion})),t=(0,m.AR)(),n=(0,a.cj)([E.Z],(function(){return{wumpusMedia:E.Z.wowMomentWumpusMedia,helperMedia:E.Z.wowMomentHelperMedia,isFetchingMedia:E.Z.isFetchingWowMomentMedia,canPlayWowMoment:E.Z.canPlayWowMoment}
})),s=n.wumpusMedia,b=n.helperMedia,g=n.isFetchingMedia,O=n.canPlayWowMoment,v=G(o.useState(!1),2),_=v[0],I=v[1],S=(0,f.vu)(),T=S>52||-1===S,C=(0,f.rO)(),P=T||C,j=C?"video/mp4":"video/webm";o.useEffect((function(){P&&!e&&O&&t&&null===s&&null===b&&!1===g&&function(e){V.apply(this,arguments)}(C)}),[P,e,O,t,s,b,g,C]);o.useEffect((function(){var t=function(){var t=(0,p._y)();if(y.Z.getCurrentConfig({},{disable:e||!t||!P}).enabled){I(!0);B=setTimeout((function(){I(!1);M(!0);u.default.track(N.rMx.PREMIUM_WOW_MOMENT_VIEWED,{wow_moment_type:y.X.GRADIENT_HIGHLIGHT})}),2e3)}if(e){(0,h.HY)(!1);(0,h.Dd)(!1)}P||(0,h.Dd)(!1)};d.S.subscribe(N.CkL.PREMIUM_SUBSCRIPTION_CREATED,t);return function(){d.S.unsubscribe(N.CkL.PREMIUM_SUBSCRIPTION_CREATED,t)}}),[e,P]);var x=G(o.useState(!1),2),R=x[0],M=x[1],w=G(o.useState(!1),2),Z=w[0],L=w[1],D=(0,i.useSpring)({opacity:R?.2:0,config:{duration:100},immediate:e}),U=(0,i.useSpring)({x:Z?"100%":"-100%",config:{duration:500},immediate:e||!Z})
;o.useEffect((function(){var e=-1;R&&(e=window.setTimeout((function(){L(!0)}),1e3));return function(){window.clearTimeout(e)}}),[R]);o.useEffect((function(){var e=-1;Z&&(e=window.setTimeout((function(){L(!1);M(!1);(0,h.Dd)(!1)}),1e3));return function(){window.clearTimeout(e)}}),[Z]);return(0,r.jsxs)("div",{className:A().wrapper,children:[_&&null!==s&&(0,r.jsx)(c.Z,{autoPlay:!0,className:A().videoWrapper,onPlay:function(){clearTimeout(B);u.default.track(N.rMx.PREMIUM_WOW_MOMENT_VIEWED,{wow_moment_type:y.X.WUMPUS_FLIGHT})},onTimeUpdate:function(e){if(e.currentTarget.currentTime>4){(0,h.HY)(!0);(0,h.Dd)(!1)}},onEnded:function(){I(!1)},children:(0,r.jsx)("source",{src:s,type:j})}),(0,r.jsx)(i.animated.div,{className:A().gadientHighlight,style:D}),(0,r.jsx)(i.animated.div,{className:A().swipeWrapper,style:U,children:(0,r.jsxs)("svg",{className:A().swipe,viewBox:"0 0 848 1024",fill:"none",children:[(0,r.jsx)("path",{d:"M257.206 1024L0 0H341.333L598.539 1024H257.206Z",fill:"white"}),(0,
r.jsx)("path",{d:"M847.975 1024H690.436L433.231 0H590.769L847.975 1024Z",fill:"white"})]})})]})}},884326:(e,t,n)=>{"use strict";n.d(t,{MM:()=>oe,ZP:()=>ie});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),s=n(441143),l=n.n(s),c=n(730381),u=n.n(c),f=n(363010),d=n(331535),p=n(956345),h=n(859169),E=n(64833),y=n(744),m=n(832010),b=n(224292),g=n(832377),O=n(859023),v=n(487502),_=n(693518),I=n(81951),S=n(932847),T=n(74030),N=n(557473),C=n(212658),A=n(194503),P=n(757073),j=n(566960),x=n(433656),R=n(737325),M=n(80635),w=n(916957),Z=n(67416),L=n(56435),D=n(461061),U=n(959797),k=n(210912),G=n.n(k);function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function H(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function V(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){H(i,r,o,a,s,"next",e)}function s(e){H(i,r,o,a,s,"throw",e)}
a(void 0)}))}}function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return B(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Y=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]}
;return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function z(e){
var t=e.subscription,n=e.renewalMutations,o=e.transitionState,i=e.onClose,a=e.analyticsLocation,s=(0,f.e7)([M.Z],(function(){return M.Z.theme})),c=(0,E.Z)(h.Z.SUBSCRIPTION_CANCEL_DOWNGRADE_MODAL).analyticsLocations;function u(){return(u=V((function(){return Y(this,(function(e){switch(e.label){case 0:return[4,(0,R.dP)(t,t.planId,c,a)];case 1:e.sent();i();return[2]}}))}))).apply(this,arguments)}var p=w.Z.get(t.planId);l()(null!=p,"Missing subscriptionPlan");var y=(0,T.aS)(t.planId,!1,!1,{paymentSourceId:t.paymentSourceId,currency:t.currency}),m=(0,L.og)((0,L.T4)(y.amount,y.currency),p.interval,p.intervalCount);return(0,r.jsxs)(Z.Y0,{transitionState:o,"aria-label":U.Z.Messages.PREMIUM_PENDING_PLAN_CHANGE_CANCEL_HEADER,children:[(0,r.jsxs)(Z.xB,{justify:v.Z.Justify.BETWEEN,separator:!1,children:[(0,r.jsx)(d.vw,{tag:d.RB.H4,children:U.Z.Messages.PREMIUM_PENDING_PLAN_CHANGE_CANCEL_HEADER}),(0,r.jsx)(Z.ol,{onClick:i})]}),(0,r.jsx)(Z.hz,{className:G().modalBody,children:(0,
g.Q)(t.planId)?U.Z.Messages.PREMIUM_PENDING_PLAN_CHANGE_CANCEL_BODY_NO_EXISTING_PLAN.format({downgradedPlan:T.ZP.getDisplayName(n.planId),existingRate:m}):U.Z.Messages.PREMIUM_PENDING_PLAN_CHANGE_CANCEL_BODY.format({existingPlan:T.ZP.getDisplayName(t.planId),downgradedPlan:T.ZP.getDisplayName(n.planId),existingRate:m})}),(0,r.jsxs)(Z.mz,{children:[(0,r.jsx)(d.zx,{onClick:function(){return u.apply(this,arguments)},children:U.Z.Messages.PREMIUM_PENDING_PLAN_CHANGE_CANCEL_BUTTON}),(0,r.jsx)(d.zx,{look:d.zx.Looks.LINK,color:s===D.BRd.LIGHT?d.zx.Colors.PRIMARY:d.zx.Colors.WHITE,onClick:i,children:U.Z.Messages.NEVERMIND})]})]})}function W(e){var t=e.subscription,n=e.renewalMutations,i=e.className,s=e.analyticsLocation,l=F(o.useState(!1),2),c=l[0],u=l[1];return(0,r.jsxs)("div",{className:a()(G().root,i),children:[(0,r.jsx)(I.Z,{className:G().infoIcon}),(0,r.jsx)("div",{className:G().text,children:U.Z.Messages.PREMIUM_PENDING_PLAN_CHANGE_NOTICE.format({planName:t.hasExternalPlanChange?(0,
T.zL)(n):T.ZP.getDisplayName(n.planId),date:t.currentPeriodEnd})}),t.isPurchasedExternally?null:(0,r.jsx)(d.ee,{onClick:function(e){u(!0);e.preventDefault()},className:G().cancelLink,children:U.Z.Messages.CANCEL}),c?(0,r.jsx)(Z.ZP,{renderModal:function(e){var o=e.transitionState;return(0,r.jsx)(z,{subscription:t,renewalMutations:n,transitionState:o,onClose:function(){return u(!1)},analyticsLocation:s})},onCloseRequest:function(){return u(!1)}}):null]})}var K=n(56397),q=n.n(K);function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Q(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function $(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}
}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return X(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e){var t=e.subscription,n=e.fromStandaloneBillingPage,o=void 0===n||n,i=e.className,s=(0,f.e7)([O.default],(function(){var e=O.default.getCurrentUser();l()(null!=e,"GuildBoostingHeader: currentUser cannot be undefined");return e}));if(0===(0,T.uV)(t.additionalPlans))return null;var c,u=t.status,h=(0,T.v6)(t);c=h?q().guildBoostingSubscriptionRowCanceled:(0,
T.zV)(u)?q().guildBoostingSubscriptionRowFailedPayment:q().guildBoostingSubscriptionRowActive;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:a()(c,i),children:[(0,r.jsx)("div",{className:q().guildBoostingSubscriptionRowBackground}),(0,r.jsx)("div",{className:q().guildBoostingImage}),(0,r.jsxs)("div",{className:q().guildBoostingSubscriptionRowBody,children:[(0,r.jsx)("div",{className:a()(q().guildBoostingWordmark,Q({},q().canceled,h))}),(0,r.jsx)("div",{children:(0,T.bt)(t,s)})]}),o&&(0,r.jsx)(P.Z,{color:d.zx.Colors.BRAND,onClick:function(){return p.Z.open(D.oAB.GUILD_BOOSTING)},children:U.Z.Messages.PREMIUM_GUILD_PERKS_MODAL_MANAGE_YOUR_SUBSCRIPTIONS})]}),!o&&(0,r.jsx)(d.xv,{className:q().boostingDesktopAppBlurb,variant:"text-sm/normal",children:U.Z.Messages.GUILD_BOOSTING_MANAGEMENT_OPEN_DESKTOP_APP.format({openAppHook:function(){return(0,y.Z)("app")}})})]})}function ee(){o.useEffect((function(){S.default.track(D.rMx.TOOLTIP_VIEWED,{
type:"subscription_settings_missing_payment_method"})}),[]);return(0,r.jsxs)("div",{className:q().paymentBanner,children:[(0,r.jsx)(I.Z,{className:q().paymentBannerIcon,color:(0,m.Lq)(D.Ilk.YELLOW_260)}),(0,r.jsx)(d.xv,{className:q().paymentBannerText,variant:"text-sm/normal",children:U.Z.Messages.MISSING_PAYMENT_METHOD_BANNER})]})}function te(){o.useEffect((function(){S.default.track(D.rMx.TOOLTIP_VIEWED,{type:"subscription_settings_invalid_payment_method"})}),[]);return(0,r.jsxs)("div",{className:q().paymentBanner,children:[(0,r.jsx)(I.Z,{className:q().paymentBannerIcon,color:(0,m.Lq)(D.Ilk.RED_360)}),(0,r.jsx)(d.xv,{className:q().paymentBannerText,variant:"text-sm/normal",children:U.Z.Messages.INVALID_PAYMENT_METHOD_BANNER})]})}function ne(e){var t=e.daysPastDue,n=e.subscription,i=e.openInvoiceId,a=(0,E.Z)(h.Z.PAST_DUE_ONE_TIME_PAYMENT_METHOD_BANNER).analyticsLocations;o.useEffect((function(){S.default.track(D.rMx.TOOLTIP_VIEWED,{type:"subscription_settings_invalid_payment_method"})
}),[]);return(0,r.jsxs)("div",{className:q().paymentBanner,children:[(0,r.jsx)(I.Z,{className:q().paymentBannerIcon,color:(0,m.Lq)(D.Ilk.YELLOW_260)}),(0,r.jsx)(d.xv,{className:q().paymentBannerText,variant:"text-sm/normal",children:U.Z.Messages.PREMIUM_SUBSCRIPTION_ONE_TIME_PAYMENT_PAST_DUE_SUBSCRIPTION_TEXT.format({daysPastDue:t,paymentModalRedirect:function(){(0,b.Z)({initialPlanId:n.planIdFromItems,openInvoiceId:i,analyticsLocations:a})}})})]})}function re(e){var t=e.subscription,n=e.renewalInvoicePreview,o=e.className;return(0,r.jsxs)("div",{className:a()(q().billingInformation,o),children:[(0,r.jsx)(d.vw,{tag:"h3",className:q().detailBlockHeader,children:U.Z.Messages.PREMIUM_SETTINGS_BILLING_INFO}),(0,r.jsx)("div",{children:T.ZP.getBillingInformationString(t,n)})]})}function oe(e){var t=e.className;return(0,r.jsxs)("div",{className:t,children:[(0,r.jsx)(d.vw,{className:q().sectionTitle,tag:"h1",children:U.Z.Messages.USER_SETTINGS_SUBSCRIPTIONS_HEADER}),(0,r.jsx)("p",{
className:q().sectionDescription,children:U.Z.Messages.BILLING_PAYMENT_PREMIUM_DESCRIPTION}),(0,r.jsx)(d.Zb,{className:q().noItemsCard,type:d.Zb.Types.CUSTOM,children:(0,r.jsxs)(v.Z,{align:v.Z.Align.CENTER,children:[(0,r.jsx)(_.Z,{game:null,size:_.Z.Sizes.SMALL,className:q().noItemsIcon}),(0,r.jsx)("span",{className:q().cardText,children:U.Z.Messages.USER_SETTINGS_NO_SUBSCRIPTIONS})]})})]})}function ie(e){var t,n,o=e.subscription,i=e.paymentSource,s=e.busy,l=e.className,c=e.fromStandaloneBillingPage,p=void 0===c||c,h=e.analyticsLocation,E=$((0,C.ED)({subscriptionId:o.id,renewal:!0}),1)[0],y=$((0,C.ED)({subscriptionId:o.id,renewal:!0,applyEntitlements:!0}),1)[0],m=(0,f.e7)([O.default],(function(){var e;return null===(e=O.default.getCurrentUser())||void 0===e?void 0:e.hasFreePremium()
})),b=u()(o.currentPeriodEnd),v=null!=o.paymentSourceId,_=null!==(t=null==y?void 0:y.total)&&void 0!==t?t:0,I=null==i?void 0:i.invalid,S=!v&&_>0&&(b.diff(u()(),"days")<=7||o.status===D.O0b.PAST_DUE)&&!m&&!o.isPurchasedExternally,T=I&&o.status===D.O0b.PAST_DUE&&!m&&!o.isPurchasedExternally,P=(0,A.U)(),R=!m&&P,M=(null==o?void 0:o.status)===D.O0b.PAST_DUE?u()().diff(u()(o.currentPeriodStart),"days"):0,w=$((0,C.Ox)({subscriptionId:o.id,preventFetch:!R}),1)[0];if(null==E||null==y)return(0,r.jsx)(d.$j,{});null!=o.renewalMutations&&(o.renewalMutations.planId!==o.planId&&!(0,g.Q)(o.renewalMutations.planId)||o.hasExternalPlanChange)&&(n=(0,r.jsx)(W,{subscription:o,renewalMutations:o.renewalMutations,className:q().renewalMutationNotice,analyticsLocation:h}));return(0,r.jsx)("div",{className:l,children:(0,r.jsxs)(d.y5,{component:(0,r.jsx)(d.vw,{className:q().sectionTitle,tag:"h1",children:U.Z.Messages.USER_SETTINGS_SUBSCRIPTIONS_HEADER}),children:[S?(0,r.jsx)(ee,{}):null,T?(0,
r.jsx)(te,{}):null,R&&null!=w?(0,r.jsx)(ne,{daysPastDue:M,subscription:o,openInvoiceId:w.id}):null,n,(0,r.jsxs)("div",{className:q().subscriptionRows,children:[(0,r.jsx)("p",{className:q().sectionDescription,children:U.Z.Messages.BILLING_PAYMENT_PREMIUM_DESCRIPTION}),(0,r.jsx)(j.Z,{subscription:o,renewalInvoicePreview:E,paymentSource:i,busy:s,analyticsLocation:h}),(0,r.jsx)(J,{subscription:o,fromStandaloneBillingPage:p,className:q().guildSubscriptionRow})]}),(0,r.jsx)("div",{children:(0,r.jsx)(d.y5,{component:(0,r.jsx)(d.vw,{tag:"h5",children:U.Z.Messages.BILLING_STEP_PAYMENT}),children:(0,r.jsxs)("div",{className:q().details,children:[(0,r.jsx)(re,{subscription:o,renewalInvoicePreview:y,className:q().detailsBlock}),(0,r.jsxs)("div",{className:a()(q().detailsBlock,Q({},q().redBorder,T)),children:[(0,r.jsx)(d.vw,{tag:"h3",className:q().detailBlockHeader,children:o.isPurchasedExternally&&null!=o.paymentGateway?U.Z.Messages.BILLING_MANAGED_BY_PAYMENT_GATEWAY.format({
paymentGatewayName:D.Vzj[o.paymentGateway]}):U.Z.Messages.BILLING_PAY_FOR_IT_WITH}),(0,r.jsx)(x.Z,{subscription:o,onPaymentSourceAdded:N.i1,highlightAddPaymentMethodButton:S||T,analyticsLocation:h,currentInvoicePreview:E,dropdownClassName:q().paymentDropdown}),(0,r.jsx)("div",{className:q().paymentDropdownFinePrint,children:U.Z.Messages.BILLING_APPLIES_TO_ALL_SUBSCRIPTIONS})]})]})})})]})})}},566960:(e,t,n)=>{"use strict";n.d(t,{R:()=>U,Z:()=>k});var r=n(785893),o=(n(667294),n(294184)),i=n.n(o),a=n(441143),s=n.n(a),l=n(331535),c=n(951667),u=n(859169),f=n(64833),d=n(832691),p=n(224292),h=n(832377),E=n(916957),y=n(757987),m=n(581643),b=n(203493),g=n(897576),O=n(74030),v=n(557473),_=n(757073),I=n(298716),S=n(461061),T=n(959797),N=n(956424),C=n.n(N);function A(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function P(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){
A(i,r,o,a,s,"next",e)}function s(e){A(i,r,o,a,s,"throw",e)}a(void 0)}))}}function j(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){j(e,t,n[t])}))}return e}function R(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var M=function(e,t){
var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1]
;return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},w=new d.Z("SubscriptionHeader.tsx"),Z={page:S.ZY5.USER_SETTINGS,section:S.jXE.SETTINGS_PREMIUM,object:S.qAy.CARD};function L(e){var t=e.wordMark,n=e.subscriptionInfo,o=e.buttons,a=e.statusClasses;return(0,r.jsxs)("div",{className:i()(C().banner,a),children:[(0,r.jsx)("div",{className:C().bannerBackgroundImage}),(0,r.jsxs)("div",{className:C().detailsContainer,children:[(0,r.jsx)("div",{className:C().image}),(0,r.jsxs)("div",{className:C().details,children:[t,n]})]}),(0,r.jsx)("div",{className:C().buttons,children:o})]})}function D(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(b.Z,{className:C().discordWordmark,"aria-label":T.Z.Messages.PREMIUM_TIER_1}),(0,r.jsx)("div",{className:C().classicWordmark})]})}function U(){var e=(0,f.Z)(u.Z.ACCOUNT_CREDIT_BANNER).analyticsLocations;return(0,r.jsx)(L,{wordMark:(0,r.jsx)(D,{}),subscriptionInfo:(0,r.jsx)("div",{className:C().planInfo,
children:T.Z.Messages.PREMIUM_TIER_1_ACCOUNT_CREDIT_BANNER_DESCRIPTION}),buttons:(0,r.jsx)(_.Z,{className:C().toolsButton,onClick:function(){return(0,p.Z)({subscriptionTier:I.Si.TIER_1,analyticsLocations:e,analyticsObject:Z})},children:T.Z.Messages.PREMIUM_TIER_1_ACCOUNT_CREDIT_BANNER_CTA}),statusClasses:j({},C().tier1,!0)})}const k=function(e){var t=e.subscription,o=e.renewalInvoicePreview,a=e.paymentSource,d=e.busy,N=e.analyticsLocation,A=(0,f.Z)(u.Z.SUBSCRIPTION_HEADER).analyticsLocations,U=function(){t.status!==S.O0b.ACTIVE&&t.status!==S.O0b.PAST_DUE||k()},k=function(){(0,g.ZD)(P((function(){var e,o;return M(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(66444),n.e(29005),n.e(64634)]).then(n.bind(n,164634))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,R(x({},e),{premiumSubscription:t,analyticsLocation:N,analyticsLocations:A}))}]}}))})))},G=function(){if(null!=t&&null!=t.planIdFromItems){var e=E.Z.get(t.planIdFromItems)
;if(null==e){w.info("Plan not fetched for plan id: ".concat(t.planIdFromItems));return}var n=(0,v.DE)(e,null==a?void 0:a.id,!1),r=n.length>0?n[0]:t.currency,o=!1;1===n.length&&(null==a?void 0:a.id)===t.paymentSourceId&&(0,v.tD)(e.id,r,null==a?void 0:a.id)?o=!0:null==a||(0,O.Z8)()||(o=!0);o?c.O5(t,A):(0,p.Z)({initialPlanId:t.planIdFromItems,analyticsLocations:A,analyticsLocation:N,analyticsObject:Z})}},B=O.ZP.getPlanIdFromInvoice(t,o);if((0,h.Q)(B))return null;var H,V=O.ZP.getStatusFromInvoice(t,o),F=O.ZP.getPremiumType(B),Y=(j(H={},C().tier0,F===I.p9.TIER_0),j(H,C().tier1,F===I.p9.TIER_1),j(H,C().tier2,F===I.p9.TIER_2),j(H,C().canceled,V===S.O0b.CANCELED),j(H,C().failedPayment,(0,O.zV)(V)),H),z=null;switch(F){case I.p9.TIER_0:z=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(b.Z,{className:C().discordWordmark,"aria-label":T.Z.Messages.PREMIUM_TIER_0}),(0,r.jsx)("div",{className:C().basicWordmark})]});break;case I.p9.TIER_1:z=(0,r.jsx)(D,{});break;case I.p9.TIER_2:z=(0,r.jsx)(m.Z,{
className:C().planName,"aria-label":T.Z.Messages.PREMIUM_TITLE})}return(0,r.jsx)(L,{wordMark:z,subscriptionInfo:function(e){s()(null!=o,"Expected renewalInvoicePreview");return(0,r.jsx)("div",{className:C().planInfo,children:(0,O.qV)({planId:e,subscription:t,renewalInvoicePreview:o})})}(B),buttons:function(){var e=t.status;if(t.isPurchasedExternally){var n=(0,O.JE)(t.paymentGateway,"SUBSCRIPTION_MANAGEMENT");return(0,r.jsx)(l.ee,{href:n,useDefaultUnderlineStyles:!1,children:(0,r.jsx)(l.zx,{className:i()(C().toolsButton,C().externalButton),size:l.zx.Sizes.SMALL,look:l.iL.OUTLINED,color:l.Tt.WHITE,submitting:d,children:T.Z.Messages.BILLING_MANAGE_SUBSCRIPTION})})}if(O.ZP.isBaseSubscriptionCanceled(t))return(0,r.jsx)(l.zx,{className:C().toolsButton,size:l.zx.Sizes.SMALL,look:l.iL.INVERTED,color:l.Tt.BRAND,submitting:d,onClick:G,children:T.Z.Messages.RESUBSCRIBE});if(e===S.O0b.ACTIVE||e===S.O0b.PAST_DUE){var o=!1,a=null;if(null!=t.renewalMutations){o=!0
;a=t.renewalMutations.planId!==t.planId?T.Z.Messages.PREMIUM_SWITCH_PLAN_DISABLED_PENDING_MUTATION_PLAN:T.Z.Messages.PREMIUM_SWITCH_PLAN_DISABLED_PENDING_MUTATION_PREMIUM_GUILD_SUBSCRIPTION}if(null!=t.trialEndsAt){o=!0;a=T.Z.Messages.PREMIUM_SWITCH_PLAN_DISABLED_IN_TRIAL}e===S.O0b.PAST_DUE&&(o=!0);return(0,r.jsxs)("div",{className:C().toolsButtons,children:[(0,r.jsx)(l.zx,{className:C().toolsButton,size:l.zx.Sizes.SMALL,look:l.iL.LINK,color:l.Tt.WHITE,submitting:d,onClick:U,children:T.Z.Messages.CANCEL}),(0,r.jsx)(y.ZP,{text:a,children:function(e){return(0,r.jsx)(_.Z,R(x({},e),{disabled:o,className:C().toolsButton,onClick:function(){(0,p.Z)({analyticsLocations:A,analyticsLocation:N,analyticsObject:Z})},children:T.Z.Messages.PREMIUM_SWITCH_PLANS}))}})]})}}(),statusClasses:Y})}},433656:(e,t,n)=>{"use strict";n.d(t,{Z:()=>V})
;var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),s=n(441143),l=n.n(s),c=n(363010),u=n(331535),f=n(976882),d=n(951667),p=n(174034),h=n(238307),E=n(909187),y=n(64833),m=n(767121),b=n(893321),g=n(707955),O=n(916957),v=n(30741),_=n(897576),I=n(95467),S=n(74030),T=n(56435),N=n(557473),C=n(862325),A=n(212658),P=n(461061),j=n(959797),x=n(778916),R=n.n(x),M=n(3066),w=n.n(M);function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function L(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function D(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){L(i,r,o,a,s,"next",e)}function s(e){L(i,r,o,a,s,"throw",e)}a(void 0)}))}}function U(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function k(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){U(e,t,n[t])}))}return e}function G(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value)
;if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var H=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,
r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function V(e){var t,i,s=e.subscription,v=e.onPaymentSourceAdded,I=e.highlightAddPaymentMethodButton,T=e.dropdownClassName,x=e.analyticsLocation,M=e.currentInvoicePreview,Z=(0,c.e7)([b.Z],(function(){return b.Z.hidePersonalInformation})),L=B((0,c.Wu)([g.Z],(function(){
return[g.Z.paymentSources,g.Z.hasFetchedPaymentSources]})),2),U=L[0],V=L[1],F=(0,m.V)((0,C.yb)(s)),z=(0,y.Z)().analyticsLocations,W=o.useMemo((function(){return Object.values(U).filter((function(e){return!e.invalid}))}),[U]),K=B(o.useState(!1),2),q=K[0],X=K[1],Q=B(o.useState(s.currency),2),$=Q[0],J=Q[1],ee=(t=D((function(e,t){return H(this,(function(n){switch(n.label){case 0:if(null==s||null==e&&!(0,S.Z8)())throw Error("missing subscription and paymentSource");return null!=e?[3,2]:[4,d.fG(s,t,z,x)];case 1:n.sent();return[3,4];case 2:return[4,d.tq(s,e,t,z,x)];case 3:n.sent();n.label=4;case 4:X(!1);J(t);return[2]}}))})),function(e,n){return t.apply(this,arguments)}),te=function(){var e=D((function(e,t,n){var r;return H(this,(function(o){switch(o.label){case 0:if(null==e&&!(0,S.Z8)())throw Error("PaymentSource required");X(!0);return[4,(0,A.hz)({subscriptionId:s.id,paymentSourceId:null==e?void 0:e.id,renewal:!0,currency:t})];case 1:r=o.sent()
;M.currency!==r.currency||M.currency===r.currency&&M.total!==r.total?Y(r,(function(){n(e,t);if(!(0,S.Z8)()){l()(null!=e,"paymentSource required");(0,p.Y2)(e.country,e.id)}}),(function(){X(!1)})):n(e,t);return[2]}}))}));return function(t,n,r){return e.apply(this,arguments)}}(),ne=function(e){var t=O.Z.get(s.planIdForCurrencies);l()(null!=e,"paymentSource not specified for change");l()(null!=t,"Unable to fetch plan");var n=(0,N.DE)(t.id,e.id,!1);return n.length>0?n[0]:P.pKx.USD},re=function(e){null!=e&&te(e,ne(e),ee)},oe=function(e){(0,N.i1)(e.id,(0,C.yb)(s)).then((function(){te(e,ne(e),ee)}));"function"==typeof v&&v(e.id)},ie=function(){(0,_.ZD)(D((function(){var e,t;return H(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(81230),n.e(67543),n.e(64972)]).then(n.bind(n,564972))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,G(k({},e),{onAddPaymentSource:oe,analyticsLocation:x}))}]}}))})),{onCloseCallback:function(){(0,f.fw)()}})}
;if(s.isPurchasedExternally)return function(e){l()(null!=e.paymentGateway,"Expected payment gateway when managed externally");var t=(0,S.JE)(e.paymentGateway,"PAYMENT_SOURCE_MANAGEMENT");return(0,r.jsx)(u.ee,{href:t,useDefaultUnderlineStyles:!1,className:R().externalLink,children:(0,r.jsx)(u.zx,{fullWidth:!0,look:u.zx.Looks.FILLED,color:u.zx.Colors.PRIMARY,children:j.Z.Messages.BILLING_MANAGE_BILLING})})}(s);if(V&&F){if(W.length>0){var ae=O.Z.get(s.planIdForCurrencies);l()(null!=ae,"Unable to fetch plan");var se=(0,N.DE)(ae,s.paymentSourceId,!1);return(0,r.jsxs)(r.Fragment,{children:[(i=s.paymentSourceId,(0,r.jsx)(E.Z,{prependOption:null==i?{label:j.Z.Messages.ATTACH_PAYMENT_SOURCE_PROMPT_OPTION,value:null}:null,className:T,paymentSources:W,hidePersonalInformation:Z,selectedPaymentSourceId:i,onChange:re,onPaymentSourceAdd:ie,dropdownLoading:q})),null!=s.paymentSourceId?(0,r.jsx)(h.b,{currencies:se,children:(0,r.jsxs)("div",{className:a()(R().currency,w().flex,w().alignCenter),
children:[(0,r.jsx)("div",{children:j.Z.Messages.PAYMENT_CURRENCY_PAYING_IN}),(0,r.jsx)(h.Z,{className:R().currencyDropdown,selectedCurrency:$,currencies:se,onChange:function(e){te(void 0,e,ee)}})]})}):null]})}return(0,r.jsx)(u.zx,{fullWidth:!0,look:u.zx.Looks.FILLED,color:I?u.zx.Colors.BRAND:u.zx.Colors.PRIMARY,onClick:ie,children:j.Z.Messages.BILLING_ADD_PAYMENT_METHOD})}return(0,r.jsx)(u.$j,{})}var F=function(e){var t=e.modalProps,n=e.onConfirm,o=e.onCancel,i=e.newInvoice,a={newCurrencyAndPrice:(0,T.T4)(i.total,i.currency),helpCenterLink:I.Z.getArticleURL(P.BhN.LOCALIZED_PRICING)};return(0,r.jsx)(v.default,G(k({header:j.Z.Messages.BILLING_CONFIRM_PRICE_CHANGE_TITLE,confirmText:j.Z.Messages.YES_TEXT,cancelText:j.Z.Messages.NO_TEXT,onConfirm:n,onCancel:o,confirmButtonColor:u.zx.Colors.BRAND},t),{children:(0,r.jsx)(u.xv,{variant:"text-md/normal",children:j.Z.Messages.LOCALIZED_PRICING_ON_CHANGE_PAYMENT_METHOD.format(a)})}))},Y=function(e,t,n){(0,_.h7)((function(o){return(0,r.jsx)(F,{
newInvoice:e,onConfirm:t,onCancel:n,modalProps:o})}),{onCloseRequest:function(){return!1}})}},894272:(e,t,n)=>{"use strict";n.d(t,{RE:()=>M,T5:()=>Z,Xb:()=>L,aE:()=>D,cD:()=>U,s9:()=>k,zM:()=>G,zy:()=>B,S5:()=>H,t9:()=>V,fy:()=>F,vv:()=>Y,YK:()=>W,tr:()=>K,FJ:()=>q,bu:()=>X,_f:()=>Q});n(496486);var r=n(608575),o=n(675860),i=n(620903),a=n(444450),s=n(549425),l=n(188363),c=n(74907),u=n(60890),f=n(409271),d=n(53551),p=n(653772),h=n(934714),E=n(171447),y=n(962564),m=n(859023),b=n(882687),g=n(570992),O=n(763611),v=n(856640),_=n(438022),I=n(461061);function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function T(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function N(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){T(i,r,o,a,s,"next",e)}function s(e){T(i,r,o,a,s,"throw",e)}a(void 0)}))}}function C(e){return function(e){
if(Array.isArray(e))return S(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var A=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,
r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};var P=function(){var e=I.Hae.split(":")[0];if(!e.includes("."))return e;var t=e.split("."),n=t[t.length-1];return/^\d+$/.test(n)?e:t.slice(-2).join(".")}(),j=new RegExp("^".concat(O.Z.escape("https://"),"(?:[a-z]+\\.)?(").concat(O.Z.escape(P),"|discordapp.com|discord.com)$")),x={}
;function R(e){"customEmoji"===e.type&&(e.type="emoji");"emoji"===e.type&&e.src&&(e.src=M(e.src));Array.isArray(e.content)&&(e.content=e.content.map(R));return e}function M(e){return/^http/.test(e)?e:"".concat(location.protocol,"//").concat(location.host).concat("/"===e.charAt(0)?"":"/").concat(e)}function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.indexOf(e)>-1}function Z(e,t){var n=[],r=e.getGuildId();[I.d4z.GUILD_CATEGORY].concat(C(d.tx)).includes(e.type)||n.push(new Promise((function(t){E.Z.whenReady(e.id,(function(){return t()}));s.Z.fetchMessages({channelId:e.id,limit:I.AQB})})));return Promise.all(n).then((function(){var n,o=(!e.isNSFW()||!0===(null===(n=m.default.getCurrentUser())||void 0===n?void 0:n.nsfwAllowed))&&t?E.Z.getMessages(e.id).toArray().map(L):[],i=Object.values(b.Z.getVoiceStatesForChannel(e.id)).map((function(t){return D(r,e.id,t)}));return{id:e.id,name:e.name,type:e.type,topic:e.topic,bitrate:e.bitrate,user_limit:e.userLimit,
guild_id:r,position:e.position,messages:o,voice_states:i}}))}function L(e){var t=c.Z.parseToAST(e.content,!0,{channelId:e.channel_id}).map(R),n=(0,u.ZH)(e),r=n.colorString,o=n.nick;return{id:e.id,blocked:e.blocked,bot:e.bot,content:e.content,content_parsed:t.length?t:void 0,nick:o,author_color:r,edited_timestamp:e.edited_timestamp||e.editedTimestamp,timestamp:e.timestamp,tts:e.tts,mentions:e.mentions,mention_everyone:e.mention_everyone||e.mentionEveryone,mention_roles:e.mention_roles||e.mentionRoles,embeds:e.embeds,attachments:e.attachments,author:e.author?(0,_.Z)(e.author):void 0,pinned:e.pinned,type:e.type}}function D(e,t,n){var r=n.mute,o=n.deaf,i=n.selfMute,a=n.selfDeaf,s=n.suppress,l=n.userId,c=m.default.getUser(l);if(null==c)throw new Error("Invalid user id: ".concat(l));return{nick:g.Z.getName(e,t,c),mute:h.Z.isLocalMute(c.id),volume:h.Z.getLocalVolume(c.id),pan:h.Z.getLocalPan(c.id),voice_state:{mute:r,deaf:o,self_mute:i,self_deaf:a,suppress:s},user:(0,_.Z)(c)}}
function U(e,t,n){var r=m.default.getUser(t);return{type:e,user:null!=r?(0,_.Z)(r):null,presence:{status:y.Z.getStatus(t),activity:null!=n?y.Z.getApplicationActivity(t,n):y.Z.getPrimaryActivity(t)}}}function k(e){if(null==e)return!1;var t,n=window.location.origin;if(e===n)return!0;try{t=r.parse(e).hostname}catch(e){return!1}return window.location.hostname===t&&"localhost"===t||null==e.match("staging")&&!(!j.test(e)||!j.test(n))}function G(e,t,n){var r=p.Z.getGuild(e.getGuildId());return(null!=r?r.getApplicationId():e.getApplicationId())===t||n.indexOf(I.xVR.MESSAGES_READ)>-1}function B(e){switch(e){case I.hes.RTC_CONNECTED:case I.hes.RTC_CONNECTING:case I.hes.RTC_DISCONNECTED:return e.replace(/^RTC_/,"VOICE_");default:return e}}function H(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.instance,r=e.secrets,o=e.party,i=0;n&&(i|=I.xjy.INSTANCE);null!=(null==r?void 0:r.join)&&(i|=I.xjy.JOIN);if(t){i|=I.xjy.EMBEDDED;return i|=I.xjy.PARTY_PRIVACY_VOICE_CHANNEL}
if((null==o?void 0:o.privacy)===I.RYY.PUBLIC||a.Z.get("ACTIVITIES_FORCE_PUBLIC")){f.cP.getSetting()&&(i|=I.xjy.PARTY_PRIVACY_FRIENDS);f.Ou.getSetting()&&(i|=I.xjy.PARTY_PRIVACY_VOICE_CHANNEL)}return i}function V(e,t,n){return e===I.mFx.JOIN&&(null!=t&&null!=t.id&&null!=n.join)}function F(e,t,n){return o.Z.get({url:I.ANM.APPLICATION_RPC(t),oldFormErrors:!0,retries:3}).then((function(r){var o=r.body,i=o.rpc_origins,a=o.id,s=o.name,c=o.icon,u=o.cover_image,f=o.flags;if("string"==typeof n)if(e.transport===I.Hej.POST_MESSAGE){var d=(0,l.Z)(t);if(null==d||!w(n,[d]))throw new v.Z(I.$VG.INVALID_ORIGIN,"Invalid Origin")}else if(!w(n,i))throw new v.Z(I.$VG.INVALID_ORIGIN,"Invalid Origin");e.application={id:a,name:s,icon:c,coverImage:u,flags:f}}),(function(){throw new v.Z(I.$VG.INVALID_CLIENTID,"Invalid Client ID")}))}function Y(e,t){return z.apply(this,arguments)}function z(){return(z=N((function(e,t){var n,r;return A(this,(function(o){switch(o.label){case 0:if(null==(n=x[e])){r=t?2:60
;n=new i.Z(r,6e4);x[e]=n}return[4,n.process()];case 1:o.sent();return[2]}}))}))).apply(this,arguments)}function W(e,t){null==t&&(e.authorization.scopes=[I.lHf])}function K(e){var t=h.Z.getSettings(),n=function(e){return Object.values(e).sort((function(e,t){return e.index-t.index})).map((function(e){return{id:e.id,name:e.name}}))},r=e(t);return{input:{available_devices:n(h.Z.getInputDevices()),device_id:t.inputDeviceId,volume:t.inputVolume},output:{available_devices:n(h.Z.getOutputDevices()),device_id:t.outputDeviceId,volume:t.outputVolume},mode:{type:t.mode,auto_threshold:t.modeOptions.autoThreshold,threshold:t.modeOptions.threshold,shortcut:r,delay:t.modeOptions.delay},automatic_gain_control:t.automaticGainControl,echo_cancellation:t.echoCancellation,noise_suppression:t.noiseSuppression,qos:t.qos,silence_warning:t.silenceWarning,deaf:t.deaf,mute:t.mute}}function q(e,t){var n=h.Z.getSettings(e),r=t(n);return{input_mode:{type:n.mode,shortcut:r},local_mutes:Object.keys(n.localMutes),
local_volumes:n.localVolumes,self_mute:n.mute,self_deaf:n.deaf}}function X(e){if(e!==I.Hej.POST_MESSAGE)throw new v.Z(I.lTL.INVALID_COMMAND,'command not available from "'.concat(e," transport"))}function Q(e){if(null==e.id)throw new v.Z(I.lTL.INVALID_COMMAND,"Invalid application")}},180119:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(461061);function o(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){o(e,t,n[t])}))}return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){
var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var s="<removed>";function l(e){var t=i({},e);(function(e){var t=e;return"object"==typeof t.args&&"string"==typeof t.cmd})(t)&&(t=function(e){return e.cmd===r.Etm.AUTHENTICATE?a(i({},e),{args:a(i({},e.args),{access_token:s})}):i({},e)}(t));(function(e){var t=e;return"object"==typeof t.data&&"string"==typeof t.cmd})(t)&&(t=function(e){return e.cmd===r.Etm.AUTHENTICATE?a(i({},e),{data:a(i({},e.data),{access_token:s})}):i({},e)}(t));return t}},812681:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(496486),o=n.n(r),i=n(856640),a=n(461061);var s=function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);this.transport=t;this.version=n;this.encoding=r;this.id=o().uniqueId()
;this.authorization={authing:!1,scopes:[],accessToken:null,expires:new Date(0)};this.application={id:null,name:null,icon:null};if(null==n||n>a.X6Q||n<1)throw new i.Z(a.$VG.INVALID_VERSION,"Invalid Version: ".concat(n))}},239037:(e,t,n)=>{"use strict";n.d(t,{s0:()=>p,em:()=>y,_X:()=>m,GC:()=>b});var r=n(472631),o=n(870),i=n(588641),a=n(185347),s=n(856640),l=n(894272),c=n(461061);function u(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}var f=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value])
;switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},d=["207646673902501888"];function p(e){if(o.Z.isReady(e)){r.Z.setLocked(!1,e);return{lock:function(){r.Z.setLocked(!0,e)},context:c.IlC.OVERLAY}}i.default.focus(null,!0);return{lock:function(){i.default.setForegroundProcess(e)},context:c.IlC.APP}}var h,E,y=(E=(h=function(e,t,n){var r;return f(this,(function(o){switch(o.label){case 0:(0,l.YK)(e,t);if((null==n||""===n)&&(0,l.s9)(t)){e.authorization.scopes=[c.cEn,c.CND]
;return[2,Promise.resolve()]}if(null==n||""===n)return[2,Promise.reject(new s.Z(c.$VG.INVALID_CLIENTID,"No Client ID Specified"))];r=i.default.releaseChannel!==c.R5N.CANARY&&!d.includes(n)&&e.transport!==c.Hej.POST_MESSAGE;return[4,(0,l.vv)(n,r)];case 1:o.sent();return[2,(0,l.fy)(e,n,t)]}}))},function(){var e=this,t=arguments;return new Promise((function(n,r){var o=h.apply(e,t);function i(e){u(o,n,r,i,a,"next",e)}function a(e){u(o,n,r,i,a,"throw",e)}i(void 0)}))}),function(e,t,n){return E.apply(this,arguments)});var m=function(){return(0,l.tr)((function(e){var t=[];null!=e.modeOptions.shortcut&&Array.isArray(e.modeOptions.shortcut)&&(t=function(e){return e.map((function(e){var t;return{type:e[0],code:e[1],name:null!==(t=(0,a.H9)(e))&&void 0!==t?t:"unknown"}}))}(e.modeOptions.shortcut));return t}))},b=function(e){return(0,l.FJ)(e,(function(e){var t="";null!=e.modeOptions.shortcut&&Array.isArray(e.modeOptions.shortcut)&&(t=(0,a.BB)(e.modeOptions.shortcut));return t}))}},901288:(e,t,n)=>{
"use strict";n.d(t,{Z:()=>x});var r=n(348764),o=n(717187),i=n.n(o),a=n(496486),s=n.n(a),l=n(832691),c=n(588641),u=n(180119),f=n(812681),d=n(239037),p=n(461061);function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e){E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return E(e)}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&b(e,t)}function m(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e,t){b=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return b(e,t)}var g=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}
;function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=E(e);if(t){var o=E(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m(this,n)}}var v,_=c.default.requireModule("discord_rpc").RPCIPC,I=new l.Z("RPCServer:IPC"),S={HANDSHAKE:0,FRAME:1,CLOSE:2,PING:3,PONG:4};function T(e,t){null!=e.setHandshakeComplete?e.setHandshakeComplete(t):e._didHandshake=t}function N(e){return null!=e.getHandshakeComplete?e.getHandshakeComplete():e._didHandshake}function C(e){return new Promise((function(t,n){"string"==typeof e&&(e=_.net.createConnection(e));e.pause();e.on("readable",(function(){try{P(e)}catch(t){e.end(A(S.CLOSE,{code:1003,message:t.message}));e.destroy()}}));var r=function(){try{e.end();e.destroy()}catch(e){}
},o=Promise.race([new Promise((function(t){return e.on("error",(function(){return t()}))})),new Promise((function(t,n){e.on("pong",(function(){return n(new Error("socket responded with pong"))}))})),new Promise((function(e,t){setTimeout((function(){return t(new Error("socket alive timeout"))}),1e3)}))]).then((function(){r()}),(function(e){r();throw e}));e.write(A(S.PING,s().uniqueId()));return o.then(t,n)}))}function A(e,t){t=JSON.stringify(t);var n=r.Buffer.byteLength(t),o=r.Buffer.alloc(8+n);o.writeInt32LE(e,0);o.writeInt32LE(n,4);o.write(t,8,n);return function(e){return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}(o)}function P(e){var t=e.read(8);if(t){var n=(t=r.Buffer.from(t)).readInt32LE(0),o=t.readInt32LE(4);if(!Object.values(S).includes(n)||o<0)throw new Error("protocol error");if(!(t=e.read(o)))throw new Error("data size does not match what was received");t=r.Buffer.from(t);var i=JSON.parse(t.toString());switch(n){case S.PING:e.emit("ping",i);e.write(A(S.PONG,i))
;break;case S.PONG:e.emit("pong",i);break;case S.HANDSHAKE:if(N(e))throw new Error("already did handshake");T(e,!0);e.emit("handshake",i);break;case S.FRAME:if(!N(e))throw new Error("did not handshake");e.emit("request",i);break;case S.CLOSE:e.end();e.destroy()}P(e)}}var j=function(e){y(n,e);var t=O(n);function n(e,r,o){h(this,n);var i;(i=t.call(this,"ipc",r,o))._socket=e;return i}var r=n.prototype;r.send=function(e){I.info("Socket Emit: ".concat(this.id),(0,u.Z)(e));this._socket.write(A(S.FRAME,e))};r.close=function(e,t){this._socket.end(A(S.CLOSE,{code:e,message:t}));this._socket.destroy()};return n}(f.Z);const x=new(function(e){y(n,e);var t=O(n);function n(){h(this,n);var e;e=t.call(this);(v=_.net.createServer((function(t){return e.handleConnection(t)}))).on("error",(function(e){return I.error("Error: ".concat(e.message))}));_.getAvailableSocket(C).then((function(e){v.listen(e,(function(){
("function"==typeof v.listening?v.listening():v.listening)&&I.info("Starting on ".concat(v.address()))}))}));return e}n.prototype.handleConnection=function(e){var t=this;T(e,!1);e.pause();e.on("readable",(function(){try{P(e)}catch(t){e.end(A(S.CLOSE,{code:p.$VG.CLOSE_UNSUPPORTED,message:t.message}));e.destroy()}}));e.once("handshake",(function(n){var r,o=n.client_id,i=+n.v;try{r=new j(e,i,"json")}catch(t){e.end(A(S.CLOSE,{code:t.code,message:t.message}));e.destroy();return}I.info("Socket Opened: ".concat(r.id));e.on("error",(function(e){return I.error("Socket Error: ".concat(e.message))}));e.on("close",(function(){I.info("Socket Close: ".concat(r.id));t.emit("disconnect",r)}));(0,d.em)(r,null,o).then((function(){e.on("request",(function(e){I.info("Socket Message: ".concat(r.id),(0,u.Z)(e));t.emit("request",r,e)}));t.emit("connect",r)})).catch((function(e){var t=e.code,n=e.message;return r.close(t,n)}))}))};return n}(i()))},649464:(e,t,n)=>{"use strict";n.d(t,{Z:()=>V})
;var r=n(717187),o=n.n(r),i=n(496486),a=n.n(i),s=n(817673),l=n(608575),c=n(173436),u=n(832691),f=n(528090),d=n(588641),p=n(856640),h=n(180119),E=n(812681),y=n(239037),m=n(461061),b=n(348764).Buffer;function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function I(e){I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return I(e)}function S(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&C(e,t)}
function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){_(e,t,n[t])}))}return e}function N(e,t){return!t||"object"!==j(t)&&"function"!=typeof t?O(e):t}function C(e,t){C=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return C(e,t)}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var P,j=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=I(e);if(t){var o=I(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return N(this,n)}}try{P=d.default.requireModule("discord_erlpack")}catch(e){try{P=d.default.requireModule("erlpack")}catch(e){}}
var R,M=d.default.requireModule("discord_rpc").RPCWebSocket,w=window.GLOBAL_ENV.MARKETING_ENDPOINT,Z=new u.Z("RPCServer:WSS"),L=[];function D(e){return"function"==typeof e?e():e}function U(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=e>0?void 0:function(){if(D(R.listening)){var e=R.address().port;Z.info("Starting on ".concat(e));c.Z.dispatch({type:"RPC_SERVER_READY",port:e})}};R.listen(m.V6Z+e%m.frH,"127.0.0.1",t)}function k(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:200,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=D(e.headers).origin?{"Access-Control-Allow-Origin":D(e.headers).origin,"Access-Control-Allow-Credentials":"true","Access-Control-Allow-Methods":"POST, GET, PUT, PATCH, DELETE","Access-Control-Allow-Headers":["Content-Type","Authorization"].join(", ")}:{};n=n?JSON.stringify(n):"";r=200!==r||n.length?r:204;t.setHeader("Content-Length",b.byteLength(n));t.setHeader("Content-Type","application/json")
;t.writeHead(r,T({},o,i));t.end(n)}function G(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;k(e,t,{code:o,message:r},n)}var B=function(e){S(n,e);var t=x(n);function n(e,r,o){v(this,n);var i;i=t.call(this,"ws",r,o);if(-1===["etf","json"].indexOf(o))throw new p.Z(m.$VG.INVALID_ENCODING,"Invalid Encoding: ".concat(o));if("etf"===o&&null==P)throw new p.Z(m.$VG.INVALID_ENCODING,"Erlpack cannot be used on this client");i._socket=e;return i}var r=n.prototype;r.send=function(e){(f.default.isLoggingOverlayEvents||e.cmd!==m.Etm.OVERLAY&&e.evt!==m.zMe.OVERLAY)&&Z.info("Socket Emit: ".concat(this.id),(0,h.Z)(e));null!=P&&"etf"===this.encoding?this._socket.send(P.pack(e),{binary:!0}):this._socket.send(JSON.stringify(e))};r.close=function(e,t){this._socket.close(e,t)};return n}(E.Z),H=function(e){S(n,e);var t=x(n);function n(e,r,o,i){v(this,n);var a;a=t.call(this,"http",o,i);if("json"!==i)throw new p.Z(m.$VG.INVALID_ENCODING,"Invalid Encoding: ".concat(i));a._sendCallback=e
;a._closeCallback=r;return a}var r=n.prototype;r.send=function(e){(f.default.isLoggingOverlayEvents||e.cmd!==m.Etm.OVERLAY)&&Z.info("Socket Emit: ".concat(this.id),e);this._sendCallback(e)};r.close=function(e,t){this._closeCallback(t,e)};return n}(E.Z);const V=new(function(e){S(n,e);var t=x(n);function n(){v(this,n);var e;e=t.call(this);var r=0;(R=M.http.createServer()).on("error",(function(e){Z.error("Error: ".concat(e.message));("EADDRINUSE"===e.code||e.message.includes("EADDRINUSE"))&&setTimeout((function(){return U(++r)}),1e3)}));R.on("request",e.handleRequest.bind(O(e)));U(r);var o={instanceId:R.instanceId||0,server:R};new M.ws.Server(o).on("connection",(function(t){return e.handleConnection(t)}));return e}var r=n.prototype;r.handleRequest=function(e,t){var n=this,r=A(D(e.url).split("?"),2),o=r[0],i=r[1],a=D(e.method);if("/rpc"!==o||"OPTIONS"!==a){var c="POST"===a;if("/rpc"!==o||"GET"!==a&&!c)G(e,t,404,"Not Found");else{
var u=s.parse(i),f=c?D(e.headers)["content-type"].split("/")[1]:"json",d=function(){var e=l.parse(u.callback),n=e.protocol,r=e.host;n===location.protocol&&r===location.host?t.setHeader("Location",u.callback):t.setHeader("Location",w);t.writeHead(301);t.end()},p=new H(c?k.bind(null,e,t):d,c?G.bind(null,e,t,400):d,+u.v,f);if(c)(0,y.em)(p,D(e.headers).origin,u.client_id).then((function(){var r="";e.on("data",(function(e){return r+=e}));e.on("error",(function(){return G(e,t,500,"Internal Server Error")}));e.on("end",(function(){return n.handleMessage(p,r)}))})).catch((function(e){var t=e.code,n=e.message;return p.close(t,n)}));else{p.authorization.scopes=[m.CND];this.handleMessage(p,decodeURIComponent(u.payload))}}}else k(e,t,{body:""})};r.handleConnection=function(e){var t,n=this,r=s.parse(D(e.upgradeReq).url.split("?")[1]),o=D(e.upgradeReq).headers.origin||"";try{t=new B(e,+r.v,r.encoding||"json")}catch(t){e.close(t.code,t.message);return}Z.info("Socket Opened: ".concat(t.id))
;e.on("error",(function(e){return Z.error("WS Error: ".concat(e.message))}));e.on("close",(function(e,r){Z.info("Socket Closed: ".concat(t.id,", code ").concat(e,", message ").concat(r));a().remove(L,(function(e){return e===t}));n.emit("disconnect",t)}));(0,y.em)(t,o,r.client_id).then((function(){L.push(t);e.on("message",(function(e){return n.handleMessage(t,e)}));n.emit("connect",t)})).catch((function(e){var n=e.code,r=e.message;return t.close(n,r)}))};r.handleMessage=function(e,t){var n;try{if(null!=P&&"etf"===e.encoding)n=P.unpack(t);else{if("string"!=typeof t)throw new Error;n=JSON.parse(t)}}catch(t){e.close(m.$VG.CLOSE_UNSUPPORTED,"Payload not ".concat(e.encoding));return}(f.default.isLoggingOverlayEvents||n.cmd!==m.Etm.OVERLAY)&&Z.info("Socket Message: ".concat(e.id),(0,h.Z)(n));this.emit("request",e,n)};return n}(o()))},66692:(e,t,n)=>{"use strict";n.d(t,{f:()=>r,q:()=>o})
;var r=200,o=[0,.25,.5,.75,1,1.25,1.5,1.75,2,2.25,2.5,2.75,3,3.25,3.5,3.75,4,4.25,4.5,4.75,5,5.25,5.5,5.75,6,6.25,6.5,6.75,7,7.25,7.5,7.75,8,8.25,8.5,8.75,9,9.25,9.5,9.75,10]},333999:(e,t,n)=>{"use strict";n.d(t,{vG:()=>i,M0:()=>a,Od:()=>s});var r,o=n(959797),i="emails";!function(e){e.COMMUNICATION="communication";e.SOCIAL="social";e.TIPS="tips";e.RECOMMENDATIONS_AND_EVENTS="recommendations_and_events";e.UPDATES_AND_ANNOUNCEMENTS="updates_and_announcements"}(r||(r={}));var a=[r.TIPS,r.RECOMMENDATIONS_AND_EVENTS,r.UPDATES_AND_ANNOUNCEMENTS],s=[{category:r.COMMUNICATION,label:function(){return o.Z.Messages.USER_SETTINGS_EMAIL_CATEGORY_COMMUNICATION},subLabel:function(){return o.Z.Messages.USER_SETTINGS_EMAIL_CATEGORY_COMMUNICATION_SUBLABEL}},{category:r.SOCIAL,label:function(){return o.Z.Messages.USER_SETTINGS_EMAIL_CATEGORY_SOCIAL},subLabel:function(){return o.Z.Messages.USER_SETTINGS_EMAIL_CATEGORY_SOCIAL_SUBLABEL}},{category:r.UPDATES_AND_ANNOUNCEMENTS,label:function(){
return o.Z.Messages.USER_SETTINGS_EMAIL_CATEGORY_UPDATES_AND_ANNOUNCEMENTS},subLabel:function(){return o.Z.Messages.USER_SETTINGS_EMAIL_CATEGORY_UPDATES_AND_ANNOUNCEMENTS_SUBLABEL}},{category:r.TIPS,label:function(){return o.Z.Messages.USER_SETTINGS_EMAIL_CATEGORY_TIPS},subLabel:function(){return o.Z.Messages.USER_SETTINGS_EMAIL_CATEGORY_TIPS_SUBLABEL}},{category:r.RECOMMENDATIONS_AND_EVENTS,label:function(){return o.Z.Messages.USER_SETTINGS_EMAIL_CATEGORY_RECOMMENDATIONS_AND_EVENTS},subLabel:function(){return o.Z.Messages.USER_SETTINGS_EMAIL_CATEGORY_RECOMMENDATIONS_AND_EVENTS_SUBLABEL}}]},852787:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r=n(363010),o=n(173436);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function s(e){s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){
return e.__proto__||Object.getPrototypeOf(e)};return s(e)}function l(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e,t){c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c(e,t)}var u=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}var d={},p=null;function h(){d={};p=null}var E=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&c(e,t)}(n,e);var t=f(n);function n(){i(this,n);return t.apply(this,arguments)}var r=n.prototype;r.getEmailSettings=function(){return{categories:d,initialized:p}};r.__getLocalVars=function(){return{categories:d,initialized:p}};return n}(r.ZP.Store);E.displayName="EmailSettingsStore";const y=new E(o.Z,{CONNECTION_OPEN:h,LOGOUT:h,EMAIL_SETTINGS_FETCH_SUCCESS:function(e){var t=e.settings;d=t.categories;p=t.initialized},EMAIL_SETTINGS_UPDATE_SUCCESS:function(e){var t=e.settings;d=t.categories},EMAIL_SETTINGS_UPDATE:function(e){var t=e.updates;d=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){a(e,t,n[t])}))}return e}({},d,t)}})},735696:(e,t,n)=>{"use strict";n.d(t,{X:()=>c});var r=n(363010),o=n(144857),i=n(556932),a=n(859023),s=(0,n(553494).B)({kind:"user",id:"2022-10_crunchyroll_connection",label:"Crunchyroll connection",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enable Crunchyroll connection",config:{enabled:!0}}]}),l=n(461061),c=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=i.YL.useExperiment({}).allowChurroStaging,n=s.useExperiment({}).enabled,c=(0,r.e7)([a.default],(function(){return a.default.getCurrentUser()}));return function(r){var i;return r.type===l.ABu.PLAYSTATION_STAGING?t:r.type===l.ABu.CRUNCHYROLL?n:!(void 0===c||!(null===(i=o.bO[r.type])||void 0===i?void 0:i.includes(c.id)))||(!!e||r.enabled)}}},280370:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(785893),o=(n(667294),n(294184)),i=n.n(o),a=n(331535),s=n(979915),l=n(445206),c=n.n(l)
;function u(e){var t=e.children,n=e.className;return(0,r.jsxs)("div",{className:i()(c().root,n),children:[(0,r.jsx)(s.Z,{className:c().info}),(0,r.jsx)(a.xv,{className:c().text,variant:"text-sm/medium",color:"text-normal",children:t})]})}},118499:(e,t,n)=>{"use strict";n.d(t,{Z:()=>T});var r=n(785893),o=n(667294),i=n(441143),a=n.n(i),s=n(363010),l=n(331535),c=n(822567),u=n(912224),f=n(859023),d=n(30741),p=n(897576),h=n(959797);function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function m(e){m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return m(e)}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){y(e,t,n[t])}))}return e}function g(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function O(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e,t){v=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return v(e,t)}var _=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function I(e){var t=function(){
if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O(this,n)}}var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&v(e,t)}(n,e);var t=I(n);function n(){E(this,n);var e;(e=t.apply(this,arguments)).state={isSendingVerificationEmail:!1};e.handleResendVerification=function(){var t=e.props,n=t.currentUser,o=t.onClick;null==o||o();e.setState({isSendingVerificationEmail:!0},(function(){c.Z.verifyResend().then((function(){return(0,p.h7)((function(e){return(0,r.jsx)(d.default,g(b({
header:h.Z.Messages.VERIFICATION_EMAIL_TITLE,confirmText:h.Z.Messages.OKAY,confirmButtonColor:l.zx.Colors.BRAND},e),{children:(0,r.jsx)(l.xv,{variant:"text-md/normal",children:h.Z.Messages.VERIFICATION_EMAIL_BODY.format({email:n.email})})}))}))})).catch((function(e){var t=e.body,n=h.Z.Messages.VERIFICATION_EMAIL_ERROR_BODY;null!=t&&t.email&&(n=t.email);(0,p.h7)((function(e){return(0,r.jsx)(u.default,b({title:h.Z.Messages.VERIFICATION_EMAIL_ERROR_TITLE,body:n},e))}))})).then((function(){return e.setState({isSendingVerificationEmail:!1})}))}))};return e}n.prototype.render=function(){var e=this.props,t=e.color,n=e.look,o=e.size;return(0,r.jsx)(l.zx,{look:n,size:o,color:t,disabled:this.state.isSendingVerificationEmail,onClick:this.handleResendVerification,children:h.Z.Messages.RESEND_VERIFICATION_EMAIL})};return n}(o.Component);S.defaultProps={size:l.zx.Sizes.MEDIUM,color:l.zx.Colors.BRAND};const T=s.ZP.connectStores([f.default],(function(){var e=f.default.getCurrentUser()
;a()(null!=e,"ResendEmailVerificationButton: currentUser cannot be undefined");return{currentUser:e}}))(S)},90522:(e,t,n)=>{"use strict";n.d(t,{Z:()=>M});var r=n(785893),o=n(667294),i=n(856864),a=n(179211),s=n(897576),l=n(461061),c=n(959797);function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){f(i,r,o,a,s,"next",e)}function s(e){f(i,r,o,a,s,"throw",e)}a(void 0)}))}}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return!0}catch(e){return!1}}function h(e,t,n){h=p()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t)
;var o=new(Function.bind.apply(e,r));n&&v(o,n.prototype);return o};return h.apply(null,arguments)}function E(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function y(e){y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return y(e)}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){E(e,t,n[t])}))}return e}function b(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})))
;n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function g(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function O(e,t){return!t||"object"!==I(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e,t){v=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return v(e,t)}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1
;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var I=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function S(e){var t="function"==typeof Map?new Map:void 0;S=function(e){if(null===e||!(n=e,-1!==Function.toString.call(n).indexOf("[native code]")))return e;var n
;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return h(e,arguments,y(this).constructor)}r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}});return v(r,e)};return S(e)}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O(this,n)}}var N=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i
;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function")
;e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&v(e,t)}(n,e);var t=T(n);function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);return t.call(this,null!=e?e:"Canceled")}return n}(S(Error));function A(e){var t=e.onError,n=e.onSuccess,s=e.PasswordConfirm,u=g(e,["onError","onSuccess","PasswordConfirm"]),f=_(o.useState(""),2),d=f[0],p=f[1];return(0,r.jsx)(s,b(m({},u),{handleSubmit:function(e){return a.Z.enableMFAStart(e)},onError:function(e){if(function(e){return"object"==typeof e&&null!=e&&(0,i.nr)(e,"code")&&"number"==typeof e.code?e.code:0}(e)===l.evJ.MFA_INVALID_SECRET){n(d);u.onClose()}else t(e)},onPasswordChange:p,title:c.Z.Messages.TWO_FA_ENABLE,actionText:c.Z.Messages.CONTINUE}))}function P(){return new Promise((function(e,t){(0,s.ZD)(d((function(){var o,i;return N(this,(function(a){switch(a.label){case 0:return[4,Promise.all([n.e(40532),n.e(44133)]).then(n.bind(n,444133))]
;case 1:o=a.sent(),i=o.default;return[2,function(n){return(0,r.jsx)(A,b(m({},n),{onSuccess:e,onError:t,PasswordConfirm:i}))}]}}))})),{onCloseCallback:function(){t(new C)}})}))}function j(e){return new Promise((function(t,o){(0,s.ZD)(d((function(){var o,i;return N(this,(function(a){switch(a.label){case 0:return[4,Promise.all([n.e(40532),n.e(1653),n.e(35517)]).then(n.bind(n,135517))];case 1:o=a.sent(),i=o.default;return[2,function(n){return(0,r.jsx)(i,b(m({},n),{password:e,handleEnableMFASuccess:t}))}]}}))})),{onCloseCallback:function(){o(new C)}})}))}function x(){return new Promise((function(e){(0,s.ZD)(d((function(){var e,t;return N(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(97846),n.e(331)]).then(n.bind(n,900331))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,m({},e))}]}}))})),{onCloseCallback:e,onCloseRequest:l.VqG})}))}function R(){return(R=d((function(){return N(this,(function(e){switch(e.label){case 0:return[4,P()];case 1:
return[4,j(e.sent())];case 2:e.sent();return[4,x()];case 3:e.sent();return[2]}}))}))).apply(this,arguments)}const M={enableMFA:function(){return R.apply(this,arguments)}}},57731:(e,t,n)=>{"use strict";n.r(t);n.d(t,{default:()=>_});var r=n(785893),o=n(667294),i=n(363010),a=n(331535),s=n(395951),l=n(493925),c=n(462428),u=n(67416),f=n(429244),d=n(461061),p=n(86030),h=n(959797),E=n(843204),y=n.n(E);function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){b(i,r,o,a,s,"next",e)}function s(e){b(i,r,o,a,s,"throw",e)}a(void 0)}))}}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){
var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var v=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){
if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function _(e){
var t,n,E,m,b=e.transitionState,_=e.onSuccess,I=e.onClose,S=e.requirementsUpdated,T=e.noSkip,N=void 0!==T&&T,C=O(o.useState(""),2),A=C[0],P=C[1],j=O(o.useState(""),2),x=j[0],R=j[1],M=O(o.useState(""),2),w=M[0],Z=M[1],L=O(o.useState(null),2),D=L[0],U=L[1],k=O(o.useState(null),2),G=k[0],B=k[1],H=(0,i.e7)([l.Z],(function(){return l.Z.getErrors()})),V=(0,i.e7)([l.Z],(function(){return l.Z.getFormState()})),F=o.useRef(null);o.useEffect((function(){if(b===p.Dv.ENTERED){var e;null===(e=F.current)||void 0===e||e.focus()}}),[b]);function Y(){Y=g((function(e){var t,n,r;return v(this,(function(o){switch(o.label){case 0:e.preventDefault();(0,s.b9)();t=!1;if(""===x){U(h.Z.Messages.PASSWORD_REQUIREMENTS_EMPTY);t=!0}else U(null);if(x!==w){B(h.Z.Messages.FORM_LABEL_NEW_PASSWORD_MISMATCH);t=!0}else B(null);return t?[2]:[4,(0,s.Mn)({password:A,newPassword:x})];case 1:(null==(n=o.sent())?void 0:n.ok)?_():null!=(null==n||null===(r=n.body)||void 0===r?void 0:r.username)&&(0,f.P)();return[2]}}))}))
;return Y.apply(this,arguments)}return(0,r.jsxs)(u.Y0,{transitionState:b,children:[(0,r.jsxs)(u.xB,{separator:!1,className:y().header,children:[(0,r.jsx)(c.Z,{color:c.Z.Colors.HEADER_PRIMARY,size:c.Z.Sizes.SIZE_24,className:y().title,children:h.Z.Messages.UPDATE_PASSWORD}),(0,r.jsx)(a.xv,{color:"header-secondary",variant:"text-md/normal",className:y().subtitle,children:S?h.Z.Messages.FORCE_PASSWORD_UPDATE_DESCRIPTION:h.Z.Messages.USER_SETTINGS_ACCOUNT_CHANGE_PASSWORD_PROMPT_DESKTOP}),!0!==N&&(0,r.jsx)(u.ol,{onClick:I,className:y().modalCloseButton})]}),(0,r.jsxs)("form",{onSubmit:function(e){return Y.apply(this,arguments)},children:[(0,r.jsxs)(u.hz,{className:y().content,children:[(0,r.jsx)(a.xJ,{title:h.Z.Messages.FORM_LABEL_CURRENT_PASSWORD,error:null==H||null===(t=H.password)||void 0===t?void 0:t[0],children:(0,r.jsx)(a.oi,{type:"password",value:A,onChange:P,inputRef:F})}),(0,r.jsx)(a.xJ,{className:y().newPassword,title:h.Z.Messages.FORM_LABEL_NEW_PASSWORD,
error:null!==(m=null!==(E=null==H||null===(n=H.new_password)||void 0===n?void 0:n[0])&&void 0!==E?E:D)&&void 0!==m?m:void 0,children:(0,r.jsx)(a.oi,{type:"password",value:x,onChange:R})}),(0,r.jsx)(a.xJ,{className:y().newPassword,title:h.Z.Messages.FORM_LABEL_CONFIRM_NEW_PASSWORD,error:null!=G?G:void 0,children:(0,r.jsx)(a.oi,{type:"password",value:w,onChange:Z})})]}),(0,r.jsxs)(u.mz,{children:[(0,r.jsx)(a.zx,{type:"submit",color:a.zx.Colors.BRAND,size:a.zx.Sizes.MEDIUM,submitting:V===d.QZA.SUBMITTING,children:h.Z.Messages.DONE}),!0!==N&&(0,r.jsx)(a.zx,{className:y().cancel,look:a.zx.Looks.LINK,color:a.zx.Colors.PRIMARY,onClick:I,children:h.Z.Messages.CANCEL})]})]})]})}},928632:(e,t,n)=>{"use strict";n.d(t,{Z:()=>IA});var r=n(785893),o=n(667294),i=n(506884),a=n(820028),s=n(331535),l=n(173436),c=n(822567),u=n(395951),f=n(956345),d=n(377018),p=n(65738),h=n(64833),E=n(363010),y=n(817513),m=n(938871),b=n(256416),g=n(294184),O=n.n(g),v=n(168190),_=n.n(v);function I(e,t,n){
t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){I(e,t,n[t])}))}return e}function T(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function N(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e)
;for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function C(e){var t=e.title,n=e.note,o=e.children,i=e.className;return(0,r.jsxs)("div",{className:O()(_().inputItem,i),children:[(0,r.jsxs)("div",{className:_().inputItemText,children:[(0,r.jsx)(s.xv,{className:_().inputItemTitle,variant:"text-md/semibold",color:"interactive-active",children:t}),null!=n&&(0,r.jsx)(s.xv,{className:_().note,variant:"text-sm/medium",color:"header-secondary",children:n})]}),o]})}function A(e){var t=e.options,n=e.value,o=e.select,i=e.selectClassName,a=N(e,["options","value","select","selectClassName"]);return(0,r.jsx)(C,T(S({},a),{children:(0,r.jsx)(s.OC,{className:O()(_().selectControl,i),options:t,isSelected:function(e){return e===n},select:o,serialize:function(e){return String(e)}})}))}
function P(e){var t=e.value,n=e.onChange,o=e.editable,i=e.textInputClassName,a=e.onClick,l=N(e,["value","onChange","editable","textInputClassName","onClick"]);return(0,r.jsx)(C,T(S({},l),{children:(0,r.jsx)(s.oi,{onClick:a,editable:o,className:O()(_().selectControl,i),value:t,onChange:n})}))}var j=n(827271),x=n(959797),R=n(628701),M=n.n(R);function w(){var e=(0,E.e7)([b.Z],(function(){return b.Z.getSettings()})),t=e.viewerClipsEnabled,n=e.viewerConnectivity,i=(0,E.e7)([y.default],(function(){return y.default.locale})),a=o.useMemo((function(){return[{value:j.dJ.ALL,label:x.Z.Messages.CLIPS_CONNECTIVITY_ALL},{value:j.dJ.FRIENDS,label:x.Z.Messages.CLIPS_CONNECTIVITY_FRIENDS}]}),[i]);return(0,r.jsxs)(s.hj,{children:[(0,r.jsx)(s.j7,{className:M().formItem,hideBorder:!0,value:t,note:x.Z.Messages.CLIPS_SETTINGS_ALLOW_VIEWER_CLIPS_HELP,onChange:m.yl,children:x.Z.Messages.CLIPS_SETTINGS_ALLOW_VIEWER_CLIPS}),(0,r.jsx)(A,{className:M().formItem,title:x.Z.Messages.CLIPS_SETTINGS_WHO_CAN_CAPTURE,
note:x.Z.Messages.CLIPS_SETTINGS_WHO_CAN_CAPTURE_HELP,value:n,select:m.QM,options:a})]})}var Z=n(441143),L=n.n(Z),D=n(754780),U=n(363157),k=n(931439),G=n(461061),B=n(988662),H=n.n(B),V=n(808698),F=n.n(V);function Y(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function z(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function W(){var e=(0,E.cj)([b.Z],(function(){return b.Z.getSettings()})),t=e.clipsEnabled,n=e.clipsQuality,i=e.clipsLength,a=(0,E.e7)([k.Z],(function(){return k.Z.getKeybindForAction(G.kg4.SAVE_CLIP,!0)}))
;L()(null!=a,"Save clip keybind unset");var l=(0,E.e7)([y.default],(function(){return y.default.locale})),c=o.useMemo((function(){return[{value:j.Rp.DEFAULT,label:x.Z.Messages.CLIPS_QUALITY_DEFAULT}]}),[l]),u=o.useMemo((function(){return[{value:j.OT.SECONDS_30,label:x.Z.Messages.CLIPS_LENGTH_SECONDS.format({count:30})},{value:j.OT.MINUTES_1,label:x.Z.Messages.CLIPS_LENGTH_MINUTES.format({count:1})},{value:j.OT.MINUTES_2,label:x.Z.Messages.CLIPS_LENGTH_MINUTES.format({count:2})}]}),[l]),f=o.useCallback((function(e){D.Z.setKeybind(z(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Y(e,t,n[t])}))}return e}({},a),{shortcut:e}))}),[a]);return(0,r.jsxs)(s.hj,{children:[(0,r.jsx)(s.j7,{hideBorder:!0,className:F().formItem,value:t,
note:x.Z.Messages.CLIPS_SETTINGS_ENABLE_CLIPS_HELP,onChange:m.em,children:x.Z.Messages.CLIPS_SETTINGS_ENABLE_CLIPS}),(0,r.jsx)(C,{className:F().formItem,title:x.Z.Messages.CLIPS_SETTINGS_KEYBIND,note:x.Z.Messages.CLIPS_SETTINGS_KEYBIND_HELP,children:(0,r.jsx)("div",{className:H().keyRecorder,children:(0,r.jsx)(U.Z,{defaultValue:a.shortcut,onChange:f})})}),(0,r.jsx)(A,{className:F().formItem,select:m.yi,title:x.Z.Messages.CLIPS_SETTINGS_VIDEO_QUALITY,note:x.Z.Messages.CLIPS_SETTINGS_VIDEO_QUALITY_HELP,value:n,options:c}),(0,r.jsx)(A,{className:F().formItem,select:m.eU,title:x.Z.Messages.CLIPS_SETTINGS_LENGTH,note:x.Z.Messages.CLIPS_SETTINGS_LENGTH_HELP,value:i,options:u})]})}var K=n(891153);function q(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function X(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){q(i,r,o,a,s,"next",e)}function s(e){q(i,r,o,a,s,"throw",e)}
a(void 0)}))}}var Q=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0
}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function $(){var e=(0,E.e7)([b.Z],(function(){return b.Z.getSettings().storageLocation}));return(0,r.jsx)(s.hj,{children:(0,r.jsx)(P,{className:F().formItem,title:x.Z.Messages.CLIPS_SETTINGS_STORAGE_LOCATION,note:x.Z.Messages.CLIPS_SETTINGS_STORAGE_LOCATION_HELP,value:e,editable:!1,onClick:X((function(){var e;return Q(this,(function(t){switch(t.label){case 0:return[4,K.Z.fileManager.showOpenDialog({properties:["openDirectory"]})];case 1:(e=t.sent()).length>0&&m.T1(e[0]);return[2]}}))})),onChange:G.VqG})})}var J=n(193570),ee=n.n(J);function te(){var e=(0,h.Z)().AnalyticsLocationProvider;return(0,r.jsx)(e,{children:(0,r.jsxs)(s.y5,{component:(0,r.jsx)(s.X6,{variant:"heading-lg/extrabold",children:x.Z.Messages.CLIPS_CLIPPING}),children:[(0,r.jsx)(s.xv,{className:ee().subHeader,variant:"text-sm/medium",color:"header-secondary",children:x.Z.Messages.CLIPS_SETTINGS_TOP_SUBHEADER}),(0,r.jsxs)("form",{
className:ee().form,onSubmit:function(e){return e.preventDefault()},children:[(0,r.jsx)(W,{}),(0,r.jsx)(s.$i,{className:F().formItem}),(0,r.jsx)(w,{}),(0,r.jsx)(s.$i,{className:F().formItem}),(0,r.jsx)($,{})]})]})})}var ne=n(832010),re=n(444450),oe=n(180918),ie=n(537127),ae=n(487502),se=n(31165),le=n(462428),ce=n(824657),ue=n(380203),fe=n.n(ue);function de(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return de(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return de(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function he(e){var t=e.contents,n=e.content,o=e.onChange,i=(0,ce.jl)(t,a.z$[n]);return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(s.j7,{value:i,onChange:function(){o(n);i?(0,oe.w9)(a.z$[n]):(0,oe.nm)(a.z$[n])},children:(0,r.jsx)(s.R9,{size:le.Z.Sizes.SIZE_16,className:fe().marginTop4,children:"".concat(n.toLowerCase()," (").concat(a.z$[n],")")})})})}function Ee(e){var t=e.items,n=e.dismissedContents,o=e.handleChange;return(0,r.jsx)(r.Fragment,{children:t.filter((function(e){return isNaN(Number(e))})).map((function(e){return(0,r.jsx)(he,{contents:n,content:e,onChange:o},e)}))})}function ye(){
var e,t=pe(o.useState(""),2),n=t[0],i=t[1],l=null!==(e=(0,E.e7)([ie.Z],(function(){var e;return null===(e=ie.Z.settings.userContent)||void 0===e?void 0:e.dismissedContents})))&&void 0!==e?e:new Uint8Array,c=pe(function(e,t){var n=pe(o.useState((function(){var n=re.Z.get(e);return null!=n?n:t})),2),r=n[0],i=n[1];o.useEffect((function(){re.Z.set(e,r)}),[e,r]);return[r,i]}("RecentDismissibleOverrides",[]),2),u=c[0],f=c[1],d=function(e){f((function(t){var n=new Set(t);n.delete(e);var r=Array.from(n).slice(0,4);r.unshift(e);return r}))},p=u.filter((function(e){return e.toLowerCase().includes(n.toLowerCase())})),h=Object.keys(a.z$).filter((function(e){return!u.includes(e)})).filter((function(e){return e.toLowerCase().includes(n.toLowerCase())})).sort((function(e,t){return e.localeCompare(t)}));return(0,r.jsxs)(s.hj,{title:"Dismissible Contents",tag:s.RB.H1,children:[(0,r.jsx)(se.Z,{className:fe().marginBottom20,size:se.Z.Sizes.LARGE,query:n,onChange:i,onClear:function(){return i("")}
}),p.length>0?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:fe().marginBottom20,children:(0,r.jsx)(s.vw,{children:"Recent Overrides"})}),(0,r.jsx)(Ee,{items:p,dismissedContents:l,handleChange:d})]}):null,(0,r.jsx)(ae.Z,{className:O()(fe().marginBottom20,fe().marginTop20),children:(0,r.jsx)(s.vw,{children:"Available Dismissible Contents"})}),(0,r.jsx)(Ee,{items:h,dismissedContents:l,handleChange:d}),(0,r.jsx)(s.zx,{look:s.zx.Looks.LINK,onClick:oe.sr,children:"Clear All Dismissed Contents"})]})}var me=n(192202),be=n(874058),ge=n(276546),Oe=n(114193),ve=n(496486),_e=n.n(ve),Ie=n(365523),Se=n(579220),Te=n(730189),Ne=n(304546),Ce=n(944257),Ae=n(169364),Pe=n(466019),je=n(897576),xe=n(882699),Re=n(402801),Me=n(542270),we=n(750029),Ze=n(282004),Le=n(549867),De=n(301679),Ue=n(90816),ke=n(667519),Ge=n(730381),Be=n.n(Ge),He=n(493316),Ve=n(847949),Fe=n(974848),Ye=n.n(Fe);function ze(e){var t=e.achievementId,n=e.dateUnlocked,o=(0,we.oX)(t);if(null==o)return null
;var i=null!=n,a=o.name,l=o.description,c=o.hideDescriptionUntilUnlock,u=o.onAction,f=c&&!i,d=i?"header-primary":"text-muted",p=i?"header-secondary":"text-muted",h=Be()(n),E=null!=u&&i,y=E?s.P3:"div";return(0,r.jsxs)(y,{className:O()(Ye().container,E&&Ye().actionable),onClick:function(){E&&u()},children:[(0,r.jsx)("div",{className:Ye().iconContainer,children:(0,r.jsx)(Ve.Z,{achievementId:t,size:Ve.Z.Sizes.SIZE_40,unlocked:i})}),(0,r.jsxs)("div",{className:Ye().nameContainer,children:[null!=n&&(0,r.jsx)(s.xv,{variant:"text-xxs/semibold",color:"text-muted",className:Ye().unlocked,children:(0,He.Y4)(h)}),(0,r.jsx)(s.xv,{variant:"text-md/medium",color:d,children:a()}),(0,r.jsx)(s.xv,{variant:"text-xs/normal",color:p,children:f?"?????":l()})]})]})}var We=n(953141),Ke=n.n(We);function qe(e){var t=e.onBackClick,n=(0,E.e7)([ke.Z],(function(){return ke.Z.getAllUnlockedAchievements()})),i=o.useMemo((function(){return Object.values(n).sort((function(e,t){return t.dateUnlocked-e.dateUnlocked}))
}),[n]),a=o.useMemo((function(){return Object.values(we.LG).filter(Ue.lm).filter((function(e){return null==n[e.id]})).sort((function(e,t){return e.rarity-t.rarity}))}),[n]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.hj,{children:(0,r.jsxs)(s.P3,{onClick:t,className:Ke().backContainer,children:[(0,r.jsx)(De.Z,{direction:De.Z.Directions.LEFT,className:Ke().icon}),(0,r.jsx)(s.xv,{variant:"text-lg/normal",color:"text-normal",children:x.Z.Messages.BACK})]})}),(0,r.jsxs)("div",{className:Ke().headerContainer,children:[(0,r.jsxs)("div",{className:Ke().headerTextContainer,children:[(0,r.jsx)(s.X6,{variant:"heading-lg/extrabold",color:"header-primary",children:x.Z.Messages.POGGERMODE_ACHIEVEMENT_TITLE}),(0,r.jsx)(s.xv,{variant:"text-md/normal",color:"header-secondary",children:x.Z.Messages.POGGERMODE_ACHIEVEMENT_DESCRIPTION})]}),(0,r.jsx)("div",{className:Ke().headerIcon,children:(0,r.jsx)(Pe.Z,{color:(0,ne.Lq)(G.Ilk.ORANGE_345),width:40,height:40})})]}),i.length>0&&(0,r.jsx)(s.hj,{
className:Ke().divider,children:(0,r.jsx)("div",{className:Ke().achievementGrid,children:i.map((function(e){var t=e.achievementId,n=e.dateUnlocked;return(0,r.jsx)(ze,{achievementId:t,dateUnlocked:n},t)}))})}),a.length>0&&(0,r.jsxs)(s.hj,{className:Ke().divider,children:[(0,r.jsx)("div",{className:Ke().headerTextContainer,children:(0,r.jsx)(s.xv,{variant:"text-md/bold",color:"header-secondary",children:x.Z.Messages.POGGERMODE_ACHIEVEMENT_LOCKED_TITLE})}),(0,r.jsx)("div",{className:Ke().achievementGrid,children:a.map((function(e){return(0,r.jsx)(ze,{achievementId:e.id},e.id)}))})]}),(0,r.jsx)(s.hj,{className:Ke().divider,children:(0,r.jsx)("div",{className:Ke().bottomPadding})})]})}var Xe=n(409112),Qe=n(452689),$e=n(438235),Je=n.n($e);function et(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tt(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function nt(e){return function(){
var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){tt(i,r,o,a,s,"next",e)}function s(e){tt(i,r,o,a,s,"throw",e)}a(void 0)}))}}function rt(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){rt(e,t,n[t])}))}return e}function it(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){
Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function at(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return et(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return et(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var st,lt,ct=function(e,t){var n,r,o,i,a={label:0,
sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{
value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},ut={enabled:!0,combosEnabled:!0,screenshakeEnabled:!1,confettiEnabled:!1},ft=(0,ve.range)(0,11),dt=(0,ve.range)(0,2.25,.25),pt=(0,ve.range)(1,11),ht=(0,ve.range)(1,26);!function(e){e[e.CONFETTI=0]="CONFETTI";e[e.SHAKE=1]="SHAKE"}(st||(st={}));!function(e){e[e.USER_SETTINGS=0]="USER_SETTINGS";e[e.ACHIEVEMENT_LIST=1]="ACHIEVEMENT_LIST"}(lt||(lt={}));function Et(e){var t=e.disabled,n=e.locations,o=e.settingsLocations,i=e.onChange,a=n.map((function(e){return(0,r.jsx)(s.j7,{disabled:t,value:o[e.location],note:e.description,onChange:function(t){return i(it(ot({},o),rt({},e.location,t)))},children:e.title},e.location)}));return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.vw,{children:x.Z.Messages.POGGERMODE_LOCATIONS}),a]})}function yt(e){var t=e.children;return(0,r.jsx)(s.xv,{className:Je().sliderDescription,variant:"text-sm/normal",color:"header-secondary",children:t})}function mt(e){
var t=e.settings,o=t.enabled,i=t.warningSeen,a=e.updateSettings,l=(0,E.e7)([Te.Z],(function(){return Te.Z.useReducedMotion}));return(0,r.jsx)(s.j7,{value:o,note:x.Z.Messages.POGGERMODE_ENABLE_DESCRIPTION,onChange:function(e){e||(0,Me.T)(we.hn.DISABLE_POGGERMODE);!e||i&&!l?a({enabled:e}):(0,je.ZD)(nt((function(){var e,t;return ct(this,(function(o){switch(o.label){case 0:return[4,Promise.resolve().then(n.bind(n,30741))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,it(ot({header:l?x.Z.Messages.POGGERMODE_WARNING_TITLE_REDUCED_MOTION:x.Z.Messages.POGGERMODE_WARNING_TITLE,confirmText:x.Z.Messages.ENABLE,cancelText:x.Z.Messages.CANCEL,onConfirm:function(){return a(l?ut:{enabled:!0,warningSeen:!0})}},e),{children:(0,r.jsx)(s.xv,{variant:"text-md/normal",children:l?x.Z.Messages.POGGERMODE_WARNING_BODY_REDUCED_MOTION:x.Z.Messages.POGGERMODE_WARNING_BODY})}))}]}}))})))},children:x.Z.Messages.POGGERMODE_ENABLE})}function bt(e){
var t=e.settings,n=t.enabled,o=t.confettiEnabled,i=t.confettiCount,a=t.confettiSize,l=t.confettiEnabledLocations,c=e.updateSettings,u=!n||!o;return(0,r.jsxs)(s.hj,{tag:s.RB.H1,title:x.Z.Messages.POGGERMODE_CONFETTI_CUSTOMIZATION,children:[(0,r.jsx)(s.j7,{disabled:!n,value:o,note:x.Z.Messages.POGGERMODE_CONFETTI_ENABLED_DESCRIPTION,onChange:function(e){return c({confettiEnabled:e},st.CONFETTI)},children:x.Z.Messages.POGGERMODE_CONFETTI_ENABLED}),(0,r.jsxs)(s.xJ,{disabled:u,title:x.Z.Messages.POGGERMODE_CONFETTI_COUNT,className:Je().formItem,children:[(0,r.jsx)(yt,{children:x.Z.Messages.POGGERMODE_CONFETTI_COUNT_DESCRIPTION}),(0,r.jsx)(s.iR,{disabled:u,markers:pt,stickToMarkers:!0,minValue:pt[0],maxValue:pt[pt.length-1],initialValue:i,onValueChange:function(e){return c({confettiCount:e},st.CONFETTI)},onValueRender:function(e){return"".concat(e)}})]}),(0,r.jsxs)(s.xJ,{disabled:u,title:x.Z.Messages.POGGERMODE_CONFETTI_SIZE,className:Je().formItem,children:[(0,r.jsx)(yt,{
children:x.Z.Messages.POGGERMODE_CONFETTI_SIZE_DESCRIPTION}),(0,r.jsx)(s.iR,{disabled:u,markers:ht,stickToMarkers:!0,minValue:ht[0],maxValue:ht[ht.length-1],initialValue:a,onValueChange:function(e){return c({confettiSize:e},st.CONFETTI)},onValueRender:function(e){return"".concat(e)}})]}),(0,r.jsx)(Et,{disabled:u,locations:[{location:Qe.Hn.CHAT_INPUT,title:x.Z.Messages.POGGERMODE_CONFETTI_LOCATION_CHAT_INPUT_ENABLED,description:x.Z.Messages.POGGERMODE_CONFETTI_LOCATION_CHAT_INPUT_ENABLED_DESCRIPTION},{location:Qe.Hn.REACTION,title:x.Z.Messages.POGGERMODE_CONFETTI_LOCATION_REACTION_ENABLED,description:x.Z.Messages.POGGERMODE_CONFETTI_LOCATION_REACTION_ENABLED_DESCRIPTION},{location:Qe.Hn.MEMBER_USER,title:x.Z.Messages.POGGERMODE_CONFETTI_LOCATION_MEMBER_USER_ENABLED,description:x.Z.Messages.POGGERMODE_CONFETTI_LOCATION_MEMBER_USER_ENABLED_DESCRIPTION},{location:Qe.Hn.CALL_TILE,title:x.Z.Messages.POGGERMODE_CONFETTI_LOCATION_CALL_TILE_ENABLED,
description:x.Z.Messages.POGGERMODE_CONFETTI_LOCATION_CALL_TILE_ENABLED_DESCRIPTION}],settingsLocations:l,onChange:function(e){return c({confettiEnabledLocations:e},st.CONFETTI)}})]})}function gt(e){var t=e.settings,n=t.enabled,o=t.combosEnabled,i=t.comboSoundsEnabled,a=t.combosRequiredCount,l=e.updateSettings,c=!n||!o;return(0,r.jsxs)(s.hj,{tag:s.RB.H1,title:x.Z.Messages.POGGERMODE_COMBOS_CUSTOMIZATION,children:[(0,r.jsx)(s.j7,{disabled:!n,value:o,note:x.Z.Messages.POGGERMODE_COMBOS_ENABLED_DESCRIPTION,onChange:function(e){return l({combosEnabled:e})},children:x.Z.Messages.POGGERMODE_COMBOS_ENABLED}),(0,r.jsx)(s.j7,{disabled:!n,value:i,note:x.Z.Messages.POGGERMODE_COMBO_SOUNDS_ENABLED_DESCRIPTION,onChange:function(e){return l({comboSoundsEnabled:e})},children:x.Z.Messages.POGGERMODE_COMBO_SOUNDS_ENABLED}),(0,r.jsxs)(s.xJ,{disabled:c,title:x.Z.Messages.POGGERMODE_COMBOS_REQUIRED,className:Je().formItem,children:[(0,r.jsx)(yt,{children:x.Z.Messages.POGGERMODE_COMBOS_REQUIRED_DESCRIPTION
}),(0,r.jsx)(s.iR,{disabled:c,markers:ft,stickToMarkers:!0,minValue:ft[0],maxValue:ft[ft.length-1],initialValue:a,onValueChange:function(e){return l({combosRequiredCount:e})},onValueRender:function(e){return"".concat(e)}})]}),(0,r.jsx)(s.$i,{className:Je().divider})]})}function Ot(e){var t=e.settings,n=t.enabled,o=t.screenshakeEnabled,i=t.shakeIntensity,a=t.screenshakeEnabledLocations,l=e.updateSettings,c=(0,E.e7)([Te.Z],(function(){return Te.Z.useReducedMotion})),u=!n||!o||c;return(0,r.jsxs)(s.hj,{tag:s.RB.H1,title:x.Z.Messages.POGGERMODE_SCREENSHAKE_CUSTOMIZATION,children:[(0,r.jsx)(s.j7,{disabled:!n||c,tooltipNote:c?x.Z.Messages.POGGERMODE_SCREENSHAKE_DISABLED_REDUCED_MOTION:null,value:o&&!c,note:x.Z.Messages.POGGERMODE_SCREENSHAKE_ENABLED_DESCRIPTION,onChange:function(e){return l({screenshakeEnabled:e},st.SHAKE)},children:x.Z.Messages.POGGERMODE_SCREENSHAKE_ENABLED}),(0,r.jsxs)(s.xJ,{disabled:u,title:x.Z.Messages.POGGERMODE_SCREENSHAKE,className:Je().formItem,children:[(0,
r.jsx)(yt,{children:x.Z.Messages.POGGERMODE_SCREENSHAKE_DESCRIPTION}),(0,r.jsx)(s.iR,{disabled:u,markers:dt,equidistant:!0,stickToMarkers:!0,minValue:dt[0],maxValue:dt[dt.length-1],initialValue:i,onValueChange:function(e){return function(e,t){null!=e.shakeIntensity&&e.shakeIntensity>i&&(0,Me.T)(we.hn.MORE);l(e,t)}({shakeIntensity:e},st.SHAKE)},onMarkerRender:function(e){return e===dt[dt.length-1]?x.Z.Messages.POGGERMODE_SCREENSHAKE_MAX:"".concat(100*e,"%")}})]}),(0,r.jsx)(Et,{disabled:u,locations:[{location:Qe.oZ.CHAT_INPUT,title:x.Z.Messages.POGGERMODE_SCREENSHAKE_LOCATION_CHAT_INPUT_ENABLED,description:x.Z.Messages.POGGERMODE_SCREENSHAKE_LOCATION_CHAT_INPUT_ENABLED_DESCRIPTION},{location:Qe.oZ.VOICE_USER,title:x.Z.Messages.POGGERMODE_SCREENSHAKE_LOCATION_VOICE_USER_ENABLED,description:x.Z.Messages.POGGERMODE_SCREENSHAKE_LOCATION_VOICE_USER_ENABLED_DESCRIPTION},{location:Qe.oZ.MENTION,title:x.Z.Messages.POGGERMODE_SCREENSHAKE_LOCATION_MENTION_ENABLED,
description:x.Z.Messages.POGGERMODE_SCREENSHAKE_LOCATION_MENTION_ENABLED_DESCRIPTION}],settingsLocations:a,onChange:function(e){return l({screenshakeEnabledLocations:e},st.SHAKE)}})]})}function vt(e){var t=e.updateSettings;return(0,r.jsx)(s.hj,{tag:s.RB.H1,title:x.Z.Messages.POGGERMODE_SETTINGS_CUSTOMIZATION,children:(0,r.jsxs)(s.xJ,{className:Je().formItem,children:[(0,r.jsx)(s.R9,{className:Je().formItem,children:x.Z.Messages.POGGERMODE_HIDE_SETTINGS_DESCRIPTION}),(0,r.jsx)(s.zx,{className:Je().hideButton,size:s.zx.Sizes.SMALL,onClick:function(){t({enabled:!1,settingsVisible:!1});(0,Se.xf)()},children:x.Z.Messages.POGGERMODE_HIDE_SETTINGS})]})})}function _t(e){var t=e.onChangePage;return(0,r.jsxs)(s.hj,{children:[(0,r.jsxs)(s.P3,{onClick:function(){return t(lt.ACHIEVEMENT_LIST)},className:Je().achievementContainer,children:[(0,r.jsx)("div",{className:Je().achievementIconContainer,children:(0,r.jsx)(Pe.Z,{color:(0,ne.Lq)(G.Ilk.ORANGE_345)})}),(0,r.jsxs)("div",{
className:Je().achievementTextContainer,children:[(0,r.jsx)(s.X6,{variant:"heading-md/semibold",color:"header-primary",children:x.Z.Messages.POGGERMODE_ACHIEVEMENT_TITLE}),(0,r.jsx)(s.xv,{variant:"text-md/normal",color:"header-secondary",children:x.Z.Messages.POGGERMODE_ACHIEVEMENT_DESCRIPTION})]}),(0,r.jsx)(Ae.Z,{width:16,className:Je().rightCaretIcon})]}),(0,r.jsx)(s.$i,{className:Je().divider})]})}var It=function(){return n.e(37948).then(n.t.bind(n,394198,19)).then((function(e){return e.default}))};function St(e){var t=e.onChangePage,n=e.setShowEnableAnimation,i=function(e,t,n,r){return(null!=t?t:e)&&(null!=r?r:n)},a=(0,E.cj)([Oe.Z],(function(){return Oe.Z.getState()})),l=o.useRef(new Ie.V7),c=at(o.useState(!1),2),u=c[0],f=c[1],d=at(o.useState({x:0,y:0}),2),p=d[0],h=d[1],y=function(e,t){!function(e){if(e.enabled&&!1===a.enabled){n(!0);(0,Re.GN)("poggermode_enabled");var t;xe.S.dispatch(G.CkL.SHAKE_APP,{duration:2e3,intensity:null!==(t=e.shakeIntensity)&&void 0!==t?t:a.shakeIntensity
})}}(e);(0,Ze.AI)(e);if(null!=t){var r=t===st.CONFETTI,o=i(a.confettiEnabled,e.confettiEnabled,a.enabled,e.enabled);if(r&&o){f(!0);l.current.start(2*Xe.z,(function(){f(!0);l.current.start(2*Xe.z,(function(){return f(!1)}))}))}var s=t===st.SHAKE,c=i(a.screenshakeEnabled,e.screenshakeEnabled,a.enabled,e.enabled);if(s&&c){var u;xe.S.dispatch(G.CkL.SHAKE_APP,{duration:1e3,intensity:null!==(u=e.shakeIntensity)&&void 0!==u?u:a.shakeIntensity})}}},m=function(e){h({x:e.clientX,y:e.clientY})};o.useEffect((function(){var e=l.current;window.addEventListener("mousemove",m);return function(){e.stop();window.removeEventListener("mousemove",m)}}),[]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.X6,{variant:"heading-lg/semibold",className:Je().title,children:x.Z.Messages.POGGERMODE}),(0,r.jsx)(mt,{settings:a,updateSettings:y}),(0,r.jsx)(_t,{onChangePage:t}),(0,r.jsx)(gt,{settings:a,updateSettings:y}),(0,r.jsx)(Ot,{settings:a,updateSettings:y}),(0,r.jsx)(bt,{settings:a,updateSettings:y}),(0,
r.jsx)(vt,{updateSettings:y}),(0,r.jsx)(Le.Z,{firing:u,position:p})]})}var Tt=function(e,t,n){var o=function(e){return function(){t(e)}};switch(e){case lt.USER_SETTINGS:return(0,r.jsx)(St,{onChangePage:o(lt.ACHIEVEMENT_LIST),setShowEnableAnimation:n});case lt.ACHIEVEMENT_LIST:return(0,r.jsx)(qe,{onBackClick:o(lt.USER_SETTINGS)});default:return null}},Nt=function(e){return e===lt.USER_SETTINGS?Ce.n.LEFT:Ce.n.RIGHT};function Ct(){var e=at(o.useState(lt.USER_SETTINGS),2),t=e[0],n=e[1],i=at(o.useState(Nt(t)),2),a=i[0],s=i[1],l=at(o.useState(!1),2),c=l[0],u=l[1],f=(0,E.e7)([Te.Z],(function(){return Te.Z.useReducedMotion})),d=c&&!f;o.useEffect((function(){var e=setTimeout((function(){s(Nt(t))}),500);return function(){return clearTimeout(e)}}),[t]);o.useEffect((function(){Math.random()>.99&&(0,Me.T)(we.hn.VISITOR_100)}),[]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Ce.Z,{className:Je().slideAnimator,step:t,direction:a,children:Tt(t,n,u)}),(0,r.jsx)("div",{
className:d?Je().enableAnimationOverlayVisible:Je().enableAnimationOverlayHidden,children:(0,r.jsx)(Ne.Z,{className:Je().enableAnimation,importData:It,shouldAnimate:d,autoplay:!1,resetOnPlay:!0,loop:!1,onComplete:function(){return u(!1)}})})]})}var At=n(548390),Pt=n(737325),jt=n(361417),xt=n(358623),Rt=n(174034),Mt=n(915222),wt=n(757073),Zt=n(720897),Lt=n(276842),Dt=n(597970),Ut=n.n(Dt),kt=n(56397),Gt=n.n(kt),Bt=n(50682),Ht=n.n(Bt);function Vt(e){var t=e.onClickManageSubscription,n=(0,E.e7)([Zt.Z],(function(){return Zt.Z.getSubscriptions()})),i=o.useMemo((function(){return Object.values(null!=n?n:{}).filter((function(e){return e.type===G.NYc.APPLICATION&&e.status!==G.O0b.ENDED}))}),[n]);return 0===i.length?null:(0,r.jsxs)("div",{className:Ut().container,children:[(0,r.jsx)(s.X6,{variant:"heading-md/semibold",className:Ut().sectionTitle,children:x.Z.Messages.APPLICATION_USER_SUBSCRIPTIONS_TITLE}),(0,r.jsx)(Lt.Z,{size:4}),(0,r.jsx)(s.xv,{variant:"text-sm/normal",
className:Ut().sectionDescription,children:x.Z.Messages.APPLICATION_USER_SUBSCRIPTIONS_DESCRIPTION}),(0,r.jsx)(Lt.Z,{size:24}),(0,r.jsxs)("div",{className:O()(Gt().guildBoostingSubscriptionRow,Ut().card),children:[(0,r.jsx)("img",{src:Ht(),alt:"",className:Ut().bannerImage}),(0,r.jsxs)("div",{className:Ut().textContainer,children:[(0,r.jsx)(s.X6,{variant:"heading-xl/semibold",className:Ut().header,children:x.Z.Messages.APPLICATION_USER_SUBSCRIPTIONS_TITLE}),(0,r.jsx)(s.xv,{variant:"text-md/normal",className:Ut().description,children:x.Z.Messages.APPLICATION_ACTIVE_USER_SUBSCRIPTIONS_DESCRIPTION.format({numSubscriptions:i.length})})]}),(0,r.jsx)(wt.Z,{color:s.zx.Colors.BRAND,onClick:t,children:x.Z.Messages.APPLICATION_MANAGE_SUBSCRIPTIONS_BUTTON})]})]})}var Ft=n(818445),Yt=n(130462),zt=n(997903),Wt=n(732025),Kt=n(615522),qt=n(212658),Xt=n(433656),Qt=n(707955),$t=n(969225),Jt=n(221713),en=n(146724),tn=n.n(en);const nn=function(e){var t=e.label,n=e.onClick,o=e.submitting;return(0,
r.jsx)(s.P3,{onClick:o?void 0:n,className:tn().button,children:(0,r.jsxs)("div",{className:tn().contentContainer,children:[o?(0,r.jsx)(s.$j,{type:s.$j.Type.PULSING_ELLIPSIS,className:tn().spinner}):(0,r.jsx)(s.xv,{variant:"text-md/medium",className:tn().label,children:t}),(0,r.jsx)(Jt.Z,{className:tn().arrow})]})})};var rn=n(757987),on=n(272729),an=n(436035),sn=n(226300),ln=n(525037),cn=n(75736),un=n(653772),fn=n(922877),dn=n(56435),pn=n(835104),hn=n(551589);function En(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return
;if("string"==typeof e)return En(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return En(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mn(e){var t=(0,hn.bZ)(e),n=(0,E.e7)([pn.Z],(function(){return pn.Z.getSubscriptionListingForPlan(t)}),[t]),r=(0,E.e7)([pn.Z],(function(){return null!=n?pn.Z.getSubscriptionGroupListingForSubscriptionListing(n.id):null}),[n]),i=(0,E.e7)([fn.Z],(function(){var t=fn.Z.getForSubscription(e.id);if(null!=t){return yn(Array.from(t),1)[0]}return null}),[e]),a=(0,E.e7)([cn.Z],(function(){if(null!=i){var e=cn.Z.getApplication(i.applicationId);if(null!=e)return e}}),[i]),s=(0,E.e7)([un.Z],(function(){
if(null!=i)return un.Z.getGuild(i.guildId)}),[i]),l=yn(o.useState(!1),2),c=l[0],u=l[1],f=null==n?void 0:function(e){var t=e.listing,n=e.subscription,r=n.currentPeriodEnd,o=t.subscription_plans[0],i=(0,dn.T4)(o.price,o.currency),a=n.createdAt,s=n.status===G.O0b.CANCELED,l=n.status===G.O0b.PAST_DUE;return{subscribedSinceDate:a,currentPeriodEndDate:r,currentPeriodEndLabel:Be()().isAfter(n.currentPeriodEnd)?x.Z.Messages.APPLICATION_MANAGE_SUBSCRIPTION_INFO_SUBSCRIPTION_ENDED:x.Z.Messages.APPLICATION_MANAGE_SUBSCRIPTION_INFO_SUBSCRIPTION_ENDS,subscriptionPlanPrice:i,isCancelled:s,isPastDue:l}}({listing:n,subscription:e});return{application:a,guild:s,expanded:c,handleToggleExpanded:function(){return u((function(e){return!e}))},listing:n,groupListing:r,subscriptionInfo:f}}var bn=n(101673),gn=n.n(bn);function On(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vn(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}
s.done?t(l):Promise.resolve(l).then(r,o)}function _n(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){vn(i,r,o,a,s,"next",e)}function s(e){vn(i,r,o,a,s,"throw",e)}a(void 0)}))}}function In(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Sn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){In(e,t,n[t])}))}return e}function Tn(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Nn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return On(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return On(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Cn=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){
a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},An=function(e){var t=e.label,n=e.value,o=e.showInfoIcon,i=e.infoIconTooltipText;return(0,r.jsxs)("div",{className:gn().infoCard,children:[(0,r.jsxs)("div",{className:gn().infoCardLabelContainer,children:[(0,r.jsx)(s.X6,{variant:"heading-deprecated-12/semibold",className:gn().infoCardLabel,children:t}),o&&(0,r.jsx)(rn.ZP,{text:i,children:function(e){return(0,r.jsx)(an.Z,Tn(Sn({},e),{className:gn().infoCardIcon}))}})]}),(0,r.jsx)(s.X6,{variant:"heading-xl/semibold",className:gn().infoCardValue,children:n})]})},Pn=function(e){var t=e.subscription,n=Nn((0,qt.ED)({subscriptionId:t.id,renewal:!0}),1)[0],o=(0,E.e7)([Qt.Z],(function(){return Qt.Z.hasFetchedPaymentSources}));return null!=n&&o?(0,r.jsx)(Xt.Z,{subscription:t,currentInvoicePreview:n,
dropdownClassName:gn().paymentSourceDropdown}):(0,r.jsx)(s.$j,{})},jn=function(e){var t=e.isCancelled,n=e.onCancelSubscriptionClick;return t?null:(0,r.jsxs)("div",{children:[(0,r.jsx)(s.vw,{children:x.Z.Messages.APPLICATION_MANAGE_SUBSCRIPTION_MANAGE_OPTIONS_LABEL}),(0,r.jsx)("div",{className:gn().rowButtons,children:(0,r.jsx)(nn,{label:x.Z.Messages.APPLICATION_MANAGE_SUBSCRIPTION_MANAGE_OPTIONS_CANCEL,onClick:n})})]})};const xn=function(e){var t=e.subscription,o=mn(t),i=o.listing,a=o.groupListing,l=o.guild,c=o.expanded,u=o.handleToggleExpanded,f=o.subscriptionInfo,d=o.application,p=(0,on.Dt)();if(null==a||null==i||null==f)return null;var h,E=function(){null!=l&&null!=d&&(0,je.ZD)(_n((function(){var e,o;return Cn(this,(function(a){switch(a.label){case 0:return[4,Promise.all([n.e(40532),n.e(78487)]).then(n.bind(n,778487))];case 1:e=a.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,Sn({application:d,listing:i,subscription:t},e))}]}}))})))
},y=f.isCancelled,m=f.isPastDue,b=f.subscriptionPlanPrice,g=f.subscribedSinceDate,v=f.currentPeriodEndDate,_=f.currentPeriodEndLabel,I=i.soft_deleted||null==l||null==d;return(0,r.jsxs)("div",{className:gn().container,children:[(0,r.jsx)(Wt.Z,{onClick:u,className:gn().headerContainer,children:function(e){var t=e.areaRef,n=e.handleStopPropagation;return(0,r.jsxs)(r.Fragment,{children:[null!=d&&(0,r.jsx)(ln.Z,{size:ln.H.SMALL,className:gn().applicationIcon,application:d}),(0,r.jsxs)("div",{className:gn().headerTextContainer,children:[(0,r.jsx)(s.xv,{variant:"text-md/medium",className:gn().applicationName,children:null!=d?d.name:x.Z.Messages.APPLICATION_MANAGE_SUBSCRIPTION_CARD_APPLICATION_NAME_UNAVAILABLE}),(0,r.jsxs)("div",{className:gn().headerSubtitleContainer,children:[(0,r.jsxs)(s.xv,{variant:"text-sm/normal",className:gn().tierName,children:[x.Z.Messages.APPLICATION_MANAGE_SUBSCRIPTION_CARD_IN_GUILD.format({
guildName:null!==(h=null==l?void 0:l.name)&&void 0!==h?h:x.Z.Messages.APPLICATION_MANAGE_SUBSCRIPTION_CARD_GUILD_NAME_UNAVAILABLE}),null!=l&&(0,r.jsx)($t.Z,{guild:l,size:$t.Z.Sizes.MINI,className:gn().guildIcon})]}),y?(0,r.jsx)(sn.IG,{text:x.Z.Messages.APPLICATION_MANAGE_SUBSCRIPTION_CANCELED}):m?(0,r.jsx)(rn.ZP,{text:x.Z.Messages.APPLICATION_SUBSCRIPTION_USER_SUBSCRIPTION_PAST_DUE_WARNING,children:function(e){return(0,r.jsx)("div",Tn(Sn({},e),{children:(0,r.jsx)(sn.IG,{className:gn().paymentDueBadge,text:x.Z.Messages.APPLICATION_MANAGE_SUBSCRIPTION_PAST_DUE,color:zt.Z.YELLOW_300})}))}}):null]})]}),(0,r.jsx)(s.P3,{onClick:n(u),"aria-label":x.Z.Messages.APPLICATION_SUBSCRIPTION_TOGGLE_SECTION_LABEL,"aria-controls":p,"aria-expanded":c,focusProps:{ringTarget:t},children:(0,r.jsx)(Jt.Z,{className:O()(gn().arrowIcon,In({},gn().arrowIconExpanded,c))})})]})}}),c?(0,r.jsxs)("div",{id:p,children:[(0,r.jsx)("div",{className:gn().divider}),(0,r.jsx)(Kt.Z,{groupListingId:a.id,subscription:t,
className:gn().changePlanNotice}),(0,r.jsxs)("div",{className:gn().subscriptionInfoCards,children:[(0,r.jsx)(An,{label:_,value:x.Z.Messages.APPLICATION_MANAGE_SUBSCRIPTION_INFO_CURRENT_PERIOD_END_DATE.format({timestamp:v.getTime()})}),(0,r.jsx)(An,{label:x.Z.Messages.APPLICATION_MANAGE_SUBSCRIPTION_INFO_PRICE,value:b}),(0,r.jsx)(An,{label:x.Z.Messages.APPLICATION_MANAGE_SUBSCRIPTION_INFO_SUBSCRIBED_SINCE,value:x.Z.Messages.APPLICATION_MANAGE_SUBSCRIPTION_INFO_SUBSCRIBED_SINCE_DATE.format({timestamp:g.getTime()})})]}),(0,r.jsx)(Lt.Z,{size:16}),!y&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.vw,{children:x.Z.Messages.APPLICATION_MANAGE_SUBSCRIPTION_PAYMENT_METHOD_LABEL}),(0,r.jsx)(Pn,{subscription:t})]}),!I&&(0,r.jsx)(jn,{isCancelled:y,onCancelSubscriptionClick:E})]}):null]})};var Rn=n(888197),Mn=n.n(Rn);const wn=function(e){var t,n=e.onGoBack,o=(0,E.e7)([Zt.Z],(function(){return null!==(t=Zt.Z.getActiveApplicationSubscriptions())&&void 0!==t?t:[]})),i=(0,Yt.sp)(o).loading,a=(0,
Yt.qz)().loadState;return i||a!==Yt.jd.LOADED?(0,r.jsx)(s.$j,{}):0===o.length?null:(0,r.jsxs)("div",{className:Mn().container,children:[(0,r.jsxs)(s.zx,{look:s.zx.Looks.BLANK,innerClassName:Mn().backButtonContents,onClick:n,children:[(0,r.jsx)(Ft.Z,{className:Mn().arrowIcon}),x.Z.Messages.APPLICATION_MANAGE_SUBSCRIPTION_PAGE_BACK_CTA]}),(0,r.jsx)(Lt.Z,{size:10}),(0,r.jsx)(s.vw,{tag:"h1",children:x.Z.Messages.APPLICATION_MANAGE_SUBSCRIPTION_PAGE_TITLE}),(0,r.jsx)(s.xv,{variant:"text-sm/normal",className:Mn().pageDescription,children:x.Z.Messages.APPLICATION_MANAGE_SUBSCRIPTION_PAGE_DESCRIPTION}),(0,r.jsx)("div",{className:Mn().subscriptionsContainer,children:o.map((function(e){return(0,r.jsx)(xn,{subscription:e},e.id)}))})]})};var Zn=n(767121),Ln=n(58131),Dn=n.n(Ln),Un=n(709804),kn=n.n(Un);function Gn(e){var t=e.onClickManageSubscription,n=(0,E.e7)([Zt.Z],(function(){return Zt.Z.getSubscriptions()})),i=o.useMemo((function(){return Object.values(null!=n?n:{}).filter((function(e){
return e.type===G.NYc.GUILD})).filter((function(e){return e.status!==G.O0b.ENDED}))}),[n]);return 0===i.length?null:(0,r.jsxs)("div",{className:Dn().container,children:[(0,r.jsx)(s.X6,{variant:"heading-md/semibold",className:Dn().sectionTitle,children:x.Z.Messages.GUILD_ROLE_SUBSCRIPTIONS_USER_SUBSCRIPTIONS_TITLE}),(0,r.jsx)(Lt.Z,{size:4}),(0,r.jsx)(s.xv,{variant:"text-sm/normal",className:Dn().sectionDescription,children:x.Z.Messages.GUILD_ROLE_SUBSCRIPTIONS_USER_SUBSCRIPTIONS_DESCRIPTION}),(0,r.jsx)(Lt.Z,{size:24}),(0,r.jsxs)("div",{className:O()(Gt().guildBoostingSubscriptionRow,Dn().card),children:[(0,r.jsx)("img",{src:kn(),alt:"",className:Dn().handImage}),(0,r.jsxs)("div",{className:Dn().textContainer,children:[(0,r.jsx)(s.X6,{variant:"heading-xl/semibold",className:Dn().header,children:x.Z.Messages.GUILD_ROLE_SUBSCRIPTIONS_USER_SUBSCRIPTIONS_TITLE}),(0,r.jsx)(s.xv,{variant:"text-md/normal",className:Dn().description,
children:x.Z.Messages.GUILD_ROLE_SUBSCRIPTIONS_ACTIVE_USER_SUBSCRIPTIONS_DESCRIPTION.format({numSubscriptions:i.length})})]}),(0,r.jsx)(wt.Z,{color:s.zx.Colors.BRAND,onClick:t,children:x.Z.Messages.GUILD_ROLE_SUBSCRIPTIONS_MANAGE_SUBSCRIPTIONS_BUTTON})]})]})}var Bn=n(606076),Hn=n(261317),Vn=n(954946),Fn=n(45451),Yn=n(80142);function zn(){var e=(0,E.e7)([Fn.Z],(function(){return Fn.Z.getGuildIdsWithPurchasableRoles()}));return(0,E.e7)([Fn.Z],(function(){var t=!0,n=!1,r=void 0;try{for(var o,i=e[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;if(Fn.Z.getUserSubscriptionRoles(a).size>0)return!0}}catch(e){n=!0;r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return!1}),[e])?Yn.PY.SUBSCRIBED:0===e.size?Yn.PY.NONE:Yn.PY.IN_SUBSCRIPTION_SERVER}var Wn=[];function Kn(e){var t,n=e.ensureFresh,r=e.hasFetched,o=e.hasRoleSubscriptions,i=Zt.Z.getActiveGuildSubscriptions()
;return!(0!==(null!==(t=null==i?void 0:i.length)&&void 0!==t?t:0)||!o)||(!(!n||r)||!r&&!Zt.Z.hasFetchedSubscriptions())}var qn=n(193059),Xn=n(975533),Qn=n(655695),$n=n(653191),Jn=n(394616);function er(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return er(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return er(e,t)
}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nr(e){var t=(0,Jn.W)(e),n=(0,E.e7)([$n.Z],(function(){return $n.Z.getSubscriptionListingForPlan(t)})),r=(0,E.e7)([$n.Z],(function(){return null!=n?$n.Z.getSubscriptionGroupListingForSubscriptionListing(n.id):null})),i=(0,E.e7)([un.Z],(function(){return un.Z.getGuild(null==r?void 0:r.guild_id)})),a=tr(o.useState(!1),2),s=a[0],l=a[1],c=(0,Vn.JH)().fetchSubscriptionsSettings;o.useEffect((function(){s&&null!=i&&c(i.id)}),[s,i,c]);var u=null==n?void 0:function(e){var t=e.listing,n=e.subscription,r=Be()(n.currentPeriodEnd).format("M/D/YY"),o=t.subscription_plans[0],i=(0,dn.T4)(o.price,o.currency),a=Be()(n.createdAt).format("M/D/YY"),s=n.status===G.O0b.CANCELED,l=n.status===G.O0b.PAST_DUE,c=null!=n.trialId;return{memberSince:a,nextRenewalDate:r,
nextRenewalLabel:s?x.Z.Messages.GUILD_ROLE_MANAGE_SUBSCRIPTION_INFO_MEMBERSHIP_ENDS:x.Z.Messages.GUILD_ROLE_MANAGE_SUBSCRIPTION_INFO_NEXT_RENEWAL,subscriptionPlanPrice:i,isCancelled:s,isPastDue:l,isTrial:c}}({listing:n,subscription:e});return{guild:i,expanded:s,handleToggleExpanded:function(){return l((function(e){return!e}))},listing:n,groupListing:r,subscriptionInfo:u}}var rr=n(859169),or=n(67416),ir=n(935406),ar=n(331454),sr=n(666309),lr=n.n(sr);function cr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ur(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function fr(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ur(i,r,o,a,s,"next",e)}function s(e){ur(i,r,o,a,s,"throw",e)}a(void 0)}))}}function dr(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}
function pr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return cr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var hr=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={
next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Er=function(e){
var t,n,i=e.transitionState,a=e.groupListing,l=e.guildId,c=e.listing,u=e.subscription,f=e.onClose,d=(0,on.Dt)(),p=(0,Vn.YB)(l),E=null!=(null==p||null===(t=p.cover_image_asset)||void 0===t?void 0:t.application_id)?(0,ir._W)(p.cover_image_asset.application_id,p.cover_image_asset,440):void 0,y=function(e){var t,n=pr(o.useState(!1),2),r=n[0],i=n[1],a=pr(o.useState(null),2),s=a[0],l=a[1],c=(t=fr((function(t){var n;return hr(this,(function(r){switch(r.label){case 0:r.trys.push([0,2,3,4]);i(!0);return[4,Pt.EO(t,e)];case 1:r.sent();return[2,!0];case 2:n=r.sent();l(n);return[3,4];case 3:i(!1);return[7];case 4:return[2]}}))})),function(e){return t.apply(this,arguments)});return{cancelSubscription:c,error:s,submitting:r}}((0,h.Z)(rr.Z.GUILD_ROLE_SUBSCRIPTION_CANCELLATION_MODAL).analyticsLocations),m=y.cancelSubscription,b=y.error,g=y.submitting,O=(n=fr((function(){return hr(this,(function(e){switch(e.label){case 0:return[4,m(u.id)];case 1:e.sent()&&f();return[2]}}))})),function(){
return n.apply(this,arguments)}),v=c.role_benefits.benefits.filter((function(e){return e.ref_type===Yn.Qs.CHANNEL})),_=c.role_benefits.benefits.filter((function(e){return e.ref_type===Yn.Qs.INTANGIBLE})),I=Be()(u.currentPeriodEnd).format("MMMM Do, YYYY"),S=x.Z.Messages.GUILD_ROLE_CANCEL_SUBSCRIPTION_MODAL_DESCRIPTION.format({numChannels:v.length,numAdditionalBenefits:_.length,subscriptionEndDate:I});return(0,r.jsxs)(or.Y0,{transitionState:i,className:lr().modal,"aria-labelledby":d,children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("img",{src:E,alt:"",className:lr().headerImage}),(0,r.jsx)(or.ol,{withCircleBackground:!0,className:lr().closeButton,onClick:f})]}),null!=b?(0,r.jsx)(s.kz,{children:b.message}):null,(0,r.jsxs)(or.hz,{className:lr().content,children:[(0,r.jsx)(s.X6,{id:d,variant:"text-md/medium",className:lr().title,children:x.Z.Messages.GUILD_ROLE_CANCEL_SUBSCRIPTION_MODAL_TITLE}),(0,r.jsx)(s.xv,{className:lr().description,variant:"text-sm/normal",children:S}),(0,r.jsx)(ar.c,{
listingId:c.id,guildId:a.guild_id,className:lr().benefits})]}),(0,r.jsxs)(or.mz,{className:lr().footer,children:[(0,r.jsx)(s.zx,{color:s.zx.Colors.RED,onClick:O,submitting:g,children:x.Z.Messages.GUILD_ROLE_CANCEL_SUBSCRIPTION_MODAL_CANCEL_CTA}),(0,r.jsx)(s.zx,{look:s.zx.Looks.LINK,color:s.zx.Colors.WHITE,className:lr().goBackButton,onClick:f,children:x.Z.Messages.GUILD_ROLE_CANCEL_SUBSCRIPTION_MODAL_NEVERMIND_CTA})]})]})},yr=function(e){je.h7((function(t){return(0,r.jsx)(Er,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){dr(e,t,n[t])}))}return e}({},t,e))}))};var mr=n(373171),br=n(393109),gr=n(35236),Or=n(228031),vr=n(779383),_r=n.n(vr);function Ir(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n]
;return r}function Sr(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function Tr(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Nr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Tr(e,t,n[t])}))}return e}function Cr(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){
Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Ar(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ir(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ir(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Pr=function(e,t){var n,r,o,i,a={label:0,
sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{
value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},jr=function(e){var t=e.label,n=e.value,o=e.showInfoIcon,i=e.infoIconTooltipText;return(0,r.jsxs)("div",{className:_r().infoCard,children:[(0,r.jsxs)("div",{className:_r().infoCardLabelContainer,children:[(0,r.jsx)(s.X6,{variant:"heading-deprecated-12/semibold",className:_r().infoCardLabel,children:t}),o&&(0,r.jsx)(rn.ZP,{clickableOnMobile:!0,text:i,children:function(e){return(0,r.jsx)(an.Z,Cr(Nr({},e),{className:_r().infoCardIcon}))}})]}),(0,r.jsx)(s.X6,{variant:"heading-xl/semibold",className:_r().infoCardValue,children:n})]})},xr=function(e){var t=e.subscription,n=Ar((0,qt.ED)({subscriptionId:t.id,renewal:!0}),1)[0],o=(0,E.e7)([Qt.Z],(function(){return Qt.Z.hasFetchedPaymentSources}));return null!=n&&o?(0,r.jsx)(Xt.Z,{subscription:t,currentInvoicePreview:n,dropdownClassName:_r().paymentSourceDropdown}):(0,r.jsx)(s.$j,{})},Rr=function(e){
var t=e.isTrial,n=e.isCancelled,o=e.isResubscribing,i=e.shouldHideRoleSubscriptionEntryPoints,a=e.onCancelSubscriptionClick,l=e.onResubscribeClick,c=e.onChangePlanClick;return n&&(t||i)?null:(0,r.jsxs)("div",{children:[(0,r.jsx)(s.vw,{children:x.Z.Messages.GUILD_ROLE_MANAGE_SUBSCRIPTION_MANAGE_OPTIONS_LABEL}),(0,r.jsx)("div",{className:_r().rowButtons,children:n?(0,r.jsx)(s.zx,{onClick:l,submitting:o,children:x.Z.Messages.GUILD_ROLE_MANAGE_SUBSCRIPTION_MANAGE_OPTIONS_RESTART_SUBSCRIPTION}):(0,r.jsxs)(r.Fragment,{children:[!t&&!i&&(0,r.jsx)(nn,{label:x.Z.Messages.GUILD_ROLE_MANAGE_SUBSCRIPTION_MANAGE_OPTIONS_CHANGE_TIER,onClick:c}),(0,r.jsx)(nn,{label:x.Z.Messages.GUILD_ROLE_MANAGE_SUBSCRIPTION_MANAGE_OPTIONS_CANCEL,onClick:a})]})})]})};const Mr=function(e){var t=e.subscription,n=nr(t),i=n.listing,a=n.groupListing,l=n.guild,c=n.expanded,u=n.handleToggleExpanded,d=n.subscriptionInfo,p=Ar(o.useState(!1),2),E=p[0],y=p[1],m=(0,on.Dt)(),b=(0,h.Z)().analyticsLocations,g=(0,
Xn.VV)(null==l?void 0:l.id).shouldHideRoleSubscriptionPurchaseEntryPoints;if(null==a||null==i||null==d)return null;var v,_,I=function(){if(null!=l){(0,Qn.uL)(G.Z5c.CHANNEL(l.id,gr.oC.ROLE_SUBSCRIPTIONS));(0,Se.xf)();qn.Z.show(G.kVF.BACK_TO_PREVIOUS_SCREEN,void 0,x.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_BACK_TO_SUBSCRIPTION_USER_SETTING_CTA,(function(){return f.Z.open(G.oAB.SUBSCRIPTIONS,Or.cP)}))}},S=function(){null!=l&&yr({guildId:l.id,groupListing:a,listing:i,subscription:t})},T=(_=(v=function(){return Pr(this,(function(e){switch(e.label){case 0:e.trys.push([0,,2,3]);y(!0);return[4,Pt.pl(t,b)];case 1:e.sent();(0,mr.B)({title:x.Z.Messages.GUILD_ROLE_SUBSCRIPTION_RESTARTED_TITLE,body:x.Z.Messages.GUILD_ROLE_SUBSCRIPTION_RESTARTED_DESCRIPTION,Icon:br.Z});return[3,3];case 2:y(!1);return[7];case 3:return[2]}}))},function(){var e=this,t=arguments;return new Promise((function(n,r){var o=v.apply(e,t);function i(e){Sr(o,n,r,i,a,"next",e)}function a(e){Sr(o,n,r,i,a,"throw",e)}i(void 0)}))
}),function(){return _.apply(this,arguments)}),N=d.isCancelled,C=d.isPastDue,A=d.subscriptionPlanPrice,P=d.memberSince,j=d.nextRenewalDate,R=d.nextRenewalLabel,M=d.isTrial,w=i.soft_deleted||null==l;return(0,r.jsxs)("div",{className:_r().container,children:[(0,r.jsx)(Wt.Z,{onClick:u,className:_r().headerContainer,children:function(e){var t=e.areaRef,n=e.handleStopPropagation;return(0,r.jsxs)(r.Fragment,{children:[null!=l&&(0,r.jsx)($t.Z,{guild:l,active:!0,size:$t.Z.Sizes.MEDIUM}),(0,r.jsxs)("div",{className:_r().headerTextContainer,children:[(0,r.jsx)(s.xv,{variant:"text-md/medium",className:_r().guildName,children:null!=l?l.name:x.Z.Messages.GUILD_ROLE_SUBSCRIPTION_SERVER_NAME_UNAVAILABLE}),(0,r.jsxs)("div",{className:_r().headerSubtitleContainer,children:[(0,r.jsx)(s.xv,{variant:"text-sm/normal",className:_r().tierName,children:i.name}),N?(0,r.jsx)(sn.IG,{text:x.Z.Messages.GUILD_ROLE_MANAGE_SUBSCRIPTION_CANCELLED}):M?(0,r.jsx)(sn.IG,{
text:x.Z.Messages.GUILD_ROLE_SUBSCRIPTION_SETUP_FREE_TRIAL_TITLE,color:zt.Z.BRAND_500}):C?(0,r.jsx)(rn.ZP,{text:x.Z.Messages.GUILD_ROLE_SUBSCRIPTION_USER_SUBSCRIPTION_PAST_DUE_WARNING,children:function(e){return(0,r.jsx)("div",Cr(Nr({},e),{children:(0,r.jsx)(sn.IG,{className:_r().paymentDueBadge,text:x.Z.Messages.GUILD_ROLE_MANAGE_SUBSCRIPTION_PAST_DUE,color:zt.Z.YELLOW_300})}))}}):null]})]}),(0,r.jsx)(s.P3,{onClick:n(u),"aria-label":x.Z.Messages.GUILD_ROLE_SUBSCRIPTIONS_TOGGLE_SECTION_LABEL,"aria-controls":m,"aria-expanded":c,focusProps:{ringTarget:t},children:(0,r.jsx)(Jt.Z,{className:O()(_r().arrowIcon,Tr({},_r().arrowIconExpanded,c))})})]})}}),c?(0,r.jsxs)("div",{id:m,children:[(0,r.jsx)("div",{className:_r().divider}),(0,r.jsx)(Kt.Z,{groupListingId:a.id,subscription:t,className:_r().changePlanNotice}),(0,r.jsxs)("div",{className:_r().subscriptionInfoCards,children:[(0,r.jsx)(jr,{label:R,value:j}),(0,r.jsx)(jr,{label:x.Z.Messages.GUILD_ROLE_MANAGE_SUBSCRIPTION_INFO_PRICE,value:A,
showInfoIcon:M,infoIconTooltipText:M?x.Z.Messages.GUILD_ROLE_SUBSCRIPTION_MANAGE_SUBSCRIPTION_PAGE_TRIAL_PRICE_INFO:void 0}),(0,r.jsx)(jr,{label:x.Z.Messages.GUILD_ROLE_MANAGE_SUBSCRIPTION_INFO_MEMBER_SINCE,value:P})]}),(0,r.jsx)(Lt.Z,{size:16}),!N&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.vw,{children:x.Z.Messages.GUILD_ROLE_MANAGE_SUBSCRIPTION_PAYMENT_METHOD_LABEL}),(0,r.jsx)(xr,{subscription:t})]}),!w&&(0,r.jsx)(Rr,{isTrial:M,isCancelled:N,isResubscribing:E,shouldHideRoleSubscriptionEntryPoints:g,onCancelSubscriptionClick:S,onChangePlanClick:I,onResubscribeClick:T})]}):null]})};var wr=n(670578),Zr=n.n(wr);const Lr=function(e){var t=e.onGoBack,n=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).ensureFresh,t=void 0!==e&&e,n=zn()===Yn.PY.SUBSCRIBED,r=(0,E.e7)([Zt.Z],(function(){return Zt.Z.getActiveGuildSubscriptions()})),i=o.useRef(!1);o.useEffect((function(){if(Kn({ensureFresh:t,hasRoleSubscriptions:n,hasFetched:i.current})){i.current=!0;Pt.jg()}
}),[t,n]);return null!=r?r:Wn}(),i=(0,Vn.sp)(n).loading;(0,Hn.Z)(Bn.tq?"role-subscriptions-user-setting":void 0);return i?(0,r.jsx)(s.$j,{}):0===n.length?null:(0,r.jsxs)("div",{className:Zr().container,children:[(0,r.jsxs)(s.zx,{look:s.zx.Looks.BLANK,innerClassName:Zr().backButtonContents,onClick:t,children:[(0,r.jsx)(Ft.Z,{className:Zr().arrowIcon}),x.Z.Messages.GUILD_ROLE_SUBSCRIPTIONS_MANAGE_SUBSCRIPTIONS_PAGE_BACK_BUTTON_CTA]}),(0,r.jsx)(Lt.Z,{size:10}),(0,r.jsx)(s.vw,{tag:"h1",children:x.Z.Messages.GUILD_ROLE_MANAGE_SUBSCRIPTION_PAGE_TITLE}),(0,r.jsx)(s.xv,{variant:"text-sm/normal",className:Zr().pageDescription,children:x.Z.Messages.GUILD_ROLE_MANAGE_SUBSCRIPTION_PAGE_DESCRIPTION}),(0,r.jsx)("div",{className:Zr().subscriptionsContainer,children:n.map((function(e){return(0,r.jsx)(Mr,{subscription:e},e.id)}))})]})}
;var Dr=n(893321),Ur=n(381807),kr=n(378564),Gr=n(693518),Br=n(932847),Hr=n(74030),Vr=n(859023),Fr=n(916957),Yr=n(732031),zr=n(916061),Wr=n(566960),Kr=n(298716),qr=n(692202),Xr=n.n(qr);function Qr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $r(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Jr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Qr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eo(e){var t=e.user,n=e.planId,o=e.count,i=e.userPremiumSubscription,a=Jr((0,E.Wu)([Fr.Z],(function(){return[Fr.Z.get(n),null!=i?Fr.Z.get(i.planId):null]})),2),l=a[0],c=a[1];if(null==l||Hr.ZP.getInterval(n).intervalType!==Kr.rV.MONTH)return null;var u,f=null!=c?c.skuId:null,d=l.skuId===f,p=Hr.ZP.getDisplayName(n);return(0,r.jsxs)("div",{className:Xr().accountCreditRow,children:[(0,r.jsx)("div",{className:O()((u={},$r(u,Xr().iconBackgroundTier0,l.skuId===Kr.Si.TIER_0),$r(u,Xr().iconBackgroundTier1,l.skuId===Kr.Si.TIER_1),$r(u,Xr().iconBackgroundTier2,l.skuId===Kr.Si.TIER_2),u)),children:(0,r.jsx)(Yr.Z,{className:Xr().icon})}),(0,r.jsxs)("div",{className:Xr().rowDetails,
children:[(0,r.jsx)(s.X6,{variant:"heading-md/semibold",children:x.Z.Messages.PREMIUM_SUBSCRIPTION_CREDIT.format({planName:p})}),t.hasFreePremium()?null:(0,r.jsx)(s.X6,{className:Xr().rowApplied,variant:"heading-sm/semibold",color:"header-secondary",children:d&&null!=i?x.Z.Messages.PREMIUM_SUBSCRIPTION_CREDIT_APPLIED_ON.format({date:i.currentPeriodEnd}):x.Z.Messages.PREMIUM_SUBSCRIPTION_CREDIT_APPLIED_MISMATCHED_PLAN.format({planName:p})})]}),(0,r.jsx)(s.xv,{className:Xr().rowCreditCount,variant:"text-md/semibold",children:x.Z.Messages.PREMIUM_SUBSCRIPTION_CREDIT_COUNT_MONTHS.format({count:o})})]})}const to=function(e){var t=e.className,n=e.entitlements,o=_e()(Array.from(n)).filter((function(e){var t=e.subscriptionPlanId,n=e.parentId,r=e.consumed;return null!=t&&null!=n&&!r})).groupBy((function(e){return e.subscriptionPlanId})).value(),i=(0,E.e7)([Zt.Z],(function(){return Zt.Z.getPremiumSubscription()})),a=(0,E.e7)([Zt.Z],(function(){return null==Zt.Z.getPremiumTypeSubscription()
})),l=Object.keys(o).some((function(e){return e===Kr.Xh.PREMIUM_MONTH_TIER_1}))&&a,c=zr.L.useExperiment({},{autoTrackExposure:l}).enableTier0&&l,u=(0,E.e7)([Vr.default],(function(){return Vr.default.getCurrentUser()}));return null==u?null:(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:O()(t,Xr().premiumSubscriptionAccountCredit),children:Object.keys(o).map((function(e){return(0,r.jsx)(eo,{planId:e,count:o[e].length,userPremiumSubscription:i,user:u},e)}))}),c&&(0,r.jsxs)("div",{children:[(0,r.jsx)(s.xv,{className:Xr().tier1AccountCreditHeader,variant:"text-md/normal",children:x.Z.Messages.PREMIUM_TIER_1_ACCOUNT_CREDIT_HEADER}),(0,r.jsx)(Wr.R,{})]})]})};var no=n(799337),ro=n.n(no);function oo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function io(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){
var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return oo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ao(e){var t=e.subscription,n=e.withOverheadSeparator,o=io((0,qt.ED)({subscriptionId:t.id,renewal:!0}),1)[0];if(null==o)return null;var i=n?ro().finePrintWithOverheadSeparator:ro().finePrint,a=o.invoiceItems.find((function(e){var t=e.subscriptionPlanId;return(0,Hr.uZ)(t)}));if(null==a)return null
;var l=a.subscriptionPlanId,c=Fr.Z.get(l);L()(null!=c,"Missing plan");var u=(0,dn.T4)(o.total,o.currency),f="";c.interval===Kr.rV.YEAR?f=x.Z.Messages.BILLING_PAYMENT_PREMIUM_TERMS_LEGALESE_YEARLY.format({price:u,termsUrl:G.EYA.TERMS,paidURL:G.EYA.PAID_TERMS,privacyUrl:G.EYA.PRIVACY}):c.interval===Kr.rV.MONTH&&(f=1===c.intervalCount?x.Z.Messages.BILLING_PAYMENT_PREMIUM_TERMS_LEGALESE_MONTHLY.format({price:u,termsUrl:G.EYA.TERMS,paidURL:G.EYA.PAID_TERMS,privacyUrl:G.EYA.PRIVACY}):x.Z.Messages.BILLING_PAYMENT_PREMIUM_TERMS_LEGALESE_MULTI_MONTH.format({price:u,termsUrl:G.EYA.TERMS,paidURL:G.EYA.PAID_TERMS,privacyUrl:G.EYA.PRIVACY,intervalCount:c.intervalCount}));return(0,r.jsx)(s.xv,{color:"text-muted",className:i,variant:"text-xs/normal",children:f})}function so(e){var t=e.subscription,n=e.withOverheadSeparator;return t.status===G.O0b.CANCELED||t.isPurchasedExternally?null:(0,r.jsx)(ao,{subscription:t,withOverheadSeparator:n})}var lo=n(884326),co=n(162652),uo=n.n(co);function fo(){
return(0,r.jsx)(s.Zb,{className:uo().noItemsCard,type:s.Zb.Types.CUSTOM,children:(0,r.jsxs)(ae.Z,{align:ae.Z.Align.CENTER,children:[(0,r.jsx)(Gr.Z,{game:null,size:Gr.Z.Sizes.SMALL,className:uo().noItemsIcon}),(0,r.jsx)("span",{className:uo().cardText,children:x.Z.Messages.USER_SETTINGS_NO_SUBSCRIPTION_CREDIT})]})})}function po(){var e=(0,E.e7)([fn.Z],(function(){return fn.Z.getForApplication(Kr.RQ)}));o.useEffect((function(){(0,xt.yD)(Kr.RQ)}),[]);return(0,r.jsxs)("section",{className:uo().sectionAccountCredit,children:[(0,r.jsx)(s.vw,{className:uo().accountCreditTitle,tag:s.RB.H1,children:x.Z.Messages.BILLING_SUBSCRIPTION_CREDIT}),(0,r.jsx)("p",{className:uo().accountCreditDescription,children:x.Z.Messages.BILLING_ACCOUNT_CREDIT_DESCRIPTION}),null!=e&&Hr.ZP.hasAccountCredit(e)?(0,r.jsx)(to,{className:uo().accountCredit,entitlements:e}):(0,r.jsx)(fo,{})]})}const ho=function(){var e=(0,E.e7)([Zt.Z],(function(){return Zt.Z.getPremiumTypeSubscription()})),t=(0,E.e7)([Qt.Z],(function(){
return null!=e&&null!=e.paymentSourceId?Qt.Z.getPaymentSource(e.paymentSourceId):null}),[e]),n=(0,E.e7)([Zt.Z],(function(){return Zt.Z.hasFetchedSubscriptions()})),i=(0,E.e7)([kr.Z],(function(){return kr.Z.isBusy})),a=(0,Zn.V)(),c=(0,E.e7)([Ur.Z],(function(){return Ur.Z.getSubsection()}));o.useEffect((function(){l.Z.wait((function(){(0,Rt.Y2)();Pt.jg();(0,jt.X8)();Pt.tZ()}));return function(){f.Z.clearSubsection()}}),[]);return Dr.Z.enabled?(0,r.jsx)(Mt.Z,{}):n&&a?c===Or.cP?(0,r.jsx)(Lr,{onGoBack:function(){return f.Z.clearSubsection()}}):c===Or.XZ?(0,r.jsx)(wn,{onGoBack:function(){return f.Z.clearSubsection()}}):(0,r.jsx)("div",{className:uo().container,children:(0,r.jsxs)("div",{className:uo().content,children:[null!=e?(0,r.jsx)(lo.ZP,{className:uo().subscriptionDetails,subscription:e,paymentSource:t,busy:i}):(0,r.jsx)(lo.MM,{className:uo().subscriptionDetails}),(0,r.jsx)(Gn,{onClickManageSubscription:function(){return f.Z.setSection(G.oAB.SUBSCRIPTIONS,Or.cP)}}),(0,r.jsx)(Vt,{
onClickManageSubscription:function(){f.Z.setSection(G.oAB.SUBSCRIPTIONS,Or.XZ);Br.default.track(G.rMx.PREMIUM_APPLICATION_SUBSCRIPTION_MANAGE_CTA_CLICKED)}}),(0,r.jsx)(po,{}),null!=e?(0,r.jsx)(so,{subscription:e,withOverheadSeparator:!1}):null]})}):(0,r.jsx)("div",{className:O()(uo().container,uo().loading),children:(0,r.jsx)(s.$j,{})})};var Eo=n(26503);function yo(e){var t={};void 0!==e.pendingBanner&&(t.banner=e.pendingBanner);null!=e.pendingBio&&(t.bio=e.pendingBio);null!=e.pendingPronouns&&(t.pronouns=e.pendingPronouns);void 0!==e.pendingAccentColor&&(t.accent_color=e.pendingAccentColor);void 0!==e.pendingThemeColors&&(t.theme_colors=e.pendingThemeColors);return t}var mo=n(928676);function bo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function go(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function Oo(e){return function(){var t=this,n=arguments
;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){go(i,r,o,a,s,"next",e)}function s(e){go(i,r,o,a,s,"throw",e)}a(void 0)}))}}function vo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return bo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bo(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var _o=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){
a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function Io(){var e=(0,E.e7)([ge.Z],(function(){return ge.Z.getIsDisableSubmit()})),t=(0,E.e7)([ge.Z],(function(){return ge.Z.getGuild()})),n=vo(o.useState(!1),2),i=n[0],a=n[1],s=o.useCallback(Oo((function(){var e,n,r,o,i,s,l,c;return _o(this,(function(u){switch(u.label){case 0:a(!0);e=ge.Z.getAllPending();n=function(e){var t={};void 0!==e.pendingAvatar&&(t.avatar=e.pendingAvatar);if(void 0!==e.pendingNickname){var n;t.nick=null!==(n=e.pendingNickname)&&void 0!==n?n:""}return t}(e);r=yo(e);o=!0;return Object.keys(n).length>0?[4,(0,be.iq)(null==t?void 0:t.id,n)]:[3,2];case 1:i=u.sent();o=o&&null!==(s=null==i?void 0:i.ok)&&void 0!==s&&s;(null==i?void 0:i.ok)&&(0,be.IO)();u.label=2;case 2:return Object.keys(r).length>0?[4,(0,
mo.Z)(r,null==t?void 0:t.id)]:[3,4];case 3:l=u.sent();o=o&&null!==(c=null==l?void 0:l.ok)&&void 0!==c&&c;(null==l?void 0:l.ok)&&(0,be.pG)();u.label=4;case 4:o&&(0,be.b9)();a(!1);return[2]}}))})),[null==t?void 0:t.id]),l=o.useCallback((function(){(0,be.W3)()}),[]);return(0,r.jsx)(Eo.Z,{submitting:i,onSave:s,onReset:l,disabled:e})}var So=n(493925),To=n(429244);function No(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Co(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function Ao(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Co(i,r,o,a,s,"next",e)}function s(e){Co(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Po(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{
for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return No(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return No(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var jo=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){
if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function xo(){var e=(0,E.e7)([So.Z],(function(){return So.Z.getIsDisableSubmit()})),t=Po(o.useState(!1),2),n=t[0],i=t[1],a=o.useCallback(Ao((function(){var e,t,n,r,o,a,s,l,c;return jo(this,(function(f){
switch(f.label){case 0:i(!0);e=So.Z.getAllPending();t=function(e){var t={};void 0!==e.pendingDisplayName&&(t.displayName=e.pendingDisplayName);void 0!==e.pendingAvatar&&(t.avatar=e.pendingAvatar);void 0!==e.pendingAvatarDecoration&&(t.avatarDecoration=e.pendingAvatarDecoration);return t}(e);n=yo(e);r=!0;return Object.keys(t).length>0?[4,(0,u.Mn)(t)]:[3,2];case 1:a=f.sent();r=r&&null!==(s=null==a?void 0:a.ok)&&void 0!==s&&s;(null==a?void 0:a.ok)?(0,u.si)():null!=(null==a||null===(o=a.body)||void 0===o?void 0:o.username)&&(0,To.P)();f.label=2;case 2:return Object.keys(n).length>0?[4,(0,mo.Z)(n)]:[3,4];case 3:l=f.sent();r=r&&null!==(c=null==l?void 0:l.ok)&&void 0!==c&&c;(null==l?void 0:l.ok)&&(0,mo.pG)();f.label=4;case 4:r&&(0,u.b9)();i(!1);return[2]}}))})),[]),s=o.useCallback((function(){(0,u.W3)()}),[]);return(0,r.jsx)(Eo.Z,{submitting:n,onSave:a,onReset:s,disabled:e})}function Ro(){return(0,E.e7)([ge.Z],(function(){return ge.Z.showNotice()}))?(0,r.jsx)(Io,{}):(0,r.jsx)(xo,{})}
var Mo=n(805338),wo=n(23816),Zo=n(763973),Lo=n.n(Zo),Do=n(524268),Uo=n.n(Do),ko=n(950737),Go=n.n(ko);function Bo(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var Ho,Vo;!function(e){e[e.WUMPUS=0]="WUMPUS";e[e.PHIBI=1]="PHIBI"}(Ho||(Ho={}));Bo(Vo={},Ho.WUMPUS,Lo().activityCharacterWumpus),Bo(Vo,Ho.PHIBI,Lo().activityCharacterPhibi);var Fo=n(316921),Yo=n(952013),zo=n(573269),Wo=n(823569),Ko=n(967022),qo=n(51477),Xo=n(802604),Qo=n(185139),$o=n(747302),Jo=n(535737),ei=n(578797),ti=n(60953),ni=n(66583),ri=n(737947),oi=n(124689),ii=n(126861),ai=n(71646),si=n(409271),li=n(212218),ci=n(962564),ui=n(426217),fi=n(760253),di=n(71531),pi=n(917870),hi=n(964199),Ei=n(248088),yi=n(879716);function mi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bi(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function gi(e){
return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){bi(i,r,o,a,s,"next",e)}function s(e){bi(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Oi(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function vi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return mi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mi(e,t)
}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var _i,Ii,Si=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}
if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};!function(e){e[e.WUMPUS=0]="WUMPUS";e[e.PHIBI=1]="PHIBI"}(_i||(_i={}));var Ti=(Oi(Ii={},_i.WUMPUS,Lo().activityCharacterWumpus),Oi(Ii,_i.PHIBI,Lo().activityCharacterPhibi),Ii);const Ni=o.memo((function(e){var t=e.activityName,n=e.activityCharacter,i=void 0===n?_i.WUMPUS:n,a=e.showExampleButton,l=void 0!==a&&a,c=vi(o.useState(0),2),u=c[0],f=c[1],d=vi((0,Ei.useSpring)((function(){return{from:{rotate:"0deg"},config:{tension:1e3,friction:5}}})),2),p=d[0],h=d[1],E=o.useRef({seconds:u,jitter:gi((function(){var e;return Si(this,(function(t){switch(t.label){case 0:0;e=function(e){if(Te.Z.useReducedMotion)return 0;e-=5399;return Math.min(10,e/300*10)}(E.current.seconds);h({rotate:"-".concat(e,"deg")});return[4,new Promise((function(e){
return setTimeout(e,80)}))];case 1:t.sent();h({rotate:"".concat(e,"deg")});return[4,new Promise((function(e){return setTimeout(e,80)}))];case 2:t.sent();return[3,0];case 3:return[2]}}))}))});o.useEffect((function(){E.current.seconds=u}));o.useEffect((function(){var e=setInterval((function(){f((function(e){5399===e&&E.current.jitter();return++e}))}),1e3);return function(){return clearInterval(e)}}),[]);var y=i===_i.WUMPUS?Go():Uo();return(0,r.jsxs)(yi.Z,{lastSection:!0,"aria-hidden":!0,children:[(0,r.jsx)(s.X6,{className:Lo().fakeActivityTitle,variant:"eyebrow",children:x.Z.Messages.USER_SETTINGS_CUSTOMIZE_PROFILE_TITLE}),(0,r.jsxs)("div",{className:Lo().fakeActivityLayout,children:[(0,r.jsx)("div",{className:O()(Lo().fakeActivityIcon,Ti[i]),children:(0,r.jsx)(Ei.animated.img,{className:Lo().fakeActivityPencil,src:y,style:p})}),(0,r.jsxs)("div",{className:Lo().fakeActivityContent,children:[(0,r.jsx)(s.xv,{variant:"text-sm/semibold",
children:null!=t?t:x.Z.Messages.USER_SETTINGS_USER_PROFILE}),(0,r.jsx)(s.xv,{variant:"text-sm/normal",children:x.Z.Messages.PROFILE_CUSTOMIZATION_ACTIVITY_TIME.format({renderTimeHook:function(e,t){var n=u%60,o=(u-n)/60;return(0,r.jsxs)("span",{className:Lo().fakeActivityTimeValues,children:[o.toString().padStart(2,"0"),":",n.toString().padStart(2,"0")]},t)}})})]})]}),l&&(0,r.jsx)(s.zx,{className:Lo().button,color:Lo().buttonColor,size:s.zx.Sizes.SMALL,fullWidth:!0,children:x.Z.Messages.USER_SETTINGS_CUSTOMIZE_PROFILE_EXAMPLE_BUTTON})]})}));var Ci=n(664830),Ai=n(827851),Pi=n(476154),ji=n(570459),xi=n(336568),Ri=n.n(xi);function Mi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wi(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function Zi(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){wi(i,r,o,a,s,"next",e)}
function s(e){wi(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Li(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Di(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Li(e,t,n[t])}))}return e}function Ui(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function ki(e,t){return function(e){
if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Mi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mi(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Gi=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},
"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function Bi(e){
var t,i,a,l,c,u,f,d,p,h=e.user,y=e.guild,m=e.canUsePremiumCustomization,b=e.onUpsellClick,g=e.onAvatarChange,v=e.onBannerChange,_=e.pendingAccentColor,I=e.pendingBanner,S=e.pendingBio,T=e.pendingPronouns,N=e.pendingAvatar,C=e.pendingAvatarDecoration,A=e.pendingNickname,P=e.pendingDisplayName,j=e.pendingThemeColors,R=e.avatarClassName,M=e.openPremiumSettings,w=e.activityName,Z=e.activityCharacter,L=e.overrideDiscriminator,D=e.sampleBadgeList,U=e.isTryItOutFlow,k=void 0!==U&&U,B=e.disabledInputs,H=void 0!==B&&B,V=e.hideExampleButton,F=void 0!==V&&V,Y=e.hideFakeActivity,z=void 0!==Y&&Y,W=o.useRef(null),K=ki(o.useState(!1),2),q=K[0],X=K[1],Q=si.QK.getSetting(),$=(0,Wo.U)().canUseAvatarDecorations?(0,Ci.Wp)(C,h):null,J=(0,Qo.Z)(h.id,null==y?void 0:y.id),ee=(0,E.e7)([Te.Z],(function(){return Te.Z.syncProfileThemeWithUserTheme})),te=(0,Yo.ZP)(),re=(0,E.e7)([li.ZP],(function(){return null==y?null:li.ZP.getMember(y.id,h.id)})),oe=void 0===N?h.getAvatarURL(void 0,80):N,ie=(0,zo.ZP)(oe,(0,
ne.Lq)(G.Ilk.PRIMARY_530),!1),ae=null==J?void 0:J.getPreviewThemeColors(j),se=null!==(t=null==ae?void 0:ae[0])&&void 0!==t?t:null==J?void 0:J.primaryColor,le=ee?te:(0,Xo.V3)(se),ce=(0,Ko.Z)(null!==(i=null!=_?_:se)&&void 0!==i?i:(0,Fo._i)(ie)).hsl,ue=(0,E.e7)([ui.Z],(function(){return ui.Z.isFocused()})),fe=Q?ue:q,de=null==J?void 0:J.getPreviewBanner(I,fe),pe=null!==(a=(0,Ci.gh)(A,null==re?void 0:re.nick))&&void 0!==a?a:(0,Ci.zJ)(P,hi.ZP.getDisplayName(h)),he=ki((0,E.Wu)([ci.Z],(function(){return[ci.Z.findActivity(h.id,(function(e){return e.type===G.IIU.CUSTOM_STATUS})),ci.Z.getStatus(h.id)]})),2),Ee=he[0],ye=he[1],me=(0,E.e7)([Dr.Z],(function(){return Dr.Z.hidePersonalInformation})),be=(null==J?void 0:J.canUsePremiumProfileCustomization)||m,ge=o.useCallback((function(){var e,t;null===(t=null===(e=W.current)||void 0===e?void 0:e.inputRef.current)||void 0===t||t.activateUploadDialogue()}),[]),Oe=o.useCallback((function(e,t){
null==e||null==t?g(null):"image/gif"!==t.type||Hr.ZP.canUseAnimatedAvatar(h)?(0,je.ZD)(Zi((function(){var o,i;return Gi(this,(function(a){switch(a.label){case 0:return[4,Promise.all([n.e(40532),n.e(22852),n.e(96378)]).then(n.bind(n,122852))];case 1:o=a.sent(),i=o.default;return[2,function(n){return(0,r.jsx)(i,Di({onCrop:g,file:t,imgURI:e,allowSkip:!0},n))}]}}))}))):(0,je.ZD)(Zi((function(){var t,o;return Gi(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(89341)]).then(n.bind(n,89341))];case 1:t=i.sent(),o=t.default;return[2,function(t){return(0,r.jsx)(o,Ui(Di({},t),{imgURI:e,onChangeAvatar:function(){t.onClose();ge()}}))}]}}))})))}),[h,ge,g]),ve=function(e,t){if(null==e||null==t)return v(null);(0,je.ZD)(Zi((function(){var o,i;return Gi(this,(function(a){switch(a.label){case 0:return[4,Promise.all([n.e(40532),n.e(22852),n.e(96378)]).then(n.bind(n,122852))];case 1:o=a.sent(),i=o.default;return[2,function(n){return(0,r.jsx)(i,Di({onCrop:v,
uploadType:Pi.pC.BANNER_V2,file:t,imgURI:e,allowSkip:!0},n))}]}}))})))};o.useEffect((function(){if(!Q){var e=null==J?void 0:J.getBannerURL({canAnimate:!0,size:480});if(pi.F8(e)){(new Image).src=null!=e?e:""}}}),[J,Q]);return(0,r.jsx)(Jo.Z,{forceShowPremium:m,user:h,guildId:null==y?void 0:y.id,profileType:ji.y0.POPOUT,pendingThemeColors:j,className:be?Ri().profileCustomizationPreviewWithTheme:Ri().profileCustomizationPreviewWithoutTheme,children:(0,r.jsxs)(s.y5,{children:[(0,r.jsx)($o.Z,{user:h,profileType:ji.y0.POPOUT,hasBannerImage:null!=de,isPremium:m,hasThemeColors:be,overrideAvatarDecorationURL:$,children:m?(0,r.jsxs)("div",{onMouseMove:function(){return X(!0)},onMouseLeave:function(){return X(!1)},children:[(0,r.jsx)(qo.Z,{className:Ri().bannerUploader,showRemoveButton:!1,disabled:!m||H,image:de,makeURL:function(){return de},onChange:ve,imageStyle:{backgroundColor:ce},imageClassName:null!=de?Ri().bannerUploaderInnerSquare:Ri().bannerUploaderInnerSquareEmpty,
hint:x.Z.Messages.CHANGE_BANNER,onOpenImageSelectModal:function(){return(0,Ci.$r)(Pi.pC.BANNER_V2,null==re?void 0:re.guildId,k)},hideSize:!0,maxFileSizeBytes:Ai.B,onFileSizeError:Ci.Wf}),!Q&&pi.F8(de)?(0,r.jsx)(fi.Z,{className:Ri().gifTag}):null]}):(0,r.jsx)("div",{className:Ri().bannerNormal,style:{backgroundColor:ce},children:(0,r.jsx)(s.P3,{onClick:function(){return null==b?void 0:b({object:G.qAy.EDIT_PROFILE_BANNER})},className:Ri().bannerNitroUpsell,children:(0,r.jsx)(s.X6,{className:Ri().bannerNitroUpsellText,variant:"eyebrow",children:x.Z.Messages.USER_SETTINGS_UNLOCK_BANNER})})})}),(u=(0,Ci.SG)(N,re,h),f=null!=re&&!m,d=null!=le?(0,di.QF)(le):null,p=(0,r.jsxs)("div",{className:(l=m,c=null!=de,l&&c?Ri().avatarUploaderPremium:l?Ri().avatarUploaderPremiumNoBanner:Ri().avatarUploaderNormal),children:[(0,r.jsx)(qo.Z,{disabled:H,ref:W,showIcon:null==$,hint:f?x.Z.Messages.UNLOCK_GUILD_MEMBER_AVATAR:x.Z.Messages.CHANGE_AVATAR,showRemoveButton:!1,
imageClassName:O()(R,Ri().avatarUploaderInner),image:u,onChange:Oe,makeURL:function(){return u},maxFileSizeBytes:Ai.B,onFileSizeError:Ci.Wf,onOpenImageSelectModal:function(){return(0,Ci.$r)(Pi.pC.AVATAR,null==re?void 0:re.guildId,k)}}),null!=$&&(0,r.jsx)("img",{className:Ri().avatarDecoration,src:$,alt:" ","aria-hidden":!0}),(0,r.jsxs)("div",{className:Ri().status,children:[null!=d&&(null==J?void 0:J.canUsePremiumProfileCustomization)&&(0,r.jsx)("div",{className:Ri().statusDotBackground,style:{backgroundColor:d,opacity:(0,di.lm)(ye,d)}}),(0,r.jsx)("svg",{className:Ri().statusDot,children:(0,r.jsx)("rect",{height:"100%",width:"100%",fill:(0,ne.Lq)((0,di.z2)(ye)),mask:"url(#".concat((0,di.rs)(ye,!1),")")})})]})]}),f?(0,r.jsx)(s.P3,{onClickCapture:function(e){e.stopPropagation();null==b||b({object:G.qAy.AVATAR})},children:p}):p),(0,r.jsx)(ti.Cb,{user:h,guildId:null==y?void 0:y.id,onOpenPremiumSettings:M,sampleBadgeList:D}),function(){var e,t=null==J?void 0:J.getPreviewBio(S);return(0,
r.jsxs)(Jo.Z.Inner,{className:Ri().body,children:[(0,r.jsx)(ai.Z,{overrideDiscriminator:L,user:h,nickname:pe,usernameIcon:(0,Ci.$y)(N,re)&&(0,r.jsx)(ni.Z,{user:h,nickname:pe})}),(0,r.jsx)(oi.Z,{customStatusActivity:Ee}),(0,r.jsx)(ei.Z,{}),(0,r.jsx)(ii.Z,{pendingPronouns:T,currentPronouns:null!==(e=null==J?void 0:J.pronouns)&&void 0!==e?e:"",hidePersonalInformation:me}),(0,r.jsx)(ri.Z,{isUsingGuildBio:null==t?void 0:t.isUsingGuildValue,guild:y,bio:null==t?void 0:t.value,hidePersonalInformation:me,lastSection:z}),!z&&(0,r.jsx)(Ni,{activityName:w,activityCharacter:Z,showExampleButton:null==y&&!F})]})}()]})})}var Hi,Vi,Fi=n(546418),Yi=n(337823),zi=n(256481),Wi=n(273465),Ki=n.n(Wi);function qi(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}!function(e){e.PREMIUM="premium";e.LIMITED="limited"}(Hi||(Hi={}));var Xi=(qi(Vi={},Hi.PREMIUM,{border:Ki().premiumFeatureBorder,background:Ki().premiumBackground}),qi(Vi,Hi.LIMITED,{
border:Ki().limitedFeatureBorder,background:Ki().limitedBackground}),Vi);const Qi=o.forwardRef((function(e,t){var n=e.children,o=e.type,i=void 0===o?Hi.PREMIUM:o,a=e.isShown,s=e.hasBackground,l=void 0!==s&&s,c=e.className,u=e.backgroundClassName;if(!a)return(0,r.jsx)(r.Fragment,{children:n});var f=Xi[i],d=f.border,p=f.background;return(0,r.jsx)("div",{ref:t,className:O()(d,c),children:(0,r.jsx)("div",{className:O()(l?p:Ki().background,u),children:n})})}));var $i=n(107159),Ji=n.n($i);function ea(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ta(e){var t=e.errors;return(0,r.jsx)(r.Fragment,{children:t.map((function(e,t){return(0,r.jsx)(s.xv,{variant:"text-xs/normal",color:"text-danger",className:Ji().errorMessage,children:(n=e,n.replace(/[0-9.,]+ ?kb/g,(function(e){var t=1024*parseInt(e,10);return isNaN(t)?e:(0,Yi.Ng)(t)})))},t);var n}))})}function na(e){
var t,n=e.title,o=e.titleId,i=e.description,a=e.children,l=e.className,c=e.errors,u=e.disabled,f=void 0!==u&&u,d=e.hideDivider,p=void 0!==d&&d,h=e.showBorder,E=void 0!==h&&h,y=e.borderType,m=e.hasBackground,b=void 0!==m&&m,g=e.forcedDivider,v=void 0!==g&&g,_=e.showPremiumIcon,I=void 0!==_&&_;return(0,r.jsx)("div",{className:O()(Ji().customizationSection,l,(t={},ea(t,Ji().disabled,f),ea(t,Ji().hideDivider,p),ea(t,Ji().showBorder,E),ea(t,Ji().withDivider,v),t)),children:(0,r.jsxs)(Qi,{className:Ji().customizationSectionBorder,isShown:E,type:y,hasBackground:b,children:[(0,r.jsxs)(s.vw,{className:Ji().title,id:o,children:[n,I&&(0,r.jsx)(zi.Z,{})]}),null!=i?(0,r.jsx)(s.R9,{type:s.R9.Types.DESCRIPTION,className:Ji().sectionDescription,children:i}):null,a,null!=c&&(0,r.jsx)(ta,{errors:c})]})})}var ra=n(753388),oa=n.n(ra);function ia(e){var t=e.children,n=e.className,o=e.layoutClassName,i=e.profilePreview,a=e.previewTitle,l=(0,Fi.Z)().canViewThemes,c=function(){return(0,r.jsx)(na,{
title:null!=a?a:x.Z.Messages.PROFILE_CUSTOMIZATION_PREVIEW,className:l?oa().previewProfileThemes:oa().preview,children:i})};return(0,r.jsx)("div",{className:n,children:(0,r.jsxs)(s.hj,{className:oa().profileCustomizationSection,children:[Bn.tq&&c(),(0,r.jsxs)("div",{className:O()(l?oa().baseLayoutProfileThemes:oa().baseLayout,o),children:[t,!Bn.tq&&c()]})]})})}var aa=n(36391),sa=n(95467),la=n(277323),ca=n.n(la),ua=n(970298),fa=n.n(ua);function da(){return(0,r.jsxs)("div",{className:ca().emptyState,children:[(0,r.jsx)("img",{src:fa(),alt:"",className:ca().image}),(0,r.jsx)(s.X6,{className:ca().topSpacing,variant:"heading-lg/extrabold",children:x.Z.Messages.GUILD_IDENTITY_SETTINGS_EMPTY_STATE_TITLE}),(0,r.jsx)(s.xv,{className:ca().topSpacing,variant:"text-md/normal",children:x.Z.Messages.GUILD_IDENTITY_SETTINGS_EMPTY_STATE_DESCRIPTION}),(0,r.jsx)(s.zx,{className:ca().topSpacing,onClick:function(){(0,Qn.uL)(G.Z5c.GUILD_DISCOVERY);Se.xf()},
children:x.Z.Messages.GUILD_IDENTITY_SETTINGS_EMPTY_STATE_CTA})]})}var pa=n(553494);const ha=(0,pa.B)({kind:"user",id:"2022-07_premium_upsell_overlay",label:"Premium upsell overlay",defaultConfig:{showPremiumUpsellOverlay:!1},treatments:[{id:1,label:"Premium upsell overlay enabled",config:{showPremiumUpsellOverlay:!0}}]});var Ea=n(598627),ya=n(691869),ma=n(172458),ba=n(741738),ga=n(53551),Oa=n(780683),va=n.n(Oa);function _a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ia(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _a(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Sa=(0,on.hQ)(),Ta=(0,ga.kt)({id:"1",type:G.d4z.DM}),Na=(0,on.hQ)();function Ca(e){var t=e.sectionTitle,n=e.errors,i=e.onBioChange,a=e.pendingBio,l=e.placeholder,c=e.currentBio,u=e.disabled,f=void 0!==u&&u,d=Ia(o.useState(null!=a?a:c),2),p=d[0],h=d[1],E=Ia(o.useState((0,ma.JM)(p)),2),y=E[0],m=E[1],b=o.useRef(!1);o.useEffect((function(){if(void 0===a){var e=(0,ma.JM)(c);h(c);m(e)}}),[a,c]);return(0,r.jsxs)(na,{title:t,titleId:Sa,description:x.Z.Messages.USER_SETTINGS_ABOUT_ME_DETAILS,errors:n,disabled:f,children:[(0,r.jsx)(ba.Z,{"aria-describedby":Na,"aria-labelledby":Sa,
innerClassName:va().bioTextArea,maxCharacterCount:G.tPV,onChange:function(e,t,n){if(t!==p){h(t);m(n);i(t)}},placeholder:l,channel:Ta,textValue:p,richValue:y,type:ya.I.PROFILE_BIO_INPUT,onBlur:function(){b.current=!1},onFocus:function(){b.current=!0},focused:b.current,onSubmit:function(){return new Promise((function(e){e({shouldClear:!1,shouldRefocus:!0})}))}}),(0,r.jsx)(s.nn,{id:Na,children:x.Z.Messages.MAXIMUM_LENGTH.format({maxLength:G.tPV})})]})}var Aa=n(889373),Pa=n(807640),ja=n.n(Pa);function xa(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var Ra=[{name:"gif",extensions:["gif"]}];function Ma(e){var t=e.showRemoveAvatarButton,n=e.errors,o=e.onAvatarChange,i=e.sectionTitle,a=e.changeAvatarButtonText,l=e.guildId,c=e.className,u=e.disabled,f=void 0!==u&&u,d=e.isTryItOutFlow,p=void 0!==d&&d,h=e.forcedDivider,E=e.withHighlight,y=void 0!==E&&E,m=y?Aa.C:s.zx;return(0,r.jsx)(na,{className:c,title:i,errors:n,disabled:f,
forcedDivider:h,children:(0,r.jsxs)("div",{className:ja().buttonsContainer,children:[(0,r.jsx)(m,{className:O()(xa({},ja().buttonHighlighted,y)),size:s.zx.Sizes.SMALL,onClick:function(){return(0,Ci.$r)(Pi.pC.AVATAR,l,p,p?Ra:void 0)},children:null!=a?a:x.Z.Messages.USER_SETTINGS_CHANGE_AVATAR}),t&&(0,r.jsx)(s.zx,{className:ja().removeButton,color:s.zx.Colors.PRIMARY,look:s.zx.Looks.LINK,size:s.zx.Sizes.SMALL,onClick:function(){return o(null)},children:null!=l?x.Z.Messages.USER_SETTINGS_RESET_AVATAR:x.Z.Messages.USER_SETTINGS_REMOVE_AVATAR})]})})}var wa=n(20945),Za=n.n(wa);function La(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Da(e){
var t=e.canUsePremiumCustomization,n=e.showRemoveBannerButton,o=e.errors,i=e.upsellButton,a=e.onBannerChange,l=e.guildId,c=e.className,u=e.disabled,f=void 0!==u&&u,d=e.showPremiumIcon,p=void 0===d||d,h=e.isTryItOutFlow,E=void 0!==h&&h,y=e.forcedDivider,m=e.withHighlight,b=void 0!==m&&m,g=(0,Fi.Z)(!0).canViewThemes,v=g?Pi.pC.BANNER_V2:Pi.pC.BANNER,_=b?Aa.C:s.zx;return(0,r.jsx)(na,{className:c,title:x.Z.Messages.USER_SETTINGS_PROFILE_BANNER,showPremiumIcon:p,errors:o,description:g?void 0:x.Z.Messages.USER_SETTINGS_BANNER_SPECS,disabled:f,forcedDivider:y,children:t||f?(0,r.jsxs)("div",{className:Za().buttonsContainer,children:[(0,r.jsx)(_,{className:O()(La({},Za().buttonHighlighted,b)),size:s.zx.Sizes.SMALL,onClick:function(){return(0,Ci.$r)(v,l,E)},children:x.Z.Messages.CHANGE_BANNER}),n&&(0,r.jsx)(s.zx,{className:Za().removeButton,color:s.zx.Colors.PRIMARY,look:s.zx.Looks.LINK,size:s.zx.Sizes.SMALL,onClick:function(){return a(null)},
children:null!=l?x.Z.Messages.USER_SETTINGS_RESET_BANNER:x.Z.Messages.USER_SETTINGS_REMOVE_BANNER})]}):i})}var Ua=n(618446),ka=n.n(Ua),Ga=n(833802),Ba=n(468811),Ha=n.n(Ba),Va=n(665232),Fa=n(121319),Ya=n(761434),za=n(379579),Wa=n(166251),Ka=n.n(Wa);function qa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Xa(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Qa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Xa(e,t,n[t])}))}return e}function $a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e)
;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Ja(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function es(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{
a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return qa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qa(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ts(e){var t=e.onChange,n=e.onClose,i=e.color,a=e.suggestedColors,l=e.disabled,c=e.label,u=e.colorPickerMiddle,f=e.colorPickerFooter,d=e.showEyeDropper,p=o.useRef(null),h=(0,ne.O0)(G.tPk.BACKGROUND_PRIMARY).hex,E=(0,ne.r7)(G.tPk.BACKGROUND_ACCENT),y=(0,Ci.DP)(i),m=(0,Fo.Rf)(i),b=m===h?E:m,g=(0,ne.Lq)(y?G.Ilk.WHITE_500:G.Ilk.PRIMARY_530),v=(0,Va.Z)(u),_=(0,Va.Z)(f),I=es(o.useState(Ha().v4()),2),S=I[0],T=I[1];o.useEffect((function(){
v===u&&_===f||T(Ha().v4())}),[f,u,_,v]);return(0,r.jsx)(Ya.ZP,{positionKey:S,renderPopout:function(e){return(0,r.jsx)(Fa.Z$,$a(Qa({},e),{value:i,onChange:t,suggestedColors:a,middle:u,footer:f,showEyeDropper:d}))},onRequestClose:n,children:function(e){var t=e.onClick,n=Ja(e,["onClick"]);return(0,r.jsxs)("div",{ref:p,className:O()(Ka().colorSwatch,Xa({},Ka().disabled,l)),children:[(0,r.jsx)(s.P3,$a(Qa({},n),{tabIndex:l?-1:0,onClick:l?G.dG4:t,style:{backgroundColor:m,borderColor:b},className:Ka().swatch,"aria-label":x.Z.Messages.USER_SETTINGS_PROFILE_COLOR_SELECT_COLOR,focusProps:{ringTarget:p},children:(0,r.jsx)(za.Z,{className:Ka().editPencilIcon,width:14,height:14,color:g})})),c]})}})}var ns=n(715683),rs=n.n(ns);function os(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function is(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]
;if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return os(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return os(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function as(e){var t=e.user,n=e.pendingAvatar,o=e.pendingColors,i=e.onThemeColorsChange,a=e.preventDisabled,l=e.guildId,c=e.className,u=e.showPremiumIcon,f=void 0===u||u,d=e.showResetThemeButton,p=void 0!==d&&d,h=e.forcedDivider,E=(0,Qo.Z)(t.id,l),y=is((0,Ga.Z)(t,E,{pendingThemeColors:o,
isPreview:!0}),2),m=y[0],b=y[1],g=Hr.ZP.canUsePremiumProfileCustomization(t),v=null!=n?n:t.getAvatarURL(l,80),_=(0,ne.Sl)(G.Ilk.PRIMARY_530).hex,I=(0,zo.Cf)(v,_,!1);if(null==m||null==b)return null;var S=function(e){var t=ka()(e,null==E?void 0:E.themeColors);i(t?void 0:e)};return(0,r.jsx)(na,{title:x.Z.Messages.USER_SETTINGS_PROFILE_THEME,disabled:!g&&!a,className:O()(rs().profileThemesSection,c),showPremiumIcon:f,forcedDivider:h,children:(0,r.jsxs)("div",{className:rs().sectionContainer,children:[(0,r.jsx)("div",{className:rs().sparkleContainer,children:(0,r.jsx)(ts,{onChange:function(e){return S([e,b])},color:m,suggestedColors:I,showEyeDropper:!0,label:(0,r.jsx)(s.xv,{className:rs().colorSwatchLabel,color:"header-secondary",variant:"text-xs/normal","aria-hidden":!0,children:x.Z.Messages.USER_SETTINGS_PROFILE_THEME_PRIMARY})})}),(0,r.jsx)("div",{className:rs().sparkleContainer,children:(0,r.jsx)(ts,{onChange:function(e){return S([m,e])},color:b,suggestedColors:I,showEyeDropper:!0,
label:(0,r.jsx)(s.xv,{className:rs().colorSwatchLabel,color:"header-secondary",variant:"text-xs/normal","aria-hidden":!0,children:x.Z.Messages.USER_SETTINGS_PROFILE_THEME_ACCENT})})}),p&&null!=l&&(0,r.jsx)(s.zx,{className:rs().resetButton,color:s.zx.Colors.PRIMARY,look:s.zx.Looks.LINK,size:s.zx.Sizes.SMALL,onClick:function(){return S([null,null])},children:x.Z.Messages.USER_SETTINGS_RESET_PROFILE_THEME})]})})}var ss=n(560211);function ls(e){var t=e.sectionTitle,n=e.errors,o=e.onPronounsChange,i=e.pendingPronouns,a=e.placeholder,l=e.currentPronouns,c=e.disabled,u=void 0!==c&&c;return ss.Z.useExperiment({}).showPronouns?(0,r.jsx)(na,{title:t,errors:n,disabled:u,children:(0,r.jsx)(s.oi,{placeholder:null!=a?a:x.Z.Messages.PROFILE_CUSTOMIZATION_PRONOUNS_PLACEHOLDER,maxLength:40,value:null!=i?i:l,onChange:function(e){o(e===l?void 0:e)},disabled:u})}):null}var cs=n(940712),us=n(514049),fs=n.n(us);function ds(e){
var t=e.errors,n=e.pendingNick,o=e.currentNick,i=e.username,a=e.guild,l=null!=n?n:o,c=(0,E.e7)([cs.Z],(function(){return cs.Z.can(G.Plq.CHANGE_NICKNAME,a)||cs.Z.can(G.Plq.MANAGE_NICKNAMES,a)}));return(0,r.jsxs)(na,{title:x.Z.Messages.SERVER_NICKNAME,errors:t,children:[(0,r.jsx)(s.oi,{value:null!=l?l:"",placeholder:i,maxLength:G.l$U,onChange:function(e){t=e,n=o,(0,be.sr)(t===n||""===t&&null===n?void 0:t);var t,n},disabled:!c}),!c&&(0,r.jsx)(s.R9,{className:fs().nicknameDisabled,type:s.R9.Types.DESCRIPTION,children:x.Z.Messages.CHANGE_IDENTITY_NICKNAME_PERMISSIONS_DISABLED})]})}var ps=n(716421),hs=n(71528),Es=n.n(hs),ys=n(652951),ms=n.n(ys),bs=n(207357),gs=n.n(bs);function Os(e){switch(e){case G.BRd.DARK:return ms();case G.BRd.LIGHT:return gs()}}function vs(e){var t=e.user,n=e.showOverlay,i=e.children,a=(0,Yo.ZP)(),l=(0,Fi.Z)(!0).canEditThemes,c=(0,h.Z)(rr.Z.PREMIUM_UPSELL_OVERLAY).analyticsLocations;o.useEffect((function(){n&&Br.default.track(G.rMx.PREMIUM_UPSELL_VIEWED,{
location_stack:c,type:Kr.cd.PREMIUM_GUILD_MEMBER_PROFILE_UPSELL_INLINE})}),[n,c]);return n?(0,r.jsxs)("div",{className:Es().upsellOverlayContainer,children:[(0,r.jsx)("div",{children:i}),(0,r.jsxs)("div",{className:Es().upsellOverlay,children:[(0,r.jsx)("img",{className:Es().upsellImage,alt:x.Z.Messages.GUILD_IDENTITY_UPSELL_OVERLAY_IMAGE_ALT,src:Os(a)}),(0,r.jsxs)("div",{className:Es().upsellTextContainer,children:[(0,r.jsx)(s.xv,{variant:"text-lg/semibold",color:"always-white",children:x.Z.Messages.GUILD_IDENTITY_UPSELL_OVERLAY_TITLE}),(0,r.jsx)(s.xv,{variant:"text-sm/normal",color:"always-white",children:l?x.Z.Messages.GUILD_IDENTITY_UPSELL_OVERLAY_DESCRIPTION_THEMES:x.Z.Messages.GUILD_IDENTITY_UPSELL_OVERLAY_DESCRIPTION})]}),(0,r.jsx)(ps.Z,{size:s.zx.Sizes.LARGE,color:s.zx.Colors.GREEN,buttonText:Hr.ZP.isPremium(t)?x.Z.Messages.USER_SETTINGS_PROFILE_THEMES_UPSELL_UPGRADE:x.Z.Messages.CHANGE_IDENTITY_UPSELL,subscriptionTier:Kr.Si.TIER_2})]})]}):(0,r.jsx)(r.Fragment,{children:i})}
var _s=n(36574),Is=n.n(_s);function Ss(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function Ts(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ss(i,r,o,a,s,"next",e)}function s(e){Ss(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Ns(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Cs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Ns(e,t,n[t])}))}return e}function As(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){
var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var Ps=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0
;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function js(e){var t=e.user,n=e.onUpsellClick,i=(0,h.Z)().analyticsLocations;o.useEffect((function(){Br.default.track(G.rMx.PREMIUM_UPSELL_VIEWED,{type:Kr.cd.PREMIUM_GUILD_MEMBER_PROFILE_UPSELL_INLINE,location:{page:G.ZY5.GUILD_CHANNEL,section:G.jXE.PREMIUM_GUILD_MEMBER_PROFILE},location_stack:i})}),[i]);return(0,r.jsxs)("div",{className:Is().upsellContainer,children:[(0,r.jsx)(s.xv,{variant:"text-sm/normal",children:x.Z.Messages.GUILD_IDENTITY_SETTINGS_UPSELL_NO_LINK}),(0,r.jsxs)(Aa.C,{size:s.zx.Sizes.SMALL,onClick:n,color:s.zx.Colors.GREEN,className:Is().upsellButton,innerClassName:Is().upsellButtonInner,children:[(0,r.jsx)(Yr.Z,{
className:Is().premiumIconButton}),Hr.ZP.isPremium(t)?x.Z.Messages.USER_SETTINGS_PROFILE_THEMES_UPSELL_UPGRADE:x.Z.Messages.CHANGE_IDENTITY_UPSELL]})]})}function xs(e){var t=e.guild,o=(0,E.e7)([Vr.default],(function(){var e=Vr.default.getCurrentUser();L()(null!=e,"GuildIdentitySettingsPage: user cannot be undefined");return e})),i=(0,E.cj)([ge.Z],(function(){var e=ge.Z.getAllPending(),t=e.pendingAvatar,n=e.pendingNickname,r=e.pendingBio,o=e.pendingPronouns;return{pendingAvatar:t,pendingNickname:n,pendingBanner:e.pendingBanner,pendingBio:r,pendingPronouns:o,pendingThemeColors:e.pendingThemeColors,errors:ge.Z.getErrors(),guild:ge.Z.getGuild()}})),a=i.pendingAvatar,s=i.pendingNickname,l=i.pendingBanner,c=i.pendingBio,u=i.pendingPronouns,f=i.pendingThemeColors,d=i.errors,p=i.guild,h=null!=t?t:p;L()(null!=h,"guild should not be null");var y,m,b=(0,E.e7)([li.ZP],(function(){return null==h.id?null:li.ZP.getMember(h.id,o.id)})),g=(0,E.e7)([aa.Z],(function(){
return aa.Z.getGuildMemberProfile(o.id,h.id)})),O=Hr.ZP.canUsePremiumProfileCustomization(o),v=(0,Ea.gd)(a,null==b?void 0:b.avatar),_=(0,Ea.f$)(l,null==g?void 0:g.banner),I=function(e,t){return void 0===e?null!=t:null!=(null==e?void 0:e[0])&&null!=(null==e?void 0:e[1])}(f,null==g?void 0:g.themeColors),S=null!==(y=null==g?void 0:g.bio)&&void 0!==y?y:"",T=null!==(m=null==g?void 0:g.pronouns)&&void 0!==m?m:"",N=(0,Fi.Z)(!0).canEditThemes,C=ha.useExperiment({},{autoTrackExposure:!O}).showPremiumUpsellOverlay,A=function(e,t,n){n(null!=e?e:null!=t?null:void 0)};return(0,r.jsxs)("div",{className:Is().sectionsContainer,children:[(0,r.jsx)(ds,{username:hi.ZP.getName(o),pendingNick:s,currentNick:null==b?void 0:b.nick,guild:h},"nick"),C||O?null:(0,r.jsx)(js,{user:o,onUpsellClick:function(){return e={object:G.qAy.BUTTON_CTA},void(0,je.ZD)(Ts((function(){var t,o;return Ps(this,(function(i){switch(i.label){case 0:return[4,n.e(90424).then(n.bind(n,190424))];case 1:t=i.sent(),o=t.default
;return[2,function(t){return(0,r.jsx)(o,Cs({source:As(Cs({},e),{page:G.ZY5.GUILD_MEMBER_PROFILE_SETTINGS})},t))}]}}))})));var e}}),(0,r.jsxs)(vs,{user:o,showOverlay:C&&!O,children:[(0,r.jsx)(Ma,{sectionTitle:(0,r.jsxs)(r.Fragment,{children:[x.Z.Messages.USER_SETTINGS_AVATAR,(0,r.jsx)(rn.ZP,{text:x.Z.Messages.PROFILE_CUSTOMIZATION_NITRO_ICON_TOOLTIP,children:function(e){return(0,r.jsx)(Yr.Z,As(Cs({},e),{className:Is().nitroWheel}))}})]}),showRemoveAvatarButton:v,onAvatarChange:function(e){return A(e,null==b?void 0:b.avatar,be.I5)},errors:d.avatar,guildId:h.id,disabled:!O},"avatar"),(0,r.jsx)(Da,{canUsePremiumCustomization:O,showRemoveBannerButton:_,errors:d.banner,upsellButton:null,onBannerChange:function(e){return A(e,null==g?void 0:g.banner,be.g_)},guildId:null==h?void 0:h.id,disabled:!O},"banner"),N&&(0,r.jsx)(as,{user:o,pendingAvatar:a,pendingColors:f,onThemeColorsChange:function(e){!function(e,t){var n=null==(null==e?void 0:e[0])||null==(null==e?void 0:e[1]);(0,
be.z5)(n&&null==t?void 0:e)}(e,null==g?void 0:g.themeColors)},guildId:null==h?void 0:h.id,showResetThemeButton:I}),(0,r.jsx)(ls,{sectionTitle:x.Z.Messages.USER_SETTINGS_PRONOUNS,errors:d.pronouns,onPronounsChange:function(e){!function(e,t){(0,be.ID)(e===t?void 0:e)}(e,T)},pendingPronouns:u,currentPronouns:T},"pronouns"),(0,r.jsx)(Ca,{placeholder:x.Z.Messages.CHANGE_IDENTITY_BIO_PLACEHOLDER,sectionTitle:(0,r.jsxs)(r.Fragment,{children:[x.Z.Messages.USER_PROFILE_ABOUT_ME,(0,r.jsx)(rn.ZP,{text:x.Z.Messages.PROFILE_CUSTOMIZATION_NITRO_ICON_TOOLTIP,children:function(e){return(0,r.jsx)(Yr.Z,As(Cs({},e),{className:Is().nitroWheel}))}})]}),onBioChange:function(e){!function(e,t){(0,be.Cf)(e===t?void 0:e)}(e,S);(0,be._V)(null!=e&&e.length>G.tPV)},errors:d.bio,pendingBio:c,currentBio:S,disabled:!O},"about")]})]})}var Rs=n(49744),Ms=n(784238),ws=n(226657),Zs=n.n(ws);function Ls(e){var t=e.guildId,n=e.navigateToUserProfileSettings,i=(0,E.e7)([Ms.Z],(function(){return Ms.Z.getFlattenedGuildIds()
})),a=(0,E.e7)([un.Z],(function(){return un.Z.getGuilds()})),l=(0,E.e7)([ge.Z],(function(){return ge.Z.showNotice()})),c=o.useMemo((function(){return i.map((function(e){var t=a[e];L()(null!=t,"guild should not be null");return{label:t.name,value:t.id}}))}),[i,a]),u=o.useCallback((function(e){return null==e?null:(0,r.jsx)($t.Z,{className:Zs().guildSelectOptionIcon,guild:a[e.value],size:$t.Z.Sizes.SMOL,active:!0})}),[a]),f=function(e){var t=a[e];null!=t&&(0,be.HP)(t)};return(0,r.jsx)(Rs.$,{substeps:[Kr.H6.PROFILE_CUSTOMIZATION_GUILD_PROFILES],onBack:function(){return n()},children:function(){return(0,r.jsx)(na,{className:Zs().section,title:x.Z.Messages.PROFILE_CUSTOMIZATION_GUILD_SELECT_TITLE,forcedDivider:!0,children:(0,r.jsx)(s.Vc,{isDisabled:l,onChange:f,value:t,options:c,renderOptionPrefix:u,placeholder:x.Z.Messages.PROFILE_CUSTOMIZATION_GUILD_SELECT_PLACEHOLDER})})}})}function Ds(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)
}function Us(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ds(i,r,o,a,s,"next",e)}function s(e){Ds(i,r,o,a,s,"throw",e)}a(void 0)}))}}function ks(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Gs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ks(e,t,n[t])}))}return e}function Bs(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n
}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var Hs=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2]
;a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function Vs(){Br.default.track(G.rMx.PREMIUM_PROMOTION_OPENED,{location_page:G.ZY5.GUILD_MEMBER_PROFILE_SETTINGS,location_object:G.qAy.BADGE});(0,be.jR)();f.Z.open(G.oAB.PREMIUM)}function Fs(e){(0,je.ZD)(Us((function(){var t,o;return Hs(this,(function(i){switch(i.label){case 0:return[4,n.e(90424).then(n.bind(n,190424))];case 1:t=i.sent(),o=t.default;return[2,function(t){return(0,r.jsx)(o,Gs({source:Bs(Gs({},e),{page:G.ZY5.GUILD_MEMBER_PROFILE_SETTINGS})},t))}]}}))})))}function Ys(e){var t=e.selectedGuild,n=e.navigateToUserProfileSettings,i=(0,h.Z)(rr.Z.GUILD_PROFILE).AnalyticsLocationProvider,a=(0,E.e7)([Vr.default],(function(){var e=Vr.default.getCurrentUser();L()(null!=e,"GuildIdentitySettingsPage: user cannot be undefined");return e})),c=(0,E.e7)([aa.Z],(function(){return!aa.Z.isFetchingProfile(a.id)
})),u=(0,E.e7)([Dr.Z],(function(){return Dr.Z.hidePersonalInformation})),f=(0,E.cj)([ge.Z],(function(){var e=ge.Z.getAllPending(),t=e.pendingAvatar,n=e.pendingNickname,r=e.pendingBio,o=e.pendingPronouns;return{pendingAvatar:t,pendingNickname:n,pendingBanner:e.pendingBanner,pendingBio:r,pendingPronouns:o,pendingThemeColors:e.pendingThemeColors,source:ge.Z.getSource()}})),d=f.pendingAvatar,p=f.pendingNickname,y=f.pendingBanner,m=f.pendingBio,b=f.pendingPronouns,g=f.pendingThemeColors,O=f.source;o.useEffect((function(){return function(){return l.Z.wait(be.W3)}}),[]);o.useEffect((function(){null!=O&&wo.ZP.trackWithMetadata(G.rMx.SETTINGS_PANE_VIEWED,{settings_type:"guild",destination_pane:G.jXE.SETTINGS_CUSTOMIZE_PROFILE,source:O})}),[O]);if(u)return(0,r.jsx)(Mt.Z,{});if(!c)return(0,r.jsx)(s.$j,{});var v=Hr.ZP.canUsePremiumProfileCustomization(a),_={user:a,guild:t,canUsePremiumCustomization:v,onAvatarChange:be.I5,onBannerChange:be.g_,onUpsellClick:Fs,pendingAvatar:d,pendingBanner:y,
pendingBio:m,pendingPronouns:b,pendingNickname:p,activityName:x.Z.Messages.CHANGE_IDENTITY_SERVER_PROFILE,activityCharacter:Ho.PHIBI,openPremiumSettings:Vs};return(0,r.jsxs)(i,{children:[(0,r.jsx)(s.xv,{variant:"text-sm/normal",children:x.Z.Messages.PROFILE_CUSTOMIZATION_GUILD_HINT.format({helpCenterLink:sa.Z.getArticleURL(G.BhN.GUILD_PROFILES)})}),null!=t?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Ls,{guildId:t.id,navigateToUserProfileSettings:n}),(0,r.jsx)(ia,{previewTitle:x.Z.Messages.CHANGE_IDENTITY_PREVIEW_WITH_GUILD_NAME.format({guildName:null==t?void 0:t.name}),profilePreview:(0,r.jsx)(Bi,Bs(Gs({},_),{pendingThemeColors:g})),children:(0,r.jsx)(xs,{})})]}):(0,r.jsx)(da,{})]})}var zs,Ws=n(972355),Ks=n(356002),qs=n(635940),Xs=n(640753),Qs=n(39802);function $s(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var Js=Object.freeze(($s(zs={},Or.KQ.ProfileCustomizationScrollPositions.TRY_IT_OUT,G.oAB.PROFILE_CUSTOMIZATION),
$s(zs,Or.KQ.AccessibilityScrollPositions.REDUCED_MOTION,G.oAB.ACCESSIBILITY),$s(zs,Or.KQ.AccessibilityScrollPositions.SYNC_PROFILE_THEME_WITH_USER_THEME,G.oAB.ACCESSIBILITY),zs));const el=function(e,t){var n=(0,E.e7)([Te.Z],(function(){return Te.Z.useReducedMotion})),r=(0,E.e7)([Ur.Z],(function(){return Ur.Z.getScrollPosition()}));(0,o.useEffect)((function(){var o=e.current;if(null!=o&&t===r){var i=requestAnimationFrame((function(){o.scrollIntoView({behavior:n?"auto":"smooth"});f.Z.clearScrollPosition(Js[t])}));return function(){return cancelAnimationFrame(i)}}}),[e,t,r,n])};var tl=n(250831),nl=n(398235),rl=n.n(nl);function ol(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function il(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
;t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function al(){Br.default.track(G.rMx.PREMIUM_PROMOTION_OPENED,{location_page:G.ZY5.USER_SETTINGS,location_section:G.jXE.SETTINGS_ACCOUNT,location_object:G.qAy.BADGE});f.Z.setSection(G.oAB.PREMIUM)}function sl(e){var t=e.user,i=(0,Fi.Z)().canTryItOut,a=o.useContext(Qs.S).reducedMotion,l=Hr.ZP.isPremium(t),c=l?void 0:[{tooltip:x.Z.Messages.PREMIUM_BADGE_TOOLTIP.format({date:new Date}),onClick:al,key:ji.Bm.PREMIUM}],f=(0,E.cj)([So.Z],(function(){var e=So.Z.getAllPending(),t=So.Z.getErrors();return il(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable
}))));r.forEach((function(t){ol(e,t,n[t])}))}return e}({},e,So.Z.getAllTryItOut()),{errors:t})})),d=f.pendingAvatar,p=f.pendingBanner,y=f.pendingThemeColors,m=f.pendingPronouns,b=f.pendingBio,g=f.tryItOutThemeColors,O=f.tryItOutAvatar,v=f.tryItOutBanner,_=o.useRef(null);el(_,Or.Y_.TRY_IT_OUT);var I,S=(0,Qo.Z)(t.id),T=null==S?void 0:S.getPreviewBio(b),N=(0,h.Z)(rr.Z.USER_SETTINGS_TRY_OUT_PREMIUM),C=N.AnalyticsLocationProvider,A=N.sourceAnalyticsLocations;o.useEffect((function(){Br.default.track(G.rMx.PREMIUM_UPSELL_VIEWED,{type:Kr.cd.PREMIUM_PROFILE_TRY_IT_OUT,location:{page:G.ZY5.USER_SETTINGS},location_stack:A})}),[A,t]);return(0,r.jsx)(C,{children:(0,r.jsx)(Qi,{ref:_,className:rl().tryItOutSection,type:Hi.PREMIUM,isShown:!0,hasBackground:!0,children:(0,r.jsx)(ia,{layoutClassName:rl().tryItOutLayout,previewTitle:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Yr.Z,{className:rl().premiumIcon}),x.Z.Messages.USER_SETTINGS_TRY_OUT_PREMIUM_PREVIEW]}),profilePreview:(0,r.jsx)(Bi,{user:t,
onAvatarChange:mo.c_,onBannerChange:mo.f4,pendingPronouns:m,pendingBio:b,pendingBanner:null!==(I=null!=v?v:p)&&void 0!==I?I:n(276727),pendingAvatar:null!=O?O:d,pendingThemeColors:null!=g?g:y,avatarClassName:null!=O||null!=d||a.enabled?void 0:rl().spinningAvatar,openPremiumSettings:al,canUsePremiumCustomization:!0,isTryItOutFlow:!0,disabledInputs:!i,overrideDiscriminator:"0001",sampleBadgeList:c,hideExampleButton:!0,hideFakeActivity:Boolean(null==T?void 0:T.value)}),children:(0,r.jsxs)("div",{className:rl().editor,children:[(0,r.jsx)(ll,{}),(0,r.jsx)(as,{className:rl().customizationSection,user:t,pendingAvatar:null!=O?O:d,pendingColors:null!=g?g:y,onThemeColorsChange:mo.rf,showPremiumIcon:!1,preventDisabled:i}),(0,r.jsx)(Da,{className:rl().customizationSection,disabled:!i,canUsePremiumCustomization:!0,isTryItOutFlow:!0,showRemoveBannerButton:null!=v,upsellButton:null,onBannerChange:mo.f4,showPremiumIcon:!1}),(0,r.jsx)(Ma,{className:rl().customizationSection,disabled:!i,
isTryItOutFlow:!0,onAvatarChange:mo.c_,showRemoveAvatarButton:!1,changeAvatarButtonText:x.Z.Messages.USER_SETTINGS_ADD_ANIMATED_AVATAR,sectionTitle:x.Z.Messages.PREMIUM_TIER_0_FEATURE_AVATAR}),(0,r.jsx)(s.xv,{variant:"text-sm/normal",className:rl().premiumPerksListTitle,children:x.Z.Messages.USER_SETTINGS_TRY_OUT_PREMIUM_ALSO_INCLUDES}),(0,r.jsx)(s.xv,{variant:"text-sm/normal",children:(0,r.jsxs)("ul",{className:rl().premiumPerksList,children:[(0,r.jsx)("li",{children:x.Z.Messages.USER_SETTINGS_TRY_OUT_PREMIUM_CUSTOM_TAG}),(0,r.jsx)("li",{children:x.Z.Messages.USER_SETTINGS_TRY_OUT_PREMIUM_EXCLUSIVE_BADGE})]})}),(0,r.jsx)(ps.Z,{onSubscribeModalClose:function(e){if(e){(0,u.I5)(O);(0,mo.g_)(v);(0,mo.z5)(g)}},subscriptionTier:Kr.Si.TIER_2,className:rl().premiumSubscribeButton,size:s.zx.Sizes.MEDIUM,buttonText:l?x.Z.Messages.USER_SETTINGS_PROFILE_THEMES_UPSELL_UPGRADE:x.Z.Messages.PREMIUM_UPSELL_GET_NITRO})]})})})})}var ll=function(){return(0,Fi.Z)().canTryItOut?(0,r.jsxs)("div",{
children:[(0,r.jsx)(s.X6,{variant:"heading-xl/extrabold",children:x.Z.Messages.USER_SETTINGS_TRY_OUT_PREMIUM_HEADER}),(0,r.jsx)(s.xv,{className:rl().description,variant:"text-sm/normal",children:x.Z.Messages.USER_SETTINGS_TRY_OUT_PREMIUM_DESCRIPTION})]}):(0,r.jsxs)("div",{className:rl().titleContainer,children:[(0,r.jsx)(tl.Z,{className:rl().titleIcon}),(0,r.jsx)(s.X6,{variant:"heading-md/extrabold",children:x.Z.Messages.PREMIUM_FEATURES_PROFILE_CUSTOMIZATION_MENU_ITEM_TITLE})]})};n(591739);function cl(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function ul(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){cl(i,r,o,a,s,"next",e)}function s(e){cl(i,r,o,a,s,"throw",e)}a(void 0)}))}}function fl(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function dl(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){fl(e,t,n[t])}))}return e}function pl(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var hl=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){
return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function El(){(0,je.ZD)(ul((function(){var e,t;return hl(this,(function(o){switch(o.label){case 0:return[4,n.e(50442).then(n.bind(n,950442))];case 1:e=o.sent(),t=e.default
;return[2,function(e){return(0,r.jsx)(t,pl(dl({},e),{source:{page:G.ZY5.USER_SETTINGS,section:G.jXE.SETTINGS_CUSTOMIZE_PROFILE,object:G.qAy.BUTTON_CTA,type:G.Qqv.BUY}}))}]}}))})))}var yl=n(796339),ml=n.n(yl);function bl(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function gl(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){bl(i,r,o,a,s,"next",e)}function s(e){bl(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Ol(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var vl=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{
if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function _l(e){(0,je.ZD)(gl((function(){var t,o;return vl(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(92447)]).then(n.bind(n,92447))];case 1:t=i.sent(),o=t.default;return[2,function(t){return(0,r.jsx)(o,function(e){
for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Ol(e,t,n[t])}))}return e}({analyticsLocations:e},t))}]}}))})))}function Il(e){var t=e.user,n=(0,Wo.U)().canUseAvatarDecorations,i=(0,E.e7)([So.Z],(function(){return So.Z.getPendingAvatarDecoration()})),a=(0,E.e7)([So.Z],(function(){return So.Z.getErrors()})).avatarDecoration,l=(0,h.Z)().analyticsLocations,c=Hr.ZP.canUsePremiumProfileCustomization(t);o.useEffect((function(){n&&!c&&Br.default.track(G.rMx.PREMIUM_UPSELL_VIEWED,{type:Kr.cd.AVATAR_DECORATIONS_INLINE_SETTINGS,location_stack:l})}),[n,c,l]);if(!n)return null;var f=void 0===i?null!=t.avatarDecoration:null!=i;return(0,r.jsx)(na,{title:x.Z.Messages.USER_SETTINGS_AVATAR_DECORATION,showPremiumIcon:!0,errors:a,children:(0,r.jsxs)("div",{
className:ml().buttonsContainer,children:[(0,r.jsx)(s.zx,{size:s.zx.Sizes.SMALL,onClick:function(){return _l(l)},children:x.Z.Messages.USER_SETTINGS_CHANGE_AVATAR_DECORATION}),f&&(0,r.jsx)(s.zx,{className:ml().removeButton,color:s.zx.Colors.PRIMARY,look:s.zx.Looks.LINK,size:s.zx.Sizes.SMALL,onClick:function(){var e=null==t.avatarDecoration?void 0:null;(0,u.cV)(e)},children:x.Z.Messages.USER_SETTINGS_REMOVE_AVATAR_DECORATION})]})})}function Sl(e){var t,n;return(0,r.jsx)(na,{errors:e.errors,disabled:e.disabled,title:x.Z.Messages.USER_SETTINGS_DISPLAY_NAME_TITLE,children:(0,r.jsx)("div",{children:(0,r.jsx)(s.oi,{placeholder:e.placeholder,maxLength:G.JuI,onChange:e.onDisplayNameChange,value:null!==(n=null!==(t=e.pendingDisplayName)&&void 0!==t?t:e.currentDisplayName)&&void 0!==n?n:""})})})}function Tl(e){var t,n=e.user,o=e.savedUserColor,i=e.pendingColor,a=e.setPendingAccentColor,s=n.getAvatarURL(null,80),l=(0,ne.Sl)(G.Ilk.PRIMARY_530).hex,c=(0,zo.Cf)(s,l,!1),u=(0,Fo._i)(c[0]);return(0,
r.jsx)(na,{title:x.Z.Messages.USER_SETTINGS_BANNER_COLOR_TITLE,children:(0,r.jsx)(ts,{onChange:function(e){return a(e)},color:null!==(t=null!=i?i:o)&&void 0!==t?t:u,suggestedColors:c,showEyeDropper:!0})})}var Nl=n(644952),Cl=n(602815),Al=n.n(Cl);function Pl(e){var t=e.user,n=e.children,i=(0,Fi.Z)(!0),a=i.canEditThemes,l=i.canViewTryItOut,c=Hr.ZP.canUsePremiumProfileCustomization(t),u=(0,h.Z)(rr.Z.PROFILE_THEME_UPSELL_INLINE),f=u.AnalyticsLocationProvider,d=u.sourceAnalyticsLocations;o.useEffect((function(){c||!a||l||Br.default.track(G.rMx.PREMIUM_UPSELL_VIEWED,{type:Kr.cd.PROFILE_THEME_UPSELL_INLINE,location_stack:d})}),[d,c,a,l]);return!a||c||l?(0,r.jsx)(r.Fragment,{children:n}):(0,r.jsxs)(f,{children:[(0,r.jsxs)(Qi,{className:Al().upsellBorder,isShown:!0,type:Hi.PREMIUM,children:[(0,r.jsxs)("div",{className:Al().inlineUpsell,children:[(0,r.jsx)(s.R9,{type:s.R9.Types.DESCRIPTION,children:x.Z.Messages.USER_SETTINGS_PROFILE_THEMES_INLINE_UPSELL}),(0,r.jsx)(ps.Z,{
subscriptionTier:Kr.Si.TIER_2,className:Al().premiumSubscribeButton,size:s.zx.Sizes.SMALL,buttonText:Hr.ZP.isPremium(t)?x.Z.Messages.USER_SETTINGS_PROFILE_THEMES_UPSELL_UPGRADE:x.Z.Messages.USER_SETTINGS_CUSTOMIZATION_UPSELL})]}),n]}),(0,r.jsx)("div",{className:Al().divider})]})}var jl=n(430099),xl=n.n(jl);function Rl(e){var t=e.user,n=(0,h.Z)().analyticsLocations,i=Hr.ZP.isPremium(t)?x.Z.Messages.USER_SETTINGS_CUSTOMIZATION_UPGRADE_UPSELL:x.Z.Messages.USER_SETTINGS_CUSTOMIZATION_UPSELL;o.useEffect((function(){Br.default.track(G.rMx.PREMIUM_UPSELL_VIEWED,{type:Kr.cd.CUSTOM_PROFILE_SETTINGS_BANNER_BUTTON,location:{page:G.ZY5.USER_SETTINGS,section:G.jXE.SETTINGS_CUSTOMIZE_PROFILE,object:G.qAy.BUTTON_CTA},location_stack:n})}),[n]);return(0,r.jsxs)(Aa.C,{color:s.zx.Colors.GREEN,onClick:El,innerClassName:xl().premiumUpsellButtonInner,children:[(0,r.jsx)(Yr.Z,{className:xl().premiumUpsellButtonWheel}),i]})}var Ml=n(241941),wl=n.n(Ml);function Zl(e,t,n){t in e?Object.defineProperty(e,t,{
value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Ll(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Dl(e){var t,n,o=(0,E.e7)([Vr.default],(function(){var e=Vr.default.getCurrentUser();L()(null!=e,"DefaultCustomizationSections: user cannot be undefined");return e})),i=(0,E.e7)([aa.Z],(function(){return aa.Z.getUserProfile(o.id)})),a=(0,E.cj)([So.Z],(function(){var e=So.Z.getAllPending(),t=So.Z.getErrors();return Ll(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Zl(e,t,n[t])}))}return e}({},e),{errors:t})})),s=a.pendingAvatar,l=a.pendingDisplayName,c=a.pendingBanner,f=a.pendingBio,d=a.pendingPronouns,p=a.pendingAccentColor,h=a.pendingThemeColors,y=a.errors,m=Hr.ZP.canUsePremiumProfileCustomization(o),b=(0,Ea.gd)(s,o.avatar),g=(0,Ea.f$)(c,null==i?void 0:i.banner),O=(0,Fi.Z)(!0),v=O.canEditThemes,_=!O.canViewTryItOut||m,I=(0,Nl.rW)();return(0,r.jsxs)("div",{className:wl().sectionsContainer,children:[I&&(0,r.jsx)(Sl,{placeholder:o.username,errors:y.display_name,currentDisplayName:o.displayName,pendingDisplayName:l,onDisplayNameChange:u.OZ}),(0,r.jsx)(Rs.$,{substeps:[Kr.H6.PROFILE_CUSTOMIZATION_AVATAR],children:function(e){return(0,r.jsx)(Ma,{onAvatarChange:u.I5,showRemoveAvatarButton:b,errors:y.avatar,sectionTitle:x.Z.Messages.USER_SETTINGS_AVATAR,
forcedDivider:!0,withHighlight:e},"avatar")}}),(0,r.jsx)(Il,{user:o},"decoration"),(0,r.jsxs)(Pl,{user:o,children:[_&&(0,r.jsx)(Rs.$,{substeps:[Kr.H6.PROFILE_CUSTOMIZATION_BANNER],children:function(e){return(0,r.jsx)(Da,{canUsePremiumCustomization:m,showRemoveBannerButton:g,errors:y.banner,upsellButton:(0,r.jsx)(Rl,{user:o}),onBannerChange:mo.g_,disabled:!m&&v,forcedDivider:!0,withHighlight:e},"banner")}}),v&&_&&(0,r.jsx)(Rs.$,{substeps:[Kr.H6.PROFILE_CUSTOMIZATION_THEME],onNext:function(){return e.navigateToGuildIdentitySettings()},children:function(){return(0,r.jsx)(as,{user:o,pendingAvatar:s,pendingColors:h,onThemeColorsChange:mo.z5,forcedDivider:!0})}})]}),(!m||!v)&&(0,r.jsx)(Tl,{user:o,savedUserColor:null==i?void 0:i.accentColor,pendingColor:p,setPendingAccentColor:mo.CM},"color"),(0,r.jsx)(ls,{sectionTitle:x.Z.Messages.USER_SETTINGS_PRONOUNS,errors:y.pronouns,onPronounsChange:mo.ID,pendingPronouns:d,currentPronouns:null!==(t=null==i?void 0:i.pronouns)&&void 0!==t?t:""
},"pronouns"),(0,r.jsx)(Ca,{sectionTitle:x.Z.Messages.USER_SETTINGS_ABOUT_ME,errors:y.bio,onBioChange:function(e){(0,Ea.xQ)(e,null==i?void 0:i.bio);(0,u._V)(null!=e&&e.length>G.tPV)},pendingBio:f,currentBio:null!==(n=null==i?void 0:i.bio)&&void 0!==n?n:""},"bio")]})}function Ul(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function kl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Ul(e,t,n[t])}))}return e}function Gl(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Bl(){Br.default.track(G.rMx.PREMIUM_PROMOTION_OPENED,{location_page:G.ZY5.USER_SETTINGS,location_section:G.jXE.SETTINGS_ACCOUNT,location_object:G.qAy.BADGE});f.Z.setSection(G.oAB.PREMIUM)}function Hl(e){var t,n,i=(0,E.e7)([Vr.default],(function(){var e=Vr.default.getCurrentUser();L()(null!=e,"UserSettingsProfileCustomization: user cannot be undefined");return e})),s=(0,E.e7)([Dr.Z],(function(){return Dr.Z.hidePersonalInformation})),c=(0,E.cj)([So.Z],(function(){var e=So.Z.getAllPending(),t=So.Z.getErrors();return Gl(kl({},e),{errors:t})
})),f=c.pendingAvatar,d=c.pendingBanner,p=c.pendingBio,y=c.pendingPronouns,m=c.pendingDisplayName,b=c.pendingAccentColor,g=c.pendingAvatarDecoration,O=c.pendingThemeColors,v=si.dN.useSetting()&&null!=p?Xs.ZP.parse(void 0,p).content:p,_=Hr.ZP.canUsePremiumProfileCustomization(i);t=(0,Wo.U)().canUseAvatarDecorations,n=(0,qs.wE)(a.z$.AVATAR_DECORATION_NEW_BADGE),o.useEffect((function(){t&&!n&&(0,qs.EW)(a.z$.AVATAR_DECORATION_NEW_BADGE,{forceTrack:!0})}),[t,n]);var I=(0,h.Z)(rr.Z.PROFILE).AnalyticsLocationProvider,S={user:i,canUsePremiumCustomization:_,onUpsellClick:El,onAvatarChange:u.I5,onBannerChange:mo.g_,pendingBanner:d,pendingBio:v,pendingPronouns:y,pendingAvatar:f,pendingDisplayName:m,pendingAvatarDecoration:g,openPremiumSettings:Bl};o.useEffect((function(){return function(){return l.Z.wait(u.W3)}}),[]);return s?(0,r.jsx)(Mt.Z,{}):(0,r.jsx)(I,{children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ia,{profilePreview:(0,r.jsx)(Bi,Gl(kl({},S),{pendingThemeColors:O,pendingAccentColor:b
})),children:(0,r.jsx)(Dl,{navigateToGuildIdentitySettings:e.navigateToGuildIdentitySettings})}),!Hr.ZP.canUsePremiumProfileCustomization(i)&&(0,r.jsx)(sl,{user:i})]})})}var Vl=n(971738),Fl=n(497762),Yl=n(752758),zl=n.n(Yl);function Wl(){var e=function(e){if(d!==e)if(l){xe.S.dispatch(G.CkL.SHAKE_APP,{duration:300,intensity:Mo.$x});xe.S.dispatch(G.CkL.EMPHASIZE_NOTICE)}else{e===Or.NB.GUILD&&null==n&&null!=c&&(0,be.Fq)(c,m);f.Z.setSection(G.oAB.PROFILE_CUSTOMIZATION,e)}},t=(0,E.e7)([Ms.Z],(function(){return Ms.Z.getFlattenedGuildIds()})),n=(0,E.e7)([ge.Z],(function(){return ge.Z.getGuild()})),i=(0,E.e7)([Vl.Z],(function(){return Vl.Z.getGuildId()})),a=(0,E.e7)([un.Z],(function(){return un.Z.getGuild(null!=i?i:t[0])})),l=(0,E.e7)([ge.Z,So.Z],(function(){return ge.Z.showNotice()||So.Z.showNotice()})),c=null!=n?n:a,u=(0,E.e7)([Vr.default],(function(){return Vr.default.getCurrentUser()})),d=(0,E.e7)([Ur.Z],(function(){var e
;return null!==(e=Ur.Z.getSubsection())&&void 0!==e?e:Or.NB.USER_PROFILE})),p=(0,h.Z)(),y=p.AnalyticsLocationProvider,m=p.analyticsLocations;o.useEffect((function(){null!=u&&(0,Ks.Z)(u.id,u.getAvatarURL(null==c?void 0:c.id,80),{guildId:null==c?void 0:c.id})}),[null==c?void 0:c.id,u]);o.useEffect((function(){return function(){(0,Ws.RI)(Kr.QD.PROFILE_CUSTOMIZATION)}}),[]);return(0,r.jsx)(y,{children:(0,r.jsxs)(s.y5,{component:(0,r.jsx)(s.X6,{variant:"heading-lg/semibold",children:x.Z.Messages.USER_SETTINGS_PROFILES}),children:[(0,r.jsxs)(Fl.ZP,{className:zl().tabBar,type:Fl.ZP.Types.TOP,look:Fl.ZP.Looks.BRAND,selectedItem:d,onItemSelect:e,children:[(0,r.jsx)(Fl.ZP.Item,{className:zl().tabBarItem,id:Or.NB.USER_PROFILE,children:x.Z.Messages.EDIT_PROFILE_CATEGORY_USER_PROFILE},Or.NB.USER_PROFILE),(0,r.jsx)(Fl.ZP.Item,{className:zl().tabBarItem,id:Or.NB.GUILD,children:x.Z.Messages.EDIT_PROFILE_CATEGORY_GUILD_IDENTITY},Or.NB.GUILD)]}),function(){switch(d){case Or.NB.GUILD:return(0,r.jsx)(Ys,{
selectedGuild:c,navigateToUserProfileSettings:function(){return e(Or.NB.USER_PROFILE)}});case Or.NB.USER_PROFILE:default:return(0,r.jsx)(Hl,{navigateToGuildIdentitySettings:function(){return e(Or.NB.GUILD)}})}}()]})})}var Kl=n(498377),ql=n(934714),Xl=n(870),Ql=n(334444),$l=n(81951),Jl=n(30741),ec=n(742269);const tc=(0,pa.B)({kind:"user",id:"2022-06_auth_sessions_user_settings",label:"Auth Sessions User Settings",defaultConfig:{showSettings:!1},treatments:[{id:1,label:"Show settings",config:{showSettings:!0}}]});var nc=n(131795),rc=n.n(nc),oc=n(696499),ic=n.n(oc);function ac(){var e,t,n,o=window.GLOBAL_ENV.RELEASE_CHANNEL,i=null===(e="93b5e5ecc848ae630bd1c92cb4040102b00e5361")?void 0:e.substring(0,7),a=null===K.Z||void 0===K.Z?void 0:K.Z.remoteApp.getVersion(),l=null===(t=null===K.Z||void 0===K.Z?void 0:K.Z.remoteApp.getBuildNumber)||void 0===t?void 0:t(),c=null===rc()||void 0===rc()||null===(n=rc().os)||void 0===n?void 0:n.toString(),u=null!=K.Z?"(".concat(K.Z.os.release,")"):null
;return(0,r.jsxs)("div",{className:ic().info,children:[(0,r.jsxs)(s.xv,{tag:"span",className:ic().line,variant:"text-xs/normal",color:"text-muted",children:[o," ","176745"," ",(0,r.jsxs)("span",{className:ic().versionHash,children:["(",i,")"]})]})," ",null!=a?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s.xv,{tag:"span",className:ic().line,variant:"text-xs/normal",color:"text-muted",children:["Host ",a," ",null!=l?(0,r.jsxs)("span",{children:["(",l,")"]}):null]})," "]}):null,null!=c?(0,r.jsxs)(s.xv,{tag:"span",className:ic().line,variant:"text-xs/normal",color:"text-muted",children:[c," ",u]}):null]})}var sc=n(619323),lc=n(983067),cc=n(719455),uc=n(639617),fc=n.n(uc);function dc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{
for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return dc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dc(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hc(e){var t=e.hotspotLocation,n=pc((0,E.Wu)([sc.qc],(function(){return[sc.qc.hasHotspot(t,!0),sc.qc.getHotspotOverride(t)]})),2),o=n[0],i=n[1];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s.xJ,{title:t,className:fc().hotspotSwitch,children:[o?(0,r.jsx)(rn.DY,{className:fc().iconContainer,element:"span",text:"Active",
children:(0,r.jsx)(lc.Z,{className:fc().checkmark})}):(0,r.jsx)(rn.DY,{className:fc().iconContainer,element:"span",text:"Inactive",children:(0,r.jsx)(cc.Z,{className:fc().xmark})}),(0,r.jsx)(s.q4,{className:fc().overrideSelect,value:i,options:[{value:void 0,label:"No Override"},{value:!0,label:"Force Active"},{value:!1,label:"Force Inactive"}],onChange:function(e){return null!=e?(0,sc.hv)(t,e):(0,sc.Po)(t)}})]}),(0,r.jsx)(s.$i,{})]})}function Ec(e){var t=e.className;return(0,r.jsxs)(s.hj,{title:"Hotspots",tag:s.RB.H1,className:t,children:[(0,r.jsx)(s.xv,{className:fc().helpText,tag:"p",variant:"text-sm/normal",children:'All the "hotspots" in app, and their current status. Use the select menu to override them on or off.'}),Object.keys(sc.v6).sort((function(e,t){return e.localeCompare(t)})).map((function(e){return(0,r.jsx)(hc,{hotspotLocation:e},e)}))]})}var yc=n(817673),mc=n(353192),bc=n(224292),gc=n(522370),Oc=n(598022),vc=n.n(Oc);function _c(e,t){(null==t||t>e.length)&&(t=e.length)
;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ic(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Sc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Ic(e,t,n[t])}))}return e}function Tc(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Nc(e,t){return function(e){
if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const Cc=function(){var e=Nc(o.useState(Kr.Si.TIER_2),2),t=e[0],n=e[1],i=Nc((0,E.Wu)([un.Z],(function(){return[un.Z.getGuilds()]})),1)[0],l=Nc((0,
E.Wu)([Zt.Z],(function(){return[Zt.Z.getPremiumSubscription()]})),1)[0],c=Object.values(i).map((function(e){return{value:e,label:e.name}})),u=Nc(o.useState(c.length>0?c[0].value:null),2),f=u[0],d=u[1],p=Nc(o.useState(""),2),y=p[0],m=p[1],b=Nc(o.useState({plan_id:Kr.Xh.PREMIUM_MONTH_TIER_2,gift:"true"}),2),g=b[0],O=b[1],v="true"!==g.gift&&null!=l,_=Nc(o.useState(c.length>0?c[0].value:null),2),I=_[0],S=_[1],T=(0,h.Z)(rr.Z.PAYMENT_FLOW_TEST_PAGE),N=T.AnalyticsLocationProvider,C=T.analyticsLocations;(0,Vn.tT)(null==I?void 0:I.id);var A=(0,Vn.GG)(null==I?void 0:I.id),P=o.useMemo((function(){return null==I?[]:A.filter((function(e){return null!=e.subscription_listings&&e.subscription_listings.map((function(e){return e.published})).includes(!0)}))}),[A,I]);return(0,r.jsx)(N,{children:(0,r.jsxs)(s.hj,{title:"Payment Flow Modals",tag:s.RB.H1,children:[(0,r.jsx)(s.vw,{children:"Gift"}),(0,r.jsxs)(s.xJ,{className:vc().formItem,children:[(0,r.jsx)(s.q4,{value:t,options:[{value:Kr.Si.TIER_2,
label:"Nitro"},{value:Kr.Si.TIER_1,label:"Nitro Classic"},{value:Kr.Si.TIER_0,label:"Nitro Basic"}],onChange:function(e){return n(e)}}),(0,r.jsx)(ps.Z,{subscriptionTier:t,isGift:!0,premiumModalAnalyticsLocation:{}})]}),(0,r.jsx)(s.$i,{className:vc().formDivider}),(0,r.jsx)(s.vw,{children:"Premium Select Plan"}),(0,r.jsx)(s.xJ,{className:vc().formItem,children:(0,r.jsx)(s.zx,{onClick:function(){return(0,bc.Z)({analyticsLocations:C})},children:"Select Plan"})}),(0,r.jsx)(s.$i,{className:vc().formDivider}),(0,r.jsx)(s.vw,{children:"Boost"}),(0,r.jsxs)(s.xJ,{className:vc().formItem,children:[(0,r.jsx)(s.q4,{value:f,options:c,onChange:function(e){return d(e)}}),null!=f?(0,r.jsx)(mc.Z,{guild:f,analyticsLocation:{}}):(0,r.jsx)("div",{children:"No Guild to boost"})]}),(0,r.jsx)(s.$i,{className:vc().formDivider}),(0,r.jsxs)(s.vw,{children:[(0,r.jsx)("div",{children:"Standalone: Trial Promotion Redemption"}),(0,r.jsx)(s.ee,{href:"https://i.dis.gd/createPromo",children:"How to create promotion"
})]}),(0,r.jsxs)(s.xJ,{className:vc().formItem,children:[(0,r.jsx)(s.oi,{placeholder:"Promotion Code",value:y,onChange:function(e){return m(e)}}),(0,r.jsx)(rn.ZP,{text:"Need Promotion Code",shouldShow:y.length<1,children:function(e){var t=e.onMouseEnter,n=e.onMouseLeave;return(0,r.jsx)(s.zx,{disabled:y.length<1,onMouseEnter:t,onMouseLeave:n,onClick:function(){window.open(G.Z5c.BILLING_PROMOTION_REDEMPTION(y))},children:"Open Link"})}})]}),(0,r.jsx)(s.$i,{className:vc().formDivider}),(0,r.jsx)(s.vw,{children:"Standalone: Gift/Subscription Purchase"}),(0,r.jsxs)(s.xJ,{className:vc().formItem,children:[(0,r.jsx)(s.q4,{value:g.plan_id,options:[{value:Kr.Xh.PREMIUM_MONTH_TIER_2,label:"Nitro"},{value:Kr.Xh.PREMIUM_MONTH_TIER_1,label:"Nitro Classic"},{value:Kr.Xh.PREMIUM_MONTH_TIER_0,label:"Nitro Basic"}],onChange:function(e){return O((function(t){return Tc(Sc({},t),{plan_id:e})}))}}),(0,r.jsx)(s.q4,{value:g.gift,options:[{value:"true",label:"Gift"},{value:"false",label:"Not Gift"}],
onChange:function(e){return O((function(t){return Tc(Sc({},t),{gift:e})}))}}),(0,r.jsx)(rn.ZP,{text:"Already subscribed",shouldShow:v,children:function(e){var t=e.onMouseEnter,n=e.onMouseLeave;return(0,r.jsx)(s.zx,{onMouseLeave:n,onMouseEnter:t,disabled:v,onClick:function(){window.open(G.Z5c.BILLING_PREMIUM_SUBSCRIBE+"?"+yc.stringify(Sc({},g)))},children:"Open Link"})}})]}),(0,r.jsx)(s.$i,{className:vc().formDivider}),(0,r.jsx)(s.vw,{children:"Creator Revenue"}),(0,r.jsxs)(s.xJ,{className:vc().formItem,children:[(0,r.jsx)(s.xv,{className:vc().guildServerDescription,variant:"text-sm/normal",children:"Premium Server Subscription For"}),(0,r.jsx)(s.q4,{value:I,options:c,onChange:function(e){return S(e)}})]}),null!=I?(0,r.jsx)("div",{className:vc().formItem,children:P.map((function(e){return e.subscription_listings_ids.map((function(t){return(0,r.jsx)(ar.Z,{guildId:I.id,groupListingId:e.id,listingId:t},t)}))}))}):null,(0,r.jsx)(s.$i,{className:vc().formDivider}),(0,r.jsx)(s.vw,{
children:"Helpers"}),(0,r.jsxs)(s.xJ,{className:vc().formItem,children:[(0,r.jsx)(s.zx,{onClick:function(){return(0,Rt.mE)()},children:"Reset SubscriptionPlanStore"}),(0,r.jsx)(s.zx,{onClick:function(){return(0,Pt.GM)()},children:"Reset SubscriptionStore"})]}),(0,r.jsx)(s.$i,{className:vc().formDivider}),(0,r.jsx)(s.vw,{children:"Premium Tutorial"}),(0,r.jsxs)(s.xJ,{className:vc().formItem,children:[(0,r.jsx)(s.zx,{onClick:function(){return(0,gc.Rr)()},children:"Reset PremiumTutorialStore"}),(0,r.jsx)(s.zx,{onClick:function(){(0,oe.w9)(Kr.QD.CUSTOM_EMOJI);(0,oe.w9)(Kr.QD.BOOSTING);(0,oe.w9)(Kr.QD.PROFILE_CUSTOMIZATION);(0,oe.w9)(a.z$.PREMIUM_TUTORIAL_FILE_UPLOAD_COMPOSER_TOOLTIP);(0,oe.w9)(a.z$.PREMIUM_TUTORIAL_STICKER_PICKER_COMPOSER_TOOLTIP);(0,oe.w9)(a.z$.PREMIUM_TUTORIAL_EMOJI_PICKER_COMPOSER_TOOLTIP);(0,oe.w9)(a.z$.PREMIUM_TUTORIAL_SERVER_MENU_TOOLTIP)},children:"Reset all tutorials"}),(0,r.jsx)(s.zx,{onClick:function(){(0,Se.xf)();(0,Qn.uL)(G.Z5c.APPLICATION_STORE);(0,gc.HY)(!0)
;(0,gc.Dd)(!0);xe.S.dispatch(G.CkL.PREMIUM_SUBSCRIPTION_CREATED)},children:"Toggle Wow Moment"})]})]})})};var Ac=n(355543),Pc=n(28184),jc=n(471730),xc=n(379881),Rc=n(126436),Mc=n.n(Rc),wc={offset:{top:-8}};function Zc(){return(0,r.jsxs)("div",{className:Mc().socialLinks,children:[(0,r.jsx)(s.ee,{target:"_blank",tabIndex:-1,rel:"author",title:"Twitter",href:(0,Ac.Z)(G.RK.TWITTER),className:Mc().link,focusProps:wc,children:(0,r.jsx)(xc.Z,{foreground:Mc().foreground,"aria-hidden":!0})}),(0,r.jsx)(s.ee,{target:"_blank",rel:"author",title:"Facebook",tabIndex:-1,href:G.fK7.FACEBOOK_URL,className:Mc().link,focusProps:wc,children:(0,r.jsx)(Pc.Z,{foreground:Mc().foreground,"aria-hidden":!0})}),(0,r.jsx)(s.ee,{target:"_blank",rel:"author",title:"Instagram",tabIndex:-1,href:G.fK7.INSTAGRAM_URL,className:Mc().link,focusProps:wc,children:(0,r.jsx)(jc.Z,{foreground:Mc().foreground,"aria-hidden":!0})})]})}var Lc=n(742758);function Dc(e,t){(null==t||t>e.length)&&(t=e.length)
;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Uc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Dc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dc(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kc(){var e=Uc(o.useState(""),2),t=e[0],n=e[1];return(0,
r.jsxs)(s.hj,{title:"Text components",tag:s.RB.H1,children:[(0,r.jsx)(s.oi,{placeholder:"Enter custom text...",onChange:function(e){return n(e)}}),(0,r.jsx)(s.$i,{style:{margin:"10px 0"}}),Lc.O.map((function(e){return"code"===e?null:(0,r.jsx)(s.xv,{variant:e,children:""!==t?"".concat(t," (").concat(e,")"):e},e)}))]})}var Gc=n(484830),Bc=n(733436),Hc=n(761797),Vc=n(989115),Fc=n(819525),Yc=n(790948),zc=n(60890),Wc=n(565469),Kc=n(861298);function qc(e){switch(e){case Kc.mX.REDUCED_MOTION:return x.Z.Messages.ACCESSIBILITY_REDUCED_MOTION_SETTINGS_OVERRIDE.format();case Kc.mX.REDUCED_MOTION_STICKERS:return x.Z.Messages.STICKERS_AUTO_PLAY_HELP_DISABLED;default:return}}var Xc=n(723927),Qc=n(641645),$c=n(522271),Jc=n(10178),eu=n(766936),tu=n(730942),nu=n(722571),ru=n(796165),ou=n(66692),iu=n(218863),au=n.n(iu),su=n(603008),lu=n.n(su);function cu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function uu(e,t,n){t in e?Object.defineProperty(e,t,{
value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function fu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){uu(e,t,n[t])}))}return e}function du(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function pu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return cu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cu(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var hu=(0,on.hQ)(),Eu=(0,on.hQ)(),yu=(0,on.hQ)(),mu=_e().debounce((function(e){(0,Bc.o2)(e)}),250),bu=_e().debounce((function(e){(0,Xc.Ct)(e)}),250);function gu(e){var t=Hc.Z.useExperiment({},{
autoTrackExposure:!0}).allowRoleStyles,n=(0,Fi.Z)().canViewThemes;return(0,r.jsxs)(s.hj,{tag:s.RB.H1,title:x.Z.Messages.ACCESSIBILITY,children:[(0,r.jsx)(Ou,{}),(0,r.jsx)(vu,{}),(0,r.jsx)(s.$i,{}),(0,r.jsx)(_u,{}),t?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Iu,{}),(0,r.jsx)(s.$i,{className:fe().marginTop20})]}):null,n?(0,r.jsx)(Su,{}):null,(0,Vc.b)()?(0,r.jsx)(Tu,{}):null,(0,r.jsx)(Nu,{}),(0,r.jsx)(Cu,{}),(0,r.jsx)(Au,{}),(0,r.jsx)(Pu,{}),(0,r.jsx)(s.$i,{className:fe().marginBottom20}),(0,r.jsx)(s.xv,{variant:"text-md/normal",children:x.Z.Messages.ACCESSIBILITY_SETTINGS_APPEARANCE_LINK.format({onAppearanceClick:function(){f.Z.open(G.oAB.APPEARANCE)}})})]})}function Ou(){var e=si.jU.useSetting(),t=pu(o.useState((function(){var e=(0,Fc.e5)(du(fu({},(0,Yc.ZP)({channelId:"1337",content:x.Z.Messages.ACCESSIBILITY_SETTINGS_SATURATION_LINK_PREVIEW_MESSAGE.format({previewLink:"https://discord.com/accessibility"})})),{state:G.yb.SENT,id:"".concat(0)}));e.colorString="green";return e})),1)[0]
;return(0,r.jsx)(s.Rn,{children:(0,r.jsxs)(s.Zb,{className:au().preview,"aria-hidden":!0,children:[(0,r.jsxs)("div",{className:au().previewHeader,children:[(0,r.jsx)(s.zx,{size:s.zx.Sizes.SMALL,color:s.zx.Colors.BRAND,children:x.Z.Messages.ACCESSIBILITY_EXAMPLE_BUTTON_LABEL}),(0,r.jsx)("div",{className:au().previewAvatars,children:[G.Skl.ONLINE,G.Skl.DND,G.Skl.IDLE].map((function(e){return(0,r.jsx)(eu.Xo,{"aria-label":x.Z.Messages.USER_SETTINGS_AVATAR,src:lu(),size:eu.ZP.Sizes.SIZE_32,status:e},e)}))})]}),(0,r.jsx)("div",{className:au().previewMessage,children:(0,r.jsx)(Wc.Z,{compact:e,author:du(fu({},(0,zc.ZH)(t)),{colorString:"#DD80F4"}),message:t})})]})})}function vu(){var e=(0,E.cj)([Te.Z],(function(){return{saturation:Te.Z.saturation,desaturateUserColors:Te.Z.desaturateUserColors}})),t=e.saturation,n=e.desaturateUserColors;return(0,r.jsxs)(s.hj,{className:fe().marginTop20,children:[(0,r.jsx)(s.vw,{id:hu,className:fe().marginBottom8,
children:x.Z.Messages.ACCESSIBILITY_SETTINGS_SATURATION_TITLE}),(0,r.jsx)(s.R9,{id:Eu,type:s.R9.Types.DESCRIPTION,className:fe().marginBottom20,children:x.Z.Messages.ACCESSIBILITY_SETTINGS_SATURATION_DESCRIPTION}),(0,r.jsx)(s.iR,{"aria-labelledby":hu,"aria-describedby":Eu,markers:G.yqN.SATURATION_INCREMENTS,equidistant:!0,stickToMarkers:!0,maxValue:1,minValue:0,initialValue:t,onValueChange:mu,onMarkerRender:function(e){return 100*e%2==0?"".concat(100*e,"%"):void 0}}),(0,r.jsx)(s.j7,{hideBorder:!0,className:O()(fe().marginTop8,fe().marginBottom20),value:n,onChange:Bc.f1,note:x.Z.Messages.ACCESSIBILITY_SETTINGS_SATURATION_CUSTOM_COLORS_DESCRIPTION,children:x.Z.Messages.ACCESSIBILITY_SETTINGS_SATURATION_CUSTOM_COLORS_LABEL})]})}function _u(){var e=(0,E.e7)([Te.Z],(function(){return Te.Z.alwaysShowLinkDecorations}));return(0,r.jsx)(s.xJ,{className:fe().marginTop20,children:(0,r.jsx)(s.j7,{note:x.Z.Messages.ACCESSIBILITY_SETTINGS_ALWAYS_SHOW_LINK_DECORATIONS_NOTE,value:e,
onChange:function(){(0,Bc.gs)(!e)},children:x.Z.Messages.ACCESSIBILITY_SETTINGS_ALWAYS_SHOW_LINK_DECORATIONS_LABEL})})}function Iu(){var e=(0,E.e7)([Te.Z],(function(){return Te.Z.roleStyle}));return(0,r.jsxs)(s.xJ,{title:x.Z.Messages.ACCESSIBILITY_SETTINGS_ROLE_STYLE_TITLE,className:fe().marginTop20,children:[(0,r.jsx)(s.R9,{type:s.R9.Types.DESCRIPTION,className:fe().marginBottom8,children:x.Z.Messages.ACCESSIBILITY_SETTINGS_ROLE_STYLE_DESCRIPTION}),(0,r.jsx)(s.Ee,{options:[{name:x.Z.Messages.ACCESSIBILITY_SETTINGS_ROLE_STYLE_USERNAME_LABEL,value:"username"},{name:x.Z.Messages.ACCESSIBILITY_SETTINGS_ROLE_STYLE_DOT_LABEL,value:"dot"},{name:x.Z.Messages.ACCESSIBILITY_SETTINGS_ROLE_STYLE_HIDDEN_LABEL,value:"hidden"}],onChange:function(e){(0,Bc.u1)(e.value)},value:e})]})}function Su(){var e=(0,E.e7)([Te.Z],(function(){return Te.Z.syncProfileThemeWithUserTheme})),t=o.useRef(null);el(t,Or.rP.SYNC_PROFILE_THEME_WITH_USER_THEME);return(0,r.jsx)(s.xJ,{ref:t,
title:x.Z.Messages.ACCESSIBILITY_SETTINGS_PROFILE_COLORS_TITLE,className:O()(fe().marginTop20,au().syncProfileThemeWithUserTheme),children:(0,r.jsx)(s.j7,{note:x.Z.Messages.ACCESSIBILITY_SETTINGS_PROFILE_THEMES_NOTE.format({onThemeClick:function(){f.Z.open(G.oAB.APPEARANCE)}}),className:fe().marginTop20,value:e,onChange:Bc.Uv,children:x.Z.Messages.ACCESSIBILITY_SETTINGS_PROFILE_THEMES_DESCRIPTION})})}function Tu(){var e=pu((0,E.Wu)([Te.Z],(function(){return[Te.Z.syncForcedColors,Te.Z.systemForcedColors]})),2),t=e[0],n=e[1],i=pu(o.useState(t),2),a=i[0],l=i[1];o.useEffect((function(){l(t)}),[t]);var c=o.useRef(null);o.useEffect((function(){if(null!=c.current){clearTimeout(c.current);c.current=null}a!==t&&(c.current=setTimeout((function(){return(0,Bc.qz)(a)}),150))}),[a,t]);var u="active"===n?x.Z.Messages.ACCESSIBILITY_SETTINGS_SYNC_FORCED_COLORS_DESCRIPTION_WITH_FEEDBACK.format({learnMoreLink:sa.Z.getArticleURL(G.BhN.FORCED_COLORS),shareFeedbackLink:nu.Ee
}):x.Z.Messages.ACCESSIBILITY_SETTINGS_SYNC_FORCED_COLORS_DESCRIPTION.format({learnMoreLink:sa.Z.getArticleURL(G.BhN.FORCED_COLORS)});return(0,r.jsx)(s.xJ,{title:x.Z.Messages.ACCESSIBILITY_SETTINGS_CONTRAST,className:fe().marginTop20,children:(0,r.jsx)(s.j7,{value:a,note:u,onChange:l,children:x.Z.Messages.ACCESSIBILITY_SETTINGS_SYNC_FORCED_COLORS_LABEL})})}function Nu(){var e=si.QK.useSetting(),t=si.Yk.useSetting(),n=(0,E.cj)([Te.Z,tu.Z],(function(){return{systemPrefersReducedMotion:Te.Z.systemPrefersReducedMotion,rawPrefersReducedMotion:Te.Z.rawPrefersReducedMotion,useReducedMotion:Te.Z.useReducedMotion,gifAutoPlayOverrideReason:tu.Z.getAppliedOverrideReasonKey("gifAutoPlay"),animateEmojiOverrideReason:tu.Z.getAppliedOverrideReasonKey("animateEmoji")}})),i=n.useReducedMotion,a=n.rawPrefersReducedMotion,l=n.systemPrefersReducedMotion,c=n.gifAutoPlayOverrideReason,u=n.animateEmojiOverrideReason,f="auto"===a,d=o.useRef(null);el(d,Or.rP.REDUCED_MOTION);var p=o.useCallback((function(e,t){
(0,Bc.Zt)(t?"auto":l)}),[l]),h=o.useCallback((function(e){(0,Bc.Zt)(e?"reduce":"no-preference")}),[]);return(0,r.jsxs)(s.xJ,{ref:d,title:x.Z.Messages.ACCESSIBILITY_PREFERS_REDUCED_MOTION,className:O()(fe().marginTop20,au().reducedMotion),children:[(0,r.jsx)(s.R9,{type:s.R9.Types.DESCRIPTION,className:fe().marginBottom8,children:x.Z.Messages.ACCESSIBILITY_PREFERS_REDUCED_MOTION_DESCRIPTION.format({helpdeskArticle:sa.Z.getArticleURL(G.BhN.REDUCED_MOTION)})}),(0,r.jsx)(s.XZ,{className:fe().marginTop20,value:f,shape:s.XZ.Shapes.BOX,type:s.XZ.Types.INVERTED,onChange:p,children:(0,r.jsx)(s.xv,{variant:"text-sm/normal",children:x.Z.Messages.ACCESSIBILITY_PREFERS_REDUCED_MOTION_AUTO})}),(0,r.jsx)(s.j7,{className:fe().marginTop20,value:i,onChange:h,children:x.Z.Messages.ACCESSIBILITY_PREFERS_REDUCED_MOTION_ENABLE}),(0,r.jsx)(s.j7,{className:fe().marginBottom40,value:e,note:null!=c?qc(c):void 0,onChange:si.QK.updateSetting,children:x.Z.Messages.GIF_AUTO_PLAY_LABEL}),(0,r.jsx)(s.j7,{
className:O()(fe().marginTop8,fe().marginBottom20),value:t,note:null!=u?qc(u):void 0,onChange:si.Yk.updateSetting,children:x.Z.Messages.ANIMATE_EMOJI})]})}function Cu(){var e=si.Wp.useSetting(),t=(0,E.e7)([tu.Z],(function(){return tu.Z.getAppliedOverrideReasonKey("animateStickers")})),n=o.useCallback((function(e){si.Wp.updateSetting(e.value)}),[]);return(0,r.jsxs)(s.xJ,{className:fe().marginBottom40,title:x.Z.Messages.STICKERS_AUTO_PLAY_HEADING,children:[(0,r.jsx)(s.R9,{type:s.R9.Types.DESCRIPTION,className:fe().marginBottom8,children:null!=t?qc(t):x.Z.Messages.STICKERS_AUTO_PLAY_HELP}),(0,r.jsx)(s.Ee,{options:[{name:x.Z.Messages.STICKERS_ALWAYS_ANIMATE,value:ru.yr.ALWAYS_ANIMATE},{name:x.Z.Messages.STICKERS_ANIMATE_ON_INTERACTION,desc:x.Z.Messages.STICKERS_ANIMATE_ON_INTERACTION_DESCRIPTION,value:ru.yr.ANIMATE_ON_INTERACTION},{name:x.Z.Messages.STICKERS_NEVER_ANIMATE,value:ru.yr.NEVER_ANIMATE}],onChange:n,value:e})]})}function Au(){var e=(0,E.e7)([Te.Z],(function(){
return Te.Z.isSubmitButtonEnabled})),t=si.dN.useSetting();return(0,r.jsxs)(s.xJ,{children:[(0,r.jsx)(s.vw,{className:fe().marginBottom8,children:x.Z.Messages.FORM_LABEL_ACCESSIBILITY_CHAT_INPUT}),(0,r.jsx)(s.j7,{className:fe().marginTop20,value:e,onChange:Bc.eN,children:x.Z.Messages.DISPLAY_SUBMIT_BUTTON}),(0,r.jsx)(s.j7,{className:fe().marginTop8,value:t,note:x.Z.Messages.LEGACY_CHAT_INPUT_DESCRIPTION,onChange:function(e){Br.default.track(G.rMx.LEGACY_CHAT_INPUT_TOGGLED,{enabled:e,location:{section:G.jXE.SETTINGS_ACCESSIBILITY}});si.dN.updateSetting(e)},children:x.Z.Messages.LEGACY_CHAT_INPUT})]})}function Pu(){var e=si.OW.useSetting(),t=(0,E.e7)([Qc.Z],(function(){return Qc.Z.speechRate})),n=pu(o.useState(!1),2),i=n[0],a=n[1];if(!Gc.Zh)return null;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s.xJ,{children:[(0,r.jsx)(s.vw,{className:fe().marginBottom8,children:x.Z.Messages.FORM_LABEL_TTS}),(0,r.jsx)(s.j7,{className:fe().marginTop20,value:e,onChange:si.OW.updateSetting,
children:x.Z.Messages.ALLOW_TTS_COMMAND})]}),(0,r.jsxs)(s.xJ,{className:fe().marginBottom20,children:[(0,r.jsx)(s.vw,{id:yu,className:fe().marginBottom20,children:x.Z.Messages.ACCESSIBILITY_SETTINGS_TTS_RATE_LABEL}),(0,r.jsx)("div",{className:au().ttsPreviewWrapper,children:(0,r.jsx)(s.zx,{color:s.Tt.BRAND_NEW,onClick:function(){if(i){(0,Xc.NB)();a(!1)}else{(0,Xc.cP)(x.Z.Messages.ACCESSIBILITY_SETTINGS_TTS_RATE_TEST,!0,void 0,(function(){return a(!0)}),(function(){return a(!1)}));a(!0)}},children:(0,r.jsxs)(ae.Z,{align:ae.Z.Align.CENTER,children:[i?(0,r.jsx)($c.Z,{width:24,height:24}):(0,r.jsx)(Jc.Z,{width:24,height:24}),(0,r.jsx)("span",{children:x.Z.Messages.ACCESSIBILITY_SETTINGS_TTS_RATE_PREVIEW}),(0,r.jsx)(s.nn,{children:x.Z.Messages.ACCESSIBILITY_SETTINGS_TTS_RATE_LABEL})]})})}),(0,r.jsx)(s.iR,{markers:ou.q,initialValue:t,defaultValue:1,stickToMarkers:!0,onValueChange:bu,onValueRender:function(e){return"x".concat(e.toFixed(2))},onMarkerRender:function(e){return 0===e?(0,
r.jsx)("span",{className:au().ttsSliderMarker,children:x.Z.Messages.ACCESSIBILITY_SETTINGS_TTS_RATE_SLOWER}):10===e?(0,r.jsx)("span",{className:au().ttsSliderMarker,children:x.Z.Messages.ACCESSIBILITY_SETTINGS_TTS_RATE_FASTER}):1===e?(0,r.jsx)("span",{children:"x1.0"}):e%1==0?"":void 0},"aria-labelledby":yu})]})]})}var ju=n(179211),xu=n(444133),Ru=(n(442068),n(375650));function Mu(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function wu(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Mu(i,r,o,a,s,"next",e)}function s(e){Mu(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Zu(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Lu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Zu(e,t,n[t])}))}return e}var Du=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}
if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};const Uu=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;(0,je.ZD)(wu((function(){var t,o;return Du(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(40724)]).then(n.bind(n,987554))];case 1:t=i.sent(),o=t.default;return[2,function(t){return(0,r.jsx)(o,Lu({claimRequired:e},t))}]}}))})),{onCloseRequest:e?Ru.dG:null,onCloseCallback:t})};var ku=n(585771),Gu=n(80635),Bu=n(118499),Hu=n(394330),Vu=n(48509),Fu=n(997846),Yu=n(828917),zu=n(970112),Wu=n(281081),Ku=n(769672),qu=n(954766),Xu=n(862055),Qu=n(923412),$u=n(675860);function Ju(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value
}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function ef(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ju(i,r,o,a,s,"next",e)}function s(e){Ju(i,r,o,a,s,"throw",e)}a(void 0)}))}}var tf=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0
;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function nf(){return(nf=ef((function(){var e,t,n,r;return tf(this,(function(o){switch(o.label){case 0:return[4,$u.Z.post({url:G.ANM.MFA_WEBAUTHN_CREDENTIALS,body:{}})];case 1:e=o.sent(),t=e.body,n=t.ticket,r=t.challenge;return[2,{ticket:n,challenge:r}]}}))}))).apply(this,arguments)}function rf(){return(rf=ef((function(e,t,n){var r;return tf(this,(function(o){switch(o.label){case 0:return[4,$u.Z.post({url:G.ANM.MFA_WEBAUTHN_CREDENTIALS,body:{name:e,ticket:t,credential:n}})];case 1:r=o.sent();l.Z.dispatch({type:"MFA_WEBAUTHN_CREDENTIAL_CREATE",credential:r.body});return[2]}}))}))).apply(this,arguments)}const of=(0,pa.B)({id:"2022-08_webauthn",label:"WebAuthn",
kind:"user",defaultConfig:{enabled:!1},treatments:[{id:0,label:"Control",config:{enabled:!1}},{id:1,label:"Enabled",config:{enabled:!0}}]});function af(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lf(e){lf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return lf(e)}function cf(e,t){return!t||"object"!==df(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function uf(e,t){uf=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return uf(e,t)}function ff(e){return function(e){if(Array.isArray(e))return af(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return
;if("string"==typeof e)return af(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return af(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var df=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function pf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=lf(e);if(t){var o=lf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return cf(this,n)}}var hf=!1,Ef=[]
;var yf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&uf(e,t)}(n,e);var t=pf(n);function n(){sf(this,n);return t.apply(this,arguments)}var r=n.prototype;r.hasFetchedCredentials=function(){return hf};r.getCredentials=function(){return Ef};r.__getLocalVars=function(){return{fetchedCredentials:hf,credentials:Ef}};return n}(E.ZP.Store);yf.displayName="WebAuthnStore";const mf=new yf(l.Z,{LOGOUT:function(){Ef=[]},MFA_WEBAUTHN_CREDENTIALS_LOADING:function(){hf=!0;return!0},MFA_WEBAUTHN_CREDENTIALS_LOADED:function(e){Ef=e.credentials;return!0},MFA_WEBAUTHN_CREDENTIAL_CREATE:function(e){var t=e.credential;Ef=ff(Ef).concat([t]);return!0},MFA_WEBAUTHN_CREDENTIAL_DELETE:function(e){var t=e.credentialId;Ef=Ef.filter((function(e){return e.id!==t}));return!0}});var bf,gf=n(428300),Of=n.n(gf);function vf(e,t){
(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _f(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function If(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){_f(e,t,n[t])}))}return e}function Sf(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}
function Tf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return vf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vf(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}!function(e){e.INIT="INIT";e.REGISTER="REGISTER";e.NAME="NAME"}(bf||(bf={}));function Nf(e){
var t=e.transitionState,i=e.onClose,a=e.ticket,l=e.challenge,c=(0,on.Dt)(),u=Tf(o.useState(""),2),f=u[0],d=u[1],p=Tf(o.useState(bf.INIT),2),h=p[0],E=p[1],y=Tf(o.useState(""),2),m=y[0],b=y[1],g=Tf(o.useState(null),2),O=g[0],v=g[1];return(0,r.jsxs)(or.Y0,{transitionState:t,"aria-labelledby":c,children:[(0,r.jsxs)(or.xB,{className:Of().header,separator:!1,children:[(0,r.jsxs)(s.X6,{id:c,variant:"heading-lg/semibold",children:[h===bf.INIT&&x.Z.Messages.TWO_FA_WEBAUTHN_REGISTER,h===bf.REGISTER&&x.Z.Messages.TWO_FA_WEBAUTHN_INTERACT,h===bf.NAME&&x.Z.Messages.TWO_FA_WEBAUTHN_NAME]}),(0,r.jsx)(or.ol,{onClick:i,className:Of().modalCloseButton})]}),(0,r.jsxs)(qu.My,{activeSlide:h,width:440,children:[(0,r.jsxs)(qu.Mi,{id:bf.INIT,children:[(0,r.jsxs)(or.hz,{className:Of().content,children:[(0,r.jsx)("div",{className:Of().icon,children:(0,r.jsx)("img",{alt:"",src:n(692417)})}),(0,r.jsx)("div",{children:null!=O&&(0,r.jsx)(s.xv,{variant:"text-md/normal",color:"status-danger",children:O})}),(0,
r.jsx)("div",{children:(0,r.jsx)(s.xv,{variant:"text-md/normal",children:x.Z.Messages.TWO_FA_WEBAUTHN_REGISTER_INSTRUCTIONS})})]}),(0,r.jsx)(or.mz,{children:(0,r.jsx)(s.zx,{onClick:function(){E(bf.REGISTER);zu.Ue(JSON.parse(l)).then((function(e){b(JSON.stringify(e));E(bf.NAME)})).catch((function(e){v(e.message);E(bf.INIT)}))},children:x.Z.Messages.TWO_FA_WEBAUTHN_REGISTER_CONFIRM})})]}),(0,r.jsxs)(qu.Mi,{id:bf.REGISTER,children:[(0,r.jsxs)(or.hz,{className:Of().content,children:[(0,r.jsx)("div",{className:Of().icon,children:(0,r.jsx)("img",{alt:"",src:n(692417)})}),(0,r.jsx)("div",{children:(0,r.jsx)(s.xv,{variant:"text-md/normal",children:x.Z.Messages.TWO_FA_WEBAUTHN_INTERACT_INSTRUCTIONS})})]}),(0,r.jsx)(or.mz,{children:(0,r.jsx)(s.zx,{submitting:!0})})]}),(0,r.jsx)(qu.Mi,{id:bf.NAME,children:(0,r.jsxs)("form",{onSubmit:function(e){e.preventDefault();(function(e,t,n){return rf.apply(this,arguments)})(f,a,m).then((function(){return i()})).catch((function(e){v(e.message);E(bf.REGISTER)
}))},children:[(0,r.jsxs)(or.hz,{className:Of().content,children:[(0,r.jsx)("div",{className:Of().icon,children:(0,r.jsx)("img",{alt:"",src:n(88094)})}),(0,r.jsxs)("div",{children:[(0,r.jsx)(s.xv,{variant:"text-md/normal",children:x.Z.Messages.TWO_FA_WEBAUTHN_NAME_INSTRUCTIONS}),(0,r.jsx)(s.oi,{className:Of().input,value:f,onChange:d})]})]}),(0,r.jsx)(or.mz,{children:(0,r.jsx)(s.zx,{type:"submit",children:x.Z.Messages.TWO_FA_WEBAUTHN_REGISTER_FINISH})})]})})]})]})}function Cf(e){var t=e.onSelect,n=e.credentialId;return(0,r.jsx)(Ku.ZP,{navId:"webauthn-credential-actions",onClose:Wu.Zy,"aria-label":x.Z.Messages.TWO_FA_WEBAUTHN_CREDENTIAL_OPTIONS,onSelect:t,children:(0,r.jsx)(Ku.sN,{id:"webauthn-delete-credential",label:x.Z.Messages.TWO_FA_WEBAUTHN_DELETE_CREDENTIAL,action:function(){!function(e){$u.Z.delete(G.ANM.MFA_WEBAUTHN_CREDENTIAL(e)).then((function(){l.Z.dispatch({type:"MFA_WEBAUTHN_CREDENTIAL_DELETE",credentialId:e})}))}(n)}})})}function Af(){var e=(0,E.cj)([mf],(function(){
return{hasFetchedCredentials:mf.hasFetchedCredentials(),credentials:mf.getCredentials()}})),t=e.credentials,n=e.hasFetchedCredentials,i=of.getCurrentConfig({}).enabled;o.useEffect((function(){i&&!n&&function(){l.Z.dispatch({type:"MFA_WEBAUTHN_CREDENTIALS_LOADING"});$u.Z.get(G.ANM.MFA_WEBAUTHN_CREDENTIALS).then((function(e){l.Z.dispatch({type:"MFA_WEBAUTHN_CREDENTIALS_LOADED",credentials:e.body})}))}()}),[i,n]);var a=Tf(o.useState(!1),2),c=a[0],u=a[1];return i?(0,r.jsxs)(s.hj,{title:x.Z.Messages.TWO_FA_WEBAUTHN_TITLE,className:Of().settings,children:[(0,r.jsx)(s.R9,{type:s.R9.Types.DESCRIPTION,className:Of().description,children:x.Z.Messages.TWO_FA_WEBAUTHN_DESCRIPTION}),t.length>0&&(0,r.jsx)("div",{className:Of().credentialList,children:t.map((function(e){return(0,r.jsx)(Qu.Z,{avatar:null,name:e.name,className:Of().credentialItem,onContextMenu:function(t){(0,Wu.vq)(t,(function(t){return(0,r.jsx)(Cf,Sf(If({},t),{credentialId:e.id}))}))},children:(0,r.jsx)(s.zx,{look:s.zx.Looks.BLANK,
color:s.zx.Colors.TRANSPARENT,size:s.zx.Sizes.ICON,onClick:function(t){(0,Wu.vq)(t,(function(t){return(0,r.jsx)(Cf,Sf(If({},t),{credentialId:e.id}))}))},"aria-label":x.Z.Messages.TWO_FA_WEBAUTHN_CREDENTIAL_OPTIONS,innerClassName:Of().credentialOptions,children:(0,r.jsx)(Xu.Z,{className:Of().overflowIcon,foreground:Of().overflowIconFg,"aria-hidden":!0})})},e.id)}))}),(0,r.jsx)("div",{children:(0,r.jsx)(s.zx,{onClick:function(){u(!0);(function(){return nf.apply(this,arguments)})().then((function(e){var t=e.ticket,n=e.challenge;(0,je.h7)((function(e){return(0,r.jsx)(Nf,Sf(If({},e),{ticket:t,challenge:n}))}))})).finally((function(){u(!1)}))},submitting:c,size:s.zx.Sizes.SMALL,children:x.Z.Messages.TWO_FA_WEBAUTHN_REGISTER})})]}):null}var Pf=n(726283),jf=n(519964);var xf=n(90522),Rf=n(330665),Mf=n(177056),wf=n.n(Mf);function Zf(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function Lf(e){return function(){var t=this,n=arguments
;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Zf(i,r,o,a,s,"next",e)}function s(e){Zf(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Df(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Uf(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function kf(e){kf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return kf(e)}function Gf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Uf(e,t,n[t])}))}return e}function Bf(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e)
;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Hf(e,t){return!t||"object"!==Ff(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Vf(e,t){Vf=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Vf(e,t)}var Ff=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Yf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=kf(e);if(t){
var o=kf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Hf(this,n)}}var zf=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2]
;a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function Wf(e){var t=e.code,n=t.code,i=t.consumed,a="".concat(n.substr(0,4),"-").concat(n.substr(4)),l=o.useRef(null),c=o.useCallback((function(e){if("c"===e.key&&e.metaKey&&Pf.wS){var t;e.preventDefault();e.stopPropagation();(0,Pf.JG)(a);null==l||null===(t=l.current)||void 0===t||t.focus()}}),[a]);return(0,r.jsx)("li",{className:fe().marginBottom20,children:(0,r.jsx)(s.P3,{innerRef:l,className:wf().backupCode,onKeyDown:c,children:(0,r.jsx)(s.XZ,{displayOnly:!0,readOnly:!0,className:wf().codeCheckbox,value:i,children:(0,r.jsx)("span",{className:wf().code,children:a})})})})}var Kf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}})
;t&&Vf(e,t)}(o,e);var t=Yf(o);function o(){Df(this,o);var e;(e=t.apply(this,arguments)).state={revealed:!1,password:""};e.togglePhoneNumberVisibility=function(t){t.preventDefault();e.setState({revealed:!e.state.revealed})};e.handleDisableMFA=function(){ju.Z.disable()};e.generateBackupCodes=Lf((function(){var e;return zf(this,(function(t){switch(t.label){case 0:e=ku.Z.getVerificationKey();return[4,ju.Z.confirmViewBackupCodes(e,!0)];case 1:t.sent();return[2]}}))}));e.sendMFABackupCodesVerificationKeyEmail=function(){(0,je.h7)((function(t){return(0,r.jsx)(xu.default,Bf(Gf({},t),{handleSubmit:function(t){return ju.Z.sendMFABackupCodesVerificationKeyEmail(t).then((function(){e.viewBackupCodes(t)}))},title:x.Z.Messages.TWO_FA_VIEW_BACKUP_CODES_ENTER_PASSWORD,actionText:x.Z.Messages.TWO_FA_BACKUP_CODES_NEXT_ACTION}))}))};e.viewBackupCodes=function(e){(0,je.h7)((function(t){return(0,r.jsx)(Vu.Z,Bf(Gf({},t),{handleSubmit:function(e){return ju.Z.confirmViewBackupCodes(e,!1).then((function(){
return t.onClose()}))},maxLength:8,title:x.Z.Messages.TWO_FA_CONFIRM_VIEW_BACKUP_CODES_LABEL,label:x.Z.Messages.TWO_FA_CONFIRM_VIEW_BACKUP_CODES_INPUT_LABEL,forceNoPlaceholder:!0,retryPrompt:x.Z.Messages.TWO_FA_CONFIRM_VIEW_RESEND_EMAIL_PROMPT,retrySuccessMessage:x.Z.Messages.TWO_FA_CONFIRM_VIEW_RESEND_EMAIL_SUCCESS,onRetry:function(){return ju.Z.sendMFABackupCodesVerificationKeyEmail(e)},actionText:x.Z.Messages.TWO_FA_VIEW_CODES_SUBMIT,helpMessage:x.Z.Messages.TWO_FA_CONFIRM_VIEW_BACKUP_CODES_BODY}))}))};e.getDownloadFileContents=function(){var t=e.props.backupCodes.map((function(e){var t=e.consumed,n=e.code;return"* ".concat(n.substr(0,4),"-").concat(n.substr(4)," ").concat(t?"(used)":"")})).join("\r\n"),n=x.Z.Messages.TWO_FA_DISCORD_BACKUP_CODES.format({email:e.props.currentUser.email});return"".concat(n,"\r\n\r\n").concat(t)};e.handleChangePhoneNumber=function(){e.openPhoneVerificationModal()};e.handleEnableSMS=function(){var t=function(){(0,je.h7)((function(e){return(0,
r.jsx)(xu.default,Bf(Gf({},e),{handleSubmit:ju.Z.enableSMS,title:x.Z.Messages.MFA_SMS_ENABLE}))}))};null==e.props.currentUser.phone?e.openPhoneVerificationModal({onAddedPhone:t}):t()};e.handleDisableSMS=function(){(0,je.h7)((function(e){return(0,r.jsx)(xu.default,Bf(Gf({},e),{handleSubmit:ju.Z.disableSMS,title:x.Z.Messages.MFA_SMS_REMOVE,children:x.Z.Messages._MFA_SMS_CONFIRM_REMOVE_BODY}))}))};return e}var i=o.prototype;i.maskPhoneNumber=function(e){return null==e?"":"".concat("*".repeat(e.length-4)).concat(e.slice(-4))};i.renderMFASMS=function(){var e,t,n=this.state.revealed,o=this.props,i=o.currentUser,a=o.togglingSMS,l=null!=i.phone,c=i.hasFlag(G.xW$.MFA_SMS);if(l||c){var u=n?i.phone:this.maskPhoneNumber(i.phone);t=(0,r.jsxs)(s.R9,{type:s.R9.Types.DESCRIPTION,className:fe().marginBottom8,children:[x.Z.Messages.MFA_SMS_AUTH_CURRENT_PHONE.format({phoneNumber:u}),(0,r.jsx)(s.ee,{onClick:this.togglePhoneNumberVisibility,className:wf().phoneRevealer,
children:n?x.Z.Messages.MFA_SMS_PHONE_NUMBER_HIDE:x.Z.Messages.MFA_SMS_PHONE_NUMBER_REVEAL})]})}if(c)e=(0,r.jsx)(ae.Z,{className:l?"":fe().marginTop8,children:(0,r.jsx)(s.zx,{color:s.zx.Colors.RED,look:s.zx.Looks.OUTLINED,size:s.zx.Sizes.SMALL,submitting:a,onClick:this.handleDisableSMS,children:x.Z.Messages.MFA_SMS_REMOVE})});else{var f=function(e){return e.hasAnyStaffLevel()||e.hasFlag(G.xW$.PARTNER)?x.Z.Messages.MFA_SMS_DISABLED_PARTNER:null==e.email?x.Z.Messages.MFA_SMS_DISABLED_NO_EMAIL:null}(i);e=(0,r.jsxs)(ae.Z,{className:l?"":fe().marginTop8,children:[(0,r.jsx)(s.zx,{onClick:this.handleEnableSMS,size:s.zx.Sizes.SMALL,submitting:a,disabled:null!=f,children:null!=f?f:x.Z.Messages.MFA_SMS_ENABLE}),l?(0,r.jsx)(s.zx,{onClick:this.handleChangePhoneNumber,color:s.zx.Colors.PRIMARY,size:s.zx.Sizes.SMALL,look:s.zx.Looks.LINK,children:x.Z.Messages.CHANGE_PHONE_NUMBER}):null]})}return(0,r.jsxs)(s.hj,{className:fe().marginTop40,title:x.Z.Messages.MFA_SMS_AUTH,children:[(0,r.jsx)(s.R9,{
type:s.R9.Types.DESCRIPTION,children:x.Z.Messages.MFA_SMS_AUTH_SALES_PITCH}),t,e]})};i.renderEnabled=function(){var e,t=this,o=this.props,i=o.isRoleSubscriptionGuildAdmin,a=o.backupCodes,l=(0,r.jsx)(s.zx,{onClick:this.sendMFABackupCodesVerificationKeyEmail,size:s.zx.Sizes.SMALL,children:x.Z.Messages.TWO_FA_VIEW_BACKUP_CODES});if(a.length>0){l=(0,r.jsx)(Hu.Z,{fileContents:this.getDownloadFileContents,contentType:"text/plain",fileName:"discord_backup_codes.txt",children:(0,r.jsx)(s.zx,{size:s.zx.Sizes.SMALL,children:x.Z.Messages.TWO_FA_DOWNLOAD_CODES})});var c=function(e){return e.map((function(e){return(0,r.jsx)(Wf,{code:e},e.code)}))};e=(0,r.jsxs)(s.hj,{title:x.Z.Messages.TWO_FA_BACKUP_CODES_LABEL,children:[(0,r.jsx)(s.R9,{type:s.R9.Types.DESCRIPTION,className:fe().marginBottom20,children:x.Z.Messages.TWO_FA_BACKUP_CODES_BODY.format()}),(0,r.jsxs)(ae.Z,{children:[(0,r.jsx)(ae.Z.Child,{children:(0,r.jsx)("ul",{className:wf().checkboxGroup,children:c(a.slice(0,a.length/2))})}),(0,
r.jsx)(ae.Z.Child,{children:(0,r.jsx)("ul",{className:wf().checkboxGroup,children:c(a.slice(a.length/2))})})]}),(0,r.jsx)("div",{children:(0,r.jsx)(s.zx,{onClick:this.generateBackupCodes,look:s.iL.LINK,size:s.Ph.MIN,children:x.Z.Messages.TWO_FA_GENERATE_CODES})}),(0,r.jsx)(s.$i,{className:fe().marginTop20})]})}return(0,r.jsxs)(s.hj,{children:[(0,r.jsxs)(s.vw,{className:O()(wf().isEnabled,fe().marginTop4,fe().marginBottom8),children:[(0,r.jsx)("img",{alt:"",className:O()(wf().lockIcon),src:n(392544)}),x.Z.Messages.TWO_FA_ENABLED]}),(0,r.jsx)(s.R9,{type:s.R9.Types.DESCRIPTION,className:fe().marginBottom20,children:x.Z.Messages.TWO_FA_DESCRIPTION}),(0,r.jsxs)(ae.Z,{justify:ae.Z.Justify.START,className:fe().marginBottom20,children:[(0,r.jsx)(ae.Z.Child,{wrap:!0,grow:0,children:l}),(0,r.jsx)(ae.Z.Child,{wrap:!0,children:(0,r.jsx)(rn.ZP,{text:x.Z.Messages.TWO_FA_DISABLED_FOR_SERVER_SUBSCRIPTION_MOD,hide:!i,children:function(e){return(0,r.jsx)(s.zx,Bf(Gf({},e),{onClick:t.handleDisableMFA,
size:s.zx.Sizes.SMALL,color:s.Tt.RED,look:s.iL.OUTLINED,disabled:i,children:x.Z.Messages.TWO_FA_REMOVE}))}})})]}),e,this.renderMFASMS(),jf.Ae&&(0,r.jsx)(Af,{})]})};i.renderDisabled=function(){return(0,r.jsxs)(s.hj,{title:x.Z.Messages.TWO_FA,children:[(0,r.jsx)(s.R9,{type:s.R9.Types.DESCRIPTION,className:fe().marginBottom20,children:x.Z.Messages.TWO_FA_SALES_PITCH}),(0,r.jsx)(s.xJ,{children:(0,r.jsx)(s.zx,{onClick:xf.Z.enableMFA,size:s.Ph.SMALL,children:x.Z.Messages.TWO_FA_ENABLE})})]})};i.render=function(){var e=this.props.currentUser;return jf.uZ?e.verified?e.mfaEnabled?this.renderEnabled():this.renderDisabled():(0,r.jsx)(s.hj,{title:x.Z.Messages.TWO_FA,children:(0,r.jsx)(s.R9,{type:s.R9.Types.DESCRIPTION,children:x.Z.Messages.TWO_FA_NOT_VERIFIED})}):(0,r.jsx)(s.hj,{title:x.Z.Messages.TWO_FA,children:(0,r.jsx)(s.R9,{type:s.R9.Types.DESCRIPTION,children:x.Z.Messages.TWO_FA_USE_DESKTOP_APP})})};i.openPhoneVerificationModal=function(){
var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,je.h7)((function(t){return(0,r.jsx)(Fu.default,Gf({reason:Yu.L.USER_SETTINGS_UPDATE},t,e))}),{modalKey:Rf.M})};return o}(o.PureComponent);const qf=E.ZP.connectStores([Vr.default,ku.Z,un.Z,cs.Z],(function(){var e=Vr.default.getCurrentUser(),t=un.Z.getGuilds(),n=Object.values(t).some((function(e){return e.hasFeature(G.oNc.ROLE_SUBSCRIPTIONS_AVAILABLE_FOR_PURCHASE)&&cs.Z.can(G.Plq.ADMINISTRATOR,e)}));L()(null!=e,"TwoFactorAuth: currentUser cannot be undefined");return{currentUser:e,isRoleSubscriptionGuildAdmin:n,togglingSMS:ku.Z.togglingSMS}}))(Kf);var Xf=n(983200),Qf=n.n(Xf);function $f(e){var t=e.className,n=e.currentUser,o=e.handleDisableAccount,i=e.handleDeleteAccount,a=n.isClaimed();return(0,r.jsxs)(s.hj,{className:t,title:x.Z.Messages.USER_SETTINGS_ACCOUNT_REMOVAL_SECTION,children:[(0,r.jsx)(s.R9,{className:Qf().description,type:s.R9.Types.DESCRIPTION,
children:a?x.Z.Messages.USER_SETTINGS_ACCOUNT_REMOVAL_DESCRIPTION:x.Z.Messages.USER_SETTINGS_ACCOUNT_REMOVAL_DESCRIPTION_UNCLAIMED}),(0,r.jsxs)("div",{className:Qf().buttonContainer,children:[a?(0,r.jsx)(s.zx,{className:Qf().disableButton,look:s.iL.FILLED,color:s.Tt.RED,size:s.Ph.SMALL,onClick:o,children:x.Z.Messages.DISABLE_ACCOUNT}):null,(0,r.jsx)(s.zx,{look:s.iL.OUTLINED,color:s.Tt.RED,size:s.Ph.SMALL,onClick:i,children:x.Z.Messages.DELETE_ACCOUNT})]})]})}var Jf=n(895076),ed=n(879022),td=n(41225),nd=n(562934),rd=n(24842),od=n(557328),id=n(588641);function ad(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{
a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ad(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ad(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ld(e){return"".concat("*".repeat(e.length-4)).concat(e.slice(-4))}function cd(e){var t=sd(e.split("@"),2),n=t[0],r=t[1];return"".concat("*".repeat(n.length),"@").concat(r)}var ud=n(517401),fd=n.n(ud);function dd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pd(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function hd(e){
return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){pd(i,r,o,a,s,"next",e)}function s(e){pd(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Ed(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function yd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Ed(e,t,n[t])}))}return e}function md(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n
}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function bd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return dd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dd(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}
var gd=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}
if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Od=id.default.getEnableHardwareAcceleration()?eu.Xo:eu.ZP;function vd(e){var t=e.className,i=e.user,a=o.useRef(null),l=null!=a.current&&a.current.scrollWidth>a.current.clientWidth;return(0,r.jsxs)("div",{className:O()(fd().field,t),children:[(0,r.jsx)("div",{className:fd().constrainedRow,children:(0,r.jsxs)("div",{className:fd().usernameRow,children:[(0,r.jsx)(s.vw,{className:fd().fieldTitle,children:x.Z.Messages.USER_SETTINGS_LABEL_USERNAME}),(0,r.jsxs)("div",{className:fd().usernameInnerRow,ref:a,children:[(0,r.jsx)(s.xv,{tag:"span",color:"header-primary",variant:"text-md/normal",children:i.username}),(0,r.jsxs)(s.xv,{tag:"span",color:"header-secondary",variant:"text-md/normal",children:["#",i.discriminator]})]})]})}),(0,r.jsx)(s.zx,{className:fd().fieldButton,size:s.zx.Sizes.SMALL,color:s.zx.Colors.PRIMARY,"aria-label":x.Z.Messages.USER_SETTINGS_ACCOUNT_EDIT_USERNAME_A11Y_LABEL,onClick:function(){return(0,
je.ZD)(hd((function(){var e,t;return gd(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(97118)]).then(n.bind(n,797118))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,yd({},e))}]}}))})))},children:l?x.Z.Messages.DISAPPROVAL:x.Z.Messages.EDIT})]})}function _d(e){var t=e.text,n=e.censor,i=e.revealLabel,a=e.hideLabel,l=bd(o.useState(!1),2),c=l[0],u=l[1],f=c?t:n(t);return(0,r.jsxs)(r.Fragment,{children:[f,(0,r.jsx)(s.zx,{look:s.zx.Looks.LINK,size:s.zx.Sizes.MIN,color:s.zx.Colors.LINK,"aria-label":c?a:i,onClick:function(){return u(!c)},children:c?x.Z.Messages.HIDE:x.Z.Messages.REVEAL})]})}function Id(e){var t,o=e.className,i=e.user;if(i.isClaimed())if(null==i.email)t={buttonText:x.Z.Messages.ADD,buttonAriaLabel:x.Z.Messages.USER_SETTINGS_ACCOUNT_ADD_EMAIL_A11Y_LABEL,buttonColor:s.zx.Colors.PRIMARY,valueMessage:x.Z.Messages.USER_SETTINGS_NO_EMAIL_PLACEHOLDER,handleClick:function(){return(0,je.ZD)(hd((function(){var e,t
;return gd(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(87850)]).then(n.bind(n,387850))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,yd({},e))}]}}))})))}};else{var a=i.email;t={buttonText:x.Z.Messages.EDIT,buttonAriaLabel:x.Z.Messages.USER_SETTINGS_ACCOUNT_EDIT_EMAIL_A11Y_LABEL,buttonColor:s.zx.Colors.PRIMARY,valueMessage:(0,r.jsx)(_d,{text:a,censor:cd,revealLabel:x.Z.Messages.USER_SETTINGS_ACCOUNT_REVEAL_EMAIL_A11Y_LABEL,hideLabel:x.Z.Messages.USER_SETTINGS_ACCOUNT_HIDE_EMAIL_A11Y_LABEL}),handleClick:function(){return(0,je.ZD)(hd((function(){var e,t;return gd(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(87850)]).then(n.bind(n,387850))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,yd({},e))}]}}))})))}}}else t={buttonText:x.Z.Messages.CLAIM_ACCOUNT_SHORT,buttonAriaLabel:x.Z.Messages.CLAIM_ACCOUNT_SHORT,buttonColor:s.zx.Colors.BRAND,
valueMessage:x.Z.Messages.USER_SETTINGS_ADD_EMAIL_CLAIM,handleClick:function(){return Uu()}};return(0,r.jsxs)("div",{className:O()(fd().field,o),children:[(0,r.jsx)("div",{className:fd().constrainedRow,children:(0,r.jsxs)("div",{children:[(0,r.jsx)(s.vw,{className:fd().fieldTitle,children:x.Z.Messages.USER_SETTINGS_LABEL_EMAIL}),(0,r.jsx)("div",{children:(0,r.jsx)(s.xv,{tag:"span",color:"header-primary",variant:"text-md/normal",children:t.valueMessage})})]})}),(0,r.jsx)(s.zx,{className:fd().fieldButton,size:s.zx.Sizes.SMALL,color:s.zx.Colors.PRIMARY,"aria-label":t.buttonAriaLabel,onClick:t.handleClick,children:t.buttonText})]})}function Sd(e){var t=e.className,o=e.user;if(!o.isClaimed())return null;var i,a=o.phone,l=null!=a,c=null!=o.email;i=l?(0,r.jsx)(_d,{text:a,censor:ld,revealLabel:x.Z.Messages.USER_SETTINGS_ACCOUNT_REVEAL_PHONE_A11Y_LABEL,hideLabel:x.Z.Messages.USER_SETTINGS_ACCOUNT_HIDE_PHONE_A11Y_LABEL}):x.Z.Messages.USER_SETTINGS_NO_PHONE_PLACEHOLDER;return(0,r.jsxs)("div",{
className:O()(fd().field,t),children:[(0,r.jsx)("div",{className:fd().constrainedRow,children:(0,r.jsxs)("div",{children:[(0,r.jsx)(s.vw,{className:fd().fieldTitle,children:x.Z.Messages.USER_SETTINGS_LABEL_PHONE_NUMBER}),(0,r.jsx)("div",{children:(0,r.jsx)(s.xv,{tag:"span",color:"header-primary",variant:"text-md/normal",children:i})})]})}),(0,r.jsxs)("div",{className:fd().fieldButtonList,children:[l&&c?(0,r.jsx)(s.zx,{className:O()(fd().fieldButton,fd().removeButton),size:s.zx.Sizes.SMALL,look:s.zx.Looks.LINK,color:s.zx.Colors.PRIMARY,"aria-label":x.Z.Messages.USER_SETTINGS_ACCOUNT_REMOVE_PHONE_A11Y_LABEL,onClick:function(){(0,je.h7)((function(e){return(0,r.jsx)(xu.default,md(yd({},e),{title:x.Z.Messages.USER_SETTINGS_ACCOUNT_REMOVE_PHONE_NUMBER_TITLE,children:o.hasFlag(G.xW$.MFA_SMS)?x.Z.Messages.USER_SETTINGS_ACCOUNT_REMOVE_PHONE_SMS_BACKUP_WARNING:void 0,actionText:x.Z.Messages.REMOVE,handleSubmit:function(e){return Yu.Z.removePhone(e,Yu.L.USER_SETTINGS_UPDATE)}}))}))},
children:x.Z.Messages.REMOVE}):null,(0,r.jsx)(s.zx,{className:fd().fieldButton,size:s.zx.Sizes.SMALL,color:s.zx.Colors.PRIMARY,"aria-label":l?x.Z.Messages.USER_SETTINGS_ACCOUNT_EDIT_PHONE_A11Y_LABEL:x.Z.Messages.USER_SETTINGS_ACCOUNT_ADD_PHONE_A11Y_LABEL,onClick:function(){(0,je.ZD)(hd((function(){var e,t;return gd(this,(function(o){switch(o.label){case 0:return[4,Promise.resolve().then(n.bind(n,997846))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,yd({reason:Yu.L.USER_SETTINGS_UPDATE},e))}]}}))})),{modalKey:Rf.M})},children:l?x.Z.Messages.EDIT:x.Z.Messages.ADD})]})]})}function Td(e){var t=e.user,n=(0,td.Z)(t.id);return si.Sb.useSetting()&&Pf.wS?(0,r.jsx)(Ya.ZP,{renderPopout:function(e){var t=e.closePopout;return(0,r.jsx)(Ku.ZP,{onClose:t,onSelect:void 0,navId:"copy-id","aria-label":x.Z.Messages.USER_MORE_ACTIONS_MENU_LABEL,children:n})},children:function(e){return(0,r.jsx)(s.P3,md(yd({},e),{className:fd().overflowMenuButton,"aria-label":x.Z.Messages.ACTIONS,
children:(0,r.jsx)(od.Z,{className:fd().overflowMenuIcon,height:24,width:24})}))}}):null}function Nd(){f.Z.setSection(G.oAB.PROFILE_CUSTOMIZATION)}function Cd(){Br.default.track(G.rMx.PREMIUM_PROMOTION_OPENED,{location_page:G.ZY5.USER_SETTINGS,location_section:G.jXE.SETTINGS_ACCOUNT,location_object:G.qAy.TOOLTIP});f.Z.setSection(G.oAB.PREMIUM)}function Ad(){var e,t=(0,E.e7)([Vr.default],(function(){var e=Vr.default.getCurrentUser();L()(null!=e,"UserSettingsAccountProfileCard: currentUser cannot be undefined");return e})),n=(0,Qo.Z)(t.id),o=(0,Wo.U)().canUseAvatarDecorations,i=si.co.useSetting(),a=(0,E.e7)([So.Z],(function(){return So.Z.getErrors()})),l=null==a||null===(e=a.avatar)||void 0===e?void 0:e[0],c=o?(0,pi.NZ)({userId:t.id,avatarDecoration:t.avatarDecoration,size:(0,ed.y)(eu.ZP.Sizes.SIZE_80),canAnimate:!0}):null;return(0,r.jsxs)("div",{className:fd().accountProfileCard,children:[(0,r.jsx)(nd.Z,{displayProfile:n,user:t,allowEdit:!1,guildId:void 0,profileType:ji.y0.SETTINGS
}),(0,r.jsxs)("div",{className:fd().userInfo,children:[(0,r.jsx)(Od,{className:fd().avatar,src:t.getAvatarURL(void 0,80,!0),avatarDecoration:c,status:i,size:eu.ZP.Sizes.SIZE_80,"aria-label":t.username}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:fd().profileCardUsernameRow,children:[(0,r.jsx)(Jf.Z,{user:t,className:fd().userTag,discriminatorClass:fd().discriminator}),(0,r.jsx)(Td,{user:t})]}),(0,r.jsx)(rd.Z,{className:fd().badgeList,user:t,premiumSince:null==n?void 0:n.premiumSince,premiumGuildSince:null==n?void 0:n.premiumGuildSince,size:rd.V.SIZE_22,openPremiumSettings:Cd})]}),(0,r.jsx)(s.zx,{onClick:Nd,size:s.zx.Sizes.SMALL,children:x.Z.Messages.USER_SETTINGS_EDIT_PROFILE})]}),(0,r.jsxs)("div",{className:fd().background,children:[null!=l?(0,r.jsx)(s.xv,{className:fd().avatarError,variant:"text-xs/normal",color:"text-danger",children:l}):null,(0,r.jsxs)("div",{className:fd().fieldList,children:[(0,r.jsx)(vd,{user:t}),(0,r.jsx)(Id,{className:fd().fieldSpacer,user:t}),(0,
r.jsx)(Sd,{className:fd().fieldSpacer,user:t})]})]})]})}var Pd=n(57731);function jd(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function xd(e){xd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return xd(e)}function Rd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){jd(e,t,n[t])}))}return e}function Md(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}
return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function wd(e,t){return!t||"object"!==Ld(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Zd(e,t){Zd=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Zd(e,t)}var Ld=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Dd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=xd(e);if(t){var o=xd(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return wd(this,n)}}var Ud=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Zd(e,t)}(o,e);var t=Dd(o);function o(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var n;(n=t.call(this,e)).state={disableAccountErrorMessage:null,shouldRenderOwnedGuildsModal:!1,shouldRenderDeleteAccountConfirmModal:!1,shouldRenderDisableAccountErrorModal:!1};return n}var i=o.prototype;i.componentDidMount=function(){var e=this.props.currentUser;(0,Ks.Z)(e.id,e.getAvatarURL(void 0,80))};i.componentWillUnmount=function(){ju.Z.clearBackupCodes();(0,u.Zy)()};i.renderAccountWarning=function(){var e=this.props.currentUser;if(!e.isClaimed()){var t=(0,r.jsxs)("section",{children:[(0,r.jsx)("div",{className:wf().accountWarningBodyText,children:x.Z.Messages.UNCLAIMED_ACCOUNT_BODY_2}),(0,r.jsx)(s.zx,{look:s.iL.INVERTED,size:s.Ph.SMALL,
color:s.zx.Colors.RED,onClick:function(){return Uu()},children:x.Z.Messages.CLAIM_ACCOUNT_LONG})]});return(0,r.jsx)(s.To,{type:s.To.Types.DANGER,className:fe().marginBottom20,imageData:{src:n(350672),width:60,height:60},title:x.Z.Messages.UNCLAIMED_ACCOUNT_TITLE,body:t})}if(null==e.email)return null;if(!e.verified){var o=(0,r.jsxs)("section",{children:[(0,r.jsx)("div",{className:wf().accountWarningBodyText,children:x.Z.Messages.USER_SETTINGS_UNVERIFIED_EMAIL_BODY}),(0,r.jsx)(Bu.Z,{size:s.Ph.SMALL,color:s.zx.Colors.PRIMARY})]});return(0,r.jsx)(s.To,{type:s.To.Types.PRIMARY,className:fe().marginBottom20,imageData:{src:n(24264),width:60,height:60},title:x.Z.Messages.UNVERIFIED_EMAIL_TITLE,body:o})}};i.renderAccountSettings=function(){return(0,r.jsxs)(s.hj,{tag:s.RB.H1,title:x.Z.Messages.USER_SETTINGS_MY_ACCOUNT,className:wf().userSettingsAccount,children:[this.renderAccountWarning(),(0,r.jsx)(Ad,{})]})};i.renderSecuritySettings=function(){
var e=this.props,t=e.backupCodes,o=e.currentUser,i=e.theme===G.BRd.DARK?n(273361):n(129428);return(0,r.jsxs)(s.hj,{className:O()(wf().userSettingsSecurity,fe().marginTop40),title:x.Z.Messages.USER_SETTINGS_ACCOUNT_PASSWORD_AND_AUTHENTICATION,tag:"h1",children:[(0,r.jsx)("div",{children:(0,r.jsx)(s.zx,{size:s.zx.Sizes.SMALL,className:wf().changePasswordButton,onClick:function(){return(0,je.h7)((function(e){return(0,r.jsx)(Pd.default,Md(Rd({},e),{onSuccess:e.onClose}))}))},children:x.Z.Messages.CHANGE_PASSWORD})}),(0,r.jsxs)(ae.Z,{align:ae.Z.Align.STRETCH,children:[(0,r.jsx)(ae.Z.Child,{wrap:!0,children:(0,r.jsx)(qf,{backupCodes:t})}),o.mfaEnabled?null:(0,r.jsx)(ae.Z,{align:ae.Z.Align.CENTER,basis:"323px",grow:0,children:(0,r.jsx)("img",{src:i,className:wf().userSettingsSecurityImage,alt:""})})]})]})};i.renderConfirmModals=function(){
var e=this,t=this.state,n=t.shouldRenderOwnedGuildsModal,o=t.shouldRenderDeleteAccountConfirmModal,i=t.shouldRenderDisableAccountErrorModal,a=t.disableAccountErrorMessage;if(n){var l=function(){return e.setState({shouldRenderOwnedGuildsModal:!1})};return(0,r.jsx)(Jl.DeclarativeConfirmModal,{dismissable:!0,header:x.Z.Messages.DELETE_ACCOUNT_TRANSFER_OWNERSHIP,confirmText:x.Z.Messages.OKAY,confirmButtonColor:s.Tt.BRAND,onCancel:l,onConfirm:l,children:(0,r.jsx)(s.xv,{variant:"text-md/normal",children:x.Z.Messages.DELETE_ACCOUNT_TRANSFER_OWNERSHIP_BODY})})}if(o){var c=function(){return e.setState({shouldRenderDeleteAccountConfirmModal:!1})};return(0,r.jsx)(Jl.DeclarativeConfirmModal,{dismissable:!0,header:x.Z.Messages.DELETE_ACCOUNT,confirmText:x.Z.Messages.DELETE_ACCOUNT,cancelText:x.Z.Messages.CANCEL,onCancel:c,onConfirm:function(){return(0,u.ss)("",!0).then(c)},children:(0,r.jsx)(s.xv,{variant:"text-md/normal",children:x.Z.Messages.DELETE_ACCOUNT_BODY})})}if(i){var f=function(){
return e.setState({shouldRenderDisableAccountErrorModal:!1,disableAccountErrorMessage:null})};return(0,r.jsx)(Jl.DeclarativeConfirmModal,{dismissable:!0,header:x.Z.Messages.DELETE_ACCOUNT_ERROR,confirmText:x.Z.Messages.OKAY,confirmButtonColor:s.Tt.BRAND,onCancel:f,onConfirm:f,children:(0,r.jsx)(s.xv,{variant:"text-md/normal",children:a})})}};i.render=function(){var e=this;if(this.props.hide)return(0,r.jsx)(Mt.Z,{});var t=this.props.currentUser;return(0,r.jsxs)("div",{children:[this.renderConfirmModals(),this.renderAccountSettings(),t.isClaimed()?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.$i,{className:fe().marginTop40}),this.renderSecuritySettings(),(0,r.jsx)(s.$i,{className:fe().marginTop40})]}):null,(0,r.jsx)($f,{className:fe().marginTop40,currentUser:t,handleDisableAccount:function(){return e.handleDisableAccount(!1)},handleDeleteAccount:function(){return e.handleDisableAccount(!0)}})]})};i.handleDisableAccountError=function(e){if(e.body.code===G.evJ.INVALID_PASSWORD)throw e
;this.setState({shouldRenderDisableAccountErrorModal:!0,disableAccountErrorMessage:e.body.message})};i.handleSubmitDisableAccount=function(e,t){return(0,u.ss)(e,t).then(G.dG4,this.handleDisableAccountError)};i.handleDisableAccount=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this,n=this.props.currentUser,o=un.Z.getGuilds(),i=Object.keys(o).filter((function(e){return o[e].ownerId===n.id}));i.length>0?this.setState({shouldRenderOwnedGuildsModal:!0}):n.isClaimed()?(0,je.h7)((function(n){return(0,r.jsx)(xu.default,Md(Rd({},n),{handleSubmit:function(n){return t.handleSubmitDisableAccount(n,e)},title:e?x.Z.Messages.DELETE_ACCOUNT:x.Z.Messages.DISABLE_ACCOUNT,actionText:e?x.Z.Messages.DELETE_ACCOUNT:x.Z.Messages.DISABLE_ACCOUNT,children:e?x.Z.Messages.DELETE_ACCOUNT_BODY:x.Z.Messages.DISABLE_ACCOUNT_BODY}))})):this.setState({shouldRenderDeleteAccountConfirmModal:!0})};return o}(o.PureComponent);const kd=function(){var e=(0,E.e7)([Vr.default],(function(){
var e=Vr.default.getCurrentUser();L()(null!=e,"ConnectedUserAccountSettings: currentUser cannot be undefined");return e})),t=(0,E.e7)([ku.Z],(function(){return ku.Z.getBackupCodes()})),n=(0,E.e7)([Dr.Z],(function(){return Dr.Z.hidePersonalInformation})),o=(0,E.e7)([Gu.Z],(function(){return Gu.Z.theme}));return(0,r.jsx)(Ud,{currentUser:e,backupCodes:t,hide:n,theme:o})};function Gd(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function Bd(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Gd(i,r,o,a,s,"next",e)}function s(e){Gd(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Hd(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Vd(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e)
;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var Fd=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,
o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function Yd(e){var t=function(){si.SE.updateSetting(e?Object.keys(un.Z.getGuilds()):[])};(0,je.ZD)(Bd((function(){var e,o;return Fd(this,(function(i){switch(i.label){case 0:return[4,Promise.resolve().then(n.bind(n,30741))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,Vd(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Hd(e,t,n[t])}))
}return e}({header:x.Z.Messages.USER_DM_SETTINGS_TITLE,confirmText:x.Z.Messages.NO_TEXT,cancelText:x.Z.Messages.YES_TEXT,onCancel:t,confirmButtonColor:s.zx.Colors.BRAND},e),{children:(0,r.jsx)(s.xv,{variant:"text-md/normal",children:x.Z.Messages.ACTIVITY_RESTRICTION_MODAL_DESC})}))}]}}))})))}function zd(){var e=si.G6.useSetting(),t=si.Wz.useSetting(),n=ec.FB?x.Z.Messages.SHOW_CURRENT_ACTIVITY_DESC_EMBEDDED:x.Z.Messages.SHOW_CURRENT_ACTIVITY_DESC;return(0,r.jsxs)(s.hj,{className:fe().marginBottom40,children:[(0,r.jsx)(s.vw,{tag:s.RB.H5,className:fe().marginBottom8,children:x.Z.Messages.ACTIVITY_STATUS}),(0,r.jsx)(s.j7,{value:e,onChange:function(e){return si.G6.updateSetting(e)},note:n,children:x.Z.Messages.SHOW_CURRENT_ACTIVITY}),(0,r.jsx)(s.j7,{value:!t,note:x.Z.Messages.ACTIVITY_RESTRICTION_DEFAULT_NOTE.format({helpdeskArticle:sa.Z.getArticleURL(G.BhN.ACTIVITY_STATUS_SETTINGS)}),onChange:function(e){return function(e){si.Wz.updateSetting(e);Yd(e)}(!e)},
children:x.Z.Messages.ACTIVITY_RESTRICTION_DEFAULT})]})}function Wd(){var e=si.cP.useSetting(),t=si.Ou.useSetting();return(0,r.jsxs)(s.hj,{className:fe().marginBottom40,children:[(0,r.jsx)(s.vw,{tag:s.RB.H5,className:fe().marginBottom8,children:x.Z.Messages.ACTIVITY_PARTY_PRIVACY}),(0,r.jsx)(s.j7,{value:e,note:x.Z.Messages.ACTIVITY_PARTY_PRIVACY_FRIENDS_HELP,onChange:function(e){return si.cP.updateSetting(e)},children:x.Z.Messages.ACTIVITY_PARTY_PRIVACY_FRIENDS}),(0,r.jsx)(s.j7,{value:t,note:x.Z.Messages.ACTIVITY_PARTY_PRIVACY_VOICE_CHANNEL_HELP,onChange:function(e){return si.Ou.updateSetting(e)},children:x.Z.Messages.ACTIVITY_PARTY_PRIVACY_VOICE_CHANNEL})]})}function Kd(){return(0,r.jsx)(s.hj,{className:fe().marginBottom40,children:(0,r.jsx)(s.To,{type:s.To.Types.PRIMARY,body:x.Z.Messages.USER_SETTINGS_PRIVACY_TERMS.format({termsLink:G.EYA.TERMS,privacyLink:G.EYA.PRIVACY})})})}function qd(){return(0,r.jsxs)(s.hj,{tag:s.RB.H1,title:x.Z.Messages.ACTIVITY_PRIVACY,children:[(0,
r.jsx)(zd,{}),(0,r.jsx)(Wd,{}),(0,r.jsx)(Kd,{})]})}var Xd=n(953756),Qd=n(895620),$d=n(485359),Jd=n(800539),ep=n(331792),tp=n(188363),np=n(253769),rp=n.n(np);function op(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ip(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function ap(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ip(i,r,o,a,s,"next",e)}function s(e){ip(i,r,o,a,s,"throw",e)}a(void 0)}))}}function sp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return
;if("string"==typeof e)return op(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return op(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var lp,cp=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:
a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};!function(e){e.LOCALHOST="localhost";e.PROXY="proxy"}(lp||(lp={}));function up(e,t,n){if(null==e)return null;switch(e){case lp.LOCALHOST:return"https://localhost:".concat(t);case lp.PROXY:return(0,tp.Z)(n)}}function fp(e){var t=e.onClose,n=e.transitionState,i=(0,E.cj)([ep.Z],(function(){return{authorizedApplicationId:ep.Z.testModeApplicationId,authorizationError:ep.Z.error,authorizing:ep.Z.isFetchingAuthorization}
})),a=i.authorizedApplicationId,c=i.authorizationError,u=i.authorizing,f=sp(o.useState(null!=a?a:""),2),d=f[0],p=f[1],h=sp(o.useState("8080"),2),y=h[0],m=h[1],b=sp(o.useState(lp.LOCALHOST),2),g=b[0],O=b[1],v=(0,on.Dt)(),_=G.jns.test(d);o.useEffect((function(){return function(){return l.Z.wait((function(){return Xd.q$()}))}}),[]);function I(){return(I=ap((function(){var e;return cp(this,(function(n){switch(n.label){case 0:Xd.q$();e=up(g,y,d);return[4,Xd.Wt(d,e)];case 1:null!=n.sent()&&t();return[2]}}))}))).apply(this,arguments)}var S=null!=a&&a===d,T=S?function(){Xd.mc();p("");O(null)}:function(){return I.apply(this,arguments)};return(0,r.jsxs)(or.Y0,{"aria-labelledby":v,transitionState:n,children:[(0,r.jsxs)(or.xB,{justify:ae.Z.Justify.BETWEEN,separator:!1,children:[(0,r.jsx)(s.vw,{id:v,tag:"h1",className:fe().marginReset,children:x.Z.Messages.DEVELOPER_APPLICATION_TEST_MODE_MODAL_HEADER}),(0,r.jsx)(or.ol,{onClick:t})]}),(0,r.jsxs)(or.hz,{className:rp().modalContent,children:[(0,
r.jsx)(s.R9,{className:fe().marginBottom20,type:s.R9.Types.DESCRIPTION,children:x.Z.Messages.DEVELOPER_APPLICATION_TEST_MODE_MODAL_BODY}),null==c?null:(0,r.jsx)(s.kz,{className:fe().marginBottom20,children:c}),(0,r.jsx)("form",{onSubmit:function(e){e.preventDefault();T()},children:(0,r.jsxs)(ae.Z,{direction:ae.Z.Direction.VERTICAL,align:ae.Z.Align.START,children:[(0,r.jsx)(s.xJ,{className:rp().inputWrapper,title:x.Z.Messages.DEVELOPER_APPLICATION_TEST_MODE_PLACEHOLDER,required:!0,children:(0,r.jsx)(s.oi,{value:d,maxLength:19,error:_?null:x.Z.Messages.DEVELOPER_APPLICATION_TEST_MODE_INVALID,onChange:function(e){p(e)},disabled:u})}),(0,r.jsx)(s.xJ,{className:rp().inputWrapper,title:x.Z.Messages.DEVELOPER_APPLICATION_TEST_MODE_ORIGIN_LABEL,children:(0,r.jsx)(s.q4,{isDisabled:!_||""===d,value:g,options:[{value:lp.LOCALHOST,label:x.Z.Messages.DEVELOPER_APPLICATION_TEST_MODE_LOCALHOST_OPTION,key:"localhost"},{value:lp.PROXY,label:x.Z.Messages.DEVELOPER_APPLICATION_TEST_MODE_PROXY_OPTION,
key:"proxy"}],onChange:function(e){O(e)},placeholder:"URL Origin Type"})}),g!==lp.LOCALHOST?null:(0,r.jsx)(s.xJ,{className:rp().inputWrapper,title:x.Z.Messages.DEVELOPER_APPLICATION_TEST_MODE_PORT_NUMBER_LABEL,required:!0,children:(0,r.jsx)(s.oi,{value:y,maxLength:5,onChange:function(e){return m(e)},disabled:u})}),(0,r.jsx)(s.zx,{submitting:u,type:"submit",disabled:!_||0===d.length||g===lp.LOCALHOST&&0===y.length,color:S?s.zx.Colors.RED:s.zx.Colors.GREEN,children:S?x.Z.Messages.DEVELOPER_APPLICATION_TEST_MODE_CLEAR:x.Z.Messages.DEVELOPER_APPLICATION_TEST_MODE_ACTIVATE})]})})]})]})}var dp=n(371800),pp=n.n(dp);function hp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ep(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function yp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Ep(e,t,n[t])}))}return e}function mp(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function bp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{
try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return hp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hp(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gp(){var e=(0,E.e7)([$d.Z],(function(){return $d.Z.getIsEnabled()}),[]),t=bp(o.useState((function(){return id.default.getEnableHardwareAcceleration()})),1)[0],n=si.bm.useSetting(),i=si.Sb.useSetting(),a=si.xU.useSetting(),l=(0,E.cj)([ep.Z,Jd.Z],(function(){return{hasLibraryApplication:Jd.Z.hasLibraryApplication(),testModeApplicationId:ep.Z.testModeApplicationId}
})),c=l.hasLibraryApplication,u=l.testModeApplicationId,f=o.useCallback((function(e){si.bm.updateSetting(!e)}),[]),d=o.useCallback((function(e){e?(0,je.h7)((function(e){return(0,r.jsx)(fp,yp({},e))})):Xd.mc()}),[]),p=o.useCallback((function(e){(0,je.h7)((function(t){return(0,r.jsx)(Jl.default,mp(yp({header:x.Z.Messages.SWITCH_HARDWARE_ACCELERATION,confirmText:x.Z.Messages.OKAY,cancelText:x.Z.Messages.CANCEL,onConfirm:function(){return id.default.setEnableHardwareAcceleration(e)}},t),{children:(0,r.jsx)(s.xv,{variant:"text-sm/normal",children:x.Z.Messages.SWITCH_HARDWARE_ACCELERATION_BODY})}))}))}),[]),h=o.useCallback((function(e){si.xU.updateSetting(!e)}),[]);return(0,r.jsxs)(s.hj,{tag:s.RB.H1,title:x.Z.Messages.SETTINGS_ADVANCED,children:[Pf.wS&&(0,r.jsx)(s.j7,{value:i,onChange:si.Sb.updateSetting,note:x.Z.Messages.DEVELOPER_MODE_HELP_TEXT.format({apiDocsUrl:G.EYA.API_DOCS}),children:x.Z.Messages.DEVELOPER_MODE}),ec.FB&&(0,r.jsx)(s.j7,{value:t,onChange:p,
note:x.Z.Messages.HARDWARE_ACCELERATION_HELP_TEXT,children:x.Z.Messages.HARDWARE_ACCELERATION}),c&&(0,r.jsx)(s.j7,{value:!n,onChange:f,note:x.Z.Messages.USER_SETTINGS_SHOW_LIBRARY_NOTE,children:x.Z.Messages.USER_SETTINGS_SHOW_LIBRARY}),i&&(0,r.jsx)(s.j7,{value:null!=u,note:x.Z.Messages.DEVELOPER_APPLICATION_TEST_MODE_NOTE,onChange:d,children:x.Z.Messages.DEVELOPER_APPLICATION_TEST_MODE}),i&&(0,r.jsx)(s.j7,{value:e,note:x.Z.Messages.DEVELOPER_ACTIVITY_SHELF_NOTE,onChange:Qd.d,children:x.Z.Messages.DEVELOPER_ACTIVITY_SHELF}),(0,r.jsx)(s.j7,{value:!a,note:x.Z.Messages.USER_SETTINGS_HOME_AUTO_NAV_HELP_TEXT.format({helpCenterLink:sa.Z.getArticleURL(G.BhN.GUILD_HOME)}),onChange:h,children:(0,r.jsxs)("div",{className:pp().badgedItem,children:[x.Z.Messages.USER_SETTINGS_HOME_AUTO_NAV,(0,r.jsx)(sn.IG,{text:x.Z.Messages.BETA,color:(0,ne.Lq)(G.Ilk.BRAND_500),className:pp().betaTag})]})})]})}
var Op=n(830395),vp=n(78979),_p=n(150630),Ip=n(431612),Sp=n(536250),Tp=n(661623),Np=n(525933),Cp=n(281098),Ap=n(610804),Pp=n(290121),jp=n.n(Pp),xp=function(){(0,qs.EW)(a.z$.CLIENT_THEMES_SPARKLE_PREVIEW,{dismissAction:Ap.L.PRIMARY,forceTrack:!0});(0,Np.bM)();(0,Se.xf)()},Rp=function(){var e=(0,h.Z)(rr.Z.USER_SETTINGS).analyticsLocations,t=(0,E.e7)([_p.Z],(function(){return _p.Z.isPreview}));o.useEffect((function(){t&&Br.default.track(G.rMx.PREMIUM_UPSELL_VIEWED,{type:Kr.cd.PREMIUM_CLIENT_THEME_TRY_IT_OUT,location_stack:e})}),[t,e]);return(0,r.jsxs)("div",{children:[(0,r.jsxs)(Cp.ZP,{type:Cp.yH.SETTINGS,children:[(0,r.jsx)(Cp.ZP.Basic,{className:jp().basicThemeSelectors}),(0,r.jsx)(Qi,{className:jp().featureBorder,isShown:t,type:Hi.PREMIUM,children:(0,r.jsx)(Cp.ZP.Gradient,{disabled:t,renderCTAButtons:function(){return t?(0,r.jsxs)("div",{className:jp().tryItOutButtons,children:[(0,r.jsx)(s.zx,{color:s.zx.Colors.PRIMARY,onClick:function(){return xp()},
children:x.Z.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_THEME_TITLE}),(0,r.jsx)(ps.Z,{subscriptionTier:Kr.Si.TIER_2,buttonText:x.Z.Messages.USER_SETTINGS_CUSTOMIZATION_UPSELL,className:jp().premiumCta})]}):null}})})]}),(0,r.jsx)(s.$i,{className:fe().marginTop20})]})},Mp=function(){var e=(0,Ip.Z)().hasSidebarEditor,t=(0,E.e7)([_p.Z],(function(){return _p.Z.isPreview}));return!e||t?null:(0,r.jsx)(s.zx,{onClick:function(){return xp()},children:x.Z.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_THEMES_TITLE})},wp=n(895469),Zp=n(6349),Lp=n(252775),Dp=n(926105),Up=n.n(Dp);function kp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gp(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Bp(e){Bp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Bp(e)}function Hp(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Gp(e,t,n[t])}))}return e}function Vp(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Fp(e,t){return!t||"object"!==zp(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Yp(e,t){Yp=Object.setPrototypeOf||function(e,t){e.__proto__=t
;return e};return Yp(e,t)}var zp=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Wp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Bp(e);if(t){var o=Bp(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Fp(this,n)}}var Kp="cozy",qp="compact",Xp=(0,on.hQ)(),Qp=(0,on.hQ)(),$p=(0,on.hQ)(),Jp=(0,on.hQ)(),eh="1337",th=function(e){var t=0;return[(0,Fc.e5)(Vp(Hp({},(0,Yc.ZP)({channelId:eh,content:x.Z.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_1})),{state:G.yb.SENT,id:"".concat(t++)})),(0,Fc.e5)(Vp(Hp({},(0,Yc.ZP)({channelId:eh,
content:e===G.BRd.DARK?x.Z.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_2_DARK:x.Z.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_2_LIGHT})),{state:G.yb.SENT,id:"".concat(t++)})),(0,Fc.e5)(Vp(Hp({},(0,Yc.ZP)({channelId:eh,content:x.Z.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_3})),{state:G.yb.SENT,id:"".concat(t++)})),(0,Fc.e5)(Vp(Hp({},(0,Yc.ZP)({channelId:eh,content:x.Z.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_4})),{state:G.yb.SENT,id:"".concat(t++)})),(0,Fc.e5)(Vp(Hp({},(0,Yc.ZP)({channelId:eh,content:x.Z.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_5})),{state:G.yb.SENT,id:"".concat(4)}))]},nh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Yp(e,t)}(n,e);var t=Wp(n);function n(){kp(this,n);var e;(e=t.apply(this,arguments)).darkMessages=th(G.BRd.DARK)
;e.lightMessages=th(G.BRd.LIGHT);e.state={isUsingCustomTheme:Object.values(e.props.clientTheme).some((function(e){return null!=e}))};e.handleThemeChange=function(t){var n=t.value;"system"!==n&&"custom"!==n&&Op.ZP.updateTheme(n);e.setState({isUsingCustomTheme:"custom"===n});Op.ZP.updatedUnsyncedSettings({useSystemTheme:"system"===n?wp.K.ON:wp.K.OFF})};e.handleDisplayCompactAvatarsChanged=function(e){Op.ZP.updatedUnsyncedSettings({displayCompactAvatars:e})};e.handleMessageDisplayModeChange=function(e){var t=e.value;si.jU.updateSetting(t===qp);(0,Bc.ZZ)()};return e}var o=n.prototype;o.getPreviewMessage=function(e){return e===G.BRd.DARK?x.Z.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_2_DARK:x.Z.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_2_LIGHT};o.renderZoomSlider=function(){return ec.FB?(0,r.jsxs)(s.xJ,{className:fe().marginTop20,children:[(0,r.jsx)(s.vw,{id:Qp,tag:s.RB.H5,className:fe().marginBottom8,children:x.Z.Messages.ACCESSIBILITY_ZOOM_LEVEL_LABEL}),(0,r.jsx)(s.iR,{
className:O()(fe().marginTop20,fe().marginBottom4),initialValue:this.props.zoom,defaultValue:G.yqN.ZOOM_DEFAULT,markers:G.yqN.ZOOM_SCALES,stickToMarkers:!0,onValueChange:this.handleZoomChange,onValueRender:this.handleSliderRender,"aria-labelledby":Qp}),(0,r.jsx)(s.R9,{type:s.R9.Types.DESCRIPTION,children:x.Z.Messages.USER_SETTINGS_APPEARANCE_ZOOM_TIP.format({modKey:vp.Z.modKey})})]}):null};o.renderFontScaleSlider=function(){return(0,r.jsxs)(s.xJ,{className:fe().marginTop20,children:[(0,r.jsx)(s.vw,{id:$p,tag:s.RB.H5,className:fe().marginBottom8,children:x.Z.Messages.ACCESSIBILITY_FONT_SCALING_LABEL}),(0,r.jsx)(ae.Z,{align:ae.Z.Align.CENTER,children:(0,r.jsx)(s.iR,{className:O()(fe().marginTop20,fe().marginBottom4),initialValue:this.props.fontSize,defaultValue:G.yqN.FONT_SIZE_DEFAULT,markers:G.yqN.FONT_SIZES,stickToMarkers:!0,onValueChange:this.handleFontSizeChange,onValueRender:this.handleSliderRenderPX,onMarkerRender:this.handleSliderRenderPX,
getAriaValueText:this.handleSliderValueText,"aria-labelledby":$p})})]})};o.renderMessageGroupSpacingSlider=function(){var e=this.props,t=e.messageDisplayCompact,n=e.messageGroupSpacing;return(0,r.jsxs)(s.xJ,{className:fe().marginTop20,children:[(0,r.jsx)(s.vw,{id:Jp,tag:s.RB.H5,className:fe().marginBottom8,children:x.Z.Messages.ACCESSIBILITY_MESSAGE_GROUP_SPACING}),(0,r.jsx)(s.iR,{className:O()(fe().marginTop20,fe().marginBottom4),initialValue:n,defaultValue:t?Zp.c8:Zp.pq,markers:Zp.fP,stickToMarkers:!0,onValueChange:this.handleMessageSpacingChange,onValueRender:this.handleSliderRenderPX,onMarkerRender:this.handleSliderRenderPX,getAriaValueText:this.handleSliderValueText,"aria-labelledby":Jp})]})};o.renderPreview=function(){var e=this.props,t=e.messageDisplayCompact,n=e.theme,o=e.messageGroupSpacing,i=e.hideSimpleEmbedContent,a=n===G.BRd.DARK?this.darkMessages:this.lightMessages;return(0,r.jsx)(s.Rn,{children:(0,r.jsx)(s.Zb,{
className:O()(Up().preview,fe().marginBottom40,t?Up().compactPreview:void 0,"group-spacing-".concat(null!=o?o:t?Zp.c8:Zp.pq)),outline:!0,"aria-hidden":!0,children:a.map((function(e,n){return(0,r.jsx)(Wc.Z,{author:(0,zc.ZH)(e),message:e,compact:t,isGroupStart:n%2==0,className:0===n?Up().firstMessage:void 0,hideSimpleEmbedContent:i},e.id)}))})})};o.getThemeOptions=function(){var e=[{name:x.Z.Messages.THEME_DARK,value:G.BRd.DARK},{name:x.Z.Messages.THEME_LIGHT,value:G.BRd.LIGHT},{name:x.Z.Messages.THEME_SYSTEM,value:"system"}];this.props.hasClientThemes&&e.push({name:x.Z.Messages.THEME_CUSTOM,value:"custom"});return e};o.getThemeValue=function(){var e=this.props,t=e.theme,n=e.useSystemTheme,r=e.useAMOLEDTheme,o=e.useForcedColors;return e.hasClientThemes&&this.state.isUsingCustomTheme?"custom":n===wp.K.ON||o?"system":r===Lp.W.ON?G.BRd.DARK:t};o.renderTheme=function(){
var e=this.props,t=e.theme,n=e.useForcedColors,o=e.useAMOLEDTheme,i=e.darkSidebar,a=e.hasSidebarEditor,l=e.gradientPreset,c=Sp.Z.getCurrentConfig({}).enabledAMOLEDThemeOption,u=this.getThemeValue();return(0,r.jsxs)(s.xJ,{className:fe().marginTop8,title:(0,r.jsxs)("div",{className:Up().themeTitle,children:[(0,r.jsx)("div",{className:Up().title,children:x.Z.Messages.THEME}),(0,r.jsx)(Mp,{})]}),children:[n&&(0,r.jsx)(s.R9,{type:s.R9.Types.DEFAULT,className:Up().forcedColorsWarning,children:(0,Vc.b)()?x.Z.Messages.THEME_DISABLED_FOR_CONTRAST_SYNC.format({onClick:function(){f.Z.open(G.oAB.ACCESSIBILITY)}}):x.Z.Messages.THEME_DISABLED_FOR_FORCED_COLORS}),a?(0,r.jsx)(Rp,{}):(0,r.jsx)(s.Ee,{options:this.getThemeOptions(),onChange:this.handleThemeChange,value:u,disabled:o===Lp.W.ON,"aria-labelledby":Xp}),c&&(0,r.jsx)(s.j7,{value:o===Lp.W.ON,onChange:this.handleAMOLEDThemeChange,className:fe().marginTop20,note:x.Z.Messages.EXPERIMENTAL_AMOLED_MODE_NOTE,children:"AMOLED Mode (Staff Only)"}),(0,
r.jsx)(s.j7,{value:i&&t===G.BRd.LIGHT&&!n,disabled:t!==G.BRd.LIGHT||n||null!=l,onChange:this.handleDarkSidebarChecked,className:fe().marginTop20,children:x.Z.Messages.ACCESSIBILITY_DARK_SIDEBAR})]})};o.renderDisplayMode=function(){return(0,r.jsxs)(s.xJ,{title:x.Z.Messages.MESSAGE_DISPLAY_MODE_LABEL,className:fe().marginTop8,children:[(0,r.jsx)(s.Ee,{options:[{name:x.Z.Messages.COZY_MODE,value:Kp},{name:x.Z.Messages.COMPACT_MODE,value:qp}],onChange:this.handleMessageDisplayModeChange,value:this.props.messageDisplayCompact?qp:Kp}),(0,r.jsx)(s.j7,{value:this.props.messageDisplayCompact&&this.props.displayCompactAvatars,disabled:!this.props.messageDisplayCompact,onChange:this.handleDisplayCompactAvatarsChanged,className:fe().marginTop20,children:x.Z.Messages.DISPLAY_COMPACT_AVATARS})]})};o.handleDarkSidebarChecked=function(){(0,Bc.lq)()};o.handleAMOLEDThemeChange=function(e){l.Z.dispatch({type:"UNSYNCED_USER_SETTINGS_UPDATE",settings:{useAMOLEDTheme:e?Lp.W.ON:Lp.W.OFF}})}
;o.renderScalingAndSpacing=function(){return(0,r.jsxs)(r.Fragment,{children:[this.renderFontScaleSlider(),this.renderMessageGroupSpacingSlider(),this.renderZoomSlider(),(0,r.jsx)(s.$i,{className:fe().marginTop20})]})};o.render=function(){return(0,r.jsxs)(s.hj,{tag:s.RB.H1,title:x.Z.Messages.APPEARANCE,children:[this.renderPreview(),this.renderTheme(),this.renderDisplayMode(),this.renderScalingAndSpacing(),(0,r.jsx)(s.xv,{variant:"text-md/normal",className:fe().marginTop20,children:x.Z.Messages.APPEARANCE_SETTINGS_ACCESSIBILITY_LINK.format({onAccessibilityClick:function(){f.Z.open(G.oAB.ACCESSIBILITY)}})})]})};o.handleSliderRender=function(e){return"".concat(e.toFixed(0),"%")};o.handleSliderRenderPX=function(e){return"".concat(e.toFixed(0),"px")};o.handleSliderValueText=function(e){return x.Z.Messages.PIXEL_VALUE_A11Y_TEXT.format({value:e})};o.handleFontSizeChange=function(e){(0,Bc.oL)(e)};o.handleMessageSpacingChange=function(e){switch(e){case 0:case 4:case 8:case 16:case 24:(0,
Bc.ZZ)(e)}};o.handleZoomChange=function(e){(0,Bc.cq)(e)};return n}(o.Component);function rh(){var e,t=si.jU.useSetting(),n=si.RS.useSetting(),i=si.NA.useSetting(),s=(0,Ip.Z)(),l=s.hasClientThemes,c=s.hasSidebarEditor,u=si.L1.useSetting();o.useEffect((function(){(0,qs.EW)(a.z$.CLIENT_THEMES_SETTINGS_BADGE,{dismissAction:Ap.L.AUTO,forceTrack:!0})}),[]);var f=(0,E.cj)([Gu.Z,Tp.ZP,Te.Z,Vr.default,_p.Z],(function(){var t;return{theme:Gu.Z.theme,useForcedColors:Te.Z.useForcedColors,useSystemTheme:Tp.ZP.useSystemTheme,useAMOLEDTheme:Tp.ZP.useAMOLEDTheme,darkSidebar:Gu.Z.darkSidebar,fontSize:Te.Z.fontSize,zoom:Te.Z.zoom,messageGroupSpacing:Te.Z.messageGroupSpacing,displayCompactAvatars:Tp.ZP.displayCompactAvatars,isStaff:null!==(e=null===(t=Vr.default.getCurrentUser())||void 0===t?void 0:t.isStaff)&&void 0!==e&&e,gradientPreset:_p.Z.getGradientPreset()}}));return(0,r.jsx)(nh,Hp({messageDisplayCompact:t,hideSimpleEmbedContent:n&&i,hasClientThemes:l,hasSidebarEditor:c,clientTheme:u},f))}
const oh={fetch:function(){$u.Z.get({url:G.ANM.OAUTH2_TOKENS,oldFormErrors:!0}).then((function(e){return l.Z.dispatch({type:"USER_AUTHORIZED_APPS_UPDATE",apps:e.body})}),(function(){return l.Z.dispatch({type:"USER_AUTHORIZED_APPS_UPDATE",apps:[]})}))},delete:function(e){var t=this;$u.Z.delete({url:G.ANM.OAUTH2_TOKEN(e),oldFormErrors:!0}).then((function(){t.fetch()}))}};var ih=n(912224),ah=n(823343),sh=n(623899),lh=n(930365),ch=n(437686),uh=n(246887),fh=n(979915),dh=n(222295),ph=n(556932);function hh(e,t){return dh.t.XBOX_APPLICATION_ID===e||t&&dh.M.PLAYSTATION_APPLICATION_IDS.has(e)}var Eh=n(280370),yh=n(102172),mh=n.n(yh);function bh(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function gh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){bh(e,t,n[t])}))}return e}var Oh=E.ZP.connectStores([Gu.Z],(function(){return{theme:Gu.Z.theme}}))(uh.ZP);function vh(e){var t=e.application;return(0,r.jsxs)("div",{className:mh().twoWayWarning,children:[(0,r.jsx)(fh.Z,{className:mh().twoWayWarningIcon}),(0,r.jsx)(s.xv,{color:"text-normal",variant:"text-sm/medium",children:x.Z.Messages.AUTHORIZED_APP_IS_CONNECTED_ACCOUNT.format({applicationName:t.name,onConnectionPress:function(){return f.Z.setSection(G.jXE.SETTINGS_CONNECTIONS)}})})]})}var _h=function(e){var t,n,o=e.scopes,i=e.application,a=e.onDelete,l=function(){var e=x.Z.Messages.DELETE_APP_CONFIRM_MSG;hh(i.id,(0,ph.Kb)())&&(e=(0,r.jsxs)(r.Fragment,{children:[e,(0,r.jsx)(Eh.Z,{className:mh().infoBox,children:x.Z.Messages.AUTHORIZED_APP_IS_CONNECTED_ACCOUNT_DISCONNECT_WARNING.format({applicationName:i.name})})]}));return(0,je.h7)((function(t){return(0,r.jsx)(ih.default,gh({
title:x.Z.Messages.DEAUTHORIZE_APP,body:e,confirmText:x.Z.Messages.DEAUTHORIZE,cancelText:x.Z.Messages.CANCEL,onConfirm:a},t))}))},c=hh(i.id,(0,ph.jP)());return(0,r.jsx)(s.Zb,{className:O()(mh().authedApp,fe().marginBottom8),outline:!0,children:(0,r.jsxs)(s.y5,{component:(t=pi.ZP.getApplicationIconURL({id:i.id,icon:i.icon}),n=null!=t?(0,r.jsx)(ae.Z.Child,{className:mh().appAvatar,grow:0,children:(0,r.jsx)("img",{src:t,alt:""})}):null,(0,r.jsxs)(ae.Z,{className:O()(mh().header,fe().marginBottom20),children:[(0,r.jsxs)(ae.Z,{className:mh().headerInfo,children:[n,(0,r.jsx)(ae.Z.Child,{children:(0,r.jsx)(s.X6,{variant:"text-sm/semibold",children:i.name})})]}),(0,r.jsx)(ae.Z.Child,{wrap:!0,grow:0,children:(0,r.jsx)(s.zx,{className:mh().deleteApp,color:s.Tt.RED,look:s.iL.OUTLINED,size:s.Ph.SMALL,onClick:l,children:x.Z.Messages.DEAUTHORIZE})})]})),children:[function(){if(null!=i.description&&""!==i.description)return(0,r.jsx)(s.xJ,{faded:!0,title:x.Z.Messages.ABOUT_THIS_APP,children:(0,
r.jsx)(s.R9,{children:i.description})})}(),function(){var e=o.map((function(e){return(0,r.jsxs)("li",{className:O()(mh().permission,fe().marginTop8),children:[(0,r.jsx)("i",{className:mh().permissionCheckmark}),(0,r.jsx)(s.R9,{children:(0,lh.jW)(e,o)})]},e)}));if(e.length>0)return(0,r.jsx)(s.xJ,{faded:!0,title:x.Z.Messages.PERMISSIONS,className:fe().marginTop20,children:(0,r.jsx)("ul",{children:e})})}(),c&&(0,r.jsx)(vh,{application:i})]})})};const Ih=function(){var e=(0,E.e7)([Dr.Z],(function(){return Dr.Z.hidePersonalInformation})),t=(0,E.e7)([ch.Z],(function(){return ch.Z.getApps()})),i=(0,E.e7)([sh.ZP],(function(){return sh.ZP.getSelfEmbeddedActivities()}));o.useEffect((function(){oh.fetch()}),[]);return e?(0,r.jsx)(Mt.Z,{}):(0,r.jsx)(s.hj,{tag:s.RB.H1,title:x.Z.Messages.AUTHORIZED_APPS,children:(0,r.jsx)(s.y5,{component:(0,r.jsx)(s.To,{className:fe().marginBottom40,type:s.sj.PRIMARY,title:x.Z.Messages.APPLICATIONS_AND_CONNECTIONS,body:x.Z.Messages.APPLICATIONS_AND_CONNECTIONS_BODY
}),children:null==t?(0,r.jsx)(s.$j,{className:fe().marginTop20,type:s.$j.Type.SPINNING_CIRCLE}):0===t.length?(0,r.jsxs)(Oh,{className:mh().marginTop20,children:[(0,r.jsx)(uh.ox,{darkSrc:n(3874),lightSrc:n(302255),width:380,height:282}),(0,r.jsx)(uh.OZ,{note:x.Z.Messages.NO_AUTHORIZED_APPS_NOTE,children:x.Z.Messages.NO_AUTHORIZED_APPS})]}):t.map((function(e){return(0,r.jsx)(_h,gh({onDelete:function(){return function(e){var t=e.id,n=e.application;oh.delete(t);var r=i.get(n.id);null!=r&&(0,ah.mW)({channelId:r.channelId,applicationId:n.id})}(e)}},e),e.id)}))})})};var Sh=n(909359),Th=n(277563),Nh=n(976882),Ch=n(240243);function Ah(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Ph(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
;t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function jh(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function xh(e){var t=e.width,n=void 0===t?24:t,o=e.height,i=void 0===o?24:o,a=e.color,s=void 0===a?"currentColor":a,l=e.foreground,c=jh(e,["width","height","color","foreground"]);return(0,r.jsx)("svg",Ph(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Ah(e,t,n[t])}))}return e}({},(0,Ch.Z)(c)),{width:n,height:i,viewBox:"0 0 24 24",children:(0,r.jsx)("path",{className:l,fill:s,id:"a",d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM8.9 6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2H8.9V6zM16 16h-3v3h-2v-3H8v-2h3v-3h2v3h3v2z"})}))}var Rh=n(557473),Mh=n(552622),wh=n(298080),Zh=n(204371),Lh=/[^0-9/]/g;function Dh(e){var t=e.replace(Lh,"").split("/"),n=t[0],r=t[1],o=[];parseInt(n,10)>12&&(n=n.substring(0,1));o.push(n);(parseInt(n,10)>1||2===n.length||null!=r&&""!==r)&&o.push("/");null!=r&&""!==r&&parseInt(r,10)>99&&(r=(r+"").substring(0,2));o.push(r);return o.join("")}function Uh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}
function kh(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Gh(e){Gh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Gh(e)}function Bh(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Hh(e,t){return!t||"object"!==Fh(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Vh(e,t){Vh=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Vh(e,t)}
var Fh=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Yh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Gh(e);if(t){var o=Gh(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Hh(this,n)}}var zh=/[^0-9]/g,Wh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Vh(e,t)}(n,e);var t=Yh(n);function n(){Uh(this,n);var e;(e=t.apply(this,arguments)).selectionStart=0;e.setRef=function(t){var n=e.props.inputRef;e._inputRef=t;null!=n&&n(t)};e.handleChange=function(t,n){
var r=e.props,o=r.value,i=r.onChange,a=e._inputRef;if(t!==o&&null!=a&&null!=o){var s=Dh(t),l=a.selectionStart;s===o&&s.length<=3&&o.includes("/")&&!t.includes("/")?s=s.replace(zh,""):s===o&&t.includes("/")&&!o.includes("/")&&(s+="/");s.length>t.length&&(l+=s.length-t.length);e.selectionStart=l;null!=i&&i(s,n)}};return e}var o=n.prototype;o.componentDidUpdate=function(e){var t=this._inputRef;e.value!==this.props.value&&null!=t&&t.setSelectionRange(this.selectionStart,this.selectionStart)};o.render=function(){return(0,r.jsx)(s.oi,Bh(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){kh(e,t,n[t])}))}return e}({},this.props),{inputMode:"numeric",onChange:this.handleChange,inputRef:this.setRef}))};return n}(o.PureComponent);const Kh=Wh
;var qh,Xh=n(183201),Qh=n(720999),$h=n.n(Qh);function Jh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function eE(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function tE(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Jh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jh(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}!function(e){e.EXPIRATION_DATE="expirationDate"}(qh||(qh={}));var nE=eE({},qh.EXPIRATION_DATE,{name:qh.EXPIRATION_DATE,id:(0,on.hQ)(),title:function(){return x.Z.Messages.CREDIT_CARD_EXPIRATION_DATE},autoComplete:"cc-exp",placeholder:function(){return x.Z.Messages.PAYMENT_SOURCE_EXPIRATION_DATE_PLACEHOLDER},pattern:"\\d*",getClassNameForLayout:function(){return $h().width50},renderInput:function(e){return(0,r.jsx)(Kh,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){eE(e,t,n[t])}))}return e}({},e))}}),rE=[{fields:[nE[qh.EXPIRATION_DATE]]}];const oE=function(e){
var t=e.onCardInfoChange,n=e.className,i=e.expirationDate,a=e.error,s=tE(o.useState(!1),2),l=s[0],c=s[1],u=tE(o.useState(null),2),f=u[0],d=u[1],p=tE(o.useState(i),2),h=p[0],E=p[1];o.useEffect((function(){t({expirationDate:h},null===f)}),[h,t,f]);return(0,r.jsx)(Xh.Z,{className:n,form:rE,values:{expirationDate:h},errors:null!=f?{expirationDate:f}:{},formError:a,onFieldChange:function(e){l||""===e||c(!0);l&&""===e||!(0,Zh.eH)(e)?d(x.Z.Messages.CREDIT_CARD_ERROR_EXPIRATION):d(null);E(e)}})};var iE=n(72877),aE=n(215913),sE=n.n(aE);function lE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function cE(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function uE(e){uE=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return uE(e)}function fE(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){cE(e,t,n[t])}))}return e}function dE(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function pE(e,t){return!t||"object"!==yE(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function hE(e,t){hE=Object.setPrototypeOf||function(e,t){e.__proto__=t
;return e};return hE(e,t)}function EE(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return lE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lE(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var yE=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}
;function mE(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=uE(e);if(t){var o=uE(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pE(this,n)}}var bE="isDefault",gE=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&hE(e,t)}(n,e);var t=mE(n);function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r;(r=t.call(this,e)).handleSubmit=function(e){e.preventDefault();e.stopPropagation();if(0===Object.values(r.state.dirtyFields).filter(Ue.lm).length)r.props.onCancel();else{
var t=r.state,n=t.billingAddress,o=t.isDefault,i=t.expiresMonth,a=t.expiresYear;r.props.onSubmit(r.props.paymentSource.id,{billingAddress:n,expiresMonth:i,expiresYear:a,isDefault:o})}};r.handleCancel=function(){r.props.onCancel()};r.handleDelete=function(){var e=r.props;(0,e.onDelete)(e.paymentSource.id)};r.handleAddressUpdate=function(e,t,n){r.setState({billingAddress:e,billingAddressValid:t,dirtyFields:dE(fE({},r.state.dirtyFields),{billingAddress:n})})};r.handleExpirationDateUpdate=function(e,t){var n=e.expirationDate;r.setState({expirationValid:t});if(null!=n&&""!==n){var o=EE(n.split("/"),2),i=o[0],a=o[1];r.handleFieldChange(Number(i),"expiresMonth");r.handleFieldChange(Number("".concat((new Date).getFullYear().toString().slice(0,2)).concat(a)),"expiresYear")}};r.handleFieldChange=function(e,t){if(null!=t){var n;r.setState((cE(n={},t,e),cE(n,"dirtyFields",dE(fE({},r.state.dirtyFields),cE({},t,!0))),n))}};var o,i,a,s,l,c,u,f=e.paymentSource,d=e.isDefault,p=f.billingAddress
;r.state={billingAddress:{name:null!==(o=p.name)&&void 0!==o?o:"",line1:null!==(i=p.line1)&&void 0!==i?i:"",line2:null!==(a=p.line2)&&void 0!==a?a:"",country:null!==(s=p.country)&&void 0!==s?s:"",state:null!==(l=p.state)&&void 0!==l?l:"",city:null!==(c=p.city)&&void 0!==c?c:"",postalCode:null!==(u=p.postalCode)&&void 0!==u?u:""},expiresMonth:f instanceof Mh.dm?f.expiresMonth:void 0,expiresYear:f instanceof Mh.dm?f.expiresYear:void 0,billingAddressValid:!1,isDefault:d,expirationValid:!0,dirtyFields:{}};return r}var o=n.prototype;o.componentWillUnmount=function(){l.Z.wait((function(){(0,Pt._H)();(0,Pt.w7)()}))};o.renderError=function(){var e=this.props,t=e.updateError,n=e.removeError;return null==t||t.hasCardError()||t.hasAddressError()?null!=n?(0,r.jsx)(s.kz,{className:sE().formError,children:n.message}):null:(0,r.jsx)(s.kz,{className:sE().formError,children:t.message})};o.renderBillingAddressSection=function(){var e=this.state.billingAddress,t=this.props,n=t.updateError,o=function(e){
return[G.HeQ.CARD,G.HeQ.VENMO].includes(e.type)&&"US"===e.country?Bn.tq?wh.Z.Layouts.SETTINGS_US_MOBILE:wh.Z.Layouts.SETTINGS_US:e.type===G.HeQ.CARD&&"US"!==e.country?Bn.tq?wh.Z.Layouts.SETTINGS_INTL_MOBILE:wh.Z.Layouts.SETTINGS_INTL:Bn.tq?wh.Z.Layouts.SETTINGS_INTL_NO_NAME_MOBILE:wh.Z.Layouts.SETTINGS_INTL_NO_NAME}(t.paymentSource);return(0,r.jsxs)("div",{className:sE().addressSection,children:[(0,r.jsx)(s.xv,{className:sE().sectionHeader,variant:"text-sm/normal",children:x.Z.Messages.BILLING_ADDRESS}),(0,r.jsx)(wh.Z,dE(fE({},e),{mode:wh.Z.Modes.EDIT,layout:o,onBillingAddressChange:this.handleAddressUpdate,error:n}))]})};o.renderCardExpirationSection=function(){var e=this.state,t=e.expiresMonth,n=e.expiresYear;if(null==t||null==n)return null;var o="".concat(t.toString().padStart(2,"0"),"/").concat(n.toString().padStart(2,"0").slice(-2));return(0,r.jsxs)("div",{className:sE().addressSection,children:[(0,r.jsx)(s.xv,{className:sE().sectionHeader,variant:"text-sm/normal",
children:x.Z.Messages.BILLING_STEP_CREDIT_CARD_INFORMATION}),(0,r.jsx)(oE,{expirationDate:o,onCardInfoChange:this.handleExpirationDateUpdate,error:this.props.updateError})]})};o.renderActions=function(){var e=this.props,t=e.submitting,n=e.removing,o=e.isForSubscription,i=this.state,a=i.billingAddressValid,l=i.expirationValid;return(0,r.jsxs)("div",{className:sE().formActions,children:[(0,r.jsx)("div",{className:sE().leftAlignedButtons,children:(0,r.jsxs)("div",{className:sE().disabledTooltipWrapper,children:[o?(0,r.jsx)(rn.ZP,{text:x.Z.Messages.PAYMENT_SOURCE_DELETE_DISABLED_TOOLTIP,children:function(e){return(0,r.jsx)("div",fE({"aria-hidden":!0,className:sE().disabledTooltipTarget},e))}}):null,(0,r.jsx)(s.zx,{type:"button",disabled:o||t,submitting:n,onClick:this.handleDelete,look:s.zx.Looks.OUTLINED,color:s.zx.Colors.RED,size:Bn.tq?s.Ph.SMALL:s.Ph.MEDIUM,children:Bn.tq?x.Z.Messages.DELETE:x.Z.Messages.PAYMENT_SOURCE_DELETE})]})}),(0,r.jsxs)("div",{className:sE().rightAlignedButtons,
children:[(0,r.jsx)(s.zx,{type:"button",disabled:t||n,onClick:this.handleCancel,look:s.zx.Looks.LINK,color:s.zx.Colors.PRIMARY,size:Bn.tq?s.Ph.SMALL:s.Ph.MEDIUM,children:x.Z.Messages.CANCEL}),(0,r.jsx)(s.zx,{submitting:t,disabled:!a||n||!l,type:"submit",color:s.zx.Colors.GREEN,size:Bn.tq?s.Ph.SMALL:s.Ph.MEDIUM,children:x.Z.Messages.SAVE})]})]})};o.render=function(){var e=this,t=this.props,n=t.paymentSource,o=t.isDefault,i=t.locale,a=t.className,l=t.isForSubscription,c=this.state.isDefault,u=n instanceof Mh.qo;return(0,r.jsx)(s.Zb,{editable:!0,className:O()(sE().card,a),children:(0,r.jsxs)("form",{onSubmit:this.handleSubmit,noValidate:!0,children:[this.renderError(),(0,r.jsxs)("div",{className:sE().paymentSection,children:[(0,r.jsx)(iE.Z,{paymentSource:n,isDefault:o,isForSubscription:l,locale:i}),n.invalid?(0,r.jsx)("div",{className:sE().errorSubText,children:x.Z.Messages.PAYMENT_SOURCE_INVALID_HELP}):null,(0,r.jsx)("div",{className:sE().subText,
children:u?x.Z.Messages.PAYMENT_SOURCE_EDIT_HELP_PAYPAL.format({paypalURL:G.yfF}):x.Z.Messages.PAYMENT_SOURCE_EDIT_HELP_CARD})]}),this.renderCardExpirationSection(),this.renderBillingAddressSection(),(0,r.jsx)(s.XZ,{name:bE,value:c,onChange:function(t,n){return e.handleFieldChange(n,bE)},type:s.XZ.Types.INVERTED,className:sE().defaultSection,children:(0,r.jsx)(s.xv,{className:sE().defaultCheckboxLabel,variant:"text-sm/normal",children:x.Z.Messages.PAYMENT_SOURCE_MAKE_DEFAULT})}),(0,r.jsx)(s.$i,{}),this.renderActions()]})})};return n}(o.PureComponent);gE.defaultProps={onDelete:function(){},onSubmit:function(){},onCancel:function(){}};const OE=E.ZP.connectStores([kr.Z],(function(){return{updateError:kr.Z.editSourceError,removeError:kr.Z.removeSourceError}}))(gE);var vE=n(450794),_E=n.n(vE);function IE(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SE(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}
s.done?t(l):Promise.resolve(l).then(r,o)}function TE(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){SE(i,r,o,a,s,"next",e)}function s(e){SE(i,r,o,a,s,"throw",e)}a(void 0)}))}}function NE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CE(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function AE(e){AE=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return AE(e)}function PE(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&ME(e,t)}function jE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){CE(e,t,n[t])}))}return e}function xE(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function RE(e,t){return!t||"object"!==wE(t)&&"function"!=typeof t?IE(e):t}function ME(e,t){ME=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return ME(e,t)}var wE=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function ZE(e){var t=function(){
if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=AE(e);if(t){var o=AE(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return RE(this,n)}}var LE=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0]
;continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},DE=function(e){PE(n,e);var t=ZE(n);function n(){NE(this,n);var e;(e=t.apply(this,arguments)).handleEditClick=function(){e.props.onEditClick(e.props.paymentSource.id)};return e}n.prototype.render=function(){var e=this.props,t=e.paymentSource,n=e.isDefault,o=e.isEditing,i=e.index,a=e.hideDivider,l=e.isForSubscription,c=e.locale,u=e.removing,f=e.submitting,d=e.onSubmit,p=e.onCancel,h=e.onDelete;return o?(0,r.jsx)(OE,{paymentSource:t,isDefault:n,removing:u,submitting:f,locale:c,isForSubscription:l,onSubmit:d,onCancel:p,onDelete:h}):(0,
r.jsxs)("div",{className:_E().paymentSourceItem,children:[i>0&&!a?(0,r.jsx)(s.$i,{className:_E().sourceDivider}):null,(0,r.jsxs)(ae.Z,{align:ae.Z.Align.CENTER,justify:ae.Z.Justify.BETWEEN,className:_E().paymentSourceRow,children:[(0,r.jsx)(iE.Z,{paymentSource:t,isDefault:n,isForSubscription:l,locale:c,showSubtext:!0}),o?null:(0,r.jsx)(s.zx,{color:s.zx.Colors.PRIMARY,onClick:this.handleEditClick,size:s.zx.Sizes.SMALL,children:x.Z.Messages.EDIT})]})]})};return n}(o.PureComponent);DE.defaultProps={isEditing:!1,hideDivider:!1,onEditClick:function(){}};var UE=function(e){PE(o,e);var t=ZE(o);function o(){NE(this,o);var e;(e=t.apply(this,arguments)).state={editingPayment:null};e.handleEditClick=function(t){e.setState({editingPayment:t})};e.handleCancel=function(){e.setState({editingPayment:null})};var i,a=IE(e);e.handleDelete=(i=TE((function(e){return LE(this,(function(t){switch(t.label){case 0:t.trys.push([0,2,,3]);return[4,Pt.xt(e)];case 1:t.sent();a.setState({editingPayment:null})
;return[3,3];case 2:t.sent();return[3,3];case 3:return[2]}}))})),function(e){return i.apply(this,arguments)});var s=IE(e);e.handleSubmit=function(){var e=TE((function(e,t){return LE(this,(function(n){switch(n.label){case 0:if(null==e)return[3,4];n.label=1;case 1:n.trys.push([1,3,,4]);return[4,Pt.LI(e,t)];case 2:n.sent();s.setState({editingPayment:null});return[3,4];case 3:n.sent();return[3,4];case 4:return[2]}}))}));return function(t,n){return e.apply(this,arguments)}}();e.handlePaymentSourceAdded=function(){var e=TE((function(e){return LE(this,(function(t){switch(t.label){case 0:return[4,(0,Rh.i1)(e.id)];case 1:t.sent();return[2]}}))}));return function(t){return e.apply(this,arguments)}}();e.handleAddPaymentMethod=function(){var t=IE(e);(0,je.ZD)(TE((function(){var e,o;return LE(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(81230),n.e(67543),n.e(64972)]).then(n.bind(n,564972))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,
r.jsx)(o,xE(jE({},e),{onAddPaymentSource:t.handlePaymentSourceAdded}))}]}}))})),{onCloseCallback:function(){(0,Nh.fw)()}})};return e}var i=o.prototype;i.renderFooter=function(){var e=this.props.paymentSources;return(0,r.jsxs)(ae.Z,{justify:ae.Z.Justify.END,className:_E().footer,children:[0===Object.keys(e).length?(0,r.jsxs)(ae.Z.Child,{children:[(0,r.jsx)(s.xv,{variant:"text-sm/normal",children:x.Z.Messages.BILLING_NO_PAYMENT_METHOD}),(0,r.jsx)("div",{className:_E().subText,children:x.Z.Messages.BILLING_NO_PAYMENT_METHOD_DESCRIPTION})]}):null,(0,r.jsx)(s.zx,{onClick:this.handleAddPaymentMethod,children:x.Z.Messages.BILLING_ADD_PAYMENT_METHOD})]})};i.render=function(){var e=this,t=this.props,n=t.defaultPaymentSourceId,o=t.paymentSources,i=t.locale,a=t.removing,l=t.submitting,c=t.premiumSubscriptionPaymentSourceId,u=_e().values(o).sort((function(e,t){return e.id===n?-1:t.id===n?1:Th.default.compare(e.id,t.id)})),f=this.state.editingPayment,d=u.findIndex((function(e){return e.id===f
})),p=u.map((function(t,o){return(0,r.jsx)(DE,{locale:i,paymentSource:t,isDefault:n===t.id,onCancel:e.handleCancel,onDelete:e.handleDelete,isForSubscription:t.id===c,hideDivider:d===o-1,onSubmit:e.handleSubmit,index:o,submitting:l,removing:a,isEditing:f===t.id,onEditClick:e.handleEditClick},t.id)}));return(0,r.jsxs)("div",{children:[(0,r.jsx)(s.vw,{tag:"h1",children:(0,r.jsxs)(ae.Z,{align:ae.Z.Align.CENTER,children:[(0,r.jsx)(rn.ZP,{position:rn.ZP.Positions.LEFT,text:x.Z.Messages.BILLING_SECURE_TOOLTIP,children:function(e){return(0,r.jsx)(xh,jE({className:_E().lockIcon},e))}}),x.Z.Messages.BILLING_PAYMENT_SOURCES]})}),p,d!==u.length-1?(0,r.jsx)(s.$i,{className:_E().sourceDivider}):null,this.renderFooter()]})};return o}(o.PureComponent);const kE=UE;var GE=n(84840),BE=n(196806),HE=n.n(BE);function VE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FE(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0
}):e[t]=n;return e}function YE(e){YE=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return YE(e)}function zE(e,t){return!t||"object"!==KE(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function WE(e,t){WE=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return WE(e,t)}var KE=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function qE(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=YE(e);if(t){var o=YE(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zE(this,n)}}var XE=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&WE(e,t)}(n,e);var t=qE(n);function n(){VE(this,n);return t.apply(this,arguments)}var o=n.prototype;o.componentDidMount=function(){l.Z.wait((function(){Pt.tZ();Pt.jg()}))};o.handleRedemptionRedirect=function(){f.Z.setSection(G.oAB.INVENTORY)};o.render=function(){var e=this.props,t=e.syncing,n=e.hide,o=e.paymentSources,i=e.defaultPaymentSourceId,a=e.locale,l=e.premiumSubscription,c=e.isRemovingPaymentSource,u=e.isUpdatingPaymentSource;return n?(0,r.jsx)(Mt.Z,{}):(0,r.jsxs)("div",{className:HE().userSettingsBilling,children:[t&&0===Object.keys(o).length?(0,r.jsx)("div",{className:HE().syncing,children:(0,r.jsx)(s.$j,{})}):(0,r.jsx)(kE,{paymentSources:o,defaultPaymentSourceId:i,premiumSubscriptionPaymentSourceId:null!=l&&l.status!==G.O0b.CANCELED?l.paymentSourceId:null,locale:a,
removing:c,submitting:u}),(0,r.jsx)("div",{className:HE().paymentHistory,children:(0,r.jsxs)(s.y5,{component:(0,r.jsx)(s.vw,{tag:"h1",children:x.Z.Messages.BILLING_PAYMENT_HISTORY}),children:[(0,r.jsx)(GE.oQ,{}),(0,r.jsx)(Sh.Z,{locale:a})]})}),(0,r.jsx)(s.Zb,{className:HE().codeRedemptionRedirect,type:s.Zb.Types.CUSTOM,children:x.Z.Messages.BILLING_CODE_REDEMPTION_REDIRECT.format({onClick:this.handleRedemptionRedirect})})]})};return n}(o.PureComponent);function QE(){var e=(0,E.cj)([y.default,kr.Z,Qt.Z,Vr.default,Dr.Z,Zt.Z],(function(){var e=Zt.Z.getPremiumTypeSubscription(),t=Vr.default.getCurrentUser();L()(null!=t,"UserSettingsBilling: currentUser cannot be undefined");return{locale:y.default.locale,hide:Dr.Z.enabled,isClaimed:t.isClaimed(),isVerified:t.verified,premiumSubscription:e,defaultPaymentSourceId:Qt.Z.defaultPaymentSourceId,paymentSources:Qt.Z.paymentSources,syncing:kr.Z.isSyncing,isRemovingPaymentSource:kr.Z.isRemovingPaymentSource,
isUpdatingPaymentSource:kr.Z.isUpdatingPaymentSource}}));return(0,r.jsx)(XE,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){FE(e,t,n[t])}))}return e}({},e))}var $E=n(647446),JE=n(690217),ey=n(113518),ty=n(332233),ny=n(144857),ry=n(456711),oy=n(783848),iy=n(950008),ay=n(402411),sy=n(16870),ly=new Set([G.ABu.XBOX,G.ABu.PLAYSTATION,G.ABu.PLAYSTATION_STAGING,G.ABu.CRUNCHYROLL]);var cy=n(735696),uy=n(95048),fy=n(507229),dy=n.n(fy),py=function(e){var t=e.markAsDismissed;o.useEffect((function(){return t}),[t]);return(0,r.jsx)(sn.IG,{className:dy().newBadge,text:x.Z.Messages.NEW})},hy=function(e){var t=e.title,n=e.body,o=e.img,i=e.newIndicatorDismissibleContent,a=e.onClick;return(0,r.jsxs)("div",{className:dy().container,children:[o,(0,
r.jsxs)("div",{className:dy().textContainer,children:[(0,r.jsxs)("div",{className:dy().headerText,children:[(0,r.jsx)(uy.Z,{contentTypes:[i],children:function(e){var t=e.visibleContent,n=e.markAsDismissed;return t===i?(0,r.jsx)(py,{markAsDismissed:n}):null}}),(0,r.jsx)(s.xv,{variant:"text-md/semibold",children:t})]}),(0,r.jsx)(s.xv,{variant:"text-xs/normal",children:n})]}),(0,r.jsx)(s.zx,{size:s.Ph.MEDIUM,onClick:a,className:dy().reconnectButton,children:x.Z.Messages.RECONNECT})]})},Ey=n(761869),yy=n.n(Ey),my=function(){var e=sa.Z.getArticleURL(G.BhN.PS_CONNECTION);return(0,r.jsx)(hy,{title:x.Z.Messages.PS_TWO_WAY_UPSELL_TITLE,body:x.Z.Messages.PS_TWO_WAY_UPSELL_BODY.format({help_article:e}),img:(0,r.jsx)("img",{src:yy(),width:"82",height:"auto",alt:""}),newIndicatorDismissibleContent:a.z$.PS_ONE_WAY_RECONNECT,onClick:function(){return(0,oy.Z)(G.ABu.PLAYSTATION,"PS two way upsell")}})},by=n(884217),gy=n.n(by),Oy=function(){var e=sa.Z.getArticleURL(G.BhN.XBOX_CONNECTION);return(0,
r.jsx)(hy,{title:x.Z.Messages.XBOX_TWO_WAY_UPSELL_TITLE,body:x.Z.Messages.XBOX_TWO_WAY_UPSELL_BODY.format({help_article:e}),img:(0,r.jsx)("img",{src:gy(),width:"auto",height:"45",alt:""}),newIndicatorDismissibleContent:a.z$.XBOX_ONE_WAY_RECONNECT,onClick:function(){return(0,oy.Z)(G.ABu.XBOX,"Xbox two way upsell")}})},vy=n(995740),_y=n(125354),Iy=n.n(_y);function Sy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ty(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Ny(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Ty(e,t,n[t])}))}return e}function Cy(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Ay(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Sy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sy(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Py=function(e){var t,n,o,i=e.integration,a=(0,E.e7)([iy.Z],(function(){return iy.Z.isJoining(i.id)}),[i.id]);null!=(0,E.e7)([un.Z],(function(){return un.Z.getGuild(i.guild.id)}),[i.guild.id])||(o=(0,r.jsx)(s.zx,{size:s.Ph.SMALL,onClick:function(){JE.Z.joinServer(i.id,(function(){}))},disabled:a,children:(0,r.jsx)("span",{children:a?x.Z.Messages.JOINING_GUILD:x.Z.Messages.JOIN_GUILD})}));return(0,r.jsxs)("div",{className:Iy().integration,children:[(0,r.jsx)($t.Z,{size:$t.Z.Sizes.SMALL,guild:i.guild,className:Iy().guildIcon}),(0,r.jsxs)("div",{className:Iy().integrationInner,children:[(0,r.jsx)(s.xv,{variant:"text-md/semibold",color:"header-primary",
children:i.guild.toString()}),(0,r.jsx)(s.ee,{href:null===(t=ty.Z.get(i.type))||void 0===t||null===(n=t.getPlatformUserUrl)||void 0===n?void 0:n.call(t,i.account),children:(0,r.jsx)(s.xv,{variant:"text-xs/normal",color:"header-secondary",children:i.account.name})})]}),o]})};function jy(e){var t=e.onDisconnect,n=e.account,i=e.theme,a=function(){(0,oy.Z)(n.type,"User Settings")},l=function(){var e=ty.Z.get(n.type),o=x.Z.Messages.DISCONNECT_ACCOUNT_BODY;(function(e){return ly.has(e.type)&&e.twoWayLink})(n)&&(o=(0,r.jsxs)(r.Fragment,{children:[o,(0,r.jsx)(Eh.Z,{className:Iy().infoBox,children:x.Z.Messages.CONNECTED_ACCOUNT_IS_AUTHORIZED_APP_DISCONNECT_WARNING.format({platformName:e.name})})]}));(0,je.h7)((function(n){return(0,r.jsx)(ih.default,Ny({title:x.Z.Messages.DISCONNECT_ACCOUNT_TITLE.format({name:e.name}),body:o,confirmText:x.Z.Messages.DISCONNECT_ACCOUNT,cancelText:x.Z.Messages.CANCEL,onConfirm:t},n))}))},c=function(e){var t=n.verified,r=e?1:0;if(!e||t){b(r)
;JE.Z.setVisibility(n.type,n.id,r)}else{C(r);(0,oy.Z)(n.type,"User Settings")}},u=function(e){var t=n.verified,r=e?1:0;if(!e||t){v(r);JE.Z.setMetadataVisibility(n.type,n.id,r)}else{j(r);(0,oy.Z)(n.type,"User Settings")}},f=function(e){E(e);JE.Z.setFriendSync(n.type,n.id,e)},d=function(e){S(e);JE.Z.setShowActivity(n.type,n.id,e)},p=Ay(o.useState(n.friendSync),2),h=p[0],E=p[1],y=Ay(o.useState(n.visibility),2),m=y[0],b=y[1],g=Ay(o.useState(n.metadataVisibility),2),O=g[0],v=g[1],_=Ay(o.useState(n.showActivity),2),I=_[0],S=_[1],T=Ay(o.useState(null),2),N=T[0],C=T[1],A=Ay(o.useState(null),2),P=A[0],j=A[1],R=Ay(o.useState(!1),2),M=R[0],w=R[1],Z=Ay(o.useState([]),2),L=Z[0],D=Z[1],U=ty.Z.get(n.type);o.useEffect((function(){E(n.friendSync);b(n.visibility);v(n.metadataVisibility);S(n.showActivity)}),[n]);o.useEffect((function(){if(!1!==n.verified){if(null!=N){b(N);JE.Z.setVisibility(n.type,n.id,N);C(null)}if(null!=P){v(P);JE.Z.setMetadataVisibility(n.type,n.id,P);j(null)}}}),[n])
;var k=ph.YL.useExperiment({}).allowChurroUpsells;return(0,r.jsxs)("div",{className:Iy().connection,children:[function(e){var t,n=ty.Z.get(e.type),o="1"===(null!==(t=e.metadata)&&void 0!==t?t:{})[vy.PC.TWITTER_VERIFIED],a=null;n.type===G.ABu.TWITTER&&o&&(a=(0,r.jsx)(rn.ZP,{text:x.Z.Messages.CONNECTION_VERIFIED_ON_TWITTER,children:function(e){return(0,r.jsx)(ay.Z,Cy(Ny({},e),{className:Iy().connectionAccountLabelVerified,color:(0,ne.Lq)(G.Ilk.TWITTER),children:(0,r.jsx)(sy.Z,{color:(0,ne.Lq)(G.Ilk.WHITE_500)})}))}}));return(0,r.jsxs)("div",{className:Iy().connectionHeader,children:[(0,r.jsx)("img",{alt:n.name,className:Iy().connectionIcon,src:i===G.BRd.DARK?n.icon.darkSVG:n.icon.lightSVG}),(0,r.jsxs)("div",{children:[(0,r.jsx)(s.xv,{color:"header-primary",variant:"text-md/semibold",className:Iy().connectionAccountValue,children:(0,r.jsxs)("div",{className:Iy().connectionAccountLabelContainer,children:[e.name,a]})}),(0,r.jsx)(s.xv,{variant:"text-xs/normal",color:"header-secondary",
className:Iy().connectionAccountLabel,children:ty.Z.get(e.type).name})]}),(0,r.jsx)(s.P3,{className:Iy().connectionDelete,onClick:l,"aria-label":x.Z.Messages.SERVICE_CONNECTIONS_DISCONNECT,focusProps:{offset:{top:-4,left:-4,right:-4}},children:(0,r.jsx)(cc.Z,{width:16,height:16})})]})}(n),function(e){return e.twoWayLink?null:e.type===G.ABu.XBOX?(0,r.jsx)("div",{className:Iy().upsellWrapper,children:(0,r.jsx)(Oy,{})}):e.type===G.ABu.PLAYSTATION&&k?(0,r.jsx)("div",{className:Iy().upsellWrapper,children:(0,r.jsx)(my,{})}):null}(n),function(e){var t,n=null!==(t=e.metadata)&&void 0!==t?t:{},o=null,i=(0,ry.FI)(n[vy.PC.CREATED_AT]);switch(e.type){case G.ABu.REDDIT:o=(0,ry.oP)(n,Iy().metadataItem);break;case G.ABu.STEAM:o=(0,ry.Dq)(n,Iy().metadataItem);break;case G.ABu.TWITTER:o=(0,ry.rJ)(n,Iy().metadataItem);break;case G.ABu.EBAY:o=(0,ry.ul)(n,Iy().metadataItem);break;case G.ABu.PAYPAL:o=(0,ry.li)(n,Iy().metadataItem);break;case G.ABu.TIKTOK:o=(0,ry.hf)(n,Iy().metadataItem)}if(null!==i){
null==o&&(o=[]);null==o||o.push((0,r.jsx)(s.xv,{variant:"text-xs/normal",color:"interactive-active",className:Iy().connectedAccountVanityMetadataCreatedAt,children:x.Z.Messages.CONNECTIONS_PROFILE_MEMBER_SINCE.format({date:i})},"member-since"))}var a=L.includes(e.id),l=x.Z.Messages.REFRESH;if(null==o||0===o.length){if(!0!==ty.Z.get(e.type).hasMetadata)return null;o=[(0,r.jsx)(sn.IG,{className:Iy().connectionMetadataUpsellTag,text:x.Z.Messages.NEW},"badge"),(0,r.jsx)(s.xv,{variant:"text-xs/normal",className:Iy().connectionMetadataUpsellDescription,children:x.Z.Messages.CONNECTED_ACCOUNT_ADD_DETAILS_DESCRIPTION.format({helpdeskUrl:sa.Z.getArticleURL(G.BhN.CONNECTION_DETAILS)})},"label")];l=x.Z.Messages.CONNECTED_ACCOUNT_ADD_DETAILS}a&&(l=x.Z.Messages.DONE);o.push((0,r.jsx)(s.zx,{className:Iy().metadataRefreshButton,color:a?s.zx.Colors.GREEN:s.zx.Colors.BRAND,size:s.zx.Sizes.SMALL,submitting:M,disabled:a,onClick:a?void 0:function(){w(!0);JE.Z.refresh(e.type,e.id).finally((function(){
setTimeout((function(){L.push(e.id);D(L);w(!1)}),2e3)}))},children:l},"refresh-button"));return(0,r.jsx)("div",{className:Iy().metadataContainer,children:o})}(n),function(e){var t,o,i,a;G.BFP.has(n.type)&&(o=(0,r.jsx)(s.j7,{className:Iy().connectionOptionSwitch,hideBorder:!0,value:h,onChange:f,children:(0,r.jsx)(s.xv,{variant:"text-sm/semibold",children:x.Z.Messages.SYNC_FRIENDS})}));G.vbS.has(n.type)&&(i=(0,r.jsx)(s.j7,{className:Iy().connectionOptionSwitch,hideBorder:!0,value:I,onChange:d,children:(0,r.jsx)(s.xv,{variant:"text-sm/semibold",children:x.Z.Messages.DISPLAY_ACTIVITY.format({platform:e.name})})}));!0===(null===(t=ty.Z.get(n.type))||void 0===t?void 0:t.hasMetadata)&&(a=(0,r.jsx)(s.j7,{className:Iy().connectionOptionSwitch,hideBorder:!0,value:1===O,onChange:u,disabled:1!==m||null==n.metadata,children:(0,r.jsx)(s.xv,{variant:"text-sm/semibold",children:x.Z.Messages.DISPLAY_DETAILS_ON_PROFILE})}));return(0,r.jsx)("div",{className:Iy().connectionOptionsWrapper,children:(0,
r.jsxs)("div",{className:Iy().connectionOptions,children:[(0,r.jsx)(s.j7,{className:Iy().connectionOptionSwitch,hideBorder:!0,value:1===m,onChange:c,children:(0,r.jsx)(s.xv,{variant:"text-sm/semibold",children:x.Z.Messages.DISPLAY_ON_PROFILE})}),a,i,o]})})}(U),function(){if(n.revoked||n.integrations.length>0)return(0,r.jsx)(s.$i,{className:Iy().connectedAccountSeparator})}(),n.revoked?(0,r.jsx)(s.xJ,{className:Iy().integrationsWrapper,children:(0,r.jsx)(s.R9,{className:Iy().integrationRevoked,children:x.Z.Messages.CONNECTED_ACCOUNT_REVOKED.format({onReconnect:a})})}):n.integrations.length>0?(0,r.jsxs)(s.xJ,{className:Iy().integrationsWrapper,children:[(0,r.jsx)(s.vw,{tag:s.RB.H5,children:(0,r.jsx)(s.xv,{variant:"text-xs/semibold",children:x.Z.Messages.SUB_ENABLED_SERVERS})}),(0,r.jsx)("div",{children:n.integrations.map((function(e){return(0,r.jsx)(Py,{integration:e},e.id)}))})]}):void 0]})}function xy(e){
var t=e.alreadyConnectedPlatforms,n=e.excludedPlatformTypes,i=e.includedDisabledPlatformTypes;o.useEffect((function(){return function(){(0,qs.EW)(a.z$.NEW_CRUNCHYROLL_CONNECTION,{dismissAction:Ap.L.AUTO})}}),[]);return(0,r.jsxs)("div",{className:Iy().connectContainer,children:[(0,r.jsx)(s.X6,{variant:"heading-md/bold",color:"interactive-active",className:Iy().connectHeader,children:x.Z.Messages.CONNECTIONS_USER_SETTINGS_CONNECT_ACCOUNTS_HEADER}),(0,r.jsx)(s.xv,{variant:"text-xs/normal",color:"header-secondary",children:x.Z.Messages.CONNECTIONS_USER_SETTINGS_CONNECT_ACCOUNTS_DESCRIPTION.format({privacyPolicyUrl:G.EYA.PRIVACY})}),(0,r.jsx)(Ry,{alreadyConnectedPlatforms:t,excludedPlatformTypes:n,includedDisabledPlatformTypes:i})]})}function Ry(e){var t=e.alreadyConnectedPlatforms,n=e.excludedPlatformTypes,o=e.includedDisabledPlatformTypes,i=function(e){var t=ty.Z.get(e);(0,oy.Z)(t.type);Br.default.track(G.rMx.ACCOUNT_LINK_STEP,{previous_step:"desktop connections",
current_step:"desktop oauth",platform_type:t.type})};return(0,r.jsxs)("div",{className:Iy().connectionsContainer,children:[(0,ny.AK)(o,n,t).slice(0,10).map((function(e){return(0,r.jsx)(ey.Z,{type:e.type,className:Iy().accountButton,innerClassName:Iy().accountButtonInner},e.type)})),(0,r.jsx)(rn.ZP,{text:x.Z.Messages.CONNECTIONS_VIEW_MORE,children:function(e){var t=e.onMouseEnter,a=e.onMouseLeave;return(0,r.jsx)("div",{className:O()(Iy().accountAddWrapper,Iy().accountButton),children:(0,r.jsx)($E.tE,{children:(0,r.jsx)("button",{onMouseEnter:t,onMouseLeave:a,className:O()(Iy().accountAddInner,Iy().accountButtonInner),type:"button",onClick:function(){return function(e){l.Z.dispatch({type:"CONNECTIONS_GRID_MODAL_SHOW",onComplete:i,excludedPlatformTypes:e,includedDisabledPlatformTypes:o})}(n)},"aria-label":x.Z.Messages.ADD_NEW_CONNECTION,children:(0,r.jsx)(Ae.Z,{height:18,width:18,"aria-label":x.Z.Messages.CONNECTIONS_VIEW_MORE})})})})}})]})}function My(e){
var t,o=e.fetching,i=e.accounts,a=e.theme;t=o?(0,r.jsx)(s.$j,{className:fe().marginTop20,type:s.$j.Type.SPINNING_CIRCLE}):0===i.length?(0,r.jsxs)(uh.ZP,{className:fe().marginTop40,theme:a,children:[(0,r.jsx)(uh.ox,{darkSrc:n(117399),lightSrc:n(408056),width:230,height:220}),(0,r.jsx)(uh.OZ,{note:x.Z.Messages.CONNECTED_ACCOUNTS_NONE,children:x.Z.Messages.CONNECTED_ACCOUNTS_NONE_TITLE})]}):i.filter((function(e){return ty.Z.isSupported(e.type)})).map((function(e,t){return(0,r.jsx)(jy,{theme:a,account:e,onDisconnect:function(){return function(e){var t=e.type,n=e.id;JE.Z.disconnect(t,n)}(e)}},t)}));return(0,r.jsx)(s.xJ,{className:Iy().connectionList,children:t})}const wy=function(){var e=(0,E.e7)([Dr.Z],(function(){return Dr.Z.hidePersonalInformation})),t=(0,E.e7)([iy.Z],(function(){return iy.Z.isFetching()})),n=(0,E.e7)([iy.Z],(function(){return iy.Z.getAccounts()})),i=(0,E.e7)([Vr.default],(function(){return Vr.default.getCurrentUser()})),a=(0,
Yo.ZP)(),l=ph.YL.useExperiment({}).allowChurroStaging,c=o.useMemo((function(){var e,t,n=new Set;l&&n.add(G.ABu.PLAYSTATION_STAGING);(null===(e=ny.bO[G.ABu.INSTAGRAM])||void 0===e?void 0:e.includes(null!==(t=null==i?void 0:i.id)&&void 0!==t?t:""))&&n.add(G.ABu.INSTAGRAM);return n}),[l,null==i?void 0:i.id]),u=((0,E.e7)([Ms.Z],(function(){return Ms.Z.getFlattenedGuildIds()})),(0,cy.X)()),f=o.useMemo((function(){return new Set(ty.Z.filter((function(e){return!u(e)})).map((function(e){return e.type})))}),[u]),d=o.useMemo((function(){var e=new Set;n.forEach((function(t){return e.add(t.type)}));return e}),[n]);o.useEffect((function(){JE.Z.fetch()}),[]);return e?(0,r.jsx)(Mt.Z,{}):(0,r.jsxs)(s.hj,{className:Iy().connections,tag:s.RB.H1,title:x.Z.Messages.CONNECTIONS,children:[(0,r.jsx)(xy,{alreadyConnectedPlatforms:d,excludedPlatformTypes:f,includedDisabledPlatformTypes:c}),(0,r.jsx)(My,{fetching:t,accounts:n,theme:a})]})}
;var Zy=n(236086),Ly=n(858801),Dy=n(955092),Uy=n(478695),ky=n(60392),Gy=n(277624),By=n(404901),Hy=n(397945),Vy=n(8240),Fy=n(200056),Yy=n(700738),zy=n(760524),Wy=n(231604),Ky=n(528090),qy=n(172762),Xy=n(149643),Qy=n(811122),$y=n(383654),Jy=n.n($y),em=n(122688),tm=n.n(em),nm=n(840348),rm=n.n(nm);function om(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function im(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function am(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function sm(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){am(i,r,o,a,s,"next",e)}function s(e){am(i,r,o,a,s,"throw",e)}a(void 0)}))}}function lm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cm(e,t,n){t in e?Object.defineProperty(e,t,{value:n,
enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function um(e){um=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return um(e)}function fm(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Em(e,t)}function dm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){cm(e,t,n[t])}))}return e}function pm(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
;t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function hm(e,t){return!t||"object"!==bm(t)&&"function"!=typeof t?im(e):t}function Em(e,t){Em=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Em(e,t)}function ym(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||gm(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mm(e){
return function(e){if(Array.isArray(e))return om(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||gm(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var bm=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function gm(e,t){if(e){if("string"==typeof e)return om(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?om(e,t):void 0}}function Om(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0
}catch(e){return!1}}();return function(){var n,r=um(e);if(t){var o=um(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return hm(this,n)}}var vm=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}
if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},_m=["discord_web","discord_marketing","discord_ios","discord_android"],Im=[{value:"branch",label:"Branch Name"},{value:"id",label:"Build ID"}];function Sm(e){return"discord_ios"in e||"discord_android"in e}function Tm(e){return new Promise((function(t){(0,je.h7)((function(n){var o=function(e){n.onClose();t(e)};return(0,r.jsxs)(or.Y0,pm(dm({},n),{"aria-label":"Choose A Project to Override",children:[(0,r.jsx)(or.xB,{separator:!1,children:(0,r.jsx)(s.X6,{variant:"heading-lg/semibold",children:"Choose A Project to Override"})}),(0,r.jsx)(or.hz,{children:(0,r.jsx)("div",{className:Jy().buildOverrideList,children:e.map((function(e){return(0,r.jsx)(s.zx,{value:e,color:s.zx.Colors.GREEN,onClick:function(){return o(e)},children:e},e)}))
})}),(0,r.jsx)(or.mz,{children:(0,r.jsx)(s.zx,{color:s.zx.Colors.PRIMARY,look:s.zx.Looks.LINK,onClick:function(){return o(null)},children:"Nevermind"})})]}))}))}))}var Nm=function(e){fm(n,e);var t=Om(n);function n(){lm(this,n);var e;(e=t.apply(this,arguments)).handleRemoveBuildOverride=function(){e.props.onBuildOverrideRemoved(e.props.project)};e.handleOverrideIdChanged=function(t){e.props.onBuildOverrideUpdated(e.props.project,{id:t})};e.handleOverrideTypeChanged=function(t){e.props.onBuildOverrideUpdated(e.props.project,{type:t,id:""})};return e}n.prototype.render=function(){var e=this.props,t=e.project,n=e.overrideType,o=e.overrideId,i=e.disabled,a=e.error,l="branch"===n?"Branch Name":"Build ID";return(0,r.jsxs)(ae.Z,{direction:ae.Z.Direction.VERTICAL,className:O()(Jy().buildOverrideGroup,fe().marginBottom20,tm().card,Jy().row),children:[(0,r.jsx)(ky.Z,{className:O()(Jy().removeBuildOverride,cm({},Jy().removeBuildOverrideDisabled,i)),onClick:i?void 0:this.handleRemoveBuildOverride
}),(0,r.jsxs)(ae.Z,{className:fe().marginBottom8,children:[(0,r.jsx)(ae.Z.Child,{basis:"50%",children:(0,r.jsx)(s.xJ,{title:"Override Type",className:Jy().item,children:(0,r.jsx)(s.q4,{options:Im,onChange:this.handleOverrideTypeChanged,value:n,isDisabled:i})})}),(0,r.jsx)(ae.Z.Child,{basis:"50%",children:(0,r.jsx)(s.xJ,{title:l,className:Jy().item,children:(0,r.jsx)(s.oi,{value:o,onChange:this.handleOverrideIdChanged,disabled:i})})})]}),(0,r.jsxs)(ae.Z.Child,{children:[null!=a&&""!==a&&(0,r.jsx)(s.R9,{className:Jy().item,style:{color:(0,ne.Lq)(G.Ilk.RED_400)},type:s.R9.Types.DESCRIPTION,children:a}),(0,r.jsxs)(s.R9,{className:Jy().item,type:s.R9.Types.DESCRIPTION,children:["This controls the build that will be served for the ",(0,r.jsx)("code",{children:t})," project."]})]})]})};return n}(o.Component),Cm=function(e){fm(o,e);var t=Om(o);function o(){lm(this,o);var e;(e=t.apply(this,arguments)).state={loading:!0,buildOverrides:{},loadedBuildOverrides:{},errors:{},saving:!1,didSave:!1}
;var n=im(e);e.handleAddBuildOverride=sm((function(){var e,t;return vm(this,(function(r){switch(r.label){case 0:return[4,Tm(n.getAvailableProjects())];case 1:if(null==(e=r.sent()))return[2];t=pm(dm({},n.state.buildOverrides),cm({},e,{type:"branch",id:""}));n.setState({buildOverrides:t});return[2]}}))}));e.handleBuildOverrideUpdated=function(t,n){var r=e.state.buildOverrides,o=dm({},null!=r?r[t]:{},n),i=pm(dm({},e.state.buildOverrides),cm({},t,o));e.setState({buildOverrides:i})};e.handleBuildOverrideRemoved=function(t){var n=dm({},e.state.buildOverrides);delete n[t];e.setState({buildOverrides:n})};e.handleDiscardChanges=function(){e.setState({buildOverrides:_e().cloneDeep(e.state.loadedBuildOverrides),errors:{},didSave:!1})};var i=im(e);e.handleSaveChanges=sm((function(){var e,t,n,r;return vm(this,(function(o){switch(o.label){case 0:if(null==(e=i.state.buildOverrides))return[2];i.setState({saving:!0});return[4,(0,By.aD)(e)];case 1:if(200===(t=o.sent()).status){n=t.body;i.setState({
buildOverrides:n,loadedBuildOverrides:_e().cloneDeep(n),errors:{},didSave:!0,saving:!1})}else if(400===t.status){r=t.body;i.setState({errors:r,saving:!1,didSave:!1})}else i.setState({saving:!1,didSave:!1});return[2]}}))}));e.handleLinkGeneration=function(){var t=e.state.buildOverrides;(0,je.h7)((function(e){return(0,r.jsx)(Am,pm(dm({},e),{buildOverrides:t}))}))};return e}var i=o.prototype;i.refreshBuildOverrides=function(){var e=this;return sm((function(){var t;return vm(this,(function(n){switch(n.label){case 0:e.setState({loading:!0});return[4,(0,Hy.Ce)()];case 1:t=n.sent();e.setState({loading:!1,buildOverrides:t,loadedBuildOverrides:_e().cloneDeep(t),errors:{}});return[2]}}))}))()};i.isDirty=function(){var e=this.state,t=e.buildOverrides,n=e.loadedBuildOverrides;return!_e().isEqual(t,n)};i.componentDidMount=function(){this.refreshBuildOverrides()};i.getAvailableProjects=function(){var e,t=this.state.buildOverrides;if(null==t)return[];var n=Object.keys(t)
;return(e=_e()).without.apply(e,[_m].concat(mm(n)))};i.renderEmpty=function(){return(0,r.jsxs)(uh.ZP,{theme:Gu.Z.theme,className:O()(fe().marginTop40,fe().marginBottom20),children:[(0,r.jsx)(uh.ox,{darkSrc:n(921912),lightSrc:n(964766),width:294,height:192}),(0,r.jsx)(uh.OZ,{children:"You have no build overrides configured."})]})};i.renderItems=function(){var e=this,t=this.state,n=t.buildOverrides,o=t.saving,i=t.errors;return null==n?null:_e().map(n,(function(t,n){return(0,r.jsx)(Nm,{project:n,overrideType:t.type,overrideId:t.id,disabled:o,error:i[n],onBuildOverrideUpdated:e.handleBuildOverrideUpdated,onBuildOverrideRemoved:e.handleBuildOverrideRemoved},n)}))};i.renderRefreshButton=function(){return!this.state.didSave||this.isDirty()?null:(0,r.jsx)(ae.Z,{grow:0,direction:ae.Z.Direction.HORIZONTAL_REVERSE,children:(0,r.jsx)(ae.Z.Child,{grow:0,children:(0,r.jsx)(s.zx,{onClick:function(){return location.reload()},color:s.zx.Colors.PRIMARY,children:"Reload App"})})})}
;i.renderLinkButton=function(){var e=this.state.buildOverrides;return null==e||0===Object.keys(e).length?null:(0,r.jsx)(ae.Z,{grow:0,direction:ae.Z.Direction.HORIZONTAL_REVERSE,children:(0,r.jsx)(ae.Z.Child,{grow:0,children:(0,r.jsx)(s.zx,{onClick:this.handleLinkGeneration,color:s.zx.Colors.BRAND,children:"Generate Public Link"})})})};i.renderSaveButton=function(){if(!this.isDirty())return null;var e=this.state,t=e.saving,n=e.buildOverrides;return(0,r.jsxs)(ae.Z,{grow:0,direction:ae.Z.Direction.HORIZONTAL_REVERSE,children:[(0,r.jsx)(ae.Z.Child,{grow:0,children:(0,r.jsx)(s.zx,{disabled:Sm(null!=n?n:{}),onClick:this.handleSaveChanges,submitting:t,color:s.zx.Colors.GREEN,children:"Save Build Overrides"})}),(0,r.jsx)(ae.Z.Child,{grow:0,children:(0,r.jsx)(s.zx,{onClick:this.handleDiscardChanges,disabled:t,color:s.zx.Colors.RED,children:"Discard Changes"})})]})};i.render=function(){var e,t=this.state,n=t.loading,o=t.saving,i=t.buildOverrides;e=n?(0,r.jsx)(s.$j,{className:fe().marginTop20
}):null!=i&&0===Object.keys(i).length?this.renderEmpty():this.renderItems();var a=!o&&!n&&this.getAvailableProjects().length>0,l=Sm(null!=i?i:{})&&"stable"!==window.GLOBAL_ENV.RELEASE_CHANNEL?(0,r.jsx)(s.xv,{color:"text-danger",variant:"text-md/normal",children:"Mobile build overrides must be generated using the desktop/web stable client for now!"}):null;return(0,r.jsxs)(s.hj,{className:fe().marginTop60,children:[(0,r.jsxs)(ae.Z,{className:fe().marginBottom20,children:[(0,r.jsx)(ae.Z.Child,{children:(0,r.jsx)(s.vw,{tag:s.RB.H1,children:"Build Overrides"})}),(0,r.jsx)(ae.Z.Child,{grow:0,children:(0,r.jsx)(s.zx,{size:s.Ph.SMALL,onClick:this.handleAddBuildOverride,disabled:!a,children:"Add Build Override"})})]}),(0,r.jsx)(s.$i,{}),(0,r.jsxs)(ae.Z,{direction:ae.Z.Direction.VERTICAL,children:[l,e,(0,r.jsxs)(ae.Z,{grow:0,direction:ae.Z.Direction.HORIZONTAL_REVERSE,children:[this.renderRefreshButton(),this.renderSaveButton(),this.renderLinkButton()]})]})]})};return o
}(o.Component),Am=function(e){fm(o,e);var t=Om(o);function o(){lm(this,o);var e;(e=t.apply(this,arguments)).state={ttlSeconds:3600,releaseChannel:"all",userIds:new Set,userIdEntry:"",userIdEntryError:null,allowedVersions:[],allowedVersionEntry:"",allowedVersionEntryError:null,publicLink:" ",statusText:null,statusTextColor:le.Z.Colors.STATUS_RED,allowLoggedOut:!1};e.setUserEntryError=function(t){e.setState({userIdEntryError:t})};e.setStatusMessage=function(t,n){e.setState({statusText:t,statusTextColor:null!=n?n:le.Z.Colors.STATUS_RED})};e.handleUserIDEntry=function(t){if(!/^[\d\s,]*$/.test(t))return e.setUserEntryError("User IDs are numbers!");var n=new Set(t.split(/[,\s]+/).filter(Boolean));e.setState({userIdEntry:t,userIds:n})};e.setAllowedVersionError=function(t){e.setState({allowedVersionEntryError:t})};e.handleAllowedVersionEntry=function(t){e.setState({allowedVersionEntry:t})};e.handleAllowedVersionEnter=function(t){t.charCode===G.yXg.ENTER&&e.handleAddAllowedVersion()}
;e.handleAddAllowedVersion=function(){var t=e.state,n=t.allowedVersions,r=t.allowedVersionEntry;if(0===(r=r.trim()).length)return e.setAllowedVersionError("Enter a valid version number!");if(n.indexOf(r)>=0)return e.setAllowedVersionError("You already added that version!");e.setState({allowedVersions:mm(n).concat([r]),allowedVersionEntry:"",allowedVersionEntryError:""})};e.handleRemoveAllowedVersion=function(t){var n=e.state.allowedVersions;n=n.filter((function(e){return e!==t}));e.setState({allowedVersions:n})};e.handleAllowLoggedOut=function(t){e.setState({allowLoggedOut:t})};e.handleExpirationChange=function(t){e.setState({ttlSeconds:t})};e.handleReleaseChannelChange=function(t){e.setState({releaseChannel:t})};e.handleExperiments=function(t){if(0!==t.trim().length){try{var n=JSON.parse(t);for(var r in n){if(null==r.match(/^[0-9]{4}\-[0-9]{2}_[a-z0-9_]+$/)){e.setState({experimentsError:"".concat(r," is an invalid experiment name")});return}if("number"!=typeof n[r]){e.setState({
experimentsError:"".concat(r," has an invalid bucket override")});return}}}catch(t){e.setState({experimentsError:"Unable to parse experiments ".concat(t.message)});return}e.setState({experiments:t,experimentsError:void 0})}else e.setState({experimentsError:void 0})};e.generatePayload=function(){return{overrides:e.props.buildOverrides,meta:{release_channel:"all"===e.state.releaseChannel?null:e.state.releaseChannel,ttl_seconds:e.state.ttlSeconds,user_ids:Array.from(e.state.userIds),allowed_versions:e.isMobile()?e.state.allowedVersions:void 0,allow_logged_out:e.state.allowLoggedOut,experiments:null==e.state.experiments?null:JSON.parse(e.state.experiments)}}};var n=im(e);e.handleGenerateLink=sm((function(){var e,t;return vm(this,(function(r){switch(r.label){case 0:if(n.isMobile()&&0===n.state.allowedVersions.length){n.setAllowedVersionError("You must add at least one allowed version for iOS");return[2]}n.setStatusMessage(null);e=n.generatePayload();return[4,(0,By.M3)(e)];case 1:
if(!1!==(t=r.sent()).error)n.setStatusMessage(JSON.stringify(t.error),le.Z.Colors.STATUS_RED);else{n.setState({publicLink:t.url.toString()});0===e.meta.user_ids.length&&n.setStatusMessage("Warning! No users added to the whitelist! This link could be used by anyone to override their build.",le.Z.Colors.STATUS_YELLOW)}return[2]}}))}));return e}var i=o.prototype;i.isMobile=function(){var e;return Sm(null!==(e=this.props.buildOverrides)&&void 0!==e?e:{})};i.renderSettingsForm=function(){var e=this,t=this.state,n=t.ttlSeconds,o=t.releaseChannel,i=t.userIdEntry,a=t.userIdEntryError,l=t.allowedVersions,c=t.allowedVersionEntry,u=t.allowedVersionEntryError,f=t.allowLoggedOut,d=t.experiments,p=t.experimentsError,h=Qy.S6.find((function(e){return e.value===n})),E=l.map((function(e){return{label:e,value:e}}));return(0,r.jsxs)(ae.Z.Child,{basis:"70%",children:[(0,r.jsx)(s.xJ,{title:"Expire After",className:fe().marginBottom20,children:(0,r.jsx)(s.q4,{value:null!=h?h.value:null,options:Qy.S6,
onChange:this.handleExpirationChange})}),this.isMobile()?null:(0,r.jsx)(s.xJ,{title:"Release Channel",className:fe().marginBottom20,children:(0,r.jsx)(s.q4,{value:o,options:Qy.F$,onChange:this.handleReleaseChannelChange})}),this.isMobile()?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.xJ,{title:"Add allowed app version (required)",className:fe().marginBottom20,children:(0,r.jsxs)(ae.Z,{direction:ae.Z.Direction.HORIZONTAL,children:[(0,r.jsx)(ae.Z.Child,{wrap:!0,basis:"90%",children:(0,r.jsx)(s.oi,{autoFocus:!0,value:c,onKeyPress:this.handleAllowedVersionEnter,error:u,onChange:this.handleAllowedVersionEntry,placeholder:"Example: 34"})}),(0,r.jsx)(s.zx,{onClick:this.handleAddAllowedVersion,children:"Add"})]})}),(0,r.jsx)(s.xJ,{title:"Remove allowed app version",className:fe().marginBottom20,children:(0,r.jsx)(s.q4,{value:null,options:E,onChange:this.handleRemoveAllowedVersion,isDisabled:0===l.length})})]}):null,this.isMobile()?null:(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(s.xJ,{
title:"Limit to User IDs (optional)",className:fe().marginBottom20,children:[(0,r.jsx)(ae.Z,{direction:ae.Z.Direction.HORIZONTAL,children:(0,r.jsx)(ae.Z.Child,{wrap:!0,basis:"90%",children:(0,r.jsx)(s.Kx,{value:i,error:a,onBlur:function(){return e.setUserEntryError("")},onChange:this.handleUserIDEntry})})}),(0,r.jsx)(s.xv,{variant:"text-sm/normal",color:"text-muted",className:fe().marginTop8,children:"User IDs can be separated by whitespace or commas."})]})}),(0,r.jsxs)(s.xJ,{title:"Client Experiment Override",className:fe().marginBottom20,children:[(0,r.jsx)(ae.Z,{direction:ae.Z.Direction.HORIZONTAL,children:(0,r.jsx)(ae.Z.Child,{wrap:!0,basis:"90%",children:(0,r.jsx)(s.Kx,{value:d,error:p,onChange:this.handleExperiments,placeholder:'{"2022-01_threads":1}'})})}),(0,r.jsx)(s.xv,{variant:"text-sm/normal",color:"text-muted",className:fe().marginTop8,
children:"Locally override the given experiments to the given bucket. This ONLY applies locally and WILL NOT affect the server. When the user clears build override, the experiment override is removed as well."})]}),(0,r.jsx)(s.j7,{onChange:this.handleAllowLoggedOut,value:f,children:"Allow logged out users"})]})};i.renderPayloadBlock=function(){var e=JSON.stringify(this.generatePayload(),null,2),t=function(){return e},o=(0,r.jsx)(Fy.GI,{createPromise:function(){return Promise.resolve().then(n.bind(n,909844))},webpackId:909844,renderFallback:t,render:function(n){var o=n.highlight("json",e,!0);return null==o?t():(0,r.jsx)("code",{className:"hljs scroller ".concat(o.language," ").concat(rm().scrollbarGhost," ").concat(Jy().codebox),dangerouslySetInnerHTML:{__html:o.value}})}});return(0,r.jsx)(ae.Z.Child,{children:(0,r.jsx)(s.Zb,{children:(0,r.jsx)("pre",{children:o})})})};i.renderLinkForm=function(){var e=this.state,t=e.statusTextColor,n=e.statusText,o=e.publicLink;return(0,r.jsxs)("div",{
children:[(0,r.jsx)(s.xJ,{title:"Signed Link",children:(0,r.jsxs)(ae.Z,{children:[(0,r.jsx)(ae.Z.Child,{wrap:!0,basis:"75%",children:(0,r.jsx)(Gy.Z,{value:o})}),(0,r.jsx)(s.zx,{onClick:this.handleGenerateLink,children:"Generate Link"})]})}),(0,r.jsx)(le.Z,{color:t,className:"".concat(fe().marginBottom8," ").concat(fe().marginTop8),children:n})]})};i.render=function(){var e=this.props,t=e.onClose,n=e.transitionState;return(0,r.jsxs)(or.Y0,{size:or.Cg.LARGE,transitionState:n,"aria-label":"Generate Public Build Override Link",children:[(0,r.jsxs)(or.xB,{justify:ae.Z.Justify.BETWEEN,separator:!1,children:[(0,r.jsx)(s.X6,{variant:"heading-lg/semibold",children:"Generate Public Build Override Link"}),(0,r.jsx)(or.ol,{onClick:t})]}),(0,r.jsxs)(or.hz,{children:[(0,r.jsxs)(ae.Z,{children:[this.renderSettingsForm(),this.renderPayloadBlock()]}),this.renderLinkForm()]})]})};return o}(o.Component);function Pm(){throw new Error("Send help")}function jm(){id.default.crash()}function xm(){
var e=ym(o.useState(!1),2),t=e[0],n=e[1],i=ym(o.useState(""),2),a=i[0],c=i[1];o.useEffect((function(){sm((function(){var e;return vm(this,(function(t){switch(t.label){case 0:return[4,(0,Xl.Y)()];case 1:e=t.sent();c(e);return[2]}}))}))()}),[]);return t?{}:(0,r.jsxs)("div",{className:Jy().buttonsContainer,children:[(0,r.jsx)(s.zx,{onClick:function(){return n(!0)},children:"Trigger React Crash"}),(0,r.jsx)(s.zx,{onClick:jm,children:"Trigger libdiscord Crash"}),(0,r.jsx)(s.zx,{onClick:Pm,children:"Trigger onClick Throw"}),(0,r.jsx)(s.zx,{onClick:function(){return window.open(a,"_blank")},disabled:""===a,children:"Open Overlay"}),(0,r.jsx)(s.zx,{onClick:function(){qy.Z.getSocket().close();qy.Z.getSocket().connect()},children:"Reset Socket"}),Wy.q&&(0,r.jsx)(s.zx,{onClick:function(){l.Z.dispatch({type:"CLEAR_CACHES"})},children:"Clear Caches"})]})}var Rm=E.ZP.connectStores([Ky.default,zy.Z],(function(){return{isTracingRequests:Ky.default.isTracingRequests,
isForcedCanary:Ky.default.isForcedCanary,isLoggingGatewayEvents:Ky.default.isLoggingGatewayEvents,isLoggingOverlayEvents:Ky.default.isLoggingOverlayEvents,isLoggingAnalyticsEvents:Ky.default.isLoggingAnalyticsEvents,isAxeEnabled:Ky.default.isAxeEnabled,isSourceMapsEnabled:Ky.default.sourceMapsEnabled,isAnalyticsDebuggerEnabled:Ky.default.isAnalyticsDebuggerEnabled,isIdleStatusIndicatorEnabled:Ky.default.isIdleStatusIndicatorEnabled,appDirectoryIncludesInactiveCollections:Ky.default.appDirectoryIncludesInactiveCollections,isDevToolsEnabled:zy.Z.devToolsEnabled}}))((function(e){var t=e.isTracingRequests,n=e.isForcedCanary,o=e.isLoggingGatewayEvents,i=e.isLoggingOverlayEvents,a=e.isLoggingAnalyticsEvents,l=(e.isAxeEnabled,e.isSourceMapsEnabled),c=e.isAnalyticsDebuggerEnabled,u=e.isIdleStatusIndicatorEnabled,f=e.appDirectoryIncludesInactiveCollections,d=e.isDevToolsEnabled,p=(0,E.e7)([Vr.default],(function(){return Vr.default.getCurrentUser()}));return(0,r.jsxs)(s.hj,{
title:"Developer Flags",tag:s.RB.H1,children:[Kl.Z.isDeveloper&&(0,r.jsx)(s.j7,{value:d,note:(0,r.jsxs)(r.Fragment,{children:["Enable client DevTools (open via Help menu in top right or with"," ",(0,r.jsx)("kbd",{className:Jy().key,children:vp.Z.modKey})," + ",(0,r.jsx)("kbd",{className:Jy().key,children:vp.Z.altKey})," ","+ ",(0,r.jsx)("kbd",{className:Jy().key,children:"O"}),")."]}),onChange:function(e){return(0,Yy.Qh)({devToolsEnabled:e})},children:"Enable DevTools"}),(0,r.jsx)(s.j7,{value:t,note:"Force trace all client requests with APM",onChange:function(e){return(0,Ly.y)({trace:e})},children:"Enable Tracing Requests"}),(0,r.jsx)(s.j7,{value:n,note:"Force all API requests to canary instances",onChange:function(e){return(0,Ly.y)({canary:e})},children:"Enable Forced Canary"}),(0,r.jsx)(s.j7,{value:o,note:"Logs all incoming and outgoing gateway events to the developer console, enable verbose logging in the developer console to see!",onChange:function(e){return(0,Ly.y)({
logGatewayEvents:e})},children:"Enable Logging of Gateway Events to Console"}),(0,r.jsx)(s.j7,{value:i,note:"Logs all overlay related RPC events. Super noisy if an overlay is connected",onChange:function(e){return(0,Ly.y)({logOverlayEvents:e})},children:"Enable Logging of Overlay RPC Events & Commands"}),(0,r.jsx)(s.j7,{value:a,note:"Logs all analytics events to the developer console",onChange:function(e){return(0,Ly.y)({logAnalyticsEvents:e})},children:"Enable Logging of Analytics Events"}),(0,r.jsx)(s.j7,{value:l,note:"Only enable on devices you trust.",onChange:function(e){return(0,Ly.y)({sourceMapsEnabled:e})},children:"Enable source maps to be loaded on this client"}),(0,r.jsx)(s.j7,{value:c,note:"Displays a floating debugger with viewed impressions",onChange:function(e){return(0,Ly.y)({analyticsDebuggerEnabled:e})},children:"Enable standard analytics debugger view"}),(null==p?void 0:p.isStaff())?(0,r.jsx)(s.j7,{value:u,note:"Displays a floating idle status indicator",
onChange:function(e){return(0,Ly.y)({idleStatusIndicatorEnabled:e})},children:"Enable idle status indicator"}):null,null,(null==p?void 0:p.isStaff())?(0,r.jsx)(s.j7,{value:null==p?void 0:p.hasDisabledPremium(),note:"Force non premium user experience locally",onChange:function(e){return Uy.mB(G.xW$.DISABLE_PREMIUM,e)},children:"Enable force non nitro experience locally"}):null,(null==p?void 0:p.isStaff())?(0,r.jsx)(s.j7,{value:f,note:"In App Directory, include inactive collections on the homepage. Use this to preview changes to collections before publishing them.",onChange:function(e){return(0,Ly.y)({appDirectoryIncludesInactiveCollections:e})},children:"Preview Unpublished Collections on App Directory Homepage"}):null]})}));function Mm(){var e=(0,E.e7)([Xy.Z],(function(){return Xy.Z.getSurveyOverride()})),t=ym(o.useState(null!=e?e:""),2),n=t[0],i=t[1];return(0,r.jsxs)(s.hj,{tag:s.RB.H1,title:"Survey Override",className:fe().marginTop60,children:[(0,r.jsx)(s.vw,{
children:"Copy the ID of the Survey you want to test:"}),(0,r.jsxs)("form",{className:Jy().surveyOverride,onSubmit:function(e){e.preventDefault();n.length>0?Dy.Xq(n):Dy.Xq(null)},children:[(0,r.jsx)(s.oi,{className:Jy().surveyOverrideInput,value:n,onChange:i}),(0,r.jsx)(s.zx,{type:"submit",children:"Save Override"})]})]})}function wm(){var e,t=(0,E.e7)([Vy.Z],(function(){return Vy.Z.overrideId()})),n=ym(o.useState(null!==(e=Vy.Z.overrideId())&&void 0!==e?e:""),2),i=n[0],a=n[1];return(0,r.jsxs)(s.hj,{tag:s.RB.H1,title:"Changelog Override",className:fe().marginTop60,children:[(0,r.jsx)(s.vw,{children:"Enter the ID of the changelog you want to test"}),(0,r.jsxs)("div",{className:Jy().surveyOverride,children:[(0,r.jsx)(s.oi,{className:Jy().surveyOverrideInput,value:i,onChange:a}),(0,r.jsx)(s.zx,{onClick:function(){""===i?Zy.Z.setChangelogOverride(null):Zy.Z.setChangelogOverride(i)},disabled:t===i,children:"Update Changelog"})]})]})}var Zm=function(e){fm(n,e);var t=Om(n);function n(){
lm(this,n);return t.apply(this,arguments)}n.prototype.render=function(){return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(Rm,{}),(0,r.jsx)(xm,{}),(0,r.jsx)(Mm,{}),(0,r.jsx)(wm,{}),(0,r.jsx)(Cm,{})]})};return n}(o.PureComponent);const Lm=Zm;var Dm=n(418674),Um=n(310333);function km(){var e=si.xq.useSetting(),t=o.useMemo((function(){return(0,Um.bL)(e)}),[e]);return(0,r.jsx)(s.hj,{tag:s.RB.H1,title:x.Z.Messages.FRIEND_REQUESTS,children:(0,r.jsxs)(s.hj,{title:x.Z.Messages.FRIEND_PERMITTED_SOURCE,className:fe().marginBottom40,children:[(0,r.jsx)(s.j7,{className:O()(fe().marginTop8,fe().marginBottom20),value:t.all,onChange:function(e){return si.xq.updateSetting(e?G.HGf:G.HGf&~G.SOq.NO_RELATION)},children:x.Z.Messages.FRIEND_PERMITTED_SOURCE_ALL}),(0,r.jsx)(s.j7,{value:t.all||t.mutualFriends,onChange:function(t){return si.xq.updateSetting(t?Dm.pj(e,G.SOq.MUTUAL_FRIENDS):Dm.M1(e,G.SOq.MUTUAL_FRIENDS,G.SOq.NO_RELATION))},children:x.Z.Messages.FRIEND_PERMITTED_SOURCE_MUTUAL_FRIENDS}),(0,
r.jsx)(s.j7,{value:t.all||t.mutualGuilds,onChange:function(t){return si.xq.updateSetting(t?Dm.pj(e,G.SOq.MUTUAL_GUILDS):Dm.M1(e,G.SOq.MUTUAL_GUILDS,G.SOq.NO_RELATION))},children:x.Z.Messages.FRIEND_PERMITTED_SOURCE_MUTUAL_GUILDS})]})})}var Gm=n(881548),Bm=n(73462),Hm=n(928926),Vm=n(71284),Fm=n(413620),Ym=n(604860),zm=n(835244),Wm=n.n(zm),Km=n(480798),qm=n.n(Km),Xm=n(3066),Qm=n.n(Xm);function $m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Jm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eb(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function tb(e){tb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return tb(e)}function nb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){eb(e,t,n[t])}))}return e}function rb(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function ob(e,t){return!t||"object"!==lb(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ib(e,t){ib=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return ib(e,t)}function ab(e,t){
return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||cb(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sb(e){return function(e){if(Array.isArray(e))return $m(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||cb(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var lb=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function cb(e,t){if(e){if("string"==typeof e)return $m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$m(e,t):void 0}}function ub(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=tb(e);if(t){var o=tb(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ob(this,n)}}var fb=E.ZP.connectStores([Gu.Z],(function(){return{theme:Gu.Z.theme}}))(uh.ZP),db=(0,ec.ED)();function pb(e){var t=e.onClose,n=(0,E.e7)([Bm.ZP],(function(){return Bm.ZP.getCandidateGames()
})),i=ab(o.useState(null),2),a=i[0],l=i[1],c=n.map((function(e){return{value:e.pid,label:null!=e.name?e.name:""}}));return(0,r.jsxs)(s.Vq,{className:O()(Wm().addGamePopout,qm().elevationBorderHigh),"aria-label":x.Z.Messages.SETTINGS_GAMES_ADD_NEW_GAME,children:[(0,r.jsx)(s.Vc,{placeholder:x.Z.Messages.SELECT,value:a,options:c,onChange:function(e){l(e)}}),(0,r.jsx)(s.$i,{className:O()(fe().marginTop8,fe().marginBottom8)}),(0,r.jsxs)("div",{className:O()(Wm().actions,Qm().horizontal),children:[(0,r.jsx)(s.zx,{className:Wm().cancelButton,look:s.iL.LINK,color:s.Tt.PRIMARY,onClick:t,children:x.Z.Messages.CANCEL}),(0,r.jsx)(s.zx,{disabled:null==a,onClick:function(){if(null!=a){Gm.Z.addGame(a);t()}},children:x.Z.Messages.SETTINGS_GAMES_ADD_NEW_GAME})]})]})}function hb(e){var t,n,i=e.rawGame,a=e.nowPlaying,l=void 0!==a&&a,c=e.isOverride,u=function(){null!=h&&Gm.Z.deleteEntry(h)},f=function(){null!=h&&h.name!==y&&Gm.Z.editName(h,y)},d=function(e){if(13===e.keyCode){e.currentTarget.blur()
;e.preventDefault()}},p=function(){null!=h&&Gm.Z.toggleOverlay(h)},h=null!=i?(0,Bm.FZ)(i):null,E=ab(o.useState(l&&null!==(t=null==h?void 0:h.name)&&void 0!==t?t:""),2),y=E[0],m=E[1],b=O()(Qm().flexCenter,(eb(n={},Wm().game,!l),eb(n,Wm().activeGame,l),eb(n,tm().card,!l),eb(n,Wm().nowPlaying,null!=h&&l),eb(n,Wm().notDetected,null==h&&l),n));return(0,r.jsxs)("div",{className:b,children:[(0,r.jsxs)("div",{className:O()(Wm().gameNameLastPlayed,Qm().vertical),children:[null==h?(0,r.jsx)("div",{className:Wm().gameName,children:x.Z.Messages.SETTINGS_GAMES_NO_GAME_DETECTED}):h.verified&&!c?(0,r.jsxs)("div",{className:Wm().detectedApplication,children:[(0,r.jsx)("div",{className:Wm().gameName,children:h.name}),(0,r.jsx)(rn.ZP,{text:x.Z.Messages.SETTINGS_GAMES_VERIFIED_ICON,children:function(e){return(0,r.jsx)(ay.Z,rb(nb({className:Wm().gameVerifiedIcon,size:18,color:(0,ne.Lq)(G.Ilk.BRAND_500)},e),{children:(0,r.jsx)(sy.Z,{width:18,height:18,color:(0,ne.Lq)(G.Ilk.WHITE_500)})}))}})]}):(0,
r.jsx)("input",{className:O()(Wm().gameName,Wm().gameNameInput),type:"text",maxLength:128,value:y,onBlur:f,onKeyDown:d,onChange:function(e){return m(e.target.value)}}),function(){if(null==h)return(0,r.jsx)("div",{className:Wm().lastPlayed,children:x.Z.Messages.SETTINGS_GAMES_NOT_PLAYING});var e,t=h.played,n=h.exePath;l?e=x.Z.Messages.SETTINGS_GAMES_NOW_PLAYING_STATE:null!=t&&""!==t&&(e=x.Z.Messages.SETTINGS_GAMES_LAST_PLAYED.format({when:t}));return(0,r.jsx)("div",{className:Wm().lastPlayed,children:(0,r.jsx)(Hm.Z,{hoverText:null!=n&&""!==n?n.toUpperCase():"",children:e})})}()]}),function(){if(!db||null==h)return null;var e=h.overlay,t=h.overlayWarn,n=e?x.Z.Messages.SETTINGS_GAMES_OVERLAY_ON:x.Z.Messages.SETTINGS_GAMES_OVERLAY_OFF,o=e?(0,r.jsx)(Vm.Z,{className:Wm().overlayToggleIconOn,foreground:Wm().fill}):(0,r.jsx)(Fm.Z,{className:Wm().overlayToggleIconOff,foreground:Wm().fill}),i=t?(0,r.jsx)(rn.ZP,{text:x.Z.Messages.SETTINGS_GAMES_OVERLAY_WARNING,children:function(e){return(0,
r.jsx)("i",nb({className:Wm().overlayWarningIcon},e))}}):null;return(0,r.jsxs)("div",{className:O()(Qm().flexCenter,Qm().noWrap,Qm().justifyBetween),children:[i,(0,r.jsx)("div",{className:Wm().overlayStatusText,children:n}),(0,r.jsx)(rn.ZP,{text:x.Z.Messages.SETTINGS_GAMES_TOGGLE_OVERLAY,children:function(e){var t=e.onMouseEnter,n=e.onMouseLeave;return(0,r.jsx)(s.P3,{"aria-label":x.Z.Messages.SETTINGS_GAMES_TOGGLE_OVERLAY,className:Wm().overlayToggleIcon,onClick:p,onMouseEnter:t,onMouseLeave:n,children:o})}})]})}(),null==h||l&&!c?null:(0,r.jsx)(ky.Z,{className:Wm().removeGame,onClick:u})]})}function Eb(e){var t=e.children;return(0,r.jsxs)(fb,{className:fe().marginTop40,children:[(0,r.jsx)(uh.ox,{darkSrc:n(498913),lightSrc:n(598150),width:430,height:250}),t]})}var yb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,
configurable:!0}});t&&ib(e,t)}(n,e);var t=ub(n);function n(){Jm(this,n);return t.apply(this,arguments)}var i=n.prototype;i.componentDidMount=function(){Bm.ZP.watchCandidateGames(!0)};i.componentWillUnmount=function(){Bm.ZP.watchCandidateGames(!1)};i.renderPopout=function(e){var t=e.closePopout;return(0,r.jsx)(pb,{onClose:t})};i.renderGameList=function(){var e=this.props,t=e.gameHistory,n=e.overrideExePaths;return 0===t.length?(0,r.jsx)(Eb,{children:(0,r.jsx)(uh.OZ,{children:x.Z.Messages.SETTINGS_GAMES_NO_GAMES_HEADER})}):(0,r.jsxs)(s.hj,{className:fe().marginTop40,children:[(0,r.jsx)(s.vw,{className:fe().marginBottom4,children:x.Z.Messages.SETTINGS_GAMES_ADDED_GAMES_LABEL}),t.map((function(e){return(0,r.jsx)(hb,{rawGame:e,isOverride:n.has(e.exePath)},e.exePath)}))]})};i.renderGameDetails=function(){if(!ec.FB)return(0,r.jsx)(Eb,{});var e=this.props,t=e.runningGame,n=e.overrideExePaths;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(hb,{rawGame:t,isOverride:null!=t&&n.has(t.exePath),
nowPlaying:!0}),(0,r.jsxs)("div",{className:O()(Wm().nowPlayingAdd,fe().marginReset,fe().marginTop8,fe().marginBottom20),children:[(0,r.jsx)("span",{children:x.Z.Messages.SETTINGS_GAMES_NOT_SEEING_GAME}),(0,r.jsx)(Ya.ZP,{renderPopout:this.renderPopout,align:Ya.ZP.Align.CENTER,position:Ya.ZP.Positions.BOTTOM,children:function(e){return(0,r.jsx)(s.zx,rb(nb({},e),{look:s.iL.LINK,size:s.Ph.MIN,color:s.Tt.LINK,children:x.Z.Messages.SETTINGS_GAMES_ADD_GAME}))}})]}),this.renderGameList()]})};i.render=function(){return(0,r.jsx)(o.Fragment,{children:(0,r.jsx)(s.hj,{tag:"h1",title:x.Z.Messages.REGISTERED_GAMES,children:this.renderGameDetails()})})};return n}(o.PureComponent),mb=(0,Ym.oH)((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Set(t.map((function(e){return e.exePath})))}));function bb(){var e=(0,E.Wu)([Bm.ZP],(function(){return Bm.ZP.getGamesSeen(!0)})),t=(0,E.cj)([Bm.ZP],(function(){return{runningGame:Bm.ZP.getVisibleGame(),
overrideExePaths:mb.apply(void 0,sb(Bm.ZP.getOverrides()))}}));return(0,r.jsx)(yb,nb({gameHistory:e},t))}var gb=n(756108),Ob=n.n(gb);function vb(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function _b(e){var t=e.features;return(0,r.jsx)(r.Fragment,{children:t.map((function(e,t){return(0,r.jsxs)(ae.Z,{align:ae.Z.Align.CENTER,className:O()(fe().marginTop20,Ob().feature,vb({},Ob().featureBorder,0!==t)),children:[null!=e.icon?(0,r.jsx)("div",{className:O()(Ob().icon,e.icon)}):null,(0,r.jsxs)("div",{children:[null!=e.title?(0,r.jsx)("div",{className:O()(fe().marginBottom8,Ob().title),children:e.title}):null,(0,r.jsx)("div",{className:Ob().description,children:e.description})]})]},t)}))})}var Ib=n(104640),Sb=n(211906),Tb=n.n(Sb);function Nb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cb(e){Cb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){
return e.__proto__||Object.getPrototypeOf(e)};return Cb(e)}function Ab(e,t){return!t||"object"!==jb(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Pb(e,t){Pb=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Pb(e,t)}var jb=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function xb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Cb(e);if(t){var o=Cb(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ab(this,n)}}var Rb=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Pb(e,t)}(n,e);var t=xb(n);function n(){Nb(this,n);return t.apply(this,arguments)}n.prototype.render=function(){var e=this.props,t=e.className,n=e.videoID,o=e.videoClassName;return(0,r.jsx)(Ib.Z,{aspectRatio:16/9,className:O()(t,Tb().videoWrapper),children:(0,r.jsx)("iframe",{className:O()(o,Tb().video),src:"https://www.youtube.com/embed/".concat(n,"?rel=0&showinfo=0&controls=1&origin=https://").concat(G.$R1),allowFullScreen:!0,sandbox:"allow-forms allow-modals allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts"})})};return n}(o.Component),Mb=n(439324),wb=n.n(Mb);function Zb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lb(e){Lb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){
return e.__proto__||Object.getPrototypeOf(e)};return Lb(e)}function Db(e,t){return!t||"object"!==kb(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ub(e,t){Ub=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Ub(e,t)}var kb=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Gb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Lb(e);if(t){var o=Lb(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Db(this,n)}}const Bb=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Ub(e,t)}(n,e);var t=Gb(n);function n(){Zb(this,n);return t.apply(this,arguments)}n.prototype.render=function(){return(0,r.jsxs)("div",{className:wb().features,children:[(0,r.jsx)(Rb,{className:wb().video,videoID:"SWzB1mx2o5k"}),(0,r.jsx)(s.X6,{className:wb().perksHeading,variant:"heading-sm/semibold",children:x.Z.Messages.HYPESQUAD_PERKS_HEADING}),(0,r.jsx)(_b,{features:[{icon:wb().perkNewsletter,title:x.Z.Messages.HYPESQUAD_PERK_TITLE_NEWSLETTER,description:x.Z.Messages.HYPESQUAD_PERK_DESCRIPTION_NEWSLETTER},{icon:wb().perkBadge,title:x.Z.Messages.HYPESQUAD_PERK_TITLE_PROFILE_BADGE,description:x.Z.Messages.HYPESQUAD_PERK_DESCRIPTION_PROFILE_BADGE},{icon:wb().perkChallenges,title:x.Z.Messages.HYPESQUAD_PERK_TITLE_SQUAD_CHALLENGES,
description:x.Z.Messages.HYPESQUAD_PERK_DESCRIPTION_SQUAD_CHALLENGES}]})]})};return n}(o.Component);var Hb=n(822583),Vb=n(403080),Fb=n.n(Vb);function Yb(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function zb(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Yb(i,r,o,a,s,"next",e)}function s(e){Yb(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Wb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kb(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function qb(e){qb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return qb(e)}function Xb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Kb(e,t,n[t])}))}return e}function Qb(e,t){return!t||"object"!==Jb(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $b(e,t){$b=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return $b(e,t)}var Jb=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function eg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=qb(e);if(t){var o=qb(this).constructor;n=Reflect.construct(r,arguments,o)
}else n=r.apply(this,arguments);return Qb(this,n)}}var tg,ng,rg,og=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop()
;continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},ig=(Kb(tg={},G.gkr.HOUSE_1,Fb().membershipDialogHouse1),Kb(tg,G.gkr.HOUSE_2,Fb().membershipDialogHouse2),Kb(tg,G.gkr.HOUSE_3,Fb().membershipDialogHouse3),tg),ag=(Kb(ng={},G.gkr.HOUSE_1,Fb().houseLogoHouse1),Kb(ng,G.gkr.HOUSE_2,Fb().houseLogoHouse2),Kb(ng,G.gkr.HOUSE_3,Fb().houseLogoHouse3),ng),sg=(Kb(rg={},G.gkr.HOUSE_1,n(903049)),Kb(rg,G.gkr.HOUSE_2,n(188374)),Kb(rg,G.gkr.HOUSE_3,n(789621)),rg),lg=function(e){var t;return(Kb(t={},G.gkr.HOUSE_1,x.Z.Messages.HYPESQUAD_DESCRIPTION_HOUSE_1),Kb(t,G.gkr.HOUSE_2,x.Z.Messages.HYPESQUAD_DESCRIPTION_HOUSE_2),Kb(t,G.gkr.HOUSE_3,x.Z.Messages.HYPESQUAD_DESCRIPTION_HOUSE_3),t)[e]},cg=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&$b(e,t)
}(o,e);var t=eg(o);function o(){Wb(this,o);var e;(e=t.apply(this,arguments)).handleJoinHypeSquadClick=function(){(0,je.ZD)(zb((function(){var e,t;return og(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(53500)]).then(n.bind(n,653500))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Xb({},e))}]}}))})))};return e}o.prototype.render=function(){var e=this.props,t=e.houseMembership,n=e.isClaimed,o=e.isVerified;if(!n||!o)return null;if(null!=t){var i=x.Z.Messages.HYPESQUAD_MEMBERSHIP_HEADING.format({houseName:(0,Hb.X8)(t)});return(0,r.jsx)("div",{className:O()(Fb().membershipDialog,ig[t]),children:(0,r.jsxs)("div",{className:Fb().membershipDialogContent,children:[(0,r.jsxs)(ae.Z,{children:[(0,r.jsxs)(ae.Z.Child,{grow:1,shrink:1,children:[(0,r.jsx)(s.xv,{className:Fb().membershipDialogHeading,variant:"text-xs/bold",children:x.Z.Messages.HYPESQUAD_YOUR_HOUSE}),(0,r.jsx)(s.X6,{className:Fb().membershipDialogHouseName,
variant:"heading-sm/semibold",children:i}),(0,r.jsx)(s.xv,{className:Fb().membershipDialogHouseDescription,variant:"text-md/normal",children:lg(t)})]}),(0,r.jsx)(ae.Z.Child,{className:Fb().houseLogoWrapper,grow:0,shrink:0,wrap:!0,children:(0,r.jsx)("img",{className:O()(Fb().houseLogo,ag[t]),src:sg[t],alt:i})})]}),(0,r.jsxs)(s.xv,{className:Fb().membershipDialogSwitchHouses,variant:"text-md/normal",children:[x.Z.Messages.HYPESQUAD_SWITCH_HOUSES_PROMPT,(0,r.jsx)(s.P3,{className:Fb().membershipDialogSwitchHousesAction,onClick:this.handleJoinHypeSquadClick,tag:"span",children:x.Z.Messages.HYPESQUAD_SWITCH_HOUSES_ACTION})]})]})})}return(0,r.jsxs)("div",{className:Fb().joinCTAWrapper,children:[(0,r.jsxs)(ae.Z,{className:Fb().joinCTA,align:ae.Z.Align.CENTER,justify:ae.Z.Justify.CENTER,direction:ae.Z.Direction.HORIZONTAL,children:[(0,r.jsx)(ae.Z.Child,{grow:0,shrink:0,children:(0,r.jsx)(s.xv,{variant:"text-sm/normal",children:x.Z.Messages.HYPESQUAD_READY_TO_REP})}),(0,r.jsx)(ae.Z.Child,{
grow:0,shrink:0,children:(0,r.jsx)(s.zx,{onClick:this.handleJoinHypeSquadClick,children:x.Z.Messages.HYPESQUAD_JOIN})})]}),(0,r.jsx)(s.xv,{className:Fb().newsletterWarning,variant:"text-sm/normal",children:x.Z.Messages.HYPESQUAD_NEWSLETTER_WARNING})]})};return o}(o.Component),ug=n(295527),fg=n(498863),dg=n.n(fg);function pg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hg(e){hg=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return hg(e)}function Eg(e,t){return!t||"object"!==mg(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function yg(e,t){yg=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return yg(e,t)}var mg=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function bg(e){var t=function(){
if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=hg(e);if(t){var o=hg(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Eg(this,n)}}var gg=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&yg(e,t)}(n,e);var t=bg(n);function n(){pg(this,n);var e;(e=t.apply(this,arguments)).state={isRequestPending:!1,hasError:!1};e.handleLeaveHypeSquadError=function(){e.setState({hasError:!0})};e.handleLeaveHypeSquadClick=function(){e.setState({isRequestPending:!0},(function(){ug.Z.leaveHypeSquadOnline().then((function(){e.setState({isRequestPending:!1})
})).catch((function(){e.setState({hasError:!0,isRequestPending:!1})}))}))};return e}var o=n.prototype;o.renderErrorMessage=function(){return this.state.hasError?(0,r.jsx)("div",{className:dg().error,children:x.Z.Messages.HYPESQUAD_LEAVE_ERROR}):null};o.render=function(){var e=this.state.isRequestPending;return this.props.isHypeSquadOnlineMember?(0,r.jsxs)("div",{className:dg().leaveActionWrapper,children:[this.renderErrorMessage(),(0,r.jsxs)(s.xv,{variant:"text-sm/normal",children:[x.Z.Messages.HYPESQUAD_LEAVE_PROMPT,(0,r.jsx)(s.zx,{className:dg().leaveButton,color:s.zx.Colors.LINK,look:s.zx.Looks.LINK,onClick:this.handleLeaveHypeSquadClick,size:s.zx.Sizes.NONE,submitting:e,children:x.Z.Messages.HYPESQUAD_LEAVE_ACTION})]})]}):null};return n}(o.PureComponent),Og=n(262941),vg=n(672103),_g=n.n(vg);function Ig(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function Sg(e){return function(){var t=this,n=arguments
;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ig(i,r,o,a,s,"next",e)}function s(e){Ig(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Tg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ng(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Cg(e){Cg=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Cg(e)}function Ag(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Ng(e,t,n[t])}))}return e}function Pg(e,t){return!t||"object"!==xg(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
;return e}(e):t}function jg(e,t){jg=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return jg(e,t)}var xg=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Rg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Cg(e);if(t){var o=Cg(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Pg(this,n)}}var Mg=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,
r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},wg=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&jg(e,t)}(o,e);var t=Rg(o);function o(){Tg(this,o)
;return t.apply(this,arguments)}var i=o.prototype;i.renderNotice=function(){var e=this.props,t=e.isClaimed,n=e.unclaimedNotice,r=e.unverifiedNotice;return t?null!=r?r:x.Z.Messages.NOTICE_UNVERIFIED_ACCOUNT:null!=n?n:x.Z.Messages.NOTICE_UNCLAIMED_ACCOUNT};i.renderPrimaryAction=function(){return this.props.isClaimed?this.props.hasEmail?(0,r.jsx)(ae.Z.Child,{grow:0,shrink:0,children:(0,r.jsx)(Bu.Z,{})}):(0,r.jsx)(s.zx,{size:s.zx.Sizes.MEDIUM,color:s.zx.Colors.BRAND,onClick:this.openChangeEmailModal,children:x.Z.Messages.ADD_EMAIL_SHORT}):(0,r.jsx)(ae.Z.Child,{grow:0,shrink:0,children:(0,r.jsx)(s.zx,{size:s.zx.Sizes.MEDIUM,color:s.zx.Colors.BRAND,onClick:this.openClaimAccountModal,children:x.Z.Messages.CLAIM_ACCOUNT})})};i.renderSecondaryAction=function(){return this.props.isClaimed&&this.props.hasEmail?(0,r.jsx)(ae.Z.Child,{grow:0,shrink:0,children:(0,r.jsx)(s.zx,{color:s.zx.Colors.PRIMARY,look:s.zx.Looks.LINK,onClick:this.openChangeEmailModal,children:x.Z.Messages.CHANGE_EMAIL_SHORT})
}):null};i.openClaimAccountModal=function(){(0,je.ZD)(Sg((function(){var e,t;return Mg(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(40724)]).then(n.bind(n,987554))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Ag({},e))}]}}))})))};i.openChangeEmailModal=function(){(0,je.ZD)(Sg((function(){var e,t;return Mg(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(87850)]).then(n.bind(n,387850))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Ag({},e))}]}}))})))};i.render=function(){var e=this.props,t=e.className,n=e.isClaimed,o=e.isVerified;return n&&o?null:(0,r.jsx)(s.Zb,{className:O()(_g().wrapper,t),children:(0,r.jsxs)(ae.Z,{align:ae.Z.Align.CENTER,children:[(0,r.jsx)(ae.Z.Child,{className:_g().image,grow:0,shrink:0}),(0,r.jsxs)(ae.Z.Child,{children:[(0,r.jsx)(s.xv,{variant:"text-sm/normal",children:this.renderNotice()}),(0,r.jsxs)(ae.Z,{justify:ae.Z.Justify.CENTER,
className:_g().content,children:[this.renderPrimaryAction(),this.renderSecondaryAction()]})]})]})})};return o}(o.Component);const Zg=E.ZP.connectStores([Vr.default],(function(){var e=Vr.default.getCurrentUser();L()(null!=e,"EmailNotice: currentUser cannot be undefined");return{isClaimed:e.isClaimed(),isVerified:e.verified,hasEmail:null!=e.email}}))(wg);var Lg=n(676366),Dg=n.n(Lg);function Ug(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kg(e){kg=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return kg(e)}function Gg(e,t){return!t||"object"!==Hg(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Bg(e,t){Bg=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Bg(e,t)}var Hg=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}
;function Vg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=kg(e);if(t){var o=kg(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Gg(this,n)}}var Fg=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Bg(e,t)}(n,e);var t=Vg(n);function n(){Ug(this,n);return t.apply(this,arguments)}var o=n.prototype;o.renderIntroHeader=function(){return null==this.props.houseMembership?x.Z.Messages.HYPESQUAD_HEADING:x.Z.Messages.HYPESQUAD_HEADING_EXISTING_MEMBER};o.render=function(){var e=this.props,t=e.houseMembership,n=e.isClaimed,o=e.isVerified
;return(0,r.jsxs)(s.y5,{component:(0,r.jsxs)("div",{className:Dg().intro,children:[(0,r.jsx)(s.X6,{variant:"heading-xxl/semibold",className:Dg().introHeader,children:this.renderIntroHeader()}),(0,r.jsx)(s.xv,{variant:"text-lg/normal",children:x.Z.Messages.HYPESQUAD_SUBHEADING})]}),children:[(0,r.jsx)(Zg,{className:Dg().verificationNotice,unclaimedNotice:x.Z.Messages.HYPESQUAD_UNCLAIMED_ACCOUNT_NOTICE,unverifiedNotice:x.Z.Messages.HYPESQUAD_UNVERIFIED_EMAIL_NOTICE}),(0,r.jsx)(cg,{houseMembership:t,isClaimed:n,isVerified:o}),(0,r.jsx)(Bb,{}),(0,r.jsx)(gg,{isHypeSquadOnlineMember:null!=t}),(0,r.jsx)(s.Zb,{className:Dg().attendeeCTA,children:x.Z.Messages.HYPESQUAD_ATTENDEE_CTA.format({url:G.EYA.HYPESQUAD})})]})};return n}(o.PureComponent);const Yg=E.ZP.connectStores([Vr.default,Og.Z],(function(){var e=Vr.default.getCurrentUser();L()(null!=e,"UserSettingsHypeSquad: currentUser cannot be undefined");return{houseMembership:Og.Z.getHouseMembership(),isClaimed:e.isClaimed(),
isVerified:e.verified}}))(Fg);var zg=n(239396),Wg=n(155208),Kg=n(981171),qg=n(202036),Xg=n(219686),Qg=n.n(Xg);function $g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jg(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function eO(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Jg(i,r,o,a,s,"next",e)}function s(e){Jg(i,r,o,a,s,"throw",e)}a(void 0)}))}}function tO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function rO(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function oO(e){
oO=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return oO(e)}function iO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){rO(e,t,n[t])}))}return e}function aO(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function sO(e,t){return!t||"object"!==cO(t)&&"function"!=typeof t?$g(e):t}function lO(e,t){
lO=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return lO(e,t)}var cO=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function uO(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=oO(e);if(t){var o=oO(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return sO(this,n)}}var fO=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,
r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},dO=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&lO(e,t)}(o,e);var t=uO(o);function o(){tO(this,o);var e
;(e=t.apply(this,arguments)).state={codeInput:"",submitting:!1,hasError:!1,isPromoCode:!1};e.handleChange=function(t){e.setState({codeInput:t,hasError:!1})};var i,a=$g(e);e.handleSubmit=(i=eO((function(e){var t,o,i;return fO(this,(function(s){switch(s.label){case 0:e.preventDefault();if(""===(t=a.state.codeInput))return[2];if(null==(o=(0,qg.JT)(t))){a.setState({hasError:!0});return[2]}a.setState({submitting:!0});s.label=1;case 1:s.trys.push([1,3,4,5]);return[4,Kg.Z.resolveGiftCode(o)];case 2:if(null!=(i=s.sent())&&null!=i.giftCode.promotion){a.setState({isPromoCode:!0});throw new Error("Cannnot redeem promotion code as gift")}Br.default.track(G.rMx.OPEN_MODAL,{type:"gift_accept",location:aO(iO({},a.analyticsLocation),{object:G.qAy.BUTTON_CTA})});(0,je.ZD)(eO((function(){var e,t;return fO(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(51356)]).then(n.bind(n,51356))];case 1:e=i.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,iO({code:o},e))}]}}))
})));a.setState({codeInput:""});return[3,5];case 3:s.sent();a.setState({hasError:!0});return[3,5];case 4:a.setState({submitting:!1});return[7];case 5:return[2]}}))})),function(e){return i.apply(this,arguments)});return e}o.prototype.render=function(){var e=this.props.obscureInput,t=this.state,n=t.codeInput,o=t.submitting,i=t.hasError,a=t.isPromoCode;return(0,r.jsxs)(s.hj,{tag:s.RB.H1,title:x.Z.Messages.GIFT_INVENTORY_REDEEM_CODES,children:[(0,r.jsx)(s.vw,{children:x.Z.Messages.APPLICATION_ENTITLEMENT_CODE_REDEMPTION_PROMPT}),(0,r.jsx)("form",{onSubmit:this.handleSubmit,children:(0,r.jsxs)(ae.Z,{children:[(0,r.jsx)(s.oi,{type:e?"password":"text",value:n,onChange:this.handleChange,placeholder:G.RJY,error:!a&&i?x.Z.Messages.APPLICATION_ENTITLEMENT_CODE_REDEMPTION_INVALID:null,className:Qg().codeRedemptionInput}),(0,r.jsx)(s.zx,{type:"submit",submitting:o,children:x.Z.Messages.APPLICATION_ENTITLEMENT_CODE_REDEMPTION_REDEEM})]})}),a?(0,r.jsx)(s.xv,{className:Qg().errorMessage,
variant:"text-sm/normal",children:x.Z.Messages.APPLICATION_ENTITLEMENT_CODE_REDEMPTION_PROMOTION.format({promoLink:"https://discord.com/billing/promotions/".concat(n)})}):null]})};!function(e,t,n){t&&nO(e.prototype,t);n&&nO(e,n)}(o,[{key:"analyticsLocation",get:function(){return aO(iO({},this.props.analyticsContext.location),{object:G.qAy.BUTTON_CTA})}}]);return o}(o.Component);function pO(){var e=o.useContext(Br.AnalyticsContext),t=(0,E.e7)([Dr.Z],(function(){return Dr.Z.enabled}));return(0,r.jsx)(dO,{analyticsContext:e,obscureInput:t})}var hO=n(444793),EO=n(524814),yO=n(945534),mO=n(99274),bO=n(698534),gO=n(74907),OO=n(178299),vO=n(485947),_O=n(543282),IO=n.n(_O);function SO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function TO(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{
for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return SO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SO(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const NO=function(e){var t=e.onClose,n=e.onClaim,i=e.code,a=e.outboundPromotion,l=e.transitionState,c=TO(o.useState(null),2),u=c[0],f=c[1],d=(0,on.Dt)();o.useEffect((function(){null==i&&(0,OO.A2)(a.id).then((function(e){return n(e)})).catch((function(e){var t;return f(null==e||null===(t=e.body)||void 0===t?void 0:t.code)}))
}),[i,a.id,n]);return(0,r.jsx)(or.Y0,{transitionState:l,"aria-labelledby":d,children:null!=u?(0,r.jsx)(bO.L1,{onClose:t,errorCode:u}):null==i?(0,r.jsx)(or.hz,{children:(0,r.jsx)(s.$j,{className:IO().loading})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(or.xB,{separator:!1,className:IO().headerContainer,children:[(0,r.jsx)("div",{className:IO().art}),(0,r.jsx)(s.X6,{variant:"heading-xl/semibold",children:x.Z.Messages.OUTBOUND_PROMOTION_REDEMPTION_MODAL_TITLE})]}),(0,r.jsxs)(or.hz,{children:[(0,r.jsx)(s.xv,{variant:"text-md/normal",className:IO().bodyText,children:a.outboundRedemptionModalBody}),(0,r.jsx)(s.$i,{className:IO().formDivider}),(0,r.jsxs)(s.hj,{title:x.Z.Messages.REDEMPTION_CODE,className:IO().formSection,children:[(0,r.jsx)(Gy.Z,{value:i,buttonColor:s.zx.Colors.BRAND,buttonLook:s.zx.Looks.FILLED,delay:1e3,inputClassName:IO().textInput}),(0,r.jsx)(s.xv,{variant:"text-xs/normal",color:"header-secondary",className:IO().confirmationText,
children:x.Z.Messages.OUTBOUND_PROMOTION_CODE_CONFIRMATION_EMAIL})]})]}),(0,r.jsxs)(or.mz,{children:[(0,r.jsx)(s.zx,{color:s.zx.Colors.BRAND,onClick:function(){var e=(0,OO.BU)(i,a);window.open(e,"_blank")},children:x.Z.Messages.REDEEM}),(0,r.jsx)(s.zx,{onClick:t,look:s.zx.Looks.LINK,color:IO().maybeLaterButton,children:x.Z.Messages.MAYBE_LATER})]})]})})};var CO=n(367124),AO=n(182102),PO=n(631134),jO=n(447887),xO=n(512238),RO=n(124047),MO=n.n(RO);function wO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZO(e){ZO=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return ZO(e)}function LO(e,t){return!t||"object"!==UO(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function DO(e,t){DO=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return DO(e,t)}var UO=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function kO(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=ZO(e);if(t){var o=ZO(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return LO(this,n)}}var GO=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&DO(e,t)}(n,e);var t=kO(n);function n(){wO(this,n);return t.apply(this,arguments)}n.prototype.render=function(){var e=this.props,t=e.children,n=e.className,o=e.onMouseEnter,i=e.onMouseLeave;return(0,r.jsx)("div",{className:O()(MO().card,n),onMouseEnter:o,
onMouseLeave:i,children:t})};return n}(o.PureComponent);GO.Header=function(e){var t=e.children,n=e.className,o=e.splashArtURL;return(0,r.jsxs)(ae.Z,{className:O()(MO().header,n),align:ae.Z.Align.CENTER,children:[(0,r.jsx)("div",{className:MO().splashArt,style:null!=o?{backgroundImage:"url(".concat(o,")")}:void 0}),t]})};GO.Body=function(e){var t=e.children,n=e.className;return(0,r.jsx)("div",{className:O()(MO().body,n),children:t})};const BO=GO;var HO=n(513857),VO=n(414597),FO=n(862325),YO=n(801048),zO=n.n(YO);function WO(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KO(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function qO(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){KO(i,r,o,a,s,"next",e)}function s(e){KO(i,r,o,a,s,"throw",e)}a(void 0)}))}}function XO(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function $O(e){$O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return $O(e)}function JO(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&tv(e,t)}function ev(e,t){return!t||"object"!==nv(t)&&"function"!=typeof t?WO(e):t}function tv(e,t){tv=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return tv(e,t)}var nv=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function rv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1
;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=$O(e);if(t){var o=$O(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ev(this,n)}}var ov=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue
;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function iv(e){var t=e.giftStyle,n=e.shouldAnimate;return(0,r.jsx)(AO.Z,{giftStyle:t,className:zO().seasonalGiftBox,shouldAnimate:n})}var av=function(e){JO(n,e);var t=rv(n);function n(){XO(this,n);var e;(e=t.apply(this,arguments))._copyModeTimeout=new Ie.V7;e.state={copyMode:HO.u.DEFAULT};e.handleCopy=function(t){var n=e.props,r=n.giftCode,o=n.sku;(0,qg.dM)(r,o);try{(0,Pf.JG)(t);e.setState({copyMode:HO.u.SUCCESS})}catch(t){e.setState({copyMode:HO.u.ERROR})}e._copyModeTimeout.start(1e3,(function(){e.setState({copyMode:HO.u.DEFAULT})}))};return e}var i=n.prototype
;i.componentWillUnmount=function(){this._copyModeTimeout.stop()};i.handleRevoke=function(e){Kg.Z.revokeGiftCode(e)};i.render=function(){var e=this,t=this.props,n=t.hideCode,i=t.giftCode,a=this.state.copyMode;return(0,r.jsxs)(ae.Z,{direction:ae.Z.Direction.VERTICAL,className:zO().giftCodeRow,children:[(0,r.jsx)(HO.Z,{className:zO().codeText,value:(0,qg.Nz)(i.code),text:this.copyButtonText,mode:a,supportsCopy:Pf.wS,hideMessage:n?x.Z.Messages.GIFT_INVENTORY_HIDDEN:null,onCopy:this.handleCopy,buttonColor:HO.Z.ButtonColors.BRAND,buttonLook:HO.Z.ButtonLooks.FILLED}),(0,r.jsxs)("div",{className:zO().subTextRow,children:[null!=i.expiresAt?(0,r.jsxs)(o.Fragment,{children:[x.Z.Messages.GIFT_INVENTORY_EXPIRES_IN.format({hours:i.expiresAt.diff(Be()(),"h")})," ","— "]}):null,(0,r.jsx)(s.P3,{tag:"a",onClick:function(){return e.handleRevoke(i.code)},children:x.Z.Messages.REVOKE})]})]})};!function(e,t,n){t&&QO(e.prototype,t);n&&QO(e,n)}(n,[{key:"copyButtonText",get:function(){
switch(this.state.copyMode){case HO.u.SUCCESS:return x.Z.Messages.BILLING_GIFT_COPIED;case HO.u.ERROR:return x.Z.Messages.FAILED;default:return x.Z.Messages.COPY}}}]);return n}(o.PureComponent),sv=function(e){JO(n,e);var t=rv(n);function n(){XO(this,n);var e;(e=t.apply(this,arguments))._loadedAt=null;e.state={isOpen:!1,isCreating:!1,isHovered:!1};var r,o=WO(e);e.handleGenerateGiftCode=(r=qO((function(e){var t,n,r,i;return ov(this,(function(a){switch(a.label){case 0:e.stopPropagation();t=o.props,n=t.skuId,r=t.subscriptionPlanId,i=t.giftStyle;o.setState({isCreating:!0});return[4,Kg.Z.createGiftCode(n,r,i)];case 1:a.sent();o.setState({isCreating:!1,isOpen:!0});return[2]}}))})),function(e){return r.apply(this,arguments)});e.handleToggleOpen=function(){var t=e.props,n=t.skuId,r=t.subscriptionPlanId,o=t.loadedAt,i=!e.state.isOpen;(null==o||null==e._loadedAt||o<e._loadedAt)&&i&&Kg.Z.fetchUserGiftCodesForSKU(n,r);e.setState({isOpen:!e.state.isOpen})};return e}var i=n.prototype
;i.componentDidMount=function(){this._loadedAt=Date.now()};i.renderTitle=function(){var e,t=this.props,n=t.sku,o=t.subscriptionPlan,i=t.giftCodeBatchId;e=i===Kr.m8?x.Z.Messages.BLACK_FRIDAY_PROMOTION_GIFT_INVENTORY_TITLE:i===Kr.rX&&null!=o?(o.interval===Kr.rV.MONTH?x.Z.Messages.STICKERS_GIFT_INVENTORY_TITLE_MONTH:x.Z.Messages.STICKERS_GIFT_INVENTORY_TITLE_YEAR).format({skuName:n.name,intervalCount:o.intervalCount}):null==o?n.name:(o.interval===Kr.rV.MONTH?x.Z.Messages.GIFT_INVENTORY_SUBSCRIPTION_MONTHS:x.Z.Messages.GIFT_INVENTORY_SUBSCRIPTION_YEARS).format({skuName:n.name,intervalCount:o.intervalCount});return(0,r.jsx)("div",{className:zO().gameName,children:e})};i.renderGenerateGiftCodeRow=function(){return(0,r.jsxs)(ae.Z,{justify:ae.Z.Justify.BETWEEN,align:ae.Z.Align.CENTER,className:zO().generateCodeRow,children:[(0,r.jsx)("div",{className:zO().codeText,children:x.Z.Messages.GIFT_INVENTORY_GENERATE_HELP}),(0,r.jsx)(s.zx,{submitting:this.state.isCreating,size:s.zx.Sizes.SMALL,
color:s.zx.Colors.BRAND,onClick:this.handleGenerateGiftCode,children:x.Z.Messages.GIFT_INVENTORY_GENERATE_LINK})]})};i.setIsHovered=function(e){this.setState({isHovered:e})};i.render=function(){var e=this,t=this.props,n=t.entitlements,i=t.application,a=t.giftCodes,l=t.className,c=t.sku,u=t.isFetching,f=t.hideCodes,d=t.giftStyle,p=this.state.isOpen;return(0,r.jsxs)(BO,{className:l,children:[(0,r.jsx)(s.P3,{onClick:this.handleToggleOpen,className:zO().card,onMouseEnter:function(){return e.setIsHovered(!0)},onMouseLeave:function(){return e.setIsHovered(!1)},children:(0,r.jsx)(BO.Header,{splashArtURL:i.getSplashURL(512),children:(0,r.jsxs)("div",{className:zO().cardHeader,children:[(0,r.jsxs)(ae.Z,{align:ae.Z.Align.CENTER,children:[null!=d?(0,r.jsx)(iv,{giftStyle:d,shouldAnimate:this.state.isHovered}):(0,r.jsx)(Gr.Z,{game:i,size:Gr.Z.Sizes.MEDIUM,skuId:c.id}),(0,r.jsxs)("div",{className:zO().headerText,children:[this.renderTitle(),(0,r.jsx)("div",{className:zO().subTextHeader,
children:x.Z.Messages.GIFT_INVENTORY_COPIES.format({copies:n.length})})]})]}),(0,r.jsx)(VO.Z,{direction:p?VO.Z.Directions.UP:VO.Z.Directions.DOWN,className:zO().expandIcon})]})})}),p?(0,r.jsx)(BO.Body,{children:u?(0,r.jsx)(s.$j,{className:zO().spinner}):(0,r.jsxs)(o.Fragment,{children:[a.length<n.length?this.renderGenerateGiftCodeRow():null,a.map((function(e){return(0,r.jsx)(av,{giftCode:e,sku:c,hideCode:f},e.code)}))]})}):null]})};return n}(o.PureComponent);const lv=E.ZP.connectStores([xO.Z,Dr.Z,jO.Z,CO.Z,Fr.Z,PO.default],(function(e){var t=e.skuId,n=e.subscriptionPlanId,r=e.giftStyle,o=xO.Z.get(t);if(null==o)throw new Error("SKU was unavailable while rendering gift.");var i=jO.Z.getForGifterSKUAndPlan(PO.default.getId(),t,n).filter((function(e){return!e.isClaimed})).filter((function(e){return e.giftStyle===r}));return{sku:o,hideCodes:Dr.Z.enabled,isFetching:jO.Z.getUserGiftCodesFetchingForSKUAndPlan(t,n),loadedAt:jO.Z.getUserGiftCodesLoadedAtForSKUAndPlan(t,n),
application:CO.Z.getGame(o.applicationId),subscriptionPlan:null!=n?(0,FO.oE)(n):null,giftCodes:i}}))(sv);var cv=n(668131),uv=n(266958),fv=n.n(uv);function dv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pv(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function hv(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){pv(i,r,o,a,s,"next",e)}function s(e){pv(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Ev(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function yv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){
Ev(e,t,n[t])}))}return e}function mv(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function bv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return dv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dv(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var gv=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:
i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Ov="YYYY-MM-DD HH:mm";function vv(e){var t=e.drop,n=e.streamLengthRequirement,o=e.enrolled,i=e.completed,a=t.title,c=t.endDate,u=t.dropsQuestId,f=t.assets,d=t.articleUrl,p=(0,mO.EW)(u);if(null==p)return null;var h=function(){(0,hO.RJ)(u).then((function(){l.Z.wait(hv((function(){return gv(this,(function(e){switch(e.label){case 0:return[4,(0,hO.R5)()];case 1:e.sent();return[2]}}))})))}))};return(0,r.jsxs)("div",{className:fv().dropContainer,children:[(0,r.jsx)("div",{className:fv().dropCard,children:(0,r.jsxs)("div",{
className:fv().mainPromotionCardContainer,children:[(0,r.jsxs)("div",{className:fv().promotionCardLeftContainer,children:[(0,r.jsx)("div",{className:fv().promotionIcon,children:(0,r.jsx)("img",{alt:"",src:f.iconSrc,className:fv().promotionIconImage})}),(0,r.jsxs)("div",{children:[(0,r.jsx)(s.X6,{variant:"heading-md/semibold",children:a}),(0,r.jsx)(s.xv,{variant:"text-xs/medium",color:"text-normal",className:fv().availableUntil,children:x.Z.Messages.DROPS_CARD_REDEEM_UNTIL.format({endDate:Be()(c,"YYYY-MM-DD HH:mm").format("MMMM Do, YYYY")})})]})]}),(0,r.jsx)(rn.ZP,{text:o&&!i?x.Z.Messages.DROPS_GIFT_INVENTORY_REDEMPTION_TOOLTIP:null,tooltipContentClassName:fv().redeemTooltipContent,children:function(e){return(0,r.jsx)(s.zx,mv(yv({className:fv().promotionCardButton,color:s.zx.Colors.BRAND,size:s.zx.Sizes.SMALL,onClick:h,disabled:o&&!i},e),{children:o?x.Z.Messages.REDEEM:x.Z.Messages.DROPS_GIFT_INVENTORY_ENROLL}))}})]})}),(0,r.jsxs)("div",{className:fv().dropCriteria,children:[(0,
r.jsx)("img",{alt:"",src:f.rewardSrc,className:fv().dropRewardImage}),(0,r.jsx)(s.xv,{color:"text-muted",variant:"text-sm/normal",className:fv().dropCriteriaText,children:p.messages.giftInfo(n)}),(0,r.jsx)(s.xv,{color:"text-muted",variant:"text-sm/normal",className:fv().dropLearnMore,children:x.Z.Messages.DROPS_LEARN_MORE.format({faqUrl:d})})]})]})}function _v(e){var t,n=e.outboundPromotion,i=e.code,a=e.addClaimedOutboundPromotionCode,l=bv(o.useState(!1),2),c=l[0],u=l[1],f=bv(o.useState(!1),2),d=f[0],p=f[1],h=function(){return u((function(e){return!e}))},E=(0,Yo.ZP)(),y=(0,OO.Pz)(n.id,E),m=null!=i,b=m?(0,He.vc)(Be()(n.endDate).add(Kr.aT),"LL"):(0,He.vc)(Be()(n.endDate),"LL");m&&c?t=x.Z.Messages.OUTBOUND_PROMOTION_CARD_CLAIMED_EXPANDED_BODY.format({endDate:b,onClickDetails:h}):m&&!c?t=x.Z.Messages.OUTBOUND_PROMOTION_CARD_CLAIMED_UNEXPANDED_BODY.format({endDate:b,onClickDetails:h}):!m&&c?t=x.Z.Messages.OUTBOUND_PROMOTION_CARD_UNCLAIMED_EXPANDED_BODY.format({endDate:b,onClickDetails:h
}):m||c||(t=x.Z.Messages.OUTBOUND_PROMOTION_CARD_UNCLAIMED_UNEXPANDED_BODY.format({endDate:b,onClickDetails:h}));var g=m?x.Z.Messages.OUTBOUND_PROMOTION_SEE_CODE:x.Z.Messages.PROMOTION_CARD_ACTION_CLAIM,v=o.useCallback((function(){return p(!1)}),[]),_=n.outboundTitle,I=n.outboundTermsAndConditions;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:O()(fv().skuCard,fv().promotionCard),children:[(0,r.jsxs)("div",{className:fv().mainPromotionCardContainer,children:[(0,r.jsxs)("div",{className:fv().promotionCardLeftContainer,children:[(0,r.jsx)("div",{className:fv().promotionIcon,children:(0,r.jsx)("img",{alt:"",src:y,className:fv().promotionIconImage})}),(0,r.jsxs)("div",{children:[(0,r.jsx)(s.X6,{variant:"heading-md/semibold",children:_}),(0,r.jsx)(s.xv,{variant:"text-sm/normal",color:"text-normal",className:fv().promotionText,children:t})]})]}),(0,r.jsx)(s.zx,{className:fv().promotionCardButton,color:s.zx.Colors.BRAND,size:s.zx.Sizes.SMALL,onClick:function(){return p(!0)
},children:g})]}),c&&(0,r.jsx)(s.xv,{className:fv().promotionLegalese,variant:"text-xs/normal",color:"header-secondary",children:gO.Z.parse(I,!1,{allowLinks:!0})})]}),d&&(0,r.jsx)(or.ZP,{renderModal:function(e){return(0,r.jsx)(NO,mv(yv({},e),{onClose:v,onClaim:a,code:i,outboundPromotion:n}))},onCloseRequest:v})]})}function Iv(e){var t=e.drop,n=e.code,i=e.platform,a=bv(o.useState(!1),2),l=a[0],c=a[1],u=void 0!==n,f=(0,He.vc)(Be()(t.endDate),"LL"),d=x.Z.Messages.DROPS_CARD_REDEEM_UNTIL.format({endDate:f}),p=u?x.Z.Messages.OUTBOUND_PROMOTION_SEE_CODE:x.Z.Messages.PROMOTION_CARD_ACTION_CLAIM,h=o.useCallback((function(){return c(!1)}),[]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:O()(fv().skuCard,fv().promotionCard),children:(0,r.jsxs)("div",{className:fv().mainPromotionCardContainer,children:[(0,r.jsxs)("div",{className:fv().promotionCardLeftContainer,children:[(0,r.jsx)("div",{className:fv().promotionIcon,children:(0,r.jsx)("img",{alt:"",src:t.assets.iconSrc,
className:fv().promotionIconImage})}),(0,r.jsxs)("div",{children:[(0,r.jsx)(s.X6,{variant:"heading-md/semibold",children:t.title}),(0,r.jsx)(s.xv,{variant:"text-sm/normal",color:"text-normal",className:fv().promotionText,children:d})]})]}),(0,r.jsx)(s.zx,{color:s.zx.Colors.BRAND,size:s.zx.Sizes.SMALL,onClick:function(){return c(!0)},children:p})]})}),l&&(0,r.jsx)(or.ZP,{renderModal:function(e){return(0,r.jsx)(bO.ZP,mv(yv({},e),{onClose:h,code:n,drop:t,platform:i}))},onCloseRequest:h})]})}const Sv=function(){var e=function(){f.Z.open(G.oAB.PREMIUM)},t=(0,E.e7)([CO.Z],(function(){return Boolean(CO.Z.lastFetched)})),n=(0,E.e7)([Vr.default],(function(){return Vr.default.getCurrentUser()})),i=(0,E.Wu)([fn.Z],(function(){return fn.Z.getGiftable()})),a=bv(_e().partition(i,(function(e){return null==e.giftCodeBatchId})),2),c=a[0],u=a[1],d=_e().groupBy(c,(function(e){return(0,qg.Bg)(e.skuId,e.subscriptionPlanId,e.giftStyle)})),p=bv(o.useState(!1),2),h=p[0],y=p[1],m=(0,E.e7)([yO.Z],(function(){
return yO.Z.userStatus}));o.useEffect((function(){l.Z.wait((function(){(0,xt.Qv)().then((function(){return y(!0)}))}))}),[]);var b=(0,EO.dy)();o.useEffect((function(){b&&l.Z.wait(hv((function(){return gv(this,(function(e){switch(e.label){case 0:return[4,(0,hO.R5)()];case 1:e.sent();return[2]}}))})))}),[b]);var g=(0,vO.l)(),O=g.promotionsLoaded,v=g.activeOutboundPromotions,_=g.claimedEndedOutboundPromotions,I=g.claimedOutboundPromotionCodeMap,S=g.addClaimedOutboundPromotionCode;return t&&h&&O?(0,r.jsxs)(r.Fragment,{children:[b&&function(){var e=[],t=[],o=!1,i=!0,a=!1,l=void 0;try{for(var c,u=Object.keys(m)[Symbol.iterator]();!(i=(c=u.next()).done);i=!0){var f,d=c.value,p=(0,mO.EW)(d);if(null!=p){var h=m[d],E=(0,mO.x8)(d);if(null!=E){var y=(0,mO.Xt)(E),b=h.eligible&&y,g=(0,mO.A5)(E);if(null!=g){b&&g.trackExposure({},{location:"ENTITLEMENT_GIFTS"});var O=Boolean((null===(f=Vr.default.getCurrentUser())||void 0===f?void 0:f.isStaff())&&g.getCurrentConfig({}).showUnenroll)
;if(g.getCurrentConfig({}).dropsEnabled){o=!0;var v=Be()(p.endDate,Ov),_=Be()();if(b&&null==h.completed_at||null!=h.enrolled_at&&null==h.completed_at&&h.eligible)_<v&&e.push({dropsQuestId:d,dropsStatus:h,showUnenroll:O,experiment:g});else if(null!=h.code||null!=h.completed_at){_<Be()(p.finalClaimDate,Ov)&&t.push({dropsQuestId:d,dropsStatus:h,showUnenroll:O,experiment:g})}}}}}}}catch(e){a=!0;l=e}finally{try{i||null==u.return||u.return()}finally{if(a)throw l}}var I,S=(0,r.jsxs)("div",{className:fv().dropsHeaderContainer,children:[(0,r.jsx)(s.X6,{variant:"heading-md/semibold",children:x.Z.Messages.DROPS_GIFT_INVENTORY_TITLE}),(0,r.jsx)(me.Z,{className:fv().betaTagIcon})]});return o&&0===e.length&&0===t.length?(0,r.jsxs)(s.hj,{children:[S,(0,r.jsx)(s.$i,{className:fv().divider}),(0,r.jsx)("div",{className:fv().dropsHelpText,children:x.Z.Messages.DROPS_READ_BLOG_TO_ENABLE.format({blogURL:cv.n4})})]}):0===e.length&&0===t.length?null:(0,r.jsxs)(s.hj,{children:[S,(0,r.jsx)(s.$i,{
className:fv().divider}),e.map((function(e){var t=(0,mO.EW)(e.dropsQuestId),n=null!=e.dropsStatus.enrolled_at,o=null!=e.dropsStatus.completed_at,i=e.experiment.getCurrentConfig({});return null!=t?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(vv,{drop:yv({},t),streamLengthRequirement:i.streamLengthRequirement,enrolled:n,completed:o},t.dropsQuestId),e.showUnenroll&&(0,r.jsx)(s.zx,{size:s.zx.Sizes.SMALL,onClick:function(){return(0,hO.VT)(e.dropsQuestId)},children:"UNENROLL"})]}):null})),t.map((function(e){var t,n,o=(0,mO.EW)(e.dropsQuestId);return null!=o?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Iv,{drop:o,code:null!==(t=e.dropsStatus.code)&&void 0!==t?t:void 0,platform:null!==(n=e.dropsStatus.platform)&&void 0!==n?n:void 0},e.dropsQuestId),e.showUnenroll&&(0,r.jsx)(s.zx,{size:s.zx.Sizes.SMALL,onClick:function(){return(0,hO.VT)(e.dropsQuestId)},children:"UNENROLL"})]}):null})),"string"==typeof(null==n?void 0:n.id)&&t.length>0?(0,r.jsx)("div",{className:fv().feedback,
children:x.Z.Messages.DROPS_REQUEST_FEEDBACK_SUCCESS.format({feedbackURL:"https://survey.alchemer.com/s3/7043098/Discord-Drops-CSAT?user_id=".concat(null!==(I=null==n?void 0:n.id)&&void 0!==I?I:"")})}):null]})}(),function(){var e,t=u.find((function(e){return e.giftCodeBatchId===Kr.m8&&!e.consumed})),n=null!==(e=u.filter((function(e){return e.giftCodeBatchId===Kr.rX&&!e.consumed})))&&void 0!==e?e:[],o=bv(_e().partition(n,(function(e){return e.subscriptionPlanId===Kr.Xh.PREMIUM_YEAR_TIER_2})),2),i=o[0],a=o[1],l=v.length+_.length>0;return(0,r.jsx)(s.hj,{children:(0,r.jsxs)(s.y5,{component:(0,r.jsx)(s.X6,{variant:"heading-md/semibold",children:l?x.Z.Messages.GIFT_INVENTORY_YOUR_GIFTS:void 0}),children:[l?(0,r.jsx)(s.$i,{className:fv().divider}):null,_.map((function(e){var t=e.code,n=e.promotion;return(0,r.jsx)(_v,{outboundPromotion:n,code:t,addClaimedOutboundPromotionCode:S},n.id)})),v.map((function(e){return(0,r.jsx)(_v,{outboundPromotion:e,code:I[e.id],addClaimedOutboundPromotionCode:S
},e.id)})),null!=t?(0,r.jsx)(lv,{className:fv().skuCard,skuId:t.skuId,subscriptionPlanId:t.subscriptionPlanId,entitlements:[t],giftCodeBatchId:Kr.m8},(0,qg.Bg)(t.skuId,t.subscriptionPlanId)):null,i.length>0?(0,r.jsx)(lv,{className:fv().skuCard,skuId:i[0].skuId,subscriptionPlanId:i[0].subscriptionPlanId,entitlements:i,giftCodeBatchId:Kr.rX},(0,qg.Bg)(i[0].skuId,i[0].subscriptionPlanId)):null,a.length>0?(0,r.jsx)(lv,{className:fv().skuCard,skuId:a[0].skuId,subscriptionPlanId:a[0].subscriptionPlanId,entitlements:a,giftCodeBatchId:Kr.rX},(0,qg.Bg)(a[0].skuId,a[0].subscriptionPlanId)):null]})})}(),(0,r.jsx)(s.hj,{children:(0,r.jsxs)(s.y5,{component:(0,r.jsx)(s.X6,{variant:"heading-md/semibold",children:x.Z.Messages.GIFT_INVENTORY_GIFTS_YOU_PURCHASED}),children:[(0,r.jsx)(s.$i,{className:fv().divider}),0===Object.keys(d).length?(0,r.jsxs)("div",{className:fv().emptyState,children:[(0,r.jsx)("div",{className:fv().emptyStateImage}),(0,r.jsx)(s.H,{className:fv().emptyStateHeader,
children:x.Z.Messages.GIFT_INVENTORY_NO_GIFTS}),(0,r.jsx)("p",{className:fv().emptyStateSubtext,children:x.Z.Messages.GIFT_INVENTORY_NO_GIFTS_SUBTEXT.format({onClick:e})})]}):_e().keys(d).map((function(e){var t=(0,qg.Z0)(e),n=t.skuId,o=t.subscriptionPlanId,i=t.giftStyle;return(0,r.jsx)(lv,{className:fv().skuCard,skuId:n,subscriptionPlanId:o,entitlements:d[e],giftStyle:i},e)}))]})})]}):(0,r.jsx)(s.$j,{className:fv().loading})};var Tv=n(827079),Nv=n.n(Tv);function Cv(){return(0,Wg.Q)()?(0,r.jsx)(GE.c8,{}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(zg.Z,{section:G.jXE.LIBRARY_INVENTORY_CODE_REDEMPTION,children:(0,r.jsx)(pO,{})}),(0,r.jsx)(s.$i,{className:Nv().divider}),(0,r.jsx)(zg.Z,{section:G.jXE.LIBRARY_INVENTORY_GIFTS_LIST,children:(0,r.jsx)(Sv,{})})]})}var Av=n(171826),Pv=n(676384),jv=n(537546),xv=n(229629),Rv=n(742572),Mv=n(848828),wv=n(123016),Zv=n(395130),Lv=n(212033),Dv=n(554062),Uv=n(185347),kv=n(627456),Gv=n(437338),Bv=n.n(Gv);function Hv(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function Fv(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Yv(e){Yv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Yv(e)}function zv(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Xv(e,t)}function Wv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Fv(e,t,n[t])}))}return e}function Kv(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function qv(e,t){return!t||"object"!==Qv(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Xv(e,t){Xv=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Xv(e,t)}var Qv=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function $v(e){var t=function(){
if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Yv(e);if(t){var o=Yv(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qv(this,n)}}function Jv(e){return(0,e.children)([Pv.Q2.MESSAGE,Pv.Q2.NAVIGATION,Pv.Q2.DND,Pv.Q2.CHAT,Pv.Q2.VOICE_AND_VIDEO,Pv.Q2.MISCELLANEOUS])}var e_=_e()((0,Pv.Rv)()).filter((function(e){return e.description!==x.Z.Messages.KEYBIND_DESCRIPTION_MODAL_EASTER_EGG})).groupBy((function(e){return e.group})).value(),t_=E.ZP.connectStores([Gu.Z],(function(){return{theme:Gu.Z.theme}}))(uh.ZP),n_=function(e){zv(n,e);var t=$v(n);function n(){Hv(this,n);var e;(e=t.apply(this,arguments)).handleActionChanged=function(t){D.Z.setKeybind(Kv(Wv({},e.props.keybind),{action:t}))};e.handleShortcutChange=function(t){
D.Z.setKeybind(Kv(Wv({},e.props.keybind),{shortcut:t}))};e.handleDeleteKeybind=function(){D.Z.deleteKeybind(e.props.keybind.id)};return e}var o=n.prototype;o.renderMessage=function(){var e=this.props.keybind,t=Uv.BB(e.shortcut);return vp.Z.hasBind(t)?(0,r.jsx)(s.R9,{className:Bv().keybindMessage,type:s.ge.DESCRIPTION,style:{color:(0,ne.Lq)(G.Ilk.RED_400)},children:x.Z.Messages.KEYBIND_CONFLICT}):kv.Sp.has(t)?(0,r.jsx)(s.R9,{className:Bv().keybindMessage,type:s.ge.DESCRIPTION,style:{color:(0,ne.Lq)(G.Ilk.RED_400)},children:x.Z.Messages.KEYBIND_NAVIGATION_CONFLICT.format({keyboardNavArticle:sa.Z.getArticleURL(G.BhN.KEYBOARD_NAVIGATION)})}):(0,r.jsx)(s.R9,{className:Bv().keybindMessage,type:s.ge.DESCRIPTION,children:this.props.keybindDescriptions[e.action]})};o.render=function(){var e=this.props.keybind.managed;return(0,r.jsxs)(ae.Z,{direction:ae.Z.Direction.VERTICAL,className:O()(Bv().keybindGroup,tm().card),children:[!e&&(0,r.jsx)(ky.Z,{"aria-label":x.Z.Messages.REMOVE_KEYBIND,
className:Bv().removeKeybind,onClick:this.handleDeleteKeybind,look:ky.Z.Looks.FILLED}),(0,r.jsxs)(ae.Z,{className:fe().marginBottom8,children:[(0,r.jsx)(ae.Z.Child,{basis:"50%",children:(0,r.jsx)(s.xJ,{title:x.Z.Messages.USER_SETTINGS_KEYBINDS_ACTION,className:Bv().item,children:(0,r.jsx)(s.q4,{value:this.props.keybind.action,options:this.props.keybindActionTypes,onChange:this.handleActionChanged,isDisabled:e})})}),(0,r.jsx)(ae.Z.Child,{basis:"50%",children:(0,r.jsx)(s.xJ,{title:x.Z.Messages.USER_SETTINGS_KEYBINDS_KEYBIND,className:Bv().item,children:(0,r.jsx)(U.Z,{defaultValue:this.props.keybind.shortcut,onChange:this.handleShortcutChange})})})]}),(0,r.jsx)(ae.Z.Child,{children:this.renderMessage()})]})};return n}(o.PureComponent),r_=function(e){zv(i,e);var t=$v(i);function i(){Hv(this,i);var e;(e=t.apply(this,arguments)).handleAddKeybind=function(){D.Z.addKeybind()};return e}var a=i.prototype;a.componentDidMount=function(){D.Z.enableAll(!1)};a.componentWillUnmount=function(){
D.Z.enableAll(!0);var e=[G.S9g.USER_SETTINGS,G.S9g.CHANNEL_SETTINGS,G.S9g.GUILD_SETTINGS];Lv.Z.getLayers().some((function(t){return e.includes(t)}))&&vp.Z.enableTemp(jv.u)};a.renderKeybinds=function(e){var t=this;return e.map((function(e){return(0,r.jsx)("div",{className:Bv().row,children:(0,r.jsx)(n_,{keybind:e,keybindDescriptions:t.keybindDescriptions,keybindActionTypes:t.keybindActionTypes},e.id)},e.id)}))};a.renderEmpty=function(e){if(0===e.length)return(0,r.jsx)(t_,{className:fe().marginTop60,children:(0,r.jsx)(uh.ox,{darkSrc:n(656470),lightSrc:n(789885),width:320,height:170})})};a.render=function(){var e=this,t=_e()(this.props.keybinds).reject((function(e){return e.managed&&e.action!==G.kg4.OVERLAY_ACTIVATE_REGION_TEXT_WIDGET})).reject((function(t){return!e.props.allowSoundboard&&(t.action===G.kg4.SOUNDBOARD||t.action===G.kg4.SOUNDBOARD_HOLD)})).sortBy((function(e){return e.id})).sortBy((function(e){return!0===e.managed?-1:0})).value();return(0,r.jsxs)(r.Fragment,{children:[(0,
r.jsx)(s.hj,{tag:s.RB.H1,title:x.Z.Messages.KEYBINDS,children:ec.FB?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(ae.Z,{justify:ae.Z.Justify.BETWEEN,className:fe().marginBottom20,children:[(0,r.jsx)(ae.Z.Child,{grow:0,children:(0,r.jsx)(Dv.Z,{messageType:Dv.Q.WARNING,children:x.Z.Messages.ADD_KEYBIND_WARNING})}),(0,r.jsx)(ae.Z.Child,{wrap:!0,grow:0,children:(0,r.jsx)(s.zx,{size:s.Ph.LARGE,onClick:this.handleAddKeybind,children:x.Z.Messages.ADD_KEYBIND})})]}),(0,r.jsx)(s.$i,{}),(0,r.jsxs)(s.hj,{children:[this.renderKeybinds(t),this.renderEmpty(t)]})]}):(0,r.jsx)(Dv.Z,{messageType:Dv.Q.INFO,textVariant:"text-lg/medium",className:Bv().browserNotice,children:x.Z.Messages.KEYBIND_IN_BROSWER_NOTICE.format({downloadLink:G.EYA.DOWNLOAD})})}),(0,r.jsx)(s.$i,{}),(0,r.jsxs)(s.hj,{tag:s.RB.H1,title:x.Z.Messages.USER_SETTINGS_KEYBINDS_DEFAULT_KEYBINDS_TITLE,className:fe().marginTop60,children:[(0,r.jsxs)("div",{className:Bv().defaultKeybind,children:[(0,r.jsx)(s.xv,{variant:"text-md/normal",
children:x.Z.Messages.USER_SETTINGS_KEYBINDS_SHOW_LIST_TITLE}),(0,r.jsx)("div",{className:Bv().defaultKeybindShortcutGroup,children:(0,r.jsx)(Mv.Z,{shortcut:Av._.binds[0],className:Bv().defaultKeybindShortcut})})]}),(0,r.jsx)(s.$i,{}),(0,r.jsx)(Jv,{children:function(e){return(0,r.jsx)(r.Fragment,{children:e.map((function(e,t){var n=(0,Pv.UD)(e),i=(0,Pv.U6)(e),a=e_[e];return(0,r.jsxs)("div",{className:Bv().defaultKeybindGroup,children:[(0,r.jsx)(s.X6,{variant:"heading-deprecated-12/semibold",className:O()(Bv().defaultKeybindGroupHeader,Fv({},Bv().defaultKeybindGroupWithDescription,null!=i)),children:n}),null!=i&&(0,r.jsx)(s.xv,{color:"header-secondary",className:Bv().defaultKeybindGroupDescription,variant:"text-sm/normal",children:i}),(0,r.jsx)(s.$i,{}),a.map((function(e){return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsxs)("div",{className:Bv().defaultKeybind,children:[(0,r.jsx)(s.xv,{variant:"text-md/normal",children:e.description}),(0,r.jsx)("div",{
className:Bv().defaultKeybindShortcutGroup,children:e.binds.map((function(e){return(0,r.jsx)(Mv.Z,{shortcut:e},e)}))})]}),(0,r.jsx)(s.$i,{})]},e.description)}))]},t)}))})}})]})]})};!function(e,t,n){t&&Vv(e.prototype,t);n&&Vv(e,n)}(i,[{key:"keybindActionTypes",get:function(){var e=this.props,t=e.overlaySupported,n=e.canGoLive,r=e.allowSoundboard,o=e.enableClips,i=[{value:G.kg4.UNASSIGNED,label:x.Z.Messages.KEYBIND_UNASSIGNED},{value:G.kg4.PUSH_TO_TALK,label:x.Z.Messages.KEYBIND_PUSH_TO_TALK},{value:G.kg4.PUSH_TO_TALK_PRIORITY,label:x.Z.Messages.KEYBIND_PUSH_TO_TALK_PRIORITY},{value:G.kg4.PUSH_TO_MUTE,label:x.Z.Messages.KEYBIND_PUSH_TO_MUTE},{value:G.kg4.TOGGLE_MUTE,label:x.Z.Messages.KEYBIND_TOGGLE_MUTE},{value:G.kg4.TOGGLE_DEAFEN,label:x.Z.Messages.KEYBIND_TOGGLE_DEAFEN},{value:G.kg4.TOGGLE_VOICE_MODE,label:x.Z.Messages.KEYBIND_TOGGLE_VOICE_MODE},{value:G.kg4.TOGGLE_STREAMER_MODE,label:x.Z.Messages.KEYBIND_TOGGLE_STREAM_MODE}];if(t){i.push({value:G.kg4.TOGGLE_OVERLAY,
label:x.Z.Messages.KEYBIND_TOGGLE_OVERLAY});i.push({value:G.kg4.TOGGLE_OVERLAY_INPUT_LOCK,label:x.Z.Messages.KEYBIND_TOGGLE_OVERLAY_INPUT_LOCK});i.push({value:G.kg4.OVERLAY_ACTIVATE_REGION_TEXT_WIDGET,label:x.Z.Messages.KEYBIND_ACTIVATE_OVERLAY_CHAT})}n&&(0,ec.ED)()&&i.push({value:G.kg4.TOGGLE_GO_LIVE_STREAMING,label:x.Z.Messages.KEYBIND_TOGGLE_GO_LIVE_STREAMING});if((0,ec.nI)()){i.push({value:G.kg4.NAVIGATE_BACK,label:x.Z.Messages.KEYBIND_NAVIGATE_BACK},{value:G.kg4.NAVIGATE_FORWARD,label:x.Z.Messages.KEYBIND_NAVIGATE_FORWARD});r&&(0,Zv.O)()&&i.push({value:G.kg4.SOUNDBOARD,label:x.Z.Messages.KEYBIND_SOUNDBOARD},{value:G.kg4.SOUNDBOARD_HOLD,label:x.Z.Messages.KEYBIND_SOUNDBOARD_HOLD});o&&i.push({value:G.kg4.SAVE_CLIP,label:x.Z.Messages.CLIPS_SAVE})}return i}},{key:"keybindDescriptions",get:function(){var e,t=this.props,n=t.overlaySupported,r=t.canGoLive,o=t.enableClips,i=(Fv(e={},G.kg4.UNASSIGNED,x.Z.Messages.KEYBIND_DESCRIPTION_UNASSIGNED),
Fv(e,G.kg4.PUSH_TO_MUTE,x.Z.Messages.KEYBIND_DESCRIPTION_PUSH_TO_MUTE),Fv(e,G.kg4.PUSH_TO_TALK,x.Z.Messages.KEYBIND_DESCRIPTION_PUSH_TO_TALK),Fv(e,G.kg4.PUSH_TO_TALK_PRIORITY,x.Z.Messages.KEYBIND_DESCRIPTION_PUSH_TO_TALK_PRIORITY),Fv(e,G.kg4.TOGGLE_MUTE,x.Z.Messages.KEYBIND_DESCRIPTION_TOGGLE_MUTE),Fv(e,G.kg4.TOGGLE_DEAFEN,x.Z.Messages.KEYBIND_DESCRIPTION_TOGGLE_DEAFEN),Fv(e,G.kg4.TOGGLE_VOICE_MODE,x.Z.Messages.KEYBIND_DESCRIPTION_TOGGLE_VOICE_MODE),Fv(e,G.kg4.TOGGLE_STREAMER_MODE,x.Z.Messages.KEYBIND_DESCRIPTION_TOGGLE_STREAMER_MODE),e);if(n){i[G.kg4.TOGGLE_OVERLAY]=x.Z.Messages.KEYBIND_DESCRIPTION_TOGGLE_OVERLAY;i[G.kg4.TOGGLE_OVERLAY_INPUT_LOCK]=x.Z.Messages.KEYBIND_DESCRIPTION_TOGGLE_OVERLAY_INPUT_LOCK}r&&(0,ec.ED)()&&(i[G.kg4.TOGGLE_GO_LIVE_STREAMING]=x.Z.Messages.KEYBIND_DESCRIPTION_TOGGLE_GO_LIVE_STREAMING);if((0,ec.nI)()){i[G.kg4.NAVIGATE_BACK]=x.Z.Messages.KEYBIND_DESCRIPTION_NAVIGATE_BACK;i[G.kg4.NAVIGATE_FORWARD]=x.Z.Messages.KEYBIND_DESCRIPTION_NAVIGATE_FORWARD
;i[G.kg4.SOUNDBOARD]=(0,ec.ED)()?x.Z.Messages.KEYBIND_DESCRIPTION_SOUNDBOARD_NO_POPOUT_WHEEL_SUPPORT:x.Z.Messages.KEYBIND_DESCRIPTION_SOUNDBOARD;i[G.kg4.SOUNDBOARD_HOLD]=(0,ec.ED)()?x.Z.Messages.KEYBIND_DESCRIPTION_SOUNDBOARD_HOLD_NO_POPOUT_WHEEL_SUPPORT:x.Z.Messages.KEYBIND_DESCRIPTION_SOUNDBOARD_HOLD;o&&(i[G.kg4.SAVE_CLIP]=x.Z.Messages.CLIPS_KEYBIND_DESCRIPTION)}return i}}]);return i}(o.PureComponent);function o_(){var e=(0,E.e7)([k.Z],(function(){return k.Z.getState()})),t=(0,E.e7)([ql.Z],(function(){return(0,Rv.Z)(ql.Z)})),n=(0,E.e7)([Xl.Z],(function(){return Xl.Z.isSupported()})),o=(0,wv.YD)().allowSoundboard,i=(0,xv.G)();return(0,r.jsx)(r_,{keybinds:e,canGoLive:t,overlaySupported:n,allowSoundboard:o&&(0,ec.ED)(),enableClips:i})}var i_=n(391431),a_=n.n(i_),s_=n(734155);function l_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c_(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0
}):e[t]=n;return e}function u_(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function f_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l_(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const d_=E.ZP.connectStores([y.default],(function(){return{currentLocale:y.default.locale}}))((function(e){var t=f_(o.useState(e.currentLocale),2),i=t[0],a=t[1],l=f_(o.useState((function(){return x.Z.getAvailableLocales().map((function(e){var t;try{t=n(357605)("./".concat(e.value,".png"))}catch(e){t=n(223693)}return u_(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){
c_(e,t,n[t])}))}return e}({},e),{name:(0,r.jsxs)("div",{className:a_().option,children:[(0,r.jsx)("span",{className:a_().localeName,children:e.name}),(0,r.jsx)("span",{className:a_().localizedName,children:e.localizedName}),(0,r.jsx)("div",{className:a_().flag,"aria-hidden":!0,children:(0,r.jsx)("img",{alt:"",src:t,className:a_().flagImage})})]})})}))})),1),c=l[0],u=o.useCallback((function(e){var t=e.value;a(t);s_.nextTick((function(){return Op.ZP.updateLocale(t)}))}),[]);return(0,r.jsx)(s.hj,{tag:s.RB.H1,title:x.Z.Messages.LANGUAGE,children:(0,r.jsx)(s.hj,{children:(0,r.jsx)(s.xJ,{title:x.Z.Messages.LANGUAGE_SELECT,children:(0,r.jsx)(s.Ee,{onChange:u,options:c,value:i})})})})}));var p_=n(351621),h_=n(390545),E_=n(919870);var y_=n(745456);function m_(e){var t=e.className,n=(0,E.e7)([E_.Z],(function(){return E_.Z.getSoundpack()})),o=h_.Z.useExperiment({}).allowSoundpacks;if(!o)return null;var i=o?(0,y_.hB)():[];return(0,r.jsx)(s.q4,{className:t,onChange:function(e){return function(e){
Br.default.track(G.rMx.SOUNDPACK_UPDATED,{soundpack:e,previous_soundpack:E_.Z.getSoundpack()});l.Z.dispatch({type:"SET_SOUNDPACK",soundpack:e})}(e)},value:n,options:i})}var b_=n(765515),g_=n(915306),O_=n(339511),v_=n(856864),__=n(666492),I_=n(333999);function S_(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function T_(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){S_(i,r,o,a,s,"next",e)}function s(e){S_(i,r,o,a,s,"throw",e)}a(void 0)}))}}function N_(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function C_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){
N_(e,t,n[t])}))}return e}function A_(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var P_=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:
case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function j_(){return(j_=T_((function(){var e;return P_(this,(function(t){switch(t.label){case 0:t.trys.push([0,2,,3]);return[4,__.Z.get({url:G.ANM.EMAIL_SETTINGS,trackedActionData:{event:i.a9.EMAIL_SETTINGS_FETCH,properties:function(e){var t,n=null==e||null===(t=e.body)||void 0===t?void 0:t.initialized;return(0,v_.iG)({initialized:n})}}})];case 1:e=t.sent();l.Z.dispatch({type:"EMAIL_SETTINGS_FETCH_SUCCESS",settings:e.body});return[3,3];case 2:
t.sent();l.Z.dispatch({type:"EMAIL_SETTINGS_FETCH_FAILURE"});return[3,3];case 3:return[2]}}))}))).apply(this,arguments)}function x_(){return(x_=T_((function(e,t){var n;return P_(this,(function(r){switch(r.label){case 0:l.Z.dispatch({type:"EMAIL_SETTINGS_UPDATE",updates:N_({},e,t)});r.label=1;case 1:r.trys.push([1,3,,4]);return[4,__.Z.patch({url:G.ANM.EMAIL_SETTINGS,body:{settings:{categories:N_({},e,t)}},trackedActionData:{event:i.a9.EMAIL_SETTINGS_UPDATE,properties:{category:e,value:t}}})];case 2:n=r.sent();l.Z.dispatch({type:"EMAIL_SETTINGS_UPDATE_SUCCESS",settings:n.body});return[3,4];case 3:r.sent();l.Z.dispatch({type:"EMAIL_SETTINGS_UPDATE_FAILURE"});return[3,4];case 4:return[2]}}))}))).apply(this,arguments)}function R_(){return M_.apply(this,arguments)}function M_(){return(M_=T_((function(){var e,t;return P_(this,(function(n){switch(n.label){case 0:e=I_.M0.reduce((function(e,t){return A_(C_({},e),N_({},t,!1))}),{});l.Z.dispatch({type:"EMAIL_SETTINGS_UPDATE",updates:e});n.label=1
;case 1:n.trys.push([1,3,,4]);return[4,__.Z.patch({url:G.ANM.EMAIL_SETTINGS,body:{settings:{categories:e}},trackedActionData:{event:i.a9.EMAIL_SETTINGS_UPDATE,properties:{category:"marketing",value:!1}}})];case 2:t=n.sent();l.Z.dispatch({type:"EMAIL_SETTINGS_UPDATE_SUCCESS",settings:t.body});return[3,4];case 3:n.sent();l.Z.dispatch({type:"EMAIL_SETTINGS_UPDATE_FAILURE"});return[3,4];case 4:return[2]}}))}))).apply(this,arguments)}var w_=n(852787),Z_=n(55386),L_=n.n(Z_);function D_(e){var t=e.label,n=e.onChange,o=e.enabled,i=e.subLabel;return(0,r.jsx)(s.j7,{value:!!o,onChange:n,note:i,children:t})}function U_(){var e=function(e,t){!function(e,t){x_.apply(this,arguments)}(e,t)},t=(0,E.e7)([Ur.Z],(function(){return Ur.Z.getSubsection()})),n=o.createRef(),i=(0,E.cj)([w_.Z],(function(){return w_.Z.getEmailSettings()})),a=i.categories,l=i.initialized;o.useEffect((function(){if(null==l)!function(){j_.apply(this,arguments)}();else if(t===I_.vG.toUpperCase()){var e
;null==n||null===(e=n.current)||void 0===e||e.scrollIntoView(!0)}}),[l,n,t]);var c=I_.M0.reduce((function(e,t){return e||!!a[t]}),!1);return l?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{ref:n}),(0,r.jsxs)(s.hj,{className:O()(fe().marginTop40),tag:s.RB.H1,title:x.Z.Messages.USER_SETTINGS_EMAIL_NOTIFICATIONS,children:[I_.Od.map((function(t){var n=t.category,o=t.label,i=t.subLabel;return(0,r.jsx)(D_,{label:o(),subLabel:i(),enabled:a[n],onChange:function(t){return e(n,t)}},o())})),(0,r.jsx)(s.zx,{className:L_().marketingUnsubscribeButton,disabled:!c,look:s.iL.LINK,color:s.Tt.LINK,onClick:R_,children:x.Z.Messages.USER_SETTINGS_EMAIL_NOTIFICATIONS_UNSUB_MARKETING}),(0,r.jsx)(s.R9,{type:s.ge.DESCRIPTION,children:x.Z.Messages.USER_SETTINGS_EMAIL_NOTIFICATIONS_UNSUB_MARKETING_DESCRIPTION}),(0,r.jsx)(s.$i,{className:O()(fe().marginTop40,fe().marginBottom40)})]})]}):null}var k_=n(66662),G_=n.n(k_);function B_(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H_(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function V_(e){V_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return V_(e)}function F_(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Y_(e,t){return!t||"object"!==W_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function z_(e,t){
z_=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return z_(e,t)}var W_=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function K_(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=V_(e);if(t){var o=V_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Y_(this,n)}}function q_(e){var t=e.label,n=e.enabled,o=e.disabled,i=e.onPreview,a=e.onChange;return(0,r.jsx)(s.j7,{className:G_().soundRow,value:n,onChange:a,disabled:o,children:(0,r.jsxs)("div",{className:G_().notificationSound,children:[(0,r.jsx)("div",{className:G_().soundName,children:t}),(0,r.jsx)(s.P3,{className:G_().soundIcon,onClick:i,
"aria-label":x.Z.Messages.USER_SETTINGS_NOTIFICATIONS_PREVIEW_SOUND,children:(0,r.jsx)(g_.Z,{width:16,height:16,className:G_().icon,"aria-hidden":!0})})]})})}function X_(e){var t=e.disabledSounds,n=e.disableAllSounds,i=e.notifyMessagesInSelectedChannel,a=h_.Z.useExperiment({}).allowSoundpacks;o.useEffect((function(){h_.Z.trackExposure({})}),[]);var l=o.useRef(),c=o.useCallback((function(e,t){t.stopPropagation();t.preventDefault();null!=l.current&&l.current.stop();l.current=Re.GN(e)}),[]),u=o.useCallback((function(e,n){var r=t.filter((function(t){return t!==e}));n||r.push(e);p_.default.setDisabledSounds(r)}),[t]);o.useEffect((function(){return function(){var e;null===(e=l.current)||void 0===e||e.stop()}}));var f=[{label:x.Z.Messages.SOUND_MESSAGE,sound:"message1"},{label:x.Z.Messages.SOUND_DEAFEN,sound:"deafen"},{label:x.Z.Messages.SOUND_UNDEAFEN,sound:"undeafen"},{label:x.Z.Messages.MUTE,sound:"mute"},{label:x.Z.Messages.UNMUTE,sound:"unmute"},{
label:x.Z.Messages.SOUND_VOICE_DISCONNECTED,sound:"disconnect"},{label:x.Z.Messages.SOUND_PTT_ACTIVATE,sound:"ptt_start"},{label:x.Z.Messages.SOUND_PTT_DEACTIVATE,sound:"ptt_stop"},{label:x.Z.Messages.SOUND_USER_JOIN,sound:"user_join"},{label:x.Z.Messages.SOUND_USER_LEAVE,sound:"user_leave"},{label:x.Z.Messages.SOUND_USER_MOVED,sound:"user_moved"},{label:x.Z.Messages.SOUND_OUTGOING_RING,sound:"call_calling"},{label:x.Z.Messages.SOUND_INCOMING_RING,sound:"call_ringing"},{label:x.Z.Messages.SOUND_STREAM_STARTED,sound:"stream_started"},{label:x.Z.Messages.SOUND_STREAM_STOPPED,sound:"stream_ended"},{label:x.Z.Messages.SOUND_VIEWER_JOIN,sound:"stream_user_joined"},{label:x.Z.Messages.SOUND_VIEWER_LEAVE,sound:"stream_user_left"},{label:x.Z.Messages.SOUND_INVITED_TO_SPEAK,sound:"reconnect"}];return(0,r.jsxs)(s.hj,{tag:s.RB.H1,title:x.Z.Messages.SOUNDS,children:[a?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.vw,{className:fe().marginBottom20,children:x.Z.Messages.SOUNDPACK_LABEL}),(0,
r.jsx)(m_,{className:fe().marginBottom40})]}):null,(0,r.jsx)(s.j7,{note:x.Z.Messages.USER_SETTINGS_NOTIFICATIONS_NOTIFY_MESSAGES_IN_SELECTED_CHANNEL_NOTE,value:i,onChange:p_.default.setNotifyMessagesInSelectedChannel,children:x.Z.Messages.USER_SETTINGS_NOTIFICATIONS_NOTIFY_MESSAGES_IN_SELECTED_CHANNEL_LABEL}),(0,r.jsx)(s.j7,{note:x.Z.Messages.SOUND_DISABLE_ALL_NOTE,value:n,onChange:p_.default.toggleDisableAllSounds,children:x.Z.Messages.SOUND_DISABLE_ALL}),f.map((function(e){var o=e.label,i=e.sound;return(0,r.jsx)(q_,{label:o,disabled:n,onChange:function(e){return u(i,e)},onPreview:function(e){return c(i,e)},enabled:!n&&!t.includes(i)},i)}))]})}var Q_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&z_(e,t)}(n,e);var t=K_(n);function n(){B_(this,n);var e
;(e=t.apply(this,arguments)).handleToggleShowUnreadBadge=function(){p_.default.setDisableUnreadBadge(!e.props.disableUnreadBadge)};e.handleToggleShowFlash=function(){p_.default.setTaskbarFlash(!e.props.taskbarFlash)};e.renderTTS=function(){if(!Gc.Zh)return null;var t=[{name:x.Z.Messages.TTS_ALLS,value:G.PrB.ALL_CHANNELS},{name:x.Z.Messages.TTS_CURRENT,value:G.PrB.SELECTED_CHANNEL},{name:x.Z.Messages.TTS_NEVER,value:G.PrB.NEVER}];return(0,r.jsxs)(s.xJ,{title:x.Z.Messages.FORM_LABEL_TTS_NOTIFICATIONS,children:[(0,r.jsx)(s.R9,{type:s.ge.DESCRIPTION,className:fe().marginBottom8,children:x.Z.Messages.FORM_DESCRIPTION_TTS}),(0,r.jsx)(s.Ee,{options:t,onChange:e.handleTTSChange,value:e.props.ttsType})]})};return e}var o=n.prototype;o.handleDesktopChange=function(e){var t,n=e?G.qrD.ALL:G.qrD.NEVER;n!==G.qrD.NEVER?(t="UserSettingsModal",O_.Z.requestPermission((function(e){var n=e?G.$Ab.ENABLED:G.$Ab.BLOCKED;p_.default.setPermissionsState(n,t)}))):p_.default.setDesktopType(n)}
;o.handleTTSChange=function(e){var t=e.value;p_.default.setTTSType(t)};o.render=function(){var e=this.props,t=e.desktopType,n=e.afkTimeout,o=e.disableUnreadBadge,i=e.taskbarFlash,a=e.disabledSounds,l=e.disableAllSounds,c=e.notifyMessagesInSelectedChannel,u=ec.FB&&(0,ec.ED)(),f=_e().range(1,11).map((function(e){return{value:60*e,label:x.Z.Messages.DURATION_MINUTES.format({minutes:e})}}));return(0,r.jsxs)(s.hj,{tag:s.RB.H1,title:x.Z.Messages.NOTIFICATIONS,children:[(0,r.jsx)(s.j7,{className:fe().marginBottom20,value:t!==G.qrD.NEVER,onChange:this.handleDesktopChange,note:x.Z.Messages.DESKTOP_NOTIFICATIONS_ENABLE_BODY,children:x.Z.Messages.DESKTOP_NOTIFICATIONS_ENABLE}),(0,r.jsx)(s.j7,{className:u?fe().marginBottom20:fe().marginBottom40,value:!o,note:x.Z.Messages.USER_SETTINGS_NOTIFICATIONS_SHOW_BADGE_BODY,onChange:this.handleToggleShowUnreadBadge,children:x.Z.Messages.USER_SETTINGS_NOTIFICATIONS_SHOW_BADGE_LABEL}),u?(0,r.jsx)(s.j7,{className:fe().marginBottom40,value:i,
note:x.Z.Messages.USER_SETTINGS_NOTIFICATIONS_SHOW_FLASH_BODY,onChange:this.handleToggleShowFlash,children:x.Z.Messages.USER_SETTINGS_NOTIFICATIONS_SHOW_FLASH_LABEL}):null,(0,r.jsxs)(s.xJ,{title:x.Z.Messages.FORM_LABEL_PUSH_AFK_TIMEOUT,children:[(0,r.jsx)(s.q4,{value:n,onChange:si.CM.updateSetting,options:f}),(0,r.jsx)(s.R9,{type:s.ge.DESCRIPTION,className:fe().marginTop8,children:x.Z.Messages.FORM_DESCRIPTION_PUSH_AFK_TIMEOUT}),(0,r.jsx)(s.$i,{className:O()(fe().marginTop40,fe().marginBottom40)})]}),this.renderTTS(),(0,r.jsx)(s.$i,{className:O()(fe().marginTop40,fe().marginBottom40)}),(0,r.jsx)(s.xJ,{children:(0,r.jsx)(X_,{disabledSounds:a,disableAllSounds:l,notifyMessagesInSelectedChannel:c})}),(0,r.jsx)(U_,{})]})};return n}(o.PureComponent);function $_(){var e=(0,E.cj)([b_.Z],(function(){return{disableUnreadBadge:b_.Z.getDisableUnreadBadge(),taskbarFlash:b_.Z.taskbarFlash,disabledSounds:b_.Z.getDisabledSounds(),disableAllSounds:b_.Z.getDisableAllSounds(),
desktopType:b_.Z.getDesktopType(),ttsType:b_.Z.getTTSType(),notifyMessagesInSelectedChannel:b_.Z.getNotifyMessagesInSelectedChannel()}}));return(0,r.jsx)(Q_,F_(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){H_(e,t,n[t])}))}return e}({},e),{afkTimeout:si.CM.useSetting()}))}var J_=n(472631),eI=n(980430),tI=n(300327),nI=n(115375),rI=n(780663),oI=n.n(rI);function iI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aI(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function sI(e){sI=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return sI(e)}function lI(e){
for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){aI(e,t,n[t])}))}return e}function cI(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function uI(e,t){return!t||"object"!==dI(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function fI(e,t){
fI=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return fI(e,t)}var dI=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function pI(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=sI(e);if(t){var o=sI(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return uI(this,n)}}function hI(){var e=tI.Z.getNotificationPositionMode(),t=e!==G._vf.DISABLED,n=k.Z.getOverlayKeybind(),r=k.Z.getOverlayChatKeybind();Br.default.track(G.rMx.OVERLAY_SETTINGS_UPDATED,{enabled:Xl.Z.enabled,notifications_enabled:t,notifications_position:t?e:null,text_notifications_mode:tI.Z.getTextChatNotificationMode(),hotkey:null!=n?(0,Uv.BB)(n.shortcut):null,text_activation_hotkey:null!=r?(0,
Uv.BB)(r.shortcut):null,text_opacity_slider:tI.Z.getTextWidgetOpacity()})}var EI=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&fI(e,t)}(n,e);var t=pI(n);function n(){iI(this,n);var e;(e=t.apply(this,arguments)).handleChangeEnabled=function(e){J_.Z.setEnabled(e);hI();Br.default.track(G.rMx.OVERLAY_TOGGLED,{enabled:e,setting_type:"overlay toggled - global"})};e.handleChangeDisplayNameMode=function(e){var t=e.value;J_.Z.setDisplayNameMode(t)};e.handleChangeAvatarSizeMode=function(e){var t=e.value;J_.Z.setAvatarSizeMode(t)};e.handleChangeDisplayUserMode=function(e){var t=e.value;J_.Z.setDisplayUserMode(t)};e.handleChangeTextNotificationMode=function(){var t=G.Ypu.ENABLED,n=G.Ypu.DISABLED,r=e.props.textChatNotificationMode===t?n:t;J_.Z.setTextChatNotificationMode(r);hI()}
;e.handleChangeNotificationPositionMode=function(e,t){J_.Z.setNotificationPositionMode(t);hI()};e.handleInputLockShortcutChange=function(t){D.Z.setKeybind(cI(lI({},e.props.inputLockKeybind),{shortcut:t}));hI()};return e}var i=n.prototype;i.renderExplanation=function(){return null};i.renderOverlayToggle=function(){var e=this.props,t=e.enabled,n=e.inputLockKeybind,o=(0,eI.$1)();return(0,r.jsxs)(ae.Z,{className:fe().marginBottom20,children:[(0,r.jsx)(ae.Z.Child,{basis:"50%",children:(0,r.jsxs)(s.xJ,{children:[(0,r.jsx)(s.vw,{tag:s.RB.H5,children:x.Z.Messages.SETTINGS_GAMES_ENABLE_OVERLAY_LABEL}),(0,r.jsx)(s.j7,{className:fe().marginBottom20,style:{marginTop:16},value:t,disabled:o,note:o?x.Z.Messages.OVERLAY_DISABLED_OLD_CLIENT:null,hideBorder:!0,onChange:this.handleChangeEnabled,children:x.Z.Messages.ENABLE_INGAME_OVERLAY})]})}),(0,r.jsx)(ae.Z.Child,{basis:"50%",children:(0,r.jsx)(s.xJ,{title:x.Z.Messages.KEYBIND_TOGGLE_OVERLAY_INPUT_LOCK,children:(0,r.jsx)(U.Z,{disabled:!t,
defaultValue:null!=n?n.shortcut:[],onChange:this.handleInputLockShortcutChange})})})]})};i.renderAvatarSize=function(){return(0,r.jsx)(ae.Z,{className:fe().marginBottom20,children:(0,r.jsx)(ae.Z.Child,{children:(0,r.jsx)(s.xJ,{title:x.Z.Messages.FORM_LABEL_AVATAR_SIZE,children:(0,r.jsx)(s.Ee,{options:[{name:x.Z.Messages.AVATAR_SIZE_OPTION_LARGE,value:G.ipw.LARGE},{name:x.Z.Messages.AVATAR_SIZE_OPTION_SMALL,value:G.ipw.SMALL}],onChange:this.handleChangeAvatarSizeMode,value:this.props.avatarSizeMode})})})})};i.renderDisplayNames=function(){return(0,r.jsx)(ae.Z,{className:fe().marginBottom20,children:(0,r.jsx)(ae.Z.Child,{children:(0,r.jsx)(s.xJ,{title:x.Z.Messages.FORM_LABEL_DISPLAY_NAMES,children:(0,r.jsx)(s.Ee,{options:[{name:x.Z.Messages.DISPLAY_OPTION_ALWAYS,value:G.wC$.ALWAYS},{name:x.Z.Messages.DISPLAY_OPTION_ONLY_WHILE_SPEAKING,value:G.wC$.ONLY_WHILE_SPEAKING},{name:x.Z.Messages.DISPLAY_OPTION_NEVER,value:G.wC$.NEVER}],onChange:this.handleChangeDisplayNameMode,
value:this.props.displayNameMode})})})})};i.renderDisplayUsers=function(){return(0,r.jsx)(ae.Z,{className:fe().marginBottom20,children:(0,r.jsx)(ae.Z.Child,{children:(0,r.jsx)(s.xJ,{title:x.Z.Messages.FORM_LABEL_DISPLAY_USERS,children:(0,r.jsx)(s.Ee,{options:[{name:x.Z.Messages.DISPLAY_OPTION_ALWAYS,value:G.OYC.ALWAYS},{name:x.Z.Messages.DISPLAY_OPTION_ONLY_WHILE_SPEAKING,value:G.OYC.ONLY_WHILE_SPEAKING}],onChange:this.handleChangeDisplayUserMode,value:this.props.displayUserMode})})})})};i.renderTextNotificationMode=function(){var e=this.props.notificationPositionMode!==G._vf.DISABLED,t=e&&this.props.textChatNotificationMode===G.Ypu.ENABLED;return(0,r.jsx)(ae.Z,{className:fe().marginBottom20,children:(0,r.jsx)(ae.Z.Child,{children:(0,r.jsx)(s.xJ,{children:(0,r.jsx)(s.j7,{value:t,disabled:!e,onChange:this.handleChangeTextNotificationMode,hideBorder:!0,children:x.Z.Messages.FORM_LABEL_OVERLAY_TEXT_CHAT_NOTIFICATIONS})})})})};i.renderNotificationPosition=function(){return(0,r.jsx)(ae.Z,{
className:fe().marginBottom20,children:(0,r.jsx)(ae.Z.Child,{children:(0,r.jsx)(s.xJ,{title:x.Z.Messages.FORM_LABEL_NOTIFICATION_POSITION,children:(0,r.jsx)("div",{className:oI().notificationSettings,children:(0,r.jsx)(nI.Z,{position:this.props.notificationPositionMode,onChange:this.handleChangeNotificationPositionMode})})})})})};i.render=function(){return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsxs)(s.hj,{tag:s.RB.H1,title:x.Z.Messages.OVERLAY,children:[this.renderExplanation(),this.renderOverlayToggle(),this.renderAvatarSize(),this.renderDisplayNames(),this.renderDisplayUsers()]}),(0,r.jsxs)(s.hj,{tag:s.RB.H1,title:x.Z.Messages.OVERLAY_NOTIFICATIONS_SETTINGS,className:fe().marginTop40,children:[this.renderNotificationPosition(),this.renderTextNotificationMode()]})]})};return n}(o.PureComponent);const yI=E.ZP.connectStores([Xl.Z,tI.Z,k.Z],(function(){return{enabled:Xl.Z.enabled,avatarSizeMode:tI.Z.getAvatarSizeMode(),displayNameMode:tI.Z.getDisplayNameMode(),
displayUserMode:tI.Z.getDisplayUserMode(),notificationPositionMode:tI.Z.getNotificationPositionMode(),textChatNotificationMode:tI.Z.getTextChatNotificationMode(),inputLockKeybind:k.Z.getOverlayKeybind()}}))(EI);var mI=n(330243),bI=n(514130),gI=n(35220),OI=n(510174),vI=n(814071),_I=n(75141),II=n(329915),SI=n(462023),TI=n(387070),NI=n.n(TI);function CI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AI(e){AI=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return AI(e)}function PI(e,t){return!t||"object"!==xI(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function jI(e,t){jI=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return jI(e,t)}var xI=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function RI(e){var t=function(){
if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=AI(e);if(t){var o=AI(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return PI(this,n)}}const MI=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&jI(e,t)}(n,e);var t=RI(n);function n(){CI(this,n);return t.apply(this,arguments)}var o=n.prototype;o.renderIcon=function(e){return e===G.Eu4.NONE?(0,r.jsx)(SI.Z,{tier:G.Eu4.TIER_1,className:NI().gemWithoutLabel}):(0,r.jsx)(SI.Z,{tier:e,className:NI().gemWithLabel})};o.render=function(){var e=this.props,t=e.className,n=e.guildId,o=e.subscriberCount,i=(0,
_I.rF)(o,n),a=(0,_I.Fd)(o,n),s=null!=a?(0,_I.vn)(n)[a]:null,l=null!=s&&s>0?o/s*100:100;return(0,r.jsx)(II.Z,{background:NI().progressBackground,percent:l,strokeSize:II.Z.StrokeSizes.SMALL,className:O()(NI().gemIndicatorProgressCircle,t),children:(0,r.jsxs)("div",{className:NI().gemIndicatorContainer,children:[this.renderIcon(i),(0,r.jsx)("div",{className:NI().tierLabel,children:(0,_I.nW)(i)})]})})};return n}(o.Component);var wI=n(106027),ZI=n(346529);function LI(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function DI(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){LI(i,r,o,a,s,"next",e)}function s(e){LI(i,r,o,a,s,"throw",e)}a(void 0)}))}}function UI(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function kI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){UI(e,t,n[t])}))}return e}function GI(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var BI=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){
if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function HI(e){var t=e.guildBoostSlot,o=e.onClose,i=e.hasCancelableGuildBoostSlot,a=e.premiumSubscription,s=e.onSelect,l=a.status===G.O0b.PAST_DUE;return(0,r.jsxs)(Ku.ZP,{onSelect:s,navId:"subscription-context",
variant:"fixed","aria-label":x.Z.Messages.GENERIC_ACTIONS_MENU_LABEL,onClose:o,children:[(0,r.jsx)(Ku.sN,{id:"apply",label:null!=t.premiumGuildSubscription?x.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_TRANSFER_BUTTON:x.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_SELECT_SERVER_BUTTON,subtext:t.isOnCooldown()?x.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_TRANSFER_BUTTON_DISABLED_TOOLTIP:null,action:function(){(0,je.ZD)(DI((function(){var e,o;return BI(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(66444),n.e(45262),n.e(38197)]).then(n.bind(n,938197))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,GI(kI({},e),{guildBoostSlots:[t],locationSection:G.jXE.SETTINGS_PREMIUM}))}]}}))})))},disabled:t.isOnCooldown()}),t.canceled?(0,r.jsx)(Ku.sN,{id:"uncancel",label:x.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_SLOT_UNCANCEL_BUTTON,subtext:l?x.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_CANCEL_BUTTON_DISABLED_PAST_DUE_TOOLTIP:null,action:function(){(0,je.ZD)(DI((function(){
var e,o;return BI(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(69572)]).then(n.bind(n,669572))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,GI(kI({},e),{guildBoostSlotId:t.id}))}]}}))})))},disabled:l}):(0,r.jsx)(Ku.sN,{id:"cancel",label:x.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_SLOT_CANCEL_BUTTON,subtext:i?l?x.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_CANCEL_BUTTON_DISABLED_PAST_DUE_TOOLTIP:null:x.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_CANCEL_BUTTON_DISABLED_TOOLTIP,action:function(){(0,je.ZD)(DI((function(){var e,o;return BI(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(66444),n.e(41661)]).then(n.bind(n,841661))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,GI(kI({},e),{guildBoostSlot:t}))}]}}))})))},disabled:!i||l,color:"danger"})]})}var VI=n(559933),FI=n(193655),YI=n.n(FI);function zI(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0
}):e[t]=n;return e}function WI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){zI(e,t,n[t])}))}return e}function KI(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var qI="0";function XI(e){var t=e.deadline,n=(0,gI.Z)(t,1e3),o=n.days,i=n.hours,a=n.minutes;return(0,r.jsx)(r.Fragment,{children:x.Z.Messages.PREMIUM_GUILD_COOLDOWN_AVAILABLE_COUNTDOWN.format({
days:o,hours:i,minutes:a})})}function QI(e){var t=e.guild,n=e.guildBoostSlots,i=e.availableGuildBoostSlots,a=o.useContext(Br.AnalyticsContext),l=(0,h.Z)().analyticsLocations,c=t.premiumSubscriberCount,u=n.sort((function(e,t){return Number(null!=e.premiumGuildSubscription?e.premiumGuildSubscription.id:0)-Number(null!=t.premiumGuildSubscription?t.premiumGuildSubscription.id:0)}))[0];if(null==u)return null;var f=null!=u.premiumGuildSubscription?ZI.Z.extractTimestamp(u.premiumGuildSubscription.id):0,d=(0,_I.xf)(f),p=null!=t.banner?pi.ZP.getGuildBannerURL(t):null;return(0,r.jsxs)("div",{className:YI().guildHeader,children:[(0,r.jsx)("div",{className:YI().guildHeaderBackground,style:{backgroundImage:null!=p?"url(".concat(p,")"):void 0}}),(0,r.jsx)($t.Z,{guild:t,className:YI().guildIcon}),(0,r.jsxs)("div",{className:YI().guildHeaderContent,children:[(0,r.jsx)(s.X6,{variant:"heading-md/semibold",className:YI().guildName,children:t.name}),(0,r.jsx)(s.xv,{variant:"text-xs/normal",
className:YI().guildSubscriptionDuration,children:x.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_DURATION.format({months:d,date:new Date(f)})}),(0,r.jsxs)(s.xv,{variant:"text-xs/normal",className:YI().guildSubscriberCount,children:[(0,r.jsx)(wI.Z,{className:YI().guildSubscriberCountIcon}),(0,r.jsx)("div",{children:x.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_SUBSCRIBER_COUNT_TOOLTIP.format({subscriberCount:n.length})}),0!==i.length?(0,r.jsx)(s.ee,{onClick:function(){if(0!==i.length){var e=KI(WI({},a.location),{section:G.jXE.SETTINGS_PREMIUM});(0,VI.u)({analyticsLocations:l,analyticsLocation:e,guild:t})}},className:YI().guildSubscribeButton,children:x.Z.Messages.PREMIUM_GUILD_PERKS_MODAL_BUTTON_SUBSCRIBE_THIS_SERVER}):null]})]}),(0,r.jsx)("div",{className:YI().guildGemIndicatorContainer,children:(0,r.jsx)(s.P3,{onClick:function(){(0,OI.X)(t.id);(0,Se.xf)()},children:(0,r.jsx)(MI,{className:YI().gemIndicator,subscriberCount:c,guildId:t.id})})})]})}function $I(e){
var t=e.guildBoostSlot,n=e.premiumSubscription,o=e.hasCancelableGuildBoostSlot,i=null!=t.cooldownEndsAt?new Date(t.cooldownEndsAt):null,a=null!=i&&i>new Date,l=null!=t.premiumGuildSubscription?new Date(ZI.Z.extractTimestamp(t.premiumGuildSubscription.id)):null,c=t.canceled,u=c?$l.Z:wI.Z;return(0,r.jsxs)("div",{className:YI().guildSubscriptionSlot,children:[(0,r.jsx)(u,{className:O()(YI().guildSubscriptionSlotIcon,zI({},YI().guildSubscriptionSlotIconCanceled,c))}),(0,r.jsxs)("div",{className:YI().guildSubscriptionSlotContent,children:[(0,r.jsx)(s.xv,{variant:"text-sm/normal",className:YI().guildSubscriptionCreationDate,children:null!=l?x.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_CREATION_DATE.format({date:l}):x.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_UNUSED_SLOT_DESCRIPTION}),(0,r.jsxs)(s.xv,{variant:"text-xs/normal",color:"text-muted",children:[a&&null!=i?(0,r.jsx)(XI,{deadline:i.getTime()}):null,a&&c?" • ":null,c?x.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_PENDING_CANCELATION.format({
date:n.currentPeriodEnd}):null]})]}),(0,r.jsx)(Ya.ZP,{renderPopout:function(e){var i=e.closePopout;return(0,r.jsx)(HI,{onClose:i,guildBoostSlot:t,premiumSubscription:n,hasCancelableGuildBoostSlot:o})},position:Ya.ZP.Positions.RIGHT,align:Ya.ZP.Align.CENTER,children:function(e){return(0,r.jsx)(s.P3,KI(WI({},e),{"aria-label":x.Z.Messages.MORE_OPTIONS,className:YI().guildSubscriptionSlotMenuIcon,children:(0,r.jsx)(Xu.Z,{})}))}})]})}function JI(e){var t=e.guildId,n=e.guildBoostSlots,o=e.premiumSubscription,i=e.availableGuildBoostSlots,a=e.hasCancelableGuildBoostSlot,s=(0,E.e7)([un.Z],(function(){return t!==qI?un.Z.getGuild(t):null}));return null==s&&t!==qI?null:(0,r.jsxs)("div",{className:YI().guild,children:[null!=s?(0,r.jsx)(QI,{guild:s,guildBoostSlots:n,availableGuildBoostSlots:i}):null,(0,r.jsx)("div",{className:YI().guildSubscriptionSlots,children:n.map((function(e){return(0,r.jsx)($I,{guildBoostSlot:e,premiumSubscription:o,hasCancelableGuildBoostSlot:a},e.id)}))})]})}function eS(){
var e=(0,E.e7)([Zt.Z],(function(){return Zt.Z.getPremiumTypeSubscription()})),t=(0,E.e7)([vI.Z],(function(){return vI.Z.boostSlots})),n=_e()(t).filter((function(e){return e.isAvailable()})).value(),o=_e()(t).groupBy((function(e){var t=e.premiumGuildSubscription;return null!=t?t.guildId:qI})).value(),i=o[0],a=Object.keys(o).filter((function(e){return e!==qI}));if(0===a.length&&null==i||null==e)return null;var l=_e()(t).filter((function(e){return!e.canceled})).value().length>Hr.ZP.getNumIncludedPremiumGuildSubscriptionSlots(e.planId);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.xv,{variant:"text-sm/normal",className:YI().blurb,children:x.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_SUBTITLE.format({helpdeskArticle:sa.Z.getArticleURL(G.BhN.GUILD_SUBSCRIPTIONS)})}),null!=i?(0,r.jsx)(JI,{guildId:qI,guildBoostSlots:i,premiumSubscription:e,availableGuildBoostSlots:n,hasCancelableGuildBoostSlot:l}):null,a.length>0?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.X6,{
variant:"heading-deprecated-12/semibold",className:YI().subSectionHeader,children:x.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_ACTIVE_TITLE}),a.map((function(t){return(0,r.jsx)(JI,{guildId:t,guildBoostSlots:o[t],premiumSubscription:e,availableGuildBoostSlots:n,hasCancelableGuildBoostSlot:l},t)}))]}):null]})}var tS=n(784864),nS=n.n(tS);function rS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oS(e){oS=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return oS(e)}function iS(e,t){return!t||"object"!==sS(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function aS(e,t){aS=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return aS(e,t)}var sS=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function lS(e){var t=function(){
if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=oS(e);if(t){var o=oS(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return iS(this,n)}}const cS=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&aS(e,t)}(n,e);var t=lS(n);function n(){rS(this,n);var e;(e=t.apply(this,arguments)).renderFeature=function(t,n){return(0,r.jsxs)("div",{className:nS().feature,children:[e.renderIcon(t),(0,r.jsxs)("div",{children:[null!=t.title?(0,r.jsx)("div",{className:nS().title,children:t.title}):null,(0,r.jsx)("div",{
className:null==t.title?nS().descriptionStandalone:nS().description,children:t.description})]})]},n)};return e}var o=n.prototype;o.renderIcon=function(e){if(null!=e.overrideIcon)return e.overrideIcon(nS().icon);if(null!=e.icon&&null!=e.iconClass){var t=e.icon;return(0,r.jsx)(t,{className:O()(nS().icon,e.iconClass)})}throw new Error("Missing overrideIcon or iconName and iconClass")};o.render=function(){return(0,r.jsx)("div",{className:nS().features,style:{gridTemplateColumns:Array(this.props.columns).fill("1fr").join(" ")},children:this.props.features.map(this.renderFeature)})};return n}(o.Component);var uS=n(897108),fS=n(424210),dS=n(485814),pS=n(449223),hS=n(943327),ES=n(415397);function yS(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function mS(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e)
;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function bS(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function gS(e){var t=e.width,n=void 0===t?24:t,o=e.height,i=void 0===o?24:o,a=e.color,s=void 0===a?"currentColor":a,l=bS(e,["width","height","color"]);return(0,r.jsxs)("svg",mS(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){yS(e,t,n[t])}))}return e}({width:n,height:i},(0,Ch.Z)(l)),{viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{d:"M13.8003 3.59643V7.86267C13.8003 9.15683 14.8448 10.2011 16.1393 10.2011H20.4067C20.9334 10.2011 21.2012 9.56739 20.8263 9.19253L14.8091 3.17694C14.4341 2.80208 13.8003 3.06092 13.8003 3.59643Z",fill:s}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",
d:"M11.9727 7.88073C11.9727 10.1692 13.8304 12.0269 16.1189 12.0269H20.9471V19.2064C20.9471 20.1936 20.1394 21.0013 19.1523 21.0013H4.79318C3.80599 21.0013 2.99829 20.1936 2.99829 19.2064V4.84737C2.99829 3.86019 3.80599 3.05249 4.79318 3.05249H11.9727V7.88073ZM13.8 14C13.8 14.9941 12.9941 15.8 12 15.8C11.0059 15.8 10.2 14.9941 10.2 14H9C9 15.6569 10.3431 17 12 17C13.6569 17 15 15.6569 15 14H13.8ZM7 15C7 15.5523 6.55228 16 6 16C5.44772 16 5 15.5523 5 15C5 14.4477 5.44772 14 6 14C6.55228 14 7 14.4477 7 15ZM18 16C18.5523 16 19 15.5523 19 15C19 14.4477 18.5523 14 18 14C17.4477 14 17 14.4477 17 15C17 15.5523 17.4477 16 18 16Z",fill:s})]}))}var OS=n(151843),vS=n(735614),_S=n(156661),IS=n.n(_S);function SS(e){var t=e.guild;return(0,r.jsx)(s.P3,{onClick:function(){(0,OI.X)(t.id,{state:{shouldShowSubscribeTooltip:!0}});(0,Se.xf)()},className:IS().cardWrapper,children:(0,r.jsxs)(uS.Z,{className:IS().card,children:[(0,r.jsx)($t.Z,{guild:t,size:$t.Z.Sizes.LARGE,"aria-hidden":!0}),(0,
r.jsxs)("div",{className:IS().guildInfo,children:[(0,r.jsx)(s.xv,{variant:"text-md/normal",className:IS().guildName,children:t.name}),(0,r.jsxs)("div",{className:IS().subscriptionInfo,children:[(0,r.jsx)(wI.Z,{className:IS().guildBoostingIcon}),(0,r.jsx)(s.xv,{className:IS().subscriberCount,variant:"text-sm/normal",children:x.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_SUBSCRIBER_COUNT_TOOLTIP.format({subscriberCount:t.premiumSubscriberCount})})]})]}),(0,r.jsx)(MI,{guildId:t.id,subscriberCount:t.premiumSubscriberCount})]})})}function TS(){var e=(0,E.e7)([Ms.Z],(function(){return Ms.Z.getFlattenedGuilds()})).slice(0,G.MsY),t=(0,Zn.V)();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:IS().divider}),(0,r.jsxs)("div",{className:IS().marketingLogo,children:[(0,r.jsx)(dS.Z,{className:IS().marketingLogoIcon}),(0,r.jsx)("div",{className:IS().marketingLogoImage})]}),(0,r.jsx)(s.xv,{tag:"p",className:IS().marketingHeader,variant:"heading-lg/semibold",
children:x.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_MARKETING_HEADER}),(0,r.jsx)(s.xv,{variant:"text-md/normal",children:x.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_MARKETING_BLURB}),(0,r.jsx)(s.X6,{className:IS().featureHeaderTop,variant:"heading-lg/semibold",color:"header-secondary",children:x.Z.Messages.PREMIUM_GUILD_USER_FEATURES_HEADER}),(0,r.jsx)(cS,{features:[{description:x.Z.Messages.PREMIUM_GUILD_USER_FEATURE_MEMBER_BADGE,icon:wI.Z,iconClass:IS().memberBadgeIcon},{description:x.Z.Messages.PREMIUM_GUILD_USER_FEATURE_PROFILE_BADGE,overrideIcon:function(e){return(0,r.jsx)("div",{className:O()(e,IS().profileBadgeIcon)})}},{description:x.Z.Messages.PREMIUM_GUILD_USER_FEATURE_ROLE,icon:hS.Z,iconClass:IS().roleIcon}],columns:3}),(0,r.jsx)(s.X6,{className:IS().featureHeader,variant:"heading-lg/semibold",color:"header-secondary",children:x.Z.Messages.PREMIUM_GUILD_GUILD_FEATURES_HEADER}),(0,r.jsx)(cS,{features:[{description:x.Z.Messages.PREMIUM_GUILD_GUILD_FEATURE_EMOJI,icon:fS.Z,
iconClass:IS().emojiIcon},{description:x.Z.Messages.PREMIUM_GUILD_GUILD_FEATURE_STICKERS,icon:gS,iconClass:IS().stickerIcon},{description:x.Z.Messages.PREMIUM_GUILD_GUILD_FEATURE_AUDIO_QUALITY,icon:pS.Z,iconClass:IS().audioQualityIcon},{description:x.Z.Messages.PREMIUM_GUILD_GUILD_FEATURE_UPLOAD_SIZE,icon:vS.Z,iconClass:IS().uploadSizeIcon},{description:x.Z.Messages.PREMIUM_GUILD_GUILD_FEATURE_CUSTOMIZATION,icon:ES.Z,iconClass:IS().customizationIcon},{description:x.Z.Messages.PREMIUM_GUILD_GUILD_FEATURE_THREADS,icon:OS.Z,iconClass:IS().threadIcon}].filter(Ue.lm),columns:3}),(0,r.jsx)(s.xv,{className:IS().guildFullFeatures,variant:"text-md/normal",children:x.Z.Messages.PREMIUM_GUILD_FULL_FEATURE_LIST.format({helpdeskArticle:sa.Z.getArticleURL(G.BhN.GUILD_SUBSCRIPTIONS)})}),(0,r.jsxs)("section",{className:IS().guildsSection,children:[t?(0,r.jsx)(bI.Z,{className:IS().guildSubscriptionHeading}):null,null==e||0===e.length?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{
className:IS().emptyGuilds}),(0,r.jsx)(s.xv,{variant:"text-lg/bold",className:IS().emptyGuildsTitle,children:x.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_MARKETING_GUILDS_EMPTY_DESCRIPTION_TITLE}),(0,r.jsx)(s.xv,{variant:"text-md/normal",className:IS().emptyGuildsText,children:x.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_MARKETING_GUILDS_EMPTY_DESCRIPTION_TEXT})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.xv,{variant:"text-md/normal",className:IS().guildsBlurb,children:x.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_MARKETING_GUILDS_BLURB}),(0,r.jsx)("div",{className:IS().guilds,children:e.map((function(e){return(0,r.jsx)(SS,{guild:e},e.id)}))})]})]}),(0,r.jsx)(mI.Z,{onOpenPremiumClick:function(){Br.default.track(G.rMx.PREMIUM_PROMOTION_OPENED,{location:{page:G.ZY5.USER_SETTINGS,section:G.jXE.NITRO_CROSS_PROMO_FROM_BOOSTING,object:G.qAy.BUTTON_CTA}})}})]})}function NS(){o.useEffect((function(){l.Z.wait((function(){Pt.jg();Pt.tZ();(0,jt.X8)();(0,Rt.Y2)(null,null,G.JjL.DISCOVERY)}))}),[]);var e=(0,
E.e7)([Zt.Z],(function(){return Zt.Z.hasFetchedSubscriptions()})),t=(0,Zn.V)(),n=(0,E.e7)([Qt.Z],(function(){return Qt.Z.hasFetchedPaymentSources})),i=(0,E.e7)([vI.Z],(function(){return vI.Z.boostSlots}));return e&&t&&n?(0,r.jsxs)("div",{className:IS().container,children:[(0,r.jsx)("div",{className:IS().background}),(0,r.jsx)("div",{className:IS().content,children:(0,r.jsx)(s.y5,{component:Object.keys(i).length>0?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.vw,{tag:"h1",children:x.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_TITLE}),(0,r.jsx)(GE.oQ,{}),(0,r.jsx)(eS,{})]}):null,children:(0,r.jsx)(TS,{})})})]}):(0,r.jsx)("div",{className:O()(IS().container,IS().loading),children:(0,r.jsx)(s.$j,{})})}var CS=n(992497),AS=n(437454),PS=n(405728),jS=n(681888),xS=n(692410),RS=n(710063),MS=n(584397),wS=n.n(MS);function ZS(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function LS(e){
LS=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return LS(e)}function DS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ZS(e,t,n[t])}))}return e}function US(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function kS(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{}
;var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function GS(e,t){return!t||"object"!==HS(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function BS(e,t){BS=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return BS(e,t)}var HS=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function VS(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=LS(e);if(t){
var o=LS(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return GS(this,n)}}function FS(e){var t=e.body,n=kS(e,["body"]);(0,je.h7)((function(e){return(0,r.jsx)(Jl.default,US(DS({},e,n),{children:(0,r.jsx)(s.xv,{variant:"text-md/normal",children:t})}))}))}function YS(e){var t=e.message;FS({header:x.Z.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_FAILURE_TITLE,confirmText:x.Z.Messages.OKAY,body:t})}var zS=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&BS(e,t)}(n,e);var t=VS(n);function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r;(r=t.call(this,e)).handleChangeDefaultGuildsRestricted=function(e){r.setState({defaultGuildsRestricted:!e},(function(){return r.showGuildRestrictionModal(!e)}))}
;r.handleChangeDropsOptedOut=function(){r.props.personalization&&si.bh.updateSetting(!r.props.dropsOptedOut)};r.handleChangeDefaultMessageRequestRestricted=function(e){r.setState({defaultMessageRequestRestricted:!e},(function(){return r.showMessageRequestRestrictionModal(!e)}))};r.handleUsageStatisticsChange=function(){!r.props.usageStatistics?(0,AS.g)([G.pjP.USAGE_STATISTICS],[]).catch(YS):FS({header:x.Z.Messages.USAGE_STATISTICS_DISABLE_MODAL_TITLE,body:x.Z.Messages.USAGE_STATISTICS_DISABLE_MODAL_BODY,confirmText:x.Z.Messages.USAGE_STATISTICS_DISABLE_MODAL_CONFIRM,cancelText:x.Z.Messages.USAGE_STATISTICS_DISABLE_MODAL_CANCEL,onConfirm:function(){return(0,AS.g)([],[G.pjP.USAGE_STATISTICS]).catch(YS)}})};r.handlePersonalizationChange=function(){!r.props.personalization?(0,AS.g)([G.pjP.PERSONALIZATION],[]).catch(YS):FS({header:x.Z.Messages.PERSONALIZATION_DISABLE_MODAL_TITLE,confirmText:x.Z.Messages.PERSONALIZATION_DISABLE_MODAL_CONFIRM,
cancelText:x.Z.Messages.PERSONALIZATION_DISABLE_MODAL_CANCEL,onConfirm:function(){(0,AS.g)([],[G.pjP.PERSONALIZATION]).catch(YS);si.bh.updateSetting(!0)},body:x.Z.Messages.PERSONALIZATION_DISABLE_MODAL_BODY})};r.handleAccessibilityDetectionChange=function(){si.dQ.updateSetting(!r.props.allowAccessibilityDetection)};r.handleDataDownloadRequest=function(){FS({header:x.Z.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_MODAL_TITLE,body:x.Z.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_MODAL_NOTE,confirmText:x.Z.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_MODAL_CONFIRM,cancelText:x.Z.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_MODAL_CANCEL,onConfirm:function(){r.setState({requestingHarvest:!0},(function(){(0,u.V3)().then((function(e){if(null!=e&&null!=e.body){r.setState({currentHarvestRequest:e.body});CS.Z.show({body:x.Z.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_MODAL_SUCCESS})}else CS.Z.show({title:x.Z.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_FAILURE_TITLE,
body:x.Z.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_FAILURE_BODY})}),(function(){return CS.Z.show({title:x.Z.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_FAILURE_TITLE,body:x.Z.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_FAILURE_BODY})})).finally((function(){return r.setState({requestingHarvest:!1})}))}))}})};var o=e.defaultGuildsRestricted,i=e.defaultMessageRequestRestricted;r.state={defaultGuildsRestricted:o,defaultMessageRequestRestricted:i,currentHarvestRequest:null,requestingHarvest:!0};return r}var i=n.prototype;i.componentDidMount=function(){var e=this;(0,AS.I)();(0,u.ol)().then((function(t){var n={requestingHarvest:!1,currentHarvestRequest:t.body};e.setState(n)}),(function(){e.setState({requestingHarvest:!1})}))};i.componentDidUpdate=function(e){e.defaultGuildsRestricted!==this.props.defaultGuildsRestricted&&this.setState({defaultGuildsRestricted:this.props.defaultGuildsRestricted})};i.showGuildRestrictionModal=function(e){var t=this;FS({
header:x.Z.Messages.USER_DM_SETTINGS_TITLE,body:x.Z.Messages.USER_DM_SETTINGS_DESCRIPTION,confirmText:x.Z.Messages.NO_TEXT,cancelText:x.Z.Messages.YES_TEXT,confirmButtonColor:s.zx.Colors.BRAND,onConfirm:function(){si.iG.updateSetting(e);t.trackDefaultDmsUpdated(e,!1)},onCancel:function(){si.iG.updateSetting(e);si.h2.updateSetting(e?Object.keys(un.Z.getGuilds()):[]);t.trackDefaultDmsUpdated(e,!0)}})};i.trackDefaultDmsUpdated=function(e,t){Br.default.track(G.rMx.GUILD_DEFAULT_DMS_UPDATED,{default_guilds_restricted:e,applied_to_existing_guilds:t})};i.showMessageRequestRestrictionModal=function(e){var t=this;FS({header:x.Z.Messages.MESSAGE_REQUESTS_SETTING_GENERAL_MODAL_HEADER,body:x.Z.Messages.MESSAGE_REQUESTS_SETTING_GENERAL_MODAL_DESCRIPTION,confirmText:x.Z.Messages.NO_TEXT,cancelText:x.Z.Messages.YES_TEXT,confirmButtonColor:s.zx.Colors.BRAND,onConfirm:function(){si.mX.updateSetting(e);t.trackDefaultMessageRequestUpdated(e,!1)},onCancel:function(){si.mX.updateSetting(e)
;si.zA.updateSetting(e?Object.keys(un.Z.getGuilds()):[]);t.trackDefaultMessageRequestUpdated(e,!0)}})};i.trackDefaultMessageRequestUpdated=function(e,t){Br.default.track(G.rMx.GUILD_DEFAULT_MESSAGE_REQUEST_UPDATED,{default_guilds_restricted:e,applied_to_existing_guilds:t})};i.renderDMSafety=function(){var e=this.props.isComsUpdateEnabled;return(0,r.jsx)(s.hj,{className:fe().marginBottom40,children:(0,r.jsxs)(s.xJ,{tag:s.RB.H5,className:fe().marginBottom4,title:x.Z.Messages.USER_EXPLICIT_CONTENT_FILTER,children:[(0,r.jsx)(s.R9,{type:s.ge.DESCRIPTION,className:fe().marginBottom8,children:this.props.isComsUpdateEnabled?x.Z.Messages.USER_EXPLICIT_CONTENT_FILTER_HELP_V2:x.Z.Messages.USER_EXPLICIT_CONTENT_FILTER_HELP}),(0,r.jsx)(s.Ee,{value:this.props.explicitContentFilter,options:(0,RS.w9)(e),onChange:function(e){var t=e.value;return si.UP.updateSetting(t)}})]})})};i.renderServerPrivacy=function(){
var e=this.props,t=e.viewNsfwGuilds,n=e.currentUser,o=e.isStricterMessageRequests,i=e.viewNsfwCommands,a=this.state,l=a.defaultGuildsRestricted,c=a.defaultMessageRequestRestricted,u=!0===n.nsfwAllowed;return(0,r.jsxs)(s.hj,{className:fe().marginBottom40,children:[(0,r.jsx)(s.vw,{tag:s.RB.H5,className:fe().marginBottom8,children:x.Z.Messages.USER_DM_SETTINGS}),(0,r.jsx)(s.j7,{value:!l,note:x.Z.Messages.USER_DM_SETTINGS_HELP,onChange:this.handleChangeDefaultGuildsRestricted,children:x.Z.Messages.NEW_GUILDS_DM_ALLOWED}),(0,r.jsx)(s.j7,{value:!!u&&t,note:x.Z.Messages.NSFW_GUILDS_TOGGLE_CAPTION,disabled:!u,onChange:si.DC.updateSetting,children:x.Z.Messages.NSFW_GUILDS_TOGGLE_HEADER}),!o&&(0,r.jsx)(s.j7,{value:!c,note:x.Z.Messages.MESSAGE_REQUESTS_SETTING_GENERAL_CAPTION.format({helpdeskArticle:sa.Z.getArticleURL(G.BhN.MESSAGE_REQUESTS)}),disabled:l,onChange:this.handleChangeDefaultMessageRequestRestricted,children:x.Z.Messages.MESSAGE_REQUESTS_SETTING_GENERAL_HEADER}),(0,r.jsx)(s.j7,{
value:!!u&&i,note:x.Z.Messages.NSFW_DM_COMMANDS_CAPTION,disabled:!u,onChange:si.xM.updateSetting,children:x.Z.Messages.NSFW_DM_COMMANDS_HEADER})]})};i.renderDataPrivacy=function(){var e=this.props,t=e.usageStatistics,n=e.personalization,o=e.allowAccessibilityDetection,i=e.dropsOptedOut;return(0,r.jsxs)(s.hj,{className:fe().marginBottom40,children:[(0,r.jsx)(s.vw,{tag:s.RB.H5,className:fe().marginBottom8,children:x.Z.Messages.DATA_PRIVACY_CONTROLS}),(0,r.jsx)(s.j7,{value:t,note:x.Z.Messages.DATA_PRIVACY_CONTROLS_USAGE_STATISTICS_NOTE.format({helpdeskArticle:sa.Z.getArticleURL(G.BhN.DATA_PRIVACY_CONTROLS)}),onChange:this.handleUsageStatisticsChange,children:x.Z.Messages.DATA_PRIVACY_CONTROLS_USAGE_STATISTICS_TITLE}),(0,r.jsx)(s.j7,{value:n,note:x.Z.Messages.DATA_PRIVACY_CONTROLS_PERSONALIZATION_NOTE_LEARN_MORE.format({helpdeskArticle:sa.Z.getArticleURL(G.BhN.DATA_PRIVACY_CONTROLS)}),hideBorder:!0,onChange:this.handlePersonalizationChange,
children:x.Z.Messages.DATA_PRIVACY_CONTROLS_PERSONALIZATION_TITLE}),(0,r.jsx)(s.j7,{value:!i&&n,note:(0,r.jsxs)("div",{className:wS().dependentSetting,children:[x.Z.Messages.USER_DROPS_SETTINGS_DROPS_OPTED_OUT_NOTE,i?(0,r.jsx)("div",{className:O()(fe().marginTop8,wS().feedback),children:x.Z.Messages.DROPS_REQUEST_FEEDBACK_OPT_OUT.format({feedbackURL:"https://survey.alchemer.com/s3/7043738/Discord-Drops-Opt-Out-Survey?user_id=".concat(this.props.currentUser.id)})}):null]}),disabled:!n,onChange:this.handleChangeDropsOptedOut,children:(0,r.jsxs)("div",{className:O()(wS().betaTagContainer,wS().dependentSetting),children:[x.Z.Messages.USER_DROPS_SETTINGS_DROPS_OPTED_OUT,(0,r.jsx)(me.Z,{className:wS().betaTagIcon})]})}),(0,r.jsx)(s.j7,{value:o,note:x.Z.Messages.DATA_PRIVACY_CONTROLS_ALLOW_ACCESSIBILITY_DETECTION_NOTE.format({helpdeskArticle:sa.Z.getArticleURL(G.BhN.ACCESSIBILITY_TRACKING)}),onChange:this.handleAccessibilityDetectionChange,
children:x.Z.Messages.DATA_PRIVACY_CONTROLS_ALLOW_ACCESSIBILITY_DETECTION_TITLE}),(0,r.jsx)(s.vw,{tag:s.RB.H3,className:O()(fe().marginTop20,fe().marginBottom8),children:x.Z.Messages.DATA_PRIVACY_CONTROLS_BASIC_SERVICE_TITLE}),(0,r.jsx)(s.R9,{type:s.ge.DESCRIPTION,className:fe().marginBottom20,children:x.Z.Messages.DATA_PRIVACY_CONTROLS_BASIC_SERVICE_NOTE.format({onClick:function(){f.Z.setSection(G.oAB.ACCOUNT)}})}),this.renderHarvestRequest()]})};i.renderHarvestRequest=function(){var e,t=this,n=this.props.currentUser,i=this.state,a=i.requestingHarvest,l=i.currentHarvestRequest,c=(0,Um.$6)(l,n),u=(0,r.jsx)(rn.ZP,{text:n.verified?null:x.Z.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_TOOLTIP,children:function(e){var n=e.onMouseEnter,o=e.onMouseLeave;return(0,r.jsx)(s.zx,{disabled:c,onClick:t.handleDataDownloadRequest,onMouseEnter:n,onMouseLeave:o,look:s.zx.Looks.OUTLINED,color:s.zx.Colors.BRAND,submitting:a,children:x.Z.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_DOWNLOAD})}})
;if(c&&null!=l){e=(0,r.jsx)(s.Zb,{className:wS().card,children:(0,r.jsx)(s.xv,{variant:"text-md/normal",children:x.Z.Messages.DATA_DOWNLOAD_REQUESTED_STATUS_NOTE.format({date:Be()(l.created_at).add(G.eBq,"days").format("MMMM Do YYYY")})})});u=null}null!=u&&(u=(0,r.jsx)(ae.Z,{children:u}));return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(s.$i,{className:fe().marginBottom20}),(0,r.jsx)(s.vw,{tag:s.RB.H3,children:x.Z.Messages.DATA_PRIVACY_CONTROLS_PERSONAL_DATA_TITLE}),(0,r.jsx)(s.R9,{type:s.ge.DESCRIPTION,className:fe().marginBottom20,children:x.Z.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_NOTE.format({helpdeskArticle:sa.Z.getArticleURL(G.BhN.GDPR_REQUEST_DATA)})}),e,u]})};i.renderPrivacyAndTermsNote=function(){return(0,r.jsx)(s.hj,{className:fe().marginBottom40,children:(0,r.jsx)(s.To,{type:s.To.Types.PRIMARY,body:x.Z.Messages.USER_SETTINGS_PRIVACY_TERMS.format({termsLink:G.EYA.TERMS,privacyLink:G.EYA.PRIVACY})})})};i.renderStaffOnlySettings=function(){
var e=this.props,t=e.currentUser,n=e.nonSpamRetrainingOptIn;return t.isStaff()?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.$i,{className:fe().marginBottom20}),(0,r.jsxs)(s.hj,{className:fe().marginBottom40,children:[(0,r.jsx)(s.vw,{tag:s.RB.H5,className:fe().marginBottom8,children:x.Z.Messages.PRIVACY_SETTINGS_STAFF_ONLY_HEADER}),(0,r.jsxs)(s.xJ,{tag:s.RB.H5,className:fe().marginBottom4,children:[(0,r.jsx)(s.R9,{type:s.ge.DESCRIPTION,className:fe().marginBottom8,children:x.Z.Messages.PRIVACY_SETTINGS_STAFF_ONLY_DESC}),(0,r.jsx)(s.Ee,{options:(0,Um.xH)(),value:null==n?Um.g0.UNDECIDED:n?Um.g0.OPTIN:Um.g0.OPTOUT,onChange:function(e){var t=e.value;return si.kJ.updateSetting(Um.ac[t])}})]})]})]}):null};i.render=function(){var e=this.props.fetchedConsents;return(0,r.jsxs)(s.hj,{tag:s.RB.H1,title:x.Z.Messages.PRIVACY_AND_SAFETY,children:[this.renderDMSafety(),this.renderServerPrivacy(),e?this.renderDataPrivacy():null,this.renderPrivacyAndTermsNote(),this.renderStaffOnlySettings()]})}
;return n}(o.PureComponent);function WS(){var e=(0,PS.n)(),t=(0,E.e7)([Vr.default],(function(){var e=Vr.default.getCurrentUser();L()(null!=e,"ConnectedUserSettingsPrivacySafety: currentUser cannot be undefined");return e})),n=(0,E.cj)([xS.Z],(function(){return{fetchedConsents:xS.Z.fetchedConsents,usageStatistics:xS.Z.hasConsented(G.pjP.USAGE_STATISTICS),personalization:xS.Z.hasConsented(G.pjP.PERSONALIZATION)}}));return(0,r.jsx)(zS,DS({currentUser:t,defaultGuildsRestricted:si.iG.useSetting(),defaultMessageRequestRestricted:si.mX.useSetting(),nonSpamRetrainingOptIn:si.kJ.useSetting(),isStricterMessageRequests:(0,jS.Z)(),isComsUpdateEnabled:e,viewNsfwGuilds:si.DC.useSetting(),viewNsfwCommands:si.xM.useSetting(),allowAccessibilityDetection:si.dQ.useSetting(),explicitContentFilter:si.UP.useSetting(),showCurrentGame:si.G6.useSetting(),dropsOptedOut:si.bh.useSetting()},n))}var KS=n(301513);function qS(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}
s.done?t(l):Promise.resolve(l).then(r,o)}function XS(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){qS(i,r,o,a,s,"next",e)}function s(e){qS(i,r,o,a,s,"throw",e)}a(void 0)}))}}function QS(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function $S(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function JS(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o
}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}var eT=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1]
;break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function tT(e,t){var o=e.title,i=e.actionText;return new Promise((function(e){(0,je.ZD)(XS((function(){var a,s;return eT(this,(function(l){switch(l.label){case 0:return[4,Promise.resolve().then(n.bind(n,444133))];case 1:a=l.sent(),s=a.default;return[2,function(n){var a=n.onClose,l=JS(n,["onClose"]);return(0,r.jsx)(s,$S(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){QS(e,t,n[t])}))}return e}({},l),{title:o,actionText:i,handleSubmit:function(e){return t(e)},
onClose:function(t){a();e(t)}}))}]}}))})))}))}function nT(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function rT(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){nT(i,r,o,a,s,"next",e)}function s(e){nT(i,r,o,a,s,"throw",e)}a(void 0)}))}}var oT=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop()
;a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function iT(){return(iT=rT((function(){var e,t;return oT(this,(function(n){switch(n.label){case 0:return[4,$u.Z.get({url:G.ANM.AUTH_SESSIONS})];case 1:(null==(t=n.sent())?void 0:t.ok)&&null!=(null===(e=t.body)||void 0===e?void 0:e.user_sessions)&&l.Z.dispatch({type:"FETCH_AUTH_SESSIONS_SUCCESS",sessions:t.body.user_sessions});return[2,t]}}))}))).apply(this,arguments)}function aT(e){return sT.apply(this,arguments)}function sT(){return(sT=rT((function(e){var t,n,r;return oT(this,(function(o){switch(o.label){case 0:if(Array.isArray(e)){if(0===e.length)return[2]
;t=x.Z.Messages.AUTH_SESSIONS_LOGOUT_MANY_PASSWORD_MODAL_TITLE.format({sessionCount:e.length});n=x.Z.Messages.AUTH_SESSIONS_LOGOUT_MANY_MFA_MODAL_TITLE.format({sessionCount:e.length})}else{t=x.Z.Messages.AUTH_SESSIONS_LOGOUT_PASSWORD_MODAL_TITLE;n=x.Z.Messages.AUTH_SESSIONS_LOGOUT_MFA_MODAL_TITLE;e=[e]}return[4,lT({passwordTitle:t,mfaTitle:n,request:function(t,n){return $u.Z.post({url:G.ANM.AUTH_SESSIONS_LOGOUT,body:{session_id_hashes:e,password:t,code:n}})}})];case 1:(null==(r=o.sent())?void 0:r.ok)&&l.Z.dispatch({type:"LOGOUT_AUTH_SESSIONS_SUCCESS",sessionIdHashes:e});return[2,r]}}))}))).apply(this,arguments)}function lT(e){var t=e.passwordTitle,n=e.mfaTitle,r=e.request;return tT({title:t,actionText:x.Z.Messages.NEXT},(function(e){return(0,KS.Z)((function(t){var n=t.code;return r(e,n)}),{modalProps:{title:n,actionText:x.Z.Messages.NEXT,disallowBackupCodes:!0}})}))}function cT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}
function uT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fT(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function dT(e){dT=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return dT(e)}function pT(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function hT(e,t){return!t||"object"!==mT(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}
function ET(e,t){ET=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return ET(e,t)}function yT(e){return function(e){if(Array.isArray(e))return cT(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return cT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cT(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var mT=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function bT(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1
;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=dT(e);if(t){var o=dT(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return hT(this,n)}}var gT=[];function OT(){gT=[]}var vT=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&ET(e,t)}(n,e);var t=bT(n);function n(){uT(this,n);return t.apply(this,arguments)}var r=n.prototype;r.getSessions=function(){return gT};r.__getLocalVars=function(){return{sessions:gT}};return n}(E.ZP.Store);vT.displayName="AuthSessionsStore";const _T=new vT(l.Z,{LOGOUT:OT,LOGIN_SUCCESS:OT,FETCH_AUTH_SESSIONS_SUCCESS:function(e){var t=e.sessions;gT=t.map((function(e){return pT(function(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){fT(e,t,n[t])}))}return e}({},e),{approx_last_used_time:new Date(e.approx_last_used_time)})}))},LOGOUT_AUTH_SESSIONS_SUCCESS:function(e){var t=e.sessionIdHashes,n=yT(gT),r=!1,o=!0,i=!1,a=void 0;try{for(var s,l=function(){var e=s.value,t=n.findIndex((function(t){return t.id_hash===e}));if(t>=0){n.splice(t,1);r=!0}},c=t[Symbol.iterator]();!(o=(s=c.next()).done);o=!0)l()}catch(e){i=!0;a=e}finally{try{o||null==c.return||c.return()}finally{if(i)throw a}}if(!r)return!1;gT=n}});function IT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ST(e){return function(e){if(Array.isArray(e))return IT(e)}(e)||function(e){
if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return IT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IT(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var TT=n(3776),NT=n(526066),CT=n(811179),AT=n.n(CT);function PT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jT(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){
i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return PT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PT(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xT(){var e,t=(e=(0,E.cj)([_T],(function(){return _T.getSessions()})),o.useMemo((function(){var t=ST(e),n=null,r=PO.default.getAuthSessionIdHash();if(null!=r){var o=t.findIndex((function(e){return e.id_hash===r}));o>=0&&(n=t.splice(o,1)[0])}t.sort((function(e,t){return t.approx_last_used_time.valueOf()-e.approx_last_used_time.valueOf()}));return{currentSession:n,
otherSessions:t}}),[e])),n=t.currentSession,i=t.otherSessions,c=(0,E.e7)([Dr.Z],(function(){return Dr.Z.hidePersonalInformation})),u=(0,E.e7)([Vr.default],(function(){return Vr.default.getCurrentUser()})),f=jT(o.useState(!1),2),d=f[0],p=f[1];o.useEffect((function(){(0,qs.EW)(a.z$.AUTH_SESSIONS_NEW,{dismissAction:Ap.L.AUTO});!function(){iT.apply(this,arguments)}();var e=setTimeout((function(){return p(!0)}),500);return function(){clearTimeout(e);l.Z.dispatch({type:"FETCH_AUTH_SESSIONS_SUCCESS",sessions:[]})}}),[]);var h,y=function(){$u.Z.post({url:G.ANM.AUTH_SESSION_NOTIFICATIONS_DEBUG})};if(c)return(0,r.jsx)(Mt.Z,{});h=null==n&&0===i.length?d?(0,r.jsx)("div",{className:AT().loading,children:(0,r.jsx)(s.$j,{})}):null:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:AT().sessions,children:[(0,r.jsx)(s.hj,{tag:s.RB.H5,title:x.Z.Messages.AUTH_SESSIONS_CURRENT,titleClassName:AT().groupTitle,children:null!=n?(0,r.jsx)(RT,{session:n,current:!0}):null
}),i.length>0||!(null==u?void 0:u.mfaEnabled)?(0,r.jsxs)(s.hj,{tag:s.RB.H5,title:x.Z.Messages.AUTH_SESSIONS_OTHERS,titleClassName:AT().groupTitle,className:AT().otherSessions,children:[i.map((function(e){return(0,r.jsx)(RT,{session:e},e.id_hash)})),(null==u?void 0:u.mfaEnabled)?null:(0,r.jsx)(MT,{})]}):null]}),i.length>0?(0,r.jsxs)(s.hj,{tag:s.RB.H5,title:x.Z.Messages.AUTH_SESSIONS_OTHERS_LOG_OUT_TITLE,children:[(0,r.jsx)(s.R9,{type:s.ge.DESCRIPTION,children:x.Z.Messages.AUTH_SESSIONS_OTHERS_LOG_OUT_DESCRIPTION}),(0,r.jsx)(s.zx,{look:s.zx.Looks.OUTLINED,color:s.zx.Colors.RED,size:s.zx.Sizes.SMALL,className:AT().logOutAllButton,onClick:function(){return aT(i.map((function(e){return e.id_hash})))},children:x.Z.Messages.AUTH_SESSIONS_OTHERS_LOG_OUT_ACTION})]}):null]});return(0,r.jsxs)(s.hj,{tag:s.RB.H1,title:x.Z.Messages.AUTH_SESSIONS,children:[(0,r.jsx)(s.R9,{type:s.ge.DESCRIPTION,className:AT().description,children:x.Z.Messages.AUTH_SESSIONS_DESCRIPTION
}),(null==u?void 0:u.isStaff())?(0,r.jsxs)("div",{className:AT().tools,children:[(0,r.jsx)(s.xv,{className:AT().toolsTitle,variant:"text-md/bold",children:"DEV TOOLS"}),(0,r.jsx)(s.xv,{className:AT().toolsTitle,variant:"text-sm/normal",color:"text-danger",children:"These tools are only shown to staff users."}),(0,r.jsx)(rn.ZP,{text:"Triggers mobile and email suspicious session notifications for the current user",children:function(e){var t=e.onMouseEnter,n=e.onMouseLeave;return(0,r.jsx)(s.zx,{size:s.zx.Sizes.SMALL,color:s.zx.Colors.PRIMARY,onClick:y,onMouseEnter:t,onMouseLeave:n,children:"Trigger Suspicious Sessions Notification"})}})]}):null,h]})}function RT(e){var t,n,o,i,a,l,c=e.session,u=e.current,f=null!==(a=null===(t=c.client_info)||void 0===t?void 0:t.location)&&void 0!==a?a:null===(n=c.client_info)||void 0===n?void 0:n.ip,d=null===(o=c.client_info)||void 0===o?void 0:o.platform,p=function(e){switch(null==e?void 0:e.toLowerCase().trim()){case null:case void 0:case"":return{
text:x.Z.Messages.AUTH_SESSIONS_OS_UNKNOWN,icon:Vm.Z};case"ios":case"android":return{text:e,icon:NT.Z};default:return{text:e,icon:Vm.Z}}}(null===(i=c.client_info)||void 0===i?void 0:i.os),h=p.text,E=p.icon,y=u?null:(l=c.approx_last_used_time,(Date.now()-l.valueOf())/1e3/60/60<1?x.Z.Messages.AUTH_SESSIONS_ACTIVE_RECENTLY:Be()(l).fromNow()),m=[h,d].filter(Ue.lm),b=[f,y].filter(Ue.lm);return(0,r.jsxs)("div",{className:O()(AT().session,u?AT().currentSession:null),children:[(0,r.jsx)("div",{className:AT().sessionIcon,children:(0,r.jsx)(E,{width:"32",height:"32"})}),(0,r.jsxs)("div",{className:AT().sessionInfo,children:[(0,r.jsxs)(s.xv,{variant:"eyebrow",className:AT().sessionInfoRow,children:[(0,r.jsx)("span",{children:m[0]}),m.length>1&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{children:"·"}),(0,r.jsx)("span",{children:m[1]})]})]}),(0,r.jsxs)(s.xv,{variant:"text-sm/medium",className:AT().sessionInfoRow,children:[(0,r.jsx)("span",{children:b[0]}),b.length>1&&(0,r.jsxs)(r.Fragment,{
children:[(0,r.jsx)("span",{children:"·"}),(0,r.jsx)("span",{children:b[1]})]})]})]}),u?null:(0,r.jsx)(s.P3,{className:AT().sessionMoreButton,onClick:function(){return aT(c.id_hash)},"aria-label":x.Z.Messages.AUTH_SESSIONS_SESSION_LOG_OUT,children:(0,r.jsx)(cc.Z,{})})]},c.id_hash)}function MT(){return(0,r.jsxs)("div",{className:O()(AT().session,AT().legacySession),children:[(0,r.jsx)("div",{className:AT().sessionIcon,children:(0,r.jsx)(TT.Z,{width:"32",height:"32"})}),(0,r.jsxs)("div",{className:AT().sessionInfo,children:[(0,r.jsx)(s.xv,{variant:"eyebrow",className:AT().sessionInfoRow,color:"text-muted",children:(0,r.jsx)("span",{children:x.Z.Messages.AUTH_SESSIONS_UNKNOWN_LEGACY})}),(0,r.jsx)(s.xv,{variant:"text-sm/medium",className:AT().sessionInfoRow,color:"text-muted",children:(0,r.jsx)("span",{children:x.Z.Messages.AUTH_SESSIONS_UNKNOWN_LEGACY_LOG_OUT.format({onClick:function(){return f.Z.setSection(G.oAB.ACCOUNT)}})})})]})]})}var wT=n(241490),ZT=n(328451),LT=n.n(ZT)
;function DT(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function UT(){var e=(0,E.cj)([Dr.Z],(function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){DT(e,t,n[t])}))}return e}({},Dr.Z.getSettings())})),t=e.enabled,o=e.autoToggle,i=e.hideInstantInvites,a=e.hidePersonalInformation,l=e.disableSounds,c=e.disableNotifications,u=function(e,t){wT.Z.update(DT({},e,t))};return(0,r.jsxs)(s.hj,{className:LT().container,tag:s.RB.H1,title:x.Z.Messages.STREAMER_MODE,children:[(0,r.jsx)(s.To,{className:fe().marginBottom40,iconClassName:LT().noticeIcon,type:s.Dd.PRIMARY,imageData:{src:n(566300),width:184,height:110,position:s.Sw.RIGHT},
title:x.Z.Messages.USER_SETTINGS_STREAMER_NOTICE_TITLE,body:x.Z.Messages.USER_SETTINGS_STREAMER_NOTICE_BODY.format({streamkitURL:G.EYA.STREAMKIT})}),(0,r.jsx)(s.j7,{value:t,onChange:function(e){return u("enabled",e)},note:x.Z.Messages.ENABLE_STREAMER_MODE_DESCRIPTION.format({onClick:function(){f.Z.setSection(G.oAB.KEYBINDS)}}),children:x.Z.Messages.ENABLE_STREAMER_MODE_LABEL}),function(){if(ec.FB)return(0,r.jsx)(s.j7,{value:o,onChange:function(e){return u("autoToggle",e)},note:x.Z.Messages.AUTO_TOGGLE_STREAMER_MODE_DESCRIPTION,children:x.Z.Messages.AUTO_TOGGLE_STREAMER_MODE_LABEL})}(),(0,r.jsx)(s.vw,{className:O()(fe().marginTop40,fe().marginBottom8),children:x.Z.Messages.OPTIONS}),(0,r.jsx)(s.j7,{value:a,onChange:function(e){return u("hidePersonalInformation",e)},note:x.Z.Messages.HIDE_PERSONAL_INFORMATION_DESCRIPTION,children:x.Z.Messages.HIDE_PERSONAL_INFORMATION_LABEL}),(0,r.jsx)(s.j7,{value:i,onChange:function(e){return u("hideInstantInvites",e)},
note:x.Z.Messages.HIDE_INSTANT_INVITES_DESCRIPTION,children:x.Z.Messages.HIDE_INSTANT_INVITES_LABEL}),(0,r.jsx)(s.j7,{value:l,onChange:function(e){return u("disableSounds",e)},note:x.Z.Messages.DISABLE_SOUNDS_DESCRIPTION,children:x.Z.Messages.DISABLE_SOUNDS_LABEL}),(0,r.jsx)(s.j7,{value:c,onChange:function(e){return u("disableNotifications",e)},note:x.Z.Messages.DISABLE_NOTIFICATIONS_DESCRIPTION,children:x.Z.Messages.DISABLE_NOTIFICATIONS_LABEL})]})}function kT(){var e=si.up.useSetting(),t=si.R$.useSetting(),n=si.cC.useSetting(),o=si.vF.useSetting(),i=si.H1.useSetting(),a=si.ev.useSetting(),l=si.x4.useSetting(),c=si.RS.useSetting(),u=si.NA.useSetting(),f=si.nc.useSetting(),d=(0,h.Z)(rr.Z.TEXT_AND_IMAGES).analyticsLocations;return(0,r.jsxs)(s.hj,{tag:s.RB.H1,title:x.Z.Messages.TEXT_AND_IMAGES,children:[(0,r.jsx)(s.vw,{className:fe().marginBottom8,children:x.Z.Messages.INLINE_MEDIA_LABEL}),(0,r.jsx)(s.j7,{className:O()(fe().marginTop8,fe().marginBottom20),value:c,
onChange:si.RS.updateSetting,children:x.Z.Messages.INLINE_EMBED_MEDIA}),(0,r.jsx)(s.j7,{className:O()(fe().marginTop8,fe().marginBottom20),value:l,note:x.Z.Messages.INLINE_ATTACHMENT_MEDIA_HELP.format({maxSize:10}),onChange:si.x4.updateSetting,children:x.Z.Messages.INLINE_ATTACHMENT_MEDIA}),(0,r.jsx)(s.j7,{className:O()(fe().marginTop8,fe().marginBottom20),value:i,note:x.Z.Messages.IMAGE_DESCRIPTION_HELP,onChange:si.H1.updateSetting,children:x.Z.Messages.USER_SETTINGS_IMAGE_DESCRIPTIONS}),(0,r.jsx)(s.vw,{className:fe().marginBottom8,children:x.Z.Messages.RENDER_EMBEDS_LABEL}),(0,r.jsx)(s.j7,{className:O()(fe().marginTop8,fe().marginBottom40),value:u,onChange:si.NA.updateSetting,children:x.Z.Messages.RENDER_EMBEDS}),(0,r.jsx)(s.vw,{className:fe().marginBottom8,children:x.Z.Messages.EMOJI}),(0,r.jsx)(s.j7,{className:O()(fe().marginTop8,fe().marginBottom20),value:f,onChange:si.nc.updateSetting,children:x.Z.Messages.RENDER_REACTIONS}),(0,r.jsx)(s.j7,{className:fe().marginBottom40,value:a,
note:gO.Z.parse(x.Z.Messages.CONVERT_EMOTICONS_HELP),onChange:si.ev.updateSetting,children:x.Z.Messages.CONVERT_EMOTICONS}),(0,r.jsx)(s.xJ,{className:fe().marginBottom20,title:x.Z.Messages.STICKERS_AUTO_PLAY_HEADING,children:(0,r.jsx)(s.j7,{className:O()(fe().marginTop20,fe().marginBottom20),value:e,note:x.Z.Messages.AUTO_SUGGEST_STICKERS_DESCRIPTION,onChange:function(t){Br.default.track(G.rMx.STICKER_SUGGESTIONS_ENABLED_TOGGLED,{enabled:!e,location:{section:G.jXE.SETTINGS_TEXT_AND_IMAGES},location_stack:d});si.up.updateSetting(!e)},children:x.Z.Messages.AUTO_SUGGEST_STICKERS})}),(0,r.jsxs)(s.hj,{className:fe().marginBottom8,children:[(0,r.jsx)(s.vw,{className:fe().marginBottom8,children:x.Z.Messages.FORM_LABEL_USE_RICH_CHAT_BOX}),(0,r.jsx)(s.j7,{className:fe().marginTop8,value:t,onChange:function(e){Br.default.track(G.rMx.PREVIEW_MARKDOWN_TOGGLED,{enabled:e,location:{section:G.jXE.SETTINGS_TEXT_AND_IMAGES}});si.R$.updateSetting(e)},children:x.Z.Messages.PREVIEW_MARKDOWN_DESCRIPTION})]
}),(0,r.jsxs)(s.hj,{className:fe().marginBottom40,children:[(0,r.jsx)(s.vw,{className:fe().marginBottom8,children:x.Z.Messages.THREADS}),(0,r.jsx)(s.j7,{className:fe().marginTop8,value:o,onChange:si.vF.updateSetting,children:x.Z.Messages.USE_THREADS_SIDEBAR_DESCRIPTION})]}),(0,r.jsxs)(s.xJ,{title:x.Z.Messages.SHOW_SPOILER_CONTENT,children:[(0,r.jsx)(s.R9,{type:s.R9.Types.DESCRIPTION,className:fe().marginBottom8,children:x.Z.Messages.SHOW_SPOILER_CONTENT_HELP}),(0,r.jsx)(s.Ee,{options:[{name:x.Z.Messages.SHOW_SPOILER_ON_CLICK,value:G.A2N.ON_CLICK},{name:x.Z.Messages.SHOW_SPOILER_ON_SERVERS_I_MOD,value:G.A2N.IF_MODERATOR},{name:x.Z.Messages.SHOW_SPOILER_ALWAYS,value:G.A2N.ALWAYS}],onChange:function(e){return si.cC.updateSetting(e.value)},value:n})]})]})}var GT=n(104203),BT=n(337921),HT=n(107182),VT=n.n(HT);function FT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function YT(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,
configurable:!0,writable:!0}):e[t]=n;return e}function zT(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return FT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FT(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var WT=[{label:"Latin alphabet",value:"aBcDeFgHiJkLmNoPqRsTuVwXyZ"},{
label:"Latin pangram",value:"The quick brown fox jumps over the lazy dog"},{label:"Greek alphabet",value:"ΑΒΓΔΕΖΗΘΙΚΛΜΝΞΟΠΡΣΤΥΦΧΨΩΆΈΉΊΌΎΏ"},{label:"Greek pangram",value:"ΤΑΧΊΣΤΗ ΑΛΏΠΗΞ ΒΑΦΉΣ ΨΗΜΈΝΗ ΓΗ, ΔΡΑΣΚΕΛΊΖΕΙ ΥΠΈΡ ΝΩΘΡΟΎ ΚΥΝΌΣ"},{label:"Cyrillic alphabet",value:"АБВГЃҐДЕЀЁЖЗИЙЍКЌЛМНОПРСТУЎФХЧЦШЩЏЬЪЫЉЊЅЄЭІЇЈЋЮЯЂѢѲѴ"},{label:"Cyrillic pangram",value:"В ЧАЩАХ ЮГА ЖИЛ БЫ ЦИТРУС? ДА, НО ФАЛЬШИВЫЙ ЭКЗЕМПЛЯР!"},{label:"Custom",value:"custom"}];function KT(e,t){var n=zT(o.useState((function(){var n=re.Z.get(e);return null!=n?n:t})),2),r=n[0],i=n[1];o.useEffect((function(){re.Z.set(e,r)}),[e,r]);return[r,i]}function qT(){var e=zT(o.useState(Math.round(window.outerWidth/window.innerWidth*100)),2),t=e[0],n=e[1],i=(0,E.cj)([Gu.Z,Te.Z],(function(){return{theme:Gu.Z.theme,platformZoom:Te.Z.zoom}})),a=i.platformZoom,l=i.theme,c=["normal","medium","semibold","bold","extrabold"],u=new Map([["normal",400],["medium",500],["semibold",600],["bold",700],["extrabold",800]]);o.useEffect((function(){
ec.FB||window.addEventListener("resize",(function(){n(Math.round(window.outerWidth/window.innerWidth*100))}))}),[]);var f=ec.FB?a:t,d=(0,E.e7)([BT.C],(function(){var e,t;return(0,Hy.fD)()?null===(e=BT.C.getCurrentBuildOverride())||void 0===e||null===(t=e.overrides)||void 0===t?void 0:t.discord_web:null})),p=zT(KT("playground-overrideText",null),2),h=p[0],y=p[1],m=zT(KT("playground-defaultText",WT[0].value),2),b=m[0],g=m[1],v=o.useCallback((function(e){var t=WT.find((function(t){return t.value===e}));if(""===e||null==e){g(WT[0].value);y(null)}else if(null!=t)g(t.value);else{g("custom");y(e)}}),[y,g]);return(0,r.jsx)("div",{className:VT().fullscreen,children:(0,r.jsxs)(s.hj,{tag:s.RB.H1,children:[(0,r.jsxs)("div",{className:VT().toolbar,children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)(s.xv,{tag:"div",variant:"heading-lg/bold",style:{display:"inline-block"},children:["Zoom: ",f,"%"]}),null!=d?(0,r.jsxs)(s.xv,{tag:"div",variant:"heading-lg/bold",style:{display:"inline-block",
marginLeft:"1em"},color:"header-secondary",children:["(",d.id,")"]}):null]}),(0,r.jsx)(s.xJ,{children:(0,r.jsx)(s.q4,{className:VT().select,options:WT,onChange:function(e){return v(e)},value:b})}),(0,r.jsx)(s.xJ,{children:(0,r.jsx)("div",{className:VT().input,children:(0,r.jsx)(s.oi,{placeholder:"Enter custom input...",value:null!=h?h:"",onChange:v})})}),(0,r.jsx)(s.xJ,{children:(0,r.jsx)(s.Ee,{withTransparentBackground:!0,className:VT().theme,orientation:"horizontal",options:[{name:x.Z.Messages.THEME_DARK,value:G.BRd.DARK},{name:x.Z.Messages.THEME_LIGHT,value:G.BRd.LIGHT}],onChange:function(e){(0,Op.ZI)({theme:e.value})},value:l})}),(0,r.jsx)(GT.Z,{closeAction:Se.xf,keybind:"ESC"})]}),(0,r.jsxs)("div",{className:VT().textGrid,children:[(0,r.jsx)("div",{}),c.map((function(e){return(0,r.jsx)("div",{className:VT().columnHeading,children:(0,r.jsx)(s.X6,{variant:"eyebrow",children:e})},e)})),[10,12,14,15,16,18,20,24].map((function(e){return(0,r.jsxs)(o.Fragment,{children:[(0,
r.jsxs)("div",{className:VT().fontSize,children:[(0,r.jsxs)(s.X6,{variant:"eyebrow",children:[e,"px"]}),100!==f?(0,r.jsxs)(s.X6,{variant:"eyebrow",color:"text-muted",children:["(",e*f/100,")"]}):null]},e),c.map((function(t){var n,o=null!==(n="custom"===b?h:b)&&void 0!==n?n:"";return(0,r.jsx)("div",{children:(0,r.jsxs)("div",{title:"".concat(e,"px at ").concat(t),className:O()(VT().text,YT({},VT().breakAnywhere,!o.includes(" "))),style:{fontSize:e,fontWeight:u.get(t)},children:[(0,r.jsx)("p",{children:o}),(0,r.jsx)("p",{style:{textTransform:"lowercase"},children:o}),(0,r.jsx)("p",{style:{textTransform:"uppercase"},children:o})]})},"".concat(e,"-").concat(t))}))]},e)}))]})]})})}function XT(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function QT(e){QT=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return QT(e)}function $T(e,t){
return!t||"object"!==eN(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function JT(e,t){JT=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return JT(e,t)}var eN=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function tN(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=QT(e);if(t){var o=QT(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $T(this,n)}}var nN=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},
"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},rN=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&JT(e,t)}(n,e);var t=tN(n);function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r;(r=t.call(this,e)).handleToggleOpenOnStartup=function(){var e=!r.state.openOnStartup;r.setState({openOnStartup:e});id.default.send("TOGGLE_OPEN_ON_STARTUP",e)};r.handleToggleStartMinimized=function(){var e=!r.state.startMinimized;r.setState({startMinimized:e});id.default.send("TOGGLE_START_MINIMIZED",e)};r.handleToggleMinimizeToTray=function(){var e=!r.state.minimizeToTray;r.setState({minimizeToTray:e});id.default.send("TOGGLE_MINIMIZE_TO_TRAY",e)};r.state={openOnStartup:!0,startMinimized:!1,minimizeToTray:!0};return r}var o=n.prototype;o.componentDidMount=function(){var e,t=this;return(e=function(){var e,n;return nN(this,(function(r){
switch(r.label){case 0:e=t.setState;n={};return[4,id.default.getSetting("OPEN_ON_STARTUP",!0)];case 1:n.openOnStartup=r.sent();return[4,id.default.getSetting("START_MINIMIZED",!1)];case 2:n.startMinimized=r.sent();return[4,id.default.getSetting("MINIMIZE_TO_TRAY",!0)];case 3:e.apply(t,[(n.minimizeToTray=r.sent(),n)]);return[2]}}))},function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){XT(i,r,o,a,s,"next",e)}function s(e){XT(i,r,o,a,s,"throw",e)}a(void 0)}))})()};o.render=function(){var e=this.state,t=e.openOnStartup,n=e.startMinimized,o=e.minimizeToTray,i=(0,ec.IJ)()?x.Z.Messages.USER_SETTINGS_LINUX_SETTINGS:x.Z.Messages.USER_SETTINGS_WINDOWS_SETTINGS;return(0,r.jsxs)(s.hj,{tag:s.RB.H1,title:i,children:[(0,r.jsx)(s.vw,{children:x.Z.Messages.USER_SETTINGS_STARTUP_BEHAVIOR}),(0,r.jsx)(s.j7,{className:fe().marginBottom20,value:t,note:x.Z.Messages.USER_SETTINGS_OPEN_ON_STARTUP_BODY,onChange:this.handleToggleOpenOnStartup,
children:x.Z.Messages.USER_SETTINGS_OPEN_ON_STARTUP_LABEL}),(0,ec.ED)()?(0,r.jsx)(s.j7,{disabled:!t,className:O()(fe().marginTop8,fe().marginBottom20),value:!!t&&n,note:x.Z.Messages.USER_SETTINGS_START_MINIMIZED_BODY,onChange:this.handleToggleStartMinimized,children:x.Z.Messages.USER_SETTINGS_START_MINIMIZED_LABEL}):null,(0,r.jsx)(s.vw,{className:O()(fe().marginTop20,fe().marginBottom8),children:x.Z.Messages.USER_SETTINGS_CLOSE_BUTTON}),(0,r.jsx)(s.j7,{className:fe().marginBottom20,value:o,note:x.Z.Messages.USER_SETTINGS_MINIMIZE_TO_TRAY_BODY,onChange:this.handleToggleMinimizeToTray,children:x.Z.Messages.USER_SETTINGS_MINIMIZE_TO_TRAY_LABEL})]})};return n}(o.PureComponent);const oN=rN;var iN=n(477353),aN=n(202552),sN=n(187936),lN=n(385564),cN=n.n(lN);function uN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function fN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return uN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uN(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var dN=/^(\d{4}-\d{1,2})/;function pN(e){var t=dN.exec(e);return null!=t?t[1]:null}function hN(e,t){if(Array.isArray(e)){var n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){
if(hN(i.value,t))return!0}}catch(e){r=!0;o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}}else if("object"==typeof e&&null!==e){var s=!0,l=!1,c=void 0;try{for(var u,f=Object.values(e)[Symbol.iterator]();!(s=(u=f.next()).done);s=!0){if(hN(u.value,t))return!0}}catch(e){l=!0;c=e}finally{try{s||null==f.return||f.return()}finally{if(l)throw c}}}else if("string"==typeof e&&e.toLowerCase().includes(t.toLowerCase()))return!0;return!1}var EN=n(957372),yN=n.n(EN);function mN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){
if(!e)return;if("string"==typeof e)return mN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mN(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gN(e){var t,n,i=bN(o.useState(null!=e.descriptor),2),a=i[0],l=i[1],c=o.useCallback((function(){l((function(e){return!e}))}),[]),u=(t=e.experiment.description,Array.isArray(t)?t:[t]),f=pN(e.experimentId);return(0,r.jsxs)("div",{className:yN().group,children:[(0,r.jsxs)(s.hj,{children:[(0,r.jsx)(s.P3,{onClick:c,children:(0,r.jsxs)(s.vw,{tag:s.RB.H3,className:yN().title,children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{children:e.experiment.title}),(0,r.jsx)(s.xv,{color:"text-muted",variant:"text-sm/normal",
children:e.experimentId})]}),(0,r.jsx)("span",{className:yN().experimentDate,children:f})]})}),a?(0,r.jsxs)("div",{children:[(0,r.jsx)(s.xJ,{title:"Bucket Override",children:(0,r.jsx)(s.q4,{value:null!=e.descriptor?e.descriptor.bucket:null,clearable:null!=e.descriptor,options:(n=e.experiment.buckets,n.map((function(e){return{label:sN.Z.getExperimentBucketName(e),value:e}}))),onChange:function(t){(0,iN.rX)(e.experimentId,t)}})}),(0,r.jsx)("div",{className:yN().description,children:u.map((function(e,t){return(0,r.jsxs)(s.R9,{type:s.ge.DESCRIPTION,children:[e," "]},t)}))})]}):null]}),(0,r.jsx)(s.$i,{className:yN().divider})]})}function ON(){var e=(0,E.cj)([aN.Z],(function(){return aN.Z.getExperimentOverrides()})),t=(0,E.cj)([aN.Z],(function(){return aN.Z.getRegisteredExperiments()})),n=bN(o.useState(""),2),i=n[0],a=n[1],l=function(e,t){var n=t.split(/\s+/g).filter((function(e){return""!==e}));if(0===n.length)return e;var r=[],o=!0,i=!1,a=void 0;try{
for(var s,l=e[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var c=s.value,u=0,f=!0,d=!1,p=void 0;try{for(var h,E=n[Symbol.iterator]();!(f=(h=E.next()).done);f=!0)hN(c,h.value)&&(u+=1)}catch(e){d=!0;p=e}finally{try{f||null==E.return||E.return()}finally{if(d)throw p}}if(0!==u){null==r[u]&&(r[u]=[]);r[u].push(c)}}}catch(e){i=!0;a=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}return cN()(r.filter((function(e){return void 0!==e})).reverse())}(function(e){return e.slice().sort((function(e,t){var n=pN(e.id),r=pN(t.id);if(null!=n&&null!=r){var o=r.localeCompare(n);if(0!==o)return o}return e.experiment.title.localeCompare(t.experiment.title)}))}(function(e){return Array.from(Object.entries(e)).map((function(e){var t=fN(e,2);return{id:t[0],experiment:t[1]}}))}(t)),i);return(0,r.jsxs)(s.hj,{tag:s.RB.H1,title:"Experiments",children:[(0,r.jsx)(se.Z,{size:se.Z.Sizes.LARGE,query:i,onChange:a,onClear:function(){return a("")}}),l.length>0?l.map((function(t){return(0,r.jsx)(gN,{
experiment:t.experiment,experimentId:t.id,descriptor:e[t.id]},t.id)})):(0,r.jsx)("div",{className:yN().emptyState,children:(0,r.jsx)(s.X6,{variant:"heading-md/semibold",children:"No Experiments Found"})})]})}var vN=n(600341),_N=n(866452),IN=n(396448),SN=n(680664);function TN(){var e=(0,E.cj)([ql.Z],(function(){return{experimentalEncoders:ql.Z.getExperimentalEncoders()}})).experimentalEncoders;return"stable"!==id.default.releaseChannel&&ql.Z.isExperimentalEncodersSupported()?(0,r.jsx)(s.j7,{className:O()(fe().marginTop8,fe().marginBottom20),value:e,onChange:function(e){return vN.Z.setExperimentalEncoders(e)},disabled:!1,children:x.Z.Messages.EXPERIMENTAL_ENCODERS}):null}function NN(){var e=(0,E.e7)([Gu.Z],(function(){return Gu.Z.theme})),t=(0,E.cj)([ql.Z],(function(){return{openH264:ql.Z.getOpenH264(),hardwareH264:ql.Z.getHardwareH264(),supportsOpenH264:ql.Z.supports(_N.AN.OPEN_H264),av1Enabled:ql.Z.getAv1Enabled()}})),n=t.openH264,o=t.hardwareH264,i=t.supportsOpenH264,a=t.av1Enabled
;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.hj,{className:fe().marginBottom20,title:x.Z.Messages.USER_SETTINGS_VOICE_CODEC_TITLE,children:(0,r.jsx)(s.To,{className:fe().marginBottom20,type:s.Dd.PRIMARY,imageData:{src:e===G.BRd.LIGHT?IN:SN,width:70,height:40},align:ae.Z.Align.CENTER,body:x.Z.Messages.USER_SETTINGS_VOICE_CODEC_DESCRIPTION})}),i&&(0,r.jsxs)(s.hj,{className:fe().marginBottom20,title:x.Z.Messages.USER_SETTINGS_VOICE_VIDEO_CODEC_TITLE,children:[(0,r.jsx)(s.j7,{className:O()(fe().marginTop8,fe().marginBottom20),value:n,onChange:function(e){vN.Z.setOpenH264(e);vN.Z.setHardwareH264(e)},disabled:!1,note:x.Z.Messages.FORM_HELP_OPEN_H264,children:x.Z.Messages.USER_SETTINGS_VOICE_OPEN_H264}),(0,r.jsx)(s.j7,{className:O()(fe().marginTop8,fe().marginBottom20),value:o,onChange:function(e){vN.Z.setHardwareH264(e);vN.Z.setAV1Enabled(e&&a)},disabled:!n,note:x.Z.Messages.FORM_HELP_HARDWARE_H264,children:x.Z.Messages.USER_SETTINGS_VOICE_HARDWARE_H264}),(0,r.jsx)(s.j7,{
className:O()(fe().marginTop8,fe().marginBottom20),value:a&&o,onChange:function(e){return function(e){vN.Z.setAV1Enabled(e);Br.default.track(G.rMx.VOICE_SETTINGS_CHANGED,{av1_disabled:!e,av1_enabled:e})}(e&&o)},note:x.Z.Messages.FORM_HELP_HARDWARE_AV1,disabled:!o,children:x.Z.Messages.USER_SETTINGS_VOICE_AV1}),(0,r.jsx)(TN,{})]})]})}var CN=n(706690),AN=n(811139),PN=n(337053),jN=n(453587);function xN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function RN(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function MN(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){RN(i,r,o,a,s,"next",e)}function s(e){RN(i,r,o,a,s,"throw",e)}a(void 0)}))}}function wN(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ZN(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){wN(e,t,n[t])}))}return e}function LN(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function DN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){
i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return xN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xN(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var UN=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,
r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function kN(){return GN.apply(this,arguments)}function GN(){return(GN=MN((function(){var e,t;return UN(this,(function(n){switch(n.label){case 0:return[4,K.Z.fileManager.getModulePath()];case 1:e=n.sent();t=K.Z.fileManager.join(e,"discord_voice");K.Z.fileManager.showItemInFolder(t)
;return[2]}}))}))).apply(this,arguments)}function BN(e){var t=null!=e,o=t?x.Z.Messages.UPLOAD_DEBUG_LOG_FAILURE_HEADER:x.Z.Messages.UPLOAD_DEBUG_LOG_SUCCESS_HEADER,i=t?e:x.Z.Messages.UPLOAD_DEBUG_LOG_SUCCESS;(0,je.ZD)(MN((function(){var e,t;return UN(this,(function(a){switch(a.label){case 0:return[4,Promise.resolve().then(n.bind(n,30741))];case 1:e=a.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,LN(ZN({header:o,confirmButtonColor:s.zx.Colors.BRAND,confirmText:x.Z.Messages.OKAY},e),{children:(0,r.jsx)(s.xv,{variant:"text-md/normal",children:i})}))}]}}))})))}function HN(e){(0,je.ZD)(MN((function(){var t,o;return UN(this,(function(i){switch(i.label){case 0:return[4,Promise.resolve().then(n.bind(n,30741))];case 1:t=i.sent(),o=t.default;return[2,function(t){return(0,r.jsx)(o,LN(ZN({header:x.Z.Messages.SET_DEBUG_LOGGING,confirmText:x.Z.Messages.OKAY,cancelText:x.Z.Messages.CANCEL,onCancel:t.onClose,onConfirm:function(){return vN.Z.setDebugLogging(e)}},t),{children:(0,
r.jsx)(s.xv,{variant:"text-md/normal",children:x.Z.Messages.SET_DEBUG_LOGGING_BODY})}))}]}}))})))}function VN(){var e,t=DN(o.useState(!1),2),n=t[0],i=t[1],a=(0,E.cj)([ql.Z],(function(){return{aecDumpSupported:ql.Z.isAecDumpSupported(),debugLogging:ql.Z.getDebugLogging(),aecDumpEnabled:ql.Z.getAecDump(),supportsConnectionReplay:ql.Z.supports(_N.AN.CONNECTION_REPLAY)}})),l=a.aecDumpSupported,c=a.debugLogging,u=a.aecDumpEnabled,f=a.supportsConnectionReplay,d=(0,E.e7)([PN.ZP],(function(){return PN.ZP.shouldRecordNextConnection()})),p=(0,E.e7)([Vr.default],(function(){var t;return null!==(e=null===(t=Vr.default.getCurrentUser())||void 0===t?void 0:t.isStaff())&&void 0!==e&&e})),h=("canary"===id.default.releaseChannel||"development"===id.default.releaseChannel)&&p&&f;function y(){return(y=MN((function(){return UN(this,(function(e){switch(e.label){case 0:i(!0);e.label=1;case 1:e.trys.push([1,5,,6]);return[4,ql.Z.getMediaEngine().writeAudioDebugState()];case 2:e.sent()
;return[4,jN.Z.submitLiveCrashReport({message:{message:"User Live Dump"}})];case 3:e.sent();return[4,(0,AN.E_)(G.GU0.RTC)];case 4:e.sent();BN();return[3,6];case 5:BN(e.sent().displayMessage);return[3,6];case 6:return[2]}}))}))).apply(this,arguments)}return(0,r.jsxs)(s.hj,{className:fe().marginBottom40,title:x.Z.Messages.FORM_LABEL_DEBUG,children:[l&&(0,r.jsx)(s.j7,{value:u,onChange:function(e){return vN.Z.setAecDump(e)},note:x.Z.Messages.FORM_HELP_AEC_DUMP,children:x.Z.Messages.FORM_CHECKBOX_AEC_DUMP}),h&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.j7,{hideBorder:!0,value:d,onChange:function(e){return CN.TC(e)},note:x.Z.Messages.FORM_HELP_CONNECTION_LOG,children:x.Z.Messages.FORM_CHECKBOX_CONNECTION_LOG}),(0,r.jsx)(s.xJ,{children:(0,r.jsx)(ae.Z,{className:fe().marginBottom20,children:(0,r.jsx)(ae.Z.Child,{grow:0,shrink:0,children:(0,r.jsx)(s.zx,{size:s.zx.Sizes.SMALL,onClick:function(){return CN.z4()},children:x.Z.Messages.OPEN_CONNECTION_REPLAY})})})})]}),(0,r.jsx)(s.j7,{
hideBorder:!0,value:c,onChange:HN,note:x.Z.Messages.FORM_HELP_DEBUG_LOGGING,children:x.Z.Messages.FORM_CHECKBOX_DEBUG_LOGGING}),(0,r.jsx)(s.xJ,{children:(0,r.jsxs)(ae.Z,{children:[(0,r.jsx)(ae.Z.Child,{grow:0,shrink:0,children:(0,r.jsx)(s.zx,{disabled:n,size:s.zx.Sizes.SMALL,onClick:function(){return y.apply(this,arguments)},children:x.Z.Messages.UPLOAD})}),(0,r.jsx)(ae.Z.Child,{grow:0,shrink:0,children:(0,r.jsx)(s.zx,{size:s.zx.Sizes.SMALL,onClick:kN,children:x.Z.Messages.SHOW_FOLDER})})]})})]})}var FN=n(626242);function YN(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function zN(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){YN(i,r,o,a,s,"next",e)}function s(e){YN(i,r,o,a,s,"throw",e)}a(void 0)}))}}function WN(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var KN=function(e,t){var n,r,o,i,a={label:0,
sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{
value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function qN(e){(0,je.ZD)(zN((function(){var t,o;return KN(this,(function(i){switch(i.label){case 0:return[4,Promise.resolve().then(n.bind(n,884994))];case 1:t=i.sent(),o=t.default;return[2,function(t){return(0,r.jsx)(o,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){WN(e,t,n[t])}))}return e}({source:e},t))}]}}))})))}var XN=n(880782),QN=n.n(XN);function $N(){var e,t,o=function(e){var t,o=e.label,i=e.value;if(FN.Z.isCertified(i)){var s=a===G.BRd.LIGHT?n(956863):n(874638);t=(0,r.jsx)("img",{src:s,alt:"Certified",className:QN().deviceOptionCertified})}return(0,r.jsxs)("span",{className:QN().deviceOption,children:[(0,r.jsx)("span",{className:QN().deviceOptionLabel,
children:FN.Z.getCertifiedDeviceName(i,o)}),t]},i)},i=function(e){return o(e[0])},a=(0,E.e7)([Gu.Z],(function(){return Gu.Z.theme})),l=(0,E.cj)([ql.Z],(function(){return{canSetInputDevice:ql.Z.supports(_N.AN.AUDIO_INPUT_DEVICE),canSetOutputDevice:ql.Z.supports(_N.AN.AUDIO_OUTPUT_DEVICE),inputDeviceId:ql.Z.getInputDeviceId(),outputDeviceId:ql.Z.getOutputDeviceId()}})),c=l.canSetInputDevice,u=l.canSetOutputDevice,f=l.inputDeviceId,d=l.outputDeviceId,p=(0,E.e7)([ql.Z],(function(){return ql.Z.getInputDevices()})),h=(0,E.e7)([ql.Z],(function(){return ql.Z.getOutputDevices()}));c||(e=(0,r.jsx)(s.R9,{type:s.R9.Types.DESCRIPTION,className:fe().marginTop8,children:x.Z.Messages.BROWSER_INPUT_DEVICE_WARNING.format({onDownloadClick:function(){return qN("Help Text Input Devices")}})}));u||(t=(0,r.jsx)(s.R9,{type:s.R9.Types.DESCRIPTION,className:fe().marginTop8,children:x.Z.Messages.BROWSER_OUTPUT_DEVICE_WARNING.format({onDownloadClick:function(){return qN("Help Text Output Devices")}})}))
;var y=_e()(p).values().first(),m=null!=y?y.disabled:null!=e,b=_e()(h).values().first(),g=null!=b?b.disabled:null!=t;return(0,r.jsxs)(ae.Z,{className:fe().marginBottom20,children:[(0,r.jsxs)(ae.Z.Child,{basis:"50%",children:[(0,r.jsx)(s.vw,{tag:s.RB.H5,className:fe().marginBottom8,children:x.Z.Messages.FORM_LABEL_INPUT_DEVICE}),(0,r.jsx)(s.q4,{value:f,onChange:function(e){return vN.Z.setInputDevice(e,"Settings")},options:_e().map(p,(function(e){return{value:e.id,label:e.name}})),isDisabled:m,renderOptionValue:i,renderOptionLabel:o}),e]}),(0,r.jsxs)(ae.Z.Child,{basis:"50%",children:[(0,r.jsx)(s.vw,{tag:s.RB.H5,className:fe().marginBottom8,children:x.Z.Messages.FORM_LABEL_OUTPUT_DEVICE}),(0,r.jsx)(s.q4,{value:d,onChange:function(e){return vN.Z.setOutputDevice(e,"Settings")},options:_e().map(h,(function(e){return{value:e.id,label:e.name}})),isDisabled:g,renderOptionValue:i,renderOptionLabel:o}),t]})]})}var JN=n(235831),eC=n.n(JN);function tC(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value
}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function nC(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){tC(i,r,o,a,s,"next",e)}function s(e){tC(i,r,o,a,s,"throw",e)}a(void 0)}))}}function rC(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var oC=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue
;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},iC=!ec.FB,aC=(0,on.hQ)();function sC(e){var t=e.value;t===G.pM4.PUSH_TO_TALK&&iC&&(0,je.ZD)(nC((function(){var e,t;return oC(this,(function(o){switch(o.label){case 0:return[4,Promise.resolve().then(n.bind(n,912224))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){rC(e,t,n[t])}))}return e}({title:x.Z.Messages.PTT_LIMITED_TITLE,confirmText:x.Z.Messages.DOWNLOAD,cancelText:x.Z.Messages.OKAY,onConfirm:function(){return qN("PTT Limited Modal")},body:x.Z.Messages.PTT_LIMITED_BODY},e))}]}}))})));vN.Z.setMode(t)}function lC(e){return e>=1e3?"".concat((e/=1e3).toFixed(2),"s"):"".concat(e.toFixed(0)," ms")}function cC(e){var t,n=e.inputMode,o=(0,E.cj)([ql.Z],(function(){return ql.Z.getModeOptions()})),i=o.shortcut,a=o.delay;t=ec.FB||n!==G.pM4.PUSH_TO_TALK?(0,r.jsx)(s.R9,{type:s.R9.Types.DESCRIPTION,className:O()(eC().pttToolsMessage,fe().marginBottom8),children:x.Z.Messages.USER_SETTINGS_VOICE_ADD_MULTIPLE.format({onClick:function(){return f.Z.setSection(G.oAB.KEYBINDS)}})}):(0,r.jsx)(s.R9,{type:s.R9.Types.DESCRIPTION,className:O()(eC().pttToolsMessage,eC().pttToolsWarning,fe().marginBottom8),children:x.Z.Messages.PTT_LIMITED_WARNING.format({onDownloadClick:function(){
return qN("Help Text PTT")}})});return(0,r.jsxs)("div",{className:eC().pttTools,children:[(0,r.jsxs)(ae.Z,{children:[(0,r.jsx)(ae.Z.Child,{basis:"50%",children:(0,r.jsx)(s.xJ,{title:x.Z.Messages.FORM_LABEL_SHORTCUT,children:(0,r.jsx)(U.Z,{defaultValue:i,onChange:function(e){return vN.Z.setMode(n,{shortcut:e})}})})}),(0,r.jsx)(ae.Z.Child,{basis:"50%",children:(0,r.jsxs)(s.xJ,{children:[(0,r.jsx)(s.vw,{id:aC,tag:s.RB.H5,className:fe().marginBottom8,children:x.Z.Messages.INPUT_MODE_PTT_RELEASE_DELAY}),(0,r.jsx)(s.iR,{initialValue:a,onValueChange:function(e){return vN.Z.setMode(n,{delay:e})},onValueRender:lC,maxValue:G.qhL,"aria-labelledby":aC})]})})]}),t]})}function uC(){var e=(0,E.e7)([ql.Z],(function(){return ql.Z.getMode()})),t=[{value:G.pM4.VOICE_ACTIVITY,name:x.Z.Messages.INPUT_MODE_VAD},{value:G.pM4.PUSH_TO_TALK,name:iC?x.Z.Messages.INPUT_MODE_PTT_LIMITED:x.Z.Messages.INPUT_MODE_PTT}];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.xJ,{title:x.Z.Messages.FORM_LABEL_INPUT_MODE,
className:fe().marginBottom20,children:(0,r.jsx)(s.Ee,{onChange:sC,options:t,value:e})}),e===G.pM4.PUSH_TO_TALK&&(0,r.jsx)(cC,{inputMode:e})]})}var fC=n(460015),dC=n(433411),pC=n(783956),hC=n.n(pC);function EC(){return(0,fC.ZP)([ql.Z],(function(){return ql.Z.supports(_N.AN.LOOPBACK)}))?(0,r.jsx)("div",{className:hC().micTest,children:(0,r.jsx)(dC.Z,{title:x.Z.Messages.USER_SETTINGS_VOICE_MIC_TEST_TITLE,description:x.Z.Messages.USER_SETTINGS_VOICE_MIC_TEST_DESCRIPTION,notchBackground:dC._.GRAY,captionVoice:x.Z.Messages.USER_SETTINGS_VOICE_MIC_TEST_VOICE_CAPTION,captionNoVoice:(0,r.jsxs)(r.Fragment,{children:[x.Z.Messages.USER_SETTINGS_VOICE_MIC_TEST_VOICE_NO_INPUT_NOTICE,(0,r.jsx)(s.ee,{className:hC().micTestHelpLink,href:sa.Z.getArticleURL(G.BhN.NO_INPUT_DETECTED),children:x.Z.Messages.NOTICE_NO_INPUT_DETECTED_HELP_LINK_TEXT})]}),buttonTest:x.Z.Messages.USER_SETTINGS_VOICE_MIC_TEST_BUTTON_INACTIVE,buttonStop:x.Z.Messages.USER_SETTINGS_VOICE_MIC_TEST_BUTTON_ACTIVE,
buttonClassName:hC().micTestButton,buttonColor:s.zx.Colors.BRAND,location:{page:G.ZY5.USER_SETTINGS,section:G.jXE.SETTINGS_VOICE_AND_VIDEO}})}):null}function yC(e){switch(e){case G.rtk.ENABLING:return x.Z.Messages.USER_SETTINGS_VOICE_SOUNDSHARE_ENABLING_LABEL;case G.rtk.ENABLED:return x.Z.Messages.USER_SETTINGS_VOICE_SOUNDSHARE_ENABLED_LABEL;case G.rtk.FAILED_TO_ENABLE:return x.Z.Messages.USER_SETTINGS_VOICE_SOUNDSHARE_FAILED_TO_ENABLE_LABEL}return x.Z.Messages.USER_SETTINGS_VOICE_SOUNDSHARE_NOT_ENABLED_LABEL}function mC(){var e=(0,E.cj)([ql.Z],(function(){return{videoHook:ql.Z.getVideoHook(),experimentalSoundshare:ql.Z.getExperimentalSoundshare(),soundshareEnabled:ql.Z.getSoundshareEnabled(),supportsVideoHook:ql.Z.supports(_N.AN.VIDEO_HOOK),supportsExperimentalSoundshare:ql.Z.supportsExperimentalSoundshare(),supportsEnableSoundshare:ql.Z.supportsEnableSoundshare()}
})),t=e.videoHook,n=e.experimentalSoundshare,o=e.soundshareEnabled,i=e.supportsVideoHook,a=e.supportsExperimentalSoundshare,l=e.supportsEnableSoundshare;return i||a||l?(0,r.jsxs)(s.hj,{className:fe().marginBottom20,title:x.Z.Messages.FORM_LABEL_SCREENSHARE,children:[i&&(0,r.jsx)(s.j7,{value:t,onChange:function(e){return vN.Z.setVideoHook(e)},note:x.Z.Messages.FORM_HELP_VIDEO_HOOK,children:x.Z.Messages.USER_SETTINGS_VOICE_VIDEO_HOOK_LABEL}),a&&(0,r.jsx)(s.j7,{value:n,onChange:function(e){return vN.Z.setExperimentalSoundshare(e)},children:x.Z.Messages.USER_SETTINGS_VOICE_EXPERIMENTAL_SOUNDSHARE_LABEL}),l&&(0,r.jsxs)(s.xJ,{children:[(0,r.jsx)(s.R9,{className:fe().marginBottom20,children:yC(o).format({helpdeskArticle:sa.Z.getArticleURL(G.BhN.OSX_SOUNDSHARE)})}),(0,r.jsx)(ae.Z,{children:(0,r.jsx)(ae.Z.Child,{grow:0,shrink:0,children:(0,r.jsx)(s.zx,{className:fe().marginBottom20,size:s.zx.Sizes.SMALL,onClick:function(){return vN.Z.enableSoundshare()},disabled:o!==G.rtk.NOT_ENABLED,
children:x.Z.Messages.USER_SETTINGS_VOICE_INSTALL_LABEL})})}),(0,r.jsx)(s.$i,{className:fe().marginBottom20})]})]}):null}var bC=n(794445),gC=n(569396),OC=n(405959),vC=n(8231),_C=n.n(vC),IC=(0,on.hQ)();function SC(){var e=(0,gC.pI)();return(0,r.jsxs)("div",{className:O()(_C().soundboardRow),children:[(0,r.jsxs)("div",{className:O()(_C().soundboardColumn,_C().leftColumn),children:[(0,r.jsx)(s.vw,{tag:s.RB.H5,className:_C().soundboardTitle,children:x.Z.Messages.USER_SETTINGS_SOUNDBOARD}),(0,r.jsx)(s.xv,{color:"header-secondary",variant:"text-sm/normal",children:x.Z.Messages.USER_SETTINGS_SOUNDBOARD_VOLUME_DESCRIPTION_WITH_LINK.format({helpCenterArticle:sa.Z.getArticleURL(G.BhN.SOUNDBOARD)})})]}),(0,r.jsxs)("div",{className:O()(_C().soundboardColumn,_C().rightColumn),children:[(0,r.jsx)(s.vw,{id:IC,tag:s.RB.H5,className:_C().soundboardSubtitle,children:x.Z.Messages.USER_SETTINGS_SOUNDBOARD_VOLUME}),(0,r.jsx)(s.iR,{initialValue:(0,OC.P)(e),maxValue:100,onValueRender:function(e){
return"".concat(e.toFixed(0),"%")},asValueChanges:function(t){e=(0,OC.A)(t);(0,bC.xz)(e)},"aria-labelledby":IC})]})]})}var TC=n(842592),NC=n(620369),CC=n(404534),AC=n(930149),PC=n(165926),jC=n(755592),xC=n.n(jC);function RC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function MC(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function wC(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function ZC(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return RC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RC(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var LC=387,DC=218;function UC(e){var t=e.previewEnabled,n=e.onEnablePreview,i=ql.Z.getCameraComponent(),a=ZC(o.useState((0,NC.P)(Vr.default.getCurrentUser())),2),c=a[0],u=a[1],f=o.useRef(!1),d=o.useRef(c),p=(0,
TC.O)(),h=(0,E.e7)([ql.Z],(function(){return Object.values(ql.Z.getVideoDevices()).length>0}));o.useEffect((function(){return function(){f.current&&l.Z.wait((function(){return(0,CC.Up)(d.current)}))}}),[]);return(0,r.jsx)(PC.Z,{selectedBackgroundOption:c,onSelectBackgroundOption:function(e){f.current=!0;d.current=e;u(e);(0,AC.wG)(e,{location:p.location}).catch(G.dG4)},renderCamera:function(e){return t?(0,r.jsx)("div",{className:xC().cameraWrapper,children:(0,r.jsxs)("div",{className:xC().camera,children:[(0,r.jsx)(i,{deviceId:e,width:LC,height:DC,disabled:!t}),(0,r.jsx)(PC.S,{})]})}):(0,r.jsxs)("div",{className:xC().cameraWrapper,children:[(0,r.jsx)("div",{className:xC().previewImage}),(0,r.jsx)(rn.ZP,{text:h?null:x.Z.Messages.CAMERA_UNAVAILABLE,children:function(e){return(0,r.jsx)(s.zx,wC(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){MC(e,t,n[t])}))}return e}({},e),{onClick:n,disabled:!h,children:x.Z.Messages.TEST_VIDEO}))}})]})}})}function kC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function GC(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return kC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kC(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function BC(){return(0,r.jsx)(s.To,{type:s.sj.PRIMARY,title:x.Z.Messages.VIDEO_UNSUPPORTED_BROWSER_TITLE,body:x.Z.Messages.VIDEO_UNSUPPORTED_BROWSER_BODY,button:(0,r.jsx)(s.zx,{size:s.zx.Sizes.SMALL,className:fe().marginTop20,onClick:function(){return qN("Video unsupported browser")},children:x.Z.Messages.DOWNLOAD_APP})})}function HC(){var e=(0,E.e7)([ql.Z],(function(){return ql.Z.supports(_N.AN.VIDEO)})),t=GC(o.useState(!1),2),n=t[0],i=t[1];return(0,r.jsxs)("div",{children:[(0,r.jsx)(s.y5,{component:(0,r.jsx)(s.vw,{tag:s.RB.H1,className:fe().marginBottom20,children:x.Z.Messages.VIDEO_SETTINGS}),children:e?(0,r.jsx)(UC,{previewEnabled:n,onEnablePreview:function(){return i(!0)}
}):(0,r.jsx)(BC,{})}),(0,r.jsx)(s.$i,{className:O()(fe().marginBottom40,fe().marginTop40)})]})}var VC,FC=n(235920),YC=n(200824),zC=(0,on.hQ)();!function(e){e[e.NONE=0]="NONE";e[e.STANDARD=1]="STANDARD";e[e.KRISP=2]="KRISP"}(VC||(VC={}));var WC={page:G.ZY5.USER_SETTINGS,section:G.jXE.SETTINGS_VOICE_AND_VIDEO};function KC(e){var t=e.currentTarget;Br.default.track(G.rMx.NOISE_CANCELLATION_LINK_CLICKED,{text:t.text,href:t.href,location:{page:G.ZY5.USER_SETTINGS,section:G.jXE.SETTINGS_VOICE_AND_VIDEO}})}function qC(){var e=(0,E.e7)([Gu.Z],(function(){return Gu.Z.theme})),t=(0,E.cj)([ql.Z],(function(){return{noiseCancellation:ql.Z.getNoiseCancellation(),noiseSuppression:ql.Z.getNoiseSuppression()}})),n=t.noiseCancellation,o=t.noiseSuppression?VC.STANDARD:VC.NONE,i=n?VC.KRISP:o;return(0,r.jsxs)(s.hj,{className:fe().marginBottom20,children:[(0,r.jsx)(s.vw,{id:zC,tag:s.RB.H3,className:fe().marginBottom8,children:x.Z.Messages.NOISE_SUPPRESSION}),(0,r.jsx)(s.R9,{type:s.R9.Types.DESCRIPTION,
className:fe().marginBottom8,children:x.Z.Messages.USER_SETTINGS_NOISE_CANCELLATION_DESCRIPTION}),(0,r.jsx)(s.Ee,{options:[{name:x.Z.Messages.USER_SETTINGS_NOISE_CANCELLATION_KRISP,value:VC.KRISP},{name:x.Z.Messages.USER_SETTINGS_NOISE_CANCELLATION_STANDARD,value:VC.STANDARD},{name:x.Z.Messages.USER_SETTINGS_NOISE_CANCELLATION_DISABLED,value:VC.NONE}],onChange:function(e){vN.Z.setNoiseCancellation(e.value===VC.KRISP,WC);vN.Z.setNoiseSuppression(e.value===VC.STANDARD,WC)},value:i}),(0,r.jsx)(s.To,{className:fe().marginBottom8,type:s.Dd.PRIMARY,imageData:{src:e===G.BRd.LIGHT?FC:YC,width:70,height:40},align:ae.Z.Align.CENTER,body:(0,r.jsx)(s.ee,{href:sa.Z.getArticleURL(G.BhN.NOISE_SUPPRESSION),onClick:KC,children:x.Z.Messages.LEARN_MORE})}),(0,r.jsx)(s.$i,{})]})}function XC(){var e=(0,E.cj)([ql.Z],(function(){return{inputMode:ql.Z.getMode(),inputDeviceId:ql.Z.getInputDeviceId(),echoCancellation:ql.Z.getEchoCancellation(),automaticGainControl:ql.Z.getAutomaticGainControl(),
vadAutoThreshold:ql.Z.getModeOptions().autoThreshold,vadUseKrisp:ql.Z.getModeOptions().vadUseKrisp,advancedVoiceActivitySupported:ql.Z.isAdvancedVoiceActivitySupported()}})),t=e.inputMode,n=e.inputDeviceId,o=e.echoCancellation,i=e.automaticGainControl,a=e.vadAutoThreshold,l=e.vadUseKrisp,c=e.advancedVoiceActivitySupported,u=(0,E.cj)([FN.Z],(function(){return{hasEchoCancellation:FN.Z.hasEchoCancellation(n),hasNoiseSuppression:FN.Z.hasNoiseSuppression(n),hasAutomaticGainControl:FN.Z.hasAutomaticGainControl(n)}}),[n]),f=u.hasEchoCancellation,d=u.hasNoiseSuppression,p=u.hasAutomaticGainControl,h=f||d||p,y=t===G.pM4.VOICE_ACTIVITY&&a;return(0,r.jsxs)(s.hj,{className:fe().marginBottom20,title:x.Z.Messages.FORM_LABEL_VOICE_PROCESSING,children:[h&&(0,r.jsx)(s.R9,{className:fe().marginBottom20,type:s.R9.Types.DESCRIPTION,children:x.Z.Messages.FORM_HELP_CERTIFIED_VOICE_PROCESSING}),(0,r.jsx)(s.j7,{className:O()(fe().marginTop8,fe().marginBottom20),value:o,onChange:function(e){
return vN.Z.setEchoCancellation(e,{page:G.ZY5.USER_SETTINGS,section:G.jXE.SETTINGS_VOICE_AND_VIDEO})},disabled:f,children:x.Z.Messages.ECHO_CANCELLATION}),(0,r.jsx)(qC,{}),c&&(0,r.jsx)(s.j7,{value:l,onChange:function(e){return vN.Z.setMode(t,{vadUseKrisp:e})},note:x.Z.Messages.USER_SETTINGS_DISABLE_ADVANCED_VOICE_ACTIVITY,disabled:!y,children:x.Z.Messages.ADVANCED_VOICE_ACTIVITY}),(0,r.jsx)(s.j7,{className:"",value:i,onChange:function(e){return vN.Z.setAutomaticGainControl(e,{page:G.ZY5.USER_SETTINGS,section:G.jXE.SETTINGS_VOICE_AND_VIDEO})},disabled:p,children:x.Z.Messages.AUTOMATIC_GAIN_CONTROL})]})}var QC=n(149556),$C=n(568296),JC=n.n($C);function eA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tA(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function nA(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return eA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eA(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var rA=(0,on.hQ)();function oA(){var e=function(e,t){a(e);u((t&_N.Dg.VOICE)===_N.Dg.VOICE)},t=function(e,t){vN.Z.setMode(y,{threshold:e,autoThreshold:t})
},n=nA(o.useState(-100),2),i=n[0],a=n[1],l=nA(o.useState(!1),2),c=l[0],u=l[1],f=(0,E.cj)([ql.Z],(function(){return ql.Z.getModeOptions()})),d=f.threshold,p=f.autoThreshold,h=(0,E.cj)([ql.Z],(function(){return{inputMode:ql.Z.getMode(),automaticVADSupported:ql.Z.supports(_N.AN.AUTOMATIC_VAD),isEnabled:ql.Z.isEnabled()}})),y=h.inputMode,m=h.automaticVADSupported,b=h.isEnabled;o.useEffect((function(){var t=new Ie.V7;t.start(1e3,(function(){ql.Z.getMediaEngine().on(QC.aB.VoiceActivity,e);t.stop()}));return function(){ql.Z.getMediaEngine().removeListener(QC.aB.VoiceActivity,e);t.stop()}}),[]);var g=(0,r.jsx)("section",{className:O()(JC().inputSensitivityToggle,JC().manual),children:(0,r.jsx)(s.iR,{initialValue:d+100,onValueRender:function(e){return"".concat((-1*(100-e)).toFixed(0),"dB")},onValueChange:function(e){return t(-1*(100-e),p)},barStyles:{background:(0,ne.Lq)(G.Ilk.GREEN_360)},fillStyles:{background:(0,ne.Lq)(G.Ilk.YELLOW_300)},"aria-labelledby":rA,children:(0,r.jsxs)("div",{
className:O()(JC().sliderBar,JC().microphone,JC().inputSensitivityBar),children:[(0,r.jsx)("div",{className:O()(JC().fill,JC().inputSensitivityBarFill),style:{width:i+100+"%"}}),(0,r.jsx)("div",{className:"grow"})]})})});p&&(g=(0,r.jsxs)("section",{className:JC().inputSensitivityToggle,children:[(0,r.jsx)("div",{className:JC().inputSensitivitySlider,children:(0,r.jsx)("div",{className:O()(JC().inputSensitivityBar,JC().sliderBar,tA({},JC().speaking,c))})}),(0,r.jsx)(s.R9,{type:s.R9.Types.DESCRIPTION,className:fe().marginBottom8,children:x.Z.Messages.FORM_HELP_AUTOMATIC_VAD})]}));return(0,r.jsxs)(s.xJ,{className:JC().sensitivity,children:[(0,r.jsx)(s.vw,{id:rA,tag:s.RB.H5,className:fe().marginBottom8,children:x.Z.Messages.FORM_LABEL_INPUT_SENSITIVTY}),(0,r.jsxs)("div",{children:[m&&(0,r.jsx)(on.FG,{children:function(e){return(0,r.jsxs)("div",{className:O()(Qm().horizontal,fe().marginBottom4),children:[(0,r.jsx)(s.vw,{tag:s.RB.H3,className:fe().marginReset,children:(0,r.jsx)("label",{
htmlFor:e,children:x.Z.Messages.FORM_LABEL_AUTOMATIC_VAD})}),(0,r.jsx)(s.rs,{id:e,checked:p,onChange:function(e){return t(d,e)}})]})}}),g]}),!b&&(0,r.jsx)(s.R9,{type:s.R9.Types.DESCRIPTION,className:O()(JC().inputDisabledWarning,fe().marginBottom8),children:x.Z.Messages.FORM_WARNING_INPUT_SENSITIVTY.format({onEnableClick:vN.Z.enable})})]})}var iA=(0,on.hQ)(),aA=(0,on.hQ)();function sA(){var e=(0,E.cj)([ql.Z],(function(){return{inputVolume:ql.Z.getInputVolume(),outputVolume:ql.Z.getOutputVolume()}})),t=e.inputVolume,n=e.outputVolume;return(0,r.jsxs)(ae.Z,{className:"volume",children:[(0,r.jsxs)(ae.Z.Child,{basis:"50%",children:[(0,r.jsx)(s.vw,{id:iA,tag:s.RB.H5,className:fe().marginBottom4,children:x.Z.Messages.FORM_LABEL_INPUT_VOLUME}),(0,r.jsx)(s.iR,{initialValue:(0,OC.P)(t),asValueChanges:function(e){return vN.Z.setInputVolume((0,OC.A)(e))},"aria-labelledby":iA})]}),(0,r.jsxs)(ae.Z.Child,{basis:"50%",children:[(0,r.jsx)(s.vw,{id:aA,tag:s.RB.H5,className:fe().marginBottom4,
children:x.Z.Messages.FORM_LABEL_OUTPUT_VOLUME}),(0,r.jsx)(s.iR,{initialValue:(0,OC.P)(n),maxValue:200,onValueRender:function(e){return"".concat(e.toFixed(0),"%")},asValueChanges:function(e){return vN.Z.setOutputVolume((0,OC.A)(e))},"aria-labelledby":aA})]})]})}function lA(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function cA(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){lA(i,r,o,a,s,"next",e)}function s(e){lA(i,r,o,a,s,"throw",e)}a(void 0)}))}}function uA(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function fA(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var dA=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break
}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},pA=(0,on.hQ)(),hA="".concat(sa.Z.getArticleURL(G.BhN.VOICE_VIDEO_TROUBLESHOOTING),"?utm_source=discord&utm_medium=blog&utm_campaign=2020-06_help-voice-video&utm_content=--t%3Apm");function EA(e,t){var n=[{value:_N.iA.STANDARD,label:"Standard"}];e&&n.push({value:_N.iA.LEGACY,label:"Legacy"});t&&n.push({value:_N.iA.EXPERIMENTAL,label:"Experimental"});return n}function yA(e,t,o){(0,je.ZD)(cA((function(){var i,a;return dA(this,(function(l){switch(l.label){case 0:return[4,Promise.resolve().then(n.bind(n,30741))];case 1:i=l.sent(),a=i.default;return[2,function(n){return(0,r.jsx)(a,fA(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){uA(e,t,n[t])}))}return e}({header:e,confirmText:x.Z.Messages.OKAY,cancelText:x.Z.Messages.CANCEL,onConfirm:o},n),{children:(0,r.jsx)(s.xv,{variant:"text-md/normal",children:t})}))}]}}))})))}function mA(){var e,t=(0,E.cj)([ql.Z],(function(){return{inputMode:ql.Z.getMode(),qosEnabled:ql.Z.getQoS(),attenuation:ql.Z.getAttenuation(),attenuateWhileSpeakingSelf:ql.Z.getAttenuateWhileSpeakingSelf(),attenuateWhileSpeakingOthers:ql.Z.getAttenuateWhileSpeakingOthers(),audioSubsystem:ql.Z.getAudioSubsystem(),silenceWarning:ql.Z.getEnableSilenceWarning(),debugLoggingEnabled:ql.Z.supports(_N.AN.DEBUG_LOGGING),legacyAudioSubsystemSupported:ql.Z.supports(_N.AN.LEGACY_AUDIO_SUBSYSTEM),experimentalAudioSubsystemSupported:ql.Z.supports(_N.AN.EXPERIMENTAL_AUDIO_SUBSYSTEM),qosSupported:ql.Z.supports(_N.AN.QOS),
attenuationSupported:ql.Z.supports(_N.AN.ATTENUATION)}})),n=t.inputMode,o=t.qosEnabled,i=t.attenuation,a=t.attenuateWhileSpeakingSelf,l=t.attenuateWhileSpeakingOthers,c=t.audioSubsystem,u=t.silenceWarning,f=t.debugLoggingEnabled,d=t.legacyAudioSubsystemSupported,p=t.experimentalAudioSubsystemSupported,h=t.qosSupported,y=t.attenuationSupported,m=ec.FB&&f&&null!=K.Z.fileManager.readLogFiles;return(0,r.jsxs)(s.hj,{tag:s.RB.H1,title:x.Z.Messages.VOICE_SETTINGS,children:[(0,r.jsx)($N,{}),(0,r.jsx)(sA,{}),(0,r.jsx)(EC,{}),(0,r.jsx)(s.R9,{className:fe().marginBottom20,type:s.R9.Types.DESCRIPTION,children:x.Z.Messages.FORM_HELP_VOICE_VIDEO_TROUBLESHOOTING_GUIDE.format({guideURL:hA})}),!0===(null===(e=(0,wv.o3)())||void 0===e?void 0:e.allowSoundboard)&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.$i,{className:O()(fe().marginBottom20)}),(0,r.jsx)(SC,{})]}),(0,r.jsx)(s.$i,{className:O()(fe().marginBottom40)}),(0,r.jsx)(uC,{}),n===_N.pM.VOICE_ACTIVITY&&(0,r.jsx)(oA,{}),(0,r.jsx)(s.$i,{
className:fe().marginBottom40}),(0,r.jsx)(HC,{}),(0,r.jsxs)(s.y5,{component:(0,r.jsx)(s.vw,{tag:s.RB.H1,className:fe().marginBottom20,children:x.Z.Messages.SETTINGS_ADVANCED}),children:[(0,r.jsx)(NN,{}),(0,r.jsx)(XC,{}),h&&(0,r.jsx)(s.hj,{className:fe().marginBottom20,title:x.Z.Messages.FORM_LABEL_QOS,children:(0,r.jsx)(s.j7,{value:o,onChange:function(e){return vN.Z.setQoS(e)},note:x.Z.Messages.FORM_HELP_QOS,children:x.Z.Messages.FORM_CHECKBOX_QOS})}),y&&(0,r.jsxs)(s.hj,{className:fe().marginBottom20,children:[(0,r.jsx)(s.vw,{id:pA,tag:s.RB.H5,className:fe().marginBottom8,children:x.Z.Messages.FORM_LABEL_ATTENUATION}),(0,r.jsx)(s.iR,{initialValue:i,onValueChange:function(e){vN.Z.setAttenuation(e,a,l)},"aria-labelledby":pA}),(0,r.jsx)(s.R9,{className:fe().marginBottom20,type:s.R9.Types.DESCRIPTION,children:x.Z.Messages.FORM_HELP_ATTENUATION}),(0,r.jsx)(s.$i,{className:fe().marginBottom20}),(0,r.jsx)(s.j7,{value:a,onChange:function(e){return vN.Z.setAttenuation(i,e,l)},
children:x.Z.Messages.ATTENUATE_WHILE_SPEAKING_SELF}),(0,r.jsx)(s.j7,{value:l,onChange:function(e){return vN.Z.setAttenuation(i,a,e)},children:x.Z.Messages.ATTENUATE_WHILE_SPEAKING_OTHERS})]}),(d||p)&&(0,r.jsxs)(s.hj,{className:fe().marginBottom20,title:x.Z.Messages.FORM_LABEL_SUBSYSTEM,children:[(0,r.jsx)(s.q4,{className:fe().marginBottom20,value:c,options:EA(d,p),onChange:function(e){yA(x.Z.Messages.SWITCH_SUBSYSTEM,x.Z.Messages.SWITCH_SUBSYSTEM_BODY,(function(){return vN.Z.setAudioSubsystem(e)}))}}),(0,r.jsx)(s.$i,{className:fe().marginBottom20})]}),ec.FB&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(mC,{}),(0,r.jsx)(s.hj,{className:fe().marginBottom20,title:x.Z.Messages.FORM_LABEL_VOICE_DIAGNOSTICS,children:(0,r.jsx)(s.j7,{value:u,onChange:function(e){return vN.Z.setSilenceWarning(e)},children:x.Z.Messages.DISPLAY_SILENCE_WARNING})})]}),m&&(0,r.jsx)(VN,{}),(0,r.jsx)(s.xJ,{children:(0,r.jsx)(s.zx,{look:s.zx.Looks.OUTLINED,color:s.zx.Colors.RED,onClick:function(){
yA(x.Z.Messages.RESET_VOICE_SETTINGS,x.Z.Messages.RESET_VOICE_SETTINGS_BODY,vN.Z.reset)},size:s.zx.Sizes.SMALL,children:x.Z.Messages.RESET_VOICE_SETTINGS})})]})]})}var bA=n(648670),gA=n.n(bA);function OA(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function vA(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var _A=oN;function IA(e){var t=e.unseenGiftCount,o=e.showPrepaidPaymentPastDueWarning,h=e.canUseAvatarDecorations,E=e.impressionSource,y=e.clipsEnabled,m=void 0!==y&&y,b=e.hasClientThemes,g=void 0!==b&&b,O=[{section:d.ID.HEADER,
label:x.Z.Messages.USER_SETTINGS},{section:G.oAB.ACCOUNT,label:x.Z.Messages.USER_SETTINGS_MY_ACCOUNT,ariaLabel:x.Z.Messages.USER_SETTINGS_MY_ACCOUNT,element:kd},{section:G.oAB.PROFILE_CUSTOMIZATION,type:d.bT.WIDE,label:x.Z.Messages.USER_SETTINGS_PROFILES,ariaLabel:x.Z.Messages.USER_SETTINGS_PROFILES,element:Wl,notice:{stores:[So.Z,ge.Z],element:Ro},onSettingsClose:function(){l.Z.wait((function(){(0,be.It)();(0,u.P6)();f.Z.clearSubsection(G.oAB.PROFILE_CUSTOMIZATION)}))},newIndicatorDismissibleContentTypes:h?[a.z$.AVATAR_DECORATION_NEW_BADGE]:null},{section:G.oAB.PRIVACY_AND_SAFETY,label:x.Z.Messages.PRIVACY_AND_SAFETY,element:WS},{section:G.oAB.AUTHORIZED_APPS,label:x.Z.Messages.AUTHORIZED_APPS,element:Ih},{section:G.oAB.SESSIONS,label:x.Z.Messages.AUTH_SESSIONS,ariaLabel:x.Z.Messages.AUTH_SESSIONS,element:xT,newIndicatorDismissibleContentTypes:[a.z$.AUTH_SESSIONS_NEW],icon:(0,r.jsx)(me.Z,{}),predicate:function(){return tc.getCurrentConfig({}).showSettings}},{section:G.oAB.CONNECTIONS,
label:x.Z.Messages.CONNECTIONS,ariaLabel:x.Z.Messages.CONNECTIONS,element:wy,impressionName:i.zs.USER_SETTINGS_CONNECTIONS,impressionProperties:{source:E},newIndicatorDismissibleContentTypes:[a.z$.NEW_CRUNCHYROLL_CONNECTION]},{section:G.oAB.CLIPS,label:x.Z.Messages.CLIPS,ariaLabel:x.Z.Messages.CLIPS,icon:(0,r.jsx)(me.Z,{}),element:te,predicate:function(){return m}},{section:G.oAB.FRIEND_REQUESTS,label:x.Z.Messages.FRIEND_REQUESTS,element:km},{section:d.ID.DIVIDER},{section:d.ID.HEADER,label:x.Z.Messages.BILLING_SETTINGS},{section:G.oAB.PREMIUM,ariaLabel:x.Z.Messages.PREMIUM,label:x.Z.Messages.PREMIUM,element:At.Z,className:gA().premiumTab},{section:G.oAB.GUILD_BOOSTING,label:x.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_TITLE,element:NS},{section:G.oAB.SUBSCRIPTIONS,ariaLabel:x.Z.Messages.SUBSCRIPTIONS_TITLE,label:x.Z.Messages.SUBSCRIPTIONS_TITLE,element:ho,icon:o?(0,r.jsx)($l.Z,{width:16,height:16,color:(0,ne.Lq)(G.Ilk.YELLOW_300)}):null},{section:G.oAB.INVENTORY,
label:x.Z.Messages.GIFT_INVENTORY,element:Cv,ariaLabel:x.Z.Messages.GIFT_INVENTORY,badgeCount:t,icon:(0,r.jsx)(me.Z,{})},{section:G.oAB.BILLING,label:x.Z.Messages.BILLING,element:QE},{section:d.ID.DIVIDER},{section:d.ID.HEADER,label:x.Z.Messages.APP_SETTINGS},{section:G.oAB.APPEARANCE,label:x.Z.Messages.APPEARANCE,ariaLabel:x.Z.Messages.APPEARANCE,element:rh,newIndicatorDismissibleContentTypes:g?[a.z$.CLIENT_THEMES_SETTINGS_BADGE]:null},{section:G.oAB.ACCESSIBILITY,label:x.Z.Messages.ACCESSIBILITY,element:gu},{section:G.oAB.VOICE,label:x.Z.Messages.VOICE_AND_VIDEO,element:mA,predicate:function(){return ql.Z.isSupported()}},{section:G.oAB.POGGERMODE,label:x.Z.Messages.POGGERMODE,ariaLabel:x.Z.Messages.POGGERMODE,element:Ct,predicate:function(){return Oe.Z.settingsVisible},icon:(0,r.jsx)("img",{alt:"",src:n(20278),className:gA().poggermodeIcon})},{section:G.oAB.TEXT,label:x.Z.Messages.TEXT_AND_IMAGES,element:kT},{section:G.oAB.NOTIFICATIONS,label:x.Z.Messages.NOTIFICATIONS,element:$_},{
section:G.oAB.KEYBINDS,label:x.Z.Messages.KEYBINDS,element:o_},{section:G.oAB.LOCALE,label:x.Z.Messages.LANGUAGE,element:d_},{section:G.oAB.WINDOWS,label:x.Z.Messages.USER_SETTINGS_WINDOWS_SETTINGS,element:oN,predicate:function(){return ec.FB&&(0,ec.ED)()}},{section:G.oAB.LINUX,label:x.Z.Messages.USER_SETTINGS_LINUX_SETTINGS,element:_A,predicate:function(){return ec.FB&&(0,ec.IJ)()}},{section:G.oAB.STREAMER_MODE,label:x.Z.Messages.STREAMER_MODE,element:UT},{section:G.oAB.ADVANCED,label:x.Z.Messages.SETTINGS_ADVANCED,element:gp},{section:d.ID.DIVIDER},{section:d.ID.HEADER,label:x.Z.Messages.ACTIVITY_SETTINGS},{section:G.oAB.ACTIVITY_PRIVACY,label:x.Z.Messages.ACTIVITY_PRIVACY,element:qd},{section:G.oAB.REGISTERED_GAMES,label:x.Z.Messages.REGISTERED_GAMES,element:bb},{section:G.oAB.OVERLAY,label:x.Z.Messages.OVERLAY,element:yI,predicate:function(){return Xl.Z.isSupported()||!1}},{section:d.ID.DIVIDER},{section:"changelog",onClick:function(){return(0,p.Z)(!0)},label:x.Z.Messages.WHATS_NEW
},{section:G.oAB.HYPESQUAD_ONLINE,label:x.Z.Messages.USER_SETTINGS_HYPESQUAD,element:Yg},{section:G.oAB.EXPERIMENTS,label:"Experiments",element:ON,predicate:function(){return Kl.Z.isDeveloper}},{section:G.oAB.DEVELOPER_OPTIONS,label:"Developer Options",element:Lm,predicate:function(){return Kl.Z.isDeveloper}},{section:G.oAB.HOTSPOT_OPTIONS,label:"Hotspot Options",element:Ec,predicate:function(){return Kl.Z.isDeveloper}},{section:G.oAB.DISMISSIBLE_CONTENT_OPTIONS,label:"Dismissible Contents",element:ye,predicate:function(){return Kl.Z.isDeveloper}},{section:G.oAB.PAYMENT_FLOW_MODAL_TEST_PAGE,label:"Payment Flow Modals",element:Cc,predicate:function(){return Kl.Z.isDeveloper}},{section:G.oAB.TEXT_PLAYGROUND,label:"Text Playground",element:qT,predicate:function(){return Kl.Z.isDeveloper}},{section:G.oAB.TEXT_COMPONENT,label:"Text Components",element:kc,predicate:function(){return Kl.Z.isDeveloper}},{section:d.ID.DIVIDER},{section:"logout",onClick:function(){(0,je.h7)((function(e){
return(0,r.jsx)(Jl.default,vA(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){OA(e,t,n[t])}))}return e}({header:x.Z.Messages.LOGOUT,confirmText:x.Z.Messages.LOGOUT,cancelText:x.Z.Messages.CANCEL,onCancel:e.onClose,onConfirm:function(){return c.Z.logout()}},e),{children:(0,r.jsx)(s.xv,{variant:"text-md/normal",children:x.Z.Messages.USER_SETTINGS_CONFIRM_LOGOUT})}))}))},label:x.Z.Messages.LOGOUT,ariaLabel:x.Z.Messages.LOGOUT,icon:(0,r.jsx)(Ql.Z,{width:16,height:16})},{section:d.ID.DIVIDER},{section:d.ID.CUSTOM,element:Zc},{section:d.ID.CUSTOM,element:ac}];return O}},429244:(e,t,n)=>{"use strict";n.d(t,{P:()=>a});var r=n(112712),o=n(911324),i=n(959797);function a(){(0,o.CF)((0,r.Yz)(i.Z.Messages.USER_SETTINGS_UPDATE_FAILURE,r.pC.FAILURE))}
},231604:(e,t,n)=>{"use strict";n.d(t,{q:()=>fe});var r=n(496486),o=n.n(r),i=n(5387),a=n.n(i),s=(n(459369),n(368365)),l=n(277563),c=n(363010),u=n(444450),f=n(173436),d=n(491681);function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e){h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return h(e)}function E(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e,t){y=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return y(e,t)}var m=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{
Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return E(this,n)}}var g=function(){function e(){p(this,e)}e.empty=function(){return{users:[],members:[],messages:[]}};return e}(),O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&y(e,t)}(n,e);var t=b(n);function n(){p(this,n);return t.apply(this,arguments)}var r=n.prototype;r.startupLoad=function(e,t,n){return Promise.resolve(g.empty())};r.load=function(e,t){return Promise.resolve(g.empty())};return n}(d.Z);const v=new O;var _=n(120676);function I(e,t){var n=e.split("\n"),r=null,o={version:"",nonce:"",guildChannels:{}},i=!0,a=!1,s=void 0;try{
for(var l,c=n[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var u=l.value;if(""!==o.version)if(""!==o.nonce)if(null!=r){o.guildChannels[r]=u;r=null}else r=u;else o.nonce=u;else{if(u!==t)return null;o.version=u}}}catch(e){a=!0;s=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw s}}return o}var S=n(441143),T=n.n(S),N=n(356004),C=n(653772),A=n(940712);var P=n(998268),j=n(832691),x=n(876679),R=n(410127),M=n(743221),w=n(742269),Z=n(937026);function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function D(e){return function(e){if(Array.isArray(e))return L(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var U=n(107248),k=n(392115),G=n(172762),B=n(171447),H=n(283369),V=n(379822),F=n(971738),Y=n(859023),z=n(703863),W=n(461061);function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function q(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function X(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){q(i,r,o,a,s,"next",e)}function s(e){q(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0
}):e[t]=n;return e}function J(e){J=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return J(e)}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){$(e,t,n[t])}))}return e}function te(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function ne(e,t){
return!t||"object"!==ae(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function re(e,t){re=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return re(e,t)}function oe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||se(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ie(e){return function(e){if(Array.isArray(e))return K(e)}(e)||function(e){
if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||se(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ae=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function se(e,t){if(e){if("string"==typeof e)return K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?K(e,t):void 0}}function le(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=J(e);if(t){
var o=J(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ne(this,n)}}var ce=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2]
;a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},ue=new j.Z("CacheStore"),fe=!1,de="stable-26",pe=!1,he="initializing",Ee=9e5,ye=0,me=!1,be=!1,ge=!1,Oe=new(a())({max:1});function ve(){ue.log("Clearing cache store");ye=Date.now();U.Z.clear();u.Z.remove(W.FsG);u.Z.remove(W.ihW);u.Z.remove(W.O42);he="no-cache"}function _e(){(0,M.$8)()?pe?ue.log("Not writing cache because caches cleared"):ge?function(){ue.log("Writing cache now");ye=Date.now();var e=Te(),t={version:de,channels:Te(),guilds:Se(),users:Pe(e),readStates:Ce()};me=!0;u.Z.set(W.FsG,t);!function(e,t){var n=oe(function(){var e=C.Z.getGuilds(),t=[],n={};for(var r in e)if(N.Z.hasRestoredGuild(r)){var o=N.Z.getMutableGuildChannelsForGuild(r);for(var i in o){var a=o[i];t.push({id:a.id,type:a.type,guild_id:a.guild_id,parent_id:a.parent_id,computedPermissions:A.Z.computePermissions(a)})}
n[r]=JSON.stringify(Object.values(o))}else{var s=N.Z.getMutableBasicGuildChannelsForGuild(r);t=t.concat(Object.values(s));var l=N.Z.getCachedChannelJsonForGuild(r);T()(null!=l,"Non-restored guild cannot have missing JSON");n[r]=l}return[t,n]}(),2),r=n[0],o=n[1],i=Date.now().toString(),a=ee({version:de,nonce:i,saveableChannels:_.Z.toSnapshot(),privateChannelIds:Ie(),guilds:e,users:Ae(),basicGuildChannels:r,privateChannels:Ne(),emojis:je()},function(e){var t=new Set;for(var n in e)for(var r in e[n]){var o;null===(o=e[n][r].stickers)||void 0===o||o.forEach((function(e){t.add(e.id)}))}var i={},a={};x.Z.getAllGuildStickers().forEach((function(e,n){var r=e.filter((function(e){return t.has(e.id)}));r.length>0&&(i[n]=r);a[n]=e}));return{referencedStickers:i,allStickers:a}}(t)),s={version:de,nonce:i,guildChannels:o};ue.log("Writing lazy cache");u.Z.set(W.ihW,a);u.Z.setRaw(W.O42,function(e){var t=e.version+"\n";t+=e.nonce+"\n";for(var n in e.guildChannels){t+=n+"\n";t+=e.guildChannels[n]+"\n"}
return t}(s));U.Z.persist(i)}(o().values(C.Z.getGuilds()),function(){var e={},t=function(t){var n=B.Z.getRawMessages(t);if(null!=n){var r={};Object.keys(n).sort(l.default.compare).reverse().slice(0,W.AQB).forEach((function(e){var t=n[e];null!=t?t.state!==W.yb.SENDING&&t.state!==W.yb.SEND_FAILED&&(null!=t.author?r[e]=t:ue.warn("Raw message was missing an author!",t)):ue.warn("Raw message was null for a specific messageId!")}));e[t]=r}};Oe.keys().forEach((function(e){t(e)}));return e}());f.Z.dispatch({type:"WRITE_CACHES"})}():ue.log("Not writing cache because never connected"):ue.log("Not writing cache because not authenticated")}function Ie(){return z.Z.getPrivateChannelIds()}function Se(){var e=C.Z.getGuild(F.Z.getGuildId());return null!=e?[e]:[]}function Te(){var e=N.Z.getChannel(V.Z.getChannelId());return null!=e?[e]:[]}function Ne(){var e=[];z.Z.getPrivateChannelIds().forEach((function(t){var n=N.Z.getChannel(t);null!=n&&e.push(n)}));return e}function Ce(){
return H.ZP.getAllReadStates(!1)}function Ae(){var e=new Set;z.Z.getPrivateChannelIds().forEach((function(t){var n=N.Z.getChannel(t);(null==n?void 0:n.isPrivate())&&n.recipients.forEach((function(t){var n=Y.default.getUser(t);null!=n&&e.add(n)}))}));return Array.from(e)}function Pe(e){var t=new Set;e.forEach((function(e){e.isPrivate()&&e.recipients.forEach((function(e){var n=Y.default.getUser(e);null!=n&&t.add(n)}))}));var n=Y.default.getCurrentUser();null!=n&&t.add(n);return Array.from(t)}function je(){var e=k.Z.getGuilds();return o().mapValues(e,(function(e){return e.emojis}))}function xe(e){if(null!=e.guilds){var t=!0,n=!1,r=void 0;try{for(var o,i=e.guilds[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value.roles;if(null!=a)for(var l in a){var c=a[l];c.permissions=s.Z.deserialize(c.permissions)}}}catch(e){n=!0;r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}}"channels"in e&&null!=e.channels&&(0,P.Z)(e.channels)
;"privateChannels"in e&&null!=e.privateChannels&&(0,P.Z)(e.privateChannels);if("basicGuildChannels"in e&&null!=e.basicGuildChannels){var u=!0,f=!1,d=void 0;try{for(var p,h=e.basicGuildChannels[Symbol.iterator]();!(u=(p=h.next()).done);u=!0){var E=p.value;E.computedPermissions=s.Z.deserialize(E.computedPermissions)}}catch(e){f=!0;d=e}finally{try{u||null==h.return||h.return()}finally{if(f)throw d}}}}function Re(){return Me.apply(this,arguments)}function Me(){return(Me=X((function(){var e,t,n,r,o,i,a;return ce(this,(function(s){switch(s.label){case 0:e=performance.now();n=null!==(t=F.Z.getGuildId())&&void 0!==t?t:null;return null==(r=V.Z.getChannelId())?[3,2]:[4,v.startupLoad(n,r,W.AQB)];case 1:o=s.sent();ue.log("loaded ".concat(o.messages.length," messages from kv_storage (guild: ").concat(n,", channel: ").concat(r,")."));i={guildId:n,channelId:r,users:o.users,members:o.members,messages:o.messages};return[2,[performance.now()-e,i]];case 2:a={guildId:null,channelId:null,users:[],
members:[],messages:[]};return[2,[performance.now()-e,a]];case 3:return[2]}}))}))).apply(this,arguments)}function we(){return Ze.apply(this,arguments)}function Ze(){return(Ze=X((function(){var e,t;return ce(this,(function(n){switch(n.label){case 0:e=performance.now();return[4,new Promise((function(e){return u.Z.asyncGet(W.FsG,e)}))];case 1:if((null==(t=n.sent())?void 0:t.version)===de){xe(t);return[2,[performance.now()-e,t]]}ue.log("cache either did not exist, or contains an incompatible version (required: ".concat(de,", loaded: ").concat(null==t?void 0:t.version,")."));return[2,[performance.now()-e,null]]}}))}))).apply(this,arguments)}function Le(){return De.apply(this,arguments)}function De(){return(De=X((function(){var e,t,n,r,o,i,a,s,l;return ce(this,(function(c){switch(c.label){case 0:ue.log("loading early cache");e=performance.now();t=R.Z.loadCachedMessages.measureAsync(Re);0;return[4,R.Z.loadMiniCache.measureAsync(we)];case 1:n=oe.apply(void 0,[c.sent(),2]),r=n[0],o=n[1]
;return[4,t];case 2:i=oe.apply(void 0,[c.sent(),2]),a=i[0],s=i[1];ue.log("cache loaded in ".concat(performance.now()-e,"ms (legacy ").concat(r,"ms, channel-history ").concat(a,"ms)"));if(null!=o&&null!=s){l=Object.fromEntries(s.members.map((function(e){return[e.userId,e]})));f.Z.dispatch(te(ee({},o),{type:"CACHE_LOADED",users:ie(o.users).concat(ie(s.users)),messages:null==s.channelId?{}:$({},s.channelId,s.messages),guildMembers:null==s.guildId?{}:$({},s.guildId,l)}));ue.log("finished dispatching CACHE_LOADED");return[2,!0]}ue.log("finished without dispatching CACHE_LOADED");return[2,!1]}}))}))).apply(this,arguments)}function Ue(){Be((function(){return f.Z.dispatch({type:"CACHE_LOADED_LAZY_NO_CACHE"})}));return Promise.resolve()}function ke(){return Ge.apply(this,arguments)}function Ge(){return(Ge=X((function(){var e,t,n,r;return ce(this,(function(o){switch(o.label){case 0:ue.log("loading late lazy cache");return[4,R.Z.fetchLazyCache.measureAsync((function(){
return Promise.all([u.Z.asyncGetRaw(W.ihW),u.Z.asyncGetRaw(W.O42)])}))];case 1:e=oe.apply(void 0,[o.sent(),2]),t=e[0],n=e[1];return[4,new Promise((function(e){return setTimeout(e,0)}))];case 2:o.sent();R.Z.loadLazyCache.recordStart();r=G.Z.getSocket();Be((function(){var e=performance.now();if(be){ue.log("Skipping lazy cache; already connected.");f.Z.dispatch({type:"CACHE_LOADED_LAZY_NO_CACHE"})}else if(null!=t){r.addAnalytics({hadCacheAtStartup:!0});var o=R.Z.parseLazyCache.measure((function(){return JSON.parse(t)}));if(o.version===de){var i=U.Z.getSavedNonce();if(""===i||o.nonce===i){var a=R.Z.parseLazyChannelsCache.measure((function(){return null!=n?I(n,de):null}));if(null!=a)if(o.nonce===a.nonce){R.Z.deserializeCache.measure((function(){return xe(o)}));R.Z.dispatchLazyCache.measure((function(){f.Z.dispatch(te(ee({type:"CACHE_LOADED_LAZY"},o),{guildChannelsJson:a.guildChannels}))}));ue.log("Lazy cache has loaded, took ".concat(performance.now()-e," ms"));r.addAnalytics({
usedCacheAtStartup:!0})}else{ue.log("Caches have mismatched nonces.");f.Z.dispatch({type:"CACHE_LOADED_LAZY_NO_CACHE"})}else{ue.log("Saved cached channels has mismatched version or missing.");f.Z.dispatch({type:"CACHE_LOADED_LAZY_NO_CACHE"})}}else{ue.log("ClientStateStore has mismatched nonces with cache.");f.Z.dispatch({type:"CACHE_LOADED_LAZY_NO_CACHE"})}}else{ue.log("Saved cached has mismatched version. Expected ".concat(de,", got ").concat(o.version));f.Z.dispatch({type:"CACHE_LOADED_LAZY_NO_CACHE"})}}else{ue.log("Lazy cache was missing");f.Z.dispatch({type:"CACHE_LOADED_LAZY_NO_CACHE"})}}));return[2]}}))}))).apply(this,arguments)}function Be(e){var t=G.Z.getSocket(),n=!1;c.ZP.Emitter.batched((function(){try{e();if(t.hasQueuedDispatches()){n=!0;R.Z.loadLazyCache.recordEnd();t.processFirstQueuedDispatch();setTimeout((function(){t.processDispatchQueue()}),100)}else t.processDispatchQueue()}catch(e){Z.Z.captureException(e);ue.warn("Lazy cache has encountered error",e);ve()
;t.processDispatchQueue()}}));n||R.Z.loadLazyCache.recordEnd()}var He=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&re(e,t)}(n,e);var t=le(n);function n(){Q(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){if(!fe){G.Z.getSocket().processDispatchQueue()}};r.hasCache=function(){return!fe||me};r.getLazyCacheStatus=function(){return fe?he:"no-cache"};r.loadCacheAsync=function(e){return X((function(){var t,n,r;return ce(this,(function(o){switch(o.label){case 0:t=function(e){var t=void 0,n=!1;return function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];if(!n){n=!0;t=e.apply(void 0,D(o))}return t}}(e);o.label=1;case 1:o.trys.push([1,7,,8]);return[4,Le()];case 2:if(!o.sent())return[3,4];t();return[4,ke()];case 3:o.sent();return[3,6];case 4:t()
;return[4,Ue()];case 5:o.sent();o.label=6;case 6:return[3,8];case 7:n=o.sent();ve();ue.error("clearing cache. exception encountered while loading cache.",n,n.stack);t();Z.Z.captureException(n);null===(r=G.Z.getSocket())||void 0===r||r.processDispatchQueue();return[3,8];case 8:return[2]}}))}))()};r.__getLocalVars=function(){return{logger:ue,CACHE_VERSION:de,cacheCleared:pe,lazyCacheStatus:he,MIN_CACHE_WRITE_DELAY:Ee,lastWriteTime:ye,hasCache:me,connected:be,hasEverConnected:ge,MAX_VISITED_CHANNELS_CACHE:1,channelsCache:Oe,instance:Ve}};return n}(c.ZP.Store);He.displayName="CacheStore";var Ve=new He(f.Z,fe?{CONNECTION_OPEN:function(){be=!0;ge=!0;0;return!1},LOGOUT:function(){ve()},CHANNEL_SELECT:function(e){var t=e.channelId;null!=t&&Oe.set(t,!0);return!1},CONNECTION_CLOSED:function(){be=!1;ge=!0;ue.log("Writing cache on connection closed");_e();return!1},APP_STATE_UPDATE:function(e){var t=e.state;((0,w.Dt)()?W.$7l.BACKGROUND:W.$7l.INACTIVE)===t&&be&&_e();return!1},
CACHE_LOADED:function(){me=!0},CACHE_LOADED_LAZY:function(){me=!0;he="cache-loaded"},CACHE_LOADED_LAZY_NO_CACHE:function(){he="no-cache"},CLEAR_CACHES:function(){ve();pe=!0},WINDOW_FOCUS:function(e){if(!e.focused)if(Date.now()-ye>Ee){ue.log("Writing cache from window unfocus");_e()}else ue.log("Not writing cache from window unfocus");return!1}}:{})},695489:(e,t,n)=>{"use strict";n.d(t,{Z:()=>k});var r=n(496486),o=n.n(r),i=n(363010),a=n(173436),s=n(696534),l=n(763696),c=n(653772),u=n(940712),f=n(642793),d=n(461061);function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function y(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n
;return e}function m(e){m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return m(e)}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){y(e,t,n[t])}))}return e}function g(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function O(e,t){O=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return O(e,t)}function v(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return
;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var _=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}
var S,T,N,C=[],A=null,P=!1,j=d.QZA.CLOSED,x={},R=!1,M=null;function w(){T=l.Z.getChannel();S=null!=T?c.Z.getGuild(T.guild_id):null;C=null!=T&&null!=S&&u.Z.can(d.Plq.MANAGE_WEBHOOKS,T)?f.Z.getWebhooksForChannel(S.id,T.id):[];if(null!=A){var e=L(A.id);null!=e&&(A=e)}j=d.QZA.OPEN;x={};R=!1}var Z=o().debounce((function(){if(R){(null==A||o().isEqual(A,L(A.id)))&&(R=!1);R||U.emitChange()}}),500);function L(e){return C.find((function(t){return t.id===e}))}var D=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&O(e,t)}(n,e);var t=I(n);function n(){h(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(l.Z,c.Z,f.Z,u.Z)};r.hasChanges=function(){return R};r.getWebhook=function(e){return L(e)};r.showNotice=function(){return this.hasChanges()};r.getProps=function(){return{
submitting:j===d.QZA.SUBMITTING,webhooks:C,editedWebhook:A,section:N,sectionId:M,hasChanges:this.hasChanges(),isFetching:P,errors:x}};r.__getLocalVars=function(){return{webhooks:C,editedWebhook:A,isFetchingWebhooks:P,guild:S,channel:T,formState:j,errors:x,hasChanges:R,section:N,sectionId:M,validateUpdate:Z,storeInstance:U}};!function(e,t,n){t&&E(e.prototype,t);n&&E(e,n)}(n,[{key:"webhooks",get:function(){return C}},{key:"editedWebhook",get:function(){return A}},{key:"formState",get:function(){return j}}]);return n}(i.ZP.Store);D.displayName="ChannelSettingsIntegrationsStore";var U=new D(a.Z,__OVERLAY__?{}:{INTEGRATION_SETTINGS_INIT:w,INTEGRATION_SETTINGS_SAVE_SUCCESS:w,CHANNEL_SETTINGS_SET_SECTION:function(e){if(e.section!==d.CoT.INTEGRATIONS)return!1;N=d.b4C.OVERVIEW;if(null==S){var t=l.Z.getChannel(),n=null==t?void 0:t.getGuildId();if(null!=t&&null!=n){s.Z.fetchForChannel(n,t.id);P=!0}w()}},INTEGRATION_SETTINGS_SET_SECTION:function(e){var t=e.section,n=e.sectionId;N=t;M=n},
INTEGRATION_SETTINGS_START_EDITING_WEBHOOK:function(e){var t=L(e.webhookId);if(null==t)return!1;A=t;x={};R=!1},INTEGRATION_SETTINGS_STOP_EDITING_WEBHOOK:function(){A=null;x={};R=!1},INTEGRATION_SETTINGS_UPDATE_WEBHOOK:function(e){var t=e.settings;if(null==A)return!1;A=b({},A);if(null!=t.name&&A.name!==t.name){A.name=t.name;R=!0}if(void 0!==t.avatar&&A.avatar!==t.avatar){A.avatar=t.avatar;R=!0}if(null!=t.channelId&&A.channel_id!==t.channelId){A.channel_id=t.channelId;R=!0}R&&Z()},CHANNEL_SETTINGS_CLOSE:function(){T=null;S=null;C=[];A=null;j=d.QZA.CLOSED},WEBHOOKS_UPDATE:function(e){var t=function(e){var t=C[e];if(null!=r&&(null==t?void 0:t.channel_id)!==r)return"continue";var n=o.find((function(e){if(e.id===t.id)return!0}));if(null!=n){var i=b({},t,n);C[e]=i;R||(null==A?void 0:A.id)!==i.id||(A=i)}else{(null==A?void 0:A.id)===t.id&&(A=null);C.splice(e,1)}},n=e.guildId,r=e.channelId,o=e.webhooks;if(null==S||n!==S.id||null==T||r!==T.id||null==o||j===d.QZA.SUBMITTING)return!1;P=!1
;for(var i=C.length-1;i>=0;i--)t(i);var a=!0,s=!1,l=void 0;try{for(var c,u=function(){var e=c.value,t=C.find((function(t){if(t.id===e.id)return!0}));null==t&&C.push(e)},f=o[Symbol.iterator]();!(a=(c=f.next()).done);a=!0)u()}catch(e){s=!0;l=e}finally{try{a||null==f.return||f.return()}finally{if(s)throw l}}C=v(C);Z()},INTEGRATION_SETTINGS_SUBMITTING:function(){j=d.QZA.SUBMITTING;x={}},INTEGRATION_SETTINGS_SAVE_FAILURE:function(e){if(j!==d.QZA.SUBMITTING)return!1;j=d.QZA.OPEN;var t;x=null!==(t=e.errors)&&void 0!==t?t:{}}});const k=U},201055:(e,t,n)=>{"use strict";n.d(t,{Z:()=>k});var r=n(496486),o=n.n(r),i=n(363010),a=n(444450),s=n(173436),l=n(890889),c=n(763696),u=n(356004),f=n(461061),d=n(862045);function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function E(e,t,n){
t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function y(e){y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return y(e)}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){E(e,t,n[t])}))}return e}function b(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){
Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function g(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function O(e,t){O=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return O(e,t)}var v=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}var I,S,T=new Set,N=f.QZA.CLOSED,C=!1,A=null,P=null,j=null,x=null,R=null,M=null,w=a.Z.get(d.kf)||!1;function Z(e){
var t=e.getGuildId(),n=m({},e.permissionOverwrites);null!=t&&null==n[t]&&(n[t]=l.ZP.makeEveryoneOverwrite(t));return n}function L(){j=c.Z.getChannel();x=c.Z.getCategory();if(null==j)return!1;var e=j.getGuildId();P=A=Z(j);null==A[R]&&(R=e);S=null!=x;I=l.ZP.areChannelsLocked(j,x);M=null;C=!1;N=f.QZA.CLOSED;T.clear()}function D(e){if(null==j||j.id!==e)return!1;if(null==(j=u.Z.getChannel(e)))return!1;x=c.Z.getCategory();var t=j.getGuildId();if(null==t)return!1;P=Z(j);var n={};T.forEach((function(e){null!=A&&(n[e]=A[e])}));null==n[t]&&null==j.permissionOverwrites[t]&&(n[t]=l.ZP.makeEveryoneOverwrite(t));if(null==(A=m({},j.permissionOverwrites,n))[R])R=t;else if(null!=M&&null!=A[M]){R=M;M=null}I=l.ZP.areChannelsLocked(j,x);return!0}var U=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&O(e,t)}(n,e);var t=_(n)
;function n(){p(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(c.Z,u.Z)};r.hasChanges=function(){return C};r.showNotice=function(){return this.hasChanges()};r.getPermissionOverwrite=function(e){return null==A?void 0:A[e]};r.__getLocalVars=function(){return{editedPermissions:T,formState:N,hasChanges:C,locked:I,isLockable:S,permissionOverwrites:A,originalPermissionOverwrites:P,channel:j,category:x,selectedOverwriteId:R,queuedSelectedOverwriteId:M,advancedMode:w}};!function(e,t,n){t&&h(e.prototype,t);n&&h(e,n)}(n,[{key:"editedPermissionIds",get:function(){return Array.from(T)}},{key:"permissionOverwrites",get:function(){return A}},{key:"selectedOverwriteId",get:function(){return R}},{key:"formState",get:function(){return N}},{key:"isLockable",get:function(){return S}},{key:"locked",get:function(){return I}},{key:"channel",get:function(){return j}},{key:"category",get:function(){return x}},{key:"advancedMode",get:function(){return w}}])
;return n}(i.ZP.Store);U.displayName="ChannelSettingsPermissionsStore";const k=new U(s.Z,{CHANNEL_SETTINGS_SET_SECTION:function(e){var t=e.section;if(null!=j||t!==f.CoT.PERMISSIONS)return!1;L()},CHANNEL_SETTINGS_PERMISSIONS_INIT:L,CHANNEL_SETTINGS_PERMISSIONS_UPDATE_PERMISSION:function(e){var t=e.id,n=e.allow,r=e.deny,i=null==A?void 0:A[t];if(null==i||null==j)return!1;i=b(m({},i),{allow:n,deny:r});A=b(m({},A),E({},t,i));T.add(t);N=f.QZA.OPEN;C=!o().isEqual(A,P);I=l.ZP.areChannelsLocked(j,x)},CHANNEL_SETTINGS_PERMISSIONS_SELECT_PERMISSION:function(e){var t=e.id;if(null!=A&&null!=A[t])R=t;else{if(null==j)return!1;M=t}},CHANNEL_SETTINGS_CLOSE:function(){N=f.QZA.CLOSED;A=null;P=null;j=null;x=null;C=!1;T.clear();R=null;M=null},CHANNEL_UPDATES:function(e){var t=e.updates;if(null==j)return!1;var n=!1,r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){!1!==D(a.value.channel.id)&&(n=!0)}}catch(e){o=!0;i=e}finally{try{r||null==s.return||s.return()}finally{
if(o)throw i}}return n},CHANNEL_SETTINGS_PERMISSIONS_SUBMITTING:function(){N=f.QZA.SUBMITTING},CHANNEL_SETTINGS_PERMISSIONS_SAVE_SUCCESS:function(e){if(e.silent)N=f.QZA.OPEN;else{N=f.QZA.CLOSED;L()}},CHANNEL_SETTINGS_PERMISSIONS_SET_ADVANCED_MODE:function(e){var t=e.advancedMode;w=t;a.Z.set(d.kf,t)}})},763696:(e,t,n)=>{"use strict";n.d(t,{Z:()=>z});var r=n(496486),o=n.n(r),i=n(730381),a=n.n(i),s=n(363010),l=n(675860),c=n(173436),u=n(53551),f=n(989232),d=n(548349),p=n(775041),h=n(356004),E=n(461061);function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function b(e){b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return b(e)}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){m(e,t,n[t])}))}return e}function O(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function v(e,t){return!t||"object"!==I(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e,t){_=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _(e,t)}var I=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var o=b(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}var T,N,C,A,P,j,x=E.QZA.CLOSED,R={},M={},w=!1,Z=!1,L=null,D=["name","type","topic_","bitrate_","userLimit_","nsfw_","flags_","rateLimitPerUser_","defaultThreadRateLimitPerUser","defaultAutoArchiveDuration","template","defaultReactionEmoji","rtcRegion","videoQualityMode","threadMetadata","banner","availableTags","defaultSortOrder","defaultForumLayout"];function U(e){if(null==C||C.id!==e)return!1;if(C===A){var t=h.Z.getChannel(e);if(null==t)return!1;A=C=t;P=h.Z.getChannel(A.parent_id)}else{
var n=h.Z.getChannel(e);if(null==n)return!1;C=n;if(null!=A){A=A.set("permissionOverwrites",C.permissionOverwrites);P=h.Z.getChannel(A.parent_id)}}return!0}function k(e){var t=h.Z.getChannel(e.channelId);if(null==t)return B();x=E.QZA.OPEN;A=C=t;L="location"in e&&null!=e.location?e.location:null;N="subsection"in e?e.subsection:null;null!=A&&(A=A.set("nsfw",A.isNSFW()));P=h.Z.getChannel(A.parent_id);j=A.getGuildId();R={};G({type:"CHANNEL_SETTINGS_SET_SECTION",section:null!=T?T:E.CoT.OVERVIEW,subsection:N})}function G(e){T=e.section;N=e.subsection;if(null!=A&&T===E.CoT.INSTANT_INVITES){w=!0;l.Z.get({url:E.ANM.INSTANT_INVITES(A.id),oldFormErrors:!0}).then((function(e){w=!1;c.Z.dispatch({type:"CHANNEL_SETTINGS_LOADED_INVITES",invites:e.body})}),(function(){return w=!1}))}}function B(){Z=!1;x=E.QZA.CLOSED;T=null;A=C=null;P=null;M={}}var H=o().debounce((function(){if(null==A||null==C)return!1;var e=A.toJS(),t=C.toJS();if(D.every((function(n){return e[n]===t[n]}))&&A!==C){A=C;Y.emitChange()}
}),500);function V(e){return new d.Z({code:e.code,temporary:e.temporary,revoked:e.revoked,inviter:null!=e.inviter?new p.Z(e.inviter):null,channel:(0,u.jD)(e.channel),guild:null!=e.guild?new f.Z(e.guild):null,uses:e.uses,maxUses:e.max_uses,maxAge:e.max_age,createdAt:a()(e.created_at),type:e.type})}var F=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&_(e,t)}(n,e);var t=S(n);function n(){y(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(h.Z)};r.hasChanges=function(){return A!==C};r.isOpen=function(){return Z};r.getSection=function(){return T};r.getInvites=function(){return{invites:M,loading:w}};r.showNotice=function(){return this.hasChanges()};r.getChannel=function(){return A};r.getFormState=function(){return x};r.getCategory=function(){return P}
;r.getProps=function(){return{submitting:x===E.QZA.SUBMITTING,errors:R,channel:A,section:T,subsection:N,invites:M,selectedOverwriteId:j,hasChanges:this.hasChanges(),analyticsLocation:L}};r.__getLocalVars=function(){return{formState:x,section:T,subsection:N,originalChannel:C,channel:A,category:P,errors:R,invites:M,selectedOverwriteId:j,loadingInvites:w,open:Z,analyticsLocation:L,CHANNEL_PROPERTIES:D,validateUpdate:H,storeInstance:Y}};return n}(s.ZP.Store);F.displayName="ChannelSettingsStore";var Y=new F(c.Z,{CHANNEL_SETTINGS_INIT:k,CHANNEL_SETTINGS_OPEN:function(e){Z=!0;k(e)},CHANNEL_SETTINGS_SUBMIT:function(){x=E.QZA.SUBMITTING;R={}},CHANNEL_SETTINGS_SUBMIT_SUCCESS:function(){C=A;x=E.QZA.OPEN},CHANNEL_SETTINGS_SUBMIT_FAILURE:function(e){x=E.QZA.OPEN;var t;R=Object.keys(null!==(t=e.errors)&&void 0!==t?t:{}).reduce((function(t,n){var o=e.errors[n];(0,r.isArray)(o)?t[n]=o.join("\n"):t[n]=o;return t}),{})},CHANNEL_SETTINGS_CLOSE:B,CHANNEL_SETTINGS_OVERWRITE_SELECT:function(e){
var t=e.overwriteId;j=t},CHANNEL_SETTINGS_UPDATE:function(e){var t=e.name,n=e.channelType,r=e.topic,o=e.bitrate,i=e.userLimit,a=e.nsfw,s=e.flags,l=e.rateLimitPerUser,c=e.defaultThreadRateLimitPerUser,u=e.autoArchiveDuration,f=e.locked,d=e.invitable,p=e.defaultAutoArchiveDuration,h=e.template,E=e.defaultReactionEmoji,y=e.rtcRegion,m=e.videoQualityMode,b=e.availableTags,v=e.defaultSortOrder,_=e.defaultForumLayout;if(null==A)return!1;null!=t&&(A=A.set("name",t));null!=r&&(A=A.set("topic",r));null!=o&&(A=A.set("bitrate",o));null!=i&&(A=A.set("userLimit",i));null!=a&&(A=A.set("nsfw",a));null!=s&&(A=A.set("flags",s));null!=l&&(A=A.set("rateLimitPerUser",l));null!=c&&(A=A.set("defaultThreadRateLimitPerUser",c));null!=u&&(A=A.set("threadMetadata",O(g({},A.threadMetadata),{autoArchiveDuration:u})));null!=f&&(A=A.set("threadMetadata",O(g({},A.threadMetadata),{locked:f})));null!=d&&(A=A.set("threadMetadata",O(g({},A.threadMetadata),{invitable:d})))
;null!=p&&(A=A.set("defaultAutoArchiveDuration",p));null!=h&&(A=A.set("template",h));null!=n&&(A=A.set("type",n));void 0!==y&&(A=A.set("rtcRegion",y));null!=m&&(A=A.set("videoQualityMode",m));void 0!==E&&(A=A.set("defaultReactionEmoji",E));null!=b&&(A=A.set("availableTags",b));null!=v&&(A=A.set("defaultSortOrder",v));null!=_&&(A=A.set("defaultForumLayout",_));H()},CHANNEL_SETTINGS_SET_SECTION:G,CHANNEL_SETTINGS_LOADED_INVITES:function(e){M={};e.invites.forEach((function(e){M[e.code]=V(e)}))},CHANNEL_UPDATES:function(e){var t=e.updates;if(null==A)return!1;var n=!1,r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){if(U(a.value.channel.id)&&null!=A){null!=j&&null==A.permissionOverwrites[j]&&(j=A.getGuildId());n=!0}}}catch(e){o=!0;i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n},CHANNEL_DELETE:function(e){var t=e.channel.id;if(null==A)return!1;if(A.id!==t)return!1;x=E.QZA.CLOSED},INSTANT_INVITE_REVOKE_SUCCESS:function(e){
delete(M=g({},M))[e.code]},INSTANT_INVITE_CREATE_SUCCESS:function(e){M=O(g({},M),m({},e.invite.code,V(e.invite)))}});const z=Y},262941:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var r=n(363010),o=n(173436),i=n(859023),a=n(461061);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e){l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return l(e)}function c(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e,t){u=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return u(e,t)}var f=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{
Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}var p=null;var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&u(e,t)}(n,e);var t=d(n);function n(){s(this,n);return t.apply(this,arguments)}var r=n.prototype;r.getHouseMembership=function(){return p};r.__getLocalVars=function(){return{houseID:p}};return n}(r.ZP.Store);h.displayName="HypeSquadStore";const E=new h(o.Z,{CONNECTION_OPEN:function(){var e=i.default.getCurrentUser()
;null!=e&&(e.hasFlag(a.xW$.HYPESQUAD_ONLINE_HOUSE_1)?p=a.gkr.HOUSE_1:e.hasFlag(a.xW$.HYPESQUAD_ONLINE_HOUSE_2)?p=a.gkr.HOUSE_2:e.hasFlag(a.xW$.HYPESQUAD_ONLINE_HOUSE_3)&&(p=a.gkr.HOUSE_3))},HYPESQUAD_ONLINE_MEMBERSHIP_LEAVE_SUCCESS:function(){p=null},HYPESQUAD_ONLINE_MEMBERSHIP_JOIN_SUCCESS:function(e){p=e.houseID}})},535583:(e,t,n)=>{"use strict";n.d(t,{Z:()=>A});var r=n(496486),o=n.n(r),i=n(363010),a=n(173436),s=n(992553),l=n(631134),c=n(403872),u=n(934714),f=n(461061);function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function h(e){h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return h(e)}function E(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e)
;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function y(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e,t){m=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return m(e,t)}var b,g=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){
var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}var v={};function _(e,t){if(null==b)throw new Error("Creating RTCConnection without session.");var n=c.Z.getLobby(e);if(null==n)throw new Error("Creating RTCConnection without lobby.");var r=n.application_id,o=new s.Z({userId:l.default.getId(),sessionId:b,guildId:e,channelId:t,context:r});o.on("state",(function(t,n,r){a.Z.dispatch(E(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){p(e,t,n[t])}))}return e}({type:"RTC_CONNECTION_STATE",state:t},n,r),{lobbyId:e}))}));o.on("ping",(function(t,n){a.Z.dispatch({type:"RTC_CONNECTION_PING",pings:t,quality:n,lobbyId:e})}));o.on("outboundlossrate",(function(t){a.Z.dispatch({
type:"RTC_CONNECTION_LOSS_RATE",lossRate:t,lobbyId:e})}));return o}function I(){o().forEach(v,(function(e,t){e.destroy();delete v[t]}))}function S(e,t,n){var r=v[e];return null!=r?t(r):n}function T(e){var t=e.lobbyId,n=v[t];if(null==n)return!1;n.destroy();delete v[t]}function N(){return!0}var C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&m(e,t)}(n,e);var t=O(n);function n(){d(this,n);return t.apply(this,arguments)}var r=n.prototype;r.forEach=function(e){o().each(v,e)};r.getState=function(e){return S(e,(function(e){return e.state}),f.hes.DISCONNECTED)};r.isConnected=function(e){return this.getState(e)===f.hes.RTC_CONNECTED};r.isDisconnected=function(e){return this.getState(e)===f.hes.DISCONNECTED};r.getHostname=function(e){return S(e,(function(e){return e.hostname}),null)};r.getQuality=function(e){
return S(e,(function(e){return e.quality}),f.IE4.UNKNOWN)};r.getPings=function(e){return S(e,(function(e){return e.getPings()}),[])};r.getAveragePing=function(e){return S(e,(function(e){return e.getAveragePing()}),0)};r.getLastPing=function(e){return S(e,(function(e){return e.getLastPing()}),0)};r.getOutboundLossRate=function(e){return S(e,(function(e){return e.getOutboundLossRate()}),0)};r.getMediaSessionId=function(e){return S(e,(function(e){return e.getMediaSessionId()}),null)};r.getRTCConnectionId=function(e){return S(e,(function(e){return e.getRTCConnectionId()}),null)};r.getDuration=function(e){return S(e,(function(e){return e.getDuration()}),0)};r.__getLocalVars=function(){return{sessionId:b,rtcConnections:v}};return n}(i.ZP.Store);C.displayName="RTCConnectionStore";const A=new C(a.Z,u.Z.isSupported()?{CONNECTION_OPEN:function(e){b=e.sessionId;I()},CONNECTION_CLOSED:function(){b=null;I()},RTC_CONNECTION_STATE:N,RTC_CONNECTION_PING:N,RTC_CONNECTION_LOSS_RATE:N,
RTC_CONNECTION_UPDATE_ID:function(e){return o().some(v,(function(t){return t===e.connection}))},LOBBY_VOICE_STATE_UPDATE:function(e){if(l.default.getId()!==e.userId)return!1;if(e.sessionId!==b)return!1;var t=v[e.lobbyId];if(null!=t&&null==e.channelId){t.destroy();delete v[e.lobbyId]}else if(null!=t)t.channelId=e.channelId;else if(null!=e.channelId){t=_(e.lobbyId,e.channelId);v[e.lobbyId]=t}},LOBBY_VOICE_SERVER_UPDATE:function(e){var t=v[e.lobbyId];if(null==t)return!1;t.connect(e.endpoint,e.token)},LOBBY_DELETE:T,LOBBY_DISCONNECT:T}:{})},585771:(e,t,n)=>{"use strict";n.d(t,{Z:()=>O});var r=n(496486),o=n.n(r),i=n(974119),a=n(363010),s=n(173436);function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function u(e){u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){
return e.__proto__||Object.getPrototypeOf(e)};return u(e)}function f(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e,t){d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return d(e,t)}var p=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}var E=!1,y=[],m="",b={viewNonce:"",regenerateNonce:""};var g=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&d(e,t)}(n,e);var t=h(n);function n(){l(this,n);return t.apply(this,arguments)}var r=n.prototype;r.getVerificationKey=function(){return m};r.getBackupCodes=function(){return y};r.getNonces=function(){return b};r.__getLocalVars=function(){return{togglingSMS:E,backupCodes:y,verificationKey:m,backupCodesNonces:b}};!function(e,t,n){t&&c(e.prototype,t);n&&c(e,n)}(n,[{key:"togglingSMS",get:function(){return E}}]);return n}(a.ZP.Store);g.displayName="MFAStore";const O=new g(s.Z,{MFA_ENABLE_SUCCESS:function(e){var t=e.token,n=e.codes;i.Z.setToken(t);y=n},MFA_DISABLE_SUCCESS:function(e){var t=e.token;i.Z.setToken(t)},MFA_SMS_TOGGLE:function(){E=!0},MFA_SMS_TOGGLE_COMPLETE:function(){E=!1},MFA_CLEAR_BACKUP_CODES:function(){y=[]},MFA_VIEW_BACKUP_CODES:function(e){var t=e.codes,n=e.key
;y=o().sortBy(t,"code");m=n},MFA_SEND_VERIFICATION_KEY:function(e){var t=e.nonces;b=t}})},928926:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),s=n(776680),l=n.n(s);function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function f(e){f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return f(e)}function d(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))
;return e}function p(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function h(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function E(e,t){E=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return E(e,t)}var y=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{
Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&E(e,t)}(n,e);var t=m(n);function n(){c(this,n);return t.apply(this,arguments)}n.prototype.render=function(){var e,t=this.props,n=t.tag,o=t.children,i=t.hoverText,s=t.className,c=t.forceHover,f=p(t,["tag","children","hoverText","className","forceHover"]);return(0,r.jsxs)("div",d(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){u(e,t,n[t])}))}return e}({},f),{className:a()(s,l().hoverRoll,(e={},u(e,l().disabled,null==i),u(e,l().forceHover,c),e)),children:[(0,r.jsx)(n,{className:l().hovered,children:i}),(0,r.jsx)(n,{className:l().default,children:o})]}))};return n}(o.PureComponent);b.defaultProps={tag:"div",forceHover:!1};const g=b},897108:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(785893),o=(n(667294),n(294184)),i=n.n(o),a=n(331535),s=n(202133),l=n.n(s);function c(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){c(e,t,n[t])}))}return e}function f(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function d(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function p(e){
var t,n=e.padded,o=void 0===n||n,s=e.inset,p=void 0!==s&&s,h=e.active,E=void 0!==h&&h,y=e.className,m=e.children,b=e.onClick,g=d(e,["padded","inset","active","className","children","onClick"]);if(null!=b){var O;return(0,r.jsx)(a.P3,f(u({onClick:b,tabIndex:null!=b?0:-1,className:i()(y,(O={},c(O,l().outer,!p),c(O,l().inset,p),c(O,l().padded,o),c(O,l().active,E),c(O,l().interactive,null!=b),O))},g),{children:m}))}return(0,r.jsx)("div",f(u({className:i()(y,(t={},c(t,l().outer,!p),c(t,l().inset,p),c(t,l().padded,o),c(t,l().active,E),t))},g),{children:m}))}},379579:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(785893),o=(n(667294),n(240243));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
;t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function l(e){var t=e.color,n=e.height,l=void 0===n?24:n,c=e.width,u=void 0===c?24:c,f=s(e,["color","height","width"]);return(0,r.jsx)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({},(0,o.Z)(f)),{width:u,height:l,viewBox:"0 0 24 24",children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.2929 9.8299L19.9409 9.18278C21.353 7.77064 21.353 5.47197 19.9409 4.05892C18.5287 2.64678 16.2292 2.64678 14.817 4.05892L14.1699 4.70694L19.2929 9.8299ZM12.8962 5.97688L5.18469 13.6906L10.3085 18.813L18.0201 11.0992L12.8962 5.97688ZM4.11851 20.9704L8.75906 19.8112L4.18692 15.239L3.02678 19.8796C2.95028 20.1856 3.04028 20.5105 3.26349 20.7337C3.48669 20.9569 3.8116 21.046 4.11851 20.9704Z",fill:t})}))}},225376:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(785893),o=(n(667294),n(240243));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){
var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function l(e){var t=e.width,n=void 0===t?24:t,l=e.height,c=void 0===l?24:l,u=e.color,f=void 0===u?"currentColor":u,d=e.foreground,p=s(e,["width","height","color","foreground"]);return(0,r.jsx)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({},(0,o.Z)(p)),{width:n,height:c,viewBox:"0 0 24 24",children:(0,r.jsx)("path",{fill:f,className:d,d:"M12 2C6.477 2 2 6.477 2 12C2 17.522 6.477 22 12 22C17.523 22 22 17.522 22 12C22 6.477 17.522 2 12 2ZM16.293 6.293L17.707 7.706L16.414 9L17.707 10.293L16.293 11.706L13.586 9L16.293 6.293ZM6.293 7.707L7.707 6.294L10.414 9L7.707 11.707L6.293 10.294L7.586 9L6.293 7.707ZM18 14C18 16.617 15.14 19 12 19C8.86 19 6 16.617 6 14V13H18V14Z"})}))}},28184:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(785893),o=(n(667294),n(240243));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function l(e){
var t=e.width,n=void 0===t?16:t,l=e.height,c=void 0===l?16:l,u=e.color,f=void 0===u?"currentColor":u,d=e.className,p=e.foreground,h=s(e,["width","height","color","className","foreground"]);return(0,r.jsx)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({className:d,width:n,height:c,viewBox:"0 0 16 16"},(0,o.Z)(h)),{children:(0,r.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,r.jsx)("path",{className:p,fill:f,
d:"M0,1.99406028 C0,0.892771196 0.894513756,0 1.99406028,0 L14.0059397,0 C15.1072288,0 16,0.894513756 16,1.99406028 L16,14.0059397 C16,15.1072288 15.1054862,16 14.0059397,16 L1.99406028,16 C0.892771196,16 0,15.1054862 0,14.0059397 L0,1.99406028 Z M8.23182341,16 L10.3991764,16 L10.3991764,9.93141161 L12.5663127,9.93141161 L13,7.76405862 L10.3991764,7.76405862 L10.3246195,6.3468265 C10.3246195,5.66107601 10.5049432,5.17342158 11.4698488,5.17342158 L12.974642,5.17385505 L12.974642,3.12202197 C12.7618079,3.09319618 12.3142495,3 11.4644304,3 C9.69001851,3 8.18500859,4.20353112 8.18500859,6.23043964 L8.23182341,7.76405862 L6.06425368,7.76405862 L6.06425368,9.93141161 L8.23182341,9.93141161 L8.23182341,16 Z"}),(0,r.jsx)("rect",{width:"16",height:"16"})]})}))}},471730:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(785893),o=(n(667294),n(240243));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){
t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function l(e){
var t=e.width,n=void 0===t?16:t,l=e.height,c=void 0===l?16:l,u=e.color,f=void 0===u?"currentColor":u,d=e.className,p=e.foreground,h=s(e,["width","height","color","className","foreground"]);return(0,r.jsx)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({className:d,xmlns:"http://www.w3.org/2000/svg",width:n,height:c,viewBox:"0 0 16 16"},(0,o.Z)(h)),{children:(0,r.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,r.jsx)("path",{className:p,fill:f,
d:"M4.70012698,0.0531746 C3.84888888,0.092 3.2675238,0.22720635 2.7588254,0.42492063 C2.23292063,0.62926983 1.78692063,0.90273016 1.3422857,1.34733333 C0.89768254,1.79196825 0.62422222,2.23796825 0.41987302,2.76387303 C0.22215872,3.27257143 0.08695238,3.85393651 0.04812698,4.7051746 C0.00920635,5.55819048 0,5.83053968 0,8.00253968 C0,10.1745079 0.00920635,10.4468571 0.04812698,11.299873 C0.08695238,12.1511111 0.22215873,12.7324762 0.41987302,13.2411746 C0.62422222,13.7670794 0.89768254,14.2130794 1.34228572,14.6577143 C1.78692062,15.1023175 2.23292062,15.3757778 2.7588254,15.5801587 C3.2675238,15.7778413 3.8488889,15.9130476 4.70012698,15.951873 C5.55314286,15.9907937 5.82549206,16 7.99749206,16 C10.1694603,16 10.4418095,15.9907937 11.2948254,15.951873 C12.1460635,15.9130476 12.7274286,15.7778413 13.236127,15.5801587 C13.7620317,15.3757778 14.2080317,15.1023175 14.6526667,14.6577143 C15.0972698,14.2130794 15.3707302,13.7670794 15.5751111,13.2411746 C15.7727937,12.7324762 15.908,12.1511111 15.9468254,11.299873 C15.985746,10.4468571 15.9949524,10.1745079 15.9949524,8.00253968 C15.9949524,5.83053968 15.985746,5.55819048 15.9468254,4.7051746 C15.908,3.8539365 15.7727937,3.27257143 15.5751111,2.76387302 C15.3707302,2.23796825 15.0972698,1.79196825 14.6526667,1.34733332 C14.2080317,0.90273016 13.7620317,0.62926984 13.236127,0.42492064 C12.7274286,0.22720634 12.1460635,0.092 11.2948254,0.0531746 C10.4418095,0.01425397 10.1694603,0.00504762 7.99749206,0.00504762 C5.82549206,0.00504762 5.55314286,0.01425397 4.70012698,0.0531746 L4.70012698,0.0531746 Z M8.00001453,2.00504762 C9.95416635,2.00504762 10.185649,2.01251386 10.9573741,2.04772432 C11.6709381,2.08026206 12.0584565,2.19948958 12.3163471,2.29971739 C12.6579641,2.43248289 12.9017646,2.59107525 13.157854,2.84719363 C13.4139723,3.10328295 13.5725647,3.34708347 13.7053302,3.68870053 C13.805558,3.94659105 13.9247856,4.33410953 13.9573233,5.04767346 C13.9925338,5.8193986 14,6.05088127 14,8.00506213 C14,9.95921396 13.9925338,10.1906966 13.9573233,10.9624217 C13.9247856,11.6759857 13.805558,12.0635042 13.7053302,12.3213947 C13.5725647,12.6630117 13.4139723,12.9068123 13.157854,13.1629016 C12.9017646,13.41902 12.6579641,13.5776123 12.3163471,13.7103779 C12.0584565,13.8106057 11.6709381,13.9298332 10.9573741,13.9623709 C10.1857652,13.9975814 9.9543116,14.0050476 8.00001453,14.0050476 C6.04568839,14.0050476 5.81426383,13.9975814 5.04262587,13.9623709 C4.32906195,13.9298332 3.94154347,13.8106057 3.68365294,13.7103779 C3.34203588,13.5776123 3.09823536,13.41902 2.84214604,13.1629016 C2.58605671,12.9068123 2.42743531,12.6630117 2.29466977,12.3213947 C2.19444197,12.0635042 2.07521444,11.6759857 2.04267671,10.9624217 C2.00746628,10.1906966 2,9.95921395 2,8.00506212 C2,6.05088125 2.00746625,5.81939858 2.0426767,5.04767347 C2.07521444,4.33410953 2.19444196,3.94659104 2.29466977,3.68870052 C2.42743531,3.34708346 2.58602767,3.10328294 2.84214604,2.84719362 C3.09823536,2.59107524 3.34203588,2.43248288 3.68365294,2.29971735 C3.94154346,2.19948953 4.32906194,2.08026201 5.04262587,2.04772428 C5.81435097,2.01251381 6.04583365,2.00504758 8.00001453,2.00504758 L8.00001453,2.00504762 Z"
}),(0,r.jsx)("path",{className:p,fill:f,d:"M8.0000119,10 C6.89542535,10 6,9.10457466 6,8.0000119 C6,6.89542535 6.89542534,6 8.0000119,6 C9.10457467,6 10,6.89542534 10,8.0000119 C10,9.10457467 9.10457466,10 8.0000119,10 L8.0000119,10 Z M8.00001546,4 C5.7908468,4 4,5.7908468 4,8.00001546 C4,10.2091532 5.7908468,12 8.00001546,12 C10.2091532,12 12,10.2091532 12,8.00001546 C12,5.7908468 10.2091532,4 8.00001546,4 L8.00001546,4 Z M13,4.00001654 C13,4.55230644 12.5522734,5 11.9999835,5 C11.4477266,5 11,4.55230645 11,4.00001654 C11,3.44772664 11.4477266,3 11.9999835,3 C12.5522734,3 13,3.44772663 13,4.00001654 L13,4.00001654 Z"}),(0,r.jsx)("rect",{width:"16",height:"16"})]})}))}},413620:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(785893),o=(n(667294),n(240243));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function l(e){var t=e.width,n=void 0===t?24:t,l=e.height,c=void 0===l?24:l,u=e.color,f=void 0===u?"currentColor":u,d=e.foreground,p=s(e,["width","height","color","foreground"]);return(0,
r.jsx)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({},(0,o.Z)(p)),{width:n,height:c,viewBox:"0 0 24 24",children:(0,r.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,r.jsx)("path",{className:d,fill:f,d:"M8.67872 19H11V21H7V23H17V21H13V19H20C21.103 19 22 18.104 22 17V6C22 5.89841 21.9924 5.79857 21.9777 5.70101L20 7.67872V15H12.6787L8.67872 19ZM13.1496 6H4V15H4.14961L2.00515 17.1445C2.00174 17.0967 2 17.0486 2 17V6C2 4.897 2.897 4 4 4H15.1496L13.1496 6Z"}),(0,r.jsx)("rect",{x:"2",y:"20",width:"26",height:"2",transform:"rotate(-45 2 20)",fill:"#ed4245"})]})}))}},961803:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(785893),o=(n(667294),n(240243));function i(e,t,n){
t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function l(e){
var t=e.width,n=void 0===t?40:t,l=e.height,c=void 0===l?40:l,u=e.color,f=void 0===u?"currentColor":u,d=s(e,["width","height","color"]);return(0,r.jsx)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({},(0,o.Z)(d)),{width:n,height:c,viewBox:"0 0 20 21",fill:f,xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",
d:"M9.2139 1.00082L0.271335 12.3825C-0.0698739 12.8168 0.00557122 13.4454 0.439846 13.7866C0.616031 13.9251 0.833599 14.0003 1.05766 14.0003H5.00022V20.0003C5.00022 20.5526 5.44794 21.0003 6.00022 21.0003H14.0002C14.5525 21.0003 15.0002 20.5526 15.0002 20.0003V14.0003H18.9428C19.495 14.0003 19.9428 13.5526 19.9428 13.0003C19.9428 12.7763 19.8675 12.5587 19.7291 12.3825L10.7865 1.00082C10.4453 0.566546 9.81669 0.4911 9.38241 0.832308C9.31972 0.881561 9.26315 0.938133 9.2139 1.00082Z",fill:f})}))}},466019:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(785893),o=(n(667294),n(240243));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function l(e){var t=e.width,n=void 0===t?24:t,l=e.height,c=void 0===l?24:l,u=e.color,f=void 0===u?"currentColor":u,d=e.className,p=e.foreground,h=s(e,["width","height","color","className","foreground"]);return(0,r.jsx)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({},(0,o.Z)(h)),{className:d,width:n,height:c,viewBox:"0 0 24 24",children:(0,r.jsx)("path",{className:p,fill:f,fillRule:"evenodd",clipRule:"evenodd",
d:"M17.722 3.00098H21C21.553 3.00098 22 3.44898 22 4.00098V8.00098C22 8.30498 21.861 8.59298 21.625 8.78198L16.696 12.724C15.794 13.86 14.49 14.659 13 14.911V16.001H15C15.553 16.001 16 16.449 16 17.001V19.001H8V17.001C8 16.449 8.447 16.001 9 16.001H11V14.911C9.51 14.659 8.206 13.86 7.304 12.724L2.375 8.78198C2.139 8.59298 2 8.30498 2 8.00098V4.00098C2 3.44898 2.447 3.00098 3 3.00098H6.278C6.625 2.40598 7.263 2.00098 8 2.00098H16C16.738 2.00098 17.375 2.40598 17.722 3.00098ZM4 5.00098V7.52098L6.006 9.12598C6.006 9.10435 6.00448 9.08348 6.00297 9.06274C6.00148 9.04224 6 9.02185 6 9.00098V5.00098H4ZM17.994 9.12698L20 7.52098V5.00098H18V9.00098C18 9.02173 17.9985 9.042 17.9971 9.0625C17.9955 9.08349 17.994 9.10472 17.994 9.12698ZM7 20.001H17V22.001H7V20.001Z"})}))}},379881:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(785893),o=(n(667294),n(240243));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){
t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function l(e){
var t=e.width,n=void 0===t?20:t,l=e.height,c=void 0===l?16:l,u=e.color,f=void 0===u?"currentColor":u,d=e.className,p=e.foreground,h=s(e,["width","height","color","className","foreground"]);return(0,r.jsx)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({className:d,width:n,height:c,viewBox:"0 0 20 16"},(0,o.Z)(h)),{children:(0,r.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,r.jsx)("path",{className:p,fill:f,
d:"M1,14.1538462 L1.95,14.1538462 C3.73125,14.1538462 5.5125,13.5384615 6.81875,12.4307692 C5.15625,12.4307692 3.73125,11.2 3.1375,9.6 C3.375,9.6 3.6125,9.72307692 3.85,9.72307692 C4.20625,9.72307692 4.5625,9.72307692 4.91875,9.6 C3.1375,9.23076923 1.7125,7.63076923 1.7125,5.66153846 C2.1875,5.90769231 2.78125,6.15384615 3.49375,6.15384615 C2.425,5.41538462 1.83125,4.18461538 1.83125,2.70769231 C1.83125,1.96923077 2.06875,1.23076923 2.30625,0.615384615 C4.20625,3.07692308 7.05625,4.67692308 10.38125,4.8 C10.2625,4.67692308 10.2625,4.30769231 10.2625,4.06153846 C10.2625,1.84615385 12.04375,0 14.18125,0 C15.25,0 16.31875,0.492307692 17.03125,1.23076923 C17.8625,1.10769231 18.8125,0.738461538 19.525,0.246153846 C19.2875,1.23076923 18.575,1.96923077 17.8625,2.46153846 C18.575,2.46153846 19.2875,2.21538462 20,1.84615385 C19.525,2.70769231 18.8125,3.32307692 18.1,3.93846154 L18.1,4.43076923 C18.1,9.84615385 14.18125,16 6.9375,16 C4.68125,16 2.6625,15.3846154 1,14.1538462 Z"}),(0,
r.jsx)("rect",{width:"20",height:"16"})]})}))}},187936:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(496486),o=n.n(r),i=n(477353),a=n(202552),s=n(234743);function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e){var t=!0,n=!1,r=void 0;try{for(var o,i=e[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var s=o.value,l=a.Z.getEligibleExperiment(s);if(null!=l)return[s,l]}}catch(e){n=!0;r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return null}const f={getFirstEligibleUserExperiment:u,isInExperimentBucket:function(e,t){return a.Z.getExperimentBucket(e)===t},experimentDescriptorEquals:function(e,t){if(null==e&&null==t)return!0;if(e===t)return!0;if(null==e&&null!=t)return!1;if(null!=e&&null==t)return!1;if(null!=e&&null!=t){if(e.type!==t.type)return!1;if(e.bucket!==t.bucket)return!1;if(e.revision!==t.revision)return!1;if(e.type===s.x.USER&&t.type===s.x.USER)return o().isEqual(e.context,t.context)}return!0},trackExposureToFirstEligibleUserExperiment:function(e){var t=u(e);if(null!=t){
var n=c(t,2),r=n[0],o=n[1];(0,i.W9)(r,o);return o}},getExperimentBucketName:function(e){return e===s.N.CONTROL?"Control":e===s.N.NOT_ELIGIBLE?"Not Eligible":"Treatment ".concat(e)}}},822583:(e,t,n)=>{"use strict";n.d(t,{uj:()=>l,tI:()=>c,X8:()=>u});var r=n(441143),o=n.n(r),i=n(461061),a=n(959797);function s(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var l=function(){var e=Object.keys(i.gkr);return e[Math.floor(Math.random()*e.length)]},c=function(){
var e=[i.gkr.HOUSE_1,i.gkr.HOUSE_2,i.gkr.HOUSE_3,i.jsM],t=[a.Z.Messages.HYPESQUAD_QUESTION_0_PROMPT,a.Z.Messages.HYPESQUAD_QUESTION_1_PROMPT,a.Z.Messages.HYPESQUAD_QUESTION_2_PROMPT,a.Z.Messages.HYPESQUAD_QUESTION_3_PROMPT,a.Z.Messages.HYPESQUAD_QUESTION_4_PROMPT,a.Z.Messages.HYPESQUAD_QUESTION_5_PROMPT,a.Z.Messages.HYPESQUAD_QUESTION_6_PROMPT,a.Z.Messages.HYPESQUAD_QUESTION_7_PROMPT,a.Z.Messages.HYPESQUAD_QUESTION_8_PROMPT,a.Z.Messages.HYPESQUAD_QUESTION_9_PROMPT,a.Z.Messages.HYPESQUAD_QUESTION_10_PROMPT,a.Z.Messages.HYPESQUAD_QUESTION_11_PROMPT,a.Z.Messages.HYPESQUAD_QUESTION_12_PROMPT,a.Z.Messages.HYPESQUAD_QUESTION_13_PROMPT,a.Z.Messages.HYPESQUAD_QUESTION_14_PROMPT],n=[[a.Z.Messages.HYPESQUAD_QUESTION_0_RESPONSE_A,a.Z.Messages.HYPESQUAD_QUESTION_0_RESPONSE_B,a.Z.Messages.HYPESQUAD_QUESTION_0_RESPONSE_C,a.Z.Messages.HYPESQUAD_QUESTION_0_RESPONSE_D],[a.Z.Messages.HYPESQUAD_QUESTION_1_RESPONSE_A,a.Z.Messages.HYPESQUAD_QUESTION_1_RESPONSE_B,a.Z.Messages.HYPESQUAD_QUESTION_1_RESPONSE_C,a.Z.Messages.HYPESQUAD_QUESTION_1_RESPONSE_D],[a.Z.Messages.HYPESQUAD_QUESTION_2_RESPONSE_A,a.Z.Messages.HYPESQUAD_QUESTION_2_RESPONSE_B,a.Z.Messages.HYPESQUAD_QUESTION_2_RESPONSE_C,a.Z.Messages.HYPESQUAD_QUESTION_2_RESPONSE_D],[a.Z.Messages.HYPESQUAD_QUESTION_3_RESPONSE_A,a.Z.Messages.HYPESQUAD_QUESTION_3_RESPONSE_B,a.Z.Messages.HYPESQUAD_QUESTION_3_RESPONSE_C,a.Z.Messages.HYPESQUAD_QUESTION_3_RESPONSE_D],[a.Z.Messages.HYPESQUAD_QUESTION_4_RESPONSE_A,a.Z.Messages.HYPESQUAD_QUESTION_4_RESPONSE_B,a.Z.Messages.HYPESQUAD_QUESTION_4_RESPONSE_C,a.Z.Messages.HYPESQUAD_QUESTION_4_RESPONSE_D],[a.Z.Messages.HYPESQUAD_QUESTION_5_RESPONSE_A,a.Z.Messages.HYPESQUAD_QUESTION_5_RESPONSE_B,a.Z.Messages.HYPESQUAD_QUESTION_5_RESPONSE_C,a.Z.Messages.HYPESQUAD_QUESTION_5_RESPONSE_D],[a.Z.Messages.HYPESQUAD_QUESTION_6_RESPONSE_A,a.Z.Messages.HYPESQUAD_QUESTION_6_RESPONSE_B,a.Z.Messages.HYPESQUAD_QUESTION_6_RESPONSE_C,a.Z.Messages.HYPESQUAD_QUESTION_6_RESPONSE_D],[a.Z.Messages.HYPESQUAD_QUESTION_7_RESPONSE_A,a.Z.Messages.HYPESQUAD_QUESTION_7_RESPONSE_B,a.Z.Messages.HYPESQUAD_QUESTION_7_RESPONSE_C,a.Z.Messages.HYPESQUAD_QUESTION_7_RESPONSE_D],[a.Z.Messages.HYPESQUAD_QUESTION_8_RESPONSE_A,a.Z.Messages.HYPESQUAD_QUESTION_8_RESPONSE_B,a.Z.Messages.HYPESQUAD_QUESTION_8_RESPONSE_C,a.Z.Messages.HYPESQUAD_QUESTION_8_RESPONSE_D],[a.Z.Messages.HYPESQUAD_QUESTION_9_RESPONSE_A,a.Z.Messages.HYPESQUAD_QUESTION_9_RESPONSE_B,a.Z.Messages.HYPESQUAD_QUESTION_9_RESPONSE_C,a.Z.Messages.HYPESQUAD_QUESTION_9_RESPONSE_D],[a.Z.Messages.HYPESQUAD_QUESTION_10_RESPONSE_A,a.Z.Messages.HYPESQUAD_QUESTION_10_RESPONSE_B,a.Z.Messages.HYPESQUAD_QUESTION_10_RESPONSE_C,a.Z.Messages.HYPESQUAD_QUESTION_10_RESPONSE_D],[a.Z.Messages.HYPESQUAD_QUESTION_11_RESPONSE_A,a.Z.Messages.HYPESQUAD_QUESTION_11_RESPONSE_B,a.Z.Messages.HYPESQUAD_QUESTION_11_RESPONSE_C,a.Z.Messages.HYPESQUAD_QUESTION_11_RESPONSE_D],[a.Z.Messages.HYPESQUAD_QUESTION_12_RESPONSE_A,a.Z.Messages.HYPESQUAD_QUESTION_12_RESPONSE_B,a.Z.Messages.HYPESQUAD_QUESTION_12_RESPONSE_C,a.Z.Messages.HYPESQUAD_QUESTION_12_RESPONSE_D],[a.Z.Messages.HYPESQUAD_QUESTION_13_RESPONSE_A,a.Z.Messages.HYPESQUAD_QUESTION_13_RESPONSE_B,a.Z.Messages.HYPESQUAD_QUESTION_13_RESPONSE_C,a.Z.Messages.HYPESQUAD_QUESTION_13_RESPONSE_D],[a.Z.Messages.HYPESQUAD_QUESTION_14_RESPONSE_A,a.Z.Messages.HYPESQUAD_QUESTION_14_RESPONSE_B,a.Z.Messages.HYPESQUAD_QUESTION_14_RESPONSE_C,a.Z.Messages.HYPESQUAD_QUESTION_14_RESPONSE_D]]
;return function(){for(var e=[];e.length<5;){var t=Math.floor(15*Math.random());e.includes(t)||e.push(t)}return e}().map((function(r){var i=t[r],a=n[r];o()(null!=i&&null!=a,"Invalid HypeSquad quiz question index");return{prompt:i,options:a.map((function(t,n){var r=e[n];o()(null!==r,"Invalid HypeSquad quiz question option index");return{copy:t,house:r}}))}}))},u=function(e){var t;return(s(t={},i.gkr.HOUSE_1,a.Z.Messages.HYPESQUAD_HOUSE_1),s(t,i.gkr.HOUSE_2,a.Z.Messages.HYPESQUAD_HOUSE_2),s(t,i.gkr.HOUSE_3,a.Z.Messages.HYPESQUAD_HOUSE_3),t)[e]}},142348:(e,t,n)=>{"use strict";n.d(t,{bm:()=>b,an:()=>O,rh:()=>v,Vg:()=>A,ZP:()=>P});var r,o=n(213192),i=n.n(o),a=n(356004),s=n(212218),l=n(283369),c=n(105405),u=n(859023),f=n(703863),d=n(774581),p=n(461061),h=n(959797);function E(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){E(e,t,n[t])}))}return e}function m(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}r=n(771141);var b=i()({GROUP_DM:null,DM:null,FRIEND:null}),g=function(e,t){return null!=e&&s.ZP.isMember(e,t)};function O(e,t,n,r,o){var i=new Set,s=[],h={numFriends:0,numDms:0,numGroupDms:0,numGuildMembers:0};if(""===e){var E={omitUserIds:t,maxRowsWithoutQuery:r,guildId:o,shownUserIds:i,rows:s,counts:h};!function(e){
var t=e.omitUserIds,n=e.suggestedUserIds,r=e.maxRowsWithoutQuery,o=e.guildId,i=e.shownUserIds,a=e.rows,s=e.counts;if(null!=n){var l=!0,c=!1,f=void 0;try{for(var d,p=n[Symbol.iterator]();!(l=(d=p.next()).done);l=!0){var h=d.value;if(null!=r&&r>0&&a.length>=r)break;if(!t.has(h)){var E=u.default.getUser(h);if(null!=E&&!g(o,E.id)){i.add(E.id);a.push({type:b.FRIEND,item:E,isSuggested:!0});s.numFriends++}}}}catch(e){c=!0;f=e}finally{try{l||null==p.return||p.return()}finally{if(c)throw f}}}}(m(y({},E),{suggestedUserIds:n}));!function(e){var t=e.omitUserIds,n=e.maxRowsWithoutQuery,r=e.guildId,o=e.shownUserIds,i=e.rows,s=e.counts,c=e.includeGroupDms,d=!0,h=!1,E=void 0;try{for(var y,m=f.Z.getPrivateChannelIds()[Symbol.iterator]();!(d=(y=m.next()).done);d=!0){var O=y.value;if(null!=n&&n>0&&i.length>=n)break;var v=a.Z.getChannel(O);if(null!=v&&v.isPrivate())if(c&&v.type===p.d4z.GROUP_DM){i.push({type:b.GROUP_DM,item:v,isSuggested:!1});s.numGroupDms++}else if(null!=l.ZP.lastMessageId(v.id)){
var _=v.getRecipientId();if(null!=_&&!t.has(_)&&!o.has(_)){var I=u.default.getUser(_);if(null==I||I.bot||g(r,I.id))continue;o.add(I.id);i.push({type:b.DM,item:I,isSuggested:!1});s.numDms++}}}}catch(e){h=!0;E=e}finally{try{d||null==m.return||m.return()}finally{if(h)throw E}}}(m(y({},E),{includeGroupDms:!0}));!function(e){var t=e.omitUserIds,n=e.maxRowsWithoutQuery,r=e.guildId,o=e.shownUserIds,i=e.rows,a=e.counts,s=!0,l=!1,f=void 0;try{for(var d,p=c.Z.getFriendIDs()[Symbol.iterator]();!(s=(d=p.next()).done);s=!0){var h=d.value;if(null!=n&&n>0&&i.length>=n)break;if(!t.has(h)&&!o.has(h)){var E=u.default.getUser(h);if(null!=E&&!g(r,E.id)){i.push({type:b.FRIEND,item:E,isSuggested:!1});a.numFriends++}}}}catch(e){l=!0;f=e}finally{try{s||null==p.return||p.return()}finally{if(l)throw f}}}(E)}else{var O={query:e,rows:s,counts:h};!function(e){var t=e.query,n=e.omitUserIds,r=e.shownUserIds,o=e.rows,i=e.counts;d.ZP.queryDMUsers({query:t,limit:50}).forEach((function(e){var t=e.record
;if(!n.has(t.id)){var s=a.Z.getDMFromUserId(t.id);if(null!=s&&null!=l.ZP.lastMessageId(s)){r.add(t.id);o.push({type:b.DM,item:t,isSuggested:!1});i.numDms++}}}))}(m(y({},O),{omitUserIds:t,shownUserIds:i}));!function(e){var t=e.query,n=e.rows,r=e.counts;d.ZP.queryGroupDMs({query:t,limit:50,fuzzy:!1}).forEach((function(e){var t=e.record;n.push({type:b.GROUP_DM,item:t,isSuggested:!1});r.numGroupDms++}))}(O);!function(e){var t=e.query,n=e.rows,r=e.counts,o=e.omitUserIds,i=e.shownUserIds;d.ZP.queryFriends({query:t,limit:500,_fuzzy:!1}).forEach((function(e){var t=e.record;if(!o.has(t.id)&&!i.has(t.id)){i.add(t.id);n.push({type:b.FRIEND,item:t,isSuggested:!1});r.numFriends++}}))}(m(y({},O),{omitUserIds:t,shownUserIds:i}))}return{rows:s,counts:h}}function v(e,t){var n=!0,r=!1,o=void 0;try{for(var i,s=f.Z.getPrivateChannelIds()[Symbol.iterator]();!(n=(i=s.next()).done);n=!0){var c=i.value,d=a.Z.getChannel(c);if(null!=d&&d.isDM()&&null!=l.ZP.lastMessageId(d.id)){var p=d.getRecipientId()
;if(null!=p&&!e.has(p)){var h=u.default.getUser(p);if(null==h||h.bot||g(t,h.id))continue;return h}}}}catch(e){r=!0;o=e}finally{try{n||null==s.return||s.return()}finally{if(r)throw o}}return null}var _,I="minutes",S="hours",T="days",N="never",C=(E(_={},r.INVITE_OPTIONS_30_MINUTES.value,{value:30,type:I}),E(_,r.INVITE_OPTIONS_1_HOUR.value,{value:1,type:S}),E(_,r.INVITE_OPTIONS_6_HOURS.value,{value:6,type:S}),E(_,r.INVITE_OPTIONS_12_HOURS.value,{value:12,type:S}),E(_,r.INVITE_OPTIONS_1_DAY.value,{value:1,type:T}),E(_,r.INVITE_OPTIONS_7_DAYS.value,{value:7,type:T}),E(_,r.INVITE_OPTIONS_FOREVER.value,{value:0,type:N}),_);function A(e,t){var n=parseInt(t,10),r=0===n,o=C[e].value;switch(C[e].type){case I:return r?h.Z.Messages.INVITE_EXPIRES_MINUTES:h.Z.Messages.INVITE_EXPIRES_MINUTES_OR_USES.format({numUses:n});case S:return r?h.Z.Messages.INVITE_EXPIRES_HOURS.format({numHours:o}):h.Z.Messages.INVITE_EXPIRES_HOURS_OR_USES.format({numHours:o,numUses:n});case T:
return r?h.Z.Messages.INVITE_EXPIRES_DAYS_PLURAL.format({numDays:o}):h.Z.Messages.INVITE_EXPIRES_DAYS_OR_USES_PLURAL.format({numDays:o,numUses:n});case N:return r?h.Z.Messages.INVITE_EXPIRES_NEVER:h.Z.Messages.INVITE_EXPIRES_USES.format({numUses:n});default:return""}}const P={getMaxAgeOptions:r.MAX_AGE_OPTIONS,getMaxUsesOptions:r.MAX_USES_OPTIONS,INVITE_OPTIONS_FOREVER:r.INVITE_OPTIONS_FOREVER,INVITE_OPTIONS_1_DAY:r.INVITE_OPTIONS_1_DAY,INVITE_OPTIONS_7_DAYS:r.INVITE_OPTIONS_7_DAYS,INVITE_OPTIONS_12_HOURS:r.INVITE_OPTIONS_12_HOURS,INVITE_OPTIONS_6_HOURS:r.INVITE_OPTIONS_6_HOURS,INVITE_OPTIONS_1_HOUR:r.INVITE_OPTIONS_1_HOUR,INVITE_OPTIONS_30_MINUTES:r.INVITE_OPTIONS_30_MINUTES,INVITE_OPTIONS_UNLIMITED:r.INVITE_OPTIONS_UNLIMITED,INVITE_OPTIONS_ONCE:r.INVITE_OPTIONS_ONCE,INVITE_OPTIONS_5_TIMES:r.INVITE_OPTIONS_5_TIMES,INVITE_OPTIONS_10_TIMES:r.INVITE_OPTIONS_10_TIMES,INVITE_OPTIONS_25_TIMES:r.INVITE_OPTIONS_25_TIMES,INVITE_OPTIONS_50_TIMES:r.INVITE_OPTIONS_50_TIMES,
INVITE_OPTIONS_100_TIMES:r.INVITE_OPTIONS_100_TIMES}},310333:(e,t,n)=>{"use strict";n.d(t,{YK:()=>d,gl:()=>p,_o:()=>h,rr:()=>E,bL:()=>y,$6:()=>m,g0:()=>c,ac:()=>b,xH:()=>g});var r=n(409271),o=n(152666),i=n(653772),a=(n(932847),n(461061)),s=n(959797);function l(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var c,u,f=864e5*a.eBq;function d(){var e=r.h2.getSetting();0===o.Z.totalUnavailableGuilds&&(e=e.filter((function(e){return null!=i.Z.getGuild(e)})));return e}function p(){var e=r.zA.getSetting();0===o.Z.totalUnavailableGuilds&&(e=e.filter((function(e){return null!=i.Z.getGuild(e)})));return e}function h(){var e=r.SE.getSetting();0===o.Z.totalUnavailableGuilds&&(e=e.filter((function(e){return null!=i.Z.getGuild(e)})));return e}function E(){var e=r.iH.getSetting();0===o.Z.totalUnavailableGuilds&&(e=e.filter((function(e){return null!=i.Z.getGuild(e)})));return e}function y(e){return(e&a.HGf)===a.HGf?{all:!0,mutualFriends:!0,
mutualGuilds:!0}:{all:!1,mutualFriends:(e&a.SOq.MUTUAL_FRIENDS)===a.SOq.MUTUAL_FRIENDS,mutualGuilds:(e&a.SOq.MUTUAL_GUILDS)===a.SOq.MUTUAL_GUILDS}}function m(e,t){return!t.verified||null!=e&&f>Date.now()-new Date(e.created_at).getTime()}!function(e){e[e.UNDECIDED=0]="UNDECIDED";e[e.OPTIN=1]="OPTIN";e[e.OPTOUT=2]="OPTOUT"}(c||(c={}));var b=(l(u={},c.UNDECIDED,void 0),l(u,c.OPTIN,!0),l(u,c.OPTOUT,!1),u);function g(){return[{name:s.Z.Messages.PRIVACY_SETTINGS_NON_SPAM_RETRAINING_SETTING_OPT_IN_HEADER,desc:s.Z.Messages.PRIVACY_SETTINGS_NON_SPAM_RETRAINING_SETTING_OPT_IN_DESC,value:c.OPTIN},{name:s.Z.Messages.PRIVACY_SETTINGS_NON_SPAM_RETRAINING_SETTING_OPT_OUT_HEADER,desc:s.Z.Messages.PRIVACY_SETTINGS_NON_SPAM_RETRAINING_SETTING_OPT_OUT_DESC,value:c.OPTOUT},{name:s.Z.Messages.PRIVACY_SETTINGS_NON_SPAM_RETRAINING_SETTING_UNSET_HEADER,desc:s.Z.Messages.PRIVACY_SETTINGS_NON_SPAM_RETRAINING_SETTING_UNSET_DESC,value:c.UNDECIDED}]}},771141:(e,t,n)=>{"use strict";n.r(t);n.d(t,{
INVITE_OPTIONS_UNLIMITED:()=>i,INVITE_OPTIONS_ONCE:()=>a,INVITE_OPTIONS_5_TIMES:()=>s,INVITE_OPTIONS_10_TIMES:()=>l,INVITE_OPTIONS_25_TIMES:()=>c,INVITE_OPTIONS_50_TIMES:()=>u,INVITE_OPTIONS_100_TIMES:()=>f,MAX_USES_OPTIONS:()=>d,INVITE_OPTIONS_30_MINUTES:()=>p,INVITE_OPTIONS_1_HOUR:()=>h,INVITE_OPTIONS_6_HOURS:()=>E,INVITE_OPTIONS_12_HOURS:()=>y,INVITE_OPTIONS_1_DAY:()=>m,INVITE_OPTIONS_7_DAYS:()=>b,INVITE_OPTIONS_FOREVER:()=>g,MAX_AGE_OPTIONS:()=>O});var r=n(959797);function o(e,t){return{value:e,get label(){return t()}}}var i=o(0,(function(){return r.Z.Messages.MAX_USES.format({maxUses:0})})),a=o(1,(function(){return r.Z.Messages.MAX_USES.format({maxUses:1})})),s=o(5,(function(){return r.Z.Messages.MAX_USES.format({maxUses:5})})),l=o(10,(function(){return r.Z.Messages.MAX_USES.format({maxUses:10})})),c=o(25,(function(){return r.Z.Messages.MAX_USES.format({maxUses:25})})),u=o(50,(function(){return r.Z.Messages.MAX_USES.format({maxUses:50})})),f=o(100,(function(){
return r.Z.Messages.MAX_USES.format({maxUses:100})})),d=[i,a,s,l,c,u,f],p=o(1800,(function(){return r.Z.Messages.DURATION_MINUTES.format({minutes:30})})),h=o(3600,(function(){return r.Z.Messages.DURATION_HOURS.format({hours:1})})),E=o(21600,(function(){return r.Z.Messages.DURATION_HOURS.format({hours:6})})),y=o(43200,(function(){return r.Z.Messages.DURATION_HOURS.format({hours:12})})),m=o(86400,(function(){return r.Z.Messages.DURATION_DAYS.format({days:1})})),b=o(604800,(function(){return r.Z.Messages.DURATION_DAYS.format({days:7})})),g=o(0,(function(){return r.Z.Messages.MAX_AGE_NEVER})),O=[p,h,E,y,m,b,g]}}]);
//# sourceMappingURL=7d70ec39c61ceacf1c3b.js.map