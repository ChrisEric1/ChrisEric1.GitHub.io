"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[63157],{363157:(t,e,n)=>{n.d(e,{Z:()=>ot});var r=n(785893),o=n(667294),i=n(427537),u=n.n(i),c=n(717187),a=n.n(c),l=n(742269),s=n(588641),f=n(185347),p=n(461061);function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y(t){y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)};return y(t)}function b(t,e){return!e||"object"!==R(e)&&"function"!=typeof e?h(t):e}function m(t,e){m=Object.setPrototypeOf||function(t,e){t.__proto__=e;return t};return m(t,e)}function v(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],u=!0,c=!1;try{
for(n=n.call(t);!(u=(r=n.next()).done);u=!0){i.push(r.value);if(e&&i.length===e)break}}catch(t){c=!0;o=t}finally{try{u||null==n.return||n.return()}finally{if(c)throw o}}return i}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var R=function(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};function g(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{
Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(t){return!1}}();return function(){var n,r=y(t);if(e){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b(this,n)}}var O=[],_=function(t,e,n){var r=(0,l.ED)()?0:1;t===p.MoX.MOUSE_BUTTON&&n===r||O.forEach((function(r){return r._handleEvent(t,e,n)}))},C=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}});e&&m(t,e)}(n,t);var e=g(n);function n(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var t;(t=e.call(this)).combo=[];O.push(h(t));1===O.length&&s.default.setOnInputEventCallback(_);return t}var r=n.prototype;r.destroy=function(){var t=this;this.removeAllListeners();0===(O=O.filter((function(e){return e!==t
}))).length&&s.default.setOnInputEventCallback(null)};r.toString=function(){return(0,f.BB)(this.combo)};r._handleEvent=function(t,e,n){if(0===e)this.combo=this.combo.filter((function(e){var r=v(e,2),o=r[0],i=r[1];return!(o===t&&i===n)}));else{this.combo.push([t,n,(0,f.dU)()]);this.emit("change",this)}};return n}(a()),E=n(294184),w=n.n(E),D=n(238736),S=n.n(D),T=n(496486),j=n.n(T),N=n(647446),I=n(331535),U=n(487502),A=n(959797),B=n(35282),x=n.n(B);function M(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function k(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n;return t}function P(t){P=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)};return P(t)}function F(t,e){return!e||"object"!==K(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}
function G(t,e){G=Object.setPrototypeOf||function(t,e){t.__proto__=e;return t};return G(t,e)}var L,Z,K=function(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};function W(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(t){return!1}}();return function(){var n,r=P(t);if(e){var o=P(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return F(this,n)}}!function(t){t.DEFAULT="DEFAULT";t.RECORDING="RECORDING"}(L||(L={}));var V=(k(Z={},L.DEFAULT,x().default),k(Z,L.RECORDING,x().recording),Z),Y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}});e&&G(t,e)
}(n,t);var e=W(n);function n(){M(this,n);var t;(t=e.apply(this,arguments))._inputId=j().uniqueId("key-recorder-");t._unregisterNativeRecorder=null;t._mousedownMode=null;t._inputRef=o.createRef();t._containerRef=o.createRef();t.setInputRef=function(e){t._input=e;t._inputRef.current=e};t.handleClick=function(e){e.stopPropagation();e.preventDefault();var n=t.props,r=n.onClick;n.disableOnClickWhileRecording&&t._mousedownMode===L.RECORDING||r()};t.handleMouseDown=function(){t._mousedownMode=t.props.mode};return t}var i=n.prototype;i.componentDidMount=function(){var t=this.props.onChange;if(null!=this.props.registerNativeRecorder&&null!=t)this._unregisterNativeRecorder=this.props.registerNativeRecorder(this._inputId,t);else if(null!=t&&null!=this._input){new(S())(this._input).handleKey=t}};i.componentWillUnmount=function(){null!=this._unregisterNativeRecorder&&this._unregisterNativeRecorder()};i.componentDidUpdate=function(t){var e=this.props.mode;if(t.mode!==e){var n=this._input
;if(null!=n){var r=document.activeElement;e===L.DEFAULT&&n===r&&n.blur();e===L.RECORDING&&n!==r&&n.focus()}}};i.render=function(){var t,e=this,n=this.props,o=n.mode,i=n.value,u=n.disabled,c=(0,f.BB)(i,!0);t=o===L.RECORDING?A.Z.Messages.SHORTCUT_RECORDER_BUTTON_RECORDING:0===i.length?A.Z.Messages.SHORTCUT_RECORDER_BUTTON:A.Z.Messages.SHORTCUT_RECORDER_BUTTON_EDIT;var a,l=o===L.DEFAULT&&i.length>0;return(0,r.jsx)(N.tE,{focusTarget:this._inputRef,ringTarget:this._containerRef,children:(0,r.jsx)("div",{onClick:this.handleClick,onMouseDown:this.handleMouseDown,ref:this._containerRef,className:w()(x().container,V[o],(a={},k(a,x().hasValue,l),k(a,x().disabled,u),a)),children:(0,r.jsxs)(U.Z,{className:x().layout,children:[(0,r.jsx)(U.Z.Child,{className:x().input,children:(0,r.jsx)("input",{id:this._inputId,placeholder:A.Z.Messages.SHORTCUT_RECORDER_NO_BIND,type:"text",ref:this.setInputRef,readOnly:!0,value:c,disabled:this.props.mode!==L.RECORDING||u})}),(0,r.jsx)(U.Z,{shrink:1,grow:0,style:{
margin:0},children:(0,r.jsxs)(I.zx,{className:x().button,disabled:u,onClick:function(t){t.stopPropagation();t.preventDefault();e.handleClick(t)},size:I.zx.Sizes.MIN,color:I.Tt.PRIMARY,children:[(0,r.jsx)("span",{className:x().text,children:t}),(0,r.jsx)("span",{className:x().editIcon})]})})]})})})};return n}(o.PureComponent);const z=Y;function H(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function X(t){X=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)};return X(t)}function $(t,e){return!e||"object"!==tt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function q(t,e){q=Object.setPrototypeOf||function(t,e){t.__proto__=e;return t};return q(t,e)}function J(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){
var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],u=!0,c=!1;try{for(n=n.call(t);!(u=(r=n.next()).done);u=!0){i.push(r.value);if(e&&i.length===e)break}}catch(t){c=!0;o=t}finally{try{u||null==n.return||n.return()}finally{if(c)throw o}}return i}}(t,e)||et(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(t){return function(t){if(Array.isArray(t))return H(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||et(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var tt=function(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};function et(t,e){if(t){
if("string"==typeof t)return H(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?H(t,e):void 0}}function nt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(t){return!1}}();return function(){var n,r=X(t);if(e){var o=X(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $(this,n)}}var rt=l.FB&&null!=s.default.getDiscordUtils().inputCaptureRegisterElement;const ot=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}})
;e&&q(t,e)}(n,t);var e=nt(n);function n(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var r;(r=e.call(this,t))._mounted=!1;r.recordStart=function(){if(l.FB&&!rt){r.gs=new C;r.gs.on("change",r.handleGSChange)}r.setState({mode:L.RECORDING})};r.recordEnd=function(){r.cleanUp();r.setState({mode:L.DEFAULT})};r.toggleRecordMode=function(){r.state.mode===L.DEFAULT?r.recordStart():r.recordEnd()};r.handleComboKeys=function(t,e,n){n.preventDefault();if("keydown"===n.type){var o=e.map((function(t){return[p.MoX.KEYBOARD_KEY,u()(t),p.CgE.BROWSER]})),i=n.keyCode;null==o.find((function(t){var e=J(t,2)[1];return i===e}))&&o.push([p.MoX.KEYBOARD_KEY,i,p.CgE.BROWSER]);r.handleComboChange(o)}};r.handleGSChange=function(t){if(!1!==r._mounted){var e=Q(t.combo);r.handleComboChange(e)}};r.handleNativeChange=function(t){t.length>0&&r.handleComboChange(t);r.recordEnd()};var o=t.defaultValue;r.state={codes:o,mode:L.DEFAULT};return r}var o=n.prototype
;o.componentDidMount=function(){this._mounted=!0};o.componentWillUnmount=function(){this._mounted=!1;this.cleanUp()};o.componentDidUpdate=function(t){this.props.defaultValue!==t.defaultValue&&this.setState({codes:this.props.defaultValue})};o.cleanUp=function(){if(l.FB&&null!=this.gs){this.gs.destroy();this.gs=null}};o.handleComboChange=function(t){var e=this.state.mode,n=this.props.onChange;if(e===L.RECORDING){null!=n&&n(t);this.setState({codes:t})}};o.render=function(){var t,e,n=this.state,o=n.codes,i=n.mode,u=this.props.disabled;if(rt){e=s.default.getDiscordUtils().inputCaptureRegisterElement;t=this.handleNativeChange}else l.FB||(t=this.handleComboKeys);return(0,r.jsx)(z,{disabled:u,value:o,mode:i,onClick:this.toggleRecordMode,onChange:t,registerNativeRecorder:e,disableOnClickWhileRecording:rt})};return n}(o.PureComponent)}}]);
//# sourceMappingURL=94495bc157b57000d4e8.js.map