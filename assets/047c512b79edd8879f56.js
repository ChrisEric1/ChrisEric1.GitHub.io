"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[37472],{77705:(e,n,t)=>{t.d(n,{Z:()=>c});var r=t(744564),i=t(52317),o=t(9430);const c={update:function(e){r.Z.dispatch({type:"CHANNEL_COLLAPSE",channelId:e})},toggleCollapseGuild:function(e){i.Z.saveUserGuildSettings(e,{hide_muted_channels:!o.Z.isGuildCollapsed(e)});r.Z.dispatch({type:"GUILD_TOGGLE_COLLAPSE_MUTED",guildId:e})}}},37472:(e,n,t)=>{t.r(n);t.d(n,{default:()=>te});var r=t(785893),i=(t(667294),t(202351)),o=t(945460),c=t(971402),u=t(343639),l=t(567678),a=t(82055),s=t(153686),d=t(112897),p=t(207227),f=t(13280),E=t(589822),Z=t(842748),O=t(302123),g=t(201441),b=t(476143),_=t(766496),j=t(962855),M=t(422906),y=t(987932),h=t(576668),N=t(787301),v=t(77705),C=t(996077),P=t(473708);function x(e){var n=(0,i.e7)([C.Z],(function(){return C.Z.isCollapsed(e.id)}),[e.id]);return __OVERLAY__?null:(0,r.jsx)(o.MenuCheckboxItem,{id:"hide-voice-names",label:P.Z.Messages.VOICE_CHANNEL_HIDE_NAMES,action:function(){
return v.Z.update(e.id)},checked:n})}var m=t(673780),T=t(929653),G=t(380477),S=t(221921),A=t(249971),L=t(424871);const I=(0,t(260561).B)({kind:"user",id:"2021-05_stages_in_app_reporting_experiment",label:"Stages In App Reporting Experiment",defaultConfig:{reportModal:!1},treatments:[{id:1,label:"Can see in-app reporting modal",config:{reportModal:!0}}]});var D=t(528334);function w(e){I.trackExposure({});var n=I.useExperiment({},{autoTrackExposure:!1}),t=_.Z.isLive(e.id);if(!e.isGuildStageVoice()||!t||!n.reportModal)return null;return(0,r.jsx)(o.MenuItem,{id:"report-stage",label:P.Z.Messages.REPORT_MODAL_REPORT_STAGE_MENU_ITEM,action:function(){return(0,L.ic)(e)},icon:D.Z,color:"danger"})}var V=t(143343),k=t(771575),U=t(227202),H=t(682776);function R(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t;return e}function X(e,n){n=null!=n?n:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})));t.push.apply(t,r)}return t}(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}));return e}function q(e,n){var t=(0,i.e7)([H.Z],(function(){return H.Z.can(U.yP,e)}),[e]);return null!=n&&t?(0,r.jsx)(o.MenuItem,{id:"end-stage",label:P.Z.Messages.END_STAGE,color:"danger",action:function(){(0,o.openModal)((function(n){return(0,r.jsx)(o.ConfirmModal,X(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))));r.forEach((function(n){R(e,n,t[n])}))
}return e}({},n),{header:P.Z.Messages.END_STAGE_TITLE,confirmText:P.Z.Messages.END_STAGE,cancelText:P.Z.Messages.CANCEL,onConfirm:function(){return(0,k.NZ)(e)},children:(0,r.jsx)(o.Text,{variant:"text-md/normal",color:"header-secondary",children:P.Z.Messages.EXPLICIT_END_STAGE_SUBTITLE})}))}))}}):null}var B=t(87127),Y=t(245802),F=t(2590);var W=t(247250),z=t(784426),J=t(980617);function K(e,n){var t=(0,i.e7)([H.Z],(function(){return H.Z.can(F.Plq.CONNECT,e)}),[e]),c=(0,J.Vy)(n.id);return!t||!e.isGuildVoice()&&!e.isGuildStageVoice()||e.isGuildStageVoice()&&!c?null:(0,r.jsx)(o.MenuItem,{id:"open-chat",label:P.Z.Messages.OPEN_CHAT,action:function(){W.Z.updateChatOpen(e.id,!0);(0,z.XU)(n.id,e.id)}})}function Q(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t;return e}function $(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))));r.forEach((function(n){Q(e,n,t[n])}))}return e}function ee(e){var n=e.channel,t=e.guild,u=e.onSelect,l=n.isGuildStageVoice(),s=(0,i.e7)([_.Z],(function(){return l?_.Z.getStageInstanceByChannel(n.id):void 0}),[l,n.id]),p=(0,M.Z)(n),O=(0,g.qY)(n.id),j=(0,b.Z)(null==O?void 0:O.id,t,n),y=q(n,s),h=(0,f.Z)(n),v=(0,E.Z)(n),C=(0,Z.Z)(n),m=x(n),T=(0,S.Z)(n),G=(0,N.Z)(n),A=K(n,t),L=(0,d.Z)({id:n.id,label:P.Z.Messages.COPY_ID_CHANNEL}),I=w(n),D=(0,a.Z)(n);return(0,r.jsxs)(o.Menu,{navId:"channel-context",onClose:c.Zy,"aria-label":P.Z.Messages.CHANNEL_ACTIONS_MENU_LABEL,onSelect:u,children:[(0,r.jsx)(o.MenuGroup,{children:null!=O?j:y}),(0,r.jsxs)(o.MenuGroup,{children:[C,v,h]}),(0,r.jsxs)(o.MenuGroup,{children:[m,T,G]}),(0,r.jsx)(o.MenuGroup,{children:D}),(0,r.jsxs)(o.MenuGroup,{children:[A,p]}),(0,r.jsx)(o.MenuGroup,{
children:I}),(0,r.jsx)(o.MenuGroup,{children:L})]})}function ne(e){var n=e.channel,t=e.guild,u=e.onSelect,l=n.isGuildStageVoice(),s=(0,i.e7)([_.Z],(function(){return l?_.Z.getStageInstanceByChannel(n.id):void 0}),[l,n.id]),p=(0,T.Z)(n),E=(0,M.Z)(n),Z=(0,g.qY)(n.id),v=(0,b.Z)(null==Z?void 0:Z.id,t,n),C=q(n,s),L=(0,f.Z)(n),I=x(n),D=(0,S.Z)(n),k=(0,N.Z)(n),U=(0,m.Z)(n,t,s),R=K(n,t),X=function(e,n){var t,c=(0,i.e7)([H.Z],(function(){return H.Z.can(F.Plq.MANAGE_CHANNELS,n)})),u=Y.Z.useExperiment({guildId:null!==(t=n.id)&&void 0!==t?t:""},{autoTrackExposure:!1}).enabled;return c&&e.isGuildVoice()&&u?(0,r.jsx)(o.MenuItem,{id:"clear-topic",label:P.Z.Messages.VOICE_CHANNEL_CLEAR_TOPIC,action:function(){B.ZP.saveChannel(e.id,{topic:""})}}):null}(n,t),W=(0,j.Z)(n,t),z=(0,y.Z)(n,t),J=(0,h.Z)(n),Q=(0,d.Z)({id:n.id,label:P.Z.Messages.COPY_ID_CHANNEL}),$=w(n),ee=(0,a.Z)(n),ne=(0,A.Z)(n),te=(0,O.Z)(n),re=(0,G.ZP)(n),ie=(0,V.Z)(n);return(0,r.jsxs)(o.Menu,{navId:"channel-context",onClose:c.Zy,
"aria-label":P.Z.Messages.CHANNEL_ACTIONS_MENU_LABEL,onSelect:u,children:[(0,r.jsx)(o.MenuGroup,{children:null!=Z?v:C}),(0,r.jsx)(o.MenuGroup,{children:p},"mark-as-read"),(0,r.jsxs)(o.MenuGroup,{children:[U,ee,ne,L,E]},"channel-actions"),(0,r.jsxs)(o.MenuGroup,{children:[R,X,I,te,$]},"voice-actions"),(0,r.jsxs)(o.MenuGroup,{children:[re,D,ie]},"notifications"),(0,r.jsxs)(o.MenuGroup,{children:[k,W,z,J]},"admin-actions"),(0,r.jsx)(o.MenuGroup,{children:Q},"developer-actions")]})}const te=(0,l.Z)((0,u.Z)((function(e){return(0,p.Z)()?(0,r.jsx)(ee,$({},e)):(0,r.jsx)(ne,$({},e))}),{object:F.qAy.CONTEXT_MENU}),[s.Z.CONTEXT_MENU,s.Z.CHANNEL_LIST_VOICE_CHANNEL_MENU])},476143:(e,n,t)=>{t.d(n,{Z:()=>E});var r=t(785893),i=(t(667294),t(202351)),o=t(945460),c=t(700183),u=t(771575),l=t(269300),a=t(242735),s=t(3155),d=t(473708);function p(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t;return e}function f(e,n){n=null!=n?n:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})));t.push.apply(t,r)}return t}(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}));return e}function E(e,n,t){var E=(0,c.q5)(null!=t?t:n).canManageGuildEvent,Z=(0,i.e7)([l.ZP],(function(){return l.ZP.isActive(e)})),O=(0,i.e7)([l.ZP],(function(){return l.ZP.getGuildScheduledEvent(e)}),[e]),g=E(O);if(null==e||!g||!Z)return null;if((null==O?void 0:O.entity_type)===s.WX.EXTERNAL)return null;var b=function(){if(null==t?void 0:t.isGuildStageVoice())(0,u.NZ)(t);else{null!=e&&a.Z.endEvent(e,n.id);(0,o.closeAllModals)()}};return(0,r.jsx)(o.MenuItem,{id:d.Z.Messages.END_EVENT,label:d.Z.Messages.END_EVENT,action:function(){(0,o.openModal)((function(e){return(0,
r.jsx)(o.ConfirmModal,f(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))));r.forEach((function(n){p(e,n,t[n])}))}return e}({},e),{header:d.Z.Messages.END_EVENT,confirmText:d.Z.Messages.GUILD_EVENT_END_PROMPT_CONFIRM,cancelText:d.Z.Messages.CANCEL,onConfirm:b,children:(0,r.jsx)(o.Text,{variant:"text-md/normal",children:d.Z.Messages.GUILD_EVENT_EXTERNAL_END_PROMPT_TITLE})}))}))},color:"danger"})}}}]);
//# sourceMappingURL=047c512b79edd8879f56.js.map