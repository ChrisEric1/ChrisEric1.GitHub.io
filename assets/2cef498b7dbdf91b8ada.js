"use strict";(this.webpackChunkdiscord_developers=this.webpackChunkdiscord_developers||[]).push([[3180],{21416:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n,o=b(r(67294)),i=r(17563),a=r(55558),s=S(r(67258)),u=S(r(5633)),l=S(r(5008)),c=S(r(92974)),p=b(r(84455)),d=S(r(96835)),f=S(r(74257)),h=S(r(43264)),v=S(r(76309)),y=r(70348),O=r(34596);function S(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(g=function(e){return e?r:t})(e)}function b(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=g(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}n.default=e;r&&r.set(e,n);return n}
function _(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=o;else if(a>1){for(var s=new Array(a),u=0;u<a;u++)s[u]=arguments[u+3];t.children=s}if(t&&i)for(var l in i)void 0===t[l]&&(t[l]=i[l]);else t||(t=i||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function m(e,t){m=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return m(e,t)}var C=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;m(e,t)}(t,e);function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];(t=e.call.apply(e,[this].concat(n))||this).handlePermissionsChange=function(e){var r=t.props;(0,r.onChange)(r.scopes,e,r.redirectUri)};t.handleScopeChange=function(e){var r=t.props;(0,r.onChange)(e,r.permissions,r.redirectUri)};t.handleRedirectUriSelection=function(e){
var r=t.props,n=r.onChange,o=r.permissions;n(r.scopes,o,e.value)};t.handleCopyClick=function(){t.trackCopyAction()};t.trackCopyAction=function(){var e,r=null!==(e=h.default.getApplicationProperties(t.props.location))&&void 0!==e?e:{};h.default.track(y.AnalyticsEvents.AUTH_URL_COPIED,r)};t.requiresRedirectUri=function(){var e=t.props,r=e.application,n=e.scopes;return!e.bypassOnly&&(r.bot_require_code_grant||Object.keys(n).some((function(e){return!y.BypassOAuth2Scopes.has(e)})))};t.renderRedirectUriOption=function(e){return e.value};return t}var r=t.prototype;r.getRedirectUrlOptions=function(){var e=this.props.redirectUris;return null==e?[]:e.map((function(e){return{name:e,value:e}}))};r.generateOAuth2URL=function(){var e=this.props,t=e.application,r=e.scopes,n=e.permissions,o=e.redirectUri;if(null==t.id||""===t.id)return O.Messages.DeveloperPages.MISSING_CLIENT_ID;if(null==r||0===Object.keys(r).length)return O.Messages.DeveloperPages.TOO_FEW_SCOPES;var a=this.requiresRedirectUri()
;if(a&&(null==o||""===o))return O.Messages.DeveloperPages.MISSING_REDIRECT_URI;var u=s.default.has(n,y.Permissions.ADMINISTRATOR)?y.Permissions.ADMINISTRATOR:n,l=Object.keys(r).map((function(e){return r[e]})).join(" "),c={permissions:y.OAuth2Scopes.BOT in r?u:void 0,client_id:t.id,response_type:a?"code":void 0,redirect_uri:null!=o&&""!==o?o:void 0,scope:null!=l&&""!==l?l:void 0};return""+location.protocol+window.GLOBAL_ENV.API_ENDPOINT+y.Endpoints.OAUTH2_AUTHORIZE+"?"+(0,i.stringify)(c)};r.render=function(){var e=this.props,t=e.permissions,r=e.redirectUri,n=e.scopes,o=e.showUrl,i=e.bypassOnly,a=y.OAuth2Scopes.BOT in n,s=this.generateOAuth2URL(),h=!/^http/.test(s);return _(p.default,{},void 0,_(p.GridSection,{},void 0,_(p.GridChild,{columnSpread:12},void 0,_(c.default,{},void 0,O.Messages.OAuth2.SCOPES),_(d.default,{},void 0,_(v.default,{scopes:n,onChange:this.handleScopeChange,bypassOnly:i})))),this.requiresRedirectUri()?_(p.GridSection,{},void 0,_(p.GridChild,{columnSpread:12
},void 0,_(c.default,{},void 0,O.Messages.OAuth2.SELECT_REDIRECT_URL),_(f.default,{value:r,clearable:!1,searchable:!1,options:this.getRedirectUrlOptions(),onChange:this.handleRedirectUriSelection,optionRenderer:this.renderRedirectUriOption,valueRenderer:this.renderRedirectUriOption}))):null,a?_(p.GridSection,{},void 0,_(p.GridChild,{columnSpread:12},void 0,_(c.default,{},void 0,O.Messages.OAuth2.BOT_PERMISSIONS),_(d.default,{},void 0,_(u.default,{permissions:t,onChange:this.handlePermissionsChange,showInteger:!1})))):null,o?_(p.GridSection,{},void 0,_(p.GridChild,{columnSpread:12},void 0,_(c.default,{},void 0,O.Messages.OAuth2.AUTHORIZATION_URL),_(l.default,{isButtonDisabled:h,onCopy:this.handleCopyClick,type:l.default.Types.TEXTBOX,textToCopy:s}))):null)};return t}(o.PureComponent);C.displayName="OAuth2UrlBuilder";var A=(0,a.withRouter)(C);t.default=A},76309:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var n,o=f(r(67294)),i=p(r(89446)),a=f(r(84455)),s=r(70348),u=r(78036),l=p(r(9307)),c=p(r(92254));function p(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(d=function(e){return e?r:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=d(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}n.default=e;r&&r.set(e,n);return n}function h(){h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};return h.apply(this,arguments)}function v(e,t,r,o){
n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=o;else if(a>1){for(var s=new Array(a),u=0;u<a;u++)s[u]=arguments[u+3];t.children=s}if(t&&i)for(var l in i)void 0===t[l]&&(t[l]=i[l]);else t||(t=i||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function y(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;O(e,t)}function O(e,t){O=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return O(e,t)}var S=new Set([s.OAuth2Scopes.APPLICATIONS_COMMANDS_PERMISSIONS_UPDATE]),g=function(e){y(t,e);function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];(t=e.call.apply(e,[this].concat(n))||this).handleChange=function(){var e=t.props,r=e.onChange,n=e.scope;null==r||r(n)};return t}var r=t.prototype;r.isChecked=function(){var e=this.props,t=e.scopes;return e.scope in t}
;r.render=function(){return v(i.default,{className:c.default.checkbox,onChange:this.handleChange,type:i.default.Types.INVERTED,color:u.Colors.WHITE,value:this.isChecked()},void 0,v("div",{className:c.default.checkboxLabel},void 0,this.props.scope))};return t}(o.Component);g.displayName="ScopeCheckbox";var b=function(e){y(t,e);function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];(t=e.call.apply(e,[this].concat(n))||this).handleScopeChange=function(e){var r=t.props,n=r.onChange,o=r.scopes,i=h({},o);e in o?delete i[e]:i[e]=e;t.setState({scopes:i});null==n||n(i)};return t}var r=t.prototype;r.renderScopeCheckboxes=function(){var e=this,t=this.props.bypassOnly,r=Object.keys(s.OAuth2Scopes).reduce((function(e,r){var n=s.OAuth2Scopes[r];s.HiddenOAuth2Scopes.has(n)||t&&!s.BypassOAuth2Scopes.has(n)||(S.has(n)?e.longOauth2ScopeKeys.push(r):e.oauth2ScopeKeys.push(r));return e}),{longOauth2ScopeKeys:[],oauth2ScopeKeys:[]
}),n=r.longOauth2ScopeKeys,o=r.oauth2ScopeKeys,i=[];[o,n].forEach((function(t,r){var o=t===n;t.forEach((function(t,n){i.push(v(a.GridChild,{columnSpread:12,columnSpreadSmallMedium:12,columnSpreadMedium:o?12:6,columnSpreadLarge:o?6:4,columnSpreadExtraLarge:o?6:4,className:l.default.scopeCell},r+"-"+n,v(g,{onChange:e.handleScopeChange,scopes:e.props.scopes,scope:s.OAuth2Scopes[t]},s.OAuth2Scopes[t])))}))}));return v(a.GridSection,{},void 0,i)};r.render=function(){return v(a.default,{},void 0,this.renderScopeCheckboxes())};return t}(o.Component);b.displayName="OAuth2UrlBuilderScopes";var _=b;t.default=_},95333:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=h(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}n.default=e;r&&r.set(e,n);return n}(r(67294)),i=f(r(67258)),a=f(r(36211)),s=f(r(21416)),u=f(r(81061)),l=f(r(86750)),c=f(r(58350)),p=f(r(6118)),d=r(34596);function f(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(h=function(e){return e?r:t})(e)}function v(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=o;else if(a>1){for(var s=new Array(a),u=0;u<a;u++)s[u]=arguments[u+3];t.children=s}if(t&&i)for(var l in i)void 0===t[l]&&(t[l]=i[l]);else t||(t=i||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function y(){y=Object.assign||function(e){
for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};return y.apply(this,arguments)}function O(e,t){O=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return O(e,t)}var S=function(){return{permissions:i.default.deserialize(0),scopes:{},redirectUri:null}},g=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;O(e,t)}(t,e);function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];(t=e.call.apply(e,[this].concat(n))||this).state=y({},S());t.handleBuilderChange=function(e,r,n){t.setState({scopes:e,permissions:r,redirectUri:n})};return t}t.prototype.render=function(){var e=this.props.applicationDetails,t=this.state,r=t.scopes,n=t.permissions,i=t.redirectUri
;return v(o.Fragment,{},void 0,v(l.default,{},void 0,v(u.default,{},void 0,d.Messages.OAuth2UrlGenerator.HEADING),v(c.default,{},void 0,d.Messages.OAuth2UrlGenerator.SUBHEADING)),v(l.default,{isFlush:!0},void 0,v(s.default,{application:e,redirectUris:e.redirect_uris,scopes:r,permissions:n,redirectUri:i,onChange:this.handleBuilderChange,showUrl:!0})))};return t}(o.Component);g.displayName="OAuth2UrlGenerator";var b=a.default.connectStores([p.default],(function(e){var t=e.match.params.id;return{applicationDetails:p.default.getApplication(t)}}))(g);t.default=b}}]);
//# sourceMappingURL=2cef498b7dbdf91b8ada.js.map