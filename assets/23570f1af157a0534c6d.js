"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[43562],{415324:(e,r,n)=>{n.d(r,{b:()=>c,Z:()=>o});var t=n(785893),u=(n(667294),n(945460)),s=n(473708);function a(e){switch(e){case"brl":return s.Z.Messages.BRL_NAME;case"pln":return s.Z.Messages.PLN_NAME;case"try":return s.Z.Messages.TRY_NAME;case"usd":return s.Z.Messages.USD_NAME;case"aud":return s.Z.Messages.AUD_NAME;case"pen":return s.Z.Messages.PEN_NAME;case"php":return s.Z.Messages.PHP_NAME;case"ars":return s.Z.Messages.ARS_NAME;case"cop":return s.Z.Messages.COP_NAME;case"clr":return s.Z.Messages.CLR_NAME;case"jpy":return s.Z.Messages.JPY_NAME;case"idr":return s.Z.Messages.IDR_NAME;case"vnd":return s.Z.Messages.VND_NAME;case"thb":return s.Z.Messages.THB_NAME;case"myr":return s.Z.Messages.MYR_NAME;case"krw":return s.Z.Messages.KRW_NAME;case"mxn":return s.Z.Messages.MXN_NAME;case"bgn":return s.Z.Messages.BGN_NAME;case"czk":return s.Z.Messages.CZK_NAME;case"dkk":return s.Z.Messages.DKK_NAME;case"huf":
return s.Z.Messages.HUF_NAME;case"ron":return s.Z.Messages.RON_NAME;case"sek":return s.Z.Messages.SEK_NAME;case"eur":return s.Z.Messages.EUR_NAME;default:return""}}function c(e){var r=e.currencies,n=e.className,u=e.children;return r.length<2?null:(0,t.jsx)("div",{className:n,children:u})}const o=function(e){var r=e.currencies,n=e.onChange,s=e.selectedCurrency,c=e.className,o=e.disabled,i=void 0!==o&&o;if(r.length<2)return null;var l=r.map((function(e,r){return{key:r,value:e,label:"".concat(e.toUpperCase()," - ").concat(a(e))}}));return(0,t.jsx)(u.SingleSelect,{value:s,options:l,onChange:function(e){null!=e&&n(e)},className:c,isDisabled:i})}},100749:(e,r,n)=>{n.d(r,{hz:()=>E,ED:()=>_,Ox:()=>S,pV:()=>w});var t=n(667294),u=n(202351),s=n(281110),a=n(347365),c=n(370459),o=n(536392),i=n(850841),l=n(2590);function p(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function f(e,r,n,t,u,s,a){try{var c=e[s](a),o=c.value}catch(e){n(e);return}
c.done?r(o):Promise.resolve(o).then(t,u)}function y(e){return function(){var r=this,n=arguments;return new Promise((function(t,u){var s=e.apply(r,n);function a(e){f(s,t,u,a,c,"next",e)}function c(e){f(s,t,u,a,c,"throw",e)}a(void 0)}))}}function b(e,r,n){r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n;return e}function d(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));t.forEach((function(r){b(e,r,n[r])}))}return e}function h(e,r){r=null!=r?r:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):function(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable
})));n.push.apply(n,t)}return n}(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}));return e}function v(e,r){if(null==e)return{};var n,t,u=function(e,r){if(null==e)return{};var n,t,u={},s=Object.keys(e);for(t=0;t<s.length;t++){n=s[t];r.indexOf(n)>=0||(u[n]=e[n])}return u}(e,r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(t=0;t<s.length;t++){n=s[t];r.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(u[n]=e[n])}}return u}function m(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var t,u,s=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(t=n.next()).done);a=!0){s.push(t.value);if(r&&s.length===r)break}}catch(e){c=!0;u=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw u}}return s}}(e,r)||function(e,r){if(!e)return;if("string"==typeof e)return p(e,r)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var g=function(e,r){var n,t,u,s,a={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return s={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function c(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,t&&(u=2&s[0]?t.return:s[0]?t.throw||((u=t.return)&&u.call(t),0):t.next)&&!(u=u.call(t,s[1])).done)return u;(t=0,u)&&(s=[2&s[0],u.value]);switch(s[0]){case 0:case 1:u=s;break;case 4:a.label++;return{value:s[1],done:!1}
;case 5:a.label++;t=s[1];s=[0];continue;case 7:s=a.ops.pop();a.trys.pop();continue;default:if(!(u=a.trys,u=u.length>0&&u[u.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!u||s[1]>u[0]&&s[1]<u[3])){a.label=s[1];break}if(6===s[0]&&a.label<u[1]){a.label=u[1];u=s;break}if(u&&a.label<u[2]){a.label=u[2];a.ops.push(s);break}u[2]&&a.ops.pop();a.trys.pop();continue}s=r.call(e,a)}catch(e){s=[6,e];t=0}finally{n=u=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};function M(){return(M=y((function(e){var r,n,t,u,o,p,f,y,b,m,M,E;return g(this,(function(g){switch(g.label){case 0:r=e.items,n=e.paymentSourceId,t=e.trialId,u=e.code,o=e.applyEntitlements,p=void 0!==o&&o,f=e.currency,y=e.renewal,b=e.metadata;r=(0,i.gB)(r);m={items:r.map((function(e){var r=e.planId;return h(d({},v(e,["planId"])),{plan_id:r})})),payment_source_id:n,trial_id:t,code:u,apply_entitlements:p,currency:f,renewal:y,metadata:b};g.label=1;case 1:g.trys.push([1,3,,4]);return[4,s.Z.post({
url:l.ANM.BILLING_SUBSCRIPTIONS_PREVIEW,body:m,oldFormErrors:!0})];case 2:M=g.sent();return[2,c.Z.createInvoiceFromServer(M.body)];case 3:E=g.sent();throw new a.HF(E);case 4:return[2]}}))}))).apply(this,arguments)}function E(e){return N.apply(this,arguments)}function N(){return(N=y((function(e){var r,n,t,u,o,p,f,y,b,m;return g(this,(function(g){switch(g.label){case 0:r=e.subscriptionId,n=e.items,t=e.paymentSourceId,u=e.renewal,o=e.currency,p=e.applyEntitlements,f=void 0!==p&&p;null!=n&&(n=(0,i.gB)(n));y={items:null==n?void 0:n.map((function(e){var r=e.planId;return h(d({},v(e,["planId"])),{plan_id:r})})),payment_source_id:t,renewal:u,apply_entitlements:f,currency:o};g.label=1;case 1:g.trys.push([1,3,,4]);return[4,s.Z.patch({url:l.ANM.BILLING_SUBSCRIPTION_PREVIEW(r),body:y,oldFormErrors:!0})];case 2:b=g.sent();return[2,c.Z.createInvoiceFromServer(b.body)];case 3:m=g.sent();throw new a.HF(m);case 4:return[2]}}))}))).apply(this,arguments)}function O(){return(O=y((function(e){var r,n
;return g(this,(function(t){switch(t.label){case 0:r=e.subscriptionId;return e.preventFetch?[2,null]:[4,s.Z.get({url:l.ANM.BILLING_SUBSCRIPTION_INVOICE(r),oldFormErrors:!0})];case 1:n=t.sent();return[2,c.Z.createInvoiceFromServer(n.body)]}}))}))).apply(this,arguments)}function I(e,r){var n=e.preventFetch,s=void 0!==n&&n,a=m((0,t.useState)(null),2),c=a[0],i=a[1],l=m((0,t.useState)(null),2),p=l[0],f=l[1],b=(0,u.e7)([o.Z],(function(){return o.Z.getSubscriptions()}));(0,t.useEffect)((function(){var e=!1;function n(){return(n=y((function(){var n,t;return g(this,(function(u){switch(u.label){case 0:u.trys.push([0,2,,3]);f(null);i(null);return[4,r()];case 1:n=u.sent();e||i(n);return[3,3];case 2:t=u.sent();e||f(t);return[3,3];case 3:return[2]}}))}))).apply(this,arguments)}s||function(){n.apply(this,arguments)}();return function(){e=!0}}),[s,r,b]);return[c,p]}function _(e){if("subscriptionId"in e&&null==e.subscriptionId){e.subscriptionId;var r=v(e,["subscriptionId"]);e=r}var n=(0,
t.useCallback)((function(){return"subscriptionId"in e?E(e):"items"in e?function(e){return M.apply(this,arguments)}(e):null}),[JSON.stringify(e)]);return I(e,n)}function S(e){var r=(0,t.useCallback)((function(){return function(e){return O.apply(this,arguments)}(e)}),[JSON.stringify(e)]);return I(e,r)}function w(e){var r=e.subscriptionPlanPrice;e.discounts.forEach((function(n){var t=n.amount/e.quantity;r-=t}));return r}},499171:(e,r,n)=>{n.d(r,{U:()=>f});var t=n(730381),u=n.n(t),s=n(202351),a=n(711531),c=n(551778),o=n(536392),i=n(850841),l=n(2590),p=n(520453);function f(){var e=(0,s.e7)([o.Z],(function(){return o.Z.getPremiumTypeSubscription()})),r=(0,s.e7)([c.Z],(function(){return null!=e&&null!=e.planIdFromItems?c.Z.get(null==e?void 0:e.planIdFromItems):null})),n=(0,s.e7)([a.Z],(function(){return null!=e&&null!=e.paymentSourceId?a.Z.getPaymentSource(e.paymentSourceId):null
}),[e]),t=null!=n&&p.Uk.has(n.type),f=(null==e?void 0:e.status)===l.O0b.PAST_DUE?u()().diff(u()(e.currentPeriodStart),"days"):0;return!(null==e||null==r||!(0,i.uZ)(r.id))&&(t&&f>=0&&f<=(0,i.lU)(e)&&e.status===l.O0b.PAST_DUE&&!e.isPurchasedExternally)}}}]);
//# sourceMappingURL=23570f1af157a0534c6d.js.map