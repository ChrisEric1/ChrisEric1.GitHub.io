(this.webpackJsonp=this.webpackJsonp||[]).push([[76],{10041:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t){for(var e=0,n=Object.keys(t);e<n.length;e++){var u=n[e],a=t[u];if(null!=a&&null==a.error&&r.has(u))return!0}return!1};e.SUPPORTED_HARDWARE_ACCEL_VENDORS=void 0;var r=new Set(["nvidia"]);e.SUPPORTED_HARDWARE_ACCEL_VENDORS=r},10042:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t){var e=l[i.default.getPlatform()];if(null==e)return!1;for(var n=0,r=Object.keys(t);n<r.length;n++){var u=r[n],o=t[u],c=e[u];if(null!=o&&null!=c&&null==o.error){var f=((s=o).major||0)+"."+(s.minor||0)+".0";if(!a.default.satisfies(f,c))return!0}}var s;return!1};e.REQUIRED_DRIVER_VERSIONS_BY_PLATFORM=void 0;var r,u,a=(r=n(1361))&&r.__esModule?r:{default:r},i=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=o(e)
;if(n&&n.has(t))return n.get(t);var r={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var i=u?Object.getOwnPropertyDescriptor(t,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=t[a]}r.default=t;n&&n.set(t,r);return r}(n(19));function o(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(o=function(t){return t?n:e})(t)}var l=((u={})[i.PlatformTypes.WINDOWS]={nvidia:">=397.93.0"},u);e.REQUIRED_DRIVER_VERSIONS_BY_PLATFORM=l},10081:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=void 0;var r=o(n(10)),u=o(n(3)),a=o(n(2)),i=o(n(1372));n(1);function o(t){return t&&t.__esModule?t:{default:t}}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){t.__proto__=e;return t})(t,e)}function c(){return(c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var f,s,d=Object.freeze({}),p={};function v(t){var e=t.lobbyId;delete p[e]}var y=new(function(t){!function(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;l(t,e)}(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;n.getAllVoiceStates=function(){return p};n.getVoiceStates=function(t){return p[t]||d};n.getVoiceState=function(t,e){return this.getVoiceStates(t)[e]};n.getLobbyIdsForUser=function(t){return Object.keys(p).filter((function(e){return null!=p[e][t]}))};return e}(u.default.Store))(a.default,{CONNECTION_OPEN:function(t){var e=t.user,n=t.sessionId;p={};f=e.id;s=n},OVERLAY_INITIALIZE:function(t){var e=t.lobbyVoiceStates,n=t.user,u=t.sessionId;p={};r.default.each(e,(function(t,e){p[e]={};r.default.each(t,(function(t,n){p[e][n]=new i.default(t)}))}));f=n.id;s=u},LOBBY_VOICE_STATE_UPDATE:function(t){
var e,n=t.sessionId,r=t.userId,u=t.lobbyId,a=t.channelId,o=t.mute,l=t.deaf,d=t.selfMute,v=t.selfDeaf,y=r===f&&n!==s,I=p[u]||{},g=I[r];null==a||y||(e=null==g?new i.default({userId:r,sessionId:n,channelId:a,mute:o,deaf:l,selfMute:d,selfDeaf:v}):g.merge({userId:r,sessionId:n,channelId:a,mute:o,deaf:l,selfMute:d,selfDeaf:v}));if(g===e)return!1;if(null==e)delete(I=c({},I))[r];else{var O;I=c({},I,((O={})[r]=e,O))}p[u]=I},LOBBY_DELETE:v,LOBBY_DISCONNECT:v});e.default=y},10566:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=void 0;var r,u=d(n(10)),a=d(n(3)),i=d(n(2)),o=d(n(856)),l=d(n(14)),c=d(n(1339)),f=d(n(50)),s=n(1);function d(t){return t&&t.__esModule?t:{default:t}}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){t.__proto__=e;return t})(t,e)}function v(){return(v=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t
}).apply(this,arguments)}var y={};function I(){u.default.forEach(y,(function(t,e){t.destroy();delete y[e]}))}function g(t,e,n){var r=y[t];return null!=r?e(r):n}function O(t){var e=t.lobbyId,n=y[e];if(null==n)return!1;n.destroy();delete y[e]}var _=new(function(t){!function(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;p(t,e)}(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;n.forEach=function(t){u.default.each(y,t)};n.getState=function(t){return g(t,(function(t){return t.state}),s.RTCConnectionStates.DISCONNECTED)};n.isConnected=function(t){return this.getState(t)===s.RTCConnectionStates.RTC_CONNECTED};n.isDisconnected=function(t){return this.getState(t)===s.RTCConnectionStates.DISCONNECTED};n.getHostname=function(t){return g(t,(function(t){return t.hostname}),null)};n.getQuality=function(t){return g(t,(function(t){return t.quality}),s.RTCConnectionQuality.UNKNOWN)};n.getPings=function(t){return g(t,(function(t){return t.getPings()}),[])}
;n.getAveragePing=function(t){return g(t,(function(t){return t.getAveragePing()}),0)};n.getLastPing=function(t){return g(t,(function(t){return t.getLastPing()}),0)};n.getOutboundLossRate=function(t){return g(t,(function(t){return t.getOutboundLossRate()}),0)};n.getMediaSessionId=function(t){return g(t,(function(t){return t.getMediaSessionId()}),null)};n.getRTCConnectionId=function(t){return g(t,(function(t){return t.getRTCConnectionId()}),null)};n.getDuration=function(t){return g(t,(function(t){return t.getDuration()}),0)};return e}(a.default.Store))(i.default,f.default.isSupported()?{CONNECTION_OPEN:function(t){r=t.sessionId;I()},CONNECTION_CLOSED:function(t){return function(){r=null;I()}()},RTC_CONNECTION_STATE:function(t){return!0},RTC_CONNECTION_PING:function(t){return!0},RTC_CONNECTION_LOSS_RATE:function(t){return!0},LOBBY_VOICE_STATE_UPDATE:function(t){if(l.default.getId()!==t.userId)return!1;if(t.sessionId!==r)return!1;var e=y[t.lobbyId];if(null!=e&&null==t.channelId){
e.destroy();delete y[t.lobbyId]}else if(null!=e)e.channelId=t.channelId;else if(null!=t.channelId){e=function(t,e){if(null==r)throw new Error("Creating RTCConnection without session.");var n=c.default.getLobby(t);if(null==n)throw new Error("Creating RTCConnection without lobby.");var u=n.application_id,a=new o.default(l.default.getId(),r,t,e,u);a.on("state",(function(e,n,r){i.default.dirtyDispatch(v({type:s.ActionTypes.RTC_CONNECTION_STATE,state:e,hostname:n},r,{lobbyId:t}))}));a.on("ping",(function(e,n){i.default.dispatch({type:s.ActionTypes.RTC_CONNECTION_PING,pings:e,quality:n,lobbyId:t})}));a.on("outboundlossrate",(function(e){i.default.dispatch({type:s.ActionTypes.RTC_CONNECTION_LOSS_RATE,lossRate:e,lobbyId:t})}));return a}(t.lobbyId,t.channelId);y[t.lobbyId]=e}},LOBBY_VOICE_SERVER_UPDATE:function(t){var e=y[t.lobbyId];if(null==e)return!1;e.connect(t.endpoint,t.token)},LOBBY_DELETE:O,LOBBY_DISCONNECT:O}:{});e.default=_},5876:function(t,e,n){"use strict"
;Object.defineProperty(e,"__esModule",{value:!0});e.default=void 0;var r=o(n(3)),u=n(60),a=o(n(2)),i=n(1);function o(t){return t&&t.__esModule?t:{default:t}}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){t.__proto__=e;return t})(t,e)}function c(){return(c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var f={},s={};function d(t,e,n){var r=n.applicationId,o=f[r]||{};o[e]=t;f[r]=o;if(!__OVERLAY__&&t===i.ActivityActionStates.FAILED){null!=s[r]&&s[r].stop();var l=new u.Timeout;l.start(12e4,(function(){return a.default.dispatch({type:i.ActionTypes.ACTIVITY_LAUNCH_FAIL,applicationId:r,activityType:e})}));s[r]=l}}var p=new(function(t){!function(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;l(t,e)}(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;n.getState=function(t,e){var n=f[t];return n&&n[e]
};n.getStates=function(){return f};return e}(r.default.Store))(a.default,{OVERLAY_INITIALIZE:function(t){var e=t.activityLauncherStates;f=c({},e)},ACTIVITY_JOIN_LOADING:function(t){return d(i.ActivityActionStates.LOADING,i.ActivityActionTypes.JOIN,t)},ACTIVITY_JOIN_FAILED:function(t){return d(i.ActivityActionStates.FAILED,i.ActivityActionTypes.JOIN,t)},ACTIVITY_JOIN:function(t){return d(i.ActivityActionStates.COMPLETE,i.ActivityActionTypes.JOIN,t)},EMBEDDED_ACTIVITY_CLOSE:function(t){return d(i.ActivityActionStates.COMPLETE,i.ActivityActionTypes.JOIN,t)},ACTIVITY_LAUNCH_FAIL:function(t){var e=t.applicationId,n=t.activityType,r=f[e];if(null==r||r[n]!==i.ActivityActionStates.FAILED)return!1;delete r[n]}});e.default=p},6151:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});e.default=q
;var r=W(n(10)),u=W(n(157)),a=W(n(242)),i=W(n(9669)),o=W(n(481)),l=W(n(260)),c=W(n(1373)),f=W(n(1338)),s=W(n(137)),d=W(n(14)),p=W(n(350)),v=W(n(11)),y=W(n(427)),I=W(n(219)),g=W(n(9378)),O=W(n(77)),_=W(n(348)),E=W(n(331)),S=W(n(56)),b=W(n(17)),A=W(n(10566)),h=W(n(1339)),T=W(n(10081)),C=W(n(1329)),P=W(n(50)),N=W(n(425)),m=W(n(208)),R=W(n(110)),L=W(n(329)),D=W(n(61)),M=W(n(33)),j=W(n(300)),w=W(n(38)),V=W(n(13)),U=W(n(79)),Y=W(n(440)),B=W(n(1223)),k=W(n(817)),G=W(n(5876)),F=W(n(811)),H=n(309),J=n(1);function W(t){return t&&t.__esModule?t:{default:t}}function z(t,e,n,r,u,a,i){try{var o=t[a](i),l=o.value}catch(t){n(t);return}o.done?e(l):Promise.resolve(l).then(r,u)}function x(t){return function(){var e=this,n=arguments;return new Promise((function(r,u){var a=t.apply(e,n);function i(t){z(a,r,u,i,o,"next",t)}function o(t){z(a,r,u,i,o,"throw",t)}i(void 0)}))}}function q(t,e,n){return Q.apply(this,arguments)}function Q(){return(Q=x(regeneratorRuntime.mark((function e(n,W,z){
var x,Q,Z,K,$,X,tt,et,nt,rt,ut,at,it,ot,lt,ct,ft,st,dt,pt,vt,yt,It,gt,Ot,_t,Et,St,bt,At,ht,Tt,Ct,Pt,Nt,mt,Rt,Lt,Dt,Mt,jt,wt,Vt,Ut;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:void 0===z&&(z=new u.default);e.next=3;return new Promise((function(e){return t(e)}));case 3:if(null!=(x=V.default.getCurrentUser())){e.next=6;break}return e.abrupt("return",new Promise((function(t){z.fail((function(){t(q(n,W,z))}))})));case 6:z.succeed();Q=Object.values(V.default.getUsers());Z=Object.values(b.default.getGuilds());K=r.default.values(v.default.getInitialOverlayState());$=S.default.getAllGuildsAndMembers();X=L.default.getAllReadStates();tt=U.default.getAllVoiceStates();et=m.default.getState();nt=w.default.getAllSettings();rt=_.default.unavailableGuilds;ut=r.default.mapValues(I.default.getGuilds(),(function(t){return t.emojis}));at=j.default.getAllSettings();it=p.default.getInternalState();ot=G.default.getStates();lt=y.default.getAllConnections()
;ct=C.default.getApplicationActivities();ft=g.default.getParties();st=g.default.getUserParties();dt=d.default.getSessionId();pt=d.default.getAnalyticsToken();vt=k.default.getGameAsJSON(W);yt=E.default.getMemberCounts();It=D.default.getRelationships();gt=F.default.serializeForOverlay();Ot=M.default.getVoiceChannelId();_t=N.default.getFocusedPID();Et=N.default.getSelectedGuildId();St=N.default.getSelectedChannelId();bt=P.default.getState();At=O.default.games.map((function(t){return t.toJS()}));ht=Object.values(Y.default.paymentSources).map((function(t){return t.toJS()}));Tt=Y.default.defaultPaymentSourceId;Ct=Y.default.hasFetchedPaymentSources;Pt=s.default.getState();Nt=B.default.testModeApplicationId;mt={null:{state:R.default.getState(),pings:R.default.getPings(),quality:R.default.getQuality(),hostname:R.default.getHostname(),lossRate:R.default.getOutboundLossRate()}};A.default.forEach((function(t,e){mt[e]={state:t.state,pings:t.getPings(),quality:t.quality,hostname:t.hostname,
lossRate:t.getOutboundLossRate()}}));Rt=h.default.getLobbies();Lt=T.default.getAllVoiceStates();Dt=Array.from(o.default.getState().hiddenHotspots);Mt=a.default.getSerializedState();jt=i.default.getState();wt=l.default.getInitialOverlayState();Vt=c.default.getInitialOverlayState();Ut=f.default.getInitialOverlayState();return e.abrupt("return",{type:J.ActionTypes.OVERLAY_INITIALIZE,version:H.OVERLAY_VERSION,users:Q,guilds:Z,channels:K,guildMembers:$,readStates:X,voiceStates:tt,unavailableGuilds:rt,emojis:ut,allUserGuildSettings:at,callStoreInternalState:it,activityLauncherStates:ot,connectedApps:lt,localActivities:ct,parties:ft,userParties:st,user:x,sortedPrivateChannels:gt,token:n,sessionId:dt,analyticsToken:pt,presences:et,userSettings:nt,currentGame:vt,selectedVoiceChannelId:Ot,selectedChannelId:St,selectedGuildId:Et,guildMemberCounts:yt,relationships:It,mediaEngineState:bt,rtcConnectionStates:mt,focusedPID:_t,applications:At,paymentSources:ht,defaultPaymentSourceId:Tt,
hasFetchedPaymentSources:Ct,testModeApplicationId:Nt,lobbies:Rt,lobbyVoiceStates:Lt,applicationStreamState:Pt,hiddenHotspots:Dt,serializedExperimentStore:Mt,streamingCapabilitiesStoreState:jt,joinedThreads:wt,threadMembers:Vt,threadMessages:Ut});case 52:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}).call(this,n(75).setImmediate)},9378:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=void 0;var r=f(n(10)),u=f(n(3)),a=f(n(2)),i=f(n(14)),o=f(n(61)),l=f(n(470)),c=n(1);function f(t){return t&&t.__esModule?t:{default:t}}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){t.__proto__=e;return t})(t,e)}function d(){return(d=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function p(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n)
;if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return v(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var y={},I={};function g(t,e){return(y[t]||{})[e]||null}function O(t,e){var n=g(t,e);if(null!=n){var u=y[t];delete u[e];r.default.isEmpty(u)&&delete y[t];var a=I[n];if(null!=a){a.delete(t);0===a.size&&delete I[n]}}}function _(t,e,n,r){var u=n.find((function(t){
return null!=t.party&&t.party.id})),a=null!=u&&null!=u.party?u.party.id:null,i=g(e,t);if(null!=a&&r!==c.StatusTypes.OFFLINE){if(null!=i){if(i===a)return!1;O(e,t)}!function(t,e,n){var r=y[t];null==r&&(r=y[t]={});r[e]=n;if(!o.default.isBlocked(t)){var u=I[n]||new Set;I[n]=u;u.add(t)}}(e,t,a)}else{if(null==i)return!1;O(e,t)}}function E(t){for(var e,n=t.guild,r=!1,u=p(n.presences);!(e=u()).done;){var a=e.value,i=a.user,o=a.status,l=a.activities;!1!==_(n.id,i.id,l,o)&&(r=!0)}return r}function S(t,e){var n=!1;e.forEach((function(e){null!=e&&_(t,e.user.id,e.activities,e.status)&&(n=!0)}));return n}function b(){var t=i.default.getId(),e=l.default.getActivities();return _(c.ME,t,e)}var A=new(function(t){!function(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;s(t,e)}(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;n.initialize=function(){this.syncWith([l.default],b);this.waitFor(l.default,o.default)};n.getParty=function(t){
return null!=t&&null!=I[t]?I[t]:null};n.getUserParties=function(){return y};n.getParties=function(){return I};return e}(u.default.Store))(a.default,{CONNECTION_OPEN_SUPPLEMENTAL:function(t){for(var e,n=t.guilds,r=!1,u=p(t.presences);!(e=u()).done;){var a=e.value,i=a.user,o=a.status,l=a.activities;null!=i&&!1!==_(c.ME,i.id,l,o)&&(r=!0)}for(var f,s=p(n);!(f=s()).done;){!1!==E({guild:f.value})&&(r=!0)}return r},OVERLAY_INITIALIZE:function(t){var e=t.parties,n=t.userParties;I={};y=d({},n);Object.keys(e).forEach((function(t){return I[t]=new Set(e[t])}))},GUILD_CREATE:E,PRESENCES_REPLACE:function(t){for(var e,n=!1,r=p(t.presences);!(e=r()).done;){var u=e.value,a=u.user,i=u.activities;null!=a&&!1!==_(c.ME,a.id,i)&&(n=!0)}return n},PRESENCE_UPDATE:function(t){var e=t.guildId,n=t.user,r=t.status,u=t.activities;return _(e||c.ME,n.id,u,r)},THREAD_MEMBER_LIST_UPDATE:function(t){return S(t.guildId,t.members.map((function(t){return t.presence})))},THREAD_MEMBERS_UPDATE:function(t){
var e=t.guildId,n=t.addedMembers;return null!=n&&S(e,n.map((function(t){return t.presence})))},RELATIONSHIP_ADD:function(t){var e=t.relationship;if(!o.default.isBlocked(e.id))return!1;var n=y[e.id];if(null==n)return!1;for(var u,a=p(r.default.values(n));!(u=a()).done;){var i=u.value,l=I[i];null!=l&&l.delete(e.id)}},RELATIONSHIP_REMOVE:function(t){var e=t.relationship,n=y[e.id];if(null==n)return!1;for(var u,a=p(r.default.values(n));!(u=a()).done;){var i=u.value,o=I[i];null!=o&&o.add(e.id)}}});e.default=A},9669:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=void 0;var r=c(n(3)),u=c(n(2)),a=c(n(19)),i=c(n(48)),o=c(n(10041)),l=c(n(10042));n(1);function c(t){return t&&t.__esModule?t:{default:t}}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(t,r.key,r)}}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){t.__proto__=e;return t})(t,e)}
var d=!1,p=!0;var v=new(function(t){!function(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;s(t,e)}(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;n.initialize=function(){var t=this;a.default.embedded&&!__OVERLAY__&&i.default.getGPUDriverVersions().then((function(e){d=(0,l.default)(e);p=(0,o.default)(e);t.emitChange()}))};n.getState=function(){return{GPUDriversOutdated:d,canUseHardwareAcceleration:p}};!function(t,e,n){e&&f(t.prototype,e);n&&f(t,n)}(e,[{key:"GPUDriversOutdated",get:function(){return d}},{key:"canUseHardwareAcceleration",get:function(){return p}}]);return e}(r.default.Store))(u.default,{OVERLAY_INITIALIZE:function(t){var e=t.streamingCapabilitiesStoreState;d=e.GPUDriversOutdated;p=e.canUseHardwareAcceleration}});e.default=v}}]);
//# sourceMappingURL=104535f2e3fbebe23253.js.map