/*! For license information please see e81d25972199d1bd7d81.js.LICENSE.txt */
(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[54313,66272],{392654:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a=i(n(118915)),r=i(n(636602)),o=n(770348);function i(e){return e&&e.__esModule?e:{default:e}}var l={fetch:function(){a.default.get({url:o.Endpoints.OAUTH2_TOKENS,oldFormErrors:!0}).then((function(e){return r.default.dispatch({type:o.ActionTypes.USER_AUTHORIZED_APPS_UPDATE,apps:e.body})}),(function(){return r.default.dispatch({type:o.ActionTypes.USER_AUTHORIZED_APPS_UPDATE,apps:[]})}))},delete:function(e){var t=this;a.default.delete({url:o.Endpoints.OAUTH2_TOKEN(e),oldFormErrors:!0}).then((function(){t.fetch()}))}};t.default=l},951864:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a,r=u(n(118915)),o=u(n(636602)),i=n(327269),l=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}var s=((a={})[l.HypeSquadHouses.HOUSE_1]=1,a[l.HypeSquadHouses.HOUSE_2]=2,
a[l.HypeSquadHouses.HOUSE_3]=3,a),d={joinHypeSquadOnline:function(e){return r.default.post({url:l.Endpoints.HYPESQUAD_ONLINE,body:{house_id:s[e.houseID]},oldFormErrors:!0}).then((function(){return o.default.dispatch({type:l.ActionTypes.HYPESQUAD_ONLINE_MEMBERSHIP_JOIN_SUCCESS,houseID:e.houseID})})).catch((function(e){throw new i.V6OrEarlierAPIError(e)}))},leaveHypeSquadOnline:function(){return r.default.delete({url:l.Endpoints.HYPESQUAD_ONLINE,oldFormErrors:!0}).then((function(){return o.default.dispatch({type:l.ActionTypes.HYPESQUAD_ONLINE_MEMBERSHIP_LEAVE_SUCCESS})})).catch((function(e){throw new i.V6OrEarlierAPIError(e)}))}};t.default=d},511066:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a,r=(a=n(636602))&&a.__esModule?a:{default:a},o=n(770348);var i={addKeybind:function(e){r.default.dispatch({type:o.ActionTypes.KEYBINDS_ADD_KEYBIND,keybind:e})},setKeybind:function(e){r.default.dispatch({type:o.ActionTypes.KEYBINDS_SET_KEYBIND,
keybind:e})},deleteKeybind:function(e){r.default.dispatch({type:o.ActionTypes.KEYBINDS_DELETE_KEYBIND,id:e})},enableAll:function(e){r.default.dirtyDispatch({type:o.ActionTypes.KEYBINDS_ENABLE_ALL_KEYBINDS,enable:e})}};t.default=i},747490:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.RefundReason=t.PremiumRefundDisqualificationReason=t.AdyenResultCodes=void 0;var a,r,o,i=(a=n(213192))&&a.__esModule?a:{default:a};t.RefundReason=r;!function(e){e[e.OTHER=0]="OTHER";e[e.GIFTING_REFUND=1]="GIFTING_REFUND";e[e.BUYERS_REMORSE=2]="BUYERS_REMORSE";e[e.WRONG_PURCHASE=3]="WRONG_PURCHASE";e[e.FORGOT_TO_CANCEL=4]="FORGOT_TO_CANCEL";e[e.SERVER_BOOSTING_COOLDOWN=5]="SERVER_BOOSTING_COOLDOWN";e[e.USER_CONFUSION=6]="USER_CONFUSION";e[e.WANT_TO_SWITCH_TIERS=7]="WANT_TO_SWITCH_TIERS";e[e.DONT_NEED=8]="DONT_NEED"}(r||(t.RefundReason=r={}));t.PremiumRefundDisqualificationReason=o;!function(e){e[e.OTHER=0]="OTHER";e[e.ALREADY_REFUNDED=1]="ALREADY_REFUNDED"
;e[e.NOT_USER_REFUNDABLE_TYPE=2]="NOT_USER_REFUNDABLE_TYPE";e[e.PAST_REFUNDABLE_DATE=3]="PAST_REFUNDABLE_DATE";e[e.ENTITLEMENT_ALREADY_CONSUMED=4]="ENTITLEMENT_ALREADY_CONSUMED";e[e.ALREADY_REFUNDED_PREMIUM=5]="ALREADY_REFUNDED_PREMIUM";e[e.ALREADY_REFUNDED_PREMIUM_GUILD=6]="ALREADY_REFUNDED_PREMIUM_GUILD"}(o||(t.PremiumRefundDisqualificationReason=o={}));var l=Object.freeze((0,i.default)({Authorised:null,Error:null}));t.AdyenResultCodes=l},187232:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a,r,o,i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a
}(n(667294)),l=n(354479),u=n(858627),s=p(n(191471)),d=p(n(919888)),f=p(n(247001)),c=p(n(720999));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done);i=!0){o.push(a.value);if(t&&o.length===t)break
}}catch(e){l=!0;r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}!function(e){e.EXPIRATION_DATE="expirationDate"}(o||(o={}));var _=[{fields:[((a={})[o.EXPIRATION_DATE]={name:o.EXPIRATION_DATE,id:(0,l.uid)(),title:function(){return f.default.Messages.CREDIT_CARD_EXPIRATION_DATE},autoComplete:"cc-exp",placeholder:function(){
return f.default.Messages.PAYMENT_SOURCE_EXPIRATION_DATE_PLACEHOLDER},pattern:"\\d*",getClassNameForLayout:function(){return c.default.width50},renderInput:function(e){return i.createElement(s.default,e)}},a)[o.EXPIRATION_DATE]]}];function g(e){var t=e.onCardInfoChange,n=e.className,a=e.expirationDate,r=e.error,o=S(i.useState(!1),2),l=o[0],s=o[1],c=S(i.useState(null),2),p=c[0],v=c[1],E=S(i.useState(a),2),g=E[0],y=E[1];i.useEffect((function(){t({expirationDate:g},null===p)}),[g,t,p]);return m(d.default,{className:n,form:_,values:{expirationDate:g},errors:null!=p?{expirationDate:p}:{},formError:r,onFieldChange:function(e){l||""===e||s(!0);l&&""===e||!(0,u.validateExpiry)(e)?v(f.default.Messages.CREDIT_CARD_ERROR_EXPIRATION):v(null);y(e)}})}g.displayName="EditExpirationDateForm";var y=g;t.default=y},591235:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}(n(667294)),o=A(n(294184)),i=A(n(536211)),l=A(n(636602)),u=n(832635),s=n(713293),d=A(n(697952)),f=A(n(956117)),c=A(n(558402)),p=A(n(789446)),v=A(n(530250)),m=A(n(682473)),S=n(645758),E=A(n(730977)),_=n(688388),g=n(71246),y=A(n(301429)),T=A(n(187232)),O=A(n(288006)),I=n(770348),h=A(n(247001)),N=A(n(215913));function A(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function M(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done);i=!0){o.push(a.value);if(t&&o.length===t)break}}catch(e){l=!0;r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function R(){R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return R.apply(this,arguments)}function D(e,t){D=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return D(e,t)}var L="isDefault",U=M(_.FormDivider,{}),w=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;D(e,t)}(t,e);function t(t){var n,a,r,o,i,l,u,d;(d=e.call(this,t)||this).handleSubmit=function(e){e.preventDefault();e.stopPropagation()
;if(0===Object.values(d.state.dirtyFields).filter(g.isNotNullish).length)d.props.onCancel();else{var t=d.state,n=t.billingAddress,a=t.isDefault,r=t.expiresMonth,o=t.expiresYear;d.props.onSubmit(d.props.paymentSource.id,{billingAddress:n,expiresMonth:r,expiresYear:o,isDefault:a})}};d.handleCancel=function(){d.props.onCancel()};d.handleDelete=function(){var e=d.props;(0,e.onDelete)(e.paymentSource.id)};d.handleAddressUpdate=function(e,t,n){d.setState({billingAddress:e,billingAddressValid:t,dirtyFields:R({},d.state.dirtyFields,{billingAddress:n})})};d.handleExpirationDateUpdate=function(e,t){var n=e.expirationDate;d.setState({expirationValid:t});if(null!=n&&""!==n){var a=C(n.split("/"),2),r=a[0],o=a[1];d.handleFieldChange(Number(r),"expiresMonth");d.handleFieldChange(Number(""+(new Date).getFullYear().toString().slice(0,2)+o),"expiresYear")}};d.handleFieldChange=function(e,t){var n,a;null!=t&&d.setState(((a={})[t]=e,a.dirtyFields=R({},d.state.dirtyFields,((n={})[t]=!0,n)),a))}
;var f=t.paymentSource,c=t.isDefault,p=f.billingAddress;d.state={billingAddress:{name:null!==(n=p.name)&&void 0!==n?n:"",line1:null!==(a=p.line1)&&void 0!==a?a:"",line2:null!==(r=p.line2)&&void 0!==r?r:"",country:null!==(o=p.country)&&void 0!==o?o:"",state:null!==(i=p.state)&&void 0!==i?i:"",city:null!==(l=p.city)&&void 0!==l?l:"",postalCode:null!==(u=p.postalCode)&&void 0!==u?u:""},expiresMonth:f instanceof s.CreditCardSourceRecord?f.expiresMonth:void 0,expiresYear:f instanceof s.CreditCardSourceRecord?f.expiresYear:void 0,billingAddressValid:!1,isDefault:c,expirationValid:!0,dirtyFields:{}};return d}var n=t.prototype;n.componentWillUnmount=function(){l.default.wait((function(){(0,u.clearUpdatePaymentSourceError)();(0,u.clearRemovePaymentSourceError)()}))};n.renderError=function(){var e=this.props,t=e.updateError,n=e.removeError;return null==t||t.hasCardError()||t.hasAddressError()?null!=n?M(m.default,{className:N.default.formError},void 0,n.message):null:M(m.default,{
className:N.default.formError},void 0,t.message)};n.renderBillingAddressSection=function(){var e,t=this.state.billingAddress,n=this.props,a=n.updateError,o=n.paymentSource;if(o.type===I.PaymentSourceTypes.CARD)e="US"===o.country?y.default.Layouts.SETTINGS_US:y.default.Layouts.SETTINGS_INTL;else e=y.default.Layouts.SETTINGS_INTL_NO_NAME;return M("div",{className:N.default.addressSection},void 0,M(S.Text,{className:N.default.sectionHeader,variant:"text-sm/normal"},void 0,h.default.Messages.BILLING_ADDRESS),r.createElement(y.default,R({},t,{mode:y.default.Modes.EDIT,layout:e,onBillingAddressChange:this.handleAddressUpdate,error:a})))};n.renderCardExpirationSection=function(){var e=this.state,t=e.expiresMonth,n=e.expiresYear;if(null==t||null==n)return null;var a=t.toString().padStart(2,"0")+"/"+n.toString().padStart(2,"0").slice(-2);return M("div",{className:N.default.addressSection},void 0,M(S.Text,{className:N.default.sectionHeader,variant:"text-sm/normal"
},void 0,h.default.Messages.BILLING_STEP_CREDIT_CARD_INFORMATION),M(T.default,{expirationDate:a,onCardInfoChange:this.handleExpirationDateUpdate,error:this.props.updateError}))};n.renderActions=function(){var e=this.props,t=e.submitting,n=e.removing,a=e.isForSubscription,o=this.state,i=o.billingAddressValid,l=o.expirationValid;return M(v.default,{justify:v.default.Justify.BETWEEN,className:N.default.formActions},void 0,M("div",{className:N.default.disabledTooltipWrapper},void 0,a?M(E.default,{text:h.default.Messages.PAYMENT_SOURCE_DELETE_DISABLED_TOOLTIP},void 0,(function(e){return r.createElement("div",R({"aria-hidden":!0,className:N.default.disabledTooltipTarget},e))})):null,M(f.default,{type:"button",disabled:a||t,submitting:n,onClick:this.handleDelete,look:f.default.Looks.OUTLINED,color:f.default.Colors.RED},void 0,h.default.Messages.PAYMENT_SOURCE_DELETE)),M(v.default,{grow:0},void 0,M(f.default,{type:"button",disabled:t||n,onClick:this.handleCancel,look:f.default.Looks.LINK,
color:f.default.Colors.PRIMARY},void 0,h.default.Messages.CANCEL),M(f.default,{submitting:t,disabled:!i||n||!l,type:"submit",color:f.default.Colors.GREEN},void 0,h.default.Messages.SAVE)))};n.render=function(){var e=this,t=this.props,n=t.paymentSource,a=t.isDefault,r=t.locale,i=t.className,l=t.isForSubscription,u=this.state.isDefault,d=n instanceof s.PaypalSourceRecord;return M(c.default,{editable:!0,className:(0,o.default)(N.default.card,i)},void 0,M("form",{onSubmit:this.handleSubmit,noValidate:!0},void 0,this.renderError(),M("div",{className:N.default.paymentSection},void 0,M(O.default,{paymentSource:n,isDefault:a,isForSubscription:l,locale:r}),n.invalid?M("div",{className:N.default.errorSubText},void 0,h.default.Messages.PAYMENT_SOURCE_INVALID_HELP):null,M("div",{className:N.default.subText},void 0,d?h.default.Messages.PAYMENT_SOURCE_EDIT_HELP_PAYPAL.format({paypalURL:I.PAYPAL_URL
}):h.default.Messages.PAYMENT_SOURCE_EDIT_HELP_CARD)),this.renderCardExpirationSection(),this.renderBillingAddressSection(),M(p.default,{name:L,value:u,onChange:function(t,n){return e.handleFieldChange(n,L)},type:p.default.Types.INVERTED,className:N.default.defaultSection},void 0,M(S.Text,{className:N.default.defaultCheckboxLabel,variant:"text-sm/normal"},void 0,h.default.Messages.PAYMENT_SOURCE_MAKE_DEFAULT)),U,this.renderActions()))};return t}(r.PureComponent);w.displayName="EditPaymentSourceForm";w.defaultProps={onDelete:function(){},onSubmit:function(){},onCancel:function(){}};var G=i.default.connectStores([d.default],(function(){return{updateError:d.default.editSourceError,removeError:d.default.removeSourceError}}))(w);t.default=G},191471:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t)
;if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}(n(667294)),o=(a=n(279950))&&a.__esModule?a:{default:a},i=n(581894);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function u(){u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return u.apply(this,arguments)}function s(e,t){s=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return s(e,t)}var d=/[^0-9]/g,f=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;s(e,t)}(t,e);function t(){
for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];(t=e.call.apply(e,[this].concat(a))||this).selectionStart=0;t.setRef=function(e){var n=t.props.inputRef;t._inputRef=e;null!=n&&n(e)};t.handleChange=function(e,n){var a=t.props,r=a.value,o=a.onChange,l=t._inputRef;if(e!==r&&null!=l&&null!=r){var u=(0,i.formatExpiration)(e),s=l.selectionStart;u===r&&u.length<=3&&r.includes("/")&&!e.includes("/")?u=u.replace(d,""):u===r&&e.includes("/")&&!r.includes("/")&&(u+="/");u.length>e.length&&(s+=u.length-e.length);t.selectionStart=s;null!=o&&o(u,n)}};return t}var n=t.prototype;n.componentDidUpdate=function(e){var t=this._inputRef;e.value!==this.props.value&&null!=t&&t.setSelectionRange(this.selectionStart,this.selectionStart)};n.render=function(){return r.createElement(o.default,u({},this.props,{inputMode:"numeric",onChange:this.handleChange,inputRef:this.setRef}))};return t}(r.PureComponent);f.displayName="ExpirationDateTextField";var c=f;t.default=c},288006:(e,t,n)=>{
"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}(n(667294)),o=v(n(294184)),i=n(713293),l=v(n(530250)),u=n(772575),s=v(n(708100)),d=n(537683),f=n(8916),c=v(n(247001)),p=v(n(515388));function v(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function S(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3
;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(e,a.key,a)}}function _(e,t){_=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _(e,t)}var g=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;_(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.getLabel=function(e){return e instanceof i.CreditCardSourceRecord?c.default.Messages.PAYMENT_SOURCE_CARD_ENDING.format({brand:(0,f.upperCaseFirstChar)(e.brand),last_4:e.last4
}):e instanceof i.PaypalSourceRecord?c.default.Messages.PAYMENT_SOURCE_PAYPAL:e instanceof i.SofortSourceRecord?c.default.Messages.PAYMENT_SOURCE_SOFORT:e instanceof i.GiropaySourceRecord?c.default.Messages.PAYMENT_SOURCE_GIROPAY:e instanceof i.Przelewy24SourceRecord?c.default.Messages.PAYMENT_SOURCE_PRZELEWY24:e instanceof i.PaysafeSourceRecord?c.default.Messages.PAYMENT_SOURCE_PAYSAFE_CARD:e instanceof i.GcashSourceRecord?c.default.Messages.PAYMENT_SOURCE_GCASH:c.default.Messages.PAYMENT_SOURCE_UNKNOWN};n.renderDescription=function(){var e=this.props,t=e.paymentSource,n=e.descriptionClassName;return S(u.Heading,{className:(0,o.default)(p.default.description,n),variant:"heading-deprecated-14/medium",level:3},void 0,this.getLabel(t))};n.renderSubText=function(){var e=this.props,t=e.paymentSource,n=e.locale,a=null;t instanceof i.CreditCardSourceRecord?a=c.default.Messages.PAYMENT_SOURCE_CARD_EXPIRES.format({month:(0,d.getLocalizedDisplayMonth)(t.expiresMonth,n),year:t.expiresYear
}):(t instanceof i.PaypalSourceRecord||t instanceof i.SofortSourceRecord||t instanceof i.Przelewy24SourceRecord)&&(a=t.email);return a};n.render=function(){var e=this.props,t=e.isDefault,n=e.paymentSource,a=e.showSubtext,r=e.isForSubscription,o=this.renderSubText();return S(l.default,{},void 0,S(s.default,{type:this.typeString}),S(l.default,{direction:l.default.Direction.VERTICAL,className:p.default.descriptionWrapper},void 0,S(l.default,{align:l.default.Align.CENTER},void 0,this.renderDescription(),t?S("div",{className:p.default.defaultIndicator},void 0,c.default.Messages.DEFAULT):null,r?S("div",{className:p.default.premiumIndicator},void 0,c.default.Messages.PAYMENT_SOURCE_SUBSCRIPTION):null,n.invalid?S("div",{className:p.default.invalidIndicator},void 0,c.default.Messages.PAYMENT_SOURCE_INVALID):null),a&&null!=o?S("div",{className:p.default.subText},void 0,o):null))};!function(e,t,n){t&&E(e.prototype,t);n&&E(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{
key:"typeString",get:function(){var e=this.props.paymentSource;return e instanceof i.PaypalSourceRecord?s.default.Types.PAYPAL:e instanceof i.SofortSourceRecord?s.default.Types.SOFORT:e instanceof i.CreditCardSourceRecord?s.default.getType(e.brand):e instanceof i.GiropaySourceRecord?s.default.Types.GIROPAY:e instanceof i.Przelewy24SourceRecord?s.default.Types.PRZELEWY24:e instanceof i.PaysafeSourceRecord?s.default.Types.PAYSAFECARD:e instanceof i.GcashSourceRecord?s.default.Types.GCASH:s.default.Types.UNKNOWN}}]);return t}(r.PureComponent);t.default=g;g.displayName="PaymentDescription";g.defaultProps={isForSubscription:!1,isDefault:!1,showSubtext:!1}},109043:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=H;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=R(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}(n(667294)),o=P(n(294184)),i=P(n(441143)),l=n(798628),u=n(536211),s=P(n(636602)),d=n(832635),f=n(297279),c=n(856259),p=P(n(133589)),v=P(n(697952)),m=P(n(490931)),S=P(n(909584)),E=P(n(146771)),_=P(n(558402)),g=P(n(530250)),y=P(n(477797)),T=P(n(235742)),O=n(838583),I=P(n(186673)),h=n(770348),N=n(478036),A=P(n(247001)),b=P(n(582995)),M=P(n(89073)),C=["ref"];function P(e){return e&&e.__esModule?e:{default:e}}function R(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(R=function(e){return e?n:t})(e)}function D(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(e,a.key,a)}}function L(e,t){L=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e}
;return L(e,t)}function U(){U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return U.apply(this,arguments)}function w(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done);i=!0){o.push(a.value);if(t&&o.length===t)break}}catch(e){l=!0;r=e}finally{try{
i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var B=10;function F(e){var t=e.payments,n=e.locale,a=e.compactMode,i=e.numPages,s=r.useRef(null),f=G(r.useState(0),2),c=f[0],m=f[1],S=G(r.useState(null),2),E=S[0],_=S[1],g=t.slice(c*B,(c+1)*B);r.useEffect((function(){var e;null===(e=s.current)||void 0===e||e.scrollTo({to:0})}),[c]);var O=r.useCallback((function(e){m(e);var n=t[t.length-1].id
;if(e===i-1&&E!==n){(0,d.fetchPayments)(B,n);_(n)}}),[t,i,E]),h=(0,p.default)("billing-history",s),N=(0,u.useStateFromStores)([v.default],(function(){return v.default.ipCountryCode}));r.useEffect((function(){null==N&&(0,d.fetchIpCountryCode)()}),[]);return w(l.ListNavigatorProvider,{navigator:h},void 0,w(l.ListNavigatorContainer,{},void 0,(function(e){var t=e.ref,l=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++){n=o[a];t.indexOf(n)>=0||(r[n]=e[n])}return r}(e,C);return r.createElement(y.default,U({className:(0,o.default)(b.default.verticalFit,b.default.paginator),currentPageIndex:c,onChangePage:O,numPages:i,ref:t},l),r.createElement(T.default,{className:b.default.bottomDivider,ref:s},g.map((function(e,t){return w(I.default,{className:(0,o.default)(b.default.paymentRow,b.default.bottomDivider),payment:e,locale:n,compactMode:a,ipCountryCode:null!=N?N:void 0},t)}))))})))}F.displayName="PaymentHistoryPage";var j=function(e){!function(e,t){
e.prototype=Object.create(t.prototype);e.prototype.constructor=e;L(e,t)}(t,e);function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];(t=e.call.apply(e,[this].concat(a))||this).scrollerRef=r.createRef();return t}var n=t.prototype;n.componentDidMount=function(){s.default.wait((function(){(0,f.fetchActivityStatistics)();(0,d.fetchPayments)(20)}))};n.renderPremiumExternalSubscription=function(e){(0,i.default)(null!=e.paymentGateway,"Expected payment gateway when rendering for external subscription");return w(_.default,{className:b.default.externalRow},void 0,w("div",{className:b.default.externalRowHeader},void 0,A.default.Messages.BILLING_EXTERNAL_HEADER.format({paymentGatewayName:N.PaymentGatewayToFriendlyName[e.paymentGateway]})),w("div",{className:b.default.externalRowBody},void 0,A.default.Messages.BILLING_EXTERNAL_DESCRIPTION.format({paymentGatewayName:N.PaymentGatewayToFriendlyName[e.paymentGateway],billingHistoryLink:(0,
O.getExternalSubscriptionMethodUrl)(e.paymentGateway,"BILLING_HISTORY")})))};n.render=function(){var e=this.props,t=e.compactMode,n=e.payments,a=e.subscription,r=e.locale,i=null!=a&&a.isPurchasedExternally;return 0!==n.length||i?w("div",{className:b.default.verticalFit},void 0,null!=a&&i?this.renderPremiumExternalSubscription(a):null,n.length>0?w("div",{className:(0,o.default)(b.default.paymentPane,b.default.verticalFit)},void 0,t?null:w("div",{className:(0,o.default)(b.default.paymentRow,b.default.bottomDivider)},void 0,w(g.default,{className:b.default.paymentRowHeader},void 0,w("div",{className:M.default.date},void 0,A.default.Messages.BILLING_PAYMENT_TABLE_HEADER_DATE),w("div",{className:b.default.paymentRowHeaderDescription},void 0,A.default.Messages.BILLING_PAYMENT_TABLE_HEADER_DESCRIPTION),w("div",{className:M.default.amount},void 0,A.default.Messages.BILLING_PAYMENT_TABLE_HEADER_AMOUNT))),w(F,{compactMode:t,locale:r,payments:n,numPages:this.numPages})):null):null}
;!function(e,t,n){t&&D(e.prototype,t);n&&D(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"numPages",get:function(){return Math.max(Math.ceil(this.props.payments.length/B),1)}}]);return t}(r.PureComponent);j.displayName="PaymentHistory";j.defaultProps={compactMode:!1};function x(e){var t,n=e.skuId,a=null===(t=e.subscription)||void 0===t?void 0:t.items[0].planId;return!(null==n||null==a||Object.values(h.PremiumSubscriptionSKUs).includes(n)||(0,O.isPremiumSubscriptionPlan)(a))}function H(e){var t=(0,u.useStateFromStores)([m.default],(function(){return m.default.getPayments()})),n=(0,u.useStateFromStores)([E.default],(function(){return E.default.getPremiumTypeSubscription()})),a=r.useMemo((function(){return new Set(t.filter(x).map((function(e){var t=e.subscription;return null==t?void 0:t.items[0].planId})))}),[t]),o=r.useMemo((function(){return new Set(t.filter(x).map((function(e){return e.skuId})))}),[t]),i=(0,u.useStateFromStoresArray)([S.default],(function(){
return S.default.getPlanIdsForSkus(Array.from(o))})),l=r.useCallback((function(){return i.length===a.size}),[i,a]);r.useEffect((function(){l()||s.default.wait((function(){o.forEach((function(e){return(0,c.fetchSubscriptionPlansForSKU)(e)}))}))}),[l,o]);return r.createElement(j,U({},e,{payments:l()?t:[],subscription:n}))}H.displayName="ConnectedPaymentHistory"},186673:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a,r=V(n(667294)),o=H(n(294184)),i=H(n(441143)),l=H(n(213192)),u=H(n(730381)),s=n(798628),d=H(n(536211)),f=n(851757),c=H(n(427498)),p=n(713293),v=H(n(288356)),m=H(n(748826)),S=H(n(909584)),E=H(n(194198)),_=H(n(151097)),g=H(n(956117)),y=H(n(16941)),T=H(n(530250)),O=H(n(562475)),I=H(n(708100)),h=H(n(730977)),N=H(n(69405)),A=H(n(992193)),b=H(n(259530)),M=H(n(447522)),C=H(n(41024)),P=n(194322),R=n(35033),D=n(685677),L=V(n(838583)),U=n(243277),w=H(n(288006)),G=n(895426),k=n(747490),B=n(770348),F=n(478036),j=H(n(247001)),x=H(n(89073))
;function H(e){return e&&e.__esModule?e:{default:e}}function Y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(Y=function(e){return e?n:t})(e)}function V(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=Y(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}function W(){W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return W.apply(this,arguments)}function K(e,t,n,a,r,o,i){try{var l=e[o](i),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(a,r)}function z(e){return function(){
var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){K(o,a,r,i,l,"next",e)}function l(e){K(o,a,r,i,l,"throw",e)}i(void 0)}))}}function Q(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(e,a.key,a)}}function $(e,t){$=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return $(e,t)}function q(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var X=function(e){return"https://"+B.SUPPORT_DOMAIN+"/hc/"+e.toLowerCase()+"/requests/new?ticket_form_id=360000118612"},Z=(0,l.default)({
TIME_PLAYED:null,PURCHASE_DATE:null,SKU_TYPE:null,ALREADY_REFUNDED:null,PAYMENT_STATUS:null,PAYMENT_GATEWAY:null,SKU_STICKER_PACK:null,SUBSCRIPTION_TYPE:null});function J(e){switch(e){case k.PremiumRefundDisqualificationReason.ALREADY_REFUNDED_PREMIUM:return j.default.Messages.BILLING_REFUND_ALREADY_REFUNDED_PREMIUM_REASON;case k.PremiumRefundDisqualificationReason.ALREADY_REFUNDED_PREMIUM_GUILD:return j.default.Messages.BILLING_REFUND_ALREADY_REFUNDED_PREMIUM_GUILD_REASON;case k.PremiumRefundDisqualificationReason.ENTITLEMENT_ALREADY_CONSUMED:return j.default.Messages.BILLING_REFUND_ALREADY_CONSUMED_REASON;default:return j.default.Messages.BILLING_REFUND_GENERIC_REASON}}var ee=[B.PaymentStatusTypes.FAILED,B.PaymentStatusTypes.REVERSED,B.PaymentStatusTypes.CANCELED],te=[F.PaymentGateways.APPLE],ne=function(e){var t=e.description,n=e.cost;return q("li",{className:x.default.paymentDetail},void 0,q(T.default,{justify:T.default.Justify.BETWEEN
},void 0,q("div",{},void 0,t),q("div",{},void 0,n)))};ne.displayName="PaymentDetail";var ae=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;$(e,t)}(t,e);function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];(t=e.call.apply(e,[this].concat(a))||this).state={expanded:!1};t.refundRules=[{rule:Z.TIME_PLAYED,canRefund:function(){if(t.isSkuPreorder)return!0;var e=t.timePlayed;return null==e||e.asMilliseconds()<u.default.duration(2,"hours").asMilliseconds()}},{rule:Z.PURCHASE_DATE,canRefund:function(){var e=t.props.payment;if(t.isSkuPreorder)return!0;var n=e.isPremiumSubscription||e.isPremiumGuildSubscription||e.isPremiumGift?5:14;return t.daysSincePurchase<=n}},{rule:Z.SKU_TYPE,canRefund:function(){var e=t.props.payment;return null==e.sku||e.sku.type!==B.SKUTypes.CONSUMABLE}},{rule:Z.ALREADY_REFUNDED,canRefund:function(){var e=t.props.payment;return e.amountRefunded<e.amount}},{rule:Z.PAYMENT_STATUS,
canRefund:function(){var e=t.props.payment;return!ee.includes(e.status)}},{rule:Z.PAYMENT_GATEWAY,canRefund:function(){var e=t.props.payment;return null==e.paymentGateway||!te.includes(e.paymentGateway)}},{rule:Z.SKU_STICKER_PACK,canRefund:function(){var e=t.props.payment;return null==e.sku||!(0,D.hasFlag)(e.sku.flags,B.SKUFlags.STICKER_PACK)}},{rule:Z.SUBSCRIPTION_TYPE,canRefund:function(){var e;return(null===(e=t.props.payment.subscription)||void 0===e?void 0:e.type)!==B.SubscriptionTypes.GUILD}}];t.handleExpandInfo=function(){t.setState({expanded:!t.state.expanded})};return t}var a=t.prototype;a.validateRefundRules=function(){return this.refundRules.filter((function(e){return!(0,e.canRefund)()})).map((function(e){return e.rule}))};a.renderStatus=function(){switch(this.props.payment.status){case B.PaymentStatusTypes.PENDING:return q("span",{className:x.default.statusTagGrey},void 0,j.default.Messages.BILLING_TAG_PENDING);case B.PaymentStatusTypes.FAILED:return q("span",{
className:x.default.statusTagRed},void 0,j.default.Messages.BILLING_TAG_FAILED);case B.PaymentStatusTypes.REFUNDED:return q("span",{className:x.default.statusTagGreen},void 0,j.default.Messages.BILLING_TAG_REFUNDED);case B.PaymentStatusTypes.REVERSED:return q("span",{className:x.default.statusTagRed},void 0,j.default.Messages.BILLING_TAG_REVERSED);case B.PaymentStatusTypes.CANCELED:return q("span",{className:x.default.statusTagRed},void 0,j.default.Messages.BILLING_TAG_CANCELED);default:return null}};a.renderPrice=function(){var e=this.props.payment;return q("span",{className:x.default.price},void 0,(0,U.formatPrice)(e.amount,e.currency))};a.renderPaymentBreakdown=function(){var e=this.props,t=e.payment,n=e.locale,a=t.taxInclusive,i=t.tax,l=t.amount,u=t.currency;return q("div",{className:(0,o.default)(x.default.paymentText,x.default.paymentBreakdown)},void 0,null!=t.paymentSource?q(w.default,{paymentSource:t.paymentSource,locale:n,descriptionClassName:x.default.paymentText
}):null,q("ul",{},void 0,!a&&i>0?q(r.Fragment,{},void 0,q(ne,{description:t.description,cost:(0,U.formatPrice)(l-i,u)}),q(ne,{description:j.default.Messages.BILLING_PAYMENT_BREAKDOWN_TAXES,cost:(0,U.formatPrice)(i,u)})):null,q(ne,{description:j.default.Messages.BILLING_PAYMENT_BREAKDOWN_TOTAL,cost:(0,U.formatPrice)(l,u)})))};a.renderInvoiceDownload=function(){var e=this.props.payment;return null==e.downloadableInvoice||""===e.downloadableInvoice?null:q("div",{className:x.default.downloadInvoice},void 0,q(_.default,{href:e.downloadableInvoice},void 0,j.default.Messages.BILLING_DOWNLOAD_INVOICE),null!=e.downloadableRefundInvoices?e.downloadableRefundInvoices.map((function(e,t){return q(_.default,{className:x.default.downloadRefundInvoice,href:e},t,j.default.Messages.BILLING_DOWNLOAD_REFUND_INVOICE)})):null)};a.renderRefundDetails=function(){var e=this.props,t=e.locale,n=e.payment,a=e.ipCountryCode,o=e.paymentSources,i=this.validateRefundRules()
;if(i.includes(Z.PAYMENT_GATEWAY)||i.includes(Z.PAYMENT_STATUS)||i.includes(Z.ALREADY_REFUNDED)||i.includes(Z.SKU_STICKER_PACK)||i.includes(Z.SUBSCRIPTION_TYPE))return null;var l,u=0===i.length,s=X(t),d=this.isPremium?5:14;l=i.includes(Z.SKU_TYPE)?j.default.Messages.BILLING_APPLICATION_CONSUMABLE_REFUND_TEXT_UNABLE.format({supportURL:s}):u?n.isPreorder&&this.isSkuPreorder?j.default.Messages.BILLING_PREORDER_REFUND_TEXT.format({supportURL:s}):n.isPremiumSubscription||n.isPremiumGuildSubscription?j.default.Messages.BILLING_PREMIUM_REFUND_TEXT.format({dateLimit:d,supportURL:s}):n.isGift?j.default.Messages.BILLING_GIFT_REFUND_TEXT.format({dateLimit:d,supportURL:s}):j.default.Messages.BILLING_APPLICATION_REFUND_TEXT.format({dateLimit:d,playtimeLimit:2,supportURL:s}):n.isGift?j.default.Messages.BILLING_GIFT_REFUND_TEXT_UNABLE.format({dateLimit:d}):n.isPremiumSubscription||n.isPremiumGuildSubscription?j.default.Messages.BILLING_PREMIUM_REFUND_TEXT_UNABLE.format({dateLimit:d
}):j.default.Messages.BILLING_APPLICATION_REFUND_TEXT_UNABLE.format({dateLimit:d,playtimeLimit:2});this.isPremium&&(0,G.userInRefundExperiment)(n,a,o)&&(l=null);return q(r.Fragment,{},void 0,q("h2",{className:x.default.paymentHeader},void 0,j.default.Messages.BILLING_REFUND_HEADER),q("div",{className:x.default.paymentText},void 0,q("div",{},void 0,l),this.renderRefundActions(i)))};a.renderRefundCriteria=function(e,t,n,a){return q("div",{className:x.default.refundCriteria},a,q("h3",{className:x.default.refundSubHeader},void 0,e),q("div",{className:x.default.refundIconContainer},void 0,q(t,{className:x.default.refundCriteriaIcon}),null!=n&&q("div",{},void 0,n)))};a.renderRefundActions=function(e){var t,a,o=this.props,i=o.locale,l=o.payment,u=o.ipCountryCode,s=o.paymentSources;if(this.isSkuPreorder||e.includes(Z.SKU_TYPE))return null
;var d=e.includes(Z.PURCHASE_DATE)?b.default:A.default,f=e.includes(Z.TIME_PLAYED)||(null===(t=l.premiumRefundDisqualificationReasons)||void 0===t?void 0:t.includes(k.PremiumRefundDisqualificationReason.PAST_REFUNDABLE_DATE))?b.default:A.default;if(!this.isPremium||!(0,G.userInRefundExperiment)(l,u,s))return q("div",{className:x.default.refundActions},void 0,q("div",{className:x.default.refundRules},void 0,this.renderRefundCriteria(l.isPreorder?j.default.Messages.BILLING_REFUND_RELEASE_DATE_SUBHEADER:j.default.Messages.BILLING_REFUND_PURCHASE_DATE_SUBHEADER,d,j.default.Messages.BILLING_REFUND_PURCHASE_DATE.format({daysSincePurchase:this.daysSincePurchase})),l.isSubscription||l.isGift?null:this.renderRefundCriteria(j.default.Messages.BILLING_REFUND_PLAY_TIME_SUBHEADER,f,null!=this.timePlayed?this.timePlayed.humanize():j.default.Messages.BILLING_REFUND_PLAY_TIME_NEVER_PLAYED)),q(_.default,{href:X(i)},void 0,j.default.Messages.BILLING_REFUND_REPORT_A_PROBLEM))
;var c=(null!==(a=l.premiumRefundDisqualificationReasons)&&void 0!==a?a:[k.PremiumRefundDisqualificationReason.OTHER])[0],p=null!=c||0!==e.length||l.isPurchasedExternally;return q("div",{className:x.default.refundActions},void 0,q(h.default,{shouldShow:p,text:J(c)},void 0,(function(e){return r.createElement(g.default,W({},e,{color:g.default.Colors.PRIMARY,disabled:p,onClick:function(){return(0,P.openModalLazy)(z(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(13501)]).then(n.bind(n,713501));case 2:t=e.sent;a=t.default;return e.abrupt("return",(function(e){return r.createElement(a,W({payment:l,reportProblemUrl:X(i)},e))}));case 5:case"end":return e.stop()}}),e)}))))}}),j.default.Messages.BILLING_REFUND_BUTTON_TEXT)})),q(_.default,{href:X(i)},void 0,j.default.Messages.BILLING_REFUND_REPORT_A_PROBLEM))};a.renderDescription=function(){
var e,t,n=this.props,a=n.compactMode,o=n.payment,l=n.application,s=n.stickerPack,d=this.state.expanded,p=o.sku,v=o.subscription,m=null!=o.paymentSource&&B.PREPAID_PAYMENT_SOURCES.has(o.paymentSource.type);if(null!=v&&0!==v.items.length){var E=[],_=null;if(v.type===B.SubscriptionTypes.PREMIUM)v.items.forEach((function(e){var t=e.planId,n=e.quantity;if((0,L.isPremiumSubscriptionPlan)(t)){E.push(L.default.getDisplayName(t,!1,m));_=B.SubscriptionPlanInfo[t].skuId}else{E.push((n>1?n+"x ":"")+L.default.getDisplayName(t,!1,m));null==_&&(_=B.SubscriptionPlanInfo[t].skuId)}}));else if(v.type===B.SubscriptionTypes.GUILD){var g=S.default.get(v.items[0].planId);(0,i.default)(null!=g,"Guild subscription plan should already have been loaded");var y=g.interval===B.SubscriptionIntervalTypes.YEAR?j.default.Messages.YEARLY_GUILD_SUBSCRIPTION:j.default.Messages.MONTHLY_GUILD_SUBSCRIPTION;E.push(y.format({planName:g.name}));_=g.skuId}t=E.join(", ");e=q(O.default,{className:x.default.descriptionIcon,
game:l,size:O.default.Sizes.XSMALL,skuId:_})}else if(null!=p){t=o.isPreorder?j.default.Messages.PREORDER_SKU_NAME.format({name:p.name}):p.name;if(null!=s){var T=(0,f.getStickerPackPreviewSticker)(s);e=q(c.default,{disableAnimation:!d,isInteracting:d,sticker:T,className:x.default.descriptionIcon,size:24})}else e=q(O.default,{className:x.default.descriptionIcon,game:l,size:O.default.Sizes.XSMALL,skuId:p.id})}else{e=q(C.default,{className:x.default.descriptionIcon});t=o.description}var I=q("div",{className:x.default.date},void 0,(0,R.dateFormat)((0,u.default)(o.createdAt),"MM/DD/YYYY")),N=o.isGift?q(h.default,{text:j.default.Messages.BILLING_GIFT_PURCHASE_TOOLTIP},void 0,(function(e){return r.createElement(M.default,W({className:x.default.giftIcon},e))})):null;return a?q("div",{className:x.default.description},void 0,e,q("div",{},void 0,t,I),N):q(r.Fragment,{},void 0,I,q("div",{className:x.default.description},void 0,e,q("div",{},void 0,t),N))};a.renderExpandedSection=function(){
return q(y.default,{onClick:function(e){return e.stopPropagation()}},void 0,q("div",{className:x.default.expandedInfo},void 0,q("h2",{className:x.default.paymentHeader},void 0,j.default.Messages.BILLING_PURCHASE_DETAILS_HEADER),this.renderPaymentBreakdown(),this.renderInvoiceDownload(),this.renderRefundDetails()))};a.render=function(){var e=this,t=this.props,n=t.payment,a=t.className,i=t.compactMode,l=this.state.expanded;return q(s.ListNavigatorItem,{id:n.id},void 0,(function(t){var n;return r.createElement(y.default,W({onClick:e.handleExpandInfo,className:(0,o.default)(l?x.default.payment:x.default.hoverablePayment,a,(n={},n[x.default.compact]=i,n)),focusProps:{offset:4}},t),q(T.default,{className:x.default.summaryInfo,align:T.default.Align.CENTER},void 0,e.renderDescription(),q("div",{className:x.default.amount},void 0,e.renderStatus(),e.renderPrice()),q(N.default,{className:x.default.expand,direction:l?N.default.Directions.UP:N.default.Directions.DOWN
})),l?e.renderExpandedSection():null)}))};!function(e,t,n){t&&Q(e.prototype,t);n&&Q(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"timePlayed",get:function(){var e=this.props.applicationStatistics;return null!=e&&null!=e.total_discord_sku_duration?u.default.duration(e.total_discord_sku_duration,"seconds"):null}},{key:"daysSincePurchase",get:function(){var e=this.props.payment,t=null!=e.sku?e.sku.releaseDate:null,n=null!=t&&t.isAfter(e.createdAt)?t:e.createdAt;return(0,u.default)().diff(n,"days")}},{key:"isSkuPreorder",get:function(){var e=this.props.payment;return null!=e.sku&&e.sku.isPreorder()}},{key:"isPremium",get:function(){var e=this.props.payment;return e.isPremiumSubscription||e.isPremiumGuildSubscription||e.isPremiumGift}},{key:"typeString",get:function(){var e=this.props.payment.paymentSource;return e instanceof p.PaypalSourceRecord?I.default.Types.PAYPAL:e instanceof p.CreditCardSourceRecord?I.default.getType(e.brand):I.default.Types.UNKNOWN}}]);return t
}(r.PureComponent);ae.displayName="PaymentHistoryRow";ae.defaultProps={compactMode:!1};var re=d.default.connectStores([E.default,v.default,m.default],(function(e){var t=e.payment,n=null!=t.sku&&t.sku.type===B.SKUTypes.DURABLE_PRIMARY?t.sku.applicationId:null;return{applicationStatistics:null!=n?E.default.getCurrentUserStatisticsForApplication(n):null,application:null!=n?v.default.getGame(n):null,stickerPack:null,paymentSources:m.default.paymentSources}}))(ae);t.default=re},565093:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a,r=I(n(667294)),o=T(n(496486)),i=I(n(832635)),l=n(653906),u=T(n(956117)),s=T(n(530250)),d=n(645758),f=T(n(730977)),c=T(n(588417)),p=T(n(662197)),v=T(n(675044)),m=n(194322),S=n(298104),E=T(n(591235)),_=T(n(288006)),g=T(n(247001)),y=T(n(450794));function T(e){return e&&e.__esModule?e:{default:e}}function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)
}function I(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}function h(){h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return h.apply(this,arguments)}function N(e,t,n,a,r,o,i){try{var l=e[o](i),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(a,r)}function A(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){N(o,a,r,i,l,"next",e)}function l(e){N(o,a,r,i,l,"throw",e)}i(void 0)}))}}function b(e,t,n,r){
a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function M(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;C(e,t)}function C(e,t){C=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return C(e,t)}var P=function(e){M(t,e);function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];(t=e.call.apply(e,[this].concat(a))||this).handleEditClick=function(){t.props.onEditClick(t.props.paymentSource.id)};return t}t.prototype.render=function(){
var e=this.props,t=e.paymentSource,n=e.isDefault,a=e.isEditing,r=e.index,o=e.hideDivider,i=e.isForSubscription,l=e.locale,d=e.removing,f=e.submitting,p=e.onSubmit,v=e.onCancel,m=e.onDelete;return a?b(E.default,{paymentSource:t,isDefault:n,removing:d,submitting:f,locale:l,isForSubscription:i,onSubmit:p,onCancel:v,onDelete:m}):b("div",{className:y.default.paymentSourceItem},void 0,r>0&&!o?b(c.default,{className:y.default.sourceDivider}):null,b(s.default,{align:s.default.Align.CENTER,justify:s.default.Justify.BETWEEN,className:y.default.paymentSourceRow},void 0,b(_.default,{paymentSource:t,isDefault:n,isForSubscription:i,locale:l,showSubtext:!0}),a?null:b(u.default,{color:u.default.Colors.PRIMARY,onClick:this.handleEditClick,size:u.default.Sizes.SMALL},void 0,g.default.Messages.EDIT)))};return t}(r.PureComponent);P.displayName="PaymentSourceItem";P.defaultProps={isEditing:!1,hideDivider:!1,onEditClick:function(){}};var R=function(e){M(t,e);function t(){
for(var t,a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];(t=e.call.apply(e,[this].concat(o))||this).state={editingPayment:null};t.handleEditClick=function(e){t.setState({editingPayment:e})};t.handleCancel=function(){t.setState({editingPayment:null})};t.handleDelete=function(){var e=A(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0;e.next=3;return i.deletePaymentSource(n);case 3:t.setState({editingPayment:null});e.next=8;break;case 6:e.prev=6;e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();t.handleSubmit=function(){var e=A(regeneratorRuntime.mark((function e(n,a){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==n){e.next=9;break}e.prev=1;e.next=4;return i.updatePaymentSource(n,a);case 4:t.setState({editingPayment:null});e.next=9;break;case 7:e.prev=7;e.t0=e.catch(1);case 9:
case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,n){return e.apply(this,arguments)}}();t.handlePaymentSourceAdded=function(){var e=A(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return(0,S.fetchSubscriptionPlansOnNewPaymentSource)(t.id);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.handleAddPaymentMethod=function(){(0,m.openModalLazy)(A(regeneratorRuntime.mark((function e(){var a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(78833),n.e(46277),n.e(85190),n.e(72024)]).then(n.bind(n,58838));case 2:a=e.sent;o=a.default;return e.abrupt("return",(function(e){return r.createElement(o,h({},e,{onAddPaymentSource:t.handlePaymentSourceAdded}))}));case 5:case"end":return e.stop()}}),e)}))),{onCloseCallback:function(){(0,l.clearError)()}})};return t}var a=t.prototype
;a.renderFooter=function(){var e=this.props.paymentSources;return b(s.default,{justify:s.default.Justify.END,className:y.default.footer},void 0,0===Object.keys(e).length?b(s.default.Child,{},void 0,b(d.Text,{variant:"text-sm/normal"},void 0,g.default.Messages.BILLING_NO_PAYMENT_METHOD),b("div",{className:y.default.subText},void 0,g.default.Messages.BILLING_NO_PAYMENT_METHOD_DESCRIPTION)):null,b(u.default,{onClick:this.handleAddPaymentMethod},void 0,g.default.Messages.BILLING_ADD_PAYMENT_METHOD))};a.render=function(){var e=this,t=this.props,n=t.defaultPaymentSourceId,a=t.paymentSources,i=t.locale,l=t.removing,u=t.submitting,d=t.premiumSubscriptionPaymentSourceId,m=o.default.values(a).sort((function(e,t){return e.id===n?-1:t.id===n||e.id>t.id?1:-1})),S=this.state.editingPayment,E=m.findIndex((function(e){return e.id===S})),_=m.map((function(t,a){return b(P,{locale:i,paymentSource:t,isDefault:n===t.id,onCancel:e.handleCancel,onDelete:e.handleDelete,isForSubscription:t.id===d,
hideDivider:E===a-1,onSubmit:e.handleSubmit,index:a,submitting:u,removing:l,isEditing:S===t.id,onEditClick:e.handleEditClick},t.id)}));return b("div",{},void 0,b(p.default,{tag:p.default.Tags.H1},void 0,b(s.default,{align:s.default.Align.CENTER},void 0,b(f.default,{position:f.default.Positions.LEFT,text:g.default.Messages.BILLING_SECURE_TOOLTIP},void 0,(function(e){return r.createElement(v.default,h({className:y.default.lockIcon},e))})),g.default.Messages.BILLING_PAYMENT_SOURCES)),_,E!==m.length-1?b(c.default,{className:y.default.sourceDivider}):null,this.renderFooter())};return t}(r.PureComponent);R.displayName="PaymentMethods";var D=R;t.default=D},895426:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.userInRefundExperiment=function(e,t,n){var o,i,l,u;if(null===(o=e.subscription)||void 0===o||null===(i=o.metadata)||void 0===i?void 0:i.is_holiday_promotion_2021)return!1
;if(null===(l=e.subscription)||void 0===l||null===(u=l.metadata)||void 0===u?void 0:u.is_egs)return!0;if(null!=t&&r.has(t))return!0;if(Object.values(n).some((function(e){return r.has(e.country)})))return!0;var s=a.getCurrentConfig({}).enabled;a.trackExposure({});return s};var a=(0,n(373505).createExperiment)({id:"2021-08_user_initiated_refunds",label:"User Initiated Refunds",kind:"user",defaultConfig:{enabled:!1},treatments:[{id:0,label:"Control",config:{enabled:!1}},{id:1,label:"Can refund",config:{enabled:!0}}]}),r=new Set(["BR","TR","PL"])},169404:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a)}(n(667294));var a,r=p(n(294184)),o=p(n(213847)),i=p(n(155502)),l=p(n(754416)),u=p(n(314234)),s=p(n(730977)),d=p(n(308920)),f=n(770348),c=p(n(233873));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function m(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var S=function(e){var t=e.disabled,n=void 0!==t&&t,a=e.type,p=e.className,v=e.innerClassName,S=e.onConnect,E=(0,o.default)();var _=i.default.get(a)
;return m(s.default,{text:_.name},void 0,(function(e){var t=e.onMouseEnter,o=e.onMouseLeave;return m("div",{className:(0,r.default)(c.default.wrapper,p)},void 0,m(u.default,{},void 0,m("button",{onMouseEnter:t,onMouseLeave:o,className:(0,r.default)(c.default.inner,v),type:"button",disabled:n,style:{backgroundImage:"url('"+(E===f.ThemeTypes.DARK?_.icon.darkSVG:_.icon.lightSVG)+"')"},onClick:null!=S?S:function(){return function(e){var t=i.default.get(e);(0,l.default)(t.type,"Friends List");d.default.track(f.AnalyticEvents.ACCOUNT_LINK_STEP,{previous_step:"desktop connections",current_step:"desktop oauth",platform_type:t.type})}(a)},"aria-label":_.name})))}))};S.displayName="ConnectAccountButton";var E=S;t.default=E},781771:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.features;return r.createElement(r.Fragment,null,t.map((function(e,t){var n;return f(i.default,{align:i.default.Align.CENTER,className:(0,
o.default)(u.default.marginTop20,l.default.feature,(n={},n[l.default.featureBorder]=0!==t,n))},t,null!=e.icon?f("div",{className:(0,o.default)(l.default.icon,e.icon)}):null,f("div",{},void 0,null!=e.title?f("div",{className:(0,o.default)(u.default.marginBottom8,l.default.title)},void 0,e.title):null,f("div",{className:l.default.description},void 0,e.description)))})))};var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}(n(667294)),o=s(n(294184)),i=s(n(530250)),l=s(n(756108)),u=s(n(380203));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},498811:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}(n(667294)),o=n(178598),i=(a=n(387316))&&a.__esModule?a:{default:a},l=n(864489);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function s(e,t){s=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return s(e,t)}var d=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;s(e,t)}(t,e);function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];(t=e.call.apply(e,[this].concat(a))||this).handleFileDownload=function(e){e.preventDefault();var n=t.getFileContents(),a=t.props,r=a.fileName,o=a.onDownload;l.isPlatformEmbedded?t.downloadNative(n,r):t.downloadHtml5(n,r);null==o||o()};return t}var n=t.prototype;n.getFileContents=function(){var e=this.props.fileContents;"function"==typeof e&&(e=e());return e};n.downloadNative=function(e,t){
i.default.fileManager.saveWithDialog(e,t)};n.downloadHtml5=function(e,t){var n=new Blob([e],{type:this.props.contentType});(0,o.saveAs)(n,t)};n.render=function(){var e=this.props.children,t=r.Children.only(e);return r.cloneElement(t,{onClick:this.handleFileDownload})};return t}(r.Component);t.default=d;d.displayName="FileDownloader"},756511:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}(n(667294)),o=s(n(294184)),i=s(n(974661)),l=n(770348),u=s(n(211906));function s(e){return e&&e.__esModule?e:{
default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e,t){c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c(e,t)}var p=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;c(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.render=function(){var e=this.props,t=e.className,n=e.videoID,a=e.videoClassName;return f(i.default,{aspectRatio:16/9,className:(0,o.default)(t,u.default.videoWrapper)
},void 0,f("iframe",{className:(0,o.default)(a,u.default.video),src:"https://www.youtube.com/embed/"+n+"?rel=0&showinfo=0&controls=1&origin=https://"+l.PRIMARY_DOMAIN,allowFullScreen:!0,sandbox:"allow-forms allow-modals allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts"}))};return t}(r.Component);t.default=p;p.displayName="PromoVideo"},810139:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}(n(667294)),o=d(n(781771)),i=d(n(756511)),l=n(772575),u=d(n(247001)),s=d(n(439324))
;function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e,t){p=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return p(e,t)}var v=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;p(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.render=function(){return c("div",{className:s.default.features},void 0,c(i.default,{className:s.default.video,
videoID:"SWzB1mx2o5k"}),c(l.Heading,{className:s.default.perksHeading,variant:"heading-deprecated-14/medium",level:3},void 0,u.default.Messages.HYPESQUAD_PERKS_HEADING),c(o.default,{features:[{icon:s.default.perkNewsletter,title:u.default.Messages.HYPESQUAD_PERK_TITLE_NEWSLETTER,description:u.default.Messages.HYPESQUAD_PERK_DESCRIPTION_NEWSLETTER},{icon:s.default.perkBadge,title:u.default.Messages.HYPESQUAD_PERK_TITLE_PROFILE_BADGE,description:u.default.Messages.HYPESQUAD_PERK_DESCRIPTION_PROFILE_BADGE},{icon:s.default.perkChallenges,title:u.default.Messages.HYPESQUAD_PERK_TITLE_SQUAD_CHALLENGES,description:u.default.Messages.HYPESQUAD_PERK_DESCRIPTION_SQUAD_CHALLENGES}]}))};return t}(r.Component);v.displayName="HypeSquadPerks";var m=v;t.default=m},508875:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a,r,o,i,l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t)
;if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}(n(667294)),u=g(n(294184)),s=g(n(956117)),d=g(n(16941)),f=g(n(530250)),c=n(772575),p=n(645758),v=n(194322),m=n(35570),S=n(770348),E=g(n(247001)),_=g(n(403080));function g(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function T(e,t,n,a){i||(i="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=a;else if(o>1){for(var l=new Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}
if(t&&r)for(var s in r)void 0===t[s]&&(t[s]=r[s]);else t||(t=r||{});return{$$typeof:i,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function O(e,t,n,a,r,o,i){try{var l=e[o](i),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(a,r)}function I(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){O(o,a,r,i,l,"next",e)}function l(e){O(o,a,r,i,l,"throw",e)}i(void 0)}))}}function h(e,t){h=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return h(e,t)}var N=((a={})[S.HypeSquadHouses.HOUSE_1]=_.default.membershipDialogHouse1,a[S.HypeSquadHouses.HOUSE_2]=_.default.membershipDialogHouse2,a[S.HypeSquadHouses.HOUSE_3]=_.default.membershipDialogHouse3,a),A=((r={})[S.HypeSquadHouses.HOUSE_1]=_.default.houseLogoHouse1,r[S.HypeSquadHouses.HOUSE_2]=_.default.houseLogoHouse2,r[S.HypeSquadHouses.HOUSE_3]=_.default.houseLogoHouse3,r),b=((o={})[S.HypeSquadHouses.HOUSE_1]=n(903049),
o[S.HypeSquadHouses.HOUSE_2]=n(188374),o[S.HypeSquadHouses.HOUSE_3]=n(789621),o),M=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;h(e,t)}(t,e);function t(){for(var t,a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];(t=e.call.apply(e,[this].concat(r))||this).handleJoinHypeSquadClick=function(){(0,v.openModalLazy)(I(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(86396)]).then(n.bind(n,186396));case 2:t=e.sent;a=t.default;return e.abrupt("return",(function(e){return l.createElement(a,e)}));case 5:case"end":return e.stop()}}),e)}))))};return t}t.prototype.render=function(){var e,t,n=this.props,a=n.houseMembership,r=n.isClaimed,o=n.isVerified;if(!r||!o)return null;if(null!=a){var i=E.default.Messages.HYPESQUAD_MEMBERSHIP_HEADING.format({houseName:(0,m.getHouseNameFromHouseID)(a)});return T("div",{className:(0,
u.default)(_.default.membershipDialog,N[a])},void 0,T("div",{className:_.default.membershipDialogContent},void 0,T(f.default,{},void 0,T(f.default.Child,{grow:1,shrink:1},void 0,T(p.Text,{className:_.default.membershipDialogHeading,variant:"text-xs/normal"},void 0,E.default.Messages.HYPESQUAD_YOUR_HOUSE),T(c.Heading,{className:_.default.membershipDialogHouseName,variant:"heading-deprecated-14/medium",level:3},void 0,i),T(p.Text,{className:_.default.membershipDialogHouseDescription,variant:"text-md/normal"},void 0,(e=a,((t={})[S.HypeSquadHouses.HOUSE_1]=E.default.Messages.HYPESQUAD_DESCRIPTION_HOUSE_1,t[S.HypeSquadHouses.HOUSE_2]=E.default.Messages.HYPESQUAD_DESCRIPTION_HOUSE_2,t[S.HypeSquadHouses.HOUSE_3]=E.default.Messages.HYPESQUAD_DESCRIPTION_HOUSE_3,t)[e]))),T(f.default.Child,{className:_.default.houseLogoWrapper,grow:0,shrink:0,wrap:!0},void 0,T("img",{className:(0,u.default)(_.default.houseLogo,A[a]),src:b[a],alt:i}))),T(p.Text,{className:_.default.membershipDialogSwitchHouses,
variant:"text-md/normal"},void 0,E.default.Messages.HYPESQUAD_SWITCH_HOUSES_PROMPT,T(d.default,{className:_.default.membershipDialogSwitchHousesAction,onClick:this.handleJoinHypeSquadClick,tag:"span"},void 0,E.default.Messages.HYPESQUAD_SWITCH_HOUSES_ACTION))))}return T("div",{className:_.default.joinCTAWrapper},void 0,T(f.default,{className:_.default.joinCTA,align:f.default.Align.CENTER,justify:f.default.Justify.CENTER,direction:f.default.Direction.HORIZONTAL},void 0,T(f.default.Child,{grow:0,shrink:0},void 0,T(p.Text,{variant:"text-sm/normal"},void 0,E.default.Messages.HYPESQUAD_READY_TO_REP)),T(f.default.Child,{grow:0,shrink:0},void 0,T(s.default,{onClick:this.handleJoinHypeSquadClick},void 0,E.default.Messages.HYPESQUAD_JOIN))),T(p.Text,{className:_.default.newsletterWarning,variant:"text-sm/normal"},void 0,E.default.Messages.HYPESQUAD_NEWSLETTER_WARNING))};return t}(l.Component);t.default=M;M.displayName="JoinHypeSquadCTA"},677837:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}(n(667294)),o=d(n(951864)),i=d(n(956117)),l=n(645758),u=d(n(247001)),s=d(n(498863));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){
for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e,t){p=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return p(e,t)}var v=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;p(e,t)}(t,e);function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];(t=e.call.apply(e,[this].concat(a))||this).state={isRequestPending:!1,hasError:!1};t.handleLeaveHypeSquadError=function(){t.setState({hasError:!0})};t.handleLeaveHypeSquadClick=function(){t.setState({isRequestPending:!0},(function(){o.default.leaveHypeSquadOnline().then((function(){t.setState({isRequestPending:!1})})).catch((function(){t.setState({hasError:!0,isRequestPending:!1})}))}))};return t}var n=t.prototype;n.renderErrorMessage=function(){return this.state.hasError?c("div",{
className:s.default.error},void 0,u.default.Messages.HYPESQUAD_LEAVE_ERROR):null};n.render=function(){var e=this.state.isRequestPending;return this.props.isHypeSquadOnlineMember?c("div",{className:s.default.leaveActionWrapper},void 0,this.renderErrorMessage(),c(l.Text,{variant:"text-sm/normal"},void 0,u.default.Messages.HYPESQUAD_LEAVE_PROMPT,c(i.default,{className:s.default.leaveButton,color:i.default.Colors.LINK,look:i.default.Looks.LINK,onClick:this.handleLeaveHypeSquadClick,size:i.default.Sizes.NONE,submitting:e},void 0,u.default.Messages.HYPESQUAD_LEAVE_ACTION))):null};return t}(r.PureComponent);t.default=v;v.displayName="UserSettingsHypeSquad"},351336:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a=(0,n(373505).createExperiment)({kind:"user",id:"2021-11_compact_avatars",label:"Compact Avatars",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enabled",config:{enabled:!0}}]});t.default=a},646002:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.uploadDebugFiles=function(){return m.apply(this,arguments)};var a=f(n(980569)),r=n(327269),o=f(n(791548)),i=f(n(635014)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}(n(905835)),u=f(n(387316)),s=n(770348);function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,a,r,o,i){try{var l=e[o](i),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(a,r)}function p(e){return function(){
var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){c(o,a,r,i,l,"next",e)}function l(e){c(o,a,r,i,l,"throw",e)}i(void 0)}))}}var v=25e5;function m(){return(m=p(regeneratorRuntime.mark((function e(){var t,n,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=u.default.fileManager.readLogFiles){e.next=2;break}throw new r.UploadVoiceDebugLogsError(r.UploadErrorCodes.GENERAL);case 2:t=[];e.prev=3;e.next=6;return u.default.fileManager.readLogFiles(v);case 6:t=(t=e.sent).map((function(e){return l.transformNativeFile(e,"application/octet-stream")}));e.next=14;break;case 10:e.prev=10;e.t0=e.catch(3);console.log("uploadDebugFiles: read error '"+e.t0+"'");throw new r.UploadVoiceDebugLogsError(r.UploadErrorCodes.READ);case 14:if(0!==t.length){e.next=16;break}throw new r.UploadVoiceDebugLogsError(r.UploadErrorCodes.NO_FILE);case 16:e.prev=16;n=a.default.post(s.Endpoints.DEBUG_LOGS(s.DebugLogCategory.RTC))
;t.forEach((function(e){return n.attach(e.name,e,e.name)}));d=new Blob([JSON.stringify(i.default.getState(),void 0,2)]);n.attach("media_engine_state.json",d,"media_engine_state.json");e.next=23;return n;case 23:e.next=33;break;case 25:e.prev=25;e.t1=e.catch(16);if(429!==e.t1.status){e.next=31;break}throw new r.UploadVoiceDebugLogsError(r.UploadErrorCodes.PROGRESS);case 31:new o.default("DebugUploadManager").error("Debug log upload error: status: "+e.t1.status+", message: "+e.t1.message);throw new r.UploadVoiceDebugLogsError(r.UploadErrorCodes.UPLOAD);case 33:case"end":return e.stop()}}),e,null,[[3,10],[16,25]])})))).apply(this,arguments)}},79300:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a=(0,n(373505).createExperiment)({kind:"user",id:"2022-05_role_styles_setting",label:"Role Styles Setting",defaultConfig:{allowRoleStyles:!1},treatments:[{id:1,label:"Allow Role Styles Setting",config:{allowRoleStyles:!0}}]});t.default=a},
871615:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.BUILD_OVERRIDE_RELEASE_CHANNEL_OPTIONS=t.BUILD_OVERRIDE_EXPIRATION_OPTIONS=void 0;t.BUILD_OVERRIDE_EXPIRATION_OPTIONS=[{value:3600,label:"1 Hour"},{value:86400,label:"1 Day"},{value:259200,label:"3 Days"},{value:604800,label:"1 Week"},{value:1209600,label:"2 Weeks"},{value:1814400,label:"3 Weeks"},{value:2628e3,label:"1 Month"}];t.BUILD_OVERRIDE_RELEASE_CHANNEL_OPTIONS=[{value:"all",label:"All"},{value:"canary",label:"Canary"},{value:"ptb",label:"PTB"},{value:"stable",label:"Stable"},{value:"staging",label:"Staging"}]},915539:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}(n(667294)),r=n(194322),o=n(78330),i=n(478036);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function u(){u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return u.apply(this,arguments)}function s(e,t,n,a,r,o,i){try{var l=e[o](i),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(a,r)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){s(o,a,r,i,l,"next",e)}function l(e){s(o,a,r,i,l,"throw",e)}i(void 0)}))}}var f={openNewUserAgeGateModal:function(e){(0,
r.openModalLazy)(d(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(90140)]).then(n.bind(n,990140));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,e)}));case 5:case"end":return e.stop()}}),e)}))),{modalKey:o.NEW_USER_AGE_GATE_MODAL_KEY,onCloseRequest:i.NOOP,onCloseCallback:e})},openClaimAccountModal:function(e,t){void 0===e&&(e=!1);(0,r.openModalLazy)(d(regeneratorRuntime.mark((function t(){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;return Promise.all([n.e(40532),n.e(41597)]).then(n.bind(n,304388));case 2:r=t.sent;o=r.default;return t.abrupt("return",(function(t){return a.createElement(o,u({claimRequired:e},t))}));case 5:case"end":return t.stop()}}),t)}))),{onCloseRequest:e?i.NOOP:null,onCloseCallback:t})}};t.default=f},142721:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=N;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}(n(667294)),o=n(536211),i=n(923387),l=n(828593),u=E(n(960441)),s=E(n(956117)),d=E(n(530250)),f=E(n(665759)),c=E(n(567668)),p=n(688388),v=E(n(114655)),m=n(925179),S=E(n(380203));function E(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done);i=!0){o.push(a.value);if(t&&o.length===t)break}}catch(e){l=!0;r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function T(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function O(e){var t=e.contents,n=e.content,a=(0,m.hasBit)(t,i.DismissibleContent[n]);return r.createElement(r.Fragment,null,T(c.default,{value:a,onChange:function(){a?(0,l.removeDismissedContent)(i.DismissibleContent[n]):(0,l.addDismissedContent)(i.DismissibleContent[n])}},void 0,T(p.FormText,{size:v.default.Sizes.SIZE_16,className:S.default.marginTop4},void 0,n.toLowerCase()+" ("+i.DismissibleContent[n]+")")))}var I=T(p.FormTitle,{},void 0,"Available Dismissible Contents"),h=T("div",{},void 0,T(p.FormTitle,{},void 0,"Dismissed"));function N(){var e,t=g(r.useState(""),2),n=t[0],a=t[1],c=null!==(e=(0,o.useStateFromStores)([u.default],(function(){var e
;return null===(e=u.default.settings.userContent)||void 0===e?void 0:e.dismissedContents})))&&void 0!==e?e:new Uint8Array;return T(p.FormSection,{title:"Dismissible Contents",tag:p.FormTitleTags.H1},void 0,T(f.default,{className:S.default.marginBottom20,size:f.default.Sizes.LARGE,query:n,onChange:a,onClear:function(){return a("")}}),T(d.default,{className:S.default.marginBottom20},void 0,I,h),Object.keys(i.DismissibleContent).filter((function(e){return e.toLowerCase().includes(n.toLowerCase())})).sort((function(e,t){return e.localeCompare(t)})).map((function(e){if(isNaN(Number(e)))return T(O,{contents:c,content:e},e)})),T(s.default,{look:s.default.Looks.LINK,onClick:l.clearDismissedContents},void 0,"Clear All Dismissed Contents"))}N.displayName="DismissibleContentConfiguration"},232207:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=E;var a,r,o=c(n(667294)),i=c(n(145122)),l=n(194322),u=n(770348),s=n(474477),d=(a=n(247001))&&a.__esModule?a:{default:a}
;function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,
_owner:null}}function v(){v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return v.apply(this,arguments)}function m(e,t,n,a,r,o,i){try{var l=e[o](i),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(a,r)}function S(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){m(o,a,r,i,l,"next",e)}function l(e){m(o,a,r,i,l,"throw",e)}i(void 0)}))}}function E(e){var t=e.guildBoostSlot,a=e.onClose,r=e.hasCancelableGuildBoostSlot,f=e.premiumSubscription,c=e.onSelect;var m=f.status===u.SubscriptionStatusTypes.PAST_DUE;return p(i.default,{onSelect:c,navId:"subscription-context",style:i.MenuStyle.FIXED,"aria-label":d.default.Messages.GENERIC_ACTIONS_MENU_LABEL,onClose:a},void 0,p(i.MenuItem,{id:"apply",
label:null!=t.premiumGuildSubscription?d.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_TRANSFER_BUTTON:d.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_SELECT_SERVER_BUTTON,subtext:t.isOnCooldown()?d.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_TRANSFER_BUTTON_DISABLED_TOOLTIP:null,action:function(){(0,l.openModalLazy)(S(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(58579),n.e(99431),n.e(95289)]).then(n.bind(n,195289));case 2:a=e.sent;r=a.default;return e.abrupt("return",(function(e){return o.createElement(r,v({},e,{guildBoostSlots:[t],locationSection:u.AnalyticsSections.SETTINGS_PREMIUM}))}));case 5:case"end":return e.stop()}}),e)}))))},disabled:t.isOnCooldown()}),t.canceled?p(i.MenuItem,{id:"uncancel",label:d.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_SLOT_UNCANCEL_BUTTON,
subtext:m?d.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_CANCEL_BUTTON_DISABLED_PAST_DUE_TOOLTIP:null,action:function(){(0,l.openModalLazy)(S(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(82188)]).then(n.bind(n,282188));case 2:a=e.sent;r=a.default;return e.abrupt("return",(function(e){return o.createElement(r,v({},e,{guildBoostSlotId:t.id}))}));case 5:case"end":return e.stop()}}),e)}))))},disabled:m}):p(i.MenuItem,{id:"cancel",label:d.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_SLOT_CANCEL_BUTTON,subtext:r?m?d.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_CANCEL_BUTTON_DISABLED_PAST_DUE_TOOLTIP:null:d.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_CANCEL_BUTTON_DISABLED_TOOLTIP,action:function(){(0,l.openModalLazy)(S(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2
;return Promise.all([n.e(40532),n.e(58579),n.e(8906)]).then(n.bind(n,908906));case 2:a=e.sent;r=a.default;return e.abrupt("return",(function(e){return o.createElement(r,v({},e,{guildBoostSlot:t}))}));case 5:case"end":return e.stop()}}),e)}))))},disabled:!r||m,color:s.MenuItemColor.DANGER}))}E.displayName="GuildBoostSlotPopout"},843675:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=(0,l.useStateFromStores)([v.default],(function(){return v.default.getPremiumTypeSubscription()})),t=(0,l.useStateFromStores)([p.default],(function(){return p.default.boostSlots})),n=(0,i.default)(t).filter((function(e){return e.isAvailable()})).value(),a=(0,i.default)(t).groupBy((function(e){var t=e.premiumGuildSubscription;return null!=t?t.guildId:j})).value(),o=a[0],u=Object.keys(a).filter((function(e){return e!==j}));if(0===u.length&&null==o||null==e)return null;var s=(0,i.default)(t).filter((function(e){return!e.canceled
})).value().length,d=C.default.getNumIncludedPremiumGuildSubscriptionSlots(e.planId),f=s>d;return r.createElement(r.Fragment,null,B(T.Text,{variant:"text-sm/normal",className:w.default.blurb},void 0,U.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_SUBTITLE.format({helpdeskArticle:M.default.getArticleURL(L.HelpdeskArticles.GUILD_SUBSCRIPTIONS)})),null!=o?B(W,{guildId:j,guildBoostSlots:o,premiumSubscription:e,availableGuildBoostSlots:n,hasCancelableGuildBoostSlot:f}):null,u.length>0?r.createElement(r.Fragment,null,B(_.Heading,{variant:"heading-sm/medium",className:w.default.subSectionHeader,level:3},void 0,U.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_ACTIVE_TITLE),u.map((function(t){return B(W,{guildId:t,guildBoostSlots:a[t],premiumSubscription:e,availableGuildBoostSlots:n,hasCancelableGuildBoostSlot:f},t)}))):null)};var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e)
;var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}(n(667294)),o=G(n(294184)),i=G(n(496486)),l=n(536211),u=n(264720),s=G(n(683767)),d=G(n(37039)),f=n(95034),c=G(n(30098)),p=G(n(890535)),v=G(n(146771)),m=G(n(151097)),S=G(n(16941)),E=G(n(380439)),_=n(772575),g=G(n(160629)),y=G(n(638707)),T=n(645758),O=G(n(782732)),I=G(n(301927)),h=G(n(417184)),N=n(308920),A=G(n(692711)),b=n(682937),M=G(n(550270)),C=G(n(838583)),P=G(n(71636)),R=G(n(232207)),D=n(796274),L=n(770348),U=G(n(247001)),w=G(n(193655));function G(e){return e&&e.__esModule?e:{default:e}}function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}function B(e,t,n,r){
a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function F(){F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return F.apply(this,arguments)}var j="0";function x(e){var t=e.deadline,n=(0,s.default)(t,1e3),a=n.days,o=n.hours,i=n.minutes;return r.createElement(r.Fragment,null,U.default.Messages.PREMIUM_GUILD_COOLDOWN_AVAILABLE_COUNTDOWN.format({days:a,hours:o,minutes:i}))}function H(e){var t=e.guild,n=e.guildBoostSlots,a=e.availableGuildBoostSlots,o=r.useContext(N.AnalyticsContext),i=(0,
d.default)().analyticsLocations,l=t.premiumSubscriberCount,s=n.sort((function(e,t){return Number(null!=e.premiumGuildSubscription?e.premiumGuildSubscription.id:0)-Number(null!=t.premiumGuildSubscription?t.premiumGuildSubscription.id:0)}))[0];if(null==s)return null;var c=null!=s.premiumGuildSubscription?P.default.extractTimestamp(s.premiumGuildSubscription.id):0,p=(0,b.getAppliedGuildBoostMonths)(c);var v=null!=t.banner?A.default.getGuildBannerURL(t):null;return B("div",{className:w.default.guildHeader},void 0,B("div",{className:w.default.guildHeaderBackground,style:{backgroundImage:null!=v?"url("+v+")":void 0}}),B(E.default,{guild:t,className:w.default.guildIcon}),B("div",{className:w.default.guildHeaderContent},void 0,B(_.Heading,{variant:"heading-md/medium",className:w.default.guildName,level:3},void 0,t.name),B(T.Text,{variant:"text-xs/normal",className:w.default.guildSubscriptionDuration},void 0,U.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_DURATION.format({months:p,
date:new Date(c)})),B(T.Text,{variant:"text-xs/normal",className:w.default.guildSubscriberCount},void 0,B(O.default,{className:w.default.guildSubscriberCountIcon}),B("div",{},void 0,U.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_SUBSCRIBER_COUNT_TOOLTIP.format({subscriberCount:n.length})),0!==a.length?B(m.default,{onClick:function(){if(0!==a.length){var e=F({},o.location,{section:L.AnalyticsSections.SETTINGS_PREMIUM});(0,D.addAppliedGuildBoosts)({analyticsLocations:i,analyticsLocation:e,guild:t})}},className:w.default.guildSubscribeButton},void 0,U.default.Messages.PREMIUM_GUILD_PERKS_MODAL_BUTTON_SUBSCRIBE_THIS_SERVER):null)),B("div",{className:w.default.guildGemIndicatorContainer},void 0,B(S.default,{onClick:function(){(0,f.transitionToGuild)(t.id);(0,u.popLayer)()}},void 0,B(y.default,{className:w.default.gemIndicator,subscriberCount:l,guildId:t.id}))))}H.displayName="BoostingTargetGuildHeader";var Y=B(I.default,{});function V(e){
var t,n=e.guildBoostSlot,a=e.premiumSubscription,i=e.hasCancelableGuildBoostSlot,l=null!=n.cooldownEndsAt?new Date(n.cooldownEndsAt):null,u=null!=l&&l>new Date,s=null!=n.premiumGuildSubscription?new Date(P.default.extractTimestamp(n.premiumGuildSubscription.id)):null,d=n.canceled;var f=d?h.default:O.default;return B("div",{className:w.default.guildSubscriptionSlot},void 0,B(f,{className:(0,o.default)(w.default.guildSubscriptionSlotIcon,(t={},t[w.default.guildSubscriptionSlotIconCanceled]=d,t))}),B("div",{className:w.default.guildSubscriptionSlotContent},void 0,B(T.Text,{variant:"text-sm/normal",className:w.default.guildSubscriptionCreationDate},void 0,null!=s?U.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_CREATION_DATE.format({date:s}):U.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_UNUSED_SLOT_DESCRIPTION),B(T.Text,{variant:"text-xs/normal",color:"text-muted"},void 0,u&&null!=l?B(x,{deadline:l.getTime()
}):null,u&&d?"  ":null,d?U.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_PENDING_CANCELATION.format({date:a.currentPeriodEnd}):null)),B(g.default,{renderPopout:function(e){var t=e.closePopout;return B(R.default,{onClose:t,guildBoostSlot:n,premiumSubscription:a,hasCancelableGuildBoostSlot:i})},position:g.default.Positions.RIGHT,align:g.default.Align.CENTER},void 0,(function(e){return r.createElement(S.default,F({},e,{"aria-label":U.default.Messages.MORE_OPTIONS,className:w.default.guildSubscriptionSlotMenuIcon}),Y)})))}V.displayName="GuildBoostSlot";function W(e){var t=e.guildId,n=e.guildBoostSlots,a=e.premiumSubscription,r=e.availableGuildBoostSlots,o=e.hasCancelableGuildBoostSlot,i=(0,l.useStateFromStores)([c.default],(function(){return t!==j?c.default.getGuild(t):null}));return null==i&&t!==j?null:B("div",{className:w.default.guild},void 0,null!=i?B(H,{guild:i,guildBoostSlots:n,availableGuildBoostSlots:r}):null,B("div",{className:w.default.guildSubscriptionSlots
},void 0,n.map((function(e){return B(V,{guildBoostSlot:e,premiumSubscription:a,hasCancelableGuildBoostSlot:o},e.id)}))))}W.displayName="BoostingTargetGuild"},123880:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.openModal=t.default=void 0;var a,r=I(n(667294)),o=T(n(730381)),i=I(n(832635)),l=T(n(954140)),u=T(n(37039)),s=T(n(956117)),d=T(n(682473)),f=n(645758),c=n(354479),p=n(3400),v=I(n(194322)),m=n(204785),S=n(547642),E=n(500985),_=n(92557),g=T(n(247001)),y=T(n(666309));function T(e){return e&&e.__esModule?e:{default:e}}function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function I(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}function h(){h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return h.apply(this,arguments)}function N(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function A(e,t,n,a,r,o,i){try{var l=e[o](i),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(a,r)}function b(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){
var o=e.apply(t,n);function i(e){A(o,a,r,i,l,"next",e)}function l(e){A(o,a,r,i,l,"throw",e)}i(void 0)}))}}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done);i=!0){o.push(a.value);if(t&&o.length===t)break}}catch(e){l=!0;r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){
(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var P=function(e){var t,n=e.transitionState,a=e.groupListing,v=e.guildId,T=e.listing,O=e.subscription,I=e.onClose,h=(0,c.useUID)(),A=(0,S.useSubscriptionsSettings)(v),C=null!=(null==A||null===(t=A.cover_image_asset)||void 0===t?void 0:t.application_id)?(0,m.getAssetURL)(A.cover_image_asset.application_id,A.cover_image_asset,440):void 0,P=function(e){var t=M(r.useState(!1),2),n=t[0],a=t[1],o=M(r.useState(null),2),l=o[0],u=o[1],s=function(){var t=b(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0;a(!0);t.next=4;return i.cancelSubscription(n,e);case 4:return t.abrupt("return",!0);case 7:t.prev=7;t.t0=t.catch(0);u(t.t0);case 10:t.prev=10;a(!1);return t.finish(10);case 13:case"end":return t.stop()}}),t,null,[[0,7,10,13]])})));return function(e){return t.apply(this,arguments)}}();return{cancelSubscription:s,error:l,
submitting:n}}((0,u.default)(l.default.GUILD_ROLE_SUBSCRIPTION_CANCELLATION_MODAL).analyticsLocations),R=P.cancelSubscription,D=P.error,L=P.submitting,U=function(){var e=b(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return R(O.id);case 2:e.sent&&I();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=T.role_benefits.benefits.filter((function(e){return e.ref_type===_.GuildRoleSubscriptionBenefitTypes.CHANNEL})),G=T.role_benefits.benefits.filter((function(e){return e.ref_type===_.GuildRoleSubscriptionBenefitTypes.INTANGIBLE})),k=(0,o.default)(O.currentPeriodEnd).format("MMMM Do, YYYY"),B=g.default.Messages.GUILD_ROLE_CANCEL_SUBSCRIPTION_MODAL_DESCRIPTION.format({numChannels:w.length,numAdditionalBenefits:G.length,subscriptionEndDate:k});return N(p.ModalRoot,{transitionState:n,className:y.default.modal,"aria-labelledby":h},void 0,N("div",{},void 0,N("img",{
src:C,alt:"",className:y.default.headerImage}),N(p.ModalCloseButton,{withCircleBackground:!0,className:y.default.closeButton,onClick:I})),null!=D?N(d.default,{},void 0,D.message):null,N(p.ModalContent,{className:y.default.content},void 0,N(f.Text,{variant:"text-md/normal",className:y.default.title},void 0,g.default.Messages.GUILD_ROLE_CANCEL_SUBSCRIPTION_MODAL_TITLE),N(f.Text,{className:y.default.description,variant:"text-sm/normal"},void 0,B),N(E.GuildRoleSubscriptionBenefits,{listing:T,guildId:a.guild_id,className:y.default.benefits})),N(p.ModalFooter,{className:y.default.footer},void 0,N(s.default,{color:s.default.Colors.RED,onClick:U,submitting:L},void 0,g.default.Messages.GUILD_ROLE_CANCEL_SUBSCRIPTION_MODAL_CANCEL_CTA),N(s.default,{look:s.default.Looks.LINK,color:s.default.Colors.WHITE,className:y.default.goBackButton,onClick:I},void 0,g.default.Messages.GUILD_ROLE_CANCEL_SUBSCRIPTION_MODAL_NEVERMIND_CTA)))};P.displayName="CancelSubscriptionModal";t.openModal=function(e){
v.openModal((function(t){return r.createElement(P,h({},t,e))}))};var R=P;t.default=R},45738:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=I;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}(n(667294)),o=_(n(294184)),i=n(536211),l=_(n(754295)),u=_(n(146771)),s=_(n(956117)),d=n(772575),f=_(n(873376)),c=n(645758),p=n(770348),v=_(n(247001)),m=_(n(58131)),S=_(n(56397)),E=_(n(709804));function _(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}
function y(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var T=y(f.default,{size:4}),O=y(f.default,{size:24});function I(e){var t=e.onClickManageSubscription,n=(0,i.useStateFromStores)([u.default],(function(){return u.default.getSubscriptions()})),a=r.useMemo((function(){return Object.values(null!=n?n:{}).filter((function(e){return e.type===p.SubscriptionTypes.GUILD})).filter((function(e){return e.status!==p.SubscriptionStatusTypes.ENDED}))}),[n]);return 0===a.length?null:y("div",{className:m.default.container},void 0,y(d.Heading,{variant:"heading-md/medium",className:m.default.sectionTitle,level:3
},void 0,v.default.Messages.GUILD_ROLE_SUBSCRIPTIONS_USER_SUBSCRIPTIONS_TITLE),T,y(c.Text,{variant:"text-sm/normal",className:m.default.sectionDescription},void 0,v.default.Messages.GUILD_ROLE_SUBSCRIPTIONS_USER_SUBSCRIPTIONS_DESCRIPTION),O,y("div",{className:(0,o.default)(S.default.guildBoostingSubscriptionRow,m.default.card)},void 0,y("img",{src:E.default,alt:"",className:m.default.handImage}),y("div",{className:m.default.textContainer},void 0,y(d.Heading,{variant:"heading-xl/medium",className:m.default.header,level:3},void 0,v.default.Messages.GUILD_ROLE_SUBSCRIPTIONS_USER_SUBSCRIPTIONS_TITLE),y(c.Text,{variant:"text-md/normal",className:m.default.description},void 0,v.default.Messages.GUILD_ROLE_SUBSCRIPTIONS_ACTIVE_USER_SUBSCRIPTIONS_DESCRIPTION.format({numSubscriptions:a.length}))),y(l.default,{color:s.default.Colors.BRAND,onClick:t},void 0,v.default.Messages.GUILD_ROLE_SUBSCRIPTIONS_MANAGE_SUBSCRIPTIONS_BUTTON)))}I.displayName="GuildRoleSubscriptionsSection"},266211:(e,t,n)=>{
"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a,r=K(n(667294)),o=V(n(294184)),i=V(n(730381)),l=V(n(444693)),u=n(536211),s=K(n(832635)),d=n(264720),f=V(n(445377)),c=V(n(226800)),p=V(n(37039)),v=n(511217),m=V(n(337309)),S=n(139982),E=V(n(30098)),_=V(n(748826)),g=V(n(956117)),y=V(n(16941)),T=V(n(380439)),O=n(772575),I=V(n(80828)),h=n(645758),N=V(n(730977)),A=n(354479),b=n(688388),M=V(n(738133)),C=V(n(700113)),P=n(598671),R=n(243277),D=n(547642),L=V(n(523754)),U=n(251349),w=V(n(168058)),G=V(n(675176)),k=n(123880),B=n(76447),F=n(770348),j=n(173652),x=n(840433),H=V(n(247001)),Y=V(n(779383));function V(e){return e&&e.__esModule?e:{default:e}}function W(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(W=function(e){return e?n:t})(e)}function K(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=W(t);if(n&&n.has(e))return n.get(e)
;var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}function z(e,t,n,a,r,o,i){try{var l=e[o](i),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(a,r)}function Q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done);i=!0){o.push(a.value);if(t&&o.length===t)break}}catch(e){l=!0;r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function q(){q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return q.apply(this,arguments)}function X(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,
type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var Z=function(e){var t=e.label,n=e.value,a=e.showInfoIcon,o=e.infoIconTooltipText;return X("div",{className:Y.default.infoCard},void 0,X("div",{className:Y.default.infoCardLabelContainer},void 0,X(O.Heading,{variant:"heading-sm/medium",className:Y.default.infoCardLabel,level:3},void 0,t),a&&X(N.default,{text:o},void 0,(function(e){return r.createElement(C.default,q({},e,{className:Y.default.infoCardIcon}))}))),X(O.Heading,{variant:"heading-xl/medium",className:Y.default.infoCardValue,level:3},void 0,n))};Z.displayName="SubscriptionInfoCard";var J=function(e){var t=e.label,n=e.onClick,a=e.submitting;return X(y.default,{onClick:a?void 0:n,className:Y.default.rowButton},void 0,X("div",{className:Y.default.rowButtonContent},void 0,a?X(I.default,{type:I.default.Type.PULSING_ELLIPSIS,className:Y.default.spinner}):X(h.Text,{variant:"text-md/normal",className:Y.default.rowButtonLabel},void 0,t),X(M.default,{
className:Y.default.rowButtonArrow})))};J.displayName="RowButton";var ee=X(I.default,{}),te=function(e){var t=e.subscription,n=Q((0,v.useSubscriptionInvoicePreview)({subscriptionId:t.id,renewal:!0}),1)[0],a=(0,u.useStateFromStores)([_.default],(function(){return _.default.hasFetchedPaymentSources}));return null!=n&&a?X(m.default,{subscription:t,currentInvoicePreview:n,dropdownClassName:Y.default.paymentSourceDropdown}):ee};te.displayName="SubscriptionPaymentSourceWithInvoice";var ne=function(e){var t=e.isTrial,n=e.isCancelled,a=e.isResubscribing,o=e.onCancelSubscriptionClick,i=e.onResubscribeClick,l=e.onChangePlanClick;return n&&t?null:X("div",{},void 0,X(b.FormTitle,{},void 0,H.default.Messages.GUILD_ROLE_MANAGE_SUBSCRIPTION_MANAGE_OPTIONS_LABEL),X("div",{className:Y.default.rowButtons},void 0,n?X(g.default,{onClick:i,submitting:a},void 0,H.default.Messages.GUILD_ROLE_MANAGE_SUBSCRIPTION_MANAGE_OPTIONS_RESTART_SUBSCRIPTION):r.createElement(r.Fragment,null,!t&&X(J,{
label:H.default.Messages.GUILD_ROLE_MANAGE_SUBSCRIPTION_MANAGE_OPTIONS_CHANGE_TIER,onClick:l}),X(J,{label:H.default.Messages.GUILD_ROLE_MANAGE_SUBSCRIPTION_MANAGE_OPTIONS_CANCEL,onClick:o}))))};ne.displayName="ManageSubscriptionOptions";var ae=function(e){var t=e.subscription,n=(0,U.getRoleSubscriptionPlanId)(t),a=(0,u.useStateFromStores)([L.default],(function(){return L.default.getSubscriptionListingForPlan(n)})),v=(0,u.useStateFromStores)([L.default],(function(){return null!=a?L.default.getSubscriptionGroupListingForSubscriptionListing(a.id):null})),m=(0,u.useStateFromStores)([E.default],(function(){return E.default.getGuild(null==v?void 0:v.guild_id)})),_=Q(r.useState(!1),2),g=_[0],O=_[1],I=function(){return O((function(e){return!e}))},C=Q(r.useState(!1),2),V=C[0],W=C[1],K=(0,D.useFetchSubscriptionsSettings)().fetchSubscriptionsSettings,$=(0,A.useUID)(),q=(0,p.default)().analyticsLocations;r.useEffect((function(){g&&null!=m&&K(m.id)}),[g,m,K]);if(null==v||null==a)return null
;var J=function(){var e,n=(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0;W(!0);e.next=4;return s.resubscribeToSubscription(t,q);case 4:(0,B.openModal)();case 5:e.prev=5;W(!1);return e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[0,,5,8]])})),function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){z(o,a,r,i,l,"next",e)}function l(e){z(o,a,r,i,l,"throw",e)}i(void 0)}))});return function(){return n.apply(this,arguments)}}(),ee=(0,i.default)(t.currentPeriodEnd).format("M/D/YY"),ae=a.subscription_plans[0],re=(0,R.formatPrice)(ae.price,ae.currency),oe=(0,i.default)(t.createdAt).format("M/D/YY"),ie=t.status===F.SubscriptionStatusTypes.CANCELED,le=t.status===F.SubscriptionStatusTypes.PAST_DUE,ue=a.soft_deleted||null==m,se=null!=t.trialId,de=X(te,{subscription:t}),fe=X(ne,{isTrial:se,isCancelled:ie,isResubscribing:V,onCancelSubscriptionClick:function(){
null!=m&&(0,k.openModal)({guildId:m.id,groupListing:v,listing:a,subscription:t})},onChangePlanClick:function(){if(null!=m){(0,S.transitionTo)(F.Routes.CHANNEL(m.id,j.StaticChannelRoute.ROLE_SUBSCRIPTIONS));(0,d.popLayer)();f.default.show(F.NoticeTypes.BACK_TO_PREVIOUS_SCREEN,void 0,H.default.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_BACK_TO_SUBSCRIPTION_USER_SETTING_CTA,(function(){return c.default.open(F.UserSettingsSections.SUBSCRIPTIONS,x.ROLE_SUBSCRIPTION_SUBSECTION)}))}},onResubscribeClick:J});return X("div",{className:Y.default.container},void 0,X(w.default,{onClick:I,className:Y.default.headerContainer},void 0,(function(e){var t,n=e.areaRef,i=e.handleStopPropagation;return r.createElement(r.Fragment,null,null!=m&&X(T.default,{guild:m,active:!0,size:T.default.Sizes.MEDIUM}),X("div",{className:Y.default.headerTextContainer},void 0,X(h.Text,{variant:"text-md/normal",className:Y.default.guildName
},void 0,null!=m?m.name:H.default.Messages.GUILD_ROLE_SUBSCRIPTION_SERVER_NAME_UNAVAILABLE),X("div",{className:Y.default.headerSubtitleContainer},void 0,X(h.Text,{variant:"text-sm/normal",className:Y.default.tierName},void 0,a.name),ie?X(P.TextBadge,{text:H.default.Messages.GUILD_ROLE_MANAGE_SUBSCRIPTION_CANCELLED}):se?X(P.TextBadge,{text:H.default.Messages.GUILD_ROLE_SUBSCRIPTION_SETUP_FREE_TRIAL_TITLE,color:l.default.BRAND_500}):le?X(N.default,{text:H.default.Messages.GUILD_ROLE_SUBSCRIPTION_USER_SUBSCRIPTION_PAST_DUE_WARNING},void 0,(function(e){return r.createElement("div",e,X(P.TextBadge,{className:Y.default.paymentDueBadge,text:H.default.Messages.GUILD_ROLE_MANAGE_SUBSCRIPTION_PAST_DUE,color:l.default.STATUS_YELLOW_500}))})):null)),X(y.default,{onClick:i(I),"aria-label":H.default.Messages.GUILD_ROLE_SUBSCRIPTIONS_TOGGLE_SECTION_LABEL,"aria-controls":$,"aria-expanded":g,focusProps:{ringTarget:n}},void 0,X(M.default,{className:(0,o.default)(Y.default.arrowIcon,(t={},
t[Y.default.arrowIconExpanded]=g,t))})))})),g?X("div",{id:$},void 0,X("div",{className:Y.default.divider}),X(G.default,{groupListingId:v.id,subscription:t,className:Y.default.changePlanNotice}),X("div",{className:Y.default.subscriptionInfoCards},void 0,X(Z,{label:ie?H.default.Messages.GUILD_ROLE_MANAGE_SUBSCRIPTION_INFO_MEMBERSHIP_ENDS:H.default.Messages.GUILD_ROLE_MANAGE_SUBSCRIPTION_INFO_NEXT_RENEWAL,value:ee}),X(Z,{label:H.default.Messages.GUILD_ROLE_MANAGE_SUBSCRIPTION_INFO_PRICE,value:re,showInfoIcon:se,infoIconTooltipText:se?H.default.Messages.GUILD_ROLE_SUBSCRIPTION_MANAGE_SUBSCRIPTION_PAGE_TRIAL_PRICE_INFO:void 0}),X(Z,{label:H.default.Messages.GUILD_ROLE_MANAGE_SUBSCRIPTION_INFO_MEMBER_SINCE,value:oe})),!ie&&r.createElement(r.Fragment,null,X(b.FormTitle,{},void 0,H.default.Messages.GUILD_ROLE_MANAGE_SUBSCRIPTION_PAYMENT_METHOD_LABEL),de),!ue&&fe):null)};ae.displayName="ManageSubscriptionCard";var re=ae;t.default=re},76447:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.openModal=void 0;var a=n(14621),r=i(n(323667)),o=i(n(247001));function i(e){return e&&e.__esModule?e:{default:e}}t.openModal=function(){(0,a.openActionCompleteSuccessModal)({title:o.default.Messages.GUILD_ROLE_SUBSCRIPTION_RESTARTED_TITLE,body:o.default.Messages.GUILD_ROLE_SUBSCRIPTION_RESTARTED_DESCRIPTION,Icon:r.default})}},252730:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a
}(n(667294)),o=n(536211),i=_(n(146771)),l=_(n(956117)),u=_(n(873376)),s=_(n(80828)),d=n(645758),f=n(688388),c=_(n(571649)),p=n(547642),v=_(n(266211)),m=n(770348),S=_(n(247001)),E=_(n(670578));function _(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function y(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var T=y(s.default,{}),O=y(u.default,{size:10}),I=function(e){var t=e.onGoBack,n=(0,o.useStateFromStores)([i.default],(function(){return i.default.getSubscriptions()})),a=r.useMemo((function(){
return Object.values(null!=n?n:{}).filter((function(e){return e.type===m.SubscriptionTypes.GUILD})).filter((function(e){return e.status!==m.SubscriptionStatusTypes.ENDED}))}),[n]);return(0,p.useFetchListingsForSubscriptions)(a).loading?T:0===a.length?null:y("div",{className:E.default.container},void 0,y(l.default,{look:l.default.Looks.BLANK,innerClassName:E.default.backButtonContents,onClick:t},void 0,y(c.default,{className:E.default.arrowIcon}),S.default.Messages.GUILD_ROLE_SUBSCRIPTIONS_MANAGE_SUBSCRIPTIONS_PAGE_BACK_BUTTON_CTA),O,y(f.FormTitle,{tag:f.FormTitle.Tags.H1},void 0,S.default.Messages.GUILD_ROLE_MANAGE_SUBSCRIPTION_PAGE_TITLE),y(d.Text,{variant:"text-sm/normal",className:E.default.pageDescription},void 0,S.default.Messages.GUILD_ROLE_MANAGE_SUBSCRIPTION_PAGE_DESCRIPTION),y("div",{className:E.default.subscriptionsContainer},void 0,a.map((function(e){return y(v.default,{subscription:e},e.id)}))))};I.displayName="UserSettingsGuildRoleSubscriptions";var h=I;t.default=h},
181240:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=m;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a)}(n(667294));var a,r=c(n(294184)),o=c(n(730381)),i=c(n(16941)),l=n(645758),u=n(35033),s=n(114592),d=c(n(824701)),f=c(n(974848));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={
children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e){var t=e.achievementId,n=e.dateUnlocked,a=(0,s.getPoggermodeAchievementData)(t);if(null==a)return null;var c=null!=n,p=a.name,m=a.description,S=a.hideDescriptionUntilUnlock,E=a.onAction,_=S&&!c,g=c?"header-primary":"text-muted",y=c?"header-secondary":"text-muted",T=(0,o.default)(n),O=null!=E&&c;return v(O?i.default:"div",{className:(0,r.default)(f.default.container,O&&f.default.actionable),onClick:function(){O&&E()}},void 0,v("div",{className:f.default.iconContainer},void 0,v(d.default,{achievementId:t,size:d.default.Sizes.SIZE_40,unlocked:c})),v("div",{className:f.default.nameContainer},void 0,null!=n&&v(l.Text,{variant:"text-xxs/semibold",color:"text-muted",className:f.default.unlocked},void 0,(0,
u.calendarFormat)(T)),v(l.Text,{variant:"text-md/medium",color:g},void 0,p()),v(l.Text,{variant:"text-xs/normal",color:y},void 0,_?"?????":m())))}m.displayName="AchievementItem"},101499:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=B(r.useState(W.USER_SETTINGS),2),t=e[0],n=e[1],a=B(r.useState(ie(t)),2),o=a[0],l=a[1],s=B(r.useState(!1),2),d=s[0],p=s[1],v=(0,i.useStateFromStores)([u.default],(function(){return u.default.useReducedMotion})),m=d&&!v;r.useEffect((function(){var e=setTimeout((function(){l(ie(t))}),500);return function(){return clearTimeout(e)}}),[t]);r.useEffect((function(){Math.random()>.99&&(0,h.unlockAchievement)(N.PoggermodeAchievementId.VISITOR_100)}),[]);return r.createElement(r.Fragment,null,H(c.default,{step:t,direction:o},void 0,function(e,t,n){var a=function(e){return function(){t(e)}};switch(e){case W.USER_SETTINGS:return H(oe,{onChangePage:a(W.ACHIEVEMENT_LIST),setShowEnableAnimation:n})
;case W.ACHIEVEMENT_LIST:return H(C.default,{onBackClick:a(W.USER_SETTINGS)});default:return null}}(t,n,p)),H("div",{className:m?U.default.enableAnimationOverlayVisible:U.default.enableAnimationOverlayHidden},void 0,H(f.default,{className:U.default.enableAnimation,importData:re,shouldAnimate:m,autoplay:!1,resetOnPlay:!0,loop:!1,onComplete:function(){return p(!1)}})))};var a,r=k(n(667294)),o=n(496486),i=n(536211),l=n(91817),u=w(n(235879)),s=w(n(16941)),d=n(772575),f=w(n(230047)),c=k(n(134782)),p=w(n(118777)),v=w(n(567668)),m=n(645758),S=n(688388),E=w(n(863771)),_=w(n(509765)),g=w(n(436081)),y=n(194322),T=n(956506),O=w(n(550270)),I=n(179379),h=n(745203),N=n(114592),A=n(943725),b=w(n(54147)),M=w(n(608021)),C=w(n(346434)),P=n(909082),R=n(378542),D=n(770348),L=w(n(247001)),U=w(n(438235));function w(e){return e&&e.__esModule?e:{default:e}}function G(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(G=function(e){return e?n:t})(e)}function k(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=G(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done);i=!0){o.push(a.value);if(t&&o.length===t)break}}catch(e){l=!0;r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return F(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function j(e,t,n,a,r,o,i){try{var l=e[o](i),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(a,r)}function x(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){j(o,a,r,i,l,"next",e)}function l(e){j(o,a,r,i,l,"throw",e)}i(void 0)}))}}function H(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3]
;t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function Y(){Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return Y.apply(this,arguments)}var V,W,K={enabled:!0,combosEnabled:!0,screenshakeEnabled:!1,confettiEnabled:!1},z=(0,o.range)(0,11),Q=(0,o.range)(0,2.25,.25),$=(0,o.range)(1,11),q=(0,o.range)(1,26);!function(e){e[e.CONFETTI=0]="CONFETTI";e[e.SHAKE=1]="SHAKE"}(V||(V={}));!function(e){e[e.USER_SETTINGS=0]="USER_SETTINGS";e[e.ACHIEVEMENT_LIST=1]="ACHIEVEMENT_LIST"}(W||(W={}));function X(e){var t=e.disabled,n=e.locations,a=e.settingsLocations,o=e.onChange,i=n.map((function(e){return H(v.default,{disabled:t,value:a[e.location],note:e.description,onChange:function(t){var n;return o(Y({},a,((n={})[e.location]=t,n)))}},e.location,e.title)}))
;return r.createElement(r.Fragment,null,H(S.FormTitle,{},void 0,L.default.Messages.POGGERMODE_LOCATIONS),i)}function Z(e){var t=e.children;return H(m.Text,{className:U.default.sliderDescription,variant:"text-sm/normal",color:"header-secondary"},void 0,t)}Z.displayName="SliderDescription";function J(e){var t=e.settings,a=t.enabled,o=t.warningSeen,l=e.updateSettings,s=(0,i.useStateFromStores)([u.default],(function(){return u.default.useReducedMotion}));return H(v.default,{value:a,note:L.default.Messages.POGGERMODE_ENABLE_DESCRIPTION,onChange:function(e){e||(0,h.unlockAchievement)(N.PoggermodeAchievementId.DISABLE_POGGERMODE);!e||o&&!s?l({enabled:e}):(0,y.openModalLazy)(x(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,502197));case 2:t=e.sent;a=t.default;return e.abrupt("return",(function(e){return r.createElement(a,Y({
header:s?L.default.Messages.POGGERMODE_WARNING_TITLE_REDUCED_MOTION:L.default.Messages.POGGERMODE_WARNING_TITLE,confirmText:L.default.Messages.ENABLE,cancelText:L.default.Messages.CANCEL,onConfirm:function(){return l(s?K:{enabled:!0,warningSeen:!0})}},e),H(m.Text,{variant:"text-md/normal"},void 0,s?L.default.Messages.POGGERMODE_WARNING_BODY_REDUCED_MOTION:L.default.Messages.POGGERMODE_WARNING_BODY))}));case 5:case"end":return e.stop()}}),e)}))))}},void 0,L.default.Messages.POGGERMODE_ENABLE)}J.displayName="GlobalSettings";function ee(e){var t=e.settings,n=t.enabled,a=t.confettiEnabled,r=t.confettiCount,o=t.confettiSize,i=t.confettiEnabledLocations,l=e.updateSettings,u=!n||!a;return H(S.FormSection,{tag:S.FormTitleTags.H1,title:L.default.Messages.POGGERMODE_CONFETTI_CUSTOMIZATION},void 0,H(v.default,{disabled:!n,value:a,note:L.default.Messages.POGGERMODE_CONFETTI_ENABLED_DESCRIPTION,onChange:function(e){return l({confettiEnabled:e},V.CONFETTI)}
},void 0,L.default.Messages.POGGERMODE_CONFETTI_ENABLED),H(S.FormItem,{disabled:u,title:L.default.Messages.POGGERMODE_CONFETTI_COUNT,className:U.default.formItem},void 0,H(Z,{},void 0,L.default.Messages.POGGERMODE_CONFETTI_COUNT_DESCRIPTION),H(p.default,{disabled:u,markers:$,stickToMarkers:!0,minValue:$[0],maxValue:$[$.length-1],initialValue:r,onValueChange:function(e){return l({confettiCount:e},V.CONFETTI)},onValueRender:function(e){return""+e}})),H(S.FormItem,{disabled:u,title:L.default.Messages.POGGERMODE_CONFETTI_SIZE,className:U.default.formItem},void 0,H(Z,{},void 0,L.default.Messages.POGGERMODE_CONFETTI_SIZE_DESCRIPTION),H(p.default,{disabled:u,markers:q,stickToMarkers:!0,minValue:q[0],maxValue:q[q.length-1],initialValue:o,onValueChange:function(e){return l({confettiSize:e},V.CONFETTI)},onValueRender:function(e){return""+e}})),H(X,{disabled:u,locations:[{location:R.ConfettiLocation.CHAT_INPUT,title:L.default.Messages.POGGERMODE_CONFETTI_LOCATION_CHAT_INPUT_ENABLED,
description:L.default.Messages.POGGERMODE_CONFETTI_LOCATION_CHAT_INPUT_ENABLED_DESCRIPTION},{location:R.ConfettiLocation.REACTION,title:L.default.Messages.POGGERMODE_CONFETTI_LOCATION_REACTION_ENABLED,description:L.default.Messages.POGGERMODE_CONFETTI_LOCATION_REACTION_ENABLED_DESCRIPTION},{location:R.ConfettiLocation.MEMBER_USER,title:L.default.Messages.POGGERMODE_CONFETTI_LOCATION_MEMBER_USER_ENABLED,description:L.default.Messages.POGGERMODE_CONFETTI_LOCATION_MEMBER_USER_ENABLED_DESCRIPTION},{location:R.ConfettiLocation.CALL_TILE,title:L.default.Messages.POGGERMODE_CONFETTI_LOCATION_CALL_TILE_ENABLED,description:L.default.Messages.POGGERMODE_CONFETTI_LOCATION_CALL_TILE_ENABLED_DESCRIPTION}],settingsLocations:i,onChange:function(e){return l({confettiEnabledLocations:e},V.CONFETTI)}}))}ee.displayName="ConfettiSettings";function te(e){var t=e.settings,n=t.enabled,a=t.combosEnabled,r=t.comboSoundsEnabled,o=t.combosRequiredCount,i=e.updateSettings,l=!n||!a;return H(S.FormSection,{
tag:S.FormTitleTags.H1,title:L.default.Messages.POGGERMODE_COMBOS_CUSTOMIZATION},void 0,H(v.default,{disabled:!n,value:a,note:L.default.Messages.POGGERMODE_COMBOS_ENABLED_DESCRIPTION,onChange:function(e){return i({combosEnabled:e})}},void 0,L.default.Messages.POGGERMODE_COMBOS_ENABLED),H(v.default,{disabled:!n,value:r,note:L.default.Messages.POGGERMODE_COMBO_SOUNDS_ENABLED_DESCRIPTION,onChange:function(e){return i({comboSoundsEnabled:e})}},void 0,L.default.Messages.POGGERMODE_COMBO_SOUNDS_ENABLED),H(S.FormItem,{disabled:l,title:L.default.Messages.POGGERMODE_COMBOS_REQUIRED,className:U.default.formItem},void 0,H(Z,{},void 0,L.default.Messages.POGGERMODE_COMBOS_REQUIRED_DESCRIPTION),H(p.default,{disabled:l,markers:z,stickToMarkers:!0,minValue:z[0],maxValue:z[z.length-1],initialValue:o,onValueChange:function(e){return i({combosRequiredCount:e})},onValueRender:function(e){return""+e}})),H(S.FormDivider,{className:U.default.divider}))}te.displayName="ComboSettings";function ne(e){
var t=e.settings,n=t.enabled,a=t.screenshakeEnabled,r=t.shakeIntensity,o=t.screenshakeEnabledLocations,l=e.updateSettings,s=(0,i.useStateFromStores)([u.default],(function(){return u.default.useReducedMotion})),d=!n||!a||s;return H(S.FormSection,{tag:S.FormTitleTags.H1,title:L.default.Messages.POGGERMODE_SCREENSHAKE_CUSTOMIZATION},void 0,H(v.default,{disabled:!n||s,tooltipNote:s?L.default.Messages.POGGERMODE_SCREENSHAKE_DISABLED_REDUCED_MOTION:null,value:a&&!s,note:L.default.Messages.POGGERMODE_SCREENSHAKE_ENABLED_DESCRIPTION,onChange:function(e){return l({screenshakeEnabled:e},V.SHAKE)}},void 0,L.default.Messages.POGGERMODE_SCREENSHAKE_ENABLED),H(S.FormItem,{disabled:d,title:L.default.Messages.POGGERMODE_SCREENSHAKE,className:U.default.formItem},void 0,H(Z,{},void 0,L.default.Messages.POGGERMODE_SCREENSHAKE_DESCRIPTION),H(p.default,{disabled:d,markers:Q,equidistant:!0,stickToMarkers:!0,minValue:Q[0],maxValue:Q[Q.length-1],initialValue:r,onValueChange:function(e){return function(e,t){
null!=e.shakeIntensity&&e.shakeIntensity>r&&(0,h.unlockAchievement)(N.PoggermodeAchievementId.MORE);l(e,t)}({shakeIntensity:e},V.SHAKE)},onMarkerRender:function(e){return e===Q[Q.length-1]?L.default.Messages.POGGERMODE_SCREENSHAKE_MAX:100*e+"%"}})),H(X,{disabled:d,locations:[{location:R.ShakeLocation.CHAT_INPUT,title:L.default.Messages.POGGERMODE_SCREENSHAKE_LOCATION_CHAT_INPUT_ENABLED,description:L.default.Messages.POGGERMODE_SCREENSHAKE_LOCATION_CHAT_INPUT_ENABLED_DESCRIPTION},{location:R.ShakeLocation.VOICE_USER,title:L.default.Messages.POGGERMODE_SCREENSHAKE_LOCATION_VOICE_USER_ENABLED,description:L.default.Messages.POGGERMODE_SCREENSHAKE_LOCATION_VOICE_USER_ENABLED_DESCRIPTION},{location:R.ShakeLocation.MENTION,title:L.default.Messages.POGGERMODE_SCREENSHAKE_LOCATION_MENTION_ENABLED,description:L.default.Messages.POGGERMODE_SCREENSHAKE_LOCATION_MENTION_ENABLED_DESCRIPTION}],settingsLocations:o,onChange:function(e){return l({screenshakeEnabledLocations:e},V.SHAKE)}}))}
ne.displayName="ScreenshakeSettings";function ae(e){var t=e.onChangePage;return H(S.FormSection,{},void 0,H(s.default,{onClick:function(){return t(W.ACHIEVEMENT_LIST)},className:U.default.achievementContainer},void 0,H("div",{className:U.default.achievementIconContainer},void 0,H(_.default,{color:D.Colors.STATUS_ORANGE_460})),H("div",{className:U.default.achievementTextContainer},void 0,H(d.Heading,{variant:"heading-md/medium",color:"header-primary",level:4},void 0,L.default.Messages.POGGERMODE_ACHIEVEMENT_TITLE),H(m.Text,{variant:"text-md/normal",color:"header-secondary"},void 0,L.default.Messages.POGGERMODE_ACHIEVEMENT_DESCRIPTION)),H(E.default,{width:16,className:U.default.rightCaretIcon})),H(S.FormDivider,{className:U.default.divider}))}ae.displayName="Achievements";var re=function(){return n.e(37948).then(n.t.bind(n,394198,19)).then((function(e){return e.default}))};function oe(e){var t=e.onChangePage,n=e.setShowEnableAnimation,a=(0,
i.useStateFromStoresObject)([b.default],(function(){return b.default.getState()})),o=r.useRef(new l.Timeout),u=B(r.useState(!1),2),s=u[0],f=u[1],c=B(r.useState({x:0,y:0}),2),p=c[0],v=c[1];function m(e,t,n,a){return(null!=t?t:e)&&(null!=a?a:n)}var S=function(e,t){!function(e){if(e.enabled&&!1===a.enabled){var t;n(!0);(0,I.playSound)("poggermode_enabled");T.ComponentDispatch.dispatch(D.ComponentActions.SHAKE_APP,{duration:2e3,intensity:null!==(t=e.shakeIntensity)&&void 0!==t?t:a.shakeIntensity})}}(e);(0,A.updatePoggermodeSettings)(e);if(null!=t){var r=t===V.CONFETTI,i=m(a.confettiEnabled,e.confettiEnabled,a.enabled,e.enabled);if(r&&i){f(!0);o.current.start(2*P.INTERVAL,(function(){f(!0);o.current.start(2*P.INTERVAL,(function(){return f(!1)}))}))}var l=t===V.SHAKE,u=m(a.screenshakeEnabled,e.screenshakeEnabled,a.enabled,e.enabled);if(l&&u){var s;T.ComponentDispatch.dispatch(D.ComponentActions.SHAKE_APP,{duration:1e3,intensity:null!==(s=e.shakeIntensity)&&void 0!==s?s:a.shakeIntensity})}}
},E=function(e){v({x:e.clientX,y:e.clientY})};r.useEffect((function(){var e=o.current;window.addEventListener("mousemove",E);return function(){e.stop();window.removeEventListener("mousemove",E)}}),[]);return r.createElement(r.Fragment,null,H(d.Heading,{variant:"heading-xl/medium",level:3},void 0,L.default.Messages.POGGERMODE),H(g.default,{size:g.default.Sizes.SIZE_14,muted:!0,className:U.default.subtitle},void 0,L.default.Messages.POGGERMODE_SETTINGS_SUBTITLE.format({helpCenterLink:O.default.getArticleURL(D.HelpdeskArticles.POGGERMODE)})),H(J,{settings:a,updateSettings:S}),H(ae,{onChangePage:t}),H(te,{settings:a,updateSettings:S}),H(ne,{settings:a,updateSettings:S}),H(ee,{settings:a,updateSettings:S}),H(M.default,{firing:s,position:p}))}var ie=function(e){return e===W.USER_SETTINGS?c.SlideDirection.LEFT:c.SlideDirection.RIGHT}},346434:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.onBackClick,n=(0,
o.useStateFromStores)([p.default],(function(){return p.default.getAllUnlockedAchievements()})),a=r.useMemo((function(){return Object.values(n).sort((function(e,t){return t.dateUnlocked-e.dateUnlocked}))}),[n]),g=r.useMemo((function(){return Object.values(v.ACHIEVEMENT_LIST).filter(c.isNotNullish).filter((function(e){return null==n[e.id]})).sort((function(e,t){return e.rarity-t.rarity}))}),[n]);return r.createElement(r.Fragment,null,T(d.FormSection,{},void 0,T(l.default,{onClick:t,className:_.default.backContainer},void 0,T(i.default,{direction:i.default.Directions.LEFT,className:_.default.icon}),T(s.Text,{variant:"text-lg/normal",color:"text-normal"},void 0,E.default.Messages.BACK))),T("div",{className:_.default.headerContainer},void 0,T("div",{className:_.default.headerTextContainer},void 0,T(u.Heading,{variant:"heading-lg/bold",color:"header-primary",level:4},void 0,E.default.Messages.POGGERMODE_ACHIEVEMENT_TITLE),T(s.Text,{variant:"text-md/normal",color:"header-secondary"
},void 0,E.default.Messages.POGGERMODE_ACHIEVEMENT_DESCRIPTION)),T("div",{className:_.default.headerIcon},void 0,T(f.default,{color:S.Colors.STATUS_ORANGE_460,width:40,height:40}))),a.length>0&&T(d.FormSection,{className:_.default.divider},void 0,T("div",{className:_.default.achievementGrid},void 0,a.map((function(e){var t=e.achievementId,n=e.dateUnlocked;return T(m.default,{achievementId:t,dateUnlocked:n},t)})))),g.length>0&&T(d.FormSection,{className:_.default.divider},void 0,T("div",{className:_.default.headerTextContainer},void 0,T(s.Text,{variant:"text-md/bold",color:"header-secondary"},void 0,E.default.Messages.POGGERMODE_ACHIEVEMENT_LOCKED_TITLE)),T("div",{className:_.default.achievementGrid},void 0,g.map((function(e){return T(m.default,{achievementId:e.id},e.id)})))),T(d.FormSection,{className:_.default.divider},void 0,T("div",{className:_.default.bottomPadding})))};var a,r=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}(n(667294)),o=n(536211),i=g(n(583183)),l=g(n(16941)),u=n(772575),s=n(645758),d=n(688388),f=g(n(509765)),c=n(71246),p=g(n(358091)),v=n(114592),m=g(n(181240)),S=n(770348),E=g(n(247001)),_=g(n(953141));function g(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function T(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){
for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},969082:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useOutboundPromotions=function(){var e=(0,r.useStateFromStores)([s.default],(function(){return s.default.lastFetchedActivePromotions})),t=S(),n=(0,r.useStateFromStores)([i.default],(function(){return i.default.getCurrentUser()})),f=p(a.useState(!1),2),c=f[0],E=f[1],_=p(a.useState([]),2),g=_[0],y=_[1];a.useEffect((function(){null!=e&&o.default.wait((function(){return u.default.markOutboundPromotionsSeen()}))}),[e]);var T=a.useCallback((function(e){y((function(t){return t.some((function(t){return t.promotion.id===e.promotion.id}))?t:[].concat(function(e){if(Array.isArray(e))return m(e)}(n=t)||function(e){
if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||v(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[e]);var n}))}),[]),O=(null==n?void 0:n.premiumType)===d.PremiumTypes.TIER_2;a.useEffect((function(){o.default.wait((function(){O&&null==e&&u.default.fetchActiveOutboundPromotions()}))}),[e,O]);a.useEffect((function(){o.default.wait((function(){(0,l.fetchClaimedOutboundPromotionCodes)().then((function(e){y(e);E(!0)})).catch((function(){y([]);E(!0)}))}))}),[]);for(var I,h={},N=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=v(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0;return function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}}}
throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(g);!(I=N()).done;){var A=I.value,b=A.code,M=A.promotion;h[M.id]=b}var C=new Set(t.map((function(e){return e.id}))),P=g.filter((function(e){var t=e.promotion;return!C.has(t.id)}));return{promotionsLoaded:c&&(!O||null!=e),activeOutboundPromotions:t,claimedEndedOutboundPromotions:P,claimedOutboundPromotionCodeMap:h,addClaimedOutboundPromotionCode:T}};t.useUnseenOutboundPromotions=function(){var e=(0,r.useStateFromStores)([s.default],(function(){return s.default.lastSeenOutboundPromotionStartDate})),t=S();return a.useMemo((function(){return null==e?t:t.filter((function(t){var n=t.startDate;return new Date(n)>new Date(e)}))}),[t,e])};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e)
;var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}(n(667294)),r=n(536211),o=f(n(636602)),i=f(n(728429)),l=n(462827),u=f(n(745108)),s=f(n(297143)),d=n(770348);function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done);i=!0){o.push(a.value);if(t&&o.length===t)break}}catch(e){l=!0;r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||v(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function S(){var e=(0,r.useStateFromStoresArray)([s.default],(function(){return s.default.outboundPromotions})),t=(0,r.useStateFromStores)([s.default],(function(){return s.default.consumedInboundPromotionId}));return a.useMemo((function(){return e.filter((function(e){return e.id!==t}))}),[e,t])}},113781:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a,r=function(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}(n(667294)),o=S(n(680219)),i=S(n(956117)),l=n(772575),u=S(n(80828)),s=n(645758),d=n(354479),f=n(688388),c=n(3400),p=n(462827),v=S(n(247001)),m=S(n(543282));function S(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{
for(n=n.call(e);!(i=(a=n.next()).done);i=!0){o.push(a.value);if(t&&o.length===t)break}}catch(e){l=!0;r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function y(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){
for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function T(e){var t=e.onClose;return r.createElement(r.Fragment,null,y(c.ModalHeader,{separator:!1,className:m.default.errorHeader},void 0,y("div",{className:m.default.errorArt}),y(l.Heading,{variant:"heading-xl/medium",level:3},void 0,v.default.Messages.GENERIC_ERROR_TITLE)),y(c.ModalContent,{className:m.default.errorBody},void 0,y(s.Text,{variant:"text-md/normal",className:m.default.bodyText},void 0,v.default.Messages.GENERIC_ERROR_BODY)),y(c.ModalFooter,{},void 0,y(i.default,{color:i.default.Colors.BRAND,onClick:t},void 0,v.default.Messages.CLOSE)))}function O(e){var t=e.onClose,n=e.onClaim,a=e.code,S=e.outboundPromotion,E=e.transitionState,g=_(r.useState(null),2),O=g[0],I=g[1],h=(0,d.useUID)();r.useEffect((function(){null==a&&(0,
p.claimOutboundPromotion)(S.id).then((function(e){return n(e)})).catch((function(e){return I(e)}))}),[a,S.id,n]);var N=y(T,{onClose:t});return y(c.ModalRoot,{transitionState:E,"aria-labelledby":h},void 0,null!=O?N:null==a?y(c.ModalContent,{},void 0,y(u.default,{className:m.default.loading})):r.createElement(r.Fragment,null,y(c.ModalHeader,{separator:!1,className:m.default.headerContainer},void 0,y("div",{className:m.default.art}),y(l.Heading,{variant:"heading-xl/medium",level:3},void 0,v.default.Messages.OUTBOUND_PROMOTION_REDEMPTION_MODAL_TITLE)),y(c.ModalContent,{},void 0,y(s.Text,{variant:"text-md/normal",className:m.default.bodyText},void 0,S.outboundRedemptionModalBody),y(f.FormDivider,{className:m.default.formDivider}),y(f.FormSection,{title:v.default.Messages.REDEMPTION_CODE,className:m.default.formSection},void 0,y(o.default,{value:a,buttonColor:i.default.Colors.BRAND,buttonLook:i.default.Looks.FILLED,delay:1e3,inputClassName:m.default.textInput}),y(s.Text,{
variant:"text-xs/normal",color:"header-secondary",className:m.default.confirmationText},void 0,v.default.Messages.OUTBOUND_PROMOTION_CODE_CONFIRMATION_EMAIL))),y(c.ModalFooter,{},void 0,y(i.default,{color:i.default.Colors.BRAND,onClick:function(){var e=(0,p.getOutboundPromotionRedemptionUrl)(a,S);window.open(e,"_blank")}},void 0,v.default.Messages.REDEEM),y(i.default,{onClick:t,look:i.default.Looks.LINK,color:m.default.maybeLaterButton},void 0,v.default.Messages.MAYBE_LATER))))}O.displayName="OutboundPromotionRedemptionModal";var I=O;t.default=I},404203:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}(n(667294)),o=l(n(294184)),i=l(n(784864));function l(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function s(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e,t){d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return d(e,t)}var f=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;d(e,t)}(t,e)
;function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];(t=e.call.apply(e,[this].concat(a))||this).renderFeature=function(e,n){return s("div",{className:i.default.feature},n,t.renderIcon(e),s("div",{},void 0,null!=e.title?s("div",{className:i.default.title},void 0,e.title):null,s("div",{className:null==e.title?i.default.descriptionStandalone:i.default.description},void 0,e.description)))};return t}var n=t.prototype;n.renderIcon=function(e){if(null!=e.overrideIcon)return e.overrideIcon(i.default.icon);if(null!=e.icon&&null!=e.iconClass){return s(e.icon,{className:(0,o.default)(i.default.icon,e.iconClass)})}throw new Error("Missing overrideIcon or iconName and iconClass")};n.render=function(){return s("div",{className:i.default.features,style:{gridTemplateColumns:Array(this.props.columns).fill("1fr").join(" ")}},void 0,this.props.features.map(this.renderFeature))};return t}(r.Component);f.displayName="PremiumFeaturesList";var c=f;t.default=c},
754295:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=d;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}(n(667294)),r=l(n(956117)),o=l(n(303326)),i=["children"];function l(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return s.apply(this,arguments)}function d(e){
var t=e.children,n=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++){n=o[a];t.indexOf(n)>=0||(r[n]=e[n])}return r}(e,i);return a.createElement(r.default,s({},n,{size:r.default.Sizes.SMALL,look:r.default.Looks.INVERTED,className:o.default.button}),t)}d.displayName="PremiumSettingsPushButton"},526889:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a)}(n(667294))
;var a,r=E(n(294184)),o=E(n(496486)),i=n(536211),l=E(n(728429)),u=E(n(909584)),s=E(n(146771)),d=n(772575),f=n(645758),c=E(n(41024)),p=E(n(838583)),v=n(770348),m=E(n(247001)),S=E(n(692202));function E(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function g(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return
;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done);i=!0){o.push(a.value);if(t&&o.length===t)break}}catch(e){l=!0;r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function O(e){var t=e.user,n=e.planId,a=e.count,r=e.userPremiumSubscription,o=y((0,i.useStateFromStoresArray)([u.default],(function(){return[u.default.get(n),null!=r?u.default.get(r.planId):null]
})),2),l=o[0],s=o[1];if(null==l||p.default.getInterval(n).intervalType!==v.SubscriptionIntervalTypes.MONTH)return null;var E=null!=s?s.skuId:null,_=l.skuId===E,T=p.default.getDisplayName(n);return g("div",{className:S.default.accountCreditRow},void 0,g("div",{className:l.skuId===v.PremiumSubscriptionSKUs.TIER_2?S.default.iconBackgroundTier2:S.default.iconBackgroundTier1},void 0,g(c.default,{className:S.default.icon})),g("div",{className:S.default.rowDetails},void 0,g(d.Heading,{variant:"heading-md/medium",level:3},void 0,m.default.Messages.PREMIUM_SUBSCRIPTION_CREDIT.format({planName:T})),t.hasFreePremium()?null:g(d.Heading,{className:S.default.rowApplied,variant:"heading-deprecated-14/medium",color:"header-secondary",level:3},void 0,_&&null!=r?m.default.Messages.PREMIUM_SUBSCRIPTION_CREDIT_APPLIED_ON.format({date:r.currentPeriodEnd}):m.default.Messages.PREMIUM_SUBSCRIPTION_CREDIT_APPLIED_MISMATCHED_PLAN.format({planName:T}))),g(f.Text,{className:S.default.rowCreditCount,
variant:"text-md/normal"},void 0,m.default.Messages.PREMIUM_SUBSCRIPTION_CREDIT_COUNT_MONTHS.format({count:a})))}O.displayName="AccountCreditRow";function I(e){var t=e.className,n=e.entitlements,a=(0,o.default)(Array.from(n)).filter((function(e){var t=e.subscriptionPlanId,n=e.parentId,a=e.consumed;return null!=t&&null!=n&&!a})).groupBy((function(e){return e.subscriptionPlanId})).value(),u=(0,i.useStateFromStores)([s.default],(function(){return s.default.getPremiumSubscription()})),d=(0,i.useStateFromStores)([l.default],(function(){return l.default.getCurrentUser()}));return null==d?null:g("div",{className:(0,r.default)(t,S.default.premiumSubscriptionAccountCredit)},void 0,Object.keys(a).map((function(e){return g(O,{planId:e,count:a[e].length,userPremiumSubscription:u,user:d},e)})))}I.displayName="PremiumSubscriptionAccountCredit";var h=I;t.default=h},322423:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=g;!function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a)}(n(667294));var a,r=p(n(441143)),o=p(n(909584)),i=n(645758),l=n(838583),u=n(243277),s=n(511217),d=n(770348),f=p(n(247001)),c=p(n(799337));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function m(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done);i=!0){o.push(a.value);if(t&&o.length===t)break}}catch(e){l=!0;r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function _(e){var t=e.subscription,n=e.withOverheadSeparator,a=S((0,s.useSubscriptionInvoicePreview)({subscriptionId:t.id,renewal:!0}),1)[0];if(null==a)return null;var p=n?c.default.finePrintWithOverheadSeparator:c.default.finePrint,v=a.invoiceItems.find((function(e){var t=e.subscriptionPlanId;return(0,l.isPremiumBaseSubscriptionPlan)(t)}));if(null==v)return null;var E=v.subscriptionPlanId,_=o.default.get(E);(0,r.default)(null!=_,"Missing plan");var g=(0,u.formatPrice)(a.total,a.currency),y="";_.interval===d.SubscriptionIntervalTypes.YEAR?y=f.default.Messages.BILLING_PAYMENT_PREMIUM_TERMS_LEGALESE_YEARLY.format({price:g,termsUrl:d.MarketingURLs.TERMS,paidURL:d.MarketingURLs.PAID_TERMS,privacyUrl:d.MarketingURLs.PRIVACY
}):_.interval===d.SubscriptionIntervalTypes.MONTH&&(y=1===_.intervalCount?f.default.Messages.BILLING_PAYMENT_PREMIUM_TERMS_LEGALESE_MONTHLY.format({price:g,termsUrl:d.MarketingURLs.TERMS,paidURL:d.MarketingURLs.PAID_TERMS,privacyUrl:d.MarketingURLs.PRIVACY}):f.default.Messages.BILLING_PAYMENT_PREMIUM_TERMS_LEGALESE_MULTI_MONTH.format({price:g,termsUrl:d.MarketingURLs.TERMS,paidURL:d.MarketingURLs.PAID_TERMS,privacyUrl:d.MarketingURLs.PRIVACY,intervalCount:_.intervalCount}));return m(i.Text,{color:"text-muted",className:p,variant:"text-xs/normal"},void 0,y)}_.displayName="PremiumSubscriptionFinePrintContent";function g(e){var t=e.subscription,n=e.withOverheadSeparator;return t.status===d.SubscriptionStatusTypes.CANCELED||t.isPurchasedExternally?null:m(_,{subscription:t,withOverheadSeparator:n})}g.displayName="PremiumSubscriptionFinePrint"},588398:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GuildBoostingHeader=H;t.SubscriptionDetailsEmpty=z;t.default=X
;var a,r=B(n(667294)),o=G(n(294184)),i=G(n(441143)),l=G(n(730381)),u=n(536211),s=G(n(226800)),d=G(n(954140)),f=G(n(37039)),c=G(n(285629)),p=G(n(655205)),v=n(232759),m=G(n(728429)),S=G(n(956117)),E=G(n(558402)),_=G(n(530250)),g=G(n(562475)),y=G(n(80828)),T=n(645758),O=n(688388),I=G(n(417184)),h=G(n(308920)),N=B(n(838583)),A=n(298104),b=n(511217),M=n(653311),C=G(n(754295)),P=G(n(200475)),R=G(n(337309)),D=G(n(986495)),L=n(770348),U=G(n(247001)),w=G(n(56397));function G(e){return e&&e.__esModule?e:{default:e}}function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}function B(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done);i=!0){o.push(a.value);if(t&&o.length===t)break}}catch(e){l=!0;r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){
(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function x(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function H(e){var t=e.subscription,n=e.fromStandaloneBillingPage,a=void 0===n||n,l=e.className,d=(0,u.useStateFromStores)([m.default],(function(){var e=m.default.getCurrentUser();(0,i.default)(null!=e,"GuildBoostingHeader: currentUser cannot be undefined");return e}));if(0===(0,N.getNumPremiumGuildSubscriptions)(t.additionalPlans))return null;var f,p=t.status;f=(0,N.isPremiumGuildSubscriptionCanceled)(t)?w.default.guildBoostingSubscriptionRowCanceled:(0,
N.isSubscriptionStatusFailedPayment)(p)?w.default.guildBoostingSubscriptionRowFailedPayment:w.default.guildBoostingSubscriptionRowActive;return r.createElement(r.Fragment,null,x("div",{className:(0,o.default)(f,l)},void 0,x("div",{className:w.default.guildBoostingSubscriptionRowBackground}),x("div",{className:w.default.guildBoostingImage}),x("div",{className:w.default.guildBoostingSubscriptionRowBody},void 0,x("div",{className:w.default.guildBoostingWordmark}),x("div",{},void 0,(0,N.getPremiumGuildHeaderDescription)(t,d))),a&&x(C.default,{color:S.default.Colors.BRAND,onClick:function(){return s.default.open(L.UserSettingsSections.GUILD_BOOSTING)}},void 0,U.default.Messages.PREMIUM_GUILD_PERKS_MODAL_MANAGE_YOUR_SUBSCRIPTIONS)),!a&&x(T.Text,{className:w.default.boostingDesktopAppBlurb,variant:"text-sm/normal"},void 0,U.default.Messages.GUILD_BOOSTING_MANAGEMENT_OPEN_DESKTOP_APP.format({openAppHook:function(){return(0,c.default)("app")}})))}function Y(){r.useEffect((function(){
h.default.track(L.AnalyticEvents.TOOLTIP_VIEWED,{type:"subscription_settings_missing_payment_method"})}),[]);return x("div",{className:w.default.paymentBanner},void 0,x(I.default,{className:w.default.paymentBannerIcon,color:L.Colors.STATUS_YELLOW_400}),x(T.Text,{className:w.default.paymentBannerText,variant:"text-sm/normal"},void 0,U.default.Messages.MISSING_PAYMENT_METHOD_BANNER))}Y.displayName="NoPaymentMethodBanner";function V(){r.useEffect((function(){h.default.track(L.AnalyticEvents.TOOLTIP_VIEWED,{type:"subscription_settings_invalid_payment_method"})}),[]);return x("div",{className:w.default.paymentBanner},void 0,x(I.default,{className:w.default.paymentBannerIcon,color:L.Colors.STATUS_RED_400}),x(T.Text,{className:w.default.paymentBannerText,variant:"text-sm/normal"},void 0,U.default.Messages.INVALID_PAYMENT_METHOD_BANNER))}V.displayName="InvalidPaymentMethodBanner";function W(e){var t=e.daysPastDue,n=e.subscription,a=e.openInvoiceId,o=(0,
f.default)(d.default.PAST_DUE_ONE_TIME_PAYMENT_METHOD_BANNER).analyticsLocations;r.useEffect((function(){h.default.track(L.AnalyticEvents.TOOLTIP_VIEWED,{type:"subscription_settings_invalid_payment_method"})}),[]);return x("div",{className:w.default.paymentBanner},void 0,x(I.default,{className:w.default.paymentBannerIcon,color:L.Colors.STATUS_YELLOW_400}),x(T.Text,{className:w.default.paymentBannerText,variant:"text-sm/normal"},void 0,U.default.Messages.PREMIUM_SUBSCRIPTION_ONE_TIME_PAYMENT_PAST_DUE_SUBSCRIPTION_TEXT.format({daysPastDue:t,paymentModalRedirect:function(){(0,p.default)({initialPlanId:n.planIdFromItems,openInvoiceId:a,analyticsLocations:o})}})))}W.displayName="PastDueOneTimePaymentMethodBanner";function K(e){var t=e.subscription,n=e.renewalInvoicePreview,a=e.className;return x("div",{className:(0,o.default)(w.default.billingInformation,a)},void 0,x(O.FormTitle,{tag:O.FormTitle.Tags.H3,className:w.default.detailBlockHeader
},void 0,U.default.Messages.PREMIUM_SETTINGS_BILLING_INFO),x("div",{},void 0,N.default.getBillingInformationString(t,n)))}K.displayName="SubscriptionBillingInformation";function z(e){return x("div",{className:e.className},void 0,x(O.FormTitle,{className:w.default.sectionTitle,tag:O.FormTitle.Tags.H1},void 0,U.default.Messages.USER_SETTINGS_SUBSCRIPTIONS_HEADER),x("p",{className:w.default.sectionDescription},void 0,U.default.Messages.BILLING_PAYMENT_PREMIUM_DESCRIPTION),x(E.default,{className:w.default.noItemsCard,type:E.default.Types.CUSTOM},void 0,x(_.default,{align:_.default.Align.CENTER},void 0,x(g.default,{game:null,size:g.default.Sizes.SMALL,className:w.default.noItemsIcon}),x("span",{className:w.default.cardText},void 0,U.default.Messages.USER_SETTINGS_NO_SUBSCRIPTIONS))))}z.displayName="SubscriptionDetailsEmpty";var Q=x(y.default,{}),$=x(Y,{}),q=x(V,{});function X(e){
var t,n,a,r=e.subscription,i=e.paymentSource,s=e.busy,d=e.className,f=e.fromStandaloneBillingPage,c=void 0===f||f,p=e.analyticsLocation,S=F((0,b.useSubscriptionInvoicePreview)({subscriptionId:r.id,renewal:!0}),1)[0],E=F((0,b.useSubscriptionInvoicePreview)({subscriptionId:r.id,renewal:!0,applyEntitlements:!0}),1)[0],_=(0,u.useStateFromStores)([m.default],(function(){var e;return null===(e=m.default.getCurrentUser())||void 0===e?void 0:e.hasFreePremium()})),g=(0,l.default)(r.currentPeriodEnd),y=null!=r.paymentSourceId,T=null!==(t=null==E?void 0:E.total)&&void 0!==t?t:0,I=null==i?void 0:i.invalid,h=!y&&T>0&&(g.diff((0,l.default)(),"days")<=7||r.status===L.SubscriptionStatusTypes.PAST_DUE)&&!_&&!r.isPurchasedExternally,N=I&&r.status===L.SubscriptionStatusTypes.PAST_DUE&&!_&&!r.isPurchasedExternally,C=(0,M.useIsPrepaidPaymentPastDue)(),G=!_&&C,k=(null==r?void 0:r.status)===L.SubscriptionStatusTypes.PAST_DUE?(0,l.default)().diff((0,l.default)(r.currentPeriodStart),"days"):0,B=F((0,
b.useGetSubscriptionInvoice)({subscriptionId:r.id,preventFetch:!G}),1)[0];if(null==S||null==E)return Q;null!=r.renewalMutations&&(r.renewalMutations.planId!==r.planId&&!(0,v.isNoneSubscription)(r.renewalMutations.planId)||r.hasExternalPlanChange)&&(a=x(D.default,{subscription:r,renewalMutations:r.renewalMutations,className:w.default.renewalMutationNotice,analyticsLocation:p}));return x("div",{className:d},void 0,x(O.FormTitle,{className:w.default.sectionTitle,tag:O.FormTitle.Tags.H1},void 0,U.default.Messages.USER_SETTINGS_SUBSCRIPTIONS_HEADER),h?$:null,N?q:null,G&&null!=B?x(W,{daysPastDue:k,subscription:r,openInvoiceId:B.id}):null,a,x("div",{className:w.default.subscriptionRows},void 0,x("p",{className:w.default.sectionDescription},void 0,U.default.Messages.BILLING_PAYMENT_PREMIUM_DESCRIPTION),x(P.default,{subscription:r,renewalInvoicePreview:S,paymentSource:i,busy:s,analyticsLocation:p}),x(H,{subscription:r,fromStandaloneBillingPage:c,className:w.default.guildSubscriptionRow
})),x("div",{},void 0,x(O.FormTitle,{tag:O.FormTitle.Tags.H5},void 0,U.default.Messages.BILLING_STEP_PAYMENT),x("div",{className:w.default.details},void 0,x(K,{subscription:r,renewalInvoicePreview:E,className:w.default.detailsBlock}),x("div",{className:(0,o.default)(w.default.detailsBlock,(n={},n[w.default.redBorder]=N,n))},void 0,x(O.FormTitle,{tag:O.FormTitle.Tags.H3,className:w.default.detailBlockHeader},void 0,r.isPurchasedExternally&&null!=r.paymentGateway?U.default.Messages.BILLING_MANAGED_BY_PAYMENT_GATEWAY.format({paymentGatewayName:L.PaymentGatewayToFriendlyName[r.paymentGateway]}):U.default.Messages.BILLING_PAY_FOR_IT_WITH),x(R.default,{subscription:r,onPaymentSourceAdded:A.fetchSubscriptionPlansOnNewPaymentSource,highlightAddPaymentMethodButton:h||N,analyticsLocation:p,currentInvoicePreview:S,dropdownClassName:w.default.paymentDropdown}),x("div",{className:w.default.paymentDropdownFinePrint},void 0,U.default.Messages.BILLING_APPLIES_TO_ALL_SUBSCRIPTIONS)))))}
X.displayName="SubscriptionDetails"},200475:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a,r=C(n(667294)),o=b(n(294184)),i=b(n(441143)),l=C(n(304836)),u=b(n(954140)),s=b(n(37039)),d=b(n(791548)),f=b(n(655205)),c=n(232759),p=b(n(909584)),v=b(n(151097)),m=C(n(956117)),S=b(n(730977)),E=b(n(394726)),_=b(n(259643)),g=n(194322),y=C(n(838583)),T=n(298104),O=n(815992),I=b(n(754295)),h=n(770348),N=b(n(247001)),A=b(n(956424));function b(e){return e&&e.__esModule?e:{default:e}}function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(M=function(e){return e?n:t})(e)}function C(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=M(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}function P(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function R(){R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return R.apply(this,arguments)}function D(e,t,n,a,r,o,i){try{var l=e[o](i),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(a,r)}function L(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){D(o,a,r,i,l,"next",e)}
function l(e){D(o,a,r,i,l,"throw",e)}i(void 0)}))}}var U=new d.default("SubscriptionHeader.tsx"),w={page:h.AnalyticsPages.USER_SETTINGS,section:h.AnalyticsSections.SETTINGS_PREMIUM,object:h.AnalyticsObjects.CARD};function G(e){var t,a=e.subscription,d=e.renewalInvoicePreview,b=e.paymentSource,M=e.busy,C=e.analyticsLocation,D=(0,s.default)(u.default.SUBSCRIPTION_HEADER).analyticsLocations,G=function(){a.status!==h.SubscriptionStatusTypes.ACTIVE&&a.status!==h.SubscriptionStatusTypes.PAST_DUE||k()},k=function(){(0,g.openModalLazy)(L(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(58579),n.e(25306),n.e(66341)]).then(n.bind(n,466341));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return r.createElement(o,R({},e,{premiumSubscription:a,analyticsLocation:C,analyticsLocations:D}))}));case 5:case"end":return e.stop()}}),e)}))))},B=function(){(0,
f.default)({analyticsLocations:D,analyticsLocation:C,analyticsObject:w})},F=function(){if(null!=a&&null!=a.planIdFromItems){var e=p.default.get(a.planIdFromItems);if(null==e){U.info("Plan not fetched for plan id: "+a.planIdFromItems);return}var t=(0,T.getCurrencies)(e,null==b?void 0:b.id,!1),n=t.length>0?t[0]:a.currency,r=O.MultiCurrencyExperiment.getCurrentConfig({}).enabled,o=!1;(1!==t.length&&r||(null==b?void 0:b.id)!==a.paymentSourceId||!(0,T.planHasCurrency)(e.id,n,null==b?void 0:b.id))&&(null==b||(0,y.inPriceDeterminationExperiment)())||(o=!0);o?l.resubscribe(a,n,D,b):(0,f.default)({initialPlanId:a.planIdFromItems,analyticsLocations:D,analyticsLocation:C,analyticsObject:w})}},j=y.default.getPlanIdFromInvoice(a,d);if((0,c.isNoneSubscription)(j))return null;var x=y.default.getStatusFromInvoice(a,d),H=y.default.getPremiumType(j),Y=((t={})[A.default.tier1]=H===h.PremiumTypes.TIER_1,t[A.default.tier2]=H===h.PremiumTypes.TIER_2,
t[A.default.canceled]=x===h.SubscriptionStatusTypes.CANCELED,t[A.default.failedPayment]=(0,y.isSubscriptionStatusFailedPayment)(x),t);return P("div",{className:(0,o.default)(A.default.banner,Y)},void 0,P("div",{className:A.default.bannerBackgroundImage}),P("div",{className:A.default.detailsContainer},void 0,P("div",{className:A.default.image}),P("div",{className:A.default.details},void 0,H===h.PremiumTypes.TIER_2?P(E.default,{className:A.default.planName,"aria-label":N.default.Messages.PREMIUM_TITLE}):r.createElement(r.Fragment,null,P(_.default,{className:A.default.discordWordmark,"aria-label":N.default.Messages.PREMIUM_TIER_1}),P("div",{className:A.default.classicWordmark})),function(e){(0,i.default)(null!=d,"Expected renewalInvoicePreview");return P("div",{className:A.default.planInfo},void 0,(0,y.getPlanDescriptionFromInvoice)({planId:e,subscription:a,renewalInvoicePreview:d}))}(j))),P("div",{className:A.default.buttons},void 0,function(){var e=a.status;if(a.isPurchasedExternally){
var t=(0,y.getExternalSubscriptionMethodUrl)(a.paymentGateway,"SUBSCRIPTION_MANAGEMENT");return P(v.default,{href:t,useDefaultUnderlineStyles:!1},void 0,P(m.default,{className:(0,o.default)(A.default.toolsButton,A.default.externalButton),size:m.default.Sizes.SMALL,look:m.ButtonLooks.OUTLINED,color:m.ButtonColors.WHITE,submitting:M},void 0,N.default.Messages.BILLING_MANAGE_SUBSCRIPTION))}if(y.default.isBaseSubscriptionCanceled(a))return P(m.default,{className:A.default.toolsButton,size:m.default.Sizes.SMALL,look:m.ButtonLooks.INVERTED,color:m.ButtonColors.BRAND,submitting:M,onClick:F},void 0,N.default.Messages.RESUBSCRIBE);if(e===h.SubscriptionStatusTypes.ACTIVE||e===h.SubscriptionStatusTypes.PAST_DUE){var n=!1,i=null;if(null!=a.renewalMutations){n=!0;i=a.renewalMutations.planId!==a.planId?N.default.Messages.PREMIUM_SWITCH_PLAN_DISABLED_PENDING_MUTATION_PLAN:N.default.Messages.PREMIUM_SWITCH_PLAN_DISABLED_PENDING_MUTATION_PREMIUM_GUILD_SUBSCRIPTION}if(null!=a.trialEndsAt){n=!0
;i=N.default.Messages.PREMIUM_SWITCH_PLAN_DISABLED_IN_TRIAL}e===h.SubscriptionStatusTypes.PAST_DUE&&(n=!0);return P("div",{className:A.default.toolsButtons},void 0,P(m.default,{className:A.default.toolsButton,size:m.default.Sizes.SMALL,look:m.ButtonLooks.LINK,color:m.ButtonColors.WHITE,submitting:M,onClick:G},void 0,N.default.Messages.CANCEL),P(S.default,{text:i},void 0,(function(e){return r.createElement(I.default,R({},e,{disabled:n,className:A.default.toolsButton,onClick:B}),N.default.Messages.PREMIUM_SWITCH_PLANS)})))}}()))}G.displayName="SubscriptionHeader";var k=G;t.default=k},337309:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.subscription,a=e.onPaymentSourceAdded,y=e.highlightAddPaymentMethodButton,T=e.dropdownClassName,O=e.analyticsLocation,h=e.currentInvoicePreview,A=(0,l.useStateFromStores)([m.default],(function(){return m.default.hidePersonalInformation})),U=x((0,l.useStateFromStoresArray)([S.default],(function(){
return[S.default.paymentSources,S.default.hasFetchedPaymentSources]})),2),w=U[0],G=U[1],F=(0,v.useSubscriptionPlansLoaded)((0,M.getSubscriptionSKUs)(t)),H=(0,p.default)().analyticsLocations,V=r.useMemo((function(){return Object.values(w).filter((function(e){return!e.invalid}))}),[w]),K=x(r.useState(!1),2),z=K[0],Q=K[1],$=x(r.useState(t.currency),2),q=$[0],X=$[1],Z=function(){var e=j(regeneratorRuntime.mark((function e(n,a){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t&&(null!=n||(0,N.inPriceDeterminationExperiment)())){e.next=2;break}throw Error("missing subscription and paymentSource");case 2:if(null!=n){e.next=7;break}e.next=5;return s.changeSubscriptionCurrency(t,a,H,O);case 5:e.next=9;break;case 7:e.next=9;return s.changePaymentSource(t,n,a,H,O);case 9:Q(!1);X(a);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),J=function(){var e=j(regeneratorRuntime.mark((function e(n,a,r){var o
;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=n||(0,N.inPriceDeterminationExperiment)()){e.next=2;break}throw Error("PaymentSource required");case 2:Q(!0);e.next=5;return(0,C.updateSubscriptionInvoicePreview)({subscriptionId:t.id,paymentSourceId:null==n?void 0:n.id,renewal:!0,currency:a});case 5:o=e.sent;h.currency!==o.currency||h.currency===o.currency&&h.total!==o.total?W(o,(function(){r(n,a);if(!(0,N.inPriceDeterminationExperiment)()){(0,i.default)(null!=n,"paymentSource required");(0,d.fetchPremiumSubscriptionPlans)(n.country,n.id)}}),(function(){Q(!1)})):r(n,a);case 7:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),ee=function(e){var n=E.default.get(t.planIdForCurrencies);(0,i.default)(null!=e,"paymentSource not specified for change");(0,i.default)(null!=n,"Unable to fetch plan");var a=(0,b.getCurrencies)(n.id,e.id,!1);return a.length>0?a[0]:P.CurrencyCodes.USD},te=function(e){
null!=e&&J(e,ee(e),Z)},ne=function(e){(0,b.fetchSubscriptionPlansOnNewPaymentSource)(e.id,(0,M.getSubscriptionSKUs)(t)).then((function(){J(e,ee(e),Z)}));"function"==typeof a&&a(e.id)},ae=function(){(0,I.openModalLazy)(j(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(78833),n.e(46277),n.e(85190),n.e(72024)]).then(n.bind(n,58838));case 2:t=e.sent;a=t.default;return e.abrupt("return",(function(e){return r.createElement(a,B({},e,{onAddPaymentSource:ne,analyticsLocation:O}))}));case 5:case"end":return e.stop()}}),e)}))),{onCloseCallback:function(){(0,u.clearError)()}})};if(t.isPurchasedExternally)return function(e){(0,i.default)(null!=e.paymentGateway,"Expected payment gateway when managed externally");var t=(0,N.getExternalSubscriptionMethodUrl)(e.paymentGateway,"PAYMENT_SOURCE_MANAGEMENT");return k(_.default,{href:t,useDefaultUnderlineStyles:!1,
className:D.default.externalLink},void 0,k(g.default,{fullWidth:!0,look:g.default.Looks.FILLED,color:g.default.Colors.PRIMARY},void 0,R.default.Messages.BILLING_MANAGE_BILLING))}(t);if(G&&F){if(V.length>0){var re=E.default.get(t.planIdForCurrencies);(0,i.default)(null!=re,"Unable to fetch plan");var oe=(0,b.getCurrencies)(re,t.paymentSourceId,!1);return r.createElement(r.Fragment,null,(ie=t.paymentSourceId,k(c.default,{prependOption:null==ie?{label:R.default.Messages.ATTACH_PAYMENT_SOURCE_PROMPT_OPTION,value:null}:null,className:T,paymentSources:V,hidePersonalInformation:A,selectedPaymentSourceId:ie,onChange:te,onPaymentSourceAdd:ae,dropdownLoading:z})),k(f.CurrencyWrapper,{currencies:oe},void 0,k("div",{className:(0,o.default)(D.default.currency,L.default.flex,L.default.alignCenter)},void 0,k("div",{},void 0,R.default.Messages.PAYMENT_CURRENCY_PAYING_IN),k(f.default,{className:D.default.currencyDropdown,selectedCurrency:q,currencies:oe,onChange:function(e){J(void 0,e,Z)}}))))}
return k(g.default,{fullWidth:!0,look:g.default.Looks.FILLED,color:y?g.default.Colors.BRAND:g.default.Colors.PRIMARY,onClick:ae},void 0,R.default.Messages.BILLING_ADD_PAYMENT_METHOD)}return Y;var ie};var a,r=G(n(667294)),o=U(n(294184)),i=U(n(441143)),l=n(536211),u=n(653906),s=G(n(304836)),d=n(856259),f=G(n(225585)),c=U(n(779111)),p=U(n(37039)),v=n(547855),m=U(n(663303)),S=U(n(748826)),E=U(n(909584)),_=U(n(151097)),g=U(n(956117)),y=U(n(80828)),T=n(645758),O=U(n(502197)),I=n(194322),h=U(n(550270)),N=n(838583),A=n(243277),b=n(298104),M=n(156849),C=n(511217),P=n(770348),R=U(n(247001)),D=U(n(778916)),L=U(n(3066));function U(e){return e&&e.__esModule?e:{default:e}}function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}function G(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e)
;var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}function k(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function B(){B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return B.apply(this,arguments)}function F(e,t,n,a,r,o,i){try{var l=e[o](i),u=l.value}catch(e){n(e);return}
l.done?t(u):Promise.resolve(u).then(a,r)}function j(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){F(o,a,r,i,l,"next",e)}function l(e){F(o,a,r,i,l,"throw",e)}i(void 0)}))}}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done);i=!0){o.push(a.value);if(t&&o.length===t)break}}catch(e){l=!0;r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var Y=k(y.default,{});var V=function(e){var t=e.modalProps,n=e.onConfirm,a=e.onCancel,o=e.newInvoice,i={newCurrencyAndPrice:(0,A.formatPrice)(o.total,o.currency),helpCenterLink:h.default.getArticleURL(P.HelpdeskArticles.LOCALIZED_PRICING)};return r.createElement(O.default,B({header:R.default.Messages.BILLING_CONFIRM_PRICE_CHANGE_TITLE,confirmText:R.default.Messages.YES_TEXT,cancelText:R.default.Messages.NO_TEXT,onConfirm:n,onCancel:a,confirmButtonColor:g.default.Colors.BRAND},t),k(T.Text,{variant:"text-md/normal"},void 0,R.default.Messages.LOCALIZED_PRICING_ON_CHANGE_PAYMENT_METHOD.format(i)))};V.displayName="ConfirmPriceChangeModal";var W=function(e,t,n){(0,I.openModal)((function(a){return k(V,{newInvoice:e,onConfirm:t,
onCancel:n,modalProps:a})}),{onCloseRequest:function(){return!1}})}},986495:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=U;var a,r=b(n(667294)),o=N(n(294184)),i=N(n(441143)),l=n(536211),u=n(832635),s=N(n(954140)),d=N(n(37039)),f=n(232759),c=N(n(871778)),p=N(n(909584)),v=N(n(151097)),m=N(n(956117)),S=N(n(530250)),E=n(688388),_=N(n(417184)),g=b(n(3400)),y=b(n(838583)),T=n(243277),O=n(770348),I=N(n(247001)),h=N(n(210912));function N(e){return e&&e.__esModule?e:{default:e}}function A(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(A=function(e){return e?n:t})(e)}function b(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=A(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done);i=!0){o.push(a.value);if(t&&o.length===t)break}}catch(e){l=!0;r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){
(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function P(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function R(e,t,n,a,r,o,i){try{var l=e[o](i),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(a,r)}function D(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){R(o,a,r,i,l,"next",e)}function l(e){R(o,a,r,i,l,"throw",e)}i(void 0)}))}}function L(e){var t=e.subscription,n=e.renewalMutations,a=e.transitionState,r=e.onClose,o=e.analyticsLocation,v=(0,l.useStateFromStores)([c.default],(function(){
return c.default.theme})),_=(0,d.default)(s.default.SUBSCRIPTION_CANCEL_DOWNGRADE_MODAL).analyticsLocations;function N(){return(N=D(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return(0,u.upgradeSubscription)(t,t.planId,_,o);case 2:r();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var A=p.default.get(t.planId);(0,i.default)(null!=A,"Missing subscriptionPlan");var b=(0,y.getPrice)(t.planId,!1,!1,{paymentSourceId:t.paymentSourceId,currency:t.currency}),M=(0,T.formatRate)((0,T.formatPrice)(b.amount,b.currency),A.interval,A.intervalCount);return P(g.ModalRoot,{transitionState:a,"aria-label":I.default.Messages.PREMIUM_PENDING_PLAN_CHANGE_CANCEL_HEADER},void 0,P(g.ModalHeader,{justify:S.default.Justify.BETWEEN,separator:!1},void 0,P(E.FormTitle,{tag:E.FormTitleTags.H4},void 0,I.default.Messages.PREMIUM_PENDING_PLAN_CHANGE_CANCEL_HEADER),P(g.ModalCloseButton,{onClick:r})),P(g.ModalContent,{
className:h.default.modalBody},void 0,(0,f.isNoneSubscription)(t.planId)?I.default.Messages.PREMIUM_PENDING_PLAN_CHANGE_CANCEL_BODY_NO_EXISTING_PLAN.format({downgradedPlan:y.default.getDisplayName(n.planId),existingRate:M}):I.default.Messages.PREMIUM_PENDING_PLAN_CHANGE_CANCEL_BODY.format({existingPlan:y.default.getDisplayName(t.planId),downgradedPlan:y.default.getDisplayName(n.planId),existingRate:M})),P(g.ModalFooter,{},void 0,P(m.default,{onClick:function(){return N.apply(this,arguments)}},void 0,I.default.Messages.PREMIUM_PENDING_PLAN_CHANGE_CANCEL_BUTTON),P(m.default,{look:m.default.Looks.LINK,color:v===O.ThemeTypes.LIGHT?m.default.Colors.PRIMARY:m.default.Colors.WHITE,onClick:r},void 0,I.default.Messages.NEVERMIND)))}L.displayName="SubscriptionCancelDowngradeModal";function U(e){var t=e.subscription,n=e.renewalMutations,a=e.className,i=e.analyticsLocation,l=M(r.useState(!1),2),u=l[0],s=l[1];return P("div",{className:(0,o.default)(h.default.root,a)},void 0,P(_.default,{
className:h.default.infoIcon}),P("div",{className:h.default.text},void 0,I.default.Messages.PREMIUM_PENDING_PLAN_CHANGE_NOTICE.format({planName:t.hasExternalPlanChange?(0,y.getExternalPlanDisplayName)(n):y.default.getDisplayName(n.planId),date:t.currentPeriodEnd})),t.isPurchasedExternally?null:P(v.default,{onClick:function(e){s(!0);e.preventDefault()},className:h.default.cancelLink},void 0,I.default.Messages.CANCEL),u?P(g.default,{renderModal:function(e){var a=e.transitionState;return P(L,{subscription:t,renewalMutations:n,transitionState:a,onClose:function(){return s(!1)},analyticsLocation:i})},onCloseRequest:function(){return s(!1)}}):null)}U.displayName="SubscriptionRenewalMutationNotice"},225249:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var a,r=B(n(667294)),o=G(n(294184)),i=n(536211),l=G(n(636602)),u=B(n(832635)),s=n(233271),d=n(851792),f=n(856259),c=G(n(226800)),p=G(n(524791)),v=n(547855),m=G(n(45738)),S=G(n(252730)),E=G(n(663303)),_=G(n(516818)),g=G(n(697952)),y=G(n(748826)),T=G(n(146771)),O=G(n(47969)),I=G(n(558402)),h=G(n(530250)),N=G(n(562475)),A=G(n(80828)),b=n(688388),M=G(n(838583)),C=G(n(526889)),P=G(n(322423)),R=B(n(588398)),D=n(770348),L=n(840433),U=G(n(247001)),w=G(n(162652));function G(e){return e&&e.__esModule?e:{default:e}}function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}function B(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}function F(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function j(){return F(I.default,{className:w.default.noItemsCard,type:I.default.Types.CUSTOM},void 0,F(h.default,{align:h.default.Align.CENTER},void 0,F(N.default,{game:null,size:N.default.Sizes.SMALL,className:w.default.noItemsIcon}),F("span",{className:w.default.cardText},void 0,U.default.Messages.USER_SETTINGS_NO_SUBSCRIPTION_CREDIT)))}j.displayName="NoAccountCredit";var x=F(j,{});function H(){var e=(0,i.useStateFromStores)([O.default],(function(){
return O.default.getForApplication(D.PREMIUM_SUBSCRIPTION_APPLICATION)}));r.useEffect((function(){(0,d.fetchUserEntitlementsForApplication)(D.PREMIUM_SUBSCRIPTION_APPLICATION)}),[]);return F("section",{className:w.default.sectionAccountCredit},void 0,F(b.FormTitle,{className:w.default.accountCreditTitle,tag:b.FormTitleTags.H1},void 0,U.default.Messages.BILLING_SUBSCRIPTION_CREDIT),F("p",{className:w.default.accountCreditDescription},void 0,U.default.Messages.BILLING_ACCOUNT_CREDIT_DESCRIPTION),null!=e&&M.default.hasAccountCredit(e)?F(C.default,{className:w.default.accountCredit,entitlements:e}):x)}H.displayName="AccountCredit";var Y=F(p.default,{}),V=F(A.default,{}),W=F(H,{});function K(){var e=(0,i.useStateFromStores)([T.default],(function(){return T.default.getPremiumTypeSubscription()})),t=(0,i.useStateFromStores)([y.default],(function(){return null!=e&&null!=e.paymentSourceId?y.default.getPaymentSource(e.paymentSourceId):null}),[e]),n=(0,
i.useStateFromStores)([T.default],(function(){return T.default.hasFetchedSubscriptions()})),a=(0,i.useStateFromStores)([g.default],(function(){return g.default.isBusy})),d=(0,v.useSubscriptionPlansLoaded)(),p=(0,i.useStateFromStores)([_.default],(function(){return _.default.getSubsection()}));r.useEffect((function(){l.default.wait((function(){(0,f.fetchPremiumSubscriptionPlans)();u.fetchSubscriptions();(0,s.fetchGuildBoostSlots)();u.fetchPaymentSources()}));return function(){c.default.clearSubsection()}}),[]);return E.default.enabled?Y:n&&d?p===L.ROLE_SUBSCRIPTION_SUBSECTION?F(S.default,{onGoBack:function(){return c.default.clearSubsection()}}):F("div",{className:w.default.container},void 0,F("div",{className:w.default.content},void 0,null!=e?F(R.default,{className:w.default.subscriptionDetails,subscription:e,paymentSource:t,busy:a}):F(R.SubscriptionDetailsEmpty,{className:w.default.subscriptionDetails}),F(m.default,{onClickManageSubscription:function(){
return c.default.setSection(D.UserSettingsSections.SUBSCRIPTIONS,L.ROLE_SUBSCRIPTION_SUBSECTION)}}),W,null!=e?F(P.default,{subscription:e,withOverheadSeparator:!1}):null)):F("div",{className:(0,o.default)(w.default.container,w.default.loading)},void 0,V)}K.displayName="Subscriptions";var z=K;t.default=z},96194:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=T;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}(n(667294)),o=n(536211),i=n(825185),l=m(n(816624)),u=m(n(956117)),s=m(n(730977)),d=m(n(41024)),f=n(194322),c=m(n(456701)),p=m(n(247001)),v=m(n(796339))
;function m(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function E(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(){_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return _.apply(this,arguments)}function g(e,t,n,a,r,o,i){try{var l=e[o](i),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(a,r)}function y(e){return function(){var t=this,n=arguments
;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){g(o,a,r,i,l,"next",e)}function l(e){g(o,a,r,i,l,"throw",e)}i(void 0)}))}}function T(e){var t=e.user,a=(0,o.useStateFromStores)([l.default],(function(){return l.default.getPendingAvatarDecoration()})),m=(0,o.useStateFromStores)([l.default],(function(){return l.default.getErrors()})).avatarDecoration,S=void 0===a?null!=t.avatarDecoration:null!=a;return E(c.default,{title:r.createElement(r.Fragment,null,p.default.Messages.USER_SETTINGS_AVATAR_DECORATION,E(s.default,{text:p.default.Messages.PROFILE_CUSTOMIZATION_NITRO_ICON_TOOLTIP},void 0,(function(e){return r.createElement(d.default,_({},e,{className:v.default.nitroWheel}))}))),errors:m},void 0,E("div",{className:v.default.buttonsContainer},void 0,E(u.default,{size:u.default.Sizes.SMALL,onClick:function(){(0,f.openModalLazy)(y(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2
;return Promise.all([n.e(40532),n.e(80381)]).then(n.bind(n,780381));case 2:t=e.sent;a=t.default;return e.abrupt("return",(function(e){return r.createElement(a,e)}));case 5:case"end":return e.stop()}}),e)}))))}},void 0,p.default.Messages.USER_SETTINGS_CHANGE_AVATAR_DECORATION),S&&E(u.default,{className:v.default.removeButton,color:u.default.Colors.PRIMARY,look:u.default.Looks.LINK,size:u.default.Sizes.SMALL,onClick:function(){var e=null==t.avatarDecoration?void 0:null;(0,i.setPendingAvatarDecoration)(e)}},void 0,p.default.Messages.USER_SETTINGS_REMOVE_AVATAR_DECORATION)))}T.displayName="AvatarDecorationsSection"},431676:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=A;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}(n(667294)),o=g(n(294184)),i=n(235234),l=g(n(213847)),u=g(n(16941)),s=n(876276),d=g(n(160629)),f=n(26172),c=n(645758),p=g(n(992193)),v=g(n(50867)),m=g(n(456701)),S=n(770348),E=g(n(247001)),_=g(n(371662));function g(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function T(){T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return T.apply(this,arguments)}function O(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done);i=!0){o.push(a.value);if(t&&o.length===t)break}}catch(e){l=!0;r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function N(e){return(null!=e?(0,i.getDarkness)(e):1)>.25}function A(e){var t,n,a=e.defaultAvatarColor,g=e.savedUserColor,y=e.pendingColor,h=e.setPendingAccentColor,A=I(r.useState(g),2),b=A[0],M=A[1],C=(0,l.default)(),P=null!==(t=(0,i.hex2int)(C===S.ThemeTypes.DARK?S.HEXColors.PRIMARY_DARK_600:S.HEXColors.WHITE))&&void 0!==t?t:0,R=void 0!==y&&null==y||null==y&&null==g;function D(){if(U===g)return h(void 0);h(U)}function L(e){h(e);M(e)}r.useEffect((function(){void 0===y&&M(g)}),[y,g]);var U=null!=b?b:P,w=U===P,G=N(U)?S.Colors.WHITE:S.Colors.PRIMARY_DARK_530,k=N(R?a:U)?S.Colors.WHITE:S.Colors.PRIMARY_DARK_530,B=O(p.default,{width:32,height:24,color:k}),F=(0,f.useRadioGroup)({orientation:"horizontal"}),j=(0,f.useRadioItem)({
isSelected:R,label:E.default.Messages.USER_SETTINGS_PROFILE_COLOR_DEFAULT_BUTTON.format({colorHex:(0,i.int2hex)(a)})}),x=(0,f.useRadioItem)({isSelected:!R,label:E.default.Messages.USER_SETTINGS_PROFILE_COLOR_CUSTOM_BUTTON.format({colorHex:(0,i.int2hex)(U)})});return O(m.default,{className:_.default.profileColorSection,title:E.default.Messages.USER_SETTINGS_PROFILE_COLOR},void 0,r.createElement("div",T({className:_.default.buttonsContainer,"aria-label":E.default.Messages.USER_SETTINGS_PROFILE_COLOR},F),O("div",{className:_.default.colorSwatch},void 0,r.createElement(u.default,T({onClick:function(){null==g&&void 0===y||h(null)}},j),O("div",{className:_.default.swatch,style:{backgroundColor:(0,i.int2hex)(a)}},void 0,R?B:null),O(c.Text,{className:_.default.swatchDescription,color:"header-secondary",variant:"text-xs/normal","aria-hidden":!0},void 0,E.default.Messages.USER_SETTINGS_PROFILE_COLOR_DEFAULT))),O("div",{className:_.default.colorSwatch},void 0,r.createElement(u.default,T({
onClick:D},x),O("div",{className:(0,o.default)(_.default.customSwatch,(n={},n[_.default.defaultSwatch]=w,n)),style:{backgroundColor:(0,i.int2hex)(U),borderColor:w?void 0:(0,i.int2hex)(U)}},void 0,R?null:B),O(c.Text,{className:_.default.swatchDescription,color:"header-secondary",variant:"text-xs/normal","aria-hidden":!0},void 0,E.default.Messages.USER_SETTINGS_PROFILE_COLOR_CUSTOM)),O(d.default,{onRequestOpen:D,renderPopout:function(e){return r.createElement(s.CustomColorPicker,T({},e,{value:U,onChange:L}))}},void 0,(function(e){return r.createElement(u.default,T({},e,{className:_.default.dropperIconButton,"aria-label":E.default.Messages.USER_SETTINGS_PROFILE_COLOR_SELECT_COLOR,focusProps:{offset:{bottom:45,left:45}}}),O(v.default,{className:_.default.dropperIcon,width:14,height:14,color:G}))})))))}A.displayName="ProfileColorSection"},355152:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){switch(e){
case r.SettingsOverrideReasonKeys.REDUCED_MOTION:return o.default.Messages.ACCESSIBILITY_REDUCED_MOTION_SETTINGS_OVERRIDE.format();case r.SettingsOverrideReasonKeys.REDUCED_MOTION_STICKERS:return o.default.Messages.STICKERS_AUTO_PLAY_HELP_DISABLED;default:return}};var a,r=n(130613),o=(a=n(247001))&&a.__esModule?a:{default:a}},294498:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.setSoundpack=function(e){r.default.track(i.AnalyticEvents.SOUNDPACK_UPDATED,{soundpack:e,previous_soundpack:o.default.getSoundpack()});a.default.dispatch({type:i.ActionTypes.SET_SOUNDPACK,soundpack:e})};var a=l(n(636602)),r=l(n(308920)),o=l(n(796608)),i=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}},754966:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=p;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e)
;var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a)}(n(667294));var a,r=n(536211),o=n(967965),i=d(n(329441)),l=n(294498),u=d(n(796608)),s=n(340038);function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e){
var t=e.className,n=(0,r.useStateFromStores)([u.default],(function(){return u.default.getSoundpack()})),a=i.default.useExperiment({}).allowSoundpacks;if(!a)return null;var d=a?(0,s.getSoundpackOptionsAprilFools2021)():[];return c(o.SingleSelect,{className:t,onChange:function(e){return(0,l.setSoundpack)(e)},value:n,options:d})}p.displayName="SoundpackSelect"},781900:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.fetchEmailSettings=function(){return p.apply(this,arguments)};t.updateEmailSetting=function(e,t){return v.apply(this,arguments)};t.updateMarketingEmailSettings=function(){return m.apply(this,arguments)};var a=n(47354),r=n(377371),o=s(n(636602)),i=s(n(351772)),l=n(969299),u=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return d.apply(this,arguments)}
function f(e,t,n,a,r,o,i){try{var l=e[o](i),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(a,r)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){f(o,a,r,i,l,"next",e)}function l(e){f(o,a,r,i,l,"throw",e)}i(void 0)}))}}function p(){return(p=c(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0;e.next=3;return i.default.get({url:u.Endpoints.EMAIL_SETTINGS,trackedActionData:{event:a.NetworkActionNames.EMAIL_SETTINGS_FETCH,properties:function(e){var t,n=null==e||null===(t=e.body)||void 0===t?void 0:t.initialized;return(0,r.exact)({initialized:n})}}});case 3:t=e.sent;o.default.dispatch({type:u.ActionTypes.EMAIL_SETTINGS_FETCH_SUCCESS,settings:t.body});e.next=10;break;case 7:e.prev=7;e.t0=e.catch(0);o.default.dispatch({type:u.ActionTypes.EMAIL_SETTINGS_FETCH_FAILURE});case 10:case"end":return e.stop()}}),e,null,[[0,7]])
})))).apply(this,arguments)}function v(){return(v=c(regeneratorRuntime.mark((function e(t,n){var r,l,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.default.dispatch({type:u.ActionTypes.EMAIL_SETTINGS_UPDATE,updates:(r={},r[t]=n,r)});e.prev=1;e.next=4;return i.default.patch({url:u.Endpoints.EMAIL_SETTINGS,body:{settings:{categories:(l={},l[t]=n,l)}},trackedActionData:{event:a.NetworkActionNames.EMAIL_SETTINGS_UPDATE,properties:{category:t,value:n}}});case 4:s=e.sent;o.default.dispatch({type:u.ActionTypes.EMAIL_SETTINGS_UPDATE_SUCCESS,settings:s.body});e.next=11;break;case 8:e.prev=8;e.t0=e.catch(1);o.default.dispatch({type:u.ActionTypes.EMAIL_SETTINGS_UPDATE_FAILURE});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function m(){return(m=c(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=l.MarketingEmailCategories.reduce((function(e,t){var n
;return d({},e,((n={})[t]=!1,n))}),{});o.default.dispatch({type:u.ActionTypes.EMAIL_SETTINGS_UPDATE,updates:t});e.prev=2;e.next=5;return i.default.patch({url:u.Endpoints.EMAIL_SETTINGS,body:{settings:{categories:t}},trackedActionData:{event:a.NetworkActionNames.EMAIL_SETTINGS_UPDATE,properties:{category:"marketing",value:!1}}});case 5:n=e.sent;o.default.dispatch({type:u.ActionTypes.EMAIL_SETTINGS_UPDATE_SUCCESS,settings:n.body});e.next=12;break;case 9:e.prev=9;e.t0=e.catch(2);o.default.dispatch({type:u.ActionTypes.EMAIL_SETTINGS_UPDATE_FAILURE});case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}},969299:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MarketingEmailCategories=t.EmailCategoriesList=t.EmailCategories=t.EMAILS_SUBSECTION=void 0;var a,r=(a=n(247001))&&a.__esModule?a:{default:a};var o;t.EMAILS_SUBSECTION="emails";t.EmailCategories=o;!function(e){e.COMMUNICATION="communication";e.SOCIAL="social";e.TIPS="tips"
;e.RECOMMENDATIONS_AND_EVENTS="recommendations_and_events";e.UPDATES_AND_ANNOUNCEMENTS="updates_and_announcements"}(o||(t.EmailCategories=o={}));var i=[o.TIPS,o.RECOMMENDATIONS_AND_EVENTS,o.UPDATES_AND_ANNOUNCEMENTS];t.MarketingEmailCategories=i;var l=[{category:o.COMMUNICATION,label:function(){return r.default.Messages.USER_SETTINGS_EMAIL_CATEGORY_COMMUNICATION},subLabel:function(){return r.default.Messages.USER_SETTINGS_EMAIL_CATEGORY_COMMUNICATION_SUBLABEL}},{category:o.SOCIAL,label:function(){return r.default.Messages.USER_SETTINGS_EMAIL_CATEGORY_SOCIAL},subLabel:function(){return r.default.Messages.USER_SETTINGS_EMAIL_CATEGORY_SOCIAL_SUBLABEL}},{category:o.UPDATES_AND_ANNOUNCEMENTS,label:function(){return r.default.Messages.USER_SETTINGS_EMAIL_CATEGORY_UPDATES_AND_ANNOUNCEMENTS},subLabel:function(){return r.default.Messages.USER_SETTINGS_EMAIL_CATEGORY_UPDATES_AND_ANNOUNCEMENTS_SUBLABEL}},{category:o.TIPS,label:function(){return r.default.Messages.USER_SETTINGS_EMAIL_CATEGORY_TIPS
},subLabel:function(){return r.default.Messages.USER_SETTINGS_EMAIL_CATEGORY_TIPS_SUBLABEL}},{category:o.RECOMMENDATIONS_AND_EVENTS,label:function(){return r.default.Messages.USER_SETTINGS_EMAIL_CATEGORY_RECOMMENDATIONS_AND_EVENTS},subLabel:function(){return r.default.Messages.USER_SETTINGS_EMAIL_CATEGORY_RECOMMENDATIONS_AND_EVENTS_SUBLABEL}}];t.EmailCategoriesList=l},526774:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getSMSBackupDisabledMessage=function(e){if(e.hasFlag(r.UserFlags.STAFF)||e.hasFlag(r.UserFlags.PARTNER))return o.default.Messages.MFA_SMS_DISABLED_PARTNER;if(null==e.email)return o.default.Messages.MFA_SMS_DISABLED_NO_EMAIL;return null};var a,r=n(770348),o=(a=n(247001))&&a.__esModule?a:{default:a}},278403:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getHumanReadableScope=function(e){var t;switch(e){case r.OAuth2Scopes.IDENTIFY:t=o.default.Messages.SCOPE_IDENTIFY;break;case r.OAuth2Scopes.EMAIL:
t=o.default.Messages.SCOPE_EMAIL;break;case r.OAuth2Scopes.CONNECTIONS:t=o.default.Messages.SCOPE_CONNECTIONS;break;case r.OAuth2Scopes.GUILDS:t=o.default.Messages.SCOPE_GUILDS;break;case r.OAuth2Scopes.GUILDS_JOIN:t=o.default.Messages.SCOPE_GUILDS_JOIN;break;case r.OAuth2Scopes.GUILDS_MEMBERS_READ:t=o.default.Messages.SCOPE_GUILDS_MEMBERS_READ;break;case r.OAuth2Scopes.GDM_JOIN:t=o.default.Messages.SCOPE_GDM_JOIN;break;case r.OAuth2Scopes.BOT:t=o.default.Messages.SCOPE_BOT;break;case r.OAuth2Scopes.RPC:t=o.default.Messages.SCOPE_RPC;break;case r.OAuth2Scopes.RPC_NOTIFICATIONS_READ:t=o.default.Messages.SCOPE_RPC_NOTIFICATIONS_READ;break;case r.OAuth2Scopes.RPC_VOICE_WRITE:t=o.default.Messages.SCOPE_RPC_VOICE_WRITE;break;case r.OAuth2Scopes.RPC_VOICE_READ:t=o.default.Messages.SCOPE_RPC_VOICE_READ;break;case r.OAuth2Scopes.RPC_ACTIVITIES_WRITE:t=o.default.Messages.SCOPE_RPC_ACTIVITIES_WRITE;break;case r.OAuth2Scopes.MESSAGES_READ:t=o.default.Messages.SCOPE_MESSAGES_READ;break
;case r.OAuth2Scopes.APPLICATIONS_BUILDS_UPLOAD:t=o.default.Messages.SCOPE_APPLICATIONS_BUILDS_UPLOAD;break;case r.OAuth2Scopes.APPLICATIONS_BUILDS_READ:t=o.default.Messages.SCOPE_APPLICATIONS_BUILDS_READ;break;case r.OAuth2Scopes.APPLICATIONS_STORE_UPDATE:t=o.default.Messages.SCOPE_APPLICATIONS_STORE_UPDATE;break;case r.OAuth2Scopes.APPLICATIONS_ENTITLEMENTS:t=o.default.Messages.SCOPE_APPLICATIONS_ENTITLEMENTS;break;case r.OAuth2Scopes.APPLICATIONS_COMMANDS:t=o.default.Messages.SCOPE_APPLICATIONS_COMMANDS;break;case r.OAuth2Scopes.APPLICATIONS_COMMANDS_UPDATE:t=o.default.Messages.SCOPE_APPLICATIONS_COMMANDS_UPDATE;break;case r.OAuth2Scopes.APPLICATIONS_COMMANDS_PERMISSIONS_UPDATE:t=o.default.Messages.SCOPE_APPLICATIONS_COMMANDS_PERMISSIONS_UPDATE;break;case r.OAuth2Scopes.ACTIVITIES_READ:t=o.default.Messages.SCOPE_ACTIVITIES_READ;break;case r.OAuth2Scopes.ACTIVITIES_WRITE:t=o.default.Messages.SCOPE_ACTIVITIES_WRITE;break;case r.OAuth2Scopes.RELATIONSHIPS_READ:
t=o.default.Messages.SCOPE_RELATIONSHIPS_READ;break;default:t=e}return t};var a,r=n(478036),o=(a=n(247001))&&a.__esModule?a:{default:a}},109061:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getBestMatches=function(e,t){var n=t.split(/\s+/g).filter((function(e){return""!==e}));if(0===n.length)return e;for(var a,i=[],l=o(e);!(a=l()).done;){for(var u,s=a.value,f=0,c=o(n);!(u=c()).done;){var p=u.value;d(s,p)&&(f+=1)}if(0!==f){null==i[f]&&(i[f]=[]);i[f].push(s)}}return(0,r.default)(i.filter((function(e){return void 0!==e})).reverse())};t.getEntries=function(e){return Array.from(Object.entries(e)).map((function(e){var t,n,a=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done);i=!0){o.push(a.value);if(t&&o.length===t)break}}catch(e){l=!0;r=e}finally{try{i||null==n.return||n.return()}finally{
if(l)throw r}}return o}}(t,n)||i(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return{id:a[0],experiment:a[1]}}))};t.getExperimentDateFromId=s;t.matchesDeep=d;t.sortEntries=function(e){return e.slice().sort((function(e,t){var n=s(e.id),a=s(t.id);if(null!=n&&null!=a){var r=a.localeCompare(n);if(0!==r)return r}return e.experiment.title.localeCompare(t.experiment.title)}))};var a,r=(a=n(385564))&&a.__esModule?a:{default:a};function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=i(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0;return function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}
function i(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var u=/^(\d{4}-\d{1,2})/;function s(e){var t=u.exec(e);return null!=t?t[1]:null}function d(e,t){if(Array.isArray(e))for(var n,a=o(e);!(n=a()).done;){if(d(n.value,t))return!0}else if("object"==typeof e&&null!==e)for(var r=0,i=Object.values(e);r<i.length;r++){if(d(i[r],t))return!0}else if("string"==typeof e&&e.toLowerCase().includes(t.toLowerCase()))return!0;return!1}},860238:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.censorEmail=function(e){var t=(o=e.split("@"),i=2,function(e){if(Array.isArray(e))return e}(o)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done);i=!0){o.push(a.value);if(t&&o.length===t)break}}catch(e){l=!0;r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}}(o,i)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);return"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?n(e,t):void 0}}(o,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=t[0],r=t[1];var o,i;return"*".repeat(a.length)+"@"+r};t.censorPhone=function(e){return""+"*".repeat(e.length-4)+e.slice(-4)};function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n]
;return a}},730146:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}(n(667294)),o=s(n(131795)),i=s(n(387316)),l=n(645758),u=s(n(696499));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(){var e,t,n=window.GLOBAL_ENV.RELEASE_CHANNEL,a=null===(e="fed11618df8012560e65c299fbcadbd8d7d9186c")?void 0:e.substring(0,7),s=null===i.default||void 0===i.default?void 0:i.default.remoteApp.getVersion(),d=null===o.default||void 0===o.default||null===(t=o.default.os)||void 0===t?void 0:t.toString(),c=null!=i.default?"("+i.default.os.release+")":null;return f("div",{className:u.default.info},void 0,f(l.Text,{tag:"span",className:u.default.line,variant:"text-xs/normal",color:"text-muted"},void 0,n," ","131246"," ",f("span",{className:u.default.versionHash},void 0,"(",a,")"))," ",null!=s?r.createElement(r.Fragment,null,f(l.Text,{tag:"span",className:u.default.line,variant:"text-xs/normal",color:"text-muted"
},void 0,"Host ",s)," "):null,null!=d?f(l.Text,{tag:"span",className:u.default.line,variant:"text-xs/normal",color:"text-muted"},void 0,d," ",c):null)}c.displayName="ClientDebugInfo"},321424:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=C;var a,r=T(n(667294)),o=n(536211),i=g(n(740852)),l=g(n(663303)),u=g(n(956117)),s=g(n(530250)),d=n(645758),f=g(n(279950)),c=n(688388),p=n(194322),v=T(n(308920)),m=n(281699),S=n(770348),E=g(n(247001)),_=g(n(219686));function g(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function T(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}function O(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function I(){I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return I.apply(this,arguments)}function h(e,t,n,a,r,o,i){try{var l=e[o](i),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(a,r)}function N(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){
var o=e.apply(t,n);function i(e){h(o,a,r,i,l,"next",e)}function l(e){h(o,a,r,i,l,"throw",e)}i(void 0)}))}}function A(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(e,a.key,a)}}function b(e,t){b=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return b(e,t)}var M=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;b(e,t)}(t,e);function t(){for(var t,a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];(t=e.call.apply(e,[this].concat(o))||this).state={codeInput:"",submitting:!1,hasError:!1,isPromoCode:!1};t.handleChange=function(e){t.setState({codeInput:e,hasError:!1})};t.handleSubmit=function(){var e=N(regeneratorRuntime.mark((function e(a){var o,l,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault();if(""!==(o=t.state.codeInput)){e.next=4;break}return e.abrupt("return");case 4:
if(null!=(l=(0,m.processGiftCodeInput)(o))){e.next=8;break}t.setState({hasError:!0});return e.abrupt("return");case 8:t.setState({submitting:!0});e.prev=9;e.next=12;return i.default.resolveGiftCode(l);case 12:if(null==(u=e.sent)||null==u.giftCode.promotion){e.next=16;break}t.setState({isPromoCode:!0});throw new Error("Cannnot redeem promotion code as gift");case 16:v.default.track(S.AnalyticEvents.OPEN_MODAL,{type:"gift_accept",location:I({},t.analyticsLocation,{object:S.AnalyticsObjects.BUTTON_CTA})});(0,p.openModalLazy)(N(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(9199)]).then(n.bind(n,109199));case 2:t=e.sent;a=t.default;return e.abrupt("return",(function(e){return r.createElement(a,I({code:l},e))}));case 5:case"end":return e.stop()}}),e)}))));t.setState({codeInput:""});e.next=24;break;case 21:e.prev=21;e.t0=e.catch(9);t.setState({hasError:!0});case 24:
e.prev=24;t.setState({submitting:!1});return e.finish(24);case 27:case"end":return e.stop()}}),e,null,[[9,21,24,27]])})));return function(t){return e.apply(this,arguments)}}();return t}t.prototype.render=function(){var e=this.props.obscureInput,t=this.state,n=t.codeInput,a=t.submitting,r=t.hasError,o=t.isPromoCode;return O(c.FormSection,{tag:c.FormTitleTags.H1,title:E.default.Messages.GIFT_INVENTORY_REDEEM_CODES},void 0,O(c.FormTitle,{},void 0,E.default.Messages.APPLICATION_ENTITLEMENT_CODE_REDEMPTION_PROMPT),O("form",{onSubmit:this.handleSubmit},void 0,O(s.default,{},void 0,O(f.default,{type:e?"password":"text",value:n,onChange:this.handleChange,placeholder:S.GIFT_CODE_REDEMPTION_PLACEHOLDER,error:!o&&r?E.default.Messages.APPLICATION_ENTITLEMENT_CODE_REDEMPTION_INVALID:null,className:_.default.codeRedemptionInput}),O(u.default,{type:"submit",submitting:a},void 0,E.default.Messages.APPLICATION_ENTITLEMENT_CODE_REDEMPTION_REDEEM))),o?O(d.Text,{className:_.default.errorMessage,
variant:"text-sm/normal"},void 0,E.default.Messages.APPLICATION_ENTITLEMENT_CODE_REDEMPTION_PROMOTION.format({promoLink:"https://discord.com/billing/promotions/"+n})):null)};!function(e,t,n){t&&A(e.prototype,t);n&&A(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"analyticsLocation",get:function(){return I({},this.props.analyticsContext.location,{object:S.AnalyticsObjects.BUTTON_CTA})}}]);return t}(r.Component);M.displayName="CodeRedemption";function C(){var e=r.useContext(v.AnalyticsContext),t=(0,o.useStateFromStores)([l.default],(function(){return l.default.enabled}));return O(M,{analyticsContext:e,obscureInput:t})}C.displayName="ConnectedCodeRedemption"},164697:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e)
;var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}(n(667294)),o=E(n(294184)),i=E(n(441143)),l=E(n(536211)),u=E(n(728429)),s=E(n(956117)),d=E(n(558402)),f=E(n(530250)),c=n(645758),p=n(194322),v=E(n(950445)),m=E(n(247001)),S=E(n(672103));function E(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function g(e,t,n,a,r,o,i){try{var l=e[o](i),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(a,r)}function y(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){g(o,a,r,i,l,"next",e)}function l(e){g(o,a,r,i,l,"throw",e)}i(void 0)}))}}function T(e,t,n,r){
a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function O(e,t){O=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return O(e,t)}var I=T(f.default.Child,{grow:0,shrink:0},void 0,T(v.default,{})),h=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;O(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var a=t.prototype;a.renderNotice=function(){var e=this.props,t=e.isClaimed,n=e.unclaimedNotice,a=e.unverifiedNotice;return t?null!=a?a:m.default.Messages.NOTICE_UNVERIFIED_ACCOUNT:null!=n?n:m.default.Messages.NOTICE_UNCLAIMED_ACCOUNT};a.renderPrimaryAction=function(){
return this.props.isClaimed?this.props.hasEmail?I:T(s.default,{size:s.default.Sizes.MEDIUM,color:s.default.Colors.BRAND,onClick:this.openChangeEmailModal},void 0,m.default.Messages.ADD_EMAIL_SHORT):T(f.default.Child,{grow:0,shrink:0},void 0,T(s.default,{size:s.default.Sizes.MEDIUM,color:s.default.Colors.BRAND,onClick:this.openClaimAccountModal},void 0,m.default.Messages.CLAIM_ACCOUNT))};a.renderSecondaryAction=function(){return this.props.isClaimed&&this.props.hasEmail?T(f.default.Child,{grow:0,shrink:0},void 0,T(s.default,{color:s.default.Colors.PRIMARY,look:s.default.Looks.LINK,onClick:this.openChangeEmailModal},void 0,m.default.Messages.CHANGE_EMAIL_SHORT)):null};a.openClaimAccountModal=function(){(0,p.openModalLazy)(y(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(41597)]).then(n.bind(n,304388));case 2:t=e.sent;a=t.default;return e.abrupt("return",(function(e){
return r.createElement(a,e)}));case 5:case"end":return e.stop()}}),e)}))))};a.openChangeEmailModal=function(){(0,p.openModalLazy)(y(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(92253)]).then(n.bind(n,592253));case 2:t=e.sent;a=t.default;return e.abrupt("return",(function(e){return r.createElement(a,e)}));case 5:case"end":return e.stop()}}),e)}))))};a.render=function(){var e=this.props,t=e.className,n=e.isClaimed,a=e.isVerified;return n&&a?null:T(d.default,{className:(0,o.default)(S.default.wrapper,t)},void 0,T(f.default,{align:f.default.Align.CENTER},void 0,T(f.default.Child,{className:S.default.image,grow:0,shrink:0}),T(f.default.Child,{},void 0,T(c.Text,{variant:"text-sm/normal"},void 0,this.renderNotice()),T(f.default,{justify:f.default.Justify.CENTER,className:S.default.content},void 0,this.renderPrimaryAction(),this.renderSecondaryAction()))))};return t
}(r.Component);h.displayName="EmailNotice";var N=l.default.connectStores([u.default],(function(){var e=u.default.getCurrentUser();(0,i.default)(null!=e,"EmailNotice: currentUser cannot be undefined");return{isClaimed:e.isClaimed(),isVerified:e.verified,hasEmail:null!=e.email}}))(h);t.default=N},39122:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a,r=L(n(667294)),o=R(n(730381)),i=R(n(536211)),l=n(91817),u=R(n(740852)),s=R(n(819660)),d=R(n(423046)),f=R(n(288356)),c=R(n(202904)),p=R(n(663303)),v=R(n(909584)),m=R(n(399561)),S=R(n(542618)),E=R(n(956117)),_=R(n(16941)),g=L(n(242881)),y=R(n(530250)),T=R(n(562475)),O=R(n(80828)),I=R(n(69405)),h=n(537683),N=n(281699),A=n(179495),b=n(770348),M=n(265517),C=R(n(247001)),P=R(n(801048));function R(e){return e&&e.__esModule?e:{default:e}}function D(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(D=function(e){return e?n:t})(e)}function L(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=D(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}function U(e,t,n,a,r,o,i){try{var l=e[o](i),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(a,r)}function w(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){U(o,a,r,i,l,"next",e)}function l(e){U(o,a,r,i,l,"throw",e)}i(void 0)}))}}function G(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(e,a.key,a)}}function k(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;B(e,t)}
function B(e,t){B=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return B(e,t)}function F(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function j(e){var t=e.giftStyle,n=e.shouldAnimate;return F(s.default,{giftStyle:t,className:P.default.seasonalGiftBox,shouldAnimate:n})}j.displayName="SeasonalAnimation";var x=function(e){k(t,e);function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];(t=e.call.apply(e,[this].concat(a))||this)._copyModeTimeout=new l.Timeout;t.state={copyMode:g.CopyInputModes.DEFAULT};t.handleCopy=function(e){var n=t.props,a=n.giftCode,r=n.sku;(0,
N.trackGiftCodeCopy)(a,r);try{(0,A.copy)(e);t.setState({copyMode:g.CopyInputModes.SUCCESS})}catch(e){t.setState({copyMode:g.CopyInputModes.ERROR})}t._copyModeTimeout.start(1e3,(function(){t.setState({copyMode:g.CopyInputModes.DEFAULT})}))};return t}var n=t.prototype;n.componentWillUnmount=function(){this._copyModeTimeout.stop()};n.handleRevoke=function(e){u.default.revokeGiftCode(e)};n.render=function(){var e=this,t=this.props,n=t.hideCode,a=t.giftCode,i=this.state.copyMode;return F(y.default,{direction:y.default.Direction.VERTICAL,className:P.default.giftCodeRow},void 0,F(g.default,{className:P.default.codeText,value:(0,N.getGiftCodeURL)(a.code),text:this.copyButtonText,mode:i,supportsCopy:A.SUPPORTS_COPY,hideMessage:n?C.default.Messages.GIFT_INVENTORY_HIDDEN:null,onCopy:this.handleCopy,buttonColor:g.default.ButtonColors.BRAND,buttonLook:g.default.ButtonLooks.FILLED}),F("div",{className:P.default.subTextRow
},void 0,null!=a.expiresAt?F(r.Fragment,{},void 0,C.default.Messages.GIFT_INVENTORY_EXPIRES_IN.format({hours:a.expiresAt.diff((0,o.default)(),"h")})," ",""):null,F(_.default,{tag:"a",onClick:function(){return e.handleRevoke(a.code)}},void 0,C.default.Messages.REVOKE)))};!function(e,t,n){t&&G(e.prototype,t);n&&G(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"copyButtonText",get:function(){switch(this.state.copyMode){case g.CopyInputModes.SUCCESS:return C.default.Messages.BILLING_GIFT_COPIED;case g.CopyInputModes.ERROR:return C.default.Messages.FAILED;default:return C.default.Messages.COPY}}}]);return t}(r.PureComponent);x.displayName="GiftCodeRow";var H=function(e){k(t,e);function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];(t=e.call.apply(e,[this].concat(a))||this)._loadedAt=null;t.state={isOpen:!1,isCreating:!1,isHovered:!1};t.handleGenerateGiftCode=function(){var e=w(regeneratorRuntime.mark((function e(n){var a,r,o,i
;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.stopPropagation();a=t.props,r=a.skuId,o=a.subscriptionPlanId,i=a.giftStyle;t.setState({isCreating:!0});e.next=5;return u.default.createGiftCode(r,o,i);case 5:t.setState({isCreating:!1,isOpen:!0});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.handleToggleOpen=function(){var e=t.props,n=e.skuId,a=e.subscriptionPlanId,r=e.loadedAt,o=!t.state.isOpen;(null==r||null==t._loadedAt||r<t._loadedAt)&&o&&u.default.fetchUserGiftCodesForSKU(n,a);t.setState({isOpen:!t.state.isOpen})};return t}var n=t.prototype;n.componentDidMount=function(){this._loadedAt=Date.now()};n.renderTitle=function(){var e,t=this.props,n=t.sku,a=t.subscriptionPlan,r=t.giftCodeBatchId
;e=r===M.BLACK_FRIDAY_2020_GIFT_CODE_BATCH_ID?C.default.Messages.BLACK_FRIDAY_PROMOTION_GIFT_INVENTORY_TITLE:r===M.STICKERS_GIFT_CODE_BATCH_ID&&null!=a?(a.interval===b.SubscriptionIntervalTypes.MONTH?C.default.Messages.STICKERS_GIFT_INVENTORY_TITLE_MONTH:C.default.Messages.STICKERS_GIFT_INVENTORY_TITLE_YEAR).format({skuName:n.name,intervalCount:a.intervalCount}):null==a?n.name:(a.interval===b.SubscriptionIntervalTypes.MONTH?C.default.Messages.GIFT_INVENTORY_SUBSCRIPTION_MONTHS:C.default.Messages.GIFT_INVENTORY_SUBSCRIPTION_YEARS).format({skuName:n.name,intervalCount:a.intervalCount});return F("div",{className:P.default.gameName},void 0,e)};n.renderGenerateGiftCodeRow=function(){return F(y.default,{justify:y.default.Justify.BETWEEN,align:y.default.Align.CENTER,className:P.default.generateCodeRow},void 0,F("div",{className:P.default.codeText},void 0,C.default.Messages.GIFT_INVENTORY_GENERATE_HELP),F(E.default,{submitting:this.state.isCreating,size:E.default.Sizes.SMALL,
color:E.default.Colors.BRAND,onClick:this.handleGenerateGiftCode},void 0,C.default.Messages.GIFT_INVENTORY_GENERATE_LINK))};n.setIsHovered=function(e){this.setState({isHovered:e})};n.render=function(){var e=this,t=this.props,n=t.entitlements,a=t.application,o=t.giftCodes,i=t.className,l=t.sku,u=t.isFetching,s=t.hideCodes,d=t.giftStyle,f=this.state.isOpen;return F(S.default,{className:i},void 0,F(_.default,{onClick:this.handleToggleOpen,className:P.default.card,onMouseEnter:function(){return e.setIsHovered(!0)},onMouseLeave:function(){return e.setIsHovered(!1)}},void 0,F(S.default.Header,{splashArtURL:a.getSplashURL(512)},void 0,F("div",{className:P.default.cardHeader},void 0,F(y.default,{align:y.default.Align.CENTER},void 0,null!=d?F(j,{giftStyle:d,shouldAnimate:this.state.isHovered}):F(T.default,{game:a,size:T.default.Sizes.MEDIUM,skuId:l.id}),F("div",{className:P.default.headerText},void 0,this.renderTitle(),F("div",{className:P.default.subTextHeader
},void 0,C.default.Messages.GIFT_INVENTORY_COPIES.format({copies:n.length})))),F(I.default,{direction:f?I.default.Directions.UP:I.default.Directions.DOWN,className:P.default.expandIcon})))),f?F(S.default.Body,{},void 0,u?F(O.default,{className:P.default.spinner}):F(r.Fragment,{},void 0,o.length<n.length?this.renderGenerateGiftCodeRow():null,o.map((function(e){return F(x,{giftCode:e,sku:l,hideCode:s},e.code)})))):null)};return t}(r.PureComponent);H.displayName="EntitlementGiftGroupCard";var Y=i.default.connectStores([m.default,p.default,c.default,f.default,v.default,d.default],(function(e){var t=e.skuId,n=e.subscriptionPlanId,a=e.giftStyle,r=m.default.get(t);if(null==r)throw new Error("SKU was unavailable while rendering gift.");var o=c.default.getForGifterSKUAndPlan(d.default.getId(),t,n).filter((function(e){return!e.isClaimed})).filter((function(e){return e.giftStyle===a}));return{sku:r,hideCodes:p.default.enabled,isFetching:c.default.getUserGiftCodesFetchingForSKUAndPlan(t,n),
loadedAt:c.default.getUserGiftCodesLoadedAtForSKUAndPlan(t,n),application:f.default.getGame(r.applicationId),subscriptionPlan:null!=n?(0,h.getOrFetchSubscriptionPlan)(n):null,giftCodes:o}}))(H);t.default=Y},379743:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=L(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a
}(n(667294)),o=D(n(294184)),i=D(n(496486)),l=D(n(730381)),u=n(536211),s=D(n(636602)),d=n(851792),f=D(n(226800)),c=D(n(213847)),p=D(n(268389)),v=n(462827),m=n(969082),S=D(n(113781)),E=D(n(288356)),_=D(n(47969)),g=D(n(956117)),y=n(772575),T=D(n(80828)),O=n(645758),I=n(688388),h=D(n(3400)),N=n(35033),A=n(281699),b=D(n(39122)),M=n(770348),C=n(265517),P=D(n(247001)),R=D(n(266958));function D(e){return e&&e.__esModule?e:{default:e}}function L(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(L=function(e){return e?n:t})(e)}function U(){U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return U.apply(this,arguments)}function w(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){
for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done);i=!0){o.push(a.value);if(t&&o.length===t)break}}catch(e){l=!0;r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function B(e){var t,n=e.outboundPromotion,a=e.code,i=e.addClaimedOutboundPromotionCode,u=G(r.useState(!1),2),s=u[0],d=u[1],f=G(r.useState(!1),2),m=f[0],E=f[1],_=function(){return d((function(e){return!e}))},T=(0,c.default)(),I=(0,v.getPromotionImageURL)(n.id,T),A=null!=a,b=A?(0,N.dateFormat)((0,l.default)(n.endDate).add(C.OUTBOUND_PROMOTION_REDEMPTION_EXPIRATION_WINDOW),"LL"):(0,N.dateFormat)((0,l.default)(n.endDate),"LL");A&&s?t=P.default.Messages.OUTBOUND_PROMOTION_CARD_CLAIMED_EXPANDED_BODY.format({endDate:b,onClickDetails:_}):A&&!s?t=P.default.Messages.OUTBOUND_PROMOTION_CARD_CLAIMED_UNEXPANDED_BODY.format({endDate:b,onClickDetails:_
}):!A&&s?t=P.default.Messages.OUTBOUND_PROMOTION_CARD_UNCLAIMED_EXPANDED_BODY.format({endDate:b,onClickDetails:_}):A||s||(t=P.default.Messages.OUTBOUND_PROMOTION_CARD_UNCLAIMED_UNEXPANDED_BODY.format({endDate:b,onClickDetails:_}));var M=A?P.default.Messages.OUTBOUND_PROMOTION_SEE_CODE:P.default.Messages.PROMOTION_CARD_ACTION_CLAIM,D=r.useCallback((function(){return E(!1)}),[]),L=n.outboundTitle,k=n.outboundTermsAndConditions;return r.createElement(r.Fragment,null,w("div",{className:(0,o.default)(R.default.skuCard,R.default.promotionCard)},void 0,w("div",{className:R.default.mainPromotionCardContainer},void 0,w("div",{className:R.default.promotionCardLeftContainer},void 0,w("div",{className:R.default.promotionIcon},void 0,w("img",{alt:"",src:I,className:R.default.promotionIconImage})),w("div",{},void 0,w(y.Heading,{variant:"heading-md/medium",level:3},void 0,L),w(O.Text,{variant:"text-sm/normal",color:"text-normal",className:R.default.promotionText},void 0,t))),w(g.default,{
color:g.default.Colors.BRAND,size:g.default.Sizes.SMALL,onClick:function(){return E(!0)}},void 0,M)),s&&w(O.Text,{className:R.default.promotionLegalese,variant:"text-xs/normal",color:"header-secondary"},void 0,p.default.parse(k,!1,{allowLinks:!0}))),m&&w(h.default,{renderModal:function(e){return r.createElement(S.default,U({},e,{onClose:D,onClaim:i,code:a,outboundPromotion:n}))},onCloseRequest:D}))}var F=function(){var e=(0,u.useStateFromStores)([E.default],(function(){return Boolean(E.default.lastFetched)})),t=(0,u.useStateFromStoresArray)([_.default],(function(){return _.default.getGiftable()})),n=G(i.default.partition(t,(function(e){return null==e.giftCodeBatchId})),2),a=n[0],o=n[1],l=i.default.groupBy(a,(function(e){return(0,A.makeComboId)(e.skuId,e.subscriptionPlanId,e.giftStyle)})),c=G(r.useState(!1),2),p=c[0],v=c[1];r.useEffect((function(){s.default.wait((function(){(0,d.fetchGiftableEntitlements)().then((function(){return v(!0)}))}))}),[]);var S,g,y,O,h,N,D=(0,
m.useOutboundPromotions)(),L=D.promotionsLoaded,U=D.activeOutboundPromotions,k=D.claimedEndedOutboundPromotions,F=D.claimedOutboundPromotionCodeMap,j=D.addClaimedOutboundPromotionCode;function x(){f.default.open(M.UserSettingsSections.PREMIUM)}return e&&p&&L?r.createElement(r.Fragment,null,(g=o.find((function(e){return e.giftCodeBatchId===C.BLACK_FRIDAY_2020_GIFT_CODE_BATCH_ID&&!e.consumed})),y=null!==(S=o.filter((function(e){return e.giftCodeBatchId===C.STICKERS_GIFT_CODE_BATCH_ID&&!e.consumed})))&&void 0!==S?S:[],O=G(i.default.partition(y,(function(e){return e.subscriptionPlanId===M.SubscriptionPlans.PREMIUM_YEAR_TIER_2})),2),h=O[0],N=O[1],w(I.FormSection,{tag:I.FormTitleTags.H1,title:U.length+k.length>0?P.default.Messages.GIFT_INVENTORY_YOUR_GIFTS:void 0},void 0,k.map((function(e){var t=e.code,n=e.promotion;return w(B,{outboundPromotion:n,code:t,addClaimedOutboundPromotionCode:j},n.id)})),U.map((function(e){return w(B,{outboundPromotion:e,code:F[e.id],
addClaimedOutboundPromotionCode:j},e.id)})),null!=g?w(b.default,{className:R.default.skuCard,skuId:g.skuId,subscriptionPlanId:g.subscriptionPlanId,entitlements:[g],giftCodeBatchId:C.BLACK_FRIDAY_2020_GIFT_CODE_BATCH_ID},(0,A.makeComboId)(g.skuId,g.subscriptionPlanId)):null,h.length>0?w(b.default,{className:R.default.skuCard,skuId:h[0].skuId,subscriptionPlanId:h[0].subscriptionPlanId,entitlements:h,giftCodeBatchId:C.STICKERS_GIFT_CODE_BATCH_ID},(0,A.makeComboId)(h[0].skuId,h[0].subscriptionPlanId)):null,N.length>0?w(b.default,{className:R.default.skuCard,skuId:N[0].skuId,subscriptionPlanId:N[0].subscriptionPlanId,entitlements:N,giftCodeBatchId:C.STICKERS_GIFT_CODE_BATCH_ID},(0,A.makeComboId)(N[0].skuId,N[0].subscriptionPlanId)):null)),w(I.FormSection,{tag:I.FormTitleTags.H1,title:P.default.Messages.GIFT_INVENTORY_GIFTS_YOU_PURCHASED},void 0,0===Object.keys(l).length?w("div",{className:R.default.emptyState},void 0,w("div",{className:R.default.emptyStateImage}),w("h2",{
className:R.default.emptyStateHeader},void 0,P.default.Messages.GIFT_INVENTORY_NO_GIFTS),w("p",{className:R.default.emptyStateSubtext},void 0,P.default.Messages.GIFT_INVENTORY_NO_GIFTS_SUBTEXT.format({onClick:x}))):i.default.keys(l).map((function(e){var t=(0,A.parseComboId)(e),n=t.skuId,a=t.subscriptionPlanId,r=t.giftStyle;return w(b.default,{className:R.default.skuCard,skuId:n,subscriptionPlanId:a,entitlements:l[e],giftStyle:r},e)})))):w(T.default,{className:R.default.loading})};t.default=F},243905:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=T;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}(n(667294)),o=n(536211),i=n(6505),l=n(645758),u=n(730977),s=n(688388),d=v(n(992193)),f=v(n(259530)),c=n(967965),p=v(n(639617));function v(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function S(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]
;if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done);i=!0){o.push(a.value);if(t&&o.length===t)break}}catch(e){l=!0;r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var g=S(s.FormDivider,{});function y(e){var t=e.hotspotLocation,n=E((0,o.useStateFromStoresArray)([i.HotspotStore],(function(){
return[i.HotspotStore.hasHotspot(t,!0),i.HotspotStore.getHotspotOverride(t)]})),2),a=n[0],l=n[1];return r.createElement(r.Fragment,null,S(s.FormItem,{title:t,className:p.default.hotspotSwitch},void 0,a?S(u.TooltipContainer,{className:p.default.iconContainer,element:"span",text:"Active"},void 0,S(d.default,{className:p.default.checkmark})):S(u.TooltipContainer,{className:p.default.iconContainer,element:"span",text:"Inactive"},void 0,S(f.default,{className:p.default.xmark})),S(c.SingleSelect,{className:p.default.overrideSelect,value:l,options:[{value:void 0,label:"No Override"},{value:!0,label:"Force Active"},{value:!1,label:"Force Inactive"}],onChange:function(e){return null!=e?(0,i.setHotspotOverride)(t,e):(0,i.clearHotspotOverride)(t)}})),g)}function T(e){var t=e.className;return S(s.FormSection,{title:"Hotspots",tag:s.FormTitleTags.H1,className:t},void 0,S(l.Text,{className:p.default.helpText,tag:"p",variant:"text-sm/normal"
},void 0,'All the "hotspots" in app, and their current status. Use the select menu to override them on or off.'),Object.keys(i.HotspotLocations).sort((function(e,t){return e.localeCompare(t)})).map((function(e){return S(y,{hotspotLocation:e},e)})))}T.displayName="HotspotConfiguration"},388988:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=D(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a
}(n(667294)),o=R(n(294184)),i=R(n(817673)),l=n(536211),u=n(832635),s=n(856259),d=R(n(954140)),f=R(n(37039)),c=R(n(849209)),p=n(547642),v=R(n(500985)),m=R(n(655205)),S=R(n(314182)),E=R(n(30098)),_=R(n(146771)),g=R(n(151097)),y=R(n(956117)),T=n(645758),O=R(n(279950)),I=R(n(730977)),h=n(688388),N=R(n(588417)),A=n(967965),b=n(770348),M=R(n(598022)),C=R(n(349748)),P=R(n(3066));function R(e){return e&&e.__esModule?e:{default:e}}function D(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(D=function(e){return e?n:t})(e)}function L(){L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return L.apply(this,arguments)}function U(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){
for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done);i=!0){o.push(a.value);if(t&&o.length===t)break}}catch(e){l=!0;r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return G(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var k=U(h.FormTitle,{},void 0,"Gift"),B=U(h.FormTitle,{},void 0,"Premium Select Plan"),F=U(h.FormTitle,{},void 0,"Boost"),j=U("div",{},void 0,"No Guild to boost"),x=U(h.FormTitle,{},void 0,U("div",{},void 0,"Standalone: Trial Promotion Redemption"),U(g.default,{href:"https://i.dis.gd/createPromo"},void 0,"How to create promotion")),H=U(h.FormTitle,{},void 0,"Standalone: Gift/Subscription Purchase"),Y=U(h.FormTitle,{},void 0,"Creator Revenue"),V=U(h.FormTitle,{},void 0,"Helpers");function W(){var e=w(r.useState(b.PremiumSubscriptionSKUs.TIER_2),2),t=e[0],n=e[1],a=w((0,l.useStateFromStoresArray)([E.default],(function(){return[E.default.getGuilds()]})),1)[0],g=w((0,l.useStateFromStoresArray)([_.default],(function(){
return[_.default.getPremiumSubscription()]})),1)[0],R=Object.values(a).map((function(e){return{value:e,label:e.name}})),D=w(r.useState(R.length>0?R[0].value:null),2),G=D[0],W=D[1],K=w(r.useState(""),2),z=K[0],Q=K[1],$=w(r.useState({plan_id:b.SubscriptionPlans.PREMIUM_MONTH_TIER_2,gift:"true"}),2),q=$[0],X=$[1],Z="true"!==q.gift&&null!=g,J=w(r.useState(R.length>0?R[0].value:null),2),ee=J[0],te=J[1],ne=(0,f.default)(d.default.PAYMENT_FLOW_TEST_PAGE),ae=ne.AnalyticsLocationProvider,re=ne.analyticsLocations;(0,p.useFetchListingsForGuild)(null==ee?void 0:ee.id);var oe=(0,p.useGroupListingsForGuild)(null==ee?void 0:ee.id),ie=r.useMemo((function(){return null==ee?[]:oe.filter((function(e){return null!=e.subscription_listings&&e.subscription_listings.map((function(e){return e.published})).includes(!0)}))}),[oe,ee]);return U(ae,{},void 0,U(h.FormSection,{title:"Payment Flow Modals",tag:h.FormTitleTags.H1},void 0,U(h.FormItem,{className:(0,o.default)(P.default.flex,M.default.formItem)
},void 0,k,U(A.SingleSelect,{value:t,options:[{value:b.PremiumSubscriptionSKUs.TIER_2,label:"nitro"},{value:b.PremiumSubscriptionSKUs.TIER_1,label:"nitro classic"}],onChange:function(e){return n(e)}}),U(S.default,{subscriptionTier:t,isGift:!0,premiumModalAnalyticsLocation:{},className:C.default.button})),U(N.default,{className:M.default.formDivider}),U(h.FormItem,{className:(0,o.default)(P.default.flex,M.default.formItem)},void 0,B,U(y.default,{onClick:function(){return(0,m.default)({analyticsLocations:re})}},void 0,"Select Plan")),U(N.default,{className:M.default.formDivider}),U(h.FormItem,{className:(0,o.default)(P.default.flex,M.default.formItem)},void 0,F,U(A.SingleSelect,{value:G,options:R,onChange:function(e){return W(e)}}),null!=G?U(c.default,{guild:G,analyticsLocation:{}}):j),U(N.default,{className:M.default.formDivider}),U(h.FormItem,{className:(0,o.default)(P.default.flex,M.default.formItem)},void 0,x,U(O.default,{placeholder:"Promotion Code",value:z,onChange:function(e){
return Q(e)}}),U(I.default,{text:"Need Promotion Code",shouldShow:z.length<1},void 0,(function(e){var t=e.onMouseEnter,n=e.onMouseLeave;return U(y.default,{disabled:z.length<1,onMouseEnter:t,onMouseLeave:n,onClick:function(){window.open(b.Routes.BILLING_PROMOTION_REDEMPTION(z))}},void 0,"Open Link")}))),U(N.default,{className:M.default.formDivider}),U(h.FormItem,{className:(0,o.default)(P.default.flex,M.default.formItem)},void 0,H,U(A.SingleSelect,{value:q.plan_id,options:[{value:b.SubscriptionPlans.PREMIUM_MONTH_TIER_1,label:"nitro classic"},{value:b.SubscriptionPlans.PREMIUM_MONTH_TIER_2,label:"nitro"}],onChange:function(e){return X((function(t){return L({},t,{plan_id:e})}))}}),U(A.SingleSelect,{value:q.gift,options:[{value:"true",label:"Gift"},{value:"false",label:"Not Gift"}],onChange:function(e){return X((function(t){return L({},t,{gift:e})}))}}),U(I.default,{text:"Already subscribed",shouldShow:Z},void 0,(function(e){var t=e.onMouseEnter,n=e.onMouseLeave;return U(y.default,{
onMouseLeave:n,onMouseEnter:t,disabled:Z,onClick:function(){window.open(b.Routes.BILLING_PREMIUM_SUBSCRIBE+"?"+i.default.stringify(L({},q)))}},void 0,"Open Link")}))),U(N.default,{className:M.default.formDivider}),U(h.FormItem,{className:(0,o.default)(P.default.flex,P.default.alignCenter,M.default.formItem)},void 0,Y,U(T.Text,{className:M.default.guildServerDescription,variant:"text-sm/normal"},void 0,"Premium Server Subscription For"),U(A.SingleSelect,{value:ee,options:R,onChange:function(e){return te(e)}})),null!=ee?U("div",{className:(0,o.default)(M.default.groupListings,P.default.flex)},void 0,ie.map((function(e){return e.subscription_listings_ids.map((function(t){return U(v.default,{guildId:ee.id,groupListingId:e.id,listingId:t},t)}))}))):null,U(N.default,{className:M.default.formDivider}),U(h.FormItem,{className:(0,o.default)(P.default.flex,M.default.formItem)},void 0,V,U(y.default,{onClick:function(){return(0,s.resetSubscriptionPlanData)()}
},void 0,"Reset SubscriptionPlanStore"),U(y.default,{onClick:function(){return(0,u.resetSubscriptionStore)()}},void 0,"Reset SubscriptionStore"))))}W.displayName="PaymentFlowModalTestPage";var K=W;t.default=K},950445:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}(n(667294)),o=m(n(441143)),i=m(n(536211)),l=m(n(939949)),u=m(n(88509)),s=m(n(728429)),d=m(n(956117)),f=n(645758),c=m(n(502197)),p=n(194322),v=m(n(247001));function m(e){return e&&e.__esModule?e:{default:e}}function S(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function E(){E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return E.apply(this,arguments)}function _(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(e,t){g=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return g(e,t)}var y=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;g(e,t)}(t,e);function t(){
for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];(t=e.call.apply(e,[this].concat(a))||this).state={isSendingVerificationEmail:!1};t.handleResendVerification=function(){var e=t.props,n=e.currentUser,a=e.onClick;null==a||a();t.setState({isSendingVerificationEmail:!0},(function(){l.default.verifyResend().then((function(){return(0,p.openModal)((function(e){return r.createElement(c.default,E({header:v.default.Messages.VERIFICATION_EMAIL_TITLE,confirmText:v.default.Messages.OKAY,confirmButtonColor:d.default.Colors.BRAND},e),_(f.Text,{variant:"text-md/normal"},void 0,v.default.Messages.VERIFICATION_EMAIL_BODY.format({email:n.email})))}))})).catch((function(e){var t=e.body,n=v.default.Messages.VERIFICATION_EMAIL_ERROR_BODY;null!=t&&t.email&&(n=t.email);(0,p.openModal)((function(e){return r.createElement(u.default,E({title:v.default.Messages.VERIFICATION_EMAIL_ERROR_TITLE,body:n},e))}))})).then((function(){return t.setState({isSendingVerificationEmail:!1})}))}))}
;return t}t.prototype.render=function(){var e=this.props,t=e.color,n=e.look,a=e.size;return _(d.default,{look:n,size:a,color:t,disabled:this.state.isSendingVerificationEmail,onClick:this.handleResendVerification},void 0,v.default.Messages.RESEND_VERIFICATION_EMAIL)};return t}(r.Component);y.displayName="ResendEmailVerificationButton";y.defaultProps={size:d.default.Sizes.MEDIUM,color:d.default.Colors.BRAND};var T=i.default.connectStores([s.default],(function(){var e=s.default.getCurrentUser();(0,o.default)(null!=e,"ResendEmailVerificationButton: currentUser cannot be undefined");return{currentUser:e}}))(y);t.default=T},815780:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=m;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a)}(n(667294));var a,r=f(n(805764)),o=f(n(151097)),i=f(n(877622)),l=f(n(170331)),u=f(n(637853)),s=n(770348),d=f(n(126436));function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v={offset:{top:-8}};function m(){return p("div",{
className:d.default.socialLinks},void 0,p(o.default,{target:"_blank",tabIndex:-1,rel:"author",title:"Twitter",href:(0,r.default)(s.LocalizedLinks.TWITTER),className:d.default.link,focusProps:v},void 0,p(u.default,{foreground:d.default.foreground,"aria-hidden":!0})),p(o.default,{target:"_blank",rel:"author",title:"Facebook",tabIndex:-1,href:s.SOCIAL_LINKS.FACEBOOK_URL,className:d.default.link,focusProps:v},void 0,p(i.default,{foreground:d.default.foreground,"aria-hidden":!0})),p(o.default,{target:"_blank",rel:"author",title:"Instagram",tabIndex:-1,href:s.SOCIAL_LINKS.INSTAGRAM_URL,className:d.default.link,focusProps:v},void 0,p(l.default,{foreground:d.default.foreground,"aria-hidden":!0})))}m.displayName="SocialLinks"},825541:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=D
;var a,r,o=N(n(667294)),i=n(536211),l=I(n(636602)),u=N(n(446637)),s=I(n(525917)),d=I(n(424099)),f=I(n(956117)),c=I(n(530250)),p=I(n(682473)),v=I(n(279950)),m=n(354479),S=n(688388),E=n(3400),_=n(967965),g=n(770348),y=I(n(247001)),T=I(n(253769)),O=I(n(380203));function I(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function N(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}function A(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function b(e,t,n,a,r,o,i){try{var l=e[o](i),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(a,r)}function M(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){b(o,a,r,i,l,"next",e)}function l(e){b(o,a,r,i,l,"throw",e)}i(void 0)}))}}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done);i=!0){o.push(a.value);if(t&&o.length===t)break}}catch(e){l=!0;r=e}finally{try{i||null==n.return||n.return()
}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}!function(e){e.LOCALHOST="localhost";e.PROXY="proxy"}(r||(r={}));function R(e,t,n){if(null==e)return null;switch(e){case r.LOCALHOST:return"https://localhost:"+t;case r.PROXY:return(0,s.default)(n)}}function D(e){var t=e.onClose,n=e.transitionState,a=(0,i.useStateFromStoresObject)([d.default],(function(){return{authorizedApplicationId:d.default.testModeApplicationId,
authorizationError:d.default.error,authorizing:d.default.isFetchingAuthorization}})),s=a.authorizedApplicationId,I=a.authorizationError,h=a.authorizing,N=C(o.useState(null!=s?s:""),2),b=N[0],P=N[1],D=C(o.useState("8080"),2),L=D[0],U=D[1],w=C(o.useState(r.LOCALHOST),2),G=w[0],k=w[1],B=(0,m.useUID)(),F=g.SNOWFLAKE_REGEX.test(b);o.useEffect((function(){return function(){return l.default.wait((function(){return u.resetError()}))}}),[]);function j(){return(j=M(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.resetError();n=R(G,L,b);e.next=4;return u.authorizeAndSetTestModeApplication(b,n);case 4:null!=e.sent&&t();case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var x=null!=s&&s===b,H=x?function(){u.reset();P("");k(null)}:function(){return j.apply(this,arguments)};return A(E.ModalRoot,{"aria-labelledby":B,transitionState:n},void 0,A(E.ModalHeader,{justify:c.default.Justify.BETWEEN,separator:!1
},void 0,A(S.FormTitle,{id:B,tag:S.FormTitle.Tags.H1,className:O.default.marginReset},void 0,y.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_MODAL_HEADER),A(E.ModalCloseButton,{onClick:t})),A(E.ModalContent,{className:T.default.modalContent},void 0,A(S.FormText,{className:O.default.marginBottom20,type:S.FormText.Types.DESCRIPTION},void 0,y.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_MODAL_BODY),null==I?null:A(p.default,{className:O.default.marginBottom20},void 0,I),A("form",{onSubmit:function(e){e.preventDefault();H()}},void 0,A(c.default,{direction:c.default.Direction.VERTICAL,align:c.default.Align.START},void 0,A(S.FormItem,{className:T.default.inputWrapper,title:y.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_PLACEHOLDER,required:!0},void 0,A(v.default,{value:b,maxLength:19,error:F?null:y.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_INVALID,onChange:function(e){P(e)},disabled:h})),A(S.FormItem,{className:T.default.inputWrapper,
title:y.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_ORIGIN_LABEL},void 0,A(_.SingleSelect,{isDisabled:!F||""===b,value:G,options:[{value:r.LOCALHOST,label:y.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_LOCALHOST_OPTION,key:"localhost"},{value:r.PROXY,label:y.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_PROXY_OPTION,key:"proxy"}],onChange:function(e){k(e)},placeholder:"URL Origin Type"})),G!==r.LOCALHOST?null:A(S.FormItem,{className:T.default.inputWrapper,title:y.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_PORT_NUMBER_LABEL,required:!0},void 0,A(v.default,{value:L,maxLength:5,onChange:function(e){return U(e)},disabled:h})),A(f.default,{submitting:h,type:"submit",disabled:!F||0===b.length||G===r.LOCALHOST&&0===L.length,color:x?f.default.Colors.RED:f.default.Colors.GREEN},void 0,x?y.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_CLEAR:y.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_ACTIVATE)))))}D.displayName="TextModeModal"},874364:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a,r=U(n(667294)),o=D(n(294184)),i=D(n(441143)),l=D(n(536211)),u=D(n(163521)),s=D(n(498811)),d=D(n(410671)),f=D(n(149342)),c=D(n(54725)),p=n(947472),v=D(n(753304)),m=D(n(728429)),S=D(n(151097)),E=U(n(956117)),_=D(n(789446)),g=D(n(16941)),y=D(n(530250)),T=n(688388),O=n(194322),I=n(135628),h=n(179495),N=n(526774),A=D(n(418082)),b=n(770348),M=n(52656),C=D(n(247001)),P=D(n(177056)),R=D(n(380203));function D(e){return e&&e.__esModule?e:{default:e}}function L(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(L=function(e){return e?n:t})(e)}function U(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=L(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}function w(){w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return w.apply(this,arguments)}function G(e,t,n,a,r,o,i){try{var l=e[o](i),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(a,r)}function k(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){G(o,a,r,i,l,"next",e)}function l(e){G(o,a,r,i,l,"throw",e)}i(void 0)}))}}function B(e,t){B=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return B(e,t)}function F(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function j(e){var t=e.code,n=t.code,a=t.consumed,o=n.substr(0,4)+"-"+n.substr(4),i=r.useRef(null),l=r.useCallback((function(e){if("c"===e.key&&e.metaKey&&h.SUPPORTS_COPY){var t;e.preventDefault();e.stopPropagation();(0,h.copy)(o);null==i||null===(t=i.current)||void 0===t||t.focus()}}),[o]);return F("li",{className:R.default.marginBottom20},void 0,F(g.default,{innerRef:i,className:P.default.backupCode,onKeyDown:l},void 0,F(_.default,{displayOnly:!0,readOnly:!0,className:P.default.codeCheckbox,value:a},void 0,F("span",{className:P.default.code},void 0,o))))}j.displayName="BackupCodeItem";var x=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;B(e,t)}(t,e);function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];(t=e.call.apply(e,[this].concat(a))||this).state={
revealed:!1,password:""};t.togglePhoneNumberVisibility=function(e){e.preventDefault();t.setState({revealed:!t.state.revealed})};t.handleDisableMFA=function(){u.default.disable()};t.generateBackupCodes=k(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=v.default.getVerificationKey();e.next=3;return u.default.confirmViewBackupCodes(t,!0);case 3:case"end":return e.stop()}}),e)})));t.sendMFABackupCodesVerificationKeyEmail=function(){(0,O.openModal)((function(e){return r.createElement(f.default,w({},e,{handleSubmit:function(e){return u.default.sendMFABackupCodesVerificationKeyEmail(e).then((function(){t.viewBackupCodes(e)}))},title:C.default.Messages.TWO_FA_VIEW_BACKUP_CODES_ENTER_PASSWORD,actionText:C.default.Messages.TWO_FA_BACKUP_CODES_NEXT_ACTION}))}))};t.viewBackupCodes=function(e){(0,O.openModal)((function(t){return r.createElement(d.default,w({},t,{handleSubmit:function(e){
return u.default.confirmViewBackupCodes(e,!1).then((function(){return t.onClose()}))},maxLength:8,title:C.default.Messages.TWO_FA_CONFIRM_VIEW_BACKUP_CODES_LABEL,label:C.default.Messages.TWO_FA_CONFIRM_VIEW_BACKUP_CODES_INPUT_LABEL,forceNoPlaceholder:!0,retryPrompt:C.default.Messages.TWO_FA_CONFIRM_VIEW_RESEND_EMAIL_PROMPT,retrySuccessMessage:C.default.Messages.TWO_FA_CONFIRM_VIEW_RESEND_EMAIL_SUCCESS,onRetry:function(){return u.default.sendMFABackupCodesVerificationKeyEmail(e)},actionText:C.default.Messages.TWO_FA_VIEW_CODES_SUBMIT,helpMessage:C.default.Messages.TWO_FA_CONFIRM_VIEW_BACKUP_CODES_BODY}))}))};t.getDownloadFileContents=function(){var e=t.props.backupCodes.map((function(e){var t=e.consumed,n=e.code;return"* "+n.substr(0,4)+"-"+n.substr(4)+" "+(t?"(used)":"")})).join("\r\n");return C.default.Messages.TWO_FA_DISCORD_BACKUP_CODES.format({email:t.props.currentUser.email})+"\r\n\r\n"+e};t.handleChangePhoneNumber=function(){t.openPhoneVerificationModal()}
;t.handleEnableSMS=function(){var e=function(){(0,O.openModal)((function(e){return r.createElement(f.default,w({},e,{handleSubmit:u.default.enableSMS,title:C.default.Messages.MFA_SMS_ENABLE}))}))};null==t.props.currentUser.phone?t.openPhoneVerificationModal({onAddedPhone:e}):e()};t.handleDisableSMS=function(){(0,O.openModal)((function(e){return r.createElement(f.default,w({},e,{handleSubmit:u.default.disableSMS,title:C.default.Messages.MFA_SMS_REMOVE}),C.default.Messages.MFA_SMS_CONFIRM_REMOVE_BODY)}))};return t}var a=t.prototype;a.maskPhoneNumber=function(e){return null==e?"":""+"*".repeat(e.length-4)+e.slice(-4)};a.renderMFASMS=function(){var e,t,n=this.state.revealed,a=this.props,r=a.currentUser,o=a.togglingSMS,i=null!=r.phone,l=r.hasFlag(b.UserFlags.MFA_SMS);if(i||l){var u=n?r.phone:this.maskPhoneNumber(r.phone);t=F(T.FormText,{type:T.FormText.Types.DESCRIPTION,className:R.default.marginBottom8},void 0,C.default.Messages.MFA_SMS_AUTH_CURRENT_PHONE.format({phoneNumber:u
}),F(S.default,{onClick:this.togglePhoneNumberVisibility,className:P.default.phoneRevealer},void 0,n?C.default.Messages.MFA_SMS_PHONE_NUMBER_HIDE:C.default.Messages.MFA_SMS_PHONE_NUMBER_REVEAL))}if(l)e=F(y.default,{className:i?"":R.default.marginTop8},void 0,F(E.default,{color:E.default.Colors.RED,look:E.default.Looks.OUTLINED,size:E.default.Sizes.SMALL,submitting:o,onClick:this.handleDisableSMS},void 0,C.default.Messages.MFA_SMS_REMOVE));else{var s=(0,N.getSMSBackupDisabledMessage)(r);e=F(y.default,{className:i?"":R.default.marginTop8},void 0,F(E.default,{onClick:this.handleEnableSMS,size:E.default.Sizes.SMALL,submitting:o,disabled:null!=s},void 0,null!=s?s:C.default.Messages.MFA_SMS_ENABLE),i?F(E.default,{onClick:this.handleChangePhoneNumber,color:E.default.Colors.PRIMARY,size:E.default.Sizes.SMALL,look:E.default.Looks.LINK},void 0,C.default.Messages.CHANGE_PHONE_NUMBER):null)}return F(T.FormSection,{className:R.default.marginTop40,title:C.default.Messages.MFA_SMS_AUTH
},void 0,F(T.FormText,{type:T.FormText.Types.DESCRIPTION},void 0,C.default.Messages.MFA_SMS_AUTH_SALES_PITCH),t,e)};a.renderEnabled=function(){var e,t=this.props.backupCodes,a=F(E.default,{onClick:this.sendMFABackupCodesVerificationKeyEmail,size:E.default.Sizes.SMALL},void 0,C.default.Messages.TWO_FA_VIEW_BACKUP_CODES);if(t.length>0){a=F(s.default,{fileContents:this.getDownloadFileContents,contentType:"text/plain",fileName:"discord_backup_codes.txt"},void 0,F(E.default,{size:E.default.Sizes.SMALL},void 0,C.default.Messages.TWO_FA_DOWNLOAD_CODES));var r=function(e){return e.map((function(e){return F(j,{code:e},e.code)}))};e=F(T.FormSection,{title:C.default.Messages.TWO_FA_BACKUP_CODES_LABEL},void 0,F(T.FormText,{type:T.FormText.Types.DESCRIPTION,className:R.default.marginBottom20},void 0,C.default.Messages.TWO_FA_BACKUP_CODES_BODY.format()),F(y.default,{},void 0,F(y.default.Child,{},void 0,F("ul",{className:P.default.checkboxGroup
},void 0,r(t.slice(0,t.length/2)))),F(y.default.Child,{},void 0,F("ul",{className:P.default.checkboxGroup},void 0,r(t.slice(t.length/2))))),F("div",{},void 0,F(E.default,{onClick:this.generateBackupCodes,look:E.ButtonLooks.LINK,size:E.ButtonSizes.MIN},void 0,C.default.Messages.TWO_FA_GENERATE_CODES)),F(T.FormDivider,{className:R.default.marginTop20}))}return F(T.FormSection,{},void 0,F(T.FormTitle,{className:(0,o.default)(P.default.isEnabled,R.default.marginTop4,R.default.marginBottom8)},void 0,F("img",{alt:"",className:(0,o.default)(P.default.lockIcon),src:n(392544)}),C.default.Messages.TWO_FA_ENABLED),F(T.FormText,{type:T.FormText.Types.DESCRIPTION,className:R.default.marginBottom20},void 0,C.default.Messages.TWO_FA_DESCRIPTION),F(y.default,{justify:y.default.Justify.START,className:R.default.marginBottom20},void 0,F(y.default.Child,{wrap:!0,grow:0},void 0,a),F(y.default.Child,{wrap:!0},void 0,F(E.default,{onClick:this.handleDisableMFA,size:E.default.Sizes.SMALL,
color:E.ButtonColors.RED,look:E.ButtonLooks.OUTLINED},void 0,C.default.Messages.TWO_FA_REMOVE))),e,this.renderMFASMS())};a.renderDisabled=function(){return F(T.FormSection,{title:C.default.Messages.TWO_FA},void 0,F(T.FormText,{type:T.FormText.Types.DESCRIPTION,className:R.default.marginBottom20},void 0,C.default.Messages.TWO_FA_SALES_PITCH),F(T.FormItem,{},void 0,F(E.default,{onClick:A.default.enableMFA,size:E.ButtonSizes.SMALL},void 0,C.default.Messages.TWO_FA_ENABLE)))};a.render=function(){var e=this.props.currentUser;return I.hasCrypto?e.verified?e.mfaEnabled?this.renderEnabled():this.renderDisabled():F(T.FormSection,{title:C.default.Messages.TWO_FA},void 0,F(T.FormText,{type:T.FormText.Types.DESCRIPTION},void 0,C.default.Messages.TWO_FA_NOT_VERIFIED)):F(T.FormSection,{title:C.default.Messages.TWO_FA},void 0,F(T.FormText,{type:T.FormText.Types.DESCRIPTION},void 0,C.default.Messages.TWO_FA_USE_DESKTOP_APP))};a.openPhoneVerificationModal=function(e){void 0===e&&(e={});(0,
O.openModal)((function(t){return r.createElement(c.default,w({reason:p.ChangePhoneReason.USER_SETTINGS_UPDATE},t,e))}),{modalKey:M.PHONE_VERIFICATION_MODAL_KEY})};return t}(r.PureComponent);x.displayName="TwoFactorAuth";var H=l.default.connectStores([m.default,v.default],(function(){var e=m.default.getCurrentUser();(0,i.default)(null!=e,"TwoFactorAuth: currentUser cannot be undefined");return{currentUser:e,togglingSMS:v.default.togglingSMS}}))(x);t.default=H},64721:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;t.getUserSettingsSections=function(e){return Te(e).filter((function(e){var t=e.section;return t!==c.SectionTypes.HEADER&&t!==c.SectionTypes.CUSTOM&&t!==c.SectionTypes.DIVIDER})).filter((function(e){return null==e.predicate||e.predicate()}))};var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=Se(t);if(n&&n.has(e))return n.get(e)
;var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a
}(n(667294)),o=n(536211),i=me(n(939949)),l=me(n(241165)),u=n(264720),s=me(n(226800)),d=me(n(284382)),f=me(n(898361)),c=n(826859),p=me(n(145371)),v=me(n(235879)),m=me(n(954140)),S=me(n(844784)),E=me(n(37039)),_=me(n(142721)),g=n(962119),y=me(n(101499)),T=n(653311),O=n(969082),I=me(n(137787)),h=me(n(225249)),N=me(n(776115)),A=me(n(635014)),b=me(n(816624)),M=me(n(516818)),C=me(n(871778)),P=me(n(314355)),R=me(n(81636)),D=n(645758),L=me(n(434663)),U=me(n(417184)),w=me(n(502197)),G=n(194322),k=n(864489),B=me(n(730146)),F=me(n(243905)),j=me(n(388988)),x=me(n(815780)),H=me(n(362979)),Y=me(n(371077)),V=me(n(299943)),W=me(n(556825)),K=me(n(835672)),z=me(n(24072)),Q=me(n(710033)),$=me(n(367865)),q=me(n(117944)),X=me(n(418415)),Z=me(n(122253)),J=me(n(913458)),ee=me(n(783949)),te=me(n(764422)),ne=me(n(720034)),ae=me(n(325539)),re=me(n(313900)),oe=me(n(394163)),ie=me(n(332798)),le=me(n(811030)),ue=me(n(541247)),se=me(n(547342)),de=me(n(954663)),fe=me(n(229024)),ce=n(770348),pe=me(n(247001)),ve=me(n(648670))
;function me(e){return e&&e.__esModule?e:{default:e}}function Se(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(Se=function(e){return e?n:t})(e)}function Ee(){Ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return Ee.apply(this,arguments)}function _e(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var ge=ue.default,ye=_e(L.default,{width:16,height:16});function Te(e){var t=e.premiumTrialCount,a=e.unseenGiftCount,o=e.showPrepaidPaymentPastDueWarning;return[{
section:c.SectionTypes.HEADER,label:pe.default.Messages.USER_SETTINGS},{section:ce.UserSettingsSections.ACCOUNT,label:pe.default.Messages.USER_SETTINGS_MY_ACCOUNT,ariaLabel:pe.default.Messages.USER_SETTINGS_MY_ACCOUNT,element:Y.default},{section:ce.UserSettingsSections.PROFILE_CUSTOMIZATION,label:pe.default.Messages.USER_SETTINGS_USER_PROFILE,ariaLabel:pe.default.Messages.USER_SETTINGS_USER_PROFILE,element:fe.default,notice:{store:b.default,element:de.default}},{section:ce.UserSettingsSections.PRIVACY_AND_SAFETY,label:pe.default.Messages.PRIVACY_AND_SAFETY,element:re.default},{section:ce.UserSettingsSections.AUTHORIZED_APPS,label:pe.default.Messages.AUTHORIZED_APPS,element:K.default},{section:ce.UserSettingsSections.CONNECTIONS,label:pe.default.Messages.CONNECTIONS,element:Q.default},{section:c.SectionTypes.DIVIDER},{section:c.SectionTypes.HEADER,label:pe.default.Messages.BILLING_SETTINGS},{section:ce.UserSettingsSections.PREMIUM,ariaLabel:pe.default.Messages.PREMIUM,
label:pe.default.Messages.PREMIUM,element:I.default,badgeCount:t},{section:ce.UserSettingsSections.GUILD_BOOSTING,label:pe.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_TITLE,element:ae.default},{section:ce.UserSettingsSections.SUBSCRIPTIONS,ariaLabel:pe.default.Messages.SUBSCRIPTIONS_TITLE,label:pe.default.Messages.SUBSCRIPTIONS_TITLE,icon:o?_e(U.default,{width:16,height:16,color:ce.Colors.STATUS_YELLOW}):null,element:h.default},{section:ce.UserSettingsSections.INVENTORY,label:pe.default.Messages.GIFT_INVENTORY,element:Z.default,badgeCount:a,ariaLabel:pe.default.Messages.GIFT_INVENTORY},{section:ce.UserSettingsSections.BILLING,label:pe.default.Messages.BILLING,element:z.default},{section:c.SectionTypes.DIVIDER},{section:c.SectionTypes.HEADER,label:pe.default.Messages.APP_SETTINGS},{section:ce.UserSettingsSections.APPEARANCE,label:pe.default.Messages.APPEARANCE,element:W.default},{section:ce.UserSettingsSections.ACCESSIBILITY,label:pe.default.Messages.ACCESSIBILITY,element:H.default},{
section:ce.UserSettingsSections.VOICE,label:pe.default.Messages.VOICE_AND_VIDEO,element:le.default,predicate:function(){return A.default.isSupported()}},{section:ce.UserSettingsSections.POGGERMODE,label:pe.default.Messages.POGGERMODE,ariaLabel:pe.default.Messages.POGGERMODE,element:y.default,predicate:g.poggermodeEnabled,icon:_e("img",{alt:"",src:n(20278),className:ve.default.poggermodeIcon})},{section:ce.UserSettingsSections.TEXT,label:pe.default.Messages.TEXT_AND_IMAGES,element:ie.default},{section:ce.UserSettingsSections.NOTIFICATIONS,label:pe.default.Messages.NOTIFICATIONS,element:te.default},{section:ce.UserSettingsSections.KEYBINDS,label:pe.default.Messages.KEYBINDS,element:J.default},{section:ce.UserSettingsSections.LOCALE,label:pe.default.Messages.LANGUAGE,element:ee.default},{section:ce.UserSettingsSections.WINDOWS,label:pe.default.Messages.USER_SETTINGS_WINDOWS_SETTINGS,element:ue.default,predicate:function(){return k.isPlatformEmbedded&&(0,k.isWindows)()}},{
section:ce.UserSettingsSections.LINUX,label:pe.default.Messages.USER_SETTINGS_LINUX_SETTINGS,element:ge,predicate:function(){return k.isPlatformEmbedded&&(0,k.isLinux)()}},{section:ce.UserSettingsSections.STREAMER_MODE,label:pe.default.Messages.STREAMER_MODE,element:oe.default},{section:ce.UserSettingsSections.ADVANCED,label:pe.default.Messages.SETTINGS_ADVANCED,element:V.default},{section:c.SectionTypes.DIVIDER},{section:c.SectionTypes.HEADER,label:pe.default.Messages.ACTIVITY_SETTINGS},{section:ce.UserSettingsSections.ACTIVITY_STATUS,label:pe.default.Messages.ACTIVITY_STATUS,element:q.default},{section:ce.UserSettingsSections.OVERLAY,label:pe.default.Messages.OVERLAY,element:ne.default,predicate:function(){return R.default.isSupported()||!1}},{section:c.SectionTypes.DIVIDER},{section:"changelog",onClick:function(){return l.default.showChangeLog()},label:pe.default.Messages.WHATS_NEW},{section:ce.UserSettingsSections.HYPESQUAD_ONLINE,label:pe.default.Messages.USER_SETTINGS_HYPESQUAD,
element:X.default},{section:ce.UserSettingsSections.EXPERIMENTS,label:"Experiments",element:se.default,predicate:function(){return N.default.isDeveloper}},{section:ce.UserSettingsSections.DEVELOPER_OPTIONS,label:"Developer Options",element:$.default,predicate:function(){return N.default.isDeveloper}},{section:ce.UserSettingsSections.HOTSPOT_OPTIONS,label:"Hotspot Options",element:F.default,predicate:function(){return N.default.isDeveloper}},{section:ce.UserSettingsSections.DISMISSIBLE_CONTENT_OPTIONS,label:"Dismissible Contents",element:_.default,predicate:function(){return N.default.isDeveloper}},{section:ce.UserSettingsSections.PAYMENT_FLOW_MODAL_TEST_PAGE,label:"Payment Flow Modals",element:j.default,predicate:function(){return N.default.isDeveloper}},{section:c.SectionTypes.DIVIDER},{section:"logout",onClick:function(){(0,G.openModal)((function(e){return r.createElement(w.default,Ee({header:pe.default.Messages.LOGOUT,confirmText:pe.default.Messages.LOGOUT,
cancelText:pe.default.Messages.CANCEL,onCancel:e.onClose,onConfirm:function(){return i.default.logout()}},e),_e(D.Text,{variant:"text-md/normal"},void 0,pe.default.Messages.USER_SETTINGS_CONFIRM_LOGOUT))}))},label:pe.default.Messages.LOGOUT,ariaLabel:pe.default.Messages.LOGOUT,icon:ye},{section:c.SectionTypes.DIVIDER},{section:c.SectionTypes.CUSTOM,element:x.default},{section:c.SectionTypes.CUSTOM,element:B.default}]}var Oe=r.forwardRef((function(){var e=(0,o.useStateFromStores)([C.default],(function(){return C.default.theme})),t=(0,o.useStateFromStores)([v.default],(function(){return v.default.darkSidebar?ce.ThemeTypes.DARK:void 0})),n=(0,o.useStateFromStores)([M.default],(function(){return M.default.getSection()})),a=(0,o.useStateFromStores)([M.default],(function(){return M.default.getProps().analyticsLocation})),i=(0,p.default)(n),l=(0,O.useUnseenOutboundPromotions)().length,c=(0,T.useIsPrepaidPaymentPastDue)(),_=(0,o.useStateFromStores)([P.default],(function(){
return P.default.getUnacknowledgedOffers(Object.keys(ce.SubscriptionTrials)).length})),g=(0,E.default)(m.default.USER_SETTINGS).AnalyticsLocationProvider;r.useEffect((function(){null!=n&&n!==i&&function(e,t,n){void 0===t&&(t=null);void 0===n&&(n=null);S.default.trackWithMetadata(ce.AnalyticEvents.SETTINGS_PANE_VIEWED,{settings_type:"user",origin_pane:t,destination_pane:e,source:n})}(n,null!=i?i:null,a)}),[n,i,a]);var y=r.useMemo((function(){return Te({premiumTrialCount:_,unseenGiftCount:l,showPrepaidPaymentPastDueWarning:c})}),[_,l,c]),I=r.useCallback((function(e){s.default.setSection(e)}),[]);return _e(g,{},void 0,_e(d.default,{root:!0,page:ce.AnalyticsPages.USER_SETTINGS},void 0,_e(f.default,{theme:e,title:pe.default.Messages.USER_SETTINGS,sidebarTheme:t,section:n,onSetSection:I,onClose:u.popLayer,sections:y})))}));t.default=Oe},362979:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=ie
;var a,r=$(n(667294)),o=z(n(294184)),i=z(n(496486)),l=n(536211),u=z(n(226800)),s=$(n(448549)),d=n(354575),f=z(n(235879)),c=z(n(79300)),p=n(178235),v=z(n(843314)),m=n(202929),S=z(n(551048)),E=n(907932),_=z(n(259890)),g=z(n(355152)),y=n(43247),T=z(n(91603)),O=$(n(956117)),I=z(n(558402)),h=z(n(789446)),N=z(n(530250)),A=z(n(960082)),b=z(n(26172)),M=z(n(118777)),C=z(n(567668)),P=n(645758),R=n(354479),D=n(688388),L=z(n(339759)),U=z(n(118138)),w=$(n(628551)),G=z(n(550270)),k=n(894826),B=z(n(175896)),F=n(770348),j=n(216287),x=n(289081),H=n(785992),Y=z(n(247001)),V=z(n(218863)),W=z(n(380203)),K=z(n(603008));function z(e){return e&&e.__esModule?e:{default:e}}function Q(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(Q=function(e){return e?n:t})(e)}function $(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=Q(t);if(n&&n.has(e))return n.get(e)
;var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}function q(){q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return q.apply(this,arguments)}function X(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done);i=!0){o.push(a.value);if(t&&o.length===t)break}}catch(e){l=!0;r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Z(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function J(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var ee=(0,R.uid)(),te=(0,R.uid)(),ne=(0,
R.uid)(),ae=i.default.debounce((function(e){(0,d.setSaturation)(e)}),250),re=i.default.debounce((function(e){(0,y.setSpeechRate)(e)}),250),oe=J(D.FormDivider,{});function ie(e){var t=c.default.useExperiment({},{autoTrackExposure:!0}).allowRoleStyles;return J(D.FormSection,{tag:D.FormTitleTags.H1,title:Y.default.Messages.ACCESSIBILITY},void 0,ue,de,oe,t?r.createElement(r.Fragment,null,ce,J(D.FormDivider,{className:W.default.marginTop20})):null,(0,p.canEnableForcedColors)()?ve:null,Se,_e,ye,Ne,J(D.FormDivider,{className:W.default.marginBottom20}),J(P.Text,{variant:"text-md/normal"},void 0,Y.default.Messages.ACCESSIBILITY_SETTINGS_APPEARANCE_LINK.format({onAppearanceClick:function(){u.default.open(F.UserSettingsSections.APPEARANCE)}})))}ie.displayName="UserSettingsAccessibility";function le(){var e=k.MessageDisplayCompact.useSetting(),t=X(r.useState((function(){var e=(0,m.createMessageRecord)(q({},(0,S.default)({channelId:"1337",
content:Y.default.Messages.ACCESSIBILITY_SETTINGS_SATURATION_PREVIEW_MESSAGE}),{state:F.MessageStates.SENT,id:"0"}));e.colorString="green";return e})),1)[0];return J(A.default,{},void 0,J(I.default,{className:V.default.preview,"aria-hidden":!0},void 0,J("div",{className:V.default.previewHeader},void 0,J(O.default,{size:O.default.Sizes.SMALL,color:O.default.Colors.BRAND},void 0,Y.default.Messages.ACCESSIBILITY_EXAMPLE_BUTTON_LABEL),J("div",{className:V.default.previewAvatars},void 0,[F.StatusTypes.ONLINE,F.StatusTypes.DND,F.StatusTypes.IDLE].map((function(e){return J(w.AnimatedAvatar,{"aria-label":"avatar",src:K.default,size:w.default.Sizes.SIZE_32,status:e})})))),J("div",{className:V.default.previewMessage},void 0,J(_.default,{compact:e,author:q({},(0,E.getMessageAuthor)(t),{colorString:"#DD80F4"}),message:t}))))}le.displayName="MessagePreview";var ue=J(le,{});function se(){var e=(0,l.useStateFromStoresObject)([f.default],(function(){return{saturation:f.default.saturation,
desaturateUserColors:f.default.desaturateUserColors}})),t=e.saturation,n=e.desaturateUserColors;return J(D.FormSection,{className:W.default.marginTop20},void 0,J(D.FormTitle,{id:ee,className:W.default.marginBottom8},void 0,Y.default.Messages.ACCESSIBILITY_SETTINGS_SATURATION_TITLE),J(D.FormText,{id:te,type:D.FormText.Types.DESCRIPTION,className:W.default.marginBottom20},void 0,Y.default.Messages.ACCESSIBILITY_SETTINGS_SATURATION_DESCRIPTION),J(M.default,{"aria-labelledby":ee,"aria-describedby":te,markers:F.Accessibility.SATURATION_INCREMENTS,equidistant:!0,stickToMarkers:!0,maxValue:1,minValue:0,initialValue:t,onValueChange:ae,onMarkerRender:function(e){return 100*e%2==0?100*e+"%":void 0}}),J(C.default,{hideBorder:!0,className:(0,o.default)(W.default.marginTop8,W.default.marginBottom20),value:n,onChange:d.toggleDesaturateUserColors,note:Y.default.Messages.ACCESSIBILITY_SETTINGS_SATURATION_CUSTOM_COLORS_DESCRIPTION
},void 0,Y.default.Messages.ACCESSIBILITY_SETTINGS_SATURATION_CUSTOM_COLORS_LABEL))}se.displayName="UserSettingsAccessibilitySaturation";var de=J(se,{});function fe(){var e=(0,l.useStateFromStores)([f.default],(function(){return f.default.roleStyle}));return J(D.FormItem,{title:Y.default.Messages.ACCESSIBILITY_SETTINGS_ROLE_STYLE_TITLE,className:W.default.marginTop20},void 0,J(D.FormText,{type:D.FormText.Types.DESCRIPTION,className:W.default.marginBottom8},void 0,Y.default.Messages.ACCESSIBILITY_SETTINGS_ROLE_STYLE_DESCRIPTION),J(b.default,{options:[{name:Y.default.Messages.ACCESSIBILITY_SETTINGS_ROLE_STYLE_USERNAME_LABEL,value:"username"},{name:Y.default.Messages.ACCESSIBILITY_SETTINGS_ROLE_STYLE_DOT_LABEL,value:"dot"},{name:Y.default.Messages.ACCESSIBILITY_SETTINGS_ROLE_STYLE_HIDDEN_LABEL,value:"hidden"}],onChange:function(e){(0,d.setRoleStyle)(e.value)},value:e}))}fe.displayName="UserSettingsAccessibilityRoleStyle";var ce=J(fe,{});function pe(){var e=X((0,
l.useStateFromStoresArray)([f.default],(function(){return[f.default.syncForcedColors,f.default.systemForcedColors]})),2),t=e[0],n=e[1],a=X(r.useState(t),2),o=a[0],i=a[1];r.useEffect((function(){i(t)}),[t]);var u=r.useRef(null);r.useEffect((function(){if(null!=u.current){clearTimeout(u.current);u.current=null}o!==t&&(u.current=setTimeout((function(){return(0,d.setSyncForcedColors)(o)}),150))}),[o,t]);var s="active"===n?Y.default.Messages.ACCESSIBILITY_SETTINGS_SYNC_FORCED_COLORS_DESCRIPTION_WITH_FEEDBACK.format({learnMoreLink:G.default.getArticleURL(F.HelpdeskArticles.FORCED_COLORS),shareFeedbackLink:j.FORCED_COLORS_FEEDBACK_LINK}):Y.default.Messages.ACCESSIBILITY_SETTINGS_SYNC_FORCED_COLORS_DESCRIPTION.format({learnMoreLink:G.default.getArticleURL(F.HelpdeskArticles.FORCED_COLORS)});return J(D.FormItem,{title:Y.default.Messages.ACCESSIBILITY_SETTINGS_CONTRAST,className:W.default.marginTop20},void 0,J(C.default,{value:o,note:s,onChange:i
},void 0,Y.default.Messages.ACCESSIBILITY_SETTINGS_SYNC_FORCED_COLORS_LABEL))}pe.displayName="UserSettingsAccessibilityContrast";var ve=J(pe,{});function me(){var e=k.GifAutoPlay.useSetting(),t=k.AnimateEmoji.useSetting(),n=(0,l.useStateFromStoresObject)([f.default,B.default],(function(){return{systemPrefersReducedMotion:f.default.systemPrefersReducedMotion,rawPrefersReducedMotion:f.default.rawPrefersReducedMotion,useReducedMotion:f.default.useReducedMotion,gifAutoPlayOverrideReason:B.default.getAppliedOverrideReasonKey("gifAutoPlay"),animateEmojiOverrideReason:B.default.getAppliedOverrideReasonKey("animateEmoji")}})),a=n.useReducedMotion,i=n.rawPrefersReducedMotion,u=n.systemPrefersReducedMotion,s=n.gifAutoPlayOverrideReason,c=n.animateEmojiOverrideReason,p="auto"===i,v=r.useCallback((function(e,t){(0,d.setPrefersReducedMotion)(t?"auto":u)}),[u]),m=r.useCallback((function(e){(0,d.setPrefersReducedMotion)(e?"reduce":"no-preference")}),[]);return J(D.FormItem,{
title:Y.default.Messages.ACCESSIBILITY_PREFERS_REDUCED_MOTION,className:W.default.marginTop20},void 0,J(D.FormText,{type:D.FormText.Types.DESCRIPTION,className:W.default.marginBottom8},void 0,Y.default.Messages.ACCESSIBILITY_PREFERS_REDUCED_MOTION_DESCRIPTION.format({helpdeskArticle:G.default.getArticleURL(F.HelpdeskArticles.REDUCED_MOTION)})),J(h.default,{className:W.default.marginTop20,value:p,shape:h.default.Shapes.BOX,type:h.default.Types.INVERTED,onChange:v},void 0,J(P.Text,{variant:"text-sm/normal"},void 0,Y.default.Messages.ACCESSIBILITY_PREFERS_REDUCED_MOTION_AUTO)),J(C.default,{className:W.default.marginTop20,value:a,onChange:m},void 0,Y.default.Messages.ACCESSIBILITY_PREFERS_REDUCED_MOTION_ENABLE),J(C.default,{className:W.default.marginBottom40,value:e,note:null!=s?(0,g.default)(s):void 0,onChange:k.GifAutoPlay.updateSetting},void 0,Y.default.Messages.GIF_AUTO_PLAY_LABEL),J(C.default,{className:(0,o.default)(W.default.marginTop8,W.default.marginBottom20),value:t,
note:null!=c?(0,g.default)(c):void 0,onChange:k.AnimateEmoji.updateSetting},void 0,Y.default.Messages.ANIMATE_EMOJI))}me.displayName="UserSettingsAccessibilityReducedMotion";var Se=J(me,{});function Ee(){var e=k.AnimateStickers.useSetting(),t=(0,l.useStateFromStores)([B.default],(function(){return B.default.getAppliedOverrideReasonKey("animateStickers")})),n=r.useCallback((function(e){k.AnimateStickers.updateSetting(e.value)}),[]);return J(D.FormItem,{className:W.default.marginBottom40,title:Y.default.Messages.STICKERS_AUTO_PLAY_HEADING},void 0,J(D.FormText,{type:D.FormText.Types.DESCRIPTION,className:W.default.marginBottom8},void 0,null!=t?(0,g.default)(t):Y.default.Messages.STICKERS_AUTO_PLAY_HELP),J(b.default,{options:[{name:Y.default.Messages.STICKERS_ALWAYS_ANIMATE,value:x.StickerAnimationSettings.ALWAYS_ANIMATE},{name:Y.default.Messages.STICKERS_ANIMATE_ON_INTERACTION,desc:Y.default.Messages.STICKERS_ANIMATE_ON_INTERACTION_DESCRIPTION,
value:x.StickerAnimationSettings.ANIMATE_ON_INTERACTION},{name:Y.default.Messages.STICKERS_NEVER_ANIMATE,value:x.StickerAnimationSettings.NEVER_ANIMATE}],onChange:n,value:e}))}Ee.displayName="UserSettingsAccessibilityStickers";var _e=J(Ee,{});function ge(){var e=(0,l.useStateFromStores)([f.default],(function(){return f.default.isSubmitButtonEnabled}));return J(D.FormItem,{},void 0,J(D.FormTitle,{className:W.default.marginBottom8},void 0,Y.default.Messages.FORM_LABEL_ACCESSIBILITY_CHAT_INPUT),J(C.default,{className:W.default.marginTop20,value:e,onChange:d.toggleSubmitButton},void 0,Y.default.Messages.DISPLAY_SUBMIT_BUTTON))}ge.displayName="UserSettingsAccessibilityMessages";var ye=J(ge,{}),Te=J(L.default,{width:24,height:24}),Oe=J(U.default,{width:24,height:24}),Ie=J("span",{},void 0,"x1.0");function he(){var e=k.EnableTTSCommand.useSetting(),t=(0,l.useStateFromStores)([T.default],(function(){return T.default.speechRate})),n=X(r.useState(!1),2),a=n[0],o=n[1];if(!s.supported)return null
;return r.createElement(r.Fragment,null,J(D.FormItem,{},void 0,J(D.FormTitle,{className:W.default.marginBottom8},void 0,Y.default.Messages.FORM_LABEL_TTS),J(C.default,{className:W.default.marginTop20,value:e,onChange:k.EnableTTSCommand.updateSetting},void 0,Y.default.Messages.ALLOW_TTS_COMMAND)),J(D.FormItem,{className:W.default.marginBottom20},void 0,J(D.FormTitle,{id:ne,className:W.default.marginBottom20},void 0,Y.default.Messages.ACCESSIBILITY_SETTINGS_TTS_RATE_LABEL),J("div",{className:V.default.ttsPreviewWrapper},void 0,J(O.default,{color:O.ButtonColors.BRAND_NEW,onClick:function(){if(a){(0,y.stopSpeaking)();o(!1)}else{(0,y.speakText)(Y.default.Messages.ACCESSIBILITY_SETTINGS_TTS_RATE_TEST,!0,void 0,(function(){return o(!0)}),(function(){return o(!1)}));o(!0)}}},void 0,J(N.default,{align:N.default.Align.CENTER
},void 0,a?Te:Oe,J("span",{},void 0,Y.default.Messages.ACCESSIBILITY_SETTINGS_TTS_RATE_PREVIEW),J(v.default,{},void 0,Y.default.Messages.ACCESSIBILITY_SETTINGS_TTS_RATE_LABEL)))),J(M.default,{markers:H.SPEECH_RATE_INCREMENTS,initialValue:t,defaultValue:1,stickToMarkers:!0,onValueChange:re,onValueRender:function(e){return"x"+e.toFixed(2)},onMarkerRender:function(e){return 0===e?J("span",{className:V.default.ttsSliderMarker},void 0,Y.default.Messages.ACCESSIBILITY_SETTINGS_TTS_RATE_SLOWER):10===e?J("span",{className:V.default.ttsSliderMarker},void 0,Y.default.Messages.ACCESSIBILITY_SETTINGS_TTS_RATE_FASTER):1===e?Ie:e%1==0?"":void 0},"aria-labelledby":ne})))}var Ne=J(he,{})},371077:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var a,r=G(n(667294)),o=U(n(294184)),i=U(n(441143)),l=n(536211),u=U(n(163521)),s=n(825185),d=U(n(524791)),f=U(n(149342)),c=U(n(915539)),p=U(n(711195)),v=U(n(30098)),m=U(n(753304)),S=U(n(663303)),E=U(n(871778)),_=U(n(728429)),g=G(n(956117)),y=U(n(530250)),T=n(645758),O=n(688388),I=n(502197),h=n(194322),N=U(n(950445)),A=U(n(874364)),b=U(n(174128)),M=U(n(319155)),C=U(n(66272)),P=n(770348),R=U(n(247001)),D=U(n(177056)),L=U(n(380203));function U(e){return e&&e.__esModule?e:{default:e}}function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}function G(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}function k(){k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return k.apply(this,arguments)}function B(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function F(e,t){F=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return F(e,t)}var j=B(M.default,{}),x=B(d.default,{}),H=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;F(e,t)}(t,e);function t(t){var n
;(n=e.call(this,t)||this).state={disableAccountErrorMessage:null,shouldRenderOwnedGuildsModal:!1,shouldRenderDeleteAccountConfirmModal:!1,shouldRenderDisableAccountErrorModal:!1};return n}var a=t.prototype;a.componentDidMount=function(){var e=this.props.currentUser;(0,p.default)(e.id,e.getAvatarURL(void 0,80))};a.componentWillUnmount=function(){u.default.clearBackupCodes();(0,s.accountDetailsClose)()};a.renderAccountWarning=function(){var e=this.props.currentUser;if(!e.isClaimed()){var t=B("section",{},void 0,B("div",{className:D.default.accountWarningBodyText},void 0,R.default.Messages.UNCLAIMED_ACCOUNT_BODY_2),B(g.default,{look:g.ButtonLooks.INVERTED,size:g.ButtonSizes.SMALL,color:g.default.Colors.RED,onClick:function(){return c.default.openClaimAccountModal()}},void 0,R.default.Messages.CLAIM_ACCOUNT_LONG));return B(O.FormNotice,{type:O.FormNotice.Types.DANGER,className:L.default.marginBottom20,imageData:{src:n(350672),width:60,height:60},
title:R.default.Messages.UNCLAIMED_ACCOUNT_TITLE,body:t})}if(null==e.email)return null;if(!e.verified){var a=B("section",{},void 0,B("div",{className:D.default.accountWarningBodyText},void 0,R.default.Messages.USER_SETTINGS_UNVERIFIED_EMAIL_BODY),B(N.default,{size:g.ButtonSizes.SMALL,color:g.default.Colors.PRIMARY}));return B(O.FormNotice,{type:O.FormNotice.Types.PRIMARY,className:L.default.marginBottom20,imageData:{src:n(24264),width:60,height:60},title:R.default.Messages.UNVERIFIED_EMAIL_TITLE,body:a})}};a.renderAccountSettings=function(){return B(O.FormSection,{tag:O.FormTitleTags.H1,title:R.default.Messages.USER_SETTINGS_MY_ACCOUNT,className:D.default.userSettingsAccount},void 0,this.renderAccountWarning(),j)};a.renderSecuritySettings=function(){var e=this.props,t=e.backupCodes,a=e.currentUser,i=e.theme===P.ThemeTypes.DARK?n(273361):n(129428);return B(O.FormSection,{className:(0,o.default)(D.default.userSettingsSecurity,L.default.marginTop40),
title:R.default.Messages.USER_SETTINGS_ACCOUNT_PASSWORD_AND_AUTHENTICATION,tag:O.FormTitle.Tags.H1},void 0,B("div",{},void 0,B(g.default,{size:g.default.Sizes.SMALL,className:D.default.changePasswordButton,onClick:function(){return(0,h.openModal)((function(e){return r.createElement(C.default,k({},e,{onSuccess:e.onClose}))}))}},void 0,R.default.Messages.CHANGE_PASSWORD)),B(y.default,{align:y.default.Align.STRETCH},void 0,B(y.default.Child,{wrap:!0},void 0,B(A.default,{backupCodes:t})),a.mfaEnabled?null:B(y.default,{align:y.default.Align.CENTER,basis:"323px",grow:0},void 0,B("img",{src:i,className:D.default.userSettingsSecurityImage,alt:""}))))};a.renderConfirmModals=function(){var e=this,t=this.state,n=t.shouldRenderOwnedGuildsModal,a=t.shouldRenderDeleteAccountConfirmModal,r=t.shouldRenderDisableAccountErrorModal,o=t.disableAccountErrorMessage;if(n){var i=function(){return e.setState({shouldRenderOwnedGuildsModal:!1})};return B(I.DeclarativeConfirmModal,{dismissable:!0,
header:R.default.Messages.DELETE_ACCOUNT_TRANSFER_OWNERSHIP,confirmText:R.default.Messages.OKAY,confirmButtonColor:g.ButtonColors.BRAND,onCancel:i,onConfirm:i},void 0,B(T.Text,{variant:"text-md/normal"},void 0,R.default.Messages.DELETE_ACCOUNT_TRANSFER_OWNERSHIP_BODY))}if(a){var l=function(){return e.setState({shouldRenderDeleteAccountConfirmModal:!1})};return B(I.DeclarativeConfirmModal,{dismissable:!0,header:R.default.Messages.DELETE_ACCOUNT,confirmText:R.default.Messages.DELETE_ACCOUNT,cancelText:R.default.Messages.CANCEL,onCancel:l,onConfirm:function(){return(0,s.disableAccount)("",!0).then(l)}},void 0,B(T.Text,{variant:"text-md/normal"},void 0,R.default.Messages.DELETE_ACCOUNT_BODY))}if(r){var u=function(){return e.setState({shouldRenderDisableAccountErrorModal:!1,disableAccountErrorMessage:null})};return B(I.DeclarativeConfirmModal,{dismissable:!0,header:R.default.Messages.DELETE_ACCOUNT_ERROR,confirmText:R.default.Messages.OKAY,confirmButtonColor:g.ButtonColors.BRAND,onCancel:u,
onConfirm:u},void 0,B(T.Text,{variant:"text-md/normal"},void 0,o))}};a.render=function(){var e=this;if(this.props.hide)return x;var t=this.props.currentUser;return B("div",{},void 0,this.renderConfirmModals(),this.renderAccountSettings(),t.isClaimed()?r.createElement(r.Fragment,null,B(O.FormDivider,{className:L.default.marginTop40}),this.renderSecuritySettings(),B(O.FormDivider,{className:L.default.marginTop40})):null,B(b.default,{className:L.default.marginTop40,currentUser:t,handleDisableAccount:function(){return e.handleDisableAccount(!1)},handleDeleteAccount:function(){return e.handleDisableAccount(!0)}}))};a.handleDisableAccountError=function(e){if(e.body.code===P.AbortCodes.INVALID_PASSWORD)throw e;this.setState({shouldRenderDisableAccountErrorModal:!0,disableAccountErrorMessage:e.body.message})};a.handleSubmitDisableAccount=function(e,t){return(0,s.disableAccount)(e,t).then(P.NOOP,this.handleDisableAccountError)};a.handleDisableAccount=function(e){var t=this;void 0===e&&(e=!1)
;var n=this.props.currentUser,a=v.default.getGuilds();Object.keys(a).filter((function(e){return a[e].ownerId===n.id})).length>0?this.setState({shouldRenderOwnedGuildsModal:!0}):n.isClaimed()?(0,h.openModal)((function(n){return r.createElement(f.default,k({},n,{handleSubmit:function(n){return t.handleSubmitDisableAccount(n,e)},title:e?R.default.Messages.DELETE_ACCOUNT:R.default.Messages.DISABLE_ACCOUNT,actionText:e?R.default.Messages.DELETE_ACCOUNT:R.default.Messages.DISABLE_ACCOUNT}),e?R.default.Messages.DELETE_ACCOUNT_BODY:R.default.Messages.DISABLE_ACCOUNT_BODY)})):this.setState({shouldRenderDeleteAccountConfirmModal:!0})};return t}(r.PureComponent);H.displayName="UserSettingsAccount";var Y=function(){var e=(0,l.useStateFromStores)([_.default],(function(){var e=_.default.getCurrentUser();(0,i.default)(null!=e,"ConnectedUserAccountSettings: currentUser cannot be undefined");return e})),t=(0,l.useStateFromStores)([m.default],(function(){return m.default.getBackupCodes()})),n=(0,
l.useStateFromStores)([S.default],(function(){return S.default.hidePersonalInformation})),a=(0,l.useStateFromStores)([E.default],(function(){return E.default.theme}));return B(H,{currentUser:e,backupCodes:t,hide:n,theme:a})};Y.displayName="ConnectedUserAccountSettings";var V=Y;t.default=V},299943:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=M;var a,r=I(n(667294)),o=n(536211),i=I(n(446637)),l=T(n(191839)),u=T(n(424099)),s=T(n(567668)),d=n(645758),f=n(688388),c=T(n(502197)),p=n(194322),v=n(864489),m=n(179495),S=T(n(922629)),E=n(894826),_=T(n(825541)),g=n(770348),y=T(n(247001));function T(e){return e&&e.__esModule?e:{default:e}}function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function I(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e)
;var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}function h(){h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return h.apply(this,arguments)}function N(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function A(e,t){return function(e){if(Array.isArray(e))return e
}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done);i=!0){o.push(a.value);if(t&&o.length===t)break}}catch(e){l=!0;r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function M(){var e=A(r.useState((function(){
return S.default.getEnableHardwareAcceleration()})),1)[0],t=E.DisableGamesTab.useSetting(),n=E.DeveloperMode.useSetting(),a=(0,o.useStateFromStoresObject)([u.default,l.default],(function(){return{hasLibraryApplication:l.default.hasLibraryApplication(),testModeApplicationId:u.default.testModeApplicationId}})),T=a.hasLibraryApplication,O=a.testModeApplicationId,I=r.useCallback((function(e){E.DisableGamesTab.updateSetting(!e)}),[]),b=r.useCallback((function(e){e?(0,p.openModal)((function(e){return r.createElement(_.default,e)})):i.reset()}),[]),M=r.useCallback((function(e){(0,p.openModal)((function(t){return r.createElement(c.default,h({header:y.default.Messages.SWITCH_HARDWARE_ACCELERATION,confirmText:y.default.Messages.OKAY,cancelText:y.default.Messages.CANCEL,onConfirm:function(){return S.default.setEnableHardwareAcceleration(e)}},t),N(d.Text,{variant:"text-sm/normal"},void 0,y.default.Messages.SWITCH_HARDWARE_ACCELERATION_BODY))}))}),[]);return N(f.FormSection,{tag:f.FormTitleTags.H1,
title:y.default.Messages.SETTINGS_ADVANCED},void 0,m.SUPPORTS_COPY&&N(s.default,{value:n,onChange:E.DeveloperMode.updateSetting,note:y.default.Messages.DEVELOPER_MODE_HELP_TEXT.format({apiDocsUrl:g.MarketingURLs.API_DOCS})},void 0,y.default.Messages.DEVELOPER_MODE),v.isPlatformEmbedded&&N(s.default,{value:e,onChange:M,note:y.default.Messages.HARDWARE_ACCELERATION_HELP_TEXT},void 0,y.default.Messages.HARDWARE_ACCELERATION),T&&N(s.default,{value:!t,onChange:I,note:y.default.Messages.USER_SETTINGS_SHOW_LIBRARY_NOTE},void 0,y.default.Messages.USER_SETTINGS_SHOW_LIBRARY),n&&N(s.default,{value:null!=O,note:y.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_NOTE,onChange:b},void 0,y.default.Messages.DEVELOPER_APPLICATION_TEST_MODE))}M.displayName="UserSettingsAdvanced"},556825:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=X;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e}
;var n=B(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}(n(667294)),o=k(n(294184)),i=n(536211),l=k(n(929031)),u=k(n(226800)),s=k(n(351336)),d=k(n(14096)),f=n(354575),c=k(n(235879)),p=n(178235),v=n(202929),m=k(n(551048)),S=n(907932),E=k(n(259890)),_=k(n(871778)),g=k(n(558402)),y=k(n(530250)),T=k(n(960082)),O=k(n(26172)),I=k(n(118777)),h=k(n(567668)),N=n(645758),A=n(354479),b=n(688388),M=n(864489),C=k(n(174508)),P=n(894826),R=n(770348),D=n(100678),L=n(251984),U=k(n(247001)),w=k(n(926105)),G=k(n(380203));function k(e){return e&&e.__esModule?e:{default:e}}function B(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(B=function(e){return e?n:t})(e)}function F(e,t,n,r){
a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function j(e,t){j=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return j(e,t)}function x(){x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return x.apply(this,arguments)}var H="cozy",Y="compact",V=(0,A.uid)(),W=(0,A.uid)(),K=(0,A.uid)(),z=(0,A.uid)(),Q="1337",$=function(e){var t=0;return[(0,v.createMessageRecord)(x({},(0,m.default)({channelId:Q,content:U.default.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_1}),{state:R.MessageStates.SENT,id:""+t++
})),(0,v.createMessageRecord)(x({},(0,m.default)({channelId:Q,content:e===R.ThemeTypes.DARK?U.default.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_2_DARK:U.default.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_2_LIGHT}),{state:R.MessageStates.SENT,id:""+t++})),(0,v.createMessageRecord)(x({},(0,m.default)({channelId:Q,content:U.default.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_3}),{state:R.MessageStates.SENT,id:""+t++})),(0,v.createMessageRecord)(x({},(0,m.default)({channelId:Q,content:U.default.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_4}),{state:R.MessageStates.SENT,id:""+t++})),(0,v.createMessageRecord)(x({},(0,m.default)({channelId:Q,content:U.default.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_5}),{state:R.MessageStates.SENT,id:"4"}))]},q=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;j(e,t)}(t,e);function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r]
;(t=e.call.apply(e,[this].concat(a))||this).darkMessages=$(R.ThemeTypes.DARK);t.lightMessages=$(R.ThemeTypes.LIGHT);t.handleThemeChange=function(e){var t=e.value;"system"!==t&&l.default.updateRemoteSettings({theme:t});l.default.updatedUnsyncedSettings({useSystemTheme:"system"===t?L.SystemThemeState.ON:L.SystemThemeState.OFF})};t.handleDisplayCompactAvatarsChanged=function(e){l.default.updatedUnsyncedSettings({displayCompactAvatars:e})};t.handleMessageDisplayModeChange=function(e){var t=e.value;P.MessageDisplayCompact.updateSetting(t===Y);(0,f.setMessageGroupSpacing)()};return t}var n=t.prototype;n.getPreviewMessage=function(e){return e===R.ThemeTypes.DARK?U.default.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_2_DARK:U.default.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_2_LIGHT};n.renderZoomSlider=function(){return M.isPlatformEmbedded?F(b.FormItem,{className:G.default.marginTop20},void 0,F(b.FormTitle,{id:W,tag:b.FormTitleTags.H5,className:G.default.marginBottom8
},void 0,U.default.Messages.ACCESSIBILITY_ZOOM_LEVEL_LABEL),F(I.default,{className:(0,o.default)(G.default.marginTop20,G.default.marginBottom4),initialValue:this.props.zoom,defaultValue:R.Accessibility.ZOOM_DEFAULT,markers:R.Accessibility.ZOOM_SCALES,stickToMarkers:!0,onValueChange:this.handleZoomChange,onValueRender:this.handleSliderRender,"aria-labelledby":W}),F(b.FormText,{type:b.FormText.Types.DESCRIPTION},void 0,U.default.Messages.USER_SETTINGS_APPEARANCE_ZOOM_TIP.format({modKey:d.default.modKey}))):null};n.renderFontScaleSlider=function(){return F(b.FormItem,{className:G.default.marginTop20},void 0,F(b.FormTitle,{id:K,tag:b.FormTitleTags.H5,className:G.default.marginBottom8},void 0,U.default.Messages.ACCESSIBILITY_FONT_SCALING_LABEL),F(y.default,{align:y.default.Align.CENTER},void 0,F(I.default,{className:(0,o.default)(G.default.marginTop20,G.default.marginBottom4),initialValue:this.props.fontSize,defaultValue:R.Accessibility.FONT_SIZE_DEFAULT,markers:R.Accessibility.FONT_SIZES,
stickToMarkers:!0,onValueChange:this.handleFontSizeChange,onValueRender:this.handleSliderRenderPX,onMarkerRender:this.handleSliderRenderPX,getAriaValueText:this.handleSliderValueText,"aria-labelledby":K})))};n.renderMessageGroupSpacingSlider=function(){var e=this.props,t=e.messageDisplayCompact,n=e.messageGroupSpacing;return F(b.FormItem,{className:G.default.marginTop20},void 0,F(b.FormTitle,{id:z,tag:b.FormTitleTags.H5,className:G.default.marginBottom8},void 0,U.default.Messages.ACCESSIBILITY_MESSAGE_GROUP_SPACING),F(I.default,{className:(0,o.default)(G.default.marginTop20,G.default.marginBottom4),initialValue:n,defaultValue:t?D.DEFAULT_COMPACT_SPACING:D.DEFAULT_COZY_SPACING,markers:D.MESSAGE_GROUP_SPACING,stickToMarkers:!0,onValueChange:this.handleMessageSpacingChange,onValueRender:this.handleSliderRenderPX,onMarkerRender:this.handleSliderRenderPX,getAriaValueText:this.handleSliderValueText,"aria-labelledby":z}))};n.renderPreview=function(){
var e=this.props,t=e.messageDisplayCompact,n=e.theme,a=e.messageGroupSpacing,r=e.renderMediaEmbeds,i=n===R.ThemeTypes.DARK?this.darkMessages:this.lightMessages;return F(T.default,{},void 0,F(g.default,{className:(0,o.default)(w.default.preview,G.default.marginBottom40,t?w.default.compactPreview:void 0,"group-spacing-"+(null!=a?a:t?D.DEFAULT_COMPACT_SPACING:D.DEFAULT_COZY_SPACING)),outline:!0,"aria-hidden":!0},void 0,i.map((function(e,n){return F(E.default,{author:(0,S.getMessageAuthor)(e),message:e,compact:t,isGroupStart:n%2==0,className:0===n?w.default.firstMessage:void 0,renderMediaEmbeds:r},e.id)}))))};n.renderTheme=function(){var e=this.props,t=e.theme,n=e.useForcedColors,a=e.useSystemTheme,r=e.darkSidebar,o=a===L.SystemThemeState.ON||n;return F(b.FormItem,{className:G.default.marginTop8,title:U.default.Messages.THEME},void 0,n&&F(b.FormText,{type:b.FormText.Types.DEFAULT,className:w.default.forcedColorsWarning},void 0,(0,
p.canEnableForcedColors)()?U.default.Messages.THEME_DISABLED_FOR_CONTRAST_SYNC.format({onClick:function(){u.default.open(R.UserSettingsSections.ACCESSIBILITY)}}):U.default.Messages.THEME_DISABLED_FOR_FORCED_COLORS),F(O.default,{options:[{name:U.default.Messages.THEME_DARK,value:R.ThemeTypes.DARK},{name:U.default.Messages.THEME_LIGHT,value:R.ThemeTypes.LIGHT},{name:U.default.Messages.THEME_SYSTEM,value:"system"}],onChange:this.handleThemeChange,value:o?"system":t,disabled:n,"aria-labelledBy":V}),F(h.default,{value:r&&t===R.ThemeTypes.LIGHT&&!n,disabled:t!==R.ThemeTypes.LIGHT||n,onChange:this.handleDarkSidebarChecked,className:G.default.marginTop20},void 0,U.default.Messages.ACCESSIBILITY_DARK_SIDEBAR))};n.renderDisplayMode=function(){return F(b.FormItem,{title:U.default.Messages.MESSAGE_DISPLAY_MODE_LABEL,className:G.default.marginTop8},void 0,F(O.default,{options:[{name:U.default.Messages.COZY_MODE,value:H},{name:U.default.Messages.COMPACT_MODE,value:Y}],
onChange:this.handleMessageDisplayModeChange,value:this.props.messageDisplayCompact?Y:H}),s.default.getCurrentConfig({}).enabled&&F(h.default,{value:this.props.messageDisplayCompact&&this.props.displayCompactAvatars,disabled:!this.props.messageDisplayCompact,onChange:this.handleDisplayCompactAvatarsChanged,className:G.default.marginTop20},void 0,U.default.Messages.DISPLAY_COMPACT_AVATARS))};n.handleDarkSidebarChecked=function(){(0,f.toggleDarkSidebar)()};n.renderScalingAndSpacing=function(){return r.createElement(r.Fragment,null,this.renderFontScaleSlider(),this.renderMessageGroupSpacingSlider(),this.renderZoomSlider(),F(b.FormDivider,{className:G.default.marginTop20}))};n.render=function(){return F(b.FormSection,{tag:b.FormTitleTags.H1,title:U.default.Messages.APPEARANCE},void 0,this.renderPreview(),this.renderTheme(),this.renderDisplayMode(),F(b.FormDivider,{className:G.default.marginTop20}),this.renderScalingAndSpacing(),F(N.Text,{variant:"text-md/normal",
className:G.default.marginTop20},void 0,U.default.Messages.APPEARANCE_SETTINGS_ACCESSIBILITY_LINK.format({onAccessibilityClick:function(){u.default.open(R.UserSettingsSections.ACCESSIBILITY)}})))};n.handleSliderRender=function(e){return e.toFixed(0)+"%"};n.handleSliderRenderPX=function(e){return e.toFixed(0)+"px"};n.handleSliderValueText=function(e){return U.default.Messages.PIXEL_VALUE_A11Y_TEXT.format({value:e})};n.handleFontSizeChange=function(e){(0,f.setFontSize)(e)};n.handleMessageSpacingChange=function(e){switch(e){case 0:case 4:case 8:case 16:case 24:(0,f.setMessageGroupSpacing)(e)}};n.handleZoomChange=function(e){(0,f.setZoom)(e)};return t}(r.Component);q.displayName="UserSettingsAppearance";function X(){var e=P.MessageDisplayCompact.useSetting(),t=P.InlineEmbedMedia.useSetting(),n=P.RenderEmbeds.useSetting(),a=(0,i.useStateFromStoresObject)([_.default,C.default,c.default],(function(){return{theme:_.default.theme,useForcedColors:c.default.useForcedColors,
useSystemTheme:C.default.useSystemTheme,darkSidebar:c.default.darkSidebar,fontSize:c.default.fontSize,zoom:c.default.zoom,messageGroupSpacing:c.default.messageGroupSpacing,displayCompactAvatars:C.default.displayCompactAvatars}}));return r.createElement(q,x({messageDisplayCompact:e,renderMediaEmbeds:t&&n},a))}X.displayName="ConnectedUserSettingsAppearance"},835672:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a,r=C(n(667294)),o=b(n(294184)),i=C(n(536211)),l=b(n(392654)),u=b(n(524791)),s=b(n(88509)),d=n(746920),f=b(n(303798)),c=b(n(395425)),p=b(n(663303)),v=b(n(871778)),m=C(n(956117)),S=C(n(558402)),E=C(n(737705)),_=b(n(530250)),g=b(n(80828)),y=n(688388),T=n(194322),O=b(n(692711)),I=n(278403),h=b(n(247001)),N=b(n(102172)),A=b(n(380203));function b(e){return e&&e.__esModule?e:{default:e}}function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(M=function(e){return e?n:t})(e)}function C(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=M(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}function P(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function R(){R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return R.apply(this,arguments)}var D=i.default.connectStores([v.default],(function(){return{theme:v.default.theme}}))(E.default),L=function(e){var t,n,a=e.scopes,i=e.application,l=e.onDelete,u=function(){return(0,T.openModal)((function(e){return r.createElement(s.default,R({title:h.default.Messages.DEAUTHORIZE_APP,body:h.default.Messages.DELETE_APP_CONFIRM_MSG,confirmText:h.default.Messages.DEAUTHORIZE,cancelText:h.default.Messages.CANCEL,onConfirm:l},e))}))};return P(S.default,{className:(0,o.default)(N.default.authedApp,A.default.marginBottom8),outline:!0},void 0,(t=O.default.getApplicationIconURL({id:i.id,icon:i.icon}),n=null!=t?P(_.default.Child,{className:N.default.appAvatar,grow:0},void 0,P("img",{src:t,alt:""})):null,P(_.default,{className:(0,o.default)(N.default.header,A.default.marginBottom20)},void 0,P(_.default,{className:N.default.headerInfo},void 0,n,P(_.default.Child,{},void 0,P(y.FormText,{
type:y.FormTextTypes.LABEL_BOLD},void 0,P("span",{},void 0,i.name)))),P(_.default.Child,{wrap:!0,grow:0},void 0,P(m.default,{className:N.default.deleteApp,color:m.ButtonColors.RED,look:m.ButtonLooks.OUTLINED,size:m.ButtonSizes.SMALL,onClick:u},void 0,h.default.Messages.DEAUTHORIZE)))),function(){if(null!=i.description&&""!==i.description)return P(y.FormItem,{faded:!0,title:h.default.Messages.ABOUT_THIS_APP},void 0,P(y.FormText,{},void 0,i.description))}(),function(){var e=a.map((function(e){return P("li",{className:(0,o.default)(N.default.permission,A.default.marginTop8)},e,P("i",{className:N.default.permissionCheckmark}),P(y.FormText,{},void 0,(0,I.getHumanReadableScope)(e)))}));if(e.length>0)return P(y.FormItem,{faded:!0,title:h.default.Messages.PERMISSIONS,className:A.default.marginTop20},void 0,P("ul",{},void 0,e))}())};L.displayName="AuthorizedApp";var U=P(u.default,{}),w=function(){var e=(0,i.useStateFromStores)([p.default],(function(){return p.default.hidePersonalInformation
})),t=(0,i.useStateFromStores)([c.default],(function(){return c.default.getApps()})),a=(0,i.useStateFromStores)([f.default],(function(){return f.default.getSelfEmbeddedActivities()}));r.useEffect((function(){l.default.fetch()}),[]);return e?U:P(y.FormSection,{tag:y.FormTitleTags.H1,title:h.default.Messages.AUTHORIZED_APPS},void 0,P(y.FormNotice,{className:A.default.marginBottom40,type:S.Types.PRIMARY,title:h.default.Messages.APPLICATIONS_AND_CONNECTIONS,body:h.default.Messages.APPLICATIONS_AND_CONNECTIONS_BODY}),null==t?P(g.default,{className:A.default.marginTop20,type:g.default.Type.SPINNING_CIRCLE}):0===t.length?P(D,{className:N.default.marginTop20},void 0,P(E.EmptyStateImage,{darkSrc:n(3874),lightSrc:n(302255),width:380,height:282}),P(E.EmptyStateText,{note:h.default.Messages.NO_AUTHORIZED_APPS_NOTE},void 0,h.default.Messages.NO_AUTHORIZED_APPS)):t.map((function(e){return r.createElement(L,R({key:e.id,onDelete:function(){return function(e){var t=e.id,n=e.application
;l.default.delete(t);var r=a.get(n.id);null!=r&&(0,d.stopEmbeddedActivity)({channelId:r.channelId,applicationId:n.id})}(e)}},e))})))};w.displayName="UserSettingsAuthedApps";var G=w;t.default=G},24072:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=G;var a,r=C(n(667294)),o=b(n(441143)),i=n(536211),l=b(n(636602)),u=C(n(832635)),s=b(n(226800)),d=b(n(524791)),f=b(n(109043)),c=b(n(565093)),p=n(421748),v=b(n(663303)),m=b(n(871778)),S=b(n(728429)),E=b(n(697952)),_=b(n(748826)),g=b(n(146771)),y=b(n(558402)),T=b(n(530250)),O=b(n(80828)),I=b(n(662197)),h=n(770348),N=b(n(247001)),A=b(n(196806));function b(e){return e&&e.__esModule?e:{default:e}}function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(M=function(e){return e?n:t})(e)}function C(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=M(t);if(n&&n.has(e))return n.get(e)
;var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}function P(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function R(e,t){R=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return R(e,t)}var D=P(d.default,{}),L=P(O.default,{}),U=P(p.BlockedPaymentsWarning,{}),w=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;R(e,t)}(t,e);function t(){
return e.apply(this,arguments)||this}var n=t.prototype;n.componentDidMount=function(){l.default.wait((function(){u.fetchPaymentSources();u.fetchSubscriptions()}))};n.handleRedemptionRedirect=function(){s.default.setSection(h.UserSettingsSections.INVENTORY)};n.render=function(){var e=this.props,t=e.syncing,n=e.hide,a=e.paymentSources,r=e.defaultPaymentSourceId,o=e.locale,i=e.premiumSubscription,l=e.isRemovingPaymentSource,u=e.isUpdatingPaymentSource;return n?D:P("div",{className:A.default.userSettingsBilling},void 0,t&&0===Object.keys(a).length?P("div",{className:A.default.syncing},void 0,L):P(c.default,{paymentSources:a,defaultPaymentSourceId:r,premiumSubscriptionPaymentSourceId:null!=i&&i.status!==h.SubscriptionStatusTypes.CANCELED?i.paymentSourceId:null,locale:o,removing:l,submitting:u}),P("div",{className:A.default.paymentHistory},void 0,P(I.default,{tag:I.default.Tags.H1},void 0,P(T.default,{align:T.default.Align.CENTER
},void 0,N.default.Messages.BILLING_PAYMENT_HISTORY)),U,P(f.default,{locale:o})),P(y.default,{className:A.default.codeRedemptionRedirect,type:y.default.Types.CUSTOM},void 0,N.default.Messages.BILLING_CODE_REDEMPTION_REDIRECT.format({onClick:this.handleRedemptionRedirect})))};return t}(r.PureComponent);w.displayName="UserSettingsBilling";function G(){var e=(0,i.useStateFromStoresObject)([m.default,E.default,_.default,S.default,v.default,g.default],(function(){var e=g.default.getPremiumTypeSubscription(),t=S.default.getCurrentUser();(0,o.default)(null!=t,"UserSettingsBilling: currentUser cannot be undefined");return{locale:m.default.locale,hide:v.default.enabled,isClaimed:t.isClaimed(),isVerified:t.verified,premiumSubscription:e,defaultPaymentSourceId:_.default.defaultPaymentSourceId,paymentSources:_.default.paymentSources,syncing:E.default.isSyncing,isRemovingPaymentSource:E.default.isRemovingPaymentSource,isUpdatingPaymentSource:E.default.isUpdatingPaymentSource}}))
;return r.createElement(w,e)}G.displayName="UserSettingsBillingConnected"},710033:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a,r=G(n(667294)),o=U(n(294184)),i=n(536211),l=U(n(861315)),u=U(n(524791)),s=U(n(169404)),d=U(n(88509)),f=U(n(213847)),c=U(n(155502)),p=U(n(6887)),v=U(n(754416)),m=U(n(513266)),S=U(n(30098)),E=U(n(663303)),_=U(n(151097)),g=G(n(956117)),y=U(n(16941)),T=G(n(737705)),O=U(n(380439)),I=U(n(80828)),h=U(n(567668)),N=n(688388),A=U(n(259530)),b=n(194322),M=n(864489),C=n(894826),P=n(770348),R=U(n(247001)),D=U(n(125354)),L=U(n(380203));function U(e){return e&&e.__esModule?e:{default:e}}function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}function G(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e)
;var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}function k(){k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return k.apply(this,arguments)}function B(e,t){B=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return B(e,t)}function F(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,
props:t,_owner:null}}var j=function(e){var t,n,a,r=e.integration,o=(0,i.useStateFromStores)([m.default],(function(){return m.default.isJoining(r.id)}),[r.id]);null!=(0,i.useStateFromStores)([S.default],(function(){return S.default.getGuild(r.guild.id)}),[r.guild.id])||(a=F(g.default,{size:g.ButtonSizes.SMALL,onClick:function(){l.default.joinServer(r.id,(function(){}))},disabled:o},void 0,F("span",{},void 0,o?R.default.Messages.JOINING_GUILD:R.default.Messages.JOIN_GUILD)));return F("div",{className:D.default.integration},void 0,F("div",{},void 0,F(O.default,{size:O.default.Sizes.SMALL,guild:r.guild,className:D.default.guildIcon}),F("div",{className:D.default.integrationInner},void 0,F(N.FormText,{className:D.default.integrationName},void 0,r.guild.toString()),F(_.default,{className:D.default.channelLink,href:null===(t=c.default.get(r.type))||void 0===t||null===(n=t.getPlatformUserUrl)||void 0===n?void 0:n.call(t,r.account)},void 0,r.account.name))),a)};j.displayName="Integration"
;var x=F(A.default,{width:16,height:16}),H=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;B(e,t)}(t,e);function t(t){var n;(n=e.call(this,t)||this).handleReconnect=function(){(0,v.default)(n.props.account.type,"User Settings")};n.handleDisconnect=function(){var e=c.default.get(n.props.account.type);(0,b.openModal)((function(t){return r.createElement(d.default,k({title:R.default.Messages.DISCONNECT_ACCOUNT_TITLE.format({name:e.name}),body:R.default.Messages.DISCONNECT_ACCOUNT_BODY,confirmText:R.default.Messages.DISCONNECT_ACCOUNT,cancelText:R.default.Messages.CANCEL,onConfirm:n.props.onDisconnect},t))}))};n.handleVisibilityChange=function(e){var t=n.props.account,a=e?1:0;if(t.verified){n.setState({visibility:a});l.default.setVisibility(t.type,t.id,a)}else{n._inProgressVisibility=a;(0,v.default)(t.type,"User Settings")}};n.handleInProgressVisibilityChange=function(){if(null!=n._inProgressVisibility){var e=n.props.account
;l.default.setVisibility(e.type,e.id,n._inProgressVisibility);n._inProgressVisibility=null}};n.handleFriendSyncChange=function(e){var t=n.props.account;n.setState({friendSync:e});l.default.setFriendSync(t.type,t.id,e)};n.handleShowActivityChange=function(e){var t=n.props.account;n.setState({showActivity:e});l.default.setShowActivity(t.type,t.id,e)};var a=t.account,o=a.friendSync,i=a.visibility,u=a.showActivity;n.state={friendSync:o,visibility:i,showActivity:u,accountProps:t.account};return n}t.getDerivedStateFromProps=function(e,t){var n=t.accountProps,a=n.friendSync,r=n.visibility,o=n.showActivity,i=e.account,l=i.friendSync,u=i.visibility,s=i.showActivity;return a!==l||r!==u||o!==s?{friendSync:l,visibility:u,showActivity:s,accountProps:e.account}:null};var n=t.prototype;n.componentDidUpdate=function(e){var t=e.account.verified,n=this.props.account.verified;!t&&n&&this.handleInProgressVisibilityChange()};n.renderHeader=function(e){var t=this.props,n=t.account,a=t.theme;return F("div",{
className:D.default.connectionHeader},void 0,F("img",{alt:e.name,className:D.default.connectionIcon,src:a===P.ThemeTypes.DARK?e.icon.darkSVG:e.icon.lightSVG}),F("div",{},void 0,F(N.FormText,{className:D.default.connectionAccountValue},void 0,n.name),F(N.FormText,{className:D.default.connectionAccountLabel,type:N.FormTextTypes.DESCRIPTION},void 0,c.default.get(n.type).name)),F(y.default,{className:D.default.connectionDelete,onClick:this.handleDisconnect,"aria-label":R.default.Messages.SERVICE_CONNECTIONS_DISCONNECT,focusProps:{offset:{top:-4,left:-4,right:-4}}},void 0,x))};n.renderConnectionOptions=function(e){var t,n,a=this.state,r=a.visibility,o=a.friendSync,i=a.showActivity,l=this.props.account;P.FRIEND_SYNC_PLATFORM_TYPES.has(l.type)&&(t=F(h.default,{className:D.default.connectionOptionSwitch,hideBorder:!0,value:o,onChange:this.handleFriendSyncChange},void 0,F("span",{className:D.default.subEnabledTitle},void 0,R.default.Messages.SYNC_FRIENDS)))
;P.ACTIVITY_PLATFORM_TYPES.has(l.type)&&(n=F(h.default,{className:D.default.connectionOptionSwitch,hideBorder:!0,value:i,onChange:this.handleShowActivityChange},void 0,F("span",{className:D.default.subEnabledTitle},void 0,R.default.Messages.DISPLAY_ACTIVITY.format({platform:e.name}))));return F("div",{className:D.default.connectionOptionsWrapper},void 0,F("div",{className:D.default.connectionOptions},void 0,F(h.default,{className:D.default.connectionOptionSwitch,hideBorder:!0,value:1===r,onChange:this.handleVisibilityChange},void 0,F("span",{className:D.default.subEnabledTitle},void 0,R.default.Messages.DISPLAY_ON_PROFILE)),n,t))};n.renderIntegrations=function(){var e=this.props.account;return e.revoked?F(N.FormItem,{className:D.default.integrationsWrapper},void 0,F(N.FormText,{className:D.default.integrationRevoked},void 0,R.default.Messages.CONNECTED_ACCOUNT_REVOKED.format({onReconnect:this.handleReconnect}))):e.integrations.length>0?F(N.FormItem,{
className:D.default.integrationsWrapper},void 0,F(N.FormTitle,{tag:N.FormTitleTags.H5},void 0,F("span",{className:D.default.subEnabledTitle},void 0,R.default.Messages.SUB_ENABLED_SERVERS)),F("div",{},void 0,e.integrations.map((function(e){return F(j,{integration:e},e.id)})))):void 0};n.renderDivider=function(){var e=this.props.account,t=e.revoked,n=e.integrations;if(t||n.length>0)return F(N.FormDivider,{className:D.default.connectedAccountSeparator})};n.render=function(){var e=this.props.account,t=c.default.get(e.type);return F("div",{className:D.default.connection},void 0,this.renderHeader(t),this.renderConnectionOptions(t),this.renderDivider(),this.renderIntegrations())};return t}(r.PureComponent);H.displayName="ConnectedAccount";var Y=F(u.default,{}),V=function(){var e,t=(0,i.useStateFromStores)([E.default],(function(){return E.default.hidePersonalInformation})),a=(0,i.useStateFromStores)([m.default],(function(){return m.default.isFetching()})),u=(0,
i.useStateFromStores)([m.default],(function(){return m.default.getAccounts()})),d=C.DetectPlatformAccounts.useSetting(),v=(0,f.default)(),S=p.default.useExperiment({}).enabled;r.useEffect((function(){l.default.fetch()}),[]);return t?Y:F(N.FormSection,{className:D.default.connections,tag:N.FormTitleTags.H1,title:R.default.Messages.CONNECTIONS},void 0,F("div",{className:(0,o.default)(D.default.accountList,(e={},e[L.default.marginBottom20]=!M.isPlatformEmbedded,e))},void 0,F(N.FormTitle,{className:L.default.marginBottom4},void 0,R.default.Messages.CONNECT_ACCOUNT_TITLE),F(N.FormText,{className:L.default.marginBottom8},void 0,R.default.Messages.CONNECT_ACCOUNT_DESCRIPTION),F("div",{className:D.default.connectedAccounts},void 0,c.default.filter((function(e){return e.enabled&&(e.type!==P.PlatformTypes.PLAYSTATION||S)})).map((function(e){return F(s.default,{type:e.type,className:D.default.accountBtn,innerClassName:D.default.accountBtnInner},e.type)})))),function(){
if(M.isPlatformEmbedded)return F(h.default,{value:d,onChange:C.DetectPlatformAccounts.updateSetting,className:(0,o.default)(L.default.marginTop20,L.default.marginBottom20)},void 0,R.default.Messages.DETECT_PLATFORM_ACCOUNTS)}(),function(){var e;e=a?F(I.default,{className:L.default.marginTop20,type:I.default.Type.SPINNING_CIRCLE}):0===u.length?F(T.default,{className:L.default.marginTop40,theme:v},void 0,F(T.EmptyStateImage,{darkSrc:n(117399),lightSrc:n(408056),width:230,height:220}),F(T.EmptyStateText,{note:R.default.Messages.CONNECTED_ACCOUNTS_NONE},void 0,R.default.Messages.CONNECTED_ACCOUNTS_NONE_TITLE)):u.filter((function(e){return c.default.isSupported(e.type)})).map((function(e,t){return F(H,{theme:v,account:e,onDisconnect:function(){return n=(t=e).type,a=t.id,void l.default.disconnect(n,a);var t,n,a}},t)}));return F(N.FormItem,{className:D.default.connectionList},void 0,e)}())};V.displayName="UserSettingsConnections";var W=V;t.default=W},367865:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a,r=K(n(667294)),o=V(n(294184)),i=V(n(496486)),l=K(n(536211)),u=n(188622),s=K(n(622349)),d=K(n(483559)),f=V(n(379319)),c=V(n(680219)),p=V(n(14096)),v=n(713746),m=n(224179),S=n(329117),E=n(113307),_=V(n(954970)),g=V(n(909243)),y=V(n(859024)),T=V(n(871778)),O=V(n(728429)),I=n(81636),h=K(n(956117)),N=V(n(558402)),A=K(n(737705)),b=V(n(530250)),M=n(772575),C=V(n(80828)),P=V(n(567668)),R=n(645758),D=V(n(279950)),L=n(688388),U=V(n(114655)),w=n(3400),G=n(194322),k=n(967965),B=n(770348),F=n(871615),j=V(n(383654)),x=V(n(122688)),H=V(n(380203)),Y=V(n(840348));function V(e){return e&&e.__esModule?e:{default:e}}function W(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(W=function(e){return e?n:t})(e)}function K(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=W(t);if(n&&n.has(e))return n.get(e)
;var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}function z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done);i=!0){o.push(a.value);if(t&&o.length===t)break}}catch(e){l=!0;r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||$(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e){return function(e){if(Array.isArray(e))return q(e)}(e)||function(e){
if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||$(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e,t){if(e){if("string"==typeof e)return q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?q(e,t):void 0}}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function X(e,t,n,a,r,o,i){try{var l=e[o](i),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(a,r)}function Z(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){X(o,a,r,i,l,"next",e)}function l(e){X(o,a,r,i,l,"throw",e)}i(void 0)}))}}function J(e,t){
e.prototype=Object.create(t.prototype);e.prototype.constructor=e;ee(e,t)}function ee(e,t){ee=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return ee(e,t)}function te(){te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return te.apply(this,arguments)}function ne(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var ae=["discord_web","discord_marketing","discord_ios","discord_android"],re=[{value:"branch",label:"Branch Name"},{value:"id",label:"Build ID"}];function oe(e){
return"discord_ios"in e||"discord_android"in e}var ie=ne(w.ModalHeader,{separator:!1},void 0,ne(M.Heading,{variant:"heading-lg/medium",level:2},void 0,"Choose A Project to Override"));function le(e){return new Promise((function(t){(0,G.openModal)((function(n){var a=function(e){n.onClose();t(e)};return r.createElement(w.ModalRoot,te({},n,{"aria-label":"Choose A Project to Override"}),ie,ne(w.ModalContent,{},void 0,ne("div",{className:j.default.buildOverrideList},void 0,e.map((function(e){return ne(h.default,{value:e,color:h.default.Colors.GREEN,onClick:function(){return a(e)}},e,e)})))),ne(w.ModalFooter,{},void 0,ne(h.default,{color:h.default.Colors.PRIMARY,look:h.default.Looks.LINK,onClick:function(){return a(null)}},void 0,"Nevermind")))}))}))}var ue=function(e){J(t,e);function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];(t=e.call.apply(e,[this].concat(a))||this).handleRemoveBuildOverride=function(){t.props.onBuildOverrideRemoved(t.props.project)}
;t.handleOverrideIdChanged=function(e){t.props.onBuildOverrideUpdated(t.props.project,{id:e})};t.handleOverrideTypeChanged=function(e){t.props.onBuildOverrideUpdated(t.props.project,{type:e,id:""})};return t}t.prototype.render=function(){var e,t=this.props,n=t.project,a=t.overrideType,r=t.overrideId,i=t.disabled,l=t.error,u="branch"===a?"Branch Name":"Build ID";return ne(b.default,{direction:b.default.Direction.VERTICAL,className:(0,o.default)(j.default.buildOverrideGroup,H.default.marginBottom20,x.default.card,j.default.row)},void 0,ne(f.default,{className:(0,o.default)(j.default.removeBuildOverride,(e={},e[j.default.removeBuildOverrideDisabled]=i,e)),onClick:i?void 0:this.handleRemoveBuildOverride}),ne(b.default,{className:H.default.marginBottom8},void 0,ne(b.default.Child,{basis:"50%"},void 0,ne(L.FormItem,{title:"Override Type",className:j.default.item},void 0,ne(k.SingleSelect,{options:re,onChange:this.handleOverrideTypeChanged,value:a,isDisabled:i}))),ne(b.default.Child,{
basis:"50%"},void 0,ne(L.FormItem,{title:u,className:j.default.item},void 0,ne(D.default,{value:r,onChange:this.handleOverrideIdChanged,disabled:i})))),ne(b.default.Child,{},void 0,null!=l&&""!==l&&ne(L.FormText,{className:j.default.item,style:{color:B.Colors.STATUS_RED},type:L.FormText.Types.DESCRIPTION},void 0,l),ne(L.FormText,{className:j.default.item,type:L.FormText.Types.DESCRIPTION},void 0,"This controls the build that will be served for the ",ne("code",{},void 0,n)," project.")))};return t}(r.Component);ue.displayName="BuildOverride";var se=ne(A.EmptyStateText,{},void 0,"You have no build overrides configured."),de=ne(R.Text,{color:"text-danger",variant:"text-md/normal"},void 0,"Mobile build overrides must be generated using the desktop/web stable client for now!"),fe=ne(L.FormDivider,{}),ce=function(e){J(t,e);function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];(t=e.call.apply(e,[this].concat(a))||this).state={loading:!0,buildOverrides:{},
loadedBuildOverrides:{},errors:{},saving:!1,didSave:!1};t.handleAddBuildOverride=Z(regeneratorRuntime.mark((function e(){var n,a,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return le(t.getAvailableProjects());case 2:if(null!=(a=e.sent)){e.next=5;break}return e.abrupt("return");case 5:r=te({},t.state.buildOverrides,((n={})[a]={type:"branch",id:""},n));t.setState({buildOverrides:r});case 7:case"end":return e.stop()}}),e)})));t.handleBuildOverrideUpdated=function(e,n){var a,r=t.state.buildOverrides,o=te({},null!=r?r[e]:{},{},n),i=te({},t.state.buildOverrides,((a={})[e]=o,a));t.setState({buildOverrides:i})};t.handleBuildOverrideRemoved=function(e){var n=te({},t.state.buildOverrides);delete n[e];t.setState({buildOverrides:n})};t.handleDiscardChanges=function(){t.setState({buildOverrides:i.default.cloneDeep(t.state.loadedBuildOverrides),errors:{},didSave:!1})};t.handleSaveChanges=Z(regeneratorRuntime.mark((function e(){var n,a,r,o
;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(n=t.state.buildOverrides)){e.next=3;break}return e.abrupt("return");case 3:t.setState({saving:!0});e.next=6;return(0,v.applyStaffBuildOverride)(n);case 6:if(200===(a=e.sent).status){r=a.body;t.setState({buildOverrides:r,loadedBuildOverrides:i.default.cloneDeep(r),errors:{},didSave:!0,saving:!1})}else if(400===a.status){o=a.body;t.setState({errors:o,saving:!1,didSave:!1})}else t.setState({saving:!1,didSave:!1});case 8:case"end":return e.stop()}}),e)})));t.handleLinkGeneration=function(){var e=t.state.buildOverrides;(0,G.openModal)((function(t){return r.createElement(ve,te({},t,{buildOverrides:e}))}))};return t}var a=t.prototype;a.refreshBuildOverrides=function(){var e=Z(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({loading:!0});e.next=3;return(0,m.getBuildOverride)();case 3:t=e.sent;this.setState({
loading:!1,buildOverrides:t,loadedBuildOverrides:i.default.cloneDeep(t),errors:{}});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}();a.isDirty=function(){var e=this.state,t=e.buildOverrides,n=e.loadedBuildOverrides;return!i.default.isEqual(t,n)};a.componentDidMount=function(){this.refreshBuildOverrides()};a.getAvailableProjects=function(){var e=this.state.buildOverrides;if(null==e)return[];var t=Object.keys(e);return i.default.without.apply(i.default,[ae].concat(Q(t)))};a.renderEmpty=function(){return ne(A.default,{theme:T.default.theme,className:(0,o.default)(H.default.marginTop40,H.default.marginBottom20)},void 0,ne(A.EmptyStateImage,{darkSrc:n(921912),lightSrc:n(964766),width:294,height:192}),se)};a.renderItems=function(){var e=this,t=this.state,n=t.buildOverrides,a=t.saving,r=t.errors;return null==n?null:i.default.map(n,(function(t,n){return ne(ue,{project:n,overrideType:t.type,overrideId:t.id,disabled:a,error:r[n],
onBuildOverrideUpdated:e.handleBuildOverrideUpdated,onBuildOverrideRemoved:e.handleBuildOverrideRemoved},n)}))};a.renderRefreshButton=function(){return!this.state.didSave||this.isDirty()?null:ne(b.default,{grow:0,direction:b.default.Direction.HORIZONTAL_REVERSE},void 0,ne(b.default.Child,{grow:0},void 0,ne(h.default,{onClick:function(){return location.reload()},color:h.default.Colors.PRIMARY},void 0,"Reload App")))};a.renderLinkButton=function(){var e=this.state.buildOverrides;return null==e||0===Object.keys(e).length?null:ne(b.default,{grow:0,direction:b.default.Direction.HORIZONTAL_REVERSE},void 0,ne(b.default.Child,{grow:0},void 0,ne(h.default,{onClick:this.handleLinkGeneration,color:h.default.Colors.BRAND},void 0,"Generate Public Link")))};a.renderSaveButton=function(){if(!this.isDirty())return null;var e=this.state,t=e.saving,n=e.buildOverrides;return ne(b.default,{grow:0,direction:b.default.Direction.HORIZONTAL_REVERSE},void 0,ne(b.default.Child,{grow:0},void 0,ne(h.default,{
disabled:oe(null!=n?n:{}),onClick:this.handleSaveChanges,submitting:t,color:h.default.Colors.GREEN},void 0,"Save Build Overrides")),ne(b.default.Child,{grow:0},void 0,ne(h.default,{onClick:this.handleDiscardChanges,disabled:t,color:h.default.Colors.RED},void 0,"Discard Changes")))};a.render=function(){var e,t=this.state,n=t.loading,a=t.saving,r=t.buildOverrides;e=n?ne(C.default,{className:H.default.marginTop20}):null!=r&&0===Object.keys(r).length?this.renderEmpty():this.renderItems();var o=!a&&!n&&this.getAvailableProjects().length>0,i=oe(null!=r?r:{})&&"stable"!==window.GLOBAL_ENV.RELEASE_CHANNEL?de:null;return ne(L.FormSection,{className:H.default.marginTop60},void 0,ne(b.default,{className:H.default.marginBottom20},void 0,ne(b.default.Child,{},void 0,ne(L.FormTitle,{tag:L.FormTitleTags.H1},void 0,"Build Overrides")),ne(b.default.Child,{grow:0},void 0,ne(h.default,{size:h.ButtonSizes.SMALL,onClick:this.handleAddBuildOverride,disabled:!o
},void 0,"Add Build Override"))),fe,ne(b.default,{direction:b.default.Direction.VERTICAL},void 0,i,e,ne(b.default,{grow:0,direction:b.default.Direction.HORIZONTAL_REVERSE},void 0,this.renderRefreshButton(),this.renderSaveButton(),this.renderLinkButton())))};return t}(r.Component);ce.displayName="BuildOverrides";var pe=ne(M.Heading,{variant:"heading-lg/medium",level:2},void 0,"Generate Public Build Override Link"),ve=function(e){J(t,e);function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];(t=e.call.apply(e,[this].concat(a))||this).state={ttlSeconds:3600,releaseChannel:"all",userIds:[],userIdEntry:"",userIdEntryError:null,allowedVersions:[],allowedVersionEntry:"",allowedVersionEntryError:null,publicLink:" ",statusText:null,statusTextColor:U.default.Colors.STATUS_RED,allowLoggedOut:!1};t.setUserEntryError=function(e){t.setState({userIdEntryError:e})};t.setStatusMessage=function(e,n){t.setState({statusText:e,
statusTextColor:null!=n?n:U.default.Colors.STATUS_RED})};t.handleUserIDEntry=function(e){e=e.trim();if(!/^\d+$/.test(e))return t.setUserEntryError("User IDs are numbers!");t.setState({userIdEntry:e})};t.handleUserEnter=function(e){e.charCode===B.KeyboardKeys.ENTER&&t.handleAddUser()};t.handleAddUser=function(){var e=t.state,n=e.userIds,a=e.userIdEntry;if(0===a.length)return t.setUserEntryError("Enter a valid user ID!");if(n.indexOf(a)>=0)return t.setUserEntryError("You already added that user!");t.setState({userIds:[].concat(Q(n),[a]),userIdEntry:""})};t.handleRemoveUser=function(e){var n=t.state.userIds;n=n.filter((function(t){return t!==e}));t.setState({userIds:n})};t.setAllowedVersionError=function(e){t.setState({allowedVersionEntryError:e})};t.handleAllowedVersionEntry=function(e){t.setState({allowedVersionEntry:e})};t.handleAllowedVersionEnter=function(e){e.charCode===B.KeyboardKeys.ENTER&&t.handleAddAllowedVersion()};t.handleAddAllowedVersion=function(){
var e=t.state,n=e.allowedVersions,a=e.allowedVersionEntry;if(0===(a=a.trim()).length)return t.setAllowedVersionError("Enter a valid version number!");if(n.indexOf(a)>=0)return t.setAllowedVersionError("You already added that version!");t.setState({allowedVersions:[].concat(Q(n),[a]),allowedVersionEntry:"",allowedVersionEntryError:""})};t.handleRemoveAllowedVersion=function(e){var n=t.state.allowedVersions;n=n.filter((function(t){return t!==e}));t.setState({allowedVersions:n})};t.handleAllowLoggedOut=function(e){t.setState({allowLoggedOut:e})};t.handleExpirationChange=function(e){t.setState({ttlSeconds:e})};t.handleReleaseChannelChange=function(e){t.setState({releaseChannel:e})};t.generatePayload=function(){return{overrides:t.props.buildOverrides,meta:{release_channel:"all"===t.state.releaseChannel?null:t.state.releaseChannel,ttl_seconds:t.state.ttlSeconds,user_ids:t.state.userIds,allowed_versions:t.isMobile()?t.state.allowedVersions:void 0,allow_logged_out:t.state.allowLoggedOut}}}
;t.handleGenerateLink=Z(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isMobile()||0!==t.state.allowedVersions.length){e.next=3;break}t.setAllowedVersionError("You must add at least one allowed version for iOS");return e.abrupt("return");case 3:t.setStatusMessage(null);n=t.generatePayload();e.next=7;return(0,v.getPublicBuildOverrideLink)(n);case 7:if(!1!==(a=e.sent).error)t.setStatusMessage(a.error.toString(),U.default.Colors.STATUS_RED);else{t.setState({publicLink:a.url.toString()});0===n.meta.user_ids.length&&t.setStatusMessage("Warning! No users added to the whitelist! This link could be used by anyone to override their build.",U.default.Colors.STATUS_YELLOW)}case 9:case"end":return e.stop()}}),e)})));return t}var a=t.prototype;a.isMobile=function(){var e;return oe(null!==(e=this.props.buildOverrides)&&void 0!==e?e:{})};a.renderSettingsForm=function(){
var e=this,t=this.state,n=t.ttlSeconds,a=t.releaseChannel,o=t.userIdEntry,i=t.userIdEntryError,l=t.userIds,u=t.allowedVersions,s=t.allowedVersionEntry,d=t.allowedVersionEntryError,f=t.allowLoggedOut,c=F.BUILD_OVERRIDE_EXPIRATION_OPTIONS.find((function(e){return e.value===n})),p=u.map((function(e){return{label:e,value:e}})),v=l.map((function(e){return{label:e,value:e}}));return ne(b.default.Child,{basis:"70%"},void 0,ne(L.FormItem,{title:"Expire After",className:H.default.marginBottom20},void 0,ne(k.SingleSelect,{value:null!=c?c.value:null,options:F.BUILD_OVERRIDE_EXPIRATION_OPTIONS,onChange:this.handleExpirationChange})),this.isMobile()?null:ne(L.FormItem,{title:"Release Channel",className:H.default.marginBottom20},void 0,ne(k.SingleSelect,{value:a,options:F.BUILD_OVERRIDE_RELEASE_CHANNEL_OPTIONS,onChange:this.handleReleaseChannelChange})),this.isMobile()?r.createElement(r.Fragment,null,ne(L.FormItem,{title:"Add allowed app version (required)",className:H.default.marginBottom20
},void 0,ne(b.default,{direction:b.default.Direction.HORIZONTAL},void 0,ne(b.default.Child,{wrap:!0,basis:"90%"},void 0,ne(D.default,{autoFocus:!0,value:s,onKeyPress:this.handleAllowedVersionEnter,error:d,onChange:this.handleAllowedVersionEntry,placeholder:"Example: 34.0"})),ne(h.default,{onClick:this.handleAddAllowedVersion},void 0,"Add"))),ne(L.FormItem,{title:"Remove allowed app version",className:H.default.marginBottom20},void 0,ne(k.SingleSelect,{value:null,options:p,onChange:this.handleRemoveAllowedVersion,isDisabled:0===u.length}))):null,this.isMobile()?null:r.createElement(r.Fragment,null,ne(L.FormItem,{title:"Add User ID (optional)",className:H.default.marginBottom20},void 0,ne(b.default,{direction:b.default.Direction.HORIZONTAL},void 0,ne(b.default.Child,{wrap:!0,basis:"90%"},void 0,ne(D.default,{autoFocus:!0,value:o,onKeyPress:this.handleUserEnter,error:i,onBlur:function(){return e.setUserEntryError("")},onChange:this.handleUserIDEntry})),ne(h.default,{
onClick:this.handleAddUser},void 0,"Add"))),ne(L.FormItem,{title:"Remove User ID",className:H.default.marginBottom20},void 0,ne(k.SingleSelect,{value:null,options:v,onChange:this.handleRemoveUser,isDisabled:0===l.length}))),ne(P.default,{onChange:this.handleAllowLoggedOut,value:f},void 0,"Allow logged out users"))};a.renderPayloadBlock=function(){var e=JSON.stringify(this.generatePayload(),null,2),t=function(){return e},a=ne(S.LazyLibrary,{createPromise:function(){return Promise.resolve().then(n.bind(n,891433))},webpackId:891433,renderFallback:t,render:function(n){var a=n.highlight("json",e,!0);return null==a?t():ne("code",{className:"hljs scroller "+a.language+" "+Y.default.scrollbarGhost+" "+j.default.codebox,dangerouslySetInnerHTML:{__html:a.value}})}});return ne(b.default.Child,{},void 0,ne(N.default,{},void 0,ne("pre",{},void 0,a)))};a.renderLinkForm=function(){var e=this.state,t=e.statusTextColor,n=e.statusText,a=e.publicLink;return ne("div",{},void 0,ne(L.FormItem,{
title:"Signed Link"},void 0,ne(b.default,{},void 0,ne(b.default.Child,{wrap:!0,basis:"75%"},void 0,ne(c.default,{value:a})),ne(h.default,{onClick:this.handleGenerateLink},void 0,"Generate Link"))),ne(U.default,{color:t,className:H.default.marginBottom8+" "+H.default.marginTop8},void 0,n))};a.render=function(){var e=this.props,t=e.onClose,n=e.transitionState;return ne(w.ModalRoot,{size:w.ModalSize.LARGE,transitionState:n,"aria-label":"Generate Public Build Override Link"},void 0,ne(w.ModalHeader,{justify:b.default.Justify.BETWEEN,separator:!1},void 0,pe,ne(w.ModalCloseButton,{onClick:t})),ne(w.ModalContent,{},void 0,ne(b.default,{},void 0,this.renderSettingsForm(),this.renderPayloadBlock()),this.renderLinkForm()))};return t}(r.Component);ve.displayName="BuildOverrideLinkModal";var me=function(e){var t=e.isTracingRequests,n=e.isForcedCanary,a=e.isLoggingGatewayEvents,o=e.isLoggingOverlayEvents,i=e.isLoggingAnalyticsEvents,s=(e.isAxeEnabled,
e.isSourceMapsEnabled),f=e.isAnalyticsDebuggerEnabled,c=e.isDevToolsEnabled,v=(0,l.useStateFromStores)([O.default],(function(){return O.default.getCurrentUser()}));return ne(L.FormSection,{title:"Developer Flags",tag:L.FormTitleTags.H1},void 0,(null==v?void 0:v.isStaff())&&ne(P.default,{value:c,note:r.createElement(r.Fragment,null,"Enable client DevTools (open via Help menu in top right or with"," ",ne("kbd",{className:j.default.key},void 0,p.default.modKey)," + ",ne("kbd",{className:j.default.key},void 0,p.default.altKey)," ","+ ",ne("kbd",{className:j.default.key},void 0,"O"),")."),onChange:function(e){return(0,E.updateDevToolsSettings)({devToolsEnabled:e})}},void 0,"Enable DevTools"),ne(P.default,{value:t,note:"Force trace all client requests with APM",onChange:function(e){return(0,u.setDeveloperOptionSettings)({trace:e})}},void 0,"Enable Tracing Requests"),ne(P.default,{value:n,note:"Force all API requests to canary instances",onChange:function(e){return(0,
u.setDeveloperOptionSettings)({canary:e})}},void 0,"Enable Forced Canary"),ne(P.default,{value:a,note:"Logs all incoming and outgoing gateway events to the developer console, enable verbose logging in the developer console to see!",onChange:function(e){return(0,u.setDeveloperOptionSettings)({logGatewayEvents:e})}},void 0,"Enable Logging of Gateway Events to Console"),ne(P.default,{value:o,note:"Logs all overlay related RPC events. Super noisy if an overlay is connected",onChange:function(e){return(0,u.setDeveloperOptionSettings)({logOverlayEvents:e})}},void 0,"Enable Logging of Overlay RPC Events & Commands"),ne(P.default,{value:i,note:"Logs all analytics events to the developer console",onChange:function(e){return(0,u.setDeveloperOptionSettings)({logAnalyticsEvents:e})}},void 0,"Enable Logging of Analytics Events"),ne(P.default,{value:s,note:"Only enable on devices you trust.",onChange:function(e){return(0,u.setDeveloperOptionSettings)({sourceMapsEnabled:e})}
},void 0,"Enable source maps to be loaded on this client"),ne(P.default,{value:f,note:"Displays a floating debugger with viewed impressions",onChange:function(e){return(0,u.setDeveloperOptionSettings)({analyticsDebuggerEnabled:e})}},void 0,"Enable standard analytics debugger view"),null,(null==v?void 0:v.isStaff())?ne(P.default,{value:null==v?void 0:v.hasDisabledPremium(),note:"Force non premium user experience locally",onChange:function(e){return d.setFlag(B.UserFlags.DISABLE_PREMIUM,e)}},void 0,"Enable force non nitro experience locally"):null)};me.displayName="DeveloperFlagsInner";var Se=ne(h.default,{onClick:function(){throw new Error("Send help")}},void 0,"Trigger onClick Throw");function Ee(){var e=z(r.useState(!1),2),t=e[0],n=e[1],a=z(r.useState(""),2),o=a[0],i=a[1];r.useEffect((function(){Z(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return(0,I.getOverlayURL)();case 2:t=e.sent;i(t);case 4:
case"end":return e.stop()}}),e)})))()}),[]);return t?{}:ne("div",{className:j.default.buttonsContainer},void 0,ne(h.default,{onClick:function(){return n(!0)}},void 0,"Trigger React Crash"),Se,ne(h.default,{onClick:function(){return window.open(o,"_blank")},disabled:""===o},void 0,"Open Overlay"))}Ee.displayName="UsefulButtons";var _e=l.default.connectStores([g.default,_.default],(function(){return{isTracingRequests:g.default.isTracingRequests,isForcedCanary:g.default.isForcedCanary,isLoggingGatewayEvents:g.default.isLoggingGatewayEvents,isLoggingOverlayEvents:g.default.isLoggingOverlayEvents,isLoggingAnalyticsEvents:g.default.isLoggingAnalyticsEvents,isAxeEnabled:g.default.isAxeEnabled,isSourceMapsEnabled:g.default.sourceMapsEnabled,isAnalyticsDebuggerEnabled:g.default.isAnalyticsDebuggerEnabled,isDevToolsEnabled:_.default.devToolsEnabled}}))(me),ge=ne(L.FormTitle,{},void 0,"Copy the ID of the Survey you want to test:"),ye=ne(h.default,{type:"submit"},void 0,"Save Override")
;function Te(){var e=(0,l.useStateFromStores)([y.default],(function(){return y.default.getSurveyOverride()})),t=z(r.useState(null!=e?e:""),2),n=t[0],a=t[1];return ne(L.FormSection,{tag:L.FormTitleTags.H1,title:"Survey Override",className:H.default.marginTop60},void 0,ge,ne("form",{className:j.default.surveyOverride,onSubmit:function(e){e.preventDefault();n.length>0?s.overrideSurvey(n):s.overrideSurvey(null)}},void 0,ne(D.default,{className:j.default.surveyOverrideInput,value:n,onChange:a}),ye))}Te.displayName="SurveyOverride";var Oe=ne(r.Fragment,{},void 0,ne(_e,{}),ne(Ee,{}),ne(Te,{}),ne(ce,{})),Ie=function(e){J(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.render=function(){return Oe};return t}(r.PureComponent);Ie.displayName="UserSettingsModalDeveloperOptions";var he=Ie;t.default=he},117944:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=ee
;var a,r=k(n(667294)),o=w(n(294184)),i=k(n(536211)),l=w(n(234161)),u=w(n(379319)),s=w(n(834162)),d=w(n(871778)),f=k(n(956117)),c=w(n(16941)),p=w(n(265851)),v=k(n(737705)),m=w(n(410208)),S=w(n(618993)),E=w(n(160629)),_=w(n(567668)),g=w(n(730977)),y=n(688388),T=w(n(68259)),O=w(n(330998)),I=w(n(804080)),h=w(n(614617)),N=n(862728),A=n(864489),b=n(894826),M=n(770348),C=w(n(247001)),P=w(n(835244)),R=w(n(480798)),D=w(n(3066)),L=w(n(122688)),U=w(n(380203));function w(e){return e&&e.__esModule?e:{default:e}}function G(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(G=function(e){return e?n:t})(e)}function k(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=G(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}function B(e){return function(e){if(Array.isArray(e))return W(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||V(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(){F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return F.apply(this,arguments)}function j(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;x(e,t)}function x(e,t){x=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return x(e,t)}function H(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3
;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function Y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done);i=!0){o.push(a.value);if(t&&o.length===t)break}}catch(e){l=!0;r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||V(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e,t){if(e){if("string"==typeof e)return W(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?W(e,t):void 0}}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var K=i.default.connectStores([d.default],(function(){return{theme:d.default.theme}}))(v.default),z=(0,A.isWindows)();function Q(e){var t=e.onClose,n=(0,i.useStateFromStores)([s.default],(function(){return s.default.getCandidateGames()})),a=Y(r.useState(null),2),u=a[0],d=a[1];var c=n.map((function(e){return{value:e.pid,label:null!=e.name?e.name:""}}));return H(p.default,{className:(0,o.default)(P.default.addGamePopout,R.default.elevationBorderHigh),"aria-label":C.default.Messages.SETTINGS_GAMES_ADD_NEW_GAME},void 0,H(h.default,{placeholder:C.default.Messages.SELECT,value:u,options:c,onChange:function(e){d(e)}}),H(y.FormDivider,{className:(0,o.default)(U.default.marginTop8,U.default.marginBottom8)}),H("div",{
className:(0,o.default)(P.default.actions,D.default.horizontal)},void 0,H(f.default,{className:P.default.cancelButton,look:f.ButtonLooks.LINK,color:f.ButtonColors.PRIMARY,onClick:t},void 0,C.default.Messages.CANCEL),H(f.default,{disabled:null==u,onClick:function(){if(null!=u){l.default.addGame(u);t()}}},void 0,C.default.Messages.SETTINGS_GAMES_ADD_NEW_GAME)))}Q.displayName="AddGamePopout";var $=function(e){j(t,e);function t(){for(var t,n,a,r,o,i=arguments.length,u=new Array(i),s=0;s<i;s++)u[s]=arguments[s];(o=e.call.apply(e,[this].concat(u))||this).state={editingName:null!==(t=null===(n=o.props.game)||void 0===n?void 0:n.name)&&void 0!==t?t:"",gameName:null!==(a=null===(r=o.props.game)||void 0===r?void 0:r.name)&&void 0!==a?a:""};o.handleRemoveClick=function(){var e=o.props.game;null!=e&&l.default.deleteEntry(e)};o.handleNameEdit=function(){var e=o.props.game,t=o.state.editingName;null!=e&&e.name!==t&&l.default.editName(e,t)};o.handleNameChange=function(e){o.setState({
editingName:e.target.value})};o.handleOverlayToggle=function(){var e=o.props.game;null!=e&&l.default.toggleOverlay(e)};return o}t.getDerivedStateFromProps=function(e,t){var n,a=e.game,r=e.nowPlaying,o=t.editingName,i=t.gameName;return r&&null!=a&&a.name!==i&&a.name!==o?{editingName:a.name,gameName:a.name}:{gameName:null!==(n=null==a?void 0:a.name)&&void 0!==n?n:""}};var n=t.prototype;n.renderName=function(){var e=this.props,t=e.game,n=e.isOverride;return null==t?H("div",{className:P.default.gameName},void 0,C.default.Messages.SETTINGS_GAMES_NO_GAME_DETECTED):t.verified&&!n?H("div",{className:P.default.detectedApplication},void 0,H("div",{className:P.default.gameName},void 0,t.name),H(g.default,{text:C.default.Messages.SETTINGS_GAMES_VERIFIED_ICON},void 0,(function(e){return r.createElement(m.default,F({className:P.default.gameVerifiedIcon,size:18,color:M.Colors.BRAND_500},e),H(I.default,{width:18,height:18,color:M.Colors.WHITE}))}))):H("input",{className:(0,
o.default)(P.default.gameName,P.default.gameNameInput),type:"text",maxLength:128,value:this.state.editingName,onBlur:this.handleNameEdit,onKeyDown:this.handleEnterKey,onChange:this.handleNameChange})};n.renderLastPlayed=function(){var e=this.props,t=e.game,n=e.nowPlaying;if(null==t)return H("div",{className:P.default.lastPlayed},void 0,C.default.Messages.SETTINGS_GAMES_NOT_PLAYING);var a,r=t.played,o=t.exePath;n?a=C.default.Messages.SETTINGS_GAMES_NOW_PLAYING_STATE:null!=r&&""!==r&&(a=C.default.Messages.SETTINGS_GAMES_LAST_PLAYED.format({when:r}));return H("div",{className:P.default.lastPlayed},void 0,H(S.default,{hoverText:null!=o&&""!==o?o.toUpperCase():""},void 0,a))};n.renderOverlayToggle=function(){var e=this,t=this.props.game;if(!z||null==t)return null;var n=t.overlay,a=t.overlayWarn,i=n?C.default.Messages.SETTINGS_GAMES_OVERLAY_ON:C.default.Messages.SETTINGS_GAMES_OVERLAY_OFF,l=n?H(T.default,{className:P.default.overlayToggleIconOn,foreground:P.default.fill}):H(O.default,{
className:P.default.overlayToggleIconOff,foreground:P.default.fill}),u=a?H(g.default,{text:C.default.Messages.SETTINGS_GAMES_OVERLAY_WARNING},void 0,(function(e){return r.createElement("i",F({className:P.default.overlayWarningIcon},e))})):null;return H("div",{className:(0,o.default)(D.default.flexCenter,D.default.noWrap,D.default.justifyBetween)},void 0,u,H("div",{className:P.default.overlayStatusText},void 0,i),H(g.default,{text:C.default.Messages.SETTINGS_GAMES_TOGGLE_OVERLAY},void 0,(function(t){var n=t.onMouseEnter,a=t.onMouseLeave;return H(c.default,{"aria-label":C.default.Messages.SETTINGS_GAMES_TOGGLE_OVERLAY,className:P.default.overlayToggleIcon,onClick:e.handleOverlayToggle,onMouseEnter:n,onMouseLeave:a},void 0,l)})))};n.renderRemove=function(){return H(u.default,{className:P.default.removeGame,onClick:this.handleRemoveClick})};n.render=function(){var e,t=this.props,n=t.nowPlaying,a=t.game,r=t.isOverride,i=null!=a;return H("div",{className:(0,
o.default)(D.default.flexCenter,((e={})[P.default.game]=!n,e[P.default.activeGame]=n,e[L.default.card]=!n,e[P.default.nowPlaying]=i&&n,e[P.default.notDetected]=!i&&n,e))},void 0,H("div",{className:(0,o.default)(P.default.gameNameLastPlayed,D.default.vertical)},void 0,this.renderName(),this.renderLastPlayed()),this.renderOverlayToggle(),null==a||n&&!r?null:this.renderRemove())};n.handleEnterKey=function(e){if(13===e.keyCode){e.currentTarget.blur();e.preventDefault()}};return t}(r.PureComponent);$.displayName="Game";$.defaultProps={nowPlaying:!1,isOverride:!1};function q(e){var t=e.children;return H(K,{className:U.default.marginTop40},void 0,H(v.EmptyStateImage,{darkSrc:n(498913),lightSrc:n(598150),width:430,height:250}),t)}q.displayName="GameEmptyStateImage";var X=H(q,{}),Z=function(e){j(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.componentDidMount=function(){s.default.watchCandidateGames(!0)};n.componentWillUnmount=function(){
s.default.watchCandidateGames(!1)};n.renderPopout=function(e){return H(Q,{onClose:e.closePopout})};n.renderGameList=function(){var e=this.props,t=e.gameHistory,n=e.overrideExePaths;return 0===t.length?H(q,{},void 0,H(v.EmptyStateText,{},void 0,C.default.Messages.SETTINGS_GAMES_NO_GAMES_HEADER)):H(y.FormSection,{className:U.default.marginTop40},void 0,H(y.FormTitle,{className:U.default.marginBottom4},void 0,C.default.Messages.SETTINGS_GAMES_ADDED_GAMES_LABEL),t.map((function(e){return H($,{game:e,isOverride:n.has(e.exePath)},e.exePath)})))};n.renderGameDetails=function(){if(!A.isPlatformEmbedded)return X;var e=this.props,t=e.runningGame,n=e.overrideExePaths;return r.createElement(r.Fragment,null,H($,{game:t,isOverride:null!=t&&n.has(t.exePath),nowPlaying:!0}),H("div",{className:(0,o.default)(P.default.nowPlayingAdd,U.default.marginReset,U.default.marginTop8,U.default.marginBottom20)},void 0,H("span",{},void 0,C.default.Messages.SETTINGS_GAMES_NOT_SEEING_GAME),H(E.default,{
renderPopout:this.renderPopout,align:E.default.Align.CENTER,position:E.default.Positions.BOTTOM},void 0,(function(e){return r.createElement(f.default,F({},e,{look:f.ButtonLooks.LINK,size:f.ButtonSizes.MIN,color:f.ButtonColors.LINK}),C.default.Messages.SETTINGS_GAMES_ADD_GAME)}))),this.renderGameList())};n.render=function(){var e=this.props.showCurrentGame,t=A.isPlatformEmbedded?C.default.Messages.SHOW_CURRENT_ACTIVITY_DESC_EMBEDDED:C.default.Messages.SHOW_CURRENT_ACTIVITY_DESC;return H(r.Fragment,{},void 0,H(y.FormSection,{tag:y.FormTitle.Tags.H1,title:C.default.Messages.ACTIVITY_STATUS},void 0,H(_.default,{value:e,onChange:b.ShowCurrentGame.updateSetting,note:t},void 0,C.default.Messages.SHOW_CURRENT_ACTIVITY),this.renderGameDetails()))};return t}(r.PureComponent);Z.displayName="UserSettingsGameActivity";var J=(0,N.cachedFunction)((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Set(t.map((function(e){return e.exePath})))}));function ee(){
var e=(0,i.useStateFromStoresObject)([s.default],(function(){return{gameHistory:s.default.getGamesSeen(!0),runningGame:s.default.getSettingsGame(),overrideExePaths:J.apply(void 0,B(s.default.getOverrides()))}}));return r.createElement(Z,F({},e,{showCurrentGame:b.ShowCurrentGame.useSetting()}))}ee.displayName="ConnectedUserSettingsGameActivity"},418415:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a
}(n(667294)),o=g(n(441143)),i=g(n(536211)),l=g(n(810139)),u=g(n(508875)),s=g(n(677837)),d=g(n(958698)),f=g(n(728429)),c=g(n(558402)),p=n(772575),v=n(645758),m=g(n(164697)),S=n(770348),E=g(n(247001)),_=g(n(676366));function g(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function T(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function O(e,t){O=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return O(e,t)}var I=T(l.default,{}),h=function(e){!function(e,t){
e.prototype=Object.create(t.prototype);e.prototype.constructor=e;O(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.renderIntroHeader=function(){return null==this.props.houseMembership?E.default.Messages.HYPESQUAD_HEADING:E.default.Messages.HYPESQUAD_HEADING_EXISTING_MEMBER};n.render=function(){var e=this.props,t=e.houseMembership,n=e.isClaimed,a=e.isVerified;return T(r.Fragment,{},void 0,T("div",{className:_.default.intro},void 0,T(p.Heading,{variant:"heading-xxl/medium",className:_.default.introHeader,level:3},void 0,this.renderIntroHeader()),T(v.Text,{variant:"text-lg/normal"},void 0,E.default.Messages.HYPESQUAD_SUBHEADING)),T(m.default,{className:_.default.verificationNotice,unclaimedNotice:E.default.Messages.HYPESQUAD_UNCLAIMED_ACCOUNT_NOTICE,unverifiedNotice:E.default.Messages.HYPESQUAD_UNVERIFIED_EMAIL_NOTICE}),T(u.default,{houseMembership:t,isClaimed:n,isVerified:a}),I,T(s.default,{isHypeSquadOnlineMember:null!=t}),T(c.default,{
className:_.default.attendeeCTA},void 0,E.default.Messages.HYPESQUAD_ATTENDEE_CTA.format({url:S.MarketingURLs.HYPESQUAD})))};return t}(r.PureComponent);h.displayName="UserSettingsHypeSquad";var N=i.default.connectStores([f.default,d.default],(function(){var e=f.default.getCurrentUser();(0,o.default)(null!=e,"UserSettingsHypeSquad: currentUser cannot be undefined");return{houseMembership:d.default.getHouseMembership(),isClaimed:e.isClaimed(),isVerified:e.verified}}))(h);t.default=N},122253:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){if((0,i.useBlockedPaymentsConfig)())return S;return r.createElement(r.Fragment,null,m(o.default,{section:f.AnalyticsSections.LIBRARY_INVENTORY_CODE_REDEMPTION},void 0,E),m(u.FormDivider,{className:c.default.divider}),m(o.default,{section:f.AnalyticsSections.LIBRARY_INVENTORY_GIFTS_LIST},void 0,_))};var a,r=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}(n(667294)),o=p(n(284382)),i=n(444272),l=n(421748),u=n(688388),s=p(n(321424)),d=p(n(379743)),f=n(770348),c=p(n(827079));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function m(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var S=m(l.BlockedPaymentsContentSettings,{}),E=m(s.default,{}),_=m(d.default,{})},913458:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=ie;var a,r=V(n(667294)),o=H(n(294184)),i=H(n(496486)),l=V(n(536211)),u=H(n(511066)),s=H(n(379319)),d=H(n(372936)),f=n(497677),c=n(726485),p=n(246049),v=H(n(14096)),m=H(n(379310)),S=H(n(749666)),E=n(915188),_=n(205809),g=H(n(122913)),y=H(n(635014)),T=H(n(871778)),O=H(n(527501)),I=H(n(81636)),h=V(n(956117)),N=V(n(737705)),A=H(n(530250)),b=n(772575),M=V(n(20902)),C=n(645758),P=n(688388),R=V(n(37241)),D=n(967965),L=H(n(550270)),U=n(864489),w=V(n(339943)),G=n(770348),k=n(697984),B=H(n(247001)),F=H(n(437338)),j=H(n(122688)),x=H(n(380203));function H(e){return e&&e.__esModule?e:{default:e}}function Y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap
;return(Y=function(e){return e?n:t})(e)}function V(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=Y(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}function W(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(e,a.key,a)}}function K(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{})
;return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function z(){z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return z.apply(this,arguments)}function Q(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;$(e,t)}function $(e,t){$=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return $(e,t)}function q(e){return(0,e.children)([c.KeybindGroup.MESSAGE,c.KeybindGroup.NAVIGATION,c.KeybindGroup.DND,c.KeybindGroup.CHAT,c.KeybindGroup.VOICE_AND_VIDEO,c.KeybindGroup.MISCELLANEOUS])}var X=(0,i.default)((0,c.getDefaultLayoutContent)()).filter((function(e){return e.description!==B.default.Messages.KEYBIND_DESCRIPTION_MODAL_EASTER_EGG})).groupBy((function(e){return e.group})).value(),Z=l.default.connectStores([T.default],(function(){return{theme:T.default.theme}}))(N.default),J=function(e){Q(t,e);function t(){
for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];(t=e.call.apply(e,[this].concat(a))||this).handleActionChanged=function(e){u.default.setKeybind(z({},t.props.keybind,{action:e}))};t.handleShortcutChange=function(e){u.default.setKeybind(z({},t.props.keybind,{shortcut:e}))};t.handleDeleteKeybind=function(){u.default.deleteKeybind(t.props.keybind.id)};return t}var n=t.prototype;n.renderMessage=function(){var e=this.props.keybind,t=w.toString(e.shortcut);return v.default.hasBind(t)?K(R.default,{className:F.default.keybindMessage,type:R.Types.DESCRIPTION,style:{color:G.Colors.STATUS_RED}},void 0,B.default.Messages.KEYBIND_CONFLICT):k.NavigationShortcuts.has(t)?K(R.default,{className:F.default.keybindMessage,type:R.Types.DESCRIPTION,style:{color:G.Colors.STATUS_RED}},void 0,B.default.Messages.KEYBIND_NAVIGATION_CONFLICT.format({keyboardNavArticle:L.default.getArticleURL(G.HelpdeskArticles.KEYBOARD_NAVIGATION)})):K(R.default,{className:F.default.keybindMessage,
type:R.Types.DESCRIPTION},void 0,this.props.keybindDescriptions[e.action])};n.render=function(){var e=this.props.keybind.managed;return K(A.default,{direction:A.default.Direction.VERTICAL,className:(0,o.default)(F.default.keybindGroup,j.default.card)},void 0,!e&&K(s.default,{"aria-label":B.default.Messages.REMOVE_KEYBIND,className:F.default.removeKeybind,onClick:this.handleDeleteKeybind,look:s.default.Looks.FILLED}),K(A.default,{className:x.default.marginBottom8},void 0,K(A.default.Child,{basis:"50%"},void 0,K(P.FormItem,{title:B.default.Messages.USER_SETTINGS_KEYBINDS_ACTION,className:F.default.item},void 0,K(D.SingleSelect,{value:this.props.keybind.action,options:this.props.keybindActionTypes,onChange:this.handleActionChanged,isDisabled:e}))),K(A.default.Child,{basis:"50%"},void 0,K(P.FormItem,{title:B.default.Messages.USER_SETTINGS_KEYBINDS_KEYBIND,className:F.default.item},void 0,K(d.default,{defaultValue:this.props.keybind.shortcut,onChange:this.handleShortcutChange
})))),K(A.default.Child,{},void 0,this.renderMessage()))};return t}(r.PureComponent);J.displayName="KeybindEntry";var ee=K(P.FormDivider,{}),te=K(P.FormDivider,{}),ne=K(P.FormDivider,{}),ae=K(P.FormDivider,{}),re=K(P.FormDivider,{}),oe=function(e){Q(t,e);function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];(t=e.call.apply(e,[this].concat(a))||this).handleAddKeybind=function(){u.default.addKeybind()};return t}var a=t.prototype;a.componentDidMount=function(){v.default.disable()};a.componentWillUnmount=function(){v.default.enable();var e=[G.Layers.USER_SETTINGS,G.Layers.CHANNEL_SETTINGS,G.Layers.GUILD_SETTINGS];g.default.getLayers().some((function(t){return e.includes(t)}))&&v.default.enableTemp(p.SETTINGS_LAYERS_LAYOUT)};a.renderKeybinds=function(e){var t=this;return e.map((function(e){return K("div",{className:F.default.row},e.id,K(J,{keybind:e,keybindDescriptions:t.keybindDescriptions,keybindActionTypes:t.keybindActionTypes},e.id))}))}
;a.renderEmpty=function(e){if(0===e.length)return K(Z,{className:x.default.marginTop60},void 0,K(N.EmptyStateImage,{darkSrc:n(656470),lightSrc:n(789885),width:320,height:170}))};a.render=function(){var e=(0,i.default)(this.props.keybinds).reject((function(e){return e.managed&&e.action!==G.GlobalKeybindActions.OVERLAY_ACTIVATE_REGION_TEXT_WIDGET})).sortBy((function(e){return e.id})).sortBy((function(e){return!0===e.managed?-1:0})).value();return r.createElement(r.Fragment,null,K(P.FormSection,{tag:P.FormTitleTags.H1,title:B.default.Messages.KEYBINDS},void 0,U.isPlatformEmbedded?r.createElement(r.Fragment,null,K(A.default,{justify:A.default.Justify.BETWEEN,className:x.default.marginBottom20},void 0,K(A.default.Child,{grow:0},void 0,K(M.default,{messageType:M.HelpMessageTypes.WARNING},void 0,B.default.Messages.ADD_KEYBIND_WARNING)),K(A.default.Child,{wrap:!0,grow:0},void 0,K(h.default,{size:h.ButtonSizes.LARGE,onClick:this.handleAddKeybind
},void 0,B.default.Messages.ADD_KEYBIND))),ee,K(P.FormSection,{},void 0,this.renderKeybinds(e),this.renderEmpty(e))):K(M.default,{messageType:M.HelpMessageTypes.INFO,fontSize:M.HelpMessageFontSizes.FONT_SIZE_16,className:F.default.browserNotice},void 0,B.default.Messages.KEYBIND_IN_BROSWER_NOTICE.format({downloadLink:G.MarketingURLs.DOWNLOAD}))),te,K(P.FormSection,{tag:P.FormTitleTags.H1,title:B.default.Messages.USER_SETTINGS_KEYBINDS_DEFAULT_KEYBINDS_TITLE,className:x.default.marginTop60},void 0,K("div",{className:F.default.defaultKeybind},void 0,K(C.Text,{variant:"text-md/normal"},void 0,B.default.Messages.USER_SETTINGS_KEYBINDS_SHOW_LIST_TITLE),K("div",{className:F.default.defaultKeybindShortcutGroup},void 0,K(S.default,{shortcut:f.TOGGLE_HOTKEYS.binds[0],className:F.default.defaultKeybindShortcut}))),ne,K(q,{},void 0,(function(e){return r.createElement(r.Fragment,null,e.map((function(e){var t,n=(0,c.getNameForKeybindGroup)(e),a=(0,c.getDescriptionForKeybindGroup)(e),i=X[e]
;return K("div",{className:F.default.defaultKeybindGroup},void 0,K(b.Heading,{variant:"heading-sm/medium",className:(0,o.default)(F.default.defaultKeybindGroupHeader,(t={},t[F.default.defaultKeybindGroupWithDescription]=null!=a,t)),level:3},void 0,n),null!=a&&K(C.Text,{color:"header-secondary",className:F.default.defaultKeybindGroupDescription,variant:"text-sm/normal"},void 0,a),ae,i.map((function(e){return K(r.Fragment,{},e.description,K("div",{className:F.default.defaultKeybind},void 0,K(C.Text,{variant:"text-md/normal"},void 0,e.description),K("div",{className:F.default.defaultKeybindShortcutGroup},void 0,e.binds.map((function(e){return K(S.default,{shortcut:e},e)})))),re)})))})))}))))};!function(e,t,n){t&&W(e.prototype,t);n&&W(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"keybindActionTypes",get:function(){var e=this.props,t=e.overlaySupported,n=e.canGoLive,a=e.allowSoundboard,r=[{value:G.GlobalKeybindActions.UNASSIGNED,
label:B.default.Messages.KEYBIND_UNASSIGNED},{value:G.GlobalKeybindActions.PUSH_TO_TALK,label:B.default.Messages.KEYBIND_PUSH_TO_TALK},{value:G.GlobalKeybindActions.PUSH_TO_TALK_PRIORITY,label:B.default.Messages.KEYBIND_PUSH_TO_TALK_PRIORITY},{value:G.GlobalKeybindActions.PUSH_TO_MUTE,label:B.default.Messages.KEYBIND_PUSH_TO_MUTE},{value:G.GlobalKeybindActions.TOGGLE_MUTE,label:B.default.Messages.KEYBIND_TOGGLE_MUTE},{value:G.GlobalKeybindActions.TOGGLE_DEAFEN,label:B.default.Messages.KEYBIND_TOGGLE_DEAFEN},{value:G.GlobalKeybindActions.TOGGLE_VOICE_MODE,label:B.default.Messages.KEYBIND_TOGGLE_VOICE_MODE},{value:G.GlobalKeybindActions.TOGGLE_STREAMER_MODE,label:B.default.Messages.KEYBIND_TOGGLE_STREAM_MODE}];if(t){r.push({value:G.GlobalKeybindActions.TOGGLE_OVERLAY,label:B.default.Messages.KEYBIND_TOGGLE_OVERLAY});r.push({value:G.GlobalKeybindActions.TOGGLE_OVERLAY_INPUT_LOCK,label:B.default.Messages.KEYBIND_TOGGLE_OVERLAY_INPUT_LOCK});r.push({
value:G.GlobalKeybindActions.OVERLAY_ACTIVATE_REGION_TEXT_WIDGET,label:B.default.Messages.KEYBIND_ACTIVATE_OVERLAY_CHAT})}n&&(0,U.isWindows)()&&r.push({value:G.GlobalKeybindActions.TOGGLE_GO_LIVE_STREAMING,label:B.default.Messages.KEYBIND_TOGGLE_GO_LIVE_STREAMING});if((0,U.isDesktop)()){r.push({value:G.GlobalKeybindActions.NAVIGATE_BACK,label:B.default.Messages.KEYBIND_NAVIGATE_BACK},{value:G.GlobalKeybindActions.NAVIGATE_FORWARD,label:B.default.Messages.KEYBIND_NAVIGATE_FORWARD});a&&(0,_.isSoundboardSupported)()&&r.push({value:G.GlobalKeybindActions.SOUNDBOARD,label:B.default.Messages.KEYBIND_SOUNDBOARD},{value:G.GlobalKeybindActions.SOUNDBOARD_HOLD,label:B.default.Messages.KEYBIND_SOUNDBOARD_HOLD})}return r}},{key:"keybindDescriptions",get:function(){var e,t=this.props,n=t.overlaySupported,a=t.canGoLive,r=((e={})[G.GlobalKeybindActions.UNASSIGNED]=B.default.Messages.KEYBIND_DESCRIPTION_UNASSIGNED,
e[G.GlobalKeybindActions.PUSH_TO_MUTE]=B.default.Messages.KEYBIND_DESCRIPTION_PUSH_TO_MUTE,e[G.GlobalKeybindActions.PUSH_TO_TALK]=B.default.Messages.KEYBIND_DESCRIPTION_PUSH_TO_TALK,e[G.GlobalKeybindActions.PUSH_TO_TALK_PRIORITY]=B.default.Messages.KEYBIND_DESCRIPTION_PUSH_TO_TALK_PRIORITY,e[G.GlobalKeybindActions.TOGGLE_MUTE]=B.default.Messages.KEYBIND_DESCRIPTION_TOGGLE_MUTE,e[G.GlobalKeybindActions.TOGGLE_DEAFEN]=B.default.Messages.KEYBIND_DESCRIPTION_TOGGLE_DEAFEN,e[G.GlobalKeybindActions.TOGGLE_VOICE_MODE]=B.default.Messages.KEYBIND_DESCRIPTION_TOGGLE_VOICE_MODE,e[G.GlobalKeybindActions.TOGGLE_STREAMER_MODE]=B.default.Messages.KEYBIND_DESCRIPTION_TOGGLE_STREAMER_MODE,e);if(n){r[G.GlobalKeybindActions.TOGGLE_OVERLAY]=B.default.Messages.KEYBIND_DESCRIPTION_TOGGLE_OVERLAY;r[G.GlobalKeybindActions.TOGGLE_OVERLAY_INPUT_LOCK]=B.default.Messages.KEYBIND_DESCRIPTION_TOGGLE_OVERLAY_INPUT_LOCK}a&&(0,
U.isWindows)()&&(r[G.GlobalKeybindActions.TOGGLE_GO_LIVE_STREAMING]=B.default.Messages.KEYBIND_DESCRIPTION_TOGGLE_GO_LIVE_STREAMING);if((0,U.isDesktop)()){r[G.GlobalKeybindActions.NAVIGATE_BACK]=B.default.Messages.KEYBIND_DESCRIPTION_NAVIGATE_BACK;r[G.GlobalKeybindActions.NAVIGATE_FORWARD]=B.default.Messages.KEYBIND_DESCRIPTION_NAVIGATE_FORWARD;r[G.GlobalKeybindActions.SOUNDBOARD]=(0,U.isWindows)()?B.default.Messages.KEYBIND_DESCRIPTION_SOUNDBOARD_GLOBAL:B.default.Messages.KEYBIND_DESCRIPTION_SOUNDBOARD;r[G.GlobalKeybindActions.SOUNDBOARD_HOLD]=(0,U.isWindows)()?B.default.Messages.KEYBIND_DESCRIPTION_SOUNDBOARD_HOLD_GLOBAL:B.default.Messages.KEYBIND_DESCRIPTION_SOUNDBOARD_HOLD}return r}}]);return t}(r.PureComponent);oe.displayName="UserSettingsKeybinds";function ie(){var e=(0,l.useStateFromStores)([O.default],(function(){return O.default.getState()})),t=(0,l.useStateFromStores)([y.default],(function(){return(0,m.default)(y.default)})),n=(0,l.useStateFromStores)([I.default],(function(){
return I.default.isSupported()})),a=(0,E.useGlobalSoundboardConfig)().allowSoundboard;return K(oe,{keybinds:e,canGoLive:t,overlaySupported:n,allowSoundboard:a})}ie.displayName="UserSettingsKeybindsConnected"},783949:(e,t,n)=>{"use strict";var a=n(734155);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}(n(667294)),i=p(n(536211)),l=p(n(929031)),u=p(n(871778)),s=p(n(26172)),d=n(688388),f=p(n(247001)),c=p(n(391431));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function S(){S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return S.apply(this,arguments)}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done);i=!0){o.push(a.value)
;if(t&&o.length===t)break}}catch(e){l=!0;r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function g(e){var t=E(o.useState(e.currentLocale),2),r=t[0],i=t[1],u=E(o.useState((function(){return f.default.getAvailableLocales().map((function(e){var t;try{t=n(357605)("./"+e.value+".png")}catch(e){t=n(223693)}return S({},e,{name:m("div",{className:c.default.option},void 0,m("span",{
className:c.default.localeName},void 0,e.name),m("span",{className:c.default.localizedName},void 0,e.localizedName),m("div",{className:c.default.flag,"aria-hidden":!0},void 0,m("img",{alt:"",src:t,className:c.default.flagImage})))})}))})),1)[0],p=o.useCallback((function(e){var t=e.value;i(t);a.nextTick((function(){return l.default.updateRemoteSettings({locale:t})}))}),[]);return m(d.FormSection,{tag:d.FormTitleTags.H1,title:f.default.Messages.LANGUAGE},void 0,m(d.FormSection,{},void 0,m(d.FormItem,{title:f.default.Messages.LANGUAGE_SELECT},void 0,m(s.default,{onChange:p,options:u,value:r}))))}g.displayName="UserSettingsLocale";var y=i.default.connectStores([u.default],(function(){return{currentLocale:u.default.locale}}))(g);t.default=y},764422:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=B
;var a,r=P(n(667294)),o=M(n(294184)),i=M(n(496486)),l=n(536211),u=M(n(969226)),s=P(n(448549)),d=M(n(329441)),f=M(n(754966)),c=M(n(919935)),p=M(n(16941)),v=M(n(26172)),m=M(n(567668)),S=n(688388),E=M(n(149982)),_=n(967965),g=M(n(169617)),y=n(864489),T=P(n(179379)),O=n(894826),I=M(n(55181)),h=n(770348),N=M(n(247001)),A=M(n(66662)),b=M(n(380203));function M(e){return e&&e.__esModule?e:{default:e}}function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}function P(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}function R(){
R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return R.apply(this,arguments)}function D(e,t){D=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return D(e,t)}function L(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function U(e){var t=e.label,n=e.enabled,a=e.disabled,r=e.onPreview,o=e.onChange;return L(m.default,{className:A.default.soundRow,value:n,onChange:o,disabled:a},void 0,L("div",{className:A.default.notificationSound},void 0,L("div",{className:A.default.soundName
},void 0,t),L(p.default,{className:A.default.soundIcon,onClick:r,"aria-label":N.default.Messages.USER_SETTINGS_NOTIFICATIONS_PREVIEW_SOUND},void 0,L(E.default,{width:16,height:16,className:A.default.icon,"aria-hidden":!0}))))}U.displayName="NotificationSound";function w(e){var t=e.disabledSounds,n=e.disableAllSounds,a=d.default.useExperiment({}).allowSoundpacks;r.useEffect((function(){d.default.trackExposure({})}),[]);var o=r.useRef(),i=r.useCallback((function(e,t){t.stopPropagation();t.preventDefault();null!=o.current&&o.current.stop();o.current=T.playSound(e)}),[]),l=r.useCallback((function(e,n){var a=t.filter((function(t){return t!==e}));n||a.push(e);u.default.setDisabledSounds(a)}),[t]),s=[{label:N.default.Messages.SOUND_MESSAGE,sound:"message1"},{label:N.default.Messages.SOUND_DEAFEN,sound:"deafen"},{label:N.default.Messages.SOUND_UNDEAFEN,sound:"undeafen"},{label:N.default.Messages.MUTE,sound:"mute"},{label:N.default.Messages.UNMUTE,sound:"unmute"},{
label:N.default.Messages.SOUND_VOICE_DISCONNECTED,sound:"disconnect"},{label:N.default.Messages.SOUND_PTT_ACTIVATE,sound:"ptt_start"},{label:N.default.Messages.SOUND_PTT_DEACTIVATE,sound:"ptt_stop"},{label:N.default.Messages.SOUND_USER_JOIN,sound:"user_join"},{label:N.default.Messages.SOUND_USER_LEAVE,sound:"user_leave"},{label:N.default.Messages.SOUND_USER_MOVED,sound:"user_moved"},{label:N.default.Messages.SOUND_OUTGOING_RING,sound:"call_calling"},{label:N.default.Messages.SOUND_INCOMING_RING,sound:"call_ringing"},{label:N.default.Messages.SOUND_STREAM_STARTED,sound:"stream_started"},{label:N.default.Messages.SOUND_STREAM_STOPPED,sound:"stream_ended"},{label:N.default.Messages.SOUND_VIEWER_JOIN,sound:"stream_user_joined"},{label:N.default.Messages.SOUND_VIEWER_LEAVE,sound:"stream_user_left"},{label:N.default.Messages.SOUND_INVITED_TO_SPEAK,sound:"reconnect"}];return L(S.FormSection,{tag:S.FormTitleTags.H1,title:N.default.Messages.SOUNDS
},void 0,a?r.createElement(r.Fragment,null,L(S.FormTitle,{className:b.default.marginBottom20},void 0,N.default.Messages.SOUNDPACK_LABEL),L(f.default,{className:b.default.marginBottom40})):null,L(m.default,{note:N.default.Messages.SOUND_DISABLE_ALL_NOTE,value:n,onChange:u.default.toggleDisableAllSounds},void 0,N.default.Messages.SOUND_DISABLE_ALL),s.map((function(e){var a=e.label,r=e.sound;return L(U,{label:a,disabled:n,onChange:function(e){return l(r,e)},onPreview:function(e){return i(r,e)},enabled:!n&&!t.includes(r)},r)})))}w.displayName="NotificationSounds";var G=L(I.default,{}),k=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;D(e,t)}(t,e);function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];(t=e.call.apply(e,[this].concat(a))||this).handleToggleShowUnreadBadge=function(){u.default.setDisableUnreadBadge(!t.props.disableUnreadBadge)};t.handleToggleShowFlash=function(){
u.default.setTaskbarFlash(!t.props.taskbarFlash)};t.renderTTS=function(){if(!s.supported)return null;var e=[{name:N.default.Messages.TTS_ALLS,value:h.TTSNotificationTypes.ALL_CHANNELS},{name:N.default.Messages.TTS_CURRENT,value:h.TTSNotificationTypes.SELECTED_CHANNEL},{name:N.default.Messages.TTS_NEVER,value:h.TTSNotificationTypes.NEVER}];return L(S.FormItem,{title:N.default.Messages.FORM_LABEL_TTS_NOTIFICATIONS},void 0,L(S.FormText,{type:S.FormTextTypes.DESCRIPTION,className:b.default.marginBottom8},void 0,N.default.Messages.FORM_DESCRIPTION_TTS),L(v.default,{options:e,onChange:t.handleTTSChange,value:t.props.ttsType}))};return t}var n=t.prototype;n.handleDesktopChange=function(e){var t,n=e?h.DesktopNotificationTypes.ALL:h.DesktopNotificationTypes.NEVER;n!==h.DesktopNotificationTypes.NEVER?(t="UserSettingsModal",g.default.requestPermission((function(e){var n=e?h.NotificationPermissionTypes.ENABLED:h.NotificationPermissionTypes.BLOCKED;u.default.setPermissionsState(n,t)
}))):u.default.setDesktopType(n)};n.handleTTSChange=function(e){var t=e.value;u.default.setTTSType(t)};n.render=function(){var e=this.props,t=e.desktopType,n=e.afkTimeout,a=e.disableUnreadBadge,r=e.taskbarFlash,l=e.disabledSounds,u=e.disableAllSounds,s=y.isPlatformEmbedded&&(0,y.isWindows)(),d=i.default.range(1,11).map((function(e){return{value:60*e,label:N.default.Messages.DURATION_MINUTES.format({minutes:e})}}));return L(S.FormSection,{tag:S.FormTitleTags.H1,title:N.default.Messages.NOTIFICATIONS},void 0,L(m.default,{className:b.default.marginBottom20,value:t!==h.DesktopNotificationTypes.NEVER,onChange:this.handleDesktopChange,note:N.default.Messages.DESKTOP_NOTIFICATIONS_ENABLE_BODY},void 0,N.default.Messages.DESKTOP_NOTIFICATIONS_ENABLE),L(m.default,{className:s?b.default.marginBottom20:b.default.marginBottom40,value:!a,note:N.default.Messages.USER_SETTINGS_NOTIFICATIONS_SHOW_BADGE_BODY,onChange:this.handleToggleShowUnreadBadge
},void 0,N.default.Messages.USER_SETTINGS_NOTIFICATIONS_SHOW_BADGE_LABEL),s?L(m.default,{className:b.default.marginBottom40,value:r,note:N.default.Messages.USER_SETTINGS_NOTIFICATIONS_SHOW_FLASH_BODY,onChange:this.handleToggleShowFlash},void 0,N.default.Messages.USER_SETTINGS_NOTIFICATIONS_SHOW_FLASH_LABEL):null,L(S.FormItem,{title:N.default.Messages.FORM_LABEL_PUSH_AFK_TIMEOUT},void 0,L(_.SingleSelect,{value:n,onChange:O.AfkTimeout.updateSetting,options:d}),L(S.FormText,{type:S.FormTextTypes.DESCRIPTION,className:b.default.marginTop8},void 0,N.default.Messages.FORM_DESCRIPTION_PUSH_AFK_TIMEOUT),L(S.FormDivider,{className:(0,o.default)(b.default.marginTop40,b.default.marginBottom40)})),this.renderTTS(),L(S.FormDivider,{className:(0,o.default)(b.default.marginTop40,b.default.marginBottom40)}),L(S.FormItem,{},void 0,L(w,{disabledSounds:l,disableAllSounds:u})),G)};return t}(r.PureComponent);k.displayName="UserSettingsNotifications";function B(){var e=(0,
l.useStateFromStoresObject)([c.default],(function(){return{disableUnreadBadge:c.default.getDisableUnreadBadge(),taskbarFlash:c.default.taskbarFlash,disabledSounds:c.default.getDisabledSounds(),disableAllSounds:c.default.getDisableAllSounds(),desktopType:c.default.getDesktopType(),ttsType:c.default.getTTSType()}}));return r.createElement(k,R({},e,{afkTimeout:O.AfkTimeout.useSetting()}))}B.displayName="ConnectedUserSettingsNotifications"},720034:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=A(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a
}(n(667294)),o=N(n(536211)),i=N(n(511066)),l=N(n(390557)),u=N(n(372936)),s=n(555437),d=N(n(527501)),f=N(n(81636)),c=N(n(945771)),p=N(n(530250)),v=N(n(26172)),m=N(n(567668)),S=n(688388),E=N(n(510596)),_=N(n(738858)),g=N(n(308920)),y=(N(n(550270)),n(339943)),T=n(770348),O=N(n(247001)),I=N(n(780663)),h=N(n(380203));function N(e){return e&&e.__esModule?e:{default:e}}function A(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(A=function(e){return e?n:t})(e)}function b(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function M(){M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){
var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return M.apply(this,arguments)}function C(e,t){C=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return C(e,t)}function P(){var e=c.default.getNotificationPositionMode(),t=e!==T.OverlayNotificationPositions.DISABLED,n=d.default.getOverlayKeybind(),a=d.default.getOverlayChatKeybind();g.default.track(T.AnalyticEvents.OVERLAY_SETTINGS_UPDATED,{enabled:f.default.enabled,notifications_enabled:t,notifications_position:t?e:null,text_notifications_mode:c.default.getTextChatNotificationMode(),hotkey:null!=n?(0,y.toString)(n.shortcut):null,text_activation_hotkey:null!=a?(0,y.toString)(a.shortcut):null,text_opacity_slider:c.default.getTextWidgetOpacity()})}var R=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;C(e,t)}(t,e);function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r]
;(t=e.call.apply(e,[this].concat(a))||this).handleChangeEnabled=function(e){l.default.setEnabled(e);P();g.default.track(T.AnalyticEvents.OVERLAY_TOGGLED,{enabled:e,setting_type:"overlay toggled - global"})};t.handleChangeDisplayNameMode=function(e){var t=e.value;l.default.setDisplayNameMode(t)};t.handleChangeAvatarSizeMode=function(e){var t=e.value;l.default.setAvatarSizeMode(t)};t.handleChangeDisplayUserMode=function(e){var t=e.value;l.default.setDisplayUserMode(t)};t.handleChangeTextNotificationMode=function(){var e=T.OverlayNotificationTextChatTypes.ENABLED,n=T.OverlayNotificationTextChatTypes.DISABLED,a=t.props.textChatNotificationMode===e?n:e;l.default.setTextChatNotificationMode(a);P()};t.handleChangeNotificationPositionMode=function(e,t){l.default.setNotificationPositionMode(t);P()};t.handleInputLockShortcutChange=function(e){i.default.setKeybind(M({},t.props.inputLockKeybind,{shortcut:e}));P()};return t}var n=t.prototype;n.renderExplanation=function(){return null}
;n.renderOverlayToggle=function(){var e=this.props,t=e.enabled,n=e.inputLockKeybind,a=(0,s.isHookModuleTooOld)();return b(p.default,{className:h.default.marginBottom20},void 0,b(p.default.Child,{basis:"50%"},void 0,b(E.default,{},void 0,b(S.FormTitle,{tag:S.FormTitleTags.H5},void 0,O.default.Messages.SETTINGS_GAMES_ENABLE_OVERLAY_LABEL),b(m.default,{className:h.default.marginBottom20,style:{marginTop:16},value:t,disabled:a,note:a?O.default.Messages.OVERLAY_DISABLED_OLD_CLIENT:null,hideBorder:!0,onChange:this.handleChangeEnabled},void 0,O.default.Messages.ENABLE_INGAME_OVERLAY))),b(p.default.Child,{basis:"50%"},void 0,b(E.default,{title:O.default.Messages.KEYBIND_TOGGLE_OVERLAY_INPUT_LOCK},void 0,b(u.default,{disabled:!t,defaultValue:null!=n?n.shortcut:[],onChange:this.handleInputLockShortcutChange}))))};n.renderAvatarSize=function(){return b(p.default,{className:h.default.marginBottom20},void 0,b(p.default.Child,{},void 0,b(E.default,{title:O.default.Messages.FORM_LABEL_AVATAR_SIZE
},void 0,b(v.default,{options:[{name:O.default.Messages.AVATAR_SIZE_OPTION_LARGE,value:T.OverlayAvatarSizes.LARGE},{name:O.default.Messages.AVATAR_SIZE_OPTION_SMALL,value:T.OverlayAvatarSizes.SMALL}],onChange:this.handleChangeAvatarSizeMode,value:this.props.avatarSizeMode}))))};n.renderDisplayNames=function(){return b(p.default,{className:h.default.marginBottom20},void 0,b(p.default.Child,{},void 0,b(E.default,{title:O.default.Messages.FORM_LABEL_DISPLAY_NAMES},void 0,b(v.default,{options:[{name:O.default.Messages.DISPLAY_OPTION_ALWAYS,value:T.OverlayDisplayNames.ALWAYS},{name:O.default.Messages.DISPLAY_OPTION_ONLY_WHILE_SPEAKING,value:T.OverlayDisplayNames.ONLY_WHILE_SPEAKING},{name:O.default.Messages.DISPLAY_OPTION_NEVER,value:T.OverlayDisplayNames.NEVER}],onChange:this.handleChangeDisplayNameMode,value:this.props.displayNameMode}))))};n.renderDisplayUsers=function(){return b(p.default,{className:h.default.marginBottom20},void 0,b(p.default.Child,{},void 0,b(E.default,{
title:O.default.Messages.FORM_LABEL_DISPLAY_USERS},void 0,b(v.default,{options:[{name:O.default.Messages.DISPLAY_OPTION_ALWAYS,value:T.OverlayDisplayUsers.ALWAYS},{name:O.default.Messages.DISPLAY_OPTION_ONLY_WHILE_SPEAKING,value:T.OverlayDisplayUsers.ONLY_WHILE_SPEAKING}],onChange:this.handleChangeDisplayUserMode,value:this.props.displayUserMode}))))};n.renderTextNotificationMode=function(){var e=this.props.notificationPositionMode!==T.OverlayNotificationPositions.DISABLED,t=e&&this.props.textChatNotificationMode===T.OverlayNotificationTextChatTypes.ENABLED;return b(p.default,{className:h.default.marginBottom20},void 0,b(p.default.Child,{},void 0,b(E.default,{},void 0,b(m.default,{value:t,disabled:!e,onChange:this.handleChangeTextNotificationMode,hideBorder:!0},void 0,O.default.Messages.FORM_LABEL_OVERLAY_TEXT_CHAT_NOTIFICATIONS))))};n.renderNotificationPosition=function(){return b(p.default,{className:h.default.marginBottom20},void 0,b(p.default.Child,{},void 0,b(E.default,{
title:O.default.Messages.FORM_LABEL_NOTIFICATION_POSITION},void 0,b("div",{className:I.default.notificationSettings},void 0,b(_.default,{position:this.props.notificationPositionMode,onChange:this.handleChangeNotificationPositionMode})))))};n.render=function(){return b(r.Fragment,{},void 0,b(S.FormSection,{tag:S.FormTitleTags.H1,title:O.default.Messages.OVERLAY},void 0,this.renderExplanation(),this.renderOverlayToggle(),this.renderAvatarSize(),this.renderDisplayNames(),this.renderDisplayUsers()),b(S.FormSection,{tag:S.FormTitleTags.H1,title:O.default.Messages.OVERLAY_NOTIFICATIONS_SETTINGS,className:h.default.marginTop40},void 0,this.renderNotificationPosition(),this.renderTextNotificationMode()))};return t}(r.PureComponent);R.displayName="UserSettingsOverlay";var D=o.default.connectStores([f.default,c.default,d.default],(function(){return{enabled:f.default.enabled,avatarSizeMode:c.default.getAvatarSizeMode(),displayNameMode:c.default.getDisplayNameMode(),
displayUserMode:c.default.getDisplayUserMode(),notificationPositionMode:c.default.getNotificationPositionMode(),textChatNotificationMode:c.default.getTextChatNotificationMode(),inputLockKeybind:d.default.getOverlayKeybind()}}))(R);t.default=D},325539:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=ne;var a,r=Q(n(667294)),o=K(n(294184)),i=n(536211),l=K(n(636602)),u=Q(n(832635)),s=n(233271),d=n(264720),f=n(856259),c=n(547855),p=n(421748),v=K(n(266603)),m=K(n(474258)),S=K(n(843675)),E=K(n(404203)),_=n(95034),g=K(n(887609)),y=K(n(890535)),T=K(n(748826)),O=K(n(146771)),I=K(n(16941)),h=K(n(380439)),N=n(772575),A=K(n(638707)),b=K(n(427370)),M=K(n(80828)),C=n(645758),P=n(688388),R=K(n(394617)),D=K(n(782732)),L=K(n(634567)),U=K(n(878338)),w=K(n(340858)),G=K(n(545449)),k=K(n(526432)),B=K(n(830759)),F=K(n(289799)),j=K(n(308920)),x=n(71246),H=K(n(550270)),Y=n(770348),V=K(n(247001)),W=K(n(156661));function K(e){return e&&e.__esModule?e:{default:e}}function z(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(z=function(e){return e?n:t})(e)}function Q(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=z(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}function $(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}
function q(e){var t=e.guild;return $(I.default,{onClick:function(){(0,_.transitionToGuild)(t.id,{state:{shouldShowSubscribeTooltip:!0}});(0,d.popLayer)()},className:W.default.cardWrapper},void 0,$(b.default,{className:W.default.card},void 0,$(h.default,{guild:t,size:h.default.Sizes.LARGE,"aria-hidden":!0}),$("div",{className:W.default.guildInfo},void 0,$(C.Text,{variant:"text-md/normal",className:W.default.guildName},void 0,t.name),$("div",{className:W.default.subscriptionInfo},void 0,$(D.default,{className:W.default.guildBoostingIcon}),$(C.Text,{className:W.default.subscriberCount,variant:"text-sm/normal"},void 0,V.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_SUBSCRIBER_COUNT_TOOLTIP.format({subscriberCount:t.premiumSubscriberCount})))),$(A.default,{guildId:t.id,subscriberCount:t.premiumSubscriberCount})))}q.displayName="GuildSubscriptionInfoCard";function X(){var e=(0,i.useStateFromStores)([g.default],(function(){return g.default.getFlattenedGuilds()
})).slice(0,Y.NUMBER_OF_GUILDS_TO_RECOMMEND_BOOSTING),t=(0,c.useSubscriptionPlansLoaded)();return r.createElement(r.Fragment,null,$("div",{className:W.default.divider}),$("div",{className:W.default.marketingLogo},void 0,$(L.default,{className:W.default.marketingLogoIcon,"aria-label":V.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_TITLE,role:"heading"}),$("div",{className:W.default.marketingLogoImage})),$(N.Heading,{className:W.default.marketingHeader,variant:"heading-lg/medium",level:3},void 0,V.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_MARKETING_HEADER),$(C.Text,{variant:"text-md/normal"},void 0,V.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_MARKETING_BLURB),$(N.Heading,{className:W.default.featureHeaderTop,variant:"heading-lg/medium",color:"header-secondary",level:3},void 0,V.default.Messages.PREMIUM_GUILD_USER_FEATURES_HEADER),$(E.default,{features:[{description:V.default.Messages.PREMIUM_GUILD_USER_FEATURE_MEMBER_BADGE,icon:D.default,iconClass:W.default.memberBadgeIcon},{
description:V.default.Messages.PREMIUM_GUILD_USER_FEATURE_PROFILE_BADGE,overrideIcon:function(e){return $("div",{className:(0,o.default)(e,W.default.profileBadgeIcon)})}},{description:V.default.Messages.PREMIUM_GUILD_USER_FEATURE_ROLE,icon:w.default,iconClass:W.default.roleIcon}],columns:3}),$(N.Heading,{className:W.default.featureHeader,variant:"heading-lg/medium",color:"header-secondary",level:3},void 0,V.default.Messages.PREMIUM_GUILD_GUILD_FEATURES_HEADER),$(E.default,{features:[{description:V.default.Messages.PREMIUM_GUILD_GUILD_FEATURE_EMOJI,icon:R.default,iconClass:W.default.emojiIcon},{description:V.default.Messages.PREMIUM_GUILD_GUILD_FEATURE_STICKERS,icon:k.default,iconClass:W.default.stickerIcon},{description:V.default.Messages.PREMIUM_GUILD_GUILD_FEATURE_AUDIO_QUALITY,icon:U.default,iconClass:W.default.audioQualityIcon},{description:V.default.Messages.PREMIUM_GUILD_GUILD_FEATURE_UPLOAD_SIZE,icon:F.default,iconClass:W.default.uploadSizeIcon},{
description:V.default.Messages.PREMIUM_GUILD_GUILD_FEATURE_CUSTOMIZATION,icon:G.default,iconClass:W.default.customizationIcon},{description:V.default.Messages.PREMIUM_GUILD_GUILD_FEATURE_THREADS,icon:B.default,iconClass:W.default.threadIcon}].filter(x.isNotNullish),columns:3}),$(C.Text,{className:W.default.guildFullFeatures,variant:"text-md/normal"},void 0,V.default.Messages.PREMIUM_GUILD_FULL_FEATURE_LIST.format({helpdeskArticle:H.default.getArticleURL(Y.HelpdeskArticles.GUILD_SUBSCRIPTIONS)})),$("section",{className:W.default.guildsSection},void 0,t?$(m.default,{className:W.default.guildSubscriptionHeading}):null,null==e||0===e.length?r.createElement(r.Fragment,null,$("div",{className:W.default.emptyGuilds}),$(C.Text,{variant:"text-lg/normal",className:W.default.emptyGuildsTitle},void 0,V.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_MARKETING_GUILDS_EMPTY_DESCRIPTION_TITLE),$(C.Text,{variant:"text-md/normal",className:W.default.emptyGuildsText
},void 0,V.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_MARKETING_GUILDS_EMPTY_DESCRIPTION_TEXT)):r.createElement(r.Fragment,null,$(C.Text,{variant:"text-md/normal",className:W.default.guildsBlurb},void 0,V.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_MARKETING_GUILDS_BLURB),$("div",{className:W.default.guilds},void 0,e.map((function(e){return $(q,{guild:e},e.id)}))))),$(v.default,{onOpenPremiumClick:function(){j.default.track(Y.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location:{page:Y.AnalyticsPages.USER_SETTINGS,section:Y.AnalyticsSections.NITRO_CROSS_PROMO_FROM_BOOSTING,object:Y.AnalyticsObjects.BUTTON_CTA}})}}))}var Z=$(M.default,{}),J=$(p.BlockedPaymentsWarning,{}),ee=$(S.default,{}),te=$(X,{});function ne(){r.useEffect((function(){l.default.wait((function(){u.fetchSubscriptions();u.fetchPaymentSources();(0,s.fetchGuildBoostSlots)();(0,f.fetchPremiumSubscriptionPlans)()}))}),[]);var e=(0,i.useStateFromStores)([O.default],(function(){return O.default.hasFetchedSubscriptions()
})),t=(0,c.useSubscriptionPlansLoaded)(),n=(0,i.useStateFromStores)([T.default],(function(){return T.default.hasFetchedPaymentSources})),a=(0,i.useStateFromStores)([y.default],(function(){return y.default.boostSlots}));return e&&t&&n?$("div",{className:W.default.container},void 0,$("div",{className:W.default.background}),$("div",{className:W.default.content},void 0,Object.keys(a).length>0?r.createElement(r.Fragment,null,$(P.FormTitle,{tag:P.FormTitle.Tags.H1},void 0,V.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_TITLE),J,ee):null,te)):$("div",{className:(0,o.default)(W.default.container,W.default.loading)},void 0,Z)}ne.displayName="UserSettingsPremiumGuildSubscriptions"},313900:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=ee
;var a,r=K(n(667294)),o=V(n(294184)),i=V(n(441143)),l=V(n(730381)),u=n(536211),s=V(n(190040)),d=n(642230),f=n(825185),c=V(n(929031)),p=V(n(226800)),v=V(n(8549)),m=V(n(30098)),S=V(n(871778)),E=V(n(728429)),_=V(n(956117)),g=V(n(558402)),y=V(n(530250)),T=V(n(26172)),O=V(n(567668)),I=n(645758),h=V(n(730977)),N=n(688388),A=V(n(588417)),b=V(n(874331)),M=V(n(956303)),C=K(n(37241)),P=K(n(662197)),R=V(n(502197)),D=n(194322),L=V(n(308920)),U=V(n(550270)),w=n(943112),G=n(374699),k=n(894826),B=n(770348),F=V(n(247001)),j=V(n(584397)),x=V(n(380203)),H=["body"],Y=["friendSourceFlags"];function V(e){return e&&e.__esModule?e:{default:e}}function W(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(W=function(e){return e?n:t})(e)}function K(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=W(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}function z(e,t){z=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return z(e,t)}function Q(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function $(){$=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return $.apply(this,arguments)}function q(e,t){if(null==e)return{}
;var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++){n=o[a];t.indexOf(n)>=0||(r[n]=e[n])}return r}function X(e){var t=e.body,n=q(e,H),a=Q(I.Text,{variant:"text-md/normal"},void 0,t);(0,D.openModal)((function(e){return r.createElement(R.default,$({},e,n),a)}))}function Z(e){var t=e.message;X({header:F.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_FAILURE_TITLE,confirmText:F.default.Messages.OKAY,body:t})}var J=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;z(e,t)}(t,e);function t(t){var n;(n=e.call(this,t)||this).handleChangeDefaultGuildsRestricted=function(e){n.setState({defaultGuildsRestricted:!e},(function(){return n.showGuildRestrictionModal(!e)}))};n.handleUsageStatisticsChange=function(){!n.props.usageStatistics?(0,d.setConsents)([B.Consents.USAGE_STATISTICS],[]).catch(Z):X({header:F.default.Messages.USAGE_STATISTICS_DISABLE_MODAL_TITLE,body:F.default.Messages.USAGE_STATISTICS_DISABLE_MODAL_BODY,
confirmText:F.default.Messages.USAGE_STATISTICS_DISABLE_MODAL_CONFIRM,cancelText:F.default.Messages.USAGE_STATISTICS_DISABLE_MODAL_CANCEL,onConfirm:function(){return(0,d.setConsents)([],[B.Consents.USAGE_STATISTICS]).catch(Z)}})};n.handlePersonalizationChange=function(){!n.props.personalization?(0,d.setConsents)([B.Consents.PERSONALIZATION],[]).catch(Z):X({header:F.default.Messages.PERSONALIZATION_DISABLE_MODAL_TITLE,confirmText:F.default.Messages.PERSONALIZATION_DISABLE_MODAL_CONFIRM,cancelText:F.default.Messages.PERSONALIZATION_DISABLE_MODAL_CANCEL,onConfirm:function(){return(0,d.setConsents)([],[B.Consents.PERSONALIZATION]).catch(Z)},body:F.default.Messages.PERSONALIZATION_DISABLE_MODAL_BODY})};n.handleAccessibilityDetectionChange=function(){k.AllowAccessibilityDetection.updateSetting(!n.props.allowAccessibilityDetection)};n.handleDataDownloadRequest=function(){X({header:F.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_MODAL_TITLE,
body:F.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_MODAL_NOTE,confirmText:F.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_MODAL_CONFIRM,cancelText:F.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_MODAL_CANCEL,onConfirm:function(){n.setState({requestingHarvest:!0},(function(){(0,f.requestHarvest)().then((function(e){if(null!=e&&null!=e.body){n.setState({currentHarvestRequest:e.body});s.default.show({body:F.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_MODAL_SUCCESS})}else s.default.show({title:F.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_FAILURE_TITLE,body:F.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_FAILURE_BODY})}),(function(){return s.default.show({title:F.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_FAILURE_TITLE,body:F.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_FAILURE_BODY})})).finally((function(){return n.setState({requestingHarvest:!1})}))}))}})};var a=t.defaultGuildsRestricted;n.state={defaultGuildsRestricted:a,
currentHarvestRequest:null,requestingHarvest:!0};return n}var n=t.prototype;n.componentDidMount=function(){var e=this;(0,d.fetchConsents)();(0,f.getHarvestStatus)().then((function(t){var n={requestingHarvest:!1,currentHarvestRequest:t.body};e.setState(n)}),(function(){e.setState({requestingHarvest:!1})}))};n.componentDidUpdate=function(e){e.defaultGuildsRestricted!==this.props.defaultGuildsRestricted&&this.setState({defaultGuildsRestricted:this.props.defaultGuildsRestricted})};n.hasPermittedSourceFlag=function(e){var t=this.props.friendSourceFlags,n=function(e){return!0===t[e]};return!!n(B.FriendSourceFlagKeys.ALL)||n(e)};n.onFieldChange=function(e,t){var n,a=this.props.friendSourceFlags;if(e===B.FriendSourceFlagKeys.ALL)if(t){var r;n=((r={})[B.FriendSourceFlagKeys.ALL]=!0,r[B.FriendSourceFlagKeys.FRIENDS]=!0,r[B.FriendSourceFlagKeys.GUILDS]=!0,r)}else{var o;n=((o={})[B.FriendSourceFlagKeys.ALL]=!1,o[B.FriendSourceFlagKeys.FRIENDS]=!0,o[B.FriendSourceFlagKeys.GUILDS]=!0,o)}else if(t){
var i,l=!1;if(e===B.FriendSourceFlagKeys.FRIENDS)l=!0===a[B.FriendSourceFlagKeys.GUILDS];else l=!0===a[B.FriendSourceFlagKeys.FRIENDS];n=$({},a,((i={})[B.FriendSourceFlagKeys.ALL]=l,i[e]=!0,i))}else{var u;n=$({},a,((u={})[B.FriendSourceFlagKeys.ALL]=!1,u[e]=!1,u))}this.updatePermittedFriendSourceFlags(n)};n.updatePermittedFriendSourceFlags=function(e){c.default.updateRemoteSettings({friendSourceFlags:e})};n.showGuildRestrictionModal=function(e){var t=this;X({header:F.default.Messages.USER_DM_SETTINGS_TITLE,body:F.default.Messages.USER_DM_SETTINGS_DESCRIPTION,confirmText:F.default.Messages.NO_TEXT,cancelText:F.default.Messages.YES_TEXT,confirmButtonColor:_.default.Colors.BRAND,onConfirm:function(){c.default.updateRemoteSettings({defaultGuildsRestricted:e});t.trackDefaulDmsUpdated(e,!1)},onCancel:function(){c.default.updateRemoteSettings({defaultGuildsRestricted:e,restrictedGuilds:e?Object.keys(m.default.getGuilds()):[]});t.trackDefaulDmsUpdated(e,!0)}})}
;n.trackDefaulDmsUpdated=function(e,t){L.default.track(B.AnalyticEvents.GUILD_DEFAULT_DMS_UPDATED,{default_guilds_restricted:e,applied_to_existing_guilds:t})};n.renderFriendSettings=function(){var e=this;return Q(M.default,{title:F.default.Messages.FRIEND_PERMITTED_SOURCE,className:x.default.marginBottom40},void 0,Q(O.default,{className:(0,o.default)(x.default.marginTop8,x.default.marginBottom20),value:this.hasPermittedSourceFlag(B.FriendSourceFlagKeys.ALL),onChange:function(t){return e.onFieldChange(B.FriendSourceFlagKeys.ALL,t)}},void 0,F.default.Messages.FRIEND_PERMITTED_SOURCE_ALL),Q(O.default,{value:this.hasPermittedSourceFlag(B.FriendSourceFlagKeys.FRIENDS),onChange:function(t){return e.onFieldChange(B.FriendSourceFlagKeys.FRIENDS,t)}},void 0,F.default.Messages.FRIEND_PERMITTED_SOURCE_MUTUAL_FRIENDS),Q(O.default,{className:x.default.marginReset,value:this.hasPermittedSourceFlag(B.FriendSourceFlagKeys.GUILDS),onChange:function(t){
return e.onFieldChange(B.FriendSourceFlagKeys.GUILDS,t)}},void 0,F.default.Messages.FRIEND_PERMITTED_SOURCE_MUTUAL_GUILDS))};n.renderDMSafety=function(){return Q(M.default,{className:x.default.marginBottom40},void 0,Q(N.FormItem,{tag:P.Tags.H5,className:x.default.marginBottom4,title:F.default.Messages.USER_EXPLICIT_CONTENT_FILTER},void 0,Q(C.default,{type:C.Types.DESCRIPTION,className:x.default.marginBottom8},void 0,F.default.Messages.USER_EXPLICIT_CONTENT_FILTER_HELP),Q(T.default,{value:this.props.explicitContentFilter,options:(0,w.generateDMSafetyOptions)(),onChange:function(e){var t=e.value;return k.ExplicitContentFilter.updateSetting(t)}})))};n.renderServerPrivacy=function(){var e=this.props,t=e.viewNsfwGuilds,n=!0===e.currentUser.nsfwAllowed;return Q(M.default,{className:x.default.marginBottom40},void 0,Q(P.default,{tag:P.Tags.H5,className:x.default.marginBottom8},void 0,F.default.Messages.USER_DM_SETTINGS),Q(O.default,{className:x.default.marginReset,
value:!this.state.defaultGuildsRestricted,note:F.default.Messages.USER_DM_SETTINGS_HELP,onChange:this.handleChangeDefaultGuildsRestricted},void 0,F.default.Messages.NEW_GUILDS_DM_ALLOWED),Q(O.default,{className:x.default.marginReset,value:!!n&&t,note:F.default.Messages.NSFW_GUILDS_TOGGLE_CAPTION,disabled:!n,onChange:k.ViewNsfwGuilds.updateSetting},void 0,F.default.Messages.NSFW_GUILDS_TOGGLE_HEADER))};n.renderActivityPartyPrivacy=function(){var e=this.props,t=e.allowActivityPartyPrivacyFriends,n=e.allowActivityPartyPrivacyVoiceChannel;return Q(M.default,{className:x.default.marginBottom40},void 0,Q(P.default,{tag:P.Tags.H5,className:x.default.marginBottom8},void 0,F.default.Messages.ACTIVITY_PARTY_PRIVACY),Q(O.default,{value:t,note:F.default.Messages.ACTIVITY_PARTY_PRIVACY_FRIENDS_HELP,onChange:function(e){return k.AllowActivityPartyPrivacyFriends.updateSetting(e)}},void 0,F.default.Messages.ACTIVITY_PARTY_PRIVACY_FRIENDS),Q(O.default,{value:n,
note:F.default.Messages.ACTIVITY_PARTY_PRIVACY_VOICE_CHANNEL_HELP,onChange:function(e){return k.AllowActivityPartyPrivacyVoiceChannel.updateSetting(e)}},void 0,F.default.Messages.ACTIVITY_PARTY_PRIVACY_VOICE_CHANNEL))};n.renderDataPrivacy=function(){var e=this.props,t=e.usageStatistics,n=e.personalization,a=e.allowAccessibilityDetection;return Q(M.default,{className:x.default.marginBottom40},void 0,Q(P.default,{tag:P.Tags.H5,className:x.default.marginBottom8},void 0,F.default.Messages.DATA_PRIVACY_CONTROLS),Q(O.default,{value:t,note:F.default.Messages.DATA_PRIVACY_CONTROLS_USAGE_STATISTICS_NOTE.format({helpdeskArticle:U.default.getArticleURL(B.HelpdeskArticles.DATA_PRIVACY_CONTROLS)}),onChange:this.handleUsageStatisticsChange},void 0,F.default.Messages.DATA_PRIVACY_CONTROLS_USAGE_STATISTICS_TITLE),Q(O.default,{value:n,note:F.default.Messages.DATA_PRIVACY_CONTROLS_PERSONALIZATION_NOTE_LEARN_MORE.format({helpdeskArticle:U.default.getArticleURL(B.HelpdeskArticles.DATA_PRIVACY_CONTROLS)}),
onChange:this.handlePersonalizationChange},void 0,F.default.Messages.DATA_PRIVACY_CONTROLS_PERSONALIZATION_TITLE),Q(O.default,{value:a,note:F.default.Messages.DATA_PRIVACY_CONTROLS_ALLOW_ACCESSIBILITY_DETECTION_NOTE.format({helpdeskArticle:U.default.getArticleURL(B.HelpdeskArticles.ACCESSIBILITY_TRACKING)}),onChange:this.handleAccessibilityDetectionChange},void 0,F.default.Messages.DATA_PRIVACY_CONTROLS_ALLOW_ACCESSIBILITY_DETECTION_TITLE),Q(P.default,{tag:P.Tags.H3,className:(0,o.default)(x.default.marginTop20,x.default.marginBottom8)},void 0,F.default.Messages.DATA_PRIVACY_CONTROLS_BASIC_SERVICE_TITLE),Q(C.default,{type:C.Types.DESCRIPTION,className:x.default.marginBottom20},void 0,F.default.Messages.DATA_PRIVACY_CONTROLS_BASIC_SERVICE_NOTE.format({onClick:function(){p.default.setSection(B.UserSettingsSections.ACCOUNT)}})),this.renderHarvestRequest())};n.renderHarvestRequest=function(){
var e,t=this,n=this.props.currentUser,a=this.state,o=a.requestingHarvest,i=a.currentHarvestRequest,u=(0,G.harvestDisabled)(i,n),s=Q(h.default,{text:n.verified?null:F.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_TOOLTIP},void 0,(function(e){var n=e.onMouseEnter,a=e.onMouseLeave;return Q(_.default,{disabled:u,onClick:t.handleDataDownloadRequest,onMouseEnter:n,onMouseLeave:a,look:_.default.Looks.OUTLINED,color:_.default.Colors.BRAND,submitting:o},void 0,F.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_DOWNLOAD)}));if(u&&null!=i){e=Q(g.default,{className:j.default.card},void 0,Q(I.Text,{variant:"text-md/normal"},void 0,F.default.Messages.DATA_DOWNLOAD_REQUESTED_STATUS_NOTE.format({date:(0,l.default)(i.created_at).add(B.REQUEST_DATA_LIMIT_DAYS,"days").format("MMMM Do YYYY")})));s=null}null!=s&&(s=Q(y.default,{},void 0,s));return Q(r.Fragment,{},void 0,Q(A.default,{className:x.default.marginBottom20}),Q(P.default,{tag:P.Tags.H3
},void 0,F.default.Messages.DATA_PRIVACY_CONTROLS_PERSONAL_DATA_TITLE),Q(C.default,{type:C.Types.DESCRIPTION,className:x.default.marginBottom20},void 0,F.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_NOTE.format({helpdeskArticle:U.default.getArticleURL(B.HelpdeskArticles.GDPR_REQUEST_DATA)})),e,s)};n.renderPrivacyAndTermsNote=function(){return Q(M.default,{className:x.default.marginBottom40},void 0,Q(b.default,{type:b.default.Types.PRIMARY,body:F.default.Messages.USER_SETTINGS_PRIVACY_TERMS.format({termsLink:B.MarketingURLs.TERMS,privacyLink:B.MarketingURLs.PRIVACY})}))};n.render=function(){var e=this.props.fetchedConsents;return Q(M.default,{tag:P.Tags.H1,title:F.default.Messages.PRIVACY_AND_SAFETY},void 0,this.renderDMSafety(),this.renderServerPrivacy(),this.renderFriendSettings(),this.renderActivityPartyPrivacy(),e?this.renderDataPrivacy():null,this.renderPrivacyAndTermsNote())};return t}(r.PureComponent);J.displayName="UserSettingsPrivacySafety";function ee(){var e=(0,
u.useStateFromStores)([E.default],(function(){var e=E.default.getCurrentUser();(0,i.default)(null!=e,"ConnectedUserSettingsPrivacySafety: currentUser cannot be undefined");return e})),t=(0,u.useStateFromStoresObject)([S.default],(function(){return{defaultGuildsRestricted:S.default.defaultGuildsRestricted,friendSourceFlags:S.default.friendSourceFlags}})),n=t.friendSourceFlags,a=q(t,Y),o=r.useMemo((function(){return(0,G.computeFlags)(n)}),[n]),l=(0,u.useStateFromStoresObject)([v.default],(function(){return{fetchedConsents:v.default.fetchedConsents,usageStatistics:v.default.hasConsented(B.Consents.USAGE_STATISTICS),personalization:v.default.hasConsented(B.Consents.PERSONALIZATION)}}));return r.createElement(J,$({currentUser:e,allowActivityPartyPrivacyFriends:k.AllowActivityPartyPrivacyFriends.useSetting(),allowActivityPartyPrivacyVoiceChannel:k.AllowActivityPartyPrivacyVoiceChannel.useSetting(),friendSourceFlags:o,viewNsfwGuilds:k.ViewNsfwGuilds.useSetting(),
allowAccessibilityDetection:k.AllowAccessibilityDetection.useSetting(),explicitContentFilter:k.ExplicitContentFilter.useSetting()},a,l))}ee.displayName="ConnectedUserSettingsPrivacySafety"},394163:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}(n(667294)),o=_(n(294184)),i=_(n(536211)),l=_(n(105988)),u=_(n(226800)),s=_(n(663303)),d=_(n(871778)),f=_(n(567668)),c=n(688388),p=n(864489),v=n(770348),m=_(n(247001)),S=_(n(328451)),E=_(n(380203));function _(e){return e&&e.__esModule?e:{default:e}}
function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return y.apply(this,arguments)}function T(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function O(e,t){O=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return O(e,t)}var I=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;O(e,t)}(t,e);function t(){
return e.apply(this,arguments)||this}var a=t.prototype;a.renderNotice=function(){return T(c.FormNotice,{className:E.default.marginBottom40,iconClassName:S.default.noticeIcon,type:c.FormNoticeTypes.PRIMARY,imageData:{src:n(566300),width:184,height:110,position:c.FormNoticeImagePositions.RIGHT},title:m.default.Messages.USER_SETTINGS_STREAMER_NOTICE_TITLE,body:m.default.Messages.USER_SETTINGS_STREAMER_NOTICE_BODY.format({streamkitURL:v.MarketingURLs.STREAMKIT})})};a.renderAutoToggle=function(){if(p.isPlatformEmbedded)return T(f.default,{value:this.props.autoToggle,onChange:this.handleChange.bind(this,"autoToggle"),note:m.default.Messages.AUTO_TOGGLE_STREAMER_MODE_DESCRIPTION},void 0,m.default.Messages.AUTO_TOGGLE_STREAMER_MODE_LABEL)};a.render=function(){return T(c.FormSection,{className:S.default.container,tag:c.FormTitleTags.H1,title:m.default.Messages.STREAMER_MODE},void 0,this.renderNotice(),T(f.default,{value:this.props.enabled,onChange:this.handleChange.bind(this,"enabled"),
note:m.default.Messages.ENABLE_STREAMER_MODE_DESCRIPTION.format({onClick:this.handleGotoKeybinds})},void 0,m.default.Messages.ENABLE_STREAMER_MODE_LABEL),this.renderAutoToggle(),T(c.FormTitle,{className:(0,o.default)(E.default.marginTop40,E.default.marginBottom8)},void 0,m.default.Messages.OPTIONS),T(f.default,{value:this.props.hidePersonalInformation,onChange:this.handleChange.bind(this,"hidePersonalInformation"),note:m.default.Messages.HIDE_PERSONAL_INFORMATION_DESCRIPTION},void 0,m.default.Messages.HIDE_PERSONAL_INFORMATION_LABEL),T(f.default,{value:this.props.hideInstantInvites,onChange:this.handleChange.bind(this,"hideInstantInvites"),note:m.default.Messages.HIDE_INSTANT_INVITES_DESCRIPTION},void 0,m.default.Messages.HIDE_INSTANT_INVITES_LABEL),T(f.default,{value:this.props.disableSounds,onChange:this.handleChange.bind(this,"disableSounds"),note:m.default.Messages.DISABLE_SOUNDS_DESCRIPTION},void 0,m.default.Messages.DISABLE_SOUNDS_LABEL),T(f.default,{
value:this.props.disableNotifications,onChange:this.handleChange.bind(this,"disableNotifications"),note:m.default.Messages.DISABLE_NOTIFICATIONS_DESCRIPTION},void 0,m.default.Messages.DISABLE_NOTIFICATIONS_LABEL))};a.handleChange=function(e,t){var n;l.default.update(((n={})[e]=t,n))};a.handleGotoKeybinds=function(){u.default.setSection(v.UserSettingsSections.KEYBINDS)};return t}(r.PureComponent);I.displayName="UserSettingsModalStreamerMode";var h=i.default.connectStores([d.default,s.default],(function(){return y({},s.default.getSettings(),{theme:d.default.theme})}))(I);t.default=h},332798:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=I;T(n(667294));var a,r=g(n(294184)),o=g(n(954140)),i=g(n(37039)),l=g(n(268389)),u=g(n(26172)),s=g(n(567668)),d=g(n(510596)),f=g(n(956303)),c=g(n(37241)),p=T(n(662197)),v=g(n(308920)),m=n(894826),S=n(770348),E=g(n(247001)),_=g(n(380203));function g(e){return e&&e.__esModule?e:{default:e}}function y(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function T(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}function O(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}
function I(){var e=m.ExpressionSuggestionsEnabled.useSetting(),t=m.UseRichChatTextBox.useSetting(),n=m.RenderSpoilers.useSetting(),a=m.UseThreadSidebar.useSetting(),g=m.ViewImageDescriptions.useSetting(),y=m.ConvertEmoticons.useSetting(),T=m.InlineAttachmentMedia.useSetting(),I=m.InlineEmbedMedia.useSetting(),h=m.RenderEmbeds.useSetting(),N=m.RenderReactions.useSetting(),A=(0,i.default)(o.default.TEXT_AND_IMAGES).analyticsLocations;return O(f.default,{tag:p.Tags.H1,title:E.default.Messages.TEXT_AND_IMAGES},void 0,O(p.default,{className:_.default.marginBottom8},void 0,E.default.Messages.INLINE_MEDIA_LABEL),O(s.default,{className:(0,r.default)(_.default.marginTop8,_.default.marginBottom20),value:I,onChange:m.InlineEmbedMedia.updateSetting},void 0,E.default.Messages.INLINE_EMBED_MEDIA),O(s.default,{className:(0,r.default)(_.default.marginTop8,_.default.marginBottom20),value:T,note:E.default.Messages.INLINE_ATTACHMENT_MEDIA_HELP.format({maxSize:10}),
onChange:m.InlineAttachmentMedia.updateSetting},void 0,E.default.Messages.INLINE_ATTACHMENT_MEDIA),O(s.default,{className:(0,r.default)(_.default.marginTop8,_.default.marginBottom20),value:g,note:E.default.Messages.IMAGE_DESCRIPTION_HELP,onChange:m.ViewImageDescriptions.updateSetting},void 0,E.default.Messages.USER_SETTINGS_IMAGE_DESCRIPTIONS),O(p.default,{className:_.default.marginBottom8},void 0,E.default.Messages.RENDER_EMBEDS_LABEL),O(s.default,{className:(0,r.default)(_.default.marginTop8,_.default.marginBottom40),value:h,onChange:m.RenderEmbeds.updateSetting},void 0,E.default.Messages.RENDER_EMBEDS),O(p.default,{className:_.default.marginBottom8},void 0,E.default.Messages.EMOJI),O(s.default,{className:(0,r.default)(_.default.marginTop8,_.default.marginBottom20),value:N,onChange:m.RenderReactions.updateSetting},void 0,E.default.Messages.RENDER_REACTIONS),O(s.default,{className:_.default.marginBottom40,value:y,note:l.default.parse(E.default.Messages.CONVERT_EMOTICONS_HELP),
onChange:m.ConvertEmoticons.updateSetting},void 0,E.default.Messages.CONVERT_EMOTICONS),O(d.default,{className:_.default.marginBottom20,title:E.default.Messages.STICKERS_AUTO_PLAY_HEADING},void 0,O(s.default,{className:(0,r.default)(_.default.marginTop20,_.default.marginBottom20),value:e,note:E.default.Messages.AUTO_SUGGEST_STICKERS_DESCRIPTION,onChange:function(t){v.default.track(S.AnalyticEvents.STICKER_SUGGESTIONS_ENABLED_TOGGLED,{enabled:!e,location:{section:S.AnalyticsSections.SETTINGS_TEXT_AND_IMAGES},location_stack:A});m.ExpressionSuggestionsEnabled.updateSetting(!e)}},void 0,E.default.Messages.AUTO_SUGGEST_STICKERS)),O(f.default,{className:_.default.marginBottom8},void 0,O(p.default,{className:_.default.marginBottom8},void 0,E.default.Messages.FORM_LABEL_USE_RICH_CHAT_BOX),O(s.default,{className:_.default.marginTop8,value:t,onChange:function(e){v.default.track(S.AnalyticEvents.RICH_CHAT_TEXT_BOX_TOGGLED,{is_enabled:e});m.UseRichChatTextBox.updateSetting(e)}
},void 0,E.default.Messages.USE_RICH_CHAT_BOX_DESCRIPTION)),O(f.default,{className:_.default.marginBottom40},void 0,O(p.default,{className:_.default.marginBottom8},void 0,E.default.Messages.THREADS),O(s.default,{className:_.default.marginTop8,value:a,onChange:m.UseThreadSidebar.updateSetting},void 0,E.default.Messages.USE_THREADS_SIDEBAR_DESCRIPTION)),O(d.default,{title:E.default.Messages.SHOW_SPOILER_CONTENT},void 0,O(c.default,{type:c.default.Types.DESCRIPTION,className:_.default.marginBottom8},void 0,E.default.Messages.SHOW_SPOILER_CONTENT_HELP),O(u.default,{options:[{name:E.default.Messages.SHOW_SPOILER_ON_CLICK,value:S.SpoilerRenderSetting.ON_CLICK},{name:E.default.Messages.SHOW_SPOILER_ON_SERVERS_I_MOD,value:S.SpoilerRenderSetting.IF_MODERATOR},{name:E.default.Messages.SHOW_SPOILER_ALWAYS,value:S.SpoilerRenderSetting.ALWAYS}],onChange:function(e){return m.RenderSpoilers.updateSetting(e.value)},value:n})))}I.displayName="UserSettingsTextImages"},811030:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=Ie;var a,r=ie(n(667294)),o=re(n(294184)),i=re(n(496486)),l=ie(n(536211)),u=n(91817),s=re(n(740207)),d=ie(n(361983)),f=re(n(226800)),c=ie(n(712283)),p=re(n(372936)),v=re(n(88509)),m=n(646002),S=re(n(387316)),E=re(n(529600)),_=re(n(9056)),g=re(n(635014)),y=re(n(99462)),T=re(n(397228)),O=re(n(871778)),I=re(n(728429)),h=re(n(151097)),N=re(n(956117)),A=n(558402),b=re(n(530250)),M=re(n(26172)),C=re(n(118777)),P=re(n(565281)),R=re(n(567668)),D=n(645758),L=n(354479),U=re(n(588417)),w=re(n(510596)),G=ie(n(874331)),k=re(n(956303)),B=re(n(37241)),F=ie(n(662197)),j=re(n(502197)),x=n(194322),H=n(967965),Y=re(n(308920)),V=re(n(165551)),W=re(n(550270)),K=n(758956),z=n(864489),Q=re(n(922629)),$=n(894826),q=re(n(629598)),X=n(770348),Z=n(376293),J=re(n(247001)),ee=re(n(819887)),te=re(n(3066)),ne=re(n(380203)),ae=re(n(73432));function re(e){return e&&e.__esModule?e:{default:e}}function oe(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(oe=function(e){return e?n:t})(e)}function ie(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=oe(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}function le(e,t,n,a,r,o,i){try{var l=e[o](i),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(a,r)}function ue(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){le(o,a,r,i,l,"next",e)}function l(e){le(o,a,r,i,l,"throw",e)}i(void 0)}))}}function se(){se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return se.apply(this,arguments)}function de(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fe(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function ce(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;pe(e,t)}function pe(e,t){pe=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return pe(e,t)}var ve=(0,L.uid)(),me=(0,L.uid)(),Se=(0,L.uid)(),Ee=(0,L.uid)(),_e=(0,L.uid)(),ge=fe("div",{className:"grow"}),ye=function(e){ce(t,e);function t(){
for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];(t=e.call.apply(e,[this].concat(a))||this)._timeout=new u.Timeout;t.state={volume:-100,speaking:!1};t.setupVoiceActivity=function(){g.default.getMediaEngine().on("voiceactivity",t.handleVoiceActivity);t._timeout.stop()};t.handleVoiceActivity=function(e,n){t.setState({volume:e,speaking:(n&Z.SpeakingFlags.VOICE)===Z.SpeakingFlags.VOICE})};t.handleAutoThresholdChange=function(e){var n=t.props,a=n.onThresholdChange,r=n.threshold;null==a||a(r,e)};t.handleSensitivityChange=function(e){var n=t.props,a=n.onThresholdChange,r=n.auto;null==a||a(-1*(100-e),r)};return t}var n=t.prototype;n.componentDidMount=function(){this._timeout.start(1e3,this.setupVoiceActivity)};n.componentWillUnmount=function(){g.default.getMediaEngine().removeListener("voiceactivity",this.handleVoiceActivity);this._timeout.stop()};n.handleValueRender=function(e){return(-1*(100-e)).toFixed(0)+"dB"};n.renderAutomaticVADToggle=function(){
var e=this,t=this.props.auto;if(g.default.supports(Z.Features.AUTOMATIC_VAD))return fe(L.UID,{},void 0,(function(n){return fe("div",{className:(0,o.default)(te.default.horizontal,ne.default.marginBottom4)},void 0,fe(F.default,{tag:F.Tags.H3,className:ne.default.marginReset},void 0,fe("label",{htmlFor:n},void 0,J.default.Messages.FORM_LABEL_AUTOMATIC_VAD)),fe(P.default,{id:n,checked:t,onChange:e.handleAutoThresholdChange}))}))};n.renderSlider=function(){var e=this.props,t=e.auto,n=e.threshold,a=this.state.speaking;if(t){var r;return fe("section",{className:ee.default.inputSensitivityToggle},void 0,fe("div",{className:ae.default.slider},void 0,fe("div",{className:(0,o.default)(ae.default.bar,ee.default.sliderBar,(r={},r[ee.default.speaking]=a||this.state.speaking,r))})),fe(B.default,{type:B.default.Types.DESCRIPTION,className:ne.default.marginBottom8},void 0,J.default.Messages.FORM_HELP_AUTOMATIC_VAD))}return fe("section",{className:(0,
o.default)(ee.default.inputSensitivityToggle,ee.default.manual)},void 0,fe(C.default,{initialValue:n+100,onValueRender:this.handleValueRender,onValueChange:this.handleSensitivityChange,barStyles:{background:X.Colors.STATUS_GREEN_600},fillStyles:{background:X.Colors.STATUS_YELLOW_500},"aria-labelledby":ve},void 0,fe("div",{className:(0,o.default)(ee.default.sliderBar,ee.default.microphone,ae.default.bar)},void 0,fe("div",{className:(0,o.default)(ee.default.fill,ae.default.barFill),style:{width:this.state.volume+100+"%"}}),ge)))};n.renderInputDisabledWarning=function(){if(!g.default.isEnabled())return fe(B.default,{type:B.default.Types.DESCRIPTION,className:(0,o.default)(ee.default.inputDisabledWarning,ne.default.marginBottom8)},void 0,J.default.Messages.FORM_WARNING_INPUT_SENSITIVTY.format({onEnableClick:s.default.enable}))};n.render=function(){return fe(w.default,{className:ee.default.sensitivity},void 0,fe(F.default,{id:ve,tag:F.Tags.H5,className:ne.default.marginBottom8
},void 0,J.default.Messages.FORM_LABEL_INPUT_SENSITIVTY),fe("div",{},void 0,this.renderAutomaticVADToggle(),this.renderSlider()),this.renderInputDisabledWarning())};return t}(r.PureComponent);ye.displayName="VoiceSensitivity";var Te=l.default.connectStores([T.default],(function(){return{speaking:T.default.isCurrentUserSpeaking()}}))(ye),Oe=function(e){ce(t,e);function t(){for(var t,a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];(t=e.call.apply(e,[this].concat(o))||this).state={showCamera:!1,disableDebugUpload:!1};t.handleInputModeChange=function(e){var n=e.value;n===X.InputModes.PUSH_TO_TALK&&t.props.usePTTLimited&&(0,x.openModal)((function(e){return r.createElement(v.default,se({title:J.default.Messages.PTT_LIMITED_TITLE,confirmText:J.default.Messages.DOWNLOAD,cancelText:J.default.Messages.OKAY,onConfirm:t.handleDownload.bind(de(t),"PTT Limited Modal"),body:J.default.Messages.PTT_LIMITED_BODY},e))}));s.default.setMode(n)};t.handleDelayChange=function(e){
s.default.setMode(t.props.inputMode,{delay:e})};t.handleThresholdChange=function(e,n){s.default.setMode(t.props.inputMode,{threshold:e,autoThreshold:n})};t.handleAdvancedVoiceActivityChange=function(e){s.default.setMode(t.props.inputMode,{vadUseKrisp:e})};t.handleHardwareH264Change=function(e){s.default.setHardwareH264(e)};t.handleDebugLoggingChange=function(e){(0,x.openModal)((function(t){return r.createElement(j.default,se({header:J.default.Messages.SET_DEBUG_LOGGING,confirmText:J.default.Messages.OKAY,cancelText:J.default.Messages.CANCEL,onCancel:t.onClose,onConfirm:function(){return s.default.setDebugLogging(e)}},t),fe(D.Text,{variant:"text-md/normal"},void 0,J.default.Messages.SET_DEBUG_LOGGING_BODY))}))};t.handleAecDumpChange=function(e){s.default.setAecDump(e)};t.handleAttenuationChange=function(e){s.default.setAttenuation(e,t.props.attenuateWhileSpeakingSelf,t.props.attenuateWhileSpeakingOthers)};t.handleAttenuateSelfChanged=function(e){
s.default.setAttenuation(t.props.attenuation,e,t.props.attenuateWhileSpeakingOthers)};t.handleAttenuateOthersChanged=function(e){var n=t.props,a=n.attenuation,r=n.attenuateWhileSpeakingSelf;s.default.setAttenuation(a,r,e)};t.handleShortcutChange=function(e){s.default.setMode(t.props.inputMode,{shortcut:e})};t.handleShowCamera=function(){t.setState({showCamera:!0})};t.handleShowVoiceModuleFolder=ue(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==S.default.fileManager.getModulePath){e.next=6;break}e.next=3;return S.default.fileManager.getModulePath();case 3:e.t0=e.sent;e.next=7;break;case 6:e.t0=S.default.fileManager.modulePath;case 7:t=e.t0;n=S.default.fileManager.join(t,"discord_voice");S.default.fileManager.showItemInFolder(n);case 10:case"end":return e.stop()}}),e)})));t.handleUploadDebugFiles=function(){t.setState({disableDebugUpload:!0})
;g.default.getMediaEngine().writeAudioDebugState().finally((function(){return V.default.submitLiveCrashReport({message:{message:"User Live Dump"}})})).finally((function(){return(0,m.uploadDebugFiles)().then((function(){return(0,x.openModal)((function(e){return r.createElement(j.default,se({header:J.default.Messages.UPLOAD_DEBUG_LOG_SUCCESS_HEADER,confirmButtonColor:N.default.Colors.BRAND,confirmText:J.default.Messages.OKAY},e),fe(D.Text,{variant:"text-md/normal"},void 0,J.default.Messages.UPLOAD_DEBUG_LOG_SUCCESS))}))})).catch((function(e){return(0,x.openModal)((function(t){return r.createElement(j.default,se({header:J.default.Messages.UPLOAD_DEBUG_LOG_FAILURE_HEADER,confirmButtonColor:N.default.Colors.BRAND,confirmText:J.default.Messages.OKAY},t),fe(D.Text,{variant:"text-md/normal"},void 0,e.displayMessage))}))})).finally((function(){t.setState({disableDebugUpload:!1})}))}))};t.handleConnectionLogChange=function(e){d.setShouldRecordNextConnection(e)}
;t.handleOpenConnectionReplay=function(){d.openReplay()};t.handleOpenH264Change=function(e){s.default.setOpenH264(e);s.default.setHardwareH264(e)};t.handleEnableSoundshare=function(){s.default.enableSoundshare()};t.renderDeviceValue=function(e){return t.renderDevice(e[0])};t.renderDevice=function(e){var a,r=e.label,o=e.value;if(_.default.isCertified(o)){a=fe("img",{src:t.props.theme===X.ThemeTypes.LIGHT?n(956863):n(874638),alt:"Certified",className:ee.default.deviceOptionCertified})}return fe("span",{className:ee.default.deviceOption},o,fe("span",{className:ee.default.deviceOptionLabel},void 0,_.default.getCertifiedDeviceName(o,r)),a)};t.handleKrispLinkClick=function(e){var t=e.currentTarget;Y.default.track(X.AnalyticEvents.NOISE_CANCELLATION_LINK_CLICKED,{text:t.text,href:t.href,location:{page:X.AnalyticsPages.USER_SETTINGS,section:X.AnalyticsSections.SETTINGS_VOICE_AND_VIDEO}})};return t}var a=t.prototype;a.handleInputDeviceChange=function(e){s.default.setInputDevice(e,"Settings")}
;a.handleOutputDeviceChange=function(e){s.default.setOutputDevice(e,"Settings")};a.handleDownload=function(e){(0,x.openModal)((function(t){return r.createElement(E.default,se({source:e},t))}))};a.handleInputVolumeChange=function(e){s.default.setInputVolume((0,K.perceptualToAmplitude)(e))};a.handleOutputVolumeChange=function(e){s.default.setOutputVolume((0,K.perceptualToAmplitude)(e))};a.handleDelayValueRender=function(e){return e>=1e3?(e/=1e3).toFixed(2)+"s":e.toFixed(0)+" ms"};a.handleVideoDeviceChange=function(e){s.default.setVideoDevice(e,X.AnalyticsSections.SETTINGS_VOICE_AND_VIDEO)};a.handleNoiseSuppressionChange=function(e){s.default.setNoiseSuppression(e,{page:X.AnalyticsPages.USER_SETTINGS,section:X.AnalyticsSections.SETTINGS_VOICE_AND_VIDEO})};a.handleNoiseCancellationChange=function(e){s.default.setNoiseCancellation(e,{page:X.AnalyticsPages.USER_SETTINGS,section:X.AnalyticsSections.SETTINGS_VOICE_AND_VIDEO})};a.handleEchoCancellationChange=function(e){
s.default.setEchoCancellation(e,{page:X.AnalyticsPages.USER_SETTINGS,section:X.AnalyticsSections.SETTINGS_VOICE_AND_VIDEO})};a.handleAutomaticGainControlChange=function(e){s.default.setAutomaticGainControl(e,{page:X.AnalyticsPages.USER_SETTINGS,section:X.AnalyticsSections.SETTINGS_VOICE_AND_VIDEO})};a.handleExperimentalEncodersChange=function(e){s.default.setExperimentalEncoders(e)};a.handleSilenceWarningChange=function(e){s.default.setSilenceWarning(e)};a.handleVideoHookChange=function(e){s.default.setVideoHook(e)};a.handleExperimentalSoundshareChange=function(e){s.default.setExperimentalSoundshare(e)};a.handleQoSChanged=function(e){s.default.setQoS(e)};a.handleVoiceReset=function(){(0,x.openModal)((function(e){return r.createElement(j.default,se({header:J.default.Messages.RESET_VOICE_SETTINGS,confirmText:J.default.Messages.OKAY,cancelText:J.default.Messages.CANCEL,onConfirm:s.default.reset},e),fe(D.Text,{variant:"text-md/normal"},void 0,J.default.Messages.RESET_VOICE_SETTINGS_BODY))
}))};a.handleAudioSubsystemChanged=function(e){(0,x.openModal)((function(t){return r.createElement(j.default,se({header:J.default.Messages.SWITCH_SUBSYSTEM,confirmText:J.default.Messages.OKAY,cancelText:J.default.Messages.CANCEL,onConfirm:function(){return s.default.setAudioSubsystem(e)}},t),fe(D.Text,{variant:"text-md/normal"},void 0,J.default.Messages.SWITCH_SUBSYSTEM_BODY))}))};a.renderDevices=function(){var e,t,n=this.props,a=n.inputDevices,r=n.inputDeviceId,o=n.outputDeviceId,l=n.outputDevices,u=n.canSetInputDevice,s=n.canSetOutputDevice;u||(e=fe(B.default,{type:B.default.Types.DESCRIPTION,className:ne.default.marginTop8},void 0,J.default.Messages.BROWSER_INPUT_DEVICE_WARNING.format({onDownloadClick:this.handleDownload.bind(this,"Help Text Input Devices")})));s||(t=fe(B.default,{type:B.default.Types.DESCRIPTION,className:ne.default.marginTop8},void 0,J.default.Messages.BROWSER_OUTPUT_DEVICE_WARNING.format({onDownloadClick:this.handleDownload.bind(this,"Help Text Output Devices")
})));var d=(0,i.default)(a).values().first(),f=null!=d?d.disabled:null!=e,c=(0,i.default)(l).values().first(),p=null!=c?c.disabled:null!=t;return fe(b.default,{className:ne.default.marginBottom20},void 0,fe(b.default.Child,{basis:"50%"},void 0,fe(F.default,{tag:F.Tags.H5,className:ne.default.marginBottom8},void 0,J.default.Messages.FORM_LABEL_INPUT_DEVICE),fe(H.SingleSelect,{value:r,onChange:this.handleInputDeviceChange,options:i.default.map(a,(function(e){return{value:e.id,label:e.name}})),isDisabled:f,renderOptionValue:this.renderDeviceValue,renderOptionLabel:this.renderDevice}),e),fe(b.default.Child,{basis:"50%"},void 0,fe(F.default,{tag:F.Tags.H5,className:ne.default.marginBottom8},void 0,J.default.Messages.FORM_LABEL_OUTPUT_DEVICE),fe(H.SingleSelect,{value:o,onChange:this.handleOutputDeviceChange,options:i.default.map(l,(function(e){return{value:e.id,label:e.name}})),isDisabled:p,renderOptionValue:this.renderDeviceValue,renderOptionLabel:this.renderDevice}),t))}
;a.renderVolumeControls=function(){var e=this.props,t=e.inputVolume,n=e.outputVolume;return fe(b.default,{className:"volume"},void 0,fe(b.default.Child,{basis:"50%"},void 0,fe(F.default,{id:me,tag:F.Tags.H5,className:ne.default.marginBottom4},void 0,J.default.Messages.FORM_LABEL_INPUT_VOLUME),fe(C.default,{initialValue:(0,K.amplitudeToPerceptual)(t),asValueChanges:this.handleInputVolumeChange,"aria-labelledby":me})),fe(b.default.Child,{basis:"50%"},void 0,fe(F.default,{id:Se,tag:F.Tags.H5,className:ne.default.marginBottom4},void 0,J.default.Messages.FORM_LABEL_OUTPUT_VOLUME),fe(C.default,{initialValue:(0,K.amplitudeToPerceptual)(n),maxValue:200,onValueRender:function(e){return e.toFixed(0)+"%"},asValueChanges:this.handleOutputVolumeChange,"aria-labelledby":Se})))};a.renderMicTest=function(){return g.default.supports(Z.Features.LOOPBACK)?fe("div",{className:ee.default.micTest},void 0,fe(c.default,{title:J.default.Messages.USER_SETTINGS_VOICE_MIC_TEST_TITLE,
description:J.default.Messages.USER_SETTINGS_VOICE_MIC_TEST_DESCRIPTION,notchBackground:c.NotchBackground.GRAY,captionVoice:J.default.Messages.USER_SETTINGS_VOICE_MIC_TEST_VOICE_CAPTION,captionNoVoice:r.createElement(r.Fragment,null,J.default.Messages.USER_SETTINGS_VOICE_MIC_TEST_VOICE_NO_INPUT_NOTICE,fe(h.default,{className:ee.default.micTestHelpLink,href:W.default.getArticleURL(X.HelpdeskArticles.NO_INPUT_DETECTED)},void 0,J.default.Messages.NOTICE_NO_INPUT_DETECTED_HELP_LINK_TEXT)),buttonTest:J.default.Messages.USER_SETTINGS_VOICE_MIC_TEST_BUTTON_INACTIVE,buttonStop:J.default.Messages.USER_SETTINGS_VOICE_MIC_TEST_BUTTON_ACTIVE,buttonClassName:ee.default.micTestButton,buttonColor:N.default.Colors.BRAND,location:{page:X.AnalyticsPages.USER_SETTINGS,section:X.AnalyticsSections.SETTINGS_VOICE_AND_VIDEO}})):null};a.renderInputMode=function(){var e=this.props,t=e.usePTTLimited,n=e.inputMode,a=[{value:X.InputModes.VOICE_ACTIVITY,name:J.default.Messages.INPUT_MODE_VAD},{
value:X.InputModes.PUSH_TO_TALK,name:t?J.default.Messages.INPUT_MODE_PTT_LIMITED:J.default.Messages.INPUT_MODE_PTT}];return fe(w.default,{title:J.default.Messages.FORM_LABEL_INPUT_MODE,className:ne.default.marginBottom20},void 0,fe(M.default,{onChange:this.handleInputModeChange,options:a,value:n}))};a.renderPTTTools=function(){var e,t=this.props,n=t.inputMode,a=t.delay,r=t.shortcut;if(n!==X.InputModes.PUSH_TO_TALK)return null;e=z.isPlatformEmbedded||n!==X.InputModes.PUSH_TO_TALK?fe(B.default,{type:B.default.Types.DESCRIPTION,className:(0,o.default)(ee.default.pttToolsMessage,ne.default.marginBottom8)},void 0,J.default.Messages.USER_SETTINGS_VOICE_ADD_MULTIPLE.format({onClick:function(){return f.default.setSection(X.UserSettingsSections.KEYBINDS)}})):fe(B.default,{type:B.default.Types.DESCRIPTION,className:(0,o.default)(ee.default.pttToolsMessage,ee.default.pttToolsWarning,ne.default.marginBottom8)},void 0,J.default.Messages.PTT_LIMITED_WARNING.format({
onDownloadClick:this.handleDownload.bind(this,"Help Text PTT")}));return fe("div",{className:ee.default.pttTools},void 0,fe(b.default,{},void 0,fe(b.default.Child,{basis:"50%"},void 0,fe(w.default,{title:J.default.Messages.FORM_LABEL_SHORTCUT},void 0,fe(p.default,{defaultValue:r,onChange:this.handleShortcutChange}))),fe(b.default.Child,{basis:"50%"},void 0,fe(w.default,{},void 0,fe(F.default,{id:Ee,tag:F.Tags.H5,className:ne.default.marginBottom8},void 0,J.default.Messages.INPUT_MODE_PTT_RELEASE_DELAY),fe(C.default,{initialValue:a,onValueChange:this.handleDelayChange,onValueRender:this.handleDelayValueRender,maxValue:X.MAX_PTT_RELEASE_DELAY,"aria-labelledby":Ee})))),e)};a.renderVoiceSensitivityTools=function(){var e=this.props,t=e.inputMode,n=e.vadThreshold,a=e.vadAutoThreshold;return t!==X.InputModes.VOICE_ACTIVITY?null:fe(Te,{inputMode:t,threshold:n,auto:a,onThresholdChange:this.handleThresholdChange})};a.renderVideoWarnings=function(){return fe(G.default,{type:A.Types.PRIMARY,
title:J.default.Messages.VIDEO_UNSUPPORTED_BROWSER_TITLE,body:J.default.Messages.VIDEO_UNSUPPORTED_BROWSER_BODY,button:fe(N.default,{size:N.default.Sizes.SMALL,className:ne.default.marginTop20,onClick:this.handleDownload.bind(this,"Video unsupported browser")},void 0,J.default.Messages.DOWNLOAD_APP)})};a.renderNoiseCancellation=function(){var e=this.props,t=e.theme,a=e.noiseCancellation;if(e.noiseCancellationSupported){var r;r=t===X.ThemeTypes.LIGHT?n(235920):n(200824);return fe(k.default,{className:ne.default.marginBottom20},void 0,fe(R.default,{className:(0,o.default)(ne.default.marginTop8,ne.default.marginBottom20),value:a,hideBorder:!0,onChange:this.handleNoiseCancellationChange,note:J.default.Messages.USER_SETTINGS_NOISE_CANCELLATION_DESCRIPTION},void 0,J.default.Messages.USER_SETTINGS_NOISE_CANCELLATION),fe(G.default,{className:ne.default.marginBottom20,type:G.Types.PRIMARY,imageData:{src:r,width:70,height:40},align:b.default.Align.CENTER,body:fe(h.default,{
href:W.default.getArticleURL(X.HelpdeskArticles.NOISE_SUPPRESSION),onClick:this.handleKrispLinkClick},void 0,J.default.Messages.LEARN_MORE)}))}};a.renderCodec=function(){var e;e=this.props.theme===X.ThemeTypes.LIGHT?n(396448):n(680664);return fe(k.default,{className:ne.default.marginBottom20,title:J.default.Messages.USER_SETTINGS_VOICE_CODEC_TITLE},void 0,fe(G.default,{className:ne.default.marginBottom20,type:G.Types.PRIMARY,imageData:{src:e,width:70,height:40},align:b.default.Align.CENTER,body:J.default.Messages.USER_SETTINGS_VOICE_CODEC_DESCRIPTION}))};a.renderVideoCodec=function(){if(!g.default.supports(Z.Features.OPEN_H264))return null;var e,t=this.props,n=t.openH264,a=t.experimentalEncoders,r=t.hardwareH264;"stable"!==Q.default.releaseChannel&&g.default.isExperimentalEncodersSupported()&&(e=fe(R.default,{className:(0,o.default)(ne.default.marginTop8,ne.default.marginBottom20),value:a,onChange:this.handleExperimentalEncodersChange,disabled:!1
},void 0,J.default.Messages.EXPERIMENTAL_ENCODERS));return fe(k.default,{className:ne.default.marginBottom20,title:J.default.Messages.USER_SETTINGS_VOICE_VIDEO_CODEC_TITLE},void 0,fe(R.default,{className:(0,o.default)(ne.default.marginTop8,ne.default.marginBottom20),value:n,onChange:this.handleOpenH264Change,disabled:!1,note:J.default.Messages.FORM_HELP_OPEN_H264},void 0,J.default.Messages.USER_SETTINGS_VOICE_OPEN_H264),fe(R.default,{className:(0,o.default)(ne.default.marginTop8,ne.default.marginBottom20),value:r,onChange:this.handleHardwareH264Change,disabled:!n,note:J.default.Messages.FORM_HELP_HARDWARE_H264},void 0,J.default.Messages.USER_SETTINGS_VOICE_HARDWARE_H264),e)};a.renderVoiceProcessing=function(){if(!g.default.supports(Z.Features.VOICE_PROCESSING))return null
;var e,t,n=this.props,a=n.noiseSuppression,r=n.echoCancellation,i=n.automaticGainControl,l=n.inputDeviceId,u=n.noiseCancellation,s=n.vadUseKrisp,d=n.inputMode,f=n.vadAutoThreshold,c=n.advancedVoiceActivitySupported,p=_.default.hasEchoCancellation(l),v=_.default.hasNoiseSuppression(l),m=_.default.hasAutomaticGainControl(l);(p||p||m)&&(e=fe(B.default,{className:ne.default.marginBottom20,type:B.default.Types.DESCRIPTION},void 0,J.default.Messages.FORM_HELP_CERTIFIED_VOICE_PROCESSING));if(c){var S=d===X.InputModes.VOICE_ACTIVITY&&f;t=fe(R.default,{value:s,onChange:this.handleAdvancedVoiceActivityChange,note:J.default.Messages.USER_SETTINGS_DISABLE_ADVANCED_VOICE_ACTIVITY,disabled:!S},void 0,J.default.Messages.ADVANCED_VOICE_ACTIVITY)}return fe(k.default,{className:ne.default.marginBottom20,title:J.default.Messages.FORM_LABEL_VOICE_PROCESSING},void 0,e,fe(R.default,{className:(0,o.default)(ne.default.marginTop8,ne.default.marginBottom20),value:r,onChange:this.handleEchoCancellationChange,
disabled:p},void 0,J.default.Messages.ECHO_CANCELLATION),fe(R.default,{value:a,onChange:this.handleNoiseSuppressionChange,note:u&&J.default.Messages.USER_SETTINGS_DISABLE_NOISE_SUPPRESSION,disabled:v||u},void 0,J.default.Messages.NOISE_SUPPRESSION),t,fe(R.default,{className:"",value:i,onChange:this.handleAutomaticGainControlChange,disabled:m},void 0,J.default.Messages.AUTOMATIC_GAIN_CONTROL))};a.renderQoS=function(){if(!g.default.supports(Z.Features.QOS))return null;var e=this.props.qosEnabled;return fe(k.default,{className:ne.default.marginBottom20,title:J.default.Messages.FORM_LABEL_QOS},void 0,fe(R.default,{className:"",value:e,onChange:this.handleQoSChanged,note:J.default.Messages.FORM_HELP_QOS},void 0,J.default.Messages.FORM_CHECKBOX_QOS))};a.renderAttenutation=function(){if(!g.default.supports(Z.Features.ATTENUATION))return null;var e=this.props,t=e.attenuation,n=e.attenuateWhileSpeakingSelf,a=e.attenuateWhileSpeakingOthers;return fe(k.default,{className:ne.default.marginBottom20
},void 0,fe(F.default,{id:_e,tag:F.Tags.H5,className:ne.default.marginBottom8},void 0,J.default.Messages.FORM_LABEL_ATTENUATION),fe(C.default,{initialValue:t,onValueChange:this.handleAttenuationChange,"aria-labelledby":_e}),fe(B.default,{className:ne.default.marginBottom20,type:B.default.Types.DESCRIPTION},void 0,J.default.Messages.FORM_HELP_ATTENUATION),fe(U.default,{className:ne.default.marginBottom20}),fe(R.default,{value:n,onChange:this.handleAttenuateSelfChanged},void 0,J.default.Messages.ATTENUATE_WHILE_SPEAKING_SELF),fe(R.default,{className:"",value:a,onChange:this.handleAttenuateOthersChanged},void 0,J.default.Messages.ATTENUATE_WHILE_SPEAKING_OTHERS))};a.renderAudioSubsystem=function(){if(!g.default.supports(Z.Features.LEGACY_AUDIO_SUBSYSTEM)&&!g.default.supports(Z.Features.EXPERIMENTAL_AUDIO_SUBSYSTEM))return null;var e=[{value:Z.AudioSubsystems.STANDARD,label:"Standard"}];g.default.supports(Z.Features.LEGACY_AUDIO_SUBSYSTEM)&&e.push({value:Z.AudioSubsystems.LEGACY,
label:"Legacy"});g.default.supports(Z.Features.EXPERIMENTAL_AUDIO_SUBSYSTEM)&&e.push({value:Z.AudioSubsystems.EXPERIMENTAL,label:"Experimental"});var t=this.props.audioSubsystem;return fe(k.default,{className:ne.default.marginBottom20,title:J.default.Messages.FORM_LABEL_SUBSYSTEM},void 0,fe(H.SingleSelect,{className:ne.default.marginBottom20,value:t,options:e,onChange:this.handleAudioSubsystemChanged}),fe(U.default,{className:ne.default.marginBottom20}))};a.renderScreenshare=function(){if(!z.isPlatformEmbedded)return null;var e,t,n,a=this.props,r=a.videoHook,o=a.experimentalSoundshare,i=a.soundshareEnabled;g.default.supports(Z.Features.VIDEO_HOOK)&&(e=fe(R.default,{value:r,onChange:this.handleVideoHookChange},void 0,J.default.Messages.USER_SETTINGS_VOICE_VIDEO_HOOK_LABEL));g.default.supportsExperimentalSoundshare()&&(t=fe(R.default,{value:o,onChange:this.handleExperimentalSoundshareChange},void 0,J.default.Messages.USER_SETTINGS_VOICE_EXPERIMENTAL_SOUNDSHARE_LABEL))
;if(g.default.supportsEnableSoundshare()){var l=J.default.Messages.USER_SETTINGS_VOICE_SOUNDSHARE_NOT_ENABLED_LABEL;i===X.SoundshareEnableState.ENABLING?l=J.default.Messages.USER_SETTINGS_VOICE_SOUNDSHARE_ENABLING_LABEL:i===X.SoundshareEnableState.ENABLED?l=J.default.Messages.USER_SETTINGS_VOICE_SOUNDSHARE_ENABLED_LABEL:i===X.SoundshareEnableState.FAILED_TO_ENABLE&&(l=J.default.Messages.USER_SETTINGS_VOICE_SOUNDSHARE_FAILED_TO_ENABLE_LABEL);n=fe(w.default,{},void 0,fe(B.default,{className:ne.default.marginBottom20},void 0,l.format({helpdeskArticle:W.default.getArticleURL(X.HelpdeskArticles.OSX_SOUNDSHARE)})),fe(b.default,{},void 0,fe(b.default.Child,{grow:0,shrink:0},void 0,fe(N.default,{className:ne.default.marginBottom20,size:N.default.Sizes.SMALL,onClick:this.handleEnableSoundshare,disabled:i!==X.SoundshareEnableState.NOT_ENABLED},void 0,J.default.Messages.USER_SETTINGS_VOICE_INSTALL_LABEL))),fe(U.default,{className:ne.default.marginBottom20}))}
return null==e&&null==t&&null==n?null:fe(k.default,{className:ne.default.marginBottom20,title:J.default.Messages.FORM_LABEL_SCREENSHARE},void 0,e,t,n)};a.renderDiagnostics=function(){if(!z.isPlatformEmbedded)return null;var e=this.props.silenceWarning;return fe(k.default,{className:ne.default.marginBottom20,title:J.default.Messages.FORM_LABEL_VOICE_DIAGNOSTICS},void 0,fe(R.default,{className:"",value:e,onChange:this.handleSilenceWarningChange},void 0,J.default.Messages.DISPLAY_SILENCE_WARNING))};a.renderDebugLogs=function(){if(z.isPlatformEmbedded&&g.default.supports(Z.Features.DEBUG_LOGGING)&&null!=S.default.fileManager.readLogFiles){var e=this.props,t=e.debugLogging,n=e.aecDumpSupported,a=e.aecDumpEnabled,o=e.shouldRecordNextConnection,i=e.isStaff,l=this.state.disableDebugUpload,u=r.createElement(r.Fragment,null,fe(R.default,{hideBorder:!0,value:t,onChange:this.handleDebugLoggingChange,note:J.default.Messages.FORM_HELP_DEBUG_LOGGING
},void 0,J.default.Messages.FORM_CHECKBOX_DEBUG_LOGGING)),s=n?r.createElement(r.Fragment,null,fe(R.default,{value:a,onChange:this.handleAecDumpChange,note:J.default.Messages.FORM_HELP_AEC_DUMP},void 0,J.default.Messages.FORM_CHECKBOX_AEC_DUMP)):null,d=("canary"===Q.default.releaseChannel||"development"===Q.default.releaseChannel)&&i&&g.default.supports(Z.Features.CONNECTION_REPLAY)?r.createElement(r.Fragment,null,fe(R.default,{hideBorder:!0,value:o,onChange:this.handleConnectionLogChange,note:J.default.Messages.FORM_HELP_CONNECTION_LOG},void 0,J.default.Messages.FORM_CHECKBOX_CONNECTION_LOG),fe(w.default,{},void 0,fe(b.default,{className:ne.default.marginBottom20},void 0,fe(b.default.Child,{grow:0,shrink:0},void 0,fe(N.default,{size:N.default.Sizes.SMALL,onClick:this.handleOpenConnectionReplay},void 0,J.default.Messages.OPEN_CONNECTION_REPLAY))))):null;return fe(k.default,{className:ne.default.marginBottom40,title:J.default.Messages.FORM_LABEL_DEBUG
},void 0,s,d,u,fe(w.default,{},void 0,fe(b.default,{},void 0,fe(b.default.Child,{grow:0,shrink:0},void 0,fe(N.default,{disabled:l,size:N.default.Sizes.SMALL,onClick:this.handleUploadDebugFiles},void 0,J.default.Messages.UPLOAD)),fe(b.default.Child,{grow:0,shrink:0},void 0,fe(N.default,{size:N.default.Sizes.SMALL,onClick:this.handleShowVoiceModuleFolder},void 0,J.default.Messages.SHOW_FOLDER)))))}};a.renderResetVoiceSettings=function(){return fe(w.default,{},void 0,fe(N.default,{look:N.default.Looks.OUTLINED,color:N.default.Colors.RED,onClick:this.handleVoiceReset,size:N.default.Sizes.SMALL},void 0,J.default.Messages.RESET_VOICE_SETTINGS))};a.renderVideoSettings=function(){return fe("div",{},void 0,fe(F.default,{tag:F.Tags.H1,className:ne.default.marginBottom20},void 0,J.default.Messages.VIDEO_SETTINGS),g.default.supports(Z.Features.VIDEO)?fe(q.default,{previewEnabled:this.state.showCamera,onEnablePreview:this.handleShowCamera}):this.renderVideoWarnings(),fe(U.default,{className:(0,
o.default)(ne.default.marginBottom40,ne.default.marginTop40)}))};a.render=function(){var e=W.default.getArticleURL(X.HelpdeskArticles.VOICE_VIDEO_TROUBLESHOOTING)+"?utm_source=discord&utm_medium=blog&utm_campaign=2020-06_help-voice-video&utm_content=--t%3Apm";return fe(k.default,{className:ee.default.userSettingsVoice,tag:F.Tags.H1,title:J.default.Messages.VOICE_SETTINGS},void 0,this.renderDevices(),this.renderVolumeControls(),this.renderMicTest(),fe(B.default,{className:ne.default.marginBottom20,type:B.default.Types.DESCRIPTION},void 0,J.default.Messages.FORM_HELP_VOICE_VIDEO_TROUBLESHOOTING_GUIDE.format({guideURL:e})),fe(U.default,{className:(0,o.default)(ne.default.marginBottom40)}),this.renderInputMode(),this.renderPTTTools(),this.renderVoiceSensitivityTools(),fe(U.default,{className:ne.default.marginBottom40}),this.renderVideoSettings(),fe(F.default,{tag:F.Tags.H1,className:ne.default.marginBottom20
},void 0,J.default.Messages.SETTINGS_ADVANCED),this.renderNoiseCancellation(),this.renderCodec(),this.renderVideoCodec(),this.renderVoiceProcessing(),this.renderQoS(),this.renderAttenutation(),this.renderAudioSubsystem(),this.renderScreenshare(),this.renderDiagnostics(),this.renderDebugLogs(),this.renderResetVoiceSettings())};return t}(r.PureComponent);Oe.displayName="UserSettingsVoice";function Ie(){var e=(0,l.useStateFromStores)([O.default],(function(){return O.default.theme})),t=(0,l.useStateFromStores)([g.default],(function(){return g.default.supports(Z.Features.AUDIO_INPUT_DEVICE)})),n=(0,l.useStateFromStores)([g.default],(function(){return g.default.supports(Z.Features.AUDIO_OUTPUT_DEVICE)})),a=(0,l.useStateFromStores)([g.default],(function(){return g.default.getInputVolume()})),r=(0,l.useStateFromStores)([g.default],(function(){return g.default.getOutputVolume()})),o=(0,l.useStateFromStores)([g.default],(function(){return g.default.getInputDeviceId()})),i=(0,
l.useStateFromStores)([g.default],(function(){return g.default.getInputDevices()})),u=(0,l.useStateFromStores)([g.default],(function(){return g.default.getOutputDevices()})),s=(0,l.useStateFromStores)([g.default],(function(){return g.default.getOutputDeviceId()})),d=(0,l.useStateFromStores)([g.default],(function(){return g.default.getVideoDevices()})),f=(0,l.useStateFromStores)([g.default],(function(){return g.default.getVideoDeviceId()})),c=(0,l.useStateFromStores)([g.default],(function(){return g.default.getEchoCancellation()})),p=(0,l.useStateFromStores)([g.default],(function(){return g.default.getLoopback()})),v=(0,l.useStateFromStores)([g.default],(function(){return g.default.getNoiseSuppression()})),m=(0,l.useStateFromStores)([g.default],(function(){return g.default.getAutomaticGainControl()})),S=(0,l.useStateFromStores)([g.default],(function(){return g.default.getNoiseCancellation()})),E=(0,l.useStateFromStores)([g.default],(function(){
return g.default.isNoiseCancellationSupported()})),T=(0,l.useStateFromStores)([g.default],(function(){return g.default.isAdvancedVoiceActivitySupported()})),h=(0,l.useStateFromStores)([g.default],(function(){return g.default.getMode()})),N=(0,l.useStateFromStores)([g.default],(function(){return g.default.getModeOptions().shortcut})),A=(0,l.useStateFromStores)([g.default],(function(){return g.default.getModeOptions().threshold})),b=(0,l.useStateFromStores)([g.default],(function(){return g.default.getModeOptions().autoThreshold})),M=(0,l.useStateFromStores)([g.default],(function(){return g.default.getModeOptions().vadUseKrisp})),C=(0,l.useStateFromStores)([g.default],(function(){return g.default.getModeOptions().delay})),P=(0,l.useStateFromStores)([g.default],(function(){return g.default.getAttenuation()})),R=(0,l.useStateFromStores)([g.default],(function(){return g.default.getAttenuateWhileSpeakingSelf()})),D=(0,l.useStateFromStores)([g.default],(function(){
return g.default.getAttenuateWhileSpeakingOthers()})),L=(0,l.useStateFromStores)([g.default],(function(){return g.default.getEnableSilenceWarning()})),U=(0,l.useStateFromStores)([g.default],(function(){return g.default.getDebugLogging()})),w=(0,l.useStateFromStores)([g.default],(function(){return g.default.getQoS()})),G=(0,l.useStateFromStores)([g.default],(function(){return g.default.getAudioSubsystem()})),k=(0,l.useStateFromStores)([_.default],(function(){return _.default.getRevision()})),B=(0,l.useStateFromStores)([g.default],(function(){return g.default.getVideoHook()})),F=(0,l.useStateFromStores)([g.default],(function(){return g.default.getExperimentalSoundshare()})),j=(0,l.useStateFromStores)([g.default],(function(){return g.default.getOpenH264()})),x=(0,l.useStateFromStores)([g.default],(function(){return g.default.getExperimentalEncoders()})),H=(0,l.useStateFromStores)([g.default],(function(){return g.default.getHardwareH264()})),Y=(0,
l.useStateFromStores)([g.default],(function(){return g.default.isAecDumpSupported()})),V=(0,l.useStateFromStores)([g.default],(function(){return g.default.getAecDump()})),W=(0,l.useStateFromStores)([y.default],(function(){return y.default.shouldRecordNextConnection()})),K=(0,l.useStateFromStores)([I.default],(function(){var e;return!!(null===(e=I.default.getCurrentUser())||void 0===e?void 0:e.isStaff())})),Q=(0,l.useStateFromStores)([g.default],(function(){return g.default.getSoundshareEnabled()})),q=$.AlwaysPreviewVideo.useSetting();return fe(Oe,{theme:e,canSetInputDevice:t,canSetOutputDevice:n,inputVolume:a,outputVolume:r,inputDeviceId:o,inputDevices:i,outputDevices:u,outputDeviceId:s,videoDevices:d,videoDeviceId:f,echoCancellation:c,loopback:p,noiseSuppression:v,automaticGainControl:m,noiseCancellation:S,noiseCancellationSupported:E,advancedVoiceActivitySupported:T,inputMode:h,shortcut:N,vadThreshold:A,vadAutoThreshold:b,vadUseKrisp:M,delay:C,usePTTLimited:!z.isPlatformEmbedded,
attenuation:P,attenuateWhileSpeakingSelf:R,attenuateWhileSpeakingOthers:D,silenceWarning:L,debugLogging:U,qosEnabled:w,audioSubsystem:G,certifiedDeviceRevision:k,videoHook:B,experimentalSoundshare:F,openH264:j,experimentalEncoders:x,hardwareH264:H,aecDumpSupported:Y,aecDumpEnabled:V,shouldRecordNextConnection:W,isStaff:K,soundshareEnabled:Q,alwaysPreviewVideo:q})}Ie.displayName="UserSettingsVoiceWrapper"},541247:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a,r=m(n(667294)),o=p(n(294184)),i=p(n(567668)),l=p(n(956303)),u=m(n(662197)),s=n(864489),d=p(n(922629)),f=p(n(247001)),c=p(n(380203));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function m(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e)
;var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}function S(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(e,t,n,a,r,o,i){try{var l=e[o](i),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(a,r)}function _(e,t){_=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _(e,t)}var g=function(e){!function(e,t){e.prototype=Object.create(t.prototype)
;e.prototype.constructor=e;_(e,t)}(t,e);function t(t){var n;(n=e.call(this,t)||this).handleToggleOpenOnStartup=function(){var e=!n.state.openOnStartup;n.setState({openOnStartup:e});d.default.send("TOGGLE_OPEN_ON_STARTUP",e)};n.handleToggleStartMinimized=function(){var e=!n.state.startMinimized;n.setState({startMinimized:e});d.default.send("TOGGLE_START_MINIMIZED",e)};n.handleToggleMinimizeToTray=function(){var e=!n.state.minimizeToTray;n.setState({minimizeToTray:e});d.default.send("TOGGLE_MINIMIZE_TO_TRAY",e)};n.state={openOnStartup:!0,startMinimized:!1,minimizeToTray:!0};return n}var n=t.prototype;n.componentDidMount=function(){var e,t=(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this;e.next=3;return d.default.getSetting("OPEN_ON_STARTUP",!0);case 3:e.t1=e.sent;e.next=6;return d.default.getSetting("START_MINIMIZED",!1);case 6:e.t2=e.sent;e.next=9;return d.default.getSetting("MINIMIZE_TO_TRAY",!0);case 9:
e.t3=e.sent;e.t4={openOnStartup:e.t1,startMinimized:e.t2,minimizeToTray:e.t3};e.t0.setState.call(e.t0,e.t4);case 12:case"end":return e.stop()}}),e,this)})),function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){E(o,a,r,i,l,"next",e)}function l(e){E(o,a,r,i,l,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();n.render=function(){var e=this.state,t=e.openOnStartup,n=e.startMinimized,a=e.minimizeToTray,r=(0,s.isLinux)()?f.default.Messages.USER_SETTINGS_LINUX_SETTINGS:f.default.Messages.USER_SETTINGS_WINDOWS_SETTINGS;return S(l.default,{tag:u.Tags.H1,title:r},void 0,S(u.default,{},void 0,f.default.Messages.USER_SETTINGS_STARTUP_BEHAVIOR),S(i.default,{className:c.default.marginBottom20,value:t,note:f.default.Messages.USER_SETTINGS_OPEN_ON_STARTUP_BODY,onChange:this.handleToggleOpenOnStartup},void 0,f.default.Messages.USER_SETTINGS_OPEN_ON_STARTUP_LABEL),(0,s.isWindows)()?S(i.default,{disabled:!t,className:(0,
o.default)(c.default.marginTop8,c.default.marginBottom20),value:!!t&&n,note:f.default.Messages.USER_SETTINGS_START_MINIMIZED_BODY,onChange:this.handleToggleStartMinimized},void 0,f.default.Messages.USER_SETTINGS_START_MINIMIZED_LABEL):null,S(u.default,{className:(0,o.default)(c.default.marginTop20,c.default.marginBottom8)},void 0,f.default.Messages.USER_SETTINGS_CLOSE_BUTTON),S(i.default,{className:c.default.marginBottom20,value:a,note:f.default.Messages.USER_SETTINGS_MINIMIZE_TO_TRAY_BODY,onChange:this.handleToggleMinimizeToTray},void 0,f.default.Messages.USER_SETTINGS_MINIMIZE_TO_TRAY_LABEL))};return t}(r.PureComponent);g.displayName="UserSettingsWindows";var y=g;t.default=y},629598:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=C;var a,r=T(n(667294)),o=n(536211),i=g(n(636602)),l=n(556470),u=n(659022),s=n(144594),d=n(700192),f=T(n(393198)),c=g(n(635014)),p=g(n(728429)),v=g(n(956117)),m=g(n(730977)),S=n(770348),E=g(n(247001)),_=g(n(471749))
;function g(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function T(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}function O(){O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return O.apply(this,arguments)}function I(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={
children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done);i=!0){o.push(a.value);if(t&&o.length===t)break}}catch(e){l=!0;r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var A=387,b=218,M=I(f.FilterLoadingIndicator,{});function C(e){var t=e.previewEnabled,n=e.onEnablePreview,a=c.default.getCameraComponent(),g=h(r.useState((0,u.getLastUsedVideoBackgroundOption)(p.default.getCurrentUser())),2),y=g[0],T=g[1],N=r.useRef(!1),C=r.useRef(y),P=(0,l.useAnalyticsContext)(),R=(0,o.useStateFromStores)([c.default],(function(){return Object.values(c.default.getVideoDevices()).length>0}));r.useEffect((function(){return function(){N.current&&i.default.wait((function(){return(0,s.saveLastUsedBackgroundOption)(C.current)}))}}),[]);return I(f.default,{selectedBackgroundOption:y,onSelectBackgroundOption:function(e){N.current=!0;C.current=e;T(e);(0,d.applyBackgroundOptionLive)(e,{location:P.location
}).catch(S.NOOP)},renderCamera:function(e){return t?I("div",{className:_.default.cameraWrapper},void 0,I("div",{className:_.default.camera},void 0,I(a,{deviceId:e,width:A,height:b,disabled:!t}),M)):I("div",{className:_.default.cameraWrapper},void 0,I("div",{className:_.default.previewImage}),I(m.default,{text:R?null:E.default.Messages.CAMERA_UNAVAILABLE},void 0,(function(e){return r.createElement(v.default,O({},e,{onClick:n,disabled:!R}),E.default.Messages.TEST_VIDEO)})))}})}C.displayName="VideoSettingsCamera"},547342:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=h;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}(n(667294)),o=n(536211),i=n(413577),l=E(n(956704)),u=E(n(16941)),s=n(772575),d=E(n(665759)),f=n(645758),c=n(688388),p=n(967965),v=E(n(571028)),m=n(109061),S=E(n(957372));function E(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function g(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done);i=!0){o.push(a.value);if(t&&o.length===t)break}}catch(e){l=!0;r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function O(e){var t,n,a=y(r.useState(null!=e.descriptor),2),o=a[0],l=a[1],s=r.useCallback((function(){
l((function(e){return!e}))}),[]),d=(t=e.experiment.description,Array.isArray(t)?t:[t]),E=(0,m.getExperimentDateFromId)(e.experimentId);return g("div",{className:S.default.group},void 0,g(c.FormSection,{},void 0,g(u.default,{onClick:s},void 0,g(c.FormTitle,{tag:c.FormTitleTags.H3,className:S.default.title},void 0,g("div",{},void 0,g("span",{},void 0,e.experiment.title),g(f.Text,{color:"text-muted",variant:"text-sm/normal"},void 0,e.experimentId)),g("span",{className:S.default.experimentDate},void 0,E))),o?g("div",{},void 0,g(c.FormItem,{title:"Bucket Override"},void 0,g(p.SingleSelect,{value:null!=e.descriptor?e.descriptor.bucket:null,clearable:null!=e.descriptor,options:(n=e.experiment.buckets,n.map((function(e){return{label:v.default.getExperimentBucketName(e),value:e}}))),onChange:function(t){(0,i.overrideBucket)(e.experimentId,t)}})),g("div",{className:S.default.description},void 0,d.map((function(e,t){return g(c.FormText,{type:c.FormTextTypes.DESCRIPTION},t,e," ")
})))):null),g(c.FormDivider,{className:S.default.divider}))}O.displayName="ExperimentGroup";var I=g(s.Heading,{variant:"heading-md/medium",level:3},void 0,"No Experiments Found");function h(){var e=(0,o.useStateFromStoresObject)([l.default],(function(){return{experiments:l.default.getRegisteredExperiments(),overrides:l.default.getExperimentOverrides()}})),t=e.experiments,n=e.overrides,a=y(r.useState(""),2),i=a[0],u=a[1],s=(0,m.getBestMatches)((0,m.sortEntries)((0,m.getEntries)(t)),i);return g(c.FormSection,{tag:c.FormTitleTags.H1,title:"Experiments"},void 0,g(d.default,{size:d.default.Sizes.LARGE,query:i,onChange:u,onClear:function(){return u("")}}),s.length>0?s.map((function(e){return g(O,{experiment:e.experiment,experimentId:e.id,descriptor:n[e.id]},e.id)})):g("div",{className:S.default.emptyState},void 0,I))}h.displayName="UserSettingsExperiments"},174128:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;d(n(667294))
;var a,r=d(n(956117)),o=n(688388),i=u(n(247001)),l=u(n(983200));function u(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}function f(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e){var t=e.className,n=e.currentUser,a=e.handleDisableAccount,u=e.handleDeleteAccount,s=n.isClaimed();return f(o.FormSection,{className:t,title:i.default.Messages.USER_SETTINGS_ACCOUNT_REMOVAL_SECTION},void 0,f(o.FormText,{className:l.default.description,type:o.FormText.Types.DESCRIPTION},void 0,s?i.default.Messages.USER_SETTINGS_ACCOUNT_REMOVAL_DESCRIPTION:i.default.Messages.USER_SETTINGS_ACCOUNT_REMOVAL_DESCRIPTION_UNCLAIMED),f("div",{className:l.default.buttonContainer},void 0,s?f(r.default,{className:l.default.disableButton,look:r.ButtonLooks.FILLED,color:r.ButtonColors.RED,size:r.ButtonSizes.SMALL,onClick:a},void 0,i.default.Messages.DISABLE_ACCOUNT):null,f(r.default,{look:r.ButtonLooks.OUTLINED,color:r.ButtonColors.RED,size:r.ButtonSizes.SMALL,onClick:u},void 0,i.default.Messages.DELETE_ACCOUNT)))}
c.displayName="UserSettingsAccountDisableAccountSection"},954663:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=_;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}(n(667294)),o=n(536211),i=n(825185),l=f(n(669879)),u=f(n(816624)),s=f(n(871778)),d=n(914905);function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(e,t,n,a,r,o,i){try{var l=e[o](i),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(a,r)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){v(o,a,r,i,l,"next",e)}function l(e){v(o,a,r,i,l,"throw",e)}i(void 0)}))}}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done);i=!0){o.push(a.value);if(t&&o.length===t)break}}catch(e){l=!0;r=e}finally{try{i||null==n.return||n.return()
}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function _(){var e=(0,o.useStateFromStores)([s.default],(function(){return s.default.theme})),t=(0,o.useStateFromStores)([u.default],(function(){return u.default.getIsDisableSubmit()})),n=S(r.useState(!1),2),a=n[0],f=n[1],c=r.useCallback(m(regeneratorRuntime.mark((function e(){var t,n,a,r,o,l,s,c,p,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){
case 0:f(!0);t={};n=u.default.getAllPending(),a=n.pendingAvatar,r=n.pendingBanner,o=n.pendingBio,l=n.pendingPronouns,s=n.pendingAccentColor,c=n.pendingAvatarDecoration;void 0!==a&&(t.avatar=a);void 0!==r&&(t.banner=r);null!=o&&(t.bio=o);null!=l&&(t.pronouns=l);void 0!==s&&(t.accentColor=s);void 0!==c&&(t.avatarDecoration=c);e.next=11;return(0,i.saveAccountChanges)(t);case 11:(null==(p=e.sent)?void 0:p.ok)?(0,i.resetAllPending)():null!=(null==p||null===(v=p.body)||void 0===v?void 0:v.username)&&(0,d.showInvalidUsernameToast)();f(!1);case 14:case"end":return e.stop()}}),e)}))),[]),v=r.useCallback((function(){(0,i.resetAllPending)()}),[]);return p(l.default,{theme:e,submitting:a,onSave:c,onReset:v,disabled:t})}_.displayName="UserSettingsAccountNotice"},319155:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=te
;var a,r=j(n(667294)),o=B(n(294184)),i=B(n(441143)),l=n(536211),u=B(n(226800)),s=B(n(252149)),d=B(n(149342)),f=B(n(915539)),c=B(n(730487)),p=B(n(145122)),v=j(n(947472)),m=B(n(715419)),S=j(n(286004)),E=j(n(674356)),_=B(n(816624)),g=B(n(871778)),y=B(n(728429)),T=B(n(956117)),O=B(n(16941)),I=B(n(160629)),h=n(645758),N=n(688388),A=B(n(775803)),b=n(194322),M=j(n(628551)),C=B(n(308920)),P=n(179495),R=B(n(922629)),D=n(894826),L=n(860238),U=n(770348),w=n(52656),G=B(n(247001)),k=B(n(517401));function B(e){return e&&e.__esModule?e:{default:e}}function F(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(F=function(e){return e?n:t})(e)}function j(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=F(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}function x(){x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return x.apply(this,arguments)}function H(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done);i=!0){o.push(a.value);if(t&&o.length===t)break}}catch(e){l=!0;r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function V(e,t,n,a,r,o,i){try{var l=e[o](i),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(a,r)}function W(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){V(o,a,r,i,l,"next",e)}function l(e){V(o,a,r,i,l,"throw",e)}i(void 0)}))}}function K(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var z=R.default.getEnableHardwareAcceleration()?M.AnimatedAvatar:M.default;function Q(e){var t=e.className,a=e.user,i=r.useRef(null),l=null!=i.current&&i.current.scrollWidth>i.current.clientWidth;return K("div",{className:(0,o.default)(k.default.field,t)},void 0,K("div",{className:k.default.constrainedRow},void 0,K("div",{className:k.default.usernameRow},void 0,K(N.FormTitle,{className:k.default.fieldTitle},void 0,G.default.Messages.USER_SETTINGS_LABEL_USERNAME),r.createElement("div",{className:k.default.usernameInnerRow,ref:i},K(h.Text,{tag:"span",color:"header-primary",variant:"text-md/normal"},void 0,a.username),K(h.Text,{tag:"span",color:"header-secondary",variant:"text-md/normal"},void 0,"#",a.discriminator)))),K(T.default,{className:k.default.fieldButton,size:T.default.Sizes.SMALL,color:T.default.Colors.PRIMARY,onClick:function(){
return(0,b.openModalLazy)(W(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(97011)]).then(n.bind(n,197011));case 2:t=e.sent;a=t.default;return e.abrupt("return",(function(e){return r.createElement(a,e)}));case 5:case"end":return e.stop()}}),e)}))))}},void 0,l?G.default.Messages.DISAPPROVAL:G.default.Messages.EDIT))}Q.displayName="EditUsernameRow";function $(e){var t=e.text,n=e.censor,a=H(r.useState(!1),2),o=a[0],i=a[1],l=o?t:n(t);return r.createElement(r.Fragment,null,l,K(T.default,{look:T.default.Looks.LINK,size:T.default.Sizes.MIN,color:T.default.Colors.LINK,onClick:function(){return i(!o)}},void 0,o?G.default.Messages.HIDE:G.default.Messages.REVEAL))}function q(e){var t,a=e.className,i=e.user;if(i.isClaimed())if(null==i.email)t={buttonText:G.default.Messages.ADD,buttonColor:T.default.Colors.PRIMARY,
valueMessage:G.default.Messages.USER_SETTINGS_NO_EMAIL_PLACEHOLDER,handleClick:function(){return(0,b.openModalLazy)(W(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(92253)]).then(n.bind(n,592253));case 2:t=e.sent;a=t.default;return e.abrupt("return",(function(e){return r.createElement(a,e)}));case 5:case"end":return e.stop()}}),e)}))))}};else{var l=i.email;t={buttonText:G.default.Messages.EDIT,buttonColor:T.default.Colors.PRIMARY,valueMessage:K($,{text:l,censor:L.censorEmail}),handleClick:function(){return(0,b.openModalLazy)(W(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(92253)]).then(n.bind(n,592253));case 2:t=e.sent;a=t.default;return e.abrupt("return",(function(e){return r.createElement(a,e)}));case 5:case"end":return e.stop()}}),e)}))))}}
}else t={buttonText:G.default.Messages.CLAIM_ACCOUNT_SHORT,buttonColor:T.default.Colors.BRAND,valueMessage:G.default.Messages.USER_SETTINGS_ADD_EMAIL_CLAIM,handleClick:function(){return f.default.openClaimAccountModal()}};return K("div",{className:(0,o.default)(k.default.field,a)},void 0,K("div",{className:k.default.constrainedRow},void 0,K("div",{},void 0,K(N.FormTitle,{className:k.default.fieldTitle},void 0,G.default.Messages.USER_SETTINGS_LABEL_EMAIL),K("div",{},void 0,K(h.Text,{tag:"span",color:"header-primary",variant:"text-md/normal"},void 0,t.valueMessage)))),K(T.default,{className:k.default.fieldButton,size:T.default.Sizes.SMALL,color:T.default.Colors.PRIMARY,onClick:t.handleClick},void 0,t.buttonText))}q.displayName="EditEmailRow";function X(e){var t=e.className,a=e.user;if(!a.isClaimed())return null;var i,l=a.phone,u=a.email;i=null==l?G.default.Messages.USER_SETTINGS_NO_PHONE_PLACEHOLDER:K($,{text:l,censor:L.censorPhone});return K("div",{className:(0,
o.default)(k.default.field,t)},void 0,K("div",{className:k.default.constrainedRow},void 0,K("div",{},void 0,K(N.FormTitle,{className:k.default.fieldTitle},void 0,G.default.Messages.USER_SETTINGS_LABEL_PHONE_NUMBER),K("div",{},void 0,K(h.Text,{tag:"span",color:"header-primary",variant:"text-md/normal"},void 0,i)))),K("div",{className:k.default.fieldButtonList},void 0,null!=l&&null!=u?K(T.default,{className:(0,o.default)(k.default.fieldButton,k.default.removeButton),size:T.default.Sizes.SMALL,look:T.default.Looks.LINK,color:T.default.Colors.PRIMARY,onClick:function(){(0,b.openModal)((function(e){return r.createElement(d.default,x({},e,{title:G.default.Messages.USER_SETTINGS_ACCOUNT_REMOVE_PHONE_NUMBER_TITLE,children:a.hasFlag(U.UserFlags.MFA_SMS)?G.default.Messages.USER_SETTINGS_ACCOUNT_REMOVE_PHONE_SMS_BACKUP_WARNING:void 0,actionText:G.default.Messages.REMOVE,handleSubmit:function(e){return v.default.removePhone(e,v.ChangePhoneReason.USER_SETTINGS_UPDATE)}}))}))}
},void 0,G.default.Messages.REMOVE):null,K(T.default,{className:k.default.fieldButton,size:T.default.Sizes.SMALL,color:T.default.Colors.PRIMARY,onClick:function(){(0,b.openModalLazy)(W(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,54725));case 2:t=e.sent;a=t.default;return e.abrupt("return",(function(e){return r.createElement(a,x({reason:v.ChangePhoneReason.USER_SETTINGS_UPDATE},e))}));case 5:case"end":return e.stop()}}),e)}))),{modalKey:w.PHONE_VERIFICATION_MODAL_KEY})}},void 0,null==l?G.default.Messages.ADD:G.default.Messages.EDIT)))}X.displayName="EditPhoneRow";function Z(e){var t=e.user,n=(0,c.default)(t.id);return D.DeveloperMode.useSetting()&&P.SUPPORTS_COPY?K(I.default,{renderPopout:function(e){var t=e.closePopout;return K(p.default,{onClose:t,onSelect:void 0,navId:"copy-id","aria-label":G.default.Messages.USER_MORE_ACTIONS_MENU_LABEL},void 0,n)}
},void 0,(function(e){return r.createElement(O.default,x({},e,{className:k.default.overflowMenuButton,"aria-label":G.default.Messages.ACTIONS}),K(A.default,{className:k.default.overflowMenuIcon,height:24,width:24}))})):null}Z.displayName="CopyUserIdMenu";function J(){u.default.setSection(U.UserSettingsSections.PROFILE_CUSTOMIZATION)}function ee(){C.default.track(U.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location_page:U.AnalyticsPages.USER_SETTINGS,location_section:U.AnalyticsSections.SETTINGS_ACCOUNT,location_object:U.AnalyticsObjects.TOOLTIP});u.default.setSection(U.UserSettingsSections.PREMIUM)}function te(){var e,t=(0,l.useStateFromStores)([y.default],(function(){var e=y.default.getCurrentUser();(0,i.default)(null!=e,"UserSettingsAccountProfileCard: currentUser cannot be undefined");return e})),n=(0,l.useStateFromStores)([m.default],(function(){return m.default.getUserProfile(t.id)})),a=(0,l.useStateFromStores)([g.default],(function(){return g.default.status})),r=(0,
l.useStateFromStores)([_.default],(function(){return _.default.getErrors()})),o=null==r||null===(e=r.avatar)||void 0===e?void 0:e[0];return K("div",{className:k.default.accountProfileCard},void 0,K(S.default,{user:t,allowEdit:!1,guildId:void 0,bannerType:S.UserBannerTypes.SETTINGS}),K("div",{className:k.default.userInfo},void 0,K(z,{className:k.default.avatar,src:t.getAvatarURL(void 0,80,!0),status:a,size:M.default.Sizes.SIZE_80,"aria-label":t.username}),K("div",{},void 0,K("div",{className:k.default.profileCardUsernameRow},void 0,K(s.default,{user:t,className:k.default.userTag,discriminatorClass:k.default.discriminator}),K(Z,{user:t})),K(E.default,{user:t,premiumSince:null==n?void 0:n.premiumSince,premiumGuildSince:null==n?void 0:n.premiumGuildSince,size:E.BadgeSizes.SIZE_22,openPremiumSettings:ee})),K(T.default,{onClick:J,size:T.default.Sizes.SMALL},void 0,G.default.Messages.USER_SETTINGS_EDIT_PROFILE)),K("div",{className:k.default.background},void 0,null!=o?K(h.Text,{
className:k.default.avatarError,variant:"text-xs/normal",color:"text-danger"},void 0,o):null,K("div",{className:k.default.fieldList},void 0,K(Q,{user:t}),K(q,{className:k.default.fieldSpacer,user:t}),K(X,{className:k.default.fieldSpacer,user:t}))))}te.displayName="UserSettingsAccountProfileCard"},66272:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=b;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a
}(n(667294)),o=n(536211),i=n(825185),l=y(n(816624)),u=y(n(956117)),s=n(645758),d=y(n(279950)),f=n(354479),c=n(688388),p=y(n(114655)),v=n(3400),m=n(914905),S=n(770348),E=n(371621),_=y(n(247001)),g=y(n(843204));function y(e){return e&&e.__esModule?e:{default:e}}function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}function O(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function I(e,t,n,a,r,o,i){try{var l=e[o](i),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(a,r)}function h(e){return function(){var t=this,n=arguments
;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){I(o,a,r,i,l,"next",e)}function l(e){I(o,a,r,i,l,"throw",e)}i(void 0)}))}}function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done);i=!0){o.push(a.value);if(t&&o.length===t)break}}catch(e){l=!0;r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function b(e){var t,n,a,y,T=e.transitionState,I=e.onSuccess,A=e.onClose,b=e.requirementsUpdated,M=e.noSkip,C=void 0!==M&&M,P=(0,f.useUID)(),R=N(r.useState(""),2),D=R[0],L=R[1],U=N(r.useState(""),2),w=U[0],G=U[1],k=N(r.useState(""),2),B=k[0],F=k[1],j=N(r.useState(null),2),x=j[0],H=j[1],Y=N(r.useState(null),2),V=Y[0],W=Y[1],K=(0,o.useStateFromStores)([l.default],(function(){return l.default.getErrors()})),z=(0,o.useStateFromStores)([l.default],(function(){return l.default.getFormState()})),Q=r.useRef(null);r.useEffect((function(){if(T===E.ModalTransitionState.ENTERED){var e;null===(e=Q.current)||void 0===e||e.focus()}}),[T]);function $(){return($=h(regeneratorRuntime.mark((function e(t){var n,a,r
;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault();l.default.clearErrors();n=!1;if(""===w){H(_.default.Messages.PASSWORD_REQUIREMENTS_EMPTY);n=!0}else H(null);if(w!==B){W(_.default.Messages.FORM_LABEL_NEW_PASSWORD_MISMATCH);n=!0}else W(null);if(!n){e.next=7;break}return e.abrupt("return");case 7:e.next=9;return(0,i.saveAccountChanges)({password:D,newPassword:w});case 9:(null==(a=e.sent)?void 0:a.ok)?I():null!=(null==a||null===(r=a.body)||void 0===r?void 0:r.username)&&(0,m.showInvalidUsernameToast)();case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return O(v.ModalRoot,{transitionState:T,"aria-labelledby":P},void 0,O(v.ModalHeader,{id:P,separator:!1,className:g.default.header},void 0,O(p.default,{color:p.default.Colors.HEADER_PRIMARY,size:p.default.Sizes.SIZE_24,className:g.default.title},void 0,_.default.Messages.UPDATE_PASSWORD),O(s.Text,{color:"header-secondary",variant:"text-md/normal",className:g.default.subtitle
},void 0,b?_.default.Messages.FORCE_PASSWORD_UPDATE_DESCRIPTION:_.default.Messages.USER_SETTINGS_ACCOUNT_CHANGE_PASSWORD_PROMPT_DESKTOP),!0!==C&&O(v.ModalCloseButton,{onClick:A,className:g.default.modalCloseButton})),O("form",{onSubmit:function(e){return $.apply(this,arguments)}},void 0,O(v.ModalContent,{className:g.default.content},void 0,O(c.FormItem,{title:_.default.Messages.FORM_LABEL_CURRENT_PASSWORD,error:null==K||null===(t=K.password)||void 0===t?void 0:t[0]},void 0,O(d.default,{type:"password",value:D,onChange:L,inputRef:Q})),O(c.FormItem,{className:g.default.newPassword,title:_.default.Messages.FORM_LABEL_NEW_PASSWORD,error:null!==(n=null!==(a=null==K||null===(y=K.new_password)||void 0===y?void 0:y[0])&&void 0!==a?a:x)&&void 0!==n?n:void 0},void 0,O(d.default,{type:"password",value:w,onChange:G})),O(c.FormItem,{className:g.default.newPassword,title:_.default.Messages.FORM_LABEL_CONFIRM_NEW_PASSWORD,error:null!=V?V:void 0},void 0,O(d.default,{type:"password",value:B,onChange:F
}))),O(v.ModalFooter,{},void 0,O(u.default,{type:"submit",color:u.default.Colors.BRAND,size:u.default.Sizes.MEDIUM,submitting:z===S.FormStates.SUBMITTING},void 0,_.default.Messages.DONE),!0!==C&&O(u.default,{className:g.default.cancel,look:u.default.Looks.LINK,color:u.default.Colors.PRIMARY,onClick:A},void 0,_.default.Messages.CANCEL))))}b.displayName="ChangePasswordModal"},55181:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=(0,i.useStateFromStores)([l.default],(function(){return l.default.getSubsection()})),t=r.createRef(),n=(0,i.useStateFromStoresObject)([c.default],(function(){return c.default.getEmailSettings()})),a=n.categories,s=n.initialized;r.useEffect((function(){if(null==s)(0,f.fetchEmailSettings)();else if(e===p.EMAILS_SUBSECTION.toUpperCase()){var n;null==t||null===(n=t.current)||void 0===n||n.scrollIntoView(!0)}}),[s,t,e]);var E=p.MarketingEmailCategories.reduce((function(e,t){return e||!!a[t]}),!1)
;return s?r.createElement(r.Fragment,null,r.createElement("div",{ref:t}),y(d.FormSection,{className:(0,o.default)(S.default.marginTop40),tag:d.FormTitleTags.H1,title:v.default.Messages.USER_SETTINGS_EMAIL_NOTIFICATIONS},void 0,p.EmailCategoriesList.map((function(e){var t=e.category,n=e.label,r=e.subLabel;return y(T,{label:n(),subLabel:r(),enabled:a[t],onChange:function(e){return function(e,t){(0,f.updateEmailSetting)(e,t)}(t,e)}},n())})),y(u.default,{className:m.default.marketingUnsubscribeButton,disabled:!E,look:u.ButtonLooks.LINK,color:u.ButtonColors.LINK,onClick:f.updateMarketingEmailSettings},void 0,v.default.Messages.USER_SETTINGS_EMAIL_NOTIFICATIONS_UNSUB_MARKETING),y(d.FormText,{type:d.FormTextTypes.DESCRIPTION},void 0,v.default.Messages.USER_SETTINGS_EMAIL_NOTIFICATIONS_UNSUB_MARKETING_DESCRIPTION),y(d.FormDivider,{className:(0,o.default)(S.default.marginTop40,S.default.marginBottom40)}))):null}
;var a,r=g(n(667294)),o=E(n(294184)),i=n(536211),l=E(n(516818)),u=g(n(956117)),s=E(n(567668)),d=n(688388),f=n(781900),c=E(n(421010)),p=n(969299),v=E(n(247001)),m=E(n(55386)),S=E(n(380203));function E(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function g(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}function y(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function T(e){var t=e.label,n=e.onChange,a=e.enabled,r=e.subLabel;return y(s.default,{value:!!a,onChange:n,note:r},void 0,t)}T.displayName="CategorySwitch"},229024:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=Y;var a,r=B(n(667294)),o=G(n(441143)),i=n(235234),l=n(536211),u=G(n(636602)),s=n(825185),d=G(n(226800)),f=G(n(524791)),c=G(n(135631)),p=G(n(954140)),v=G(n(37039)),m=B(n(125478)),S=n(832215),E=n(100618),_=G(n(468532)),g=G(n(845176)),y=G(n(482117)),T=G(n(96194)),O=G(n(498163)),I=G(n(561511)),h=G(n(431676)),N=G(n(777018)),A=G(n(663303)),b=G(n(816624)),M=G(n(728429)),C=G(n(308920)),P=G(n(838583)),R=G(n(427588)),D=G(n(267309)),L=n(770348),U=G(n(247001)),w=G(n(944641));function G(e){
return e&&e.__esModule?e:{default:e}}function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}function B(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}function F(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function j(){j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return j.apply(this,arguments)}function x(){C.default.track(L.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location_page:L.AnalyticsPages.USER_SETTINGS,location_section:L.AnalyticsSections.SETTINGS_ACCOUNT,location_object:L.AnalyticsObjects.BADGE});d.default.setSection(L.UserSettingsSections.PREMIUM)}var H=F(f.default,{});function Y(){var e,t=(0,l.useStateFromStores)([M.default],(function(){var e=M.default.getCurrentUser();(0,o.default)(null!=e,"UserSettingsProfileCustomization: user cannot be undefined");return e})),n=(0,l.useStateFromStores)([A.default],(function(){return A.default.hidePersonalInformation})),a=(0,l.useStateFromStoresObject)([b.default],(function(){return j({},b.default.getAllPending(),{errors:b.default.getErrors()})
})),d=a.pendingAvatar,f=a.pendingBanner,C=a.pendingBio,G=a.pendingPronouns,k=a.pendingAccentColor,B=a.pendingAvatarDecoration,Y=a.errors,V=P.default.canUsePremiumProfileCustomization(t),W=void 0===d?t.getAvatarURL(void 0,80):d,K=null!==(e=(0,i.hex2int)((0,m.default)(W,L.Colors.PRIMARY_DARK_530,m.ColorFormats.HEX)))&&void 0!==e?e:0,z=void 0===k?t.accentColor:k,Q=void 0===d?null!=t.avatar:null!=d,$=void 0===f?null!=t.banner:null!=f,q=(0,S.useGlobalHasAvatarDecorations)().canUseAvatarDecorations,X=c.default.useExperiment({}).showPronouns,Z=(0,v.default)(p.default.PROFILE).AnalyticsLocationProvider;r.useEffect((function(){return function(){return u.default.wait(s.resetAllPending)}}),[]);return n?H:F(Z,{},void 0,F(_.default,{customizationSections:[F(O.default,{onAvatarChange:s.setPendingAvatar,showRemoveAvatarButton:Q,errors:Y.avatar,sectionTitle:U.default.Messages.USER_SETTINGS_AVATAR},"avatar"),q?F(T.default,{user:t},"decoration"):null,F(h.default,{defaultAvatarColor:K,
savedUserColor:t.accentColor,pendingColor:k,setPendingAccentColor:s.setPendingAccentColor},"color"),F(I.default,{sectionTitle:U.default.Messages.USER_SETTINGS_PROFILE_BANNER,canUsePremiumCustomization:V,showRemoveBannerButton:$,errors:Y.banner,upsellButton:F(D.default,{user:t}),onBannerChange:s.setPendingBanner},"banner"),X&&F(N.default,{sectionTitle:U.default.Messages.USER_SETTINGS_PRONOUNS,errors:Y.pronouns,onPronounsChange:s.setPendingPronouns,pendingPronouns:G,currentPronouns:t.pronouns},"pronouns"),F(y.default,{sectionTitle:U.default.Messages.USER_SETTINGS_ABOUT_ME,errors:Y.bio,onBioChange:function(e){(0,E.setNewPendingUserBio)(e,t.bio);(0,s.setDisableSubmit)(null!=e&&e.length>L.BIO_MAX_LENGTH)},pendingBio:C,currentBio:t.bio},"bio")],title:U.default.Messages.USER_SETTINGS_USER_PROFILE,description:F("div",{className:w.default.divider}),profilePreview:F(g.default,{user:t,canUsePremiumCustomization:V,bannerColor:null!=z?z:K,onUpsellClick:R.default,onAvatarChange:s.setPendingAvatar,
onBannerChange:s.setPendingBanner,pendingBanner:f,pendingBio:C,pendingPronouns:G,pendingAvatar:d,pendingAvatarDecoration:B,openPremiumSettings:x})}))}Y.displayName="UserSettingsProfileCustomization"},267309:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=g;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}(n(667294)),o=S(n(37039)),i=n(939425),l=S(n(956117)),u=S(n(60097)),s=S(n(41024)),d=S(n(308920)),f=S(n(427588)),c=n(770348),p=n(265517),v=S(n(247001)),m=S(n(430099));function S(e){return e&&e.__esModule?e:{default:e}}function E(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function _(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(e){var t=e.user,n=(0,i.useCTATextExperimentButtonText)({autoTrackExposure:t.premiumType!==c.PremiumTypes.TIER_1}),a=(0,o.default)().analyticsLocations,S=t.premiumType===c.PremiumTypes.TIER_1?v.default.Messages.USER_SETTINGS_CUSTOMIZATION_UPGRADE_UPSELL:null!=n?n:v.default.Messages.USER_SETTINGS_CUSTOMIZATION_UPSELL;r.useEffect((function(){d.default.track(c.AnalyticEvents.PREMIUM_UPSELL_VIEWED,{
type:p.PremiumUpsellTypes.CUSTOM_PROFILE_SETTINGS_BANNER_BUTTON,location:{page:c.AnalyticsPages.USER_SETTINGS,section:c.AnalyticsSections.SETTINGS_CUSTOMIZE_PROFILE,object:c.AnalyticsObjects.BUTTON_CTA},location_stack:a})}),[a]);return _(u.default,{color:l.default.Colors.GREEN,onClick:f.default,innerClassName:m.default.nitroUpsellButtonInner},void 0,_(s.default,{className:m.default.nitroUpsellButtonWheel}),S)}g.displayName="UserSettingsProfileUpsellButton"},427588:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){(0,r.openModalLazy)(s(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(87096).then(n.bind(n,887096));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,l({},e,{source:{page:o.AnalyticsPages.USER_SETTINGS,section:o.AnalyticsSections.SETTINGS_CUSTOMIZE_PROFILE,object:o.AnalyticsObjects.BUTTON_CTA,
type:o.AnalyticsObjectTypes.BUY}}))}));case 5:case"end":return e.stop()}}),e)}))))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=r?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(a,o,l):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}(n(667294)),r=n(194322),o=n(770348);function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function l(){l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return l.apply(this,arguments)}function u(e,t,n,a,r,o,i){try{var l=e[o](i),u=l.value}catch(e){n(e);return}
l.done?t(u):Promise.resolve(u).then(a,r)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){u(o,a,r,i,l,"next",e)}function l(e){u(o,a,r,i,l,"throw",e)}i(void 0)}))}}},451646:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a=d(n(821896)),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}(n(685677)),o=d(n(713293)),i=d(n(590418)),l=d(n(510966)),u=n(770348);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}
function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(e,a.key,a)}}function c(e,t){c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c(e,t)}var p=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;c(e,t)}(t,e);t.createFromServer=function(e){var n=null!=e.payment_source?o.default.createFromServer(e.payment_source):null,a=null!=e.sku?i.default.createFromServer(e.sku):null,r=null!=e.subscription?l.default.createFromServer(e.subscription):null;return new t({id:e.id,createdAt:new Date(e.created_at),currency:e.currency,tax:e.tax,taxInclusive:e.tax_inclusive,amount:e.amount,amountRefunded:e.amount_refunded,status:e.status,metadata:e.metadata,description:e.description,paymentSource:n,paymentGateway:e.payment_gateway,paymentGatewayPaymentId:e.payment_gateway_payment_id,flags:e.flags,
subscription:r,skuId:e.sku_id,skuPrice:e.sku_price,sku:a,downloadableInvoice:e.downloadable_invoice,downloadableRefundInvoices:e.downloadable_refund_invoices,premiumRefundDisqualificationReasons:e.premium_refund_disqualification_reasons})};function t(t){var n;(n=e.call(this)||this).id=t.id;n.amount=t.amount;n.amountRefunded=t.amountRefunded;n.createdAt=t.createdAt;n.currency=t.currency;n.description=t.description;n.paymentSource=t.paymentSource;n.status=t.status;n.tax=t.tax;n.taxInclusive=t.taxInclusive;n.subscription=t.subscription;n.skuId=t.skuId;n.skuPrice=t.skuPrice;n.sku=t.sku;n.flags=t.flags;n.downloadableInvoice=t.downloadableInvoice;n.downloadableRefundInvoices=t.downloadableRefundInvoices;n.premiumRefundDisqualificationReasons=t.premiumRefundDisqualificationReasons;return n}!function(e,t,n){t&&f(e.prototype,t);n&&f(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"isPurchasedViaApple",get:function(){return this.paymentGateway===u.PaymentGateways.APPLE}},{
key:"isPurchasedViaGoogle",get:function(){return this.paymentGateway===u.PaymentGateways.GOOGLE}},{key:"isPurchasedExternally",get:function(){return this.isPurchasedViaApple||this.isPurchasedViaGoogle}},{key:"isSubscription",get:function(){return null!=this.subscription}},{key:"isPremiumSubscription",get:function(){return null!=this.subscription&&u.PREMIUM_PLANS.has(this.subscription.planId)}},{key:"isPremiumGuildSubscription",get:function(){return null!=this.subscription&&null!=this.subscription.additionalPlans.find((function(e){var t=e.planId;return u.PREMIUM_GUILD_SUBSCRIPTION_PLANS.has(t)}))}},{key:"isGift",get:function(){return r.hasFlag(this.flags,u.PaymentFlags.GIFT)}},{key:"isPremiumGift",get:function(){return this.isGift&&Object.values(u.PremiumSubscriptionSKUs).includes(this.skuId)}},{key:"isPreorder",get:function(){return r.hasFlag(this.flags,u.PaymentFlags.PREORDER)}}]);return t}(a.default);t.default=p},490931:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{
value:!0});t.default=void 0;var a,r=u(n(536211)),o=u(n(636602)),i=u(n(451646)),l=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t){s=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return s(e,t)}function d(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||f(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var p=[]
;function v(e){var t=e.payment,n=i.default.createFromServer(t),a=p.findIndex((function(e){return e.id===t.id}));if(-1===a){p.push(n);p.sort((function(e,t){return t.createdAt.getTime()-e.createdAt.getTime()}))}else p[a]=n;p=d(p)}var m=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;s(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.getPayment=function(e){return p.find((function(t){return t.id===e}))};n.getPayments=function(){return p};return t}(r.default.Store);m.displayName="PaymentStore";var S=new m(o.default,((a={})[l.ActionTypes.BILLING_PAYMENTS_FETCH_SUCCESS]=function(e){for(var t,n=function(){var e=t.value,n=i.default.createFromServer(e),a=p.findIndex((function(t){return t.id===e.id}));-1!==a?p[a]=n:p.push(n)},a=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=f(e))||t&&e&&"number"==typeof e.length){n&&(e=n)
;var a=0;return function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(e.payments);!(t=a()).done;)n();p.sort((function(e,t){return t.createdAt.getTime()-e.createdAt.getTime()}));p=d(p)},a[l.ActionTypes.PAYMENT_UPDATE]=v,a[l.ActionTypes.BILLING_PAYMENT_FETCH_SUCCESS]=v,a[l.ActionTypes.LOGOUT]=function(){p=[]},a));t.default=S},542618:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}(n(667294)),o=u(n(294184)),i=u(n(530250)),l=u(n(124047));function u(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t){d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return d(e,t)}function f(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=function(e){var t=e.children,n=e.className,a=e.splashArtURL;return f(i.default,{className:(0,o.default)(l.default.header,n),
align:i.default.Align.CENTER},void 0,f("div",{className:l.default.splashArt,style:null!=a?{backgroundImage:"url("+a+")"}:void 0}),t)};c.displayName="ActivityFeedCardHeader";var p=function(e){var t=e.children,n=e.className;return f("div",{className:(0,o.default)(l.default.body,n)},void 0,t)};p.displayName="ActivityFeedCardBody";var v=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;d(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,a=e.onMouseEnter,r=e.onMouseLeave;return f("div",{className:(0,o.default)(l.default.card,n),onMouseEnter:a,onMouseLeave:r},void 0,t)};return t}(r.PureComponent);v.displayName="ActivityFeedCard";v.Header=c;v.Body=p;var m=v;t.default=m},477797:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}(n(667294)),o=c(n(294184)),i=c(n(16941)),l=c(n(916417)),u=c(n(863771)),s=c(n(247001)),d=c(n(282230)),f=["currentPageIndex","numPages","onChangePage","children","className","showPageCount"];function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(){v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return v.apply(this,arguments)}function m(e,t,n,r){
a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var S=r.forwardRef((function(e,t){var n,a,c=e.currentPageIndex,p=e.numPages,S=e.onChangePage,E=e.children,_=e.className,g=e.showPageCount,y=void 0===g||g,T=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++){n=o[a];t.indexOf(n)>=0||(r[n]=e[n])}return r}(e,f),O=c<=0,I=c>=p-1;return r.createElement("div",v({className:(0,o.default)(d.default.paginator,_),ref:t},T),E,m("div",{className:d.default.pageActions},void 0,m(i.default,{className:(0,o.default)(d.default.pageButtonPrev,(n={},n[d.default.disabled]=O,n)),tabIndex:O?-1:0,onClick:O?void 0:function(){
return S(c-1)}},void 0,m(l.default,{className:d.default.pageButtonIcon,"aria-label":s.default.Messages.PAGINATION_PREVIOUS})),m("div",{className:d.default.pageIndicator},void 0,y?s.default.Messages.PAGINATOR_OF_PAGES.format({currentPage:c+1,numPages:p}):s.default.Messages.PAGINATOR_CURRENT_PAGE.format({currentPage:c+1})),m(i.default,{className:(0,o.default)(d.default.pageButtonNext,(a={},a[d.default.disabled]=I,a)),tabIndex:I?-1:0,onClick:I?void 0:function(){return S(c+1)}},void 0,m(u.default,{className:d.default.pageButtonIcon,"aria-label":s.default.Messages.PAGINATION_NEXT}))))}));t.default=S},638707:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}(n(667294)),o=f(n(294184)),i=n(682937),l=f(n(365211)),u=f(n(596178)),s=n(770348),d=f(n(387070));function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(e,t){v=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e}
;return v(e,t)}var m=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;v(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.renderIcon=function(e){return e===s.BoostedGuildTiers.NONE?p(u.default,{tier:s.BoostedGuildTiers.TIER_1,className:d.default.gemWithoutLabel}):p(u.default,{tier:e,className:d.default.gemWithLabel})};n.render=function(){var e=this.props,t=e.className,n=e.guildId,a=e.subscriberCount,r=(0,i.getGuildTierFromAppliedBoostCount)(a,n),u=(0,i.getNextGuildTierFromAppliedBoostCount)(a,n),s=null!=u?(0,i.getAppliedGuildBoostsRequired)(n)[u]:null,f=null!=s&&s>0?a/s*100:100;return p(l.default,{background:d.default.progressBackground,percent:f,strokeSize:l.default.StrokeSizes.SMALL,className:(0,o.default)(d.default.gemIndicatorProgressCircle,t)},void 0,p("div",{className:d.default.gemIndicatorContainer},void 0,this.renderIcon(r),p("div",{className:d.default.tierLabel},void 0,(0,i.getTierName)(r))))};return t
}(r.Component);m.displayName="PremiumGuildGemIndicator";var S=m;t.default=S},675044:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var a,r,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}(n(667294)),i=(a=n(468205))&&a.__esModule?a:{default:a},l=["width","height","color","foreground"];function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return s.apply(this,arguments)}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){var t=e.width,n=void 0===t?24:t,a=e.height,r=void 0===a?24:a,u=e.color,f=void 0===u?"currentColor":u,c=e.foreground,p=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++){n=o[a];t.indexOf(n)>=0||(r[n]=e[n])}return r}(e,l);return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:r,viewBox:"0 0 24 24"}),d("path",{className:c,fill:f,id:"a",
d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM8.9 6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2H8.9V6zM16 16h-3v3h-2v-3H8v-2h3v-3h2v3h3v2z"}))}f.displayName="SecureLock"},526432:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var a,r,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}(n(667294)),i=(a=n(468205))&&a.__esModule?a:{default:a},l=["width","height","color"];function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t
})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return s.apply(this,arguments)}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){var t=e.width,n=void 0===t?24:t,a=e.height,r=void 0===a?24:a,u=e.color,f=void 0===u?"currentColor":u,c=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++){n=o[a];t.indexOf(n)>=0||(r[n]=e[n])}return r}(e,l);return o.createElement("svg",s({width:n,height:r},(0,i.default)(c),{viewBox:"0 0 24 24"}),d("path",{
d:"M13.8003 3.59643V7.86267C13.8003 9.15683 14.8448 10.2011 16.1393 10.2011H20.4067C20.9334 10.2011 21.2012 9.56739 20.8263 9.19253L14.8091 3.17694C14.4341 2.80208 13.8003 3.06092 13.8003 3.59643Z",fill:f}),d("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.9727 7.88073C11.9727 10.1692 13.8304 12.0269 16.1189 12.0269H20.9471V19.2064C20.9471 20.1936 20.1394 21.0013 19.1523 21.0013H4.79318C3.80599 21.0013 2.99829 20.1936 2.99829 19.2064V4.84737C2.99829 3.86019 3.80599 3.05249 4.79318 3.05249H11.9727V7.88073ZM13.8 14C13.8 14.9941 12.9941 15.8 12 15.8C11.0059 15.8 10.2 14.9941 10.2 14H9C9 15.6569 10.3431 17 12 17C13.6569 17 15 15.6569 15 14H13.8ZM7 15C7 15.5523 6.55228 16 6 16C5.44772 16 5 15.5523 5 15C5 14.4477 5.44772 14 6 14C6.55228 14 7 14.4477 7 15ZM18 16C18.5523 16 19 15.5523 19 15C19 14.4477 18.5523 14 18 14C17.4477 14 17 14.4477 17 15C17 15.5523 17.4477 16 18 16Z",fill:f}))}f.displayName="StickerPadded"},738858:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{
value:!0});t.default=void 0;var a,r=m(n(667294)),o=p(n(294184)),i=p(n(314234)),l=m(n(37241)),u=p(n(110583)),s=n(770348),d=p(n(247001)),f=p(n(115479)),c=p(n(380203));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function m(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}function S(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done);i=!0){o.push(a.value);if(t&&o.length===t)break}}catch(e){l=!0;r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var g=0,y=function(e){switch(e){case s.OverlayNotificationPositions.TOP_LEFT:return d.default.Messages.OVERLAY_NOTIFICATIONS_TOP_LEFT;case s.OverlayNotificationPositions.TOP_RIGHT:return d.default.Messages.OVERLAY_NOTIFICATIONS_TOP_RIGHT;case s.OverlayNotificationPositions.BOTTOM_LEFT:return d.default.Messages.OVERLAY_NOTIFICATIONS_BOTTOM_LEFT;case s.OverlayNotificationPositions.BOTTOM_RIGHT:return d.default.Messages.OVERLAY_NOTIFICATIONS_BOTTOM_RIGHT;default:return d.default.Messages.OVERLAY_NOTIFICATIONS_DISABLED}
},T=[s.OverlayNotificationPositions.DISABLED,s.OverlayNotificationPositions.TOP_LEFT,s.OverlayNotificationPositions.TOP_RIGHT,s.OverlayNotificationPositions.BOTTOM_LEFT,s.OverlayNotificationPositions.BOTTOM_RIGHT];function O(e){var t,n=e.position,a=e.onChange,p=E(r.useState((function(){return"notification-position-selector-"+g++})),1)[0],v=n===s.OverlayNotificationPositions.DISABLED?d.default.Messages.OVERLAY_NOTIFICATION_SETTINGS_DISABLED:d.default.Messages.OVERLAY_NOTIFICATION_SETTINGS_POSITION.format({position:y(n)});return S("div",{},void 0,S(i.default,{within:!0,offset:-2},void 0,S("div",{className:(0,o.default)(f.default.wrapper,(t={},t[f.default.disabledSelected]=n===s.OverlayNotificationPositions.DISABLED,t))},void 0,T.map((function(e){var t;return S("label",{className:(0,o.default)((t={},t[f.default.selected]=e===n,t[f.default.disabled]=e===s.OverlayNotificationPositions.DISABLED,t[f.default.topRight]=e===s.OverlayNotificationPositions.TOP_RIGHT,
t[f.default.topLeft]=e===s.OverlayNotificationPositions.TOP_LEFT,t[f.default.bottomRight]=e===s.OverlayNotificationPositions.BOTTOM_RIGHT,t[f.default.bottomLeft]=e===s.OverlayNotificationPositions.BOTTOM_LEFT,t))},e,y(e),e===s.OverlayNotificationPositions.DISABLED?S(u.default,{className:f.default.disabledIcon}):null,S("input",{type:"radio",name:p,value:e,onChange:function(t){return a(t,e)},className:f.default.hiddenInput}))})))),S(l.default,{type:l.Types.DESCRIPTION,className:c.default.marginTop8},void 0,v))}O.displayName="NotificationSettings";O.Positions=s.OverlayNotificationPositions;var I=O;t.default=I},581894:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;t.formatExpiration=a;var n=/[^0-9/]/g;function a(e){var t=e.replace(n,"").split("/"),a=t[0],r=t[1],o=[];parseInt(a,10)>12&&(a=a.substring(0,1));o.push(a);(parseInt(a,10)>1||2===a.length||null!=r&&""!==r)&&o.push("/");null!=r&&""!==r&&parseInt(r,10)>99&&(r=(r+"").substring(0,2));o.push(r)
;return o.join("")}var r={formatExpiration:a};t.default=r},35570:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getRandomHouse=t.getQuestions=t.getHouseNameFromHouseID=void 0;var a=i(n(441143)),r=n(770348),o=i(n(247001));function i(e){return e&&e.__esModule?e:{default:e}}t.getRandomHouse=function(){var e=Object.keys(r.HypeSquadHouses);return e[Math.floor(Math.random()*e.length)]};t.getQuestions=function(){
var e=[r.HypeSquadHouses.HOUSE_1,r.HypeSquadHouses.HOUSE_2,r.HypeSquadHouses.HOUSE_3,r.RANDOM_HYPESQUAD_HOUSE],t=[o.default.Messages.HYPESQUAD_QUESTION_0_PROMPT,o.default.Messages.HYPESQUAD_QUESTION_1_PROMPT,o.default.Messages.HYPESQUAD_QUESTION_2_PROMPT,o.default.Messages.HYPESQUAD_QUESTION_3_PROMPT,o.default.Messages.HYPESQUAD_QUESTION_4_PROMPT,o.default.Messages.HYPESQUAD_QUESTION_5_PROMPT,o.default.Messages.HYPESQUAD_QUESTION_6_PROMPT,o.default.Messages.HYPESQUAD_QUESTION_7_PROMPT,o.default.Messages.HYPESQUAD_QUESTION_8_PROMPT,o.default.Messages.HYPESQUAD_QUESTION_9_PROMPT,o.default.Messages.HYPESQUAD_QUESTION_10_PROMPT,o.default.Messages.HYPESQUAD_QUESTION_11_PROMPT,o.default.Messages.HYPESQUAD_QUESTION_12_PROMPT,o.default.Messages.HYPESQUAD_QUESTION_13_PROMPT,o.default.Messages.HYPESQUAD_QUESTION_14_PROMPT],n=[[o.default.Messages.HYPESQUAD_QUESTION_0_RESPONSE_A,o.default.Messages.HYPESQUAD_QUESTION_0_RESPONSE_B,o.default.Messages.HYPESQUAD_QUESTION_0_RESPONSE_C,o.default.Messages.HYPESQUAD_QUESTION_0_RESPONSE_D],[o.default.Messages.HYPESQUAD_QUESTION_1_RESPONSE_A,o.default.Messages.HYPESQUAD_QUESTION_1_RESPONSE_B,o.default.Messages.HYPESQUAD_QUESTION_1_RESPONSE_C,o.default.Messages.HYPESQUAD_QUESTION_1_RESPONSE_D],[o.default.Messages.HYPESQUAD_QUESTION_2_RESPONSE_A,o.default.Messages.HYPESQUAD_QUESTION_2_RESPONSE_B,o.default.Messages.HYPESQUAD_QUESTION_2_RESPONSE_C,o.default.Messages.HYPESQUAD_QUESTION_2_RESPONSE_D],[o.default.Messages.HYPESQUAD_QUESTION_3_RESPONSE_A,o.default.Messages.HYPESQUAD_QUESTION_3_RESPONSE_B,o.default.Messages.HYPESQUAD_QUESTION_3_RESPONSE_C,o.default.Messages.HYPESQUAD_QUESTION_3_RESPONSE_D],[o.default.Messages.HYPESQUAD_QUESTION_4_RESPONSE_A,o.default.Messages.HYPESQUAD_QUESTION_4_RESPONSE_B,o.default.Messages.HYPESQUAD_QUESTION_4_RESPONSE_C,o.default.Messages.HYPESQUAD_QUESTION_4_RESPONSE_D],[o.default.Messages.HYPESQUAD_QUESTION_5_RESPONSE_A,o.default.Messages.HYPESQUAD_QUESTION_5_RESPONSE_B,o.default.Messages.HYPESQUAD_QUESTION_5_RESPONSE_C,o.default.Messages.HYPESQUAD_QUESTION_5_RESPONSE_D],[o.default.Messages.HYPESQUAD_QUESTION_6_RESPONSE_A,o.default.Messages.HYPESQUAD_QUESTION_6_RESPONSE_B,o.default.Messages.HYPESQUAD_QUESTION_6_RESPONSE_C,o.default.Messages.HYPESQUAD_QUESTION_6_RESPONSE_D],[o.default.Messages.HYPESQUAD_QUESTION_7_RESPONSE_A,o.default.Messages.HYPESQUAD_QUESTION_7_RESPONSE_B,o.default.Messages.HYPESQUAD_QUESTION_7_RESPONSE_C,o.default.Messages.HYPESQUAD_QUESTION_7_RESPONSE_D],[o.default.Messages.HYPESQUAD_QUESTION_8_RESPONSE_A,o.default.Messages.HYPESQUAD_QUESTION_8_RESPONSE_B,o.default.Messages.HYPESQUAD_QUESTION_8_RESPONSE_C,o.default.Messages.HYPESQUAD_QUESTION_8_RESPONSE_D],[o.default.Messages.HYPESQUAD_QUESTION_9_RESPONSE_A,o.default.Messages.HYPESQUAD_QUESTION_9_RESPONSE_B,o.default.Messages.HYPESQUAD_QUESTION_9_RESPONSE_C,o.default.Messages.HYPESQUAD_QUESTION_9_RESPONSE_D],[o.default.Messages.HYPESQUAD_QUESTION_10_RESPONSE_A,o.default.Messages.HYPESQUAD_QUESTION_10_RESPONSE_B,o.default.Messages.HYPESQUAD_QUESTION_10_RESPONSE_C,o.default.Messages.HYPESQUAD_QUESTION_10_RESPONSE_D],[o.default.Messages.HYPESQUAD_QUESTION_11_RESPONSE_A,o.default.Messages.HYPESQUAD_QUESTION_11_RESPONSE_B,o.default.Messages.HYPESQUAD_QUESTION_11_RESPONSE_C,o.default.Messages.HYPESQUAD_QUESTION_11_RESPONSE_D],[o.default.Messages.HYPESQUAD_QUESTION_12_RESPONSE_A,o.default.Messages.HYPESQUAD_QUESTION_12_RESPONSE_B,o.default.Messages.HYPESQUAD_QUESTION_12_RESPONSE_C,o.default.Messages.HYPESQUAD_QUESTION_12_RESPONSE_D],[o.default.Messages.HYPESQUAD_QUESTION_13_RESPONSE_A,o.default.Messages.HYPESQUAD_QUESTION_13_RESPONSE_B,o.default.Messages.HYPESQUAD_QUESTION_13_RESPONSE_C,o.default.Messages.HYPESQUAD_QUESTION_13_RESPONSE_D],[o.default.Messages.HYPESQUAD_QUESTION_14_RESPONSE_A,o.default.Messages.HYPESQUAD_QUESTION_14_RESPONSE_B,o.default.Messages.HYPESQUAD_QUESTION_14_RESPONSE_C,o.default.Messages.HYPESQUAD_QUESTION_14_RESPONSE_D]]
;return function(){for(var e=[];e.length<5;){var t=Math.floor(15*Math.random());e.includes(t)||e.push(t)}return e}().map((function(r){var o=t[r],i=n[r];(0,a.default)(null!=o&&null!=i,"Invalid HypeSquad quiz question index");return{prompt:o,options:i.map((function(t,n){var r=e[n];(0,a.default)(null!==r,"Invalid HypeSquad quiz question option index");return{copy:t,house:r}}))}}))};t.getHouseNameFromHouseID=function(e){var t;return((t={})[r.HypeSquadHouses.HOUSE_1]=o.default.Messages.HYPESQUAD_HOUSE_1,t[r.HypeSquadHouses.HOUSE_2]=o.default.Messages.HYPESQUAD_HOUSE_2,t[r.HypeSquadHouses.HOUSE_3]=o.default.Messages.HYPESQUAD_HOUSE_3,t)[e]}},135628:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.encodeTotpSecret=d;t.encodeTotpSecretAsUrl=function(e,t,n){void 0===n&&(n="Discord");return"otpauth://totp/"+encodeURI(n)+":"+encodeURI(e)+"?secret="+d(t)+"&issuer="+encodeURIComponent(n)};t.generateTotpSecret=function(){return e=function(e){void 0===e&&(e=10)
;return u.getRandomValues(new Uint8Array(e))}(),l.default.encode(e).toString("utf8").replace(/=/g,"").toLowerCase().replace(/(\w{4})/g,"$1 ").trim();var e};t.hasCrypto=void 0;var a,r,o,i,l=(a=n(925017))&&a.__esModule?a:{default:a};var u=null!==(r=null===(o=window)||void 0===o?void 0:o.crypto)&&void 0!==r?r:null===(i=window)||void 0===i?void 0:i.msCrypto,s=null!=u&&"getRandomValues"in u&&"Uint8Array"in window;t.hasCrypto=s;function d(e){return e.replace(/[\s._-]+/g,"").toUpperCase()}},374699:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.computeFlags=function(e){var t;if(e[l.FriendSourceFlagKeys.ALL]){var n;return(n={})[l.FriendSourceFlagKeys.ALL]=!0,n[l.FriendSourceFlagKeys.FRIENDS]=!0,n[l.FriendSourceFlagKeys.GUILDS]=!0,n}return(t={})[l.FriendSourceFlagKeys.ALL]=!1,t[l.FriendSourceFlagKeys.FRIENDS]=!!e[l.FriendSourceFlagKeys.FRIENDS],t[l.FriendSourceFlagKeys.GUILDS]=!!e[l.FriendSourceFlagKeys.GUILDS],t};t.getSanitizedRestrictedGuilds=function(){
var e=o.default.restrictedGuilds;0===a.default.totalUnavailableGuilds&&(e=e.filter((function(e){return null!=r.default.getGuild(e)})));return e};t.harvestDisabled=function(e,t){if(!t.verified)return!0;if(null==e)return!1;return s>Date.now()-new Date(e.created_at).getTime()};t.trackPaneViewed=function(e,t){i.default.track(l.AnalyticEvents.SETTINGS_PANE_VIEWED,{settings_type:"user",destination_pane:e,source:t})};var a=u(n(250650)),r=u(n(30098)),o=u(n(871778)),i=u(n(308920)),l=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}var s=864e5*l.REQUEST_DATA_LIMIT_DAYS},921912:(e,t,n)=>{e.exports=n.p+"350e1c6739823620f031d023a48ac9d4.svg"},964766:(e,t,n)=>{e.exports=n.p+"3123277eb2e7083fde983985dcd209a6.svg"},3874:(e,t,n)=>{e.exports=n.p+"c115d59ca13c0f942965a82a0f05bf01.svg"},302255:(e,t,n)=>{e.exports=n.p+"ad530d02033b87bb89752f915c2fbe3c.svg"},117399:(e,t,n)=>{e.exports=n.p+"f1e026332f1d6e902bcbbc07892bc849.svg"},408056:(e,t,n)=>{
e.exports=n.p+"fd65da49c3073002049383baeb24e658.svg"},498913:(e,t,n)=>{e.exports=n.p+"beec347635d7597215747fcaf461e569.svg"},598150:(e,t,n)=>{e.exports=n.p+"9581653a5a4d0b7b56187044a9db301a.svg"},656470:(e,t,n)=>{e.exports=n.p+"12d9bda733d6432d605e8011c22c3e56.svg"},789885:(e,t,n)=>{e.exports=n.p+"8de4b17bb44ad5ef9f21f2f6f16aa8d1.svg"},709804:(e,t,n)=>{e.exports=n.p+"37cf72199c4e106407223a1edaf34460.svg"},392544:(e,t,n)=>{e.exports=n.p+"55b367aaef0b83c837ac6c3bfe01da4c.svg"},350672:(e,t,n)=>{e.exports=n.p+"6e97f6643e7df29b26571d96430e92f4.svg"},24264:(e,t,n)=>{e.exports=n.p+"55b941d7bba0d84f06c05db34b7c9aab.svg"},874638:(e,t,n)=>{e.exports=n.p+"187bc0709ea0cecffe622a50993d012c.svg"},956863:(e,t,n)=>{e.exports=n.p+"c096c74c5685ce049b779f7ce3591bab.svg"},903049:(e,t,n)=>{e.exports=n.p+"d5d75eacea4086ed5f38048b74851f43.svg"},188374:(e,t,n)=>{e.exports=n.p+"42b60052f80abd9c2bdd8fc24cf97988.svg"},789621:(e,t,n)=>{e.exports=n.p+"9167182d6b74446a1c818615c135c289.svg"},273361:(e,t,n)=>{
e.exports=n.p+"67430d140a79af95585a19d304731dc5.svg"},129428:(e,t,n)=>{e.exports=n.p+"d6779172ed9209b5ad49df923ea7820c.svg"},566300:(e,t,n)=>{e.exports=n.p+"c11b69c74029b5deaca9ca7ce1e987b1.svg"},235920:(e,t,n)=>{e.exports=n.p+"23e073eb0ee21f94de11e5d0a7eec50e.svg"},200824:(e,t,n)=>{e.exports=n.p+"f69210154879227d0ede0308465cf388.svg"},680664:(e,t,n)=>{e.exports=n.p+"41a1814ec63404eb722ce88d1c28b4f4.png"},396448:(e,t,n)=>{e.exports=n.p+"8e5a6ee1fce31ef5c5800b7646a94d98.png"},20278:(e,t,n)=>{e.exports=n.p+"eb47171e918604c7f7e861e94708f19f.svg"},178598:function(e,t,n){var a,r=r||function(e){"use strict";if("undefined"==typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var t=e.document,n=function(){return e.URL||e.webkitURL||e},a=t.createElementNS("http://www.w3.org/1999/xhtml","a"),r="download"in a,o=/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),i=e.webkitRequestFileSystem,l=e.requestFileSystem||i||e.mozRequestFileSystem,u=function(t){
(e.setImmediate||e.setTimeout)((function(){throw t}),0)},s="application/octet-stream",d=0,f=function(e){setTimeout((function(){"string"==typeof e?n().revokeObjectURL(e):e.remove()}),4e4)},c=function(e,t,n){for(var a=(t=[].concat(t)).length;a--;){var r=e["on"+t[a]];if("function"==typeof r)try{r.call(e,n||e)}catch(e){u(e)}}},p=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["",e],{type:e.type}):e},v=function(t,u,v){v||(t=p(t));var m,S,E,_=this,g=t.type,y=!1,T=function(){c(_,"writestart progress write writeend".split(" "))},O=function(){if(S&&o&&"undefined"!=typeof FileReader){var a=new FileReader;a.onloadend=function(){var e=a.result;S.location.href="data:attachment/file"+e.slice(e.search(/[,;]/));_.readyState=_.DONE;T()};a.readAsDataURL(t);_.readyState=_.INIT}else{!y&&m||(m=n().createObjectURL(t));if(S)S.location.href=m;else{void 0===e.open(m,"_blank")&&o&&(e.location.href=m)}_.readyState=_.DONE;T();f(m)}
},I=function(e){return function(){if(_.readyState!==_.DONE)return e.apply(this,arguments)}},h={create:!0,exclusive:!1};_.readyState=_.INIT;u||(u="download");if(r){m=n().createObjectURL(t);setTimeout((function(){a.href=m;a.download=u;e=a,t=new MouseEvent("click"),e.dispatchEvent(t);var e,t;T();f(m);_.readyState=_.DONE}))}else{if(e.chrome&&g&&g!==s){E=t.slice||t.webkitSlice;t=E.call(t,0,t.size,s);y=!0}i&&"download"!==u&&(u+=".download");(g===s||i)&&(S=e);if(l){d+=t.size;l(e.TEMPORARY,d,I((function(e){e.root.getDirectory("saved",h,I((function(e){var n=function(){e.getFile(u,h,I((function(e){e.createWriter(I((function(n){n.onwriteend=function(t){S.location.href=e.toURL();_.readyState=_.DONE;c(_,"writeend",t);f(e)};n.onerror=function(){var e=n.error;e.code!==e.ABORT_ERR&&O()};"writestart progress write abort".split(" ").forEach((function(e){n["on"+e]=_["on"+e]}));n.write(t);_.abort=function(){n.abort();_.readyState=_.DONE};_.readyState=_.WRITING})),O)})),O)};e.getFile(u,{create:!1
},I((function(e){e.remove();n()})),I((function(e){e.code===e.NOT_FOUND_ERR?n():O()})))})),O)})),O)}else O()}},m=v.prototype;if("undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob)return function(e,t,n){n||(e=p(e));return navigator.msSaveOrOpenBlob(e,t||"download")};m.abort=function(){var e=this;e.readyState=e.DONE;c(e,"abort")};m.readyState=m.INIT=0;m.WRITING=1;m.DONE=2;m.error=m.onwritestart=m.onprogress=m.onwrite=m.onabort=m.onerror=m.onwriteend=null;return function(e,t,n){return new v(e,t,n)}}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);e.exports?e.exports.saveAs=r:null!==n.amdD&&null!==n.amdO&&void 0!==(a=function(){return r}.apply(t,[]))&&(e.exports=a)},925017:(e,t,n)=>{var a=n(780883);t.encode=a.encode;t.decode=a.decode},780883:(e,t,n)=>{
var a=n(348764).Buffer,r=[255,255,26,27,28,29,30,31,255,255,255,255,255,255,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255];t.encode=function(e){a.isBuffer(e)||(e=new a(e));for(var t,n,r=0,o=0,i=0,l=0,u=new a(8*(t=e,n=Math.floor(t.length/5),t.length%5==0?n:n+1));r<e.length;){var s=e[r];if(i>3){l=(l=s&255>>i)<<(i=(i+5)%8)|(r+1<e.length?e[r+1]:0)>>8-i;r++}else{l=s>>8-(i+5)&31;0==(i=(i+5)%8)&&r++}u[o]="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567".charCodeAt(l);o++}for(r=o;r<u.length;r++)u[r]=61;return u};t.decode=function(e){var t,n=0,o=0,i=0;a.isBuffer(e)||(e=new a(e));for(var l=new a(Math.ceil(5*e.length/8)),u=0;u<e.length&&61!=e[u];u++){var s=e[u]-48;if(!(s<r.length))throw new Error("Invalid input - it is not base32 encoded string");o=r[s];if(n<=3)if(0==(n=(n+5)%8)){t|=o;l[i]=t;i++;t=0}else t|=255&o<<8-n;else{t|=255&o>>>(n=(n+5)%8);l[i]=t;i++
;t=255&o<<8-n}}return l.slice(0,i)}}}]);
//# sourceMappingURL=e81d25972199d1bd7d81.js.map