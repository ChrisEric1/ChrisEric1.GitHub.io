"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[4483],{704483:(e,t,n)=>{n.r(t);n.d(t,{default:()=>h});var r=n(785893),a=n(667294),o=n(441143),l=n.n(o),i=n(945460),s=n(251295),u=n(887124),c=n(165296),_=n(223430),E=n(443812),T=n(999259),d=n(473708),S=n(888593),I=n.n(S);function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t,n,r,a,o,l){try{var i=e[o](l),s=i.value}catch(e){n(e);return}i.done?t(s):Promise.resolve(s).then(r,a)}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done);l=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){i=!0;a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var M=function(e,t){var n,r,a,o,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;(r=0,a)&&(o=[2&o[0],a.value]);switch(o[0]){case 0:case 1:a=o;break;case 4:l.label++;return{value:o[1],done:!1}
;case 5:l.label++;r=o[1];o=[0];continue;case 7:o=l.ops.pop();l.trys.pop();continue;default:if(!(a=l.trys,a=a.length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){l.label=o[1];break}if(6===o[0]&&l.label<a[1]){l.label=a[1];a=o;break}if(a&&l.label<a[2]){l.label=a[2];l.ops.push(o);break}a[2]&&l.ops.pop();l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e];r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}};function h(e){var t,n,o,S,f=e.transitionState,h=e.application,L=e.onClose,N=(0,E.Dt)(),O=A(a.useState(null==h||null===(t=h.team)||void 0===t?void 0:t.id),2),m=O[0],C=O[1],b=A(a.useState(""),2),y=b[0],g=b[1],v=(0,c.Z)().teams,R=a.useMemo((function(){return v.filter((function(e){return e.payout_account_status===T.C.ACTIVE})).map((function(e){return{label:e.name,value:e.id}}))}),[v]),D=(null==h||null===(n=h.team)||void 0===n?void 0:n.id)!==m&&""!==y,x=A((0,
s.Z)(u.Z.transferApplication),2),P=x[0],B=x[1],G=B.loading,U=B.error,j=(S=(o=function(){return M(this,(function(e){switch(e.label){case 0:l()(null!=h,"no application");l()(null!=m,"no team selected");l()(""!==y,"no mfa code");return[4,P({applicationId:h.id,teamId:m,mfaCode:y})];case 1:null!=e.sent()&&L();return[2]}}))},function(){var e=this,t=arguments;return new Promise((function(n,r){var a=o.apply(e,t);function l(e){p(a,n,r,l,i,"next",e)}function i(e){p(a,n,r,l,i,"throw",e)}l(void 0)}))}),function(){return S.apply(this,arguments)}),Z=null!=(null==h?void 0:h.team);return(0,r.jsxs)(i.ModalRoot,{transitionState:f,"aria-labelledby":N,children:[(0,r.jsxs)(i.ModalHeader,{children:[(0,r.jsx)(i.Heading,{id:N,variant:"heading-md/semibold",children:Z?d.Z.Messages.GUILD_ROLE_SUBSCRIPTION_SETTINGS_PAYMENT_TEAM_SECTION_MODAL_TITLE:d.Z.Messages.GUILD_ROLE_SUBSCRIPTION_SETTINGS_PAYMENT_TEAM_SECTION_MODAL_SELECT_TEAM_TITLE}),(0,r.jsx)(i.ModalCloseButton,{className:I().closeButton,onClick:L})]}),(0,
r.jsxs)(i.ModalContent,{className:I().content,children:[(0,r.jsx)(i.FormText,{type:i.FormText.Types.ERROR,children:Z?d.Z.Messages.GUILD_ROLE_SUBSCRIPTION_SETTINGS_PAYMENT_TEAM_SECTION_MODAL_DESCRIPTION:d.Z.Messages.GUILD_ROLE_SUBSCRIPTION_SETTINGS_PAYMENT_TEAM_SECTION_MODAL_SELECT_TEAM_DESCRIPTION}),null!=U?(0,r.jsx)(i.FormErrorBlock,{children:U.message}):null,(0,r.jsx)(_.Z,{size:16}),(0,r.jsx)(i.FormItem,{title:Z?d.Z.Messages.GUILD_ROLE_SUBSCRIPTION_SETTINGS_PAYMENT_TEAM_SECTION_MODAL_SELECT_TEAM_TO_TRANSFER_LABEL:d.Z.Messages.GUILD_ROLE_SUBSCRIPTION_SETTINGS_PAYMENT_TEAM_SECTION_MODAL_SELECT_TEAM_LABEL,required:!0,children:(0,r.jsx)(i.SingleSelect,{className:I().teamSelect,options:R,placeholder:d.Z.Messages.GUILD_MONETIZATION_ENABLE_SELECT_PLACEHOLDER,value:m,isDisabled:0===R.length,onChange:function(e){return C(e)},"aria-label":d.Z.Messages.GUILD_MONETIZATION_ENABLE_SELECT_PLACEHOLDER})}),(0,r.jsx)(_.Z,{size:16}),(0,r.jsx)(i.FormItem,{
title:d.Z.Messages.GUILD_ROLE_SUBSCRIPTION_SETTINGS_PAYMENT_TEAM_SECTION_MODAL_MFA_LABEL,required:!0,children:(0,r.jsx)(i.TextInput,{placeholder:d.Z.Messages.GUILD_ROLE_SUBSCRIPTION_SETTINGS_PAYMENT_TEAM_SECTION_MODAL_MFA_PLACEHOLDER,value:y,inputClassName:I().formInput,onChange:g})})]}),(0,r.jsx)(i.ModalFooter,{className:I().footer,children:(0,r.jsx)(i.Button,{color:i.Button.Colors.RED,className:I().goBackButton,submitting:G,disabled:!D,onClick:j,children:d.Z.Messages.SAVE})})]})}}}]);
//# sourceMappingURL=0afefc73b063f9288129.js.map