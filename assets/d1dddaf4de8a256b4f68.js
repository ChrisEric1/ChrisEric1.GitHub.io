"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[64153],{442368:(e,n,r)=>{r.d(n,{kY:()=>u,Aj:()=>d,d$:()=>f,S1:()=>h,hw:()=>p,kU:()=>E});var t=r(744564),i=r(20170),o=r(761953);function a(e,n,r,t,i,o,a){try{var l=e[o](a),s=l.value}catch(e){r(e);return}l.done?n(s):Promise.resolve(s).then(t,i)}function l(e){return function(){var n=this,r=arguments;return new Promise((function(t,i){var o=e.apply(n,r);function l(e){a(o,t,i,l,s,"next",e)}function s(e){a(o,t,i,l,s,"throw",e)}l(void 0)}))}}var s=function(e,n){var r,t,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,t&&(i=2&o[0]?t.return:o[0]?t.throw||((i=t.return)&&i.call(t),0):t.next)&&!(i=i.call(t,o[1])).done)return i;(t=0,
i)&&(o=[2&o[0],i.value]);switch(o[0]){case 0:case 1:i=o;break;case 4:a.label++;return{value:o[1],done:!1};case 5:a.label++;t=o[1];o=[0];continue;case 7:o=a.ops.pop();a.trys.pop();continue;default:if(!(i=a.trys,i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1];i=o;break}if(i&&a.label<i[2]){a.label=i[2];a.ops.push(o);break}i[2]&&a.ops.pop();a.trys.pop();continue}o=n.call(e,a)}catch(e){o=[6,e];t=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}};function u(e,n,r,t){return c.apply(this,arguments)}function c(){return(c=l((function(e,n,r,o){var a;return s(this,(function(l){switch(l.label){case 0:return null==(a=e.getGuildId())||n!==a?[3,2]:[4,(0,i.u)(e,o,r)];case 1:if(!l.sent())return[2,!1];l.label=2;case 2:t.Z.dispatch({type:"CHANNEL_SETTINGS_PERMISSIONS_UPDATE_PERMISSION",id:n,allow:r,deny:o});return[2]}}))}))).apply(this,arguments)}
function d(e){t.Z.dispatch({type:"CHANNEL_SETTINGS_PERMISSIONS_SELECT_PERMISSION",id:e})}function f(e){t.Z.dispatch({type:"CHANNEL_SETTINGS_PERMISSIONS_SET_ADVANCED_MODE",advancedMode:e})}function h(){t.Z.dispatch({type:"CHANNEL_SETTINGS_PERMISSIONS_INIT"})}function p(e,n,r){return E(e,n,[],r)}function E(e,n,r,i){t.Z.dispatch({type:"CHANNEL_SETTINGS_PERMISSIONS_SUBMITTING"});return new Promise((function(t){var i=function(){if(0===n.length&&0===r.length)return t();if(n.length>0){var a=n.pop();if(null==a)return i();o.Z.updatePermissionOverwrite(e,a).then(i,i)}else{var l=r.pop();if(null==l)return i();o.Z.clearPermissionOverwrite(e,l).then(i,i)}};i()})).then((function(){t.Z.dispatch({type:"CHANNEL_SETTINGS_PERMISSIONS_SAVE_SUCCESS",silent:i})}))}},985462:(e,n,r)=>{r.d(n,{Z:()=>f});var t=r(999357),i=r(165695),o=r(744564),a=r(10390),l=r(9430),s=r(801809),u=r(201459),c=r(2590),d=r(131559);const f={createChannel:function(e){
var n=e.guildId,r=e.type,f=e.name,h=e.permissionOverwrites,p=void 0===h?[]:h,E=e.bitrate,y=e.userLimit,m=e.parentId,v=e.skuId,S=e.branchId,b=e.flags;o.Z.dispatch({type:"CREATE_CHANNEL_MODAL_SUBMIT"});var g={type:r,name:f,permission_overwrites:p};null!=E&&E!==c.epw&&(g.bitrate=E);null!=y&&y>0&&(g.user_limit=y);null!=m&&(g.parent_id=m);if(r===c.d4z.GUILD_STORE){if(null==v)throw new Error("Unexpected missing SKU");g.sku_id=v;g.branch_id=S}null!=b&&(g.flags=b);return s.Z.post({url:c.ANM.GUILD_CHANNELS(n),body:g,oldFormErrors:!0,trackedActionData:{event:t.a9.CHANNEL_CREATE,properties:function(e){var n,r;return(0,i.iG)({is_private:p.length>0,channel_id:null==e||null===(n=e.body)||void 0===n?void 0:n.id,channel_type:null==e||null===(r=e.body)||void 0===r?void 0:r.type})}}}).then((function(e){l.Z.isOptInEnabled(n)&&u.Z.updateChannelOverrideSettings(n,e.body.id,{flags:d.ic.OPT_IN_ENABLED});a.Z.checkGuildTemplateDirty(n);return e}),(function(e){o.Z.dispatch({
type:"CREATE_CHANNEL_MODAL_SUBMIT_FAILURE",errors:e.body});throw e}))},createRoleSubscriptionTemplateChannel:function(e,n,r,o){return s.Z.post({url:c.ANM.GUILD_CHANNELS(e),body:{name:n,type:r,topic:o},oldFormErrors:!0,trackedActionData:{event:t.a9.CHANNEL_CREATE,properties:function(e){var n,r;return(0,i.iG)({is_private:!0,channel_id:null==e||null===(n=e.body)||void 0===n?void 0:n.id,channel_type:null==e||null===(r=e.body)||void 0===r?void 0:r.type})}}})}}},1477:(e,n,r)=>{r.d(n,{GJ:()=>v,X0:()=>b,W:()=>g,aq:()=>N,pM:()=>A,ik:()=>_,Wx:()=>O,kA:()=>M,RZ:()=>w,iI:()=>Z,cR:()=>P,zB:()=>j,yv:()=>D,_A:()=>k,$e:()=>B,Yh:()=>H,Yk:()=>G,RD:()=>U,nT:()=>z,$7:()=>V,Tj:()=>q});var t=r(940060),i=r(547308),o=r(442368),a=r(73904),l=r(382060),s=r(21372),u=r(473903),c=r(176758),d=r(72580),f=r(563135),h=r(749565),p=r(449518),E=r(2590),y=r(473708);function m(e,n,r){n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r;return e}function v(e){
return t.Z.has(e.permissions,E.Plq.ADMINISTRATOR)}function S(e){return t.Z.has(e.permissions,E.Plq.ADMINISTRATOR)?p.aC.ADMINISTRATOR:p.aC.ROLE}function b(e){var n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=S(e);return{rowType:t,colorString:null!==(n=e.colorString)&&void 0!==n?n:(0,i.Rf)(E.p6O),name:e.name,id:e.id,disabled:v(e)||r,key:"".concat(t,":").concat(e.id),tags:e.tags}}function g(e,n){var r=v(e)?0:1,t=v(n)?0:1;return r!==t?r-t:n.position-e.position}function N(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y.Z.Messages.PRIVATE_CHANNEL_ADD_MEMBERS_MODAL_NO_ROLES;return[{rowType:p.aC.EMPTY_STATE,colorString:(0,i.Rf)(E.p6O),name:e,disabled:!0,id:"EMPTY_STATE"}]}function T(e,n,r,i){var o=u.default.getCurrentUser();if(null==o)return!1;if(null==e)return o.id!==n;var a=e.permissionOverwrites[n];null!=(null==i?void 0:i[n])&&(a=i[n]);return null==a||!t.Z.has(a.allow,r)}function A(e,n){return e===n}function R(e,n){return!A(e.id,n.id)}function _(e,n,r){
var t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){return!0};return null==e.roles?[]:Object.values(e.roles).filter((function(i){return!v(i)&&T(n,i.id,r)&&R(e,i)&&t(i.name)})).sort(g).map((function(e){return b(e)}))}function O(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){return!0};return null==e.roles?[]:Object.values(e.roles).filter((function(t){return!v(t)&&T(n,t.id,r)&&R(e,t)&&i(t.name)})).sort(g).map((function(e){return b(e,t.Z.has(e.permissions,r))}))}function M(e,n,r,t){var i=[];if(null==e.roles)return i;i=function(e,n,r,t){return Object.values(e.roles).filter((function(i){return v(i)||!T(n,i.id,r,t)&&R(e,i)}))}(e,n,r,t).sort(g).map((function(e){return b(e)}));return 0===i.length?N(y.Z.Messages.CHANNEL_PERMISSIONS_NO_ROLES):i}function w(e,n,r,i){var o=[];if(null==e.roles)return o;o=function(e,n,r,i){return Object.values(e.roles).filter((function(o){var a
;return v(o)||!T(n,o.id,r,i)&&R(e,o)||t.Z.has(t.Z.combine(o.permissions,null===(a=n.permissionOverwrites[o.id])||void 0===a?void 0:a.allow),r)}))}(e,n,r,i).sort(g).map((function(e){return b(e,t.Z.has(e.permissions,r))}));return 0===o.length?N(y.Z.Messages.CHANNEL_PERMISSIONS_NO_ROLES):o}function I(e,n){var r;return null!==(r=s.ZP.getNick(n.id,e.id))&&void 0!==r?r:h.ZP.getName(e)}function C(e,n){return n.isOwner(e)}function x(e,n){var r=function(e,n){return n.isOwner(e)?p.aC.OWNER:p.aC.MEMBER}(e,n);return{rowType:r,name:I(e,n),userTag:h.ZP.getUserTag(e,{decoration:"never"}),id:e.id,avatarURL:e.getAvatarURL(n.id,24),bot:e.bot,verifiedBot:e.isVerifiedBot(),disabled:C(e,n),key:"".concat(r,":").concat(e.id)}}function L(e,n){return e.rowType!==n.rowType?e.rowType-n.rowType:e.name.toLocaleLowerCase().localeCompare(n.name.toLocaleLowerCase())}function Z(e,n,r,t){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){return!0}
;return e.map(u.default.getUser).filter(d.lm).filter((function(e){return!r.isOwner(e)&&T(n,e.id,t)&&(i(I(e,r))||i(e.username)||i(e.discriminator))})).map((function(e){return x(e,r)})).sort(L)}function P(e,n,r,t,i){return function(e,n,r,t,i){return e.map(u.default.getUser).filter(d.lm).filter((function(e){return!T(n,e.id,t,i)||C(e,r)}))}(e,n,r,t,i).map((function(e){return x(e,r)})).sort(L)}function j(e,n){switch(e){case p.aC.ROLE:return y.Z.Messages.PRIVATE_CHANNEL_ADD_MEMBERS_MODAL_ROW_ROLE;case p.aC.OWNER:return y.Z.Messages.PRIVATE_CHANNEL_ADD_MEMBERS_MODAL_ROW_OWNER;case p.aC.ADMINISTRATOR:return y.Z.Messages.PRIVATE_CHANNEL_ADD_MEMBERS_MODAL_ROW_ADMINISTRATOR;case p.aC.MEMBER:return n?y.Z.Messages.PRIVATE_CHANNEL_ADD_MEMBERS_MODAL_ROW_MEMBER:null;case p.aC.USER:return y.Z.Messages.USER;case p.aC.GUILD:return y.Z.Messages.SERVER;case p.aC.EMPTY_STATE:return null}}function D(e){switch(e){case p.aC.ROLE:return y.Z.Messages.CHANNEL_PERMISSIONS_ADD_MEMBERS_TOOLTIP;case p.aC.OWNER:
return y.Z.Messages.CHANNEL_PERMISSIONS_ADD_MEMBERS_TOOLTIP_OWNER;case p.aC.ADMINISTRATOR:return y.Z.Messages.CHANNEL_PERMISSIONS_ADD_MEMBERS_TOOLTIP_ADMINISTRATOR;case p.aC.MEMBER:return y.Z.Messages.CHANNEL_PERMISSIONS_ADD_MEMBERS_TOOLTIP;case p.aC.EMPTY_STATE:default:return null}}function k(e,n,r){var i=e.permissionOverwrites[e.guild_id];null==i&&(i=f.ZP.makeEveryoneOverwrite(e.guild_id));var o=function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))));t.forEach((function(n){m(e,n,r[n])}))}return e}({},i);o.deny=t.Z.remove(o.deny,n);o.allow=t.Z.remove(o.allow,n);r||(o.deny=t.Z.add(o.deny,n));return o}function B(e,n,r){var t=k(e,n,r);(0,o.kY)(e,t.id,t.allow,t.deny)}function H(e,n){var r=u.default.getCurrentUser();if(null!=r){var i=e.permissionOverwrites[r.id]
;if(null==i){var l={id:r.id,type:a.BN.MEMBER,allow:t.Z.add(f.ZP.NONE,n),deny:f.ZP.NONE};(0,o.hw)(e.id,[l],!0)}else{var s=i.allow,c=i.deny;s=t.Z.add(s,n);(0,o.kY)(e,i.id,s,c)}}}function G(e,n){if(null==e)return!1;var r=e.permissionOverwrites[e.guild_id];null!=(null==n?void 0:n[e.guild_id])&&(r=n[e.guild_id]);return null!=r&&t.Z.has(r.deny,e.accessPermissions)}function U(e){var n=Object.keys(e.roles);return 0!==n.length&&(1!==n.length||n[0]!==e.id)}function z(e,n,r){return e===E.d4z.GUILD_TEXT||e===E.d4z.GUILD_ANNOUNCEMENT?n:!(0,l.bw)(e)&&e!==E.d4z.GUILD_CATEGORY||n&&r}function V(e){switch(e){case E.d4z.GUILD_TEXT:case E.d4z.GUILD_ANNOUNCEMENT:return y.Z.Messages.PRIVATE_TEXT_CHANNEL_CREATION_PERMISSION_MISSING_HINT.format();case E.d4z.GUILD_VOICE:return y.Z.Messages.PRIVATE_VOICE_CHANNEL_CREATION_PERMISSION_MISSING_HINT.format();case E.d4z.GUILD_CATEGORY:return y.Z.Messages.PRIVATE_CATEGORY_CREATION_PERMISSION_MISSING_HINT.format();default:return null}}function q(e,n){var r=[]
;Object.values(e).forEach((function(e){var t=e.row;null!=t.id&&""!==t.id&&(t.rowType===p.aC.ROLE?r.push((0,c.rX)(t.id,n)):t.rowType===p.aC.MEMBER&&r.push((0,c.jZ)(t.id,n)))}));return r}},276190:(e,n,r)=>{r.r(n);r.d(n,{AddMembersBody:()=>B,MemberRoleSelector:()=>H,default:()=>G});var t=r(785893),i=r(667294),o=r(202351),a=r(945460),l=r(442368),s=r(650332),u=r(382060),c=r(61209),d=r(21372),f=r(567403),h=r(107364),p=r(443812),E=r(823975),y=r(787554),m=r(652591),v=r(176758),S=r(607556),b=r(968696),g=r(1477),N=r(118442),T=r(449518),A=r(2590),R=r(473708),_=r(923062),O=r.n(_);function M(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function w(e,n,r,t,i,o,a){try{var l=e[o](a),s=l.value}catch(e){r(e);return}l.done?n(s):Promise.resolve(s).then(t,i)}function I(e){return function(){var n=this,r=arguments;return new Promise((function(t,i){var o=e.apply(n,r);function a(e){w(o,t,i,a,l,"next",e)}function l(e){w(o,t,i,a,l,"throw",e)}a(void 0)}))}}
function C(e,n,r){n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r;return e}function x(e,n){if(null==e)return{};var r,t,i=function(e,n){if(null==e)return{};var r,t,i={},o=Object.keys(e);for(t=0;t<o.length;t++){r=o[t];n.indexOf(r)>=0||(i[r]=e[r])}return i}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(t=0;t<o.length;t++){r=o[t];n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}}return i}function L(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,i,o=[],a=!0,l=!1;try{for(r=r.call(e);!(a=(t=r.next()).done);a=!0){o.push(t.value);if(n&&o.length===n)break}}catch(e){l=!0;i=e}finally{try{a||null==r.return||r.return()}finally{if(l)throw i}}return o}}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return M(e,n);var r=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e){var n=function(e,n){if("object"!==P(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var t=r.call(e,n||"default");if("object"!==P(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"===P(n)?n:String(n)}var P=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};var j=function(e,n){var r,t,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){
return this}),o;function l(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,t&&(i=2&o[0]?t.return:o[0]?t.throw||((i=t.return)&&i.call(t),0):t.next)&&!(i=i.call(t,o[1])).done)return i;(t=0,i)&&(o=[2&o[0],i.value]);switch(o[0]){case 0:case 1:i=o;break;case 4:a.label++;return{value:o[1],done:!1};case 5:a.label++;t=o[1];o=[0];continue;case 7:o=a.ops.pop();a.trys.pop();continue;default:if(!(i=a.trys,i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1];i=o;break}if(i&&a.label<i[2]){a.label=i[2];a.ops.push(o);break}i[2]&&a.ops.pop();a.trys.pop();continue}o=n.call(e,a)}catch(e){o=[6,e];t=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},D=(0,p.hQ)();function k(e,n){return n?e.slice(1):e}function B(e){
var n,r=e.guild,a=e.channel,l=e.permission,u=e.pendingAdditions,c=e.setPendingAdditions,f=e.isStageChannel,h=void 0===f?null!=a&&a.isGuildStageVoice():f,p=e.description,E=function(e){var n=k(_.trim(),m);return new RegExp("".concat(b.Z.escape(n)),"i").test(e)},y=L(i.useState(!1),2),m=y[0],v=y[1],A=L(i.useState(""),2),_=A[0],O=A[1],M=(0,o.e7)([d.ZP],(function(){return d.ZP.getMemberIds(r.id)}));m?n=[]:h?n=g.Wx(r,a,l,E):0===(n=g.ik(r,a,l,E)).length&&(""!==_.trim()||g.RD(r)||(n=g.aq()));var w=g.iI(M,a,r,l,E),I={placeholderText:R.Z.Messages.PRIVATE_CHANNEL_ADD_MEMBERS_MODAL_PLACEHOLDER,hintText:R.Z.Messages.PRIVATE_CHANNEL_ADD_MEMBERS_MODAL_SUBTITLE,renderEmptyText:function(e){return R.Z.Messages.PRIVATE_CHANNEL_ADD_MEMBERS_MODAL_NO_RESULT.format({query:e})}},P=I.placeholderText,j=I.hintText,D=I.renderEmptyText;return(0,t.jsx)(H,{pendingAdditions:u,query:_,onQueryChange:function(e){var n=e.trim(),t="@"===n.charAt(0);S.Z.requestMembers(r.id,k(n,t),T.EQ);O(e);v(t)},onClickRow:function(e){
var n=(0,N.G)(e);c((function(r){var t=function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))));t.forEach((function(n){C(e,n,r[n])}))}return e}({},r);if(n in t)delete t[n];else{var i;e.rowType===T.aC.ROLE||e.rowType===T.aC.ADMINISTRATOR?i={type:s.Fj.ROLE,label:e.name,color:e.colorString}:e.rowType!==T.aC.MEMBER&&e.rowType!==T.aC.OWNER||(i={type:s.Fj.MEMBER,label:e.name,avatar:e.avatarURL});null!=i&&(t[n]={display:i,row:e})}return t}))},onRemovePendingAddition:function(e){c((function(n){n[e];return x(n,[e].map(Z))}))},roles:n,members:w,placeholderText:P,hintText:j,renderEmptyText:D,isStageChannel:h,description:p})}function H(e){
var n=e.listClassName,r=e.pendingAdditions,i=e.query,o=e.onQueryChange,l=e.onClickRow,s=e.onRemovePendingAddition,u=e.roles,c=e.members,d=e.placeholderText,f=e.hintText,h=e.renderEmptyText,p=e.isStageChannel,E=e.focusSearchAfterReady,y=e.isReady,m=e.description;return(0,t.jsxs)("div",{className:O().content,children:[function(){var e=m;null==e&&p&&(e=R.Z.Messages.CHANNEL_PERMISSIONS_MODERATOR_DESCRIPTION);return null==e||""===e?null:(0,t.jsx)(a.Text,{color:"header-secondary",className:O().description,variant:"text-sm/normal",children:e})}(),(0,t.jsx)(N.Z,{listClassName:n,pendingAdditions:r,query:i,onQueryChange:o,onClickRow:l,onRemovePendingAddition:s,roles:u,members:c,placeholderText:d,hintText:f,renderEmptyText:h,disabledText:p?R.Z.Messages.CHANNEL_PERMISSIONS_ROLE_ALREADY_HAS_PERMISSIONS:null,focusSearchAfterReady:E,isReady:y})]})}function G(e){
var n=e.transitionState,r=e.onClose,l=e.channelId,s=e.newChannel,d=e.inSettings,p=L(i.useState(!1),2),v=p[0],S=p[1],b=L(i.useState({}),2),g=b[0],N=b[1],T=(0,o.e7)([c.Z],(function(){return c.Z.getChannel(l)}),[l]),_=(0,o.e7)([f.Z],(function(){return f.Z.getGuild(null==T?void 0:T.getGuildId())}));i.useEffect((function(){m.default.track(A.rMx.OPEN_MODAL,{type:"Grant Channel Access"})}),[]);if(null==T||null==_)return null;var M=s&&0===Object.keys(g).length;function w(){return(w=I((function(){return j(this,(function(e){switch(e.label){case 0:if(null==T||0===Object.keys(g).length){r();return[2]}S(!0);e.label=1;case 1:e.trys.push([1,3,,4]);return[4,U(T,g,d)];case 2:e.sent();r();S(!1);return[3,4];case 3:e.sent();S(!1);return[3,4];case 4:return[2]}}))}))).apply(this,arguments)}var C=(0,u.zi)(T.type)?E.Z:y.Z;return(0,t.jsxs)(a.ModalRoot,{transitionState:n,size:a.ModalSize.SMALL,"aria-labelledby":D,className:O().modalRoot,children:[(0,t.jsxs)(a.ModalHeader,{separator:!1,
direction:h.Z.Direction.VERTICAL,align:h.Z.Align.CENTER,className:O().header,children:[(0,t.jsx)(a.Heading,{id:D,variant:"heading-xl/semibold",children:R.Z.Messages.CHANNEL_PERMISSIONS_ADD_MEMBERS_TITLE}),(0,t.jsxs)(a.Text,{variant:"text-md/normal",color:"header-secondary",className:O().headerSubtitle,children:[(0,t.jsx)(C,{height:16,width:16,className:O().headerSubtitleIcon}),T.name]})]}),(0,t.jsx)(B,{guild:_,channel:T,permission:T.accessPermissions,pendingAdditions:g,setPendingAdditions:N}),(0,t.jsxs)(a.ModalFooter,{children:[!M&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.Button,{onClick:function(){return w.apply(this,arguments)},look:a.Button.Looks.FILLED,size:a.Button.Sizes.SMALL,className:O().button,submitting:v,children:R.Z.Messages.DONE}),(0,t.jsx)(a.Button,{look:a.Button.Looks.LINK,color:a.Button.Colors.TRANSPARENT,onClick:r,size:a.Button.Sizes.SMALL,children:R.Z.Messages.CANCEL})]}),M&&(0,t.jsx)(a.Button,{look:a.Button.Looks.FILLED,color:a.Button.Colors.PRIMARY,onClick:r,
size:a.Button.Sizes.SMALL,children:R.Z.Messages.PRIVATE_CHANNEL_ADD_MEMBERS_MODAL_SKIP})]})]})}function U(e,n,r){var t=[];Object.values(n).forEach((function(n){var r=n.row;null!=r.id&&""!==r.id&&(r.rowType===T.aC.ROLE?t.push((0,v.rX)(r.id,e.type)):r.rowType===T.aC.MEMBER&&t.push((0,v.jZ)(r.id,e.type)))}));return(0,l.hw)(e.id,t,r)}},118442:(e,n,r)=>{r.d(n,{Z:()=>P,G:()=>x});var t=r(785893),i=r(667294),o=r(294184),a=r.n(o),l=r(457217),s=r(202351),u=r(945460),c=r(407737),d=r(793461),f=r(609853),h=r(107364),p=r(124251),E=r(443812),y=r(855595),m=r(1477),v=r(650332),S=r(489670),b=r.n(S);const g=i.forwardRef((function(e,n){var r=e.query,i=e.onQueryChange,o=e.onRemoveTag,a=e.onSelect,l=e.onSelectionChange,s=e.selectedSection,u=e.selectedRow,c=e.tags,d=e.sections,f=e.placeholder,h=void 0===f?"":f,p=e.focusAfterReady,E=e.isReady,y=e["aria-labelledby"],m=e["aria-controls"];return(0,t.jsx)(v.ZP,{autoFocus:!0,className:b().searchBar,maxHeight:100,onQueryChange:i,onRemoveTag:o,selectedSection:s,
selectedRow:u,onSelect:a,onSelectionChange:l,placeholder:0===c.length?h:"",query:r,ref:n,size:v.ZP.Sizes.MEDIUM,tags:c,sections:d,focusAfterReady:p,isReady:E,inputProps:{"aria-labelledby":y,"aria-controls":m,"aria-expanded":!0,"aria-activedescendant":"user-row-".concat(u)}})}));var N=r(449518),T=r(473708),A=r(923062),R=r.n(A);function _(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function O(e,n,r){n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r;return e}function M(e,n){n=null!=n?n:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})));r.push.apply(r,t)}return r}(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))
;return e}function w(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,i,o=[],a=!0,l=!1;try{for(r=r.call(e);!(a=(t=r.next()).done);a=!0){o.push(t.value);if(n&&o.length===n)break}}catch(e){l=!0;i=e}finally{try{a||null==r.return||r.return()}finally{if(l)throw i}}return o}}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return _(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var I=(0,E.hQ)(),C=(0,E.hQ)();function x(e){return"".concat(e.rowType,":").concat(e.id)}function L(e){return(0,
t.jsx)(u.FormTitle,{tag:"h5",className:a()(R().sectionTitle,R().rowHeight),children:e},e)}function Z(e){var n=e.id,r=e.children,i=e.rowLabel,o=e.checked,s=e.onSelect,c=e.disabled,d=e.showCheckbox,f=e.selected,p=e.onMouseEnter,E=e["aria-posinset"],y=e["aria-setsize"],m=(0,l.JA)(n);return(0,t.jsx)(u.Clickable,M(function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))));t.forEach((function(n){O(e,n,r[n])}))}return e}({},m),{id:n,className:a()(R().addMemberRow,O({},R().selectedRow,f)),onClick:function(e){if(!c){e.preventDefault();s()}},onMouseEnter:p,role:"option","aria-disabled":c,"aria-selected":o,"aria-setsize":y,"aria-posinset":E,children:(0,t.jsxs)(h.Z,{justify:h.Z.Justify.BETWEEN,align:h.Z.Align.CENTER,children:[d?(0,t.jsx)(u.Checkbox,{displayOnly:!0,size:18,value:o,
type:u.Checkbox.Types.INVERTED,disabled:c,children:(0,t.jsx)("div",{className:R().checkboxLabel,children:r})}):r,null!=i?(0,t.jsx)(u.Text,{color:"text-muted",variant:"text-xs/normal",children:i}):null]})}))}function P(e){var n=e.listClassName,r=e.pendingAdditions,o=e.query,l=e.onQueryChange,E=e.onClickRow,v=e.onRemovePendingAddition,S=e.roles,b=void 0===S?[]:S,A=e.members,_=void 0===A?[]:A,M=e.users,P=void 0===M?[]:M,j=e.guilds,D=void 0===j?[]:j,k=e.placeholderText,B=e.disabledText,H=e.hintText,G=e.searchTitleText,U=e.renderEmptyText,z=e.focusSearchAfterReady,V=e.isReady,q=e.maxCount,$=function(){var e;K(!(null===(e=W.current)||void 0===e?void 0:e.isScrolledToTop())&&ce)},Y=i.useRef(null),W=i.useRef(null),F=(0,s.e7)([d.Z],(function(){return d.Z.hidePersonalInformation})),Q=[b.length,_.length,P.length,D.length],X=w(i.useState(!1),2),J=X[0],K=X[1],ee=w(i.useState(0),2),ne=ee[0],re=ee[1],te=w(i.useState(-1),2),ie=te[0],oe=te[1];i.useEffect((function(){var e
;null===(e=Y.current)||void 0===e||e.focus()}),[]);var ae=i.useCallback((function(e,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];re(e);oe(n);if(r){var t;null===(t=W.current)||void 0===t||t.scrollToIndex({section:null!=e?e:0,row:null!=n?n:0,padding:8})}}),[]),le=i.useCallback((function(e,n){if(null!=n){l("");var r=(e===N.m$.ROLES?b:[])[n];r.rowType!==N.aC.EMPTY_STATE&&E(r)}}),[b,E,l]),se=i.useCallback((function(e){var n;if(null!=e&&e.rowType!==N.aC.EMPTY_STATE){E(e);l("");null===(n=Y.current)||void 0===n||n.focus()}}),[E,l]),ue=i.useMemo((function(){return Object.keys(r)}),[r]),ce=i.useMemo((function(){return _.some((function(e){return!e.disabled}))||b.some((function(e){return!e.disabled}))||P.some((function(e){return!e.disabled}))||D.some((function(e){return!e.disabled}))}),[_,b,P,D])||""===o.trim();i.useEffect((function(){$()}));return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:a()(R().searchBox,O({},R().scrollSeparator,J)),
children:[null!=G&&(0,t.jsx)(u.FormTitle,{tag:u.FormTitleTags.H5,children:G}),(0,t.jsx)(g,{ref:Y,query:o,onQueryChange:l,selectedSection:ne,selectedRow:ie,onSelectionChange:ae,onSelect:le,tags:ue.map((function(e){return r[e].display})),sections:Q,onRemoveTag:function(e){v(ue[e])},placeholder:k,focusAfterReady:z,isReady:V,"aria-labelledby":I,"aria-controls":C}),null!=H?(0,t.jsx)(u.Text,{variant:"text-xs/normal",children:H}):null]}),ce?(0,t.jsx)(u.List,{ref:W,className:a()(R().roleMemberList,n),sections:Q,renderRow:function(e){var n,i,o=e.section,l=e.row,s=null,c=!1,d=!1,h=!1,E=!c&&null!=q&&Object.keys(r).length>=q;switch(o){case N.m$.ROLES:c=(i=x(s=b[l]))in r||s.disabled;d=s.disabled||E;h=ne===N.m$.ROLES&&ie===l;n=(0,t.jsxs)("div",{className:R().rowBody,children:[(0,t.jsx)("div",{className:a()(R().rowHeight,R().alignCenter),children:(0,t.jsx)(y.Z,{color:s.colorString,height:20})}),(0,t.jsxs)("div",{className:R().rowLabel,children:[(0,t.jsx)(u.Text,{variant:"text-sm/medium",
className:R().rowTitle,color:s.rowType===N.aC.EMPTY_STATE?"text-muted":"text-normal",children:s.name}),s.disabled&&null!=B?(0,t.jsx)(u.Text,{color:"header-secondary",variant:"text-xs/normal",children:B}):null]})]});break;case N.m$.MEMBERS:c=(i=x(s=_[l]))in r||s.disabled;d=s.disabled||E;h=ne===N.m$.MEMBERS&&ie===l;n=(0,t.jsxs)("div",{className:R().rowBody,children:[(0,t.jsx)(u.Avatar,{src:s.avatarURL,size:u.AvatarSizes.SIZE_24,"aria-label":""}),(0,t.jsx)(u.Text,{className:R().rowLabel,"aria-hidden":!F,variant:"text-sm/normal",children:s.name}),s.bot&&(0,t.jsx)(f.Z,{verified:s.verifiedBot}),!F&&(0,t.jsx)(u.Text,{color:"text-muted",className:R().rowLabelSubText,variant:"text-sm/normal",children:s.userTag})]});break;case N.m$.USERS:c=(i=x(s=P[l]))in r||s.disabled;d=s.disabled||E;h=ne===N.m$.USERS&&ie===l;n=(0,t.jsxs)("div",{className:R().rowBody,children:[(0,t.jsx)(u.Avatar,{src:s.avatarURL,size:u.AvatarSizes.SIZE_24,"aria-label":""}),(0,t.jsxs)("div",{className:R().rowLabel,children:[(0,
t.jsxs)("div",{className:R().rowBody,children:[(0,t.jsx)(u.Text,{"aria-hidden":!F,variant:"text-sm/normal",children:s.name}),!F&&(0,t.jsxs)(u.Text,{color:"text-muted",variant:"text-sm/normal",children:["#",s.userTag]})]}),s.disabled&&null!=B?(0,t.jsx)(u.Text,{color:"header-secondary",variant:"text-xs/normal",children:B}):null]})]});break;case N.m$.GUILDS:c=(i=x(s=D[l]))in r||s.disabled;d=s.disabled||E;h=ne===N.m$.GUILDS&&ie===l;n=(0,t.jsxs)("div",{className:R().rowBody,children:[(0,t.jsx)(p.Z,{guild:s.guild,active:!0,size:p.Z.Sizes.SMALLER}),(0,t.jsx)("div",{className:R().rowLabel,children:(0,t.jsx)(u.Text,{variant:"text-sm/medium",color:"text-normal",children:s.name})})]})}return null==s?null:(0,t.jsx)(Z,{id:"user-row-".concat(l),rowLabel:m.zB(s.rowType),checked:c,disabled:d,onSelect:function(){return se(s)},showCheckbox:s.rowType!==N.aC.EMPTY_STATE,onMouseEnter:function(){return ae(o,l,!1)},selected:h,"aria-posinset":l+1,"aria-setsize":Q.reduce((function(e,n){return e+n}),0),
children:n},i)},rowHeight:40,renderSection:function(e){switch(e.section){case N.m$.ROLES:return L(T.Z.Messages.ROLES);case N.m$.MEMBERS:return L(T.Z.Messages.MEMBERS);case N.m$.USERS:return L(T.Z.Messages.USERS);case N.m$.GUILDS:return L(T.Z.Messages.SERVERS)}},sectionHeight:32,onScroll:$,role:void 0,innerRole:"listbox",innerId:C,innerAriaMultiselectable:!0,innerAriaOrientation:"vertical"}):(0,t.jsxs)(h.Z,{className:n,align:h.Z.Align.CENTER,justify:h.Z.Justify.CENTER,direction:h.Z.Direction.VERTICAL,children:[(0,t.jsx)(c.Z,{className:R().noResultIcon}),(0,t.jsx)(u.Text,{variant:"text-sm/normal",children:U(o)})]})]})}},20170:(e,n,r)=>{r.d(n,{C:()=>v,u:()=>N});var t=r(940060),i=r(105783),o=r(703790),a=r(567403),l=r(888236),s=r(404741),u=r(185219),c=r(322008),d=r(2590),f=r(473708);function h(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function p(e,n,r,t,i,o,a){try{var l=e[o](a),s=l.value}catch(e){r(e);return}
l.done?n(s):Promise.resolve(s).then(t,i)}function E(e){return function(){var n=this,r=arguments;return new Promise((function(t,i){var o=e.apply(n,r);function a(e){p(o,t,i,a,l,"next",e)}function l(e){p(o,t,i,a,l,"throw",e)}a(void 0)}))}}function y(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,i,o=[],a=!0,l=!1;try{for(r=r.call(e);!(a=(t=r.next()).done);a=!0){o.push(t.value);if(n&&o.length===n)break}}catch(e){l=!0;i=e}finally{try{a||null==r.return||r.return()}finally{if(l)throw i}}return o}}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return h(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(e,n)}(e,n)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var m=function(e,n){var r,t,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,t&&(i=2&o[0]?t.return:o[0]?t.throw||((i=t.return)&&i.call(t),0):t.next)&&!(i=i.call(t,o[1])).done)return i;(t=0,i)&&(o=[2&o[0],i.value]);switch(o[0]){case 0:case 1:i=o;break;case 4:a.label++;return{value:o[1],done:!1};case 5:a.label++;t=o[1];o=[0];continue;case 7:o=a.ops.pop();a.trys.pop();continue;default:if(!(i=a.trys,i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){
a.label=i[1];i=o;break}if(i&&a.label<i[2]){a.label=i[2];a.ops.push(o);break}i[2]&&a.ops.pop();a.trys.pop();continue}o=n.call(e,a)}catch(e){o=[6,e];t=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}};function v(e,n){return S.apply(this,arguments)}function S(){return(S=E((function(e,n){return m(this,(function(r){switch(r.label){case 0:return null==e?[2,!0]:[4,b(e,n,{removingView:!0,removingChat:!0})];case 1:return[2,r.sent()]}}))}))).apply(this,arguments)}function b(e,n,r){return g.apply(this,arguments)}function g(){return(g=E((function(e,n,r){var t,i,o,f,h,p,E,v,S;return m(this,(function(m){switch(m.label){case 0:return null==(i=a.Z.getGuild(e))?[2,!0]:(o=null!=i&&(null===(t=i.features)||void 0===t?void 0:t.has(d.oNc.GUILD_ONBOARDING)))?o&&s.Z.shouldFetchPrompts(e)?[4,(0,l.eM)(e)]:[3,2]:[2,!0];case 1:m.sent();m.label=2;case 2:f=s.Z.getDefaultChannelIds(e);h=y((0,u.d9)(e,f),2),p=h[0],E=h[1];if(!f.includes(n))return[2,!0]
;v=r.removingView&&E.length-1<c.md;S=(r.removingChat||r.removingView)&&p.length-1<c.X;return[2,!v&&!S]}}))}))).apply(this,arguments)}function N(e,n,r){return T.apply(this,arguments)}function T(){return(T=E((function(e,n,r){var a,l,s,u;return m(this,(function(c){switch(c.label){case 0:if(null==(a=e.getGuildId()))return[2,!0];null!=r&&(n=t.Z.filter(n,t.Z.invert(r)));l=e.permissionOverwrites[a];s=null!=l?t.Z.filter(l.deny,t.Z.invert(l.allow)):t.Z.deserialize(0);u={removingView:t.Z.has(n,d.Plq.VIEW_CHANNEL)&&!t.Z.has(s,d.Plq.VIEW_CHANNEL),removingChat:!1};e.isForumLikeChannel()?u.removingChat=t.Z.has(n,d.Plq.SEND_MESSAGES_IN_THREADS)&&!t.Z.has(s,d.Plq.SEND_MESSAGES_IN_THREADS):u.removingChat=t.Z.has(n,d.Plq.SEND_MESSAGES)&&!t.Z.has(s,d.Plq.SEND_MESSAGES);return u.removingChat||u.removingView?[4,b(a,e.id,u)]:[2,!0];case 1:if(!c.sent()){i.Z.show({title:f.Z.Messages.CANNOT_CHANGE_CHANNEL_PERMS,body:f.Z.Messages.ONBOARDING_CHANNEL_THRESHOLD_WARNING.format({onClick:function(){i.Z.close()
;o.Z.open(a,d.pNK.ONBOARDING)}})});return[2,!1]}return[2,!0]}}))}))).apply(this,arguments)}},407737:(e,n,r)=>{r.d(n,{Z:()=>s});var t=r(785893),i=(r(667294),r(294184)),o=r.n(i),a=r(30363),l=r.n(a);function s(e){var n=e.className;return(0,t.jsx)("div",{className:o()(l().image,n)})}},696047:(e,n,r)=>{r.d(n,{S:()=>t});var t="https://creator-support.discord.com/hc/en-us/articles/14346342766743"}}]);
//# sourceMappingURL=d1dddaf4de8a256b4f68.js.map