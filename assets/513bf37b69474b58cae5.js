"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[16782],{916782:(t,e,n)=>{n.r(e);n.d(e,{default:()=>I});var r=n(785893),o=n(667294),a=n(202351),s=n(945460),u=n(152702),i=n(473903),l=n(489881),c=n(443812),f=n(189865),d=n(652591),h=n(872017),p=n(515222),y=n(2590),v=n(473708),b=n(846702),m=n.n(b);function _(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function N(t,e,n,r,o,a,s){try{var u=t[a](s),i=u.value}catch(t){n(t);return}u.done?e(i):Promise.resolve(i).then(r,o)}function O(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function s(t){N(a,r,o,s,u,"next",t)}function u(t){N(a,r,o,s,u,"throw",t)}s(void 0)}))}}function C(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,a=[],s=!0,u=!1;try{for(n=n.call(t);!(s=(r=n.next()).done);s=!0){
a.push(r.value);if(e&&a.length===e)break}}catch(t){u=!0;o=t}finally{try{s||null==n.return||n.return()}finally{if(u)throw o}}return a}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return _(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var E=function(t,e){var n,r,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,
r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;(r=0,o)&&(a=[2&a[0],o.value]);switch(a[0]){case 0:case 1:o=a;break;case 4:s.label++;return{value:a[1],done:!1};case 5:s.label++;r=a[1];a=[0];continue;case 7:a=s.ops.pop();s.trys.pop();continue;default:if(!(o=s.trys,o=o.length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1];o=a;break}if(o&&s.label<o[2]){s.label=o[2];s.ops.push(a);break}o[2]&&s.ops.pop();s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t];r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}};function I(t){var e=t.guildId,n=t.userId,b=t.transitionState,_=t.onClose,N=(0,c.Dt)(),I=(0,a.e7)([i.default],(function(){return i.default.getUser(n)}),[n]),M=C((0,h.ZP)(n,e),2),g=M[0],w=M[1],S=C(o.useState(!1),2),T=S[0],A=S[1],U=o.useCallback(O((function(){return E(this,(function(t){
switch(t.label){case 0:if(null==I)return[2];A(!0);t.label=1;case 1:t.trys.push([1,3,4,5]);return[4,u.Z.setCommunicationDisabledDuration(e,n)];case 2:t.sent();(0,s.showToast)((0,s.createToast)(v.Z.Messages.GUILD_ENABLE_COMMUNICATION_SUCCESS,s.ToastType.SUCCESS));_();return[3,5];case 3:t.sent();(0,s.showToast)((0,s.createToast)(v.Z.Messages.APPLICATION_STORE_LISTING_PURCHASE_GENERIC_ERROR,s.ToastType.FAILURE));return[3,5];case 4:A(!1);return[7];case 5:return[2]}}))})),[e,I,n,_]),x=o.useCallback((function(){w||_()}),[w,_]);o.useEffect((function(){null!=I&&d.default.track(y.rMx.OPEN_MODAL,{type:p.av,guild_id:e,other_user_id:I.id})}),[]);o.useEffect((function(){null!=I&&null!=e||_()}));return null==I||null==e?null:(0,r.jsxs)(s.ModalRoot,{transitionState:b,"aria-labelledby":N,children:[(0,r.jsxs)(s.ModalHeader,{className:m().header,separator:!1,children:[(0,r.jsx)(s.Heading,{variant:"heading-lg/semibold",children:v.Z.Messages.GUILD_ENABLE_COMMUNICATION_HEADER}),(0,r.jsx)(s.Clickable,{
onClick:_,className:m().closeButton,"aria-label":v.Z.Messages.CLOSE,children:(0,r.jsx)(f.Z,{className:m().closeIcon,width:16,height:16})})]}),(0,r.jsxs)(s.ModalContent,{children:[(0,r.jsx)(s.Text,{variant:"text-md/normal",color:"interactive-normal",children:v.Z.Messages.GUILD_ENABLE_COMMUNICATION_TIME_REMAINING.format({username:I.username,countdown:function(t){return null==g?null:(0,r.jsx)(l.Z,{className:m().countdown,deadline:new Date(g),onInterval:x,showUnits:!0,stopAtOneSec:!0})}})}),(0,r.jsx)(s.Text,{className:m().cta,variant:"text-md/normal",color:"interactive-normal",children:v.Z.Messages.GUILD_ENABLE_COMMUNICATION_CTA.format({link:p.cu})})]}),(0,r.jsxs)(s.ModalFooter,{children:[(0,r.jsx)(s.Button,{color:s.Button.Colors.RED,onClick:U,submitting:T,children:v.Z.Messages.REMOVE_TIME_OUT}),(0,r.jsx)(s.Button,{type:"button",look:s.Button.Looks.LINK,color:s.Button.Colors.PRIMARY,onClick:_,children:v.Z.Messages.CANCEL})]})]})}},489881:(t,e,n)=>{n.d(e,{Z:()=>v})
;var r=n(785893),o=n(667294),a=n(496486),s=n.n(a),u=n(70145),i=n(473708);function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t){c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)};return c(t)}function f(t,e){return!e||"object"!==h(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function d(t,e){d=Object.setPrototypeOf||function(t,e){t.__proto__=e;return t};return d(t,e)}var h=function(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};function p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){
var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}var y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}});e&&d(t,e)}(n,t);var e=p(n);function n(){l(this,n);return e.apply(this,arguments)}var o=n.prototype;o.componentDidMount=function(){var t=this,e=this.props,n=e.intervalDuration,r=e.onInterval;this._interval=setInterval((function(){t.forceUpdate();null==r||r()}),n)};o.componentWillUnmount=function(){null!=this._interval&&clearInterval(this._interval)};o.defaultRender=function(t){var e=this.props,n=e.showDays,o=e.showUnits,a=e.className,u=[t.days,t.hours,t.minutes,t.seconds],l=[i.Z.Messages.COUNTDOWN_UNITS_SECONDS,i.Z.Messages.COUNTDOWN_UNITS_MINUTES,i.Z.Messages.COUNTDOWN_UNITS_HOURS,i.Z.Messages.COUNTDOWN_UNITS_DAYS]
;if(0===t.days)u.shift();else if(!n){var c=u.shift();u[0]+=24*c}var f=s()(u).map((function(t){return t<10?"0".concat(t):t})).map((function(t,e){return[e>0&&!o?":":" ",(0,r.jsxs)("span",{children:[t,o?l[u.length-e-1]:null]},e)]})).flatten().value();return(0,r.jsx)("span",{className:a,children:f})};o.render=function(){var t=this.props,e=t.deadline,n=t.children,o=t.className,a=t.stopAtOneSec;if(e===1/0)return(0,r.jsx)("span",{className:o,"aria-label":i.Z.Messages.MAX_AGE_NEVER,children:"âˆž"});var s=(0,u.TD)(Date.now(),e,a);return null!=n?n(s,this.defaultRender.bind(this,s)):this.defaultRender(s)};return n}(o.PureComponent);y.defaultProps={showDays:!0,showUnits:!1,stopAtOneSec:!1,intervalDuration:1e3};const v=y},443812:(t,e,n)=>{n.d(e,{hQ:()=>s,Dt:()=>u,FG:()=>i});var r=n(873955),o=n.n(r),a=n(989824),s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uid_";return o()(t)},u=function(){return(0,a.Z)((function(){return s()}))},i=function(t){return(0,t.children)(u())}},
989824:(t,e,n)=>{n.d(e,{Z:()=>a});var r=n(667294),o={};function a(t){var e=(0,r.useRef)(o);e.current===o&&(e.current=t());return e.current}}}]);
//# sourceMappingURL=513bf37b69474b58cae5.js.map