"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[98987],{873039:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.ExperimentInAppReporting=void 0;var r,i=n(413577),o=(r=n(686524))&&r.__esModule?r:{default:r},a=n(398521);var u=(0,i.registerUserExperiment)({id:o.default.IN_APP_REPORTING,title:"2020-29 Exp: Report TOS violating messages in-app via new modal",description:["An experiment that tests if in-app reporting is useful for Trust & Safety","Control: No changes","Treatment 1: Add menu options to report message"],buckets:[a.ExperimentBuckets.CONTROL,a.ExperimentBuckets.TREATMENT_1]});t.ExperimentInAppReporting=u},124042:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.GuildFeedSectionTypes=t.GuildFeedRenderMode=t.GUILD_FEED_CHANNEL_TYPES=t.FeedItemInteractionType=t.COLLAPSED_SIZE_MEDIA_QUERY=void 0;var r,i,o,a=n(723360);t.FeedItemInteractionType=r;!function(e){e.MESSAGE_CLICKED="message_clicked"
;e.MESSAGE_CHANNEL_CLICKED="message_channel_clicked";e.REACTION_ADDED="reaction_added";e.REACTION_REMOVED="reaction_removed";e.THREAD_EMBED_CLICKED="thread_embed_clicked";e.LINK_CLICKED="link_clicked";e.IMAGE_CLICKED="image_clicked";e.BUTTON_CLICKED="button_clicked";e.REFERENCED_MESSAGE_CLICKED="referenced_message_clicked"}(r||(t.FeedItemInteractionType=r={}));t.GuildFeedSectionTypes=i;!function(e){e[e.UNREAD=0]="UNREAD";e[e.READ=1]="READ";e[e.ALL=2]="ALL"}(i||(t.GuildFeedSectionTypes=i={}));t.GuildFeedRenderMode=o;!function(e){e[e.SEGMENTED_READ=0]="SEGMENTED_READ";e[e.TOP=1]="TOP";e[e.NEW=2]="NEW"}(o||(t.GuildFeedRenderMode=o={}));t.COLLAPSED_SIZE_MEDIA_QUERY="(max-width: 1300px)";var u=new Set([a.ChannelTypes.GUILD_TEXT,a.ChannelTypes.GUILD_ANNOUNCEMENT,a.ChannelTypes.GUILD_FORUM]);t.GUILD_FEED_CHANNEL_TYPES=u},968078:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,i=E(n(536211)),o=E(n(636602)),a=n(202929),u=E(n(423046)),l=n(676525),d=function(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(676509)),s=n(124042),c=n(770348),f=n(173652);function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function E(e){return e&&e.__esModule?e:{default:e}}function _(e,t){_=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _(e,t)}function v(){v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return v.apply(this,arguments)}function y(e){return function(e){
if(Array.isArray(e))return M(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||S(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=S(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function S(e,t){if(e){if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?M(e,t):void 0}}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var m={loading:!1,error:null},A={},h={},T={},I={},D={},O={},b={},G={},P={},F={};function R(e,t,n){var r,i;return null===(r=D[e])||void 0===r||null===(i=r[t])||void 0===i?void 0:i[n]}function L(e,t){var n;return null===(n=I[e])||void 0===n?void 0:n[t]}function C(e,t,n){if(null==e||null==t)return!1;var r=L(e,t);if(null==r)return!1;var i=R(r,e,t);if(null==i)return!1;var o=n(i);D[r][e][t]=o;return!0}function w(e,t){null==D[e][t.channel_id]&&(D[e][t.channel_id]={});D[e][t.channel_id][t.id]=t;null==I[t.channel_id]&&(I[t.channel_id]={});I[t.channel_id][t.id]=e}function j(e,t){var n=O[e];if(null!=n)for(var r in n){var i,o=n[r];if((null==o||null===(i=o.message)||void 0===i?void 0:i.id)===t)return o}}function U(e,t,n){var r=b[e]
;if(null!=r)for(var i,o=g(n);!(i=o()).done;){var a=i.value;r[a]=r[a].filter((function(e){return e!==t}))}}function N(e,t,n){var r=b[e];if(null!=r)for(var i,o=g(n);!(i=o()).done;){r[i.value].push(t)}}function k(e,t){var n,r,i,o=L(e,t);if(null==o)return!1;null===(n=D[o])||void 0===n||(null===(r=n[e])||void 0===r||delete r[t]);null===(i=I[e])||void 0===i||delete i[t];!function(e,t){var n=j(e,t);null!=n&&U(e,(0,d.default)(n),[s.GuildFeedSectionTypes.READ,s.GuildFeedSectionTypes.UNREAD,s.GuildFeedSectionTypes.ALL])}(o,t);return!0}function H(e){var t=e.type,n=e.channelId,r=e.messageId,i=e.userId,o=e.emoji,a=e.optimistic,l=u.default.getId()===i;return!(a&&!l)&&C(n,r,(function(e){return t===c.ActionTypes.MESSAGE_REACTION_ADD?e.addReaction(o,l):e.removeReaction(o,l)}))}function V(e){return x(e.channel)}function x(e){var t,n=e.guild_id;if(null==n)return!1;delete I[e.id];null===(t=D[n])||void 0===t||delete t[e.id]}var K=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype)
;e.prototype.constructor=e;_(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.getLastFetchedMillis=function(e){return A[e]};n.getSectionedItemIds=function(e){return b[e]};n.getItem=function(e,t){var n;return null===(n=O[e])||void 0===n?void 0:n[t]};n.getItemForMessageId=function(e,t){var n;return null!==(n=this.getItem(e,(0,d.GUILD_FEED_MESSAGE_ITEM_ID_TEMPLATE)(t)))&&void 0!==n?n:this.getItem(e,(0,d.GUILD_FEED_POST_ITEM_ID_TEMPLATE)(t))};n.getMessageItem=function(e,t){return this.getItem(e,(0,d.GUILD_FEED_MESSAGE_ITEM_ID_TEMPLATE)(t))};n.getLoadId=function(e){var t;return null===(t=T[e])||void 0===t?void 0:t.load_id};n.getCachedMessage=function(e,t,n){return R(e,t,n)};n.getFetchStatus=function(e){var t;return null!==(t=h[e])&&void 0!==t?t:m};n.getIsItemHiding=function(e,t){var n;return!!(null===(n=G[e])||void 0===n?void 0:n.has(t))};n.getIsItemHidden=function(e,t){var n;return!!(null===(n=P[e])||void 0===n?void 0:n.has(t))}
;n.getIsMessageFeatured=function(e,t){var n;return!!(null===(n=F[e])||void 0===n?void 0:n.has(t))};return t}(i.default.Store))(o.default,((r={})[c.ActionTypes.GUILD_FEED_FETCH_START]=function(e){var t=e.guildId;h[t]={loading:!0,error:null}},r[c.ActionTypes.GUILD_FEED_FETCH_SUCCESS]=function(e){var t,n=e.guildId,r=e.data;A[n]=Date.now();h[n]={loading:!1,error:null};T[n]=r;O[n]={};b[n]=((t={})[s.GuildFeedSectionTypes.UNREAD]=[],t[s.GuildFeedSectionTypes.READ]=[],t[s.GuildFeedSectionTypes.ALL]=[],t);G[n]=new Set;P[n]=new Set;F[n]=new Set;D[n]={};for(var i,o=g(r.results.items);!(i=o()).done;){var a=i.value;if("message"in a){a.featured&&F[n].add(a.message.id);var u=(0,l.createGuildFeedItemFromServer)(a);w(n,u.message);var c=(0,d.default)(u);O[n][c]=u;N(n,c,[a.seen?s.GuildFeedSectionTypes.READ:s.GuildFeedSectionTypes.UNREAD,s.GuildFeedSectionTypes.ALL])}}},r[c.ActionTypes.GUILD_FEED_FETCH_FAILURE]=function(e){var t=e.guildId,n=e.error;h[t]={loading:!1,error:n}},
r[c.ActionTypes.GUILD_FEED_ITEM_REMOVE]=function(e){var t=e.item;return k(t.message.channel_id,t.message.id)},r[c.ActionTypes.GUILD_FEED_ITEM_HIDE]=function(e){var t=e.item,n=(0,d.default)(t),r=L(t.message.channel_id,t.message.id);if(null!=r){r in G||(G[r]=new Set);G[r].add(n)}},r[c.ActionTypes.GUILD_FEED_ITEM_UNHIDE]=function(e){var t=e.item,n=(0,d.default)(t),r=L(t.message.channel_id,t.message.id);null!=r&&G[r].delete(n)},r[c.ActionTypes.GUILD_FEED_FEATURE_MESSAGE]=function(e){var t=e.guildId,n=e.message;if(null!=t){t in F||(F[t]=new Set);F[t].add(n.id);var r=j(t,n.id);if(null!=r){var i=(0,d.default)(r);U(t,i,[s.GuildFeedSectionTypes.READ,s.GuildFeedSectionTypes.UNREAD]);!function(e,t,n){var r=b[e];if(null!=r){r[n]=[t].concat(y(r[n]));b[e]=v({},r)}}(t,i,s.GuildFeedSectionTypes.UNREAD)}}},r[c.ActionTypes.GUILD_FEED_UNFEATURE_MESSAGE]=function(e){var t,n=e.message,r=e.guildId;null!=r&&(null===(t=F[r])||void 0===t||t.delete(n.id))},r[c.ActionTypes.CHANNEL_SELECT]=function(){
for(var e=0,t=Object.keys(G);e<t.length;e++){var n=t[e];null==P[n]&&(P[n]=new Set);P[n]=new Set([].concat(y(Array.from(P[n])),y(Array.from(G[n]))));delete G[n]}},r[c.ActionTypes.CHANNEL_DELETE]=V,r[c.ActionTypes.THREAD_DELETE]=V,r[c.ActionTypes.GUILD_DELETE]=function(e){var t=e.guild;if(null==A[t.id])return!1;delete A[t.id];delete T[t.id];for(var n in null!==(r=D[t.id])&&void 0!==r?r:{}){var r;delete I[n]}delete D[t.id];delete O[t.id];delete b[t.id]},r[c.ActionTypes.CHANNEL_UPDATES]=function(e){for(var t,n=g(e.updates);!(t=n()).done;){var r=t.value.channel;if(null==r?void 0:r.hasFlag(f.ChannelFlags.GUILD_FEED_REMOVED))return x(r)}},r[c.ActionTypes.LOGOUT]=function(){A={};T={};I={};D={};b={};O={};G={};P={};F={}},r[c.ActionTypes.MESSAGE_UPDATE]=function(e){var t=e.message;return C(t.channel_id,t.id,(function(e){return(0,a.updateMessageRecord)(e,t)}))},r[c.ActionTypes.MESSAGE_DELETE]=function(e){var t=e.id;return k(e.channelId,t)},r[c.ActionTypes.MESSAGE_DELETE_BULK]=function(e){
for(var t,n=e.ids,r=e.channelId,i=!1,o=g(n);!(t=o()).done;){i=k(r,t.value)||i}return i},r[c.ActionTypes.MESSAGE_REACTION_ADD]=H,r[c.ActionTypes.MESSAGE_REACTION_REMOVE]=H,r[c.ActionTypes.MESSAGE_REACTION_REMOVE_ALL]=function(e){return C(e.channelId,e.messageId,(function(e){return e.set("reactions",[])}))},r[c.ActionTypes.MESSAGE_REACTION_REMOVE_EMOJI]=function(e){var t=e.channelId,n=e.messageId,r=e.emoji;return C(t,n,(function(e){return e.removeReactionsForEmoji(r)}))},r));t.default=K},676525:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.createGuildFeedItemFromServer=function(e){switch(e.type){case i.GuildFeedItemTypes.FORUM_POST:var t=(0,a.createMessageRecord)(e.message),n=u.default.fromServer(e.thread);return{type:i.GuildFeedItemTypes.FORUM_POST,message:t,thread:n,featured:e.featured,seen:e.seen};case i.GuildFeedItemTypes.MESSAGE:default:var o=(0,a.createMessageRecord)(e.message),l=r.default.map(e.reference_messages,(function(e){return(0,a.createMessageRecord)(e)}))
;return{type:i.GuildFeedItemTypes.MESSAGE,message:o,referenceMessages:l,featured:e.featured,seen:e.seen}}};t.isChannelAvailableInGuildFeed=function(e){if(e.hasFlag(l.ChannelFlags.GUILD_FEED_REMOVED))return!1;if(e.isNSFW())return!1;return!0};t.isMessageAvailableInGuildFeed=function(e){if(!o.MessageTypesSets.AVAILABLE_IN_GUILD_FEED.has(e.type))return!1;return!0};var r=d(n(496486)),i=n(177661),o=n(234856),a=n(202929),u=d(n(567186)),l=n(173652);function d(e){return e&&e.__esModule?e:{default:e}}},676509:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.GUILD_FEED_POST_ITEM_ID_TEMPLATE=t.GUILD_FEED_MESSAGE_ITEM_ID_TEMPLATE=void 0;t.default=function(e){switch(e.type){case r.GuildFeedItemTypes.FORUM_POST:return o(e.message.id);case r.GuildFeedItemTypes.MESSAGE:return a(e.message.id);default:(0,i.assertNever)(e)}};t.getSnowflakeFromGuildFeedItemId=function(e){return e.split("/")[1]};var r=n(177661),i=n(71246),o=function(e){return r.GuildFeedItemTypes.FORUM_POST+"/"+e}
;t.GUILD_FEED_POST_ITEM_ID_TEMPLATE=o;var a=function(e){return r.GuildFeedItemTypes.MESSAGE+"/"+e};t.GUILD_FEED_MESSAGE_ITEM_ID_TEMPLATE=a},85255:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,i=u(n(536211)),o=u(n(636602)),a=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var d={};var s=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.getOptions=function(e){return d[e]};return t}(i.default.Store);s.displayName="SendMessageOptionsStore";var c=new s(o.default,((r={})[a.ActionTypes.MESSAGE_CREATE]=function(e){var t=e.message,n=e.sendMessageOptions;null!=n&&(d[t.id]=n);null!=t.nonce&&t.nonce in d&&delete d[t.nonce]},r));t.default=c},172235:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0})
;t.canGuildFeedFeatureMessage=function(e,t){var n=e.getGuildId();if(null===n||!(0,o.canSeeGuildHome)(n))return!1;if(!u.ChannelTypesSets.GUILD_FEED_FEATURABLE_MESSAGES.has(e.type))return!1;if(!(0,i.isChannelAvailableInGuildFeed)(e))return!1;if(!(0,i.isMessageAvailableInGuildFeed)(t))return!1;if(!a.default.can(d,e))return!1;return!0};var r=l(n(267258)),i=n(676525),o=n(566627),a=l(n(689389)),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}var d=r.default.combine(u.Permissions.VIEW_CHANNEL,u.Permissions.MANAGE_MESSAGES,u.Permissions.READ_MESSAGE_HISTORY)},141234:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,n,r){void 0===r&&(r={});i.default.deleteMessage(e.id,t.id,!0);if(t.isCommandType()){null!=t.interactionData&&r.applicationId&&(0,o.retryCommandMessage)(t,e,r.applicationId);return}var a=t.content,u=t.tts;i.default.sendMessage(e.id,{content:a,tts:u,invalidEmojis:[],validNonShortcutEmojis:[]},void 0,r)}
;var r,i=(r=n(786345))&&r.__esModule?r:{default:r},o=n(462936)},839570:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.configureJoin=function(e){var t=e.getGuildId();null!=t&&l.default.open(t,M.GuildSettingsSections.OVERVIEW)};t.copyId=function(e,t,n){(0,v.copy)(n.shiftKey?t.channel_id+"-"+t.id:t.id)};t.copyLink=function(e,t){(0,v.copy)(location.protocol+"//"+location.host+M.Routes.CHANNEL(e.guild_id,e.id,t.id))};t.createThread=function(e,t){(0,c.openThreadSidebarForCreating)(e,t,"Message")};t.deleteMessage=function(e,t,n){t.state===M.MessageStates.SEND_FAILED||n.shiftKey?o.default.deleteMessage(e.id,t.id,t.state===M.MessageStates.SEND_FAILED):a.default.confirmDelete(e,t)};t.editMessage=function(e,t){o.default.startEditMessage(e.id,t.id,t.content)};t.gotoThread=function(e,t){var n=p.default.getChannel(t.id);null!=n&&(0,c.openThreadSidebarForViewing)(n)};t.markMessageUnread=function(e,t){(0,g.default)(e.id,t.id)};t.pinMessage=function(e,t,n){if(!1===t.pinned){
n.shiftKey?i.default.pinMessage(e,t.id):a.default.confirmPin(e,t);return}n.shiftKey?i.default.unpinMessage(e,t.id):a.default.confirmUnpin(e,t)};t.publishMessage=function(e,t){(0,u.default)(e.id,t.id)};t.replyToMessage=function(e,t,n){var r=e.isPrivate(),i=null!=t.webhookId,o=t.author.id===f.default.getId();(0,s.createPendingReply)({channel:e,message:t,shouldMention:!n.shiftKey&&!i&&!o,showMentionToggle:!r&&!i&&!o});_.ComponentDispatch.dispatchToLastSubscribed(M.ComponentActions.TEXTAREA_FOCUS)};t.reportMessage=function(e){(0,d.showReportModalForMessage)(e)};t.retrySendMessage=function(e,t){(0,S.default)(e,t,void 0,y.default.getOptions(t.id))};t.showReactionsModal=function(e,t,i){(0,E.openModalLazy)(I(regeneratorRuntime.mark((function e(){var o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,556961));case 2:o=e.sent;a=o.default;return e.abrupt("return",(function(e){return r.createElement(a,h({},e,{
message:t,selectedReaction:i}))}));case 5:case"end":return e.stop()}}),e)}))))};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=A(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=m(n(56911)),o=m(n(786345)),a=m(n(836943)),u=m(n(239260)),l=m(n(964285)),d=n(837797),s=n(886090),c=n(682640),f=m(n(423046)),p=m(n(644263)),E=n(194322),_=n(956506),v=n(179495),y=m(n(85255)),g=m(n(501542)),S=m(n(141234)),M=n(770348);function m(e){return e&&e.__esModule?e:{default:e}}function A(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(A=function(e){return e?n:t})(e)}function h(){h=Object.assign||function(e){
for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return h.apply(this,arguments)}function T(e,t,n,r,i,o,a){try{var u=e[o](a),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,i)}function I(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){T(o,r,i,a,u,"next",e)}function u(e){T(o,r,i,a,u,"throw",e)}a(void 0)}))}}},885798:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var r=t.getGuildId(),c=(0,o.useStateFromStores)([a.default],(function(){return null!==r&&a.default.getIsMessageFeatured(r,e.id)}),[e,r]);return(0,d.canGuildFeedFeatureMessage)(t,e)?c?p(u.MenuItem,{id:"guild-feed-unfeature",label:s.default.Messages.GUILD_FEED_UNFEATURE_MESSAGE,action:function(){return null===r?null:(0,l.openModalLazy)(v(regeneratorRuntime.mark((function t(){var o,a;return regeneratorRuntime.wrap((function(t){
for(;;)switch(t.prev=t.next){case 0:t.next=2;return Promise.all([n.e(40532),n.e(82019)]).then(n.bind(n,782019));case 2:o=t.sent;a=o.UnfeatureConfirmationModal;return t.abrupt("return",(function(t){return i.createElement(a,E({},t,{message:e,guildId:r}))}));case 5:case"end":return t.stop()}}),t)}))))}}):p(u.MenuItem,{id:"guild-feed-feature",label:s.default.Messages.GUILD_FEED_FEATURE_MESSAGE},void 0,function(){return[{value:y.ONE_DAY,timePeriod:s.default.Messages.GUILD_FEED_FEATURE_MESSAGE_24_HOURS},{value:y.THREE_DAYS,timePeriod:s.default.Messages.GUILD_FEED_FEATURE_MESSAGE_THREE_DAYS},{value:y.SEVEN_DAYS,timePeriod:s.default.Messages.GUILD_FEED_FEATURE_MESSAGE_SEVEN_DAYS}]}().map((function(o){var a=o.value,d=o.timePeriod;return p(u.MenuItem,{id:""+a,label:g(d),action:function(){return null===r?null:(0,l.openModalLazy)(v(regeneratorRuntime.mark((function o(){var u,l;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:o.next=2
;return Promise.all([n.e(40532),n.e(82019)]).then(n.bind(n,782019));case 2:u=o.sent;l=u.FeatureConfirmationModal;return o.abrupt("return",(function(n){return i.createElement(l,E({},n,{message:e,channel:t,guildId:r,expiresSeconds:a,timePeriod:d}))}));case 5:case"end":return o.stop()}}),o)}))))}},a)}))):null};var r,i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(536211),a=c(n(968078)),u=n(145122),l=n(194322),d=n(172235),s=c(n(247001));function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap
;return(f=function(e){return e?n:t})(e)}function p(e,t,n,i){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var u=new Array(a),l=0;l<a;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var d in o)void 0===t[d]&&(t[d]=o[d]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(){E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return E.apply(this,arguments)}function _(e,t,n,r,i,o,a){try{var u=e[o](a),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,i)}function v(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){_(o,r,i,a,u,"next",e)}function u(e){_(o,r,i,a,u,"throw",e)}a(void 0)}))}}var y={
ONE_DAY:86400,THREE_DAYS:259200,SEVEN_DAYS:604800},g=function(e){return s.default.Messages.GUILD_FEED_FEATURE_MESSAGE_MENU_ITEM_TEXT.format({timePeriod:e})}},262100:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.canReplyToMessage=c;t.useCanReplyToMessage=function(e,t){var n,o=(0,a.useCanUnarchiveThread)(e),l=(0,r.useStateFromStores)([u.default],(function(){return c(e,t,u.default)})),d=(p=(0,i.useCurrentUserCommunicationDisabled)(null!==(n=e.getGuildId())&&void 0!==n?n:void 0),E=2,function(e){if(Array.isArray(e))return e}(p)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}}(p,E)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(p,E)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[1],f=!e.isArchivedThread()||o;var p,E;return l&&!d&&f};var r=n(536211),i=n(514756),o=d(n(477072)),a=n(819235),u=d(n(689389)),l=n(478036);function d(e){return e&&e.__esModule?e:{default:e}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t,n){return(e.isPrivate()?!e.isSystemDM():n.can(l.Permissions.SEND_MESSAGES,e)&&n.can(l.Permissions.READ_MESSAGE_HISTORY,e))&&!(0,o.default)(t)}},43247:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.setSpeechRate=function(e){i.default.dispatch({type:o.ActionTypes.SET_TTS_SPEECH_RATE,speechRate:e})}
;t.speakMessage=function(e,t){i.default.dispatch({type:o.ActionTypes.SPEAK_MESSAGE,channel:e,message:t})};t.speakText=function(e,t,n,r,a){i.default.dispatch({type:o.ActionTypes.SPEAK_TEXT,text:e,interrupt:t,maxLength:n,onStart:r,onEnd:a})};t.speakingMessage=function(e,t){i.default.dispatch({type:o.ActionTypes.SPEAKING_MESSAGE,channelId:e,messageId:t})};t.stopSpeaking=function(){i.default.dispatch({type:o.ActionTypes.STOP_SPEAKING})};var r,i=(r=n(636602))&&r.__esModule?r:{default:r},o=n(770348)},91603:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,i=u(n(536211)),o=u(n(636602)),a=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function d(e,t){d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return d(e,t)}function s(){s=Object.assign||function(e){
for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}var c={speechRate:1,currentMessage:null},f=c;var p=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;d(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(e){f=s({},c,{},null!=e?e:null)};n.isSpeakingMessage=function(e,t){var n=f.currentMessage;return null!==n&&n.channelId===e&&n.messageId===t};n.getUserAgnosticState=function(){return f};!function(e,t,n){t&&l(e.prototype,t);n&&l(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"currentMessage",get:function(){return f.currentMessage}},{key:"speechRate",get:function(){return f.speechRate}}]);return t}(i.default.DeviceSettingsStore);p.displayName="TTSStore";p.persistKey="TTSStore";p.migrations=[]
;var E=new p(o.default,__OVERLAY__?{}:((r={})[a.ActionTypes.SPEAKING_MESSAGE]=function(e){var t=e.messageId,n=e.channelId;f=s({},f,{currentMessage:{messageId:t,channelId:n}})},r[a.ActionTypes.STOP_SPEAKING]=function(){f=s({},f,{currentMessage:null})},r[a.ActionTypes.SET_TTS_SPEECH_RATE]=function(e){f=s({},f,{speechRate:e.speechRate})},r));t.default=E},281638:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=a;var r;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var u=o?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(r,a,u):r[a]=e[a]}r.default=e;n&&n.set(e,r)}(n(667294));function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){
return e?n:t})(e)}function o(e,t,n,i){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var u=new Array(a),l=0;l<a;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var d in o)void 0===t[d]&&(t[d]=o[d]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function a(e){var t=e.width,n=void 0===t?24:t,r=e.height,i=void 0===r?24:r,a=e.color,u=void 0===a?"currentColor":a;return o("svg",{className:e.className,width:n,height:i,viewBox:"0 0 24 24"},void 0,o("path",{d:"M10 8.26667V4L3 11.4667L10 18.9333V14.56C15 14.56 18.5 16.2667 21 20C20 14.6667 17 9.33333 10 8.26667Z",className:e.foreground,fill:u}))}a.displayName="Reply"},402193:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=c;var r,i,o=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=(r=n(468205))&&r.__esModule?r:{default:r},u=["width","height","color","foreground"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}function s(e,t,n,r){i||(i="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={
children:void 0}),1===a)t.children=r;else if(a>1){for(var u=new Array(a),l=0;l<a;l++)u[l]=arguments[l+3];t.children=u}if(t&&o)for(var d in o)void 0===t[d]&&(t[d]=o[d]);else t||(t=o||{});return{$$typeof:i,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e){var t=e.width,n=void 0===t?24:t,r=e.height,i=void 0===r?24:r,l=e.color,c=void 0===l?"currentColor":l,f=e.foreground,p=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(i[n]=e[n])}return i}(e,u);return o.createElement("svg",d({},(0,a.default)(p),{width:n,height:i,viewBox:"0 0 24 24"}),s("path",{className:f,fill:c,fillRule:"evenodd",clipRule:"evenodd",
d:"M2.99805 4.8C2.99805 3.8055 3.80445 3 4.79805 3H19.198C20.1925 3 20.998 3.8055 20.998 4.8V15.6C20.998 16.5936 20.1925 17.4 19.198 17.4H11.098L7.49805 21V17.4H4.79805C3.80445 17.4 2.99805 16.5936 2.99805 15.6V4.8ZM11.5737 5.16264C11.7336 5.00375 11.9739 4.95652 12.183 5.04208C12.3921 5.12708 12.5279 5.33098 12.5279 5.55487V14.444C12.5279 14.669 12.3921 14.8718 12.183 14.9579C11.9739 15.0435 11.7336 14.9963 11.5737 14.8374L9.1739 12.2217H7.4969C7.18945 12.2217 6.9379 11.9717 6.9379 11.6662V8.33273C6.9379 8.02772 7.18945 7.77716 7.4969 7.77716H9.1739L11.5737 5.16264ZM13.6459 7.22159V6.11044C15.8037 6.11044 17.5589 7.85549 17.5589 9.99944C17.5589 12.1445 15.8037 13.8884 13.6459 13.8884V12.7773C15.1871 12.7773 16.4409 11.5312 16.4409 9.99944C16.4409 8.46829 15.1871 7.22159 13.6459 7.22159ZM15.3229 9.99944C15.3229 9.08108 14.5705 8.33273 13.6459 8.33273V9.44387C13.9539 9.44387 14.2049 9.69332 14.2049 9.99944C14.2049 10.3056 13.9539 10.555 13.6459 10.555V11.6662C14.5705 11.6662 15.3229 10.9189 15.3229 9.99944Z"
}))}c.displayName="SpeakMessage"}}]);
//# sourceMappingURL=9237bd60a08f23ffa662.js.map