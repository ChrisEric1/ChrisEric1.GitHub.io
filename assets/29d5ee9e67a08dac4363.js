"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[90031],{590031:(e,n,t)=>{t.r(n);t.d(n,{default:()=>g});var r,a=t(785893),o=(t(667294),t(901991)),l=t.n(o),i=t(518241),s=t(136481),u=t(959797);!function(e){e.COULD_NOT_HEAR_AUDIO="I couldn't hear audio at all";e.NOBODY_COULD_HEAR_ME="Nobody could hear me";e.AUDIO_ECHOS="Audio had echos or feedback";e.AUDIO_ROBOTIC="Audio was robotic or distorted";e.AUDIO_CUT="Audio cut in and out";e.BAD_VOLUME="Volume was too low or high";e.BACKGROUND_NOISE="Background noise was too loud";e.SPEAKERPHONE="Issues with speakerphone";e.HEADSET="Issues with headset/bluetooth";e.OTHER="Other"}(r||(r={}));function c(e){var n=[{label:u.Z.Messages.CALL_FEEDBACK_OPTION_COULD_NOT_HEAR_AUDIO,code:2,value:r.COULD_NOT_HEAR_AUDIO},{label:u.Z.Messages.CALL_FEEDBACK_OPTION_NOBODY_COULD_HEAR_ME,code:3,value:r.NOBODY_COULD_HEAR_ME},{label:u.Z.Messages.CALL_FEEDBACK_OPTION_AUDIO_ECHOS,code:4,value:r.AUDIO_ECHOS},{
label:u.Z.Messages.CALL_FEEDBACK_OPTION_AUDIO_ROBOTIC,code:5,value:r.AUDIO_ROBOTIC},{label:u.Z.Messages.CALL_FEEDBACK_OPTION_AUDIO_CUT,code:6,value:r.AUDIO_CUT},{label:u.Z.Messages.CALL_FEEDBACK_OPTION_BAD_VOLUME,code:7,value:r.BAD_VOLUME},{label:u.Z.Messages.CALL_FEEDBACK_OPTION_BACKGROUND_NOISE,code:8,value:r.BACKGROUND_NOISE}];e&&n.push({label:u.Z.Messages.CALL_FEEDBACK_OPTION_SPEAKERPHONE,code:9,value:r.SPEAKERPHONE});n.push({label:u.Z.Messages.CALL_FEEDBACK_OPTION_HEADSET,code:10,value:r.HEADSET},{label:u.Z.Messages.CALL_FEEDBACK_OPTION_OTHER,code:1,value:r.OTHER});return n}var d=t(934714),f=t(932847),_=t(461061);function O(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t;return e}function E(e,n,t,r,a){var o=d.Z.getSettings(),l=d.Z.getInputDeviceId(),i=d.Z.getInputDevices()[l],s=d.Z.getOutputDeviceId(),u=d.Z.getOutputDevices()[s],c=d.Z.getVideoDeviceId(),E=d.Z.getVideoDevices()[c],b=d.Z.getNoiseCancellation()
;f.default.track(_.rMx.CALL_REPORT_PROBLEM,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))));r.forEach((function(n){O(e,n,t[n])}))}return e}({rating:null!=e?e:"no response",reason_code:n,reason_description:t,feedback:r,audio_input_mode:o.mode,automatic_audio_input_sensitivity_enabled:o.modeOptions.autoThreshold,audio_input_sensitivity:o.modeOptions.threshold,echo_cancellation_enabled:o.echoCancellation,noise_suppression_enabled:o.noiseSuppression,automatic_gain_control_enabled:o.automaticGainControl,voice_output_volume:o.outputVolume,noise_cancellation_enabled:b,input_device_name:null==i?void 0:i.name,output_device_name:null==u?void 0:u.name,video_device_name:null==E?void 0:E.name},a))}var b=t(897576),h=t(682881);function m(e,n,t,r,a,o,l){try{
var i=e[o](l),s=i.value}catch(e){t(e);return}i.done?n(s):Promise.resolve(s).then(r,a)}function v(e){return function(){var n=this,t=arguments;return new Promise((function(r,a){var o=e.apply(n,t);function l(e){m(o,r,a,l,i,"next",e)}function i(e){m(o,r,a,l,i,"throw",e)}l(void 0)}))}}function p(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t;return e}var A=function(e,n){var t,r,a,o,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(t)throw new TypeError("Generator is already executing.");for(;l;)try{if(t=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;(r=0,a)&&(o=[2&o[0],a.value]);switch(o[0]){case 0:case 1:a=o;break;case 4:l.label++;return{value:o[1],done:!1};case 5:l.label++;r=o[1]
;o=[0];continue;case 7:o=l.ops.pop();l.trys.pop();continue;default:if(!(a=l.trys,a=a.length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){l.label=o[1];break}if(6===o[0]&&l.label<a[1]){l.label=a[1];a=o;break}if(a&&l.label<a[2]){l.label=a[2];l.ops.push(o);break}a[2]&&l.ops.pop();l.trys.pop();continue}o=n.call(e,l)}catch(e){o=[6,e];r=0}finally{t=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}};var C=[l().CALL_FEEDBACK_OPTION_OTHER];function g(e){var n=e.onClose,r=e.transitionState,o=e.analyticsData;return(0,a.jsx)(i.Z,{header:u.Z.Messages.CALL_FEEDBACK_SHEET_TITLE,body:u.Z.Messages.CALL_FEEDBACK_PROMPT,problemTitle:u.Z.Messages.CALL_FEEDBACK_ISSUE_SECTION_HEADER,problems:c(!1),feedbackProblems:C,onSubmit:function(e){var n=e.rating,r=e.problem,l=e.dontShowAgain,i=e.feedback;l&&(0,s.Kw)(h.v.VOICE_CALL_FEEDBACK);if(null!=n){E(n,(d=r,null!==(_=null===(f=c(!1).find((function(e){return e.label===d
})))||void 0===f?void 0:f.code)&&void 0!==_?_:null),r,i,o);var d,f,_;null!=r&&b.ZD(v((function(){var e,n;return A(this,(function(r){switch(r.label){case 0:return[4,Promise.all([t.e(40532),t.e(76325)]).then(t.bind(t,876325))];case 1:e=r.sent(),n=e.default;return[2,function(e){return(0,a.jsx)(n,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))));r.forEach((function(n){p(e,n,t[n])}))}return e}({body:u.Z.Messages.CALL_FEEDBACK_CONFIRMATION},e))}]}}))})))}},onClose:n,transitionState:r,otherKey:l().CALL_FEEDBACK_OPTION_OTHER})}},276256:(e,n,t)=>{t.d(n,{B:()=>o});var r=t(496486),a=t.n(r),o=function(e,n){var t=a().shuffle(e),r=t.findIndex((function(e){return e.value===n}));if(r>-1){var o=t[r];t.splice(r,1);t.push(o)}return t}},518241:(e,n,t)=>{t.d(n,{Z:()=>L})
;var r=t(785893),a=t(667294),o=t(294184),l=t.n(o),i=t(496486),s=t.n(i),u=t(331535),c=t(244028),d=t(825611),f=t(487502),_=t(272729),O=t(160036),E=t(67416),b=t(95467),h=t(276256),m=t(76997),v=t(959797),p=t(839319),A=t.n(p);function C(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function g(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,a,o=[],l=!0,i=!1;try{for(t=t.call(e);!(l=(r=t.next()).done);l=!0){o.push(r.value);if(n&&o.length===n)break}}catch(e){i=!0;a=e}finally{try{l||null==t.return||t.return()}finally{if(i)throw a}}return o}}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return C(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t)
;if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return C(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var D=[{className:A().emojiSad,rating:m.aZ.BAD},{className:A().emojiNeutral,rating:m.aZ.NEUTRAL},{className:A().emojiHappy,rating:m.aZ.GOOD}];function N(e){var n=e.className,t=e.selectedRating,a=e.onChangeRating;return(0,r.jsx)(f.Z,{justify:f.Z.Justify.BETWEEN,align:f.Z.Align.CENTER,className:l()(A().ratingsSelector,n),children:D.map((function(e){var n=e.rating,o=e.className;return(0,r.jsx)(u.P3,{onClick:function(){return a(n)},"aria-label":n,children:(0,r.jsx)("div",{className:l()(o,t===n?A().selected:null)})},n)}))})}function y(){return(0,r.jsx)(u.xv,{className:A().helpdeskLink,variant:"text-xs/normal",color:"text-muted",children:v.Z.Messages.FEEDBACK_NEED_MORE_HELP.format({helpdeskURL:b.Z.getSubmitRequestURL()})})}
function L(e){var n=e.header,t=e.body,o=e.problemTitle,l=e.problems,i=e.transitionState,b=e.feedbackProblems,p=void 0===b?[]:b,C=e.otherKey,D=e.onSubmit,L=e.onClose,I=(0,c.Z)(l),x=g(a.useState(!1),2),S=x[0],Z=x[1],T=g(a.useState(null),2),j=T[0],R=T[1],B=g(a.useState(null),2),P=B[0],M=B[1],U=g(a.useState(s().shuffle(l)),2),w=U[0],k=U[1],K=g(a.useState(""),2),H=K[0],F=K[1],z=(0,_.Dt)(),G=(0,O.Z)(j),V=(0,O.Z)(S),Y=(0,O.Z)(P),J=(0,O.Z)(D),X=(0,O.Z)(H),q=null!=P&&p.includes(P);a.useEffect((function(){s().isEqual(I,l)||k((0,h.B)(l,C))}),[l,I,C]);a.useEffect((function(){return function(){J.current({rating:G.current,problem:Y.current,dontShowAgain:V.current,feedback:X.current})}}),[]);return(0,r.jsxs)(E.Y0,{transitionState:i,className:A().modalRoot,"aria-labelledby":z,children:[(0,r.jsxs)(E.xB,{separator:!1,className:A().headerContainer,children:[(0,r.jsx)(u.X6,{id:z,variant:"heading-xl/extrabold",color:"none",children:n}),(0,r.jsx)(u.xv,{variant:"text-md/normal",color:"none",
className:A().ratingBody,children:t}),q?null:(0,r.jsx)(N,{className:A().emojis,selectedRating:j,onChangeRating:function(e){R(e);e===m.aZ.GOOD&&L()}})]}),(0,r.jsxs)(E.hz,{className:A().content,children:[null==j||j===m.aZ.GOOD||q?null:(0,r.jsx)(u.xJ,{title:o,className:A().problemInfo,children:(0,r.jsx)(d.Z,{options:w,onClick:function(e){var n=e.value;M(n);p.includes(n)||L()}})}),q?(0,r.jsxs)(u.xJ,{title:v.Z.Messages.FEEDBACK_DESCRIBE_ISSUE,className:A().problemInfo,children:[(0,r.jsx)(u.Kx,{value:H,maxLength:m.iF,onChange:F}),(0,r.jsx)(y,{})]}):null]}),(0,r.jsx)(E.mz,{className:A().footer,direction:f.Z.Direction.HORIZONTAL,children:q?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.zx,{size:u.zx.Sizes.SMALL,look:u.zx.Looks.LINK,color:u.zx.Colors.PRIMARY,onClick:function(){M(null);F("")},children:v.Z.Messages.BACK}),(0,r.jsx)(u.zx,{size:u.zx.Sizes.SMALL,onClick:L,children:v.Z.Messages.SUBMIT})]}):(0,r.jsx)(u.XZ,{type:u.XZ.Types.INVERTED,size:18,value:S,onChange:function(){return Z(!S)},
children:(0,r.jsx)(u.xv,{variant:"text-sm/normal",children:v.Z.Messages.DONT_SHOW_AGAIN})})})]})}},825611:(e,n,t)=>{t.d(n,{Z:()=>c});var r=t(785893),a=(t(667294),t(294184)),o=t.n(a),l=t(331535),i=t(414597),s=t(94480),u=t.n(s);function c(e){var n=e.options,t=e.onClick,a=e.className,s=e.optionClassName;return(0,r.jsx)("div",{className:o()(u().root,a),children:n.map((function(e,n){return(0,r.jsxs)(l.P3,{onClick:function(){return t(e)},className:o()(u().option,s),children:[(0,r.jsx)(l.xv,{className:u().text,color:"none",variant:"text-md/normal",children:e.label}),(0,r.jsx)(i.Z,{className:u().caret,direction:i.Z.Directions.RIGHT})]},n)}))})}}}]);
//# sourceMappingURL=29d5ee9e67a08dac4363.js.map