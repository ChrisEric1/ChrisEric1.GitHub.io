"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[72936],{372936:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,o=p(n(667294)),i=f(n(427537)),a=f(n(191224)),u=p(n(445308)),l=n(864489),d=f(n(922629)),s=n(770348);function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e;n&&n.set(e,r);return r}function h(e,t,n,o){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=o;else if(a>1){for(var u=new Array(a),l=0;l<a;l++)u[l]=arguments[l+3];t.children=u}if(t&&i)for(var d in i)void 0===t[d]&&(t[d]=i[d]);else t||(t=i||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||m(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{
for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){u=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||m(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t){g=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return g(e,t)}var R=l.isPlatformEmbedded&&null!=d.default.getDiscordUtils().inputCaptureRegisterElement,_=function(e){!function(e,t){
e.prototype=Object.create(t.prototype);e.prototype.constructor=e;g(e,t)}(t,e);function t(t){var n;(n=e.call(this,t)||this)._mounted=!1;n.recordStart=function(){if(l.isPlatformEmbedded&&!R){n.gs=new a.default;n.gs.on("change",n.handleGSChange)}n.setState({mode:u.RecordModes.RECORDING})};n.recordEnd=function(){n.cleanUp();n.setState({mode:u.RecordModes.DEFAULT})};n.toggleRecordMode=function(){n.state.mode===u.RecordModes.DEFAULT?n.recordStart():n.recordEnd()};n.handleComboKeys=function(e,t,r){r.preventDefault();if("keydown"===r.type){var o=t.map((function(e){return[s.KeyboardDeviceTypes.KEYBOARD_KEY,(0,i.default)(e),s.KeyboardEnvs.BROWSER]})),a=r.keyCode;null==o.find((function(e){var t=v(e,2)[1];return a===t}))&&o.push([s.KeyboardDeviceTypes.KEYBOARD_KEY,a,s.KeyboardEnvs.BROWSER]);n.handleComboChange(o)}};n.handleGSChange=function(e){if(!1!==n._mounted){var t=y(e.combo);n.handleComboChange(t)}};n.handleNativeChange=function(e){e.length>0&&n.handleComboChange(e);n.recordEnd()}
;var r=t.defaultValue;n.state={codes:r,mode:u.RecordModes.DEFAULT};return n}var n=t.prototype;n.componentDidMount=function(){this._mounted=!0};n.componentWillUnmount=function(){this._mounted=!1;this.cleanUp()};n.componentDidUpdate=function(e){this.props.defaultValue!==e.defaultValue&&this.setState({codes:this.props.defaultValue})};n.cleanUp=function(){if(l.isPlatformEmbedded&&null!=this.gs){this.gs.destroy();this.gs=null}};n.handleComboChange=function(e){var t=this.state.mode,n=this.props.onChange;if(t===u.RecordModes.RECORDING){null!=n&&n(e);this.setState({codes:e})}};n.render=function(){var e,t,n=this.state,r=n.codes,o=n.mode,i=this.props.disabled;if(R){t=d.default.getDiscordUtils().inputCaptureRegisterElement;e=this.handleNativeChange}else l.isPlatformEmbedded||(e=this.handleComboKeys);return h(u.default,{disabled:i,value:r,mode:o,onClick:this.toggleRecordMode,onChange:e,registerNativeRecorder:t,disableOnClickWhileRecording:R})};return t}(o.PureComponent)
;_.displayName="KeybindRecorder";var O=_;t.default=O},191224:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=l(n(717187)),o=n(864489),i=l(n(922629)),a=n(339943),u=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){u=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){f=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return f(e,t)}var c=[],p=function(e,t,n){var r=(0,o.isWindows)()?0:1;e===u.KeyboardDeviceTypes.MOUSE_BUTTON&&n===r||c.forEach((function(r){return r._handleEvent(e,t,n)}))},h=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;f(e,t)}(t,e);function t(){var t;(t=e.call(this)||this).combo=[];c.push(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t));1===c.length&&i.default.setOnInputEventCallback(p);return t}var n=t.prototype;n.destroy=function(){var e=this;this.removeAllListeners();0===(c=c.filter((function(t){return t!==e
}))).length&&i.default.setOnInputEventCallback(null)};n.toString=function(){return(0,a.toString)(this.combo)};n._handleEvent=function(e,t,n){if(0===t)this.combo=this.combo.filter((function(t){var r=d(t,2),o=r[0],i=r[1];return!(o===e&&i===n)}));else{this.combo.push([e,n,(0,a.getEnv)()]);this.emit("change",this)}};return t}(r.default);t.default=h},445308:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=t.RecordModes=void 0;var r,o,i,a=b(n(667294)),u=v(n(294184)),l=v(n(238736)),d=v(n(496486)),s=v(n(314234)),f=n(339943),c=b(n(956117)),p=v(n(530250)),h=v(n(247001)),y=v(n(35282));function v(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function b(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e)
;var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e;n&&n.set(e,r);return r}function g(e,t,n,r){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=r;else if(a>1){for(var u=new Array(a),l=0;l<a;l++)u[l]=arguments[l+3];t.children=u}if(t&&i)for(var d in i)void 0===t[d]&&(t[d]=i[d]);else t||(t=i||{});return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function R(e,t){R=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return R(e,t)}t.RecordModes=i;!function(e){e.DEFAULT="DEFAULT";e.RECORDING="RECORDING"}(i||(t.RecordModes=i={}));var _=((r={})[i.DEFAULT]=y.default.default,r[i.RECORDING]=y.default.recording,
r),O=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;R(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(t=e.call.apply(e,[this].concat(r))||this)._inputId=d.default.uniqueId("key-recorder-");t._unregisterNativeRecorder=null;t._mousedownMode=null;t._inputRef=a.createRef();t._containerRef=a.createRef();t.setInputRef=function(e){t._input=e;t._inputRef.current=e};t.handleClick=function(e){e.stopPropagation();e.preventDefault();var n=t.props,r=n.onClick;n.disableOnClickWhileRecording&&t._mousedownMode===i.RECORDING||r()};t.handleMouseDown=function(){t._mousedownMode=t.props.mode};return t}var n=t.prototype;n.componentDidMount=function(){var e=this.props.onChange;if(null!=this.props.registerNativeRecorder&&null!=e)this._unregisterNativeRecorder=this.props.registerNativeRecorder(this._inputId,e);else if(null!=e&&null!=this._input){new l.default(this._input).handleKey=e}}
;n.componentWillUnmount=function(){null!=this._unregisterNativeRecorder&&this._unregisterNativeRecorder()};n.componentDidUpdate=function(e){var t=this.props.mode;if(e.mode!==t){var n=this._input;if(null!=n){var r=document.activeElement;t===i.DEFAULT&&n===r&&n.blur();t===i.RECORDING&&n!==r&&n.focus()}}};n.render=function(){var e,t,n=this,r=this.props,o=r.mode,l=r.value,d=r.disabled,v=(0,f.toString)(l,!0);t=o===i.RECORDING?h.default.Messages.SHORTCUT_RECORDER_BUTTON_RECORDING:0===l.length?h.default.Messages.SHORTCUT_RECORDER_BUTTON:h.default.Messages.SHORTCUT_RECORDER_BUTTON_EDIT;var m=o===i.DEFAULT&&l.length>0;return g(s.default,{focusTarget:this._inputRef,ringTarget:this._containerRef},void 0,a.createElement("div",{onClick:this.handleClick,onMouseDown:this.handleMouseDown,ref:this._containerRef,className:(0,u.default)(y.default.container,_[o],(e={},e[y.default.hasValue]=m,e[y.default.disabled]=d,e))},g(p.default,{className:y.default.layout},void 0,g(p.default.Child,{
className:y.default.input},void 0,a.createElement("input",{id:this._inputId,placeholder:h.default.Messages.SHORTCUT_RECORDER_NO_BIND,type:"text",ref:this.setInputRef,readOnly:!0,value:v,disabled:this.props.mode!==i.RECORDING||d})),g(p.default,{shrink:1,grow:0,style:{margin:0}},void 0,g(c.default,{className:y.default.button,disabled:d,onClick:function(e){e.stopPropagation();e.preventDefault();n.handleClick(e)},size:c.default.Sizes.MIN,color:c.ButtonColors.PRIMARY},void 0,g("span",{className:y.default.text},void 0,t),g("span",{className:y.default.editIcon}))))))};return t}(a.PureComponent);O.displayName="KeyRecorder";var E=O;t.default=E}}]);
//# sourceMappingURL=ece55feabc892056a599.js.map