"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[19936],{19936:(e,t,n)=>{n.r(t);n.d(t,{default:()=>Nt});var r=n(785893),s=n(667294),i=n(496486),o=n.n(i),a=n(730381),l=n.n(a),c=n(973935),u=n(388721),d=n(363010),h=n(331535),f=n(688417),g=n(620974),p=n(265123),O=n(53211),E=n(808525),S=n(832010),m=n(359590),v=n(825431);var N=(0,n(553494).B)({kind:"user",id:"2022-11_notification_redesign",label:"NotificationRedesign",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Notification Redesign Enabled",config:{enabled:!0}}]}),b=n(461061),_=n(861298),y=n(959797);function L(){return[{label:y.Z.Messages.MUTE_DURATION_15_MINUTES,value:_.Oe.MINUTES_15},{label:y.Z.Messages.MUTE_DURATION_1_HOUR,value:_.Oe.HOURS_1},{label:y.Z.Messages.MUTE_DURATION_3_HOURS,value:_.Oe.HOURS_3},{label:y.Z.Messages.MUTE_DURATION_8_HOURS,value:_.Oe.HOURS_8},{label:y.Z.Messages.MUTE_DURATION_24_HOURS,value:_.Oe.HOURS_24},{label:y.Z.Messages.MUTE_DURATION_ALWAYS,value:_.Oe.ALWAYS}]}
function j(e){return Object.keys(e).filter((function(t){return!(!(0,g.m)(e[t])&&e[t].message_notifications===b.bL.NULL)}))}var M=n(60392),C=n(356004),x=n(384995),R=n(105405),I=n(859023),T=n(487502),A=n(936531),Z=n.n(A);function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U(e){U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return U(e)}function w(e,t){return!t||"object"!==G(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function D(e,t){D=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return D(e,t)}var G=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function H(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{
Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=U(e);if(t){var s=U(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return w(this,n)}}var B=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&D(e,t)}(n,e);var t=H(n);function n(){P(this,n);var e;(e=t.apply(this,arguments)).state={highlight:!1};e.unhighlight=function(){e.setState({highlight:!1})};e.handleMute=function(t,n){var r=e.props.messageNotifications;e.setMessageNotification(null!=r?r:b.bL.NULL,n)};e.handleDelete=function(){var t=e.props,n=t.onDelete,r=t.channel;e.setMessageNotification(b.bL.NULL,!1);null!=n&&n(r.id)};return e}var s=n.prototype;s.highlight=function(){var e=this;this.setState({highlight:!0},(function(){
null!=e._timeout&&clearTimeout(e._timeout);e._timeout=setTimeout(e.unhighlight,1e3)}))};s.componentWillUnmount=function(){null!=this._timeout&&clearTimeout(this._timeout)};s.setMessageNotification=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.props.channel,r=n.getGuildId();null!=r&&f.Z.updateChannelOverrideSettings(r,n.id,{message_notifications:e,muted:t})};s.handleRadioChange=function(e){this.setMessageNotification(e)};s.renderMessageNotificationsRadioOption=function(e){var t=this.props,n=t.messageNotifications,s=t.guildMuted,i=t.muted,o=t.guildMessageNotifications,a=t.checkboxColor,l=n===e;null!=n&&n!==b.bL.NULL||e!==o||(l=!0);var c=h.XZ.Types.INVERTED;(i||n===b.bL.NULL||null==n)&&(c=h.XZ.Types.GHOST);return(0,r.jsx)(h.XZ,{value:!s&&l,disabled:s,shape:h.XZ.Shapes.ROUND,color:a,type:c,onChange:this.handleRadioChange.bind(this,e)})};s.renderName=function(){var e,t=this.props.channel;null!=t.parent_id&&(e=C.Z.getChannel(t.parent_id));var n,s=(0,
E.KS)(t);if(t.type===b.d4z.GUILD_CATEGORY&&null!=t.guild_id&&""!==t.guild_id){var i=x.Z.getCategories(t.guild_id);n=y.Z.Messages.NUM_CHANNELS.format({num:null!=i[t.id]?i[t.id].length:0})}else n=null!=e?y.Z.Messages.IN_CATEGORY.format({categoryName:(0,O.F6)(e,I.default,R.Z)}):y.Z.Messages.NO_CATEGORY;return(0,r.jsxs)(T.Z,{grow:1,className:Z().nameContainer,children:[null!=s?(0,r.jsx)(s,{className:Z().icon}):null,(0,r.jsxs)("div",{className:Z().channelNameContainer,children:[(0,r.jsx)(h.xv,{variant:"text-md/semibold",className:Z().channelName,children:(0,O.F6)(t,I.default,R.Z)}),(0,r.jsx)(h.xv,{variant:"text-xs/normal",className:Z().channelNameByline,children:n})]})]})};s.renderOptions=function(){var e=this.props,t=e.muted,n=e.guildMuted;return(0,r.jsxs)(T.Z,{grow:0,shrink:0,className:Z().checkboxGroup,justify:T.Z.Justify.AROUND,align:T.Z.Align.CENTER,children:[(0,r.jsx)(T.Z.Child,{wrap:!0,grow:0,shrink:0,className:n?Z().checkboxContainerMuted:Z().checkboxContainer,
children:this.renderMessageNotificationsRadioOption(b.bL.ALL_MESSAGES)}),(0,r.jsx)(T.Z.Child,{wrap:!0,grow:0,shrink:0,className:n?Z().checkboxContainerMuted:Z().checkboxContainer,children:this.renderMessageNotificationsRadioOption(b.bL.ONLY_MENTIONS)}),(0,r.jsx)(T.Z.Child,{wrap:!0,grow:0,shrink:0,className:n?Z().checkboxContainerMuted:Z().checkboxContainer,children:this.renderMessageNotificationsRadioOption(b.bL.NO_MESSAGES)}),(0,r.jsx)(T.Z.Child,{wrap:!0,grow:0,shrink:0,className:Z().checkboxMute,children:(0,r.jsx)(h.XZ,{value:t,shape:h.XZ.Shapes.BOX,type:h.XZ.Types.INVERTED,onChange:this.handleMute})})]})};s.render=function(){var e=this.state.highlight;return(0,r.jsxs)(h.Zb,{outline:!0,editable:!0,className:e?Z().overrideHighlight:Z().override,children:[this.renderName(),this.renderOptions(),(0,r.jsx)(M.Z,{className:Z().removeOverride,onClick:this.handleDelete})]})};return n}(s.PureComponent),F=n(53551),k=n(95350),Y=n(653772),V=n(390504),X=n(497762),z=n(67416),J=n(173436)
;function W(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function $(e){$=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return $(e)}function q(e,t){return!t||"object"!==ee(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Q(e,t){Q=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Q(e,t)}var ee=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function te(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1
}}();return function(){var n,r=$(e);if(t){var s=$(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return q(this,n)}}var ne={ALL:{suppressEveryone:!1,suppressAllRoleMentions:!1,notifyHighlights:b.gLR.ENABLED,mobilePushNotifications:b.bL.ALL_MESSAGES,inAppNotifications:b.bL.ALL_MESSAGES,serverUnreads:b.bL.ALL_MESSAGES,muteScheduledEvents:!1,muted:!1,muteConfig:void 0},ESSENTIALS:{suppressEveryone:!1,suppressAllRoleMentions:!1,notifyHighlights:b.gLR.ENABLED,mobilePushNotifications:b.bL.ONLY_MENTIONS,inAppNotifications:b.bL.ONLY_MENTIONS,serverUnreads:b.bL.ONLY_MENTIONS,muteScheduledEvents:!1,muted:!1,muteConfig:void 0},MUTED:{suppressEveryone:!0,suppressAllRoleMentions:!0,notifyHighlights:b.gLR.DISABLED,mobilePushNotifications:b.bL.NO_MESSAGES,inAppNotifications:b.bL.NO_MESSAGES,serverUnreads:b.bL.NO_MESSAGES,muteScheduledEvents:!0,muted:!0,muteConfig:{end_time:null}},CUSTOM:{suppressEveryone:!1,suppressAllRoleMentions:!1,notifyHighlights:b.gLR.ENABLED,
mobilePushNotifications:b.bL.ONLY_MENTIONS,inAppNotifications:b.bL.ONLY_MENTIONS,serverUnreads:b.bL.ONLY_MENTIONS,muteScheduledEvents:!1,muted:!1,muteConfig:void 0}},re=ne,se={},ie=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Q(e,t)}(n,e);var t=te(n);function n(){W(this,n);return t.apply(this,arguments)}var r=n.prototype;r.getState=function(){return{userNotificationProfiles:re,selectedProfiles:se}};r.initialize=function(e){null!=e&&(re=e.userNotificationProfiles)};r.getNotificationProfiles=function(){return re};r.getSelectedProfile=function(e,t,n){null==se[e]&&(se[e]=ae(t,n));return{selectedOption:se[e],profile:re[se[e]]}};r.__getLocalVars=function(){return{userNotificationProfiles:re,selectedProfiles:se,convertNotificationsProfileToNotificationSettings:oe,setNotificationProfile:le,
updateNotificationProfile:ce,instance:ue}};return n}(d.ZP.PersistedStore);ie.displayName="NotificationProfilesStore";ie.persistKey="NotificationProfilesStore";var oe=function(e){return{muted:e.muted,mute_config:e.muteConfig,message_notifications:e.serverUnreads,mobile_push:e.mobilePushNotifications!==b.bL.NO_MESSAGES,suppress_everyone:e.suppressEveryone,suppress_roles:e.suppressAllRoleMentions,mute_scheduled_events:e.muteScheduledEvents,notify_highlights:e.notifyHighlights}},ae=function(e,t){if(e.muted)return"MUTED";if(e.message_notifications===b.bL.ALL_MESSAGES)return"ALL";if(t){var n,r,s,i,o,a,l,c=(re=ne).CUSTOM.mobilePushNotifications;null===e.mobile_push||void 0===e.mobile_push||e.mobile_push||(c=b.bL.NO_MESSAGES);re.CUSTOM={muted:null!==(n=e.muted)&&void 0!==n?n:re.CUSTOM.muted,muteConfig:null!==(r=e.mute_config)&&void 0!==r?r:re.CUSTOM.muteConfig,serverUnreads:null!==(s=e.message_notifications)&&void 0!==s?s:re.CUSTOM.serverUnreads,mobilePushNotifications:c,
suppressEveryone:null!==(i=e.suppress_everyone)&&void 0!==i?i:re.CUSTOM.suppressEveryone,suppressAllRoleMentions:null!==(o=e.suppress_roles)&&void 0!==o?o:re.CUSTOM.suppressAllRoleMentions,muteScheduledEvents:null!==(a=e.mute_scheduled_events)&&void 0!==a?a:re.CUSTOM.muteScheduledEvents,notifyHighlights:null!==(l=e.notify_highlights)&&void 0!==l?l:re.CUSTOM.notifyHighlights,inAppNotifications:re.CUSTOM.inAppNotifications}}return"CUSTOM"},le=function(e){se[e.guildId]=e.profile;e.handleUpdate(e.guildId,oe(re[se[e.guildId]]))},ce=function(e){re[e.profile]=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){K(e,t,n[t])}))}return e}({},re[e.profile],e.updatedSettings);e.handleUpdate(e.guildId,oe(re[e.profile]))},ue=new ie(J.Z,{
GUILD_SET_NOTIFICATION_PROFILE:le,GUILD_UPDATE_NOTIFICATION_PROFILE:ce});const de=ue;var he=n(757987),fe=n(81335),ge=n(90816),pe=n(666812),Oe=n.n(pe);function Ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Se(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function me(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function ve(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i=[],o=!0,a=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){a=!0;s=e}finally{try{o||null==n.return||n.return()}finally{if(a)throw s}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ee(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ne=function(e){var t=C.Z.getChannel(e.value);if(null==t)return e.label;var n=C.Z.getChannel(t.parent_id),s=null!=n?n.name:null;return(0,r.jsx)(fe.Z,{icon:(0,E.KS)(t),title:e.label,subtitle:s})}
;function be(e){var t=e.channelOverrides,n=e.guildMuted,i=e.channels,a=e.messageNotifications,l=e.categories,c=ve(s.useState(new Set(j(t))),2),u=c[0],d=c[1],f=function(e){var t=new Set(u);t.delete(e);d(t)},p=(0,S.Sl)(b.Ilk.GREEN_360).hex,E=o()(i).filter((function(e){var t=e.channel;return t.type!==b.d4z.GUILD_CATEGORY||null!=l[t.id]&&l[t.id].length>0})).map((function(e){var t=e.channel;return{value:t.id,label:(0,O.F6)(t,I.default,R.Z)}})).value(),m=i.map((function(e){var s=e.channel;if(!u.has(s.id)||null!=l[s.id]&&0===l[s.id].length)return null;var i=t[s.id];return(0,r.jsx)(B,{channel:s,guildMuted:n,muted:null!=i&&(0,g.m)(i),messageNotifications:null!=i?i.message_notifications:null,guildMessageNotifications:a,onDelete:f,checkboxColor:p},s.id)})).filter(ge.lm);0!==u.size&&0!==m.length||m.push((0,r.jsx)("div",{className:Oe().overridePlaceholder,children:(0,r.jsx)(h.xv,{className:Oe().overrideHeader,variant:"text-sm/semibold",children:y.Z.Messages.ADD_CHANNEL_TO_OVERRIDE})
},"placeholder"));return(0,r.jsxs)("div",{className:Oe().container,children:[(0,r.jsxs)(h.xJ,{title:y.Z.Messages.NOTIFICATION_OVERRIDES,className:Oe().largeSpacing,children:[(0,r.jsx)(h.R9,{type:h.R9.Types.DESCRIPTION,className:Oe().smallSpacing,children:y.Z.Messages.ADD_CHANNEL_TO_OVERRIDE}),(0,r.jsx)(h.Vc,{value:"",placeholder:y.Z.Messages.SELECT_CHANNEL_OR_CATEGORY,renderOptionLabel:Ne,options:E,onChange:function(e){if(null!=e){var t=new Set(u);t.add(e);d(t)}}})]}),(0,r.jsxs)("div",{className:Oe().overrideList,children:[(0,r.jsxs)(T.Z,{children:[(0,r.jsx)(h.X6,{variant:"eyebrow",className:Oe().headerName,children:y.Z.Messages.CHANNEL_OR_CATEGORY}),(0,r.jsx)(h.X6,{variant:"eyebrow",className:Oe().headerOption,children:y.Z.Messages.FORM_LABEL_ALL}),(0,r.jsx)(h.X6,{variant:"eyebrow",className:Oe().headerOption,children:y.Z.Messages.FORM_LABEL_MENTIONS}),(0,r.jsx)(h.X6,{variant:"eyebrow",className:Oe().headerOption,children:y.Z.Messages.FORM_LABEL_NOTHING}),(0,r.jsx)(h.X6,{
variant:"eyebrow",className:Oe().headerOption,children:(0,r.jsx)(he.ZP,{text:y.Z.Messages.FORM_LABEL_MUTE_SERVER_DESCRIPTION,position:he.ZP.Positions.BOTTOM,children:function(e){return(0,r.jsx)("span",me(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Se(e,t,n[t])}))}return e}({},e),{children:y.Z.Messages.SOUND_MUTE}))}})})]}),m]})]})}var _e=n(946596),ye=n(680977),Le=n(240243);function je(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Me(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
;t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Ce(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(s[n]=e[n])}return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}}return s}function xe(e){var t=e.width,n=void 0===t?16:t,s=e.height,i=void 0===s?16:s,o=e.color,a=void 0===o?"currentColor":o,l=Ce(e,["width","height","color"]);return(0,r.jsxs)("svg",Me(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){je(e,t,n[t])}))}return e}({},(0,Le.Z)(l)),{width:n,height:i,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsxs)("g",{"clip-path":"url(#clip0_3523_134157)",children:[(0,r.jsx)("path",{
d:"M22.2856 1.81423L23.7697 2.6283C23.8391 2.66388 23.8973 2.71794 23.9379 2.78452C23.9785 2.8511 24 2.92762 24 3.00565C24 3.08369 23.9785 3.16021 23.9379 3.22679C23.8973 3.29337 23.8391 3.34743 23.7697 3.38301L22.2856 4.18577C22.2402 4.21036 22.2029 4.24769 22.1784 4.29318L21.3657 5.77999C21.3292 5.8466 21.2755 5.90217 21.2103 5.94087C21.145 5.97958 21.0705 6 20.9947 6C20.9188 6 20.8444 5.97958 20.7791 5.94087C20.7138 5.90217 20.6601 5.8466 20.6236 5.77999L19.811 4.29318C19.7869 4.24903 19.7507 4.21273 19.7066 4.1886L18.2196 3.37453C18.1531 3.33797 18.0977 3.28418 18.059 3.21879C18.0204 3.1534 18 3.07881 18 3.00283C18 2.92684 18.0204 2.85225 18.059 2.78686C18.0977 2.72147 18.1531 2.66768 18.2196 2.63112L19.7038 1.81706C19.7486 1.79172 19.7857 1.75458 19.811 1.70964L20.6265 0.220011C20.663 0.153397 20.7166 0.0978302 20.7819 0.0591255C20.8472 0.0204207 20.9216 0 20.9975 0C21.0734 0 21.1478 0.0204207 21.2131 0.0591255C21.2784 0.0978302 21.3321 0.153397 21.3685 0.220011L22.1812 1.70682C22.2057 1.75138 22.2418 1.78849 22.2856 1.81423Z",
fill:a}),(0,r.jsx)("path",{
d:"M14.9888 9.50624L18.7402 11.5593C18.8189 11.6025 18.8845 11.666 18.9302 11.7433C18.9759 11.8205 19 11.9086 19 11.9983C19 12.0881 18.9759 12.1762 18.9302 12.2534C18.8845 12.3306 18.8189 12.3941 18.7402 12.4373L14.9855 14.4904C14.7769 14.6044 14.6055 14.7759 14.4915 14.9845L12.4389 18.7402C12.3957 18.8188 12.3322 18.8845 12.255 18.9302C12.1778 18.9759 12.0897 19 12 19C11.9103 19 11.8222 18.9759 11.745 18.9302C11.6678 18.8845 11.6043 18.8188 11.5611 18.7402L9.50851 14.9845C9.39437 14.776 9.22297 14.6046 9.01454 14.4904L5.25978 12.4373C5.18112 12.3941 5.11551 12.3306 5.06981 12.2534C5.02411 12.1762 5 12.0881 5 11.9983C5 11.9086 5.02411 11.8205 5.06981 11.7433C5.11551 11.666 5.18112 11.6025 5.25978 11.5593L9.01454 9.49289C9.22319 9.37903 9.39467 9.20751 9.50851 8.99881L11.5644 5.25984C11.6076 5.18117 11.6711 5.11554 11.7483 5.06983C11.8255 5.02412 11.9136 5 12.0033 5C12.0931 5 12.1811 5.02412 12.2583 5.06983C12.3356 5.11554 12.3991 5.18117 12.4422 5.25984L14.4948 8.99881C14.6066 9.21244 14.7783 9.3888 14.9888 9.50624Z",
fill:a})]}),(0,r.jsx)("defs",{children:(0,r.jsx)("clipPath",{id:"clip0_3523_134157",children:(0,r.jsx)("rect",{width:"24",height:"24",fill:a})})})]}))}var Re,Ie=n(740435),Te=n(294184),Ae=n.n(Te),Ze=n(601465);!function(e){e.MUTED="muted";e.SERVER_UNREADS="serverUnreads";e.SUPPRESS_EVERYONE="suppressEveryone";e.SUPPRESS_ROLES="suppressAllRoleMentions";e.MOBILE_PUSH="mobilePushNotifications";e.MUTE_EVENTS="muteScheduledEvents";e.NOTIFY_HIGHLIGHTS="notifyHighlights";e.MUTE_CONFIG="muteConfig"}(Re||(Re={}));var Pe=n(925714),Ue=n.n(Pe);function we(e){var t=e.guild,n=e.suppressEveryone,i=e.suppressRoles,o=e.mobilePush,a=e.serverUnreads,l=e.notifyHighlights,c=s.useMemo((function(){return[{value:b.bL.ALL_MESSAGES,label:y.Z.Messages.USER_UNREADS_ALL_MESSAGES},{value:b.bL.ONLY_MENTIONS,label:y.Z.Messages.USER_UNREADS_MENTIONS_AND_HIGHLIGHTS},{value:b.bL.NO_MESSAGES,label:y.Z.Messages.USER_UNREADS_NULL}]}),[]);return(0,r.jsx)("div",{className:Ae()(Ue().largeSpacing,Ue().container),children:(0,
r.jsxs)(h.xJ,{children:[(0,r.jsxs)("div",{className:Ue().dropDownContainer,children:[(0,r.jsx)(h.xv,{variant:"text-md/medium",children:y.Z.Messages.MOBILE_PUSH}),(0,r.jsx)(Ze.Z,{value:o,className:Ue().dropDown,options:c,onChange:function(e){f.Z.handleSelectChange("CUSTOM",Re.MOBILE_PUSH,e.value,t)}})]}),(0,r.jsxs)("div",{className:Ue().dropDownContainer,children:[(0,r.jsxs)(h.xv,{variant:"text-md/medium",children:[" ",y.Z.Messages.SERVER_UNREADS]}),(0,r.jsx)(Ze.Z,{value:a,className:Ue().dropDown,options:c,onChange:function(e){f.Z.handleSelectChange("CUSTOM",Re.SERVER_UNREADS,e.value,t)}})]}),(0,r.jsx)(h.j7,{className:Ue().switchItemContainer,onChange:function(e){return f.Z.handleCheckboxChange("CUSTOM",Re.SUPPRESS_EVERYONE,!e,t)},hideBorder:!0,value:!n,children:y.Z.Messages.NOTIFY_AT_EVERYONE}),(0,r.jsx)(h.j7,{className:Ue().switchItemContainer,onChange:function(e){return f.Z.handleCheckboxChange("CUSTOM",Re.SUPPRESS_ROLES,!e,t)},hideBorder:!0,value:!i,
children:y.Z.Messages.NOTIFY_ROLES}),(0,r.jsx)(h.j7,{className:Ue().switchItemContainer,onChange:function(e){return f.Z.handleHighlightsChange("CUSTOM",e?b.gLR.ENABLED:b.gLR.DISABLED,t)},hideBorder:!0,value:l===b.gLR.ENABLED,children:y.Z.Messages.NOTIFY_HIGHLIGHTS}),(0,r.jsx)(h.xv,{className:Ue().highlightsText,variant:"text-xs/normal",children:y.Z.Messages.NOTIFY_HIGHLIGHTS_DESC})]})})}var De=n(969225),Ge=n(254580),He=n(375650),Be=n(255061),Fe=n.n(Be);function ke(e){var t=e.setting,n=e.guild,s=function(e){switch(e){case b.bL.ALL_MESSAGES:return y.Z.Messages.USER_UNREADS_ALL_MESSAGES;case b.bL.ONLY_MENTIONS:return y.Z.Messages.USER_UNREADS_MENTIONS_AND_HIGHLIGHTS;case b.bL.NO_MESSAGES:return y.Z.Messages.USER_UNREADS_NULL}}(t),i=(0,S.Sl)(He.Il.WHITE_500).hex;return(0,r.jsxs)("div",{className:Fe().container,children:[(0,r.jsxs)("div",{className:Fe().settingContainer,children:[(0,r.jsxs)("div",{className:Fe().guildIconContainer,children:[t!==b.bL.NO_MESSAGES&&(0,r.jsx)("div",{
className:Fe().semiCircle}),(0,r.jsx)(De.Z,{guild:n,size:De.Z.Sizes.SMALLER})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(h.xv,{variant:"text-xs/normal",children:y.Z.Messages.SERVER_UNREAD_BADGE}),(0,r.jsx)(h.xv,{variant:"text-sm/medium",children:s})]})]}),(0,r.jsxs)("div",{className:Fe().settingContainer,children:[(0,r.jsxs)("div",{className:Fe().discordIconContainer,children:[(0,r.jsx)(Ge.Z,{width:24,height:24,color:i}),t!==b.bL.NO_MESSAGES&&(0,r.jsx)("div",{className:Fe().notificationBadge,children:(0,r.jsx)(h.xv,{className:Fe().messageCount,variant:"text-xs/bold",children:"3"})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(h.xv,{variant:"text-xs/normal",children:y.Z.Messages.MOBILE_PUSH}),(0,r.jsx)(h.xv,{variant:"text-sm/medium",children:s})]})]})]})}function Ye(e){var t=e.guild,n=e.suppressEveryone,s=e.suppressRoles,i=e.notifyHighlights;return(0,r.jsxs)("div",{className:Ue().container,children:[(0,r.jsx)(ke,{setting:b.bL.ONLY_MENTIONS,guild:t}),(0,r.jsx)("div",{className:Ue().divider
}),(0,r.jsx)("div",{className:Ue().largeSpacing,children:(0,r.jsxs)(h.xJ,{children:[(0,r.jsx)(h.j7,{onChange:function(e){return f.Z.handleCheckboxChange("ESSENTIALS",Re.SUPPRESS_EVERYONE,!e,t)},hideBorder:!0,value:!n,children:y.Z.Messages.NOTIFY_AT_EVERYONE}),(0,r.jsx)(h.j7,{onChange:function(e){return f.Z.handleCheckboxChange("ESSENTIALS",Re.SUPPRESS_ROLES,!e,t)},hideBorder:!0,value:!s,children:y.Z.Messages.NOTIFY_ROLES}),(0,r.jsx)(h.j7,{className:Ue().switchItemContainer,onChange:function(e){return f.Z.handleHighlightsChange("ESSENTIALS",e?b.gLR.ENABLED:b.gLR.DISABLED,t)},hideBorder:!0,value:i===b.gLR.ENABLED,children:y.Z.Messages.NOTIFY_HIGHLIGHTS}),(0,r.jsx)(h.xv,{className:Ue().highlightsText,variant:"text-xs/normal",children:y.Z.Messages.NOTIFY_HIGHLIGHTS_DESC})]})})]})}function Ve(e){var t,n=e.guild,s=e.muteConfig,i=null!==(t=null==s?void 0:s.selected_time_window)&&void 0!==t?t:_.Oe.ALWAYS;return(0,r.jsxs)("div",{className:Ue().container,children:[(0,r.jsx)(ke,{
setting:b.bL.NO_MESSAGES,guild:n}),(0,r.jsx)("div",{className:Ue().divider}),(0,r.jsx)("div",{className:Ue().largeSpacing,children:(0,r.jsx)(h.xJ,{children:(0,r.jsxs)("div",{className:Ue().dropDownContainer,children:[(0,r.jsxs)(h.xv,{variant:"text-md/medium",children:[" ",y.Z.Messages.MUTE_DURATION]}),(0,r.jsx)(Ze.Z,{value:i,className:Ue().dropDown,options:L(),onChange:function(e){f.Z.handleMuteConfigChange(Re.MUTE_CONFIG,e.value,n)}})]})})})]})}var Xe=n(21053),ze=n.n(Xe);function Je(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function We(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){
Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Ke(e){var t=e.selectedProfile,n=e.userNotificationProfiles,s=e.guild,i=Object.entries(n);if(null==s)return null;var o=i.map((function(e){var t=e[0],n=e[1],i=function(e){switch(e){case"ALL":return{name:y.Z.Messages.ALL_PROFILE_TITLE,desc:y.Z.Messages.ALL_PROFILE_DESC,icon:_e.Z};case"ESSENTIALS":return{name:y.Z.Messages.ESSENTIALS_PROFILE_TITLE,desc:y.Z.Messages.ESSENTIALS_PROFILE_DESC,icon:xe};case"MUTED":return{name:y.Z.Messages.MUTED_PROFILE_NAME,desc:y.Z.Messages.MUTED_PROFILE_DESC,icon:ye.Z};case"CUSTOM":return{name:y.Z.Messages.CUSTOM_PROFILE_NAME,desc:y.Z.Messages.CUSTOM_PROFILE_DESC,icon:Ie.Z}}}(t),o=function(e,t,n){switch(e){case"ALL":return(0,r.jsx)(ke,{setting:b.bL.ALL_MESSAGES,guild:n});case"ESSENTIALS":return(0,r.jsx)(Ye,{guild:n,suppressEveryone:t.suppressEveryone,suppressRoles:t.suppressAllRoleMentions,notifyHighlights:t.notifyHighlights});case"MUTED":return(0,r.jsx)(Ve,{guild:n,
muteConfig:t.muteConfig});case"CUSTOM":return(0,r.jsx)(we,{guild:n,suppressEveryone:t.suppressEveryone,suppressRoles:t.suppressAllRoleMentions,mobilePush:t.mobilePushNotifications,serverUnreads:t.serverUnreads,notifyHighlights:t.notifyHighlights})}}(t,n,s);return We(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Je(e,t,n[t])}))}return e}({},i),{value:t,radioItemIconClassName:ze().radioIcon,collapsibleContent:o})}));return(0,r.jsx)(h.Ee,{options:o,value:t,onChange:function(e){f.Z.handleProfileChange(e,s)},radioItemClassName:ze().radioItem})}var $e=n(704166),qe=n.n($e);function Qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function et(e,t,n){t in e?Object.defineProperty(e,t,{value:n,
enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function tt(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(s[n]=e[n])}return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}}return s}function nt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i=[],o=!0,a=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){a=!0;s=e}finally{try{o||null==n.return||n.return()}finally{if(a)throw s}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Qe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var rt=function(e){var t,n=e.guildId,i=e.guild,o=e.muted,a=e.muteConfig,l=e.messageNotifications,c=e.mobilePush,u=e.suppressEveryone,f=e.suppressRoles,g=e.notifyHighlights,p=e.muteEvents,O=e.channelOverrides,E=e.categories,S=e.channels,m=e.transitionState,v=e.onClose,N=nt(s.useState("SERVER_NOTIFICATIONS"),2),b=N[0],_=N[1],L=(0,d.cj)([de],(function(){return{userNotificationProfiles:de.getNotificationProfiles(),selectedProfile:de.getSelectedProfile(n,{muted:o,mute_config:a,message_notifications:l,mobile_push:c,suppress_everyone:u,suppress_roles:f,notify_highlights:g},!0)}}),[]),j=L.userNotificationProfiles,M=L.selectedProfile;if(null==i||null==j||null==M)return null;switch(b){
case"SERVER_NOTIFICATIONS":t=(0,r.jsx)(Ke,{guildId:n,guild:i,muted:o,muteConfig:a,messageNotifications:l,mobilePush:c,suppressEveryone:u,suppressRoles:f,selectedProfile:M.selectedOption,userNotificationProfiles:j,muteEvents:p});break;case"CHANNEL_OVERRIDES":t=(0,r.jsx)(be,{guildMuted:o,messageNotifications:l,channelOverrides:O,categories:E,channels:S})}return(0,r.jsxs)(z.Y0,{className:qe().modal,"aria-label":y.Z.Messages.NOTIFICATION_SETTINGS,size:z.Cg.MEDIUM,transitionState:m,children:[(0,r.jsxs)(z.xB,{children:[(0,r.jsxs)(T.Z.Child,{children:[(0,r.jsx)(h.X6,{variant:"heading-lg/semibold",children:y.Z.Messages.NOTIFICATION_SETTINGS}),(0,r.jsx)(h.xv,{className:qe().subtitleText,variant:"text-xs/normal",children:i.name})]}),(0,r.jsx)(T.Z.Child,{grow:0,children:(0,r.jsx)(z.ol,{onClick:v})})]}),(0,r.jsxs)(z.hz,{className:qe().content,children:[(0,r.jsxs)(X.ZP,{className:qe().tabBar,type:X.ZP.Types.TOP,look:X.ZP.Looks.BRAND,selectedItem:b,onItemSelect:_,children:[(0,r.jsx)(X.ZP.Item,{
className:qe().tabBarItem,id:"SERVER_NOTIFICATIONS",children:y.Z.Messages.SERVER_NOTIFICATIONS_TAB},"SERVER_NOTIFICATIONS"),(0,r.jsx)(X.ZP.Item,{className:qe().tabBarItem,id:"CHANNEL_OVERRIDES",children:y.Z.Messages.CHANNEL_OVERRIDES_TAB},"CHANNEL_OVERRIDES")]}),t]})]})};function st(e){var t=e.guildId,n=tt(e,["guildId"]),s=(0,v.RX)(),i=(0,d.cj)([x.Z,Y.Z,k.Z,V.Z],(function(){var e=x.Z.getCategories(t);return{guildId:t,categories:e,guild:Y.Z.getGuild(t),memberCount:k.Z.getMemberCount(t),suppressEveryone:V.Z.isSuppressEveryoneEnabled(t),suppressRoles:V.Z.isSuppressRolesEnabled(t),muteEvents:V.Z.isMuteScheduledEventsEnabled(t),mobilePush:V.Z.isMobilePushEnabled(t),muted:V.Z.isMuted(t),muteConfig:V.Z.getMuteConfig(t),messageNotifications:V.Z.getMessageNotifications(t),channelOverrides:V.Z.getChannelOverrides(t),channels:(0,p.Z)(e._categories,e,(function(e){var t=e.channel.type;return(0,F.r8)(t)||t===b.d4z.GUILD_CATEGORY})),notifyHighlights:V.Z.getNotifyHighlights(t),showUnreadsSettings:s,
isGuildUnreadsEnabled:V.Z.isGuildUnreadSettingEnabled(t)}}));return(0,r.jsx)(rt,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){et(e,t,n[t])}))}return e}({},i,n))}var it=n(893673),ot=n(226300),at=n(95467);function lt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ct(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ut(e){ut=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return ut(e)}function dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ct(e,t,n[t])}))}return e}function ht(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function ft(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(s[n]=e[n])}return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r]
;t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}}return s}function gt(e,t){return!t||"object"!==Et(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function pt(e,t){pt=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return pt(e,t)}var Ot,Et=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function St(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=ut(e);if(t){var s=ut(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return gt(this,n)}}!function(e){e.MUTED="muted";e.MESSAGE_NOTIFICATIONS="message_notifications"
;e.SUPPRESS_EVERYONE="suppress_everyone";e.SUPPRESS_ROLES="suppress_roles";e.MOBILE_PUSH="mobile_push";e.MUTE_EVENTS="mute_scheduled_events";e.NOTIFY_HIGHLIGHTS="notify_highlights"}(Ot||(Ot={}));function mt(e){return[{name:y.Z.Messages.FORM_LABEL_ALL_MESSAGES,value:b.bL.ALL_MESSAGES,desc:null!=e&&e>=b.qWG?y.Z.Messages.LARGE_GUILD_NOTIFY_ALL_MESSAGES_DESCRIPTION:null},{name:y.Z.Messages.FORM_LABEL_ONLY_MENTIONS.format(),value:b.bL.ONLY_MENTIONS},{name:y.Z.Messages.FORM_LABEL_NOTHING,value:b.bL.NO_MESSAGES}]}var vt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&pt(e,t)}(n,e);var t=St(n);function n(){lt(this,n);var e;(e=t.apply(this,arguments))._scroller=null;e._channelRefs={};e.state={overrides:new Set(j(e.props.channelOverrides)),channelOverridesProp:e.props.channelOverrides,lastSelected:null}
;e.setScrollerRef=function(t){e._scroller=t};e.handleSelectChange=function(t){if(null!=t){var n=e.state.overrides;(n=new Set(n)).add(t);e.setState({overrides:n,lastSelected:t})}};e.handleSelectMuteTime=function(t){var n=t>0?l()().add(t,"second").toISOString():null;f.Z.updateGuildNotificationSettings(e.props.guildId,{muted:!0,mute_config:{selected_time_window:t,end_time:n}})};e.handleDeleteOverride=function(t){var n=e.state.overrides;(n=new Set(n)).delete(t);e.setState({overrides:n})};e.renderOptionLabel=function(e){var t=C.Z.getChannel(e.value);if(null==t)return e.label;var n=C.Z.getChannel(t.parent_id),s=null!=n?n.name:null;return(0,r.jsx)(fe.Z,{icon:(0,E.KS)(t),title:e.label,subtitle:s})};return e}var s=n.prototype;s.componentDidUpdate=function(e,t){var n=this,r=this.state.lastSelected,s=null!=r?this._channelRefs[r]:null;if(null!=this._scroller&&null!=s&&r!==t.lastSelected){var i=(0,c.findDOMNode)(s);if(null!=this._scroller&&(0,u.k)(i,HTMLElement)){var o
;null===(o=this._scroller)||void 0===o||o.scrollIntoViewNode({node:i,animate:!0,padding:20,callback:function(){return n.setState({lastSelected:null})}});s.highlight()}}if(this.props.channelOverrides!==e.channelOverrides){var a=this.state.overrides;a=new Set(a);j(this.props.channelOverrides).forEach((function(e){return a.add(e)}));this.setState({overrides:a})}};s.handleCheckboxChange=function(e,t){f.Z.updateGuildNotificationSettings(this.props.guildId,ct({},e,t))};s.handleRadioChange=function(e,t){var n=t.value;f.Z.updateGuildNotificationSettings(this.props.guildId,ct({},e,n))};s.renderHeader=function(){var e=this.props.guild;return null==e?null:(0,r.jsxs)(z.xB,{children:[(0,r.jsxs)(T.Z.Child,{children:[(0,r.jsx)(h.X6,{variant:"heading-lg/semibold",children:y.Z.Messages.NOTIFICATION_SETTINGS}),(0,r.jsx)(h.xv,{variant:"text-md/normal",className:Z().guildName,children:e.name})]}),(0,r.jsx)(T.Z.Child,{grow:0,children:(0,r.jsx)(z.ol,{onClick:this.props.onClose})})]})}
;s.renderFooter=function(){return(0,r.jsx)(z.mz,{children:(0,r.jsx)(h.zx,{onClick:this.props.onClose,children:y.Z.Messages.DONE})})};s.renderMute=function(){var e,t=this.props,n=t.muted,s=t.muteConfig,i=t.guild,o=null!==(e=null==s?void 0:s.selected_time_window)&&void 0!==e?e:_.Oe.ALWAYS;return null==i?null:(0,r.jsxs)(h.xJ,{className:Z().largeSpacing,children:[(0,r.jsx)(h.j7,{hideBorder:!0,value:n,onChange:this.handleCheckboxChange.bind(this,Ot.MUTED),note:y.Z.Messages.FORM_LABEL_MUTE_SERVER_DESCRIPTION,children:y.Z.Messages.FORM_LABEL_MUTE_SERVER.format({name:i.name})}),n?(0,r.jsxs)(T.Z,{className:Z().spacing,align:T.Z.Align.CENTER,children:[(0,r.jsxs)(T.Z,{direction:T.Z.Direction.VERTICAL,className:Z().muteUntilTextWrapper,children:[(0,r.jsx)(h.vw,{tag:"h3",className:Z().muteUntilTitle,children:y.Z.Messages.MUTE_UNTIL}),(0,r.jsx)(it.Z,{className:Z().muteUntilText,muteConfig:s})]}),(0,r.jsx)(h.q4,{className:Z().muteTimeSelector,options:L(),value:o,onChange:this.handleSelectMuteTime})]
}):null,(0,r.jsx)(h.$i,{})]})};s.renderServerSettings=function(){var e=this.props,t=e.messageNotifications,n=e.muted,s=e.memberCount;return(0,r.jsxs)("div",{className:Z().spacing,children:[(0,r.jsx)(h.xJ,{title:y.Z.Messages.FORM_LABEL_SERVER_NOTIFICATION_SETTINGS,className:Z().largeSpacing,children:(0,r.jsx)(h.Ee,{disabled:n,value:t,onChange:this.handleRadioChange.bind(this,Ot.MESSAGE_NOTIFICATIONS),options:mt(s)})}),(0,r.jsx)(h.$i,{})]})};s.renderUnreadsOptions=function(){var e=this.props,t=e.isGuildUnreadsEnabled,n=e.muted,s=e.guildId;return(0,r.jsx)(h.xJ,{children:(0,r.jsx)(h.j7,{onChange:function(e){(0,m.EQ)(s,e)},value:!n&&t,disabled:n,note:(0,r.jsx)(h.xv,{variant:"text-sm/normal",children:y.Z.Messages.FORM_LABEL_UNREAD_SETTINGS_OPT_IN_NOTE}),children:(0,r.jsxs)(r.Fragment,{children:[y.Z.Messages.FORM_LABEL_UNREAD_SETTINGS_OPT_IN,(0,r.jsx)(ot.IG,{text:y.Z.Messages.BETA,color:(0,S.Lq)(b.Ilk.BRAND_500),className:Z().betaTag})]})})})};s.renderNotificationOptions=function(){
var e=this.props,t=e.suppressEveryone,n=e.suppressRoles,s=e.mobilePush,i=e.muted,o=e.muteEvents,a=e.notifyHighlights,l=e.guildId;return(0,r.jsxs)(h.xJ,{className:Z().largeSpacing,children:[(0,r.jsx)(h.j7,{onChange:this.handleCheckboxChange.bind(this,Ot.SUPPRESS_EVERYONE),value:t,children:y.Z.Messages.FORM_LABEL_SUPPRESS_EVERYONE.format()}),(0,r.jsx)(h.j7,{onChange:this.handleCheckboxChange.bind(this,Ot.SUPPRESS_ROLES),value:n,children:y.Z.Messages.FORM_LABEL_SUPPRESS_ROLES}),(0,r.jsx)(h.j7,{onChange:function(e){f.Z.updateGuildNotificationSettings(l,ct({},Ot.NOTIFY_HIGHLIGHTS,e?b.gLR.DISABLED:b.gLR.ENABLED))},value:i||a===b.gLR.DISABLED,disabled:i,note:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(h.xv,{variant:"text-sm/normal",children:y.Z.Messages.FORM_LABEL_SUPPRESS_HIGHLIGHTS_NOTE}),(0,r.jsx)("div",{className:Z().highlightsLink,children:(0,r.jsx)(h.ee,{href:at.Z.getArticleURL(b.BhN.HIGHLIGHTS),children:y.Z.Messages.HIGHLIGHTS_LEARN_MORE})})]}),children:(0,r.jsx)(r.Fragment,{
children:y.Z.Messages.FORM_LABEL_SUPPRESS_HIGHLIGHTS})}),(0,r.jsx)(h.j7,{value:o,onChange:this.handleCheckboxChange.bind(this,Ot.MUTE_EVENTS),children:y.Z.Messages.FORM_LABEL_MUTE_SCHEDULED_EVENTS}),(0,r.jsx)(h.j7,{value:!i&&s,disabled:i,onChange:this.handleCheckboxChange.bind(this,Ot.MOBILE_PUSH),children:y.Z.Messages.FORM_LABEL_MOBILE_PUSH_NOTIFICATIONS})]})};s.renderOverrideSelect=function(){var e=this.props,t=e.channels,n=e.categories,s=o()(t).filter((function(e){var t=e.channel;return t.type!==b.d4z.GUILD_CATEGORY||null!=n[t.id]&&n[t.id].length>0})).map((function(e){var t=e.channel;return{value:t.id,label:(0,O.F6)(t,I.default,R.Z)}})).value();return(0,r.jsxs)(h.xJ,{title:y.Z.Messages.NOTIFICATION_OVERRIDES,className:Z().largeSpacing,children:[(0,r.jsx)(h.R9,{type:h.R9.Types.DESCRIPTION,className:Z().smallSpacing,children:y.Z.Messages.ADD_CHANNEL_TO_OVERRIDE}),(0,r.jsx)(h.Vc,{value:"",placeholder:y.Z.Messages.SELECT_CHANNEL_OR_CATEGORY,renderOptionLabel:this.renderOptionLabel,
options:s,onChange:this.handleSelectChange})]})};s.renderChannelNotifications=function(){var e=this,t=this.props,n=t.channelOverrides,s=t.muted,i=t.channels,o=t.messageNotifications,a=t.categories,l=t.checkboxColor,c=this.state.overrides,u=i.map((function(t){var i=t.channel;if(!c.has(i.id)||null!=a[i.id]&&0===a[i.id].length)return null;var u=n[i.id];return(0,r.jsx)(B,{ref:function(t){e._channelRefs[i.id]=t},channel:i,guildMuted:s,muted:null!=u&&(0,g.m)(u),messageNotifications:null!=u?u.message_notifications:null,guildMessageNotifications:o,onDelete:e.handleDeleteOverride,checkboxColor:l},i.id)})).filter(ge.lm);0!==c.size&&0!==u.length||u.push((0,r.jsx)("div",{className:Z().overridePlaceholder,children:(0,r.jsx)(h.xv,{className:Z().overrideHeader,variant:"text-sm/semibold",children:y.Z.Messages.ADD_CHANNEL_TO_OVERRIDE})},"placeholder"));return(0,r.jsxs)("div",{className:Z().overrideList,children:[(0,r.jsxs)(T.Z,{children:[(0,r.jsx)(h.X6,{variant:"eyebrow",className:Z().headerName,
children:y.Z.Messages.CHANNEL_OR_CATEGORY}),(0,r.jsx)(h.X6,{variant:"eyebrow",className:Z().headerOption,children:y.Z.Messages.FORM_LABEL_ALL}),(0,r.jsx)(h.X6,{variant:"eyebrow",className:Z().headerOption,children:y.Z.Messages.FORM_LABEL_MENTIONS}),(0,r.jsx)(h.X6,{variant:"eyebrow",className:Z().headerOption,children:y.Z.Messages.FORM_LABEL_NOTHING}),(0,r.jsx)(h.X6,{variant:"eyebrow",className:Z().headerOption,children:(0,r.jsx)(he.ZP,{text:y.Z.Messages.FORM_LABEL_MUTE_SERVER_DESCRIPTION,position:he.ZP.Positions.BOTTOM,children:function(e){return(0,r.jsx)("span",ht(dt({},e),{children:y.Z.Messages.SOUND_MUTE}))}})})]}),u]})};s.render=function(){var e=this.props.showUnreadsSettings;return(0,r.jsxs)(z.Y0,{"aria-label":y.Z.Messages.NOTIFICATION_SETTINGS,size:z.Cg.MEDIUM,transitionState:this.props.transitionState,children:[this.renderHeader(),(0,r.jsxs)(z.hz,{scrollerRef:this.setScrollerRef,
children:[this.renderMute(),this.renderServerSettings(),e&&this.renderUnreadsOptions(),this.renderNotificationOptions(),this.renderOverrideSelect(),this.renderChannelNotifications()]}),this.renderFooter()]})};n.getDerivedStateFromProps=function(e,t){var n=t.overrides,r=t.channelOverridesProp;if(e.channelOverrides!==r){n=new Set(n);j(e.channelOverrides).forEach((function(e){return n.add(e)}));return{overrides:n,channelOverridesProp:e.channelOverrides}}return null};return n}(s.PureComponent);function Nt(e){var t=e.guildId,n=ft(e,["guildId"]),s=(0,v.RX)(),i=N.useExperiment({},{autoTrackExposure:!0}).enabled,o=(0,d.cj)([x.Z,Y.Z,k.Z,V.Z],(function(){var e=x.Z.getCategories(t);return{guildId:t,categories:e,guild:Y.Z.getGuild(t),memberCount:k.Z.getMemberCount(t),suppressEveryone:V.Z.isSuppressEveryoneEnabled(t),suppressRoles:V.Z.isSuppressRolesEnabled(t),muteEvents:V.Z.isMuteScheduledEventsEnabled(t),mobilePush:V.Z.isMobilePushEnabled(t),muted:V.Z.isMuted(t),muteConfig:V.Z.getMuteConfig(t),
messageNotifications:V.Z.getMessageNotifications(t),channelOverrides:V.Z.getChannelOverrides(t),channels:(0,p.Z)(e._categories,e,(function(e){var t=e.channel.type;return(0,F.r8)(t)||t===b.d4z.GUILD_CATEGORY})),notifyHighlights:V.Z.getNotifyHighlights(t),showUnreadsSettings:s,isGuildUnreadsEnabled:V.Z.isGuildUnreadSettingEnabled(t)}})),a=(0,S.Sl)(b.Ilk.GREEN_360).hex,l=i?st:vt;return(0,r.jsx)(l,ht(dt({},o,n),{checkboxColor:a}))}}}]);
//# sourceMappingURL=b8adbc1be2013bfcdca9.js.map