"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[46955,96378,4660],{797776:(t,e,n)=>{n.d(e,{Z:()=>d});var r=n(785893),i=(n(667294),n(294184)),a=n.n(i),s=n(468811),o=n.n(s),c=n(349480),l=n.n(c);function u(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n;return t}var h=o().v4();const d=function(t){var e,n=t.open,i=t.className,s=t.withHighlight,o=void 0!==s&&s;return(0,r.jsxs)("svg",{width:"18",height:"18",className:a()(l().button,i,(e={},u(e,l().open,n),u(e,l().withHighlight,o),e)),children:[o&&(0,r.jsx)("defs",{children:(0,r.jsxs)("linearGradient",{id:h,x1:"0",y1:"0",x2:"0",y2:"18",gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{offset:"0",stopColor:"#B473F5"}),(0,r.jsx)("stop",{offset:"1",stopColor:"#E292AA"})]})}),(0,r.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,r.jsx)("path",{d:"M0 0h18v18H0"}),(0,r.jsx)("path",{stroke:o?"url(#".concat(h,")"):"currentColor",d:"M4.5 4.5l9 9",
strokeLinecap:"round"}),(0,r.jsx)("path",{stroke:o?"url(#".concat(h,")"):"currentColor",d:"M13.5 4.5l-9 9",strokeLinecap:"round"})]})]})}},191840:(t,e,n)=>{n.d(e,{c:()=>E});var r=n(785893),i=(n(667294),n(331535)),a=n(797776),s=n(387736),o=n(75141),c=n(714523),l=n(830504),u=n(461061),h=n(959797),d=n(562275),p=n.n(d);function g(t){var e=t.guild,n=t.banner;return(0,r.jsx)("div",{className:p().guildBanner,style:{backgroundImage:"url(".concat(n)},children:(0,r.jsxs)("div",{className:p().guildHeader,children:[(0,r.jsx)(s.Z,{guild:e,isBannerVisible:!0}),(0,r.jsx)(i.X6,{className:p().guildName,variant:"heading-md/semibold",children:e.toString()}),(0,r.jsx)(a.Z,{className:p().dropdown,open:!1})]})})}function f(t,e){var n=(0,o.nW)(t);return e?h.Z.Messages.GUILD_BANNER_UPSELL_MODAL_SUBTITLE_ANIMATED.format({targetLevelOrPlan:n}):h.Z.Messages.GUILD_BANNER_UPSELL_MODAL_SUBTITLE_STATIC.format({targetLevelOrPlan:n})}function E(t){
var e=t.analyticsLocations,n=t.analyticsLocation,i=t.guild,a=t.isGIF,s=t.banner,d=a?(0,o.yw)(u.oNc.ANIMATED_BANNER):(0,o.yw)(u.oNc.BANNER);null!=d&&(0,c.Z)({analyticsLocations:e,analyticsSourceLocation:n,guild:i,headerProps:{title:h.Z.Messages.GUILD_BANNER_UPSELL_MODAL_TITLE,subtitle:f(d,a),image:(0,r.jsx)(g,{guild:i,banner:s})},perkIntro:h.Z.Messages.GUILD_BANNER_UPSELL_MODAL_PERK_INTRO,perks:a?(0,l.zC)():(0,l.XO)()})}},204660:(t,e,n)=>{n.d(e,{$p:()=>u,PT:()=>d,U$:()=>p,Es:()=>f,kH:()=>E,AK:()=>v,Ae:()=>A});var r=n(496486),i=n(476154);function a(t,e,n,r,i,a,s){try{var o=t[a](s),c=o.value}catch(t){n(t);return}o.done?e(c):Promise.resolve(c).then(r,i)}function s(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var s=t.apply(e,n);function o(t){a(s,r,i,o,c,"next",t)}function c(t){a(s,r,i,o,c,"throw",t)}o(void 0)}))}}var o=function(t,e){var n,r,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),
return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;(r=0,i)&&(a=[2&a[0],i.value]);switch(a[0]){case 0:case 1:i=a;break;case 4:s.label++;return{value:a[1],done:!1};case 5:s.label++;r=a[1];a=[0];continue;case 7:a=s.ops.pop();s.trys.pop();continue;default:if(!(i=s.trys,i=i.length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1];i=a;break}if(i&&s.label<i[2]){s.label=i[2];s.ops.push(a);break}i[2]&&s.ops.pop();s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t];r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}};function c(t){return new Promise((function(e){var n=new FileReader
;n.onload=function(t){var n,r=null===(n=t.target)||void 0===n?void 0:n.result;e("string"==typeof r?r:"")};n.readAsDataURL(t)}))}function l(t,e,n,r){var i=t.naturalWidth/t.width,a=e.width/2,s=e.height/2,o=(t.width/2-a-n.x)*i,c=(t.height/2-s-n.y)*i,l=e.width*i,u=e.height*i;return{x:o,y:c,scaledCropWidth:l,scaledCropHeight:u,canvasWidth:Math.min(l,r.width),canvasHeight:Math.min(u,r.height)}}function u(t,e,n,r,i){return h.apply(this,arguments)}function h(){return(h=s((function(t,e,r,a,s){var u,h,d,p,g,f,E,v;return o(this,(function(o){switch(o.label){case 0:u=l(e,r,a,s),h=u.x,d=u.y,p=u.scaledCropWidth,g=u.scaledCropHeight;return[4,t.arrayBuffer()];case 1:f=o.sent();E=new Worker(new URL(n.p+n.u(44499),n.b));v=new Promise((function(t,e){E.onmessage=function(n){var r=n.data;if(r.type===i.u.CROP_GIF_COMPLETE){t(c(new Blob([r.result])));E.terminate()}else if(r.type===i.u.CROP_GIF_ERROR){e(new Error("Error cropping GIF"));E.terminate()}}}));E.postMessage({type:i.u.CROP_GIF_START,
gif:new Uint8Array(f),x:0|h,y:0|d,width:0|p,height:0|g});return[2,{result:v,cancelFn:function(){return E.terminate()}}]}}))}))).apply(this,arguments)}function d(t,e,n,r){var i=l(t,e,n,r),a=i.x,s=i.y,o=i.scaledCropWidth,c=i.scaledCropHeight,u=i.canvasWidth,h=i.canvasHeight,d=document.createElement("canvas");d.width=u;d.height=h;var p=d.getContext("2d");null!=p&&p.drawImage(t,a,s,o,c,0,0,d.width,d.height);return d.toDataURL("image/png")}function p(t,e,n){return{x:(0,r.clamp)(t,n.left,n.right),y:(0,r.clamp)(e,n.bottom,n.top)}}function g(t,e,n,r){var a=n,s=r;if(n>i.vJ){a=i.vJ;s=r*(i.vJ/n)}return n/r<t?{width:a,height:s}:{width:a*(e/s),height:e}}function f(t,e,n){switch(t){case i.pC.AVATAR:case i.pC.AVATAR_DECORATION:return{width:e,height:n};case i.pC.BANNER:return g(i.MY,i.qj,e,n);case i.pC.BANNER_V2:return g(i.U9,i.qj,e,n);case i.pC.GUILD_BANNER:return g(i.Ij,i.C5,e,n);case i.pC.VIDEO_BACKGROUND:return g(i.Ff,i.PB,e,n);case i.pC.SCHEDULED_EVENT_IMAGE:return g(i.ut,i.WV,e,n)
;case i.pC.HOME_HEADER:return g(i.sX,i.SW,e,n)}}function E(t,e,n){var r={top:0,bottom:0,left:0,right:0},i=t-n.width,a=e-n.height;if(0!==i){r.left=-Math.abs(i/2);r.right=i/2}if(0!==a){r.bottom=-Math.abs(a/2);r.top=a/2}return r}function v(t,e,n,r){switch(t){case i.pC.AVATAR:case i.pC.AVATAR_DECORATION:var a=Math.min(e,n);return{width:a,height:a};case i.pC.BANNER:var s=Math.min(e,i.vJ);return{width:s,height:s*(1/i.MY)};case i.pC.BANNER_V2:var o=Math.min(e,i.vJ);return{width:o,height:o*(1/i.U9)};case i.pC.GUILD_BANNER:var c=Math.min(e,i.vJ);return{width:c,height:Math.min(c*(9/16),r)};case i.pC.VIDEO_BACKGROUND:var l=Math.min(e,i.vJ);return{width:l,height:l*(9/16)};case i.pC.SCHEDULED_EVENT_IMAGE:var u=Math.min(e,i.vJ);return{width:u,height:.4*u};case i.pC.HOME_HEADER:var h=Math.min(e,i.vJ);return{width:h,height:h*(1/i.sX)}}}function A(t,e,n){var r=t.naturalWidth/t.naturalHeight,i=e,a=n;t.naturalWidth>t.naturalHeight?i/=r:a*=r;var s={height:i,width:a};return d(t,{width:t.width,
height:t.height},{x:0,y:0},s)}},896378:(t,e,n)=>{n.d(e,{Z:()=>B});var r=n(785893),i=n(667294),a=n(363010),s=n(331535),o=n(64833),c=n(191840),l=n(714523),u=n(653772),h=n(971738),d=n(106027),p=n(461061),g=n(830504),f=n(959797),E=n(460590),v=n.n(E);function A(t){var e=t.analyticsSection,n=t.analyticsPage,i=t.isGIF,E=t.banner,A=(0,a.e7)([h.Z],(function(){return h.Z.getGuildId()})),N=(0,a.e7)([u.Z],(function(){return u.Z.getGuild(A)})),R=(0,o.Z)().analyticsLocations;if(null==N||N.hasFeature(p.oNc.ANIMATED_BANNER)||!i&&N.hasFeature(p.oNc.BANNER))return null;return(0,r.jsxs)("div",{className:v().container,children:[(0,r.jsx)(d.Z,{className:v().guildBoostingIcon}),(0,r.jsx)(s.xv,{color:"header-primary",variant:"text-sm/semibold",children:f.Z.Messages.PREMIUM_GUILD_PREVIEW}),(0,r.jsx)(s.zx,{look:s.zx.Looks.LINK,color:s.zx.Colors.LINK,className:v().subscribeButton,onClick:function(){if(null!=N){var t={section:e,page:n,object:p.qAy.UPSELL_HEADER};null!=E?(0,c.c)({analyticsLocations:R,
analyticsLocation:t,guild:N,isGIF:i,banner:E}):(0,l.Z)({analyticsLocations:R,analyticsSourceLocation:t,guild:N,perks:i?(0,g.zC)():(0,g.XO)()})}},children:f.Z.Messages.PREMIUM_GUILD_BOOST_SERVER})]})}var N=n(859169),R=n(294184),_=n.n(R),m=n(420202),I=n(732031),L=n(462428),y=n(477002),C=n.n(y);function x(t){var e=t.text,n=t.textSize,i=void 0===n?L.Z.Sizes.SIZE_12:n,a=t.textColor,s=void 0===a?L.Z.Colors.STANDARD:a,o=t.className,c=t.button,l=t.reducedRightPadding,u=void 0!==l&&l;return(0,r.jsxs)("div",{className:_()(u?C().noticeWithoutRightPadding:C().noticeWithRightPadding,o),children:[(0,r.jsxs)("div",{className:C().noticeLeft,children:[(0,r.jsx)(I.Z,{className:C().icon,color:m.JX.PREMIUM_TIER_2}),(0,r.jsx)(L.Z,{className:C().text,size:i,color:s,children:e})]}),c]})}var M=n(716421),w=n(859023),b=n(932847),P=n(74030),U=n(476154),S=n(298716),T=n(167633),D=n.n(T);function j(t){var e=t.analyticsSection,n=t.type,c=(0,a.e7)([w.default],(function(){return w.default.getCurrentUser()
})),l=P.ZP.canUseAnimatedAvatar(c),u=P.ZP.canUsePremiumProfileCustomization(c),h=n===U.pC.BANNER&&u||n===U.pC.BANNER_V2&&u||n===U.pC.AVATAR&&l,d=(0,o.Z)(N.Z.PREMIUM_PREVIEW_UPSELL_HEADER).sourceAnalyticsLocations;i.useEffect((function(){h||b.default.track(p.rMx.PREMIUM_UPSELL_VIEWED,{type:e,location_stack:d})}),[h,e,d]);if(h)return null;var g=(0,r.jsx)(M.Z,{className:D().getNitroLink,size:s.zx.Sizes.SMALL,look:s.zx.Looks.LINK,color:s.zx.Colors.LINK,subscriptionTier:S.Si.TIER_2,buttonText:f.Z.Messages.PREMIUM_PREVIEW_GET_NITRO.format(),showIcon:!1,premiumModalAnalyticsLocation:{section:e,object:p.qAy.BUTTON_CTA},disableShine:!0});return(0,r.jsx)(x,{reducedRightPadding:!0,className:D().nitroPreviewUpsell,text:f.Z.Messages.PREMIUM_PREVIEW.format(),textSize:L.Z.Sizes.SIZE_14,textColor:L.Z.Colors.HEADER_PRIMARY,button:g})}function B(t){var e=t.type,n=t.analyticsPage,i=t.analyticsSection,a=t.isGIF,s=t.banner;return[U.pC.BANNER,U.pC.BANNER_V2,U.pC.AVATAR].includes(e)&&a?(0,r.jsx)(j,{
analyticsSection:i,type:e}):e===U.pC.GUILD_BANNER?(0,r.jsx)(A,{analyticsSection:i,analyticsPage:n,isGIF:a,banner:s}):null}}}]);
//# sourceMappingURL=76b4c1e3824b6d0018ee.js.map