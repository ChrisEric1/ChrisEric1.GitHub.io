(window.webpackJsonp=window.webpackJsonp||[]).push([[177],{1417:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=l(r(1)),n=i(r(5)),a=l(r(127)),o=i(r(1282));function i(e){return e&&e.__esModule?e:{default:e}}function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function l(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=s?Object.getOwnPropertyDescriptor(e,n):null;a&&(a.get||a.set)?Object.defineProperty(r,n,a):r[n]=e[n]}return r.default=e,t&&t.set(e,r),r}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e}).apply(this,arguments)}var f=function(e){var t,r;function i(){return e.apply(this,arguments)||this}return r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,i.prototype.render=function(){var e=this.props,t=e.className,r=function(e,t){if(null==e)return{};var r,s,n={},a=Object.keys(e);for(s=0;s<a.length;s++)r=a[s],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,["className"]);return s.createElement(a.default,p({},r,{className:(0,n.default)(o.default.formStatusAlert,t)}))},i}(s.Component);t.default=f,f.displayName="FormStatusAlert",f.Types=a.AlertTypes},1479:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var o=s?Object.getOwnPropertyDescriptor(e,n):null;o&&(o.get||o.set)?Object.defineProperty(r,n,o):r[n]=e[n]}r.default=e,t&&t.set(e,r);return r}(r(1));function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function o(e,t,r,n){s||(s="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=n;else if(o>1){for(var i=new Array(o),u=0;u<o;u++)i[u]=arguments[u+3];t.children=i}if(t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});return{$$typeof:s,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var i=function(e){return{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0,cursor:e?"not-allowed":"pointer"}},u=function(e){var t,r;function s(){for(var t,r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))||this).activateUploadDialogue=function(){t.props.embedded?t.handleNativeClick():t._input&&t._input.click()},t.handleNativeClick=function(){t.props.handleNativeClick(t.props)},t.handleBrowserInputMouseDown=function(e){e.currentTarget.value=null},t}return r=e,(t=s).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,s.prototype.render=function(){var e,t=this,r=this.props,s=r.disabled,a=r.tabIndex,u=r.className,l=r.name,p=r["aria-label"];return this.props.embedded?o("div",{style:i(s),className:u||"file-input",onClick:!s&&this.handleNativeClick}):(this.props.filters&&(e=this.props.filters.map(function(e){return e.extensions.map(function(e){return"."+e}).join(",")}).join(",")),n.createElement("input",{style:i(s),className:u||"file-input",disabled:s,type:"file",tabIndex:a,onMouseDown:this.handleBrowserInputMouseDown,onChange:this.props.onChange,multiple:this.props.multiple,accept:e,name:l,"aria-label":p,ref:function(e){return t._input=e}}))},s}(n.Component);u.displayName="FileInput",u.defaultProps={multiple:!1,disabled:!1,tabIndex:0};var l=u;t.default=l},1700:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,n=M(r(1)),a=S(r(12)),o=M(r(129)),i=S(r(128)),u=S(r(184)),l=r(130),p=S(r(1695)),f=S(r(417)),c=S(r(414)),d=S(r(1417)),h=S(r(412)),y=S(r(410)),v=S(r(415)),g=S(r(1425)),m=S(r(413)),b=S(r(416)),A=r(18);function S(e){return e&&e.__esModule?e:{default:e}}function _(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return _=function(){return e},e}function M(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=_();if(t&&t.has(e))return t.get(e);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=s?Object.getOwnPropertyDescriptor(e,n):null;a&&(a.get||a.set)?Object.defineProperty(r,n,a):r[n]=e[n]}return r.default=e,t&&t.set(e,r),r}function O(e,t,r,n){s||(s="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=n;else if(o>1){for(var i=new Array(o),u=0;u<o;u++)i[u]=arguments[u+3];t.children=i}if(t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});return{$$typeof:s,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var E=O(u.default,{}),w=function(e){var t,s;function a(){for(var t,r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(t=e.call.apply(e,[this].concat(s))||this).assetManagerRef=n.createRef(),t.state={errorMessage:null,hasLoadedRemoteAssets:!1,hasUnsavedChanges:!1,isSubmitting:!1,hasSubmitted:!1,hasError:!1},t.deleteAsset=function(e){return o.deleteStoreAsset(t.props.match.params.id,e)},t.getAssetUri=function(e){return(0,l.getStoreAssetImage)(t.props.match.params.id,e)},t.handleAssetsFormChange=function(){t.state.hasUnsavedChanges||t.setState({hasUnsavedChanges:!0})},t.handleAssetsFormSubmit=function(){t.setState({isSubmitting:!0});var e=[];null!=t.assetManagerRef.current&&e.push(t.assetManagerRef.current.uploadAllAssets()),Promise.all(e).then(function(){t.setState({errorMessage:null,hasUnsavedChanges:!1,isSubmitting:!1,hasSubmitted:!0,hasError:!1})}).catch(function(e){t.setState({errorMessage:e.message,isSubmitting:!1,hasError:!0})})},t.handleReset=function(){null!=t.assetManagerRef.current&&t.assetManagerRef.current.resetAssets(),t.setState({hasUnsavedChanges:!1,hasError:!1})},t.renderFormStatus=function(){var e=t.state,r=e.hasError,s=e.hasSubmitted;return r?O(d.default,{type:d.default.Types.ERROR},void 0,A.Messages.Alerts.ERROR):s?O(d.default,{type:d.default.Types.SUCCESS},void 0,A.Messages.AssetLibrary.SUCCESS):null},t.uploadAsset=function(e){return o.uploadStoreAsset(t.props.match.params.id,{filename:e.name,file:e.file})},t}s=e,(t=a).prototype=Object.create(s.prototype),t.prototype.constructor=t,t.__proto__=s;var i=a.prototype;return i.componentDidMount=function(){var e=this;o.fetchStoreAssets(this.props.match.params.id).then(function(){e.setState({errorMessage:null,hasLoadedRemoteAssets:!0})}).catch(function(t){e.setState({errorMessage:t.message,hasLoadedRemoteAssets:!0})})},i.renderAssetManager=function(){var e=this.props.storeAssets;return this.state.hasLoadedRemoteAssets?n.createElement(p.default,{actionCopy:A.Messages.AssetLibrary.ADD_ASSETS,assetLabel:A.Messages.AssetLibrary.ASSETS,assetsHeadingRenderer:this.renderAssetsHeading,assets:e,getAssetUri:this.getAssetUri,uploadAsset:this.uploadAsset,deleteAsset:this.deleteAsset,emptyState:this.renderEmptyAssetState(),fileTypeDescription:A.Messages.AssetLibrary.ACCEPTED_FILE_TYPES,ref:this.assetManagerRef,supportedExtensions:["jpg","jpeg","png","mp4","gif"]}):E},i.renderAssetsHeading=function(e){return A.Messages.AssetLibrary.ASSETS_MANAGER_HEADING.format({count:e})},i.renderEmptyAssetState=function(){return O(f.default,{},void 0,O("img",{alt:A.Messages.RichPresence.NO_ASSETS_UPLOADED,src:r(1696)}))},i.render=function(){var e=this.state,t=e.hasUnsavedChanges,r=e.isSubmitting;return O(c.default,{onChange:this.handleAssetsFormChange,onSubmit:this.handleAssetsFormSubmit},void 0,O(y.default,{},void 0,O(h.default,{},void 0,A.Messages.AssetLibrary.HEADING),O(m.default,{isFlush:!0},void 0,A.Messages.AssetLibrary.SUBHEADING),this.renderFormStatus()),O(y.default,{isFlush:!0},void 0,O(v.default,{},void 0,A.Messages.AssetLibrary.ASSETS_SECTION_HEADING),O(g.default,{},void 0,A.Messages.AssetLibrary.ASSETS_SECTION_SUBHEADING),this.renderAssetManager()),O(b.default,{isVisible:t,onReset:this.handleReset,submitting:r}))},a}(n.Component);w.displayName="AssetLibrary";var j=a.default.connectStores([i.default],function(e){return{storeAssets:i.default.getStoreAssets(e.match.params.id)}})(w);t.default=j}}]);
//# sourceMappingURL=3f3974ea35b29d687e12.js.map