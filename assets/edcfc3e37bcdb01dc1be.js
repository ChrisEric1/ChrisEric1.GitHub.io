(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[46208],{637849:(e,t,n)=>{e.exports=n.p+"62fc691d2860dbf7dea5582aba20f051.svg"},837307:(e,t,n)=>{e.exports=n.p+"0ee88820de68e9856408ac765a57198d.svg"},697694:(e,t,n)=>{e.exports=n.p+"87f8416faec0691b96525d0bb3027809.svg"},709989:(e,t,n)=>{e.exports=n.p+"e878f2c37767692b3936e707df01c1a4.svg"},955568:(e,t,n)=>{e.exports=n.p+"bf852fd03dee12cf7ba1392884138f27.svg"},230978:(e,t,n)=>{e.exports=n.p+"21c1c5faf97abcc71bf3bde30e57bf14.svg"},100539:(e,t,n)=>{e.exports=n.p+"17192d3fe939ecf404e8cdd64b340469.svg"},639915:(e,t,n)=>{e.exports=n.p+"1a06a76c7ea3e0facf0d6635e10c5898.svg"},143613:(e,t,n)=>{e.exports=n.p+"ab4f6c12a1ced9de8b5d279056f21334.svg"},424286:(e,t,n)=>{e.exports=n.p+"0e9718017ef813c08a592b0bbd8496dc.png"},819361:(e,t,n)=>{e.exports=n.p+"14271875289ea86971326d281f681a64.svg"},882253:(e,t,n)=>{e.exports=n.p+"0eeb095cd923afdf420687347dc673ff.svg"},340563:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f})
;var r=n(999357),o=n(165695),i=n(744564),a=n(801809),s=n(2590);function u(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value}catch(e){n(e);return}s.done?t(u):Promise.resolve(u).then(r,o)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){u(i,r,o,a,s,"next",e)}function s(e){u(i,r,o,a,s,"throw",e)}a(void 0)}))}}var l=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:
i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};const f={signup:function(e,t){return a.Z.post({url:s.ANM.HUB_WAITLIST_SIGNUP,body:{email:e,school:t},trackedActionData:{event:r.a9.HUB_WAITLIST_SIGNUP,properties:function(e){var t,n=!1,r=null==e||null===(t=e.body)||void 0===t?void 0:t.email_domain;if(null!=r){n=-1!==r.split(".").indexOf("edu")}return(0,o.iG)({is_edu_email:n})}}})},sendVerificationEmail:function(e,t,n){return c((function(){return l(this,(function(i){switch(i.label){case 0:return[4,a.Z.post({url:s.ANM.HUB_EMAIL_VERIFY_SEND,body:{email:e,guild_id:n,allow_multiple_guilds:t,
use_verification_code:!0},trackedActionData:{event:r.a9.HUB_EMAIL_VERIFY_SEND,properties:function(e){var t,n=null==e||null===(t=e.body)||void 0===t?void 0:t.has_matching_guild;return(0,o.iG)({has_matching_guild:n})}}})];case 1:return[2,i.sent().body]}}))}))()},verify:function(e){return c((function(){var t,n,o,u;return l(this,(function(c){switch(c.label){case 0:if(null==e)return[3,4];c.label=1;case 1:c.trys.push([1,3,,4]);return[4,a.Z.post({url:s.ANM.HUB_EMAIL_VERIFY,body:{token:e},trackedActionData:{event:r.a9.HUB_EMAIL_VERIFY}})];case 2:n=c.sent();o=null===(t=n.body.guild)||void 0===t?void 0:t.id;i.Z.dispatch({type:"HUB_VERIFY_EMAIL_SUCCESS",guildId:o});return[3,4];case 3:u=c.sent();i.Z.dispatch({type:"HUB_VERIFY_EMAIL_FAILURE",errors:u.body});return[3,4];case 4:return[2]}}))}))()},verifyCode:function(e,t,n){return c((function(){var o,u,c,f;return l(this,(function(l){switch(l.label){case 0:if(null==e)return[3,4];l.label=1;case 1:l.trys.push([1,3,,4]);return[4,a.Z.post({
url:s.ANM.HUB_EMAIL_VERIFY_CODE,body:{code:e,guild_id:t,email:n},trackedActionData:{event:r.a9.HUB_EMAIL_VERIFY}})];case 2:u=l.sent();c=null===(o=u.body.guild)||void 0===o?void 0:o.id;i.Z.dispatch({type:"HUB_VERIFY_EMAIL_SUCCESS",guildId:c});return[2,u.body];case 3:f=l.sent();i.Z.dispatch({type:"HUB_VERIFY_EMAIL_FAILURE",errors:f.body});throw f;case 4:return[2]}}))}))()}}},314620:(e,t,n)=>{"use strict";n.d(t,{b8:()=>f,GR:()=>p,ul:()=>y});var r=n(281110),o=n(744564),i=n(200892),a=n(534681),s=n(2590);function u(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value}catch(e){n(e);return}s.done?t(u):Promise.resolve(u).then(r,o)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){u(i,r,o,a,s,"next",e)}function s(e){u(i,r,o,a,s,"throw",e)}a(void 0)}))}}var l=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},
"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function f(){return d.apply(this,arguments)}function d(){return(d=c((function(){
var e,t;return l(this,(function(n){switch(n.label){case 0:n.trys.push([0,2,,3]);return[4,(0,a.Kb)({url:s.ANM.LIBRARY,oldFormErrors:!0},!1)];case 1:e=n.sent();o.Z.dispatch({type:"LIBRARY_FETCH_SUCCESS",libraryApplications:e.body});return[3,3];case 2:t=n.sent();o.Z.dispatch({type:"LIBRARY_FETCH_FAIL",error:t});return[3,3];case 3:return[2]}}))}))).apply(this,arguments)}function p(e){return h.apply(this,arguments)}function h(){return(h=c((function(e){var t,n,a;return l(this,(function(u){switch(u.label){case 0:return null==(t=e.primarySkuId)?[2]:[4,r.Z.get({url:s.ANM.APPLICATION_BRANCH_LIST(e.id),oldFormErrors:!0}).then((function(e){return e.body}))];case 1:n=u.sent();a=n.map((function(n){return i.Z.createForTestMode({id:e.id,skuId:t,branch:n})}));o.Z.dispatch({type:"LIBRARY_APPLICATIONS_TEST_MODE_ENABLED",libraryApplications:a});return[2]}}))}))).apply(this,arguments)}function y(e,t,n){o.Z.dispatch({type:"LIBRARY_APPLICATION_ACTIVE_LAUNCH_OPTION_UPDATE",applicationId:e,branchId:t,
launchOptionId:n})}},988376:(e,t,n)=>{"use strict";n.r(t);n.d(t,{default:()=>Ei});var r=n(785893),o=n(667294),i=n(517563),a=n(999357),s=n(289283),u=n(202351),c=n(744564),l=n(84441),f=n(563726),d=n(419156),p=n(281110),h=n(561177),y=n(110108),v=n(705429),_=n(652591),m=n(301928),E=n(2590);function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e){b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return b(e)}function O(e,t){return!t||"object"!==T(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function I(e,t){I=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return I(e,t)}var T=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1
;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var o=b(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O(this,n)}}function A(e,t){_.default.track(E.rMx.BROWSER_HANDOFF_SUCCEEDED,{authenticated:e,handoff_source:t})}var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&I(e,t)}(n,e);var t=N(n);function n(){g(this,n);var e;(e=t.apply(this,arguments)).handleEnd=function(t){var n=t.handoffToken,r=t.fingerprint,o=v.Z.key;if(null!=o&&v.Z.isHandoffAvailable())e.handleHandoff({handoffKey:o,handoffToken:n,fingerprint:r,handoffSource:void 0});else{l.Z.setFingerprint(null);(0,h.by)()}};return e}
var r=n.prototype;r._initialize=function(){c.Z.subscribe("BROWSER_HANDOFF_END",this.handleEnd);c.Z.subscribe("BROWSER_HANDOFF_FROM_APP",this.handleHandoff)};r._terminate=function(){c.Z.unsubscribe("BROWSER_HANDOFF_END",this.handleEnd);c.Z.unsubscribe("BROWSER_HANDOFF_FROM_APP",this.handleHandoff)};r.handleHandoff=function(e){var t=e.handoffKey,n=e.handoffToken,r=e.fingerprint,o=e.handoffSource;if(null!=n)p.Z.post({url:E.ANM.HANDOFF_EXCHANGE,body:{key:t,handoff_token:n}}).then((function(e){var t=e.body;(0,h.Vb)(t.user);l.Z.loginToken(t.token,!1);A(!0,o)}),(function(e){null!=r&&A(!1,o);l.Z.setFingerprint(r);(0,h.lx)();if(o===y.F.ROLE_SUBSCRIPTION){var t;_.default.track(E.rMx.MOBILE_WEB_HANDOFF_FAILURE,{reason:null!==(t=e.message)&&void 0!==t?t:e.text,handoff_source:o})}}));else if(null!=r){l.Z.setFingerprint(r);A(!1,o);(0,h.lx)()}else{l.Z.setFingerprint(r);(0,h.by)()}};r.__getLocalVars=function(){return{}};return n}(m.Z);const S=new x;var j=n(113512);function C(e){c.Z.dispatch({
type:"AUTH_INVITE_UPDATE",invite:e})}var P=n(686874),R=n(848285),Z=n(536038),w=n(558820),D=n(645106),L=n(473708),M=n(518280),U=n.n(M);function G(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e){k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return k(e)}function B(e,t){return!t||"object"!==F(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function V(e,t){V=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return V(e,t)}var F=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function H(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0
}catch(e){return!1}}();return function(){var n,r=k(e);if(t){var o=k(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return B(this,n)}}u.ZP.initialize();var z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&V(e,t)}(o,e);var t=H(o);function o(){G(this,o);var e;(e=t.apply(this,arguments)).state={busy:!0,success:!1,guild:null};return e}var a=o.prototype;a.componentDidMount=function(){var e=this,t=(0,D.Z)(this.props.location),n=(0,i.parse)(this.props.location.search);p.Z.post({url:E.ANM.DISABLE_SERVER_HIGHLIGHT_NOTIFICATIONS,body:{token:t,pixel_uuid:n.hash,guild_id:n.guild_id},oldFormErrors:!0}).then((function(t){var n=t.body.guild,r=new R.Z(n);e.setState({success:!0,busy:!1,guild:r})}),(function(){return e.setState({success:!1,busy:!1})}));(0,
P.e)("disable_server_highlight_notifications")};a.renderBusy=function(){return(0,r.jsx)(w.ZP,{children:(0,r.jsx)(w.Hh,{})})};a.renderSuccess=function(){var e=this.props,t=e.defaultRoute,n=e.transitionTo,o=this.state.guild;return(0,r.jsxs)(w.ZP,{children:[(0,r.jsx)(w.Dx,{className:U().marginBottom8,children:L.Z.Messages.SERVER_HIGHLIGHT_UNSUBSCRIBE_HEADER}),(0,r.jsx)(w.DK,{children:L.Z.Messages.SERVER_HIGHLIGHT_UNSUBSCRIBE_BODY.format({guildName:o.name})}),(0,r.jsx)(w.zx,{className:U().marginTop40,onClick:function(){return n(t)},children:L.Z.Messages.CONTINUE_TO_WEBAPP}),(0,r.jsx)(w.zx,{className:U().marginTop8,color:w.zx.Colors.LINK,look:w.zx.Looks.LINK,onClick:function(){n(E.Z5c.USER_GUILD_NOTIFICATION_SETTINGS(o.id))},children:L.Z.Messages.SERVER_HIGHLIGHT_MANAGE_SETTINGS})]})};a.renderError=function(){var e=this.props,t=e.defaultRoute,o=e.transitionTo;return(0,r.jsxs)(w.ZP,{children:[(0,r.jsx)(w.Ee,{src:n(709989),className:U().marginBottom20}),(0,r.jsx)(w.Dx,{
className:U().marginBottom8,children:L.Z.Messages.AUTH_DISABLE_EMAIL_NOTIFICATIONS_FAILURE_HEADER}),(0,r.jsx)(w.DK,{children:L.Z.Messages.AUTH_DISABLE_EMAIL_NOTIFICATIONS_FAILURE_BODY}),(0,r.jsx)(w.zx,{className:U().marginTop40,onClick:function(){return o(t)},children:L.Z.Messages.CONTINUE_TO_WEBAPP})]})};a.render=function(){var e=this.state,t=e.busy,n=e.success;return t?this.renderBusy():n?this.renderSuccess():this.renderError()};return o}(o.PureComponent);z.defaultProps={transitionTo:function(e){return n.g.location.assign(e)}};const K=u.ZP.connectStores([Z.Z],(function(){return{defaultRoute:Z.Z.defaultRoute}}))(z);var Y=n(294184),W=n.n(Y),X=n(426797),q=n(53540),J=n(560837),$=n(78501),Q=n(83623),ee=n(58118),te=n(913957),ne=n.n(te);function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function oe(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value}catch(e){n(e);return}s.done?t(u):Promise.resolve(u).then(r,o)}function ie(e){return function(){
var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){oe(i,r,o,a,s,"next",e)}function s(e){oe(i,r,o,a,s,"throw",e)}a(void 0)}))}}function ae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return re(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var se=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){
a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};const ue=function(){var e,t=ae(o.useState(""),2),i=t[0],a=t[1],s=ae(o.useState(""),2),c=s[0],l=s[1],f=ae(o.useState(!1),2),d=f[0],p=f[1],h=ae(o.useState(!1),2),y=h[0],v=h[1],_=ae(o.useState(null),2),m=_[0],E=_[1],g=ae(o.useState(null),2),b=g[0],O=g[1],I=(0,u.e7)([J.Z],(function(){return J.Z.getCountryCode()})),T=I.code.split(" ")[0],N=(e=ie((function(){var e;return se(this,(function(t){switch(t.label){case 0:t.trys.push([0,2,,3]);return[4,X.Z.resendCode(i)];case 1:t.sent();return[3,3];case 2:e=t.sent();O(e.body.message);return[3,3];case 3:return[2]}}))})),function(){return e.apply(this,arguments)}),A=function(){var e=ie((function(){var e,t;return se(this,(function(n){switch(n.label){case 0:p(!0);n.label=1;case 1:n.trys.push([1,3,4,5])
;return[4,X.Z.verifyPhone(T+i,c)];case 2:e=n.sent().token;E(null);O(null);v(!0);X.Z.validatePhoneForSupport(e);return[3,5];case 3:if((t=n.sent()).body.message){E(null);O(t.body.message)}else{E(t.body.phone);O(t.body.code)}return[3,5];case 4:p(!1);return[7];case 5:return[2]}}))}));return function(){return e.apply(this,arguments)}}(),x=(0,r.jsxs)(w.ZP,{children:[(0,r.jsx)(w.Ee,{src:n(882253)}),(0,r.jsxs)(w.Dx,{className:W()(U().marginTop20,ne().flex,ne().justifyCenter,ne().alignCenter),children:[L.Z.Messages.MEMBER_VERIFICATION_PHONE_VERIFIED,(0,r.jsx)(Q.Z,{className:U().marginLeft8})]})]});return y?x:(0,r.jsxs)(w.ZP,{children:[(0,r.jsx)(w.Dx,{children:L.Z.Messages.ENTER_CODE}),(0,r.jsx)(w.DK,{className:U().marginTop8,children:L.Z.Messages.VERIFY_PHONE_FOR_SUPPORT}),(0,r.jsxs)(w.gO,{className:U().marginTop20,children:[(0,r.jsx)($.Z,{label:L.Z.Messages.FORM_LABEL_PHONE_NUMBER,alpha2:I.alpha2,countryCode:T,value:i,autoComplete:"off",spellCheck:"false",onChange:a,forceMode:q.Nz.PHONE,
error:m}),(0,r.jsx)(w.II,{className:U().marginTop20,label:L.Z.Messages.CONFIRMATION_CODE,value:c,onChange:l,maxLength:ee.z,error:b}),(0,r.jsx)(w.zx,{size:w.zx.Sizes.SMALL,look:w.zx.Looks.LINK,onClick:N,children:L.Z.Messages.RESEND_CODE}),(0,r.jsx)(w.zx,{className:U().marginTop20,onClick:A,submitting:d,children:L.Z.Messages.DONE})]})]})};var ce=n(158434),le=n(145739),fe=n(340563),de=n(784426);function pe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function he(e){he=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return he(e)}function ye(e,t){return!t||"object"!==_e(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ve(e,t){ve=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return ve(e,t)}var _e=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function me(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=he(e);if(t){var o=he(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ye(this,n)}}var Ee=!1,ge=null,be=null;var Oe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&ve(e,t)}(n,e);var t=me(n);function n(){pe(this,n);return t.apply(this,arguments)}var r=n.prototype;r.getState=function(){return{verifySuccess:Ee,verifyErrors:ge,redirectGuildId:be}};r.__getLocalVars=function(){return{
verifySuccess:Ee,verifyErrors:ge,redirectGuildId:be}};return n}(u.ZP.Store);Oe.displayName="HubEmailVerificationStore";const Ie=new Oe(c.Z,{HUB_VERIFY_EMAIL_SUCCESS:function(e){var t=e.guildId;Ee=!0;ge=null;be=t},HUB_VERIFY_EMAIL_FAILURE:function(e){var t=e.errors;Ee=!1;ge=t}});var Te=n(441143),Ne=n.n(Te),Ae=n(131795),xe=n.n(Ae),Se=n(125333),je=n(58964),Ce=n(97245),Pe=n(736818),Re=n(877815);function Ze(e){var t=function(e){var t,n=null===(t=xe().os)||void 0===t?void 0:t.family;if("Android"===n||"iOS"===n){var r=Pe.default.getFingerprint(),o=(0,je.WS)();Ne()(null!=e,"generateAppPath: guildId cannot be null");return(0,je.ZP)((0,Se.z0)(e),{utmSource:"verify_hub_email",fingerprint:r,attemptId:o})}return"discord://"}(e),n=(0,je.zS)(t);null!=n&&_.default.track(E.rMx.DEEP_LINK_CLICKED,{fingerprint:(0,Ce.K)(n.fingerprint),attempt_id:n.attemptId,source:n.utmSource});Re.Z.launch(t,(function(e){e||(0,de.dL)(Z.Z.fallbackRoute)}))}var we=n(539889),De=n.n(we);function Le(e,t){
(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Me(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Le(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Le(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}u.ZP.initialize()
;var Ue=n(641453),Ge=n(248088),ke=n(945460),Be=n(336194),Ve=n(107364),Fe=n(746850),He=n.n(Fe);function ze(e){var t=e.text,o=e.buttonCta,i=e.onClick;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(w.Ee,{src:n(819361)}),(0,r.jsx)(w.Dx,{className:W()(U().marginTop20,U().marginBottom8,ne().flexCenter),children:L.Z.Messages.DISCORD_DESC_SHORT}),(0,r.jsx)(w.DK,{className:U().marginBottom40,children:L.Z.Messages.DISCORD_DESC_LONG}),(0,r.jsxs)(ke.Card,{className:He().card,type:ke.Card.Types.CUSTOM,children:[(0,r.jsx)("img",{alt:"",className:He().cardAccentLeft,src:n(637849)}),(0,r.jsx)("img",{alt:"",className:He().cardAccentRight,src:n(837307)}),(0,r.jsxs)(Ve.Z,{className:He().cardContents,direction:Ve.Z.Direction.VERTICAL,align:Ve.Z.Align.STRETCH,grow:0,children:[(0,r.jsx)(ke.Text,{tag:"strong",className:He().buttonTitle,variant:"text-md/normal",style:{color:Be.Z.unsafe_rawColors.PRIMARY_300.css},children:t}),(0,r.jsx)(w.zx,{className:He().button,onClick:i,children:o})]})]})]})}
function Ke(e){var t=e.text,n=e.buttonCta,o=e.theme,i=void 0===o?E.BRd.DARK:o,a=e.onClick;return(0,r.jsx)(w.ZP,{theme:i,children:(0,r.jsx)(ze,{text:t,buttonCta:n,onClick:a})})}var Ye=n(677681),We=n(730381),Xe=n.n(We),qe=n(260561),Je=(0,qe.B)({kind:"user",id:"2021-03_expiration_notice_mobile_web",label:"Show expiration notice on mobile web invite",defaultConfig:{showExpirationNotice:!1},treatments:[{id:1,label:"Show expiration notice",config:{showExpirationNotice:!0}}]}),$e=((0,qe.B)({kind:"user",id:"2021-03_expiration_notice_ios",label:"Show expiration notice on ios invite",defaultConfig:{showExpirationNotice:!1},treatments:[{id:1,label:"Show expiration notice",config:{showExpirationNotice:!0}}]}),(0,qe.B)({kind:"user",id:"2021-03_expiration_notice_ios_embed",label:"Show expiration notice on ios invite embed",defaultConfig:{showExpirationNotice:!1},treatments:[{id:1,label:"Show expiration notice",config:{showExpirationNotice:!0}}]}),n(457997)),Qe=n(567403);const et=function(e){
var t=null==e?void 0:e.expires_at,n=!function(e){switch(null==e?void 0:e.state){case E.r2o.EXPIRED:case E.r2o.BANNED:case E.r2o.ERROR:case E.r2o.RESOLVING:return!1;default:return!0}}(e);return(0,u.e7)([Qe.Z],(function(){var t;return null!=Qe.Z.getGuild(null==e||null===(t=e.guild)||void 0===t?void 0:t.id)}))||n||null==t?null:t};var tt=n(777883),nt=n.n(tt),rt=function(e){var t=e.expiredAt,n=e.className;Je.trackExposure({});if(!Je.useExperiment({},{autoTrackExposure:!1}).showExpirationNotice)return null;var o=Xe()(t).fromNow(!0);return(0,r.jsx)("div",{className:W()(nt().container,n),children:(0,r.jsxs)("div",{className:nt().expirationContainer,children:[(0,r.jsx)($e.Z,{color:Be.Z.unsafe_rawColors.WHITE_500.css,width:14,height:14,className:nt().clock}),(0,r.jsx)(ke.Text,{variant:"text-sm/normal",color:"header-primary",children:L.Z.Messages.INVITE_EXPIRATION_NOTICE.format({duration:o})})]})})};const ot=function(e){var t=e.invite,n=e.className,o=et(t);return null==o?null:(0,r.jsx)(rt,{
expiredAt:o,className:n})};var it=n(757753),at=n(775173),st=n(72580),ut=n(641277),ct=n(206986),lt=n(98265),ft=n(749565),dt=n(718634),pt=n(75025),ht=n(114505),yt=n.n(ht),vt=function(e){var t,n,r={onlineCount:null!==(t=e.approximate_presence_count)&&void 0!==t?t:0,memberCount:null!==(n=e.approximate_member_count)&&void 0!==n?n:0};return 0===r.memberCount&&0===r.memberCount?null:r},_t=function(e){return e.target_type===dt.Iq.STREAM&&null!=e.target_user},mt=function(e){var t;return(null===(t=e.channel)||void 0===t?void 0:t.type)===E.d4z.GROUP_DM},Et=function(e){return null==e.channel&&null==e.guild&&null!=e.inviter},gt=function(e){return e.state===E.r2o.ACCEPTED},bt=function(e){return null!=e.guild_scheduled_event},Ot=function(e){return!bt(e)&&(!!Et(e)||null!=e.inviter&&!gt(e)&&!function(e){var t,n=vt(e);return(null!==(t=null==n?void 0:n.memberCount)&&void 0!==t?t:0)>100}(e))},It=function(e){var t=e.guild,n=e.user,o=e.application;return null!=o?(0,r.jsx)(ut.Z,{className:yt().appIcon,
game:o,size:yt().appIconSize}):null!=n?(0,r.jsx)(w.qE,{src:n.getAvatarURL(void 0,100),size:ke.AvatarSizes.DEPRECATED_SIZE_100,className:yt().avatar}):null!=t?(0,r.jsx)(w.Vj,{guild:t,size:w.Vj.Sizes.LARGER,className:yt().guildIcon,animate:!0}):null};function Tt(e){var t,n=e.invite,o=e.textClassName,i=e.className,a=vt(n);return null==a||Ot(n)||(null==n||null===(t=n.guild)||void 0===t?void 0:t.id)===pt.fQ?null:(0,r.jsx)(w.EJ,{className:W()(yt().activityCount,i),online:a.onlineCount,total:a.memberCount,textClassName:o,flat:!0})}function Nt(e){var t=e.invite,n=e.showBigUserIcon,i=o.useMemo((function(){return n?null:_t(t)&&null!=t.target_user?at.ZP.getUserAvatarURL(t.target_user):Ot(t)&&null!=t.inviter?at.ZP.getUserAvatarURL(t.inviter):null}),[t,n]),a=L.Z.Messages.INSTANT_INVITE_YOU_HAVE_BEEN_INVITED_TO_JOIN;if(mt(t)){var s,u
;a=null!=(null===(s=t.channel)||void 0===s?void 0:s.name)&&null!=(null===(u=t.inviter)||void 0===u?void 0:u.username)?L.Z.Messages.INSTANT_INVITE_YOU_HAVE_BEEN_INVITED_TO_JOIN_GROUP_DM_BY_USER.format({username:t.inviter.username}):L.Z.Messages.INSTANT_INVITE_YOU_HAVE_BEEN_INVITED_TO_JOIN_GROUP_DM}else _t(t)&&null!=t.target_user?a=L.Z.Messages.AUTH_MESSAGE_INVITED_TO_STREAM.format({username:t.target_user.username}):gt(t)?a=L.Z.Messages.INSTANT_INVITE_YOU_ARE_ALREADY_A_MEMBER_OF:Ot(t)&&null!=t.inviter&&(a=L.Z.Messages.INSTANT_INVITE_YOU_HAVE_BEEN_INVITED_TO_JOIN_BY_USER.format({username:t.inviter.username}));return(0,r.jsxs)("div",{className:yt().inviteJoinContainer,children:[null!=i&&(0,r.jsx)("div",{className:yt().inviterIconWrapper,children:(0,r.jsx)(w.qE,{src:i,size:ke.AvatarSizes.SIZE_24})}),(0,r.jsx)(w.DK,{className:yt().inviteJoinSubTitle,children:a})]})}function At(e){var t,n,o,i=e.user,a=e.guild,s=e.channel,u=e.application,c=e.showBigUserIcon;if(null!=a){c&&null==u&&(t=(0,
r.jsx)(w.Vj,{guild:a,size:w.Vj.Sizes.SMALL}));n=a.name;if(null!=u){n=u.name;o=(0,r.jsxs)("div",{className:yt().inviteJoinContainer,children:[(0,r.jsx)(w.DK,{className:yt().appIn,children:L.Z.Messages.EMBEDDED_ACTIVITIES_INVITE_IN}),(0,r.jsxs)("div",{className:yt().guildContainer,children:[(0,r.jsx)(w.Vj,{guild:a,size:w.Vj.Sizes.SMALL}),(0,r.jsx)(lt.Z,{className:yt().appGuildName,color:lt.Z.Colors.CUSTOM,tag:"span",size:lt.Z.Sizes.SIZE_24,children:a.name})]})]})}}else if(null!=s){if(null==i)throw new Error("no inviter in group DM invite");var l=i.username;if(null!=s.name&&""!==s.name){n=s.name;null!=s.icon&&(t=(0,r.jsx)(w.MC,{channel:s,size:ke.AvatarSizes.SIZE_32}))}else n=l}else if(null!=i){var f=i.username;n=L.Z.Messages.INSTANT_INVITE_YOU_HAVE_BEEN_INVITED_TO_CHAT.format({username:f});o=(0,r.jsx)(w.DK,{className:yt().directInviteSubTitle,children:L.Z.Messages.INSTANT_INVITE_DIRECT_FRIEND_DESCRIPTION.format({username:ft.ZP.getUserTag(i)})})}return(0,r.jsxs)(r.Fragment,{children:[(0,
r.jsxs)(w.Dx,{className:yt().title,children:[null!=a?(0,r.jsx)(ct.Z,{guild:a,className:yt().guildBadge,tooltipPosition:"left"}):null,t,n]}),o]})}var xt=n(451936),St=n(382060),jt=n(722406),Ct=n(269300),Pt=n(220109),Rt=n(621634),Zt=n(124251),wt=n(248304),Dt=n.n(wt);function Lt(e){var t,n=e.guildScheduledEvent,o=e.channel,i=e.onAcceptInvite,a=e.isSubmitting,s=(0,Ct.xt)(n),u=(0,Ct.Z2)(n);return(0,r.jsxs)("div",{className:Dt().guildEventCard,children:[(0,r.jsx)(Pt.ZP,{userCount:n.user_count,startTime:n.scheduled_start_time,name:n.name,description:null!==(t=n.description)&&void 0!==t?t:void 0,isActive:s,isEnded:u,headerVariant:"heading-md/medium",descriptionClassName:Dt().channelDescription,guildId:n.guild_id,eventType:n.entity_type}),null!=o&&(0,r.jsx)("div",{className:Dt().channelInfo,children:(0,r.jsx)(Rt.Z,{guildScheduledEvent:n,channel:o})}),(0,r.jsx)(ke.Button,{className:Dt().acceptButton,color:ke.Button.Colors.GREEN,onClick:i,submitting:a,
children:L.Z.Messages.GUILD_PROFILE_JOIN_SERVER_BUTTON})]})}function Mt(e){var t,n=e.invite,o=null!=n.guild?new R.Z(n.guild):null;if(null==o)return null;var i=null!==(t=o.description)&&void 0!==t?t:"";return(0,r.jsxs)("div",{className:Dt().guildInfoCard,children:[(0,r.jsx)(ke.Heading,{className:Dt().presentedBy,variant:"text-sm/medium",children:L.Z.Messages.STAGE_INVITE_GUILD_HEADER}),(0,r.jsxs)("div",{className:Dt().guildContainer,children:[(0,r.jsx)(Zt.Z,{guild:o,active:!0,size:Zt.Z.Sizes.MEDIUM}),(0,r.jsxs)("div",{className:Dt().guildDetailsContanier,children:[(0,r.jsxs)(ke.Text,{className:Dt().guildName,color:"header-primary",variant:"text-sm/medium",tag:"span",children:[o.name,(0,r.jsx)(ct.Z,{guild:o,className:Dt().guildBadge,tooltipPosition:"left"})]}),(0,r.jsx)(Tt,{invite:n,textClassName:Dt().guildInfoMemberCountText,className:Dt().guildInfoMemberCount})]})]}),i.length>0&&(0,r.jsx)("details",{className:Dt().guildDescriptionContainer,children:(0,r.jsx)(ke.Text,{
color:"header-secondary",variant:"text-sm/normal",children:i})})]})}function Ut(e){var t=e.invite,n=e.channel,o=e.isSubmitting,i=e.onAcceptInvite,a=t.guild_scheduled_event;return null!=a?(0,r.jsx)(Lt,{guildScheduledEvent:a,channel:n,isSubmitting:o,onAcceptInvite:i}):null}var Gt=n(611072),kt=n.n(Gt);function Bt(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Vt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Bt(e,t,n[t])}))}return e}function Ft(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
;t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Ht(e){var t=e.invite,n=e.onAcceptInvite,o=e.disableUser,i=void 0!==o&&o;if(null==t)return null;var a=null!=t.guild?new R.Z(t.guild):null,s=null!=t.channel?(0,St.jD)(t.channel):null,u=null!=t.target_application?new xt.Z(t.target_application):null,c=i||null==t.inviter?null:new jt.Z(t.inviter),l=!(null!=t.approximate_member_count&&t.approximate_member_count>100||null!=a&&a.hasFeature(E.oNc.COMMUNITY))&&null!=c&&mt(t),f=function(e){switch(e.state){case E.r2o.ACCEPTING:case E.r2o.APP_OPENING:return!0;default:return!1}}(t),d={invite:t,user:c,guild:a,channel:s,application:u};return bt(t)?(0,r.jsx)(Ut,{invite:t,channel:s,isSubmitting:f,onAcceptInvite:n}):(0,r.jsxs)("div",{className:kt().container,children:[(0,r.jsx)(It,{application:u,guild:a,user:l||Et(t)?c:null
}),Et(t)?null:(0,r.jsx)(Nt,Ft(Vt({},d),{showBigUserIcon:l})),(0,r.jsx)(At,Ft(Vt({},d),{showBigUserIcon:l})),(0,r.jsx)(Tt,Vt({},d)),(0,r.jsx)(ke.Button,{onClick:n,submitting:f,className:kt().acceptButton,children:L.Z.Messages.INSTANT_INVITE_ACCEPT})]})}var zt=n(553073),Kt=n.n(zt);function Yt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wt(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Xt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Wt(e,t,n[t])}))}return e}function qt(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e)
;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Jt(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function $t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{
a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Yt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Qt;function en(){return(0,r.jsx)("div",{className:Kt().centerFlex,children:(0,r.jsx)(ke.Spinner,{})})}!function(e){e[e.LOADING=0]="LOADING";e[e.DETAILS=1]="DETAILS";e[e.ERROR=2]="ERROR"}(Qt||(Qt={}));var tn=function(e){var t=null==(null==e?void 0:e.state)&&null==(null==e?void 0:e.channel);if(null==e||null==e.state||t)return Qt.LOADING;var n=e.state;switch(n){case E.r2o.RESOLVED:case E.r2o.ACCEPTED:case E.r2o.APP_NOT_OPENED:
case E.r2o.APP_OPENED:case E.r2o.ACCEPTING:case E.r2o.APP_OPENING:return Qt.DETAILS;case E.r2o.EXPIRED:case E.r2o.BANNED:case E.r2o.ERROR:return Qt.ERROR;case E.r2o.RESOLVING:return Qt.LOADING;default:(0,st.vE)(n)}};function nn(e){var t=e.invite,n=e.onAcceptInvite;return(null==t?void 0:t.state)===E.r2o.BANNED?(0,r.jsx)(ze,{text:L.Z.Messages.AUTH_BANNED_INVITE_BODY,buttonCta:L.Z.Messages.INVITE_INVALID_CTA,onClick:n}):(0,r.jsx)(ze,{text:L.Z.Messages.INVITE_INVALID_ERROR,buttonCta:L.Z.Messages.INVITE_INVALID_CTA,onClick:n})}function rn(e){var t=e.children,n=e.cardChildren,i=e.startAnimHeightPx,a=e.innerStyle,s=Jt(e,["children","cardChildren","startAnimHeightPx","innerStyle"]).invite,u=$t(o.useState(tn(s)),2),c=u[0],l=u[1],f=(0,Ye.Z)(),d=f.ref,p=f.height,h=(0,Ge.useSpring)({height:"".concat(null!=p&&0!==p?p:i,"px"),config:Ge.config.stiff});o.useEffect((function(){var e=tn(s);e!==c&&l(e)}),[s,c]);return(0,r.jsxs)(Ge.animated.div,{className:Kt().inviteCard,style:h,children:[(0,
r.jsx)(Ge.animated.div,{className:Kt().inviteChildContainer,style:h,children:(0,r.jsx)("section",{ref:d,className:null==a?void 0:a(c),children:t(c)})}),n]})}function on(e){var t=e.invite;if(null==t||!bt(t))return null;return(0,r.jsx)(rn,qt(Xt({startAnimHeightPx:0,innerStyle:function(){return Kt().guildInfoInner},cardChildren:(0,r.jsx)(ot,{invite:t,className:Kt().expirationNotice})},e),{children:function(e){return function(e){return null==t?null:e===Qt.DETAILS?(0,r.jsx)(Mt,{invite:t}):null}(e)}}))}function an(e){var t,n=e.invite,o=null!=n&&bt(n),i=(Wt(t={},Qt.DETAILS,Kt().inviteCardInner),Wt(t,Qt.ERROR,Kt().inviteCardInnerError),Wt(t,Qt.LOADING,Kt().inviteCardInnerLoading),t);return(0,r.jsx)(rn,qt(Xt({startAnimHeightPx:200,innerStyle:function(e){return i[e]},cardChildren:o?null:(0,r.jsx)(ot,{invite:n,className:Kt().expirationNotice})},e),{children:function(t){return function(t){if(null==n)return(0,r.jsx)(en,{});switch(t){case Qt.DETAILS:return(0,r.jsx)(Ht,qt(Xt({},e),{invite:n}))
;case Qt.ERROR:return(0,r.jsx)(nn,qt(Xt({},e),{invite:n}));default:return(0,r.jsx)(en,{})}}(t)}}))}function sn(e){var t=e.invite,n=e.onAcceptInvite,o=(null!=t?t:{}).guild,i={};if(null!=(null==o?void 0:o.splash)){var a=at.ZP.getGuildSplashURL({id:o.id,splash:o.splash});if(null!=a){i.backgroundImage="url(".concat(a,")");i.backgroundSize="cover"}}return(0,r.jsxs)(w.ZP,{theme:E.BRd.DARK,className:Kt().splashBackground,style:i,contentClassName:Kt().centerAuthBoxContent,children:[(0,r.jsx)(an,qt(Xt({},e),{onAcceptInvite:n})),(0,r.jsx)(on,Xt({},e))]})}var un=n(821229),cn=n(70321),ln=n(3564),fn=n(130585),dn=n(790690);const pn=function(){return Date.now()-dn.mb};var hn=n(872691),yn=n(928975),vn=n(734589);function _n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mn(e){mn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return mn(e)}function En(e,t){
return!t||"object"!==bn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function gn(e,t){gn=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return gn(e,t)}var bn=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function On(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=mn(e);if(t){var o=mn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return En(this,n)}}u.ZP.initialize();var In=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{
constructor:{value:e,writable:!0,configurable:!0}});t&&gn(e,t)}(o,e);var t=On(o);function o(){_n(this,o);return t.apply(this,arguments)}var i=o.prototype;i.componentDidMount=function(){var e=(0,D.Z)(this.props.location);null!=e&&l.Z.authorizeIPAddress(e);(0,P.e)("authorize_ip")};i.renderLoginButton=function(){if("Android"===xe().os.family||"iOS"===xe().os.family)return null;var e=this.props.transitionTo;return(0,r.jsx)(w.zx,{onClick:function(){return e(E.Z5c.LOGIN)},children:L.Z.Messages._LOGIN})};i.renderFailed=function(){return(0,r.jsxs)(w.ZP,{children:[(0,r.jsx)("img",{alt:"",src:n(955568),className:U().marginBottom20}),(0,r.jsx)(w.Dx,{className:U().marginBottom8,children:L.Z.Messages.AUTHORIZATION_EXPIRED}),(0,r.jsx)(w.DK,{className:U().marginBottom40,children:L.Z.Messages._AUTH_EXPIRED_SUGGESTION}),this.renderLoginButton()]})};i.renderSucceeded=function(){return(0,r.jsxs)(w.ZP,{children:[(0,r.jsx)("img",{alt:"",src:n(230978),className:U().marginBottom20}),(0,r.jsx)(w.Dx,{
className:U().marginBottom8,children:L.Z.Messages.IP_AUTHORIZATION_SUCCEEDED}),(0,r.jsx)(w.DK,{className:U().marginBottom40,children:L.Z.Messages._AUTH_IP_AUTH_SUCCEEDED_SUGGESTION}),this.renderLoginButton()]})};i.renderDefault=function(){return(0,r.jsxs)(w.ZP,{children:[(0,r.jsx)(w.Hh,{}),(0,r.jsx)(w.Dx,{children:L.Z.Messages.AUTHORIZING})]})};i.render=function(){var e=this.props,t=e.verifyFailed,n=e.verifySucceeded;return t?this.renderFailed():n?this.renderSucceeded():this.renderDefault()};return o}(o.PureComponent);In.defaultProps={transitionTo:function(e){return n.g.location.assign(e)}};const Tn=u.ZP.connectStores([Pe.default],(function(){return{verifyFailed:Pe.default.didVerifyFail(),verifySucceeded:Pe.default.didVerifySucceed()}}))(In);const Nn=function(e){var t=e.location,i=(0,u.cj)([Pe.default],(function(){return{verifyFailed:Pe.default.didVerifyFail(),verifySucceeded:Pe.default.didVerifySucceed()}})),a=i.verifyFailed,s=i.verifySucceeded;o.useEffect((function(){var e=(0,D.Z)(t)
;null!=e&&l.Z.authorizePayment(e);(0,P.e)("authorize_payment")}),[t]);return a?(0,r.jsxs)(w.ZP,{children:[(0,r.jsx)("img",{alt:"",src:n(639915),className:U().marginBottom20}),(0,r.jsx)(w.Dx,{className:U().marginBottom8,children:L.Z.Messages.PAYMENT_AUTHORIZATION_EXPIRED}),(0,r.jsx)(w.DK,{className:U().marginBottom40,children:L.Z.Messages.PAYMENT_AUTH_EXPIRED_SUGGESTION})]}):s?(0,r.jsxs)(w.ZP,{children:[(0,r.jsx)("img",{alt:"",src:n(143613),className:U().marginBottom20}),(0,r.jsx)(w.Dx,{className:U().marginBottom8,children:L.Z.Messages.PAYMENT_AUTHORIZATION_SUCCEEDED}),(0,r.jsx)(w.DK,{className:U().marginBottom40,children:L.Z.Messages.PAYMENT_AUTH_SUCCEEDED_SUGGESTION})]}):(0,r.jsxs)(w.ZP,{children:[(0,r.jsx)(w.Hh,{}),(0,r.jsx)(w.Dx,{children:L.Z.Messages.PAYMENT_AUTHORIZING})]})};var An=n(412961),xn=n(384482),Sn=n(926543);function jn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Cn(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value
}catch(e){n(e);return}s.done?t(u):Promise.resolve(u).then(r,o)}function Pn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return jn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Rn,Zn=function(e,t){var n,r,o,i,a={label:0,sent:function(){
if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}
}([i,s])}}};!function(e){e[e.INITIAL=0]="INITIAL";e[e.RPC_CONNECTED=1]="RPC_CONNECTED";e[e.APP_OPENING=2]="APP_OPENING";e[e.APP_OPENED=3]="APP_OPENED"}(Rn||(Rn={}));const wn=function(e){var t=e.match,n=e.location,i=e.attemptDeepLink,a=Pn(o.useState(Rn.INITIAL),2),s=a[0],u=a[1];o.useEffect((function(){xn.default.once("connected",(function(){u(Rn.RPC_CONNECTED)}));xn.default.once("disconnected",(function(){(0,de.uL)((0,Sn.M)())}));xn.default.connect()}),[]);o.useEffect((function(){if(s===Rn.INITIAL){var e=setTimeout((function(){return(0,de.uL)((0,Sn.M)())}),3e3);return function(){return clearTimeout(e)}}}),[s]);var c,l,f=o.useCallback((l=(c=function(e,t){var n;return Zn(this,(function(r){switch(r.label){case 0:r.trys.push([0,2,,3]);u(Rn.APP_OPENING);return[4,i(e,t)];case 1:r.sent();u(Rn.APP_OPENED);return[3,3];case 2:n=r.sent();console.error("Error opening deeplink",n);return[3,3];case 3:return[2]}}))},function(){var e=this,t=arguments;return new Promise((function(n,r){var o=c.apply(e,t)
;function i(e){Cn(o,n,r,i,a,"next",e)}function a(e){Cn(o,n,r,i,a,"throw",e)}i(void 0)}))}),function(e,t){return l.apply(this,arguments)}),[i]);if((0,de.DB)())return null;switch(s){case Rn.RPC_CONNECTED:return(0,r.jsxs)(w.ZP,{children:[(0,r.jsx)(w.Dx,{className:U().marginBottom8,children:L.Z.Messages.DEEPLINK_BROWSER_TITLE}),(0,r.jsx)(w.DK,{children:L.Z.Messages.DEEPLINK_BROWSER_PROMPT}),(0,r.jsx)(w.zx,{className:U().marginTop40,onClick:function(){return f(t,n)},children:L.Z.Messages.OPEN_IN_APP}),(0,r.jsx)(w.zx,{className:W()(U().marginTop8,U().marginCenterHorz),color:w.zx.Colors.LINK,look:w.zx.Looks.LINK,onClick:function(){return(0,de.uL)((0,Sn.M)())},children:L.Z.Messages.CONTINUE_IN_BROWSER})]});case Rn.INITIAL:case Rn.APP_OPENING:return(0,r.jsxs)(w.ZP,{children:[(0,r.jsx)(w.Dx,{children:L.Z.Messages.APP_OPENING}),(0,r.jsx)(w.Hh,{})]});case Rn.APP_OPENED:return(0,r.jsxs)(w.ZP,{children:[(0,r.jsx)(w.Dx,{className:U().marginBottom8,children:L.Z.Messages.APP_OPENED_TITLE}),(0,
r.jsx)(w.DK,{children:L.Z.Messages.DEEPLINK_BROWSER_APP_OPENED})]})}};function Dn(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value}catch(e){n(e);return}s.done?t(u):Promise.resolve(u).then(r,o)}var Ln=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}
if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};const Mn=function(e){var t,n,o=e.match,i=e.location,a=(n=(t=function(e,t){return Ln(this,(function(n){switch(n.label){case 0:return[4,(0,An.s)(E.jEp.CHANNEL,{guildId:e.params.guildId,channelId:e.params.channelId,messageId:e.params.messageId,search:t.search})];case 1:n.sent();return[2]}}))},function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(e){Dn(i,r,o,a,s,"next",e)}function s(e){Dn(i,r,o,a,s,"throw",e)}a(void 0)}))}),function(e,t){return n.apply(this,arguments)});return(0,r.jsx)(wn,{match:o,location:i,attemptDeepLink:a})};var Un=n(42261);function Gn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kn(e){
kn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return kn(e)}function Bn(e,t){return!t||"object"!==Fn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Vn(e,t){Vn=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Vn(e,t)}var Fn=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Hn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=kn(e);if(t){var o=kn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Bn(this,n)}}u.ZP.initialize();var zn=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Vn(e,t)}(o,e);var t=Hn(o);function o(){Gn(this,o);var e;(e=t.apply(this,arguments)).state={busy:!0,success:!1,user:null,category:null};return e}var a=o.prototype;a.componentDidMount=function(){var e=this,t=(0,D.Z)(this.props.location),n=(0,i.parse)(this.props.location.search);p.Z.post({url:E.ANM.DISABLE_EMAIL_NOTIFICATIONS,body:{token:t,pixel_uuid:n.hash,category:n.category,email_type:n.email_type},oldFormErrors:!0}).then((function(t){var r=t.body.user,o=new jt.Z(r);e.setState({success:!0,busy:!1,user:o,category:n.category})}),(function(){return e.setState({success:!1,busy:!1})}));(0,P.e)("disable_email_notifications")};a.renderBusy=function(){return(0,r.jsx)(w.ZP,{children:(0,r.jsx)(w.Hh,{})})};a.renderCategorySuccess=function(e,t){
var n=this.props,o=n.defaultRoute,i=n.transitionTo,a=L.Z.Messages.EMAIL_CATEGORY_UNSUBSCRIBE_EMAIL_BODY.format({category:t});return(0,r.jsxs)(w.ZP,{children:[(0,r.jsx)(w.Dx,{className:U().marginBottom8,children:L.Z.Messages.EMAIL_CATEGORY_UNSUBSCRIBE_HEADER}),(0,r.jsx)(w.DK,{children:a}),(0,r.jsx)(w.zx,{className:U().marginTop20,onClick:function(){return i(o)},children:L.Z.Messages.CONTINUE_TO_WEBAPP}),(0,r.jsx)(w.zx,{className:U().marginTop8,color:w.zx.Colors.LINK,look:w.zx.Looks.LINK,onClick:function(){return i(E.Z5c.SETTINGS("notifications",Un.vG))},children:L.Z.Messages.EMAIL_CATEGORY_MANAGE_SETTING_LABEL})]})};a.renderSuccess=function(){var e=this.props,t=e.defaultRoute,n=e.transitionTo,o=this.state,i=o.user,a=o.category;if(null!=a){var s=Un.Od.find((function(e){return e.category===a}));if(null!=s)return this.renderCategorySuccess(a,s.label())}return(0,r.jsxs)(w.ZP,{children:[(0,r.jsx)(w.qE,{src:null==i?void 0:i.getAvatarURL(void 0,100),size:ke.AvatarSizes.DEPRECATED_SIZE_100,
className:U().marginBottom20}),(0,r.jsx)(w.Dx,{className:U().marginBottom8,children:L.Z.Messages.AUTH_DISABLE_EMAIL_NOTIFICATIONS_SUCCESS_HEADER}),(0,r.jsx)(w.DK,{children:L.Z.Messages.AUTH_DISABLE_EMAIL_NOTIFICATIONS_SUCCESS_BODY}),(0,r.jsx)(w.zx,{className:U().marginTop40,onClick:function(){return n(t)},children:L.Z.Messages.CONTINUE_TO_WEBAPP})]})};a.renderError=function(){var e=this.props,t=e.defaultRoute,o=e.transitionTo;return(0,r.jsxs)(w.ZP,{children:[(0,r.jsx)(w.Ee,{src:n(709989),className:U().marginBottom20}),(0,r.jsx)(w.Dx,{className:U().marginBottom8,children:L.Z.Messages.AUTH_DISABLE_EMAIL_NOTIFICATIONS_FAILURE_HEADER}),(0,r.jsx)(w.DK,{children:L.Z.Messages.AUTH_DISABLE_EMAIL_NOTIFICATIONS_FAILURE_BODY}),(0,r.jsx)(w.zx,{className:U().marginTop40,onClick:function(){return o(t)},children:L.Z.Messages.CONTINUE_TO_WEBAPP})]})};a.render=function(){var e=this.state,t=e.busy,n=e.success;return t?this.renderBusy():n?this.renderSuccess():this.renderError()};return o
}(o.PureComponent);zn.defaultProps={transitionTo:function(e){return n.g.location.assign(e)}};const Kn=u.ZP.connectStores([Z.Z],(function(){return{defaultRoute:Z.Z.defaultRoute}}))(zn);var Yn=n(314620),Wn=n(285991);function Xn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qn(e){qn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return qn(e)}function Jn(e,t){return!t||"object"!==Qn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $n(e,t){$n=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return $n(e,t)}var Qn=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function er(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{
Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=qn(e);if(t){var o=qn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jn(this,n)}}var tr={};var nr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&$n(e,t)}(n,e);var t=er(n);function n(){Xn(this,n);return t.apply(this,arguments)}var r=n.prototype;r.getState=function(e){return tr[e]};r.__getLocalVars=function(){return{states:tr}};return n}(u.ZP.Store);nr.displayName="CodedLinkNativeAppStateStore";const rr=new nr(c.Z,{NATIVE_APP_MODAL_OPENING:function(e){var t=e.code;tr[t]=E.kEZ.OPENING},NATIVE_APP_MODAL_OPENED:function(e){var t=e.code;tr[t]=E.kEZ.OPEN},NATIVE_APP_MODAL_OPEN_FAILED:function(e){var t=e.code;tr[t]=E.kEZ.OPEN_FAIL}})
;var or=n(761814),ir=n(746974),ar=n(644144),sr=n(348592),ur=n(178232),cr=n(812280),lr=n(994653);function fr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dr(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value}catch(e){n(e);return}s.done?t(u):Promise.resolve(u).then(r,o)}function pr(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){dr(i,r,o,a,s,"next",e)}function s(e){dr(i,r,o,a,s,"throw",e)}a(void 0)}))}}function hr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function vr(e){vr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return vr(e)}function _r(e,t){
return!t||"object"!==Er(t)&&"function"!=typeof t?fr(e):t}function mr(e,t){mr=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return mr(e,t)}var Er=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function gr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=vr(e);if(t){var o=vr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _r(this,n)}}var br,Or=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){
if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};u.ZP.initialize();!function(e){e.REGISTER="register";e.LOGIN="login"}(br||(br={}));var Ir=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&mr(e,t)}(o,e);var t=gr(o);function o(){hr(this,o);var e;(e=t.apply(this,arguments)).state={error:null,continueOnWeb:!1,currentUser:null,sentVerification:!1,fetchingUser:!1};e.refreshUser=function(){e.setState({fetchingUser:!0});Wn.k({withAnalyticsToken:!0}).then((function(t){return e.setState({currentUser:t,fetchingUser:!1})})).catch((function(){return e.setState({fetchingUser:!1})}))};e.handleLogout=function(){var t=e.props.match.params.giftCode;l.Z.logout(E.Z5c.GIFT_CODE_LOGIN(t))};e.handleResendVerification=function(){l.Z.verifyResend();e.setState({sentVerification:!0})};var n=fr(e);e.handleAccept=pr((function(){var e,t,r,o;return Or(this,(function(i){switch(i.label){case 0:e=n.props,t=e.transitionTo;if(null==e.giftCode)throw new Error("Trying to accept gift before resolve")
;r=n.getCode();i.label=1;case 1:i.trys.push([1,3,,4]);n.setState({error:null});return[4,f.Z.redeemGiftCode(r)];case 2:i.sent();t(E.Z5c.APP);return[3,4];case 3:o=i.sent();n.setState({error:o});return[3,4];case 4:return[2]}}))}));e.resolveGiftCode=function(){var t=e.props.transitionTo,n=e.getCode();f.Z.resolveGiftCode(n,!0,!0).then((function(e){null!=e&&null!=e.giftCode.promotion&&t(E.Z5c.BILLING_PROMOTION_REDEMPTION(n))}))};return e}var i=o.prototype;i.componentDidMount=function(){var e=this.props,t=e.authenticated,n=e.isResolved;t&&this.handleAuthenticated();n||this.resolveGiftCode();(0,P.e)("gift_code")};i.componentDidUpdate=function(e){var t=this,n=this.props,r=n.authenticated;n.isResolved||c.Z.wait((function(){t.resolveGiftCode()}));r&&!e.authenticated&&this.handleAuthenticated();!r&&e.authenticated&&this.setState({currentUser:null})};i.handleAuthenticated=function(){var e=this.state.currentUser;Yn.b8();null==e&&this.refreshUser()};i.getCode=function(){
var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return e.match.params.giftCode};i.getMode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return e.login?br.LOGIN:br.REGISTER};i.getErrorMessage=function(e){var t=this.props.libraryApplication,n=this.state.error,r=null!=n?n.code:null;return r===E.evJ.INVALID_GIFT_SELF_REDEMPTION?L.Z.Messages.GIFT_CONFIRMATION_BODY_SELF_GIFT_NO_PAYMENT:null!=t||r===E.evJ.INVALID_GIFT_REDEMPTION_OWNED?L.Z.Messages.GIFT_CODE_AUTH_HELP_TEXT_OWNED.format({libraryLink:E.Z5c.APPLICATION_LIBRARY}):e.isClaimed||r===E.evJ.INVALID_GIFT_REDEMPTION_EXHAUSTED?L.Z.Messages.GIFT_CODE_AUTH_HELP_TEXT_CLAIMED:r===E.evJ.INVALID_GIFT_REDEMPTION_FRAUD_REJECTED?L.Z.Messages.GIFT_CODE_SMITE_REJECT_HELP_TEXT:void 0};i.renderSpinner=function(e){return(0,r.jsxs)(w.ZP,{children:[(0,r.jsx)(w.Dx,{children:e}),(0,r.jsx)(w.Hh,{})]})};i.renderExpiredInvite=function(){var e=this.props,t=e.defaultRoute,o=e.transitionTo;return(0,
r.jsxs)(w.ZP,{children:[(0,r.jsx)(w.Ee,{src:n(211086),className:U().marginBottom8}),(0,r.jsx)(w.Dx,{className:W()(U().marginTop8,U().marginBottom8),children:L.Z.Messages.GIFT_CODE_AUTH_INVALID_TITLE}),(0,r.jsx)(w.DK,{children:L.Z.Messages.GIFT_CODE_AUTH_INVALID_BODY}),(0,r.jsx)(w.zx,{className:W()(U().marginTop40,U().marginBottom8),onClick:function(){return o(t)},children:L.Z.Messages.CONTINUE_TO_WEBAPP}),(0,r.jsx)(w.zx,{onClick:function(){return window.open(sr.Z.getArticleURL(E.BhN.GIFTING),"_blank")},look:w.zx.Looks.LINK,color:w.zx.Colors.LINK,children:L.Z.Messages.GIFT_CODE_AUTH_INVALID_TIP})]})};i.renderAppOpened=function(){var e=this;return(0,r.jsxs)(w.ZP,{children:[(0,r.jsx)(w.Dx,{className:U().marginBottom8,children:L.Z.Messages.APP_OPENED_TITLE}),(0,r.jsx)(w.DK,{children:L.Z.Messages.APP_OPENED_BODY}),(0,r.jsx)(w.zx,{className:U().marginTop40,onClick:function(){return e.setState({continueOnWeb:!0})},children:L.Z.Messages.GIFT_CODE_AUTH_CONTINUE_IN_BROWSER})]})}
;i.renderVerification=function(e){var t=this.state.sentVerification;return(0,r.jsxs)(w.ZP,{children:[(0,r.jsx)(w.Ee,{src:n(100539),className:U().marginBottom8}),(0,r.jsx)(w.Dx,{children:L.Z.Messages.GIFT_CODE_AUTH_VERIFICATION_TITLE.format({username:e.username})}),(0,r.jsx)(w.DK,{className:U().marginTop20,children:L.Z.Messages.GIFT_CODE_AUTH_HELP_TEXT_VERIFICATION_REQUIRED}),(0,r.jsx)(w.zx,{disabled:t,className:U().marginTop40,onClick:this.handleResendVerification,children:t?L.Z.Messages.GIFT_CODE_AUTH_VERIFICATION_SENT:L.Z.Messages.RESEND_VERIFICATION_EMAIL}),(0,r.jsx)(w.zx,{look:w.zx.Looks.LINK,color:w.zx.Colors.LINK,onClick:this.refreshUser,className:U().marginTop8,children:L.Z.Messages.GIFT_CODE_AUTH_CHECK_VERIFICATION_AGAIN})]})};i.renderAuthenticated=function(e,t){var n=this.getErrorMessage(e),o=null!=n;return(0,r.jsxs)(w.ZP,{children:[(0,r.jsx)(ur.Z,{giftCode:e}),(0,r.jsx)(w.zx,{disabled:o,className:U().marginTop40,onClick:this.handleAccept,
children:L.Z.Messages.GIFT_CODE_AUTH_ACCEPT}),null!=n?(0,r.jsx)(w.DK,{className:U().marginTop20,children:n}):(0,r.jsx)(w.i_,{className:U().marginTop20,children:L.Z.Messages.GIFT_CODE_AUTH_LOGGED_IN_AS.format({userTag:ft.ZP.getUserTag(t),onLogoutClick:this.handleLogout})})]})};i.render=function(){var e=this.props,t=e.nativeAppState,n=e.sku,o=e.authenticated,i=e.giftCode,a=e.isResolved,s=e.isAccepting,u=e.transitionTo,c=e.location,l=this.state,f=l.fetchingUser,d=l.continueOnWeb;if(t===E.kEZ.OPEN&&!d)return this.renderAppOpened();if(t===E.kEZ.OPENING)return this.renderSpinner(L.Z.Messages.APP_OPENING);if(s)return this.renderSpinner(L.Z.Messages.GIFT_CODE_AUTH_ACCEPTING);if(null==i)return a?this.renderExpiredInvite():this.renderSpinner(L.Z.Messages.GIFT_CODE_AUTH_RESOLVING);if(a){if(o){var p=this.state.currentUser;return f||null==p?this.renderSpinner(L.Z.Messages.GIFT_CODE_AUTH_FETCHING_USER):this.requiresVerification&&null!=p?this.renderVerification(p):this.renderAuthenticated(i,p)}
return this.getMode()===br.LOGIN?(0,r.jsx)(cr.ZP,{giftCodeSKU:n,giftCode:i,transitionTo:u,location:c}):(0,r.jsx)(lr.Z,{giftCodeSKU:n,giftCode:i,transitionTo:u,location:c})}return null};!function(e,t,n){t&&yr(e.prototype,t);n&&yr(e,n)}(o,[{key:"requiresVerification",get:function(){var e=this.state.currentUser;return null!=e&&!e.verified}}]);return o}(o.PureComponent);const Tr=u.ZP.connectStores([cn.Z,or.Z,Pe.default,ir.Z,Z.Z,rr],(function(e){var t=e.match.params.giftCode,n=cn.Z.get(t),r=null!=n?ir.Z.get(n.skuId):null;return{giftCode:n,sku:r,libraryApplication:null!=r&&null!=n?ar.z2(n,r,or.Z):null,authenticated:Pe.default.isAuthenticated(),defaultRoute:Z.Z.defaultRoute,isResolved:cn.Z.getIsResolved(t),isAccepting:cn.Z.getIsAccepting(t),libraryApplicationsFetched:or.Z.fetched,nativeAppState:rr.getState(t)}}))(Ir);var Nr=n(985518),Ar=n(281437),xr=n(256273),Sr=n(226613),jr=n(415879),Cr=n(247246),Pr=n(335150),Rr=n(239527),Zr=n(571680),wr=n(598363),Dr=n(520574),Lr=n.n(Dr);function Mr(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ur(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Gr(e){Gr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Gr(e)}function kr(e,t){return!t||"object"!==Vr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Br(e,t){Br=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Br(e,t)}var Vr=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Fr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}()
;return function(){var n,r=Gr(e);if(t){var o=Gr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return kr(this,n)}}u.ZP.initialize();var Hr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Br(e,t)}(o,e);var t=Fr(o);function o(){Mr(this,o);var e;(e=t.apply(this,arguments)).handleContinue=function(){var t=e.props,n=t.defaultRoute;(0,t.transitionTo)(n)};return e}var i=o.prototype;i.componentDidMount=function(){(0,P.e)("guildTemplate");wr.KO||Re.Z.launch("discord://"+E.Z5c.GUILD_TEMPLATE(this.props.code),(function(){}))};i.componentDidUpdate=function(e){this.props.code!==e.code&&le.Z.resolveGuildTemplate(this.props.code)};i.renderButton=function(e,t){return wr.KO?(0,r.jsx)(w.zx,{className:U().marginTop40,onClick:t,children:e}):(0,r.jsx)(w.v6,{className:U().marginTop40})}
;i.renderSpinner=function(e){return(0,r.jsxs)(w.ZP,{children:[(0,r.jsx)(w.Dx,{children:e}),(0,r.jsx)(w.Hh,{})]})};i.renderInvalidGuildTemplate=function(){return(0,r.jsxs)(w.ZP,{children:[(0,r.jsx)(w.Ee,{src:n(211086),className:U().marginBottom8}),(0,r.jsx)(w.Dx,{className:W()(U().marginTop8,U().marginBottom8),children:L.Z.Messages.GUILD_TEMPLATE_INVALID_TITLE}),(0,r.jsx)(w.DK,{children:L.Z.Messages.GUILD_TEMPLATE_INVALID_SUBTITLE}),this.renderButton(L.Z.Messages.CONTINUE_TO_WEBAPP,this.handleContinue)]})};i.renderAppOpened=function(){return(0,r.jsxs)(w.ZP,{children:[(0,r.jsx)(w.Dx,{className:U().marginBottom8,children:L.Z.Messages.APP_OPENED_TITLE}),(0,r.jsx)(w.DK,{children:L.Z.Messages.APP_OPENED_BODY}),this.renderButton(L.Z.Messages.CONTINUE_TO_WEBAPP,this.handleContinue)]})};i.renderAuthenticatedOrDownload=function(){var e=this.props.guildTemplate;Ne()(null!=e,"guild template must not be null");return e.state===Pr.Rj.RESOLVING?(0,r.jsx)(w.ZP,{className:Lr().authBox,children:(0,
r.jsx)(xr.Z,{guildTemplate:e})}):(0,r.jsx)(zr,{guildTemplate:e})};i.renderContinue=function(){return(0,r.jsxs)(w.ZP,{children:[(0,r.jsx)(w.Dx,{children:L.Z.Messages.APP_NOT_OPENED}),this.renderButton(L.Z.Messages.CONTINUE_TO_WEBAPP,this.handleContinue)]})};i.render=function(){var e=this.props,t=e.guildTemplate,n=e.nativeAppState,o=e.authenticated,i=e.transitionTo,a=e.location;if(null==t)return this.renderSpinner(L.Z.Messages.LOADING);if(n===E.kEZ.OPEN)return this.renderAppOpened();if(n===E.kEZ.OPENING)return this.renderSpinner(L.Z.Messages.APP_OPENING);switch(t.state){case Pr.Rj.RESOLVING:return this.renderSpinner(L.Z.Messages.APP_OPENING);case Pr.Rj.RESOLVED:return o||!wr.KO?this.renderAuthenticatedOrDownload():this.props.login?(0,r.jsx)(cr.ZP,{guildTemplate:t,transitionTo:i,location:a}):(0,r.jsx)(lr.Z,{guildTemplate:t,transitionTo:i,location:a,onRegister:function(){(0,Sr.c)(Rr.M5.ORGANIC_REGISTERED_GUILD_TEMPLATE);jr.Z.flowStart(Zr.MK.ORGANIC_GUILD_TEMPLATES,Zr.EW.NUF_STARTED)}})
;case Pr.Rj.EXPIRED:return this.renderInvalidGuildTemplate();default:return null}};return o}(o.PureComponent);function zr(e){var t=e.guildTemplate,n=(0,Nr.Z)(t,!1),o=n.form,i=n.handleSubmit;jr.Z.flowStep(Zr.MK.ORGANIC_GUILD_TEMPLATES,Zr.X2.GUILD_CREATE);var a=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(w.Dx,{className:Lr().header,children:L.Z.Messages.GUILD_TEMPLATE_SETUP_DISCORD}),o,(0,r.jsx)(w.zx,{className:Lr().createButton,onClick:i,children:L.Z.Messages.GUILD_TEMPLATE_CREATE_DISCORD})]});return(0,r.jsx)(Cr.Z,{className:Lr().authBox,children:function(){return[(0,r.jsx)(Ar.Z,{guildTemplate:t},"template"),(0,r.jsx)("div",{className:Lr().formContainer,children:a},"contents")]}})}u.ZP.initialize();function Kr(e,t,n){e.preventDefault();_.default.track(E.rMx.GUILD_TEMPLATE_APP_OPENED,{guild_template_code:t,guild_template_name:n.name,guild_template_description:n.description,guild_template_guild_id:n.sourceGuildId});var r=Pe.default.getFingerprint(),o=null!=r?r:Pe.default.getId()
;le.Z.openMobileApp(n.state===Pr.Rj.RESOLVED?t:void 0,o)}function Yr(e){var t=e.code,n=(0,u.e7)([ce.Z],(function(){return ce.Z.getGuildTemplate(t)}));o.useEffect((function(){(0,P.e)("guild_template_mobile")}),[]);return null==n||n.state===Pr.Rj.RESOLVING?(0,r.jsx)(w.ZP,{children:(0,r.jsx)(ke.Spinner,{})}):n.state===Pr.Rj.RESOLVED?(0,r.jsxs)(w.ZP,{children:[(0,r.jsx)(xr.Z,{guildTemplate:n,tall:!0}),(0,r.jsx)(w.zx,{onClick:function(e){return Kr(e,t,n)},className:U().marginTop20,children:L.Z.Messages.GUILD_TEMPLATE_OPEN})]}):(0,r.jsx)(Ke,{text:L.Z.Messages.GUILD_TEMPLATE_MOBILE_INVALID_ERROR,buttonCta:L.Z.Messages.GUILD_TEMPLATE_MOBILE_INVALID_CTA,onClick:function(e){return Kr(e,t,n)}})}var Wr=n(816810),Xr=n(256183),qr=n(973889),Jr=n(553484),$r=n(14515),Qr=n(607739),eo=n(705214),to=n(661123),no=n(308921),ro=n(308739),oo=n(199790);function io(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value}catch(e){n(e);return}s.done?t(u):Promise.resolve(u).then(r,o)}function ao(e){return function(){
var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){io(i,r,o,a,s,"next",e)}function s(e){io(i,r,o,a,s,"throw",e)}a(void 0)}))}}function so(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uo(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function co(e){co=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return co(e)}function lo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){uo(e,t,n[t])}))}return e}function fo(e,t){return!t||"object"!==ho(t)&&"function"!=typeof t?function(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function po(e,t){po=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return po(e,t)}var ho=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function yo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=co(e);if(t){var o=co(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return fo(this,n)}}var vo=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){
return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};u.ZP.initialize();var _o="Accept Invite Page",mo="register",Eo="login";function go(){return(go=ao((function(e){var t;return vo(this,(function(n){switch(n.label){case 0:
return[4,d.Z.resolveInvite(e,_o)];case 1:if(null==(t=n.sent().invite))return[2];C(t);return[2]}}))}))).apply(this,arguments)}var bo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&po(e,t)}(o,e);var t=yo(o);function o(){so(this,o);var e;(e=t.apply(this,arguments)).state={error:null};e.getAcceptInviteContext=function(t){return d.Z.getInviteContext(t,e.props.invite)};e.handleContinue=function(t){var n=e.props,r=n.invite,o=n.transitionTo;if(null!=r.channel||null!=(null==t?void 0:t.channel)){var i;null!=(null===(i=r.guild)||void 0===i?void 0:i.id)?o(E.Z5c.APP_WITH_INVITE_AND_GUILD_ONBOARDING(r.code)):d.Z.transitionToInvite(null!=t?t:r,o)}};e.handleAccept=function(){e.setState({error:null});var t=e.getInviteKey();d.Z.acceptInvite({inviteKey:t,context:e.getAcceptInviteContext(_o),skipOnboarding:!0,
callback:function(e){C(e);null!=e.channel&&d.Z.openApp(t,e.channel.id)}}).catch((function(t){if(t instanceof qr.Z){var n=(0,no.O)(t.code);e.setState({error:{code:t.code,message:n}})}else e.setState({error:{code:t.code,message:L.Z.Messages.INVITE_MODAL_ERROR_DEFAULT}})}))};e.handleDefaultTransition=function(){var t=e.props,n=t.defaultRoute;(0,t.transitionTo)(n)};e.renderButton=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.handleDefaultTransition,o=e.props.invite,i=null!=o.stage_instance||null!=o.guild_scheduled_event;return wr.KO?(0,r.jsx)(w.zx,{className:i?U().marginTop20:U().marginTop40,onClick:n,color:i?w.zx.Colors.GREEN:w.zx.Colors.BRAND,children:t}):(0,r.jsx)(w.v6,{className:U().marginTop40})};return e}var i=o.prototype;i.componentDidMount=function(){var e=this.props,t=e.isUnderage,n=e.login;_.default.track(E.rMx.INVITE_VIEWED,{},{flush:!0});(0,P.e)("invite");if(!wr.KO){var r=this.getInviteKey();Re.Z.launch("discord://"+E.Z5c.INVITE(r),(function(){}))}
if(!n&&t){var o=this.getInviteKey(),i=(0,Ue.fU)(o).baseCode;(0,de.dL)(E.Z5c.INVITE_LOGIN(i))}};i.componentDidUpdate=function(e){var t=this.props,n=t.invite,r=t.nativeAppState,o=t.authenticated,i=t.transitionTo,a=this.getInviteKey();if(a!==this.getInviteKey(e))!function(e){go.apply(this,arguments)}(a);else if(n.state===E.r2o.APP_NOT_OPENED)this.handleContinue();else if(this.getMode()===Eo&&o!==e.authenticated&&o){var s=Pe.default.getFingerprint();if(null!=s){var u=(0,Ce.s)(s);this.track(E.rMx.INVITE_LOGIN_SUCCESSFUL,!0,{prev_user_id:u})}d.Z.acceptInvite({inviteKey:a,context:this.getAcceptInviteContext(_o),skipOnboarding:!0,callback:this.handleContinue})}r!==e.nativeAppState&&r===E.kEZ.OPEN&&this.track(E.rMx.INVITE_APP_INVOKED,!1);if(this.getMode()===mo&&o&&!e.authenticated){if(null!=n.channel){(0,Sr.c)(Rr.M5.INVITE_UNCLAIMED);null!=n.guild?i(E.Z5c.APP_WITH_INVITE_AND_GUILD_ONBOARDING(n.code)):d.Z.transitionToInvite(n,i)}}};i.getInviteKey=function(){
var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return e.inviteKey};i.getMode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return oo.a?mo:e.login?Eo:mo};i.track=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this.props.invite,o=this.getInviteKey(),i=(0,Ue.jX)(o),a=t?{guild_id:null!=r.guild?r.guild.id:null,channel_id:null!=r.channel?r.channel.id:null,inviter_id:null!=r.inviter?r.inviter.id:null,invite_code:i}:{invite_code:i};_.default.track(e,lo({},a,n))};i.renderSpinner=function(e){return(0,r.jsxs)(w.ZP,{children:[(0,r.jsx)(w.Dx,{children:e}),(0,r.jsx)(w.Hh,{})]})};i.renderInvalidInvite=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(0,r.jsxs)(w.ZP,{children:[(0,r.jsx)(w.Ee,{src:n(211086),className:U().marginBottom8}),(0,r.jsx)(w.Dx,{className:W()(U().marginTop8,U().marginBottom8),children:L.Z.Messages.AUTH_INVALID_INVITE_TITLE}),(0,r.jsx)(w.DK,{
children:e?L.Z.Messages.AUTH_BANNED_INVITE_BODY:L.Z.Messages.AUTH_INVALID_INVITE_BODY}),this.renderButton(L.Z.Messages.CONTINUE_TO_WEBAPP),(0,r.jsx)(w.zx,{onClick:function(){return window.open(sr.Z.getArticleURL(E.BhN.INVALID_INVITES),"_blank")},look:w.zx.Looks.LINK,color:w.zx.Colors.LINK,className:U().marginTop8,children:L.Z.Messages.AUTH_INVALID_INVITE_TIP})]})};i.renderErrorInvite=function(){var e,t;return(0,r.jsxs)(w.ZP,{children:[(0,r.jsx)(ro.Z,{invite:this.props.invite,error:null===(e=this.state.error)||void 0===e?void 0:e.message}),(null===(t=this.state.error)||void 0===t?void 0:t.code)===E.evJ.INVALID_CANNOT_FRIEND_SELF?this.renderButton(L.Z.Messages.CONTINUE_TO_WEBAPP):this.renderButton(L.Z.Messages.INSTANT_INVITE_ACCEPT,this.handleAccept)]})};i.renderExpiredInvite=function(){return this.renderInvalidInvite(!1)};i.renderBannedInvite=function(){return this.renderInvalidInvite(!0)};i.renderAppOpened=function(e){var t=null!=e?e:this.handleContinue;return(0,r.jsxs)(w.ZP,{
children:[(0,r.jsx)(w.Dx,{className:U().marginBottom8,children:L.Z.Messages.APP_OPENED_TITLE}),(0,r.jsx)(w.DK,{children:L.Z.Messages.APP_OPENED_BODY}),this.renderButton(L.Z.Messages.CONTINUE_TO_WEBAPP,(function(){return t()}))]})};i.renderAuthenticatedHeader=function(){var e=this.props.invite;return null!=e.stage_instance&&null!=e.guild?(0,r.jsx)(Qr.Z,{stageInstance:e.stage_instance,guild:e.guild}):null!=e.guild_scheduled_event?(0,r.jsx)($r.r,{channel:e.channel,guildScheduledEvent:e.guild_scheduled_event}):(0,r.jsx)(ro.Z,{invite:e})};i.renderAuthenicatedFooter=function(){var e=this.props.invite;return null==e.stage_instance&&null==e.guild_scheduled_event||null==e.guild?null:(0,r.jsx)(w.ZP,{className:U().marginTop20,children:(0,r.jsx)(Qr.y,{guild:e.guild,onlineCount:e.approximate_presence_count})})};i.renderAuthenticatedOrDownload=function(){var e=null!=this.props.invite.stage_instance?L.Z.Messages.INSTANT_INVITE_ACCEPT_STAGE:L.Z.Messages.INSTANT_INVITE_ACCEPT;return(0,r.jsxs)("div",{
children:[(0,r.jsxs)(w.ZP,{children:[this.renderAuthenticatedHeader(),this.renderButton(e,this.handleAccept)]}),this.renderAuthenicatedFooter()]})};i.renderContinue=function(){return(0,r.jsxs)(w.ZP,{children:[(0,r.jsx)(w.Dx,{children:L.Z.Messages.APP_NOT_OPENED}),this.renderButton(L.Z.Messages.CONTINUE_TO_WEBAPP)]})};i.render=function(){var e=this,t=this.props,n=t.invite,o=t.nativeAppState,i=t.authenticated,a=t.transitionTo,s=t.location;if(o===E.kEZ.OPEN)return this.renderAppOpened();switch(n.state){case E.r2o.APP_OPENED:return this.renderAppOpened();case E.r2o.APP_NOT_OPENED:return this.renderContinue();case E.r2o.RESOLVING:return oo.a?this.renderSpinner(L.Z.Messages.DEFAULT_INPUT_PLACEHOLDER):this.renderSpinner(L.Z.Messages.APP_OPENING);case E.r2o.APP_OPENING:return this.renderSpinner(L.Z.Messages.APP_OPENING);case E.r2o.RESOLVED:var u;if(i&&(0,to.yE)(null!==(u=n.flags)&&void 0!==u?u:0,Wr.$.IS_GUEST_INVITE)){d.Z.openApp(n.code);Xr.Z.set(eo.J,n.code)
;return this.renderAppOpened((function(){return a(E.Z5c.APP)}))}return i||!wr.KO?this.renderAuthenticatedOrDownload():this.getMode()===Eo?(0,r.jsx)(cr.ZP,{invite:n,transitionTo:a,location:s}):(0,r.jsx)(lr.Z,{invite:n,onLoginStart:function(){return e.track(E.rMx.INVITE_LOGIN,!0)},location:s,transitionTo:a});case E.r2o.ACCEPTING:return this.renderSpinner(L.Z.Messages.INSTANT_INVITE_ACCEPTING);case E.r2o.EXPIRED:return this.renderExpiredInvite();case E.r2o.BANNED:return this.renderBannedInvite();case E.r2o.ERROR:return this.renderErrorInvite();case E.r2o.ACCEPTED:default:return null}};return o}(o.PureComponent);const Oo=u.ZP.connectStores([it.Z,Z.Z,Pe.default,rr,Jr.Z],(function(e){var t,n=e.inviteKey;return{invite:null!==(t=it.Z.getInvite(n))&&void 0!==t?t:{},nativeAppState:rr.getState(n),authenticated:Pe.default.isAuthenticated(),defaultRoute:Z.Z.defaultRoute,isUnderage:Jr.Z.isUnderageAnonymous()}}))(bo);var Io=n(793436);function To(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value}catch(e){
n(e);return}s.done?t(u):Promise.resolve(u).then(r,o)}var No=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop()
;continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};const Ao=function(e){var t,n,o=e.match,i=e.location,a=(n=(t=function(e,t){return No(this,(function(n){switch(n.label){case 0:return[4,(0,An.s)(E.jEp.PICK_GUILD_SETTINGS,{section:e.params.section,subsection:e.params.subsection,search:t.search})];case 1:n.sent();return[2]}}))},function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(e){To(i,r,o,a,s,"next",e)}function s(e){To(i,r,o,a,s,"throw",e)}a(void 0)}))}),function(e,t){return n.apply(this,arguments)});return(0,r.jsx)(wn,{match:o,location:i,attemptDeepLink:a})};var xo=n(144936),So=n(845882),jo=n(528180),Co=n(565050),Po=n(520453),Ro=n(807572),Zo=n.n(Ro);function wo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Do(e){Do=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)}
;return Do(e)}function Lo(e,t){return!t||"object"!==Uo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Mo(e,t){Mo=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Mo(e,t)}var Uo=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Go(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Do(e);if(t){var o=Do(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Lo(this,n)}}u.ZP.initialize();var ko=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function")
;e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Mo(e,t)}(o,e);var t=Go(o);function o(){wo(this,o);var e;(e=t.apply(this,arguments)).handleVerify=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=(0,D.Z)(e.props.location);null!=n&&l.Z.verify(n,t)};e.handleLogin=function(){(0,e.props.transitionTo)(E.Z5c.LOGIN)};e.handleOpenApp=function(){var t=e.props.verifyingUserId;_.default.track(E.rMx.VERIFY_ACCOUNT_APP_OPENED,{verifying_user_id:t});(0,So.Z)("verify_email")};return e}var i=o.prototype;i.componentDidMount=function(){this.handleVerify();(0,P.e)("verify_email")};i.renderVerifyCaptcha=function(){var e=this.props.verifyErrors;return(0,r.jsxs)(w.ZP,{children:[(0,r.jsx)(w.Ee,{src:n(143613),className:W()(Zo().image,U().marginBottom20)}),(0,r.jsx)(w.Dx,{className:U().marginBottom8,children:L.Z.Messages.VERIFICATION_VERIFYING}),(0,r.jsx)(w.DK,{className:U().marginBottom40,children:L.Z.Messages.VERIFICATION_BODY_ALT
}),(0,r.jsx)("div",{className:ne().flexCenter,children:(0,r.jsx)(jo.Z,{captchaService:(0,Co.B)(e.captcha_service),sitekey:e.captcha_sitekey,className:Zo().recaptcha,theme:Po.BR.DARK,onVerify:this.handleVerify})})]})};i.renderVerifyFailed=function(){return(0,r.jsxs)(w.ZP,{children:[(0,r.jsx)(w.Ee,{src:n(639915),className:W()(Zo().image,U().marginBottom20)}),(0,r.jsx)(w.Dx,{className:U().marginBottom8,children:L.Z.Messages.VERFICATION_EXPIRED}),(0,r.jsx)(w.DK,{className:U().marginBottom40,children:L.Z.Messages._AUTH_VERFICATION_EXPIRED_SUGGESTION}),(0,r.jsx)(w.zx,{onClick:this.handleLogin,children:L.Z.Messages._LOGIN})]})};i.renderVerifySucceeded=function(){return(0,r.jsxs)(w.ZP,{children:[(0,r.jsx)(w.Ee,{src:n(143613),className:W()(Zo().image,U().marginBottom20)}),(0,r.jsx)(w.Dx,{className:U().marginBottom40,children:L.Z.Messages.VERIFICATION_VERIFIED}),(0,r.jsx)(w.zx,{onClick:this.handleOpenApp,children:L.Z.Messages.VERIFICATION_OPEN_DISCORD})]})};i.renderVerifying=function(){return(0,
r.jsxs)(w.ZP,{children:[(0,r.jsx)(w.Ee,{src:n(100539),className:W()(Zo().image,U().marginBottom20)}),(0,r.jsx)(w.Dx,{className:U().marginBottom8,children:L.Z.Messages.VERIFICATION_VERIFYING}),(0,r.jsx)(w.DK,{className:U().marginBottom40,children:L.Z.Messages.ACTION_MAY_TAKE_A_MOMENT}),(0,r.jsx)(w.zx,{submitting:!0,color:w.zx.Colors.PRIMARY})]})};i.render=function(){var e=this.props,t=e.verifyErrors,n=e.verifyFailed,r=e.verifySucceeded;return null!=t&&null!=t.captcha_key&&""!==t.captcha_key?this.renderVerifyCaptcha():n?this.renderVerifyFailed():r?this.renderVerifySucceeded():this.renderVerifying()};return o}(o.PureComponent);ko.defaultProps={transitionTo:function(e){return n.g.location.assign(e)}};const Bo=u.ZP.connectStores([Pe.default],(function(){return{verifyFailed:Pe.default.didVerifyFail(),verifyErrors:Pe.default.getVerifyErrors(),verifySucceeded:Pe.default.didVerifySucceed(),fingerprint:Pe.default.getFingerprint(),verifyingUserId:Pe.default.getVerifyingUserId()}}))(ko);n(88415)
;function Vo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Fo(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value}catch(e){n(e);return}s.done?t(u):Promise.resolve(u).then(r,o)}function Ho(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zo(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Ko(e){Ko=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Ko(e)}function Yo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){zo(e,t,n[t])}))}return e}function Wo(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Xo(e,t){return!t||"object"!==$o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function qo(e,t){qo=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return qo(e,t)}function Jo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value)
;if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Vo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var $o=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Qo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}()
;return function(){var n,r=Ko(e);if(t){var o=Ko(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Xo(this,n)}}var ei=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i
;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};u.ZP.initialize();var ti=(0,yn.Z)(cr.ZP),ni=(0,yn.Z)(Io.Z),ri=(0,yn.Z)(Oo),oi=(0,yn.Z)((function(e){var t={guildTemplate:(0,u.e7)([ce.Z],(function(){return ce.Z.getGuildTemplate(e.code)})),nativeAppState:(0,u.e7)([rr],(function(){return rr.getState(e.code)})),authenticated:(0,u.e7)([Pe.default],(function(){return Pe.default.isAuthenticated()})),defaultRoute:(0,u.e7)([Z.Z],(function(){return Z.Z.defaultRoute}))};return(0,r.jsx)(Hr,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Ur(e,t,n[t])}))}return e}({},e,t))})),ii=(0,
yn.Z)(Tr),ai=(0,yn.Z)((function(e){var t=e.inviteKey,n=e.transitionTo,i=(0,u.e7)([it.Z],(function(){return it.Z.getInvite(t)}));o.useEffect((function(){_.default.track(E.rMx.INVITE_VIEWED,{},{flush:!0});(0,P.e)("invite_mobile")}),[]);return(0,r.jsx)(sn,{invite:i,onAcceptInvite:function(e){!function(e,t,n){var r,o,i;e.preventDefault();_.default.track(E.rMx.INVITE_APP_OPENED,{invite_code:(0,Ue.jX)(t),guild_id:null==n||null===(r=n.guild)||void 0===r?void 0:r.id,channel_id:null==n||null===(o=n.channel)||void 0===o?void 0:o.id,inviter_id:null==n||null===(i=n.inviter)||void 0===i?void 0:i.id});var a=null!=n&&n.state!==E.r2o.EXPIRED&&n.state!==E.r2o.BANNED?t:void 0,s=Pe.default.getFingerprint(),u=null!=s?s:Pe.default.getId(),c=null!=n&&null!=(null==n?void 0:n.type)?Number(null==n?void 0:n.type):void 0;d.Z.openApp(a,void 0,u,void 0,c)}(e,t,i)},transitionTo:n})})),si=(0,yn.Z)(lr.Z),ui=(0,yn.Z)(Tn),ci=(0,yn.Z)(Nn),li=(0,yn.Z)(Bo),fi=(0,yn.Z)(ue),di=(0,yn.Z)(xo.Z),pi=(0,yn.Z)(Kn),hi=(0,
yn.Z)(K),yi=(0,yn.Z)((function(e){var t=e.location,i=Me(o.useState(!1),2),a=i[0],s=i[1],c=(0,u.e7)([Ie],(function(){return Ie.getState()})),l=c.verifySuccess,f=c.verifyErrors,d=c.redirectGuildId;o.useEffect((function(){var e=(0,D.Z)(t);fe.Z.verify(e);(0,P.e)("verify_hub_email")}),[t]);var p=function(){Ze(d);s(!0)};return a?(0,r.jsxs)(w.ZP,{children:[(0,r.jsx)(w.Dx,{className:De().title,children:L.Z.Messages.APP_OPENED_TITLE}),(0,r.jsx)(w.DK,{className:De().subtitle,children:L.Z.Messages.APP_OPENED_BODY}),(0,r.jsx)(w.zx,{className:De().spacedButton,onClick:function(){return(0,de.uL)(E.Z5c.CHANNEL(d))},children:L.Z.Messages.CONTINUE_TO_WEBAPP})]}):l?(0,r.jsxs)(w.ZP,{children:[(0,r.jsx)(w.Ee,{className:De().image,src:n(143613)}),(0,r.jsx)(w.Dx,{className:De().title,children:L.Z.Messages.VERIFICATION_VERIFIED}),(0,r.jsx)(w.zx,{onClick:p,children:L.Z.Messages.VERIFICATION_OPEN_DISCORD})]}):null!=f?(0,r.jsxs)(w.ZP,{children:[(0,r.jsx)(w.Ee,{className:De().image,src:n(639915)}),(0,
r.jsx)(w.Dx,{className:De().title,children:L.Z.Messages.VERFICATION_EXPIRED}),(0,r.jsx)(w.DK,{className:De().subtitle,children:L.Z.Messages._AUTH_VERFICATION_EXPIRED_SUGGESTION}),(0,r.jsx)(w.zx,{onClick:p,children:L.Z.Messages.VERIFICATION_OPEN_DISCORD})]}):(0,r.jsxs)(w.ZP,{children:[(0,r.jsx)(w.Ee,{className:De().image,src:n(100539)}),(0,r.jsx)(w.Dx,{className:De().title,children:L.Z.Messages.VERIFICATION_VERIFYING}),(0,r.jsx)(w.DK,{className:De().subtitle,children:L.Z.Messages.ACTION_MAY_TAKE_A_MOMENT}),(0,r.jsx)(w.zx,{submitting:!0,color:w.zx.Colors.PRIMARY})]})})),vi=(0,yn.Z)(Mn),_i=(0,yn.Z)(Ao),mi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&qo(e,t)}(n,e);var t=Qo(n);function n(){Ho(this,n);var e;(e=t.apply(this,arguments)).state={splash:null,redirectTo:null,backgroundId:null};return e}
var o=n.prototype;o.componentDidMount=function(){var e=this.props,t=e.inviteKey,n=e.hasLoadedExperiments,r=e.isAuthenticated;if(null!=t){!n&&r&&l.Z.getExperiments(!0);_.default.track(E.rMx.INVITE_OPENED,{invite_code:(0,Ue.jX)(t),load_time:pn()},{flush:!0})}(n||oo.a)&&this.resolveInvite();this.resolveGiftCode();this.resolveGuildTemplate();S.initialize()};o.componentDidUpdate=function(e){var t,n;e.hasLoadedExperiments||!this.props.hasLoadedExperiments||oo.a||this.resolveInvite();(null===(t=e.invite)||void 0===t?void 0:t.state)!==(null===(n=this.props.invite)||void 0===n?void 0:n.state)&&this.maybeFetchApplicationSplash()};o.componentWillUnmount=function(){S.terminate()};o.maybeFetchApplicationSplash=function(){var e=this,t=this.props.invite;if((null==t?void 0:t.state)===E.r2o.RESOLVED){var n=t.target_application;null!=n&&(0,ln.hR)(n.id,["embedded_splash"]).then((function(t){var n=Jo(t,1)[0];return e.setState({backgroundId:n})}))}};o.resolveInvite=function(){var e=this.props.inviteKey
;if(null!=e){var t,n,r=(n=(t=function(){var t;return ei(this,(function(n){switch(n.label){case 0:return[4,d.Z.resolveInvite(e,E.Usc.INVITE)];case 1:null!=(t=n.sent().invite)&&C(t);return[2]}}))},function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(e){Fo(i,r,o,a,s,"next",e)}function s(e){Fo(i,r,o,a,s,"throw",e)}a(void 0)}))}),function(){return n.apply(this,arguments)});r();d.Z.openNativeAppModal(e)}};o.resolveGuildTemplate=function(){var e=this.props.guildTemplateCode;if(null!=e){_.default.track(E.rMx.GUILD_TEMPLATE_OPENED,{guild_template_code:e,load_time:pn()},{flush:!0});le.Z.resolveGuildTemplate(e);le.Z.openNativeAppModal(e)}};o.resolveGiftCode=function(){var e=this.props.giftCode;null!=e&&f.Z.resolveGiftCode(e,!0,!0).then((function(t){null!=t&&null==t.giftCode.promotion&&c.Z.wait((function(){return f.Z.openNativeGiftCodeModal(e)}))}))};o.render=function(){var e=this.state,t=e.splash,n=e.redirectTo,o=this.props.inviteKey;return(0,
r.jsxs)(vn.Z,{splash:t,children:[(0,r.jsx)(j.Z,{path:E.Z5c.LOGIN_HANDOFF,render:function(e){return(0,r.jsx)(ni,Wo(Yo({},e),{redirectTo:n}))}}),(0,r.jsx)(j.Z,{impressionName:a.zs.USER_LOGIN,path:E.Z5c.LOGIN,render:function(e){return(0,r.jsx)(ti,Wo(Yo({},e),{redirectTo:n}))}}),(0,r.jsx)(j.Z,{impressionName:a.zs.USER_REGISTRATION,path:E.Z5c.REGISTER,render:function(e){return oo.a?(0,r.jsx)(ri,Wo(Yo({},e),{redirectTo:n,inviteKey:o})):(0,r.jsx)(si,Wo(Yo({},e),{redirectTo:n}))}}),(0,r.jsx)(j.Z,{path:E.Z5c.GIFT_CODE_LOGIN(":giftCode"),render:function(e){return(0,r.jsx)(ii,Yo({login:!0},e))}}),(0,r.jsx)(j.Z,{path:E.Z5c.GIFT_CODE(":giftCode"),render:function(e){return(0,r.jsx)(ii,Yo({},e))}}),(0,r.jsx)(j.Z,{path:[E.Z5c.INVITE_LOGIN(":inviteCode"),E.Z5c.INVITE(":inviteCode")],render:function(e){var t=e.match,n=t.params.inviteCode,o=t.path,i=e.location,a=e.transitionTo,u=(0,Ue.mb)(n,i.search);return s.tq||s.Em?(0,r.jsx)(ai,{inviteKey:u,transitionTo:a},u):(0,r.jsx)(ri,{inviteKey:u,location:i,
transitionTo:a,login:o===E.Z5c.INVITE_LOGIN(":inviteCode")})}}),(0,r.jsx)(j.Z,{path:[E.Z5c.GUILD_TEMPLATE_LOGIN(":guildTemplateCode"),E.Z5c.GUILD_TEMPLATE(":guildTemplateCode")],render:function(e){var t=e.match,n=t.params.guildTemplateCode,o=t.path,i=e.location,a=e.transitionTo;return s.tq||s.Em?(0,r.jsx)(Yr,{code:n},n):(0,r.jsx)(oi,{code:n,location:i,transitionTo:a,login:o===E.Z5c.GUILD_TEMPLATE_LOGIN(":guildTemplateCode")})}}),(0,r.jsx)(j.Z,{path:E.Z5c.VERIFY,render:function(e){return(0,r.jsx)(li,Yo({},e))}}),(0,r.jsx)(j.Z,{path:E.Z5c.VERIFY_HUB_EMAIL,render:function(e){return(0,r.jsx)(yi,Yo({},e))}}),(0,r.jsx)(j.Z,{path:E.Z5c.VERIFY_REQUEST,render:function(e){return(0,r.jsx)(fi,Yo({},e))}}),(0,r.jsx)(j.Z,{path:E.Z5c.DISABLE_EMAIL_NOTIFICATIONS,render:function(e){return(0,r.jsx)(pi,Yo({},e))}}),(0,r.jsx)(j.Z,{path:E.Z5c.DISABLE_SERVER_HIGHLIGHT_NOTIFICATIONS,render:function(e){return(0,r.jsx)(hi,Yo({},e))}}),(0,r.jsx)(j.Z,{path:E.Z5c.AUTHORIZE_IP,render:function(e){return(0,
r.jsx)(ui,Yo({},e))}}),(0,r.jsx)(j.Z,{path:E.Z5c.AUTHORIZE_PAYMENT,render:function(e){return(0,r.jsx)(ci,Yo({},e))}}),(0,r.jsx)(j.Z,{path:E.Z5c.RESET,render:function(e){return(0,r.jsx)(di,Yo({},e))}}),(0,r.jsx)(j.Z,{path:E.Z5c.PICK_GUILD_SETTINGS(":section?",":subsection?"),render:function(e){return(0,r.jsx)(_i,Yo({},e))}}),(0,r.jsx)(j.Z,{path:E.Z5c.CHANNEL(":guildId",":channelId?",":messageId?"),render:function(e){return(0,r.jsx)(vi,Yo({},e))}})]})};n.getDerivedStateFromProps=function(e,t){var n,r=e.invite,o=e.location,a=t.backgroundId,s=null!==(n=(0,i.parse)(o.search).redirect_to)&&void 0!==n?n:null;null!=s&&""!==s&&(0,hn.B)(s)&&!s.startsWith(E.Z5c.ME)||(s=null);var u=null;if(null==r)u=(0,fn.gK)(s);else if((null==r?void 0:r.state)===E.r2o.RESOLVED){var c=r.guild,l=r.target_application;null!=l?null!=a&&(u=(0,ln.xF)(l.id,a,1024)):null!=c&&"string"==typeof c.splash&&(u=at.ZP.getGuildSplashURL({id:c.id,splash:c.splash}))}return{redirectTo:s,splash:u}};return n}(o.PureComponent)
;const Ei=u.ZP.connectStores([Pe.default,it.Z,cn.Z,un.Z,ce.Z],(function(e){var t,n,r,o=e.match,i=e.location,a=null==o||null===(t=o.params)||void 0===t?void 0:t.inviteCode,s=oo.a?oo.Y:void 0,u=null!=a?(0,Ue.mb)(a,i.search):s,c=null==o||null===(n=o.params)||void 0===n?void 0:n.giftCode,l=null==o||null===(r=o.params)||void 0===r?void 0:r.guildTemplateCode;return{inviteKey:u,isAuthenticated:Pe.default.isAuthenticated(),giftCode:c,guildTemplateCode:l,gift:null!=c?cn.Z.get(c):null,invite:null!=u?it.Z.getInvite(u):null,guildTemplate:null!=l?ce.Z.getGuildTemplate(l):null,hasLoadedExperiments:un.Z.hasLoadedExperiments}}))(mi)},928975:(e,t,n)=>{"use strict";n.d(t,{Z:()=>x});var r=n(785893),o=n(667294),i=n(23279),a=n.n(i),s=n(853158),u=n(289283),c=n(945460),l=n(421281),f=n(95070),d=n.n(f),p=n(399143),h=n.n(p);function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,
writable:!0}):e[t]=n;return e}function _(e){_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return _(e)}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){v(e,t,n[t])}))}return e}function E(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e,t){g=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return g(e,t)}var b=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1
;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var o=_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return E(this,n)}}var I=(0,l.Mg)(h().responsiveWidthMobile),T=0,N=1,A={friction:10,tension:130};const x=function(e){return function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&g(e,t)}(o,t);var n=O(o);function o(){y(this,o);var e;(e=n.apply(this,arguments)).anim=new s.Z.Value(T);e.state={shouldAnimate:!u.tq};e.handleResize=function(){var t=window.innerWidth>I;!e.state.shouldAnimate&&t&&e.anim.setValue(N);e.setState({shouldAnimate:t})};e.handleResizeDebounced=a()(e.handleResize,60);return e}var i=o.prototype
;i.componentDidMount=function(){if(!u.tq){window.addEventListener("resize",this.handleResizeDebounced);this.handleResize()}};i.componentWillUnmount=function(){clearTimeout(this.timeout);window.removeEventListener("resize",this.handleResizeDebounced)};i.componentWillAppear=function(e){this.state.shouldAnimate?this.animateTo(N,e):e()};i.componentWillEnter=function(e){var t=this;if(this.state.shouldAnimate){clearTimeout(this.timeout);this.timeout=setTimeout((function(){return t.animateTo(N,e)}),40)}else e()};i.componentWillLeave=function(e){this.state.shouldAnimate?this.animateTo(T,e):e()};i.animateTo=function(e,t){s.Z.spring(this.anim,m({toValue:e},A)).start(t)};i.getAnimatedStyle=function(e){return this.state.shouldAnimate?{opacity:this.anim,transform:e?void 0:[{scale:this.anim.interpolate({inputRange:[0,1],outputRange:[1.05,1]})},{translateY:this.anim.interpolate({inputRange:[0,1],outputRange:["-70px","0px"]})},{translateZ:0}]}:null};i.render=function(){var t=this;return(0,
r.jsx)("div",{className:d().wrapper,children:(0,r.jsx)(c.AccessibilityPreferencesContext.Consumer,{children:function(n){var o=n.reducedMotion;return(0,r.jsx)(s.Z.div,{style:t.getAnimatedStyle(o.enabled),children:(0,r.jsx)(e,m({},t.props))})}})})};return o}(o.Component)}},734589:(e,t,n)=>{"use strict";n.d(t,{Z:()=>G});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),s=n(289283),u=n(945460),c=n(751615),l=n(443660);function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function p(e){p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return p(e)}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){d(e,t,n[t])}))}return e}function y(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function v(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function _(e,t){
return!t||"object"!==E(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e,t){m=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return m(e,t)}var E=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _(this,n)}}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,
writable:!0,configurable:!0}});t&&m(e,t)}(n,e);var t=g(n);function n(){f(this,n);return t.apply(this,arguments)}n.prototype.render=function(){var e=this.props,t=e.children,n=e.location,i=e.history,a=e.staticContext,s=(e.match,v(e,["children","location","history","staticContext","match"])),u=null,f=null;o.Children.forEach(t,(function(e){if(null==u&&o.isValidElement(e)){var t=e.props,r=t.component,s=t.render,l=v(t,["component","render"]),d=l.path||l.from;if(null==(u=null!=d?(0,c.LX)(n.pathname,y(h({},l),{path:d})):null))return;l=y(h({},l),{key:d,location:n,match:u,history:i,staticContext:a});null!=r?f=o.createElement(r,l):null!=s&&(f=s(l))}}));return(0,r.jsx)(l.Z,y(h({},s),{children:f}))};return n}(o.Component);const O=(0,c.EN)(b);var I=n(784426),T=n(515510),N=n(630346),A=n(421281),x=n(465704),S=n(2590),j=n(567477),C=n.n(j);function P(e){P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return P(e)}function R(e,t){
return!t||"object"!==w(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Z(e,t){Z=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Z(e,t)}var w=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=P(e);if(t){var o=P(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return R(this,n)}}var L=(0,
A.Mg)(C().responsiveWidthMobile),M=[S.Z5c.LOGIN,S.Z5c.LOGIN_HANDOFF,S.Z5c.REGISTER,S.Z5c.INVITE(""),S.Z5c.GIFT_CODE(""),S.Z5c.GUILD_TEMPLATE_LOGIN(""),S.Z5c.GUILD_TEMPLATE(""),S.Z5c.DISABLE_EMAIL_NOTIFICATIONS,S.Z5c.DISABLE_SERVER_HIGHLIGHT_NOTIFICATIONS,S.Z5c.BILLING_PREMIUM_SUBSCRIBE,S.Z5c.BILLING_PAYMENT_SOURCES_CREATE,S.Z5c.BILLING_PAYMENTS,S.Z5c.BILLING_PREMIUM_SWITCH_PLAN,S.Z5c.BILLING_GUILD_SUBSCRIPTIONS_PURCHASE,S.Z5c.VERIFY,S.Z5c.VERIFY_HUB_EMAIL,S.Z5c.AUTHORIZE_IP,S.Z5c.AUTHORIZE_PAYMENT,S.Z5c.RESET,S.Z5c.HANDOFF];function U(e){return M.some((function(t){return e.startsWith(t)}))}const G=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Z(e,t)}(n,e);var t=D(n);function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r
;(r=t.call(this,e)).handleResize=function(){r.setState({isMobileWidth:window.innerWidth<=L})};r.state={isMobileWidth:window.innerWidth<=L};return r}var i=n.prototype;i.componentDidMount=function(){window.addEventListener("resize",this.handleResize)};i.componentWillUnmount=function(){window.removeEventListener("resize",this.handleResize)};i.mobileTransitionTo=function(e,t){if(U(e))(0,I.uL)(e,t);else{var n=null!=t&&null!=t.search?t.search:null;window.location=null==n?e:"".concat(e,"?").concat(n)}};i.mobileReplaceWith=function(e){U(e)?(0,I.dL)(e):window.location=e};i.renderDefault=function(){var e=this.props.splash,t=(0,r.jsx)(O,{component:o.Fragment,children:o.Children.map(this.props.children,(function(e){return o.cloneElement(e,{transitionTo:I.uL,replaceWith:I.dL})}))});return(0,r.jsx)("div",{className:C().characterBackground,children:(0,r.jsx)(u.HeadingLevel,{forceLevel:1,children:null!=e?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(T.Z,{show:!0,className:a()(C().logo)}),(0,r.jsx)(N.h,{
splash:e,children:t})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(x.Z,{className:C().artwork,preserveAspectRatio:"xMinYMin slice"}),t]})})})};i.renderMobile=function(){var e=this;return(0,r.jsx)(O,{component:o.Fragment,children:o.Children.map(this.props.children,(function(t){return o.cloneElement(t,{transitionTo:e.mobileTransitionTo,replaceWith:e.mobileReplaceWith})}))})};i.render=function(){var e=this.state.isMobileWidth,t=navigator.userAgent.includes("GameLauncher");return e||s.tq||s.Em||t?this.renderMobile():this.renderDefault()};return n}(o.Component)},793436:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(785893),o=n(667294),i=n(517563),a=n(751615),s=n(202351),u=n(84441),c=n(561177),l=n(110108),f=n(784426),d=n(736818),p=n(812280),h=n(2590),y=n(897196);function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}
function m(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e){var t=function(e){var t=e.handoffKey,n=e.handoffToken,r=e.handoffSource;(0,c.Yz)({handoffKey:t,handoffToken:n,handoffSource:r});A(!1)},n=o.useCallback((function(t){if(function(e){var t,n=(0,a.LX)(e,{path:h.Z5c.CHANNEL(":guildId",":channelId")});return(null==n||null===(t=n.params)||void 0===t?void 0:t.channelId)===y.oC.ROLE_SUBSCRIPTIONS}(t))f.dL(t);else{var n;(null!==(n=e.transitionTo)&&void 0!==n?n:f.uL)(t)}}),[e.transitionTo]),v=(0,s.cj)([d.default],(function(){return{isAuthenticated:d.default.isAuthenticated(),loginStatus:d.default.getLoginStatus()}
})),g=v.isAuthenticated,b=v.loginStatus,O=e.location,I=e.redirectTo,T=E(o.useState(g),2),N=T[0],A=T[1];o.useEffect((function(){if(null!=O){var e=(0,i.parse)(O.search),n=e.handoff_key,r=e.handoff_token;if(null!=n&&null!=r){var o=null!=I?(0,l.L)(I):void 0;N?u.Z.logout(null).finally((function(){t({handoffKey:n,handoffToken:r,handoffSource:o})})):t({handoffKey:n,handoffToken:r,handoffSource:o})}}}),[]);return N||b===h.u34.LOGGING_IN?(0,r.jsx)(p.q3,{}):(0,r.jsx)(p.ZP,m(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){_(e,t,n[t])}))}return e}({},e),{transitionTo:n}))}},994653:(e,t,n)=>{"use strict";n.d(t,{Z:()=>ke})
;var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),s=n(517563),u=n(999357),c=n(202351),l=n(513328),f=n(945460),d=n(84441),p=n(553484),h=n(784426),y=n(558820),v=n(348592),_=n(2590),m=n(473708),E=n(565462),g=n.n(E),b=function(){return(0,h.uL)(_.Z5c.LOGIN)};const O=function(e){var t=e.authBoxClassName,o=e.underageMessage;return(0,r.jsxs)(y.ZP,{className:t,children:[(0,r.jsx)("img",{alt:"",src:n(697694),className:g().img}),(0,r.jsx)(y.Dx,{className:g().title,children:m.Z.Messages.AGE_GATE_UNDERAGE_HEADER}),(0,r.jsx)(y.DK,{className:g().subtitle,children:m.Z.Messages.AGE_GATE_UNDERAGE_BODY.format({underageMessage:null!=o?o:m.Z.Messages.AGE_GATE_UNDERAGE_BODY_DEFAULT_REG_MESSAGE,helpURL:v.Z.getArticleURL(_.BhN.AGE_GATE)})}),(0,r.jsx)(f.Button,{fullWidth:!0,onClick:b,children:m.Z.Messages.AGE_GATE_UNDERAGE_BACK_TO_LOGIN})]})};var I=n(852465),T=n(674748),N=n(527005);const A=(0,n(260561).B)({kind:"user",id:"2022-04_registration_copy_updates",label:"Registration Copy Updates",defaultConfig:{
enableNewCopy:!1,hasCopyAboveButton:!1,hasProminentCopy:!1},treatments:[{id:1,label:"Continue / Copy Above Button / High Prominence Copy",config:{enableNewCopy:!0,hasCopyAboveButton:!0,hasProminentCopy:!0}},{id:2,label:"Continue / Copy Below Button / High Prominence Copy",config:{enableNewCopy:!0,hasCopyAboveButton:!1,hasProminentCopy:!0}},{id:3,label:"Continue / Copy Above Button / Normal Prominence Copy",config:{enableNewCopy:!0,hasCopyAboveButton:!0,hasProminentCopy:!1}}]});var x=n(730381),S=n.n(x),j=n(744564),C=n(539381),P=n(520322),R=n(736818),Z=n(652591),w=n(801809),D=n(799663),L=n(561210);function M(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function U(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function G(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function k(e){var t=e.invite,n=void 0===t?null:t,r=e.giftCodeSKUId,o=void 0===r?null:r,i=e.captchaKey,a=void 0===i?null:i;return B(U(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))))
;r.forEach((function(t){M(e,t,n[t])}))}return e}({},G(e,["invite","giftCodeSKUId","captchaKey"])),{invite:n,giftCodeSKUId:o,captchaKey:a}))}function B(e){var t=e.email,n=e.phoneToken,r=e.username,o=e.consent,i=e.password,a=e.guildTemplateCode,s=e.birthday,c=e.invite,l=void 0===c?null:c,f=e.giftCodeSKUId,d=void 0===f?null:f,p=e.captchaKey,h=void 0===p?null:p,y=e.multiStep,v=void 0!==y&&y,m=e.promoEmailConsent,E=void 0===m?null:m;j.Z.dispatch({type:"REGISTER",birthday:v?s:null});if(null!=s){(0,D.Z)(s,_.jXE.REGISTER);Z.default.track(_.rMx.AGE_GATE_ACTION,{source:L.L0.REGISTER,action:L.Al.AGE_GATE_SUBMITTED});!function(e){var t=S()().diff(e,"years");if(!(t<13)){var n;n=t>=13&&t<=17?"13-17":t>=18&&t<=22?"18-22":"23+";Z.default.track(_.rMx.USER_AGE_SUBMITTED,{age_bucket:n})}}(s)}return w.Z.post({url:_.ANM.REGISTER,body:{fingerprint:R.default.getFingerprint(),email:t,username:r,password:i,invite:l,consent:o,phone_token:n,date_of_birth:null==s?void 0:s.format("YYYY-MM-DD"),gift_code_sku_id:d,
guild_template_code:a,captcha_key:h,promotional_email_opt_in:null==E?void 0:E.checked},trackedActionData:{event:u.a9.USER_REGISTER,properties:{invite_code:l,promotional_email_opt_in:null==E?void 0:E.checked,promotional_email_pre_checked:null==E?void 0:E.preChecked}}}).then((function(e){j.Z.dispatch({type:"REGISTER_SUCCESS",token:e.body.token});Z.default.track(_.rMx.AGE_GATE_ACTION,{source:L.L0.REGISTER,action:L.Al.AGE_GATE_SUCCESS})}),(function(e){var t=new C.Z(e);j.Z.dispatch({type:"REGISTER_FAILURE",error:t});null!=t.getFieldErrors("date_of_birth")&&P.wE(L.L0.REGISTER);throw e}))}var V=n(107364),F=n(347148),H=n.n(F),z=n(518280),K=n.n(z);function Y(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function W(e){var t=e.value,n=e.onChange,o=e.subText,i=e.muted,s=e.marginTopStyle;return(0,r.jsx)(V.Z,{className:null!=s?s:K().marginTop20,align:V.Z.Align.CENTER,children:(0,r.jsx)(f.Checkbox,{value:t,type:f.Checkbox.Types.INVERTED,
onChange:function(e,t){return n(t)},className:H().checkbox,children:(0,r.jsx)(y.i_,{className:a()(Y({},H().subText,!i)),children:o})})})}var X=n(14515);function q(){var e=(0,N.MD)(),t=e.required,n=e.checked;return t?(0,r.jsx)(W,{value:n,subText:m.Z.Messages.PROMOTIONAL_EMAIL_OPT_IN_CONSENT,onChange:N.ZJ,marginTopStyle:K().marginTop8,muted:!0}):null}var J=n(607739),$=n(310126);function Q(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value}catch(e){n(e);return}s.done?t(u):Promise.resolve(u).then(r,o)}function ee(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Q(i,r,o,a,s,"next",e)}function s(e){Q(i,r,o,a,s,"throw",e)}a(void 0)}))}}var te=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){
if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function ne(e){return re.apply(this,arguments)}function re(){return(re=ee((function(e){return te(this,(function(t){switch(t.label){case 0:t.trys.push([0,2,,3])
;return[4,$.default.getSetting("USERNAME_PREFIX","")];case 1:return[2,t.sent()+e];case 2:t.sent();return[3,3];case 3:return[2,e]}}))}))).apply(this,arguments)}var oe,ie,ae=n(94340),se=n(281437),ue=n(873553),ce=n(226613),le=n(560837),fe=n(686874),de=n(31914),pe=n(536038),he=n(249697),ye=n(930948),ve=n(250287),_e=n(178232),me=n(308739),Ee=n(247246);!function(e){e.VIEWED="viewed";e.SUBMITTED="submitted";e.RESEND_CODE="resend_code";e.INPUT_ERROR="input_error";e.RESPONSE_ERROR="response_error";e.SUCCESS="success"}(oe||(oe={}));!function(e){e.IDENTITY="identity";e.ACCOUNT_INFORMATION="account_information";e.FULL="full";e.AGE_GATE="age_gate";e.CAPTCHA="captcha";e.INVITE="invite";e.SMS_VERIFY="sms_verify"}(ie||(ie={}));var ge=n(199790),be=n(239527),Oe=n(717764),Ie=n.n(Oe);function Te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ne(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value}catch(e){n(e);return}s.done?t(u):Promise.resolve(u).then(r,o)}
function Ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function xe(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Se(e){Se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Se(e)}function je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){xe(e,t,n[t])}))}return e}function Ce(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
;t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Pe(e,t){return!t||"object"!==we(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Re(e,t){Re=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Re(e,t)}function Ze(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Te(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Te(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var we=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function De(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Se(e);if(t){var o=Se(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Pe(this,n)}}var Le=function(e,t){var n,r,o,i,a={label:0,
sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{
value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};c.ZP.initialize();var Me=/\.$/,Ue=function(e){return Array.isArray(e)?e.map((function(e){return e.replace(Me,"")})).join(". ").trim():e},Ge=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Re(e,t)}(n,e);var t=De(n);function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r;(r=t.call(this,e)).dateOfBirthRef=o.createRef();r._retryTimer=new l.V7;r.handleCaptchaVerify=function(e){return r.setState({captchaKey:e},(function(){r.handleRegister()}))};r.handleGotoLogin=function(e){var t=r.state.email,n=r.props,o=n.giftCode,i=n.guildTemplate,a=n.invite,u=n.location,c=n.onLoginStart,l=n.redirectTo,f=n.transitionTo;if(n.isMobileWebInviteRegistration)null==c||c(e);else{var p,h=null!=u?(0,s.parse)(u.search):{}
;if(null!=a)p=_.Z5c.INVITE_LOGIN(a.code);else if(null!=o)p=_.Z5c.GIFT_CODE_LOGIN(o.code);else if(null!=i)p=_.Z5c.GUILD_TEMPLATE_LOGIN(i.code);else if(null!=l){p=_.Z5c.LOGIN;h.redirect_to=l}else{p=_.Z5c.LOGIN;""!==t&&(h={email:t})}d.Z.loginReset();f(p,{search:(0,s.stringify)(h)});null==c||c(e);ye.S.dispatch(_.CkL.WAVE_EMPHASIZE)}};r.handleSubmit=function(e){null==e||e.preventDefault();var t=r.state.parsedDateOfBirth,n=r.props,o=n.invite;null!==n.consentRequired&&(null==o&&null==t||r.handleRegister())};r.handleBirthdayChange=function(e){r.setState({parsedDateOfBirth:e})};var i,a=null!=e.location?(0,s.parse)(e.location.search):{};r.state={email:null!==(i=a.email)&&void 0!==i?i:"",username:"",password:"",parsedDateOfBirth:null,captchaKey:null,consent:!e.consentRequired,consentRequiredProp:e.consentRequired,isRateLimited:!1};return r}var i=n.prototype;i.hasConsent=function(){var e=this.props.consentRequired,t=this.state.consent;return null!=e&&t};i.componentDidMount=function(){
this.redirectIfAuthenticated();A.trackExposure({});var e=this.props,t=e.giftCodeSKU,n=e.invite;Z.default.track(_.rMx.REGISTER_VIEWED,je({location:null!=n?"Invite Register Page":"Non-Invite Register Page",registration_source:this.registrationSource},null!=t?(0,ae.Z)(t,!1,!1):{}),{flush:!0});null==this.props.consentRequired&&d.Z.getLocationMetadata();(0,fe.e)("register")};i.componentWillUnmount=function(){this._retryTimer.stop()};i.componentDidUpdate=function(e,t){var n=this,r=this.props,o=r.apiErrors,i=r.authenticated,a=r.isUnderage,s=r.invite,u=r.onChangeStep,c=this.state.parsedDateOfBirth
;if(e.apiErrors!==o||t.parsedDateOfBirth!==c)if(this.hasError("email")||this.hasError("phone"))null!=this.emailRef&&this.emailRef.focus();else if(this.hasError("username"))null!=this.usernameRef&&this.usernameRef.focus();else if(this.hasError("password"))null!=this.passwordRef&&this.passwordRef.focus();else if(null==this.state.parsedDateOfBirth)null!=this.dateOfBirthRef.current&&this.dateOfBirthRef.current.focus();else if(this.hasError("retry_after")&&"number"==typeof this.props.apiErrors.retry_after){this.setState({isRateLimited:!0});this._retryTimer.start(1e3*this.props.apiErrors.retry_after,(function(){n.setState({isRateLimited:!1})}))}if(i&&!e.authenticated){(0,ce.c)(be.M5.ORGANIC_REGISTERED);this.redirectIfAuthenticated()}var l=ie.FULL;a||this.hasError("date_of_birth")?l=ie.AGE_GATE:this.hasError("captcha_key")?l=ie.CAPTCHA:null==s||null==s.guild&&null==s.channel||(l=ie.INVITE);u(l)};i.redirectIfAuthenticated=function(){
var e=this.props,t=e.authenticated,n=e.transitionTo,r=e.redirectTo;t&&n(null!=r?r:pe.Z.defaultRoute)};i.handleRegister=function(){var e,t=this;return(e=function(){var e,n,r,o,i,a,s,u,c,l,f,d,p,h,y,v,m,E;return Le(this,(function(g){switch(g.label){case 0:e=t.state,n=e.email,r=e.username,o=e.password,i=e.captchaKey,a=e.consent,s=e.parsedDateOfBirth;u=t.props,c=u.invite,l=u.guildTemplate,f=u.giftCode,d=u.onRegister,p=u.isMobileWebInviteRegistration;h=null!=c?c.code:null;y=null!=f?f.skuId:null;v=N.MD.getState();return ge.a?[4,ne(r)]:[3,2];case 1:E=g.sent();return[3,3];case 2:E=r;g.label=3;case 3:m=E;ye.S.dispatch(_.CkL.WAVE_EMPHASIZE);g.label=4;case 4:g.trys.push([4,9,,10]);return p||null==c?[3,6]:[4,k({username:m,consent:a,invite:h,giftCodeSKUId:y,captchaKey:i})];case 5:g.sent();return[3,8];case 6:return[4,B({email:n,username:m,consent:a,password:o,invite:h,guildTemplateCode:null==l?void 0:l.code,giftCodeSKUId:y,captchaKey:i,birthday:s,promoEmailConsent:v.required?v:null})];case 7:
g.sent();g.label=8;case 8:null==d||d();return[3,10];case 9:g.sent();return[3,10];case 10:return[2]}}))},function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ne(i,r,o,a,s,"next",e)}function s(e){Ne(i,r,o,a,s,"throw",e)}a(void 0)}))})()};i.hasError=function(e){return null!=this.props.apiErrors[e]};i.renderConsentComponents=function(){var e=this,t=this.state.consent,n=this.props,o=n.consentRequired,i=n.registrationCopyExperimentConfig,a=i.enableNewCopy,s=i.hasProminentCopy,u=null,c=null;o?c=(0,r.jsx)(W,{value:t,onChange:function(t){return e.setState({consent:t})},subText:m.Z.Messages.TERMS_PRIVACY_OPT_IN.format({termsURL:_.EYA.TERMS,privacyURL:_.EYA.PRIVACY})}):u=(0,r.jsx)(y.i_,{isProminent:!!s,className:K().marginTop20,children:a?m.Z.Messages.TERMS_PRIVACY_ON_REGISTER.format({buttonText:m.Z.Messages.CONTINUE,termsURL:_.EYA.TERMS,privacyURL:_.EYA.PRIVACY}):m.Z.Messages.TERMS_PRIVACY.format({termsURL:_.EYA.TERMS,privacyURL:_.EYA.PRIVACY})})
;return{subText:u,consentText:c}};i.renderInviteResolving=function(){var e=this,t=this.props.authBoxClassName;return(0,r.jsxs)(y.ZP,{className:t,children:[(0,r.jsx)(me.R,{}),(0,r.jsxs)(y.gO,{className:K().marginTop40,children:[(0,r.jsx)(f.FormTitle,{children:m.Z.Messages.FORM_LABEL_USERNAME}),(0,r.jsx)(f.Tooltip,{text:m.Z.Messages.AUTH_USERNAME_TOOLTIP,position:"right",color:f.Tooltip.Colors.BRAND,children:function(t){var n=t.onMouseEnter,o=t.onMouseLeave;return(0,r.jsx)(y.II,{autoFocus:!0,className:K().marginBottom8,name:"username",value:e.state.username,placeholder:m.Z.Messages.FORM_PLACEHOLDER_USERNAME,onChange:function(t){return e.setState({username:t})},onMouseEnter:n,onMouseLeave:o})}}),(0,r.jsx)(y.zx,{className:K().marginTop20,disabled:!0,children:m.Z.Messages.CONTINUE}),ge.a?null:(0,r.jsx)(y.zx,{look:y.zx.Looks.LINK,color:y.zx.Colors.LINK,disabled:!0,className:K().marginTop8,children:m.Z.Messages.ALREADY_HAVE_ACCOUNT}),(0,r.jsx)(y.i_,{disabled:!0,className:K().marginTop20,
children:m.Z.Messages.TERMS_PRIVACY.format({termsURL:_.EYA.TERMS,privacyURL:_.EYA.PRIVACY})})]})]})};i.renderInviteHeader=function(){var e=this.props.invite;return null!=(null==e?void 0:e.stage_instance)&&null!=e.guild?(0,r.jsx)(J.Z,{stageInstance:e.stage_instance,guild:e.guild}):null!=(null==e?void 0:e.guild_scheduled_event)?(0,r.jsx)(X.r,{channel:e.channel,guildScheduledEvent:e.guild_scheduled_event}):(0,r.jsx)(me.Z,{invite:e})};i.renderInviteButton=function(){var e=this,t=this.props,n=t.invite,o=t.registering,i=t.consentRequired,a=this.state.consent,s=y.zx.Colors.BRAND,u=m.Z.Messages.CONTINUE;if(null!=(null==n?void 0:n.stage_instance)){s=y.zx.Colors.GREEN;u=m.Z.Messages.INSTANT_INVITE_ACCEPT_STAGE}return(0,r.jsx)(f.Tooltip,{text:!a&&i?m.Z.Messages.TERMS_PRIVACY_OPT_IN_TOOLTIP:null,children:function(t){return(0,r.jsx)("div",Ce(je({className:K().marginTop20},t),{children:(0,r.jsx)(y.zx,{type:"submit",submitting:o,disabled:!e.hasConsent(),color:s,children:u})}))}})}
;i.renderInvite=function(){var e=this,t=this.props,n=t.invite,o=t.authBoxClassName,i=t.apiErrors.username,a=this.renderConsentComponents(),s=a.subText,u=a.consentText,c=null!=(null==n?void 0:n.stage_instance)||null!=(null==n?void 0:n.guild_scheduled_event);return(0,r.jsxs)("div",{children:[(0,r.jsxs)(y.ZP,{onSubmit:this.handleSubmit,tag:"form",className:o,children:[this.renderInviteHeader(),c?(0,r.jsx)("div",{className:Ie().divider}):null,(0,r.jsxs)(y.gO,{className:c?void 0:K().marginTop40,children:[(0,r.jsx)(f.FormTitle,{error:Ue(i),children:m.Z.Messages.FORM_LABEL_USERNAME}),(0,r.jsx)(f.Tooltip,{text:m.Z.Messages.AUTH_USERNAME_TOOLTIP,position:"right",color:f.Tooltip.Colors.BRAND,children:function(t){var n=t.onMouseEnter,o=t.onMouseLeave;return(0,r.jsx)(y.II,{autoFocus:!0,className:K().marginBottom8,name:"username",value:e.state.username,placeholder:m.Z.Messages.FORM_PLACEHOLDER_USERNAME,onChange:function(t){return e.setState({username:t})},error:null!=i?"":null,onMouseEnter:n,
onMouseLeave:o})}}),u,this.renderInviteButton(),ge.a?null:(0,r.jsx)(y.zx,{look:y.zx.Looks.LINK,color:y.zx.Colors.LINK,onClick:this.handleGotoLogin,className:K().marginTop8,children:m.Z.Messages.ALREADY_HAVE_ACCOUNT}),s]})]}),null!=n&&c?(0,r.jsx)(y.ZP,{className:K().marginTop20,children:(0,r.jsx)(J.y,{guild:n.guild,onlineCount:n.approximate_presence_count})}):null]})};i.renderErrorMessage=function(){var e=this.props.apiErrors.message;return"string"!=typeof e?null:(0,r.jsx)(y.i_,{className:a()(K().marginTop20,Ie().errorMessage),children:e})};i.renderFull=function(e,t){
var n=this,i=this.state,s=i.email,u=i.username,c=i.password,l=i.consent,d=i.parsedDateOfBirth,p=this.props,h=p.registering,v=p.consentRequired,_=p.isMobileWebInviteRegistration,E=p.authBoxClassName,g=p.apiErrors,b=void 0===g?{}:g,O=b.email,T=b.username,N=b.password,A=b.date_of_birth,x=p.hasLoggedInAccounts,S=p.registrationCopyExperimentConfig.hasCopyAboveButton,j=this.renderConsentComponents(),C=j.subText,P=j.consentText,R=this.renderErrorMessage(),Z=(0,r.jsx)(f.Tooltip,{text:!l&&v?m.Z.Messages.TERMS_PRIVACY_OPT_IN_TOOLTIP:null,children:function(e){return(0,r.jsx)("div",Ce(je({className:K().marginTop20},e),{children:(0,r.jsx)(y.zx,{type:"submit",submitting:h,disabled:!n.hasConsent()||n.state.isRateLimited,children:m.Z.Messages.CONTINUE})}))}}),w=null!=e?(0,r.jsx)(o.Fragment,{children:e()},"custom-header"):(0,r.jsx)(y.Dx,{children:m.Z.Messages.REGISTER_TITLE},"title"),D=(0,r.jsxs)(y.gO,{className:K().marginTop20,children:[(0,r.jsx)(y.II,{autoFocus:!0,className:K().marginBottom20,
label:m.Z.Messages.FORM_LABEL_EMAIL,name:"email",value:s,onChange:function(e){return n.setState({email:e})},error:Ue(O),type:"email",setRef:function(e){n.emailRef=e}}),(0,r.jsx)(y.II,{label:m.Z.Messages.FORM_LABEL_USERNAME,className:K().marginBottom20,name:"username",value:u,onChange:function(e){return n.setState({username:e})},error:Ue(T),setRef:function(e){n.usernameRef=e}}),(0,r.jsx)(y.II,{label:m.Z.Messages.FORM_LABEL_PASSWORD,name:"password",value:c,onChange:function(e){return n.setState({password:e})},error:Ue(N),type:"password",setRef:function(e){n.passwordRef=e}}),(0,r.jsx)(I.Z,{label:m.Z.Messages.AGE_GATE_YOUR_BIRTHDAY,wrapperClassName:K().marginTop20,name:"date_of_birth",onChange:this.handleBirthdayChange,ref:this.dateOfBirthRef,error:Ue(A),value:d}),P,S&&C,(0,r.jsx)(q,{}),Z,R,ge.a?null:(0,r.jsx)(y.zx,{look:_?y.zx.Looks.FILLED:y.zx.Looks.LINK,color:_?y.zx.Colors.PRIMARY:y.zx.Colors.LINK,onClick:this.handleGotoLogin,className:K().marginTop8,
children:m.Z.Messages.ALREADY_HAVE_ACCOUNT}),!S&&C]});return t?(0,r.jsx)(Ee.Z,{onSubmit:this.handleSubmit,tag:"form",className:a()(E,Ie().horizontalAuthBox),children:function(){return[w,(0,r.jsxs)("div",{className:Ie().flex,children:[(0,r.jsx)(y.Dx,{className:Ie().createAccountTemplateHeader,children:m.Z.Messages.REGISTER_TITLE}),D]},"register-title")]}}):(0,r.jsxs)(y.ZP,{onSubmit:this.handleSubmit,tag:"form",className:E,children:[x&&!_?(0,r.jsx)(y.zx,{onClick:this.handleGotoLogin,look:y.zx.Looks.LINK,color:y.zx.Colors.PRIMARY,className:Ie().goBackButton,children:(0,r.jsxs)("div",{className:Ie().content,children:[(0,r.jsx)(he.Z,{width:16,height:16,className:Ie().caret}),(0,r.jsx)(f.Text,{variant:"text-md/normal",children:m.Z.Messages.AGE_GATE_GO_BACK})]})}):null,w,D]})};i.render=function(){var e=this.props,t=e.authBoxClassName,n=e.isUnderage,o=e.apiErrors,i=o.captcha_service,a=o.captcha_sitekey,s=e.isMobileWebInviteRegistration;if(n||this.hasError("date_of_birth"))return(0,r.jsx)(O,{})
;if(this.hasError("captcha_key")&&"string"==typeof i)return(0,r.jsx)(ve.Z,{authBoxClassName:t,onVerify:this.handleCaptchaVerify,title:m.Z.Messages.REGISTER_TITLE,captchaService:i,sitekey:a});var u=this.props,c=u.invite,l=u.giftCode,f=u.guildTemplate,d=null!=c&&null==c.guild&&null==c.channel&&null!=c.inviter;return null==c||d||s?null!=f?this.renderFull((function(){return(0,r.jsx)(se.Z,{guildTemplate:f})}),!0):null!=l?this.renderFull((function(){return(0,r.jsx)(_e.Z,{giftCode:l})})):null!=c&&d&&c.state===_.r2o.RESOLVED&&!s?this.renderFull((function(){return(0,r.jsx)(me.Z,{invite:c,isRegister:!0})})):this.renderFull():c.state===_.r2o.RESOLVING?this.renderInviteResolving():this.renderInvite()};n.getDerivedStateFromProps=function(e,t){var n=e.consentRequired;return null==t.consentRequiredProp&&null!=n?{consent:!n,consentRequiredProp:n}:{consentRequiredProp:n}};!function(e,t,n){t&&Ae(e.prototype,t);n&&Ae(e,n)}(n,[{key:"registrationSource",get:function(){
var e=this.props,t=e.giftCode,n=e.guildTemplate,r=e.invite;if(null!=t)return"gift";if(null!=n)return"guild_template";if(null!=r){if(null!=r.guild)return"guild_invite";if(null!=r.channel)return"dm_invite";if(null!=r.inviter)return"friend_invite"}return null}}]);return n}(o.PureComponent);Ge.defaultProps={giftCodeResolved:!1,transitionTo:function(e){return n.g.location.assign(e)}};function ke(e){var t=(0,c.cj)([de.Z,R.default,p.Z,le.Z,ue.Z],(function(){return{consentRequired:de.Z.getAuthenticationConsentRequired(),registering:R.default.getRegisterStatus()===_.$ib.REGISTERING,apiErrors:R.default.getErrors(),authenticated:R.default.isAuthenticated(),isUnderage:p.Z.isUnderageAnonymous(),country:le.Z.getCountryCode(),hasLoggedInAccounts:ue.Z.getHasLoggedInAccounts()}})),n=Ze(o.useState(ie.FULL),2),i=n[0],a=n[1];(0,T.Z)({type:u.nv.VIEW,name:u.zs.USER_REGISTRATION,properties:{impression_group:u.AG.USER_REGISTRATION_FLOW,step:i}},{},[i]);return(0,r.jsx)(Ge,je({onChangeStep:function(e){
return a(e)},registrationCopyExperimentConfig:A.getCurrentConfig({},{autoTrackExposure:!1})},e,t))}},530847:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(785893),o=(n(667294),n(945460)),i=n(694755),a=n(473708),s=n(203181),u=n.n(s);function c(e){var t=e.icon,n=e.onChange;return(0,r.jsx)(o.FocusRing,{within:!0,children:(0,r.jsxs)("div",{className:u().iconContainer,children:[null!=t?(0,r.jsx)("img",{alt:"Your icon",className:u().filledIcon,src:t}):(0,r.jsxs)("svg",{width:"80",height:"80",viewBox:"0 0 80 80",fill:"none",children:[(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",
d:"M54.8694 2.85498C53.8065 2.4291 52.721 2.04752 51.6153 1.71253L51.3254 2.66957L51.0354 3.62661C51.9783 3.91227 52.9057 4.23362 53.8161 4.58911C54.1311 3.98753 54.4832 3.40847 54.8694 2.85498ZM75.4109 26.1839C76.0125 25.8689 76.5915 25.5168 77.145 25.1306C77.5709 26.1935 77.9525 27.279 78.2875 28.3847L77.3304 28.6746L76.3734 28.9646C76.0877 28.0217 75.7664 27.0943 75.4109 26.1839ZM78.8148 43.8253L79.8102 43.9222C79.9357 42.6318 80 41.3234 80 40C80 38.6766 79.9357 37.3682 79.8102 36.0778L78.8148 36.1747L77.8195 36.2715C77.9389 37.4977 78 38.7414 78 40C78 41.2586 77.9389 42.5023 77.8195 43.7285L78.8148 43.8253ZM43.8253 1.18515L43.9222 0.189853C42.6318 0.0642679 41.3234 0 40 0C38.6766 0 37.3682 0.064268 36.0778 0.189853L36.1747 1.18515L36.2715 2.18045C37.4977 2.06112 38.7414 2 40 2C41.2586 2 42.5023 2.06112 43.7285 2.18045L43.8253 1.18515ZM28.6746 2.66957L28.3847 1.71253C25.8549 2.47897 23.4312 3.48925 21.1408 4.71604L21.6129 5.59756L22.0851 6.47907C24.2606 5.3138 26.5624 4.35439 28.9646 3.62661L28.6746 2.66957ZM15.2587 9.85105L14.6239 9.0784C12.5996 10.7416 10.7416 12.5996 9.0784 14.6239L9.85105 15.2587L10.6237 15.8935C12.2042 13.9699 13.9699 12.2042 15.8935 10.6237L15.2587 9.85105ZM5.59756 21.6129L4.71604 21.1408C3.48925 23.4312 2.47897 25.8549 1.71253 28.3847L2.66957 28.6746L3.62661 28.9646C4.35439 26.5624 5.3138 24.2607 6.47907 22.0851L5.59756 21.6129ZM0 40C0 38.6766 0.0642679 37.3682 0.189853 36.0778L1.18515 36.1747L2.18045 36.2715C2.06112 37.4977 2 38.7414 2 40C2 41.2586 2.06112 42.5023 2.18045 43.7285L1.18515 43.8253L0.189853 43.9222C0.064268 42.6318 0 41.3234 0 40ZM2.66957 51.3254L1.71253 51.6153C2.47897 54.1451 3.48926 56.5688 4.71604 58.8592L5.59756 58.3871L6.47907 57.9149C5.3138 55.7394 4.35439 53.4376 3.62661 51.0354L2.66957 51.3254ZM9.85105 64.7413L9.0784 65.3761C10.7416 67.4004 12.5996 69.2584 14.6239 70.9216L15.2587 70.1489L15.8935 69.3763C13.9699 67.7958 12.2042 66.0301 10.6237 64.1065L9.85105 64.7413ZM21.6129 74.4024L21.1408 75.284C23.4312 76.5107 25.8549 77.521 28.3847 78.2875L28.6746 77.3304L28.9646 76.3734C26.5624 75.6456 24.2607 74.6862 22.0851 73.5209L21.6129 74.4024ZM36.1747 78.8148L36.0778 79.8102C37.3682 79.9357 38.6766 80 40 80C41.3234 80 42.6318 79.9357 43.9222 79.8102L43.8253 78.8148L43.7285 77.8195C42.5023 77.9389 41.2586 78 40 78C38.7414 78 37.4977 77.9389 36.2715 77.8195L36.1747 78.8148ZM51.3254 77.3304L51.6153 78.2875C54.1451 77.521 56.5688 76.5107 58.8592 75.284L58.3871 74.4024L57.9149 73.5209C55.7394 74.6862 53.4376 75.6456 51.0354 76.3734L51.3254 77.3304ZM64.7413 70.1489L65.3761 70.9216C67.4004 69.2584 69.2584 67.4004 70.9216 65.3761L70.1489 64.7413L69.3763 64.1065C67.7958 66.0301 66.0301 67.7958 64.1065 69.3763L64.7413 70.1489ZM74.4024 58.3871L75.284 58.8592C76.5107 56.5688 77.521 54.1451 78.2875 51.6153L77.3304 51.3254L76.3734 51.0354C75.6456 53.4375 74.6862 55.7393 73.5209 57.9149L74.4024 58.3871Z",
fill:"currentColor"}),(0,r.jsx)("circle",{cx:"68",cy:"12",r:"12",fill:"#5865f2"}),(0,r.jsx)("path",{d:"M73.3332 11.4075H68.5924V6.66675H67.4072V11.4075H62.6665V12.5927H67.4072V17.3334H68.5924V12.5927H73.3332V11.4075Z",fill:"white"}),(0,r.jsx)("path",{d:"M40 29C37.794 29 36 30.794 36 33C36 35.207 37.794 37 40 37C42.206 37 44 35.207 44 33C44 30.795 42.206 29 40 29Z",fill:"currentColor"}),(0,r.jsx)("path",{d:"M48 26.001H46.07C45.402 26.001 44.777 25.667 44.406 25.111L43.594 23.891C43.223 23.335 42.598 23 41.93 23H38.07C37.402 23 36.777 23.335 36.406 23.89L35.594 25.11C35.223 25.667 34.598 26 33.93 26H32C30.895 26 30 26.896 30 28V39C30 40.104 30.895 41 32 41H48C49.104 41 50 40.104 50 39V28C50 26.897 49.104 26.001 48 26.001ZM40 39C36.691 39 34 36.309 34 33C34 29.692 36.691 27 40 27C43.309 27 46 29.692 46 33C46 36.31 43.309 39 40 39Z",fill:"currentColor"}),(0,r.jsx)("path",{
d:"M24.6097 52.712V47.72H22.5457V52.736C22.5457 53.792 22.0777 54.404 21.1417 54.404C20.2177 54.404 19.7377 53.78 19.7377 52.712V47.72H17.6737V52.724C17.6737 55.04 19.0897 56.132 21.1177 56.132C23.1217 56.132 24.6097 55.016 24.6097 52.712ZM26.0314 56H28.0834V53.252H28.6114C30.6154 53.252 31.9474 52.292 31.9474 50.42C31.9474 48.62 30.7114 47.72 28.6954 47.72H26.0314V56ZM29.9554 50.456C29.9554 51.308 29.4514 51.704 28.5394 51.704H28.0594V49.268H28.5754C29.4874 49.268 29.9554 49.664 29.9554 50.456ZM37.8292 56L37.5532 54.224H35.0092V47.72H32.9572V56H37.8292ZM45.9558 51.848C45.9558 49.292 44.4078 47.564 42.0078 47.564C39.6078 47.564 38.0478 49.304 38.0478 51.872C38.0478 54.428 39.6078 56.156 41.9838 56.156C44.3958 56.156 45.9558 54.404 45.9558 51.848ZM43.8918 51.86C43.8918 53.504 43.1958 54.548 41.9958 54.548C40.8078 54.548 40.0998 53.504 40.0998 51.86C40.0998 50.216 40.8078 49.172 41.9958 49.172C43.1958 49.172 43.8918 50.216 43.8918 51.86ZM52.2916 56.084L54.3676 55.748L51.4876 47.684H49.2316L46.2556 56H48.2716L48.8236 54.284H51.6916L52.2916 56.084ZM50.2516 49.796L51.1756 52.676H49.3156L50.2516 49.796ZM62.5174 51.848C62.5174 49.388 61.0174 47.72 58.1374 47.72H55.2814V56H58.1854C60.9814 56 62.5174 54.308 62.5174 51.848ZM60.4534 51.86C60.4534 53.636 59.5414 54.404 58.0774 54.404H57.3334V49.316H58.0774C59.4814 49.316 60.4534 50.12 60.4534 51.86Z",
fill:"currentColor"})]}),(0,r.jsx)(i.ZP,{onChange:n,multiple:!1,tabIndex:0,"aria-label":a.Z.Messages.GUILD_CREATE_UPLOAD_ICON_BUTTON_TEXT})]})})}},520322:(e,t,n)=>{"use strict";n.d(t,{Av:()=>d,wE:()=>p,hp:()=>h});var r=n(281110),o=n(744564),i=n(799663),a=n(571690),s=n(652591),u=n(561210),c=n(2590);function l(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){l(e,t,n[t])}))}return e}function d(e,t){(0,i.Z)(e,t);s.default.track(c.rMx.AGE_GATE_ACTION,{source:t,action:u.Al.AGE_GATE_SUBMITTED});return(0,a.withCaptchaInterceptor)((function(t){return r.Z.patch({url:c.ANM.ME,oldFormErrors:!0,body:f({date_of_birth:e.format("YYYY-MM-DD")
},t)})})).then((function(e){var n=e.body;o.Z.dispatch({type:"CURRENT_USER_UPDATE",user:n});s.default.track(c.rMx.AGE_GATE_ACTION,{source:t,action:u.Al.AGE_GATE_SUCCESS})}))}function p(e){o.Z.dispatch({type:"AGE_GATE_PREVENT_UNDERAGE_REGISTRATION"});s.default.track(c.rMx.AGE_GATE_ACTION,{source:e,action:u.Al.AGE_GATE_PREVENT_UNDERAGE_REGISTRATION})}function h(e){o.Z.dispatch({type:"AGE_GATE_LOGOUT_UNDERAGE_NEW_USER"});s.default.track(c.rMx.AGE_GATE_ACTION,{source:e,action:u.Al.AGE_GATE_LOGOUT_UNDERAGE_NEW_USER})}},553484:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(676489),o=n(202351),i=n(744564),a=n(120415),s=n(561210);function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e){c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return c(e)}function l(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e,t){f=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return f(e,t)}var d=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}var h=!1,y=null,v="underage";var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}})
;t&&f(e,t)}(n,e);var t=p(n);function n(){u(this,n);return t.apply(this,arguments)}var o=n.prototype;o.isUnderageAnonymous=function(){if(!a.FB){return null!=r.parse(document.cookie).underage}return null!=y&&y+s.k0>Date.now()};o.__getLocalVars=function(){return{isUnderageAnonymous:h,failedRegisterAtTimestamp:y,UNDERAGE_SESSION_COOKIE:v}};return n}(o.ZP.Store);_.displayName="AgeGateStore";const m=new _(i.Z,{AGE_GATE_PREVENT_UNDERAGE_REGISTRATION:function(){h=!0;y=Date.now();document.cookie="".concat(v,"=1;path=/")},LOGIN_SUCCESS:function(){h=!1;y=null;document.cookie="".concat(v,"=1;path=/;max-age=0")}})},852465:(e,t,n)=>{"use strict";n.d(t,{Z:()=>O});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),s=n(730381),u=n.n(s),c=n(945460),l=n(737797),f=n(473708),d=n(645522),p=n.n(d);function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var v=u()().localeData().months(),_=Array.from(Array(31).keys()).map((function(e){return{value:e+1,label:"".concat(e+1)}})),m=Array.from(Array(12).keys()).map((function(e){return{value:e+1,label:v[e]}}))
;var E=/[a-zA-Z0-9]/;function g(e){var t=e.options,n=e.selectOption,i=e.children,a=y(o.useState(""),2),s=a[0],u=a[1];o.useEffect((function(){if(""!==s){var e=setTimeout((function(){return u("")}),1e3);return function(){return clearTimeout(e)}}}),[s,u]);var c=o.useCallback((function(e){if(E.test(e.key)){var r="".concat(s).concat(e.key.toLowerCase()),o=t.find((function(e){return e.label.toLowerCase().startsWith(r)}));null!=o&&n(o.value);u(r)}}),[n,u,s,t]);return(0,r.jsx)("div",{onKeyDown:c,children:i})}function b(){var e=u()().localeData().longDateFormat("L"),t=e.indexOf("D"),n=e.indexOf("M"),r=e.indexOf("Y");if(-1===t||-1===n||-1===r){t=0;n=1;r=2}return[{index:t,type:"day"},{index:n,type:"month"},{index:r,type:"year"}].sort((function(e,t){return e.index<t.index?-1:1}))}const O=o.forwardRef((function(e,t){var n=function(e){switch(U[e].type){case"day":k.push({key:"day",input:(0,r.jsx)(g,{options:_,selectOption:T,children:(0,r.jsx)(l.Z,{ref:D,className:p().inputDay,
"aria-label":f.Z.Messages.AGE_GATE_DOB_DAY,menuPlacement:l.Z.MenuPlacements.TOP,placeholder:(0,r.jsx)("span",{"aria-hidden":!0,children:f.Z.Messages.AGE_GATE_DOB_DAY}),options:_,value:I,onChange:function(t){var n=t.value;T(n);w(e+1)},maxMenuHeight:215})})});break;case"month":k.push({key:"month",input:(0,r.jsx)(g,{options:m,selectOption:A,children:(0,r.jsx)(l.Z,{ref:L,className:p().inputMonth,"aria-label":f.Z.Messages.AGE_GATE_DOB_MONTH,menuPlacement:l.Z.MenuPlacements.TOP,placeholder:(0,r.jsx)("span",{"aria-hidden":!0,children:f.Z.Messages.AGE_GATE_DOB_MONTH}),options:m,value:N,onChange:function(t){var n=t.value;A(n);w(e+1)},maxMenuHeight:215})})});break;case"year":k.push({key:"year",input:(0,r.jsx)(g,{options:P,selectOption:S,children:(0,r.jsx)(l.Z,{ref:M,className:p().inputYear,"aria-label":f.Z.Messages.AGE_GATE_DOB_YEAR,menuPlacement:l.Z.MenuPlacements.TOP,placeholder:(0,r.jsx)("span",{"aria-hidden":!0,children:f.Z.Messages.AGE_GATE_DOB_YEAR}),options:P,value:x,onChange:function(t){
var n=t.value;S(n);w(e+1)},maxMenuHeight:215})})})}},i=e.value,s=e.wrapperClassName,d=e.onChange,h=e.onPopulated,v=e.error,E=e.autoFocus,O=function(e){var t=null,n=null,r=null;if(null!=e){t=e.date();n=e.month()+1;r=e.year()}var i=y(o.useState(t),2),a=i[0],s=i[1],u=y(o.useState(n),2),c=u[0],l=u[1],f=y(o.useState(r),2);return{day:a,setDay:s,month:c,setMonth:l,year:f[0],setYear:f[1]}}(i),I=O.day,T=O.setDay,N=O.month,A=O.setMonth,x=O.year,S=O.setYear,j=o.useMemo((function(){return null!=I&&null!=N&&null!=x?u()("".concat(I,"/").concat(N,"/").concat(x),"DD/MM/YYYY"):null}),[I,N,x]);o.useEffect((function(){d((null==j?void 0:j.isValid())?j:null)}),[j,d]);var C=v;null==j||j.isValid()||(C=f.Z.Messages.AGE_GATE_INVALID_BIRTHDAY);var P=function(){var e=(new Date).getFullYear(),t=o.useRef(Array.from(Array(150).keys()).map((function(t){return{value:e-t-3,label:"".concat(e-t-3)}})));o.useEffect((function(){t.current=Array.from(Array(150).keys()).map((function(t){return{value:e-t-3,
label:"".concat(e-t-3)}}))}),[e]);return t.current}(),R=y(o.useState(E?0:-1),2),Z=R[0],w=R[1],D=o.useRef(null),L=o.useRef(null),M=o.useRef(null),U=o.useMemo(b,[]),G=o.useCallback((function(){var e;switch(null===(e=U[Z])||void 0===e?void 0:e.type){case"day":var t;null===(t=D.current)||void 0===t||t.focus();break;case"month":var n;null===(n=L.current)||void 0===n||n.focus();break;case"year":var r;null===(r=M.current)||void 0===r||r.focus()}}),[Z,D,L,M,U]);o.useEffect((function(){setTimeout(G,500)}),[]);o.useEffect((function(){Z>=U.length?null==h||h():G()}),[Z,G]);for(var k=[],B=0;B<3;B++)n(B);return(0,r.jsxs)("fieldset",{className:a()(p().container,s),children:[(0,r.jsx)(c.FormTitle,{tag:"legend",children:f.Z.Messages.AGE_GATE_DATE_OF_BIRTH}),(0,r.jsx)("div",{className:p().inputs,children:k.map((function(e,t){var n=e.key,o=e.input;return(0,r.jsx)("div",{tabIndex:t+1,className:p()[n],children:o},n)}))}),(0,r.jsx)(c.Text,{className:p().errors,variant:"text-sm/normal",children:C})]})}))},
926543:(e,t,n)=>{"use strict";n.d(t,{M:()=>u,Z:()=>c});var r=n(785893),o=(n(667294),n(751615)),i=n(80783),a=n(2590),s=n(199790);function u(){var e=location.pathname+location.search;return s.a?a.Z5c.REGISTER:(0,i.U)(e,!1)}const c=function(){return(0,r.jsx)(o.l_,{to:u()})}},799663:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(730381),o=n.n(r),i=n(652591),a=n(2590);function s(e,t){i.default.track(a.rMx.AGE_GATE_SUBMITTED,{dob:o()().diff(e,"years")<18?e.format("YYYY-MM-DD"):null,dob_day:e.date(),dob_month:e.month()+1,dob_year:e.year(),source:{section:t}})}},14515:(e,t,n)=>{"use strict";n.d(t,{r:()=>f});var r=n(785893),o=(n(667294),n(945460)),i=n(239813),a=n(269300),s=n(220109),u=n(33397),c=n.n(u);function l(e){var t=e.channel,n=(0,i.Th)(t.type);return(0,r.jsxs)("div",{className:c().channelInfoContainer,children:[null!=n?(0,r.jsx)(n,{width:20,height:20}):null,(0,r.jsx)(o.Text,{className:c().channelInfoText,color:"none",variant:"text-sm/semibold",children:t.name})]})}function f(e){
var t=e.channel,n=e.guildScheduledEvent;return(0,r.jsxs)("div",{className:c().container,children:[(0,r.jsx)(s.HZ,{className:c().statusContainer,userCount:n.user_count,startTime:n.scheduled_start_time,isActive:(0,a.xt)(n),isEnded:(0,a.Z2)(n),guildId:n.guild_id,eventType:n.entity_type}),(0,r.jsx)(s.Rf,{name:n.name,description:n.description,guildId:n.guild_id}),null!=t&&n.channel_id===t.id?(0,r.jsx)(l,{channel:t}):null]})}},621634:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(785893),o=n(667294),i=n(945460),a=n(599467),s=n(605013),u=n(81472),c=n(3155),l=n(436393),f=n.n(l);function d(e){var t=e.guildScheduledEvent,n=e.channel,l=e.onClose,d=t.entity_type===c.WX.EXTERNAL,p=o.useCallback((function(e){return(0,s.Qt)(t,l)(e)}),[t,l]),h=(0,u.u)(t,n);if(null==h)return null;var y=h.IconComponent,v=h.locationName,_=(0,r.jsxs)(r.Fragment,{children:[null!=y&&(0,r.jsx)(y,{width:20,height:20,className:f().channelIcon}),(0,r.jsx)(i.Text,{color:"header-secondary",variant:"text-sm/normal",
className:f().locationText,children:(0,a.m)(v,!0)})]});return(0,r.jsx)("div",{className:f().row,children:null!=p?(0,r.jsx)(i.Clickable,{className:d?f().externalLocation:f().channelLocation,onClick:p,children:_}):_})}},985518:(e,t,n)=>{"use strict";n.d(t,{Z:()=>k});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),s=n(496486),u=n.n(s),c=n(547308),l=n(336194),f=n(945460),d=n(84441),p=n(285991),h=n(530847),y=n(473903),v=n(718831),_=n(436622),m=n(796938),E=n(281110),g=n(744564),b=n(652555),O=n(934870),I=n(567403),T=n(2590);const N=function(e,t,n){g.Z.dispatch({type:"GUILD_TEMPLATE_ACCEPT",code:e});return new Promise((function(r,o){E.Z.post({url:T.ANM.UNRESOLVED_GUILD_TEMPLATE(e),body:{name:t,icon:n},oldFormErrors:!0}).then((function(t){var n=t.body;g.Z.dispatch({type:"GUILD_TEMPLATE_ACCEPT_SUCCESS",code:e,guild:n});if(b.Z.isConnected())I.Z.addConditionalChangeListener((function(){if(null!=I.Z.getGuild(n.id)){(0,O.X)(n.id);r(n);return!1}}));else{(0,O.X)(n.id);r(n)}}),(function(t){
g.Z.dispatch({type:"GUILD_TEMPLATE_ACCEPT_FAILURE",code:e});o(t.body)}))}))};var A=n(267342),x=n(652591),S=n(335150);function j(e){var t=o.useRef([]);o.useEffect((function(){if(null!=e&&e.state!==S.Rj.RESOLVING&&!t.current.includes(e.code)){t.current.push(e.code);x.default.track(T.rMx.CREATE_GUILD_VIEWED,{guild_template_code:e.code,guild_template_name:e.name,guild_template_description:e.description,guild_template_guild_id:e.sourceGuildId})}}))}var C=n(256273),P=n(473708),R=n(456124),Z=n.n(R);n(424286);function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function D(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value}catch(e){n(e);return}s.done?t(u):Promise.resolve(u).then(r,o)}function L(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){D(i,r,o,a,s,"next",e)}function s(e){D(i,r,o,a,s,"throw",e)}a(void 0)}))}}function M(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,
configurable:!0,writable:!0}):e[t]=n;return e}function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var G=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1]
;return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}
;function k(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=U(o.useState(""),2),i=n[0],a=n[1],s=U(o.useState(null),2),u=s[0],c=s[1],l=U(o.useState(null),2),v=l[0],_=l[1],m=(0,A.Z)(e.code);o.useEffect((function(){function e(){return(e=L((function(){var e;return G(this,(function(t){switch(t.label){case 0:if(null!=(e=y.default.getCurrentUser()))return[3,4];t.label=1;case 1:t.trys.push([1,3,,4]);return[4,(0,p.k)()];case 2:e=t.sent();return[3,4];case 3:t.sent();d.Z.verifySSOToken(null);return[3,4];case 4:null!=e&&a(m.defaultName.format({username:e.username}));return[2]}}))}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[m.defaultName]);var E=function(){return N(e.code,i,u).catch((function(e){return _(e)}))};j(e);var g=(0,r.jsxs)(r.Fragment,{children:[t?(0,r.jsx)(C.Z,{guildTemplate:e}):null,(0,r.jsx)("div",{className:Z().icon,children:(0,r.jsx)(h.Z,{icon:u,onChange:c})}),(0,r.jsx)(f.FormItem,{title:m.nameLabel,children:(0,r.jsx)(f.TextInput,{
type:"text",value:i,maxLength:100,onChange:a,error:null==v?void 0:v.name})}),(0,r.jsx)(f.Text,{variant:"text-xs/normal",color:"text-muted",className:Z().guidelines,children:m.terms.format({guidelinesURL:T.EYA.GUIDELINES})})]}),b=e.serializedSourceGuild.roles.filter((function(e){return"@everyone"!==e.name})),O=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:Z().divider}),(0,r.jsxs)(f.FormItem,{className:Z().previewSection,title:P.Z.Messages.GUILD_TEMPLATE_MODAL_CHANNELS_HEADER,children:[(0,r.jsx)(B,{channels:e.serializedSourceGuild.channels}),(0,r.jsxs)(f.Text,{variant:"text-xs/normal",color:"header-secondary",className:Z().protip,children:[(0,r.jsxs)("span",{className:Z().protipText,children:[P.Z.Messages.FORM_LABEL_ROLES_PRO_TIP,":"]})," ",P.Z.Messages.GUILD_TEMPLATE_MODAL_CHANNELS_TIP]})]}),b.length>0?(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(f.FormItem,{className:Z().previewSection,title:P.Z.Messages.GUILD_TEMPLATE_MODAL_ROLES_HEADER2,children:(0,r.jsx)(V,{roles:b})})
}):null]});return{form:g,preview:O,handleSubmit:E}}function B(e){var t=e.channels,n=u()(t).sortBy((function(e){return null==e.parent_id?1e4*Number(e.id):1e4*Number(e.parent_id)+e.id})).map((function(e){var t=function(e){var t=e.type;return t===T.d4z.GUILD_VOICE?m.Z:t===T.d4z.GUILD_CATEGORY?v.Z:_.Z}(e);return(0,r.jsxs)("div",{className:a()(Z().channel,M({},Z().category,e.type===T.d4z.GUILD_CATEGORY)),children:[(0,r.jsx)(t,{className:Z().channelIcon}),(0,r.jsx)(f.Text,{className:Z().channelText,variant:"text-sm/normal",children:e.name})]},e.id)})).value();return(0,r.jsx)("div",{className:Z().channelsWrapper,children:n})}function V(e){var t=e.roles.slice().reverse().map((function(e){return(0,r.jsx)(F,{role:e},e.id)}));return(0,r.jsx)("ul",{className:Z().rolesWrapper,children:t})}function F(e){var t,n=e.role,o=null==n.color?l.Z.unsafe_rawColors.PRIMARY_300.css:(0,c.Rf)(n.color);return(0,r.jsxs)("li",{className:Z().role,style:{borderColor:null!==(t=(0,c.wK)(o,.6))&&void 0!==t?t:void 0},
children:[(0,r.jsx)(f.RoleCircle,{className:Z().roleCircle,color:o}),(0,r.jsx)("div",{className:Z().roleName,children:n.name})]})}},145739:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(125333),o=n(58964),i=n(97245),a=n(269823),s=n(652591),u=n(877815),c=n(873297),l=n(2590);function f(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var d="template";const p=function(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){f(e,t,n[t])}))}return e}({},c.Z),{openNativeAppModal:function(e){a.Z.openNativeAppModal(e,l.Etm.GUILD_TEMPLATE_BROWSER)},openMobileApp:function(e,t){if(!(null!=platform.ua&&platform.ua.toLowerCase().indexOf("googlebot")>-1)){var n=null!=e?(0,r.Oh)(e):(0,r.Gk)(),a=(0,o.WS)(),c=(0,o.ZP)(n,{utmSource:d,fingerprint:t,attemptId:a});s.default.track(l.rMx.DEEP_LINK_CLICKED,{fingerprint:(0,i.K)(t),attempt_id:a,source:d,guild_template_code:e});u.Z.launch(c,(function(){}))}}})},196644:(e,t,n)=>{"use strict";n.d(t,{HJ:()=>h,yD:()=>y,Zd:()=>v});var r=n(541554),o=n(281110),i=n(744564),a=n(84441),s=n(296602),u=n(736818),c=n(873553),l=n(2590);function f(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value}catch(e){n(e);return}s.done?t(u):Promise.resolve(u).then(r,o)}var d=function(e,t){var n,r,o,i,a={label:0,
sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{
value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},p=new s.Z("MultiAccountActionCreators");function h(){var e,t,n=u.default.getId();c.Z.getUsers().forEach((t=(e=function(e){var t,a,s,u,c;return d(this,(function(f){switch(f.label){case 0:t=e.id;if(null==(a=r.Z.getToken(t))||""===a){i.Z.dispatch({type:"MULTI_ACCOUNT_VALIDATE_TOKEN_FAILURE",userId:t});return[2]}i.Z.dispatch({type:"MULTI_ACCOUNT_VALIDATE_TOKEN_REQUEST",userId:t});f.label=1;case 1:f.trys.push([1,3,,4]);return[4,o.Z.get({url:l.ANM.ME,headers:{authorization:a},retries:3})];case 2:s=f.sent();return[3,4];case 3:u=f.sent();c=401===(null==u?void 0:u.status)||403===(null==u?void 0:u.status);i.Z.dispatch({type:c?"MULTI_ACCOUNT_VALIDATE_TOKEN_FAILURE":"MULTI_ACCOUNT_VALIDATE_TOKEN_SUCCESS",userId:t});return[2];case 4:i.Z.dispatch({type:n===t?"CURRENT_USER_UPDATE":"USER_UPDATE",user:s.body});i.Z.dispatch({type:"MULTI_ACCOUNT_VALIDATE_TOKEN_SUCCESS",userId:t});return[2]}}))},function(){var t=this,n=arguments;return new Promise((function(r,o){
var i=e.apply(t,n);function a(e){f(i,r,o,a,s,"next",e)}function s(e){f(i,r,o,a,s,"throw",e)}a(void 0)}))}),function(e){return t.apply(this,arguments)}))}function y(e,t){p.log("Switching account to ".concat(e),{switchSynchronously:t});var n=r.Z.getToken(e);if(null==n){p.log("Switching accounts failed because there was no token");i.Z.dispatch({type:"MULTI_ACCOUNT_VALIDATE_TOKEN_FAILURE",userId:e});return Promise.resolve()}return a.Z.switchAccountToken(n,t)}function v(e){i.Z.dispatch({type:"MULTI_ACCOUNT_REMOVE_ACCOUNT",userId:e})}},22724:(e,t,n)=>{"use strict";n.d(t,{L:()=>u});var r=n(667294),o=n(202351),i=n(744564),a=n(196644),s=n(873553);function u(){var e=(0,o.cj)([s.Z],(function(){return{isLoading:s.Z.getIsValidatingUsers(),multiAccountUsers:s.Z.getUsers()}}));r.useEffect((function(){i.Z.wait((function(){a.HJ()}))}),[]);return e}},226613:(e,t,n)=>{"use strict";n.d(t,{c:()=>o,H:()=>i});var r=n(744564);function o(e){r.Z.wait((function(){return r.Z.dispatch({type:"NUF_NEW_USER",
newUserType:e})}))}function i(){r.Z.wait((function(){return r.Z.dispatch({type:"NUF_COMPLETE"})}))}},239527:(e,t,n)=>{"use strict";n.d(t,{M5:()=>r});var r;!function(e){e[e.MARKETING_UNCLAIMED=0]="MARKETING_UNCLAIMED";e[e.INVITE_UNCLAIMED=1]="INVITE_UNCLAIMED";e[e.ORGANIC_REGISTERED=2]="ORGANIC_REGISTERED";e[e.ORGANIC_REGISTERED_GUILD_TEMPLATE=3]="ORGANIC_REGISTERED_GUILD_TEMPLATE"}(r||(r={}))},88415:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(202351),o=n(744564);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return a(e)}function s(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e,t){u=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return u(e,t)}var c=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=a(e);if(t){var o=a(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}var f=null;var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&u(e,t)}(n,e);var t=l(n);function n(){i(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(e){var t;f=null!==(t=null==e?void 0:e.type)&&void 0!==t?t:null};r.getType=function(){return f};r.getState=function(){return{type:f}
};r.__getLocalVars=function(){return{type:f}};return n}(r.ZP.PersistedStore);d.displayName="NewUserStore";d.persistKey="nuf";const p=new d(o.Z,{NUF_NEW_USER:function(e){var t=e.newUserType;f=t},NUF_COMPLETE:function(){f=null}})},560837:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var r=n(202351),o=n(744564),i=n(335186);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e){s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return s(e)}function u(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e,t){c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c(e,t)}var l,f=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function d(e){var t=function(){
if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}var p=(0,i.K4)();function h(e){var t=e.countryCode;if(null!=t){var n;p=null!==(n=(0,i.Zz)(t))&&void 0!==n?n:(0,i.K4)()}}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&c(e,t)}(n,e);var t=d(n);function n(){a(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(e){null!=e&&(l=e.selectedCountryCode)};r.getUserAgnosticState=function(){return{selectedCountryCode:l}};r.getCountryCode=function(){
return null!=l?l:p};r.__getLocalVars=function(){return{selectedCountryCode:l,defaultCountryCode:p}};return n}(r.ZP.DeviceSettingsStore);y.displayName="PhoneStore";y.persistKey="PhoneStore";const v=new y(o.Z,{PHONE_SET_COUNTRY_CODE:function(e){var t=e.countryCode;l=t},CONNECTION_OPEN:h,SET_LOCATION_METADATA:h})},376845:(e,t,n)=>{"use strict";n.d(t,{Z:()=>x});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),s=n(824390),u=n.n(s),c=n(496486),l=n.n(c),f=n(268335),d=n(945460),p=n(335186),h=n(107364),y=n(473708),v=n(2270),_=n.n(v),m=n(637678),E=n.n(m);function g(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function b(e){b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return b(e)}function O(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){
var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function I(e,t){return!t||"object"!==N(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function T(e,t){T=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return T(e,t)}var N=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var o=b(this).constructor
;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return I(this,n)}}var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&T(e,t)}(n,e);var t=A(n);function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r;(r=t.call(this,e)).onChangeQuery=function(e){r.setState({query:e})};r.onClearQuery=function(){r.setState({query:""})};r.onClick=function(e){var t,n;null===(n=(t=r.props).onClick)||void 0===n||n.call(t,e)};r.state={query:""};return r}var i=n.prototype;i.renderItems=function(){var e=this,t=this.state.query,n=f.Z.flatMap((function(e,t){var n=e.alpha2,o=e.phoneCountryCodes,i=e.name,a=(0,p.q9)(n);return o.map((function(e){return{key:"".concat(t,"-").concat(e),name:i,translatedName:a,countryData:{name:i,alpha2:n,code:e},
children:(0,r.jsxs)(h.Z,{className:_().countryItem,justify:h.Z.Justify.CENTER,align:h.Z.Align.CENTER,children:[(0,r.jsx)(h.Z.Child,{className:_().countryName,children:a}),(0,r.jsx)(h.Z.Child,{className:_().countryCode,grow:0,shrink:0,children:e})]})}}))})),i=l()(n).filter((function(e){return 0===t.length||u()(t.toLowerCase(),e.name.toLowerCase())||u()(t.toLowerCase(),e.translatedName.toLowerCase())})).map((function(t){return(0,o.createElement)(d.PopoutList.Item,O(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){g(e,t,n[t])}))}return e}({},t),{key:t.key,onClick:function(){return e.onClick(t.countryData)}}))})).value();return 0===i.length?(0,r.jsx)(d.PopoutList.Empty,{children:y.Z.Messages.NONE}):(0,r.jsx)(d.ScrollerAuto,{
className:_().phoneFieldScroller,children:i})};i.render=function(){var e=this.props.className;return(0,r.jsxs)(d.PopoutList,{className:a()(_().phoneFieldPopout,E().elevationBorderLow,e),children:[(0,r.jsx)(d.PopoutList.SearchBar,{query:this.state.query,placeholder:y.Z.Messages.SEARCH_COUNTRY,onChange:this.onChangeQuery,onClear:this.onClearQuery,autoComplete:"off"}),(0,r.jsx)(d.PopoutList.Divider,{}),this.renderItems()]})};return n}(o.PureComponent)},770050:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(785893),o=(n(667294),n(202351)),i=n(316878),a=n(776009),s=n(69427);function u(e){var t,u=e.giftStyle,c=e.className,l=e.shouldAnimate,f=void 0===l||l,d=(0,o.e7)([i.Z],(function(){return i.Z.useReducedMotion}));if(null==u)return null;switch(u){case s.Cj.SNOWGLOBE:t=function(){return n.e(529).then(n.t.bind(n,400529,19)).then((function(e){return e.default}))};break;case s.Cj.BOX:t=function(){return n.e(12773).then(n.t.bind(n,512773,19)).then((function(e){return e.default}))};break
;case s.Cj.CUP:t=function(){return n.e(45684).then(n.t.bind(n,45684,19)).then((function(e){return e.default}))};break;default:throw new Error("Unexpected giftStyle ".concat(u))}return(0,r.jsx)(a.Z,{importData:t,shouldAnimate:!d&&f,className:c})}},686874:(e,t,n)=>{"use strict";n.d(t,{e:()=>d});var r=n(468811),o=n.n(r),i=n(306472),a=n(652591),s=n(2590);function u(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function c(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var l=function(){function e(){!function(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);this.loadId=o().v4();this.appUIViewed=!1}var t=e.prototype;t.trackEvent=function(e,t){var n=this,r=Date.now();requestIdleCallback((function(){a.default.track(e,c(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){u(e,t,n[t])}))}return e}({},function(){var e,t,n,r="--campaign-id=",o=null!==(n=null===i.Z||void 0===i.Z||null===(e=i.Z.processUtils)||void 0===e||null===(t=e.getMainArgvSync)||void 0===t?void 0:t.call(e))&&void 0!==n?n:[],a=!0,s=!1,u=void 0;try{for(var c,l=o[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var f=c.value;if(f.startsWith(r))return{referrer:f.substr(r.length)}}}catch(e){s=!0;u=e}finally{try{a||null==l.return||l.return()}finally{
if(s)throw u}}return{}}(),function(){var e=!1,t={total_compressed_byte_size:0,total_uncompressed_byte_size:0,total_transfer_byte_size:0,js_compressed_byte_size:0,js_uncompressed_byte_size:0,js_transfer_byte_size:0,css_compressed_byte_size:0,css_uncompressed_byte_size:0,css_transfer_byte_size:0};null!=window.performance&&null!=window.performance.getEntries&&window.performance.getEntries().forEach((function(n){var r=null!=n.encodedBodySize?n.encodedBodySize:n.decodedBodySize,o=null!=n.decodedBodySize?n.decodedBodySize:n.encodedBodySize,i=n.transferSize;if(null!=o&&null!=r){e=!0;t.total_compressed_byte_size+=r;t.total_uncompressed_byte_size+=o;null!=i&&(t.total_uncompressed_byte_size+=i);if("resource"===n.entryType){if("script"===n.initiatorType&&null!=n.name&&null!=n.name.match(/\.js/)){t.js_compressed_byte_size+=r;t.js_uncompressed_byte_size+=o;null!=i&&(t.js_uncompressed_byte_size+=i)}if("link"===n.initiatorType&&null!=n.name&&null!=n.name.match(/\.css/)){t.css_compressed_byte_size+=r
;t.css_uncompressed_byte_size+=o;null!=i&&(t.css_uncompressed_byte_size+=i)}}}}));return e?t:{}}()),{load_id:n.loadId,screen_name:t,duration_ms_since_app_opened:r-window.GLOBAL_ENV.HTML_TIMESTAMP}))}))};t.trackAppUIViewed=function(e){if(!this.appUIViewed){this.trackEvent(s.rMx.APP_UI_VIEWED,e);this.appUIViewed=!0}};return e}(),f=new l;function d(e){f.trackAppUIViewed(e)}},571680:(e,t,n)=>{"use strict";n.d(t,{MK:()=>r,FF:()=>o,mx:()=>i,X2:()=>a,EW:()=>s});var r,o,i,a,s;!function(e){e.UNKNOWN="unknown";e.ANY="any";e.INVITE="invite";e.ORGANIC="organic_registration";e.ORGANIC_MARKETING="organic_marketing";e.ORGANIC_GUILD_TEMPLATES="organic_guild_template";e.CREATE_GUILD="create_guild"}(r||(r={}));!function(e){e.AGE_GATE="age_gate";e.AGE_GATE_UNDERAGE="age_gate_underage"}(o||(o={}));!function(e){e.CLAIM_ACCOUNT="claim_account";e.CLAIM_ACCOUNT_SUCCESS="claim_account_success"}(i||(i={}));!function(e){e.GUILD_TEMPLATES="guild_templates";e.GUILD_CREATE="guild_create"
;e.CREATION_INTENT="creation_intent";e.CHANNEL_PROMPT="channel_prompt";e.JOIN_GUILD="join_guild";e.SUCCESS="create_success"}(a||(a={}));!function(e){e.NUF_STARTED="nuf_started";e.AGE_GATE="age_gate";e.NUF_COMPLETE="nuf_complete";e.HUB_CONNECTION="hub_connection"}(s||(s={}))},415879:(e,t,n)=>{"use strict";n.d(t,{Z:()=>O});var r=n(38736),o=n(630631),i=n(296602),a=n(652591),s=n(571680),u=n(2590);function c(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){c(e,t,n[t])}))}return e}function f(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){
var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function d(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function p(e){var t=function(e,t){if("object"!==h(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==h(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
;return"symbol"===h(t)?t:String(t)}var h=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},y="UserFlowAnalyticsStore_current",v="UserFlowAnalyticsStore";new i.Z("UserFlowAnalytics");function _(e){if(e===s.MK.UNKNOWN)return null;var t=o.Z.get("".concat(v,"-").concat(e));if(null==t)return null;var n=t.version,r=d(t,["version"]);return 1!==n?null:r}var m=(0,r.Z)((function(e,t){return c({flows:{},currentFlow:null},"activeFlow",(function(){var e,n=null!==(e=t().currentFlow)&&void 0!==e?e:o.Z.get(y);if(null==n)return null;var r=t().flows[n],i=null!=r?r:_(n);return null!=(null==i?void 0:i.currentStep)?n:null}))}));m.subscribe((function(e){var t;if(null!=e){!function(e){if(e.type!==s.MK.UNKNOWN){var t="".concat(v,"-").concat(e.type);if(e.ended){o.Z.remove(t);o.Z.remove(y)}else{o.Z.set("".concat(v,"-").concat(e.type),f(l({},e),{version:1}));o.Z.set(y,e.type)}}}(e);a.default.track(u.rMx.NUO_TRANSITION,{flow_type:e.type,from_step:e.lastStep,
to_step:e.currentStep,seconds_on_from_step:"function"!=typeof(null===(t=e.lastTimestamp)||void 0===t?void 0:t.getTime)?0:(e.currentTimestamp.getTime()-e.lastTimestamp.getTime())/1e3},{flush:!0});if(e.ended){var n=l({},m.getState().flows);delete n[e.type];m.setState({flows:n,currentFlow:null})}}}),(function(e){return null!=e.currentFlow?e.flows[e.currentFlow]:void 0}));function E(e,t){var n=m.getState().flows,r=n[e],o=d(n,[e].map(p)),i=null!=r?r:_(e);if(null!=(null==i?void 0:i.currentStep)){if(i.currentStep===t)return;0}m.setState({flows:f(l({},o),c({},e,{type:e,lastStep:null,lastTimestamp:null,currentStep:t,currentTimestamp:new Date,skipped:!1})),currentFlow:e})}function g(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e;if(e===s.MK.ANY){var o;r=null!==(o=m.getState().activeFlow())&&void 0!==o?o:s.MK.UNKNOWN}var i=m.getState().flows,a=i[r],u=d(i,[r].map(p)),h=null!=a?a:_(r);null!=h&&null!=h.currentStep&&h.currentStep!==t&&m.setState({
flows:f(l({},u),c({},r,f(l({},h),{lastStep:h.currentStep,lastTimestamp:h.currentTimestamp,currentStep:t,currentTimestamp:new Date,ended:n}))),currentFlow:r})}function b(){return null!=m.getState().activeFlow()}const O={flowStart:E,flowStepOrStart:function(e,t){b()?g(e,t):E(e,t)},flowStep:g,hasActiveFlow:b}},42261:(e,t,n)=>{"use strict";n.d(t,{vG:()=>i,$Z:()=>r,M0:()=>a,Od:()=>s});var r,o=n(473708),i="emails";!function(e){e.COMMUNICATION="communication";e.SOCIAL="social";e.TIPS="tips";e.RECOMMENDATIONS_AND_EVENTS="recommendations_and_events";e.UPDATES_AND_ANNOUNCEMENTS="updates_and_announcements";e.FAMILY_CENTER_DIGEST="family_center_digest"}(r||(r={}));var a=[r.TIPS,r.RECOMMENDATIONS_AND_EVENTS,r.UPDATES_AND_ANNOUNCEMENTS],s=[{category:r.COMMUNICATION,label:function(){return o.Z.Messages.USER_SETTINGS_EMAIL_CATEGORY_COMMUNICATION},subLabel:function(){return o.Z.Messages.USER_SETTINGS_EMAIL_CATEGORY_COMMUNICATION_SUBLABEL}},{category:r.SOCIAL,label:function(){
return o.Z.Messages.USER_SETTINGS_EMAIL_CATEGORY_SOCIAL},subLabel:function(){return o.Z.Messages.USER_SETTINGS_EMAIL_CATEGORY_SOCIAL_SUBLABEL}},{category:r.UPDATES_AND_ANNOUNCEMENTS,label:function(){return o.Z.Messages.USER_SETTINGS_EMAIL_CATEGORY_UPDATES_AND_ANNOUNCEMENTS},subLabel:function(){return o.Z.Messages.USER_SETTINGS_EMAIL_CATEGORY_UPDATES_AND_ANNOUNCEMENTS_SUBLABEL}},{category:r.TIPS,label:function(){return o.Z.Messages.USER_SETTINGS_EMAIL_CATEGORY_TIPS},subLabel:function(){return o.Z.Messages.USER_SETTINGS_EMAIL_CATEGORY_TIPS_SUBLABEL}},{category:r.RECOMMENDATIONS_AND_EVENTS,label:function(){return o.Z.Messages.USER_SETTINGS_EMAIL_CATEGORY_RECOMMENDATIONS_AND_EVENTS},subLabel:function(){return o.Z.Messages.USER_SETTINGS_EMAIL_CATEGORY_RECOMMENDATIONS_AND_EVENTS_SUBLABEL}}]},543976:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var r=n(730381),o=n.n(r),i=n(169376),a=n(661123),s=n(800336),u=n(203600);function c(e,t){for(var n=0;n<t.length;n++){var r=t[n]
;r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function l(e){l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return l(e)}function f(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e,t){d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return d(e,t)}var p=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)
}else n=r.apply(this,arguments);return f(this,n)}}var y=Object.freeze({PAYMENT_SOURCE_REQUIRED:1,EXISTING_PREMIUM_SUBSCRIPTION_DISALLOWED:2,NOT_SELF_REDEEMABLE:4}),v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&d(e,t)}(n,e);var t=h(n);function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r;(r=t.call(this)).userId=e.userId;r.code=e.code;r.skuId=e.skuId;r.uses=e.uses;r.maxUses=e.maxUses;r.expiresAt=e.expiresAt;r.redeemed=e.redeemed;r.storeListingId=e.storeListingId;r.subscriptionPlanId=e.subscriptionPlanId;r.subscriptionPlan=e.subscriptionPlan;r.revoked=e.revoked;r.entitlementBranches=e.entitlementBranches;r.flags=e.flags;r.subscriptionTrial=e.subscriptionTrial;r.promotion=e.promotion;r.giftStyle=e.giftStyle;return r}var r=n.prototype
;r.isExpired=function(){var e=this.expiresAt;return null!=e&&o()().isAfter(e)};r.toString=function(){return this.code};n.createFromServer=function(e){return new n({userId:null!=e.user?e.user.id:null,code:e.code,skuId:e.sku_id,uses:e.uses,maxUses:e.max_uses,storeListingId:null!=e.store_listing?e.store_listing.id:null,expiresAt:null!=e.expires_at?o()(e.expires_at):null,redeemed:e.redeemed,subscriptionPlanId:null!=e.subscription_plan?e.subscription_plan.id:e.subscription_plan_id,subscriptionPlan:null!=e.subscription_plan?s.Z.createFromServer(e.subscription_plan):null,revoked:!1,entitlementBranches:null!=e.entitlement_branches?e.entitlement_branches:null,flags:null!=e.flags?e.flags:0,giftStyle:e.gift_style,subscriptionTrial:null!=e.subscription_trial?{id:e.subscription_trial.id,interval:e.subscription_trial.interval,intervalCount:e.subscription_trial.interval_count,skuId:e.subscription_trial.sku_id}:null,promotion:null!=e.promotion?{id:e.promotion.id,startDate:e.promotion.start_date,
endDate:e.promotion.end_date,inboundHeaderText:e.promotion.inbound_header_text,inboundBodyText:e.promotion.inbound_body_text,inboundHelpCenterLink:e.promotion.inbound_help_center_link}:null})};!function(e,t,n){t&&c(e.prototype,t);n&&c(e,n)}(n,[{key:"hasMultipleCopies",get:function(){return this.maxUses>1}},{key:"isClaimed",get:function(){return this.uses>=this.maxUses}},{key:"remainingUses",get:function(){return this.maxUses-this.uses}},{key:"isSubscription",get:function(){return null!=this.subscriptionPlanId}},{key:"premiumSubscriptionType",get:function(){return this.isSubscription&&u.y7[this.skuId]||null}},{key:"isSelfRedeemable",get:function(){return!(0,a.yE)(this.flags,y.NOT_SELF_REDEEMABLE)}},{key:"isExistingPremiumSubscriptionDisallowed",get:function(){return(0,a.yE)(this.flags,y.EXISTING_PREMIUM_SUBSCRIPTION_DISALLOWED)}},{key:"analyticsData",get:function(){return{gift_code:this.code,gift_code_max_uses:this.maxUses}}}]);return n}(i.Z)},536038:(e,t,n)=>{"use strict";n.d(t,{
Z:()=>m});var r=n(202351),o=n(630631),i=n(744564),a=n(2590);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function c(e){c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return c(e)}function l(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e,t){f=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return f(e,t)}var d=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{
Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}var h={lastViewedPath:null,lastViewedNonVoicePath:null},y=h,v="LAST_VIEWED_PATH";var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&f(e,t)}(n,e);var t=p(n);function n(){s(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;y=null!=e?e:h};r.getState=function(){return y};r.__getLocalVars=function(){return{initialState:h,state:y,LEGACY_STORAGE_KEY:v}};!function(e,t,n){t&&u(e.prototype,t);n&&u(e,n)}(n,[{key:"defaultRoute",get:function(){return a.Z5c.ME}},{
key:"lastNonVoiceRoute",get:function(){var e;return null!==(e=y.lastViewedNonVoicePath)&&void 0!==e?e:a.Z5c.ME}},{key:"fallbackRoute",get:function(){return a.Z5c.ME}}]);return n}(r.ZP.PersistedStore);_.displayName="DefaultRouteStore";_.persistKey="DefaultRouteStore";_.migrations=[function(){var e=o.Z.get(v,null);o.Z.remove(v);return{lastViewedPath:e}}];const m=new _(i.Z,{SAVE_LAST_ROUTE:function(e){var t=e.path;y.lastViewedPath=t;return!0},SAVE_LAST_NON_VOICE_ROUTE:function(e){var t=e.path;y.lastViewedNonVoicePath=t;return!0}})},836485:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),s=n(107364),u=n(304404),c=n.n(u);function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e){f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return f(e)}function d(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&h(e,t)}function p(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e,t){h=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return h(e,t)}var y=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments)
;return p(this,n)}}var _=function(e){d(n,e);var t=v(n);function n(){l(this,n);var e;(e=t.apply(this,arguments)).setCodeBlockRef=function(t){e._codeBlockRef=t};e.handleKeyDown=function(t){var n=8===t.which||37===t.which||39===t.which,r=t.which>=48&&t.which<=57||t.keyCode>=96&&t.keyCode<=105;n||r||t.preventDefault();var o=e.props.onKeyDown;null==o||o(t)};e.handleChange=function(t){var n=e.props.onChange;null==n||n(t.currentTarget.value)};return e}var o=n.prototype;o.render=function(){var e=this.props.className;return(0,r.jsx)("input",{ref:this.setCodeBlockRef,className:a()(c().input,e),maxLength:1,value:null!=this.props.code?this.props.code:void 0,autoFocus:this.props.autoFocus,onKeyDown:this.handleKeyDown,onChange:this.handleChange})};o.focus=function(){var e;null===(e=this._codeBlockRef)||void 0===e||e.focus()};o.blur=function(){var e;null===(e=this._codeBlockRef)||void 0===e||e.blur()};return n}(o.PureComponent);_.defaultProps={autoFocus:!1};var m=function(e){d(n,e);var t=v(n)
;function n(e){l(this,n);var r;(r=t.call(this,e))._codeBlockRefs=new Array(r.props.count);r.state={codes:new Array(e.count)};return r}var o=n.prototype;o.render=function(){for(var e=function(e){e===a.length/2&&u.push((0,r.jsx)("div",{className:c().spacer},"spacer"));u.push((0,r.jsx)(_,{ref:function(n){return t.setCodeBlockRef(e,n)},code:a[e],autoFocus:0===e,onChange:function(n){return t.handleChange(e,n)},onKeyDown:function(n){return t.handleKeyDown(e,n)},className:i},e))},t=this,n=this.props,o=n.className,i=n.inputClassName,a=this.state.codes,u=[],l=0;l<a.length;l++)e(l);return(0,r.jsx)(s.Z,{align:s.Z.Align.CENTER,justify:s.Z.Justify.CENTER,className:o,children:u})};o.setCodeBlockRef=function(e,t){this._codeBlockRefs[e]=t};o.handleChange=function(e,t){this.state.codes[e]=t;var n=this.getCodeOrFirstEmptyIndex();if("string"==typeof n)this.submit(n);else{var r=this._codeBlockRefs[n];null==r||r.focus()}};o.handleKeyDown=function(e,t){var n=this.state.codes
;if(8===t.which&&e>0&&(null==n[e]||0===n[e].length)){var r=e-1;n[r]="";var o=this._codeBlockRefs[r];null==o||o.focus()}};o.getCodeOrFirstEmptyIndex=function(){for(var e=this.state.codes,t="",n=0;n<e.length;n++){if(isNaN(parseInt(e[n])))return n;t+=e[n]}return t};o.submit=function(e){var t=this.props.onSubmit;null==t||t(e)};return n}(o.PureComponent);m.defaultProps={count:6};const E=m},737797:(e,t,n)=>{"use strict";n.d(t,{v:()=>T,Z:()=>N});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),s=n(392224),u=n(945460),c=n(2590),l=n(473708),f=n(105227),d=n.n(f);function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function y(e){y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return y(e)}function v(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){h(e,t,n[t])}))}return e}function _(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function m(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e)
;for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function E(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e,t){g=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return g(e,t)}var b,O=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return E(this,n)}}!function(e){e.TOP="top";e.BOTTOM="bottom"}(b||(b={}));var T={
container:function(e,t){var n=t.isDisabled;return _(v({},e),{cursor:n?"not-allowed":void 0,pointerEvents:void 0,fontSize:16,fontWeight:500,width:"100%"})},control:function(e,t){var n=t.isDisabled,r=t.menuIsOpen;return _(v({},e),{backgroundColor:"var(--input-background)",borderColor:"var(--input-background)",opacity:n?.6:1,boxShadow:void 0,borderRadius:r?"4px 4px 0 0":"4px",minHeight:40,transition:"border 0.15s ease",cursor:n?"not-allowed":void 0,pointerEvents:n?"none":void 0,"&:hover":{borderColor:"var(--input-background)"}})},singleValue:function(e,t){var n=t.isDisabled;return _(v({},e),{color:"var(--interactive-normal)",opacity:n?.5:1})},input:function(e){return _(v({},e),{color:"var(--interactive-normal)"})},menu:function(e){return _(v({},e),{backgroundColor:"var(--background-secondary)",border:"1px solid var(--background-tertiary)",borderRadius:"0 0 4px 4px",color:"var(--interactive-normal)",marginTop:-1,marginBottom:-1})},clearIndicator:function(e,t){var n=t.isDisabled
;return _(v({},e),{color:"var(--interactive-normal)",cursor:n?void 0:"pointer",opacity:.3,padding:"8px 0",transform:"scale(0.8)",":hover":{color:"var(--text-danger)",opacity:1}})},indicatorsContainer:function(e){return _(v({},e),{alignItems:"flex-start"})},dropdownIndicator:function(e,t){var n=t.isDisabled;return _(v({},e),{color:"var(--interactive-normal)",cursor:n?void 0:"pointer",opacity:n?.3:1,padding:"8px 8px 8px 0",":hover":{color:"var(--interactive-hover)",opacity:n?.3:1}})},menuList:function(e){return _(v({},e),{padding:0,"&::-webkit-scrollbar":{width:8,padding:"0px 2px"},"&::-webkit-scrollbar-thumb":{backgroundColor:"var(--scrollbar-thin-thumb)",border:"2px solid transparent",backgroundClip:"padding-box",borderRadius:4},"&::-webkit-scrollbar-track-piece":{backgroundColor:"transparent",borderColor:"transparent"}})},option:function(e,t){var n=t.isSelected,r=t.isFocused;return _(v({},e,n?{backgroundColor:"var(--background-modifier-selected)",color:"var(--interactive-active)"}:r?{
backgroundColor:"var(--background-modifier-hover)",color:"var(--interactive-hover)"}:{backgroundColor:"transparent",color:"var(--interactive-normal)"}),{cursor:"pointer",display:"flex",padding:12,alignItems:"center",minHeight:40,"&:active":{backgroundColor:"var(--background-modifier-selected)",color:"var(--interactive-active)"}})},placeholder:function(e){return _(v({},e),{color:"var(--text-muted)"})}},N=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&g(e,t)}(n,e);var t=I(n);function n(){p(this,n);var e;(e=t.apply(this,arguments))._selectRef=o.createRef();e._containerRef=o.createRef();e.state={isFocused:!1,isOpen:!1};e.handleFocus=function(t){var n,r;e.setState({isFocused:!0});null===(r=(n=e.props).onFocus)||void 0===r||r.call(n,t)};e.handleBlur=function(t){var n,r;e.setState({isFocused:!1})
;null===(r=(n=e.props).onBlur)||void 0===r||r.call(n,t)};e.handleKeyDown=function(t){t.which===c.yXg.ESCAPE&&e.state.isOpen&&t.stopPropagation()};e.handleMenuOpen=function(){e.setState({isOpen:!0})};e.handleMenuClose=function(){e.setState({isOpen:!1})};return e}var i=n.prototype;i.focus=function(){var e;null===(e=this._selectRef.current)||void 0===e||e.focus()};i.render=function(){var e=this.props,t=e.className,n=e.selectClassName,o=e.error,i=e.valueRenderer,c=e.optionRenderer,f=e.multiValueRenderer,p=e.options,y=e.value,E=e.autofocus,g=e.disabled,b=e.clearable,O=e.searchable,I=e.styleOverrides,N=e.isMulti,A=e.placeholder,x=e.filterOption,S=e.closeMenuOnSelect,j=void 0===S||S,C=v({},m(e,["className","selectClassName","error","valueRenderer","optionRenderer","multiValueRenderer","options","value","autofocus","disabled","clearable","searchable","styleOverrides","isMulti","placeholder","filterOption","closeMenuOnSelect"]));null!=E&&(C.autoFocus=E);null!=g&&(C.isDisabled=g)
;null!=b&&(C.isClearable=b);null!=O&&(C.isSearchable=O);var P={IndicatorSeparator:function(){return null}};null!=c&&(P.Option=function(e){return(0,r.jsx)(s.wx.Option,_(v({},e),{children:c(e.data)}))});null!=i&&(P.SingleValue=function(e){return(0,r.jsx)(s.wx.SingleValue,_(v({},e),{children:i(e.data)}))});null!=f&&(P.MultiValue=function(e){return f(e.data)});var R,Z=null!=I?I:T;if(N&&Array.isArray(y)){var w={};p.forEach((function(e){w[String(e.value)]=e}));R=y.map((function(e){return w[String(e)]}))}else R=null!=y?p.find((function(e){return e.value===y})):null;return(0,r.jsx)(u.FocusRing,{focused:this.state.isFocused&&!this.state.isOpen,ringTarget:this._containerRef,children:(0,r.jsxs)("div",{className:a()(d().select,t,h({},d().error,null!=o)),ref:this._containerRef,children:[(0,r.jsx)(s.ZP,_(v({},C),{className:n,ref:this._selectRef,isMulti:N,components:P,options:p,styles:Z,onFocus:this.handleFocus,onBlur:this.handleBlur,onMenuOpen:this.handleMenuOpen,onMenuClose:this.handleMenuClose,
closeMenuOnSelect:j,value:R,onKeyDown:this.handleKeyDown,placeholder:null!=A?A:l.Z.Messages.SELECT,noOptionsMessage:function(){return l.Z.Messages.NO_RESULTS_FOUND},filterOption:x})),null!=o?(0,r.jsx)("div",{className:d().errorMessage,children:o}):null]})})};return n}(o.Component);N.MenuPlacements=b},646161:(e,t,n)=>{"use strict";n.d(t,{w4:()=>g,DW:()=>O,t3:()=>I,Gn:()=>T});var r,o=n(131795),i=n.n(o),a=n(58964),s=n(736818),u=n(2590);function c(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var l="Ubuntu",f="Debian",d="Fedora",p="Red Hat",h="SuSE",y="Linux",v="OS X",_="win",m="osx",E="linux";function g(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,r=t?"/ptb":"",o=null!=n?"&format=".concat(n):"";return"".concat(u.fzT.DESKTOP).concat(r,"?platform=").concat(e).concat(o)}function b(){
var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null===(r=i().os)||void 0===r?void 0:r.family;return null==e?_:-1!==e.indexOf(l)||-1!==e.indexOf(f)||-1!==e.indexOf(d)||-1!==e.indexOf(p)||-1!==e.indexOf(h)||-1!==e.indexOf(y)?E:-1!==e.indexOf(v)?m:_}function O(e){var t;return(c(t={},_,"Windows"),c(t,m,"Mac"),c(t,E,"Linux"),t)[b(e)]}function I(){var e=b();return g(e,!1,e===E?"tar.gz":null)}function T(e,t,n){var r=null!=n?n.toString():null;switch(t){case"iOS":return(0,a.ZP)(null!=r?r:"https://itunes.apple.com/us/app/discord-chat-for-games/id985746746",{utmSource:e,fingerprint:s.default.getFingerprint(),attemptId:(0,a.WS)()});case"Android":return(0,a.ZP)(null!=r?r:"https://play.google.com/store/apps/details",{utmSource:e,id:"com.discord",fingerprint:s.default.getFingerprint(),attemptId:(0,a.WS)()});default:return null!=r?r:"https://www.discord.com"}}},530562:(e,t,n)=>{"use strict";n.d(t,{yb:()=>c,R4:()=>l,GY:()=>f,oE:()=>d})
;var r=n(441143),o=n.n(r),i=n(810978),a=n(551778),s=n(2590),u=n(203600);function c(e){return function(e){return e.items.map((function(e){var t=a.Z.get(e.planId);o()(null!=t,"Unable to fetch plan");return t}))}(e).map((function(e){return e.skuId}))}function l(e,t,n){var r=e.getCurrentSubscriptionPlanIdForGroup(n);if(e.type===s.NYc.PREMIUM&&null==r)return!0;o()(null!=r,"Current subscription has no plan in group");o()(!(r===u.Xh.PREMIUM_YEAR_TIER_1&&t===u.Xh.PREMIUM_MONTH_TIER_2),"Unexpected plan switch");return n.indexOf(r)<n.indexOf(t)}function f(e,t,n){return!l(e,t,n)}function d(e,t){var n=a.Z.get(e);if(null==n){var r=u.GP[e];o()(null!=r,"Missing hardcoded subscriptionPlan: ".concat(e));var s=r.skuId;a.Z.isFetchingForSKU(s)||(0,i.GZ)(s,t)}return n}},412961:(e,t,n)=>{"use strict";n.d(t,{T:()=>l,s:()=>f});var r=n(384482),o=n(784426),i=n(736818),a=n(120415),s=n(2590);function u(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}
function c(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var l=a.FB?s.dG4:function(e,t){if(!(0,o.DB)())return r.default.request(s.Etm.DEEP_LINK,{type:e,params:t})},f=a.FB?s.dG4:function(e,t){if(!i.default.isAuthenticated())return l(e,c(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){u(e,t,n[t])}))}return e}({},t||{}),{
fingerprint:i.default.getFingerprint()}))}},816810:(e,t,n)=>{"use strict";n.d(t,{$:()=>r});var r;!function(e){e[e.IS_GUEST_INVITE=1]="IS_GUEST_INVITE";e[e.IS_VIEWED=2]="IS_VIEWED";e[e.IS_ENHANCED=4]="IS_ENHANCED"}(r||(r={}));new Set([1,2,4])}}]);
//# sourceMappingURL=edcfc3e37bcdb01dc1be.js.map