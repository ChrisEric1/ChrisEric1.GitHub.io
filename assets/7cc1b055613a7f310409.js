"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[87811,58169,88417],{688417:(e,t,n)=>{n.d(t,{Z:()=>O});var r=n(730381),o=n.n(r),i=n(338093),a=n(173436),u=n(183279),c=n(390504),l=n(203271),s=n(228031),d=n(959797);function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){u=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const O={open:function(e){a.Z.dispatch({type:"NOTIFICATION_SETTINGS_MODAL_OPEN",guildId:e})},close:function(){a.Z.dispatch({type:"NOTIFICATION_SETTINGS_MODAL_CLOSE"})},updateGuildNotificationSettings:function(e,t,n){var r=(0,l.GA)(e);u.Z.saveUserGuildSettings(e,t);a.Z.dispatch({type:"USER_GUILD_SETTINGS_GUILD_UPDATE",guildId:e,settings:t});(0,l.Wq)(e,t,r,n)},updateGuildAndChannelNotificationSettings:function(e,t,n){var r=Object.keys(t.channel_overrides),o=(0,l.GA)(e),i=(0,l.wK)(e,r);u.Z.saveUserGuildSettings(e,t);a.Z.dispatch({type:"USER_GUILD_SETTINGS_GUILD_AND_CHANNELS_UPDATE",guildId:e,settings:t});(0,l.Wq)(e,t,o,n)
;Object.keys(t.channel_overrides).forEach((function(r){var o=i.get(r);(0,l.jz)(e,r,t.channel_overrides[r],o,n)}))},updateGuildNotificationSettingsBulk:function(e,t){var n=Object.keys(e),r=(0,l.rU)(n);u.Z.saveUserGuildSettingsBulk(e);Object.entries(e).forEach((function(e){var n=_(e,2),o=n[0],i=n[1],u=r.get(o);a.Z.dispatch({type:"USER_GUILD_SETTINGS_GUILD_UPDATE",guildId:o,settings:i});(0,l.Wq)(o,i,u,t)}))},updateChannelOverrideSettings:function(e,t,n,r){var o=(0,l.I)(e,t),c={channel_overrides:p({},t,n)};u.Z.saveUserGuildSettings(e,c);a.Z.dispatch({type:"USER_GUILD_SETTINGS_CHANNEL_UPDATE",guildId:e,channelId:t,settings:n});i.uv.announce(d.Z.Messages.A11Y_ANNOUNCEMENT_CHANNEL_SETTINGS_UPDATED);(0,l.jz)(e,t,n,o,r)},updateChannelOverrideSettingsBulk:function(e,t,n){var r=Object.keys(t),o={channel_overrides:t},i=(0,l.wK)(e,r);u.Z.saveUserGuildSettings(e,o);a.Z.dispatch({type:"USER_GUILD_SETTINGS_CHANNEL_UPDATE_BULK",guildId:e,overrides:t});Object.keys(t).forEach((function(r){return(0,
l.jz)(e,r,t[r],i.get(r),n)}))},setForumThreadsCreated:function(e,t){var n=t?s.ic.NEW_FORUM_THREADS_ON:s.ic.NEW_FORUM_THREADS_OFF,r=t?s.ic.NEW_FORUM_THREADS_OFF:s.ic.NEW_FORUM_THREADS_ON,o=c.Z.getChannelFlags(e)&~r|n;this.updateChannelOverrideSettings(e.guild_id,e.id,{flags:o})},handleCheckboxChange:function(e,t,n,r){a.Z.dispatch({type:"GUILD_UPDATE_NOTIFICATION_PROFILE",guildId:r.id,profile:e,updatedSettings:p({},t,n),handleUpdate:this.updateGuildNotificationSettings})},handleSelectChange:function(e,t,n,r){a.Z.dispatch({type:"GUILD_UPDATE_NOTIFICATION_PROFILE",guildId:r.id,profile:e,updatedSettings:p({},t,n),handleUpdate:this.updateGuildNotificationSettings})},handleMuteConfigChange:function(e,t,n){var r={selected_time_window:t,end_time:t>0?o()().add(t,"second").toISOString():null};a.Z.dispatch({type:"GUILD_UPDATE_NOTIFICATION_PROFILE",guildId:n.id,profile:"MUTED",updatedSettings:p({},e,r),handleUpdate:this.updateGuildNotificationSettings})},handleHighlightsChange:function(e,t,n){
a.Z.dispatch({type:"GUILD_UPDATE_NOTIFICATION_PROFILE",guildId:n.id,profile:e,updatedSettings:{notifyHighlights:t},handleUpdate:this.updateGuildNotificationSettings})},handleProfileChange:function(e,t){a.Z.dispatch({type:"GUILD_SET_NOTIFICATION_PROFILE",guildId:t.id,profile:e.value,handleUpdate:this.updateGuildNotificationSettings})}}},512172:(e,t,n)=>{n.d(t,{jU:()=>N,Kr:()=>g,x2:()=>m,Qe:()=>D,ZZ:()=>P,xA:()=>L,pB:()=>F,WD:()=>M,x9:()=>B});var r=n(675860),o=n(173436),i=n(323657),a=n(428455),u=n(168831),c=n(485359),l=n(512238),s=n(331792),d=n(539433),f=n(90816),p=n(449555),_=n(935406),O=n(737325),b=n(461061);function E(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){n(e);return}u.done?t(c):Promise.resolve(c).then(r,o)}function v(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){E(i,r,o,a,u,"next",e)}function u(e){E(i,r,o,a,u,"throw",e)}a(void 0)}))}}function h(e,t,n){t in e?Object.defineProperty(e,t,{value:n,
enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){h(e,t,n[t])}))}return e}function T(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var y=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},
"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};function N(e,t){return R.apply(this,arguments)}function R(){
return(R=v((function(e,t){var n,r;return y(this,(function(i){switch(i.label){case 0:if(null!=l.Z.get(t))return[2];o.Z.dispatch({type:"SKU_FETCH_START",skuId:t});i.label=1;case 1:i.trys.push([1,3,,4]);n=s.Z.inTestModeForApplication(e)||c.Z.inDevModeForApplication(e);return[4,(0,_.Kb)(n?b.ANM.STORE_SKU(t):b.ANM.STORE_PUBLISHED_LISTINGS_SKU(t))];case 2:r=i.sent();o.Z.dispatch({type:"SKU_FETCH_SUCCESS",sku:n?r.body:r.body.sku});return[3,4];case 3:i.sent();o.Z.dispatch({type:"SKU_FETCH_FAIL",skuId:t});throw new u.Z("Failed to fetch SKU ".concat(t));case 4:return[2]}}))}))).apply(this,arguments)}function g(e){return A.apply(this,arguments)}function A(){A=v((function(e){var t,n,r,i=arguments;return y(this,(function(a){switch(a.label){case 0:t=!(i.length>1&&void 0!==i[1])||i[1];if(!(s.Z.inTestModeForApplication(e)||c.Z.inDevModeForApplication(e))&&t)throw new Error("this should only be used in test mode");return[4,(0,_.Kb)(b.ANM.APPLICATION_SKUS(e))];case 1:n=a.sent();r=n.body;o.Z.dispatch({
type:"SKUS_FETCH_SUCCESS",skus:r,applicationId:e});return[2,r]}}))}));return A.apply(this,arguments)}function m(e,t,n){return S.apply(this,arguments)}function S(){return(S=v((function(e,t,n){var r,i;return y(this,(function(a){switch(a.label){case 0:r={payment_source_id:n};(s.Z.inTestModeForApplication(e)||c.Z.inDevModeForApplication(e))&&(r.test_mode=!0);return[4,(0,_.Kb)({url:b.ANM.STORE_SKU_PURCHASE(t),query:r,oldFormErrors:!0})];case 1:i=a.sent();o.Z.dispatch({type:"SKU_PURCHASE_PREVIEW_FETCH_SUCCESS",skuId:t,paymentSourceId:n,price:i.body});return[2,i]}}))}))).apply(this,arguments)}function D(e,t,n){return U.apply(this,arguments)}function U(){return(U=v((function(e,t,n){var a,u,c;return y(this,(function(l){switch(l.label){case 0:o.Z.dispatch({type:"SKU_PURCHASE_START",applicationId:e,skuId:n});l.label=1;case 1:l.trys.push([1,3,,4]);return[4,r.Z.post({url:b.ANM.CHANNEL_ENTITLEMENT_GRANT(t),oldFormErrors:!0})];case 2:a=l.sent();o.Z.dispatch({type:"SKU_PURCHASE_SUCCESS",skuId:n,
entitlements:a.body,libraryApplications:[]});return[2,a.body];case 3:u=l.sent();c=new i.HF(u);o.Z.dispatch({type:"SKU_PURCHASE_FAIL",applicationId:e,skuId:n,error:c});throw c;case 4:return[2]}}))}))).apply(this,arguments)}var C={isGift:!1};function P(e,t,n){return w.apply(this,arguments)}function w(){return(w=v((function(e,t,n){var u,l,_,E,v,h,N,R,g,A,m,S,D,U,P;return y(this,(function(y){switch(y.label){case 0:u=I({},C,n),l=u.paymentSource,_=u.expectedAmount,E=u.expectedCurrency,v=u.analyticsLoadId,h=u.isGift,N=u.giftStyle,R=u.subscriptionPlanId;o.Z.wait((function(){o.Z.dispatch({type:"SKU_PURCHASE_START",applicationId:e,skuId:t})}));g=s.Z.inTestModeForApplication(e)||c.Z.inDevModeForApplication(e);y.label=1;case 1:y.trys.push([1,9,,10]);m={gift:h,sku_subscription_plan_id:R};return[4,(0,d.cn)(l)];case 2:A=(m.gateway_checkout_context=y.sent(),m);if(!g)return[3,3];A.test_mode=!0;return[3,7];case 3:if(null==l)return[3,6];A.payment_source_id=l.id;return[4,(0,O.Zv)(l)];case 4:
A.payment_source_token=y.sent();return b.QL.has(l.type)?[4,(0,O.EH)(l.type)]:[3,6];case 5:S=y.sent();A.return_url=r.Z.getAPIBaseURL()+b.ANM.BILLING_POPUP_BRIDGE_CALLBACK_REDIRECT_PREFIX(l.type,null!=S?S:"","success");y.label=6;case 6:null!=_&&(A.expected_amount=_);null!=E&&(A.expected_currency=E);null!=N&&(A.gift_style=N);A.purchase_token=(0,p.d)();y.label=7;case 7:return[4,r.Z.post({url:b.ANM.STORE_SKU_PURCHASE(t),body:A,context:{load_id:v},oldFormErrors:!0})];case 8:D=y.sent();o.Z.dispatch({type:"SKU_PURCHASE_SUCCESS",skuId:t,libraryApplications:null!=D.body.library_applications?D.body.library_applications.filter(f.lm):[],entitlements:D.body.entitlements,giftCode:D.body.gift_code});return[2,T(I({},D.body),{redirectConfirmation:!1})];case 9:U=y.sent();(P=U instanceof i.HF?U:new i.HF(U)).code!==a.SM.CONFIRMATION_REQUIRED&&P.code!==a.SM.AUTHENTICATION_REQUIRED||o.Z.dispatch({type:"SKU_PURCHASE_AWAIT_CONFIRMATION",skuId:t,isGift:h});if(P.code!==a.SM.CONFIRMATION_REQUIRED){o.Z.dispatch({
type:"SKU_PURCHASE_FAIL",applicationId:e,skuId:t,error:P});throw P}if(!U.body.payment_id)throw(0,O.SQ)("payment id cannot be null on redirected confirmations.");return[2,(0,O.sk)(U.body,l)];case 10:return[2]}}))}))).apply(this,arguments)}function L(){return G.apply(this,arguments)}function G(){return(G=v((function(){var e,t;return y(this,(function(n){switch(n.label){case 0:n.trys.push([0,2,,3]);e={purchase_token:(0,p.d)()};return[4,r.Z.post({url:b.ANM.STORE_EMAIL_RESEND_PAYMENT_VERIFICATION,body:e,oldFormErrors:!0})];case 1:return[2,I({},n.sent().body)];case 2:throw(t=n.sent())instanceof i.HF?t:new i.HF(t);case 3:return[2]}}))}))).apply(this,arguments)}function F(){o.Z.dispatch({type:"SKU_PURCHASE_CLEAR_ERROR"})}function M(){o.Z.wait((function(){return o.Z.dispatch({type:"SKU_PURCHASE_SHOW_CONFIRMATION_STEP"})}))}function B(e){o.Z.dispatch({type:"SKU_PURCHASE_UPDATE_IS_GIFT",isGift:e})}},156501:(e,t,n)=>{n.d(t,{Z:()=>r});const r=(0,n(553494).B)({kind:"user",id:"2022-12_forum_activity",
label:"Increased activity view for Forums, per user",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enabled",config:{enabled:!0}}]})},664257:(e,t,n)=>{n.d(t,{Z:()=>r});const r=(0,n(553494).B)({kind:"guild",id:"2023-01_forums_activity_2_guild",label:"Increased activity view for Forums, per guild",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enabled",config:{enabled:!0}}]})},64833:(e,t,n)=>{n.d(t,{Z:()=>b});var r=n(785893),o=n(667294),i=n(110251),a=n.n(i),u=n(496486),c=n.n(u);function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){u=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}
}(e,t)||f(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||f(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}var p=o.createContext([]);function _(e){var t=e.children,n=e.currentContext;return(0,r.jsx)(p.Provider,{value:n,children:t})}function O(e,t){
if(0===t.length)return e;var n=c().flatten(t);return d(e).concat(d(n))}function b(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=s(o.useState(t),2),u=i[0],c=i[1],l=o.useContext(p),d=o.useMemo((function(){return O(l,u)}),[u,l]),f=o.useMemo((function(){return O(l,u.slice(0,u.length-1))}),[u,l]);o.useEffect((function(){a()(t,u)||c(t)}),[t]);var b=o.useCallback((function(e){var t=e.children;return(0,r.jsx)(_,{currentContext:d,children:t})}),[d]);return{AnalyticsLocationProvider:b,analyticsLocations:d,sourceAnalyticsLocations:f}}},103686:(e,t,n)=>{n.d(t,{Z:()=>v});var r=n(675860),o=n(173436),i=n(992497),a=n(682684),u=n(793350),c=n(821098),l=n(150703),s=n(426466),d=n(461061),f=n(959797);function p(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){n(e);return}u.done?t(c):Promise.resolve(c).then(r,o)}function _(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){p(i,r,o,a,u,"next",e)}function u(e){
p(i,r,o,a,u,"throw",e)}a(void 0)}))}}var O=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)
}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};function b(e,t,n){return E.apply(this,arguments)}function E(){return(E=_((function(e,t,n){var r,o;return O(this,(function(a){switch(a.label){case 0:a.trys.push([0,2,,3]);return[4,e()];case 1:return[2,a.sent()];case 2:r=a.sent();(null===(o=r.body)||void 0===o?void 0:o.code)===d.evJ.NON_MODERATED_TAG_REQUIRED&&i.Z.show({title:t,body:n});return[3,3];case 3:return[2]}}))}))).apply(this,arguments)}const v={resort:function(e){o.Z.dispatch({type:"RESORT_THREADS",channelId:e})},createForumTag:function(e,t){return r.Z.post({url:d.ANM.FORUM_TAGS(t),body:{name:e.name,emoji_id:e.emojiId,emoji_name:null!=e.emojiId?void 0:e.emojiName,moderated:e.moderated}})},updateForumTag:function(e,t){var n=r.Z.put({url:d.ANM.FORUM_TAG(t,e.id),body:{name:e.name,emoji_id:e.emojiId,emoji_name:null==e.emojiId?e.emojiName:void 0,moderated:e.moderated}});b((function(){return n
}),f.Z.Messages.FORUM_TAG_EDIT_ERROR,f.Z.Messages.FORUM_POST_NON_MODERATED_TAG_REQUIRED)},deleteForumTag:function(e,t){var n=r.Z.delete({url:d.ANM.FORUM_TAG(e,t)});b((function(){return n}),f.Z.Messages.FORUM_TAG_REMOVE_ERROR,f.Z.Messages.FORUM_POST_NON_MODERATED_TAG_REQUIRED)},updateForumPostTags:function(e,t){return _((function(){return O(this,(function(n){switch(n.label){case 0:return[4,a.Z.unarchiveThreadIfNecessary(e)];case 1:n.sent();return[2,r.Z.patch({url:d.ANM.CHANNEL(e),body:{applied_tags:t}})]}}))}))()},hideAdminOnboarding:function(e,t){o.Z.dispatch({type:"ADMIN_ONBOARDING_GUIDE_HIDE",channelId:e,hide:t})},markPostAsSeen:function(e,t,n){(0,u.a8)((0,l.UP)(e),t,n)},markPostAsUnseen:function(e,t,n){(0,u.FL)((0,l.UP)(e),t,n)},flushSeenItems:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.cs.IMMEDIATE_WITH_COOLDOWN;(0,u.rS)((0,l.UP)(e),t)},searchForumPosts:function(e,t,n,r){return _((function(){var i;return O(this,(function(u){switch(u.label){case 0:
o.Z.dispatch({type:"FORUM_SEARCH_START",channelId:t});u.label=1;case 1:u.trys.push([1,3,,4]);return[4,a.Z.searchThreads(e,t,n,r)];case 2:i=u.sent();(0,s.Js)({guildId:e,channelId:t,numSearchResults:i.length});o.Z.dispatch({type:"FORUM_SEARCH_SUCCESS",channelId:t,threadIds:i});return[3,4];case 3:u.sent();o.Z.dispatch({type:"FORUM_SEARCH_FAILURE",channelId:t});return[3,4];case 4:return[2]}}))}))()},updateForumSearchQuery:function(e,t){o.Z.dispatch({type:"FORUM_SEARCH_QUERY_UPDATED",channelId:e,query:t})},clearForumSearch:function(e){o.Z.dispatch({type:"FORUM_SEARCH_CLEAR",channelId:e})}}},150703:(e,t,n)=>{n.d(t,{UP:()=>f,rj:()=>p,Ct:()=>_,ZP:()=>O});var r=n(793350),o=n(821098),i=n(426466),a=n(774031);function u(e){u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return u(e)}function c(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var s=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function f(e){return"".concat(o.AT.FORUM_CHANNEL,"_").concat(e)}function p(e,t,n){(0,r.a8)(f(e),t,n)}function _(e,t,n){(0,r.FL)(f(e),t,n)}var O=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&l(e,t)}(n,e);var t=d(n);function n(e){var r,o=e.guildId,u=e.channelId,c=e.windowId,l=e.isPaused;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);(r=t.call(this,{windowId:c,isPaused:l,id:f(u)})).createFlushSeenItemsFunction=function(e){var t=r.trackedFeedItems,n=r.channelId,o={guildId:r.guildId,channelId:n,sessionId:r.sessionId,trackedFeedItems:t,isForcedFlush:null!=e};return function(){return function(e){var t=e.guildId,n=e.channelId,r=e.sessionId,o=e.trackedFeedItems,a=e.isForcedFlush,u=[],c=[],l=!0,s=!1,d=void 0;try{for(var f,p=Object.keys(o)[Symbol.iterator]();!(l=(f=p.next()).done);l=!0){var _=f.value,O=o[_].computeSeenTimeDestructive(a);if(O>0){u.push(_);c.push(O)}}}catch(e){s=!0;d=e}finally{try{l||null==p.return||p.return()
}finally{if(s)throw d}}0!==u.length&&(0,i.qs)({guildId:t,channelId:n,sessionId:r,postIds:u,additionalTimes:c})}(o)}};r.guildId=o;r.channelId=u;r.sessionId=(0,a.WW)(u);return r}return n}(o.zQ)},229620:(e,t,n)=>{n.d(t,{s:()=>u});n(363010);var r=n(537204),o=n(356004),i=n(890889),a=n(461061);function u(e,t){return r.Z.isChannelGated(e,t)||i.ZP.canEveryoneRole(a.Plq.VIEW_CHANNEL,o.Z.getChannel(t))}},182434:(e,t,n)=>{n.d(t,{rj:()=>E,eM:()=>v,rK:()=>h,I1:()=>I});var r=n(675860),o=n(173436),i=n(23816),a=n(204424),u=n(631134),c=n(212218),l=n(653772),s=n(932847),d=n(418674),f=n(353637),p=n(461061);function _(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))))
;r.forEach((function(t){_(e,t,n[t])}))}return e}function b(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function E(e){s.default.track(p.rMx.GUILD_ONBOARDING_LOADED,b(O({},(0,i.hH)(e)),{has_new_prompts:!1,number_of_prompts:0}))}function v(e){o.Z.dispatch({type:"GUILD_ONBOARDING_PROMPTS_FETCH_START",guildId:e});return r.Z.get({url:p.ANM.GUILD_ONBOARDING(e)}).then((function(t){var n=t.body,r=(0,f.cf)(n);return o.Z.dispatch(O({type:"GUILD_ONBOARDING_PROMPTS_FETCH_SUCCESS",guildId:e},r)).then((function(){return r.prompts}))}),(function(t){o.Z.dispatch({type:"GUILD_ONBOARDING_PROMPTS_FETCH_FAILURE",
guildId:e});return t}))}function h(e){var t,n,r=u.default.getId();if((0,d.yE)(null!==(n=null===(t=c.ZP.getMember(e,r))||void 0===t?void 0:t.flags)&&void 0!==n?n:0,a.qQ.COMPLETED_ONBOARDING))return Promise.resolve();var o=l.Z.getGuild(e);if(null==o||!o.hasFeature(p.oNc.GUILD_ONBOARDING))return Promise.resolve();I(e);return v(e)}function I(e){o.Z.dispatch({type:"GUILD_ONBOARDING_START",guildId:e})}},353637:(e,t,n)=>{n.d(t,{iU:()=>l,NE:()=>s,NO:()=>d,YW:()=>f,M$:()=>p,qm:()=>_,b3:()=>O,md:()=>b,ht:()=>E,X:()=>v,fY:()=>h,l7:()=>u,FN:()=>c,RF:()=>I,ae:()=>T,yZ:()=>y,dr:()=>N,cf:()=>g});var r=n(110251),o=n.n(r),i=n(959797);function a(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}
var u,c,l=100,s=50,d=100,f=15,p=12,_=50,O=4,b=7,E=12,v=5,h=12;!function(e){e[e.CUSTOMIZE=0]="CUSTOMIZE";e[e.BROWSE=1]="BROWSE"}(u||(u={}));!function(e){e[e.MULTIPLE_CHOICE=0]="MULTIPLE_CHOICE";e[e.DROPDOWN=1]="DROPDOWN"}(c||(c={}));function I(e){if(e.options.length>0)return!1;var t=T(),n=(t.id,a(t,["id"])),r=(e.id,a(e,["id"]));return o()(n,r)}function T(){return{id:String(Date.now()),title:i.Z.Messages.ONBOARDING_PROMPT_DEFAULT_TITLE,options:[],singleSelect:!1,required:!1,inOnboarding:!0,type:c.MULTIPLE_CHOICE}}function y(e){return{id:String(Date.now()),title:"",options:[],singleSelect:!1,required:!1,inOnboarding:e,type:c.MULTIPLE_CHOICE}}function N(e){return{id:e.id,options:e.options.map((function(e){var t,n,r;return{id:e.id,channel_ids:e.channelIds,role_ids:e.roleIds,emoji:e.emoji,emoji_id:null===(t=e.emoji)||void 0===t?void 0:t.id,emoji_name:null===(n=e.emoji)||void 0===n?void 0:n.name,emoji_animated:null===(r=e.emoji)||void 0===r?void 0:r.animated,title:e.title,
description:e.description}})),title:e.title,single_select:e.singleSelect,disabled:e.disabled,required:e.required,in_onboarding:e.inOnboarding,type:e.type}}function R(e){var t;return{id:e.id,options:e.options.map((function(e){return{id:e.id,channelIds:e.channel_ids,roleIds:e.role_ids,emoji:e.emoji,title:e.title,description:null!==(t=e.description)&&void 0!==t?t:""}})),title:e.title,singleSelect:e.single_select,disabled:e.disabled,required:e.required,inOnboarding:e.in_onboarding,type:e.type}}function g(e){var t,n,r;return{prompts:e.prompts.map(R),defaultChannelIds:e.default_channel_ids,responses:null!==(t=e.responses)&&void 0!==t?t:[],enabled:e.enabled||e.enable_onboarding_prompts&&e.enable_default_channels,onboardingPromptsSeen:null!==(n=e.onboarding_prompts_seen)&&void 0!==n?n:{},onboardingResponsesSeen:null!==(r=e.onboarding_responses_seen)&&void 0!==r?r:{}}}},836670:(e,t,n)=>{n.d(t,{Z:()=>P})
;var r=n(496486),o=n.n(r),i=n(363010),a=n(173436),u=n(33055),c=n(884061),l=n(346529),s=n(229620),d=n(853524);function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function _(e){_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return _(e)}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){p(e,t,n[t])}))}return e}function b(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){
var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function E(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e,t){v=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return v(e,t)}var h=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var o=_(this).constructor
;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return E(this,n)}}var T={},y={},N={},R=!1;function g(e,t,n){return e.map((function(e){return function(e,t,n){for(var r=!1,o=[],i=0;i<e.options.length;i++){var a=e.options[i],u=null==n[a.id];u&&(r=!0);o.push(b(O({},a),{isUnseen:u}))}return b(O({},e),{options:o,hasNewAnswers:r,isNew:null==t[e.id]})}(e,t,n)}))}function A(e){var t,n,r,o,i,a,u,c,l,s=e.guildId,d=e.updates,f=null!==(i=null!==(o=d.onboardingPromptsSeen)&&void 0!==o?o:null===(t=T[s])||void 0===t?void 0:t.onboardingPromptsSeen)&&void 0!==i?i:{},p=null!==(u=null!==(a=d.onboardingResponsesSeen)&&void 0!==a?a:null===(n=T[s])||void 0===n?void 0:n.onboardingResponsesSeen)&&void 0!==u?u:{},_=g(null!==(l=null!==(c=d.prompts)&&void 0!==c?c:null===(r=T[s])||void 0===r?void 0:r.prompts)&&void 0!==l?l:[],f,p);T[s]=b(O({},T[s],d),{prompts:_})}function m(e,t){if(null!=y[e]){var n={};Object.keys(y[e]).forEach((function(r){
!t.includes(r)&&y[e][r]?n[r]=!0:t.includes(r)&&!1===y[e][r]&&(n[r]=!1)}));y[e]=n;var r=t.filter((function(e){return null==n[e]||!0===n[e]}));Object.keys(n).forEach((function(e){!0!==n[e]||t.includes(e)||r.push(e)}));T[e]=b(O({},T[e]),{responses:r})}}var S=[],D=[],U=[],C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&v(e,t)}(n,e);var t=I(n);function n(){f(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(d.ZP,u.Z)};r.getOnboardingPromptsForOnboarding=function(e){var t,n;return null!==(n=null===(t=T[e])||void 0===t?void 0:t.onboardingPrompts)&&void 0!==n?n:S};r.getOnboardingPrompts=function(e){var t,n;return null!==(n=null===(t=T[e])||void 0===t?void 0:t.prompts)&&void 0!==n?n:S};r.getOnboardingResponses=function(e){var t,n;if(u.Z.isFullServerPreview(e)){var r
;return Array.from(null!==(r=u.Z.getOnboardingResponses(e))&&void 0!==r?r:D)}return null!==(n=null===(t=T[e])||void 0===t?void 0:t.responses)&&void 0!==n?n:D};r.getSelectedOptions=function(e){var t=this.getOnboardingResponses(e);return this.getOnboardingPrompts(e).map((function(e){return e.options})).flat().filter((function(e){return t.includes(e.id)}))};r.getOnboardingResponsesForPrompt=function(e,t){var n=T[e];if(null==n)return D;var r=n.prompts.find((function(e){return e.id===t}));return null==r?D:o().intersection(r.options.map((function(e){return e.id})),this.getOnboardingResponses(e))};r.getEnabledOnboardingPrompts=function(e){var t,n=T[e];if(u.Z.isFullServerPreview(e)){var r;return null!==(r=null==n?void 0:n.prompts)&&void 0!==r?r:S}return null!=n&&n.enabled&&null!==(t=n.prompts)&&void 0!==t?t:S};r.getDefaultChannelIds=function(e){var t,n;return null!==(n=null===(t=T[e])||void 0===t?void 0:t.defaultChannelIds)&&void 0!==n?n:U};r.getEnabled=function(e){var t,n
;return u.Z.isFullServerPreview(e)?null!=T[e]:null!==(n=null===(t=T[e])||void 0===t?void 0:t.enabled)&&void 0!==n&&n};r.getOnboardingPrompt=function(e){return Object.values(T).map((function(e){return e.prompts})).flat().find((function(t){return t.id===e}))};r.isLoading=function(){return R};r.shouldFetchPrompts=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.Z.Millis.HOUR;if(R)return!1;var n=N[e];return null==n||Date.now()-n>t};r.getPendingResponseOptions=function(e){return y[e]};r.ackIdForGuild=function(e){var t=this.getEnabledOnboardingPrompts(e),n="0";t.forEach((function(e){e.options.forEach((function(e){l.Z.compare(e.id,n)>0&&(n=e.id)}));l.Z.compare(e.id,n)>0&&(n=e.id)}));return n};r.lastFetchedAt=function(e){return N[e]};r.__getLocalVars=function(){return{onboardingByGuildId:T,pendingOptionChanges:y,lastFetchedAtByGuildId:N,loading:R,EMPTY_PROMPTS:S,EMPTY_RESPONSES:D,EMPTY_DEFAULT_CHANNEL_IDS:U}};return n}(i.ZP.Store)
;C.displayName="GuildOnboardingPromptsStore";const P=new C(a.Z,{CONNECTION_OPEN:function(){R=!1;T={}},GUILD_ONBOARDING_PROMPTS_FETCH_START:function(){R=!0},GUILD_ONBOARDING_PROMPTS_FETCH_SUCCESS:function(e){var t=e.guildId,n=e.prompts,r=e.defaultChannelIds,o=e.enabled,i=e.responses,a=e.onboardingPromptsSeen,u=e.onboardingResponsesSeen;R=!1;var c=d.ZP.getOnboardingStatus(t)===d.uX.READY,l=g(n,a,u);T[t]={enabled:o,prompts:l,onboardingPrompts:l.filter((function(e){return e.inOnboarding})),defaultChannelIds:r.filter((function(e){return(0,s.s)(t,e)})),responses:c?[]:i,onboardingPromptsSeen:a,onboardingResponsesSeen:u};c||m(t,i);N[t]=Date.now()},GUILD_ONBOARDING_PROMPTS_FETCH_FAILURE:function(){R=!1},GUILD_ONBOARDING_SELECT_OPTION:function(e){var t=e.guildId,n=e.optionId,r=e.selected,i=e.removedOptionIds;if(u.Z.isFullServerPreview(t))return!0;if(null==T[t])return!1;null!=i&&i.length>0&&o().pullAll(T[t].responses,i);r?T[t].responses.push(n):o().pull(T[t].responses,n);null==y[t]&&(y[t]={})
;y[t][n]=r;null!=i&&i.forEach((function(e){return y[t][e]=!1}));y[t]=O({},y[t]);return!0},GUILD_ONBOARDING_UPDATE_RESPONSES_SUCCESS:function(e){m(e.guildId,e.options)},GUILD_ONBOARDING_PROMPTS_LOCAL_UPDATE:A,GUILD_SETTINGS_ONBOARDING_PROMPTS_SAVE_SUCCESS:A,GUILD_SETTINGS_DEFAULT_CHANNELS_SAVE_SUCCESS:function(e){var t=e.guildId,n=e.channelIds;T[t]=b(O({},T[t]),{defaultChannelIds:n})}})},17611:(e,t,n)=>{n.d(t,{wC:()=>p,Ee:()=>O,dF:()=>b,od:()=>v,Vj:()=>h,VF:()=>I,L6:()=>T,dX:()=>y});var r=n(363010),o=n(485923),i=n(513073),a=n(1812),u=n(653772),c=n(940712),l=n(90816),s=n(890889),d=n(836670),f=n(461061);function p(e){var t=u.Z.getGuild(e),n=!!(null==t?void 0:t.hasFeature(f.oNc.COMMUNITY)),r=(0,i.Do)(e),o=c.Z.can(f.Plq.MANAGE_GUILD,t),a=c.Z.can(f.Plq.MANAGE_ROLES,t);return n&&r&&o&&a}function _(e,t,n){var r=new Set;e.forEach((function(e){e.options.forEach((function(e){var t;null==e||null===(t=e.channelIds)||void 0===t||t.forEach((function(e){r.add(e)}))}))}));t.forEach((function(e){
return r.add(e)}));var i=n.filter((function(e){return!e.isCategory()&&!e.isThread()&&!(0,o.Z)(e)}));return[i.filter((function(e){return r.has(e.id)||null!=e.parent_id&&r.has(e.parent_id)})),i.filter((function(e){return!(r.has(e.id)||null!=e.parent_id&&r.has(e.parent_id))}))]}function O(e,t,n){return _(t,n,a.ZP.getChannels(e)[a.sH].map((function(e){return e.channel})))}function b(e,t,n){return _(t,n,(0,r.e7)([a.ZP],(function(){return a.ZP.getChannels(e)}))[a.sH].map((function(e){return e.channel})))}function E(e,t){return e.filter((function(e){var n=t.find((function(t){return t.channel.id===e}));return null!=n&&(n.channel.isForumChannel()?s.ZP.canEveryoneRole(f.Plq.SEND_MESSAGES_IN_THREADS,n.channel):s.ZP.canEveryoneRole(f.Plq.SEND_MESSAGES,n.channel))}))}function v(e,t){return E(t,a.ZP.getChannels(e)[a.sH])}function h(e,t){return E(t,(0,r.e7)([a.ZP],(function(){return a.ZP.getChannels(e)}))[a.sH])}function I(e){var t=(0,r.e7)([d.Z],(function(){return d.Z.getDefaultChannelIds(e)}))
;return[h(e,t),t]}function T(e){return new Set(e.map((function(e){return e.roleIds})).flat().filter(l.lm))}function y(e){return new Set(e.map((function(e){return e.channelIds})).flat().filter(l.lm))}},20157:(e,t,n)=>{n.d(t,{A:()=>c,m:()=>l});var r=n(363010),o=n(653772),i=n(461061);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){u=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e){var t,n=u(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[o.Z],1),r=n[0];return Boolean(null===(t=r.getGuild(e))||void 0===t?void 0:t.hasFeature(i.oNc.COMMUNITY))}function l(e){return(0,r.e7)([o.Z],(function(){return c(e,[o.Z])}),[e])}},183279:(e,t,n)=>{n.d(t,{Z:()=>G});var r=n(496486),o=n.n(r),i=n(675860),a=n(491681),u=n(832691),c=n(710348),l=n(356004),s=n(461061);function d(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){n(e);return}u.done?t(c):Promise.resolve(c).then(r,o)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){d(i,r,o,a,u,"next",e)}function u(e){d(i,r,o,a,u,"throw",e)}a(void 0)}))}}function p(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function O(e){O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return O(e)}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){_(e,t,n[t])}))}return e}function E(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}
return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function v(e,t){return!t||"object"!==I(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e,t){h=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return h(e,t)}var I=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var o=O(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}var y=function(e,t){var n,r,o,i,a={label:0,sent:function(){
if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}
}([i,u])}}},N={},R=new u.Z("UserGuildSettingsManager"),g=0;function A(){N=b({},c.Z.getCollapsedCategories())}function m(){if(!__OVERLAY__){clearTimeout(g);g=setTimeout((function(){return S()}),15e3)}}function S(e,t){return D.apply(this,arguments)}function D(){return(D=f((function(e,t){return y(this,(function(n){switch(n.label){case 0:return[4,U(null!=t?_({},null!=e?e:s.ME,t):{})];case 1:n.sent();return[2]}}))}))).apply(this,arguments)}function U(e){return C.apply(this,arguments)}function C(){return(C=f((function(e){var t,n,r,a,u,d,f;return y(this,(function(p){switch(p.label){case 0:clearTimeout(g);t=0!==Object.keys(e).length;n=c.Z.getCollapsedCategories();r=P();for(var _ in r)if(null!=(a=l.Z.getChannel(_))&&null!=a.guild_id){a.guild_id in e||(e[a.guild_id]={});null==e[a.guild_id].channel_overrides&&(e[a.guild_id].channel_overrides={});e[a.guild_id].channel_overrides[a.id]=E(b({},e[a.guild_id].channel_overrides[a.id]),{collapsed:a.id in n});t=!0}if(!t)return[2];N=b({},n)
;u=o().map(e,(function(e,t){return{guildId:t,updates:e,attempts:0}}));p.label=1;case 1:if(!(u.length>0))return[3,8];if((d=u.shift()).guildId===s.I_8)return[3,1];p.label=2;case 2:p.trys.push([2,5,,7]);return[4,i.Z.patch({url:s.ANM.USER_GUILD_SETTINGS(d.guildId),body:d.updates})];case 3:p.sent();return[4,w(1e3)];case 4:p.sent();return[3,7];case 5:f=p.sent();R.error(f);d.attempts+=1;d.attempts<3&&u.push(d);return[4,w(5e3)];case 6:p.sent();return[3,7];case 7:return[3,1];case 8:return[2]}}))}))).apply(this,arguments)}function P(){var e={},t=c.Z.getCollapsedCategories();for(var n in t)t[n]!==N[n]&&(e[n]=!0);for(var r in N)t[r]!==N[r]&&(e[r]=!0);return e}function w(e){return new Promise((function(t){return setTimeout(t,e+Math.ceil(e*Math.random()))}))}function L(){N=b({},c.Z.getCollapsedCategories())}const G=new(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{
constructor:{value:e,writable:!0,configurable:!0}});t&&h(e,t)}(n,e);var t=T(n);function n(){p(this,n);var e;(e=t.apply(this,arguments)).actions={CATEGORY_COLLAPSE:m,CATEGORY_EXPAND:m,CATEGORY_COLLAPSE_ALL:m,CATEGORY_EXPAND_ALL:m,POST_CONNECTION_OPEN:A,USER_GUILD_SETTINGS_FULL_UPDATE:L};e.saveUserGuildSettings=S;e.saveUserGuildSettingsBulk=U;return e}return n}(a.Z))},554062:(e,t,n)=>{n.d(t,{Q:()=>r,Z:()=>_});var r,o=n(785893),i=(n(667294),n(294184)),a=n.n(i),u=n(331535),c=n(983067),l=n(523283),s=n(436035),d=n(81951),f=n(153954),p=n.n(f);!function(e){e[e.WARNING=0]="WARNING";e[e.INFO=1]="INFO";e[e.ERROR=2]="ERROR";e[e.POSITIVE=3]="POSITIVE"}(r||(r={}));const _=function(e){var t=e.children,n=e.messageType,i=e.className,f=e.textColor,_=void 0===f?"text-normal":f,O=e.textVariant,b=void 0===O?"text-sm/medium":O,E=function(e){switch(e){case r.WARNING:return d.Z;case r.INFO:return s.Z;case r.ERROR:return l.Z;case r.POSITIVE:return c.Z}}(n),v=function(e){switch(e){case r.WARNING:
return p().warning;case r.INFO:return p().info;case r.ERROR:return p().error;case r.POSITIVE:return p().positive}}(n);return(0,o.jsxs)("div",{className:a()(p().container,v,i),children:[(0,o.jsx)("div",{className:p().iconDiv,children:(0,o.jsx)(E,{className:p().icon})}),(0,o.jsx)(u.xv,{className:p().text,color:_,variant:b,children:t})]})}},954766:(e,t,n)=>{n.d(t,{Mi:()=>I,My:()=>T});var r=n(785893),o=n(667294),i=n(248088),a=n(506884),u=n(606076),c=n(665232),l=n(39802),s=n(64833),d=n(404239),f=n(160036),p=n(559159);function _(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){_(e,t,n[t])}))}return e}function b(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function E(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}var v={mass:1,tension:300,friction:28,clamp:!0};function h(e,t){return function(n){if(0===n)return"auto";var r="forwards"===t.current,o=n>0,i=!1;o&&r&&"left"===e&&(i=!0);o&&!r&&"right"===e&&(i=!0)
;!o&&r&&"right"===e&&(i=!0);o||r||"left"!==e||(i=!0);return i?"".concat(100*Math.abs(n),"%"):"auto"}}function I(e){return null}function T(e){var t=e.contentDisplay,n=E(e,["contentDisplay"]),_={},I=(0,s.Z)().analyticsLocations;o.Children.forEach(n.children,(function(e,t){_[e.props.id]={children:e.props.children,impressionName:e.props.impressionName,impressionProperties:e.props.impressionProperties,index:t}}));var T,y,N=n.activeSlide,R=(0,c.Z)(n.activeSlide),g=(T=null!=R?_[R]:null,y=_[N],null==T?null:T.index>y.index?"backwards":T.index<y.index?"forwards":null),A=o.useContext(l.S).reducedMotion,m=o.useContext(d.Z),S=_[N].impressionName,D=b(O({},_[N].impressionProperties),{location_stack:I});m({type:a.nv.MODAL,name:S,properties:D,_stackContext:{isSlide:!0}});var U,C=o.useRef(null),P=(0,p.Z)(C,!0,[N]),w=O({},v,n.springConfig,A.enabled?{clamp:!0}:null),L=(0,i.useSpring)({immediate:null==R||null!=P&&P.observed,width:null!==(U=n.width)&&void 0!==U?U:null!=P?P.width:0,height:null!=P?P.height:0,
config:w}),G=(0,i.useTransition)(N,{immediate:null==R,value:0,from:{value:1},enter:{value:0},leave:{value:-1},config:w,onRest:function(e,t){var r=t.item;r===N&&null!=n.onSlideReady&&n.onSlideReady(r)}}),F=(0,f.Z)(g),M=n.width,B=n.centered,j=void 0===B||B,k=u.tq?"100%":L.width.to((function(e){return Math.round(e)})),Z=u.tq?"100%":L.height.to((function(e){return Math.round(e)})),H=u.tq?{}:j?{transform:"translate3d(0, -50%, 0) scale(1.0, 1.0)",top:"50%"}:{transform:"scale(1.0, 1.0)"},x=u.tq?{}:{overflow:"hidden"};return(0,r.jsx)(i.animated.div,{style:O({position:"relative",width:k,height:Z},x),children:G((function(e,n,o){var a=o.key;return(0,r.jsx)(i.animated.div,{ref:n===N?C:null,style:O({position:"absolute",display:t,flexDirection:"column",backfaceVisibility:"hidden",width:u.tq?"100%":M},H,A.enabled?{opacity:e.value.to((function(e){return 1-Math.abs(e)}))}:{left:e.value.to(h("left",F)),right:e.value.to(h("right",F))}),children:_[n].children},a)}))})}},523283:(e,t,n)=>{n.d(t,{Z:()=>c})
;var r=n(785893),o=(n(667294),n(240243));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function u(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}
function c(e){var t=e.width,n=void 0===t?24:t,c=e.height,l=void 0===c?24:c,s=e.color,d=void 0===s?"currentColor":s,f=e.foreground,p=e.backgroundColor,_=u(e,["width","height","color","foreground","backgroundColor"]);return(0,r.jsxs)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({},(0,o.Z)(_)),{width:n,height:l,viewBox:"0 0 14 14",children:[null!=p?(0,r.jsx)("circle",{r:5,cx:7,cy:7,fill:p}):null,(0,r.jsx)("path",{fill:d,className:f,
d:"M7.02799 0.333252C3.346 0.333252 0.361328 3.31792 0.361328 6.99992C0.361328 10.6819 3.346 13.6666 7.02799 13.6666C10.71 13.6666 13.6947 10.6819 13.6947 6.99992C13.6947 3.31792 10.7093 0.333252 7.02799 0.333252ZM10.166 9.19525L9.22333 10.1379L7.02799 7.94325L4.83266 10.1379L3.89 9.19525L6.08466 6.99992L3.88933 4.80459L4.832 3.86259L7.02733 6.05792L9.22266 3.86259L10.1653 4.80459L7.97066 6.99992L10.166 9.19525Z"})]}))}},220578:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(785893),o=(n(667294),n(240243));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){
Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function u(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function c(e){var t=e.width,n=void 0===t?24:t,c=e.height,l=void 0===c?24:c,s=e.color,d=void 0===s?"currentColor":s,f=e.foreground,p=u(e,["width","height","color","foreground"]);return(0,r.jsx)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({},(0,o.Z)(p)),{
width:n,height:l,viewBox:"0 0 24 24",children:(0,r.jsx)("path",{fill:d,className:f,d:"M12.65 10C11.83 7.67 9.61 6 7 6c-3.31 0-6 2.69-6 6s2.69 6 6 6c2.61 0 4.83-1.67 5.65-4H17v4h4v-4h2v-4H12.65zM7 14c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"})}))}},793350:(e,t,n)=>{n.d(t,{a8:()=>o,FL:()=>i,rS:()=>a});var r=n(173436);function o(e,t,n){r.Z.dispatch({type:"ANALYTICS_FEED_ITEM_SEEN",id:e,feedItemId:t,timestampMillis:n})}function i(e,t,n){r.Z.dispatch({type:"ANALYTICS_FEED_ITEM_UNSEEN",id:e,feedItemId:t,timestampMillis:n})}function a(e,t){r.Z.dispatch({type:"ANALYTICS_FEED_FLUSH",id:e,force:t})}},821098:(e,t,n)=>{n.d(t,{AT:()=>l,cs:()=>s,zQ:()=>p});var r=n(441143),o=n.n(r),i=n(173436);function a(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){n(e);return}u.done?t(c):Promise.resolve(c).then(r,o)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function u(e){a(i,r,o,u,c,"next",e)}function c(e){a(i,r,o,u,c,"throw",e)}u(void 0)}))
}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var l,s,d=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2]
;a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};!function(e){e.GUILD_HOME="guild_home";e.FORUM_CHANNEL="forum_channel"}(l||(l={}));!function(e){e[e.IMMEDIATE=0]="IMMEDIATE";e[e.IMMEDIATE_WITH_COOLDOWN=1]="IMMEDIATE_WITH_COOLDOWN";e[e.IMMEDIATE_WITH_DELAY=2]="IMMEDIATE_WITH_DELAY"}(s||(s={}));var f=function(){function e(){c(this,e);this.seenIntervals=[]}var t=e.prototype;t.maybeMarkSeen=function(e){var t=this.seenIntervals[this.seenIntervals.length-1];if(null!=t&&null==t.endTimeMillis)return!1;this.seenIntervals.push({startTimeMillis:e});return!0};t.maybeMarkUnseen=function(e){var t=this.seenIntervals[this.seenIntervals.length-1];if(null==t||null!=t.endTimeMillis)return!1;t.endTimeMillis=e;return!0};t.isVisible=function(){var e=this.seenIntervals[this.seenIntervals.length-1]
;return null!=(null==e?void 0:e.startTimeMillis)&&null==(null==e?void 0:e.endTimeMillis)};t.computeSeenTimeDestructive=function(e){var t=0,n=[],r=!0,i=!1,a=void 0;try{for(var u,c=this.seenIntervals[Symbol.iterator]();!(r=(u=c.next()).done);r=!0){var l=u.value;if(null==l.endTimeMillis)if(e){var s=Date.now();t+=s-l.startTimeMillis;n.push({startTimeMillis:s})}else n.push(l);else t+=l.endTimeMillis-l.startTimeMillis}}catch(e){i=!0;a=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw a}}o()(n.length<2,"there should only be a single left over data");this.seenIntervals=n;return Math.round(t)};return e}(),p=function(){function e(t){var n=t.id,r=t.windowId,o=t.isPaused,a=this;c(this,e);this.initialize=function(){var e,t;i.Z.subscribe("ANALYTICS_FEED_ITEM_SEEN",a.handleFeedItemSeen);i.Z.subscribe("ANALYTICS_FEED_ITEM_UNSEEN",a.handleFeedItemUnseen);i.Z.subscribe("ANALYTICS_FEED_FLUSH",a.handleFeedItemFlush);i.Z.subscribe("APP_STATE_UPDATE",a.handleAppStateUpdate)
;i.Z.subscribe("DRAWER_OPEN",a.handleDrawerOpen);i.Z.subscribe("DRAWER_CLOSE",a.handleDrawerClose);i.Z.subscribe("WINDOW_FOCUS",a.handleWindowFocus);null===(t=(e=a).onInitialize)||void 0===t||t.call(e)};this.terminate=function(){var e,t;i.Z.unsubscribe("ANALYTICS_FEED_ITEM_SEEN",a.handleFeedItemSeen);i.Z.unsubscribe("ANALYTICS_FEED_ITEM_UNSEEN",a.handleFeedItemUnseen);i.Z.unsubscribe("ANALYTICS_FEED_FLUSH",a.handleFeedItemFlush);i.Z.unsubscribe("APP_STATE_UPDATE",a.handleAppStateUpdate);i.Z.unsubscribe("DRAWER_OPEN",a.handleDrawerOpen);i.Z.unsubscribe("DRAWER_CLOSE",a.handleDrawerClose);i.Z.unsubscribe("WINDOW_FOCUS",a.handleWindowFocus);null===(t=(e=a).onTerminate)||void 0===t||t.call(e);a.maybeFlushSeenItems(s.IMMEDIATE)};this.handleFeedItemFlush=function(e){var t=e.id,n=e.force;a._id===t&&a.maybeFlushSeenItems(n)};this.handleFeedItemSeen=function(e){var t,n,r=e.id,o=e.timestampMillis,i=e.feedItemId;if(r===a._id)if(a._paused)a._pausedFeedItemIds.add(i);else{
var u=a.getTrackedFeedItem(i).maybeMarkSeen(o);null===(n=(t=a).onFeedItemSeen)||void 0===n||n.call(t,i,u)}};this.handleFeedItemUnseen=function(e){var t,n,r=e.id,o=e.timestampMillis,i=e.feedItemId;if(r===a._id){a._paused&&a._pausedFeedItemIds.delete(i);var u=a.getTrackedFeedItem(i).maybeMarkUnseen(o);null===(n=(t=a).onFeedItemUnseen)||void 0===n||n.call(t,i,u);a.maybeFlushSeenItems()}};this.getTrackedFeedItem=function(e){null==a.trackedFeedItems[e]&&(a.trackedFeedItems[e]=new f);return a.trackedFeedItems[e]};this.getVisibleFeedItemIds=function(){var e=Object.keys(a.trackedFeedItems);return new Set(e.filter((function(e){var t;return null===(t=a.trackedFeedItems[e])||void 0===t?void 0:t.isVisible()})))};this.handleDrawerClose=function(){a._isReactNavigationFocused&&a.resume()};this.handleDrawerOpen=function(){a._isReactNavigationFocused&&a.pause()};this.handleAppStateUpdate=function(e){var t=e.state;"active"===t&&a._isReactNavigationFocused&&a.resume();if("background"===t){
a._isReactNavigationFocused&&a.pause();a.maybeFlushSeenItems(s.IMMEDIATE)}};this.clearPausedFeedItemIds=function(){a._pausedFeedItemIds=new Set;a._paused=!1};this.pause=function(){if(!a._paused){var e=a.getVisibleFeedItemIds();e.forEach((function(e){a.handleFeedItemUnseen({id:a._id,feedItemId:e,timestampMillis:Date.now(),type:"ANALYTICS_FEED_ITEM_UNSEEN"})}));a._paused=!0;a._pausedFeedItemIds=e}};this.resume=function(){if(a._paused){a._paused=!1;a._pausedFeedItemIds.forEach((function(e){a.handleFeedItemSeen({id:a._id,feedItemId:e,timestampMillis:Date.now(),type:"ANALYTICS_FEED_ITEM_SEEN"})}));a.clearPausedFeedItemIds()}};this.handleReactNavigationFocus=function(e,t){a._isReactNavigationFocused=e;a._isReactNavigationFocused&&!t?a.resume():a.pause()};this.handleWindowFocus=function(e){a._windowId===e.windowId&&(e.focused?a.resume():a.pause())};this.trackedFeedItems={};this._id=n;this._windowId=r;this._pausedFeedItemIds=new Set;this._paused=null!=o&&o;this._isReactNavigationFocused=!0
;this._lastFlushTimeMillis=Date.now()}e.prototype.maybeFlushSeenItems=function(e){if(null==e&&Date.now()-this._lastFlushTimeMillis<6e4)return Promise.resolve();if(e===s.IMMEDIATE_WITH_COOLDOWN&&Date.now()-this._lastFlushTimeMillis<3e3)return Promise.resolve();var t,n=this.createFlushSeenItemsFunction(e);if(null==n)return Promise.resolve();this._lastFlushTimeMillis=Date.now();return e===s.IMMEDIATE||e===s.IMMEDIATE_WITH_COOLDOWN?new Promise((t=u((function(e){return d(this,(function(t){switch(t.label){case 0:return[4,n()];case 1:t.sent();e();return[2]}}))})),function(e){return t.apply(this,arguments)})):new Promise((function(e){setTimeout(u((function(){return d(this,(function(t){switch(t.label){case 0:return[4,n()];case 1:t.sent();e();return[2]}}))})),100)}))};return e}()},87913:(e,t,n)=>{n.d(t,{Z:()=>o});var r;!function(e){e.HEADER_PRIMARY="var(--header-primary)";e.HEADER_SECONDARY="var(--header-secondary)";e.TEXT_NORMAL="var(--text-normal)";e.TEXT_MUTED="var(--text-muted)"
;e.TEXT_LINK="var(--text-link)";e.TEXT_LINK_LOW_SATURATION="var(--text-link-low-saturation)";e.TEXT_POSITIVE="var(--text-positive)";e.TEXT_WARNING="var(--text-warning)";e.TEXT_DANGER="var(--text-danger)";e.TEXT_BRAND="var(--text-brand)";e.INTERACTIVE_NORMAL="var(--interactive-normal)";e.INTERACTIVE_HOVER="var(--interactive-hover)";e.INTERACTIVE_ACTIVE="var(--interactive-active)";e.INTERACTIVE_MUTED="var(--interactive-muted)";e.MENTION_FOREGROUND="var(--mention-foreground)";e.MENTION_BACKGROUND="var(--mention-background)";e.BACKGROUND_PRIMARY="var(--background-primary)";e.BACKGROUND_SECONDARY="var(--background-secondary)";e.BACKGROUND_SECONDARY_ALT="var(--background-secondary-alt)";e.BACKGROUND_TERTIARY="var(--background-tertiary)";e.BACKGROUND_ACCENT="var(--background-accent)";e.BACKGROUND_FLOATING="var(--background-floating)";e.BACKGROUND_NESTED_FLOATING="var(--background-nested-floating)";e.BACKGROUND_MOBILE_PRIMARY="var(--background-mobile-primary)"
;e.BACKGROUND_MOBILE_SECONDARY="var(--background-mobile-secondary)";e.HOME_BACKGROUND="var(--home-background)";e.CHAT_BACKGROUND="var(--chat-background)";e.CHAT_BORDER="var(--chat-border)";e.CHAT_INPUT_CONTAINER_BACKGROUND="var(--chat-input-container-background)";e.BACKGROUND_MODIFIER_HOVER="var(--background-modifier-hover)";e.BACKGROUND_MODIFIER_ACTIVE="var(--background-modifier-active)";e.BACKGROUND_MODIFIER_SELECTED="var(--background-modifier-selected)";e.BACKGROUND_MODIFIER_ACCENT="var(--background-modifier-accent)";e.INFO_POSITIVE_BACKGROUND="var(--info-positive-background)";e.INFO_POSITIVE_FOREGROUND="var(--info-positive-foreground)";e.INFO_POSITIVE_TEXT="var(--info-positive-text)";e.INFO_WARNING_BACKGROUND="var(--info-warning-background)";e.INFO_WARNING_FOREGROUND="var(--info-warning-foreground)";e.INFO_WARNING_TEXT="var(--info-warning-text)";e.INFO_DANGER_BACKGROUND="var(--info-danger-background)";e.INFO_DANGER_FOREGROUND="var(--info-danger-foreground)"
;e.INFO_DANGER_TEXT="var(--info-danger-text)";e.INFO_HELP_BACKGROUND="var(--info-help-background)";e.INFO_HELP_FOREGROUND="var(--info-help-foreground)";e.INFO_HELP_TEXT="var(--info-help-text)";e.STATUS_POSITIVE_BACKGROUND="var(--status-positive-background)";e.STATUS_POSITIVE_TEXT="var(--status-positive-text)";e.STATUS_WARNING_BACKGROUND="var(--status-warning-background)";e.STATUS_WARNING_TEXT="var(--status-warning-text)";e.STATUS_DANGER_BACKGROUND="var(--status-danger-background)";e.STATUS_DANGER_TEXT="var(--status-danger-text)";e.STATUS_DANGER="var(--status-danger)";e.STATUS_POSITIVE="var(--status-positive)";e.STATUS_WARNING="var(--status-warning)";e.BUTTON_DANGER_BACKGROUND="var(--button-danger-background)";e.BUTTON_DANGER_BACKGROUND_HOVER="var(--button-danger-background-hover)";e.BUTTON_DANGER_BACKGROUND_ACTIVE="var(--button-danger-background-active)";e.BUTTON_DANGER_BACKGROUND_DISABLED="var(--button-danger-background-disabled)"
;e.BUTTON_POSITIVE_BACKGROUND="var(--button-positive-background)";e.BUTTON_POSITIVE_BACKGROUND_HOVER="var(--button-positive-background-hover)";e.BUTTON_POSITIVE_BACKGROUND_ACTIVE="var(--button-positive-background-active)";e.BUTTON_POSITIVE_BACKGROUND_DISABLED="var(--button-positive-background-disabled)";e.BUTTON_SECONDARY_BACKGROUND="var(--button-secondary-background)";e.BUTTON_SECONDARY_BACKGROUND_HOVER="var(--button-secondary-background-hover)";e.BUTTON_SECONDARY_BACKGROUND_ACTIVE="var(--button-secondary-background-active)";e.BUTTON_SECONDARY_BACKGROUND_DISABLED="var(--button-secondary-background-disabled)";e.BUTTON_OUTLINE_DANGER_TEXT="var(--button-outline-danger-text)";e.BUTTON_OUTLINE_DANGER_BORDER="var(--button-outline-danger-border)";e.BUTTON_OUTLINE_DANGER_BACKGROUND="var(--button-outline-danger-background)";e.BUTTON_OUTLINE_DANGER_BACKGROUND_HOVER="var(--button-outline-danger-background-hover)";e.BUTTON_OUTLINE_DANGER_TEXT_HOVER="var(--button-outline-danger-text-hover)"
;e.BUTTON_OUTLINE_DANGER_BORDER_HOVER="var(--button-outline-danger-border-hover)";e.BUTTON_OUTLINE_DANGER_BACKGROUND_ACTIVE="var(--button-outline-danger-background-active)";e.BUTTON_OUTLINE_DANGER_TEXT_ACTIVE="var(--button-outline-danger-text-active)";e.BUTTON_OUTLINE_DANGER_BORDER_ACTIVE="var(--button-outline-danger-border-active)";e.BUTTON_OUTLINE_POSITIVE_TEXT="var(--button-outline-positive-text)";e.BUTTON_OUTLINE_POSITIVE_BORDER="var(--button-outline-positive-border)";e.BUTTON_OUTLINE_POSITIVE_BACKGROUND="var(--button-outline-positive-background)";e.BUTTON_OUTLINE_POSITIVE_BACKGROUND_HOVER="var(--button-outline-positive-background-hover)";e.BUTTON_OUTLINE_POSITIVE_TEXT_HOVER="var(--button-outline-positive-text-hover)";e.BUTTON_OUTLINE_POSITIVE_BORDER_HOVER="var(--button-outline-positive-border-hover)";e.BUTTON_OUTLINE_POSITIVE_BACKGROUND_ACTIVE="var(--button-outline-positive-background-active)";e.BUTTON_OUTLINE_POSITIVE_TEXT_ACTIVE="var(--button-outline-positive-text-active)"
;e.BUTTON_OUTLINE_POSITIVE_BORDER_ACTIVE="var(--button-outline-positive-border-active)";e.BUTTON_OUTLINE_BRAND_TEXT="var(--button-outline-brand-text)";e.BUTTON_OUTLINE_BRAND_BORDER="var(--button-outline-brand-border)";e.BUTTON_OUTLINE_BRAND_BACKGROUND="var(--button-outline-brand-background)";e.BUTTON_OUTLINE_BRAND_BACKGROUND_HOVER="var(--button-outline-brand-background-hover)";e.BUTTON_OUTLINE_BRAND_TEXT_HOVER="var(--button-outline-brand-text-hover)";e.BUTTON_OUTLINE_BRAND_BORDER_HOVER="var(--button-outline-brand-border-hover)";e.BUTTON_OUTLINE_BRAND_BACKGROUND_ACTIVE="var(--button-outline-brand-background-active)";e.BUTTON_OUTLINE_BRAND_TEXT_ACTIVE="var(--button-outline-brand-text-active)";e.BUTTON_OUTLINE_BRAND_BORDER_ACTIVE="var(--button-outline-brand-border-active)";e.BUTTON_OUTLINE_PRIMARY_TEXT="var(--button-outline-primary-text)";e.BUTTON_OUTLINE_PRIMARY_BORDER="var(--button-outline-primary-border)";e.BUTTON_OUTLINE_PRIMARY_BACKGROUND="var(--button-outline-primary-background)"
;e.BUTTON_OUTLINE_PRIMARY_BACKGROUND_HOVER="var(--button-outline-primary-background-hover)";e.BUTTON_OUTLINE_PRIMARY_TEXT_HOVER="var(--button-outline-primary-text-hover)";e.BUTTON_OUTLINE_PRIMARY_BORDER_HOVER="var(--button-outline-primary-border-hover)";e.BUTTON_OUTLINE_PRIMARY_BACKGROUND_ACTIVE="var(--button-outline-primary-background-active)";e.BUTTON_OUTLINE_PRIMARY_TEXT_ACTIVE="var(--button-outline-primary-text-active)";e.BUTTON_OUTLINE_PRIMARY_BORDER_ACTIVE="var(--button-outline-primary-border-active)";e.MODAL_BACKGROUND="var(--modal-background)";e.MODAL_FOOTER_BACKGROUND="var(--modal-footer-background)";e.SCROLLBAR_THIN_THUMB="var(--scrollbar-thin-thumb)";e.SCROLLBAR_THIN_TRACK="var(--scrollbar-thin-track)";e.SCROLLBAR_AUTO_THUMB="var(--scrollbar-auto-thumb)";e.SCROLLBAR_AUTO_TRACK="var(--scrollbar-auto-track)";e.SCROLLBAR_AUTO_SCROLLBAR_COLOR_THUMB="var(--scrollbar-auto-scrollbar-color-thumb)";e.SCROLLBAR_AUTO_SCROLLBAR_COLOR_TRACK="var(--scrollbar-auto-scrollbar-color-track)"
;e.INPUT_BACKGROUND="var(--input-background)";e.INPUT_PLACEHOLDER_TEXT="var(--input-placeholder-text)";e.LOGO_PRIMARY="var(--logo-primary)";e.FOCUS_PRIMARY="var(--focus-primary)";e.CONTROL_BRAND_FOREGROUND="var(--control-brand-foreground)";e.CONTROL_BRAND_FOREGROUND_NEW="var(--control-brand-foreground-new)";e.BACKGROUND_MENTIONED="var(--background-mentioned)";e.BACKGROUND_MENTIONED_HOVER="var(--background-mentioned-hover)";e.BACKGROUND_MESSAGE_HOVER="var(--background-message-hover)";e.BACKGROUND_MESSAGE_AUTOMOD="var(--background-message-automod)";e.BACKGROUND_MESSAGE_AUTOMOD_HOVER="var(--background-message-automod-hover)";e.BACKGROUND_MESSAGE_HIGHLIGHT="var(--background-message-highlight)";e.BACKGROUND_MESSAGE_HIGHLIGHT_HOVER="var(--background-message-highlight-hover)";e.CHANNELS_DEFAULT="var(--channels-default)";e.CHANNEL_ICON="var(--channel-icon)";e.CHANNEL_TEXT_AREA_PLACEHOLDER="var(--channel-text-area-placeholder)";e.CHANNELTEXTAREA_BACKGROUND="var(--channeltextarea-background)"
;e.ACTIVITY_CARD_BACKGROUND="var(--activity-card-background)";e.TEXTBOX_MARKDOWN_SYNTAX="var(--textbox-markdown-syntax)";e.SPOILER_REVEALED_BACKGROUND="var(--spoiler-revealed-background)";e.SPOILER_HIDDEN_BACKGROUND="var(--spoiler-hidden-background)";e.ANDROID_NAVIGATION_BAR_BACKGROUND="var(--android-navigation-bar-background)";e.ANDROID_RIPPLE="var(--android-ripple)";e.DEPRECATED_CARD_BG="var(--deprecated-card-bg)";e.DEPRECATED_CARD_EDITABLE_BG="var(--deprecated-card-editable-bg)";e.DEPRECATED_STORE_BG="var(--deprecated-store-bg)";e.DEPRECATED_QUICKSWITCHER_INPUT_BACKGROUND="var(--deprecated-quickswitcher-input-background)";e.DEPRECATED_QUICKSWITCHER_INPUT_PLACEHOLDER="var(--deprecated-quickswitcher-input-placeholder)";e.DEPRECATED_TEXT_INPUT_BG="var(--deprecated-text-input-bg)";e.DEPRECATED_TEXT_INPUT_BORDER="var(--deprecated-text-input-border)";e.ANDROID_NAVIGATION_SCRIM_BACKGROUND="var(--android-navigation-scrim-background)"
;e.BUG_REPORTER_MODAL_SUBMITTING_BACKGROUND="var(--bug-reporter-modal-submitting-background)";e.FORUM_POST_EXTRA_MEDIA_COUNT_CONTAINER_BACKGROUND="var(--forum-post-extra-media-count-container-background)";e.FORUM_POST_TAG_BACKGROUND="var(--forum-post-tag-background)";e.LIVE_STAGE_TILE_BORDER="var(--live-stage-tile-border)";e.USER_PROFILE_HEADER_OVERFLOW_BACKGROUND="var(--user-profile-header-overflow-background)";e.DISPLAY_BANNER_OVERFLOW_BACKGROUND="var(--display-banner-overflow-background)";e.INFO_BOX_BACKGROUND="var(--info-box-background)";e.DEPRECATED_TEXT_INPUT_BORDER_HOVER="var(--deprecated-text-input-border-hover)";e.DEPRECATED_TEXT_INPUT_BORDER_DISABLED="var(--deprecated-text-input-border-disabled)";e.DEPRECATED_TEXT_INPUT_PREFIX="var(--deprecated-text-input-prefix)"}(r||(r={}));const o=r},286452:(e,t,n)=>{n.d(t,{z:()=>r});var r;!function(e){e.MATCH_ALL="match_all";e.MATCH_SOME="match_some"}(r||(r={}));new Set(["match_all","match_some"])}}]);
//# sourceMappingURL=7cc1b055613a7f310409.js.map