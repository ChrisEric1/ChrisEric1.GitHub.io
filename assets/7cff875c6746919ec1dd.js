"use strict";(this.webpackChunkdiscord_developers=this.webpackChunkdiscord_developers||[]).push([[6055],{33473:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=t.MINIMUM_DATE=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=l(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e;r&&r.set(e,n);return n}(r(67294)),a=i(r(23855)),o=i(r(45245));function i(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(l=function(e){return e?r:t})(e)}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]
;for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var s=(0,a.default)("2018-12-06");t.MINIMUM_DATE=s;var f=function(e){return n.createElement(o.default,u({minDate:s},e))};f.displayName="ApplicationAnalyticsPageWrapper";var c=f;t.default=c},97186:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e;r&&r.set(e,n)}(r(67294));var n,a=u(r(23855)),o=u(r(96486)),i=u(r(19462)),l=r(34596);function u(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}function f(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;t||0===i||(t={children:void 0});if(1===i)t.children=a;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var c=function(e){var t=e.activePlayersByCountry;if(null==t)return null;var r={};if(t.length>0){var n=o.default.groupBy(t,(function(e){return e.date})),u=Object.keys(n).sort(),s=u[u.length-1];o.default.orderBy(n[s],["active_players"],["desc"]).slice(0,10).forEach((function(e){r[e.country_code]=!0}))}var c=o.default.groupBy(t,(function(e){return r[e.country_code]?e.country_code:l.Messages.Analytics.OTHER})),y=o.default.groupBy(c[l.Messages.Analytics.OTHER],(function(e){return e.date}))
;c[l.Messages.Analytics.OTHER]=o.default.map(y,(function(e,t){return{date:t,active_players:o.default.sumBy(e,(function(e){return e.active_players})),country_code:l.Messages.Analytics.OTHER}}));var d=o.default.reduce(c,(function(e,t,r){var n=t.map((function(e){return{x:(0,a.default)(e.date).valueOf(),y:e.active_players}}));e.push({type:i.default.Types.COLUMN,name:r,data:o.default.sortBy(n,"x")});return e}),[]);return f(i.default,{csvFilename:"active-players",rawData:t,title:l.Messages.Analytics.ACTIVE_PLAYERS_CHART,series:d,stackColumns:!0,xAxisDateTime:!0,yAxisTitle:l.Messages.Analytics.PLAYERS})};c.displayName="ActivePlayersByCountryChart";var y=c;t.default=y},29685:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e;r&&r.set(e,n)}(r(67294));var n,a=u(r(23855)),o=r(96486),i=u(r(19462)),l=r(34596);function u(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}function f(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;t||0===i||(t={children:void 0});if(1===i)t.children=a;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var c=function(e){var t,r=e.playerRetentionByDate;if(null==r)return null;var n=r.reduce((function(e,t){var r=(0,
a.default)(t.date).valueOf();e[l.Messages.Analytics.NEW_PLAYERS].push({x:r,y:t.new_players});e[l.Messages.Analytics.PERCENT_WEEK_ONE].push({x:r,y:100*t.percent_retained_in_week1});e[l.Messages.Analytics.PERCENT_WEEK_TWO].push({x:r,y:100*t.percent_retained_in_week2});e[l.Messages.Analytics.PERCENT_WEEK_FOUR].push({x:r,y:100*t.percent_retained_in_week4});e[l.Messages.Analytics.PERCENT_WEEK_EIGHT].push({x:r,y:100*t.percent_retained_in_week8});return e}),((t={})[l.Messages.Analytics.NEW_PLAYERS]=[],t[l.Messages.Analytics.PERCENT_WEEK_ONE]=[],t[l.Messages.Analytics.PERCENT_WEEK_TWO]=[],t[l.Messages.Analytics.PERCENT_WEEK_FOUR]=[],t[l.Messages.Analytics.PERCENT_WEEK_EIGHT]=[],t)),u=Object.keys((0,o.omitBy)(n,(function(e){return 0===e.length}))).map((function(e){var t=e!==l.Messages.Analytics.NEW_PLAYERS;return{type:t?i.default.Types.LINE:i.default.Types.COLUMN,name:e,data:(0,o.sortBy)(n[e],"x"),yAxis:t?1:0,tooltip:{valueSuffix:t?"%":" players",valueDecimals:t?2:0}}})),s=[{title:{
text:l.Messages.Analytics.PLAYERS}},{title:{text:l.Messages.Analytics.RETENTION},labels:{format:"{value:,.2f}%"},opposite:!0}];return f(i.default,{csvFilename:"impressions",rawData:r,title:l.Messages.Analytics.PLAYER_RETENTION_CHART,series:u,muteColumnColor:!0,xAxisDateTime:!0,yAxis:s,sharedTooltip:!0})};c.displayName="PlayerRetentionByDateChart";var y=c;t.default=y},88881:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n,a=_(r(67294)),o=_(r(71668)),i=_(r(84455)),l=r(19290),u=p(r(31055)),s=p(r(33473)),f=p(r(97186)),c=p(r(29685)),y=r(70348),d=r(34596);function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(v=function(e){return e?r:t})(e)}function _(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=v(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e;r&&r.set(e,n);return n}function g(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;t||0===i||(t={children:void 0});if(1===i)t.children=a;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e})(e,t)}var h=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;E(e,t)}(t,e);function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];(t=e.call.apply(e,[this].concat(n))||this).state={
isLoadingFilteredData:!0,activePlayersByCountry:[],playerRetentionByDate:[],errorMessage:null};t.handleFilterBarChange=function(e,r,n){t.setState({errorMessage:null,isLoadingFilteredData:!0});var a=t.props.match.params.id,i={isLoadingFilteredData:!1},u=[o.fetchActivePlayersByCountry(a,e,r,n).then((function(e){i.activePlayersByCountry=e})),o.fetchPlayerRetentionByDate(a,e,r,n).then((function(e){i.playerRetentionByDate=e}))];Promise.all(u).then((function(){t.setState(i)})).catch((function(e){t.setState({errorMessage:(0,l.getMessageFromAPIError)(e,d.Messages.Errors.ERROR_LOADING_ANALYTICS_DATA.format()),isLoadingFilteredData:!1})}))};return t}var r=t.prototype;r.renderFilteredData=function(){var e=this.state,t=e.errorMessage,r=e.activePlayersByCountry,n=e.playerRetentionByDate;return null!=t?g(u.default,{type:u.default.Types.ERROR},void 0,t):g(i.default,{},void 0,g(i.GridSection,{},void 0,g(i.GridChild,{columnSpread:12,columnSpreadLarge:6,columnSpreadExtraLarge:6},void 0,g(f.default,{
activePlayersByCountry:r})),g(i.GridChild,{columnSpread:12,columnSpreadLarge:6,columnSpreadExtraLarge:6},void 0,g(c.default,{playerRetentionByDate:n}))))};r.render=function(){var e=this.state,t=e.isLoadingFilteredData,r=e.errorMessage;return g(s.default,{heading:d.Messages.Analytics.ENGAGEMENT_HEADING,isLoading:t,onFilterBarChange:this.handleFilterBarChange,hasError:null!=r,subheading:d.Messages.Analytics.ENGAGEMENT_SUBHEADING.format({supportUrl:y.Links.APPLICATION_ANALYTICS_SUPPORT})},void 0,this.renderFilteredData())};return t}(a.Component);h.displayName="Engagement";var O=h;t.default=O}}]);
//# sourceMappingURL=7cff875c6746919ec1dd.js.map