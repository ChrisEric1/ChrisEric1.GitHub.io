(this.webpackChunkdiscord_developers=this.webpackChunkdiscord_developers||[]).push([[3086],{52263:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.createCardPaymentSource=function(e){return p.apply(this,arguments)};t.createPaypalPaymentSource=function(e,t){return f(l.PaymentGateways.BRAINTREE,e,t).catch(a.APIErrorHandler)};t.purchaseApplicationLicense=t.fetchPaymentSources=t.createPaymentSource=void 0;var n=s(r(18915)),o=s(r(36602)),a=r(19290),u=r(65592),i=s(r(16881)),l=r(70348);function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t,r,n,o,a,u){try{var i=e[a](u),l=i.value}catch(e){r(e);return}i.done?t(l):Promise.resolve(l).then(n,o)}function d(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function u(e){c(a,n,o,u,i,"next",e)}function i(e){c(a,n,o,u,i,"throw",e)}u(void 0)}))}}function p(){return(p=d(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){
for(;;)switch(e.prev=e.next){case 0:e.next=2;return v(t);case 2:r=e.sent;return e.abrupt("return",f(l.PaymentGateways.STRIPE,r.id,t.billingAddress).catch(u.formatStripeErrors));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var f=function(e,t,r){return n.default.post({url:l.Endpoints.PAYMENT_SOURCES,body:{payment_gateway:e,token:t,billing_address:{name:r.name,line_1:r.line1,line_2:r.line2,city:r.city,state:r.state,postal_code:r.postalCode,country:r.country}},oldFormErrors:!0}).then((function(e){o.default.dispatch({type:i.default.PAYMENT_SOURCE_CREATE_SUCCESS,paymentSource:e.body})}))};t.createPaymentSource=f;t.fetchPaymentSources=function(){return n.default.get({url:l.Endpoints.PAYMENT_SOURCES,oldFormErrors:!0}).then((function(e){o.default.dispatch({type:i.default.PAYMENT_SOURCES_FETCH_SUCCESS,paymentSources:e.body});return e.body}))};var y=function(){var e=d(regeneratorRuntime.mark((function e(t){var r,s,c;return regeneratorRuntime.wrap((function(e){
for(;;)switch(e.prev=e.next){case 0:e.prev=0;e.next=3;return n.default.post({url:l.Endpoints.PURCHASE_SKU(l.APPLICATION_LICENSE_SKU_ID),body:{payment_source_id:t,expected_amount:l.APPLICATION_LICENSE_PRICE},oldFormErrors:!0});case 3:r=e.sent;o.default.dispatch({type:i.default.ENTITLEMENT_CREATE_SUCCESS,entitlements:r.body.entitlements});e.next=19;break;case 7:e.prev=7;e.t0=e.catch(0);if((s=new a.APIError(e.t0)).code!==l.APIErrorCodes.AUTHENTICATION_REQUIRED){e.next=18;break}e.next=13;return(0,u.authenticatePaymentIntentForPaymentId)(e.t0.body.payment_id);case 13:if(null==(c=e.sent).error){e.next=16;break}throw c.error;case 16:e.next=19;break;case 18:throw s;case 19:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();t.purchaseApplicationLicense=y;function v(e){return m.apply(this,arguments)}function m(){return(m=d(regeneratorRuntime.mark((function e(t){var r,n,o,a,i,s,c,d,p,f,y,v;return regeneratorRuntime.wrap((function(e){
for(;;)switch(e.prev=e.next){case 0:if(t.type===l.PaymentSourceTypes.CARD){e.next=2;break}throw new Error("Stripe is only for Card types");case 2:e.next=4;return(0,u.ensureStripeIsLoaded)();case 4:r=e.sent;n=t.cardNumber,o=t.cvc,a=t.expirationDate,i=t.billingAddress,s=i.name,c=i.line1,d=i.line2,p=i.city,f=i.state,y=i.postalCode,v=i.country;return e.abrupt("return",new Promise((function(e,t){r.card.createToken({number:n,cvc:o,exp:a,name:s,address_line1:c,address_line2:d,address_city:p,address_state:f,address_zip:y,address_country:v},(function(r,n){200===r&&null!=n&&n.id?e(n):t(n)}))})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},96561:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.createClient=function(){return n.default.client.create({authorization:l.PaymentSettings.BRAINTREE.KEY}).then((function(e){a.default.dispatch({type:i.default.BRAINTREE_CREATE_CLIENT_SUCCESS,client:e});return c()}))};t.createPayPalClient=c
;t.tokenizePayPal=function(){var e=u.default.getPayPalClient();if(null==e)throw new Error("braintree paypal client must be initialized before calling this");return e.tokenize({flow:"vault"}).then((function(e){var t=e.details,r=t.email,n=t.firstName,o=t.lastName,a=t.billingAddress;return{nonce:e.nonce,email:r,billingAddress:{name:n+" "+o,line1:a.line1,line2:a.line2,city:a.city,state:a.state,country:a.countryCode,postalCode:a.postalCode}}})).catch((function(e){if(e.code!==l.BraintreeErrors.PAYPAL_POPUP_CLOSED)throw new Error}))};t.teardown=function(){var e=u.default.getPayPalClient();if(null==e)return Promise.resolve();a.default.dispatch({type:i.default.BRAINTREE_TEARDOWN_PAYPAL_CLIENT});try{return e.teardown()}catch(e){return Promise.resolve()}};var n=s(r(99483)),o=s(r(18915)),a=s(r(36602)),u=s(r(89166)),i=s(r(16881)),l=r(70348);function s(e){return e&&e.__esModule?e:{default:e}}function c(){var e=u.default.getClient()
;if(null==e)throw new Error("braintree client must be initialized before calling this");return n.default.paypal.create({client:e}).then((function(e){if(null==e._navigateFrameToAuth)throw new Error("braintree client missing _navigateFrameToAuth. did someone upgrade the braintree library?");e._navigateFrameToAuth=function(e){var t=this,r=this._formatPaymentResourceData(e);return o.default.post({url:l.Endpoints.BILLING_PAYPAL_BILLING_AGREEMENT_TOKENS,oldFormErrors:!0,body:{return_url:r.returnUrl,cancel_url:r.cancelUrl}}).then((function(e){var r=e.body.token;t._frameService.redirect(function(e){return(l.PaymentSettings.BRAINTREE.KEY.startsWith("production_")?"https://www.paypal.com":"https://sandbox.paypal.com")+"/agreements/approve?nolegacy=1&ba_token="+e}(r))})).catch((function(e){t._frameService.close();t._authorizationInProgress=!1;return Promise.reject(new Error(e.body&&e.body.message))}))};a.default.dispatch({type:i.default.BRAINTREE_CREATE_PAYPAL_CLIENT_SUCCESS,paypalClient:e})}))}
},53014:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n,o,a=_(r(67294)),u=m(r(94864)),i=m(r(14122)),l=m(r(88525)),s=_(r(84455)),c=m(r(74257)),d=m(r(79950)),p=m(r(41908)),f=m(r(92974)),y=r(16997),v=r(34596);function m(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(h=function(e){return e?r:t})(e)}function _(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=h(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var u=o?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(n,a,u):n[a]=e[a]}n.default=e;r&&r.set(e,n);return n}function C(e,t,r,n){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var a=e&&e.defaultProps,u=arguments.length-3;t||0===u||(t={children:void 0});if(1===u)t.children=n;else if(u>1){for(var i=new Array(u),l=0;l<u;l++)i[l]=arguments[l+3];t.children=i}if(t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});return{$$typeof:o,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e})(e,t)}var S=i.default.map((function(e){return{value:e.code,label:e.name}})),E=((n={}).US=l.default,n.CA=u.default,n),g=["country","state","line1","city","postalCode"],O=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;P(e,t)}(t,e);function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];(t=e.call.apply(e,[this].concat(n))||this).state={country:t.props.country,state:t.props.state,line1:t.props.line1,line2:t.props.line2,city:t.props.city,postalCode:t.props.postalCode,errors:{}}
;t.handleCountryChange=function(e){t.setState({country:e.value})};t.handleStateChange=function(e){t.setState({state:e.value})};t.handlePreviousStep=function(){var e=t.props.onPreviousClick,r=t.state;e({country:r.country,state:r.state,line1:r.line1,line2:r.line2,city:r.city,postalCode:r.postalCode})};t.handleNextStep=function(){var e=t.props.onNextClick;t.isFormValid()&&e(t.state)};t.handleFieldChange=function(e,r){var n,o=t.state.errors;if(null!=r){null!=o[r]&&delete o[r];t.setState(((n={})[r]=e,n))}};t.renderStateField=function(){var e=t.state,r=e.country,n=e.state,o=e.errors,a=null==r?null:E[r];return null!=a?C(c.default,{options:a,onChange:t.handleStateChange,value:n,error:o.state}):C(d.default,{onChange:t.handleFieldChange,name:"state",value:n,error:o.state})};t.renderForm=function(){var e=t.state,r=e.country,n=e.line1,o=e.line2,a=e.city,u=e.postalCode,i=e.errors;return C(p.default,{},void 0,C(s.default,{},void 0,C(s.GridSection,{},void 0,C(s.GridChild,{columnSpread:12
},void 0,C(f.default,{},void 0,v.Messages.Address.COUNTRY),C(c.default,{onChange:t.handleCountryChange,options:S,value:r,error:i.country})),C(s.GridChild,{columnSpread:12},void 0,C(f.default,{},void 0,v.Messages.Address.ADDRESS_1),C(d.default,{onChange:t.handleFieldChange,placeholder:v.Messages.Address.ADDRESS_1_PLACEHOLDER,name:"line1",value:n,error:i.line1})),C(s.GridChild,{columnSpread:12},void 0,C(f.default,{},void 0,v.Messages.Address.ADDRESS_2),C(d.default,{onChange:t.handleFieldChange,placeholder:v.Messages.Address.ADDRESS_2_PLACEHOLDER,name:"line2",value:o})),C(s.GridChild,{columnSpread:12},void 0,C(f.default,{},void 0,v.Messages.Address.CITY),C(d.default,{onChange:t.handleFieldChange,placeholder:v.Messages.Address.CITY_PLACEHOLDER,name:"city",value:a,error:i.city})),C(s.GridChild,{columnSpread:6},void 0,C(f.default,{},void 0,v.Messages.Address.STATE),t.renderStateField()),C(s.GridChild,{columnSpread:6},void 0,C(f.default,{},void 0,v.Messages.Address.POSTAL_CODE),C(d.default,{
onChange:t.handleFieldChange,name:"postalCode",value:u,error:i.postalCode})))))};return t}var r=t.prototype;r.isFormValid=function(){var e=this,t={};g.forEach((function(r){""===e.state[r]&&(t[r]=v.Messages.PaymentModal.FIELD_REQUIRED)}));this.setState({errors:t});return 0===Object.keys(t).length};r.render=function(){var e=this.props,t=e.onRequestClose,r=e.isSubmitting;return C(a.Fragment,{},void 0,C(y.ModalContent,{},void 0,this.renderForm()),C(y.ModalFooter,{},void 0,C(y.ModalBack,{onClick:this.handlePreviousStep},void 0,v.Messages.Actions.BACK),C(y.ModalCancel,{onClick:t},void 0,v.Messages.Actions.CANCEL),C(y.ModalConfirm,{submitting:r,onClick:this.handleNextStep},void 0,v.Messages.Actions.NEXT)))};return t}(a.Component);t.default=O;O.displayName="AddressForm"},52963:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e}
;var r=p(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var u=o?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(n,a,u):n[a]=e[a]}n.default=e;r&&r.set(e,n);return n}(r(67294)),a=d(r(94184)),u=d(r(79950)),i=d(r(83545)),l=d(r(63002)),s=d(r(22635)),c=["value","flipped","inputClassName","className"];function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(p=function(e){return e?r:t})(e)}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function y(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,u=arguments.length-3
;t||0===u||(t={children:void 0});if(1===u)t.children=o;else if(u>1){for(var i=new Array(u),l=0;l<u;l++)i[l]=arguments[l+3];t.children=i}if(t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e})(e,t)}var m=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;v(e,t)}(t,e);function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];(t=e.call.apply(e,[this].concat(n))||this).selectionStart=0;t.setRef=function(e){var r=t.props.inputRef;t._inputRef=e;null!=r&&r(e)};t.handleChange=function(e,r){var n=t.props,o=n.value,a=n.onChange,u=t._inputRef;if(e!==o&&null!=u&&null!=o){var l=i.default.prettifyCreditCardNumber(e),s=u.selectionStart;if(o===l){s-=1;l=i.default.prettifyCreditCardNumber(l.substring(0,s)+l.substring(s+1))}else{var c=l.length-e.length
;c>0&&(s+=c)}t.selectionStart=s;null!=a&&a(l,r)}};return t}var r=t.prototype;r.componentDidUpdate=function(e){var t=this._inputRef;e.value!==this.props.value&&null!=t&&t.setSelectionRange(this.selectionStart,this.selectionStart)};r.getMaxLength=function(e){var t=null!=e?i.default.getCreditCardType(e):i.default.DEFAULT_CARD_TYPE;return t.lengths[t.lengths.length-1]+t.gaps.length};r.render=function(){var e=this.props,t=e.value,r=e.flipped,n=e.inputClassName,d=e.className,p=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++){r=a[n];t.indexOf(r)>=0||(o[r]=e[r])}return o}(e,c),v=i.default.getCreditCardType(t),m=this.getMaxLength(t);return y("div",{className:(0,a.default)(s.default.cardNumberWrapper,d)},void 0,y(l.default,{className:s.default.cardIcon,type:v.type,flipped:r}),o.createElement(u.default,f({},p,{value:i.default.prettifyCreditCardNumber(t),onChange:this.handleChange,inputRef:this.setRef,maxLength:m,inputClassName:(0,
a.default)(s.default.cardNumberInput,n)})))};return t}(o.PureComponent);m.displayName="CardNumberField";m.defaultProps={flipped:!1};var h=m;t.default=h},66142:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n,o,a=_(r(67294)),u=m(r(36211)),i=m(r(21974)),l=_(r(84455)),s=m(r(79950)),c=r(65592),d=m(r(41908)),p=m(r(92974)),f=r(16997),y=m(r(52963)),v=r(34596);function m(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(h=function(e){return e?r:t})(e)}function _(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=h(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var u=o?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(n,a,u):n[a]=e[a]}
n.default=e;r&&r.set(e,n);return n}function C(e,t,r,n,o,a,u){try{var i=e[a](u),l=i.value}catch(e){r(e);return}i.done?t(l):Promise.resolve(l).then(n,o)}function P(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,u=arguments.length-3;t||0===u||(t={children:void 0});if(1===u)t.children=o;else if(u>1){for(var i=new Array(u),l=0;l<u;l++)i[l]=arguments[l+3];t.children=i}if(t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e})(e,t)}var E=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;S(e,t)}(t,e);function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];(t=e.call.apply(e,[this].concat(n))||this).state={cardNumber:t.props.cardNumber,expirationDate:t.props.expirationDate,
cvc:t.props.cvc,name:t.props.name,errors:{}};t.handleFieldChange=function(e,r){var n,o=t.state.errors;if(null!=r){null!=o[r]&&delete o[r];t.setState(((n={})[r]=e,n.errors=o,n))}};t.handleNextStep=function(){var e=t.props.onNextClick,r=t.state,n=r.cardNumber,o=r.expirationDate,a=r.cvc,u=r.name;t.isFormValid()&&e({cardNumber:n,expirationDate:o,cvc:a,name:u})};t.handlePreviousStep=function(){var e=t.props.onPreviousClick,r=t.state;e({cardNumber:r.cardNumber,expirationDate:r.expirationDate,cvc:r.cvc,name:r.name})};t.renderCreditCardForm=function(){var e=t.state,r=e.cardNumber,n=e.expirationDate,o=e.cvc,a=e.name,u=e.errors;return P(d.default,{},void 0,P(l.default,{},void 0,P(l.GridSection,{},void 0,P(l.GridChild,{columnSpread:12},void 0,P(p.default,{},void 0,v.Messages.PaymentModal.CREDIT_CARD_NUMBER),P(y.default,{name:"cardNumber",onChange:t.handleFieldChange,value:r,error:u.cardNumber,placeholder:v.Messages.PaymentModal.CREDIT_CARD_PLACEHOLDER})),P(l.GridChild,{columnSpread:6
},void 0,P(p.default,{},void 0,v.Messages.PaymentModal.EXPIRATION_DATE),P(s.default,{name:"expirationDate",onChange:t.handleFieldChange,value:n,error:u.expirationDate,placeholder:v.Messages.PaymentModal.EXPIRATION_PLACEHOLDER})),P(l.GridChild,{columnSpread:6},void 0,P(p.default,{},void 0,v.Messages.PaymentModal.CVC),P(s.default,{name:"cvc",onChange:t.handleFieldChange,value:o,error:u.cvc,placeholder:v.Messages.PaymentModal.CVC_PLACEHOLDER})),P(l.GridChild,{columnSpread:12},void 0,P(p.default,{},void 0,v.Messages.PaymentModal.NAME_ON_CARD),P(s.default,{name:"name",onChange:t.handleFieldChange,value:a,error:u.name,placeholder:v.Messages.PaymentModal.NAME_PLACEHOLDER})))))};return t}var r=t.prototype;r.componentDidMount=function(){var e,t=(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return(0,c.ensureStripeIsLoaded)();case 2:o=e.sent;case 3:case"end":return e.stop()}}),e)})),function(){
var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function u(e){C(a,n,o,u,i,"next",e)}function i(e){C(a,n,o,u,i,"throw",e)}u(void 0)}))});return function(){return t.apply(this,arguments)}}();r.isFormValid=function(){var e=this.state,t=e.cardNumber,r=e.expirationDate,n=e.cvc,a=e.name;if(null==o)return!1;var u={};o.card.validateCardNumber(t)||(u.cardNumber=v.Messages.PaymentModal.INVALID_CARD_NUMBER);o.card.validateExpiry(r)||(u.expirationDate=v.Messages.PaymentModal.INVALID_EXPIRATION_DATE);o.card.validateCVC(n)||(u.cvc=v.Messages.PaymentModal.INVALID_CVC);""===a&&(u.name=v.Messages.PaymentModal.INVALID_NAME);this.setState({errors:u});return 0===Object.keys(u).length};r.render=function(){var e=this.props,t=e.onRequestClose,r=e.paymentSources;return P(a.Fragment,{},void 0,P(f.ModalContent,{},void 0,this.renderCreditCardForm()),P(f.ModalFooter,{},void 0,r.length>0?P(f.ModalBack,{onClick:this.handlePreviousStep
},void 0,v.Messages.Actions.BACK):null,P(f.ModalCancel,{onClick:t},void 0,v.Messages.Actions.CANCEL),P(f.ModalConfirm,{onClick:this.handleNextStep},void 0,v.Messages.Actions.NEXT)))};return t}(a.Component);E.displayName="NewCreditCardForm";var g=u.default.connectStores([i.default],(function(){return{paymentSources:i.default.paymentSources}}))(E);t.default=g},52342:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n,o=_(r(67294)),a=m(r(36211)),u=_(r(96561)),i=m(r(89166)),l=m(r(56117)),s=_(r(84455)),c=m(r(79950)),d=m(r(92974)),p=r(16997),f=m(r(63002)),y=r(34596),v=m(r(50812));function m(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(h=function(e){return e?r:t})(e)}function _(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=h(t);if(r&&r.has(e))return r.get(e)
;var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var u=o?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(n,a,u):n[a]=e[a]}n.default=e;r&&r.set(e,n);return n}function C(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,u=arguments.length-3;t||0===u||(t={children:void 0});if(1===u)t.children=o;else if(u>1){for(var i=new Array(u),l=0;l<u;l++)i[l]=arguments[l+3];t.children=i}if(t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function P(e,t,r,n,o,a,u){try{var i=e[a](u),l=i.value}catch(e){r(e);return}i.done?t(l):Promise.resolve(l).then(n,o)}function S(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function u(e){P(a,n,o,u,i,"next",e)}function i(e){
P(a,n,o,u,i,"throw",e)}u(void 0)}))}}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e})(e,t)}var g=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;E(e,t)}(t,e);function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];(t=e.call.apply(e,[this].concat(n))||this).handleTokenizePayPal=S(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.props.onNextClick;e.next=3;return u.tokenizePayPal();case 3:null!=(n=e.sent)&&r(n);case 5:case"end":return e.stop()}}),e)})));return t}var r=t.prototype;r.componentDidMount=function(){var e=this;u.createClient().catch((function(){e.setState({errorMessage:y.Messages.PaymentModal.ERROR_CONNECTING_TO_PAYPAL})}))};r.componentDidUpdate=function(e){var t=this.props.paypalClient;null==e.paypalClient&&null!=t&&this.handleTokenizePayPal()};r.componentWillUnmount=function(){
u.teardown()};r.render=function(){var e=this.props,t=e.onRequestClose,r=e.onPreviousClick;return C(o.Fragment,{},void 0,C(p.ModalContent,{},void 0,C(d.default,{},void 0,y.Messages.PaymentModal.PAYPAL_ACCOUNT),C(s.default,{},void 0,C(s.GridSection,{},void 0,C(s.GridChild,{columnSpread:12},void 0,C("div",{className:v.default.inputWrapper},void 0,C(f.default,{className:v.default.cardIcon,type:f.default.Types.PAYPAL}),C(c.default,{inputClassName:v.default.textInput,value:y.Messages.PaymentModal.CONFIRM_PAYPAL_IN_BROWSER,disabled:!0})))))),C(p.ModalFooter,{},void 0,C(p.ModalBack,{onClick:r},void 0,y.Messages.Actions.BACK),C(p.ModalCancel,{onClick:t},void 0,y.Messages.Actions.CANCEL),C(l.default,{onClick:this.handleTokenizePayPal,color:l.default.Color.PRIMARY},void 0,y.Messages.PaymentModal.REOPEN_WINDOW)))};return t}(o.Component);g.displayName="NewPayPalForm";var O=a.default.connectStores([i.default],(function(){return{paypalClient:i.default.getPayPalClient()}}))(g);t.default=O},
38525:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.PaymentModalSteps=void 0;var n,o=P(r(67294)),a=_(r(36211)),u=P(r(52263)),i=_(r(21974)),l=r(19290),s=P(r(16997)),c=_(r(53014)),d=_(r(66142)),p=_(r(52342)),f=_(r(55688)),y=_(r(94620)),v=_(r(9716)),m=r(70348),h=r(34596);function _(e){return e&&e.__esModule?e:{default:e}}function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(C=function(e){return e?r:t})(e)}function P(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=C(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var u=o?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(n,a,u):n[a]=e[a]}n.default=e;r&&r.set(e,n);return n}function S(e,t,r,o){
n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,u=arguments.length-3;t||0===u||(t={children:void 0});if(1===u)t.children=o;else if(u>1){for(var i=new Array(u),l=0;l<u;l++)i[l]=arguments[l+3];t.children=i}if(t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e})(e,t)}var O={SELECT_PAYMENT_SOURCE_TYPE:0,COLLECT_PAYMENT_SOURCE_DATA:1,COLLECT_ADDRESS_DATA:2,REVIEW_DETAILS:3};t.PaymentModalSteps=O;var A={isSubmitting:!1,paymentSourceType:null,hasAcceptedTerms:!1,error:null,braintreeNonce:"",creditCardData:{cardNumber:"",expirationDate:"",cvc:"",name:""},
billingAddressData:{name:"",country:"",city:"",line1:"",line2:"",state:"",postalCode:""}};function b(e){return 0===e.length?O.SELECT_PAYMENT_SOURCE_TYPE:O.REVIEW_DETAILS}var M=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;g(e,t)}(t,e);function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];(t=e.call.apply(e,[this].concat(n))||this).state=E({currentStep:b(t.props.paymentSources),isLoading:!0},A);t.handleRequestClose=function(){var e=t.props,r=e.onRequestClose,n=e.paymentSources;if(!t.state.isSubmitting){t.setState(E({currentStep:b(n)},A));r()}};t.startAddNewPaymentSource=function(){t.setState({currentStep:O.SELECT_PAYMENT_SOURCE_TYPE})};t.handleCreateNewPaymentSource=function(e){var r=t.state,n=r.creditCardData,o=r.paymentSourceType,a=r.braintreeNonce,i=r.billingAddressData;t.setState({isSubmitting:!0},(function(){var r=e;if(o===m.PaymentSourceTypes.CARD){r.name=n.name;return u.createCardPaymentSource({
type:m.PaymentSourceTypes.CARD,cardNumber:n.cardNumber,cvc:n.cvc,expirationDate:n.expirationDate,billingAddress:r}).then(t.handleCreatePaymentSourceSuccess).catch(t.handleCreatePaymentSourceError)}r.name=i.name;u.createPaypalPaymentSource(a,r).then(t.handleCreatePaymentSourceSuccess).catch((function(e){t.handleCreatePaymentSourceError((0,l.getMessageFromAPIError)(e,h.Messages.Errors.ERROR_CREATING_PAYMENT_SOURCE.format()))}))}))};t.handleCreatePaymentSourceSuccess=function(){t.setState({currentStep:t.state.currentStep+1,isSubmitting:!1,error:null})};t.handleCreatePaymentSourceError=function(e){t.setState({error:e,isSubmitting:!1})};t.purchaseLicense=function(e){t.setState({isSubmitting:!0},(function(){u.purchaseApplicationLicense(e).then((function(){t.setState({isSubmitting:!1},(function(){t.handleRequestClose();var e=t.props.onPurchaseComplete;null!=e&&e()}))})).catch((function(e){t.setState({isSubmitting:!1,error:(0,
l.getMessageFromAPIError)(e,h.Messages.Errors.ERROR_PURCHASING_LICENSE.format())})}))}))};t.handlePreviousClick=function(e){var r=t.state,n=r.currentStep,o=r.paymentSourceType,a=n-1;switch(n){case O.SELECT_PAYMENT_SOURCE_TYPE:return t.setState({currentStep:O.REVIEW_DETAILS});case O.COLLECT_PAYMENT_SOURCE_DATA:return o===m.PaymentSourceTypes.CARD?t.setState({creditCardData:e,currentStep:a,error:null}):t.setState({currentStep:a,error:null});case O.COLLECT_ADDRESS_DATA:return t.setState({billingAddressData:e,currentStep:a,error:null});default:t.setState({currentStep:a,error:null})}};t.handleNextClick=function(e){var r=t.state,n=r.currentStep,o=r.paymentSourceType,a=n+1;switch(n){case O.SELECT_PAYMENT_SOURCE_TYPE:return t.setState({currentStep:a,paymentSourceType:e});case O.COLLECT_PAYMENT_SOURCE_DATA:return o===m.PaymentSourceTypes.CARD?t.setState({creditCardData:e,currentStep:a}):t.setState({currentStep:a,braintreeNonce:e.nonce,billingAddressData:e.billingAddress})
;case O.COLLECT_ADDRESS_DATA:return t.handleCreateNewPaymentSource(e);case O.REVIEW_DETAILS:t.purchaseLicense(e)}};return t}var r=t.prototype;r.componentDidMount=function(){var e=this;u.fetchPaymentSources().then((function(t){e.setState({isLoading:!1,currentStep:b(t)})}))};r.renderErrorMessage=function(){var e=this.state.error;return null==e?null:S(s.ModalAlert,{},void 0,e)};r.renderModalContent=function(){var e=this.state,t=e.currentStep,r=e.creditCardData,n=e.isSubmitting,a=e.paymentSourceType,u=e.billingAddressData,i={currentStep:t,onRequestClose:this.handleRequestClose,onPreviousClick:this.handlePreviousClick,onNextClick:this.handleNextClick};switch(t){case O.SELECT_PAYMENT_SOURCE_TYPE:return o.createElement(v.default,i);case O.COLLECT_PAYMENT_SOURCE_DATA:return a===m.PaymentSourceTypes.CARD?o.createElement(d.default,E({},i,r)):o.createElement(p.default,i);case O.COLLECT_ADDRESS_DATA:return o.createElement(c.default,E({},i,u,{isSubmitting:n}));case O.REVIEW_DETAILS:
return o.createElement(y.default,E({},i,{isSubmitting:n,handleAddPaymentSource:this.startAddNewPaymentSource}));default:return null}};r.render=function(){var e=this.props,t=e.isOpen,r=e.productName,n=e.productPrice,o=e.productCurrency,a=this.state,u=a.isLoading,i=a.currentStep;return u?null:S(s.default,{open:t,onRequestClose:this.handleRequestClose},void 0,S(f.default,{productName:r,productPrice:n,productCurrency:o,modalSteps:[h.Messages.PaymentModal.PAYMENT_TYPE,h.Messages.PaymentModal.PAYMENT_INFORMATION,h.Messages.PaymentModal.ADDRESS,h.Messages.PaymentModal.REVIEW],currentStep:i},void 0,this.renderErrorMessage()),this.renderModalContent())};return t}(o.Component);M.displayName="PaymentModal";var N=a.default.connectStores([i.default],(function(){return{paymentSources:i.default.paymentSources}}))(M);t.default=N},55688:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=m;y(r(67294))
;var n,o=r(59402),a=p(r(15899)),u=p(r(45758)),i=r(16997),l=p(r(43734)),s=r(70348),c=y(r(34596)),d=p(r(18528));function p(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(f=function(e){return e?r:t})(e)}function y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var u=o?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(n,a,u):n[a]=e[a]}n.default=e;r&&r.set(e,n);return n}function v(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,u=arguments.length-3;t||0===u||(t={children:void 0});if(1===u)t.children=o;else if(u>1){
for(var i=new Array(u),l=0;l<u;l++)i[l]=arguments[l+3];t.children=i}if(t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function m(e){var t=e.productName,r=e.productPrice,n=e.productCurrency,p=e.modalSteps,f=e.currentStep,y=e.children;return v("div",{className:d.default.headerWrap},void 0,v(i.ModalHeader,{},void 0,c.Messages.PaymentModal.PURCHASE_LICENSE),v("div",{className:d.default.productDetailWrapper},void 0,v("div",{className:d.default.productDetails},void 0,v(a.default,{src:s.Images.ASSET_DEFAULT_AVATAR_1}),v(u.default,{color:u.default.Colors.WHITE,className:d.default.productName},void 0,t)),v("div",{className:d.default.price},void 0,(0,o.formatPrice)(r,n,c.default.getLocale()))),y,v(l.default,{steps:p,currentStep:f}),v(i.ModalDivider,{className:d.default.divider}))}m.displayName="PaymentModalHeader"},94428:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.default=void 0;var n,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=p(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var u=o?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(n,a,u):n[a]=e[a]}n.default=e;r&&r.set(e,n);return n}(r(67294)),a=d(r(41143)),u=d(r(56117)),i=d(r(63002)),l=r(70348),s=r(34596),c=d(r(5879));function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(p=function(e){return e?r:t})(e)}function f(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,u=arguments.length-3;t||0===u||(t={children:void 0});if(1===u)t.children=o;else if(u>1){
for(var i=new Array(u),l=0;l<u;l++)i[l]=arguments[l+3];t.children=i}if(t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e})(e,t)}var v=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;y(e,t)}(t,e);function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];(t=e.call.apply(e,[this].concat(n))||this).handleClick=function(){var e=t.props;(0,e.onClick)(e.type)};return t}t.prototype.render=function(){var e=this.props,t=e.type,r=e.className,n=function(e){switch(e){case l.PaymentSourceTypes.CARD:return{icon:i.default.Types.UNKNOWN,copy:s.Messages.PaymentModal.CREDIT_CARD};case l.PaymentSourceTypes.PAYPAL:return{icon:i.default.Types.PAYPAL,copy:s.Messages.PaymentModal.PAYPAL};case l.PaymentSourceTypes.SOFORT:return{icon:i.default.Types.SOFORT,
copy:s.Messages.PaymentModal.SOFORT};case l.PaymentSourceTypes.PRZELEWY24:return{icon:i.default.Types.PRZELEWY24,copy:s.Messages.PaymentModal.PRZELEWY24}}}(t);(0,a.default)(null!=n);return f(u.default,{className:r,height:u.default.Height.MEDIUM,onClick:this.handleClick},void 0,f("div",{className:c.default.innerPaymentButtonWrap},void 0,f(i.default,{type:n.icon,className:c.default.paymentSourceIcon}),n.copy))};return t}(o.Component);t.default=v;v.displayName="PaymentSourceButton"},63002:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n,o,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var u=o?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(n,a,u):n[a]=e[a]}
n.default=e;r&&r.set(e,n);return n}(r(67294)),u=l(r(94184)),i=l(r(50839));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}function c(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,u=arguments.length-3;t||0===u||(t={children:void 0});if(1===u)t.children=o;else if(u>1){for(var i=new Array(u),l=0;l<u;l++)i[l]=arguments[l+3];t.children=i}if(t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e})(e,t)}!function(e){e.UNKNOWN="unknown";e.VISA="visa";e.DISCOVER="discover";e.MASTERCARD="mastercard";e.AMEX="amex";e.PAYPAL="paypal";e.SOFORT="sofort";e.PRZELEWY24="przelewy24"}(o||(o={}));var p={SMALL:i.default.cardIconSmall,
MEDIUM:i.default.cardIconMedium,LARGE:i.default.cardIconLarge,XLARGE:i.default.cardIconXLarge},f=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;d(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}t.getType=function(e){if(null==e)return o.UNKNOWN;var t=e.replace(/[^a-z]/gi,"").toUpperCase();return o[t]||o.UNKNOWN};t.prototype.render=function(){var e,t=this.props,r=t.flipped,n=t.type,o=t.className,a=t.size;return c("div",{className:(0,u.default)(a,i.default[n],o,(e={},e[i.default.flipped]=r,e))},void 0,n)};return t}(a.PureComponent);t.default=f;f.displayName="PaymentSourceIcon";f.Types=o;f.Sizes=p;f.defaultProps={size:p.SMALL,flipped:!1}},94620:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var n,o=S(r(67294)),a=C(r(36211)),u=C(r(21974)),i=C(r(56117)),l=C(r(89446)),s=S(r(84455)),c=C(r(74257)),d=C(r(96853)),p=C(r(41908)),f=C(r(92974)),y=r(16997),v=C(r(63002)),m=r(70348),h=r(34596),_=C(r(50812));function C(e){return e&&e.__esModule?e:{default:e}}function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(P=function(e){return e?r:t})(e)}function S(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=P(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var u=o?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(n,a,u):n[a]=e[a]}n.default=e;r&&r.set(e,n);return n}function E(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,u=arguments.length-3;t||0===u||(t={
children:void 0});if(1===u)t.children=o;else if(u>1){for(var i=new Array(u),l=0;l<u;l++)i[l]=arguments[l+3];t.children=i}if(t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e})(e,t)}var O=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;g(e,t)}(t,e);function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];(t=e.call.apply(e,[this].concat(n))||this).state={selectedPaymentSource:t.props.paymentSources.length>0?t.props.paymentSources[0].id:null,hasAcceptedTerms:!1};t.handleAcceptTermsClick=function(){t.setState((function(e){return{hasAcceptedTerms:!e.hasAcceptedTerms}}))};t.handleSelectPaymentSource=function(e){var r=t.props.handleAddPaymentSource;"ADD_PAYMENT_SOURCE"!==e.value?t.setState({selectedPaymentSource:e.value}):r()}
;t.handleSubmitPayment=function(){var e=t.props.onNextClick,r=t.state.selectedPaymentSource;null!=r&&e(r)};t.renderOptionWithIcon=function(e){return null==e.type?e.label:E("div",{className:_.default.paymentSelectOption},void 0,E(v.default,{type:e.type}),E("span",{className:_.default.selectOptionLabel},void 0,e.label))};return t}var r=t.prototype;r.getPaymentSelectOptions=function(){var e=this.props.paymentSources.map((function(e){return e.type===m.PaymentSourceTypes.PAYPAL?{value:e.id,label:e.email,type:v.default.Types.PAYPAL}:{value:e.id,label:h.Messages.PaymentModal.CARD_ENDING_IN.format({lastFour:e.last_4}),type:e.brand.toLowerCase()}}));e.push({label:h.Messages.PaymentModal.ADD_PAYMENT_SOURCE,value:"ADD_PAYMENT_SOURCE",type:null});return e};r.render=function(){var e=this.props,t=e.onRequestClose,r=e.isSubmitting,n=this.state,a=n.selectedPaymentSource,u=n.hasAcceptedTerms
;return E(o.Fragment,{},void 0,E(y.ModalContent,{},void 0,E(p.default,{},void 0,E(s.default,{},void 0,E(s.GridSection,{},void 0,E(s.GridChild,{columnSpread:12},void 0,E(f.default,{},void 0,h.Messages.PaymentModal.PAY_WITH),E(c.default,{valueRenderer:this.renderOptionWithIcon,optionRenderer:this.renderOptionWithIcon,options:this.getPaymentSelectOptions(),value:a,onChange:this.handleSelectPaymentSource,clearable:!1})),E(s.GridChild,{columnSpread:12},void 0,E(f.default,{},void 0,h.Messages.PaymentModal.LEGAL_MUMBO_JUMBO),E(l.default,{value:u,onChange:this.handleAcceptTermsClick},void 0,h.Messages.PaymentModal.AGREE_TO_DISTRIBUTION_AGREEMENT.format({link:d.default.prependBasename(m.Routes.DOCS_STORE_DISTRIBUTION_AGREEMENT)}))))))),E(y.ModalFooter,{},void 0,E(y.ModalCancel,{onClick:t,disabled:r},void 0,h.Messages.Actions.CANCEL),E(y.ModalConfirm,{color:i.default.Color.GREEN,onClick:this.handleSubmitPayment,disabled:!u||null==a,submitting:r},void 0,h.Messages.Actions.PAY)))};return t
}(o.Component);O.displayName="ReviewPayment";var A=a.default.connectStores([u.default],(function(){return{paymentSources:u.default.paymentSources}}))(O);t.default=A},9716:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=_;var n,o=m(r(67294)),a=r(36211),u=y(r(21974)),i=m(r(84455)),l=y(r(92974)),s=r(16997),c=y(r(94428)),d=r(70348),p=r(34596),f=y(r(50812));function y(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(v=function(e){return e?r:t})(e)}function m(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=v(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var u=o?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(n,a,u):n[a]=e[a]}n.default=e
;r&&r.set(e,n);return n}function h(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,u=arguments.length-3;t||0===u||(t={children:void 0});if(1===u)t.children=o;else if(u>1){for(var i=new Array(u),l=0;l<u;l++)i[l]=arguments[l+3];t.children=i}if(t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function _(e){var t=e.onRequestClose,r=e.onPreviousClick,n=e.onNextClick,y=(0,a.useStateFromStores)([u.default],(function(){return u.default.paymentSources}));return h(o.Fragment,{},void 0,h(s.ModalContent,{},void 0,h(l.default,{},void 0,p.Messages.PaymentModal.PAY_WITH),h(i.default,{},void 0,h(i.GridSection,{},void 0,h(i.GridChild,{columnSpread:6},void 0,h(c.default,{className:f.default.paymentButton,onClick:n,type:d.PaymentSourceTypes.CARD})),h(i.GridChild,{columnSpread:6},void 0,h(c.default,{className:f.default.paymentButton,onClick:n,
type:d.PaymentSourceTypes.PAYPAL}))))),h(s.ModalFooter,{},void 0,y.length>0?h(s.ModalBack,{onClick:r},void 0,p.Messages.Actions.BACK):null,h(s.ModalCancel,{onClick:t},void 0,p.Messages.Actions.CANCEL)))}_.displayName="SelectPaymentSource"},41549:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n,o=M(r(67294)),a=A(r(94184)),u=r(55558),i=r(59402),l=A(r(36211)),s=A(r(6118)),c=A(r(67045)),d=M(r(34704)),p=A(r(56117)),f=A(r(30977)),y=r(26069),v=A(r(96853)),m=A(r(31055)),h=A(r(81061)),_=A(r(86750)),C=A(r(86460)),P=A(r(58350)),S=A(r(38525)),E=r(70348),g=M(r(34596)),O=A(r(25665));function A(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(b=function(e){return e?r:t})(e)}function M(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=b(t);if(r&&r.has(e))return r.get(e)
;var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var u=o?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(n,a,u):n[a]=e[a]}n.default=e;r&&r.set(e,n);return n}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e})(e,t)}function T(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,u=arguments.length-3;t||0===u||(t={children:void 0});if(1===u)t.children=o;else if(u>1){for(var i=new Array(u),l=0;l<u;l++)i[l]=arguments[l+3];t.children=i}if(t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function R(e){var t,r=e.onBuyClick,n=e.purchaseDisabled,o=T(p.default,{className:(0,a.default)(O.default.heroButton,(t={},t[p.default.Styles.DISABLED]=n,t)),color:p.default.Color.WHITE,
onClick:n?null:r},void 0,g.Messages.DeveloperLicense.BUTTON_BUY);return T(_.default,{className:O.default.hero},void 0,T("div",{className:O.default.heroImage}),T(C.default,{},void 0,g.Messages.DeveloperLicense.HERO_HEADING),T("p",{},void 0,g.Messages.DeveloperLicense.HERO_YOU_CAN),T("ul",{},void 0,T("li",{},void 0,g.Messages.DeveloperLicense.FEATURE_IN_SERVER_STORE_PAGES),T("li",{},void 0,g.Messages.DeveloperLicense.FEATURE_ALPHA_BETA_TESTING)),T("div",{className:O.default.priceUnit},void 0,T("div",{className:O.default.priceCopy},void 0,(0,i.formatPrice)(E.APPLICATION_LICENSE_PRICE,E.CurrencyCodes.USD,g.default.getLocale(),{minimumFractionDigits:0,maximumFractionDigits:0})),n?T(f.default,{text:g.Messages.DeveloperLicense.APPLICATION_MUST_BE_OWNED_BY_TEAM,position:f.default.Positions.TOP},void 0,T("div",{},void 0,o)):o))}R.displayName="Hero";function D(){return T("div",{},void 0,T(C.default,{},void 0,g.Messages.DeveloperLicense.BODY_HEADER),T("div",{className:O.default.description
},void 0,T("p",{},void 0,g.Messages.DeveloperLicense.DESCRIPTION_PARAGRAPH_1),T("p",{},void 0,g.Messages.DeveloperLicense.DESCRIPTION_PARAGRAPH_2),T("p",{},void 0,g.Messages.DeveloperLicense.DESCRIPTION_PARAGRAPH_3.format({documentationURL:v.default.prependBasename(E.Routes.DOCS_GAME_AND_SERVER_MANAGEMENT_HOW_TO_GET_YOUR_GAME_ON_DISCORD)}))))}D.displayName="Body";var I=T(D,{}),w=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;N(e,t)}(t,e);function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];(t=e.call.apply(e,[this].concat(n))||this).state={isPaymentModalOpen:!1};t.handleLicensePurchase=function(){v.default.transitionTo(E.Routes.CHECKLIST(t.props.match.params.id))};t.handleRequestPaymentModalClose=function(){t.setState({isPaymentModalOpen:!1})};t.handleHeroBuyClick=function(){t.setState({isPaymentModalOpen:!0})};return t}var r=t.prototype;r.renderAlert=function(){var e=this.props.application;if(!(0,
y.isTeamApplication)(e))return T(m.default,{type:m.default.Types.WARNING},void 0,g.Messages.DeveloperLicense.NOT_TEAM_APPLICATION.format({documentationURL:v.default.prependBasename(E.Routes.DOCS_TOPICS_TEAMS)}))};r.render=function(){var e=this.props,t=e.application,r=e.hasUnconsumedLicense,n=e.match,o=this.state.isPaymentModalOpen,a=n.params.id;return r?T(u.Redirect,{to:E.Routes.CHECKLIST(a)}):T("div",{},void 0,T(_.default,{},void 0,T(h.default,{},void 0,g.Messages.DeveloperLicense.DEVELOPER_LICENSE_HEADING),T(P.default,{isFlush:!0},void 0,g.Messages.DeveloperLicense.DEVELOPER_LICENSE_SUBHEADING),this.renderAlert(),T(d.default,{className:O.default.alert,type:d.AlertTypes.ERROR},void 0,g.Messages.DeveloperLicense.SUBMISSIONS_PAUSED_DEV_LICENSE.format({gameSubmissionHelpURL:E.Links.GAME_SUBMISSION_PAUSED_HELP_CENTER}))),T(R,{onBuyClick:this.handleHeroBuyClick,purchaseDisabled:!(0,y.isTeamApplication)(t)}),I,T(S.default,{onPurchaseComplete:this.handleLicensePurchase,
productName:g.Messages.DeveloperLicense.APPLICATION_LICENSE_PRODUCT_NAME,productPrice:E.APPLICATION_LICENSE_PRICE,productCurrency:E.CurrencyCodes.USD,isOpen:o,onRequestClose:this.handleRequestPaymentModalClose}))};return t}(o.Component);w.displayName="DeveloperLicense";var L=l.default.connectStores([s.default,c.default],(function(e){var t=e.match.params.id;return{application:s.default.getApplication(t),hasUnconsumedLicense:c.default.hasUnconsumedLicenseEntitlement()}}))(w);t.default=L},31055:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=c(r(67294)),o=l(r(94184)),a=c(r(34704)),u=l(r(88002)),i=["className"];function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t)
;if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var u=o?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(n,a,u):n[a]=e[a]}n.default=e;r&&r.set(e,n);return n}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e})(e,t)}var f=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;p(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.render=function(){var e=this.props,t=e.className,r=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++){r=a[n];t.indexOf(r)>=0||(o[r]=e[r])}return o}(e,i)
;return n.createElement(a.default,d({},r,{className:(0,o.default)(u.default.formStatusAlert,t)}))};return t}(n.Component);t.default=f;f.displayName="FormStatusAlert";f.Types=a.AlertTypes},43734:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n,o=c(r(67294)),a=c(r(9378)),u=l(r(45758)),i=l(r(68854));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var u=o?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(n,a,u):n[a]=e[a]}n.default=e;r&&r.set(e,n);return n}function d(e,t,r,o){
n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,u=arguments.length-3;t||0===u||(t={children:void 0});if(1===u)t.children=o;else if(u>1){for(var i=new Array(u),l=0;l<u;l++)i[l]=arguments[l+3];t.children=i}if(t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e})(e,t)}var f=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;p(e,t)}(t,e);function t(){for(var t,r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];(t=e.call.apply(e,[this].concat(n))||this).renderSteps=function(){var e=t.props,r=e.steps,n=e.currentStep;return r.map((function(e,t){return d(o.Fragment,{},t,d(u.default,{color:n===t?u.default.Colors.WHITE:u.default.Colors.PRIMARY_400,size:u.default.Sizes.SMALL
},void 0,e),t===r.length-1?null:d(a.default,{name:a.IconNames.ARROW_RIGHT,height:22,width:16,className:i.default.arrowIcon}))}))};return t}t.prototype.render=function(){return d("div",{className:i.default.stepTracker},void 0,this.renderSteps())};return t}(o.Component);t.default=f;f.displayName="StepTracker"},21974:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=a(r(36211)),o=a(r(36602));a(r(16881));function a(e){return e&&e.__esModule?e:{default:e}}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(e,n.key,n)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e})(e,t)}var l=[];var s=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;i(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}!function(e,t,r){t&&u(e.prototype,t);r&&u(e,r)}(t,[{
key:"paymentSources",get:function(){return l}}]);return t}(n.default.Store))(o.default,{PAYMENT_SOURCES_FETCH_SUCCESS:function(e){t=e.paymentSources,l=t;var t},PAYMENT_SOURCE_CREATE_SUCCESS:function(e){t=e.paymentSource,l=[].concat(l,[t]);var t},USER_LOGOUT:function(e){l=[]}});t.default=s},89166:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n,o,a=i(r(36211)),u=i(r(36602));i(r(16881));function i(e){return e&&e.__esModule?e:{default:e}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e})(e,t)}var s=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;r.getClient=function(){return n};r.getPayPalClient=function(){return o};return t}(a.default.Store))(u.default,{BRAINTREE_CREATE_CLIENT_SUCCESS:function(e){var t=e.client;n=t},BRAINTREE_CREATE_PAYPAL_CLIENT_SUCCESS:function(e){
var t=e.paypalClient;o=t},BRAINTREE_TEARDOWN_PAYPAL_CLIENT:function(e){o=null},USER_LOGOUT:function(e){return function(){n=null;o=null}()}});t.default=s},89446:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=p(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var u=o?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(n,a,u):n[a]=e[a]}n.default=e;r&&r.set(e,n);return n}(r(67294)),a=d(r(94184)),u=r(35234),i=r(73336),l=d(r(9378)),s=r(70348),c=d(r(67705));function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(p=function(e){return e?r:t})(e)}function f(e,t,r,o){
n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,u=arguments.length-3;t||0===u||(t={children:void 0});if(1===u)t.children=o;else if(u>1){for(var i=new Array(u),l=0;l<u;l++)i[l]=arguments[l+3];t.children=i}if(t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e})(e,t)}var m={DEFAULT:"default",INVERTED:"inverted",GHOST:"ghost"},h={BOX:c.default.box,ROUND:c.default.round},_=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;v(e,t)}(t,e);function t(){
for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];(t=e.call.apply(e,[this].concat(n))||this).state={focused:!1};t.handleFocus=function(){t.setState({focused:!0})};t.handleBlur=function(){t.setState({focused:!1})};t.handleChange=function(e){var r=t.props,n=r.onChange,o=r.name;null!=n&&n(e.currentTarget.checked,o)};return t}var r=t.prototype;r.getInputMode=function(){return this.props.disabled?"disabled":this.props.readOnly?"readonly":"default"};r.getStyle=function(){var e=this.props,t=e.value,r=e.type,n=e.color,o=this.props.style||{};if(!1===t)return o;o=y({},o);switch(r){case m.DEFAULT:o.borderColor=n;break;case m.GHOST:o.borderColor=(0,u.hex2rgb)(n,.15);o.backgroundColor=(0,u.hex2rgb)(n,.15);break;case m.INVERTED:o.backgroundColor=n;o.borderColor=n}return o};r.getColor=function(){var e=this.props,t=e.value,r=e.type,n=e.color,o=r===m.INVERTED?s.Colors.WHITE:n;r===m.INVERTED&&n===s.Colors.WHITE&&(o=s.Colors.BLACK);return t?o:"transparent"};r.render=function(){
var e,t=this.state.focused,r=this.props,n=r.disabled,o=r.readOnly,u=r.value,d=r.shape,p=r.className,v=r.children,m=r.size;return f("label",{className:(0,a.default)((0,i.getClass)(c.default,"checkboxWrapper",n?"disabled":""),p),style:{height:m}},void 0,f("input",{className:(0,i.getClass)(c.default,"input",this.getInputMode()),type:"checkbox",onChange:n||o?s.NOOP:this.handleChange,onFocus:n||o?s.NOOP:this.handleFocus,onBlur:this.handleBlur,checked:u,style:{width:m,height:m}}),f("div",{className:(0,a.default)(c.default.checkbox,d,(e={},e[c.default.checked]=u,e[c.default.focused]=t,e)),style:y({width:m,height:m},this.getStyle())},void 0,f(l.default,{name:l.default.Names.CHECKMARK,width:18,height:18,color:this.getColor()})),v?f("div",{className:c.default.label,style:{lineHeight:m+"px"}},void 0,v):null)};return t}(o.PureComponent);_.displayName="Checkbox";_.Types=m;_.Shapes=h;_.defaultProps={size:24,disabled:!1,readOnly:!1,value:!1,type:m.DEFAULT,color:s.Colors.WHITE,shape:h.BOX,
onChange:s.NOOP};var C=_;t.default=C},83545:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n,o=(n=r(11038))&&n.__esModule?n:{default:n};var a={type:"",gaps:[4,8,12],lengths:[16],code:{name:"CVV",size:3}},u=/[^0-9]/g,i=/[^0-9/]/g;function l(e){for(var t=s(e).split(""),r=c(e),n=0;n<r.gaps.length;){var o=r.gaps[n]+n;if(!(o<t.length))break;t.splice(o,0," ");n+=1}return t.join("")}function s(e){return e.replace(u,"")}function c(e){var t=s(e);return t&&(0,o.default)(t)[0]||a}var d={DEFAULT_CARD_TYPE:a,prettifyCreditCardNumber:l,formatCreditCardNumber:function(e){var t=s(e);c(t);return l(t)},getCreditCardType:c,cleanCardNumber:s,validateCardNumber:function(e){var t=c(e);if(null==t)throw new Error("Could not recognize card type.");if(!t.lengths.includes(e.length))throw new Error("Card number length is incorrect.")},getTypeInfo:function(e){return o.default.getTypeInfo(e)},formatExpiration:function(e){
var t=e.replace(i,"").split("/"),r=t[0],n=t[1],o=[];parseInt(r,10)>12&&(r=r.substring(0,1));o.push(r);(parseInt(r,10)>1||2===r.length||n)&&o.push("/");n&&parseInt(n,10)>99&&(n=(n+"").substring(0,2));o.push(n);return o.join("")}};t.default=d},38742:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=new Map,n=new Map;function o(e){e&&e.parentNode&&e.parentNode.removeChild(e)}var a={ensure:function(e){var t=r.get(e);if(!t){t=function(e){return new Promise((function(t,a){var u=!1,i=n.get(e),l=function(){if(!u){u=!0;o(s);clearTimeout(c);r.delete(e);a(new Error("script error"))}},s=document.createElement("script");s.async=1;s.type="text/javascript";s.onload=function(){o(s);clearTimeout(c);if(i&&window[i])return t(window[i]);if(i&&!window[i])return a(new Error("globalKey does not exist in window"));t()};s.onerror=l;s.src=e;document.body.appendChild(s);var c=setTimeout(l,3e3)}))}(e);r.set(e,t);return t}return t},register:function(e,t){n.set(e,t)}}
;t.default=a},65592:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ensureStripeIsLoaded=c;t.ensureStripeV3IsLoaded=d;t.formatStripeErrors=function(e){return Object.keys(e).reduce((function(t,r){t.push(e[r]);return t}),[]).join(", ")};t.authenticatePaymentIntentForPaymentId=function(e){return p.apply(this,arguments)};var n=u(r(18915)),o=u(r(38742)),a=r(70348);function u(e){return e&&e.__esModule?e:{default:e}}function i(e,t,r,n,o,a,u){try{var i=e[a](u),l=i.value}catch(e){r(e);return}i.done?t(l):Promise.resolve(l).then(n,o)}function l(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function u(e){i(a,n,o,u,l,"next",e)}function l(e){i(a,n,o,u,l,"throw",e)}u(void 0)}))}}var s=Object.freeze({REQUIRES_PAYMENT_METHOD:"requires_payment_method",REQUIRES_CONFIRMATION:"requires_confirmation",REQUIRES_ACTION:"requires_action",PROCESSING:"processing",CANCELED:"canceled",SUCCEEDED:"succeeded"})
;o.default.register("https://js.stripe.com/v2/","Stripe");o.default.register("https://js.stripe.com/v3/","Stripe");function c(){return o.default.ensure("https://js.stripe.com/v2/").then((function(e){e.setPublishableKey(a.PaymentSettings.STRIPE.KEY);return e}))}function d(){return c().then((function(){return o.default.ensure("https://js.stripe.com/v3/").then((function(e){return e(a.PaymentSettings.STRIPE.KEY)}))}))}function p(){return(p=l(regeneratorRuntime.mark((function e(t){var r,o,u,i,l,c,p,f,y,v,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0;e.next=3;return Promise.all([n.default.get({url:a.Endpoints.BILLING_STRIPE_PAYMENT_INTENTS(t),oldFormErrors:!0}),d()]);case 3:o=e.sent;u=o[0];i=o[1];l=u.body.stripe_payment_intent_client_secret;e.next=9;return i.retrievePaymentIntent(l);case 9:c=e.sent;p=c.error;f=c.paymentIntent;if(null==p){e.next=14;break}return e.abrupt("return",{error:p.message});case 14:y={}
;f.status===s.REQUIRES_PAYMENT_METHOD&&null!=(null===(r=f.last_payment_error)||void 0===r?void 0:r.payment_method)&&(y.payment_method=f.last_payment_error.payment_method.id);e.t0=f.status;e.next=e.t0===s.REQUIRES_PAYMENT_METHOD||e.t0===s.REQUIRES_CONFIRMATION||e.t0===s.REQUIRES_ACTION?19:e.t0===s.SUCCEEDED||e.t0===s.PROCESSING?28:(e.t0,s.CANCELED,29);break;case 19:e.next=21;return i.handleCardPayment(l,y);case 21:v=e.sent;if(null==(m=v.error)){e.next=27;break}return e.abrupt("return",{error:m.message});case 27:case 28:return e.abrupt("return",{});case 29:return e.abrupt("return",{error:"Invalid Payment Intent status: "+f.status});case 30:e.next=35;break;case 32:e.prev=32;e.t1=e.catch(0);return e.abrupt("return",{error:e.t1.message});case 35:case"end":return e.stop()}}),e,null,[[0,32]])})))).apply(this,arguments)}},46601:()=>{},69948:()=>{},71922:()=>{},2363:()=>{},52361:()=>{},94616:()=>{}}]);
//# sourceMappingURL=14f7b6f670226b9f6b6a.js.map