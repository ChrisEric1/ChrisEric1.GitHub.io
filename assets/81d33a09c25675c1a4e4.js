"use strict";(this.webpackChunkdiscord_developers=this.webpackChunkdiscord_developers||[]).push([[1528],{58690:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.fetchTeamMembersForTeam=function(e){return n.default.get({url:l.Endpoints.TEAM_MEMBERS(e),oldFormErrors:!0}).then((function(t){a.default.dispatch({type:s.default.TEAM_MEMBERS_FETCH_SUCCESS,teamId:e,teamMembers:t.body})})).catch(o.APIErrorHandler)};t.inviteTeamMember=function(e,t){return n.default.post({url:l.Endpoints.TEAM_MEMBERS(e),body:t,oldFormErrors:!0}).then((function(e){a.default.dispatch({type:s.default.TEAM_MEMBER_CREATE_SUCCESS,teamMember:e.body})})).catch(o.APIErrorHandler)};t.updateTeamMember=function(e,t,r){return n.default.put({url:l.Endpoints.TEAM_MEMBER(e,t),body:r,oldFormErrors:!0}).then((function(e){a.default.dispatch({type:s.default.TEAM_MEMBER_UPDATE_SUCCESS,teamMember:e.body})})).catch(o.APIErrorHandler)};t.deleteTeamMember=function(e,t,r){return n.default.delete({
url:l.Endpoints.TEAM_MEMBER(e,t),oldFormErrors:!0}).then((function(){a.default.dispatch({type:s.default.TEAM_MEMBER_DELETE_SUCCESS,teamId:e,userId:t,hasRemovedSelf:r})})).catch(o.APIErrorHandler)};var n=i(r(18915)),a=i(r(36602)),o=r(19290),s=i(r(16881)),l=r(70348);function i(e){return e&&e.__esModule?e:{default:e}}},43973:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e;r&&r.set(e,n)}(r(67294));var n,a=l(r(94184)),o=l(r(45758)),s=l(r(43256));function l(e){return e&&e.__esModule?e:{default:e}}function i(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}function u(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,s=arguments.length-3;t||0===s||(t={children:void 0});if(1===s)t.children=a;else if(s>1){for(var l=new Array(s),i=0;i<s;i++)l[i]=arguments[i+3];t.children=l}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var d=function(e){var t,r=e.children,n=e.className,l=e.isFlush,i=void 0!==l&&l,d=e.tag,f=void 0===d?"p":d;return u(o.default,{className:(0,a.default)(s.default.heading,(t={},t[s.default.flush]=i,t),n),color:o.default.Colors.PRIMARY_300,size:o.default.Sizes.MEDIUM,tag:f,weight:o.default.Weights.NORMAL},void 0,r)};d.displayName="PageSectionSubheading";var f=d;t.default=f},56511:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var n,a=E(r(67294)),o=h(r(36211)),s=E(r(58690)),l=h(r(28429)),i=h(r(56117)),u=r(19290),d=h(r(96853)),f=h(r(41908)),c=E(r(16997)),m=r(70348),p=r(34596),M=h(r(8809));function h(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(v=function(e){return e?r:t})(e)}function E(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=v(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e;r&&r.set(e,n);return n}function S(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,s=arguments.length-3;t||0===s||(t={children:void 0})
;if(1===s)t.children=a;else if(s>1){for(var l=new Array(s),i=0;i<s;i++)l[i]=arguments[i+3];t.children=l}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e})(e,t)}var g=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;y(e,t)}(t,e);function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];(t=e.call.apply(e,[this].concat(n))||this).state={errorMessage:null,isDeleting:!1};t.handleDeleteTeamMember=function(){var e=t.props,r=e.teamMember,n=e.onSuccess,a=e.user;if(!t.state.isDeleting&&null!=r){var o=a.id===r.user.id;t.setState({isDeleting:!0},(function(){s.deleteTeamMember(r.team_id,r.user.id,o).then((function(){o?d.default.transitionTo(m.Routes.TEAMS):t.setState({isDeleting:!1,errorMessage:null},n)})).catch((function(e){t.setState({
isDeleting:!1,errorMessage:(0,u.getMessageFromAPIError)(e,p.Messages.Errors.ERROR_DELETING_TEAM_MEMBER.format())})}))}))}};t.handleCancel=function(){var e=t.props.onCancel;if(!t.state.isDeleting){t.setState({errorMessage:null});e()}};return t}var r=t.prototype;r.renderErrorMessage=function(){var e=this.state.errorMessage;return null==e?null:S(c.ModalAlert,{type:c.ModalAlertTypes.ERROR},void 0,e)};r.renderModalCopy=function(){var e=this.props,t=e.teamMember,r=e.user;return null==t?null:r.id===t.user.id?p.Messages.Teams.SELF_REMOVE_WARNING:p.Messages.Teams.TEAM_MEMBER_REMOVE_WARNING.format({memberName:t.user.username})};r.render=function(){var e=this.props.isOpen,t=this.state.isDeleting;return S(c.default,{onRequestClose:this.handleCancel,open:e},void 0,S(f.default,{onSubmit:this.handleDeleteTeamMember
},void 0,S(c.ModalContent,{},void 0,S(c.ModalHeader,{},void 0,p.Messages.Teams.REMOVE_TEAM_MEMBER),this.renderErrorMessage(),this.renderModalCopy()),S(c.ModalFooter,{},void 0,S(c.ModalCancel,{onClick:this.handleCancel},void 0,p.Messages.Actions.CANCEL),S(i.default,{className:M.default.dangerButton,submitting:t,type:"submit"},void 0,p.Messages.Actions.REMOVE))))};return t}(a.Component);g.displayName="DeleteTeamMemberModal";var T=o.default.connectStores([l.default],(function(){return{user:l.default.user}}))(g);t.default=T},55896:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n,a=y(r(67294)),o=r(55558),s=E(r(36211)),l=y(r(48656)),i=E(r(6118)),u=y(r(84455)),d=E(r(79950)),f=r(19290),c=E(r(96853)),m=E(r(41908)),p=E(r(92974)),M=y(r(16997)),h=r(70348),v=r(34596);function E(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(S=function(e){return e?r:t})(e)}function y(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=S(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e;r&&r.set(e,n);return n}function g(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,s=arguments.length-3;t||0===s||(t={children:void 0});if(1===s)t.children=a;else if(s>1){for(var l=new Array(s),i=0;i<s;i++)l[i]=arguments[i+3];t.children=l}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e})(e,t)}var _={errorMessage:null,isDeleting:!1,mfaCode:""
},b=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;T(e,t)}(t,e);function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];(t=e.call.apply(e,[this].concat(n))||this).state=_;t.handleMFAChange=function(e){t.setState({mfaCode:e})};t.handleClose=function(){var e=t.props.onClose;t.state.isDeleting||t.setState(_,e)};t.handleDeleteTeam=function(){var e=t.props.match,r=t.state.mfaCode;t.setState({isDeleting:!0},(function(){l.deleteTeam(e.params.teamId,{code:r}).then((function(){c.default.transitionTo(h.Routes.TEAMS)})).catch((function(e){t.setState({isDeleting:!1,errorMessage:(0,f.getMessageFromAPIError)(e,v.Messages.Errors.ERROR_DELETING_TEAM.format())})}))}))};return t}var r=t.prototype;r.componentDidMount=function(){var e=this.props.match.params.teamId;l.fetchApplicationsForTeam(e).catch(h.NOOP)};r.renderError=function(){var e=this.state.errorMessage;return null!=e?g(M.ModalAlert,{},void 0,e):null}
;r.renderAlert=function(){var e=this.props.isTeamDeletable?v.Messages.Alerts.CANNOT_BE_UNDONE:v.Messages.Teams.CANNOT_DELETE_TEAM_WITH_APPLICATIONS;return g(M.ModalAlert,{},void 0,e)};r.renderModalContent=function(){return this.props.isTeamDeletable?g(u.default,{},void 0,g(u.GridSection,{},void 0,g(u.GridChild,{columnSpread:12},void 0,g(p.default,{isRequired:!0},void 0,v.Messages.MultiFactorAuth.ENTER_MFA_CODE),g(d.default,{value:this.state.mfaCode,onChange:this.handleMFAChange})))):null};r.render=function(){var e=this.props.isOpen,t=this.state,r=t.mfaCode,n=t.isDeleting;return g(M.default,{onRequestClose:this.handleClose,open:e},void 0,g(m.default,{onSubmit:this.handleDeleteTeam},void 0,g(M.ModalContent,{},void 0,g(M.ModalHeader,{},void 0,v.Messages.Teams.DELETE_TEAM),this.renderAlert(),this.renderError(),this.renderModalContent()),g(M.ModalFooter,{},void 0,g(M.ModalCancel,{onClick:this.handleClose},void 0,v.Messages.Actions.CANCEL),g(M.ModalConfirm,{type:"submit",
disabled:r.length!==h.MFA_CODE_LENGTH,submitting:n},void 0,v.Messages.Actions.DELETE))))};return t}(a.Component);b.displayName="DeleteTeamModal";var O=(0,o.withRouter)(s.default.connectStores([i.default],(function(e){var t=e.match.params.teamId;return{isTeamDeletable:0===i.default.getApplicationsByOwner(t).length}}))(b));t.default=O},52334:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n,a=D(r(67294)),o=r(55558),s=N(r(36211)),l=D(r(48656)),i=N(r(42262)),u=N(r(8550)),d=N(r(28429)),f=N(r(56117)),c=D(r(84455)),m=N(r(96835)),p=N(r(79950)),M=r(49927),h=r(92711),v=r(19290),E=N(r(82046)),S=N(r(41908)),y=N(r(92974)),g=N(r(86750)),T=N(r(86460)),_=N(r(53360)),b=N(r(69245)),O=N(r(55896)),R=r(70348),A=r(34596),C=N(r(30962));function N(e){return e&&e.__esModule?e:{default:e}}function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(w=function(e){return e?r:t})(e)}function D(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=w(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e;r&&r.set(e,n);return n}function I(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,s=arguments.length-3;t||0===s||(t={children:void 0});if(1===s)t.children=a;else if(s>1){for(var l=new Array(s),i=0;i<s;i++)l[i]=arguments[i+3];t.children=l}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e})(e,t)}var j=function(e){return{teamName:null!=e.team?e.team.name:"",
hasUnsavedChanges:!1,isSubmitting:!1,isIconDefined:null!=e.team&&null!=e.team.icon,hasChangedIcon:!1,icon:null!=e.team&&(0,M.getTeamIcon)(e.team.id,e.team.icon)||"",showTransferModal:!1,showDeleteModal:!1}},F=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;P(e,t)}(t,e);function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];(t=e.call.apply(e,[this].concat(n))||this).formRef=a.createRef();t.state=j(t.props);t.handleIconChange=function(e){t.setState({icon:e||"",hasUnsavedChanges:!0,isIconDefined:null!=e,hasChangedIcon:!0})};t.handleNameChange=function(e){t.setState({hasUnsavedChanges:!0,teamName:e})};t.handleFormReset=function(){var e=t.props.onReset;t.setState(j(t.props));e()};t.handleFormSubmit=function(){var e=t.props,r=e.team,n=e.onSuccess,a=e.onError,o=t.state,s=o.icon,i=o.teamName,u=o.hasChangedIcon;if(null!=r)if(i){var d={name:i};u&&(d.icon=s);t.setState({isSubmitting:!0},(function(){
l.updateTeam(r.id,d).then((function(){t.setState({hasUnsavedChanges:!1,isSubmitting:!1});n(A.Messages.Teams.TEAM_SUCCESSFULLY_UPDATED)})).catch((function(e){t.setState({isSubmitting:!1});a((0,v.getMessageFromAPIError)(e,A.Messages.Errors.ERROR_SUBMITTING_FORM.format()))}))}))}else a(A.Messages.Teams.TEAM_NAME_REQUIRED)};t.handleOpenTransferModal=function(){t.setState({showTransferModal:!0})};t.handleCloseTransferModal=function(){t.setState({showTransferModal:!1})};t.handleOpenDeleteModal=function(){t.setState({showDeleteModal:!0})};t.handleCloseDeleteModal=function(){t.setState({showDeleteModal:!1})};t.handleTransferOwner=function(e){var r=e.selectedValue,n=e.mfaCode,a=t.props,o=a.onSuccess,s=a.team;return null==s?Promise.reject(new v.APIError(A.Messages.Teams.TEAM_NOT_LOADED_ERROR)):l.updateTeam(s.id,{owner_user_id:r,code:n}).then((function(){t.setState({showTransferModal:!1},(function(){o(A.Messages.Teams.TEAM_OWNERSHIP_TRANSFERRED)}))}))};return t}var r=t.prototype
;r.renderModalButtons=function(){var e=this.props,t=e.team,r=e.user;return null==t||t.owner_user_id!==r.id?null:I(c.GridSection,{className:C.default.buttonWrap,grow:1},void 0,I(c.GridChild,{},void 0,I(f.default,{onClick:this.handleOpenTransferModal,look:f.default.Look.OUTLINED,color:f.default.Color.WHITE},void 0,A.Messages.Teams.TRANSFER_OWNERSHIP)),I(c.GridChild,{},void 0,I(f.default,{onClick:this.handleOpenDeleteModal,look:f.default.Look.OUTLINED,color:f.default.Color.RED},void 0,A.Messages.Teams.DELETE_TEAM)))};r.getTeamMemberOptions=function(){var e=this.props,t=e.teamMembers,r=e.team;if(null==t||null==r)return[];var n=[];t.forEach((function(e){var t=e.user;e.membership_state===R.TeamMembershipStates.ACCEPTED&&t.id!==r.owner_user_id&&n.push({avatar:(0,h.getUserAvatarURL)(t),label:t.username+"#"+t.discriminator,value:t.id})}));return n};r.render=function(){
var e=this.props.team,t=this.state,r=t.hasUnsavedChanges,n=t.isSubmitting,a=t.icon,o=t.isIconDefined,s=t.teamName,l=t.showTransferModal,i=t.showDeleteModal;return null==e?null:I(g.default,{},void 0,I(T.default,{},void 0,A.Messages.Teams.TEAM_DETAILS_HEADING),I(S.default,{onSubmit:this.handleFormSubmit},void 0,I(c.default,{},void 0,I(c.GridSection,{className:C.default.detailsSection},void 0,I(c.GridChild,{columnSpread:3,className:C.default.iconUploader},void 0,I(y.default,{},void 0,A.Messages.Forms.ICON),I(m.default,{},void 0,I("input",{type:"hidden",name:"icon",value:a}),I(E.default,{disableRemoveAction:!o,name:e.name,fieldName:"icon",size:R.AVATAR_UPLOAD_SIZE,onChange:this.handleIconChange,hint:A.Messages.Information.APP_ICON_DESCRIPTION,avatar:a}))),I(c.GridChild,{className:C.default.sectionRight,columnSpread:9,columnSpreadExtraSmall:12,columnSpreadSmall:12,columnSpreadSmallMedium:12,shrink:1},void 0,I(c.default,{className:C.default.sectionRightGrid},void 0,I(c.GridSection,{grow:0
},void 0,I(c.GridChild,{columnSpread:12},void 0,I(y.default,{},void 0,A.Messages.Forms.NAME),I(p.default,{name:"name",value:s,onChange:this.handleNameChange}))),this.renderModalButtons())))),I(b.default,{isVisible:r,onReset:this.handleFormReset,submitting:n})),I(_.default,{modalTitle:A.Messages.Teams.TRANSFER_OWNERSHIP,selectLabel:A.Messages.Teams.SELECT_USER_FOR_TRANSFER,options:this.getTeamMemberOptions(),isOpen:l,onSubmit:this.handleTransferOwner,onClose:this.handleCloseTransferModal}),I(O.default,{isOpen:i,onClose:this.handleCloseDeleteModal}))};return t}(a.Component);F.displayName="TeamDetails";var U=(0,o.withRouter)(s.default.connectStores([u.default,d.default,i.default],(function(e){var t=e.match.params.teamId;return{team:u.default.getTeam(t),teamMembers:i.default.getTeamMembersByTeam(t),user:d.default.user}}))(F));t.default=U},80959:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var n,a=P(r(67294)),o=r(55558),s=D(r(36211)),l=P(r(58690)),i=D(r(42262)),u=D(r(8550)),d=D(r(28429)),f=P(r(34704)),c=D(r(15899)),m=D(r(56117)),p=D(r(30250)),M=P(r(84455)),h=D(r(74257)),v=D(r(25991)),E=D(r(45758)),S=D(r(79950)),y=r(92711),g=r(19290),T=D(r(41908)),_=D(r(92974)),b=D(r(86750)),O=D(r(86460)),R=D(r(43973)),A=D(r(56511)),C=r(70348),N=r(34596),w=D(r(26104));function D(e){return e&&e.__esModule?e:{default:e}}function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(I=function(e){return e?r:t})(e)}function P(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=I(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e;r&&r.set(e,n);return n}
function j(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;F(e,t)}function F(e,t){return(F=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e})(e,t)}function U(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,s=arguments.length-3;t||0===s||(t={children:void 0});if(1===s)t.children=a;else if(s>1){for(var l=new Array(s),i=0;i<s;i++)l[i]=arguments[i+3];t.children=l}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var k=function(){return U(h.default,{className:w.default.disabledSelect,disabled:!0,value:"*",options:[{label:"Admin",value:"*"}]})};k.displayName="DisabledSelect";var L=function(e){j(t,e);function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];(t=e.call.apply(e,[this].concat(n))||this).handleClick=function(){var e=t.props;(0,e.onClick)(e.teamMember)}
;return t}t.prototype.render=function(){return U(m.default,{onClick:this.handleClick,className:w.default.removeButton,color:m.default.Color.TRANSPARENT},void 0,N.Messages.Actions.REMOVE)};return t}(a.Component);L.displayName="RemoveButton";var B=U(k,{}),G=U(S.default,{placeholder:"DynamoMan#0000",name:"user",defaultValue:""}),W=U(k,{}),H=function(e){j(t,e);function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];(t=e.call.apply(e,[this].concat(n))||this).formRef=a.createRef();t.state={isInvitingUser:!1,isRemovingUser:!1,showModal:!1,selectedTeamMember:null,successMessage:null,errorMessage:null};t.inviteTeamMember=function(e){var r=t.props.team;if(e.user&&null!=r){var n=e.user.split("#"),a=n[0],o=n[1];if(null!=a&&null!=o){var s={username:a,discriminator:o};t.setState({isInvitingUser:!0},(function(){l.inviteTeamMember(r.id,s).then((function(){t.setState({isInvitingUser:!1,successMessage:N.Messages.Teams.TEAM_MEMBER_INVITED,errorMessage:null})
;null!=t.formRef.current&&t.formRef.current.resetForm()})).catch((function(e){t.setState({isInvitingUser:!1,errorMessage:(0,g.getMessageFromAPIError)(e,N.Messages.Teams.GENERIC_INVITE_USER_ERROR.format(),g.ErrorTypes.TEAMS)})}))}))}else t.setState({errorMessage:N.Messages.Teams.INVALID_USERNAME})}};t.renderUserLabel=function(e){var t=e.teamMember,r=t.membership_state,n=t.user,a=r===C.TeamMembershipStates.INVITED?U(E.default,{size:E.default.Sizes.SMALL},void 0,N.Messages.Teams.PENDING):null;return U(p.default,{align:p.default.Align.CENTER,wrap:p.default.Wrap.NO_WRAP},void 0,U(c.default,{className:w.default.tableAvatar,src:(0,y.getUserAvatarURL)(n)}),U("span",{className:w.default.usernameWrap},void 0,U(E.default,{tag:"span",color:E.default.Colors.WHITE,size:E.default.Sizes.MEDIUM},void 0,n.username),U("span",{},void 0,"#",n.discriminator),a))};t.showDeleteModal=function(e){t.setState({showModal:!0,selectedTeamMember:e})};t.handleDeleteMemberSuccess=function(){var e=t.props.team
;null!=t.state.selectedTeamMember&&null!=e&&t.setState({showModal:!1,selectedTeamMember:null,successMessage:N.Messages.Teams.TEAM_MEMBER_REMOVED,errorMessage:null})};t.handleCloseModal=function(){t.setState({showModal:!1,selectedTeamMember:null})};t.renderRemoveButton=function(e){var r=e.teamMember,n=t.props,a=n.team,o=n.user;if(null==a||a.owner_user_id===r.user.id)return null;var s=a.owner_user_id===o.id;return r.user.id===o.id||s?U(L,{onClick:t.showDeleteModal,teamMember:r}):null};t.renderFormStatus=function(){var e=t.state,r=e.successMessage,n=e.errorMessage;return null!=n?U(f.default,{type:f.AlertTypes.ERROR},void 0,n):null!=r?U(f.default,{type:f.AlertTypes.SUCCESS},void 0,r):null};return t}var r=t.prototype;r.renderUserPermissions=function(){return B};r.getTableColumns=function(){return[{cellProps:{columnSpread:4,columnSpreadSmall:8,columnSpreadExtraSmall:8},heading:N.Messages.Teams.CURRENT_MEMBERS,isSortable:!0,key:"username",render:this.renderUserLabel},{cellProps:{
columnSpread:4,columnSpreadSmallMedium:5,columnSpreadSmall:12,columnSpreadExtraSmall:12},key:"permissions",render:this.renderUserPermissions},{cellProps:{className:w.default.removeCell,columnSpread:4,columnSpreadSmallMedium:3},key:"remove",render:this.renderRemoveButton}]};r.getTableRows=function(){var e=this.props.teamMembers;if(null==e)return[];var t=[];e.forEach((function(e){t.push({id:e.user.id,teamMember:e,username:e.user.username})}));return t};r.renderTeamMemberTable=function(){var e=this.props,t=e.teamMembers,r=e.team,n=e.user;return null==r||null==n||null==t?null:U(v.default,{columns:this.getTableColumns(),rows:this.getTableRows()})};r.render=function(){var e=this.props,t=e.teamMembers,r=e.team,n=this.state,o=n.showModal,s=n.selectedTeamMember,l=n.isInvitingUser;return null==r||null==t||0===t.size?null:U(b.default,{isFlush:!0
},void 0,U(O.default,{},void 0,N.Messages.Teams.TEAM_MEMBERS_HEADING),U(R.default,{},void 0,N.Messages.Teams.TEAM_MEMBERS_SUBHEADING),this.renderFormStatus(),U(f.default,{type:f.AlertTypes.INFO},void 0,N.Messages.Teams.ADMIN_ONLY_ALERT),U(M.default,{},void 0,a.createElement(T.default,{onSubmit:this.inviteTeamMember,ref:this.formRef},U(M.GridSection,{className:w.default.inviteRow},void 0,U(M.GridChild,{columnSpread:4,columnSpreadSmallMedium:5,columnSpreadSmall:6,columnSpreadExtraSmall:12},void 0,U(_.default,{},void 0,N.Messages.Teams.INVITE_TEAM_MEMBERS),G),U(M.GridChild,{columnSpread:4,columnSpreadSmallMedium:5,columnSpreadSmall:6,columnSpreadExtraSmall:12},void 0,U(_.default,{},void 0,N.Messages.Teams.TEAM_ROLE),W),U(M.GridChild,{className:w.default.inviteButtonWrap,columnSpread:3,columnSpreadSmallMedium:2,columnSpreadSmall:4,columnSpreadExtraSmall:4},void 0,U(m.default,{type:"submit",submitting:l},void 0,N.Messages.Actions.INVITE)))),U(M.GridSection,{
className:w.default.teamMemberTable},void 0,U(M.GridChild,{columnSpread:12},void 0,this.renderTeamMemberTable()))),U(A.default,{isOpen:o&&null!=s,teamMember:s,onCancel:this.handleCloseModal,onSuccess:this.handleDeleteMemberSuccess}))};return t}(a.Component);H.displayName="TeamMemberList";var V=(0,o.withRouter)(s.default.connectStores([i.default,u.default,d.default],(function(e){var t=e.match.params.teamId;return{user:d.default.user,team:u.default.getTeam(t),teamMembers:i.default.getTeamMembersByTeam(t)}}))(H));t.default=V},13089:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n,a=E(r(67294)),o=r(55558),s=E(r(58690)),l=r(19290),i=h(r(31055)),u=h(r(81061)),d=h(r(91464)),f=h(r(86750)),c=h(r(58350)),m=h(r(52334)),p=h(r(80959)),M=r(34596);function h(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(v=function(e){return e?r:t})(e)}function E(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=v(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e;r&&r.set(e,n);return n}function S(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,s=arguments.length-3;t||0===s||(t={children:void 0});if(1===s)t.children=a;else if(s>1){for(var l=new Array(s),i=0;i<s;i++)l[i]=arguments[i+3];t.children=l}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e})(e,t)}var g=S(d.default,{}),T=function(e){
!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;y(e,t)}(t,e);function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];(t=e.call.apply(e,[this].concat(n))||this).state={error:null,success:null,isFetchingTeamMembers:!0,teamMembersFetchErrorMessage:null};t.handleSuccess=function(e){t.setState({success:e})};t.handleError=function(e){t.setState({error:e})};t.handleReset=function(){t.setState({error:null,success:null})};t.renderFormStatus=function(){var e=t.state,r=e.error,n=e.success;return null!=r?S(i.default,{type:i.default.Types.ERROR},void 0,r):null!=n?S(i.default,{type:i.default.Types.SUCCESS},void 0,n):null};t.renderTeamMemberList=function(){var e=t.state,r=e.isFetchingTeamMembers,n=e.teamMembersFetchErrorMessage;return r?g:null!=n?S(i.default,{type:i.default.Types.ERROR},void 0,n):S(p.default,{onSuccess:t.handleSuccess,onError:t.handleError})};return t}var r=t.prototype;r.componentDidMount=function(){
var e=this,t=this.props.match.params.teamId;s.fetchTeamMembersForTeam(t).then((function(){e.setState({isFetchingTeamMembers:!1,teamMembersFetchErrorMessage:null})})).catch((function(t){e.setState({isFetchingTeamMembers:!1,teamMembersFetchErrorMessage:(0,l.getMessageFromAPIError)(t,t.message)})}))};r.render=function(){return S(a.Fragment,{},void 0,S(f.default,{},void 0,S(u.default,{},void 0,M.Messages.Teams.INFORMATION_PAGE_HEADING),S(c.default,{isFlush:!0},void 0,M.Messages.Teams.INFORMATION_PAGE_SUBHEADING),this.renderFormStatus()),S(m.default,{onSuccess:this.handleSuccess,onError:this.handleError,onReset:this.handleReset}),this.renderTeamMemberList())};return t}(a.Component);T.displayName="TeamInformation";var _=(0,o.withRouter)(T);t.default=_},42262:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=o(r(36211)),a=o(r(36602));o(r(16881));function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){
e.__proto__=t;return e})(e,t)}var l=new Map;var i=new(function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;s(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.getTeamMembersByTeam=function(e){return l.get(e)};return t}(n.default.Store))(a.default,{TEAM_MEMBERS_FETCH_SUCCESS:function(e){!function(e,t){var r=new Map;t.forEach((function(e){r.set(e.user.id,e)}));l.set(e,r)}(e.teamId,e.teamMembers)},TEAM_MEMBER_CREATE_SUCCESS:function(e){!function(e){var t=e.team_id,r=l.get(t);null==r&&(r=new Map);r.set(e.user.id,e);l.set(t,r)}(e.teamMember)},TEAM_MEMBER_UPDATE_SUCCESS:function(e){!function(e){var t=e.team_id,r=l.get(t);null==r&&(r=new Map);r.set(e.user.id,e);l.set(t,r)}(e.teamMember)},TEAM_MEMBER_DELETE_SUCCESS:function(e){!function(e,t){var r=l.get(e);if(null!=r){r.delete(t);l.set(e,r)}}(e.teamId,e.userId)},USER_LOGOUT:function(e){l=new Map}});t.default=i}}]);
//# sourceMappingURL=81d33a09c25675c1a4e4.js.map