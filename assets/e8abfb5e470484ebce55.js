(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{1425:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;!function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=n?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}r.default=e,t&&t.set(e,r)}(r(1));var n,a=s(r(5)),o=s(r(29)),i=s(r(1283));function s(e){return e&&e.__esModule?e:{default:e}}function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function u(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var f=function(e){var t,r=e.children,n=e.className,s=e.isFlush,l=void 0!==s&&s,f=e.tag,d=void 0===f?"p":f;return u(o.default,{className:(0,a.default)(i.default.heading,(t={},t[i.default.flush]=l,t),n),color:o.default.Colors.PRIMARY_300,size:o.default.Sizes.MEDIUM,tag:d,weight:o.default.Weights.NORMAL},void 0,r)};f.displayName="PageSectionSubheading";var d=f;t.default=d},1429:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;!function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=n?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}r.default=e,t&&t.set(e,r)}(r(1));var n,a=s(r(5)),o=s(r(57)),i=s(r(1284));function s(e){return e&&e.__esModule?e:{default:e}}function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function u(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var f=(0,o.default)({SMALL:null,MEDIUM:null}),d=(0,o.default)({NONE:null,PRIMARY:null,RED:null}),c=(0,o.default)({DARK:null,LIGHT:null}),p=function(e){var t,r=e.borderColor,n=void 0===r?d.PRIMARY:r,o=e.children,s=e.className,l=e.color,p=void 0===l?c.LIGHT:l,v=e.size,h=void 0===v?f.MEDIUM:v;return u("div",{className:(0,a.default)(i.default.wrapper,s,(t={},t[i.default.small]=h===f.SMALL,t[i.default.medium]=h===f.MEDIUM,t[i.default.borderNone]=n===d.NONE,t[i.default.borderPrimary]=n===d.PRIMARY,t[i.default.borderRed]=n===d.RED,t[i.default.colorDark]=p===c.DARK,t[i.default.colorLight]=p===c.LIGHT,t))},void 0,o)};p.displayName="Panel",p.BorderColor=d,p.Color=c,p.Size=f;var v=p;t.default=v},1440:function(e,t,r){var n=r(1496),a="object"==typeof self&&self&&self.Object===Object&&self,o=n||a||Function("return this")();e.exports=o},1450:function(e,t,r){var n=r(1440).Symbol;e.exports=n},1458:function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},1459:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;!function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=n?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}r.default=e,t&&t.set(e,r)}(r(1));var n,a=s(r(5)),o=s(r(182)),i=s(r(1293));function s(e){return e&&e.__esModule?e:{default:e}}function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function u(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var f=function(e){var t=e.className,r=e.onClick;return u("button",{className:(0,a.default)(i.default.removeButton,t),onClick:r,type:"button"},void 0,u(o.default,{className:i.default.removeIcon,name:o.default.Names.CLOSE,height:24,width:24}))};f.displayName="RemoveButton";var d=f;t.default=d},1462:function(e,t,r){var n=r(1450),a=r(1510),o=r(1511),i="[object Null]",s="[object Undefined]",l=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?s:i:l&&l in Object(e)?a(e):o(e)}},1473:function(e,t){var r=Array.isArray;e.exports=r},1486:function(e,t,r){var n=r(1462),a=r(1458),o="[object Symbol]";e.exports=function(e){return"symbol"==typeof e||a(e)&&n(e)==o}},1496:function(e,t,r){(function(t){var r="object"==typeof t&&t&&t.Object===Object&&t;e.exports=r}).call(this,r(10))},1497:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sizeString=function(e){return a.default.filesize(e)},t.arrayBufferToString=void 0;var n,a=(n=r(1518))&&n.__esModule?n:{default:n};t.arrayBufferToString=function(e){return"string"==typeof e?e:String.fromCharCode.apply(null,new Uint16Array(e))}},1510:function(e,t,r){var n=r(1450),a=Object.prototype,o=a.hasOwnProperty,i=a.toString,s=n?n.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),r=e[s];try{e[s]=void 0;var n=!0}catch(e){}var a=i.call(e);return n&&(t?e[s]=r:delete e[s]),a}},1511:function(e,t){var r=Object.prototype.toString;e.exports=function(e){return r.call(e)}},1518:function(e,t,r){(function(){var r=this,n=r.humanize,a={};e.exports&&(t=e.exports=a),t.humanize=a,a.noConflict=function(){return r.humanize=n,this},a.pad=function(e,t,r,n){if(e+="",r?r.length>1&&(r=r.charAt(0)):r=" ","right"===(n=void 0===n?"left":"right"))for(;e.length<t;)e+=r;else for(;e.length<t;)e=r+e;return e},a.time=function(){return(new Date).getTime()/1e3};var o=[0,0,31,59,90,120,151,181,212,243,273,304,334],i=[0,0,31,60,91,121,152,182,213,244,274,305,335];a.date=function(e,t){var r=void 0===t?new Date:t instanceof Date?new Date(t):new Date(1e3*t),n=/\\?([a-z])/gi,s=function(e,t){return f[e]?f[e]():t},l=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],u=["January","February","March","April","May","June","July","August","September","October","November","December"],f={d:function(){return a.pad(f.j(),2,"0")},D:function(){return f.l().slice(0,3)},j:function(){return r.getDate()},l:function(){return l[f.w()]},N:function(){return f.w()||7},S:function(){var e=f.j();return e>4&&e<21?"th":{1:"st",2:"nd",3:"rd"}[e%10]||"th"},w:function(){return r.getDay()},z:function(){return(f.L()?i[f.n()]:o[f.n()])+f.j()-1},W:function(){var e=f.z()-f.N()+1.5;return a.pad(1+Math.floor(Math.abs(e)/7)+(e%7>3.5?1:0),2,"0")},F:function(){return u[r.getMonth()]},m:function(){return a.pad(f.n(),2,"0")},M:function(){return f.F().slice(0,3)},n:function(){return r.getMonth()+1},t:function(){return new Date(f.Y(),f.n(),0).getDate()},L:function(){return 1===new Date(f.Y(),1,29).getMonth()?1:0},o:function(){var e=f.n(),t=f.W();return f.Y()+(12===e&&t<9?-1:1===e&&t>9)},Y:function(){return r.getFullYear()},y:function(){return String(f.Y()).slice(-2)},a:function(){return r.getHours()>11?"pm":"am"},A:function(){return f.a().toUpperCase()},B:function(){var e=r.getTime()/1e3,t=e%86400+3600;t<0&&(t+=86400);var n=t/86.4%1e3;return e<0?Math.ceil(n):Math.floor(n)},g:function(){return f.G()%12||12},G:function(){return r.getHours()},h:function(){return a.pad(f.g(),2,"0")},H:function(){return a.pad(f.G(),2,"0")},i:function(){return a.pad(r.getMinutes(),2,"0")},s:function(){return a.pad(r.getSeconds(),2,"0")},u:function(){return a.pad(1e3*r.getMilliseconds(),6,"0")},O:function(){var e=r.getTimezoneOffset(),t=Math.abs(e);return(e>0?"-":"+")+a.pad(100*Math.floor(t/60)+t%60,4,"0")},P:function(){var e=f.O();return e.substr(0,3)+":"+e.substr(3,2)},Z:function(){return 60*-r.getTimezoneOffset()},c:function(){return"Y-m-d\\TH:i:sP".replace(n,s)},r:function(){return"D, d M Y H:i:s O".replace(n,s)},U:function(){return r.getTime()/1e3||0}};return e.replace(n,s)},a.numberFormat=function(e,t,r,n){t=isNaN(t)?2:Math.abs(t),r=void 0===r?".":r,n=void 0===n?",":n;var a=e<0?"-":"";e=Math.abs(+e||0);var o=parseInt(e.toFixed(t),10)+"",i=o.length>3?o.length%3:0;return a+(i?o.substr(0,i)+n:"")+o.substr(i).replace(/(\d{3})(?=\d)/g,"$1"+n)+(t?r+Math.abs(e-o).toFixed(t).slice(2):"")},a.naturalDay=function(e,t){e=void 0===e?a.time():e,t=void 0===t?"Y-m-d":t;var r=new Date,n=new Date(r.getFullYear(),r.getMonth(),r.getDate()).getTime()/1e3;return e<n&&e>=n-86400?"yesterday":e>=n&&e<n+86400?"today":e>=n+86400&&e<n+172800?"tomorrow":a.date(t,e)},a.relativeTime=function(e){e=void 0===e?a.time():e;var t=a.time(),r=t-e;if(r<2&&r>-2)return(r>=0?"just ":"")+"now";if(r<60&&r>-60)return r>=0?Math.floor(r)+" seconds ago":"in "+Math.floor(-r)+" seconds";if(r<120&&r>-120)return r>=0?"about a minute ago":"in about a minute";if(r<3600&&r>-3600)return r>=0?Math.floor(r/60)+" minutes ago":"in "+Math.floor(-r/60)+" minutes";if(r<7200&&r>-7200)return r>=0?"about an hour ago":"in about an hour";if(r<86400&&r>-86400)return r>=0?Math.floor(r/3600)+" hours ago":"in "+Math.floor(-r/3600)+" hours";if(r<172800&&r>-172800)return r>=0?"1 day ago":"in 1 day";if(r<2505600&&r>-2505600)return r>=0?Math.floor(r/86400)+" days ago":"in "+Math.floor(-r/86400)+" days";if(r<5184e3&&r>-5184e3)return r>=0?"about a month ago":"in about a month";var n=parseInt(a.date("Y",t),10),o=parseInt(a.date("Y",e),10),i=12*n+parseInt(a.date("n",t),10)-(12*o+parseInt(a.date("n",e),10));if(i<12&&i>-12)return i>=0?i+" months ago":"in "+-i+" months";var s=n-o;return s<2&&s>-2?s>=0?"a year ago":"in a year":s>=0?s+" years ago":"in "+-s+" years"},a.ordinal=function(e){e=parseInt(e,10);var t=(e=isNaN(e)?0:e)<0?"-":"",r=(e=Math.abs(e))%100;return t+e+(r>4&&r<21?"th":{1:"st",2:"nd",3:"rd"}[e%10]||"th")},a.filesize=function(e,t,r,n,o,i){return e<=0?"0 bytes":(e<(t=void 0===t?1024:t)&&void 0===r&&(r=0),void 0===i&&(i=" "),a.intword(e,["bytes","KB","MB","GB","TB","PB"],t,r,n,o,i))},a.intword=function(e,t,r,n,o,i,s){var l,u;u=(t=t||["","K","M","B","T"]).length-1,r=r||1e3,n=isNaN(n)?2:Math.abs(n),o=o||".",i=i||",",s=s||"";for(var f=0;f<t.length;f++)if(e<Math.pow(r,f+1)){u=f;break}l=e/Math.pow(r,u);var d=t[u]?s+t[u]:"";return a.numberFormat(l,n,o,i)+d},a.linebreaks=function(e){return"<p>"+(e=(e=(e=(e=(e=e.replace(/^([\n|\r]*)/,"")).replace(/([\n|\r]*)$/,"")).replace(/(\r\n|\n|\r)/g,"\n")).replace(/(\n{2,})/g,"</p><p>")).replace(/\n/g,"<br />"))+"</p>"},a.nl2br=function(e){return e.replace(/(\r\n|\n|\r)/g,"<br />")},a.truncatechars=function(e,t){return e.length<=t?e:e.substr(0,t)+"…"},a.truncatewords=function(e,t){var r=e.split(" ");return r.length<t?e:r.slice(0,t).join(" ")+"…"}}).call(this)},1550:function(e,t){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}},1583:function(e,t,r){var n=r(1584);e.exports=function(e){return null==e?"":n(e)}},1584:function(e,t,r){var n=r(1450),a=r(1550),o=r(1473),i=r(1486),s=1/0,l=n?n.prototype:void 0,u=l?l.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return a(t,e)+"";if(i(t))return u?u.call(t):"";var r=t+"";return"0"==r&&1/t==-s?"-0":r}},1585:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=b(r(1)),o=m(r(5)),i=m(r(57)),s=m(r(40)),l=b(r(182)),u=m(r(1429)),f=m(r(184)),d=m(r(411)),c=r(419),p=r(1497),v=m(r(1459)),h=r(18),g=m(r(1319));function m(e){return e&&e.__esModule?e:{default:e}}function y(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return y=function(){return e},e}function b(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=y();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=n?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}return r.default=e,t&&t.set(e,r),r}function A(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var M=40,S=(0,i.default)({LOCAL_ASSET:null,REMOTE_ASSET:null}),w=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).canvasRef=null,t.state={error:null},t.handleFileLoad=function(e){var r=t.props,n=r.id,a=r.onFileLoad;if(null!=e.target){if(!(e.target instanceof FileReader))return;var o=e.target.result,i=(0,p.arrayBufferToString)(o),s=new Image;s.addEventListener("load",t.handleImageLoad),s.src=i,null!=a&&a(n,i)}},t.handleImageLoad=function(e){if(null!=t.canvasRef){var r=t.props,n=r.id,a=r.minSize,o=r.onAssetValidationError,i=r.onAssetValidationSuccess,s=e.currentTarget;null!=o&&null!=a&&(s.width<a||s.height<a)?(t.setState({error:h.Messages.RichPresence.MINIMUM_ASSET_SIZE.format({size:a})}),o(n)):null!=i&&i(n),t.canvasRef.width=M,t.canvasRef.height=M;var l=M,u=M,f=0,d=0;if(s.width<s.height){var c=M/s.width;u=s.height*c}else if(s.width>s.height){var p=M/s.height;l=s.width*p}u>M?d=(u-M)/-2:l>M&&(f=(l-M)/-2),t.canvasRef.getContext("2d").drawImage(s,f,d,l,u)}},t.handleNameChange=function(e){var r=t.props,n=r.onNameChange,a=r.id;null!=n&&n(a,e)},t.handleRemoveClick=function(){var e=t.props,r=e.id,n=e.onRemove;null!=n&&n(r)},t.setCanvasRef=function(e){t.canvasRef=e},t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.getDerivedStateFromProps=function(e,t){return null==t.error&&null!=e.error?{error:e.error}:null};var i=n.prototype;return i.componentDidMount=function(){this.props.type===S.LOCAL_ASSET&&this.loadImage()},i.loadImage=function(){var e=this.props.file;if(null!=e&&!(0,c.isFileVideo)(e)){var t=new FileReader;t.addEventListener("load",this.handleFileLoad),t.readAsDataURL(e)}},i.renderAction=function(){var e=this.props,t=e.isBeingDeleted,r=e.isBeingUploaded;return t||r?A(f.default,{className:g.default.spinner,type:f.default.Type.PULSING_ELLIPSIS}):A(v.default,{onClick:this.handleRemoveClick})},i.renderErrorMessage=function(){var e=this.state.error;return null==e?null:A("div",{className:g.default.error},void 0,e)},i.renderImage=function(){var e=this.props,t=e.file;if(e.type===S.LOCAL_ASSET)return(0,c.isFileVideo)(t)?A("div",{className:g.default.videoPlaceholder},void 0,A(l.default,{className:g.default.videoIcon,name:l.IconNames.VIDEO_CAMERA})):a.createElement("canvas",{className:g.default.image,ref:this.setCanvasRef});var r=this.props,n=r.asset,o=r.getAssetUri;if(null!=n){var i=o(n)||"";return A("div",{className:g.default.image,style:{backgroundImage:"url("+i}},void 0,(0,c.isAssetVideo)(n)?A(l.default,{className:g.default.videoIcon,name:l.IconNames.VIDEO_CAMERA}):null)}return null},i.renderDragHandle=function(){return this.props.isDraggable?A(s.default.Child,{className:g.default.dragIconWrapper,grow:0,shrink:0,wrap:!0},void 0,A(l.default,{className:g.default.dragIcon,name:l.IconNames.DRAG_HANDLE})):null},i.renderName=function(){var e=this.props,t=e.asset,r=e.file,n=e.name;return e.type===S.LOCAL_ASSET&&null!=r?A(d.default,{defaultValue:n,onChange:this.handleNameChange}):null!=t?(0,c.getAssetLabel)(t):null},i.renderValidationMessage=function(){var e=this.props.validationMessage;return null==e?null:A("div",{className:g.default.validationMessage},void 0,e)},i.render=function(){var e,t=this.props.isDragging,r=this.state.error;return A(u.default,{className:(0,o.default)(g.default.wrapper,(e={},e[g.default.isDragging]=t,e)),borderColor:null==r?u.default.BorderColor.PRIMARY:u.default.BorderColor.RED,size:u.default.Size.SMALL},void 0,A(s.default,{className:g.default.content,align:s.default.Align.CENTER,wrap:s.default.Wrap.NO_WRAP},void 0,this.renderDragHandle(),A(s.default.Child,{className:g.default.imageWrapper,grow:0,shrink:0,wrap:!0},void 0,this.renderImage()),A(s.default.Child,{className:g.default.labelWrapper,grow:1,shrink:1,wrap:!0},void 0,A("div",{className:g.default.nameWrapper},void 0,this.renderName()),this.renderValidationMessage()),A(s.default.Child,{grow:0,shrink:0,wrap:!0},void 0,this.renderAction())),this.renderErrorMessage())},n}(a.Component);t.default=w,w.displayName="AssetPanel",w.Types=S,w.defaultProps={isDraggable:!1,isDragging:!1}},1695:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=m(r(1)),o=h(r(2246)),i=h(r(1479)),s=h(r(56)),l=h(r(40)),u=m(r(408)),f=r(419),d=h(r(1585)),c=h(r(409)),p=r(18),v=h(r(1353));function h(e){return e&&e.__esModule?e:{default:e}}function g(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return g=function(){return e},e}function m(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=g();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=n?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}return r.default=e,t&&t.set(e,r),r}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function b(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var A=function(e){var t=e.children;return b(u.GridChild,{columnSpread:12,columnSpreadSmall:6,columnSpreadMedium:6,columnSpreadLarge:4,columnSpreadExtraLarge:4},void 0,t)};A.displayName="AssetGridChild";var M={assetsBeingDeleted:[],assetsUploading:[],assetsWithValidationErrors:[],assetErrors:{},errorMessage:null,localAssets:[]},S=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).state=y({},M,{hasLoadedRemoteAssets:!1}),t.localAssetData={},t.getAssetError=function(e){var r=t.state.assetErrors;return null!=r[e]?r[e]:null},t.handleLocalAssetLoad=function(e,r){t.localAssetData[e]=r},t.handleLocalAssetRemoval=function(e){t.setState(function(t){var r=y({},t.assetErrors);return delete r[e],{assetsUploading:t.assetsUploading.filter(function(t){return t!==e}),assetErrors:r,localAssets:t.localAssets.filter(function(t){return t.id!==e}),assetsWithValidationErrors:t.assetsWithValidationErrors.filter(function(t){return t!==e})}}),delete t.localAssetData[e]},t.handleFileSelectionChange=function(e){var r=e.currentTarget.files;null!=r&&t.setState(function(e){return{localAssets:[].concat(e.localAssets,Array.from(r).map(function(e){return{file:e,name:(0,f.normalizeFilename)(e.name),id:(0,o.default)()}}))}})},t.handleLocalAssetNameChange=function(e,r){t.setState(function(t){var n=t.localAssets.findIndex(function(t){return t.id===e}),a=t.localAssets[n];return{localAssets:[].concat(t.localAssets.slice(0,n),[y({},a,{name:r})],t.localAssets.slice(n+1))}})},t.handleLocalAssetError=function(e){t.setState(function(t){return{assetsWithValidationErrors:[].concat(t.assetsWithValidationErrors,[e])}})},t.handleLocalAssetSuccess=function(e){t.setState(function(t){return{assetsWithValidationErrors:t.assetsWithValidationErrors.filter(function(t){return t!==e})}})},t.handleRemoteAssetRemoval=function(e){t.setState(function(t){return{assetsBeingDeleted:[].concat(t.assetsBeingDeleted,[e])}}),t.props.deleteAsset(e).then(function(){t.setState(function(t){return{assetsBeingDeleted:t.assetsBeingDeleted.filter(function(t){return t!==e})}})}).catch(function(r){t.setState(function(t){var n;return{assetsBeingDeleted:t.assetsBeingDeleted.filter(function(t){return t!==e}),assetErrors:y({},t.assetErrors,(n={},n[e]=r.body.message,n))}})})},t.uploadAllAssets=function(){var e=t.props.uploadAsset,r=t.state,n=r.localAssets,a=r.assetsWithValidationErrors,o=n.filter(function(e){return!a.includes(e.id)});t.setState({assetsUploading:o.map(function(e){return e.id})});var i=o.map(function(r){var n=r.id;return e({name:r.name,data:t.localAssetData[n],file:r.file}).then(function(){t.handleLocalAssetRemoval(n)}).catch(function(e){throw t.setState(function(t){var a;return{assetsUploading:t.assetsUploading.filter(function(e){return e!==r.id}),assetErrors:y({},t.assetErrors,(a={},a[n]=e.message||p.Messages.AssetManager.ASSET_ERROR,a))}}),e})});return Promise.all(i)},t.resetAssets=function(){t.setState(y({},M))},t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var h=n.prototype;return h.renderLocalAssets=function(){var e=this,t=this.props,r=t.getAssetUri,n=t.minAssetSize,a=this.state,o=a.localAssets,i=a.assetsUploading;return o.map(function(t){return b(A,{},t.id,b(d.default,{error:e.getAssetError(t.id),getAssetUri:r,file:t.file,id:t.id,isBeingUploaded:i.includes(t.id),minSize:n,name:t.name,onAssetValidationError:e.handleLocalAssetError,onAssetValidationSuccess:e.handleLocalAssetSuccess,onFileLoad:e.handleLocalAssetLoad,onNameChange:e.handleLocalAssetNameChange,onRemove:e.handleLocalAssetRemoval,type:d.default.Types.LOCAL_ASSET}))})},h.renderRemoteAssets=function(){var e=this,t=this.props,r=t.assets,n=t.getAssetUri,a=this.state.assetsBeingDeleted;return r.map(function(t){return b(A,{},t.id,b(d.default,{error:e.getAssetError(t.id),getAssetUri:n,asset:t,id:t.id,isBeingDeleted:a.includes(t.id),onRemove:e.handleRemoteAssetRemoval,type:d.default.Types.REMOTE_ASSET}))})},h.renderAssetsHeading=function(){var e=this.state.localAssets,t=this.props,r=t.assets,n=t.assetsHeadingRenderer,a=e.length,o=r.length;return b(c.default,{},void 0,n(a+o))},h.renderAssets=function(){var e=this.renderLocalAssets(),t=this.renderRemoteAssets();return e.length>0||t.length>0?b(u.default,{},void 0,b(u.GridSection,{},void 0,e,t)):this.props.emptyState},h.render=function(){var e=this.props,t=e.actionCopy,r=e.assetLabel,n=e.fileTypeDescription,o=e.supportedExtensions;return b(a.Fragment,{},void 0,b(l.default,{className:v.default.addImageWrapper,align:l.default.Align.CENTER},void 0,b(l.default.Child,{grow:0,shrink:0,wrap:!0},void 0,b(s.default,{className:v.default.addImagesButton,tag:"div",wrapContent:!1},void 0,t,b(i.default,{multiple:!0,onChange:this.handleFileSelectionChange,filters:[{name:r,extensions:o}]}))),b(l.default.Child,{grow:1,shrink:1,wrap:!0},void 0,n)),this.renderAssetsHeading(),this.renderAssets())},n}(a.Component);t.default=S,S.displayName="AssetManager"},1696:function(e,t,r){e.exports=r.p+"bdf2ac0e8585551f26fbb4c5e909a225.svg"},2246:function(e,t,r){var n=r(1583),a=0;e.exports=function(e){var t=++a;return n(e)+t}}}]);
//# sourceMappingURL=e8abfb5e470484ebce55.js.map