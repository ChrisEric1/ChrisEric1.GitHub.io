"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[91919],{744:(e,t,n)=>{n.d(t,{Z:()=>h});var r=n(131795),i=n.n(r),o=n(951660),a=n(531286),c=n(865622),u=n(478695),l=n(655695),s=n(631134),f=n(18700),p=n(932847),O=n(618468),d=n(461061);function b(e,t,n,r,i,o,a){try{var c=e[o](a),u=c.value}catch(e){n(e);return}c.done?t(u):Promise.resolve(u).then(r,i)}function I(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){b(o,r,i,a,c,"next",e)}function c(e){b(o,r,i,a,c,"throw",e)}a(void 0)}))}}var y=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),
0):r.next)&&!(i=i.call(r,o[1])).done)return i;(r=0,i)&&(o=[2&o[0],i.value]);switch(o[0]){case 0:case 1:i=o;break;case 4:a.label++;return{value:o[1],done:!1};case 5:a.label++;r=o[1];o=[0];continue;case 7:o=a.ops.pop();a.trys.pop();continue;default:if(!(i=a.trys,i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1];i=o;break}if(i&&a.label<i[2]){a.label=i[2];a.ops.push(o);break}i[2]&&a.ops.pop();a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e];r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}};function P(e){return S.apply(this,arguments)}function S(){return(S=I((function(e){var t,n,r,c,l;return y(this,(function(f){switch(f.label){case 0:if("Android"!==(n=null===(t=i().os)||void 0===t?void 0:t.family)&&"iOS"!==n)return[3,5];c=null!==(r=s.default.getFingerprint())&&void 0!==r?r:s.default.getId();l=(0,a.WS)()
;if(null!=c||!s.default.isAuthenticated())return[3,4];f.label=1;case 1:f.trys.push([1,3,,4]);return[4,(0,u.k)()];case 2:f.sent();c=s.default.getId();return[3,4];case 3:f.sent();return[3,4];case 4:return[2,(0,a.ZP)((0,o.Gk)(),{utmSource:e,fingerprint:c,attemptId:l})];case 5:return[2,"discord://"]}}))}))).apply(this,arguments)}function h(e){return _.apply(this,arguments)}function _(){return(_=I((function(e){var t,n;return y(this,(function(r){switch(r.label){case 0:return[4,P(e)];case 1:t=r.sent();null!=(n=(0,a.zS)(t))&&p.default.track(d.rMx.DEEP_LINK_CLICKED,{fingerprint:(0,c.K)(n.fingerprint),attempt_id:n.attemptId,source:n.utmSource});O.Z.launch(t,(function(e){e||(0,l.dL)(f.Z.fallbackRoute)}));return[2]}}))}))).apply(this,arguments)}},365617:(e,t,n)=>{n.r(t);n.d(t,{getApplicationSubscriptionPaymentSteps:()=>le});var r,i=n(785893),o=n(667294),a=n(390599),c=n(695784),u=n(851604),l=n(363010),s=n(971906),f=n(982805);!function(e){e[e.INTANGIBLE=1]="INTANGIBLE"
;e[e.APPLICATION_PREMIUM_COMMAND=2]="APPLICATION_PREMIUM_COMMAND"}(r||(r={}));new Set([1,2]),new Set([1,2]);var p=n(331535),O=n(744),d=n(959797),b=n(876963),I=n.n(b),y=function(e){var t=e.onConfirm,n=e.onCancel,o=e.listing,a=e.title,c=e.subtitle,u=e.confirmCta,l=e.showOpenDiscord,s=void 0===l||l,f=0,b=0,y=!0,P=!1,S=void 0;try{for(var h,_=o.sku_benefits.benefits[Symbol.iterator]();!(y=(h=_.next()).done);y=!0){var m=h.value;m.ref_type===r.APPLICATION_PREMIUM_COMMAND?f+=1:m.ref_type===r.INTANGIBLE&&(b+=1)}}catch(e){P=!0;S=e}finally{try{y||null==_.return||_.return()}finally{if(P)throw S}}var g=[];0!==f&&g.push(d.Z.Messages.APPLICATION_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_LITE_EXCLUSIVE_CHANNELS_SUBTITLE.format({commandCount:f}));0!==b&&g.push(d.Z.Messages.APPLICATION_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_LITE_BENEFITS_SUBTITLE.format({benefitCount:b}));return(0,i.jsxs)("div",{className:I().confirmationContainer,children:[(0,i.jsx)(p.X6,{className:I().confirmationHeader,
variant:"heading-lg/extrabold",children:null!=a?a:d.Z.Messages.APPLICATION_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_LITE_TITLE_V2.format({tierName:o.name})}),g.length>0&&(0,i.jsx)(p.xv,{className:I().confirmationSubtitle,variant:"text-sm/normal",color:"header-secondary",children:null!=c?c:d.Z.Messages.APPLICATION_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_LITE_SUBTITLE.format({benefits:new Intl.ListFormat(d.Z.getLocale()).format(g)})}),(0,i.jsxs)("div",{className:I().buttonContainer,children:[s&&(0,i.jsx)(p.zx,{className:I().openDiscordButton,onClick:function(){return(0,O.Z)("application_sub_mweb_success_modal")},children:d.Z.Messages.APPLICATION_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_LITE_OPEN_DISCORD_BUTTON}),(0,i.jsx)(p.zx,{className:I().doneButton,look:p.zx.Looks.BLANK,onClick:t,children:null!=u?u:d.Z.Messages.APPLICATION_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_LITE_DONE_BUTTON}),null!=n&&(0,i.jsx)(p.zx,{className:I().cancelButton,look:p.zx.Looks.BLANK,onClick:n,
children:d.Z.Messages.APPLICATION_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_LITE_CANCEL_BUTTON})]})]})};function P(e){var t=e.onConfirm,n=e.listing,r=e.subscription;return(0,i.jsxs)("div",{className:I().confirmationContainer,children:[(0,i.jsx)(p.X6,{className:I().confirmationHeader,variant:"heading-lg/extrabold",children:d.Z.Messages.APPLICATION_SUBSCRIPTION_PURCHASE_CONFIRMATION_TITLE.format({tier:n.name})}),(0,i.jsx)(p.xv,{className:I().confirmationSubtitle,variant:"text-sm/normal",color:"header-secondary",children:d.Z.Messages.APPLICATION_SUBSCRIPTION_PURCHASE_CONFIRMATION_SUBTITLE.format({timestamp:null==r?void 0:r.currentPeriodEnd})}),(0,i.jsxs)("div",{className:I().buttonContainer,children:[(0,i.jsx)(p.zx,{className:I().openDiscordButton,onClick:function(){return(0,O.Z)("application_sub_mweb_success_modal")},children:d.Z.Messages.APPLICATION_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_LITE_OPEN_DISCORD_BUTTON}),(0,i.jsx)(p.zx,{className:I().doneButton,look:p.zx.Looks.BLANK,
onClick:t,children:d.Z.Messages.APPLICATION_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_LITE_DONE_BUTTON})]})]})}var S=n(653772),h=n(658350),_=n(551198),m=n(709947),g=n(813688);function T(e){var t=e.application,n=e.listing,r=e.handleStepChange,c=e.handleClose,u=(0,h.usePaymentContext)().subscriptionMetadataRequest,p=(0,s.Z)(g.i),O=(0,l.e7)([S.Z],(function(){return S.Z.getGuild(null==u?void 0:u.guild_id)})),b=o.useCallback((function(){return r(a.h8.REVIEW)}),[r]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(m.C3,{children:p?(0,i.jsx)(y,{listing:n,confirmCta:d.Z.Messages.APPLICATION_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_LITE_CONTINUE_BUTTON,onConfirm:b,onCancel:c,title:d.Z.Messages.APPLICATION_SUBSCRIPTION_PURCHASE_MODAL_BENEFITS_LITE_TITLE_V2.format({tier:n.name}),subtitle:d.Z.Messages.APPLICATION_SUBSCRIPTION_PURCHASE_MODAL_BENEFITS_LITE_SUBTITLE.format({guildName:null==O?void 0:O.name}),showOpenDiscord:!1}):(0,i.jsx)(f.Oc,{listing:n,application:t,
title:d.Z.Messages.APPLICATION_SUBSCRIPTION_PURCHASE_MODAL_BENEFITS_TITLE_V2.format({tier:n.name}),subtitle:d.Z.Messages.APPLICATION_SUBSCRIPTION_PURCHASE_MODAL_BENEFITS_SUBTITLE.format({guildName:null==O?void 0:O.name})})}),!p&&(0,i.jsx)(m.O3,{children:(0,i.jsx)(_.Z,{onBack:c,backText:d.Z.Messages.APPLICATION_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_CANCEL_BUTTON,onPrimary:b,primaryCTA:_.g.CONTINUE,primaryText:d.Z.Messages.APPLICATION_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_CONTINUE_BUTTON})})]})}var A=n(441143),N=n.n(A),C=n(730189),E=n(713237),v=n(343657),j=n(145278),L=n.n(j);function w(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function R(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function x(e){var t=e.showBenefits,n=e.application,r=e.listing,o=e.handleClose,c=e.onSubscriptionConfirmation,u=(0,h.usePaymentContext)(),l=u.selectedPlan,p=u.selectedSkuId,O=u.step,b=u.updatedSubscription,I=u.readySlideId;N()(null!=l,"Expected plan to selected");N()(null!=p,"Expected selectedSkuId");N()(null!=O,"Step should be set");var S,T,A=(0,s.Z)(g.i),j=function(){o();null==c||c()},x=I===a.h8.CONFIRM;if(t)if(A)S=(0,i.jsx)(y,{listing:r,onConfirm:j});else{S=(0,i.jsx)(f.Oc,{listing:r,application:n});T=(0,i.jsx)(_.Z,{onPrimary:j,primaryCTA:_.g.CONTINUE,primaryText:d.Z.Messages.APPLICATION_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_DONE_BUTTON})}else S=A?(0,i.jsx)(P,{listing:r,onConfirm:j,subscription:b}):(0,i.jsx)(f.xe,{listing:r,onConfirm:j,subscription:b});return(0,i.jsxs)(i.Fragment,{
children:[(0,i.jsxs)(m.C3,{children:[(0,i.jsx)(v.Z,{}),S]}),null!=T&&(0,i.jsx)(m.O3,{children:T}),(0,i.jsx)(m.iM,{children:!C.Z.useReducedMotion&&x&&(0,i.jsx)(E.O_,{className:L().cannon,children:function(e){return(0,i.jsx)(E.WV,R(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){w(e,t,n[t])}))}return e}({},e,E.R7),{position:{x:50,y:50},firing:!0}))}})})]})}var M=n(84840),D=n(916957),U=n(932847),B=n(74030),k=n(461061);function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function F(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function V(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function H(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){c=!0;i=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e){var t=e.initialStep,n=e.initialPlanId,r=e.guildId,a=e.setAnalyticsData,c=(0,h.usePaymentContext)(),l=c.blockedPayments,s=c.setStep,f=c.hasFetchedSubscriptions,p=c.hasFetchedSubscriptionPlans,O=c.currencyLoading,d=c.selectedSkuId,b=c.setSelectedSkuId,I=c.setSelectedPlanId,y=c.priceOptions,P=c.isGift,S=c.setSubscriptionMetadataRequest,_=H(o.useState(!f||!p||O),2),m=_[0],g=_[1];o.useEffect((function(){g(!f||!p||O)}),[O,p,f]);o.useEffect((function(){null!=r&&S({guild_id:r})}),[r,S]);o.useEffect((function(){I(n);var e=null!=n?D.Z.get(n):null;if(!m&&!l){a((function(t){var n=null!=e?(0,B.aS)(e.id,!1,P,y):void 0,r=V(function(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){F(e,t,n[t])}))}return e}({},t),{subscription_plan_id:null==e?void 0:e.id,price:null==n?void 0:n.amount,regular_price:null==e?void 0:e.price,currency:y.currency});U.default.track(k.rMx.PAYMENT_FLOW_STARTED,r);return r}));if(null!=e){b(null==e?void 0:e.skuId);s(t)}}}),[l,n,P,m,y,d,a,I,b,s,t]);return m?(0,i.jsx)(u.PremiumPaymentSpinner,{}):l?(0,i.jsx)(M.Vq,{}):null}var W=n(812314),z=n(230903),K=n(711462),Y=n(154765),q=n(960136),X=n(778908),$=n.n(X);function J(e){var t=e.selectedGuildId,n=e.onGuildChange,r=e.eligibleApplicationSubscriptionGuilds.map((function(e){return{value:e.id,label:e.name}}));return(0,i.jsx)(p.Vc,{className:$().select,maxVisibleItems:5,value:t,placeholder:d.Z.Messages.APPLICATION_SUBSCRIPTION_GUILD_PICKER_PLACEHOLDER,
options:r,onChange:function(e){n(e)}})}var Q=n(511820),ee=n.n(Q);function te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ne(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function re(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function ie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,c=!1;try{
for(n=n.call(e);!(a=(r=n.next()).done);a=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){c=!0;i=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return te(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oe(e){var t=e.backButtonEligible,n=e.prevStep,r=e.showGuildPicker,c=e.handleStepChange,l=e.trialFooterMessageOverride,s=e.reviewWarningMessage,f=e.planGroup,O=e.openInvoiceId,b=e.analyticsData,I=e.selectedGiftStyle,y=e.analyticsLocation,P=e.eligibleApplicationSubscriptionGuilds,S=(0,
h.usePaymentContext)(),_=S.activeSubscription,g=S.setUpdatedSubscription,T=S.contextMetadata,A=S.currencies,C=S.isGift,E=S.paymentSources,j=S.priceOptions,L=S.purchaseError,w=S.purchaseTokenAuthState,R=S.selectedPlan,x=S.setCurrency,M=S.setPaymentSourceId,D=S.setPurchaseState,U=S.setPurchaseError,B=S.step,k=S.purchaseState,Z=S.subscriptionMetadataRequest,F=S.setSubscriptionMetadataRequest;N()(null!=R,"Expected plan to be selected");N()(null!=B,"Step should be set");var V=o.useRef(null),H=ie((0,W.Z)(!1,500),2),G=H[0],X=H[1],$=ie(o.useState(!1),2),Q=$[0],te=$[1],oe=ie(o.useState(null==Z?void 0:Z.guild_id),2),ae=oe[0],ce=oe[1];o.useEffect((function(){null!=L&&null!=V.current&&V.current.scrollIntoView({behavior:"smooth"})}),[L]);var ue=o.useCallback((function(e){g(e);c(a.h8.CONFIRM)}),[c,g]),le=o.useCallback((function(e){ce(e);F(re(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ne(e,t,n[t])}))}return e}({},Z),{guild_id:e}))}),[ce,F,Z]),se=o.useRef(null);return k===Y.A.PURCHASING?(0,i.jsx)(u.PremiumPaymentSpinner,{}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(q.Z,{className:ee().breadcrumbs}),(0,i.jsxs)(m.C3,{children:[(0,i.jsx)(v.Z,{}),r&&(0,i.jsxs)("div",{className:ee().guildPickerContainer,children:[(0,i.jsx)(p.vw,{tag:p.RB.H5,children:d.Z.Messages.APPLICATION_SUBSCRIPTION_PAYMENT_CHOOSE_SERVER_TITLE}),(0,i.jsx)(p.R9,{type:p.R9.Types.DESCRIPTION,className:ee().guildPickerDescription,children:d.Z.Messages.APPLICATION_SUBSCRIPTION_PAYMENT_CHOOSE_SERVER_SUBTITLE}),(0,i.jsx)(J,{selectedGuildId:ae,onGuildChange:le,eligibleApplicationSubscriptionGuilds:P})]}),(0,i.jsx)(z.Z,{selectedPlanId:R.id,isGift:C,paymentSources:E,onPaymentSourceChange:function(e){
return M(null!=e?e.id:null)},priceOptions:j,currencies:A,onCurrencyChange:function(e){return x(e)},handlePaymentSourceAdd:function(){return c(a.h8.ADD_PAYMENT_STEPS)},setHasAcceptedTerms:te,legalTermsNodeRef:se,hasLegalTermsFlash:G,trialFooterMessageOverride:l,reviewWarningMessage:s,metadata:r?void 0:Z,purchaseState:k,hideSubscriptionDetails:!0})]}),(0,i.jsx)(m.O3,{children:(0,i.jsx)(K.Z,{premiumSubscription:null!=_?_:null,planId:R.id,setHasAcceptedTerms:te,hasAcceptedTerms:Q,priceOptions:j,setPurchaseState:D,onBack:function(){return null!=n&&c(n)},onNext:ue,onPurchaseError:function(e){return U(e)},legalTermsNodeRef:se,flashLegalTerms:function(){return X(!0)},analyticsLocation:y,baseAnalyticsData:b,flowStartTime:T.startTime,isGift:C,giftStyle:I,planGroup:f,purchaseTokenAuthState:w,openInvoiceId:O,metadata:Z,backButtonEligible:t,invoiceError:null,disablePurchase:null==(null==Z?void 0:Z.guild_id)})})]})}function ae(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,
configurable:!0,writable:!0}):e[t]=n;return e}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ae(e,t,n[t])}))}return e}function ue(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function le(e){var t=e.guildId,n=e.eligibleApplicationSubscriptionGuilds,r=e.application,o=e.listing,l=e.showBenefitsFirst;return[{key:null,renderStep:function(e){
return(0,i.jsx)(G,ce({initialStep:l?a.h8.BENEFITS:a.h8.REVIEW,guildId:t},e))}},{key:a.h8.BENEFITS,renderStep:function(e){return(0,i.jsx)(T,ce({application:r,listing:o},e))},options:{breadcrumb:function(){return d.Z.Messages.APPLICATION_SUBSCRIPTION_BILLING_STEP_SUBSCRIPTION_DETAILS}}},{key:a.h8.ADD_PAYMENT_STEPS,renderStep:function(e){return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(c.v,ue(ce({},e),{breadcrumbSteps:[a.h8.ADD_PAYMENT_STEPS,a.h8.REVIEW,a.h8.CONFIRM]}))})},options:{renderHeader:!0}},{key:a.h8.AWAITING_PURCHASE_TOKEN_AUTH,renderStep:function(){return(0,i.jsx)(u.PremiumAwaitingPurchaseTokenAuthStep,{})}},{key:a.h8.AWAITING_AUTHENTICATION,renderStep:function(){return(0,i.jsx)(u.PremiumAwaitingAuthenticationStep,{})}},{key:a.h8.REVIEW,renderStep:function(e){return(0,i.jsx)(oe,ce({backButtonEligible:!!l||void 0,prevStep:l?a.h8.BENEFITS:void 0,showGuildPicker:null==t,eligibleApplicationSubscriptionGuilds:n},e))},options:{renderHeader:!0,breadcrumb:function(){
return d.Z.Messages.BILLING_STEP_REVIEW}}},{key:a.h8.CONFIRM,renderStep:function(e){return(0,i.jsx)(x,ce({application:r,listing:o,showBenefits:!l},e))}}]}},18700:(e,t,n)=>{n.d(t,{Z:()=>P});var r=n(363010),i=n(444450),o=n(173436),a=n(461061);function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function l(e){l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return l(e)}function s(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e,t){f=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return f(e,t)}var p=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var i=l(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return s(this,n)}}var d={lastViewedPath:null,lastViewedNonVoicePath:null},b=d,I="LAST_VIEWED_PATH";var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&f(e,t)}(n,e);var t=O(n);function n(){c(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){
var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;b=null!=e?e:d};r.getState=function(){return b};r.__getLocalVars=function(){return{initialState:d,state:b,LEGACY_STORAGE_KEY:I}};!function(e,t,n){t&&u(e.prototype,t);n&&u(e,n)}(n,[{key:"defaultRoute",get:function(){return a.Z5c.ME}},{key:"lastNonVoiceRoute",get:function(){var e;return null!==(e=b.lastViewedNonVoicePath)&&void 0!==e?e:a.Z5c.ME}},{key:"fallbackRoute",get:function(){return a.Z5c.ME}}]);return n}(r.ZP.PersistedStore);y.displayName="DefaultRouteStore";y.persistKey="DefaultRouteStore";y.migrations=[function(){var e=i.Z.get(I,null);i.Z.remove(I);return{lastViewedPath:e}}];const P=new y(o.Z,{SAVE_LAST_ROUTE:function(e){var t=e.path;b.lastViewedPath=t;return!0},SAVE_LAST_NON_VOICE_ROUTE:function(e){var t=e.path;b.lastViewedNonVoicePath=t;return!0}})},106027:(e,t,n)=>{n.d(t,{Z:()=>u});var r=n(785893),i=(n(667294),n(240243));function o(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,
writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function c(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||(i[n]=e[n])}return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++){n=o[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}}return i}function u(e){
var t=e.width,n=void 0===t?24:t,u=e.height,l=void 0===u?24:u,s=e.color,f=void 0===s?"currentColor":s,p=e.foreground,O=c(e,["width","height","color","foreground"]);return(0,r.jsxs)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){o(e,t,n[t])}))}return e}({},(0,i.Z)(O)),{width:n,height:l,viewBox:"0 0 8 12",children:[(0,r.jsx)("path",{d:"M4 0L0 4V8L4 12L8 8V4L4 0ZM7 7.59L4 10.59L1 7.59V4.41L4 1.41L7 4.41V7.59Z",fill:f,className:p}),(0,r.jsx)("path",{d:"M2 4.83V7.17L4 9.17L6 7.17V4.83L4 2.83L2 4.83Z",fill:f,className:p})]}))}}}]);
//# sourceMappingURL=15f0bbd028440f64234e.js.map