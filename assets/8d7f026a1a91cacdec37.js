(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[32104,96938],{737264:e=>{"use strict";e.exports.Q=function(e){var t,n=/^(?:(en-GB-oed|i-ami|i-bnn|i-default|i-enochian|i-hak|i-klingon|i-lux|i-mingo|i-navajo|i-pwn|i-tao|i-tay|i-tsu|sgn-BE-FR|sgn-BE-NL|sgn-CH-DE)|(art-lojban|cel-gaulish|no-bok|no-nyn|zh-guoyu|zh-hakka|zh-min|zh-min-nan|zh-xiang))$|^((?:[a-z]{2,3}(?:(?:-[a-z]{3}){1,3})?)|[a-z]{4}|[a-z]{5,8})(?:-([a-z]{4}))?(?:-([a-z]{2}|\d{3}))?((?:-(?:[\da-z]{5,8}|\d[\da-z]{3}))*)?((?:-[\da-wy-z](?:-[\da-z]{2,8})+)*)?(-x(?:-[\da-z]{1,8})+)?$|^(x(?:-[\da-z]{1,8})+)$/i.exec(e);if(!n)return null;n.shift();var r=null,i=[];if(n[2]){r=(t=n[2].split("-")).shift();i=t}var o=[];n[5]&&(o=n[5].split("-")).shift();var a=[];if(n[6]){(t=n[6].split("-")).shift();for(var u,l=[];t.length;){var c=t.shift();if(1===c.length)if(u){a.push({singleton:u,extension:l});u=c;l=[]}else u=c;else l.push(c)}a.push({singleton:u,extension:l})}var s=[];if(n[7]){(s=n[7].split("-")).shift();s.shift()}
var d=[];n[8]&&(d=n[8].split("-")).shift();return{langtag:{language:{language:r,extlang:i},script:n[3]||null,region:n[4]||null,variant:o,extension:a,privateuse:s},privateuse:d,grandfathered:{irregular:n[0]||null,regular:n[1]||null}}}},23279:(e,t,n)=>{var r=n(513218),i=n(707771),o=n(14841),a=Math.max,u=Math.min;e.exports=function(e,t,n){var l,c,s,d,f,E,p=0,_=!1,g=!1,m=!0;if("function"!=typeof e)throw new TypeError("Expected a function");t=o(t)||0;if(r(n)){_=!!n.leading;s=(g="maxWait"in n)?a(o(n.maxWait)||0,t):s;m="trailing"in n?!!n.trailing:m}function y(t){var n=l,r=c;l=c=void 0;p=t;return d=e.apply(r,n)}function h(e){p=e;f=setTimeout(v,t);return _?y(e):d}function O(e){var n=e-E;return void 0===E||n>=t||n<0||g&&e-p>=s}function v(){var e=i();if(O(e))return I(e);f=setTimeout(v,function(e){var n=t-(e-E);return g?u(n,s-(e-p)):n}(e))}function I(e){f=void 0;if(m&&l)return y(e);l=c=void 0;return d}function S(){var e=i(),n=O(e);l=arguments;c=this;E=e;if(n){if(void 0===f)return h(E);if(g){
clearTimeout(f);f=setTimeout(v,t);return y(E)}}void 0===f&&(f=setTimeout(v,t));return d}S.cancel=function(){void 0!==f&&clearTimeout(f);p=0;l=E=c=f=void 0};S.flush=function(){return void 0===f?d:I(i())};return S}},707771:(e,t,n)=>{var r=n(555639);e.exports=function(){return r.Date.now()}},823493:(e,t,n)=>{var r=n(23279),i=n(513218);e.exports=function(e,t,n){var o=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");if(i(n)){o="leading"in n?!!n.leading:o;a="trailing"in n?!!n.trailing:a}return r(e,t,{leading:o,maxWait:t,trailing:a})}},579581:(e,t,n)=>{"use strict";n.d(t,{O:()=>o});var r=n(667294),i=n(652591),o=function(){return r.useContext(i.AnalyticsContext)}},589503:(e,t,n)=>{"use strict";n.d(t,{d3:()=>G,s5:()=>B,VS:()=>$,IP:()=>V,Y1:()=>L,QJ:()=>q,J1:()=>Z,Gn:()=>N,to:()=>D,jA:()=>A,y$:()=>w,PC:()=>M,fe:()=>U,A3:()=>P,kI:()=>j,MZ:()=>W,DV:()=>F,NJ:()=>X,wC:()=>J,C1:()=>K,_m:()=>z,a2:()=>Y})
;var r=n(667294),i=n(202351),o=n(396043),a=n(489617),u=n(420881),l=n(760014),c=n(833589),s=n(917019),d=n(61209),f=n(567403),E=n(715107),p=n(107218),_=n(652591),g=n(38004);const m=(0,n(260561).B)({kind:"user",id:"2023-01_emoji_discovery_backfill",label:"Emoji Hotrail Backfill",defaultConfig:{shouldBackfillEmojis:!1},treatments:[{id:1,label:"Backfills Hotrail With Emojis",config:{shouldBackfillEmojis:!0}}]});var y=n(230343),h=n(936957),O=n(2590),v=n(940581),I=n(203600),S=n(473708);function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function T(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){o.push(r.value);if(t&&o.length===t)break
}}catch(e){u=!0;i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}}(e,t)||R(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||R(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}var j=function(e,t){
var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null==t?void 0:t.getGuildId();(0,l.O)(n);var o=G(e),u=J(n,e),c=X(n),s=z(n,e),d=s.topEmojis,E=s.newlyAddedEmojis,_=s.backfillEmojis,m=q(d,E,_),y=m.allEmojis,O=(0,i.e7)([a.Z],(function(){return a.Z.getDisambiguatedEmojiContext(n)})),v=(0,i.e7)([f.Z],(function(){var e;return null===(e=f.Z.getGuild(n))||void 0===e?void 0:e.name})),I=r.useMemo((function(){var r=p.Z.getFlattenedGuildIds(),i=O.getGroupedCustomEmoji(),l=[],s=!0,d=!1,E=void 0;try{for(var _,m=r[Symbol.iterator]();!(s=(_=m.next()).done);s=!0){var I=_.value,b=f.Z.getGuild(I);if(null!=b){var T=null==i?void 0:i[b.id];if(!(null==T||0===T.length||null!=t&&T.every((function(n){return g.ZP.isEmojiFiltered(n,t,e)})))){var C={type:h.En.GUILD,guild:b};b.id!==n?l.push(C):l.unshift(C)}}}}catch(e){d=!0;E=e}finally{try{s||null==m.return||m.return()}finally{if(d)throw E}}return a.Z.categories.reduce((function(t,r){if(r===h.UX.TOP_GUILD_EMOJI){if(0===y.length)return t;t.push({
type:h.En.TOP_GUILD_EMOJI,id:r,name:S.Z.Messages.EMOJI_CATEGORY_TOP_GUILD_EMOJI.format({guildName:v})})}else if(r===h.UX.RECENT){if(0===u.length)return t;t.push({type:h.En.RECENT,id:r,name:S.Z.Messages.EMOJI_CATEGORY_RECENT})}else if(r===h.UX.FAVORITES){if(0===c.length)return t;t.push({type:h.En.FAVORITES,id:r,name:S.Z.Messages.CATEGORY_FAVORITE})}else if(r===h.UX.CUSTOM){var i,a=l;o||(a=l.filter((function(e){return e.guild.id===n})));(i=t).push.apply(i,k(a))}else B(e)&&t.push({type:h.En.UNICODE,id:r,name:r});return t}),[])}),[O,t,n,e,y.length,v,u.length,c.length,o]);return I},P=function(e){var t=null!=(null==e?void 0:e.getGuildId());_.default.track(O.rMx.PREMIUM_PROMOTION_OPENED,{location_page:t?O.ZY5.GUILD_CHANNEL:O.ZY5.DM_CHANNEL,location_section:null!=e?O.jXE.EMOJI_PICKER_POPOUT:O.jXE.CUSTOM_STATUS_MODAL})},M=function(e,t){o.ZP.trackWithMetadata(O.rMx.SEARCH_STARTED,{search_type:null!=t&&t===O.HzX.REACTION?O.aib.EMOJI_REACTION:O.aib.EMOJI,location:e})},A=function(e,t,n,r,i){
o.ZP.trackWithMetadata(O.rMx.SEARCH_RESULT_VIEWED,{search_type:null!=i&&i===O.HzX.REACTION?O.aib.EMOJI_REACTION:O.aib.EMOJI,total_results:e,num_results_locked:t,query:r,location:n})},w=function(e,t,n,r){var i,a=null!==(i=e.uniqueName)&&void 0!==i?i:e.name;o.ZP.trackWithMetadata(O.rMx.SEARCH_RESULT_SELECTED,{search_type:null!=r&&r===O.HzX.REACTION?O.aib.EMOJI_REACTION:O.aib.EMOJI,location:t,expression_guild_id:e.type===u.B.GUILD?e.guildId:void 0,emoji_id:e.id,emoji_name:a,is_custom:null!=e.id,is_animated:e.animated,query:n})},D=function(e,t){o.ZP.trackWithMetadata(O.rMx.SEARCH_RESULT_EMPTY,{search_type:O.aib.EMOJI,query:t,location:e})},N=function(e){var t=e.emoji,n=e.subCategory,r=e.position,i=e.backfillEmoji,a=e.newlyAddedHighlight;o.ZP.trackWithMetadata(O.rMx.EXPRESSION_PICKER_EXPRESSION_FOCUS,{expression_section:null==n?void 0:n.toString(),newly_added_highlight:a,emoji_id:t.id,emoji_name:t.name,emoji_animated:t.animated,emoji_backfilled:i,emoji_position:r})},U=function(e){
var t,n,r=e.emoji,i=e.location,a=e.pickerIntention,l=e.category,c=e.subCategory,s=void 0===c?h.t0.NONE:c,d=e.position,f=e.backfillEmoji,E=e.newlyAddedHighlight,p=e.isBurstReaction;switch(a){case O.HzX.REACTION:t=p?I.cd.EMOJI_PICKER_SUPER_REACTION_EMOJI_CLICKED:I.cd.EMOJI_PICKER_REACTION_EMOJI_CLICKED;break;case O.HzX.STATUS:t=I.cd.EMOJI_PICKER_STATUS_EMOJI_CLICKED;break;default:t=I.cd.EMOJI_PICKER_EMOJI_CLICKED}var _=null!==(n=r.uniqueName)&&void 0!==n?n:r.name;o.ZP.trackWithMetadata(O.rMx.EXPRESSION_PICKER_EXPRESSION_SELECTED,{type:t,location:i,expression_id:r.id,expression_name:_,expression_guild_id:r.type===u.B.GUILD?r.guildId:void 0,is_custom:null!=r.id,is_animated:r.animated,expression_picker_section:l,expression_section:null==s?void 0:s.toString(),emoji_position:d,emoji_backfilled:f,newly_added_highlight:E,is_burst:p})},Z=function(e){var t,n=e.emoji,r=e.location,i=null!==(t=n.uniqueName)&&void 0!==t?t:n.name;o.ZP.trackWithMetadata(O.rMx.EXPRESSION_FAVORITED,{location:r,
expression_type:v.X1.EMOJI,expression_id:n.id,expression_name:i,expression_guild_id:n.type===u.B.GUILD?n.guildId:void 0,is_custom:null!=n.id,is_animated:n.animated})},x=function(e){var t=e.containerWidth,n=e.favoriteEmojis,r=e.frequentlyUsedEmoji,i=e.guildEmoji,a=e.emojisTotal,l=e.topEmojis,s=e.newlyAddedEmojis,d=e.backfillEmojis,f=e.pickerIntention,E=e.isBurstReaction,p=void 0!==E&&E,_=e.analyticsObject,g=c.Z.remainingBurstCurrency;o.ZP.trackWithMetadata(f===O.HzX.REACTION?O.rMx.REACTION_PICKER_OPENED:O.rMx.EXPRESSION_PICKER_OPENED,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){T(e,t,n[t])}))}return e}({width:t,tab:v.X1.EMOJI,badged:!1,num_expressions_favorites:n.length,num_animated_expressions_favorites:n.filter((function(e){
return null==e?void 0:e.animated})).length,num_custom_expressions_favorites:n.filter((function(e){return e.type===u.B.GUILD})).length,num_standard_expressions_favorites:n.filter((function(e){return null==e.id})).length,num_expressions_frecent:r.length,num_animated_expressions_frecent:r.filter((function(e){return null==e?void 0:e.animated})).length,num_custom_expressions_frecent:r.filter((function(e){return e.type===u.B.GUILD})).length,num_standard_expressions_frecent:r.filter((function(e){return null==e.id})).length,num_current_guild_expressions:i.length,num_custom_expressions_total:a,num_expressions_top_server:l.length,num_animated_expressions_top_server:l.filter((function(e){return e.animated})).length,num_expressions_newly_added:s.length,num_animated_expressions_newly_added:s.filter((function(e){return e.animated})).length,num_expressions_backfilled:d.length,num_animated_expressions_backfilled:d.filter((function(e){return e.animated})).length},f===O.HzX.REACTION&&{is_burst:p,
burst_reaction_balance:g},null!=_&&{location_object:_}))},L=function(e,t){switch(e){case h.UX.TOP_GUILD_EMOJI:return S.Z.Messages.EMOJI_CATEGORY_TOP_GUILD_EMOJI.format({guildName:t});case h.UX.RECENT:return S.Z.Messages.EMOJI_CATEGORY_RECENT;case h.UX.FAVORITES:return S.Z.Messages.CATEGORY_FAVORITE;case h.UX.ACTIVITY:return S.Z.Messages.EMOJI_CATEGORY_ACTIVITY;case h.UX.FLAGS:return S.Z.Messages.EMOJI_CATEGORY_FLAGS;case h.UX.FOOD:return S.Z.Messages.EMOJI_CATEGORY_FOOD;case h.UX.NATURE:return S.Z.Messages.EMOJI_CATEGORY_NATURE;case h.UX.OBJECTS:return S.Z.Messages.EMOJI_CATEGORY_OBJECTS;case h.UX.PEOPLE:return S.Z.Messages.EMOJI_CATEGORY_PEOPLE;case h.UX.SYMBOLS:return S.Z.Messages.EMOJI_CATEGORY_SYMBOLS;case h.UX.TRAVEL:return S.Z.Messages.EMOJI_CATEGORY_TRAVEL;case h.UX.PREMIUM_UPSELL:return S.Z.Messages.EMOJI_CATEGORY_PREMIUM_UPSELL;default:return null!=t?t:e}},G=function(e){
return e!==O.HzX.COMMUNITY_CONTENT&&e!==O.HzX.COMMUNITY_CONTENT_ONLY&&e!==O.HzX.GUILD_STICKER_RELATED_EMOJI&&e!==O.HzX.GUILD_ROLE_BENEFIT_EMOJI&&e!==O.HzX.SOUNDBOARD},B=function(e){return e!==O.HzX.COMMUNITY_CONTENT_ONLY};function F(e,t,n){r.useEffect((function(){s.DZ.loadIfNecessary()}),[]);var o=G(n);return(0,i.e7)([a.Z],(function(){var r=e.replace(/^:/,"").replace(/:$/,"");return""===r?null:a.Z.searchWithoutFetchingLatest({channel:t,query:r,count:0,intention:n,includeExternalGuilds:o})}),[t,n,e,o],i.pF)}function J(e,t){r.useEffect((function(){t!==O.HzX.SOUNDBOARD&&s.DZ.loadIfNecessary()}),[t]);return(0,i.Wu)([a.Z],(function(){return t!==O.HzX.SOUNDBOARD?a.Z.getDisambiguatedEmojiContext(e).getFrequentlyUsedEmojisWithoutFetchingLatest():[]}))}function X(e){r.useEffect((function(){s.DZ.loadIfNecessary()}),[]);return(0,i.Wu)([a.Z],(function(){return a.Z.getDisambiguatedEmojiContext(e).favoriteEmojisWithoutFetchingLatest}))}function K(e,t){r.useEffect((function(){s.DZ.loadIfNecessary()
}),[]);return(0,i.e7)([a.Z],(function(){return null!=t&&a.Z.getDisambiguatedEmojiContext(e).isFavoriteEmojiWithoutFetchingLatest(t)}))}function W(e){r.useEffect((function(){s.DZ.loadIfNecessary()}),[]);return(0,i.Wu)([a.Z],(function(){return a.Z.getDisambiguatedEmojiContext(e).getEmojiInPriorityOrderWithoutFetchingLatest()}))}var H=[];function z(e,t){var n=C((0,i.Wu)([a.Z],(function(){return[a.Z.getTopEmoji(e),a.Z.getNewlyAddedEmoji(e),a.Z.getBackfillTopEmojis(e)]})),3),r=n[0],o=n[1],u=n[2],l=(0,y.R)(!0),c=l.shouldSeeNewlyAddedEmoji,s=l.shouldSeeTopEmojiBar,d=m.useExperiment({},{autoTrackExposure:!1}).shouldBackfillEmojis;return t===O.HzX.REACTION?{topEmojis:H,newlyAddedEmojis:H,backfillEmojis:H}:{topEmojis:s?r:H,newlyAddedEmojis:c?o:H,backfillEmojis:s&&d?u:H}}function Y(e){var t=e.intention,n=e.rowSize,o=e.isBurstReaction,u=e.analyticsObject,l=(0,i.Wu)([a.Z],(function(){return a.Z.emojiFrecencyWithoutFetchingLatest.frequently.slice()})),c=(0,i.e7)([a.Z],(function(){
return a.Z.emojiFrecencyWithoutFetchingLatest.numFrequentlyItems})),s=(0,i.e7)([d.Z,E.Z],(function(){return d.Z.getChannel(E.Z.getChannelId())})),f=(0,i.Wu)([a.Z],(function(){return null!=s?a.Z.getDisambiguatedEmojiContext(s.getGuildId()).favoriteEmojisWithoutFetchingLatest:[]})),p=l.slice(0,c),_=(0,i.cj)([a.Z],(function(){var e;return null!==(e=a.Z.getDisambiguatedEmojiContext(null==s?void 0:s.getGuildId()).groupedCustomEmojis)&&void 0!==e?e:{}})),g=r.useMemo((function(){var e=null==s?void 0:s.getGuildId();return null!=e?a.Z.getGuildEmoji(e):[]}),[s]),m=Object.values(_).reduce((function(e,t){return e+=t.length}),0),y=z(null==s?void 0:s.getGuildId(),t),h=q(y.topEmojis,y.newlyAddedEmojis,y.backfillEmojis,n),v=h.visibleTopEmojis,I=h.visibleNewlyAddedEmojis,S=h.visibleBackfillEmojis,b=r.useCallback((function(){x({favoriteEmojis:f,frequentlyUsedEmoji:p,guildEmoji:g,emojisTotal:m,backfillEmojis:S,topEmojis:v,newlyAddedEmojis:I,pickerIntention:t,isBurstReaction:o,analyticsObject:u})
}),[f,p,g,m,S,v,I,t,o,u]);r.useEffect((function(){t===O.HzX.REACTION&&b()}),[]);return{trackOnPickerOpen:b}}function V(e,t,n){if(null==n)return h.t0.NONE;var r,i,o=e.map((function(e){return null!==(i=null!==(r=e.id)&&void 0!==r?r:e.uniqueName)&&void 0!==i?i:e.name})),a=t.map((function(e){return e.id}));return o.includes(n)?h.t0.TOP_GUILD_EMOJI:a.includes(n)?h.t0.NEWLY_ADDED_EMOJI:h.t0.NONE}function q(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:h.N6,i=e.slice(0,r-t.length),o=[];i.length+t.length<r&&(o=n.slice(0,r-e.length-t.length));var a=i.concat(o).concat(t);return{visibleTopEmojis:i,visibleNewlyAddedEmojis:t,visibleBackfillEmojis:o,allEmojis:a}}function $(e){var t=new Set;return e.filter((function(e){if(null==e.uniqueName)return!0;if(!t.has(e.optionallyDiverseSequence)){t.add(e.optionallyDiverseSequence);return!0}}))}},953375:(e,t,n)=>{"use strict";n.d(t,{pj:()=>a,pr:()=>u,Zg:()=>l});var r=n(281110),i=n(744564),o=n(2590);function a(e){i.Z.dispatch({
type:"TOP_EMOJIS_FETCH",guildId:e});r.Z.get({url:o.ANM.TOP_EMOJIS_FOR_GUILD(e),oldFormErrors:!0}).then((function(t){return i.Z.dispatch({type:"TOP_EMOJIS_FETCH_SUCCESS",guildId:e,topEmojisMetadata:t.body.items.map((function(e){return{emojiId:e.emoji_id,rank:e.emoji_rank}})).sort((function(e,t){return e.rank-t.rank}))})}),(function(){return i.Z.dispatch({type:"TOP_EMOJIS_FETCH_FAILURE",guildId:e})}))}function u(e,t){i.Z.dispatch({type:"NEWLY_ADDED_EMOJI_SEEN_UPDATED"});null!=e&&null!=t&&i.Z.dispatch({type:"NEWLY_ADDED_EMOJI_SEEN_PENDING",guildId:e,emojiId:t})}function l(e,t){null!=e&&null!=t&&i.Z.dispatch({type:"NEWLY_ADDED_EMOJI_SEEN_ACKNOWLEDGED",guildId:e,emojiId:t})}},760014:(e,t,n)=>{"use strict";n.d(t,{O:()=>l});var r=n(230343),i=n(473903),o=n(489617),a=n(37763),u=n(953375);function l(e){if(null!=e){if(null!=i.default.getCurrentUser()){if((0,r.Y)().shouldSeeTopEmojiBar){var t=o.Z.getTopEmojisMetadata(e);if(null!=t){var n=t.topEmojisTTL;if(null==n||Date.now()<n)return}
a.Z.getIsFetching(e)||(0,u.pj)(e)}}}}},96938:(e,t,n)=>{"use strict";n.r(t);n.d(t,{default:()=>l});var r=n(785893),i=(n(667294),n(945460)),o=n(971402),a=n(734777),u=n(473708);function l(e){var t=e.target,n=e.onSelect,l=(0,a.Z)({type:t.getAttribute("data-type"),id:t.getAttribute("data-id"),name:t.getAttribute("data-name"),isInExpressionPicker:!0});return(0,r.jsx)(i.Menu,{navId:"expression-picker",onClose:o.Zy,"aria-label":u.Z.Messages.EXPRESSION_PICKER_ACTIONS_MENU_LABEL,onSelect:n,className:"context-menu",children:(0,r.jsx)(i.MenuGroup,{children:l})})}},833589:(e,t,n)=>{"use strict";n.d(t,{Z:()=>T});var r=n(202351),i=n(281110),o=n(744564),a=n(2590);function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function c(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,
configurable:!0,writable:!0}):e[t]=n;return e}function s(e){s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return s(e)}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){c(e,t,n[t])}))}return e}function f(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function E(e,t){E=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return E(e,t)}var p=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1
;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var i=s(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f(this,n)}}var g=Object.freeze({burstCredits:0,wasReplenishedToday:!1,isReactionPickerBurstToggled:null,emojiReactionForCoachmark:null,guildBurstPreviews:{}}),m=d({},g),y=function(e){var t=e.amount,n=e.wasReplenishedToday;m.burstCredits=t;m.wasReplenishedToday=n},h=function(){i.Z.get({url:a.ANM.BURST_CREDIT_BALANCE}).then((function(e){o.Z.dispatch({type:"BURST_CREDITS_SET",amount:e.body.amount,wasReplenishedToday:e.body.replenished_today})})).catch((function(){}))},O=function(e){var t=e.value;m.isReactionPickerBurstToggled=t},v=function(e){var t=e.emoji;m.emojiReactionForCoachmark=null!=t?t:null},I=function(e){var t=e.guildId,n=e.channelId,r=e.messageId,i=e.emoji
;m.guildBurstPreviews[t]={channelId:n,messageId:r,emoji:i}},S=function(e){var t=e.guildId;delete m.guildBurstPreviews[t]},b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&E(e,t)}(n,e);var t=_(n);function n(){u(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(e){m=null!=e?e:d({},g)};r.getBurstedPreviewData=function(e){var t;return null!==(t=m.guildBurstPreviews[e])&&void 0!==t?t:void 0};r.getState=function(){return m};r.__getLocalVars=function(){return{initialState:g,state:m,handleSetCreditBalance:y,handleFetchFromAPI:h,handleEmojiPickerBurstToggle:O,handleShowFreeUserSentPopout:v,handleGuildPreviewSet:I,handleGuildPreviewClear:S}};!function(e,t,n){t&&l(e.prototype,t);n&&l(e,n)}(n,[{key:"remainingBurstCurrency",get:function(){return m.burstCredits}},{
key:"hasAvailableBurstCurrency",get:function(){return this.remainingBurstCurrency>0}},{key:"wasReplenishedToday",get:function(){return m.wasReplenishedToday}},{key:"isReactionPickerBurstToggled",get:function(){return null!=m.isReactionPickerBurstToggled&&m.isReactionPickerBurstToggled}},{key:"emojiReactionToTargetForCoachmark",get:function(){return m.emojiReactionForCoachmark}}]);return n}(r.ZP.PersistedStore);b.displayName="BurstReactionStore";b.persistKey="BurstReactionStore33";const T=new b(o.Z,{BURST_CREDITS_SET:y,POST_CONNECTION_OPEN:h,BURST_REACTION_PICKER_TOGGLE:O,BURST_REACTION_SHOW_FREE_USER_SENT_POPOUT:v,BURST_GUILD_PREVIEW_SET:I,BURST_GUILD_PREVIEW_CLEAR:S})},734777:(e,t,n)=>{"use strict";n.d(t,{Z:()=>T});var r=n(785893),i=n(667294),o=n(202351),a=n(945460),u=n(91500),l=n(579581),c=n(589503),s=n(489617),d=n(135855),f=n(840598),E=n(798826),p=n(217544),_=n(78551),g=n(513586),m=n(2590),y=n(473708);function h(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,
configurable:!0,writable:!0}):e[t]=n;return e}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){h(e,t,n[t])}))}return e}function v(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var I="sticker",S="emoji";function b(e){return d.ZP.getByName(e.replace(/(^:|:$)/g,""))}function T(e){
var t=e.type,n=e.id,h=e.name,T=e.isInExpressionPicker,C=void 0!==T&&T,k=(0,l.O)().location,R=i.useMemo((function(){return v(O({},k),{section:C?m.jXE.EXPRESSION_PICKER:m.jXE.CONTEXT_MENU})}),[k,C]),j=(0,p.Go)(),P=(0,o.e7)([_.Z],(function(){return t===I&&null!=n?_.Z.getStickerById(n):null})),M=null!=P&&j.includes(P.id),A=(0,o.e7)([s.Z],(function(){if(t===S){if(null!=n)return s.Z.getDisambiguatedEmojiContext().getById(n);if(null!=h){var e;return null!==(e=b(h))&&void 0!==e?e:b(d.ZP.convertSurrogateToName(h))}}})),w=(0,c.C1)(null,A);return null!=P&&t===I?(0,g.J8)(P)&&!(0,g.V9)(P)?null:M?(0,r.jsx)(a.MenuItem,{id:"unfavorite",action:function(){return(0,f.hW)(P.id)},label:y.Z.Messages.UNFAVORITE_ITEM}):(0,r.jsx)(a.MenuItem,{id:"favorite",action:function(){(0,E.cQ)({sticker:P,location:v(O({},R),{object:m.qAy.STICKER})});(0,f.SA)(null==P?void 0:P.id)},label:y.Z.Messages.FAVORITE_ITEM}):null!=A&&t===S?w?(0,r.jsx)(a.MenuItem,{id:"unfavorite",action:function(){return(0,u.Xe)(A)},
label:y.Z.Messages.UNFAVORITE_ITEM}):(0,r.jsx)(a.MenuItem,{id:"favorite",action:function(){(0,c.J1)({emoji:A,location:v(O({},R),{object:m.qAy.EMOJI})});(0,u.$K)(A)},label:y.Z.Messages.FAVORITE_ITEM}):void 0}},798826:(e,t,n)=>{"use strict";n.d(t,{ev:()=>c,cQ:()=>s,n8:()=>d,m1:()=>f,Yk:()=>E,On:()=>p,Iw:()=>_});var r=n(396043),i=n(652591),o=n(514351),a=n(2590),u=n(940581),l=n(203600),c=function(e){var t=e.containerWidth,n=e.favoriteStickers,i=e.frequentlyUsedStickers,l=e.guildStickers,c=e.stickersTotal;r.ZP.trackWithMetadata(a.rMx.EXPRESSION_PICKER_OPENED,{width:t,tab:u.X1.STICKER,badged:!1,num_expressions_favorites:n.length,num_animated_expressions_favorites:n.filter((function(e){return(0,o.aQ)(e.format_type)})).length,num_custom_expressions_favorites:n.filter((function(e){return(0,o.z)(e.type)})).length,num_standard_expressions_favorites:n.filter((function(e){return!(0,o.z)(e.type)})).length,num_expressions_frecent:i.length,num_custom_expressions_frecent:i.filter((function(e){return(0,
o.z)(e.type)})).length,num_animated_expressions_frecent:i.filter((function(e){return(0,o.aQ)(e.format_type)})).length,num_standard_expressions_frecent:i.filter((function(e){return!(0,o.z)(e.type)})).length,num_current_guild_expressions:l.length,num_custom_expressions_total:c})},s=function(e){var t,n=e.sticker,i=e.location;n.type===o.n0.GUILD&&(t=n.guild_id);r.ZP.trackWithMetadata(a.rMx.EXPRESSION_FAVORITED,{location:i,expression_type:u.X1.STICKER,expression_id:n.id,expression_name:n.name,expression_guild_id:t,is_animated:(0,o.aQ)(n.format_type),is_custom:(0,o.z)(n.type)})},d=function(){i.default.track(a.rMx.SEARCH_STARTED,{search_type:a.aib.STICKER})},f=function(e,t,n){r.ZP.trackWithMetadata(a.rMx.SEARCH_RESULT_VIEWED,{search_type:a.aib.STICKER,total_results:t,query:e,is_suggestion:n})},E=function(e,t,n){var i,u=e.sticker;u.type===o.n0.GUILD&&(i=u.guild_id);r.ZP.trackWithMetadata(a.rMx.SEARCH_RESULT_SELECTED,{load_id:u.id,search_type:a.aib.STICKER,source_object:"Sticker Picker",
total_results:n,expression_guild_id:i,sticker_id:u.id,query:t})},p=function(e){var t,n=e.sticker,i=e.category;n.type===o.n0.GUILD&&(t=n.guild_id);r.ZP.trackWithMetadata(a.rMx.EXPRESSION_PICKER_EXPRESSION_SELECTED,{type:l.cd.EMOJI_PICKER_STICKER_CLICKED,expression_id:n.id,expression_name:n.name,expression_picker_section:i,expression_guild_id:t,is_animated:(0,o.aQ)(n.format_type),is_custom:(0,o.z)(n.type)})},_=function(e){null!=e&&""!==e&&r.ZP.trackWithMetadata(a.rMx.SEARCH_RESULT_EMPTY,{query:e,search_type:a.aib.STICKER,source_object:"Sticker Picker"})}},78551:(e,t,n)=>{"use strict";n.d(t,{Z:()=>oe});var r=n(17916),i=n(202351),o=n(744564),a=n(247075),u=n(114643);var l=new(n(296602).Z)("GuildStickers");const c=new(function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);this.actions={BACKGROUND_SYNC:function(e,n){return t.handleBackgroundSync(e,n)},CLEAR_CACHES:function(e,n){return t.handleClear(n)},
CLEAR_GUILD_CACHE:function(e,n){return t.handleClear(n)},CONNECTION_OPEN:function(e,n){return t.handleConnectionOpen(e,n)},GUILD_CREATE:function(e,n){return t.handleGuildCreate(e,n)},GUILD_DELETE:function(e,n){return t.handleGuildDelete(e,n)},GUILD_STICKERS_UPDATE:function(e,n){return t.handleGuildStickersUpdate(e,n)},GUILD_UPDATE:function(e,n){return t.handleGuildUpdate(e,n)}}}var t=e.prototype;t.getSync=function(){var e,t,n=performance.now(),r=null!==(t=null===(e=a.Z.stickers())||void 0===e?void 0:e.getMapEntriesSyncUnsafe())&&void 0!==t?t:[],i=performance.now();l.log("synchronously loaded in ".concat(i-n,"ms (guilds: ").concat(r.length,")"));return r};t.handleConnectionOpen=function(e,t){var n=!0,r=!1,i=void 0;try{for(var o,a=e.guilds[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var u=o.value;this.handleOneGuildCreate(u,t)}}catch(e){r=!0;i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}};t.handleGuildCreate=function(e,t){this.handleOneGuildCreate(e.guild,t)}
;t.handleGuildUpdate=function(e,t){this.replace(e.guild.id,e.guild.stickers,t)};t.handleGuildDelete=function(e,t){this.delete(e.guild.id,t)};t.handleGuildStickersUpdate=function(e,t){this.replace(e.guildId,e.stickers,t)};t.handleBackgroundSync=function(e,t){var n=this;e.promisesForBackgroundSyncToWaitOn.push(Promise.all(e.stickers.map((function(e){if("unavailable"===e.dataMode)return Promise.resolve();if("full"===e.dataMode){l.log("Replacing ".concat(e.entities.length," stickers for ").concat(e.guildId));n.replace(e.guildId,e.entities,t)}else if(e.updatedEntities.length>0||e.deletedEntityIds.length>0){l.log("Updating ".concat(e.updatedEntities.length," and deleting ").concat(e.deletedEntityIds.length," stickers for ").concat(e.guildId));n.update(e.guildId,e.updatedEntities,e.deletedEntityIds,t)}}))))};t.handleOneGuildCreate=function(e,t){null!=e.stickers&&this.replace(e.id,e.stickers,t);null!=e.stickerUpdates&&this.update(e.id,e.stickerUpdates.writes,e.stickerUpdates.deletes,t)}
;t.handleClear=function(e){this.clear(e)};t.handleReset=function(){};t.replace=function(e,t,n){a.Z.stickersTransaction(n).replaceAll(e,t)};t.delete=function(e,t){a.Z.stickersTransaction(t).delete(e)};t.clear=function(e){a.Z.stickersTransaction(e).delete()};t.update=function(e,t,n,r){var i=a.Z.stickersTransaction(r);i.putAll(e,t);var o=!0,u=!1,l=void 0;try{for(var c,s=n[Symbol.iterator]();!(o=(c=s.next()).done);o=!0){var d=c.value;i.delete(e,d)}}catch(e){u=!0;l=e}finally{try{o||null==s.return||s.return()}finally{if(u)throw l}}};return e}());var s=n(135855),d=n(944522),f=n(848285),E=n(695895),p=n(567403),_=n(514351),g=n(513586),m=n(2590);function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0)
;Object.defineProperty(e,r.key,r)}}function v(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function I(e){I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return I(e)}function S(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function b(e,t){return!t||"object"!==j(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function T(e,t){T=Object.setPrototypeOf||function(e,t){e.__proto__=t
;return e};return T(e,t)}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){u=!0;i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}}(e,t)||P(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||P(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var R,j=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function P(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=I(e);if(t){var i=I(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return b(this,n)}}!function(e){e[e.Unloaded=0]="Unloaded";e[e.MaybeLoaded=1]="MaybeLoaded";e[e.Loaded=2]="Loaded"}(R||(R={}));var A=2,w=new Map,D=new Map,N=null,U=[],Z=null,x=!1,L=new Map,G=function(e,t){L=new Map(L.set(e,t))
},B=1e3*m.UF9.HOUR,F=function(){if(0===A){A=2;var e=(0,u.Pv)((function(){return r.Z.time("ðŸ’¾","loadSavedGuildStickers",(function(){return c.getSync()}))}));if(null!=e){var t=!0,n=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var l=C(o.value,2),s=l[0],d=l[1];if(E.Z.isMember(s)&&!L.has(s)){var f=!0,_=!1,g=void 0;try{for(var m,y=d[Symbol.iterator]();!(f=(m=y.next()).done);f=!0){var h=m.value;J(h,!0,p.Z.getGuild(s))}}catch(e){_=!0;g=e}finally{try{f||null==y.return||y.return()}finally{if(_)throw g}}G(s,d)}}}catch(e){n=!0;i=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw i}}}}},J=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;D.set(e.id,e);t&&X(e,n)},X=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null!=N){var n=e.tags,r={type:_.MO.STICKER_NAME,value:e.name.trim().toLocaleLowerCase()};if((0,g.jl)(e)){
var i=U.find((function(t){return t.id===e.pack_id})),o=[r].concat(k((null!=n?n:"").split(",").map((function(e){return{type:_.MO.TAG,value:e.trim().toLocaleLowerCase()}}))));null!=i&&o.push({type:_.MO.PACK_NAME,value:i.name});N.set(e.id,o)}else if((0,g.J8)(e)&&null!=n){var a=s.ZP.getByName(n),u={type:_.MO.TAG,value:n.trim().toLocaleLowerCase()},l=[r,u];if(null!=t){var c=(t instanceof f.Z?t.name:t.properties.name).trim().toLocaleLowerCase();null!=c&&""!==c&&l.push({type:_.MO.GUILD_NAME,value:c})}if(null==a){N.set(e.id,l);return}l.push({type:_.MO.CORRELATED_EMOJI,value:a.surrogates});a.forEachDiversity((function(e){return l.push({type:_.MO.CORRELATED_EMOJI,value:e.surrogates})}));N.set(e.id,l)}}},K=function(e,t,n){w.set(e.id,e);var r=k(U);if(t){var i=r.findIndex((function(t){return t.id===e.id}));-1!==i?r[i]=e:r.push(e);U=r}(t||n)&&e.stickers.forEach((function(e){return J(e)}))},W=function(){L.forEach((function(e,t){var n=p.Z.getGuild(t);null!=n&&e.forEach((function(e){return X(e,n)}))}))
;U.forEach((function(e){e.stickers.forEach((function(e){return X(e)}))}))},H=function(e){var t=e.guilds;N=null;D=new Map;L=new Map;t.forEach(Y);A=t.every((function(e){return null!=e.stickers}))?1:0},z=function(){N=null;D=new Map;L=new Map;A=0};function Y(e){if(null!=e.stickers){e.stickers.forEach((function(t){return J(t,!0,e)}));G(e.id,e.stickers)}}var V=function(){A=0;U=[];D.clear();w.clear();N=null;L.clear();L=new Map(L);x=!1;Z=null},q=function(){x=!0},$=function(e){e.packs.forEach((function(e){return K(e,!0)}));Z=Date.now();x=!1},Q=function(e){var t=e.pack,n=e.ingestStickers;K(t,!1,n)},ee=function(e){var t=e.guildId,n=e.stickers;n.forEach((function(e){return J(e)}));G(t,n)},te=function(e){var t,n,r=e.guildId,i=e.sticker,o=null!==(t=L.get(r))&&void 0!==t?t:[];G(r,k(null!==(n=o.filter((function(e){return e.id!==i.id})))&&void 0!==n?n:[]).concat([i]));J(i)},ne=function(e){var t=e.sticker;J(t,!1)},re=function(e){var t,n=e.guildId,r=e.stickers,i=function(e){var t,n=D.get(e.id)
;null!=n&&(0,g.J8)(n)&&(t=null!=n.user?n.user:void 0);return S(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){v(e,t,n[t])}))}return e}({},e),{user:t})};(null!==(t=L.get(n))&&void 0!==t?t:[]).filter((function(e){return null==r.find((function(t){return t.id===e.id}))})).forEach((function(e){D.delete(e.id);null!=N&&N.delete(e.id)}));var o=r.map((function(e){return i(e)}));o.forEach((function(e){return J(e)}));G(n,o)},ie=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&T(e,t)}(n,e);var t=M(n);function n(){h(this,n);return t.apply(this,arguments)}
var r=n.prototype;r.initialize=function(){this.waitFor(a.Z,E.Z,p.Z)};r.getStickerById=function(e){D.has(e)||F();return D.get(e)};r.getStickerPack=function(e){return w.get(e)};r.getPremiumPacks=function(){return U};r.isPremiumPack=function(e){return U.some((function(t){return t.id===e}))};r.getRawStickersByGuild=function(){return L};r.getAllStickersIterator=function(){F();return D.values()};r.getAllGuildStickers=function(){F();return L};r.getStickersByGuildId=function(e){F();return L.get(e)};r.__getLocalVars=function(){return{LoadState:R,loaded:A,stickerPacksByPackId:w,stickersById:D,stickerMetadata:N,premiumStickerPacks:U,lastFetchedPremiumStickerPacks:Z,isFetchingStickerPacks:x,guildStickersByGuildId:L,setGuildStickersByGuildId:G,FETCHED_STANDARD_STICKER_PACKS_TTL_MS:B,loadSavedGuildStickers:F,ingestSticker:J,ingestStickerMetadata:X,ingestStickerPack:K,rebuildStickerMetadata:W,handleConnectionOpen:H,handleBackgroundSync:z,handleLogout:V,handleStickerPacksFetchStart:q,
handleStickerPacksFetchSuccess:$,handleStickerPackFetchSuccess:Q,handleGuildStickersFetchSuccess:ee,handleGuildStickersCreateSuccess:te,handleStickerFetchSuccess:ne,handleGuildStickersUpdate:re}};!function(e,t,n){t&&O(e.prototype,t);n&&O(e,n)}(n,[{key:"isLoaded",get:function(){return 0!==A}},{key:"stickerMetadata",get:function(){F();if(null==N){N=new Map;W()}return N}},{key:"hasLoadedStickerPacks",get:function(){return null!=Z&&Z+B>Date.now()}},{key:"isFetchingStickerPacks",get:function(){return x}}]);return n}(i.ZP.Store);ie.displayName="StickersStore";const oe=new ie(o.Z,{BACKGROUND_SYNC:z,CONNECTION_OPEN:H,GUILD_CREATE:function(e){var t=e.guild;if(!d.Z.isLurking(t.id)){Y(t);1===A&&null==t.stickers&&null!=t.stickerUpdates&&(A=0)}},GUILD_DELETE:function(e){var t,n=e.guild;(null!==(t=L.get(n.id))&&void 0!==t?t:[]).forEach((function(e){null!=N&&N.delete(e.id);D.delete(e.id)}));L.delete(n.id);L=new Map(L)},LOGOUT:V,STICKER_PACKS_FETCH_START:q,STICKER_PACKS_FETCH_SUCCESS:$,
STICKER_PACK_FETCH_SUCCESS:Q,GUILD_STICKERS_FETCH_SUCCESS:ee,GUILD_STICKERS_CREATE_SUCCESS:te,STICKER_FETCH_SUCCESS:ne,GUILD_STICKERS_UPDATE:re})}}]);
//# sourceMappingURL=8d7f026a1a91cacdec37.js.map