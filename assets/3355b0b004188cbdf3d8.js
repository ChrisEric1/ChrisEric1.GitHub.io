"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[65460],{265460:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n,i=(n=r(468811))&&n.__esModule?n:{default:n},a=r(770970),s=r(243714);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,i,a=[],s=!0,o=!1;try{for(r=r.call(e);!(s=(n=r.next()).done);s=!0){a.push(n.value);if(t&&a.length===t)break}}catch(e){o=!0;i=e}finally{try{s||null==r.return||r.return()}finally{if(o)throw i}}return a}(e,t)||u(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){if(e){if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name)
;return"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(e,n.key,n)}}function d(e,t,r,n,i,a,s){try{var o=e[a](s),u=o.value}catch(e){r(e);return}o.done?t(u):Promise.resolve(u).then(n,i)}function v(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function s(e){d(a,n,i,s,o,"next",e)}function o(e){d(a,n,i,s,o,"throw",e)}s(void 0)}))}}var f,h,I=Math.min(4,Math.ceil(navigator.hardwareConcurrency/2)),p="undefined"!=typeof OffscreenCanvas,y=[],m=new Map,b=new Map,w=(0,s.createQueuedAsyncInitializer)(v(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){
case 0:e.next=2;return r.e(42057).then(r.t.bind(r,42057,23));case 2:t=e.sent;h=t.default;for(n=0;n<I;n++)y.push({worker:new h,numActive:0});case 5:case"end":return e.stop()}}),e)})))),A=(0,s.createQueuedAsyncInitializer)(v(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return r.e(56394).then(r.bind(r,956394));case 2:t=e.sent;f=t.default;case 4:case"end":return e.stop()}}),e)}))));p?w():A();var g=function(){function e(e){var t=this,r=e.canvas,n=e.animationId,s=e.assetUrl,o=e.assetData,u=e.onInitialDraw,l=e.onError;this.isVisible=!1;this.isInitialized=!1;this.shouldAnimate=!1;this.handleVisibilityChange=function(e){var r=e[e.length-1].isIntersecting;if(r!==t.isVisible){t.isVisible=r;if(!t.isInitialized)return;if(p){var n;null===(n=t.worker)||void 0===n||n.postMessage({canvasId:t.canvasId,type:a.MessageTypes.VISIBILITY_CHANGE,isVisible:r})}else{var i
;null===(i=t.lottieView)||void 0===i||i.setVisibility(r)}}};this.handleMessage=function(e){if(e.data.type===a.MessageTypes.FIRST_DRAW){var r;null===(r=t.onInitialDraw)||void 0===r||r.call(t)}if(e.data.type===a.MessageTypes.ERROR){var n;null===(n=t.onError)||void 0===n||n.call(t)}};this.handleError=function(e){var r;null===(r=t.onError)||void 0===r||r.call(t,e)};this.canvasId=i.default.v4();this.assetUrl=s;this.assetData=o;this.onInitialDraw=u;this.onError=l;this.observer=new IntersectionObserver(this.handleVisibilityChange);this.observer.observe(r);this.initializationPromise=p?w().then((function(){var e,i,u;null===(e=t.worker)||void 0===e||e.addEventListener("message",t.handleMessage);null===(i=t.worker)||void 0===i||i.addEventListener("error",t.handleError);var l=r.transferControlToOffscreen();null===(u=t.worker)||void 0===u||u.postMessage({type:a.MessageTypes.INITIALIZE,animationId:n,assetUrl:s,assetData:o,canvas:l,canvasId:t.canvasId,isVisible:t.isVisible,
shouldAnimate:t.shouldAnimate},[l]);t.isInitialized=!0})):A().then((function(){t.lottieView=new f({canvas:r,id:n,assetUrl:s,assetData:o,isVisible:t.isVisible,shouldAnimate:t.shouldAnimate,onInitialDraw:u,onError:l});t.isInitialized=!0}))}var t=e.prototype;t.drop=function(){var e=v(regeneratorRuntime.mark((function e(){var t,r,n,i,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return this.initializationPromise;case 2:if(!p){e.next=13;break}null===(t=this.worker)||void 0===t||t.removeEventListener("message",this.handleMessage);null===(r=this.worker)||void 0===r||r.removeEventListener("error",this.handleError);null===(n=this.worker)||void 0===n||n.postMessage({canvasId:this.canvasId,type:a.MessageTypes.DROP});if(null!=(i=m.get(this.canvasId))){e.next=9;break}throw new Error("No worker index assigned for asset "+this.canvasId);case 9:m.delete(this.canvasId);y[i].numActive--;e.next=14;break;case 13:null===(s=this.lottieView)||void 0===s||s.drop()
;case 14:this.observer.disconnect();case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}();t.setState=function(e,t){this.shouldAnimate=e;if(this.isInitialized)if(p){var r;null===(r=this.worker)||void 0===r||r.postMessage({canvasId:this.canvasId,type:a.MessageTypes.STATE_CHANGE,shouldAnimate:e,nextFrame:t})}else{var n;null===(n=this.lottieView)||void 0===n||n.setState(e,t)}};!function(e,t,r){t&&c(e.prototype,t);r&&c(e,r);Object.defineProperty(e,"prototype",{writable:!1})}(e,[{key:"workerIndex",get:function(){var e=m.get(this.canvasId);if(null==e){var t=b.get(this.assetUrl);if(null!=t)e=t;else{for(var r,n,i,a=null!==(r=null===(n=y[0])||void 0===n?void 0:n.numActive)&&void 0!==r?r:0,s=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=u(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,
value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(y.entries());!(i=s()).done;){var l=o(i.value,2),c=l[0],d=l[1];if(d.numActive<=a){a=d.numActive;e=c}}b.set(this.assetUrl,e)}m.set(this.canvasId,e);y[e].numActive++}return e}},{key:"worker",get:function(){var e=this.workerIndex;if(null==y[e])throw new Error("No worker in pool at index "+e);return y[e].worker}}]);return e}();t.default=g},770970:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});t.MessageTypes=void 0;var r;t.MessageTypes=r;!function(e){e[e.DROP=0]="DROP";e[e.INITIALIZE=1]="INITIALIZE";e[e.VISIBILITY_CHANGE=2]="VISIBILITY_CHANGE";e[e.STATE_CHANGE=3]="STATE_CHANGE";e[e.FIRST_DRAW=4]="FIRST_DRAW";e[e.ERROR=5]="ERROR"}(r||(t.MessageTypes=r={}))},243714:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});t.createQueuedAsyncInitializer=function(e){var t=n.UNINITIALIZED,i=[];return function(){
var a,s=(a=regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t!==n.READY){r.next=2;break}return r.abrupt("return");case 2:if(t!==n.INITIALIZING){r.next=4;break}return r.abrupt("return",new Promise((function(e){i.push(e)})));case 4:t=n.INITIALIZING;r.next=7;return e();case 7:t=n.READY;for(;i.length>0;)null===(a=i.shift())||void 0===a||a();case 9:case"end":return r.stop()}}),r)})),function(){var e=this,t=arguments;return new Promise((function(n,i){var s=a.apply(e,t);function o(e){r(s,n,i,o,u,"next",e)}function u(e){r(s,n,i,o,u,"throw",e)}o(void 0)}))});return function(){return s.apply(this,arguments)}}()};function r(e,t,r,n,i,a,s){try{var o=e[a](s),u=o.value}catch(e){r(e);return}o.done?t(u):Promise.resolve(u).then(n,i)}var n;!function(e){e[e.UNINITIALIZED=0]="UNINITIALIZED";e[e.INITIALIZING=1]="INITIALIZING";e[e.READY=2]="READY"}(n||(n={}))}}]);
//# sourceMappingURL=3355b0b004188cbdf3d8.js.map