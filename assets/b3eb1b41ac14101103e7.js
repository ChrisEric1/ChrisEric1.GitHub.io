"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[17629],{417629:(e,n,t)=>{t.r(n);t.d(n,{default:()=>ut});var r=t(785893),l=t(667294),o=t(441143),i=t.n(o),a=t(248088),s=t(202351),u=t(945460),c=t(105783),d=t(116404),f=t(481008),m=t(213276),h=t(738096),p=t(341765),g=t(61209),S=t(959207),v=t(567403),E=t(604945),C=t(671723),b=t(715107),O=t(473903),y=t(375759),x=t(107364),N=t(443812),j=t(652591),_=t(120415),I=t(310126),R=t(802395),Z=t(165586);function T(e,n,t){var r=Z.no[e],l=!0,o=!1,i=void 0;try{for(var a,s=r[Symbol.iterator]();!(l=(a=s.next()).done);l=!0){var u=a.value;if((0,R.Z)(e,u.resolution,u.fps,n,t))return[u.resolution,u.fps]}}catch(e){o=!0;i=e}finally{try{l||null==s.return||s.return()}finally{if(o)throw i}}return null}var M=t(944514),P=t(294184),A=t.n(P),L=t(734691),w=t(1477),D=t(968449),U=t(27851),k=t(641277),G=t(124251),F=t(425454),B=t(265367),V=t(633878);function W(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,
writable:!0}):e[n]=t;return e}function H(e,n){n=null!=n?n:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})));t.push.apply(t,r)}return t}(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}));return e}function z(e,n){if(null==e)return{};var t,r,l=function(e,n){if(null==e)return{};var t,r,l={},o=Object.keys(e);for(r=0;r<o.length;r++){t=o[r];n.indexOf(t)>=0||(l[t]=e[t])}return l}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++){t=o[r];n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}}return l}function Y(e){
var n=e.width,t=void 0===n?24:n,l=e.height,o=void 0===l?24:l,i=e.color,a=void 0===i?"currentColor":i,s=e.foreground,u=z(e,["width","height","color","foreground"]);return(0,r.jsxs)("svg",H(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))));r.forEach((function(n){W(e,n,t[n])}))}return e}({},(0,V.Z)(u)),{width:t,height:o,viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{className:s,fill:a,d:"M22 7.002V5C22 3.898 21.104 3 20 3H4C2.897 3 2 3.898 2 5V7.002H22ZM8 4C8.553 4 9 4.448 9 5C9 5.553 8.553 6 8 6C7.447 6 7 5.553 7 5C7 4.448 7.447 4 8 4ZM5 4C5.553 4 6 4.448 6 5C6 5.553 5.553 6 5 6C4.447 6 4 5.553 4 5C4 4.448 4.447 4 5 4Z"}),(0,r.jsx)("path",{fill:a,d:"M2 8.00201V19C2 20.103 2.897 21 4 21H20C21.104 21 22 20.103 22 19V8.00201H2Z"})]}))}
var K=t(72580),J=t(647428),X=t(236625),q=t.n(X),Q=t(20978),$=t(306472),ee=t(443132),ne=t(36256),te=t(473708);var re=t(5544),le=t(682776),oe=t(602397),ie=t(924066),ae=t(773011),se=t(469023),ue=t(96606),ce=t(773148),de=t(960767),fe=t.n(de);function me(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t;return e}function he(e){var n=e.channel,t=e.users,l=e.selected,o=void 0!==l&&l,i=(0,ae.ZP)(n),a=null;if(null!=t&&t.length>0){a=(0,r.jsx)(ue.Z,{guildId:n.guild_id,className:fe().voiceUserList,users:t,renderUser:function(e){if(null==e)return null;var t=ce.Z.getName(n.guild_id,n.id,e),l=e.getAvatarURL(n.guild_id,24);return(0,r.jsx)(u.TooltipContainer,{text:t,children:(0,r.jsx)("img",{src:null!=l?l:void 0,"aria-label":e.username,alt:"",className:fe().avatar})})},renderMoreUsers:function(e){var l=function(e,n){var t=n.id,r=n.guild_id;return e.length<=1?null:2===e.length?te.Z.Messages.GO_LIVE_MODAL_OVERFLOW_TWO_USERS.format({
nickname0:ce.Z.getName(r,t,e[0]),nickname1:ce.Z.getName(r,t,e[1])}):3===e.length?te.Z.Messages.GO_LIVE_MODAL_OVERFLOW_THREE_USERS.format({nickname0:ce.Z.getName(r,t,e[0]),nickname1:ce.Z.getName(r,t,e[1]),nickname2:ce.Z.getName(r,t,e[2])}):te.Z.Messages.GO_LIVE_MODAL_OVERFLOW_FOUR_OR_MORE_USERS.format({nickname0:ce.Z.getName(r,t,e[0]),nickname1:ce.Z.getName(r,t,e[1]),remainingCount:e.length-2})}(t.slice(4),n);return(0,r.jsx)("div",{children:(0,r.jsx)(u.TooltipContainer,{text:l,children:(0,r.jsx)("div",{className:fe().userListOverflow,children:e})})})},max:5,showUserPopout:!1})}var s=(0,se.Z)(n);return(0,r.jsxs)("div",{className:A()(fe().channelInfo,me({},fe().selected,o)),children:[(0,r.jsx)(s,{className:fe().channelIcon}),(0,r.jsx)("div",{className:fe().channelName,children:i}),a]})}var pe=t(202178),ge=t.n(pe);function Se(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t;return e}function ve(e){var n=e.separator,t=void 0!==n&&n
;return(0,r.jsx)("div",{className:A()(ge().divider,Se({},ge().separator,t))})}var Ee=t(753654),Ce=t.n(Ee),be=t(773358),Oe=t.n(be);function ye(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function xe(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t;return e}function Ne(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,l,o=[],i=!0,a=!1;try{for(t=t.call(e);!(i=(r=t.next()).done);i=!0){o.push(r.value);if(n&&o.length===n)break}}catch(e){a=!0;l=e}finally{try{i||null==t.return||t.return()}finally{if(a)throw l}}return o}}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return ye(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t)
;if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ye(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function je(e){var n=e.title,t=e.scrollerClassName,o=e.scrollerInnerClassName,i=e.children,a=l.useRef(null),s=Ne(l.useState(!1),2),c=s[0],d=s[1],f=Ne(l.useState(!1),2),m=f[0],h=f[1],p=l.useCallback((function(){var e=a.current;if(null!=e){d(!e.isScrolledToTop());h(!e.isScrolledToBottom())}}),[]);l.useLayoutEffect((function(){return p()}),[]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:A()(Oe().title,Oe().scrollWrapper),children:[(0,r.jsx)(u.FormTitle,{className:Ce().formItemTitle,children:n}),(0,r.jsx)(ve,{separator:c})]}),(0,r.jsx)("div",{className:t,children:(0,r.jsx)(u.AdvancedScroller,{ref:a,className:A()(Oe().scrollerInner,o,xe({},Oe().bottomSeparator,m)),onScroll:p,children:i})})]})}
var _e=t(33173),Ie=t.n(_e);function Re(e){var n=e.selectedChannelId,t=e.guildId,l=e.onChangeSelectedChannelId,o=(0,s.e7)([O.default],(function(){return O.default.getCurrentUser()})),i=(0,s.e7)([v.Z,re.ZP,le.Z],(function(){return(0,ie.h_)(re.ZP.getChannels(t),v.Z,le.Z)})),a=(0,s.e7)([oe.ZP],(function(){return oe.ZP.getVoiceStates(t)})),c=i.map((function(e){var t;return{name:(0,r.jsx)(he,{channel:e,users:null===(t=a[e.id])||void 0===t?void 0:t.filter((function(e){return e.user.id!==(null==o?void 0:o.id)})).map((function(e){return e.user})),selected:e.id===n}),value:e.id}}));return(0,r.jsx)(je,{title:te.Z.Messages.GO_LIVE_MODAL_SELECT_CHANNEL_FORM_TITLE,scrollerInnerClassName:Ie().channelSelectScrollerInner,children:(0,r.jsx)(u.RadioGroup,{options:c,value:n,itemInfoClassName:Ie().channelInfoWrapper,itemTitleClassName:Ie().channelTitleWrapper,onChange:function(e){var n=e.value;return l(n)}})})}var Ze=t(736818),Te=t(491264),Me=t.n(Te);function Pe(e){var n=e.children;return(0,r.jsx)("div",{
className:Me().card,children:n})}function Ae(e){var n=e.channel,t=(0,s.e7)([Ze.default],(function(){return Ze.default.getId()})),l=(0,s.e7)([oe.ZP],(function(){return oe.ZP.getVoiceStatesForChannel(n)}),[n]);return(0,r.jsx)(u.FormItem,{title:te.Z.Messages.GO_LIVE_MODAL_CURRENT_CHANNEL_FORM_TITLE,className:Ce().modalContent,titleClassName:Ce().formItemTitle,children:(0,r.jsx)(Pe,{children:(0,r.jsx)(he,{channel:n,users:l.filter((function(e){return e.user.id!==t})).map((function(e){return e.user}))})})})}var Le=t(579581),we=t(260561),De=(0,we.B)({kind:"user",id:"2023-01_nitro_basic_hd_streaming_upsell",label:"Nitro Basic HD Streaming Upsell",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enable upsell",config:{enabled:!0}}]}),Ue=t(68543),ke=t(95891),Ge=t(850841),Fe=t(19585),Be=t(276611);const Ve=(0,we.B)({kind:"user",id:"2022-06_inline_streaming_premium_upsell_behavior",label:"Inline Streaming Premium Upsell Behavior",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enabled",
config:{enabled:!0}}]});var We=t(2590),He=t(203600),ze=t(439281),Ye=t.n(ze);function Ke(e){var n=e.message,t=e.onClose,l=e.openStreamUpsellModal,o=Ve.useExperiment({},{autoTrackExposure:!1}),i=(0,Fe.Z)().analyticsLocations,a={section:We.jXE.STREAM_SETTINGS,object:We.qAy.PREMIUM_UPSELL_BANNER,objectType:We.Qqv.BUY};return(0,r.jsxs)(u.Clickable,{onClick:function(){!function(){Ve.trackExposure({});o.enabled?(0,Be.Z)({initialPlanId:null,subscriptionTier:He.Si.TIER_2,analyticsLocations:i,analyticsObject:a}):l({analyticsLocation:a,onClose:t})}()},className:A()(Ye().upsellBanner,Ye().gradientBackground),children:[(0,r.jsxs)("div",{className:Ye().iconTextContainer,children:[(0,r.jsx)(ke.Z,{className:Ye().iconColor}),(0,r.jsx)(u.Text,{variant:"text-sm/medium",className:Ye().upsellText,children:null!=n?n:te.Z.Messages.STREAM_PREMIUM_UPSELL_BANNER})]}),(0,r.jsx)(u.Text,{variant:"text-sm/medium",className:Ye().textLink,children:te.Z.Messages.STREAM_PREMIUM_UPSELL_BANNER_CTA})]})}
var Je=t(305025),Xe=t.n(Je),qe=t(518280),Qe=t.n(qe);function $e(e,n,t,r,l,o,i){try{var a=e[o](i),s=a.value}catch(e){t(e);return}a.done?n(s):Promise.resolve(s).then(r,l)}function en(e){return function(){var n=this,t=arguments;return new Promise((function(r,l){var o=e.apply(n,t);function i(e){$e(o,r,l,i,a,"next",e)}function a(e){$e(o,r,l,i,a,"throw",e)}i(void 0)}))}}function nn(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t;return e}function tn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))));r.forEach((function(n){nn(e,n,t[n])}))}return e}function rn(e,n){n=null!=n?n:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var t=Object.keys(e)
;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})));t.push.apply(t,r)}return t}(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}));return e}var ln=function(e,n){var t,r,l,o,i={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(t)throw new TypeError("Generator is already executing.");for(;i;)try{if(t=1,r&&(l=2&o[0]?r.return:o[0]?r.throw||((l=r.return)&&l.call(r),0):r.next)&&!(l=l.call(r,o[1])).done)return l;(r=0,l)&&(o=[2&o[0],l.value]);switch(o[0]){case 0:case 1:l=o;break;case 4:i.label++;return{value:o[1],done:!1};case 5:i.label++;r=o[1];o=[0];continue;case 7:o=i.ops.pop();i.trys.pop();continue;default:if(!(l=i.trys,
l=l.length>0&&l[l.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!l||o[1]>l[0]&&o[1]<l[3])){i.label=o[1];break}if(6===o[0]&&i.label<l[1]){i.label=l[1];l=o;break}if(l&&i.label<l[2]){i.label=l[2];i.ops.push(o);break}l[2]&&i.ops.pop();i.trys.pop();continue}o=n.call(e,i)}catch(e){o=[6,e];r=0}finally{t=l=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};function on(e){var n=e.analyticsLocation,l=e.onClose;(0,u.openModalLazy)(en((function(){var e,o;return ln(this,(function(i){switch(i.label){case 0:return[4,t.e(23850).then(t.bind(t,123850))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,rn(tn({},e),{onCloseParent:l,analyticsSource:n}))}]}}))})))}function an(){return(0,r.jsxs)("div",{className:Xe().toolTipTextContainer,children:[(0,r.jsx)(ke.Z,{className:A()(Xe().premiumIcon,Xe().premiumIconColor)}),(0,r.jsx)(u.Text,{className:Xe().upsellText,variant:"text-sm/medium",children:te.Z.Messages.STREAM_QUALITY_DISCORD_NITRO_UNLOCK})]})}
function sn(e){var n,t,l=e.type,o=e.selected,i=e.needsPremium,a=e.analyticsLocation,s=e.onClick,c=e.onClose,d=l.value,f=l.label;if(i){n=(0,r.jsx)(u.TooltipContainer,{tooltipClassName:Xe().tooltip,spacing:12,"aria-label":te.Z.Messages.STREAM_QUALITY_DISCORD_NITRO_UNLOCK,text:(0,r.jsx)(an,{}),children:(0,r.jsx)(x.Z,{align:x.Z.Align.CENTER,children:(0,r.jsx)(u.Text,{variant:"text-xs/bold",className:Xe().selectorNitroText,children:f})})});t=function(){return on({analyticsLocation:a,onClose:c})}}else{n=(0,r.jsx)(u.Text,{variant:"text-xs/normal",className:o?Xe().selectorTextSelected:Xe().selectorText,children:f});t=function(){return s(d)}}return{content:n,className:A()(o?Xe().selectorButtonSelected:Xe().selectorButton,nn({},Xe().selectorButtonPremiumRequired,i)),onClick:t}}function un(e){var n=e.onClose,t=e.selectedPreset,l=e.selectedResolution,o=e.selectedFPS,a=e.onResolutionChange,c=e.onFPSChange,d=e.onPresetChange,f=e.guildId,h=(0,s.e7)([O.default],(function(){
var e=O.default.getCurrentUser();i()(null!=e,"StreamSettings: user cannot be undefined");return e})),p=Ge.ZP.isPremiumExactly(h,He.p9.TIER_0),g=Ge.ZP.isPremium(h),S=(0,s.e7)([v.Z],(function(){var e;return null===(e=v.Z.getGuild(f))||void 0===e?void 0:e.premiumTier})),E=(0,Le.O)().location,C=De.useExperiment({},{autoTrackExposure:p,disable:!p}).enabled||!g,b=rn(tn({},E),{section:We.jXE.STREAM_SETTINGS}),y=(0,r.jsx)(Ue.Z,{buttons:Z.WC.map((function(e){return sn({type:e,selected:e.value===l,needsPremium:!(0,R.Z)(t,e.value,o,h,S),analyticsLocation:b,onClick:function(){return a(e.value)},onClose:n})}))}),N=(0,r.jsx)(Ue.Z,{buttons:Z.k0.map((function(e){return sn({type:e,selected:e.value===o,needsPremium:!(0,R.Z)(t,l,e.value,h,S),analyticsLocation:b,onClick:function(){return c(e.value)},onClose:n})}))}),j=[{value:Z.tI.PRESET_VIDEO,label:te.Z.Messages.STREAM_PRESET_VIDEO},{value:Z.tI.PRESET_DOCUMENTS,label:te.Z.Messages.STREAM_PRESET_DOCUMENTS},{value:Z.tI.PRESET_CUSTOM,
label:te.Z.Messages.STREAM_PRESET_CUSTOM}],_=t===Z.tI.PRESET_DOCUMENTS?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(x.Z,{children:(0,r.jsx)(u.FormItem,{title:te.Z.Messages.STREAM_RESOLUTION,titleClassName:Ce().formItemTitleSlim,className:Xe().documentModeGroup,children:(0,r.jsx)(u.Text,{variant:"text-xs/normal",children:te.Z.Messages.STREAM_PRESET_DOCUMENTS_DESCRIPTION_NITRO.format({fps:o})})})}),C?(0,r.jsx)(Ke,{message:te.Z.Messages.STREAM_PREMIUM_UPSELL_BANNER_PRESET_DOCUMENTS,onClose:n,openStreamUpsellModal:on}):null]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(x.Z,{children:[(0,r.jsx)(u.FormItem,{title:te.Z.Messages.STREAM_RESOLUTION,className:Xe().settingsGroup,titleClassName:Ce().formItemTitleSlim,children:y}),(0,r.jsx)(u.FormItem,{title:te.Z.Messages.SCREENSHARE_FRAME_RATE,className:Xe().settingsGroup,titleClassName:Ce().formItemTitleSlim,children:N})]}),C?(0,r.jsx)(Ke,{onClose:n,openStreamUpsellModal:on}):null]});return(0,r.jsx)(m.Z,rn(tn({},b),{children:(0,r.jsx)(u.FormItem,{
title:te.Z.Messages.STREAM_QUALITY,titleClassName:Ce().formItemTitle,className:Ce().modalContent,children:(0,r.jsxs)("div",{className:Xe().qualitySettingsContainer,children:[(0,r.jsx)(u.SingleSelect,{value:t,className:Qe().marginTop8,options:j,onChange:function(e){return d(e)}}),_]})})}))}var cn=t(485081);function dn(e,n,t){return null==n?e:t.find((function(e){return(0,cn.Z)(n.id,e.windowHandle)}))}var fn=t(915782),mn=t.n(fn);function hn(e){var n=e.selectedSource,t=e.selectSource,l=e.sourceChanged,o=e.onChangeSource,i=(0,s.e7)([C.ZP,y.Z],(function(){return(0,_.ED)()?(0,M.Z)(C.ZP,y.Z):null})),a=(0,s.e7)([S.Z],(function(){return null!=(null==i?void 0:i.id)?S.Z.getGame(i.id):null})),c=(0,s.e7)([C.ZP],(function(){return C.ZP.getRunningGames()})),d=(0,s.Wu)([S.Z],(function(){return c.map((function(e){return null!=e.id?S.Z.getGame(e.id):null})).filter(K.lm)}),[c]),f=null;null!=n?f=n.name:null!=i&&(f=i.name);if(null==f)return null;var m=dn(i,n,c),h=l?d.find((function(e){
return e.id===(null==m?void 0:m.id)})):a,p=null!=n&&n.id.startsWith("screen")?F.Z:Y;return(0,r.jsx)(u.FormItem,{title:te.Z.Messages.GO_LIVE_MODAL_APPLICATION_FORM_TITLE,className:Ce().modalContent,titleClassName:Ce().formItemTitleVerySlim,children:(0,r.jsxs)(Pe,{children:[null!=h?(0,r.jsx)(k.Z,{game:h,size:k.Z.Sizes.XSMALL,className:mn().selectedIcon}):(0,r.jsx)(p,{className:mn().selectedIcon}),(0,r.jsx)("span",{className:mn().ellipsisText,children:f}),t?(0,r.jsx)(u.Button,{className:mn().changeButton,color:u.Button.Colors.PRIMARY,size:u.Button.Sizes.SMALL,onClick:o,children:te.Z.Messages.CHANGE}):null]})})}function pn(e){var n=e.onChange,t=e.guildId,l=(0,s.e7)([v.Z],(function(){return v.Z.getGuild(t)}));if(null==l){n();return null}return(0,r.jsx)(u.FormItem,{title:te.Z.Messages.GO_LIVE_MODAL_GUILD_FORM_TITLE,className:Ce().modalContent,titleClassName:Ce().formItemTitle,children:(0,r.jsxs)(Pe,{children:[(0,r.jsx)(G.Z,{guild:l,size:G.Z.Sizes.SMALLER,className:mn().selectedIcon}),(0,
r.jsx)("span",{className:mn().ellipsisText,children:l.toString()}),(0,r.jsx)(u.Button,{className:mn().changeButton,color:u.Button.Colors.PRIMARY,size:u.Button.Sizes.SMALL,onClick:n,children:te.Z.Messages.CHANGE})]})})}function gn(e){var n=e.text;return(0,r.jsxs)(x.Z,{align:x.Z.Align.CENTER,className:mn().warning,children:[(0,r.jsx)(B.Z,{className:mn().warningIcon}),(0,r.jsx)(u.Text,{color:"none",variant:"text-xs/normal",children:n})]})}function Sn(e){var n,t=e.guildId,o=(0,s.e7)([U.Z],(function(){return null!==(n=U.Z.getMemberCount(t))&&void 0!==n?n:0})),i=D.eo.useSetting(),a=l.useCallback((function(e,n){D.eo.updateSetting(n);j.default.track(We.rMx.NOTIFY_STREAM_SETTING_UPDATE,{value:n})}),[]);return o>=2&&o<=ee.tB?(0,r.jsx)(u.FormItem,{className:A()(Ce().modalContent,mn().checkboxRow),children:(0,r.jsx)(u.Checkbox,{value:!!i,type:u.Checkbox.Types.INVERTED,onChange:a,children:(0,r.jsx)(u.Text,{variant:"text-sm/normal",children:te.Z.Messages.GO_LIVE_MODAL_NOTIFY_FRIENDS_CHECKBOX_LABEL})
})}):null}function vn(e){var n=e.selectedSource,t=e.selectedFPS,o=e.selectedChannelId,i=e.selectedPreset,a=e.selectedResolution,u=e.sourceChanged,c=e.guildId,d=e.selectSource,f=e.selectGuild,m=e.onClose,h=e.onChangeSelectedFPS,p=e.onChangeSelectedResolution,S=e.onChangeSelectedPreset,v=e.onChangeSelectedChannelId,C=e.onChangeSource,y=e.onChangeGuild,x=(0,s.e7)([b.Z,g.Z],(function(){return g.Z.getChannel(b.Z.getVoiceChannelId())})),N=(0,s.e7)([J.Z],(function(){return J.Z.GPUDriversOutdated})),j=(0,s.e7)([E.Z],(function(){return E.Z.getSoundshareEnabled()})),I=(0,s.e7)([O.default],(function(){return O.default.getCurrentUser()})),R=E.Z.supports(ne.AN.SOUNDSHARE)?(0,_.ED)()&&!q().satisfies(null===$.Z||void 0===$.Z?void 0:$.Z.os.release,ee.I9)?te.Z.Messages.GO_LIVE_SCREENSHARE_UPDATE_WINDOWS_FOR_SOUNDSHARE:(0,_.id)()&&!q().satisfies(null===$.Z||void 0===$.Z?void 0:$.Z.os.release,ee.Ec)?te.Z.Messages.GO_LIVE_SCREENSHARE_UPDATE_MACOS_FOR_SOUNDSHARE:null:Q.GO_LIVE_SCREENSHARE_NO_SOUND
;null!=n&&n.id.startsWith("screen")?R=te.Z.Messages.GO_LIVE_SCREENSHARE_NO_SOUND:null==R&&E.Z.supportsEnableSoundshare()&&j!==We.rtk.ENABLED&&(R=te.Z.Messages.GO_LIVE_SCREENSHARE_ENABLE_FOR_SOUNDSHARE.format({onVoiceSettingsClick:function(){m();L.Z.open(We.oAB.VOICE)}}));var Z=null!=I&&I.verified&&!I.bot,T=null!=x&&!(0,w.Yk)(x),M=Z&&T;return(0,r.jsxs)(l.Fragment,{children:[(0,r.jsx)(hn,{selectSource:d,sourceChanged:u,onChangeSource:C,selectedSource:n}),null!=R?(0,r.jsx)(gn,{text:R}):null,f&&null!=c?(0,r.jsx)(pn,{guildId:c,onChange:y}):null,null!=x?(0,r.jsx)(Ae,{channel:x}):(0,r.jsx)(Re,{guildId:c,selectedChannelId:o,onChangeSelectedChannelId:v}),null!=c&&M?(0,r.jsx)(Sn,{guildId:c}):null,N?(0,r.jsx)(gn,{text:te.Z.Messages.GO_LIVE_VIDEO_DRIVERS_OUTDATED}):null,(0,r.jsx)(un,{selectedPreset:i,selectedFPS:t,selectedResolution:a,guildId:c,onClose:m,onFPSChange:h,onResolutionChange:p,onPresetChange:S})]})}var En=t(496486),Cn=t.n(En),bn=t(107218),On=t(718831),yn=t(614272),xn=t.n(yn)
;function Nn(e){var n=e.guildId,t=e.onClick,l=(0,s.e7)([v.Z],(function(){return v.Z.getGuild(n)})),o=(0,s.e7)([re.ZP,v.Z,le.Z],(function(){return re.ZP.getChannels(n)[re.Zb].some((function(e){var n=e.channel;return(0,ie.JL)(n,v.Z,le.Z)}))}));return null!=l&&o?(0,r.jsxs)(u.Clickable,{onClick:function(){return t(n)},className:xn().guildRow,children:[(0,r.jsx)(G.Z,{guild:l,size:G.Z.Sizes.SMALL,className:xn().guildIcon}),(0,r.jsx)(u.Text,{variant:"text-md/normal",className:xn().guildName,children:l.toString()}),(0,r.jsx)(On.Z,{direction:On.Z.Directions.RIGHT,className:xn().guildArrow})]}):null}function jn(e){var n=e.onSelectGuild,t=(0,s.e7)([bn.Z],(function(){return bn.Z.getGuildFolders()}));return(0,r.jsx)(je,{title:te.Z.Messages.GO_LIVE_MODAL_SELECT_GUILD_FORM_TITLE,scrollerClassName:A()(xn().guildScroller,Ce().marginBottom),children:Cn().flatMap(t,(function(e){return e.guildIds.map((function(e){return(0,r.jsx)(Nn,{guildId:e,onClick:n},e)}))}))})}
var _n=t(12061),In=t(15086),Rn=t(513328),Zn=t(495726),Tn=t.n(Zn);function Mn(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Pn(e){Pn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Pn(e)}function An(e,n){return!n||"object"!==Dn(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function Ln(e,n){Ln=Object.setPrototypeOf||function(e,n){e.__proto__=n;return e};return Ln(e,n)}var wn,Dn=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Un(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var t,r=Pn(e);if(n){
var l=Pn(this).constructor;t=Reflect.construct(r,arguments,l)}else t=r.apply(this,arguments);return An(this,t)}}!function(e){e.WRAP="wrap";e.STACK="stack"}(wn||(wn={}));var kn=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}});n&&Ln(e,n)}(t,e);var n=Un(t);function t(){Mn(this,t);return n.apply(this,arguments)}var l=t.prototype;l.renderChildren=function(){var e,n=this.props,t=n.children,l=n.layout,o=n.columns;switch(l){case wn.STACK:e="100%";break;case wn.WRAP:e="".concat(1/o*100,"%")}return t.map((function(n,t){return(0,r.jsx)(x.Z.Child,{className:Tn().tile,basis:e,grow:0,children:n},t)}))};l.render=function(){var e=this.props.className;return(0,r.jsx)(x.Z,{className:A()(e,Tn().grid),wrap:x.Z.Wrap.WRAP,children:this.renderChildren()})};return t}(l.PureComponent);kn.Layout=wn;kn.defaultProps={children:[],
layout:wn.WRAP,columns:4};const Gn=kn;var Fn=t(139273),Bn=t.n(Fn);function Vn(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function Wn(e,n,t,r,l,o,i){try{var a=e[o](i),s=a.value}catch(e){t(e);return}a.done?n(s):Promise.resolve(s).then(r,l)}function Hn(e){return function(){var n=this,t=arguments;return new Promise((function(r,l){var o=e.apply(n,t);function i(e){Wn(o,r,l,i,a,"next",e)}function a(e){Wn(o,r,l,i,a,"throw",e)}i(void 0)}))}}function zn(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t;return e}function Yn(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,l,o=[],i=!0,a=!1;try{for(t=t.call(e);!(i=(r=t.next()).done);i=!0){o.push(r.value);if(n&&o.length===n)break}}catch(e){a=!0;l=e}finally{try{i||null==t.return||t.return()}finally{if(a)throw l}}return o}
}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return Vn(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Vn(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Kn=function(e,n){var t,r,l,o,i={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(t)throw new TypeError("Generator is already executing.");for(;i;)try{if(t=1,r&&(l=2&o[0]?r.return:o[0]?r.throw||((l=r.return)&&l.call(r),0):r.next)&&!(l=l.call(r,o[1])).done)return l;(r=0,l)&&(o=[2&o[0],l.value]);switch(o[0]){
case 0:case 1:l=o;break;case 4:i.label++;return{value:o[1],done:!1};case 5:i.label++;r=o[1];o=[0];continue;case 7:o=i.ops.pop();i.trys.pop();continue;default:if(!(l=i.trys,l=l.length>0&&l[l.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!l||o[1]>l[0]&&o[1]<l[3])){i.label=o[1];break}if(6===o[0]&&i.label<l[1]){i.label=l[1];l=o;break}if(l&&i.label<l[2]){i.label=l[2];i.ops.push(o);break}l[2]&&i.ops.pop();i.trys.pop();continue}o=n.call(e,i)}catch(e){o=[6,e];r=0}finally{t=l=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};function Jn(){return(0,In.Z)(E.Z.getMediaEngine(),[_n.vA.WINDOW,_n.vA.SCREEN],{width:176,height:99}).then((function(e){var n=e.filter((function(e){return e.id.startsWith(_n.vA.SCREEN)}));return{windowSources:e.filter((function(e){return e.id.startsWith(_n.vA.WINDOW)})).sort((function(e,n){return Xn(n)-Xn(e)})),screenSources:n}}))}function Xn(e){var n=(0,_.ED)()?(0,M.Z)(C.ZP,y.Z):null,t=C.ZP.getRunningGames();return null!=n&&(0,
cn.Z)(e.id,n.windowHandle)?2:null!=t.find((function(n){return(0,cn.Z)(e.id,n.windowHandle)}))?1:0}function qn(e){var n=e.selectedSource,t=e.onChangeSelectedSource,o=Yn(l.useState(null),2),i=o[0],a=o[1],s=Yn(l.useState(null),2),c=s[0],d=s[1],f=Yn(l.useState(_n.vA.WINDOW),2),m=f[0],h=f[1],p=Yn(l.useState(!1),2),g=p[0],S=p[1],v=l.useRef(null),E=l.useRef(new Rn.Xp);l.useEffect((function(){var e=E.current;Jn().then((function(n){var t=n.screenSources,r=n.windowSources;a(t);d(r);e.start(1e3,Hn((function(){var e,n,t;return Kn(this,(function(r){switch(r.label){case 0:return[4,Jn()];case 1:e=r.sent(),n=e.screenSources,t=e.windowSources;a(n);d(t);return[2]}}))})))}));return function(){e.stop()}}),[]);var C=l.useCallback((function(e){if(null!==e){v.current=e;var n;S(null!==(n=!e.isScrolledToTop())&&void 0!==n&&n)}}),[]),b=m===_n.vA.WINDOW?c:i;if(null==b)return(0,r.jsx)(x.Z,{className:Bn().spinner,justify:x.Z.Justify.CENTER,align:x.Z.Align.CENTER,children:(0,r.jsx)(u.Spinner,{})})
;var O=b.map((function(e){var l=e.id,o=e.name,i=e.url,a=(null==n?void 0:n.id)===l;return(0,r.jsx)(u.Clickable,{className:A()(Bn().tile,zn({},Bn().selected,a)),onClick:function(){return t(e)},children:(0,r.jsxs)(x.Z,{direction:x.Z.Direction.VERTICAL,justify:x.Z.Justify.CENTER,align:x.Z.Align.CENTER,children:[(0,r.jsx)(x.Z,{justify:x.Z.Justify.CENTER,align:x.Z.Align.CENTER,children:(0,r.jsx)("div",{style:{backgroundImage:"url(".concat(i,")")},className:A()(Bn().sourceThumbnail,zn({},Bn().selected,a))})}),(0,r.jsx)(u.Text,{className:A()(Bn().sourceName,zn({},Bn().selected,a)),variant:"text-sm/normal",children:o})]})},l)}));return(0,r.jsxs)(l.Fragment,{children:[(0,r.jsxs)("div",{className:Bn().segmentContainer,children:[(0,r.jsx)(ve,{separator:g}),(0,r.jsx)(u.SegmentedControl,{options:[{name:te.Z.Messages.GO_LIVE_MODAL_APPLICATIONS,value:_n.vA.WINDOW},{name:te.Z.Messages.GO_LIVE_MODAL_SCREENS,value:_n.vA.SCREEN}],value:m,onChange:function(e){var n=e.value;return h(n)},
className:Bn().segmentControl,optionClassName:Bn().segmentControlOption})]}),(0,r.jsx)(u.AdvancedScroller,{ref:C,className:Bn().sourceScroller,onScroll:function(){var e=v.current;null!=e&&S(!e.isScrolledToTop())},children:(0,r.jsx)(Gn,{layout:Gn.Layout.WRAP,columns:2,className:Bn().sourceContainer,children:O})})]})}var Qn=t(785915);function $n(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function et(e,n,t,r,l,o,i){try{var a=e[o](i),s=a.value}catch(e){t(e);return}a.done?n(s):Promise.resolve(s).then(r,l)}function nt(e){return function(){var n=this,t=arguments;return new Promise((function(r,l){var o=e.apply(n,t);function i(e){et(o,r,l,i,a,"next",e)}function a(e){et(o,r,l,i,a,"throw",e)}i(void 0)}))}}function tt(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t;return e}function rt(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))));r.forEach((function(n){tt(e,n,t[n])}))}return e}function lt(e,n){n=null!=n?n:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})));t.push.apply(t,r)}return t}(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}));return e}function ot(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,l,o=[],i=!0,a=!1;try{for(t=t.call(e);!(i=(r=t.next()).done);i=!0){o.push(r.value);if(n&&o.length===n)break}}catch(e){a=!0;l=e}finally{
try{i||null==t.return||t.return()}finally{if(a)throw l}}return o}}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return $n(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return $n(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var it,at=function(e,n){var t,r,l,o,i={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(t)throw new TypeError("Generator is already executing.");for(;i;)try{if(t=1,r&&(l=2&o[0]?r.return:o[0]?r.throw||((l=r.return)&&l.call(r),
0):r.next)&&!(l=l.call(r,o[1])).done)return l;(r=0,l)&&(o=[2&o[0],l.value]);switch(o[0]){case 0:case 1:l=o;break;case 4:i.label++;return{value:o[1],done:!1};case 5:i.label++;r=o[1];o=[0];continue;case 7:o=i.ops.pop();i.trys.pop();continue;default:if(!(l=i.trys,l=l.length>0&&l[l.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!l||o[1]>l[0]&&o[1]<l[3])){i.label=o[1];break}if(6===o[0]&&i.label<l[1]){i.label=l[1];l=o;break}if(l&&i.label<l[2]){i.label=l[2];i.ops.push(o);break}l[2]&&i.ops.pop();i.trys.pop();continue}o=n.call(e,i)}catch(e){o=[6,e];r=0}finally{t=l=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};!function(e){e[e.GUILD=0]="GUILD";e[e.SOURCE=1]="SOURCE";e[e.CONFIRM=2]="CONFIRM"}(it||(it={}));function st(e,n){j.default.track(We.rMx.SCREENSHARE_FAILED,{source_id:e,screens:n.length})}function ut(e){
var n,o=e.selectGuild,P=void 0!==o&&o,A=e.selectSource,L=void 0===A||A,w=e.guildId,D=e.analyticsLocation,U=e.onClose,k=e.transitionState,G=function(){!function(){i()(null!=Y||null!=fe,"got nothing to stream");var e,n=null!==(e=null==z?void 0:z.id)&&void 0!==e?e:ue;i()(null!=n,"Received null target channel ID");var t,r=g.Z.getChannel(n),l=null!==(t=null==r?void 0:r.getGuildId())&&void 0!==t?t:w;null==z&&d.default.selectVoiceChannel(n);var o=pe,a=ve,s=Oe;if(!(0,R.Z)(o,a,s,K,J)){o=Z.tI.PRESET_VIDEO;a=Z.LY.RESOLUTION_720;s=Z.ws.FPS_30}(0,f.Rc)({preset:o,resolution:a,frameRate:s});var u=dn(Y,fe,C.ZP.getRunningGames()),m=(0,_.ED)()&&null!=u&&null!=u?u.pid:null;(0,f.WH)(l,n,{pid:m,sourceId:null==m&&null!=fe?fe.id:null,sourceName:null==m&&null!=fe?fe.name:null});nt((function(){return at(this,(function(e){switch(e.label){case 0:return[4,h.Z.hasPermission(Qn.Eu.SCREEN_RECORDING,{showAuthorizationError:!1})];case 1:e.sent()||c.Z.show({title:te.Z.Messages.WARNING_SCREEN_RECORDING_PERMISSION_TITLE,
body:te.Z.Messages.WARNING_SCREEN_RECORDING_PERMISSION_BODY});return[2]}}))}))()}();U()},F=function(){var e,n=null!==(e=null==Y?void 0:Y.pid)&&void 0!==e?e:null;(0,u.openModalLazy)(nt((function(){var e,l;return at(this,(function(o){switch(o.label){case 0:return[4,t.e(43315).then(t.bind(t,543315))];case 1:e=o.sent(),l=e.default;return[2,function(e){return(0,r.jsx)(l,lt(rt({},e),{handleStream:G,pid:n}))}]}}))})))},B=(0,s.cj)([p.Z],(function(){return p.Z.getState()})),V=B.preset,W=B.resolution,H=B.fps,z=(0,s.e7)([b.Z,g.Z],(function(){return g.Z.getChannel(b.Z.getVoiceChannelId())})),Y=(0,s.e7)([C.ZP,y.Z],(function(){return(0,_.ED)()?(0,M.Z)(C.ZP,y.Z):null})),K=(0,s.e7)([O.default],(function(){var e=O.default.getCurrentUser();i()(null!=e,"GoLiveModal: user cannot be undefined");return e})),J=(0,s.e7)([v.Z],(function(){var e;return null===(e=v.Z.getGuild(w))||void 0===e?void 0:e.premiumTier})),X=ot(null!==(n=T(V,K,J))&&void 0!==n?n:[Z.LY.RESOLUTION_720,Z.ws.FPS_30],2),q=X[0],Q=X[1]
;if(V!==Z.tI.PRESET_CUSTOM){W=q;H=Q}var $,ee=(0,N.Dt)(),ne=ot(l.useState(function(e,n){return e?it.GUILD:n?it.SOURCE:it.CONFIRM}(P,L)),2),re=ne[0],le=ne[1],oe=ot(l.useState(!1),2),ie=oe[0],ae=oe[1],se=ot(l.useState(null),2),ue=se[0],ce=se[1],de=ot(l.useState(null),2),fe=de[0],me=de[1],he=ot(l.useState(V),2),pe=he[0],ge=he[1],Se=ot(l.useState(W),2),ve=Se[0],Ee=Se[1],be=ot(l.useState(H),2),Oe=be[0],ye=be[1],xe=ot(l.useState(null!=w?w:null),2),Ne=xe[0],je=xe[1],_e=null!==($=null==z?void 0:z.id)&&void 0!==$?$:ue;l.useEffect((function(){var e=(0,_.ED)()?(0,M.Z)(C.ZP,y.Z):null,n=null!=(null==e?void 0:e.id)?S.Z.getGame(e.id):null;j.default.track(We.rMx.OPEN_MODAL,{type:"Go Live Modal",application_id:null==n?void 0:n.id,application_name:null==e?void 0:e.name,game_id:null==n?void 0:n.id,location_section:D})}),[D]);var Ie=l.useCallback((function(e,n,t){var r=T(e,K,J),l=ot(null!=r?r:[n,t],2),o=l[0],i=l[1];if(e!==pe){n=o;t=i}if(!(0,R.Z)(e,n,t,K,J)){var a=ot(T(Z.tI.PRESET_VIDEO,K,J),2);n=a[0]
;t=a[1]}t!==Oe&&ye(t);n!==ve&&Ee(n);o!==n||i!==t?ge(Z.tI.PRESET_CUSTOM):e!==pe&&ge(e)}),[K,J,Oe,ve,pe]);function Re(){return(Re=nt((function(e){var n,t,l,o;return at(this,(function(i){switch(i.label){case 0:e.preventDefault();if(re===it.SOURCE)return[2,le(it.CONFIRM)];n=dn(Y,fe,C.ZP.getRunningGames());t=I.default.supportsFeature(We.eRX.ELEVATED_HOOK)&&(null==n?void 0:n.elevated);return(0,_.id)()&&null!=fe?[4,E.Z.getMediaEngine().getDesktopSources()]:[3,2];case 1:l=i.sent();if((o=fe.id).startsWith("screen")&&l.length>0&&!l.some((function(e){return e.includes(o)}))){st(o,l);(0,u.openModal)((function(e){return(0,r.jsx)(u.ConfirmModal,lt(rt({header:te.Z.Messages.SCREENSHARE_RELAUNCH,confirmText:te.Z.Messages.OKAY,cancelText:te.Z.Messages.CANCEL,onConfirm:function(){return I.default.relaunch()}},e),{children:(0,r.jsx)(u.Text,{variant:"text-md/normal",children:te.Z.Messages.SCREENSHARE_RELAUNCH_BODY})}))}));return[2]}i.label=2;case 2:t?F():G();return[2]}}))}))).apply(this,arguments)}
var Ze=l.useCallback((function(e){me(e);if(null!=e){le(it.CONFIRM);ae(!0)}}),[]),Te=l.useCallback((function(e){je(e);le(L?it.SOURCE:it.CONFIRM)}),[L]),Me=function(e){switch(e){case it.SOURCE:return te.Z.Messages.GO_LIVE_MODAL_DESCRIPTION_SELECT_SOURCE;case it.CONFIRM:return null;case it.GUILD:default:return te.Z.Messages.GO_LIVE_MODAL_DESCRIPTION_GENERIC}}(re),Pe=(0,r.jsx)(u.ModalHeader,{className:Ce().modalHeader,separator:!1,children:(0,r.jsxs)(x.Z,{direction:x.Z.Direction.VERTICAL,align:x.Z.Align.CENTER,className:Ce().header,children:[(0,r.jsx)(u.Heading,{variant:"heading-xl/semibold",id:ee,className:Ce().headerText,children:te.Z.Messages.GO_LIVE_MODAL_TITLE}),null!=Me?(0,r.jsx)(u.Text,{className:Ce().headerDescription,variant:"text-md/normal",color:"text-normal",children:Me}):null]})}),Ae=(0,r.jsxs)(u.Slides,{springConfig:lt(rt({},a.config.stiff),{clamp:!0}),activeSlide:re,width:480,children:[(0,r.jsx)(u.Slide,{id:it.GUILD,children:(0,r.jsx)("div",{className:Ce().modalSize,
children:(0,r.jsx)(jn,{onSelectGuild:Te})})}),(0,r.jsx)(u.Slide,{id:it.SOURCE,children:(0,r.jsx)("div",{className:Ce().modalSize,children:(0,r.jsx)(qn,{selectedSource:fe,onChangeSelectedSource:Ze})})}),(0,r.jsx)(u.Slide,{id:it.CONFIRM,children:(0,r.jsx)("div",{className:Ce().modalSize,children:(0,r.jsx)(vn,{selectedChannelId:ue,selectedPreset:pe,selectedResolution:ve,selectedSource:fe,selectedFPS:Oe,sourceChanged:ie,selectSource:L,onChangeSelectedFPS:function(e){return Ie(pe,ve,e)},onChangeSelectedResolution:function(e){return Ie(pe,e,Oe)},onChangeSelectedPreset:function(e){return Ie(e,ve,Oe)},onChangeSelectedChannelId:ce,onChangeSource:function(){return le(it.SOURCE)},onChangeGuild:function(){return le(it.GUILD)},onClose:U,guildId:Ne,selectGuild:P})})})]}),Le=function(e,n,t,r){switch(e){case it.SOURCE:return n?it.GUILD:null;case it.CONFIRM:return r?it.SOURCE:!t&&n?it.GUILD:null;case it.GUILD:default:return null}}(re,P,L,ie),we=re!==it.CONFIRM||null==fe&&null==Y||null==_e,De=(0,
r.jsxs)(u.ModalFooter,{justify:null==Le?x.Z.Justify.START:x.Z.Justify.BETWEEN,children:[(0,r.jsx)(u.Button,{type:"submit",size:u.Button.Sizes.SMALL,disabled:we,autoFocus:!0,children:te.Z.Messages.GO_LIVE_MODAL_CTA}),null==Le?(0,r.jsx)(u.Button,{className:Ce().cancelButton,look:u.Button.Looks.LINK,size:u.Button.Sizes.SMALL,color:u.ButtonColors.PRIMARY,onClick:U,children:te.Z.Messages.CANCEL}):(0,r.jsx)(u.Button,{size:u.Button.Sizes.SMALL,color:u.ButtonColors.PRIMARY,onClick:function(){return le(Le)},children:te.Z.Messages.BACK})]});return(0,r.jsx)(m.Z,{page:We.ZY5.GO_LIVE_MODAL,children:(0,r.jsxs)(u.ModalRoot,{"aria-labelledby":ee,transitionState:k,size:u.ModalSize.DYNAMIC,className:Ce().modalSize,children:[(0,r.jsx)(u.ModalCloseButton,{onClick:U,className:Ce().modalCloseButton}),(0,r.jsx)("div",{className:Ce().art}),(0,r.jsxs)("form",{onSubmit:function(e){return Re.apply(this,arguments)},children:[Pe,Ae,De]})]})})}},68543:(e,n,t)=>{t.d(n,{Z:()=>c});var r=t(785893),l=(t(667294),
t(294184)),o=t.n(l),i=t(945460),a=t(501438),s=t.n(a),u=function(e){var n=e.data,t=e.disabled,l=n.content,a=n.className,u=n.onClick,c=n.disabled;return(0,r.jsx)(i.FocusRing,{children:(0,r.jsx)("button",{type:"button",className:o()(s().item,a),onClick:u,disabled:t||c,children:l})})};const c=function(e){var n=e.buttons,t=e.disabled,l=e.className;return(0,r.jsx)("div",{role:"group",className:o()(s().group,l),children:n.map((function(e,n){return(0,r.jsx)(u,{data:e,disabled:t},n)}))})}}}]);
//# sourceMappingURL=b3eb1b41ac14101103e7.js.map