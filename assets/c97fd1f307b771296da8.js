"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[65926],{910866:(e,n,t)=>{t.d(n,{m:()=>r});var r;!function(e){e.MP4="video/mp4"}(r||(r={}))},165926:(e,n,t)=>{t.d(n,{S:()=>De,Z:()=>Se});var r=t(785893),o=t(667294),c=t(294184),a=t.n(c),i=t(363010),l=t(365523),s=t(331535),u=t(600341),f=t(409271),d=t(404534),p=t(842592),O=t(859023),b=t(897576),g=t(74030),v=t(989822),y=t(910016),m=t(930149),h=t(972271),j=t(281081),E=t(859169),P=t(64833),w=t(136481),A=t(453642),M=t(757987),_=t(240243);function I(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t;return e}function x(e,n){n=null!=n?n:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})));t.push.apply(t,r)}return t
}(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}));return e}function k(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},c=Object.keys(e);for(r=0;r<c.length;r++){t=c[r];n.indexOf(t)>=0||(o[t]=e[t])}return o}(e,n);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++){t=c[r];n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}}return o}function C(e){var n=e.width,t=void 0===n?24:n,o=e.height,c=void 0===o?24:o,a=e.color,i=void 0===a?"currentColor":a,l=e.className,s=e.foreground,u=k(e,["width","height","color","className","foreground"]);return(0,r.jsx)("svg",x(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))))
;r.forEach((function(n){I(e,n,t[n])}))}return e}({},(0,_.Z)(u)),{className:l,width:t,height:c,viewBox:"0 0 32 32",children:(0,r.jsx)("path",{className:s,
d:"M10.5 24c0-3.682 2.318-6 6-6s6 2.318 6 6h-12zM16.5 16a4 4 0 100-8 4 4 0 000 8zM29.166 15.334H28.5a.334.334 0 00-.334.333v.667c0 .183.15.333.334.333h.666c.184 0 .334-.15.334-.333v-.667a.334.334 0 00-.334-.333zM26.5 15h-1.333a.334.334 0 00-.334.333v1.334c0 .183.15.333.334.333H26.5c.183 0 .334-.15.334-.333v-1.334A.334.334 0 0026.5 15zM31.167 16.333a.333.333 0 100-.667.333.333 0 000 .667zM29.166 11.334H28.5a.334.334 0 00-.334.333v.667c0 .183.15.333.334.333h.666c.184 0 .334-.15.334-.333v-.667a.334.334 0 00-.334-.333zM26.5 11h-1.333a.334.334 0 00-.334.333v1.334c0 .183.15.333.334.333H26.5c.183 0 .334-.15.334-.333v-1.334A.334.334 0 0026.5 11zM31.167 12.333a.333.333 0 100-.667.333.333 0 000 .667zM29.166 7.334H28.5a.335.335 0 00-.334.333v.667c0 .183.15.333.334.333h.666c.184 0 .334-.15.334-.333v-.667a.335.335 0 00-.334-.333zM26.5 7h-1.333a.335.335 0 00-.334.333v1.334c0 .183.15.333.334.333H26.5c.183 0 .334-.15.334-.333V7.333A.335.335 0 0026.5 7zM31.167 8.333a.333.333 0 100-.667.333.333 0 000 .667zM29.166 23.334H28.5a.334.334 0 00-.334.333v.667c0 .183.15.333.334.333h.666c.184 0 .334-.15.334-.333v-.667a.334.334 0 00-.334-.333zM26.5 23h-1.333a.334.334 0 00-.334.333v1.334c0 .183.15.333.334.333H26.5c.183 0 .334-.15.334-.333v-1.334A.334.334 0 0026.5 23zM31.167 24.333a.333.333 0 100-.667.333.333 0 000 .667zM29.166 19.334H28.5a.334.334 0 00-.334.333v.667c0 .183.15.333.334.333h.666c.184 0 .334-.15.334-.333v-.667a.334.334 0 00-.334-.333zM26.5 19h-1.333a.334.334 0 00-.334.333v1.334c0 .183.15.333.334.333H26.5c.183 0 .334-.15.334-.333v-1.334A.334.334 0 0026.5 19zM31.167 20.333a.333.333 0 100-.667.333.333 0 000 .667zM4.5 15.334h-.667a.334.334 0 00-.333.333v.667c0 .183.15.333.333.333H4.5c.183 0 .333-.15.333-.333v-.667a.334.334 0 00-.333-.333zM7.833 15H6.5a.335.335 0 00-.333.333v1.334c0 .183.15.333.333.333h1.333c.184 0 .333-.15.333-.333v-1.334A.334.334 0 007.833 15zM1.833 16.333a.333.333 0 100-.667.333.333 0 000 .667zM4.5 11.334h-.667a.334.334 0 00-.333.333v.667c0 .183.15.333.333.333H4.5c.183 0 .333-.15.333-.333v-.667a.334.334 0 00-.333-.333zM7.833 11H6.5a.335.335 0 00-.333.333v1.334c0 .183.15.333.333.333h1.333c.184 0 .333-.15.333-.333v-1.334A.334.334 0 007.833 11zM1.833 12.333a.333.333 0 100-.667.333.333 0 000 .667zM4.5 7.334h-.667a.335.335 0 00-.333.333v.667c0 .183.15.333.333.333H4.5c.183 0 .333-.15.333-.333v-.667a.335.335 0 00-.333-.333zM7.833 7H6.5a.335.335 0 00-.333.333v1.334c0 .183.15.333.333.333h1.333c.184 0 .333-.15.333-.333V7.333A.335.335 0 007.833 7zM1.833 8.333a.333.333 0 100-.667.333.333 0 000 .667zM4.5 23.334h-.667a.334.334 0 00-.333.333v.667c0 .183.15.333.333.333H4.5c.183 0 .333-.15.333-.333v-.667a.334.334 0 00-.333-.333zM7.833 23H6.5a.335.335 0 00-.333.333v1.334c0 .183.15.333.333.333h1.333c.184 0 .333-.15.333-.333v-1.334A.334.334 0 007.833 23zM1.833 24.333a.333.333 0 100-.667.333.333 0 000 .667zM4.5 19.334h-.667a.334.334 0 00-.333.333v.667c0 .183.15.333.333.333H4.5c.183 0 .333-.15.333-.333v-.667a.334.334 0 00-.333-.333zM7.833 19H6.5a.335.335 0 00-.333.333v1.334c0 .183.15.333.333.333h1.333c.184 0 .333-.15.333-.333v-1.334A.334.334 0 007.833 19zM1.833 20.333a.333.333 0 100-.667.333.333 0 000 .667z",
fill:i})}))}var D=t(760654),S=t(732031),N=t(52074),R=t(10178),Z=t(88414),B=t(226300),T=t(109813),V=t(932847),U=t(917870),L=t(346529),z=t(352555),H=t(271606),G=t(461061),W=t(682881),K=t(476154),F=t(298716),q=t(959797),X=t(750812),Y=t.n(X);function $(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function J(e,n,t,r,o,c,a){try{var i=e[c](a),l=i.value}catch(e){t(e);return}i.done?n(l):Promise.resolve(l).then(r,o)}function Q(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var c=e.apply(n,t);function a(e){J(c,r,o,a,i,"next",e)}function i(e){J(c,r,o,a,i,"throw",e)}a(void 0)}))}}function ee(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t;return e}function ne(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){
return Object.getOwnPropertyDescriptor(t,e).enumerable}))));r.forEach((function(n){ee(e,n,t[n])}))}return e}function te(e,n){n=null!=n?n:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})));t.push.apply(t,r)}return t}(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}));return e}function re(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},c=Object.keys(e);for(r=0;r<c.length;r++){t=c[r];n.indexOf(t)>=0||(o[t]=e[t])}return o}(e,n);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++){t=c[r];n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}}return o}function oe(e,n){return function(e){
if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,c=[],a=!0,i=!1;try{for(t=t.call(e);!(a=(r=t.next()).done);a=!0){c.push(r.value);if(n&&c.length===n)break}}catch(e){i=!0;o=e}finally{try{a||null==t.return||t.return()}finally{if(i)throw o}}return c}}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return $(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return $(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ce=function(e,n){var t,r,o,c,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return c={next:i(0),throw:i(1),return:i(2)},
"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function i(c){return function(i){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;(r=0,o)&&(c=[2&c[0],o.value]);switch(c[0]){case 0:case 1:o=c;break;case 4:a.label++;return{value:c[1],done:!1};case 5:a.label++;r=c[1];c=[0];continue;case 7:c=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===c[0]||2===c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1];o=c;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(c);break}o[2]&&a.ops.pop();a.trys.pop();continue}c=n.call(e,a)}catch(e){c=[6,e];r=0}finally{t=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,i])}}};function ae(e){
var n,t=e.icon,o=e.iconClassName,c=e.onClick,i=e.text,l=e.children,u=e.className,f=e.selected,d=void 0!==f&&f,p=e.disabled,O=void 0!==p&&p,b=e.onMouseLeave,g=e.onBlur;return(0,r.jsxs)(s.P3,{className:a()(u,Y().backgroundOption,(n={},ee(n,Y().backgroundOptionSelected,d),ee(n,Y().backgroundOptionDisabled,O),n)),onMouseLeave:b,onBlur:g,onClick:O?void 0:c,children:[d?(0,r.jsx)("div",{className:Y().backgroundOptionRing}):null,(0,r.jsxs)("div",{className:Y().backgroundOptionInner,children:[l,(0,r.jsxs)("div",{className:Y().backgroundOptionContent,children:[(0,r.jsx)(t,{className:a()(Y().backgroundIconOptionIcon,o)}),(0,r.jsx)(s.xv,{className:Y().backgroundOptionText,color:"none",variant:"text-sm/normal",children:i})]})]})]})}function ie(e){var n=e.option,t=e.source,c=e.isAnimated,a=oe(o.useState(!1),2),i=a[0],l=a[1];o.useEffect((function(){(new Image).src=t}),[t]);if(!c||null==n)return(0,r.jsx)("div",{className:Y().backgroundImageOption,style:{backgroundImage:"url(".concat(t,")")}})
;var s=(0,U.rI)({userId:n.user_id,assetId:n.id,assetHash:n.asset,size:720,canAnimate:!1});return(0,r.jsx)("img",{onMouseMove:function(){return l(!0)},onMouseLeave:function(){return l(!1)},className:Y().backgroundImageOption,src:i?t:s,alt:n.id})}function le(e){var n=function(){if(null!=b&&h){w.Kw(b);V.default.track(G.rMx.PREMIUM_UPSELL_VIEWED,{type:F.cd.ANIMATED_VIDEO_BACKGROUND_NEW_PRESET,location:v.location,location_stack:m})}},o=e.option,c=e.source,l=e.selected,u=void 0!==l&&l,f=e.onSelectOption,d=e.isAnimatedImage,O=e.isVideo,b=e.hotspotLocation,g=re(e,["option","source","selected","onSelectOption","isAnimatedImage","isVideo","hotspotLocation"]),v=(0,p.O)(),m=(0,P.Z)(E.Z.VIDEO_BACKGROUND_IMAGE_OPTION).analyticsLocations,h=(0,i.e7)([A.Z],(function(){return null!=b&&A.Z.hasHotspot(b)})),M=O?(0,r.jsx)(T.Z,{className:Y().backgroundImageOption,src:c,loop:!0,playOnHover:!0,muted:!0}):(0,r.jsx)(ie,{isAnimated:d,option:(0,y.rD)(o)?o:void 0,source:c});return(0,r.jsxs)(s.P3,te(ne({},g),{
className:a()(Y().backgroundOption,ee({},Y().backgroundOptionSelected,u)),onClick:function(){return f(o)},onContextMenu:function(e){return(0,j.jW)(e,Q((function(){var e,n;return ce(this,(function(c){switch(c.label){case 0:return[4,Promise.all([t.e(40532),t.e(40721),t.e(69672),t.e(33201)]).then(t.bind(t,433201))];case 1:e=c.sent(),n=e.default;return[2,function(e){return(0,r.jsx)(n,te(ne({},e),{backgroundOption:o,optionIsInUse:u}))}]}}))})))},children:[u?(0,r.jsx)("div",{className:Y().backgroundOptionRing}):null,(0,r.jsx)("div",{onFocus:n,onMouseEnter:n,className:Y().backgroundOptionInner,children:M}),O||d?(0,r.jsx)(R.Z,{className:Y().playIcon}):null,h&&(0,r.jsx)(B.IG,{text:q.Z.Messages.NEW,className:Y().newTextBadge})]}))}function se(){return(0,r.jsxs)("div",{className:Y().customBackgroundTooltip,children:[(0,r.jsx)(S.Z,{className:Y().customBackgroundTooltipIcon}),(0,r.jsx)(s.xv,{variant:"text-sm/normal",children:q.Z.Messages.CAMERA_PREVIEW_VIDEO_BACKGROUND_CUSTOM_TOOLTIP})]})}
function ue(e){var n=e.onClick,t=e.tooltipText,o=e.disabled,c=void 0!==o&&o,a=function(){w.Kw(W.v.ANIMATED_VIDEO_BG_CUSTOM_TOOLTIP_NEW)},l=(0,i.e7)([A.Z],(function(){return A.Z.hasHotspot(W.v.ANIMATED_VIDEO_BG_CUSTOM_TOOLTIP_NEW)})),s=l?q.Z.Messages.CAMERA_PREVIEW_VIDEO_BACKGROUND_NEW_ANIMATED_TOOLTIP:t;return(0,r.jsxs)(M.DY,{text:s,className:Y().newBackgroundTooltipContainer,children:[(0,r.jsxs)(ae,{className:Y().backgroundOptionBlurred,disabled:c,icon:D.Z,iconClassName:Y().uploadIconOption,onClick:n,onMouseLeave:a,onBlur:a,text:(0,r.jsxs)("div",{className:Y().backgroundCustomInlineUpsell,children:[(0,r.jsx)(S.Z,{className:Y().backgroundCustomInlineUpsellIcon}),(0,r.jsx)("div",{className:Y().overflowEllipsis,children:q.Z.Messages.CAMERA_PREVIEW_VIDEO_BACKGROUND_CUSTOM})]}),children:[(0,r.jsx)("div",{className:Y().backgroundCustomInlineUpsellBackground}),(0,r.jsx)("div",{className:Y().backgroundCustomInlineUpsellBackgroundDarkener})]}),l&&(0,r.jsx)(B.IG,{text:q.Z.Messages.NEW,
className:Y().newTextBadge})]})}function fe(e){var n=e.onClick,t=(0,p.O)(),c=(0,P.Z)(E.Z.VIDEO_BACKGROUND_CUSTOM_UPSELL).analyticsLocations;o.useEffect((function(){V.default.track(G.rMx.PREMIUM_UPSELL_VIEWED,{type:F.cd.VIDEO_BACKGROUNDS_INLINE,location:t.location,location_stack:c})}),[]);return(0,r.jsx)(ue,{onClick:n,tooltipText:q.Z.Messages.CAMERA_PREVIEW_VIDEO_BACKGROUND_UPSELL_TOOLTIP})}function de(e){var n=e.onAddBackgroundImage,o=e.disabled,c=(0,Z.v)(),a=o?q.Z.Messages.CAMERA_PREVIEW_VIDEO_BACKGROUND_UPLOAD_TOOLTIP_MAX_REACHED.format({maxCustomBackgrounds:25}):q.Z.Messages.CAMERA_PREVIEW_VIDEO_BACKGROUND_UPLOAD_TOOLTIP_PREMIUM,i=[{name:q.Z.Messages.IMAGES,extensions:["jpg","jpeg","png","gif","mp4"]}];return(0,r.jsx)(ue,{disabled:o,onClick:function(){(0,b.ZD)(Q((function(){var e,o;return ce(this,(function(c){switch(c.label){case 0:return[4,Promise.all([t.e(40532),t.e(1513),t.e(56345),t.e(69656),t.e(77517),t.e(37886),t.e(89068),t.e(32841),t.e(54189)]).then(t.bind(t,189068))];case 1:
e=c.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,ne({maxFileSizeBytes:H.SJ,onComplete:n,uploadType:K.pC.VIDEO_BACKGROUND,filters:i,modalTitle:q.Z.Messages.UPLOAD_BACKGROUND,imageSpecifications:q.Z.Messages.CAMERA_PREVIEW_VIDEO_BACKGROUND_UPLOAD_SUBTITLE,uploadOptionTitle:q.Z.Messages.SELECT_IMAGE_MODAL_UPLOAD_IMAGE_OR_VIDEO,showUpsellHeader:!0},e))}]}}))})),{contextKey:c})},tooltipText:a})}function pe(e){var n=e.canUseCustomBackgrounds,t=e.customBackgroundOptions,c=e.selectedOption,a=e.onSelectOption,i=e.onUpsellClick,l=e.onAddBackgroundImage,s=e.smallerOptions,u=o.useMemo((function(){return t.sort((function(e,n){return null==e.last_used||null==n.last_used?L.Z.compare(n.id,e.id):new Date(n.last_used).getTime()-new Date(e.last_used).getTime()}))}),[t]),f=u.length>=25,d=(0,P.Z)(E.Z.VIDEO_BACKGROUND_OPTIONS).AnalyticsLocationProvider,p=Object.values((0,z.Z)()).sort((function(e,n){return H.E1[e.id]-H.E1[n.id]}));return(0,r.jsx)(d,{children:(0,r.jsxs)("div",{
className:s?Y().backgroundOptionsSmall:Y().backgroundOptionsLarge,children:[(0,r.jsx)(ae,{selected:null==c,icon:N.Z,iconClassName:Y().noneOptionIcon,onClick:function(){return a(null)},text:q.Z.Messages.CAMERA_PREVIEW_VIDEO_BACKGROUND_NONE}),(0,r.jsx)(ae,{className:Y().backgroundOptionBlurred,selected:c===H.f7,icon:C,iconClassName:Y().blurOptionIcon,onClick:function(){return a(H.f7)},text:q.Z.Messages.CAMERA_PREVIEW_VIDEO_BACKGROUND_BLUR,children:(0,r.jsx)("div",{className:Y().backgroundOptionBlurBackground})}),n?(0,r.jsx)(de,{onAddBackgroundImage:l,disabled:f}):(0,r.jsx)(fe,{onClick:i}),u.map((function(e){return(0,r.jsx)(M.ZP,{text:(0,r.jsx)(se,{}),"aria-label":q.Z.Messages.CAMERA_PREVIEW_VIDEO_BACKGROUND_CUSTOM_TOOLTIP,children:function(n){var t=(0,U.rI)({userId:e.user_id,assetId:e.id,assetHash:e.asset,size:720});return null==t?null:(0,o.createElement)(le,te(ne({},n),{key:e.id,option:e,source:t,selected:(0,y.rD)(c)&&c.id===e.id,onSelectOption:a,isVideo:(0,U.ay)(e.asset),
isAnimatedImage:(0,U.xR)(e.asset)}))}},e.id)})),p.map((function(e){var n=!0===e.isVideo;return(0,r.jsx)(M.ZP,{text:e.name,"aria-label":e.name,children:function(t){return(0,o.createElement)(le,te(ne({},t),{key:e.id,option:e.id,source:e.source,selected:c===e.id,onSelectOption:a,isVideo:n,isAnimatedImage:!1,hotspotLocation:e.hotspotLocation}))}},e.id)}))]})})}var Oe=t(910866),be=t(816725),ge=t.n(be);function ve(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function ye(e,n,t,r,o,c,a){try{var i=e[c](a),l=i.value}catch(e){t(e);return}i.done?n(l):Promise.resolve(l).then(r,o)}function me(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var c=e.apply(n,t);function a(e){ye(c,r,o,a,i,"next",e)}function i(e){ye(c,r,o,a,i,"throw",e)}a(void 0)}))}}function he(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t;return e}function je(e){for(var n=1;n<arguments.length;n++){
var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))));r.forEach((function(n){he(e,n,t[n])}))}return e}function Ee(e,n){n=null!=n?n:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})));t.push.apply(t,r)}return t}(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}));return e}function Pe(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,c=[],a=!0,i=!1;try{for(t=t.call(e);!(a=(r=t.next()).done);a=!0){
c.push(r.value);if(n&&c.length===n)break}}catch(e){i=!0;o=e}finally{try{a||null==t.return||t.return()}finally{if(i)throw o}}return c}}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return ve(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ve(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var we=function(e,n){var t,r,o,c,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return c={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function i(c){return function(i){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,
r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;(r=0,o)&&(c=[2&c[0],o.value]);switch(c[0]){case 0:case 1:o=c;break;case 4:a.label++;return{value:c[1],done:!1};case 5:a.label++;r=c[1];c=[0];continue;case 7:c=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===c[0]||2===c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1];o=c;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(c);break}o[2]&&a.ops.pop();a.trys.pop();continue}c=n.call(e,a)}catch(e){c=[6,e];r=0}finally{t=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,i])}}};function Ae(e){var n=e.onLearnMore,c=e.selectedBackgroundOption,a=e.onSelectBackgroundOption,l=e.currentDeviceId,u=e.smallerBackgroundOptions,f=(0,i.e7)([O.default],(function(){return O.default.getCurrentUser()})),j=Pe(o.useState(null),2),E=j[0],P=j[1],w=(0,
h.Z)(),A=g.ZP.canUseCustomBackgrounds(f),M=(0,i.cj)([v.Z],(function(){return A?v.Z.videoFilterAssets:{}})),_=o.useMemo((function(){return Object.values(M).filter((function(e){return e.type===H.xV.BACKGROUND}))}),[M]),I=(0,p.O)();o.useEffect((function(){w?(0,m.FU)(c,l,{track:!1}).catch((function(){return a(null)})):null!=c&&a(null)}),[l]);var x=function(e){a(e);(0,m.FU)(e,l,{location:I.location}).then((function(){return P(null)})).catch((function(){P(q.Z.Messages.VIDEO_BACKGROUND_ERROR_APPLY);(0,m.FU)(null,l,{location:I.location})}))};return w?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.X6,{className:ge().spacingTop24,variant:"eyebrow",color:"header-secondary",children:q.Z.Messages.CAMERA_PREVIEW_VIDEO_BACKGROUND}),null!=E?(0,r.jsx)(s.kz,{className:ge().videoBackgroundError,children:E}):null,(0,r.jsx)(pe,{canUseCustomBackgrounds:A,customBackgroundOptions:_,selectedOption:c,onSelectOption:x,onUpsellClick:function(){(0,b.ZD)(me((function(){var e,o;return we(this,(function(c){
switch(c.label){case 0:return[4,Promise.all([t.e(40532),t.e(1513),t.e(56345),t.e(69656),t.e(77517),t.e(37886),t.e(32841),t.e(17143)]).then(t.bind(t,351341))];case 1:e=c.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,Ee(je({},e),{onLearnMore:n,analyticsSource:Ee(je({},I.location),{object:G.qAy.BUTTON_CTA})}))}]}}))})))},onAddBackgroundImage:function(e,n){var t,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise((t=me((function(t){var o,c;return we(this,(function(a){switch(a.label){case 0:a.trys.push([0,2,,3]);return[4,(0,d.Ff)(e,H.xV.BACKGROUND)];case 1:o=a.sent();x(o);(0,y.g5)(o,n.type===Oe.m.MP4,r);P(null);return[3,3];case 2:c=a.sent();P(c.message);return[3,3];case 3:t();return[2]}}))})),function(e){return t.apply(this,arguments)}))},smallerOptions:u})]}):null}var Me=t(934714),_e=t(895598),Ie=t.n(_e);function xe(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function ke(e,n,t){
n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t;return e}function Ce(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,c=[],a=!0,i=!1;try{for(t=t.call(e);!(a=(r=t.next()).done);a=!0){c.push(r.value);if(n&&c.length===n)break}}catch(e){i=!0;o=e}finally{try{a||null==t.return||t.return()}finally{if(i)throw o}}return c}}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return xe(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return xe(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function De(){
var e=Ce(o.useState(!1),2),n=e[0],t=e[1],c=(0,i.e7)([Me.Z],(function(){return Me.Z.isMediaFilterSettingLoading()}));o.useEffect((function(){var e=new l.V7;if(c)e.start(150,(function(){t(!0)}));else{e.stop();t(!1)}return function(){return e.stop()}}),[c]);return n?(0,r.jsx)("div",{className:Ie().filterLoadingIndicator,children:(0,r.jsx)(s.$j,{})}):null}function Se(e){var n=e.hideDeviceSelector,t=void 0!==n&&n,c=e.hideDeviceHeader,l=void 0!==c&&c,p=e.onLearnMore,O=e.selectedBackgroundOption,b=e.onSelectBackgroundOption,g=e.renderCamera,v=e.hidePreviewToggle,y=void 0!==v&&v,m=e.showSmallBackgroundOptions,h=void 0!==m&&m,j=(0,i.e7)([Me.Z],(function(){return Me.Z.getVideoDeviceId()})),E=(0,i.Wu)([Me.Z],(function(){return Object.values(Me.Z.getVideoDevices())})),P=f.qF.useSetting(),w=E.map((function(e){return{value:e.id,label:e.name}}));o.useEffect((function(){(0,d.XV)()}),[]);return(0,r.jsxs)(r.Fragment,{children:[g(j),Me.Z.isEnabled()?null:(0,r.jsx)(s.xv,{className:Ie().permissionWarning,
color:"interactive-normal",variant:"text-sm/normal",children:q.Z.Messages.FORM_WARNING_VIDEO_PREVIEW.format({onEnableClick:u.Z.enable})}),y?null:(0,r.jsx)(s.j7,{className:Ie().previewToggle,note:q.Z.Messages.CAMERA_PREVIEW_ALWAYS_PREVIEW_NOTE,onChange:function(e){f.qF.updateSetting(e);V.default.track(G.rMx.UPDATE_USER_SETTINGS_LOCAL,{always_preview_video:e})},value:P,hideBorder:!0,children:(0,r.jsx)("div",{className:Ie().cameraPreviewTitle,children:q.Z.Messages.CAMERA_PREVIEW_ALWAYS_PREVIEW})}),t?null:(0,r.jsxs)(r.Fragment,{children:[l?null:(0,r.jsx)(s.X6,{className:Ie().spacingTop24,variant:"eyebrow",color:"header-secondary",children:q.Z.Messages.CAMERA_PREVIEW_CAMERA}),(0,r.jsx)(s.q4,{placeholder:q.Z.Messages.CHANGE_CAMERA,className:a()(Ie().selector,ke({},Ie().selectorNoHeader,l)),options:w,value:j,onChange:function(e){return u.Z.setVideoDevice(e)}})]}),(0,r.jsx)(Ae,{onLearnMore:p,selectedBackgroundOption:O,onSelectBackgroundOption:b,currentDeviceId:j,smallerBackgroundOptions:h})]})
}},760654:(e,n,t)=>{t.d(n,{Z:()=>l});var r=t(785893),o=(t(667294),t(240243));function c(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t;return e}function a(e,n){n=null!=n?n:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})));t.push.apply(t,r)}return t}(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}));return e}function i(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},c=Object.keys(e);for(r=0;r<c.length;r++){t=c[r];n.indexOf(t)>=0||(o[t]=e[t])}return o}(e,n);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++){t=c[r]
;n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}}return o}function l(e){var n=e.width,t=void 0===n?24:n,l=e.height,s=void 0===l?24:l,u=e.color,f=void 0===u?"currentColor":u,d=i(e,["width","height","color"]);return(0,r.jsxs)("svg",a(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))));r.forEach((function(n){c(e,n,t[n])}))}return e}({},(0,o.Z)(d)),{width:t,height:s,viewBox:"0 0 24 24",fill:"none",children:[(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",
d:"M13.2899 2L6 2C3.79086 2 2 3.79086 2 6V18C2 20.2091 3.79086 22 6 22H18C20.2091 22 22 20.2091 22 18V10.7101C21.3663 10.8987 20.695 11 20 11C16.134 11 13 7.86599 13 4C13 3.30503 13.1013 2.63371 13.2899 2ZM8 6C9.1032 6 10 6.8952 10 8C10 9.1056 9.1032 10 8 10C6.8944 10 6 9.1056 6 8C6 6.8952 6.8944 6 8 6ZM6 18L9 14L11 16L15 11L18 18H6Z",fill:f}),(0,r.jsx)("path",{d:"M21 0V3H24V5H21V8H19V5H16V3H19V0H21Z",fill:f})]}))}},52074:(e,n,t)=>{t.d(n,{Z:()=>l});var r=t(785893),o=(t(667294),t(240243));function c(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t;return e}function a(e,n){n=null!=n?n:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})));t.push.apply(t,r)}return t}(Object(n)).forEach((function(t){
Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}));return e}function i(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},c=Object.keys(e);for(r=0;r<c.length;r++){t=c[r];n.indexOf(t)>=0||(o[t]=e[t])}return o}(e,n);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++){t=c[r];n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}}return o}function l(e){var n=e.width,t=void 0===n?24:n,l=e.height,s=void 0===l?24:l,u=e.color,f=void 0===u?"currentColor":u,d=e.className,p=e.foreground,O=i(e,["width","height","color","className","foreground"]);return(0,r.jsxs)("svg",a(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))));r.forEach((function(n){c(e,n,t[n])}))}
return e}({},(0,o.Z)(O)),{className:d,width:t,height:s,viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),(0,r.jsx)("path",{className:p,fill:f,d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8 0-1.85.63-3.55 1.69-4.9L16.9 18.31C15.55 19.37 13.85 20 12 20zm6.31-3.1L7.1 5.69C8.45 4.63 10.15 4 12 4c4.42 0 8 3.58 8 8 0 1.85-.63 3.55-1.69 4.9z"})]}))}}}]);
//# sourceMappingURL=c97fd1f307b771296da8.js.map