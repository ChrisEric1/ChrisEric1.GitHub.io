"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[48073],{648073:(e,r,t)=>{t.d(r,{BC:()=>Z,ZP:()=>z});var n=t(785893),i=t(667294),l=t(294184),o=t.n(l),a=t(608575),s=t(331535),u=t(493316),d=t(282983),c=t(894827),h=t(142092),p=t(109813),m=t(461061),f=t(959797);function b(e,r,t){r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t;return e}function y(e,r){r=null!=r?r:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):function(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})));t.push.apply(t,n)}return t}(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}));return e}function g(e,r){if(null==e)return{};var t,n,i=function(e,r){if(null==e)return{};var t,n,i={},l=Object.keys(e)
;for(n=0;n<l.length;n++){t=l[n];r.indexOf(t)>=0||(i[t]=e[t])}return i}(e,r);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++){t=l[n];r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}}return i}function v(e){var r=e.poster,t=e.src,l=e.width,o=e.height,a=e.naturalWidth,s=e.naturalHeight,u=e.play,d=void 0===u||u,c=e.className,h=e.alt,f=e.responsive,b=i.useRef(null);i.useEffect((function(){var e=b.current;null!=e&&(d?e.play():e.pause())}),[d]);return a<=m.N_j&&s<=m.XKF||a<=m.XKF&&s<=m.N_j?(0,n.jsx)(p.Z,{ref:b,className:c,poster:r,src:t,width:l,height:o,responsive:f,muted:!0,loop:!0,autoPlay:d,preload:"none","aria-label":h}):(0,n.jsx)("img",{alt:"",src:r,width:l,height:o})}function x(e){
var r=e.src,t=e.poster,i=e.naturalWidth,l=e.naturalHeight,o=e.responsive,a=e.autoPlay,s=e.className,u=e.playable,d=void 0===u||u,c=e.renderImageComponent,p=e.alt,m=void 0===p?f.Z.Messages.GIF:p,x=g(e,["src","poster","naturalWidth","naturalHeight","responsive","autoPlay","className","playable","renderImageComponent","alt"]);return(0,n.jsx)(h.h.Consumer,b({},"children",(function(e){return c(y(function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))));n.forEach((function(r){b(e,r,t[r])}))}return e}({},x),b({alt:m,src:t,containerClassName:s,autoPlay:a,animated:d,responsive:o,renderAccessory:e,tabIndex:d?0:-1},"children",(function(e){var t=e.src,a=e.size,u=e.animating,c=e.alt;return(0,n.jsx)(v,{alt:c,className:s,poster:t,src:r,width:a.width,height:a.height,naturalWidth:i,
naturalHeight:l,responsive:o,play:d&&u})}))))})))}var w=t(81320),j=t(922499),O=t(21813),P=t(401386),S=t(719455),C=t(110995),I=t(976102),N=t(64027),M=t(220408),E=t.n(M),k=t(169595),H=t.n(k);function A(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function D(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _(e,r,t){r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t;return e}function W(e){W=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return W(e)}function T(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))));n.forEach((function(r){_(e,r,t[r])}))}return e}function V(e,r){r=null!=r?r:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):function(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})));t.push.apply(t,n)}return t}(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}));return e}function L(e,r){return!r||"object"!==F(r)&&"function"!=typeof r?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):r}function R(e,r){R=Object.setPrototypeOf||function(e,r){e.__proto__=r;return e};return R(e,r)}function B(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,i,l=[],o=!0,a=!1;try{for(t=t.call(e);!(o=(n=t.next()).done);o=!0){l.push(n.value);if(r&&l.length===r)break
}}catch(e){a=!0;i=e}finally{try{o||null==t.return||t.return()}finally{if(a)throw i}}return l}}(e,r)||function(e,r){if(!e)return;if("string"==typeof e)return A(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return A(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var F=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function G(e){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var t,n=W(e);if(r){
var i=W(this).constructor;t=Reflect.construct(n,arguments,i)}else t=n.apply(this,arguments);return L(this,t)}}function Z(e){var r=e.className,t=e.iframeWrapperClassName,l=e.maxWidth,s=e.maxHeight,u=e.thumbnail,d=e.video,h=e.allowFullScreen,p=void 0===h||h,m=e.responsive,f=void 0!==m&&m,b=e.renderImageComponent,y=e.renderVideoComponent,g=e.renderLinkComponent,v=e.playable,x=void 0===v||v,w=e.autoPlay,j=void 0!==w&&w,P=e.autoMute,S=e.volume,I=e.onPlay,N=e.onEnded,M=e.onVolumeChange,k=e.onMute,H=e.href,A=B(i.useState(j),2),D=A[0],_=A[1],W=function(e){e.preventDefault();e.stopPropagation();null==I||I(!1);_(!0)},L=u.width,R=u.height;if(null!=d){L=d.width;R=d.height}var F=(0,c.Tj)({width:L,height:R,maxWidth:l,maxHeight:s});L=Math.max(F.width,150);R=Math.max(F.height,144);var G=(0,C.q)(u);if(null!=d&&null!=d.proxyURL)return(0,n.jsx)("div",{className:o()(E().embedVideo,r),children:y({poster:G,src:d.proxyURL,width:L,height:R,responsive:f,autoPlay:j,onEnded:N,naturalWidth:d.width,
naturalHeight:d.height,onVolumeChange:M,playable:x,autoMute:P,volume:S,onPlay:I,onMute:k})});if(D&&null!=d){var Z=a.parse(d.url,!0);Z.query=V(T({},Z.query),{autoplay:"1",auto_play:"1"});(!0===P||"function"==typeof P&&P())&&(Z.query.mute="1");Z.search=null;var U,q=a.format(Z),z={width:L,height:R},J={width:L,height:R};if(f){z={maxWidth:l,maxHeight:s,width:void 0,height:void 0};J={paddingBottom:"".concat(100*(0!==L?R/L:1),"%"),maxWidth:L};U={position:"absolute",top:0,left:0,maxWidth:L,maxHeight:R}}return(0,n.jsx)("div",{className:r,style:z,children:(0,n.jsx)("div",{className:o()(E().embedVideo,t),style:J,children:(0,n.jsx)("iframe",{className:E().embedIframe,src:q,style:U,width:L,height:R,frameBorder:0,scrolling:"no",allowFullScreen:p,sandbox:"allow-forms allow-modals allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts"})})})}return(0,n.jsxs)("div",{className:o()(E().embedVideo,r),style:f?{maxWidth:L}:{width:L,height:R},children:[b({src:G,width:L,height:R,
maxWidth:L,maxHeight:R,responsive:f,containerClassName:E().embedVideoImageComponent,imageClassName:E().embedVideoImageComponentInner,onClick:x&&null!=d?W:null}),(0,n.jsx)("div",{className:E().embedVideoActions,children:(0,n.jsx)("div",{className:E().centerContent,children:x?(0,n.jsx)(O.Z,{onPlay:null!=d?W:null,externalURL:H,renderLinkComponent:g}):null})})]})}function U(e){var r=e.className,t=e.href,i=e.autoPlay,l=e.maxWidth,a=e.maxHeight,s=e.thumbnail,u=e.video,d=e.renderImageComponent,c=e.responsive,h=e.alt,p=e.playable,m=void 0===p||p,f=e.hiddenSpoilers;return(0,n.jsx)(x,{className:o()(E().embedVideo,r),original:t,poster:(0,C.q)(s),src:(0,C.q)(u),alt:h,width:s.width,height:s.height,naturalHeight:u.height,naturalWidth:u.width,maxWidth:l,maxHeight:a,responsive:c,autoPlay:i,playable:m,renderImageComponent:d,hiddenSpoilers:f})}function q(e){var r=e.className,t=e.embed.url;if(null==t)return null;var i=null,l=null;try{var s=a.parse(t,!0);i=s.host;l=s.pathname}catch(e){return null}
if("open.spotify.com"!==i||null==l)return null;var u=l.split("/"),d=null!=u[1]?u[1].toLowerCase():null,c=null!=u[3]?u[3].toLowerCase():null,h=u[4];if(!["track","playlist","album","artist","user","show","episode"].includes(null!=d?d:"")||"user"===d&&"playlist"!==c)return null;"user"===d&&"playlist"===c&&null!=h&&(l="/playlist/".concat(h));var p=352;"track"===d?p=80:"episode"!==d&&"show"!==d||(p=232);return(0,n.jsx)("iframe",{className:o()(E().embedSpotify,r),src:N.C7.EMBED(l),style:{width:400,height:p},frameBorder:0,sandbox:"allow-forms allow-modals allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts"})}var z=function(e){!function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}});r&&R(e,r)}(t,e);var r=G(t);function t(){D(this,t);var e;(e=r.apply(this,arguments)).state={isVisible:!e.props.spoiler}
;e.onReveal=function(){e.setState({isVisible:!0})};e.renderInlineMediaEmbed=function(){var r,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=e.props,l=i.spoiler,a=i.className;return(0,n.jsx)("div",{"aria-hidden":t,className:o()(E().inlineMediaEmbed,a,(r={},_(r,E().spoilerAttachment,l),_(r,E().hiddenSpoiler,t),_(r,E().justifyAuto,e.usesJustifiedAutoStyle()),r)),children:e.renderMedia(t)})};e.renderEmbedContent=function(){var r,t,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0],l=e.props,a=l.className,s=l.onSuppressEmbed,u=l.spoiler,d=e.renderAll(),c=d.provider,h=d.author,p=d.title,m=d.description,f=d.fields,b=d.thumbnail,y=d.media,g=d.footer;return(0,n.jsx)("article",{className:o()(a,E().embedFull,H().markup,(r={},_(r,E().hiddenSpoiler,i),_(r,E().spoilerEmbed,u),_(r,E().justifyAuto,e.usesJustifiedAutoStyle()),r)),"aria-hidden":i,style:{borderColor:e.getEmbedColor(i),maxWidth:e.getMaxWidth()},children:(0,n.jsx)("div",{className:E().gridContainer,children:(0,
n.jsxs)("div",{className:o()((t={},_(t,E().grid,!0),_(t,E().hasThumbnail,null!=b),t)),children:[null!=s?e.renderSuppressButton(s):null,c,h,p,m,f,y,b,g]})})})};return e}var i=t.prototype;i.renderProvider=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],r=this.props,t=r.embed.provider,i=r.renderLinkComponent;return null==t?null:(0,n.jsx)("div",{className:o()(E().embedProvider,E().embedMargin),children:null!=t.url?i({className:E().embedLink,href:t.url,tabIndex:e?0:-1,children:t.name,target:"_blank",rel:"noreferrer noopener"}):(0,n.jsx)("span",{children:t.name})})};i.renderAuthor=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],r=this.props,t=r.embed.author,i=r.renderLinkComponent;return null==t?null:(0,n.jsxs)("div",{className:o()(E().embedAuthor,E().embedMargin),children:[null!=t.iconProxyURL?(0,n.jsx)("img",{alt:"",className:E().embedAuthorIcon,src:t.iconProxyURL}):null,null!=t.url?i({className:E().embedAuthorNameLink,href:t.url,
tabIndex:e?0:-1,children:t.name,target:"_blank",rel:"noreferrer noopener"}):(0,n.jsx)("span",{className:E().embedAuthorName,children:t.name})]})};i.renderTitle=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],r=this.props,t=r.embed,i=r.renderLinkComponent,l=r.renderTitle,a=t.rawTitle,s=t.url;return null==a?null:(0,n.jsx)("div",{className:o()(E().embedTitle,E().embedMargin),children:null!=s?i({className:E().embedTitleLink,href:s,tabIndex:e?0:-1,children:l(t,a),target:"_blank",rel:"noreferrer noopener"}):l(t,a)})};i.renderDescription=function(){var e=this.props,r=e.embed,t=e.renderDescription,i=r.rawDescription;return null==i?null:(0,n.jsx)("div",{className:o()(E().embedDescription,E().embedMargin),children:t(r,i)})};i.renderThumbnail=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],r=this.props,t=r.embed.thumbnail,i=r.maxThumbnailWidth,l=r.maxThumbnailHeight,o=r.renderImageComponent,a=r.autoPlayGif;return null==t?null:(0,
n.jsx)(P.G.Consumer,{children:function(r){var n=r.disableAnimations;return o({containerClassName:E().embedThumbnail,src:(0,C.q)(t),original:t.url,width:t.width,height:t.height,maxWidth:i,maxHeight:l,shouldLink:e,autoPlay:a&&!n})}})};i.renderFields=function(){var e=this,r=this.props.embed,t=r.fields;if(null==t||0===t.length)return null;var i=[],l=null;t.forEach((function(t){var n=t.rawName,o=t.rawValue,a=t.inline;if(!a&&null!=l){i.push(l);l=null}null==l&&(l=[]);l.push([e.props.renderTitle(r,n),e.props.renderDescription(r,o)]);if(3===l.length||!a){i.push(l);l=null}}));null!=l&&i.push(l);return(0,n.jsx)("div",{className:E().embedFields,children:i.map((function(e,r){var t=e.length;return e.map((function(e,i){var l,o,a,s,u=B(e,2),d=u[0],c=u[1];return(0,n.jsxs)("div",{className:E().embedField,style:{gridColumn:(l=i,o=t,a=12/o,s=l*a,"".concat(s+1," / ").concat(s+a+1))},children:[(0,n.jsx)("div",{className:E().embedFieldName,children:d}),(0,n.jsx)("div",{className:E().embedFieldValue,
children:c})]},"".concat(r,"-").concat(i))}))}))})};i.renderImages=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.hiddenSpoiler,t=void 0!==r&&r,i=e.isVisible,l=void 0===i||i,o=this,a=this.props,s=a.embed,u=a.maxMediaHeight;if(null==s.images)return null;var d=B(s.images.map((function(e){return o.renderImage({hiddenSpoiler:t,isVisible:l,image:e,isGalleryImage:!0,allImages:s.images})})),4),c=d[0],h=d[1],p=d[2],m=d[3];return null==c&&null==h&&null==p&&null==m?null:(0,n.jsxs)("div",{className:E().embedGalleryImagesWrapper,style:{height:u},children:[(0,n.jsxs)("div",{className:E().embedGallerySide,children:[c,null!=m&&p]}),(0,n.jsxs)("div",{className:E().embedGallerySide,children:[h,null==m&&null!=p&&p,null!=m&&m]})]})};i.renderImage=function(){
var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.hiddenSpoiler,t=void 0!==r&&r,i=e.isVisible,l=void 0===i||i,a=e.image,s=e.isGalleryImage,u=void 0!==s&&s,d=e.alt,c=void 0===d?f.Z.Messages.IMAGE:d,p=e.allImages,m=void 0===p?null:p,b=this.props,y=b.maxMediaWidth,g=b.maxMediaHeight,v=b.renderImageComponent,x=b.className,j=b.autoPlayGif;if(null==a)return null;var O,S=(0,C.q)(a),N=null==m?{}:(0,I.Cx)(m.map(I.nP)),M=w.ZP.isAnimated({src:(0,C.q)(a),original:a.url,animated:!1}),k={containerClassName:o()(x,(O={},_(O,E().embedMedia,!u),_(O,E().embedImage,!u),_(O,E().galleryImage,u),O)),imageContainerClassName:u?E().galleryImageContainer:void 0,imageClassName:u?E().embedGalleryImageElement:void 0,src:(0,C.q)(a),alt:c,responsive:!0,limitResponsiveWidth:!u,width:a.width,height:a.height,maxWidth:y,maxHeight:g,original:a.url,shouldLink:l,disableAltTextDisplay:!0,hiddenSpoilers:t};S in N&&(k.onClick=N[S]);return(0,n.jsx)(h.h.Consumer,{children:function(e){return(0,
n.jsx)(P.G.Consumer,{children:function(r){var n=r.disableAnimations;return v(V(T({},k),{autoPlay:j&&!n&&!t,renderAccessory:M?e:null}))}},a.url)}})};i.renderVideo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.gifv,t=void 0!==r&&r,i=e.isVisible,l=void 0===i||i,o=e.hiddenSpoiler,a=void 0!==o&&o,s=this.props,u=s.embed,d=u.url,c=u.thumbnail,h=u.video,p=s.maxMediaWidth,m=s.maxMediaHeight,f=s.renderVideoComponent,b=s.renderImageComponent,y=s.renderLinkComponent,g=s.allowFullScreen,v=s.autoPlayGif;return null==d||null==c?null:t?null==h?null:(0,n.jsx)(P.G.Consumer,{children:function(e){var r=e.disableAnimations;return(0,n.jsx)(U,{className:E().embedMedia,href:d,thumbnail:c,video:h,maxWidth:p,maxHeight:m,responsive:!0,autoPlay:!a&&v&&!r&&l,renderImageComponent:b,playable:l,hiddenSpoilers:a})}}):(0,n.jsx)(Z,{className:E().embedMedia,href:d,allowFullScreen:g,thumbnail:c,video:h,maxWidth:p,maxHeight:m,responsive:!0,renderImageComponent:b,renderVideoComponent:f,
renderLinkComponent:y,playable:l&&!a})};i.renderFooter=function(){var e=this.props.embed,r=e.footer,t=e.timestamp;if(null!=r){var i=null!=r.iconProxyURL&&""!==r.iconProxyURL?r.iconProxyURL:r.iconURL;return(0,n.jsxs)("div",{className:o()(E().embedFooter,E().embedMargin),children:[null!=i?(0,n.jsx)("img",{alt:"",className:E().embedFooterIcon,src:i}):null,(0,n.jsxs)("span",{className:E().embedFooterText,children:[r.text,null!=r.text&&null!=t?(0,n.jsx)("span",{className:E().embedFooterSeparator,children:"â€¢"}):null,null!=t?(0,u.Y4)(t):null]})]})}if(null!=t)return(0,n.jsx)("div",{className:o()(E().embedFooter,E().embedMargin),children:(0,n.jsx)("span",{className:E().embedFooterText,children:(0,u.Y4)(t)})})};i.renderMedia=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=this.props.embed,t=this.state.isVisible;switch(r.type){case m.hBH.GIFV:return this.renderVideo({gifv:!0,hiddenSpoiler:e,isVisible:t});case m.hBH.VIDEO:default:return null!=r.video?this.renderVideo({
gifv:!1,hiddenSpoiler:e,isVisible:t}):null!=r.images?this.renderImages({hiddenSpoiler:e,isVisible:t}):this.renderImage({hiddenSpoiler:e,isVisible:t,image:r.image,alt:r.rawTitle})}};i.renderAll=function(){var e,r=this.props,t=r.embed,n=r.hideMedia,i=this.state.isVisible,l=this.renderProvider(i),o=this.renderAuthor(i),a=this.renderTitle(i);switch(t.type){case m.hBH.IMAGE:case m.hBH.VIDEO:case m.hBH.GIFV:break;default:e=this.renderDescription()}var s,u=this.renderFields();n||(s=this.renderMedia(!i));var d=this.renderFooter(),c=null==s;t.type===m.hBH.RICH&&(c=null==t.video);return{provider:l,author:o,title:a,description:e,thumbnail:!n&&c?this.renderThumbnail(i):null,fields:u,media:s,footer:d}};i.getMaxWidth=function(){var e=this.props,r=e.maxMediaWidth,t=e.maxMediaHeight,n=e.embed,i=n.image,l=n.images,o=n.video,a=n.type,s=null!=i?i:o;if(null!=s){var u=(0,c.Tj)({width:s.width,height:s.height,maxWidth:r,maxHeight:t}).width
;return a===m.hBH.VIDEO||u>=300?u+32:a===m.hBH.RICH&&void 0!==l?520:void 0}};i.isInline=function(){var e=this.props,r=e.hideMedia,t=e.embed;return!r&&(0,d.dY)(t)};i.renderSuppressButton=function(e){return(0,n.jsx)(s.P3,{focusProps:{offset:{bottom:4}},className:E().embedSuppressButton,onClick:e,"aria-label":f.Z.Messages.SUPPRESS_ALL_EMBEDS,children:(0,n.jsx)(S.Z,{width:16,height:16})})};i.usesJustifiedAutoStyle=function(){var e=this.props.embed;return e.type===m.hBH.IMAGE||e.type===m.hBH.VIDEO||e.type===m.hBH.GIFV||(e.type===m.hBH.RICH||e.type===m.hBH.ARTICLE)&&(null!=e.video||null!=e.image)};i.getEmbedColor=function(e){var r=this.props.embed.color;return null!=r&&"#ffffff"===r.toLowerCase()||e?void 0:r};i.getSpoilerStyles=function(e){var r=this.props,t=r.maxMediaWidth,n=r.maxMediaHeight,i=r.embed,l=i.image,o=i.images,a=i.video,s=i.type;if(this.usesJustifiedAutoStyle()){var u=e?void 0:this.getMaxWidth();if(void 0===u&&void 0===o&&s!==m.hBH.RICH){var d=null!=l?l:a;if(void 0!==d){u=(0,
c.Tj)({width:d.width,height:d.height,maxWidth:t,maxHeight:n}).width}}return{maxWidth:void 0===u?"max-content":u,justifySelf:"auto"}}};i.render=function(){var e=this.props,r=e.embed,t=e.spoiler,i=e.className;return null!=r.provider&&"Spotify"===r.provider.name?(0,n.jsx)(q,{embed:r,className:i}):this.isInline()?t?(0,n.jsx)(j.Z,{type:j.Z.Types.ATTACHMENT,onReveal:this.onReveal,containerStyles:this.getSpoilerStyles(!0),children:this.renderInlineMediaEmbed}):this.renderInlineMediaEmbed():t?(0,n.jsx)(j.Z,{type:j.Z.Types.EMBED,onReveal:this.onReveal,containerStyles:this.getSpoilerStyles(!1),children:this.renderEmbedContent}):this.renderEmbedContent()};return t}(i.PureComponent);z.defaultProps={hideMedia:!1,allowFullScreen:!0,maxThumbnailWidth:80,maxThumbnailHeight:80,maxMediaWidth:400,maxMediaHeight:300,spoiler:!1}},142092:(e,r,t)=>{t.d(r,{h:()=>n});var n=t(667294).createContext((function(){return null}))},110995:(e,r,t)=>{t.d(r,{q:()=>n});function n(e){var r=e.proxyURL,t=e.url
;return null!=r&&""!==r?r:t}},976102:(e,r,t)=>{t.d(r,{j9:()=>D,Nh:()=>A,nP:()=>H,Cx:()=>_});var n=t(785893),i=(t(667294),t(388721)),l=t(220529),o=t(185253),a=t(932847),s=t(461061);function u(e,r,t){r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t;return e}function d(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))));n.forEach((function(r){u(e,r,t[r])}))}return e}function c(e,r){r=null!=r?r:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):function(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})));t.push.apply(t,n)}return t
}(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}));return e}var h={guildId:void 0,channelId:void 0,channelType:void 0,viewerSwipes:0,thumbnailSwipes:0,selectedItemChanges:0,numMediaItems:0},p=(0,o.Z)((function(){return h}));function m(){var e=p.getState();a.default.track(s.rMx.MEDIA_VIEWER_SESSION_COMPLETED,{guild_id:e.guildId,channel_id:e.channelId,channel_type:e.channelType,number_viewer_swipes:e.viewerSwipes,number_thumbnail_swipes:e.thumbnailSwipes,number_selected_item_changes:e.selectedItemChanges,number_media_items:e.numMediaItems});p.setState(d({},h))}function f(){p.setState((function(e){return{selectedItemChanges:e.selectedItemChanges+1}}))}var b=t(877061),y=t(110995),g=t(897576),v=t(6349),x=t(466868),w=t.n(x);function j(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function O(e,r,t,n,i,l,o){try{var a=e[l](o),s=a.value}catch(e){t(e);return}a.done?r(s):Promise.resolve(s).then(n,i)}
function P(e){return function(){var r=this,t=arguments;return new Promise((function(n,i){var l=e.apply(r,t);function o(e){O(l,n,i,o,a,"next",e)}function a(e){O(l,n,i,o,a,"throw",e)}o(void 0)}))}}function S(e,r,t){r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t;return e}function C(){C=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e};return C.apply(this,arguments)}function I(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))));n.forEach((function(r){S(e,r,t[r])}))}return e}function N(e,r){r=null!=r?r:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):function(e,r){
var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})));t.push.apply(t,n)}return t}(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}));return e}function M(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,i,l=[],o=!0,a=!1;try{for(t=t.call(e);!(o=(n=t.next()).done);o=!0){l.push(n.value);if(r&&l.length===r)break}}catch(e){a=!0;i=e}finally{try{o||null==t.return||t.return()}finally{if(a)throw i}}return l}}(e,r)||function(e,r){if(!e)return;if("string"==typeof e)return j(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t)
;if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return j(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var E=function(e,r){var t,n,i,l,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return l={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function a(l){return function(a){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(i=2&l[0]?n.return:l[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,l[1])).done)return i;(n=0,i)&&(l=[2&l[0],i.value]);switch(l[0]){case 0:case 1:i=l;break;case 4:o.label++;return{value:l[1],done:!1};case 5:o.label++;n=l[1];l=[0];continue;case 7:l=o.ops.pop();o.trys.pop();continue;default:if(!(i=o.trys,
i=i.length>0&&i[i.length-1])&&(6===l[0]||2===l[0])){o=0;continue}if(3===l[0]&&(!i||l[1]>i[0]&&l[1]<i[3])){o.label=l[1];break}if(6===l[0]&&o.label<i[1]){o.label=i[1];i=l;break}if(i&&o.label<i[2]){o.label=i[2];o.ops.push(l);break}i[2]&&o.ops.pop();o.trys.pop();continue}l=r.call(e,o)}catch(e){l=[6,e];n=0}finally{t=i=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,a])}}};function k(e,r,l,o){e.preventDefault();(0,i.k)(e.currentTarget)&&e.currentTarget.blur();if(null!=o){a.default.track(s.rMx.OPEN_MODAL,I({type:s.jXE.MEDIA_VIEWER},o),{throttlePercent:.01});u=o.guild_id,b=o.channel_id,y=o.channel_type,v=r.length,p.setState(c(d({},h),{guildId:u,channelId:b,channelType:y,numMediaItems:v}))}var u,b,y,v;(0,g.ZD)(P((function(){var e,i;return E(this,(function(a){switch(a.label){case 0:return[4,Promise.all([t.e(40532),t.e(37990),t.e(35666),t.e(54327),t.e(29178),t.e(51912),t.e(30620),t.e(95971)]).then(t.bind(t,895971))];case 1:e=a.sent(),i=e.default;return[2,function(e){
var t=C({},e);return(0,n.jsx)(i,N(I({},t),{useCustomArrows:!0,onIndexChange:null!=o?f:void 0,className:w().zoomedCarouselModalRoot,items:r,modalCarouselClassName:w().modalCarouselWrapper,startingIndex:l}))}]}}))})),{onCloseCallback:null!=o?m:void 0})}function H(e){var r=e.width,t=e.height,i=(0,y.q)(e);return{component:(0,n.jsx)(b.y,{width:r,height:t,original:e.url,renderLinkComponent:function(e){return(0,n.jsx)(l.Z,I({},e))},src:i}),width:r,height:t,src:i}}function A(e){if(v.IQ.test(e.filename)){var r,t,i=null!==(r=e.width)&&void 0!==r?r:0,o=null!==(t=e.height)&&void 0!==t?t:0,a=(0,y.q)({proxyURL:e.proxy_url,url:e.url});return{component:(0,n.jsx)(b.y,{width:i,height:o,original:e.url,renderLinkComponent:function(e){return(0,n.jsx)(l.Z,I({},e))},src:a}),width:i,height:o,src:a}}return null}function D(e){var r=A(e);if(null!=r)return r;var t=function(e){if(v.XH.test(e.filename)){var r,t,i=null!==(r=e.width)&&void 0!==r?r:0,o=null!==(t=e.height)&&void 0!==t?t:0,a=(0,y.q)({
proxyURL:e.proxy_url,url:e.url});return{component:(0,n.jsx)(b.K,{width:i,height:o,poster:e.proxy_url+"?format=jpeg",naturalWidth:i,naturalHeight:o,renderLinkComponent:function(e){return(0,n.jsx)(l.Z,I({},e))},src:a,fileSize:e.size,fileName:e.filename}),width:i,height:o,src:a}}return null}(e);return null!=t?t:null}function _(e,r){var t={},n=!0,i=!1,l=void 0;try{for(var o,a=function(){var n=M(o.value,2),i=n[0],l=n[1];t[l.src]=function(t){return k(t,e,i,r)}},s=e.entries()[Symbol.iterator]();!(n=(o=s.next()).done);n=!0)a()}catch(e){i=!0;l=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw l}}return t}}}]);
//# sourceMappingURL=ab7115a135e701df9371.js.map