"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[16779],{96511:(e,n,r)=>{r.d(n,{Z:()=>P});var t=r(785893),i=r(667294),u=r(363010),l=r(481542),o=r(769672),a=r(881699),c=r(356002),s=r(631134),f=r(653772),d=r(940712),b=r(859023),Z=r(897576),p=r(461061),E=r(959797),g=r(35637),v=r.n(g);function h(e,n,r,t,i,u,l){try{var o=e[u](l),a=o.value}catch(e){r(e);return}o.done?n(a):Promise.resolve(a).then(t,i)}function O(e){return function(){var n=this,r=arguments;return new Promise((function(t,i){var u=e.apply(n,r);function l(e){h(u,t,i,l,o,"next",e)}function o(e){h(u,t,i,l,o,"throw",e)}l(void 0)}))}}function _(e,n,r){n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r;return e}function y(e,n){n=null!=n?n:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e)
;n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})));r.push.apply(r,t)}return r}(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}));return e}var S=function(e,n){var r,t,i,u,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return u={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function o(u){return function(o){return function(u){if(r)throw new TypeError("Generator is already executing.");for(;l;)try{if(r=1,t&&(i=2&u[0]?t.return:u[0]?t.throw||((i=t.return)&&i.call(t),0):t.next)&&!(i=i.call(t,u[1])).done)return i;(t=0,i)&&(u=[2&u[0],i.value]);switch(u[0]){case 0:case 1:i=u;break;case 4:l.label++;return{value:u[1],done:!1};case 5:l.label++;t=u[1];u=[0];continue;case 7:u=l.ops.pop();l.trys.pop();continue;default:if(!(i=l.trys,i=i.length>0&&i[i.length-1])&&(6===u[0]||2===u[0])){l=0;continue}
if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3])){l.label=u[1];break}if(6===u[0]&&l.label<i[1]){l.label=i[1];i=u;break}if(i&&l.label<i[2]){l.label=i[2];l.ops.push(u);break}i[2]&&l.ops.pop();l.trys.pop();continue}u=n.call(e,l)}catch(e){u=[6,e];t=0}finally{r=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,o])}}};function P(e,n,g,h,P){var m=f.Z.getGuild(e),M=s.default.getId(),j=(0,u.e7)([b.default],(function(){return b.default.getUser(n)}));(0,u.e7)([d.Z],(function(){return d.Z.getGuildVersion(e)}),[e]);var N=i.useMemo((function(){return _({},e,[n])}),[e,n]);(0,l.$)(N);var R=h===p.IlC.POPOUT,x=(0,a.Z)({guild:m,analyticsLocation:g});if(null==m||R)return null;var w=M===n&&(d.Z.can(p.Plq.CHANGE_NICKNAME,m)||d.Z.can(p.Plq.MANAGE_NICKNAMES,m)),A=M===n,C=d.Z.canManageUser(p.Plq.MANAGE_NICKNAMES,n,m);if(!(w||C||A))return null;if(null==j)return null;var U=m.hasFeature(p.oNc.HUB)?E.Z.Messages.HUB_EDIT_PROFILE:E.Z.Messages.CHANGE_IDENTITY,T=A?U:E.Z.Messages.CHANGE_NICKNAME;return(0,
t.jsx)(o.sN,{id:"change-nickname",label:(0,t.jsx)("div",{className:v().labelWrapper,children:(0,t.jsx)("span",{className:v().label,children:T})}),icon:P,action:function(){if(A){(0,c.Z)(j.id,j.getAvatarURL(e,80),{guildId:e});x()}else(0,Z.ZD)(O((function(){var n,i;return S(this,(function(u){switch(u.label){case 0:return[4,Promise.all([r.e(40532),r.e(74253)]).then(r.bind(r,374253))];case 1:n=u.sent(),i=n.default;return[2,function(n){return(0,t.jsx)(i,y(function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))));t.forEach((function(n){_(e,n,r[n])}))}return e}({},n),{guildId:e,user:j,analyticsSource:g}))}]}}))})))}})}},285406:(e,n,r)=>{r.d(n,{Z:()=>g});var t=r(785893),i=(r(667294),
r(363010)),u=r(769672),l=r(653772),o=r(859023),a=r(882687),c=r(655432),s=r(862770),f=r(975906),d=r(631134),b=r(379822),Z=r(673221);var p=r(738022),E=r(959797);function g(e){var n,r=(0,p.Z)(),g=null==r?void 0:r.id,v=null==r?void 0:r.guild_id,h=(0,i.e7)([l.Z],(function(){return l.Z.getGuild(v)}),[v]),O=(0,i.e7)([a.Z],(function(){return null!=g?a.Z.getVoiceStateForChannel(g,e.id):null}),[g,e.id]),_=(null===(n=o.default.getCurrentUser())||void 0===n?void 0:n.id)===e.id,y=function(){var e=(0,i.e7)([b.Z],(function(){return b.Z.getVoiceChannelId()})),n=(0,i.e7)([d.default],(function(){return d.default.getId()}));return(0,Z.ZP)(n,e)===Z.xO.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK}(),S=(0,i.e7)([f.ZP],(function(){return f.ZP.getPermissionsForUser(e.id,g)}),[g,e.id]),P=(0,s.B)(g);if(null==r||null==h||null==O)return null;if(S.speaker)return null;var m=function(){_?(0,c.RK)(r,!1):(0,c._0)(r,e.id)};return P?(0,t.jsx)(u.sN,{id:"invite-speaker",
label:_?E.Z.Messages.STAGE_CHANNEL_USER_SET_MYSELF_TO_SPEAKER:E.Z.Messages.STAGE_CHANNEL_USER_INVITE_TO_SPEAK,action:m}):y&&_?(0,t.jsx)(u.sN,{id:"invite-speaker",label:E.Z.Messages.STAGE_CHANNEL_USER_SET_MYSELF_TO_SPEAKER,action:m}):null}},16779:(e,n,r)=>{r.r(n);r.d(n,{default:()=>B});var t=r(785893),i=r(667294),u=r(281081),l=r(230931),o=r(454313),a=r(780921),c=r(251032),s=r(859169),f=r(41225),d=r(96511),b=r(769672),Z=r(285406),p=r(309138),E=r(33670),g=r(632603),v=r(686924),h=r(738545),O=r(815319),_=r(27872),y=r(343330),S=r(22614),P=r(112843),m=r(363010),M=r(481542),j=r(150680),N=r(682684),R=r(551821),x=r(356004),w=r(653772),A=r(940712),C=r(859023),U=r(897576),T=r(461061),I=r(959797);function k(e,n,r,t,i,u,l){try{var o=e[u](l),a=o.value}catch(e){r(e);return}o.done?n(a):Promise.resolve(a).then(t,i)}function D(e){return function(){var n=this,r=arguments;return new Promise((function(t,i){var u=e.apply(n,r);function l(e){k(u,t,i,l,o,"next",e)}function o(e){k(u,t,i,l,o,"throw",e)}l(void 0)
}))}}function G(e,n,r){n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r;return e}function H(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))));t.forEach((function(n){G(e,n,r[n])}))}return e}function K(e,n){n=null!=n?n:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})));r.push.apply(r,t)}return r}(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}));return e}var L=function(e,n){var r,t,i,u,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]
},trys:[],ops:[]};return u={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function o(u){return function(o){return function(u){if(r)throw new TypeError("Generator is already executing.");for(;l;)try{if(r=1,t&&(i=2&u[0]?t.return:u[0]?t.throw||((i=t.return)&&i.call(t),0):t.next)&&!(i=i.call(t,u[1])).done)return i;(t=0,i)&&(u=[2&u[0],i.value]);switch(u[0]){case 0:case 1:i=u;break;case 4:l.label++;return{value:u[1],done:!1};case 5:l.label++;t=u[1];u=[0];continue;case 7:u=l.ops.pop();l.trys.pop();continue;default:if(!(i=l.trys,i=i.length>0&&i[i.length-1])&&(6===u[0]||2===u[0])){l=0;continue}if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3])){l.label=u[1];break}if(6===u[0]&&l.label<i[1]){l.label=i[1];i=u;break}if(i&&l.label<i[2]){l.label=i[2];l.ops.push(u);break}i[2]&&l.ops.pop();l.trys.pop();continue}u=n.call(e,l)}catch(e){u=[6,e];t=0}finally{r=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,o])}}}
;var V=r(359286),F=r(974230),q=r(967649);const B=(0,o.Z)((0,l.Z)((function(e){var n=e.user,l=e.guildId,o=e.channelId,s=e.context,k=e.onSelect,B=e.onHeightUpdate,Y=(0,V.Z)(n.id,l),X=(0,y.Z)(n,l,s),W=(0,S.Z)(n.id,s),$=(0,q.Z)(n.id),z=(0,O.Z)(n,s),Q=(0,g.Z)({user:n,guildId:l,context:s}),J=(0,E.Z)(n),ee=(0,d.Z)(l,n.id,{page:T.ZY5.GUILD_CHANNEL,section:T.jXE.CHAT_USERNAME,object:T.qAy.CONTEXT_MENU_ITEM},s),ne=(0,_.Z)(n,l),re=(0,c.Z)(null,n),te=(0,p.Z)(n),ie=(0,h.Z)(n),ue=function(e,n,u){var l=i.useMemo((function(){return G({},n,[e.id])}),[n,e.id]);(0,M.$)(l);(0,m.e7)([A.Z],(function(){return A.Z.getGuildVersion(n)}),[n]);var o=(0,m.e7)([x.Z],(function(){return x.Z.getChannel(u)})),a=(0,m.e7)([w.Z],(function(){return w.Z.getGuild(n)}),[n]),c=(0,m.e7)([C.default],(function(){return C.default.getCurrentUser()})),s=(0,j.Z)(o,"Context Menu"),f=(0,R.Xb)(o);if((null==c?void 0:c.id)===e.id)return[s];if(null==a||null==o||null==c)return[];var d=f||o.ownerId===c.id&&o.type===T.d4z.PRIVATE_THREAD
;return[d?(0,t.jsx)(b.sN,{id:"remove",label:o.isForumPost()?I.Z.Messages.REMOVE_USER_FROM_FORUM_POST.format({user:e.username}):I.Z.Messages.REMOVE_USER_FROM_THREAD.format({user:e.username}),color:"danger",action:function(){return N.Z.removeMember(o,e.id,"Context Menu")}}):null,A.Z.canManageUser(T.Plq.KICK_MEMBERS,e,a)?(0,t.jsx)(b.sN,{id:"kick",label:d?I.Z.Messages.KICK_USER_FROM_SERVER.format({user:e.username}):I.Z.Messages.KICK_USER.format({user:e.username}),color:"danger",action:function(){return(0,U.ZD)(D((function(){var n,i;return L(this,(function(u){switch(u.label){case 0:return[4,Promise.all([r.e(40532),r.e(87646)]).then(r.bind(r,687646))];case 1:n=u.sent(),i=n.default;return[2,function(n){return(0,t.jsx)(i,K(H({},n),{guildId:a.id,user:e}))}]}}))})))}}):null,A.Z.canManageUser(T.Plq.BAN_MEMBERS,e,a)?(0,t.jsx)(b.sN,{id:"ban",label:d?I.Z.Messages.BAN_USER_FROM_SERVER.format({user:e.username}):I.Z.Messages.BAN_USER.format({user:e.username}),color:"danger",action:function(){return(0,
U.ZD)(D((function(){var n,i;return L(this,(function(u){switch(u.label){case 0:return[4,Promise.all([r.e(40532),r.e(14325)]).then(r.bind(r,314325))];case 1:n=u.sent(),i=n.default;return[2,function(n){return(0,t.jsx)(i,K(H({},n),{guildId:a.id,user:e}))}]}}))})))}}):null]}(n,l,o),le=(0,F.Z)(n.id,l),oe=(0,P.Z)(n,l),ae=(0,f.Z)(n.id),ce=(0,Z.Z)(n),se=(0,v.Z)(a.yU.USER,n.id,o,l,B),fe=n.isNonUserBot();return(0,t.jsxs)(b.ZP,{navId:"user-context",onClose:u.Zy,"aria-label":I.Z.Messages.USER_ACTIONS_MENU_LABEL,onSelect:k,children:[!fe&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(b.kS,{children:ce}),(0,t.jsxs)(b.kS,{children:[Y,X,W,z,Q,J,$]}),(0,t.jsx)(b.kS,{children:re}),(0,t.jsxs)(b.kS,{children:[ee,se,ne,te,ie]}),(0,t.jsx)(b.kS,{children:ue}),(0,t.jsxs)(b.kS,{children:[le,oe]})]}),(0,t.jsx)(b.kS,{children:ae})]})}),{object:T.qAy.CONTEXT_MENU}),[s.Z.CONTEXT_MENU,s.Z.THREAD_USER_MENU])},22614:(e,n,r)=>{r.d(n,{Z:()=>s});var t=r(785893),i=(r(667294),
r(642400)),u=r(579220),l=r(769672),o=r(631134),a=r(461061),c=r(959797);function s(e,n){var r=o.default.getId(),s=n===a.IlC.POPOUT;return r===e||s?null:(0,t.jsx)(l.sN,{id:"message-user",label:c.Z.Messages.USER_POPOUT_MESSAGE,action:function(){i.Z.openPrivateChannel(e);(0,u.xf)()}})}},112843:(e,n,r)=>{r.d(n,{Z:()=>_});var t=r(785893),i=(r(667294),r(363010)),u=r(354290),l=r(804626),o=r(53211),a=r(769672),c=r(631134),s=r(356004),f=r(1812),d=r(653772),b=r(940712),Z=r(105405),p=r(859023),E=r(882687),g=r(268333),v=r(890889),h=r(461061),O=r(959797);function _(e,n){var r=(0,i.e7)([f.ZP],(function(){return f.ZP.getChannels(n)[f.Zb]}),[n]),_=(0,i.e7)([E.Z,s.Z],(function(){var r=E.Z.getUserVoiceChannelId(n,e.id);return s.Z.getChannel(r)}),[n,e.id]);if(null==_)return null;var y=e.id===c.default.getId();if(!y&&!b.Z.can(h.Plq.MOVE_MEMBERS,_))return null;var S=r.filter((function(n){var r=n.channel;return r.id!==_.id&&(y?b.Z.can(h.Plq.CONNECT,r)&&!(0,
g.rY)(r,E.Z,d.Z):b.Z.can(h.Plq.MOVE_MEMBERS,r)&&(b.Z.can(h.Plq.CONNECT,r)||v.ZP.can({permission:h.Plq.CONNECT,user:e,context:r}))&&!(0,g.rY)(r,E.Z,d.Z))}));return 0===S.length?null:(0,t.jsx)(a.sN,{id:"voice-move",label:O.Z.Messages.MOVE_TO,children:S.map((function(r){var i=r.channel;return(0,t.jsx)(a.sN,{id:i.id,action:function(){return function(r){e.id===c.default.getId()?l.default.selectVoiceChannel(r.id):u.Z.setChannel(n,e.id,r.id)}(i)},label:(0,o.F6)(i,p.default,Z.Z)},i.id)}))})}},974230:(e,n,r)=>{r.d(n,{Z:()=>v});var t=r(785893),i=(r(667294),r(316921)),u=r(363010),l=r(730189),o=r(7046),a=r(769672),c=r(212218),s=r(653772),f=r(940712),d=r(153532),b=r(461061),Z=r(959797),p=r(950677),E=r.n(p);function g(e,n){var r,u;return(0,t.jsxs)("div",{className:E().roleRow,children:["dot"===n?(0,t.jsx)(d.Z,{className:E().roleDot,color:null!==(r=e.colorString)&&void 0!==r?r:(0,i.Rf)(b.p6O),background:!1,tooltip:!1}):(0,t.jsx)(d.x,{className:E().roleDot,
color:null!==(u=e.colorString)&&void 0!==u?u:(0,i.Rf)(b.p6O)}),(0,t.jsx)("div",{children:e.name})]})}function v(e,n){var r=(0,u.e7)([s.Z],(function(){return s.Z.getGuild(n)}),[n]),i=(0,u.e7)([l.Z],(function(){return l.Z.roleStyle})),d=(0,u.cj)([c.ZP,f.Z],(function(){var t=c.ZP.getMember(n,e);return{userRoles:null!=t?t.roles:[],isGuildMember:null!=t,canManageRoles:null!=r&&f.Z.can(b.Plq.MANAGE_ROLES,r)}}),[e,n,r]),p=d.userRoles,E=d.isGuildMember,v=d.canManageRoles;if(__OVERLAY__)return null;if(null==p||null==r)return null;if(!E)return null;var h=f.Z.getHighestRole(r),O=Object.values(r.roles).filter((function(e){return e.id!==r.id})),_=v?O.map((function(u){var l=u.managed||!f.Z.isRoleHigher(r,h,u),c=-1!==p.indexOf(u.id);return l&&!c?null:(0,t.jsx)(a.S8,{id:u.id,label:function(){return g(u,i)},disabled:l,action:function(){return function(r){p.includes(r.id)?o.Z.updateMemberRoles(n,e,p.filter((function(e){return e!==r.id})),[],[r.id]):o.Z.updateMemberRoles(n,e,p.concat([r.id]),[r.id],[])
}(u)},checked:c},u.id)})):O.filter((function(e){return-1!==p.indexOf(e.id)})).map((function(e){return e.id===r.id?null:(0,t.jsx)(a.sN,{id:e.id,label:function(){return g(e,i)}},e.id)}));return 0===_.length?null:(0,t.jsx)(a.sN,{id:"roles",label:Z.Z.Messages.ROLES_LIST.format({numRoles:3}),children:_})}}}]);
//# sourceMappingURL=35ee6647ee970bb565f5.js.map