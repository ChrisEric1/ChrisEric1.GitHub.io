"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[37464],{287194:(e,n,t)=>{t.d(n,{Z:()=>c});var r=t(785893),l=t(667294),o=t(441394),i=t(570187),a=t.n(i);function u(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function s(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,l,o=[],i=!0,a=!1;try{for(t=t.call(e);!(i=(r=t.next()).done);i=!0){o.push(r.value);if(n&&o.length===n)break}}catch(e){a=!0;l=e}finally{try{i||null==t.return||t.return()}finally{if(a)throw l}}return o}}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return u(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return u(e,n)}(e,n)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e){var n=e.hasSetEmoji,t=e.onClick,i=e.children,u=s(l.useState(!1),2),c=u[0],d=u[1];return(0,r.jsxs)("div",{className:a().container,onMouseEnter:function(){d(!!n)},onMouseLeave:function(){d(!1)},children:[i,n&&c&&(0,r.jsx)(o.Z,{onClick:t,className:a().removeButton})]})}},829054:(e,n,t)=>{t.d(n,{Z:()=>f});var r=t(785893),l=(t(667294),t(945460)),o=t(77413),i=t(748308),a=t(287194),u=t(847197),s=t(2590);function c(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t;return e}function d(e,n){n=null!=n?n:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){
return Object.getOwnPropertyDescriptor(e,n).enumerable})));t.push.apply(t,r)}return t}(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}));return e}function f(e){var n=e.className,t=e.emojiClassName,f=e.emoji,v=e.setEmoji,m=e.channel,p=function(e){return function(n,t){if(null!=n){if(null==n.id){var r;v({name:null!==(r=n.optionallyDiverseSequence)&&void 0!==r?r:""})}else{var l;v({id:n.id,name:null!==(l=n.originalName)&&void 0!==l?l:n.name,animated:n.animated})}t&&e()}}},h=null==f||null==f.name?null:function(){var e;return(0,r.jsx)(o.Z,{className:t,animated:null!==(e=f.animated)&&void 0!==e&&e,emojiId:f.id,emojiName:f.name})};return(0,r.jsx)(a.Z,{hasSetEmoji:null!=f&&null!=f.name,onClick:function(){v(null)},children:(0,r.jsx)(l.Popout,{position:"bottom",renderPopout:function(e){var n=e.closePopout;return(0,r.jsx)(i.Z,{closePopout:n,onSelectEmoji:p(n),pickerIntention:s.HzX.COMMUNITY_CONTENT,channel:m})},children:function(e,t){var l=t.isShown
;return(0,r.jsx)(u.Z,d(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))));r.forEach((function(n){c(e,n,t[n])}))}return e}({},e),{tabIndex:0,active:l,className:n,renderButtonContents:h}))}})})}},237464:(e,n,t)=>{t.r(n);t.d(n,{default:()=>C});var r=t(785893),l=t(667294),o=t(824390),i=t.n(o),a=t(318715),u=t(945460),s=t(239813),c=t(185161),d=t(61209),f=t(5544),v=t(567403),m=t(443812),p=t(72580),h=t(563135),O=t(829054),N=t(122139),I=t(2590),j=t(473708),y=t(937306),b=t.n(y);function _(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function g(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t;return e}function E(e,n){n=null!=n?n:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})));t.push.apply(t,r)}return t}(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}));return e}function T(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,l,o=[],i=!0,a=!1;try{for(t=t.call(e);!(i=(r=t.next()).done);i=!0){o.push(r.value);if(n&&o.length===n)break}}catch(e){a=!0;l=e}finally{try{i||null==t.return||t.return()}finally{if(a)throw l}}return o}}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return _(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name)
;if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return _(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,n){switch(e){case c.oi.VIEW:return h.ZP.canEveryoneRole(I.Plq.VIEW_CHANNEL,n);case c.oi.CHAT:return I.TPd.GUILD_THREADS_ONLY.has(n.type)&&h.ZP.canEveryoneRole(I.Plq.SEND_MESSAGES_IN_THREADS,n)||h.ZP.canEveryoneRole(I.Plq.SEND_MESSAGES,n);default:return!1}}function A(e,n){return null==n?e:e.map((function(e){return E(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))));r.forEach((function(n){g(e,n,t[n])}))}return e}({},e),{disabled:!S(e.value,n)
})}))}function x(e){var n={channelId:[],title:[],description:[],actionType:[],emoji:[]},t=d.Z.getChannel(e.channelId);(null==e.title||e.title.length<c.Wz)&&n.title.push(j.Z.Messages.NEW_MEMBER_ACTION_VALIDATION_ERROR_TITLE_REQUIRED.format({minLength:c.Wz}));null==e.actionType||null==t||S(e.actionType,t)||n.actionType.push(function(e){switch(e){case c.oi.VIEW:return j.Z.Messages.NEW_MEMBER_ACTION_VALIDATION_ERROR_TYPE_VIEW_INVALID_FOR_CHANNEL;case c.oi.CHAT:return j.Z.Messages.NEW_MEMBER_ACTION_VALIDATION_ERROR_TYPE_CHAT_INVALID_FOR_CHANNEL;default:(0,p.vE)(e)}}(e.actionType));return n}function C(e){var n,t,o,p=e.transitionState,h=e.onClose,y=e.guildId,_=e.action,g=e.onSave,E=e.onDelete,S=(0,m.Dt)(),C=T(l.useState(function(e){if(null==e)return null;var n=d.Z.getChannel(e.channelId);return null==n?null:{value:e.channelId,label:n.name}}(_)),2),D=C[0],L=C[1],M=(0,a.ZP)([d.Z],(function(){return d.Z.getChannel(null==D?void 0:D.value)
})),P=!0===(null==M?void 0:M.isMediaChannel()),R=l.useMemo((function(){return[{value:c.oi.VIEW,name:j.Z.Messages.GUILD_SETTINGS_ONBOARDING_ACTION_VIEW},{value:c.oi.CHAT,name:(null==M?void 0:M.type)===I.d4z.GUILD_FORUM?P?j.Z.Messages.GUILD_SETTINGS_ONBOARDING_ACTION_TALK_IN_MEDIA_CHANNEL:j.Z.Messages.GUILD_SETTINGS_ONBOARDING_ACTION_TALK_IN_FORUM:j.Z.Messages.GUILD_SETTINGS_ONBOARDING_ACTION_TALK}]}),[null==M?void 0:M.type,P]),G=T(l.useState({channelId:[],title:[],description:[],actionType:[],emoji:[]}),2),Z=G[0],w=G[1],k=T(l.useState(null!==(n=null==_?void 0:_.title)&&void 0!==n?n:""),2),B=k[0],U=k[1],H=T(l.useState(function(e,n){return null==n?null:null!==(t=e.find((function(e){return e.value===n.actionType})))&&void 0!==t?t:null;var t}(R,_)),2),V=H[0],W=H[1],z=T(l.useState(null!==(t=null==_?void 0:_.emoji)&&void 0!==t?t:null),2),F=z[0],K=z[1],Y=null==B||0===B.length||null==V||null==D,q=Object.values(Z).flat().length>0,X=l.useCallback((function(){if(!(null==D||null==V||B.length<=0)){
var e={channelId:D.value,title:B,description:"",actionType:V.value,emoji:null!=F?F:void 0};g(e);h()}}),[g,h,B,V,D,F]),J=l.useCallback((function(){null==E||E();h()}),[E,h]),Q=l.useCallback((function(e){U(e);w(x({channelId:null==D?void 0:D.value,title:e,description:"",actionType:null==V?void 0:V.value,emoji:null!=F?F:void 0}))}),[U,w,D,V,F]),$=l.useCallback((function(e){L(e);w(x({channelId:null==e?void 0:e.value,title:B,description:"",actionType:null==V?void 0:V.value,emoji:null!=F?F:void 0}))}),[L,w,B,V,F]),ee=l.useCallback((function(e){K(e);w(x({channelId:null==D?void 0:D.value,title:B,description:"",actionType:null==V?void 0:V.value,emoji:null!=e?e:void 0}))}),[K,w,D,B,V]),ne=l.useCallback((function(e){W(e);w(x({channelId:null==D?void 0:D.value,title:B,description:"",actionType:null==e?void 0:e.value,emoji:null!=F?F:void 0}))}),[W,w,D,B,F]),te=l.useCallback((function(e){var n=f.ZP.getSelectableChannels(y).filter((function(n){return(0,c.kb)(n.channel)&&i()(e,n.channel.name)
})).map((function(e){return{value:e.channel.id,label:e.channel.name}}));return Promise.resolve(n)}),[y]),re=l.useCallback((function(e){if(null==e||null==y)return null;var n=d.Z.getChannel(e.value),t=v.Z.getGuild(y);if(null==n||null==t)return null;var l=(0,s.KS)(n,t);return null==l?null:(0,r.jsx)(l,{width:16,height:16,className:b().channelIcon})}),[y]);return(0,r.jsxs)(u.ModalRoot,{transitionState:p,"aria-labelledby":S,children:[(0,r.jsxs)("div",{className:b().container,children:[(0,r.jsx)(u.ModalCloseButton,{className:b().closeButton,onClick:h}),(0,r.jsxs)("div",{className:b().formGroup,children:[(0,r.jsxs)(u.Heading,{variant:"heading-md/semibold",color:"header-primary",children:[j.Z.Messages.GUILD_SETTINGS_ONBOARDING_ACTION_TITLE,(0,r.jsx)(N.Z,{})]}),(0,r.jsx)(u.TextInput,{value:B,error:(null!==(o=null==B?void 0:B.length)&&void 0!==o?o:0)>0?Z.title.join(", "):null,onChange:Q,placeholder:j.Z.Messages.GUILD_SETTINGS_ONBOARDING_ACTION_TITLE_PLACEHOLDER,maxLength:c.Z3})]}),(0,
r.jsx)("div",{className:b().separator}),(0,r.jsxs)("div",{className:b().formGroup,children:[(0,r.jsxs)(u.Heading,{variant:"heading-md/semibold",color:"header-primary",children:[j.Z.Messages.GUILD_SETTINGS_ONBOARDING_ACTION_CHANNEL,(0,r.jsx)(N.Z,{})]}),(0,r.jsx)(u.SearchableSelect,{value:D,renderOptionPrefix:re,options:te,onChange:$}),(0,r.jsx)(u.Text,{variant:"text-xs/medium",color:"text-muted",children:j.Z.Messages.GUILD_SETTINGS_ONBOARDING_ACTION_CHANNEL_EXPLAINER})]}),(0,r.jsx)("div",{className:b().separator}),(0,r.jsxs)("div",{className:b().splitGroup,children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(u.Heading,{variant:"heading-md/semibold",color:"header-primary",children:j.Z.Messages.GUILD_SETTINGS_ONBOARDING_ACTION_EMOJI}),(0,r.jsx)(u.Text,{variant:"text-xs/medium",color:"text-muted",children:j.Z.Messages.GUILD_SETTINGS_ONBOARDING_ACTION_EMOJI_EXPLAINER})]}),(0,r.jsx)("div",{children:(0,r.jsx)(O.Z,{channel:M,emoji:F,setEmoji:ee})})]}),(0,r.jsx)("div",{className:b().separator}),(0,
r.jsxs)("div",{className:b().formGroup,children:[(0,r.jsxs)(u.Heading,{variant:"heading-md/semibold",color:"header-primary",children:[j.Z.Messages.GUILD_SETTINGS_ONBOARDING_ACTION_TYPE,(0,r.jsx)(N.Z,{})]}),(0,r.jsx)(u.RadioGroup,{withTransparentBackground:!0,size:u.RadioGroup.Sizes.NONE,value:null==V?void 0:V.value,onChange:ne,options:A(R,M)}),null!=V&&Z.actionType.length>0?Z.actionType.map((function(e){return(0,r.jsx)(u.Text,{variant:"text-xs/normal",color:"text-danger",children:e},e)})):null]})]}),(0,r.jsx)(u.ModalFooter,{children:(0,r.jsxs)("div",{className:b().footerButtons,children:[null!=_?(0,r.jsx)("div",{className:b().removeButton,children:(0,r.jsx)(u.Button,{size:u.Button.Sizes.SMALL,look:u.Button.Looks.LINK,color:u.Button.Colors.RED,onClick:J,children:j.Z.Messages.REMOVE})}):(0,r.jsx)("div",{}),(0,r.jsxs)("div",{className:b().rightButtons,children:[(0,r.jsx)(u.Button,{onClick:h,size:u.Button.Sizes.SMALL,look:u.Button.Looks.LINK,color:u.Button.Colors.PRIMARY,
children:j.Z.Messages.CANCEL}),(0,r.jsx)(u.Button,{disabled:Y||q,onClick:X,children:j.Z.Messages.SAVE})]})]})})]})}},122139:(e,n,t)=>{t.d(n,{Z:()=>u});var r=t(785893),l=(t(667294),t(945460)),o=t(473708),i=t(897790),a=t.n(i);function u(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.Text,{className:a().marker,tag:"span",variant:"text-md/semibold",color:"text-danger",children:"*"}),(0,r.jsx)(l.HiddenVisually,{children:o.Z.Messages.REQUIRED})]})}}}]);
//# sourceMappingURL=41b066aef67bf121b89f.js.map